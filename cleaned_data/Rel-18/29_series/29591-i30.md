# Foreword
This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
In the present document, certain modal verbs have the following meanings:
**shall** indicates a mandatory requirement to do something
**shall not** indicates an interdiction (prohibition) to do something
NOTE 1: The constructions \"shall\" and \"shall not\" are confined to the
context of normative provisions, and do not appear in Technical Reports.
NOTE 2: The constructions \"must\" and \"must not\" are not used as
substitutes for \"shall\" and \"shall not\". Their use is avoided insofar as
possible, and they are not used in a normative context except in a direct
citation from an external, referenced, non-3GPP document, or so as to maintain
continuity of style when extending or modifying the provisions of such a
referenced document.
**should** indicates a recommendation to do something
**should not** indicates a recommendation not to do something
**may** indicates permission to do something
**need not** indicates permission not to do something
NOTE 3: The construction \"may not\" is ambiguous and is not used in normative
elements. The unambiguous constructions \"might not\" or \"shall not\" are
used instead, depending upon the meaning intended.
**can** indicates that something is possible
**cannot** indicates that something is impossible
NOTE 4: The constructions \"can\" and \"cannot\" shall not to be used as
substitutes for \"may\" and \"need not\".
**will** indicates that something is certain or expected to happen as a result
of action taken by an agency the behaviour of which is outside the scope of
the present document
**will not** indicates that something is certain or expected not to happen as
a result of action taken by an agency the behaviour of which is outside the
scope of the present document
**might** indicates a likelihood that something will happen as a result of
action taken by some agency the behaviour of which is outside the scope of the
present document
**might not** indicates a likelihood that something will not happen as a
result of action taken by some agency the behaviour of which is outside the
scope of the present document
In addition:
**is** (or any other verb in the indicative mood) indicates a statement of
fact
**is not** (or any other negative verb in the indicative mood) indicates a
statement of fact
NOTE 5: The constructions \"is\" and \"is not\" do not indicate requirements.
# 1 Scope
The present document specifies the stage 3 protocol and data model for the
Nnef southbound Service Based Interface. It provides stage 3 protocol
definitions and message flows, and specifies the API for each service offered
by the Network Exposure Function (NEF).
The 5G System stage 2 architecture and procedures are specified in 3GPP TS
23.501 [2], 3GPP TS 23.502 [3] and 3GPP TS 23.288 [14].
The Technical Realization of the Service Based Architecture and the Principles
and Guidelines for Services Definition are specified in 3GPP TS 29.500 [4] and
3GPP TS 29.501 [5].
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".
[3] 3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".
[4] 3GPP TS 29.500: \"5G System; Technical Realization of Service Based
Architecture; Stage 3\".
[5] 3GPP TS 29.501: \"5G System; Principles and Guidelines for Services
Definition; Stage 3\".
[6] OpenAPI: \"OpenAPI Specification Version 3.0.0\",
https://spec.openapis.org/oas/v3.0.0.
[7] 3GPP TR 21.900: \"Technical Specification Group working methods\".
[8] 3GPP TS 33.501: \"Security architecture and procedures for 5G system\".
[9] IETF RFC 6749: \"The OAuth 2.0 Authorization Framework\".
[10] 3GPP TS 29.510: \"5G System; Network Function Repository Services; Stage
3\".
[11] IETF RFC 7540: \"Hypertext Transfer Protocol Version 2 (HTTP/2)\".
[12] IETF RFC 8259: \"The JavaScript Object Notation (JSON) Data Interchange
Format\".
[13] IETF RFC 7807: \"Problem Details for HTTP APIs\".
[14] 3GPP TS 23.288: \"Architecture enhancements for 5G System (5GS) to
support network data analytics services\".
[15] 3GPP TS 29.522: \"5G System; Network Exposure Function Northbound APIs;
Stage 3\".
[16] 3GPP TS 29.571: \"5G System; Common Data Types for Service Based
Interfaces; Stage 3\".
[17] 3GPP TS 29.520: \"5G System; Network Data Analytics Services; Stage 3\".
[18] 3GPP TS 29.517: \"5G System; Application Function Event Exposure Service;
Stage 3\".
[19] 3GPP TS 29.551: \"5G System; Packet Flow Description Management Service;
Stage 3\".
[20] 3GPP TS 29.541: \"5G System; Network Exposure (NE) function services for
Non-IP Data Delivery (NIDD) and Short Message Services (SMS); Stage 3\".
[21] 3GPP TS 29.554: \"5G System; Background Data Transfer Policy Control
Service; Stage 3\".
[22] 3GPP TS 29.523: \"5G System; Policy Control Event Exposure Service; Stage
3\".
[23] 3GPP TS 29.256: \"Uncrewed Aerial Systems Network Function (UAS-NF);
Aerial Management Services; Stage 3\".
[24] 3GPP TS 26.531: \"_Data Collection and Reporting; General Description and
Architecture_ \".
[25] 3GPP TS 26.501: \"5G Media Streaming (5GMS); General description and
architecture\".
[26] 3GPP TS 26.512: \"5G Media Streaming (5GMS); Protocols\".
[27] 3GPP TS 23.273: \"5G System (5GS) Location Services (LCS); Stage 2\".
[28] 3GPP TS 29.572: \"5G System; Location Management Services; Stage 3\".
[29] 3GPP TS 29.122: \"T8 reference point for northbound Application
Programming Interfaces (APIs)\".
[30] 3GPP TS 29.519: \"5G System; Usage of the Unified Data Repository service
for Policy Control Data, Application Data and Structured Data for Exposure;
Stage 3\".
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
## 3.2 Symbols
For the purposes of the present document, the following symbols apply:
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
5GMS 5G Media Streaming
AF Application Function
API Application Programming Interface
ASP Application Service Provider
DCCF Data Collection Coordination Function
> EAS Edge Application Server
EHE Edge Hosting Environment
LCS LoCation Services
LMF Location Management FunctionMFAF Messaging Framework Adaptor Function
NEF Network Exposure Function
NF Network Function
NWDAF Network Data Analytics Function
SMF Session Management Function
SUPI Subscription Permanent Identifier
URI Uniform Resource Identifier
# 4 Services offered by the NEF
## 4.1 Introduction
The NEF offers to other NFs the following southbound services:
\- Nnef_EventExposure
\- Nnef_PFDManagement
\- Nnef_SMContext
\- Nnef_SMService
\- Nnef_Authentication
\- Nnef_EASDeployment
\- Nnef_TrafficInfluenceData
\- Nnef_ECSAddress
NOTE 1: The northbound services offered by the NEF are defined in 3GPP TS
29.522 [15], e.g. the northbound requirement of Nnef_EventExposure service or
Nnef_EASDeployment.
NOTE 2: The services offered by the NEF (e.g. Nnef_EventExposure service) as
specified in the present specification are only applicable for Nnef southbound
services.
NOTE 3: The Nnef_PFDManagement service offered by the NEF southbound is
defined in 3GPP TS 29.551 [19].
NOTE 4: The Nnef_SMContext service and the Nnef_SMService offered by the NEF
southbound is defined in 3GPP TS 29.541 [20].
NOTE 5: The Nnef_Authentication service offered by the NEF southbound is
defined in 3GPP TS 29.256 [23].
## 4.2 Nnef_EventExposure Service
### 4.2.1 Service Description
#### 4.2.1.1 Overview
The Nnef_EventExposure service, as defined in 3GPP TS 23.502 [3], is provided
by the Network Exposure Function (NEF). When the UE Application data is
collected via the Data Collection AF, the Application Function Exposure
Service, as defined in 3GPP TS 26.531 [24], 3GPP TS 26.501 [25] and 3GPP TS
26.512 [26], is provided by the Data Collection AF instantiated in the 5GMS AF
for the Event Consumer AF instantiated in the 5GMS ASP.
This service:
\- allows NF service consumers to subscribe to, modify and unsubscribe from
application events reporting; and
\- notifies NF service consumers with a corresponding subscription about
observed events at the NEF.
The types of observed events applicable for the NEF include:
AF application events exposed by an AF:
\- Service experience;
\- UE mobility;
\- UE communication;
\- Exceptions;
\- User Data Congestion;
\- Dispersion;
\- Performance Data information; and
\- Collective Behaviour information
\- GNSS Assistance Data information
UE application events exposed via the Data Collection AF:
\- Media Streaming QoE metrics;
\- Media Streaming Consumption reports;
\- Media Streaming Network Assistance invocation;
\- Media Streaming Dynamic Policy invocation; and
\- Media Streaming access activity.
The target of the event reporting may include one or more UE(s), a group of
UEs or any UE (i.e. all UEs). When an event to which the NF service consumer
has subscribed occurs, the NEF reports the requested information to the NF
service consumer based on the event reporting information definition requested
by the NF service consumer.
#### 4.2.1.2 Service Architecture
The 5G System Architecture is defined in 3GPP TS 23.501 [2]. The Network Data
Analytics Exposure architecture is defined in 3GPP TS 23.288 [14]. The Media
Streaming UE application data collection via the Data Collection AF is defined
in 3GPP TS 26.531 [24]. The architecture for GNSS Assistance Data Collection
for LCS is defined in 3GPP TS 23.273 [27].
The Nnef_EventExposure service is part of the Nnef service-based interface
exhibited by the Network Exposure Function (NEF).
Known consumers of the Nnef_EventExposure service are:
\- Network Data Analytics Function (NWDAF)
\- Data Collection Coordination Function (DCCF)
\- Messaging Framework Adaptor Function (MFAF)
\- Location Management Function (LMF)
\- Event Consumer AF in the 5GMS ASP
The Nnef_EventExposure service is provided by the NEF and consumed by NF
service consumers (e.g. NWDAF, LMF, DCCF, MFAF, Event Consumer AF), as shown
in figure 4.2.1.2-1 for the SBI representation model and in figure 4.2.1.2-2
for reference point representation model.
Figure 4.2.1.2-1: Reference Architecture for the Nnef_EventExposure Service;
SBI representation
Figure 4.2.1.2-2: Reference Architecture for the Nnef_EventExposure Service:
reference point representation
#### 4.2.1.3 Network Functions
##### 4.2.1.3.1 Network Exposure Function (NEF)
The Network Exposure Function (NEF) is a functional element that provides
application or user related information to the NF service consumers as defined
in this specification.
The NEF allows the NF consumer(s) to (un)subscribe to notifications of
monitoring observed event, and sends the notification to the NF consumer(s)
when a subscribed event is detected.
##### 4.2.1.3.2 NF Service Consumers
The known NF service consumers are as follows:
The Network Data Analytics Function (NWDAF), the Data Collection Coordination
Function (DCCF), the Messaging Framework Adaptor Function (MFAF) or the
Location Management Function (LMF):
\- supports (un)subscribing to notifications of subscribed event(s) from the
NEF;
\- supports receiving the notifications of subscribed event(s) from the NEF.
The Event Consumer Application Function (Event Consumer AF):
\- supports (un)subscribing to notifications of service experience information
from the NEF;
\- supports receiving the notifications of subscribed event(s) from the NEF.
### 4.2.2 Service Operations
#### 4.2.2.1 Introduction
Service operations defined for the Nnef_EventExposure Service are shown in
table 4.2.2.1-1.
_Table 4.2.2.1-1: Nnef_EventExposure Service Operations_
* * *
Service Operation Name Description Initiated by Nnef_EventExposure_Subscribe
This service operation is used by an NF service consumer to subscribe to, or
modify a subscription in the NEF for event notifications on a specified
application or user related event. NF service consumer
Nnef_EventExposure_Unsubscribe This service operation is used by an NF service
consumer to unsubscribe from event notifications. NF service consumer
Nnef_EventExposure_Notify This service operation is used by the NEF to report
application or user related event(s) to the NF service consumer which has
subscribed to the event report service. NEF
* * *
#### 4.2.2.2 Nnef_EventExposure_Subscribe service operation
##### 4.2.2.2.1 General
This service operation is used by an NF service consumer to subscribe to
notifications on specified event(s) or modify an existing subscription.
The following are the types of events for which a subscription to
notifications can be created by the NWDAF, the DCCF, or the MFAF as the NF
service consumer:
\- Service experience;
\- UE mobility;
\- UE communication;
\- Exceptions;
\- User Data Congestion;
\- Dispersion;
\- Performance Data information; and
\- Collective Behaviour information.
The following are the types of events for which a subscription can be made by
the NWDAF, DCCF, MFAF, or Event Consumer AF as the NF service consumer:
\- Media Streaming QoE metrics;
The following are the types of events for which a subscription to
notifications can be created by the LMF as the NF service consumer:
\- GNSS Assistance Data information.
The following are the types of events for which a subscription can be made by
the Event Consumer AF as the NF service consumer:
\- Media Streaming Consumption reports;
\- Media Streaming Network Assistance invocation;
\- Media Streaming Dynamic Policy invocation; and
\- Media Streaming access activity.
The following procedures using the Nnef_EventExposure_Subscribe service
operation are supported:
\- creating a new subscription;
\- modifying an existing subscription.
##### 4.2.2.2.2 Creating a new subscription
Figure 4.2.2.2.2-1 illustrates the creation of a Network Exposure Event
Subscription.
Figure 4.2.2.2.2-1: Creation of a subscription
To subscribe to event notifications, the NF service consumer shall send an
HTTP POST request to the NEF with: \"{apiRoot}/nnef-
eventexposure/\/subscriptions\" as request URI as shown in step 1
of figure 4.2.2.2.2-1, and the \"NefEventExposureSubsc\" data structure as
request body.
The \"NefEventExposureSubsc\" data structure shall include:
\- a URI where to receive the requested notifications as \"notifUri\"
attribute;
\- a Notification Correlation Identifier assigned by the NF service consumer
for the requested notifications as \"notifId\" attribute; and
\- description of subscribed event information as \"eventsSubs\" attribute by
using one or more \"NefEventSubs\" data.
The \"NefEventExposureSubsc\" data structure may also include:
\- the description of the event reporting information as \"eventsRepInfo\"
attribute.
\- a specific Authorization AS provisioned Data Access Profile Identifier as
\"dataAccProfId\" attribute, if the feature \"DataAccProfileId\" is supported
and the subscribed events including \"MS_QOE_METRICS\", \"MS_CONSUMPTION\",
\"MS_NET_ASSIST_INVOCATION\", \"MS_DYN_POLICY_INVOCATION\", and/or
\"MS_ACCESS_ACTIVITY\".
NOTE: The optional Data Access Profile Identifier provisioned by the
Authorization AS procedures are specified in clause 5.8 of 3GPP TS 26.531
[28].
The \"NefEventSubs\" data structure shall include:
\- an event to subscribe to as a \"event\" attribute; and
\- event filter information as \"eventFilter\" attribute associated with the
event.
The \"eventsRepInfo\" attribute may include:
\- event notification method (periodic, one time, on event detection) as
\"notifMethod\" attribute;
\- Maximum Number of Reports as \"maxReportNbr\" attribute;
\- Monitoring Duration as \"monDur\" attribute;
\- repetition period for periodic reporting as \"repPeriod\" attribute;
\- immediate reporting indication as \"immRep\" attribute;
\- sampling ratio as \"sampRatio\" attribute;
\- partitioning criteria for partitioning the UEs before performing sampling
as \"partitionCriteria\" attribute if the EneNA feature is supported;
\- group reporting guard time as \"grpRepTime\" attribute;
\- a notification flag as \"notifFlag\" attribute if the EneNA feature is
supported; and/or
\- notification muting exception instructions within the \"notifFlagInstruct\"
attribute, if the EnhDataMgmt feature is supported and the \"notifFlag\"
attribute is provided and set to \"DEACTIVATE\".
If the NEF cannot successfully fulfil the received HTTP POST request due to an
internal error or an error in the HTTP POST request, the NEF shall send an
HTTP error response as specified in clause 5.1.7.
Upon successful reception of an HTTP POST request with \"{apiRoot}/nnef-
eventexposure/\/subscriptions\" as request URI and
\"NefEventExposureSubsc\" data structure as request body, the NEF shall create
a new \"Individual Network Exposure Event Subscription\" resource, store the
subscription and send an HTTP \"201 Created\" response, as shown in step 2 of
figure 4.2.2.2.2-1. The NEF shall include in the \"201 Created\" response:
\- a Location header field; and
\- an \"NefEventExposureSubsc\" data type in the payload body.
The Location header field shall contain the URI of the created individual
application session context resource i.e. \"{apiRoot}/nnef-
eventexposure/\/subscriptions/{subscriptionId}\".
The \"NefEventExposureSubsc\" data type payload body shall contain the
representation of the created \"Individual Network Exposure Event
Subscription\".
When the \"monDur\" attribute is included in the response by the NEF, it
represents NEF selected expiry time that is equal or less than the expiry time
received in the request.
When the \"immRep\" attribute is included and set to \"true\" in the
subscription and the subscribed events are available, the NEF shall include
the reports of the events subscribed, if available, in the HTTP POST response.
When the sampling ratio attribute, as \"sampRatio\", is included in the
subscription without a \"partitionCriteria\" attribute, the NEF shall select a
random subset of UEs among the target UEs according to the sampling ratio and
only report the event(s) related to the selected subset of UEs. If the
\"partitionCriteria\" attribute is additionally included, then the NEF shall
first partition the UEs according to the value of the \"partitionCriteria\"
attribute and then select a random subset of UEs from each partition according
to the sampling ratio and only report the event(s) related to the selected
subsets of UEs.
When the group reporting guard time, as \"grpRepTime\" attribute, is included
in the subscription, the NEF shall accumulate all the event reports for the
target UEs until the group reporting guard time expires. Then, the NEF shall
notify the NF service consumer using the Nnef_EventExposure_Notify service
operation, as described in clause 4.2.2.4.
When the \"notifFlag\" attribute is included and set to \"DEACTIVATE\" in the
request, the NEF shall mute the event notification and store the available
events until the NF service consumer requests to retrieve them by setting the
\"notifFlag\" attribute to \"RETRIEVAL\" or until a muting exception occurs
(e.g. full buffer). When a muting exception occurs, the NEF may consider the
contents of the \"notifFlagInstruct\" attribute (if provided) and/or local
configuration to determine its actions.
If the EnhDataMgmt feature is supported and the NEF accepts the muting
instructions provided in the \"notifFlag\" and/or the \"notifFlagInstruct\"
attributes, it may indicate the applied muting notification settings within
the \"mutingSetting\" attribute in the response. If the NEF does not accept
the muting instructions provided in the \"notifFlag\" and/or the
\"notifFlagInstruct\" attributes, it shall send an HTTP \"403 Forbidden\"
error response including the \"cause\" attribute set to
\"MUTING_INSTR_NOT_ACCEPTED\".
##### 4.2.2.2.3 Modifying an existing subscription
Figure 4.2.2.2.3-1 illustrates the modification of an existing subscription.
Figure 4.2.2.2.3-1: Modification of an existing subscription
To modify an existing subscription to event notifications, the NF service
consumer shall send an HTTP PUT request with: \"{apiRoot}/nnef-
eventexposure/\/subscriptions/{**subscriptionId**}\" as request
URI, as shown in step 1 of figure 4.2.2.2.3-1, where \"{**subscriptionId**}\"
is the subscription correlation ID of the existing subscription. The
\"NefEventExposureSubsc\" data structure is included as request body as
described in clause 4.2.2.2.2.
NOTE 1: An alternate NF service consumer than the one that requested the
generation of the subscription resource can send the PUT request.
NOTE 2: The \"notifUri\" attribute within the NefEventExposureSubsc data
structure can be modified to request that subsequent notifications are sent to
a new NF service consumer.
NOTE 3: The \"monDur\" attribute within the NefEventExposureSubsc data
structure can be modified to extend the expiry time to keep receiving
notifications.
If the NEF cannot successfully fulfil the received HTTP PUT request due to an
internal error or an error in the HTTP PUT request, the NEF shall send an HTTP
error response as specified in clause 5.1.7.
If the feature \"ES3XX\" is supported, and the NEF determines the received
HTTP PUT request needs to be redirected, the NEF shall send an HTTP redirect
response as specified in clause 6.10.9 of 3GPP TS 29.500 [4].
Upon successful reception of an HTTP PUT request with: \"{apiRoot}/nnef-
eventexposure/\/subscriptions/{**subscriptionId**}\" as request
URI and \"NefEventExposureSubsc\" data structure as request body, the NEF
shall update the subscription and send an HTTP \"200 OK\" response with the
\"NefEventExposureSubsc\" data structure as response body containing the
representation of the modified \"Individual Network Exposure Event
Subscription\", or an HTTP \"204 No Content\" response, as shown in step 2 of
figure 4.2.2.2.3-1.
When the \"monDur\" attribute is included in the response by the NEF, it
represents NEF selected expiry time that is equal or less than the expiry time
received in the request.
When the \"immRep\" attribute is included and sets to \"true\" in the
subscription and the subscribed events are available, the NEF shall include
the reports of the events subscribed, if available, in the HTTP PUT response.
When the sampling ratio, as \"sampRatio\" attribute, is included in the
subscription without a \"partitionCriteria\" attribute, the NEF shall select a
random subset of UEs among the target UEs according to the sampling ratio and
only report the event(s) related to the selected subset of UEs. If the
\"partitionCriteria\" attribute is additionally included, then the NEF shall
first partition the UEs according to the value of the \"partitionCriteria\"
attribute and then select a random subset of UEs from each partition according
to the sampling ratio and only report the event(s) related to the selected
subsets of UEs.
When the group reporting guard time, as \"grpRepTime\" attribute, is included
in the subscription, the NEF shall accumulate all the event reports for the
target UEs until the group reporting guard time expires. Then, the NEF shall
notify the NF service consumer using the Nnef_EventExposure_Notify service
operation, as described in clause 4.2.2.4.
When the \"notifFlag\" attribute is included, and set to \"DEACTIVATE\" in the
request, the NEF shall mute the event notification and store the available
events until the NF service consumer requests to retrieve them by setting the
\"notifFlag\" attribute to \"RETRIEVAL\" or until a muting exception occurs
(e.g. full buffer). When a muting exception occurs, the NEF may consider the
contents of the \"notifFlagInstruct\" attribute (if provided) and/or local
configuration to determine its actions; if the \"notifFlag\" attribute is set
to \"RETRIEVAL\" in the request, the NEF shall send the stored events to the
NF service consumer, and mute the event notification again and store available
events; if the \"notifFlag\" attribute is set to \"ACTIVATE\" and the event
notifications are muted (due to a previously received \"DECATIVATE\" value),
the NEF shall unmute the event notification, i.e. start sending again
notifications for available events.
If the EnhDataMgmt feature is supported and the NEF accepts the muting
instructions provided in the \"notifFlag\" and/or the \"notifFlagInstruct\"
attributes, it may indicate the applied muting notification settings within
the \"mutingSetting\" attribute in the response. If the NEF does not accept
the muting instructions provided in the \"notifFlag\" and/or the
\"notifFlagInstruct\" attributes, it shall send an HTTP \"403 Forbidden\"
error response including the \"cause\" attribute set to
\"MUTING_INSTR_NOT_ACCEPTED\".
#### 4.2.2.3 Nnef_EventExposure_Unsubscribe service operation
##### 4.2.2.3.1 General
This service operation is used by an NF service consumer to unsubscribe from
event notifications.
The following procedure using the Nnef_EventExposure_Unsubscribe service
operation is supported:
\- unsubscription from event notifications.
##### 4.2.2.3.2 Unsubscription from event notifications
Figure 4.2.2.3.2-1 illustrates the unsubscription from event notifications.
Figure 4.2.2.3.2-1: Unsubscription from event notifications
To unsubscribe from event notifications, the NF service consumer shall send an
HTTP DELETE request with \"{apiRoot}/nnef-
eventexposure/\/subscriptions/{**subscriptionId**}\" as request
URI, as shown in step 1 of figure 4.2.2.3.2-1, where \"{**subscriptionId**}\"
is the subscription correlation identifier of the existing subscription
resource that is to be deleted.
If the NEF cannot successfully fulfil the received HTTP DELETE request due to
an internal error or an error in the HTTP DELETE request, the NEF shall send
an HTTP error response as specified in clause 5.1.7.
If the feature \"ES3XX\" is supported, and the NEF determines the received
HTTP DELETE request needs to be redirected, the NEF shall send an HTTP
redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [4].
Upon successful reception of an HTTP DELETE request with: \"{apiRoot}/nnef-
eventexposure/\/subscriptions/{**subscriptionId**}\" as request
URI, the NEF shall remove the corresponding subscription and send an HTTP
\"204 No Content\" response, as shown in step 2 of figure 4.2.2.3.2-1.
#### 4.2.2.4 Nnef_EventExposure_Notify service operation
##### 4.2.2.4.1 General
The Nnef_EventExposure_Notify service operation enables the NEF to notify the
NF service consumer(s) that the previously subscribed application related
event occurred.
The following procedure using the Nnef_EventExposure_Notify service operation
is supported:
\- notification about subscribed events.
##### 4.2.2.4.2 Notification about subscribed events
Figure 4.2.2.4.2-1 illustrates the notification about subscribed events.
Figure 4.2.2.4.2-1: Notification about subscribed events
If the NEF observes application related event(s) for which an NF service
consumer has subscribed, the NEF shall send an HTTP POST request as shown in
step 1 of figure 4.2.2.4.2-1, with the \"{notifUri}\" as request URI
containing the value previously provided by the NF service consumer within the
corresponding subscription, and the \"NefEventExposureNotif\" data structure.
The \"NefEventExposureNotif\" data structure shall include:
\- notification correlation ID provided by the NF service consumer during the
subscription as \"notifId\" attribute; and
\- information about the observed event(s) within the \"eventNotifs\"
attribute that shall contain for each observed event an
\"NefEventNotification\" data structure that shall include:
\- the application related event as \"event\" attribute;
\- the time at which the event was observed encoded as \"timeStamp\"
attribute;
\- if the \"event\" attribute is \"SVC_EXPERIENCE\", service experience
information about the application involved in the reported event in the
\"svcExprcInfos\" attribute;
\- if the \"event\" attribute is \"UE_MOBILITY\", UE mobility information
assoicated with the application as \"ueMobilityInfos\" attribute;
\- if the \"event\" attribute is \"UE_COMM\", UE communication information
assoicated with the application as \"ueCommInfos\" attribute;
\- if the \"event\" attribute is \"EXCEPTIONS\", exceptions information
associated with a service flow as \"excepInfos\" attribute;
\- if the \"event\" attribute is \"PERF_DATA\", Performance Data Analytics
related information as \"perfDataInfos\" attribute;
\- if the \"event\" attribute is \"COLLECTIVE_BEHAVIOUR\", collective
behaviour information associated with the UEs and its applications as
\"collBhvrInfs\" attribute;
\- if the \"event\" attribute is \"USER_DATA_CONGESTION\", user data
congestion information collected for an AF application as \"congestionInfos\"
attribute;
\- if the \"event\" attribute is \"DISPERSION\", UE dispersion information
collected for an AF as \"dispersionInfos\" attribute;
\- if the \"event\" attribute is \"MS_QOE_METRICS\", Media Streaming QoE
metrics information collected for an UE application via the Data Collection AF
as \"msQoeMetrInfos\" attribute;
\- if the \"event\" attribute is \"MS_CONSUMPTION\", Media Streaming
Consumption reports information collected for an UE application via the Data
Collection AF as \"msConsumpInfos\" attribute;
\- if the \"event\" attribute is \"MS_NET_ASSIST_INVOCATION\", Media Streaming
Network Assistance invocation information collected for an UE application via
the Data Collection AF as \"msNetAssInvInfos\" attribute;
\- if the \"event\" attribute is \"MS_DYN_POLICY_INVOCATION\", Media Streaming
Dynamic Policy invocations information collected for an UE application via the
Data Collection AF as \"msDynPlyInvInfos\" attribute;
\- if the \"event\" attribute is \"MS_ACCESS_ACTIVITY\", Media Streaming
access activity information collected for an UE application via the Data
Collection AF as \"msAccActInfos\" attribute; and
\- if the \"event\" attribute is \"GNSS_ASSISTANCE_DATA\", GNSS Assistance
Data information within the \"gnssAssistDataInfo\" attribute;
\- if the \"event\" attribute is \"E2E_DATA_VOL_TRANS_TIME\", data volume
transfer time information assoicated with the application as
\"datVolTransTimeInfos\" attribute.
If the NF service consumer cannot successfully fulfil the received HTTP POST
request due to an internal error or an error in the HTTP POST request, the NF
service consumer shall send an HTTP error response as specified in clause
5.1.7.
If the feature \"ES3XX\" is supported, and the NF service consumer determines
the received HTTP POST request needs to be redirected, the NF service consumer
shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS
29.500 [4].
Upon successful reception of an HTTP POST request with \"{notifUri}\" as
request URI and \"NefEventExposureNotif\" data structure as request body, the
NF service consumer shall send an HTTP \"204 No Content\" response, as shown
in step 2 of figure 4.2.2.4.2-1, in case of a successful processing.
## 4.3 Nnef_EASDeployment Service
### 4.3.1 Service Description
#### 4.3.1.1 Overview
The Nnef_EASDeployment service, as defined in 3GPP TS 23.502 [3], is provided
by the Network Exposure Function (NEF). This service allows the SMF to
subscribe/unsubscribe the notification of AF provisioned EAS Deployment
information, and for the NEF to notify the AF provisioned EAS Deployment
information to the subscribed SMF.
#### 4.3.1.2 Service Architecture
The 5G System Architecture is defined in 3GPP TS 23.501 [2].
The Nnef_EASDeployment service is part of the Nnef service-based interface
exhibited by the Network Exposure Function (NEF).
Known consumer of the Nnef_EASDeployment service is:
\- Session Management Function (SMF)
Figure 4.3.1.2-1: Reference Architecture for the Nnef_EASDeployment Service;
SBI representation
Figure 4.3.1.2-2: Reference Architecture for the Nnef_EASDeployment Service:
reference point representation
#### 4.3.1.3 Network Functions
##### 4.3.1.3.1 Network Exposure Function (NEF)
The Network Exposure Function (NEF) is a functional element that support for
the NF service consumer (i.e SMF) subscribing to the notification of the AF
provisioned EAS Deployment Information and provide EAS Deployment Information
change notification to the NF service consumer as defined in this
specification.
##### 4.3.1.3.2 NF Service Consumers
The known NF service consumers are as follows:
The Session Management Function (SMF):
\- supports (un)subscribing to notifications of subscribed event(s) from the
NEF.
\- supports receiving the notifications of subscribed event(s) from the NEF.
### 4.3.2 Service Operations
#### 4.3.2.1 Introduction
Service operations defined for the Nnef_EASDeployment Service are shown in
table 4.3.2.1-1.
_Table 4.3.2.1-1: Nnef_EventExposure Service Operations_
* * *
Service Operation Name Description Initiated by Nnef_EASDeployment_Subscribe
This service operation is used by an NF service consumer to explicitly
subscribe the notification of changes of EAS Deployment Information. NF
service consumer Nnef_EASDeployment_Unsubscribe This service operation is used
by an NF service consumer to explicitly unsubscribe the notification of
changes of EAS Deployment Information. NF service consumer
Nnef_EASDeployment_Notify This service operation is used by the NEF to provide
subscribed event information, e.g.updated EAS Deployment Information to the NF
service consumer. NEF
* * *
#### 4.3.2.2 Nnef_EASDeployment_Subscribe service operation
##### 4.3.2.2.1 General
This service operation is provided by the NEF for NF consumers to explicitly
subscribe the notification of changes of EAS Deployment Information.
##### 4.3.2.2.2 Creating a new subscription
In order to subscribe to EAS Deployment Information change event, the SMF
shall send an HTTP POST request message to the NEF for the \"EAS Deployment
Event Subscriptions\" resource. The HTTP POST message shall include
EasDeploySubData data structure as request body. The EasDeploySubData data
structure shall include:
\- Event Id in the \"eventId\" attribute;
\- An notification correlation ID provided by the NF service consumer during
the subscription as \"notifId\" attribute; and
\- An URI to receive the subscribed EAS Deployment information change
notifications as \"notifUri\" attribute.
and may include:
\- an indicator to immediately report the current status of EAS Deployment
Information if available, as \"immRep\" attribute;
\- (list of) DNN and/or S-NSSAI combination as \"dnnSnssaiInfos\" attribute;
\- identification of an application as \"appId\" attribute; and/or
\- an internal Group Identifier as \"interGroupId\" attribute.
Upon receipt of the HTTP request from the SMF, if the SMF is validated, the
NEF shall interact with the UDR by invoking the Nudr_DataRepository service as
described in 3GPP TS 29.504 [20] to fetch the EAS Deployment Information in
the application data in the UDR.
After receiving a successful response from the UDR, the NEF shall create a new
subscription and assign a subscription identifier for the \"Individual EAS
Deployment Event Subscription\" resource. Then the NEF shall send a HTTP \"201
Created\" response with EASDeploySubData data structure as response body and a
Location header field containing the URI of the created individual
subscription resource to the NF service consumer. If the immediate report
indicator is included in the subscription request, the NEF shall include in
the response body the currently available EAS Deployment Information that
match the subscription.
NOTE: When the \"targetAfId\" attribute is included in the EAS Deployment
Information, then all DNAI(s) correspond to the same EHE provider. The
\"targetAfId\" attribute can be used in case of AF(s) involving different EHE
providers, and the source EHE is unaware of other/target EHE specific
deployment details.
If the NEF receives an error code from the UDR, the NEF shall take proper
error handling actions and shall respond to the SMF with a proper error status
code.
#### 4.3.2.3 Nnef_EASDeployment_Unsubscribe service operation
##### 4.3.2.3.1 General
This service operation is used by an NF service consumer (i.e. SMF) to
explicitly unsubscribe the notification of changes of EAS Deployment
Information.
The following procedure using the Nnef_EASDeployment_Unsubscribe service
operation is supported:
\- unsubscription from the notification of changes of EAS Deployment
Information.
##### 4.3.2.3.2 Unsubscription of notification of changes of EAS Deployment
Information
In order to delete an existing subscription to EAS Deployment Information
change event, the NF service consumer shall send an HTTP DELETE request
message to the individual resource URI \"{apiRoot}/nnef-eas-
deployment/v1/subscriptions/{subscriptionId}\" in which the
\"{subscriptionId}\" is the subscription correlation identifier of the
existing subscription resource that is to be deleted.
The NEF shall delete the individual resource and shall respond to the NF
service consumer with an HTTP \"204 No Content\" response message.
If the NEF cannot delete the individual resource, shall take proper error
handling actions and shall respond to the NF service consumer with a proper
error status code.
#### 4.3.2.4 Nnef_EASDeployment_Notify service operation
##### 4.3.2.4.1 General
The Nnef_EASDeployment_Notify service operation enables the NEF to notify the
subscribed event information, e.g. updated EAS Deployment Information to the
NF Consumer.
The following procedure using the Nnef_EASDeployment_Notify service operation
is supported:
\- notification about subscribed EAS Deployment Information change.
##### 4.3.2.4.2 Notification of changes of EAS Deployment Information
When the EAS Deployment information is changed, the NEF shall provide a
notification to the subscribed NF service consumer by sending an HTTP POST
message that include the EasDeployInfoNotif data structure in the request body
to notify the EAS Deployment information changes to the NF service consumer.
The EasDeployInfoNotif data structure shall include the subscribed Event ID
and the EAS Deployment Information.
NOTE: When the \"targetAfId\" attribute is included in the EAS Deployment
Information, then all DNAI(s) correspond to the same EHE provider. The
\"targetAfId\" attribute can be used in case of AF(s) involving different EHE
providers, and the source EHE is unaware of other/target EHE specific
deployment details.
Upon receipt of the EAS Deployment event notification, the NF service consumer
shall respond with a \"204 No Content\" status code to confirm the received
notification.
## 4.4 Nnef_TrafficInfluenceData Service
### 4.4.1 Service Description
#### 4.4.1.1 Overview
The Nnef_TrafficInfluenceData service, as defined in 3GPP TS 23.502 [3], is
provided by the Network Exposure Function (NEF). This service allows the V-SMF
supporting HR-SBO to subscribe/unsubscribe the notification of Traffic
Influence from AF in VPLMN, and for the V-NEF to notify the Traffic Influence
to the subscribed V-SMF.
#### 4.4.1.2 Service Architecture
The 5G System Architecture is defined in 3GPP TS 23.501 [2].
The Nnef_TrafficInfluenceData service is part of the Nnef service-based
interface exhibited by the Network Exposure Function (NEF).
Known consumer of the Nnef_TrafficInfluenceData service is:
\- Session Management Function (SMF)
Figure 4.4.1.2-1: Reference Architecture for the Nnef_TrafficInfluenceData
Service; SBI representation
Figure 4.4.1.2-2: Reference Architecture for the Nnef_TrafficInfluenceData
Service: reference point representation
#### 4.4.1.3 Network Functions
##### 4.4.1.3.1 Network Exposure Function (NEF)
The Network Exposure Function (NEF) allows the NF service consumer (i.e. SMF)
to subscribe to and unsubscribe from the NEF for the Traffic Influence Data
from AF.
##### 4.4.1.3.2 NF Service Consumers
The known NF service consumers are as follows:
The Session Management Function (SMF):
\- supports (un)subscribing to notifications of Traffic Influence Data from
the NEF.
\- supports receiving the notifications of Traffic Influence Data from the
NEF.
### 4.4.2 Service Operations
#### 4.4.2.1 Introduction
Service operations defined for the Nnef_TrafficInfluenceData Service are shown
in table 4.4.2.1-1.
_Table 4.4.2.1-1: Nnef_TrafficInfluenceData Service Operations_
* * *
Service Operation Name Description Initiated by
Nnef_TrafficInfluenceData_Subscribe This service operation is used by an NF
service consumer to explicitly subscribe the notification of Traffic Influence
Data. NF service consumer Nnef_TrafficInfluenceData_Unsubscribe This service
operation is used by an NF service consumer to explicitly unsubscribe the
notification of Traffic Influence Data. NF service consumer
Nnef_TrafficInfluenceData_Notify This service operation is used by the NEF to
provide Traffic Influence Data to the NF service consumer. NEF
* * *
#### 4.4.2.2 Nnef_TrafficInfluenceData_Subscribe service operation
##### 4.4.2.2.1 General
This service operation is provided by the NEF for NF consumers to explicitly
subscribe the notification of Traffic Influence Data.
##### 4.4.2.2.2 Creating a new subscription
Figure 4.4.2.2.2-1 illustrates the creation of a Individual Traffic Influence
Data Subscription.
Figure 4.4.2.2.2-1: Creation of a subscription
In order to subscribe to Traffic Influence Data, the SMF shall send an
Nnef_TrafficInfluenceData_Subscribe request using the HTTP POST method to the
NEF with \"{apiRoot}/nnef-traffic-influence-data/\/subscriptions\"
as request URI as shown in step 1 of figure 4.4.2.2.2-1. The HTTP POST message
shall include TrafficInfluDataSub data structure as request body. The
TrafficInfluDataSub data structure shall include:
\- the notification URI in the \"notifUri\" attribute;
\- the notification correlation identifier in the \"notifCorrId\" attribute;
and may include:
\- the identifications of DNN in \"dnns\" attribute;
\- the identifications of network slice in \"snssais\" attribute;
\- the internal Group Identifier in \"internalGroupIds\" attribute;
\- the identifications of target UE(s) in \"supis\" attribute;
\- the any UE indication in \"anyUe\" attribute;
\- the reporting requirements of the subscription in \"rptInfo\" attribute;
Upon receipt of the HTTP request from the SMF, the NEF shall interact with the
UDR by invoking the Nudr_DataRepository service as described in 3GPP TS 29.504
[20] to retrieve and subscribe to the Traffic Influence Data in the
application data in the UDR.
After receiving a successful response from the UDR, the NEF shall create a new
subscription and assign a subscription identifier for the \"Individual Traffic
Influence Data Subscription\" resource. Then the NEF shall send an HTTP \"201
Created\" response with TrafficInfluDataSub data structure as response body
and a Location header field containing the URI of the created individual
subscription resource to the NF service consumer.
If the immediate report indication is included in the subscription request,
the NEF shall include the currently available Traffic Influence Data in the
response body.
If errors occur when processing the HTTP POST request or receiving an error
code from the UDR, the NEF shall send an HTTP error response as specified in
clause 5.3.7.
##### 4.4.2.2.3 Modifying an existing subscription
Figure 4.4.2.2.3-1 illustrates the modification of an existing subscription.
Figure 4.4.2.2.3-1: Modification of an existing subscription
To modify an existing subscription to event notifications, the NF service
consumer shall send an HTTP PUT request with: \"{apiRoot}/nnef-traffic-
influence-data/\/subscriptions/{**subscriptionId**}\" as request
URI, as shown in step 1 of figure 4.4.2.2.3-1, where \"{**subscriptionId**}\"
is the subscription ID of the existing subscription. The TrafficInfluDataSub
data structure is included as request body as described in clause 4.4.2.2.2.
Upon successful reception of an HTTP PUT request with: \"{apiRoot}/nnef-
traffic-influence-data/\/subscriptions/{**subscriptionId**}\" as
request URI and TrafficInfluDataSub data structure as request body, the NEF
shall interact with the UDR by invoking the Nudr_DataRepository service as
described in 3GPP TS 29.504 [20] to retrieve and subscribe to the Traffic
Influence Data in the application data in the UDR.
After receiving a successful response from the UDR, the NEF shall:
\- send HTTP \"200 OK\" response (as shown in figure 4.4.2.2.3-1, step 2a)
with a response body containing a representation of the updated subscription
in the TrafficInfluDataSub data type; or
\- send HTTP \"204 No Content\" response (as shown in figure 4.4.2.2.3-1, step
2b).
If the immediate report indication is included in the subscription request,
the NEF shall include the currently available Traffic Influence Data in the
response body.
If the received HTTP PUT request needs to be redirected, the NEF shall send an
HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [4].
If errors occur when processing the HTTP PUT request or receiving an error
code from the UDR, the NEF shall send an HTTP error response as specified in
clause 5.3.7.
#### 4.4.2.3 Nnef_TrafficInfluenceData_Unsubscribe service operation
##### 4.4.2.3.1 General
This service operation is used by an NF service consumer (i.e. SMF) to
explicitly unsubscribe the notification of Traffic Influence Data.
The following procedure using the Nnef_TrafficInfluenceData_Unsubscribe
service operation is supported:
\- unsubscription from the notification of Traffic Influence Data.
##### 4.4.2.3.2 Unsubscription of notification of Traffic Influence Data
Figure 4.4.2.3.2-1 illustrates the unsubscription of event notifications from
NEF.
Figure 4.4.2.3.2-1: NF service consumer unsubscribes from notifications
In order to delete an existing subscription to Traffic Influence Data, the NF
service consumer shall send an HTTP DELETE request message with
\"{apiRoot}/nnef-traffic-influence-
data/\/subscriptions/{subscriptionId}\" as request URI, as shown
in step 1 of figure 4.4.2.3.2-1, where \"{**subscriptionId**}\" is the
subscription identifier of the existing subscription resource that is to be
deleted.
Upon successful reception of an HTTP DELETE, the NEF shall delete the
individual resource and shall respond to the NF service consumer with an HTTP
\"204 No Content\" response message, as shown in step 2 of figure 4.4.2.3.2-1.
If the received HTTP DELETE request needs to be redirected, the NEF shall send
an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [4].
If errors occur when processing the HTTP DELETE request, the NEF shall send an
HTTP error response as specified in clause 5.3.7.
#### 4.4.2.4 Nnef_TrafficInfluenceData_Notify service operation
##### 4.4.2.4.1 General
The Nnef_TrafficInfluenceData_Notify service operation enables the NEF to
notify the Traffic Influence Data to the NF Consumer.
The following procedure using the Nnef_TrafficInfluenceData_Notify service
operation is supported:
\- notification about subscribed Traffic Influence Data.
##### 4.4.2.4.2 Notification of changes of Traffic Influence Data
Figure 4.4.2.4.2-1 illustrates the notification about Traffic Influence Data.
Figure 4.4.2.4.2-1: Notification about Traffic Influence Data
If the NEF observes Traffic Influence Data that an NF service consumer has
subscribed, the NEF shall send an HTTP POST request as shown in step 1 of
figure 4.4.2.4.2-1, with the \"{notifUri}\" as request URI containing the
value previously provided by the NF service consumer within the corresponding
subscription, and the TrafficInfluDataNotify data structure as request body.
The TrafficInfluDataNotify data structure shall include:
\- the notification correlation identifier in the \"notifCorrId\" attribute;
\- information about the observed event(s) within the \"eventNotifications\"
attribute that shall contain for each observed event an TrafficInfluData data
structure.
Upon successful reception of an HTTP POST request with \"{notifUri}\" as
request URI and TrafficInfluDataNotify data structure as request body, the NF
service consumer shall send an HTTP \"204 No Content\" response, as shown in
step 2 of figure 4.4.2.4.2-1.
## 4.5 Nnef_ECSAddress Service
### 4.5.1 Service Description
#### 4.5.1.1 Overview
The Nnef_ECSAddress service, as defined in 3GPP TS 23.502 [3], is provided by
the Network Exposure Function (NEF). This service allows the V-SMF to
subscribe/unsubscribe the notification of ECS Address Configuration
Information from AF in VPLMN, and for the V-NEF to notify the ECS Address
Configuration Information to the subscribed V-SMF.
#### 4.5.1.2 Service Architecture
The 5G System Architecture is defined in 3GPP TS 23.501 [2].
The Nnef_ECSAddress service is part of the Nnef service-based interface
exhibited by the Network Exposure Function (NEF).
Known consumer of the Nnef_ECSAddress service is:
\- Session Management Function (SMF)
Figure 4.5.1.2-1: Reference Architecture for the Nnef_ECSAddress Service; SBI
representation
Figure 4.5.1.2-2: Reference Architecture for the Nnef_ECSAddress Service:
reference point representation
#### 4.5.1.3 Network Functions
##### 4.5.1.3.1 Network Exposure Function (NEF)
The Network Exposure Function (NEF) allows the NF service consumer (i.e. SMF)
to subscribe to and unsubscribe from the NEF for the ECS Address Configuration
Information from the AF.
##### 4.5.1.3.2 NF Service Consumers
The known NF service consumers are as follows:
The Session Management Function (SMF):
\- supports (un)subscribing to notifications of ECS Address Configuration
Information from the NEF.
\- supports receiving the notifications of ECS Address Configuration
Information from the NEF.
### 4.5.2 Service Operations
#### 4.5.2.1 Introduction
Service operations defined for the Nnef_ECSAddress Service are shown in table
4.5.2.1-1.
_Table 4.5.2.1-1: Nnef_ECSAddress Service Operations_
* * *
Service Operation Name Description Initiated by Nnef_ECSAddress_Subscribe This
service operation is used by an NF service consumer to explicitly subscribe
the notification of ECS Address Configuration Information. NF service consumer
Nnef_ECSAddress_Unsubscribe This service operation is used by an NF service
consumer to explicitly unsubscribe the notification of ECS Address
Configuration Information. NF service consumer Nnef_ECSAddress_Notify This
service operation is used by the NEF to provide ECS Address Configuration
Information to the NF service consumer. NEF
* * *
#### 4.5.2.2 Nnef_ECSAddress_Subscribe service operation
##### 4.5.2.2.1 General
This service operation is provided by the NEF for NF consumers to explicitly
subscribe the notification of ECS Address Configuration Information.
##### 4.5.2.2.2 Creating a new subscription
Figure 4.5.2.2.2-1 illustrates the creation of a Individual ECS Address
Configuration Information Subscription.
Figure 4.5.2.2.2-1: Creation of a subscription
In order to subscribe to ECS Address Configuration Information, the SMF shall
send an Nnef_ECSAddress_Subscribe request using the HTTP POST method to the
NEF with \"{apiRoot}/nnef-ecs-addr-cfg-info/\/subscriptions\" as
request URI as shown in step 1 of figure 4.5.2.2.2-1. The HTTP POST message
shall include EcsAddrCfgInfoSub data structure as request body. The
EcsAddrCfgInfoSub data structure shall include:
\- the notification URI in the \"notifUri\" attribute;
\- the notification correlation identifier in the \"notifCorrId\" attribute;
and may include:
\- the identifications of DNN in \"dnns\" attribute;
\- the identifications of network slice in \"snssais\" attribute;
\- the internal Group Identifier in \"internalGroupId\" attribute;
\- an indicator to immediately report the currently available ECS Address
Configuration Information in \"immRepInd\" attribute;
Upon receipt of the HTTP request from the SMF, the NEF shall interact with the
UDR by invoking the Nudr_DataRepository service as described in 3GPP TS 29.504
[20] to fetch the ECS Address Configuration Information in the application
data in the UDR.
After receiving a successful response from the UDR, the NEF shall create a new
subscription and assign a subscription identifier for the \"Individual ECS
Address Configuration Information Subscription\" resource. Then the NEF shall
send an HTTP \"201 Created\" response with EcsAddrCfgInfoSub data structure as
response body and a Location header field containing the URI of the created
individual subscription resource to the NF service consumer.
If the immediate report indication is included in the subscription request,
the NEF shall include the currently available ECS Address Configuration
Information in \"immReports\" attribute in the response body.
If errors occur when processing the HTTP POST request or receiving an error
code from the UDR, the NEF shall send an HTTP error response as specified in
clause 5.3.7.
##### 4.5.2.2.3 Modifying an existing subscription
Figure 4.5.2.2.3-1 illustrates the modification of an existing subscription.
Figure 4.5.2.2.3-1: Modification of an existing subscription
To modify an existing subscription to event notifications, the NF service
consumer shall send an HTTP PUT request with: \"{apiRoot}/nnef-ecs-addr-cfg-
info/\/subscriptions/{**subscriptionId**}\" as request URI, as
shown in step 1 of figure 4.5.2.2.3-1, where \"{**subscriptionId**}\" is the
subscription ID of the existing subscription. The EcsAddrCfgInfoSub data
structure is included as request body as described in clause 4.5.2.2.2.
Upon successful reception of an HTTP PUT request with: \"{apiRoot}/nnef-ecs-
addr-cfg-info/\/subscriptions/{**subscriptionId**}\" as request
URI and EcsAddrCfgInfoSub data structure as request body, the NEF shall
interact with the UDR by invoking the Nudr_DataRepository service as described
in 3GPP TS 29.504 [20] to fetch the ECS Address Configuration Information in
the application data in the UDR.
After receiving a successful response from the UDR, the NEF shall:
\- send HTTP \"200 OK\" response (as shown in figure 4.5.2.2.3-1, step 2a)
with a response body containing a representation of the updated subscription
in the EcsAddrCfgInfoSub data type; or
\- send HTTP \"204 No Content\" response (as shown in figure 4.5.2.2.3-1, step
2b).
If the immediate report indication is included in the subscription request,
the NEF shall include the current available ECS Address Configuration
Information in the response body.
If the received HTTP PUT request needs to be redirected, the NEF shall send an
HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [4].
If errors occur when processing the HTTP PUT request or receiving an error
code from the UDR, the NEF shall send an HTTP error response as specified in
clause 5.3.7.
#### 4.5.2.3 Nnef_ECSAddress_Unsubscribe service operation
##### 4.5.2.3.1 General
This service operation is used by an NF service consumer (i.e. SMF) to
explicitly unsubscribe the notification of ECS Address Configuration
Information.
The following procedure using the Nnef_ECSAddress_Unsubscribe service
operation is supported:
\- unsubscription from the notification of ECS Address Configuration
Information.
##### 4.5.2.3.2 Unsubscription of notification of ECS Address Configuration
Information
Figure 4.5.2.3.2-1 illustrates the unsubscription of event notifications from
NEF.
Figure 4.5.2.3.2-1: NF service consumer unsubscribes from notifications
In order to delete an existing subscription to ECS Address Configuration
Information, the NF service consumer shall send an HTTP DELETE request message
with \"{apiRoot}/nnef-ecs-addr-cfg-
info/\/subscriptions/{subscriptionId}\" as request URI, as shown
in step 1 of figure 4.5.2.3.2-1, where \"{**subscriptionId**}\" is the
subscription identifier of the existing subscription resource that is to be
deleted.
Upon successful reception of an HTTP DELETE, the NEF shall delete the
individual resource and shall respond to the NF service consumer with an HTTP
\"204 No Content\" response message, as shown in step 2 of figure 4.5.2.3.2-1.
If the received HTTP DELETE request needs to be redirected, the NEF shall send
an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [4].
If errors occur when processing the HTTP DELETE request, the NEF shall send an
HTTP error response as specified in clause 5.3.7.
#### 4.5.2.4 Nnef_ECSAddress_Notify service operation
##### 4.5.2.4.1 General
The Nnef_ECSAddress_Notify service operation enables the NEF to notify the ECS
Address Configuration Information to the NF Consumer.
The following procedure using the Nnef_ECSAddress_Notify service operation is
supported:
\- notification about subscribed ECS Address Configuration Information.
##### 4.5.2.4.2 Notification of changes of ECS Address Configuration
Information
Figure 4.5.2.4.2-1 illustrates the notification about ECS Address
Configuration Information.
Figure 4.5.2.4.2-1: Notification about ECS Address Configuration Information
If the NEF observes ECS Address Configuration Information that an NF service
consumer has subscribed, the NEF shall send an HTTP POST request as shown in
step 1 of figure 4.5.2.4.2-1, with the \"{notifUri}\" as request URI
containing the value previously provided by the NF service consumer within the
corresponding subscription, and the EcsAddrCfgInfoNotification data structure
as request body.
The EcsAddrCfgInfoNotification data structure shall include:
\- the notification correlation identifier in the \"notifCorrId\" attribute;
\- ECS Address Configuration Information within the \"ecsAddrCfgInfo\"
attribute.
Upon successful reception of an HTTP POST request with \"{notifUri}\" as
request URI and EcsAddrCfgInfoNotification data structure as request body, the
NF service consumer shall send an HTTP \"204 No Content\" response, as shown
in step 2 of figure 4.5.2.4.2-1.
## 4.6 Nnef_DNAIMapping Service
### 4.6.1 Service Description
#### 4.6.1.1 Overview
The Nnef_DNAIMapping service, as defined in 3GPP TS 23.502 [3], is provided by
the Network Exposure Function (NEF). This service allows the NEF service
consumer (e.g. NWDAF) to create or delete subscription(s) of DNAI Mapping
information to NEF and also by NEF to notify the NF service consumer about the
update of the DNAI Mapping information as defined in clause 5.2.6.34 of 3GPP
TS 23.502 [3].
#### 4.6.1.2 Service Architecture
The 5G System Architecture is defined in 3GPP TS 23.501 [2].
The Nnef_DNAIMapping service is part of the Nnef service-based interface
exhibited by the Network Exposure Function (NEF).
Known consumer of the Nnef_DNAIMapping service is:
\- Network Data Analytics Function (NWDAF)
Figure 4.6.1.2-1: Reference Architecture for the Nnef_DNAIMapping Service; SBI
representation
Figure 4.6.1.2-2: Reference Architecture for the Nnef_DNAIMapping Service:
reference point representation
#### 4.6.1.3 Network Functions
##### 4.6.1.3.1 Network Exposure Function (NEF)
The Network Exposure Function (NEF) allows the NF service consumer (e.g.
NWDAF) to subscribe to and unsubscribe from the NEF for the DNAI Mapping
information and also by NEF to notify the NF service consumer about the update
of the DNAI Mapping information.
##### 4.6.1.3.2 NF Service Consumers
The known NF service consumers are as follows:
The Network Data Analytics Function (NWDAF):
\- supports (un)subscribing to notifications of DNAI Mapping information from
the NEF.
\- supports receiving the notifications of Update of DNAI Mapping Information
from the NEF.
### 4.6.2 Service Operations
#### 4.6.2.1 Introduction
Service operations defined for the Nnef_DNAIMapping Service are shown in table
4.6.2.1-1.
_Table 4.6.2.1-1: Nnef_DNAIMapping Service Operations_
* * *
Service Operation Name Description Initiated by Nnef_DNAIMapping_Subscribe
This service operation is used by an NF service consumer to explicitly
subscribe the notification of DNAI Mapping Information. NF service consumer
Nnef_DNAIMapping_Unsubscribe This service operation is used by an NF service
consumer to explicitly unsubscribe the notification of DNAI Mapping
Information. NF service consumer Nnef_DNAIMapping_Notify This service
operation is used by the NEF to provide Update DNAI Mapping Information to the
NF service consumer. NEF
* * *
#### 4.6.2.2 Nnef_DNAIMapping_Subscribe service operation
##### 4.6.2.2.1 General
This service operation is provided by the NEF for the NF service consumers to
explicitly subscribe the notification of DNAI Mapping Information.
##### 4.6.2.2.2 Creating a new subscription for notification of DNAI Mapping
Information
Figure 4.6.2.2.2-1 illustrates the creation of a Individual DNAI Mapping
Information Subscription.
Figure 4.6.2.2.2-1: Creation of a subscription
In order to subscribe to DNAI Mapping Information, the NF service consumer
shall send an Nnef_DNAIMapping_Subscribe request using the HTTP POST method to
the NEF with \"{apiRoot}/nnef-dnai-mapping/\/subscriptions\" as
request URI as shown in step 1 of figure 4.6.2.2.2-1. The HTTP POST message
shall include DnaiMapSub data structure as request body. The DnaiMapSub data
structure is described in clause 4.4.34.2 of 3GPP TS 29.522 [15]
Upon receipt of the corresponding HTTP POST message, the NEF shall interact
with the UDR by invoking the Nudr_DataRepository service as described in 3GPP
TS 29.504 [20], if the NEF receives an error response from the UDR, the NEF
shall not create, update or delete the resource and shall respond to the NF
service consumer with a proper error status code. If the NEF received within
an error response a \"ProblemDetails\" data structure with a \"cause\"
attribute indicating an application error, the NEF shall relay this error
response to the NF service consumer with a corresponding application error,
when applicable.
On successful DNAI Mapping subscription creation, the NEF shall return an HTTP
POST response with an HTTP \"201 Created\" status code to the NF service
consumer, including a \"Location\" header containing the URI of the created
\"Individual DNAI Mapping Subscription\" resource and the response body
containing a representation of the created resource within the DnaiMapSub data
structure. If one-time reporting is not requested, an Expiry time (if the
subscription can be expired based on the operator's policy) shall be included
within the DnaiMapSub data structure.
On failure, the NEF shall take proper error handling actions, as specified in
clause 5.5.7, and respond to the NF service consumer with an appropriate error
status code.
#### 4.6.2.3 Nnef_DNAIMapping_Unsubscribe service operation
##### 4.6.2.3.1 General
This service operation is used by an NF service consumer (e.g. NWDAF) to
explicitly unsubscribe the notification of DNAI Mapping information.
The following procedure using the Nnef_DNAIMapping_Unsubscribe service
operation is supported:
\- unsubscription from the notification of DNAI Mapping information.
##### 4.6.2.3.2 Unsubscription of notification of DNAI Mapping Information
Figure 4.6.2.3.2-1 illustrates the unsubscription of event notifications from
NEF.
Figure 4.6.2.3.2-1: NF service consumer unsubscribes from notifications
In order to delete an existing subscription to DNAI Mapping Information, the
NF service consumer shall send an HTTP DELETE request message with
\"{apiRoot}/nnef-dnai-mapping/\/subscriptions/{subscriptionId}\"
as request URI, as shown in step 1 of figure 4.6.2.3.2-1, where
\"{**subscriptionId**}\" is the subscription identifier of the existing
subscription resource that is to be deleted.
Upon successful reception of an HTTP DELETE, the NEF shall delete the
individual resource and shall respond to the NF service consumer with an HTTP
\"204 No Content\" response message, as shown in step 2 of figure 4.6.2.3.2-1.
If the received HTTP DELETE request needs to be redirected, the NEF shall send
an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [4].
If errors occur when processing the HTTP DELETE request, the NEF shall send an
HTTP error response as specified in clause 5.3.7.
#### 4.6.2.4 Nnef_DNAIMapping_Notify service operation
##### 4.6.2.4.1 General
The Nnef_DNAIMapping_Notify service operation enables the NEF to notify the
DNAI Mapping Information to the NF Consumer.
The following procedure using the Nnef_DNAIMapping_Notify service operation is
supported:
\- notification about subscribed DNAI Mapping Information.
##### 4.6.2.4.2 Notification of changes of DNAI Mapping Information
Figure 4.6.2.4.2-1 illustrates the notification about DNAI Mapping
Information.
Figure 4.6.2.4.2-1: Notification about changes of DNAI Mapping Information
If the NEF observes DNAI Mapping Information that an NF service consumer has
subscribed, the NEF shall send an HTTP POST request as shown in step 1 of
figure 4.6.2.4.2-1, with the \"{notifUri}\" as request URI containing the
value previously provided by the NF service consumer within the corresponding
subscription, and the DnaiMapUpdateNotif data structure as request body.
Upon successful reception of an HTTP POST request with \"{notifUri}\" as
request URI and DnaiMapUpdateNotif data structure as request body, the NF
service consumer shall send an HTTP \"204 No Content\" response, as shown in
step 2 of figure 4.6.2.4.2-1.
On failure, the NF service consumer shall take proper error handling actions,
as specified in clause 5.5.7, and respond to the NEF with an appropriate error
status code.
# 5 API Definitions
## 5.1 Nnef_EventExposure Service API
### 5.1.1 Introduction
The Nnef_EventExposure service shall use the Nnef_EventExposure API.
The API URI of the Nnef_EventExposure API shall be:
**{apiRoot}/\ /\**
The request URIs used in HTTP requests from the NF service consumer towards
the NF service producer shall have the Resource URI structure defined in
clause 4.4.1 of 3GPP TS 29.501 [5], i.e.:
**{apiRoot}/\ /\/\**
with the following components:
\- The {apiRoot} shall be set as described in 3GPP TS 29.501 [5].
\- The \ shall be \"nnef-eventexposure\".
\- The \ shall be \"v1\".
\- The \ shall be set as described in clause
5.1.3.
### 5.1.2 Usage of HTTP
#### 5.1.2.1 General
HTTP/2, IETF RFC 7540 [11], shall be used as specified in clause 5 of 3GPP TS
29.500 [4].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].
The OpenAPI [6] specification of HTTP messages and content bodies for the
Nnef_EventExposure API is contained in Annex A.
#### 5.1.2.2 HTTP standard headers
##### 5.1.2.2.1 General
See clause 5.2.2 of 3GPP TS 29.500 [4] for the usage of HTTP standard headers.
##### 5.1.2.2.2 Content type
JSON, IETF RFC 8259 [12], shall be used as content type of the HTTP bodies
specified in the present specification as specified in clause 5.4 of 3GPP TS
29.500 [4]. The use of the JSON format shall be signalled by the content type
\"application/json\".
\"Problem Details\" JSON object shall be used to indicate additional details
of the error in a HTTP response body and shall be signalled by the content
type \"application/problem+json\", as defined in IETF RFC 7807 [13].
#### 5.1.2.3 HTTP custom headers
The Nnef_EventExposure API shall support mandatory HTTP custom header fields
specified in clause 5.2.3.2 of 3GPP TS 29.500 [4] and may support HTTP custom
header fields specified in clause 5.2.3.3 of 3GPP TS 29.500 [4].
In this Release of the specification, no specific custom headers are defined
for the Nnef_EventExposure API.
### 5.1.3 Resources
#### 5.1.3.1 Overview
This clause describes the structure for the Resource URIs and the resources
and methods used for the service.
Figure 5.1.3.1-1 depicts the resource URIs structure for the
Nnef_EventExposure API.
Figure 5.1.3.1-1: Resource URI structure of the Nnef_EventExposure API
Table 5.1.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 5.1.3.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method or custom operation Description Network
Exposure Event Subscriptions /subscriptions POST Creates a subscription to
notifications on application or user related event(s), i.e. creation of an
Individual Network Exposure Event Subscription resource. Individual Network
Exposure Event Subscription /subscriptions/{subscriptionId} GET Reads an
Individual Network Exposure Event Subscription resource. PUT Modifies an
Individual Network Exposure Event Subscription. DELETE Cancels an individual
subscription to notifications of subscribed event.
* * *
#### 5.1.3.2 Resource: Network Exposure Event Subscriptions
##### 5.1.3.2.1 Description
The resource represents the collection of Network Exposure Event subscriptions
of the Nnef_EventExposure service. It allows NF service consumers to create a
new subscription to notifications on application or user related event(s).
##### 5.1.3.2.2 Resource Definition
Resource URI: **{apiRoot}/nnef-eventexposure/\ /subscriptions**
This resource shall support the resource URI variables defined in table
5.1.3.2.2-1.
Table 5.1.3.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.1.1
* * *
##### 5.1.3.2.3 Resource Standard Methods
###### 5.1.3.2.3.1 POST
This method shall support the URI query parameters specified in table
5.1.3.2.3.1-1.
Table 5.1.3.2.3.1-1: URI query parameters supported by the \ method
on this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.1.3.2.3.1-2 and the response data structures and response codes specified in
table 5.1.3.2.3.1-3.
Table 5.1.3.2.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description NefEventExposureSubsc M 1 Contains the
information required for the creation of a new Individual Network Exposure
Event Subscription resource.
* * *
Table 5.1.3.2.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | NefEvent | M | 1 | 201 Created | Contains the | | ExposureSubsc | | | | r | | | | | | epresentation | | | | | | of the | | | | | | Individual | | | | | | Network | | | | | | Exposure | | | | | | Event | | | | | | Subscription | | | | | | resource. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | (NOTE 2) | | roblemDetails | | | | | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | manadatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure cases | | | | | | are described | | | | | | in clause | | | | | | 5.1.7. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.1.3.2.3.1-4: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/nnef-
eventexposure/\/subscriptions/{subscriptionId}
* * *
#### 5.1.3.3 Resource: Individual Network Exposure Event Subscription
##### 5.1.3.3.1 Description
The resource represents an individual Network Exposure Event subscription of
the Nnef_EventExposure service. It allows NF service consumers to
read/modify/cancel a subscription to notifications on application or user
related event(s).
##### 5.1.3.3.2 Resource Definition
Resource URI: **{apiRoot}/nnef-eventexposure/\
/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.1.3.3.2-1.
Table 5.1.3.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.1.1 subscriptionId
string Identifies a subscription to the NEF event exposure service.
* * *
##### 5.1.3.3.3 Resource Standard Methods
###### 5.1.3.3.3.1 GET
This method shall support the URI query parameters specified in table
5.1.3.3.3.1-1.
Table 5.1.3.3.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description supp-feat SupportedFeatures O 0..1
The features supported by the NF service consumer.
* * *
This method shall support the request data structures specified in table
5.1.3.3.3.1-2 and the response data structures and response codes specified in
table 5.1.3.3.3.1-3.
Table 5.1.3.3.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.1.3.3.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | NefEvent | M | 1 | 200 OK | Contains the | | ExposureSubsc | | | | r | | | | | | epresentation | | | | | | of the | | | | | | Individual | | | | | | Network | | | | | | Exposure | | | | | | Event | | | | | | Subscription | | | | | | resource. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | | | | | | | Applicable if | | | | | | the feature | | | | | | \"ES3XX\" is | | | | | | supported. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | | | | | | | Applicable if | | | | | | the feature | | | | | | \"ES3XX\" is | | | | | | supported. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | Red | | | | | | irectResponse | | | | | | data | | | | | | structure may | | | | | | be provided | | | | | | by an SCP | | | | | | (cf. | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.1.3.3.3.1-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
Table 5.1.3.3.3.1-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
###### 5.1.3.3.3.2 PUT
This method shall support the URI query parameters specified in table
5.1.3.3.3.2-1.
Table 5.1.3.3.3.2-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.1.3.3.3.2-2 and the response data structures and response codes specified in
table 5.1.3.3.3.2-3.
Table 5.1.3.3.3.2-2: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description NefEventExposureSubsc M 1 Modifies the
existing Individual Network Exposure Event Subscription resource.
* * *
Table 5.1.3.3.3.2-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | NefEvent | M | 1 | 200 OK | Successful | | ExposureSubsc | | | | case. | | | | | | | | | | | | The | | | | | | Individual | | | | | | Network | | | | | | Exposure | | | | | | Event | | | | | | Subscription | | | | | | resource was | | | | | | modified and | | | | | | a | | | | | | r | | | | | | epresentation | | | | | | is returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case. | | | | | | | | | | | | The | | | | | | Individual | | | | | | Network | | | | | | Exposure | | | | | | Event | | | | | | Subscription | | | | | | resource was | | | | | | modified. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | | | | | | | Applicable if | | | | | | the feature | | | | | | \"ES3XX\" is | | | | | | supported. | | | | | | | | | | | | (NOTE 3) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | modification. | | | | | | | | | | | | Applicable if | | | | | | the feature | | | | | | \"ES3XX\" is | | | | | | supported. | | | | | | | | | | | | (NOTE 3) | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | (NOTE 2) | | roblemDetails | | | | | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure cases | | | | | | are described | | | | | | in clause | | | | | | 5.1.7. | | | | | | | | | | | | NOTE 3: The | | | | | | Red | | | | | | irectResponse | | | | | | data | | | | | | structure may | | | | | | be provided | | | | | | by an SCP | | | | | | (cf. | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.1.3.3.3.2-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
Table 5.1.3.3.3.2-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
###### 5.1.3.3.3.3 DELETE
This method shall support the URI query parameters specified in table
5.1.3.3.3.3-1.
Table 5.1.3.3.3.3-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.1.3.3.3.3-2 and the response data structures and response codes specified in
table 5.1.3.3.3.3-3.
Table 5.1.3.3.3.3-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.1.3.3.3.3-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case. The | | | | | | Individual | | | | | | Network | | | | | | Exposure | | | | | | Event | | | | | | Subscription | | | | | | resource | | | | | | matching the | | | | | | s | | | | | | ubscriptionId | | | | | | was deleted. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | | | | | | | Applicable if | | | | | | the feature | | | | | | \"ES3XX\" is | | | | | | supported. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | | | | | | | Applicable if | | | | | | the feature | | | | | | \"ES3XX\" is | | | | | | supported. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | Red | | | | | | irectResponse | | | | | | data | | | | | | structure may | | | | | | be provided | | | | | | by an SCP | | | | | | (cf. | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.1.3.3.3.3-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
Table 5.1.3.3.3.3-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
### 5.1.4 Custom Operations without associated resources
None.
### 5.1.5 Notifications
#### 5.1.5.1 General
Notifications shall comply to clause 6.2 of 3GPP TS 29.500 [4] and clause
4.6.2.3 of 3GPP TS 29.501 [5].
Table 5.1.5.1-1: Notifications overview
+----------------+--------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +----------------+--------------+----------------+----------------+ | Network | {notifUri} | POST | Provides | | Exposure Event | | | Information | | Notification | | | about observed | | | | | events. | +----------------+--------------+----------------+----------------+
#### 5.1.5.2 Network Exposure Event Notification
##### 5.1.5.2.1 Description
The Network Exposure Event Notification is used by the NEF to report one or
several observed Events to a NF service consumer that has subscribed to such
Notifications.
##### 5.1.5.2.2 Target URI
The Notification URI **\"{notifUri}\"** shall be used with the callback URI
variables defined in table 5.1.5.2.2-1.
Table 5.1.5.2.2-1: Callback URI variables for this resource
* * *
Name Data type Definition notifUri Uri The Notification Uri as assigned by the
NF service consumer during the subscription service operation and described
within the NefEventExposureSubsc data type (see table 5.1.6.2.2-1).
* * *
##### 5.1.5.2.3 Standard Methods
###### 5.1.5.2.3.1 POST
This method shall support the request data structures specified in table
5.1.5.2.3.1-1 and the response data structures and response codes specified in
table 5.1.5.2.3.1-1.
Table 5.1.5.2.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description NefEventExposureNotif M 1 Provides
Information about observed events
* * *
Table 5.1.5.2.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The receipt | | | | | Content | of the | | | | | | Notification | | | | | | is | | | | | | acknowledged. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | | | | | | | Applicable if | | | | | | the feature | | | | | | \"ES3XX\" is | | | | | | supported. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | | | | | | | Applicable if | | | | | | the feature | | | | | | \"ES3XX\" is | | | | | | supported. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | Red | | | | | | irectResponse | | | | | | data | | | | | | structure may | | | | | | be provided | | | | | | by an SCP | | | | | | (cf. | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.1.5.2.3.1-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative NF | | | | | | consumer | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the | | | | | | notification | | | | | | should be | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the | | | | | | notification | | | | | | request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
Table 5.1.5.2.3.1-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative NF | | | | | | consumer | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the | | | | | | notification | | | | | | should be | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the | | | | | | notification | | | | | | request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
### 5.1.6 Data Model
#### 5.1.6.1 General
This clause specifies the application data model supported by the API.
Table 5.1.6.1-1 specifies the data types defined for the Nnef_EventExposure
service based interface protocol.
Table 5.1.6.1-1: Nnef_EventExposure specific Data Types
* * *
Data type Section defined Description Applicability GNSSAssistData 5.1.6.2.14
Represents GNSS Assistance Data. GNSSAssistData GNSSAssistDataInfo 5.1.6.2.13
Represents GNSS Assistance Data related information. GNSSAssistData
GNSSServArea 5.1.6.2.15 Represents the serving area of the GNSS Assistance
Data. GNSSAssistData NefEvent 5.1.6.3.3 Represents Network Exposure Events.  
NefEventExposureNotif 5.1.6.2.3 Represents notifications on network exposure
event(s) that occurred for an Individual Network Exposure Event Subscription
resource.  
NefEventExposureSubsc 5.1.6.2.2 Represents an Individual Network Exposure
Event Subscription resource.  
NefEventFilter 5.1.6.2.7 Represents event filter information for an event.  
NefEventNotification 5.1.6.2.4 Represents information related to an event to
be reported.  
NefEventSubs 5.1.6.2.5 Represents an event to be subscribed and the related
event filter information  
PerformanceDataInfo 5.1.6.2.12 Contains Performance Data Analytics related
information collection PerformanceData ServiceExperienceInfo 5.1.6.2.9
Contains service experience information associated with an application.
ServiceExperience TargetUeIdentification 5.1.6.2.8 Identifies the UE to which
the request applies.  
UeCommunicationInfo 5.1.6.2.6 Contains UE communication information associated
with an application. UeCommunication UeMobilityInfo 5.1.6.2.10 Contains UE
mobility information associated with an application. UeMobility
UeTrajectoryInfo 5.1.6.2.11 Contains UE trajectory information. UeMobility
* * *
Table 5.1.6.1-2 specifies data types re-used by the Nnef_EventExposure service
based interface protocol from other specifications, including a reference to
their respective specifications and when needed, a short description of their
use within the Nnef_EventExposure service based interface.
Table 5.1.6.1-2: Nnef_EventExposure re-used Data Types
* * *
Data type Reference Comments Applicability AddrFqdn 3GPP TS 29.517 [18] IP
address and/or FQDN.  
ApplicationId 3GPP TS 29.571 [16] Application identifier  
CollectiveBehaviourFilter 3GPP TS 29.517 [18] Contains the parameter type and
value pair to express the collective behaviour event filters.
CollectiveBehaviour CollectiveBehaviourInfo 3GPP TS 29.517 [18] Contains the
collective behaviour analytics information. CollectiveBehaviour
CommunicationCollection 3GPP TS 29.517 [18] Contains communication
information. UeCommunication DateTime 3GPP TS 29.571 [16] Contains a date and
a time.  
DatVolTransTimeCollection 3GPP TS 29.517 [18] Contains data volume transfer
time information. DataVolTransferTime Dnai 3GPP TS 29.571 [16]  
DispersionCollection 3GPP TS 29.517 [18] Contains dispersion collection
information. Dispersion DurationSec 3GPP TS 29.571 [16] Indicates a period of
time in units of seconds. DataVolTransferTime ExceptionInfo 3GPP TS 29.517
[18] Represents exception information for a service flow. Exceptions
GeographicArea 3GPP TS 29.572 [28] Represents a geographic area.  
GeographicalCoordinates 3GPP TS 29.572 [28] Represents geographical
coordinates.  
GroupId 3GPP TS 29.571 [16] Contains a Group identifier.  
IpAddr 3GPP TS 29.571 [16] Identifies the IP address of a UE. PerformanceData
MSAccessActivityCollection 3GPP TS 29.517 [18] Represents the Media Streaming
access activity of UE Application collected via Data Collection AF.
MSAccessActivity MsConsumptionCollection 3GPP TS 29.517 [18] Represents the
Media Streaming Consumption reports of UE Application collected via Data
Collection AF. MSConsumption MsDynPolicyInvocationCollection 3GPP TS 29.517
[18] Represents the Media Streaming Dynamic Policy Invocation of UE
Application collected via Data Collection AF. MSDynPolicyInvocation
MsQoeMetricsCollection 3GPP TS 29.517 [18] Represents the Media Streaming QoE
Metrics of UE Application collected via Data Collection AF. MSQoeMetrics
MsNetAssInvocationCollection 3GPP TS 29.517 [18] Represents the Media
Streaming Network Assistance invocation of UE Application collected via Data
Collection AF. MSNetAssInvocation NetworkAreaInfo 3GPP TS 29.554 [21]
Represents a network area information.  
PacketDelBudget 3GPP TS 29.571 [16] Indicates average Packet Delay.
PerformanceData PacketLossRate 3GPP TS 29.571 [16] Indicates average Loss
Rate. PerformanceData PerformanceData 3GPP TS 29.517 [18] Contains Performance
Data PerformanceData RedirectResponse 3GPP TS 29.571 [16] Contains redirection
related information. ES3XX ReportingInformation 3GPP TS 29.523 [22] Represents
the type of reporting the subscription requires.  
Supi 3GPP TS 29.571 [16] Contains a SUPI.  
SupportedFeatures 3GPP TS 29.571 [16] Indicates the features supported.  
ServiceExperienceInfoPerFlow 3GPP TS 29.517 [18] Contains service experience
information associated with a service flow. ServiceExperience Tai 3GPP TS
29.571 [16] Represents the identifier of a tracking area.  
Uinteger 3GPP TS 29.571 [16] Unsigned integer. ServiceExperienceExt_eNA
UserDataCongestionCollection 3GPP TS 29.517 [18] Contains User Data Congestion
Analytics related information collection. UserDataCongestion UserLocation 3GPP
TS 29.571 [16] Contains user location information. UeMobility Uri 3GPP TS
29.571 [16] Contains a URI.  
Volume 3GPP TS 29.122 [29] Unsigned integer identifying a volume in units of
bytes. DataVolTransferTime
* * *
#### 5.1.6.2 Structured data types
##### 5.1.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 5.1.6.2.2 Type: NefEventExposureSubsc
Table 5.1.6.2.2-1: Definition of type NefEventExposureSubsc
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | data | string | O | 0..1 | R | DataAcc | | AccProfId | | | | epresents | ProfileId | | | | | | a unique | | | | | | | i | | | | | | | dentifier | | | | | | | for the | | | | | | | Data | | | | | | | Access | | | | | | | Profile. | | +-----------+-----------+---+-----------+-----------+-----------+ | e | a | M | 1..N | S | | | ventsSubs | rray(NefE | | | ubscribed | | | | ventSubs) | | | events | | | | | | | and the | | | | | | | related | | | | | | | event | | | | | | | filters. | | +-----------+-----------+---+-----------+-----------+-----------+ | even | Re | O | 0..1 | R | | | tsRepInfo | portingIn | | | epresents | | | | formation | | | the | | | | | | | reporting | | | | | | | req | | | | | | | uirements | | | | | | | of the | | | | | | | subs | | | | | | | cription. | | | | | | | | | | | | | | If | | | | | | | omitted, | | | | | | | the | | | | | | | default | | | | | | | values | | | | | | | within | | | | | | | the | | | | | | | Re | | | | | | | portingIn | | | | | | | formation | | | | | | | data type | | | | | | | apply. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | notifUri | Uri | M | 1 | Not | | | | | | | ification | | | | | | | URI for | | | | | | | event | | | | | | | r | | | | | | | eporting. | | +-----------+-----------+---+-----------+-----------+-----------+ | ev | arra | C | 1..N | R | | | entNotifs | y(NefEven | | | epresents | | | | tNotifica | | | the | | | | tionData) | | | Events to | | | | | | | be | | | | | | | reported. | | | | | | | | | | | | | | Shall | | | | | | | only be | | | | | | | present | | | | | | | if the | | | | | | | immediate | | | | | | | reporting | | | | | | | i | | | | | | | ndication | | | | | | | in the | | | | | | | \ | | | | | | | "immRep\" | | | | | | | attribute | | | | | | | within | | | | | | | the | | | | | | | \"events | | | | | | | RepInfo\" | | | | | | | attribute | | | | | | | sets to | | | | | | | true in | | | | | | | the event | | | | | | | subs | | | | | | | cription, | | | | | | | and the | | | | | | | reports | | | | | | | are | | | | | | | a | | | | | | | vailable. | | +-----------+-----------+---+-----------+-----------+-----------+ | notifId | string | M | 1 | Not | | | | | | | ification | | | | | | | Co | | | | | | | rrelation | | | | | | | ID | | | | | | | assigned | | | | | | | by the NF | | | | | | | service | | | | | | | consumer. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | This IE | | | | dFeatures | | | r | | | | | | | epresents | | | | | | | a list of | | | | | | | Supported | | | | | | | features | | | | | | | used as | | | | | | | described | | | | | | | in | | | | | | | cl | | | | | | | ause 5.8. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | in the | | | | | | | HTTP POST | | | | | | | request/ | | | | | | | response; | | | | | | | or in the | | | | | | | HTTP GET | | | | | | | response | | | | | | | if the | | | | | | | \"su | | | | | | | pp-feat\" | | | | | | | attribute | | | | | | | query | | | | | | | parameter | | | | | | | is | | | | | | | included | | | | | | | in the | | | | | | | HTTP GET | | | | | | | request. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | In the | | | | | | | HTTP POST | | | | | | | request | | | | | | | it | | | | | | | r | | | | | | | epresents | | | | | | | the set | | | | | | | of NF | | | | | | | service | | | | | | | consumer | | | | | | | supported | | | | | | | features. | | | | | | | In the | | | | | | | HTTP POST | | | | | | | and GET | | | | | | | responses | | | | | | | it | | | | | | | r | | | | | | | epresents | | | | | | | the set | | | | | | | of | | | | | | | features | | | | | | | supported | | | | | | | by both | | | | | | | the NF | | | | | | | service | | | | | | | consumer | | | | | | | and the | | | | | | | NEF. | | | | | | | | | | | | | | NOTE 2: | | | | | | | The | | | | | | | \"events | | | | | | | RepInfo\" | | | | | | | attribute | | | | | | | may | | | | | | | include | | | | | | | muting | | | | | | | ins | | | | | | | tructions | | | | | | | within | | | | | | | the | | | | | | | \"n | | | | | | | otifFlagI | | | | | | | nstruct\" | | | | | | | attribute | | | | | | | and/or | | | | | | | muting | | | | | | | noti | | | | | | | fications | | | | | | | settings | | | | | | | within | | | | | | | the | | | | | | | \"muting | | | | | | | Setting\" | | | | | | | attribute | | | | | | | only if | | | | | | | the | | | | | | | En | | | | | | | hDataMgmt | | | | | | | feature | | | | | | | is | | | | | | | s | | | | | | | upported. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.1.6.2.3 Type: NefEventExposureNotif
Table 5.1.6.2.3-1: Definition of type NefEventExposureNotif
* * *
Attribute name Data type P Cardinality Description Applicability notifId
string M 1 Notification Correlation ID assigned by the NF service consumer.  
eventNotifs array(NefEventNotification) M 1..N Represents the Events to be
reported according to the subscription corresponding to the Notification
Correlation ID.
* * *
##### 5.1.6.2.4 Type: NefEventNotification
Table 5.1.6.2.4-1: Definition of type NefEventNotification
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | event | NefEvent | M | 1 | R | | | | | | | epresents | | | | | | | the | | | | | | | reported | | | | | | | ap | | | | | | | plication | | | | | | | related | | | | | | | event. | | +-----------+-----------+---+-----------+-----------+-----------+ | timeStamp | DateTime | M | 1 | Time at | | | | | | | which the | | | | | | | event is | | | | | | | observed. | | +-----------+-----------+---+-----------+-----------+-----------+ | svcE | a | C | 1..N | Contains | ServiceE | | xprcInfos | rray(Serv | | | the | xperience | | | iceExperi | | | service | | | | enceInfo) | | | e | | | | | | | xperience | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"event\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \ | | | | | | | "SVC_EXP | | | | | | | ERIENCE\" | | +-----------+-----------+---+-----------+-----------+-----------+ | ueMobi | arr | C | 1..N | Contains | U | | lityInfos | ay(UeMobi | | | the UE | eMobility | | | lityInfo) | | | mobility | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"event\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"UE_M | | | | | | | OBILITY\" | | +-----------+-----------+---+-----------+-----------+-----------+ | ue | array(Ue | C | 1..N | Contains | UeComm | | CommInfos | Communica | | | the | unication | | | tionInfo) | | | ap | | | | | | | plication | | | | | | | comm | | | | | | | unication | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"event\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"U | | | | | | | E_COMM\" | | +-----------+-----------+---+-----------+-----------+-----------+ | e | ar | C | 1..N | Each | E | | xcepInfos | ray(Excep | | | element | xceptions | | | tionInfo) | | | r | | | | | | | epresents | | | | | | | the | | | | | | | exception | | | | | | | in | | | | | | | formation | | | | | | | for a | | | | | | | service | | | | | | | flow. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"event\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"EXCE | | | | | | | PTIONS\". | | +-----------+-----------+---+-----------+-----------+-----------+ | conges | array(Us | C | 1..N | Each | UserDataC | | tionInfos | erDataCon | | | element | ongestion | | | gestionCo | | | r | | | | llection) | | | epresents | | | | | | | the user | | | | | | | data | | | | | | | c | | | | | | | ongestion | | | | | | | in | | | | | | | formation | | | | | | | for an AF | | | | | | | app | | | | | | | lication. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"event\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"USER_D | | | | | | | ATA_CONG | | | | | | | ESTION\". | | +-----------+-----------+---+-----------+-----------+-----------+ | perf | array(Pe | C | 1..N | Each | Perfor | | DataInfos | rformance | | | element | manceData | | | DataInfo) | | | r | | | | | | | epresents | | | | | | | the | | | | | | | pe | | | | | | | rformance | | | | | | | data | | | | | | | in | | | | | | | formation | | | | | | | collected | | | | | | | for an AF | | | | | | | app | | | | | | | lication. | | +-----------+-----------+---+-----------+-----------+-----------+ | disper | array(Dis | C | 1..N | Each | D | | sionInfos | persionCo | | | element | ispersion | | | llection) | | | r | | | | | | | epresents | | | | | | | the UE | | | | | | | d | | | | | | | ispersion | | | | | | | in | | | | | | | formation | | | | | | | collected | | | | | | | for an | | | | | | | AF. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"event\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"DISP | | | | | | | ERSION\". | | +-----------+-----------+---+-----------+-----------+-----------+ | col | arr | C | 1..N | Each | C | | lBhvrInfs | ay(Collec | | | element | ollective | | | tiveBehav | | | r | Behaviour | | | iourInfo) | | | epresents | | | | | | | the | | | | | | | c | | | | | | | ollective | | | | | | | behaviour | | | | | | | in | | | | | | | formation | | | | | | | related | | | | | | | to a set | | | | | | | of UEs, | | | | | | | appl | | | | | | | ications. | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"event\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"COLLEC | | | | | | | TIVE_BEH | | | | | | | AVIOUR\". | | +-----------+-----------+---+-----------+-----------+-----------+ | msQoe | ar | C | 1..N | Each | MSQ | | MetrInfos | ray(MsQoe | | | element | oeMetrics | | | MetricsCo | | | r | | | | llection) | | | epresents | | | | | | | the Media | | | | | | | Streaming | | | | | | | QoE | | | | | | | metrics | | | | | | | in | | | | | | | formation | | | | | | | collected | | | | | | | for an UE | | | | | | | ap | | | | | | | plication | | | | | | | via the | | | | | | | Data | | | | | | | C | | | | | | | ollection | | | | | | | AF. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"event\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"M | | | | | | | S_QOE_M | | | | | | | ETRICS\". | | +-----------+-----------+---+-----------+-----------+-----------+ | msCon | arr | C | 1..N | Each | MSCo | | sumpInfos | ay(MsCons | | | element | nsumption | | | umptionCo | | | r | | | | llection) | | | epresents | | | | | | | the Media | | | | | | | Streaming | | | | | | | Co | | | | | | | nsumption | | | | | | | reports | | | | | | | in | | | | | | | formation | | | | | | | collected | | | | | | | for an UE | | | | | | | ap | | | | | | | plication | | | | | | | via the | | | | | | | Data | | | | | | | C | | | | | | | ollection | | | | | | | AF. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"event\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \" | | | | | | | MS_CONSU | | | | | | | MPTION\". | | +-----------+-----------+---+-----------+-----------+-----------+ | msNetAs | array(Ms | C | 1..N | Each | MSNetAssI | | sInvInfos | NetAssInv | | | element | nvocation | | | ocationCo | | | r | | | | llection) | | | epresents | | | | | | | the Media | | | | | | | Streaming | | | | | | | Network | | | | | | | A | | | | | | | ssistance | | | | | | | i | | | | | | | nvocation | | | | | | | in | | | | | | | formation | | | | | | | collected | | | | | | | for an UE | | | | | | | ap | | | | | | | plication | | | | | | | via the | | | | | | | Data | | | | | | | C | | | | | | | ollection | | | | | | | AF. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"event\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"MS\ | | | | | | | _NET_ASS | | | | | | | IST_INVO | | | | | | | CATION\". | | +-----------+-----------+---+-----------+-----------+-----------+ | msDynPl | ar | C | 1..N | Each | MSD | | yInvInfos | ray(MsDyn | | | element | ynPolicyI | | | PolicyInv | | | r | nvocation | | | ocationCo | | | epresents | | | | llection) | | | the Media | | | | | | | Streaming | | | | | | | Dynamic | | | | | | | Policy | | | | | | | I | | | | | | | nvocation | | | | | | | in | | | | | | | formation | | | | | | | collected | | | | | | | for an UE | | | | | | | ap | | | | | | | plication | | | | | | | via the | | | | | | | Data | | | | | | | C | | | | | | | ollection | | | | | | | AF. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"event\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"MS\ | | | | | | | _DYN_POL | | | | | | | ICY_INVO | | | | | | | CATION\". | | +-----------+-----------+---+-----------+-----------+-----------+ | msAc | array( | C | 1..N | Each | MSAcces | | cActInfos | MSAccessA | | | element | sActivity | | | ctivityCo | | | r | | | | llection) | | | epresents | | | | | | | the Media | | | | | | | Streaming | | | | | | | access | | | | | | | activity | | | | | | | collected | | | | | | | for an UE | | | | | | | ap | | | | | | | plication | | | | | | | via the | | | | | | | Data | | | | | | | C | | | | | | | ollection | | | | | | | AF. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"event\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"MS_A | | | | | | | CCESS_AC | | | | | | | TIVITY\". | | +-----------+-----------+---+-----------+-----------+-----------+ | gnssAssis | GNSSAssis | C | 1..N | R | GNSSA | | tDataInfo | tDataInfo | | | epresents | ssistData | | | | | | the GNSS | | | | | | | A | | | | | | | ssistance | | | | | | | data | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | present | | | | | | | only if | | | | | | | the | | | | | | | \"event\" | | | | | | | attribute | | | | | | | is set to | | | | | | | \"GNSS_A | | | | | | | SSISTANCE | | | | | | | _DATA\". | | +-----------+-----------+---+-----------+-----------+-----------+ | da | array | C | 1..N | Each | D | | tVolTrans | (DatVolTr | | | element | ataVolTra | | TimeInfos | ansTimeCo | | | r | nsferTime | | | llection) | | | epresents | | | | | | | the data | | | | | | | volume | | | | | | | transfer | | | | | | | time | | | | | | | in | | | | | | | formation | | | | | | | related | | | | | | | to an UE. | | | | | | | The | | | | | | | \"gpsi\" | | | | | | | attribute | | | | | | | within | | | | | | | the | | | | | | | DatVolT | | | | | | | ransTimeC | | | | | | | ollection | | | | | | | data type | | | | | | | is not | | | | | | | ap | | | | | | | plicable. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | \"event\" | | | | | | | attribute | | | | | | | sets to | | | | | | | \"DATA | | | | | | | _VOLUME\ | | | | | | | _TRANSFER | | | | | | | _TIME\". | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.1.6.2.5 Type NefEventSubs
Table 5.1.6.2.5-1: Definition of type NefEventSubs
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | event | NefEvent | M | 1 | S | | | | | | | ubscribed | | | | | | | event. | | +-----------+-----------+---+-----------+-----------+-----------+ | ev | NefEv | C | 0..1 | R | ServiceE | | entFilter | entFilter | | | epresents | xperience | | | | | | the event | | | | | | | filter | UeComm | | | | | | in | unication | | | | | | formation | | | | | | | a | U | | | | | | ssociated | eMobility | | | | | | with each | | | | | | | event. | E | | | | | | | xceptions | | | | | | Shall be | | | | | | | present | UserDataC | | | | | | if | ongestion | | | | | | \"event\" | | | | | | | sets to | Perfor | | | | | | \" | manceData | | | | | | SVC_EXPE | | | | | | | RIENCE\", | D | | | | | | \"UE_MO | ispersion | | | | | | BILITY\", | | | | | | | \"UE | C | | | | | | _COMM\", | ollective | | | | | | \"EXCE | Behaviour | | | | | | PTIONS\", | | | | | | | \"USER_D | MSQ | | | | | | ATA_CONG | oeMetrics | | | | | | ESTION\", | | | | | | | \"PER | MSCo | | | | | | F_DATA\" | nsumption | | | | | | | | | | | | | \"COLLEC | MSNetAssI | | | | | | TIVE_BEH | nvocation | | | | | | AVIOUR\", | | | | | | | \"DISP | MSD | | | | | | ERSION\", | ynPolicyI | | | | | | \"M | nvocation | | | | | | S_QOE_M | | | | | | | ETRICS\", | MSAcces | | | | | | \" | sActivity | | | | | | MS_CONSU | | | | | | | MPTION\", | D | | | | | | \"MS\ | ataVolTra | | | | | | _NET_ASS | nsferTime | | | | | | IST_INVO | | | | | | | CATION\", | | | | | | | \"MS\ | | | | | | | _DYN_POL | | | | | | | ICY_INVO | | | | | | | CATION\", | | | | | | | \"MS_ | | | | | | | ACCESS_A | | | | | | | CTIVITY\" | | | | | | | or | | | | | | | \"E2E | | | | | | | _DATA_V | | | | | | | OL_TRANS | | | | | | | _TIME\". | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.1.6.2.6 Type UeCommunicationInfo
Table 5.1.6.2.6-1: Definition of type UeCommunicationInfo
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | supi | Supi | C | 0..1 | I | | | | | | | dentifies | | | | | | | an UE. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | event | | | | | | | exposure | | | | | | | request | | | | | | | applies | | | | | | | to more | | | | | | | than one | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | int | GroupId | O | 0..1 | I | | | erGroupId | | | | dentifies | | | | | | | an UE | | | | | | | group. | | +-----------+-----------+---+-----------+-----------+-----------+ | appId | Appl | O | 0..1 | I | | | | icationId | | | dentifies | | | | | | | an | | | | | | | ap | | | | | | | plication | | | | | | | id | | | | | | | entifier. | | +-----------+-----------+---+-----------+-----------+-----------+ | comms | arr | M | 1..N | This | | | | ay(Commun | | | attribute | | | | icationCo | | | contains | | | | llection) | | | a list of | | | | | | | comm | | | | | | | unication | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.1.6.2.7 Type NefEventFilter
Table 5.1.6.2.7-1: Definition of type NefEventFilter
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | tgtUe | Targ | M | 1 | R | (NOTE 1) | | | etUeIdent | | | epresents | | | | ification | | | the UE | | | | | | | in | | | | | | | formation | | | | | | | to which | | | | | | | the | | | | | | | request | | | | | | | applies. | | +-----------+-----------+---+-----------+-----------+-----------+ | appIds | ar | C | 1..N | Each | ServiceE | | | ray(Appli | | | element | xperience | | | cationId) | | | indicates | | | | | | | an | E | | | | | | ap | xceptions | | | | | | plication | | | | | | | id | UeComm | | | | | | entifier. | unication | | | | | | | | | | | | | If | U | | | | | | absent, | eMobility | | | | | | the | UserDataC | | | | | | NefEv | ongestion | | | | | | entFilter | | | | | | | data | Perfor | | | | | | applies | manceData | | | | | | to any | | | | | | | ap | D | | | | | | plication | ispersion | | | | | | (i.e. all | | | | | | | appli | MSQ | | | | | | cations). | oeMetrics | | | | | | | | | | | | | (NOTE 2) | MSCo | | | | | | | nsumption | | | | | | | | | | | | | | MSNetAssI | | | | | | | nvocation | | | | | | | | | | | | | | MSD | | | | | | | ynPolicyI | | | | | | | nvocation | | | | | | | | | | | | | | MSAcces | | | | | | | sActivity | | | | | | | | | | | | | | D | | | | | | | ataVolTra | | | | | | | nsferTime | +-----------+-----------+---+-----------+-----------+-----------+ | locArea | Networ | O | 0..1 | R | ServiceE | | | kAreaInfo | | | epresents | xperience | | | | | | an area | | | | | | | of | E | | | | | | interest. | xceptions | | | | | | (NOTE 3) | | | | | | | | UeComm | | | | | | | unication | | | | | | | | | | | | | | U | | | | | | | eMobility | | | | | | | | | | | | | | UserDataC | | | | | | | ongestion | | | | | | | | | | | | | | D | | | | | | | ispersion | | | | | | | | | | | | | | C | | | | | | | ollective | | | | | | | Behaviour | | | | | | | | | | | | | | MSQ | | | | | | | oeMetrics | | | | | | | | | | | | | | MSCo | | | | | | | nsumption | | | | | | | | | | | | | | MSNetAssI | | | | | | | nvocation | | | | | | | | | | | | | | MSD | | | | | | | ynPolicyI | | | | | | | nvocation | | | | | | | | | | | | | | MSAcces | | | | | | | sActivity | | | | | | | | | | | | | | D | | | | | | | ataVolTra | | | | | | | nsferTime | +-----------+-----------+---+-----------+-----------+-----------+ | collAttrs | array | O | 1..N | Each | C | | | (Collecti | | | element | ollective | | | veBehavio | | | indicates | Behaviour | | | urFilter) | | | a | | | | | | | c | | | | | | | ollective | | | | | | | attribute | | | | | | | parameter | | | | | | | type and | | | | | | | value. | | | | | | | (NOTE 4) | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | Appl | | | | | | | icability | | | | | | | is | | | | | | | further | | | | | | | described | | | | | | | in the | | | | | | | corr | | | | | | | esponding | | | | | | | data | | | | | | | type. | | | | | | | | | | | | | | NOTE 2: | | | | | | | For the | | | | | | | events | | | | | | | \"EXCE | | | | | | | PTIONS\", | | | | | | | \"UE_MO | | | | | | | BILITY\", | | | | | | | \"UE | | | | | | | _COMM\", | | | | | | | and | | | | | | | \"PERF | | | | | | | _DATA\", | | | | | | | if | | | | | | | present, | | | | | | | the | | | | | | | \ | | | | | | | "appIds\" | | | | | | | attribute | | | | | | | shall | | | | | | | include | | | | | | | only one | | | | | | | element. | | | | | | | | | | | | | | NOTE 3: | | | | | | | For event | | | | | | | \" | | | | | | | SVC_EXPE | | | | | | | RIENCE\", | | | | | | | only the | | | | | | | \" tais | | | | | | | \" | | | | | | | attribute | | | | | | | within | | | | | | | the | | | | | | | Networ | | | | | | | kAreaInfo | | | | | | | data is | | | | | | | ap | | | | | | | plicable. | | | | | | | | | | | | | | NOTE 4: | | | | | | | The | | | | | | | a | | | | | | | ttributes | | | | | | | \"coll | | | | | | | BehAttr\" | | | | | | | and | | | | | | | \"dataP | | | | | | | rocType\" | | | | | | | within | | | | | | | this | | | | | | | attribute | | | | | | | may be | | | | | | | used to | | | | | | | indicate | | | | | | | values of | | | | | | | c | | | | | | | ollective | | | | | | | behaviour | | | | | | | a | | | | | | | ttributes | | | | | | | to be | | | | | | | matched | | | | | | | only if | | | | | | | the | | | | | | | feature | | | | | | | \ | | | | | | | "ExtEvent | | | | | | | Filters\" | | | | | | | is | | | | | | | s | | | | | | | upported. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.1.6.2.8 Type TargetUeIdentification
Table 5.1.6.2.8-1: Definition of type TargetUeIdentification
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | supis | ar | O | 1..N | Each | ServiceE | | | ray(Supi) | | | element | xperience | | | | | | i | | | | | | | dentifies | E | | | | | | a SUPI | xceptions | | | | | | for an | | | | | | | UE. | U | | | | | | | eMobility | | | | | | | | | | | | | | UeComm | | | | | | | unication | | | | | | | | | | | | | | UserDataC | | | | | | | ongestion | | | | | | | | | | | | | | D | | | | | | | ispersion | | | | | | | | | | | | | | MSQ | | | | | | | oeMetrics | | | | | | | | | | | | | | MSCo | | | | | | | nsumption | | | | | | | | | | | | | | MSNetAssI | | | | | | | nvocation | | | | | | | | | | | | | | MSD | | | | | | | ynPolicyI | | | | | | | nvocation | | | | | | | | | | | | | | MSAcces | | | | | | | sActivity | | | | | | | | | | | | | | D | | | | | | | ataVolTra | | | | | | | nsferTime | +-----------+-----------+---+-----------+-----------+-----------+ | inte | array | O | 1..N | Each | ServiceE | | rGroupIds | (GroupId) | | | element | xperience | | | | | | r | | | | | | | epresents | E | | | | | | an | xceptions | | | | | | internal | | | | | | | group | U | | | | | | i | eMobility | | | | | | dentifier | | | | | | | which | UeComm | | | | | | i | unication | | | | | | dentifies | | | | | | | a group | MSQ | | | | | | of UEs. | oeMetrics | | | | | | | | | | | | | | MSCo | | | | | | | nsumption | | | | | | | | | | | | | | MSNetAssI | | | | | | | nvocation | | | | | | | | | | | | | | MSD | | | | | | | ynPolicyI | | | | | | | nvocation | | | | | | | | | | | | | | MSAcces | | | | | | | sActivity | +-----------+-----------+---+-----------+-----------+-----------+ | anyUeId | boolean | O | 0..1 | I | ServiceE | | | | | | dentifies | xperience | | | | | | whether | | | | | | | the | E | | | | | | request | xceptions | | | | | | applies | | | | | | | to any | UserDataC | | | | | | UE. | ongestion | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall set | | | | | | | to | | | | | | | \"true\" | | | | | | | if | | | | | | | a | | | | | | | pplicable | | | | | | | for any | | | | | | | UE, | | | | | | | o | | | | | | | therwise, | | | | | | | set to | | | | | | | \ | | | | | | | "false\". | | +-----------+-----------+---+-----------+-----------+-----------+ | ueIpAddr | IpAddr | O | 0..1 | I | EnPerfor | | | | | | dentifies | manceData | | | | | | the UE IP | | | | | | | address. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: For | | | | | | | an | | | | | | | a | | | | | | | pplicable | | | | | | | feature, | | | | | | | only one | | | | | | | attribute | | | | | | | id | | | | | | | entifying | | | | | | | the | | | | | | | target UE | | | | | | | shall be | | | | | | | provided. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.1.6.2.9 Type: ServiceExperienceInfo
Table 5.1.6.2.9-1: Definition of type ServiceExperienceInfo
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | appId | Appl | C | 0..1 | I | ServiceE | | | icationId | | | dentifies | xperience | | | | | | an | | | | | | | ap | | | | | | | plication | | | | | | | id | | | | | | | entifier. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | event | | | | | | | exposure | | | | | | | service | | | | | | | request | | | | | | | applies | | | | | | | to more | | | | | | | than one | | | | | | | app | | | | | | | lication. | | +-----------+-----------+---+-----------+-----------+-----------+ | supis | ar | C | 1..N | Each | ServiceE | | | ray(Supi) | | | element | xperience | | | | | | r | | | | | | | epresents | | | | | | | the | | | | | | | internal | | | | | | | UE | | | | | | | id | | | | | | | entifier. | | +-----------+-----------+---+-----------+-----------+-----------+ | svcEx | array(Se | M | 1..N | Each | ServiceE | | pPerFlows | rviceExpe | | | element | xperience | | | rienceInf | | | indicates | | | | oPerFlow) | | | service | | | | | | | e | | | | | | | xperience | | | | | | | for each | | | | | | | service | | | | | | | flow. | | +-----------+-----------+---+-----------+-----------+-----------+ | con | array( | C | 1..N | Indicates | Service | | trWeights | Uinteger) | | | the | Experienc | | | | | | Service | eExt_eNA | | | | | | E | | | | | | | xperience | | | | | | | Con | | | | | | | tribution | | | | | | | Weights | | | | | | | of a list | | | | | | | of UEs in | | | | | | | the same | | | | | | | sequence | | | | | | | as in the | | | | | | | presented | | | | | | | gpsis or | | | | | | | supis | | | | | | | list of | | | | | | | UEs. The | | | | | | | weights | | | | | | | indicate | | | | | | | the | | | | | | | relative | | | | | | | i | | | | | | | mportance | | | | | | | among the | | | | | | | elements | | | | | | | of this | | | | | | | array. | | | | | | | The | | | | | | | higher | | | | | | | the | | | | | | | number, | | | | | | | the | | | | | | | higher | | | | | | | the | | | | | | | im | | | | | | | portance. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.1.6.2.10 Type: UeMobilityInfo
Table 5.1.6.2.10-1: Definition of type UeMobilityInfo
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | supi | Supi | M | 1 | I | | | | | | | dentifies | | | | | | | an UE. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | event | | | | | | | exposure | | | | | | | request | | | | | | | applies | | | | | | | to more | | | | | | | than one | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | appId | Appl | O | 0..1 | I | | | | icationId | | | dentifies | | | | | | | an | | | | | | | ap | | | | | | | plication | | | | | | | id | | | | | | | entifier. | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | ueTrajs | array | M | 1..N | I | | | | (UeTrajec | | | dentifies | | | | toryInfo) | | | an UE | | | | | | | moving | | | | | | | tr | | | | | | | ajectory. | | +-----------+-----------+---+-----------+-----------+-----------+ | areas | arra | O | 1..N | Indicates | U | | | y(Network | | | a list of | eMobility | | | AreaInfo) | | | areas | Ext_AIML | | | | | | used by | | | | | | | the AF | | | | | | | for the | | | | | | | ap | | | | | | | plication | | | | | | | service. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: If | | | | | | | the | | | | | | | \"appId\" | | | | | | | attribute | | | | | | | is not | | | | | | | present, | | | | | | | then | | | | | | | indicates | | | | | | | the | | | | | | | collected | | | | | | | UE | | | | | | | mobility | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | a | | | | | | | pplicable | | | | | | | to all | | | | | | | the | | | | | | | app | | | | | | | lications | | | | | | | for the | | | | | | | UE. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.1.6.2.11 Type: UeTrajectoryInfo
Table 5.1.6.2.11-1: Definition of type UeTrajectoryInfo
* * *
Attribute name Data type P Cardinality Description Applicability ts DateTime M
1 Identifies the timestamp when the UE enters this area.  
location UserLocation M 1 Includes the location of the UE. (NOTE)  
NOTE: Only EutraLocation data and/or NrLocation data in UserLocation data are
applicable to the property.
* * *
##### 5.1.6.2.12 Type PerformanceDataInfo
**Table 5.1.6.2.12-1: Definition of type PerformanceDataInfo**
+----------+----------+-------+----------+----------+----------+ | **A |** Data | **P** | **Cardi |** Descr | * | | ttribute | type**| | nality** | iption**| *Applica | | name** | | | | | bility** | +----------+----------+-------+----------+----------+----------+ | appId | Appli | O | 0..1 | I | | | | cationId | | | ndicates | | | | | | | an | | | | | | | app | | | | | | | lication | | | | | | | ide | | | | | | | ntifier. | | +----------+----------+-------+----------+----------+----------+ | ueIpAddr | IpAddr | O | 0..1 | Id | | | | | | | entifies | | | | | | | the IP | | | | | | | address | | | | | | | of a UE. | | +----------+----------+-------+----------+----------+----------+ | ipTraff | FlowInfo | O | 0..1 | Id | | | icFilter | | | | entifies | | | | | | | IP | | | | | | | packet | | | | | | | filter. | | +----------+----------+-------+----------+----------+----------+ | userLoc | User | O | 0..1 | Re | | | | Location | | | presents | | | | | | | the user | | | | | | | l | | | | | | | ocation. | | +----------+----------+-------+----------+----------+----------+ | appLocs | arr | O | 1..N | Re | | | | ay(Dnai) | | | presents | | | | | | | the | | | | | | | app | | | | | | | lication | | | | | | | lo | | | | | | | cations. | | +----------+----------+-------+----------+----------+----------+ | asAddr | AddrFqdn | O | 0..1 | Re | | | | | | | presents | | | | | | | the IP | | | | | | | address | | | | | | | or FQDN | | | | | | | of the | | | | | | | App | | | | | | | lication | | | | | | | Server. | | | | | | | (NOTE 1) | | +----------+----------+-------+----------+----------+----------+ | perfData | Perform | M | 1 | I | | | | anceData | | | ndicates | | | | | | | the | | | | | | | per | | | | | | | formance | | | | | | | data. | | | | | | | | | | | | | | (NOTE 2) | | +----------+----------+-------+----------+----------+----------+ | t | DateTime | M | 1 | It | | | imeStamp | | | | defines | | | | | | | the | | | | | | | t | | | | | | | imestamp | | | | | | | of | | | | | | | a | | | | | | | nalytics | | | | | | | gen | | | | | | | eration. | | +----------+----------+-------+----------+----------+----------+ | NOTE 1: | | | | | | | If the | | | | | | | \" | | | | | | | asAddr\" | | | | | | | a | | | | | | | ttribute | | | | | | | is | | | | | | | i | | | | | | | ncluded, | | | | | | | either | | | | | | | the | | | | | | | \" | | | | | | | ipAddr\" | | | | | | | a | | | | | | | ttribute | | | | | | | or the | | | | | | | \"fqdn\" | | | | | | | a | | | | | | | ttribute | | | | | | | in the | | | | | | | AddrFqdn | | | | | | | data | | | | | | | type | | | | | | | shall be | | | | | | | p | | | | | | | rovided. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If the | | | | | | | feature | | | | | | | \"Pe | | | | | | | rformanc | | | | | | | eDataExt | | | | | | | _AIML\" | | | | | | | is | | | | | | | su | | | | | | | pported, | | | | | | | the | | | | | | | a | | | | | | | ttribute | | | | | | | \"pe | | | | | | | rfData\" | | | | | | | i | | | | | | | ndicates | | | | | | | the | | | | | | | UL/DL | | | | | | | per | | | | | | | formance | | | | | | | data. | | | | | | | The | | | | | | | \" | | | | | | | pdbDl\", | | | | | | | \"max | | | | | | | PdbUl\", | | | | | | | \"max | | | | | | | PdbDl\", | | | | | | | \" | | | | | | | plrDl\", | | | | | | | \"max | | | | | | | PlrUl\", | | | | | | | \"max | | | | | | | PlrDl\", | | | | | | | \"maxThr | | | | | | | putUl\", | | | | | | | \"minThr | | | | | | | putUl\", | | | | | | | \"maxTh | | | | | | | rputDl\" | | | | | | | and | | | | | | | \"minTh | | | | | | | rputDl\" | | | | | | | attr | | | | | | | ibute(s) | | | | | | | within | | | | | | | the | | | | | | | Perform | | | | | | | anceData | | | | | | | data | | | | | | | type is | | | | | | | ap | | | | | | | plicable | | | | | | | only if | | | | | | | the | | | | | | | \"P | | | | | | | erforman | | | | | | | ceDataEx | | | | | | | t_AIML" | | | | | | | feature | | | | | | | is | | | | | | | su | | | | | | | pported. | | | | | | +----------+----------+-------+----------+----------+----------+
##### 5.1.6.2.13 Type GNSSAssistDataInfo
**Table 5.1.6.2.13-1: Definition of type GNSSAssistDataInfo**
* * *
**Attribute name** **Data type** **P** **Cardinality** **Description**
**Applicability** gnssAssistData GNSSAssistData M 1 Contains the GNSS
Assistance Data.  
servArea GNSSServArea M 1 Contains the serving area of the provided GNSS
Assistance Data.  
sourceInfo GeographicalCoordinates O 0..1 Contains the global geographical
coordinates of the source of the GNSS assistance data provided within the
\"gnssAssistData\" attribute.
* * *
Editor\'s note: The encoding of the \"gnssAssistData\" attribute is FFS and
will be based on clause 6.5.2.1 of 3GPP TS 37.355.
##### 5.1.6.2.14 Type GNSSAssistData
**Table 5.1.6.2.14-1: Definition of type GNSSAssistData**
* * *
**Attribute name** **Data type** **P** **Cardinality** **Description**
**Applicability**
* * *
Editor\'s note: The definition of this data type is FFS and will be based on
clause 6.5.2.1 of 3GPP TS 37.355.
##### 5.1.6.2.15 Type GNSSServArea
**Table 5.1.6.2.15-1: Definition of type GNSSServArea**
+----------+----------+-------+----------+----------+----------+ | **A |** Data | **P** | **Cardi |** Descr | * | | ttribute | type**| | nality** | iption**| *Applica | | name** | | | | | bility** | +----------+----------+-------+----------+----------+----------+ | geograph | Geogra | C | 0..1 | Contains | | | icalArea | phicArea | | | the GNSS | | | | | | | Service | | | | | | | Area in | | | | | | | the form | | | | | | | of a | | | | | | | geog | | | | | | | raphical | | | | | | | area. | | | | | | | | | | | | | | (NOTE) | | +----------+----------+-------+----------+----------+----------+ | taiList | ar | C | 1..N | Contains | | | | ray(Tai) | | | the GNSS | | | | | | | Service | | | | | | | Area in | | | | | | | the form | | | | | | | of a | | | | | | | list of | | | | | | | tracking | | | | | | | area(s). | | | | | | | | | | | | | | (NOTE) | | +----------+----------+-------+----------+----------+----------+ | NOTE: | | | | | | | These | | | | | | | at | | | | | | | tributes | | | | | | | are | | | | | | | mutually | | | | | | | ex | | | | | | | clusive. | | | | | | | Either | | | | | | | one of | | | | | | | them | | | | | | | shall be | | | | | | | p | | | | | | | rovided. | | | | | | +----------+----------+-------+----------+----------+----------+
#### 5.1.6.3 Simple data types and enumerations
##### 5.1.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.1.6.3.2 Simple data types
The simple data types defined in table 5.1.6.3.2-1 shall be supported.
Table 5.1.6.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
##### 5.1.6.3.3 Enumeration: NefEvent
The enumeration NefEvent represents the subscribed/notified event to be
monitored. It shall comply with the provisions defined in table 5.1.6.3.3-1.
Table 5.1.6.3.3-1: Enumeration NefEvent
* * *
Enumeration value Description Applicability SVC_EXPERIENCE Indicates that the
subscribed/notified event is service experience information. ServiceExperience
UE_COMM Indicates that the subscribed/notified event is UE communication
information. UeCommunication UE_MOBILITY Indicates that the
subscribed/notified event is UE mobility information. UeMobility EXCEPTIONS
Indicates that the subscribed/notified event is exceptions information.
Exceptions USER_DATA_CONGESTION Indicates that the subscribed/notified event
is user data congestion analytics related information. UserDataCongestion
PERF_DATA Indicates that the subscribed/notified event is performance data
information. PerformanceData DISPERSION Indicates that the event subscribed is
dispersion information. Dispersion COLLECTIVE_BEHAVIOUR Indicates that the
subscribed/notified event is collective behaviour information.
CollectiveBehaviour MS_QOE_METRICS Indicates that the subscribed/notified
event is Media Streaming QoE metrics. MSQoeMetrics MS_CONSUMPTION Indicates
that the subscribed/notified event is Media Streaming Consumption reports.
MSConsumption MS_NET_ASSIST_INVOCATION Indicates that the subscribed/notified
event is Media Streaming Network Assistance invocation. MSNetAssInvocation
MS_DYN_POLICY_INVOCATION Indicates that the subscribed/notified event is Media
Streaming Dynamic Policy invocation. MSDynPolicyInvocation MS_ACCESS_ACTIVITY
Indicates that the subscribed/notified event is Media Streaming access
activity. MSAccessActivity GNSS_ASSISTANCE_DATA Indicates that the
subscribed/notified event is GNSS Assistance Data Collection. GNSSAssistData
DATA_VOLUME_TRANSFER_TIME Indicates that the event subscribed is data volume
transfer time information. DataVolTransferTime
* * *
### 5.1.7 Error Handling
#### 5.1.7.1 General
For the Nnef_EventExposure API, HTTP error responses shall be supported as
specified in clause 4.8 of 3GPP TS 29.501 [5]. Protocol errors and application
errors specified in table 5.2.7.2-1 of 3GPP TS 29.500 [4] shall be supported
for an HTTP method if the corresponding HTTP status codes are specified as
mandatory for that HTTP method in table 5.2.7.1-1 of 3GPP TS 29.500 [4].
In addition, the requirements in the following clauses are applicable for the
Nnef_EventExposure API.
#### 5.1.7.2 Protocol Errors
No specific procedures for the Nnef_EventExposure service are specified.
#### 5.1.7.3 Application Errors
The application errors defined for the Nnef_EventExposure service are listed
in Table 5.1.7.3-1.
Table 5.1.7.3-1: Application errors
* * *
Application Error HTTP status code Description MUTING_INSTR_NOT_ACCEPTED 403
Forbidden Indicates that the muting instructions received by the NF service
consumer cannot be accepted.
* * *
### 5.1.8 Feature negotiation
The optional features in table 5.1.8-1 are defined for the Nnef_EventExposure
API. They shall be negotiated using the extensibility mechanism defined in
clause 6.6 of 3GPP TS 29.500 [4].
Table 5.1.8-1: Supported Features
+----------------+-------------------------+-------------------------+ | Feature number | Feature Name | Description | +----------------+-------------------------+-------------------------+ | 1 | ServiceExperience | This feature indicates | | | | support for the | | | | \"SVC_EXPERIENCE\" | | | | event. | +----------------+-------------------------+-------------------------+ | 2 | UeMobility | This feature indicates | | | | support for the | | | | \"UE_MOBILITY\" event. | +----------------+-------------------------+-------------------------+ | 3 | UeCommunication | This feature indicates | | | | support for the | | | | \"UE_COMM\" event. | +----------------+-------------------------+-------------------------+ | 4 | Exceptions | This feature indicates | | | | support for the | | | | \"EXCEPTIONS\" event. | +----------------+-------------------------+-------------------------+ | 5 | ES3XX | Extended Support for | | | | 3xx redirections. This | | | | feature indicates the | | | | support of redirection | | | | for any service | | | | operation, according to | | | | Stateless NF procedures | | | | as specified in | | | | clauses 6.5.3.2 and | | | | 6.5.3.3 of | | | | 3GPP TS 29.500 [4] | | | | and according to HTTP | | | | redirection principles | | | | for indirect | | | | communication, as | | | | specified in | | | | clause 6.10.9 of | | | | 3GPP TS 29.500 [4]. | +----------------+-------------------------+-------------------------+ | 6 | EneNA | This feature indicates | | | | support for the | | | | enhancements of network | | | | data analytics | | | | requirements. | +----------------+-------------------------+-------------------------+ | 7 | UserDataCongestion | This feature indicates | | | | support for the event | | | | related to User Data | | | | Congestion Analytics | | | | related information. | +----------------+-------------------------+-------------------------+ | 8 | PerformanceData | This feature indicates | | | | support for the event | | | | related to performance | | | | data information. | +----------------+-------------------------+-------------------------+ | 9 | Dispersion | This feature indicates | | | | support for the event | | | | related to Dispersion | | | | Analytics related | | | | information. | +----------------+-------------------------+-------------------------+ | 10 | CollectiveBehaviour | This feature indicates | | | | support of collective | | | | behaviour information | | | | associated with the UEs | | | | and its applications. | +----------------+-------------------------+-------------------------+ | 11 | MSQoeMetrics | This feature indicates | | | | support for the event | | | | related to Media | | | | Streaming QoE metrics | | | | for UE Application | | | | collected via the Data | | | | Collection AF. | +----------------+-------------------------+-------------------------+ | 12 | MSConsumption | This feature indicates | | | | support for the event | | | | related to Media | | | | Streaming Consumption | | | | reports for UE | | | | Application collected | | | | via the Data Collection | | | | AF. | +----------------+-------------------------+-------------------------+ | 13 | MSNetAssInvocation | This feature indicates | | | | support for the event | | | | related to Media | | | | Streaming Network | | | | Assistance invocation | | | | for UE Application | | | | collected via the Data | | | | Collection AF. | +----------------+-------------------------+-------------------------+ | 14 | MSDynPolicyInvocation | This feature indicates | | | | support for the event | | | | related to Media | | | | Streaming Dynamic | | | | Policy invocation for | | | | UE Application | | | | collected via the Data | | | | Collection AF. | +----------------+-------------------------+-------------------------+ | 15 | MSAccessActivity | This feature indicates | | | | support for the event | | | | related to Media | | | | Streaming access | | | | activity for UE | | | | Application collected | | | | via the Data Collection | | | | AF. | +----------------+-------------------------+-------------------------+ | 16 | DataAccProfileId | This feature indicates | | | | support for Data Access | | | | Profile Identifier. | +----------------+-------------------------+-------------------------+ | 17 | GNSSAssistData | This feature indicates | | | | the support of the GNSS | | | | Assistance Data | | | | Collection | | | | functionality for 5G | | | | LCS. | | | | | | | | This feature is part of | | | | the phase 3 of the | | | | enhancements to 5G LCS. | +----------------+-------------------------+-------------------------+ | 18 | UeMobility_Ext | This feature indicates | | | | support for further | | | | extensions to the event | | | | related to UE mobility | | | | supporting AIML | | | | including support of | | | | list of application | | | | service area | | | | collection. Supporting | | | | this feature also | | | | requires the support of | | | | feature UeMobility. | +----------------+-------------------------+-------------------------+ | 19 | P | This feature indicates | | | erformanceDataExt_AIML | the support for the | | | | extensions of the | | | | analytics related to DN | | | | performance supporting | | | | AIML, including support | | | | of Max/Min UL/DL data | | | | collection on packet | | | | delay, pack loss and | | | | throughput. Supporting | | | | this feature also | | | | requires the support of | | | | feature | | | | PerformanceData. | +----------------+-------------------------+-------------------------+ | 20 | Se | This feature indicates | | | rviceExperienceExt_eNA | support for the | | | | extensions to service | | | | experience supporting | | | | eNA, including Service | | | | Experience Contribution | | | | Weights. Supporting | | | | this feature also | | | | requires the support of | | | | feature | | | | ServiceExperience. | +----------------+-------------------------+-------------------------+ | 21 | EnPerformanceData | This feature indicates | | | | support for the | | | | enhancements of | | | | performance data. It | | | | requires the support of | | | | the PerformanceData | | | | feature. | +----------------+-------------------------+-------------------------+ | 22 | EnhDataMgmt | Indicates the support | | | | of enhanced data | | | | management mechanisms. | | | | Supporting this feature | | | | also requires the | | | | support of feature | | | | EneNA. | +----------------+-------------------------+-------------------------+ | 23 | ExtEventFilters | Indicates supported of | | | | extended AF event | | | | filters. | +----------------+-------------------------+-------------------------+ | 24 | DataVolTransferTime | This feature indicates | | | | support for the event | | | | related to data volume | | | | transfer time. | +----------------+-------------------------+-------------------------+
### 5.1.9 Security
As indicated in 3GPP TS 33.501 [8] and 3GPP TS 29.500 [4], the access to the
Nnef_EventExposure API may be authorized by means of the OAuth2 protocol (see
IETF RFC 6749 [9]), based on local configuration, using the \"Client
Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [10])
plays the role of the authorization server.
If OAuth2 is used, an NF Service Consumer, prior to consuming services offered
by the Nnef_EventExposure API, shall obtain a \"token\" from the authorization
server, by invoking the Access Token Request service, as described in 3GPP TS
29.510 [10], clause 5.4.2.2.
NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used for
discovering the Nnef_EventExposure service.
The Nnef_EventExposure API defines a single scope \"nnef-eventexposure\" for
the entire service, and it does not define any additional scopes at resource
or operation level.
## 5.2 Nnef_EASDeployment Service API
### 5.2.1 Introduction
The Nnef_EASDeployment service shall use the Nnef_EASDeployment API.
The API URI of the Nnef_EASDeployment API shall be:
**{apiRoot}/\ /\**
The request URIs used in HTTP requests from the NF service consumer towards
the NF service producer shall have the Resource URI structure defined in
clause 4.4.1 of 3GPP TS 29.501 [5], i.e.:
**{apiRoot}/\ /\/\**
with the following components:
\- The {apiRoot} shall be set as described in 3GPP TS 29.501 [5].
\- The \ shall be \"nnef-eas-deployment\".
\- The \ shall be \"v1\".
\- The \ shall be set as described in clause
5.2.3.
### 5.2.2 Usage of HTTP
#### 5.2.2.1 General
HTTP/2, IETF RFC 7540 [11], shall be used as specified in clause 5 of 3GPP TS
29.500 [4].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].
The OpenAPI [6] specification of HTTP messages and content bodies for the
Nnef_EASDeployment API is contained in Annex 3.
#### 5.2.2.2 HTTP standard headers
##### 5.2.2.2.1 General
See clause 5.2.2 of 3GPP TS 29.500 [4] for the usage of HTTP standard headers.
##### 5.2.2.2.2 Content type
JSON, IETF RFC 8259 [12], shall be used as content type of the HTTP bodies
specified in the present specification as specified in clause 5.4 of 3GPP TS
29.500 [4]. The use of the JSON format shall be signalled by the content type
\"application/json\".
\"Problem Details\" JSON object shall be used to indicate additional details
of the error in a HTTP response body and shall be signalled by the content
type \"application/problem+json\", as defined in IETF RFC 7807 [13].
#### 5.2.2.3 HTTP custom headers
The Nnef_EASDeployment API shall support mandatory HTTP custom header fields
specified in clause 5.2.3.2 of 3GPP TS 29.500 [4] and may support HTTP custom
header fields specified in clause 5.2.3.3 of 3GPP TS 29.500 [4].
In this Release of the specification, no specific custom headers are defined
for the Nnef_EASDeployment API.
### 5.2.3 Resources
#### 5.2.3.1 Overview
This clause describes the structure for the Resource URIs and the resources
and methods used for the service.
Figure 5.2.3.1-1 depicts the resource URIs structure for the
Nnef_EASDeployment API.
Figure 5.2.3.1-1: Resource URI structure of the Nnef_EASDeployment API
Table 5.2.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 5.2.3.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method or custom operation Description EAS
Deployment Event Subscriptions /subscriptions POST Creates a subscription to
notifications of changes of EAS Deployment Information, i.e. creation of an
Individual EAS Deployment Event Subscription resource. Individual EAS
Deployment Event Subscription /subscriptions/{subscriptionId} GET Reads an
Individual EAS Deployment Event Subscription resource. DELETE Cancels an
individual subscription to notifications of subscribed EAS Deployment changes
event.
* * *
#### 5.2.3.2 Resource: EAS Deployment Event Subscriptions
##### 5.2.3.2.1 Description
The resource represents the collection of EAS Deployment changes Event
subscriptions of the Nnef_EASDeployment service. It allows NF service
consumers to create a new subscription to notifications on EAS Deployment
changes event(s).
##### 5.2.3.2.2 Resource Definition
Resource URI: **{apiRoot}/nnef-eas-deployment/\ /subscriptions**
This resource shall support the resource URI variables defined in table
5.2.3.2.2-1.
Table 5.2.3.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.2.1
* * *
##### 5.2.3.2.3 Resource Standard Methods
###### 5.2.3.2.3.1 POST
This method shall support the URI query parameters specified in table
5.2.3.2.3.1-1.
Table 5.2.3.2.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.2.3.2.3.1-2 and the response data structures and response codes specified in
table 5.2.3.2.3.1-3.
Table 5.2.3.2.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description EasDeploySubData M 1 Contains the
information required for the creation of a new Individual EAS Deployment Event
Subscription resource.
* * *
Table 5.2.3.2.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | Codes | | +---------------+---+-------------+-------------+---------------+ | Eas | M | 1 | 201 Created | Contains the | | DeploySubData | | | | r | | | | | | epresentation | | | | | | of the | | | | | | Individual | | | | | | EAS | | | | | | Deployment | | | | | | Event | | | | | | Subscription | | | | | | resource. | +---------------+---+-------------+-------------+---------------+ | NOTE: The | | | | | | manadatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+-------------+---------------+
Table 5.2.3.2.3.1-4: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/nnef-eas-
deployment/\/subscriptions/{subscriptionId}
* * *
#### 5.2.3.3 Resource: Individual EAS Deployment Event Subscription
##### 5.2.3.3.1 Description
The resource represents an individual EAS Deployment Event subscription of the
Nnef_EASDeployment service. It allows NF service consumers to
subscribe/unsubscribe an EAS Deployment information change event, and allows
the NEF to notify EAS Deployment change event to the subscribed NF service
consumer.
##### 5.2.3.3.2 Resource Definition
Resource URI: **{apiRoot}/nnef-eas-deployment/\
/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.2.3.3.2-1.
Table 5.2.3.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.2.1 subscriptionId
string Identifies a subscription to the NEF event exposure service.
* * *
##### 5.2.3.3.3 Resource Standard Methods
###### 5.2.3.3.3.1 GET
This method shall support the URI query parameters specified in table
5.2.3.3.3.1-1.
Table 5.2.3.3.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description
* * *
This method shall support the request data structures specified in table
5.2.3.3.3.1-2 and the response data structures and response codes specified in
table 5.2.3.3.3.1-3.
Table 5.2.3.3.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.2.3.3.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Eas | M | 1 | 200 OK | Contains the | | DeploySubData | | | | r | | | | | | epresentation | | | | | | of the | | | | | | Individual | | | | | | EAS | | | | | | Deployment | | | | | | information | | | | | | changes Event | | | | | | Subscription | | | | | | resource. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | Red | | | | | | irectResponse | | | | | | data | | | | | | structure may | | | | | | be provided | | | | | | by an SCP | | | | | | (cf. | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.2.3.3.3.1-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
Table 5.2.3.3.3.1-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
###### 5.2.3.3.3.2 PUT
This HTTP method is not supported for the resource.
###### 5.2.3.3.3.3 DELETE
This method shall support the URI query parameters specified in table
5.2.3.3.3.3-1.
Table 5.2.3.3.3.3-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.2.3.3.3.3-2 and the response data structures and response codes specified in
table 5.2.3.3.3.3-3.
Table 5.2.3.3.3.3-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.2.3.3.3.3-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case. The | | | | | | Individual | | | | | | EAS | | | | | | Deployment | | | | | | information | | | | | | changes Event | | | | | | Subscription | | | | | | resource | | | | | | matching the | | | | | | s | | | | | | ubscriptionId | | | | | | was deleted. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | Red | | | | | | irectResponse | | | | | | data | | | | | | structure may | | | | | | be provided | | | | | | by an SCP | | | | | | (cf. | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.2.3.3.3.3-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
Table 5.2.3.3.3.3-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
### 5.2.4 Custom Operations without associated resources
None.
### 5.2.5 Notifications
#### 5.2.5.1 General
Notifications shall comply to clause 6.2 of 3GPP TS 29.500 [4] and clause
4.6.2.3 of 3GPP TS 29.501 [5].
Table 5.2.5.1-1: Notifications overview
+----------------+--------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +----------------+--------------+----------------+----------------+ | Event | {notifUri} | POST | Provides | | Notification | | | Information | | | | | about EAS | | | | | Deployment | | | | | Information | | | | | changes | | | | | event(s). | +----------------+--------------+----------------+----------------+
#### 5.2.5.2 EAS Deployment Event Notification
##### 5.2.5.2.1 Description
The EAS Deployment Event Notification is used by the NEF to report the
observed EAS Deployment information changes event to a NF service consumer
that has subscribed to such Notifications.
##### 5.2.5.2.2 Target URI
The Notification URI **\"{notifUri}\"** shall be used with the callback URI
variables defined in table 5.2.5.2.2-1.
Table 5.2.5.2.2-1: Callback URI variables for this resource
* * *
Name Data type Definition notifUri Uri The Notification Uri as assigned by the
NF service consumer during the subscription service operation and described
within the EasDeploySubData data type (see table 5.2.6.2.2-1).
* * *
##### 5.2.5.2.3 Standard Methods
###### 5.2.5.2.3.1 POST
This method shall support the request data structures specified in table
5.2.5.2.3.1-1 and the response data structures and response codes specified in
table 5.2.5.2.3.1-1.
Table 5.2.5.2.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description EasDeployInfoNotif M 1 Provides
Information about the EAS Deployment Information changes event.
* * *
Table 5.2.5.2.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The receipt | | | | | Content | of the | | | | | | Notification | | | | | | is | | | | | | acknowledged. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during event | | | | | | notification. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | Red | | | | | | irectResponse | | | | | | data | | | | | | structure may | | | | | | be provided | | | | | | by an SCP | | | | | | (cf. | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.2.5.2.3.1-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative NF | | | | | | consumer | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the | | | | | | notification | | | | | | should be | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the | | | | | | notification | | | | | | request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
Table 5.2.5.2.3.1-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative NF | | | | | | consumer | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the | | | | | | notification | | | | | | should be | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the | | | | | | notification | | | | | | request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
### 5.2.6 Data Model
#### 5.2.6.1 General
This clause specifies the application data model supported by the API.
Table 5.2.6.1-1 specifies the data types defined for the Nnef_EASDeployment
service based interface protocol.
Table 5.2.6.1-1: Nnef_EASDeployment specific Data Types
* * *
Data type Section defined Description Applicability EasDeployInfoNotif
5.2.6.2.3 Represents notifications on EAS Deployment Information changes
event(s) that occurred for an Individual EAS Deployment Event Subscription
resource.  
EasDeploySubData 5.2.6.2.2 Represents EAS Deployment Information changes
event(s) subscription data.  
EasDeployInfoData 5.2.6.2.5 Represents the EAS Deployment Information to be
reported.  
EasDepNotification 5.2.6.2.4 Represents the EAS Deployment Notifcation.  
EasEvent 5.2.6.3.3 represents the EAS event.
* * *
Table 5.2.6.1-2 specifies data types re-used by the Nnef_EASDeployment service
based interface protocol from other specifications, including a reference to
their respective specifications and when needed, a short description of their
use within the Nnef_EASDeployment service based interface.
Table 5.2.6.1-2: Nnef_EASDeployment re-used Data Types
* * *
Data type Reference Comments Applicability DnaiInformation 3GPP TS 29.522 [15]
Represents the DNAI inormation including the DNS server identifier (consisting
of IP address and port) and/or IP address(s) of the EAS in the local DN for
the DNAI.  
DnnSnssaiInformation 3GPP TS 29.522 [15] Identifies a combination of (DNN,
S-NSSAI).  
FqdnPatternMatchingRule 3GPP TS 29.571 [16] Represents the FQDN pattern
matching rule.  
GroupId 3GPP TS 29.571 [16] Contains a Group identifier.  
RedirectResponse 3GPP TS 29.571 [16] Contains redirection related information.  
Uri 3GPP TS 29.571 [16] Contains a URI.
* * *
#### 5.2.6.2 Structured data types
##### 5.2.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 5.2.6.2.2 Type: EasDeploySubData
Table 5.2.6.2.2-1: Definition of type EasDeploySubData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | appId | string | O | 0..1 | I | | | | | | | dentifies | | | | | | | the | | | | | | | ap | | | | | | | plication | | | | | | | for which | | | | | | | the EAS | | | | | | | D | | | | | | | eployment | | | | | | | In | | | | | | | formation | | | | | | | co | | | | | | | rresponds | | | | | | | to. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnnSn | array(Dnn | O | 1..N | Each of | | | ssaiInfos | SnssaiInf | | | the | | | | ormation) | | | element | | | | | | | i | | | | | | | dentifies | | | | | | | a | | | | | | | co | | | | | | | mbination | | | | | | | of (DNN, | | | | | | | S-NSSAI). | | +-----------+-----------+---+-----------+-----------+-----------+ | eventId | EasEvent | M | 1 | Event ID | | | | | | | assigned | | | | | | | by the NF | | | | | | | service | | | | | | | consumer. | | +-----------+-----------+---+-----------+-----------+-----------+ | eve | array( | C | 1..N | R | | | ntsNotifs | EasDeploy | | | epresents | | | | InfoData) | | | the EAS | | | | | | | D | | | | | | | eployment | | | | | | | In | | | | | | | formation | | | | | | | changes | | | | | | | event(s) | | | | | | | to be | | | | | | | reported. | | | | | | | | | | | | | | Shall | | | | | | | only be | | | | | | | present | | | | | | | if the | | | | | | | \ | | | | | | | "immRep\" | | | | | | | attribute | | | | | | | is | | | | | | | included | | | | | | | in the | | | | | | | request | | | | | | | and sets | | | | | | | to true, | | | | | | | and the | | | | | | | current | | | | | | | status of | | | | | | | EAS | | | | | | | D | | | | | | | eployment | | | | | | | In | | | | | | | formation | | | | | | | is | | | | | | | a | | | | | | | vailable. | | +-----------+-----------+---+-----------+-----------+-----------+ | immRep | boolean | O | 0..1 | I | | | | | | | ndication | | | | | | | of | | | | | | | immediate | | | | | | | r | | | | | | | eporting: | | | | | | | | | | | | | | - true: | | | | | | | requires | | | | | | | the | | | | | | | immediate | | | | | | | reporting | | | | | | | of the | | | | | | | current | | | | | | | status of | | | | | | | EAS | | | | | | | D | | | | | | | eployment | | | | | | | Inf | | | | | | | ormation, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | EAS | | | | | | | D | | | | | | | eployment | | | | | | | In | | | | | | | formation | | | | | | | event | | | | | | | report | | | | | | | occurs | | | | | | | when the | | | | | | | event is | | | | | | | met. | | +-----------+-----------+---+-----------+-----------+-----------+ | int | GroupId | O | 0..1 | I | | | erGroupId | | | | dentifies | | | | | | | an | | | | | | | internal | | | | | | | UE group. | | +-----------+-----------+---+-----------+-----------+-----------+ | notifId | string | M | 1 | Not | | | | | | | ification | | | | | | | Co | | | | | | | rrelation | | | | | | | ID | | | | | | | assigned | | | | | | | by the NF | | | | | | | service | | | | | | | consumer. | | +-----------+-----------+---+-----------+-----------+-----------+ | notifUri | Uri | M | 1 | Not | | | | | | | ification | | | | | | | URI for | | | | | | | the EAS | | | | | | | D | | | | | | | eployment | | | | | | | In | | | | | | | formation | | | | | | | event | | | | | | | r | | | | | | | eporting. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.2.6.2.3 Type: EasDeployInfoNotif
Table 5.2.6.2.3-1: Definition of type EasDeployInfoNotif
* * *
Attribute name Data type P Cardinality Description Applicability easDepNotifs
array(EasDepNotification) M 1..N Represents the EAS Deployment Notifcation(s).  
notifId string M 1 Notification Correlation ID assigned by the NF service
consumer.
* * *
##### 5.2.6.2.4 Type: EasDepNotification
Table 5.2.6.2.4-1: Definition of type EasDepNotification
* * *
Attribute name Data type P Cardinality Description Applicability easDepInfo
EasDeployInfoData M 1 Represents the EAS Deployment Information to be
reported.  
eventId EasEvent M 1 Event ID assigned by the NF service consumer.
* * *
##### 5.2.6.2.5 Type: EasDeployInfoData
Table 5.2.6.2.5-1: Definition of type EasDeployInfoData
* * *
Attribute name Data type P Cardinality Description Applicability appId string
O 0..1 Identifies the application for which the EAS Deployment Information
corresponds to.  
dnaiInfos map(DnaiInformation) O 1..N list of DNS server identifier
(consisting of IP address and port) and/or IP address(s) of the EAS in the
local DN for each DNAI. The key of map is the DNAI.  
dnn Dnn O 0..1 DNN for the EAS Deployment Information.  
fqdnPatternList array(FqdnPatternMatchingRule) M 1..N Supported FQDN
pattern(s) for application(s) deployed in the Local part of the DN where each
FQDN pattern is described by a FQDN Pattern Matching Rule.  
internalGroupId GroupId O 0..1 Internal Group ID for the EAS Deployment
Information.  
snssai Snssai O 0..1 S-NSSAI for the EAS Deployment Information.  
targetAfId string O 0..1 Identifier of the AF that is responsible for the EAS
associated with this EAS deployment information. EasRelocationEnh
* * *
#### 5.2.6.3 Simple data types and enumerations
##### 5.2.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.2.6.3.2 Simple data types
The simple data types defined in table 5.2.6.3.2-1 shall be supported.
Table 5.2.6.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
##### 5.2.6.3.3 Enumeration: EasEvent
The enumeration EasEvent represents the EAS event requested by the NF service
consumer. It shall comply with the provisions defined in table 5.2.6.3.3-1.
Table 5.1.6.3.3-1: Enumeration EasEvent
* * *
Enumeration value Description Applicability EAS_INFO_CHG Indicates that the
EAS Deployment Information is changed.
* * *
### 5.2.7 Error Handling
#### 5.2.7.1 General
For the Nnef_EASDeployment API, HTTP error responses shall be supported as
specified in clause 4.8 of 3GPP TS 29.501 [5]. Protocol errors and application
errors specified in table 5.2.7.2-1 of 3GPP TS 29.500 [4] shall be supported
for an HTTP method if the corresponding HTTP status codes are specified as
mandatory for that HTTP method in table 5.2.7.1-1 of 3GPP TS 29.500 [4].
In addition, the requirements in the following clauses are applicable for the
Nnef_EASDeployment API.
#### 5.2.7.2 Protocol Errors
No specific procedures for the Nnef_EASDeployment service are specified.
#### 5.2.7.3 Application Errors
The application errors defined for the Nnef_EASDeployment service are listed
in Table 5.2.7.3-1.
Table 5.2.7.3-1: Application errors
* * *
Application Error HTTP status code Description
* * *
### 5.2.8 Feature negotiation
The optional features in table 5.2.8-1 are defined for the Nnef_EASDeployment
API. They shall be negotiated using the extensibility mechanism defined in
clause 6.6 of 3GPP TS 29.500 [4].
Table 5.2.8-1: Supported Features
* * *
Feature number Feature Name Description 1 EasRelocationEnh This feature
indicates enhanced support of EAS relocation procedures via additional
information about the AFs that are responsible for certain EAS.
* * *
### 5.2.9 Security
As indicated in 3GPP TS 33.501 [8] and 3GPP TS 29.500 [4], the access to the
Nnef_EASDeployment API may be authorized by means of the OAuth2 protocol (see
IETF RFC 6749 [9]), based on local configuration, using the \"Client
Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [10])
plays the role of the authorization server.
If OAuth2 is used, an NF Service Consumer, prior to consuming services offered
by the Nnef_EASDeployment API, shall obtain a \"token\" from the authorization
server, by invoking the Access Token Request service, as described in 3GPP TS
29.510 [10], clause 5.4.2.2.
NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used for
discovering the Nnef_EventExposure service.
The Nnef_EASDeployment API defines a single scope \"nnef-eas-deployment\" for
the entire service, and it does not define any additional scopes at resource
or operation level.
## 5.3 Nnef_TrafficInfluenceData Service API
### 5.3.1 Introduction
The Nnef_TrafficInfluenceData service shall use the Nnef_TrafficInfluenceData
API.
The API URI of the Nnef_TrafficInfluenceData API shall be:
**{apiRoot}/\ /\**
The request URIs used in HTTP requests from the NF service consumer towards
the NF service producer shall have the Resource URI structure defined in
clause 4.4.1 of 3GPP TS 29.501 [5], i.e.:
**{apiRoot}/\ /\/\**
with the following components:
\- The {apiRoot} shall be set as described in 3GPP TS 29.501 [5].
\- The \ shall be \"nnef-traffic-influence-data\".
\- The \ shall be \"v1\".
\- The \ shall be set as described in clause
5.3.3.
### 5.3.2 Usage of HTTP
#### 5.3.2.1 General
HTTP/2, IETF RFC 7540 [11], shall be used as specified in clause 5 of 3GPP TS
29.500 [4].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].
The OpenAPI [6] specification of HTTP messages and content bodies for the
Nnef_TrafficInfluenceData API is contained in Annex 4.
#### 5.3.2.2 HTTP standard headers
##### 5.3.2.2.1 General
See clause 5.3.2 of 3GPP TS 29.500 [4] for the usage of HTTP standard headers.
##### 5.3.2.2.2 Content type
JSON, IETF RFC 8259 [12], shall be used as content type of the HTTP bodies
specified in the present specification as specified in clause 5.4 of 3GPP TS
29.500 [4]. The use of the JSON format shall be signalled by the content type
\"application/json\".
\"Problem Details\" JSON object shall be used to indicate additional details
of the error in a HTTP response body and shall be signalled by the content
type \"application/problem+json\", as defined in IETF RFC 7807 [13].
#### 5.3.2.3 HTTP custom headers
The Nnef_TrafficInfluenceData API shall support mandatory HTTP custom header
fields specified in clause 5.2.3.2 of 3GPP TS 29.500 [4] and may support HTTP
custom header fields specified in clause 5.2.3.3 of 3GPP TS 29.500 [4].
In this Release of the specification, no specific custom headers are defined
for the Nnef_TrafficInfluenceData API.
### 5.3.3 Resources
#### 5.3.3.1 Overview
This clause describes the structure for the Resource URIs and the resources
and methods used for the service.
Figure 5.3.3.1-1 depicts the resource URIs structure for the
Nnef_TrafficInfluenceData API.
Figure 5.3.3.1-1: Resource URI structure of the Nnef_TrafficInfluenceData API
Table 5.3.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 5.3.3.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method or custom operation Description Traffic
Influence Data Subscriptions /subscriptions POST Creates a subscription to
notifications of Traffic Influence Data Information, i.e. creation of an
Individual Traffic Influence Data Subscription resource. GET Reads all
subscriptions to Traffic Influence Data. Individual Traffic Influence Data
Subscription /subscriptions/{subscriptionId} PUT Modify all of the properties
of an existing subscription to Traffic Influence Data. GET Reads a
subscription to Individual Traffic Influence Data. DELETE Cancels an
individual subscription to notifications of Traffic Influence Data.
* * *
#### 5.3.3.2 Resource: Traffic Influence Data Subscriptions
##### 5.3.3.2.1 Description
The resource represents the collection of Traffic Influence Data subscriptions
of the Nnef_TrafficInfluenceData service. It allows NF service consumers to
create a new subscription to notifications on Traffic Influence Data.
##### 5.3.3.2.2 Resource Definition
Resource URI: **{apiRoot}/nnef-traffic-influence-data/\
/subscriptions**
This resource shall support the resource URI variables defined in table
5.3.3.2.2-1.
Table 5.3.3.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.3.1
* * *
##### 5.3.3.2.3 Resource Standard Methods
###### 5.3.3.2.3.1 POST
This method shall support the URI query parameters specified in table
5.3.3.2.3.1-1.
Table 5.3.3.2.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.3.3.2.3.1-2 and the response data structures and response codes specified in
table 5.3.3.2.3.1-3.
Table 5.3.3.2.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description TrafficInfluDataSub M 1 Contains the
information required for the creation of a new Individual Traffic Influence
Data Subscription resource.
* * *
Table 5.3.3.2.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | Codes | | +---------------+---+-------------+-------------+---------------+ | Traffi | M | 1 | 201 Created | Contains the | | cInfluDataSub | | | | r | | | | | | epresentation | | | | | | of the | | | | | | Individual | | | | | | Traffic | | | | | | Influence | | | | | | Data | | | | | | Subscription | | | | | | resource. | +---------------+---+-------------+-------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+-------------+---------------+
Table 5.3.3.2.3.1-4: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/nnef-
traffic-influence-data/\/subscriptions/{subscriptionId}
* * *
Editor's note: It is FFS whether GET method for reading all subscripitions is
needed.
#### 5.3.3.3 Resource: Individual Traffic Influence Data Subscription
##### 5.3.3.3.1 Description
The resource represents an individual Traffic Influence Data subscription of
the Nnef_TrafficInfluenceData service. It allows NF service consumers to
subscribe/unsubscribe an Traffic Influence Data information, and allows the
NEF to notify Traffic Influence Data to the NF service consumer.
##### 5.3.3.3.2 Resource Definition
Resource URI: **{apiRoot}/nnef-traffic-influence-data/\
/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.3.3.3.2-1.
Table 5.3.3.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.3.1 subscriptionId
string Identifier of the subscription.
* * *
##### 5.3.3.3.3 Resource Standard Methods
###### 5.3.3.3.3.1 GET
This method shall support the URI query parameters specified in table
5.3.3.3.3.1-1.
Table 5.3.3.3.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.3.3.3.3.1-2 and the response data structures and response codes specified in
table 5.3.3.3.3.1-3.
Table 5.3.3.3.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.3.3.3.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Traffi | M | 1 | 200 OK | The | | cInfluDataSub | | | | subscription | | | | | | information | | | | | | is returned. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | Red | | | | | | irectResponse | | | | | | data | | | | | | structure may | | | | | | be provided | | | | | | by an SCP | | | | | | (cf. | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.3.3.3.3.1-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
Table 5.3.3.3.3.1-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
###### 5.3.3.3.3.2 PUT
This method shall support the URI query parameters specified in table
5.3.3.3.3.2-1.
Table 5.3.3.3.3.2-1: URI query parameters supported by the PUT method on this
resource
* * *
**Name** **Data type** **P** **Cardinality** **Description** n/a
* * *
This method shall support the request data structures specified in table
5.3.3.3.3.2-2 and the response data structures and response codes specified in
table 5.3.3.3.3.2-3.
Table 5.3.3.3.3.2-2: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description TrafficInfluDataSub M 1 Modify an existing
subscription to Traffic Influence Data.
* * *
Table 5.3.3.3.3.2-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Traffi | M | 1 | 200 OK | The | | cInfluDataSub | | | | subscription | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | subscription | | | | | | has been | | | | | | successfully | | | | | | updated and | | | | | | no content is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | Red | | | | | | irectResponse | | | | | | data | | | | | | structure may | | | | | | be provided | | | | | | by an SCP | | | | | | (cf. | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.3.3.3.3.2-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
Table 5.3.3.3.3.2-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
###### 5.3.3.3.3.3 DELETE
This method shall support the URI query parameters specified in table
5.3.3.3.3.3-1.
Table 5.3.3.3.3.3-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.3.3.3.3.3-2 and the response data structures and response codes specified in
table 5.3.3.3.3.3-3.
Table 5.3.3.3.3.3-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.3.3.3.3.3-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case. The | | | | | | Individual | | | | | | Traffic | | | | | | Influence | | | | | | Data | | | | | | Subscription | | | | | | resource | | | | | | matching the | | | | | | s | | | | | | ubscriptionId | | | | | | was deleted. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | Red | | | | | | irectResponse | | | | | | data | | | | | | structure may | | | | | | be provided | | | | | | by an SCP | | | | | | (cf. | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.3.3.3.3.3-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
Table 5.3.3.3.3.3-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
### 5.3.4 Custom Operations without associated resources
None.
### 5.3.5 Notifications
#### 5.3.5.1 General
Notifications shall comply to clause 6.2 of 3GPP TS 29.500 [4] and clause
4.6.2.3 of 3GPP TS 29.501 [5].
Table 5.3.5.1-1: Notifications overview
+----------------+--------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +----------------+--------------+----------------+----------------+ | Event | {notifUri} | POST | Provides | | Notification | | | Traffic | | | | | Influence | | | | | Data. | +----------------+--------------+----------------+----------------+
#### 5.3.5.2 Traffic Influence Data Notification
##### 5.3.5.3.1 Description
The Traffic Influence Data Notification is used by the NEF to report the
observed Traffic Influence Data to an NF service consumer that has subscribed
to such Notifications.
##### 5.3.5.3.2 Target URI
The Notification URI **\"{notifUri}\"** shall be used with the callback URI
variables defined in table 5.3.5.3.2-1.
Table 5.3.5.3.2-1: Callback URI variables for this resource
* * *
Name Data type Definition notifUri Uri The Notification URI as assigned by the
NF service consumer during the subscription service operation and described
within the TrafficInfluDataSub data type.
* * *
##### 5.3.5.3.3 Standard Methods
###### 5.3.5.3.3.1 POST
This method shall support the request data structures specified in table
5.3.5.3.3.1-1 and the response data structures and response codes specified in
table 5.3.5.3.3.1-2.
Table 5.3.5.3.3.1-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description TrafficInfluDataNotify M 1 Provides the
Traffic Influence Data.
* * *
Table 5.3.5.3.3.1-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The receipt | | | | | Content | of the | | | | | | Notification | | | | | | is | | | | | | acknowledged. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | notification. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | notification. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | Red | | | | | | irectResponse | | | | | | data | | | | | | structure may | | | | | | be provided | | | | | | by an SCP | | | | | | (cf. | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.3.5.3.3.1-3: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative NF | | | | | | consumer | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the | | | | | | notification | | | | | | request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
Table 5.3.5.3.3.1-4: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative NF | | | | | | consumer | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the | | | | | | notification | | | | | | request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
### 5.3.6 Data Model
#### 5.3.6.1 General
This clause specifies the application data model supported by the API.
Table 5.3.6.1-1 specifies the data types defined for the
Nnef_TrafficInfluenceData service based interface protocol.
Table 5.3.6.1-1: Nnef_TrafficInfluenceData specific Data Types
* * *
Data type Section defined Description Applicability TrafficInfluDataNotify
5.3.6.2.3 Contains traffic influence data for notification.  
TrafficInfluDataSub 5.3.6.2.2 Contains traffic influence subscription data.
* * *
Table 5.3.6.1-2 specifies data types re-used by the Nnef_TrafficInfluenceData
service based interface protocol from other specifications, including a
reference to their respective specifications and when needed, a short
description of their use within the Nnef_TrafficInfluenceData service based
interface.
Table 5.3.6.1-2: Nnef_TrafficInfluenceData re-used Data Types
* * *
Data type Reference Comments Applicability Dnn 3GPP TS 29.571 [16] Identifies
the DNN.  
GroupId 3GPP TS 29.571 [16] Identifies a group of UEs.  
ReportingInformation 3GPP TS 29.523 [22] Represents the type of reporting the
subscription requires.  
Snssai 3GPP TS 29.571 [16] Identifies a Single Network Slice Selection
Assistance Information.  
Supi 3GPP TS 29.571 [16] The SUPI for an UE.  
SupportedFeatures 3GPP TS 29.571 [16] Indicates the features supported.  
TrafficInfluData 3GPP TS 29.519 [28] Contains traffic influence data.  
Uri 3GPP TS 29.571 [16] Contains a URI.
* * *
#### 5.3.6.2 Structured data types
##### 5.3.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 5.3.6.2.2 Type: TrafficInfluDataSub
Table 5.3.6.2.2-1: Definition of type TrafficInfluDataSub
+----------+----------+-------+----------+----------+----------+ | **A |** Data | **P** | **Cardi |** Descr | * | | ttribute | type**| | nality** | iption**| *Applica | | name** | | | | | bility** | +----------+----------+-------+----------+----------+----------+ | notifUri | Uri | M | 1 | URI | | | | | | | provided | | | | | | | by the | | | | | | | NF | | | | | | | service | | | | | | | consumer | | | | | | | in | | | | | | | dicating | | | | | | | where to | | | | | | | receive | | | | | | | the | | | | | | | su | | | | | | | bscribed | | | | | | | notif | | | | | | | ications | | | | | | | from the | | | | | | | NEF. | | +----------+----------+-------+----------+----------+----------+ | not | string | M | 1 | Noti | | | ifCorrId | | | | fication | | | | | | | cor | | | | | | | relation | | | | | | | ide | | | | | | | ntifier. | | +----------+----------+-------+----------+----------+----------+ | dnns | ar | C | 1..N | Each | | | | ray(Dnn) | | | element | | | | | | | id | | | | | | | entifies | | | | | | | a DNN. | | | | | | | | | | | | | | (NOTE) | | +----------+----------+-------+----------+----------+----------+ | snssais | array | C | 1..N | Each | | | | (Snssai) | | | element | | | | | | | id | | | | | | | entifies | | | | | | | an | | | | | | | internal | | | | | | | slice. | | | | | | | (NOTE) | | +----------+----------+-------+----------+----------+----------+ | internal | array( | C | 1..N | Each | | | GroupIds | GroupId) | | | element | | | | | | | id | | | | | | | entifies | | | | | | | a group | | | | | | | of | | | | | | | users. | | | | | | | (NOTE) | | +----------+----------+-------+----------+----------+----------+ | supis | arr | C | 1..N | Each | | | | ay(Supi) | | | element | | | | | | | id | | | | | | | entifies | | | | | | | the | | | | | | | user. | | | | | | | | | | | | | | (NOTE) | | +----------+----------+-------+----------+----------+----------+ | anyUe | boolean | C | 0..1 | Id | | | | | | | entifies | | | | | | | any UE | | | | | | | when | | | | | | | setting | | | | | | | to | | | | | | | \ | | | | | | | "true\". | | | | | | | | | | | | | | Default | | | | | | | value is | | | | | | | \ | | | | | | | "false\" | | | | | | | if | | | | | | | omitted. | | | | | | | | | | | | | | (NOTE) | | +----------+----------+-------+----------+----------+----------+ | rptInfo | Repo | O | 0..1 | Re | | | | rtingInf | | | presents | | | | ormation | | | the | | | | | | | r | | | | | | | eporting | | | | | | | requ | | | | | | | irements | | | | | | | of the | | | | | | | subsc | | | | | | | ription. | | +----------+----------+-------+----------+----------+----------+ | im | array(T | O | 1..N | Contains | | | mReports | rafficIn | | | the | | | | fluData) | | | Traffic | | | | | | | I | | | | | | | nfluence | | | | | | | Data | | | | | | | that | | | | | | | match | | | | | | | this | | | | | | | subsc | | | | | | | ription. | | | | | | | | | | | | | | It may | | | | | | | be | | | | | | | included | | | | | | | only in | | | | | | | the POST | | | | | | | (or PUT) | | | | | | | response | | | | | | | body of | | | | | | | a | | | | | | | subs | | | | | | | cription | | | | | | | creation | | | | | | | (or | | | | | | | modifi | | | | | | | cation), | | | | | | | and only | | | | | | | if the | | | | | | | \" | | | | | | | immRep\" | | | | | | | a | | | | | | | ttribute | | | | | | | c | | | | | | | ontained | | | | | | | in | | | | | | | \"r | | | | | | | ptInfo\" | | | | | | | is set | | | | | | | to | | | | | | | \"true\" | | | | | | | in the | | | | | | | corre | | | | | | | sponding | | | | | | | HTTP | | | | | | | request. | | +----------+----------+-------+----------+----------+----------+ | s | S | C | 0..1 | Used to | | | upported | upported | | | n | | | Features | Features | | | egotiate | | | | | | | the | | | | | | | appli | | | | | | | cability | | | | | | | of the | | | | | | | optional | | | | | | | f | | | | | | | eatures. | | | | | | | This | | | | | | | a | | | | | | | ttribute | | | | | | | shall be | | | | | | | provided | | | | | | | in the | | | | | | | POST | | | | | | | request | | | | | | | and in | | | | | | | the | | | | | | | response | | | | | | | of | | | | | | | su | | | | | | | ccessful | | | | | | | resource | | | | | | | c | | | | | | | reation. | | +----------+----------+-------+----------+----------+----------+ | NOTE: At | | | | | | | least | | | | | | | one of | | | | | | | \ | | | | | | | "dnns\", | | | | | | | \"sn | | | | | | | ssais\", | | | | | | | \"int | | | | | | | ernalGro | | | | | | | upIds\", | | | | | | | \ | | | | | | | "anyUe\" | | | | | | | or | | | | | | | \ | | | | | | | "supis\" | | | | | | | shall be | | | | | | | p | | | | | | | rovided. | | | | | | +----------+----------+-------+----------+----------+----------+
Editor\'s note: Whether the \"internalGroupIds\" is plural or single is FFS.
##### 5.3.6.2.3 Type: TrafficInfluDataNotify
Table 5.3.6.2.3-1: Definition of type TrafficInfluDataNotify
* * *
**Attribute name** **Data type** **P** **Cardinality** **Description**
**Applicability** notifCorrId string M 1 Notification correlation identifier.  
eventNotifications array(TrafficInfluData) M 1..N Notifications about
Individual Events.  
NOTE: The \"upPathChgNotifCorreId\", \"upPathChgNotifUri\", \"resUri\" and
\"resetIds\" attributes contained in TrafficInfluData shall not be included.
* * *
#### 5.3.6.3 Simple data types and enumerations
##### 5.3.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.3.6.3.2 Simple data types
The simple data types defined in table 5.3.6.3.2-1 shall be supported.
Table 5.3.6.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.3.7 Error Handling
#### 5.3.7.1 General
For the Nnef_TrafficInfluenceData API, HTTP error responses shall be supported
as specified in clause 4.8 of 3GPP TS 29.501 [5]. Protocol errors and
application errors specified in table 5.3.7.2-1 of 3GPP TS 29.500 [4] shall be
supported for an HTTP method if the corresponding HTTP status codes are
specified as mandatory for that HTTP method in table 5.2.7.1-1 of 3GPP TS
29.500 [4].
In addition, the requirements in the following clauses are applicable for the
Nnef_TrafficInfluenceData API.
#### 5.3.7.2 Protocol Errors
No specific procedures for the Nnef_TrafficInfluenceData service are
specified.
#### 5.3.7.3 Application Errors
The application errors defined for the Nnef_TrafficInfluenceData service are
listed in Table 5.3.7.3-1.
Table 5.3.7.3-1: Application errors
* * *
Application Error HTTP status code Description
* * *
### 5.3.8 Feature negotiation
The optional features in table 5.3.8-1 are defined for the
Nnef_TrafficInfluenceData API. They shall be negotiated using the
extensibility mechanism defined in clause 6.6 of 3GPP TS 29.500 [4].
Table 5.3.8-1: Supported Features
* * *
Feature number Feature Name Description
* * *
### 5.3.9 Security
As indicated in 3GPP TS 33.501 [8] and 3GPP TS 29.500 [4], the access to the
Nnef_TrafficInfluenceData API may be authorized by means of the OAuth2
protocol (see IETF RFC 6749 [9]), based on local configuration, using the
\"Client Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510
[10]) plays the role of the authorization server.
If OAuth2 is used, an NF Service Consumer, prior to consuming services offered
by the Nnef_TrafficInfluenceData API, shall obtain a \"token\" from the
authorization server, by invoking the Access Token Request service, as
described in 3GPP TS 29.510 [10], clause 5.4.2.2.
NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used for
discovering the Nnef_TrafficInfluenceData service.
The Nnef_TrafficInfluenceData API defines a single scope \"nnef-traffic-
influence-data\" for the entire service, and it does not define any additional
scopes at resource or operation level.
## 5.4 Nnef_ECSAddress Service API
### 5.4.1 Introduction
The Nnef_ECSAddress service shall use the Nnef_ECSAddress API.
The API URI of the Nnef_ECSAddress API shall be:
**{apiRoot}/\ /\**
The request URIs used in HTTP requests from the NF service consumer towards
the NF service producer shall have the Resource URI structure defined in
clause 4.4.1 of 3GPP TS 29.501 [5], i.e.:
**{apiRoot}/\ /\/\**
with the following components:
\- The {apiRoot} shall be set as described in 3GPP TS 29.501 [5].
\- The \ shall be \"nnef-ecs-addr-cfg-info\".
\- The \ shall be \"v1\".
\- The \ shall be set as described in clause
5.4.3.
### 5.4.2 Usage of HTTP
#### 5.4.2.1 General
HTTP/2, IETF RFC 7540 [11], shall be used as specified in clause 5 of 3GPP TS
29.500 [4].
HTTP/2 shall be transported as specified in clause 5.4 of 3GPP TS 29.500 [4].
The OpenAPI [6] specification of HTTP messages and content bodies for the
Nnef_ECSAddress API is contained in Annex A.5.
#### 5.4.2.2 HTTP standard headers
##### 5.4.2.2.1 General
See clause 5.4.2 of 3GPP TS 29.500 [4] for the usage of HTTP standard headers.
##### 5.4.2.2.2 Content type
JSON, IETF RFC 8259 [12], shall be used as content type of the HTTP bodies
specified in the present specification as specified in clause 5.4 of 3GPP TS
29.500 [4]. The use of the JSON format shall be signalled by the content type
\"application/json\".
\"Problem Details\" JSON object shall be used to indicate additional details
of the error in a HTTP response body and shall be signalled by the content
type \"application/problem+json\", as defined in IETF RFC 7807 [13].
#### 5.4.2.3 HTTP custom headers
The Nnef_ECSAddress API shall support mandatory HTTP custom header fields
specified in clause 5.4.3.2 of 3GPP TS 29.500 [4] and may support HTTP custom
header fields specified in clause 5.4.3.3 of 3GPP TS 29.500 [4].
In this Release of the specification, no specific custom headers are defined
for the Nnef_ECSAddress API.
### 5.4.3 Resources
#### 5.4.3.1 Overview
This clause describes the structure for the Resource URIs and the resources
and methods used for the service.
Figure 5.4.3.1-1 depicts the resource URIs structure for the Nnef_ECSAddress
API.
Figure 5.4.3.1-1: Resource URI structure of the Nnef_ECSAddress API
Table 5.4.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 5.4.3.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method or custom operation Description ECS
Address Configuration Information Subscriptions /subscriptions POST Creates a
subscription to notifications of ECS Address Configuration Information, i.e.
creation of an Individual ECS Address Configuration Information Subscription
resource. Individual ECS Address Configuration Information Subscription
/subscriptions/{subscriptionId} PUT Modify all of the properties of an
existing subscription to ECS Address Configuration Information. GET Reads a
subscription to Individual ECS Address Configuration Information. DELETE
Cancels an individual subscription to notifications of ECS Address
Configuration Information.
* * *
#### 5.4.3.2 Resource: ECS Address Configuration Information Subscriptions
##### 5.4.3.2.1 Description
The resource represents the collection of ECS Address Configuration
Information subscriptions of the Nnef_ECSAddress service. It allows NF service
consumers to create a new subscription to notifications on ECS Address
Configuration Information.
##### 5.4.3.2.2 Resource Definition
Resource URI: **{apiRoot}/nnef-ecs-addr-cfg-info/\
/subscriptions**
This resource shall support the resource URI variables defined in table
5.4.3.2.2-1.
Table 5.4.3.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.4.1
* * *
##### 5.4.3.2.3 Resource Standard Methods
###### 5.4.3.2.3.1 POST
This method shall support the URI query parameters specified in table
5.4.3.2.3.1-1.
Table 5.4.3.2.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.4.3.2.3.1-2 and the response data structures and response codes specified in
table 5.4.3.2.3.1-3.
Table 5.4.3.2.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description EcsAddrCfgInfoSub M 1 Contains the
information required for the creation of a new Individual ECS Address
Configuration Information Subscription resource.
* * *
Table 5.4.3.2.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | Codes | | +---------------+---+-------------+-------------+---------------+ | EcsA | M | 1 | 201 Created | Contains the | | ddrCfgInfoSub | | | | r | | | | | | epresentation | | | | | | of the | | | | | | Individual | | | | | | ECS Address | | | | | | Configuration | | | | | | Information | | | | | | Subscription | | | | | | resource. | +---------------+---+-------------+-------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.4.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+-------------+---------------+
Table 5.4.3.2.3.1-4: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/nnef-ecs-
addr-cfg-info/\/subscriptions/{subscriptionId}
* * *
#### 5.4.3.3 Resource: Individual ECS Address Configuration Information
Subscription
##### 5.4.3.3.1 Description
The resource represents an individual ECS Address Configuration Information
subscription of the Nnef_ECSAddress service. It allows NF service consumers to
subscribe/unsubscribe an ECS Address Configuration Information, and allows the
NEF to notify ECS Address Configuration Information to the NF service
consumer.
##### 5.4.3.3.2 Resource Definition
Resource URI: **{apiRoot}/nnef-ecs-addr-cfg-info/\
/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.4.3.3.2-1.
Table 5.4.3.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.4.1 subscriptionId
string Identifier of the subscription.
* * *
##### 5.4.3.3.3 Resource Standard Methods
###### 5.4.3.3.3.1 GET
This method shall support the URI query parameters specified in table
5.4.3.3.3.1-1.
Table 5.4.3.3.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.4.3.3.3.1-2 and the response data structures and response codes specified in
table 5.4.3.3.3.1-3.
Table 5.4.3.3.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.4.3.3.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | EcsA | M | 1 | 200 OK | The | | ddrCfgInfoSub | | | | subscription | | | | | | information | | | | | | is returned. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.4.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | Red | | | | | | irectResponse | | | | | | data | | | | | | structure may | | | | | | be provided | | | | | | by an SCP | | | | | | (cf. | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.4.3.3.3.1-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+
Table 5.4.3.3.3.1-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
###### 5.4.3.3.3.2 PUT
This method shall support the URI query parameters specified in table
5.4.3.3.3.2-1.
Table 5.4.3.3.3.2-1: URI query parameters supported by the PUT method on this
resource
* * *
**Name** **Data type** **P** **Cardinality** **Description** n/a
* * *
This method shall support the request data structures specified in table
5.4.3.3.3.2-2 and the response data structures and response codes specified in
table 5.4.3.3.3.2-3.
Table 5.4.3.3.3.2-2: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description EcsAddrCfgInfoSub M 1 Modify an existing
subscription to ECS Address Configuration Information.
* * *
Table 5.4.3.3.3.2-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | EcsA | M | 1 | 200 OK | The | | ddrCfgInfoSub | | | | subscription | | | | | | was updated | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | subscription | | | | | | has been | | | | | | successfully | | | | | | updated and | | | | | | no content is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | Red | | | | | | irectResponse | | | | | | data | | | | | | structure may | | | | | | be provided | | | | | | by an SCP | | | | | | (cf. | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.4.3.3.3.2-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+
Table 5.4.3.3.3.2-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
###### 5.4.3.3.3.3 DELETE
This method shall support the URI query parameters specified in table
5.4.3.3.3.3-1.
Table 5.4.3.3.3.3-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.4.3.3.3.3-2 and the response data structures and response codes specified in
table 5.4.3.3.3.3-3.
Table 5.4.3.3.3.3-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.4.3.3.3.3-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case. The | | | | | | Individual | | | | | | ECS Address | | | | | | Configuration | | | | | | Information | | | | | | Subscription | | | | | | resource | | | | | | matching the | | | | | | s | | | | | | ubscriptionId | | | | | | was deleted. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | ta | | | | | | ble 5.4.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | Red | | | | | | irectResponse | | | | | | data | | | | | | structure may | | | | | | be provided | | | | | | by an SCP | | | | | | (cf. | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.4.3.3.3.3-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
Table 5.4.3.3.3.3-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
### 5.4.4 Custom Operations without associated resources
None.
### 5.4.5 Notifications
#### 5.4.5.1 General
Notifications shall comply to clause 6.2 of 3GPP TS 29.500 [4] and clause
4.6.2.3 of 3GPP TS 29.501 [5].
Table 5.4.5.1-1: Notifications overview
+----------------+--------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +----------------+--------------+----------------+----------------+ | Event | {notifUri} | POST | Provides ECS | | Notification | | | Address | | | | | Configuration | | | | | Information. | +----------------+--------------+----------------+----------------+
#### 5.4.5.2 ECS Address Configuration Information Notification
##### 5.4.5.4.1 Description
The ECS Address Configuration Information Notification is used by the NEF to
report the observed ECS Address Configuration Information to an NF service
consumer that has subscribed to such Notifications.
##### 5.4.5.4.2 Target URI
The Notification URI **\"{notifUri}\"** shall be used with the callback URI
variables defined in table 5.4.5.4.2-1.
Table 5.4.5.4.2-1: Callback URI variables for this resource
* * *
Name Data type Definition notifUri Uri The Notification URI as assigned by the
NF service consumer during the subscription service operation and described
within the EcsAddrCfgInfoSubdata type.
* * *
##### 5.4.5.4.3 Standard Methods
###### 5.4.5.4.3.1 POST
This method shall support the request data structures specified in table
5.4.5.4.3.1-1 and the response data structures and response codes specified in
table 5.4.5.4.3.1-2.
Table 5.4.5.4.3.1-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description EcsAddrCfgInfoNotification M 1 Provides
the ECS Address Configuration Information.
* * *
Table 5.4.5.4.3.1-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The receipt | | | | | Content | of the | | | | | | Notification | | | | | | is | | | | | | acknowledged. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | notification. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | notification. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.4.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | Red | | | | | | irectResponse | | | | | | data | | | | | | structure may | | | | | | be provided | | | | | | by an SCP | | | | | | (cf. | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.4.5.4.3.1-3: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative NF | | | | | | consumer | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the | | | | | | notification | | | | | | should be | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the | | | | | | notification | | | | | | request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
Table 5.4.5.4.3.1-4: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative NF | | | | | | consumer | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the | | | | | | notification | | | | | | should be | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the | | | | | | notification | | | | | | request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
### 5.4.6 Data Model
#### 5.4.6.1 General
This clause specifies the application data model supported by the API.
Table 5.4.6.1-1 specifies the data types defined for the Nnef_ECSAddress
service based interface protocol.
Table 5.4.6.1-1: Nnef_ECSAddress specific Data Types
* * *
Data type Section defined Description Applicability EcsAddrCfgInfoNotification
5.4.6.2.3 Contains ECS Address Configuration Information for notification.  
EcsAddrCfgInfoSub 5.4.6.2.2 Contains ECS Address Configuration Information
subscription data.
* * *
Table 5.4.6.1-2 specifies data types re-used by the Nnef_ECSAddress service
based interface protocol from other specifications, including a reference to
their respective specifications and when needed, a short description of their
use within the Nnef_ECSAddress service based interface.
Table 5.4.6.1-2: Nnef_ECSAddress re-used Data Types
* * *
Data type Reference Comments Applicability Dnn 3GPP TS 29.571 [16] Identifies
the DNN.  
GroupId 3GPP TS 29.571 [16] Identifies a group of UEs.  
Snssai 3GPP TS 29.571 [16] Identifies a Single Network Slice Selection
Assistance Information.  
SupportedFeatures 3GPP TS 29.571 [16] Indicates the features supported.  
Uri 3GPP TS 29.571 [16] Contains a URI.
* * *
#### 5.4.6.2 Structured data types
##### 5.4.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 5.4.6.2.2 Type: EcsAddrCfgInfoSub
Table 5.4.6.2.2-1: Definition of type EcsAddrCfgInfoSub
+----------+----------+-------+----------+----------+----------+ | **A |** Data | **P** | **Cardi |** Descr | * | | ttribute | type**| | nality** | iption**| *Applica | | name** | | | | | bility** | +----------+----------+-------+----------+----------+----------+ | notifUri | Uri | M | 1 | URI | | | | | | | provided | | | | | | | by the | | | | | | | NF | | | | | | | service | | | | | | | consumer | | | | | | | in | | | | | | | dicating | | | | | | | where to | | | | | | | receive | | | | | | | the | | | | | | | su | | | | | | | bscribed | | | | | | | notif | | | | | | | ications | | | | | | | from the | | | | | | | NEF. | | +----------+----------+-------+----------+----------+----------+ | not | string | M | 1 | Noti | | | ifCorrId | | | | fication | | | | | | | cor | | | | | | | relation | | | | | | | ide | | | | | | | ntifier. | | +----------+----------+-------+----------+----------+----------+ | dnns | ar | O | 1..N | Each | | | | ray(Dnn) | | | element | | | | | | | id | | | | | | | entifies | | | | | | | a DNN. | | +----------+----------+-------+----------+----------+----------+ | snssais | array | O | 1..N | Each | | | | (Snssai) | | | element | | | | | | | id | | | | | | | entifies | | | | | | | an | | | | | | | internal | | | | | | | slice. | | +----------+----------+-------+----------+----------+----------+ | interna | GroupId | O | 0..1 | Id | | | lGroupId | | | | entifies | | | | | | | a group | | | | | | | of | | | | | | | users. | | +----------+----------+-------+----------+----------+----------+ | i | boolean | O | 0..1 | In | | | mmRepInd | | | | dication | | | | | | | of | | | | | | | i | | | | | | | mmediate | | | | | | | re | | | | | | | porting. | | | | | | | If | | | | | | | i | | | | | | | ncluded, | | | | | | | when it | | | | | | | is set | | | | | | | to true | | | | | | | it | | | | | | | i | | | | | | | ndicates | | | | | | | i | | | | | | | mmediate | | | | | | | r | | | | | | | eporting | | | | | | | of the | | | | | | | su | | | | | | | bscribed | | | | | | | events, | | | | | | | if | | | | | | | av | | | | | | | ailable. | | | | | | | Ot | | | | | | | herwise, | | | | | | | r | | | | | | | eporting | | | | | | | will | | | | | | | occur | | | | | | | when the | | | | | | | event is | | | | | | | met. | | +----------+----------+-------+----------+----------+----------+ | im | a | O | 1..N | Contains | | | mReports | rray(Ecs | | | the ECS | | | | AddrCfgI | | | Address | | | | nfoNotif | | | Confi | | | | ication) | | | guration | | | | | | | Inf | | | | | | | ormation | | | | | | | that | | | | | | | match | | | | | | | this | | | | | | | subsc | | | | | | | ription. | | | | | | | | | | | | | | It may | | | | | | | be | | | | | | | included | | | | | | | only in | | | | | | | the POST | | | | | | | (or PUT) | | | | | | | response | | | | | | | body of | | | | | | | a | | | | | | | subs | | | | | | | cription | | | | | | | creation | | | | | | | (or | | | | | | | modifi | | | | | | | cation), | | | | | | | and only | | | | | | | if the | | | | | | | \"imm | | | | | | | RepInd\" | | | | | | | a | | | | | | | ttribute | | | | | | | is set | | | | | | | to | | | | | | | \"true\" | | | | | | | in the | | | | | | | corre | | | | | | | sponding | | | | | | | HTTP | | | | | | | request. | | +----------+----------+-------+----------+----------+----------+ | s | S | C | 0..1 | Used to | | | upported | upported | | | n | | | Features | Features | | | egotiate | | | | | | | the | | | | | | | appli | | | | | | | cability | | | | | | | of the | | | | | | | optional | | | | | | | f | | | | | | | eatures. | | | | | | | This | | | | | | | a | | | | | | | ttribute | | | | | | | shall be | | | | | | | provided | | | | | | | in the | | | | | | | POST | | | | | | | request | | | | | | | and in | | | | | | | the | | | | | | | response | | | | | | | of | | | | | | | su | | | | | | | ccessful | | | | | | | resource | | | | | | | c | | | | | | | reation. | | +----------+----------+-------+----------+----------+----------+
Editor\'s note: _Whether the \"dnns\", \"snssais\" and \"internalGroupId\"
attributes are single or plural and if they need to be included in the
notification is FFS._
##### 5.4.6.2.3 Type: EcsAddrCfgInfoNotification
Table 5.4.6.2.3-1: Definition of type EcsAddrCfgInfoNotification
* * *
**Attribute name** **Data type** **P** **Cardinality** **Description**
**Applicability** notifCorrId string M 1 Notification correlation identifier.  
ecsAddrCfgInfo array(string) M 1..N Contains the ECS Address Configuration
Information.
* * *
Editor\'s note: The data type of \"ecsAddrCfgInfo\" attribute is FFS.
#### 5.4.6.3 Simple data types and enumerations
##### 5.4.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.4.6.3.2 Simple data types
The simple data types defined in table 5.4.6.3.2-1 shall be supported.
Table 5.4.6.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.4.7 Error Handling
#### 5.4.7.1 General
For the Nnef_ECSAddress API, HTTP error responses shall be supported as
specified in clause 4.8 of 3GPP TS 29.501 [5]. Protocol errors and application
errors specified in table 5.4.7.2-1 of 3GPP TS 29.500 [4] shall be supported
for an HTTP method if the corresponding HTTP status codes are specified as
mandatory for that HTTP method in table 5.4.7.1-1 of 3GPP TS 29.500 [4].
In addition, the requirements in the following clauses are applicable for the
Nnef_ECSAddress API.
#### 5.4.7.2 Protocol Errors
No specific procedures for the Nnef_ECSAddress service are specified.
#### 5.4.7.3 Application Errors
The application errors defined for the Nnef_ECSAddress service are listed in
Table 5.4.7.3-1.
Table 5.4.7.3-1: Application errors
* * *
Application Error HTTP status code Description
* * *
### 5.4.8 Feature negotiation
The optional features in table 5.4.8-1 are defined for the Nnef_ECSAddress
API. They shall be negotiated using the extensibility mechanism defined in
clause 6.6 of 3GPP TS 29.500 [4].
Table 5.4.8-1: Supported Features
* * *
Feature number Feature Name Description
* * *
### 5.4.9 Security
As indicated in 3GPP TS 33.501 [8] and 3GPP TS 29.500 [4], the access to the
Nnef_ECSAddress API may be authorized by means of the Oauth2 protocol (see
IETF RFC 6749 [9]), based on local configuration, using the "Client
Credentials" authorization grant, where the NRF (see 3GPP TS 29.510 [10])
plays the role of the authorization server.
If Oauth2 is used, an NF Service Consumer, prior to consuming services offered
by the Nnef_ECSAddress API, shall obtain a \"token\" from the authorization
server, by invoking the Access Token Request service, as described in 3GPP TS
29.510 [10], clause 5.4.2.2.
NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used for
discovering the Nnef_ECSAddress service.
The Nnef_ECSAddress API defines a single scope \"nnef-ecs-addr-cfg-info\" for
the entire service, and it does not define any additional scopes at resource
or operation level.
## 5.5 Nnef_DNAIMapping Service API
### 5.5.1 Introduction
The Nnef_DNAIMapping service shall use the Nnef_DNAIMapping API.
The API URI of the Nnef_DNAIMapping API shall be:
**{apiRoot}/\ /\**
The request URIs used in HTTP requests from the NF service consumer towards
the NF service producer shall have the Resource URI structure defined in
clause 4.4.1 of 3GPP TS 29.501 [5], i.e.:
**{apiRoot}/\ /\/\**
with the following components:
\- The {apiRoot} shall be set as described in 3GPP TS 29.501 [5].
\- The \ shall be \"nnef-dnai-mapping\".
\- The \ shall be \"v1\".
\- The \ shall be set as described in clause
5.5.3.
### 5.5.2 Usage of HTTP
#### 5.5.2.1 General
HTTP/2, IETF RFC 7540 [11], shall be used as specified in clause 5 of 3GPP TS
29.500 [4].
HTTP/2 shall be transported as specified in clause 5.6 of 3GPP TS 29.500 [4].
The OpenAPI [6] specification of HTTP messages and content bodies for the
Nnef_DNAIMapping API is contained in Annex 7.
#### 5.5.2.2 HTTP standard headers
##### 5.5.2.2.1 General
See clause 5.6.2 of 3GPP TS 29.500 [4] for the usage of HTTP standard headers.
##### 5.5.2.2.2 Content type
JSON, IETF RFC 8259 [12], shall be used as content type of the HTTP bodies
specified in the present specification as specified in clause 5.6 of 3GPP TS
29.500 [4]. The use of the JSON format shall be signalled by the content type
\"application/json\".
\"Problem Details\" JSON object shall be used to indicate additional details
of the error in a HTTP response body and shall be signalled by the content
type \"application/problem+json\", as defined in IETF RFC 7807 [13].
#### 5.5.2.3 HTTP custom headers
The Nnef_DNAIMapping API shall support mandatory HTTP custom header fields
specified in clause 5.6.3.2 of 3GPP TS 29.500 [4] and may support HTTP custom
header fields specified in clause 5.6.3.3 of 3GPP TS 29.500 [4].
In this Release of the specification, no specific custom headers are defined
for the Nnef_DNAIMapping API.
### 5.5.3 Resources
#### 5.5.3.1 Overview
This clause describes the structure for the Resource URIs and the resources
and methods used for the service.
Figure 5.5.3.1-1 depicts the resource URIs structure for the Nnef_DNAIMapping
API.
Figure 5.5.3.1-1: Resource URI structure of the Nnef_DNAIMapping API
Table 5.5.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 5.5.3.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method or custom operation Description DNAI
Mapping Subscriptions /subscriptions POST Creates a subscription to
notifications of DNAI Mapping, i.e. creation of an Individual DNAI Mapping
Subscription resource. Individual DNAI Mapping Subscription
/subscriptions/{subscriptionId} GET Reads a subscription to Individual DNAI
Mapping. DELETE Delete an individual subscription to notifications of DNAI
Mapping.
* * *
#### 5.5.3.2 Resource: DNAI Mapping Subscriptions
##### 5.5.3.2.1 Description
The resource represents the collection of DNAI Mapping subscriptions of the
Nnef_DNAIMapping service. It allows NF service consumers to create a new
subscription to notifications on DNAI Mapping.
##### 5.5.3.2.2 Resource Definition
Resource URI: **{apiRoot}/nnef-dnai-mapping/\ /subscriptions**
This resource shall support the resource URI variables defined in table
5.5.3.2.2-1.
Table 5.5.3.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.5.1
* * *
##### 5.5.3.2.3 Resource Standard Methods
###### 5.5.3.2.3.1 POST
This method shall support the URI query parameters specified in table
5.5.3.2.3.1-1.
Table 5.5.3.2.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
5.5.3.2.3.1-2 and the response data structures and response codes specified in
table 5.5.3.2.3.1-3.
Table 5.5.3.2.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description DnaiMapSub M 1 Contains the information
required for the creation of a new Individual DNAI Mapping Subscription
resource.
* * *
Table 5.5.3.2.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | Codes | | +---------------+---+-------------+-------------+---------------+ | DnaiMapSub | M | 1 | 201 Created | Contains the | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | Individual | | | | | | DNAI Mapping | | | | | | Subscription | | | | | | resource. | +---------------+---+-------------+-------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.6.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+-------------+---------------+
Table 5.5.3.2.3.1-4: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/nnef-
dnai-mapping/\/subscriptions/{subscriptionId}
* * *
#### 5.5.3.3 Resource: Individual DNAI Mapping Subscription
##### 5.5.3.3.1 Description
The resource represents an individual DNAI Mapping subscription of the
Nnef_DNAIMapping service. It allows NF service consumers to
subscribe/unsubscribe DNAI Mapping information, and allows the NEF to notify
DNAI Mapping Information to the NF service consumer.
##### 5.5.3.3.2 Resource Definition
Resource URI: **{apiRoot}/nnef-dnai-mapping/\
/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.5.3.3.2-1.
Table 5.5.3.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.5.1 subscriptionId
string Identifier of the subscription.
* * *
##### 5.5.3.3.3 Resource Standard Methods
###### 5.5.3.3.3.1 GET
This method shall support the URI query parameters specified in table
5.5.3.3.3.1-1.
Table 5.5.3.3.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.5.3.3.3.1-2 and the response data structures and response codes specified in
table 5.5.3.3.3.1-3.
Table 5.5.3.3.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.5.3.3.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | DnaiMapSub | M | 1 | 200 OK | The | | | | | | subscription | | | | | | information | | | | | | is returned. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | retrieval. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.6.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | Red | | | | | | irectResponse | | | | | | data | | | | | | structure may | | | | | | be provided | | | | | | by an SCP | | | | | | (cf. | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.5.3.3.3.1-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+
Table 5.5.3.3.3.1-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
###### 5.5.3.3.3.2 DELETE
This method shall support the URI query parameters specified in table
5.5.3.3.3.2-1.
Table 5.5.3.3.3.2-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.5.3.3.3.2-2 and the response data structures and response codes specified in
table 5.5.3.3.3.2-3.
Table 5.5.3.3.3.2-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.5.3.3.3.2-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case. The | | | | | | Individual | | | | | | DNAI Mapping | | | | | | Subscription | | | | | | resource | | | | | | matching the | | | | | | s | | | | | | ubscriptionId | | | | | | was deleted. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | subscription | | | | | | termination. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | ta | | | | | | ble 5.6.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | Red | | | | | | irectResponse | | | | | | data | | | | | | structure may | | | | | | be provided | | | | | | by an SCP | | | | | | (cf. | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.5.3.3.3.2-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | String | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | String | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
Table 5.5.3.3.3.2-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | String | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located in an | | | | | | alternative NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | String | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NEF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
### 5.5.4 Custom Operations without associated resources
None.
### 5.5.5 Notifications
#### 5.5.5.1 General
Notifications shall comply to clause 6.2 of 3GPP TS 29.500 [4] and clause
4.6.2.3 of 3GPP TS 29.501 [5].
Table 5.5.5.1-1: Notifications overview
+----------------+--------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +----------------+--------------+----------------+----------------+ | Notification | {notifUri} | POST | The update of | | of the update | | | the DNAI-EAS | | of DNAI-EAS | | | address(es) | | address(es) | | | information is | | information | | | notified to | | | | | the NF service | | | | | consumer by | | | | | the NEF. | +----------------+--------------+----------------+----------------+
#### 5.5.5.2 DNAI Mapping Notification
##### 5.5.5.2.1 Description
The DNAI Mapping Notification is used by the NEF to report the observed DNAI
Mapping to an NF service consumer that has subscribed to such Notifications.
##### 5.5.5.2.2 Target URI
The Notification URI **\"{notifUri}\"** shall be used with the callback URI
variables defined in table 5.5.5.2.2-1.
Table 5.5.5.2.2-1: Callback URI variables for this resource
* * *
Name Data type Definition notifUri Uri The Notification URI as assigned by the
NF service consumer during the subscription service operation and described
within the DnaiMapSub data type.
* * *
##### 5.5.5.2.3 Standard Methods
###### 5.5.5.2.3.1 POST
This method shall support the request data structures specified in table
5.5.5.2.3.1-1 and the response data structures and response codes specified in
table 5.5.5.2.3.1-2.
Table 5.5.5.2.3.1-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description DnaiMapUpdateNotif M 1 Represents the
update of the DNAI Mapping information to be reported to the NF service
consumer.
* * *
Table 5.5.5.2.3.1-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The receipt | | | | | Content | of the | | | | | | Notification | | | | | | is | | | | | | acknowledged. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | notification. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | notification. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.6.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | Red | | | | | | irectResponse | | | | | | data | | | | | | structure may | | | | | | be provided | | | | | | by an SCP | | | | | | (cf. | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.5.5.2.3.1-3: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative NF | | | | | | consumer | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the | | | | | | notification | | | | | | should be | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the | | | | | | notification | | | | | | request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
Table 5.5.5.2.3.1-4: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative NF | | | | | | consumer | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the | | | | | | notification | | | | | | should be | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the | | | | | | notification | | | | | | request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
### 5.5.6 Data Model
#### 5.5.6.1 General
This clause specifies the application data model supported by the API.
Table 5.5.6.1-1 specifies the data types defined for the Nnef_DNAIMapping
service based interface protocol.
Table 5.5.6.1-1: Nnef_DNAIMapping specific Data Types
* * *
Data type Section defined Description Applicability n/a
* * *
Table 5.5.6.1-2 specifies data types re-used by the Nnef_DNAIMapping service
based interface protocol from other specifications, including a reference to
their respective specifications and when needed, a short description of their
use within the Nnef_DNAIMapping service based interface.
Table 5.5.6.1-2: Nnef_DNAIMapping re-used Data Types
* * *
Data type Reference Comments Applicability DnaiMapSub 3GPP TS 29.522 [15]
Represents DNAI Mapping subscription data.  
DnaiMapUpdateNotif 3GPP TS 29.522 [15] Represents the notification data of the
update of DNAI Mapping information.
* * *
#### 5.5.6.2 Structured data types
##### 5.5.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
#### 5.5.6.3 Simple data types and enumerations
##### 5.5.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 5.5.6.3.2 Simple data types
The simple data types defined in table 5.5.6.3.2-1 shall be supported.
Table 5.5.6.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
### 5.5.7 Error Handling
#### 5.5.7.1 General
For the Nnef_DNAIMapping API, HTTP error responses shall be supported as
specified in clause 4.8 of 3GPP TS 29.501 [5]. Protocol errors and application
errors specified in table 5.6.7.2-1 of 3GPP TS 29.500 [4] shall be supported
for an HTTP method if the corresponding HTTP status codes are specified as
mandatory for that HTTP method in table 5.6.7.1-1 of 3GPP TS 29.500 [4].
In addition, the requirements in the following clauses are applicable for the
Nnef_DNAIMapping API.
#### 5.5.7.2 Protocol Errors
No specific procedures for the Nnef_DNAIMapping service are specified.
#### 5.5.7.3 Application Errors
The application errors defined for the Nnef_DNAIMapping service are listed in
Table 5.5.7.3-1.
Table 5.5.7.3-1: Application errors
* * *
Application Error HTTP status code Description
* * *
### 5.5.8 Feature negotiation
The optional features in table 5.5.8-1 are defined for the Nnef_DNAIMapping
API. They shall be negotiated using the extensibility mechanism defined in
clause 6.6 of 3GPP TS 29.500 [4].
Table 5.5.8-1: Supported Features
* * *
Feature number Feature Name Description
* * *
### 5.5.9 Security
As indicated in 3GPP TS 33.501 [8] and 3GPP TS 29.500 [4], the access to the
Nnef_DNAIMapping API may be authorized by means of the Oauth2 protocol (see
IETF RFC 6749 [9]), based on local configuration, using the "Client
Credentials" authorization grant, where the NRF (see 3GPP TS 29.510 [10])
plays the role of the authorization server.
If Oauth2 is used, an NF Service Consumer, prior to consuming services offered
by the Nnef_DNAIMapping API, shall obtain a \"token\" from the authorization
server, by invoking the Access Token Request service, as described in 3GPP TS
29.510 [10], clause 5.6.2.2.
###### ## Annex A (normative): OpenAPI specification
# A.1 General
This Annex specifies the formal definition of the API(s) defined in the
present specification. It consists of OpenAPI 3.0.0 specifications in YAML
format.
This Annex takes precedence when being discrepant to other parts of the
specification with respect to the encoding of information elements and methods
within the API(s).
NOTE: The semantics and procedures, as well as conditions, e.g. for the
applicability and allowed combinations of attributes or values, not expressed
in the OpenAPI definitions but defined in other parts of the specification
also apply.
Informative copies of the OpenAPI specification files contained in this 3GPP
Technical Specification are available on a Git-based repository that uses the
GitLab software version control system (see clause 5B of the 3GPP TR 21.900
[7] and clause 5.3.1 of the 3GPP TS 29.501 [5] for further information).
# A.2 Nnef_EventExposure API
openapi: 3.0.0
info:
title: Nnef_EventExposure
version: 1.3.0-alpha.3
description: \|
NEF Event Exposure Service.
Â© 2023 , 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: >
3GPP TS 29.591 V18.2.0; 5G System; Network Exposure Function Southbound
Services; Stage 3.
url: https://www.3gpp.org/ftp/Specs/archive/29_series/29.591/
servers:
\- url: \'{apiRoot}/nnef-eventexposure/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501
security:
\- {}
\- oAuth2ClientCredentials:
\- nnef-eventexposure
paths:
/subscriptions:
post:
summary: subscribe to notifications
operationId: CreateIndividualSubcription
tags:
\- Subscriptions (Collection)
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/NefEventExposureSubsc\'
responses:
\'201\':
description: Success
content:
application/json:
schema:
\$ref: \'#/components/schemas/NefEventExposureSubsc\'
headers:
Location:
description: >
Contains the URI of the newly created resource, according to the structure
{apiRoot}/nnef-eventexposure/\/subscriptions/{subscriptionId}
required: true
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
myNotification:
\'{\$request.body#/notifUri}\':
post:
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/NefEventExposureNotif\'
responses:
\'204\':
description: No Content, Notification was succesfull
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/subscriptions/{subscriptionId}:
get:
summary: retrieve subscription
operationId: GetIndividualSubcription
tags:
\- IndividualSubscription (Document)
parameters:
\- name: subscriptionId
in: path
description: Event Subscription ID
required: true
schema:
type: string
\- name: supp-feat
in: query
description: Features supported by the NF service consumer
required: false
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
responses:
\'200\':
description: OK. Resource representation is returned
content:
application/json:
schema:
\$ref: \'#/components/schemas/NefEventExposureSubsc\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
put:
summary: update subscription
operationId: ReplaceIndividualSubcription
tags:
\- IndividualSubscription (Document)
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/NefEventExposureSubsc\'
parameters:
\- name: subscriptionId
in: path
description: Event Subscription ID
required: true
schema:
type: string
responses:
\'200\':
description: OK. Resource was succesfully modified and representation is
returned
content:
application/json:
schema:
\$ref: \'#/components/schemas/NefEventExposureSubsc\'
\'204\':
description: No Content. Resource was succesfully modified
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
delete:
summary: unsubscribe from notifications
operationId: DeleteIndividualSubcription
tags:
\- IndividualSubscription (Document)
parameters:
\- name: subscriptionId
in: path
description: Event Subscription ID
required: true
schema:
type: string
responses:
\'204\':
description: No Content. Resource was succesfully deleted
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes:
nnef-eventexposure: Access to the Nnef_EventExposure API
schemas:
NefEventExposureSubsc:
description: Represents an Individual Network Exposure Event Subscription
resource.
type: object
properties:
dataAccProfId:
type: string
eventsSubs:
type: array
items:
\$ref: \'#/components/schemas/NefEventSubs\'
minItems: 1
eventsRepInfo:
\$ref:
\'TS29523_Npcf_EventExposure.yaml#/components/schemas/ReportingInformation\'
notifUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
notifId:
type: string
eventNotifs:
type: array
items:
\$ref: \'#/components/schemas/NefEventNotification\'
minItems: 1
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- eventsSubs
\- notifId
\- notifUri
NefEventExposureNotif:
description: >
Represents notifications on network exposure event(s) that occurred for an
Individual Network
Exposure Event Subscription resource.
type: object
properties:
notifId:
type: string
eventNotifs:
type: array
items:
\$ref: \'#/components/schemas/NefEventNotification\'
minItems: 1
required:
\- notifId
\- eventNotifs
NefEventNotification:
description: Represents information related to an event to be reported.
type: object
properties:
event:
\$ref: \'#/components/schemas/NefEvent\'
timeStamp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
svcExprcInfos:
type: array
items:
\$ref: \'#/components/schemas/ServiceExperienceInfo\'
minItems: 1
ueMobilityInfos:
type: array
items:
\$ref: \'#/components/schemas/UeMobilityInfo\'
minItems: 1
ueCommInfos:
type: array
items:
\$ref: \'#/components/schemas/UeCommunicationInfo\'
minItems: 1
excepInfos:
type: array
items:
\$ref: \'TS29517_Naf_EventExposure.yaml#/components/schemas/ExceptionInfo\'
minItems: 1
congestionInfos:
type: array
items:
\$ref:
\'TS29517_Naf_EventExposure.yaml#/components/schemas/UserDataCongestionCollection\'
minItems: 1
perfDataInfos:
type: array
items:
\$ref: \'#/components/schemas/PerformanceDataInfo\'
minItems: 1
dispersionInfos:
type: array
items:
\$ref:
\'TS29517_Naf_EventExposure.yaml#/components/schemas/DispersionCollection\'
minItems: 1
collBhvrInfs:
type: array
items:
\$ref:
\'TS29517_Naf_EventExposure.yaml#/components/schemas/CollectiveBehaviourInfo\'
minItems: 1
msQoeMetrInfos:
type: array
items:
\$ref:
\'TS29517_Naf_EventExposure.yaml#/components/schemas/MsQoeMetricsCollection\'
minItems: 1
msConsumpInfos:
type: array
items:
\$ref:
\'TS29517_Naf_EventExposure.yaml#/components/schemas/MsConsumptionCollection\'
minItems: 1
msNetAssInvInfos:
type: array
items:
\$ref:
\'TS29517_Naf_EventExposure.yaml#/components/schemas/MsNetAssInvocationCollection\'
minItems: 1
msDynPlyInvInfos:
type: array
items:
\$ref:
\'TS29517_Naf_EventExposure.yaml#/components/schemas/MsDynPolicyInvocationCollection\'
minItems: 1
msAccActInfos:
type: array
items:
\$ref:
\'TS29517_Naf_EventExposure.yaml#/components/schemas/MSAccessActivityCollection\'
minItems: 1
gnssAssistDataInfo:
\$ref: \'#/components/schemas/GNSSAssistDataInfo\'
datVolTransTimeInfos:
type: array
items:
\$ref:
\'TS29517_Naf_EventExposure.yaml#/components/schemas/DatVolTransTimeCollection\'
minItems: 1
required:
\- event
\- timeStamp
NefEventSubs:
description: Represents an event to be subscribed and the related event filter
information.
type: object
properties:
event:
\$ref: \'#/components/schemas/NefEvent\'
eventFilter:
\$ref: \'#/components/schemas/NefEventFilter\'
required:
\- event
NefEventFilter:
description: Represents event filter information for an event.
type: object
properties:
tgtUe:
\$ref: \'#/components/schemas/TargetUeIdentification\'
appIds:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ApplicationId\'
minItems: 1
locArea:
\$ref:
\'TS29554_Npcf_BDTPolicyControl.yaml#/components/schemas/NetworkAreaInfo\'
collAttrs:
type: array
items:
\$ref:
\'TS29517_Naf_EventExposure.yaml#/components/schemas/CollectiveBehaviourFilter\'
minItems: 1
required:
\- tgtUe
TargetUeIdentification:
description: Identifies the UE to which the request applies.
type: object
properties:
supis:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
minItems: 1
interGroupIds:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GroupId\'
minItems: 1
anyUeId:
type: boolean
ueIpAddr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/IpAddr\'
ServiceExperienceInfo:
description: Contains service experience information associated with an
application.
type: object
properties:
appId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ApplicationId\'
supis:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
minItems: 1
svcExpPerFlows:
type: array
items:
\$ref:
\'TS29517_Naf_EventExposure.yaml#/components/schemas/ServiceExperienceInfoPerFlow\'
minItems: 1
contrWeights:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
minItems: 1
required:
\- svcExpPerFlows
UeMobilityInfo:
description: >
Contains UE mobility information associated with an application. If the
\"appId\" attribute is
not present, then indicates the collected UE mobility information is
applicable to all the
applications for the UE.
type: object
properties:
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
appId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ApplicationId\'
ueTrajs:
type: array
items:
\$ref: \'#/components/schemas/UeTrajectoryInfo\'
minItems: 1
areas:
type: array
items:
\$ref:
\'TS29554_Npcf_BDTPolicyControl.yaml#/components/schemas/NetworkAreaInfo\'
minItems: 1
required:
\- supi
\- ueTrajs
UeCommunicationInfo:
description: Contains UE communication information associated with an
application.
type: object
properties:
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
interGroupId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GroupId\'
appId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ApplicationId\'
comms:
type: array
items:
\$ref:
\'TS29517_Naf_EventExposure.yaml#/components/schemas/CommunicationCollection\'
minItems: 1
required:
\- comms
UeTrajectoryInfo:
description: Contains UE trajectory information.
type: object
properties:
ts:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
location:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UserLocation\'
required:
\- ts
\- location
PerformanceDataInfo:
description: Contains Performance Data Analytics related information
collection.
type: object
properties:
appId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ApplicationId\'
ueIpAddr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/IpAddr\'
ipTrafficFilter:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/FlowInfo\'
userLoc:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UserLocation\'
appLocs:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnai\'
minItems: 1
asAddr:
\$ref: \'TS29517_Naf_EventExposure.yaml#/components/schemas/AddrFqdn\'
perfData:
\$ref: \'TS29517_Naf_EventExposure.yaml#/components/schemas/PerformanceData\'
timeStamp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
required:
\- perfData
\- timeStamp
GNSSAssistDataInfo:
description: Represents GNSS Assistance Data related information.
type: object
properties:
servArea:
\$ref: \'#/components/schemas/GNSSServArea\'
sourceInfo:
\$ref:
\'TS29572_Nlmf_Location.yaml#/components/schemas/GeographicalCoordinates\'
required:
\- servArea
GNSSServArea:
description: Represents the serving area of the GNSS Assistance Data.
type: object
properties:
geographicalArea:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/GeographicArea\'
taiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
minItems: 1
oneOf:
\- required: [geographicalArea]
\- required: [taiList]
# Simple data types and Enumerations
NefEvent:
anyOf:
\- type: string
enum:
\- SVC_EXPERIENCE
\- UE_MOBILITY
\- UE_COMM
\- EXCEPTIONS
\- USER_DATA_CONGESTION
\- PERF_DATA
\- DISPERSION
\- COLLECTIVE_BEHAVIOUR
\- MS_QOE_METRICS
\- MS_CONSUMPTION
\- MS_NET_ASSIST_INVOCATION
\- MS_DYN_POLICY_INVOCATION
\- MS_ACCESS_ACTIVITY
\- GNSS_ASSISTANCE_DATA
\- DATA_VOLUME_TRANSFER_TIME
\- type: string
description: >
This string provides forward-compatibility with future extensions to the
enumeration but
is not used to encode content defined in the present version of this API.
description: \|
Represents a Network Exposure Event.
Possible values are:
\- SVC_EXPERIENCE: Indicates that the subscribed/notified event is service
experience
information for an application.
\- UE_MOBILITY: Indicates that the subscribed/notified event is UE mobility
information.
\- UE_COMM: Indicates that the subscribed/notified event is UE communication
information.
\- EXCEPTIONS: Indicates that the subscribed/notified event is exceptions
information.
\- USER_DATA_CONGESTION: Indicates that the subscribed/notified event is user
data congestion
analytics related information.
\- PERF_DATA: Indicates that the subscribed/notified event is performance data
information.
\- DISPERSION: Indicates that the subscribed/notified event is dispersion
information.
\- COLLECTIVE_BEHAVIOUR: Indicates that the subscribed/notified event is
collective behaviour
information.
\- MS_QOE_METRICS: Indicates that the subscribed/notified event is Media
Streaming QoE
metrics.
\- MS_CONSUMPTION: Indicates that the subscribed/notified event is Media
Streaming
consumption reports.
\- MS_NET_ASSIST_INVOCATION: Indicates that the subscribed/notified event is
Media Streaming
network assistance invocation.
\- MS_DYN_POLICY_INVOCATION: Indicates that the subscribed/notified event is
Media Streaming
dynamic policy invocation.
\- MS_ACCESS_ACTIVITY: Indicates that the subscribed/notified event is Media
Streaming access
activity.
\- GNSS_ASSISTANCE_DATA: Indicates that the subscribed/notified event is GNSS
Assistance Data
Collection.
# A.3 Nnef_EASDeployment API
openapi: 3.0.0
info:
title: Nnef_EASDeployment
version: 1.1.0-alpha.3
description: \|
NEF EAS Deployment service.
Â© 2023, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: >
3GPP TS 29.591 V18.2.0; 5G System; Network Exposure Function Southbound
Services; Stage 3.
url: https://www.3gpp.org/ftp/Specs/archive/29_series/29.591/
servers:
\- url: \'{apiRoot}/nnef-eas-deployment/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501
security:
\- {}
\- oAuth2ClientCredentials:
\- nnef-eas-deployment
paths:
/subscriptions:
post:
summary: subscribe to notifications
operationId: CreateIndividualSubcription
tags:
\- Subscriptions (Collection)
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/EasDeploySubData\'
responses:
\'201\':
description: Success
content:
application/json:
schema:
\$ref: \'#/components/schemas/EasDeploySubData\'
headers:
Location:
description: >
Contains the URI of the newly created resource, according to the structure:
{apiRoot}/nnef-eas-deployment/\/subscriptions/{subscriptionId}.
required: true
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
notifUri:
\'{\$request.body#/notifUri}\':
post:
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/EasDeployInfoNotif\'
responses:
\'204\':
description: No Content, Notification was succesfull
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/subscriptions/{subscriptionId}:
get:
summary: retrieve subscription
operationId: GetIndividualSubcription
tags:
\- IndividualSubscription (Document)
parameters:
\- name: subscriptionId
in: path
description: Event Subscription ID
required: true
schema:
type: string
responses:
\'200\':
description: OK. Resource representation is returned
content:
application/json:
schema:
\$ref: \'#/components/schemas/EasDeploySubData\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
delete:
summary: unsubscribe from notifications
operationId: DeleteIndividualSubcription
tags:
\- IndividualSubscription (Document)
parameters:
\- name: subscriptionId
in: path
description: Event Subscription ID
required: true
schema:
type: string
responses:
\'204\':
description: No Content. Resource was succesfully deleted
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes:
nnef-eas-deployment: Access to the Nnef_EASDeployment API
schemas:
EasDeploySubData:
description: Represents an Individual EAS Deployment Event Subscription
resource.
type: object
properties:
appId:
type: string
dnnSnssaiInfos:
type: array
items:
\$ref: \'TS29522_AMInfluence.yaml#/components/schemas/DnnSnssaiInformation\'
minItems: 1
description: Each of the element identifies a (DNN, S-NSSAI) combination.
eventId:
\$ref: \'#/components/schemas/EasEvent\'
eventsNotifs:
type: array
items:
\$ref: \'#/components/schemas/EasDeployInfoData\'
minItems: 1
description: >
Represents the EAS Deployment Information changes event(s) to be reported.
Shall only be present if the \"immRep\" attribute is included and sets to
true,
and the current status of EAS Deployment Information is available.
immRep:
type: boolean
description: >
Indication of immediate reporting. Set to true: requires the immediate
reporting of the
current status of EAS Deployment Information, if available. Set to false
(default): EAS
Deployment Information event report occurs when the event is met.
interGroupId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GroupId\'
notifId:
type: string
notifUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
required:
\- eventId
\- notifId
\- notifUri
EasDeployInfoNotif:
description: >
Represents notifications on EAS Deployment Information changes event(s) that
occurred for an
Individual EAS Deployment Event Subscription resource.
type: object
properties:
easDepNotifs:
type: array
items:
\$ref: \'#/components/schemas/EasDepNotification\'
minItems: 1
notifId:
type: string
required:
\- easDepNotifs
\- notifId
EasDepNotification:
description: Represents the EAS Deployment Notifcation.
type: object
properties:
easDepInfo:
\$ref: \'#/components/schemas/EasDeployInfoData\'
eventId:
\$ref: \'#/components/schemas/EasEvent\'
required:
\- easDepInfo
\- eventId
EasDeployInfoData:
description: Represents the EAS Deployment Information to be reported.
type: object
properties:
appId:
type: string
dnaiInfos:
type: object
additionalProperties:
\$ref: \'TS29522_EASDeployment.yaml#/components/schemas/DnaiInformation\'
minProperties: 1
description: >
list of DNS server identifier (consisting of IP address and port) and/or IP
address(s)
of the EAS in the local DN for each DNAI. The key of map is the DNAI.
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
fqdnPatternList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/FqdnPatternMatchingRule\'
minItems: 1
internalGroupId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GroupId\'
snssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
targetAfId:
type: string
description: >
Identifier of the AF that is responsible for the EAS associated with this EAS
deployment information.
required:
\- fqdnPatternList
# Simple data types and Enumerations
EasEvent:
anyOf:
\- type: string
enum:
\- EAS_INFO_CHG
\- type: string
description: \|
Represents the EAS event.
Possible values areï¼š
\- EAS_INFO_CHG: Indicates that the EAS Deployment Information is changed.
# A.4 Nnef_TrafficInfluenceData API
openapi: 3.0.0
info:
title: Nnef_TrafficInfluenceData
version: 1.0.0-alpha.2
description: \|
NEF Traffic Influence Data Service.
Â© 2023 , 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: >
3GPP TS 29.591 V18.3.0; 5G System; Network Exposure Function Southbound
Services; Stage 3.
url: https://www.3gpp.org/ftp/Specs/archive/29_series/29.591/
servers:
\- url: \'{apiRoot}/nnef-traffic-influence-data/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501
security:
\- {}
\- oAuth2ClientCredentials:
\- nnef-traffic-influence-data
paths:
/subscriptions:
post:
summary: subscribe to notifications
operationId: CreateIndividualSubcription
tags:
\- Subscriptions (Collection)
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/TrafficInfluDataSub\'
responses:
\'201\':
description: Success
content:
application/json:
schema:
\$ref: \'#/components/schemas/TrafficInfluDataSub\'
headers:
Location:
description: >
Contains the URI of the newly created resource, according to the structure
{apiRoot}/nnef-traffic-influence-
data/\/subscriptions/{subscriptionId}
required: true
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
myNotification:
\'{\$request.body#/notifUri}\':
post:
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/TrafficInfluDataNotify\'
responses:
\'204\':
description: No Content, Notification was succesfull
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
get:
summary: read all of the active subscriptions
operationId: ReadAllSubscriptions
tags:
\- Traffic Influence Data
parameters:
\- name: dnn
in: query
description: Identifies a DNN.
required: false
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
\- name: snssai
in: query
description: Identifies a slice.
required: false
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
\- name: internal-Group-Id
in: query
description: Identifies a group of users.
required: false
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GroupId\'
\- name: supi
in: query
description: Identifies a user.
required: false
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
responses:
\'200\':
description: OK.
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/TrafficInfluDataSub\'
\'204\':
description: No Content.
\'307\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29122_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29122_CommonData.yaml#/components/responses/default\'
/subscriptions/{subscriptionId}:
get:
summary: retrieve subscription
operationId: GetIndividualSubcription
tags:
\- IndividualSubscription (Document)
parameters:
\- name: subscriptionId
in: path
description: Subscription ID
required: true
schema:
type: string
responses:
\'200\':
description: OK. Resource representation is returned
content:
application/json:
schema:
\$ref: \'#/components/schemas/TrafficInfluDataSub\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
put:
summary: update subscription
operationId: ReplaceIndividualSubcription
tags:
\- IndividualSubscription (Document)
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/TrafficInfluDataSub\'
parameters:
\- name: subscriptionId
in: path
description: Subscription ID
required: true
schema:
type: string
responses:
\'200\':
description: OK. Resource was succesfully modified and representation is
returned
content:
application/json:
schema:
\$ref: \'#/components/schemas/TrafficInfluDataSub\'
\'204\':
description: No Content. Resource was succesfully modified
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
delete:
summary: unsubscribe from notifications
operationId: DeleteIndividualSubcription
tags:
\- IndividualSubscription (Document)
parameters:
\- name: subscriptionId
in: path
description: Subscription ID
required: true
schema:
type: string
responses:
\'204\':
description: No Content. Resource was succesfully deleted
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes:
nnef-traffic-influence-data: Access to the Nnef_TrafficInfluenceData API
schemas:
TrafficInfluDataSub:
description: Represents an Individual traffic influence subscription data.
type: object
properties:
notifUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
notifCorrId:
type: string
description: Notification correlation identifier.
dnns:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
minItems: 1
description: Each element identifies a DNN.
snssais:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
minItems: 1
description: Each element identifies a slice.
internalGroupIds:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GroupId\'
minItems: 1
description: Each element identifies a group of users.
supis:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
minItems: 1
description: Each element identifies the user.
anyUe:
type: boolean
description: >
Identifies any UE when setting to \"true\". Default value is \"false\" if
omitted.
rptInfo:
\$ref:
\'TS29523_Npcf_EventExposure.yaml#/components/schemas/ReportingInformation\'
immReports:
type: array
items:
\$ref: \'TS29519_Application_Data.yaml#/components/schemas/TrafficInfluData\'
minItems: 1
description: Immediate report with Traffic Influence Data that match this
subscription.
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- notifUri
\- notifCorrId
anyOf:
\- required: [dnns]
\- required: [snssais]
\- required: [internalGroupIds]
\- required: [supis]
\- required: [anyUe]
TrafficInfluDataNotify:
description: Represents notifications for traffic influence data.
type: object
properties:
notifCorrId:
type: string
description: Notification correlation identifier.
eventNotifications:
type: array
items:
\$ref: \'TS29519_Application_Data.yaml#/components/schemas/TrafficInfluData\'
minItems: 1
description: Notifications about Individual Events.
required:
\- notifCorrId
\- eventNotifications
# A.5 Nnef_ECSAddress API
openapi: 3.0.0
info:
title: Nnef_ECSAddressConfigurationInformation
version: 1.0.0-alpha.2
description: \|
NEF ECS Address Service.
Â© 2023 , 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: >
3GPP TS 29.591 V18.3.0; 5G System; Network Exposure Function Southbound
Services; Stage 3.
url: https://www.3gpp.org/ftp/Specs/archive/29_series/29.591/
servers:
\- url: \'{apiRoot}/nnef-ecs-addr-cfg-info/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501
security:
\- {}
\- oAuth2ClientCredentials:
\- nnef-ecs-addr-cfg-info
paths:
/subscriptions:
post:
summary: subscribe to notifications
operationId: CreateIndividualSubcription
tags:
\- Subscriptions (Collection)
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/EcsAddrCfgInfoSub\'
responses:
\'201\':
description: Success
content:
application/json:
schema:
\$ref: \'#/components/schemas/EcsAddrCfgInfoSub\'
headers:
Location:
description: >
Contains the URI of the newly created resource, according to the structure
{apiRoot}/nnef-ecs-addr-cfg-info/\/subscriptions/{subscriptionId}
required: true
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
myNotification:
\'{\$request.body#/notifUri}\':
post:
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/EcsAddrCfgInfoNotification\'
responses:
\'204\':
description: No Content, Notification was succesfull
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/subscriptions/{subscriptionId}:
get:
summary: retrieve subscription
operationId: GetIndividualSubcription
tags:
\- IndividualSubscription (Document)
parameters:
\- name: subscriptionId
in: path
description: Subscription ID
required: true
schema:
type: string
responses:
\'200\':
description: OK. Resource representation is returned
content:
application/json:
schema:
\$ref: \'#/components/schemas/EcsAddrCfgInfoSub\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
put:
summary: update subscription
operationId: ReplaceIndividualSubcription
tags:
\- IndividualSubscription (Document)
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/EcsAddrCfgInfoSub\'
parameters:
\- name: subscriptionId
in: path
description: Subscription ID
required: true
schema:
type: string
responses:
\'200\':
description: OK. Resource was succesfully modified and representation is
returned
content:
application/json:
schema:
\$ref: \'#/components/schemas/EcsAddrCfgInfoSub\'
\'204\':
description: No Content. Resource was succesfully modified
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
delete:
summary: unsubscribe from notifications
operationId: DeleteIndividualSubcription
tags:
\- IndividualSubscription (Document)
parameters:
\- name: subscriptionId
in: path
description: Subscription ID
required: true
schema:
type: string
responses:
\'204\':
description: No Content. Resource was succesfully deleted
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes:
nnef-ecs-addr-cfg-info: Access to the Nnef_ECSAddress API
schemas:
EcsAddrCfgInfoSub:
description: Represents an Individual ECS Address Configuration Information
subscription data.
type: object
properties:
notifUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
notifCorrId:
type: string
description: Notification correlation identifier.
dnns:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
minItems: 1
description: Each element identifies a DNN.
snssais:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
minItems: 1
description: Each element identifies a slice.
internalGroupId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GroupId\'
immRepInd:
type: boolean
description: >
Indication of immediate reporting. If included, when it is set to true it
indicates
immediate reporting of the subscribed events, if available. Otherwise,
reporting will
occur when the event is met.
immReports:
type: array
items:
\$ref: \'#/components/schemas/EcsAddrCfgInfoNotification\'
minItems: 1
description: Immediate report with ECS Address Configuration Information that
match this subscription.
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- notifUri
\- notifCorrId
EcsAddrCfgInfoNotification:
description: Represents notifications for ECS Address Configuration
Information data.
type: object
properties:
notifCorrId:
type: string
description: Notification correlation identifier.
ecsAddrCfgInfo:
type: array
items:
type: string
minItems: 1
description: Contains the ECS Address Configuration Information.
required:
\- notifCorrId
\- ecsAddrCfgInfo
# A.6 Nnef_DNAIMapping API
openapi: 3.0.0
info:
title: Nnef_DNAIMapping
version: 1.0.0-alpha.1
description: \|
NEF DNAI Mapping Service.
Â© 2023 , 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: >
3GPP TS 29.591 V18.3.0; 5G System; Network Exposure Function Southbound
Services; Stage 3.
url: https://www.3gpp.org/ftp/Specs/archive/29_series/29.591/
servers:
\- url: \'{apiRoot}/nnef-dnai-mapping/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501
security:
\- {}
\- oAuth2ClientCredentials:
\- nnef-dnai-mapping
paths:
/subscriptions:
post:
summary: subscribe to notifications
operationId: CreateIndividualSubcription
tags:
\- Subscriptions (Collection)
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'TS29522_DNAIMapping.yaml#/components/schemas/DnaiMapSub\'
responses:
\'201\':
description: Success
content:
application/json:
schema:
\$ref: \'TS29522_DNAIMapping.yaml#/components/schemas/DnaiMapSub\'
headers:
Location:
description: >
Contains the URI of the newly created resource, according to the structure
{apiRoot}/nnef-dnai-mapping/\/subscriptions/{subscriptionId}
required: true
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
myNotification:
\'{\$request.body#/notifUri}\':
post:
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'TS29522_DNAIMapping.yaml#/components/schemas/DnaiMapUpdateNotif\'
responses:
\'204\':
description: No Content, Notification was succesfull
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/subscriptions/{subscriptionId}:
get:
summary: retrieve subscription
operationId: GetIndividualSubcription
tags:
\- IndividualSubscription (Document)
parameters:
\- name: subscriptionId
in: path
description: Subscription ID
required: true
schema:
type: string
responses:
\'200\':
description: OK. Resource representation is returned
content:
application/json:
schema:
\$ref: \'TS29522_DNAIMapping.yaml#/components/schemas/DnaiMapSub\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
delete:
summary: unsubscribe from notifications
operationId: DeleteIndividualSubcription
tags:
\- IndividualSubscription (Document)
parameters:
\- name: subscriptionId
in: path
description: Subscription ID
required: true
schema:
type: string
responses:
\'204\':
description: No Content. Resource was succesfully deleted
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes:
nnef-dnai-mapping: Access to the Nnef_DNAIMapping API
#