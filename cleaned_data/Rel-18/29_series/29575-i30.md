# Foreword
This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
In the present document, modal verbs have the following meanings:
**shall** indicates a mandatory requirement to do something
**shall not** indicates an interdiction (prohibition) to do something
The constructions \"shall\" and \"shall not\" are confined to the context of
normative provisions, and do not appear in Technical Reports.
The constructions \"must\" and \"must not\" are not used as substitutes for
\"shall\" and \"shall not\". Their use is avoided insofar as possible, and
they are not used in a normative context except in a direct citation from an
external, referenced, non-3GPP document, or so as to maintain continuity of
style when extending or modifying the provisions of such a referenced
document.
**should** indicates a recommendation to do something
**should not** indicates a recommendation not to do something
**may** indicates permission to do something
**need not** indicates permission not to do something
The construction \"may not\" is ambiguous and is not used in normative
elements. The unambiguous constructions \"might not\" or \"shall not\" are
used instead, depending upon the meaning intended.
**can** indicates that something is possible
**cannot** indicates that something is impossible
The constructions \"can\" and \"cannot\" are not substitutes for \"may\" and
\"need not\".
**will** indicates that something is certain or expected to happen as a result
of action taken by an agency the behaviour of which is outside the scope of
the present document
**will not** indicates that something is certain or expected not to happen as
a result of action taken by an agency the behaviour of which is outside the
scope of the present document
**might** indicates a likelihood that something will happen as a result of
action taken by some agency the behaviour of which is outside the scope of the
present document
**might not** indicates a likelihood that something will not happen as a
result of action taken by some agency the behaviour of which is outside the
scope of the present document
In addition:
**is** (or any other verb in the indicative mood) indicates a statement of
fact
**is not** (or any other negative verb in the indicative mood) indicates a
statement of fact
The constructions \"is\" and \"is not\" do not indicate requirements.
# Introduction
This clause is optional. If it exists, it is always the second unnumbered
clause.
# 1 Scope
The present document specifies the stage 3 protocol and data model for the
ADRF Service Based Interface. It provides stage 3 protocol definitions and
message flows, and specifies the API for each service offered by the ADRF.
The 5G System stage 2 architecture and procedures are specified in 3GPP TS
23.501 [2] and 3GPP TS 23.502 [3]. The stage 2 definition and procedures of
store and retrieve the collected data and analytics are contained in 3GPP TS
23.288 [14] and 3GPP TS 23.502 [3].
The Technical Realization of the Service Based Architecture and the Principles
and Guidelines for Services Definition are specified in 3GPP TS 29.500 [4] and
3GPP TS 29.501 [5].
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".
[3] 3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".
[4] 3GPP TS 29.500: \"5G System; Technical Realization of Service Based
Architecture; Stage 3\".
[5] 3GPP TS 29.501: \"5G System; Principles and Guidelines for Services
Definition; Stage 3\".
[6] OpenAPI: \"OpenAPI 3.0.0 Specification\", https://github.com/OAI/OpenAPI-
Specification/blob/master/versions/3.0.0.md.
[7] 3GPP TR 21.900: \"Technical Specification Group working methods\".
[8] 3GPP TS 33.501: \"Security architecture and procedures for 5G system\".
[9] IETF RFC 6749: \"The OAuth 2.0 Authorization Framework\".
[10] 3GPP TS 29.510: \"5G System; Network Function Repository Services; Stage
3\".
[11] IETF RFC 7540: \"Hypertext Transfer Protocol Version 2 (HTTP/2)\".
> [12] IETF RFC 8259: \"The JavaScript Object Notation (JSON) Data Interchange
> Format\".
[13] IETF RFC 7807: \"Problem Details for HTTP APIs\".
[14] 3GPP TS 23.288: \"Architecture enhancements for 5G System (5GS) to
support network data analytics services\".
[15] 3GPP TS 29.520: \"5G System; Network Data Analytics Services; Stage 3\".
[16] 3GPP TS 29.571: \"5G System; Common Data Types for Service Based
Interfaces; Stage 3\".
[17] 3GPP TS 29.508: \"5G System; Session Management Event Exposure Service;
Stage 3\".
[18] 3GPP TS 29.518: \"5G System; Access and Mobility Management Services;
Stage 3\".
[19] 3GPP TS 29.503: \"5G System; Unified Data Management Services; Stage 3\".
[20] 3GPP TS 29.517: \"5G System; Application Function Event Exposure
Services; Stage 3\".
[21] 3GPP TS 29.591: \"5G System; Network Exposure Function Southbound
Services; Stage 3\".
[22] 3GPP TS 29.122: \"T8 reference point for Northbound APIs\".
[23] 3GPP TS 29.574: \"5G System; Data Collection Coordination Services; Stage
3\".
[24] 3GPP TS 29.576: \"5G System; Messaging Framework Adaptor Services; Stage
3\".
> [25] 3GPP TS 29.536: \"5G System; Network Slice Admission Control Services;
> Stage 3\".
>
> [26] 3GPP TS 29.564: \"5G System; User Plane Function Services; Stage 3\".
>
> [27] 3GPP TS 29.515: \"5G System; Gateway Mobile Location Services; Stage
> 3\".
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
None.
## 3.2 Symbols
For the purposes of the present document, the following symbols apply:
None.
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
ADRF Analytics Data Repository Function
AF Application Function
AMF Access and Mobility Management Function
DCCF Data Collection Coordination Function
> GMLC Gateway Mobile Location Centre
MFAF Messaging Framework Adaptor Function
NEF Network Exposure Function
NF Network Function
NRF Network Repository Function
NWDAF Network Data Analytics Function
NSACF Network Slice Admission Control Function
SMF Session Management Function
> UDM Unified Data Management
>
> UPF User Plane Function
# 4 Services offered by the ADRF
## 4.1 Introduction
The Analytics Data Repository Service is used for the Analytics Data
Repository Function (ADRF) to storage and retrieval of data and ML model(s) by
e.g. Consumers NF(s) (e.g. NWDAF) which access the data or ML model(s) using
Nadrf service. The ADRF offers to other NFs the following services:
Table 4.1-1: Service provided by ADRF
+-------------+-------------+-------------+-------------+-------------+ | Service | Description | Service | Operation | Example | | Name | | Operations | | Consumer(s) | | | | | Semantics | | +=============+=============+=============+=============+=============+ | Nadrf_Dat | This | Sto | Request / | DCCF, | | aManagement | service | rageRequest | Response | NWDAF, MFAF | | | enables the | | | | | (NOTE 1) | NF service | | | | | | consumers | | | | | | to store, | | | | | | retrieve | | | | | | and remove | | | | | | the data or | | | | | | analytics | | | | | | in an ADRF. | | | | +-------------+-------------+-------------+-------------+-------------+ | | | Stor | Request / | DCCF, NWDAF | | | | ageSubscrip | Response | | | | | tionRequest | | | +-------------+-------------+-------------+-------------+-------------+ | | | Stor | Request / | DCCF, NWDAF | | | | ageSubscrip | Response | | | | | tionRemoval | | | +-------------+-------------+-------------+-------------+-------------+ | | | Retri | Request / | DCCF, NWDAF | | | | evalRequest | Response | | +-------------+-------------+-------------+-------------+-------------+ | | | Retriev | Subscribe / | DCCF, NWDAF | | | | alSubscribe | Notify | | +-------------+-------------+-------------+-------------+-------------+ | | | Retrieval | Subscribe / | DCCF, NWDAF | | | | Unsubscribe | Notify | | +-------------+-------------+-------------+-------------+-------------+ | | | Retr | Subscribe / | DCCF, NWDAF | | | | ievalNotify | Notify | | +-------------+-------------+-------------+-------------+-------------+ | | | Delete | Request / | DCCF, NWDAF | | | | | Response | | +-------------+-------------+-------------+-------------+-------------+ | Na | This | Sto | Request / | NWDAF | | drf_MLMode | service | rageRequest | Response | | | lManagement | enables the | | | | | | NF service | | | | | (NOTE 2) | consumers | | | | | | to store, | | | | | | retrieve | | | | | | and delete | | | | | | ML model(s) | | | | | | in an ADRF. | | | | +-------------+-------------+-------------+-------------+-------------+ | | | Retrieval | Request / | NWDAF | | | | | Response | | +-------------+-------------+-------------+-------------+-------------+ | | | Delete | Request / | NWDAF | | | | | Response | | +-------------+-------------+-------------+-------------+-------------+ | NOTE 1: The | | | | | | services | | | | | | correspond | | | | | | to the | | | | | | Nadrf_Dat | | | | | | aManagement | | | | | | service as | | | | | | defined in | | | | | | 3GPP TS 23. | | | | | | 288 [14]. | | | | | | | | | | | | NOTE 2: The | | | | | | services | | | | | | correspond | | | | | | to the | | | | | | Na | | | | | | drf_MLMode | | | | | | lManagement | | | | | | service as | | | | | | defined in | | | | | | 3GPP TS 23. | | | | | | 288 [14]. | | | | | +-------------+-------------+-------------+-------------+-------------+
Table 4.1-2 summarizes the corresponding APIs defined for this specification.
Table 4.1-2: API Descriptions
**Service Name** **Clause** **Description** **OpenAPI Specification File**
**apiName** **Annex**
* * *
Nadrf_DataManagement 4.2 API for Nadrf_DataManagement nadrf_datamanagement
Annex A.2 Nadrf_DataManagement API Nadrf_MLModelManagement 4.3 API for
Nadrf_MLModelManagement nadrf_mlmodelmanagement Annex A.3 Nadrf_
MLModelManagement API
## 4.2 Nadrf_DataManagement Service
### 4.2.1 Service Description
#### 4.2.1.1 Overview
The Nadrf_DataManagement service as defined in 3GPP TS 23.288 [14], is
provided by the Analytics Data Repository Function (ADRF).
This service:
> \- allows NF consumers to store data or analytics in the ADRF, and
> request/receive notifications about data or analytics that are about to be
> deleted;
\- allows NF consumers to retrieve data or analytics from an ADRF; and
\- allows NF consumers to delete data or analytics from an ADRF.
#### 4.2.1.2 Service Architecture
The 5G System Architecture is defined in 3GPP TS 23.501 [2]. The Network Data
Analytics Exposure architecture is defined in 3GPP TS 23.288 [14].
The Nadrf_DataManagement service is part of the Nadrf service-based interface
exhibited by the Analytics Data Repository Function (ADRF).
Known consumers of the Nadrf_DataManagement service are:
\- Data Collection Coordination Function (DCCF)
\- Network Data Analytics Function (NWDAF)
\- Messaging Framework Adaptor Function (MFAF)
The Nadrf_DataManagement service is provided by the ADRF and consumed by the
NF service consumers as shown in figure 4.2.1.2-1 for the SBI representation
model and in figure 4.2.1.2-2 for the reference point representation model.
Figure 4.2.1.2-1: Reference Architecture for the Nadrf_DataManagement Service;
SBI representation
Figure 4.2.1.2-2: Nadrf_DataManagement service architecture, reference point
representation
#### 4.2.1.3 Network Functions
##### 4.2.1.3.1 Analytics Data Repository Function (ADRF)
The Analytics Data Repository Function (ADRF) provides the functionality to
allow NF consumers to store, retrieve, and remove data or analytics from the
ADRF, and request/receive notifications about data or analytics that are about
to be deleted.
##### 4.2.1.3.2 NF Service Consumers
The NWDAF and DCCF:
> \- supports storing data or analytics in the ADRF, and requesting/receiving
> notifications about data or analytics that are about to be deleted;
\- supports retrieving data or analytics from an ADRF; and
\- supports deletion data or analytics from an ADRF.
The MFAF:
\- supports storing data or analytics in the ADRF.
### 4.2.2 Service Operations
#### 4.2.2.1 Introduction
Table 4.2.2.1-1: Operations of the Nadrf_DataManagement Service
Service operation name Description Initiated by
* * *
Nadrf_DataManagement_StorageRequest This service operation is used by an NF to
request the ADRF to store data or analytics. Data or analytics are provided to
the ADRF in the request message. NF service consumer (DCCF, NWDAF, MFAF)
Nadrf_DataManagement_StorageSubscriptionRequest This service operation is used
by an NF to request the ADRF to initiate a subscription for data or analytics.
Data or analytics provided in notifications as a result of the subsequent
subscription by the ADRF are stored in the ADRF. NF service consumer (DCCF,
NWDAF) Nadrf_DataManagement_StorageSubscriptionRemoval This service operation
is used by an NF to request that the ADRF no longer subscribes to data or
analytics it is collecting and storing. NF service consumer (DCCF, NWDAF)
Nadrf_DataManagement_RetrievalRequest This service operation is used by an NF
to retrieve stored data or analytics from the ADRF. NF service consumer (DCCF,
NWDAF) Nadrf_DataManagement_RetrievalSubscribe This service operation is used
by an NF to retrieve stored data or analytics from the ADRF and to receive
future notifications containing the corresponding data or analytics received
by ADRF. NF service consumer (DCCF, NWDAF)
Nadrf_DataManagement_RetrievalUnsubscribe This service operation is used by an
NF to request that the ADRF no longer sends data or analytics to a
notification endpoint. NF service consumer (DCCF, NWDAF)
Nadrf_DataManagement_RetrievalNotify This service operation is used by the
ADRF to notify an NF with either data or analytics, or instructions to fetch
the data or analytics from the ADRF. It is also used by the ADRF to notify NF
service consumers about data or analytics that are about to be deleted. ADRF
Nadrf_DataManagement_Delete This service operation is used by an NF to delete
stored data in ADRF. NF service consumer (DCCF, NWDAF)
#### 4.2.2.2 Nadrf_DataManagement_StorageRequest service operation
##### 4.2.2.2.1 General
The Nadrf_DataManagement_StorageRequest service operation is used by an NF
service consumer to store data or analytics.
##### 4.2.2.2.2 Request Storage of data or analytics
Figure 4.2.2.2.2-1 shows a scenario where the NF service consumer sends a
request to the ADRF to store data or analytics.
Figure 4.2.2.2.2-1: NF service consumer requesting to store data or analytics
The NF service consumer shall invoke the Nadrf_DataManagement_StorageRequest
service operation to store data or analytics. The NF service consumer shall
send an HTTP POST request with \"{apiRoot}/nadrf-
datamanagement/\/data-store-records\" as Resource URI representing
the \"ADRF Data Store Records\" resource, as shown in figure 4.2.2.2.2-1, step
1, to create an \"Individual ADRF Data Store Record\" according to the
information in the message body. The NadrfDataStoreRecord data structure
provided in the request body shall include:
\- one of the following:
\- analytics subscription notification(s) within the \"anaNotifications\"
attribute together with the corresponding subscription information within the
\"anaSub\" attribute;
\- data subscription notification within the \"dataNotif\" attribute together
with the corresponding subscription information within the \" dataSub\"
attribute.
and may include:
\- storage handling information within the \"storeHandl\" attribute, if the
\"EnhDataMgmt\" feature is supported.
\- a data set tag within the \"dataSetTag\" attribute, if the \"EnhDataMgmt\"
feature is supported;
> \- data synthesis and compression information within the \"dsc\" attribute,
> if the \"EnhDataMgmt\" feature is supported.
NOTE: The data synthesis and compression information can include an indication
that the data have been generated using a data synthesis tool, an indication
that the data have been generated using a data compression tool, and
information about the data synthesis and/or compression technique.
Upon the reception of an HTTP POST request with \"{apiRoot}/nadrf-
datamanagement/\/data-store-records\" as Resource URI and
NadrfDataStoreRecord data structure as request body, the ADRF shall:
\- create a new data store record;
\- assign a storeTransId;
\- store the data or analytics.
> NOTE 1: If the data and/or analytics is already stored or being stored in
> the ADRF, the ADRF will still create a new \"Individual ADRF Data Store
> Record\" resource and assign a new storeTransId if the ADRF intends to not
> really store the data again in the memory again based on the implementation.
If the ADRF created an \"Individual ADRF Data Store Record\" resource, the
ADRF shall respond with \"201 Created\" with the message body containing a
representation of the created record, as shown in figure 4.2.2.2.2-1, step 2.
The ADRF shall include a Location HTTP header field. The Location header field
shall contain the URI of the created record i.e. \"{apiRoot}/nadrf-
datamanagement/\/data-store-records/{storeTransId}\".
If the ADRF receives storage handling information in the request but
determines (e.g. based on local policy) that a different storage approach
shall be followed, it indicates the determined storage approach to the
consumer by setting accordingly the \"storeHandl\" attribute (e.g. providing a
different lifetime, or omitting the deletion notification URI to indicate that
no deletion alerts will be sent) in the message body of the response. When
more than one consumer has requested storage lifetime for the same data or
analytics, the storage approach should be based on the longest requested
storage lifetime.
NOTE 2: The default operator policy for how long data or analytics are to be
stored can be longer or shorter than the lifetime requested by the consumer. A
default operator policy can for example accept only consumer requested
lifetimes that are shorter or longer than the default policy.
If an error occurs when processing the HTTP POST request, the ADRF shall send
an HTTP error response as specified in clause 5.1.7.
#### 4.2.2.3 Nadrf_DataManagement_StorageSubscriptionRequest service operation
##### 4.2.2.3.1 General
The Nadrf_DataManagement_StorageSubscriptionRequest service operation is used
by an NF service consumer to request that the ADRF creates a subscription to
data or analytics and subsequently stores notified data or analytics in the
ADRF.
##### 4.2.2.3.2 Requesting subscription and storage of data or analytics
Figure 4.2.2.3.2-1 shows a scenario where the NF service consumer sends a
request to the ADRF to subscribe for data or analytics to be stored in the
ADRF.
Figure 4.2.2.3.2-1: NF service consumer requesting that the ADRF subscribes to
and subsequently stores data or analytics
The NF service consumer shall invoke the
Nadrf_DataManagement_StorageSubscriptionRequest service operation to request
the ADRF to subscribe to data or analytics. The NF service consumer shall send
an HTTP POST request with \"{apiRoot}/nadrf-
datamanagement/\/request-storage-sub\" as URI, as shown in figure
4.2.2.3.2-1, step 1. The NadrfDataStoreSubscription data structure provided in
the request body shall include:
\- one of the following subscription attributes:
\- analytics subscription information within the \"anaSub\" attribute;
\- data subscription information within the \"dataSub\" attribute;
\- one of the following target identifiers:
\- DCCF or NWDAF instance identifier within the \"targetNfId\" attribute;
\- DCCF or NWDAF NF set identifier within the \"targetNfSetId\" attribute;
and may include:
\- formatting instructions within the \"formatInstruct\" attribute;
\- processing instructions within the \"procInstruct\" attribute or the
\"multiProcInstructs\" attribute if the \"MultiProcessingInstruction\" feature
is supported.
> NOTE 1: The parameters provided by the NF service consumer, including
> Formatting and Processing Instructions (if provided) are used by the ADRF
> when subscribing to a DCCF or NWDAF for Data or Analytics to be stored.
\- storage handling information within the \"storeHandl\" attribute, if the
\"EnhDataMgmt\" feature is supported.
> \- a data set tag to be associated with this subscription and with the data
> or analytics collected based on this subscription within the \"dataSetTag\"
> attribute, if the \"EnhDataMgmt\" feature is supported.
Upon the reception of an HTTP POST request with \"{apiRoot}/nadrf-
datamanagement/\/request-storage-sub\" as URI and
NadrfDataStoreSubscription data structure as request body, the ADRF shall
assign a transaction reference identifier to this request and, if the request
is successfully processed and accepted, the ADRF shall respond with \"200 OK\"
as shown in figure 4.2.2.3.2-1 step 2, with the message body containing an
NadrfDataStoreSubscriptionRef data structure, which shall include the assigned
transaction reference identifier as \"transRefId\" attribute.
> NOTE 2: If the data and/or analytics is already stored or being stored in
> the ADRF, the ADRF will still assign a new transaction reference identifier
> if the ADRF intends to not really store the data again in the memory again
> based on the implementation.
If an error occurs when processing the HTTP POST request, the ADRF shall send
an HTTP error response as specified in clause 5.1.7.
If the ADRF receives storage handling information in the request but
determines (e.g. based on local policy) that a different storage approach
shall be followed, it indicates the determined storage approach to the
consumer by setting accordingly the \"storeHandl\" attribute (e.g. providing a
different lifetime, or omitting the deletion notification URI to indicate that
no deletion alerts will be sent) in the message body of the response. When
more than one consumer has requested storage lifetime for the same data or
analytics, the storage approach should be based on the longest requested
storage lifetime.
NOTE 3: The default operator policy for how long data or analytics are to be
stored can be longer or shorter than the lifetime requested by the consumer. A
default operator policy can for example accept only consumer requested
lifetimes that are shorter or longer than the default policy.
In the case of a successful response, the ADRF may subsequently create a data
or analytics subscription (according to inputs that had been received in the
NadrfDataStoreSubscription data structure; this is not performed if the ADRF
determines that the data is already being stored based on an existing
subscription) with a DCCF as described in 3GPP TS 29.574 [23] or with an NWDAF
as described in 3GPP TS 29.520 [15], and create a mapping between the
previously assigned and returned transaction reference identifier and the
subscription that is used to serve the transaction.
#### 4.2.2.4 Nadrf_DataManagement_StorageSubscriptionRemoval service operation
##### 4.2.2.4.1 General
The Nadrf_DataManagement_StorageSubscriptionRemoval service operation is used
by an NF service consumer to request the ADRF to remove a subscription for
data or analytics.
##### 4.2.2.4.2 Requesting removal of subscription of data or analytics
Figure 4.2.2.4.2-1 shows a scenario where the NF service consumer sends a
request to the ADRF to unsubscribe for storage of data or analytics.
**Figure 4.2.2.4.2-1: NF service consumer requesting the removal of
subscription(s) to storage of data or analytics**
The NF service consumer shall invoke the
Nadrf_DataManagement_StorageSubscriptionRemoval service operation to request
the ADRF to remove subscription(s) to data or analytics that are stored in the
ADRF. The NF service consumer shall send an HTTP POST request with
\"{apiRoot}/nadrf-datamanagement/\/request-storage-sub-removal\"
as URI, as shown in figure 4.2.2.4.2-1, step 1. The POST request body shall
contain an NadrfDataStoreSubscriptionRef data structure, which shall include a
transaction reference identifier as \"transRefId\" attribute or, if the
\"EnhDataMgmt\" feature is supported, a data set identifier as \"dataSetId\"
attribute.
Upon the reception of an HTTP POST request with \"{apiRoot}/nadrf-
datamanagement/\/request-storage-sub-removal\" as URI, if the ADRF
successfully processed and accepted the received HTTP POST request, the ADRF
shall respond with HTTP \"204 No Content\" status. Subsequently, the ADRF
shall remove the (DCCF or NWDAF) subscription that had been created and mapped
to the received transaction reference identifier or the (DCCF or NWDAF)
subscription(s) associated to the received data set identifier as described in
clause 4.2.2.3, unless this subscription is mapped to further transaction
reference identifier(s) (of transactions that are still active) or associated
with further data set identifier(s).
If errors occur when processing the HTTP POST request, the ADRF shall send an
HTTP error response as specified in clause 5.1.7.
#### 4.2.2.5 Nadrf_DataManagement_RetrievalRequest service operation
##### 4.2.2.5.1 General
The Nadrf_DataManagement_RetrievalRequest service operation is used by an NF
service consumer to retrieve stored data or analytics.
##### 4.2.2.5.2 Request and get stored data or analytics from ADRF Data Store
Figure 4.2.2.5.2-1 shows a scenario where the NF service consumer sends a
request to the ADRF to retrieve stored data or analytics.
Figure 4.2.2.5.2-1: NF service consumer requesting to retrieve stored data or
analytics
The NF service consumer shall invoke the Nadrf_DataManagement_RetrievalRequest
service operation to retrieve stored data or analytics. The NF service
consumer shall send an HTTP GET request with \"{apiRoot}/nadrf-
datamanagement/\/data-store-records\" as Resource URI representing
the \"ADRF Data Store Records\" resource, as shown in figure 4.2.2.5.2-1, step
1, to request ADRF data store records according to the query parameter value
of the store transaction identifier within the \"store-trans-id\" attribute,
the query parameter value of the fetch correlation identifier(s) within the
\"fetch-correlation-ids\" attribute, or, if the \"EnhDataMgmt\" feature is
supported, the query parameter value of the data set identifier within the
\"data-set-id\" attribute.
Upon the reception of the HTTP GET request, the ADRF shall:
\- find the data or analytics according to the requested parameters.
If the requested data or analytics is found, the ADRF shall respond with \"200
OK\" status code with the message body containing the NadrfDataStoreRecord
data structure. The NadrfDataStoreRecord data structure in the response body
shall include:
\- one of the following:
\- information about network analytics function events that occurred in the
\"anaNotifications\" attribute together with the corresponding subscription
information within the \"anaSub\" attribute;
\- information about data event within the \"dataNotif\" attribute together
with the corresponding subscription information within the \"dataSub\"
attribute.
and may include:
\- a data set tag within the \"dataSetTag\" attribute, if the \"EnhDataMgmt\"
feature is supported.
> \- data synthesis and compression information within the \"dsc\" attribute,
> if the \"EnhDataMgmt\" feature is supported.
NOTE: The data synthesis and compression information can include an indication
that the data have been generated using a data synthesis tool, an indication
that the data have been generated using a data compression tool, and
information about the data synthesis and/or compression technique.
If the requested analytics or data does not exist, the ADRF shall respond with
\"204 No Content\". If an error occurs when processing the HTTP GET request,
the ADRF shall send an HTTP error response as specified in clause 5.1.7.
#### 4.2.2.6 Nadrf_DataManagement_RetrievalSubscribe service operation
##### 4.2.2.6.1 General
The Nadrf_DataManagement_RetrievalSubscribe service operation is used by an NF
service consumer to subscribe to the ADRF to retrieve via notifications data
or analytics that is stored in the ADRF and to receive future notifications
with data or analytics when they are received by the ADRF.
##### 4.2.2.6.2 Requesting retrieval and subscription of data or analytics
Figure 4.2.2.6.2-1 shows a scenario where the NF service consumer sends a
request to the ADRF to retrieve and subscribe to data or analytics.
Figure 4.2.2.6.2-1: NF service consumer requesting to retrieve and subscribe
to data or analytics
The NF service consumer shall invoke the
Nadrf_DataManagement_RetrievalSubscribe service operation to retrieve and
subscribe to data or analytics. The NF service consumer shall send an HTTP
POST request with \"{apiRoot}/nadrf-datamanagement/\/data-
retrieval-subscriptions\" as Resource URI representing the \"ADRF Data
Retrieval Subscriptions\" resource, as shown in figure 4.2.2.6.2-1, step 1, to
create an \"Individual ADRF Data Retrieval Subscription\" according to the
information in the message body. The NadrfDataRetrievalSubscription data
structure provided in the request body shall include:
\- notification correlation identfier within the \"notifCorrId\" attribute;
\- one of the following:
> \- analytics subscription information within the \"anaSub\" attribute;
>
> \- data subscription information within the \"dataSub\" attribute;
>
> \- data set identifier within the \"dataSetId\" attribute, if the
> \"EnhDataMgmt\" feature is supported;
\- a notification target address within the \"notificationURI\" attribute;
\- a time window for the data retrieval and subscription within the
\"timePeriod\" attribute;
and may include:
\- a Consumer triggered Notification indication within the \"consTrigNotif\"
attribute.
Upon the reception of an HTTP POST request with \"{apiRoot}/nadrf-
datamanagement/**\ /data-retrieval-subscriptions\" as Resource
URI and NadrfDataRetrievalSubscription data structure as request body, the
ADRF shall:
\- create a new subscription;
\- assign a subscriptionId;
\- store the subscription.
If the ADRF created an \"Individual ADRF Data Retrieval Subscription\"
resource, the ADRF shall respond with \"201 Created\" with the message body
containing a representation of the created subscription, as shown in figure
4.2.2.6.2-1, step 2. The ADRF shall include a Location HTTP header field. The
Location header field shall contain the URI of the created record i.e.
\"{apiRoot}/nadrf-datamanagement/\/data-retrieval-
subscriptions/{subscriptionId}\".
If an error occurs when processing the HTTP POST request, the ADRF shall send
an HTTP error response as specified in clause 5.1.7.
#### 4.2.2.7 Nadrf_DataManagement_RetrievalUnsubscribe service operation
##### 4.2.2.7.1 General
The Nadrf_DataManagement_RetrievalUnsubscribe service operation is used by an
NF service consumer to remove a retrieval subscription to data or analytics.
##### 4.2.2.7.2 Requesting removal of retrieval subscription for data or
analytics
Figure 4.2.2.7.2-1 shows a scenario where the NF service consumer sends a
request to the ADRF to remove a retrieval subscription for data or analytics.
Figure 4.2.2.7.2-1: NF service consumer requesting to remove retrieval
subscription for data or analytics
The NF service consumer shall invoke the
Nadrf_DataManagement_RetrievalUnsubscribe service operation to remove a
retrieval subscription for data or analytics. The NF service consumer shall
send an HTTP DELETE request with \"{apiRoot}/nadrf-
datamanagement/\/data-retrieval-subscriptions/{subscriptionId}\"
as Resource URI representing an \"Individual ADRF Data Retrieval
Subscription\" resource, as shown in figure 4.2.2.7.2-1, step 1, where
\"{subscriptionId}\" is the identifier of the existing data retrieval
subscription that is to be deleted.
Upon the reception of an HTTP DELETE request with \"{apiRoot}/nadrf-
datamanagement/\/data-retrieval-subscriptions/{subscriptionId}\"
as Resource URI, if the ADRF successfully processed and accepted the received
HTTP DELETE request, the ADRF shall:
\- remove the corresponding subscription;
\- respond with HTTP \"204 No Content\" status.
If errors occur when processing the HTTP DELETE request, the ADRF shall send
an HTTP error response as specified in clause 5.1.7.
If the ADRF determines the received HTTP DELETE request needs to be
redirected, the ADRF shall send an HTTP redirect response as specified in
clause 6.10.9 of 3GPP TS 29.500 [4].
#### 4.2.2.8 Nadrf_DataManagement_RetrievalNotify service operation
##### 4.2.2.8.1 General
The Nadrf_DataManagement_RetrievalNotify service operation is used by ADRF to
notify NF service consumers about subscribed events related to data or
analytics and about data or analytics that are about to be deleted.
##### 4.2.2.8.2 Notification about subscribed data or analytics
Figure 4.2.2.8.2-1 shows a scenario where the ADRF sends a request to the NF
service consumer to notify it about data or analytics events.
Figure 4.2.2.8.2-1: ADRF notifies the NF service consumer about subscribed
data or analytics
The ADRF shall invoke the Nadrf_DataManagement_RetrievalNotify service
operation to notify about subscribed data or analytics events. The ADRF shall
send an HTTP POST request to the \"{notificationURI}\" received in the
subscription (see clause 5.1.5 for the definition of this notificationURI), as
shown in figure 4.2.2.8.2-1, step 1. The NadrfDataRetrievalNotification data
structure provided in the request body shall include:
\- notification correlation Id within the \"notifCorrId\" attribute;
\- the time stamp which represents the time when ADRF completes preparation of
the requested data or analytics within the \"timeStamp\" attribute;
\- one of the following:
\- information about network data analytics function events that occurred in
the \"anaNotifications\" attribute;
> \- data collected from data sources (e.g. SMF, NEF) in the \"dataNotif\"
> attribute;
\- information for fetching the data or analytics in the \"fetchInstruct\"
attribute.
NOTE: The fetch correlation identifiers included in the fetch instructions of
the \"fetchInstruct\" attribute can be used to fetch data or analytics using
the Nadrf_DataManagement_RetrievalRequest service operation as described in
clause 4.2.2.5.2. The (mandatory) fetch URI included in the fetch instructions
of the \"fetchInstruct\" attribute is expected to be in line with the standard
resource URI defined for the Nadrf_DataManagement_RetrievalRequest service
operation, i.e. {apiRoot}/nadrf-datamanagement/\/data-store-
records, but it can be anything because it is actually not needed by the NF
service consumer in this case.
The NadrfDataRetrievalNotification data structure provided in the request body
may include:
\- a termination request provided by the ADRF within the \"terminationReq\"
attribute.
> \- data synthesis and compression information within the \"dsc\" attribute,
> if the \"EnhDataMgmt\" feature is supported.
NOTE: The data synthesis and compression information can include an indication
that the data have been generated using a data synthesis tool, an indication
that the data have been generated using a data compression tool, and
information about the data synthesis and/or compression technique.
Upon the reception of an HTTP POST request with \"{notificationURI}\" as
Resource URI and NadrfDataRetrievalNotification data structure as request
body, if the NF service consumer successfully processed and accepted the
received HTTP POST request, the NF Service Consumer shall:
\- store the notification;
\- respond with HTTP \"204 No Content\" status code.
If errors occur when processing the HTTP POST request, the NF service consumer
shall send an HTTP error response as specified in clause 5.1.7.
If the NF service consumer determines the received HTTP POST request needs to
be redirected, the NF service consumer shall send an HTTP redirect response as
specified in clause 6.10.9 of 3GPP TS 29.500 [4].
After the successful processing of the HTTP POST request, if the ADRF requests
the NF service consumer to retrieve the data or analytics with the
\"fetchInstruct\" attribute, the NF service consumer may invoke the
Nadrf_DataManagement_RetrievalRequest service operation to retrieve the
notified data or analytics as defined in clause 4.2.2.5.
4.2.2.8.3 Notification about data or analytics that are about to be deleted
Figure 4.2.2.8.3-1 shows a scenario where the ADRF sends a request to the NF
service consumer to notify it about data or analytics that are about to be
deleted.
**Figure 4.2.2.8.3-1: ADRF notifies the NF service consumer about data or
analytics that are about to be deleted.**
In order to notify about data or analytics that are about to be deleted, the
ADRF shall invoke the Nadrf_DataManagement_RetrievalNotify service operation.
The ADRF shall send an HTTP POST request to the \"{delNotificationURI}\"
received as \"delNotifUri\" attribute in a storage request as defined in
clause 4.2.2.2.2 or in a storage subscription request as defined in clause
4.2.2.3.2, as shown in figure 4.2.2.8.3-1, step 1. The NadrfAlertNotification
data structure provided in the request body shall include:
> \- a notification correlation identifier within the \"delNotifCorrId\"
> attribute;
>
> \- a storage transaction identifier, which may be used by the NF service
> consumer to retrieve the data, within the \"alertStorTransId\" attribute;
NOTE: The \"alertStorTransId\" attribute, which is used for retrieving data
prior to deletion, does not have to be the same with or related to the
\"storeTransId\" attribute that is assigned and returned during the storage of
the data.
Upon the reception of an HTTP POST request with \"{delNotificationURI}\" as
Resource URI and NadrfAlertNotification data structure as request body, if the
NF service consumer successfully processed and accepted the received HTTP POST
request, the NF Service Consumer shall either respond with HTTP \"204 No
Content\" status code or with HTTP \"200 OK\" status code and the
NadrfAlertNotificationResponse data structure in the message body.
If errors occur when processing the HTTP POST request, the NF service consumer
shall send an HTTP error response as specified in clause 5.1.7.
If the NF service consumer determines the received HTTP POST request needs to
be redirected, the NF service consumer shall send an HTTP redirect response as
specified in clause 6.10.9 of 3GPP TS 29.500 [4].
After the successful processing of the HTTP POST request, the NF service
consumer may invoke the Nadrf_DataManagement_RetrievalRequest service
operation as defined in clause 4.2.2.5, using the storage transaction
identifier received within the \"alertStorTransId\" attribute of the
NadrfAlertNotification, in order to retrieve the data or analytics that are
about to be deleted.
#### 4.2.2.9 Nadrf_DataManagement_Delete service operation
##### 4.2.2.9.1 General
The Nadrf_DataManagement_Delete service operation is used by an NF service
consumer to delete stored data or analytics.
##### 4.2.2.9.2 Requesting removal of stored data or analytics
Figure 4.2.2.9.2-1 shows a scenario where the NF service consumer sends a
request to the ADRF to delete stored data or analytics.
Figure 4.2.2.9.2-1: NF service consumer requesting to remove stored data or
analytics
The NF service consumer shall invoke the Nadrf_DataManagement_Delete service
operation to remove stored data or analytics. The NF service consumer shall
send an HTTP DELETE request with \"{apiRoot}/nadrf-
datamanagement/\/data-store-records/{storeTransId}\" as Resource
URI representing an \"Individual ADRF Data Store Record\" resource, as shown
in figure 4.2.2.9.2-1, step 1, where \"{storeTransId}\" is the transaction
identifier of the stored record that is to be deleted.
Upon the reception of an HTTP DELETE request with \"{apiRoot}/nadrf-
datamanagement/\/data-store-records/{storeTransId}\" as Resource
URI, if the ADRF successfully processed and accepted the received HTTP DELETE
request, the ADRF shall:
\- remove the corresponding stored record;
\- respond with HTTP \"204 No Content\" status code.
If errors occur when processing the HTTP DELETE request, the ADRF shall send
an HTTP error response as specified in clause 5.1.7.
If the ADRF determines the received HTTP DELETE request needs to be
redirected, the ADRF shall send an HTTP redirect response as specified in
clause 6.10.9 of 3GPP TS 29.500 [4].
##### 4.2.2.9.3 Requesting removal of stored data or analytics using data or
analytics specification
Figure 4.2.2.9.3-1 shows a scenario where the NF service consumer sends a
request to the ADRF to delete stored data or analytics based on a data or
analytics specification.
Figure 4.2.2.9.3-1: NF service consumer requesting to remove stored data or
analytics
The NF service consumer shall invoke the Nadrf_DataManagement_Delete service
operation to remove stored data or analytics based on a data or analytics
specification. The NF service consumer shall send an HTTP POST request with
\"{apiRoot}/nadrf-datamanagement/\/remove-stored-data-analytics\"
as URI, as shown in figure 4.2.2.9.3-1, step 1. The POST request body shall
contain an NadrfStoredDataSpec data structure. The NadrfStoredDataSpec data
structure provided in the request body shall include:
\- a time window in which the data to be deleted was collected in the
\"timePeriod\" attribute; and
\- one of the following:
\- a data specification in the \"dataSpec\" attribute;
> \- an analytics specification in the \"anaSpec\" attribute;
\- a data set identifier within the \"dataSetId\" attribute, if the
\"EnhDataMgmt\" feature is supported.
Upon the reception of an HTTP POST request with \"{apiRoot}/nadrf-
datamanagement/\/remove-stored-data-analytics\" as URI, if the
ADRF successfully processed and accepted the received HTTP POST request, the
ADRF shall respond with HTTP \"204 No Content\" status. The ADRF shall remove
any stored analytics or data that match the analytics specification, the data
specification, or the data set identifier received in the request.
If errors occur when processing the HTTP POST request, the ADRF shall send an
HTTP error response as specified in clause 5.1.7.
## 4.3 Nadrf_ MLModelManagement Service
### 4.3.1 Service Description
#### 4.3.1.1 Overview
The Nadrf_ MLModelManagement service as defined in 3GPP TS 23.288 [14], is
provided by the Analytics Data Repository Function (ADRF).
This service:
> \- allows NF consumers to store ML model(s) in the ADRF;
\- allows NF consumers to retrieve ML model(s) from an ADRF; and
\- allows NF consumers to delete ML model(s) from an ADRF.
#### 4.3.1.2 Service Architecture
The 5G System Architecture is defined in 3GPP TS 23.501 [2]. The Network Data
Analytics Exposure architecture is defined in 3GPP TS 23.288 [14].
The Nadrf_MLModelManagement service is part of the Nadrf service-based
interface exhibited by the Analytics Data Repository Function (ADRF).
Known consumers of the Nadrf_MLModelManagement service are:
\- Network Data Analytics Function (NWDAF).
The Nadrf_MLModelManagement service is provided by the ADRF and consumed by
the NF service consumers as shown in figure 4.3.1.2-1 for the SBI
representation model and in figure 4.3.1.2-2 for the reference point
representation model.
Figure 4.3.1.2-1: Reference Architecture for the Nadrf_MLModelManagement
Service; SBI representation
Figure 4.3.1.2-2: Nadrf_MLModelManagement service architecture, reference
point representation
#### 4.3.1.3 Network Functions
##### 4.3.1.3.1 Analytics Data Repository Function (ADRF)
The Analytics Data Repository Function (ADRF) provides the functionality to
allow NF consumers to store, retrieve, and remove ML model(s) or ML model
address(es) from the ADRF.
##### 4.3.1.3.2 NF Service Consumers
The NWDAF:
> \- supports storing of ML model(s) in the ADRF;
\- supports retrieving of ML model(s) from an ADRF; and
\- supports deletion of ML model(s) from an ADRF.
### 4.3.2 Service Operations
#### 4.3.2.1 Introduction
Table 4.3.2.1-1: Operations of the Nadrf_MLModelManagement Service
Service operation name Description Initiated by
* * *
Nadrf_MLModelManagement_StorageRequest This service operation is used by an NF
to request the ADRF to store or update ML model(s). ML model(s) or ML model
address(es) are provided to the ADRF in the request message. NF service
consumer (NWDAF) Nadrf_MLModelManagement_Retrieval This service operation is
used by an NF to retrieve stored ML model(s) from the ADRF. NF service
consumer (NWDAF) Nadrf_MLModelManagement_Delete This service operation is used
by an NF to delete stored ML model(s) or ML model address(es) in the ADRF. NF
service consumer (NWDAF)
#### 4.3.2.2 Nadrf_MLModelManagement_StorageRequest service operation
##### 4.3.2.2.1 General
The Nadrf_MLModelManagement_StorageRequest service operation is used by an NF
service consumer to store ML model(s) or ML model address(es).
##### 4.3.2.2.2 Request Storage of ML model(s)
Figure 4.3.2.2.2-1 shows a scenario where the NF service consumer sends a
request to the ADRF to store ML model(s).
Figure 4.3.2.2.2-1: NF service consumer requesting to store ML model(s)
The NF service consumer shall invoke the
Nadrf_MLModelManagement_StorageRequest service operation to store ML model(s).
The NF service consumer shall send an HTTP POST request with
\"{apiRoot}/nadrf-mlmodelmanagement/\/mlmodel-store-records\" as
Resource URI representing the \"ADRF ML Model Store Records\" resource, as
shown in figure 4.3.2.2.2-1, step 1, to create an \"Individual ADRF ML Model
Store Record\" according to the information in the message body. The
NadrfMLModelStoreRecord data structure provided in the request body shall
include the MLModelInfo data structure in the \"mlModelInfo\" attribute. The
MLModelInfo data structure shall include the unique ML model identifier within
the \"modelUniqueId\" attribute, the address of the ML model within the
\"mlFileAddr\" attribute, and the storage size required for each of the ML
model(s) in the \"mlStorageSize\" attribute.
Upon the reception of an HTTP POST request with \"{apiRoot}/nadrf-
mlmodelmanagement /\/mlmodel-store-records\" as Resource URI and
NadrfMLModelStoreRecord data structure as request body, the ADRF shall:
\- create a new ML model store record;
\- assign a storeTransId;
\- download and store the ML model(s).
> NOTE 1: If the ML model(s) are already stored or being stored in the ADRF,
> the ADRF will still create a new \"Individual ADRF ML Model Store Record\"
> resource and assign a new storeTransId if the ADRF intends to not really
> store the ML model(s) in the memory again based on the implementation.
If the ADRF created an \"Individual ADRF ML Model Store Record\" resource, the
ADRF shall respond with \"201 Created\" with the message body containing a
representation of the created ML model record, as shown in figure 4.3.2.2.2-1,
step 2. The ADRF shall include the MLModelInfo data structure in the
\"mlModelInfo\" attribute with the unique ML model identifier in the
\"modelUniqueId\" attribute and the ML model address in \"mlFileAddr\"
attribute within the HTTP POST response. The ADRF may include a Location HTTP
header field. The Location header field shall contain the URI of the created
record i.e. \"{apiRoot}/nadrf- mlmodelmanagement/\/mlmodel-store-
records/{storeTransId}\".
If an error occurs when processing the HTTP POST request, the ADRF shall send
an HTTP error response as specified in clause 5.2.6.
#### 4.3.2.3 Nadrf_MLModelManagement_Retrieval service operation
##### 4.3.2.3.1 General
The Nadrf_MLModelManagement_Retrieval service operation is used by an NF
service consumer to retrieve stored ML model(s).
##### 4.3.2.3.2 Request and get stored ML model(s) from ADRF ML Model Store
Figure 4.3.2.3.2-1 shows a scenario where the NF service consumer sends a
request to the ADRF to retrieve stored ML model(s).
Figure 4.3.2.3.2-1: NF service consumer requesting to retrieve stored ML
model(s)
The NF service consumer shall invoke the Nadrf_MLModelManagement_Retrieval
service operation to retrieve stored ML model(s). The NF service consumer
shall send an HTTP GET request with \"{apiRoot}/nadrf-
mlmodelmanagement/\/mlmodel-store-records\" as Resource URI
representing the \"ADRF ML Model Store Records\" resource, as shown in figure
4.3.2.3.2-1, step 1, to request ADRF ML model store records according to the
storage transaction identifier within the \"store-trans-id\" attribute or the
unique ML model identifier within the \"modelUniqueId\" attribute.
Upon the reception of the HTTP GET request, the ADRF shall:
\- find the ML model(s) according to the requested parameters.
If one ore more of the requested ML model(s) are found, the ADRF shall respond
with \"200 OK\" status code with the message body containing the
NadrfMLModelStoreRecord data structure. The NadrfMLModelStoreRecord data
structure in the response body shall include the MLModelInfo data structure in
the \"mlModelInfo\" attribute with the unique ML model identifier in the
\"modelUniqueId\" attribute and the address of the ML model file stored in the
ADRF in the \"mlFileAddr\" attribute.
If non of the requested ML model(s) exist, the ADRF shall respond with \"204
No Content\". If an error occurs when processing the HTTP GET request, the
ADRF shall send an HTTP error response as specified in clause 5.2.7.
#### 4.3.2.4 Nadrf_MLModelManagement_Delete service operation
##### 4.3.2.4.1 General
The Nadrf_MLModelManagement_Delete service operation is used by an NF service
consumer to delete stored ML model(s) or ML model address(es).
##### 4.3.2.4.2 Requesting removal of stored ML model(s)
Figure 4.3.2.4.2-1 shows a scenario where the NF service consumer sends a
request to the ADRF to delete stored ML model(s).
Figure 4.3.2.4.2-1: NF service consumer requesting to remove stored ML
model(s)
The NF service consumer shall invoke the Nadrf_MLModelManagement_Delete
service operation to remove the ML model(s) that are stored in the
corresponding storage transaction. The NF service consumer shall send an HTTP
DELETE request with \"{apiRoot}/nadrf-mlmodelmanagement/\/mlmodel-
store-records/{storeTransId}\" as Resource URI representing an \"Individual
ADRF ML Model Store Record\" resource, as shown in figure 4.3.2.4.2-1, step 1,
where \"{storeTransId}\" is the transaction identifier of the stored record
that is to be deleted.
Upon the reception of an HTTP DELETE request with \"{apiRoot}/nadrf-
mlmodelmanagement/\/mlmodel-store-records/{storeTransId}\" as
Resource URI, if the ADRF successfully processed and accepted the received
HTTP DELETE request, the ADRF shall:
\- remove the storage transaction corresponding stored ML model record;
\- respond with HTTP \"204 No Content\" status code.
If errors occur when processing the HTTP DELETE request, the ADRF shall send
an HTTP error response as specified in clause 5.2.7.
If the ADRF determines the received HTTP DELETE request needs to be
redirected, the ADRF shall send an HTTP redirect response as specified in
clause 6.10.9 of 3GPP TS 29.500 [4].
##### 4.3.2.4.3 Requesting removal of stored ML model(s) using unique ML model
identifier
Figure 4.3.2.4.3-1 shows a scenario where the NF service consumer sends a
request to the ADRF to delete stored ML model(s) based on the unique ML model
identifier.
Figure 4.3.2.4.3-1: NF service consumer requesting to remove stored ML
model(s)
The NF service consumer shall invoke the Nadrf_MLModelManagement_Delete
service operation to remove stored ML model(s) based on the unique ML model
identifier. The NF service consumer shall send an HTTP POST request with
\"{apiRoot}/nadrf-mlmodelmanagement/\/remove-stored-mlmodel\" as
URI, as shown in figure 4.3.2.4.3-1, step 1. The POST request body shall
contain a NadrfMLModelStoreRecord data structure. The NadrfMLModelStoreRecord
data structure provided in the request body shall include unique ML model
identifier in the \"modelUniqueId\" attribute.
Upon the reception of an HTTP POST request with \"{apiRoot}/nadrf-
mlmodelmanagement/\/remove-stored-mlmodel\" as URI, if the ADRF
successfully processed and accepted the received HTTP POST request, the ADRF
shall respond with HTTP \"204 No Content\" status. The ADRF shall remove any
stored ML model(s) that match the unique ML model identifier received in the
request.
If errors occur when processing the HTTP POST request, the ADRF shall send an
HTTP error response as specified in clause 5.2.7.
# 5 API Definitions
## 5.1 Nadrf_DataManagement Service API
### 5.1.1 Introduction
The Nadrf_DataManagement service shall use the Nadrf_DataManagement API.
The API URI of the Nadrf_DataManagement API shall be:
**{apiRoot}/\ /\**
The request URIs used in HTTP requests from the NF service consumer towards
the NF service producer shall have the Resource URI structure defined in
clause 4.4.1 of 3GPP TS 29.501 [5], i.e.:
**{apiRoot}/\ /\/\**
with the following components:
\- The {apiRoot} shall be set as described in 3GPP TS 29.501 [5].
\- The \ shall be \"**nadrf-datamanagement** \".
\- The \ shall be \"v1\".
\- The \ shall be set as described in clause
5.1.3.
### 5.1.2 Usage of HTTP
#### 5.1.2.1 General
HTTP/2, IETF RFC 7540 [11], shall be used as specified in clause 5 of 3GPP TS
29.500 [4].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].
The OpenAPI [6] specification of HTTP messages and content bodies for the
Nadrf_DataManagement API is contained in Annex A.
#### 5.1.2.2 HTTP standard headers
##### 5.1.2.2.1 General
See clause 5.2.2 of 3GPP TS 29.500 [4] for the usage of HTTP standard headers.
##### 5.1.2.2.2 Content type
JSON, IETF RFC 8259 [12], shall be used as content type of the HTTP bodies
specified in the present specification as specified in clause 5.4 of 3GPP TS
29.500 [4]. The use of the JSON format shall be signalled by the content type
\"application/json\".
\"Problem Details\" JSON object shall be used to indicate additional details
of the error in a HTTP response body and shall be signalled by the content
type \"application/problem+json\", as defined in IETF RFC 7807 [13].
#### 5.1.2.3 HTTP custom headers
The mandatory HTTP custom header fields specified in clause 5.2.3.2 of 3GPP TS
29.500 [4] shall be applicable.
### 5.1.3 Resources
#### 5.1.3.1 Overview
This clause describes the structure for the Resource URIs, the resources and
methods used for the service.
Figure 5.1.3.1-1 depicts the resource URIs structure for the
Nadrf_DataManagement API.
Figure 5.1.3.1-1: Resource URI structure of the Nadrf_DataManagement API
Table 5.1.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 5.1.3.1-1: Resources and methods overview
Resource name Resource URI HTTP method or custom operation Description
* * *
ADRF Data Store Records /data-store-records GET Retrieve the stored data or
analytics POST Create a new Individual Data Store resource. Individual ADRF
Data Store Record /data-store-records/{storeTransId} DELETE Delete an
individual ADRF Data Store Record identified by {storeTransId}. ADRF Data
Retrieval Subscriptions /data-retrieval-subscriptions POST Create a new
Individual ADRF Data Retrieval Subscription resource. Individual ADRF Data
Retrieval Subscription /data-retrieval-subscriptions/{subscriptionId} DELETE
Delete an individual ADRF Data Retrieval Subscription identified by
{subscriptionId}.
#### 5.1.3.2 Resource: ADRF Data Store Records
##### 5.1.3.2.1 Description
The ADRF Data Store Records resource represents all data storage records to
the Nadrf_DataManagement Service at a given ADRF. The resource allows an NF
service consumer to create a new Individual ADRF Data Store Record resource
and to retrieve Individual ADRF Data Store Record resources that fulfil
certain criteria.
##### 5.1.3.2.2 Resource Definition
Resource URI: **{apiRoot}/nadrf-datamanagement/\ /data-store-
records**
The \ shall be set as described in clause 5.1.1.
This resource shall support the resource URI variables defined in table
5.1.3.2.2-1.
Table 5.1.3.2.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 5.1.1
##### 5.1.3.2.3 Resource Standard Methods
###### 5.1.3.2.3.1 POST
This method shall support the URI query parameters specified in table
5.1.3.2.3.1-1.
Table 5.1.3.2.3.1-1: URI query parameters supported by the POST method on this
resource
Name Data type P Cardinality Description Applicability
* * *
n/a
This method shall support the request data structures specified in table
5.1.3.2.3.1-2 and the response data structures and response codes specified in
table 5.1.3.2.3.1-3.
Table 5.1.3.2.3.1-2: Data structures supported by the POST Request Body on
this resource
Data type P Cardinality Description
* * *
NadrfDataStoreRecord M 1 New individual Data Store Record to be created
Table 5.1.3.2.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+=============+===============+ | NadrfDa | M | 1 | 201 Created | The creation | | taStoreRecord | | | | of an | | | | | | Individual | | | | | | Data Store | | | | | | Record | | | | | | resource is | | | | | | confirmed, | | | | | | and a | | | | | | r | | | | | | epresentation | | | | | | of that | | | | | | resource is | | | | | | returned. | +---------------+---+-------------+-------------+---------------+ | NOTE: The | | | | | | manadatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | Ta | | | | | | ble 5.1.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+-------------+---------------+
Table 5.1.3.2.3.1-4: Headers supported by the 201 response code on this
resource
Name Data type P Cardinality Description
* * *
Location string M 1 Contains the URI of the newly created resource, according
to the structure: {apiRoot}/nadrf-datamanagement/\/data-store-
records/{storeTransId}
###### 5.1.3.2.3.2 GET
This method shall support the URI query parameters specified in table
5.1.3.2.3.2-1.
Table 5.1.3.2.3.2-1: URI query parameters supported by the GET method on this
resource
Name Data type P Cardinality Description
* * *
store-trans-id string O 0..1 Identifies the \"Storage Transaction Identifier\"
of data store record in ADRF. (NOTE) fetch-correlation-ids array(string) O
1..N Identifies fetch correlation identifiers received as part of fetch
instruction. (NOTE) data-set-id string O 0..1 Identifies a data set, i.e. the
data or analytics records that contain the same value in the data set
identifier of their data set tag. It may only be provided if the
\"EnhDataMgmt\" feature is supported. NOTE: Exactly one of \"store-trans-id\",
\"fetch-correlation-ids\", and \"data-set-id\" shall be provided.
This method shall support the request data structures specified in table
5.1.3.2.3.1-2 and the response data structures and response codes specified in
table 5.1.3.2.3.1-3.
Table 5.1.3.2.3.1-2: Data structures supported by the GET Request Body on this
resource
Data type P Cardinality Description
* * *
n/a
Table 5.1.3.2.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | NadrfDa | M | 1 | 200 OK | Data Store | | taStoreRecord | | | | record. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | If the | | | | | Content | request ADRF | | | | | | Data Store | | | | | | Record does | | | | | | not exist, | | | | | | the ADRF | | | | | | shall respond | | | | | | with \"204 No | | | | | | Content \". | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
##### 5.1.3.2.4 Resource Custom Operations
None.
#### 5.1.3.3 Resource: Individual ADRF Data Store Record
##### 5.1.3.3.1 Description
The Individual ADRF Data Store Record resource represents data or analytics
stored via the Nadrf_DataManagement_StorageRequest in ADRF.
##### 5.1.3.3.2 Resource Definition
Resource URI: **{apiRoot}/nadrf-datamanagement/\ /data-store-
records/{storeTransId}**
The \ shall be set as described in clause 5.1.1.
This resource shall support the resource URI variables defined in table
5.1.3.3.2-1.
Table 5.1.3.3.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 5.1.1. storeTransId string Identifies an individual
data store record.
##### 5.1.3.3.3 Resource Standard Methods
###### 5.1.3.3.3.1 DELETE
This method shall support the URI query parameters specified in table
5.1.3.3.3.1-1.
Table 5.1.3.3.3.1-1: URI query parameters supported by the DELETE method on
this resource
Name Data type P Cardinality Description Applicability
* * *
n/a
This method shall support the request data structures specified in table
5.1.3.3.3.1-2 and the response data structures and response codes specified in
table 5.1.3.3.3.1-3.
Table 5.1.3.3.3.1-2: Data structures supported by the DELETE Request Body on
this resource
Data type P Cardinality Description
* * *
n/a
Table 5.1.3.3.3.1-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | The | | | | | Content | Individual | | | | | | ADRF Data | | | | | | Store Record | | | | | | resource was | | | | | | deleted | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | ADRF Data | | | | | | Store Record | | | | | | deletion. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | ADRF Data | | | | | | Store Record | | | | | | deletion. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | manadatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | Ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | Red | | | | | | irectResponse | | | | | | data | | | | | | structure may | | | | | | be provided | | | | | | by an SCP | | | | | | (cf. | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.1.3.3.3.1-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +=================+===========+===+=============+=================+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative | | | | | | ADRF (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target ADRF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
Table 5.1.3.3.3.1-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +=================+===========+===+=============+=================+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative | | | | | | ADRF (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target ADRF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
##### 5.1.3.3.4 Resource Custom Operations
None in this release of the specification.
#### 5.1.3.4 Resource: ADRF Data Retrieval Subscriptions
##### 5.1.3.4.1 Description
The ADRF Data Retrieval Subscriptions resource represents all data retrieval
subscriptions to the Nadrf_DataManagement Service at a given ADRF. The
resource allows an NF service consumer to create a new Individual ADRF Data
Retrieval Subscription resource.
##### 5.1.3.4.2 Resource Definition
Resource URI: **{apiRoot}/nadrf-datamanagement/\ /data-retrieval-
subscriptions**
The \ shall be set as described in clause 5.1.1.
This resource shall support the resource URI variables defined in table
5.1.3.4.2-1.
Table 5.1.3.4.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 5.1.1
##### 5.1.3.4.3 Resource Standard Methods
###### 5.1.3.4.3.1 POST
This method shall support the URI query parameters specified in table
5.1.3.4.3.1-1.
Table 5.1.3.4.3.1-1: URI query parameters supported by the POST method on this
resource
Name Data type P Cardinality Description Applicability
* * *
n/a
This method shall support the request data structures specified in table
5.1.3.4.3.1-2 and the response data structures and response codes specified in
table 5.1.3.4.3.1-3.
Table 5.1.3.4.3.1-2: Data structures supported by the POST Request Body on
this resource
Data type P Cardinality Description
* * *
NadrfDataRetrievalSubscription M 1 Individual ADRF Data Retrieval Subscription
resource to be created.
Table 5.1.3.4.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+=============+===============+ | Nadr | M | 1 | 201 Created | The creation | | fDataRetrieva | | | | of an | | lSubscription | | | | Individual | | | | | | ADRF Data | | | | | | Retrieval | | | | | | Subscription | | | | | | resource is | | | | | | confirmed and | | | | | | a | | | | | | r | | | | | | epresentation | | | | | | of that | | | | | | resource is | | | | | | returned. | +---------------+---+-------------+-------------+---------------+ | NOTE: The | | | | | | manadatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+-------------+---------------+
Table 5.1.3.4.3.1-4: Headers supported by the 201 response code on this
resource
Name Data type P Cardinality Description
* * *
Location string M 1 Contains the URI of the newly created resource, according
to the structure: {apiRoot}/nadrf-datamanagement/\/data-retrieval-
subscriptions/{subscriptionId}
##### 5.1.3.4.4 Resource Custom Operations
None in this release of the specification.
#### 5.1.3.5 Resource: Individual ADRF Data Retrieval Subscription
##### 5.1.3.5.1 Description
The Individual ADRF Data Retrieval Subscription resource represents single
ADRF data retrieval subscription to the Nadrf_DataManagement Service at a
given ADRF. The resource allows an NF service consumer to delete Individual
ADRF Data Retrieval Subscription resource.
##### 5.1.3.5.2 Resource Definition
Resource URI: **{apiRoot}/nadrf-datamanagement/\ /data-retrieval-
subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.1.3.5.2-1.
Table 5.1.3.5.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 5.1.1 subscriptionId string Identifies a
subscription to the Nadrf_DataManagement service.
##### 5.1.3.5.3 Resource Standard Methods
###### 5.1.3.5.3.1 DELETE
This method shall support the URI query parameters specified in table
5.1.3.5.3.1-1.
Table 5.1.3.5.3.1-1: URI query parameters supported by the DELETE method on
this resource
Name Data type P Cardinality Description Applicability
* * *
n/a
This method shall support the request data structures specified in table
5.1.3.5.3.1-2 and the response data structures and response codes specified in
table 5.1.3.5.3.1-3.
Table 5.1.3.5.3.1-2: Data structures supported by the DELETE Request Body on
this resource
Data type P Cardinality Description
* * *
n/a
Table 5.1.3.5.3.1-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | The | | | | | Content | Individual | | | | | | ADRF Data | | | | | | Retrieval | | | | | | Subscription | | | | | | resource was | | | | | | deleted | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | ADRF Data | | | | | | Store Record | | | | | | deletion. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | ADRF Data | | | | | | Store Record | | | | | | deletion. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | manadatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | Ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | Red | | | | | | irectResponse | | | | | | data | | | | | | structure may | | | | | | be provided | | | | | | by an SCP | | | | | | (cf. | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.1.3.5.3.1-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +=================+===========+===+=============+=================+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative | | | | | | ADRF (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target ADRF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
Table 5.1.3.5.3.1-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +=================+===========+===+=============+=================+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative | | | | | | ADRF (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target ADRF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
##### 5.1.3.5.4 Resource Custom Operations
None in this release of the specification.
### 5.1.4 Custom Operations without associated resources
#### 5.1.4.1 Overview
The structure of the custom operation URIs of the Nadrf_DataManagement service
is shown in Figure 5.1.4.1-1.
Figure 5.1.4.1-1: Custom operation URI structure of the Nadrf_DataManagement
API
Table 5.1.4.1-1 provides an overview of the custom operations and applicable
HTTP methods.
Table 5.1.4.1-1: Custom operations without associated resources
Custom operation URI Mapped HTTP method Description
* * *
{apiRoot}/nadrf-datamanagement/\/request-storage-sub POST Request
the ADRF to create a subscription for data or analytics and then store the
received data or analytics in the ADRF. {apiRoot}/nadrf-
datamanagement/\/request-storage-sub-removal POST Request the ADRF
to remove a subscription for data or analytics. {apiRoot}/nadrf-
datamanagement/\/remove-stored-data-analytics POST Request the
ADRF to remove already stored data or analytics.
#### 5.1.4.2 Operation: request-storage-sub
##### 5.1.4.2.1 Description
The operation is used by the NF service consumer to request the ADRF to create
a subscription for data or analytics and then store the received data or
analytics in the ADRF.
##### 5.1.4.2.2 Operation Definition
This operation shall support the request data structures shown in Table
5.1.4.2.2-1 and the response data structures and error codes specified in
Tables 5.1.4.2.2-2.
Table 5.1.4.2.2-1: Data structures supported by the POST Request Body on this
resource
Data type P Cardinality Description
* * *
NadrfDataStoreSubscription M 1 Information about the storage subscription that
the ADRF shall create.
Table 5.1.4.2.2-2: Data structures supported by the POST Response Body on this
resource
+-----------------+---+-------------+----------+-----------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +=================+===+=============+==========+=================+ | NadrfDataStore | M | 1 | 200 OK | Successful | | SubscriptionRef | | | | request to | | | | | | trigger the | | | | | | creation of a | | | | | | subscription | | | | | | for data or | | | | | | analytics at | | | | | | the ADRF. A | | | | | | reference is | | | | | | provided. | +-----------------+---+-------------+----------+-----------------+ | NOTE: The | | | | | | manadatory HTTP | | | | | | error status | | | | | | code for the | | | | | | POST method | | | | | | listed in | | | | | | Table 5.1.7.1-1 | | | | | | of | | | | | | 3GPP | | | | | | TS 29.500 [4] | | | | | | also apply. | | | | | +-----------------+---+-------------+----------+-----------------+
#### 5.1.4.3 Operation: request-storage-sub-removal
##### 5.1.4.3.1 Description
The operation is used by the NF service consumer to request the ADRF to remove
a subscription for data or analytics which was used to store the received data
or analytics in the ADRF.
##### 5.1.4.3.2 Operation Definition
This operation shall support the request data structures shown in Table
5.1.4.3.2-1 and the response data structures and error codes specified in
Tables 5.1.4.3.2-2.
Table 5.1.4.3.2-1: Data structures supported by the POST Request Body on this
resource
Data type P Cardinality Description
* * *
NadrfDataStoreSubscriptionRef M 1 Reference used to identify the subscription
that the ADRF shall remove.
Table 5.1.4.3.2-2: Data structures supported by the POST Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | Successful | | | | | Content | request to | | | | | | trigger the | | | | | | removal of a | | | | | | subscription | | | | | | for data or | | | | | | analytics at | | | | | | the ADRF. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | manadatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | Ta | | | | | | ble 5.1.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
#### 5.1.4.4 Operation: remove-stored-data-analytics
##### 5.1.4.4.1 Description
The operation is used by the NF service consumer to request the ADRF to remove
stored data or analytics based on a data or analytics specification.
##### 5.1.4.4.2 Operation Definition
This operation shall support the request data structures shown in Table
5.1.4.4.2-1 and the response data structures and error codes specified in
Tables 5.1.4.4.2-2.
Table 5.1.4.4.2-1: Data structures supported by the POST Request Body on this
resource
Data type P Cardinality Description
* * *
NadrfStoredDataSpec M 1 Information about the specification of data or
analytics stored in ADRF.
Table 5.1.4.4.2-2: Data structures supported by the POST Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | Successful | | | | | Content | request to | | | | | | remove data | | | | | | or analytics | | | | | | at the ADRF | | | | | | based on a | | | | | | data or | | | | | | analytics | | | | | | s | | | | | | pecification. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | Ta | | | | | | ble 5.1.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
### 5.1.5 Notifications
#### 5.1.5.1 General
Notifications shall comply to clause 6.2 of 3GPP TS 29.500 [4] and clause
4.6.2.3 of 3GPP TS 29.501 [5].
Table 5.1.5.1-1: Notifications overview
+----------------+----------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +================+================+================+================+ | Retrieval | {no | POST | Report data or | | Notification | tificationURI} | | analytics from | | | | | ADRF. | +----------------+----------------+----------------+----------------+ | ADRF Alert | {delNo | POST | Notify about | | Notification | tificationURI} | | data or | | | | | analytics that | | | | | are about to | | | | | be deleted. | +----------------+----------------+----------------+----------------+
#### 5.1.5.2 Retrieval Notification
##### 5.1.5.2.1 Description
The Retrieval Notification is used by the NF service producer to report one or
several data retrieval events to an NF service consumer that has subscribed to
such notifications.
##### 5.1.5.2.2 Target URI
The Callback URI **\"{notificationURI}\"** shall be used with the callback URI
variables defined in table 5.1.5.2.2-1.
Table 5.1.5.2.2-1: Callback URI variables
Name Definition
* * *
notificationURI String formatted as URI with the Callback Uri
##### 5.1.5.2.3 Standard Methods
###### 5.1.5.2.3.1 POST
This method shall support the request data structures specified in table
5.1.5.2.3.1-1 and the response data structures and response codes specified in
table 5.1.5.2.3.1-2.
Table 5.1.5.2.3.1-1: Data structures supported by the POST Request Body
Data type P Cardinality Description
* * *
NadrfDataRetrievalNotification M 1 Provides information about observed data or
analytics.
Table 5.1.5.2.3.1-2: Data structures supported by the POST Response Body
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | The receipt | | | | | Content | of the | | | | | | Notification | | | | | | is | | | | | | acknowledged. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during the | | | | | | retrieval | | | | | | notification. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during the | | | | | | retrieval | | | | | | notification. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | Ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | Red | | | | | | irectResponse | | | | | | data | | | | | | structure may | | | | | | be provided | | | | | | by an SCP | | | | | | (cf. | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.1.5.2.3.1-3: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +=================+===========+===+=============+=================+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative NF | | | | | | consumer | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the | | | | | | notification | | | | | | should be | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | service | | | | | | consumer | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the | | | | | | notification | | | | | | request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
Table 5.1.5.2.3.1-4: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +=================+===========+===+=============+=================+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative NF | | | | | | consumer | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the | | | | | | notification | | | | | | should be | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | service | | | | | | consumer | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the | | | | | | notification | | | | | | request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
5.1.5.3 ADRF Alert Notification
5.1.5.3.1 Description
The ADRF Alert Notification is used by the NF service producer to notify an NF
service consumer about data or analytics that are about to be deleted.
5.1.5.3.2 Target URI
The Callback URI **\"{delNotificationURI}\"** shall be used with the callback
URI variables defined in table 5.1.5.3.2-1.
**Table 5.1.5.3.2-1: Callback URI variables**
**Name** **Definition**
* * *
delNotificationURI String formatted as URI with the Callback Uri
5.1.5.3.3 Standard Methods
5.1.5.3.3.1 POST
This method shall support the request data structures specified in table
5.1.5.3.3.1-1 and the response data structures and response codes specified in
table 5.1.5.3.3.1-2.
**Table 5.1.5.3.3.1-1: Data structures supported by the POST Request Body**
**Data type** **P** **Cardinality** **Description**
* * *
NadrfAlertNotification M 1 Contains information about data or analytics that
are about to be deleted.
**Table 5.1.5.3.3.1-2: Data structures supported by the POST Response Body**
+--------------+-------+--------------+--------------+--------------+ | **Data |** P**|** C | **Response |** D | | type**| | ardinality** | codes**| escription** | +==============+=======+==============+==============+==============+ | NadrfA | M | 1 | 200 OK | The receipt | | lertNotifica | | | | of the | | tionResponse | | | | Notification | | | | | | is | | | | | | acknowledged | | | | | | and a | | | | | | response | | | | | | with | | | | | | information | | | | | | about the | | | | | | planned | | | | | | action is | | | | | | provided. | +--------------+-------+--------------+--------------+--------------+ | n/a | | | 204 No | The receipt | | | | | Content | of the | | | | | | Notification | | | | | | is | | | | | | a | | | | | | cknowledged. | +--------------+-------+--------------+--------------+--------------+ | Redi | O | 0..1 | 307 | Temporary | | rectResponse | | | Temporary | redirection. | | | | | Redirect | (NOTE 2) | +--------------+-------+--------------+--------------+--------------+ | Redi | O | 0..1 | 308 | Permanent | | rectResponse | | | Permanent | redirection. | | | | | Redirect | (NOTE 2) | +--------------+-------+--------------+--------------+--------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method | | | | | | listed in | | | | | | Tab | | | | | | le 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | Redi | | | | | | rectResponse | | | | | | data | | | | | | structure | | | | | | may be | | | | | | provided by | | | | | | an SCP (cf. | | | | | | cla | | | | | | use 6.10.9.1 | | | | | | of | | | | | | 3GPP TS 29 | | | | | | .500 [4]). | | | | | +--------------+-------+--------------+--------------+--------------+
**Table 5.1.5.3.3.1-3: Headers supported by the 307 Response Code on this
resource**
+--------------+--------------+-------+--------------+--------------+ | **Name** | **Data |** P**|** C | **D | | | type** | | ardinality**| escription** | +==============+==============+=======+==============+==============+ | Location | string | M | 1 | Contains an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in | | | | | | an | | | | | | alternative | | | | | | NF (service) | | | | | | instance | | | | | | towards | | | | | | which the | | | | | | request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected | | | | | | to the same | | | | | | target via a | | | | | | different | | | | | | SCP, refer | | | | | | to | | | | | | cla | | | | | | use 6.10.9.1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]. | +--------------+--------------+-------+--------------+--------------+ | 3gpp-Sbi- | string | O | 0..1 | Identifier | | Target-Nf-Id | | | | of the | | | | | | target NF | | | | | | (service) | | | | | | instance | | | | | | towards | | | | | | which the | | | | | | notification | | | | | | request is | | | | | | redirected. | +--------------+--------------+-------+--------------+--------------+
**Table 5.1.5.3.3.1-4: Headers supported by the 308 Response Code on this
resource**
+--------------+--------------+-------+--------------+--------------+ | **Name** | **Data |** P**|** C | **D | | | type** | | ardinality**| escription** | +==============+==============+=======+==============+==============+ | Location | string | M | 1 | Contains an | | | | | | alternative | | | | | | URI of the | | | | | | resource | | | | | | located in | | | | | | an | | | | | | alternative | | | | | | NF (service) | | | | | | instance | | | | | | towards | | | | | | which the | | | | | | request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected | | | | | | to the same | | | | | | target via a | | | | | | different | | | | | | SCP, refer | | | | | | to | | | | | | cla | | | | | | use 6.10.9.1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]. | +--------------+--------------+-------+--------------+--------------+ | 3gpp-Sbi- | string | O | 0..1 | Identifier | | Target-Nf-Id | | | | of the | | | | | | target NF | | | | | | (service) | | | | | | instance | | | | | | towards | | | | | | which the | | | | | | notification | | | | | | request is | | | | | | redirected. | +--------------+--------------+-------+--------------+--------------+
### 5.1.6 Data Model
#### 5.1.6.1 General
This clause specifies the application data model supported by the
Nadrf_DataManagement API.
Table 5.1.6.1-1 specifies the data types defined for the Nadrf_DataManagement
service based interface protocol.
Table 5.1.6.1-1: Nadrf_DataManagement specific Data Types
Data type Clause defined Description Applicability
* * *
DataNotification 5.1.6.2.9 Represents a data subscription notification of one
of various possible data sources.  
DataSetTag 5.1.6.2.13 Contains an identifier and a description of associated
data or analytics records. EnhDataMgmt DataSubscription 5.1.6.2.8 Contains
information about Data specification.  
NadrfAlertNotification 5.1.6.2.11 Contains information about data or analytics
that are about to be deleted. EnhDataMgmt NadrfAlertNotificationResponse
5.1.6.2.12 Contains information about the planned action upon receiving an
alert. EnhDataMgmt NadrfDataRetrievalNotification 5.1.6.2.5 Represents a
notification that corresponds with an Individual ADRF Data Retrieval
Subscription resource.  
NadrfDataRetrievalSubscription 5.1.6.2.4 Represents an Individual ADRF Data
Retrieval Subscription resource.  
NadrfDataStoreRecord 5.1.6.2.2 Represents an Individual ADRF Data Store Record
resource.  
NadrfDataStoreSubscription 5.1.6.2.3 Contains information to be used by the
ADRF to create a Data or Analytics subscription.  
NadrfDataStoreSubscriptionRef 5.1.6.2.6 Contains a reference to a request for
a Data or Analytics subscription.  
NadrfStoredDataSpec 5.1.6.2.7 Contains information about Data or Analytics
specification.  
StorageHandlingInfo 5.1.6.2.10 Contains storage handling information for data
or analytics. EnhDataMgmt
Table 5.1.6.1-2 specifies data types re-used by the Nadrf_DataManagement
service based interface protocol from other specifications, including a
reference to their respective specifications and when needed, a short
description of their use within the Nadrf_DataManagement service based
interface.
Table 5.1.6.1-2: Nadrf_DataManagement re-used Data Types
Data type Reference Comments Applicability
* * *
AfEventExposureNotif 3GPP TS 29.517 [20] Represents notifications on AF
event(s) that occurred for an Individual AF Event Subscription resource.  
AfEventExposureSubsc 3GPP TS 29.517 [20] Represents AF event subscription.  
AmfEventNotification 3GPP TS 29.518 [18] Represents notifications on AMF
event(s) that occurred for an Individual AMF Event Subscription resource.  
AmfEventSubscription 3GPP TS 29.518 [18] Represents AMF event subscription.  
DurationSec 3GPP TS 29.571 [16] Unsigned integer identifying a period of time
in units of seconds. EnhDataMgmt DateTime 3GPP TS 29.571 [16] Identifies the
time.  
EeSubscription 3GPP TS 29.503 [19] Represents UDM event subscription.  
EventNotifyData 3GPP TS 29.515 [27] Represents GMLC event notification.
LocEvents FetchInstruction 3GPP TS 29.576 [24] The fetch instruction indicates
that the data or analytics can be fetched by the consumer.  
FormattingInstruction 3GPP TS 29.574 [23] DCCF formatting Instructions.  
InputData 3GPP TS 29.515 [27] Represents GMLC event subscription. LocEvents
MonitoringReport 3GPP TS 29.503 [19] UDM Monitoring Report.  
NefEventExposureNotif 3GPP TS 29.591 [21] Represents notifications on network
exposure event(s) that occurred for an Individual Network Exposure Event
Subscription resource.  
NefEventExposureSubsc 3GPP TS 29.591 [21] Represents NEF event subscription.  
NfInstanceId 3GPP TS 29.571 [16] NF instance identifier.  
NfSetId 3GPP TS 29.571 [16] NF set identifier.  
NnwdafEventsSubscription 3GPP TS 29.520 [15] Represents an NWDAF analytics
subscription.  
NnwdafEventsSubscriptionNotification 3GPP TS 29.520 [15] Represents an NWDAF
analytics subscription notification.  
NotificationData 3GPP TS 29.510 [10] Represents an NRF event notification.  
NotificationData 3GPP TS 29.564 [26] Represents a UPF event notification.
UpEvents NsmfEventExposure 3GPP TS 29.508 [17] Represents SMF event
subscription.  
NsmfEventExposureNotification 3GPP TS 29.508 [17] Represents SMF event
notification.  
ProcessingInstruction 3GPP TS 29.574 [23] DCCF processing Instructions.  
SACEventReport 3GPP TS 29.536 [25] Represents an NSACF event notification.  
SACEventSubscription 3GPP TS 29.536 [25] Represents and NSACF event
subscription.  
SubscriptionData 3GPP TS 29.510 [10] Represents an NRF event subscription.  
SupportedFeatures 3GPP TS 29.571 [6] Used to negotiate the applicability of
the optional features defined in table 5.1.8-1.  
TimeWindow 3GPP TS 29.122 [22] Represents a time window.  
UpfEventSubscription 3GPP TS 29.564 [26] Represents a UPF event subscription.
UpEvents Uri 3GPP TS 29.571 [16] URI.
#### 5.1.6.2 Structured data types
##### 5.1.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 5.1.6.2.2 Type: NadrfDataStoreRecord
**Table 5.1.6.2.2-1: Definition of type NadrfDataStoreRecord**
+----------+----------+-------+----------+----------+----------+ | **A |** Data | **P** | **Cardi |** Descr | * | | ttribute | type**| | nality** | iption**| *Applica | | name** | | | | | bility** | +==========+==========+=======+==========+==========+==========+ | d | DataNoti | C | 0..1 | Data | | | ataNotif | fication | | | subs | | | | | | | cription | | | | | | | notif | | | | | | | ication. | | | | | | | (NOTE 1) | | +----------+----------+-------+----------+----------+----------+ | anaNotif | arr | C | 1..N | List of | | | ications | ay(Nnwda | | | a | | | | fEventsS | | | nalytics | | | | ubscript | | | subs | | | | ionNotif | | | cription | | | | ication) | | | notifi | | | | | | | cations. | | | | | | | (NOTE 1) | | +----------+----------+-------+----------+----------+----------+ | anaSub | NnwdafEv | C | 0..1 | Re | | | | entsSubs | | | presents | | | | cription | | | the | | | | | | | subs | | | | | | | cription | | | | | | | inf | | | | | | | ormation | | | | | | | of the | | | | | | | corre | | | | | | | sponding | | | | | | | a | | | | | | | nalytics | | | | | | | notif | | | | | | | ication. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"an | | | | | | | aNotific | | | | | | | ations\" | | | | | | | a | | | | | | | ttribute | | | | | | | is | | | | | | | p | | | | | | | rovided. | | | | | | | | | | | | | | (NOTE 2) | | +----------+----------+-------+----------+----------+----------+ | da | Da | O | 0..1 | Data set | Enh | | taSetTag | taSetTag | | | tag of | DataMgmt | | | | | | the | | | | | | | stored | | | | | | | data or | | | | | | | an | | | | | | | alytics. | | +----------+----------+-------+----------+----------+----------+ | dsc | string | O | 0..1 | Data | Enh | | | | | | s | DataMgmt | | | | | | ynthesis | | | | | | | and | | | | | | | com | | | | | | | pression | | | | | | | info | | | | | | | rmation. | | | | | | | (NOTE 3) | | +----------+----------+-------+----------+----------+----------+ | dataSub | DataSubs | C | 0..1 | Re | | | | cription | | | presents | | | | | | | the | | | | | | | subs | | | | | | | cription | | | | | | | inf | | | | | | | ormation | | | | | | | of the | | | | | | | corre | | | | | | | sponding | | | | | | | data | | | | | | | notif | | | | | | | ication. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | \"dat | | | | | | | aNotif\" | | | | | | | a | | | | | | | ttribute | | | | | | | is | | | | | | | p | | | | | | | rovided. | | | | | | | | | | | | | | (NOTE 2) | | +----------+----------+-------+----------+----------+----------+ | st | Sto | O | 0..1 | Contains | Enh | | oreHandl | rageHand | | | storage | DataMgmt | | | lingInfo | | | handling | | | | | | | inf | | | | | | | ormation | | | | | | | for the | | | | | | | data or | | | | | | | a | | | | | | | nalytics | | | | | | | that are | | | | | | | being | | | | | | | stored. | | +----------+----------+-------+----------+----------+----------+ | suppFeat | S | C | 0..1 | This IE | | | | upported | | | re | | | | Features | | | presents | | | | | | | a list | | | | | | | of | | | | | | | S | | | | | | | upported | | | | | | | features | | | | | | | as | | | | | | | d | | | | | | | escribed | | | | | | | in | | | | | | | claus | | | | | | | e 5.1.8. | | | | | | | | | | | | | | It shall | | | | | | | be | | | | | | | present | | | | | | | if at | | | | | | | least | | | | | | | one | | | | | | | feature | | | | | | | defined | | | | | | | in | | | | | | | clau | | | | | | | se 5.1.8 | | | | | | | is | | | | | | | su | | | | | | | pported. | | +----------+----------+-------+----------+----------+----------+ | NOTE 1: | | | | | | | Exactly | | | | | | | one of | | | | | | | the | | | | | | | at | | | | | | | tributes | | | | | | | \"an | | | | | | | aNotific | | | | | | | ations\" | | | | | | | and | | | | | | | \"dat | | | | | | | aNotif\" | | | | | | | shall be | | | | | | | p | | | | | | | rovided. | | | | | | | | | | | | | | NOTE 2: | | | | | | | Exactly | | | | | | | one of | | | | | | | the | | | | | | | at | | | | | | | tributes | | | | | | | \" | | | | | | | anaSub\" | | | | | | | and | | | | | | | \"d | | | | | | | ataSub\" | | | | | | | shall be | | | | | | | p | | | | | | | rovided. | | | | | | | | | | | | | | NOTE 3: | | | | | | | The | | | | | | | format | | | | | | | and the | | | | | | | contents | | | | | | | of this | | | | | | | a | | | | | | | ttribute | | | | | | | are up | | | | | | | to the | | | | | | | impleme | | | | | | | ntation. | | | | | | +----------+----------+-------+----------+----------+----------+
##### 5.1.6.2.3 Type: NadrfDataStoreSubscription
Table 5.1.6.2.3-1: Definition of type NadrfDataStoreSubscription
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | anaSub | Nnwdaf | C | 0..1 | S | | | | EventsSub | | | ubscribed | | | | scription | | | analytics | | | | | | | events. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | d | D | O | 0..1 | Data set | En | | ataSetTag | ataSetTag | | | tag of | hDataMgmt | | | | | | the | | | | | | | stored | | | | | | | data or | | | | | | | a | | | | | | | nalytics. | | +-----------+-----------+---+-----------+-----------+-----------+ | dataSub | DataSub | C | 0..1 | R | | | | scription | | | epresents | | | | | | | requested | | | | | | | Events | | | | | | | subs | | | | | | | cription. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | t | NfI | C | 0..1 | DCCF or | | | argetNfId | nstanceId | | | NWDAF NF | | | | | | | instance | | | | | | | i | | | | | | | dentifier | | | | | | | to which | | | | | | | the ADRF | | | | | | | shall | | | | | | | create | | | | | | | the | | | | | | | requested | | | | | | | subs | | | | | | | cription. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | targ | NfSetId | C | 0..1 | DCCF or | | | etNfSetId | | | | NWDAF NF | | | | | | | set | | | | | | | i | | | | | | | dentifier | | | | | | | to which | | | | | | | the ADRF | | | | | | | shall | | | | | | | create | | | | | | | the | | | | | | | requested | | | | | | | subs | | | | | | | cription. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | forma | For | O | 0..1 | F | | | tInstruct | mattingIn | | | ormatting | | | | struction | | | ins | | | | | | | tructions | | | | | | | to be | | | | | | | used for | | | | | | | sending | | | | | | | event | | | | | | | notif | | | | | | | ications. | | +-----------+-----------+---+-----------+-----------+-----------+ | pro | Pro | O | 0..1 | P | | | cInstruct | cessingIn | | | rocessing | | | | struction | | | ins | | | | | | | tructions | | | | | | | to be | | | | | | | used for | | | | | | | sending | | | | | | | event | | | | | | | notif | | | | | | | ications. | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | multiProc | a | O | 1..N | P | MultiPro | | Instructs | rray(Proc | | | rocessing | cessingIn | | | essingIns | | | ins | struction | | | truction) | | | tructions | | | | | | | to be | | | | | | | used for | | | | | | | sending | | | | | | | event | | | | | | | notif | | | | | | | ications. | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | s | S | O | 0..1 | Contains | En | | toreHandl | torageHan | | | storage | hDataMgmt | | | dlingInfo | | | handling | | | | | | | in | | | | | | | formation | | | | | | | for the | | | | | | | data or | | | | | | | analytics | | | | | | | that will | | | | | | | be | | | | | | | collected | | | | | | | and | | | | | | | stored | | | | | | | based on | | | | | | | the | | | | | | | requested | | | | | | | subs | | | | | | | cription. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | This IE | | | | dFeatures | | | r | | | | | | | epresents | | | | | | | a list of | | | | | | | Supported | | | | | | | features | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | clau | | | | | | | se 5.1.8. | | | | | | | | | | | | | | It shall | | | | | | | be | | | | | | | present | | | | | | | if at | | | | | | | least one | | | | | | | feature | | | | | | | defined | | | | | | | in | | | | | | | cla | | | | | | | use 5.1.8 | | | | | | | is | | | | | | | s | | | | | | | upported. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | Exactly | | | | | | | one of | | | | | | | these | | | | | | | a | | | | | | | ttributes | | | | | | | shall be | | | | | | | provided. | | | | | | | | | | | | | | NOTE 2: | | | | | | | One of | | | | | | | \"tar | | | | | | | getNfId\" | | | | | | | and | | | | | | | \"target | | | | | | | NfSetId\" | | | | | | | shall be | | | | | | | provided. | | | | | | | | | | | | | | NOTE 3: | | | | | | | The | | | | | | | \"mu | | | | | | | ltiProcIn | | | | | | | structs\" | | | | | | | attribute | | | | | | | shall be | | | | | | | used | | | | | | | instead | | | | | | | of the | | | | | | | \"procI | | | | | | | nstruct\" | | | | | | | attribute | | | | | | | when the | | | | | | | \"M | | | | | | | ultiProce | | | | | | | ssingInst | | | | | | | ruction\" | | | | | | | feature | | | | | | | is | | | | | | | s | | | | | | | upported. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.1.6.2.4 Type: NadrfDataRetrievalSubscription
Table 5.1.6.2.4-1: Definition of type NadrfDataRetrievalSubscription
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | anaSub | Nnwdaf | C | 0..1 | S | | | | EventsSub | | | ubscribed | | | | scription | | | analytics | | | | | | | events. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | dataSetId | string | C | 0..1 | Data set | En | | | | | | i | hDataMgmt | | | | | | dentifier | | | | | | | of stored | | | | | | | data or | | | | | | | analytics | | | | | | | records. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | dataSub | DataSub | C | 0..1 | R | | | | scription | | | epresents | | | | | | | requested | | | | | | | Events | | | | | | | subs | | | | | | | cription. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | notifi | Uri | M | 1 | Not | | | cationURI | | | | ification | | | | | | | target | | | | | | | address. | | +-----------+-----------+---+-----------+-----------+-----------+ | t | T | M | 1 | R | | | imePeriod | imeWindow | | | epresents | | | | | | | a start | | | | | | | time and | | | | | | | a stop | | | | | | | time | | | | | | | during | | | | | | | which the | | | | | | | requested | | | | | | | data is | | | | | | | collected | | | | | | | and/or | | | | | | | will be | | | | | | | collected | | | | | | | at the | | | | | | | data | | | | | | | source. | | +-----------+-----------+---+-----------+-----------+-----------+ | no | string | M | 1 | Not | | | tifCorrId | | | | ification | | | | | | | co | | | | | | | rrelation | | | | | | | i | | | | | | | dentifier | | | | | | | provided | | | | | | | by the NF | | | | | | | service | | | | | | | consumer | | | | | | | to be | | | | | | | used | | | | | | | later by | | | | | | | the ADRF | | | | | | | in the | | | | | | | noti | | | | | | | fications | | | | | | | that | | | | | | | c | | | | | | | orrespond | | | | | | | with this | | | | | | | subs | | | | | | | cription. | | | | | | | The value | | | | | | | of this | | | | | | | attribute | | | | | | | shall be | | | | | | | unique | | | | | | | per | | | | | | | sub | | | | | | | scription | | | | | | | for a | | | | | | | given NF | | | | | | | service | | | | | | | consumer. | | +-----------+-----------+---+-----------+-----------+-----------+ | cons | boolean | O | 0..1 | If | | | TrigNotif | | | | provided | | | | | | | and set | | | | | | | to | | | | | | | \"true\", | | | | | | | it | | | | | | | indicates | | | | | | | that | | | | | | | noti | | | | | | | fications | | | | | | | shall be | | | | | | | buffered | | | | | | | (sending | | | | | | | only | | | | | | | fetch | | | | | | | ins | | | | | | | tructions | | | | | | | to the NF | | | | | | | service | | | | | | | consumer) | | | | | | | until the | | | | | | | NF | | | | | | | service | | | | | | | consumer | | | | | | | requests | | | | | | | their | | | | | | | delivery | | | | | | | using | | | | | | | Nad | | | | | | | rf_DataM | | | | | | | anagement | | | | | | | Service. | | | | | | | | | | | | | | The | | | | | | | default | | | | | | | value is | | | | | | | \ | | | | | | | "false\". | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | This IE | | | | dFeatures | | | r | | | | | | | epresents | | | | | | | a list of | | | | | | | Supported | | | | | | | features | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | clau | | | | | | | se 5.1.8. | | | | | | | | | | | | | | It shall | | | | | | | be | | | | | | | present | | | | | | | if at | | | | | | | least one | | | | | | | feature | | | | | | | defined | | | | | | | in | | | | | | | cla | | | | | | | use 5.1.8 | | | | | | | is | | | | | | | s | | | | | | | upported. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | Exactly | | | | | | | one of | | | | | | | these | | | | | | | a | | | | | | | ttributes | | | | | | | shall be | | | | | | | provided. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.1.6.2.5 Type: NadrfDataRetrievalNotification
**Table 5.1.6.2.5-1: Definition of type NadrfDataRetrievalNotification**
+----------+----------+-------+----------+----------+----------+ | **A |** Data | **P** | **Cardi |** Descr | * | | ttribute | type**| | nality** | iption**| *Applica | | name** | | | | | bility** | +==========+==========+=======+==========+==========+==========+ | not | string | M | 1 | This | | | ifCorrId | | | | a | | | | | | | ttribute | | | | | | | i | | | | | | | ndicates | | | | | | | the | | | | | | | noti | | | | | | | fication | | | | | | | cor | | | | | | | relation | | | | | | | id | | | | | | | entifier | | | | | | | provided | | | | | | | by the | | | | | | | NF | | | | | | | service | | | | | | | consumer | | | | | | | during | | | | | | | the data | | | | | | | r | | | | | | | etrieval | | | | | | | subsc | | | | | | | ription. | | | | | | | This | | | | | | | p | | | | | | | arameter | | | | | | | can be | | | | | | | useful | | | | | | | if the | | | | | | | NF | | | | | | | service | | | | | | | consumer | | | | | | | uses a | | | | | | | common | | | | | | | callback | | | | | | | URI for | | | | | | | multiple | | | | | | | subscr | | | | | | | iptions. | | +----------+----------+-------+----------+----------+----------+ | anaNotif | arr | C | 1..N | List of | | | ications | ay(Nnwda | | | a | | | | fEventsS | | | nalytics | | | | ubscript | | | subs | | | | ionNotif | | | cription | | | | ication) | | | notifi | | | | | | | cations. | | | | | | | (NOTE 1) | | +----------+----------+-------+----------+----------+----------+ | d | DataNoti | C | 0..1 | Data | | | ataNotif | fication | | | subs | | | | | | | cription | | | | | | | notif | | | | | | | ication. | | | | | | | (NOTE 1) | | +----------+----------+-------+----------+----------+----------+ | fetch | FetchIns | C | 0..1 | The | | | Instruct | truction | | | fetch | | | | | | | ins | | | | | | | truction | | | | | | | i | | | | | | | ndicates | | | | | | | that the | | | | | | | data or | | | | | | | a | | | | | | | nalytics | | | | | | | can be | | | | | | | fetched | | | | | | | by the | | | | | | | c | | | | | | | onsumer. | | | | | | | (NOTE 1) | | +----------+----------+-------+----------+----------+----------+ | termin | boolean | O | 0..1 | If | | | ationReq | | | | provided | | | | | | | and set | | | | | | | to | | | | | | | \ | | | | | | | "true\", | | | | | | | it | | | | | | | i | | | | | | | ndicates | | | | | | | that the | | | | | | | subs | | | | | | | cription | | | | | | | is | | | | | | | r | | | | | | | equested | | | | | | | to be | | | | | | | ter | | | | | | | minated, | | | | | | | i.e. no | | | | | | | further | | | | | | | notif | | | | | | | ications | | | | | | | related | | | | | | | to this | | | | | | | subs | | | | | | | cription | | | | | | | will be | | | | | | | p | | | | | | | rovided. | | | | | | | The | | | | | | | default | | | | | | | value is | | | | | | | \" | | | | | | | false\". | | +----------+----------+-------+----------+----------+----------+ | dsc | string | O | 0..1 | Data | Enh | | | | | | s | DataMgmt | | | | | | ynthesis | | | | | | | and | | | | | | | com | | | | | | | pression | | | | | | | info | | | | | | | rmation. | | | | | | | (NOTE 2) | | +----------+----------+-------+----------+----------+----------+ | t | DateTime | M | 1 | It | | | imeStamp | | | | re | | | | | | | presents | | | | | | | the time | | | | | | | when | | | | | | | ADRF | | | | | | | c | | | | | | | ompleted | | | | | | | pre | | | | | | | paration | | | | | | | of the | | | | | | | r | | | | | | | equested | | | | | | | data or | | | | | | | an | | | | | | | alytics. | | +----------+----------+-------+----------+----------+----------+ | NOTE 1: | | | | | | | Exactly | | | | | | | one of | | | | | | | these | | | | | | | at | | | | | | | tributes | | | | | | | shall be | | | | | | | p | | | | | | | rovided. | | | | | | | | | | | | | | NOTE 2: | | | | | | | The | | | | | | | format | | | | | | | and the | | | | | | | contents | | | | | | | of this | | | | | | | a | | | | | | | ttribute | | | | | | | are up | | | | | | | to the | | | | | | | impleme | | | | | | | ntation. | | | | | | +----------+----------+-------+----------+----------+----------+
##### 5.1.6.2.6 Type: NadrfDataStoreSubscriptionRef
**Table 5.1.6.2.6-1: Definition of type NadrfDataStoreSubscriptionRef**
+----------+----------+-------+----------+----------+----------+ | **A |** Data | **P** | **Cardi |** Descr | * | | ttribute | type**| | nality** | iption**| *Applica | | name** | | | | | bility** | +==========+==========+=======+==========+==========+==========+ | tr | string | C | 0..1 | Tra | | | ansRefId | | | | nsaction | | | | | | | r | | | | | | | eference | | | | | | | ide | | | | | | | ntifier. | | | | | | | (NOTE) | | +----------+----------+-------+----------+----------+----------+ | d | string | C | 0..1 | Data set | Enh | | ataSetId | | | | id | DataMgmt | | | | | | entifier | | | | | | | as | | | | | | | sociated | | | | | | | with a | | | | | | | storage | | | | | | | subsc | | | | | | | ription. | | | | | | | (NOTE) | | +----------+----------+-------+----------+----------+----------+ | suppFeat | S | C | 0..1 | This IE | | | | upported | | | re | | | | Features | | | presents | | | | | | | a list | | | | | | | of | | | | | | | S | | | | | | | upported | | | | | | | features | | | | | | | as | | | | | | | d | | | | | | | escribed | | | | | | | in | | | | | | | claus | | | | | | | e 5.1.8. | | | | | | | | | | | | | | It shall | | | | | | | be | | | | | | | present | | | | | | | in the | | | | | | | POST | | | | | | | response | | | | | | | if the | | | | | | | NF | | | | | | | service | | | | | | | consumer | | | | | | | includes | | | | | | | the | | | | | | | \"su | | | | | | | ppFeat\" | | | | | | | a | | | | | | | ttribute | | | | | | | in the | | | | | | | POST | | | | | | | request. | | +----------+----------+-------+----------+----------+----------+ | NOTE: | | | | | | | One of | | | | | | | the | | | | | | | \"tran | | | | | | | sRefId\" | | | | | | | and | | | | | | | \"dat | | | | | | | aSetId\" | | | | | | | at | | | | | | | tributes | | | | | | | shall be | | | | | | | p | | | | | | | rovided. | | | | | | +----------+----------+-------+----------+----------+----------+
##### 5.1.6.2.7 Type: NadrfStoredDataSpec
Table 5.1.6.2.7-1: Definition of type NadrfStoredDataSpec
Attribute name Data type P Cardinality Description Applicability
* * *
dataSpec DataSubscription C 0..1 Represents data specification. (NOTE)  
anaSpec NnwdafEventsSubscription C 0..1 Represents analytics specification.
(NOTE)  
timePeriod TimeWindow M 1 Represents a start time and a stop time during which
the requested data to be removed was collected at the data source.  
dataSetId string C 0..1 Data set identifier of stored data or analytics
records. (NOTE) EnhDataMgmt NOTE: Exactly one of these attributes shall be
provided.
##### 5.1.6.2.8 Type: DataSubscription
**Table 5.1.6.2.8-1: Definition of type DataSubscription**
+----------+----------+-------+----------+----------+----------+ | **A |** Data | **P** | **Cardi |** Descr | * | | ttribute | type**| | nality** | iption**| *Applica | | name** | | | | | bility** | +==========+==========+=======+==========+==========+==========+ | am | AmfE | C | 0..1 | Re | | | fDataSub | ventSubs | | | presents | | | | cription | | | r | | | | | | | equested | | | | | | | AMF | | | | | | | Events | | | | | | | subsc | | | | | | | ription. | | | | | | | | | | | | | | (NOTE) | | +----------+----------+-------+----------+----------+----------+ | sm | N | C | 0..1 | Re | | | fDataSub | smfEvent | | | presents | | | | Exposure | | | r | | | | | | | equested | | | | | | | SMF | | | | | | | Events | | | | | | | subsc | | | | | | | ription. | | | | | | | | | | | | | | (NOTE) | | +----------+----------+-------+----------+----------+----------+ | ud | EeSubs | C | 0..1 | Re | | | mDataSub | cription | | | presents | | | | | | | r | | | | | | | equested | | | | | | | UDM | | | | | | | Events | | | | | | | subsc | | | | | | | ription. | | | | | | | | | | | | | | (NOTE) | | +----------+----------+-------+----------+----------+----------+ | ne | NefEv | C | 0..1 | Re | | | fDataSub | entExpos | | | presents | | | | ureSubsc | | | r | | | | | | | equested | | | | | | | NEF | | | | | | | Events | | | | | | | subsc | | | | | | | ription. | | | | | | | | | | | | | | (NOTE) | | +----------+----------+-------+----------+----------+----------+ | a | AfEv | C | 0..1 | Re | | | fDataSub | entExpos | | | presents | | | | ureSubsc | | | r | | | | | | | equested | | | | | | | AF | | | | | | | Events | | | | | | | subsc | | | | | | | ription. | | | | | | | | | | | | | | (NOTE) | | +----------+----------+-------+----------+----------+----------+ | nr | Subscrip | C | 0..1 | Re | | | fDataSub | tionData | | | presents | | | | | | | r | | | | | | | equested | | | | | | | NRF | | | | | | | Events | | | | | | | subsc | | | | | | | ription. | | | | | | | | | | | | | | (NOTE) | | +----------+----------+-------+----------+----------+----------+ | nsac | SACE | C | 0..1 | Re | | | fDataSub | ventSubs | | | presents | | | | cription | | | r | | | | | | | equested | | | | | | | NSACF | | | | | | | Events | | | | | | | subsc | | | | | | | ription. | | | | | | | | | | | | | | (NOTE) | | +----------+----------+-------+----------+----------+----------+ | up | UpfE | C | 0..1 | Re | UpEvents | | fDataSub | ventSubs | | | presents | | | | cription | | | r | | | | | | | equested | | | | | | | UPF | | | | | | | Events | | | | | | | subsc | | | | | | | ription. | | | | | | | | | | | | | | (NOTE) | | +----------+----------+-------+----------+----------+----------+ | gml | I | C | 0..1 | Re | L | | cDataSub | nputData | | | presents | ocEvents | | | | | | r | | | | | | | equested | | | | | | | GMLC | | | | | | | Events | | | | | | | subsc | | | | | | | ription. | | | | | | | | | | | | | | (NOTE) | | +----------+----------+-------+----------+----------+----------+ | NOTE: | | | | | | | Exactly | | | | | | | one of | | | | | | | these | | | | | | | at | | | | | | | tributes | | | | | | | shall be | | | | | | | p | | | | | | | rovided. | | | | | | +----------+----------+-------+----------+----------+----------+
##### 5.1.6.2.9 Type: DataNotification
**Table 5.1.6.2.9-1: Definition of type DataNotification**
+----------+----------+-------+----------+----------+----------+ | **A |** Data | **P** | **Cardi |** Descr | * | | ttribute | type**| | nality** | iption**| *Applica | | name** | | | | | bility** | +==========+==========+=======+==========+==========+==========+ | afEve | arr | C | 1..N | List of | | | ntNotifs | ay(AfEve | | | notif | | | | ntExposu | | | ications | | | | reNotif) | | | on AF | | | | | | | e | | | | | | | vent(s). | | | | | | | (NOTE 1) | | +----------+----------+-------+----------+----------+----------+ | amfEve | arr | C | 1..N | List of | | | ntNotifs | ay(AmfEv | | | notif | | | | entNotif | | | ications | | | | ication) | | | on AMF | | | | | | | e | | | | | | | vent(s). | | | | | | | (NOTE 1) | | +----------+----------+-------+----------+----------+----------+ | gmlcEve | array( | C | 1..N | List of | L | | ntNotifs | EventNot | | | notif | ocEvents | | | ifyData) | | | ications | | | | | | | on GMLC | | | | | | | e | | | | | | | vent(s). | | | | | | | (NOTE 1) | | +----------+----------+-------+----------+----------+----------+ | smfEve | arra | C | 1..N | List of | | | ntNotifs | y(NsmfEv | | | notif | | | | entExpos | | | ications | | | | ureNotif | | | on SMF | | | | ication) | | | e | | | | | | | vent(s). | | | | | | | (NOTE 1) | | +----------+----------+-------+----------+----------+----------+ | udmEve | array(M | C | 1..N | List of | | | ntNotifs | onitorin | | | mo | | | | gReport) | | | nitoring | | | | | | | reports | | | | | | | co | | | | | | | ntaining | | | | | | | inf | | | | | | | ormation | | | | | | | about | | | | | | | UDM | | | | | | | e | | | | | | | vent(s). | | | | | | | (NOTE 1) | | +----------+----------+-------+----------+----------+----------+ | nefEve | arra | C | 1..N | List of | | | ntNotifs | y(NefEve | | | notif | | | | ntExposu | | | ications | | | | reNotif) | | | on | | | | | | | network | | | | | | | exposure | | | | | | | e | | | | | | | vent(s). | | | | | | | (NOTE 1) | | +----------+----------+-------+----------+----------+----------+ | nrfEve | array(N | C | 1..N | List of | | | ntNotifs | otificat | | | notif | | | | ionData) | | | ications | | | | | | | on NRF | | | | | | | event(s) | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | 3GPP T | | | | | | | S 29.510 | | | | | | | [10]. | | | | | | | (NOTE 1) | | +----------+----------+-------+----------+----------+----------+ | nsacfEve | array | C | 1..N | List of | | | ntNotifs | (SACEven | | | notif | | | | tReport) | | | ications | | | | | | | on NSACF | | | | | | | e | | | | | | | vent(s). | | | | | | | (NOTE 1) | | +----------+----------+-------+----------+----------+----------+ | upfEve | array(N | C | 1..N | List of | UpEvents | | ntNotifs | otificat | | | notif | | | | ionData) | | | ications | | | | | | | on UPF | | | | | | | event(s) | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | 3GPP T | | | | | | | S 29.564 | | | | | | | [26]. | | | | | | | (NOTE 1) | | +----------+----------+-------+----------+----------+----------+ | t | DateTime | O | 0..1 | I | | | imeStamp | | | | ndicates | | | | | | | the | | | | | | | t | | | | | | | imestamp | | | | | | | for the | | | | | | | e | | | | | | | vent(s). | | | | | | | (NOTE 2) | | +----------+----------+-------+----------+----------+----------+ | NOTE 1: | | | | | | | Exactly | | | | | | | one of | | | | | | | these | | | | | | | at | | | | | | | tributes | | | | | | | shall be | | | | | | | p | | | | | | | rovided. | | | | | | | | | | | | | | NOTE 2: | | | | | | | The | | | | | | | \"tim | | | | | | | eStamp\" | | | | | | | a | | | | | | | ttribute | | | | | | | within | | | | | | | the | | | | | | | DataNoti | | | | | | | fication | | | | | | | data | | | | | | | type may | | | | | | | be | | | | | | | provided | | | | | | | if any | | | | | | | of the | | | | | | | \"tim | | | | | | | eStamp\" | | | | | | | a | | | | | | | ttribute | | | | | | | within | | | | | | | AfE | | | | | | | ventNoti | | | | | | | fication | | | | | | | c | | | | | | | ontained | | | | | | | in the | | | | | | | AfEve | | | | | | | ntExposu | | | | | | | reNotif, | | | | | | | or | | | | | | | within | | | | | | | AmfEve | | | | | | | ntReport | | | | | | | c | | | | | | | ontained | | | | | | | in the | | | | | | | AmfEv | | | | | | | entNotif | | | | | | | ication, | | | | | | | or | | | | | | | within | | | | | | | E | | | | | | | ventNoti | | | | | | | fication | | | | | | | c | | | | | | | ontained | | | | | | | in the | | | | | | | NsmfEv | | | | | | | entExpos | | | | | | | ureNotif | | | | | | | ication, | | | | | | | or | | | | | | | within | | | | | | | M | | | | | | | onitorin | | | | | | | gReport, | | | | | | | or | | | | | | | within | | | | | | | NefE | | | | | | | ventNoti | | | | | | | fication | | | | | | | c | | | | | | | ontained | | | | | | | in the | | | | | | | NefEve | | | | | | | ntExposu | | | | | | | reNotif, | | | | | | | or | | | | | | | within | | | | | | | SA | | | | | | | CEventRe | | | | | | | portItem | | | | | | | c | | | | | | | ontained | | | | | | | in the | | | | | | | SACEven | | | | | | | tReport, | | | | | | | or, if | | | | | | | the | | | | | | | UpEvents | | | | | | | feature | | | | | | | is | | | | | | | su | | | | | | | pported, | | | | | | | within | | | | | | | the | | | | | | | Notifica | | | | | | | tionItem | | | | | | | c | | | | | | | ontained | | | | | | | in the | | | | | | | Notifica | | | | | | | tionData | | | | | | | data | | | | | | | type, | | | | | | | or, if | | | | | | | the | | | | | | | L | | | | | | | ocEvents | | | | | | | feature | | | | | | | is | | | | | | | su | | | | | | | pported, | | | | | | | the | | | | | | | \"times | | | | | | | tampOfLo | | | | | | | cationEs | | | | | | | timate\" | | | | | | | a | | | | | | | ttribute | | | | | | | within | | | | | | | EventNot | | | | | | | ifyData, | | | | | | | is not | | | | | | | p | | | | | | | rovided. | | | | | | +----------+----------+-------+----------+----------+----------+
5.1.6.2.10 Type: StorageHandlingInfo
**Table 5.1.6.2.10-1: Definition of type StorageHandlingInfo**
**Attribute name** **Data type** **P** **Cardinality** **Description**
**Applicability**
* * *
lifetime DurationSec O 0..1 Indicates the lifetime of the provided data or
analytics as a duration in seconds.  
delNotifUri Uri O 0..1 Notification Uri for receiving deletion alerts. Its
presence indicates that the NF service consumer wants to receive such
notifications.  
delNotifCorrId string C 0..1 Notification correlation identifier for the
deletion alerts. It shall be provided if the \"delNotifUri\" attribute is
provided.
5.1.6.2.11 Type: NadrfAlertNotification
**Table 5.1.6.2.11-1: Definition of type NadrfAlertNotification**
**Attribute name** **Data type** **P** **Cardinality** **Description**
**Applicability**
* * *
alertStorTransId string M 1 Storage transaction identifier that can be used to
retrieve the data or analytics that are about to be deleted.  
delNotifCorrId string M 1 Notification correlation identifier for the alert.
5.1.6.2.12 Type: NadrfAlertNotificationResponse
**Table 5.1.6.2.12-1: Definition of type NadrfAlertNotificationResponse**
**Attribute name** **Data type** **P** **Cardinality** **Description**
**Applicability**
* * *
retrievalInd boolean M 1 If the NF service consumer had received a Data or
Analytics Deletion Alert in the notification and determined to retrieve stored
data or analytics prior to deletion, it shall be set to \"true\". Otherwise,
it shall be set to \"false\".
5.1.6.2.13 Type: DataSetTag
**Table 5.1.6.2.13-1: Definition of type DataSetTag**
**Attribute name** **Data type** **P** **Cardinality** **Description**
**Applicability**
* * *
dataSetId string M 1 Data set identifier of data or analytics records.  
dataSetDesc string O 0..1 Human-readable data set description of data or
analytics records.
#### 5.1.6.3 Simple data types and enumerations
None.
#### 5.1.6.4 Data types describing alternative data types or combinations of
data types
None.
### 5.1.7 Error Handling
#### 5.1.7.1 General
For the Nadrf_DataManagement API, HTTP error responses shall be supported as
specified in clause 4.8 of 3GPP TS 29.501 [5]. Protocol errors and application
errors specified in table 5.1.7.2-1 of 3GPP TS 29.500 [4] shall be supported
for an HTTP method if the corresponding HTTP status codes are specified as
mandatory for that HTTP method in table 5.1.7.1-1 of 3GPP TS 29.500 [4].
In addition, the requirements in the following clauses are applicable for the
Nadrf_DataManagement API.
#### 5.1.7.2 Protocol Errors
No specific procedures for the Nadrf_DataManagement service are specified.
#### 5.1.7.3 Application Errors
The application errors defined for the Nadrf_DataManagement service are listed
in Table 5.1.7.3-1.
Table 5.1.7.3-1: Application errors
Application Error HTTP status code Description
* * *
### 5.1.8 Feature negotiation
The optional features in table 5.1.8-1 are defined for the
Nadrf_DataManagement API. They shall be negotiated using the extensibility
mechanism defined in clause 6.6 of 3GPP TS 29.500 [4].
**Table 5.1.8-1: Supported Features**
**Feature number** **Feature Name** **Description**
* * *
1 MultiProcessingInstruction Indicates the support of multiple processing
instructions. 2 UpEvents Indicates the support of UPF events. 3 EnhDataMgmt
Indicates the support of enhanced data management mechanisms. 4 LocEvents This
feature indicates the support of location events.
### 5.1.9 Security
As indicated in 3GPP TS 33.501 [8] and 3GPP TS 29.500 [4], the access to the
Nadrf_DataManagement API may be authorized by means of the OAuth2 protocol
(see IETF RFC 6749 [9]), based on local configuration, using the \"Client
Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [10])
plays the role of the authorization server.
As indicated in 3GPP TS 33.501 [8] and 3GPP TS 29.500 [4], the access to the
Nadrf_DataManagement API may be authorized by means of the OAuth2 protocol
(see IETF RFC 6749 [9]), based on local configuration, using the \"Client
Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [10])
plays the role of the authorization server.
If OAuth2 is used, an NF Service Consumer, prior to consuming services offered
by the Nadrf_DataManagement API, shall obtain a \"token\" from the
authorization server, by invoking the Access Token Request service, as
described in 3GPP TS 29.510 [10], clause 5.4.2.2.
NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used for
discovering the Nadrf_DataManagement service.
The Nadrf_DataManagement API defines the following scopes for OAuth2
authorization as described in 3GPP TS 29.501 [5], clause 4.10.
Table 5.1.9-1: OAuth2 scopes defined in Nadrf_DataManagement API
Scope Description
* * *
\"nnadrf-datamanagement\" Access to the Nadrf_DataManagement API "nnadrf-
datamanagement:storage-read-delete-subs\" Access to service operations
applying to Nadrf_DataManagement_StorageSubscriptionRequest,
Nadrf_DataManagement_StorageSubscriptionRemoval,
Nadrf_DataManagement_RetrievalRequest,
Nadrf_DataManagement_RetrievalSubscribe,
Nadrf_DataManagement_RetrievalUnsubscribe,
Nadrf_DataManagement_RetrievalNotify, Nadrf_DataManagement_Delete service
operations.
.
## 5.2 Nadrf_MLModelManagement Service API
### 5.2.1 Introduction
The Nadrf_MLModelManagement service shall use the Nadrf_MLModelManagement API.
The API URI of the Nadrf_MLModelManagement API shall be:
**{apiRoot}/\ /\**
The request URIs used in HTTP requests from the NF service consumer towards
the NF service producer shall have the Resource URI structure defined in
clause 4.4.1 of 3GPP TS 29.501 [5], i.e.:
**{apiRoot}/\ /\/\**
with the following components:
\- The {apiRoot} shall be set as described in 3GPP TS 29.501 [5].
\- The \ shall be \"**nadrf-** mlmodelmanagement\".
\- The \ shall be \"v1\".
\- The \ shall be set as described in clause
5.2.3.
### 5.2.2 Usage of HTTP
#### 5.2.2.1 General
HTTP/2, IETF RFC 7540 [11], shall be used as specified in clause 5 of 3GPP TS
29.500 [4].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].
The OpenAPI [6] specification of HTTP messages and content bodies for the
Nadrf_MLModelManagement API is contained in Annex A.
#### 5.2.2.2 HTTP standard headers
##### 5.2.2.2.1 General
See clause 5.2.2 of 3GPP TS 29.500 [4] for the usage of HTTP standard headers.
##### 5.2.2.2.2 Content type
JSON, IETF RFC 8259 [12], shall be used as content type of the HTTP bodies
specified in the present specification as specified in clause 5.4 of 3GPP TS
29.500 [4]. The use of the JSON format shall be signalled by the content type
\"application/json\".
\"Problem Details\" JSON object shall be used to indicate additional details
of the error in a HTTP response body and shall be signalled by the content
type \"application/problem+json\", as defined in IETF RFC 7807 [13].
#### 5.2.2.3 HTTP custom headers
The mandatory HTTP custom header fields specified in clause 5.2.3.2 of 3GPP TS
29.500 [4] shall be applicable.
### 5.2.3 Resources
#### 5.2.3.1 Overview
This clause describes the structure for the Resource URIs, the resources and
methods used for the service.
Figure 5.2.3.1-1 depicts the resource URIs structure for the
Nadrf_MLModelManagement API.
Figure 5.2.3.1-1: Resource URI structure of the Nadrf_MLModelManagement API
Table 5.2.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 5.2.3.1-1: Resources and methods overview
Resource name Resource URI HTTP method or custom operation Description
* * *
ADRF ML Model Store Records /mlmodel-store-records GET Retrieve the stored ML
model(s). POST Create a new Individual ML Model Store resource. Individual
ADRF ML Model Store Record /mlmodel-store-records/{storeTransId} DELETE Delete
an individual ADRF ML Model Store Record identified by {storeTransId}.
#### 5.2.3.2 Resource: ADRF ML Model Store Records
##### 5.2.3.2.1 Description
The ADRF ML Model Store Records resource represents all ML model storage
records to the Nadrf_MLModelManagement Service at a given ADRF. The resource
allows an NF service consumer to create a new Individual ADRF ML Model Store
Record resource and to retrieve Individual ADRF ML Model Store Record
resources that fulfil certain criteria.
##### 5.2.3.2.2 Resource Definition
Resource URI: **{apiRoot}/nadrf-mlmodelmanagement/\ /mlmodel-
store-records**
The \ shall be set as described in clause 5.2.1.
This resource shall support the resource URI variables defined in table
5.2.3.2.2-1.
Table 5.2.3.2.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 5.2.1
##### 5.2.3.2.3 Resource Standard Methods
###### 5.2.3.2.3.1 POST
This method shall support the URI query parameters specified in table
5.2.3.2.3.1-1.
Table 5.2.3.2.3.1-1: URI query parameters supported by the POST method on this
resource
Name Data type P Cardinality Description Applicability
* * *
n/a
This method shall support the request data structures specified in table
5.2.3.2.3.1-2 and the response data structures and response codes specified in
table 5.2.3.2.3.1-3.
Table 5.2.3.2.3.1-2: Data structures supported by the POST Request Body on
this resource
Data type P Cardinality Description
* * *
NadrfMLModelStoreRecord M 1 New individual ML Model Store Record to be created
Table 5.2.3.2.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+=============+===============+ | NadrfMLMod | M | 1 | 201 Created | The creation | | elStoreRecord | | | | of an | | | | | | Individual ML | | | | | | Model Store | | | | | | Record | | | | | | resource is | | | | | | confirmed, | | | | | | and a | | | | | | r | | | | | | epresentation | | | | | | of that | | | | | | resource is | | | | | | returned. | +---------------+---+-------------+-------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | Ta | | | | | | ble 5.1.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+-------------+---------------+
Table 5.2.3.2.3.1-4: Headers supported by the 201 response code on this
resource
Name Data type P Cardinality Description
* * *
Location string O 1 Contains the URI of the newly created resource, according
to the structure: {apiRoot}/nadrf-mlmodelmanagement/\/mlmodel-
store-records/{storeTransId}
###### 5.2.3.2.3.2 GET
This method shall support the URI query parameters specified in table
5.2.3.2.3.2-1.
Table 5.2.3.2.3.2-1: URI query parameters supported by the GET method on this
resource
Name Data type P Cardinality Description
* * *
store-trans-id string O 0..1 Identifies the \"Storage Transaction Identifier\"
of ML model store record in ADRF. (NOTE) modelUniqueId Uinteger O 0..N
Identifies the unique ML model identifier of the ML model stored in ADRF.
(NOTE) NOTE: Exactly one of \"store-trans-id\" and \"modelUniqueId\" shall be
provided.
This method shall support the request data structures specified in table
5.2.3.2.3.2-2 and the response data structures and response codes specified in
table 5.2.3.2.3.2-3.
Table 5.2.3.2.3.2-2: Data structures supported by the GET Request Body on this
resource
Data type P Cardinality Description
* * *
n/a
Table 5.2.3.2.3.2-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | NadrfMLMod | M | 1 | 200 OK | ML Model | | elStoreRecord | | | | Store record. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | If the | | | | | Content | request ADRF | | | | | | ML Model | | | | | | Store Record | | | | | | does not | | | | | | exist, the | | | | | | ADRF shall | | | | | | respond with | | | | | | \"204 No | | | | | | Content\". | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
##### 5.2.3.2.4 Resource Custom Operations
None.
#### 5.2.3.3 Resource: Individual ADRF ML Model Store Record
##### 5.2.3.3.1 Description
The Individual ADRF ML Model Store Record resource represents ML model(s)
stored via the Nadrf_MLModelManagement_StorageRequest in ADRF.
##### 5.2.3.3.2 Resource Definition
Resource URI: **{apiRoot}/nadrf-mlmodelmanagement/\ /mlmodel-
store-records/{storeTransId}**
The \ shall be set as described in clause 5.2.1.
This resource shall support the resource URI variables defined in table
5.2.3.3.2-1.
Table 5.2.3.3.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot String See clause 5.2.1. storeTransId string Identifies an individual
data store record.
##### 5.2.3.3.3 Resource Standard Methods
###### 5.2.3.3.3.1 DELETE
This method shall support the URI query parameters specified in table
5.2.3.3.3.1-1.
Table 5.2.3.3.3.1-1: URI query parameters supported by the DELETE method on
this resource
Name Data type P Cardinality Description Applicability
* * *
n/a
This method shall support the request data structures specified in table
5.2.3.3.3.1-2 and the response data structures and response codes specified in
table 5.2.3.3.3.1-3.
Table 5.2.3.3.3.1-2: Data structures supported by the DELETE Request Body on
this resource
Data type P Cardinality Description
* * *
n/a
Table 5.2.3.3.3.1-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | The | | | | | Content | Individual | | | | | | ADRF ML Model | | | | | | Store Record | | | | | | resource was | | | | | | deleted | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | ADRF ML Model | | | | | | Store Record | | | | | | deletion. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | ADRF ML Model | | | | | | Store Record | | | | | | deletion. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | Ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | Red | | | | | | irectResponse | | | | | | data | | | | | | structure may | | | | | | be provided | | | | | | by an SCP | | | | | | (cf. | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.2.3.3.3.1-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +=================+===========+===+=============+=================+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative | | | | | | ADRF (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target ADRF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
Table 5.2.3.3.3.1-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +=================+===========+===+=============+=================+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative | | | | | | ADRF (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target ADRF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
##### 5.2.3.3.4 Resource Custom Operations
None in this release of the specification.
### 5.2.4 Custom Operations without associated resources
#### 5.2.4.1 Overview
The structure of the custom operation URIs of the Nadrf_MLModelManagement
service is shown in Figure 5.2.4.1-1.
Figure 5.2.4.1-1: Custom operation URI structure of the
Nadrf_MLModelManagement API
Table 5.2.4.1-1 provides an overview of the custom operations and applicable
HTTP methods.
Table 5.2.4.1-1: Custom operations without associated resources
Custom operation URI Mapped HTTP method Description
* * *
{apiRoot}/nadrf-mlmodelmanagement/\/remove-stored-mlmodel POST
Request the ADRF to remove already stored ML model.
#### 5.2.4.4 Operation: remove-stored-mlmodel
##### 5.2.4.4.1 Description
The operation is used by the NF service consumer to request the ADRF to remove
stored ML model(s) based on a unique ML model identifier.
##### 5.2.4.4.2 Operation Definition
This operation shall support the request data structures shown in Table
5.2.4.4.2-1 and the response data structures and error codes specified in
Tables 5.2.4.4.2-2.
Table 5.2.4.4.2-1: Data structures supported by the POST Request Body on this
resource
Data type P Cardinality Description
* * *
NadrfMLModelStoreRecord M 1..N Unique ML model identifier of the ML model
stored in ADRF.
Table 5.1.4.4.2-2: Data structures supported by the POST Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | Successful | | | | | Content | request to | | | | | | remove ML | | | | | | model in the | | | | | | ADRF based on | | | | | | the unique ML | | | | | | model | | | | | | identifier. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | Ta | | | | | | ble 5.1.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply. | | | | | +---------------+---+-------------+---------------+---------------+
### 5.2.5 Notifications
None in this release of the specification.
### 5.2.6 Data Model
#### 5.2.6.1 General
This clause specifies the application data model supported by the
Nadrf_MLModelManagement API.
Table 5.2.6.1-1 specifies the data types defined for the
Nadrf_MLModelManagement service based interface protocol.
Table 5.2.6.1-1: Nadrf_MLModelManagement specific Data Types
Data type Clause defined Description Applicability
* * *
NadrfMLModelStoreRecord 5.2.6.2.2 Represents an Individual ADRF ML Model Store
Record resource.  
MLModelInfo 5.2.6.2.3 Represents informatiom of the ML Model.
Table 5.2.6.1-2 specifies data types re-used by the Nadrf_MLModelManagement
service based interface protocol from other specifications, including a
reference to their respective specifications and when needed, a short
description of their use within the Nadrf_MLModelManagement service based
interface.
Table 5.2.6.1-2: Nadrf_MLModelManagement re-used Data Types
Data type Reference Comments Applicability
* * *
MLModelAddr 3GPP TS 29.520 [15] Address of ML model file  
NfInstanceId 3GPP TS 29.571 [16] NF instance identifier.  
NfSetId 3GPP TS 29.571 [16] NF set identifier.  
SupportedFeatures 3GPP TS 29.571 [16] Used to negotiate the applicability of
the optional features defined in table 5.2.8-1.  
Uinteger 3GPP TS 29.571 [16] Unsigned Integer, i.e. only value 0 and integers
above 0 are permissible.
#### 5.2.6.2 Structured data types
##### 5.2.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 5.2.6.2.2 Type: NadrfMLModelStoreRecord
Table 5.2.6.2.2-1: Definition of type NadrfMLModelStoreRecord
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | nfI | NfI | C | 1 | NF | | | nstanceId | nstanceId | | | instanceI | | | | | | | dentifier | | | | | | | of the | | | | | | | NWDAF | | | | | | | c | | | | | | | ontaining | | | | | | | MT | | | | | | | LF.(NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | nfSetId | NfSetId | C | 1 | NFset | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | NWDAF | | | | | | | c | | | | | | | ontaining | | | | | | | MT | | | | | | | LF.(NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | ml | array(MLM | M | 1..N | ML Model | | | ModelInfo | odelInfo) | | | in | | | | | | | formation | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | This IE | | | | dFeatures | | | r | | | | | | | epresents | | | | | | | a list of | | | | | | | Supported | | | | | | | features | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | clau | | | | | | | se 5.2.7. | | | | | | | | | | | | | | It shall | | | | | | | be | | | | | | | present | | | | | | | if at | | | | | | | least one | | | | | | | feature | | | | | | | defined | | | | | | | in | | | | | | | cla | | | | | | | use 5.2.7 | | | | | | | is | | | | | | | s | | | | | | | upported. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: One | | | | | | | of | | | | | | | \"nfIns | | | | | | | tanceId\" | | | | | | | and | | | | | | | \" | | | | | | | nfSetId\" | | | | | | | a | | | | | | | ttributes | | | | | | | shall be | | | | | | | provided. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 5.2.6.2.3 Type: MLModelInfo
Table 5.2.6.2.2-1: Definition of type MLModelInfo
Attribute name Data type P Cardinality Description Applicability
* * *
modelUniqueId Uinteger M 1 Unique ML Model identifier  
mlFileAddr MLModelAddr M 1 Address (e.g. a URL or an FQDN) of the ML model
file.  
mlStorageSize Uinteger M 1 Storage size in octets required for each of the ML
model.
* * * Next Change * * * *
#### 5.2.6.3 Simple data types and enumerations
None.
#### 5.2.6.4 Data types describing alternative data types or combinations of
data types
None.
### 5.2.7 Error Handling
#### 5.2.7.1 General
For the Nadrf_MLModelManagement API, HTTP error responses shall be supported
as specified in clause 4.8 of 3GPP TS 29.501 [5]. Protocol errors and
application errors specified in table 5.1.7.2-1 of 3GPP TS 29.500 [4] shall be
supported for an HTTP method if the corresponding HTTP status codes are
specified as mandatory for that HTTP method in table 5.1.7.1-1 of 3GPP TS
29.500 [4].
In addition, the requirements in the following clauses are applicable for the
Nadrf_MLModelManagement API.
#### 5.2.7.2 Protocol Errors
No specific procedures for the Nadrf_MLModelManagement service are specified.
#### 5.2.7.3 Application Errors
The application errors defined for the Nadrf_MLModelManagement service are
listed in Table 5.2.7.3-1.
Table 5.2.7.3-1: Application errors
Application Error HTTP status code Description
* * *
### 5.2.8 Feature negotiation
The optional features in table 5.2.8-1 are defined for the
Nadrf_MLModelManagement API. They shall be negotiated using the extensibility
mechanism defined in clause 6.6 of 3GPP TS 29.500 [4].
**Table 5.2.8-1: Supported Features**
**Feature number** **Feature Name** **Description**
* * *
### 5.2.9 Security
As indicated in 3GPP TS 33.501 [8] and 3GPP TS 29.500 [4], the access to the
Nadrf_MLModelManagement API may be authorized by means of the OAuth2 protocol
(see IETF RFC 6749 [9]), based on local configuration, using the \"Client
Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [10])
plays the role of the authorization server.
As indicated in 3GPP TS 33.501 [8] and 3GPP TS 29.500 [4], the access to the
Nadrf_MLModelManagement API may be authorized by means of the OAuth2 protocol
(see IETF RFC 6749 [9]), based on local configuration, using the \"Client
Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [10])
plays the role of the authorization server.
If OAuth2 is used, an NF Service Consumer, prior to consuming services offered
by the Nadrf_MLModelManagement API, shall obtain a \"token\" from the
authorization server, by invoking the Access Token Request service, as
described in 3GPP TS 29.510 [10], clause 5.4.2.2.
NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used for
discovering the Nadrf_MLModelManagement service.
The Nnwdaf_MLModelManagement API defines a single scope \"nnwdaf-
mlmodelmanagement\" for the entire service, and it does not define any
additional scopes at resource or operation level.
###### ## Annex A (normative): OpenAPI specification
# A.1 General
This Annex specifies the formal definition of the API(s) defined in the
present specification. It consists of OpenAPI 3.0.0 specifications in YAML
format.
This Annex takes precedence when being discrepant to other parts of the
specification with respect to the encoding of information elements and methods
within the API(s).
NOTE 1: The semantics and procedures, as well as conditions, e.g. for the
applicability and allowed combinations of attributes or values, not expressed
in the OpenAPI definitions but defined in other parts of the specification
also apply.
Informative copies of the OpenAPI specification files contained in this 3GPP
Technical Specification are available on a Git-based repository that uses the
GitLab software version control system (see 3GPP TS 29.501 [5] clause 5.3.1
and 3GPP TR 21.900 [7] clause 5B).
# A.2 Nadrf_DataManagement API
openapi: 3.0.0
info:
version: 1.1.0-alpha.4
title: Nadrf_DataManagement
description: \|
ADRF Data Management Service.
Â© 2023, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.575 V18.3.0; 5G System; Analytics Data Repository
Services; Stage 3.
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.575/\'
#
servers:
\- url: \'{apiRoot}/nadrf-datamanagement/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501.
#
security:
\- oAuth2ClientCredentials:
\- nadrf-datamanagement
\- {}
#
paths:
/data-store-records:
post:
summary: Creates a new Individual Data Store Record resource.
operationId: CreateADRFDataStoreRecord
tags:
\- ADRF Data Store Records (Collection)
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/NadrfDataStoreRecord\'
required: true
description: ADRF data store record to be stored.
responses:
\'201\':
description: Successful creation of new Individual ADRF Data Store Record
resource.
headers:
Location:
description: >
Contains the URI of the newly created resource, according to the structure
{apiRoot}/nadrf-datamanagement/\/data-store-records/{storeTransId}
required: true
schema:
type: string
content:
application/json:
schema:
\$ref: \'#/components/schemas/NadrfDataStoreRecord\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
storageAlertNotification:
\'{\$request.body#/delNotifUri}\':
post:
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/NadrfAlertNotification\'
responses:
\'200\':
description: The alert receipt is acknowledged and a planned action is
provided.
content:
application/json:
schema:
\$ref: \'#/components/schemas/NadrfAlertNotificationResponse\'
\'204\':
description: The alert receipt is acknowledged.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
get:
summary: Retrieves existing Individual ADRF Data Store Records.
operationId: GetAdrfDataStoreRecords
tags:
\- ADRF Data Store Records (Collection)
security:
\- {}
\- oAuth2ClientCredentials:
\- nnadrf-datamanagement
\- oAuth2ClientCredentials:
\- nnadrf-datamanagement
\- nnadrf-datamanagement:storagerequest
parameters:
\- name: store-trans-id
description: A storage transaction identifier of a data store record in ADRF.
in: query
required: false
schema:
type: string
\- name: fetch-correlation-ids
description: Fetch correlation identifiers received as part of fetch
instruction.
in: query
required: false
style: form
explode: false
schema:
type: array
items:
type: string
minItems: 1
\- name: data-set-id
description: The data set identifier.
in: query
required: false
schema:
type: string
responses:
\'200\':
description: Data store records are returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/NadrfDataStoreRecord\'
\'204\':
description: No matching ADRF data were found.
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/data-store-records/{storeTransId}:
delete:
summary: Delete an existing Individual ADRF Data Store Record.
operationId: DeleteADRFDataStoreRecord
tags:
\- Individual ADRF Data Store Record (Document)
parameters:
\- name: storeTransId
in: path
description: String identifying a Data Store Record in ADRF.
required: true
schema:
type: string
responses:
\'204\':
description: >
No Content. The Individual ADRF Data Store Record resource matching the
storeTransId was deleted.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/data-retrieval-subscriptions:
post:
summary: Creates a new Individual ADRF Data Retrieval Subscription resource.
operationId: CreateADRFDataRetrievalSubscription
tags:
\- ADRF Data Retrieval Subscriptions (Collection)
security:
\- {}
\- oAuth2ClientCredentials:
\- nnadrf-datamanagement
\- oAuth2ClientCredentials:
\- nnadrf-datamanagement
\- nnadrf-datamanagement:storagerequest
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/NadrfDataRetrievalSubscription\'
required: true
description: Individual ADRF Data Retrieval Subscription resource to be
created.
responses:
\'201\':
description: Created a new Individual ADRF Data Retrieval Subscription
resource.
headers:
Location:
description: >
Contains the URI of the newly created resource, according to the structure
{apiRoot}/nadrf-datamanagement/\/data-retrieval-
subscriptions/{subscriptionId}
required: true
schema:
type: string
content:
application/json:
schema:
\$ref: \'#/components/schemas/NadrfDataRetrievalSubscription\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
adrfDataRetrievalNotification:
\'{\$request.body#/notificationURI}\':
post:
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/NadrfDataRetrievalNotification\'
responses:
\'204\':
description: The receipt of the Notification is acknowledged.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/data-retrieval-subscriptions/{subscriptionId}:
delete:
summary: Delete an existing Individual ADRF Data Retrieval Subscription
resource.
operationId: DeleteADRFDataRetrievalSubscription
tags:
\- Individual ADRF Data Retrieval Subscription (Document)
security:
\- {}
\- oAuth2ClientCredentials:
\- nnadrf-datamanagement
\- oAuth2ClientCredentials:
\- nnadrf-datamanagement
\- nnadrf-datamanagement:storagerequest
parameters:
\- name: subscriptionId
in: path
description: >
String identifying a data retrieval subscription to the Nadrf_DataManagement
Service.
required: true
schema:
type: string
responses:
\'204\':
description: >
No Content. The Individual ADRF Data Retrieval Subscription resource matching
the subscriptionId was deleted.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/request-storage-sub:
post:
summary: Triggers the creation of a new ADRF Storage Subscription.
operationId: CreateADRFStorageSubscription
tags:
\- ADRF Storage Subscriptions
security:
\- {}
\- oAuth2ClientCredentials:
\- nnadrf-datamanagement
\- oAuth2ClientCredentials:
\- nnadrf-datamanagement
\- nnadrf-datamanagement:storagerequest
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/NadrfDataStoreSubscription\'
required: true
responses:
\'200\':
description: >
Successful response with reference used to identify the subscription at the
ADRF.
content:
application/json:
schema:
\$ref: \'#/components/schemas/NadrfDataStoreSubscriptionRef\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
storageSubAlertNotification:
\'{\$request.body#/delNotifUri}\':
post:
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/NadrfAlertNotification\'
responses:
\'200\':
description: The alert receipt is acknowledged and a planned action is
provided.
content:
application/json:
schema:
\$ref: \'#/components/schemas/NadrfAlertNotificationResponse\'
\'204\':
description: The alert receipt is acknowledged.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/request-storage-sub-removal:
post:
summary: Triggers the removal of ADRF storage subscription.
operationId: DeleteADRFStorageSubscription
tags:
\- ADRF Storage Subscriptions
security:
\- {}
\- oAuth2ClientCredentials:
\- nnadrf-datamanagement
\- oAuth2ClientCredentials:
\- nnadrf-datamanagement
\- nnadrf-datamanagement:storagerequest
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/NadrfDataStoreSubscriptionRef\'
required: true
responses:
\'204\':
description: >
No Content. The ADRF Storage Subscription matching the provided reference was
deleted.
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/remove-stored-data-analytics:
post:
summary: Remove ADRF data based on data or analytics specification.
operationId: DeleteADRFData
tags:
\- ADRF Stored Data
security:
\- {}
\- oAuth2ClientCredentials:
\- nnadrf-datamanagement
\- oAuth2ClientCredentials:
\- nnadrf-datamanagement
\- nnadrf-datamanagement:storagerequest
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/NadrfStoredDataSpec\'
required: true
responses:
\'204\':
description: No Content. The ADRF data matching the provided specification is
deleted.
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
#
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes:
nadrf-datamanagement: Access to the nadrf-datamanagement API
#
schemas:
#
NadrfDataStoreRecord:
description: Represents an Individual ADRF Data Store Record.
type: object
oneOf:
\- allOf:
\- required: [anaSub]
\- required: [anaNotifications]
\- allOf:
\- required: [dataSub]
\- required: [dataNotif]
properties:
dataNotif:
\$ref: \'#/components/schemas/DataNotification\'
anaNotifications:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/NnwdafEventsSubscriptionNotification\'
minItems: 1
description: List of analytics subscription notifications.
anaSub:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/NnwdafEventsSubscription\'
minItems: 1
description: >
Represents the subscription information of the corresponding analytics
notification.
dataSub:
type: array
items:
\$ref: \'#/components/schemas/DataSubscription\'
minItems: 1
description: >
Represents the subscription information of the corresponding data
notification.
storeHandl:
\$ref: \'#/components/schemas/StorageHandlingInfo\'
dataSetTag:
\$ref: \'#/components/schemas/DataSetTag\'
dsc:
type: string
description: Data synthesis and compression information.
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
#
NadrfDataStoreSubscription:
description: >
Contains information to be used by the ADRF to create a Data or Analytics
subscription.
type: object
allOf:
\- oneOf:
\- required: [anaSub]
\- required: [dataSub]
\- oneOf:
\- required: [targetNfId]
\- required: [targetNfSetId]
properties:
anaSub:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/NnwdafEventsSubscription\'
dataSetTag:
\$ref: \'#/components/schemas/DataSetTag\'
dataSub:
\$ref: \'#/components/schemas/DataSubscription\'
targetNfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
targetNfSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
formatInstruct:
\$ref:
\'TS29574_Ndccf_DataManagement.yaml#/components/schemas/FormattingInstruction\'
procInstruct:
\$ref:
\'TS29574_Ndccf_DataManagement.yaml#/components/schemas/ProcessingInstruction\'
multiProcInstructs:
type: array
items:
\$ref:
\'TS29574_Ndccf_DataManagement.yaml#/components/schemas/ProcessingInstruction\'
minItems: 1
description: Processing instructions to be used for sending event
notifications.
storeHandl:
\$ref: \'#/components/schemas/StorageHandlingInfo\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
#
NadrfDataRetrievalSubscription:
description: Represents an Individual ADRF Data Retrieval Subscription.
type: object
required:
\- notifCorrId
\- notificationURI
\- timePeriod
oneOf:
\- required: [anaSub]
\- required: [dataSub]
\- required: [dataSetId]
properties:
anaSub:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/NnwdafEventsSubscription\'
dataSetId:
type: string
description: data set identifier of the data or analytics that are subscribed.
dataSub:
\$ref: \'#/components/schemas/DataSubscription\'
notificationURI:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
timePeriod:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/TimeWindow\'
notifCorrId:
type: string
description: Notification correlation identifier.
consTrigNotif:
type: boolean
description: >
It indicates that notifications shall be buffered (sending only fetch
instructions
to the NF service consumer) until the NF service consumer requests their
delivery
using Nadrf_DataManagement Service.
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
#
NadrfDataRetrievalNotification:
description: >
Represents a notification that corresponds with an Individual ADRF Data
Retrieval Subscription.
type: object
required:
\- notifCorrId
\- timeStamp
oneOf:
\- required: [anaNotifications]
\- required: [dataNotif]
\- required: [fetchInstruct]
properties:
notifCorrId:
type: string
description: Notification correlation identifier.
anaNotifications:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/NnwdafEventsSubscriptionNotification\'
minItems: 1
description: List of analytics subscription notifications.
dataNotif:
\$ref: \'#/components/schemas/DataNotification\'
fetchInstruct:
\$ref:
\'TS29576_Nmfaf_3caDataManagement.yaml#/components/schemas/FetchInstruction\'#
terminationReq:
type: boolean
description: >
It indicates the termination of the data management subscription that
requested by the
ADRF.
dsc:
type: string
description: Data synthesis and compression information.
timeStamp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
#
NadrfDataStoreSubscriptionRef:
description: Contains a reference to a request for a Data or Analytics
subscription.
type: object
oneOf:
\- required: [transRefId]
\- required: [dataSetId]
properties:
transRefId:
type: string
description: Transaction reference identifier.
dataSetId:
type: string
description: data set identifier of data or analytics.
#
NadrfStoredDataSpec:
description: Contains information about Data or Analytics specification.
type: object
required:
\- timePeriod
oneOf:
\- required: [dataSpec]
\- required: [anaSpec]
\- required: [dataSetId]
properties:
dataSpec:
\$ref: \'#/components/schemas/DataSubscription\'
anaSpec:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/NnwdafEventsSubscription\'
timePeriod:
\$ref: \'TS29122_CommonData.yaml#/components/schemas/TimeWindow\'
dataSetId:
type: string
description: Data set identifier of stored data or analytics records.
#
DataSubscription:
description: Contains a data specification.
type: object
oneOf:
\- required: [amfDataSub]
\- required: [smfDataSub]
\- required: [udmDataSub]
\- required: [nefDataSub]
\- required: [afDataSub]
\- required: [nrfDataSub]
\- required: [nsacfDataSub]
\- required: [upfDataSub]
\- required: [gmlcDataSub]
properties:
amfDataSub:
\$ref:
\'TS29518_Namf_EventExposure.yaml#/components/schemas/AmfEventSubscription\'
smfDataSub:
\$ref:
\'TS29508_Nsmf_EventExposure.yaml#/components/schemas/NsmfEventExposure\'
udmDataSub:
\$ref: \'TS29503_Nudm_EE.yaml#/components/schemas/EeSubscription\'
afDataSub:
\$ref:
\'TS29517_Naf_EventExposure.yaml#/components/schemas/AfEventExposureSubsc\'
nefDataSub:
\$ref:
\'TS29591_Nnef_EventExposure.yaml#/components/schemas/NefEventExposureSubsc\'
nrfDataSub:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/SubscriptionData\'
nsacfDataSub:
\$ref:
\'TS29536_Nnsacf_SliceEventExposure.yaml#/components/schemas/SACEventSubscription\'
upfDataSub:
\$ref:
\'TS29564_Nupf_EventExposure.yaml#/components/schemas/UpfEventSubscription\'
gmlcDataSub:
\$ref: \'TS29515_Ngmlc_Location.yaml#/components/schemas/InputData\'
#
DataNotification:
description: Represents a Data Subscription Notification.
type: object
oneOf:
\- required: [amfEventNotifs]
\- required: [smfEventNotifs]
\- required: [udmEventNotifs]
\- required: [nefEventNotifs]
\- required: [afEventNotifs]
\- required: [nrfEventNotifs]
\- required: [nsacfEventNotifs]
\- required: [upfEventNotifs]
\- required: [gmlcEventNotifs]
properties:
amfEventNotifs:
type: array
items:
\$ref:
\'TS29518_Namf_EventExposure.yaml#/components/schemas/AmfEventNotification\'
minItems: 1
description: List of notifications of AMF events.
smfEventNotifs:
type: array
items:
\$ref:
\'TS29508_Nsmf_EventExposure.yaml#/components/schemas/NsmfEventExposureNotification\'
minItems: 1
description: List of notifications of SMF events.
udmEventNotifs:
type: array
items:
\$ref: \'TS29503_Nudm_EE.yaml#/components/schemas/MonitoringReport\'
minItems: 1
description: List of notifications of UDM events.
nefEventNotifs:
type: array
items:
\$ref:
\'TS29591_Nnef_EventExposure.yaml#/components/schemas/NefEventExposureNotif\'
minItems: 1
description: List of notifications of NEF events.
afEventNotifs:
type: array
items:
\$ref:
\'TS29517_Naf_EventExposure.yaml#/components/schemas/AfEventExposureNotif\'
minItems: 1
description: List of notifications of AF events.
nrfEventNotifs:
type: array
items:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/NotificationData\'
minItems: 1
description: List of notifications of NRF events.
nsacfEventNotifs:
type: array
items:
\$ref:
\'TS29536_Nnsacf_SliceEventExposure.yaml#/components/schemas/SACEventReport\'
minItems: 1
description: List of notifications of NSACF events.
upfEventNotifs:
type: array
items:
\$ref:
\'TS29564_Nupf_EventExposure.yaml#/components/schemas/NotificationData\'
minItems: 1
description: List of notifications of UPF events.
gmlcEventNotifs:
type: array
items:
\$ref: \'TS29515_Ngmlc_Location.yaml#/components/schemas/EventNotifyData\'
minItems: 1
description: List of notifications of GMLC events.
timeStamp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
#
StorageHandlingInfo:
description: Contains storage handling information about data or analytics.
type: object
properties:
lifetime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
delNotifUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
delNotifCorrId:
type: string
description: Notification correlation identifier for deletion alerts.
#
NadrfAlertNotification:
description: Contains information about data or analytics that are about to be
deleted.
type: object
properties:
alertStorTransId:
type: string
description: >
Storage transaction identifier that can be used to retrieve data or analytics.
delNotifCorrId:
type: string
description: Notification correlation identifier.
required:
\- alertStorTransId
\- delNotifCorrId
#
NadrfAlertNotificationResponse:
description: >
Contains information about planned actions related to data or analytics
that are about to be deleted.
type: object
properties:
retrievalInd:
type: boolean
description: >
Indicates if the NF service consumer has determined to retrieve the data
or analytics that are about to be deleted.
required:
\- retrievalInd
#
DataSetTag:
description: Contains an identifier and a description of associated records.
type: object
required:
\- dataSetId
properties:
dataSetId:
type: string
description: Data set identifier of data or analytics records.
dataSetDesc:
type: string
description: Data set description of data or analytics records.
#
# A.3 Nadrf_MLModelManagement API
openapi: 3.0.0
info:
version: 1.0.0-alpha.1
title: Nadrf_MLModelManagement
description: \|
ADRF ML Model Management Service.
Â© 2023, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.575 V18.3.0; 5G System; Analytics Data Repository
Services; Stage 3.
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.575/\'
#
servers:
\- url: \'{apiRoot}/nadrf-mlmodelmanagement/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501.
#
security:
\- {}
\- oAuth2ClientCredentials:
\- nadrf-mlmodelmanagement
#
paths:
/mlmodel-store-records:
post:
summary: Creates a new Individual ADRF ML Model Store Record resource.
operationId: CreateADRFMLModelStoreRecord
tags:
\- ADRF ML Model Store Records (Collection)
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/NadrfMLModelStoreRecord\'
required: true
description: ADRF ML model store record to be stored.
responses:
\'201\':
description: Successful creation of new Individual ADRF ML Model Store Record
resource.
headers:
Location:
description: >
Contains the URI of the newly created resource, according to the structure
{apiRoot}/nadrf-mlmodelmanagement/\/mlmodel-store-
records/{storeTransId}
required: true
schema:
type: string
content:
application/json:
schema:
\$ref: \'#/components/schemas/NadrfMLModelStoreRecord\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
get:
summary: Retrieves existing Individual ADRF ML Model Store Record.
operationId: GetAdrfMLModelStoreRecord
tags:
\- ADRF ML Model Store Records (Collection)
parameters:
\- name: store-trans-id
description: A storage transaction identifier of a ML model store record in
ADRF.
in: query
required: false
schema:
type: string
\- name: modelUniqueId
description: Unique Model identifier of a ML model.
in: query
required: false
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
minItems: 1
responses:
\'200\':
description: ML model store records are returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/NadrfMLModelStoreRecord\'
\'204\':
description: No matching ADRF ML Model were found.
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/mlmodel-store-records/{storeTransId}:
delete:
summary: Delete an existing Individual ADRF ML Model Store Record.
operationId: DeleteADRFMLModelStoreRecord
tags:
\- Individual ADRF ML Model Store Record (Document)
parameters:
\- name: storeTransId
in: path
description: String identifying a ML Model Store Record in ADRF.
required: true
schema:
type: string
responses:
\'204\':
description: >
No Content. The Individual ADRF ML Model Store Record resource matching the
storeTransId was deleted.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/remove-stored-mlmodel:
post:
summary: Remove stored ML model based on unique ML model identifier.
operationId: DeleteADRFMLModel
tags:
\- ADRF Stored ML Model
requestBody:
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/NadrfMLModelStoreRecord\'
minItems: 1
required: true
responses:
\'204\':
description: No Content. The ADRF ML model matching the provided unique ML
model identifier is deleted.
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
#
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes:
nadrf-mlmodelmanagement: Access to the nadrf-mlmodelmanagement API
#
schemas:
#
NadrfMLModelStoreRecord:
description: Represents an Individual ADRF ML Model Store Record.
type: object
allOf:
\- oneOf:
\- required: [nfInstanceId]
\- required: [nfSetId]
\- required: [mlModelIdnfo]
properties:
nfInstanceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
nfSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
mlModelInfo:
type: array
items:
\$ref: \'#/components/schemas/MLModelInfo\'
minItems: 1
description: List of ML Model Information.
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
#
MLModelInfo:
description: Represents informatiom of the ML Model.
type: object
allOf:
\- required: [modelUniqueId]
\- required: [mlFileAddr]
\- required: [mlStrorageSize]
properties:
modelUniqueId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
mlModelAddr:
\$ref:
\'TS29520_Nnwdaf_MLModelProvision.yaml#/components/schemas/MLModelAddr\'
mlStrorageSize:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
#
#