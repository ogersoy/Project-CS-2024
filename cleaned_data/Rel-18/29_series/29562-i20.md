# Foreword
This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
In the present document, modal verbs have the following meanings:
**shall** indicates a mandatory requirement to do something
**shall not** indicates an interdiction (prohibition) to do something
The constructions \"shall\" and \"shall not\" are confined to the context of
normative provisions, and do not appear in Technical Reports.
The constructions \"must\" and \"must not\" are not used as substitutes for
\"shall\" and \"shall not\". Their use is avoided insofar as possible, and
they are not used in a normative context except in a direct citation from an
external, referenced, non-3GPP document, or so as to maintain continuity of
style when extending or modifying the provisions of such a referenced
document.
**should** indicates a recommendation to do something
**should not** indicates a recommendation not to do something
**may** indicates permission to do something
**need not** indicates permission not to do something
The construction \"may not\" is ambiguous and is not used in normative
elements. The unambiguous constructions \"might not\" or \"shall not\" are
used instead, depending upon the meaning intended.
**can** indicates that something is possible
**cannot** indicates that something is impossible
The constructions \"can\" and \"cannot\" are not substitutes for \"may\" and
\"need not\".
**will** indicates that something is certain or expected to happen as a result
of action taken by an agency the behaviour of which is outside the scope of
the present document
**will not** indicates that something is certain or expected not to happen as
a result of action taken by an agency the behaviour of which is outside the
scope of the present document
**might** indicates a likelihood that something will happen as a result of
action taken by some agency the behaviour of which is outside the scope of the
present document
**might not** indicates a likelihood that something will not happen as a
result of action taken by some agency the behaviour of which is outside the
scope of the present document
In addition:
**is** (or any other verb in the indicative mood) indicates a statement of
fact
**is not** (or any other negative verb in the indicative mood) indicates a
statement of fact
The constructions \"is\" and \"is not\" do not indicate requirements.
# 1 Scope
The present document specifies the stage 3 protocol, including message flows
and API specification details, for the Nhss services, as part of the 5G
Service-Based Architecture, offered by the HSS.
The HSS services specified in the present document include:
\- Services for interworking with the IP Multimedia Subsystem (IMS)
\- Services for interworking with the Generic Bootstrapping Architecture (GBA)
NOTE: The HSS services for Interworking with the Unified Data Management (UDM)
Network Function are specified in 3GPP TS 29.563 [39].
The 5G System stage 2 architecture and procedures are specified in 3GPP TS
23.501 [2] and 3GPP TS 23.502 [3].
The IP Multimedia Subsystem (IMS) stage 2 architecture and procedures are
specified in 3GPP TS 23.228 [6].
The Technical Realization of the Service Based Architecture and the Principles
and Guidelines for Services Definition are specified in 3GPP TS 29.500 [4] and
3GPP TS 29.501 [5].
The stage 2 architecture and procedures of SBA-enabled GBA is specified in
3GPP TS 33.220 [40] and 3GPP TS 33.223 [41].
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".
[3] 3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".
[4] 3GPP TS 29.500: \"5G System; Technical Realization of Service Based
Architecture; Stage 3\".
[5] 3GPP TS 29.501: \"5G System; Principles and Guidelines for Services
Definition; Stage 3\".
[6] 3GPP TS 23.228: \"IP Multimedia Subsystem (IMS); Stage 2\".
[7] 3GPP TS 29.335: \"User Data Repository Access Protocol over the Ud
interface; Stage 3\".
[8] IETF RFC 7540: \"Hypertext Transfer Protocol Version 2 (HTTP/2)\".
[9] OpenAPI Initiative, \"OpenAPI Specification Version 3.0.0\",
https://spec.openapis.org/oas/v3.0.0.
[10] IETF RFC 8259: \"The JavaScript Object Notation (JSON) Data Interchange
Format\".
[11] IETF RFC 7807: \"Problem Details for HTTP APIs\".
[12] IETF RFC 6902: \"JavaScript Object Notation (JSON) Patch\".
[13] 3GPP TS 23.003: \"Numbering, addressing and identification\".
[14] 3GPP TS 33.203: \"Access security for IP-based services\".
[15] 3GPP TS 29.503: \"Unified Data Management Services; Stage 3\".
[16] 3GPP TS 29.571: \"5G System; Common Data Types for Service Based
Interfaces Stage 3\".
[17] IETF RFC 4740: \"Diameter Session Initiation Protocol (SIP)
Application\".
[18] 3GPP TS 24.229: \"IP multimedia call control protocol based on Session
Initiation Protocol (SIP) and Session Description Protocol (SDP); Stage 3\".
[19] IETF RFC 4412: \"Communications Resource Priority for the Session
Initiation Protocol\".
[20] 3GPP TS 29.228: \"IP Multimedia (IM) Subsystem Cx and Dx
interfaces;Signalling flows and message contents\".
[21] 3GPP TS 29.218: \"IP Multimedia (IM) session handling; IM call model;
Stage 2\".
[22] IETF RFC 3261: \"SIP: Session Initiation Protocol\".
[23] IETF RFC 8497: \"Marking SIP messages to be logged\".
[24] 3GPP TS 24.323: \"3GPP IP Multimedia Subsystem (IMS) service level
tracing Management Object (MO)\".
[25] 3GPP TS 23.060: \"General Packet Radio Service (GPRS); Service
description; Stage 2\".
[26] 3GPP TS 29.273: \"Evolved Packet System (EPS); 3GPP EPS AAA interfaces\".
[27] IETF RFC 4776: \"Dynamic Host Configuration Protocol (DHCPv4 and DHCPv6)
Option for Civic Addresses Configuration Information\".
[28] IETF RFC 2045: \"Multipurpose Internet Mail Extensions(MIME) Part One:
Format of Internet Message Bodies\".
[29] ETSI ES 283 034: \"Network Attachment Sub-System (NASS); e4 interface
based on the DIAMETER protocol\".
[30] 3GPP TS 29.002: \"Mobile Application Part (MAP) specification\".
[31] 3GPP TS 23.078: \"Customised Applications for Mobile network Enhanced
Logic (CAMEL) Phase 3 - Stage 2\".
[32] 3GPP TS 29.272: \"Evolved Packet System; MME and SGSN Related Interfaces
Based on Diameter Protocol\".
[33] 3GPP TS 29.518: 5G System; Access and Mobility Management Services; Stage
3\".
[34] 3GPP TR 21.900: \"Technical Specification Group working methods\".
[35] IETF RFC 6749: \"The OAuth 2.0 Authorization Framework\".
[36] 3GPP TS 29.510: \"Network Function Repository Services; Stage 3\".
[37] 3GPP TS 23.380: \"IP Multimedia Subsystem (IMS); IMS Restoration
Procedures\".
[38] 3GPP TS 29.328: \"IP Multimedia (IM) Subsystem Sh interface; Signalling
flows and message contents\".
[39] 3GPP TS 29.563: \"Home Subscriber Server (HSS) services for interworking
with Unified Data Management (UDM); Stage 3\".
[40] 3GPP TS 33.220: \"Generic Authentication Architecture (GAA); Generic
Bootstrapping Architecture (GBA)\".
[41] 3GPP TS 33.223: \"Generic Authentication Architecture (GAA); Generic
Bootstrapping Architecture (GBA) Push function\".
[42] 3GPP TS 29.309: \"Bootstrapping Server Function (GBA BSF) Services; Stage
3\".
[43] 3GPP TS 23.218: \"IP Multimedia (IM) session handling; IM call model;
Stage 2\".
# 3 Definitions of terms, symbols and abbreviations
## 3.1 Terms
The following terms and definitions given in TS 23.003 [13] apply:
**Distinct Public Service Identity**
**Distinct Public User Identity**
**Public Service Identity**
**Public User Identity**
**Wildcarded Public Service Identity**
**Wildcarded Public User Identity**
In the present document, the following terms and definitions apply.
**Common Part** (of a user profile): Contains Initial Filter Criteria
instances that should be evaluated both for registered and unregistered Public
User Identities, or for unregistered Public Service Identities in the S-CSCF.
**Complete user profile** : Contains the Initial Filter Criteria instances of
all three different user profile parts; registered part, unregistered part and
common part.
**IP Multimedia session:** IP Multimedia session and IP Multimedia call are
treated as equivalent in this specification.
**Authentication pending flag** : A flag that indicates that the
authentication of a Public User Identity - Private User Identity pair is
pending and waiting for confirmation.
**Implicitly registered Public User Identity set: A set of Public User
Identities, which are registered and de-registered simultaneously when any of
the Public User Identities belonging to that set is registered or de-
registered.**
**Not Registered State:** Public Identity is not Registered and has no S-CSCF
assigned.
**Private Identity:** Either a Private User Identity or a Private Service
Identity.
**Public Identity:** Either a Public User Identity or a Public Service
Identity.
**Registered State:** Public User Identity is Registered at the request of the
user and has an S-CSCF assigned.
**Unregistered State:** Public Identity is not Registered but has a serving
S-CSCF assigned to execute Unregistered state services as a consequence of a
terminating request, or an originating request from an AS on behalf of a user,
or there is an S-CSCF keeping the user profile stored.
**User information: The user related data that the S-CSCF requests from the
HSS or HSS pushes to the S-CSCF, e.g. user profile, charging information,
allowed WAF and/or WWSF identities and authentication information.**
**User profile: Data that is sent in the resource associated to the complete
user\'s subscription data.**
**IP Multimedia session:** IP Multimedia session and IP Multimedia call are
treated as equivalent in this specification.
**Transparent data** : Data that is understood syntactically but not
semantically by the HSS. It is data that an AS may store in the HSS to support
its service logic. One example is data that an AS stores in the HSS, using it
as a repository.
**Non-transparent data** : Data that is understood both syntactically and
semantically by the HSS.
**AS (Application Server)** : a term used to denote either of a SIP
Application Server or an OSA Service Capability Server.
## 3.2 Symbols
Void
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
5GC 5G Core Network
AS Application Server
AMF Access and Mobility Management Function
CSCF Call Session Control Function
CSG Closed Subscriber Group
DCSF Data Channel Signalling Function
FQDN Fully Qualified Domain Name
GIBA GPRS-IMS-Bundled-Authentication
GPSI Generic Public Subscription Identifier
HSS Home Subscriber Server
IMS IP Multimedia Subsystem
I-CSCF Interrogating CSCF
JSON Javascript Object Notation
MPS Multimedia Priority Service
NAI Network Access Identifier
NRF Network Repository Function
NSSAI Network Slice Selection Assistance Information
NWDAF Network Data Analytics Function
P-CSCF Proxy CSCF
SBI Service Based Interface
SIP Session Initiation Protocol
SPT Service Point Trigger
S-CSCF Serving CSCF
UDR Unified Data Repository
# 4 Overview
## 4.1 Introduction
Within the 5GC, the HSS offers services to the S-CSCF, I-CSCF, IMS-AS and DCSF
(on the IP Multimedia Subsystem) and GBA BSF via the Nhss service based
interface (see 3GPP TS 23.501 [2] and 3GPP TS 23.502 [3]).
Figure 4.1-1 provides the reference model in service-based interface
representation with focus on the HSS.
Figure 4.1-1: Reference model -- HSS
# 5 Services offered by the HSS
## 5.1 Introduction
The SBI capable HSS offers the following services via the Nhss_ims interface:
\- Nhss_imsUEContextManagement Service
\- Nhss_imsSubscriberDataManagement Service
\- Nhss_imsUEAuthentication Service
\- Nhss_gbaSubscriberDataManagement Service
\- Nhss_gbaUEAuthentication Service
Table 5.1-1 summarizes the corresponding APIs defined for this specification.
Table 5.1-1: API Descriptions
Service Name Clause Description OpenAPI Specification File apiName **Annex**
* * *
Nhss_imsUEContextManagement 6.1 Nhss UE Context Management Service for IMS
TS29562_Nhss_imsUECM.yaml nhss-ims-uecm A.2 Nhss_imsSubscriberDataManagement
6.2 Nhss Subscriber Data Management Service for IMS TS29562_Nhss_imsSDM.yaml
nhss-ims-sdm A.3 Nhss_imsUEAuthentication 6.3 Nhss UE Authentication Service
for IMS TS29562_Nhss_imsUEAU.yaml nhss-ims-ueau A.4
Nhss_gbaSubscriberDataManagement 6.4 Nhss Subscriber Data Management Service
for GBA TS29562_Nhss_gbaSDM.yaml nhss-gba-sdm A.5 Nhss_gbaUEAuthentication 6.5
Nhss UE Authentication Service for GBA TS29562_Nhss_gbaUEAU.yaml nhss-gba-ueau
A.6
All scenarios shown in the following clauses assume that the SBI capable HSS
is stateful and stores information in local memory. However, the SBI capable
HSS may be stateless and store information externally in the UDR. If so, the
stateless SBI capable HSS may use Ud interface as specified in 3GPP TS 29.335
[7] to retrieve required data from the UDR and store them locally before
processing an incoming request. Processing the incoming request may then
include updating data in the UDR. After processing the incoming request, the
SBI capable HSS may delete the locally stored data. When data stored in UDR is
then shared among the different SBI capable HSS instances of the same group,
as identified by HSS Group ID (see 3GPP TS 23.501 [2], clause 6.2.6), bulk
subscriptions, as described in clause 4.15.3.2.4 of 3GPP TS 23.502 [3], are
not applicable, i.e. an NF consumer (e.g. IMS-AS) only subscribes towards one
of the SBI capable HSS instances within the group.
Editor\'s Note: It is FFS if an informative Annex needs to be included to show
how an IMS-AS/I-CSCF/S-CSCF can interact with a group of stateless SBI capable
HSS instances.
## 5.2 Nhss_imsUEContextManagement Service
### 5.2.1 Service Description
See 3GPP TS 23.228 [6], clause AA.2.1.2.
### 5.2.2 Service Operations
#### 5.2.2.1 Introduction
For the Nhss_imsUEContextManagement service the following service operations
are defined:
\- Registration
\- DeregistrationNotification
\- Deregistration
\- Authorize
\- Update
\- RestorationInfoGet
\- RestorationInfoUpdate
\- RestorationInfoDelete
IMS restoration procedures are specified in 3GPP TS 23.380 [37].
The Nhss_imsUEContextManagement Service is used by Consumer NFs
(I-CSCF/S-CSCF) to:
\- register at the HSS by means of the Registration service operation (S-CSCF)
\- get notified by means of the DeregistrationNotification service operation
when HSS decides to deregister the registered consumer NF (S-CSCF)
\- deregister from the HSS by means of the Deregistration service operation
(S-CSCF)
\- request registration authorization from HSS by means of the Authorize
service operation (I-CSCF)
\- update registration information stored at the HSS by means of the Update
service operation (S-CSCF)
\- retrieve Restoration Information stored at the HSS by means of the
RestorationInfoGet service operation (S-CSCF)
\- update Restoration Information stored at the HSS by means of the
RestorationInfoUpdate service operation (S-CSCF)
\- delete Restoration Information stored at the HSS by means of the
RestorationInfoDelete service operation (S-CSCF)
#### 5.2.2.2 Registration
##### 5.2.2.2.1 General
The Registration service operation is invoked by a NF that has been selected
to provide service to the UE to store related IMS UE Context Management
information in HSS.
NF Consumer is S-CSCF.
As part of this procedure, the HSS updates the registration state of the
requested IMS Public Identity and IMS Private Identity. The state of the IMS
Public Identities in the same Implicit Registration Set is also updated.
The following procedures using the Registration service operation are
supported:
\- S-CSCF registration
##### 5.2.2.2.2 S-CSCF Registration
Figure 5.2.2.2.2-1 shows a scenario where the S-CSCF sends a request to
register at the HSS (see also 3GPP TS 23.228 [6] clause 5.2). The request
contains the IMS UE\'s identity (/{imsUeId}) which shall be an IMPU, the
S-CSCF Registration Information and the Registration Type.
Figure 5.2.2.2.2-1: S-CSCF registration
1\. The S-CSCF sends a PUT request to the resource representing the UE\'s
S-CSCF registration to update or create S-CSCF registration information. The
S-CSCF shall check whether there is a reg-id parameter in the Contact header
in the SIP REGISTER message. If a reg-id parameter exists, the S-CSCF shall
indicate to the HSS that the registration is related to a multiple
registration as specified in clause 4.2.3 of 3GPP TS 23.380 [37]. If the
S-CSCF received a S-CSCF reselection indicator from the I-CSCF, the S-CSCF
shall include that indicator to the HSS.
2a. If the resource already exists, and if the S-CSCF registered is the same
or if another S-CSCF is registered and S-CSCF reselection indication is
received, the HSS updates the scscfRegistration resource by replacing it with
the received resource information (e.g. S-CSCF name, state of the related IMS
public identity based on the imsRegistrationType received) and responds with
\"204 No Content\" or \"200 OK\" with the updated resource information and HSS
supported features.
Additionally, if the S-CSCF is reselected, the HSS shall invoke the
Deregistration Notification service operation towards the old S-CSCF using the
callback URI provided by the old S-CSCF with deregistration reason set to
\"NEW SERVER ASSIGNED\".
When receiving the \"200 OK\" response and if a multiple registration
indicator has indicated to the HSS, the S-CSCF shall retrieve and update the
restoration information as specified in clause 5.2.2.6 and clause 5.2.2.7.
2b. If the resource does not exist (there is no previous S-CSCF information
stored in HSS), HSS stores the received S-CSCF registration data and responds
with HTTP Status Code \"201 created\". A response body is included with the
created resource and the features supported by HSS.
2c. If the operation is not authorized due to e.g. received IMS identities do
not exist or do not match, or a different S-CSCF is registered and S-CSCF
reselection is not authorized, HTTP status code \"403 Forbidden\" should be
returned including additional error information in the response body (in
\"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the PUT response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
#### 5.2.2.3 DeregistrationNotification
##### 5.2.2.3.1 General
The following procedure using the DeregistrationNotification service operation
is supported:
\- HSS initiated Deregistration
##### 5.2.2.3.2 HSS initiated Deregistration
Figure 5.2.2.3.2-1 shows a scenario where the HSS notifies the registered NF
about the deregistration of one or more IMS Public Identities (see also 3GPP
TS 23.228 [6] clause 5.3.2.2.1). The request contains the callback URI for
deregistration notification as received by the HSS during registration, and
Deregistration Data.
Figure 5.2.2.3.2-1: HSS initiated NF Deregistration
1\. The HSS determines the need to deregister one or more public identities
and sends a POST request to the callbackReference as provided by the NF
service consumer (S-CSCF) during the registration.
NOTE: The callbackReference identifies a public identity or an IRS or a
Wildcarded PSI that shall be deregistered.
HSS includes DeregistrationData with the Deregistration Reason that triggered
the notification and additional information about the public identities that
shall be deregistered such as:
\- Private Identity of the public identity to be deregistered,
\- if several Private Identities with all associated Public Identities need to
be deregistered, the Associated Private Identities.
2a. On success, the NF service consumer responds with \"204 No Content\" or
with \"200 OK\" including additional information about the deregistration
result such as:
\- Associated Private Identities: it contains all Private Identities that have
been deregistered together with the one in the Private User Identity received
in the request,
\- Identities with Emergency Registration: This information element indicates
a list of pairs of private and public user identities which have not been de-
registered due to emergency registration.
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the POST response body.
In the case of redirection, the NF Service Consumer shall return 3xx status
code, which shall contain a Location header with an URI pointing to an
alternative notification endpoint.
#### 5.2.2.4 Deregistration
##### 5.2.2.4.1 General
The following procedures using the Deregistration service operation are
supported:
\- S-CSCF deregistration
##### 5.2.2.4.2 S-CSCF deregistration
Figure 5.2.2.4.2-1 shows a scenario where the S-CSCF sends a request to the
HSS to deregister a user (see also 3GPP TS 23.228 [6] clause 5.3.1). The
request contains the IMS UE\'s identity (/{imsUeId}) which shall be an IMPI or
an IMPU and the deregistration information.
Figure 5.2.2.4.2-1: S-CSCF deregistering
1\. The S-CSCF sends a PUT request to the resource representing the UE\'s CSCF
registration.
2a. The HSS shall check whether the received S-CSCF name matches the stored
S-CSCF. If the S-CSCF name is different, the HSS shall check whether the
S-CSCF reassignment is allowed (i.e. S-CSCF reassignment pending flag is set).
If an IMPI is received as ImsUeId, HSS shall deregister all IMPUs associated
to that IMPI.
If an IMPU is received as ImsUeId, HSS shall deregister the IMPU and related
IMPUs in the Implicit Registration Set for the related IMPI.
On success, HSS shall respond \"204 No Content\" or \"200 OK\".
2b. Otherwise the HSS responds with \"403 Forbidden\" (e.g. S-CSCF is not the
current S-CSCF assigned) or \"404 Not Found\" (e.g. IMPU or IMPI do not
exist).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the PUT response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
#### 5.2.2.5 Authorize
##### 5.2.2.5.1 General
The Authorize service operation is invoked by a NF to request UE authorization
to register or establish terminating /originating sessions in the IMS network.
NF Consumer is I-CSCF for IMS service.
As part of this procedure, the HSS authorizes or rejects the subscriber to use
the IMS service based on the authorization information provided in the request
and subscription data (e.g. roaming restrictions, barrings).
The following procedures using the Authorize service operation are supported:
\- Authorization request
##### 5.2.2.5.2 Authorization request
Figure 5.2.2.5.2-1 shows a scenario where the I-CSCF sends a request to the
HSS to authorize the UE to register in a given PLMN\'s P-CSCF or initiate a
session for unregistered services (see also 3GPP TS 23.228 [6] clause 5.2.2.3
or 5.12.2). The request contains the IMS UE\'s identity (/{imsUeId}) which
shall be an IMPU, and the AuthorizationRequest.
Figure 5.2.2.5.2-1: Authorization
1\. The I-CSCF sends a POST request (custom method: authorize) to request for
UE\'s authorization to register or establish an originating/terminating
session.
2a. If the operation cannot be authorized due to e.g. UE does not have
required subscription data, HTTP status code \"403 Forbidden\" should be
returned including additional error information in the response body (in
\"ProblemDetails\" element).
2b. If successful, HSS responds with HTTP Status Code \"200 OK\" and may
provide the S-CSCF identity which is serving the user, if any.
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the POST response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
#### 5.2.2.6 RestorationInfoGet
##### 5.2.2.6.1 General
The RestorationInfoGet service operation is invoked by a NF to retrieve
restoration information in HSS.
NF Consumer is S-CSCF.
The following procedures using the RestorationInfoGet service operation are
supported:
\- Restoration Information Retrieval
##### 5.2.2.6.2 Restoration Information Retrieval
Figure 5.2.2.6.2-1 shows a scenario where the NF service consumer (S-CSCF)
sends a request to the HSS to retrieve the information related to a specific
registration for a registered user (e.g. during a registration procedure,
during an originating request procedure or during a terminating request
procedure). The request contains the IMS UE\'s identity (/{imsUeId}) which
shall be an IMPU.
Figure 5.2.2.6.2-1: Restoration Information Retrieval
1\. The NF service consumer (S-CSCF) sends a GET request to the resource
representing the UE\'s S-CSCF restoration information.
2a. On success, the HSS responds with \"200 OK\" with the message body
containing the UE\'s S-CSCF restoration information. The S-CSCF shall send a
request to the HSS to retrieve the UE\'s IMS profile as specified in clause
5.3.2.2.4.
2b. If there is no valid restoration data for the UE, HTTP status code \"404
Not Found\" shall be returned and it should include additional error
information in the response body (in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
#### 5.2.2.7 RestorationInfoUpdate
##### 5.2.2.7.1 General
The RestorationInfoUpdate service operation is invoked by a NF to update
restoration information in HSS.
NF Consumer is S-CSCF.
The following procedures using the RestorationInfoUpdate service operation are
supported:
\- Restoration Information Update
##### 5.2.2.7.2 Restoration Information Update
S-CSCF backup and update of S-CSCF restoration information in HSS is specified
in clause 4.6 of 3GPP TS 23.380 [37].
Figure 5.2.2.7.2-1 shows a scenario where the S-CSCF sends a request to update
restoration information at the HSS (see also 3GPP TS 23.228 [6] clause 4.24).
The request contains the IMS UE\'s identity (/{imsUeId}) which shall be an
IMPU.
Figure 5.2.2.7.2-1: Restoration Information Update
1\. The S-CSCF sends a PUT request to the resource representing the UE\'s
S-CSCF restoration information to update or create S-CSCF restoration
information.
2a. If there are S-CSCF restoration information related to the IMS Public
Identity stored in the HSS, the HSS updates the Scscf Restoration Information
resource by replacing it with the received restoration information and
responds with \"200 OK\" or \"204 No Content\".
2b. If the resource does not exist (there is no previous S-CSCF restoration
information stored in HSS for that user), HSS stores the received S-CSCF
restoration data and responds with HTTP Status Code \"201 created\".
2c. If the request can\'t be accepted (e.g. the S-CSCF is not allowed to
create/update the restoration information), HTTP status code \"403 Forbidden\"
should be returned including additional error information in the response body
(in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the PUT response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
#### 5.2.2.8 RestorationInfoDelete
##### 5.2.2.8.1 General
The RestorationInfoDelete service operation is invoked by a NF to delete
restoration information in HSS.
NF Consumer is S-CSCF.
The S-CSCF consumes the RestorationInfoDelete service operation as a
consequence of subscriber deregistration (TIMEOUT_DEREGISTRATION,
USER_DEREGISTRATION, ADMINISTRATIVE_DEREGISTRATION). In restoration scenarios,
the new S-CSCF after successful retrieval of restoration data, consumes the
RestorationInfoDelete service operation to delete the restoration data stored
by the old S-CSCF.
The following procedures using the RestorationInfoDelete service operation are
supported:
\- Restoration Information Delete
##### 5.2.2.8.2 Restoration Information Delete
Figure 5.2.2.Z.2-1 shows a scenario where the S-CSCF sends a request to delete
restoration information at the HSS. The request contains the IMS UE\'s
identity (/{imsUeId}) which shall be an IMPU.
Figure 5.2.2.8.2-1: Restoration Information Delete
1\. The S-CSCF sends a DELETE request to the resource representing the UE\'s
S-CSCF restoration information to delete S-CSCF restoration information.
2a. If there are S-CSCF restoration information related to the IMS Public
Identity stored in the HSS, the HSS deletes the Scscf Restoration Information
resource by replacing it with the received restoration information and
responds with \"204 No Content\".
2b. If the request can\'t be accepted (e.g. the S-CSCF is not allowed to
delete the restoration information), HTTP status code \"403 Forbidden\" should
be returned including additional error information in the response body (in
the \"ProblemDetails\" element).
2c. If there is no valid S-CSCF restoration information, HTTP status code
\"404 Not Found\" should be returned including additional error information in
the response body (in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the DELETE response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
## 5.3 Nhss_imsSubscriberDataManagement Service
### 5.3.1 Service Description
See 3GPP TS 23.228 [6], clause AA.2.1.3.
### 5.3.2 Service Operations
#### 5.3.2.1 Introduction
For the Nhss_imsSubscriberDataManagement service the following service
operations are defined:
\- Get
\- Subscribe to notification of data changes and UE reachability for IP
\- Unsubscribe to notification of data changes and UE reachability for IP
\- Notification of data changes and UE reachability for IP
\- Update
The Nhss_imsSubscriberDataManagement Service is used by Consumer NFs (S-CSCF,
IMS-AS) to retrieve the UE\'s individual subscription data relevant to the
consumer NF, or by I-CSCF to retrieve S-CSCF capabilities or the assigned
S-CSCF, from the SBI capable HSS by means of the Get service operation. If the
consumer NF supports the feature \"sharedData\", the retrieved individual
subscription data for the UE may contain shared data identifier identifying
additional parts of subscription data shared by several UEs. If so, the
Nhss_imsSubscriberDataManagement Service is also used by Consumer NFs to:
\- retrieve shared subscription data from the HSS by means of the Get service
operation.
The Nhss_imsSubscriberDataManagement Service is also used by Consumer NFs to:
\- subscribe to notifications of data change by means of the Subscribe service
operation. If the consumer NF supports the feature \"sharedData\", the
consumer NF may also subscribe to notifications of shared data change by means
of the Subscribe service operation.
\- to unsubscribe from notifications of data changes by means of the
Unsubscribe service operation. If the feature \"sharedData\" is supported, it
may also be used to unsubscribe from notifications of shared data changes by
means of the Unsubscribe service operation.
\- get notified by means of the Notification service operation when HSS
decides to modify the subscribed data. If the feature \"sharedData\" is
supported by the consumer NF and the consumer NF has previously subscribed to
notifications of shared data change, it is also used by the consumer NF to get
notified by means of the Notification service operation when the HSS decides
to modify the subscribed shared data.
It is also used by Consumer NFs to:
\- provide the information about the status of the subscription data
management procedures.
\- update information (e.g. transparent data) associated to the subscription
data management.
#### 5.3.2.2 Get
##### 5.3.2.2.1 General
The following procedures using the Get service operation are supported:
\- Repository Data Retrieval
\- IMS Identity Data (e.g. IMS associated identities including Implicit
Registration Set and Alias Group) Retrieval
\- IMS Profile Data (e.g. IFCs) Retrieval
\- IMS Location Data Retrieval
\- IMS Registration Status Data Retrieval
\- Access Data (e.g. T-ADS) Retrieval
\- SRVCC Data (e.g. STN-SR) Retrieval
\- Service Data (e.g. DSAI) Retrieval
\- Retrieval Of Multiple Data Sets
\- Shared Subscription Data Retrieval
\- Trace Data Retrieval
\- PSI Activation State Retrieval
\- DSAI information Retrieval
\- S-CSCF Selection Assistance Information Retrieval
When the feature SharedData is supported and the retrieved UE-individual data
(i.e. data other than Shared Subscription Data) contain SharedDataIds, the NF
service consumer shall also retrieve the shared data identified by the
received shared data Ids unless the identified shared data are already
available at the NF service consumer. The order of sequence of sharedDataIds
within UE-individual data is significant: Individual data take precedence over
shared data; shared data \"SharedDataX\" identified by a sharedDataId X takes
precedence over shared data \"SharedDataY\" identified by a sharedDataId Y if
X appears before Y within the list of SharedDataIds in the UE-individual data.
##### 5.3.2.2.2 Identity Data
##### 5.3.2.2.2.1 IMS Identity Data Retrieval {#ims-identity-data-retrieval
.H6}
Figure 5.3.2.2.2.1-1 shows a scenario where the NF service consumer (IMS-AS)
sends a request to the HSS to receive the UE\'s IMS Identity Data for the IMS
associated Identities (IRS and Alias group information). The request contains
the UE\'s identity (/{imsUeId}), the type of the requested information
(/identities/ims-associated-identities) and query parameters (e.g. supported-
features).
Figure 5.3.2.2.2.1-1: IMS Identity Data Retrieval
1\. The NF service consumer (IMS-AS) sends a GET request to the resource
representing the UE\'s Identity Data for the IMS associated identities with
query parameters indicating the supported-features.
2a. On success, the HSS responds with \"200 OK\" with the message body
containing the UE\'s Implicit Registration Set (if any) and the Alias Group
information (if any) which the UE\'s identity belongs to as relevant for the
requesting NF service consumer. Additional information (e.g. distinct or
wildcarded type of identity, registration state of the IRS) is also included
in the response.
2b. If there is no valid subscription data for the UE, HTTP status code \"404
Not Found\" shall be returned and it should include additional error
information in the response body (in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.2.2.2 MSISDN(s) Retrieval {#msisdns-retrieval .H6}
Figure 5.3.2.2.2.2-1 shows a scenario where the NF service consumer (IMS-AS)
sends a request to the HSS to receive the UE\'s MSISDN(s). The request
contains the UE\'s identity (/{imsUeId}), the type of the requested
information (/identities/msisdns) and query parameters (e.g. supported-
features).
Figure 5.3.2.2.2.2-1: MSISDN(s) Retrieval
1\. The NF service consumer (IMS-AS) sends a GET request to the resource
representing the UE\'s MSISDN(s) with query parameters indicating the
supported-features.
2a. On success, the HSS responds with \"200 OK\" with the message body
containing the UE\'s MSISDN(s) as relevant for the requesting NF service
consumer. The type of MSISDN (basic/C-MSISDN or additional MSISDN) is included
in the response.
2b. If there is no valid subscription data for the UE, HTTP status code \"404
Not Found\" shall be returned and it should include additional error
information in the response body (in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.2.2.3 Private Identities Retrieval {#private-identities-retrieval
.H6}
Figure 5.3.2.2.2.3-1 shows a scenario where the NF service consumer (IMS-AS)
sends a request to the HSS to receive the UE\'s Private Identities (IMS
Private User Identity, IMSI). The request contains the UE\'s identity
(/{imsUeId}), the type of the requested information (/identities/private-
identities) and query parameters (e.g. supported-features).
Figure 5.3.2.2.2.3-1: Private Identities Retrieval
1\. The NF service consumer (IMS-AS) sends a GET request to the resource
representing the UE\'s Private Identities with query optional parameters
indicating the supported-features and/or impi.
2a. On success, the HSS responds with \"200 OK\" with the message body
containing the UE\'s Private Identities as relevant for the requesting NF
service consumer. The type of Private Identity (e.g. IMPI, IMSI) is included
in the response. If an impi was provided as query parameter in the GET
request, only the Private Identity of type IMSI that is associated with the
provided impi shall be returned.
2b. If there is no valid subscription data for the UE, HTTP status code \"404
Not Found\" shall be returned and it should include additional error
information in the response body (in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.2.2.4 IMEI(SV) Retrieval {#imeisv-retrieval .H6}
Figure 5.3.2.2.2.4-1 shows a scenario where the NF service consumer (e.g. IMS
AS) sends a request to the HSS to receive the IMEI(SV) for the UE. The request
contains the UE\'s identity (/{imsUeId}), the type of the requested
information (/identities/imeisv) and query parameters (e.g. supported-
features).
Figure 5.3.2.2.2.4-1: IMEI(SV) Retrieval
1\. The NF service consumer (e.g. IMS AS) sends a GET request to the resource
representing the UE\'s IMEI(SV) information with query parameters indicating
the supported-features.
2a. On success, the HSS responds with \"200 OK\" with the message body
containing the last known IMEI(SV) associated to the UE.
2b. If there is no valid subscription data for the UE, HTTP status code \"404
Not Found\" shall be returned and it should include additional error
information in the response body (in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.2.3 IMS Location Data and Status
##### 5.3.2.2.3.1 S-CSCF Capabilities Retrieval {#s-cscf-capabilities-
retrieval .H6}
Figure 5.3.2.2.3.1-1 shows a scenario where the NF service consumer (I-CSCF),
after authorization information has been performed without obtaining an S-CSCF
name, sends a request to the HSS to receive the UE\'s S-CSCF capabilities
(mandatory and/or optional). The request contains the UE\'s identity
(/{imsUeId}), the type of the requested information (/ims-data/location-
data/scscf-capabilities) and query parameters (e.g. supported-features).
Figure 5.3.2.2.3.1-1: S-CSCF Capabilities Retrieval
1\. The NF service consumer (I-CSCF) sends a GET request to the resource
representing the UE\'s S-CSCF capabilities with query parameters indicating
the supported-features.
2a. On success, the HSS responds with \"200 OK\" with the message body
containing the UE\'s S-CSCF capabilities relevant for the requesting NF
service consumer. The type of S-CSCF capabilities (mandatory and/or optional)
is included in the response.
2b. If there is no valid subscription data for the UE, HTTP status code \"404
Not Found\" shall be returned and it should include additional error
information in the response body (in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.2.3.2 Server Name Retrieval {#server-name-retrieval .H6}
Figure 5.3.2.2.3.2-1 shows a scenario where the NF service consumer (e.g. AS)
sends a request to the HSS to receive the Server Name (S-CSCF name) associated
to the UE. The request contains the UE\'s identity (/{imsUeId}), the type of
the requested information (ims-data/location-data/server-name) and query
parameters (e.g. supported-features).
Figure 5.3.2.2.3.2-1: Server Name Retrieval
1\. The NF service consumer (e.g. AS) sends a GET request to the resource
representing the UE\'s IMS location information with query parameters
indicating the supported-features.
2a. On success, the HSS responds with \"200 OK\" with the message body
containing the IMS location information (S-CSCF name) as relevant for the
service consumer.
2b. If there is no valid data for the UE, HTTP status code \"404 Not Found\"
shall be returned and it should include additional error information in the
response body (in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.2.3.3 IMS Registration Status Retrieval {#ims-registration-status-
retrieval .H6}
Figure 5.3.2.2.3.3-1 shows a scenario where the NF service consumer (e.g. AS)
sends a request to the HSS to IMS registration status of a user. The request
contains the UE\'s identity (/{imsUeId}), the type of the requested
information (ims-data/registration-status) and query parameters (e.g.
supported-features).
Figure 5.3.2.2.3.3-1: IMS Registration Status Retrieval
1\. The NF service consumer (e.g. AS) sends a GET request to the resource
representing the UE\'s IMS registration status with query parameters
indicating the supported-features.
2a. On success, the HSS responds with \"200 OK\" with the message body
containing the IMS registration status (e.g. unregistered) as relevant for the
service consumer.
2b. If there is no valid data for the UE, HTTP status code \"404 Not Found\"
shall be returned and it should include additional error information in the
response body (in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.2.3.4 S-CSCF Selection Assistance Information Retrieval {#s-cscf-
selection-assistance-information-retrieval .H6}
Figure 5.3.2.2.3.4-1 shows a scenario where the NF service consumer (I-CSCF),
sends a request to the HSS to receive the UE\'s S-CSCF Selection Assistance
Information. The request contains the UE\'s identity (/{imsUeId}), the type of
the requested information (/ims-data/location-data/scscf-selection-assistance-
info) and query parameters (e.g. supported-features).
5.3.2.2.3.4-1: S-CSCF Selection assistance Information Retrieval
1\. The NF service consumer (I-CSCF) sends a GET request to the resource
representing the UE\'s S-CSCF Selection Assistance Information with query
parameters indicating the supported-features.
2a. On success, the HSS responds with \"200 OK\" with the message body
containing the UE\'s S-CSCF Selection Assistance Information.
2b. If there is no valid subscription data for the UE, HTTP status code \"404
Not Found\" shall be returned and it should include additional error
information in the response body (in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.2.4 IMS Profile Data
##### 5.3.2.2.4.1 IMS User Profile Retrieval {#ims-user-profile-retrieval .H6}
Figure 5.3.2.2.4.1-1 shows a scenario where the NF service consumer (S-CSCF)
sends a request to the HSS to receive the UE\'s IMS profile data. The request
contains the UE\'s identity (/{imsUeId}), the type of the requested
information (/ims-data/profile-data) and query parameters (e.g. supported-
features).
Figure 5.3.2.2.4.1-1: IMS User Profile Retrieval
1\. The NF service consumer (S-CSCF) sends a GET request to the resource
representing the UE\'s IMS profile with query parameters indicating the
supported-features.
2a. On success, the HSS responds with \"200 OK\" with the message body
containing the UE\'s Profile Data as relevant for the requesting NF service
consumer. The Initial Filter Criteria (IFC) is included in the response.
Additional information (e.g. service priority information, chargingInfo,
serviceLevelTraceInfo, maxAllowedSimulReg), if any, may also be included.
2b. If there is no valid subscription data for the UE, HTTP status code \"404
Not Found\" shall be returned and it should include additional error
information in the response body (in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.2.4.2 Service Priority Level Information Retrieval {#service-
priority-level-information-retrieval .H6}
Figure 5.3.2.2.4.2-1 shows a scenario where the NF service consumer (e.g. AS)
sends a request to the HSS to receive the Service Priority levels allowed for
the UE. The request contains the UE\'s identity (/{imsUeId}), the type of the
requested information (ims-data/profile-data/priority-levels) and query
parameters (e.g. supported-features).
Figure 5.3.2.2.4.2-1: Service Priority Level Information Retrieval
1\. The NF service consumer (e.g. AS) sends a GET request to the resource
representing the UE\'s Service Priority Level with query parameters indicating
the supported-features.
2a. On success, the HSS responds with \"200 OK\" with the message body
containing the Namespaces and priority levels allowed for the user.
2b. If there is no valid subscription data for the UE, HTTP status code \"404
Not Found\" shall be returned and it should include additional error
information in the response body (in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.2.4.3 Initial Filter Criteria Retrieval {#initial-filter-criteria-
retrieval .H6}
Figure 5.3.2.2.4.3-1 shows a scenario where the NF service consumer (e.g. AS,
S-CSCF) sends a request to the HSS to receive the UE\'s Initial Filter
Criteria. The request contains the UE\'s identity (/{imsUeId}), the type of
the requested information (ims-data/profile-data/ifcs) and query parameters
(e.g. supported-features).
Figure 5.3.2.2.4.3-1: Initial Filter Criteria Retrieval
1\. The NF service consumer (e.g. AS) sends a GET request to the resource
representing the UE\'s IMS profile with query parameters indicating the
supported-features.
2a. On success, the HSS responds with \"200 OK\" with the message body
containing the UE\'s Initial Filter Criteria (possibly containing S-CSCF-
Specific IFC Set Identifiers, if supported and configured in S-CSCF) as
relevant for the requesting NF service consumer.
2b. If there is no valid subscription data for the UE, HTTP status code \"404
Not Found\" shall be returned and it should include additional error
information in the response body (in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.2.4.4 Service Trace Level Information Retrieval {#service-trace-
level-information-retrieval .H6}
Figure 5.3.2.2.4.4-1 shows a scenario where the NF service consumer (e.g. AS)
sends a request to the HSS to receive the UE\'s IMS service level trace
information associated to the UE. The request contains the UE\'s identity
(/{imsUeId}), the type of the requested information (ims-data/profile-data/
service-level-trace-info) and query parameters (e.g. supported-features).
Figure 5.3.2.2.4.4-1: Service Trace Level Information Retrieval
1\. The NF service consumer (e.g. AS) sends a GET request to the resource
representing the UE\'s IMS service level trace information with query
parameters indicating the supported-features.
2a. On success, the HSS responds with \"200 OK\" with the message body
containing the IMS service level trace information (see 3GPP TS 24.323 [24])
so that the service consumer performs logging at IMS service level as
described in IETF RFC 8497 [23].
2b. If there is no valid subscription data for the UE, HTTP status code \"404
Not Found\" shall be returned and it should include additional error
information in the response body (in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.2.4.5 Charging Information Retrieval {#charging-information-
retrieval .H6}
Figure 5.3.2.2.4.5-1 shows a scenario where the NF service consumer (e.g. AS)
sends a request to the HSS to receive the UE\'s charging information. The
request contains the UE\'s identity (/{imsUeId}), the type of the requested
information (ims-data/profile-data/ charging-info) and query parameters (e.g.
supported-features).
Figure 5.3.2.2.4.5-1: Charging Information Retrieval
1\. The NF service consumer (e.g. AS) sends a GET request to the resource
representing the UE\'s charging information with query parameters indicating
the supported-features.
2a. On success, the HSS responds with \"200 OK\" with the message body
containing the ChargingInfo.
2b. If there is no valid subscription data for the UE, HTTP status code \"404
Not Found\" shall be returned and it should include additional error
information in the response body (in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.2.5 Access Data
##### 5.3.2.2.5.1 Location Information Retrieval for CS/PS Domains {#location-
information-retrieval-for-csps-domains .H6}
Figure 5.3.2.2.5.1-1 shows a scenario where the NF service consumer (e.g. AS)
sends a request to the HSS to receive the Location Information associated to
the UE The request contains the UE\'s identity (/{imsUeId}), the type of the
requested information, the domain (cs-domain or ps-domain) requested (e.g.
ims-data/access-data/ps-domain/location-data) and query parameters (e.g.
supported-features, requested-nodes).
Figure 5.3.2.2.5.1-1: Location Information Retrieval for CS/PS Domains
1a. The NF service consumer (e.g. AS) sends a GET request to the resource
representing the UE\'s location information at PS domain with query parameters
indicating the supported-features and optionally the requested nodes (e.g.
MME, AMF)
1b. The NF service consumer (e.g. AS) sends a GET request to the resource
representing the UE\'s location information at CS domain with query parameters
indicating the supported-features.
2a. On success, the HSS responds with \"200 OK\" with the message body
containing the location information for the requested domain (PS) and the
requested nodes or all nodes (if no requested nodes were present in the
request)
2b. On success, the HSS responds with \"200 OK\" with the message body
containing the location information for the requested domain (CS).
2c. If there is no valid subscription data for the UE, HTTP status code \"404
Not Found\" shall be returned and it should include additional error
information in the response body (in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.2.5.2 IP Address Information Retrieval {#ip-address-information-
retrieval .H6}
Figure 5.3.2.2.5.2-1 shows a scenario where the NF service consumer (e.g. SCC-
AS) sends a request to the HSS to receive the IP Address of the UE. The
request contains the UE\'s identity (/{imsUeId}), the type of the requested
information (/access-data/ps-domain/ip-address) and query parameters (e.g.
supported-features).
Figure 5.3.2.2.5.2-1: IP Address Information Retrieval
1\. The NF service consumer (e.g. SCC-AS) sends a GET request to the resource
representing the UE\'s IP address information with query parameters indicating
the supported-features.
2a. On success, the HSS responds with \"200 OK\" with the message body
containing either an IPv4 address, IPv6 address or IPv6 prefix and/or IPv6
interface identifier.
2b. If there is no valid subscription data for the UE, HTTP status code \"404
Not Found\" shall be returned and it should include additional error
information in the response body (in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.2.5.3 T-ADS Information Retrieval {#t-ads-information-retrieval
.H6}
Figure 5.3.2.2.5.3-1 shows a scenario where the NF service consumer (e.g. SCC-
AS) sends a request to the HSS to receive the T-ADS information for the UE.
The request contains the UE\'s identity (/{imsUeId}), the type of the
requested information (/access-data/ps-domain/tads-info) and query parameters
(e.g. supported-features).
Figure 5.3.2.2.5.3-1: T-ADS Information Retrieval
1\. The NF service consumer (e.g. SCC-AS) sends a GET request to the resource
representing the UE\'s T-ADS information with query parameters indicating the
supported-features.
2a. On success, the HSS responds with \"200 OK\" with the message body
containing the most recent IMS Voice over PS Sessions support indication as
indicated by the serving nodes.for the user.
2b. If there is no valid subscription data for the UE, HTTP status code \"404
Not Found\" shall be returned and it should include additional error
information in the response body (in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.2.5.4 User State Retrieval for CS/PS Domains {#user-state-
retrieval-for-csps-domains .H6}
Figure 5.3.2.2.5.4-1 shows a scenario where the NF service consumer (e.g. AS)
sends a request to the HSS to receive the User State associated to the UE The
request contains the UE\'s identity (/{imsUeId}), the type of the requested
information, the domain (cs-domain or ps-domain) requested (e.g. ims-
data/access-data/ps-domain/user-state) and query parameters (e.g. supported-
features, requested-nodes).
Figure 5.3.2.2.5.4-1: User State Retrieval for CS/PS Domains
1a. The NF service consumer (e.g. AS) sends a GET request to the resource
representing the UE\'s user state information at PS domain with query
parameters indicating the supported-features and optionally the requested
nodes (e.g. MME, AMF)
1b. The NF service consumer (e.g. AS) sends a GET request to the resource
representing the UE\'s User State information at CS domain with query
parameters indicating the supported-features.
2a. On success, the HSS responds with \"200 OK\" with the message body
containing the User State information for the requested domain (PS) and the
requested nodes or all nodes (if no requested nodes were present in the
request)
2b. On success, the HSS responds with \"200 OK\" with the message body
containing the User State information for the requested domain (CS).
2c. If there is no valid subscription data for the UE, HTTP status code \"404
Not Found\" shall be returned and it should include additional error
information in the response body (in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.2.5.5 CSRN Retrieval {#csrn-retrieval .H6}
Figure 5.3.2.2.5.5-1 shows a scenario where the NF service consumer (e.g. SCC-
AS) sends a request to the HSS to receive a CS Domain Routeing Number (CSRN,
see 3GPP TS 23.003 [13]) for the UE. The request contains the UE\'s identity
(/{imsUeId}), the type of the requested information (/access-data/cs-
domain/csrn) and query parameters (e.g. supported-features, pre-paging).
Figure 5.3.2.2.5.5-1: T-ADS Information Retrieval
1\. The NF service consumer (e.g. SCC-AS) sends a GET request to the resource
representing the UE\'s CSRN information with query parameters indicating the
supported-features and/or pre-paging indication.
2a. On success, the HSS responds with \"200 OK\" with the message body
containing the CSRN as provided by the MSC/VLR.
2b. If there is no valid subscription data for the UE, HTTP status code \"404
Not Found\" shall be returned and it should include additional error
information in the response body (in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.2.5.6 Reference Location Information Retrieval {#reference-
location-information-retrieval .H6}
Figure 5.3.2.2.5.6-1 shows a scenario where the NF service consumer (e.g. IMS-
AS) sends a request to the HSS to receive the reference location information
for the UE. The request contains the UE\'s identity (/{imsUeId}), the type of
the requested information (/access-data/wireline-domain/reference-location)
and query parameters (e.g. supported-features).
Figure 5.3.2.2.5.6-1: Reference Location Information Retrieval
1\. The NF service consumer (e.g. IMS-AS) sends a GET request to the resource
representing the UE\'s reference location information with query parameters
indicating the supported-features.
2a. On success, the HSS responds with \"200 OK\" with the message body
containing the access type and/or the access info and associated value (line
identifier in fixed access networks).
2b. If there is no valid subscription data for the UE, HTTP status code \"404
Not Found\" shall be returned and it should include additional error
information in the response body (in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.2.6 SRVCC Data
##### 5.3.2.2.6.1 SRVCC Data Retrieval {#srvcc-data-retrieval .H6}
Figure 5.3.2.2.6.1-1 shows a scenario where the NF service consumer (e.g. AS)
sends a request to the HSS to retrieve the SRVCC data for the UE. The request
contains the UE\'s identity (/{imsUeId}), the type of the requested
information (/srvcc-data) and query parameters (e.g. supported-features).
Figure 5.3.2.2.6.2-1: SRVCC Data Retrieval
1\. The NF service consumer (e.g. AS) sends a GET request to the resource
representing the UE\'s SRVCC data information with query parameters indicating
the supported-features.
2a. On success, the HSS responds with \"200 OK\" with the message body
containing the STN-SR and the UE SRVCC capability for the user.
2b. If there is no valid SRVCC data for the UE, HTTP status code \"404 Not
Found\" shall be returned and it should include additional error information
in the response body (in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.2.7 Service Data
##### 5.3.2.2.7.1 PSI Activation State Retrieval {#psi-activation-state-
retrieval .H6}
Figure 5.3.2.2.7.1-1 shows a scenario where the NF service consumer (e.g. AS)
sends a request to the HSS to retrieve the PSI activation state. The request
contains the Public Service Identity (/{imsUeId}), the type of the requested
information (/service-data/psi-status) and query parameters (e.g. supported-
features).
Figure 5.3.2.2.7.1-1: PSI Activation State Retrieval
1\. The NF service consumer (e.g. AS) sends a GET request to the resource
representing the PSI activation state with query parameters indicating the
supported-features.
2a. On success, the HSS responds with \"200 OK\" with the message body
containing the PSI activation state (active or inactive).
2b. If there is no valid activation state for the PSI, HTTP status code \"404
Not Found\" shall be returned and it should include additional error
information in the response body (in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.2.7.2 SMS Registration Information retrieval {#sms-registration-
information-retrieval .H6}
Figure 5.3.2.2.7.2-1 shows a scenario where the NF service consumer (e.g. IP-
SM-GW) sends a request to the HSS to retrieve the SMS registration information
associated to a UE. The request contains the UE identity (/{imsUeId}), the
type of the requested information (/service-data/sms-registration-info) and
query parameters (e.g. supported-features).
Figure 5.3.2.2.7.2-1: SMS Registration Information Retrieval
1\. The NF service consumer (e.g. IP-SM-GW) sends a GET request to the
resource representing the SMS registration information with query parameters
indicating the supported-features.
2a. On success, the HSS responds with \"200 OK\" with the message body
containing the IP-SM-GW number and optionally the SC address.
2b. If there is no valid SMS registration information, HTTP status code \"404
Not Found\" shall be returned and it should include additional error
information in the response body (in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.2.7.3 DSAI Information retrieval {#dsai-information-retrieval .H6}
Figure 5.3.2.2.7.3-1 shows a scenario where the NF service consumer (e.g. IMS-
AS) sends a request to the HSS to retrieve the DSAI information associated to
an Application Server. The request contains the UE identity (/{imsUeId}), the
type of the requested information (/service-data/dsai) and query parameters
(e.g. Application Server Name).
Figure 5.3.2.2.7.3-1: DSAI Information Retrieval
1\. The NF service consumer (e.g. IMS-AS) sends a GET request to the resource
representing the DSAI information with query parameter indicating the
Application Server Name. Additional query parameters (e.g.supported-features)
may be included.
2a. On success, the HSS responds with \"200 OK\" with the message body
containing the DSAI tags and their respective status associated to the
received Application Server Name.
2b. If there are no DSAI tags for the Application Server, HTTP status code
\"404 Not Found\" shall be returned and it should include additional error
information in the response body (in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.2.8 Repository Data
##### 5.3.2.2.8.1 Repository Data Retrieval {#repository-data-retrieval .H6}
Figure 5.3.2.2.8.1-1 shows a scenario where the NF service consumer (IMS-AS)
sends a request to the HSS to receive the UE\'s Repository Data for a given
Service Indication. The request contains the UE\'s identity (/{imsUeId}), the
type of the requested information (/repository-data/{serviceIndication}) and
query parameters (e.g. supported-features).
Figure 5.3.2.2.8.1-1: Repository Data Retrieval
1\. The NF service consumer (IMS-AS) sends a GET request to the resource
representing the UE\'s Repository Data for a given Service Indication, with
query parameters indicating the supported-features.
2a. On success, the HSS responds with \"200 OK\" with the message body
containing the UE\'s Repository Data for the requested Service Indication as
relevant for the requesting NF service consumer.
2b. If there is no valid subscription data or Repository Data for the UE, HTTP
status code \"404 Not Found\" shall be returned and it should include
additional error information in the response body (in the \"ProblemDetails\"
element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.2.8.2 Repository Data Retrieval for multiple service indications
{#repository-data-retrieval-for-multiple-service-indications .H6}
Figure 5.3.2.2.8.2-1 shows a scenario where the NF service consumer (IMS-AS)
sends a request to the HSS to receive the UE\'s Repository Data for multiple
Service Indications. The request contains the UE\'s identity (/{imsUeId}), the
type of the requested information (/repository-data) and query parameters
(e.g. list of service indications, supported-features).
Figure 5.3.2.2.8.2-1: Repository Data Retrieval for multiple service
indications
1\. The NF service consumer (IMS-AS) sends a GET request to the resource
representing the UE\'s Repository Data, with query parameters indicating the
supported-features and list of service indications.
2a. On success, the HSS responds with \"200 OK\" with the message body
containing the UE\'s Repository Data for the requested Service Indications as
relevant for the requesting NF service consumer.
2b. If there is no valid subscription data or Repository Data for the UE, HTTP
status code \"404 Not Found\" shall be returned and it should include
additional error information in the response body (in the \"ProblemDetails\"
element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.2.9 Shared Subscription Data
##### 5.3.2.2.9.1 Shared Subscription Data Retrieval {#shared-subscription-
data-retrieval .H6}
Figure 5.3.2.2.9.1-1 shows a scenario where the NF service consumer
(e.g.S-CSCF) sends a request to the HSS to receive the shared subscription
data. The request contains the type of the requested information (/shared-
data) and query parameters (supportedFeatures, shared-data-id).
Figure 5.3.2.2.9.1-1: Shared Subscription Data Retrieval
1\. The NF service consumer (e.g. S-CSCF) sends a GET request to the resource
representing the SharedData, with query parameters indicating the
supportedFeatures and shared-data-id.
2a. On success, the HSS responds with \"200 OK\" with the message body
containing the SharedData.
2b. If there is no valid shared data for one or more of the shared-data-ids,
HTTP status code \"404 Not Found\" shall be returned including additional
error information in the response body (in the \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the GET response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
#### 5.3.2.3 Subscribe
##### 5.3.2.3.1 General
The following procedures using the Subscribe service operation are supported:
\- Subscription to notification of data change
\- Subscription to notification of UE reachability for IP
##### 5.3.2.3.2 Subscription to notifications of data change
Figure 5.3.2.3.2-1 shows a scenario where the NF service consumer (e.g.
S-CSCF) sends a request to the HSS to subscribe to notifications of data
change. The request contains a callback URI and the URI of the monitored
resource.
Figure 5.3.2.3.2-1: NF service consumer subscribes to notifications
1\. The NF service consumer sends a POST request to the parent resource
(collection of subscriptions) (.../{imsUeId}/sdm-subscriptions), to create a
subscription as present in message body.
2a. On success, the HSS responds with \"201 Created\" with the message body
containing a representation of the created subscription. The Location HTTP
header shall contain the URI of the created subscription.
2b. If there is no valid subscription data for the UE, HTTP status code \"404
Not Found\" shall be returned including additional error information in the
response body (in the \"ProblemDetails\" element).
2c. If the UE subscription data exist, but the requested subscription to data
change notification cannot be created (e.g. due to an invalid/unsupported data
reference to be monitored, contained in the ImsSdmSubscription parameter),
HTTP status code \"501 Not Implemented\" shall be returned including
additional error information in the response body (in the \"ProblemDetails\"
element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the POST response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.3.3 Subscription to notifications of shared data change
Figure 5.3.2.3.3-1 shows a scenario where the NF service consumer sends a
request to the HSS to subscribe to notifications of shared data change. The
request contains a callback URI and the URI of the monitored resource.
Figure 5.3.2.3.3-1: NF service consumer subscribes to notifications of shared
data change
1\. The NF service consumer sends a POST request to the parent resource
(collection of subscriptions) (.../shared-data-subscriptions), to create a
subscription as present in message body.
2a. On success, the HSS responds with \"201 Created\" with the message body
containing a representation of the created subscription. The Location HTTP
header shall contain the URI of the created subscription.
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the POST response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.3.4 Subscriptions to notification of UE Reachability for IP
Figure 5.3.2.3.4-1 shows a scenario where the NF service consumer (e.g. IP-SM-
GW) sends a request to the HSS to subscribe to UE reachability for IP. The
request contains the UE\'s identity (/{imsUeId}), the resource to be monitored
(/access-data/ps-domain/ue-reach-subscriptions), an expiry time, a callback
URI and query parameters (e.g. supported-features).
Subscriptions to notification on UE Reachability for IP are requests for a
one-time notification, i.e. after notification the subscription becomes
invalid.
Figure 5.3.2.3.4-1: Subscription to notification of UE reachability for IP
1\. The NF service consumer (e.g. IP-SM-GW) sends a POST request to the parent
resource (collection of UE reachability subscriptions) (.../{ueIdentity}/ue-
reach-subscriptions), to create a subscription to UE reachability for IP. The
request contains an expiry time, suggested by the NF Service Consumer,
representing the time upto which the subscription is desired to be kept active
and the time after which the UE reachability event shall not generate a
notification.
2a. On success, the HSS sets the URRP flag for the relevant serving nodes and
may contact UDM (see 3GPP TS 23.632, clause 5.4.5). The HSS responds with
\"201 Created\" with the message body containing a representation of the
created subscription. The Location HTTP header shall contain the URI of the
created subscription.
The response contains the expiry time, as determined by the HSS (possible
based on operator policy) after which the subscription becomes invalid. Once
the subscription expires, if the NF Service Consumer wants to keep receiving
notifications, it shall create a new subscription in the HSS. The NF Service
Producer shall not provide the same expiry time for many subscriptions in
order to avoid all of them expiring and recreating the subscription at the
same time.
2b. If the user does not exist, HTTP status code \"404 Not Found\" shall be
returned including additional error information in the response body (in the
\"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the POST response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
#### 5.3.2.4 Unsubscribe
##### 5.3.2.4.1 General
The following procedures using the Unsubscribe service operation are
supported:
\- Unsubscribe to notification of data change
\- Unsubscribe to notification of UE reachability for IP
##### 5.3.2.4.2 Unsubscribe to notifications of data change
Figure 5.3.2.4.2-1 shows a scenario where the NF service consumer (e.g.
S-CSCF) sends a request to the HSS to unsubscribe from notifications of data
changes. The request contains the URI previously received in the Location HTTP
header of the response to the subscription.
Figure 5.3.2.4.2-1: NF service consumer unsubscribes to notifications
1\. The NF service consumer sends a DELETE request to the resource identified
by the URI previously received during subscription creation.
2a. On success, the HSS responds with \"204 No Content\".
2b. If there is no valid subscription available (e.g. due to an unknown
subscriptionId value), HTTP status code \"404 Not Found\" should be returned
including additional error information in the response body (in the
\"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the DELETE response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.4.3 Unsubscribe to notifications of shared data change
Figure 5.3.2.4.3-1 shows a scenario where the NF service consumer sends a
request to the HSS to unsubscribe from notifications of shared data changes.
The request contains the URI previously received in the Location HTTP header
of the response to the subscription.
Figure 5.3.2.4.3-1: NF service consumer unsubscribes to notifications for
shared data
1\. The NF service consumer sends a DELETE request to the resource identified
by the URI previously received during subscription creation.
2a. On success, the HSS responds with \"204 No Content\".
2b. If there is no valid subscription available (e.g. due to an unknown
subscriptionId value), HTTP status code \"404 Not Found\" should be returned
including additional error information in the response body (in the
\"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the DELETE response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.4.4 Unsubscribe to notification of UE Reachability for IP
Figure 5.3.2.4.4-1 shows a scenario where the NF service consumer (e.g. IP-SM-
GW) sends a request to the HSS to unsubscribe from notifications of UE
Reachability for IP. The request contains the URI previously received in the
Location HTTP header of the response to the subscription.
Figure 5.3.2.4.4-1: Unsubscription to notification of UE reachability for IP
1\. The NF service consumer sends a DELETE request to the resource identified
by the URI previously received during subscription creation.
2a. On success, the HSS responds with \"204 No Content\".
2b. If there is no valid subscription available (e.g. due to an unknown
subscriptionId value), HTTP status code \"404 Not Found\" should be returned
including additional error information in the response body (in the
\"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the DELETE response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
#### 5.3.2.5 ModifySubscription
##### 5.3.2.5.1 General
The following procedures using the ModifySubscription service operation are
supported:
\- Modification of a Subscription to notification of data change (for UE
individual data)
\- Modification of a Subscription to notification of shared data change
\- Modification of a Subscription to notification of UE Reachability for IP
The ModifySubscription service operation can be used for the following
purpose:
\- Extend the expiry time of ImsSdmSubscription;
\- Extend the expiry time of UeReachabilitySubscription;
\- Modify the resource URIs to be monitored, e.g. add/remove resource URIs
to/from the monitored resource URI list.
##### 5.3.2.5.2 Modification of a subscription to notifications of data change
Figure 5.3.2.5.2-1 shows a scenario where the NF service consumer sends a
request to the HSS to modify a subscription to notifications of data changes.
The request contains the URI previously received in the Location HTTP header
of the response to the subscription.
Figure 5.3.2.5.2-1: NF service consumer modifies a subscription to
notifications
1\. The NF service consumer sends a PATCH request to the resource identified
by the URI previously received during subscription creation.
The NF service consumer may include \"monitoredResourceUris\" to replace the
existing monitored resource URIs, e.g. to add/remove specific resource URIs
from the monitored resource URI list.
2a. On success, the HSS responds with \"200 OK\" or \"204 No Content\".
2b. If there is no valid subscription available (e.g. due to an unknown
subscriptionId value), HTTP status code \"404 Not Found\" should be returned
including additional error information in the response body (in the
\"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the PATCH response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.5.3 Modification of a subscription to notifications of shared data
change
Figure 5.3.2.z.3-1 shows a scenario where the NF service consumer sends a
request to the HSS to modify a subscription to notifications of shared data
changes. The request contains the URI previously received in the Location HTTP
header of the response to the subscription.
Figure 5.3.2.5.3-1: NF service consumer modifies a subscription to
notifications for shared data
1\. The NF service consumer sends a PATCH request to the resource identified
by the URI previously received during subscription creation.
The NF service consumer may include \"monitoredResourceUris\" to replace the
existing monitored resource URIs, e.g. for the purposes to add/remove specific
resource URIs from the monitored resource URI list.
2a. On success, the HSS responds with \"200 OK\" or \"204 No Content\".
2b. If there is no valid subscription available (e.g. due to an unknown
subscriptionId value), HTTP status code \"404 Not Found\" should be returned
including additional error information in the response body (in the
\"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the PATCH response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.5.4 Modification of a subscription to notifications of data change
Figure 5.3.2.5.4-1 shows a scenario where the NF service consumer sends a
request to the HSS to modify a subscription to notifications of data changes.
The request contains the URI previously received in the Location HTTP header
of the response to the subscription.
Figure 5.3.2.5.4-1: NF service consumer modifies a subscription to
notifications
1\. The NF service consumer sends a PATCH request to the resource identified
by the URI previously received during subscription creation.
The NF service consumer includes a new expiry time, e.g. to extend the
monitoring time of the event.
2a. On success, the HSS responds with \"200 OK\" or \"204 No Content\".
2b. If there is no valid subscription available (e.g. due to an unknown
subscriptionId value), HTTP status code \"404 Not Found\" should be returned
including additional error information in the response body (in the
\"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the PATCH response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
#### 5.3.2.6 Notification
##### 5.3.2.6.1 General
The following procedures using the Notification service operation are
supported:
\- Data change notification to NF;
\- UE Reachability for IP notification to NF.
##### 5.3.2.6.2 Data Change Notification To NF
Figure 5.3.2.6.2-1 shows a scenario where the HSS notifies the NF service
consumer (that has subscribed to receive such notification) about subscription
data change. The request contains the callbackReference URI as previously
received in the ImsSdmSubscription.
Figure 5.3.2.6.2-1: Subscription Data Change Notification
1\. The HSS sends a POST request to the callbackReference as provided by the
NF service consumer during the subscription.
2\. The NF service consumer responds with \"204 No Content\".
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the POST response body.
In the case of redirection, the NF Service Consumer shall return 3xx status
code, which shall contain a Location header with an URI pointing to an
alternative notification endpoint.
##### 5.3.2.6.3 UE Reachability for IP Notification to NF
Figure 5.3.2.6.3-1 shows a scenario where the HSS notifies the NF service
consumer (that has subscribed to receive such notification) about subscription
data change. The request contains the callbackReference URI as previously
received in the UeReachabilitySubscription.
Figure 5.3.2.6.3-1: UE Reachability for IP Notification
1\. The HSS sends a POST request to the callbackReference as provided by the
NF service consumer during the subscription. The notification includes
information about UE reachability for IP event detected.
2\. The NF service consumer responds with \"204 No Content\".
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the POST response body.
In the case of redirection, the NF Service Consumer shall return 3xx status
code, which shall contain a Location header with an URI pointing to an
alternative notification endpoint.
#### 5.3.2.7 Update
##### 5.3.2.7.1 General
The following procedures using the Update service operation are supported:
\- Repository Data Create/Update/Delete
\- STN-SR update
\- SMS registration information Create/Update/Delete
\- PSI activation state Update
\- DSAI-tag activation state Update
##### 5.3.2.7.2 Repository Data Creation or Update
Figure 5.3.2.7.2-1 shows a scenario where the IMS-AS sends a request to the
HSS to create or update the repository data for a given service indication.
The request contains the UE\'s identity (/{imsUeId}) which shall be an IMS
Public Identity, the service indication and repository data with the
associated version (sequence number).
Figure 5.3.2.7.2-1: IMS AS creating or updating repository data
1\. The IMS AS sends a PUT request to the resource representing the UE\'s
Repository Data for a requested Service Indication.
The IMS AS may request the creation of the Repository Data (sequence number
equal to zero) or may request the update of the Repository Data (sequence
number greater than zero)
2a. On success, the HSS updates the RepositoryData resource by replacing it
with the received resource information, and responds with \"200 OK\" or \"204
No Content\".
2b. If the resource does not exist (there is no repository data associated to
the requested service indication), HSS stores the received Repository Data and
responds with HTTP Status Code \"201 created\". A response body may be
included to convey additional information to the NF consumer (e.g., features
supported by HSS).
2c. If the operation is not authorized due to e.g IMS AS does not have the
required permissions for the service indication and the operation requested,
HTTP status code \"403 Forbidden\" should be returned including additional
error information in the response body (in \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the PUT response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.7.3 Repository Data Deletion
Figure 5.3.2.7.3-1 shows a scenario where the IMS-AS sends a request to the
HSS to delete the repository data for a given service indication. The request
contains the UE\'s identity (/{imsUeId}) which shall be an IMS Public Identity
and the service indication.
Figure 5.3.2.7.3-1: IMS AS deleting repository data
1\. The IMS AS sends a DELETE request to the resource representing the UE\'s
Repository Data for a requested Service Indication.
2a. On success, the HSS deletes the resource and responds with \"204 No
Content\".
2b. If the repository data does not exist in the HSS, HTTP status code \"404
Not Found\" shall be returned including additional error information in the
response body (in the \"ProblemDetails\" element).
2c. If the operation is not authorized due to e.g IMS AS does not have the
required permissions for the service indication and operation requested, HTTP
status code \"403 Forbidden\" should be returned including additional error
information in the response body (in \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the DELETE response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.7.4 STN-SR update
Figure 5.3.2.7.4-1 shows a scenario where the IMS-AS sends a request to the
HSS to update the STN-SR. The request contains the UE\'s identity (/{imsUeId})
which shall be an IMS Public Identity or a Private Identity and an instruction
to modify the STN-SR.
Figure 5.3.2.7.4-1: IMS AS updating STN-SR
1\. The IMS AS sends a PATCH request to the resource representing the UE\'s
SRVCC Data.
2a. On success, the HSS responds with \"204 No Content\".
2b. If the resource does not exist (i.e. the user is not subscribed to SRVCC),
HTTP status code \"404 Not Found\" should be returned including additional
error information in the response body (in the \"ProblemDetails\" element).
2c. If the operation is not authorized due to e.g IMS AS does not have the
required permissions for the operation requested, HTTP status code \"403
Forbidden\" should be returned including additional error information in the
response body (in \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the PATCH response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.7.5 PSI activation state update
Figure 5.3.2.7.5-1 shows a scenario where the IMS-AS sends a request to the
HSS to update the PSI activation state. The request contains the Public
Service Identity (/{imsUeId}) and an instruction to modify the activation
state.
Figure 5.3.2.7.5-1: IMS AS updating a PSI activation state
1\. The IMS AS sends a PATCH request to the resource representing the PSI
activation state.
2a. On success, the HSS responds with \"204 No Content\".
2b. If the resource does not exist (i.e. the service does not exist), HTTP
status code \"404 Not Found\" should be returned including additional error
information in the response body (in the \"ProblemDetails\" element).
2c. If the operation is not authorized due to e.g IMS AS does not have the
required permissions for the operation requested, HTTP status code \"403
Forbidden\" should be returned including additional error information in the
response body (in \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the PATCH response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.7.6 SMS Registration Information Creation or Update
Figure 5.3.2.7.6-1 shows a scenario where the IMS-AS sends a request to the
HSS to create or update the SMS registration information. The request contains
the UE\'s identity (/{imsUeId}) which shall be an IMS Public Identity and the
SMS registration information (IP-SM-GW number).
Figure 5.3.2.7.6-1: IMS AS creating or updating the SMS registration
information
1\. The IMS AS sends a PUT request to the resource representing the UE\'s SMS
registration information. The request contains the IP-SM-GW number and, if s6c
is supported, the Diameter Identity and Diameter Realm of the IP-SM-GW.
If the IP-SM-GW supports SBI-based MT SM transmit, the \"SBI support
indication\" of the IP-SM-GW shall be included in the SMS Registration
Information.
2a. On success, the HSS updates the SMS registration information resource by
replacing it with the received resource information and responds with \"200
OK\" or \"204 No Content\".
2b. If the resource does not exist (there is no IP-SM-GW number associated to
the user), HSS stores the received SMS registration information and responds
with HTTP Status Code \"201 created\". A response body may be included to
convey additional information to the NF consumer (e.g., features supported by
HSS).
2c. If the operation is not authorized due to e.g IMS AS does not have the
required permissions or the IP-SM-GW number is pre-configured and cannot be
overwritten, HTTP status code \"403 Forbidden\" should be returned including
additional error information in the response body (in \"ProblemDetails\"
element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the PUT response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.7.7 SMS Registration Information Deletion
Figure 5.3.2.7.7-1 shows a scenario where the IMS-AS sends a request to the
HSS to delete the SMS registration information. The request contains the UE\'s
identity (/{imsUeId}) which shall be an IMS Public Identity.
Figure 5.3.2.7.7-1: IMS AS deleting SMS registration information
1\. The IMS AS sends a DELETE request to the resource representing the UE\'s
SMS registration information.
2a. On success, the HSS deletes the resource and responds with \"204 No
Content\".
2b. If the SMS registration information does not exist in the HSS, HTTP status
code \"404 Not Found\" shall be returned including additional error
information in the response body (in the \"ProblemDetails\" element).
2c. If the operation is not authorized due to e.g IMS AS does not have the
required permissions or the IP-SM-GW number is pre-configured and cannot be
deleted, HTTP status code \"403 Forbidden\" should be returned including
additional error information in the response body (in \"ProblemDetails\"
element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the DELETE response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
##### 5.3.2.7.8 DSAI tag activation state update
Figure 5.3.2.7.8-1 shows a scenario where the IMS-AS sends a request to the
HSS to update the DSAI tag activation state. The request contains the Public
Service Identity (/{imsUeId}) and an instruction to modify the activation
state of DSAI tag.
Figure 5.3.2.7.8-1: IMS AS updating DSAI tag activation state
1\. The IMS AS sends a PATCH request to the resource representing the DSAI tag
activation state.
2a. On success, the HSS responds with \"204 No Content\".
2b. If the resource does not exist (i.e. the service does not exist), HTTP
status code \"404 Not Found\" should be returned including additional error
information in the response body (in the \"ProblemDetails\" element).
2c. If the operation is not authorized due to e.g IMS AS does not have the
required permissions for the operation requested, HTTP status code \"403
Forbidden\" should be returned including additional error information in the
response body (in \"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the PATCH response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
## 5.4 Nhss_imsUEAuthentication Service
### 5.4.1 Service Description
See 3GPP TS 23.228 [6], clause AA.2.1.4.
### 5.4.2 Service Operations
#### 5.4.2.1 Introduction
For the Nhss_ imsUEAuthentication service the following service operation is
defined:
\- Get
The Nhss_ imsUEAuthentication Service is used by the S-CSCF to request the SBI
capable HSS to select an authentication method, calculate a fresh
authentication vector (AV) if required for the selected method, and provide it
to the S-CSCF by means of the Get service operation.
#### 5.4.2.2 Get
##### 5.4.2.2.1 General
The following procedures using the Get service operation are supported:
\- Authentication Information Retrieval
##### 5.4.2.2.2 Authentication Information Retrieval
Figure 5.4.2.2.2-1 shows a scenario where the NF service consumer (S-CSCF)
retrieves authentication information for the UE from the HSS. The request
contains the UE\'s identity (IMS Private Identity) and the SIP authentication
scheme and may contain resynchronization info.
Figure 5.4.2.2.2-1: NF service consumer requesting authentication information
1\. The NF service consumer sends a POST request (custom method: generate-sip-
auth-data) to the resource representing the UE\'s security information. The
payload shall contain the S-CSCF name, SIP authentication scheme and the
resynchronization info.
2a. The HSS responds with \"200 OK\" with the message body containing the
authentication data information.
2b. If the operation cannot be authorized due to e.g UE does not have required
subcription data, HTTP status code \"403 Forbidden\" should be returned
including additional error information in the response body (in
\"ProblemDetails\" element).
On failure, the appropriate HTTP status code indicating the error shall be
returned and appropriate additional error information should be returned in
the POST response body.
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
## 5.5 Nhss_gbaSubscriberDataManagement Service
### 5.5.1 Service Description
See 3GPP TS 33.220 [6], clause X.2.1.2.
### 5.5.2 Service Operations
#### 5.5.2.1 Introduction
For the Nhss_gbaSubscriberDataManagement service the following service
operations are defined:
\- Get
\- Subscribe
\- Unsubscribe
\- Modification of subscription
\- Notification
The Nhss_gbaSubscriberDataManagement Service is used by Consumer NFs (GBA BSF)
to:
\- fetch the GBA subscriber data for the UE
\- subscribe/unsubscribe, and to be notified, when data previously requested
have changed
#### 5.5.2.2 Get
##### 5.5.2.2.1 General
The following procedures using the Get service operation are supported:
\- Retrieval of GBA subscriber data
##### 5.5.2.2.2 Retrieval of GBA subscriber data
Figure 5.5.2.2.2-1 shows a scenario where the GBA BSF sends a request to the
HSS to retrieve the GBA subscriber data. The request contains the UE\'s
identity (/{ueId}) which shall be one of IMSI, MSISDN, IMPI, IMPU.
Figure 5.5.2.2.2-1: Retrieval of GBA subscriber data
1\. The GBA BSF sends a GET request to the resource representing the UE\'s GBA
subscriber data.
2a. Upon success, the HSS responds with \"200 OK\" with the GBA subscriber
data (containing, e.g. the GBA User Security Settings, GUSS) in the response
body, and HSS supported features.
2b. If the operation is not authorized due to, e.g. received UE identity not
being allowed for GBA services, or the requesting node not being authorized to
fetch the requested data, HTTP status code \"403 Forbidden\" shall be returned
including additional error information in the response body (in
\"ProblemDetails\" data structure).
2c. If the UE identity is not found in HSS, HTTP status code \"404 Not Found\"
shall be returned including additional error information in the response body
(in \"ProblemDetails\" data structure).
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
#### 5.5.2.3 Subscribe
##### 5.5.2.3.1 General
The following procedures using the Subscribe service operation are supported:
\- Subscription to changes on the GBA subscriber data
##### 5.5.2.3.2 Subscription to changes on the GBA subscriber data
Figure 5.5.2.3.2-1 shows a scenario where the GBA BSF sends a request to the
HSS to subscribe to changes on a previously retrieved GBA subscriber data. The
request contains the UE\'s identity (/{ueId}) which shall be one of IMSI,
MSISDN, IMPI, IMPU.
Figure 5.5.2.3.2-1: Subscription to changes on the GBA subscriber data
1\. The GBA BSF sends a POST request to the collection resource representing
the subscriptions to changes on the UE\'s GBA subscriber data. The request
body contains a URI where subsequent notification shall be sent by HSS.
2a. Upon success, the HSS responds with \"200 OK\" with the GBA SDM
subscription data in the response body, and HSS supported features.
2b. If the operation is not authorized due to, e.g. received UE identity not
being allowed for GBA services, or the requesting node not being authorized to
subscribe to changes on GBA subscriber data, HTTP status code \"403
Forbidden\" shall be returned including additional error information in the
response body (in \"ProblemDetails\" data structure).
2c. If the UE identity is not found in HSS, HTTP status code \"404 Not Found\"
shall be returned including additional error information in the response body
(in \"ProblemDetails\" data structure).
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
#### 5.5.2.4 Unsubscribe
##### 5.5.2.4.1 General
The following procedures using the Unsubscribe service operation are
supported:
\- Unsubscribe to changes on the GBA subscriber data
##### 5.5.2.4.2 Unsubscribe to changes on the GBA subscriber data
Figure 5.5.2.4.2-1 shows a scenario where the GBA BSF sends a request to the
HSS to unsubscribe to changes on a previously retrieved GBA subscriber data.
The request contains the UE\'s identity (/{ueId}) which shall be one of IMSI,
MSISDN, IMPI, IMPU.
Figure 5.5.2.4.2-1: Deletion of a subscription to changes on the GBA
subscriber data
1\. The GBA BSF sends a DELETE request to the resource representing the
individual subscription (subscriptionID) to changes on the UE\'s GBA
subscriber data.
2a. Upon success, the HSS responds with \"204 No Content\".
2b. If the operation is not authorized due to, e.g. received UE identity not
being allowed for GBA services, or the requesting node not being authorized to
subscribe/unsubscribe to changes on GBA subscriber data, HTTP status code
\"403 Forbidden\" shall be returned including additional error information in
the response body (in \"ProblemDetails\" data structure).
2c. If the UE identity is not found in HSS, HTTP status code \"404 Not Found\"
shall be returned including additional error information in the response body
(in \"ProblemDetails\" data structure).
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
#### 5.5.2.5 Modification of Subscription
##### 5.5.2.5.1 General
The following procedures using the Modification of Subscription service
operation are supported:
\- Modification of Subscription to changes on the GBA subscriber data
##### 5.5.2.5.2 Modification of Subscription to changes on the GBA subscriber
data
Figure 5.5.2.5.2-1 shows a scenario where the GBA BSF sends a request to the
HSS to modify a subscription to changes (e.g. to extend its expiration
lifetime) on a previously retrieved GBA subscriber data. The request contains
the UE\'s identity (/{ueId}) which shall be one of IMSI, MSISDN, IMPI, IMPU.
Figure 5.5.2.5.2-1: Modification of Subscription to changes on the GBA
subscriber data
1\. The GBA BSF sends a PATCH request to the resource representing the
individual subscription to changes on the UE\'s GBA subscriber data
(identified by its subscriptionID).
2a. Upon success, if some of the changes, but not all, have been accepted, the
HSS responds with \"200 OK\" with the new GBA SDM subscription data in the
response body.
2b. Upon success, if all the changes have been accepted, the HSS responds with
\"204 No Content\".
2c. If the operation is not authorized due to the requesting node not being
authorized to modify the subscription to changes on GBA subscriber data, HTTP
status code \"403 Forbidden\" shall be returned including additional error
information in the response body (in \"ProblemDetails\" data structure).
2d. If the subscriptionId is not found in HSS, HTTP status code \"404 Not
Found\" shall be returned including additional error information in the
response body (in \"ProblemDetails\" data structure).
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
#### 5.5.2.5 Notify
##### 5.5.2.5.1 General
The following procedures using the Notify service operation are supported:
\- Notification of changes on the GBA subscriber data
##### 5.5.2.5.2 Notification of changes on the GBA subscriber data
Figure 5.5.2.5.2-1 shows a scenario where the HSS sends a notification to the
GBA BSF to inform of changes on a previously retrieved GBA subscriber data.
Figure 5.5.2.5.2-1: Subscription to changes on of GBA User Security data
1\. The GBA BSF sends a POST request to the notification URI previously
provided by the GBA BSF during the subscription request (see clause
5.5.2.3.1).
2a. Upon success, the HSS responds with \"204 No Content\".
2b. If the UE identity contained in the NotificationData is not found in GBA
BSF, HTTP status code \"404 Not Found\" shall be returned including additional
error information in the response body (in \"ProblemDetails\" data structure).
In the case of redirection, the GBA BSF shall return 3xx status code, which
shall contain a Location header with an URI pointing to the endpoint of
another GBA BSF instance capable of handling the notification request.
## 5.6 Nhss_gbaUEAuthentication Service
### 5.6.1 Service Description
See 3GPP TS 33.220 [6], clause X.2.1.3.
### 5.6.2 Service Operations
#### 5.6.2.1 Introduction
For the Nhss_gbaUEAuthentication service the following service operations are
defined:
\- Get
The Nhss_gbaUEAuthentication Service is used by Consumer NFs (GBA BSF) to:
\- request the authentication data of the UE
#### 5.6.2.2 Get
##### 5.6.2.2.1 General
The following procedures using the Get service operation are supported:
\- Request UE authentication data
##### 5.6.2.2.2 Request UE authentication data
Figure 5.6.2.2.2-1 shows a scenario where the GBA BSF sends a request to the
HSS to retrieve UE authentication data (authentication vectors) for GBA. The
request contains the UE\'s identity (/{ueId}) which shall be one of IMSI,
MSISDN, IMPI, IMPU.
Figure 5.6.2.2.2-1: Request UE authentication data
1\. The GBA BSF sends a POST request (custom method: generate-auth-data) to
the HSS.
2a. Upon success, the HSS responds with \"200 OK\" with the
AuthenticationInfoResult data structure (containing authentication vectors) in
the response body, and HSS supported features.
2b. If the operation is not authorized due to, e.g. received UE identity not
being allowed for GBA services, or the requesting node not being authorized to
fetch the requested data, HTTP status code \"403 Forbidden\" shall be returned
including additional error information in the response body (in
\"ProblemDetails\" data structure).
2c. If the UE identity is not found in HSS, HTTP status code \"404 Not Found\"
shall be returned including additional error information in the response body
(in \"ProblemDetails\" data structure).
In the case of redirection, the HSS shall return 3xx status code, which shall
contain a Location header with an URI pointing to the endpoint of another HSS
(service) instance.
# 6 API Definitions
## 6.1 Nhss_imsUEContextManagement Service API
### 6.1.1 Introduction
URIs of this API shall have the following root:
{apiRoot}/{apiName}/{apiVersion}/
where \"apiRoot\" is defined in clause 4.4.1 of 3GPP TS 29.501 [5], the
\"apiName\" shall be set to \"nhss-ims-uecm\" and the \"apiVersion\" shall be
set to \"v1\" for the current version of this specification.
### 6.1.2 Usage of HTTP
#### 6.1.2.1 General
HTTP/2, as defined in IETF RFC 7540 [8], shall be used as specified in clause
5 of 3GPP TS 29.500 [4].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].
HTTP messages and bodies for the Nhss_imsUECM service shall comply with the
OpenAPI [9] specification contained in Annex A.2.
#### 6.1.2.2 HTTP standard headers
##### 6.1.2.2.1 General
The usage of HTTP standard headers shall be supported as specified in clause
5.2.2 of 3GPP TS 29.500 [4].
##### 6.1.2.2.2 Content type
The following content types shall be supported:
\- JSON, as defined in IETF RFC 8259 [10], signalled by the content type
\"application/json\".
\- The Problem Details JSON Object (IETF RFC 7807 [11] signalled by the
content type \"application/problem+json\".
\- JSON Patch, as defined in IETF RFC 6902 [12], signalled by the content type
\"application/json-patch+json\".
#### 6.1.2.3 HTTP custom headers
##### 6.1.2.3.1 General
The usage of HTTP custom headers shall be supported as specified in clause
5.2.3 of 3GPP TS 29.500 [4].
### 6.1.3 Resources
#### 6.1.3.1 Overview
Figure 6.1.3.1-1: Resource URI structure of the Nhss_imsUECM API
Table 6.1.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 6.1.3.1-1: Resources and methods overview
+----------------+----------------+----------------+----------------+ | Resource name\ | Resource URI | HTTP method or | Description | | (Archetype) | | custom | | | | | operation | | +================+================+================+================+ | Scsc | / | PUT | Create or | | fRegistration\ | {imsUeId}/scsc | | update the | | (Document) | f-registration | | S-CSCF | | | | | registration | | | | | state of the | | | | | UE | +----------------+----------------+----------------+----------------+ | | | | | +----------------+----------------+----------------+----------------+ | Authorize\ | /{i | authorize | Authorize the | | (Custom | mpu}/authorize | | requested | | operation) | | (POST) | operation for | | | | | the UE | +----------------+----------------+----------------+----------------+ | Scscf | /{imsUeId} | GET | Retrieve the | | Restoration | /scscf-registr | | S-CSCF | | Information | ation/scscf-re | | restoration | | | storation-info | | information. | | (Document) | | | | +----------------+----------------+----------------+----------------+ | | | PUT | Update the | | | | | S-CSCF | | | | | restoration | | | | | information. | +----------------+----------------+----------------+----------------+ | | | DELETE | Delete the | | | | | S-CSCF | | | | | restoration | | | | | information. | +----------------+----------------+----------------+----------------+
#### 6.1.3.2 Resource: Scscf Registration
##### 6.1.3.2.1 Description
This resource represents the registered S-CSCF.
##### 6.1.3.2.2 Resource Definition
Resource URI: {apiRoot}**/** nhss-ims-
uecm**/**{apiVersion}**/**{imsUeId}/scscf-registration
This resource shall support the resource URI variables defined in table
6.1.3.2.2-1.
Table 6.1.3.2.2-1: Resource URI variables for this resource
+------------+--------------------------------------------------------+ | Name | Definition | +============+========================================================+ | apiRoot | See clause 6.1.1 | +------------+--------------------------------------------------------+ | apiVersion | See clause 6.1.1 | +------------+--------------------------------------------------------+ | imsUeId | Represents the IMS Subscription Identifier, either the | | | IMS Public Identity (i.e. IMPU or Public PSI) or the | | | Private Identity (i.e. IMPI or PSI). See | | | 3GPP TS 23.228 [6] clause 4.3). | | | | | | IMS Public Identity is used with the PUT method; | | | | | | IMS Public Identity or IMS Private Identity is used | | | with the PATCH methods. | | | | | | Pattern: | | | \"\^(impu-sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$ | | | ,;?\/]+)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a- | | | z]{2,}\|impu-tel\:\\+[0-9]{5,15}\|impi-.+\|.+)\$\" | +------------+--------------------------------------------------------+
##### 6.1.3.2.3 Resource Standard Methods
##### 6.1.3.2.3.1 PUT {#put .H6}
This method shall support the URI query parameters specified in table
6.1.3.2.3.1-1.
Table 6.1.3.2.3.1-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
6.1.3.2.3.1-2 and the response data structures and response codes specified in
table 6.1.3.2.3.1-3.
Table 6.1.3.2.3.1-2: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description ScscfRegistration M 1 S-CSCF registration
for indicated IMS Public Identity is updated with the received information.
* * *
Table 6.1.3.2.3.1-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Scsc | M | 1 | 201 Created | A response | | fRegistration | | | | body | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | individual | | | | | | scsc | | | | | | fRegistration | | | | | | resource for | | | | | | the received | | | | | | IMS Public | | | | | | Identity | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | Scsc | M | 1 | 200 OK | A response | | fRegistration | | | | body | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | individual | | | | | | scsc | | | | | | fRegistration | | | | | | resource for | | | | | | the received | | | | | | IMS Public | | | | | | Identity | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | ExtendedP | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | IDE | | | | | | NTITY_ALREAD | | | | | | Y_REGISTERED | | | | | | In this case | | | | | | include | | | | | | invalidParams | | | | | | with | | | | | | c | | | | | | scfServerName | | | | | | as param and | | | | | | with value of | | | | | | the currently | | | | | | assigned | | | | | | S-CSCF name | | | | | | in the | | | | | | A | | | | | | dditionalInfo | | | | | | | | | | | | - | | | | | | IDENTITIES_D | | | | | | O_NOT_MATCH | | | | | | | | | | | | - | | | | | | ERR | | | | | | OR_IN_REGIS | | | | | | TRATION_TYPE | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.2.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.1.3.2.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.1.3.2.3.1-6: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/nhss-ims-
uecm/\/{imsUeId}/scscf-registration
* * *
##### 6.1.3.2.4 Resource Custom Operations
There are no custom operations associated to resources.
#### 6.1.3.3 Resource: Scscf Restoration Information
##### 6.1.3.3.1 Description
This resource represents the IMS restoration information. It is queried by the
service consumer (S-CSCF) to retrieve the information required for an S-CSCF
to handle the requests for a user.
##### 6.1.3.3.2 Resource Definition
Resource URI: **{** apiRoot}/nhss-ims-
uecm**/**{apiVersion}**/**{imsUeId}/scscf-registration/scscf-restoration-info
This resource shall support the resource URI variables defined in table
6.1.3.3.2-1.
Table 6.1.3.3.2-1: Resource URI variables for this resource
+------------+--------------------------------------------------------+ | Name | Definition | +============+========================================================+ | apiRoot | See clause 6.1.1 | +------------+--------------------------------------------------------+ | apiVersion | See clause 6.1.1 | +------------+--------------------------------------------------------+ | imsUeId | Represents the IMS Public Identity (i.e. IMS Public | | | User identity or Public Service Identity) | | | | | | pattern: | | | \"\^(impu-sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$ | | | ,;?\/]+)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a- | | | z]{2,}\|impu-tel\:\\+[0-9]{5,15}\|impi-.+\|.+)\$\" | +------------+--------------------------------------------------------+
##### 6.1.3.3.3 Resource Standard Methods
##### 6.1.3.3.3.1 GET {#get-4 .H6}
This method shall support the URI query parameters specified in table
6.1.3.3.3.1-1.
Table 6.1.3.3.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
6.1.3.3.3.1-2 and the response data structures and response codes specified in
table 6.1.3.3.3.1-3.
Table 6.1.3.3.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.1.3.3.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Sc | M | 1 | 200 OK | A response | | scfRestoratio | | | | body | | nInfoResponse | | | | containing | | | | | | information | | | | | | for the | | | | | | S-CSCF to | | | | | | handle the | | | | | | requests for | | | | | | a user. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | | | | | | | NOTE: | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | indicates | | | | | | that there is | | | | | | no | | | | | | restoration | | | | | | info stored | | | | | | under the | | | | | | scscf | | | | | | -registration | | | | | | resource. | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.3.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.1.3.3.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
##### 6.1.3.3.3.2 PUT {#put-1 .H6}
This method shall support the URI query parameters specified in table
6.1.3.3.3.2-1.
Table 6.1.3.3.3.2-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
6.1.3.3.3.2-2 and the response data structures and response codes specified in
table 6.1.3.3.3.2-3.
Table 6.1.3.3.3.2-2: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description ScscfRestorationInfoRequest M 1 S-CSCF
restoration information for indicated IMS Public Identity is updated with the
received information.
* * *
Table 6.1.3.3.3.2-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Sc | M | 1 | 201 Created | Upon success, | | scfRestoratio | | | | a response | | nInfoResponse | | | | body | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | individual | | | | | | ScscfRe | | | | | | storationInfo | | | | | | resource for | | | | | | the received | | | | | | IMS Public | | | | | | Identity | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | Sc | M | 1 | 200 OK | Upon success, | | scfRestoratio | | | | a response | | nInfoResponse | | | | body | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | individual | | | | | | ScscfRe | | | | | | storationInfo | | | | | | resource | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | | | | | | | | | | | | NOTE: | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | | | | | | indicates the | | | | | | S-CSCF is not | | | | | | allowed to | | | | | | create/update | | | | | | the | | | | | | restoration | | | | | | information. | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.3.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.1.3.3.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.1.3.3.3.2-6: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/nhss-ims-
uecm/\/{imsUeId}/scscf-registration/scscf-restoration-info
* * *
##### 6.1.3.3.3.3 DELETE {#delete .H6}
This method shall support the URI query parameters specified in table
6.1.3.3.3.3-1.
Table 6.1.3.3.3.3-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
6.1.3.3.3.3-2 and the response data structures and response codes specified in
table 6.1.3.3.3.3-3.
Table 6.1.3.3.3.3-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a M 1 The request body shall be empty.
* * *
Table 6.1.3.3.3.3-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | | | | | | | | | | | | NOTE: | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | | | | | | indicates the | | | | | | S-CSCF is not | | | | | | allowed to | | | | | | delete the | | | | | | restoration | | | | | | information | | | | | | stored in the | | | | | | HSS. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | | | | | | | NOTE: | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | indicates | | | | | | that there is | | | | | | no | | | | | | restoration | | | | | | info stored | | | | | | under the | | | | | | scscf | | | | | | -registration | | | | | | resource. | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.3.3.3-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.1.3.3.3.3-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
### 6.1.4 Custom Operations without associated resources
#### 6.1.4.1 Overview
Table 6.1.4.1-1: Custom operations without associated resources
Custom operation URI Mapped HTTP method Description
* * *
/{impu}/authorize POST Authorize the requested operation for the UE
#### 6.1.4.2 Operation: Authorize
##### 6.1.4.2.1 Description
This resource represents the information that is needed to authorize a UE to
register or establish sessions in the IMS domain. See 3GPP TS 23.228 [6].
##### 6.1.4.2.2 Operation Definition
This resource shall support the resource URI variables defined in table
6.1.4.2.2-1.
Table 6.1.4.2.2-1: URI variables for this resource
Name Definition
* * *
apiRoot See clause 6.1.1 apiVersion See clause 6.1.1 impu Represents the IMS
Public Identity (i.e. IMPU or Public PSI). See 3GPP TS 23.228 [6] clause 4.3).
This operation shall support the request data structures specified in table
6.1.4.2.2-1 and the response data structure and response codes specified in
table 6.1.4.2.2-2.
Table 6.1.4.2.2-1: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description AuthorizationRequest M 1 Contains input
for authorization, such as the authorization type or the visited network
identifier.
* * *
Table 6.1.4.2.2-2: Data structures supported by the POST Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Authoriz | M | 1 | 200 OK | A response | | ationResponse | | | | body | | | | | | containing | | | | | | result | | | | | | information | | | | | | or the | | | | | | registered | | | | | | S-CSCF shall | | | | | | be returned. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | IDENTITY_NO | | | | | | T_REGISTERED | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | AUTHORIZAT | | | | | | ION_REJECTED | | | | | | | | | | | | - | | | | | | IDENTITIES | | | | | | _DONT_MATCH | +---------------+---+-------------+---------------+---------------+
Table 6.1.4.2.2-3: Headers supported by the 307 Response Code on this resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.1.4.2.2-4: Headers supported by the 308 Response Code on this resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
### 6.1.5 Notifications
#### 6.1.5.1 General
#### 6.1.5.2 Deregistration Notification
The POST method shall be used for Deregistration Notifications and the URI
shall be as provided during the registration procedure.
Resource URI: {callbackReference}
Support of URI query parameters is specified in table 6.1.5.2-1.
Table 6.1.5.2-1: URI query parameters supported by the POST method
* * *
Name Data type P Cardinality Description n/a
* * *
Support of request data structures is specified in table 6.1.5.2-2 and of
response data structures and response codes is specified in table 6.1.5.2-3.
Table 6.1.5.2-2: Data structures supported by the POST Request Body
* * *
Data type P Cardinality Description DeregistrationData M 1 Includes
Deregistration Reason and identities to be deregistered
* * *
Table 6.1.5.2-3: Data structures supported by the POST Response Body
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | Dereg | | | 200 OK | Upon success | | istrationData | | | | or partial | | | | | | success, | | | | | | Dereg | | | | | | istrationData | | | | | | shall be | | | | | | returned | | | | | | including | | | | | | additional | | | | | | information | | | | | | about the | | | | | | result of the | | | | | | procedure. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI. The URI | | | | | | shall be an | | | | | | alternative | | | | | | URI of the | | | | | | notification | | | | | | endpoint of | | | | | | the | | | | | | subscribing | | | | | | NF Service | | | | | | Consumer. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI. The URI | | | | | | shall be an | | | | | | alternative | | | | | | URI of the | | | | | | notification | | | | | | endpoint of | | | | | | the | | | | | | subscribing | | | | | | NF Service | | | | | | Consumer. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | CONTEX | | | | | | T_NOT_FOUND | +---------------+---+-------------+---------------+---------------+
Table 6.1.5.2-4: Headers supported by the 307 Response Code on this resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the notification endpoint of the subscribing NF Service Consumer. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
ID towards which the request is redirected.
* * *
Table 6.1.5.2-5: Headers supported by the 308 Response Code on this resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the notification endpoint of the subscribing NF Service Consumer. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
ID towards which the request is redirected.
* * *
### 6.1.6 Data Model
#### 6.1.6.1 General
This clause specifies the application data model supported by the API.
Table 6.1.6.1-1 specifies the data types defined for the Nhss_imsUECM service-
based interface protocol.
Table 6.1.6.1-1: Nhss_imsUECM specific Data Types
Data type Clause defined Description Applicability
* * *
AuthorizationRequest 6.1.6.2.2 Information for the type of authorization
requested and the visited PLMN-ID  
AuthorizationResponse 6.1.6.2.3 Result of the authorization requested for
registration.  
ScscfRestorationInfo 6.1.6.2.4 Information required for an S-CSCF to handle
the requests for a user.  
ScscfRestorationInfoRequest 6.1.6.2.5 Scscf restoration information request.  
ScscfRestorationInfoResponse 6.1.6.2.6 Result of the scscf restoration
information request.  
RestorationInfo 6.1.6.2.7 Information related to a specific registration
required for an S-CSCF to handle the requests for a user.  
UeSubscriptionInfo 6.1.6.2.8 UE\'s subscription information.  
PcscfSubscriptionInfo 6.1.6.2.9 P-CSCF\'s subscription information.  
ScscfRegistration 6.1.6.2.10 Registration information of the S-CSCF for the
registered UE.  
ExtendedProblemDetails 6.1.6.2.11  
AdditionalInfo 6.1.6.2.12  
DeregistrationData 6.1.6.2.13  
DeregistrationReason 6.1.6.2.14  
EmergencyRegisteredIdentity 6.1.6.2.15
Table 6.1.6.1-2 specifies data types re-used by the Nhss_imsUECM service-based
interface protocol from other specifications, including a reference to their
respective specifications and when needed, a short description of their use
within the Nhss_imsUECM service-based interface.
Table 6.1.6.1-2: Nhss_imsUECM re-used Data Types
Data type Reference Comments Applicability
* * *
Uri 3GPP TS 29.571 [16] Uniform Resource Identifier  
SupportedFeatures 3GPP TS 29.571 [16] see 3GPP TS 29.500 [4] clause 6.6  
DateTime 3GPP TS 29.571 [16] String with format \"date-time\" as defined in
OpenAPI Specification [9]  
ProblemDetails 3GPP TS 29.571 [16] Response body of error response messages.  
RedirectResponse 3GPP TS 29.571 [16] Response body of redirect response
messages.  
ScscfSelectionAssistanceInformation 6.2.6.2.51 This information shall be used
by the I-CSCF to select an S-CSCF for the UE
#### 6.1.6.2 Structured data types
##### 6.1.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 6.1.6.2.2 Type: AuthorizationRequest
Table 6.1.6.2.2-1: Definition of type AuthorizationRequest
Attribute name Data type P Cardinality Description Applicability
* * *
authorizationType AuthorizationType M 1 Contains the type of the authorization
requested  
impi Impi O 1 Contains an IMS Private User Identity. It shall be present when
the authorization requested is for a registration or de-registration.  
visitedNetworkIdentifier string O 1 Contains the identifier of the visited
network where the P-CSCF is located. It shall be present when the
authorization requested is for a registration or de-registration.
##### 6.1.6.2.3 Type: AuthorizationResponse
Table 6.1.6.2.3-1: Definition of type AuthorizationResponse
* * *
Attribute name Data type P Cardinality Description Applicability
* * *
authorizationResult AuthorizationResult M 1 Contains the details of the
granted authorization.
cscfServerName string C 0..1 Contains the stored S-CSCF name in SIP URI
format. It shall be present if there is a S-CSCF name stored for the
associated IMS subscription.
scscfSelectionAssistanceInfo ScscfSelectionAssistanceInformation C 0..1
Contains information needed by the I-CSCF to select an S-CSCF for the UE.\  
Shall be present if cscfServerName is absent.
* * *
##### 6.1.6.2.4 Type: ScscfRestorationInfo
Table 6.1.6.2.4-1: Definition of type ScscfRestorationInfo
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | userName | Uri | O | 0..1 | R | | | | | | | egistered | | | | | | | Private | | | | | | | Identity | | | | | | | of the | | | | | | | user for | | | | | | | whom the | | | | | | | data is | | | | | | | required. | | | | | | | | | | | | | | If the | | | | | | | userName | | | | | | | is NULL, | | | | | | | it means | | | | | | | that an | | | | | | | S-CSCF | | | | | | | request | | | | | | | all | | | | | | | regi | | | | | | | strations | | | | | | | for all | | | | | | | the | | | | | | | private | | | | | | | i | | | | | | | dentities | | | | | | | r | | | | | | | egistered | | | | | | | in the | | | | | | | S-CSCF. | | +-----------+-----------+---+-----------+-----------+-----------+ | restor | arra | O | 0..N | This IE | | | ationInfo | y(Restora | | | shall | | | | tionInfo) | | | contain | | | | | | | the | | | | | | | in | | | | | | | formation | | | | | | | related | | | | | | | to a | | | | | | | specific | | | | | | | reg | | | | | | | istration | | | | | | | required | | | | | | | for an | | | | | | | S-CSCF to | | | | | | | handle | | | | | | | the | | | | | | | requests | | | | | | | for a | | | | | | | user. | | +-----------+-----------+---+-----------+-----------+-----------+ | r | DateTime | O | 1 | This IE | | | egistrati | | | | indicates | | | onTimeOut | | | | the point | | | | | | | of time | | | | | | | at which | | | | | | | the UE\'s | | | | | | | reg | | | | | | | istration | | | | | | | expires. | | +-----------+-----------+---+-----------+-----------+-----------+ | sipAu | SipAu | O | 1 | This IE | | | thenticat | thenticat | | | indicates | | | ionScheme | ionScheme | | | the | | | | | | | authe | | | | | | | ntication | | | | | | | scheme to | | | | | | | be used | | | | | | | in the | | | | | | | authe | | | | | | | ntication | | | | | | | of SIP | | | | | | | requests. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.5 Type: ScscfRestorationInfoRequest
Table 6.1.6.2.5-1: Definition of type ScscfRestorationInfoRequest
Attribute name Data type P Cardinality Description Applicability
* * *
scscfRestorationInfoRequest ScscfRestorationInfo M 1 This IE shall contain the
information related to a specific registration required for an S-CSCF to
handle the requests for the users.
##### 6.1.6.2.6 Type: ScscfRestorationInfoResponse
Table 6.1.6.2.6-1: Definition of type ScscfRestorationInfoResponse
Attribute name Data type P Cardinality Description Applicability
* * *
scscfRestorationInfoResponse array(ScscfRestorationInfo) M 1..N This IE shall
contain the response information related to a specific or all registrations
required for an S-CSCF.
##### 6.1.6.2.7 Type: RestorationInfo
Table 6.1.6.2.7-1: Definition of type RestorationInfo
Attribute name Data type P Cardinality Description Applicability
* * *
path string M 1 This IE shall contain a comma separated list of SIP proxies in
the Path header.  
contact string M 1 This IE shall contain the Contact Addresses and Parameters
in the Contact header.  
initialCSeqSequenceNumber Uint32 O 1 This IE contains the sequence number of
the CSeq header field contained in the initial successful REGISTER request.  
callIdSipHeader string O 1 This IE contains the information in the Call-ID
header.  
uesubscriptionInfo UeSubscriptionInfo O 1 This IE contains the UE\'s
subscription information.  
pcscfSubscriptionInfo PcscfSubscriptionInfo O 1 This IE contains the P-CSCF\'s
subscription information.  
imsSdmSubscriptions map(ImsSdmSubscription) O 1..N A map (list of key-value
pairs where subscriptionId serves as key) of imsSdmSubscriptions.
##### 6.1.6.2.8 Type: UeSubscriptionInfo
Table 6.1.6.2.8-1: Definition of type UeSubscriptionInfo
Attribute name Data type P Cardinality Description Applicability
* * *
callIdSipHeader string M 1 This IE contains the information in the Call-ID
header.  
fromSipHeader string M 1 This IE shall contain the information in the From
header.  
toSipHeader string M 1 This IE shall contain the information in the To header.  
recordRoute string M 1 This IE shall contain a comma separated list of Record
Route header(s).  
contact string M 1 This IE shall contain the Contact Addresses and Parameters
in the Contact header.
##### 6.1.6.2.9 Type: PcscfSubscriptionInfo
Table 6.1.6.2.9-1: Definition of type PcscfSubscriptionInfo
Attribute name Data type P Cardinality Description Applicability
* * *
callIdSipHeader string M 1 This IE contains the information in the Call-ID
header.  
fromSipHeader string M 1 This IE shall contain the information in the From
header.  
toSipHeader string M 1 This IE shall contain the information in the To header.  
contact string M 1 This IE shall contain the Contact Addresses and Parameters
in the Contact header.
##### 6.1.6.2.10 Type: ScscfRegistration
Table 6.1.6.2.10-1: Definition of type ScscfRegistration
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | i | I | M | 1 | Contains | | | msRegistr | msRegistr | | | the type | | | ationType | ationType | | | of the | | | | | | | registrat | | | | | | | ion/dereg | | | | | | | istration | | | | | | | r | | | | | | | equested. | | +-----------+-----------+---+-----------+-----------+-----------+ | impi | Impi | C | 1 | Contains | | | | | | | an IMS | | | | | | | Private | | | | | | | Identity. | | | | | | | | | | | | | | It may be | | | | | | | absent | | | | | | | during | | | | | | | the | | | | | | | or | | | | | | | iginating | | | | | | | or | | | | | | | te | | | | | | | rminating | | | | | | | request | | | | | | | to an | | | | | | | unr | | | | | | | egistered | | | | | | | Public | | | | | | | Identity | | | | | | | (i | | | | | | | msRegistr | | | | | | | ationType | | | | | | | shall | | | | | | | contain | | | | | | | the value | | | | | | | U | | | | | | | NREGISTER | | | | | | | ED_USER) | | +-----------+-----------+---+-----------+-----------+-----------+ | cscfS | String | M | 1 | Contains | | | erverName | | | | the | | | | | | | S-CSCF | | | | | | | name in | | | | | | | SIP URI | | | | | | | format. | | +-----------+-----------+---+-----------+-----------+-----------+ | scscfI | NfI | M | 1 | The NF | | | nstanceId | nstanceId | | | instance | | | | | | | id of the | | | | | | | S-CSCF. | | +-----------+-----------+---+-----------+-----------+-----------+ | deregCa | Uri | C | 1 | A URI | | | llbackUri | | | | provided | | | | | | | by the | | | | | | | S-CSCF to | | | | | | | receive | | | | | | | (i | | | | | | | mplicitly | | | | | | | su | | | | | | | bscribed) | | | | | | | noti | | | | | | | fications | | | | | | | on | | | | | | | deregi | | | | | | | stration. | | | | | | | | | | | | | | The | | | | | | | dereg | | | | | | | istration | | | | | | | callback | | | | | | | URI shall | | | | | | | have | | | | | | | unique | | | | | | | in | | | | | | | formation | | | | | | | within | | | | | | | S-CSCF | | | | | | | set to | | | | | | | identify | | | | | | | the IMS | | | | | | | Public | | | | | | | Identity | | | | | | | to be | | | | | | | dere | | | | | | | gistered. | | | | | | | | | | | | | | If there | | | | | | | are | | | | | | | i | | | | | | | mplicitly | | | | | | | i | | | | | | | dentities | | | | | | | r | | | | | | | egistered | | | | | | | (i.e. the | | | | | | | identity | | | | | | | belongs | | | | | | | to an | | | | | | | IRS) in | | | | | | | the | | | | | | | response, | | | | | | | the | | | | | | | dereg | | | | | | | istration | | | | | | | callback | | | | | | | URI | | | | | | | i | | | | | | | dentifies | | | | | | | the IRS | | | | | | | to be | | | | | | | dere | | | | | | | gistered. | | | | | | | | | | | | | | If there | | | | | | | is a | | | | | | | w | | | | | | | ildcarded | | | | | | | PSI | | | | | | | unr | | | | | | | egistered | | | | | | | received | | | | | | | in the | | | | | | | response, | | | | | | | the | | | | | | | dereg | | | | | | | istration | | | | | | | callback | | | | | | | URI | | | | | | | i | | | | | | | dentifies | | | | | | | the | | | | | | | w | | | | | | | ildcarded | | | | | | | PSI to be | | | | | | | dere | | | | | | | gistered. | | +-----------+-----------+---+-----------+-----------+-----------+ | associ | ar | O | 1..N | A | | | atedImpis | ray(Impi) | | | ssociated | | | | | | | IMS | | | | | | | private | | | | | | | I | | | | | | | dentities | | | | | | | in the | | | | | | | subs | | | | | | | cription. | | | | | | | If the | | | | | | | IMS | | | | | | | sub | | | | | | | scription | | | | | | | contains | | | | | | | only | | | | | | | single | | | | | | | Private | | | | | | | Identity | | | | | | | this | | | | | | | attribute | | | | | | | shall not | | | | | | | be | | | | | | | present. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | associa | ar | O | 1..N | A | | | tedRegist | ray(Impi) | | | ssociated | | | eredImpis | | | | r | | | | | | | egistered | | | | | | | IMS | | | | | | | private | | | | | | | I | | | | | | | dentities | | | | | | | in the | | | | | | | subs | | | | | | | cription. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | irsImpus | ar | O | 1...N | List of | | | | ray(Impu) | | | non | | | | | | | barred | | | | | | | IMS | | | | | | | Public | | | | | | | User | | | | | | | I | | | | | | | dentities | | | | | | | (distinct | | | | | | | or | | | | | | | wi | | | | | | | ldcarded) | | | | | | | which are | | | | | | | in the | | | | | | | Implicit | | | | | | | Reg | | | | | | | istration | | | | | | | Set. This | | | | | | | attribute | | | | | | | shall be | | | | | | | present | | | | | | | when the | | | | | | | received | | | | | | | public | | | | | | | identity | | | | | | | belongs | | | | | | | to an | | | | | | | IRS. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | wild | Impu | O | 1 | It shall | | | cardedPui | | | | be | | | | | | | present | | | | | | | when the | | | | | | | Public | | | | | | | Identity | | | | | | | in the | | | | | | | request | | | | | | | fell | | | | | | | within | | | | | | | the range | | | | | | | of a | | | | | | | W | | | | | | | ildcarded | | | | | | | Public | | | | | | | User | | | | | | | Identity | | | | | | | present | | | | | | | in the | | | | | | | IRS. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | wild | Impu | O | 1 | It shall | | | cardedPsi | | | | be | | | | | | | present | | | | | | | if the | | | | | | | Public | | | | | | | Identity | | | | | | | in the | | | | | | | request | | | | | | | fell | | | | | | | within | | | | | | | the range | | | | | | | of a | | | | | | | W | | | | | | | ildcarded | | | | | | | Public | | | | | | | Service | | | | | | | Identity | | | | | | | in the | | | | | | | HSS whose | | | | | | | state is | | | | | | | unre | | | | | | | gistered. | | | | | | | | | | | | | | If this | | | | | | | element | | | | | | | is | | | | | | | present, | | | | | | | it shall | | | | | | | be used | | | | | | | by the | | | | | | | S-CSCF to | | | | | | | identify | | | | | | | the | | | | | | | identity | | | | | | | affected | | | | | | | by the | | | | | | | request. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | l | Lo | O | 1 | Loose | | | ooseRoute | oseRouteI | | | Routing | | | Indicator | ndication | | | Indicator | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | supporte | Supporte | O | 0..1 | See | | | dFeatures | dFeatures | | | clause | | | | | | | 6.2.8 | | +-----------+-----------+---+-----------+-----------+-----------+ | mu | boolean | C | 1 | Contains | | | ltipleReg | | | | the | | | istration | | | | multiple | | | Indicator | | | | reg | | | | | | | istration | | | | | | | in | | | | | | | dication. | | | | | | | If | | | | | | | included, | | | | | | | when it | | | | | | | is set to | | | | | | | true it | | | | | | | indicates | | | | | | | multiple | | | | | | | regi | | | | | | | stration. | | +-----------+-----------+---+-----------+-----------+-----------+ | pcscfRe | boolean | C | 0..1 | true: | | | storation | | | | indicates | | | Indicator | | | | that the | | | | | | | P | | | | | | | -CSCF-Res | | | | | | | toration- | | | | | | | mechanism | | | | | | | shall be | | | | | | | executed | | | | | | | by the | | | | | | | HSS. | | | | | | | | | | | | | | false or | | | | | | | absent: | | | | | | | P-CSCF-Re | | | | | | | storation | | | | | | | is not | | | | | | | r | | | | | | | equested. | | | | | | | | | | | | | | May be | | | | | | | present | | | | | | | if | | | | | | | i | | | | | | | msRegistr | | | | | | | ationType | | | | | | | is | | | | | | | \"UN | | | | | | | REGISTERE | | | | | | | D_USER\" | | | | | | | or | | | | | | | \"ADMINI | | | | | | | STRATIVE\ | | | | | | | _DEREGIST | | | | | | | RATION\"; | | | | | | | otherwise | | | | | | | shall be | | | | | | | absent. | | +-----------+-----------+---+-----------+-----------+-----------+ | scscfRe | boolean | C | 0..1 | true: | | | selection | | | | indicates | | | Indicator | | | | that the | | | | | | | S-CSCF | | | | | | | has been | | | | | | | selected | | | | | | | due to, | | | | | | | e.g. | | | | | | | failure | | | | | | | of the | | | | | | | p | | | | | | | reviously | | | | | | | assigned | | | | | | | S-CSCF. | | | | | | | | | | | | | | false or | | | | | | | absent: | | | | | | | no S-CSCF | | | | | | | re | | | | | | | selection | | | | | | | requested | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | Optional | | | | | | | attribute | | | | | | | a | | | | | | | pplicable | | | | | | | in | | | | | | | response | | | | | | | messages | | | | | | | only. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.11 Type: ExtendedProblemDetails
Table 6.1.6.2.11-1: Definition of type ExtendedProblemDetails
Attribute name Data type P Cardinality Description
* * *
problemDetails ProblemDetails M 1 More information on the error shall be
provided in the \"cause\" attribute of the \"ProblemDetails\" structure.
additionalInfo AdditionalInfo O 1 Contains the currently assigned S-CSCF name
in SIP URI format.
##### 6.1.6.2.12 Type: AdditionalInfo
Table 6.1.6.2.12-1: Definition of type AdditionalInfo
Attribute name Data type P Cardinality Description
* * *
cscfServerName String O 1 Current S-CSCF assigned to the user (in SIP URI
format). This attribute shall be included when \"cause\" is
IDENTITY_ALREADY_REGISTERED.
##### 6.1.6.2.13 Type: DeregistrationData
Table 6.1.6.2.13-1: Definition of type DeregistrationData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | de | De | M | 1 | Indicates | | | regReason | registrat | | | the | | | | ionReason | | | reason | | | | | | | for the | | | | | | | deregi | | | | | | | stration. | | +-----------+-----------+---+-----------+-----------+-----------+ | impi | Impi | M | 1 | Contains | | | | | | | the IMS | | | | | | | Private | | | | | | | User | | | | | | | Identity | | | | | | | known by | | | | | | | the | | | | | | | SCSCF. | | +-----------+-----------+---+-----------+-----------+-----------+ | associ | Ar | O | 0..N | A | | | atedImpis | ray(Impi) | | | ssociated | | | | | | | IMS | | | | | | | private | | | | | | | I | | | | | | | dentities | | | | | | | in the | | | | | | | sub | | | | | | | scription | | | | | | | that are | | | | | | | dere | | | | | | | gistered. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | may be | | | | | | | present | | | | | | | in | | | | | | | r | | | | | | | esponses, | | | | | | | o | | | | | | | therwise, | | | | | | | it shall | | | | | | | be | | | | | | | absent. | | +-----------+-----------+---+-----------+-----------+-----------+ | em | array(E | O | 1..N | A list of | | | ergencyRe | mergencyR | | | pairs of | | | gisteredI | egistered | | | private | | | dentities | Identity) | | | and | | | | | | | public | | | | | | | user | | | | | | | i | | | | | | | dentities | | | | | | | which | | | | | | | have not | | | | | | | been | | | | | | | de-r | | | | | | | egistered | | | | | | | due to | | | | | | | emergency | | | | | | | regi | | | | | | | stration. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | may be | | | | | | | present | | | | | | | in | | | | | | | r | | | | | | | esponses, | | | | | | | o | | | | | | | therwise, | | | | | | | it shall | | | | | | | be | | | | | | | absent. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.14 Type: DeregistrationReason
Table 6.1.6.2.14-1: Definition of type DeregistrationReason
Attribute name Data type P Cardinality Description Applicability
* * *
reasonCode DeregistrationReasonCode M 1 Defines the reason for the network
initiated de-registration  
reasonText string O 0..1 Contains textual information to inform the user about
the reason for a de-registration
##### 6.1.6.2.15 Type: EmergencyRegisteredIdentity
Table 6.1.6.2.15-1: Definition of type EmergencyRegisteredIdentity
Attribute name Data type P Cardinality Description Applicability
* * *
impi Impi M 1 IMS Private User Identity  
impu Impu M 1 IMS Public User Identity
#### 6.1.6.3 Simple data types and enumerations
##### 6.1.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 6.1.6.3.2 Simple data types
The simple data types defined in table 6.1.6.3.2-1 shall be supported.
Table 6.1.6.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability Impu string Contains an
IMS Public Identity  
Impi string Contains an IMS Private User Identity
* * *
##### 6.1.6.3.3 Enumeration: AuthorizationType
The enumeration AuthorizationType represents the type of authorization
requested. It shall comply with the provisions defined in table 6.1.6.3.3-1.
Table 6.1.6.3.3-1: Enumeration AuthorizationType
Enumeration value Description Applicability
* * *
\"REGISTRATION\" The authorization requested if for a user\'s IMS registration
or re-registration.  
\"DEREGISTRATION\" The authorization requested if for a user\'s IMS de-
registration.
##### 6.1.6.3.4 Enumeration: AuthorizationResult
The enumeration AuthorizationResult represents the details of the granted
authorization. It shall comply with the provisions defined in table
6.1.6.3.4-1.
Table 6.1.6.3.4-1: AuthorizationResult
Enumeration value Description
* * *
\"FIRST_REGISTRATION\" The registration is an initial registration for the IMS
Public User Identity \"SUBSEQUENT_REGISTRATION\" The registration is an
subsequent registration for the IMS Public User Identity
##### 6.1.6.3.5 Enumeration: ImsRegistrationType
The enumeration ImsRegistrationType represents the type of registration
associated to the REGISTER request.
Table 6.1.6.3.5-1: Enumeration ImsRegistrationType
Enumeration value Description Applicability
* * *
\"INITIAL_REGISTRATION\" The request is related to an initial registration  
\"RE_REGISTRATION\" The request is related to a re-registration  
\"TIMEOUT_DEREGISTRATION\" The registration timer of an identity has expired.  
\"USER_DEREGISTRATION\" The S-CSCF has received a user initiated de-
registration request  
\"ADMINISTRATIVE_DEREGISTRATION\" The S-CSCF, due to administrative reasons or
network issues, has performed the de-registration of an identity.  
\"AUTHENTICATION_FAILURE\" The authentication of a user has failed.  
\"AUTHENTICATION_TIMEOUT\" Authentication timeout has occurred.  
\"UNREGISTERED_USER\" The request is related to a request for a Public
Identity that is not registered.
##### 6.1.6.3.6 Enumeration: LooseRouteIndication
The enumeration LooseRouteIndication represents whether the \"loose routing\"
mechanism is required, or not, to serve the user.
Table 6.1.6.3.6-1: Enumeration LooseRouteIndication
Enumeration value Description Applicability
* * *
\"LOOSE_ROUTE_NOT_REQUIRED\" Indicates that strict routing mechanism is
required to serve the user.  
\"LOOSE_ROUTE_REQUIRED \" Indicates that loose routing mechanism is required
to serve the user.
##### 6.1.6.3.7 Enumeration: DeregistrationReasonCode
The enumeration DeregistrationReasonCode indicates the reason for the network
initiated de-registration.
Table 6.1.6.3.7-1: Enumeration DeregistrationReasonCode
Enumeration value Description Applicability
* * *
\"PERMANENT_TERMINATION\" The HSS indicates to the S-CSCF that the S-CSCF will
no longer be assigned to the Public Identity and associated implicitly
registered/unregistered Public Identities (if any) for the Private
Identity(ies) indicated in the request (e.g. due to an IMS subscription
cancellation, or modification, or a removal of IP-address secure binding
information when GIBA is used).  
\"NEW_SERVER_ASSIGNED\" The HSS indicates to the S-CSCF that a new S-CSCF has
been allocated to the IMS Subscription e.g. because the previous assigned
S-CSCF was unavailable during a registration procedure. The S-CSCF shall
remove all information for all of the Public Identities indicated in the
request.  
\"SERVER_CHANGE\" The HSS indicates to the S-CSCF that the de-registration is
requested to force the selection of new S-CSCF to assign to the IMS
Subscription (e.g. when the S-CSCF capabilities are changed in the HSS or when
the S-CSCF indicates that it has not enough memory for the updated User
Profile). If the S-CSCF does not indicate in the response all the associated
Private Identities, the HSS shall repeat this request for each of the
remaining Private Identities in the IMS Subscription that are known to the
S-CSCF. The S-CSCF should start the network initiated de-registration towards
the user, i.e. all registrations within the IMS Subscription are de-registered
and the user is asked to re-register to all existing registrations.  
\"REMOVE_S-CSCF\" The HSS indicates to the S-CSCF that the S-CSCF will no
longer be assigned to an unregistered Public Identity(ies) (i.e registered as
a consequence of an originating or terminating request or there is a S-CSCF
keeping the user profile stored) for a given IMS Subscription.
#### 6.1.6.4 Data types describing alternative data types or combinations of
data types
There are no alternative data types, neither combinations of data types
### 6.1.7 Error Handling
#### 6.1.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS
29.500 [4].
#### 6.1.7.2 Protocol Errors
Protocol errors handling shall be supported as specified in clause 5.2.7 of
3GPP TS 29.500 [4].
#### 6.1.7.3 Application Errors
The common application errors defined in the Table 5.2.7.2-1 in 3GPP TS 29.500
[4] may also be used for the Nhss_imsUECM service. The following application
errors listed in Table 6.1.7.3-1 are specific for the Nhss_imsUECM service.
Table 6.1.7.3-1: Application errors
Application Error HTTP status code Description
* * *
USER_NOT_FOUND 404 Not Found The received IMS UE identity is unknown.
CONTEXT_NOT_FOUND 404 Not Found The context identified by the callback
reference is not found IDENTITIES_DO_NOT_MATCH 403 Forbidden A message was
received with a public identity and a private identity for a user, and the
server determines that the public identity does not correspond to the private
identity. ERROR_IN_REGISTRATION_TYPE 403 Forbidden The requested
registrationType is not allowed or the Public Identity type received in the
request is not allowed for the requested registrationType.
IDENTITY_ALREADY_REGISTERED 403 Forbidden The identity has already a server
assigned, and the registration information cannot be overwritten.
### 6.1.8 Feature negotiation
The optional features in Table 6.1.8-1 are defined for the
Nhss_imsUEContextManagement API. They shall be negotiated using the
extensibility mechanism defined in clause 6.6 of 3GPP TS 29.500 [4].
Table 6.1.8-1: Supported Features
Feature number Feature Name Description
* * *
### 6.1.9 Security
As indicated in 3GPP TS 33.501 [5], the access to the Nhss_imsUECM API may be
authorized by means of the OAuth2 protocol (see IETF RFC 6749 [35]), using the
\"Client Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510
[36]) plays the role of the authorization server.
If Oauth2 authorization is used, an NF Service Consumer, prior to consuming
services offered by the Nhss_imsUECM API, shall obtain a \"token\" from the
authorization server, by invoking the Access Token Request service, as
described in 3GPP TS 29.510 [36], clause 5.4.2.2.
NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used for
discovering the Nhss_imsUECM service.
The Nhss_imsUECM API defines the following scopes for OAuth2 authorization:
Table 6.1.9-1: Oauth2 scopes defined in Nhss_imsUECM API
Scope Description
* * *
\"nhss-ims-uecm\" Access to the Nhss IMS UE Context Management API \"nhss-ims-
uecm:authorize:invoke\" Access to invoke the Authorize custom operation
\"nhss-ims-uecm:registration:create\" Access to create S-CSCF Registration
resources \"nhss-ims-uecm:restoration:read\" Access to read the S-CSCF
Restoration resource \"nhss-ims-uecm:restoration:modify\" Access to
create/update/delete the S-CSCF Restoration resource
### 6.1.10 HTTP redirection
An HTTP request may be redirected to a different HSS service instance when
using direct or indirect communications (see 3GPP TS 29.500 [4]).
An SCP that reselects a different HSS producer instance will return the NF
Instance ID of the new HSS producer instance in the 3gpp-Sbi-Producer-Id
header, as specified in clause 6.10.3.4 of 3GPP TS 29.500 [4].
If an HSS redirects a service request to a different HSS using an 307
Temporary Redirect or 308 Permanent Redirect status code, the identity of the
new HSS towards which the service request is redirected shall be indicated in
the 3gpp-Sbi-Target-Nf-Id header of the 307 Temporary Redirect or 308
Permanent Redirect response as specified in clause 6.10.9.1 of 3GPP TS 29.500
[4].
## 6.2 Nhss_imsSubscriberDataManagement Service API
### 6.2.1 API URI
URIs of this API shall have the following root:
{apiRoot}/{apiName}/{apiVersion}/
where \"apiRoot\" is defined in clause 4.4.1 of 3GPP TS 29.501 [5], the
\"apiName\" shall be set to \"nhss-ims-sdm\" and the \"apiVersion\" shall be
set to \"v1\" for the current version of this specification.
### 6.2.2 Usage of HTTP
#### 6.2.2.1 General
HTTP/2, as defined in IETF RFC 7540 [8], shall be used as specified in clause
5 of 3GPP TS 29.500 [4].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].
HTTP messages and bodies for the Nhss_imsSubscriberDataManagement service
shall comply with the OpenAPI [9] specification contained in Annex A.3.
#### 6.2.2.2 HTTP standard headers
##### 6.2.2.2.1 General
The usage of HTTP standard headers shall be supported as specified in clause
5.2.2 of 3GPP TS 29.500 [4].
##### 6.2.2.2.2 Content type
The following content types shall be supported:
\- JSON, as defined in IETF RFC 8259 [10], signalled by the content type
\"application/json\".
\- The Problem Details JSON Object (IETF RFC 7807 [11] signalled by the
content type \"application/problem+json\"
\- JSON Patch, as defined in IETF RFC 6902 [12], signalled by the content type
\"application/json-patch+json\"
#### 6.2.2.3 HTTP custom headers
##### 6.2.2.3.1 General
The usage of HTTP custom headers shall be supported as specified in clause
5.2.3 of 3GPP TS 29.500 [4].
### 6.2.3 Resources
#### 6.2.3.1 Overview
Figure 6.2.3.1-1: Resource URI structure of the Nhss_imsSDM API
Figure 6.2.3.1-2: Resource URI structure of the Nhss_imsSDM API
Table 6.2.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 6.2.3.1-1: Resources and methods overview
+----------------+----------------+----------------+----------------+ | Resource name\ | Resource URI | HTTP method or | Description | | (Archetype) | | custom | | | | | operation | | +================+================+================+================+ | Repository | /{im | GET | Retrieve | | Data\ | sUeId}/reposit | | repository | | (Document) | ory-data/{serv | | data for a | | | iceIndication} | | service | | | | | indication | +----------------+----------------+----------------+----------------+ | | | DELETE | Delete | | | | | repository | | | | | data for a | | | | | service | | | | | indication | +----------------+----------------+----------------+----------------+ | | | PUT | Update | | | | | repository | | | | | data for a | | | | | service | | | | | indication | +----------------+----------------+----------------+----------------+ | Repository | /{imsUeId}/r | GET | Retrieve | | Data List | epository-data | | multiple | | (Document) | | | repository | | | | | data for a | | | | | list of | | | | | service | | | | | indications | +----------------+----------------+----------------+----------------+ | IMS Associated | /{ims | GET | Retrieve the | | Identities\ | UeId}/identiti | | UE\'s IMS | | (Document) | es/ims-associa | | associated | | | ted-identities | | identities | | | | | (implicit and | | | | | alias) | +----------------+----------------+----------------+----------------+ | MSISDNs\ | / | GET | Retrieve the | | (Document) | {imsUeId}/iden | | UE\'s MSISDNs | | | tities/msisdns | | (basic and | | | | | additional) | +----------------+----------------+----------------+----------------+ | Priv | /{imsUeId}/i | GET | Retrieve the | | ateIdentities\ | dentities/priv | | UE\'s Private | | (Document) | ate-identities | | Identities | | | | | (IMPI and | | | | | IMSI) | +----------------+----------------+----------------+----------------+ | Imei | /{imsUeId}/ide | GET | Retrieve the | | SvInformation\ | ntities/imeisv | | UE\'s IMEISV | | (Document) | | | | +----------------+----------------+----------------+----------------+ | IMS Profile | /{im | GET | Retrieve the | | Data | sUeId}/ims-dat | | UE\'s | | | a/profile-data | | subscribed | | (Document) | | | Profile | +----------------+----------------+----------------+----------------+ | Initial Filter | /{imsUe | GET | Retrieve the | | Criteria\ | Id}/ims-data/\ | | UE\'s | | (Document) | pro | | subscribed | | | file-data/ifcs | | Initial Filter | | | | | Criteria | +----------------+----------------+----------------+----------------+ | Service Level | / | GET | Retrieve the | | Trace | {imsUeId}/ims- | | UE\'s | | Information\ | data/profile-d | | subscribed | | (Document) | ata/service-le | | Service Level | | | vel-trace-info | | Trace | | | | | Information | +----------------+----------------+----------------+----------------+ | Service | /{imsUe | GET | Retrieve the | | Priority | Id}/ims-data/\ | | UE\'s | | Information\ | profile-data/p | | subscribed | | (Document) | riority-levels | | Service | | | | | Priority | | | | | Levels | +----------------+----------------+----------------+----------------+ | Charging | /{imsUe | GET | Retrieve the | | Information\ | Id}/ims-data/\ | | UE\'s | | (Document) | profile-dat | | subscribed | | | a/chargingInfo | | Charging | | | | | Information | +----------------+----------------+----------------+----------------+ | IMS Location | /{i | GET | Retrieve the | | Data\ | msUeId}/ims-da | | UE\'s S-CSCF | | (Document) | ta/location-da | | name | | | ta/server-name | | | +----------------+----------------+----------------+----------------+ | S-CSCF | /{imsUeId} | GET | Retrieve the | | Capabilities\ | /ims-data/loca | | UE\'s S-CSCF | | (Document) | tion-data/scsc | | capabilities | | | f-capabilities | | (mandatory | | | | | and/or | | | | | optional) | +----------------+----------------+----------------+----------------+ | S-CSCF | /{imsUeId | GET | Retrieve the | | Selection | }/ims-data/loc | | UE\'s S-CSCF | | Assistance | ation-data/scs | | Selection | | Information\ | cf-selection-a | | Assistance | | (Document) | ssistance-info | | Information | +----------------+----------------+----------------+----------------+ | IMS | /{imsUe | GET | Retrieve the | | Registration | Id}/ims-data/\ | | UE\'s IMS | | Status\ | regis | | registration | | (Document) | tration-status | | status. | +----------------+----------------+----------------+----------------+ | Subscriptions\ | /{imsUeId} | POST | Create a | | (Collection) | /subscriptions | | subscription | +----------------+----------------+----------------+----------------+ | Individual | /{imsUeId}/s | DELETE | Delete the | | subscription\ | ubscriptions/\ | | subscription | | (Document) | {s | | identified by | | | ubscriptionId} | | {su | | | | | bscriptionId}, | | | | | i.e. | | | | | unsubscribe | +----------------+----------------+----------------+----------------+ | | | PATCH | Modify the | | | | | sd | | | | | m-subscription | | | | | identified by | | | | | {s | | | | | ubscriptionId} | +----------------+----------------+----------------+----------------+ | PS Location | /{imsUeId} | GET | Retrieve the | | Informa | /access-data/\ | | UE\'s location | | tion(Document) | ps-domain | | in PS domain | | | /location-data | | | +----------------+----------------+----------------+----------------+ | CS Location | /{imsUeId} | GET | Retrieve the | | Informa | /access-data/\ | | UE\'s location | | tion(Document) | cs-domain | | in CS domain | | | /location-data | | | +----------------+----------------+----------------+----------------+ | PsUserState\ | /{imsUeId} | GET | Retrieve the | | (Document) | /access-data/\ | | UE\'s state in | | | ps-dom | | PS domain | | | ain/user-state | | | +----------------+----------------+----------------+----------------+ | CsUserState\ | /{imsUeId} | GET | Retrieve the | | (Document) | /access-data/\ | | UE\'s state in | | | cs-dom | | CS domain | | | ain/user-state | | | +----------------+----------------+----------------+----------------+ | TadsInfo\ | /{imsUeId} | GET | Retrieve the | | (Document) | /access-data/\ | | UE\'s T-ADS | | | ps-do | | information | | | main/tads-info | | | +----------------+----------------+----------------+----------------+ | Ue | /{imsUeId} | POST | Create a | | ReachabilityIp | /access-data/\ | | subscription | | Subscriptions\ | ps-d | | to UE | | (Collection) | omain/ue-reach | | Reachability | | | -subscriptions | | for IP | +----------------+----------------+----------------+----------------+ | UE | /{imsUeId} | DELETE | Delete the | | reachability | /access-data/\ | | subscription | | individual | ps-dom | | to UE | | subscription\ | ain/ue-reach-s | | reachability | | (Document) | ubscriptions/\ | | for IP | | | {s | | identified by | | | ubscriptionId} | | {su | | | | | bscriptionId}, | | | | | i.e. | | | | | unsubscribe | +----------------+----------------+----------------+----------------+ | | | PATCH | Modify the | | | | | subscription | | | | | to UE | | | | | reachability | | | | | for IP | | | | | identified by | | | | | {s | | | | | ubscriptionId} | +----------------+----------------+----------------+----------------+ | IpAddress\ | /{imsUeId} | GET | Retrieve the | | (Document) | /access-data/\ | | UE\'s stored | | | ps-dom | | IP Address | | | ain/ip-address | | Secure Binding | | | | | Information | +----------------+----------------+----------------+----------------+ | Csrn | /{imsUeId} | GET | Retrieve a | | | /access-data/\ | | CSRN for the | | (Document) | cs-domain/csrn | | UE | +----------------+----------------+----------------+----------------+ | Reference | / | GET | Retrieve the | | AccessLocation | {imsUeId}/acce | | UE\'s | | | ss-data/wireli | | subscribed | | (Document) | ne-domain/refe | | Reference | | | rence-location | | Access | | | | | Location | +----------------+----------------+----------------+----------------+ | SRVCC Data | /{imsUe | GET | Retrieve the | | | Id}/srvcc-data | | UE\'s STN-SR | | (Document) | | | and SRVCC | | | | | capability | +----------------+----------------+----------------+----------------+ | | | PATCH | Update the | | | | | UE\'s STN-SR. | +----------------+----------------+----------------+----------------+ | PSI Activation | /{imsUeId}/ | GET | Retrieve a PSI | | State | service-data/\ | | activation | | | psi-status | | status | | (Document) | | | | +----------------+----------------+----------------+----------------+ | | | PATCH | Update a PSI | | | | | activation | | | | | status | +----------------+----------------+----------------+----------------+ | Dsai | /{imsUeId}/ser | GET | Retrieve DSAI | | | vice-data/dsai | | data (i.e. | | (Document) | | | DSAI tags and | | | | | status) | | | | | associated to | | | | | an Application | | | | | Server | +----------------+----------------+----------------+----------------+ | | | PATCH | Update DSAI | | | | | data | | | | | associated to | | | | | an Application | | | | | Server | +----------------+----------------+----------------+----------------+ | SMSRe | /{imsUeId}/ | GET | Retrieve the | | gistrationInfo | service-data/\ | | SMS | | | sms-reg | | Registration | | (Document) | istration-info | | Information | | | | | (e.g. IP-SM-GW | | | | | address) | +----------------+----------------+----------------+----------------+ | | | PUT | Creates or | | | | | updates the | | | | | SMS | | | | | Registration | | | | | Information | | | | | (e.g. IP-SM-GW | | | | | address) | +----------------+----------------+----------------+----------------+ | | | DELETE | Deletes the | | | | | SMS | | | | | Registration | | | | | Information | | | | | (e.g. IP-SM-GW | | | | | address) | +----------------+----------------+----------------+----------------+ | SharedData\ | /shared-data | GET | Retrieve | | (Collection) | | | shared data | +----------------+----------------+----------------+----------------+ | SharedData | /shared-data | POST | Create a | | Subscriptions\ | -subscriptions | | subscription | | (Collection) | | | | +----------------+----------------+----------------+----------------+ | Shared Data | / | DELETE | Delete the | | Individual | shared-data-su | | subscription | | Subscription\ | bscriptions/{s | | identified by | | (Document) | ubscriptionId} | | {su | | | | | bscriptionId}, | | | | | i.e. | | | | | unsubscribe | +----------------+----------------+----------------+----------------+ | | | PATCH | Modify the | | | | | subscription | | | | | identified by | | | | | {s | | | | | ubscriptionId} | +----------------+----------------+----------------+----------------+
#### 6.2.3.2 Resource: IMS Associated Identities
##### 6.2.3.2.1 Description
This resource represents the IMS associated identities. It is queried by the
service consumer (IMS-AS) to retrieve the list of identities in the same
Implicit Registration Set, together with the Alias Group Information and
additional information (e.g. identity type)
##### 6.2.3.2.2 Resource Definition
Resource URI: **{** apiRoot}/nhss-ims-
sdm/{apiVersion}/{imsUeId}/identities/ims-associated-identities
This resource shall support the resource URI variables defined in table
6.2.3.2.2-1.
Table 6.2.3.2.2-1: Resource URI variables for this resource
+------------+--------------------------------------------------------+ | Name | Definition | +============+========================================================+ | apiRoot | See clause 6.2.1 | +------------+--------------------------------------------------------+ | apiVersion | See clause 6.2.1 | +------------+--------------------------------------------------------+ | imsUeId | Represents the IMS Public Identity (i.e. IMS Public | | | User identity or Public Service Identity) | | | | | | pattern: | | | \"\^(impu-sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$ | | | ,;?\/]+)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a- | | | z]{2,}\|impu-tel\:\\+[0-9]{5,15}\|impi-.+\|.+)\$\" | +------------+--------------------------------------------------------+
##### 6.2.3.2.3 Resource Standard Methods
##### 6.2.3.2.3.1 GET {#get-5 .H6}
This method shall support the URI query parameters specified in table
6.2.3.2.3.1-1.
Table 6.2.3.2.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
6.2.3.2.3.1-2 and the response data structures and response codes specified in
table 6.2.3.2.3.1-3.
Table 6.2.3.2.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.2.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | ImsAssocia | M | 1 | 200 OK | A response | | tedIdentities | | | | body | | | | | | containing | | | | | | the list of | | | | | | identities | | | | | | belonging to | | | | | | the same | | | | | | Implicit | | | | | | Registration | | | | | | Set shall be | | | | | | returned, | | | | | | together with | | | | | | the related | | | | | | information | | | | | | (Alias Group, | | | | | | if any, | | | | | | identity | | | | | | type, IRS | | | | | | default | | | | | | identity, | | | | | | registration | | | | | | state of the | | | | | | IRS). | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.2.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.2.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
#### 6.2.3.3 Resource: MSISDNS
##### 6.2.3.3.1 Description
This resource represents the MSISDNs associated to the UE. It is queried by
the service consumer (IMS-AS) to retrieve the list of MSISDNs (basic and
additional). If the UE is shared among multiple IMS Private Identities and the
consumer queries for the basic MSISDN (C-MSISDN), the URI query parameter
Private Identity (IMPI) shall be included.
##### 6.2.3.3.2 Resource Definition
Resource URI: **{** apiRoot}/nhss-ims-
sdm/{apiVersion}/{imsUeId}/identities/msisdns
This resource shall support the resource URI variables defined in table
6.2.3.3.2-1.
Table 6.2.3.3.2-1: Resource URI variables for this resource
+------------+--------------------------------------------------------+ | Name | Definition | +============+========================================================+ | apiRoot | See clause 6.2.1 | +------------+--------------------------------------------------------+ | apiVersion | See clause 6.2.1 | +------------+--------------------------------------------------------+ | imsUeId | Represents the IMS Public Identity (i.e. IMS Public | | | User identity or Public Service Identity) | | | | | | pattern: | | | \"\^(impu-sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$ | | | ,;?\/]+)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a- | | | z]{2,}\|impu-tel\:\\+[0-9]{5,15}\|impi-.+\|.+)\$\" | +------------+--------------------------------------------------------+
##### 6.2.3.3.3 Resource Standard Methods
##### 6.2.3.3.3.1 GET {#get-6 .H6}
This method shall support the URI query parameters specified in table
6.2.3.3.3.1-1.
Table 6.2.3.3.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description private-id PrivateId O 0..1 IMS
Private Identity (IMPI) of the UE. It shall be included if there are multiple
Private Identities associated to the Public Identity received and the basic
MSISDN (C-MSISDN) is requested.
* * *
This method shall support the request data structures specified in table
6.2.3.3.3.1-2 and the response data structures and response codes specified in
table 6.2.3.3.3.1-3.
Table 6.2.3.3.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.3.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | MsisdnList | M | 1 | 200 OK | A response | | | | | | body | | | | | | containing | | | | | | the list of | | | | | | MSISDNs | | | | | | associated to | | | | | | the UE and | | | | | | all Private | | | | | | Identities | | | | | | shall be | | | | | | returned. If | | | | | | the response | | | | | | is for a | | | | | | basic MSISDN | | | | | | (C-MSISDN) | | | | | | query (query | | | | | | parameter | | | | | | IMPI was | | | | | | present), | | | | | | only one | | | | | | MSISDN shall | | | | | | be returned. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.3.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.3.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
#### 6.2.3.4 Resource: S-CSCF Capabilities
##### 6.2.3.4.1 Description
This resource represents the S-CSCF capabilities. It is queried by the service
consumer (I-CSCF) to retrieve S-CSCF capabilities associated to the UE
(mandatory capabilities and/or optional capabilities).
##### 6.2.3.4.2 Resource Definition
Resource URI: **{** apiRoot}/nhss-ims-sdm/{apiVersion}/{imsUeId}/ims-
data/location-data/scscf-capabilities
This resource shall support the resource URI variables defined in table
6.2.3.4.2-1.
Table 6.2.3.4.2-1: Resource URI variables for this resource
+------------+--------------------------------------------------------+ | Name | Definition | +============+========================================================+ | apiRoot | See clause 6.2.1 | +------------+--------------------------------------------------------+ | apiVersion | See clause 6.2.1 | +------------+--------------------------------------------------------+ | imsUeId | Represents the IMS Public Identity (i.e. IMS Public | | | User identity or Public Service Identity) | | | | | | pattern: | | | \"\^(impu-sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$ | | | ,;?\/]+)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a- | | | z]{2,}\|impu-tel\:\\+[0-9]{5,15}\|impi-.+\|.+)\$\" | +------------+--------------------------------------------------------+
##### 6.2.3.4.3 Resource Standard Methods
##### 6.2.3.4.3.1 GET {#get-7 .H6}
This method shall support the URI query parameters specified in table
6.2.3.4.3.1-1.
Table 6.2.3.4.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
6.2.3.4.3.1-2 and the response data structures and response codes specified in
table 6.2.3.4.3.1-3.
Table 6.2.3.4.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.4.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | ScscfC | M | 1 | 200 OK | A response | | apabilityList | | | | body | | | | | | containing | | | | | | the list | | | | | | mandatory | | | | | | and/or | | | | | | optional | | | | | | capabilities | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | | | | | | | NOTE: | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | indicates | | | | | | that any | | | | | | S-CSCF can be | | | | | | selected, | | | | | | e.g. based on | | | | | | I-CSCF local | | | | | | policy. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.4.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.4.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
#### 6.2.3.5 Resource: IMS Profile Data
##### 6.2.3.5.1 Description
This resource represents the IMS Profile Data. It is queried by the service
consumer (S-CSCF) to retrieve the user\'s IMS profile data, containing the
required information to handle the multimedia sessions (e.g. Initial Filter
Criteria)
##### 6.2.3.5.2 Resource Definition
Resource URI: **{** apiRoot}/nhss-ims-sdm/{apiVersion}/{imsUeId}/ims-
data/profile-data
This resource shall support the resource URI variables defined in table
6.2.3.5.2-1.
Table 6.2.3.5.2-1: Resource URI variables for this resource
+------------+--------------------------------------------------------+ | Name | Definition | +============+========================================================+ | apiRoot | See clause 6.2.1 | +------------+--------------------------------------------------------+ | apiVersion | See clause 6.2.1 | +------------+--------------------------------------------------------+ | imsUeId | Represents the IMS Public Identity (i.e. IMS Public | | | User identity or Public Service Identity) | | | | | | pattern: | | | \"\^(impu-sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$ | | | ,;?\/]+)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a- | | | z]{2,}\|impu-tel\:\\+[0-9]{5,15}\|impi-.+\|.+)\$\" | +------------+--------------------------------------------------------+
##### 6.2.3.5.3 Resource Standard Methods
##### 6.2.3.5.3.1 GET {#get-8 .H6}
This method shall support the URI query parameters specified in table
6.2.3.5.3.1-1.
NOTE: The retrieval of these data sets can also be achieved by sending
individual GET requests to the corresponding sub-resources under the {imsUeId}
resource. When multiple data sets need to be retrieved by the NF Service
consumer, it is recommended to use a single GET request with query parameters
rather than issuing multiple GET requests.
Table 6.2.3.5.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description dataset-names array(DataSetName) O
1..N Datasets to be retrieved supported-features SupportedFeatures O 0..1 see
3GPP TS 29.500 [4] clause 6.6
* * *
This method shall support the request data structures specified in table
6.2.3.5.3.1-2 and the response data structures and response codes specified in
table 6.2.3.5.3.1-3.
Table 6.2.3.5.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.5.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | I | M | 1 | 200 OK | Upon success, | | msProfileData | | | | a response | | | | | | body | | | | | | containing | | | | | | the User\'s | | | | | | Profile Data | | | | | | shall be | | | | | | included. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.5.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.5.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
#### 6.2.3.6 Resource: Subscriptions
##### 6.2.3.6.1 Description
This resource is used to represent subscriptions to notifications of data
change.
##### 6.2.3.6.2 Resource Definition
Resource URI: {apiRoot}/nhss-ims-sdm/{apiVersion}/{imsUeId}/subscriptions
This resource shall support the resource URI variables defined in table
6.2.3.6.2-1.
Table 6.2.3.6.2-1: Resource URI variables for this resource
+------------+--------------------------------------------------------+ | Name | Definition | +============+========================================================+ | apiRoot | See clause 6.2.1 | +------------+--------------------------------------------------------+ | apiVersion | See clause 6.2.1 | +------------+--------------------------------------------------------+ | imsUeId | Represents the IMS Public Identity (i.e. IMS Public | | | User identity or Public Service Identity) | | | | | | pattern: | | | \"\^(impu-sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$ | | | ,;?\/]+)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a- | | | z]{2,}\|impu-tel\:\\+[0-9]{5,15}\|impi-.+\|.+)\$\" | +------------+--------------------------------------------------------+
##### 6.2.3.6.3 Resource Standard Methods
##### 6.2.3.6.3.1 POST {#post .H6}
This method shall support the URI query parameters specified in table
6.2.3.6.3.1-1.
Table 6.2.3.6.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.2.3.6.3.1-2 and the response data structures and response codes specified in
table 6.2.3.6.3.1-3.
Table 6.2.3.6.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description ImsSdmSubscription M 1 The subscription
that is to be created.
* * *
Table 6.2.3.6.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | ImsSd | M | 1 | 201 Created | Upon success, | | mSubscription | | | | a response | | | | | | body | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | subscription | | | | | | resource | | | | | | shall be | | | | | | returned. | | | | | | | | | | | | The HTTP | | | | | | response | | | | | | shall include | | | | | | a | | | | | | \"Location\" | | | | | | HTTP header | | | | | | that contains | | | | | | the resource | | | | | | URI of the | | | | | | created | | | | | | resource. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 501 Not | The \"cause\" | | roblemDetails | | | Implemented | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | UNSUPPORTED_ | | | | | | RESOURCE_URI | | | | | | | | | | | | This response | | | | | | shall not be | | | | | | cached. | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.6.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.6.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.6.3.1-6: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/nhss-ims-
sdm/\/{imsUeId}/subscriptions/{subscriptionId}
* * *
#### 6.2.3.7 Resource: Individual subscription
##### 6.2.3.7.1 Description
This resource is used to represent an individual subscription to notifications
of data change.
##### 6.2.3.7.2 Resource Definition
Resource URI: {apiRoot}/nhss-ims-
sdm/{apiVersion}/{imsUeId}/subscriptions/{subscriptionId}
This resource shall support the resource URI variables defined in table
6.2.3.7.2-1.
Table 6.2.3.7.2-1: Resource URI variables for this resource
+----------------+----------------------------------------------------+ | Name | Definition | +================+====================================================+ | apiRoot | See clause 6.2.1 | +----------------+----------------------------------------------------+ | apiVersion | See clause 6.2.1 | +----------------+----------------------------------------------------+ | imsUeId | Represents the IMS Public Identity (i.e. IMS | | | Public User identity or Public Service Identity) | | | | | | pattern: | | | \"\^ | | | (impu-sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$,;?\/] | | | +)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a-z]{ | | | 2,}\|impu-tel\:\\+[0-9]{5,15}\|impi-.+\|.+)\$\" | +----------------+----------------------------------------------------+ | subscriptionId | The subscriptionId identifies an individual | | | subscription to notifications. | +----------------+----------------------------------------------------+
##### 6.2.3.7.3 Resource Standard Methods
##### 6.2.3.7.3.1 DELETE {#delete-1 .H6}
This method shall support the URI query parameters specified in table
6.2.3.7.3.1-1.
Table 6.2.3.7.3.1-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.2.3.7.3.1-2 and the response data structures and response codes specified in
table 6.2.3.7.3.1-3.
Table 6.2.3.7.3.1-2: Data structures supported by the Delete Request Body on
this resource
* * *
Data type P Cardinality Description n/a The request body shall be empty.
* * *
Table 6.2.3.7.3.1-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | SUBSCRIPTION | | | | | | _NOT_FOUND, | | | | | | see | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | tab | | | | | | le 5.2.7.2-1. | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.7.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.7.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
##### 6.2.3.7.3.2 PATCH {#patch .H6}
This method shall support the URI query parameters specified in table
6.2.3.7.3.2-1.
Table 6.2.3.7.3.2-1: URI query parameters supported by the PATCH method on
this resource
* * *
Name Data type P Cardinality Description supported-features SupportedFeatures
O 0..1 see 3GPP TS 29.500 [4] clause 6.6
* * *
This method shall support the request data structures specified in table
6.2.3.7.3.2-2 and the response data structures and response codes specified in
table 6.2.3.7.3.2-3.
Table 6.2.3.7.3.2-2: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description array(PatchItem) M 1 It contains the list
of changes to be made to the resource representing the individual
subscription, according to the JSON PATCH format specified in IETF RFC 6902
[12].
* * *
Table 6.2.3.7.3.2-3: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | a response | | | | | | with no | | | | | | content is | | | | | | returned. | | | | | | | | | | | | (NOTE 1) | +---------------+---+-------------+---------------+---------------+ | PatchResult | M | 1 | 200 OK | Upon success, | | | | | | the execution | | | | | | report is | | | | | | returned. | | | | | | (NOTE 1) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | SUBSCRIPTION | | | | | | _NOT_FOUND, | | | | | | see | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | tab | | | | | | le 5.2.7.2-1. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | One or more | | roblemDetails | | | | attributes | | | | | | are not | | | | | | allowed to be | | | | | | modified. | | | | | | | | | | | | The \"cause\" | | | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | M | | | | | | ODIFICATION_ | | | | | | NOT_ALLOWED, | | | | | | see | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | tab | | | | | | le 5.2.7.2-1. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: If | | | | | | all the | | | | | | modification | | | | | | instructions | | | | | | in the PATCH | | | | | | request have | | | | | | been | | | | | | implemented, | | | | | | the HSS shall | | | | | | respond with | | | | | | 204 No | | | | | | Content | | | | | | response; if | | | | | | some of the | | | | | | modification | | | | | | instructions | | | | | | in the PATCH | | | | | | request have | | | | | | been | | | | | | discarded, | | | | | | and the NF | | | | | | service | | | | | | consumer has | | | | | | included in | | | | | | the | | | | | | supp | | | | | | orted-feature | | | | | | query | | | | | | parameter the | | | | | | \" | | | | | | PatchReport\" | | | | | | feature | | | | | | number, the | | | | | | HSS shall | | | | | | respond with | | | | | | PatchResult. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.7.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.7.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
#### 6.2.3.8 Resource: SharedDataSubscriptions
##### 6.2.3.8.1 Description
This resource is used to represent subscriptions to notifications for shared
data.
##### 6.2.3.8.2 Resource Definition
Resource URI: {apiRoot}/nhss-ims-sdm/{apiVersion}/shared-data-subscriptions
This resource shall support the resource URI variables defined in table
6.2.3.8.2-1.
Table 6.2.3.8.2-1: Resource URI variables for this resource
Name Definition
* * *
apiRoot See clause 6.2.1 apiVersion See clause 6.2.1
##### 6.2.3.8.3 Resource Standard Methods
##### 6.2.3.8.3.1 POST {#post-1 .H6}
This method shall support the URI query parameters specified in table
6.2.3.8.3.1-1.
Table 6.2.3.8.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.2.3.8.3.1-2 and the response data structures and response codes specified in
table 6.2.3.8.3.1-3.
Table 6.2.3.8.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description ImsSdmSubscription M 1 The subscription
that is to be created.
* * *
Table 6.2.3.8.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | ImsSd | M | 1 | 201 Created | Upon success, | | mSubscription | | | | a response | | | | | | body | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | subscription | | | | | | resource | | | | | | shall be | | | | | | returned. | | | | | | | | | | | | The HTTP | | | | | | response | | | | | | shall include | | | | | | a | | | | | | \"Location\" | | | | | | HTTP header | | | | | | that contains | | | | | | the resource | | | | | | URI of the | | | | | | created | | | | | | resource. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 501 Not | The \"cause\" | | roblemDetails | | | Implemented | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | UNSUPPORTED_ | | | | | | RESOURCE_URI | | | | | | | | | | | | This response | | | | | | shall not be | | | | | | cached. | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.8.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.8.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.8.3.1-6: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/nhss-ims-
sdm/\/shared-data-subscriptions/{subscriptionId}
* * *
#### 6.2.3.9 Resource: Shared Data Individual subscription
##### 6.2.3.9.1 Description
This resource is used to represent an individual subscription to notifications
for shared data.
##### 6.2.3.9.2 Resource Definition
Resource URI: {apiRoot}/nhss-sdm/{apiVersion}/shared-data-
subscriptions/{subscriptionId}
This resource shall support the resource URI variables defined in table
6.2.3.9.2-1.
Table 6.2.3.9.2-1: Resource URI variables for this resource
Name Definition
* * *
apiRoot See clause 6.2.1 apiVersion See clause 6.2.1 subscriptionId The
subscriptionId identifies an individual subscription to notifications.
##### 6.2.3.9.3 Resource Standard Methods
##### 6.2.3.9.3.1 DELETE {#delete-2 .H6}
This method shall support the URI query parameters specified in table
6.2.3.9.3.1-1.
Table 6.2.3.9.3.1-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.2.3.zz.3.1-2 and the response data structures and response codes specified
in table 6.2.3.zz.3.1-3.
Table 6.2.3.9.3.1-2: Data structures supported by the Delete Request Body on
this resource
* * *
Data type P Cardinality Description n/a The request body shall be empty.
* * *
Table 6.2.3.9.3.1-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The resource | | roblemDetails | | | | corresponding | | | | | | to the | | | | | | S | | | | | | ubscriptionId | | | | | | can\'t be | | | | | | found. | | | | | | | | | | | | The \"cause\" | | | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | SUBSCRIPTION | | | | | | _NOT_FOUND, | | | | | | see | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | tab | | | | | | le 5.2.7.2-1. | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.9.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.9.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
##### 6.2.3.9.3.2 PATCH {#patch-1 .H6}
This method shall support the URI query parameters specified in table
6.2.3.9.3.2-1.
Table 6.2.3.9.3.2-1: URI query parameters supported by the PATCH method on
this resource
* * *
Name Data type P Cardinality Description supported-features SupportedFeatures
O 0..1 see 3GPP TS 29.500 [4] clause 6.6
* * *
This method shall support the request data structures specified in table
6.2.3.9.3.2-2 and the response data structures and response codes specified in
table 6.2.3.9.3.2-3.
Table 6.2.3.9.3.2-2: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description array(PatchItem) M 1 It contains the list
of changes to be made to the resource representing the individual
subscription, according to the JSON PATCH format specified in IETF RFC 6902
[12].
* * *
Table 6.2.3.9.3.2-3: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | a response | | | | | | with no | | | | | | content is | | | | | | returned. | | | | | | (NOTE 1) | +---------------+---+-------------+---------------+---------------+ | PatchResult | M | 1 | 200 OK | Upon success, | | | | | | the execution | | | | | | report is | | | | | | returned. | | | | | | (NOTE 1) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The resource | | roblemDetails | | | | corresponding | | | | | | to the | | | | | | S | | | | | | ubscriptionId | | | | | | can\'t be | | | | | | found. | | | | | | | | | | | | The \"cause\" | | | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | SUBSCRIPTION | | | | | | _NOT_FOUND, | | | | | | see | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | tab | | | | | | le 5.2.7.2-1. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | One or more | | roblemDetails | | | | attributes | | | | | | are not | | | | | | allowed to be | | | | | | modified. | | | | | | | | | | | | The \"cause\" | | | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | M | | | | | | ODIFICATION_ | | | | | | NOT_ALLOWED, | | | | | | see | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | tab | | | | | | le 5.2.7.2-1. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: If | | | | | | all the | | | | | | modification | | | | | | instructions | | | | | | in the PATCH | | | | | | request have | | | | | | been | | | | | | implemented, | | | | | | the HSS shall | | | | | | respond with | | | | | | 204 No | | | | | | Content | | | | | | response; if | | | | | | some of the | | | | | | modification | | | | | | instructions | | | | | | in the PATCH | | | | | | request have | | | | | | been | | | | | | discarded, | | | | | | and the NF | | | | | | service | | | | | | consumer has | | | | | | included in | | | | | | the | | | | | | supp | | | | | | orted-feature | | | | | | query | | | | | | parameter the | | | | | | \" | | | | | | PatchReport\" | | | | | | feature | | | | | | number, the | | | | | | HSS shall | | | | | | respond with | | | | | | PatchResult. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.9.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.9.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
#### 6.2.3.10 Resource: IMS Registration Status
##### 6.2.3.10.1 Description
This resource represents the IMS Registration Status. It is queried by the
service consumer (e.g. AS) to retrieve the IMS registration status of the
user.
##### 6.2.3.10.2 Resource Definition
Resource URI: **{** apiRoot}/nhss-ims-sdm/{apiVersion}/{imsUeId}/ims-
data/registration-status
This resource shall support the resource URI variables defined in table
6.2.3.10.2-1.
Table 6.2.3.10.2-1: Resource URI variables for this resource
+------------+--------------------------------------------------------+ | Name | Definition | +============+========================================================+ | apiRoot | See clause 6.2.1 | +------------+--------------------------------------------------------+ | apiVersion | See clause 6.2.1 | +------------+--------------------------------------------------------+ | imsUeId | Represents the IMS Public Identity (i.e. IMS Public | | | User identity or Public Service Identity) | | | | | | pattern: | | | \"\^(impu-sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$ | | | ,;?\/]+)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a- | | | z]{2,}\|impu-tel\:\\+[0-9]{5,15}\|impi-.+\|.+)\$\" | +------------+--------------------------------------------------------+
##### 6.2.3.10.3 Resource Standard Methods
##### 6.2.3.10.3.1 GET {#get-9 .H6}
This method shall support the URI query parameters specified in table
6.2.3.10.3.1-1.
Table 6.2.3.10.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability supported-features
SupportedFeatures O 0..1 see 3GPP TS 29.500 [4] clause 6.6
* * *
This method shall support the request data structures specified in table
6.2.3.10.3.1-2 and the response data structure and response codes specified in
table 6.2.3.10.3.1-3.
Table 6.2.3.10.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.10.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | ImsRegis | M | 1 | 200 OK | A response | | trationStatus | | | | body | | | | | | containing | | | | | | the IMS | | | | | | registration | | | | | | status of the | | | | | | user. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | indicates the | | | | | | user has not | | | | | | performed yet | | | | | | any IMS | | | | | | registration. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.10.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.10.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
#### 6.2.3.11 Resource: Service Priority Information
##### 6.2.3.11.1 Description
This resource represents the Service Priority Levels. It is queried by the
service consumer (e.g. AS) to retrieve the Namespaces and priority levels
allowed for the user.
##### 6.2.3.11.2 Resource Definition
Resource URI: **{** apiRoot}/nhss-ims-sdm/{apiVersion}/{imsUeId}/ims-
data/profile-data/priority-levels
This resource shall support the resource URI variables defined in table
6.2.3.11.2-1.
Table 6.2.3.11.2-1: Resource URI variables for this resource
+------------+--------------------------------------------------------+ | Name | Definition | +============+========================================================+ | apiRoot | See clause 6.2.1 | +------------+--------------------------------------------------------+ | apiVersion | See clause 6.2.1 | +------------+--------------------------------------------------------+ | imsUeId | Represents the IMS Public Identity (i.e. IMS Public | | | User identity or Public Service Identity) | | | | | | pattern: | | | \"\^(impu-sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$ | | | ,;?\/]+)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a- | | | z]{2,}\|impu-tel\:\\+[0-9]{5,15}\|impi-.+\|.+)\$\" | +------------+--------------------------------------------------------+
##### 6.2.3.11.3 Resource Standard Methods
##### 6.2.3.11.3.1 GET {#get-10 .H6}
This method shall support the URI query parameters specified in table
6.2.3.11.3.1-1.
Table 6.2.3.11.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability supported-features
SupportedFeatures O 0..1 see 3GPP 1 29.500 [4] clause 6.6
* * *
This method shall support the request data structures specified in table
6.2.3.11.3.1-2 and the response data structures and response codes specified
in table 6.2.3.11.3.1-3.
Table 6.2.3.11.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.11.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | P | M | 1 | 200 OK | A response | | riorityLevels | | | | body | | | | | | containing | | | | | | the service | | | | | | priority | | | | | | information | | | | | | (priority | | | | | | namespaces | | | | | | and | | | | | | associated | | | | | | levels) | | | | | | allowed for | | | | | | the user | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | indicates | | | | | | that the user | | | | | | does not have | | | | | | priority | | | | | | service. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.11.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.11.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
#### 6.2.3.12 Resource: Initial Filter Criteria
##### 6.2.3.12.1 Description
This resource represents the Initial Filter Criteria (IFCs). It is queried by
the service consumer (e.g. S-CSCF, AS) to retrieve the list of IFCs associated
to the UE (including Shared IFC Set Identifiers, if provisioned).
##### 6.2.3.12.2 Resource Definition
Resource URI: **{** apiRoot}/nhss-ims-sdm/{apiVersion}/{imsUeId}/ims-
data/profile-data/ifcs
This resource shall support the resource URI variables defined in table
6.2.3.12.2-1.
Table 6.2.3.12.2-1: Resource URI variables for this resource
+------------+--------------------------------------------------------+ | Name | Definition | +============+========================================================+ | apiRoot | See clause 6.2.1 | +------------+--------------------------------------------------------+ | apiVersion | See clause 6.2.1 | +------------+--------------------------------------------------------+ | imsUeId | Represents the IMS Public Identity (i.e. IMS Public | | | User identity or Public Service Identity) | | | | | | pattern: | | | \"\^(impu-sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$ | | | ,;?\/]+)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a- | | | z]{2,}\|impu-tel\:\\+[0-9]{5,15}\|impi-.+\|.+)\$\" | +------------+--------------------------------------------------------+
##### 6.2.3.12.3 Resource Standard Methods
##### 6.2.3.12.3.1 GET {#get-11 .H6}
This method shall support the URI query parameters specified in table
6.2.3.12.3.1-1.
Table 6.2.3.12.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability supported-features
SupportedFeatures O 0..1 see 3GPP TS 29.500 [4] clause 6.6  
application-server-name SipServerName O 0..1 This information element
indicates application server\'s SIP URI.
* * *
This method shall support the request data structures specified in table
6.2.3.12.3.1-2 and the response data structures and response codes specified
in table 6.2.3.12.3.1-3.
Table 6.2.3.12.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.12.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Ifcs | M | 1 | 200 OK | A response | | | | | | body | | | | | | containing | | | | | | the list of | | | | | | complete IFCs | | | | | | and/or shared | | | | | | IFC set | | | | | | identifiers | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | indicates | | | | | | that there is | | | | | | no Initial | | | | | | Filter | | | | | | Criteria | | | | | | associated to | | | | | | the user | | | | | | (i.e. no AS | | | | | | is triggered | | | | | | by S-CSCF for | | | | | | the user) | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.12.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.12.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
#### 6.2.3.13 Resource: IMS Location Data
##### 6.2.3.13.1 Description
This resource represents the IMS location data. It is queried by the service
consumer (e.g. AS) to retrieve the S-CSCF name stored for the user.
##### 6.2.3.13.2 Resource Definition
Resource URI: **{** apiRoot}/nhss-ims-sdm/{apiVersion}/{imsUeId}/ims-
data/location-data/server-name
This resource shall support the resource URI variables defined in table
6.2.3.13.2-1.
Table 6.2.3.13.2-1: Resource URI variables for this resource
+------------+--------------------------------------------------------+ | Name | Definition | +============+========================================================+ | apiRoot | See clause 6.2.1 | +------------+--------------------------------------------------------+ | apiVersion | See clause 6.2.1 | +------------+--------------------------------------------------------+ | imsUeId | Represents the IMS Public Identity (i.e. IMS Public | | | User identity or Public Service Identity) | | | | | | pattern: | | | \"\^(impu-sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$ | | | ,;?\/]+)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a- | | | z]{2,}\|impu-tel\:\\+[0-9]{5,15}\|impi-.+\|.+)\$\" | +------------+--------------------------------------------------------+
##### 6.2.3.13.3 Resource Standard Methods
##### 6.2.3.13.3.1 GET {#get-12 .H6}
This method shall support the URI query parameters specified in table
6.2.3.13.3.1-1.
Table 6.2.3.13.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability supported-features
SupportedFeatures O 0..1 see 3GPP TS 29.500 [4] clause 6.6
* * *
This method shall support the request data structures specified in table
6.2.3.13.3.1-2 and the response data structure and response codes specified in
table 6.2.3.13.3.1-3.
Table 6.2.3.13.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.13.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Im | M | 1 | 200 OK | A response | | sLocationData | | | | body | | | | | | containing | | | | | | the S-CSCF | | | | | | name stored | | | | | | for the user. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | indicates the | | | | | | user has not | | | | | | performed yet | | | | | | any IMS | | | | | | registration. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.13.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.13.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
#### 6.2.3.14 Resource: Service Level Trace Information
##### 6.2.3.14.1 Description
This resource represents the Service Level Trace Information. It is queried by
the service consumer (e.g. AS) to retrieve the Trace Level information so that
the consumer can perform logging for the user as described in IETF RFC 8497
[23].
##### 6.2.3.14.2 Resource Definition
Resource URI: **{** apiRoot}/nhss-ims-sdm/{apiVersion}/{imsUeId}/ims-
data/profile-data/service-trace-level-information
This resource shall support the resource URI variables defined in table
6.2.3.14.2-1.
Table 6.2.3.14.2-1: Resource URI variables for this resource
+------------+--------------------------------------------------------+ | Name | Definition | +============+========================================================+ | apiRoot | See clause 6.2.1 | +------------+--------------------------------------------------------+ | apiVersion | See clause 6.2.1 | +------------+--------------------------------------------------------+ | imsUeId | Represents the IMS Public Identity (i.e. IMS Public | | | User identity or Public Service Identity) | | | | | | pattern: | | | \"\^(impu-sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$ | | | ,;?\/]+)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a- | | | z]{2,}\|impu-tel\:\\+[0-9]{5,15}\|impi-.+\|.+)\$\" | +------------+--------------------------------------------------------+
##### 6.2.3.14.3 Resource Standard Methods
##### 6.2.3.14.3.1 GET {#get-13 .H6}
This method shall support the URI query parameters specified in table
6.2.3.14.3.1-1.
Table 6.2.3.14.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability supported-features
SupportedFeatures O 0..1 see 3GPP TS 29.500 [4] clause 6.6
* * *
This method shall support the request data structures specified in table
6.2.3.14.3.1-2 and the response data structures and response codes specified
in table 6.2.3.14.3.1-3.
Table 6.2.3.14.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.14.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Se | M | 1 | 200 OK | A response | | rviceLevelTra | | | | body | | ceInformation | | | | containing | | | | | | the IMS | | | | | | service level | | | | | | trace | | | | | | information | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | indicates | | | | | | that the | | | | | | service level | | | | | | tracing is | | | | | | disabled for | | | | | | the user. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.14.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.14.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
#### 6.2.3.15 Resource: PS location Information
##### 6.2.3.15.1 Description
This resource represents the Location Information in PS domain. It is queried
by the service consumer (e.g. AS) to retrieve the location information in PS
domain as retrieved from the serving node(s). The service consumer may
indicate the requested nodes for which the request is applicable (e.g. AMF
only)
##### 6.2.3.15.2 Resource Definition
Resource URI: **{** apiRoot}/nhss-ims-sdm/{apiVersion}/{imsUeId}/access-
data/ps-domain/location-data
This resource shall support the resource URI variables defined in table
6.2.3.15.2-1.
Table 6.2.3.15.2-1: Resource URI variables for this resource
+------------+--------------------------------------------------------+ | Name | Definition | +============+========================================================+ | apiRoot | See clause 6.2.1 | +------------+--------------------------------------------------------+ | apiVersion | See clause 6.2.1 | +------------+--------------------------------------------------------+ | imsUeId | Represents the IMS Public Identity (i.e. IMS Public | | | User identity or Public Service Identity) or the IMS | | | private Identity. If both the IMS Public Identity and | | | the IMS Private Identity are available at the service | | | consumer, the imsUeId represents the IMS Public | | | Identity. | | | | | | pattern: | | | \"\^(impu-sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$ | | | ,;?\/]+)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a- | | | z]{2,}\|impu-tel\:\\+[0-9]{5,15}\|impi-.+\|.+)\$\" | +------------+--------------------------------------------------------+
##### 6.2.3.15.3 Resource Standard Methods
##### 6.2.3.15.3.1 GET {#get-14 .H6}
This method shall support the URI query parameters specified in table
6.2.3.15.3.1-1.
Table 6.2.3.15.3.1-1: URI query parameters supported by the GET method on this
resource
+---------------+---------------+---+-------------+---------------+ | Name | Data type | P | Cardinality | Description | +---------------+---------------+---+-------------+---------------+ | re | array(R | O | 1..N | Indicates the | | quested-nodes | equestedNode) | | | serving | | | | | | node(s) for | | | | | | which the | | | | | | request is | | | | | | applicable. | +---------------+---------------+---+-------------+---------------+ | serving-node | boolean | O | 0..1 | Indicates | | | | | | that only the | | | | | | stored NF | | | | | | id/address of | | | | | | the serving | | | | | | node(s) | | | | | | requested and | | | | | | PLMN identity | | | | | | are required, | | | | | | that is, | | | | | | other | | | | | | location data | | | | | | (e.g. Global | | | | | | Cell ID) is | | | | | | not required. | | | | | | | | | | | | It shall be | | | | | | absent if | | | | | | cur | | | | | | rent-location | | | | | | is present | | | | | | with value | | | | | | true. | | | | | | | | | | | | true: only | | | | | | the requested | | | | | | node(s) | | | | | | address(es) | | | | | | are requested | | | | | | | | | | | | false or | | | | | | absent: | | | | | | location data | | | | | | as retrieved | | | | | | from the | | | | | | requested | | | | | | node(s) is | | | | | | requested. | +---------------+---------------+---+-------------+---------------+ | local-time | boolean | O | 0..1 | Indicates | | | | | | that only the | | | | | | Local Time | | | | | | Zone | | | | | | information | | | | | | (Time Zone | | | | | | and Daylight | | | | | | Saving Time) | | | | | | and the PLMN | | | | | | identity of | | | | | | the location | | | | | | in the | | | | | | visited | | | | | | network where | | | | | | the UE is | | | | | | attached is | | | | | | requested, | | | | | | that is, | | | | | | other | | | | | | location data | | | | | | (e.g. Global | | | | | | Cell ID) is | | | | | | not required. | | | | | | | | | | | | true: only | | | | | | the local | | | | | | time is | | | | | | requested | | | | | | | | | | | | false or | | | | | | absent: | | | | | | location data | | | | | | as retrieved | | | | | | from the | | | | | | requested | | | | | | node(s) is | | | | | | requested. | +---------------+---------------+---+-------------+---------------+ | cur | boolean | O | 0..1 | Indicates | | rent-location | | | | whether an | | | | | | active | | | | | | location | | | | | | retrieval has | | | | | | to be | | | | | | initiated by | | | | | | the requested | | | | | | node(s). | | | | | | | | | | | | true: active | | | | | | location | | | | | | retrieval is | | | | | | requested | | | | | | | | | | | | false or | | | | | | absent: | | | | | | active | | | | | | location | | | | | | retrieval is | | | | | | not requested | +---------------+---------------+---+-------------+---------------+ | rat-type | boolean | O | 0..1 | Indicates | | | | | | whether | | | | | | retrieval of | | | | | | RAT type is | | | | | | requested. | | | | | | | | | | | | true: | | | | | | requested | | | | | | | | | | | | false: not | | | | | | requested | +---------------+---------------+---+-------------+---------------+ | suppo | Supp | O | 0..1 | see | | rted-features | ortedFeatures | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | clause 6.6 | +---------------+---------------+---+-------------+---------------+ | pri | PrivateId | C | 0..1 | Represents | | vate-identity | | | | the IMS | | | | | | Private | | | | | | Identity.\ | | | | | | Shall be | | | | | | present if | | | | | | the imsUeId | | | | | | variable in | | | | | | the resource | | | | | | URI takes the | | | | | | value of an | | | | | | IMS Public | | | | | | User Identity | | | | | | that is | | | | | | shared by | | | | | | several | | | | | | Private User | | | | | | Identities. | +---------------+---------------+---+-------------+---------------+
If \"requested-nodes\" is not included, HSS shall return location information
as retrieved from all the nodes (AMF, MME and SGSN)
This method shall support the request data structures specified in table
6.2.3.15.3.1-2 and the response data structures and response codes specified
in table 6.2.3.15.3.1-3.
Table 6.2.3.15.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.15.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | PsLocation | M | 1 | 200 OK | A response | | | | | | body | | | | | | containing | | | | | | the PS | | | | | | location | | | | | | information | | | | | | as requested | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | indicates | | | | | | that the | | | | | | location | | | | | | information | | | | | | is unknown or | | | | | | unavailable. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.15.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.15.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
#### 6.2.3.16 Resource: CS location Information
##### 6.2.3.16.1 Description
This resource represents the Location Information in CS domain. It is queried
by the service consumer (e.g. AS) to retrieve the location information in CS
domain as retrieved from the MSC/VLR.
##### 6.2.3.16.2 Resource Definition
Resource URI: **{** apiRoot}/nhss-ims-sdm/{apiVersion}/{imsUeId}/access-
data/cs-domain/location-data
This resource shall support the resource URI variables defined in table
6.2.3.16.2-1.
Table 6.2.3.16.2-1: Resource URI variables for this resource
+------------+--------------------------------------------------------+ | Name | Definition | +============+========================================================+ | apiRoot | See clause 6.2.1 | +------------+--------------------------------------------------------+ | apiVersion | See clause 6.2.1 | +------------+--------------------------------------------------------+ | imsUeId | Represents the IMS Public Identity (i.e. IMS Public | | | User identity or Public Service Identity) or the IMS | | | private Identity. If both the IMS Public Identity and | | | the IMS Private Identity are available at the service | | | consumer, the imsUeId represents the IMS Public | | | Identity. | | | | | | pattern: | | | \"\^(impu-sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$ | | | ,;?\/]+)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a- | | | z]{2,}\|impu-tel\:\\+[0-9]{5,15}\|impi-.+\|.+)\$\" | +------------+--------------------------------------------------------+
##### 6.2.3.16.3 Resource Standard Methods
##### 6.2.3.16.3.1 GET {#get-15 .H6}
This method shall support the URI query parameters specified in table
6.2.3.16.3.1-1.
Table 6.2.3.16.3.1-1: URI query parameters supported by the GET method on this
resource
+---------------+---------------+---+-------------+---------------+ | Name | Data type | P | Cardinality | Description | +---------------+---------------+---+-------------+---------------+ | serving-node | boolean | O | 0..1 | Indicates | | | | | | that only the | | | | | | MSC/VLR | | | | | | address and | | | | | | PLMN identity | | | | | | are required, | | | | | | that is, | | | | | | other | | | | | | location data | | | | | | (e.g. Global | | | | | | Cell ID) is | | | | | | not required. | | | | | | | | | | | | It shall be | | | | | | absent if | | | | | | cur | | | | | | rent-location | | | | | | is present. | | | | | | | | | | | | true: only | | | | | | the MSC/VLR | | | | | | number | | | | | | requested | | | | | | | | | | | | false or | | | | | | absent: | | | | | | location data | | | | | | as retrieved | | | | | | from the | | | | | | MSC/VLR is | | | | | | requested. | +---------------+---------------+---+-------------+---------------+ | local-time | boolean | O | 0..1 | Indicates | | | | | | that only the | | | | | | Local Time | | | | | | Zone | | | | | | information | | | | | | (Time Zone | | | | | | and Daylight | | | | | | Saving Time) | | | | | | and the PLMN | | | | | | identity of | | | | | | the location | | | | | | in the | | | | | | visited | | | | | | network where | | | | | | the UE is | | | | | | attached is | | | | | | requested, | | | | | | that is, | | | | | | other | | | | | | location data | | | | | | (e.g. Global | | | | | | Cell ID) is | | | | | | not required. | | | | | | | | | | | | It shall be | | | | | | absent if | | | | | | cur | | | | | | rent-location | | | | | | is present. | +---------------+---------------+---+-------------+---------------+ | cur | boolean | O | 0..1 | Indicates | | rent-location | | | | whether an | | | | | | active | | | | | | location | | | | | | retrieval has | | | | | | to be | | | | | | initiated by | | | | | | the MSC/VLR. | +---------------+---------------+---+-------------+---------------+ | suppo | Supp | O | 0..1 | see | | rted-features | ortedFeatures | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | clause 6.6 | +---------------+---------------+---+-------------+---------------+ | pri | PrivateId | C | 0..1 | Represents | | vate-identity | | | | the IMS | | | | | | Private | | | | | | Identity.\ | | | | | | Shall be | | | | | | present if | | | | | | the imsUeId | | | | | | variable in | | | | | | the resource | | | | | | URI takes the | | | | | | value of an | | | | | | IMS Public | | | | | | User Identity | | | | | | that is | | | | | | shared by | | | | | | several | | | | | | Private User | | | | | | Identities. | +---------------+---------------+---+-------------+---------------+
If \"serving-node\" is not included, HSS shall return the location data as
retrieved from the MSC/VLR.
If \"local-time\" is not included, HSS shall return the location data as
retrieved from the MSC/VLR.
This method shall support the request data structures specified in table
6.2.3.16.3.1-2 and the response data structures and response codes specified
in table 6.2.3.16.3.1-3.
Table 6.2.3.16.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.16.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | CsLocation | M | 1 | 200 OK | A response | | | | | | body | | | | | | containing | | | | | | the CS | | | | | | location | | | | | | information | | | | | | as requested | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | indicates | | | | | | that the | | | | | | location | | | | | | information | | | | | | is unknown or | | | | | | unavailable. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.16.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.16.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
#### 6.2.3.17 Resource: SRVCC data
##### 6.2.3.17.1 Description
This resource represents the SRVCC data. It is queried by the service consumer
(e.g. AS) to retrieve the UE SRVCC capability and the STN-SR for the user.
##### 6.2.3.17.2 Resource Definition
Resource URI: **{** apiRoot}/nhss-ims-sdm/{apiVersion}/{imsUeId}/srvcc-data
This resource shall support the resource URI variables defined in table
6.2.3.17.2-1.
Table 6.2.3.17.2-1: Resource URI variables for this resource
+------------+--------------------------------------------------------+ | Name | Definition | +============+========================================================+ | apiRoot | See clause 6.2.1 | +------------+--------------------------------------------------------+ | apiVersion | See clause 6.2.1 | +------------+--------------------------------------------------------+ | imsUeId | Represents the IMS Public Identity (i.e. IMS Public | | | User identity or Public Service Identity) or the IMS | | | private Identity. If both the IMS Public Identity and | | | the IMS Private Identity are available at the service | | | consumer, the imsUeId represents the IMS Public | | | Identity. | | | | | | pattern: | | | \"\^(impu-sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$ | | | ,;?\/]+)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a- | | | z]{2,}\|impu-tel\:\\+[0-9]{5,15}\|impi-.+\|.+)\$\" | +------------+--------------------------------------------------------+
##### 6.2.3.17.3 Resource Standard Methods
##### 6.2.3.17.3.1 GET {#get-16 .H6}
This method shall support the URI query parameters specified in table
6.2.3.17.3.1-1.
Table 6.2.3.17.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability
supported-features SupportedFeatures O 0..1 see 3GPP TS 29.500 [4] clause 6.6
private-identity PrivateId C 0..1 Represents the IMS Private Identity.\  
Shall be present if the imsUeId variable in the resource URI takes the value
of an IMS Public User Identity that is shared by several Private User
Identities.
* * *
This method shall support the request data structures specified in table
6.2.3.17.3.1-2 and the response data structures and response codes specified
in table 6.2.3.17.3.1-3.
Table 6.2.3.17.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.17.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | SrvccData | M | 1 | 200 OK | A response | | | | | | body | | | | | | containing | | | | | | the STN-SR | | | | | | and the UE | | | | | | SRVCC | | | | | | capabilities | | | | | | for the user | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | indicates | | | | | | that the user | | | | | | is not | | | | | | subscribed to | | | | | | SRVCC. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.17.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.17.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
##### 6.2.3.17.3.2 PATCH {#patch-2 .H6}
This method shall support the URI query parameters specified in table
6.2.3.17.3.2-1.
Table 6.2.3.17.3.2-1: URI query parameters supported by the PATCH method on
this resource
* * *
Name Data type P Cardinality Description
Supported-features SupportedFeatures O 0..1 see 3GPP TS 29.500 [4] clause 6.6
private-identity PrivateId C 0..1 Represents the IMS Private Identity.\ Shall
be present if the imsUeId variable in the resource URI takes the value of an
IMS Public User Identity that is shared by several Private User Identities.
* * *
This method shall support the request data structures specified in table
6.2.3.17.3.2-2 and the response data structures and response codes specified
in table 6.2.3.17.3.2-3.
Table 6.2.3.17.3.2-2: Data structures supported by the PATCH Request Body on
this resource
+------------------+---+-------------+------------------------+ | Data type | P | Cardinality | Description | +------------------+---+-------------+------------------------+ | array(PatchItem) | M | 1..N | Items describe the | | | | | modifications to the | | | | | SRVCC data. | | | | | | | | | | Modification are not | | | | | applicable to UE SRVCC | | | | | capabilities. | +------------------+---+-------------+------------------------+
Table 6.2.3.17.3.2-3: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned. | | | | | | (NOTE 1) | +---------------+---+-------------+---------------+---------------+ | PatchResult | M | 1 | 200 OK | Upon success, | | | | | | the execution | | | | | | report is | | | | | | returned. | | | | | | (NOTE 1) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | indicates | | | | | | that the user | | | | | | is not | | | | | | subscribed to | | | | | | SRVCC. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | One or more | | roblemDetails | | | | attributes | | | | | | are not | | | | | | allowed to be | | | | | | modified. | | | | | | | | | | | | The \"cause\" | | | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | M | | | | | | ODIFICATION_ | | | | | | NOT_ALLOWED, | | | | | | see | | | | | | GPP TS | | | | | | 29.500 [4] | | | | | | tab | | | | | | le 5.2.7.2-1. | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+ | NOTE 1: If | | | | | | all the | | | | | | modification | | | | | | instructions | | | | | | in the PATCH | | | | | | request have | | | | | | been | | | | | | implemented, | | | | | | the HSS shall | | | | | | respond with | | | | | | 204 No | | | | | | Content | | | | | | response; if | | | | | | some of the | | | | | | modification | | | | | | instructions | | | | | | in the PATCH | | | | | | request have | | | | | | been | | | | | | discarded, | | | | | | and the NF | | | | | | service | | | | | | consumer has | | | | | | included in | | | | | | the | | | | | | supp | | | | | | orted-feature | | | | | | query | | | | | | parameter the | | | | | | \" | | | | | | PatchReport\" | | | | | | feature | | | | | | number, the | | | | | | HSS shall | | | | | | respond with | | | | | | PatchResult. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.17.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.17.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
#### 6.2.3.18 Resource: PSI activation state
##### 6.2.3.18.1 Description
This resource represents the PSI activation state. It is queried by the
service consumer (e.g. AS) to retrieve the activation state for the IMS Public
Service Identity.
##### 6.2.3.18.2 Resource Definition
Resource URI: **{** apiRoot}/nhss-ims-sdm/{apiVersion}/{imsUeId}/psi-status
This resource shall support the resource URI variables defined in table
6.2.3.18.2-1.
Table 6.2.3.18.2-1: Resource URI variables for this resource
+------------+--------------------------------------------------------+ | Name | Definition | +============+========================================================+ | apiRoot | See clause 6.2.1 | +------------+--------------------------------------------------------+ | apiVersion | See clause 6.2.1 | +------------+--------------------------------------------------------+ | imsUeId | Represents the IMS Public Service Identity | | | | | | pattern: | | | \"\^(impu-sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$ | | | ,;?\/]+)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a- | | | z]{2,}\|impu-tel\:\\+[0-9]{5,15}\|impi-.+\|.+)\$\" | +------------+--------------------------------------------------------+
##### 6.2.3.18.3 Resource Standard Methods
##### 6.2.3.18.3.1 GET {#get-17 .H6}
This method shall support the URI query parameters specified in table
6.2.3.18.3.1-1.
Table 6.2.3.18.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability supported-features
SupportedFeatures O 0..1 see 3GPP TS 29.500 [4] clause 6.6
* * *
This method shall support the request data structures specified in table
6.2.3.18.3.1-2 and the response data structures and response codes specified
in table 6.2.3.18.3.1-3.
Table 6.2.3.18.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.18.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | PsiAc | M | 1 | 200 OK | A response | | tivationState | | | | body | | | | | | containing | | | | | | the PSI | | | | | | activation | | | | | | state shall | | | | | | be returned. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | SERVIC | | | | | | E_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.18.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.18.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
##### 6.2.3.18.3.2 PATCH {#patch-3 .H6}
This method shall support the URI query parameters specified in table
6.2.3.18.3.2-1.
Table 6.2.3.18.3.2-1: URI query parameters supported by the PATCH method on
this resource
* * *
Name Data type P Cardinality Description Supported-features SupportedFeatures
O 0..1 see 3GPP TS 29.500 [4] clause 6.6
* * *
This method shall support the request data structures specified in table
6.2.3.18.3.2-2 and the response data structures and response codes specified
in table 6.2.3.18.3.2-3.
Table 6.2.3.18.3.2-2: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description array(PatchItem) M 1..N Items describe the
modifications to the PSI activation state.
* * *
Table 6.2.3.18.3.2-3: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned. | | | | | | (NOTE 1) | +---------------+---+-------------+---------------+---------------+ | PatchResult | M | 1 | 200 OK | Upon success, | | | | | | the execution | | | | | | report is | | | | | | returned. | | | | | | (NOTE 1) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | SERVIC | | | | | | E_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | One or more | | roblemDetails | | | | attributes | | | | | | are not | | | | | | allowed to be | | | | | | modified. | | | | | | | | | | | | The \"cause\" | | | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | M | | | | | | ODIFICATION_ | | | | | | NOT_ALLOWED, | | | | | | see | | | | | | GPP TS | | | | | | 29.500 [4] | | | | | | tab | | | | | | le 5.2.7.2-1. | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+ | NOTE 1: If | | | | | | all the | | | | | | modification | | | | | | instructions | | | | | | in the PATCH | | | | | | request have | | | | | | been | | | | | | implemented, | | | | | | the HSS shall | | | | | | respond with | | | | | | 204 No | | | | | | Content | | | | | | response; if | | | | | | some of the | | | | | | modification | | | | | | instructions | | | | | | in the PATCH | | | | | | request have | | | | | | been | | | | | | discarded, | | | | | | and the NF | | | | | | service | | | | | | consumer has | | | | | | included in | | | | | | the | | | | | | supp | | | | | | orted-feature | | | | | | query | | | | | | parameter the | | | | | | \" | | | | | | PatchReport\" | | | | | | feature | | | | | | number, the | | | | | | HSS shall | | | | | | respond with | | | | | | PatchResult. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.18.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.18.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
#### 6.2.3.19 Resource: Repository Data
##### 6.2.3.19.1 Description
This resource represents the Repository Data. It is used by the service
consumer (e.g. IMS-AS) to create, retrieve, update or delete the repository
data for a given service indication.
##### 6.2.3.19.2 Resource Definition
Resource URI: **{** apiRoot}/nhss-ims-sdm/{apiVersion}/{imsUeId}/repository-
data/{serviceIndication}
This resource shall support the resource URI variables defined in table
6.2.3.19.2-1.
Table 6.2.3.19.2-1: Resource URI variables for this resource
+-------------------+-------------------------------------------------+ | Name | Definition | +===================+=================================================+ | apiRoot | See clause 6.2.1 | +-------------------+-------------------------------------------------+ | apiVersion | See clause 6.2.1 | +-------------------+-------------------------------------------------+ | imsUeId | Represents the IMS Public Identity (i.e. IMS | | | Public User identity or Public Service | | | Identity) | | | | | | pattern: | | | \"\^(impu-sip | | | \:([a-zA-Z0-9_\\-.!\~*()&=+\$,;?\/]+)\@( | | | [A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a-z]{2,} | | | \|impu-tel\:\\+[0-9]{5,15}\|impi-.+\|.+)\$\" | +-------------------+-------------------------------------------------+ | serviceIndication | Represents the identifier of a service related | | | data. | +-------------------+-------------------------------------------------+
##### 6.2.3.19.3 Resource Standard Methods
##### 6.2.3.19.3.1 GET {#get-18 .H6}
This method shall support the URI query parameters specified in table
6.2.3.19.3.1-1.
Table 6.2.3.19.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description supported-features SupportedFeatures
O 0..1 see 3GPP TS 29.500 [4] clause 6.6
* * *
This method shall support the request data structures specified in table
6.2.3.19.3.1-2 and the response data structures and response codes specified
in table 6.2.3.19.3.1-3.
Table 6.2.3.19.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.19.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | R | M | 1 | 200 OK | A response | | epositoryData | | | | body | | | | | | containing | | | | | | the | | | | | | Repository | | | | | | Data for the | | | | | | requested | | | | | | Service | | | | | | Indication. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.19.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.19.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
##### 6.2.3.19.3.2 PUT {#put-2 .H6}
This method shall support the URI query parameters specified in table
6.2.3.19.3.2-1.
Table 6.2.3.19.3.2-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.2.3.19.3.2-2 and the response data structures and response codes specified
in table 6.2.3.19.3.2-3.
Table 6.2.3.19.3.2-2: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description RepositoryData M 1 The Repository Data to
be created or replaced.
* * *
Table 6.2.3.19.3.2-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | R | M | 1 | 201 Created | Upon success, | | epositoryData | | | | a response | | | | | | body | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | R | | | | | | epositoryData | | | | | | resource | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | R | M | 1 | 200 OK | Upon success, | | epositoryData | | | | a response | | | | | | body | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | Individual | | | | | | R | | | | | | epositoryData | | | | | | resource | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 409 Conflict | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | OUT_OF_SYNC | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 413 Payload | The \"cause\" | | roblemDetails | | | Too Large | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | TO | | | | | | O_MUCH_DATA | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.19.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.19.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.19.3.2-6: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/nhss-ims-
sdm/\/{imsUeId}/repository-data/{serviceIndication}
* * *
##### 6.2.3.19.3.3 DELETE {#delete-3 .H6}
This method shall support the URI query parameters specified in table
6.2.3.19.3.3-1.
Table 6.2.3.19.3.3-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.2.3.19.3.3-2 and the response data structures and response codes specified
in table 6.2.3.19.3.3-3.
Table 6.2.3.19.3.3-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a The request body shall be empty.
* * *
Table 6.2.3.19.3.3-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | indicates | | | | | | that no | | | | | | repository | | | | | | data exists | | | | | | for the | | | | | | requested | | | | | | service | | | | | | indication. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.19.3.3-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.19.3.3-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
#### 6.2.3.20 Resource: SharedData
##### 6.2.3.20.1 Description
This resource represents the collection of data that can be shared by multiple
UEs.
##### 6.2.3.20.2 Resource Definition
Resource URI: {apiRoot}/nhss-ims-sdm/\/shared-data
This resource shall support the resource URI variables defined in table
6.2.3.20.2-1.
Table 6.2.3.20.2-1: Resource URI variables for this resource
Name Definition
* * *
apiRoot See clause 6.2.1 apiVersion See clause 6.2.1
##### 6.2.3.20.3 Resource Standard Methods
##### 6.2.3.20.3.1 GET {#get-19 .H6}
This method shall support the URI query parameters specified in table
6.2.3.20.3.1-1.
Table 6.2.3.20.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description shared-data-ids array(SharedDataId) M
1..N
* * *
This method shall support the request data structures specified in table
6.2.3.20.3.1-2 and the response data structures and response codes specified
in table 6.2.3.20.3.1-3.
Table 6.2.3.20.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.20.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | arra | M | 1..N | 200 OK | Upon success, | | y(SharedData) | | | | a response | | | | | | body | | | | | | containing a | | | | | | list of | | | | | | SharedData | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.20.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.20.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
#### 6.2.3.21 Resource: ImeiSvInformation
##### 6.2.3.21.1 Description
This resource represents the IMEI(SV) information. It is queried by the
service consumer (e.g. IMS AS) to retrieve the IMEI(SV) for the user.
##### 6.2.3.21.2 Resource Definition
Resource URI: **{** apiRoot}/nhss-ims-
sdm/{apiVersion}/{imsUeId}/identities/imeisv
This resource shall support the resource URI variables defined in table
6.2.3.21.2-1.
Table 6.2.3.21.2-1: Resource URI variables for this resource
+------------+--------------------------------------------------------+ | Name | Definition | +============+========================================================+ | apiRoot | See clause 6.2.1 | +------------+--------------------------------------------------------+ | apiVersion | See clause 6.2.1 | +------------+--------------------------------------------------------+ | imsUeId | Represents the IMS Public Identity (i.e. IMS Public | | | User identity) or the IMS Private Identity. If both | | | the IMS Public Identity and the IMS Private Identity | | | are available at the service consumer, the imsUeId | | | represents the IMS Public Identity. | | | | | | pattern: | | | \"\^(impu-sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$ | | | ,;?\/]+)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a- | | | z]{2,}\|impu-tel\:\\+[0-9]{5,15}\|impi-.+\|.+)\$\" | +------------+--------------------------------------------------------+
##### 6.2.3.21.3 Resource Standard Methods
##### 6.2.3.21.3.1 GET {#get-20 .H6}
This method shall support the URI query parameters specified in table
6.2.3.21.3.1-1.
Table 6.2.3.21.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability
supported-features SupportedFeatures O 0..1 see 3GPP TS 29.500 [4] clause 6.6
private-identity PrivateId C 0..1 Represents the IMS Private Identity.\  
Shall be present if the imsUeId variable in the resource URI takes the value
of an IMS Public User Identity that is shared by several Private User
Identities.
* * *
This method shall support the request data structures specified in table
6.2.3.21.3.1-2 and the response data structures and response codes specified
in table 6.2.3.21.3.1-3.
Table 6.2.3.21.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.21.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Imei | M | 1 | 200 OK | A response | | SvInformation | | | | body | | | | | | containing | | | | | | the IMEI(SV) | | | | | | information | | | | | | for the user | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.21.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.21.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
#### 6.2.3.22 Resource: IP Address
##### 6.2.3.22.1 Description
This resource represents the IP Address Information. It is queried by the
service consumer (e.g. SCC-AS) to retrieve the IP Address Information for the
user.
##### 6.2.3.22.2 Resource Definition
Resource URI: **{** apiRoot}/nhss-ims-sdm/{apiVersion}/{imsUeId}/access-
data/ps-domain/ip-address
This resource shall support the resource URI variables defined in table
6.2.3.22.2-1.
Table 6.2.3.22.2-1: Resource URI variables for this resource
+------------+--------------------------------------------------------+ | Name | Definition | +============+========================================================+ | apiRoot | See clause 6.2.1 | +------------+--------------------------------------------------------+ | apiVersion | See clause 6.2.1 | +------------+--------------------------------------------------------+ | imsUeId | Represents the IMS Public Identity (i.e. non-shared | | | IMS Public User identity) or the IMS Private Identity. | | | | | | pattern: | | | \"\^(impu-sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$ | | | ,;?\/]+)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a- | | | z]{2,}\|impu-tel\:\\+[0-9]{5,15}\|impi-.+\|.+)\$\" | +------------+--------------------------------------------------------+
##### 6.2.3.22.3 Resource Standard Methods
##### 6.2.3.22.3.1 GET {#get-21 .H6}
This method shall support the URI query parameters specified in table
6.2.3.22.3.1-1.
Table 6.2.3.22.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability supported-features
SupportedFeatures O 0..1 see 3GPP TS 29.500 [4] clause 6.6
* * *
This method shall support the request data structures specified in table
6.2.3.22.3.1-2 and the response data structures and response codes specified
in table 6.2.3.22.3.1-3.
Table 6.2.3.22.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.22.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | IpAddr | M | 1 | 200 OK | A response | | | | | | body | | | | | | containing | | | | | | the IP | | | | | | address | | | | | | (IPv4, Ipv6, | | | | | | Ipv6 prefix | | | | | | and/or IPv6 | | | | | | interface | | | | | | identifier) | | | | | | for the user | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | indicates | | | | | | that no IP | | | | | | Address is | | | | | | currently | | | | | | allocated for | | | | | | the user. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.22.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.22.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
#### 6.2.3.23 Resource: T-ADS Info
##### 6.2.3.23.1 Description
This resource represents the T-ADS Information. It is queried by the service
consumer (e.g. SCC-AS) to retrieve the T-ADS Information for the user.
##### 6.2.3.23.2 Resource Definition
Resource URI: **{** apiRoot}/nhss-ims-sdm/{apiVersion}/{imsUeId}/access-
data/ps-domain/tads-info
This resource shall support the resource URI variables defined in table
6.2.3.23.2-1.
Table 6.2.3.23.2-1: Resource URI variables for this resource
+------------+--------------------------------------------------------+ | Name | Definition | +============+========================================================+ | apiRoot | See clause 6.2.1 | +------------+--------------------------------------------------------+ | apiVersion | See clause 6.2.1 | +------------+--------------------------------------------------------+ | imsUeId | Represents the IMS Public Identity (i.e. IMS Public | | | User identity) or the IMS Private Identity. If both | | | the IMS Public Identity and the IMS Private Identity | | | are available at the service consumer, the imsUeId | | | represents the IMS Public Identity. | | | | | | pattern: | | | \"\^(impu-sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$ | | | ,;?\/]+)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a- | | | z]{2,}\|impu-tel\:\\+[0-9]{5,15}\|impi-.+\|.+)\$\" | +------------+--------------------------------------------------------+
##### 6.2.3.23.3 Resource Standard Methods
##### 6.2.3.23.3.1 GET {#get-22 .H6}
This method shall support the URI query parameters specified in table
6.2.3.23.3.1-1.
Table 6.2.3.23.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability
supported-features SupportedFeatures O 0..1 see 3GPP TS 29.500 [4] clause 6.6
private-identity PrivateId C 0..1 Represents the IMS Private Identity.\  
Shall be present if the imsUeId variable in the resource URI takes the value
of an IMS Public User Identity that is shared by several Private User
Identities.
* * *
This method shall support the request data structures specified in table
6.2.3.23.3.1-2 and the response data structures and response codes specified
in table 6.2.3.23.3.1-3.
Table 6.2.3.23.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.23.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Ta | M | 1 | 200 OK | A response | | dsInformation | | | | body | | | | | | containing | | | | | | the T-ADS | | | | | | information | | | | | | (most recent | | | | | | VoPS support) | | | | | | for the user | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.23.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.23.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
#### 6.2.3.24 Resource: UeReachabilitySubscriptions
#### 6.2.3.24 Description
This resource is used to represent subscriptions to notifications of UE
Reachability for IP.
##### 6.2.3.24.2 Resource Definition
Resource URI: {apiRoot}/nhss-ims-sdm/{apiVersion}/{imsUeId}/access-data/ps-
domain/ue-reach-subscriptions
This resource shall support the resource URI variables defined in table
6.2.3.24.2-1.
Table 6.2.3.24.2-1: Resource URI variables for this resource
+------------+--------------------------------------------------------+ | Name | Definition | +============+========================================================+ | apiRoot | See clause 6.2.1 | +------------+--------------------------------------------------------+ | apiVersion | See clause 6.2.1 | +------------+--------------------------------------------------------+ | imsUeId | Represents the IMS Public Identity (i.e. IMS Public | | | User identity or Public Service Identity) | | | | | | pattern: | | | \"\^(impu-sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$ | | | ,;?\/]+)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a- | | | z]{2,}\|impu-tel\:\\+[0-9]{5,15}\|impi-.+\|.+)\$\" | +------------+--------------------------------------------------------+
##### 6.2.3.24.3 Resource Standard Methods
##### 6.2.3.24.3.1 POST {#post-2 .H6}
This method shall support the URI query parameters specified in table
6.2.3.24.3.1-1.
Table 6.2.3.24.3.1-1: URI query parameters supported by the POST method on
this resource
* * *
Name Data type P Cardinality Description
private-identity PrivateId C 0..1 Represents the IMS Private Identity.\ Shall
be present if the imsUeId variable in the resource URI takes the value of an
IMS Public User Identity that is shared by several Private User Identities.
* * *
This method shall support the request data structures specified in table
6.2.3.24.3.1-2 and the response data structures and response codes specified
in table 6.2.3.24.3.1-3.
Table 6.2.3.24.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description UeReachabilitySubscription M 1 The
subscription to UE reachability for IP that is to be created.
* * *
Table 6.2.3.24.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Created | M | 1 | 201 Created | Upon success, | | UeReachabilit | | | | a response | | ySubscription | | | | body | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | subscription | | | | | | resource | | | | | | shall be | | | | | | returned. | | | | | | | | | | | | The HTTP | | | | | | response | | | | | | shall include | | | | | | a | | | | | | \"Location\" | | | | | | HTTP header | | | | | | that contains | | | | | | the resource | | | | | | URI of the | | | | | | created | | | | | | resource. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.24.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.24.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.24.3.1-6: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/nhss-ims-
sdm/\/{imsUeId}/access-data/ps-domain/ue-reach-
subscriptions/{subscriptionId}
* * *
#### 6.2.3.25 Resource: UE reachability Individual subscription
##### 6.2.3.25.1 Description
This resource is used to represent an individual subscription to notification
of UE reachability for IP.
##### 6.2.3.25.2 Resource Definition
Resource URI: {apiRoot}/nhss-ims-sdm/{apiVersion}/{imsUeId}/access-data/ps-
domain/ue-reach-subscriptions/{subscriptionId}
This resource shall support the resource URI variables defined in table
6.2.3.25.2-1.
Table 6.2.3.25.2-1: Resource URI variables for this resource
+----------------+----------------------------------------------------+ | Name | Definition | +================+====================================================+ | apiRoot | See clause 6.2.1 | +----------------+----------------------------------------------------+ | apiVersion | See clause 6.2.1 | +----------------+----------------------------------------------------+ | imsUeId | Represents the IMS Public Identity (i.e. IMS | | | Public User identity or Public Service Identity) | | | | | | pattern: | | | \"\^ | | | (impu-sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$,;?\/] | | | +)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a-z]{ | | | 2,}\|impu-tel\:\\+[0-9]{5,15}\|impi-.+\|.+)\$\" | +----------------+----------------------------------------------------+ | subscriptionId | The subscriptionId identifies an individual | | | subscription to notification of UE reachability | | | for IP. | +----------------+----------------------------------------------------+
##### 6.2.3.25.3 Resource Standard Methods
##### 6.2.3.25.3.1 DELETE {#delete-4 .H6}
This method shall support the URI query parameters specified in table
6.2.3.25.3.1-1.
Table 6.2.3.25.3.1-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description
private-identity PrivateId C 0..1 Represents the IMS Private Identity.\ Shall
be present if the imsUeId variable in the resource URI takes the value of an
IMS Public User Identity that is shared by several Private User Identities.
* * *
This method shall support the request data structures specified in table
6.2.3.7.3.1-2 and the response data structures and response codes specified in
table 6.2.3.7.3.1-3.
Table 6.2.3.25.3.1-2: Data structures supported by the Delete Request Body on
this resource
* * *
Data type P Cardinality Description n/a The request body shall be empty.
* * *
Table 6.2.3.25.3.1-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | SUBSCRIPTION | | | | | | _NOT_FOUND, | | | | | | see | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | tab | | | | | | le 5.2.7.2-1. | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.25.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.25.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
##### 6.2.3.25.3.2 PATCH {#patch-4 .H6}
This method shall support the URI query parameters specified in table
6.2.3.25.3.2-1.
Table 6.2.3.25.3.2-1: URI query parameters supported by the PATCH method on
this resource
* * *
Name Data type P Cardinality Description
supported-features SupportedFeatures O 0..1 see 3GPP TS 29.500 [4] clause 6.6
private-identity PrivateId C 0..1 Represents the IMS Private Identity.\ Shall
be present if the imsUeId variable in the resource URI takes the value of an
IMS Public User Identity that is shared by several Private User Identities.
* * *
This method shall support the request data structures specified in table
6.2.3.25.3.2-2 and the response data structures and response codes specified
in table 6.2.3.25.3.2-3.
Table 6.2.3.25.3.2-2: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description array(PatchItem) M 1 It contains the list
of changes to be made to the resource representing the individual
subscription, according to the JSON PATCH format specified in IETF RFC 6902
[12].
* * *
Table 6.2.3.25.3.2-3: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | a response | | | | | | with no | | | | | | content is | | | | | | returned. | | | | | | | | | | | | (NOTE 1) | +---------------+---+-------------+---------------+---------------+ | PatchResult | M | 1 | 200 OK | Upon success, | | | | | | the execution | | | | | | report is | | | | | | returned. | | | | | | (NOTE 1) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | SUBSCRIPTION | | | | | | _NOT_FOUND, | | | | | | see | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | tab | | | | | | le 5.2.7.2-1. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | One or more | | roblemDetails | | | | attributes | | | | | | are not | | | | | | allowed to be | | | | | | modified. | | | | | | | | | | | | The \"cause\" | | | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | M | | | | | | ODIFICATION_ | | | | | | NOT_ALLOWED, | | | | | | see | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | tab | | | | | | le 5.2.7.2-1. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: If | | | | | | all the | | | | | | modification | | | | | | instructions | | | | | | in the PATCH | | | | | | request have | | | | | | been | | | | | | implemented, | | | | | | the HSS shall | | | | | | respond with | | | | | | 204 No | | | | | | Content | | | | | | response; if | | | | | | some of the | | | | | | modification | | | | | | instructions | | | | | | in the PATCH | | | | | | request have | | | | | | been | | | | | | discarded, | | | | | | and the NF | | | | | | service | | | | | | consumer has | | | | | | included in | | | | | | the | | | | | | supp | | | | | | orted-feature | | | | | | query | | | | | | parameter the | | | | | | \" | | | | | | PatchReport\" | | | | | | feature | | | | | | number, the | | | | | | HSS shall | | | | | | respond with | | | | | | PatchResult. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.25.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.25.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
#### 6.2.3.26 Resource: PS User State
##### 6.2.3.26.1 Description
This resource represents the User State information in PS domain. It is
queried by the service consumer (e.g. AS) to retrieve the User State
information in PS domain as retrieved from the serving node(s). The service
consumer may indicate the requested nodes for which the request is applicable
(e.g. AMF only)
##### 6.2.3.26.2 Resource Definition
Resource URI: **{** apiRoot}/nhss-ims-sdm/{apiVersion}/{imsUeId}/access-
data/ps-domain/user-state
This resource shall support the resource URI variables defined in table
6.2.3.26.2-1.
Table 6.2.3.26.2-1: Resource URI variables for this resource
+------------+--------------------------------------------------------+ | Name | Definition | +============+========================================================+ | apiRoot | See clause 6.2.1 | +------------+--------------------------------------------------------+ | apiVersion | See clause 6.2.1 | +------------+--------------------------------------------------------+ | imsUeId | Represents the IMS Public Identity (i.e. IMS Public | | | User identity or Public Service Identity) or the IMS | | | private Identity. If both the IMS Public Identity and | | | the IMS Private Identity are available at the service | | | consumer, the imsUeId represents the IMS Public | | | Identity. | | | | | | pattern: | | | \"\^(impu-sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$ | | | ,;?\/]+)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a- | | | z]{2,}\|impu-tel\:\\+[0-9]{5,15}\|impi-.+\|.+)\$\" | +------------+--------------------------------------------------------+
##### 6.2.3.26.3 Resource Standard Methods
##### 6.2.3.26.3.1 GET {#get-23 .H6}
This method shall support the URI query parameters specified in table
6.2.3.26.3.1-1.
Table 6.2.3.26.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description
requested-nodes array(RequestedNode) O 1..N Indicates the serving node(s) for
which the request is applicable.
supported-features SupportedFeatures O 0..1 see 3GPP TS 29.500 [4] clause 6.6
private-identity PrivateId C 0..1 Represents the IMS Private Identity.\ Shall
be present if the imsUeId variable in the resource URI takes the value of an
IMS Public User Identity that is shared by several Private User Identities.
* * *
If \"requested-nodes\" is not included, HSS shall return the user state as
retrieved from all the nodes (AMF, MME and SGSN)
This method shall support the request data structures specified in table
6.2.3.26.3.1-2 and the response data structures and response codes specified
in table 6.2.3.26.3.1-3.
Table 6.2.3.26.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.26.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | PsUserState | M | 1 | 200 OK | A response | | | | | | body | | | | | | containing | | | | | | the PS user | | | | | | state | | | | | | information | | | | | | as requested | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | indicates | | | | | | that the user | | | | | | state | | | | | | information | | | | | | is unknown or | | | | | | unavailable. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.26.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.26.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
#### 6.2.3.27 Resource: CS User State
##### 6.2.3.27.1 Description
This resource represents the User State information in CS domain. It is
queried by the service consumer (e.g. AS) to retrieve the User State
information in CS domain as retrieved from the MSC/VLR.
##### 6.2.3.27.2 Resource Definition
Resource URI: **{** apiRoot}/nhss-ims-sdm/{apiVersion}/{imsUeId}/access-
data/cs-domain/user-state
This resource shall support the resource URI variables defined in table
6.2.3.27.2-1.
Table 6.2.3.27.2-1: Resource URI variables for this resource
+------------+--------------------------------------------------------+ | Name | Definition | +============+========================================================+ | apiRoot | See clause 6.2.1 | +------------+--------------------------------------------------------+ | apiVersion | See clause 6.2.1 | +------------+--------------------------------------------------------+ | imsUeId | Represents the IMS Public Identity (i.e. IMS Public | | | User identity or Public Service Identity) or the IMS | | | private Identity. If both the IMS Public Identity and | | | the IMS Private Identity are available at the service | | | consumer, the imsUeId represents the IMS Public | | | Identity. | | | | | | pattern: | | | \"\^(impu-sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$ | | | ,;?\/]+)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a- | | | z]{2,}\|impu-tel\:\\+[0-9]{5,15}\|impi-.+\|.+)\$\" | +------------+--------------------------------------------------------+
##### 6.2.3.27.3 Resource Standard Methods
##### 6.2.3.27.3.1 GET {#get-24 .H6}
This method shall support the URI query parameters specified in table
6.2.3.27.3.1-1.
Table 6.2.3.27.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description
supported-features SupportedFeatures O 0..1 see 3GPP TS 29.500 [4] clause 6.6
private-identity PrivateId C 0..1 Represents the IMS Private Identity.\ Shall
be present if the imsUeId variable in the resource URI takes the value of an
IMS Public User Identity that is shared by several Private User Identities.
* * *
This method shall support the request data structures specified in table
6.2.3.27.3.1-2 and the response data structures and response codes specified
in table 6.2.3.27.3.1-3.
Table 6.2.3.27.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.27.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | CsUserState | M | 1 | 200 OK | A response | | | | | | body | | | | | | containing | | | | | | the CS user | | | | | | state | | | | | | information | | | | | | as requested | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.27.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.27.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
#### 6.2.3.28 Resource: Csrn
##### 6.2.3.28.1 Description
This resource represents the CSRN. It is queried by the service consumer (e.g.
SCC-AS) to retrieve a CSRN for the user.
##### 6.2.3.28.2 Resource Definition
Resource URI: **{** apiRoot}/nhss-ims-sdm/{apiVersion}/{imsUeId}/access-
data/cs-domain/csrn
This resource shall support the resource URI variables defined in table
6.2.3.28.2-1.
Table 6.2.3.28.2-1: Resource URI variables for this resource
+------------+--------------------------------------------------------+ | Name | Definition | +============+========================================================+ | apiRoot | See clause 6.2.1 | +------------+--------------------------------------------------------+ | apiVersion | See clause 6.2.1 | +------------+--------------------------------------------------------+ | imsUeId | Represents the IMS Public Identity (i.e. IMS Public | | | User identity) or the IMS Private Identity. If both | | | the IMS Public Identity and the IMS Private Identity | | | are available at the service consumer, the imsUeId | | | represents the IMS Public Identity. | | | | | | pattern: | | | \"\^(impu-sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$ | | | ,;?\/]+)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a- | | | z]{2,}\|impu-tel\:\\+[0-9]{5,15}\|impi-.+\|.+)\$\" | +------------+--------------------------------------------------------+
##### 6.2.3.28.3 Resource Standard Methods
##### 6.2.3.28.3.1 GET {#get-25 .H6}
This method shall support the URI query parameters specified in table
6.2.3.28.3.1-1.
Table 6.2.3.28.3.1-1: URI query parameters supported by the GET method on this
resource
+-----------+-----------+---+-----------+-----------+-----------+ | Name | Data type | P | Ca | De | Appl | | | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | supported | Supporte | O | 0..1 | see | | | -features | dFeatures | | | 3G | | | | | | | PP TS 29. | | | | | | | 500 [4] | | | | | | | clause | | | | | | | 6.6 | | +-----------+-----------+---+-----------+-----------+-----------+ | p | PrePaging | O | 0..1 | Indicates | | | re-paging | | | | if | | | | | | | p | | | | | | | re-paging | | | | | | | is | | | | | | | supported | | | | | | | | | | | | | | true: | | | | | | | p | | | | | | | re-paging | | | | | | | is | | | | | | | supported | | | | | | | | | | | | | | false or | | | | | | | absent: | | | | | | | p | | | | | | | re-paging | | | | | | | is not | | | | | | | supported | | +-----------+-----------+---+-----------+-----------+-----------+ | private | PrivateId | C | 0..1 | R | | | -identity | | | | epresents | | | | | | | the IMS | | | | | | | Private | | | | | | | I | | | | | | | dentity.\ | | | | | | | Shall be | | | | | | | present | | | | | | | if the | | | | | | | imsUeId | | | | | | | variable | | | | | | | in the | | | | | | | resource | | | | | | | URI takes | | | | | | | the value | | | | | | | of an IMS | | | | | | | Public | | | | | | | User | | | | | | | Identity | | | | | | | that is | | | | | | | shared by | | | | | | | several | | | | | | | Private | | | | | | | User | | | | | | | Id | | | | | | | entities. | | +-----------+-----------+---+-----------+-----------+-----------+ | c | CallRefe | O | 0..1 | Contains | | | all-refer | renceInfo | | | a Call | | | ence-info | | | | Reference | | | | | | | Number | | | | | | | and the | | | | | | | A | | | | | | | S-Number. | | | | | | | It allows | | | | | | | a later | | | | | | | retry of | | | | | | | the call | | | | | | | setup in | | | | | | | the | | | | | | | context | | | | | | | of MTRR. | | | | | | | See 3GPP | | | | | | | TS 29.328 | | | | | | | [38] | | +-----------+-----------+---+-----------+-----------+-----------+
This method shall support the request data structures specified in table
6.2.3.28.3.1-2 and the response data structures and response codes specified
in table 6.2.3.28.3.1-3.
Table 6.2.3.28.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.28.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Csrn | M | 1 | 200 OK | A response | | | | | | body | | | | | | containing | | | | | | the CSRN for | | | | | | the user | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | indicates | | | | | | that CSRN | | | | | | retrieval | | | | | | from MSC/VLR | | | | | | failed. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.28.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.28.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
#### 6.2.3.29 Resource: ReferenceAccessLocation
##### 6.2.3.29.1 Description
This resource represents the Reference Location Information. It is queried by
the service consumer (e.g. IMS-AS) to retrieve the reference location
information for the user (e.g. line identifier in fixed access networks).
##### 6.2.3.29.2 Resource Definition
Resource URI: **{** apiRoot}/nhss-ims-sdm/{apiVersion}/{imsUeId}/access-
data/wireline-domain/reference-location
This resource shall support the resource URI variables defined in table
6.2.3.29.2-1.
Table 6.2.3.29.2-1: Resource URI variables for this resource
+------------+--------------------------------------------------------+ | Name | Definition | +============+========================================================+ | apiRoot | See clause 6.2.1 | +------------+--------------------------------------------------------+ | apiVersion | See clause 6.2.1 | +------------+--------------------------------------------------------+ | imsUeId | Represents the IMS Public Identity (i.e. IMS Public | | | User identity) or the IMS Private Identity. If both | | | the IMS Public Identity and the IMS Private Identity | | | are available at the service consumer, the imsUeId | | | represents the IMS Public Identity. | | | | | | pattern: | | | \"\^(impu-sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$ | | | ,;?\/]+)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a- | | | z]{2,}\|impu-tel\:\\+[0-9]{5,15}\|impi-.+\|.+)\$\" | +------------+--------------------------------------------------------+
##### 6.2.3.29.3 Resource Standard Methods
##### 6.2.3.29.3.1 GET {#get-26 .H6}
This method shall support the URI query parameters specified in table
6.2.3.29.3.1-1.
Table 6.2.3.29.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability
supported-features SupportedFeatures O 0..1 see 3GPP TS 29.500 [4] clause 6.6
private-identity PrivateId C 0..1 Represents the IMS Private Identity.\  
Shall be present if the imsUeId variable in the resource URI takes the value
of an IMS Public User Identity that is shared by several Private User
Identities.
* * *
This method shall support the request data structures specified in table
6.2.3.29.3.1-2 and the response data structures and response codes specified
in table 6.2.3.29.3.1-3.
Table 6.2.3.29.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.29.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Re | M | 1 | 200 OK | A response | | ferenceLocati | | | | body | | onInformation | | | | containing | | | | | | the reference | | | | | | location | | | | | | information | | | | | | (e.g. access | | | | | | type, line | | | | | | identifier) | | | | | | for the user | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | indicates | | | | | | that no | | | | | | reference | | | | | | location | | | | | | information | | | | | | exist for the | | | | | | user. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.29.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.29.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
#### 6.2.3.30 Resource: SMSRegistrationInfo
##### 6.2.3.30.1 Description
This resource represents the SMS registration information. It is used by the
service consumer (e.g. IP-SM-GW) to create, retrieve, update or delete the SMS
registration information.
##### 6.2.3.30.2 Resource Definition
Resource URI: **{** apiRoot}/nhss-ims-sdm/{apiVersion}/{imsUeId}/service-
data/sms-registration-info
This resource shall support the resource URI variables defined in table
6.2.3.30.2-1.
Table 6.2.3.30.2-1: Resource URI variables for this resource
+------------+--------------------------------------------------------+ | Name | Definition | +============+========================================================+ | apiRoot | See clause 6.2.1 | +------------+--------------------------------------------------------+ | apiVersion | See clause 6.2.1 | +------------+--------------------------------------------------------+ | imsUeId | Represents the IMS Public Identity (i.e. IMS Public | | | User identity) or the IMS private Identity. If both | | | the IMS Public Identity and the IMS Private Identity | | | are available at the service consumer, the imsUeId | | | represents the IMS Public Identity. | | | | | | pattern: | | | \"\^(impu-sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$ | | | ,;?\/]+)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a- | | | z]{2,}\|impu-tel\:\\+[0-9]{5,15}\|impi-.+\|.+)\$\" | +------------+--------------------------------------------------------+
##### 6.2.3.30.3 Resource Standard Methods
##### 6.2.3.30.3.1 GET {#get-27 .H6}
This method shall support the URI query parameters specified in table
6.2.3.30.3.1-1.
Table 6.2.3.30.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description
supported-features SupportedFeatures O 0..1 see 3GPP TS 29.500 [4] clause 6.6
private-identity PrivateId C 0..1 Represents the IMS Private Identity.\ Shall
be present if the imsUeId variable in the resource URI takes the value of an
IMS Public User Identity that is shared by several Private User Identities.
* * *
This method shall support the request data structures specified in table
6.2.3.30.3.1-2 and the response data structures and response codes specified
in table 6.2.3.30.3.1-3.
Table 6.2.3.30.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.30.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | SmsReg | M | 1 | 200 OK | A response | | istrationInfo | | | | body | | | | | | containing | | | | | | the SMS | | | | | | registration | | | | | | information. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | indicates | | | | | | that no | | | | | | IP-SM-GW | | | | | | number is | | | | | | preconfigured | | | | | | or created | | | | | | previously | | | | | | for the user. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.30.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.30.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
##### 6.2.3.30.3.2 PUT {#put-3 .H6}
This method shall support the URI query parameters specified in table
6.2.3.30.3.2-1.
Table 6.2.3.30.3.2-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description
private-identity PrivateId C 0..1 Represents the IMS Private Identity.\ Shall
be present if the imsUeId variable in the resource URI takes the value of an
IMS Public User Identity that is shared by several Private User Identities.
* * *
This method shall support the request data structures specified in table
6.2.3.30.3.2-2 and the response data structures and response codes specified
in table 6.2.3.30.3.2-3.
Table 6.2.3.30.3.2-2: Data structures supported by the PUT Request Body on
this resource
* * *
Data type P Cardinality Description IpSmGwAddress M 1 The SMS Registration
Information to be created or replaced.
* * *
Table 6.2.3.30.3.2-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | SmsReg | M | 1 | 201 Created | Upon success, | | istrationInfo | | | | a response | | | | | | body | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | R | | | | | | epositoryData | | | | | | resource | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | SmsReg | M | 1 | 200 OK | Upon success, | | istrationInfo | | | | a response | | | | | | body | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | Individual | | | | | | R | | | | | | epositoryData | | | | | | resource | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 409 Conflict | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | IP_SM | | | | | | _GW_CANNOT\ | | | | | | _BE_MODIFIED | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.30.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.30.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.30.3.2-6: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/nhss-ims-
sdm/\/{imsUeId}/service-data/sms-registration-info
* * *
##### 6.2.3.30.3.3 DELETE {#delete-5 .H6}
This method shall support the URI query parameters specified in table
6.2.3.30.3.3-1.
Table 6.2.3.30.3.3-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description
private-identity PrivateId C 0..1 Represents the IMS Private Identity.\ Shall
be present if the imsUeId variable in the resource URI takes the value of an
IMS Public User Identity that is shared by several Private User Identities.
* * *
This method shall support the request data structures specified in table
6.2.3.30.3.3-2 and the response data structures and response codes specified
in table 6.2.3.30.3.3-3.
Table 6.2.3.30.3.3-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a The request body shall be empty.
* * *
Table 6.2.3.30.3.3-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | indicates | | | | | | that no SMS | | | | | | registration | | | | | | information | | | | | | exists for | | | | | | the user. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 409 Conflict | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | IP_SM | | | | | | _GW_CANNOT\ | | | | | | _BE_MODIFIED | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.30.3.3-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.30.3.3-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
#### 6.2.3.31 Resource: Dsai
##### 6.2.3.31.1 Description
This resource represents the DSAI Tag Information for the requested
Application Server Name. It is used by the service consumer (e.g. IMS-AS) to
retrieve or update the DSAI Tag Status.
##### 6.2.3.31.2 Resource Definition
Resource URI: **{** apiRoot}/nhss-ims-sdm/{apiVersion}/{imsUeId}/service-
data/dsai
This resource shall support the resource URI variables defined in table
6.2.3.31.2-1.
Table 6.2.3.31.2-1: Resource URI variables for this resource
+------------+--------------------------------------------------------+ | Name | Definition | +============+========================================================+ | apiRoot | See clause 6.2.1 | +------------+--------------------------------------------------------+ | apiVersion | See clause 6.2.1 | +------------+--------------------------------------------------------+ | imsUeId | Represents the IMS Public Identity (i.e. non-shared | | | IMS Public User identity) or the IMS private Identity. | | | | | | pattern: | | | \"\^(impu-sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$ | | | ,;?\/]+)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a- | | | z]{2,}\|impu-tel\:\\+[0-9]{5,15}\|impi-.+\|.+)\$\" | +------------+--------------------------------------------------------+
##### 6.2.3.31.3 Resource Standard Methods
##### 6.2.3.31.3.1 GET {#get-28 .H6}
This method shall support the URI query parameters specified in table
6.2.3.31.3.1-1.
Table 6.2.3.31.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description application-server-name SipServerName
M 1 The requested Application Server Name. supported-features
SupportedFeatures O 0..1 see 3GPP TS 29.500 [4] clause 6.6 dsai-tag string O
0..1 This information element identify the requested instance of Dynamic
Service Activation Info (DSAI).
* * *
This method shall support the request data structures specified in table
6.2.3.31.3.1-2 and the response data structures and response codes specified
in table 6.2.3.31.3.1-3.
Table 6.2.3.31.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.31.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | DsaiT | M | 1 | 200 OK | A response | | agInformation | | | | body | | | | | | containing | | | | | | the DSAI | | | | | | information | | | | | | for the | | | | | | requested | | | | | | Application | | | | | | Server. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | indicates | | | | | | that no DSAI | | | | | | Tag was found | | | | | | for the | | | | | | requested | | | | | | Application | | | | | | Server. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.31.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.31.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
##### 6.2.3.31.3.2 PATCH {#patch-5 .H6}
This method shall support the URI query parameters specified in table
6.2.3.31.3.2-1.
Table 6.2.3.31.3.2-1: URI query parameters supported by the PATCH method on
this resource
* * *
Name Data type P Cardinality Description Supported-features SupportedFeatures
O 0..1 see 3GPP TS 29.500 [4] clause 6.6
* * *
This method shall support the request data structures specified in table
6.2.3.31.3.2-2 and the response data structures and response codes specified
in table 6.2.3.31.3.2-3.
Table 6.2.3.31.3.2-2: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description array(PatchItem) M 1..N Items describe the
modifications to the DSAI tag(s) activation state.
* * *
Table 6.2.3.31.3.2-3: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned. | | | | | | (NOTE 1) | +---------------+---+-------------+---------------+---------------+ | PatchResult | M | 1 | 200 OK | Upon success, | | | | | | the execution | | | | | | report is | | | | | | returned. | | | | | | (NOTE 1) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | DSAI_TA | | | | | | G_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | One or more | | roblemDetails | | | | attributes | | | | | | are not | | | | | | allowed to be | | | | | | modified. | | | | | | | | | | | | The \"cause\" | | | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | M | | | | | | ODIFICATION_ | | | | | | NOT_ALLOWED, | | | | | | see | | | | | | GPP TS | | | | | | 29.500 [4] | | | | | | tab | | | | | | le 5.2.7.2-1. | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+ | NOTE 1: If | | | | | | all the | | | | | | modification | | | | | | instructions | | | | | | in the PATCH | | | | | | request have | | | | | | been | | | | | | implemented, | | | | | | the HSS shall | | | | | | respond with | | | | | | 204 No | | | | | | Content | | | | | | response; if | | | | | | some of the | | | | | | modification | | | | | | instructions | | | | | | in the PATCH | | | | | | request have | | | | | | been | | | | | | discarded, | | | | | | and the NF | | | | | | service | | | | | | consumer has | | | | | | included in | | | | | | the | | | | | | supp | | | | | | orted-feature | | | | | | query | | | | | | parameter the | | | | | | \" | | | | | | PatchReport\" | | | | | | feature | | | | | | number, the | | | | | | HSS shall | | | | | | respond with | | | | | | PatchResult. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.31.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.31.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
#### 6.2.3.32 Resource: Private Identities
##### 6.2.3.32.1 Description
This resource represents the private identities. It is queried by the service
consumer (IMS-AS) to retrieve the list of private identities.
##### 6.2.3.32.2 Resource Definition
Resource URI: **{** apiRoot}/nhss-ims-
sdm/{apiVersion}/{imsUeId}/identities/private-identities
This resource shall support the resource URI variables defined in table
6.2.3.32.2-1.
Table 6.2.3.32.2-1: Resource URI variables for this resource
+------------+--------------------------------------------------------+ | Name | Definition | +============+========================================================+ | apiRoot | See clause 6.2.1 | +------------+--------------------------------------------------------+ | apiVersion | See clause 6.2.1 | +------------+--------------------------------------------------------+ | imsUeId | Represents the IMS Public Identity (i.e. IMS Public | | | User identity or Public Service Identity) | | | | | | pattern: | | | \"\^(impu-sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$ | | | ,;?\/]+)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a- | | | z]{2,}\|impu-tel\:\\+[0-9]{5,15}\|impi-.+\|.+)\$\" | +------------+--------------------------------------------------------+
##### 6.2.3.32.3 Resource Standard Methods
##### 6.2.3.32.3.1 GET {#get-29 .H6}
This method shall support the URI query parameters specified in table
6.2.3.32.3.1-1.
Table 6.2.3.32.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability supported-features
SupportedFeatures O 0..1 see 3GPP TS 29.500 [4] clause 6.6  
impi PrivateId O 0..1 Private Identity of type IMPI
* * *
This method shall support the request data structures specified in table
6.2.3.32.3.1-2 and the response data structures and response codes specified
in table 6.2.3.32.3.1-3.
Table 6.2.3.32.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.32.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Priv | M | 1 | 200 OK | A response | | ateIdentities | | | | body | | | | | | containing | | | | | | the list of | | | | | | private | | | | | | identities | | | | | | belonging to | | | | | | the IMS UE. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.32.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.32.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
#### 6.2.3.33 Resource: S-CSCF Selection Assistance Information
##### 6.2.3.33.1 Description
This resource represents the S-CSCF selection assistance information. It is
queried by the service consumer (I-CSCF) before S-CSCF selection.
##### 6.2.3.33.2 Resource Definition
Resource URI: **{** apiRoot}/nhss-ims-sdm/{apiVersion}/{imsUeId}/ims-
data/location-data/scscf-selection-assistance-info
This resource shall support the resource URI variables defined in table
6.2.3.33.2-1.
Table 6.2.3.33.2-1: Resource URI variables for this resource
+------------+--------------------------------------------------------+ | Name | Definition | +============+========================================================+ | apiRoot | See clause 6.2.1 | +------------+--------------------------------------------------------+ | apiVersion | See clause 6.2.1 | +------------+--------------------------------------------------------+ | imsUeId | Represents the IMS Public Identity (i.e. IMS Public | | | User identity or Public Service Identity) | | | | | | pattern: | | | \"\^(impu-sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$ | | | ,;?\/]+)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a- | | | z]{2,}\|impu-tel\:\\+[0-9]{5,15}\|impi-.+\|.+)\$\" | +------------+--------------------------------------------------------+
##### 6.2.3.33.3 Resource Standard Methods
##### 6.2.3.33.3.1 GET {#get-30 .H6}
This method shall support the URI query parameters specified in table
6.2.3.33.3.1-1.
Table 6.2.3.33.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
6.2.3.33.3.1-2 and the response data structures and response codes specified
in table 6.2.3.33.3.1-3.
Table 6.2.3.33.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.33.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | ScscfSele | M | 1 | 200 OK | A response | | ctionAssistan | | | | body | | ceInformation | | | | containing | | | | | | the S-CSCF | | | | | | Selection | | | | | | Assistance | | | | | | Information. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | | | | | | | NOTE: | | | | | | DAT | | | | | | A_NOT_FOUND | | | | | | indicates | | | | | | that any | | | | | | S-CSCF can be | | | | | | selected, | | | | | | e.g. based on | | | | | | I-CSCF local | | | | | | policy. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.33.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.33.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
#### 6.2.3.34 Resource: Charging Information
##### 6.2.3.34.1 Description
This resource represents the Charging Information. It is queried by the
service consumer (e.g. AS) to retrieve the Diameter addresses Charging
Functions for the user.
##### 6.2.3.34.2 Resource Definition
Resource URI: **{** apiRoot}/nhss-ims-sdm/{apiVersion}/{imsUeId}/ims-
data/profile-data/charging-info
This resource shall support the resource URI variables defined in table
6.2.3.34.2-1.
Table 6.2.3.34.2-1: Resource URI variables for this resource
+------------+--------------------------------------------------------+ | Name | Definition | +============+========================================================+ | apiRoot | See clause 6.2.1 | +------------+--------------------------------------------------------+ | apiVersion | See clause 6.2.1 | +------------+--------------------------------------------------------+ | imsUeId | Represents the IMS Public Identity (i.e. IMS Public | | | User identity or Public Service Identity) | | | | | | pattern: | | | \"\^(impu-sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$ | | | ,;?\/]+)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a- | | | z]{2,}\|impu-tel\:\\+[0-9]{5,15}\|impi-.+\|.+)\$\" | +------------+--------------------------------------------------------+
##### 6.2.3.34.3 Resource Standard Methods
##### 6.2.3.34.3.1 GET {#get-31 .H6}
This method shall support the URI query parameters specified in table
6.2.3.34.3.1-1.
Table 6.2.3.34.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability supported-features
SupportedFeatures O 0..1 see 3GPP 1 29.500 [4] clause 6.6
* * *
This method shall support the request data structures specified in table
6.2.3.34.3.1-2 and the response data structures and response codes specified
in table 6.2.3.34.3.1-3.
Table 6.2.3.34.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.34.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | ChargingInfo | M | 1 | 200 OK | A response | | | | | | body | | | | | | containing | | | | | | the Charging | | | | | | Information | | | | | | for the user | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+
#### 6.2.3.35 Resource: Repository Data List
##### 6.2.3.35.1 Description
This resource represents the Repository Data. It is used by the service
consumer (e.g. IMS-AS) to retrieve multiple repository data for a given list
of service indications.
##### 6.2.3.35.2 Resource Definition
Resource URI: **{** apiRoot}/nhss-ims-sdm/{apiVersion}/{imsUeId}/repository-
data
This resource shall support the resource URI variables defined in table
6.2.3.19.2-1.
Table 6.2.3.35.2-1: Resource URI variables for this resource
+------------+--------------------------------------------------------+ | Name | Definition | +============+========================================================+ | apiRoot | See clause 6.2.1 | +------------+--------------------------------------------------------+ | apiVersion | See clause 6.2.1 | +------------+--------------------------------------------------------+ | imsUeId | Represents the IMS Public Identity (i.e. IMS Public | | | User identity or Public Service Identity) | | | | | | pattern: | | | \"\^(impu-sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$ | | | ,;?\/]+)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a- | | | z]{2,}\|impu-tel\:\\+[0-9]{5,15}\|impi-.+\|.+)\$\" | +------------+--------------------------------------------------------+
##### 6.2.3.35.3 Resource Standard Methods
##### 6.2.3.35.3.1 GET {#get-32 .H6}
This method shall support the URI query parameters specified in table
6.2.3.35.3.1-1.
Table 6.2.3.35.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description supported-features SupportedFeatures
O 0..1 see 3GPP TS 29.500 [4] clause 6.6 service-indications
array(ServiceIndication) M 1..N
* * *
This method shall support the request data structures specified in table
6.2.3.35.3.1-2 and the response data structures and response codes specified
in table 6.2.3.35.3.1-3.
Table 6.2.3.35.3.1-2: Data structures supported by the GET Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.35.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Repos | M | 1 | 200 OK | A response | | itoryDataList | | | | body | | | | | | containing | | | | | | the | | | | | | Repository | | | | | | Data List for | | | | | | the requested | | | | | | Service | | | | | | Indications. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | DAT | | | | | | A_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.35.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.2.3.35.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
### 6.2.5 Notifications
#### 6.2.5.1 General
This clause specifies the use of notifications and corresponding protocol
details.
#### 6.2.5.2 Data Change Notification
The POST method shall be used for Data Change Notifications and the URI shall
be as provided during the subscription procedure.
Resource URI: {callbackReference}
Support of URI query parameters is specified in table 6.2.5.2-1.
Table 6.2.5.2-1: URI query parameters supported by the POST method
* * *
Name Data type P Cardinality Description n/a
* * *
Support of request data structures is specified in table 6.2.5.2-2 and of
response data structures and response codes is specified in table 6.2.5.2-3.
Table 6.2.5.2-2: Data structures supported by the POST Request Body
* * *
Data type P Cardinality Description ModificationNotification M 1
* * *
Table 6.2.5.2-3: Data structures supported by the POST Response Body
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI. The URI | | | | | | shall be an | | | | | | alternative | | | | | | URI of the | | | | | | notification | | | | | | endpoint of | | | | | | the | | | | | | subscribing | | | | | | NF Service | | | | | | Consumer. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI. The URI | | | | | | shall be an | | | | | | alternative | | | | | | URI of the | | | | | | notification | | | | | | endpoint of | | | | | | the | | | | | | subscribing | | | | | | NF Service | | | | | | Consumer. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | CONTEX | | | | | | T_NOT_FOUND | | | | | | | | | | | | See table | | | | | | 6.2.7.3-1 for | | | | | | the | | | | | | description | | | | | | of this | | | | | | error. | +---------------+---+-------------+---------------+---------------+
Table 6.2.5.2-4: Headers supported by the 307 Response Code on this resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the notification endpoint of the subscribing NF. 3gpp-Sbi-Target-Nf-Id
string O 0..1 Identifier of the target NF (service) instance ID towards which
the request is redirected.
* * *
Table 6.2.5.2-5: Headers supported by the 308 Response Code on this resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the notification endpoint of the subscribing NF. 3gpp-Sbi-Target-Nf-Id
string O 0..1 Identifier of the target NF (service) instance ID towards which
the request is redirected.
* * *
### 6.2.6 Data Model
#### 6.2.6.1 General
This clause specifies the application data model supported by the API.
Table 6.2.6.1-1 specifies the data types defined for the Nhss_imsSDM service
API.
Table 6.2.6.1-1: Nhss_imsSDM specific Data Types
Data type Clause defined Description
* * *
ScscfCapabilityList 6.2.6.2.2 Information about mandatory and optional S-CSCF
capabilities ImsProfileData 6.2.6.2.4 User\'s IMS profile data RepositoryData
6.2.6.2.7 Repository Data for the requested Service Indication MsisdnList
6.2.6.2.8 List of MSISDNs associated to the IMS public Identity
PublicIdentities 6.2.6.2.9 IMS Public Identities which belong to the same
Implicit Registration Set (if any) as the requested IMS Public Identity
PublicIdentity 6.2.6.2.10 IMS Public Identity and the related data (Alias
Group Id, IRS default indication, Identity Type) ImsSdmSubscription 6.2.6.2.11
A subscription to notifications of data change ImsRegistrationStatus
6.2.6.2.12 Registration status of the user. PriorityLevels 6.2.6.2.13
Namespaces and priority levels allowed for the IMS public Identity. Ifcs
6.2.6.2.14 List of IFCs associated to the IMS public Identity Ifc 6.2.6.2.15
Data associated to an individual IFC (Initial Filter Criteria) TriggerPoint
6.2.6.2.16 Contains the conditions that should be checked in order to find out
if an Application Server should be contacted or not Spt 6.2.6.2.17 Contains
the data of a Service Point Trigger HeaderSipRequest 6.2.6.2.18 Contains a
header (and optionally value of the header) in the SIP request SdpDescription
6.2.6.2.19 Contains a SDP line (and optionally the value in the line) within
the body (if any) of a SIP request ApplicationServer 6.2.6.2.20 Application
Server which shall be triggered if the conditions of a certain IFC are met,
and its associated data ImsLocationData 6.2.6.2.21 IMS Location Data (S-CSCF
name) ServiceLevelTraceInformation 6.2.6.2.22 IMS Service Level Trace
Information PsLocation 6.2.6.2.23 Location data in PS domain. SgsnLocationData
6.2.6.2.24 Location information as retrieved from the SGSN serving node
MmeLocationData 6.2.6.2.25 Location information as retrieved from the MME
serving node AmfLocationData 6.2.6.2.26 Location information as retrieved from
the AMF serving node TwanLocationData 6.2.6.2.27 Location information of the
3GPP AAA Server for Trusted W-LAN Access CsLocation 6.2.6.2.28 Location data
in CS domain. CsgInformation 6.2.6.2.29 Information about a Closed Subscriber
Group (CSG) SrvccData 6.2.6.2.30 UE SRVCC capability (if available) and STN-SR
(if subscribed) PsiActivationState 6.2.6.2.31 Public Service Identity
activation state ImeiSvInformation 6.2.6.2.34 IMEI(SV) information
TadsInformation 6.2.6.2.36 T-ADS Information UeReachabilitySubscription
6.2.6.2.37 A subscription to notifications of UE reachability for IP.
UeReachabilityNotification 6.2.6.2.38 A notification of UE reachability for
IP. PsUserState 6.2.6.2.39 User state in PS domain CsUserState 6.2.6.2.40 User
state in CS domain Csrn 6.2.6.2.41 CS domain routeing number
ReferenceLocationInformation 6.2.6.2.42 Reference Location Information for the
user in fixed access networks. SmsRegistrationInfo 6.2.6.2.43 SMS Registration
Information (IP-SM-GW number and SC address) IpSmGwAddress 6.2.6.2.44 IP-SM-GW
number and diameter URI/realm ImsAssociatedIdentities 6.2.6.2.45 A list of
identities belonging to the same Implicit Registration Set (IRS), along with
the registration state of the IRS DsaiTagInformation 6.2.6.2.46 DSAI tag
information (list of DSAI tags activation state for an Application Server)
DsaiTagStatus 6.2.6.2.47 DSAI tag status (DSAI tag and activation state)
CreatedUeReachabilitySubscription 6.2.6.2.48 A subscription to notifications
of UE reachability for IP. PrivateIdentities 6.2.6.2.49 IMS Private Identities
PrivateIdentity 6.3.6.2.50 IMS Private Identity and the related data (e.g.
Identity Type) ScscfSelectionAssistanceInformation 6.2.6.2.51 Information used
by the I-CSCF to select an S-CSCF for the UE ChargingInfo 6.2.6.2.52 Diameter
addresses of the charging function RepositoryDataList 6.2.6.2.53 List of
Repository Data for the requested Service Indications
CoreNetworkServiceAuthorization 6.2.6.2.54 Core Network Service Authorization
Table 6.2.6.1-2 specifies data types re-used by the Nhss_imsSDM service API
from other specifications, including a reference to their respective
specifications and when needed, a short description of their use within the
Nhss_imsSDM.
Table 6.2.6.1-2: Nhss_imsSDM re-used Data Types
Data type Reference Comments
* * *
Uri 3GPP TS 29.571 [16] Uniform Resource Identifier SupportedFeatures 3GPP TS
29.571 [16] see 3GPP TS 29.500 [4] clause 6.6 ModificationNotification 3GPP TS
29.503 [15] Payload of the notification after a data change EutraLocation 3GPP
TS 29.571 [16] E-UTRAN user location NrLocation 3GPP TS 29.571 [16] NR user
location PlmnId 3GPP TS 29.571 [16] PLMN Identity TimeZone 3GPP TS 29.571 [16]
Time Zone and Daylight Saving Time UtraLocation 3GPP TS 29.571 [16] UTRAN user
location GeraLocation 3GPP TS 29.571 [16] GERAN user location DiameterIdentity
3GPP TS 29.571 [16] Diameter URI NfInstanceId 3GPP TS 29.571 [16] String
uniquely identifying a NF instance RatType 3GPP TS 29.571 [16] RAT type StnSr
3GPP TS 29.571 [16] Session Transfer Number for SRVCC PatchItem 3GPP TS 29.571
[16] Patch Item PatchResult 3GPP TS 29.571 [16] Patch Result IpAddr 3GPP TS
29.571 [16] IP address (IPv4 address, IPv6 address, or IPv6 Prefix) DateTime
3GPP TS 29.571 [16] UTC time AccessType 3GPP TS 29.571 [16] Type of access
ProblemDetails 3GPP TS 29.571 [16] Response body of error response messages.
RedirectResponse 3GPP TS 29.571 [16] Response body of redirect response
messages. Ecgi 3GPP TS 29.571 [16] E-UTRAN Cell Global Identity Tai 3GPP TS
29.571 [16] Tracking Area Identity
#### 6.2.6.2 Structured data types
##### 6.2.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 6.2.6.2.2 Type: ScscfCapabilityList
Table 6.2.6.2.2-1: Definition of type ScscfCapabilityList
Attribute name Data type P Cardinality Description
* * *
mandatoryCapabilityList Capabilities O 1 List of S-CSCF capabilities which are
mandatory to be supported by the S-CSCF allocated to the subscription the user
belongs to. optionalCapabilityList Capabilities O 1 List of S-CSCF
capabilities which are optional or preferred (but not mandatory) to be
supported by the S-CSCF allocated to the subscription the user belongs to.
NOTE 1: At least one of mandatory or optional capabilities shall be present.
##### 6.2.6.2.3 Type: Capabilities
Table 6.2.6.2.3-1: Definition of type Capabilities
* * *
Type Name Type Definition Description Capabilities array(Capability) This IE
contains a list of capabilities
* * *
##### 6.2.6.2.4 Type: ImsProfileData
Table 6.2.6.2.4-1: Definition of type ImsProfileData
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | supp | Supp | O | 0..1 | See clause | | ortedFeatures | ortedFeatures | | | 6.2.8 | +---------------+---------------+---+-------------+---------------+ | imsSe | array(ImsSe | M | 1..N | IMS service | | rviceProfiles | rviceProfile) | | | profile | | | | | | shared by | | | | | | several | | | | | | public | | | | | | identities | | | | | | when they | | | | | | belong to an | | | | | | IRS. | +---------------+---------------+---+-------------+---------------+ | chargingInfo | ChargingInfo | O | 0..1 | A response | | | | | | body | | | | | | containing | | | | | | the Charging | | | | | | Information | | | | | | for the user. | +---------------+---------------+---+-------------+---------------+ | serviceL | Se | O | 0..1 | IMS Service | | evelTraceInfo | rviceLevelTra | | | Level Trace | | | ceInformation | | | information. | | | | | | Syntax | | | | | | described in | | | | | | 3GPP TS 2 | | | | | | 4.323 [24]. | +---------------+---------------+---+-------------+---------------+ | servicePrio | array(NameS | O | 1..N | List of | | rityLevelList | pacePriority) | | | namespaces | | | | | | and their | | | | | | associated | | | | | | priorities | | | | | | allowed for | | | | | | the user. | +---------------+---------------+---+-------------+---------------+ | maxAl | integer | O | 0..1 | Maximum | | lowedSimulReg | | | | number of | | | | | | allowed | | | | | | simultaneous | | | | | | registrations | | | | | | for the | | | | | | Public User | | | | | | Identity. | +---------------+---------------+---+-------------+---------------+ | service | integer | O | 0..1 | Possible | | PriorityLevel | | | | values: | | | | | | | | | | | | 0 (Highest | | | | | | priority) | | | | | | | | | | | | 1 | | | | | | | | | | | | 2 | | | | | | | | | | | | 3 | | | | | | | | | | | | 4 (Lowest | | | | | | priority) | +---------------+---------------+---+-------------+---------------+
##### 6.2.6.2.5 Type: SharedData
Table 6.2.6.2.5-1: SharedData
+---------------+--------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+==============+===+=============+===============+ | sharedDataId | SharedDataId | M | 1 | Identifier of | | | | | | the shared | | | | | | data | +---------------+--------------+---+-------------+---------------+ | sha | Ifcs | O | 0..1 | Shared IFC | | redImsIfcData | | | | Subscription | | | | | | Data | +---------------+--------------+---+-------------+---------------+ | NOTE 1: The | | | | | | attribute | | | | | | sha | | | | | | redImsIfcData | | | | | | shall not | | | | | | contain | | | | | | s | | | | | | haredDataIds. | | | | | | | | | | | | NOTE 2: When | | | | | | shared data | | | | | | clash with | | | | | | individual | | | | | | data, | | | | | | individual | | | | | | data shall | | | | | | take | | | | | | precedence. | | | | | +---------------+--------------+---+-------------+---------------+
##### 6.2.6.2.6 Type: ImsDataSets
Table 6.2.6.2.6-1: ImsDataSets
Attribute name Data type P Cardinality Description
* * *
ifcData IfcData O 0..1 IFC Data
##### 6.2.6.2.7 Type: RepositoryData
Table 6.2.6.2.7-1: Definition of type RepositoryData
Attribute name Data type P Cardinality Description
* * *
serviceData string M 1 The Repository Data for the requested Service
Indication. Base64 encoded. sequenceNumber SequenceNumber M 1 The sequence
number associated to the current version of Repository Data.
##### 6.2.6.2.8 Type: MsisdnList
Table 6.2.6.2.8-1: Definition of type MsisdnList
Attribute name Data type P Cardinality Description
* * *
basicMsisdn Msisdn M 1 The basic (or correlation) MSISDN associated to the IMS
Public Identity for the IMS Private Identity indicated (if any)
additionalMsisdns array(Msisdn) O 1..N Additional MSISDNs
##### 6.2.6.2.9 Type: PublicIdentities
Table 6.2.6.2.9-1: Definition of type PublicIdentities
Attribute name Data type P Cardinality Description
* * *
publicIdentities array(PublicIdentity) M 1..N List of IMS Public Identities
associated
##### 6.2.6.2.10 Type: PublicIdentity
Table 6.2.6.2.10-1: Definition of type PublicIdentity
* * *
Attribute name Data type P Cardinality Description
* * *
imsPublicId ImsPublicId M 1 IMS Public Identity (distinct or wildcarded)
identityType IdentityType M 1 Type of IMS Public Identity (e.g. Wildcarded
Public Service Identity type)
irsIsDefault boolean O 0..1 Indicates whether the IMS Public Identity is the
default within the Implicit Registration Set. Absence and false indicates
\"non-default\".\ Only one identity in SIP URI format and one identity in TEL
URI format (if any) shall have value True for this attribute.
aliasGroupId string O 0..1 Indicates the Alias Public User Identity Group to
which the Public User Identity belongs. Absence indicates that the identity
does not belong to any Alias Group
* * *
##### 6.2.6.2.11 Type: ImsSdmSubscription
Table 6.2.6.2.11-1: ImsSdmSubscription
+---------------+--------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+==============+===+=============+===============+ | nfInstanceId | NfInstanceId | M | 1 | Identity of | | | | | | the NF | | | | | | Instance | | | | | | creating the | | | | | | subscription. | +---------------+--------------+---+-------------+---------------+ | call | Uri | M | 1 | URI provided | | backReference | | | | by the NF | | | | | | service | | | | | | consumer to | | | | | | receive | | | | | | notifications | +---------------+--------------+---+-------------+---------------+ | monitore | array(Uri) | M | 1..N | A set of URIs | | dResourceUris | | | | that identify | | | | | | the resources | | | | | | for which a | | | | | | change | | | | | | triggers a | | | | | | notification. | | | | | | | | | | | | The URI shall | | | | | | take the form | | | | | | of either an | | | | | | absolute URI | | | | | | or an | | | | | | absolute-path | | | | | | reference as | | | | | | defined in | | | | | | IETF RFC | | | | | | 3986 [31]. | | | | | | | | | | | | See NOTE. | +---------------+--------------+---+-------------+---------------+ | expires | DateTime | C | 0..1 | If present, | | | | | | indicates the | | | | | | point in time | | | | | | at which the | | | | | | subscription | | | | | | expires.\ | | | | | | Within a POST | | | | | | request the | | | | | | proposed | | | | | | expiry time | | | | | | is conveyed | | | | | | whereas in a | | | | | | POST response | | | | | | or PATCH | | | | | | response the | | | | | | confirmed | | | | | | expiry time | | | | | | is returned. | +---------------+--------------+---+-------------+---------------+ | NOTE: The HSS | | | | | | should handle | | | | | | only the | | | | | | relative-path | | | | | | part | | | | | | (a | | | | | | piSpecificRes | | | | | | ourceUriPart, | | | | | | see | | | | | | 3GPP TS | | | | | | 29.501 [5] | | | | | | clause 4.4.1) | | | | | | and ignore | | | | | | possible | | | | | | in | | | | | | consistencies | | | | | | in the base | | | | | | URI part. | | | | | +---------------+--------------+---+-------------+---------------+
##### 6.2.6.2.12 Type: ImsRegistrationStatus
Table 6.2.6.2.12-1: Definition of type ImsRegistrationStatus
Attribute name Data type P Cardinality Description
* * *
imsUserStatus ImsRegistrationState M 1 It contains the registration state of
the user or the IRS, as described in 3GPP TS 29.328 [38], clause 7.6.3.
##### 6.2.6.2.13 Type: PriorityLevels
Table 6.2.6.2.13-1: Definition of type PriorityLevels
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | servicePrio | array(NameS | M | 1..N | List of | | rityLevelList | pacePriority) | | | namespaces | | | | | | and their | | | | | | associated | | | | | | priorities | | | | | | allowed for | | | | | | the user. | +---------------+---------------+---+-------------+---------------+ | service | integer | O | 0..1 | Possible | | PriorityLevel | | | | values: | | | | | | | | | | | | 0 (Highest | | | | | | priority) | | | | | | | | | | | | 1 | | | | | | | | | | | | 2 | | | | | | | | | | | | 3 | | | | | | | | | | | | 4 (Lowest | | | | | | priority) | +---------------+---------------+---+-------------+---------------+
##### 6.2.6.2.14 Type: Ifcs
Table 6.2.6.2.14-1: Definition of type Ifcs
Attribute name Data type P Cardinality Description
* * *
ifcList array(Ifc) C 1..N List of complete IFCs which are associated to the
user. cscfFilterSetIdList array(cscfFilterSetId) C 1..N List of S-CSCF
specific filter set identifiers. NOTE: At least one of IfcList or
cscfFilterSetIdList shall be present.
##### 6.2.6.2.15 Type: Ifc
Table 6.2.6.2.15-1: Definition of type Ifc
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | priority | integer | M | 1 | Contains the | | | | | | priority of | | | | | | the IFC. The | | | | | | higher the | | | | | | Priority | | | | | | Number the | | | | | | lower the | | | | | | priority of | | | | | | the Filter | | | | | | Criteria is. | | | | | | | | | | | | Minimum: 1 | +---------------+---------------+---+-------------+---------------+ | trigger | TriggerPoint | O | 1 | Contains the | | | | | | conditions | | | | | | that should | | | | | | be checked in | | | | | | order to find | | | | | | out if the | | | | | | indicated | | | | | | Application | | | | | | Server should | | | | | | be contacted | | | | | | or not. The | | | | | | absence of | | | | | | this | | | | | | attribute | | | | | | will indicate | | | | | | an | | | | | | unconditional | | | | | | triggering to | | | | | | Application | | | | | | Server. | +---------------+---------------+---+-------------+---------------+ | appServer | Appl | M | 1 | Contains the | | | icationServer | | | Application | | | | | | Server which | | | | | | shall be | | | | | | triggered if | | | | | | the | | | | | | conditions | | | | | | are met and | | | | | | its | | | | | | associated | | | | | | data (e.g. | | | | | | default | | | | | | handling) | +---------------+---------------+---+-------------+---------------+ | NOTE : See | | | | | | 3GPP TS 2 | | | | | | 9.228 [20], | | | | | | Annex B.2.2 | | | | | | for more | | | | | | details on | | | | | | the terms and | | | | | | concepts | | | | | | associated to | | | | | | Initial | | | | | | Filter | | | | | | Criteria. The | | | | | | Profile | | | | | | PartIndicator | | | | | | attribute | | | | | | described in | | | | | | Annex B.2.2 | | | | | | is removed | | | | | | and it shall | | | | | | be derived | | | | | | from the | | | | | | SessionCase | | | | | | attribute | | | | | | described in | | | | | | Annex B.2.3. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.2.6.2.16 Type: TriggerPoint
Table 6.2.6.2.16-1: Definition of type TriggerPoint
Attribute name Data type P Cardinality Description
* * *
conditionType TypeOfCondition M 1 Indicates how the set of SPTs are expressed,
i.e. either an Ored set of ANDed sets of SPT statements or an ANDed set of
Ored sets of statements. These combinations are termed, respectively,
Disjunctive Normal Form (DNF) and Conjunctive Normal Form (CNF) for the SPT
(see 3GPP TS 29.228 [20], Annex C). sptList array(Spt) M 1..N Contains the
list of Service Point Triggers
##### 6.2.6.2.17 Type: Spt
Table 6.2.6.2.17-1: Definition of type Spt
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | con | boolean | M | 1 | Indicates if | | ditionNegated | | | | the Service | | | | | | Point Trigger | | | | | | instance is | | | | | | negated (i.e. | | | | | | NOT logical | | | | | | expression) | +---------------+---------------+---+-------------+---------------+ | sptGroup | arra | M | 1..N | Contains the | | | y(SptGroupId) | | | SPT group or | | | | | | list of SPT | | | | | | groups | | | | | | assigned to | | | | | | the SPT. | +---------------+---------------+---+-------------+---------------+ | regType | array(Regi | O | 1..2 | Indicates the | | | strationType) | | | type of | | | | | | registration. | | | | | | If included, | | | | | | it shall | | | | | | contain the | | | | | | values that | | | | | | define | | | | | | whether the | | | | | | SPT matches | | | | | | to REGISTER | | | | | | messages that | | | | | | are related | | | | | | to initial | | | | | | r | | | | | | egistrations, | | | | | | re-r | | | | | | egistrations, | | | | | | and/or | | | | | | de-r | | | | | | egistrations. | | | | | | This | | | | | | attribute | | | | | | shall be | | | | | | included only | | | | | | if the SPT is | | | | | | for SIP | | | | | | method with a | | | | | | value | | | | | | \"REGISTER\" | | | | | | and only if | | | | | | it does not | | | | | | apply to all | | | | | | types of | | | | | | registration; | | | | | | otherwise, it | | | | | | shall be | | | | | | absent (i.e. | | | | | | the SIP | | | | | | Method SPT | | | | | | matches to | | | | | | all REGISTER | | | | | | messages). | | | | | | | | | | | | The attribute | | | | | | regType shall | | | | | | be discarded | | | | | | if it is | | | | | | present in an | | | | | | SPT other | | | | | | than SIP | | | | | | Method with | | | | | | value | | | | | | \"REGISTER\". | +---------------+---------------+---+-------------+---------------+ | requestURI | string | C | 1 | Contains the | | | | | | request-URI | | | | | | of the SIP | | | | | | request (NOTE | | | | | | 2) | +---------------+---------------+---+-------------+---------------+ | sipMethod | string | C | 1 | Contains the | | | | | | method of the | | | | | | SIP request | | | | | | (NOTE 2) | +---------------+---------------+---+-------------+---------------+ | sipHeader | Hea | C | 1 | Contains a | | | derSipRequest | | | header (and | | | | | | optionally | | | | | | value of the | | | | | | header) in | | | | | | the SIP | | | | | | request (NOTE | | | | | | 2) | +---------------+---------------+---+-------------+---------------+ | sessionCase | Req | O | 1 | Contains the | | | uestDirection | | | direction of | | | | | | the SIP | | | | | | request as | | | | | | evaluated by | | | | | | the S-CSCF. | +---------------+---------------+---+-------------+---------------+ | sessi | S | C | 1 | Contains a | | onDescription | dpDescription | | | SDP line (and | | | | | | optionally | | | | | | the valuein | | | | | | the line) | | | | | | within the | | | | | | body (if any) | | | | | | of a SIP | | | | | | request (NOTE | | | | | | 2) | +---------------+---------------+---+-------------+---------------+ | NOTE 1: See | | | | | | 3GPP TS 2 | | | | | | 9.228 [20], | | | | | | Annex B.2.3 | | | | | | for more | | | | | | details on | | | | | | the terms and | | | | | | concepts | | | | | | associated to | | | | | | Service Point | | | | | | Trigger. The | | | | | | Profile | | | | | | PartIndicator | | | | | | attribute | | | | | | described in | | | | | | Annex B.2.2 | | | | | | is removed | | | | | | and it shall | | | | | | be derived | | | | | | from the | | | | | | SessionCase | | | | | | attribute | | | | | | described in | | | | | | Annex B.2.3. | | | | | | | | | | | | NOTE 2: | | | | | | Exactly one | | | | | | of | | | | | | requestURI, | | | | | | method, | | | | | | header and | | | | | | sessi | | | | | | onDescription | | | | | | shall be | | | | | | present. See | | | | | | TS | | | | | | 2 | | | | | | 9.228 [20], | | | | | | Annex F for | | | | | | the | | | | | | definition of | | | | | | these | | | | | | attributes. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.2.6.2.18 Type: HeaderSipRequest
Table 6.2.6.2.18-1: Definition of type HeaderSipRequest
Attribute name Data type P Cardinality Description
* * *
header string M 1 Contains a SIP header content string O 1 Contains the
content of the SIP header. If this attribute is absent, it shall indicate that
the SPT is the presence (if conditionNegated=\"FALSE\") or absence (if
conditionNegated=\"TRUE\") of the SIP header.
##### 6.2.6.2.19 Type: SdpDescription
Table 6.2.6.2.19-1: Definition of type SdpDescription
Attribute name Data type P Cardinality Description
* * *
line string M 1 Contains a line in the session description content string O 1
Contains the content of the SDP line. If this attribute is absent, it shall
indicate that the SPT is the presence (if conditionNegated=\"FALSE\") or
absence (if conditionNegated=\"TRUE\") of the SDP line.
##### 6.2.6.2.20 Type: ApplicationServer
Table 6.2.6.2.20-1: Definition of type ApplicationServer
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | asUri | string | M | 1 | Contains the | | | | | | Application | | | | | | Server SIP | | | | | | URI, as | | | | | | described in | | | | | | IETF RF | | | | | | C 3261 [22] | | | | | | or | | | | | | 3GPP TS 2 | | | | | | 3.003 [13]. | +---------------+---------------+---+-------------+---------------+ | se | boolean | O | 1 | This IE | | ssionContinue | | | | indicates | | | | | | whether the | | | | | | SIP dialog | | | | | | shall be | | | | | | continued or | | | | | | released if | | | | | | the | | | | | | Application | | | | | | Server could | | | | | | not be | | | | | | reached. | | | | | | | | | | | | true: | | | | | | indicates | | | | | | that the | | | | | | session shall | | | | | | be continued | | | | | | | | | | | | false or | | | | | | absent: | | | | | | indicates | | | | | | that the | | | | | | session shall | | | | | | be released | +---------------+---------------+---+-------------+---------------+ | se | array(Servic | O | 1..N | Indicates a | | rviceInfoList | eInformation) | | | list of | | | | | | service | | | | | | information | | | | | | that shall be | | | | | | sent to the | | | | | | Application | | | | | | Server. | +---------------+---------------+---+-------------+---------------+
##### 6.2.6.2.21 Type: ImsLocationData
Table 6.2.6.2.21-1: Definition of type ImsLocationData
Attribute name Data type P Cardinality Description
* * *
scscfName string M 1 S-CSCF name assigned to the IMS subscription the UE
belongs to in the form of a SIP URI, as defined in IETF RFC 3261 [22].
##### 6.2.6.2.22 Type: ServiceLevelTraceInformation
Table 6.2.6.2.22-1: Definition of type ServiceLevelTraceInformation
Attribute name Data type P Cardinality Description
* * *
serviceLevelTraceInfo string M 1 IMS Service Level Trace information. Syntax
described in 3GPP TS 24.323 [24]
##### 6.2.6.2.23 Type: PsLocation
Table 6.2.6.2.23-1: Definition of type PsLocation
Attribute name Data type P Cardinality Description
* * *
sgsnLocation SgsnLocationData O 0..1 Location information as retrieved from
SGSN mmeLocation MmeLocationData O 0..1 Location information as retrieved from
MME amfLocation AmfLocationData O 0..1 Location information as retrieved from
AMF twanLocation TwanLocationData O 0..1 3GPP AAA Server for TWAN Location
information. NOTE: At least one of the \"sgsnLocation\", \"mmeLocation\",
\"amfLocation\" or \"twanLocation\" shall be included.
##### 6.2.6.2.24 Type: SgsnLocationData
Table 6.2.6.2.24-1: Definition of type SgsnLocationData
Attribute name Data type P Cardinality Description
* * *
sgsnNumber string M 1 SGSN number. See 3GPP TS 23.003 [13] clause 5.1. plmnId
PlmnId M 1 PLMN identity sgsnLocation UtraLocation O 0..1 User location as
retrieved from SGSN. csgInformation CsgInformation O 0..1 Closed Subscriber
Group Information. See 3GPP TS 23.060 [25]. timeZone TimeZone O 0..1 Local
Time Zone information (Time Zone and Daylight Saving Time) of the location in
the visited network where the UE is located. ratType RatType O 0..1 RAT type
##### 6.2.6.2.25 Type: MmeLocationData
Table 6.2.6.2.25-1: Definition of type MmeLocationData
Attribute name Data type P Cardinality Description
* * *
mmeAddress DiameterIdentity M 1 MME diameter identity plmnId PlmnId M 1 PLMN
identity mmeLocation EutraLocation O 0..1 User location as retrieved from MME.
csgInformation CsgInformation O 0..1 Closed Subscriber Group Information. See
3GPP TS 23.060 [25]. timeZone TimeZone O 0..1 Local Time Zone information
(Time Zone and Daylight Saving Time) of the location in the visited network
where the UE is located. ratType RatType O 0..1 RAT type
##### 6.2.6.2.26 Type: AmfLocationData
Table 6.2.6.2.26-1: Definition of type AmfLocationData
Attribute name Data type P Cardinality Description
* * *
amfAddress NfInstanceId M 1 AMF identity. plmnId PlmnId M 1 PLMN identity
amfLocation NrLocation O 0..1 User location as retrieved from AMF. smsfAddress
NfInstanceId O 0..1 SMSF identity timeZone TimeZone O 0..1 Local Time Zone
information (Time Zone and Daylight Saving Time) of the location in the
visited network where the UE is located. ratType RatType O 0..1 RAT type
##### 6.2.6.2.27 Type: TwanLocationData
Table 6.2.6.2.27-1: Definition of type TwanLocationData
+-----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +=================+===========+===+=============+=================+ | twanSsid | string | M | 1 | TWAN SSID, as | | | | | | defined in | | | | | | 3GPP TS | | | | | | 29.273 [26]. | +-----------------+-----------+---+-------------+-----------------+ | plmnId | PlmnId | M | 1 | PLMN identity | | | | | | of the TWAN | +-----------------+-----------+---+-------------+-----------------+ | twanBssid | string | O | 0..1 | TWAN BSSID, as | | | | | | defined in | | | | | | 3GPP TS | | | | | | 29.273 [26]. | +-----------------+-----------+---+-------------+-----------------+ | civicAddress | string | O | 0..1 | Defined in | | | | | | clause 3.4 of | | | | | | IETF | | | | | | RFC 4776 [27] | | | | | | excluding the | | | | | | first 3 octets. | | | | | | | | | | | | Base64 encoded, | | | | | | according to | | | | | | IETF RF | | | | | | C 2045 [28]). | +-----------------+-----------+---+-------------+-----------------+ | t | string | O | 0..1 | TWAN Operator | | wanOperatorName | | | | Name, as | | | | | | defined in | | | | | | clause 19.8 of | | | | | | 3GPP TS | | | | | | 23.003 [13]. | +-----------------+-----------+---+-------------+-----------------+ | timeZone | TimeZone | O | 0..1 | Local Time Zone | | | | | | information | | | | | | (Time Zone and | | | | | | Daylight Saving | | | | | | Time) of the | | | | | | location in the | | | | | | visited network | | | | | | where the UE is | | | | | | located. | +-----------------+-----------+---+-------------+-----------------+ | logicalAccessId | string | O | 0..1 | Logical Access | | | | | | ID, as defined | | | | | | in | | | | | | ETSI ES | | | | | | 283 034 [29]. | +-----------------+-----------+---+-------------+-----------------+
##### 6.2.6.2.28 Type: CsLocation
Table 6.2.6.2.28-1: Definition of type CsLocation
Attribute name Data type P Cardinality Description
* * *
mscNumber string M 0..1 MSC number. See 3GPP TS 23.003 [13] clause 5.1.
vlrNumber string M 0..1 VLR number. See 3GPP TS 23.003 [13] clause 5.1. plmnId
PlmnId M 0..1 PLMN identity vlrLocation GeraLocation O 0..1 User location as
retrieved from MSC/VLR. csgInformation CsgInformation O 0..1 Closed Subscriber
Group Information. See 3GPP TS 23.060 [25]. timeZone TimeZone O 0..1 Local
Time Zone information (Time Zone and Daylight Saving Time) of the location in
the visited network where the UE is located. eUtranCgi Ecgi O 0..1 E-UTRAN
Cell Global Identity tai Tai O 0..1 Tracking Area ID
##### 6.2.6.2.29 Type: CsgInformation
Table 6.2.6.2.29-1: Definition of type CsgInformation
+----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +================+===========+===+=============+=================+ | csgId | string | M | 1 | CSG Identity. | | | | | | Syntax | | | | | | described in | | | | | | 3GPP T | | | | | | S 29.002 [30] | | | | | | i.e. 5 octets | | | | | | BER encoded | | | | | | value of 27-bit | | | | | | BIT STRING | | | | | | (Base64 encoded | | | | | | according to | | | | | | IETF RF | | | | | | C 2045 [28]). | | | | | | | | | | | | Length = 8. | +----------------+-----------+---+-------------+-----------------+ | accessMode | string | O | 0..1 | CSG Access | | | | | | Mode. Syntax | | | | | | described in | | | | | | 3GPP T | | | | | | S 29.002 [30] | | | | | | (Base64 encoded | | | | | | according to | | | | | | IETF RF | | | | | | C 2045 [28]). | | | | | | | | | | | | Length = 4. | +----------------+-----------+---+-------------+-----------------+ | cMi | boolean | O | 0..1 | CSG Membership | | | | | | Indication | | | | | | | | | | | | 0: CSG | | | | | | membership | | | | | | | | | | | | 1: non CSG | | | | | | membership | +----------------+-----------+---+-------------+-----------------+
##### 6.2.6.2.30 Type: SrvccData
Table 6.2.6.2.30-1: Definition of type SrvccData
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | stnSr | StnSr | M | 1 | Iindicates | | | | | | the STN-SR | | | | | | (Session | | | | | | Transfer | | | | | | Number for | | | | | | SRVCC) of the | | | | | | UE. | +---------------+---------------+---+-------------+---------------+ | ueSrvc | array(Srv | O | 1..N | List of | | cCapabilities | ccCapability) | | | accesses | | | | | | supported by | | | | | | UE SRVCC | | | | | | capability | | | | | | (e.g. 4G, | | | | | | 5G). | | | | | | | | | | | | Absence of | | | | | | this | | | | | | attribute | | | | | | indicates | | | | | | that UE is | | | | | | not SRVCC | | | | | | capable. | +---------------+---------------+---+-------------+---------------+
##### 6.2.6.2.31 Type: PsiActivationState
Table 6.2.6.2.31-1: Definition of type PsiActivationState
Attribute name Data type P Cardinality Description
* * *
activationState ActivationState M 1 Indicates whether the PSI is active or
inactive
##### 6.2.6.2.32 Type: ImsServiceProfile
Table 6.2.6.2.32-1: Definition of type ImsServiceProfile
Attribute name Data type P Cardinality Description
* * *
publicIdentifierList array(PublicIdentifier) M 1..N List of public identities
sharing the same service profile and its individual data ifcs Ifcs O 1 List of
IFCs and/or shared IFC set identifiers cnServiceAuthorization
CoreNetworkServiceAuthorization O 0..1 Core Network Service Authorization
##### 6.2.6.2.33 Type: PublicIdentifier
Table 6.2.6.2.33-1: Definition of type PublicIdentifier
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | p | P | M | 1 | Public | | ublicIdentity | ublicIdentity | | | identity | | | | | | information | +---------------+---------------+---+-------------+---------------+ | displayName | string | O | 1 | Name | | | | | | associated | | | | | | with the | | | | | | public | | | | | | identity | +---------------+---------------+---+-------------+---------------+ | imsSe | P | O | 1 | Multimedia | | rvicePriority | riorityLevels | | | service | | | | | | priority | +---------------+---------------+---+-------------+---------------+ | serviceL | Se | O | 1 | Service Level | | evelTraceInfo | rviceLevelTra | | | Tracing | | | ceInformation | | | Information | +---------------+---------------+---+-------------+---------------+ | bar | boolean | O | 1 | Indicates | | ringIndicator | | | | whether the | | | | | | identity is | | | | | | barred, i.e. | | | | | | it can not be | | | | | | used in any | | | | | | IMS | | | | | | communication | | | | | | except | | | | | | r | | | | | | egistrations, | | | | | | re- | | | | | | registrations | | | | | | and | | | | | | de-r | | | | | | egistrations. | | | | | | | | | | | | true: | | | | | | identitiy is | | | | | | barred | | | | | | | | | | | | false or | | | | | | absent: | | | | | | identity is | | | | | | not barred | +---------------+---------------+---+-------------+---------------+ | w | String | O | 1 | When | | ildcardedImpu | | | | identityType | | | | | | is wildcarded | | | | | | IMPU it | | | | | | contains the | | | | | | wildcard id | | | | | | as stored by | | | | | | HSS | +---------------+---------------+---+-------------+---------------+
##### 6.2.6.2.34 Type: ImeiSvInformation
Table 6.2.6.2.34-1: Definition of type ImeiSvInformation
Attribute name Data type P Cardinality Description
* * *
imei Imei C 1 Indicates the IMEI imeiSv ImeiSv C 1 Indicates the IMEISV NOTE:
Either imei or imeiSv shall be present.
##### 6.2.6.2.35 Void
##### 6.2.6.2.36 Type: TadsInformation
Table 6.2.6.2.36-1: Definition of type TadsInformation
Attribute name Data type P Cardinality Description
* * *
voiceOverPsSessionSupport ImsVoiceOverPsSessionSupport M 1 Indicates the
support for Voice over PS accessType AccessType O 0..1 Indicates the type of
access ratType RatType O 0..1 Indicates the RAT Type lastUeActivityTime
DateTime O 0..1 Indicates the time of the last radio contact with the UE.
##### 6.2.6.2.37 Type: UeReachabilitySubscription
Table 6.2.6.2.37-1: Definition of type UeReachabilitySubscription
Attribute name Data type P Cardinality Description
* * *
expiry DateTime M 1 Indicates the suggested time at which monitoring should
cease and the subscription should become invalid. callbackReference Uri M 1
Callback URI provided by the subscribing NF service consumer.
##### 6.2.6.2.38 Type: UeReachabilityNotification
Table 6.2.6.2.38-1: Definition of type UeReachabilityNotification
Attribute name Data type P Cardinality Description
* * *
reachabilityIndicator boolean M 1 Indicates that the UE has been detected
reachable for IP. detectingNode DetectingNode M 1 Indicates the serving node
which detected the UE reachability for IP. accessType AccessType C 1 Indicates
the access type (e.g. non 3GPP) where the reachability was detected. It shall
be present when the serving node is AMF.
##### 6.2.6.2.39 Type: PsUserState
Table 6.2.6.2.39-1: Definition of type PsUserState
Attribute name Data type P Cardinality Description
* * *
sgsnUserState UserStatePs C 0..1 User state as retrieved from SGSN
mmeUserState UserStatePs C 0..1 User state as retrieved from MME amfUserState
UserStatePs C 0..1 User state as retrieved from AMF NOTE: At least one of the
\"sgsnUserState\", \"mmeUserState\" or \"amfUserState\" shall be included.
##### 6.2.6.2.40 Type: CsUserState
Table 6.2.6.2.40-1: Definition of type PsUserState
Attribute name Data type P Cardinality Description
* * *
mscVlrUserState UserStateCs M 1 User state as retrieved from MSC/VLR
##### 6.2.6.2.41 Type: Csrn
Table 6.2.6.2.41-1: Definition of type CsrnInformation
Attribute name Data type P Cardinality Description
* * *
csrn Msisdn M 1 Contains a CS domain routeing number as retrieved from MSC/VLR
##### 6.2.6.2.42 Type: ReferenceLocationInformation
Table 6.2.6.2.42-1: Definition of type ReferenceLocationInformation
+-----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +=================+===========+===+=============+=================+ | accessType | string | C | 1 | Indicates the | | | | | | type of access | | | | | | for which the | | | | | | reference | | | | | | location of the | | | | | | user is defined | | | | | | (e.g. ADSL). | +-----------------+-----------+---+-------------+-----------------+ | accessInfo | string | C | 1 | Indicates the | | | | | | type of the | | | | | | access | | | | | | information | | | | | | defined for the | | | | | | reference | | | | | | location of the | | | | | | user (e.g. | | | | | | dsl-location). | +-----------------+-----------+---+-------------+-----------------+ | accessValue | string | C | 1 | It contains the | | | | | | location | | | | | | information | | | | | | (e.g. line | | | | | | identifier in | | | | | | fixed access | | | | | | networks) as | | | | | | configured by | | | | | | the operator. | +-----------------+-----------+---+-------------+-----------------+ | NOTE 1: At | | | | | | least one of | | | | | | accessType or | | | | | | accessInfo or | | | | | | accessValue | | | | | | shall be | | | | | | present. | | | | | | | | | | | | NOTE 2: The | | | | | | syntax of | | | | | | accessType, | | | | | | accessInfo and | | | | | | accessValue is | | | | | | as described in | | | | | | 3GPP T | | | | | | S 24.229 [18] | | | | | | for | | | | | | P-Acce | | | | | | ss-Network-Info | | | | | | header fields: | | | | | | accessType | | | | | | corresponds to | | | | | | the | | | | | | \"access-type\" | | | | | | field whereas | | | | | | accessInfo and | | | | | | accessValue | | | | | | correspond to | | | | | | the type and | | | | | | associated | | | | | | value defined | | | | | | for the | | | | | | \"access-info\" | | | | | | field. | | | | | +-----------------+-----------+---+-------------+-----------------+
##### 6.2.6.2.43 Type: SmsRegistrationInfo
Table 6.2.6.2.43-1: Definition of type SmsRegistrationInfo
Attribute name Data type P Cardinality Description
* * *
ipSmGwNumber Msisdn M 1 IP-SM-GW number scAddress Msisdn O 0..1 Short Message
Service Centre Address
##### 6.2.6.2.44 Type: IpSmGwAddress
Table 6.2.6.2.44-1: Definition of type IpSmGwAddress
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | ipSmGwNumber | Msisdn | M | 1 | IP-SM-GW | | | | | | number | +---------------+---------------+---+-------------+---------------+ | ipSmGwDiaUri | Dia | O | 0..1 | IP-SM-GW | | | meterIdentity | | | Diameter Uri. | | | | | | It shall be | | | | | | present if | | | | | | s6c is | | | | | | supported. | +---------------+---------------+---+-------------+---------------+ | i | Dia | O | 0..1 | IP-SM-GW | | pSmGwDiaRealm | meterIdentity | | | Diameter | | | | | | Realm. It | | | | | | shall be | | | | | | present if | | | | | | s6c is | | | | | | supported. | +---------------+---------------+---+-------------+---------------+ | ip | boolean | C | 0..1 | SBI Support | | SmGwSbiSupInd | | | | Indication of | | | | | | the IP-SM-GW. | | | | | | it shall be | | | | | | present if | | | | | | provided in | | | | | | SMS | | | | | | Registration | | | | | | Information | | | | | | Creation or | | | | | | Update | | | | | | procedure | | | | | | (see | | | | | | claus | | | | | | es 5.3.2.7.6) | | | | | | | | | | | | Contains the | | | | | | indication on | | | | | | whether or | | | | | | not the | | | | | | IP-SM-GW is | | | | | | expecting to | | | | | | support | | | | | | SBI-based MT | | | | | | SM transmit. | | | | | | | | | | | | - true: the | | | | | | IP-SM-GW | | | | | | supports SBI | | | | | | for MT SM | | | | | | transmit. | | | | | | | | | | | | - false, or | | | | | | absence of | | | | | | this | | | | | | attribute: | | | | | | the IP-SM-GW | | | | | | do not | | | | | | support SBI | | | | | | for MT SM | | | | | | transmit. | +---------------+---------------+---+-------------+---------------+
##### 6.2.6.2.45 Type: ImsAssociatedIdentities
Table 6.2.6.2.45-1: Definition of type ImsAssociatedIdentities
Attribute name Data type P Cardinality Description
* * *
irsState ImsRegistrationState M 1 It contains the registration state of the
Implicit Registration Set. publicIdentities PublicIdentities M 1 List of IMS
Public Identities associated.
##### 6.2.6.2.46 Type: DsaiTagInformation
Table 6.2.6.2.46-1: Definition of type DsaiTagInformation
Attribute name Data type P Cardinality Description
* * *
dsaiTagStatusList array(DsaiTagStatus) M 1..N List of DSAI Tags associated to
the Application Server Name.
##### 6.2.6.2.47 Type: DsaiTagStatus
Table 6.2.6.2.47-1: Definition of type DsaiTagStatus
Attribute name Data type P Cardinality Description
* * *
dsaiTag string M 1 DSAI tag associated to the Application Server Name.
dsaiStatus ActivationState M 1 Status of DSAI tag
##### 6.2.6.2.48 Type: CreatedUeReachabilitySubscription
Table 6.2.6.2.48-1: Definition of type CreatedUeReachabilitySubscription
Attribute name Data type P Cardinality Description
* * *
expiry DateTime M 1 Indicates the granted time at which monitoring will cease
and the subscription becomes invalid.
##### 6.2.6.2.49 Type: PrivateIdentities
Table 6.2.6.2.49-1: Definition of type PrivateIdentities
Attribute name Data type P Cardinality Description
* * *
privateIdentities array(PrivateIdentity) M 1..N List of IMS Private Identities
associated.
##### 6.2.6.2.50 Type: PrivateIdentity
Table 6.2.6.2.50-1: Definition of type PrivateIdentity
Attribute name Data type P Cardinality Description
* * *
privateIdentity PrivateId M 1 IMS Private Identity. privateIdentityType
PrivateIdentityType M 1 Type of IMS Private Identity (e.g. IMPI or IMSI).
##### 6.2.6.2.51 Type: ScscfSelectionAssistanceInformation
Table 6.2.6.2.51-1: Definition of type ScscfSelectionAssistanceInformation
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | scscfC | ScscfC | C | 0..1 | Information | | apabilityList | apabilityList | | | about | | | | | | mandatory and | | | | | | optional | | | | | | S-CSCF | | | | | | capabilities. | | | | | | | | | | | | Shall be | | | | | | present if | | | | | | scscfNames is | | | | | | absent; may | | | | | | be present | | | | | | otherwise. | +---------------+---------------+---+-------------+---------------+ | scscfNames | array(string) | C | 1..N | a list of | | | | | | S-CSCF names | | | | | | the UE can be | | | | | | steered to. | | | | | | Each strings | | | | | | shall contain | | | | | | a SIP-URL as | | | | | | defined in | | | | | | IETF RF | | | | | | C 3261 [22] | | | | | | to identify a | | | | | | SIP server | | | | | | (S-CSCF) | | | | | | | | | | | | Shall be | | | | | | present if | | | | | | scscfC | | | | | | apabilityList | | | | | | is absent; | | | | | | may be | | | | | | present | | | | | | otherwise. | +---------------+---------------+---+-------------+---------------+
##### 6.2.6.2.52 Type: ChargingInfo
Table 6.2.6.2.52-1: Definition of type ChargingInfo
Attribute name Data type P Cardinality Description
* * *
primaryEventChargingFunctionName DiameterIdentity C 0..1 See 3GPP TS 29.328
secondaryEventChargingFunctionName DiameterIdentity O 0..1 See 3GPP TS 29.328
primaryChargingCollectionFunctionName DiameterIdentity C 0..1 See 3GPP TS
29.328 secondaryChargingCollectionFunctionName DiameterIdentity O 0..1 See
3GPP TS 29.328 NOTE: At least primaryEventChargingFunctionName or
primaryChargingCollectionFunctionName shall be present
##### 6.2.6.2.53 Type: RepositoryDataList
Table 6.2.6.2.53-1: Definition of type RepositoryDataList
Attribute name Data type P Cardinality Description
* * *
repositoryDataMap map(RepositoryData) M 1..N A map (list of key-value pairs
where ServiceIndication serves as key) of RepositoryData.
##### 6.2.6.2.54 Type: CoreNetworkServiceAuthorization
Table 6.2.6.2.54-1: Definition of type CoreNetworkServiceAuthorization
Attribute name Data type P Cardinality Description
* * *
subscribedMediaProfileId integer O 0..1 Subscribed Media Profile ID
#### 6.2.6.3 Simple data types and enumerations
##### 6.2.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 6.2.6.3.2 Simple data types
The simple data types defined in table 6.2.6.3.2-1 shall be supported.
Table 6.2.6.3.2-1: Simple data types
+-------------------+-----------------+------------------------------+ | Type Name | Type Definition | Description | +-------------------+-----------------+------------------------------+ | Capability | integer | S-CSCF capability | +-------------------+-----------------+------------------------------+ | SequenceNumber | integer | Unsigned integer containing | | | | the sequence number | | | | associated to the current | | | | version of Repository Data | +-------------------+-----------------+------------------------------+ | ServiceIndication | string | String containing the | | | | Service Indication or | | | | Service Identifier | +-------------------+-----------------+------------------------------+ | Msisdn | string | String containing an | | | | additional or basic MSISDN | | | | | | | | Pattern: \"[0-9]{5,15}\$\" | +-------------------+-----------------+------------------------------+ | PrivateId | string | String containing a Private | | | | User Identity or a Private | | | | Service Identity. | +-------------------+-----------------+------------------------------+ | ImsPublicId | string | String containing an IMS | | | | Public Identity in SIP URI | | | | format or TEL URI format, as | | | | specified | | | | 3GPP TS 23.003 [13] | | | | | | | | Pattern: | | | | \"\^(sip\:([a-zA- | | | | Z0-9_\\-.!\~*()&=+\$,;?\/ | | | | ]+)\@([A-Za-z0-9]+([-A- | | | | Za-z0-9]+)\\.)+[a-z]{2,}\ | | | | |tel\:\\+[0-9]{5,15})\$\" | +-------------------+-----------------+------------------------------+ | NameSpacePriority | string | String containing the | | | | namespace and priority. It | | | | shall be formatted as | | | | \"r-value\" parameter | | | | described in | | | | IETF RFC 4412 [19]. See | | | | also 3GPP TS 24.229 [18]. | | | | | | | | Pattern: | | | | \"\^[0-9a-zA-Z-\\!%\\*\ | | | | _\\+`\\\'\~]+.[0-9a-zA-Z- | | | | \\!%\\*_\\+`\\\'\~]+\$\" | +-------------------+-----------------+------------------------------+ | CscfFilterSetId | integer | Contains the identifier of a | | | | specific filter set in the | | | | S-CSCF. | | | | | | | | Minimum=0 | +-------------------+-----------------+------------------------------+ | SptGroupId | integer | Contains the identifier of | | | | the Group of SPTs. | | | | | | | | Minimum=0 | +-------------------+-----------------+------------------------------+ | SharedDataId | string | Identifies globally and | | | | uniquely a piece of | | | | subscription data shared by | | | | multiple UEs. The value | | | | shall start with the HPLMN | | | | id (MCC/MNC) followed by a | | | | hyphen followed by a local | | | | Id as allocated by the home | | | | network operator. | | | | | | | | Pattern: \"[0-9]{5,6}-.+\" | +-------------------+-----------------+------------------------------+ | PrePaging | boolean | Inidicates the support of | | | | pre-paging. | +-------------------+-----------------+------------------------------+ | SipServerName | string | Server Name (e.g. AS name, | | | | CSCF name) in SIP URI format | | | | | | | | Pattern: | | | | \"\^(sip\:([a-zA-Z0-9 | | | | _\\-.!\~*()&=+\$,;?\/]+) | | | | \@([A-Za-z0-9]+([-A-Za-z | | | | 0-9]+)\\.)+[a-z]{2,})\$\" | +-------------------+-----------------+------------------------------+
##### 6.2.6.3.3 Enumeration: DataSetName
The enumeration DataSetName represents a Set of Data within the IMS User
Profile. It shall comply with the provisions defined in table 6.2.6.3.3-1.
Table 6.2.6.3.3-1: Enumeration DataSetName
Enumeration value Description
* * *
\"CHARGING_DATA\" Charging Information Data \"IFC_DATA\" Initial Filter
Criteria Data \"TRACE_DATA\" IMS service level trace information
\"PRIORITY_DATA\" Service Priority Levels
##### 6.2.6.3.4 Enumeration: IdentityType
The enumeration IdentityType represents the type of IMS Public Identity. It
shall comply with the provisions defined in table 6.2.6.3.4-1.
Table 6.2.6.3.4-1: Enumeration IdentityType
Enumeration value Description
* * *
\"DISTINCT_IMPU\" The identity is an IMS Public User Identity \"DISTINCT_PSI\"
The identity is an IMS Public Service Identity \"WILDCARDED_IMPU\" The
identity is an IMS Wildcarded Public User Identity \"WILDCARDED_PSI\" The
identity is an IMS Wildcarded Public Service Identity
##### 6.2.6.3.5 Enumeration: ImsRegistrationState
The enumeration ImsRegistrationState represents the IMS status of the user or
Public Identity or the IRS. It shall comply with the provisions defined in
table 6.2.6.3.5-1
Table 6.2.6.3.5-1: Enumeration ImsRegistrationState
Enumeration value Description
* * *
\"REGISTERED\" The identity is explicitly registered by the user.
\"NOT_REGISTERED\" The identity is not registered. \"AUTHENTICATION_PENDING\"
The identity initiated a registration and its authentication is ongoing
(authentication pending flag is set). \"REGISTERED_UNREG_SERVICES\" The
identity is not registered but has an S-CSCF assigned. NOTE: See clause 3.1
for more details on the IMS registration states and terms.
##### 6.2.6.3.6 Enumeration: TypeOfCondition
The enumeration TypeOfCondition represents the type of condition to be applied
to the logical expression of SPT groups and SPTs. See 3GPP TS 29.228 [20],
Annex C.
Table 6.2.6.3.6-1: Enumeration TypeOfCondition
Enumeration value Description Applicability
* * *
\"CNF\" Conjunctive form  
\"DNF\" Disjunctive form
##### 6.2.6.3.7 Enumeration: RegistrationType
The enumeration RegistrationType represents the type of registration
associated to the REGISTER request.
Table 6.2.6.3.7-1: Enumeration RegistrationType
Enumeration value Description Applicability
* * *
\"INITIAL_REGISTRATION\" The request is related to an initial registration  
\"RE_REGISTRATION\" The request is related to a re-registration  
\"DE_REGISTRATION\" The request is related to a de-registration
##### 6.2.6.3.8 Enumeration: RequestDirection
The enumeration RequestDirection represents the direction of the request in
combination with the registration status of the user as evaluated in the
S-CSCF.
Table 6.2.6.3.8-1: Enumeration RequestDirection
Enumeration value Description Applicability
* * *
\"ORIGINATING_REGISTERED\" The request is originated by an explicitly
registered user.  
\"ORIGINATING_UNREGISTERED\" The request is originated by a non-registered
user.  
\"ORIGINATING_CDIV \" The REGISTER request is related to an originating
request after call diversion service (regardless of the registration state).  
\"TERMINATING_REGISTERED\" The request is targeted to an explicitly registered
user.  
\"TERMINATING _UNREGISTERED\" The request is targeted to a non-registered
user.
##### 6.2.6.3.9 Enumeration: ServiceInformation
The enumeration ServiceInformation indicates the type of additional
information to be included in the body of the SIP request towards the
Application Server.
Table 6.2.6.3.9-1: Enumeration ServiceInformation
Enumeration value Description Applicability
* * *
\"INCLUDE_REGISTER_REQUEST\" Indicates to the S-CSCF that the incoming SIP
REGISTER request is to be transferred to the Application Server.  
\"INCLUDE_REGISTER_RESPONSE\" Indicates to the S-CSCF that the final SIP
response to the incoming SIP REGISTER request is to be transferred to the
Application Server.  
NOTE: See 3GPP TS 23.218 [43] for the use of this information.
##### 6.2.6.3.10 Enumeration: RequestedNode
The enumeration RequestedNode represents serving node requested. It shall
comply with the provisions defined in table 6.2.6.3.10-1.
Table 6.2.6.3.10-1: Enumeration RequestedNode
Enumeration value Description Applicability
* * *
\"SGSN\" The requested node is SGSN.  
\"MME\" The requested node is MME.  
\"AMF\" The requested node is AMF.  
\"3GPP_AAA_SERVER_TWAN\" The requested node is 3GPP-AAA-SERVER-TWAN
##### 6.2.6.3.11 Enumeration: SrvccCapability
The enumeration SrvccCapability represents the type of UE support for SRVCC.
It shall comply with the provisions defined in table 6.2.6.3.11-1.
Table 6.2.6.3.11-1: Enumeration IdentityType
Enumeration value Description
* * *
\"UE_4G_SRVCC_CAPABLE\" UE is 4G SRVCC capable \"UE_5G_SRVCC_CAPABLE\" UE is
5G SRVCC capable
##### 6.2.6.3.12 Enumeration: ActivationState
The enumeration ActivationState represents the activation state of a PSI or
DSAI tag. It shall comply with the provisions defined in table 6.2.6.3.12-1.
Table 6.2.6.3.12-1: Enumeration ActivationState
Enumeration value Description
* * *
\"ACTIVE\"  
\"INACTIVE\"
##### 6.2.6.3.13 Enumeration: ImsVoiceOverPsSessionSupport
The enumeration ImsVoiceOverPsSessionSupport represents the support for Voice
over PS associated to the UE.
Table 6.2.6.3.13-1: Enumeration ImsVoiceOverPsSessionSupport
Enumeration value Description Applicability
* * *
\"IMS_VOICE_OVER_PS_NOT_SUPPORTED\" Voice over PS is supported for the UE  
\"IMS_VOICE_OVER_PS_SUPPORTED\" Voice over PS is not supported for the UE  
\"IMS_VOICE_OVER_PS_SUPPORT_UNKNOWN\" Voice over PS support for the UE is
unknown
##### 6.2.6.3.14 Enumeration: AccessType
The enumeration AccessType represents the type of access. It shall comply with
the provisions defined in table 6.2.6.3.14-1.
Table 6.2.6.3.14-1: Enumeration AccessType
Enumeration value Description Applicability
* * *
\"3GPP_ACCESS\"  
\"NON_3GPP_ACCESS\"
##### 6.2.6.3.15 Enumeration: UserStatePs
The enumeration UserStatePs represents the user state in PS domain.
Table 6.2.6.3.15-1: Enumeration ImsVoiceOverPsSessionSupport
Enumeration value Description Applicability
* * *
\"DETACHED\"  
\"ATTACHED_NOT_REACHABLE_FOR_PAGING\"  
\"ATTACHED_REACHABLE_FOR_PAGING\"  
\"CONNECTED_NOT_REACHABLE_FOR_PAGING\"  
\"CONNECTED_REACHABLE_FOR_PAGING\"  
\"NOT_PROVIDED_FROM_SGSN_OR_MME_OR_AMF\"  
\"NETWORK_DETERMINED_NOT_REACHABLE\"  
NOTE: See 3GPP TS 29.272 [32] for PS/EPS User State and 3GPP TS 29.518 [33]
for the 5GS User State
##### 6.2.6.3.16 Enumeration: UserStateCs
The enumeration UserStateCs represents the user state in CS domain.
Table 6.2.6.3.16-1: Enumeration ImsVoiceOverPsSessionSupport
Enumeration value Description Applicability
* * *
\"CAMEL_BUSY\"  
\"NETWORK_DETERMINED_NOT_REACHABLE\"  
\"ASSUMED_IDLE\"  
\"NOT_PROVIDED_FROM_VLR\"  
NOTE: See 3GPP TS 23.078 [31] for CS Subscriber State
##### 6.2.6.3.17 Enumeration: PrivateIdentityType
The enumeration PrivateIdentityType represents the type of IMS Private
Identity. It shall comply with the provisions defined in table 6.2.6.3.17-1.
Table 6.2.6.3.17-1: Enumeration PrivateIdentityType
Enumeration value Description
* * *
\"IMPI\" The identity is an IMS Private User Identity. \"IMSI\" The identity
is an IMSI.
### 6.2.7 Error Handling
#### 6.2.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS
29.500 [4].
#### 6.2.7.2 Protocol Errors
Protocol errors handling shall be supported as specified in clause 5.2.7 of
3GPP TS 29.500 [4].
#### 6.2.7.3 Application Errors
The common application errors defined in the Table 5.2.7.2-1 in 3GPP TS 29.500
[4] may also be used for the Nhss_imsSDM service. The following application
errors listed in Table 6.2.7.3-1 are specific for the Nhss_imsSDM service.
Table 6.2.7.3-1: Application errors
Application Error HTTP status code Description
* * *
USER_NOT_FOUND 404 Not Found The user does not exist in the HPLMN
SERVICE_NOT_FOUND 404 Not Found The service (PSI) does not exist in the HPLMN
DATA_NOT_FOUND 404 Not Found The requested data is not found/does not exist.
Additional information (if any) about this application error is indicated for
each specific resource. CONTEXT_NOT_FOUND 404 Not Found It is used during the
modification of an existing subscription when no corresponding context exists.
OPERATION_NOT_ALLOWED 403 Forbidden The requested data is not allowed to be
accessed by the service consumer, e.g. the IMS-AS does not have permissions
for the requested resource and/or HTTP method. OUT_OF_SYNC 409 Conflict The
request could not be completed due to a conflict with the current state of the
target resource (wrong version or sequence number) TOO_MUCH_DATA 413 Payload
Too Large The request could not be completed due to large amount of data (e.g.
size of repository data is too large). This response may be due to constraints
applied by the service producer, e.g. based on local policy.
### 6.2.8 Feature negotiation
The optional features in table 6.2.8-1 are defined for the Nhss_imsSDM API.
They shall be negotiated using the extensibility mechanism defined in clause
6.6 of 3GPP TS 29.500 [4].
Table 6.2.8-1: Supported Features
Feature number Feature Name Description
* * *
1 SharedData When receiving a Nhss_ismSDM_Get service operation request to
retrieve a UE\'s IMS profile data, and the request does not contain a
supported-features query parameter indicating support of this feature, the HSS
shall not include Shared Data Ids in the response. Instead the HSS may --
based on operator policy -- take no further action (i.e. allow the UE to get
services based on only the UE\'s individual IMS profile data), or send the
shared data as individual data (this may result in notifications of individual
subscription data change -- if so subscribed -- when shared data, which are
sent as individual data, are modified, and/or when the UE\'s Shared Data IDs
are modified). 2 PatchReport If some of the modifications included in the
PATCH request are not successfully implemented, the HSS reports the result of
PATCH request execution to the consumer. See clause 5.2.7.2 of 3GPP TS 29.500
[4].
### 6.2.9 Security
As indicated in 3GPP TS 33.501 [5], the access to the Nhss_imsSDM API may be
authorized by means of the OAuth2 protocol (see IETF RFC 6749 [35]), using the
\"Client Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510
[36]) plays the role of the authorization server.
If Oauth2 authorization is used, an NF Service Consumer, prior to consuming
services offered by the Nhss_imsSDM API, shall obtain a \"token\" from the
authorization server, by invoking the Access Token Request service, as
described in 3GPP TS 29.510 [36], clause 5.4.2.2.
NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used for
discovering the Nhss_imsSDM service.
The Nhss_imsSDM API defines the following scopes for OAuth2 authorization:
Table 6.2.9-1: Oauth2 scopes defined in Nhss_imsSDM API
Scope Description
* * *
\"nhss-ims-sdm\" Access to the Nhss IMS Subscription Data Management API
\"nhss-ims-sdm:registration-status:read\" Access to read the Registration
Status resource \"nhss-ims-sdm:profile-data:read\" Access to read the Profile
Data resource \"nhss-ims-sdm:priority-levels:read\" Access to read the
Priority Levels resource \"nhss-ims-sdm:ifcs:read\" Access to read the Initial
Filter Criteria resource \"nhss-ims-sdm:service-level-trace-information:read\"
Access to read the Service Level Trace Information resource \"nhss-ims-
sdm:server-name:read\" Access to read the Server Name resource \"nhss-ims-
sdm:scscf-capabilities:read\" Access to read the S-CSCF Capabilities resource
\"nhss-ims-sdm:ps-domain:location-data:read\" Access to read the PS-Domain
Location Data resource \"nhss-ims-sdm:ps-domain:ip-address:read\" Access to
read the PS-Domain IP Address resource \"nhss-ims-sdm:ps-domain:tads-
info:read\" Access to read the PS-Domain TADS Info resource \"nhss-ims-sdm:ps-
domain:ue-reach-subscriptions:create\" Access to create PS-Domain UE
Reachability Subscriptions resources \"nhss-ims-sdm:ps-domain:ue-reach-
subscriptions:modify\" Access to update/delete a PS-Domain UE Reachability
Subscription resource \"nhss-ims-sdm:ps-domain:user-state:read\" Access to
read the PS-Domain User State resource \"nhss-ims-sdm:cs-domain:location-
data:read\" Access to read the CS-Domain Location Data resource \"nhss-ims-
sdm:cs-domain:user-state:read\" Access to read the CS-Domain User State
resource \"nhss-ims-sdm:cs-domain:csrn:read\" Access to read the CS-Domain
CSRN resource \"nshh-ims-sdm:wireline-domain:reference-location:read\" Access
to read the Wireline-Domain Reference Location resource \"nhss-ims-
sdm:repository-data:modify\" Access to create/update/delete the Repository
Data resource \"nhss-ims-sdm:repository-data:read\" Access to read the
Repository Data resource \"nhss-ims-sdm:identities:read\" Access to read the
Identities resource \"nhss-ims-sdm:srvcc:read\" Access to read the SRVCC
resource \"nhss-ims-sdm:srvcc:modify\" Acess to update the SRVCC resource
\"nhss-ims-sdm:psi-status:read\" Access to read the PSI Status resource
\"nhss-ims-sdm:psi-status:modify\" Acess to update the PSI Status resource
\"nhss-ims-sdm:dsai:read\" Access to read the DSAI resource \"nhss-ims-
sdm:dsai:modify\" Access to update the DSAI resource \"nhss-ims-sdm:sms-
registration-info:read\" Access to read the SMS Registration Info resource
\"nhss-ims-sdm:sms-registration-info:modify\" Access to create/update/delete
the SMS Registration Info resource \"nhss-ims-sdm:subscriptions:create\"
Access to create Subscriptions resources \"nhss-ims-sdm:subscription:modify\"
Access to update/delete a Subscription resource \"nhss-ims-sdm:shared-
subscriptions:create\" Access to create a Shared-Data Subscriptions resource
\"nhss-ims-sdm:shared-subscriptions:modify\" Access to update/delete a Shared-
Data Subscription resource \"nhss-ims-sdm:shared-subscriptions:read\" Access
to read the Shared-Data resource \"nhss-ims-sdm:charging-info:read\" Access to
read the Charging-Information resource
### 6.2.10 HTTP redirection
An HTTP request may be redirected to a different HSS service instance when
using direct or indirect communications (see 3GPP TS 29.500 [4]).
An SCP that reselects a different HSS producer instance will return the NF
Instance ID of the new HSS producer instance in the 3gpp-Sbi-Producer-Id
header, as specified in clause 6.10.3.4 of 3GPP TS 29.500 [4].
If an HSS redirects a service request to a different HSS using an 307
Temporary Redirect or 308 Permanent Redirect status code, the identity of the
new HSS towards which the service request is redirected shall be indicated in
the 3gpp-Sbi-Target-Nf-Id header of the 307 Temporary Redirect or 308
Permanent Redirect response as specified in clause 6.10.9.1 of 3GPP TS 29.500
[4].
## 6.3 Nhss_imsUEAuthentication Service API
### 6.3.1 API URI
URIs of this API shall have the following root:
{apiRoot}/{apiName}/{apiVersion}/
where \"apiRoot\" is defined in clause 4.4.1 of 3GPP TS 29.501 [5], the
\"apiName\" shall be set to \"nhss-ims-ueau\" and the \"apiVersion\" shall be
set to \"v1\" for the current version of this specification.
### 6.3.2 Usage of HTTP
#### 6.3.2.1 General
HTTP/2, as defined in IETF RFC 7540 [8], shall be used as specified in clause
5 of 3GPP TS 29.500 [4].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].
HTTP messages and bodies for the Nhss_imsUEAU service shall comply with the
OpenAPI [9] specification contained in Annex A.3.
#### 6.3.2.2 HTTP standard headers
##### 6.3.2.2.1 General
The usage of HTTP standard headers shall be supported as specified in clause
5.2.2 of 3GPP TS 29.500 [4].
##### 6.3.2.2.2 Content type
The following content types shall be supported:
\- JSON, as defined in IETF RFC 8259 [10], signalled by the content type
\"application/json\".
\- The Problem Details JSON Object (IETF RFC 7807 [11] signalled by the
content type \"application/problem+json\"
\- JSON Patch, as defined in IETF RFC 6902 [12], signalled by the content type
\"application/json-patch+json\"
#### 6.3.2.3 HTTP custom headers
##### 6.3.2.3.1 General
The usage of HTTP custom headers shall be supported as specified in clause
5.2.3 of 3GPP TS 29.500 [4].
### 6.3.3 Resources
#### 6.3.3.1 Overview
Figure 6.3.3.1-1: Resource URI structure of the Nhss_imsUEAU API
Table 6.3.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 6.3.3.1-1: Resources and methods overview
* * *
Resource name\ Resource URI HTTP method or custom operation Description
(Archetype)
* * *
SecurityInformation\ /{impi}/security-information/generate-sip-auth-data
generate-sip-auth-data (POST) The HSS takes the variable {impi} and, if
applicable, fetches the corresponding SUPI. The HSS calculates a fresh
authentication vector based on the received information and the stored
security information, if IMS-AKA is selected. Otherwise, the HSS provides the
corresponding authentication information. (Custom operation)
* * *
#### 6.3.3.2 Resource: SecurityInformation
##### 6.3.3.2.1 Description
This resource represents the information that is needed together with the SIP
authenticacion scheme to calculate a fresh authentication vector.
##### 6.3.3.2.2 Resource Definition
Resource URI: {apiRoot}/nhss-ims-ueau/v1/{impi}/security-information
This resource shall support the resource URI variables defined in table
6.3.3.2.2-1.
Table 6.3.3.2.2-1: Resource URI variables for this resource
+---------+-----------------------------------------------------------+ | Name | Definition | +=========+===========================================================+ | apiRoot | See clause 6.3.1 | +---------+-----------------------------------------------------------+ | impi | Represents the IMS Private Identity (see | | | 3GPP TS 23.003 [13] clause 13.3. | | | | | | Pattern: \"\^(impi-.+\|.+)\$\" | +---------+-----------------------------------------------------------+
##### 6.3.3.2.3 Resource Standard Methods
No Standard Methods are supported for this resource.
##### 6.3.3.2.4 Resource Custom Operations
##### 6.3.3.2.4.1 Overview {#overview-5 .H6}
Table 6.3.3.2.4.1-1: Custom operations
Custom operaration URI Mapped HTTP method Description
* * *
/generate-sip-auth-data POST Select the authentication method and calculate a
fresh AV if IMS-AKA is selected or provides corresponding authentication
information.
##### 6.3.3.2.4.2 Operation: generate-sip-auth-data {#operation-generate-sip-
auth-data .H6}
##### 6.3.3.2.4.2.1 Description {#description-38 .H6}
This custom operation is used by the NF service consumer (S-CSCF) to request
authentication information data for the IMPI from the HSS. The HSS calculates
an authentication vector taking into account the information received from the
NF service consumer (S-CSCF) and the current representation of this resource
if IMS AKA is selected. For details see 3GPP TS 33.203 [14].
##### 6.3.3.2.4.2.2 Operation Definition {#operation-definition-1 .H6}
This operation shall support the request data structures specified in table
6.3.3.2.4.2.2-1 and the response data structure and response codes specified
in table 6.3.3.2.4.2.2-2.
Table 6.3.3.2.4.2.2-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description SipAuthenticationInfoRequest M 1 Contains
the SIP Authentication Scheme, the number of authentication items and
Resynchronization Information
* * *
Table 6.3.3.2.4.2.2-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | S | M | 1 | 200 OK | Upon success, | | ipAuthenticat | | | | a response | | ionInfoResult | | | | body | | | | | | containing | | | | | | the selected | | | | | | a | | | | | | uthentication | | | | | | method and an | | | | | | a | | | | | | uthentication | | | | | | vector if IMS | | | | | | AKA has been | | | | | | selected | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | AUTHENTICAT | | | | | | ION_REJECTED | | | | | | | | | | | | - | | | | | | UNSU | | | | | | PPORTED_SIP\ | | | | | | _AUTH_SCHEME | +---------------+---+-------------+---------------+---------------+
Table 6.3.3.2.4.2.2-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.3.3.2.4.2.2-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
### 6.3.4 Custom Operations without associated resources
In this release of this specification, no custom operations without associated
resources are defined for the Nhss_imsUEAuthentication Service.
### 6.3.5 Notifications
In this release of this specification, no notifications are defined for the
Nhss_imsUEAuthentication Service.
### 6.3.6 Data Model
#### 6.3.6.1 General
This clause specifies the application data model supported by the API.
Table 6.3.6.1-1 specifies the structured data types defined for the
Nhss_imsUEAU service API.
Table 6.3.6.1-1: Nhss_imsUEAU specific Data Types
Data type Clause defined Description
* * *
SipAuthenticationInfoRequest 6.3.6.2.2 Contains SIP Authentication Schema,
Authentication Items and Resynchronization Information
SipAuthenticationInfoResult 6.3.6.2.3 Contains authentication information
(e.g. authentication vectors, line id) ResynchronizationInfo 6.3.6.2.4
Contains RAND and AUTS 3GAkaAv 6.3.6.2.5 Contains RAND, XRES, AUTN, CK, and IK
Table 6.3.6.1-2 specifies data types re-used by the Nhss_imsUEAU service API
from other specifications, including a reference to their respective
specifications and when needed, a short description of their use within the
Nhss_imsUEAU.
Table 6.3.6.1-2: Nhss_imsUEAU re-used Data Types
Data type Reference Comments
* * *
ProblemDetails 3GPP TS 29.571 [16] Response body of error response messages.
RedirectResponse 3GPP TS 29.571 [16] Response body of redirect response
messages. IpAddr 3GPP TS 29.571 [16] IP Address (either IPv4 address, IPv6
address or IPv6 prefix) Autn 3GPP TS 29.503 [15] AUTN component of the
Authentication Vector Auts 3GPP TS 29.503 [15] AUTS component of the
Resynchronization Info Rand 3GPP TS 29.503 [15] RAND component of the
Authentication Vector or the Resynchronization Info Xres 3GPP TS 29.503 [15]
XRES component of the Authentication Vector ConfidentialityKey 3GPP TS 29.503
[15] CK component of the Authentication Vector IntegrityKey 3GPP TS 29.503
[15] IK component of the Authentication Vector
#### 6.3.6.2 Structured data types
##### 6.3.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 6.3.6.2.2 Type: SipAuthenticationInfoRequest
Table 6.3.6.2.3-1: Definition of type AuthenticationInfoRequest
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | c | string | M | 1 | S-CSCF name | | scfServerName | | | | in SIP URI | | | | | | format | +---------------+---------------+---+-------------+---------------+ | sipAuthent | SipAuthent | M | 1 | SIP | | icationScheme | icationScheme | | | A | | | | | | uthentication | | | | | | Scheme | | | | | | requested by | | | | | | service | | | | | | consumer | | | | | | (S-CSCF) | +---------------+---------------+---+-------------+---------------+ | sipNu | SipNu | O | 0..1 | Number of | | mberAuthItems | mberAuthItems | | | a | | | | | | uthentication | | | | | | items (AVs). | | | | | | | | | | | | Absence | | | | | | indicates | | | | | | that only one | | | | | | AV is | | | | | | requested. | | | | | | | | | | | | This | | | | | | attribute | | | | | | shall be | | | | | | absent for | | | | | | a | | | | | | uthentication | | | | | | schemes other | | | | | | than IMS AKA. | +---------------+---------------+---+-------------+---------------+ | resynchr | Resynchr | O | 0..1 | Contains RAND | | onizationInfo | onizationInfo | | | and AUTS; see | | | | | | 3GPP TS 3 | | | | | | 3.203 [14]. | | | | | | | | | | | | This | | | | | | attribute | | | | | | shall be | | | | | | included only | | | | | | if a | | | | | | resy | | | | | | nchronization | | | | | | procedure | | | | | | needs to be | | | | | | triggered. | | | | | | | | | | | | This | | | | | | attribute | | | | | | shall be | | | | | | absent for | | | | | | a | | | | | | uthentication | | | | | | schemes other | | | | | | than IMS AKA. | +---------------+---------------+---+-------------+---------------+
##### 6.3.6.2.3 Type: SipAuthenticationInfoResult
Table 6.3.6.2.3-1: Definition of type AuthenticationInfoResult
Attribute name Data type P Cardinality Description
* * *
sipAuthenticationScheme SipAuthenticationScheme M 1 SIP Authentication Scheme
used by service producer (HSS) 3gAkaAvs array(3GAkaAv) O 1..N If IMS AKA is
requested, it shall be present and will contains Authentication Vectors.
digestAuth DigestAuthentication O 0..1 If SIP Digest is used, it shall be
present and shall contain the digest realm, algorithm, QoP and HA1.
lineIdentifierList array(LineIdentifier) O 0..N If NBA is used, it shall be
present and shall contain a list of fixed broadband access line identifiers
associated to the user. ipAddress IpAddr O 0..1 If GIBA is used, it shall be
present and shall contain an IP address (IPv4, or IPv6, or IPv6 prefix)
##### 6.3.6.2.4 Type: ResynchronizationInfo
Table 6.3.6.2.4-1: Definition of type ResynchronizationInfo
Attribute name Data type P Cardinality Description
* * *
rand Rand M 1  
auts Auts M 1
##### 6.3.6.2.5 Type: 3GAkaAv
Table 6.3.6.2.5-1: Definition of type 3gAkaAv
Attribute name Data type P Cardinality Description
* * *
rand Rand M 1 RAND component of the Authentication Vector xres Xres M 1 XRES
component of the Authentication Vector autn Autn M 1 AUTN component of the
Authentication Vector ck ConfidentialityKey M 1 CK component of the
Authentication Vector ik IntegrityKey M 1 IK component of the Authentication
Vector
##### 6.3.6.2.6 Type: DigestAuthentication
Table 6.3.6.2.6-1: Definition of type DigestAuthentication
Attribute name Data type P Cardinality Description
* * *
digestRealm string M 1 Digest realm. See IETF RFC 4740 [17]. digestAlgorithm
SipDigestAlgorithm M 1 Digest Algorithm. See IETF RFC 4740 [17]. digestQop
SipDigestQop M 1 Quality of Protection. See IETF RFC 4740 [17]. ha1 string M 1
Hash H(A1). See IETF RFC 4740 [17].
##### 6.3.6.2.7 Void
#### 6.3.6.3 Simple data types and enumerations
##### 6.3.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 6.3.6.3.2 Simple data types
The simple data types defined in table 6.3.6.3.2-1 shall be supported.
Table 6.3.6.3.2-1: Simple data types
+--------------------+-----------------+-----------------------------------------+ | Type Name | Type Definition | Description | +--------------------+-----------------+-----------------------------------------+ | SipNumberAuthItems | integer | Number of authentication items | | | | | | | | Minimum: 1 | +--------------------+-----------------+-----------------------------------------+ | Impi | string | IMS Private User Identity | +--------------------+-----------------+-----------------------------------------+ | LineIdentifier | string | Line Identifier for the wireline access | +--------------------+-----------------+-----------------------------------------+
##### 6.3.6.3.3 Enumeration: SipAuthenticationScheme
The enumeration SipAuthenticationScheme represents an IMS authentication
scheme. It shall comply with the provisions defined in table 6.3.6.3.3-1.
Table 6.3.6.3.3-1: Enumeration SipAuthenticationScheme
Enumeration value Description
* * *
\"DIGEST-AKAV1-MD5\" IMS-AKA authentication scheme \"DIGEST-HTTP\" SIP Digest
authentication scheme \"NBA\" NASS Bundled authentication scheme \"GIBA\"
GPRS-IMS-Bundled authentication scheme \"UNKNOWN\" Authentication scheme to be
used is unknown by the service consumer
##### 6.3.6.3.4 Enumeration: SipDigestAlgorithm
The enumeration SipDigestAlgorithm represents the algorithm for SIP Digest
scheme. It shall comply with the provisions defined in table 6.3.6.3.4-1.
Table 6.3.6.3.4-1: Enumeration SipDigestAlgorithm
Enumeration value Description
* * *
\"MD5\"  
\"MD5_SESS\"
##### 6.3.6.3.5 Enumeration: SipDigestQop
The enumeration SipDigestQop represents the quality of protection for SIP
Digest scheme. It shall comply with the provisions defined in table
6.3.6.3.5-1.
Table 6.3.6.3.5-1: Enumeration SipDigestQop
Enumeration value Description
* * *
\"AUTH\" Indicates authentication \"AUTH_INT\" Indicates authentication with
integrity protection
### 6.3.7 Error Handling
#### 6.3.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS
29.500 [4].
#### 6.3.7.2 Protocol Errors
Protocol errors handling shall be supported as specified in clause 5.2.7 of
3GPP TS 29.500 [4].
#### 6.3.7.3 Application Errors
The common application errors defined in the Table 5.2.7.2-1 in 3GPP TS 29.500
[4] may also be used for the Nhss_imsUEAuthentication service. The following
application errors listed in Table 6.3.7.3-1 are specific for the
Nhss_imsUEAuthentication service.
Table 6.3.7.3-1: Application errors
Application Error HTTP status code Description
* * *
AUTHENTICATION_REJECTED 403 Forbidden The user cannot be authenticated with
this authentication method USER_NOT_FOUND 404 Not Found The user does not
exist in the HPLMN UNSUPPORTED_SIP_AUTHENTICATION_SCHEME 501 Not implemented
The received SIP authentication scheme is not supported by HPLMN
### 6.3.8 Feature Negotiation
### 6.3.9 Security
As indicated in 3GPP TS 33.501 [5], the access to the Nhss_imsUEAU API may be
authorized by means of the OAuth2 protocol (see IETF RFC 6749 [35]), using the
\"Client Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510
[36]) plays the role of the authorization server.
If Oauth2 authorization is used, an NF Service Consumer, prior to consuming
services offered by the Nhss_imsUEAU API, shall obtain a \"token\" from the
authorization server, by invoking the Access Token Request service, as
described in 3GPP TS 29.510 [36], clause 5.4.2.2.
NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used for
discovering the Nhss_imsUEAU service.
The Nhss_imsUEAU API defines the following scopes for OAuth2 authorization:
Table 6.3.9-1: Oauth2 scopes defined in Nhss_imsUEAU API
Scope Description
* * *
\"nhss-ims-ueau\" Access to the Nhss IMS UE Context Management API \"nhss-ims-
ueau:generate-sip-auth-data:invoke\" Access to invoke the Generate SIP Auth
Data custom method
### 6.3.10 HTTP redirection
An HTTP request may be redirected to a different HSS service instance when
using direct or indirect communications (see 3GPP TS 29.500 [4]).
An SCP that reselects a different HSS producer instance will return the NF
Instance ID of the new HSS producer instance in the 3gpp-Sbi-Producer-Id
header, as specified in clause 6.10.3.4 of 3GPP TS 29.500 [4].
If an HSS redirects a service request to a different HSS using an 307
Temporary Redirect or 308 Permanent Redirect status code, the identity of the
new HSS towards which the service request is redirected shall be indicated in
the 3gpp-Sbi-Target-Nf-Id header of the 307 Temporary Redirect or 308
Permanent Redirect response as specified in clause 6.10.9.1 of 3GPP TS 29.500
[4].
## 6.4 Nhss_gbaSubscriberDataManagement Service API
### 6.4.1 API URI
URIs of this API shall have the following root:
{apiRoot}/{apiName}/{apiVersion}
where \"apiRoot\" is defined in clause 4.4.1 of 3GPP TS 29.501 [5], the
\"apiName\" shall be set to \"nhss-gba-sdm\" and the \"apiVersion\" shall be
set to \"v1\" for the current version of this specification.
### 6.4.2 Usage of HTTP
#### 6.4.2.1 General
HTTP/2, as defined in IETF RFC 7540 [8], shall be used as specified in clause
5 of 3GPP TS 29.500 [4].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].
HTTP messages and bodies for the Nhss_gbaSubscriberDataManagement service
shall comply with the OpenAPI [9] specification contained in Annex A.5.
#### 6.4.2.2 HTTP standard headers
##### 6.4.2.2.1 General
The usage of HTTP standard headers shall be supported as specified in clause
5.2.2 of 3GPP TS 29.500 [4].
##### 6.4.2.2.2 Content type
The following content types shall be supported:
\- JSON, as defined in IETF RFC 8259 [10], signalled by the content type
\"application/json\".
\- The Problem Details JSON Object (IETF RFC 7807 [11] signalled by the
content type \"application/problem+json\"
\- JSON Patch, as defined in IETF RFC 6902 [12], signalled by the content type
\"application/json-patch+json\"
#### 6.4.2.3 HTTP custom headers
##### 6.4.2.3.1 General
The usage of HTTP custom headers shall be supported as specified in clause
5.2.3 of 3GPP TS 29.500 [4].
### 6.4.3 Resources
#### 6.4.3.1 Overview
Figure 6.4.3.1-1: Resource URI structure of the Nhss_gbaSDM API
Table 6.4.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 6.4.3.1-1: Resources and methods overview
* * *
Resource name\ Resource URI HTTP method or custom operation Description
(Archetype)
* * *
GBA Subscriber Data (Document) /{ueId}/gba-subscriber-data GET
GBA SDM Subscriptions (Collection) /{ueId}/subscriptions POST
GBA SDM Individual /{ueId}/subscriptions/{subscriptionId} PATCH
Subscription (Document) DELETE
* * *
#### 6.4.3.2 Resource: GBA Subscriber Data
##### 6.4.3.2.1 Description
This resource represents the subscriber data of the UE for GBA, including the
GBA User Security Settings (GUSS).
##### 6.4.3.2.2 Resource Definition
Resource URI: {apiRoot}/nhss-gba-sdm/v1/{ueId}/gba-subscriber-data
This resource shall support the resource URI variables defined in table
6.4.3.2.2-1.
Table 6.4.3.2.2-1: Resource URI variables for this resource
Name Definition
* * *
apiRoot See clause 6.4.1 ueId Represents the UE Identity. See clause
6.4.6.3.2.
##### 6.4.3.2.3 Resource Standard Methods
##### 6.4.3.2.3.1 GET {#get-33 .H6}
This method shall support the URI query parameters specified in table
6.4.3.2.3.1-1.
Table 6.4.3.2.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description Applicability n/a
* * *
This method shall support the request data structures specified in table
6.4.3.2.3.1-2 and the response data structures and response codes specified in
table 6.4.3.2.3.1-3.
Table 6.4.3.2.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.4.3.2.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | GbaS | M | 1 | 200 OK | A response | | ubscriberData | | | | body | | | | | | containing | | | | | | the GBA | | | | | | subscriber | | | | | | data of the | | | | | | UE; it | | | | | | includes the | | | | | | GBA User | | | | | | Security | | | | | | Settings | | | | | | (GUSS) data. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | +---------------+---+-------------+---------------+---------------+
Table 6.4.3.2.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.4.3.2.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
#### 6.4.3.3 Resource: Subscriptions
##### 6.4.3.3.1 Description
This resource is used to represent subscriptions to notifications of data
change.
##### 6.4.3.3.2 Resource Definition
Resource URI: {apiRoot}/nhss-gba-sdm/{apiVersion}/{ueId}/subscriptions
This resource shall support the resource URI variables defined in table
6.4.3.3.2-1.
Table 6.4.3.3.2-1: Resource URI variables for this resource
Name Definition
* * *
apiRoot See clause 6.4.1 apiVersion See clause 6.4.1 ueId Represents the UE
Identity. See clause 6.4.6.3.2.
##### 6.4.3.3.3 Resource Standard Methods
##### 6.4.3.3.3.1 POST {#post-3 .H6}
This method shall support the URI query parameters specified in table
6.4.3.3.3.1-1.
Table 6.4.3.3.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.4.3.3.3.1-2 and the response data structures and response codes specified in
table 6.4.3.3.3.1-3.
Table 6.4.3.3.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description GbaSdmSubscription M 1 The subscription
that is to be created.
* * *
Table 6.4.3.3.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | GbaSd | M | 1 | 201 Created | Upon success, | | mSubscription | | | | a response | | | | | | body | | | | | | containing a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | created | | | | | | Individual | | | | | | subscription | | | | | | resource | | | | | | shall be | | | | | | returned. | | | | | | | | | | | | The HTTP | | | | | | response | | | | | | shall include | | | | | | a | | | | | | \"Location\" | | | | | | HTTP header | | | | | | that contains | | | | | | the resource | | | | | | URI of the | | | | | | created | | | | | | resource. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 501 Not | The \"cause\" | | roblemDetails | | | Implemented | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | UNSUPPORTED_ | | | | | | RESOURCE_URI | | | | | | | | | | | | This response | | | | | | shall not be | | | | | | cached. | +---------------+---+-------------+---------------+---------------+
Table 6.4.3.3.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.4.3.3.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.4.3.3.3.1-6: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/nhss-gba-
sdm/\/{ueId}/subscriptions/{subscriptionId}
* * *
#### 6.4.3.4 Resource: Individual subscription
##### 6.4.3.4.1 Description
This resource is used to represent an individual subscription to notifications
of data change.
##### 6.4.3.4.2 Resource Definition
Resource URI: {apiRoot}/nhss-gba-
sdm/{apiVersion}/{ueId}/subscriptions/{subscriptionId}
This resource shall support the resource URI variables defined in table
6.4.3.4.2-1.
Table 6.4.3.4.2-1: Resource URI variables for this resource
Name Definition
* * *
apiRoot See clause 6.4.1 apiVersion See clause 6.4.1 ueId Represents the UE
Identity. See clause 6.4.6.3.2. subscriptionId The subscriptionId identifies
an individual subscription to notifications.
##### 6.4.3.4.3 Resource Standard Methods
##### 6.4.3.4.3.1 DELETE {#delete-6 .H6}
This method shall support the URI query parameters specified in table
6.4.3.4.3.1-1.
Table 6.4.3.4.3.1-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.4.3.4.3.1-2 and the response data structures and response codes specified in
table 6.4.3.4.3.1-3.
Table 6.4.3.4.3.1-2: Data structures supported by the Delete Request Body on
this resource
* * *
Data type P Cardinality Description n/a The request body shall be empty.
* * *
Table 6.4.3.4.3.1-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | SUBSCRIPTION | | | | | | _NOT_FOUND, | | | | | | see | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | tab | | | | | | le 5.2.7.2-1. | +---------------+---+-------------+---------------+---------------+
Table 6.4.3.4.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.4.3.4.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
##### 6.4.3.4.3.2 PATCH {#patch-6 .H6}
This method shall support the URI query parameters specified in table
6.4.3.4.3.2-1.
Table 6.4.3.4.3.2-1: URI query parameters supported by the PATCH method on
this resource
* * *
Name Data type P Cardinality Description supported-features SupportedFeatures
O 0..1 see 3GPP TS 29.500 [4] clause 6.6
* * *
This method shall support the request data structures specified in table
6.4.3.4.3.2-2 and the response data structures and response codes specified in
table 6.4.3.4.3.2-3.
Table 6.4.3.4.3.2-2: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description array(PatchItem) M 1 It contains the list
of changes to be made to the resource representing the individual
subscription, according to the JSON PATCH format specified in IETF RFC 6902
[12].
* * *
Table 6.4.3.4.3.2-3: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | a response | | | | | | with no | | | | | | content is | | | | | | returned. | | | | | | | | | | | | (NOTE 1) | +---------------+---+-------------+---------------+---------------+ | PatchResult | M | 1 | 200 OK | Upon success, | | | | | | the execution | | | | | | report is | | | | | | returned. | | | | | | (NOTE 1) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | | | | | | | | | | | | - | | | | | | SUBSCRIPTION | | | | | | _NOT_FOUND, | | | | | | see | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | tab | | | | | | le 5.2.7.2-1. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | One or more | | roblemDetails | | | | attributes | | | | | | are not | | | | | | allowed to be | | | | | | modified. | | | | | | | | | | | | The \"cause\" | | | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | M | | | | | | ODIFICATION_ | | | | | | NOT_ALLOWED, | | | | | | see | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | tab | | | | | | le 5.2.7.2-1. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: If | | | | | | all the | | | | | | modification | | | | | | instructions | | | | | | in the PATCH | | | | | | request have | | | | | | been | | | | | | implemented, | | | | | | the HSS shall | | | | | | respond with | | | | | | 204 No | | | | | | Content | | | | | | response; if | | | | | | some of the | | | | | | modification | | | | | | instructions | | | | | | in the PATCH | | | | | | request have | | | | | | been | | | | | | discarded, | | | | | | and the NF | | | | | | service | | | | | | consumer has | | | | | | included in | | | | | | the | | | | | | supp | | | | | | orted-feature | | | | | | query | | | | | | parameter the | | | | | | \" | | | | | | PatchReport\" | | | | | | feature | | | | | | number, the | | | | | | HSS shall | | | | | | respond with | | | | | | PatchResult. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.4.3.4.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.4.3.4.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
### 6.4.4 Custom Operations without associated resources
In this release of this specification, no custom operations without associated
resources are defined for the Nhss_gbaSDM Service.
### 6.4.5 Notifications
#### 6.4.5.1 General
This clause specifies the use of notifications and corresponding protocol
details.
#### 6.4.5.2 Data Change Notification
The POST method shall be used for Data Change Notifications and the URI shall
be as provided during the subscription procedure.
Resource URI: {callbackReference}
Support of URI query parameters is specified in table 6.4.5.2-1.
Table 6.4.5.2-1: URI query parameters supported by the POST method
* * *
Name Data type P Cardinality Description n/a
* * *
Support of request data structures is specified in table 6.4.5.2-2 and of
response data structures and response codes is specified in table 6.4.5.2-3.
Table 6.4.5.2-2: Data structures supported by the POST Request Body
* * *
Data type P Cardinality Description ModificationNotification M 1
* * *
Table 6.4.5.2-3: Data structures supported by the POST Response Body
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Upon success, | | | | | Content | an empty | | | | | | response body | | | | | | shall be | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI. The URI | | | | | | shall be an | | | | | | alternative | | | | | | URI of the | | | | | | notification | | | | | | endpoint of | | | | | | the | | | | | | subscribing | | | | | | NF Service | | | | | | Consumer. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | The response | | | | | | shall include | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | different | | | | | | URI. The URI | | | | | | shall be an | | | | | | alternative | | | | | | URI of the | | | | | | notification | | | | | | endpoint of | | | | | | the | | | | | | subscribing | | | | | | NF Service | | | | | | Consumer. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | CONTEX | | | | | | T_NOT_FOUND | | | | | | | | | | | | See table | | | | | | 6.4.7.3-1 for | | | | | | the | | | | | | description | | | | | | of this | | | | | | error. | +---------------+---+-------------+---------------+---------------+
Table 6.4.5.2-4: Headers supported by the 307 Response Code on this resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the notification endpoint of the subscribing NF. 3gpp-Sbi-Target-Nf-Id
string O 0..1 Identifier of the target NF (service) instance ID towards which
the request is redirected.
* * *
Table 6.4.5.2-5: Headers supported by the 308 Response Code on this resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the notification endpoint of the subscribing NF. 3gpp-Sbi-Target-Nf-Id
string O 0..1 Identifier of the target NF (service) instance ID towards which
the request is redirected.
* * *
### 6.4.6 Data Model
#### 6.4.6.1 General
This clause specifies the application data model supported by the API.
Table 6.4.6.1-1 specifies the structured data types defined for the
Nhss_gbaSDM service API.
Table 6.4.6.1-1: Nhss_gbaSDM specific Data Types
Data type Clause defined Description
* * *
GbaSubscriberData 6.4.6.2.2  
Guss 6.4.6.2.3  
BsfInfo 6.4.6.2.4  
GbaSdmSubscription 6.4.6.2.5  
UeId 6.4.6.3.2
Table 6.4.6.1-2 specifies data types re-used by the Nhss_gbaSDM service API
from other specifications, including a reference to their respective
specifications and when needed, a short description of their use within the
Nhss_gbaSDM.
Table 6.4.6.1-2: Nhss_gbaSDM re-used Data Types
Data type Reference Comments
* * *
UssListItem 3GPP TS 29.309 [42]  
SecFeature 3GPP TS 29.309 [42]  
ModificationNotification 3GPP TS 29.503 [15]  
NfInstanceId 3GPP TS 29.571 [16]  
Uri 3GPP TS 29.571 [16]  
DateTime 3GPP TS 29.571 [16]  
DurationSec 3GPP TS 29.571 [16]  
ProblemDetails 3GPP TS 29.571 [16] Response body of error response messages.
RedirectResponse 3GPP TS 29.571 [16] Response body of redirect response
messages. ImsUeId 3GPP TS 29.562 IMS UE ID (IMPU or IMPI)
#### 6.4.6.2 Structured data types
##### 6.4.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 6.4.6.2.2 Type: GbaSubscriberData
Table 6.4.6.2.2-1: Definition of type GbaSubscriberData
Attribute name Data type P Cardinality Description
* * *
guss Guss M 1
##### 6.4.6.2.3 Type: Guss
Table 6.4.6.2.3-1: Definition of type Guss
Attribute name Data type P Cardinality Description
* * *
bsfInfo BsfInfo O 0..1 BSF-specific information. ussList array(UssListItem) O
1..N
##### 6.4.6.2.4 Type: BsfInfo
Table 6.4.6.2.4-1: Definition of type BsfInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | uiccType | UiccType | O | 0..1 | It indicates | | | | | | whether GBA | | | | | | or GBA_U is | | | | | | to be used; | | | | | | default value | | | | | | is GBA. | +---------------+---------------+---+-------------+---------------+ | lifeTime | DurationSec | O | 0..1 | It indicates | | | | | | a | | | | | | user-specific | | | | | | key lifetime | | | | | | (duration in | | | | | | seconds). If | | | | | | the lifeTime | | | | | | element is | | | | | | missing the | | | | | | default value | | | | | | in the BSF is | | | | | | used. | +---------------+---------------+---+-------------+---------------+ | sec | arra | O | 1..N | It indicates | | urityFeatures | y(SecFeature) | | | a | | | | | | user-specific | | | | | | security | | | | | | feature list | | | | | | that the UE | | | | | | supports. If | | | | | | the | | | | | | se | | | | | | curityFeature | | | | | | element is | | | | | | missing, then | | | | | | the security | | | | | | features are | | | | | | not defined. | | | | | | | | | | | | Standard | | | | | | security | | | | | | features are | | | | | | defined in | | | | | | 3GPP TS 2 | | | | | | 9.309 [42], | | | | | | clau | | | | | | se 6.1.6.3.5. | +---------------+---------------+---+-------------+---------------+
##### 6.4.6.2.5 Type: GbaSdmSubscription
Table 6.4.6.2.5-1: Definition of type GbaSdmSubscription
Attribute name Data type P Cardinality Description
* * *
nfInstanceId NfInstanceId M 1  
callbackReference Uri M 1  
monitoredResourceUris array(Uri) M 1..N  
expires DateTime O 0..1
#### 6.4.6.3 Simple data types and enumerations
##### 6.4.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 6.4.6.3.2 Simple data types
The simple data types defined in table 6.4.6.3.2-1 shall be supported.
Table 6.4.6.3.2-1: Simple data types
+-----------+-----------------+--------------------------------------+ | Type Name | Type Definition | Description | +-----------+-----------------+--------------------------------------+ | UeId | string | Identity of the UE. It can be an | | | | MSISDN, an IMSI an IMPI or an IMPU. | +-----------+-----------------+--------------------------------------+ | Msisdn | string | MS-ISDN of the UE. | | | | | | | | pattern: | | | | \'\^msisdn-[0-9]{5,15}\$\' | +-----------+-----------------+--------------------------------------+ | Imsi | string | IMSI of the UE. | | | | | | | | pattern: \'\^imsi-[0-9]{5,15}\$\' | +-----------+-----------------+--------------------------------------+
##### 6.4.6.3.3 Enumeration: UiccType
The enumeration UiccType represents whether GBA or GBA_U is to be used. It
shall comply with the provisions defined in table 6.4.6.3.3-1.
Table 6.4.6.3.4-1: Enumeration UiccType
Enumeration value Description
* * *
\"GBA\" GBA: Basic GBA case (no generation of Ks_int_NAF at the BSF).
\"GBA_U\" GBA_U: Generation of Ks_int_NAF is required at the BSF.
### 6.4.7 Error Handling
#### 6.4.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS
29.500 [4].
#### 6.4.7.2 Protocol Errors
Protocol errors handling shall be supported as specified in clause 5.2.7 of
3GPP TS 29.500 [4].
#### 6.4.7.3 Application Errors
The common application errors defined in the Table 5.2.7.2-1 in 3GPP TS 29.500
[4] may also be used for the Nhss_gbaSDM service. The following application
errors listed in Table 6.4.7.3-1 are specific for the Nhss_gbaSDM service.
Table 6.4.7.3-1: Application errors
Application Error HTTP status code Description
* * *
USER_NOT_FOUND 404 Not Found The user does not exist in the HPLMN
CONTEXT_NOT_FOUND 404 Not Found The service consumer has received a
notification from a service producer for a subscription that is unknown to the
service consumer.
### 6.4.8 Feature Negotiation
The optional features in table 6.4.8-1 are defined for the Nhss_gbaSDM API.
They shall be negotiated using the extensibility mechanism defined in clause
6.6 of 3GPP TS 29.500 [4].
Table 6.4.8-1: Supported Features
Feature number Feature Name Description
* * *
### 6.4.9 Security
As indicated in 3GPP TS 33.501 [5], the access to the Nhss_gbaSDM API may be
authorized by means of the OAuth2 protocol (see IETF RFC 6749 [35]), using the
\"Client Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510
[36]) plays the role of the authorization server.
If Oauth2 authorization is used, an NF Service Consumer, prior to consuming
services offered by the Nhss_gbaSDM API, shall obtain a \"token\" from the
authorization server, by invoking the Access Token Request service, as
described in 3GPP TS 29.510 [36], clause 5.4.2.2.
NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used for
discovering the Nhss_gbaSDM service.
The Nhss_gbaSDM API defines the following scopes for OAuth2 authorization:
Table 6.4.9-1: Oauth2 scopes defined in Nhss_gbaSDM API
Scope Description
* * *
\"nhss-gba-sdm\" Access to the Nhss_gbaSDM API \"nhss-gba-sdm:gba-subscriber-
data:read\" Access to read the GBA Subscriber Data resource
### 6.4.10 HTTP redirection
An HTTP request may be redirected to a different HSS service instance when
using direct or indirect communications (see 3GPP TS 29.500 [4]).
An SCP that reselects a different HSS producer instance will return the NF
Instance ID of the new HSS producer instance in the 3gpp-Sbi-Producer-Id
header, as specified in clause 6.10.3.4 of 3GPP TS 29.500 [4].
If an HSS redirects a service request to a different HSS using an 307
Temporary Redirect or 308 Permanent Redirect status code, the identity of the
new HSS towards which the service request is redirected shall be indicated in
the 3gpp-Sbi-Target-Nf-Id header of the 307 Temporary Redirect or 308
Permanent Redirect response as specified in clause 6.10.9.1 of 3GPP TS 29.500
[4].
## 6.5 Nhss_gbaUEAuthentication Service API
### 6.5.1 API URI
URIs of this API shall have the following root:
{apiRoot}/{apiName}/{apiVersion}
where \"apiRoot\" is defined in clause 4.4.1 of 3GPP TS 29.501 [5], the
\"apiName\" shall be set to \"nhss-gba-ueau\" and the \"apiVersion\" shall be
set to \"v1\" for the current version of this specification.
### 6.5.2 Usage of HTTP
#### 6.5.2.1 General
HTTP/2, as defined in IETF RFC 7540 [8], shall be used as specified in clause
5 of 3GPP TS 29.500 [4].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].
HTTP messages and bodies for the Nhss_gbaUEAuthentication service shall comply
with the OpenAPI [9] specification contained in Annex A.6.
#### 6.5.2.2 HTTP standard headers
##### 6.5.2.2.1 General
The usage of HTTP standard headers shall be supported as specified in clause
5.2.2 of 3GPP TS 29.500 [4].
##### 6.5.2.2.2 Content type
The following content types shall be supported:
\- JSON, as defined in IETF RFC 8259 [10], signalled by the content type
\"application/json\".
\- The Problem Details JSON Object (IETF RFC 7807 [11] signalled by the
content type \"application/problem+json\"
#### 6.5.2.3 HTTP custom headers
##### 6.5.2.3.1 General
The usage of HTTP custom headers shall be supported as specified in clause
5.2.3 of 3GPP TS 29.500 [4].
### 6.5.3 Resources
#### 6.5.3.1 Overview
Figure 6.5.3.1-1: Resource URI structure of the Nhss_gbaUEAU API
Table 6.5.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 6.5.3.1-1: Resources and methods overview
* * *
Resource name\ Resource URI HTTP method or custom operation Description
(Archetype)
* * *
SecurityInformation\ /{ueId}/security-information/generate-auth-data generate-
auth-data (POST)  
(Custom operation)
* * *
#### 6.5.3.2 Resource: SecurityInformation (Custom Operation)
##### 6.5.3.2.1 Description
This resource represents the information that is needed to calculate a fresh
authentication vector for GBA.
##### 6.5.3.2.2 Resource Definition
Resource URI: {apiRoot}/nhss-gba-ueau/v1/{ueId}/security-information
This resource shall support the resource URI variables defined in table
6.5.3.2.2-1.
Table 6.5.3.2.2-1: Resource URI variables for this resource
Name Definition
* * *
apiRoot See clause 6.5.1 ueId Represents the UE Identity. It can be an MSISDN,
an IMSI an IMPI or an IMPU.
##### 6.5.3.2.3 Resource Standard Methods
No Standard Methods are supported for this resource.
##### 6.5.3.2.3 Resource Custom Operations
##### 6.5.3.2.4.1 Overview {#overview-8 .H6}
Table 6.5.3.2.4.1-1: Custom operations
Operation Name Custom operation URI Mapped HTTP method Description
* * *
generate-auth-data /generate-auth-data POST
##### 6.5.3.2.4.2 Operation: generate-auth-data {#operation-generate-auth-data
.H6}
##### 6.5.3.2.4.2.1 Description {#description-43 .H6}
This custom operation is used by the NF service consumer (BSF) to request
authentication information data for the UE from the HSS.
##### 6.5.3.2.4.2.2 Operation Definition {#operation-definition-2 .H6}
This operation shall support the request data structures specified in table
6.5.3.2.4.2.2-1 and the response data structure and response codes specified
in table 6.5.3.2.4.2.2-2.
Table 6.5.3.2.4.2.2-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description AuthenticationInfoRequest M 1
* * *
Table 6.5.3.2.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Authenticat | M | 1 | 200 OK | | | ionInfoResult | | | | | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | OPERATION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | USE | | | | | | R_NOT_FOUND | +---------------+---+-------------+---------------+---------------+
Table 6.5.3.2.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
Table 6.5.3.2.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located on an alternative service instance within the same
HSS (service) set. For the case when a request is redirected to the same
target resource via a different SCP, see clause 6.10.9.1 in 3GPP TS 29.500
[4]. 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected.
* * *
### 6.5.5 Notifications
In this release of this specification, no notifications are defined for the
Nhss_gbaUEAuthentication Service.
### 6.5.6 Data Model
#### 6.5.6.1 General
This clause specifies the application data model supported by the API.
Table 6.5.6.1-1 specifies the structured data types defined for the
Nhss_gbaUEAU service API.
Table 6.5.6.1-1: Nhss_gbaUEAU specific Data Types
Data type Clause defined Description
* * *
AuthenticationInfoRequest 6.5.6.2.2  
AuthenticationInfoResult 6.5.6.2.3  
DigestAuthentication 6.5.6.2.6  
Impi 6.5.6.3.2  
AuthenticationScheme 6.5.6.3.3  
DigestAlgorithm 6.5.6.3.4  
DigestQop 6.5.6.3.5
Table 6.5.6.1-2 specifies data types re-used by the Nhss_gbaUEAU service API
from other specifications, including a reference to their respective
specifications and when needed, a short description of their use within the
Nhss_gbaUEAU.
Table 6.5.6.1-2: Nhss_gbaUEAU re-used Data Types
Data type Reference Comments
* * *
Autn 3GPP TS 29.503 [15]  
Auts 3GPP TS 29.503 [15]  
Rand 3GPP TS 29.503 [15]  
Xres 3GPP TS 29.503 [15]  
ProblemDetails 3GPP TS 29.571 [16] Response body of error response messages.
RedirectResponse 3GPP TS 29.571 [16] Response body of redirect response
messages. SupportedFeatures 3GPP TS 29.571 [16]  
ResynchronizationInfo 3GPP TS 29.562 Clause 6.3.6.2.4 3GAkaAv 3GPP TS 29.562
Clause 6.3.6.2.5 UeId 3GPP TS 29.562 Clause 6.4.6.3.2
#### 6.5.6.2 Structured data types
##### 6.5.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 6.5.6.2.2 Type: AuthenticationInfoRequest
Table 6.5.6.2.2-1: Definition of type AuthenticationInfoRequest
Attribute name Data type P Cardinality Description
* * *
authenticationScheme AuthenticationScheme M 1  
resynchronizationInfo ResynchronizationInfo O 0..1  
supportedFeatures SupportedFeatures O 0..1
##### 6.5.6.2.3 Type: AuthenticationInfoResult
Table 6.5.6.2.3-1: Definition of type AuthenticationInfoResult
Attribute name Data type P Cardinality Description
* * *
impi Impi O 0..1  
3gAkaAv 3gAkaAv O 0..1  
digestAuth DigestAuthentication O 0..1  
supportedFeatures SupportedFeatures O 0..1
##### 6.5.6.2.4 Void
##### 6.5.6.2.5 Void
##### 6.5.6.2.6 Type: DigestAuthentication
Table 6.5.6.2.6-1: Definition of type DigestAuthentication
Attribute name Data type P Cardinality Description
* * *
digestRealm string M 1  
digestAlgorithm DigestAlgorithm M 1  
digestQop DigestQop M 1  
ha1 string M 1
#### 6.5.6.3 Simple data types and enumerations
##### 6.5.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 6.5.6.3.2 Simple data types
The simple data types defined in table 6.5.6.3.2-1 shall be supported.
Table 6.5.6.3.2-1: Simple data types
* * *
Type Name Type Definition Description Impi string IMS Private User Identity Ck
string pattern: \"\^[A-Fa-f0-9]{32}\$\" Ik string pattern:
\"\^[A-Fa-f0-9]{32}\$\"
* * *
##### 6.5.6.3.3 Enumeration: AuthenticationScheme
The enumeration AuthenticationScheme represents the authentication scheme used
in GBA. It shall comply with the provisions defined in table 6.5.6.3.3-1.
Table 6.5.6.3.3-1: Enumeration AuthenticationScheme
Enumeration value Description
* * *
\"DIGEST_AKAV1_MD5\" IMS-AKA authentication scheme \"DIGEST_HTTP\" Digest
authentication scheme
##### 6.5.6.3.4 Enumeration: DigestAlgorithm
The enumeration DigestAlgorithm represents the algorithm for the Digest
scheme. It shall comply with the provisions defined in table 6.5.6.3.4-1.
Table 6.5.6.3.4-1: Enumeration DigestAlgorithm
Enumeration value Description
* * *
\"MD5\" MD5 digest algorithm \"MD5_SESS\" Session variant of the MD5 digest
algorithm
##### 6.5.6.3.5 Enumeration: DigestQop
The enumeration DigestQop represents the quality of protection for the Digest
scheme. It shall comply with the provisions defined in table 6.5.6.3.5-1.
Table 6.5.6.3.5-1: Enumeration DigestQop
Enumeration value Description
* * *
\"AUTH\" Indicates authentication \"AUTH_INT\" Indicates authentication with
integrity protection
### 6.5.7 Error Handling
#### 6.5.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS
29.500 [4].
#### 6.5.7.2 Protocol Errors
Protocol errors handling shall be supported as specified in clause 5.2.7 of
3GPP TS 29.500 [4].
#### 6.5.7.3 Application Errors
The common application errors defined in the Table 5.2.7.2-1 in 3GPP TS 29.500
[4] may also be used for the Nhss_gbaUEAU service. The following application
errors listed in Table 6.5.7.3-1 are specific for the Nhss_gbaUEAU service.
Table 6.5.7.3-1: Application errors
Application Error HTTP status code Description
* * *
OPERATION_NOT_ALLOWED 403 Forbidden The NF Service Consumer is not authorized
to invoke the requested service operation. USER_NOT_FOUND 404 Not Found The
user does not exist in the HPLMN.
### 6.5.8 Feature Negotiation
The optional features in table 6.5.8-1 are defined for the Nhss_gbaUEAU API.
They shall be negotiated using the extensibility mechanism defined in clause
6.6 of 3GPP TS 29.500 [4].
Table 6.5.8-1: Supported Features
Feature number Feature Name Description
* * *
### 6.5.9 Security
As indicated in 3GPP TS 33.501 [5], the access to the Nhss_gbaUEAU API may be
authorized by means of the OAuth2 protocol (see IETF RFC 6749 [35]), using the
\"Client Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510
[36]) plays the role of the authorization server.
If Oauth2 authorization is used, an NF Service Consumer, prior to consuming
services offered by the Nhss_gbaUEAU API, shall obtain a \"token\" from the
authorization server, by invoking the Access Token Request service, as
described in 3GPP TS 29.510 [36], clause 5.4.2.2.
NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used for
discovering the Nhss_gbaUEAU service.
The Nhss_gbaUEAU API defines the following scopes for OAuth2 authorization:
Table 6.5.9-1: Oauth2 scopes defined in Nhss_gbaUEAU API
Scope Description
* * *
\"nhss-gba-ueau\" Access to the Nhss_gbaUEAU API \"nhss-gba-ueau:generate-
auth-data:invoke\" Access to invoke the Generate Auth Data operation
### 6.5.10 HTTP redirection
An HTTP request may be redirected to a different HSS service instance when
using direct or indirect communications (see 3GPP TS 29.500 [4]).
An SCP that reselects a different HSS producer instance will return the NF
Instance ID of the new HSS producer instance in the 3gpp-Sbi-Producer-Id
header, as specified in clause 6.10.3.4 of 3GPP TS 29.500 [4].
If an HSS redirects a service request to a different HSS using an 307
Temporary Redirect or 308 Permanent Redirect status code, the identity of the
new HSS towards which the service request is redirected shall be indicated in
the 3gpp-Sbi-Target-Nf-Id header of the 307 Temporary Redirect or 308
Permanent Redirect response as specified in clause 6.10.9.1 of 3GPP TS 29.500
[4].
###### ## Annex A (normative): OpenAPI specification
# A.1 General
This Annex specifies the formal definition of the Nhss IMS API(s). It consists
of OpenAPI 3.0.0 specifications in YAML format.
This Annex takes precedence when being discrepant to other parts of the
specification with respect to the encoding of information elements and methods
within the API(s).
NOTE: The semantics and procedures, as well as conditions, e.g. for the
applicability and allowed combinations of attributes or values, not expressed
in the OpenAPI definitions but defined in other parts of the specification
also apply.
Informative copies of the OpenAPI specification files contained in this 3GPP
Technical Specification are available on a Git-based repository, that uses the
GitLab software version control system (see 3GPP TS 29.501 [5] clause 5.3.1
and 3GPP TR 21.900 [34] clause 5B).
# A.2 Nhss_imsUECM API
openapi: 3.0.0
info:
version: \'1.2.0-alpha.2\'
title: \'Nhss_imsUECM\'
description: \|
Nhss UE Context Management Service for IMS.
Â© 2023, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.562 Home Subscriber Server (HSS) Services, version
18.2.0
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.562/\'
servers:
\- url: \'{apiRoot}/nhss-ims-uecm/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501.
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-uecm
paths:
/{impu}/authorize:
post:
summary: >
Authorize IMS Identities to register in the network or establish multimedia
sessions
and return CSCF location if it is stored
operationId: Authorize
tags:
\- Authorize (Custom Operation)
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-uecm
\- oAuth2ClientCredentials:
\- nhss-ims-uecm
\- nhss-ims-uecm:authorize:invoke
parameters:
\- name: impu
in: path
description: Public identity of the user.
required: true
schema:
\$ref: \'#/components/schemas/Impu\'
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/AuthorizationRequest\'
required: true
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/AuthorizationResponse\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
deregistrationeNotification:
\'{request.body#/deregCallbackUri}\':
post:
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/DeregistrationData\'
responses:
\'204\':
description: Successful Notification response
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/{imsUeId}/scscf-registration:
put:
summary: SCSCF registration information
operationId: SCSCF registration
tags:
\- S-CSCF Registration (Document)
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-uecm
\- oAuth2ClientCredentials:
\- nhss-ims-uecm
\- nhss-ims-uecm:registration:create
parameters:
\- name: imsUeId
in: path
description: IMS Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/ScscfRegistration\'
required: true
responses:
\'201\':
description: Created
content:
application/json:
schema:
\$ref: \'#/components/schemas/ScscfRegistration\'
headers:
Location:
description: >
Contains the URI of the newly created resource, according to the structure:
{apiRoot}/nhss-ims-uecm/v1/{imsUeId}/scscf-registration
required: true
schema:
type: string
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/ScscfRegistration\'
\'204\':
description: No content
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
description: Forbidden
content:
application/problem+json:
schema:
\$ref: \'#/components/schemas/ExtendedProblemDetails\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/{imsUeId}/scscf-registration/scscf-restoration-info:
put:
summary: Update the S-CSCF restoration information of the UE
operationId: UpdateScscfRestorationInfo
tags:
\- S-CSCF Restoration Information (Document)
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-uecm
\- oAuth2ClientCredentials:
\- nhss-ims-uecm
\- nhss-ims-uecm:restoration:modify
parameters:
\- name: imsUeId
in: path
description: IMS Identity.
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/ScscfRestorationInfoRequest\'
required: true
responses:
\'201\':
description: Created
content:
application/json:
schema:
\$ref: \'#/components/schemas/ScscfRestorationInfoResponse\'
headers:
Location:
description: >
Contains the URI of the newly created resource, according to the structure:
{apiRoot}/nhss-ims-uecm/v1/{imsUeId}/scscf-registration/scscf-restoration-info
required: true
schema:
type: string
\'200\':
description: OK
content:
application/json:
schema:
\$ref: \'#/components/schemas/ScscfRestorationInfoResponse\'
\'204\':
description: No content
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
get:
summary: Retrieve the S-CSCF restoration information of the UE
operationId: GetScscfRestorationInfo
tags:
\- S-CSCF Restoration Information (Document)
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-uecm
\- oAuth2ClientCredentials:
\- nhss-ims-uecm
\- nhss-ims-uecm:restoration:read
parameters:
\- name: impu
in: path
description: Public identity of the user.
required: true
schema:
\$ref: \'#/components/schemas/Impu\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/ScscfRestorationInfoResponse\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
delete:
summary: Delete the S-CSCF restoration information of the UE
operationId: DeleteScscfRestorationInfo
tags:
\- S-CSCF Restoration Information (Document)
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-uecm
\- oAuth2ClientCredentials:
\- nhss-ims-uecm
\- nhss-ims-uecm:restoration:modify
parameters:
\- name: impu
in: path
description: Public identity of the user.
required: true
schema:
\$ref: \'#/components/schemas/Impu\'
responses:
\'204\':
description: No content
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes:
nhss-ims-uecm: Access to the Nhss IMS UE Context Management API
nhss-ims-uecm:authorize:invoke: Access to invoke the Authorize custom
operation
nhss-ims-uecm:registration:create: Access to create the S-CSCF Registration
resource
nhss-ims-uecm:restoration:read: Access to read the S-CSCF Restoration resource
nhss-ims-uecm:restoration:modify: >-
Access to create/update/delete the S-CSCF Restoration resource
schemas:
#
# COMPLEX TYPES:
#
AuthorizationRequest:
description: Ims authorization request data
type: object
required:
\- authorizationType
properties:
impi:
\$ref: \'#/components/schemas/Impi\'
authorizationType:
\$ref: \'#/components/schemas/AuthorizationType\'
visitedNetworkIdentifier:
type: string
emergencyIndicator:
type: boolean
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
AuthorizationResponse:
description: Ims Registration authorization information result
type: object
properties:
authorizationResult:
\$ref: \'#/components/schemas/AuthorizationResult\'
cscfServerName:
type: string
scscfSelectionAssistanceInfo:
\$ref:
\'TS29562_Nhss_imsSDM.yaml#/components/schemas/ScscfSelectionAssistanceInformation\'
required:
\- authorizationResult
oneOf:
\- required:
\- cscfServerName
\- required:
\- scscfSelectionAssistanceInfo
ScscfRegistration:
description: Scscf Registration
type: object
required:
\- imsRegistrationType
\- cscfServerName
properties:
impi:
\$ref: \'#/components/schemas/Impi\'
imsRegistrationType:
\$ref: \'#/components/schemas/ImsRegistrationType\'
cscfServerName:
type: string
scscfInstanceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
deregCallbackUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
associatedImpis:
type: array
items:
\$ref: \'#/components/schemas/Impi\'
associatedRegisteredImpis:
type: array
items:
\$ref: \'#/components/schemas/Impi\'
irsImpus:
type: array
items:
\$ref: \'#/components/schemas/Impu\'
minItems: 1
uniqueItems: true
wildcardedPui:
\$ref: \'#/components/schemas/Impu\'
looseRouteIndicator:
\$ref: \'#/components/schemas/LooseRouteIndication\'
wildcardedPsi:
\$ref: \'#/components/schemas/Impu\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
multipleRegistrationIndicator:
type: boolean
pcscfRestorationIndicator:
type: boolean
default: false
scscfReselectionIndicator:
type: boolean
default: false
ExtendedProblemDetails:
description: >
Extension of the ProblemDetails data type, to include additional information
in an error response message
allOf:
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
\- \$ref: \'#/components/schemas/AdditionalInfo\'
AdditionalInfo:
description: >
Additional information to be sent on error response messages, along with the
common content in ProblemDetails
type: object
properties:
scscfServerName:
type: string
ScscfRestorationInfo:
description: S-CSCF restoration information
type: object
properties:
userName:
\$ref: \'#/components/schemas/Impi\'
restorationInfo:
type: array
items:
\$ref: \'#/components/schemas/RestorationInfo\'
registrationTimeOut:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
sipAuthenticationScheme:
\$ref:
\'TS29562_Nhss_imsUEAU.yaml#/components/schemas/SipAuthenticationScheme\'
ScscfRestorationInfoRequest:
description: S-CSCF restoration information request
type: object
properties:
scscfRestorationInfoRequest:
\$ref: \'#/components/schemas/ScscfRestorationInfo\'
ScscfRestorationInfoResponse:
description: S-CSCF restoration information response
type: object
properties:
scscfRestorationInfoResponse:
type: array
items:
\$ref: \'#/components/schemas/ScscfRestorationInfo\'
RestorationInfo:
description: >
The information relevant to a specific registration required for an S-CSCF
to handle the requests for a user
type: object
required:
\- path
\- contact
properties:
path:
type: string
contact:
type: string
initialCSeqSequenceNumber:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint32\'
callIdSipHeader:
type: string
uesubscriptionInfo:
\$ref: \'#/components/schemas/UeSubscriptionInfo\'
pcscfSubscriptionInfo:
\$ref: \'#/components/schemas/PcscfSubscriptionInfo\'
imsSdmSubscriptions:
description: >
A map (list of key-value pairs where subscriptionId serves as key) of
ImsSdmSubscription
type: object
additionalProperties:
\$ref: \'TS29562_Nhss_imsSDM.yaml#/components/schemas/ImsSdmSubscription\'
UeSubscriptionInfo:
description: Subscription information of the UE for the SIP Registration State
event
type: object
required:
\- callIdSipHeader
\- fromSipHeader
\- toSipHeader
\- recordRoute
\- contact
properties:
callIdSipHeader:
type: string
fromSipHeader:
type: string
toSipHeader:
type: string
recordRoute:
type: string
contact:
type: string
PcscfSubscriptionInfo:
description: Subscription information of the P-CSCF for the SIP Registration
State event
type: object
required:
\- callIdSipHeader
\- fromSipHeader
\- toSipHeader
\- contact
properties:
callIdSipHeader:
type: string
fromSipHeader:
type: string
toSipHeader:
type: string
contact:
type: string
DeregistrationData:
description: Data related to the de-registration information of a S-CSCF in
HSS
type: object
required:
\- deregReason
\- impi
properties:
deregReason:
\$ref: \'#/components/schemas/DeregistrationReason\'
impi:
\$ref: \'#/components/schemas/Impi\'
associatedImpis:
type: array
items:
\$ref: \'#/components/schemas/Impi\'
emergencyRegisteredIdentities:
type: array
items:
\$ref: \'#/components/schemas/EmergencyRegisteredIdentity\'
minItems: 1
EmergencyRegisteredIdentity:
description: >
A pair of private and public user identities which have not been de-registered
due to emergency registration
type: object
required:
\- impi
\- impu
properties:
impi:
\$ref: \'#/components/schemas/Impi\'
impu:
\$ref: \'#/components/schemas/Impu\'
DeregistrationReason:
description: >
Contains the reason for the network initiated de-registration (including a
reason code,
and a human-readable reason text)
type: object
required:
\- reasonCode
\- reasonText
properties:
reasonCode:
\$ref: \'#/components/schemas/DeregistrationReasonCode\'
reasonText:
type: string
#
# SIMPLE TYPES
#
ImsUeId:
description: IMS UE Identity (IMPU or IMPI)
type: string
pattern: \'\^(impu-
sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$,;?\/]+)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a-z]{2,}\|impu-
tel\:\\+[0-9]{5,15}\|impi-.+\|.+)\$\'
Impu:
description: IMS Public Identity of the UE (sip URI or tel URI)
type: string
pattern:
\'\^(sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$,;?\/]+)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a-z]{2,}\|tel\:\\+[0-9]{5,15})\$\'
Impi:
description: IMS Private Identity of the UE
type: string
#
# ENUMS:
#
AuthorizationType:
description: Represents the type of authorization requested by the UE
anyOf:
\- type: string
enum:
\- REGISTRATION
\- DEREGISTRATION
\- type: string
AuthorizationResult:
description: Represents the details of the granted authorization to the UE
anyOf:
\- type: string
enum:
\- FIRST_REGISTRATION
\- SUBSEQUENT_REGISTRATION
\- type: string
ImsRegistrationType:
description: Represents the type of registration associated to the REGISTER
request
anyOf:
\- type: string
enum:
\- INITIAL_REGISTRATION
\- RE_REGISTRATION
\- TIMEOUT_DEREGISTRATION
\- USER_DEREGISTRATION
\- ADMINISTRATIVE_DEREGISTRATION
\- AUTHENTICATION_FAILURE
\- AUTHENTICATION_TIMEOUT
\- UNREGISTERED_USER
\- type: string
LooseRouteIndication:
description: Indicates whether the loose routing mechanism is required to
serve the user
anyOf:
\- type: string
enum:
\- LOOSE_ROUTE_NOT_REQUIRED
\- LOOSE_ROUTE_REQUIRED
\- type: string
DeregistrationReasonCode:
description: Indicates the reason for the network-initiated deregistration
anyOf:
\- type: string
enum:
\- PERMANENT_TERMINATION
\- NEW_SERVER_ASSIGNED
\- REMOVE_S-CSCF
\- SERVER_CHANGE
\- type: string
# A.3 Nhss_imsSDM API
openapi: 3.0.0
info:
version: \'1.2.0-alpha.1\'
title: \'Nhss_imsSDM\'
description: \|
Nhss Subscriber Data Management Service for IMS.
Â© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.562 HSS Services for interworking with IMS, version
18.0.0
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.562/\'
servers:
\- url: \'{apiRoot}/nhss-ims-sdm/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501.
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
paths:
/{imsUeId}/ims-data/registration-status:
get:
summary: Retrieve the registration status of a user
operationId: GetRegistrationStatus
tags:
\- Registration Status retrieval
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:registration-status:read
parameters:
\- name: imsUeId
in: path
description: IMS Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/ImsRegistrationStatus\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'405\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/405\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/{imsUeId}/ims-data/profile-data:
get:
summary: >
Retrieve the complete IMS profile for a given IMS public identity
(and public identities in the same IRS)
operationId: GetProfileData
tags:
\- IMS Profile Data Retrieval
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:profile-data:read
parameters:
\- name: imsUeId
in: path
description: IMS Identity. In this case it shall be an IMS public identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
\- name: dataset-names
in: query
description: Datasets to be retrieved
schema:
\$ref: \'#/components/schemas/DataSetNames\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/ImsProfileData\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'405\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/405\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/{imsUeId}/ims-data/profile-data/priority-levels:
get:
summary: Retrieve the service priority levels associated to the user
operationId: GetPriorityInfo
tags:
\- Priority Info Retrieval
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:priority-levels:read
parameters:
\- name: imsUeId
in: path
description: IMS Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/PriorityLevels\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'405\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/405\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/{imsUeId}/ims-data/profile-data/ifcs:
get:
summary: Retrieve the Initial Filter Criteria for the associated IMS
subscription
operationId: GetIfcs
tags:
\- IFCs Retrieval
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:ifcs:read
parameters:
\- name: imsUeId
in: path
description: IMS Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
\- name: application-server-name
in: query
description: SIP URI of the Application Server Name
schema:
\$ref: \'#/components/schemas/SipServerName\'
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/Ifcs\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'405\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/405\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/{imsUeId}/ims-data/profile-data/service-level-trace-information:
get:
summary: Retrieve the IMS service level trace information for the associated
user
operationId: GetServiceTraceInfo
tags:
\- Service Trace Info Retrieval
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:service-level-trace-information:read
parameters:
\- name: imsUeId
in: path
description: IMS Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/ServiceLevelTraceInformation\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'405\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/405\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/{imsUeId}/ims-data/profile-data/charging-info:
get:
summary: Retrieve the charging information for to the user
operationId: GetChargingInfo
tags:
\- Charging Info Retrieval
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:charging-info:read
parameters:
\- name: imsUeId
in: path
description: IMS Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/ChargingInfo\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'405\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/405\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/{imsUeId}/ims-data/location-data/server-name:
get:
summary: Retrieve the server name for the associated user
operationId: GetServerName
tags:
\- Server Name retrieval
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:server-name:read
parameters:
\- name: imsUeId
in: path
description: IMS Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/ImsLocationData\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'405\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/405\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/{imsUeId}/ims-data/location-data/scscf-capabilities:
get:
summary: Retrieve the S-CSCF capabilities for the associated IMS subscription
operationId: GetScscfCapabilities
tags:
\- Retrieval of the S-CSCF capabilities for the IMS subscription
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:scscf-capabilities:read
parameters:
\- name: imsUeId
in: path
description: IMS Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/ScscfCapabilityList\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'405\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/405\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/{imsUeId}/ims-data/location-data/scscf-selection-assistance-info:
get:
summary: Retrieve the S-CSCF selection assistance info
operationId: GetScscfSelectionAssistanceInfo
tags:
\- Retrieval of the S-CSCF selection assistance information for the IMS
subscription
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:scscf-selection-assistance-info:read
parameters:
\- name: imsUeId
in: path
description: IMS Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/ScscfSelectionAssistanceInformation\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'405\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/405\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/{imsUeId}/access-data/ps-domain/location-data:
get:
summary: Retrieve the location data in PS domain
operationId: GetLocPsDomain
tags:
\- PS location retrieval
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:ps-domain:location-data:read
parameters:
\- name: imsUeId
in: path
description: IMS Public Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
\- name: requested-nodes
in: query
description: Indicates the serving node(s) for which the request is
applicable.
style: form
explode: false
schema:
type: array
items:
\$ref: \'#/components/schemas/RequestedNode\'
\- name: serving-node
in: query
description: >
Indicates that only the stored NF id/address of the serving node(s) is
required
schema:
type: boolean
\- name: local-time
in: query
description: >
Indicates that only the Local Time Zone information of the location in the
visited
network where the UE is attached is requested
schema:
type: boolean
\- name: current-location
in: query
description: >
Indicates whether an active location retrieval has to be initiated by the
requested node
schema:
type: boolean
\- name: rat-type
in: query
description: Indicates whether RAT Type retrieval is requested
schema:
type: boolean
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
\- name: private-identity
in: query
description: IMS Private Identity
schema:
\$ref: \'#/components/schemas/PrivateId\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/PsLocation\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'405\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/405\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/{imsUeId}/access-data/cs-domain/location-data:
get:
summary: Retrieve the location data in CS domain
operationId: GetLocCsDomain
tags:
\- CS location retrieval
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:cs-domain:location-data:read
parameters:
\- name: imsUeId
in: path
description: IMS Public Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
\- name: serving-node
in: query
description: >
Indicates that only the stored NF id/address of the serving node(s) is
required
schema:
type: boolean
\- name: local-time
in: query
description: >
Indicates that only the Local Time Zone information of the location in the
visited
network where the UE is attached is requested
schema:
type: boolean
\- name: current-location
in: query
description: >
Indicates whether an active location retrieval has to be initiated by the
requested node
schema:
type: boolean
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
\- name: private-identity
in: query
description: IMS Private Identity
schema:
\$ref: \'#/components/schemas/PrivateId\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/CsLocation\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'405\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/405\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/{imsUeId}/repository-data/{serviceIndication}:
put:
summary: Update the repository data associated to an IMPU and service
indication
operationId: UpdateRepositoryDataServInd
tags:
\- Update repository data
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:repository-data:modify
parameters:
\- name: imsUeId
in: path
description: IMS Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
\- name: serviceIndication
in: path
description: Identifier of a service related data
required: true
schema:
\$ref: \'#/components/schemas/ServiceIndication\'
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/RepositoryData\'
required: true
responses:
\'201\':
description: Created
content:
application/json:
schema:
\$ref: \'#/components/schemas/RepositoryData\'
headers:
Location:
description: >
Contains the URI of the newly created resource, according to the structure:
{apiRoot}/nhss-ims-sdm/v1/{imsUeId}/repository-data/{serviceIndication}
required: true
schema:
type: string
\'200\':
description: OK
content:
application/json:
schema:
\$ref: \'#/components/schemas/RepositoryData\'
\'204\':
description: No content
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'409\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/409\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
delete:
summary: delete the Repository Data for a Service Indication
operationId: DeleteRepositoryDataServInd
tags:
\- Delete repository data
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:repository-data:modify
parameters:
\- name: imsUeId
in: path
description: Identifier of the UE
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
\- name: serviceIndication
in: path
description: Identifier of a service related data
required: true
schema:
\$ref: \'#/components/schemas/ServiceIndication\'
responses:
\'204\':
description: Expected response to a valid request
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
get:
summary: Retrieve the repository data associated to an IMPU and service
indication
operationId: GetRepositoryDataServInd
tags:
\- Repository data
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:repository-data:read
parameters:
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
\- name: imsUeId
in: path
description: IMS Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
\- name: serviceIndication
in: path
description: Identifier of a service related data
required: true
schema:
\$ref: \'#/components/schemas/ServiceIndication\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/RepositoryData\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'405\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/405\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/{imsUeId}/identities/msisdns:
get:
summary: retrieve the Msisdns associated to requested identity
operationId: GetMsisdns
tags:
\- Retrieval of the associated Msisdns
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:identities:read
parameters:
\- name: imsUeId
in: path
description: IMS Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
\- name: private-id
in: query
description: Private identity
schema:
\$ref: \'#/components/schemas/PrivateId\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/MsisdnList\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'405\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/405\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/{imsUeId}/identities/ims-associated-identities:
get:
summary: >
Retrieve the associated identities to the IMS public identity included
in the service request
operationId: GetImsAssocIds
tags:
\- Retrieval of associated IMS public identities
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:identities:read
parameters:
\- name: imsUeId
in: path
description: IMS Public Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/ImsAssociatedIdentities\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'405\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/405\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/{imsUeId}/identities/private-identities:
get:
summary: >
Retrieve the associated private identities to the IMS public identity included
in the service request
operationId: GetImsPrivateIds
tags:
\- Retrieval of associated IMS private identities
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:identities:read
parameters:
\- name: imsUeId
in: path
description: IMS Public Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
\- name: impi
in: query
description: Private Identity of type IMPI
schema:
\$ref: \'#/components/schemas/PrivateId\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/PrivateIdentities\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/{imsUeId}/srvcc-data:
get:
summary: Retrieve the srvcc data
operationId: GetSrvccData
tags:
\- Retrieval of UE SRVCC capability and STN-SR
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:srvcc:read
parameters:
\- name: imsUeId
in: path
description: IMS Public Identity or IMS Private Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
\- name: private-identity
in: query
description: IMS Private Identity
schema:
\$ref: \'#/components/schemas/PrivateId\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/SrvccData\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'405\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/405\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
patch:
summary: Patch
operationId: UpdateSrvccData
tags:
\- Update SRVCC data
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:srvcc:modify
parameters:
\- name: imsUeId
in: path
description: IMS Public Identity or IMS Private Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
\- name: private-identity
in: query
description: IMS Private Identity
schema:
\$ref: \'#/components/schemas/PrivateId\'
requestBody:
content:
application/json-patch+json:
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PatchItem\'
minItems: 1
required: true
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PatchResult\'
\'204\':
description: Successful response
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/{imsUeId}/service-data/psi-status:
get:
summary: Retrieve the PSI activation state data
operationId: GetPsiState
tags:
\- Retrieval of PSI activation state
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:psi-status:read
parameters:
\- name: imsUeId
in: path
description: IMS Private Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/PsiActivationState\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'405\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/405\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
patch:
summary: Patch
operationId: UpdatePsiState
tags:
\- Update PSI state data
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:psi-status:modify
parameters:
\- name: imsUeId
in: path
description: IMS Public Service Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
requestBody:
content:
application/json-patch+json:
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PatchItem\'
minItems: 1
required: true
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PatchResult\'
\'204\':
description: Successful response
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/{imsUeId}/service-data/dsai:
get:
summary: Retrieve the DSAI information associated to an Application Server
operationId: GetDsaiInfo
tags:
\- DSAI registration information
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:dsai:read
parameters:
\- name: imsUeId
in: path
description: IMS Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
\- name: application-server-name
in: query
description: SIP URI of the Application Server Name
required: true
schema:
\$ref: \'#/components/schemas/SipServerName\'
\- name: dsai-tag
in: query
description: The requested instance of Dynamic Service Activation Info
schema:
type: string
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/DsaiTagInformation\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'405\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/405\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
patch:
summary: Patch
operationId: UpdateDsaiState
tags:
\- Update Dsai State
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:dsai:modify
parameters:
\- name: imsUeId
in: path
description: IMS Public Service Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
requestBody:
content:
application/json-patch+json:
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PatchItem\'
minItems: 1
required: true
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PatchResult\'
\'204\':
description: Successful response
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/{imsUeId}/service-data/sms-registration-info:
put:
summary: Update the SMS registration information associated to a user
operationId: UpdateSmsRegistrationInfo
tags:
\- Update SMS registration info
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:sms-registration-info:modify
parameters:
\- name: imsUeId
in: path
description: IMS Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
\- name: private-identity
in: query
description: IMS Private Identity
schema:
\$ref: \'#/components/schemas/PrivateId\'
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/IpSmGwAddress\'
required: true
responses:
\'201\':
description: Created
content:
application/json:
schema:
\$ref: \'#/components/schemas/SmsRegistrationInfo\'
headers:
Location:
description: >
Contains the URI of the newly created resource, according to the structure:
{apiRoot}/nhss-ims-sdm/v1/{imsUeId}/service-data/sms-registration-info
required: true
schema:
type: string
\'200\':
description: OK
content:
application/json:
schema:
\$ref: \'#/components/schemas/SmsRegistrationInfo\'
\'204\':
description: No content
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'409\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/409\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
delete:
summary: delete the SMS registration information
operationId: DeleteSmsRegistrationInfo
tags:
\- Delete SMS registration information
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:sms-registration-info:modify
parameters:
\- name: imsUeId
in: path
description: Identifier of the UE
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
\- name: private-identity
in: query
description: IMS Private Identity
schema:
\$ref: \'#/components/schemas/PrivateId\'
responses:
\'204\':
description: Expected response to a valid request
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
get:
summary: Retrieve the SMS registration information associated to a user
operationId: GetSmsRegistrationInfo
tags:
\- SMS registration information
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:sms-registration-info:read
parameters:
\- name: imsUeId
in: path
description: IMS Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
\- name: private-identity
in: query
description: IMS Private Identity
schema:
\$ref: \'#/components/schemas/PrivateId\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/SmsRegistrationInfo\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'405\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/405\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/{imsUeId}/identities/imeisv:
get:
summary: Retrieve the IMEISV information
operationId: GetIMEISVInfo
tags:
\- IMEISV Retrieval
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:identities:read
parameters:
\- name: imsUeId
in: path
description: IMS Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
\- name: private-identity
in: query
description: IMS Private Identity
schema:
\$ref: \'#/components/schemas/PrivateId\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/ImeiSvInformation\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'405\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/405\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/{imsUeId}/access-data/ps-domain/ip-address:
get:
summary: Retrieve the IP address information
operationId: GetIpAddressInfo
tags:
\- IP address Info Retrieval
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:ps-domain:ip-address:read
parameters:
\- name: imsUeId
in: path
description: IMS Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/IpAddr\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'405\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/405\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/{imsUeId}/access-data/ps-domain/tads-info:
get:
summary: Retrieve the T-ADS information
operationId: GetTadsInfo
tags:
\- TADS Info Retrieval
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:ps-domain:tads-info:read
parameters:
\- name: imsUeId
in: path
description: IMS Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
\- name: private-identity
in: query
description: IMS Private Identity
schema:
\$ref: \'#/components/schemas/PrivateId\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/TadsInformation\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'405\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/405\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/{imsUeId}/access-data/ps-domain/ue-reach-subscriptions:
post:
summary: subscribe to notifications of UE reachability
operationId: UeReachIpSubscribe
tags:
\- UE IP reachability Subscription Creation
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:ps-domain:ue-reach-subscriptions:create
parameters:
\- name: imsUeId
in: path
description: IMS Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
\- name: private-identity
in: query
description: IMS Private Identity
schema:
\$ref: \'#/components/schemas/PrivateId\'
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/UeReachabilitySubscription\'
required: true
responses:
\'201\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/CreatedUeReachabilitySubscription\'
headers:
Location:
description: >
Contains the URI of the newly created resource, according to the structure:
{apiRoot}/nhss-ims-sdm/v1/{imsUeId}/access-data/ps-domain/ue-reach-
subscriptions/{subscriptionId}
required: true
schema:
type: string
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'501\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/501\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
callbacks:
ueReachabilityNotification:
\'{request.body#/callbackReference}\':
post:
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/UeReachabilityNotification\'
responses:
\'204\':
description: Successful Notification response
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/{imsUeId}/access-data/ps-domain/ue-reach-subscriptions/{subscriptionId}:
delete:
summary: unsubscribe from notifications to UE reachability
operationId: UeReachUnsubscribe
tags:
\- Reachability Subscription Deletion
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:ps-domain:ue-reach-subscriptions:modify
parameters:
\- name: imsUeId
in: path
description: IMS Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
\- name: subscriptionId
in: path
description: Id of the Subscription
required: true
schema:
type: string
\- name: private-identity
in: query
description: IMS Private Identity
schema:
\$ref: \'#/components/schemas/PrivateId\'
responses:
\'204\':
description: Successful response
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
patch:
summary: modify the subscription
operationId: UeReachSubsModify
tags:
\- Reachability Subscription Modification
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:ps-domain:ue-reach-subscriptions:modify
parameters:
\- name: imsUeId
in: path
description: IMS Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
\- name: subscriptionId
in: path
description: Id of the Subscription
required: true
schema:
type: string
\- name: private-identity
in: query
description: IMS Private Identity
schema:
\$ref: \'#/components/schemas/PrivateId\'
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
requestBody:
content:
application/json-patch+json:
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PatchItem\'
minItems: 1
required: true
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PatchResult\'
\'204\':
description: Successful modification
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/{imsUeId}/access-data/ps-domain/user-state:
get:
summary: Retrieve the user state information in PS domain
operationId: GetPsUserStateInfo
tags:
\- PS User State Info Retrieval
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:ps-domain:user-state:read
parameters:
\- name: imsUeId
in: path
description: IMS Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
\- name: requested-nodes
in: query
description: Indicates the serving node(s) for which the request is
applicable.
style: form
explode: false
schema:
type: array
items:
\$ref: \'#/components/schemas/RequestedNode\'
minItems: 1
\- name: private-identity
in: query
description: IMS Private Identity
schema:
\$ref: \'#/components/schemas/PrivateId\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/PsUserState\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'405\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/405\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/{imsUeId}/access-data/cs-domain/user-state:
get:
summary: Retrieve the user state information in CS domain
operationId: GetCsUserStateInfo
tags:
\- CS User State Info Retrieval
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:cs-domain:user-state:read
parameters:
\- name: imsUeId
in: path
description: IMS Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
\- name: private-identity
in: query
description: IMS Private Identity
schema:
\$ref: \'#/components/schemas/PrivateId\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/CsUserState\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'405\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/405\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/{imsUeId}/access-data/cs-domain/csrn:
get:
summary: Retrieve the routeing number in CS domain
operationId: GetCsrn
tags:
\- CSRN retrieval
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:cs-domain:csrn:read
parameters:
\- name: imsUeId
in: path
description: IMS Public Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
\- name: pre-paging
in: query
description: Indicates pre-paging support
schema:
\$ref: \'#/components/schemas/PrePaging\'
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
\- name: private-identity
in: query
description: IMS Private Identity
schema:
\$ref: \'#/components/schemas/PrivateId\'
\- name: call-reference-info
in: query
description: Indicates Call-Reference Number and AS-Number
content:
application/json:
schema:
\$ref: \'#/components/schemas/CallReferenceInfo\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/Csrn\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'405\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/405\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/{imsUeId}/access-data/wireline-domain/reference-location:
get:
summary: Retrieve the reference location information
operationId: GetReferenceLocationInfo
tags:
\- Reference Location Info Retrieval
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:wireline-domain:reference-location:read
parameters:
\- name: imsUeId
in: path
description: IMS Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
\- name: private-identity
in: query
description: IMS Private Identity
schema:
\$ref: \'#/components/schemas/PrivateId\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/ReferenceLocationInformation\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'405\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/405\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/{imsUeId}/subscriptions:
post:
summary: subscribe to notifications
operationId: ImsSdmSubscribe
tags:
\- SDM Subscription Creation
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:subscriptions:create
parameters:
\- name: imsUeId
in: path
description: IMS Public Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/ImsSdmSubscription\'
required: true
responses:
\'201\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/ImsSdmSubscription\'
headers:
Location:
description: >
Contains the URI of the newly created resource, according to the structure:
{apiRoot}/nhss-ims-sdm/v1/{imsUeId}/subscriptions/{subscriptionId}
required: true
schema:
type: string
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'501\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/501\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
datachangeNotification:
\'{request.body#/callbackReference}\':
post:
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'TS29503_Nudm_SDM.yaml#/components/schemas/ModificationNotification\'
responses:
\'204\':
description: Successful Notification response
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/{imsUeId}/subscriptions/{subscriptionId}:
delete:
summary: unsubscribe from notifications
operationId: ImsSdmUnsubscribe
tags:
\- SDM Subscription Deletion
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:subscription:modify
parameters:
\- name: imsUeId
in: path
description: IMS Public Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
\- name: subscriptionId
in: path
description: Id of the Subscription
required: true
schema:
type: string
responses:
\'204\':
description: Successful response
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
patch:
summary: modify the subscription
operationId: ImsSdmSubsModify
tags:
\- SDM Subscription Modification
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:subscription:modify
parameters:
\- name: imsUeId
in: path
description: IMS Public Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
\- name: subscriptionId
in: path
description: Id of the Subscription
required: true
schema:
type: string
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
requestBody:
content:
application/json-patch+json:
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PatchItem\'
minItems: 1
required: true
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PatchResult\'
\'204\':
description: Successful modification
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/shared-data-subscriptions:
post:
summary: subscribe to notifications for shared data
operationId: SubscribeToSharedData
tags:
\- Subscription Creation for shared data
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:shared-subscriptions:create
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/ImsSdmSubscription\'
required: true
responses:
\'201\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/ImsSdmSubscription\'
headers:
Location:
description: >
Contains the URI of the newly created resource, according to the structure:
{apiRoot}/nhss-ims-sdm/v1/shared-data-subscriptions/{subscriptionId}
required: true
schema:
type: string
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
datachangeNotification:
\'{request.body#/callbackReference}\':
post:
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'TS29503_Nudm_SDM.yaml#/components/schemas/ModificationNotification\'
responses:
\'204\':
description: Successful Notification response
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/shared-data-subscriptions/{subscriptionId}:
delete:
summary: unsubscribe from notifications for shared data
operationId: UnsubscribeForSharedData
tags:
\- Subscription Deletion for shared data
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:shared-subscription:modify
parameters:
\- name: subscriptionId
in: path
description: Id of the Shared data Subscription
required: true
schema:
type: string
responses:
\'204\':
description: Successful response
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
patch:
summary: modify the subscription
operationId: ModifySharedDataSubs
tags:
\- Subscription Modification
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:shared-subscription:modify
parameters:
\- name: subscriptionId
in: path
description: Id of the SDM Subscription
required: true
schema:
type: string
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
requestBody:
content:
application/json-patch+json:
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PatchItem\'
minItems: 1
required: true
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PatchResult\'
\'204\':
description: Successful modification
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/shared-data:
get:
summary: retrieve shared data
operationId: GetSharedData
tags:
\- Retrieval of shared data
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:shared-data:read
parameters:
\- name: shared-data-ids
in: query
description: List of shared data ids
required: true
style: form
explode: false
schema:
type: array
items:
\$ref: \'#/components/schemas/SharedDataId\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/SharedData\'
minItems: 1
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/{imsUeId}/repository-data:
get:
summary: Retrieve the repository data associated to an IMPU and service
indication list
operationId: GetRepositoryDataServIndList
tags:
\- Repository data list
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- oAuth2ClientCredentials:
\- nhss-ims-sdm
\- nhss-ims-sdm:repository-data:read
parameters:
\- name: imsUeId
in: path
description: IMS Identity
required: true
schema:
\$ref: \'#/components/schemas/ImsUeId\'
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
\- name: service-indications
in: query
description: Identifiers of a services related data
required: true
style: form
explode: false
schema:
type: array
items:
\$ref: \'#/components/schemas/ServiceIndication\'
minItems: 1
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/RepositoryDataList\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'405\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/405\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes:
nhss-ims-sdm: Access to the Nhss IMS Subscription Data Management API
nhss-ims-sdm:registration-status:read: Access to read the Registration Status
resource
nhss-ims-sdm:profile-data:read: Access to read the Profile Data resource
nhss-ims-sdm:priority-levels:read: Access to read the Priority Levels resource
nhss-ims-sdm:ifcs:read: Access to read the Initial Filter Criteria resource
nhss-ims-sdm:service-level-trace-information:read: >-
Access to read the Service Level Trace Information resource
nhss-ims-sdm:server-name:read: Access to read the Server Name resource
nhss-ims-sdm:scscf-capabilities:read: Access to read the S-CSCF Capabilities
resource
nhss-ims-sdm:ps-domain:location-data:read: >-
Access to read the PS-Domain Location Data resource
nhss-ims-sdm:ps-domain:ip-address:read: Access to read the PS-Domain IP
Address resource
nhss-ims-sdm:ps-domain:tads-info:read: Access to read the PS-Domain TADS Info
resource
nhss-ims-sdm:ps-domain:ue-reach-subscriptions:create: >-
Access to create PS-Domain UE Reachability Subscriptions resources
nhss-ims-sdm:ps-domain:ue-reach-subscriptions:modify: >-
Access to update/delete a PS-Domain UE Reachability Subscription resource
nhss-ims-sdm:ps-domain:user-state:read: Access to read the PS-Domain User
State resource
nhss-ims-sdm:cs-domain:location-data:read: >-
Access to read the CS-Domain Location Data resource
nhss-ims-sdm:cs-domain:user-state:read: Access to read the CS-Domain User
State resource
nhss-ims-sdm:cs-domain:csrn:read: Access to read the CS-Domain CSRN resource
nhss-ims-sdm:wireline-domain:reference-location:read: >-
Access to read the Wireline-Domain Reference Location resource
nhss-ims-sdm:repository-data:modify: >-
Access to create/update/delete the Repository Data resource
nhss-ims-sdm:repository-data:read: Access to read the Repository Data resource
nhss-ims-sdm:identities:read: Access to read the Identities resource
nhss-ims-sdm:srvcc:read: Access to read the SRVCC resource
nhss-ims-sdm:srvcc:modify: Acess to update the SRVCC resource
nhss-ims-sdm:psi-status:read: Access to read the PSI Status resource
nhss-ims-sdm:psi-status:modify: Acess to update the PSI Status resource
nhss-ims-sdm:dsai:read: Acess to read the DSAI resource
nhss-ims-sdm:dsai:modify: Acess to update the DSAI resource
nhss-ims-sdm:sms-registration-info:read: >-
Acess to read the SMS Registration Info resource
nhss-ims-sdm:sms-registration-info:modify: >-
Acess to create/update/delete the SMS Registration Info resource
nhss-ims-sdm:subscriptions:create: Access to create Subscriptions resources
nhss-ims-sdm:subscription:modify: Access to update/delete a Subscription
resource
nhss-ims-sdm:shared-subscriptions:create: >-
Access to create a Shared-Data Subscriptions resource
nhss-ims-sdm:shared-subscription:modify: >-
Access to update/delete a Shared-Data Subscription resource
nhss-ims-sdm:shared-data:read: Access to read the Shared-Data resource
nhss-ims-sdm:charging-info:read: Access to read the ChargingInfo resource
schemas:
#
# COMPLEX TYPES:
#
ScscfCapabilityList:
description: Information about mandatory and optional S-CSCF capabilities
type: object
properties:
mandatoryCapabilityList:
\$ref: \'#/components/schemas/Capabilities\'
optionalCapabilityList:
\$ref: \'#/components/schemas/Capabilities\'
anyOf:
\- required: [mandatoryCapabilityList]
\- required: [optionalCapabilityList]
Capabilities:
description: A list of capabilities of the S-CSCF
type: array
items:
\$ref: \'#/components/schemas/Capability\'
minItems: 1
uniqueItems: true
RepositoryData:
description: Repository Data for the requested Service Indication
type: object
required:
\- serviceData
\- sequenceNumber
properties:
sequenceNumber:
\$ref: \'#/components/schemas/SequenceNumber\'
serviceData:
type: string
format: byte
MsisdnList:
description: List of MSISDNs associated to the IMS public Identity
type: object
required:
\- basicMsisdn
properties:
basicMsisdn:
\$ref: \'#/components/schemas/Msisdn\'
additionalMsisdns:
type: array
minItems: 1
items:
\$ref: \'#/components/schemas/Msisdn\'
PublicIdentities:
description: >
IMS Public Identities which belong to the same Implicit Registration Set (if
any)
as the requested IMS Public Identity
type: object
required:
\- publicIdentities
properties:
publicIdentities:
type: array
items:
\$ref: \'#/components/schemas/PublicIdentity\'
minItems: 1
uniqueItems: true
PrivateIdentities:
description: A list of IMS Private Identities
type: object
required:
\- privateIdentities
properties:
privateIdentities:
type: array
items:
\$ref: \'#/components/schemas/PrivateIdentity\'
minItems: 1
uniqueItems: true
PublicIdentity:
description: >
IMS Public Identity and related data (Alias Group Id, IRS default indication,
Identity Type)
type: object
required:
\- imsPublicId
\- identityType
properties:
imsPublicId:
\$ref: \'#/components/schemas/ImsPublicId\'
identityType:
\$ref: \'#/components/schemas/IdentityType\'
irsIsDefault:
type: boolean
aliasGroupId:
type: string
PrivateIdentity:
description: IMS Private Identity and its identity type (IMPI or IMSI)
type: object
required:
\- privateIdentity
\- privateIdentityType
properties:
privateIdentity:
\$ref: \'#/components/schemas/PrivateId\'
privateIdentityType:
\$ref: \'#/components/schemas/PrivateIdentityType\'
ImsAssociatedIdentities:
description: >
A list of identities belonging to the same Implicit Registration Set (IRS),
along with the registration state of the IRS
type: object
required:
\- irsState
\- publicIdentities
properties:
irsState:
\$ref: \'#/components/schemas/ImsRegistrationState\'
publicIdentities:
\$ref: \'#/components/schemas/PublicIdentities\'
ImsSdmSubscription:
description: A subscription to notifications of data change
type: object
required:
\- nfInstanceId
\- callbackReference
\- monitoredResourceUris
properties:
nfInstanceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
callbackReference:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
monitoredResourceUris:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
minItems: 1
expires:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
ImsRegistrationStatus:
description: Registration status of the user
type: object
required:
\- imsUserStatus
properties:
imsUserStatus:
\$ref: \'#/components/schemas/ImsRegistrationState\'
PriorityLevels:
description: Namespaces and priority levels allowed for the IMS public
Identity
type: object
required:
\- servicePriorityLevelList
properties:
servicePriorityLevelList:
type: array
items:
\$ref: \'#/components/schemas/NameSpacePriority\'
minItems: 1
uniqueItems: true
servicePriorityLevel:
type: integer
minimum: 0
maximum: 4
Ifcs:
description: List of IFCs associated to the IMS public Identity
type: object
properties:
ifcList:
type: array
items:
\$ref: \'#/components/schemas/Ifc\'
minItems: 1
cscfFilterSetIdList:
type: array
items:
\$ref: \'#/components/schemas/CscfFilterSetId\'
minItems: 1
anyOf:
\- required: [ ifcList ]
\- required: [ cscfFilterSetIdList ]
Ifc:
description: Data associated to an individual IFC (Initial Filter Criteria)
type: object
required:
\- priority
\- appServer
properties:
priority:
type: integer
minimum: 1
trigger:
\$ref: \'#/components/schemas/TriggerPoint\'
appServer:
\$ref: \'#/components/schemas/ApplicationServer\'
TriggerPoint:
description: >
Contains the conditions that should be checked in order to find out if an
Application Server should be contacted or not
type: object
required:
\- conditionType
\- sptList
properties:
conditionType:
\$ref: \'#/components/schemas/TypeOfCondition\'
sptList:
type: array
items:
\$ref: \'#/components/schemas/Spt\'
minItems: 1
Spt:
description: Contains the data of a Service Point Trigger
type: object
required:
\- conditionNegated
\- sptGroup
properties:
conditionNegated:
type: boolean
sptGroup:
type: array
items:
\$ref: \'#/components/schemas/SptGroupId\'
minItems: 1
regType:
items:
\$ref: \'#/components/schemas/RegistrationType\'
minItems: 1
maxItems: 2
requestUri:
type: string
sipMethod:
type: string
sipHeader:
\$ref: \'#/components/schemas/HeaderSipRequest\'
sessionCase:
\$ref: \'#/components/schemas/RequestDirection\'
sessionDescription:
\$ref: \'#/components/schemas/SdpDescription\'
HeaderSipRequest:
description: Contains a header (and optionally value of the header) in the SIP
request
type: object
required:
\- header
properties:
header:
type: string
content:
type: string
SdpDescription:
description: >
Contains a SDP line (and optionally the value in the line) within the body (if
any)
of a SIP request
type: object
required:
\- line
properties:
line:
type: string
content:
type: string
ApplicationServer:
description: >
Application Server which shall be triggered if the conditions of a certain IFC
are met,
and its associated data
type: object
required:
\- asUri
properties:
asUri:
type: string
sessionContinue:
type: boolean
serviceInfoList:
type: array
items:
\$ref: \'#/components/schemas/ServiceInformation\'
minItems: 1
ImsLocationData:
description: IMS Location Data (S-CSCF name)
type: object
required:
\- scscfName
properties:
scscfName:
type: string
PsLocation:
description: Location data in PS domain
type: object
oneOf:
\- required:
\- sgsnLocationData
\- required:
\- mmeLocationData
\- required:
\- amfLocationData
\- required:
\- twanLocationData
properties:
sgsnLocationData:
\$ref: \'#/components/schemas/SgsnLocationData\'
mmeLocationData:
\$ref: \'#/components/schemas/MmeLocationData\'
amfLocationData:
\$ref: \'#/components/schemas/AmfLocationData\'
twanLocationData:
\$ref: \'#/components/schemas/TwanLocationData\'
SgsnLocationData:
description: Location information as retrieved from the SGSN serving node
type: object
required:
\- sgsnNumber
\- plmnId
properties:
sgsnNumber:
type: string
plmnId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
sgsnLocation:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UtraLocation\'
csgInformation:
\$ref: \'#/components/schemas/CsgInformation\'
timeZone:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/TimeZone\'
ratType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RatType\'
MmeLocationData:
description: Location information as retrieved from the MME serving node
type: object
required:
\- mmeAddress
\- plmnId
properties:
mmeAddress:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DiameterIdentity\'
plmnId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
mmeLocation:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/EutraLocation\'
csgInformation:
\$ref: \'#/components/schemas/CsgInformation\'
timeZone:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/TimeZone\'
ratType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RatType\'
AmfLocationData:
description: Location information as retrieved from the AMF serving node
type: object
required:
\- amfAddress
\- plmnId
properties:
amfAddress:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
plmnId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
amfLocation:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NrLocation\'
smsfAddress:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
timeZone:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/TimeZone\'
ratType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RatType\'
TwanLocationData:
description: Location information of the 3GPP AAA Server for Trusted W-LAN
Access
type: object
required:
\- twanSsid
\- plmnId
properties:
twanSsid:
type: string
plmnId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
twanBssid:
type: string
civicAddress:
type: string
format: byte
twanOperatorName:
type: string
timeZone:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/TimeZone\'
logicalAccessId:
type: string
CsLocation:
description: Location data in CS domain
type: object
required:
\- mscNumber
\- vlrNumber
\- plmnId
properties:
mscNumber:
type: string
vlrNumber:
type: string
plmnId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
vlrLocation:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GeraLocation\'
csgInformation:
\$ref: \'#/components/schemas/CsgInformation\'
timeZone:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/TimeZone\'
eUtranCgi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ecgi\'
tai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
CsgInformation:
description: Information about a Closed Subscriber Group (CSG)
type: object
required:
\- csgId
properties:
csgId:
type: string
format: byte
accessMode:
type: string
format: byte
cMi:
type: boolean
SrvccData:
description: UE SRVCC capability (if available) and STN-SR (if subscribed)
type: object
required:
\- stnSr
properties:
stnSr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/StnSr\'
ueSrvccCapabilities:
type: array
items:
\$ref: \'#/components/schemas/SrvccCapability\'
minItems: 1
uniqueItems: true
PsiActivationState:
description: Public Service Identity activation state
type: object
required:
\- activationState
properties:
activationState:
\$ref: \'#/components/schemas/ActivationState\'
SharedData:
description: Represents a part of the IMS Profile data shared by several UEs
type: object
required:
\- sharedDataId
properties:
sharedDataId:
\$ref: \'#/components/schemas/SharedDataId\'
sharedImsIfcData:
\$ref: \'#/components/schemas/Ifcs\'
minProperties: 1
ImsProfileData:
description: User\'s IMS profile data
type: object
required:
\- imsServiceProfiles
properties:
imsServiceProfiles:
type: array
items:
\$ref: \'#/components/schemas/ImsServiceProfile\'
chargingInfo:
\$ref: \'#/components/schemas/ChargingInfo\'
serviceLevelTraceInfo:
\$ref: \'#/components/schemas/ServiceLevelTraceInformation\'
servicePriorityLevelList:
type: array
items:
\$ref: \'#/components/schemas/NameSpacePriority\'
minItems: 1
uniqueItems: true
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
maxAllowedSimulReg:
type: integer
servicePriorityLevel:
type: integer
minimum: 0
maximum: 4
ImsServiceProfile:
description: >
IMS Service Profile of the UE, containing the list of Public Identifiers and
optionally a list of IFCs
type: object
required:
\- publicIdentifierList
properties:
publicIdentifierList:
type: array
items:
\$ref: \'#/components/schemas/PublicIdentifier\'
ifcs:
\$ref: \'#/components/schemas/Ifcs\'
cnServiceAuthorization:
\$ref: \'#/components/schemas/CoreNetworkServiceAuthorization\'
CoreNetworkServiceAuthorization:
description: >
Core Network Service Authorization
type: object
properties:
subscribedMediaProfileId:
type: integer
PublicIdentifier:
description: >
Distinct or wildcarded public identity and its associated priority, trace and
barring information
type: object
required:
\- publicIdentity
properties:
publicIdentity:
\$ref: \'#/components/schemas/PublicIdentity\'
displayName:
type: string
imsServicePriority:
\$ref: \'#/components/schemas/PriorityLevels\'
serviceLevelTraceInfo:
\$ref: \'#/components/schemas/ServiceLevelTraceInformation\'
barringIndicator:
type: boolean
wildcardedImpu:
type: string
ServiceLevelTraceInformation:
description: IMS Service Level Trace Information
type: object
properties:
serviceLevelTraceInfo:
type: string
ImeiSvInformation:
description: IMEI(SV) information
type: object
oneOf:
\- required:
\- imei
\- required:
\- imeiSv
properties:
imei:
\$ref: \'#/components/schemas/Imei\'
imeiSv:
\$ref: \'#/components/schemas/ImeiSv\'
TadsInformation:
description: T-ADS Information
type: object
required:
\- voiceOverPsSessionSupport
properties:
voiceOverPsSessionSupport:
\$ref: \'#/components/schemas/ImsVoiceOverPsSessionSupport\'
accessType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AccessType\'
ratType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RatType\'
lastUeActivityTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
UeReachabilitySubscription:
description: >
Contains the request parameters received by the HSS for a subscription to
notifications of UE reachability for IP
type: object
required:
\- expiry
\- callbackReference
properties:
expiry:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
callbackReference:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
CreatedUeReachabilitySubscription:
description: >
Contains the response data returned by HSS after the subscription to
notifications of UE reachability for IP was created
type: object
required:
\- expiry
properties:
expiry:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
UeReachabilityNotification:
description: >
Represents the contents of a notification of UE reachability for IP sent by
the HSS
type: object
required:
\- reachabilityIndicator
\- detectingNode
\- accessType
properties:
reachabilityIndicator:
type: boolean
detectingNode:
\$ref: \'#/components/schemas/DetectingNode\'
accessType:
\$ref: \'#/components/schemas/AccessType\'
PsUserState:
description: User state in PS domain
type: object
oneOf:
\- required:
\- sgsnUserState
\- required:
\- mmeUserState
\- required:
\- amfUserState
properties:
sgsnUserState:
\$ref: \'#/components/schemas/UserStatePs\'
mmeUserState:
\$ref: \'#/components/schemas/UserStatePs\'
amfUserState:
\$ref: \'#/components/schemas/UserStatePs\'
CsUserState:
description: User state in CS domain
type: object
required:
\- mscVlrUserState
properties:
mscVlrUserState:
\$ref: \'#/components/schemas/UserStateCs\'
Csrn:
description: CS domain routeing number
type: object
required:
\- csrn
properties:
csrn:
\$ref: \'#/components/schemas/Msisdn\'
ReferenceLocationInformation:
description: Reference Location Information for the user in fixed access
networks
type: object
properties:
accessType:
type: string
accessInfo:
type: string
accessValue:
type: string
anyOf:
\- required: [accessType]
\- required: [accessInfo]
\- required: [accessValue]
SmsRegistrationInfo:
description: SMS Registration Information (IP-SM-GW number and SC address)
type: object
required:
\- ipSmGwNumber
properties:
ipSmGwNumber:
\$ref: \'#/components/schemas/Msisdn\'
scAddress:
\$ref: \'#/components/schemas/Msisdn\'
IpSmGwAddress:
description: IP-SM-GW number and diameter URI/realm
type: object
required:
\- ipSmGwNumber
properties:
ipSmGwNumber:
\$ref: \'#/components/schemas/Msisdn\'
ipSmGwDiaUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DiameterIdentity\'
ipSmGwDiaRealm:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DiameterIdentity\'
ipSmGwSbiSupInd:
type: boolean
default: false
DsaiTagInformation:
description: >
DSAI tag information (list of DSAI tags activation state for an Application
Server)
type: object
required:
\- dsaiTagStatusList
properties:
dsaiTagStatusList:
type: array
items:
\$ref: \'#/components/schemas/DsaiTagStatus\'
minItems: 1
uniqueItems: true
DsaiTagStatus:
description: DSAI tag status (DSAI tag and activation state)
type: object
required:
\- dsaiTag
\- dsaiState
properties:
dsaiTag:
type: string
dsaiState:
\$ref: \'#/components/schemas/ActivationState\'
ScscfSelectionAssistanceInformation:
description: Information used by the I-CSCF to select an S-CSCF for the UE
type: object
properties:
scscfCapabilityList:
\$ref: \'#/components/schemas/ScscfCapabilityList\'
scscfNames:
type: array
items:
type: string
minItems: 1
anyOf:
\- required: [scscfCapabilityList]
\- required: [scscfNames]
ChargingInfo:
description: Diameter addresses of the charging function
type: object
anyOf:
\- required:
\- primaryEventChargingFunctionName
\- required:
\- primaryChargingCollectionFunctionName
properties:
primaryEventChargingFunctionName:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DiameterIdentity\'
secondaryEventChargingFunctionName:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DiameterIdentity\'
primaryChargingCollectionFunctionName:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DiameterIdentity\'
secondaryChargingCollectionFunctionName:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DiameterIdentity\'
CallReferenceInfo:
description: >
Contains a Call Reference Number and the AS-Number; it allows a later retry of
the call
setup in the context of MTRR
type: object
required:
\- callRefNumber
\- asNumber
properties:
callRefNumber:
type: string
format: byte
description: >
The content is according to CallReferenceNumber type described in 3GPP TS
29.002 [30].
Base64 encoded according to IETF RFC 2045 [28]
asNumber:
type: string
format: byte
description: >
The content is according to ISDN-AddressString type described in 3GPP TS
29.002 [30].
Base64 encoded according to IETF RFC 2045 [28]
DataSetNames:
description: Contains the data sets to be retrieved from the IMS User Profile
type: array
items:
\$ref: \'#/components/schemas/DataSetName\'
minItems: 1
uniqueItems: true
RepositoryDataList:
description: List of Repository Data for the requested Service Indications
type: object
required:
\- repositoryDataMap
properties:
repositoryDataMap:
description: >
A map (list of key-value pairs where ServiceIndication serves as key) of
RepositoryData
type: object
additionalProperties:
\$ref: \'#/components/schemas/RepositoryData\'
#
# SIMPLE TYPES:
#
Capability:
description: S-CSCF capability
type: integer
ImsUeId:
description: >
Represents the IMS Public Identity (i.e. IMS Public User identity or
Public Service Identity)
type: string
pattern: \'\^(impu-
sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$,;?\/]+)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a-z]{2,}\|impu-
tel\:\\+[0-9]{5,15}\|impi-.+\|.+)\$\'
SequenceNumber:
description: >
Unsigned integer containing the sequence number associated to the current
version
of Repository Data
type: integer
minimum: 0
ServiceIndication:
description: String containing the Service Indication or Service Identifier
type: string
Msisdn:
description: String containing an additional or basic MSISDN
type: string
pattern: \'[0-9]{5,15}\$\'
PrivateId:
description: String containing a Private User Identity or a Private Service
Identity
type: string
ImsPublicId:
description: String containing an IMS Public Identity in SIP URI format or TEL
URI format
type: string
pattern:
\'\^(sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$,;?\/]+)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a-z]{2,}\|tel\:\\+[0-9]{5,15})\$\'
NameSpacePriority:
description: >
String containing the namespace and priority formatted as \"r-value\"
parameter
described in IETF RFC 4412
type: string
pattern:
\'\^[0-9a-zA-Z-\\!%\\*_\\+`\'\'\~]+.[0-9a-zA-Z-\\!%\\*_\\+`\'\'\~]+\$\'
CscfFilterSetId:
description: Contains the identifier of a specific filter set in the S-CSCF
type: integer
minimum: 0
SptGroupId:
description: Contains the identifier of the Group of SPTs
type: integer
minimum: 0
SharedDataId:
description: >
Identifies globally and uniquely a piece of subscription data shared by
multiple UEs;
the value shall start with the HPLMN id (MCC/MNC) followed by a hyphen
followed by a
local Id as allocated by the home network operator
type: string
pattern: \'\^[0-9]{5,6}-.+\$\'
Imei:
description: IMEI of the UE
type: string
pattern: \'\^[0-9]{15}\$\'
ImeiSv:
description: IMEISV of the UE
type: string
pattern: \'\^[0-9]{16}\$\'
PrePaging:
description: Inidicates the support of pre-paging
type: boolean
SipServerName:
description: Server Name (e.g. AS name, CSCF name) in SIP URI format
type: string
pattern:
\'\^(sip\:([a-zA-Z0-9_\\-.!\~*()&=+\$,;?\/]+)\@([A-Za-z0-9]+([-A-Za-z0-9]+)\\.)+[a-z]{2,})\$\'
#
# ENUMS:
#
IdentityType:
description: Represents the type of IMS Public Identity
anyOf:
\- type: string
enum:
\- DISTINCT_IMPU
\- DISTINCT_PSI
\- WILDCARDED_IMPU
\- WILDCARDED_PSI
\- type: string
PrivateIdentityType:
description: Represents the type of IMS Private Identity (IMPI or IMSI)
anyOf:
\- type: string
enum:
\- IMPI
\- IMSI
\- type: string
ImsRegistrationState:
description: Represents the IMS status of the user or Public Identity or the
IRS
anyOf:
\- type: string
enum:
\- REGISTERED
\- NOT_REGISTERED
\- AUTHENTICATION_PENDING
\- REGISTERED_UNREG_SERVICES
\- type: string
TypeOfCondition:
description: >
Represents the type of condition to be applied to the logical expression of
SPT groups
and SPTs (Conjunctive Normal Form, or Disjunctive Normal Form)
anyOf:
\- type: string
enum:
\- CNF
\- DNF
\- type: string
RegistrationType:
description: Represents the type of registration associated to the REGISTER
request
anyOf:
\- type: string
enum:
\- INITIAL_REGISTRATION
\- RE_REGISTRATION
\- DE_REGISTRATION
\- type: string
RequestDirection:
description: >
Represents the direction of the request in combination with the registration
status
of the user as evaluated in the S-CSCF
anyOf:
\- type: string
enum:
\- ORIGINATING_REGISTERED
\- ORIGINATING_UNREGISTERED
\- ORIGINATING_CDIV
\- TERMINATING_REGISTERED
\- TERMINATING_UNREGISTERED
\- type: string
ServiceInformation:
description: >
Indicates the type of additional information to be included in the body of the
SIP request
towards the Application Server
anyOf:
\- type: string
enum:
\- INCLUDE_REGISTER_REQUEST
\- INCLUDE_REGISTER_RESPONSE
\- type: string
RequestedNode:
description: Represents the type of serving node for which certain data is
requested
anyOf:
\- type: string
enum:
\- SGSN
\- MME
\- AMF
\- 3GPP_AAA_SERVER_TWAN
\- type: string
SrvccCapability:
description: Represents the type of SRVCC support of the UE
anyOf:
\- type: string
enum:
\- UE_4G_SRVCC_CAPABLE
\- UE_5G_SRVCC_CAPABLE
\- type: string
ActivationState:
description: Represents the activation state of a PSI or DSAI tag
anyOf:
\- type: string
enum:
\- ACTIVE
\- INACTIVE
\- type: string
ImsVoiceOverPsSessionSupport:
description: Represents the support for Voice-over-PS of the UE
anyOf:
\- type: string
enum:
\- IMS_VOICE_OVER_PS_NOT_SUPPORTED
\- IMS_VOICE_OVER_PS_SUPPORTED
\- IMS_VOICE_OVER_PS_SUPPORT_UNKNOWN
\- type: string
DetectingNode:
description: Represents the type of serving node that detected the
reachability of the UE
anyOf:
\- type: string
enum:
\- SGSN
\- MME
\- AMF
\- type: string
AccessType:
description: Represents the type of access (3GPP or non-3GPP)
anyOf:
\- type: string
enum:
\- 3GPP_ACCESS
\- NON_3GPP_ACCESS
\- type: string
UserStatePs:
description: Represents the user state in PS domain
anyOf:
\- type: string
enum:
\- DETACHED
\- ATTACHED_NOT_REACHABLE_FOR_PAGING
\- ATTACHED_REACHABLE_FOR_PAGING
\- CONNECTED_NOT_REACHABLE_FOR_PAGING
\- CONNECTED_REACHABLE_FOR_PAGING
\- NOT_PROVIDED_FROM_SGSN_OR_MME_OR_AMF
\- NETWORK_DETERMINED_NOT_REACHABLE
\- type: string
UserStateCs:
description: Represents the user state in CS domain
anyOf:
\- type: string
enum:
\- CAMEL_BUSY
\- NETWORK_DETERMINED_NOT_REACHABLE
\- ASSUMED_IDLE
\- NOT_PROVIDED_FROM_VLR
\- type: string
DataSetName:
description: A set of data within the IMS User Profile
anyOf:
\- type: string
enum:
\- CHARGING_DATA
\- IFC_DATA
\- TRACE_DATA
\- PRIORITY_DATA
\- type: string
# A.4 Nhss_imsUEAU API
openapi: 3.0.0
info:
version: \'1.2.0-alpha.1\'
title: \'Nhss_imsUEAU\'
description: \|
Nhss UE Authentication Service for IMS.
Â© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.562 Home Subscriber Server (HSS) Services, version
18.0.0
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.562/\'
servers:
\- url: \'{apiRoot}/nhss-ims-ueau/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501.
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-ueau
paths:
/{impi}/security-information/generate-sip-auth-data:
post:
summary: Generate authentication data for the UE based on the Auth-Scheme
provided
operationId: GenerateSipAuthData
tags:
\- Generate SIP Auth Data (Custom Operation)
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-ims-ueau
\- oAuth2ClientCredentials:
\- nhss-ims-ueau
\- nhss-ims-ueau:generate-sip-auth-data:invoke
parameters:
\- name: impi
in: path
description: IMS Private Identity for the UE (IMPI)
required: true
schema:
\$ref: \'#/components/schemas/Impi\'
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/SipAuthenticationInfoRequest\'
required: true
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/SipAuthenticationInfoResult\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'405\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/405\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'501\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/501\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes:
nhss-ims-ueau: Access to the Nhss IMS UE Authentication API
nhss-ims-ueau:generate-sip-auth-data:invoke: >
Access to invoke the Generate SIP Auth Data custom operation
schemas:
#
# COMPLEX TYPES:
#
SipAuthenticationInfoRequest:
description: >
Contains input data to the SIP authentication request message (e.g. SIP
authentication
scheme, requested number of authentication items, resynchronization
information)
type: object
required:
\- cscfServerName
\- sipAuthenticationScheme
properties:
cscfServerName:
type: string
sipAuthenticationScheme:
\$ref: \'#/components/schemas/SipAuthenticationScheme\'
sipNumberAuthItems:
\$ref: \'#/components/schemas/SipNumberAuthItems\'
resynchronizationInfo:
\$ref: \'#/components/schemas/ResynchronizationInfo\'
ResynchronizationInfo:
description: Contains RAND and AUTS
type: object
required:
\- rand
\- auts
properties:
rand:
\$ref: \'TS29503_Nudm_UEAU.yaml#/components/schemas/Rand\'
auts:
\$ref: \'TS29503_Nudm_UEAU.yaml#/components/schemas/Auts\'
SipAuthenticationInfoResult:
description: >
Contains authentication information returned in the SIP authentication
response message
(e.g. authentication vectors, digest authentication parameters, line
identifiers)
type: object
required:
\- impi
properties:
impi:
\$ref: \'#/components/schemas/Impi\'
3gAkaAvs:
type: array
items:
\$ref: \'#/components/schemas/3GAkaAv\'
minItems: 1
digestAuth:
\$ref: \'#/components/schemas/DigestAuthentication\'
lineIdentifierList:
type: array
items:
\$ref: \'#/components/schemas/LineIdentifier\'
minItems: 1
ipAddress:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/IpAddr\'
3GAkaAv:
description: Contains RAND, XRES, AUTN, CK, and IK
type: object
required:
\- rand
\- xres
\- autn
\- ck
\- ik
properties:
rand:
\$ref: \'TS29503_Nudm_UEAU.yaml#/components/schemas/Rand\'
xres:
\$ref: \'TS29503_Nudm_UEAU.yaml#/components/schemas/Xres\'
autn:
\$ref: \'TS29503_Nudm_UEAU.yaml#/components/schemas/Autn\'
ck:
\$ref: \'TS29503_Nudm_UEAU.yaml#/components/schemas/ConfidentialityKey\'
ik:
\$ref: \'TS29503_Nudm_UEAU.yaml#/components/schemas/IntegrityKey\'
DigestAuthentication:
description: Parameters used for the Digest authentication scheme
type: object
required:
\- digestRealm
\- digestAlgorithm
\- digestQop
\- ha1
properties:
digestRealm:
type: string
digestAlgorithm:
\$ref: \'#/components/schemas/SipDigestAlgorithm\'
digestQop:
\$ref: \'#/components/schemas/SipDigestQop\'
ha1:
type: string
#
# SIMPLE TYPES:
#
SipNumberAuthItems:
description: Indicates the number of requested SIP authentication items
type: integer
minimum: 1
Impi:
description: IMS Private Identity of the UE
type: string
LineIdentifier:
description: Line Identifier for the wireline access
type: string
#
# ENUMS:
#
SipAuthenticationScheme:
description: Authentication scheme to be used in the SIP authentication
request message
anyOf:
\- type: string
enum:
\- DIGEST-AKAV1-MD5
\- DIGEST-HTTP
\- NBA
\- GIBA
\- UNKNOWN
\- type: string
SipDigestAlgorithm:
description: Algorithm used for the SIP Digest authentication scheme
anyOf:
\- type: string
enum:
\- MD5
\- MD5_SESS
\- type: string
SipDigestQop:
description: Quality of Protection for the SIP Digest authentication scheme
anyOf:
\- type: string
enum:
\- AUTH
\- AUTH_INT
\- type: string
# A.5 Nhss_gbaSDM API
openapi: 3.0.0
info:
version: \'1.1.0-alpha.1\'
title: \'Nhss_gbaSDM\'
description: \|
Nhss Subscriber Data Management Service for GBA.
Â© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.562 Home Subscriber Server (HSS) Services, version
18.0.0
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.562/\'
servers:
\- url: \'{apiRoot}/nhss-gba-sdm/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501.
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-gba-sdm
paths:
/{ueId}/subscriber-data:
get:
summary: Retrieve the subscriber data of a user
operationId: GetSubscriberData
tags:
\- Subscriber Data (Document)
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-gba-sdm
\- oAuth2ClientCredentials:
\- nhss-gba-sdm
\- nhss-gba-sdm:subscriber-data:read
parameters:
\- name: ueId
in: path
description: UE Identity
required: true
schema:
\$ref: \'#/components/schemas/UeId\'
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/GbaSubscriberData\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/{ueId}/subscriptions:
post:
summary: Subscribe to notifications
operationId: GbaSdmSubscribe
tags:
\- GBA SDM Subscriptions (Collection)
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-gba-sdm
\- oAuth2ClientCredentials:
\- nhss-gba-sdm
\- nhss-gba-sdm:subscriptions:create
parameters:
\- name: ueId
in: path
description: UE Identity
required: true
schema:
\$ref: \'#/components/schemas/UeId\'
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/GbaSdmSubscription\'
required: true
responses:
\'201\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/GbaSdmSubscription\'
headers:
Location:
description: >
Contains the URI of the newly created resource, according to the structure:
{apiRoot}/nhss-gba-sdm/\/{ueId}/subscriptions/{subscriptionId}
required: true
schema:
type: string
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'501\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/501\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
datachangeNotification:
\'{request.body#/callbackReference}\':
post:
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'TS29503_Nudm_SDM.yaml#/components/schemas/ModificationNotification\'
responses:
\'204\':
description: Successful Notification response
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/{ueId}/subscriptions/{subscriptionId}:
delete:
summary: Unsubscribe from notifications
operationId: GbaSdmUnsubscribe
tags:
\- GBA SDM Subscription (Document)
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-gba-sdm
\- oAuth2ClientCredentials:
\- nhss-gba-sdm
\- nhss-gba-sdm:subscription:modify
parameters:
\- name: ueId
in: path
description: UE Identity
required: true
schema:
\$ref: \'#/components/schemas/UeId\'
\- name: subscriptionId
in: path
description: Id of the Subscription
required: true
schema:
type: string
responses:
\'204\':
description: Successful response
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
patch:
summary: Modify the subscription
operationId: GbaSdmSubsModify
tags:
\- GBA SDM Subscription (Document)
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-gba-sdm
\- oAuth2ClientCredentials:
\- nhss-gba-sdm
\- nhss-gba-sdm:subscription:modify
parameters:
\- name: ueId
in: path
description: UE Identity
required: true
schema:
\$ref: \'#/components/schemas/UeId\'
\- name: subscriptionId
in: path
description: Id of the Subscription
required: true
schema:
type: string
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
requestBody:
content:
application/json-patch+json:
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PatchItem\'
minItems: 1
required: true
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PatchResult\'
\'204\':
description: Successful modification
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes:
nhss-gba-sdm: Access to the Nhss GBA Subscription Data Management API
nhss-gba-sdm:subscriber-data:read: Access to read the GBA Subscriber Data
resource
nhss-gba-sdm:subscriptions:create: Access to create Subscriptions resources
nhss-gba-sdm:subscription:modify: Access to update/delete a Subscription
resource
schemas:
#
# COMPLEX TYPES:
#
GbaSubscriberData:
description: >
GBA subscriber data of the UE; it includes the GBA User Security Settings
(GUSS) data
type: object
properties:
guss:
\$ref: \'#/components/schemas/Guss\'
Guss:
description: >
GBA User Security Settings of the UE; it includes information about the BSF,
and a list of User Security Settings
type: object
properties:
bsfInfo:
\$ref: \'#/components/schemas/BsfInfo\'
ussList:
type: array
items:
\$ref: \'TS29309_Nbsp_GBA.yaml#/components/schemas/UssListItem\'
minItems: 1
BsfInfo:
description: >
Information about the BSF; it includes an indication of whether GBA or GBA_U
is to be used,
the key lifetime and a user-specific list of security features
type: object
properties:
uiccType:
\$ref: \'#/components/schemas/UiccType\'
lifeTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
securityFeatures:
type: array
items:
\$ref: \'TS29309_Nbsp_GBA.yaml#/components/schemas/SecFeature\'
minItems: 1
GbaSdmSubscription:
description: >
Information about a subscription created in the HSS, so the consumer (e.g.
BSF) can be
notified when there are changes on the monitored data
type: object
required:
\- nfInstanceId
\- callbackReference
\- monitoredResourceUris
properties:
nfInstanceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
callbackReference:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
monitoredResourceUris:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
minItems: 1
expires:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
#
# SIMPLE TYPES:
#
UeId:
description: UE ID can be MSISDN, IMSI, IMPI or IMPU
anyOf:
\- \$ref: \'#/components/schemas/Msisdn\'
\- \$ref: \'#/components/schemas/Imsi\'
\- \$ref: \'TS29562_Nhss_imsSDM.yaml#/components/schemas/ImsUeId\'
Msisdn:
description: MS-ISDN of the UE
type: string
pattern: \'\^msisdn-[0-9]{5,15}\$\'
Imsi:
description: IMSI of the UE
type: string
pattern: \'\^imsi-[0-9]{5,15}\$\'
#
# ENUMS:
#
UiccType:
description: Indicates whether GBA or GBA_U is to be used
anyOf:
\- type: string
enum:
\- GBA
\- GBA_U
\- type: string
# A.6 Nhss_gbaUEAU API
openapi: 3.0.0
info:
version: \'1.1.0-alpha.1\'
title: \'Nhss_gbaUEAU\'
description: \|
Nhss UE Authentication Service for GBA.
Â© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.562 Home Subscriber Server (HSS) Services, version
18.0.0
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.562/\'
servers:
\- url: \'{apiRoot}/nhss-gba-ueau/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501.
security:
\- oAuth2ClientCredentials:
\- nhss-gba-ueau
\- {}
paths:
/{ueId}/security-information/generate-auth-data:
post:
summary: Generate GBA authentication data for the UE
operationId: GenerateAuthData
tags:
\- Generate Auth Data (Custom Operation)
security:
\- {}
\- oAuth2ClientCredentials:
\- nhss-gba-ueau
\- oAuth2ClientCredentials:
\- nhss-gba-ueau
\- nhss-gba-ueau:generate-auth-data:invoke
parameters:
\- name: ueId
in: path
description: UE identity of the user
required: true
schema:
\$ref: \'#/components/schemas/UeId\'
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/AuthenticationInfoRequest\'
required: true
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/AuthenticationInfoResult\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'501\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/501\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes:
nhss-gba-ueau: Access to the nhss-gba-ueau API
nhss-gba-ueau:generate-auth-data:invoke: >
Access to invoke the Generate Auth Data custom operation
schemas:
#
# COMPLEX TYPES:
#
AuthenticationInfoRequest:
description: >
Contains input data to the authentication request message (e.g. authentication
scheme, resynchronization information)
type: object
properties:
authenticationScheme:
\$ref: \'#/components/schemas/AuthenticationScheme\'
resynchronizationInfo:
\$ref: \'TS29562_Nhss_imsUEAU.yaml#/components/schemas/ResynchronizationInfo\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
AuthenticationInfoResult:
description: >
Contains authentication information returned in the authentication response
message
(e.g. authentication vector, digest authentication parameters)
type: object
properties:
impi:
\$ref: \'#/components/schemas/Impi\'
3gAkaAv:
\$ref: \'TS29562_Nhss_imsUEAU.yaml#/components/schemas/3GAkaAv\'
digestAuth:
\$ref: \'#/components/schemas/DigestAuthentication\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
DigestAuthentication:
description: Parameters used for the Digest authentication scheme
type: object
required:
\- digestRealm
\- digestAlgorithm
\- digestQop
\- ha1
properties:
digestRealm:
type: string
digestAlgorithm:
\$ref: \'#/components/schemas/DigestAlgorithm\'
digestQop:
\$ref: \'#/components/schemas/DigestQop\'
ha1:
type: string
#
# SIMPLE TYPES:
#
UeId:
\$ref: \'TS29562_Nhss_gbaSDM.yaml#/components/schemas/UeId\'
Impi:
description: IMS Private Identity of the UE
type: string
#
# ENUMS:
#
AuthenticationScheme:
description: Authentication scheme to be used in the authentication request
message
anyOf:
\- type: string
enum:
\- DIGEST_AKAV1_MD5
\- DIGEST_HTTP
\- type: string
DigestAlgorithm:
description: Algorithm used for the Digest authentication scheme
anyOf:
\- type: string
enum:
\- MD5
\- MD5_SESS
\- type: string
DigestQop:
description: Quality of Protection for the Digest authentication scheme
anyOf:
\- type: string
enum:
\- AUTH
\- AUTH_INT
\- type: string
###### ## Annex B (informative): Withdrawn API versions
# B.1 General
This Annex lists withdrawn API versions of the APIs defined in the present
specification. 3GPP TS 29.501 [5] clause 4.3.1.6 describes the withdrawal of
API versions.
#