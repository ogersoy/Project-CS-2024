# Foreword
This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document provides the stage 3 specification of the PFD Management
Service of the 5G system.
The stage 2 definition and related procedures of the PFD Management Service
are contained in 3GPP TS 23.502 [3] and 3GPP TS 23.503 [4]. The 5G System
Architecture is defined in 3GPP TS 23.501 [2].
The Technical Realization of the Service Based Architecture and the Principles
and Guidelines for Services Definition of the 5G System are specified in 3GPP
TS 29.500 [5] and 3GPP TS 29.501 [6].
The Packet Flow Description Function (PFDF) provides the PFD Management
Service to NF service consumers (e.g. Session Management Function). The PFDF
is functionality within the NEF.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or non‑specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".
[3] 3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".
[4] 3GPP TS 23.503: \"Policy and Charging Control Framework for the 5G System;
Stage 2\".
[5] 3GPP TS 29.500: \"5G System; Technical Realization of Service Based
Architecture; Stage 3\".
[6] 3GPP TS 29.501: \"5G System; Principles and Guidelines for Services
Definition; Stage 3\".
[7] IETF RFC 7540: \"Hypertext Transfer Protocol Version 2 (HTTP/2)\".
[8] IETF RFC 8259: \"The JavaScript Object Notation (JSON) Data Interchange
Format\".
[9] OpenAPI: \"OpenAPI Specification Version 3.0.0\",
https://spec.openapis.org/oas/v3.0.0.
[10] 3GPP TS 29.571: \"5G System; Common Data Types for Service Based
Interfaces Stage 3\".
[11] 3GPP TS 29.122: \"T8 reference point for Northbound APIs\".
[12] 3GPP TS 29.251: \"Gw and Gwn reference points for sponsored data
connectivity\".
[13] 3GPP TS 29.510: \"5G System; Network Function Repository Services; Stage
3\".
[14] 3GPP TS 33.501: \"Security architecture and procedures for 5G system\".
[15] IETF RFC 6749: \"The OAuth 2.0 Authorization Framework\".
[16] IETF RFC 7807: \"Problem Details for HTTP APIs\".
[17] 3GPP TR 21.900: \"Technical Specification Group working methods\".
[18] IETF RFC 6733: \"Diameter Base Protocol\".
[19] 3GPP TS 23.288: \"Architecture enhancements for 5G System (5GS) to
support network data analytics services\".
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
JSON JavaScript Object Notation
NEF Network Exposure Function
NRF Network Repository Function
NWDAF Network Data Analytics Function
PFD Packet Flow Description
PFDF Packet Flow Description Function
SBI Service Based Interface
SMF Session Management Function
# 4 Packet Flow Description Management Service
## 4.1 Service Description
### 4.1.1 Overview
The PFD Management Service, as defined in 3GPP TS 23.501 [2], 3GPP TS 23.502
[3] and 3GPP TS 23.503 [4], and the NWDAF retrieves the existing PFDs from the
NEF(PFDF) as described in 3GPP TS 23.288 [19], is provided by the Packet Flow
Description Function (PFDF).
The known NF service consumers are:
\- Session Management Function (SMF);
\- Network Data Analytics Function (NWDAF).
This service:
\- allows a NF service consumer (e.g. SMF) to subscribe to and unsubscribe
from PFD changes;
\- notifies a NF service consumer (e.g.SMF) about changes of PFDs;
\- notifies a NF service consumer (e.g.SMF) to retrieve the PFDs; and
\- allows a NF service consumer (e.g. SMF, NWDAF) to retrieve PFDs.
### 4.1.2 Service Architecture
The 5G System Architecture is defined in 3GPP TS 23.501 [2]. The Policy and
Charging related 5G architecture is also described in 3GPP TS 23.503 [4].
The PFD Management Service is provided by the PFDF to NF service consumers
(e.g. SMF) and shown in the SBI representation model in Figure 4.1.2-1. The
PFDF is a functionality within the NEF.
Figure 4.1.2-1: Reference Architecture for the Nnef_PFDmanagement Service; SBI
representation
Figure 4.1.2-2: Reference Architecture for the Nnef_PFDmanagement Service;
reference point representation
### 4.1.3 Network Functions
#### 4.1.3.1 Packet Flow Description Function (PFDF)
The Packet Flow Description Function (PFDF):
\- provides PFDs associated with one or more Application Identifiers;
\- notifies a NF service consumer to retrieve the PFDs; and
\- allows NF service consumers to subscribe to and unsubscribe from
notifications on changes of PFDs for Application Identifier.
#### 4.1.3.2 NF Service Consumers
The SMF shall support:
\- requesting and receiving the PFD(s) for one or more Application
Identifiers.
The NWDAF shall support:
\- retrieving the PFD(s) for one or more Application Identifiers.
## 4.2 Service Operations
### 4.2.1 Introduction
Service operations defined for the Nnef_PFDmanagement Service are shown in
table 4.2.1-1.
_Table 4.2.1-1: Nnef_PFDmanagement Service Operations_
* * *
Service Operation Name Description Initiated by Nnef_PFDmanagement_Fetch
Provides the PFDs for application identifier(s) to the NF service consumer by
the full pull or partial pull. NF service consumer (e.g. SMF, NWDAF)
Nnef_PFDmanagement_Subscribe Allows NF service consumers to subscribe to
notifications on events when the PFDs for application identifier(s) change. NF
service consumer (e.g. SMF) Nnef_PFDmanagement_Notify Notifies NF service
consumers to update and/or delete the PFDs for application identifier(s) or
notifies NF service consumer to retrieve the PFDs for application
identifier(s). PFDF Nnef_PFDmanagement_Unsubscribe Allows NF service consumers
to unsubscribe from notifications on PFDs change events. NF service consumer
(e.g. SMF)
* * *
### 4.2.2 Nnef_PFDmanagement_Fetch Service Operation
#### 4.2.2.1 General
The Nnef_PFDmanagement_Fetch service operation provides means for the NF
service consumer to retrieve the PFDs for one or more application
identifier(s).
##### 4.2.2.1.1 When the NF service consumer is SMF
This service operation enables the NF service consumer to retrieve PFDs for an
Application Identifier(s) from the PFDF when:
\- a PCC rule with this application identifier is provided/activated by the
PCF and the PFDs provided by the PFDF are not available at the NF service
consumer; or
\- the caching timer for an application identifier elapses and a PCC rule for
this application identifier is still active.
When the NF service consumer removes the last PCC rule that refers to the
corresponding application identifier, or when the caching timer expires and no
PCC rule refers to the application identifier, the NF service consumer may
remove the PFD(s) related with the application identifier.
The PFDs retrieved from PFDF take precedence over any PFDs pre-configured in
the NF service consumer. If all PFDs retrieved from the PFDF are removed for
an application identifier, the pre-configured PFDs shall be applied again for
the application identifier.
The PFDF may provide caching time value via the \"cachingTime\" attribute or,
if the feature CachingTimer is supported, via the \"cachingTimer\" attribute,
together with the PFDs for an application identifier. The caching time value
retrieved from the PFDF takes precedence over the default caching time value
configured in the NF service consumer. If no caching time value is received
from the PFDF, the configured default caching time value shall be applied.
NOTE 1: The NF service consumer(s) and the PFDF(s) within an operator network
are configured with the same default caching time value to be applied for all
application identifiers.
NOTE 2: The configuration of a caching time value per application identifier
in the PFDF is based on the SLA between the operator and the ASP.
The following procedures using the Nnef_PFDmanagement_Fetch service operation
are supported:
\- Retrieval of PFDs by the full pull.
\- Retrieval of PFDs by the partial pull.
##### 4.2.2.1.2 When the NF service consumer is NWDAF
This service operation enables the NF service consumer to retrieve PFDs for
the known Application Identifier(s) from the PFDF.
The following procedure using the Nnef_PFDmanagement_Fetch service operation
is supported:
\- Retrieval of PFDs by the full pull.
#### 4.2.2.2 Retrieval of PFDs by the full pull
This procedure, as shown in Figure 4.2.2.2-1, is used to retrieve PFDs from
the PFDF by the full pull for requested application identifier(s).
Figure 4.2.2.2-1: Retrieval of PFDs by the full pull
1\. The NF service consumer (e.g. SMF, NWDAF) shall send a GET request to the
resource representing the PFDs for the requested application identifier(s):
\- for PFDs of an individual application identifier, the request URI shall be
set to \"{apiRoot}/nnef‑pfdmanagement/v1/applications/{appId}\" (as shown in
figure 4.2.2.2-1, step 1a); and
\- for PFD of a collection of application identifiers, the request URI shall
be set to \"{apiRoot}/nnef‑pfdmanagement/v1/applications\" (as shown in figure
4.2.2.2-1, step 1b) with query parameters indicating the requested application
identifier(s).
2\. On success, an HTTP \"200 OK\" response shall be returned, with the
payload body containing a representation of an \"Individual application PFD\"
resource or a \"PFD of applications\" resource for the requested application
identifier(s). When the NF service consumer is SMF, it shall replace the
stored PFD(s) retrieved from the PFDF with the new received PFD(s) for the
requested application identifier(s). If the PFD(s) of one or more requested
application identifier(s) are not provided in the response, the NF service
consumer shall remove the PFD(s) of these requested application identifier(s)
and re-apply the pre-configured PFDs.\ \ If errors occur when processing the
HTTP GET request, the PFDF shall send an HTTP error response as specified in
clause 5.7. For \"404 Not Found\", when the NF service consumer is SMF, it
shall remove the PFD(s) of the requested application identifier(s) in the NF
service consumer and re-apply the pre-configured PFDs.
> If the feature \"ES3XX\" is supported, and the PFDF determines the received
> HTTP GET request needs to be redirected, the PFDF shall send an HTTP
> redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [5].
#### 4.2.2.3 Retrieval of PFDs by the partial pull
This procedure, as shown in Figure 4.2.2.3-1, is used to retrieve PFDs from
the PFDF by the partial pull for requested application identifier(s) if the
\"PartialPull\" feature defined in clause 5.8 is supported both by NF service
consumer and PFDF.
Figure 4.2.2.3-1: Retrieval of PFDs by the partial pull
1\. The NF service consumer (e.g. SMF) shall send an HTTP POST message to the
resource \"{apiRoot}/nnef‑pfdmanagement/v1/applications/partialpull\". The NF
service consumer shall include one or more ApplicationForPfdRequest data
structure in the payload body of the HTTP POST. With the
ApplicationForPfdRequest data structure, the NF service consumer shall include
the application identifier within the \"applicationId\" attribute and the
timestamp of the PFDs received in the last provisioning for the application
identifier within the \"pfdTimestamp\" attribute. The NF service consumer may
also request full set of PFD(s) of an application identifier without including
the timestamp if it is not available.
2\. If the PFDF accepted the HTTP POST request, the PFDF shall send to the NF
service consumer:
\- the HTTP \"200 OK\" response (as shown in figure 4.2.2.3-1, step 2a)
including one or more PfdDataForApp data structure if the NF service consumer
requests the PFD(s) for an application identifier(s) without the timestamp or
if the NF service consumer requests PFD(s) for an application identifier(s)
with timestamp and the PFDF determines that corresponding PFD(s) is changed
since the last request based on the timestamp received in the request for the
application identifier. Within the PfdDataForApp data type, the PFDF shall
include the application identifier within the \"applicationId\" attribute, the
new timestamp within the \"pfdTimestamp\" attirbute, the \"partialFlag\"
attribute if applicable and create/update/remove the PFDs as follows:
> \- include the full list of the PFD(s) within the \"pfds\" attribute for the
> application identifier which is requested without the timestamp;
>
> \- include the full list of the PFD(s) within the \"pfds\" attribute for the
> application identifier if all the PFD(s) are changed for the application
> identifier since the last request based on the timestamp;
>
> \- for the application identifier whose PFD(s) are partially changed:
>
> \- include the new PFD(s) with new PFD identifier(s) within the \"pfds\"
> attribute if the new PFD(s) is added for the application identifier and the
> \"partialFlag\" attribute set to true;
>
> \- include the new PFD(s) with existing PFD identifier(s) within the
> \"pfds\" attribute if the existing PFD(s) is updated for the application
> identifier and the \"partialFlag\" attribute set to true;
>
> \- include the existing PFD identifier(s) without any content within the
> \"pfds\" attribute if the existing PFD(s) is removed for the application
> identifier and the \"partialFlag\" attribute set to true;
>
> \- not include the \"pfds\" attribute if the PFD(s) is removed for the
> application identifier.
NOTE 1: The PFDF does not include the PfdDataForApp data type for the
application identifier whose PFD(s) is not updated since last request.
NOTE 2 If the PFDF determines that the PFDs are changed since the last request
but cannot determine what changes have been applied to the individual PFD(s)
for an application identifier, the PFDF can include the full list of the
PFD(s) in the PfdDataForApp data type.
\- the HTTP \"204 No Content\" response (as shown in figure 4.2.2.3-1, step
2b) if the PFD(s) for all the requested application identifier(s) are not
changed since last request.
When the NF service consumer receives the response with \"200 OK\" status
code, the NF service consumer shall
\- remove the all existing PFD(s) (if available) and install all the new
provided PDF(s) for an application identifier if full list of PFD(s) is
received but \"partialFlag\" attribute is not received;
\- delete the existing PFD(s) for an application identifier(s) where no PFD(s)
is received;
\- for an application identifier(s) where the PFD(s) is provided and
\"partialFlag\" attribute is also provided and set to true:
\- install a new PFD(s) if the new PFD(s) with a new PFD identifier(s) is
received;
\- update an existing PFD(s) if a new PFD(s) with the same PFD identifier(s)
is received;
\- delete an existing PFD(s) if the same PFD identifier(s) without any content
is received;
\- reserve an existing PFD(s) if the PFD identifier(s) is not received.
### 4.2.3 Nnef_PFDmanagement_Subscribe Service Operation
#### 4.2.3.1 General
The Nnef_PFDmanagement_Subscribe service operation enables the NF service
consumer to subscribe to notifications on events when the PFDs for application
identifier(s) change.
The following procedures using the Nnef_PFDmanagement_Subscribe service
operation are supported:
\- Subscription for event notifications on PFDs change;
\- Subscription update for event notifications on PFD change.
#### 4.2.3.2 Subscription for event notifications on PFDs change
This procedure, as shown in Figure 4.2.3.2-1, is used to subscribe to
notifications on events when the PFDs for application identifier(s) change.
Figure 4.2.3.2-1: Creation of a subscription for event notifications on PFDs
change
1\. The NF service consumer (e.g. SMF) shall send a POST request to the
request URI representing the collection of PFD subscriptions resource
\"{apiRoot}/nnef‑pfdmanagement/v1/subscriptions\". The NF service consumer
shall include the PfdSubscription data type in the request payload body.
Within the PfdSubscription data type, the NF service consumer shall include:
\- an URI where to receive the requested notifications as \"notifyUri\"
attribute;
and may include:
\- subscribed application identifier(s) within the \"applicationIds\"
attribute.
2\. If the request is accepted, the PFDF shall:
\- create a new subscription;
\- assign a subscriptionId;
\- store the subscription; and
\- send an HTTP \"201 Created\" response, with the payload body containing a
representation of the created subscription, and the Location header containing
the resource URI of the created subscription \"{apiRoot}/nnef-
pfdmanagement/v1/subscriptions/{subscriptionId}\".
Otherwise, one of the HTTP status codes listed in table 5.3.4.3.1-3 shall be
returned.
NOTE: The PFDs that have been provisioned to the PFDF before the NF service
consumer performs the subscription are not notified to the NF service consumer
as a result of this subscription, but the NF service consumer can retrieve
them before performing the subscription by invoking Nnef_PFDmanagement_Fetch
Service Operation.
#### 4.2.3.3 Subscription update for event notifications on PFDs change
This procedure, as shown in Figure 4.2.3.3-1, is used to update an existing
subscription to notifications on events when the PFDs for application
identifier(s) change.
Figure 4.2.3.3-1: Update of a subscription for event notifications on PFDs
change
1\. If the feature PfdChgSubsUpdate is supported, the NF service consumer
(e.g. SMF) shall send a PUT request to the resource URI representing the
targeted PFD subscription resource
\"{apiRoot}/nnef‑pfdmanagement/v1/subscriptions/{subscriptionId}\". The NF
service consumer shall include the PfdSubscription data type in the request
payload body. Within the PfdSubscription data type, the NF service consumer
shall include:
\- an URI where to receive the requested notifications as \"notifyUri\"
attribute;
and may include:
\- subscribed application identifier(s) within the \"applicationIds\"
attribute.
NOTE 1: The \"notifUri\" attribute within the PfdSubscription data structure
can be modified to request that subsequent notifications are sent to a new NF
service consumer.
2\. If the feature PfdChgSubsUpdate is supported and the request is accepted,
the PFDF shall:
\- update the subscription; and
\- send an HTTP \"200 OK\" response with the payload body containing a
representation of the updated subscription.
Otherwise, if errors occur when processing the HTTP PUT request, the PFDF
shall send an HTTP error response as specified in clause 5.7. If the feature
\"ES3XX\" is supported, and the PFDF determines the received HTTP PUT request
needs to be redirected, the PFDF shall send an HTTP redirect response as
specified in clause 6.10.9 of 3GPP TS 29.500 [5].
NOTE 2: The PFDs that have been provisioned to the PFDF before the NF service
consumer performs the subscription are not notified to the NF service consumer
as a result of this subscription, but the NF service consumer can retrieve
them before performing the subscription by invoking Nnef_PFDmanagement_Fetch
Service Operation.
### 4.2.4 Nnef_PFDmanagement_Notify Service Operation
#### 4.2.4.1 General
The Nnef_PFDmanagement_Notify service operation notifies the NF service
consumer to update, delete or retrieve the PFDs for application identifier(s).
The following procedures using the Nnef_PFDmanagement_Notify service operation
are supported:
\- Notification of PFD change.
\- Notification PUSH
#### 4.2.4.2 Notification of PFD change
Figure 4.2.4.2-1: Notification of PFD change
1\. The PFDF shall send a POST request to the NF service consumer (e.g. SMF)
targeting the URI \"{notifyUri}, where {notifyUri} is the notification URI
provided during the creation or modification of the subscription resource as
specified in clause 4.2.3. The payload body of the POST request shall contain
one or more PfdChangeNotification data structure(s).
2 If the notification is accepted, the NF service consumer shall reply with:
\- \"204 No Content\" indicating the successful provisioning of all PFDs; or
\- \"200 OK\" and the payload body of the response shall contain
\"PfdChangeReport\" data structure with detailed information of failed
application(s).
Otherwise, if errors occur when processing the HTTP POST request, the NF
service consumer shall send an HTTP error response as specified in clause 5.7.
If the feature \"ES3XX\" is supported, and the NF service consumer determines
the received HTTP POST request needs to be redirected, the NF service consumer
shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS
29.500 [5].
#### 4.2.4.3 Notification PUSH
Figure 4.2.4.3-1: Notification PUSH
1\. If the NotificationPush feature defined in clause 5.8 is supported, and
when the PFDF only notifies the NF service consumer to retrieve or remove the
PFDs for application identifier(s), then the PFDF shall send a POST request to
the NF service consumer (e.g. SMF) with \"{notifyUri}/notifypush\" as URI
(where the \"notifyUri\" was previously supplied by the NF service consumer)
and one or more NotificationPush data structure as request body. Each
NotificationPush data structure shall include the application identifier(s)
within the \"appIds\" attribute, the \"pfdOp\" attribute set to the applicable
value and may include the \"allowedDelay\" attribute containing the allowed
delay time if received when the \"pfdOp\" attribute is set to \"RETRIEVE\",
\"FULLPULL\" or \"PARTIALPULL\".
2 If the NF service consumer accepts the received POST request, the NF service
consumer shall send an HTTP \"204 No Content\" response.
> After the successful processing of the HTTP POST request,
\- if the PFDF requests the NF service consumer to retrieve the PFD(s) with
the \"pfdOp\" attribute set to the value \"RETRIEVE\" or without the \"pfdOp\"
attribute, the NF service consumer shall determine to invoke the full pull
procedure defined in clause 4.2.2.2 or invoke the partial pull procedure
defined in clause 4.2.2.3 if the \"PartialPull\" feature is supported to
retrieve the PFD(s) for the application identifier(s).
\- if the \"PartialPull\" feature is supported and if the PFDF requests the NF
service consumer to retrieve the PFD(s) with the \"pfdOp\" attribute set to
the value \"FULLPULL\", the NF service consumer shall invoke the full pull
procedure defined in clause 4.2.2.2.
\- if the \"PartialPull\" feature is supported and if the PFDF indicates the
NF service consumer to retrieve the PFD(s) with the \"pfdOp\" attribute set to
the value \"PARTIALPULL\", the NF service consumer may invoke the partial full
procedure defined in clause 4.2.2.3.
\- for all above cases, if the \"allowedDelay\" attribute is provided for one
or more application(s), the NF service consumer shall retrieve the PFD(s)
within the allowed delay time.
\- if the PFDF requests the NF service consumer to remove the PFD(s) with the
\"pfdOp\" attribute set to the value \"REMOVE\", the NF service consumer shall
remove the PFD(s) for the application identifier(s) and re-apply the pre-
configured PFDs.
> If errors occur when processing the HTTP POST request, the NF service
> consumer shall send an HTTP error response as specified in clause 5.7.
>
> If the feature \"ES3XX\" is supported, and the NF service consumer
> determines the received HTTP POST request needs to be redirected, the NF
> service consumer shall send an HTTP redirect response as specified in clause
> 6.10.9 of 3GPP TS 29.500 [5].
### 4.2.5 Nnef_PFDmanagement_Unsubscribe Service Operation
#### 4.2.5.1 General
The Nnef_PFDmanagement_Unsubscribe service operation is used by the NF service
consumer to unsubscribe from notifications on PFD change events.
The following procedures using the Nnef_PFDmanagement_Unsubscribe service
operation are supported:
\- Unsubscribe from event notifications on PFDs change.
#### 4.2.5.2 Unsubscribe from event notifications on PFDs change
Figure 4.2.5.2-1: Unsubscribe from event notifications on PFDs change
1\. The NF service consumer (e.g. SMF) shall send a DELETE request to the
resource URI representing the individual PFD subscription. The request body
shall be empty.
2\. If the request is accepted, an HTTP \"204 No Content\" response shall be
returned. The response body shall be empty.\ \ Otherwise, if errors occur when
processing the HTTP DELETE request, the PFDF consumer shall send an HTTP error
response as specified in clause 5.7. If the feature \"ES3XX\" is supported,
and the PFDF determines the received HTTP DELETE request needs to be
redirected, the PFDF shall send an HTTP redirect response as specified in
clause 6.10.9 of 3GPP TS 29.500 [5].
# 5 Nnef_PFDmanagement API
## 5.1 Introduction
The Packet Flow Description Management Service shall use the
Nnef_PFDmanagement API.
The API URI of the Nnef_PFDmanagement API shall be:
{apiRoot}/\/\
The request URIs used in HTTP requests from the NF service consumer towards
the PFDF shall have the Resource URI structure defined in clause 4.4.1 of 3GPP
TS 29.501 [6], i.e.:
**{apiRoot}/\ /\/\**
with the following components:
\- The {apiRoot} shall be set as described in 3GPP TS 29.501 [6].
\- The **\ ** shall be \"nnef-pfdmanagement\".
\- The **\ ** shall be \"v1\".
\- The **\ ** shall be set as described in
clause 5.3.
## 5.2 Usage of HTTP
### 5.2.1 General
HTTP/2, IETF RFC 7540 [7], shall be used as specified in clause 5.2 of 3GPP TS
29.500 [5].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [5].
The OpenAPI [9] specification of HTTP messages and content bodies for the
Nnef_PFDmanagement service is contained in Annex A.
### 5.2.2 HTTP standard headers
#### 5.2.2.1 General
See clause 5.2.2 of 3GPP TS 29.500 [5] for the usage of HTTP standard headers.
#### 5.2.2.2 Content type
JSON, IETF RFC 8259 [8], shall be used as content type of the HTTP bodies
specified in the present specification, as specified in clause 5.4 of 3GPP TS
29.500 [5]. The use of the JSON format shall be signalled by the content type
\"application/json\".
\"Problem Details\" JSON object shall be used to indicate additional details
of the error in a HTTP response body and shall be signalled by the content
type \"application/problem+json\", as defined in IETF RFC 7807 [16].
### 5.2.3 HTTP custom headers
#### 5.2.3.1 General
The Nnef_PFDmanagement API shall support HTTP custom header fields specified
in clause 5.2.3.2 of 3GPP TS 29.500 [4] and may support HTTP custom header
fields specified in clause 5.2.3.3 of 3GPP TS 29.500 [4].
In this Release of the specification, no specific custom headers are defined
for the Nnef_PFDmanagement API.
## 5.3 Resources
### 5.3.1 Resource Structure
Figure 5.3.1-1: Resource URI structure of the Nnef_PFDmanagement API
Table 5.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 5.3.1-1: Resources and methods overview
+----------------+----------------+----------------+----------------+ | Resource name | Resource URI | HTTP method or | Description | | | | custom | | | | | operation | | +----------------+----------------+----------------+----------------+ | PFD of | /applications | GET | Nnef_PFDmana | | applications | | | gement_Fetch. | | | | | | | | | | Retrieve PFDs | | | | | for one or | | | | | multiple | | | | | applications | | | | | using query | | | | | parameters. | +----------------+----------------+----------------+----------------+ | | /applicatio | partialpull | Request PFDs | | | ns/partialpull | | for one or | | | | (POST) | multiple | | | | | application | | | | | identifier(s) | | | | | by the partial | | | | | update. | +----------------+----------------+----------------+----------------+ | Individual | /applic | GET | Nnef_PFDmana | | application | ations/{appId} | | gement_Fetch. | | PFD | | | | | | | | Retrieve the | | | | | PFD for an | | | | | application. | +----------------+----------------+----------------+----------------+ | PFD | /subscriptions | POST | Nne | | subscriptions | | | f_PFDmanageme | | | | | nt_Subscribe. | | | | | | | | | | Subscribe the | | | | | notification | | | | | of PFD | | | | | changes. | +----------------+----------------+----------------+----------------+ | Individual PFD | /su | PUT | Nne | | subscription | bscriptions/{s | | f_PFDmanageme | | | ubscriptionId} | | nt_Subscribe. | | | | | | | | | | Update a | | | | | subscription | | | | | to PFD change | | | | | notifications. | +----------------+----------------+----------------+----------------+ | Individual PFD | /su | DELETE | Nnef\ | | subscription | bscriptions/{s | | _PFDmanagement | | | ubscriptionId} | | _Unsubscribe. | | | | | | | | | | Delete a | | | | | subscription | | | | | to PFD change | | | | | notifications. | +----------------+----------------+----------------+----------------+
### 5.3.2 Resource: PFD of applications
#### 5.3.2.1 Description
This resource represents PFDs for all applications.
#### 5.3.2.2 Resource definition
Resource URI: **{apiRoot}/nnef-pfdmanagement/v1/applications**
This resource shall support the resource URI variables defined in table
5.3.2.2-1.
Table 5.3.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.1
* * *
#### 5.3.2.3 Resource Standard Methods
##### 5.3.2.3.1 GET
This method shall support the URI query parameters specified in table
5.3.2.3.1-1.
Table 5.3.2.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description application-ids array(ApplicationId)
M 1..N The requested application identifier(s) for which PFD(s) shall be
returned. supported-features SupportedFeatures O 0..1 To filter irrelevant
responses related to unsupported features.
* * *
This method shall support the request data structures specified in table
5.3.2.3.1-2 and the response data structures and response codes specified in
table 5.3.2.3.1-3.
Table 5.3.2.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.3.2.3.1-3: Data structures supported by the GET Response Body on this
resource
+-----------------+---+-------------+----------+-----------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +-----------------+---+-------------+----------+-----------------+ | array | M | 0..N | 200 OK | The PFDs for | | (PfdDataForApp) | | | | one or more | | | | | | application | | | | | | identifier(s) | | | | | | provided in the | | | | | | request URI are | | | | | | returned. | +-----------------+---+-------------+----------+-----------------+ | NOTE: In | | | | | | addition, the | | | | | | HTTP status | | | | | | codes which are | | | | | | specified as | | | | | | mandatory in | | | | | | table 5.2.7.1-1 | | | | | | of | | | | | | 3GPP | | | | | | TS 29.500 [5] | | | | | | for the GET | | | | | | method shall | | | | | | also apply. | | | | | +-----------------+---+-------------+----------+-----------------+
#### 5.3.2.4 Resource Custom Operations
##### 5.3.2.4.1 Overview
Table 5.3.2.4.1-1: Custom operations
* * *
Operation Name Custom operation URI HTTP method or custom operation
Description Partialpull /applications/partialpull partialpull (POST) Request
PFDs for one or multiple application identifier(s) by the partial update.
* * *
##### 5.3.2.4.2 Operation: partialpull
###### 5.3.2.4.2.1 Description
###### 5.3.2.4.2.2 Operation Definition
This custom operation requests PFDs for one ore multiple application
identifier(s) by the partial update..
This operation shall support the request data structures specified in table
5.3.2.4.2.2-1 and the response data structure and response codes specified in
table 5.3.2.4.2.2-2.
Table 5.3.2.4.2.2-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description array(ApplicationForPfdRequest) M 1
Contains the application Identifier(s) for PFDs request.
* * *
Table 5.3.2.4.2.2-2: Data structures supported by the POST Response Body on
this resource
* * *
Data type P Cardinality Response codes Description array(PfdDataForApp) M 0..N
200 OK The PFDs for one or more application identifier(s) are returned. n/a
204 No Content  
NOTE: The mandatory HTTP error status codes for the POST method listed in
table 5.2.7.1-1 of 3GPP TS 29.500 [4] shall also apply.
* * *
### 5.3.3 Resource: Individual application PFD
#### 5.3.3.1 Description
This resource represents the PFD identified by an application identifier.
#### 5.3.3.2 Resource definition
Resource URI: **{apiRoot}/nnef-pfdmanagement/v1/applications/{appId}**
This resource shall support the resource URI variables defined in table
5.3.3.2-1.
Table 5.3.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.1. appId string
Identifies a set of PFD for an application identifier.
* * *
#### 5.3.3.3 Resource Standard Methods
##### 5.3.3.3.1 GET
This method shall support the URI query parameters specified in table
5.3.3.3.1-1.
Table 5.3.3.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description supported-features SupportedFeatures
O 0..1 To filter irrelevant responses related to unsupported features.
* * *
This method shall support the request data structures specified in table
5.3.3.3.1-2 and the response data structures and response codes specified in
table 5.3.3.3.1-3.
Table 5.3.3.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.3.3.3.1-3: Data structures supported by the GET Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | PfdDataForApp | M | 1 | 200 OK | A | | | | | | r | | | | | | epresentation | | | | | | of PFDs for | | | | | | an | | | | | | application | | | | | | in the | | | | | | request URI | | | | | | is returned. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | PFD | | | | | | subscription | | | | | | retrieval. | | | | | | | | | | | | Applicable if | | | | | | the feature | | | | | | \"ES3XX\" is | | | | | | supported. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | PFD | | | | | | subscription | | | | | | retrieval. | | | | | | | | | | | | Applicable if | | | | | | the feature | | | | | | \"ES3XX\" is | | | | | | supported. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: In | | | | | | addition, the | | | | | | HTTP status | | | | | | codes which | | | | | | are specified | | | | | | as mandatory | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [5] | | | | | | for the GET | | | | | | method shall | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | Red | | | | | | irectResponse | | | | | | data | | | | | | structure may | | | | | | be provided | | | | | | by an SCP | | | | | | (cf. | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.3.3.3.1-4: Headers supported by the 307 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative | | | | | | PFDF (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target PFDF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 5.3.3.3.1-5: Headers supported by the 308 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative | | | | | | PFDF (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target PFDF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
#### 5.3.3.4 Resource Custom Operations
None.
### 5.3.4 Resource: PFD subscriptions
#### 5.3.4.1 Description
This resource represents a collection of subscriptions created by NF service
consumers of Nnef_PFDmanagement service.
#### 5.3.4.2 Resource definition
Resource URI: **{apiRoot}/nnef-pfdmanagement/v1/subscriptions**
This resource shall support the resource URI variables defined in table
5.3.4.2-1.
Table 5.3.4.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.1
* * *
#### 5.3.4.3 Resource Standard Methods
##### 5.3.4.3.1 POST
This method shall support the URI query parameters specified in table
5.3.4.3.1-1.
Table 5.3.4.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.3.4.3.1-2 and the response data structures and response codes specified in
table 5.3.4.3.1-3.
Table 5.3.4.3.1-2: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description PfdSubscription M 1 Create a
PfdSubscription resource.
* * *
Table 5.3.4.3.1-3: Data structures supported by the POST Response Body on this
resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+-------------+---------------+ | Pf | M | 1 | 201 Created | The creation | | dSubscription | | | | of a | | | | | | Pf | | | | | | dSubscription | | | | | | resource is | | | | | | confirmed and | | | | | | a | | | | | | r | | | | | | epresentation | | | | | | of that | | | | | | resource is | | | | | | returned. | +---------------+---+-------------+-------------+---------------+ | NOTE: In | | | | | | addition, the | | | | | | HTTP status | | | | | | codes which | | | | | | are specified | | | | | | as mandatory | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [5] | | | | | | for the POST | | | | | | method shall | | | | | | also apply. | | | | | +---------------+---+-------------+-------------+---------------+
Table 5.3.4.3.1-4: Headers supported by the 201 Response Code on this resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/nnef-
pfdmanagement/v1/subscriptions/{subscriptionId}
* * *
#### 5.3.4.4 Resource Custom Operations
None.
### 5.3.5 Resource: Individual PFD subscription
#### 5.3.5.1 Description
This resource represents an individual PFD subscription created by an NF
service consumer of the Nnef_PFDmanagement service.
#### 5.3.5.2 Resource definition
Resource URI: **{apiRoot}/nnef-
pfdmanagement/v1/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
5.3.5.2-1.
Table 5.3.5.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.1 subscriptionId string
Identifies an individual subscription to the PFD management service
* * *
#### 5.3.5.3 Resource Standard Methods
##### 5.3.5.3.1 DELETE
This method shall support the URI query parameters specified in table
5.3.5.3.1-1.
Table 5.3.5.3.1-1: URI query parameters supported by the DELETE method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.3.5.3.1-2 and the response data structures and response codes specified in
table 5.3.5.3.1-3.
Table 5.3.5.3.1-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.3.5.3.1-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The | | | | | Content | Pf | | | | | | dSubscription | | | | | | resource | | | | | | matching the | | | | | | s | | | | | | ubscriptionId | | | | | | was deleted | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | PFD | | | | | | subscription | | | | | | deletion. | | | | | | | | | | | | Applicable if | | | | | | the feature | | | | | | \"ES3XX\" is | | | | | | supported. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | PFD | | | | | | subscription | | | | | | deletion. | | | | | | | | | | | | Applicable if | | | | | | the feature | | | | | | \"ES3XX\" is | | | | | | supported. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: In | | | | | | addition, the | | | | | | HTTP status | | | | | | codes which | | | | | | are specified | | | | | | as mandatory | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [5] | | | | | | for the | | | | | | DELETE method | | | | | | shall also | | | | | | apply. | | | | | | | | | | | | NOTE 2: The | | | | | | Red | | | | | | irectResponse | | | | | | data | | | | | | structure may | | | | | | be provided | | | | | | by an SCP | | | | | | (cf. | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.3.5.3.1-4: Headers supported by the 307 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative | | | | | | PFDF (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target PFDF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 5.3.5.3.1-5: Headers supported by the 308 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative | | | | | | PFDF (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target PFDF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
##### 5.3.5.3.2 PUT
This method shall support the URI query parameters specified in table
5.3.5.3.2-1.
Table 5.3.5.3.2-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.3.5.3.2-2 and the response data structures and response codes specified in
table 5.3.5.3.2-3.
Table 5.3.5.3.2-2: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description PfdSubscription M 1 Update a
PfdSubscription resource.
* * *
Table 5.3.5.3.2-3: Data structures supported by the PUT Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Pf | M | 1 | 200 OK | The update of | | dSubscription | | | | a | | | | | | Pf | | | | | | dSubscription | | | | | | resource is | | | | | | confirmed and | | | | | | a | | | | | | r | | | | | | epresentation | | | | | | of that | | | | | | resource is | | | | | | returned. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | PFD | | | | | | subscription | | | | | | modification. | | | | | | | | | | | | Applicable if | | | | | | the feature | | | | | | \"ES3XX\" is | | | | | | supported. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | PFD | | | | | | subscription | | | | | | modification. | | | | | | | | | | | | Applicable if | | | | | | the feature | | | | | | \"ES3XX\" is | | | | | | supported. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: In | | | | | | addition, the | | | | | | HTTP status | | | | | | codes which | | | | | | are specified | | | | | | as mandatory | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [5] | | | | | | for the PUT | | | | | | method shall | | | | | | also apply. | | | | | | | | | | | | NOTE 2: The | | | | | | Red | | | | | | irectResponse | | | | | | data | | | | | | structure may | | | | | | be provided | | | | | | by an SCP | | | | | | (cf. | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.3.5.3.2-4: Headers supported by the 307 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains a | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative | | | | | | PFDF (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target PFDF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 5.3.5.3.2-5: Headers supported by the 308 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative | | | | | | PFDF (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target PFDF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
#### 5.3.5.4 Resource Custom Operations
None.
## 5.4 Custom Operations without associated resources
None
## 5.5 Notifications
### 5.5.1 General
Notifications shall comply to clause 6.2 of 3GPP TS 29.500 [5] and clause
4.6.2.3 of 3GPP TS 29.501 [6].
Table 5.5.1-1: Notifications overview
* * *
Notification Callback URI HTTP method or custom operation Description (service
operation) PFD Change Notification {notifyUri} POST Notification of PFD
change. Notification Push {notifyUri}/notifypush notifypush (POST) Notifies NF
service consumer to retrieve the PFDs for application identifier(s).
* * *
### 5.5.2 PFD Change Notification
#### 5.5.2.1 Description
The PFD Change Notification is used by the PFDF to inform the NF service
consumer, which has subscribed to this Notification via the PFD subscriptions
resource.
#### 5.5.2.2 Target URI
The Callback URI **\"{notifyUri}\"** shall be used with the callback URI
variables defined in table 5.5.2.2-1.
Table 5.5.2.2-1: Callback URI variables
* * *
Name Data type Definition notifyUri Uri The Notification Uri as assigned
within the PFD subscriptions resource and described within the PfdSubscription
data type (see table 5.6.2.3-1).
* * *
#### 5.5.2.3 Standard Methods
##### 5.5.2.3.1 POST
This method shall support the URI query parameters specified in table
5.5.2.3.1-1.
Table 5.5.2.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.5.2.3.1-2 and the response data structures and response codes specified in
table 5.5.2.3.1-3.
Table 5.5.2.3.1-2: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description array(PfdChangeNotification) M 1..N
Provides PFD change information.
* * *
Table 5.5.2.3.1-3: Data structures supported by the POST Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | The PFD | | | | | Content | operation in | | | | | | the | | | | | | notification | | | | | | is performed | | | | | | successfully, | | | | | | i.e. all PFD | | | | | | changes are | | | | | | accepted by | | | | | | the NF | | | | | | service | | | | | | consumer. | +---------------+---+-------------+---------------+---------------+ | array(Pfd | M | 1..N | 200 OK | The PFD | | ChangeReport) | | | | operation in | | | | | | the | | | | | | notification | | | | | | is performed | | | | | | and the | | | | | | Pf | | | | | | dChangeReport | | | | | | indicates | | | | | | failure | | | | | | reason for | | | | | | each failed | | | | | | application | | | | | | in the | | | | | | partial | | | | | | success. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during PFD | | | | | | Change | | | | | | Notification. | | | | | | | | | | | | Applicable if | | | | | | the feature | | | | | | \"ES3XX\" is | | | | | | supported. | | | | | | | | | | | | (NOTE 3) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during PFD | | | | | | Change | | | | | | Notification. | | | | | | | | | | | | Applicable if | | | | | | the feature | | | | | | \"ES3XX\" is | | | | | | supported. | | | | | | | | | | | | (NOTE 3) | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 500 Internal | The server | | roblemDetails | | | Server Error | encountered | | | | | | an unexpected | | | | | | condition | | | | | | that | | | | | | prevented it | | | | | | from | | | | | | fulfilling | | | | | | the request. | | | | | | PFDs for all | | | | | | applications | | | | | | are not | | | | | | accepted by | | | | | | the NF | | | | | | service | | | | | | consumer. | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: In | | | | | | addition, the | | | | | | HTTP status | | | | | | codes which | | | | | | are specified | | | | | | as mandatory | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [5] | | | | | | for the POST | | | | | | method shall | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure cases | | | | | | are described | | | | | | in | | | | | | clause 5.7. | | | | | | | | | | | | NOTE 3: The | | | | | | Red | | | | | | irectResponse | | | | | | data | | | | | | structure may | | | | | | be provided | | | | | | by an SCP | | | | | | (cf. | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.5.2.3.1-4: Headers supported by the 307 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative NF | | | | | | consumer | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the | | | | | | notification | | | | | | should be | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the | | | | | | notification | | | | | | request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 5.5.2.3.1-5: Headers supported by the 308 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative NF | | | | | | consumer | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the | | | | | | notification | | | | | | should be | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the | | | | | | notification | | | | | | request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
### 5.5.3 Notification Push
#### 5.5.3.1 Description
The Notification Push is used by the PFDF to inform the NF service consumer,
which has subscribed to this Notification via the PFD subscriptions resource.
#### 5.5.3.2 Target URI
The Callback URI **\"{notifyUri}/notifypush\"** shall be used with the
callback URI variables defined in table 5.5.3.2-1.
Table 5.5.3.2-1: Callback URI variables
* * *
Name Data type Definition notifyUri Uri The Notification Uri as assigned
within the PFD subscriptions resource and described within the PfdSubscription
data type (see table 5.6.2.3-1).
* * *
#### 5.5.3.3 Standard Methods
##### 5.5.3.3.1 POST
This method shall support the URI query parameters specified in table
5.5.3.3.1-1.
Table 5.5.3.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.5.3.3.1-2 and the response data structures and response codes specified in
table 5.5.3.3.1-3.
Table 5.5.3.3.1-2: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description array(NotificationPush) M 1..N Provides
the information for the NF service consumer to retrieve and/or remove the
PFDs.
* * *
Table 5.5.3.3.1-3: Data structures supported by the POST Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Notification | | | | | Content | PUSH is | | | | | | accepted. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during PFD | | | | | | Change | | | | | | Notification. | | | | | | | | | | | | Applicable if | | | | | | the feature | | | | | | \"ES3XX\" is | | | | | | supported. | | | | | | | | | | | | (NOTE 3) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during PFD | | | | | | Change | | | | | | Notification. | | | | | | | | | | | | Applicable if | | | | | | the feature | | | | | | \"ES3XX\" is | | | | | | supported. | | | | | | | | | | | | (NOTE 3) | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 500 Internal | (NOTE 2) | | roblemDetails | | | Server Error | | +---------------+---+-------------+---------------+---------------+ | NOTE 1: In | | | | | | addition, the | | | | | | HTTP status | | | | | | codes which | | | | | | are specified | | | | | | as mandatory | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [5] | | | | | | for the POST | | | | | | method shall | | | | | | also apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure cases | | | | | | are described | | | | | | in | | | | | | clause 5.7. | | | | | | | | | | | | NOTE 3: The | | | | | | Red | | | | | | irectResponse | | | | | | data | | | | | | structure may | | | | | | be provided | | | | | | by an SCP | | | | | | (cf. | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.5.3.3.1-4: Headers supported by the 307 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative NF | | | | | | consumer | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the | | | | | | notification | | | | | | should be | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the | | | | | | notification | | | | | | request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 5.5.3.3.1-5: Headers supported by the 308 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative NF | | | | | | consumer | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the | | | | | | notification | | | | | | should be | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the | | | | | | notification | | | | | | request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
## 5.6 Data Model
### 5.6.1 General
This clause specifies the application data model supported by the API.
Table 5.6.1-1 specifies the data types defined for the Nnef_PFDmanagement
service based interface protocol.
Table 5.6.1-1: Nnef_PFDmanagement specific Data Types
* * *
Data type Section defined Description Applicability ApplicationForPfdRequest
5.6.2.8 Contains the application identifier(s) for the PFDs request.
PartialPull NotificationPush 5.6.2.7 Provides the information for the NF
service consumer to retrieve the PFDs and/or remove the PFDs of the applicable
application identifier(s). NotificationPush PfdChangeNotification 5.6.2.4
Represents PFD change information.  
PfdChangeReport 5.6.2.6 Represents error of PFD change.  
PfdContent 5.6.2.5 Represents the content of a PFD for an application
identifier.  
PfdDataForApp 5.6.2.2 Represents the PFDs for an application identifier.  
PfdOperation 5.6.3.3 Indicates the operation of the PFDs. NotificationPush
PfdSubscription 5.6.2.3 Represents a PFD subscription.
* * *
Table 5.6.1-2 specifies data types re-used by the Nnef_PFDmanagement service
based interface protocol from other specifications, including a reference to
their respective specifications and when needed, a short description of their
use within the Nnef_PFDmanagement service based interface.
Table 5.6.1-2: Nnef_PFDmanagement re-used Data Types
* * *
Data type Reference Comments Applicability ApplicationId 3GPP TS 29.571 [10]  
DateTime 3GPP TS 29.571 [10]  
DomainNameProtocol 3GPP TS 29.122 [11] Indicates the additional protocol and
protocol field for domain names to be matched. DomainNameProtocol DurationSec
3GPP TS 29.571 [10] Identifies a period of time in units of seconds.
NotificationPush RedirectResponse 3GPP TS 29.571 [10] Contains redirection
related information. ES3XX SupportedFeatures 3GPP TS 29.571 [10]  
Uri 3GPP TS 29.571 [10]
* * *
### 5.6.2 Structured data types
#### 5.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
Allowed structures are: array, object.
#### 5.6.2.2 Type: PfdDataForApp
Table 5.6.2.2-1: Definition of type PfdDataForApp
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | appl | Appl | M | 1 | I | | | icationId | icationId | | | dentifier | | | | | | | of an | | | | | | | app | | | | | | | lication. | | +-----------+-----------+---+-----------+-----------+-----------+ | pfds | array(Pf | C | 1..N | PFDs for | | | | dContent) | | | the | | | | | | | ap | | | | | | | plication | | | | | | | id | | | | | | | entifier. | | +-----------+-----------+---+-----------+-----------+-----------+ | ca | DateTime | O | 0..1 | Caching | | | chingTime | | | | time for | | | | | | | an | | | | | | | ap | | | | | | | plication | | | | | | | id | | | | | | | entifier. | | +-----------+-----------+---+-----------+-----------+-----------+ | cac | Du | O | 0..1 | Caching | Cac | | hingTimer | rationSec | | | timer for | hingTimer | | | | | | an | | | | | | | ap | | | | | | | plication | | | | | | | identifer | | | | | | | expressed | | | | | | | as | | | | | | | duration | | | | | | | with unit | | | | | | | of | | | | | | | second. | | +-----------+-----------+---+-----------+-----------+-----------+ | pfd | DateTime | O | 0..1 | The value | Pa | | Timestamp | | | | r | rtialPull | | | | | | epresents | | | | | | | the UTC | | | | | | | time set | | | | | | | for the | | | | | | | PFD(s) of | | | | | | | the | | | | | | | ap | | | | | | | plication | | | | | | | i | | | | | | | dentifier | | | | | | | pro | | | | | | | visioning | | | | | | | by the | | | | | | | PFDF. | | +-----------+-----------+---+-----------+-----------+-----------+ | pa | boolean | O | 0..1 | I | Pa | | rtialFlag | | | | ndication | rtialPull | | | | | | of | | | | | | | partial | | | | | | | update of | | | | | | | PFDs for | | | | | | | an | | | | | | | existing | | | | | | | ap | | | | | | | plication | | | | | | | i | | | | | | | dentifier | | | | | | | if it is | | | | | | | included | | | | | | | and set | | | | | | | to true. | | | | | | | The | | | | | | | default | | | | | | | value | | | | | | | \"false\" | | | | | | | applies, | | | | | | | if the | | | | | | | attribute | | | | | | | is not | | | | | | | present. | | +-----------+-----------+---+-----------+-----------+-----------+ | supporte | Supporte | C | 0..1 | Used to | | | dFeatures | dFeatures | | | negotiate | | | | | | | the | | | | | | | appl | | | | | | | icability | | | | | | | of the | | | | | | | optional | | | | | | | features. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | present | | | | | | | in in the | | | | | | | HTTP GET | | | | | | | response | | | | | | | if the | | | | | | | \"su | | | | | | | pported-f | | | | | | | eatures\" | | | | | | | attribute | | | | | | | query | | | | | | | parameter | | | | | | | is | | | | | | | included | | | | | | | in the | | | | | | | HTTP GET | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: The | | | | | | | \"pfds\" | | | | | | | attribute | | | | | | | shall be | | | | | | | included | | | | | | | if the | | | | | | | \"Part | | | | | | | ialPull\" | | | | | | | feature | | | | | | | is not | | | | | | | s | | | | | | | upported. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
#### 5.6.2.3 Type: PfdSubscription
Table 5.6.2.3-1: Definition of type PfdSubscription
* * *
Attribute name Data type P Cardinality Description Applicability
applicationIds array(ApplicationId) O 1..N Identifiers of applications with
PFDs change.  
notifyUri Uri M 1 Identifies the recipient of notifications sent by PFDF for
this subscription.  
supportedFeatures SupportedFeatures M 1 List of supported features used as
described in clause 5.8.
* * *
#### 5.6.2.4 Type: PfdChangeNotification
Table 5.6.2.4-1: Definition of type PfdChangeNotification
* * *
Attribute name Data type P Cardinality Description Applicability applicationId
ApplicationId M 1 Identifier of an application.  
removalFlag boolean O 0..1 Indication of removal of PFDs for an existing
application identifier.  
partialFlag boolean O 0..1 Indication of partial update of PFDs for an
existing application identifier if this operation is supported according to
feature negotiation. PartialUpdate pfds array(PfdContent) O 1..N PFD
creation/update for the application identifier as specified in clause 6.3.3.5
of 3GPP TS 29.251 [12].
* * *
#### 5.6.2.5 Type: PfdContent
Table 5.6.2.5-1: Definition of type PfdContent
* * *
Attribute name Data type P Cardinality Description Applicability pfdId string
C 0..1 Identifies a PDF of an application identifier. If PartialUpdate or
PartialPull feature is supported, this attribute shall be provided by the
PFDF.  
flowDescriptions array(string) O 1..N Represents a 3-tuple with protocol,
server ip and server port for UL/DL application traffic. The content of the
string has the same encoding as the IPFilterRule AVP value as defined in IETF
RFC 6733 [18]. (NOTE)  
urls array(string) O 1..N Indicates a URL or a regular expression which is
used to match the significant parts of the URL. (NOTE)  
domainNames array(string) O 1..N Indicates an FQDN or a regular expression as
a domain name matching criteria. (NOTE)  
dnProtocol DomainNameProtocol C 0..1 Indicates the additional protocol and
protocol field for domain names to be matched, it may only be provided when
domainNames attribute is present. DomainNameProtocol NOTE: If a PFD contains
multiple filter types, the PFD is only matched when every filter type
contained in the PFD has a matching value.
* * *
#### 5.6.2.6 Type: PfdChangeReport
Table 5.6.2.6-1: PfdChangeReport
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | pfdError | Probl | M | 1 | More | | | | emDetails | | | in | | | | | | | formation | | | | | | | on the | | | | | | | error | | | | | | | shall be | | | | | | | provided | | | | | | | in the | | | | | | | \"cause\" | | | | | | | attribute | | | | | | | of the | | | | | | | \"Problem | | | | | | | Details\" | | | | | | | s | | | | | | | tructure. | | | | | | | | | | | | | | The | | | | | | | \"cause\" | | | | | | | attribute | | | | | | | in the | | | | | | | Probl | | | | | | | emDetails | | | | | | | shall be | | | | | | | set to | | | | | | | one of | | | | | | | following | | | | | | | ap | | | | | | | plication | | | | | | | errors | | | | | | | (see | | | | | | | table | | | | | | | 5.2.7.1-1 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 29.50 | | | | | | | 0 [5]): | | | | | | | | | | | | | | - | | | | | | | SYSTEM | | | | | | | _FAILURE | | | | | | | | | | | | | | - | | | | | | | INSUF | | | | | | | FICIENT_ | | | | | | | RESOURCES | | | | | | | | | | | | | | - | | | | | | | UNSPEC | | | | | | | IFIED_NF | | | | | | | _FAILURE | | +-----------+-----------+---+-----------+-----------+-----------+ | appl | ar | M | 1..N | Indicates | | | icationId | ray(Appli | | | the | | | | cationId) | | | ap | | | | | | | plication | | | | | | | iden | | | | | | | tifier(s) | | | | | | | which | | | | | | | PFD(s) | | | | | | | are | | | | | | | failed to | | | | | | | be added | | | | | | | or | | | | | | | modified. | | +-----------+-----------+---+-----------+-----------+-----------+
#### 5.6.2.7 Type: NotificationPush
Table 5.6.2.7-1: Definition of type NotificationPush
* * *
Attribute name Data type P Cardinality Description Applicability appIds
array(ApplicationId) M 1..N Identifiers of one or more applications.  
allowedDelay DurationSec O 0..1 Indicates the time limit that the NF service
consumer shall retrieve the PFD(s).  
pfdOp PfdOperation O 0..1 Indication the operation of the PFDs.
* * *
#### 5.6.2.8 Type: ApplicationForPfdRequest
Table 5.6.2.8-1: Definition of ApplicationForPfdRequest
* * *
Attribute name Data type P Cardinality Description Applicability applicationId
ApplicationId M 1 Identifier of an application.  
pfdTimestamp DateTime O 1 The value represents the UTC time set for the PFD(s)
of the application identifier provisioning by the PFDF.
* * *
### 5.6.3 Simple data types and enumerations
#### 5.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
#### 5.6.3.2 Simple data types
The simple data types defined in table 5.6.3.2-1 shall be supported.
Table 5.6.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
#### 5.6.3.3 Enumeration: PfdOperation
Table 5.6.3.3-1: Enumeration PfdOperation
* * *
Enumeration value Description Applicability RETRIEVE Indicates to retrieve the
PFD(s) for the application identifier(s). The NF service consumer determines
which pull procedure can be applied to retrieve the PFD(s).  
FULLPULL Indicates to retrieve the PFD(s) for the application identifier(s) by
the full pull procedure.  
PARTIALPULL Indicates to retrieve the PFD(s) for the application identifier(s)
by the partial pull procedure. The NF consumer may decide to use full pull
procedure instead if needed.  
REMOVE Indicates to remove the PFD(s) for the application identifier(s).
* * *
## 5.7 Error handling
### 5.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS
29.500 [5].
For the Nnef_PFDmanagement API, HTTP error responses shall be supported as
specified in clause 4.8 of 3GPP TS 29.501 [6].
Protocol errors and application errors specified in table 5.2.7.2-1 of 3GPP TS
29.500 [5] shall be supported for an HTTP method if the corresponding HTTP
status codes are specified as mandatory for that HTTP method in table
5.2.7.1-1 of 3GPP TS 29.500 [5].
In addition, the requirements in the following clauses shall apply.
### 5.7.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the Nnef_PFDmanagement API.
### 5.7.3 Application Errors
The application errors defined for the Nnef_PFDmanagement service are listed
in table 5.7.3-1.
Table 5.7.3-1: Application errors
* * *
Application Error HTTP status code Description SYSTEM_FAILURE 500 Internal
Server Error Something functions wrongly in PFD provisioning or the PFD
provisioning does not function at all. (NOTE) INSUFFICIENT_RESOURCE 500
Internal Server Error There is limitation for resource storage. (NOTE)
UNSPECIFIED_NF_FAILURE 500 Internal Server Error Unspecified reason. (NOTE)
NOTE: This application error is included in the responses to the POST request
of PFD change notification/Notification PUSH.
* * *
## 5.8 Feature negotiation
The optional features in table 5.8-1 are defined for the Nnef_PFDmanagement
API. They shall be negotiated using the extensibility mechanism defined in
clause 6.6 of 3GPP TS 29.500 [5].
Table 5.8-1: Supported Features
* * *
Feature number Feature Name Description 1 PartialUpdate The PFDF can use this
feature for partial update of PFDs. 2 DomainNameProtocol This feature supports
the additional protocol matching condition for the domain name in PFD data. 3
PfdChgSubsUpdate The NF service consumer can use this feature for updating the
PFD change subscription. 4 ES3XX Extended Support for 3xx redirections. This
feature indicates the support of redirection for any service operation,
according to Stateless NF procedures as specified in clauses 6.5.3.2 and
6.5.3.3 of 3GPP TS 29.500 [5] and according to HTTP redirection principles for
indirect communication, as specified in clause 6.10.9 of 3GPP TS 29.500 [5]. 5
PartialPull The NF service consumer can use this feature to retrieve the PFDs
by the partial update. 6 NotificationPush The PFDF can use this feature to
notify the NF service consumer to retrieve the PFDs. 7 CachingTimer The PFDF
and the NF service consumer can use this feature to support caching timer with
unit of duration second.
* * *
## 5.9 Security
As indicated in 3GPP TS 33.501 [14] and 3GPP TS 29.500 [5], the access to the
Nnef_PFDmanagement API may be authorized by means of the OAuth2 protocol (see
IETF RFC 6749 [15]), based on local configuration, using the \"Client
Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [13])
plays the role of the authorization server.
If OAuth2 is used, an NF service consumer, prior to consuming services offered
by the Nnef_PFDmanagement API, shall obtain a \"token\" from the authorization
server, by invoking the Access Token Request service, as described in 3GPP TS
29.510 [13], clause 5.4.2.2.
NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF service consumer used for
discovering the Nnef_PFDmanagement service.
The Nnef_PFDmanagement API defines a single scope \"nnef-pfdmanagement\" for
OAuth2 authorization (as specified in 3GPP TS 33.501 [14]) for the entire
service, and it does not define any additional scopes at resource or operation
level.
###### ## Annex A (normative): OpenAPI specification
# A.1 General
The present Annex contains an OpenAPI [9] specification of HTTP messages and
content bodies used by the Nnef_PFDmanagement API.
This Annex shall take precedence when being discrepant to other parts of the
specification with respect to the encoding of information elements and methods
within the API.
NOTE: The semantics and procedures, as well as conditions, e.g. for the
applicability and allowed combinations of attributes or values, not expressed
in the OpenAPI definitions but defined in other parts of the specification
also apply.
Informative copies of the OpenAPI specification file contained in this 3GPP
Technical Specification are available on a Git-based repository that uses the
GitLab software version control system (see clause 5B of the 3GPP TR 21.900
[17] and clause 5.3.1 of the 3GPP TS 29.501 [6] for further information).:
# A.2 Nnef_PFDmanagement API
openapi: 3.0.0
info:
title: Nnef_PFDmanagement Service API
version: 1.3.0-alpha.1
description: \|
Packet Flow Description Management Service.
© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
#
externalDocs:
description: 3GPP TS 29.551 v18.0.0, 5G System; Packet Flow Description
Management Service
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.551/\'
#
servers:
\- url: \'{apiRoot}/nnef-pfdmanagement/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501
security:
\- {}
\- oAuth2ClientCredentials:
\- nnef-pfdmanagement
paths:
/applications:
get:
summary: Retrieve PFDs for all applications or for one or multiple
applications with query parameter.
tags:
\- PFD of applications
operationId: Nnef_PFDmanagement_AllFetch
parameters:
\- name: application-ids
description: The required application identifier(s) for the returned PFDs.
in: query
required: true
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ApplicationId\'
minItems: 1
\- name: supported-features
in: query
description: To filter irrelevant responses related to unsupported features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
responses:
\'200\':
description: >
The PFDs for one or more application identifier(s) in the request URI are
returned.
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/PfdDataForApp\'
minItems: 0
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'414\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/414\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/applications/partialpull:
post:
summary: retrieve the PFD(s) by partial update
operationId: Nnef_PFDmanagement_AppFetchPartialUpdate
tags:
\- PFD of applications by partial update
requestBody:
required: true
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/ApplicationForPfdRequest\'
minItems: 1
responses:
\'200\':
description: OK. Changed PFD(s) is returned
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/PfdDataForApp\'
minItems: 1
\'204\':
description: The PFD(s) is not changed
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/applications/{appId}:
get:
summary: Retrieve the PFD for an application.
tags:
\- Individual application PFD
operationId: Nnef_PFDmanagement_IndAppFetch
parameters:
\- name: appId
description: The required application identifier(s) for the returned PFDs.
in: path
required: true
schema:
type: string
\- name: supported-features
in: query
description: To filter irrelevant responses related to unsupported features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
responses:
\'200\':
description: A representation of PFDs for an application in the request URI is
returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/PfdDataForApp\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'414\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/414\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/subscriptions:
post:
summary: Subscribe the notification of PFD changes.
tags:
\- PFD subscriptions
operationId: Nnef_PFDmanagement_CreateSubscr
requestBody:
description: a PfdSubscription resource to be created.
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/PfdSubscription\'
callbacks:
PfdChangeNotification:
\'{request.body#/notifyUri}\':
post:
summary: Notification of PFD change.
tags:
\- PfdChangeNotification data
operationId: Nnef_PFDmanagement_Notify
requestBody:
required: true
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/PfdChangeNotification\'
minItems: 1
responses:
\'200\':
description: >
The PFD operation in the notification is performed and the
PfdChangeReport indicates failure reason.
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/PfdChangeReport\'
minItems: 1
\'204\':
description: The PFD operation in the notification is performed successfully.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
NotificationPush:
\'{request.body#/notifyUri}/notifypush\':
post:
summary: Notification Push.
tags:
\- NotificationPush data
operationId: Nnef_PFDmanagement_PushNotify
requestBody:
required: true
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/NotificationPush\'
minItems: 1
responses:
\'204\':
description: Notificaiton PUSH is accepted.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
responses:
\'201\':
description: >
The creation of a PfdSubscription resource is confirmed and a representation
of
that resource is returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/PfdSubscription\'
headers:
Location:
description: >
Contains the URI of the newly created resource, according to the structure
{apiRoot}/nnef-pfdmanagement/v1/subscriptions/{subscriptionId}
required: true
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/subscriptions/{subscriptionId}:
put:
summary: Updates/replaces an existing subscription resource
tags:
\- Individual PFD subscription
operationId: Nnef_PFDmanagement_ModifySubscr
parameters:
\- name: subscriptionId
description: Identify the subscription.
in: path
required: true
schema:
type: string
requestBody:
description: Parameters to update/replace the existing subscription
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/PfdSubscription\'
responses:
\'200\':
description: OK (Successful update of the subscription)
content:
application/json:
schema:
\$ref: \'#/components/schemas/PfdSubscription\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
delete:
summary: Delete a subscription of PFD change notification.
tags:
\- Individual PFD subscription
operationId: Nnef_PFDmanagement_Unsubscribe
parameters:
\- name: subscriptionId
description: Identify the subscription.
in: path
required: true
schema:
type: string
responses:
\'204\':
description: >
The PfdSubscription resource matching the subscriptionId was deleted
successfully.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes:
nnef-pfdmanagement: Access to the Nnef_PFDmanagement API
schemas:
#
# STRUCTURED DATA TYPES
#
PfdContent:
description: Represents the content of a PFD for an application identifier.
type: object
properties:
pfdId:
type: string
description: Identifies a PDF of an application identifier.
flowDescriptions:
type: array
items:
type: string
minItems: 1
description: >
Represents a 3-tuple with protocol, server ip and server port for UL/DL
application traffic.
urls:
type: array
items:
type: string
minItems: 1
description: >
Indicates a URL or a regular expression which is used to match the significant
parts
of the URL.
domainNames:
type: array
items:
type: string
minItems: 1
description: Indicates an FQDN or a regular expression as a domain name
matching criteria.
dnProtocol:
\$ref: \'TS29122_PfdManagement.yaml#/components/schemas/DomainNameProtocol\'
PfdDataForApp:
description: Represents the PFDs for an application identifier.
type: object
properties:
applicationId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ApplicationId\'
pfds:
type: array
items:
\$ref: \'#/components/schemas/PfdContent\'
minItems: 1
cachingTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
cachingTimer:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
pfdTimestamp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
partialFlag:
type: boolean
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- applicationId
PfdSubscription:
description: Represents a PFD subscription.
type: object
properties:
applicationIds:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ApplicationId\'
minItems: 1
notifyUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- notifyUri
\- supportedFeatures
PfdChangeNotification:
description: Represents information related to a notification of PFD change.
type: object
properties:
applicationId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ApplicationId\'
removalFlag:
type: boolean
default: false
partialFlag:
type: boolean
default: false
pfds:
type: array
items:
\$ref: \'#/components/schemas/PfdContent\'
minItems: 1
required:
\- applicationId
NotificationPush:
description: >
Represents the information to be used by the NF service consumer to retrieve
the
PFDs and/or remove the PFDs of the applicable application identifier(s).
type: object
properties:
appIds:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ApplicationId\'
minItems: 1
allowedDelay:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
pfdOp:
\$ref: \'#/components/schemas/PfdOperation\'
required:
\- appIds
PfdChangeReport:
description: Represents an error report on PFD change.
type: object
properties:
pfdError:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
applicationId:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ApplicationId\'
minItems: 1
required:
\- pfdError
\- applicationId
ApplicationForPfdRequest:
description: Contains the application identifier(s) for the PFD(s) request.
type: object
properties:
applicationId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ApplicationId\'
pfdTimestamp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
required:
\- applicationId
#
# ENUMERATIONS
#
PfdOperation:
description: Indicates the operation to be applied on PFD(s).
anyOf:
\- type: string
enum:
\- RETRIEVE
\- FULLPULL
\- PARTIALPULL
\- REMOVE
\- type: string
description: >
This string provides forward-compatibility with future extensions to the
enumeration
and is not used to encode content defined in the present version of this API.
#