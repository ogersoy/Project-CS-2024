# Foreword
This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
In the present document, modal verbs have the following meanings:
**shall** indicates a mandatory requirement to do something
**shall not** indicates an interdiction (prohibition) to do something
The constructions \"shall\" and \"shall not\" are confined to the context of
normative provisions, and do not appear in Technical Reports.
The constructions \"must\" and \"must not\" are not used as substitutes for
\"shall\" and \"shall not\". Their use is avoided insofar as possible, and
they are not used in a normative context except in a direct citation from an
external, referenced, non-3GPP document, or so as to maintain continuity of
style when extending or modifying the provisions of such a referenced
document.
**should** indicates a recommendation to do something
**should not** indicates a recommendation not to do something
**may** indicates permission to do something
**need not** indicates permission not to do something
The construction \"may not\" is ambiguous and is not used in normative
elements. The unambiguous constructions \"might not\" or \"shall not\" are
used instead, depending upon the meaning intended.
**can** indicates that something is possible
**cannot** indicates that something is impossible
The constructions \"can\" and \"cannot\" are not substitutes for \"may\" and
\"need not\".
**will** indicates that something is certain or expected to happen as a result
of action taken by an agency the behaviour of which is outside the scope of
the present document
**will not** indicates that something is certain or expected not to happen as
a result of action taken by an agency the behaviour of which is outside the
scope of the present document
**might** indicates a likelihood that something will happen as a result of
action taken by some agency the behaviour of which is outside the scope of the
present document
**might not** indicates a likelihood that something will not happen as a
result of action taken by some agency the behaviour of which is outside the
scope of the present document
In addition:
**is** (or any other verb in the indicative mood) indicates a statement of
fact
**is not** (or any other negative verb in the indicative mood) indicates a
statement of fact
The constructions \"is\" and \"is not\" do not indicate requirements.
# 1 Scope
The present document specifies the stage 3 protocol and data model for the
Namf Service Based Interface. It provides stage 3 protocol definitions and
message flows, and specifies the API for each service offered by the AMF.
The 5G System stage 2 architecture and procedures are specified in 3GPP TS
23.501 [2], 3GPP TS 23.502 [3] and 3GPP TS 23.247 [55].
The Technical Realization of the Service Based Architecture and the Principles
and Guidelines for Services Definition are specified in 3GPP TS 29.500 [4] and
3GPP TS 29.501 [5].
# 2 References
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".
[3] 3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".
[4] 3GPP TS 29.500: \"5G System; Technical Realization of Service Based
Architecture; Stage 3\".
[5] 3GPP TS 29.501: \"5G System; Principles and Guidelines for Services
Definition; Stage 3\".
[6] 3GPP TS 29.571: \"5G System; Common Data Types for Service Based
Interfaces Stage 3\".
[7] 3GPP TS 23.503: \"Policy and Charging Control Framework for the 5G System;
Stage 2\".
[8] IETF RFC 8259: \"The JavaScript Object Notation (JSON) Data Interchange
Format\".
[9] IETF RFC 2387: \"The MIME Multipart/Related Content-type\".
[10] IETF RFC 2045: \"Multipurpose Internet Mail Extensions (MIME) Part One:
Format of Internet Message Bodies\".
[11] 3GPP TS 24.501: \"Non-Access-Stratum (NAS) Protocol for 5G System (5GS);
Stage 3\".
[12] 3GPP TS 38.413: \"NG Radio Access Network (NG-RAN); NG Application
Protocol (NGAP)\".
[13] 3GPP TS 36.355: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
LTE Positioning Protocol (LPP)\".
[14] IETF RFC 6902: \"JavaScript Object Notation (JSON) Patch\".
[15] 3GPP TS 24.007: \"Mobile radio interface signalling layer 3; General
Aspects\".
[16] 3GPP TS 29.502: \"5G System, Session Management Services; Stage 3\".
[17] 3GPP TS 38.455: \"NR Positioning Protocol A (NRPPa)\".
[18] 3GPP TS 29.531: \"Network Slice Selection Services; Stage 3\".
[19] IETF RFC 7540: \"Hypertext Transfer Protocol Version 2 (HTTP/2)\".
[20] 3GPP TS 23.041: \"Technical realization of Cell Broadcast Service
(CBS)\".
[21] Void.
[22] 3GPP TS 24.008: \"Mobile radio interface Layer 3 specification; Core
network protocols; Stage 3\".
[23] OpenAPI Initiative, \"OpenAPI Specification Version 3.0.0\".
[24] 3GPP TS 36.413: \"Evolved Universal Terrestrial Radio Access Network
(E-UTRAN); S1 Application Protocol (S1AP)\".
[25] 3GPP TS 29.572: \"5G System, Location Management Services; Stage 3\".
[26] Void.
[27] 3GPP TS 33.501: \"Security architecture and procedures for 5G system\".
[28] IETF RFC 6749: \"The OAuth 2.0 Authorization Framework\".
[29] 3GPP TS 29.510: \"Network Function Repository Services; Stage 3\".
[30] 3GPP TS 32.422: \"Telecommunication management; Subscriber and equipment
trace; Trace control and configuration management\".
[31] Void.
[32] 3GPP TS 29.507: \"5G System; Access and Mobility Policy Control Service;
Stage 3\".
[33] 3GPP TS 23.527: \"5G System; Restoration Procedures\".
[34] 3GPP TS 29.525: \"5G System; UE Policy Control Service; Stage 3\".
[35] 3GPP TS 29.503: \"5G System; Unified Data Management Services; Stage 3\".
[36] IETF RFC 7807: \"Problem Details for HTTP APIs\".
[37] 3GPP TR 21.900: \"Technical Specification Group working methods\".
[38] 3GPP TS 23.288: \"Architecture enhancements for 5G System (5GS) to
support network data analytics services\".
[39] 3GPP TS 23.216: \"Single Radio Voice Call Continuity (SRVCC); Stage 2\".
[40] IETF RFC 6901: \"JavaScript Object Notation (JSON) Pointer\".
[41] 3GPP TS 29.274: \"3GPP Evolved Packet System (EPS); Evolved General
Packet Radio Service (GPRS) Tunnelling Protocol for Control plane (GTPv2-C);
Stage 3\".
[42] 3GPP TS 23.273: \"5G System (5GS) Location Services (LCS); Stage 2\".
[43] 3GPP TS 24.080: \"Mobile radio interface layer 3 supplementary services
specification; Formats and coding\".
[44] 3GPP TS 23.040: \"Technical realization of the Short Message Service
(SMS)\".
[45] 3GPP TS 24.011: \"Point-to-Point (PP) Short Message Service (SMS) support
on mobile radio interface\".
[46] 3GPP TS 29.515: \"5G System; Gateway Mobile Location Services Stage 3\".
[47] 3GPP TS 23.287: \"Architecture enhancements for 5G System (5GS) to
support Vehicle-to-Everything (V2X) services\".
[48] 3GPP TS 23.316: \"Wireless and wireline convergence access support for
the 5G System (5GS)\".
[49] 3GPP TS 33.401: \"3GPP System Architecture Evolution (SAE); Security
architecture\".
[50] 3GPP TS 29.010: \"Information element mapping between Mobile Station -
Base Station System (MS - BSS) and Base Station System - Mobile-services
Switching Centre (BSS - MSC); Signalling Procedures and the Mobile Application
Part (MAP)\".
[51] 3GPP TS 23.304: \"Proximity based Services (ProSe) in the 5G System
(5GS)\".
[52] 3GPP TS 29.520: \"5G System; Network Data Analytics Services; Stage 3\".
[53] 3GPP TS 24.587: \"Vehicle-to-Everything (V2X) services in 5G System
(5GS); Stage 3\".
[54] 3GPP TS 24.554: \" Proximity-services (ProSe) in 5G System (5GS) protocol
aspects; Stage 3\".
[55] 3GPP TS 23.247: \"Architectural enhancements for 5G multicast-broadcast
services\".
[56] 3GPP TS 23.256: \"Support of Uncrewed Aerial Systems (UAS) connectivity,
identification and tracking; Stage 2\".
[57] 3GPP TS 33.256: \"Security aspects of Uncrewed Aerial Systems (UAS)\".
[58] 3GPP TS 23.548: \"5G System Enhancements for Edge Computing; Stage 2\".
[59] 3GPP TS 23.586: \"Architectural Enhancements to support Ranging based
services and Sidelink Positioning\".
[60] 3GPP TS 24.577: \"Aircraft-to-Everything (A2X) services in 5G system
(5GS); Protocol aspects; Stage 3\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
TR 21.905 [1] and the following apply. A term defined in the present document
takes precedence over the definition of the same term, if any, in TR 21.905
[1].
**example:** text used to clarify abstract rules by applying them literally.
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1] and the following apply. An abbreviation defined in the present document
takes precedence over the definition of the same abbreviation, if any, in TR
21.905 [1].
5GC 5G Core Network
5GS 5G System
5G-AN 5G Access Network
5G-GUTI 5G Globally Unique Temporary Identifier
5QI 5G QoS Identifier
AMF Access and Mobility Management Function
ASTI Access Stratum TIme
DAPS Dual Active Protocol Stacks
DCCF Data Collection Coordination Function
EBI EPS Bearer Identity
GAD Universal Geographical Area Description
GPSI Generic Public Subscription Identifier
GUAMI Globally Unique AMF Identifier
JSON JavaScript Object Notation
LADN Local Area Data Network
LDR Location Deferred Request
LIR Location Immediate Request
LMF Location Management Function
LPHAP Low Power and High Accuracy Positioning
MA Multi-Access
**MBS** Multicast/Broadcast Service
MB-SMF Multicast/Broadcast Session Management Function
MM Mobility Management
N3IWF Non-3GPP InterWorking Function
NEF Network Exposure Function
NR New Radio
NRF Network Repository Function
NRPPa NR Positioning Protocol A
NSI ID Network Slice Instance Identifier
NSSAI Network Slice Selection Assistance Information
NSSAA Network Slice-Specific Authentication and Authorization
NWDAF Network Data Analytics Function
PCF Policy Control Function
PEI Permanent Equipment Identifier
PRU Positioning Reference Unit
RAT Radio Access Type
RFSP RAT/Frequency Selection Priority
SARI Service Area Restriction Information
SBI Service Based Interface
SM Session Management
SMF Session Management Function
SMSF Short Message Service Function
S-NSSAI Single Network Slice Selection Assistance Information
SUCI Subscription Concealed Identifier
SUPI Subscription Permanent Identifier
TA Tracking Area
TAI Tracking Area Identity
TNAP Trusted Non-3GPP Access Point
TSCTSF Time Sensitive Communication and Time Synchronization Function
TWAP Trusted WLAN Access Point
UDM Unified Data Management
UDSF Unstructured Data Storage Function
# 4 Overview
## 4.1 Introduction
Within the 5GC, the AMF offers services to the SMF, other AMF, PCF, SMSF, LMF,
GMLC, CBCF, PWS-IWF, NWDAF, DCCF, NEF, TSCTSF and MB-SMF via the Namf service
based interface (see 3GPP TS 23.501 [2], 3GPP TS 23.502 [3], 3GPP TS 23.041
[20], 3GPP TS 23.288 [38] and 3GPP TS 23.247 [55]).
Figure 4.1-1 provides the reference model (in service based interface
representation and in reference point representation), with focus on the AMF
and the scope of the present specification.
Figure 4.1-1: Reference model -- AMF
The functionalities supported by the AMF are listed in clause 6.2.1 of 3GPP TS
23.501 [2].
# 5 Services offered by the AMF
## 5.1 Introduction
The table 5.1-1 shows the AMF Services and AMF Service Operations:
Table 5.1-1 List of AMF Services
+----------------+----------------+----------------+----------------+ | Service Name | Service | Operation | Example | | | Operations | | Consumer(s) | | | | Semantics | | +================+================+================+================+ | Namf\ | UEC | Re | Peer AMF | | _Communication | ontextTransfer | quest/Response | | +----------------+----------------+----------------+----------------+ | | Registrati | Re | Peer AMF | | | onStatusUpdate | quest/Response | | +----------------+----------------+----------------+----------------+ | | C | Re | Peer AMF | | | reateUEContext | quest/Response | | +----------------+----------------+----------------+----------------+ | | Re | Re | Peer AMF | | | leaseUEContext | quest/Response | | +----------------+----------------+----------------+----------------+ | | N | Su | Peer AMF, LMF, | | | 1MessageNotify | bscribe/Notify | PCF | +----------------+----------------+----------------+----------------+ | | N2InfoNotify | | LMF, AMF | +----------------+----------------+----------------+----------------+ | | N1N2Me | | PCF | | | ssageSubscribe | | | +----------------+----------------+----------------+----------------+ | | N1N2Mess | | PCF | | | ageUnSubscribe | | | +----------------+----------------+----------------+----------------+ | | N1N2M | Re | Peer AMF, SMF, | | | essageTransfer | quest/Response | SMSF, LMF, PCF | +----------------+----------------+----------------+----------------+ | | N1N | Su | SMF, SMSF, | | | 2TransferFailu | bscribe/Notify | LMF, PCF | | | reNotification | | | +----------------+----------------+----------------+----------------+ | | NonUeN2M | Re | Peer AMF, LMF, | | | essageTransfer | quest/Response | CBCF, PWS-IWF, | | | | | TSCTSF | +----------------+----------------+----------------+----------------+ | | NonUeN | Su | CBCF, PWS-IWF, | | | 2InfoSubscribe | bscribe/Notify | TSCTSF | +----------------+----------------+----------------+----------------+ | | NonUeN2I | | CBCF, PWS-IWF, | | | nfoUnSubscribe | | TSCTSF | +----------------+----------------+----------------+----------------+ | | Non | | LMF, CBCF, | | | UeN2InfoNotify | | PWS-IWF, | | | | | TSCTSF | +----------------+----------------+----------------+----------------+ | | EBIAssignment | Re | SMF | | | | quest/Response | | +----------------+----------------+----------------+----------------+ | | AMFStatusC | Subscribe / | SMF, PCF, NEF, | | | hangeSubscribe | Notify | SMSF, UDM | +----------------+----------------+----------------+----------------+ | | AMFStatusCha | Subscribe / | SMF, PCF, NEF, | | | ngeUnSubscribe | Notify | SMSF, UDM | +----------------+----------------+----------------+----------------+ | | AMFStat | Subscribe / | SMF, PCF, NEF, | | | usChangeNotify | Notify | SMSF, UDM | +----------------+----------------+----------------+----------------+ | Namf\ | Subscribe (see | Su | NEF, SMF, UDM, | | _EventExposure | NOTE) | bscribe/Notify | NWDAF, LMF, | | | | | GMLC, DCCF, | | | | | TSCTSF | +----------------+----------------+----------------+----------------+ | | Unsubscribe | Su | NEF, SMF, UDM, | | | (see NOTE) | bscribe/Notify | NWDAF, LMF, | | | | | GMLC, | | | | | | | | | | DCCF, TSCTSF | +----------------+----------------+----------------+----------------+ | | Notify | Su | NEF, SMF, UDM, | | | | bscribe/Notify | NWDAF, LMF, | | | | | GMLC, | | | | | | | | | | DCCF, TSCTSF | +----------------+----------------+----------------+----------------+ | Namf_MT | Enable | Re | SMSF, SMF | | | UEReachability | quest/Response | | +----------------+----------------+----------------+----------------+ | | ProvideDomai | Re | UDM | | | nSelectionInfo | quest/Response | | +----------------+----------------+----------------+----------------+ | | EnableGro | Re | SMF | | | upReachability | quest/Response | | +----------------+----------------+----------------+----------------+ | | UEReachabi | Su | SMF | | | lityInfoNotify | bscribe/Notify | | +----------------+----------------+----------------+----------------+ | Namf_Location | ProvideP | Re | GMLC | | | ositioningInfo | quest/Response | | +----------------+----------------+----------------+----------------+ | | EventNotify | Subscribe / | GMLC | | | | Notify | | +----------------+----------------+----------------+----------------+ | | Provi | Re | UDM | | | deLocationInfo | quest/Response | | +----------------+----------------+----------------+----------------+ | | CancelLocation | Re | GMLC | | | | quest/Response | | +----------------+----------------+----------------+----------------+ | Namf | ContextCreate | Re | MB-SMF | | _MBSBroadcast | | quest/Response | | +----------------+----------------+----------------+----------------+ | | ContextUpdate | Re | MB-SMF | | | | quest/Response | | +----------------+----------------+----------------+----------------+ | | ContextRelease | Re | MB-SMF | | | | quest/Response | | +----------------+----------------+----------------+----------------+ | | Conte | Subscribe / | MB-SMF | | | xtStatusNotify | Notify | | +----------------+----------------+----------------+----------------+ | Namf_MB | N2M | Re | MB-SMF | | SCommunication | essageTransfer | quest/Response | | +----------------+----------------+----------------+----------------+ | NOTE: A | | | | | subscription | | | | | applies for | | | | | one UE, group | | | | | of UE(s) or | | | | | any UE. | | | | +----------------+----------------+----------------+----------------+
Table 5.1-2 summarizes the corresponding APIs defined for this specification.
Table 5.1-2: API Descriptions
Service Name Clause Description OpenAPI Specification File apiName **Annex**
* * *
Namf_Communication 6.1 AMF Communication Service
TS29518_Namf_Communication.yaml namf-comm A.2 Namf_EventExposure 6.2 AMF Event
Exposure Service TS29518_Namf_EventExposure.yaml namf-evts A.3 Namf_MT 6.3 AMF
Mobile Terminated Service TS29518_Namf_MT.yaml namf-mt A.4 Namf_Location 6.4
AMF Location Service TS29518_Namf_Location.yaml namf-loc A.5 Namf_MBSBroadcast
6.5 AMF MBS Broadcast Service TS29518_Namf_MBSBroadcast.yaml namf-mbs-bc A.6
Namf_MBSCommunication 6.6 AMF MBS Communication Service
TS29518_Namf_MBSCommunication.yaml namf-mbs-com A.7
## 5.2 Namf_Communication Service
### 5.2.1 Service Description
This service enables an NF to communicate with the UE through N1 NAS messages
or with the AN (both UE and non UE specific). The service operations defined
below allow the NF to communicate with the UE and the AN. The following are
the key functionalities of this NF service.
\- Provide service operations for transporting N1 messages to the UE;
\- Allow NFs to subscribe and unsubscribe for notifications of specific N1
messages from the UE;
\- Allow NFs to subscribe and unsubscribe for notifications about specific
information from AN;
\- Provide service operations for initiating N2 messages towards the AN;
\- Security Context Management; and
\- UE information management and transfer (including its security context).
### 5.2.2 Service Operations
#### 5.2.2.1 Introduction
The Namf_Communication service supports following service operations:
\- UEContextTransfer
\- RegistrationStatusUpdate
\- N1N2MessageTransfer (UE Specific)
\- N1N2TransferFailureNotification (UE Specific)
\- N1N2MessageSubscribe (UE Specific)
\- N1N2MessageUnsubscribe (UE Specific)
\- N1MessageNotify (UE Specific)
\- N2InfoNotify (UE Specific)
\- NonUeN2MessageTransfer
\- NonUeN2InfoSubscribe
\- NonUeN2InfoUnsubscribe
\- NonUeN2InfoNotify
\- EBIAssignment
\- CreateUEContext
\- ReleaseUEContext
\- RelocateUEContext
\- CancelRelocateUEContext
\- AMFStatusChangeSubscribe
\- AMFStatusChangeUnsubscribe
\- AMFStatusChangeNotify
#### 5.2.2.2 UE Context Operations
##### 5.2.2.2.1 UEContextTransfer
###### 5.2.2.2.1.1 General
The UEContextTransfer service operation is used during the following
procedure:
\- General Registration procedure (see 3GPP TS 23.502 [3], clause 4.2.2.2.2)
\- Registration with Onboarding SNPN (see 3GPP TS 23.502 [3], clause
4.2.2.2.4)
The UEContextTransfer service operation is invoked by a NF Service Consumer,
e.g. a target AMF, towards the AMF (acting as source AMF), when the target AMF
receives a Registration Request with the UE\'s 5G-GUTI included and the
serving AMF has changed since last registration, to retrieve the UE Context,
e.g. the UE\'s SUPI and MM Context, in the source AMF.
The NF Service Consumer (e.g. the target AMF) shall retrieve the UE Context by
invoking the \"transfer\" custom method on the URI of an \"Individual
ueContext\" resource identified by UE\'s 5G-GUTI, see clause 6.1.3.2.4. See
also Figure 5.2.2.2.1.1-1.
Figure 5.2.2.2.1.1-1 UE Context Transfer
1\. The NF Service Consumer, e.g. target AMF, shall send a HTTP POST request
to invoke \"transfer\" custom method on an \"Individual ueContext\" resource
URI. The payload of the request shall be an object of
\"UeContextTransferReqData\" data type.
If UE Context Transfer is triggered by UE initial registration, mobility
registration, disaster roaming initial registration or disaster roaming
mobility registration, the NF Service Consumer, e.g. target AMF, shall set the
reason attribute to \"INIT_REG\" or \"MOBI_REG\" and include the integrity
protected registration request message which triggers the UE context transfer
in the payload.
2a. On success:
\- if the reason attribute is \"INIT_REG\" and integrity check is successful,
the (source) AMF shall respond with the status code \"200 OK\". The payload of
the response shall be an object of \"UeContextTransferRspData\" data type,
containing:
case a) the representation of the requested UE Context as follows:
\- without PDU Session Contexts associated to the access type indicated in the
request by the NF Service Consumer (e.g. target AMF); and
\- with PDU Session Contexts associated to the other access type, if the UE is
registered for the other access type in the (source) AMF, unless the source
AMF determines based on the PLMN ID or SNPN ID of the (target) AMF that there
is no possibility for relocating the N2 interface for non-3GPP access to the
(target) AMF;
or
case b) the representation of the requested UE Context only containing the
\"supi\" attribute, if the UE is registered in a different access type in the
(source) AMF and the source AMF determines based on the PLMN ID of the
(target) AMF that there is no possibility for relocating the N2 interface to
the (target) AMF.
\- If the reason attribute is \"MOBI_REG\" and integrity check is successful,
the (source) AMF shall respond with the status code \"200 OK\". The payload of
the response shall be an object of \"UeContextTransferRspData\" data type,
containing:
a) the representation of the complete UE Context including available MM and
PDU Session Contexts. The source AMF shall transfer the complete UE context
including both access types if the UE is registered for both 3GPP and non-3GPP
accesses and if the target PLMN is the same as the source PLMN; or
b) the representation of the requested UE Context including the available MM
and PDU Session Contexts for the 3GPP access type, if the UE is registered for
both 3GPP and non-3GPP accesses in the (source) AMF and the source AMF
determines based on the PLMN ID or SNPN ID of the (target) AMF that there is
no possibility for relocating the N2 interface for non-3GPP access to the
(target) AMF.
NOTE: The source AMF can determine that it is not possible to relocate the N2
interface to the target AMF when both AMFs pertain to different PLMNs or
SNPNs.
The UE context shall contain trace control and configuration parameters, if
signalling based trace has been activated (see 3GPP TS 32.422 [30]).\ \ The NF
Service Consumer, e.g. target AMF, starts tracing according to the received
trace control and configuration parameters, if trace data is received in the
UE context indicating that signalling based trace has been activated. Once the
NF Service Consumer receives subscription data, trace requirements received
from the UDM supersedes the trace requirements received from the AMF.
The UE context shall contain analytics subscription parameters, if the
(source) AMF has created analytics subscription(s) towards NWDAF related to
the UE (see clause 5.2.2.2.2 of 3GPP TS 23.502 [3]). The NF Service Consumer,
e.g. target AMF, may take over the analytics subscription(s).
The UE context shall contain event subscriptions information in the following
cases:
a) Any NF Service Consumer has subscribed for UE specific event; and/or
b) Any NF Service Consumer has subscribed for UE group specific events to
which the UE belongs. In this case the event subscriptions provided in the UE
context shall contain the event details applicable to this specific UE in the
group (e.g maxReports in options IE).
The NF Service Consumer, e.g. target AMF, shall:
\- in case a) create event subscriptions for the UE specific events;
\- in case b) create event subscriptions for the group Id if there are no
existing event subscriptions for that group Id, subscription change
notification URI (subsChangeNotifyUri) and the subscription change
notification correlation Id (subsChangeNotifyCorrelationId). If there is
already an existing event subscription for the group Id, and for the given
subscription change notification URI (subsChangeNotifyUri) and subscription
change notification correlation Id (subsChangeNotifyCorrelationId), then an
event subscription shall not be created at the NF Service Consumer. The
individual UE specific event details (e.g maxReports in options IE) within
that group shall be taken into account.
\- for both the cases, for each created event subscription, allocate a new
subscription Id, if necessary (see clause 6.5.2 of 3GPP TS 29.500 [4]), and if
allocated, send the new subscription Id to the notification endpoint for
informing the subscription Id creation, along with the notification
correlation Id for the subscription Id change. If the UEContextTransfer
service operation is performed towards the old AMF as part of the EPS to 5GS
mobility registration procedure using N26 interface (see clause 4.11.1.3.3 of
3GPP TS 23.502 [3]), the target AMF may also initiate event subscription
synchronization procedure with UDM, as specified in clause 5.3.2.4.2, when
both the target AMF and the UDM support the \"ESSYNC\" feature.
NOTE: Subscription Id can be reused if the mobility is between AMFs of same
AMF Set.
If the UE context being transferred from the source AMF is the last UE context
that belongs to a UE group Id related subscription, then the source AMF shall
not delete the UE group Id related subscription until the expiry of that event
subscription (see clause 5.3.2.2.2).
The source AMF shall not transfer those PDU sessions which are not supported
by the target AMF, e.g. the MA-PDU sessions shall not be transferred if the
target AMF does not support ATSSS.
The UE context shall contain SNPN Onboarding indication, if the UE is
registered for onboarding in an SNPN as described in clause 4.2.2.2.4 of 3GPP
TS 23.502 [3]. The NF Service Consumer, i.e. target AMF, may start an
implementation specific timer to deregister the onboarding registered UE, i.e.
if the received UE context contains SNPN Onboarding indication.2b. On failure
or redirection, one of the HTTP status code listed in Table 6.1.3.2.4.4.2-2
shall be returned. For a 4xx/5xx response, the message body shall contain a
ProblemDetails structure with the \"cause\" attribute set to one of the
application errors listed in Table 6.1.3.2.4.4.2-2.
###### 5.2.2.2.1.2 Retrieve UE Context after successful UE authentication
When a successful UE authentication has been performed after a previous
integrity check failure, the NF service consumer (e.g. the target AMF) shall
retrieve the UE context by invoking \"transfer\" service operation on the URI
of the \"Individual ueContext\" resource identified by UE\'s SUPI. The same
requirements in clause 5.2.2.2.1.1 shall be applied with following
modifications:
1\. Same as step 1 of figure 5.2.2.2.1.1-1, with following differences:
\- The {ueContextId} in the URI shall be composed using UE\'s SUPI, and
\- The \"reason\" attribute in request body shall be set to
\"MOBI_REG_UE_VALIDATED\", and
\- The request body shall not include registration request message from UE.
2\. Same as step 2a of figure 5.2.2.2.1.1-1, with following differences:
\- The (source) AMF shall skip integrity check and shall respond with the
status code \"200 OK \"with the UE Context excluding SeafData and including
available PDU Session Contexts
##### 5.2.2.2.2 RegistrationStatusUpdate
###### 5.2.2.2.2.1 General
The RegistrationStatusUpdate service operation is used during the following
procedure:
\- General Registration procedure (see 3GPP TS 23.502 [3], clause 4.2.2.2.2)
\- Registration with AMF re-allocation procedure (see 3GPP TS 23.502 [3],
clause 4.2.2.2.3)
The RegistrationStatusUpdate service operation is invoked by a NF Service
Consumer, e.g. the target AMF, towards the NF Service Producer, i.e. the
source AMF, to update the status of UE registration at the target AMF, thereby
indicating the result of previous UE Context transfer for a given UE (see
clause 5.2.2.2.1.1).
The target AMF shall update the NF Service Producer (i.e. source AMF) with the
status of the UE registration at the target AMF due to a previous UE Context
transfer. The NF Service Consumer (e.g. target AMF) shall use the HTTP method
POST to invoke the \"transfer-update\" custom operation on the URI of an
\"Individual ueContext\" resource, see clause 6.1.3.2.4. See also Figure
5.2.2.2.2.1-1.
Figure 5.2.2.2.2.1-1 Registration Status Update
> 1\. The NF service consumer (e.g. target AMF), shall send a POST request to
> invoke the \"transfer-update\" custom operation on the URI of an
> \"Individual ueContext\" resource, to update the source AMF with the status
> of the UE registration at the target AMF. The UE\'s 5G-GUTI is included as
> the UE identity.\ \ The request payload shall include the transferStatus
> attribute set to \"TRANSFERRED\" if the UE context transfer was completed
> successfully (including the case where only the supi was transferred to the
> target AMF during the UE context transfer procedure) or to
> \"NOT_TRANSFERRED\" otherwise.
>
> If any network slice(s) become no longer available and there are PDU
> Session(s) associated with them, the target AMF shall include these PDU
> session(s) in the toReleaseSessionList attribute in the payload. If the
> continuity of the PDU Session(s) cannot be supported between networks (e.g.
> SNPN-SNPN mobility, inter-PLMN mobility where no HR agreement exists), the
> target AMF shall include these PDU session(s) with release cause in the
> toReleaseSessionInfo attribute in the payload.
>
> If the target AMF selects a new PCF for AM Policy and/or UE policy other
> than the one which was included in the UeContext by the old AMF, the target
> AMF shall set pcfReselectedInd to true.
NOTE: AMF selects the same PCF instance for AM policy and for UE policy, as
described in clause 6.3.7.1, 3GPP TS 23.501 [2].
> The NF service consumer shall include the smfChangeInfoList attribute
> including the UE\'s PDU Session ID(s) for which the I-SMF or V-SMF has been
> changed or removed, if any, with for each such PDU session, the related
> smfChangeIndication attribute set to \"CHANGED\" or \"REMOVED\", if the
> I-SMF or V-SMF is changed or removed respectively.
>
> If the target AMF receives analytics subscription parameters from the source
> AMF, and one or more analytics subscription(s) are not taken over by the
> target AMF, the target AMF shall include these analytics subscription(s) in
> the analyticsNotUsedList IE. The source AMF may unsubscribe the analytics
> subscriptions included in analyticsNotUsedList IE for the UE.
>
> Once the update is received, the source AMF shall:
\- remove the individual ueContext resource and release any PDU session(s) in
the toReleaseSessionList attribute, if the transferStatus attribute included
in the POST request body is set to \"TRANSFERRED\" and if the source AMF
transferred the complete UE Context including all MM contexts and PDU Session
Contexts. The source AMF may choose to start a timer to supervise the release
of the UE context resource and may keep the individual ueContext resource
until the timer expires. If the pcfReselectedInd is set to true, the source
AMF shall terminate the AM Policy Association and/or the UE Policy Association
that the source AMF has to the old PCF.
\- keep the UE context only including the MM context and PDU session(s)
associated to the non-3GPP access, if the transferStatus attribute included in
the POST request body is set to \" TRANSFERRED\" and if the source AMF did not
transfer the MM context and PDU Session Contexts for the non-3GPP access type;
the AMF shall release any PDU session(s) in the toReleaseSessionList
attribute. The source AMF may choose to start a timer and keep the MM context
and PDU session(s) associated to the 3GPP access until the timer expires.
\- keep the UE Context as if the context transfer procedure had not happened
if the transferStatus attribute included in the POST request body is set to
\"NOT_TRANSFERRED\".
2a. On Success: The source AMF shall respond with the status code \"200 OK\"
if the request is accepted. If the smfChangeInfoList attribute was received in
the request, the source AMF shall release the SM context at the I-SMF or V-SMF
only, for all the PDU sessions listed in the smfChangeInfoList attribute with
the smfChangeIndication attribute set to \"CHANGED\" or \"REMOVED\".
If some PDU sessions are not supported by the target AMF and thus not
transferred to the target AMF, the source AMF shall release these PDU sessions
after this step.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.1.3.2.4.5.2-2 shall be returned. For a 4xx/5xx response, the message body
shall contain a ProblemDetails structure with the \"cause\" attribute set to
one of the application errors listed in Table 6.1.3.2.4.5.2-2, where
applicable.
##### 5.2.2.2.3 CreateUEContext
###### 5.2.2.2.3.1 General
The CreateUEContext service operation is used during the following procedure:
\- Inter NG-RAN node N2 based handover (see 3GPP TS 23.502 [3], clause
4.9.1.3, and clause 4.23.7)
The CreateUEContext service operation is invoked by a NF Service Consumer,
e.g. a source AMF, towards the AMF (acting as target AMF), when the source AMF
_can\'t serve the UE and selects the target AMF during the handover procedure_
, to create the UE Context in the target AMF.
The NF Service Consumer (e.g. the source AMF) shall create the UE Context by
using the HTTP PUT method with the URI of the \"Individual UeContext\"
resource (See clause 6.1.3.2.3.1). See also Figure 5.2.2.2.3.1-1.
Figure 5.2.2.2.3.1-1 Create UE Context
1\. The NF Service Consumer, e.g. source AMF, shall send a PUT request, to
create the ueContext in the target AMF. The payload body of the PUT request
shall contain a UeContextCreateData structure, including a N2 Information
Notification callback URI.
The UE context shall contain trace control and configuration parameters, if
signalling based trace has been activated (see 3GPP TS 32.422 [30]).
The source AMF shall transfer the complete UE context including both access
types if the UE is registered for both 3GPP and non-3GPP accesses and if the
target PLMN is the same as the source PLMN.
The source AMF shall transfer only UE context for 3GPP access if the source
AMF determines there is no possibility for relocating the N2 interface for
non-3GPP access to the (target) AMF, e.g. when the target AMF is in another
PLMN.
For a UE supporting 5G-SRVCC, the NF Service Consumer (i.e. AMF) shall include
the Mobile Station Classmark 2, STN-SR, C-MSISDN and Supported Codec List in
the request, if available, as specified in 3GPP TS 23.502 [3].
The UE context shall contain analytics subscription parameters, if the
(source) AMF has created analytics subscription(s) towards NWDAF related to
the UE (see clause 5.2.2.2.11 of 3GPP TS 23.502 [3]). The NF service producer,
e.g. target AMF, may take over the analytics subscription(s).
The UE context shall contain SNPN Onboarding indication and the target AMF
shall support SNPN Onboarding, if the UE is registered for onboarding in an
SNPN as described in clause 4.2.2.2.4 of 3GPP TS 23.502 [3].
2a. On success, the target AMF shall respond with the status code \"201
Created\" if the request is accepted, together with a HTTP Location header to
provide the location of a newly created resource. The payload body of the PUT
response shall contain the representation of the created UE Context. If the
target AMF selects a new PCF for AM Policy other than the one which was
included in the UeContext by the old AMF, the target AMF shall set
pcfReselectedInd to true. If the pcfReselectedInd is set to true, the source
AMF shall terminate the AM Policy Association to the old PCF.
The target AMF starts tracing according to the received trace control and
configuration parameters, if trace data is received in the UE context
indicating that signalling based trace has been activated. Once the AMF
receives subscription data, trace requirements received from the UDM
supersedes the trace requirements received from the NF Service Consumer.
If the target AMF receives analytics subscription parameters from the source
AMF, and one or more analytics subscription(s) are not taken over by the
target AMF, the target AMF shall include these analytics subscription(s) in
the analyticsNotUsedList IE. The source AMF may unsubscribe the analytics
subscriptions included in analyticsNotUsedList IE for the UE.
The UE context shall contain event subscriptions information in the following
cases:
a) Any NF Service Consumer has subscribed for UE specific event; and/or
b) Any NF Service Consumer has subscribed for UE group specific events to
which the UE belongs. In this case the event subscriptions provided in the UE
context shall contain the event details applicable to this specific UE in the
group (e.g maxReports in options IE).
The target AMF shall:
\- in case a) create event subscriptions for the UE specific events;
\- in case b) create event subscriptions for the group Id if there are no
existing event subscriptions for that group Id, subscription change
notification URI (subsChangeNotifyUri) and the subscription change
notification correlation Id (subsChangeNotifyCorrelationId). If there is
already an existing event subscription for the group Id and for the given
subscription change notification URI (subsChangeNotifyUri) and subscription Id
change notification correlation Id (subsChangeNotifyCorrelationId), then an
event subscription shall not be created at the target AMF. The individual UE
specific event details (e.g maxReports in options IE) within that group shall
be taken into account.
\- for both the cases, for each created event subscription, allocate a new
subscription Id, if necessary (see clause 6.5.2 of 3GPP TS 29.500 [4]), and if
allocated send the new subscription Id to the notification endpoint for
informing the subscription Id creation, along with the notification
correlation Id for the subscription Id change.
NOTE: Subscription Id can be reused if the mobility is between AMFs of same
AMF Set.
If the UE context being transferred from the NF service consumer (e.g. source
AMF) is the last UE context that belongs to a UE group Id related
subscription, then the NF service consumer (e.g. source AMF) shall not delete
the UE group Id related subscription until the expiry of that event
subscription (see clause 5.3.2.2.2).
If the target AMF receives SNPN Onboarding indication from the source AMF, the
target AMF may start an implementation specific timer to deregister the
onboarding registered UE, i.e. if the received UE context contains SNPN
Onboarding indication.
The source AMF shall:release those PDU sessions not supported by the target
AMF and thus not transferred to the target AMF.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.1.3.2.3.1-3 shall be returned. For a 4xx/5xx response, the message body
shall contain a UeContextCreateError structure, including:
\- a ProblemDetails structure with the \"cause\" attribute set to one of the
application errors listed in Table 6.1.3.2.3.1-3. The cause in the error
attribute shall be set to HANDOVER_FAILURE, if all of the PDU sessions are
failed, e.g. no response from the SMF within a maximum wait timer;
\- NgAPCause, if available;
\- N2 information carrying the Target to Source Failure Transparent Container,
if this information has been received from the target NG-RAN and if the source
AMF supports the NPN feature.
###### 5.2.2.2.3.2 Create UE Context with AMF Relocation
During inter-PLMN N2 Handover, the initial AMF may relocate the UE context to
a target AMF (e.g. due to slices cannot be served by initial AMF). This clause
describes the procedure for this scenario.
The NF Service Consumer (e.g. the source AMF) shall create the UE Context by
using the HTTP PUT method with the URI of the \"Individual UeContext\"
resource (See clause 6.1.3.2.3.1). See also Figure 5.2.2.2.3.2-1.
Figure 5.2.2.2.3.2-1 Create UE Context with AMF Relocation
Same requirement of clause 5.2.2.2.3.1 applies, with following modifications:
1\. Same as step 1 of clause 5.2.2.2.3.1.
2\. The initial AMF selects a target AMF and perform CreateUeContext procedure
(see clause 5.2.2.2.3.1).
\- the request body shall include the information received from the source AMF
in step 1, including the serving network, the supported features, etc.
\- if the received serving network (from the source AMF) is different from the
PLMN of the target AMF, the resource URI in the Location header in 201 Create
response shall contain the inter-PLMN API Root.
3a. Same as step 2a of clause 5.2.2.2.3.1, with following modifications:
\- the request body shall contain the UE Context and other information
received from the target AMF in step 2.
\- the Location header shall contain the resource URI received in the \"201
Created\" response from target AMF in step 2.
\- the initial AMF shall insert a 3gpp-Sbi-Producer-Id header indicating the
target AMF.
3b. Same as step 2b of clause 5.2.2.2.3.1.
##### 5.2.2.2.4 ReleaseUEContext
###### 5.2.2.2.4.1 General
The ReleaseUEContext service operation is used during the following procedure:
\- Inter NG-RAN node N2 based handover, Cancel procedure (see 3GPP TS 23.502
[3], clause 4.9.1.4)
The ReleaseUEContext service operation is invoked by a NF Service Consumer,
e.g. a source AMF, towards the AMF (acting as target AMF), when the source AMF
_receives the Handover Cancel from the 5G-AN during the handover procedure_ ,
to release the UE Context in the target AMF.
The NF Service Consumer (e.g. the source AMF) shall release the UE Context by
using the HTTP \"release\" custom operation with the URI of the \"Individual
UeContext\" resource (See clause 6.1.3.2.4.2). See also Figure 5.2.2.2.4.1-1.
Figure 5.2.2.2.4.1-1 Release UE Context
1\. The NF Service Consumer, e.g. source AMF, shall send a POST request, to
release the ueContext in the target AMF. The payload body of the POST request
shall contain the UEContextRelease.
2a. On success, the target AMF shall return \"204 No Content\" with an empty
payload body in the POST response.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.1.3.2.4.2.2-2 shall be returned. For a 4xx/5xx response, the message body
shall contain a ProblemDetails structure with the \"cause\" attribute set to
one of the application error listed in Table 6.1.3.2.4.2.2-2.
##### 5.2.2.2.5 RelocateUEContext
###### 5.2.2.2.5.1 General
The RelocateUEContext service operation is used during the following
procedure:
\- EPS to 5GS handover using N26 interface with AMF re-allocation (see 3GPP TS
23.502 [3], clause 4.11.1.2.2).
The RelocateUEContext service operation is invoked by a NF Service Consumer,
e.g. an initial AMF, towards the AMF (acting as target AMF), during an EPS to
5GS handover with AMF re-allocation, to relocate the UE Context in the target
AMF.
The NF Service Consumer (e.g. the initial AMF) shall relocate the UE Context
in the target AMF by invoking the \"relocate\" custom method on the URI of an
\"Individual ueContext\" resource (see clause 6.1.3.2.4). See also Figure
5.2.2.2.5.1-1.
Figure 5.2.2.2.5.1-1 Relocate UE Context
1\. The NF Service Consumer, e.g. initial AMF, shall send a POST request to
relocate the UE context in the target AMF. The payload body of the POST
request shall contain a UeContextRelocateData structure.
The UE context shall contain trace control and configuration parameters, if
signalling based trace has been activated (see 3GPP TS 32.422 [30]).
For an EPS to 5GS handover procedure, the NF Service Consumer shall carry per
PDU session the S-NSSAI for serving PLMN, the MME Control Plane Address and
the TEID in the request. If S-NSSAI for interworking is configured and used in
initial AMF for the PDU session, the initial AMF shall also carry the
configured S-NSSAI for interworking to the target AMF, as specified in clause
4.11.1.2.2 of 3GPP TS 23.502 [3]. In Home Routed roaming case, the S-NSSAI for
serving PLMN is derived by the initial AMF based on the S-NSSAI for home PLMN
retrieved from SMF+PGW-C, as specified in 3GPP TS 23.502 [3].
2a. On success, the target AMF shall respond with the status code \"201
Created\" if the request is accepted, together with a HTTP Location header to
provide the location of the newly created resource. The payload body of the
POST response shall contain the representation of the created UE Context.
The target AMF starts tracing according to the received trace control and
configuration parameters, if trace data is received in the UE context
indicating that signalling based trace has been activated. Once the AMF
receives subscription data, trace requirements received from the UDM
supersedes the trace requirements received from the NF Service Consumer.
2b. On failure to relocate the UE context or redirection, one of the HTTP
status code listed in Table 6.1.3.2.4.6.2-2 shall be returned. For a 4xx/5xx
response, the message body shall contain a ProblemDetails structure with the
\"cause\" attribute set to one of the application errors listed in Table
6.1.3.2.4.6.2-2.\ \ If the target RAN rejects the Handover Request, the target
AMF shall send Forward Relocation Response message directly to the source MME
over the N26 interface, carrying the appropriate cause value.
##### 5.2.2.2.6 CancelRelocateUEContext
###### 5.2.2.2.6.1 General
The CancelRelocateUEContext service operation is used during the following
procedure:
\- EPS to 5GS Handover with AMF re-allocation, Handover Cancel procedure (see
3GPP TS 23.502 [3], clause 4.11.1.2.3)
The CancelRelocateUEContext service operation is invoked by a NF Service
Consumer (i.e. initial AMF), towards the AMF (acting as target AMF), when the
initial AMF _receives Forward Cancel Request from the source MME during EPS to
5GS Handover with AMF re-allocation porceudre, to trigger the target AMF to
release_ the UE Context.
The NF Service Consumer (i.e. the initial AMF) shall cancel the UE Context
Relocation by using the HTTP \"cancel-relocate\" custom operation with the URI
of the \"Individual UeContext\" resource (See clause 6.1.3.2.4.2). See also
Figure 5.2.2.2.6.1-1.
Figure 5.2.2.2.6.1-1 Cancel Relocate UE Context
1\. The NF Service Consumer, i.e. initial AMF, shall send a POST request, to
release the ueContext in the target AMF. The payload body of the POST request
shall contain the UeContextCancelRelocateData that needs to be passed to the
target AMF.
2a. On success, the target AMF shall return \"204 No Content\" with an empty
payload body in the POST response.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.1.3.2.4.7.2-2 shall be returned. For a 4xx/5xx response, the message body
shall contain a ProblemDetails structure with the \"cause\" attribute set to
one of the application error listed in Table 6.1.3.2.4.7.2-2.
#### 5.2.2.3 UE Specific N1N2 Message Operations
##### 5.2.2.3.1 N1N2MessageTransfer
###### 5.2.2.3.1.1 General
The N1N2MessageTransfer service operation is used by a NF Service Consumer to
transfer N1 and/or N2 information to the UE and/or 5G-AN through the AMF in
the following procedures:
\- Network triggered Service Request (see clause 4.2.3.3 of 3GPP TS 23.502
[3])
\- PDU Session establishment (see clause 4.3.2 of 3GPP TS 23.502 [3])
\- PDU Session modification (see clause 4.3.3 of 3GPP TS 23.502 [3])
\- PDU Session release (see clause 4.3.4 of TS 3GPP 23.502 [3])
\- Session continuity, service continuity and UP path management (see clause
4.3.5 of 3GPP TS 23.502 [3])
\- Inter NG-RAN node N2 based handover (see clause 4.9.1.3 of 3GPP TS 23.502
[3])
\- SMS over NAS procedures (see clause 4.13.3 of 3GPP TS 23.502 [3]
\- UE assisted and UE based positioning procedure (see clause 6.11.1 of 3GPP
TS 23.273 [42])
\- Network assisted positioning procedure (see clause 6.11.2 of 3GPP TS 23.273
[42])
\- LCS Event Report, Event Reporting in RRC INACTIVE state procedures, LCS
Cancel Location and LCS Periodic-Triggered Invoke procedures (see clause 6.3
and clause 6.7 of 3GPP TS 23.273 [42])
\- UE configuration update procedure for transparent UE policy delivery (see
clause 4.2.4.3 of 3GPP TS 23.502 [3])
\- UPF anchored Mobile Terminated Data Transport in Control Plane CIoT 5GS
Optimisation (see clause 4.24.2 of 3GPP TS 23.502 [3])
\- NEF Anchored Mobile Terminated Data Transport (see clause 4.25.5 of 3GPP TS
23.502 [3])
\- System interworking procedures with EPC (see clause 4.3 in 3GPP TS 23.501
[2] and clause 4.11 in 3GPP TS 23.502 [3])
\- SMF triggered N3 data transfer establishment procedure (see clause 4.2.10.2
of 3GPP TS 23.502 [3])
\- 5G-RG requested PDU Session Establishment via W-5GAN (see clause 7.3.1 of
3GPP TS 23.316 [48])
\- 5G-RG or Network requested PDU Session Modification via W-5GAN (see clause
7.3.2 of 3GPP TS 23.316 [48])
\- 5G-RG or Network requested PDU Session Release via W-5GAN (see clause 7.3.3
of 3GPP TS 23.316 [48])
\- FN-RG related PDU Session Establishment via W-5GAN (see clause 7.3.4 of
3GPP TS 23.316 [48])
\- CN-initiated selective deactivation of UP connection of an existing PDU
Session associated with W-5GAN Access (see clause 7.3.5 of 3GPP TS 23.316
[48])
\- FN-RG or Network Requested PDU Session Modification via W-5GAN (see clause
7.3.6 of 3GPP TS 23.316 [48])
\- FN-RG or Network Requested PDU Session Release via W-5GAN (see clause 7.3.7
of 3GPP TS 23.316 [48])
\- Non-5G capable device behind 5G-CRG and FN-CRG requested PDU Session
Establishment via W-5GAN (see clause 4.10a of 3GPP TS 23.316 [48])
\- Non-5G capable device behind 5G-CRG and FN-CRG or Network Requested PDU
Session Modification via W-5GAN (see clause 4.10a of 3GPP TS 23.316 [48])
\- Non-5G capable device behind 5G-CRG and FN-CRG or Network Requested PDU
Session Release via W-5GAN (see clause 4.10a of 3GPP TS 23.316 [48])
\- Handover procedures between 3GPP access / 5GC and W-5GAN access (see clause
7.6.3 of 3GPP TS 23.316 [48])
\- Handover from 3GPP access / EPS to W-5GAN / 5GC (see clause 7.6.4.1 of 3GPP
TS 23.316 [48])
\- Transfer UAV specific data via N1 SM (see clause 5.2.4.3 of 3GPP TS 23.256
[56])
\- MBS join and Session establishment procedure (see clause 7.2.1.3 of 3GPP TS
23.247 [55])
\- MBS activation procedure (see clause 7.2.5.2 of 3GPP TS 23.247 [55])
\- Multicast session leave requested by the network or MBS session release
(see clause 7.2.2.3 of 3GPP TS 23.247 [55])
\- Procedures applicable to a PRU (see clause 6.17 of 3GPP TS 23.273 [42])
NOTE: Though in 3GPP TS 23.502 [3] the procedure is called \"UE configuration
update procedure for transparent UE policy delivery\", as per 3GPP TS 24.501
[11] clause 5.4.5.3.1, the network initiated NAS transport procedure is used.
The NF Service Consumer shall invoke the service operation by using HTTP
method POST, to request the AMF to transfer N1 and/or N2 information for a UE
and/or 5G-AN, with the URI of \"N1 N2 Messages Collection\" resource (see
clause 6.1.3.5.3.1).
The NF Service Consumer may include the following information in the HTTP
Request message body:
\- SUPI
\- PDU Session ID or LCS Correlation ID depending on the N1/N2 message class
to be transferred
\- N2 SM Information (PDU Session ID, QoS profile, CN N3 Tunnel Info, S-NSSAI)
\- N1 Message Container, including a N1 SM, LPP message, LCS message, SMS,
UPDP message, PRU message
\- N2 Information Container, including N2 SM, NRPPa message, PWS or RAN
related information
\- Mobile Terminated Data (i.e. CIoT user data container)
\- Allocation and Retention Priority (ARP)
\- Paging Policy Indication
\- 5QI
\- Notification URL (used for receiving Paging Failure Indication)
\- Last Message Indication
\- NF Instance Identifier and optionally Service Instance Identifier of the NF
Service Consumer (e.g. an LMF or SMF)
\- N1 SM Skipping Indication
\- Area of Validity for N2 SM Information
\- A MA PDU Session Accepted indication, if a MA-PDU session is established;
\- Extended Buffering Support Indication, if SMF determines that Extended
Buffering applies during Network triggered Service Request Procedure (see
clause 4.2.3.3 of 3GPP TS 23.502 [3]), UPF anchored Mobile Terminated Data
Transport in Control Plane CIoT 5GS Optimisation procedure (see clause 4.24.2
of 3GPP TS 23.502 [3]) or NEF Anchored Mobile Terminated Data Transport (see
clause 4.25.5 of 3GPP TS 23.502 [3]);
\- Target Access type towards which the SMF requests to send N2 information
and optionally N1 information, for a Multi-Access (MA) PDU session, or through
which the LMF requests to transfer an LPP message to the UE.
During an intra-AMF handover between 3GPP and non-3GPP accesses, the SMF shall
include the targetAccess IE set to the old access type in the HTTP Request
message body, when releasing the N2 PDU session resources in the old access
(see step 3 of Figure 4.9.2.1-1 and step 3 of Figure 4.9.2.2-1 of 3GPP TS
23.502 [3]).
Figure 5.2.2.3.1.1-1 N1N2MessageTransfer for UE related signalling
1\. The NF Service Consumer shall send a POST request to transfer N1 and N2
information. The NF Service Consumer may include a N1N2MessageTransfer
Notification URI to AMF in the request message.
2a. On success, i.e. if the request is accepted and the AMF is able to
transfer the N1/N2 message to the UE and/or the AN, the AMF shall respond with
a \"200 OK\" status code. The AMF shall set the cause IE in the
N1N2MessageTransferRspData as \"N1_N2_TRANSFER_INITIATED\" in this case.
The AMF shall respond with a \"200 OK\" status code and set the cause IE in
the N1N2MessageTransferRspData to \"N2_MSG_NOT_TRANSFERRED\", if the
N1N2MessageTransfer request included an area of validity for the N2 SM
Information, the UE is in CM-CONNECTED state and outside of the area of
validity.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.1.3.5.3.1-2 shall be returned. For a 4xx/5xx response, the message body
shall contain a N1N2MessageTransferError structure, including:
\- a ProblemDetails structure with the \"cause\" attribute set to one of the
application error listed in Table 6.1.3.5.3.1-2;
###### 5.2.2.3.1.2 Detailed behaviour of the AMF
When an NF service consumer is requesting to send N1 and/or N2 information and
the UE is in CM-IDLE state for the access type for which the N1 and/or N2
information is related (called \"associated access type\" hereafter in this
clause), the requirements specified in clause 5.2.2.3.1.1 shall apply with the
following modifications:
NOTE: N1 and/or N2 Session Management information is related to the access
type of the targeted PDU session for a single access PDU session, or to the
Target Access received in the request for a MA PDU session; LCS related N2
(NRPPa) information is related to 3GPP access in this release of
specification.
4xx and 5xx response cases shall also apply to UEs in CM-CONNECTED state, when
applicable.
**2xx Response Cases:**
**Case A: When UE is CM-IDLE in 3GPP access and the associated access type is
3GPP access:**
a) Same as step 2a of Figure 5.2.2.3.1.1-1, the AMF should respond with the
status code \"200 OK\", if \"skipInd\" attribute is set to \"true\" in the
request body, with a response body that carries the cause
\"N1_MSG_NOT_TRANSFERRED\".
b) Same as step 2a of Figure 5.2.2.3.1.1-1, the AMF shall respond with the
status code \"202 Accepted\", if the asynchronous type communication is
invoked and hence the UE is not paged, update the UE context and store N1
and/or N2 information and initiate communication with the UE and/or 5G-AN when
the UE becomes reachable. In this case the AMF shall provide the URI of the
resource in the AMF in the \"Location\" header of the response. In this
release, the URI shall only be used by NF Service consumer to correlate the
possible N1/N2 Message Transfer Failure Notification with the related N1/N2
Message Transfer Operation. The NF service consumer shall not send any service
requests towards the URI received in the Location header.
The AMF shall also provide a response body containing the cause,
\"WAITING_FOR_ASYNCHRONOUS_TRANSFER\" that represents the current status of
the N1/N2 message transfer;
c) Same as step 2a of Figure 5.2.2.3.1.1-1, the AMF shall respond with the
status code \"202 Accepted\", if paging is issued when the UE is in CM-IDLE
and reachable for 3GPP access, with a response body that carries a cause
\"ATTEMPTING_TO_REACH_UE\" as specified in clause 4.2.3.3 and 5.2.2.2.7 of
3GPP TS 23.502 [3].
**Case B: When UE is CM-IDLE in Non-3GPP access but CM-CONNECTED in 3GPP
access and the associated access type is Non-3GPP access:**
a) Same as step 2a of Figure 5.2.2.3.1.1-1, the AMF shall respond with the
status code \"200 OK\" with cause \"N1_N2_TRANSFER_INITIATED\" and initiate N1
NAS SM message transfer via 3GPP access, if the NF service consumer (i.e. SMF)
requests to send only N1 NAS SM message without any associated N2 SM
information, and the current access type related to the PDU session is
Non-3GPP access and the UE is CM-CONNECTED in 3GPP access.
b) Same as step 2a of Figure 5.2.2.3.1.1-1, the AMF shall respond with the
status code \"202 Accepted\", if NAS Notification procedure is issued when the
UE is in CM-CONNECTED in 3GPP access, with a response body that carries a
cause \"ATTEMPTING_TO_REACH_UE\" as specified in step 4c of clause 4.2.3.3 and
5.2.2.2.7 of 3GPP TS 23.502 [3].
**Case C: When UE is CM-IDLE in both Non-3GPP access and 3GPP access and the
associated access type is Non-3GPP access:**
All the bullets specified in Case A are applicable.
The NF Service Consumer shall not send any further signalling for the UE if it
receives a POST response body with a cause \"ATTEMPTING_TO_REACH_UE\" unless
it has higher priority signalling. In such a case the response shall include
the \"Location\" header containing the URI of the resource created in the AMF,
e.g. \".../n1-n2-messages/{n1N2MessageId}\". In this release, the URI shall
only be used by NF Service consumer to correlate the possible N1/N2 Message
Transfer Failure Notification with the related N1/N2 Message Transfer
Operation. The NF service consumer shall not send any service requests towards
the URI received in the Location header. The AMF shall:
\- store the N1 and/or N2 information related to 3GPP access and, when the UE
responds with a Service Request, shall initiate communication with the UE
and/or 5G-AN using the stored N1 and/or N2 information;
\- store the N1 NAS SM information related to Non-3GPP access if no N2
information was received and the AMF initiated paging towards the UE. Later
when the UE responds with a Service Request, the AMF shall initiate
communication with the UE using the stored N1 information via 3GPP access;
\- inform the SMF which invoked the service operation, that the access type of
the PDU Session can be changed from Non-3GPP access to 3GPP access as
specified in clause 5.2.2.3.2.1 of 3GPP TS 29.502 [16], when the UE responds
with a \"List Of Allowed PDU Sessions\" and the indicated non-3GPP PDU session
of the N2 (and N1 if received) information is included in the list; or
\- notify the NF which invoked the service operation, as specified in clause
5.2.2.3.2, if the Notification URI is provided, when the AMF determines that
the paging or NAS Notification has failed or when the UE responds with a
\"List Of Allowed PDU Sessions\" and the indicated Non-3GPP PDU session of the
N2 (and N1 if received) information is not included in the list.
**4xx Response Cases:**
\- Same as step 2b of Figure 5.2.2.3.1.1-1, the AMF shall respond with status
code \"409 Conflict\" in the following cases:
\- if the UE is in 3GPP access and there is already an ongoing paging
procedure with higher or same priority, the AMF shall set the application
error as \"HIGHER_PRIORITY_REQUEST_ONGOING\" in the \"cause\" attribute of the
ProblemDetails structure of the POST response body. The AMF may provide a
retryAfter IE to the NF Service Consumer in order for the NF Service Consumer
to retry the request after the expiry of the timer. When the retryAfter IE is
provided, the NF Service Consumer shall not initiate the downlink messaging
until the timer expires. The AMF may also provide the ARP value of the QoS
flow that has triggered the currently ongoing highest priority paging, so that
the NF Service Consumer (e.g. SMF) knows that if any subsequent trigger
initiating downlink messaging for a QoS flow with the same or lower priority
happens.
\- if there is an ongoing registration procedure (see clause 4.2.3.3 of 3GPP
TS 23.502 [3]) the AMF shall set the application error as
\"TEMPORARY_REJECT_REGISTRATION_ONGOING\" in the \"cause\" attribute of the
ProblemDetails structure in the POST response body; The AMF may provide a
retryAfter IE to the NF Service Consumer in order for the NF Service Consumer
to retry the request after a short period. When the retryAfter IE is provided,
the NF Service Consumer should not initiate new N1/N2 Message Transfer request
until the timer expires.
\- if this is a request to transfer a N2 PDU Session Resource Modify Request
or a N2 PDU Session Resource Release Command to a 5G-AN and if the UE is in
CM-IDLE state at the AMF for the Access Network Type associated to the PDU
session (see clauses 4.3.3 and 4.3.4 of 3GPP TS 23.502 [3] and clause 5.3.2.1
of 3GPP TS 23.527 [33]), the AMF shall set the application error
\"UE_IN_CM_IDLE_STATE\" in the \"cause\" attribute of the ProblemDetails
structure in the POST response body.
\- if there is an ongoing Xn or N2 handover procedure (see clause 4.9.1.2.1
and 4.9.1.3.1 of 3GPP TS 23.502 [3]) the AMF shall set the application error
as \"TEMPORARY_REJECT_HANDOVER_ONGOING\" in the \"cause\" attribute of the
ProblemDetails structure in the POST response body, if the AMF rejects the
request due to the on-going handover.
\- if the RAT Type is NB-IoT, and the UE already has 2 PDU Sessions with
active user plane resources, the AMF shall set the application error as
\"MAX_ACTIVE_SESSIONS_EXCEEDED\" in POST response body.
\- if Paging Restrictions information restricts the N1N2MessageTransfer
request from causing paging (see clause 4.2.3.3 of 3GPP TS 23.502 [3]) the AMF
shall set the application error as \"REJECTION_DUE_TO_PAGING_RESTRICTION\" in
the \"cause\" attribute of the ProblemDetails structure in the POST response
body.
\- Same as step 2b of Figure 5.2.2.3.1.1-1, the AMF shall respond with the
status code \"403 Forbidden\", if the UE is in a Non-Allowed Area and the
service request is not for regulatory prioritized service. The AMF shall set
the application error as \"UE_IN_NON_ALLOWED_AREA\" in POST response body.
\- The NF service consumer (i.e. the SMF) that receives this application error
may supress subsequent message (e.g. N1N2MessageTransfer) to the AMF for non
regulatory prioritized service. In this case, the NF service consumer (i.e.
the SMF) should subscribe the Reachability-Report event for \"UE Reachability
Status Change\" from the AMF, so as to get notified by the AMF when the UE
becomes reachable again.
\- Same as step 2b of Figure 5.2.2.3.1.1-1, the AMF shall respond with the
status code \"403 Forbidden \", if the NF service consumer (e.g. an LMF) is
requesting to send N1 LPP message to the UE and the UE has indicated that it
does not support LPP in N1 mode during registration procedure (see clause
5.5.1.2.2 and 5.5.1.3.2 of 3GPP TS 24.501 [11]). The AMF shall set the
application error to \"UE_WITHOUT_N1_LPP_SUPPORT\" in POST response body.
\- Same as step 2b of Figure 5.2.2.3.1.1-1, the AMF shall respond with the
status code \"403 Forbidden\", if the request body includes an nfId IE
indicating an SMF instance which is different from the stored SMF instance
hosting the SM Context of the PDU session. The AMF shall set the application
error to \"INVALID_SM_CONTEXT\" in POST response body. During procedures with
SM Context relocation, e.g. UE mobility procedures with I-SMF
insertion/change/removal, the AMF shall allow N1N2MessageTransfer from both
SMF instances holding the old and new SM Contexts.
The NF service consumer (i.e. the SMF) that receives this application error
shall remove the SM Context for the PDU session and release the PDU session
resource in (H-)SMF if available. The SMF shall not send a
SMContextStatusNotification to the AMF for the PDU session release.
\- Same as step 2b of Figure 5.2.2.3.1.1-1, the AMF shall respond with the
status code \"403 Forbidden \", if the NF service consumer (e.g. an LMF) is
requesting to initiate a positioning procedure towards a PRU (see clause
6.11.2 of 3GPP TS 23.273 [42]), i.e. the pruInd IE with the value true was
included in the request, but the UE is not a valid PRU. The AMF shall set the
application error to \"INVALID_PRU\" in POST response body.
**5xx Response Cases:**
\- Same as step 2b of Figure 5.2.2.3.1.1-1, the AMF shall respond with the
status code \"504 Gateway Timeout\", if the UE is currently unreachable (e.g.,
due to the UE in MICO mode, the UE using extended idle mode DRX or the UE is
only registered over Non-3GPP access and its state is CM-IDLE). The AMF shall
set the application error as \"UE_NOT_REACHABLE\" in POST response body. If
Extended Buffering Support Indication is received in the request, the AMF
shall include the Estimated Maximum Waiting time in the response body when the
message is rejected due to the UE in MICO mode or the UE using extended idle
mode DRX.
\- step 2b of Figure 5.2.2.3.1.1-1, the AMF may respond with the status code
\"504 Gateway Timeout\", if the UE is temporarily not responding (e.g., not
responding to the paging). The AMF shall set the application error as
\"UE_NOT_RESPONDING\" in POST response body. The AMF may provide a retryAfter
IE to the NF Service Consumer in order for the NF Service Consumer to throttle
sending further N1/N2 Message Transfer request for a short period. When the
retryAfter IE is provided, the NF Service Consumer should not initiate new
N1/N2 Message Transfer request until the timer expires.
##### 5.2.2.3.2 N1N2Transfer Failure Notification
The AMF uses this notification to inform the NF service consumer that
initiated an earlier
Namf_Communication_N1N2MessageTransfer, that the AMF failed to deliver the N1
and/or N2 message. The HTTP POST method shall be used on the notification
callback URI provided by the NF service consumer as specified in clause
5.2.2.3.1.2.
Figure 5.2.2.3.2-1 N1N2Transfer Failure Notification for UE related signalling
1\. If the NF service consumer had provided a notification URI (see clause
5.2.2.3.1.2), the AMF shall send a POST request to the NF Service Consumer on
that Notification URI when the AMF determines that:
\- the paging or NAS Notification has failed;
\- the indicated non-3GPP PDU session is not allowed to move to 3GPP access;
\- the UE has rejected the page as defined in 3GPP TS 23.501 [2] clause
5.38.4;
\- the delivery of the N1 message fails, e.g. in case the UE is in RRC
Inactive and NG-RAN paging was not successful or in case an Xn or N2 handover
is being triggered at the NG-RAN
The AMF shall include the N1N2MessageTransfer request resource URI returned
earlier in the N1N2MessageTransfer response if any (see clause 5.2.2.3.1.2),
otherwise a dummy URI (see clause 6.1.6.2.30), in the POST request body. The
AMF shall also include a N1/N2 message transfer cause information in the POST
request body and set the value as specified in clause 6.1.5.6.3.1.
The NF Service Consumer shall delete any stored representation of the
N1N2MessageTransfer request resource URI upon receiving this notification.
The AMF may also include a \"retryAfter\" IE in the POST request body in order
for the NF consumer to throttle sending further N1/N2 Message Transfer request
for a short period, e.g. to reduce unnecessary paging to an unresponding UE
for a period of time to save the RAN resources.
2\. The NF Service Consumer shall send a response with \"204 No Content\"
status code.
On failure or redirection, one of the HTTP status codes together with the
response body listed Table 6.1.5.6.3.1-2 shall be returned.
##### 5.2.2.3.3 N1N2MessageSubscribe
###### 5.2.2.3.3.1 General
The N1N2MessageSubscribe service operation is used by a NF Service Consumer
(e.g. PCF) to subscribe to the AMF for notifying N1 messages of a specific
type (e.g. UPDP) or N2 information of a specific type. For the N1 message
class UPDP, a PCF shall subscribe for the N1 message notification with the AMF
to receive the N1 messages from UE that are related to UE Policy.
NOTE: Step 0 of clause 4.2.4.3 of 3GPP TS 23.502 [3] specifies that the PCF
can split the UPDP transfer towards UE into multiple units. One UE specific
callback URI is registered with the AMF by the PCF for the AMF to notify all
UPDP message responses from the UE to the same callback URI. As a result, an
explicit subscription per UE policy association is defined in stage 3 for this
purpose.
An NF Service Consumer (e.g. PCF) may subscribe to notifications of specific
N1 message type (e.g. LPP or UPDP) or N2 information type. In this case the NF
Service Consumer shall subscribe by using the HTTP POST method with the URI of
the \"N1N2 Subscriptions Collection for Individual UE Contexts\" resource (See
clause 6.1.3.3). See also Figure 5.2.2.3.3.1-1.
Figure 5.2.2.3.3.1-1 N1N2 Message Subscribe
1\. The NF Service Consumer shall send a POST request to create a subscription
resource in the AMF for a UE specific N1/N2 message notification. The payload
body of the POST request shall contain:
\- N1 and/or N2 Message Type, identifying the type of N1 and/or N2 message to
be notified
\- A callback URI for the notification
2\. If the request is accepted, the AMF shall include a HTTP Location header
to provide the location of a newly created resource (subscription) together
with the status code 201 indicating the requested resource is created in the
response message.
On failure or redirection, one of the HTTP status codes together with the
response body listed Table 6.1.3.3.3.1-3 shall be returned.
##### 5.2.2.3.4 N1N2MessageUnSubscribe
###### 5.2.2.3.4.1 General
The N1N2MessageUnSubscribe service operation is used by a NF Service Consumer
(e.g. PCF) to unsubscribe to the AMF to stop notifying N1 messages of a
specific type (e.g. LPP or UPDP).
The NF Service Consumer shall use the HTTP method DELETE with the URI of the
\"N1N2 Individual Subscription\" resource (See clause 6.1.3.7.3.1), to request
the deletion of the subscription for the N1 / N2 message towards the AMF. See
also Figure 5.2.2.3.4.1-1.
Figure 5.2.2.3.4.1-1 N1N2 Message UnSubscribe
1\. The NF Service Consumer shall send a DELETE request to delete an existing
subscription resource in the AMF.
2\. If the request is accepted, the AMF shall reply with the status code 204
indicating the resource identified by subscription ID is successfully deleted,
in the response message.
On failure or redirection, one of the HTTP status codes together with the
response body listed Table 6.1.3.4.3.1-3 shall be returned.
##### 5.2.2.3.5 N1MessageNotify
###### 5.2.2.3.5.1 General
The N1MessageNotify service operation is used by an AMF notifying the N1
message received from the UE to a destination CN NF, and it is used in the
following procedures:
\- Registration with AMF re-allocation (see clause 4.2.2.2.3 of 3GPP TS 23.502
[3])
\- UE assisted and UE based positioning procedure (see clause 6.11.1 of 3GPP
TS 23.273 [42])
\- LCS Event Report, Event Reporting in RRC INACTIVE state procedures, LCS
Cancel Location and LCS Periodic-Triggered Invoke procedures (see clause 6.3
and clause 6.7 of 3GPP TS 23.273 [42])
\- UE configuration update procedure for transparent UE policy delivery (See
clause 4.2.4.3 in 3GPP TS 23.502 [3])
\- UE triggered policy provisioning procedure to request UE policies. (See
clause 6.2.4 in 3GPP TS 23.287 [47] and clause 6.2.4 in 3GPP TS 23.304 [51])
\- Procedures applicable to a PRU (see clause 6.17 of 3GPP TS 23.273
[42])NOTE: Though in 3GPP TS 23.502 [3] the procedure is called \"UE
configuration update procedure for transparent UE policy delivery\", as per
3GPP TS 24.501 [11] clause 5.4.5.2.1, the UE initiated NAS transport procedure
is used.
The AMF shall use HTTP POST method to the N1 Notification URI provided by the
NF Service Consumer via N1N2MessageSubscribe service operation (See clause
5.2.2.3.3). See also figure 5.2.2.3.5.1-1.
Figure 5.2.2.3.5.1-1 N1 Message Notify
1\. The AMF shall send a HTTP POST request to the N1 Notification URI, and the
payload body of the POST request shall contain an N1MessageNotification data
structure with the subscribed N1 message.
2a. On success, \"204 No Content\" shall be returned and the payload body of
the POST response shall be empty.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.1.5.4.3.1-3 shall be returned. The message body shall contain a
ProblemDetails object with \"cause\" set to one of the corresponding
application errors listed in Table 6.1.5.4.3.1-3.
###### 5.2.2.3.5.2 Using N1MessageNotify in the Registration with AMF Re-
allocation Procedure
In the Registration with AMF re-allocation procedure, the N1MessageNotify
service operation is invoked by a NF Service Producer, i.e. an Initial AMF,
towards a NF Service Consumer, e.g. the target AMF, which is selected to serve
the UE, by the initial AMF.
The requirements specified in clause 5.2.2.3.5.1 shall apply with the
following modifications:
1\. The initial AMF discovers the NF Service Consumer (e.g. the target AMF)
from the NRF, and fetch N1 Notification URI from the default notification
subscription registered with \"N1_MESSAGE\" notification type and \"5GMM\" N1
message class (See Table 6.2.6.2.3-1 and Table 6.2.6.2.4-1 of 3GPP TS 29.510
[29].
NOTE: The alternate AMF is expected to have registered a callback URI with the
NRF.
2\. Same as step 1 of Figure 5.2.2.3.5.1-1, the request payload shall include
the following information in the HTTP POST Request message body:
\- RAN NGAP ID and initial AMF name (the information enabling (R)AN to
identify the N2 terminating point);
\- RAN identity, e.g. RAN Node Id, RAN N2 IPv4/v6 address;
\- Information from RAN, e.g. User Location, RRC Establishment Cause and UE
Context Request;
\- the N1 message, which shall be the complete Registration Request message in
clear text if the UE has a valid NAS security context, or as the one contained
in the NAS message container IE in the Security Mode Complete message as
specified in clause 4.2.2.2.3 of 3GPP TS 23.502 [2];
\- the UE\'s SUPI and MM Context;
\- the Allowed NSSAI and if available the partially Allowed NSSAI, together
with the corresponding NSI IDs (if network slicing is used and the initial AMF
has obtained).
###### 5.2.2.3.5.3 Using N1MessageNotify in the UE Assisted and UE Based
Positioning Procedure
In the UE assisted and UE based positioning procedure, the N1MessageNotify
service operation is invoked by the AMF, towards the LMF, to notify the N1 UE
positioning messages received from the UE.
The requirements specified in clause 5.2.2.3.5.1 shall apply with the
following modifications:
1\. If the corresponding N1 notification URI is not available, the AMF shall
retrieve the NF profile of the NF Service Consumer (e.g. the LMF) from the NRF
using the NF Instance Identifier received during corresponding
N1N2MessageTransfer service operation (see clause 5.2.2.3.1), and further
identify the corresponding service instance if Service Instance Identifier was
also received, and fetch N1 Notification URI from the default notification
subscription registered with \"N1_MESSAGE\" notification type and \"LPP\" N1
message class (See Table 6.2.6.2.3-1 and Table 6.2.6.2.4-1 of 3GPP TS 29.510
[29]).
2\. Same as step 1 of Figure 5.2.2.3.5.1-1, the request payload shall include
the following information:
\- the N1 Uplink Positioning Message;
\- LCS correlation identifier.
###### 5.2.2.3.5.4 Using N1MessageNotify in the UE Configuration Update for
transparent UE Policy delivery
In the UE Configuration Update for transparent UE Policy delivery procedure,
the N1MessageNotify service operation is invoked by the AMF, towards the PCF
which subscribed to be notified with UPDP messages received from the UE.
The requirements specified in clause 5.2.2.3.5.1 shall apply with the
following modifications:
1\. Same as step 1 of Figure 5.2.2.3.5.1-1. The request payload shall include
the following information:
\- the UPDP message.
###### 5.2.2.3.5.5 Using N1MessageNotify in the LCS Event Report, Event
Reporting in RRC INACTIVE state procedures, LCS Cancel Location and LCS
Periodic-Triggered Invoke Procedures
In the LCS Event Report, Event Reporting in RRC INACTIVE state procedures, LCS
Cancel Location and LCS Periodic-Triggered Invoke procedure, the
N1MessageNotify service operation is invoked by the AMF, towards the LMF, to
notify the N1 UE LCS messages received from the UE.
The requirements specified in clause 5.2.2.3.5.1 shall apply with the
following modifications:
1\. If the corresponding N1 notification URI is not available, the AMF shall
retrieve the NF profile of the NF Service Consumer (e.g. the LMF) from the NRF
using the NF Instance Identifier received during corresponding
N1N2MessageTransfer service operation (see clause 5.2.2.3.1), and further
identify the corresponding service instance if Service Instance Identifier was
also received, and fetch N1 Notification URI from the default notification
subscription registered with \"N1_MESSAGE\" notification type and \"LCS\" N1
message class (See Table 6.2.6.2.3-1 and Table 6.2.6.2.4-1 of 3GPP TS 29.510
[29]).
2\. Same as step 1 of Figure 5.2.2.3.5.1-1, the request payload shall include
the following information:
\- the N1 Uplink LCS Message;
\- LCS correlation identifier;
\- indication of Control Plane CIoT 5GS Optimisation if Control Plane CIoT 5GS
Optimisation is being used.
and may include serving cell ID if it is available;
NOTE: For the EventReport message and UE initiated CancelDeferredLocation
message, the AMF includes the deferred routing identifier received from UE in
N1 UL NAS TRANSPORT message as LCS correlation identifier. The LCS correlation
identifier can assist a serving LMF in identifying the periodic or triggered
location session if the same LMF had assigned the deferred routing identifier
or can indicate to the LMF that it is acting as a default LMF.
###### 5.2.2.3.5.6 Using N1MessageNotify in the UE triggered policy
provisioning procedure to request UE policies
In the UE triggered policy provisioning procedure, the N1MessageNotify service
operation is invoked by the AMF, towards the PCF which subscribed to be
notified with UPDP messages received from the UE.
The requirements specified in clause 5.2.2.3.5.1 shall apply with the
following modifications:
1\. Same as step 1 of Figure 5.2.2.3.5.1-1. The request payload shall include
the following information:
\- the UPDP message.
###### 5.2.2.3.5.7 Using N1MessageNotify in the procedures applicable to a PRU
In the PRU Association Procedure, LMF Initiated PRU Disassociation Procedure
or PRU Initiated PRU Disassociation Procedure, the N1MessageNotify service
operation is invoked by the AMF, towards the LMF, to notify the N1 PRU
messages received from the PRU.
The requirements specified in clause 5.2.2.3.5.1 shall apply with the
following modifications:
1\. If the corresponding N1 notification URI is not available, the AMF shall
select the LMF and retrieve the NF profile of the LMF from the NRF (see clause
6.17 of 3GPP TS 23.273 [42]), and fetch N1 Notification URI from the default
notification subscription registered with \"N1_MESSAGE\" notification type and
\"PRU\" N1 message class (See Table 6.2.6.2.3-1 and Table 6.2.6.2.4-1 of 3GPP
TS 29.510 [29]).
2\. Same as step 1 of Figure 5.2.2.3.5.1-1, the request payload shall include
the following information if available:
\- the N1 PRU messages;
\- PRU subscription Indication;
\- the TAI and cell Id of the PRU;
\- Correlation identifier;
\- SUPI of the PRU.
##### 5.2.2.3.6 N2InfoNotify
###### 5.2.2.3.6.1 General
The N2InfoNotify service operation is used during the following procedure:
\- Inter NG-RAN node N2 based handover procedure (see 3GPP TS 23.502 [3],
clauses 4.9.1.3.3, 4.9.1.3.3a and 4.23.7.3);
\- Network assisted positioning procedure (see clause 6.11.2 of 3GPP TS 23.273
[42])
\- AMF planned removal procedure with UDSF deployed (see clause 5.21.2.2.1 of
3GPP TS 23.501 [2]), to forward uplink N2 signalling to a different AMF.
The N2InfoNotify service operation is invoked by AMF, to notify a NF Service
Consumer that subscribed N2 information has been received from access network.
The AMF shall use HTTP POST method to the N2Info Notification URI provided by
the NF Service Consumer via N1N2MessageSubscribe service operation (See clause
5.2.2.3.3). See also figure 5.2.2.3.6.1-1.
Figure 5.2.2.3.6.1-1 N2 Information Notify
1\. The AMF shall send a HTTP POST request to the n2NotifyCallbackUri, and the
payload body of the POST request shall contain a N2InformationNotification
data structure, containing the N2 information that was subscribed by the NF
Service Consumer.
2a. On success, \"204 No Content\" shall be returned and the payload body of
the POST response shall be empty.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.1.5.5.3.1-3 shall be returned. The message body shall contain a
ProblemDetails object with \"cause\" set to one of the corresponding
application errors listed in Table 6.1.5.5.3.1-3.
###### 5.2.2.3.6.2 Using N2InfoNotify during Inter NG-RAN node N2 based
handover procedure
The N2InfoNotify service operation is invoked by a NF Service Producer, e.g.
the target AMF, towards the NF Service Consumer, i.e. the source AMF, to
notify that the handover procedure has been successful in the target side, for
a given UE.
Figure 5.2.2.3.6.2-1 N2 Information Notify during N2 Handover execution
The requirements specified in clause 5.2.2.3.6.1 shall apply with the
following modifications:
0\. During an inter AMF handover procedure, the source AMF, acting as a NF
Service Consumer, when invoking the CreateUEContext service operation (see
clause 5.2.2.2.3), shall include a N2Info Notification URI to the target AMF
in the HTTP request message.
1\. Same as step 1 of Figure 5.2.2.3.6.1-1, the request payload shall contain
the following information:
\- notification payload (see clause 6.1.5.5) without the \"n2InfoContainer\"
attribute;
\- the \"notifyReason\" attribute set to \"HANDOVER_COMPLETED\";
\- the \"smfChangeInfoList\" attribute including the UE\'s PDU Session ID(s)
for which the I-SMF or V-SMF has been changed or removed, if any, with for
each such PDU session, the related \"smfChangeIndication\" attribute set to
\"CHANGED\" or \"REMOVED\", if the I-SMF or the V-SMF is changed or removed
respectively.
\- the \"notifySourceNgRan\" attribute set to \"true\" during an Inter NG-RAN
node N2 based DAPS handover procedure, if the target AMF receives this
indication in the Handover Notify from the target NG-RAN node (see clause
4.9.1.3.3a of 3GPP TS 23.502 [3]).
If any network slice(s) become no longer available and there are PDU
Session(s) associated with them, the target AMF shall include these PDU
session(s) in the toReleaseSessionList attribute in the payload. The
n2NotifySubscriptionId included in the notification payload shall be the UE
context Id.
2\. Same as Step 2a of Figure 5.2.2.3.6.1-1, with the following
additions/modifications:
\- the source AMF shall release the PDU Session(s) listed in the
toReleaseSessionList attribute in the payload;
\- if the smfChangeInfoList attribute was received in the request, the source
AMF shall release the SM Context at the I-SMF or V-SMF only, for all the PDU
sessions listed in the smfChangeInfoList attribute with the
smfChangeIndication attribute set to \"CHANGED\" or \"REMOVED\";
\- the source AMF shall remove the individual ueContext resource. The source
AMF may choose to start a timer to supervise the release of the UE context
resource and may keep the individual ueContext resource until the timer
expires;
\- if Secondary RAT usage data have been received from the source NG-RAN and
buffered at the source AMF for one or more PDU sessions as specified in step
2a0 of clause 4.9.1.3.3 of 3GPP TS 23.502 [3], the source AMF shall send a 200
OK response with the Secondary RAT usage data included in the response payload
for one or more PDU sessions.
\- if the \"notifySourceNgRan\" attribute was set to \"true\" in the request,
the source AMF shall send a HANDOVER SUCCESS to the source NG-RAN (see clause
4.9.1.3.3a of 3GPP TS 23.502 [3]).
NOTE: This notification is due to an implicit subscription and hence no
explicit subscription Id is created. UE context Id is included as the
notification subscription Id for the NF Service Consumer (e.g. Source AMF) to
co-relate the notification to an earlier initiated UE context creation during
a handover procedure.
###### 5.2.2.3.6.3 Using N2InfoNotify during Location Services procedures
The N2InfoNotify service operation is invoked by a NF Service Producer, i.e.
the AMF, towards the NF Service Consumer, e.g. the LMF, to notify the
positioning parameters received from the 5G-AN in the NRPPa message.
The requirements specified in clause 5.2.2.3.6.1 shall apply with the
following modifications:
1\. If the corresponding N2 notification URI is not available, the AMF shall
retrieve the NF profile of the NF Service Consumer (e.g. the LMF) from the NRF
using the NF Instance Identifier received during corresponding
N1N2MessageTransfer service operation (see clause 5.2.2.3.1), and further
identify the corresponding service instance if Service Instance Identifier was
also received, and fetch N2 Notification URI from the default subscription
registered with \"N2_INFORMATION\" notification type and \"NRPPa\" N2
information class (See Table 6.2.6.2.3-1 and Table 6.2.6.2.4-1 of 3GPP TS
29.510 [29]).
2\. Same as step 1 of Figure 5.2.2.3.6.1-1, the request payload shall contain
N2 information of type NRPPa and LCS correlation identifier.
###### 5.2.2.3.6.4 Using N2InfoNotify during AMF planned removal procedure
with UDSF deployed procedure
In the AMF planned removal procedure with UDSF deployed (see clause 5.21.2.2.1
of 3GPP TS 23.501 [2]), the N2InfoNotify service operation is invoked by a NF
Service Producer, i.e. an initial AMF, towards the NF Service Consumer, i.e.
the target AMF, to forward uplink N2 signalling to the target AMF.
The requirements specified in clause 5.2.2.3.6.1 shall apply with the
following modifications:
1\. If the N2 notification URI is not available, the initial AMF shall
discover the NF Service Consumer (i.e. the target AMF) from the NRF, and fetch
the N2 Notification URI from the default notification subscription registered
with \"N2_INFORMATION\" notification type and \"RAN\" N2 message class (See
Table 6.2.6.2.3-1 and Table 6.2.6.2.4-1 of 3GPP TS 29.510 [29].
NOTE: The target AMF is expected to have registered a callback URI with the
NRF.
2\. Same as step 1 of Figure 5.2.2.3.6.1-1, the request payload shall contain
the following information in the HTTP POST Request message body:
\- N2 information of type \"RAN\";
\- N2 message;
\- initial AMF name;
\- RAN identity, e.g. RAN Node Id, RAN N2 IPv4/v6 address.
#### 5.2.2.4 Non-UE N2 Message Operations
##### 5.2.2.4.1 NonUeN2MessageTransfer
###### 5.2.2.4.1.1 General
The NonUeN2MessageTransfer service operation is used by a NF Service Consumer
to transfer N2 information to the 5G-AN through the AMF in the following
procedures:
\- Obtaining non-UE associated network assistance data (See clause 4.13.5.6 in
3GPP TS 23.502 [3]);
\- Warning Request Transfer procedures (See clause 9A in 3GPP TS 23.041 [20]);
\- Configuration Transfer procedure (see clause 5.26 of 3GPP TS 23.501 [2])
\- RIM Information Transfer procedures (see clause 8.16 of 3GPP TS 38.413
[12]).
\- Broadcast of Assistance Data by an LMF (see clause 6.14.1 of 3GPP TS 23.273
[42]).
\- Management of network timing synchronization status monitoring procedures
(see clause 4.15.9.X of 3GPP TS 23.502 [3]).
The NF Service Consumer shall invoke the service operation by sending POST to
the URI of the \"transfer\" customer operation on the \"Non UE N2Messages
Collection\" resource (See clause 6.1.3.8.4.2) on the AMF. See also figure
5.2.2.4.1.1-1.
Figure 5.2.2.4.1.1-1 Non-UE N2 Message Transfer
1\. The NF Service Consumer shall invoke the custom operation for non UE
associated N2 message transfer by sending a HTTP POST request, and the request
body shall carry the N2 information to be transferred.
2a. On success, AMF shall respond a \"200 OK\" status code with
N2InformationTransferRspData data structure.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.1.3.8.4.2.2-2shall be returned with the message body containing a
N2InformationTransferError structure, including a ProblemDetails attribute
with the \"cause\" attribute set to one of the application errors listed in
Table 6.1.3.8.4.2.2-2.
###### 5.2.2.4.1.2 Obtaining Non UE Associated Network Assistance Data
Procedure
The NonUeN2MessageTransfer service operation shall be invoked by a NF Service
Consumer, e.g. LMF to transfer non UE associated N2 information of N2
information class NRPPa to NG-RAN for obtaining the network assistance data.
The requirements specified in clause 5.2.2.4.1.1 shall apply with the
following modifications:
1\. Same as step 1 of Figure 5.2.2.4.1.1-1, the POST request body shall carry
the N2 information to be transferred together with the NG RAN node
identifier(s) to which the transfer needs to be initiated. The POST request
body shall also include the NF Instance Identifier of the NF Service Consumer
(e.g. LMF) in \"nfId\" attribute.
###### 5.2.2.4.1.3 Warning Request Transfer Procedure
The NonUeN2MessageTransfer service operation shall be invoked by the NF
Service Consumer, e.g. CBCF/PWS-IWF, to send non-UE specific messages of N2
information class PWS to the NG-RAN.
The requirements specified in clause 5.2.2.4.1.1 shall apply with the
following modifications:
1\. Same as step 1 of Figure 5.2.2.4.1.1-1, the request body shall include the
N2 Message Container and:
\- the globalRanNodeList IE, or;
\- the taiList IE and the ratSelector IE, or;
\- the ratSelector IE.
The AMF shall forward the N2 Message Container to ng-eNBs or to gNBs indicated
in the globalRanNodeList IE if present. If the globalRanNodeList IE if not
present, the AMF shall forward the N2 Message Container to ng-eNBs or to gNBs,
subject to the value of the _ratSelector_ IE, that serve Tracking Areas as
listed in the _taiList_ IE if present. If the _taiList_ IE and the
_globalRanNodeList_ IE are not present, the AMF shall forward the N2 Message
Container to all attached ng-eNBs or all attached gNBs, subject to the value
of the _ratSelector_ IE.
NOTE: The _globalRanNodeList_ IE can be present when transferring WRITE-
REPLACE WARNING REQUEST. When present, the _globalRanNodeList_ IE only
contains RAN nodes of the same type, i.e. only ng-eNBs or only gNBs.
The request body may additionally include the _omcId_ IE and/or the
_sendRanResponse_ IE.
2a. Same as step 2a of Figure 5.2.2.4.1.1-1, and the POST response body shall
contain the mandatory elements from the Write-Replace-Warning Confirm response
(see clause 9.2.17 in TS 23.041 [20]) or the mandatory elements and optionally
the _unknown TAI List_ IE from the Stop-Warning Confirm response (see clause
9.2.19 in TS 23.041 [20]).
If the _sendRanResponse_ IE with the value \"true\" was received in the
request, but the corresponding N2 information subscription for PWS information
from the NF service consumer is not available in the AMF, the AMF should
include the _n2PwsSubMissInd_ IE with the value \"true\" in the response.
> 2b. Same as step 2b of Figure 5.2.2.4.1.1-1, and the POST response body
> shall contain following additional information:
\- PWS specific information, if any, e.g. PWS Cause information.
###### 5.2.2.4.1.4 Configuration Transfer Procedure
The NonUeN2MessageTransfer service operation shall be invoked by the NF
Service Consumer (i.e. source AMF) towards the NF Service Producer (i.e.
target AMF) to transfer the RAN configuration information received from the
source NG-RAN towards the target NG-RAN.
The requirements specified in clause 5.2.2.4.1.1 shall apply with the
following modifications:
1\. Same as step 1 of Figure 5.2.2.4.1.1-1. The POST request body shall
contain the SON Configuration Transfer IE received from the source NG-RAN, the
NG RAN node identifier of the destination of this configuration information,
and the N2 information class \"RAN\".
The target AMF shall forward the SON Configuration Transfer IE in a NGAP
Downlink RAN Configuration Transfer message to the target NG-RAN.
###### 5.2.2.4.1.5 RIM Information Transfer Procedures
The NonUeN2MessageTransfer service operation shall be invoked by the NF
Service Consumer (i.e. source AMF) towards the NF Service Producer (i.e.
target AMF) to transfer the RIM information received from the source NG-RAN
towards the target NG-RAN.
The requirements specified in clause 5.2.2.4.1.1 shall apply with the
following modifications:
1\. Same as step 1 of Figure 5.2.2.4.1.1-1. The POST request body shall
contain the RIM Information Transfer IE received from the source NG-RAN, the
NG RAN node identifier of the destination of this configuration information,
and the N2 information class \"RAN\".
The target AMF shall forward the RIM Information Transfer IE in a NGAP
Downlink RIM Information Transfer message to the target NG-RAN.
###### 5.2.2.4.1.6 Broadcast of Assistance Data by an LMF
The NonUeN2MessageTransfer service operation shall be invoked by a NF Service
Consumer, e.g. LMF to transfer non UE associated N2 information of N2
information class NRPPa to NG-RAN for sending assistance information
broadcasting.
The requirements specified in clause 5.2.2.4.1.1 shall apply with the
following modifications:
1\. Same as step 1 of Figure 5.2.2.4.1.1-1, the POST request body shall
contain NRPPa-PDU IE carrying Network Assistance Data generated by LMF to be
transferred together with the target NG RAN node identifier(s) to which the
transfer needs to be initiated. The POST request body shall also include the
NF Instance Identifier of the NF Service Consumer (e.g. LMF) in \"nfId\"
attribute.
###### 5.2.2.4.1.7 Management of network timing synchronization status
monitoring procedures
The NonUeN2MessageTransfer service operation shall be invoked by a NF Service
Consumer, e.g. TSCTSF, to transfer clock quality reporting control information
to NG-RAN.
The requirements specified in clause 5.2.2.4.1.1 shall apply with the
following modifications:
1\. Same as step 1 of Figure 5.2.2.4.1.1-1, the POST request body shall
contain Clock Quality Reporting Control Information IE to be transferred
together with the information identifying target NG RAN node(s) to which the
transfer needs to be initiated, and the N2 information class \"TSS\". The POST
request body shall also include the NF Instance Identifier of the NF Service
Consumer (e.g. TSCTSF) in \"nfId\" attribute.
Editor\'s note: Further details on NGAP IE \"Clock Quality Reporting Control
Information\" to be aligned with RAN WG3, and it shall be specified in clause
6.1.6.4.3.2.
Editor\'s note: Whether the target NG-RAN node(s) are identified by TAIs or
NG-RAN node identifiers is FFS.
##### 5.2.2.4.2 NonUeN2InfoSubscribe
###### 5.2.2.4.2.1 General
The NonUeN2InfoSubscribe service operation is used by a NF Service Consumer
(e.g. CBCF, PWS-IWF, TSCTSF) to subscribe to the AMF for notifying non UE
specific N2 information of a specific type (e.g. PWS Indications, TSS).
An NF Service Consumer (e.g. CBCF, PWS-IWF, TSCTSF) may subscribe to
notifications of specific N2 information type (e,g PWS Indications, TSS) that
are not associated with any UE. In this case, the NF Service Consumer shall
subscribe by using the HTTP POST method with the URI of the \"Non UE
N2Messages Subscriptions Collection\" resource (See clause 6.1.3.9.3.1). See
also Figure 5.2.2.4.2.1-1.
Figure 5.2.2.4.2.1-1 N2 Information Subscription for Non UE Information
1\. The NF Service Consumer shall send a POST request to create a subscription
resource in the AMF for a non UE specific N2 information notification. The
payload body of the POST request shall contain:
\- N2 Information Type, identifying the type of N2 information to be notified
\- A callback URI for the notification
2\. If the request is accepted, the AMF shall include a HTTP Location header
to provide the location of a newly created resource (subscription) together
with the status code 201 indicating the requested resource is created in the
response message.
On failure or redirection, one of the HTTP status codes together with the
response body listed Table 6.1.3.9.3.1-3 shall be returned.
##### 5.2.2.4.3 NonUeN2InfoUnSubscribe
###### 5.2.2.4.3.1 General
The NonUeN2InfoUnSubscribe service operation is used by a NF Service Consumer
(e.g. CBCF, PWS-IWF, TSCTSF) to unsubscribe to the AMF to stop notifying N2
information of a specific type (e.g. PWS Indications, TSS).
The NF Service Consumer shall use the HTTP method DELETE with the URI of the
\"Non UE N2 Message Notification Individual Subscription\" resource (See
clause 6.1.3.10.3.1), to request the deletion of the subscription for non UE
specific N2 information notification, towards the AMF. See also Figure
5.2.2.4.3.1-1.
Figure 5.2.2.4.3.1-1 NonUeN2InfoUnSubscribe for Non UE Specific Information
1\. The NF Service Consumer shall send a DELETE request to delete an existing
subscription resource in the AMF.
2\. If the request is accepted, the AMF shall reply with the status code 204
indicating the resource identified by subscription ID is successfully deleted,
in the response message.
On failure or redirection, one of the HTTP status codes together with the
response body listed Table 6.1.3.10.3.1-3 shall be returned.
##### 5.2.2.4.4 NonUeN2InfoNotify
###### 5.2.2.4.4.1 General
The NonUeN2InfoNotify service operation is used during the following
procedures:
\- Obtaining non-UE associated network assistance data (See clause 4.13.5.6 in
3GPP TS 23.502 [3])
\- Receiving PWS related events from the NG-RAN
\- Broadcast of Assistance Data by an LMF (see clause 6.14.1 of 3GPP TS 23.273
[42]).
\- Monitoring of Timing synchronization status information (see clause
4.15.9.X of 3GPP TS 23.502 [3]).
The NonUeN2InfoNotify service operation is invoked by the AMF to notify a NF
Service Consumer that subscribed Non-UE N2 information has been received from
the 5G-AN.
The AMF shall use HTTP POST method to the N2Info Notification URI provided by
the NF Service Consumer via NonUeN2InfoSubscribe service operation (See clause
5.2.2.4.2). See also Figure 5.2.2.4.4.1-1.
Figure 5.2.2.4.4.1-1 Non-UE N2 Information Notify
1\. The AMF shall send a HTTP POST request to the N2Info Notification URI, and
the payload body of the POST request shall contain a N2InformationNotification
data structure, with the N2 information that was subscribed by the NF Service
Consumer.
2a. On success, \"204 No Content\" shall be returned and the payload body of
the POST response shall be empty.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.1.5.3.3.1-3 shall be returned. The message body shall contain a
ProblemDetails object with \"cause\" set to one of the corresponding
application errors listed in Table 6.1.5.3.3.1-3.
###### 5.2.2.4.4.2 Using NonUeN2InfoNotify during Location Services procedures
The NonUeN2InfoNotify service operation is invoked by a NF Service Producer,
i.e. the AMF, towards the NF Service Consumer, e.g. the LMF, to notify the
assistance data received from the 5G-AN.
The requirements specified in clause 5.2.2.4.4.1 shall apply with the
following modifications:
1\. If the corresponding N2 notification URI is not available, the AMF shall
retrieve the NF profile of the NF Service Consumer (e.g. the LMF) from the NRF
using the NF Instance Identifier received during \"Obtaining Non UE Associated
Network Assistance Data Procedure\" or \"Broadcast of Assistance Data by an
LMF Procedure\" (see clause 5.2.2.4.1.2), and further identify the
corresponding service instance if Service Instance Identifier was also
received, and fetch N2 Notification URI from the default subscription
registered with \"N2_INFORMATION\" notification type and \"NRPPa\" information
class (See Table 6.2.6.2.3-1 and Table 6.2.6.2.4-1 of 3GPP TS 29.510 [29]).
2\. Same as step 1 of Figure 5.2.2.4.4.1-1, the payload shall contain network
assistance data.
###### 5.2.2.4.4.3 Use of NonUeN2InfoNotify for PWS related events
The NonUeN2InfoNotify service operation shall be used during the following PWS
related events:
> 1) The AMF has received a Write-Replace-Warning-Response or a PWS-Cancel-
> Response from the NG-RAN over N2.\ \ Upon receiving the N2 Message Content
> the RAN Nodes return a response which may include the _Broadcast Completed
> Area List_ IE or the _Broadcast Cancelled Area List_ IE, depending on the
> _Message Type_ IE. The AMF may aggregate the lists it receives from the RAN
> Nodes for the same request.
>
> If the _Send-Write-Replace-Warning Indication_ IE was present in the Write-
> Replace-Warning Request message, then the AMF may forward the _Broadcast
> Completed Area List_ IE(s) to the NF Service Consumer. If the NG-RAN node(s)
> have responded without the _Broadcast Completed Area List_ IE then the AMF
> shall include the NG-RAN node ID(s) in \"bcEmptyAreaList\" attribute in the
> request body.
>
> If the _Send-Stop-Warning Indication_ IE was present in the Stop-Warning-
> Request message, then the AMF may forward the _Broadcast Cancelled Area
> List_ IE(s) to the NF Service Consumer. If the NG-RAN node(s) have responded
> without the _Broadcast Cancelled Area List_ IE then the AMF shall include
> the NG-RAN node ID(s) in \"bcEmptyAreaList\" attribute in the request body.
>
> 2) The AMF has received a Restart Indication or a Failure Indication from a
> NG-RAN Node. The AMF shall forward the Restart Indication or Failure
> Indication to the NF Service Consumer.
The requirements specified in clause 5.2.2.4.4.1 shall apply with the
following modifications:
\- Same as step 1 of Figure 5.2.2.4.4.1-1, the request body shall include the
PWS related N2 information.
###### 5.2.2.4.4.4 Using NonUeN2InfoNotify during network timing
synchronization status monitoring procedure
The NonUeN2InfoNotify service operation is invoked by a NF Service Producer,
i.e. the AMF, towards the NF Service Consumer, e.g. the TSCTSF, to notify the
RAN timing synchronization status information from the 5G-AN.
> The requirements specified in clause 5.2.2.4.4.1 shall apply with the
> following modifications:
>
> \- Same as step 1 of Figure 5.2.2.4.4.1-1, the request body shall include
> the RAN Timing Synchronization Status Information related N2 information.
Editor\'s note: Further details on NGAP IE \"RAN Timing Synchronization Status
Information\" to be aligned with RAN WG3, and it shall be specified in clause
6.1.6.4.3.2.
#### 5.2.2.5 AMF Status Change Operations
##### 5.2.2.5.1 AMFStatusChangeSubscribe
###### 5.2.2.5.1.1 General
This service operation is used by a NF Service Consumer to subscribe the
status change of the AMF.
The AMFStatusChangeSubscribe service operation is used during the following
procedure:
\- AMF planned removal procedure (see 3GPP TS 23.501 [2], clause 5.21.2.2)
###### 5.2.2.5.1.2 Creation of a subscription
This service operation creates a subscription so a NF Service Consumer can
request to be notified when the status of the AMF is changed.
It is executed by creating a new individual resource under the collection
resource \"subscriptions\". The operation shall be invoked by issuing a POST
request on the URI of the \"subscriptions collection\" resource (See clause
6.1.3.6.3.1).
Figure 5.2.2.5.1.1-1 NF Service Consumer Subscription to Notifications
1\. The NF Service Consumer shall send a POST request to the resource URI
representing the \"subscriptions\" collection resource. The request body shall
include the data indicating the GUAMI(s) supported by the AMF that the NF
Service Consumer is interested in receiving the related status change
notification. The request body also contains a callback URI, where the NF
Service Consumer shall be prepared to receive the actual notification from the
AMF (see AMFStatusChangeNotify operation in clause 5.2.2.5.3).
2a. On success, the AMF shall include a HTTP Location header to provide the
location of a newly created resource (subscription) together with the status
code 201 indicating the requested resource is created in the response message.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.1.3.6.3.1-3 shall be returned. For a 4xx/5xx response, the message body
containing a ProblemDetails structure with the \"cause\" attribute set to one
of the application error listed in Table 6.1.3.6.3.1-3.
###### 5.2.2.5.1.3 Modification of a subscription
This service operation updates the subscription data of an NF Service Consumer
previously subscribed in the AMF by providing the updated subscription data to
the AMF. The update operation shall apply to the whole subscription data
(complete replacement of the existing subscription data by a new subscription
data).
The NF Service Consumer shall issue an HTTP PUT request, towards the URI of
the \"individual subscription\" resource (See clause 6.1.3.7.3.2), as shown in
Figure 5.2.2.5.1.3-1:
Figure 5.2.2.5.1.3-1 Subscription Data Complete Replacement
1\. The NF Service Consumer shall send a PUT request to the resource URI
representing the individual subscription. The request body shall include a
representation of subscription data to replace the previous subscription data
in the AMF.
2a. On success, \"200 OK\" shall be returned, the payload body of the PUT
response shall contain the representation of the replaced resource. \"204 No
Content\" may be returned, if the NF Service Producer accepts entirely the
resource representation provided by the NF Service Consumer in the request.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.1.3.7.3.2-3 shall be returned. For a 4xx/5xx response, the message body
shall contain a ProblemDetails structure with the \"cause\" attribute set to
one of the application error listed in Table 6.1.3.7.3.2-3.
##### 5.2.2.5.2 AMFStatusChangeUnSubscribe
###### 5.2.2.5.2.1 General
This service operation removes an existing subscription to notifications.
The AMFStatusChangeUnSubscribe service operation is used during the following
procedure:
\- AMF planned removal procedure (see 3GPP TS 23.501 [2], clause 5.21.2.2)
It is executed by deleting a given resource identified by a
\"subscriptionId\". The operation is invoked by issuing a DELETE request on
the URI of the specific \" individual subscription\" resource (See clause
6.1.3.7.3.1).
Figure 5.2.2.5.2.1-1: NF Service Consumer Unsubscription to Notifications
1\. The NF Service Consumer shall send a DELETE request to the resource URI
representing the individual subscription. The request body shall be empty.
2a. On success, \"204 No Content\" shall be returned. The response body shall
be empty.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.1.3.7.3.1-3 shall be returned. For a 4xx/5xx response, the message body
shall contain a ProblemDetails structure with the \"cause\" attribute set to
one of the application error listed in Table 6.1.3.7.3.1-3.
##### 5.2.2.5.3 AMFStatusChangeNotify
###### 5.2.2.5.3.1 General
This service operation notifies each NF Service Consumer that was previously
subscribed to receiving notifications of the status change of the AMF (e.g.
AMF unavailable). The notification is sent to a callback URI that each NF
Service Consumer provided during the subscription (see
AMFStatusChangeSubscribe operation in 5.2.2.5.1).
The AMFStatusChangeNotify service operation is used during the following
procedure:
\- AMF planned removal procedure (see 3GPP TS 23.501 [2], clause 5.21.2.2)
The operation is invoked by issuing a POST request to each callback URI of the
different NF Service Consumer.
Figure 5.2.2.5.3.1-1: AMF Notifications
1\. The AMF shall send a POST request to the callback URI. The request body
shall include the GUAMI(s) and the related status change, GUAMI(s) is
indicated by the NF Service Consumer during the subscription operation. For
network deployment without UDSF case, the target AMF Name which is to serve
the user of the indicated GUAMI(s) is also included.
2a. On success, \"204 No content\" shall be returned by the NF Service
Consumer.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.1.5.2.3.1-2 shall be returned. For a 4xx/5xx response, the message body
shall contain a ProblemDetails structure with the \"cause\" attribute set to
one of the application error listed in Table 6.1.5.2.3.1-2.
#### 5.2.2.6 EBIAssignment
##### 5.2.2.6.1 General
The EBIAssignment service operation is used during the following procedures
(see 3GPP TS 23.502 [3], clause 4.11.1.4):
\- UE requested PDU Session Establishment including Request Types \"Initial
Request\", \"Existing PDU Session\", \"Initial emergency request\" and
\"Existing emergency PDU session\" (Non-roaming and Roaming with Local
Breakout (see 3GPP TS 23.502 [3], clause 4.3.2.2.1).
\- UE requested PDU Session Establishment including Request Types \"Initial
Request\" and \"Existing PDU Session\" (Home-routed Roaming (see 3GPP TS
23.502 [3], clause 4.3.2.2.2).
\- UE or network requested PDU Session Modification (non-roaming and roaming
with local breakout) (see 3GPP TS 23.502 [3], clause 4.3.3.2).
\- UE or network requested PDU Session Modification (home-routed roaming) (see
3GPP TS 23.502 [3], clause 4.3.3.3).
\- UE Triggered Service Request (see 3GPP TS 23.502 [3], clause 4.2.3.2) to
move PDU Session(s) from untrusted non-3GPP access to 3GPP access.
\- Network requested PDU Session Modification, when the SMF needs to release
the assigned EBI from a QoS flow (see 3GPP TS 23.502 [3], clause 4.11.1.4.3).
The EBIAssignment service operation is invoked by a NF Service Consumer, e.g.
a SMF, towards the NF Service Producer, i.e. the AMF, to request the AMF to
allocate EPS bearer ID(s) towards EPS bearer(s) mapped from QoS flow(s) for an
existing PDU Session for a given UE.
EBI allocation shall apply only to:
\- QoS flows of Single Access PDU Session(s) via 3GPP access supporting EPS
interworking with N26;
\- Qos flows of Multi-Access PDU Session(s) supporting EPS interworking with
N26, that are not only allowed over non-3GPP access.
EBI allocation shall not apply to:
\- PDU Session(s) via 3GPP access supporting EPS interworking without N26, or;
\- PDU Session(s) via non-3GPP access supporting EPS interworking;
\- GBR QoS flow(s) that are only allowed over non-3GPP access in Multi-Access
PDU Session(s) supporting EPS interworking.
The EBIAssignment service operation is also invoked by an NF Service Consumer,
e.g. an SMF, towards the NF Service Producer supporting the EAEA feature, i.e.
the AMF, to request the AMF to update the mapping of EBI and ARP, if the ARP
for a QoS flow that has already been allocated an EBI is changed during the
network requested PDU Session Modification.
The NF Service Consumer (e.g. the SMF) shall perform EBIAssignment service
operation by invoking \"assign-ebi\" custom operation on the \"individual
ueContext\" resource (See clause 6.1.3.2.4.3). See also Figure 5.2.2.6.1-1.
Figure 5.2.2.6.1-1 EBI Assignment
1\. The NF Service Consumer, e.g. the SMF, shall invoke \"assign-ebi\" custom
method on individual ueContext resource, which is identified by the UE\'s SUPI
or PEI in the AMF. The NF Service consumer shall provide PDU Session ID and
ARP list as input for the service operation. If the NF Service Consumer
invokes this service operation to update the mapping of EBI and ARP for a QoS
flow to which an EBI is already allocated in the AMF, the NF Service Consumer
shall provide the PDU Session ID and modifiedEbiList.
2a. On success, the AMF shall assign EBI for each ARP in received ARP list, if
enough EBI(s) are available. If there is not enough EBI(s) available, the AMF
may revoke already assigned EBI(s) based on the ARP(s) and the S-NSSAI of the
PDU session for which the request was received, EBIs information in the UE
context and local policies. The AMF may only assign a subset of the requested
EPS Bearer ID(s), e.g. when other PDU Sessions with higher ARP have occupied
other available EPS Bearer IDs. If AMF has successfully assigned all or part
of the requested EBI(s), the AMF shall respond with the status code 200 OK,
together with the assigned EBI to ARP mapping(s), the list of ARPs for which
the AMF failed to allocate an EBI (if any) and the list of EBI(s) released for
this PDU session due to revocation based on ARP(s) and the S-NSSAI (if any).
If the request contains \"releasedEbiList\", the AMF shall release the
requested EBI(s). The AMF shall respond with the status code 200 OK and shall
include the EBI(s) released in the \"releasedEbiList\" IE of the POST response
body. The \"releasedEbiList\" in the request shall be handled before the EBI
assignment in AMF.
If the same EBI(s) are both in the \"releasedEbiList\"and \"assignedEbiList\",
the NF sevice consumer considers that EBI(s) have been released and
reassigned.
If the request contains \"modifiedEbiList\", the AMF shall store the
association of the assigned EBI and ARP pair to the corresponding PDU Session
ID. The AMF shall respond with the status code 200 OK and shall include the
EBI(s) with ARP updated in the \"modifiedEbiList\" IE of the POST response
body.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.1.3.2.4.3.2-2 shall be returned. For a 4xx/5xx response, the message body
shall contain an AssignEbiError structure, including:
\- a ProblemDetails structure with the \"cause\" attribute set to one of the
application error listed in Table 6.1.3.2.4.3.2-2;
\- a failureDetails which describes the details of the failure including the
list of ARPs for which the EBI assignment failed.
## 5.3 Namf_EventExposure Service
### 5.3.1 Service Description
The AMF may offer this service as a Service Producer to enable an NF to
subscribe to event notifications on its own or on behalf of another NF and get
notified about an event. The known Service Consumers are NEF, SMF, UDM, NWDAF,
DCCF, LMF, TSCTSF and GMLC. See also clause 5.34.7 of 3GPP TS 23.501 [2] and
clauses 4.15.1, 4.15.3.2, 4.15.4.2 and 5.2.2.3.1 of 3GPP TS 23.502 [3], clause
6.2.2 in 3GPP TS 23.288 [38].
The following events are provided by Namf_EventExposure Service:
Event: Location-Report
A NF subscribes to this event to receive the Last Known Location or the
Current Location of a UE or a group of UEs or any UE, and Updated Location of
any of these UEs when AMF becomes aware of a location change of any of these
UEs with the granularity as requested.
This event implements the \"Location Reporting\" event in table 4.15.3.1-1 of
3GPP TS 23.502 [3].
[UE Type]{.underline}: One UE, Group of UEs, any UE
[Report Type:]{.underline} One-Time Report, Continuous Report (See NOTE 1),
Periodic Report (See NOTE 1 and 2)
[Input:]{.underline} UE-ID(s), \"ANY_UE\", optional filters: TAI, Cell-ID,
N3IWF, UE-IP, UDP-PORT, TNAP ID, TWAP ID, Global Line Id
[Notification:]{.underline} UE-ID, filtered updated location (TAI, Cell-ID for
3GPP access, most recent N3IWF node, UE local IP address and UDP source port
number for non-3GPP access, TNAP ID, TWAP ID, Global Line Id).
NOTE 1: Support of Continuous Report or Periodic Report should be controlled
by operator policy.
NOTE 2: For Periodic Report, UE Last Known Location is reported if the UE is
in CM-IDLE state when the report is being generated.
Event: Presence-In-AOI-Report
A NF subscribe to this event to receive the current present state of a UE or a
group of UEs or any UE in a specific Area of Interest (AOI), and notification
when a specified UE enters or leaves the specified area. The area could be
identified by a TA list, a NG-RAN node ID list, a cell ID list, an area ID or
specific interested area name like \"LADN\".
For one-time reporting or for the first notification of Continuously
reporting, the AMF shall generate the notification as following:
\- when the event subscription is targeting a UE or a group of UEs, the AMF
shall report the current presence status of the target UE(s);
\- when the event subscription is targeting any UE, the AMF shall only report
the UEs that are \"IN\" the Area of Interest (AOI); if no UE is currently
\"IN\" the Area of Interest (AOI), the AMF shall generate a report only
including the AnyUe indication (without any UE ID) and the subscribed AOI with
the presence status set to \"IN\". The NF consumer should consider other UEs
served by the AMF are \"OUT\" of the AOI or with \"UNKNOWN\" state.
In subsequent notifications, the AMF shall only report the UE(s) whose
presence status has changed compared to the previous notification sent by the
AMF.
If the event subscription indicates that the AoI may be adjusted based on the
UE\'s Registration Area, the AMF shall report that the UE is IN the AoI if the
UE is inside a Registration Area which contains at least one Tracking Area
that is contained within the Area of Interest (see clause 5.3.4.4 of 3GPP TS
23.501 [2] and clauses 4.15.9.3.2, 4.15.9.4, 5.2.2.3.1 and Annex D.1 of 3GPP
TS 23.502 [3]).
If the subscription to the Presence-In-AOI-Report event includes the \"RAN
timing synchronization status change event\" indication and the UE indicated
support for network reconnection due to RAN timing synchronization status
change, the AMF shall report the UE presence in AoI based on the most recent
N2 connection as described in clause 5.3.4.4 of 3GPP TS 23.501 [2] and Annex
D.1 of 3GPP TS 23.502 [3].
[UE Type:]{.underline} One UE, Group of UEs, any UE
[Report Type:]{.underline} One-Time Report, Continuously Report
[Input:]{.underline} UE ID(s), \"ANY_UE\", Area identifier (a TA list, a NG-
RAN node ID list, a cell ID list, an area Id or \"LADN\"), S-NSSAI, NSI ID,
Adjust AoI based on RA indication, RAN timing synchronization status change
indication.
[Notification:]{.underline} UE-ID(s), Area identifier, Presence Status
(IN/OUT/UNKNOWN)
Event: Time-Zone-Report
A NF subscribes to this event to receive the current time zone of a UE or a
group of UEs, and updated time zone of the UE or any UE in the group when AMF
becomes aware of a time zone change of the UE.
[UE Type]{.underline}: One UE, Group of UEs
[Report Type:]{.underline} One-Time Report, Continuous Report
[Input:]{.underline} UE ID(s)
[Notification:]{.underline} UE-ID, most recent time-zone
Event: Access-Type-Report
A NF subscribes to this event to receive the current access type(s) of a UE or
a group of UEs or any UE, and updated access type(s) of any of the UEs when
AMF becomes aware of the access type change of any of these UEs. The area
could be identified by a TA list, an area ID or specific interested area name
like \"LADN\".
[UE Type]{.underline}: One UE, Group of UEs, any UE
[Report Type:]{.underline} One-Time Report, Continuous Report
[Input:]{.underline} UE ID(s), \"ANY_UE\", optionally filters: Area identifier
(a TA list, an area Id or \"LADN\")
[Notification:]{.underline} UE ID, most recent access-types (3GPP, Non-3GPP)
Event: Registration-State-Report
A NF subscribes to this event to receive the current registration state of a
UE or a group of UEs or any UE, and report for updated registration state of
any of these UEs when AMF becomes aware of a registration state change of any
of these UEs. The area could be identified by a TA list, an area ID or
specific interested area name like \"LADN\".
[UE Type]{.underline}: One UE, Group of UEs, any UE
[Report Type:]{.underline} One-Time Report, Continuous Report
[Input:]{.underline} UE ID(s), \"ANY_UE\", optionally filters: Area identifier
(a TA list, an area Id or \"LADN\")
[Notification:]{.underline} UE ID, most recent registration state
(REGISTERED/DEREGISTERED) with access type
Event: Connectivity-State-Report
A NF subscribes to this event to receive the current connection management
state of a UE or a group of UEs, and report for updated connection management
state of a UE or any UE in the group when AMF becomes aware of a connection
management state change of the UE.
[UE Type]{.underline}: One UE, Group of UEs
[Report Type:]{.underline} One-Time Report, Continuous Report
[Input:]{.underline} UE ID(s)
[Notification:]{.underline} UE ID, most recent connection management state
(IDLE/CONNECTED) with access type
Event: Reachability-Report
A NF subscribes to this event for \"UE Reachability Status Change\" to receive
the current reachability state of a UE or a group of UEs in the AMF, and
report for updated reachability state of a UE or any UE in the group when AMF
becomes aware of a reachability state change of the UEs between REACHABLE,
UNREACHABLE, REGULATORY_ONLY. The following conditions apply:
\- the AMF shall send a Reachability Report (\"UNREACHABLE\") if the Mobile
Reachable Timer expires (see clause 5.4.1.1 of 3GPP TS 23.501 [2]) or the UE
enters CM-IDLE when it is only registered over the Non-3GPP access (see clause
5.5.3 of 3GPP TS 23.501 [2]);
\- the AMF shall send a Reachability Report (\"REGULATORY_ONLY\") if the UE
becomes reachable only for regulatory prioritized service (see clause 4.15.4.2
of 3GPP TS 23.502 [3]);
\- the AMF shall send a Reachability Report (\"REACHABLE\") when the UE
reachability state changes from any of the two above states to REACHABLE.
NOTE 3: The AMF does not send a Reachability Report (\"UNREACHABLE\") in
particular when the UE enters extended DRX cycle (see clause 5.31.7.2.2.3 of
3GPP TS 23.501 [2]), the UE enters power saving state (see clause 5.31.8 of
3GPP TS 23.501 [2]), the UE enters CM IDLE in MICO mode (see clause 5.4.1.3 of
3GPP TS 23.501 [2]), or when the UE does not respond to a paging request.
An NF subscribes to this event for \"UE Reachable for DL Traffic\" to receive
reports of a UE or a group of UEs when the UE becomes reachable for sending
downlink data. In this case, the event is detected when the UE transitions to
CM-CONNECTED mode or when the UE will become reachable for paging, as
specified in table 4.15.3.1-1, clauses 4.2.5 and 4.3.3 of 3GPP TS 23.502 [3].
When reporting the \"UE Reachable for DL Traffic\", the AMF shall also
indicate the access types through which the UE is reachable.
NOTE 4: The AMF does not send an event report for \"UE Reachable for DL
Traffic\" immediately after an UECM Registration in UDM, if the AMF has
previously been indicated that reachability event will be detected at UDM. The
UDM will detect the UE reachability from the UECM Registration and send a
notification to the NF consumer (unless the UDM is indicated that the UE is
currently not reachable, as specified in clause 5.3.2.2.2 of 3GPP TS 29.503
[35]), thus the notification report from AMF is omitted.
[UE Type]{.underline}: One UE, Group of UEs
[Report Type:]{.underline} One-Time Report, Continuous Report
[Input:]{.underline} UE ID(s), (optional) Reachability Filter
[Notification:]{.underline} UE ID, AMF Id, most recent reachability state
(REACHABLE/UNRACHABLE/REGULATORY_ONLY), access type(s) through which the UE is
reachable.
Event: Communication-Failure-Report
A NF subscribes to this event to receive the Communication failure report of a
UE or group of UEs or any UE, when the AMF becomes aware of a RAN or NAS
failure event.
This event implements the \"Communication failure\" event in table 4.15.3.1-1
of 3GPP TS 23.502 [3], which is an unexpected termination of the
communication.
[UE Type]{.underline}: One UE, Group of UEs, any UE
[Report Type:]{.underline} One-Time Report, Continuous Report
[Input:]{.underline} UE ID(s), \"ANY_UE\", optionally filters: Area identifier
(a TA list, an area Id or \"LADN\")
[Notification:]{.underline} UE ID, RAN/NAS release code.
Event: UEs-In-Area-Report
A NF subscribes to this event to receive the number of UEs in a specific area.
A NF may ask AMF for the UEs within the area based on Last Known Location or
it may request AMF to actively look for the UEs within the area based on
Current Location.
This event implements the \"Number of UEs present in a geographical area\"
event in table 4.15.3.1-1 of 3GPP TS 23.502 [3].
[UE Type]{.underline}: any UE
[ Input:]{.underline} \"ANY_UE\", Area identified in a TA List or cell ID
list, optionally Ue in Area filters: UE Aerial Indication, Indication of PDU
session established for DNN(s) subject to aerial service, indication to omit
UE IDs in the event reports
[Report Type:]{.underline} One-Time Report (See NOTE 3), Continuous Report
(See NOTE 4), Periodic Report (See NOTE 4)
[Notification]{.underline}: Number of UEs in the area, and if eNA is supported
also the UE IDs
NOTE 5: For an Immediate Report, UE Last Known Location is used to count the
UEs within the area.
NOTE 6: Support of Continuous Report or Periodic Report should be controlled
by operator.
Event: Loss-of-Connectivity
An NF subscribes to this event to receive the event report of a UE or group of
UEs when AMF detects that a target UE is no longer reachable for either
signalling or user plane communication. Such condition is identified when
Mobile Reachable timer expires in the AMF (see 3GPP TS 23.501 [2]), when the
UE detaches, when AMF deregisters from UDM for an active UE and when UE
indicates Unavailability Period by including Unavailability Period Duration
during Mobility Registration or Deregistration procedure. If the UE is already
not reachable for either signalling or user plane communication when the event
is subscribed, the AMF reports the event directly, and shall include, when
applicable, the remaining value of Unavailability Period Duration to determine
the foreseen Loss of Connectivity time.
This event implements the \"Loss of Connectivity\" event in table 4.15.3.1-1
of 3GPP TS 23.502 [3].
[UE Type]{.underline}: One UE, Group of UEs.
[Report Type:]{.underline} One-Time Report, Continuous Report
[Input:]{.underline} UE ID(s)
Notification: UE ID, optionally Unavailability Period Duration.
Event: 5GS-User-State-Report
A NF subscribes to this event to receive the 5GS User State of a UE.
[UE Type]{.underline}: One UE
[Report Type:]{.underline} One-Time Report
[Input:]{.underline} UE ID(s)
[Notification:]{.underline} UE ID, 5GS User State
Event: Availability-after-DDN-failure
A NF subscribes to this event to be notified about the Availability of a UE
after a DDN failure.
[UE Type]{.underline}: One UE, Group of UEs
[Report Type:]{.underline} One-Time Report, Continuous Report
[Input:]{.underline} UE ID(s)
[Notification:]{.underline} UE ID(s)
Event: Type-Allocation-Code-Report
A NF subscribes to this event to receive the TAC of a UE or a group of UEs or
any UE.
[UE Type]{.underline}: One UE, Group of UEs, any UE
[Report Type:]{.underline} One-Time Report, Continuous Report
[Input:]{.underline} UE ID(s),\"ANY_UE\", optionally filters: TAI, Area
identifier (a TA list, an area Id or \"LADN\")
[Notification]{.underline}: UE ID(s), TAC(s)
Event: Frequent-Mobility-Registration-Report
A NF subscribes to this event to receive the number of mobility registration
during a period for a UE or a group of UEs or any UE.
[UE Type]{.underline}: One UE, Group of UEs, any UE
[Report Type:]{.underline} One-Time Report, Continuous Report
[Input:]{.underline} UE ID(s), expiry time, \"ANY_UE\", optionally filters:
Area identifier (a TA list, an area Id or \"LADN\")
[Notification]{.underline}: UE ID(s), Frequent Registration
Event: Snssai-TA-Mapping-Report
A NF subscribes to this event to receive the related access type and the list
of supported S-NSSAIs.
[UE Type]{.underline}: any UE
[Report Type:]{.underline} One-Time Report, Continuous Report
[Input:]{.underline} Target Area: TA list or \"ANY_TAI\", optionally filters:
S-NSSAI(s)
Notification: Access type, list of supported S-NSSAIs with an indication of
restriction at the AMF
Event: UE-Access-Behavior-Trends
A NF subscribes to this event to receive the UE access behavior trends (e.g.
access type change, handover, etc.) within a period for a UE or a group of
UEs, as specified in clause 4.15.4.2 of 3GPP TS 23.502 [3].
[UE Type]{.underline}: One UE, Group of UEs
[Report Type:]{.underline} Periodic Report
[Input:]{.underline} UE ID(s), expiry time
[Notification]{.underline}: UE ID(s), UE access behavior trends report.
Event: UE-Location-Trends
A NF subscribes to this event to receive the UE Location Trends within a
period for a UE or a group of UEs, as specified in clause 4.15.4.2 of 3GPP TS
23.502 [3].
[UE Type]{.underline}: One UE, Group of UEs
[Report Type:]{.underline} Periodic Report
[Input:]{.underline} UE ID(s), expiry time, Dispersion Area (e.g. a TAI list).
[Notification]{.underline}: UE ID(s), UE Location Trends report.
Event: UE-MM-Transaction-Report
A NF subscribes to this event to receive the Total Number of Mobility
Management transactions during a period for a UE or a group of UEs, as
specified in clause 5.2.2.3.1 of 3GPP TS 23.502 [3]. The Total number of
transactions is incremented when the NAS signalling transactions from
Authentication, Registration, De-Registration, Service Request and UE
Configuration Update procedures is completed
[UE Type]{.underline}: One UE, Group of UEs
[Report Type:]{.underline} Periodic Report
[Input:]{.underline} UE ID(s), expiry time, filters: Dispersion Area (e.g. a
TA list) or Slice filter (i.e. a list of S-NSSAIs)
[Notification]{.underline}: UE ID(s), List of UE transaction numbers per
location or List of UE transaction numbers per slice.
### 5.3.2 Service Operations
#### 5.3.2.1 Introduction
For the Namf_EventExposure service the following service operations are
defined:
\- Subscribe;
\- Unsubscribe;
\- Notify.
#### 5.3.2.2 Subscribe
##### 5.3.2.2.1 General
The Service Operation is used by a NF Service Consumer (e.g. NEF) to subscribe
to an event(s) for one UE, group of UE(s) or any UE.
##### 5.3.2.2.2 Creation of a subscription
The Subscribe service operation is invoked by a NF Service Consumer, e.g. NEF,
towards the AMF, when it needs to create a subscription to monitor at least
one event relevant to the AMF. The NF Service Consumer may subscribe to
multiple events in a subscription. A subscription may be associated with one
UE, a group of UEs or any UE.
The NF Service Consumer shall request to create a new subscription by using
HTTP method POST with URI of the subscriptions collection, see clause 6.2.3.2.
The NF Service Consumer shall include the following information in the HTTP
message body:
\- NF ID, indicates the identity of the network function instance initiating
the subscription;
\- Subscription Target, indicates the target(s) to be monitored, as one of the
following types:
\- A specific UE, identified with a SUPI, a PEI or a GPSI;
\- A group of UEs, identified with a group identity;
\- Any UE, identified by the \"anyUE\" flag.
\- Notification URI, indicates the address to deliver the event notifications
generated by the subscription;
\- Notification Correlation ID, indicates the correlation identity to be
carried in the event notifications generated by the subscription;
\- List of events to be subscribed;
\- Event Types per event, as specified in clause 5.3.1.
The NF Service Consumer may include the following information in the HTTP
message body:
\- Immediate Report Flag per event, indicates an immediate report to be
generated with current event status;
\- Event Trigger, indicates how the events shall be reported (One-time
Reporting or Continuously Reporting).
\- Maximum Number of Reports, defines the maximum number of reports after
which the event subscription ceases to exist;
\- Expiry, defines maximum duration after which the event subscription ceases
to exist;
\- Sampling ratio, defines the random subset of UEs among target UEs, and AMF
only report the event(s) related to the selected subset of UEs;
\- partitioning criteria, that defines Criteria for partitioning UEs before
applying sampling ratio;
\- Periodic Report Flag per event, indicates the report to be generated
periodically;
\- Repetition Period, defines the period for periodic reporting;
\- Variable reporting periodicity information, defines the list of conditions
related to Reporting periodicity and the period per condition.
\- Event Filter per applicable event, defines further options on how the event
shall be reported;
\- Reference Id per event, indicates the value of the Reference Id associated
with the event to be monitored. If provided, the Reference Id shall be
included in the reports triggered by the event;
\- a notification flag as \"notifFlag\" attribute if the EneNA feature is
supported; and/or
\- Muting Exception Instructions, which specify instructions to apply to the
subscription and the stored events when an exception occurs at the AMF while
the event is muted (e.g., the buffer of stored event reports is full, or the
number of stored event reports exceeds a certain number), if the ENAPH3
feature is supported (see clause 6.2.8).
Figure 5.3.2.2.2-1 Subscribe for Creation
1\. The NF Service Consumer shall send a POST request to create a subscription
resource in the AMF. The payload body of the POST request shall contain a
representation of the individual subscription resource to be created. The
request may contain an expiry time, suggested by the NF Service Consumer as a
hint, representing the time upto which the subscription is desired to be kept
active and the time after which the subscribed event(s) shall stop generating
report.
2a. On success, the request is accepted, the AMF shall include a HTTP Location
header to provide the location of a newly created resource (subscription)
together with the status code 201 indicating the requested resource is created
in the response message. If the NF Service Consumer has included more than one
events in the event subscription and some of the events are failed to be
subscribed, the AMF shall accept the message and provide the successfully
subscribed event(s) in AmfEventSubscription. If the NF Service Consumer has
included the immediateFlag with value as \"true\" in the event subscription,
the AMF shall include the current status of the events subscribed, if
available (e.g. last known location information is included if the subscribed
event is LOCATION_REPORT). If the events with immediateFlag set to \"true\"
are subscribed by an NF service consumer on behalf of a third NF and the NF
service consumer has not indicated supporting of IERSR feature (see 6.2.8),
the notification will be sent to the third NF directly, i.e.
subsChangeNotifyUri is included in the event subscription, the current status
of the events subscribed shall not be included in response. The AMF shall
subsequently send a notification to the third NF including the current status
of the events subscribed.
If the NF Service Consumer has set the event reporting option as ONE_TIME and
if the AMF has included the current status of the events subscribed in the
response, then the AMF shall not do any subsequent event notification for the
events given in the AmfCreateEventSubscription parameter. If the NF Service
Consumer has set the event reporting option as ONE_TIME, the subscribed event
as LOCATION_REPORT and the immediateFlag is set to false or absent, the AMF
shall send an event notification to notify the current location of the UE
after the subscription; if the UE is in RM-REGISTERED and CM-IDLE state over
3GPP access and the UE does not respond to the paging, or if the UE is in RM-
REGISTERED over non-3GPP access, the event notification shall include the last
known location and the ageOfLocationInformation IE set to a value other than
\"0\", which indicates to the NF service consumer that the AMF returned the
last known location.
If the NF Service Consumer has set the CONTINUOUS or PERIODIC event reporting
option, the subscribed event as LOCATION_REPORT and the immediateFlag is set
to false or absent, the AMF shall send a first event notification to notify
the current location of the UE after the subscription is created and then
subsequent event notifications when the user location changes or according to
the requested period respectively; if at the time of the subscription creation
the UE is in RM-REGISTERED and CM-IDLE state over 3GPP access and the UE does
not respond to the paging, or if the UE is in RM-REGISTERED over non-3GPP
access, the AMF shall send the first event notification including the last
known location and the ageOfLocationInformation IE set to a value other than
\"0\", which indicates to the NF service consumer that the AMF returned the
last known location.
The response, based on operator policy and taking into account the expiry time
included in the request, may contain the expiry time, as determined by the
AMF, after which the subscription becomes invalid. Once the subscription
expires, if the NF Service Consumer wants to keep receiving notifications, it
shall create a new subscription in the AMF. The AMF shall not provide the same
expiry time for many subscriptions in order to avoid all of them expiring and
recreating the subscription at the same time. If the expiry time is not
included in the response, the NF Service Consumer shall consider the
subscription to be valid without an expiry time.
If the sampling ratio (\"sampRatio\") attribute is included in the
subscription without a partitioningCriteria, the AMF shall select a random
subset of UEs among target UEs according to the sampling ratio and only report
the event(s) related to the selected subset of UEs. If the
partitioningCriteria attribute is also included along with sampling ratio, the
AMF shall apply the sampling ratio on the group of UEs determined according to
the partitioning criteria.
If the AMF supports the EneNA feature and the \"notifFlag\" attribute is
included and set to \"DEACTIVATE\" in the request, the AMF shall mute the
event notification and store the available events. Additionally, if the AMF
also supports the ENAPH3 feature (see clause 6.2.8) and the NF service
consumer also included event muting instructions in the request, the AMF
should evaluate the received event muting instructions against to local
actions (if configured) and, if the subscription creation request is accepted,
the AMF may indicate the following information to the NF service consumer in
the response:
\- the maximum number of notifications that the AMF expects to be able to
store for the subscription;
\- an estimate of the duration for which notifications can be buffered.
If the NF service consumer is a UDM, the AMF and the UDM both support the
\"ESSYNC\" feature and the subscription is targeting a specific UE with
Reference Id(s) included in the subscription, the AMF shall locally store the
information that the event subscription is subject to the Event Subscription
Synchronization with UDM during EPS to 5GS mobility as specified in clause
5.3.2.4.2. During inter-AMF mobility procedures, the source AMF shall include
the \"eventSyncInd\" IE (in AmfEventSubscriptionAddInfo data type) with the
value \"true\" in the UE Context for the event subscriptions that are subject
to Event Subscription Synchronization with UDM.
If the subscription creation request targets a group of UE or any UE, the AMF
shall accept the request and create a subscription even if the AMF does not
currently serve any UE of the group or any UE respectively, unless other
reasons exist to reject the request.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.2.3.2.3.1-3 shall be returned. For a 4xx/5xx response, the message body
shall contain a ProblemDetails structure with the \"cause\" attribute set to
one of the application error listed in Table 6.2.3.2.3.1-3.
If the subscription creation request targets a specific UE and this UE is not
served by the AMF (i.e. it is not known to the AMF), the AMF shall reject the
request with a 403 Forbidden response and the application error
\"UE_NOT_SERVED_BY_AMF\", unless the request can be redirected to another AMF
known to serve the UE (e.g. another AMF of the same AMF set).
If the AMF supports the EneNA and ENAPH3 features (see clause 6.2.8), the NF
service consumer sets the \"notifFlag\" attribute to \"DEACTIVATE\" and event
muting instructions in the request, but the AMF cannot accept the received
instructions, the AMF may reject the request with a 403 Forbidden response and
the application error \"MUTING_EXC_INSTR_NOT_ACCEPTED\".
##### 5.3.2.2.3 Modification of a subscription
The Subscribe service operation is invoked by a NF Service Consumer, e.g. NEF,
towards the AMF, when it needs to modify an existing subscription previously
created by itself at the AMF.
The NF Service Consumer shall modify the subscription by using HTTP method
PATCH with the URI of the individual subscription resource (see clause
6.2.3.3) to be modified.
See also Figure 5.3.2.2.3-1 below.
Figure 5.3.2.2.3-1 Modification of a Subscription
1\. The NF Service Consumer shall send a PATCH request to modify a
subscription resource in the AMF. The modification may be for the events
subscribed or for updating the event options.
2a. On success, the request is accepted, the AMF shall return the
representation of the modified subscription resource or its sub-resource
together with the status code 200 OK. When the PATCH request is for modifying
the expiry attribute of the options IE of the subscription, then the AMF based
on operator policies and taking into account the expiry time included in the
request, shall include an expiry time, after which the subscription becomes
invalid. Once the subscription expires, if the NF Service Consumer wants to
keep receiving notifications, it shall create a new subscription in the AMF,
as specified in clause 5.3.2.2.2. The AMF shall not provide the same expiry
time for many subscriptions in order to avoid all of them expiring and
recreating the subscription at the same time.
The PATCH request may be used to modify the \"notifFlag\" attribute of the
options IE of the subscription, when both the AMF and NF Service Consumer
support the EneNA feature as defined in clause 6.2.8:
\- if the \"notifFlag\" attribute is set to \"DEACTIVATE\" in the request and
the event notification is currently not muted, the AMF shall mute the event
notification and store the available events, or
\- if the \"notifFlag\" is set to \"RETRIEVAL\" in the request and the event
notification is currently muted, the AMF shall send the stored events to the
NF service consumer, mute the event notification again and store available
events; or
\- if the \"notifFlag\" is set to \"ACTIVATE\" in the request and the event
notification is currently muted, the AMF shall send the stored events to the
NF service consumer and stop muting the event notification.
In addition, if both the AMF and the NF service consumer also support the
ENAPH3 feature (see clause 6.2.8), the PATCH request modifies the
\"notifFlag\" attribute to \"DEACTIVATE\" and contains muting exception
instructions, the AMF should evaluate the received event muting instructions
against to local actions (if configured) and, if the subscription modification
request is accepted, the AMF may indicate the following information to the NF
service consumer in the response:
\- the maximum number of notifications that the AMF expects to be able to
store;
\- an estimate of the duration for which notifications can be buffered.
If the subscription requested to be modified targets a group of UE or any UE,
the AMF shall accept the request and modify the subscription even if the AMF
does not currently serve any UE of the group or any UE respectively, unless
other reasons exist to reject the request.
2b. On failure or redirection, one of the HTTP status codes listed in Table
6.2.3.3.3.1-3 shall be returned. For a 4xx/5xx response, the message body
shall contain a ProblemDetails structure with the \"cause\" attribute set to
one of the application errors listed in Table 6.2.3.3.3.1-3.
If the AMF cannot accept the received muting exception instructions, the AMF
may reject the request with a 403 Forbidden response and the application error
\"MUTING_EXC_INSTR_NOT_ACCEPTED\".
##### 5.3.2.2.4 Remove or add group member UE(s) for a group subscription
The Subscribe service operation is invoked by a NF Service Consumer, e.g. UDM,
towards the AMF, to remove or add group member UE(s) for an existing group
subscription.
The NF Service Consumer shall modify the subscription by using HTTP method
PATCH with the URI of the individual subscription resource (see clause
6.2.3.3) to be modified.
See also Figure 5.3.2.2.4-1 below.
Figure 5.3.2.2.4-1 Remove or add group member UE(s) for a group subscription
1\. The NF Service Consumer shall send a PATCH request to modify a
subscription resource targeting a group of UEs in the AMF. The modification
shall indicate the group member UE(s) to be excluded or added for the group
subscription.
2a. On success, the request is accepted, the AMF shall return the
representation of the modified subscription resource with the status code 200
OK.\ \ The AMF shall stop monitoring events for excluded member UE(s). If
Maximum number of Reports is applied, the AMF shall set the number of reports
of the indicated UE(s) to Maximum Number of Reports.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.2.3.3.3.1-3 shall be returned. For a 4xx/5xx response, the message body
shall contain a ProblemDetails structure with the \"cause\" attribute set to
one of the application error listed in Table 6.2.3.3.3.1-3.
#### 5.3.2.3 Unsubscribe
##### 5.3.2.3.1 General
The Unsubscribe service operation is invoked by a NF Service Consumer, e.g.
NEF, towards the AMF, to remove an existing subscription previously created by
itself at the AMF.
The NF Service Consumer shall unsubscribe to the subscription by using HTTP
method DELETE with the URI of the individual subscription resource (see clause
6.2.3.3) to be deleted.
Figure 5.3.2.3.1-1 Unsubscribe a subscription
1\. The NF Service Consumer shall send a DELETE request to delete an existing
subscription resource in the AMF.
2a. On success, the request is accepted, the AMF shall reply with the status
code 204 indicating the resource identified by subscription ID is successfully
deleted in the response message.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.2.3.3.3.2-3 shall be returned. For a 4xx/5xx response, the message body
shall contain a ProblemDetails structure with the \"cause\" attribute set to
one of the application error listed in Table 6.2.3.3.3.2-3.
#### 5.3.2.4 Notify
##### 5.3.2.4.1 General
The Notify service operation is invoked by the AMF, to send a notification,
towards the notification URI, when certain event included in the subscription
has taken place.
The AMF shall use the HTTP method POST, using the notification URI received in
the subscription creation as specified in clause 5.3.2.2.2, including e.g. the
subscription ID, Event ID(s) for which event has happened, notification
correlation ID provided by the NF service consumer at the time of event
subscription, to send a notification. See Figure 5.3.2.4.1-1.
Additionally, the Notify service operation shall also be invoked by the AMF,
when:
\- there is a change of AMF during UE mobility procedures, if the subscription
Id changes (i.e. Registration procedures and Handover procedures), or
\- the subscription is terminated by the AMF, if event subscription
termination notification is requested by the NF consumer.
Figure 5.3.2.4.1-1 Notify
1\. The AMF shall send a POST request to send a notification.
2a. On success, \"204 No content\" shall be returned by the NF Service
Consumer.
2b. On failure or redirection, the appropriate HTTP status code (e.g. \"403
Forbidden\") indicating the error shall be returned and appropriate additional
error information should be returned.
When the AMF received the following response code (and application error), the
AMF should consider the subscription is no longer valid and terminate the
subscription:
\- \"400 Bad Request\" with application error \"RESOURCE_CONTEXT_NOT_FOUND\"
\- \"404 Not Found\"
When AMF terminates the subscription in above scenarios, if the subscription
is created by the NF consumer on behalf of another NF (e.g. the UDM subscribes
to the AMF on behalf of the NEF) and notification of event subscription
termination is requested by the NF consumer, the AMF supporting the \'STEN\"
feature shall send a notification to the NF consumer (e.g. the UDM) to report
the termination of the subscription.
##### 5.3.2.4.2 Event Subscription Synchronization for specific UE
When the AMF and the UDM both support the \"ESSYNC\" feature, the AMF may
initiate synchronization for event subscriptions with the UDM for the specific
UE during EPS to 5GS mobility registration procedure (see clause 4.11.5.2 of
3GPP TS 23.502 [3]), if UE specific event subscriptions from the UDM are
available in UE Context.
To initiate event subscription synchronization, when sending notification for
subscription change to the UDM, the AMF shall include the event subscription
information in the notification request. If subscription change notification
is not needed, e.g. when UE registers to the same AMF after moving from EPS,
the AMF may send a notification to the subscription change notification URI.
The notification request in this case only includes the event subscription
information but no event report list.
The AMF shall only include active event subscriptions that are subject to
Event Subscription Synchronization with UDM (determined as defined in clause
5.3.2.2.2) in the event subscription information.
For each active subscription, the following information shall include:
\- URI of the subscription resource in the AMF; and
\- Notification Correlation Id of the subscription; and
\- list of Reference Ids, one per event in the subscription; and
\- optionally, the URI of old subscription resource on the source AMF, if the
subscription Id is changed during the mobility procedure.
When the UDM receives event subscription information from AMF, the UDM shall
compare the active event subscriptions in AMF with the active UDM Event
Exposure subscriptions using Reference Id(s) and Notification Correlation Id,
and perform the following:
\- if an event is to be detected by AMF but not existing in the AMF, the UDM
shall subscribe the event in AMF by creating a new AMF event subscription or
updating an existing AMF event subscription;
\- if an event exists in AMF but does not exist in UDM, the UDM shall
unsubscribe the event from AMF by removing or update an AMF event
subscription.
When the AMF identified that event synchronization with UDM is required, but
either the UDM or the AMF or both do not support the \"ESSYNC\" feature, the
AMF may require the UDM to re-subscribe the stored event exposure
subscriptions to the AMF, see clause 5.3.2.2.2 and 5.3.2.2.3 of 3GPP TS 29.503
[35].
## 5.4 Namf_MT Service
### 5.4.1 Service Description
Namf_MT service allows a NF to request information related to capabilities to
send MT signalling or data to a target UE. The following are the key
functionalities of this NF service:
\- enabling UE reachability by:
\- paging the UE if the UE is in CM-IDLE state and responding to the requester
NF after the UE enters CM-CONNECTED state, or
\- responding to the requester NF if UE is in CM-CONNECTED state.
\- providing the terminating domain selection information for IMS voice to the
consumer NF.
\- enabling reachability of a list of UEs by:
\- paging UEs for an MBS session if the UEs are in CM-IDLE state, and
\- responding to the requester NF, including the list of UEs that are already
in CM-CONNECTED state if any, and
\- sending notification with the UE reachability information and user location
information to NF consumers.
### 5.4.2 Service Operations
#### 5.4.2.1 Introduction
For the Namf_MT Service the following service operations are defined:
\- EnableUEReachability
\- ProvideDomainSelectionInfo
\- EnableGroupReachability
\- UEReachabilityInfoNotify
#### 5.4.2.2 EnableUEReachability
##### 5.4.2.2.1 General
The EnableUEReachability service operation is used in the following procedure:
\- MT SMS over NAS in CM-IDLE state (see 3GPP TS 23.502 [3], clause 4.13.3.6),
or in CM-CONNECTED state (see 3GPP TS 23.502 [3], clause 4.13.3.7).
\- UPF anchored Mobile Terminated Data Transport in Control Plane CIoT 5GS
Optimisation (see clause 4.24.2 of 3GPP TS 23.502 [3]).
\- Network Triggered Connection Resume in RRC Inactive with CN based MT
communication handling (see clause 4.8.2.2b of 3GPP TS 23.502 [3]).
The EnableUEReachability service operation shall be invoked by the NF Service
Consumer (e.g. SMSF, SMF) to enable the reachability of the UE.
The NF Service Consumer shall invoke the service by using the HTTP method PUT,
towards the URI of a \"ueReachInd\" resource as specified in clause 6.3.3.2.
See also figure 5.4.2.2.1-1.
Figure 5.4.2.2.1-1: NF Service Consumer enables the reachability of the UE
1\. The NF Service Consumer sends a PUT request to the resource representing
the ueReachInd resource of the AMF. The payload body of the PUT request shall
contain an \"EnableUeReachabilityReqData\" object.
During the Network Triggered Connection Resume in RRC Inactive with CN based
MT communication handling (see clause 4.8.2.2.b of 3GPP TS 23.502 [3]), the
SMF may include the ppi, the arp, the qfi and the 5qi of the QoS flow of the
PDU session for which DL packets are received, together with the PDU session
identifier, to enable NG-RAN to take this information into account when paging
the UE.
The SMF shall send a new Namf_MT_EnableUEReachability request with a higher
priority or a different Paging Policy Indicator to the AMF if the SMF receives
any additional Data Notification from the UPF for data packets pertaining to
another QoS Flow associated with a higher priority (i.e. ARP priority level)
than the priority indicated to the AMF in the previous
Namf_MT_EnableUEReachability request, or if the SMF derives a different Paging
Policy Indicator according to the additional Data Notification, while waiting
for the response from the AMF.
2a. On success:
\- if the UE is in CM-CONNECTED state, the AMF shall immediately respond using
\"200 OK\" status code, with payload containing an
\"EnableUeReachabilityRspData\" object.
\- if the UE is in CM-IDLE state and the NAS message is to be sent over via
3GPP access and paging is not restricted as defined in 3GPP TS 23.501 [2]
clause 5.38.5, the AMF shall page the UE. When UE becomes CM-CONNECTED and the
UE has not rejected the page as specified in 3GPP TS 23.501 [2] clause 5.38.4,
\"200 OK\" shall be returned with payload containing an
\"EnableUeReachabilityRspData\" object.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.3.3.2.3.1-3 shall be returned. For a 4xx/5xx response, the message body
shall contain a ProblemDetails or ProblemDetailsEnableUeReachability structure
with the \"cause\" attribute set to one of the application error listed in
Table 6.3.3.2.3.1-3.
The AMF shall respond with the status code \"403 Forbidden\", if the UE is in
a Non-Allowed Area and the service request is not for regulatory prioritized
service. The AMF shall set the application error as \"UE_IN_NON_ALLOWED_AREA\"
in POST response body.
The AMF shall respond with the status code \"409 Conflict\", if Paging
Restriction Information restrict the EnableUEReachability request from causing
paging as defined in 3GPP TS 23.501 [2] clause 5.38.5 or if the UE rejects the
paging as defined in 3GPP TS 23.501 [2] clause 5.38.4. The AMF shall set the
application error as \"REJECTION_DUE_TO_PAGING_RESTRICTION\" in POST response
body.
The AMF shall respond with the status code \"504 Gateway Timeout\" and set the
application error as \"UE_NOT_REACHABLE\" and include an Estimated Maximum
Wait time in POST response body when the AMF determines the UE is unreachable
(e.g. if the UE is in MICO mode or the UE has entered Extended DRX in CM-IDLE
or Extended DRX for RRC-INACTIVE state) as specified in clauses 4.24.2 and
4.8.2.2b of 3GPP TS 23.502 [3]).
#### 5.4.2.3 ProvideDomainSelectionInfo
##### 5.4.2.3.1 General
The ProvideDomainSelectionInfo service operation shall be invoked by the NF
Service Consumer (e.g. UDM) to get the UE information for terminating domain
selection of IMS voice, including following information:
\- Indication of supporting IMS voice over PS Session;
\- Time stamp of the last radio contact with the UE;
\- Current Access type and RAT type
The NF Service Consumer shall invoke the service by using the HTTP GET towards
the URI of the \"UeContext\" resource (See clause 6.3.3.3.3.1). See also
figure 5.4.2.3.1-1.
Figure 5.4.2.3.1-1: Provide UE Information for Terminating Domain Selection
1\. The NF Service Consumer shall send a GET request to the URI of the
\"UeContext\" resource on the AMF, with query parameter \"info-class\" set to
value \"TADS\".
2a. On success, the AMF shall return \"200 OK\" status code with payload
containing an \"UeContextInfo\" data structure including UE information for
terminating domain selection for IMS voice.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.3.3.3.3.1-3 shall be returned. The message body shall contain a
ProblemDetails object with \"detail\" set to one of the corresponding
application errors listed in Table 6.3.3.3.3.1-3.
If the request cannot be completed due to a Registration procedure going-on
for the target UE, the AMF shall reject the request with a 409 Conflict
response and with the TEMPORARY_REJECT_REGISTRATION_ONGOING application error.
The NF Service Consumer should repeat the request after a suitable delay.
If the request cannot be completed due to the target UE being in RM-
DEREGISTERED state, the AMF shall reject the request with a 403 Forbidden
response and with the UE_DEREGISTERED application error.
#### 5.4.2.4 EnableGroupReachability
##### 5.4.2.4.1 General
The EnableGroupReachability service operation is used in the following
procedure:
\- MBS session activation procedure (see 3GPP TS 23.247 [55], clause 7.2.5.2).
The EnableGroupReachability service operation shall be invoked by the NF
Service Consumer (e.g. SMF) to enable the reachability of the list of UEs
involved in the MBS Session.
The NF Service Consumer shall invoke the service by using the HTTP method POST
(enable-group-reachability custom operation) as shown in figure 5.4.2.4.1-1.
Figure 5.4.2.4.1-1: NF Service Consumer enabling the reachability of a list of
UEs
1\. The NF Service Consumer shall send a POST request to the resource
representing the UeContexts resource of the AMF. The payload body of the POST
request shall contain an \"EnableGroupReachabilityReqData\" object.
2a. On success:
If at least one UE in the list of UEs included in
EnableGroupReachabilityReqData is in CM-CONNECTED state, the AMF shall respond
using \"200 OK\" status code, with the payload containing the list of UEs in
CM-CONNECTED state in \"EnableGroupReachabilityRspData\" object; or
If all the UEs in the list of UEs included in EnableGroupReachabilityReqData
are in CM-IDLE state, the AMF shall respond with \"200 OK\" status code.
The AMF shall page UEs in CM-IDLE state as specified in clause 7.2.5.2 of 3GPP
TS 23.247 [55].
2b. On failure or redirection, one of the HTTP status code listed in Table
6.3.3.4.4.2.2-2 shall be returned. For a 4xx/5xx response, the message body
shall contain a ProblemDetails structure with the \"cause\" attribute set to
one of the application error listed in Table 6.3.3.4.4.2.2-2.
#### 5.4.2.5 UEReachabilityInfoNotify
##### 5.4.2.5.1 General
The UEReachabilityInfoNotify service operation is used in the following
procedure:
\- MBS session activation procedure (see 3GPP TS 23.247 [55], clause 7.2.5.2).
The UEReachabilityInfoNotify service operation shall be invoked by the AMF to
send a notification towards the notification URI for the UE(s) which are
reachable or do not respond to paging.
The AMF shall use the HTTP method POST, using the notification URI received in
the EnableGroupReachability request as specified in clause 5.4.2.4.1, to send
a notification. See Figure 5.4.2.5.1-1.
Figure 5.4.2.5.1-1: UE Reachability Info Notify
1\. The AMF shall send a POST request to send a notification.
2a. On success, \"204 No content\" shall be returned by the NF Service
Consumer.
2b. On failure or redirection, the appropriate HTTP status code (e.g. \"403
Forbidden\") indicating the error shall be returned and appropriate additional
error information should be returned.
## 5.5 Namf_Location Service
### 5.5.1 Service Description
The Namf_Location service is used by NF service consumers to request the AMF
for initiating positioning requests and provide the location information. It
is also used to subsequently notify the location change events towards the NF
service consumers. The following are the key functionalities of this NF
service:
\- Allow NFs to request the current geodetic and optionally local and/or civic
location of a target UE.
\- Allow NFs to be notified of event information related to emergency
sessions.
\- Allow NFs to request Network Provided Location Information (NPLI) and/or
local time zone corresponding to the location of a target UE.
\- Allow NFs to request the ranging and sidelink positioning location results
for a group of n UEs (n2), the ranging and sidelink positioning location
results may include absolute locations, relative locations or ranges and
directions related to the UEs.
### 5.5.2 Service Operations
#### 5.5.2.1 Introduction
For the Namf_Location Service the following service operations are defined:
\- ProvidePositioningInfo;
\- EventNotify; and
\- ProvideLocationInfo.
\- CancelLocation
#### 5.5.2.2 ProvidePositioningInfo
##### 5.5.2.2.1 General
The ProvidePositioningInfo service operation is used in the following
procedure:
\- 5GC-MT-LR Procedure without UDM Query (see 3GPP TS 23.273 [42], clause
6.10.2)
\- 5GC-MT-LR Procedure (see 3GPP TS 23.273 [42], clause 6.1)
\- Initiation and Reporting of Location Events (see 3GPP TS 23.273 [42],
clause 6.3.1)
\- Location Continuity for Handover of an Emergency session from NG-RAN (see
3GPP TS 23.273 [42], clause 6.10.3)
\- 5GC-MT-LR multiple location procedure without UDM Query (see 3GPP TS 23.273
[42], clause 6.10.4)
\- Procedures of SL-MT-LR involving LMF (see 3GPP TS 23.273 [42], clause
6.20.3)
\- Procedures of SL-MT-LR for periodic, triggered Location Events (see 3GPP TS
23.273 [42], clause 6.20.4)
\- 5GC-MT-LR Procedure using SL positioning (see 3GPP TS 23.273 [42], clause
6.20.5)
The ProvidePositioningInfo service operation shall be invoked by the NF
Service Consumer (e.g. GMLC) to request the current or deferred geodetic and
optionally local and/or civic location of the UE. The service operation
triggers the AMF to invoke the service towards the LMF.
The NF Service Consumer shall invoke the service operation by sending POST to
the URI of the \"provide-pos-info\" custom operation on the \"Individual UE
Context\" resource (See clause 6.4.3.2.4.2). See also figure 5.5.2.2.1-1.
Figure 5.5.2.2.1-1: NF Service Consumer requests the positioning information
of the UE
1\. The NF Service Consumer shall send a POST request to the resource URI of
\"provide-pos-info\" custom operation of the \"_Individual UE context\"_
resource of the AMF. The payload body of the POST request may contain:
\- an indication of a positioning request from emergency services or
commercial services client,
\- the required QoS,
\- Supported GAD shapes,
\- scheduled location time,
\- reliable UE Location Request,
\- UE unaware indication,
\- the LMF ID that should be used for selecting the LMF,
\- the reporting indication,
\- the integrity requirements
\- the requested ranging_SL location results, including absolute locations,
relative locations or ranges and directions related to the UEs for ranging and
sidelink positioning, and/or- the information of the related UEs, including
application layer ID(s) and the related UE type for each related UE for
ranging and sidelink positioning.
If the NF service consumer wants the location change information or deferred
location information to be notified (e.g. during a handover procedure or for
activation or completion of deferred location), it also provides a callback
URI on which the EventNotify service operation is executed (see clause
5.5.2.3).
During 5GC-MT-LR multiple location procedure for regulatory location service,
the request body may also include the indication of acceptance for
intermediate response and the maximum response time, the GMLC callback address
and the LIR reference number.
2a. On success, \"200 OK\" shall be returned. The payload body may contain the
LCS correlation identifier, the location estimate, its age and accuracy, the
information about the positioning method. If the request is invoked during a
handover the response body shall also include the target AMF node identifier
as specified in clause 6.10.3 of 3GPP TS 23.273 [42].
If the location determination will be sent by LMF to GMLC directly, the
payload body shall include the directReportInd and supportedFeatures
attributes.
2b. On accept, \"204 No Content\" shall be returned to acknowledge that AMF
supports a deferred location request and a deferred location is accepted as
specified in step 6 of clause 6.3.1 of 3GPP TS 23.273 [42];
2c. On failure or redirection, one of the HTTP status code listed in Table
6.4.3.2.4.2.2-2 shall be returned. For a 4xx/5xx response, the message body
shall contain a ProblemDetails structure with the \"cause\" attribute set to
one of the application error listed in Table 6.4.3.2.4.2.2-2.
If the AMF received the LMF ID from the NF service consumer and the AMF does
not find an LMF with the LMF ID received from GMLC, the AMF should return a
403 Forbidden response with the cause attribute set to
\"REQUESTED_LMF_NOT_AVAILABLE\" to the NF service consumer, if no other LMF is
configured as backup selection. Otherwise, the ProblemDetails structure with
the \"cause\" attribute set to one of the application errors listed in Table
6.4.3.2.4.2.2-2 shall be applied.
#### 5.5.2.3 EventNotify
##### 5.5.2.3.1 General
The EventNotify service operation is used in the following procedure:
\- 5GC-NI-LR Procedure (see 3GPP TS 23.273 [42], clause 6.10.1)
\- Location Continuity for Handover of an Emergency session from NG-RAN (see
3GPP TS 23.273 [42], clause 6.10.3)
\- Completion of a deferred location for the UE available event or activation
of deferred location for periodic location, area event triggered location or
motion event triggered location (see 3GPP TS 23.273 [42], clause 6.3.1)
The EventNotify service operation notifies the NF Service Consumer (i.e. GMLC)
about a UE location related event information related to emergency sessions or
deferred location, i.e. the initiation, handover or termination of an
emergency session or the completion or activation of deferred location. The
notification is delivered to:
\- the callback URI received from the GMLC during an earlier
ProvidePositioningInfo service operation, if any;
Otherwise (if not available),
\- the callback URI registered in the NRF, if the GMLC registered to the NRF
with notification endpoints for location notifications (see clauses 6.1.6.2.4
and 6.1.6.3.4 of 3GPP TS 29.510 [29]);
Otherwise (if not available),
\- GMLC URI locally provisioned in the AMF.
NOTE: During a handover procedure, both the source AMF and the target AMF can
invoke the EventNotify service operation, based on the local configuration.
The operation is invoked by issuing a POST request to the callback URI of the
NF Service Consumer (See clause 6.4.5.2.2). See also figure 5.5.2.3.1-1.
Figure 5.5.2.3.1-1: UE Location Notification
1\. The AMF shall send a POST request to the callback URI provided by the NF
service consumer determined as described above. The request body shall include
the type of location related event and UE Identification (SUPI or PEI), and
may include the GPSI, Geodetic Location, Local Location, Civic Location, MSC
server identity, the Position methods used or a serving LMF identification for
activation of periodic or triggered location.
2a. On success, \"204 No content\" shall be returned by the NF Service
Consumer.
2b. On failure or redirection, the appropriate HTTP status code (e.g. \"403
Forbidden\") indicating the error shall be returned and appropriate additional
error information should be returned.
#### 5.5.2.4 ProvideLocationInfo
##### 5.5.2.4.1 General
The ProvideLocationInfo service operation allows an NF Service Consumer (e.g.
UDM) to request the Network Provided Location Information (NPLI) of a target
UE.
The NF Service Consumer shall invoke the service operation by sending POST
request to the URI of the \"provide-loc-info\" custom operation on the
\"Individual UE Context\" resource (see clause 6.4.3.2.4.3), as shown in
figure 5.5.2.4.1-1.
Figure 5.5.2.4.1-1: NF Service Consumer requests the Location Information of
the UE
1\. The NF Service Consumer shall send a POST request to the resource URI of
\"provide-loc-info\" custom operation of the \"_Individual UE context\"_
resource on the AMF. The payload body of the POST request shall contain a
\"requestLocInfo\" data structure indicating the desired type of location
information.
If the NF Service Consumer desires the current location information of the
target UE, it shall set \"reqCurrentLoc\" attribute to \"true\".
2a. On success, \"200 OK\" response shall be returned. The payload body of the
response shall contain a \"ProvideLocInfo\" data structure including the
Network Provide Location Information (NPLI) of the target UE.
If \"reqCurrentLoc\" attribute is set to \"true\" and the UE is in RM-
REGISTERED and CM-IDLE state over 3GPP access, the AMF shall initiate a paging
procedure to the UE. If the paging procedure is successful, the AMF shall
return the current location information and set \"currentLoc\" attribute to
\"true\" in the response; if the UE does not respond to the paging, the AMF
shall provide the last known location and set \"currentLoc\" attribute to
\"false\" in the response.
If \"reqCurrentLoc\" attribute is set to \"true\" and the UE is in RM-
REGISTERED and CM-CONNECTED state over 3GPP access, the AMF shall follow NG-
RAN Location reporting procedure, as specified in clause 4.10 of 3GPP TS
23.502 [3], to trigger a single standalone report by setting \"direct\" event
type in **Location Reporting Control message. If NG-RAN reports current
location of the UE, the AMF shall** set \"currentLoc\" attribute to \"true\"
in the response; if NG-RAN reports last known location of the UE with
timestamp, the AMF shall set \"currentLoc\" attribute to \"false\" in the
response.
If the UE is in RM-REGISTERED over non-3GPP access, the AMF shall include the
latest non-3GPP access location information.
2b. On failure or redirection, one of the HTTP status code listed in table
6.4.3.2.4.3.2-2 shall be returned. For a 4xx/5xx response, the message body
shall contain a ProblemDetails structure with the \"cause\" attribute set to
one of the application error listed in table 6.4.3.2.4.3.2-2.
#### 5.5.2.5 CancelLocation
##### 5.5.2.5.1 General
This service operation is used in the following procedure:
\- Cancellation of Reporting of Location Events by an AF or External LCS
Client (see 3GPP TS 23.273 [42], clause 6.3.3)
The CancelLocation service operation shall be invoked by the NF Service
Consumer (e.g. GMLC) to cancel reporting periodic or events triggered
location.
The NF Service Consumer shall invoke the service operation by sending a POST
request to the URI of the \"cancel-pos-info\" custom operation on the
\"Individual UE Context\" resource (See clause 6.4.3.2.4.4). See also figure
5.5.2.5.1-1.
Figure 5.5.2.5.1-1: Cancellation of reporting periodic or events triggered
location of the UE
1\. The NF Service Consumer shall send a POST request to the resource URI of
\"cancel-pos-info\" custom operation of the \"_Individual UE context\"_
resource of the AMF. The payload body of the POST request shall contain a
\"CancelLocInfo\" data structure indicating the desired cancellation of
reporting periodic or events triggered location of the UE.
2a. On success, AMF responds with \"204 No Content\".
2b. On failure or redirection, one of the HTTP status code listed in Table
6.4.3.2.4.4-2 shall be returned. For a 4xx/5xx response, the message body
shall contain a ProblemDetails structure with the \"cause\" attribute set to
one of the application errors.
## 5.6 Namf_MBSBroadcast Service
### 5.6.1 Service Description
This service enables the NF Service Consumer (e.g. MB-SMF) to create, update
or release a broadcast MBS session context in the AMF and to be notified about
status change of the MBS broadcast context.
### 5.6.2 Service Operations
#### 5.6.2.1 Introduction
The Namf_MBSBroadcast service supports following service operations:
\- ContextCreate
\- ContextUpdate
\- ContextRelease
\- ContextStatusNotify
#### 5.6.2.2 ContextCreate
The ContextCreate service operation shall be used by the NF Service Consumer
(e.g. MB-SMF) to request the AMF to create a broadcast MBS session context.
NOTE: For a location dependent MBS service, one single ContextCreate service
operation is performed per MBS session (for a given AMF).
It is used in the following procedures:
\- MBS Session Start for Broadcast (see clause 7.3.1 of 3GPP TS 23.247 [55]);
\- MBS Session Update for Broadcast (see clause 7.3.3 of 3GPP TS 23.247 [55]);
\- Support for Local Broadcast Service (see clause 7.3.4 of 3GPP TS 23.247
[55]).
There shall be only one broadcast MBS session context per MBS session, or per
MBS session and Area Session ID for an MBS session with Location dependent
Broadcast service.
The NF Service Consumer (e.g. MB-SMF) shall create a broadcast MBS session
context by using the HTTP POST method as shown in Figure 5.6.2.2-1.
Figure 5.6.2.2-1: Broadcast MBS session context creation
1\. The NF Service Consumer shall send a POST request targeting the Broadcast
MBS session contexts collection resource of the AMF. The payload body of the
POST request shall contain the following information:
\- MBS Session ID (i.e. TMGI, or TMGI and NID for an MBS session in an SNPN);
\- list of Area Session ID and related MBS service area, for a Location
dependent broadcast MBS service;
\- MBS service area, for a Local broadcast MBS session;
\- N2 MBS Session Management container (see MBS Session Setup or Modification
Request Transfer IE in 3GPP TS 38.413 [12]);
\- Notification URI where to be notified about the status change of the
broadcast MBS session context; and
\- SNSSAI.
The NF Service Consumer may also include the maxResponseTime IE in the request
to indicate the maximum response time to receive information about the
completion of the Broadcast MBS session establishment.
The NF Service Consumer may also include the MB-SMF instance ID and MB-SMF
service instance ID to enable the AMF subscribing to the MB-SMF status
notifications.
2a. On success, \"201 Created\" shall be returned. The AMF should respond
success when it receives the first successful response from the NG-RAN(s). The
201 Created response shall contain MBS session identifier and may contain one
or more N2 MBS Session Management containers, if additional information (e.g.
MBS Session Setup or Modification Response Transfer IE or MBS Session Setup or
Modification Failure Transfer IE in 3GPP TS 38.413 [12]) needs to be
transferred to the MB-SMF. If the AMF received the NG-RAN responses from all
involved NG-RAN(s), e.g. if the broadccast MBS session involves only one NG-
RAN, the AMF shall include an indication of completion of the operation in all
NG-RANs in the 201 Created response.
Upon receipt of subsequent responses from other NG-RANs after sending the 201
Created response, if additional information (e.g. MBS Session Setup or
Modification Response Transfer IE or MBS Session Setup or Modification Failure
Transfer IE in 3GPP TS 38.413 [12]) needs to be transferred to the MB-SMF, the
AMF shall transfer such information by sending one or more
Namf_MBSBroadcast_ContextStatusNotify requests to the MB-SMF. A
Namf_MBSBroadcast_ContextStatusNotify request may include a list of N2 MBS
Session Management containers received from different NG-RANs. When the AMF
receives the response from all NG-RANs, the AMF shall include an indication of
the completion of the operation in the Namf_MBSBroadcast_ContextStatusNotify
request.
If the AMF does not receive responses from all NG-RAN nodes before the maximum
response time elapses since the reception of the
Namf_MBSBroadcast_ContextCreate Request, then the AMF should send one
Namf_MBSBroadcast_ContextStatusNotify request indicating the incompletion of
the Broadcast MBS session establishment.
For each N2 MBS Session Management container sent towards the MB-SMF, the AMF
shall insert the identifier of the NG-RAN node that generated it in the
corresponding entry of the n2MbsSmInfoList attribute.
The AMF may send one or more Namf_MBSBroadcast_ContextStatusNotify request
including an operationEvents attribute to report the MB-SMF about failure to
reach one or more NG-RANs.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.5.3.2.3.1-3 shall be returned. For a 4xx/5xx response, the message body may
contain a ProblemDetails structure with the \"cause\" attribute set to one of
the application errors listed in Table 6.5.3.2.3.1-3.
#### 5.6.2.3 ContextUpdate
The ContextUpdate service operation shall be used by the NF Service Consumer
(e.g. MB-SMF) to request the AMF to update a broadcast MBS session context.
It is used in the following procedures:
\- MBS Session Update for Broadcast (see clause 7.3.3 of 3GPP TS 23.247 [55]).
\- Broadcast MBS session restoration by MB-SMF (see clause 8.3.2.3 of 3GPP TS
23.527 [33].
\- Selecting an alternative AMF for a Broadcast MBS Session at AMF failure
(see clause 8.3.2.4 of 3GPP TS 23.527 [33]).
The NF Service Consumer (e.g. MB-SMF) shall update a broadcast MBS session
context by using the HTTP POST method as shown in Figure 5.6.2.3-1.
Figure 5.6.2.3-1: Broadcast MBS session context update
1\. The NF Service Consumer shall send a POST request targeting the individual
Broadcast MBS session context resource to be updated in the AMF. The payload
body of the POST request may contain the following information:
\- N2 MBS Session Management container (see MBS Session Setup or Modification
Request Transfer IE in 3GPP TS 38.413 [12]);
\- Notification URI, if the NF Service Consumer wishes to modify the
notification URI where to be notified about the status change of the broadcast
MBS session context;
\- updated MBS service area, for a Local broadcast MBS session;
\- updated list of Area Session ID and related MBS service area, for a
Location dependent broadcast MBS session.
\- the n2MbsInfoChangeInd IE set to \"true\" or \"false\" to indicate to the
AMF whether the information within the N2 MBS Session Management container has
changed or not for the MBS session
The NF Service Consumer may also include the maxResponseTime IE in the request
to indicate the maximum response time to receive information about the
completion of the Broadcast MBS session update.
During a broadcast MBS session restoration procedure for an NG-RAN failure
with restart, the MB-SMF may include one or more ranIds attibutes to request
the AMF to setup the Broadcast MBS session in a list of NG-RANs as identified
by the NG-RAN ID(s), as specified in clause 8.3.2.3 of 3GPP TS 23.527 [33].
During a restoration procedure upon an AMF failure without restart, for an AMF
deployed in an AMF set, the MB-SMF may set the noNgapSignallingInd IE to
\"true\" when the MB-SMF detects the original AMF has failed and then selects
an alternative AMF to take over the MBS session but without a need to trigger
any NGAP signalling towards NG-RANs, as specified in clause 8.3.2.4 of 3GPP TS
23.527 [33].
2a. On success, \"200 OK\" shall be returned if additional information needs
to be returned in the response. The 200 OK response may contain one or more N2
MBS Session Management containers, if such information (e.g. MBS Session Setup
or Modification Response Transfer IE, MBS Session Setup or Modification
Failure Transfer IE or MBS Session Release Response Transfer IE in 3GPP TS
38.413 [12]) needs to be transferred to the MB-SMF. If the AMF received the
NG-RAN responses from all involved NG-RAN(s), the AMF shall include an
indication of completion of the operation in all NG-RANs.
2b. On success, \"204 No Content\" shall be returned if no additional
information needs to be returned in the response.
In both 2a and 2b cases, upon receipt of subsequent responses from other NG-
RANs after sending the 200 OK response or the 204 No Content response, if
additional information (e.g. MBS Session Setup or Modification Response
Transfer IE MBS Session Setup or Modification Failure Transfer IE or MBS
Session Release Response Transfer IE in 3GPP TS 38.413 [12]) needs to be
transferred to the MB-SMF, the AMF shall transfer such information by sending
one or more Namf_MBSBroadcast_ContextStatusNotify requests to the MB-SMF. A
Namf_MBSBroadcast_ContextStatusNotify request may include a list of N2 MBS
Session Management containers received from different NG-RANs. When the AMF
receives the response from all NG-RANs, the AMF shall include an indication of
the completion of the operation in the Namf_MBSBroadcast_ContextStatusNotify
request.
If the AMF does not receive responses from all NG-RAN nodes before the maximum
response time elapses since the reception of the
Namf_MBSBroadcast_ContextUpdate Request, then the AMF should send one
Namf_MBSBroadcast_ContextStatusNotify request indicating the incompletion of
the Broadcast MBS session update.
If the n2MbsInfoChangeInd IE is present in the request and set to \"false\",
the AMF does not need to contact NG-RAN nodes unaffected by the MBS service
area change.
For each N2 MBS Session Management container sent towards the MB-SMF, the AMF
shall insert the identifier of the NG-RAN node that generated it in the
corresponding entry of the n2MbsSmInfoList attribute.
The AMF may send one or more Namf_MBSBroadcast_ContextStatusNotify request
including an operationEvents attribute to report the MB-SMF about failure to
reach one or more NG-RANs.
2c. On failure or redirection, one of the HTTP status code listed in Table
6.5.3.2.4.2.2-2 shall be returned. For a 4xx/5xx response, the message body
may contain a ProblemDetails structure with the \"cause\" attribute set to one
of the application errors listed in Table 6.5.3.2.4.2.2-2.
#### 5.6.2.4 ContextRelease
The ContextRelease service operation shall be used by the NF Service Consumer
(e.g. MB-SMF) to request the AMF to release a broadcast MBS session context.
It is used in the following procedures:
\- MBS Session Release for Broadcast (see clause 7.3.2 of 3GPP TS 23.247
[55]).
The NF Service Consumer (e.g. MB-SMF) shall release a broadcast MBS session
context by using the HTTP DELETE method as shown in Figure 5.6.2.4-1.
Figure 5.6.2.4-1: Broadcast MBS session context release
1\. The NF Service Consumer shall send a DELETE request targeting the
individual Broadcast MBS session context resource to be released in the AMF.
2a. On success, \"204 No Content\" shall be returned.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.5.3.3.3.1-3 shall be returned. For a 4xx/5xx response, the message body may
contain a ProblemDetails structure with the \"cause\" attribute set to one of
the application errors listed in Table 6.5.3.3.3.1-3.
The AMF may send one or more Namf_MBSBroadcast_ContextStatusNotify request
including an operationEvents attribute to report the MB-SMF about failure to
reach one or more NG-RANs.
#### 5.6.2.5 ContextStatusNotify
The ContextStatusNotify service operation shall be used by the AMF to notify
status change of a broadcast MBS session context to the NF Service Consumer
(e.g. MB-SMF).
It is used in the following procedures:
\- MBS Session Start for Broadcast (see clause 7.3.1 of 3GPP TS 23.247 [55]);
\- MBS Session Update for Broadcast (see clause 7.3.3 of 3GPP TS 23.247 [55]);
\- Broadcast MBS Session Release Require (see clause 7.3.6 of 3GPP TS 23.247
[55]).
\- Broadcast MBS session restoration by MB-SMF (see clause 8.3.2.3 of 3GPP TS
23.527 [33]).
\- Selecting an alternative AMF for a Broadcast MBS Session at AMF failure
(see clause 8.3.2.4 of 3GPP TS 23.527 [33]).
\- Transport change for resource sharing across broadcast MBS Sessions in
network sharing (see clause 7.3.x of 3GPP TS 23.247 [55]).
The AMF shall notify status change of a broadcast MBS session context to the
NF Service Consumer (e.g. MB-SMF) by using the HTTP POST method as shown in
Figure 5.6.2.5-1.
Figure 5.6.2.5-1: Broadcast MBS session context status change notification
1\. The AMF shall send a POST request targeting the notification URI received
from the NF Service Consumer. The payload body of the POST request shall
contain the following information:
\- MBS Session ID (i.e. TMGI, or TMGI and NID for an MBS session in an SNPN);
\- Area Session ID, if this is a Location dependent broadcast MBS service;
\- one or more N2 MBS Session Management containers, if N2 MBS Session
Management information (e.g. MBS Session Setup or Modification Response
Transfer IE, MBS Session Setup or Modification Failure Transfer IE or MBS
Session Release Response Transfer IE or Boardcast Session Transport Request
Transfer IE in 3GPP TS 38.413 [12]) has been received from one or more NG-RANs
that needs to be transferred to the NF Service Consumer; for each N2 MBS
Session Management container sent towards the MB-SMF, the AMF shall insert the
identifier of the NG-RAN node that generated it in the corresponding entry of
the n2MbsSmInfoList attribute.
Editor\'s Note: The NGAP message name and IE type need to be aligned with 3GPP
TS 38.413.
\- the operationStatus IE indicating the completion of the Broadcast MBS
session establishment or update, if the NF Service Consumer has requested to
establish or update the Broadcast MBS session context and a response has been
received from all NG-RANs; and
\- the operationStatus IE indicating the incompletion of the Broadcast MBS
session establishment or update, if the NF Service Consumer has requested to
establish or update the Broadcast MBS session context including a maximum
response time and the AMF has not received responses from all NG-RANs before
the maximum response time elapses.
During a Broadcast MBS Session Release Require procedure (see clause 7.3.6 of
3GPP TS 23.247 [55]), one or more NG-RANs may request the AMF to release the
Broadcast MBS session. In this case, based on operator\'s policy, the AMF may:
\- report the Broadcast MBS Session release to the MB-SMF by including the
operationEvent attribute in the MBS Context Status Notification request with
the opEventType set to \"NG_RAN_EVENT\" together with a list of
\"ngranFailureEvent\" for each NG-RAN that requested to release the Broadcast
MBS Session. Upon receiving such a notification, per local policies, the MB-
SMF may attempt to re-establish the MBS session after some operator
configurable time in these NG-RANs by performing the Broadcast MBS session
restoration by MB-SMF procedure specified in clause 8.3.2.3 of 3GPP TS 23.527
[33]; or
\- attempt to re-establish the MBS session after some operator configurable
time in these NG-RANs by performing the Broadcast MBS session restoration by
AMF procedure specified in clause 8.3.2.2 of 3GPP TS 23.527 [33].
If all the NG-RANs serving the Broadcast MBS session requested the AMF to
release the Broadcast MBS session, the AMF shall release the Broadcast MBS
session context and send a notification with the releaseInd attribute set to
true to report to the MB-SMF that the Broadcast MBS session (context) is
released at the AMF and NG-RANs.
The AMF may include an operationEvents attribute in the MBS Context Status
Notification request to report the MB-SMF:
\- a NG-RAN failure event, e.g. the NG-RAN failure with or without restart, as
specified in clause 8.3.2.3 of 3GPP TS 23.527 [33]);
\- that a new AMF has taken over the control of the broadcast MBS session upon
an AMF failure as specified in clause 8.3.2.4 of 3GPP TS 23.527 [33]).
2a. On success, the NF Service Consumer shall return a \"204 No Content\"
response. If the NF Service Consumer has received a ContextStatusNotification
with a N2 MBS Session Management container containing ngapData for Broadcast
Session Transport Request Transfer IE, it shall return a \"200 OK\" with the
ContextStatusNotificationResponse which includes the ngapData for Broadcast
Session Transport Response Transfer IE.
Editor's Note: Whether it is required to introduce \"200 OK\" as Acknowledge
to ContextStatusNotify request is FFS.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.5.5.2.3.1-3 shall be returned. For a 4xx/5xx response, the message body may
contain a ProblemDetails attribute with the \"cause\" attribute set to one of
the application errors listed in Table 6.5.5.2.3.1-3.
## 5.7 Namf_MBSCommunication Service
### 5.7.1 Service Description
This service enables an NF Service Consumer (e.g. MB-SMF) to request the AMF
to transfer MBS multicast related N2 message towards NG-RAN(s) serving a
multicast MBS session, during a multicast MBS session activation, deactivation
or update.
### 5.7.2 Service Operations
#### 5.7.2.1 Introduction
The Namf_MBSCommunication service supports the following service operations:
\- N2MessageTransfer
#### 5.7.2.2 N2MessageTransfer
The N2MessageTransfer service operation shall be used by the NF Service
Consumer (e.g. MB-SMF) to request the AMF to transfer an MBS related N2
message to the NG-RAN nodes serving the multicast MBS session. It is used
during the following procedures:
\- MBS session activation procedure (see clause 7.2.5.2 of 3GPP TS 23.247
[55]);
\- MBS session deactivation procedure (see clause 7.2.5.3 of 3GPP TS 23.247
[55]); and
\- Multicast session update procedure (see clause 7.2.6 of 3GPP TS 23.247
[55]).
The NF Service Consumer shall invoke the service operation by sending a POST
request to the URI of the \"transfer\" custom operation (see clause 6.6.3.1)
of the AMF. See Figure 5.7.2.2-1.
Figure 5.7.2.2-1 N2 Message Transfer for a multicast MBS session
1\. The NF Service Consumer shall invoke the custom operation for N2 message
transfer by sending a HTTP POST request and the request body shall carry the
MbsN2MessageTransferReqData data structure which contains the N2 MBS Session
Management information to be transferred. The MbsN2MessageTransferReqData may
also contain:
\- the Area Session ID, if this is a location dependent multicast MBS session;
and/or
\- a notification URI where to be notified about any failure of the MBS
related N2 procedure for an NG RAN node in this list; and
\- an optional notification correlation ID to be sent within notifications.
If the AMF supports the RAN-ID-LIST feature, the AMF shall distribute the MBS
related N2 message to the list of NG-RAN nodes indicated by the MB-SMF, if
any, otherwise to the list of NG-RAN nodes having established shared delivery
that the AMF stores locally, if any.
NOTE: An AMF which does not support the the RAN-ID-LIST feature distributes
the MBS related N2 message to the list of NG-RAN nodes having established
shared delivery that the AMF stores locally.
2a. On success, the AMF shall respond with a \"200 OK\" status code with
MbsN2MessageTransferRspData data structure. The AMF should respond success
when it receives the first successful response from the NG-RAN(s).
If the AMF supports the RAN-ID-LIST feature (see clause 6.6.8), and if the
request included a list of NG RAN node IDs and a notification URI where to be
notified about failures, the AMF shall report failure(s) of the N2 MBS related
N2 procedure with an NG RAN node in this list by including the failureList IE
in the \"200 OK\" response or in a subsequent Notify request towards the
notification URI received in the request. See clause 8.4.1.2 of 3GPP TS 23.527
[33].
2b. On failure or redirection, one of the HTTP status code listed in Table
6.6.3.1.4.2.2-2 shall be returned. For a 4xx/5xx response, the message body
may contain a ProblemDetails attribute with the \"cause\" attribute set to one
of the application errors listed in Table 6.6.4.2.2-2 if any.
#### 5.7.2.3 Notify
The Notify service operation shall be used by the AMF to notify the NF Service
Consumer about a failure of an MBS related N2 procedure with an NG RAN node
(see clause 5.7.2.2).
It is used in the following procedure:
\- N2 MBS session request distribution with list of NG RAN Node IDs provided
by MB-SMF to AMF (see clause 8.4.1.2 of 3GPP TS 23.527 [33]).
The AMF shall notify a failure of an MBS related N2 procedure with an NG RAN
node to the NF Service Consumer (e.g. MB-SMF) by using the HTTP POST method as
shown in Figure 5.7.2.3-1.
Figure 5.7.2.3-1: Notification
1\. The AMF shall send a POST request targeting the notification URI received
from the NF Service Consumer. The payload body of the POST request shall
contain the following information:
\- MBS Session ID (i.e. TMGI, or TMGI and NID for an MBS session in an SNPN);
\- the Area Session ID, if this is a location dependent multicast MBS session;
and
\- one or more failures including, for each failure, the related NG-RAN Node
ID and failure cause.
2a. On success, the NF Service Consumer shall return a \"204 No Content\"
response.
2b. On failure or redirection, one of the HTTP status code listed in Table
6.6.5.2.3.1-3 shall be returned. For a 4xx/5xx response, the message body may
contain a ProblemDetails attribute with the \"cause\" attribute set to one of
the application errors listed in Table 6.6.5.2.3.1-3.
# 6 API Definitions
## 6.1 Namf_Communication Service API
### 6.1.1 API URI
The Namf_Communication shall use the Namf_Communication API.
The API URI of the Namf_Communication API shall be:
**{apiRoot}/\ /\/**
The request URI used in HTTP requests from the NF service consumer towards the
NF service producer shall have the Resource URI structure defined in clause
4.4.1 of 3GPP TS 29.501 [5], i.e.:
**{apiRoot}/\ /\/\**
with the following components:
\- The {apiRoot} shall be set as described in 3GPP TS 29.501 [5].
\- The \ shall be \"namf-comm\".
\- The \ shall be \"v1\".
\- The \ shall be set as described in clause
6.1.3.
### 6.1.2 Usage of HTTP
#### 6.1.2.1 General
HTTP/2, as defined in IETF RFC 7540 [19], shall be used as specified in clause
5 of 3GPP TS 29.500 [4].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].
HTTP messages and bodies for the Namf_Communication service shall comply with
the OpenAPI [23] specification contained in Annex A.
#### 6.1.2.2 HTTP standard headers
##### 6.1.2.2.1 General
The usage of HTTP standard headers shall be supported as specified in clause
5.2.2 of 3GPP TS 29.500 [4].
##### 6.1.2.2.2 Content type
The following content types shall be supported:
\- JSON, as defined in IETF RFC 8259 [8], shall be used as content type of the
HTTP bodies specified in the present specification as indicated in clause 5.4
of 3GPP TS 29.500 [4].
\- The Problem Details JSON Object (IETF RFC 7807 [36]). The use of the
Problem Details JSON object in a HTTP response body shall be signalled by the
content type \"application/problem+json\".
Multipart messages shall also be supported (see clause 6.1.2.4) using the
content type \"multipart/related\", comprising:
\- one JSON body part with the \"application/json\" content type; and
\- one or more binary body parts with 3gpp vendor specific content subtypes.
The 3gpp vendor specific content subtypes defined in Table 6.1.2.2.2-1 shall
be supported.
Table 6.1.2.2.2-1: 3GPP vendor specific content subtypes
* * *
content subtype Description vnd.3gpp.ngap Binary encoded payload, encoding NG
Application Protocol (NGAP) IEs, as specified in clause 9.4 of 3GPP TS 38.413
[12] (ASN.1 encoded). vnd.3gpp.5gnas Binary encoded payload, encoding a 5GS
NAS message, as specified in 3GPP TS 24.501 [11]. NOTE: Using 3GPP vendor
content subtypes allows to describe the nature of the opaque payload (e.g.
NGAP or 5GS NAS information) without having to rely on metadata in the JSON
payload.
* * *
See clause 6.1.2.4 for the binary payloads supported in the binary body part
of multipart messages.
#### 6.1.2.3 HTTP custom headers
##### 6.1.2.3.1 General
In this release of this specification, no custom headers specific to the
Namf_Communication service are defined. For 3GPP specific HTTP custom headers
used across all service based interfaces, see clause 5.2.3 of 3GPP TS 29.500
[4].
#### 6.1.2.4 HTTP multipart messages
HTTP multipart messages shall be supported, to transfer opaque N1 Information
(e.g. SM, LPP) and/or N2 Information (e.g. SM, NRPPa, PWS), in the following
service operations (and HTTP messages):
\- N1N2MessageTransfer Request and Response (POST);
\- NonUeN2MessageTransfer Request and Response (POST);
\- N1MessageNotify (POST);
\- N2InfoNotify (POST);
\- NonUeN2InfoNotify (POST);
\- UEContextTransfer (POST);
\- CreateUEContext (PUT)
HTTP multipart messages shall include one JSON body part and one or more
binary body parts comprising:
\- N1payload, and/or N2 payload (see clause 6.1.6.4).
The JSON body part shall be the \"root\" body part of the multipart message.
It shall be encoded as the first body part of the multipart message. The
\"Start\" parameter does not need to be included.
The multipart message shall include a \"type\" parameter (see IETF RFC 2387
[9]) specifying the media type of the root body part, i.e.
\"application/json\".
NOTE: The \"root\" body part (or \"root\" object) is the first body part the
application processes when receiving a multipart/related message, see IETF RFC
2387 [9]. The default root is the first body within the multipart/related
message. The \"Start\" parameter indicates the root body part, e.g. when this
is not the first body part in the message.
For each binary body part in a HTTP multipart message, the binary body part
shall include a Content-ID header (see IETF RFC 2045 [10]), and the JSON body
part shall include an attribute, defined with the RefToBinaryData type, that
contains the value of the Content-ID header field of the referenced binary
body part.
### 6.1.3 Resources
#### 6.1.3.1 Overview
Figure 6.1.3.1-1: Resource URI structure of the Namf_Communication API
Table 6.1.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 6.1.3.1-1: Resources and methods overview
+----------------+----------------+----------------+----------------+ | Resource name | Resource URI | HTTP method or | Description | | | | custom | | | | | operation | (Mapped | | | | | Service | | | | | Operations) | +================+================+================+================+ | Individual | /ue-contexts | | | | ueContext | /{ueContextId} | | | +----------------+----------------+----------------+----------------+ | | | PUT | C | | | | | reateUEContext | +----------------+----------------+----------------+----------------+ | | /ue-co | release\ | Re | | | ntexts/{ueCont | (POST) | leaseUEContext | | | extId}/release | | | +----------------+----------------+----------------+----------------+ | | /ue-conte | assign-ebi\ | EBIAssignment | | | xts/{ueContext | (POST) | | | | Id}/assign-ebi | | | +----------------+----------------+----------------+----------------+ | | /ue-con | transfer\ | UEC | | | texts/{ueConte | (POST) | ontextTransfer | | | xtId}/transfer | | | +----------------+----------------+----------------+----------------+ | | /ue-contexts/{ | tr | Registrati | | | ueContextId}/t | ansfer-update\ | onStatusUpdate | | | ransfer-update | (POST) | | +----------------+----------------+----------------+----------------+ | | /ue-con | relocate\ | Rel | | | texts/{ueConte | (POST) | ocateUEContext | | | xtId}/relocate | | | +----------------+----------------+----------------+----------------+ | | /ue-contexts/{ | ca | CancelRel | | | ueContextId}/c | ncel-relocate\ | ocateUEContext | | | ancel-relocate | (POST) | | +----------------+----------------+----------------+----------------+ | n1N2Message | /ue-contexts/ | POST | N1N2M | | collection | {ueContextId}/ | | essageTransfer | | | n1-n2-messages | | | +----------------+----------------+----------------+----------------+ | N1N2 | /ue-contexts/ | POST | N1N2Me | | Subscriptions | {ueContextId}/ | | ssageSubscribe | | Collection for | n1-n2-messages | | | | Individual UE | /subscriptions | | | | Contexts | | | | +----------------+----------------+----------------+----------------+ | N1N2 | /u | DELETE | N1N2Mess | | Individual | e-contexts/{ue | | ageUnSubscribe | | Subscription | ContextId}/n1- | | | | | n2-messages/su | | | | | bscriptions/{s | | | | | ubscriptionId} | | | +----------------+----------------+----------------+----------------+ | subscriptions | /subscriptions | POST | AMFStatusC | | | | | hangeSubscribe | | collection | | | | +----------------+----------------+----------------+----------------+ | individual | /su | PUT | AMFStatusC | | | bscriptions/{s | | hangeSubscribe | | subscription | ubscriptionId} | | | +----------------+----------------+----------------+----------------+ | | | DELETE | AMFStatusCha | | | | | ngeUnSubscribe | +----------------+----------------+----------------+----------------+ | Non UE | /non-ue-n2-mes | transfer\ | NonUEN2M | | N2Messages | sages/transfer | (POST) | essageTransfer | | collection | | | | +----------------+----------------+----------------+----------------+ | Non UE | /non- | POST | NonUEN | | N2Messages | ue-n2-messages | | 2InfoSubscribe | | Subscriptions | /subscriptions | | | | collection | | | | +----------------+----------------+----------------+----------------+ | Non UE N2 | /n | DELETE | NonUEN2I | | Message | on-ue-n2-messa | | nfoUnsubscribe | | Notification | ges/subscripti | | | | Individual | ons/{n2NotifyS | | | | Subscription | ubscriptionId} | | | +----------------+----------------+----------------+----------------+
#### 6.1.3.2 Resource: Individual ueContext
##### 6.1.3.2.1 Description
This resource represents the an individual ueContext identified by the
ueContextId.
This resource is modelled as the Document resource archetype (see clause C.1
of 3GPP TS 29.501 [5]).
##### 6.1.3.2.2 Resource Definition
Resource URI:{apiRoot}/namf-comm/\/ue-contexts/{ueContextId}
This resource shall support the resource URI variables defined in table
6.1.3.2.2-1.
Table 6.1.3.2.2-1: Resource URI variables for this resource
+-------------+-----------+------------------------------------------+ | Name | Data Type | Definition | +=============+===========+==========================================+ | apiRoot | String | See clause 6.1.1 | +-------------+-----------+------------------------------------------+ | apiVersion | String | See clause 6.1.1. | +-------------+-----------+------------------------------------------+ | ueContextId | String | Represents the 5G **Globally Unique** | | | | Temporary Identifier (See | | | | 3GPP TS 23.501 [2] clause 5.9.4) | | | | | | | | Pattern: | | | | \ | | | | "5g-guti-[0-9]{5,6}[0-9a-fA-F]{14}\" | | | | | | | | Or represents the Subscription Permanent | | | | Identifier (see 3GPP TS 23.501 [2] | | | | clause 5.9.2)\ | | | | pattern: see pattern of type Supi in | | | | 3GPP TS 29.571 [6] | | | | | | | | Or represents the Permanent Equipment | | | | Identifier (see 3GPP TS 23.501 [2] | | | | clause 5.9.3) | | | | | | | | pattern: | | | | \"(ime | | | | i-[0-9]{15}\|imeisv-[0-9]{16}\|.+)\" | +-------------+-----------+------------------------------------------+
When the ueContextId is composed by UE\'s SUPI or PEI, UE\'s PEI shall be used
for the case:
\- If the UE is emergency registration and the UE is UICCless;
\- If the UE is emergency registration but SUPI is not authenticated.
For other cases, UE\'s SUPI shall be used.
##### 6.1.3.2.3 Resource Standard Methods
###### 6.1.3.2.3.1 PUT
This ueContextId identifies the individual ueContext resource is composed by
UE\'s SUPI or PEI, See table 6.1.3.2.2-1.
This method shall support the URI query parameters specified in table
6.1.3.2.3.1-1.
Table 6.1.3.2.3.1-1: URI query parameters supported by the PUT method on this
resource
Name Data type P Cardinality Description
* * *
n/a
This method shall support the request data structures specified in table
6.1.3.2.3.1-2 and the response data structures and response codes specified in
table 6.1.3.2.3.1-3.
Table 6.1.3.2.3.1-2: Data structures supported by the PUT Request Body on this
resource
Data type P Cardinality Description
* * *
UeContextCreateData M 1 Defines the UE Context to be created.
Table 6.1.3.2.3.1-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | UeConte | M | 1 | 201 Created | This case | | xtCreatedData | | | | represents | | | | | | the | | | | | | successful | | | | | | creation of a | | | | | | new UE | | | | | | Context. | | | | | | | | | | | | Upon success, | | | | | | a response | | | | | | body is | | | | | | returned | | | | | | containing | | | | | | the newly | | | | | | created UE | | | | | | Context. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | UeConte | O | 0..1 | 403 Forbidden | This case | | xtCreateError | | | | represents | | | | | | the creation | | | | | | of a new UE | | | | | | Context is | | | | | | not | | | | | | successful. | | | | | | | | | | | | The \"cause\" | | | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | > \- | | | | | | > HAND | | | | | | OVER_FAILURE | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | This error | | roblemDetails | | | | shall only be | | | | | | returned by | | | | | | an SCP or a | | | | | | SEPP for | | | | | | errors they | | | | | | originate. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PUT | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP or | | | | | | SEPP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.2.3.1-4: Headers supported by the 201 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains the | | | | | | URI of the | | | | | | newly created | | | | | | resource, | | | | | | according to | | | | | | the structure: | | | | | | {apiRoot}/namf- | | | | | | comm/\/ue-context | | | | | | s/{ueContextId} | +-----------------+-----------+---+-------------+-----------------+ | 3gpp- | string | C | 0..1 | This header | | Sbi-Producer-Id | | | | shall be | | | | | | included when | | | | | | the UE Context | | | | | | is created in a | | | | | | target AMF | | | | | | other than the | | | | | | initial AMF | | | | | | sending the | | | | | | response. | | | | | | | | | | | | When included, | | | | | | this header | | | | | | shall indicate | | | | | | the target AMF | | | | | | serving the | | | | | | created UE | | | | | | Context. | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.3.2.3.1-5: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.3.2.3.1-6: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
##### 6.1.3.2.4 Resource Custom Operations
###### 6.1.3.2.4.1 Overview
Table 6.1.3.2.4.1-1: Custom operations
+----------------+----------------+----------------+----------------+ | Operation Name | Custom | Mapped HTTP | Description | | | operation URI | method | | +================+================+================+================+ | release | /ue-co | POST | Release an | | | ntexts/{ueCont | | existing | | | extId}/release | | individual | | | | | ueContext | | | | | resource. | | | | | | | | | | It is used for | | | | | the Release UE | | | | | Context | | | | | service | | | | | operation. | +----------------+----------------+----------------+----------------+ | assign-ebi | /ue-conte | POST | Assign EPS | | | xts/{ueContext | | bearer ID(s) | | | Id}/assign-ebi | | towards EPS | | | | | bearer(s) | | | | | mapped from | | | | | QoS Flow(s), | | | | | for a PDU | | | | | session for | | | | | the UE. | | | | | | | | | | It is used for | | | | | EBIAssignment | | | | | service | | | | | operation. | +----------------+----------------+----------------+----------------+ | transfer | /ue-con | POST | Transfer an | | | texts/{ueConte | | existing | | | xtId}/transfer | | individual | | | | | ueContext | | | | | resource from | | | | | old AMF to new | | | | | AMF. | | | | | | | | | | It is used for | | | | | the | | | | | UEC | | | | | ontextTransfer | | | | | service | | | | | operation. | +----------------+----------------+----------------+----------------+ | t | /ue-contexts/{ | POST | Update the | | ransfer-update | ueContextId}/t | | source AMF | | | ransfer-update | | about the | | | | | status of UE | | | | | registration | | | | | at the target | | | | | AMF. | | | | | | | | | | It is used for | | | | | the | | | | | Registrati | | | | | onStatusUpdate | | | | | service | | | | | operation. | +----------------+----------------+----------------+----------------+ | relocate | /ue-con | POST | Relocate an | | | texts/{ueConte | | existing | | | xtId}/relocate | | individual | | | | | ueContext | | | | | resource. | | | | | | | | | | It is used for | | | | | the | | | | | Rel | | | | | ocateUEContext | | | | | service | | | | | operation. | +----------------+----------------+----------------+----------------+
###### 6.1.3.2.4.2 Operation: release (POST)
###### # 6.1.3.2.4.2.1 Description
This ueContextId identifies the individual ueContext resource is composed by
UE\'s SUPI or PEI, See table 6.1.3.2.2-1.
###### # 6.1.3.2.4.2.2 Operation Definition
This operation shall support the request data structures specified in table
6.1.3.2.4.2.2-1 and the response data structure and response codes specified
in table 6.1.3.2.4.2.2-2.
Table 6.1.3.2.4.2.2-1: Data structures supported by the (POST) release Request
Body on this resource
Data type P Cardinality Description
* * *
UEContextRelease M 1 The information used for releasing of the UE Context
Table 6.1.3.2.4.2.2-2: Data structures supported by the (POST) release
Response Body on this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | This case | | | | | Content | represents | | | | | | the handover | | | | | | is cancelled | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | > \- | | | | | | > UNSPECIFIED | | | | | | > | | | | | | > \- | | | | | | > SUPI_OR\ | | | | | | _PEI_UNKNOWN | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of this | | | | | | error. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | > \- | | | | | | > CONTEX | | | | | | T_NOT_FOUND | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of this | | | | | | error. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP or | | | | | | SEPP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.2.4.2.2-3: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.3.2.4.2.2-4: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
###### 6.1.3.2.4.3 Operation: assign-ebi (POST)
###### # 6.1.3.2.4.3.1 Description
This ueContextId identifies the individual ueContext resource is composed by
UE\'s SUPI or PEI, see Table 6.1.3.2.2-1.
###### # 6.1.3.2.4.3.2 Operation Definition
This operation shall support the request data structures specified in table
6.1.3.2.4.3.2-1 and the response data structure and response codes specified
in table 6.1.3.2.4.3.2-2.
Table 6.1.3.2.4.3.2-1: Data structures supported by the (POST) assign-ebi
Request Body on this resource
Data type P Cardinality Description
* * *
AssignEbiData M 1 The information required for AMF to allocate EPS bearer
ID(s) or to update the mapping of EBI and ARP for a QoS flow to which an EBI
is already allocated.
Table 6.1.3.2.4.3.2-2: Data structures supported by the (POST) assign-ebi
Response Body on this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | As | M | 1 | 200 OK | Represent | | signedEbiData | | | | successful | | | | | | assignment of | | | | | | EPS bearer ID | | | | | | service | | | | | | operation, | | | | | | with the | | | | | | assigned EBIs | | | | | | included, or | | | | | | represent | | | | | | successful | | | | | | update of the | | | | | | mapping of | | | | | | EBI and ARP | | | | | | for a QoS | | | | | | flow to which | | | | | | an EBI is | | | | | | already | | | | | | allocated. | | | | | | | | | | | | AMF may | | | | | | allocate only | | | | | | a subset of | | | | | | the requested | | | | | | EBIs, when | | | | | | not enough | | | | | | available | | | | | | EBI(s) can be | | | | | | allocated, | | | | | | e.g. when | | | | | | other PDU | | | | | | sessions with | | | | | | higher ARP | | | | | | have occupied | | | | | | too many | | | | | | EBIs. If the | | | | | | POST request | | | | | | body | | | | | | contained | | | | | | \"rele | | | | | | asedEbiList\" | | | | | | the AMF shall | | | | | | release those | | | | | | EBI(s) and | | | | | | shall include | | | | | | the | | | | | | \"rel | | | | | | easeEbiList\" | | | | | | IE in the | | | | | | POST response | | | | | | body. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 3) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 3) | +---------------+---+-------------+---------------+---------------+ | A | O | 0..1 | 403 Forbidden | This | | ssignEbiError | | | | represents | | | | | | the case when | | | | | | none of the | | | | | | requested | | | | | | EBI(s) can be | | | | | | assigned by | | | | | | the AMF. The | | | | | | \"cause\" | | | | | | attribute of | | | | | | the | | | | | | P | | | | | | roblemDetails | | | | | | shall be set | | | | | | to: | | | | | | | | | | | | - | | | | | | EB | | | | | | I_EXHAUSTED, | | | | | | if the number | | | | | | of EBIs | | | | | | allocated for | | | | | | the UE has | | | | | | already | | | | | | reached the | | | | | | maximum | | | | | | limit. | | | | | | | | | | | | - | | | | | | EBI | | | | | | _REJECTED_L | | | | | | OCAL_POLICY, | | | | | | if the EBI | | | | | | allocation is | | | | | | rejected due | | | | | | to local | | | | | | policies at | | | | | | the AMF as | | | | | | specified in | | | | | | clause | | | | | | 4.11.1.4.1 of | | | | | | 3GPP TS | | | | | | 23.502 [3]. | | | | | | | | | | | | - | | | | | | EBI_REJEC | | | | | | TED_NO_N26, | | | | | | if the EBI | | | | | | allocation | | | | | | was rejected | | | | | | when the AMF | | | | | | is in a | | | | | | serving PLMN | | | | | | that does not | | | | | | support | | | | | | 5GS-EPS | | | | | | interworking | | | | | | procedures | | | | | | with N26 | | | | | | interface as | | | | | | specified in | | | | | | clause | | | | | | 5.17.2.3.1 of | | | | | | 3GPP TS | | | | | | 23.501 [2]. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | This error | | roblemDetails | | | | shall only be | | | | | | returned by | | | | | | an SCP for | | | | | | errors it | | | | | | originates. | +---------------+---+-------------+---------------+---------------+ | A | O | 0..1 | 409 Conflict | This | | ssignEbiError | | | | represents | | | | | | the case when | | | | | | none of the | | | | | | requested | | | | | | EBI(s) can be | | | | | | assigned by | | | | | | the AMF. The | | | | | | \"cause\" | | | | | | attribute of | | | | | | the | | | | | | P | | | | | | roblemDetails | | | | | | shall be set | | | | | | to: | | | | | | | | | | | | - | | | | | | TE | | | | | | MPORARY_REJE | | | | | | CT_REGISTRAT | | | | | | ION_ONGOING, | | | | | | if there is | | | | | | an ongoing | | | | | | registration | | | | | | procedure. | | | | | | | | | | | | - | | | | | | TEMPORARY_ | | | | | | REJECT_HANDO | | | | | | VER_ONGOING, | | | | | | if there is | | | | | | an ongoing N2 | | | | | | handover | | | | | | procedure or | | | | | | an ongoing Xn | | | | | | handover | | | | | | procedure. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: When | | | | | | receiving EBI | | | | | | assignment | | | | | | request | | | | | | during Xn | | | | | | Handover or | | | | | | N2 Handover, | | | | | | the AMF may | | | | | | either reject | | | | | | the request | | | | | | with the | | | | | | TEMPORARY\ | | | | | | _REJECT_HAND | | | | | | OVER_ONGOING | | | | | | application | | | | | | error in a | | | | | | 409 Conflict | | | | | | response or | | | | | | proceed with | | | | | | assigning | | | | | | EBIs with a | | | | | | 200 OK | | | | | | response. In | | | | | | the latter | | | | | | case, upon | | | | | | receipt of | | | | | | the 200 OK | | | | | | response, the | | | | | | SMF shall | | | | | | take the | | | | | | assigned EBIs | | | | | | into account | | | | | | in subsequent | | | | | | processing. | | | | | | | | | | | | NOTE 3: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.2.4.3.2-3: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP, see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.3.2.4.3.2-4: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP, see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
###### 6.1.3.2.4.4 Operation: transfer (POST)
###### # 6.1.3.2.4.4.1 Description
This ueContextId identifies the individual ueContext resource is composed by
UE\'s 5G-GUTI or SUPI, see Table 6.1.3.2.2-1.
###### # 6.1.3.2.4.4.2 Operation Definition
This operation shall support the request data structures specified in table
6.1.3.2.4.4.2-1 and the response data structure and response codes specified
in table 6.1.3.2.4.4.2-2.
Table 6.1.3.2.4.4.2-1: Data structures supported by the (POST) transfer
Request Body on this resource
Data type P Cardinality Description
* * *
UeContextTransferReqData M 1 Represents to start transferring of an individual
ueContext resource from old AMF to new AMF.
Table 6.1.3.2.4.4.2-2: Data structures supported by the (POST) transfer
Response Body on this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | UeContextTr | M | 1 | 200 OK | Indicates the | | ansferRspData | | | | transferring | | | | | | of the | | | | | | individual | | | | | | ueContext | | | | | | resource is | | | | | | started | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | Indicates | | roblemDetails | | | | that AMF can | | | | | | understand | | | | | | the request | | | | | | but cannot | | | | | | fulfil the | | | | | | request due | | | | | | to errors. If | | | | | | the integrity | | | | | | check of the | | | | | | included | | | | | | complete | | | | | | registration | | | | | | message fails | | | | | | at the source | | | | | | AMF the | | | | | | \"cause\" | | | | | | attribute is | | | | | | set to: | | | | | | | | | | | | - | | | | | | INTEGRITY\ | | | | | | _CHECK_FAIL. | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | If the AMF | | roblemDetails | | | | does not have | | | | | | the requested | | | | | | UE context, | | | | | | the AMF shall | | | | | | return this | | | | | | status code | | | | | | and the | | | | | | \"cause\" | | | | | | attribute is | | | | | | set to: | | | | | | | | | | | | - | | | | | | CONTEX | | | | | | T_NOT_FOUND | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP or | | | | | | SEPP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.2.4.4.2-3: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.3.2.4.4.2-4: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
###### 6.1.3.2.4.5 Operation: transfer-update (POST)
###### # 6.1.3.2.4.5.1 Description
This ueContextId identifies the individual ueContext resource is composed by
UE\'s 5G-GUTI, see Table 6.1.3.2.2-1.
###### # 6.1.3.2.4.5.2 Operation Definition
This operation shall support the request data structures specified in table
6.1.3.2.4.5.2-1 and the response data structure and response codes specified
in table 6.1.3.2.4.5.2-2.
Table 6.1.3.2.4.5.2-1: Data structures supported by the (POST) transfer-update
Request Body on this resource
Data type P Cardinality Description
* * *
UeRegStatusUpdateReqData M 1 Represents to the update of status on the
transferring of an individual ueContext resource from old AMF to new AMF.
Table 6.1.3.2.4.5.2-2: Data structures supported by the (POST) transfer-update
Response Body on this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | UeRegStatus | M | 1 | 200 OK | Indicates the | | UpdateRspData | | | | update of UE | | | | | | context | | | | | | transfer | | | | | | status is | | | | | | successful at | | | | | | the source | | | | | | AMF. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | Indicates | | roblemDetails | | | | that AMF can | | | | | | understand | | | | | | the request | | | | | | but cannot | | | | | | fulfil the | | | | | | request due | | | | | | to errors. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | If the AMF | | roblemDetails | | | | does not have | | | | | | the requested | | | | | | UE context, | | | | | | the AMF shall | | | | | | return this | | | | | | status code | | | | | | and the | | | | | | \"cause\" | | | | | | attribute is | | | | | | set to: | | | | | | | | | | | | - | | | | | | CONTEX | | | | | | T_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP or | | | | | | SEPP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.2.4.5.2-3: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.3.2.4.5.2-4: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
###### 6.1.3.2.4.6 Operation: relocate (POST)
###### # 6.1.3.2.4.6.1 Description
The ueContextId identifying the individual ueContext resource is composed by
UE\'s SUPI or PEI, see Table 6.1.3.2.2-1.
###### # 6.1.3.2.4.6.2 Operation Definition
This operation shall support the request data structures specified in table
6.1.3.2.4.6.2-1 and the response data structure and response codes specified
in table 6.1.3.2.4.5.2-2.
Table 6.1.3.2.4.6.2-1: Data structures supported by the (POST) relocate
Request Body on this resource
Data type P Cardinality Description
* * *
UeContextRelocateData M 1 Defines the UE Context to be relocated to a new AMF.
Table 6.1.3.2.4.6.2-2: Data structures supported by the (POST) relocate
Response Body on this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | UeContext | M | 1 | 201 Created | This case | | RelocatedData | | | | represents | | | | | | the | | | | | | successful | | | | | | relocation of | | | | | | UE Context to | | | | | | a new AMF. | | | | | | | | | | | | Upon success, | | | | | | a response | | | | | | body is | | | | | | returned | | | | | | containing | | | | | | the newly | | | | | | created UE | | | | | | Context in | | | | | | new AMF. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | ProblemDetail | O | 0..1 | 403 Forbidden | This case | | | | | | represents an | | | | | | unsuccessful | | | | | | relocation of | | | | | | UE Context to | | | | | | a new AMF. | | | | | | | | | | | | The \"cause\" | | | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | HAND | | | | | | OVER_FAILURE | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.2.4.6.2-3: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP, see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.3.2.4.6.2-4: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP, see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
###### 6.1.3.2.4.7 Operation: cancel-relocate (POST)
###### # 6.1.3.2.4.7.1 Description
This ueContextId identifying the individual ueContext resource is composed by
UE\'s SUPI or PEI, See table 6.1.3.2.2-1.
###### # 6.1.3.2.4.7.2 Operation Definition
This operation shall support the request data structures specified in table
6.1.3.2.4.7.2-1 and the response data structure and response codes specified
in table 6.1.3.2.4.2.7-2.
Table 6.1.3.2.4.7.2-1: Data structures supported by the (POST) release Request
Body on this resource
Data type P Cardinality Description
* * *
UEContextCancelRelocateData M 1 The information used for cancellation of UE
Context Relocation.
Table 6.1.3.2.4.2.7-2: Data structures supported by the (POST) release
Response Body on this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | This case | | | | | Content | represents | | | | | | the handover | | | | | | is cancelled | | | | | | successfully. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | > \- | | | | | | > UNSPECIFIED | | | | | | > | | | | | | > \- | | | | | | > SUPI_OR\ | | | | | | _PEI_UNKNOWN | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of this | | | | | | error. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | > \- | | | | | | > CONTEX | | | | | | T_NOT_FOUND | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of this | | | | | | error. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.2.4.2.7-3: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | v For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP, see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.3.2.4.2.7-4: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP, see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
#### 6.1.3.3 Resource: N1N2 Subscriptions Collection for Individual UE
Contexts
##### 6.1.3.3.1 Description
This resource represents the collection under an individual UE context for
storing the subscriptions for notifications of UE specific N1 and N2 message
types. This resource is modelled as the Collection resource archetype (see
clause C.2 of 3GPP TS 29.501 [5]).
##### 6.1.3.3.2 Resource Definition
Resource URI: **{apiRoot}/namf-comm/\
/{ueContextId}/n1-n2-messages/subscriptions**
This resource shall support the resource URI variables defined in table
6.1.3.3.2-1.
Table 6.1.3.3.2-1: Resource URI variables for this resource
+-------------+-----------+------------------------------------------+ | Name | Data type | Definition | +=============+===========+==========================================+ | apiRoot | string | See clause 6.1.1 | +-------------+-----------+------------------------------------------+ | apiVersion | string | See clause 6.1.1. | +-------------+-----------+------------------------------------------+ | ueContextId | string | Represents the Subscription Permanent | | | | Identifier (see 3GPP TS 23.501 [2] | | | | clause 5.9.2)\ | | | | pattern: see pattern of type Supi in | | | | 3GPP TS 29.571 [6] | | | | | | | | Or represents the Permanent Equipment | | | | Identifier (see 3GPP TS 23.501 [2] | | | | clause 5.9.3) | | | | | | | | pattern: | | | | \"(ime | | | | i-[0-9]{15}\|imeisv-[0-9]{16}\|.+)\" | +-------------+-----------+------------------------------------------+
##### 6.1.3.3.3 Resource Standard Methods
###### 6.1.3.3.3.1 POST
This method creates an individual N1/N2 information subscription resource for
UE related N1/N2 information. This method is used by NF Service Consumers
(e.g. PCF) to subscribe for notifications about UE related N1/N2 Information.
This method shall support the request data structures specified in table
6.1.3.3.3.1-2 and the response data structures and response codes specified in
table 6.1.3.3.3.1-3.
Table 6.1.3.3.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description UeN1N2InfoSubscriptionCreateData C 0..1
Representation of the subscription for N1 and/or N2 information notification.
It shall contain the information regarding N1 and/or N2 information to be
notified and the callback URI for the respective notifications.
* * *
Table 6.1.3.3.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | UeN1N2I | C | 0..1 | 201 Created | This case | | nfoSubscripti | | | | represents | | onCreatedData | | | | the | | | | | | successful | | | | | | creation of | | | | | | the | | | | | | subscription | | | | | | for N1 and/or | | | | | | N2 | | | | | | information | | | | | | notification. | | | | | | | | | | | | Upon success, | | | | | | a response | | | | | | body is | | | | | | returned | | | | | | containing | | | | | | the | | | | | | r | | | | | | epresentation | | | | | | describing | | | | | | the status of | | | | | | the request. | | | | | | | | | | | | The Location | | | | | | header shall | | | | | | contain the | | | | | | location | | | | | | (URI) of the | | | | | | created | | | | | | subscription | | | | | | resource. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP or | | | | | | SEPP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.3.3.1-4: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/namf-
comm/\/ue-
contexts/{ueContextId}/n1-n2-messages/subscriptions/{subscriptionId}
* * *
Table 6.1.3.3.3.1-5: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.3.3.3.1-6: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
##### 6.1.3.3.4 Resource Custom Operations
There are no custom operations supported on this resource.
#### 6.1.3.4 Resource: N1N2 Individual Subscription
##### 6.1.3.4.1 Description
This resource represents the individual subscription for the subscription for
notifications of UE specific N1 and N2 message types.
This resource is modelled as the Document resource archetype (see clause C.1
of 3GPP TS 29.501 [5]).
##### 6.1.3.4.2 Resource Definition
Resource URI: **{apiRoot}/namf-comm/\
/{ueContextId}/n1-n2-messages/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
6.1.3.4.2-1.
Table 6.1.3.4.2-1: Resource URI variables for this resource
+----------------+-----------+---------------------------------------+ | Name | Data type | Definition | +================+===========+=======================================+ | apiRoot | string | See clause 6.1.1 | +----------------+-----------+---------------------------------------+ | apiVersion | string | See clause 6.1.1. | +----------------+-----------+---------------------------------------+ | ueContextId | string | Represents the Subscription Permanent | | | | Identifier (see 3GPP TS 23.501 [2] | | | | clause 5.9.2)\ | | | | pattern: see pattern of type Supi in | | | | 3GPP TS 29.571 [6] | | | | | | | | Or represents the Permanent Equipment | | | | Identifier (see 3GPP TS 23.501 [2] | | | | clause 5.9.3) | | | | | | | | pattern: | | | | \"(imei-\ | | | | [0-9]{15}\|imeisv-[0-9]{16}\|.+)\" | +----------------+-----------+---------------------------------------+ | subscriptionId | string | Represents the individual | | | | subscription to the UE specific N1/N2 | | | | message notification. | +----------------+-----------+---------------------------------------+
##### 6.1.3.4.3 Resource Standard Methods
###### 6.1.3.4.3.1 DELETE
This method deletes an individual N1/N2 message notification subscription
resource for an individual UE. This method is used by NF Service Consumers
(e.g. PCF) to unsubscribe for notifications about UE related N1/N2
information.
This method shall support the request data structures specified in table
6.1.3.4.3.1-2 and the response data structures and response codes specified in
table 6.1.3.4.3.1-3.
Table 6.1.3.4.3.1-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.1.3.4.3.1-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | | | | | | Content | | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | If the | | roblemDetails | | | | resource | | | | | | corresponding | | | | | | to the | | | | | | S | | | | | | ubscriptionId | | | | | | cannot be | | | | | | found, the | | | | | | AMF shall | | | | | | return this | | | | | | status code. | | | | | | The \"cause\" | | | | | | attribute is | | | | | | set to: | | | | | | | | | | | | - | | | | | | SUBSCRIPTIO | | | | | | N_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP or | | | | | | SEPP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.4.3.1-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.3.4.3.1-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
##### 6.1.3.4.4 Resource Custom Operations
There are no custom operations supported on this resource.
#### 6.1.3.5 Resource: N1N2 Messages Collection
##### 6.1.3.5.1 Description
This resource represents the collection on which UE related N1 messages and N2
information transfer are initiated and the N1 information for the UE is stored
temporarily until the UE is reachable. This resource is modelled with the
Collection resource archetype (see clause C.2 of 3GPP TS 29.501 [5]).
##### 6.1.3.5.2 Resource Definition
Resource URI: {apiRoot}/namf-comm/\/ue-
contexts/{ueContextId}/n1-n2-messages
This resource shall support the resource URI variables defined in table
6.1.3.5.2-1.
Table 6.1.3.5.2-1: Resource URI variables for this resource
+---------------------------+-----------+---------------------------+ | Name | Data type | Definition | +===========================+===========+===========================+ | apiRoot | string | See clause 6.1.1 | +---------------------------+-----------+---------------------------+ | apiVersion | string | See clause 6.1.1. | +---------------------------+-----------+---------------------------+ | ueContextId | string | Represents the | | | | Subscription Permanent | | | | Identifier (see | | | | 3GPP TS 23.501 [2] | | | | clause 5.9.2)\ | | | | pattern: see pattern of | | | | type Supi in | | | | 3GPP TS 29.571 [6] | | | | | | | | Or represents the | | | | Permanent Equipment | | | | Identifier (see | | | | 3GPP TS 23.501 [2] | | | | clause 5.9.3) | | | | | | | | pattern: | | | | \"(imei-[0-9]{1 | | | | 5}\|imeisv-[0-9]{16})\" | | | | | | | | Or represents the LCS | | | | Correlation ID (see | | | | 3GPP TS 29.572 [25] | | | | clause 6.1.6.3.2) (NOTE) | | | | | | | | pattern: | | | | \"(cid-.{1,255})\" | +---------------------------+-----------+---------------------------+ | NOTE: The LCS Correlation | | | | ID shall only be applied | | | | when transferring LCS | | | | related UE-Specific N1 | | | | and/or N2 messages. | | | +---------------------------+-----------+---------------------------+
##### 6.1.3.5.3 Resource Standard Methods
###### 6.1.3.5.3.1 POST
This method initiates a N1 message and/or N2 message transfer at the AMF and
may create a resource to store the N1 and/or N2 message as specified in clause
5.2.2.3.1.2, e.g. if asynchronous type communication is invoked or if the UE
is paged.
This method shall support the request data structures specified in table
6.1.3.5.3.1-1 and the response data structures and response codes specified in
table 6.1.3.5.3.1-2.
Table 6.1.3.5.3.1-1: Data structures supported by the POST Request Body on
this resource
+------------------------+---+-------------+------------------------+ | Data type | P | Cardinality | Description | +========================+===+=============+========================+ | N1N2 | M | 1 | This contains: | | MessageTransferReqData | | | | | | | | - N1 message, if the | | | | | NF Service Consumer | | | | | requests to transfer | | | | | an N1 message to the | | | | | UE or; | | | | | | | | | | - N2 information, if | | | | | the NF Service | | | | | Consumer requests to | | | | | transfer an N2 | | | | | information to the | | | | | 5G-AN or; | | | | | | | | | | - both, if the NF | | | | | Service Consumer | | | | | requests to transfer | | | | | both an N1 message to | | | | | the UE and an N2 | | | | | information to the | | | | | 5G-AN. | +------------------------+---+-------------+------------------------+
Table 6.1.3.5.3.1-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | N1N2MessageTr | M | 1 | 202 Accepted | This case | | ansferRspData | | | | represents | | | | | | the | | | | | | successful | | | | | | storage of | | | | | | the N1/N2 | | | | | | information | | | | | | at the AMF | | | | | | when | | | | | | asynchronous | | | | | | communication | | | | | | is invoked or | | | | | | when the AMF | | | | | | pages the UE. | | | | | | If the AMF | | | | | | pages the UE, | | | | | | it shall | | | | | | store the | | | | | | N1/N2 message | | | | | | information | | | | | | until the UE | | | | | | responds to | | | | | | paging. | | | | | | | | | | | | The cause | | | | | | included in | | | | | | the response | | | | | | body shall be | | | | | | set to one of | | | | | | the following | | | | | | values: | | | | | | | | | | | | - | | | | | | WAITING_F | | | | | | OR_ASYNCHRON | | | | | | OUS_TRANSFER | | | | | | | | | | | | - | | | | | | ATTEMPTING_ | | | | | | TO_REACH_UE | | | | | | | | | | | | The HTTP | | | | | | response | | | | | | shall include | | | | | | a | | | | | | \"Location\" | | | | | | HTTP header | | | | | | that contains | | | | | | the resource | | | | | | URI of the | | | | | | created | | | | | | resource. In | | | | | | this release, | | | | | | the URI shall | | | | | | only be used | | | | | | by NF Service | | | | | | consumer to | | | | | | correlate the | | | | | | possible | | | | | | N1/N2 Message | | | | | | Transfer | | | | | | Failure | | | | | | Notification | | | | | | with the | | | | | | related N1/N2 | | | | | | Message | | | | | | Transfer | | | | | | Operation. | | | | | | The NF | | | | | | service | | | | | | consumer | | | | | | shall not | | | | | | send any | | | | | | service | | | | | | requests | | | | | | towards the | | | | | | URI received | | | | | | in the | | | | | | Location | | | | | | header. | +---------------+---+-------------+---------------+---------------+ | N1N2MessageTr | M | 1 | 200 OK | This | | ansferRspData | | | | represents | | | | | | the cases | | | | | | where: | | | | | | | | | | | | - the AMF is | | | | | | able to | | | | | | successfully | | | | | | transfer the | | | | | | N1/N2 message | | | | | | to the UE | | | | | | and/or the | | | | | | AN; | | | | | | | | | | | | - the AMF | | | | | | skips sending | | | | | | and discards | | | | | | the N1 | | | | | | message when | | | | | | UE is in | | | | | | CM-IDLE and | | | | | | the | | | | | | \"skipInd\" | | | | | | is set to | | | | | | \"true\" in | | | | | | the request; | | | | | | or | | | | | | | | | | | | - the AMF | | | | | | skips sending | | | | | | and discards | | | | | | the N2 | | | | | | message as | | | | | | well as the | | | | | | possibly | | | | | | included N1 | | | | | | message, when | | | | | | the UE is in | | | | | | CM-CONNECTED | | | | | | state and the | | | | | | UE is outside | | | | | | of the | | | | | | validity area | | | | | | included in | | | | | | the | | | | | | N1N2Me | | | | | | ssageTransfer | | | | | | Request. | | | | | | | | | | | | The cause | | | | | | included in | | | | | | the response | | | | | | body shall be | | | | | | to one of the | | | | | | following | | | | | | values: | | | | | | | | | | | | - | | | | | | N | | | | | | 1_N2_TRANSF | | | | | | ER_INITIATED | | | | | | | | | | | | - | | | | | | N1_MSG_NOT | | | | | | _TRANSFERRED | | | | | | | | | | | | - | | | | | | N2_MSG_NOT | | | | | | _TRANSFERRED | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | When the | | | | | | related UE | | | | | | context is | | | | | | not fully | | | | | | available at | | | | | | the target NF | | | | | | Service | | | | | | Consumer | | | | | | (e.g. AMF) | | | | | | during a | | | | | | planned | | | | | | maintenance | | | | | | case (e.g. | | | | | | AMF planned | | | | | | maintenance | | | | | | without UDSF | | | | | | case), the | | | | | | \"cause\" | | | | | | attribute | | | | | | shall be set | | | | | | to: | | | | | | | | | | | | - | | | | | | NF_CO | | | | | | NSUMER_REDIR | | | | | | ECT_ONE_TXN | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | UE_IN_NON_ | | | | | | ALLOWED_AREA | | | | | | | | | | | | - | | | | | | UE\ | | | | | | _WITHOUT_N1\ | | | | | | _LPP_SUPPORT | | | | | | | | | | | | - | | | | | | UNSPECIFIED | | | | | | | | | | | | - | | | | | | SM_CON | | | | | | TEXT_RELOCAT | | | | | | ION_REQUIRED | | | | | | | | | | | | - | | | | | | INVALID_PRU | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | When the | | roblemDetails | | | | related UE is | | | | | | not found in | | | | | | the NF | | | | | | Service | | | | | | Consumer | | | | | | (e.g. AMF), | | | | | | the \"cause\" | | | | | | attribute | | | | | | shall be set | | | | | | to: | | | | | | | | | | | | - | | | | | | CONTEX | | | | | | T_NOT_FOUND | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | N1N2Message | O | 0..1 | 409 Conflict | This | | TransferError | | | | represents | | | | | | the case | | | | | | where the AMF | | | | | | rejects the | | | | | | N1N2Me | | | | | | ssageTransfer | | | | | | request due | | | | | | to one of the | | | | | | following | | | | | | reasons. The | | | | | | cause | | | | | | attribute of | | | | | | the | | | | | | P | | | | | | roblemDetails | | | | | | structure | | | | | | shall be set | | | | | | to: | | | | | | | | | | | | - | | | | | | HIGHER_P | | | | | | RIORITY_REQU | | | | | | EST_ONGOING, | | | | | | if there is | | | | | | already an | | | | | | ongoing | | | | | | paging | | | | | | procedure | | | | | | with higher | | | | | | or same | | | | | | priority; | | | | | | | | | | | | - | | | | | | TE | | | | | | MPORARY_REJE | | | | | | CT_REGISTRAT | | | | | | ION_ONGOING, | | | | | | if there is | | | | | | an ongoing | | | | | | registration | | | | | | procedure | | | | | | (see clause | | | | | | 4.2.3.3 of | | | | | | 3GPP TS 2 | | | | | | 3.502 [3]); | | | | | | | | | | | | - | | | | | | TEMPORARY_ | | | | | | REJECT_HANDO | | | | | | VER_ONGOING, | | | | | | if there is | | | | | | an ongoing Xn | | | | | | or N2 | | | | | | handover | | | | | | procedure | | | | | | (see clause | | | | | | 4.9.1.2.1 and | | | | | | 4.9.1.3.1 of | | | | | | 3GPP TS 2 | | | | | | 3.502 [3]). | | | | | | | | | | | | - | | | | | | UE_IN_CM\ | | | | | | _IDLE_STATE, | | | | | | if this is a | | | | | | request to | | | | | | transfer a N2 | | | | | | PDU Session | | | | | | Resource | | | | | | Modify | | | | | | Request or a | | | | | | N2 PDU | | | | | | Session | | | | | | Resource | | | | | | Release | | | | | | Command to a | | | | | | 5G-AN, and if | | | | | | the UE is in | | | | | | CM-IDLE state | | | | | | at the AMF | | | | | | for the | | | | | | Access | | | | | | Network Type | | | | | | associated to | | | | | | the PDU | | | | | | session. | | | | | | | | | | | | - | | | | | | MAX_A | | | | | | CTIVE_SESSIO | | | | | | NS_EXCEEDED, | | | | | | if the RAT | | | | | | type is | | | | | | NB-IoT, and | | | | | | the UE | | | | | | already has 2 | | | | | | PDU Sessions | | | | | | with active | | | | | | user plane | | | | | | resources. | | | | | | | | | | | | - | | | | | | R | | | | | | EJECTION_DUE | | | | | | _TO_PAGING\ | | | | | | _RESTRICTION, | | | | | | if Paging | | | | | | Restrictions | | | | | | information | | | | | | restricts the | | | | | | N1N2Me | | | | | | ssageTransfer | | | | | | request from | | | | | | causing | | | | | | paging as | | | | | | specified in | | | | | | 3GPP TS | | | | | | 23.501 [2] | | | | | | clause 5.38.5 | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | N1N2Message | O | 0..1 | 504 Gateway | This | | TransferError | | | Timeout | represents | | | | | | the case | | | | | | where the UE | | | | | | is not | | | | | | reachable at | | | | | | the AMF and | | | | | | the AMF is | | | | | | unable to | | | | | | page the UE. | | | | | | The cause | | | | | | attribute of | | | | | | the | | | | | | P | | | | | | roblemDetails | | | | | | structure | | | | | | shall be set | | | | | | to: | | | | | | | | | | | | - | | | | | | UE_NO | | | | | | T_REACHABLE, | | | | | | if the UE is | | | | | | not reachable | | | | | | for paging; | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 504 Gateway | This error | | roblemDetails | | | Timeout | shall only be | | | | | | returned by | | | | | | an SCP or a | | | | | | SEPP for | | | | | | errors they | | | | | | originate. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP or | | | | | | SEPP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.5.3.1-3: Headers supported by the 202 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 The URI of the
resource located on the AMF to which the status of the N1N2 message transfer
is held
* * *
Table 6.1.3.5.3.1-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | The URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set to which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.3.5.3.1-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
#### 6.1.3.6 Resource: subscriptions collection
##### 6.1.3.6.1 Description
This resource represents a collection of subscriptions of NF service consumers
to the status change of the AMF identified by the GUAMI(s).
This resource is modelled as the Collection resource archetype (see clause C.2
of 3GPP TS 29.501 [5]).
##### 6.1.3.6.2 Resource Definition
Resource URI:{apiRoot}/namf-comm/\/subscriptions
This resource shall support the resource URI variables defined in table
6.1.3.6.2-1.
Table 6.1.3.6.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.1.1 apiVersion string See clause 6.1.1.
##### 6.1.3.6.3 Resource Standard Methods
###### 6.1.3.6.3.1 POST
This method creates a new subscription. This method shall support the URI
query parameters specified in table 6.1.3.6.3.1-1.
Table 6.1.3.6.3.1-1: URI query parameters supported by the POST method on this
resource
Name Data type P Cardinality Description
* * *
n/a
This method shall support the request data structures specified in table
6.1.3.6.3.1-2 and the response data structures and response codes specified in
table 6.1.3.6.3.1-3.
Table 6.1.3.6.3.1-2: Data structures supported by the POST Request Body on
this resource
+------------------+---+-------------+------------------------+ | Data type | P | Cardinality | Description | +==================+===+=============+========================+ | SubscriptionData | M | 1 | The request body | | | | | contains the input | | | | | parameters for the | | | | | subscription. These | | | | | parameters include, | | | | | e.g.: | | | | | | | | | | - GUAMI(s) | | | | | | | | | | - amfStatusUri | +------------------+---+-------------+------------------------+
Table 6.1.3.6.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | Sub | M | 1 | 201 Created | This case | | scriptionData | | | | represents | | | | | | the | | | | | | successful | | | | | | creation of a | | | | | | subscription. | | | | | | | | | | | | Upon success, | | | | | | the HTTP | | | | | | response | | | | | | shall include | | | | | | a | | | | | | \"Location\" | | | | | | HTTP header | | | | | | that contains | | | | | | the resource | | | | | | URI of the | | | | | | created | | | | | | resource. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | > \- | | | | | | > UNSPECIFIED | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of this | | | | | | error. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP or | | | | | | SEPP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.6.3.1-4: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/namf-
comm/\/subscriptions/{subscriptionId}
* * *
Table 6.1.3.6.3.1-5: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.3.6.3.1-6: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
#### 6.1.3.7 Resource: individual subscription
##### 6.1.3.7.1 Description
This resource represents an individual subscription of a NF service consumer
to the status change of the AMF identified by the GUAMI(s).
This resource is modelled as the Document resource archetype (see clause C.1
of 3GPP TS 29.501 [5]).
##### 6.1.3.7.2 Resource Definition
Resource URI: {apiRoot}/namf-comm/\/subscriptions/{subscriptionId}
This resource shall support the resource URI variables defined in table
6.1.3.7.2-1.
Table 6.1.3.7.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.1.1 apiVersion string See clause 6.1.1.
subscriptionId string Represents a specific subscription
##### 6.1.3.7.3 Resource Standard Methods
###### 6.1.3.7.3.1 DELETE
This method terminates an existing subscription. This method shall support the
URI query parameters specified in table 6.1.3.7.3.1-1.
Table 6.1.3.4.3.1-1: URI query parameters supported by the DELETE method on
this resource
Name Data type P Cardinality Description
* * *
n/a
This method shall support the request data structures specified in table
6.1.3.7.3.1-2 and the response data structures and response codes specified in
table 6.1.3.7.3.1-3.
Table 6.1.3.7.3.1-2: Data structures supported by the DELETE Request Body on
this resource
Data type P Cardinality Description
* * *
n/a
Table 6.1.3.7.3.1-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | | | | 204 No | This case | | | | | Content | represents a | | | | | | successful | | | | | | deletion of | | | | | | the | | | | | | subscription. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | If the | | roblemDetails | | | | resource | | | | | | corresponding | | | | | | to the | | | | | | S | | | | | | ubscriptionId | | | | | | cannot be | | | | | | found, the | | | | | | AMF shall | | | | | | return this | | | | | | status code. | | | | | | The \"cause\" | | | | | | attribute is | | | | | | set to: | | | | | | | | | | | | - | | | | | | SUBSCRIPTIO | | | | | | N_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP or | | | | | | SEPP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.7.3.1-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.3.7.3.1-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
###### 6.1.3.7.3.2 PUT
This method replaces an existing subscription completely. This method shall
support the URI query parameters specified in table 6.1.3.7.3.2-1.
Table 6.1.3.7.3.2-1: URI query parameters supported by the PUT method on this
resource
Name Data type P Cardinality Description
* * *
n/a
This method shall support the request data structures specified in table
6.1.3.7.3.2-2 and the response data structures and response codes specified in
table 6.1.3.7.3.2-3.
Table 6.1.3.7.3.2-2: Data structures supported by the PUT Request Body on this
resource
+------------------+---+-------------+------------------------+ | Data type | P | Cardinality | Description | +==================+===+=============+========================+ | SubscriptionData | M | 1 | The request body | | | | | contains the input | | | | | parameters for the | | | | | subscription. These | | | | | parameters include, | | | | | e.g.: | | | | | | | | | | - GUAMI(s) | | | | | | | | | | - amfStatusUri | +------------------+---+-------------+------------------------+
Table 6.1.3.7.3.2-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | Sub | M | 1 | 200 OK | This case | | scriptionData | | | | represents a | | | | | | successful | | | | | | replacement | | | | | | of the | | | | | | subscription. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Represents | | | | | Content | the events | | | | | | subscription | | | | | | modification | | | | | | provided by | | | | | | the NF | | | | | | Service | | | | | | Consumer is | | | | | | accepted | | | | | | entirely. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | This case | | roblemDetails | | | | represents | | | | | | the failure | | | | | | update of an | | | | | | existing | | | | | | subscription. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PUT | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP or | | | | | | SEPP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.7.3.2-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.3.7.3.2-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
#### 6.1.3.8 Resource: Non UE N2 Messages Collection
##### 6.1.3.8.1 Description
This resource represents the collection on which custom operations to transfer
the N2 message towards the 5G-AN are specified. This resource is modelled with
the Collection resource archetype (see clause C.2 of 3GPP TS 29.501 [5]).
##### 6.1.3.8.2 Resource Definition
Resource URI: **{apiRoot}/namf-comm/\ /non-ue-n2-messages**
This resource shall support the resource URI variables defined in table
6.1.3.8.2-1.
Table 6.1.3.8.2-1: Resource URI variables for this resource
Name Data Type Definition
* * *
apiRoot String See clause 6.1.1 apiVersion String See clause 6.1.1.
##### 6.1.3.8.3 Resource Standard Methods
There are no resource standard methods for the non-ue-n2-messages collection
resource in this release of this specification.
##### 6.1.3.8.4 Resource Custom Operations
###### 6.1.3.8.4.1 Overview
Table 6.1.3.8.4.1-1: Custom operations
Operation Name Custom operaration URI Mapped HTTP method Description
* * *
transfer {resourceUri}/transfer POST Transfer the N2 message to 5G-AN.
###### 6.1.3.8.4.2 Operation: transfer
###### # 6.1.3.8.4.2.1 Description
The {resourceUri}/transfer custom operation is used to initiate a non UE
associated N2 information transfer to the identified 5G-AN nodes. This custom
operation uses the HTTP POST method.
###### # 6.1.3.8.4.2.2 Operation Definition
This operation shall support the request data structures specified in table
6.1.3.8.4.2.2-1 and the response data structure and response codes specified
in table 6.1.3.8.4.2.2-2.
Table 6.1.3.8.4.2.2-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description N2InformationTransferReqData M 1
Representation of the data to be sent to the 5G-AN node(s) by the AMF.
* * *
Table 6.1.3.8.4.2.2-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N2 | M | 1 | 200 OK | Indicates AMF | | InformationTr | | | | has | | ansferRspData | | | | successfully | | | | | | initiated the | | | | | | transferring | | | | | | of N2 | | | | | | Information | | | | | | to the AN.. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | N2Information | O | 0..1 | 400 Bad | The \"cause\" | | TransferError | | | Request | attribute may | | | | | | be set to one | | | | | | of the errors | | | | | | defined in | | | | | | Table | | | | | | 5.2.7.2-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 400 Bad | This error | | roblemDetails | | | Request | shall only be | | | | | | returned by | | | | | | an SCP or a | | | | | | SEPP for | | | | | | errors they | | | | | | originate. | +---------------+---+-------------+---------------+---------------+ | N2Information | O | 0..1 | 403 Forbidden | The \"cause\" | | TransferError | | | | attribute may | | | | | | be set to one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | > \- | | | | | | > UNSPECIFIED | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | This error | | roblemDetails | | | | shall only be | | | | | | returned by | | | | | | an SCP or a | | | | | | SEPP for | | | | | | errors they | | | | | | originate. | +---------------+---+-------------+---------------+---------------+ | N2Information | O | 0..1 | 404 Not Found | The \"cause\" | | TransferError | | | | attribute may | | | | | | be set to one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | > \- | | | | | | > CONTEX | | | | | | T_NOT_FOUND | | | | | | | | | | | | See table | | | | | | 6.1.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | N2Information | O | 0..1 | 500 Internal | The \"cause\" | | TransferError | | | Server Error | attribute may | | | | | | be set to one | | | | | | of the errors | | | | | | defined in | | | | | | Table | | | | | | 5.2.7.2-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 500 Internal | This error | | roblemDetails | | | Server Error | shall only be | | | | | | returned by | | | | | | an SCP or a | | | | | | SEPP for | | | | | | errors they | | | | | | originate. | +---------------+---+-------------+---------------+---------------+ | N2Information | O | 0..1 | 503 Service | The \"cause\" | | TransferError | | | Unavailable | attribute may | | | | | | be set to one | | | | | | of the errors | | | | | | defined in | | | | | | Table | | | | | | 5.2.7.2-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 503 Service | This error | | roblemDetails | | | Unavailable | shall only be | | | | | | returned by | | | | | | an SCP or a | | | | | | SEPP for | | | | | | errors they | | | | | | originate. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP or | | | | | | SEPP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.8.4.2.2-3: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.3.8.4.2.2-4: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
#### 6.1.3.9 Resource: Non UE N2 Messages Subscriptions Collection
##### 6.1.3.9.1 Description
This resource represents the collection on which individual subscriptions for
non UE N2 messages from the 5G-AN are stored. This resource is modelled with
the Collection resource archetype (see clause C.2 of 3GPP TS 29.501 [5]).
##### 6.1.3.9.2 Resource Definition
Resource URI: **{apiRoot}/namf-comm/\ /non-
ue-n2-messages/subscriptions**
This resource shall support the resource URI variables defined in table
6.1.3.9.2-1.
Table 6.1.3.9.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.1.1 apiVersion string See clause 6.1.1.
##### 6.1.3.9.3 Resource Standard Methods
###### 6.1.3.9.3.1 POST
This method creates an individual N2 information subscription resource for non
UE related N2 information. This method is used by NF Service Consumers (e.g.
LMF, CBCF/PWS-IWF) to subscribe for notifications about non UE related N2
Information from a specific 5G-AN node, or from any 5G-AN node.
This method shall support the request data structures specified in table
6.1.3.9.3.1-2 and the response data structures and response codes specified in
table 6.1.3.9.3.1-3.
Table 6.1.3.9.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description NonUeN2InfoSubscriptionCreateData M 1
Representation of the subscription for N2 information notification.
* * *
Table 6.1.3.9.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | NonUeN2I | M | 1 | 201 Created | This case | | nfoSubscripti | | | | represents | | onCreatedData | | | | the | | | | | | successful | | | | | | creation of | | | | | | the | | | | | | subscription | | | | | | for N2 | | | | | | information | | | | | | notification. | | | | | | | | | | | | Upon success, | | | | | | a response | | | | | | body is | | | | | | returned | | | | | | containing | | | | | | the | | | | | | r | | | | | | epresentation | | | | | | describing | | | | | | the status of | | | | | | the request. | | | | | | The Location | | | | | | header shall | | | | | | carry the | | | | | | location | | | | | | (URI) of the | | | | | | created | | | | | | subscription | | | | | | resource. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | If the NF | | roblemDetails | | | | Service | | | | | | Consumer is | | | | | | not | | | | | | authorized to | | | | | | subscribe for | | | | | | non UE N2 | | | | | | message | | | | | | n | | | | | | otifications, | | | | | | the AMF shall | | | | | | return this | | | | | | status code | | | | | | with the | | | | | | P | | | | | | roblemDetails | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP or | | | | | | SEPP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.9.3.1-4: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/namf-
comm/\/non-ue-n2-messages/subscriptions/{n2NotifySubscriptionId}
* * *
Table 6.1.3.9.3.1-5: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.3.9.3.1-6: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | Or the same | | | | | | URI, if a | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | resource via a | | | | | | different SCP. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
##### 6.1.3.9.4 Resource Custom Operations
There are no custom operations supported on this resource.
#### 6.1.3.10 Resource: Non UE N2 Message Notification Individual Subscription
##### 6.1.3.10.1 Description
This resource represents the individual subscription for the notifications of
non UE specific N2 message types (e.g. NRPPa, PWS Notifications).
This resource is modelled with the Document resource archetype (see clause C.1
of 3GPP TS 29.501 [5]).
##### 6.1.3.10.2 Resource Definition
Resource URI: **{apiRoot}/namf-comm/\ /non-
ue-n2-messages/subscriptions/{n2NotifySubscriptionId}**
This resource shall support the resource URI variables defined in table
6.1.3.10.2-1.
Table 6.1.3.7.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.1.1 apiVersion string See clause 6.1.1.
n2NotifySubscriptionId string Represents the individual subscription to the
non UE specific N2 message notification.
##### 6.1.3.10.3 Resource Standard Methods
###### 6.1.3.10.3.1 DELETE
This method deletes an individual N2 message notification subscription
resource for non UE associated N2 information. This method is used by NF
Service Consumers (e.g. LMF) to unsubscribe for notifications about non UE
related N2 information.
This method shall support the request data structures specified in table
6.1.3.10.3.1-2 and the response data structures and response codes specified
in table 6.1.3.10.3.1-3.
Table 6.1.3.10.3.1-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.1.3.10.3.1-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | | | | | | Content | | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | If the | | roblemDetails | | | | resource | | | | | | corresponding | | | | | | to the | | | | | | S | | | | | | ubscriptionId | | | | | | cannot be | | | | | | found the AMF | | | | | | shall return | | | | | | this status | | | | | | code. The | | | | | | \"cause\" | | | | | | attribute is | | | | | | set to: | | | | | | | | | | | | - | | | | | | SUBSCRIPTIO | | | | | | N_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP or | | | | | | SEPP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.10.3.1-5: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.3.10.3.1-6: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
##### 6.1.3.10.4 Resource Custom Operations
There are no custom operations supported on this resource.
### 6.1.4 Custom Operations without associated resources
There are no custom operations without associated resources supported on
Namf_Communication Service.
### 6.1.5 Notifications
#### 6.1.5.1 General
The notifications provided by the Namf_Communication service are specified in
this clause.
Table 6.1.5.1-1: Callback overview
+----------------+----------------+----------------+----------------+ | Notification | Resource URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +================+================+================+================+ | AMF Status | {amfStatusUri} | POST | | | Change | | | | | Notification | | | | +----------------+----------------+----------------+----------------+ | Non UE N2 | {n2Noti | POST | | | Information | fyCallbackUri} | | | | Notification | | | | +----------------+----------------+----------------+----------------+ | N1 Message | {n1Noti | POST | | | Notification | fyCallbackUri} | | | +----------------+----------------+----------------+----------------+ | UE Specific N2 | {n2Noti | POST | | | Information | fyCallbackUri} | | | | Notification | | | | +----------------+----------------+----------------+----------------+ | N1N2 Transfer | {n1n2Failu | POST | | | Failure | reTxfNotifURI} | | | | Notification | | | | +----------------+----------------+----------------+----------------+
#### 6.1.5.2 AMF Status Change Notification
##### 6.1.5.2.1 Description
If a NF service consumer (e.g. SMF) has subscribed to AMF Status Change on
Namf_Communication Service, when AMF aware of a change of its own status, AMF
shall create a notification including the current state, and shall deliver the
notification to the call-back URI, following Subscribe/Notify mechanism
defined in 3GPP TS 29.501 [5].
##### 6.1.5.2.2 Notification Definition
Call-back URI: {amfStatusUri}
Call-back URI is provided by NF Service Consumer during creation of the
subscription.
##### 6.1.5.2.3 Notification Standard Methods
###### 6.1.5.2.3.1 POST
This method shall support the request data structures specified in table
6.1.5.2.3.1-1 and the response data structures and response codes specified in
table 6.1.5.2.3.1-2.
Table 6.1.5.2.3.1-1: Data structures supported by the POST Request Body
Data type P Cardinality Description
* * *
AmfStatusChangeNotification M 1 Representation of the AMF status change
notification.
Table 6.1.5.2.3.1-2: Data structures supported by the POST Response Body
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | This case | | | | | Content | represents a | | | | | | successful | | | | | | notification | | | | | | of the AMF | | | | | | status | | | | | | change. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | When context | | roblemDetails | | | | of the | | | | | | notification | | | | | | is not | | | | | | found,the | | | | | | \"cause\" | | | | | | attribute | | | | | | shall be set | | | | | | to: | | | | | | | | | | | | > \- | | | | | | > CONTEX | | | | | | T_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP or | | | | | | SEPP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.5.2.3.1-3: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of the NF service consumer to which the notification should be
sent. For the case when a request is redirected to the same target resource
via a different SCP or SEPP, see clause 6.10.9.1 in 3GPP TS 29.500 [4]. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
ID towards which the request is redirected
* * *
Table 6.1.5.2.3.1-4: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of the NF service consumer to which the notification should be
sent. For the case when a request is redirected to the same target resource
via a different SCP or SEPP, see clause 6.10.9.1 in 3GPP TS 29.500 [4]. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
ID towards which the request is redirected
* * *
#### 6.1.5.3 Non UE N2 Information Notification
##### 6.1.5.3.1 Description
This resource represents the callback reference provided by the NF Service
Consumer (e.g. LMF, CBCF/PWS-IWF) to receive notifications about N2
information that are not related to a UE.
##### 6.1.5.3.2 Notification Definition
Callback URI: {n2NotifyCallbackUri}
This notification shall support the callback URI variables defined in table
6.1.5.2.2-1.
Table 6.1.5.3.2-1: Callback URI variables for this notification
Name Definition
* * *
n2NotifyCallbackUri Callback reference provided by the NF Service Consumer
during the subscription to this notification.
##### 6.1.5.3.3 Notification Standard Methods
###### 6.1.5.3.3.1 POST
This method sends an N2 information notification to the NF Service Consumer
(e.g. LMF, CBCF/PWS-IWF).
This method shall support the request data structures specified in table
6.1.5.3.3.1-2 and the response data structures and response codes specified in
table 6.1.5.3.3.1-3.
Table 6.1.5.3.3.1-2: Data structures supported by the POST Request Body
Data type P Cardinality Description
* * *
N2InformationNotification M 1 Representation of the N2 information
notification.
Table 6.1.5.3.3.1-3: Data structures supported by the POST Response Body
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | This case | | | | | Content | represents a | | | | | | successful | | | | | | notification | | | | | | of the N2 | | | | | | information | | | | | | to the NF | | | | | | service | | | | | | consumer. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP or | | | | | | SEPP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.5.3.3.1-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | A URI pointing | | | | | | to the endpoint | | | | | | of the NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be sent. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.5.3.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of the NF service consumer to which the notification should be
sent 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected
* * *
#### 6.1.5.4 N1 Message Notification
##### 6.1.5.4.1 Description
This resource represents the callback reference provided by the NF Service
Consumer (e.g. LMF) to receive notifications about N1 message from the UE
(e.g. LPP messages).
##### 6.1.5.4.2 Notification Definition
Callback URI: { n1NotifyCallbackUri }
Callback URI is provided by the NF Service Consumer during the subscription to
this notification. . The callback URI for N1 message notification may also be
obtained from the NRF, if the NF Service Consumer has registered it in the NF
Profile with the NRF.
##### 6.1.5.4.3 Notification Standard Methods
###### 6.1.5.4.3.1 POST
This method sends an N1 message notification to the NF Service Consumer (e.g.
LMF).
This method shall support the request data structures specified in table
6.1.5.4.3.1-2 and the response data structures and response codes specified in
table 6.1.5.4.3.1-3.
Table 6.1.5.4.3.1-2: Data structures supported by the POST Request Body
Data type P Cardinality Description
* * *
N1MessageNotification M 1 Representation of the N1 message notification.
Table 6.1.5.4.3.1-3: Data structures supported by the POST Response Body
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | This case | | | | | Content | represents a | | | | | | successful | | | | | | notification | | | | | | of the N1 | | | | | | message to | | | | | | the NF | | | | | | service | | | | | | consumer. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | This case | | roblemDetails | | | | represents, | | | | | | the NF | | | | | | service | | | | | | consumer | | | | | | failing to | | | | | | accept the | | | | | | processing of | | | | | | the notified | | | | | | N1 message. | | | | | | The detailed | | | | | | information | | | | | | shall be | | | | | | provided in | | | | | | the | | | | | | P | | | | | | roblemDetails | | | | | | structure. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP or | | | | | | SEPP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.5.4.3.1-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | A URI pointing | | | | | | to the endpoint | | | | | | of the NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be sent. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.5.4.3.1-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | A URI pointing | | | | | | to the endpoint | | | | | | of the NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be sent. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
#### 6.1.5.5 UE Specific N2 Information Notification
##### 6.1.5.5.1 Description
This resource represents the callback reference provided by the NF Service
Consumer (e.g. LMF) to receive notifications about UE specific N2 information.
##### 6.1.5.5.2 Notification Definition
Callback URI: {n2NotifyCallbackUri}
Callback URI is provided by the NF Service Consumer during the subscription to
this notification.
##### 6.1.5.5.3 Notification Standard Methods
###### 6.1.5.5.3.1 POST
This method sends an N2 information notification to the NF Service Consumer
(e.g. LMF).
This method shall support the request data structures specified in table
6.1.5.5.3.1-2 and the response data structures and response codes specified in
table 6.1.5.5.3.1-3.
Table 6.1.5.5.3.1-2: Data structures supported by the POST Request Body
Data type P Cardinality Description
* * *
N2InformationNotification M 1 Representation of the N2 information
notification.
Table 6.1.5.5.3.1-3: Data structures supported by the POST Response Body
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | This case | | | | | Content | represents a | | | | | | successful | | | | | | notification | | | | | | of the N2 | | | | | | information | | | | | | to the NF | | | | | | service | | | | | | consumer. | +---------------+---+-------------+---------------+---------------+ | N2InfoNotifi | M | 1 | 200 OK | This case | | cationRspData | | | | represents a | | | | | | successful | | | | | | notification | | | | | | of the N2 | | | | | | information | | | | | | to the NF | | | | | | service | | | | | | consumer when | | | | | | information | | | | | | needs to be | | | | | | returned in | | | | | | the response. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP or | | | | | | SEPP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.5.5.3.1-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | A URI pointing | | | | | | to the endpoint | | | | | | of the NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be sent. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.5.5.3.1-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | A URI pointing | | | | | | to the endpoint | | | | | | of the NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be | | | | | | sent\'. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
#### 6.1.5.6 N1N2 Transfer Failure Notification
##### 6.1.5.6.1 Description
This resource represents the callback reference provided by the NF Service
Consumer (e.g. SMF) to receive notifications about failure to deliver N1 / N2
message.
##### 6.1.5.6.2 Notification Definition
Callback URI: {n1n2FailureTxfNotifURI}
Callback URI is provided by the NF Service Consumer during the UE specific
N1N2MessageTransfer operation (see clause 6.1.3.5.3.1.
##### 6.1.5.6.3 Notification Standard Methods
###### 6.1.5.6.3.1 POST
This method sends an N1/N2 message transfer failure notification to the NF
Service Consumer (e.g. SMF).
This method shall support the request data structures specified in table
6.1.5.6.3.1-1 and the response data structures and response codes specified in
table 6.1.5.6.3.1-3.
Table 6.1.5.6.3.1-1: Data structures supported by the POST Request Body
+------------------------+---+-------------+------------------------+ | Data type | P | Cardinality | Description | +========================+===+=============+========================+ | N1N2MsgT | M | 1 | Representation of the | | xfrFailureNotification | | | N1/N2 message transfer | | | | | failure notification. | | | | | | | | | | The \"cause\" | | | | | attribute shall be set | | | | | to one of following | | | | | cause value s (see | | | | | clause 6.1.6.3.6): | | | | | | | | | | - UE_NOT_RESPONDING | | | | | | | | | | > \- | | | | | > UE_NOT_R | | | | | EACHABLE_FOR_SESSION | | | | | > | | | | | > \- | | | | | > TEMPORARY_REJECT\ | | | | | _REGISTRATION_ONGOING | | | | | > | | | | | > \- | | | | | > TEMPORARY_REJ | | | | | ECT_HANDOVER_ONGOING | | | | | > | | | | | > \- | | | | | > REJECTION_DUE_T | | | | | O_PAGING_RESTRICTION | | | | | > | | | | | > \- | | | | | > AN_NOT_RESPONDING | | | | | > | | | | | > \- | | | | | > FAILU | | | | | RE_CAUSE_UNSPECIFIED | | | | | | | | | | The AMF may | | | | | additionally provide | | | | | the "retryAfter" IE in | | | | | order for the NF | | | | | service consumer to | | | | | throttle sending | | | | | further N1/N2 Message | | | | | Transfer request for a | | | | | short period, e.g. | | | | | when UE is not | | | | | responding to paging. | +------------------------+---+-------------+------------------------+
Table 6.1.5.6.3.1-2: Data structures supported by the POST Response Body
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | This case | | | | | Content | represents a | | | | | | successful | | | | | | notification | | | | | | of the N1 / | | | | | | N2 message | | | | | | transfer to | | | | | | the NF | | | | | | service | | | | | | consumer. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP or | | | | | | SEPP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.5.6.3.1-3: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | A URI pointing | | | | | | to the endpoint | | | | | | of the NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be sent. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.1.5.6.3.1-4: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | A URI pointing | | | | | | to the endpoint | | | | | | of the NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be sent. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
#### 6.1.5.7 Void
### 6.1.6 Data Model
#### 6.1.6.1 General
This clause specifies the application data model supported by the API.
Table 6.1.6.1-1 specifies the data types defined for the Namf_Communication
service based interface protocol.
Table 6.1.6.1-1: Namf_Communication specific Data Types
Data type Clause defined Description
* * *
SubscriptionData 6.1.6.2.2 Data within an AMF Status Change Subscription
request and response. AmfStatusChangeNotification 6.1.6.2.3 Data within an AMF
Status Change Notification request. AmfStatusInfo 6.1.6.2.4 AMF Status
Information AssignEbiData 6.1.6.2.5 Data within an EBI assignment request.
AssignedEbiData 6.1.6.2.6 Data within a successful response to an EBI
assignment request. AssignEbiFailed 6.1.6.2.7 Represents failed assignment of
EBI(s) UEContextRelease 6.1.6.2.8 Data within a Release UE Context request.
N2InformationTransferReqData 6.1.6.2.9 Data within a N2 Information Transfer
request containing the N2 information requested to be transferred to 5G AN.
NonUeN2InfoSubscriptionCreateData 6.1.6.2.10 Data within a create subscription
requestfor non-UE specific N2 information notification.
NonUeN2InfoSubscriptionCreatedData 6.1.6.2.11 Data for the created
subscription for non-UE specific N2 information notification.
UeN1N2InfoSubscriptionCreateData 6.1.6.2.12 Data within a create subscription
request for UE specific N1 and/or N2 information notification.
UeN1N2InfoSubscriptionCreatedData 6.1.6.2.13 Data for the created subscription
for UE specific N1 and/or N2 information notification.
N2InformationNotification 6.1.6.2.14 Data within a N2 information notification
request. N2InfoContainer 6.1.6.2.15 N2 information container.
N1MessageNotification 6.1.6.2.16 Data within a N1 message notification
request. N1MessageContainer 6.1.6.2.17 N1 Message Container.
N1N2MessageTransferReqData 6.1.6.2.18 Data within a N1/N2 message transfer
request. N1N2MessageTransferRspData 6.1.6.2.19 Data within a N1/N2 message
transfer response. RegistrationContextContainer 6.1.6.2.20 Registration
Context Container used to send the UE context information, N1 message from UE,
AN address etc during Registration with AMF re-allocation procedure.
AreaOfValidity 6.1.6.2.21 Area of validity information for N2 information
transfer UeContextTransferReqData 6.1.6.2.23 Data within a UE Context Transfer
Request to start transferring of an individual ueContext resource from old AMF
to new AMF. UeContextTransferRspData 6.1.6.2.24 Data within a successful
response to the UE Context Transfer request. UeContext 6.1.6.2.25 Represents
an individual ueContext resource N2SmInformation 6.1.6.2.26 Represents the
session management SMF related N2 information data part. N2InfoContent
6.1.6.2.27 Represents a transparent N2 information content to be relayed by
AMF. NrppaInformation 6.1.6.2.28 Represents a NRPPa related N2 information
data part. PwsInformation 6.1.6.2.29 Represents a PWS related information data
part. N1N2MsgTxfrFailureNotification 6.1.6.2.30 Data within a N1/N2 Message
Transfer Failure Notification request N1N2MessageTransferError 6.1.6.2.31 Data
within a N1/N2 Message Transfer Error response. N1N2MsgTxfrErrDetail
6.1.6.2.32 N1/N2 Message Transfer Error Details N2InformationTransferRspData
6.1.6.2.33 Data within a successful response to the N2 Information Transfer
request to transfer N2 Information to the AN. MmContext 6.1.6.2.34 Represents
a Mobility Management Context in UE Context SeafData 6.1.6.2.35 Represents
SEAF data derived from data received from AUSF NasSecurityMode 6.1.6.2.36
Indicates the NAS Security Mode PduSessionContext 6.1.6.2.37 Represents a PDU
Session Context in UE Context NssaiMapping 6.1.6.2.38 Represents the mapping
between a S-NSSAI in serving PLMN to a S-NSSAI in home PLMN.
UeRegStatusUpdateReqData 6.1.6.2.39 Data within a UE registration status
update request to indicate a completion of transferring at a target AMF.
AssignEbiError 6.1.6.2.40 Data within a failure response to the EBI assignment
request. UeContextCreateData 6.1.6.2.41 Data within a request to create an
individual ueContext resource UeContextCreatedData 6.1.6.2.42 Data within a
successful response for creating an individual ueContext resource
UeContextCreateError 6.1.6.2.43 Data within a failure response for creating a
UE context NgRanTargetId 6.1.6.2.44 Indicates a NG RAN as target of the
handover N2InformationTransferError 6.1.6.2.45 Data within a failure response
for a non-UE related N2 Information Transfer. PWSResponseData 6.1.6.2.46 Data
related PWS included in a N2 Information Transfer response. PWSErrorData
6.1.6.2.47 Data related to PWS error included in a N2 Information Transfer
failure response. NgKsi 6.1.6.2.49 Represents the ngKSI (see 3GPP TS 33.501
[27]) KeyAmf 6.1.6.2.50 Represents the K~amf~ or K\'~amf.~ (see 3GPP TS 33.501
[27]). ExpectedUeBehavior 6.1.6.2.51 Represents the expected UE behavior (e.g.
UE moving trajectory) and its validity period. UeRegStatusUpdateRspData
6.1.6.2.52 Data within a UE registration status update response to provides
the status of UE context transfer status update at a source AMF.
N2RanInformation 6.1.6.2.53 Represents the RAN related N2 information data
part. N2InfoNotificationRspData 6.1.6.2.54 Data within a N2 information
notification response. SmallDataRateStatusInfo 6.1.6.2.55 Represents the small
data rate status SmfChangeInfo 6.1.6.2.56 SMF change information for PDU
session(s) V2xContext 6.1.6.2.57 Represents the V2X services related
parameters ImmediateMdtConf 6.1.6.2.58 Immediate MDT Configuration
V2xInformation 6.1.6.2.59 V2X related N2 information EpsNasSecurityMode
6.1.6.2.60 Indicates the EPS NAS Security Mode UeContextRelocateData
6.1.6.2.61 Data within a Relocate UE Context request UeContextRelocatedData
6.1.6.2.62 Data within a Relocate UE Context EcRestrictionDataWb 6.1.6.2.64
Enhanced Coverage Restriction Data for WB-N1 mode. ExtAmfEventSubscription
6.1.6.2.65 AMF event subscription extended with additional information
received for the subscription AmfEventSubscriptionAddInfo 6.1.6.2.66
Additional information received for an AMF event subscription, e.g. binding
indications. UeContextCancelRelocateData 6.1.6.2.67 Data structure used for
cancellation of UE Context Relocation. UeDifferentiationInfo 6.1.6.2.68
Represents the UE Differentiation Information and its validity time.
CeModeBInd 6.1.6.2.69 CE-mode-B Support Indicator LteMInd 6.1.6.2.70 LTE-M
Indication NpnAccessInfo 6.1.6.2.71 NPN Access Information ProseContext
6.1.6.2.72 Represents the ProSE services related parameters
AnalyticsSubscription 6.1.6.2.73 Analytics subscriptions created in the NWDAF.
NwdafSubscription 6.1.6.2.74 Individual NWDAF subscription identified by the
subscription Id. UpdpSubscriptionData 6.1.6.2.75 UE policy delivery related N1
message notification subscription data ProSeInformation 6.1.6.2.76 5G ProSe
related N2 information. ReleaseSessionInfo 6.1.6.2.77 PDU session Id(s) and
the cause for triggering the release AreaOfInterestEventState 6.1.6.2.78 Area
Of Interest Event State in old AMF TssInformation 6.1.6.2.79 TSS related N2
information AmPolicyInfoContainer 6.1.6.2.80 AM Policy Information Container
RsppInformation 6.1.6.2.81 Ranging/SL positioning related N2 information
A2xContext 6.1.6.2.82 Represents the A2X services related parameters
A2xInformation 6.1.6.2.83 A2X related N2 information EpsBearerId 6.1.6.3.2 EPS
Bearer Identifier Ppi 6.1.6.3.2 Paging Policy Indicator NasCount 6.1.6.3.2
Represents a NAS COUNT 5GMmCapability 6.1.6.3.2 Represents a 5GMM capability
UeSecurityCapability 6.1.6.3.2 Represents a UE Security Capability
S1UeNetworkCapability 6.1.6.3.2 Represents a S1 UE Network Capability
DrxParameter 6.1.6.3.2 Indicates the UE DRX Parameters OmcIdentifier 6.1.6.3.2
Represents the OMC Identifier MSClassmark2 6.1.6.3.2 Indicates the MS
Classmark 2 of a 5G SRVCC UE SupportedCodec 6.1.6.3.2 Indicates the supported
codec of a 5G SRVCC UE StatusChange 6.1.6.3.3 Enumeration for AMF status
N2InformationClass 6.1.6.3.4 Enumeration for N2 Information Class
N1MessageClass 6.1.6.3.5 Enumeration for N1 Message Class
N1N2MessageTransferCause 6.1.6.3.6 Enumeration for N1N2Message Transfer Cause
UeContextTransferStatus 6.1.6.3.7 Describes the status of an individual
ueContext resource in UE Context Transfer procedures
N2InformationTransferResult 6.1.6.3.8 Describes the result of N2 information
transfer by AMF to the AN. CipheringAlgorithm 6.1.6.3.9 Indicates the
supported Ciphering Algorithm IntegrityAlgorithm 6.1.6.3.10 Indicates the
supported Integrity Algorithm SmsSupport 6.1.6.3.11 Indicates the supported
SMS delivery of a UE. ScType 6.1.6.3.12 Indicates the security context type.
KeyAmfType 6.1.6.3.13 Indicates the K~amf~ type. TransferReason 6.1.6.3.14
Indicates UE Context Transfer Reason PolicyReqTrigger 6.1.6.3.15 Policy
Request Triggers RatSelector 6.1.6.3.16 Indicates the RAT type for the
transfer of N2 information NgapIeType 6.1.6.3.17 Indicates the supported NGAP
IE types N2InfoNotifyReason 6.1.6.3.18 N2 Information Notify Reason
SmfChangeIndication 6.1.6.3.19 Indicates the I-SMF or V-SMF change or removal
SbiBindingLevel 6.1.6.3.20 SBI Binding Level EpsNasCipheringAlgorithm
6.1.6.3.21 Indicates the supported EPS NAS Ciphering Algorithm
EpsNasIntegrityAlgorithm 6.1.6.3.22 Indicates the supported EPS NAS Integrity
Algorithm PeriodicCommunicationIndicator 6.1.6.3.23 Indicates the Periodic
Communication Indicator UuaaMmStatus 6.1.6.3.24 Indicates UUAA-MM status
ReleaseCause 6.1.6.3.25 The cause for triggering the release
Table 6.1.6.1-2 specifies data types re-used by the Namf service based
interface protocol from other specifications, including a reference to their
respective specifications and when needed, a short description of their use
within the Namf service based interface.
Table 6.1.6.1-2: Namf re-used Data Types
Data type Reference Comments
* * *
Snssai 3GPP TS 29.571 [6]  
Arp 3GPP TS 29.571 [6]  
PduSesisonId 3GPP TS 29.571 [6]  
Guami 3GPP TS 29.571 [6] Globally Unique AMF Identifier AmfName 3GPP TS 29.571
[6] The name of the AMF Supi 3GPP TS 29.571 [6] Subscription Permanent
Identifier Cause 3GPP TS 29.571 [6] 5G-AN Cause ProblemDetails 3GPP TS 29.571
[6] Detailed problems in failure case supportedFeatures 3GPP TS 29.571 [6]
Supported Features TimeZone 3GPP TS 29.571 [6]  
UserLocation 3GPP TS 29.571 [6]  
AccessType 3GPP TS 29.571 [6]  
AllowedNssai 3GPP TS 29.531 [18]  
NfInstanceId 3GPP TS 29.571 [6]  
Uri 3GPP TS 29.571 [6]  
Ecgi 3GPP TS 29.571 [6] EUTRA Cell Identifier Ncgi 3GPP TS 29.571 [6] NR Cell
Identifier Uint16 3GPP TS 29.571 [6]  
5Qi 3GPP TS 29.571 [6] 5G QoS Identifier CorrelationID 3GPP TS 29.572 [25] LCS
Correlation ID Pei 3GPP TS 29.571 [6]  
Dnn 3GPP TS 29.571 [6]  
Gpsi 3GPP TS 29.571 [6]  
GroupId 3GPP TS 29.571 [6]  
PlmnId 3GPP TS 29.571 [6]  
RfspIndex 3GPP TS 29.571 [6]  
EbiArpMapping 3GPP TS 29.502 [16] EBI - ARP mapping NsiId 3GPP TS 29.531 [18]  
TraceData 3GPP TS 29.571 [6] Trace control and configuration parameters
ConfiguredSnssai 3GPP TS 29.531 [18]  
NgApCause 3GPP TS 29.571 [6] Represents the NG AP cause IE Area 3GPP TS 29.571
[6]  
ServiceAreaRestriction 3GPP TS 29.571 [6]  
CoreNetworkType 3GPP TS 29.571 [6]  
Ambr 3GPP TS 29.571 [6]  
SliceMbr 3GPP TS 29.571 [6]  
GlobalRanNodeId 3GPP TS 29.571 [6]  
NfGroupId 3GPP TS 29.571 [6] Network Function Group Id DurationSec 3GPP TS
29.571 [6]  
StnSr 3GPP TS 29.571 [6] Session Transfer Number for SRVCC CMsisdn 3GPP TS
29.571 [6] Correlation MSISDN DateTime 3GPP TS 29.571 [6]  
SmallDataRateStatus 3GPP TS 29.571 [6]  
NfSetId 3GPP TS 29.571 [13] NF Set ID NfServiceSetId 3GPP TS 29.571 [13] NF
Service Set ID LMFIdentification 3GPP TS 29.572 [25] LMF Identification
PlmnAssiUeRadioCapId 3GPP TS 29.571 [6]  
ManAssiUeRadioCapId 3GPP TS 29.571 [6]  
NrV2xAuth 3GPP TS 29.571 [6] NR V2X services authorized LteV2xAuth 3GPP TS
29.571 [6] LTE V2X services authorized BitRate 3GPP TS 29.571 [6] Bit Rate
Pc5QoSPara 3GPP TS 29.571 [6] PC5 QoS parameters PduSessionInfo 3GPP TS 29.571
[6] The Slice and DNN combination of a PDU session. PcfUeCallbackInfo 3GPP TS
29.571 [6] The callback information of the PCF for the UE to allow the PCF for
the PDU session to send SM Policy Association Establishment and Termination
events notification**.** CnAssistedRanPara 3GPP TS 29.502 [16] SMF derived CN
assisted RAN Parameters Tuning MoExpDataCounter 3GPP TS 29.571 [6] MO
Exception Data Counter CagData 3GPP TS 29.503 [35] Closed Access Group Data
NssaaStatus 3GPP TS 29.571 [6] Subscribed S-NSSAI subject to NSSAA procedure
and the status JobType 3GPP TS 29.571 [6] Job Type in the trace
MeasurementLteForMdt 3GPP TS 29.571 [6] Measurements used for MDT in LTE in
the trace MeasurementNrForMdt 3GPP TS 29.571 [6] Measurements used for MDT in
NR in the trace ReportingTrigger 3GPP TS 29.571 [6] Reporting Triggers for MDT
in the trace ReportIntervalMdt 3GPP TS 29.571 [6] Report Interval for MDT in
LTE in the trace ReportAmountMdt 3GPP TS 29.571 [6] Report Amount for MDT in
the trace CollectionPeriodRmmLteMdt 3GPP TS 29.571 [6] Collection period for
RRM measurements LTE for MDT in the trace MeasurementPeriodLteMdt 3GPP TS
29.571 [6] Measurement period LTE for MDT in the trace in AreaScope 3GPP TS
29.571 [6] Area Scope PositioningMethodMdt 3GPP TS 29.571 [6] Positioning
Method for MDT in the trace in LTE ReportIntervalNrMdt 3GPP TS 29.571 [6]
Report Interval for MDT in NR in the trace CollectionPeriodRmmNrMdt 3GPP TS
29.571 [6] Collection period for RRM measurements NR for MDT in the trace
SensorMeasurement 3GPP TS 29.571 [6] Sensor information for MDT in the trace
ScheduledCommunicationTime 3GPP TS 29.571 [6] Scheduled Communication Time
StationaryIndication 3GPP TS 29.571 [6] Stationary Indication TrafficProfile
3GPP TS 29.571 [6] Traffic Profile BatteryIndication 3GPP TS 29.571 [6]
Battery Indication NFType 3GPP TS 29.510 [29] NF type UeAuth 3GPP TS 29.571
[6] UE authorisation for PC5 service PartitioningCriteria 3GPP TS 29.571 [6]
Partitioning Criteria RedirectResponse 3GPP TS 29.571 [6] Response body of the
redirect response message. CagId 3GPP TS 29.571 [6] CAG ID
NnwdafEventsSubscription 3GPP TS 29.520 [52] Represents an Individual NWDAF
Event Subscription resource PresenceInfo 3GPP TS 29.571 [6]  
UePositioningCapabilities 3GPP TS 29.572 [25] Indicates the positioning
capabilities supported by the UE. SmfSelectionData 3GPP TS 29.507 [32]  
EpsInterworkingInfo 3GPP TS 29.503 [35]  
IpAddress 3GPP TS 29.503 [35]  
Fqdn 3GPP TS 29.571 [6]  
PresenceState 3GPP TS 29.571 [6] Presence State SatelliteBackhaulCategory 3GPP
TS 29.571 [6] Satellite Backhaul Category WirelineServiceAreaRestriction 3GPP
TS 29.571 [6]  
PartiallyAllowedSnssai 3GPP TS 29.571 [6] S-NSSAI with TAIs information
VarRepPeriod 3GPP TS 29.571 [6] Variable Reporting Periodicity
AsTimeDistributionParam 3GPP TS 29.507 [32]  
PruInd 3GPP TS 29.503 [35] PRU Indicator SliceUsageControlInfo 3GPP TS 29.571
[6] Slice Usage Control Information MbsrOperationAllowed 3GPP TS 29.503 [35]
MBSR Operation Information
#### 6.1.6.2 Structured data types
##### 6.1.6.2.1 Introduction
Structured data types used in Namf_Communication service are specified in this
clause.
##### 6.1.6.2.2 Type: SubscriptionData
Table 6.1.6.2.2-1: Definition of type SubscriptionData
Attribute name Data type P Cardinality Description
* * *
amfStatusUri Uri M 1 This IE shall include the callback URI to receive
notification of AMF status change. guamiList array(Guami) C 1..N This IE shall
be absent for subscribing to status change for any GUAMI supported by the AMF,
it shall be present for subscribing to specific GUAMIs supported by the AMF.
##### 6.1.6.2.3 Type: AmfStatusChangeNotification
Table 6.1.6.2.3-1: Definition of type AmfStatusChangeNotification
Attribute name Data type P Cardinality Description
* * *
amfStatusInfoList array(AmfStatusInfo) M 1..N This IE shall contain the status
change information about the AMF
##### 6.1.6.2.4 Type: AmfStatusInfo
Table 6.1.6.2.4-1: Definition of type AmfStatusInfo
Attribute name Data type P Cardinality Description
* * *
guamiList array(Guami) M 1..N This IE shall contain the GUAMIs statusChange
StatusChange M 1 This IE shall contain the Status change of the related GUAMIs
targetAmfRemoval AmfName C 0..1 This IE shall contain the AMF Name of the
target AMF in the AMF planned removal without UDSF scenario targetAmfFailure
AmfName C 0..1 This IE shall contain the AMF Name of the target AMF in the AMF
Auto-recovery without UDSF scenario.
##### 6.1.6.2.5 Type: AssignEbiData
Table 6.1.6.2.5-1: Definition of type AssignEbiData
Attribute name Data type P Cardinality Description Applicability
* * *
pduSessionId PduSessionId M 1 Represents the identifier of the PDU Session
requesting EBI(s) to be assigned.  
arpList array(Arp) C 1..N This IE shall be present if the NF Service Consumer
(e.g SMF) requests the AMF to assign EBI(s) for the PDU session. When present,
this IE shall contain the list of ARP(s)of the QoS flow(s) for which EBI(s)
are requested.  
releasedEbiList array(EpsBearerId) C 1..N This IE shall be present if the NF
Service Consumer (e.g. SMF) needs to release the assigned EBI(s) from QoS
flows (e.g. when the QoS flow is released).  
oldGuami Guami C 0..1 This IE shall be present during an AMF planned removal
procedure when the NF Service Consumer initiates a request towards the target
AMF, for a UE associated to an AMF that is unavailable (see clause 5.21.2.2 of
3GPP TS 23.501 [2]).  
modifiedEbiList array(EbiArpMapping) C 1..N This IE shall be present if a PDU
session modification procedure resulted in the change of ARP for a QoS flow to
which an EBI is already allocated. EAEA
##### 6.1.6.2.6 Type: AssignedEbiData
Table 6.1.6.2.6-1: Definition of type AssignedEbiData
Attribute name Data type P Cardinality Description Applicability
* * *
pduSessionId PduSessionId M 1 Represents the identifier of the PDU Session
requesting EBI(s) to be assigned.  
assignedEbiList array(EbiArpMapping) M 0..N This IE shall be present if the
AMF assigned the requested EBI(s). This IE shall contain the successfully
assigned EBIs. (NOTE)  
failedArpList array(Arp) C 1..N This IE shall be present if the AMF fails to
allocate EBIs for a set of ARP(s). (NOTE)  
releasedEbiList array(EpsBearerId) C 1..N This IE shall be present if the NF
Service Consumer requested the release of EBI(s) or if the AMF revoked an
already assigned EBI towards the same PDU session. This IE shall contain the
list of EBI(s) released at the AMF.  
modifiedEbiList array(EpsBearerId) C 1..N This IE shall be present if the NF
Service Consumer requested to update the ARP for a QoS flow to which an EBI is
already allocated. This IE shall contain the list of EBI(s) whose ARP has been
updated at the AMF. EAEA NOTE: The same ARP value may be returned in the
assignedEbiList and in the failedArpList, if the request included the same ARP
value more than once in the arpList and the AMF is not able to allocate an EBI
for every occurrence of this ARP value.
##### 6.1.6.2.7 Type: AssignEbiFailed
Table 6.1.6.2.7-1: Definition of type AssignEbiFailed
Attribute name Data type P Cardinality Description
* * *
pduSessionId PduSessionId M 1 Represents the identifier of the PDU Session
requesting EBI(s) to be assigned. failedArpList array(Arp) C 1..N This IE
shall be present if the AMF fails to allocate EBIs for a set of ARPs.
##### 6.1.6.2.8 Type: UEContextRelease
Table 6.1.6.2.8-1: Definition of type UEContextRelease
+-----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +=================+===========+===+=============+=================+ | supi | Supi | C | 0..1 | This IE shall | | | | | | be present if | | | | | | the UE is | | | | | | emergency | | | | | | registered and | | | | | | the SUPI is not | | | | | | authenticated. | +-----------------+-----------+---+-------------+-----------------+ | unau | boolean | C | 0..1 | When present, | | thenticatedSupi | | | | this IE shall | | | | | | be set as | | | | | | follows: | | | | | | | | | | | | > \- true: | | | | | | > | | | | | | unauthenticated | | | | | | > SUPI; | | | | | | > | | | | | | > \- false | | | | | | > (default): | | | | | | > authenticated | | | | | | > SUPI. | | | | | | | | | | | | This IE shall | | | | | | be present if | | | | | | the SUPI is | | | | | | present in the | | | | | | message but is | | | | | | not | | | | | | authenticated | | | | | | and is for an | | | | | | emergency | | | | | | registered UE. | +-----------------+-----------+---+-------------+-----------------+ | ngapCause | NgApCause | M | 1 | This IE shall | | | | | | contain the | | | | | | cause value | | | | | | received from | | | | | | the source | | | | | | 5G-AN in the | | | | | | handover Cancel | | | | | | message | | | | | | received over | | | | | | the NGAP | | | | | | interface. | +-----------------+-----------+---+-------------+-----------------+
##### 6.1.6.2.9 Type: N2InformationTransferReqData
Table 6.1.6.2.9-1: Definition of type N2InformationTransferReqDataTransfer
Attribute name Data type P Cardinality Description
* * *
taiList array(Tai) C 1..N This IE shall be included if the N2 information
needs to be sent to the 5G-AN nodes that serve the list of tracking areas
provided. ratSelector RatSelector C 0..1 This IE shall be included to indicate
if the N2 information shall be transferred to ng-eNBs or gNBs exclusively.
globalRanNodeList array(GlobalRanNodeId) C 1..N This IE shall be included if
the N2 information needs to be sent to the list of RAN nodes provided.
n2Information N2InfoContainer M 1 This IE includes the information to be sent
on the N2 interface to the identified 5G-AN nodes and additional information
required for the processing of the message by the AMF. supportedFeatures
SupportedFeatures C 0..1 This IE shall be present if at least one optional
feature defined in clause 6.1.8 is supported.
##### 6.1.6.2.10 Type: NonUeN2InfoSubscriptionCreateData
Table 6.1.6.2.10-1: Definition of type NonUeN2InfoSubscriptionCreateData
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | glob | array(Glob | C | 1..N | This IE shall | | alRanNodeList | alRanNodeId)) | | | be included | | | | | | if the | | | | | | subscription | | | | | | is for N2 | | | | | | information | | | | | | from RAN | | | | | | node(s) for | | | | | | which the N2 | | | | | | information | | | | | | notification | | | | | | is subscribed | | | | | | (i.e N3IWF | | | | | | identifier or | | | | | | gNB | | | | | | identifier or | | | | | | Ng-eNB | | | | | | identifier). | | | | | | | | | | | | (NOTE) | +---------------+---------------+---+-------------+---------------+ | anTypeList | arra | C | 1..N | This IE shall | | | y(AccessType) | | | be included, | | | | | | if the | | | | | | gl | | | | | | obalRanNodeId | | | | | | IE is not | | | | | | included and | | | | | | if the N2 | | | | | | information | | | | | | from a | | | | | | specific | | | | | | access | | | | | | network needs | | | | | | to be | | | | | | subscribed. | | | | | | When included | | | | | | this IE shall | | | | | | contain the | | | | | | access type | | | | | | of the access | | | | | | network from | | | | | | which Non UE | | | | | | specific N2 | | | | | | information | | | | | | is to be | | | | | | notified. | | | | | | | | | | | | (NOTE) | +---------------+---------------+---+-------------+---------------+ | n2Inf | N2Inf | M | 1 | This IE | | ormationClass | ormationClass | | | represents | | | | | | the class of | | | | | | N2 | | | | | | information | | | | | | that the NF | | | | | | Service | | | | | | Consumer | | | | | | requires to | | | | | | be notified. | +---------------+---------------+---+-------------+---------------+ | n2Noti | Uri | M | 1 | This IE | | fyCallbackUri | | | | represents | | | | | | the callback | | | | | | URI on which | | | | | | the N2 | | | | | | information | | | | | | shall be | | | | | | notified. | +---------------+---------------+---+-------------+---------------+ | nfId | NfInstanceId | C | 0..1 | This IE shall | | | | | | be present if | | | | | | the | | | | | | subscription | | | | | | is for | | | | | | \"NRPPa\" N2 | | | | | | information | | | | | | class and/or | | | | | | \"LPP\" N1 | | | | | | information | | | | | | class. When | | | | | | present, this | | | | | | IE shall | | | | | | carry the | | | | | | value to be | | | | | | used for NGAP | | | | | | \"Routing | | | | | | ID\" IE, | | | | | | which | | | | | | identifies | | | | | | the Network | | | | | | Function | | | | | | (e.g. LMF) | | | | | | instance | | | | | | handling the | | | | | | NRPPa and/or | | | | | | LPP data. | | | | | | | | | | | | This IE may | | | | | | also be | | | | | | present if | | | | | | the | | | | | | subscription | | | | | | is for | | | | | | \"PWS\" N2 | | | | | | information | | | | | | class. When | | | | | | present, this | | | | | | IE shall | | | | | | carry the | | | | | | instance | | | | | | identity of | | | | | | the network | | | | | | function | | | | | | (e.g. CBCF or | | | | | | PWS-IWF) | | | | | | creating the | | | | | | subscription. | | | | | | This IE | | | | | | should be | | | | | | included when | | | | | | more than one | | | | | | CBCF/PWS-IWF | | | | | | instances are | | | | | | deployed in | | | | | | the network. | | | | | | The AMF may | | | | | | use this IE | | | | | | to identify | | | | | | whether the | | | | | | same | | | | | | CBCF/PWS-IWF | | | | | | instance has | | | | | | subscribed | | | | | | for N2 PWS | | | | | | information | | | | | | to receive | | | | | | the PWS | | | | | | Response data | | | | | | from the RAN. | | | | | | | | | | | | This IE shall | | | | | | be present if | | | | | | the | | | | | | subscription | | | | | | is for | | | | | | \"TSS\" N2 | | | | | | information | | | | | | class. When | | | | | | present, this | | | | | | IE shall | | | | | | identify the | | | | | | TSCTSF NF | | | | | | instance | | | | | | subscribing | | | | | | the TSS data. | +---------------+---------------+---+-------------+---------------+ | supp | Supp | C | 0..1 | This IE shall | | ortedFeatures | ortedFeatures | | | be present if | | | | | | at least one | | | | | | optional | | | | | | feature | | | | | | defined in | | | | | | clause 6.1.8 | | | | | | is supported. | +---------------+---------------+---+-------------+---------------+ | NOTE: Absence | | | | | | of both IEs | | | | | | means the | | | | | | subscription | | | | | | is for N2 | | | | | | information | | | | | | from all | | | | | | connected | | | | | | Access | | | | | | Network | | | | | | node(s) via | | | | | | any access | | | | | | type. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.11 Type: NonUeN2InfoSubscriptionCreatedData
Table 6.1.6.2.11-1: Definition of type NonUeN2InfoSubscriptionCreatedData
Attribute name Data type P Cardinality Description
* * *
n2NotifySubscriptionId string M 1 Represents the Id created by the AMF for the
subscription to notify a non-UE related N2 information. supportedFeatures
SupportedFeatures C 0..1 This IE shall be present if at least one optional
feature defined in clause 6.1.8 is supported. **n2InformationClass**
**N2InformationClass** O **0..1** **This IE represents the class of N2
information that the NF Service Consumer subscribed to.**
##### 6.1.6.2.12 Type: UeN1N2InfoSubscriptionCreateData
Table 6.1.6.2.12-1: Definition of type UeN1N2InfoSubscriptionCreateData
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | n2Inf | N2Inf | C | 0..1 | This IE shall | | ormationClass | ormationClass | | | be present if | | | | | | the NF | | | | | | service | | | | | | consumer | | | | | | subscribes | | | | | | for a N2 | | | | | | information | | | | | | notification. | | | | | | This IE | | | | | | represents | | | | | | the class of | | | | | | N2 | | | | | | information | | | | | | that the NF | | | | | | Service | | | | | | Consumer | | | | | | requires to | | | | | | be notified. | +---------------+---------------+---+-------------+---------------+ | n2Noti | Uri | C | 0..1 | This IE shall | | fyCallbackUri | | | | be present if | | | | | | the NF | | | | | | service | | | | | | consumer | | | | | | subscribes | | | | | | for a N2 | | | | | | information | | | | | | notification. | | | | | | This IE | | | | | | represents | | | | | | the callback | | | | | | URI on which | | | | | | the N2 | | | | | | information | | | | | | shall be | | | | | | notified. | +---------------+---------------+---+-------------+---------------+ | n | N | C | 0..1 | This IE shall | | 1MessageClass | 1MessageClass | | | be present if | | | | | | the NF | | | | | | service | | | | | | consumer | | | | | | subscribes | | | | | | for a N1 | | | | | | message | | | | | | notification. | | | | | | | | | | | | This IE | | | | | | represents | | | | | | the class of | | | | | | N1 message | | | | | | that the NF | | | | | | Service | | | | | | Consumer | | | | | | requires to | | | | | | be notified. | +---------------+---------------+---+-------------+---------------+ | n1Noti | Uri | C | 0..1 | This IE shall | | fyCallbackUri | | | | be present if | | | | | | the NF | | | | | | service | | | | | | consumer | | | | | | subscribes | | | | | | for a N1 | | | | | | message | | | | | | notification. | | | | | | This IE | | | | | | represents | | | | | | the callback | | | | | | URI on which | | | | | | the N1 | | | | | | message shall | | | | | | be notified. | +---------------+---------------+---+-------------+---------------+ | nfId | NfInstanceId | C | 0..1 | This IE shall | | | | | | be present if | | | | | | the | | | | | | subscription | | | | | | is for | | | | | | \"NRPPa\" N2 | | | | | | information | | | | | | class and/or | | | | | | \"LPP\" N1 | | | | | | information | | | | | | class. When | | | | | | present, this | | | | | | IE shall | | | | | | carry the | | | | | | value to be | | | | | | used for NGAP | | | | | | \"Routing | | | | | | ID\" IE, | | | | | | which | | | | | | identifies | | | | | | the Network | | | | | | Function | | | | | | (e.g. LMF) | | | | | | instance | | | | | | handling the | | | | | | NRPPa and/or | | | | | | LPP data. | +---------------+---------------+---+-------------+---------------+ | supp | Supp | C | 0..1 | This IE shall | | ortedFeatures | ortedFeatures | | | be present if | | | | | | at least one | | | | | | optional | | | | | | feature | | | | | | defined in | | | | | | clause 6.1.8 | | | | | | is supported. | +---------------+---------------+---+-------------+---------------+ | oldGuami | Guami | C | 0..1 | This IE shall | | | | | | be present | | | | | | during an AMF | | | | | | planned | | | | | | removal | | | | | | procedure | | | | | | when the NF | | | | | | Service | | | | | | Consumer | | | | | | initiates a | | | | | | request | | | | | | towards the | | | | | | target AMF, | | | | | | for a UE | | | | | | associated to | | | | | | an AMF that | | | | | | is | | | | | | unavailable | | | | | | (see clause | | | | | | 5.21.2.2 of | | | | | | 3GPP TS 2 | | | | | | 3.501 [2]). | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.13 Type: UeN1N2InfoSubscriptionCreatedData
Table 6.1.6.2.13-1: Definition of type UeN1N2InfoSubscriptionCreatedData
Attribute name Data type P Cardinality Description
* * *
n1n2NotifySubscriptionId string M 1 Represents the Id created by the AMF for
the subscription to notify a UE related N1/N2 information. supportedFeatures
SupportedFeatures C 0..1 This IE shall be present if at least one optional
feature defined in clause 6.1.8 is supported.
##### 6.1.6.2.14 Type: N2InformationNotification
Table 6.1.6.2.14-1: Definition of type N2InformationNotification
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | n2No | string | M | 1 | R | | | tifySubsc | | | | epresents | | | riptionId | | | | the | | | | | | | sub | | | | | | | scription | | | | | | | Id for | | | | | | | which the | | | | | | | not | | | | | | | ification | | | | | | | is | | | | | | | g | | | | | | | enerated. | | | | | | | The NF | | | | | | | Service | | | | | | | Consumer | | | | | | | uses this | | | | | | | to | | | | | | | co-relate | | | | | | | the | | | | | | | not | | | | | | | ification | | | | | | | against a | | | | | | | corr | | | | | | | esponding | | | | | | | subs | | | | | | | cription. | | | | | | | If the | | | | | | | not | | | | | | | ification | | | | | | | is due to | | | | | | | an | | | | | | | implicit | | | | | | | sub | | | | | | | scription | | | | | | | via NRF, | | | | | | | then the | | | | | | | value | | | | | | | shall be | | | | | | | set as | | | | | | | \"im | | | | | | | plicit\". | | | | | | | | | | | | | | During | | | | | | | the AMF | | | | | | | planned | | | | | | | removal | | | | | | | procedure | | | | | | | with UDSF | | | | | | | deployed | | | | | | | p | | | | | | | rocedure, | | | | | | | this IE | | | | | | | shall be | | | | | | | set to | | | | | | | \"\" | | | | | | | (empty | | | | | | | string) | | | | | | | and be | | | | | | | ignored | | | | | | | by the NF | | | | | | | Service | | | | | | | Consumer. | | +-----------+-----------+---+-----------+-----------+-----------+ | n2Info | N2Info | C | 0..1 | This IE | | | Container | Container | | | shall be | | | | | | | present, | | | | | | | except | | | | | | | during | | | | | | | Inter | | | | | | | NG-RAN | | | | | | | node N2 | | | | | | | based | | | | | | | handover | | | | | | | procedure | | | | | | | (see | | | | | | | clause | | | | | | | 5.2. | | | | | | | 2.3.6.2). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the N2 | | | | | | | in | | | | | | | formation | | | | | | | related | | | | | | | to the | | | | | | | corr | | | | | | | esponding | | | | | | | N2 | | | | | | | in | | | | | | | formation | | | | | | | class. | | +-----------+-----------+---+-----------+-----------+-----------+ | to | a | C | 1..N | This IE | | | ReleaseSe | rray(PduS | | | shall be | | | ssionList | essionId) | | | present | | | | | | | during N2 | | | | | | | based | | | | | | | handover | | | | | | | p | | | | | | | rocedure, | | | | | | | if there | | | | | | | are any | | | | | | | PDU | | | | | | | s | | | | | | | ession(s) | | | | | | | a | | | | | | | ssociated | | | | | | | with | | | | | | | Network | | | | | | | Slice(s) | | | | | | | which | | | | | | | become no | | | | | | | longer | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | include | | | | | | | all the | | | | | | | PDU | | | | | | | s | | | | | | | ession(s) | | | | | | | a | | | | | | | ssociated | | | | | | | with no | | | | | | | longer | | | | | | | available | | | | | | | S- | | | | | | | NSSAI(s). | | +-----------+-----------+---+-----------+-----------+-----------+ | lcsCorr | Corr | C | 0..1 | This IE | | | elationId | elationID | | | shall be | | | | | | | present, | | | | | | | if an LCS | | | | | | | co | | | | | | | rrelation | | | | | | | i | | | | | | | dentifier | | | | | | | is | | | | | | | received | | | | | | | in | | | | | | | corr | | | | | | | esponding | | | | | | | N1/N2 | | | | | | | Message | | | | | | | Transfer | | | | | | | service | | | | | | | o | | | | | | | peration. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | carry the | | | | | | | LCS | | | | | | | co | | | | | | | rrelation | | | | | | | id | | | | | | | entifier. | | +-----------+-----------+---+-----------+-----------+-----------+ | not | N2InfoNot | C | 0..1 | This IE | | | ifyReason | ifyReason | | | shall be | | | | | | | present, | | | | | | | if | | | | | | | \ | | | | | | | "n2InfoCo | | | | | | | ntainer\" | | | | | | | attribute | | | | | | | is not | | | | | | | present; | | | | | | | this IE | | | | | | | may be | | | | | | | present | | | | | | | o | | | | | | | therwise. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | indicates | | | | | | | the | | | | | | | reason | | | | | | | for the | | | | | | | N2 | | | | | | | in | | | | | | | formation | | | | | | | noti | | | | | | | fication. | | +-----------+-----------+---+-----------+-----------+-----------+ | smfChang | ar | C | 1..N | This IE | DTSSA | | eInfoList | ray(SmfCh | | | shall be | | | | angeInfo) | | | present | | | | | | | during N2 | | | | | | | based | | | | | | | handover | | | | | | | p | | | | | | | rocedure, | | | | | | | if there | | | | | | | is I-SMF | | | | | | | or V-SMF | | | | | | | change or | | | | | | | removal | | | | | | | for the | | | | | | | related | | | | | | | PDU | | | | | | | se | | | | | | | ssion(s). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | I- | | | | | | | SMF/V-SMF | | | | | | | situation | | | | | | | after | | | | | | | s | | | | | | | uccessful | | | | | | | HO | | | | | | | complete. | | +-----------+-----------+---+-----------+-----------+-----------+ | ranNodeId | Global | C | 0..1 | This IE | | | | RanNodeId | | | shall be | | | | | | | present | | | | | | | during | | | | | | | the AMF | | | | | | | planned | | | | | | | removal | | | | | | | procedure | | | | | | | with UDSF | | | | | | | deployed | | | | | | | p | | | | | | | rocedure. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | Global | | | | | | | RAN Node | | | | | | | ID. The | | | | | | | IE shall | | | | | | | contain | | | | | | | either | | | | | | | the gNB | | | | | | | ID or the | | | | | | | NG-eNB | | | | | | | ID. | | +-----------+-----------+---+-----------+-----------+-----------+ | initi | AmfName | C | 0..1 | This IE | | | alAmfName | | | | shall be | | | | | | | present | | | | | | | during | | | | | | | the AMF | | | | | | | planned | | | | | | | removal | | | | | | | procedure | | | | | | | with UDSF | | | | | | | deployed | | | | | | | p | | | | | | | rocedure. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the AMF | | | | | | | Name of | | | | | | | the | | | | | | | initial | | | | | | | AMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | anN | Ipv4Addr | C | 0..1 | This IE | | | 2IPv4Addr | | | | shall be | | | | | | | present | | | | | | | during | | | | | | | the AMF | | | | | | | planned | | | | | | | removal | | | | | | | procedure | | | | | | | with UDSF | | | | | | | deployed | | | | | | | p | | | | | | | rocedure, | | | | | | | if the | | | | | | | Access | | | | | | | Network | | | | | | | N2 | | | | | | | interface | | | | | | | is using | | | | | | | IPv4 | | | | | | | address. | | +-----------+-----------+---+-----------+-----------+-----------+ | anN | Ipv6Addr | C | 0..1 | This IE | | | 2IPv6Addr | | | | shall be | | | | | | | present | | | | | | | during | | | | | | | the AMF | | | | | | | planned | | | | | | | removal | | | | | | | procedure | | | | | | | with UDSF | | | | | | | deployed | | | | | | | p | | | | | | | rocedure, | | | | | | | if the | | | | | | | Access | | | | | | | Network | | | | | | | N2 | | | | | | | interface | | | | | | | is using | | | | | | | IPv6 | | | | | | | address. | | +-----------+-----------+---+-----------+-----------+-----------+ | guami | Guami | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | during | | | | | | | Location | | | | | | | Services | | | | | | | p | | | | | | | rocedures | | | | | | | (see | | | | | | | c | | | | | | | lause 5.2 | | | | | | | .2.3.6.3) | | | | | | | and it | | | | | | | may be | | | | | | | present | | | | | | | o | | | | | | | therwise. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the GUAMI | | | | | | | serving | | | | | | | the UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | notifySo | boolean | C | 0..1 | This IE | | | urceNgRan | | | | shall be | | | | | | | present | | | | | | | during an | | | | | | | Inter | | | | | | | NG-RAN | | | | | | | node N2 | | | | | | | based | | | | | | | DAPS | | | | | | | handover | | | | | | | procedure | | | | | | | , if the | | | | | | | target | | | | | | | AMF | | | | | | | receives | | | | | | | this | | | | | | | i | | | | | | | ndication | | | | | | | in the | | | | | | | Handover | | | | | | | Notify | | | | | | | from the | | | | | | | target | | | | | | | NG-RAN | | | | | | | node (see | | | | | | | clause | | | | | | | 4 | | | | | | | .9.1.3.3a | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | - true: | | | | | | | Notify | | | | | | | the | | | | | | | Source | | | | | | | NG-RAN | | | | | | | about | | | | | | | Handover | | | | | | | Success | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | Do not | | | | | | | notify | | | | | | | the | | | | | | | Source | | | | | | | NG-RAN | | | | | | | about | | | | | | | Handover | | | | | | | Success | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.15 Type: N2InfoContainer
Table 6.1.6.2.15-1: Definition of type N2InfoContainer
Attribute name Data type P Cardinality Description Applicability
* * *
n2InformationClass N2InformationClass M 1 This IE represents the class of N2
information to be transferred.  
smInfo N2SmInformation C 0..1 This IE shall be present if session management
N2 information is to be transferred. When present, it represents a session
management SMF related N2 information data part.  
ranInfo N2RanInformation C 0..1 This IE shall be present if RAN related N2
information is to be transferred (i.e. n2InformationClass is \"RAN\"). When
present, it shall contain the RAN related N2 information data part.  
nrppaInfo NrppaInformation C 0..1 This IE shall be present if location service
related N2 information is to be transferred. When present, it represents a
NRPPa related N2 information data part.  
pwsInfo PwsInformation C 0..1 This IE shall be present if PWS related N2
information is to be transferred.  
v2xInfo V2xInformation C 0..1 This IE shall be present if V2X related N2
information is to be transferred.  
proseInfo ProSeInformation C 0..1 This IE shall be present if 5G ProSe related
N2 information is to be transferred. ProSe tssInfo TssInformation C 0..1 This
IE shall be present if TSS related N2 information is to be transferred. NTSSM
rsppInfo RsppInformation C 0..1 This IE shall be present if Ranging/SL
positioning related N2 information is to be transferred. RSPP a2xInfo
A2xInformation C 0..1 This IE shall be present if A2X related N2 information
is to be transferred. A2X
##### 6.1.6.2.16 Type: N1MessageNotification
Table 6.1.6.2.16-1: Definition of type N1MessageNotification
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | n1NotifyS | string | C | 0..1 | Represents | | ubscriptionId | | | | the | | | | | | subscription | | | | | | Id for which | | | | | | the | | | | | | notification | | | | | | is generated. | | | | | | The NF | | | | | | Service | | | | | | Consumer uses | | | | | | this to | | | | | | correlate the | | | | | | notification | | | | | | against a | | | | | | corresponding | | | | | | subscription. | | | | | | If the | | | | | | notification | | | | | | is due to an | | | | | | implicit | | | | | | subscription | | | | | | via NRF, then | | | | | | the value | | | | | | shall be set | | | | | | as | | | | | | \"implicit\". | | | | | | | | | | | | This IE shall | | | | | | be present if | | | | | | the | | | | | | notification | | | | | | is based on a | | | | | | subscription | | | | | | to | | | | | | N1Messge | | | | | | Notification. | | | | | | An exception | | | | | | is for the | | | | | | case when | | | | | | initial AMF | | | | | | forwards NAS | | | | | | message to | | | | | | target AMF | | | | | | during AMF | | | | | | re-allocation | | | | | | procedure. | +---------------+---------------+---+-------------+---------------+ | n1Mes | N1Mes | M | 1 | Contains the | | sageContainer | sageContainer | | | N1 message | | | | | | class and N1 | | | | | | message | | | | | | content. | +---------------+---------------+---+-------------+---------------+ | lcs | CorrelationID | O | 0..1 | If the N1 | | CorrelationId | | | | message | | | | | | notified is | | | | | | for LCS | | | | | | procedures or | | | | | | PRU | | | | | | procedures, | | | | | | the NF | | | | | | Service | | | | | | Producer | | | | | | (e.g. AMF) | | | | | | may include | | | | | | an LCS | | | | | | correlation | | | | | | identifier. | +---------------+---------------+---+-------------+---------------+ | registration | Re | C | 0..1 | If the N1 | | CtxtContainer | gistrationCon | | | message | | | textContainer | | | notified is | | | | | | of type 5GMM | | | | | | (i.e. during | | | | | | Registration | | | | | | with AMF | | | | | | re-allocation | | | | | | procedure), | | | | | | the NF | | | | | | Service | | | | | | Producer | | | | | | (e.g. AMF) | | | | | | shall include | | | | | | this IE, if | | | | | | available. | +---------------+---------------+---+-------------+---------------+ | newLmfI | LMFI | O | 0..1 | If a new LMF | | dentification | dentification | | | is selected | | | | | | by AMF, this | | | | | | IE may | | | | | | include the | | | | | | new selected | | | | | | LMF | | | | | | Id | | | | | | entification. | +---------------+---------------+---+-------------+---------------+ | guami | Guami | C | 0..1 | This IE shall | | | | | | be present | | | | | | during UE | | | | | | Assisted and | | | | | | UE Based | | | | | | Positioning | | | | | | Procedure | | | | | | (see | | | | | | clause | | | | | | 5.2.2.3.5.3) | | | | | | or the LCS | | | | | | Event Report, | | | | | | Event | | | | | | Reporting in | | | | | | RRC INACTIVE | | | | | | state | | | | | | procedures, | | | | | | LCS Cancel | | | | | | Location and | | | | | | LCS | | | | | | Perio | | | | | | dic-Triggered | | | | | | Invoke | | | | | | Procedures | | | | | | (see | | | | | | clause | | | | | | 5.2.2.3.5.5) | | | | | | and it may be | | | | | | present | | | | | | otherwise. | | | | | | | | | | | | When present, | | | | | | it shall | | | | | | contain the | | | | | | GUAMI serving | | | | | | the UE. | +---------------+---------------+---+-------------+---------------+ | cIoT5G | boolean | C | 0..1 | This IE shall | | SOptimisation | | | | be present | | | | | | when the N1 | | | | | | message class | | | | | | is | | | | | | \"LPP/LCS\" | | | | | | and the N1 | | | | | | message is | | | | | | received from | | | | | | the UE with | | | | | | Control Plane | | | | | | CIoT 5GS | | | | | | Optimisation. | | | | | | When present, | | | | | | it shall be | | | | | | set as | | | | | | follows: | | | | | | | | | | | | - true: | | | | | | Control Plane | | | | | | CIoT 5GS | | | | | | Optimisation | | | | | | was used and | | | | | | no signalling | | | | | | or data is | | | | | | currently | | | | | | pending for | | | | | | the UE at the | | | | | | AMF. | | | | | | | | | | | | - false | | | | | | (default): | | | | | | Control Plane | | | | | | CIoT 5GS | | | | | | Optimisation | | | | | | was not used | | | | | | or signalling | | | | | | or data is | | | | | | currently | | | | | | pending for | | | | | | the UE at the | | | | | | AMF. | +---------------+---------------+---+-------------+---------------+ | ecgi | Ecgi | O | 0..1 | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | identifier of | | | | | | the E-UTRAN | | | | | | cell serving | | | | | | the UE. | | | | | | | | | | | | This IE may | | | | | | be present if | | | | | | the N1 | | | | | | message | | | | | | notified is | | | | | | for LCS | | | | | | procedures. | +---------------+---------------+---+-------------+---------------+ | ncgi | Ncgi | O | 0..1 | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | identifier of | | | | | | the NR cell | | | | | | serving the | | | | | | UE or the | | | | | | PRU. | | | | | | | | | | | | This IE may | | | | | | be present if | | | | | | the N1 | | | | | | message | | | | | | notified is | | | | | | for LCS | | | | | | procedures or | | | | | | PRU | | | | | | procedures. | +---------------+---------------+---+-------------+---------------+ | tai | Tai | O | 0..1 | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | identifier of | | | | | | the tracking | | | | | | area serving | | | | | | the PRU. | | | | | | | | | | | | This IE may | | | | | | be present if | | | | | | the N1 | | | | | | message | | | | | | notified is | | | | | | for PRU | | | | | | procedures. | +---------------+---------------+---+-------------+---------------+ | supi | Supi | O | 0..1 | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | SUPI of the | | | | | | PRU. | | | | | | | | | | | | This IE may | | | | | | be present if | | | | | | the N1 | | | | | | message | | | | | | notified is | | | | | | for PRU | | | | | | procedures. | +---------------+---------------+---+-------------+---------------+ | pruInd | PruInd | C | 0..1 | This IE shall | | | | | | be present | | | | | | when the N1 | | | | | | message class | | | | | | is \"PRU\". | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | indicate | | | | | | whether the | | | | | | UE is allowed | | | | | | to serve as a | | | | | | PRU. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.17 Type: N1MessageContainer
Table 6.1.6.2.17-1: Definition of type N1MessageContainer
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | n | N | M | 1 | This IE shall | | 1MessageClass | 1MessageClass | | | contain the | | | | | | N1 message | | | | | | class for the | | | | | | message | | | | | | content | | | | | | specified in | | | | | | n1Me | | | | | | ssageContent. | +---------------+---------------+---+-------------+---------------+ | n1M | Re | M | 1 | This IE shall | | essageContent | fToBinaryData | | | reference the | | | | | | N1 message | | | | | | binary data | | | | | | corresponding | | | | | | to the | | | | | | n1 | | | | | | MessageClass. | | | | | | See | | | | | | 3GPP TS 2 | | | | | | 4.501 [11]. | | | | | | See clause | | | | | | 6.1.6.4.2. | +---------------+---------------+---+-------------+---------------+ | nfId | NfInstanceId | C | 0..1 | This IE shall | | | | | | be present | | | | | | when the | | | | | | n | | | | | | 1MessageClass | | | | | | IE is set to | | | | | | \"LPP\", | | | | | | \"LCS\" or | | | | | | \"PRU\". It | | | | | | should be | | | | | | present when | | | | | | the | | | | | | n | | | | | | 1MessageClass | | | | | | IE is set to | | | | | | \"SM\". It | | | | | | may be | | | | | | present | | | | | | otherwise. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | carry the | | | | | | identifier of | | | | | | the Network | | | | | | Function | | | | | | (e.g. LMF or | | | | | | SMF) instance | | | | | | sending the | | | | | | N1 message. | | | | | | (NOTE) | +---------------+---------------+---+-------------+---------------+ | serv | string | O | 0..1 | When present, | | iceInstanceId | | | | this IE shall | | | | | | carry the | | | | | | Service | | | | | | Instance | | | | | | Identifier of | | | | | | the Service | | | | | | Instance | | | | | | (e.g. LMF) | | | | | | sending the | | | | | | N1 message. | +---------------+---------------+---+-------------+---------------+ | NOTE: For a | | | | | | Home-routed | | | | | | PDU session, | | | | | | this IE shall | | | | | | carry the NF | | | | | | instance ID | | | | | | of the V-SMF; | | | | | | for a PDU | | | | | | session with | | | | | | I-SMF, this | | | | | | IE shall | | | | | | carry the NF | | | | | | instance ID | | | | | | of the I-SMF. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.18 Type: N1N2MessageTransferReqData
Table 6.1.6.2.18-1: Definition of type N1N2MessageTransferReqData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | n1Message | N1Message | C | 0..1 | This IE | | | Container | Container | | | shall be | | | | | | | included | | | | | | | if a N1 | | | | | | | message | | | | | | | needs to | | | | | | | be | | | | | | | tra | | | | | | | nsferred. | | +-----------+-----------+---+-----------+-----------+-----------+ | n2Info | N2Info | C | 0..1 | This IE | | | Container | Container | | | shall be | | | | | | | included | | | | | | | if a N2 | | | | | | | in | | | | | | | formation | | | | | | | needs to | | | | | | | be | | | | | | | tra | | | | | | | nsferred. | | +-----------+-----------+---+-----------+-----------+-----------+ | mtData | RefToB | C | 0..1 | This IE | CIOT | | | inaryData | | | shall be | | | | | | | included | | | | | | | if mobile | | | | | | | t | | | | | | | erminated | | | | | | | data | | | | | | | (i.e. | | | | | | | CIoT user | | | | | | | data | | | | | | | c | | | | | | | ontainer) | | | | | | | needs to | | | | | | | be | | | | | | | tra | | | | | | | nsferred. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | reference | | | | | | | the | | | | | | | mobile | | | | | | | t | | | | | | | erminated | | | | | | | data (see | | | | | | | clause | | | | | | | 6. | | | | | | | 1.6.4.4). | | +-----------+-----------+---+-----------+-----------+-----------+ | skipInd | boolean | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | and set | | | | | | | to | | | | | | | \"true\" | | | | | | | if the | | | | | | | service | | | | | | | consumer | | | | | | | (e.g. | | | | | | | SMF) | | | | | | | requires | | | | | | | the N1 | | | | | | | message | | | | | | | to be | | | | | | | sent to | | | | | | | the UE | | | | | | | only when | | | | | | | UE is in | | | | | | | CM-C | | | | | | | ONNECTED, | | | | | | | e.g. | | | | | | | during | | | | | | | SMF | | | | | | | initiated | | | | | | | PDU | | | | | | | session | | | | | | | release | | | | | | | procedure | | | | | | | (see | | | | | | | clause | | | | | | | 4.3.4.2 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall be | | | | | | | set as | | | | | | | f | | | | | | | ollowing: | | | | | | | | | | | | | | - true: | | | | | | | AMF | | | | | | | should | | | | | | | skip | | | | | | | sending | | | | | | | N1 | | | | | | | message | | | | | | | to UE, | | | | | | | when the | | | | | | | UE is in | | | | | | | CM-IDLE. | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | the AMF | | | | | | | shall | | | | | | | send the | | | | | | | N1 | | | | | | | message | | | | | | | to the | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | lastMsgI | boolean | O | 0..1 | This flag | | | ndication | | | | when | | | | | | | present | | | | | | | shall | | | | | | | indicate | | | | | | | that the | | | | | | | message | | | | | | | tr | | | | | | | ansferred | | | | | | | is the | | | | | | | last | | | | | | | message. | | | | | | | (See | | | | | | | clause | | | | | | | 4.13.3.3 | | | | | | | and | | | | | | | clause | | | | | | | 4.13.3.6 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | +-----------+-----------+---+-----------+-----------+-----------+ | pdu | Pdu | O | 0..1 | PDU | | | SessionId | SessionId | | | Session | | | | | | | ID for | | | | | | | which the | | | | | | | N1 / N2 | | | | | | | message | | | | | | | is sent, | | | | | | | if the N1 | | | | | | | / N2 | | | | | | | message | | | | | | | class is | | | | | | | SM. | | +-----------+-----------+---+-----------+-----------+-----------+ | lcsCorr | Corr | O | 0..1 | LCS | | | elationId | elationID | | | Co | | | | | | | rrelation | | | | | | | ID, for | | | | | | | which the | | | | | | | N1/N2 | | | | | | | message | | | | | | | is sent, | | | | | | | if | | | | | | | | | | | | | | - the N1 | | | | | | | message | | | | | | | class is | | | | | | | LPP (see | | | | | | | clause | | | | | | | 6.11.1 of | | | | | | | 3GPP | | | | | | | TS 23.27 | | | | | | | 3 [42]) | | | | | | | or LCS | | | | | | | (see | | | | | | | c | | | | | | | lause 6.3 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.27 | | | | | | | 3 [42]) | | | | | | | or PRU | | | | | | | (see | | | | | | | cl | | | | | | | ause 6.17 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.273 | | | | | | | [42]); | | | | | | | and/or | | | | | | | | | | | | | | - the N2 | | | | | | | In | | | | | | | formation | | | | | | | class is | | | | | | | NRPPa | | | | | | | (see | | | | | | | clau | | | | | | | se 6.11.2 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.273 | | | | | | | [42]). | | +-----------+-----------+---+-----------+-----------+-----------+ | ppi | Ppi | O | 0..1 | This IE | | | | | | | when | | | | | | | present | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | Paging | | | | | | | policy to | | | | | | | be | | | | | | | applied. | | | | | | | The | | | | | | | paging | | | | | | | policies | | | | | | | are | | | | | | | c | | | | | | | onfigured | | | | | | | at the | | | | | | | AMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | arp | Arp | O | 0..1 | This IE | | | | | | | when | | | | | | | present | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | A | | | | | | | llocation | | | | | | | and | | | | | | | Retention | | | | | | | Priority | | | | | | | of the | | | | | | | PDU | | | | | | | session | | | | | | | for which | | | | | | | the N1/N2 | | | | | | | message | | | | | | | transfer | | | | | | | is | | | | | | | i | | | | | | | nitiated. | | | | | | | To | | | | | | | support | | | | | | | priority | | | | | | | paging, | | | | | | | the AMF | | | | | | | shall use | | | | | | | this IE | | | | | | | to | | | | | | | determine | | | | | | | whether | | | | | | | to | | | | | | | include | | | | | | | the | | | | | | | Paging | | | | | | | Priority | | | | | | | IE in the | | | | | | | NGAP | | | | | | | Paging | | | | | | | Message | | | | | | | (see | | | | | | | clause | | | | | | | 5.4.3.3 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 1 [2]). | | | | | | | The set | | | | | | | of ARP | | | | | | | values | | | | | | | a | | | | | | | ssociated | | | | | | | with | | | | | | | priority | | | | | | | paging | | | | | | | and | | | | | | | mapping | | | | | | | to Paging | | | | | | | Priority | | | | | | | IE values | | | | | | | are | | | | | | | c | | | | | | | onfigured | | | | | | | at the | | | | | | | AMF. | | | | | | | | | | | | | | This IE | | | | | | | shall not | | | | | | | be | | | | | | | present | | | | | | | when the | | | | | | | N1/N2 | | | | | | | message | | | | | | | class is | | | | | | | not SM. | | +-----------+-----------+---+-----------+-----------+-----------+ | 5qi | 5Qi | O | 0..1 | This IE | | | | | | | when | | | | | | | present | | | | | | | shall | | | | | | | indicate | | | | | | | the 5QI | | | | | | | a | | | | | | | ssociated | | | | | | | with the | | | | | | | PDU | | | | | | | session | | | | | | | for which | | | | | | | the N1 / | | | | | | | N2 | | | | | | | message | | | | | | | transfer | | | | | | | is | | | | | | | i | | | | | | | nitiated. | | | | | | | This IE | | | | | | | shall not | | | | | | | be | | | | | | | present | | | | | | | when the | | | | | | | N1/N2 | | | | | | | message | | | | | | | class is | | | | | | | not SM. | | +-----------+-----------+---+-----------+-----------+-----------+ | n1n2 | Uri | O | 0..1 | If | | | FailureTx | | | | included, | | | fNotifURI | | | | this IE | | | | | | | r | | | | | | | epresents | | | | | | | the | | | | | | | callback | | | | | | | URI on | | | | | | | which the | | | | | | | AMF shall | | | | | | | notify | | | | | | | the N1/N2 | | | | | | | message | | | | | | | transfer | | | | | | | failure. | | +-----------+-----------+---+-----------+-----------+-----------+ | smfReallo | boolean | O | 0..1 | This IE | | | cationInd | | | | shall | | | | | | | indicate | | | | | | | that the | | | | | | | SMF is | | | | | | | requested | | | | | | | to be | | | | | | | re | | | | | | | allocated | | | | | | | (see | | | | | | | clause | | | | | | | 4.3.5.2 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall be | | | | | | | set as | | | | | | | follows: | | | | | | | | | | | | | | - true: | | | | | | | the SMF | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | rea | | | | | | | llocated. | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | the SMF | | | | | | | is not | | | | | | | requested | | | | | | | to be | | | | | | | rea | | | | | | | llocated. | | +-----------+-----------+---+-----------+-----------+-----------+ | areaO | AreaO | O | 0..1 | This IE | | | fValidity | fValidity | | | r | | | | | | | epresents | | | | | | | the list | | | | | | | of TAs | | | | | | | where the | | | | | | | provided | | | | | | | N2 | | | | | | | in | | | | | | | formation | | | | | | | is valid. | | | | | | | See | | | | | | | clause | | | | | | | 5.2.2.2.7 | | | | | | | and | | | | | | | 4.2.3.3 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | +-----------+-----------+---+-----------+-----------+-----------+ | supporte | Supporte | C | 0..1 | This IE | | | dFeatures | dFeatures | | | shall be | | | | | | | present | | | | | | | if at | | | | | | | least one | | | | | | | optional | | | | | | | feature | | | | | | | defined | | | | | | | in clause | | | | | | | 6.1.8 is | | | | | | | s | | | | | | | upported. | | +-----------+-----------+---+-----------+-----------+-----------+ | oldGuami | Guami | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | during an | | | | | | | AMF | | | | | | | planned | | | | | | | removal | | | | | | | procedure | | | | | | | when the | | | | | | | NF | | | | | | | Service | | | | | | | Consumer | | | | | | | initiates | | | | | | | a request | | | | | | | towards | | | | | | | the | | | | | | | target | | | | | | | AMF, for | | | | | | | a UE | | | | | | | a | | | | | | | ssociated | | | | | | | to an AMF | | | | | | | that is | | | | | | | un | | | | | | | available | | | | | | | (see | | | | | | | clause | | | | | | | 5.21.2.2 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 1 [2]). | | +-----------+-----------+---+-----------+-----------+-----------+ | maAc | boolean | C | 0..1 | This IE | MAPDU | | ceptedInd | | | | shall be | | | | | | | present | | | | | | | if a | | | | | | | request | | | | | | | to | | | | | | | establish | | | | | | | a MA PDU | | | | | | | session | | | | | | | was | | | | | | | accepted | | | | | | | or if a | | | | | | | single | | | | | | | access | | | | | | | PDU | | | | | | | session | | | | | | | was | | | | | | | upgraded | | | | | | | into a MA | | | | | | | PDU | | | | | | | session | | | | | | | (see | | | | | | | clauses | | | | | | | 4.22.2 | | | | | | | and | | | | | | | 4.22.3 of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | - true: | | | | | | | MA PDU | | | | | | | session | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | single | | | | | | | access | | | | | | | PDU | | | | | | | session | | +-----------+-----------+---+-----------+-----------+-----------+ | extB | boolean | O | 0..1 | This IE | | | ufSupport | | | | may be | | | | | | | present | | | | | | | with | | | | | | | value | | | | | | | \"true\" | | | | | | | if | | | | | | | Extended | | | | | | | Buffering | | | | | | | is | | | | | | | p | | | | | | | ermitted, | | | | | | | during | | | | | | | Network | | | | | | | triggered | | | | | | | Service | | | | | | | Request | | | | | | | Procedure | | | | | | | (see | | | | | | | clause | | | | | | | 4.2.3.3 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]), | | | | | | | UPF | | | | | | | anchored | | | | | | | Mobile | | | | | | | T | | | | | | | erminated | | | | | | | Data | | | | | | | Transport | | | | | | | in | | | | | | | Control | | | | | | | Plane | | | | | | | CIoT 5GS | | | | | | | Opt | | | | | | | imisation | | | | | | | procedure | | | | | | | (see | | | | | | | clau | | | | | | | se 4.24.2 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]) | | | | | | | or NEF | | | | | | | Anchored | | | | | | | Mobile | | | | | | | T | | | | | | | erminated | | | | | | | Data | | | | | | | Transport | | | | | | | (see | | | | | | | clau | | | | | | | se 4.25.5 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | whether | | | | | | | Extended | | | | | | | Buffering | | | | | | | applies | | | | | | | or not: | | | | | | | | | | | | | | - true: | | | | | | | Extended | | | | | | | Buffering | | | | | | | applies | | | | | | | | | | | | | | - false | | | | | | | (default) | | | | | | | Extended | | | | | | | Buffering | | | | | | | does not | | | | | | | apply | | +-----------+-----------+---+-----------+-----------+-----------+ | tar | A | C | 0..1 | This IE | MAPDU | | getAccess | ccessType | | | shall be | | | | | | | included | ELCS | | | | | | by a SMF | | | | | | | for a MA | 3G | | | | | | PDU | A-N3GA-HO | | | | | | session | | | | | | | to | | | | | | | indicate | | | | | | | the | | | | | | | target | | | | | | | access | | | | | | | type | | | | | | | (i.e. | | | | | | | 3GPP | | | | | | | access or | | | | | | | Non-3GPP | | | | | | | access) | | | | | | | towards | | | | | | | which the | | | | | | | N2 | | | | | | | in | | | | | | | formation | | | | | | | and | | | | | | | o | | | | | | | ptionally | | | | | | | N1 | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | sent. | | | | | | | | | | | | | | This IE | | | | | | | may be | | | | | | | included | | | | | | | by an LMF | | | | | | | to | | | | | | | indicate | | | | | | | the | | | | | | | access | | | | | | | type | | | | | | | through | | | | | | | which an | | | | | | | LPP | | | | | | | message | | | | | | | shall be | | | | | | | tr | | | | | | | ansmitted | | | | | | | to the | | | | | | | UE. | | | | | | | | | | | | | | This IE | | | | | | | shall be | | | | | | | included | | | | | | | by an SMF | | | | | | | and set | | | | | | | to the | | | | | | | old | | | | | | | access | | | | | | | type | | | | | | | during an | | | | | | | intra-AMF | | | | | | | handover | | | | | | | between | | | | | | | 3GPP and | | | | | | | non-3GPP | | | | | | | accesses, | | | | | | | when | | | | | | | releasing | | | | | | | the N2 | | | | | | | PDU | | | | | | | session | | | | | | | resources | | | | | | | in the | | | | | | | old | | | | | | | access. | | +-----------+-----------+---+-----------+-----------+-----------+ | nfId | NfI | C | 0..1 | This IE | | | | nstanceId | | | should be | | | | | | | included | | | | | | | by the | | | | | | | SMF when | | | | | | | invoking | | | | | | | N | | | | | | | 1N2Messag | | | | | | | eTransfer | | | | | | | service | | | | | | | o | | | | | | | peration, | | | | | | | if the | | | | | | | n1Message | | | | | | | Container | | | | | | | IE is not | | | | | | | present. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | carry the | | | | | | | i | | | | | | | dentifier | | | | | | | of the NF | | | | | | | instance | | | | | | | invoking | | | | | | | the | | | | | | | service | | | | | | | o | | | | | | | peration, | | | | | | | i.e. the | | | | | | | SMF | | | | | | | instance | | | | | | | hosting | | | | | | | the SM | | | | | | | Context | | | | | | | for the | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | pruInd | boolean | O | 0..1 | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall be | | | | | | | set to | | | | | | | the value | | | | | | | true to | | | | | | | indicate | | | | | | | that the | | | | | | | LMF as NF | | | | | | | consumer | | | | | | | is | | | | | | | r | | | | | | | equesting | | | | | | | to | | | | | | | initiate | | | | | | | a | | | | | | | po | | | | | | | sitioning | | | | | | | procedure | | | | | | | towards a | | | | | | | PRU, as | | | | | | | specified | | | | | | | in | | | | | | | clau | | | | | | | se 6.11.2 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.27 | | | | | | | 3 [42]. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | For N1 | | | | | | | message | | | | | | | class | | | | | | | \"UPDP\", | | | | | | | as per | | | | | | | 3GP | | | | | | | P TS 24.5 | | | | | | | 01 [11] | | | | | | | Annex D, | | | | | | | the | | | | | | | messages | | | | | | | between | | | | | | | UE and | | | | | | | PCF carry | | | | | | | PTI which | | | | | | | is used | | | | | | | by the | | | | | | | PCF to | | | | | | | correlate | | | | | | | the | | | | | | | received | | | | | | | N1 | | | | | | | message | | | | | | | in the | | | | | | | not | | | | | | | ification | | | | | | | with a | | | | | | | prior | | | | | | | tr | | | | | | | ansaction | | | | | | | initiated | | | | | | | by the | | | | | | | PCF. | | | | | | | | | | | | | | NOTE 2: | | | | | | | During | | | | | | | Downlink | | | | | | | Data | | | | | | | Not | | | | | | | ification | | | | | | | p | | | | | | | rocedure, | | | | | | | if the | | | | | | | SMF | | | | | | | receives | | | | | | | the PPI | | | | | | | value | | | | | | | (=DSC | | | | | | | P(0..63)) | | | | | | | from the | | | | | | | UPF and | | | | | | | wants to | | | | | | | set the | | | | | | | PPI value | | | | | | | in the | | | | | | | N1N2Messg | | | | | | | eTransfer | | | | | | | message, | | | | | | | the SMF | | | | | | | shall map | | | | | | | the PPI | | | | | | | value | | | | | | | received | | | | | | | from N4 | | | | | | | message | | | | | | | to | | | | | | | correct | | | | | | | PPI value | | | | | | | (0..7) | | | | | | | used in | | | | | | | N11 | | | | | | | message. | | | | | | | | | | | | | | NOTE 3: | | | | | | | If the | | | | | | | n1Message | | | | | | | Container | | | | | | | IE is | | | | | | | present, | | | | | | | the nfId | | | | | | | attribute | | | | | | | in the | | | | | | | n1Message | | | | | | | Container | | | | | | | IE should | | | | | | | be used | | | | | | | by the | | | | | | | SMF and | | | | | | | the AMF | | | | | | | to | | | | | | | identify | | | | | | | the NF | | | | | | | instance | | | | | | | ID of the | | | | | | | sending | | | | | | | SMF. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.19 Type: N1N2MessageTransferRspData
Table 6.1.6.2.19-1: Definition of type N1N2MessageTransferRspData
Attribute name Data type P Cardinality Description
* * *
cause N1N2MessageTransferCause M 1 This IE shall provide the result of the
N1/N2 message transfer processing at the AMF. supportedFeatures
SupportedFeatures C 0..1 This IE shall be present if at least one optional
feature defined in clause 6.1.8 is supported.
##### 6.1.6.2.20 Type: RegistrationContextContainer
Table 6.1.6.2.20-1: Definition of type RegistrationContextContainer
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | ueContext | UeContext | M | 1 | This IE shall | | | | | | contain the | | | | | | UE Context | | | | | | information. | +---------------+---------------+---+-------------+---------------+ | localTimeZone | TimeZone | O | 0..1 | This IE | | | | | | contains the | | | | | | time zone UE | | | | | | is currently | | | | | | located. | +---------------+---------------+---+-------------+---------------+ | anType | AccessType | M | 1 | This IE shall | | | | | | contain the | | | | | | current | | | | | | access type | | | | | | of the UE. | +---------------+---------------+---+-------------+---------------+ | anN2ApId | integer | M | 1 | This IE shall | | | | | | contain the | | | | | | RAN UE NGAP | | | | | | ID over N2 | | | | | | interface. | +---------------+---------------+---+-------------+---------------+ | ranNodeId | Gl | M | 1 | This IE shall | | | obalRanNodeId | | | contain the | | | | | | Global RAN | | | | | | Node ID. The | | | | | | IE shall | | | | | | contain | | | | | | either the | | | | | | gNB ID or the | | | | | | NG-eNB ID. | +---------------+---------------+---+-------------+---------------+ | i | AmfName | M | 1 | This IE shall | | nitialAmfName | | | | contain the | | | | | | AMF Name of | | | | | | the initial | | | | | | AMF. | +---------------+---------------+---+-------------+---------------+ | userLocation | UserLocation | M | 1 | This IE shall | | | | | | contain the | | | | | | user location | | | | | | received from | | | | | | 5G-AN. | +---------------+---------------+---+-------------+---------------+ | anN2IPv4Addr | Ipv4Addr | C | 0..1 | If the Access | | | | | | Network N2 | | | | | | interface is | | | | | | using IPv4 | | | | | | address, this | | | | | | IE shall be | | | | | | included. | +---------------+---------------+---+-------------+---------------+ | anN2IPv6Addr | Ipv6Addr | C | 0..1 | If the Access | | | | | | Network N2 | | | | | | interface is | | | | | | using IPv6 | | | | | | address, this | | | | | | IE shall be | | | | | | included. | +---------------+---------------+---+-------------+---------------+ | rrcEstCause | string | C | 0..1 | This IE shall | | | | | | contain the | | | | | | RRC | | | | | | Establishment | | | | | | Cause, if | | | | | | received from | | | | | | the 5G-AN | | | | | | (See | | | | | | 3GPP TS 3 | | | | | | 8.413 [12], | | | | | | cla | | | | | | use 9.2.5.1). | | | | | | | | | | | | It carries | | | | | | the value in | | | | | | hexadecimal | | | | | | r | | | | | | epresentation | | | | | | | | | | | | Pattern: | | | | | | \'\^[0-9 | | | | | | a-fA-F]+\$\' | +---------------+---------------+---+-------------+---------------+ | ueC | boolean | C | 0..1 | This IE shall | | ontextRequest | | | | contain the | | | | | | indication on | | | | | | whether UE | | | | | | context | | | | | | including | | | | | | security | | | | | | information | | | | | | needs to be | | | | | | setup at the | | | | | | NG-RAN, if | | | | | | received from | | | | | | the NG-RAN by | | | | | | the initial | | | | | | AMF (See | | | | | | 3GPP TS 3 | | | | | | 8.413 [12], | | | | | | cla | | | | | | use 9.2.5.1). | | | | | | | | | | | | When present, | | | | | | it shall be | | | | | | set as | | | | | | follows: | | | | | | | | | | | | > \- true: UE | | | | | | > context | | | | | | > including | | | | | | > security | | | | | | > information | | | | | | > needs to be | | | | | | > setup at | | | | | | > the NG-RAN. | | | | | | > | | | | | | > \- false | | | | | | > (default): | | | | | | > UE context | | | | | | > including | | | | | | > security | | | | | | > information | | | | | | > does not | | | | | | > need to be | | | | | | > setup at | | | | | | > the NG-RAN. | +---------------+---------------+---+-------------+---------------+ | ini | integer | C | 0..1 | This IE shall | | tialAmfN2ApId | | | | contain the | | | | | | AMF UE NGAP | | | | | | ID of the | | | | | | initial AMF | | | | | | over N2 | | | | | | interface, if | | | | | | available. | +---------------+---------------+---+-------------+---------------+ | allowedNssai | AllowedNssai | O | 0..1 | This IE | | | | | | contains the | | | | | | allowed NSSAI | | | | | | of the UE. | | | | | | This IE also | | | | | | contains the | | | | | | mapped home | | | | | | network | | | | | | S-NSSAI for | | | | | | each allowed | | | | | | S-NSSAI. | +---------------+---------------+---+-------------+---------------+ | co | array(Conf | O | 1..N | This IE shall | | nfiguredNssai | iguredSnssai) | | | contain the | | | | | | configured | | | | | | S-NSSAI(s) | | | | | | authorized by | | | | | | the NSSF in | | | | | | the serving | | | | | | PLMN, if | | | | | | received from | | | | | | the NSSF. | +---------------+---------------+---+-------------+---------------+ | reject | array(Snssai) | O | 1..N | This IE shall | | edNssaiInPlmn | | | | contain the | | | | | | rejected | | | | | | NSSAI in the | | | | | | PLMN, if | | | | | | received from | | | | | | the NSSF. | +---------------+---------------+---+-------------+---------------+ | reje | array(Snssai) | O | 1..N | This IE shall | | ctedNssaiInTa | | | | contain the | | | | | | rejected | | | | | | NSSAI in the | | | | | | current TA, | | | | | | if received | | | | | | from the | | | | | | NSSF. | +---------------+---------------+---+-------------+---------------+ | s | PlmnId | O | 0..1 | This IE shall | | electedPlmnId | | | | contain the | | | | | | selected PLMN | | | | | | Id for the | | | | | | non-3GPP | | | | | | access, if | | | | | | received from | | | | | | the 5G-AN | | | | | | (See | | | | | | 3GPP TS 3 | | | | | | 8.413 [12], | | | | | | cla | | | | | | use 9.2.5.1). | +---------------+---------------+---+-------------+---------------+ | iabNodeInd | boolean | O | 0..1 | This IE shall | | | | | | contain the | | | | | | IAB Node | | | | | | Indication, | | | | | | if received | | | | | | from the | | | | | | 5G-AN (See | | | | | | 3GPP TS 3 | | | | | | 8.413 [12], | | | | | | cla | | | | | | use 9.2.5.1). | | | | | | | | | | | | When present, | | | | | | it shall be | | | | | | set as | | | | | | follows: | | | | | | | | | | | | > \- true: | | | | | | > 5G-AN is an | | | | | | > IAB Node. | | | | | | | | | | | | - false | | | | | | (default): | | | | | | 5G-AN is not | | | | | | an IAB Node. | +---------------+---------------+---+-------------+---------------+ | mbsrNodeInd | boolean | O | 0..1 | This IE shall | | | | | | contain the | | | | | | MBSR Node | | | | | | Indication, | | | | | | if received | | | | | | from the | | | | | | 5G-AN. | | | | | | | | | | | | When present, | | | | | | it shall be | | | | | | set as | | | | | | follows: | | | | | | | | | | | | > \- true: | | | | | | > 5G-AN is an | | | | | | > MBSR Node. | | | | | | > | | | | | | > \- false | | | | | | > (default): | | | | | | > 5G-AN is | | | | | | > not an MBSR | | | | | | > Node. | +---------------+---------------+---+-------------+---------------+ | ceModeBInd | CeModeBInd | O | 0..1 | This IE shall | | | | | | contain the | | | | | | CE-mode-B | | | | | | Support | | | | | | Indicator, if | | | | | | received from | | | | | | the 5G-AN | | | | | | (See | | | | | | 3GPP TS 3 | | | | | | 8.413 [12], | | | | | | cla | | | | | | use 9.2.5.1). | +---------------+---------------+---+-------------+---------------+ | lteMInd | LteMInd | O | 0..1 | This IE shall | | | | | | contain the | | | | | | LTE-M | | | | | | Indication, | | | | | | if received | | | | | | from the | | | | | | 5G-AN (See | | | | | | 3GPP TS 3 | | | | | | 8.413 [12], | | | | | | cla | | | | | | use 9.2.5.1). | +---------------+---------------+---+-------------+---------------+ | aut | boolean | O | 0..1 | This IE shall | | henticatedInd | | | | contain the | | | | | | Authenticated | | | | | | Indication, | | | | | | if received | | | | | | from the | | | | | | 5G-AN (See | | | | | | 3GPP TS 3 | | | | | | 8.413 [12], | | | | | | cla | | | | | | use 9.2.5.1). | | | | | | | | | | | | This IE shall | | | | | | be set as | | | | | | follows: | | | | | | | | | | | | > \- true: | | | | | | > | | | | | | authenticated | | | | | | > by the | | | | | | > 5G-AN; | | | | | | | | | | | | - false | | | | | | (default): | | | | | | un | | | | | | authenticated | | | | | | by the 5G-AN. | +---------------+---------------+---+-------------+---------------+ | npnAccessInfo | NpnAccessInfo | O | 0..1 | This IE shall | | | | | | contain the | | | | | | NPN Access | | | | | | Information, | | | | | | if received | | | | | | from the | | | | | | 5G-AN (See | | | | | | 3GPP TS 3 | | | | | | 8.413 [12], | | | | | | cla | | | | | | use 9.2.5.1). | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.21 Type: AreaOfValidity
Table 6.1.6.2.21-1: Definition of type AreaOfValidity
Attribute name Data type P Cardinality Description
* * *
taiList array(Tai) M 0..N An array of TAI representing the area of validity of
the associated N2 information provided.
##### 6.1.6.2.22 Void
##### 6.1.6.2.23 Type: UeContextTransferReqData
Table 6.1.6.2.23-1: Definition of type UeContextTransferReqData
Attribute name Data type P Cardinality Description
* * *
reason TransferReason M 1 Indicate the reason for the UEContextTransfer
service request accessType AccessType M 1 This IE shall contain the access
type of the UE. plmnId PlmnIdNid O 0..1 If present, this IE shall contain the
PLMN ID or SNPN ID of the NF service consumer (e.g target AMF). regRequest
N1MessageContainer O 0..1 If present, this IE shall refer to the registration
request message which triggers the UE Context Transfer. The message class
shall be \"5GMM\" and message content shall be reference to N1 Message Content
binary data, See clause 6.1.6.4.2. supportedFeatures SupportedFeatures C 0..1
This IE shall be present if at least one optional feature defined in clause
6.1.8 is supported.
##### 6.1.6.2.24 Type: UeContextTransferRspData
Table 6.1.6.2.24-1: Definition of type UeContextTransferRspData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | ueContext | UeContext | M | 1 | R | | | | | | | epresents | | | | | | | an | | | | | | | i | | | | | | | ndividual | | | | | | | ueContext | | | | | | | resource | | | | | | | after the | | | | | | | mod | | | | | | | ification | | | | | | | is | | | | | | | applied. | | +-----------+-----------+---+-----------+-----------+-----------+ | supporte | Supporte | C | 0..1 | This IE | | | dFeatures | dFeatures | | | shall be | | | | | | | present | | | | | | | if at | | | | | | | least one | | | | | | | optional | | | | | | | feature | | | | | | | defined | | | | | | | in clause | | | | | | | 6.1.8 is | | | | | | | s | | | | | | | upported. | | +-----------+-----------+---+-----------+-----------+-----------+ | ueRadioC | N2In | C | 0..1 | This IE | | | apability | foContent | | | shall be | | | | | | | included | | | | | | | to | | | | | | | contain | | | | | | | the \"UE | | | | | | | Radio | | | | | | | C | | | | | | | apability | | | | | | | Info | | | | | | | rmation\" | | | | | | | if | | | | | | | available | | | | | | | during | | | | | | | context | | | | | | | transfer | | | | | | | p | | | | | | | rocedure. | | | | | | | | | | | | | | UE Radio | | | | | | | C | | | | | | | apability | | | | | | | In | | | | | | | formation | | | | | | | does not | | | | | | | include | | | | | | | NB-IoT UE | | | | | | | radio | | | | | | | ca | | | | | | | pability, | | | | | | | see | | | | | | | clause | | | | | | | 5.4.4.1 | | | | | | | of | | | | | | | 3G | | | | | | | PP TS 23. | | | | | | | 501 [2] | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | ueRadioC | N2In | C | 0..1 | This IE | | | apability | foContent | | | shall be | | | ForPaging | | | | included | | | | | | | to | | | | | | | contain | | | | | | | the \"UE | | | | | | | Radio | | | | | | | C | | | | | | | apability | | | | | | | for | | | | | | | Paging\" | | | | | | | if | | | | | | | available | | | | | | | during | | | | | | | context | | | | | | | transfer | | | | | | | p | | | | | | | rocedure. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | ueNb | N2In | C | 0..1 | This IE | CIOT | | iotRadioC | foContent | | | shall be | | | apability | | | | included | | | | | | | to | | | | | | | contain | | | | | | | \"NB-IoT | | | | | | | UE radio | | | | | | | c | | | | | | | apability | | | | | | | Info | | | | | | | rmation\" | | | | | | | if | | | | | | | available | | | | | | | during | | | | | | | context | | | | | | | transfer | | | | | | | p | | | | | | | rocedure, | | | | | | | see | | | | | | | clause | | | | | | | 5.4.4.1 | | | | | | | of | | | | | | | 3G | | | | | | | PP TS 23. | | | | | | | 501 [2] | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: The | | | | | | | source | | | | | | | AMF may | | | | | | | decide to | | | | | | | not | | | | | | | include | | | | | | | ueRadioC | | | | | | | apability | | | | | | | and | | | | | | | ueRadioC | | | | | | | apability | | | | | | | ForPaging | | | | | | | if the | | | | | | | target | | | | | | | AMF | | | | | | | supports | | | | | | | the RACS | | | | | | | feature | | | | | | | and if:\ | | | | | | | a. the | | | | | | | Pl | | | | | | | mnAssiUeR | | | | | | | adioCapId | | | | | | | is | | | | | | | included | | | | | | | in the MM | | | | | | | Context | | | | | | | for an | | | | | | | i | | | | | | | ntra-PLMN | | | | | | | AMF | | | | | | | mobility | | | | | | | p | | | | | | | rocedure; | | | | | | | or\ | | | | | | | b. the | | | | | | | M | | | | | | | anAssiUeR | | | | | | | adioCapId | | | | | | | is | | | | | | | included | | | | | | | in the MM | | | | | | | Context | | | | | | | for an | | | | | | | i | | | | | | | ntra-PLMN | | | | | | | or an | | | | | | | i | | | | | | | nter-PLMN | | | | | | | AMF | | | | | | | mobility | | | | | | | p | | | | | | | rocedure. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.25 Type: UeContext
Table 6.1.6.2.25-1: Definition of type UeContext
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | supi | Supi | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | contains | | | | | | | SUPI of | | | | | | | the UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | supi | boolean | C | 0..1 | This IE | | | UnauthInd | | | | shall be | | | | | | | present | | | | | | | if SUPI | | | | | | | is | | | | | | | present. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | whether | | | | | | | the SUPI | | | | | | | is | | | | | | | unauthe | | | | | | | nticated. | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsiList | ar | C | 1..N | This IE | | | | ray(Gpsi) | | | shall be | | | | | | | present | | | | | | | if | | | | | | | available | | | | | | | and if it | | | | | | | is not | | | | | | | case b) | | | | | | | specified | | | | | | | in | | | | | | | clause 5. | | | | | | | 2.2.2.1.1 | | | | | | | step 2a. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | GPSI(s) | | | | | | | of the | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | pei | Pei | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | available | | | | | | | and if it | | | | | | | is not | | | | | | | case b) | | | | | | | specified | | | | | | | in | | | | | | | clause 5. | | | | | | | 2.2.2.1.1 | | | | | | | step 2a. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | Mobile | | | | | | | Equipment | | | | | | | Identity | | | | | | | of the | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | u | NfGroupId | O | 0..1 | When | | | dmGroupId | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | identity | | | | | | | of the | | | | | | | UDM Group | | | | | | | serving | | | | | | | the UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | au | NfGroupId | O | 0..1 | When | | | sfGroupId | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | identity | | | | | | | of the | | | | | | | AUSF | | | | | | | Group | | | | | | | serving | | | | | | | the UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | p | NfGroupId | O | 0..1 | When | | | cfGroupId | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | identity | | | | | | | of the | | | | | | | PCF Group | | | | | | | serving | | | | | | | the UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | routing | string | O | 0..1 | When | | | Indicator | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | Routing | | | | | | | Indicator | | | | | | | of the | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | hN | integer | O | 0..1 | When | | | wPubKeyId | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the Home | | | | | | | Network | | | | | | | Public | | | | | | | Key | | | | | | | I | | | | | | | dentifier | | | | | | | of the | | | | | | | UE. (NOTE | | | | | | | 4). | | +-----------+-----------+---+-----------+-----------+-----------+ | groupList | array | C | 1..N | This IE | | | | (GroupId) | | | shall be | | | | | | | present | | | | | | | if the UE | | | | | | | belongs | | | | | | | to any | | | | | | | s | | | | | | | ubscribed | | | | | | | internal | | | | | | | group(s) | | | | | | | and if it | | | | | | | is not | | | | | | | case b) | | | | | | | specified | | | | | | | in | | | | | | | clause 5. | | | | | | | 2.2.2.1.1 | | | | | | | step 2a. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | list the | | | | | | | s | | | | | | | ubscribed | | | | | | | internal | | | | | | | group(s) | | | | | | | to which | | | | | | | the UE | | | | | | | belongs | | | | | | | to. | | +-----------+-----------+---+-----------+-----------+-----------+ | drx | Drx | C | 0..1 | This IE | | | Parameter | Parameter | | | shall be | | | | | | | present | | | | | | | if | | | | | | | available | | | | | | | and if it | | | | | | | is not | | | | | | | case b) | | | | | | | specified | | | | | | | in | | | | | | | clause 5. | | | | | | | 2.2.2.1.1 | | | | | | | step 2a. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the DRX | | | | | | | parameter | | | | | | | of the | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | subRfsp | RfspIndex | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | available | | | | | | | and if it | | | | | | | is not | | | | | | | case b) | | | | | | | specified | | | | | | | in | | | | | | | clause 5. | | | | | | | 2.2.2.1.1 | | | | | | | step 2a. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | s | | | | | | | ubscribed | | | | | | | RFSP | | | | | | | Index of | | | | | | | the UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfRfsp | RfspIndex | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | available | | | | | | | and if it | | | | | | | is not | | | | | | | case b) | | | | | | | specified | | | | | | | in | | | | | | | clause 5. | | | | | | | 2.2.2.1.1 | | | | | | | step 2a. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the PCF | | | | | | | d | | | | | | | etermined | | | | | | | RFSP | | | | | | | Index of | | | | | | | the UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | usedRfsp | RfspIndex | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | available | | | | | | | and if it | | | | | | | is not | | | | | | | case b) | | | | | | | specified | | | | | | | in | | | | | | | clause 5. | | | | | | | 2.2.2.1.1 | | | | | | | step 2a. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the used | | | | | | | RFSP | | | | | | | Index of | | | | | | | the UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | subUeAmbr | Ambr | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | s | | | | | | | ubscribed | | | | | | | UE-AMBR | | | | | | | has been | | | | | | | retrieved | | | | | | | from UDM | | | | | | | and if it | | | | | | | is not | | | | | | | case b) | | | | | | | specified | | | | | | | in | | | | | | | clause 5. | | | | | | | 2.2.2.1.1 | | | | | | | step 2a. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the value | | | | | | | of | | | | | | | s | | | | | | | ubscribed | | | | | | | UE AMBR | | | | | | | of the | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfUeAmbr | Ambr | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | available | | | | | | | and if it | | | | | | | is not | | | | | | | case b) | | | | | | | specified | | | | | | | in | | | | | | | clause 5. | | | | | | | 2.2.2.1.1 | | | | | | | step 2a. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the value | | | | | | | of the | | | | | | | PCF | | | | | | | d | | | | | | | etermined | | | | | | | UE AMBR | | | | | | | of the | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | subUeSli | map( | C | 1..N | Map of | | | ceMbrList | SliceMbr) | | | SliceMbr, | | | | | | | where the | | | | | | | S-NSSAI | | | | | | | shall be | | | | | | | used as | | | | | | | the key | | | | | | | of the | | | | | | | map. | | | | | | | | | | | | | | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | list of | | | | | | | s | | | | | | | ubscribed | | | | | | | UE-Sli | | | | | | | ce-MBR(s) | | | | | | | has been | | | | | | | retrieved | | | | | | | from UDM | | | | | | | and if it | | | | | | | is not | | | | | | | case b) | | | | | | | specified | | | | | | | in | | | | | | | clause 5. | | | | | | | 2.2.2.1.1 | | | | | | | step 2a. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the list | | | | | | | of | | | | | | | s | | | | | | | ubscribed | | | | | | | UE-Sli | | | | | | | ce-MBR(s) | | | | | | | per | | | | | | | S-NSSAI | | | | | | | for the | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | smsfId | NfI | C | 0..1 | This IE | | | | nstanceId | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | SMS | | | | | | | service | | | | | | | for UE is | | | | | | | activated | | | | | | | and if it | | | | | | | is not | | | | | | | case b) | | | | | | | specified | | | | | | | in | | | | | | | clause 5. | | | | | | | 2.2.2.1.1 | | | | | | | step 2a. | | | | | | | When | | | | | | | present, | | | | | | | it | | | | | | | indicates | | | | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | SMSF | | | | | | | network | | | | | | | function | | | | | | | instance | | | | | | | serving | | | | | | | the UE. | | | | | | | The NF | | | | | | | service | | | | | | | consumer | | | | | | | (e.g. | | | | | | | target | | | | | | | AMF) may | | | | | | | use this | | | | | | | in | | | | | | | formation | | | | | | | to | | | | | | | identify | | | | | | | the SMSF | | | | | | | NF | | | | | | | service | | | | | | | profile | | | | | | | from | | | | | | | among the | | | | | | | SMSF NF | | | | | | | service | | | | | | | profiles | | | | | | | it | | | | | | | received | | | | | | | from the | | | | | | | NRF. | | +-----------+-----------+---+-----------+-----------+-----------+ | seafData | SeafData | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | available | | | | | | | and if it | | | | | | | is not | | | | | | | case b) | | | | | | | specified | | | | | | | in | | | | | | | clause 5. | | | | | | | 2.2.2.1.1 | | | | | | | step 2a | | | | | | | or the | | | | | | | case | | | | | | | specified | | | | | | | in | | | | | | | c | | | | | | | lause 5.2 | | | | | | | .2.2.1.2. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | contains | | | | | | | the | | | | | | | security | | | | | | | data | | | | | | | derived | | | | | | | from data | | | | | | | received | | | | | | | from AUSF | | | | | | | of the | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | 5gMmC | 5GMmC | C | 0..1 | This IE | | | apability | apability | | | shall be | | | | | | | present | | | | | | | if the UE | | | | | | | had | | | | | | | provided | | | | | | | this IE | | | | | | | during | | | | | | | Reg | | | | | | | istration | | | | | | | Procedure | | | | | | | and if it | | | | | | | is not | | | | | | | case b) | | | | | | | specified | | | | | | | in | | | | | | | clause 5. | | | | | | | 2.2.2.1.1 | | | | | | | step 2a. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | 5G MM | | | | | | | c | | | | | | | apability | | | | | | | of the | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfId | NfI | C | 0..1 | This IE | | | | nstanceId | | | shall be | | | | | | | present | | | | | | | if | | | | | | | available | | | | | | | and if it | | | | | | | is not | | | | | | | case b) | | | | | | | specified | | | | | | | in | | | | | | | clause 5. | | | | | | | 2.2.2.1.1 | | | | | | | step 2a. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | indicates | | | | | | | the | | | | | | | identity | | | | | | | of the | | | | | | | PCF for | | | | | | | AM Policy | | | | | | | and/or UE | | | | | | | Policy. | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfSetId | NfSetId | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the NF | | | | | | | Set ID of | | | | | | | the PCF | | | | | | | for AM | | | | | | | Policy | | | | | | | and/or UE | | | | | | | Policy. | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfAmpSer | NfSer | C | 0..1 | This | | | viceSetId | viceSetId | | | shall be | | | | | | | present, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the NF | | | | | | | Service | | | | | | | Set ID of | | | | | | | the | | | | | | | PCF\'s AM | | | | | | | Policy | | | | | | | service. | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfUepSer | NfSer | C | 0..1 | This | | | viceSetId | viceSetId | | | shall be | | | | | | | present, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the NF | | | | | | | Service | | | | | | | Set ID of | | | | | | | the | | | | | | | PCF\'s UE | | | | | | | Policy | | | | | | | service. | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfBin | SbiBin | C | 0..1 | This IE | | | dingLevel | dingLevel | | | shall be | | | | | | | present | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the SBI | | | | | | | binding | | | | | | | level of | | | | | | | the | | | | | | | PCF\'s AM | | | | | | | policy | | | | | | | and UE | | | | | | | Policy | | | | | | | as | | | | | | | sociation | | | | | | | r | | | | | | | esources. | | | | | | | (NOTE 6) | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfAm | Uri | C | 0..1 | This IE | | | PolicyUri | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | available | | | | | | | and if it | | | | | | | is not | | | | | | | case b) | | | | | | | specified | | | | | | | in | | | | | | | clause 5. | | | | | | | 2.2.2.1.1 | | | | | | | step 2a. | | | | | | | When | | | | | | | present | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the URI | | | | | | | of the | | | | | | | i | | | | | | | ndividual | | | | | | | AM policy | | | | | | | resource | | | | | | | (see | | | | | | | 3GPP TS | | | | | | | 29.5 | | | | | | | 07 [32] | | | | | | | clause | | | | | | | 5.3.3.2) | | | | | | | used by | | | | | | | the AMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | amPo | array | C | 1..N | This IE | | | licyReqTr | (PolicyRe | | | shall be | | | iggerList | qTrigger) | | | present | | | | | | | if | | | | | | | available | | | | | | | and if it | | | | | | | is not | | | | | | | case b) | | | | | | | specified | | | | | | | in | | | | | | | clause 5. | | | | | | | 2.2.2.1.1 | | | | | | | step 2a. | | | | | | | When | | | | | | | present | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the AM | | | | | | | policy | | | | | | | request | | | | | | | triggers | | | | | | | towards | | | | | | | the PCF. | | | | | | | The NF | | | | | | | Service | | | | | | | Consumer | | | | | | | (e.g. | | | | | | | target | | | | | | | AMF) | | | | | | | shall use | | | | | | | these | | | | | | | triggers | | | | | | | to | | | | | | | request | | | | | | | AM policy | | | | | | | from the | | | | | | | PCF | | | | | | | whenever | | | | | | | these | | | | | | | triggers | | | | | | | are met. | | | | | | | | | | | | | | The | | | | | | | possible | | | | | | | AM policy | | | | | | | control | | | | | | | request | | | | | | | triggers | | | | | | | are | | | | | | | specified | | | | | | | in clause | | | | | | | 6.1.2.5 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 03 [7]. | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfUe | Uri | C | 0..1 | This IE | | | PolicyUri | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | available | | | | | | | and if it | | | | | | | is not | | | | | | | case b) | | | | | | | specified | | | | | | | in | | | | | | | clause 5. | | | | | | | 2.2.2.1.1 | | | | | | | step 2a. | | | | | | | When | | | | | | | present | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the URI | | | | | | | of the | | | | | | | i | | | | | | | ndividual | | | | | | | UE policy | | | | | | | resource | | | | | | | (see | | | | | | | 3GP | | | | | | | P TS 29.5 | | | | | | | 07 [32] | | | | | | | clause | | | | | | | 5.3.3.2) | | | | | | | used by | | | | | | | the AMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | uePo | array | C | 1..N | This IE | | | licyReqTr | (PolicyRe | | | shall be | | | iggerList | qTrigger) | | | present | | | | | | | if | | | | | | | available | | | | | | | and if it | | | | | | | is not | | | | | | | case b) | | | | | | | specified | | | | | | | in | | | | | | | clause 5. | | | | | | | 2.2.2.1.1 | | | | | | | step 2a. | | | | | | | When | | | | | | | present | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the UE | | | | | | | policy | | | | | | | request | | | | | | | triggers | | | | | | | towards | | | | | | | the PCF. | | | | | | | The NF | | | | | | | Service | | | | | | | Consumer | | | | | | | (e.g. | | | | | | | target | | | | | | | AMF) | | | | | | | shall use | | | | | | | these | | | | | | | triggers | | | | | | | to | | | | | | | request | | | | | | | UE policy | | | | | | | from the | | | | | | | PCF | | | | | | | whenever | | | | | | | these | | | | | | | triggers | | | | | | | are met. | | | | | | | | | | | | | | The | | | | | | | possible | | | | | | | UE policy | | | | | | | control | | | | | | | request | | | | | | | triggers | | | | | | | are | | | | | | | specified | | | | | | | in clause | | | | | | | 6.1.2.5 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 03 [7]. | | +-----------+-----------+---+-----------+-----------+-----------+ | hpcfId | NfI | O | 0..1 | This IE | | | | nstanceId | | | indicates | | | | | | | the | | | | | | | identity | | | | | | | of PCF | | | | | | | for UE | | | | | | | Policy in | | | | | | | home | | | | | | | PLMN, | | | | | | | when the | | | | | | | UE is | | | | | | | roaming. | | +-----------+-----------+---+-----------+-----------+-----------+ | hpcfSetId | NfSetId | O | 0..1 | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the NF | | | | | | | Set ID of | | | | | | | the PCF | | | | | | | for UE | | | | | | | Policy in | | | | | | | home | | | | | | | PLMN, | | | | | | | when the | | | | | | | UE is | | | | | | | roaming. | | +-----------+-----------+---+-----------+-----------+-----------+ | restrict | array | O | 1..N | When | | | edRatList | (RatType) | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the list | | | | | | | of RAT | | | | | | | types | | | | | | | that are | | | | | | | r | | | | | | | estricted | | | | | | | for the | | | | | | | UE; see | | | | | | | 3G | | | | | | | PP TS 29. | | | | | | | 571 [6] | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | forbidde | ar | O | 1..N | When | | | nAreaList | ray(Area) | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the list | | | | | | | of | | | | | | | forbidden | | | | | | | areas of | | | | | | | the UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | serv | Serv | O | 0..1 | When | | | iceAreaRe | iceAreaRe | | | present, | | | striction | striction | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | s | | | | | | | ubscribed | | | | | | | Service | | | | | | | Area | | | | | | | Re | | | | | | | striction | | | | | | | for the | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | restric | arra | O | 1..N | When | | | tedCnList | y(CoreNet | | | present, | | | | workType) | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the list | | | | | | | of Core | | | | | | | Network | | | | | | | Types | | | | | | | that are | | | | | | | r | | | | | | | estricted | | | | | | | for the | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | eve | arr | C | 1..N | This IE | | | ntSubscri | ay(ExtAmf | | | shall be | | | ptionList | EventSubs | | | present | | | | cription) | | | if | | | | | | | available | | | | | | | and if it | | | | | | | is not | | | | | | | case b) | | | | | | | specified | | | | | | | in | | | | | | | clause 5. | | | | | | | 2.2.2.1.1 | | | | | | | step 2a. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the event | | | | | | | subscr | | | | | | | iption(s) | | | | | | | targeting | | | | | | | the UE or | | | | | | | the group | | | | | | | the UE is | | | | | | | part of. | | | | | | | | | | | | | | If the | | | | | | | source | | | | | | | AMF | | | | | | | supports | | | | | | | binding | | | | | | | p | | | | | | | rocedures | | | | | | | and if it | | | | | | | received | | | | | | | binding | | | | | | | in | | | | | | | dications | | | | | | | for event | | | | | | | noti | | | | | | | fications | | | | | | | (i.e. | | | | | | | with | | | | | | | \"c | | | | | | | allback\" | | | | | | | scope) or | | | | | | | for | | | | | | | sub | | | | | | | scription | | | | | | | change | | | | | | | event | | | | | | | noti | | | | | | | fications | | | | | | | (i.e. | | | | | | | with | | | | | | | \"sub | | | | | | | scription | | | | | | | -events\" | | | | | | | scope) | | | | | | | for | | | | | | | certain | | | | | | | subsc | | | | | | | riptions, | | | | | | | these | | | | | | | binding | | | | | | | in | | | | | | | dications | | | | | | | should | | | | | | | also be | | | | | | | included. | | | | | | | | | | | | | | If the | | | | | | | source | | | | | | | AMF knows | | | | | | | the NF | | | | | | | type of | | | | | | | the NF | | | | | | | that | | | | | | | created | | | | | | | the | | | | | | | subs | | | | | | | cription, | | | | | | | this | | | | | | | in | | | | | | | formation | | | | | | | should | | | | | | | also be | | | | | | | i | | | | | | | ndicated. | | +-----------+-----------+---+-----------+-----------+-----------+ | mmCo | array(M | C | 1..2 | This IE | | | ntextList | mContext) | | | shall be | | | | | | | present | | | | | | | if | | | | | | | available | | | | | | | and if it | | | | | | | is not | | | | | | | case b) | | | | | | | specified | | | | | | | in | | | | | | | clause 5. | | | | | | | 2.2.2.1.1 | | | | | | | step 2a. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | contains | | | | | | | the MM | | | | | | | Contexts | | | | | | | of the | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | sessionCo | array( | C | 1..N | This IE | | | ntextList | PduSessio | | | shall be | | | | nContext) | | | present | | | | | | | if | | | | | | | available | | | | | | | and if it | | | | | | | is | | | | | | | neither | | | | | | | case a) | | | | | | | nor case | | | | | | | b) | | | | | | | specified | | | | | | | in | | | | | | | clause 5. | | | | | | | 2.2.2.1.1 | | | | | | | step 2a. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | contains | | | | | | | the PDU | | | | | | | Session | | | | | | | Contexts | | | | | | | of the | | | | | | | UE. | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | e | E | C | 0..1 | This IE | | | psInterwo | psInterwo | | | shall | | | rkingInfo | rkingInfo | | | contain | | | | | | | the | | | | | | | ass | | | | | | | ociations | | | | | | | between | | | | | | | APN/DNN | | | | | | | and | | | | | | | PGW-C+SMF | | | | | | | for EPS | | | | | | | inte | | | | | | | rworking, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | +-----------+-----------+---+-----------+-----------+-----------+ | traceData | TraceData | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | s | | | | | | | ignalling | | | | | | | based | | | | | | | trace has | | | | | | | been | | | | | | | activated | | | | | | | (see | | | | | | | 3GPP | | | | | | | TS 32.42 | | | | | | | 2 [30]) | | | | | | | and if it | | | | | | | is not | | | | | | | case b) | | | | | | | specified | | | | | | | in | | | | | | | clause 5. | | | | | | | 2.2.2.1.1 | | | | | | | step 2a. | | +-----------+-----------+---+-----------+-----------+-----------+ | se | DateTime | C | 0..1 | This IE | | | rviceGapE | | | | shall be | | | xpiryTime | | | | present | | | | | | | if | | | | | | | Service | | | | | | | Gap | | | | | | | Control | | | | | | | is | | | | | | | enabled | | | | | | | and if | | | | | | | the AMF | | | | | | | has | | | | | | | started a | | | | | | | Service | | | | | | | Gap Timer | | | | | | | which has | | | | | | | not | | | | | | | expired | | | | | | | yet (see | | | | | | | clause | | | | | | | 5.31.16 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 1 [2]). | | | | | | | | | | | | | | The value | | | | | | | of the IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | expiry | | | | | | | time (in | | | | | | | UTC) of | | | | | | | the | | | | | | | active | | | | | | | Service | | | | | | | Gap Timer | | | | | | | for the | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | stnSr | StnSr | O | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | a | | | | | | | vailable, | | | | | | | for UE | | | | | | | s | | | | | | | upporting | | | | | | | 5G-SRVCC | | | | | | | (see | | | | | | | clause | | | | | | | 5 | | | | | | | .2.2.2.11 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | contains | | | | | | | STN-SR of | | | | | | | the UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | cMsisdn | CMsisdn | O | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | a | | | | | | | vailable, | | | | | | | for UE | | | | | | | s | | | | | | | upporting | | | | | | | 5G-SRVCC | | | | | | | (see | | | | | | | clause | | | | | | | 5 | | | | | | | .2.2.2.11 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | contains | | | | | | | C-MSISDN | | | | | | | of the | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | msC | MSC | O | 0..1 | This IE | | | lassmark2 | lassmark2 | | | shall be | | | | | | | present | | | | | | | if | | | | | | | a | | | | | | | vailable, | | | | | | | for UE | | | | | | | s | | | | | | | upporting | | | | | | | 5G-SRVCC | | | | | | | (see | | | | | | | clause | | | | | | | 5 | | | | | | | .2.2.2.11 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | contains | | | | | | | Mobile | | | | | | | Station | | | | | | | Classmark | | | | | | | 2 of the | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | supported | arr | O | 1..N | This IE | | | CodecList | ay(Suppor | | | shall be | | | | tedCodec) | | | present | | | | | | | if | | | | | | | a | | | | | | | vailable, | | | | | | | for UE | | | | | | | s | | | | | | | upporting | | | | | | | 5G-SRVCC | | | | | | | (see | | | | | | | clause | | | | | | | 5 | | | | | | | .2.2.2.11 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.50 | | | | | | | 2 [3]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the list | | | | | | | of speech | | | | | | | codecs | | | | | | | supported | | | | | | | by the | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | smallD | arr | O | 1..N | List of | CIOT | | ataRateSt | ay(SmallD | | | Small | | | atusInfos | ataRateSt | | | Data Rate | | | | atusInfo) | | | Control | | | | | | | Statuses | | | | | | | for | | | | | | | released | | | | | | | PDU | | | | | | | Sessions, | | | | | | | see | | | | | | | clause | | | | | | | 5.31.14.3 | | | | | | | of | | | | | | | TS 23.5 | | | | | | | 01 [2]. | | +-----------+-----------+---+-----------+-----------+-----------+ | restri | array | O | 1..N | When | | | ctedPrima | (RatType) | | | present, | | | ryRatList | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the list | | | | | | | of RAT | | | | | | | types | | | | | | | that are | | | | | | | r | | | | | | | estricted | | | | | | | for use | | | | | | | as | | | | | | | primary | | | | | | | RAT for | | | | | | | the UE; | | | | | | | see | | | | | | | 3G | | | | | | | PP TS 29. | | | | | | | 571 [6] | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | restrict | array | O | 1..N | When | | | edSeconda | (RatType) | | | present, | | | ryRatList | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the list | | | | | | | of RAT | | | | | | | types | | | | | | | that are | | | | | | | r | | | | | | | estricted | | | | | | | for use | | | | | | | as | | | | | | | secondary | | | | | | | RAT for | | | | | | | the UE; | | | | | | | see | | | | | | | 3G | | | | | | | PP TS 29. | | | | | | | 571 [6] | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | v | V | O | 0..1 | This IE | | | 2xContext | 2xContext | | | shall be | | | | | | | present | | | | | | | if | | | | | | | available | | | | | | | (see | | | | | | | cla | | | | | | | use 6.5.4 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.287 | | | | | | | [47]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | p | | | | | | | arameters | | | | | | | related | | | | | | | to the | | | | | | | V2X | | | | | | | services. | | +-----------+-----------+---+-----------+-----------+-----------+ | l | boolean | C | 0..1 | This IE | | | teCatMInd | | | | shall be | | | | | | | present | | | | | | | with | | | | | | | value | | | | | | | \"true\" | | | | | | | if the UE | | | | | | | is a LTE | | | | | | | Category | | | | | | | M UE | | | | | | | based on | | | | | | | i | | | | | | | ndication | | | | | | | provided | | | | | | | by the | | | | | | | NG-RAN or | | | | | | | by the | | | | | | | MME at | | | | | | | EPS to | | | | | | | 5GS | | | | | | | handover, | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall be | | | | | | | set as | | | | | | | f | | | | | | | ollowing: | | | | | | | | | | | | | | - true: | | | | | | | the UE is | | | | | | | a | | | | | | | Category | | | | | | | M UE | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | this UE | | | | | | | is not a | | | | | | | Category | | | | | | | M UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | redCapInd | boolean | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | with | | | | | | | value | | | | | | | \"true\" | | | | | | | if the UE | | | | | | | is a NR | | | | | | | RedCap UE | | | | | | | based on | | | | | | | i | | | | | | | ndication | | | | | | | provided | | | | | | | by the | | | | | | | NG-RAN, | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall be | | | | | | | set as | | | | | | | f | | | | | | | ollowing: | | | | | | | | | | | | | | - true: | | | | | | | the UE is | | | | | | | a NR | | | | | | | RedCap UE | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | this UE | | | | | | | is not a | | | | | | | NR RedCap | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | moExpDa | MoExpDa | C | 0..1 | This IE | | | taCounter | taCounter | | | shall be | | | | | | | present | | | | | | | if a | | | | | | | non-zero | | | | | | | MO | | | | | | | Exception | | | | | | | counter | | | | | | | has not | | | | | | | been | | | | | | | reported | | | | | | | yet to | | | | | | | SMF. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the MO | | | | | | | Exception | | | | | | | Data | | | | | | | Counter, | | | | | | | as | | | | | | | specified | | | | | | | in clause | | | | | | | 5.31.14.3 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 01 [2]. | | +-----------+-----------+---+-----------+-----------+-----------+ | cagData | CagData | O | 0..1 | Closed | NPN | | | | | | Access | | | | | | | Group | | | | | | | Data | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | the | | | | | | | provisi | | | | | | | oningTime | | | | | | | attribute | | | | | | | (from the | | | | | | | CagData | | | | | | | data | | | | | | | type) | | | | | | | shall be | | | | | | | absent. | | +-----------+-----------+---+-----------+-----------+-----------+ | managem | boolean | C | 0..1 | This flag | | | entMdtInd | | | | shall be | | | | | | | present | | | | | | | with | | | | | | | value | | | | | | | \"true\" | | | | | | | if | | | | | | | M | | | | | | | anagement | | | | | | | Based | | | | | | | Min | | | | | | | imization | | | | | | | of Drive | | | | | | | Tests | | | | | | | (MDT) is | | | | | | | allowed, | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | 3GPP | | | | | | | TS 32.42 | | | | | | | 2 [30]. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall be | | | | | | | set as | | | | | | | f | | | | | | | ollowing: | | | | | | | | | | | | | | - true: | | | | | | | m | | | | | | | anagement | | | | | | | based MDT | | | | | | | is | | | | | | | allowed. | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | m | | | | | | | anagement | | | | | | | based MDT | | | | | | | is not | | | | | | | allowed. | | +-----------+-----------+---+-----------+-----------+-----------+ | immedia | Immedia | C | 0..1 | This IE | | | teMdtConf | teMdtConf | | | shall be | | | | | | | sent by | | | | | | | the | | | | | | | source | | | | | | | AMF to | | | | | | | the | | | | | | | target | | | | | | | AMF, if | | | | | | | the Job | | | | | | | Type | | | | | | | indicates | | | | | | | Immediate | | | | | | | MDT. See | | | | | | | clause | | | | | | | 4.10 of | | | | | | | 3GPP | | | | | | | TS 32.42 | | | | | | | 2 [30]. | | +-----------+-----------+---+-----------+-----------+-----------+ | e | E | C | 0..1 | This IE | | | cRestrict | cRestrict | | | shall be | | | ionDataWb | ionDataWb | | | present | | | | | | | if the | | | | | | | AMF | | | | | | | d | | | | | | | etermines | | | | | | | whether | | | | | | | Enhanced | | | | | | | Coverage | | | | | | | is | | | | | | | r | | | | | | | estricted | | | | | | | or not | | | | | | | for the | | | | | | | UE for | | | | | | | WB-N1 | | | | | | | mode. | | | | | | | | | | | | | | If | | | | | | | absent, | | | | | | | this IE | | | | | | | indicates | | | | | | | Enhanced | | | | | | | Coverage | | | | | | | is not | | | | | | | r | | | | | | | estricted | | | | | | | for WB-N1 | | | | | | | mode. | | | | | | | | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | e | boolean | C | 0..1 | This IE | | | cRestrict | | | | shall be | | | ionDataNb | | | | present | | | | | | | if the | | | | | | | AMF | | | | | | | d | | | | | | | etermines | | | | | | | whether | | | | | | | Enhanced | | | | | | | Coverage | | | | | | | is | | | | | | | r | | | | | | | estricted | | | | | | | or not | | | | | | | for the | | | | | | | UE for | | | | | | | NB-N1 | | | | | | | mode. | | | | | | | | | | | | | | If | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | whether | | | | | | | Enhanced | | | | | | | Coverage | | | | | | | for NB-N1 | | | | | | | mode is | | | | | | | r | | | | | | | estricted | | | | | | | or not. | | | | | | | | | | | | | | - true: | | | | | | | Enhanced | | | | | | | Coverage | | | | | | | for NB-N1 | | | | | | | mode is | | | | | | | re | | | | | | | stricted. | | | | | | | | | | | | | | - false | | | | | | | or | | | | | | | absent: | | | | | | | Enhanced | | | | | | | Coverage | | | | | | | for NB-N1 | | | | | | | mode is | | | | | | | allowed. | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | i | boolean | O | 0..1 | This IE | | | abOperati | | | | shall be | | | onAllowed | | | | present | | | | | | | if the UE | | | | | | | is | | | | | | | allowed | | | | | | | for IAB | | | | | | | o | | | | | | | peration. | | | | | | | It may be | | | | | | | present | | | | | | | o | | | | | | | therwise. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | whether | | | | | | | the UE is | | | | | | | allowed | | | | | | | for IAB | | | | | | | o | | | | | | | peration, | | | | | | | as | | | | | | | follows: | | | | | | | | | | | | | | - true: | | | | | | | indicates | | | | | | | that the | | | | | | | UE is | | | | | | | allowed | | | | | | | for IAB | | | | | | | o | | | | | | | peration. | | | | | | | | | | | | | | - false: | | | | | | | indicates | | | | | | | that the | | | | | | | UE is not | | | | | | | allowed | | | | | | | for IAB | | | | | | | o | | | | | | | peration. | | +-----------+-----------+---+-----------+-----------+-----------+ | mb | Mb | O | 0..1 | Indicates | | | srOperati | srOperati | | | whether | | | onAllowed | onAllowed | | | the | | | | | | | s | | | | | | | ubscriber | | | | | | | is | | | | | | | allowed | | | | | | | for MBSR | | | | | | | operation | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | claus | | | | | | | e 5.35A.4 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 01 [2], | | | | | | | op | | | | | | | tionally, | | | | | | | with | | | | | | | corr | | | | | | | esponding | | | | | | | location | | | | | | | and time | | | | | | | period. | | +-----------+-----------+---+-----------+-----------+-----------+ | pro | Pro | O | 0..1 | This IE | ProSe | | seContext | seContext | | | shall be | | | | | | | present | | | | | | | if | | | | | | | available | | | | | | | (see | | | | | | | c | | | | | | | lause 6.7 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.304 | | | | | | | [51]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | p | | | | | | | arameters | | | | | | | related | | | | | | | to the | | | | | | | ProSe | | | | | | | services. | | +-----------+-----------+---+-----------+-----------+-----------+ | analyti | a | C | 1..N | This IE | | | csSubscri | rray(Anal | | | shall be | | | ptionList | yticsSubs | | | present | | | | cription) | | | if the | | | | | | | AMF has | | | | | | | created | | | | | | | analytics | | | | | | | subscr | | | | | | | iption(s) | | | | | | | towards | | | | | | | NWDAF | | | | | | | related | | | | | | | to the | | | | | | | UE. | | | | | | | | | | | | | | If | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | include | | | | | | | the list | | | | | | | of | | | | | | | analytics | | | | | | | subsc | | | | | | | riptions, | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | clauses | | | | | | | 5.2.2.2.2 | | | | | | | and | | | | | | | 5 | | | | | | | .2.2.2.11 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfUepBi | string | C | 0..1 | This IE | | | ndingInfo | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | Binding | | | | | | | I | | | | | | | ndication | | | | | | | was | | | | | | | received | | | | | | | for UE | | | | | | | Policy | | | | | | | As | | | | | | | sociation | | | | | | | resource | | | | | | | from the | | | | | | | PCF. When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | Binding | | | | | | | i | | | | | | | ndication | | | | | | | of the | | | | | | | PCF\'s UE | | | | | | | Policy | | | | | | | As | | | | | | | sociation | | | | | | | resource | | | | | | | and shall | | | | | | | be set to | | | | | | | the value | | | | | | | of the | | | | | | | 3gpp-Sb | | | | | | | i-Binding | | | | | | | header | | | | | | | defined | | | | | | | in | | | | | | | clause | | | | | | | 5.2.3.2.6 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.5 | | | | | | | 00 [4], | | | | | | | without | | | | | | | the | | | | | | | header | | | | | | | name. | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfAmpBi | string | C | 0..1 | This IE | | | ndingInfo | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | Binding | | | | | | | I | | | | | | | ndication | | | | | | | was | | | | | | | received | | | | | | | for AM | | | | | | | Policy | | | | | | | As | | | | | | | sociation | | | | | | | resource | | | | | | | from the | | | | | | | PCF. When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | Binding | | | | | | | in | | | | | | | dications | | | | | | | of the | | | | | | | PCF\'s AM | | | | | | | policy | | | | | | | As | | | | | | | sociation | | | | | | | resource | | | | | | | and shall | | | | | | | be set to | | | | | | | the value | | | | | | | of the | | | | | | | 3gpp-Sb | | | | | | | i-Binding | | | | | | | header | | | | | | | defined | | | | | | | in | | | | | | | clause | | | | | | | 5.2.3.2.6 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.5 | | | | | | | 00 [4], | | | | | | | without | | | | | | | the | | | | | | | header | | | | | | | name. | | +-----------+-----------+---+-----------+-----------+-----------+ | usedServ | Serv | O | 0..1 | When | | | iceAreaRe | iceAreaRe | | | present, | | | striction | striction | | | this IE | | | | | | | shall | | | | | | | include | | | | | | | the | | | | | | | Service | | | | | | | Area | | | | | | | Re | | | | | | | striction | | | | | | | from PCF. | | +-----------+-----------+---+-----------+-----------+-----------+ | praI | map(Pres | O | 1..N | When | | | nAmPolicy | enceInfo) | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | include | | | | | | | the map | | | | | | | of PRA | | | | | | | In | | | | | | | formation | | | | | | | for the | | | | | | | s | | | | | | | ubscribed | | | | | | | \"PRA\ | | | | | | | _CHANGE\" | | | | | | | PolicyR | | | | | | | eqTrigger | | | | | | | in the AM | | | | | | | Policy | | | | | | | Ass | | | | | | | ociation. | | | | | | | | | | | | | | The key | | | | | | | of the | | | | | | | map shall | | | | | | | be the | | | | | | | \"praId\" | | | | | | | attribute | | | | | | | within | | | | | | | the | | | | | | | Pre | | | | | | | senceInfo | | | | | | | data | | | | | | | type. The | | | | | | | \"presen | | | | | | | ceState\" | | | | | | | attribute | | | | | | | within | | | | | | | the | | | | | | | Pre | | | | | | | senceInfo | | | | | | | data type | | | | | | | shall not | | | | | | | be | | | | | | | supplied | | | | | | | here. | | +-----------+-----------+---+-----------+-----------+-----------+ | praI | map(Pres | O | 1..N | When | | | nUePolicy | enceInfo) | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | include | | | | | | | the map | | | | | | | of PRA | | | | | | | In | | | | | | | formation | | | | | | | for the | | | | | | | s | | | | | | | ubscribed | | | | | | | \"PRA\ | | | | | | | _CHANGE\" | | | | | | | PolicyR | | | | | | | eqTrigger | | | | | | | in the UE | | | | | | | Policy | | | | | | | Ass | | | | | | | ociation. | | | | | | | | | | | | | | The key | | | | | | | of the | | | | | | | map shall | | | | | | | be the | | | | | | | \"praId\" | | | | | | | attribute | | | | | | | within | | | | | | | the | | | | | | | Pre | | | | | | | senceInfo | | | | | | | data | | | | | | | type. The | | | | | | | \"presen | | | | | | | ceState\" | | | | | | | attribute | | | | | | | within | | | | | | | the | | | | | | | Pre | | | | | | | senceInfo | | | | | | | data type | | | | | | | shall not | | | | | | | be | | | | | | | supplied | | | | | | | here. | | +-----------+-----------+---+-----------+-----------+-----------+ | up | Up | O | 0..1 | When | | | dpSubscri | dpSubscri | | | present, | | | ptionData | ptionData | | | this IE | | | | | | | shall | | | | | | | include | | | | | | | the | | | | | | | sub | | | | | | | scription | | | | | | | resource | | | | | | | in the | | | | | | | AMF for a | | | | | | | UE policy | | | | | | | delivery | | | | | | | related | | | | | | | N1 | | | | | | | message | | | | | | | noti | | | | | | | fication. | | +-----------+-----------+---+-----------+-----------+-----------+ | smP | arr | C | 1..N | This IE | SPAE | | olicyNoti | ay(PduSes | | | shall be | | | fyPduList | sionInfo) | | | present | | | | | | | if it has | | | | | | | been | | | | | | | received | | | | | | | from the | | | | | | | PCF for | | | | | | | the UE, | | | | | | | i.e. the | | | | | | | PCF for | | | | | | | the AM | | | | | | | Policy | | | | | | | As | | | | | | | sociation | | | | | | | and | | | | | | | possibly | | | | | | | the UE | | | | | | | Policy | | | | | | | Ass | | | | | | | ociation. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | in | | | | | | | formation | | | | | | | (Slice | | | | | | | and DNN | | | | | | | com | | | | | | | bination) | | | | | | | of the | | | | | | | PDU | | | | | | | s | | | | | | | ession(s) | | | | | | | a | | | | | | | pplicable | | | | | | | for the | | | | | | | not | | | | | | | ification | | | | | | | of SM | | | | | | | Policy | | | | | | | As | | | | | | | sociation | | | | | | | Esta | | | | | | | blishment | | | | | | | and | | | | | | | Te | | | | | | | rmination | | | | | | | events. | | | | | | | | | | | | | | (NOTE 5) | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfUeCal | PcfUeCal | C | 0..1 | This IE | SPAE | | lbackInfo | lbackInfo | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | smP | | | | | | | olicyNoti | | | | | | | fyPduList | | | | | | | IE is | | | | | | | present. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | callback | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | PCF for | | | | | | | the UE to | | | | | | | receive | | | | | | | SM Policy | | | | | | | As | | | | | | | sociation | | | | | | | Esta | | | | | | | blishment | | | | | | | and | | | | | | | Te | | | | | | | rmination | | | | | | | events | | | | | | | not | | | | | | | ification | | | | | | | from the | | | | | | | PCF for | | | | | | | the SM | | | | | | | Policy. | | | | | | | | | | | | | | (NOTE 5) | | +-----------+-----------+---+-----------+-----------+-----------+ | uePosit | UePosit | O | 0..1 | When | | | ioningCap | ioningCap | | | present, | | | | abilities | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | po | | | | | | | sitioning | | | | | | | cap | | | | | | | abilities | | | | | | | supported | | | | | | | by the | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | snpnO | boolean | C | 0..1 | This IE | eNPN | | nboardInd | | | | shall be | | | | | | | present | | | | | | | if the UE | | | | | | | is | | | | | | | r | | | | | | | egistered | | | | | | | for | | | | | | | o | | | | | | | nboarding | | | | | | | in an | | | | | | | SNPN. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | f | | | | | | | ollowing: | | | | | | | | | | | | | | - true: | | | | | | | indicates | | | | | | | that the | | | | | | | UE is | | | | | | | r | | | | | | | egistered | | | | | | | for | | | | | | | o | | | | | | | nboarding | | | | | | | in an | | | | | | | SNPN. | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | indicates | | | | | | | that the | | | | | | | UE is not | | | | | | | r | | | | | | | egistered | | | | | | | for | | | | | | | o | | | | | | | nboarding | | | | | | | in an | | | | | | | SNPN. | | +-----------+-----------+---+-----------+-----------+-----------+ | astiDist | boolean | O | 0..1 | When | | | ributionI | | | | present, | | | ndication | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | whether | | | | | | | the | | | | | | | access | | | | | | | stratum | | | | | | | time | | | | | | | dis | | | | | | | tribution | | | | | | | via Uu | | | | | | | reference | | | | | | | point | | | | | | | should be | | | | | | | activated | | | | | | | or | | | | | | | de | | | | | | | activated | | | | | | | for the | | | | | | | UE. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall be | | | | | | | set as | | | | | | | f | | | | | | | ollowing: | | | | | | | | | | | | | | - true: | | | | | | | ASTI | | | | | | | dis | | | | | | | tribution | | | | | | | is | | | | | | | activated | | | | | | | for the | | | | | | | UE. | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | ASTI | | | | | | | dis | | | | | | | tribution | | | | | | | is | | | | | | | de | | | | | | | activated | | | | | | | for the | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | tsEr | integer | O | 0..1 | When | | | rorBudget | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the Uu | | | | | | | time | | | | | | | synchr | | | | | | | onization | | | | | | | error | | | | | | | budget | | | | | | | for the | | | | | | | time | | | | | | | synchr | | | | | | | onization | | | | | | | service | | | | | | | (as | | | | | | | described | | | | | | | in | | | | | | | clau | | | | | | | se 5.27.1 | | | | | | | in TS | | | | | | | 23.501 | | | | | | | [2]). | | | | | | | It | | | | | | | indicates | | | | | | | the value | | | | | | | in nano | | | | | | | seconds. | | +-----------+-----------+---+-----------+-----------+-----------+ | s | SmfSele | C | 0..1 | This IE | | | mfSelInfo | ctionData | | | shall be | | | | | | | present | | | | | | | if | | | | | | | c | | | | | | | onditions | | | | | | | for SMF | | | | | | | Selection | | | | | | | in | | | | | | | formation | | | | | | | re | | | | | | | placement | | | | | | | are | | | | | | | received | | | | | | | from the | | | | | | | PCF for | | | | | | | AM | | | | | | | Policy. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | It shall | | | | | | | include | | | | | | | the | | | | | | | c | | | | | | | onditions | | | | | | | for SMF | | | | | | | selection | | | | | | | in | | | | | | | formation | | | | | | | rep | | | | | | | lacement, | | | | | | | as | | | | | | | d | | | | | | | etermined | | | | | | | by the | | | | | | | PCF. | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfUeSli | map( | C | 1..N | This IE | | | ceMbrList | SliceMbr) | | | shall be | | | | | | | present | | | | | | | when UE | | | | | | | Slice | | | | | | | MBR(s) | | | | | | | were | | | | | | | received | | | | | | | from the | | | | | | | PCF for | | | | | | | AM | | | | | | | Policy. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | include | | | | | | | one or | | | | | | | more | | | | | | | UE-Sli | | | | | | | ce-MBR(s) | | | | | | | as | | | | | | | d | | | | | | | etermined | | | | | | | by the | | | | | | | PCF for | | | | | | | allowed | | | | | | | S- | | | | | | | NSSAI(s). | | | | | | | The key | | | | | | | of the | | | | | | | map is | | | | | | | the | | | | | | | S-NSSAI | | | | | | | in the | | | | | | | allowed | | | | | | | NSSAI to | | | | | | | which the | | | | | | | UE- | | | | | | | Slice-MBR | | | | | | | belongs. | | +-----------+-----------+---+-----------+-----------+-----------+ | smsfSetId | NfSetId | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the NF | | | | | | | Set ID of | | | | | | | the SMSF | | | | | | | serving | | | | | | | the UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | smsfSer | NfSer | C | 0..1 | This | | | viceSetId | viceSetId | | | shall be | | | | | | | present, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the NF | | | | | | | Service | | | | | | | Set ID of | | | | | | | the | | | | | | | SMSF\'s | | | | | | | service | | | | | | | instance | | | | | | | serving | | | | | | | the UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | smsfBi | string | C | 0..1 | This IE | | | ndingInfo | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | binding | | | | | | | i | | | | | | | ndication | | | | | | | of the UE | | | | | | | Context | | | | | | | for SMS | | | | | | | in SMSF | | | | | | | and shall | | | | | | | be set to | | | | | | | the value | | | | | | | of the | | | | | | | 3gpp-Sb | | | | | | | i-Binding | | | | | | | header | | | | | | | defined | | | | | | | in | | | | | | | clause | | | | | | | 5.2.3.2.6 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.5 | | | | | | | 00 [4], | | | | | | | without | | | | | | | the | | | | | | | header | | | | | | | name. | | +-----------+-----------+---+-----------+-----------+-----------+ | disasterR | boolean | C | 0..1 | This IE | | | oamingInd | | | | shall be | | | | | | | present | | | | | | | if the UE | | | | | | | is | | | | | | | r | | | | | | | egistered | | | | | | | for | | | | | | | disaster | | | | | | | roaming. | | | | | | | It may be | | | | | | | present | | | | | | | o | | | | | | | therwise. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall be | | | | | | | set as | | | | | | | follows: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > UE is | | | | | | | > r | | | | | | | egistered | | | | | | | > for | | | | | | | > | | | | | | | Disaster | | | | | | | > Roaming | | | | | | | > | | | | | | | service; | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | UE is not | | | | | | | r | | | | | | | egistered | | | | | | | for | | | | | | | Disaster | | | | | | | Roaming | | | | | | | service. | | +-----------+-----------+---+-----------+-----------+-----------+ | dis | PlmnId | C | 0..1 | This IE | | | asterPlmn | | | | shall be | | | | | | | included | | | | | | | if the | | | | | | | disasterR | | | | | | | oamingInd | | | | | | | is | | | | | | | present | | | | | | | and set | | | | | | | to | | | | | | | \"true\". | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | includes | | | | | | | the PLMN | | | | | | | of the UE | | | | | | | which has | | | | | | | faced | | | | | | | disaster | | | | | | | condition | | +-----------+-----------+---+-----------+-----------+-----------+ | sa | Satelli | O | 0..1 | When | | | telliteBa | teBackhau | | | present, | | | ckhaulCat | lCategory | | | this IE | | | | | | | shall be | | | | | | | set to | | | | | | | the last | | | | | | | value | | | | | | | that has | | | | | | | been | | | | | | | reported | | | | | | | to the | | | | | | | PCF if | | | | | | | the | | | | | | | satellite | | | | | | | backhaul | | | | | | | category | | | | | | | change is | | | | | | | s | | | | | | | ubscribed | | | | | | | with the | | | | | | | \"SAT_ | | | | | | | BACKHAUL\ | | | | | | | _CHANGE\" | | | | | | | PolicyR | | | | | | | eqTrigger | | | | | | | in the UE | | | | | | | Policy | | | | | | | Ass | | | | | | | ociation. | | +-----------+-----------+---+-----------+-----------+-----------+ | wlSe | Wir | C | 0..1 | This IE | | | rvAreaRes | elineServ | | | shall be | | | | iceAreaRe | | | present | | | | striction | | | if | | | | | | | available | | | | | | | and if it | | | | | | | is not | | | | | | | case b) | | | | | | | specified | | | | | | | in | | | | | | | clause 5. | | | | | | | 2.2.2.1.1 | | | | | | | step 2a. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the value | | | | | | | of the | | | | | | | PCF | | | | | | | d | | | | | | | etermined | | | | | | | Wireline | | | | | | | Service | | | | | | | Area | | | | | | | Res | | | | | | | triction. | | +-----------+-----------+---+-----------+-----------+-----------+ | asTim | AsTim | C | 0..1 | This IE | | | eDisParam | eDistribu | | | shall be | | | | tionParam | | | present | | | | | | | if | | | | | | | available | | | | | | | and if it | | | | | | | is not | | | | | | | case b) | | | | | | | specified | | | | | | | in | | | | | | | clause 5. | | | | | | | 2.2.2.1.1 | | | | | | | step 2a. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the 5G | | | | | | | acess | | | | | | | stratum | | | | | | | time | | | | | | | dis | | | | | | | tribution | | | | | | | p | | | | | | | arameters | | | | | | | received | | | | | | | from the | | | | | | | PCF for | | | | | | | AM | | | | | | | Policy. | | +-----------+-----------+---+-----------+-----------+-----------+ | amP | AmP | C | 0..1 | This IE | | | olicyInfo | olicyInfo | | | shall be | | | Container | Container | | | present | | | | | | | if any of | | | | | | | the | | | | | | | in | | | | | | | formation | | | | | | | in the | | | | | | | container | | | | | | | is | | | | | | | available | | | | | | | and if it | | | | | | | is not | | | | | | | case b) | | | | | | | specified | | | | | | | in | | | | | | | clause 5. | | | | | | | 2.2.2.1.1 | | | | | | | step 2a. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the AM | | | | | | | Policy | | | | | | | in | | | | | | | formation | | | | | | | parts | | | | | | | received | | | | | | | from the | | | | | | | PCF for | | | | | | | AM | | | | | | | Policy. | | +-----------+-----------+---+-----------+-----------+-----------+ | a | A | O | 0..1 | This IE | A2X | | 2xContext | 2xContext | | | shall be | | | | | | | present | | | | | | | if | | | | | | | available | | | | | | | (see | | | | | | | claus | | | | | | | e 6.3.5.4 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.256 | | | | | | | [56]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | p | | | | | | | arameters | | | | | | | related | | | | | | | to the | | | | | | | A2X | | | | | | | services. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | If the | | | | | | | restri | | | | | | | ctedPrima | | | | | | | ryRatList | | | | | | | and | | | | | | | restrict | | | | | | | edSeconda | | | | | | | ryRatList | | | | | | | a | | | | | | | ttributes | | | | | | | are | | | | | | | supported | | | | | | | by the | | | | | | | sender, | | | | | | | the | | | | | | | sender | | | | | | | shall | | | | | | | include | | | | | | | the list | | | | | | | of RAT | | | | | | | Types | | | | | | | that are | | | | | | | re | | | | | | | stricted, | | | | | | | if any, | | | | | | | in the | | | | | | | restrict | | | | | | | edRatList | | | | | | | a | | | | | | | ttribute, | | | | | | | shall | | | | | | | include | | | | | | | the list | | | | | | | of RAT | | | | | | | Types | | | | | | | that are | | | | | | | r | | | | | | | estricted | | | | | | | for use | | | | | | | as | | | | | | | primary | | | | | | | RAT, if | | | | | | | any, in | | | | | | | the | | | | | | | restri | | | | | | | ctedPrima | | | | | | | ryRatList | | | | | | | attribute | | | | | | | and shall | | | | | | | include | | | | | | | the list | | | | | | | of RAT | | | | | | | Types | | | | | | | that are | | | | | | | r | | | | | | | estricted | | | | | | | for use | | | | | | | as | | | | | | | secondary | | | | | | | RAT, if | | | | | | | any, in | | | | | | | the | | | | | | | restricte | | | | | | | dSseconda | | | | | | | ryRatList | | | | | | | a | | | | | | | ttribute. | | | | | | | If the | | | | | | | restri | | | | | | | ctedPrima | | | | | | | ryRatList | | | | | | | and | | | | | | | restrict | | | | | | | edSeconda | | | | | | | ryRatList | | | | | | | a | | | | | | | ttributes | | | | | | | are | | | | | | | supported | | | | | | | by the | | | | | | | receiver, | | | | | | | the | | | | | | | receiver | | | | | | | shall use | | | | | | | the data | | | | | | | in the | | | | | | | restri | | | | | | | ctedPrima | | | | | | | ryRatList | | | | | | | a | | | | | | | ttribute, | | | | | | | if | | | | | | | received, | | | | | | | as the | | | | | | | list of | | | | | | | RAT Types | | | | | | | that are | | | | | | | r | | | | | | | estricted | | | | | | | for use | | | | | | | as | | | | | | | primary | | | | | | | RAT for | | | | | | | the UE, | | | | | | | and shall | | | | | | | use the | | | | | | | data in | | | | | | | the | | | | | | | restrict | | | | | | | edSeconda | | | | | | | ryRatList | | | | | | | a | | | | | | | ttribute, | | | | | | | if | | | | | | | received, | | | | | | | as the | | | | | | | list of | | | | | | | RAT Types | | | | | | | that are | | | | | | | r | | | | | | | estricted | | | | | | | for use | | | | | | | as | | | | | | | secondary | | | | | | | RAT for | | | | | | | the UE, | | | | | | | otherwise | | | | | | | the | | | | | | | receiver | | | | | | | shall use | | | | | | | the data | | | | | | | in the | | | | | | | restrict | | | | | | | edRatList | | | | | | | a | | | | | | | ttribute, | | | | | | | if | | | | | | | received, | | | | | | | as the | | | | | | | list of | | | | | | | RAT Types | | | | | | | that are | | | | | | | r | | | | | | | estricted | | | | | | | for the | | | | | | | UE. | | | | | | | | | | | | | | NOTE 2: A | | | | | | | p | | | | | | | articular | | | | | | | PDU | | | | | | | session | | | | | | | not | | | | | | | supported | | | | | | | by the | | | | | | | target | | | | | | | AMF shall | | | | | | | not be | | | | | | | tra | | | | | | | nsferred, | | | | | | | e.g. | | | | | | | MA-PDU | | | | | | | session | | | | | | | context | | | | | | | shall not | | | | | | | be | | | | | | | tr | | | | | | | ansferred | | | | | | | if target | | | | | | | AMF does | | | | | | | not | | | | | | | support | | | | | | | ATSSS. | | | | | | | | | | | | | | NOTE 3: | | | | | | | After | | | | | | | e | | | | | | | cRestrict | | | | | | | ionDataWb | | | | | | | and/or | | | | | | | e | | | | | | | cRestrict | | | | | | | ionDataNb | | | | | | | a | | | | | | | ttributes | | | | | | | are sent | | | | | | | from | | | | | | | source | | | | | | | AMF to | | | | | | | target | | | | | | | AMF to | | | | | | | build the | | | | | | | UeContext | | | | | | | in the | | | | | | | target | | | | | | | AMF, the | | | | | | | target | | | | | | | AMF shall | | | | | | | re- | | | | | | | determine | | | | | | | the EC | | | | | | | re | | | | | | | striction | | | | | | | in | | | | | | | formation | | | | | | | based on | | | | | | | the | | | | | | | received | | | | | | | sub | | | | | | | scription | | | | | | | data from | | | | | | | UDM and | | | | | | | UE 5GMM | | | | | | | c | | | | | | | apability | | | | | | | because | | | | | | | EC | | | | | | | re | | | | | | | striction | | | | | | | in | | | | | | | formation | | | | | | | may | | | | | | | change | | | | | | | (e.g. due | | | | | | | to that | | | | | | | sub | | | | | | | scription | | | | | | | data in | | | | | | | UDM is | | | | | | | changed | | | | | | | but not | | | | | | | notified | | | | | | | the old | | | | | | | AMF yet) | | | | | | | and then | | | | | | | compare | | | | | | | the | | | | | | | re-d | | | | | | | etermined | | | | | | | EC | | | | | | | re | | | | | | | striction | | | | | | | in | | | | | | | formation | | | | | | | with the | | | | | | | one | | | | | | | received | | | | | | | in the | | | | | | | U | | | | | | | eContext. | | | | | | | If the | | | | | | | target | | | | | | | AMF finds | | | | | | | EC | | | | | | | re | | | | | | | striction | | | | | | | in | | | | | | | formation | | | | | | | has | | | | | | | changed | | | | | | | after | | | | | | | c | | | | | | | omparing, | | | | | | | the | | | | | | | target | | | | | | | AMF shall | | | | | | | proceed | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | clause | | | | | | | 5.31.12, | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 01 [2]. | | | | | | | | | | | | | | NOTE 4: | | | | | | | If | | | | | | | present, | | | | | | | this | | | | | | | attribute | | | | | | | shall be | | | | | | | used | | | | | | | together | | | | | | | with | | | | | | | routingI | | | | | | | ndicator. | | | | | | | This | | | | | | | attribute | | | | | | | is only | | | | | | | used by | | | | | | | the HPLMN | | | | | | | in | | | | | | | roaming | | | | | | | s | | | | | | | cenarios. | | | | | | | | | | | | | | NOTE 5: | | | | | | | If the | | | | | | | in | | | | | | | formation | | | | | | | as | | | | | | | indicated | | | | | | | in both | | | | | | | IEs were | | | | | | | received | | | | | | | from the | | | | | | | PCF for | | | | | | | the UE or | | | | | | | from the | | | | | | | old AMF | | | | | | | in UE | | | | | | | Context, | | | | | | | the AMF | | | | | | | shall | | | | | | | identify | | | | | | | whether a | | | | | | | no | | | | | | | n-roaming | | | | | | | or local | | | | | | | breakout | | | | | | | PDU | | | | | | | session | | | | | | | is | | | | | | | a | | | | | | | pplicable | | | | | | | for SM | | | | | | | Policy | | | | | | | As | | | | | | | sociation | | | | | | | events, | | | | | | | i.e, | | | | | | | whethe | | | | | | | the slice | | | | | | | and DNN | | | | | | | co | | | | | | | mbination | | | | | | | of the | | | | | | | PDU | | | | | | | session | | | | | | | is listed | | | | | | | in the | | | | | | | smP | | | | | | | olicyNoti | | | | | | | fyPduList | | | | | | | IE or | | | | | | | not. If | | | | | | | the PDU | | | | | | | session | | | | | | | is | | | | | | | a | | | | | | | pplicable | | | | | | | for | | | | | | | not | | | | | | | ification | | | | | | | of SM | | | | | | | Policy | | | | | | | As | | | | | | | sociation | | | | | | | events , | | | | | | | the AMF | | | | | | | shall | | | | | | | provide | | | | | | | the | | | | | | | callback | | | | | | | in | | | | | | | formation | | | | | | | for the | | | | | | | PCF of | | | | | | | the UE | | | | | | | contained | | | | | | | in the | | | | | | | pcfUeCal | | | | | | | lbackInfo | | | | | | | IE to the | | | | | | | SMF of a | | | | | | | new PDU | | | | | | | session | | | | | | | via | | | | | | | Create SM | | | | | | | Context | | | | | | | service | | | | | | | o | | | | | | | peration, | | | | | | | or to the | | | | | | | SMF for | | | | | | | an | | | | | | | ongoing | | | | | | | PDU | | | | | | | session | | | | | | | via | | | | | | | Update SM | | | | | | | Context | | | | | | | service | | | | | | | o | | | | | | | peration, | | | | | | | together | | | | | | | with the | | | | | | | i | | | | | | | ndication | | | | | | | for | | | | | | | not | | | | | | | ification | | | | | | | of SM | | | | | | | Policy | | | | | | | As | | | | | | | sociation | | | | | | | events. | | | | | | | See | | | | | | | clause | | | | | | | 4.3.2.2.1 | | | | | | | and | | | | | | | claus | | | | | | | e 4.3.3.2 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | | | | | | | | | | | | | NOTE 6: | | | | | | | This IE | | | | | | | is | | | | | | | de | | | | | | | precated. | | | | | | | An AMF | | | | | | | complying | | | | | | | with this | | | | | | | version | | | | | | | of | | | | | | | spec | | | | | | | ification | | | | | | | shall use | | | | | | | the | | | | | | | pcfAmpBi | | | | | | | ndingInfo | | | | | | | IE to | | | | | | | carry the | | | | | | | Binding | | | | | | | i | | | | | | | ndication | | | | | | | of the AM | | | | | | | Policy | | | | | | | As | | | | | | | sociation | | | | | | | resource | | | | | | | and use | | | | | | | the | | | | | | | pcfUepBi | | | | | | | ndingInfo | | | | | | | IE to | | | | | | | carry the | | | | | | | binding | | | | | | | i | | | | | | | ndication | | | | | | | of the UE | | | | | | | Policy | | | | | | | As | | | | | | | sociation | | | | | | | resource. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.26 Type: N2SmInformation
Table 6.1.6.2.26-1: Definition of type N2SmInformation
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | pdu | Pdu | M | 1 | Indicates | | | SessionId | SessionId | | | the PDU | | | | | | | Session | | | | | | | Identity | | +-----------+-----------+---+-----------+-----------+-----------+ | n2In | N2In | C | 0..1 | This IE | | | foContent | foContent | | | shall be | | | | | | | present | | | | | | | if a SMF | | | | | | | related | | | | | | | IE should | | | | | | | be | | | | | | | tra | | | | | | | nsferred. | | | | | | | When | | | | | | | present, | | | | | | | the IE | | | | | | | contains | | | | | | | one of | | | | | | | NGAP SMF | | | | | | | related | | | | | | | IEs | | | | | | | specified | | | | | | | in clause | | | | | | | 9.3.4 of | | | | | | | 3GPP | | | | | | | TS 38.41 | | | | | | | 3 [12]. | | +-----------+-----------+---+-----------+-----------+-----------+ | sNssai | Snssai | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | network | | | | | | | slice | | | | | | | in | | | | | | | formation | | | | | | | to be | | | | | | | tr | | | | | | | ansferred | | | | | | | for | | | | | | | session | | | | | | | ma | | | | | | | nagement. | | | | | | | When | | | | | | | present, | | | | | | | the IE | | | | | | | indicates | | | | | | | the | | | | | | | network | | | | | | | slice the | | | | | | | PDU | | | | | | | session | | | | | | | belongs | | | | | | | to. | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | homeP | Snssai | C | 0..1 | This IE | ENS | | lmnSnssai | | | | shall be | | | | | | | present | | | | | | | during | | | | | | | EPS to | | | | | | | 5GS | | | | | | | handover | | | | | | | procedure | | | | | | | for Home | | | | | | | Routed | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | carry the | | | | | | | S-NSSAI | | | | | | | for home | | | | | | | PLMN. | | +-----------+-----------+---+-----------+-----------+-----------+ | iwkSnssai | Snssai | C | 0..1 | This IE | ENS | | | | | | shall be | | | | | | | present | | | | | | | during | | | | | | | EPS to | | | | | | | 5GS | | | | | | | handover | | | | | | | procedure | | | | | | | with AMF | | | | | | | r | | | | | | | elocation | | | | | | | for Home | | | | | | | Routed | | | | | | | PDU | | | | | | | session, | | | | | | | or during | | | | | | | EPS to | | | | | | | 5GS | | | | | | | handover | | | | | | | using N26 | | | | | | | interface | | | | | | | with AMF | | | | | | | r | | | | | | | elocation | | | | | | | and with | | | | | | | I-SMF | | | | | | | i | | | | | | | nsertion, | | | | | | | if | | | | | | | S-NSSAI | | | | | | | for | | | | | | | int | | | | | | | erworking | | | | | | | is | | | | | | | c | | | | | | | onfigured | | | | | | | and used | | | | | | | in the | | | | | | | initial | | | | | | | AMF, as | | | | | | | specified | | | | | | | in | | | | | | | clause 4 | | | | | | | .11.1.2.2 | | | | | | | and | | | | | | | clause 4. | | | | | | | 23.12.7.1 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | carry the | | | | | | | S-NSSAI | | | | | | | for | | | | | | | int | | | | | | | erworking | | | | | | | c | | | | | | | onfigured | | | | | | | and used | | | | | | | in the | | | | | | | initial | | | | | | | AMF for | | | | | | | the PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | su | boolean | C | 0..1 | This IE | | | bjectToHo | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | n2In | | | | | | | foContent | | | | | | | carries a | | | | | | | \" | | | | | | | Handover | | | | | | | Required | | | | | | | T | | | | | | | ransfer\" | | | | | | | IE. When | | | | | | | present, | | | | | | | it | | | | | | | Indicates | | | | | | | whether | | | | | | | the PDU | | | | | | | session | | | | | | | shall be | | | | | | | subject | | | | | | | to | | | | | | | handover | | | | | | | to the | | | | | | | target | | | | | | | node. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: | | | | | | | During | | | | | | | EPS to | | | | | | | 5GS | | | | | | | handover | | | | | | | procedure | | | | | | | for Home | | | | | | | Routed | | | | | | | PDU | | | | | | | session | | | | | | | with AMF | | | | | | | re | | | | | | | location, | | | | | | | the | | | | | | | source | | | | | | | AMF shall | | | | | | | set this | | | | | | | IE to the | | | | | | | S-NSSAI | | | | | | | in the | | | | | | | serving | | | | | | | PLMN | | | | | | | mapped | | | | | | | from the | | | | | | | S-NSSAI | | | | | | | in home | | | | | | | PLMN | | | | | | | indicated | | | | | | | by the | | | | | | | homeP | | | | | | | lmnSnssai | | | | | | | IE in the | | | | | | | N2SmIn | | | | | | | formation | | | | | | | data | | | | | | | structure | | | | | | | sent to | | | | | | | target | | | | | | | AMF. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.27 Type: N2InfoContent
Table 6.1.6.2.27-1: Definition of type N2InfoContent
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | ng | Uinteger | C | 0..1 | This IE shall | | apMessageType | | | | be present if | | | | | | PWS related | | | | | | N2 | | | | | | information | | | | | | is to be | | | | | | transferred, | | | | | | or during the | | | | | | AMF planned | | | | | | removal | | | | | | procedure | | | | | | with UDSF | | | | | | deployed | | | | | | procedure to | | | | | | transfer a | | | | | | RAN N2 | | | | | | message. | | | | | | | | | | | | When present, | | | | | | it shall | | | | | | indicate the | | | | | | NGAP Message | | | | | | type of the | | | | | | ngapData as | | | | | | specified in | | | | | | clause | | | | | | 6.1.6.4.3.3. | | | | | | Its value | | | | | | equals the | | | | | | value of the | | | | | | Procedure | | | | | | Code defined | | | | | | in ASN.1 in | | | | | | clause 9.4.7 | | | | | | in | | | | | | 3GPP TS 3 | | | | | | 8.413 [12]. | +---------------+---------------+---+-------------+---------------+ | ngapIeType | NgapIeType | C | 0..1 | This IE shall | | | | | | be present if | | | | | | SM, RAN, V2X, | | | | | | ProSe, RSPP, | | | | | | TSS or NRPPa | | | | | | related N2 | | | | | | information | | | | | | is to be | | | | | | transferred. | | | | | | | | | | | | When present, | | | | | | it shall | | | | | | indicate the | | | | | | NGAP IE type | | | | | | of the | | | | | | ngapData as | | | | | | specified in | | | | | | clause | | | | | | 6.1.6.4.3.2. | +---------------+---------------+---+-------------+---------------+ | ngapData | Re | M | 1 | This IE | | | fToBinaryData | | | reference the | | | | | | N2 | | | | | | Information | | | | | | binary data | | | | | | corresponding | | | | | | to the N2 | | | | | | information | | | | | | class. See | | | | | | clause | | | | | | 6.1.6.4.3. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.28 Type: NrppaInformation
Table 6.1.6.2.28-1: Definition of type NrppaInformation
Attribute name Data type P Cardinality Description
* * *
nfId NfInstanceId M 1 This IE shall carry the identifier of the Network
Function (e.g. LMF) instance that is sending or receiving the NRPPa data.
nrppaPdu N2InfoContent M 1 This IE represents the encoded NGAP NRPPa-PDU IE,
which is transparent to AMF. serviceInstanceId string O 0..1 When present,
this IE shall carry the Service Instance Identifier of the Service Instance
(e.g. LMF) that is sending or receiving the NRPPa data.
##### 6.1.6.2.29 Type: PwsInformation
Table 6.1.6.2.29-1: Definition of type PwsInformation
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | **messag | Uint16 | M | 1 | Identifies | | eIdentifier** | | | | the warning | | | | | | message. | | | | | | Sender shall | | | | | | set this | | | | | | field to 0, | | | | | | if the | | | | | | pwsContainer | | | | | | IE carries | | | | | | PWS Failure | | | | | | Indication or | | | | | | PWS Restart | | | | | | Indication. | | | | | | The receiver | | | | | | shall ignore | | | | | | this IE if | | | | | | the | | | | | | pwsContainer | | | | | | IE carries | | | | | | PWS Failure | | | | | | Indication or | | | | | | PWS Restart | | | | | | Indication. | +---------------+---------------+---+-------------+---------------+ | **s | Uint16 | M | 1 | identifies a | | erialNumber** | | | | particular | | | | | | message from | | | | | | the source | | | | | | and type | | | | | | indicated by | | | | | | the Message | | | | | | Identifier. | | | | | | Sender shall | | | | | | set this | | | | | | field to 0, | | | | | | if the | | | | | | pwsContainer | | | | | | IE carries | | | | | | PWS Failure | | | | | | Indication or | | | | | | PWS Restart | | | | | | Indication. | | | | | | The receiver | | | | | | shall ignore | | | | | | this IE if | | | | | | the | | | | | | pwsContainer | | | | | | IE carries | | | | | | PWS Failure | | | | | | Indication or | | | | | | PWS Restart | | | | | | Indication. | +---------------+---------------+---+-------------+---------------+ | **p | N2InfoContent | M | 1 | This IE | | wsContainer** | | | | represents | | | | | | the PWS N2 | | | | | | information | | | | | | data part to | | | | | | be relayed | | | | | | between CBCF | | | | | | and AN. | +---------------+---------------+---+-------------+---------------+ | bc | array(Glo | C | 1..N | This IE shall | | EmptyAreaList | balRanNodeId) | | | be present if | | | | | | the NF | | | | | | consumer has | | | | | | previously | | | | | | requested the | | | | | | AMF to send | | | | | | the N2 | | | | | | response | | | | | | information | | | | | | for: | | | | | | | | | | | | - | | | | | | WRI | | | | | | TE-REPLACE-WA | | | | | | RNING-REQUEST | | | | | | and the AMF | | | | | | has received | | | | | | WRIT | | | | | | E-REPLACE-WAR | | | | | | NING-RESPONSE | | | | | | from RAN | | | | | | node(s) not | | | | | | including the | | | | | | _Broadcast | | | | | | Completed | | | | | | Area List_ | | | | | | IE, or | | | | | | | | | | | | - | | | | | | PWS-C | | | | | | ANCEL-REQUEST | | | | | | and the AMF | | | | | | has received | | | | | | PWS-CA | | | | | | NCEL-RESPONSE | | | | | | from RAN | | | | | | node(s) not | | | | | | including the | | | | | | _Broadcast | | | | | | Cancelled | | | | | | Area List_ | | | | | | IE. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | list the RAN | | | | | | node(s) that | | | | | | has sent a | | | | | | | | | | | | - | | | | | | WRIT | | | | | | E-REPLACE-WAR | | | | | | NING-RESPONSE | | | | | | not including | | | | | | the | | | | | | _Broadcast | | | | | | Completed | | | | | | Area List_ | | | | | | IE, or | | | | | | | | | | | | - | | | | | | PWS-CA | | | | | | NCEL-RESPONSE | | | | | | not including | | | | | | the | | | | | | _Broadcast | | | | | | Cancelled | | | | | | Area List_ | | | | | | IE. | +---------------+---------------+---+-------------+---------------+ | **send | boolean | O | 0..1 | This IE shall | | RanResponse** | | | | be present to | | | | | | request the | | | | | | AMF to send | | | | | | the N2 | | | | | | response | | | | | | information | | | | | | it has | | | | | | received from | | | | | | the RAN nodes | | | | | | to the NF | | | | | | Service | | | | | | Consumer. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | be set as | | | | | | follows: | | | | | | | | | | | | > \- true: | | | | | | > send RAN | | | | | | > response | | | | | | > | | | | | | > \- false | | | | | | > (default): | | | | | | > do not send | | | | | | > RAN | | | | | | > response. | | | | | | | | | | | | The N2 | | | | | | information | | | | | | received from | | | | | | the RAN | | | | | | corresponds | | | | | | to | | | | | | | | | | | | the | | | | | | _Broa | | | | | | dcast-Complet | | | | | | ed-Area-List_ | | | | | | IE or the | | | | | | _Broa | | | | | | dcast-Cancell | | | | | | ed-Area-List_ | | | | | | IE defined in | | | | | | 3GPP TS 3 | | | | | | 8.413 [12]. | | | | | | See clause | | | | | | 6.1.6.4.3.3. | +---------------+---------------+---+-------------+---------------+ | omcId | OmcIdentifier | O | 0..1 | IE shall be | | | | | | present if | | | | | | the AMF is | | | | | | required to | | | | | | write the | | | | | | n2Information | | | | | | it has | | | | | | received from | | | | | | the RAN nodes | | | | | | into trace | | | | | | records on | | | | | | the OMC. When | | | | | | present, it | | | | | | indicates the | | | | | | identifier of | | | | | | OMC. | +---------------+---------------+---+-------------+---------------+ | nfId | NfInstanceId | O | 0..1 | When present, | | | | | | this IE shall | | | | | | carry the | | | | | | instance | | | | | | identity of | | | | | | the NF | | | | | | Service | | | | | | Consumer | | | | | | (e.g. CBCF or | | | | | | PWS-IWF). | | | | | | | | | | | | This IE | | | | | | should be | | | | | | included when | | | | | | more than one | | | | | | CBCF/PWS-IWF | | | | | | instances are | | | | | | deployed in | | | | | | the network | | | | | | and the | | | | | | **se | | | | | | ndRanResponse | | | | | | IE is present | | | | | | with the | | | | | | value | | | | | | \"true\"**. | | | | | | The AMF may | | | | | | use this IE | | | | | | to identify | | | | | | whether the | | | | | | same | | | | | | CBCF/PWS-IWF | | | | | | instance has | | | | | | subscribed | | | | | | for N2 PWS | | | | | | information | | | | | | to receive | | | | | | the PWS | | | | | | Response data | | | | | | from the RAN. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.30 Type: N1N2MsgTxfrFailureNotification
Table 6.1.6.2.30-1: Definition of type N1N2MsgTxfrFailureNotification
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | cause | N1N2Message | M | 1 | This IE shall | | | TransferCause | | | provide the | | | | | | result of the | | | | | | N1/N2 message | | | | | | transfer at | | | | | | the AMF. | +---------------+---------------+---+-------------+---------------+ | n | Uri | M | 1 | This IE shall | | 1n2MsgDataUri | | | | contain the | | | | | | N1N2Me | | | | | | ssageTransfer | | | | | | request | | | | | | resource URI | | | | | | returned in | | | | | | the Location | | | | | | header when | | | | | | the N1/N2 | | | | | | message | | | | | | transfer was | | | | | | initiated | | | | | | (see clause | | | | | | 6.1.3.5.3.1). | | | | | | | | | | | | This IE shall | | | | | | be used by | | | | | | the NF | | | | | | Service | | | | | | Consumer to | | | | | | correlate the | | | | | | notification | | | | | | with the UE | | | | | | or session | | | | | | for which the | | | | | | earlier N1/N2 | | | | | | message | | | | | | transfer was | | | | | | initiated. | | | | | | | | | | | | If no | | | | | | Location | | | | | | header was | | | | | | returned when | | | | | | the N1/N2 | | | | | | message | | | | | | transfer was | | | | | | initiated, | | | | | | e.g. when a | | | | | | 200 OK | | | | | | response was | | | | | | sent for a UE | | | | | | in RRC | | | | | | inactive | | | | | | state, this | | | | | | IE shall be | | | | | | set to a | | | | | | dummy URI, | | | | | | i.e. an URI | | | | | | with no | | | | | | authority and | | | | | | an empty path | | | | | | (e.g. | | | | | | \"http:\"). | +---------------+---------------+---+-------------+---------------+ | retryAfter | Uinteger | O | 0..1 | This IE may | | | | | | be included | | | | | | if the AMF | | | | | | requests the | | | | | | NF Service | | | | | | Consumer to | | | | | | throttle | | | | | | sending | | | | | | further N1/N2 | | | | | | Message | | | | | | Transfer | | | | | | request for a | | | | | | short period, | | | | | | e.g. when UE | | | | | | is not | | | | | | responding to | | | | | | paging. | | | | | | | | | | | | When present, | | | | | | this IE | | | | | | indicates the | | | | | | period in | | | | | | number of | | | | | | seconds. The | | | | | | NF consumer | | | | | | should not | | | | | | send new | | | | | | N1/N2 message | | | | | | transfer | | | | | | request | | | | | | during the | | | | | | indicated | | | | | | period. | | | | | | | | | | | | (NOTE) | +---------------+---------------+---+-------------+---------------+ | NOTE: This IE | | | | | | should be | | | | | | configured | | | | | | with a value | | | | | | less than 10 | | | | | | minutes, i.e. | | | | | | 600 seconds. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.31 Type: N1N2MessageTransferError
Table 6.1.6.2.31-1: Definition of type N1N2MessageTransferError
Attribute name Data type P Cardinality Description
* * *
error ProblemDetails M 1 This IE shall provide the result of the N1/N2 message
transfer processing at the AMF. errInfo N1N2MsgTxfrErrDetail O 0..1 This IE
may be included to provide additional information related to the error.
##### 6.1.6.2.32 Type: N1N2MsgTxfrErrDetail
Table 6.1.6.2.32-1: Definition of type N1N2MsgTxfrErrDetail
+---------------+-------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+=============+===+=============+===============+ | retryAfter | Uinteger | O | 0..1 | This IE may | | | | | | be included | | | | | | if the AMF | | | | | | requests the | | | | | | NF Service | | | | | | Consumer to | | | | | | stop sending | | | | | | the N1/N2 | | | | | | message | | | | | | before | | | | | | timeout, and | | | | | | to retry the | | | | | | N1/N2 message | | | | | | transfer | | | | | | request that | | | | | | was rejected | | | | | | after a | | | | | | timeout. The | | | | | | value shall | | | | | | be in | | | | | | seconds. | | | | | | | | | | | | When | | | | | | included, the | | | | | | value shall | | | | | | be set to an | | | | | | estimate of | | | | | | the AMF on | | | | | | how long it | | | | | | will take | | | | | | before the | | | | | | AMF considers | | | | | | paging | | | | | | procedure as | | | | | | completed. | | | | | | | | | | | | (NOTE) | +---------------+-------------+---+-------------+---------------+ | h | Arp | O | 0..1 | This IE may | | ighestPrioArp | | | | be included | | | | | | if the | | | | | | \"cause\" | | | | | | attribute in | | | | | | the | | | | | | P | | | | | | roblemDetails | | | | | | is set to | | | | | | \"HIGHER_PRI | | | | | | ORITY_REQUES | | | | | | T_ONGOING\". | | | | | | When included | | | | | | this IE shall | | | | | | contain the | | | | | | ARP value of | | | | | | the highest | | | | | | priority QoS | | | | | | flow for | | | | | | which | | | | | | currently | | | | | | paging is | | | | | | ongoing. | | | | | | | | | | | | The NF | | | | | | Service | | | | | | Consumer | | | | | | shall not | | | | | | initiate an | | | | | | N | | | | | | amf_Communic | | | | | | ation_N1N2Me | | | | | | ssageTransfer | | | | | | operation for | | | | | | the same UE | | | | | | with an ARP | | | | | | value having | | | | | | a lower | | | | | | priority than | | | | | | this or the | | | | | | same priority | | | | | | as this, | | | | | | until the | | | | | | retryAfter | | | | | | timer | | | | | | expires. | +---------------+-------------+---+-------------+---------------+ | m | DurationSec | C | 0..1 | This IE shall | | axWaitingTime | | | | be present | | | | | | when: | | | | | | | | | | | | - | | | | | | extBufSupport | | | | | | attribute | | | | | | with value | | | | | | \"true\" | | | | | | received in | | | | | | the request; | | | | | | and | | | | | | | | | | | | - the UE is | | | | | | not reachable | | | | | | due to the UE | | | | | | in MICO mode | | | | | | or the UE | | | | | | using | | | | | | extended idle | | | | | | mode DRX. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | estimated | | | | | | maximum | | | | | | waiting time | | | | | | in seconds | | | | | | before the UE | | | | | | will be | | | | | | reachable. | | | | | | | | | | | | If the UE is | | | | | | in MICO mode, | | | | | | the AMF | | | | | | determines | | | | | | the Estimated | | | | | | Maximum Wait | | | | | | time based on | | | | | | the next | | | | | | expected | | | | | | periodic | | | | | | registration | | | | | | by the UE or | | | | | | by | | | | | | im | | | | | | plementation. | | | | | | If the UE is | | | | | | using | | | | | | extended idle | | | | | | mode DRX, the | | | | | | AMF | | | | | | determines | | | | | | the Estimated | | | | | | Maximum Wait | | | | | | time based on | | | | | | the start of | | | | | | the next | | | | | | Paging Time | | | | | | Window. | | | | | | | | | | | | (see | | | | | | clause 4.25.5 | | | | | | of | | | | | | 3GPP | | | | | | 23.502 [3]) | +---------------+-------------+---+-------------+---------------+ | NOTE: This IE | | | | | | should be | | | | | | configured | | | | | | with a value | | | | | | less than 10 | | | | | | minutes, i.e. | | | | | | 600 seconds. | | | | | +---------------+-------------+---+-------------+---------------+
##### 6.1.6.2.33 Type: N2InformationTransferRspData
Table 6.1.6.2.33-1: Definition of type N2InformationTransferRspData
Attribute name Data type P Cardinality Description
* * *
result N2InformationTransferResult M 1 This IE shall provide the result of the
N2 information transfer processing at the AMF. supportedFeatures
SupportedFeatures C 0..1 This IE shall be present if at least one optional
feature defined in clause 6.1.8 is supported. pwsRspData PWSResponseData C
0..1 This IE shall be present if the n2InformationClass is \"PWS\" in
N2InformationTransferReqData.
##### 6.1.6.2.34 Type: MmContext
Table 6.1.6.2.34-1: Definition of type MmContext
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | a | A | M | 1 | This IE | | | ccessType | ccessType | | | shall | | | | | | | contain | | | | | | | the | | | | | | | access | | | | | | | type of | | | | | | | the MM | | | | | | | context. | | +-----------+-----------+---+-----------+-----------+-----------+ | nasSec | NasSec | C | 0..1 | This IE | | | urityMode | urityMode | | | shall be | | | | | | | present | | | | | | | if | | | | | | | available | | | | | | | in 3GPP | | | | | | | access MM | | | | | | | context. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the used | | | | | | | NAS | | | | | | | security | | | | | | | mode of | | | | | | | the UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | epsNasSec | EpsNasSec | C | 0..1 | This IE | | | urityMode | urityMode | | | shall be | | | | | | | present | | | | | | | in 3GPP | | | | | | | access MM | | | | | | | context | | | | | | | if | | | | | | | selected | | | | | | | EPS NAS | | | | | | | security | | | | | | | a | | | | | | | lgorithms | | | | | | | have been | | | | | | | p | | | | | | | reviously | | | | | | | provided | | | | | | | to the | | | | | | | UE, as | | | | | | | specified | | | | | | | in | | | | | | | cla | | | | | | | use 6.7.2 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 33.50 | | | | | | | 1 [27]. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | selected | | | | | | | EPS NAS | | | | | | | security | | | | | | | a | | | | | | | lgorithms | | | | | | | provided | | | | | | | to the | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | nasDown | NasCount | C | 0..1 | This IE | | | linkCount | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | available | | | | | | | in 3GPP | | | | | | | access MM | | | | | | | context. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the NAS | | | | | | | downlink | | | | | | | count of | | | | | | | the UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | nasUp | NasCount | C | 0..1 | This IE | | | linkCount | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | available | | | | | | | in 3GPP | | | | | | | access MM | | | | | | | context. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the NAS | | | | | | | uplink | | | | | | | count of | | | | | | | the UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | ue | Ue | C | 0..1 | This IE | | | SecurityC | SecurityC | | | shall be | | | apability | apability | | | present | | | | | | | if | | | | | | | available | | | | | | | in 3GPP | | | | | | | access MM | | | | | | | context. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the UE | | | | | | | security | | | | | | | c | | | | | | | apability | | +-----------+-----------+---+-----------+-----------+-----------+ | s1U | S1U | C | 0..1 | This IE | | | eNetworkC | eNetworkC | | | shall be | | | apability | apability | | | present | | | | | | | if | | | | | | | available | | | | | | | in 3GPP | | | | | | | access MM | | | | | | | context. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the S1 UE | | | | | | | network | | | | | | | capa | | | | | | | bilities. | | +-----------+-----------+---+-----------+-----------+-----------+ | all | arra | C | 1..N | This IE | | | owedNssai | y(Snssai) | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | source | | | | | | | AMF and | | | | | | | the | | | | | | | target | | | | | | | AMF are | | | | | | | in the | | | | | | | same PLMN | | | | | | | and if | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | allowed | | | | | | | NSSAI for | | | | | | | the | | | | | | | access | | | | | | | type. | | +-----------+-----------+---+-----------+-----------+-----------+ | nssaiMa | a | C | 1..N | This IE | | | ppingList | rray(Nssa | | | shall be | | | | iMapping) | | | present | | | | | | | if the | | | | | | | source | | | | | | | AMF and | | | | | | | the | | | | | | | target | | | | | | | AMF are | | | | | | | in the | | | | | | | same PLMN | | | | | | | and if | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | mapping | | | | | | | of the | | | | | | | allowed | | | | | | | NSSAI and | | | | | | | if | | | | | | | available | | | | | | | the | | | | | | | partially | | | | | | | allowed | | | | | | | NSSAI for | | | | | | | the UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | allowed | arra | C | 1..N | This IE | | | HomeNssai | y(Snssai) | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | source | | | | | | | AMF and | | | | | | | the | | | | | | | target | | | | | | | AMF are | | | | | | | in | | | | | | | different | | | | | | | PLMNs and | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the home | | | | | | | S-NSSAIs | | | | | | | corr | | | | | | | esponding | | | | | | | to the | | | | | | | allowed | | | | | | | NSSAI and | | | | | | | if | | | | | | | available | | | | | | | the | | | | | | | partially | | | | | | | allowed | | | | | | | NSSAI for | | | | | | | the | | | | | | | access | | | | | | | type. | | +-----------+-----------+---+-----------+-----------+-----------+ | par | ar | C | 1..N | This IE | PAR-NS | | tiallyAll | ray(Parti | | | shall be | | | owedNssai | allyAllow | | | present | | | | edSnssai) | | | if the | | | | | | | source | | | | | | | and | | | | | | | target | | | | | | | AMF | | | | | | | supports | | | | | | | the | | | | | | | partially | | | | | | | allowed | | | | | | | S-NSSAI | | | | | | | feature | | | | | | | and if | | | | | | | the | | | | | | | source | | | | | | | AMF and | | | | | | | target | | | | | | | AMF | | | | | | | pertain | | | | | | | to the | | | | | | | same | | | | | | | PLMN. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | partially | | | | | | | allowed | | | | | | | S-NSSAI | | | | | | | list and | | | | | | | the TAI | | | | | | | list | | | | | | | where the | | | | | | | S | | | | | | | -NSSAI(s) | | | | | | | are | | | | | | | allowed. | | | | | | | | | | | | | | See | | | | | | | 3G | | | | | | | PP TS 23. | | | | | | | 502 [3] | | | | | | | clause 4 | | | | | | | .2.2.2.2. | | +-----------+-----------+---+-----------+-----------+-----------+ | nsIns | arr | C | 1..N | This IE | | | tanceList | ay(NsiId) | | | shall be | | | | | | | present | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | Network | | | | | | | Slice | | | | | | | Instances | | | | | | | selected | | | | | | | for the | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | expectedU | ExpectedU | C | 0..1 | This IE | | | Ebehavior | eBehavior | | | shall be | | | | | | | present | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | expected | | | | | | | UE moving | | | | | | | t | | | | | | | rajectory | | | | | | | and its | | | | | | | validity | | | | | | | period. | | | | | | | See | | | | | | | 3G | | | | | | | PP TS 23. | | | | | | | 502 [3] | | | | | | | clause | | | | | | | 4.15.6.3. | | +-----------+-----------+---+-----------+-----------+-----------+ | ueD | UeD | C | 0..1 | This IE | | | ifferenti | ifferenti | | | shall be | | | ationInfo | ationInfo | | | present | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present | | | | | | | it shall | | | | | | | indicate | | | | | | | UE | | | | | | | Differ | | | | | | | entiation | | | | | | | In | | | | | | | formation | | | | | | | and its | | | | | | | validity | | | | | | | period. | | +-----------+-----------+---+-----------+-----------+-----------+ | pl | Pl | C | 0..1 | This IE | | | mnAssiUeR | mnAssiUeR | | | shall be | | | adioCapId | adioCapId | | | present | | | | | | | if the | | | | | | | source | | | | | | | AMF | | | | | | | supports | | | | | | | RACS | | | | | | | feature | | | | | | | and if | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present | | | | | | | it shall | | | | | | | be the | | | | | | | PLMN | | | | | | | -assigned | | | | | | | UE Radio | | | | | | | C | | | | | | | apability | | | | | | | ID. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | m | M | C | 0..1 | This IE | | | anAssiUeR | anAssiUeR | | | shall be | | | adioCapId | adioCapId | | | present | | | | | | | if the | | | | | | | source | | | | | | | AMF | | | | | | | supports | | | | | | | RACS | | | | | | | feature | | | | | | | and if | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present | | | | | | | it shall | | | | | | | be the | | | | | | | Man | | | | | | | ufacturer | | | | | | | -assigned | | | | | | | UE Radio | | | | | | | C | | | | | | | apability | | | | | | | ID. | | +-----------+-----------+---+-----------+-----------+-----------+ | ucmfD | string | C | 0..1 | This IE | | | icEntryId | | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | source | | | | | | | AMF | | | | | | | supports | | | | | | | RACS | | | | | | | feature | | | | | | | and if | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present | | | | | | | it shall | | | | | | | be the | | | | | | | UCMF | | | | | | | allocated | | | | | | | d | | | | | | | icEntryId | | | | | | | received | | | | | | | from the | | | | | | | UCMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | n3IwfId | Global | C | 0..1 | This IE | | | | RanNodeId | | | shall be | | | | | | | present | | | | | | | during | | | | | | | Reg | | | | | | | istration | | | | | | | procedure | | | | | | | with AMF | | | | | | | changes | | | | | | | as | | | | | | | specified | | | | | | | in clause | | | | | | | 4.2.2.2 | | | | | | | of | | | | | | | 3G | | | | | | | PP TS 23. | | | | | | | 502 [3] | | | | | | | and inter | | | | | | | AMF | | | | | | | handover | | | | | | | p | | | | | | | rocedure, | | | | | | | if the | | | | | | | old AMF | | | | | | | holds UE | | | | | | | context | | | | | | | es | | | | | | | tablished | | | | | | | via N3IWF | | | | | | | and if | | | | | | | the PDU | | | | | | | sessions | | | | | | | a | | | | | | | ssociated | | | | | | | with the | | | | | | | non-3GPP | | | | | | | access | | | | | | | are | | | | | | | tr | | | | | | | ansferred | | | | | | | to the | | | | | | | new AMF | | | | | | | (see | | | | | | | clause 5. | | | | | | | 2.2.2.1.1 | | | | | | | and | | | | | | | 5.2. | | | | | | | 2.2.3.1). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | Global | | | | | | | RAN Node | | | | | | | ID of | | | | | | | N3IWF. | | +-----------+-----------+---+-----------+-----------+-----------+ | wagfId | Global | C | 0..1 | This IE | | | | RanNodeId | | | shall be | | | | | | | present | | | | | | | during | | | | | | | Reg | | | | | | | istration | | | | | | | procedure | | | | | | | with AMF | | | | | | | changes | | | | | | | as | | | | | | | specified | | | | | | | in clause | | | | | | | 4.2.2.2 | | | | | | | of | | | | | | | 3G | | | | | | | PP TS 23. | | | | | | | 502 [3] | | | | | | | and inter | | | | | | | AMF | | | | | | | handover | | | | | | | p | | | | | | | rocedure, | | | | | | | if the | | | | | | | old AMF | | | | | | | holds UE | | | | | | | context | | | | | | | es | | | | | | | tablished | | | | | | | via W-AGF | | | | | | | and if | | | | | | | the PDU | | | | | | | sessions | | | | | | | a | | | | | | | ssociated | | | | | | | with the | | | | | | | non-3GPP | | | | | | | access | | | | | | | are | | | | | | | tr | | | | | | | ansferred | | | | | | | to the | | | | | | | new AMF | | | | | | | (see | | | | | | | clause 5. | | | | | | | 2.2.2.1.1 | | | | | | | and | | | | | | | 5.2. | | | | | | | 2.2.3.1). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | Global | | | | | | | RAN Node | | | | | | | ID of | | | | | | | W-AGF. | | +-----------+-----------+---+-----------+-----------+-----------+ | tngfId | Global | C | 0..1 | This IE | | | | RanNodeId | | | shall be | | | | | | | present | | | | | | | during | | | | | | | Reg | | | | | | | istration | | | | | | | procedure | | | | | | | with AMF | | | | | | | changes | | | | | | | as | | | | | | | specified | | | | | | | in clause | | | | | | | 4.2.2.2 | | | | | | | of | | | | | | | 3G | | | | | | | PP TS 23. | | | | | | | 502 [3] | | | | | | | and inter | | | | | | | AMF | | | | | | | handover | | | | | | | p | | | | | | | rocedure, | | | | | | | if the | | | | | | | old AMF | | | | | | | holds UE | | | | | | | context | | | | | | | es | | | | | | | tablished | | | | | | | via TNGF | | | | | | | and if | | | | | | | the PDU | | | | | | | sessions | | | | | | | a | | | | | | | ssociated | | | | | | | with the | | | | | | | non-3GPP | | | | | | | access | | | | | | | are | | | | | | | tr | | | | | | | ansferred | | | | | | | to the | | | | | | | new AMF | | | | | | | (see | | | | | | | clause 5. | | | | | | | 2.2.2.1.1 | | | | | | | and | | | | | | | 5.2. | | | | | | | 2.2.3.1). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | Global | | | | | | | RAN Node | | | | | | | ID of | | | | | | | TNGF. | | +-----------+-----------+---+-----------+-----------+-----------+ | anN2ApId | integer | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | during | | | | | | | Reg | | | | | | | istration | | | | | | | procedure | | | | | | | with AMF | | | | | | | changes, | | | | | | | as | | | | | | | specified | | | | | | | in clause | | | | | | | 4.2.2.2 | | | | | | | of | | | | | | | 3G | | | | | | | PP TS 23. | | | | | | | 502 [3] | | | | | | | and inter | | | | | | | AMF | | | | | | | handover | | | | | | | p | | | | | | | rocedure, | | | | | | | if the | | | | | | | old AMF | | | | | | | holds UE | | | | | | | context | | | | | | | es | | | | | | | tablished | | | | | | | via | | | | | | | N3IWF/W | | | | | | | -AGF/TNGF | | | | | | | and the | | | | | | | UE is in | | | | | | | CM- | | | | | | | CONNECTED | | | | | | | state via | | | | | | | N3IWF/W | | | | | | | -AGF/TNGF | | | | | | | and if | | | | | | | the PDU | | | | | | | sessions | | | | | | | a | | | | | | | ssociated | | | | | | | with the | | | | | | | non-3GPP | | | | | | | access | | | | | | | are | | | | | | | tr | | | | | | | ansferred | | | | | | | to the | | | | | | | new AMF | | | | | | | (see | | | | | | | clause 5. | | | | | | | 2.2.2.1.1 | | | | | | | and | | | | | | | 5.2. | | | | | | | 2.2.3.1). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the RAN | | | | | | | UE NGAP | | | | | | | ID over | | | | | | | N2 | | | | | | | i | | | | | | | nterface. | | +-----------+-----------+---+-----------+-----------+-----------+ | nssaaS | array(Nss | C | 1..N | This IE | | | tatusList | aaStatus) | | | shall be | | | | | | | present | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | s | | | | | | | ubscribed | | | | | | | S-NSSAIs | | | | | | | subject | | | | | | | to NSSAA | | | | | | | procedure | | | | | | | and for | | | | | | | which a | | | | | | | status | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | a | | | | | | | vailable. | | | | | | | See | | | | | | | 3G | | | | | | | PP TS 23. | | | | | | | 501 [2] | | | | | | | clause | | | | | | | 5 | | | | | | | .15.5.2.1 | | | | | | | and | | | | | | | 3G | | | | | | | PP TS 23. | | | | | | | 502 [3] | | | | | | | clause | | | | | | | 5 | | | | | | | .2.2.2.2. | | +-----------+-----------+---+-----------+-----------+-----------+ | pendi | a | C | 1..N | This IE | | | ngNssaiMa | rray(Nssa | | | shall be | | | ppingList | iMapping) | | | present | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | mapping | | | | | | | of the | | | | | | | pending | | | | | | | NSSAI for | | | | | | | the UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | uua | Uua | C | 0..1 | This IE | | | aMmStatus | aMmStatus | | | shall be | | | | | | | present | | | | | | | if | | | | | | | available | | | | | | | in 3GPP | | | | | | | access MM | | | | | | | context. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | status of | | | | | | | UUAA-MM | | | | | | | if the | | | | | | | AMF is | | | | | | | c | | | | | | | onfigured | | | | | | | to | | | | | | | perform | | | | | | | the UAV | | | | | | | a | | | | | | | uthentica | | | | | | | tion/auth | | | | | | | orization | | | | | | | at 5GS | | | | | | | reg | | | | | | | istration | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | cla | | | | | | | use 5.2.2 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.25 | | | | | | | 6 [56]. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | If the | | | | | | | AMF | | | | | | | supports | | | | | | | RACS and | | | | | | | the AMF | | | | | | | detects | | | | | | | that the | | | | | | | selected | | | | | | | PLMN | | | | | | | during a | | | | | | | service | | | | | | | request | | | | | | | procedure | | | | | | | is | | | | | | | different | | | | | | | from the | | | | | | | currently | | | | | | | r | | | | | | | egistered | | | | | | | PLMN for | | | | | | | the UE, | | | | | | | the AMF | | | | | | | stores | | | | | | | the UE | | | | | | | Radio | | | | | | | C | | | | | | | apability | | | | | | | ID of the | | | | | | | newly | | | | | | | selected | | | | | | | PLMN in | | | | | | | the UE | | | | | | | context | | | | | | | as | | | | | | | described | | | | | | | in clause | | | | | | | 5.2.3.2 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3], | | | | | | | and | | | | | | | provides | | | | | | | this UE | | | | | | | Radio | | | | | | | C | | | | | | | apability | | | | | | | ID to the | | | | | | | target | | | | | | | AMF | | | | | | | during | | | | | | | any | | | | | | | s | | | | | | | ubsequent | | | | | | | inter-AMF | | | | | | | mobility. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
Editor\'s note: It is FFS whether and how to address a partially allowed
S-NSSAI upon inter-AMF mobility in a same PLMN when the source AMF would
support partially allowed S-NSSAIs but the target AMF would not, e.g. whether
the Source AMF should in such a case send the partially allowed S-NSSAI in the
allowedNssai IE.
##### 6.1.6.2.35 Type: SeafData
Table 6.1.6.2.35-1: Definition of type SeafData
+-----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +=================+===========+===+=============+=================+ | ngKsi | NgKsi | M | 1 | Indicates the | | | | | | KSI used for | | | | | | the derivation | | | | | | of the keyAmf | | | | | | sent. | +-----------------+-----------+---+-------------+-----------------+ | keyAmf | KeyAmf | M | 1 | Indicates the | | | | | | K~amf~ or | | | | | | K\'~amf~ | +-----------------+-----------+---+-------------+-----------------+ | nh | string | C | 0..1 | This IE shall | | | | | | be present | | | | | | during N2 | | | | | | handover | | | | | | procedure as | | | | | | specified in | | | | | | clause | | | | | | 6.9.2.3.3 of | | | | | | 3GPP TS | | | | | | 33.501 [27]. | | | | | | When present, | | | | | | this IE | | | | | | indicates the | | | | | | Next Hop value | | | | | | used for the | | | | | | key derivation. | | | | | | The value is | | | | | | encoded as a | | | | | | string of | | | | | | hexadecimal | | | | | | characters. | | | | | | | | | | | | Pattern: | | | | | | \'\^[A | | | | | | -Fa-f0-9]+\$\' | +-----------------+-----------+---+-------------+-----------------+ | ncc | integer | C | 0..1 | This IE shall | | | | | | be present | | | | | | during N2 | | | | | | handover | | | | | | procedure as | | | | | | specified in | | | | | | clause | | | | | | 6.9.2.3.3 of | | | | | | 3GPP TS | | | | | | 33.501 [27]. | | | | | | When present, | | | | | | this IE | | | | | | indicates the | | | | | | NH Chaining | | | | | | Counter. The | | | | | | value is within | | | | | | the range 0 to | | | | | | 7. | +-----------------+-----------+---+-------------+-----------------+ | keyAmfChangeInd | boolean | C | 0..1 | This IE shall | | | | | | be included, | | | | | | with a value | | | | | | \"true\", if | | | | | | the source AMF | | | | | | requires the | | | | | | target AMF to | | | | | | perform AS key | | | | | | re-keying, | | | | | | during N2 | | | | | | handover | | | | | | procedure as | | | | | | specified in | | | | | | clause | | | | | | 6.9.2.3.3 of | | | | | | 3GPP TS | | | | | | 33.501 [27]. | +-----------------+-----------+---+-------------+-----------------+ | keyAm | boolean | C | 0..1 | This IE shall | | fHDerivationInd | | | | be included, | | | | | | with a value | | | | | | \"true\", if | | | | | | the source AMF | | | | | | has performed | | | | | | horizontal | | | | | | K~AMF~ | | | | | | derivation, | | | | | | which means a | | | | | | new K~AMF~ has | | | | | | been | | | | | | calculated. | +-----------------+-----------+---+-------------+-----------------+
##### 6.1.6.2.36 Type: NasSecurityMode
Table 6.1.6.2.36-1: Definition of type NasSecurityMode
Attribute name Data type P Cardinality Description
* * *
integrityAlgorithm IntegrityAlgorithm M 1 Indicates the integrity protection
algorithm cipheringAlgorithm CipheringAlgorithm M 1 Indicates the ciphering
algorithm
##### 6.1.6.2.37 Type: PduSessionContext
Table 6.1.6.2.37-1: Definition of type PduSessionContext
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | pdu | Pdu | M | 1 | Indicates | | | SessionId | SessionId | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | PDU | | | | | | | Session. | | +-----------+-----------+---+-----------+-----------+-----------+ | smC | Uri | M | 1 | Indicates | | | ontextRef | | | | the | | | | | | | resource | | | | | | | URI of | | | | | | | the SM | | | | | | | context, | | | | | | | including | | | | | | | the | | | | | | | apiRoot | | | | | | | (see | | | | | | | clause | | | | | | | 6.1.3.3.2 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 29.502 | | | | | | | [16]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | carry the | | | | | | | URI of SM | | | | | | | Context | | | | | | | of: | | | | | | | | | | | | | | - I-SMF, | | | | | | | for a PDU | | | | | | | session | | | | | | | with | | | | | | | I-SMF; or | | | | | | | | | | | | | | - V-SMF, | | | | | | | for HR | | | | | | | PDU | | | | | | | session; | | | | | | | or | | | | | | | | | | | | | | - SMF, | | | | | | | for | | | | | | | no | | | | | | | n-roaming | | | | | | | PDU | | | | | | | session | | | | | | | without | | | | | | | I-SMF, or | | | | | | | LBO | | | | | | | roaming | | | | | | | PDU | | | | | | | session; | | +-----------+-----------+---+-----------+-----------+-----------+ | sNssai | Snssai | M | 1 | Indicates | | | | | | | the | | | | | | | a | | | | | | | ssociated | | | | | | | S-NSSAI | | | | | | | for the | | | | | | | PDU | | | | | | | Session. | | | | | | | It shall | | | | | | | be the | | | | | | | S-NSSAI | | | | | | | in HPLMN | | | | | | | in | | | | | | | non | | | | | | | -roaming, | | | | | | | LBO | | | | | | | roaming | | | | | | | or HR | | | | | | | roaming. | | +-----------+-----------+---+-----------+-----------+-----------+ | additio | Snssai | C | 0..1 | This IE | | | nalSnssai | | | | shall be | | | | | | | present | | | | | | | in | | | | | | | in | | | | | | | tra-VPLMN | | | | | | | mobility | | | | | | | of LBO | | | | | | | roaming | | | | | | | and HR | | | | | | | roaming. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | a | | | | | | | ssociated | | | | | | | S-NSSAI | | | | | | | in VPLMN | | | | | | | for the | | | | | | | PDU | | | | | | | Session. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | M | 1 | This IE | | | | | | | shall | | | | | | | indicate | | | | | | | the Data | | | | | | | Network | | | | | | | Name. The | | | | | | | DNN shall | | | | | | | be the | | | | | | | full DNN | | | | | | | (i.e. | | | | | | | with both | | | | | | | the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | and | | | | | | | Operator | | | | | | | Id | | | | | | | entifier) | | | | | | | for a HR | | | | | | | PDU | | | | | | | session, | | | | | | | and it | | | | | | | should be | | | | | | | the full | | | | | | | DNN in | | | | | | | LBO and | | | | | | | no | | | | | | | n-roaming | | | | | | | s | | | | | | | cenarios. | | | | | | | If the | | | | | | | Operator | | | | | | | I | | | | | | | dentifier | | | | | | | is | | | | | | | absent, | | | | | | | the | | | | | | | serving | | | | | | | core | | | | | | | network | | | | | | | operator | | | | | | | shall be | | | | | | | assumed. | | +-----------+-----------+---+-----------+-----------+-----------+ | se | Dnn | C | 0..1 | This IE | | | lectedDnn | | | | shall be | | | | | | | present, | | | | | | | if | | | | | | | another | | | | | | | DNN other | | | | | | | than the | | | | | | | UE | | | | | | | requested | | | | | | | DNN is | | | | | | | selected | | | | | | | for this | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | selected | | | | | | | DNN. The | | | | | | | DNN shall | | | | | | | be the | | | | | | | full DNN | | | | | | | (i.e. | | | | | | | with both | | | | | | | the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | and | | | | | | | Operator | | | | | | | Id | | | | | | | entifier) | | | | | | | for a HR | | | | | | | PDU | | | | | | | session, | | | | | | | and it | | | | | | | should be | | | | | | | the full | | | | | | | DNN in | | | | | | | LBO and | | | | | | | no | | | | | | | n-roaming | | | | | | | s | | | | | | | cenarios. | | | | | | | If the | | | | | | | Operator | | | | | | | I | | | | | | | dentifier | | | | | | | is | | | | | | | absent, | | | | | | | the | | | | | | | serving | | | | | | | core | | | | | | | network | | | | | | | operator | | | | | | | shall be | | | | | | | assumed. | | +-----------+-----------+---+-----------+-----------+-----------+ | a | A | M | 1 | Indicates | | | ccessType | ccessType | | | the | | | | | | | access | | | | | | | type of | | | | | | | the PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | ad | A | C | 0..1 | Indicates | | | ditionalA | ccessType | | | the | | | ccessType | | | | a | | | | | | | dditional | | | | | | | access | | | | | | | type for | | | | | | | a MA PDU | | | | | | | session, | | | | | | | if the UE | | | | | | | registers | | | | | | | to both | | | | | | | 3GPP | | | | | | | access | | | | | | | and | | | | | | | Non-3GPP | | | | | | | access. | | +-----------+-----------+---+-----------+-----------+-----------+ | allocat | ar | C | 1..N | This IE | | | edEbiList | ray(EbiAr | | | shall be | | | | pMapping) | | | present | | | | | | | when at | | | | | | | least one | | | | | | | EBI is | | | | | | | allocated | | | | | | | to the | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the EBIs | | | | | | | currently | | | | | | | allocated | | | | | | | to the | | | | | | | PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | hsmfId | NfI | C | 0..1 | This IE | | | | nstanceId | | | shall be | | | | | | | present | | | | | | | for | | | | | | | no | | | | | | | n-roaming | | | | | | | and | | | | | | | ho | | | | | | | me-routed | | | | | | | PDU | | | | | | | sessions. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | as | | | | | | | sociated: | | | | | | | | | | | | | | - home | | | | | | | SMF for | | | | | | | HR PDU | | | | | | | Session, | | | | | | | or | | | | | | | | | | | | | | - SMF, | | | | | | | for | | | | | | | no | | | | | | | n-roaming | | | | | | | PDU | | | | | | | session, | | | | | | | r | | | | | | | egardless | | | | | | | of | | | | | | | whether | | | | | | | an I-SMF | | | | | | | is | | | | | | | involved | | | | | | | or not. | | +-----------+-----------+---+-----------+-----------+-----------+ | hsmfSetId | NfSetId | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the NF | | | | | | | Set ID of | | | | | | | the home | | | | | | | SMF or | | | | | | | the SMF | | | | | | | indicated | | | | | | | by | | | | | | | hsmfId. | | +-----------+-----------+---+-----------+-----------+-----------+ | hsmfSer | NfSer | C | 0..1 | This IE | | | viceSetId | viceSetId | | | shall be | | | | | | | present, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the NF | | | | | | | Service | | | | | | | Set ID of | | | | | | | the | | | | | | | selected | | | | | | | P | | | | | | | DUSession | | | | | | | service | | | | | | | instance | | | | | | | of home | | | | | | | SMF or | | | | | | | the SMF | | | | | | | indicated | | | | | | | by | | | | | | | hsmfId. | | +-----------+-----------+---+-----------+-----------+-----------+ | s | SbiBin | C | 0..1 | This IE | | | mfBinding | dingLevel | | | shall be | | | | | | | present | | | | | | | if | | | | | | | a | | | | | | | vailable, | | | | | | | for a | | | | | | | no | | | | | | | n-roaming | | | | | | | PDU | | | | | | | session. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the SBI | | | | | | | binding | | | | | | | level of | | | | | | | the | | | | | | | SMF\'s SM | | | | | | | context | | | | | | | resource. | | +-----------+-----------+---+-----------+-----------+-----------+ | vsmfId | NfI | C | 0..1 | This IE | | | | nstanceId | | | shall be | | | | | | | present | | | | | | | for | | | | | | | roaming | | | | | | | PDU | | | | | | | sessions. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | a | | | | | | | ssociated | | | | | | | visited | | | | | | | SMF for | | | | | | | ho | | | | | | | me-routed | | | | | | | the PDU | | | | | | | Session, | | | | | | | or the | | | | | | | SMF for | | | | | | | the | | | | | | | local | | | | | | | -breakout | | | | | | | PDU | | | | | | | session | | | | | | | (r | | | | | | | egardless | | | | | | | of | | | | | | | whether | | | | | | | an I-SMF | | | | | | | is | | | | | | | involved | | | | | | | or not). | | +-----------+-----------+---+-----------+-----------+-----------+ | vsmfSetId | NfSetId | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the NF | | | | | | | Set ID of | | | | | | | the | | | | | | | V-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | vsmfSer | NfSer | C | 0..1 | This IE | | | viceSetId | viceSetId | | | shall be | | | | | | | present, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the NF | | | | | | | Service | | | | | | | Set ID of | | | | | | | the | | | | | | | V-SMF\'s | | | | | | | P | | | | | | | DUSession | | | | | | | service | | | | | | | instance. | | +-----------+-----------+---+-----------+-----------+-----------+ | vs | SbiBin | C | 0..1 | This IE | | | mfBinding | dingLevel | | | shall be | | | | | | | present, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the SBI | | | | | | | binding | | | | | | | level of | | | | | | | the | | | | | | | V-SMF\'s | | | | | | | SM | | | | | | | context | | | | | | | resource. | | +-----------+-----------+---+-----------+-----------+-----------+ | ismfId | NfI | C | 0..1 | This IE | DTSSA | | | nstanceId | | | shall be | | | | | | | present | | | | | | | if I-SMF | | | | | | | is | | | | | | | involved | | | | | | | in the | | | | | | | PDU | | | | | | | session. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | a | | | | | | | ssociated | | | | | | | I-SMF for | | | | | | | the PDU | | | | | | | Session. | | +-----------+-----------+---+-----------+-----------+-----------+ | ismfSetId | NfSetId | C | 0..1 | This IE | DTSSA | | | | | | shall be | | | | | | | present, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the NF | | | | | | | Set ID of | | | | | | | the | | | | | | | I-SMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | ismfSer | NfSer | C | 0..1 | This IE | DTSSA | | viceSetId | viceSetId | | | shall be | | | | | | | present, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the NF | | | | | | | Service | | | | | | | Set ID of | | | | | | | the | | | | | | | I-SMF\'s | | | | | | | P | | | | | | | DUSession | | | | | | | service | | | | | | | instance. | | +-----------+-----------+---+-----------+-----------+-----------+ | is | SbiBin | C | 0..1 | This IE | DTSSA | | mfBinding | dingLevel | | | shall be | | | | | | | present | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the SBI | | | | | | | binding | | | | | | | level of | | | | | | | the | | | | | | | I-SMF\'s | | | | | | | SM | | | | | | | Context | | | | | | | resource. | | +-----------+-----------+---+-----------+-----------+-----------+ | n | NsiId | C | 0..1 | This IE | | | sInstance | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | Indicate | | | | | | | Network | | | | | | | Slice | | | | | | | Instance | | | | | | | for the | | | | | | | PDU | | | | | | | Session | | +-----------+-----------+---+-----------+-----------+-----------+ | sm | string | O | 0..1 | When | | | fServiceI | | | | present, | | | nstanceId | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | serviceI | | | | | | | nstanceId | | | | | | | of the | | | | | | | SMF | | | | | | | P | | | | | | | DUSession | | | | | | | service | | | | | | | instance | | | | | | | serving | | | | | | | the SM | | | | | | | Context, | | | | | | | i.e. of: | | | | | | | | | | | | | | - the | | | | | | | I-SMF, | | | | | | | for a PDU | | | | | | | session | | | | | | | with | | | | | | | I-SMF; | | | | | | | | | | | | | | - the | | | | | | | V-SMF, | | | | | | | for a HR | | | | | | | PDU | | | | | | | session; | | | | | | | or | | | | | | | | | | | | | | - the | | | | | | | SMF, for | | | | | | | a | | | | | | | no | | | | | | | n-roaming | | | | | | | or an LBO | | | | | | | roaming | | | | | | | PDU | | | | | | | session | | | | | | | without | | | | | | | I-SMF. | | | | | | | | | | | | | | This IE | | | | | | | may be | | | | | | | used by | | | | | | | the AMF | | | | | | | to | | | | | | | identify | | | | | | | PDU | | | | | | | session | | | | | | | contexts | | | | | | | affected | | | | | | | by a | | | | | | | failure | | | | | | | or | | | | | | | restart | | | | | | | of the | | | | | | | SMF | | | | | | | service | | | | | | | instance | | | | | | | (see | | | | | | | clause | | | | | | | 6.2 of | | | | | | | 3GPP | | | | | | | TS 23.527 | | | | | | | [33]). | | +-----------+-----------+---+-----------+-----------+-----------+ | maP | boolean | C | 0..1 | This IE | | | duSession | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | whether | | | | | | | it is an | | | | | | | MA PDU | | | | | | | session. | | | | | | | | | | | | | | true: | | | | | | | indicates | | | | | | | the PDU | | | | | | | session | | | | | | | is MA PDU | | | | | | | session; | | | | | | | | | | | | | | false | | | | | | | ( | | | | | | | default): | | | | | | | the PDU | | | | | | | session | | | | | | | is not MA | | | | | | | PDU | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | cnAssist | CnAssist | C | 0..1 | This IE | | | edRanPara | edRanPara | | | shall be | | | | | | | present | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the PDU | | | | | | | Session | | | | | | | specific | | | | | | | p | | | | | | | arameters | | | | | | | received | | | | | | | from the | | | | | | | SMF and | | | | | | | used by | | | | | | | the AMF | | | | | | | to derive | | | | | | | the Core | | | | | | | Network | | | | | | | assisted | | | | | | | RAN | | | | | | | p | | | | | | | arameters | | | | | | | tuning. | | +-----------+-----------+---+-----------+-----------+-----------+ | nrfMana | Uri | C | 0..1 | If | | | gementUri | | | | included, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the API | | | | | | | URI of | | | | | | | the | | | | | | | NFM | | | | | | | anagement | | | | | | | Service | | | | | | | (see | | | | | | | clause | | | | | | | 6.1.1 of | | | | | | | 3GPP | | | | | | | TS 29.51 | | | | | | | 0 [29]) | | | | | | | of the | | | | | | | NRF or | | | | | | | hNRF. | | | | | | | | | | | | | | It shall | | | | | | | be | | | | | | | present | | | | | | | if it is | | | | | | | returned | | | | | | | from the | | | | | | | NSSF or | | | | | | | hNSSF | | | | | | | (see | | | | | | | clause | | | | | | | 6.1.6.2.7 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 29.531 | | | | | | | [18]). | | +-----------+-----------+---+-----------+-----------+-----------+ | nrfDis | Uri | C | 0..1 | If | | | coveryUri | | | | included, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the API | | | | | | | URI of | | | | | | | the | | | | | | | NF | | | | | | | Discovery | | | | | | | Service | | | | | | | (see | | | | | | | clause | | | | | | | 6.2.1 of | | | | | | | 3GPP | | | | | | | TS 29.51 | | | | | | | 0 [29]) | | | | | | | of the | | | | | | | NRF or | | | | | | | hNRF. | | | | | | | | | | | | | | It shall | | | | | | | be | | | | | | | present | | | | | | | if it is | | | | | | | returned | | | | | | | from the | | | | | | | NSSF or | | | | | | | hNSSF | | | | | | | (see | | | | | | | clause | | | | | | | 6.1.6.2.7 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 29.531 | | | | | | | [18]). | | +-----------+-----------+---+-----------+-----------+-----------+ | nrfAcces | Uri | C | 0..1 | If | | | sTokenUri | | | | included, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the API | | | | | | | URI of | | | | | | | the | | | | | | | Access | | | | | | | Token | | | | | | | Service | | | | | | | (see | | | | | | | clause | | | | | | | 6.3.2 of | | | | | | | 3GPP | | | | | | | TS 29.51 | | | | | | | 0 [29]) | | | | | | | of the | | | | | | | NRF or | | | | | | | hNRF. | | | | | | | | | | | | | | It shall | | | | | | | be | | | | | | | present | | | | | | | if it is | | | | | | | returned | | | | | | | from the | | | | | | | NSSF or | | | | | | | hNSSF | | | | | | | (see | | | | | | | clause | | | | | | | 6.1.6.2.7 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 29.531 | | | | | | | [18]). | | +-----------+-----------+---+-----------+-----------+-----------+ | smfBi | string | C | 0..1 | This IE | | | ndingInfo | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | a | | | | | | | vailable, | | | | | | | for a | | | | | | | no | | | | | | | n-roaming | | | | | | | PDU | | | | | | | session. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | Binding | | | | | | | in | | | | | | | dications | | | | | | | of the | | | | | | | SMF\'s SM | | | | | | | context | | | | | | | resource | | | | | | | and shall | | | | | | | be set to | | | | | | | the value | | | | | | | of the | | | | | | | 3gpp-Sb | | | | | | | i-Binding | | | | | | | header | | | | | | | defined | | | | | | | in | | | | | | | clause | | | | | | | 5.2.3.2.6 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.5 | | | | | | | 00 [4], | | | | | | | without | | | | | | | the | | | | | | | header | | | | | | | name. | | +-----------+-----------+---+-----------+-----------+-----------+ | vsmfBi | string | C | 0..1 | This IE | | | ndingInfo | | | | shall be | | | | | | | present, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | Binding | | | | | | | in | | | | | | | dications | | | | | | | of the | | | | | | | V-SMF\'s | | | | | | | SM | | | | | | | context | | | | | | | resource | | | | | | | and shall | | | | | | | be set to | | | | | | | the value | | | | | | | of the | | | | | | | 3gpp-Sb | | | | | | | i-Binding | | | | | | | header | | | | | | | defined | | | | | | | in | | | | | | | clause | | | | | | | 5.2.3.2.6 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.5 | | | | | | | 00 [4], | | | | | | | without | | | | | | | the | | | | | | | header | | | | | | | name. | | +-----------+-----------+---+-----------+-----------+-----------+ | ismfBi | string | C | 0..1 | This IE | DTSSA | | ndingInfo | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | Binding | | | | | | | in | | | | | | | dications | | | | | | | of the | | | | | | | I-SMF\'s | | | | | | | SM | | | | | | | Context | | | | | | | resource | | | | | | | and shall | | | | | | | be set to | | | | | | | the value | | | | | | | of the | | | | | | | 3gpp-Sb | | | | | | | i-Binding | | | | | | | header | | | | | | | defined | | | | | | | in | | | | | | | clause | | | | | | | 5.2.3.2.6 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.5 | | | | | | | 00 [4], | | | | | | | without | | | | | | | the | | | | | | | header | | | | | | | name. | | +-----------+-----------+---+-----------+-----------+-----------+ | interPl | Uri | C | 0..1 | This IE | | | mnApiRoot | | | | shall be | | | | | | | present | | | | | | | if this | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | apiRoot | | | | | | | of the SM | | | | | | | context | | | | | | | to be | | | | | | | used in | | | | | | | i | | | | | | | nter-PLMN | | | | | | | s | | | | | | | ignalling | | | | | | | request | | | | | | | targeting | | | | | | | the SM | | | | | | | context. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | pgwFqdn | Fqdn | O | 0..1 | FQDN of | | | | | | | the PGW | | | | | | | in the | | | | | | | P | | | | | | | GW-C+SMF, | | | | | | | to be | | | | | | | included | | | | | | | for | | | | | | | int | | | | | | | erworking | | | | | | | with EPS. | | +-----------+-----------+---+-----------+-----------+-----------+ | pgwIpAddr | IpAddress | O | 0..1 | IP | | | | | | | Address | | | | | | | of the | | | | | | | PGW in | | | | | | | the | | | | | | | P | | | | | | | GW-C+SMF, | | | | | | | to be | | | | | | | included | | | | | | | for | | | | | | | int | | | | | | | erworking | | | | | | | with EPS. | | +-----------+-----------+---+-----------+-----------+-----------+ | plmnId | PlmnId | O | 0..1 | PLMN | | | | | | | where the | | | | | | | PGW-C+SMF | | | | | | | is | | | | | | | located. | | +-----------+-----------+---+-----------+-----------+-----------+ | anchorSm | Supporte | O | 0..1 | When | | | fSupporte | dFeatures | | | present, | | | dFeatures | | | | this IE | | | | | | | shall | | | | | | | include | | | | | | | the | | | | | | | features | | | | | | | of the | | | | | | | Nsmf_P | | | | | | | DUSession | | | | | | | service | | | | | | | (see | | | | | | | cla | | | | | | | use 6.1.8 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 29.50 | | | | | | | 2 [16]) | | | | | | | that are | | | | | | | supported | | | | | | | by the | | | | | | | H-SMF (or | | | | | | | the SMF | | | | | | | for a PDU | | | | | | | sessions | | | | | | | with | | | | | | | I-SMF). | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | ancho | boolean | O | 0..1 | This IE | | | rSmfOauth | | | | may be | | | 2Required | | | | present | | | | | | | when new | | | | | | | AMF and | | | | | | | old AMF | | | | | | | belong to | | | | | | | the same | | | | | | | PLMN. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | whether | | | | | | | the H-SMF | | | | | | | (or the | | | | | | | SMF for a | | | | | | | PDU | | | | | | | session | | | | | | | with | | | | | | | I-SMF) | | | | | | | requires | | | | | | | Oau | | | | | | | th2-based | | | | | | | auth | | | | | | | orization | | | | | | | for | | | | | | | accessing | | | | | | | its | | | | | | | Nsmf_P | | | | | | | DUSession | | | | | | | service | | | | | | | | | | | | | | - true: | | | | | | | OAuth2 | | | | | | | based | | | | | | | auth | | | | | | | orization | | | | | | | is | | | | | | | required. | | | | | | | | | | | | | | - false: | | | | | | | OAuth2 | | | | | | | based | | | | | | | auth | | | | | | | orization | | | | | | | is not | | | | | | | required. | | | | | | | | | | | | | | The | | | | | | | absence | | | | | | | of this | | | | | | | IE means | | | | | | | that no | | | | | | | i | | | | | | | ndication | | | | | | | is | | | | | | | available | | | | | | | about the | | | | | | | usage of | | | | | | | Oauth2 | | | | | | | for | | | | | | | auth | | | | | | | orization | | | | | | | of the | | | | | | | anchor | | | | | | | SMF\'s | | | | | | | Nsmf_P | | | | | | | DUSession | | | | | | | service. | | +-----------+-----------+---+-----------+-----------+-----------+ | hrsboA | boolean | C | 0..1 | This IE | | | llowedInd | | | | shall be | | | | | | | present | | | | | | | during an | | | | | | | i | | | | | | | ntra-PLMN | | | | | | | N2 | | | | | | | handover, | | | | | | | if this | | | | | | | in | | | | | | | formation | | | | | | | is | | | | | | | available | | | | | | | (see | | | | | | | claus | | | | | | | e 6.7.2.6 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.548 | | | | | | | [58]). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | whether | | | | | | | HR-SBO is | | | | | | | allowed | | | | | | | for the | | | | | | | PDU | | | | | | | session | | | | | | | and it | | | | | | | shall be | | | | | | | set as | | | | | | | follows: | | | | | | | | | | | | | | - true: | | | | | | | HR-SBO is | | | | | | | allowed | | | | | | | | | | | | | | - false: | | | | | | | HR-SBO is | | | | | | | not | | | | | | | allowed | | | | | | | | | | | | | | The | | | | | | | absence | | | | | | | of this | | | | | | | IE shall | | | | | | | not be | | | | | | | in | | | | | | | terpreted | | | | | | | as | | | | | | | meaning | | | | | | | that | | | | | | | HR-SBO is | | | | | | | allowed | | | | | | | or not | | | | | | | allowed. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | During an | | | | | | | i | | | | | | | nter-PLMN | | | | | | | mobility, | | | | | | | the | | | | | | | target | | | | | | | AMF shall | | | | | | | replace | | | | | | | the | | | | | | | apiRoot | | | | | | | of the | | | | | | | smC | | | | | | | ontextRef | | | | | | | with the | | | | | | | interPl | | | | | | | mnApiRoot | | | | | | | if | | | | | | | available | | | | | | | and send | | | | | | | the | | | | | | | resulting | | | | | | | smC | | | | | | | ontextRef | | | | | | | in the | | | | | | | Create SM | | | | | | | Context | | | | | | | request | | | | | | | towards | | | | | | | the | | | | | | | target | | | | | | | V-SMF, | | | | | | | I-SMF or | | | | | | | anchor | | | | | | | SMF. See | | | | | | | 3GPP TS | | | | | | | 29.502 | | | | | | | [16]. | | | | | | | | | | | | | | NOTE 2: | | | | | | | The new | | | | | | | AMF may | | | | | | | use this | | | | | | | IE to | | | | | | | know the | | | | | | | supported | | | | | | | features | | | | | | | of the | | | | | | | H-SMF (or | | | | | | | the SMF | | | | | | | for a PDU | | | | | | | session | | | | | | | with | | | | | | | I-SMF) | | | | | | | and take | | | | | | | action | | | | | | | based on | | | | | | | the | | | | | | | supported | | | | | | | features, | | | | | | | e.g. the | | | | | | | new AMF | | | | | | | shall | | | | | | | release | | | | | | | the PDU | | | | | | | session | | | | | | | when | | | | | | | V-SMF | | | | | | | needs to | | | | | | | be | | | | | | | changed | | | | | | | but the | | | | | | | H-SMF | | | | | | | does not | | | | | | | support | | | | | | | V-SMF | | | | | | | change. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.38 Type: NssaiMapping
Table 6.1.6.2.38-1: Definition of type NssaiMapping
Attribute name Data type P Cardinality Description
* * *
mappedSnssai Snssai M 1 Indicates the mapped S-NSSAI in the serving PLMN
hSnssai Snssai M 1 Indicates the S-NSSAI in home PLMN
##### 6.1.6.2.39 Type: UeRegStatusUpdateReqData
Table 6.1.6.2.39-1: Definition of type UeRegStatusUpdateReqData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | trans | UeCon | M | 1 | This IE | | | ferStatus | textTrans | | | shall | | | | ferStatus | | | indicate | | | | | | | if the | | | | | | | previous | | | | | | | UE | | | | | | | context | | | | | | | transfer | | | | | | | was | | | | | | | c | | | | | | | ompleted. | | +-----------+-----------+---+-----------+-----------+-----------+ | to | a | C | 1..N | This IE | | | ReleaseSe | rray(PduS | | | shall be | | | ssionList | essionId) | | | present | | | | | | | during UE | | | | | | | Context | | | | | | | Transfer | | | | | | | p | | | | | | | rocedure, | | | | | | | if there | | | | | | | are any | | | | | | | PDU | | | | | | | s | | | | | | | ession(s) | | | | | | | a | | | | | | | ssociated | | | | | | | with | | | | | | | Network | | | | | | | Slice(s) | | | | | | | which | | | | | | | become no | | | | | | | longer | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | include | | | | | | | all the | | | | | | | PDU | | | | | | | s | | | | | | | ession(s) | | | | | | | a | | | | | | | ssociated | | | | | | | with no | | | | | | | longer | | | | | | | available | | | | | | | S- | | | | | | | NSSAI(s). | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfRese | boolean | C | 0..1 | This IE | | | lectedInd | | | | shall be | | | | | | | present | | | | | | | and set | | | | | | | to true | | | | | | | if the | | | | | | | target | | | | | | | AMF has | | | | | | | decided | | | | | | | to select | | | | | | | a new PCF | | | | | | | for AM | | | | | | | Policy | | | | | | | and/or UE | | | | | | | Policy | | | | | | | other | | | | | | | than the | | | | | | | one which | | | | | | | was | | | | | | | included | | | | | | | in the | | | | | | | UeContext | | | | | | | by the | | | | | | | old AMF. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | - true: | | | | | | | the | | | | | | | target | | | | | | | AMF has | | | | | | | selected | | | | | | | new | | | | | | | PCF(s) | | | | | | | other | | | | | | | than the | | | | | | | one which | | | | | | | was | | | | | | | included | | | | | | | in the | | | | | | | UeContext | | | | | | | by the | | | | | | | old AMF | | | | | | | for AM | | | | | | | Policy | | | | | | | and/or UE | | | | | | | Policy. | | +-----------+-----------+---+-----------+-----------+-----------+ | smfChang | ar | C | 1..N | This IE | DTSSA | | eInfoList | ray(SmfCh | | | shall be | | | | angeInfo) | | | present | | | | | | | during an | | | | | | | inter-AMF | | | | | | | reg | | | | | | | istration | | | | | | | p | | | | | | | rocedure, | | | | | | | if there | | | | | | | is an | | | | | | | I-SMF or | | | | | | | V-SMF | | | | | | | change or | | | | | | | removal | | | | | | | for the | | | | | | | related | | | | | | | PDU | | | | | | | se | | | | | | | ssion(s). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | I- | | | | | | | SMF/V-SMF | | | | | | | situation | | | | | | | after the | | | | | | | reg | | | | | | | istration | | | | | | | c | | | | | | | ompletion | | | | | | | at the | | | | | | | target | | | | | | | AMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | an | a | C | 1..N | This IE | | | alyticsNo | rray(Uri) | | | shall be | | | tUsedList | | | | present | | | | | | | to | | | | | | | include | | | | | | | the list | | | | | | | of | | | | | | | resource | | | | | | | URIs of | | | | | | | the | | | | | | | analytics | | | | | | | subscr | | | | | | | iption(s) | | | | | | | that are | | | | | | | not taken | | | | | | | over in | | | | | | | the | | | | | | | target | | | | | | | AMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | to | array(R | C | 1..N | This IE | | | ReleaseSe | eleaseSes | | | shall be | | | ssionInfo | sionInfo) | | | present | | | | | | | during UE | | | | | | | Context | | | | | | | Transfer | | | | | | | p | | | | | | | rocedure, | | | | | | | if there | | | | | | | are any | | | | | | | PDU | | | | | | | s | | | | | | | ession(s) | | | | | | | that | | | | | | | cannot be | | | | | | | supported | | | | | | | in the | | | | | | | target | | | | | | | AMF for a | | | | | | | reason | | | | | | | other | | | | | | | than no | | | | | | | longer | | | | | | | available | | | | | | | S | | | | | | | -NSSAI(s) | | | | | | | as | | | | | | | specified | | | | | | | in step 1 | | | | | | | of clause | | | | | | | 5.2 | | | | | | | .2.2.2.1. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | include | | | | | | | list of | | | | | | | the PDU | | | | | | | s | | | | | | | ession(s) | | | | | | | and the | | | | | | | release | | | | | | | cause. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.40 Type: AssignEbiError
Table 6.1.6.2.40-1: Definition of type AssignEbiError
Attribute name Data type P Cardinality Description
* * *
error ProblemDetails M 1 Represents the application error information. The
application level error cause shall be encoded in the \"cause\" attribute.
failureDetails AssignEbiFailed M 1 Describes the details of the failure
including the list of ARPs for which the EBI assignment failed.
##### 6.1.6.2.41 Type: UeContextCreateData
Table 6.1.6.2.41-1: Definition of type UeContextCreateData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | ueContext | UeContext | M | 1 | R | | | | | | | epresents | | | | | | | an | | | | | | | i | | | | | | | ndividual | | | | | | | ueContext | | | | | | | resource | | | | | | | to be | | | | | | | created | | +-----------+-----------+---+-----------+-----------+-----------+ | targetId | NgRa | M | 1 | R | | | | nTargetId | | | epresents | | | | | | | the | | | | | | | ident | | | | | | | ification | | | | | | | of target | | | | | | | RAN | | +-----------+-----------+---+-----------+-----------+-----------+ | sourceToT | N2In | M | 1 | This IE | | | argetData | foContent | | | shall be | | | | | | | included | | | | | | | to | | | | | | | contain | | | | | | | the | | | | | | | \"Source | | | | | | | to Target | | | | | | | Tr | | | | | | | ansparent | | | | | | | Con | | | | | | | tainer\". | | +-----------+-----------+---+-----------+-----------+-----------+ | pduSe | arra | M | 1..N | This IE | | | ssionList | y(N2SmInf | | | shall be | | | | ormation) | | | included | | | | | | | to | | | | | | | contain | | | | | | | the list | | | | | | | of | | | | | | | N2SmInf | | | | | | | ormation, | | | | | | | where | | | | | | | each | | | | | | | N2SmIn | | | | | | | formation | | | | | | | includes | | | | | | | the | | | | | | | \ | | | | | | | "Handover | | | | | | | Required | | | | | | | T | | | | | | | ransfer\" | | | | | | | received | | | | | | | from the | | | | | | | source | | | | | | | RAN per | | | | | | | PDU | | | | | | | session | | | | | | | ID. | | +-----------+-----------+---+-----------+-----------+-----------+ | n2 | Uri | M | 1 | This IE | | | NotifyUri | | | | shall | | | | | | | contain a | | | | | | | callback | | | | | | | URI to | | | | | | | receive | | | | | | | the N2 | | | | | | | In | | | | | | | formation | | | | | | | Noti | | | | | | | fication. | | +-----------+-----------+---+-----------+-----------+-----------+ | ueRadioC | N2In | C | 0..1 | This IE | | | apability | foContent | | | shall be | | | | | | | included | | | | | | | to | | | | | | | contain | | | | | | | the \"UE | | | | | | | Radio | | | | | | | C | | | | | | | apability | | | | | | | Info | | | | | | | rmation\" | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | ueRadioC | N2In | C | 0..1 | This IE | | | apability | foContent | | | shall be | | | ForPaging | | | | included | | | | | | | to | | | | | | | contain | | | | | | | the \"UE | | | | | | | Radio | | | | | | | C | | | | | | | apability | | | | | | | for | | | | | | | Paging\" | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | ngapCause | NgApCause | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | represent | | | | | | | the NGAP | | | | | | | Cause | | | | | | | received | | | | | | | from RAN. | | +-----------+-----------+---+-----------+-----------+-----------+ | supporte | Supporte | C | 0..1 | This IE | | | dFeatures | dFeatures | | | shall be | | | | | | | present | | | | | | | if at | | | | | | | least one | | | | | | | optional | | | | | | | feature | | | | | | | defined | | | | | | | in clause | | | | | | | 6.1.8 is | | | | | | | s | | | | | | | upported. | | +-----------+-----------+---+-----------+-----------+-----------+ | servi | PlmnIdNid | C | 0..1 | A Source | | | ngNetwork | | | | AMF | | | | | | | complying | | | | | | | with this | | | | | | | release | | | | | | | of the | | | | | | | spec | | | | | | | ification | | | | | | | shall | | | | | | | include | | | | | | | this IE | | | | | | | to | | | | | | | indicate | | | | | | | the | | | | | | | current | | | | | | | Serving | | | | | | | Network. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | serving | | | | | | | core | | | | | | | network | | | | | | | operator | | | | | | | PLMN ID | | | | | | | and, for | | | | | | | an SNPN, | | | | | | | the NID | | | | | | | that | | | | | | | together | | | | | | | with the | | | | | | | PLMN ID | | | | | | | i | | | | | | | dentifies | | | | | | | the SNPN. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: The | | | | | | | source | | | | | | | AMF may | | | | | | | decide to | | | | | | | not | | | | | | | include | | | | | | | ueRadioC | | | | | | | apability | | | | | | | and | | | | | | | ueRadioC | | | | | | | apability | | | | | | | ForPaging | | | | | | | if the | | | | | | | target | | | | | | | AMF | | | | | | | supports | | | | | | | the RACS | | | | | | | feature | | | | | | | and if:\ | | | | | | | a. the | | | | | | | Pl | | | | | | | mnAssiUeR | | | | | | | adioCapId | | | | | | | is | | | | | | | included | | | | | | | in the MM | | | | | | | Context | | | | | | | for an | | | | | | | i | | | | | | | ntra-PLMN | | | | | | | AMF | | | | | | | mobility | | | | | | | p | | | | | | | rocedure; | | | | | | | or\ | | | | | | | b. the | | | | | | | M | | | | | | | anAssiUeR | | | | | | | adioCapId | | | | | | | is | | | | | | | included | | | | | | | in the MM | | | | | | | Context | | | | | | | for an | | | | | | | i | | | | | | | ntra-PLMN | | | | | | | or an | | | | | | | i | | | | | | | nter-PLMN | | | | | | | AMF | | | | | | | mobility | | | | | | | p | | | | | | | rocedure. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.42 Type: UeContextCreatedData
Table 6.1.6.2.42-1: Definition of type UeContextCreatedData
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | ueContext | UeContext | M | 1 | Represents | | | | | | the newly | | | | | | created | | | | | | individual | | | | | | ueContext | | | | | | resource | +---------------+---------------+---+-------------+---------------+ | targe | N2InfoContent | M | 1 | This IE shall | | tToSourceData | | | | contain the | | | | | | \"Target to | | | | | | Source | | | | | | Transparent | | | | | | Container\". | +---------------+---------------+---+-------------+---------------+ | p | array(N2S | M | 1..N | This IE shall | | duSessionList | mInformation) | | | be included | | | | | | to contain | | | | | | the list of | | | | | | N2S | | | | | | mInformation, | | | | | | where each | | | | | | N2 | | | | | | SmInformation | | | | | | includes the | | | | | | \"Handover | | | | | | Command | | | | | | Transfer\" | | | | | | received from | | | | | | the SMF, per | | | | | | PDU session | | | | | | ID. | +---------------+---------------+---+-------------+---------------+ | pcf | boolean | C | 0..1 | This IE shall | | ReselectedInd | | | | be present | | | | | | and set to | | | | | | true if the | | | | | | target AMF | | | | | | has decided | | | | | | to select a | | | | | | new PCF for | | | | | | AM Policy | | | | | | and/or UE | | | | | | Policy other | | | | | | than the one | | | | | | which was | | | | | | included in | | | | | | the UeContext | | | | | | by the old | | | | | | AMF. | | | | | | | | | | | | When present, | | | | | | it shall be | | | | | | set as | | | | | | follows: | | | | | | | | | | | | - true: the | | | | | | target AMF | | | | | | has selected | | | | | | a new PCF | | | | | | other than | | | | | | the one which | | | | | | was included | | | | | | in the | | | | | | UeContext by | | | | | | the old AMF | | | | | | for AM Policy | | | | | | and/or UE | | | | | | Policy. | +---------------+---------------+---+-------------+---------------+ | fail | array(N2S | C | 1..N | This IE shall | | edSessionList | mInformation) | | | be included | | | | | | to contain a | | | | | | list of | | | | | | N2S | | | | | | mInformation, | | | | | | where each | | | | | | N2 | | | | | | SmInformation | | | | | | includes the | | | | | | \"Handover | | | | | | Preparation | | | | | | Unsuccessful | | | | | | Transfer\" N2 | | | | | | SM content | | | | | | either | | | | | | received from | | | | | | the SMF for a | | | | | | PDU session | | | | | | failed to be | | | | | | handed over | | | | | | or generated | | | | | | by the target | | | | | | AMF for a PDU | | | | | | session not | | | | | | accepted by | | | | | | the target | | | | | | AMF (e.g. due | | | | | | to no | | | | | | response from | | | | | | the SMF | | | | | | within a | | | | | | maximum wait | | | | | | timer or due | | | | | | to | | | | | | non-available | | | | | | S-NSSAI in | | | | | | the target | | | | | | AMF). See | | | | | | NOTE. | +---------------+---------------+---+-------------+---------------+ | supp | Supp | C | 0..1 | This IE shall | | ortedFeatures | ortedFeatures | | | be present if | | | | | | at least one | | | | | | optional | | | | | | feature | | | | | | defined in | | | | | | clause 6.1.8 | | | | | | is supported. | +---------------+---------------+---+-------------+---------------+ | analyti | array(Uri) | C | 1..N | This IE shall | | csNotUsedList | | | | be present to | | | | | | include the | | | | | | list of | | | | | | resource URIs | | | | | | of the | | | | | | analytics | | | | | | su | | | | | | bscription(s) | | | | | | that are not | | | | | | taken over in | | | | | | the target | | | | | | AMF. | +---------------+---------------+---+-------------+---------------+ | NOTE: As an | | | | | | exception, | | | | | | the AMF | | | | | | generates N2 | | | | | | SM | | | | | | Information | | | | | | (Handover | | | | | | Preparation | | | | | | Unsuccessful | | | | | | Transfer IE) | | | | | | for a PDU | | | | | | session not | | | | | | accepted by | | | | | | the AMF, | | | | | | since this N2 | | | | | | SM IE needs | | | | | | to be | | | | | | included in | | | | | | the Handover | | | | | | Command sent | | | | | | by the source | | | | | | AMF to the | | | | | | source | | | | | | NG-RAN; this | | | | | | N2 SM IE | | | | | | carries a | | | | | | Cause value. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.43 Type: UeContextCreateError
Table 6.1.6.2.43-1: Definition of type UeContextCreateError
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | error | Probl | M | 1 | R | | | | emDetails | | | epresents | | | | | | | the | | | | | | | detailed | | | | | | | ap | | | | | | | plication | | | | | | | error | | | | | | | inf | | | | | | | ormation. | | | | | | | The | | | | | | | ap | | | | | | | plication | | | | | | | level | | | | | | | error | | | | | | | cause | | | | | | | shall be | | | | | | | encoded | | | | | | | in the | | | | | | | \"cause\" | | | | | | | a | | | | | | | ttribute. | | +-----------+-----------+---+-----------+-----------+-----------+ | ngapCause | NgApCause | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | represent | | | | | | | the NGAP | | | | | | | Cause | | | | | | | received | | | | | | | from RAN. | | +-----------+-----------+---+-----------+-----------+-----------+ | targetT | N2In | C | 0..1 | This IE | NPN | | oSourceFa | foContent | | | shall be | | | ilureData | | | | present | | | | | | | if a | | | | | | | \"Target | | | | | | | to Source | | | | | | | Failure | | | | | | | Tr | | | | | | | ansparent | | | | | | | Co | | | | | | | ntainer\" | | | | | | | has been | | | | | | | received | | | | | | | from the | | | | | | | target | | | | | | | NG-RAN. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | this | | | | | | | c | | | | | | | ontainer. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.1.6.2.44 Type: NgRanTargetId
Table 6.1.6.2.44-1: Definition of type NgRanTargetId
Attribute name Data type P Cardinality Description
* * *
ranNodeId GlobalRanNodeId M 1 Indicates the identity of the RAN node. The IE
shall contain either the gNB ID or the NG-eNB ID. tai Tai M 1 Indicates the
selected TAI.
##### 6.1.6.2.45 Type: N2InformationTransferError
Table 6.1.6.2.45-1: Definition of type N2InformationTransferError
Attribute name Data type P Cardinality Description
* * *
error ProblemDetails M 1 More information on the error shall be provided in
the \"cause\" attribute of the \"ProblemDetails\" structure. pwsErrorInfo
PWSErrorData C 0..1 This IE shall be present if the n2InformationClass is
\"PWS\" in N2InformationTransferReqData.
##### 6.1.6.2.46 Type: PWSResponseData
Table 6.1.6.2.46-1: Definition of type PWSResponseData
+----------------+------------+---+-------------+----------------+ | Attribute name | Data type | P | Cardinality | Description | +================+============+===+=============+================+ | n | Uinteger | M | 1 | This IE shall | | gapMessageType | | | | identify the | | | | | | message type | | | | | | of the message | | | | | | being sent. | | | | | | Its value is | | | | | | the numeric | | | | | | code of the | | | | | | Procedure Code | | | | | | defined in | | | | | | ASN.1 in | | | | | | clause 9.4.7 | | | | | | in | | | | | | 3GPP TS | | | | | | 38.413 [12]. | +----------------+------------+---+-------------+----------------+ | serialNumber | Uint16 | M | 1 | This IE shall | | | | | | contain the | | | | | | Serial Number | | | | | | of the | | | | | | associated PWS | | | | | | response | | | | | | message. | +----------------+------------+---+-------------+----------------+ | mes | integer | M | 1 | This IE shall | | sageIdentifier | | | | contain the | | | | | | Message | | | | | | Identifier of | | | | | | the associated | | | | | | PWS response | | | | | | message. | +----------------+------------+---+-------------+----------------+ | unknownTAIList | array(Tai) | O | 1..N | This IE shall | | | | | | contain the | | | | | | Unknown | | | | | | Tracking Area | | | | | | List which may | | | | | | be present in | | | | | | the associated | | | | | | PWS response | | | | | | message. | +----------------+------------+---+-------------+----------------+ | n | boolean | C | 0..1 | This IE should | | 2PwsSubMissInd | | | | be present | | | | | | when | | | | | | s | | | | | | endRanResponse | | | | | | IE with the | | | | | | value true is | | | | | | included in | | | | | | the request, | | | | | | i.e. the RAN | | | | | | responses are | | | | | | expected to be | | | | | | notified to | | | | | | the NF service | | | | | | consumer (i.e. | | | | | | the sender | | | | | | CBCF or | | | | | | PWS-IWF), and | | | | | | the | | | | | | corresponding | | | | | | N2 information | | | | | | subscription | | | | | | subscription | | | | | | is not | | | | | | available in | | | | | | the AMF. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | be set as | | | | | | following: | | | | | | | | | | | | > \- true: | | | | | | > | | | | | | Corresponding | | | | | | > N2 | | | | | | > information | | | | | | > subscription | | | | | | > to receive | | | | | | > the | | | | | | > requested | | | | | | > RAN | | | | | | > responses is | | | | | | > missing in | | | | | | > the AMF. | +----------------+------------+---+-------------+----------------+
##### 6.1.6.2.47 Type: PWSErrorData
Table 6.1.6.2.47-1: Definition of type PWSErrorData
+----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +================+===========+===+=============+=================+ | namfCause | integer | M | 1 | Represents the | | | | | | cause value for | | | | | | the error that | | | | | | the AMF | | | | | | detected. | | | | | | | | | | | | Cause values: | | | | | | | | | | | | 0 - Message | | | | | | accepted | | | | | | | | | | | | 1 - Parameter | | | | | | not recognised | | | | | | | | | | | | 2 - Parameter | | | | | | value invalid | | | | | | | | | | | | 3 - Valid | | | | | | message not | | | | | | identified | | | | | | | | | | | | 4 - Tracking | | | | | | area not valid | | | | | | | | | | | | 5 - | | | | | | Unrecognised | | | | | | message | | | | | | | | | | | | 6 - Missing | | | | | | mandatory | | | | | | element | | | | | | | | | | | | 7 - AMF | | | | | | capacity | | | | | | exceeded | | | | | | | | | | | | 8 - AMF memory | | | | | | exceeded | | | | | | | | | | | | 9 - Warning | | | | | | broadcast not | | | | | | supported | | | | | | | | | | | | 10 - Warning | | | | | | broadcast not | | | | | | operational | | | | | | | | | | | | 11 - Message | | | | | | reference | | | | | | already used | | | | | | | | | | | | 12 - | | | | | | Unspecified | | | | | | error | | | | | | | | | | | | 13 - Transfer | | | | | | syntax error | | | | | | | | | | | | 14 - Semantic | | | | | | error | | | | | | | | | | | | 15 - Message | | | | | | not compatible | | | | | | with receiver | | | | | | state | +----------------+-----------+---+-------------+-----------------+
##### 6.1.6.2.48 Void
##### 6.1.6.2.49 Type: NgKsi
Table 6.1.6.2.49-1: Definition of type NgKsi
Attribute name Data type P Cardinality Description
* * *
tsc ScType M 1 Indicates whether the security context type is native or
mapped. ksi integer M 1 Indicates the key set identifier value. The value is
within the range 0 to 6.
##### 6.1.6.2.50 Type: KeyAmf
Table 6.1.6.2.50-1: Definition of type KeyAmf
+----------------+------------+---+-------------+----------------+ | Attribute name | Data type | P | Cardinality | Description | +================+============+===+=============+================+ | keyType | KeyAmfType | M | 1 | Indicates | | | | | | whether the | | | | | | keyAmf | | | | | | represents | | | | | | K~amf~ or | | | | | | K\'~amf.~ | +----------------+------------+---+-------------+----------------+ | keyVal | string | M | 1 | Indicates the | | | | | | key value. The | | | | | | key value is | | | | | | encoded as a | | | | | | string of | | | | | | hexadecimal | | | | | | characters. | | | | | | | | | | | | Pattern: | | | | | | \'\^[A | | | | | | -Fa-f0-9]\$\' | +----------------+------------+---+-------------+----------------+
##### 6.1.6.2.51 Type: ExpectedUeBehavior
Table 6.1.6.2.25-1: Definition of type ExpectedUeBehavior
Attribute name Data type P Cardinality Description
* * *
expMoveTrajectory array(UserLocation) M 1..N This IE shall contain a list of
user location areas where the UE is expected to move. validityTime DateTime M
1 This IE shall contain the UTC time upto which the UE moving trajectory is
valid.
##### 6.1.6.2.52 Type: UeRegStatusUpdateRspData
Table 6.1.6.2.52-1: Definition of type UeRegStatusUpdateRspData
+-----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +=================+===========+===+=============+=================+ | regStatusT | boolean | M | 1 | This IE shall | | ransferComplete | | | | indicate if the | | | | | | status update | | | | | | of UE context | | | | | | transfer is | | | | | | completed | | | | | | successfully at | | | | | | the source AMF | | | | | | or not. | | | | | | | | | | | | The value shall | | | | | | be set to true | | | | | | if the context | | | | | | transfer is | | | | | | completed | | | | | | successfully | | | | | | and false if | | | | | | the context | | | | | | transfer did | | | | | | not complete | | | | | | successfully. | +-----------------+-----------+---+-------------+-----------------+
##### 6.1.6.2.53 Type: N2RanInformation
Table 6.1.6.2.53-1: Definition of type N2RanInformation
Attribute name Data type P Cardinality Description
* * *
n2InfoContent N2InfoContent M 1 This IE shall contain the N2 RAN information
to transfer.
##### 6.1.6.2.54 Type: N2InfoNotificationRspData
Table 6.1.6.2.54-1: Definition of type N2InfoNotificationRspData
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | secRat | array(N2S | C | 1..N | This IE shall | | DataUsageList | mInformation) | | | be present in | | | | | | the | | | | | | N2InfoNotify | | | | | | response sent | | | | | | by the source | | | | | | AMF to the | | | | | | target AMF | | | | | | during an | | | | | | | | | | | | Inter NG-RAN | | | | | | node N2 based | | | | | | handover | | | | | | procedure | | | | | | (see clause | | | | | | 5.2.2.3.6.2), | | | | | | if Secondary | | | | | | Rat Usage | | | | | | Data are | | | | | | available at | | | | | | the source | | | | | | AMF for one | | | | | | or more PDU | | | | | | sessions. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | contain a | | | | | | list of | | | | | | N2S | | | | | | mInformation, | | | | | | where each | | | | | | N2 | | | | | | SmInformation | | | | | | includes the | | | | | | \"Secondary | | | | | | RAT Data | | | | | | Usage Report | | | | | | Transfer\" | | | | | | information | | | | | | received from | | | | | | the source | | | | | | RAN for a | | | | | | given PDU | | | | | | session. | | | | | | | | | | | | The sNssai IE | | | | | | and | | | | | | subjectToHo | | | | | | IE shall not | | | | | | be included | | | | | | in | | | | | | N2S | | | | | | mInformation. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.55 Type: SmallDataRateStatusInfo
Table 6.1.6.2.55-1: Definition of type SmallDataRateStatusInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | singleNssai | Snssai | M | 1 | S-NSSAI | +---------------+---------------+---+-------------+---------------+ | dnn | Dnn | M | 1 | This IE shall | | | | | | indicate the | | | | | | Data Network | | | | | | Name. | | | | | | | | | | | | The DNN shall | | | | | | be the full | | | | | | DNN (i.e. | | | | | | with both the | | | | | | Network | | | | | | Identifier | | | | | | and Operator | | | | | | Identifier) | | | | | | for a HR PDU | | | | | | session, and | | | | | | it should be | | | | | | the full DNN | | | | | | in LBO and | | | | | | non-roaming | | | | | | scenarios. If | | | | | | the Operator | | | | | | Identifier is | | | | | | absent, the | | | | | | serving core | | | | | | network | | | | | | operator | | | | | | shall be | | | | | | assumed. | +---------------+---------------+---+-------------+---------------+ | smallD | SmallD | M | 1 | Small data | | ataRateStatus | ataRateStatus | | | rate status | | | | | | related to | | | | | | the S-NSSAI | | | | | | and Dnn. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.56 Type: SmfChangeInfo
Table 6.1.6.2.56-1: Definition of type SmfChangeInfo
Attribute name Data type P Cardinality Description
* * *
pduSessionIdList array(PduSessionId) M 1..N PDU Session ID(s) for which the
smfChangeInd applies. smfChangeInd SmfChangeIndication M 1 Indicates the I-SMF
or V-SMF change or removal.
##### 6.1.6.2.57 Type: V2xContext
Table 6.1.6.2.57-1: Definition of type V2xContext
+----------------+------------+---+-------------+----------------+ | Attribute name | Data type | P | Cardinality | Description | +================+============+===+=============+================+ | nrV | NrV2xAuth | C | 0..1 | This IE shall | | 2xServicesAuth | | | | be present if | | | | | | the UE is | | | | | | authorized to | | | | | | use the NR | | | | | | sidelink for | | | | | | V2X services. | +----------------+------------+---+-------------+----------------+ | lteV | LteV2xAuth | C | 0..1 | This IE shall | | 2xServicesAuth | | | | be present if | | | | | | the UE is | | | | | | authorized to | | | | | | use the LTE | | | | | | sidelink for | | | | | | V2X services. | +----------------+------------+---+-------------+----------------+ | nr | BitRate | C | 0..1 | This IE shall | | UeSidelinkAmbr | | | | be present if | | | | | | the UE is | | | | | | authorized for | | | | | | NR V2X | | | | | | services. | | | | | | | | | | | | When present, | | | | | | this IE | | | | | | contains | | | | | | subscription | | | | | | data on | | | | | | UE-PC5-AMBR | | | | | | for NR V2X | | | | | | services. | +----------------+------------+---+-------------+----------------+ | lte | BitRate | C | 0..1 | This IE shall | | UeSidelinkAmbr | | | | be present if | | | | | | the UE is | | | | | | authorized for | | | | | | LTE V2X | | | | | | services. | | | | | | | | | | | | When present, | | | | | | this IE | | | | | | contains | | | | | | subscription | | | | | | data on | | | | | | UE-PC5-AMBR | | | | | | for LTE V2X | | | | | | services. | +----------------+------------+---+-------------+----------------+ | pc5QoSPara | Pc5QoSPara | C | 0..1 | This IE shall | | | | | | be present if | | | | | | the UE is | | | | | | authorized for | | | | | | NR V2X | | | | | | services. | | | | | | | | | | | | When present, | | | | | | this IE | | | | | | contains | | | | | | policy data on | | | | | | the PC5 QoS | | | | | | parameters. | +----------------+------------+---+-------------+----------------+
##### 6.1.6.2.58 Type: ImmediateMdtConf
Table 6.1.6.2.58-1: Definition of type ImmediateMdtConf
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | jobType | JobType | M | 1 | This IE shall | | | | | | indicate the | | | | | | Job type for | | | | | | MDT, see | | | | | | 3GPP TS 3 | | | | | | 2.422 [30]. | +---------------+---------------+---+-------------+---------------+ | measu | a | C | 1..N | This IE shall | | rementLteList | rray(Measurem | | | be present if | | | entLteForMdt) | | | available. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | contain a | | | | | | list of the | | | | | | measurements | | | | | | that shall be | | | | | | collected for | | | | | | LTE. | +---------------+---------------+---+-------------+---------------+ | meas | array(Measure | C | 1..N | This IE shall | | urementNrList | mentNrForMdt) | | | be present if | | | | | | available, | | | | | | when present, | | | | | | this IE shall | | | | | | contain a | | | | | | list of the | | | | | | measurements | | | | | | that shall be | | | | | | collected for | | | | | | NR. | +---------------+---------------+---+-------------+---------------+ | reporti | array(Repo | C | 1..N | This IE shall | | ngTriggerList | rtingTrigger) | | | be present if | | | | | | available. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | contain a | | | | | | list of the | | | | | | reporting | | | | | | triggers. | +---------------+---------------+---+-------------+---------------+ | r | Repo | C | 0..1 | This IE shall | | eportInterval | rtIntervalMdt | | | be present if | | | | | | available. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | interval | | | | | | between the | | | | | | periodical | | | | | | measurements | | | | | | to be taken | | | | | | when UE is in | | | | | | connected in | | | | | | LTE. | +---------------+---------------+---+-------------+---------------+ | rep | Report | C | 0..1 | This IE shall | | ortIntervalNr | IntervalNrMdt | | | be present if | | | | | | available. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | interval | | | | | | between the | | | | | | periodical | | | | | | measurements | | | | | | to be taken | | | | | | when UE is in | | | | | | connected in | | | | | | NR. | +---------------+---------------+---+-------------+---------------+ | reportAmount | Re | C | 0..1 | This IE shall | | | portAmountMdt | | | be present if | | | | | | available. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | number of | | | | | | measurement | | | | | | reports that | | | | | | shall be | | | | | | taken for | | | | | | periodical | | | | | | reporting | | | | | | while UE is | | | | | | in connected. | +---------------+---------------+---+-------------+---------------+ | event | integer | C | 0..1 | This IE shall | | ThresholdRsrp | | | | be present if | | | | | | available. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | Event | | | | | | Threshold for | | | | | | RSRP. | | | | | | | | | | | | Minimum = 0. | | | | | | Maximum = 97. | +---------------+---------------+---+-------------+---------------+ | event | integer | C | 0..1 | This IE shall | | ThresholdRsrq | | | | be present if | | | | | | available. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | Event | | | | | | Threshold for | | | | | | RSRQ. | | | | | | | | | | | | Minimum = 0. | | | | | | Maximum = 34. | +---------------+---------------+---+-------------+---------------+ | eventTh | integer | C | 0..1 | This IE shall | | resholdRsrpNr | | | | be present if | | | | | | available. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | Event | | | | | | Threshold for | | | | | | RSRP in NR. | | | | | | | | | | | | Minimum = 0. | | | | | | Maximum = | | | | | | 127. | +---------------+---------------+---+-------------+---------------+ | eventTh | integer | C | 0..1 | This IE shall | | resholdRsrqNr | | | | be present if | | | | | | available. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | Event | | | | | | Threshold for | | | | | | RSRQ in NR. | | | | | | | | | | | | Minimum = 0. | | | | | | Maximum = | | | | | | 127. | +---------------+---------------+---+-------------+---------------+ | collectio | CollectionPe | C | 0..1 | This IE shall | | nPeriodRmmLte | riodRmmLteMdt | | | be present if | | | | | | available. | | | | | | | | | | | | When present, | | | | | | it shall | | | | | | contain the | | | | | | collection | | | | | | period that | | | | | | should be | | | | | | used to | | | | | | collect | | | | | | available | | | | | | measurement | | | | | | samples in | | | | | | case of RRM | | | | | | configured | | | | | | measurements. | +---------------+---------------+---+-------------+---------------+ | collecti | CollectionP | C | 0..1 | This IE shall | | onPeriodRmmNr | eriodRmmNrMdt | | | be present if | | | | | | available. | | | | | | | | | | | | When present, | | | | | | it shall | | | | | | contain the | | | | | | collection | | | | | | period that | | | | | | should be | | | | | | used to | | | | | | collect | | | | | | available | | | | | | measurement | | | | | | samples in | | | | | | case of RRM | | | | | | configured | | | | | | measurements | | | | | | when UE is in | | | | | | NR. | +---------------+---------------+---+-------------+---------------+ | measure | Measuremen | C | 0..1 | This IE shall | | mentPeriodLte | tPeriodLteMdt | | | be present if | | | | | | available. | | | | | | | | | | | | When present, | | | | | | it shall | | | | | | contain the | | | | | | measurement | | | | | | period that | | | | | | should be | | | | | | used for the | | | | | | Data Volume | | | | | | and Scheduled | | | | | | IP Throughput | | | | | | measurements | | | | | | in LTE. | +---------------+---------------+---+-------------+---------------+ | areaScope | AreaScope | O | 0..1 | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | area in Cells | | | | | | or Tracking | | | | | | Areas where | | | | | | the MDT data | | | | | | collection | | | | | | shall take | | | | | | place, see | | | | | | 3GPP TS 3 | | | | | | 2.422 [30]. | +---------------+---------------+---+-------------+---------------+ | posi | Positio | O | 0..1 | When present, | | tioningMethod | ningMethodMdt | | | it shall | | | | | | indicate the | | | | | | positioning | | | | | | method that | | | | | | shall be used | | | | | | for the MDT | | | | | | job in LTE. | +---------------+---------------+---+-------------+---------------+ | addPosition | a | O | 1..N | This IE may | | ingMethodList | rray(Position | | | be present if | | | ingMethodMdt) | | | posi | | | | | | tioningMethod | | | | | | IE is | | | | | | present. | | | | | | | | | | | | When present, | | | | | | it shall | | | | | | indicate a | | | | | | list of the | | | | | | additional | | | | | | positioning | | | | | | methods that | | | | | | shall be used | | | | | | for the MDT | | | | | | job | +---------------+---------------+---+-------------+---------------+ | mdtAllo | array(PlmnId) | O | 1..16 | When present, | | wedPlmnIdList | | | | this IE shall | | | | | | contain the | | | | | | PLMNs related | | | | | | to MDT. | +---------------+---------------+---+-------------+---------------+ | sensorMe | array(Senso | C | 1..N | This IE shall | | asurementList | rMeasurement) | | | be present if | | | | | | available. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | include a | | | | | | list the | | | | | | sensor | | | | | | measurements | | | | | | to be | | | | | | collected for | | | | | | UE in NR if | | | | | | they are | | | | | | available. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.59 Type: V2xInformation
Table 6.1.6.2.59-1: Definition of type V2xInformation
Attribute name Data type P Cardinality Description
* * *
n2Pc5Pol N2InfoContent C 0..1 This IE shall be present if N2 PC5 policy should
be transferred. When present, the IE contains the NGAP V2X related IEs
specified in clause 9.3.1.150 of 3GPP TS 38.413 [12].
##### 6.1.6.2.60 Type: EpsNasSecurityMode
Table 6.1.6.2.60-1: Definition of type EpsNasSecurityMode
Attribute name Data type P Cardinality Description
* * *
integrityAlgorithm EpsNasIntegrityAlgorithm M 1 Indicates the integrity
protection algorithm for EPS NAS cipheringAlgorithm EpsNasCipheringAlgorithm M
1 Indicates the ciphering algorithm for EPS NAS.
##### 6.1.6.2.61 Type: UeContextRelocateData
Table 6.1.6.2.61-1: Definition of type UeContextRelocateData
Attribute name Data type P Cardinality Description Applicability
* * *
ueContext UeContext M 1 Represents an individual ueContext resource to be
relocated.  
targetId NgRanTargetId M 1 Represents the identification of target RAN  
sourceToTargetData N2InfoContent M 1 This IE shall be included to contain the
\"Source to Target Transparent Container\".  
forwardRelocationRequest RefToBinaryData M 1 This IE shall be present, and it
shall contain the reference to the binary data carrying the Forward Relocation
Request message (see clause 6.1.6.4).  
pduSessionList array(N2SmInformation) C 1..N This IE shall contain the list of
N2SmInformation, where each N2SmInformation includes a PDU Session Resource
Setup Request Transfer IE (see clause 9.3.4.1 of 3GPP TS 38.413 [24]) received
from the SMF(s) per PDU session ID.  
ueRadioCapability N2InfoContent C 0..1 This IE shall be included to contain
the \"UE Radio Capability Information\" if available.  
ngapCause NgApCause C 0..1 This IE shall be present, if available. When
present, it shall represent the NGAP Cause mapped from the received S1-AP
cause from the source E-UTRAN. Refer to 3GPP TS 29.010 [50] for the mapping of
cause values between S1AP and NGAP.  
supportedFeatures SupportedFeatures C 0..1 This IE shall be present if at
least one optional feature defined in clause 6.1.8 is supported.
##### 6.1.6.2.62 Type: UeContextRelocatedData
Table 6.1.6.2.62-1: Definition of type UeContextRelocatedData
Attribute name Data type P Cardinality Description
* * *
ueContext UeContext M 1 Represents an individual ueContext resource relocated
to a new AMF.
##### 6.1.6.2.63 Void
##### 6.1.6.2.64 Type: EcRestrictionDataWb
Table 6.1.6.2.64-1: Definition of type EcRestrictionData
+-----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +=================+===========+===+=============+=================+ | ec | boolean | O | 0..1 | If present, | | ModeARestricted | | | | indicates | | | | | | whether | | | | | | Enhanced | | | | | | Coverage Mode A | | | | | | is restricted | | | | | | or not. | | | | | | | | | | | | true: Enhanced | | | | | | Coverage Mode A | | | | | | is restricted. | | | | | | | | | | | | false or | | | | | | absent: | | | | | | Enhanced | | | | | | Coverage Mode A | | | | | | is not | | | | | | restricted. | +-----------------+-----------+---+-------------+-----------------+ | ec | boolean | M | 1 | This IE | | ModeBRestricted | | | | indicates | | | | | | whether | | | | | | Enhanced | | | | | | Coverage Mode B | | | | | | is restricted | | | | | | or not. | | | | | | | | | | | | true: Enhanced | | | | | | Coverage Mode B | | | | | | is restricted. | | | | | | | | | | | | false: Enhanced | | | | | | Coverage Mode B | | | | | | is not | | | | | | restricted. | +-----------------+-----------+---+-------------+-----------------+
##### 6.1.6.2.65 Type: ExtAmfEventSubscription
Table 6.1.6.2.65-1: Definition of type ExtAmfEventSubscription as a list of to
be combined data types
Data type Cardinality Description Applicability
* * *
AmfEventSubscription 1 AMF event subscription  
AmfEventSubscriptionAddInfo 1 Additional information for the AMF event
subscription, e.g. Binding Indications, NF type of the NF that created the
subscription.
##### 6.1.6.2.66 Type: AmfEventSubscriptionAddInfo
Table 6.1.6.2.66-1: Definition of type AmfEventSubscriptionAddInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | bindingInfo | array(string) | O | 1..2 | Binding | | | | | | indications | | | | | | received for | | | | | | event | | | | | | notifications | | | | | | (i.e. with | | | | | | \"callback\" | | | | | | scope) or for | | | | | | subscription | | | | | | change event | | | | | | notifications | | | | | | (i.e. with | | | | | | \"subscrip | | | | | | tion-events\" | | | | | | scope) for an | | | | | | AMF event | | | | | | subscription. | | | | | | | | | | | | When present, | | | | | | entries of | | | | | | the array | | | | | | shall be set | | | | | | to the value | | | | | | of the | | | | | | 3gp | | | | | | p-Sbi-Binding | | | | | | header | | | | | | defined in | | | | | | cla | | | | | | use 5.2.3.2.6 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4], | | | | | | without the | | | | | | header name. | | | | | | | | | | | | Example of an | | | | | | array entry: | | | | | | \"bl= nf-set; | | | | | | nfset=set1 | | | | | | .udmset.5gc.m | | | | | | nc012.mcc345; | | | | | | servn | | | | | | ame=nudm-ee;s | | | | | | cope=subscrip | | | | | | tion-events\" | +---------------+---------------+---+-------------+---------------+ | subs | NFType | C | 0..1 | This IE | | cribingNfType | | | | should be | | | | | | present if | | | | | | the | | | | | | information | | | | | | is available. | | | | | | When present, | | | | | | it shall | | | | | | contain the | | | | | | NF type of | | | | | | the NF that | | | | | | created the | | | | | | subscription. | | | | | | | | | | | | (NOTE X) | +---------------+---------------+---+-------------+---------------+ | eventSyncInd | boolean | C | 0..1 | This IE | | | | | | should be | | | | | | present with | | | | | | value | | | | | | \"true\" when | | | | | | the event | | | | | | subscription | | | | | | shall be | | | | | | synchronized | | | | | | with UDM | | | | | | during EPS to | | | | | | 5GS mobility | | | | | | registration | | | | | | procedure, as | | | | | | specified in | | | | | | clau | | | | | | se 5.3.2.4.2. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | be set as | | | | | | following: | | | | | | | | | | | | - true: the | | | | | | event | | | | | | subscription | | | | | | shall be | | | | | | synchronized | | | | | | with UDM. | | | | | | | | | | | | - false: the | | | | | | event | | | | | | subscription | | | | | | shall not be | | | | | | synchronized | | | | | | with UDM. | +---------------+---------------+---+-------------+---------------+ | n | array(string) | C | 1..N | When present, | | fConsumerInfo | | | | this IE shall | | | | | | contain the | | | | | | NF Service | | | | | | Consumer | | | | | | information | | | | | | received | | | | | | together with | | | | | | the AMF event | | | | | | subscription | | | | | | and entries | | | | | | of the array | | | | | | shall be set | | | | | | to the value | | | | | | of the | | | | | | 3gpp-Sbi- | | | | | | Consumer-Info | | | | | | header | | | | | | defined in | | | | | | cla | | | | | | use 5.2.3.3.7 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4], | | | | | | without the | | | | | | header name. | +---------------+---------------+---+-------------+---------------+ | aoiStateList | map | O | 1..N | Map of | | | (AreaOfIntere | | | subscribed | | | stEventState) | | | Area of | | | | | | Interest | | | | | | (AoI) Event | | | | | | State in the | | | | | | old AMF. | | | | | | | | | | | | For the | | | | | | subscribed | | | | | | AoI Event(s), | | | | | | the JSON | | | | | | pointer to an | | | | | | AmfEventArea | | | | | | element in | | | | | | the areaList | | | | | | IE (or a | | | | | | PresenceInfo | | | | | | element in | | | | | | pre | | | | | | senceInfoList | | | | | | IE) of the | | | | | | AmfEvent data | | | | | | type (see | | | | | | clau | | | | | | se 6.2.6.2.3) | | | | | | shall be the | | | | | | key of the | | | | | | map. | | | | | | | | | | | | (NOTE 2) | +---------------+---------------+---+-------------+---------------+ | accessToken | string | O | 0..1 | See 3GPP TS | | | | | | 33.501 [27] | | | | | | clause | | | | | | 13.4.1.4 for | | | | | | the use of | | | | | | this IE. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | contain JWS | | | | | | Compact | | | | | | Serialized | | | | | | r | | | | | | epresentation | | | | | | of the JWS | | | | | | signed JSON | | | | | | object | | | | | | containing | | | | | | Acce | | | | | | ssTokenClaims | | | | | | (see clause | | | | | | 6.3.5.2.4 of | | | | | | 3GPP TS | | | | | | 29.510 | | | | | | [29]) that | | | | | | was received | | | | | | by the source | | | | | | AMF for | | | | | | authorizing | | | | | | the | | | | | | subscription. | +---------------+---------------+---+-------------+---------------+ | NOTE 1: In | | | | | | scenarios | | | | | | where an | | | | | | \ | | | | | | "intermediate | | | | | | NF\" (e.g. | | | | | | UDM) creates | | | | | | a | | | | | | subscription | | | | | | on behalf of | | | | | | a \"source | | | | | | NF\" (e.g. | | | | | | NEF), this IE | | | | | | shall contain | | | | | | the NF type | | | | | | of the | | | | | | \ | | | | | | "intermediate | | | | | | NF\". The NF | | | | | | type of the | | | | | | \"source NF\" | | | | | | may be | | | | | | available in | | | | | | the | | | | | | AmfEvent | | | | | | Subscription. | | | | | | | | | | | | NOTE 2: The | | | | | | new AMF may | | | | | | use the | | | | | | information | | | | | | to determine | | | | | | whether the | | | | | | UE presence | | | | | | state in the | | | | | | AOI(s) has | | | | | | changed, thus | | | | | | should be | | | | | | reported to | | | | | | the NF | | | | | | consumer. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.67 Type: UeContextCancelRelocateData
Table 6.1.6.2.67-1: Definition of type UeContextCancelRelocateData
Attribute name Data type P Cardinality Description
* * *
supi Supi C 0..1 This IE shall be present if the UE is emergency registered
and the SUPI is not authenticated. relocationCancelRequest RefToBinaryData M 1
This IE shall be present, and it shall contain the reference to the binary
data carrying the GTP-C Relocation Cancel Request message (see clause
6.1.6.4).
##### 6.1.6.2.68 Type: UeDifferentiationInfo
Table 6.1.6.2.68-1: Definition of type UeDifferentiationInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | p | Peri | O | 0..1 | This IE | | eriodicComInd | odicCommunica | | | indicates | | | tionIndicator | | | whether the | | | | | | UE | | | | | | communicates | | | | | | periodically | | | | | | or not, e.g. | | | | | | only on | | | | | | demand. | +---------------+---------------+---+-------------+---------------+ | periodicTime | DurationSec | O | 0..1 | This IE | | | | | | indicates the | | | | | | interval time | | | | | | of periodic | | | | | | communication | | | | | | (see | | | | | | TS | | | | | | 23.502 [3] | | | | | | clause | | | | | | 4.15.6.3). | +---------------+---------------+---+-------------+---------------+ | sch | ScheduledComm | O | 0..1 | This IE | | eduledComTime | unicationTime | | | indicates | | | | | | time and day | | | | | | of the week | | | | | | when the UE | | | | | | is available | | | | | | for | | | | | | communication | | | | | | (see | | | | | | TS | | | | | | 23.502 [3] | | | | | | clause | | | | | | 4.15.6.3). | +---------------+---------------+---+-------------+---------------+ | stationaryInd | Station | O | 0..1 | This IE | | | aryIndication | | | indicates | | | | | | whether the | | | | | | UE is | | | | | | stationary or | | | | | | mobile (see | | | | | | TS | | | | | | 23.502 [3] | | | | | | clause | | | | | | 4.15.6.3). | +---------------+---------------+---+-------------+---------------+ | t | T | O | 0..1 | This IE | | rafficProfile | rafficProfile | | | indicates the | | | | | | type of data | | | | | | transmission: | | | | | | single packet | | | | | | transmission | | | | | | (UL or DL), | | | | | | dual packet | | | | | | transmission | | | | | | (UL with | | | | | | subsequent DL | | | | | | or DL with | | | | | | subsequent | | | | | | UL), multiple | | | | | | packets | | | | | | transmission | +---------------+---------------+---+-------------+---------------+ | batteryInd | Batt | O | 0..1 | This IE | | | eryIndication | | | indicates the | | | | | | power | | | | | | consumption | | | | | | type(s) of | | | | | | the UE (see | | | | | | TS | | | | | | 23.502 [3] | | | | | | clause | | | | | | 4.15.6.3). | +---------------+---------------+---+-------------+---------------+ | validityTime | DateTime | O | 0..1 | When present, | | | | | | this IE | | | | | | identifies | | | | | | the UTC time | | | | | | when the | | | | | | expected UE | | | | | | behaviour | | | | | | parameters | | | | | | expire and | | | | | | shall be | | | | | | deleted | | | | | | locally if it | | | | | | expire (see | | | | | | TS | | | | | | 23.502 [3] | | | | | | clause | | | | | | 4.15.6.3). | | | | | | | | | | | | When absent, | | | | | | no expiry for | | | | | | the expected | | | | | | UE behaviour | | | | | | parameters | | | | | | applies. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.69 Type: CeModeBInd
Table 6.1.6.2.69-1: Definition of type CeModeBInd
+-----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +=================+===========+===+=============+=================+ | ce | boolean | M | 1 | This IE shall | | ModeBSupportInd | | | | contain the | | | | | | CE-mode-B | | | | | | Support | | | | | | Indicator (See | | | | | | 3GPP TS | | | | | | 38.413 [12], | | | | | | cla | | | | | | use 9.3.1.156). | | | | | | | | | | | | This IE shall | | | | | | be set as | | | | | | follows: | | | | | | | | | | | | > \- true: | | | | | | > CE-mode-B is | | | | | | > supported; | | | | | | > | | | | | | > \- false: | | | | | | > CE-mode-B is | | | | | | > not | | | | | | > supported. | +-----------------+-----------+---+-------------+-----------------+
##### 6.1.6.2.70 Type: LteMInd
Table 6.1.6.2.70-1: Definition of type LteMInd
+----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +================+===========+===+=============+=================+ | lteCatMInd | boolean | M | 1 | This IE shall | | | | | | contain the | | | | | | LTE-M | | | | | | Indication (See | | | | | | 3GPP TS | | | | | | 38.413 [12], | | | | | | cla | | | | | | use 9.3.1.157). | | | | | | | | | | | | This IE shall | | | | | | be set as | | | | | | follows: | | | | | | | | | | | | > \- true: | | | | | | > LTE-M is | | | | | | > indicated by | | | | | | > the UE; | | | | | | > | | | | | | > \- false: | | | | | | > LTE-M is not | | | | | | > indicated by | | | | | | > the UE. | +----------------+-----------+---+-------------+-----------------+
##### 6.1.6.2.71 Type: NpnAccessInfo
Table 6.1.6.2.71-1: Definition of type NpnAccessInfo
Attribute name Data type P Cardinality Description
* * *
cellCagInfo array(CagId) O 1..N This IE shall contain the CAG List of the CAG
cell.
##### 6.1.6.2.72 Type: ProseContext
Table 6.1.6.2.72-1: Definition of type ProseContext
+----------------+------------+---+-------------+----------------+ | Attribute name | Data type | P | Cardinality | Description | +================+============+===+=============+================+ | d | UeAuth | C | 0..1 | This IE shall | | irectDiscovery | | | | be present if | | | | | | the UE is | | | | | | authorized to | | | | | | use the NR | | | | | | sidelink for | | | | | | the ProSe | | | | | | Direct | | | | | | Discovery | | | | | | service. | +----------------+------------+---+-------------+----------------+ | directComm | UeAuth | C | 0..1 | This IE shall | | | | | | be present if | | | | | | the UE is | | | | | | authorized to | | | | | | use the NR | | | | | | sidelink for | | | | | | the ProSe | | | | | | Direct | | | | | | Communication | | | | | | service. | +----------------+------------+---+-------------+----------------+ | l2Relay | UeAuth | C | 0..1 | This IE shall | | | | | | be present if | | | | | | the UE is | | | | | | authorized to | | | | | | act as a 5G | | | | | | ProSe Layer-2 | | | | | | UE-to-Network | | | | | | Relay. | +----------------+------------+---+-------------+----------------+ | l3Relay | UeAuth | C | 0..1 | This IE shall | | | | | | be present if | | | | | | the UE is | | | | | | authorized to | | | | | | act as a 5G | | | | | | ProSe Layer-3 | | | | | | UE-to-Network | | | | | | Relay. | +----------------+------------+---+-------------+----------------+ | l2Remote | UeAuth | C | 0..1 | This IE shall | | | | | | be present if | | | | | | the UE is | | | | | | authorized to | | | | | | act as a 5G | | | | | | ProSe Layer-2 | | | | | | Remote UE. | +----------------+------------+---+-------------+----------------+ | l3Remote | UeAuth | C | 0..1 | This IE shall | | | | | | be present if | | | | | | the UE is | | | | | | authorized to | | | | | | act as a 5G | | | | | | ProSe Layer-3 | | | | | | Remote UE. | +----------------+------------+---+-------------+----------------+ | l2UeRelay | UeAuth | C | 0..1 | This IE shall | | | | | | be present if | | | | | | the UE is | | | | | | authorized to | | | | | | act as a 5G | | | | | | ProSe Layer-2 | | | | | | UE-to-UE | | | | | | Relay. | +----------------+------------+---+-------------+----------------+ | l3UeRelay | UeAuth | C | 0..1 | This IE shall | | | | | | be present if | | | | | | the UE is | | | | | | authorized to | | | | | | act as a 5G | | | | | | ProSe Layer-3 | | | | | | UE-to-UE | | | | | | Relay. | +----------------+------------+---+-------------+----------------+ | l2End | UeAuth | C | 0..1 | This IE shall | | | | | | be present if | | | | | | the UE is | | | | | | authorized to | | | | | | act as a 5G | | | | | | ProSe Layer-2 | | | | | | End UE. | +----------------+------------+---+-------------+----------------+ | l3End | UeAuth | C | 0..1 | This IE shall | | | | | | be present if | | | | | | the UE is | | | | | | authorized to | | | | | | act as a 5G | | | | | | ProSe Layer-3 | | | | | | End UE. | +----------------+------------+---+-------------+----------------+ | multiPathComm | UeAuth | C | 0..1 | This IE shall | | | | | | be present if | | | | | | the UE is | | | | | | authorized to | | | | | | use multi-path | | | | | | communication | | | | | | via direct Uu | | | | | | path and via | | | | | | 5G ProSe | | | | | | Layer-2 | | | | | | UE-to-Network | | | | | | Relay as a 5G | | | | | | ProSe Layer-2 | | | | | | Remote UE. | +----------------+------------+---+-------------+----------------+ | nrUePc5Ambr | BitRate | C | 0..1 | This IE shall | | | | | | be present if | | | | | | the UE is | | | | | | authorized to | | | | | | use the NR | | | | | | sidelink for | | | | | | the ProSe | | | | | | services. | | | | | | | | | | | | When present, | | | | | | this IE | | | | | | contains the | | | | | | ProSe NR | | | | | | UE-PC5-AMBR. | +----------------+------------+---+-------------+----------------+ | pc5QoSPara | Pc5QoSPara | C | 0..1 | This IE shall | | | | | | be present if | | | | | | the UE is | | | | | | authorized to | | | | | | use the NR | | | | | | sidelink for | | | | | | the ProSe | | | | | | services. | | | | | | | | | | | | When present, | | | | | | this IE | | | | | | contains | | | | | | policy data on | | | | | | the PC5 QoS | | | | | | parameters for | | | | | | the ProSe | | | | | | services on | | | | | | the NR | | | | | | sidelink. | +----------------+------------+---+-------------+----------------+
##### 6.1.6.2.73 Type: AnalyticsSubscription
Table 6.2.6.2.73-1: Definition of type AnalyticsSubscription
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | nwdafId | NfInstanceId | C | 0..1 | This IE shall | | | | | | be present, | | | | | | if available. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | NF Instance | | | | | | ID of the | | | | | | NWDAF. | | | | | | | | | | | | (NOTE). | +---------------+---------------+---+-------------+---------------+ | nwdafSetId | NfSetId | C | 0..1 | This IE shall | | | | | | be present, | | | | | | if available. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | NF Set ID of | | | | | | the NWDAF. | | | | | | | | | | | | (NOTE). | +---------------+---------------+---+-------------+---------------+ | nwdafSub | array(Nwdaf | M | 1..N | List of NWDAF | | scriptionList | Subscription) | | | subscriptions | | | | | | identified by | | | | | | subscription | | | | | | Id. | +---------------+---------------+---+-------------+---------------+ | NOTE: At | | | | | | least one | | | | | | nwdafId or | | | | | | nwdafSetId | | | | | | shall be | | | | | | included. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.74 Type: NwdafSubscription
Table 6.2.6.2.74-1: Definition of type NwdafSubscription
Attribute name Data type P Cardinality Description
* * *
nwdafEvtSubsServiceUri Uri M 1 It identifies the resource URI of the
individual NWDAF subscription. nwdafEventsSubscription
NnwdafEventsSubscription M 1 The created Individual NWDAF Event Subscription
resource
##### 6.1.6.2.75 Type: UpdpSubscriptionData
Table 6.1.6.2.75-1: Definition of type UpdpSubscriptionData
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | updpNotifyS | string | M | 1 | Represents | | ubscriptionId | | | | the Id | | | | | | created by | | | | | | the AMF for | | | | | | the | | | | | | subscription | | | | | | to notify a | | | | | | UE policy | | | | | | delivery | | | | | | related N1 | | | | | | information. | +---------------+---------------+---+-------------+---------------+ | updpNoti | Uri | M | 1 | This IE | | fyCallbackUri | | | | represents | | | | | | the callback | | | | | | URI on which | | | | | | the UE policy | | | | | | delivery | | | | | | related N1 | | | | | | message shall | | | | | | be notified. | +---------------+---------------+---+-------------+---------------+ | supp | Supp | C | 0..1 | This IE shall | | ortedFeatures | ortedFeatures | | | be present if | | | | | | at least one | | | | | | optional | | | | | | feature | | | | | | defined in | | | | | | clause 6.1.8 | | | | | | is supported | | | | | | by the NF | | | | | | service | | | | | | consumer. | +---------------+---------------+---+-------------+---------------+ | updpCa | string | C | 0..1 | This IE shall | | llbackBinding | | | | be present if | | | | | | Binding | | | | | | Indication | | | | | | was received | | | | | | for the PCF | | | | | | for the | | | | | | callback URI. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | Binding | | | | | | indication of | | | | | | callback URI | | | | | | and shall be | | | | | | set to the | | | | | | value of the | | | | | | 3gp | | | | | | p-Sbi-Binding | | | | | | header | | | | | | defined in | | | | | | cla | | | | | | use 5.2.3.2.6 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4], | | | | | | without the | | | | | | header name. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.76 Type: ProSeInformation
Table 6.1.6.2.76-1: Definition of type ProSeInformation
Attribute name Data type P Cardinality Description
* * *
n2Pc5ProSePol N2InfoContent M 0..1 This attribute contains the N2 PC5 policy
for 5G ProSe. This IE contains the NGAP ProSe related IEs specified in clause
9.3.1.234 of 3GPP TS 38.413 [12].
##### 6.1.6.2.77 Type: ReleaseSessionInfo
Table 6.1.6.2.77-1: Definition of type ReleaseSessionInfo
Attribute name Data type P Cardinality Description
* * *
releaseSessionList array(PduSessionId) M 1..N This IE shall include the PDU
session Id(s) to be released. releaseCause ReleaseCause M 1 This IE shall
include the cause to release the PDU session(s).
##### 6.1.6.2.78 Type: AreaOfInterestEventState
Table 6.1.6.2.78-1: Definition of type AreaOfInterestEventState
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | presence | PresenceState | M | 1 | This IE shall | | | | | | contain the | | | | | | UE presence | | | | | | state for the | | | | | | indicated | | | | | | area of | | | | | | interest. | +---------------+---------------+---+-------------+---------------+ | indivi | array(string) | C | 1..N | This IE shall | | dualPraIdList | | | | be present if | | | | | | the indicated | | | | | | area of | | | | | | interest | | | | | | referring to | | | | | | a set of Core | | | | | | Network | | | | | | predefined | | | | | | Presence | | | | | | Reporting | | | | | | Areas and the | | | | | | UE is in at | | | | | | least one | | | | | | individual | | | | | | PRA within | | | | | | the set of | | | | | | Core Network | | | | | | predefined | | | | | | Presence | | | | | | Reporting | | | | | | Areas. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | PRA | | | | | | Identifier of | | | | | | the | | | | | | individual | | | | | | PRA(s) where | | | | | | the UE is | | | | | | located. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.79 Type: TssInformation
Table 6.1.6.2.79-1: Definition of type TssInformation
Attribute name Data type P Cardinality Description
* * *
nfId NfInstanceId C 0..1 This IE shall be present when the N2InfoContainer
containing the TssInformation is included in N2InformationTransferReqData.
When present, this IE shall carry the NF instance identity of the NF Service
Consumer (e.g. TSCTSF). tssContainer N2InfoContent M 1 This IE represents the
TSS N2 information data part to be relayed between TSCTSF and AN.
##### 6.1.6.2.80 Type: AmPolicyInfoContainer
Table 6.1.6.2.80-1: Definition of type AmPolicyInfoContainer
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | sliceUs | map(SliceUsag | C | 1..N | This IE shall | | gCtrlInfoSets | eControlInfo) | | | be present | | | | | | when | | | | | | available. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | network slice | | | | | | usage control | | | | | | related | | | | | | information | | | | | | received from | | | | | | PCF of AM | | | | | | Policy. | | | | | | | | | | | | The key of | | | | | | the map is | | | | | | the S-NSSAI | | | | | | to which the | | | | | | network slice | | | | | | usage control | | | | | | related | | | | | | information | | | | | | (the value | | | | | | part of the | | | | | | map) is | | | | | | related. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.81 Type: RsppInformation
Table 6.1.6.2.81-1: Definition of type RsppInformation
Attribute name Data type P Cardinality Description
* * *
n2Pc5RsppPol N2InfoContent M 1 This attribute contains the N2 PC5 policy for
Ranging/SL positioning. This IE may contain the NGAP ProSe related IEs
specified in clause 9.3.1.234 of 3GPP TS 38.413 [12] or the NGAP V2X related
IEs specified in clause 9.3.1.150 of 3GPP TS 38.413 [12].
##### 6.1.6.2.82 Type: A2xContext
Table 6.1.6.2.82-1: Definition of type A2xContext
+--------------+--------------+-------+--------------+--------------+ | **Attribute |** Data | **P** | **C |** D | | name**| type** | | ardinality**| escription** | +==============+==============+=======+==============+==============+ | nrA2x | NrA2xAuth | C | 0..1 | This IE | | ServicesAuth | | | | shall be | | | | | | present if | | | | | | the UE is | | | | | | authorized | | | | | | to use the | | | | | | NR sidelink | | | | | | for A2X | | | | | | services. | +--------------+--------------+-------+--------------+--------------+ | lteA2x | LteA2xAuth | C | 0..1 | This IE | | ServicesAuth | | | | shall be | | | | | | present if | | | | | | the UE is | | | | | | authorized | | | | | | to use the | | | | | | LTE sidelink | | | | | | for V2X | | | | | | services. | +--------------+--------------+-------+--------------+--------------+ | nrUe | BitRate | C | 0..1 | This IE | | SidelinkAmbr | | | | shall be | | | | | | present if | | | | | | the UE is | | | | | | authorized | | | | | | for NR A2X | | | | | | services. | | | | | | | | | | | | When | | | | | | present, | | | | | | this IE | | | | | | contains | | | | | | subscription | | | | | | data on | | | | | | UE-PC5-AMBR | | | | | | for NR A2X | | | | | | services. | +--------------+--------------+-------+--------------+--------------+ | lteUe | BitRate | C | 0..1 | This IE | | SidelinkAmbr | | | | shall be | | | | | | present if | | | | | | the UE is | | | | | | authorized | | | | | | for LTE A2X | | | | | | services. | | | | | | | | | | | | When | | | | | | present, | | | | | | this IE | | | | | | contains | | | | | | subscription | | | | | | data on | | | | | | UE-PC5-AMBR | | | | | | for LTE A2X | | | | | | services. | +--------------+--------------+-------+--------------+--------------+ | pc5QoSPara | Pc5QoSPara | C | 0..1 | This IE | | | | | | shall be | | | | | | present if | | | | | | the UE is | | | | | | authorized | | | | | | for NR A2X | | | | | | services. | | | | | | | | | | | | When | | | | | | present, | | | | | | this IE | | | | | | contains | | | | | | policy data | | | | | | on the PC5 | | | | | | QoS | | | | | | parameters. | +--------------+--------------+-------+--------------+--------------+
##### 6.1.6.2.83 Type: A2xInformation
Table 6.1.6.2.83-1: Definition of type A2xInformation
**Attribute name** **Data type** **P** **Cardinality** **Description**
* * *
n2Pc5Pol N2InfoContent C 0..1 This IE shall be present if N2 PC5 policy should
be transferred. When present, the IE contains the NGAP A2X related IEs
specified in clause 9.3.1.150 of 3GPP TS 38.413 [12].
#### 6.1.6.3 Simple data types and enumerations
##### 6.1.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 6.1.6.3.2 Simple data types
The simple data types defined in table 6.1.6.3.2-1 shall be supported.
Table 6.1.6.3.2-1: Simple data types
+-----------------------+-----------------+------------------------+ | Type Name | Type Definition | Description | +=======================+=================+========================+ | EpsBearerId | integer | Integer identifying an | | | | EPS bearer, within the | | | | range 0 to 15, as | | | | specified in | | | | clause 11.2.3.1.5, | | | | bits 5 to 8, of | | | | 3GPP TS 24.007 [15]. | +-----------------------+-----------------+------------------------+ | Ppi | integer | This represents the | | | | Paging Policy | | | | Indicator. The value | | | | is within the range 0 | | | | to 7. | +-----------------------+-----------------+------------------------+ | NasCount | Uinteger | Unsigned integer | | | | identifying the NAS | | | | COUNT as specified in | | | | 3GPP TS 33.501 [27] | +-----------------------+-----------------+------------------------+ | 5GMmCapability | Bytes | String with format | | | | \"byte\" as defined in | | | | OpenAPI | | | | Specification [23], | | | | i.e. base64-encoded | | | | characters, encoding | | | | the \"5GMM | | | | capability\" IE as | | | | specified in | | | | clause 9.11.3.1 of | | | | 3GPP TS 24.501 [11] | | | | (starting from octet | | | | 1). | +-----------------------+-----------------+------------------------+ | UeSecurityCapability | Bytes | String with format | | | | \"byte\" as defined in | | | | OpenAPI | | | | Specification [23], | | | | i.e. base64-encoded | | | | characters, encoding | | | | the \" UE security | | | | capability\" IE as | | | | specified in | | | | clause 9.11.3.54 of | | | | 3GPP TS 24.501 [11] | | | | (starting from octet | | | | 1). | +-----------------------+-----------------+------------------------+ | S1UeNetworkCapability | Bytes | String with format | | | | \"byte\" as defined in | | | | OpenAPI | | | | Specification [23], | | | | i.e. base64-encoded | | | | characters, encoding | | | | the \" S1 UE network | | | | capability\" IE as | | | | specified in | | | | clause 9.11.3.48 of | | | | 3GPP TS 24.501 [11] | | | | (starting from octet | | | | 1). | +-----------------------+-----------------+------------------------+ | DrxParameter | Bytes | String with format | | | | \"byte\" as defined in | | | | OpenAPI | | | | Specification [23], | | | | i.e. base64-encoded | | | | characters, encoding | | | | the \"5GS DRX | | | | Parameters\" IE as | | | | specified in | | | | clause 9.11.3.2A of | | | | 3GPP TS 24.501 [11] | | | | (starting from octet | | | | 1). | +-----------------------+-----------------+------------------------+ | OmcIdentifier | string | The OMC Identifier | | | | indicates the identity | | | | of an Operation and | | | | Maintenance Centre to | | | | which Trace Records | | | | shall be sent. | | | | | | | | minLength: 1 | | | | | | | | maxLength: 20 | +-----------------------+-----------------+------------------------+ | MSClassmark2 | Bytes | String with format | | | | \"byte\" as defined in | | | | OpenAPI | | | | Specification [23], | | | | i.e. base64-encoded | | | | characters, encoding | | | | the Mobile Station | | | | Classmark 2 as | | | | specified in | | | | clause 9.11.3.31C of | | | | 3GPP TS 24.501 [11]) | | | | (starting from octet | | | | 1). | +-----------------------+-----------------+------------------------+ | SupportedCodec | Bytes | String with format | | | | \"byte\" as defined in | | | | OpenAPI | | | | Specification [23], | | | | i.e. base64-encoded | | | | characters, encoding | | | | the Supported Codec as | | | | specified in | | | | clause 9.11.3.51A of | | | | 3GPP TS 24.501 [11]) | | | | (starting from octet | | | | 1). | +-----------------------+-----------------+------------------------+
##### 6.1.6.3.3 Enumeration: StatusChange
Table 6.1.6.3.3-1: Enumeration StatusChange
Enumeration value Description
* * *
\"AMF_UNAVAILABLE\" The AMF is unavailable to serve the UEs identified by the
GUAMI(s). \"AMF_AVAILABLE\" The AMF is available to serve the UEs identified
by the GUAMI(s).
##### 6.1.6.3.4 Enumeration: N2InformationClass
Table 6.1.6.3.4-1: Enumeration N2InformationClass
Enumeration value Description Applicability
* * *
\"SM\" N2 SM information.  
\"NRPPa\" N2 NRPPa information.  
\"PWS\" N2 PWS information of PWS type.  
\"PWS-BCAL\" N2 Broadcast Completed Area List or the Broadcast Cancelled Area
List.  
\"PWS-RF\" N2 Restart Indication or Failure Indication  
\"RAN\" N2 RAN related information.  
\"V2X\" N2 V2X information  
\"PROSE\" N2 5G ProSe information. ProSe \"TSS\" N2 Timing Synchronisation
Status information  
\"RSPP\" N2 QoS information of RSPP transport over PC5 RSPP \"A2X\" N2 A2X
information A2X
##### 6.1.6.3.5 Enumeration: N1MessageClass
Table 6.1.6.3.5-1: Enumeration N1MessageClass
Enumeration value Description
* * *
\"5GMM\" The whole NAS message as received (for e.g. used in forwarding the
Registration message to target AMF during Registration procedure with AMF
redirection). \"SM\" N1 Session Management message \"LPP\" N1 LTE Positioning
Protocol message \"SMS\" N1 SMS message as specified in 3GPP TS 23.040 [44]
and 3GPP TS 24.011 [45] \"UPDP\" The N1 messages for UE Policy Delivery (See
Annex D of 3GPP TS 24.501 [11]. \"LCS\" The N1 message of Location service
message type \"PRU\" The N1 message for PRU
##### 6.1.6.3.6 Enumeration: N1N2MessageTransferCause
Table 6.1.6.3.6-1: Enumeration N1N2MessageTransferCause
Enumeration value Description
* * *
\"ATTEMPTING_TO_REACH_UE\" This cause represents the case where the AMF has
initiated paging to reach the UE in order to deliver the N1 message.
\"N1_N2_TRANSFER_INITIATED\" This cause represents the case where the AMF has
initiated the N1/N2 message transfer towards the UE and/or the AN.
\"WAITING_FOR_ASYNCHRONOUS_TRANSFER\" This cause represents the case where the
AMF has stored the N1/N2 message due to Asynchronous Transfer.
\"UE_NOT_RESPONDING\" This cause represents the case that the AMF has
initiated paging to reach the UE but the UE is not responding to the paging,
or the case of a UE in RRC Inactive state when NG-RAN paging is not successful
(e.g. NG-RAN initiated a UE context release with a cause indicating the non-
delivery of the N1 message). \"N1_MSG_NOT_TRANSFERRED\" This cause represents
the case where the AMF has skipped sending N1 message to the UE, when UE is in
CM-IDLE and the \"skipInd\" is set to \"true\" in the request.
\"N2_MSG_NOT_TRANSFERRED\" This cause indicates that the AMF has skipped
sending the N2 message (i.e. PDU Session Resource Setup Request) as well as
the possibly included N1 message to the 5G-AN, when the UE is in CM-CONNECTED
state and the UE is outside of the validity area included in the
N1N2MessageTransfer Request. \"UE_NOT_REACHABLE_FOR_SESSION\" This cause
indicates that the UE is not reachable for the non-3GPP PDU session, due to
the UE being in CM-IDLE for non-3GPP access and the PDU session is not allowed
to move to 3GPP access. \"TEMPORARY_REJECT_REGISTRATION_ONGOING\" This cause
represents the case that the AMF has initiated paging to reach the UE but
there is an ongoing registration procedure.
\"TEMPORARY_REJECT_HANDOVER_ONGOING\" This cause indicates that the AMF has
initiated N1 signalling towards the UE but the N1 message could not be
delivered due to an ongoing Xn or N2 handover procedure.
\"REJECTION_DUE_TO_PAGING_RESTRICTION\" This cause represents the case that
the UE has rejected the page as specified in 3GPP TS 23.501 [2] clause 5.38.4.
\"AN_NOT_RESPONDING\" This cause indicates that the AMF has initiated a N2
request to transfer a N2 PDU (e.g. to setup, modify or release PDU session
resources) but the AN is not responding to the N2 request.
\"FAILURE_CAUSE_UNSPECIFIED\" This cause indicates that the N1/N2 message
transfer failed due to unspecified reasons.
##### 6.1.6.3.7 Enumeration: UeContextTransferStatus
Table 6.1.6.3.7-1: Enumeration UeContextTransferStatus
Enumeration value Description
* * *
\"TRANSFERRED\" Indicates a UE Context Transfer procedure is completed
successful for the individual ueContext resource \"NOT_TRANSFERRED\" Indicates
a UE Context Transfer procedure either did not complete successfully or the
Registration request from the UE is redirected to another NF Service Consumer
(e.g. AMF).
##### 6.1.6.3.8 Enumeration: N2InformationTransferResult
Table 6.1.6.3.8-1: Enumeration N2InformationTransferResult
Enumeration value Description
* * *
\"N2_INFO_TRANSFER_INITIATED\" This cause code represents the case where the
AMF has initiated the N2 information transfer towards the AN.
##### 6.1.6.3.9 Enumeration: CipheringAlgorithm
Table 6.1.6.3.9-1: Enumeration CipheringAlgorithm
Enumeration value Description
* * *
\"NEA0\" Null ciphering algorithm \"NEA1\" 128-bit SNOW 3G based algorithm
\"NEA2\" 128-bit AES based algorithm \"NEA3\" 128-bit ZUC based algorithm
##### 6.1.6.3.10 Enumeration: IntegrityAlgorithm
Table 6.1.6.3.10-1: Enumeration IntegrityAlgorithm
Enumeration value Description
* * *
\"NIA0\" Null Integrity Protection algorithm \"NIA1\" 128-bit SNOW 3G based
algorithm \"NIA2\" 128-bit AES based algorithm \"NIA3\" 128-bit ZUC based
algorithm
##### 6.1.6.3.11 Enumeration: SmsSupport
Table 6.1.6.3.11-1: Enumeration SmsSupport
Enumeration value Description
* * *
\"3GPP\" Support SMS delivery over NAS in 3GPP access \"NON_3GPP\" Support SMS
delivery via non-3GPP access \"BOTH\" Support SMS delivery over NAS or via
non-3GPP access \"NONE\" Don\'t support SMS delivery
##### 6.1.6.3.12 Enumeration: ScType
Table 6.1.6.3.12-1: Enumeration ScType
Enumeration value Description
* * *
\"NATIVE\" Native security context (for KSI~AMF~) \"MAPPED\" Mapped security
context (for KSI~ASME~)
##### 6.1.6.3.13 Enumeration: KeyAmfType
Table 6.1.6.3.13-1: Enumeration KeyAmfType
Enumeration value Description
* * *
\"KAMF\" The K~amf~ value is sent. \"KPRIMEAMF\" The K\'~amf.~ value is sent.
##### 6.1.6.3.14 Enumeration: TransferReason
Table 6.1.6.3.14-1: Enumeration TransferReason
Enumeration value Description
* * *
\"INIT_REG\" It indicates the AMF requests UE context for initial registration
or disaster roaming initial registration. \"MOBI_REG\" It indicates the AMF
requests UE context for mobility registration or disaster roaming mobility
registration. \"MOBI_REG_UE_VALIDATED\" It indicates the AMF requests UE
context for mobility registration or disaster roaming mobility registration of
a validated UE.
##### 6.1.6.3.15 Enumeration: PolicyReqTrigger
Table 6.1.6.3.15-1: Enumeration PolicyReqTrigger
Enumeration value Description
* * *
\"LOCATION_CHANGE\" The AM policy request shall be triggered when the UE\'s
location (Tracking Area) changes. \"PRA_CHANGE\" The AM policy request shall
be triggered when the UE is entering / leaving a Presence Reporting Area.
\"ALLOWED_NSSAI_CHANGE\" The policy request shall be triggered when the
allowed NSSAI of the UE has changed. \"NWDAF_DATA_CHANGE\" The AM policy
request shall be triggered when the NWDAF instance IDs used for the UE and/or
associated Analytics IDs have changed. \"PLMN_CHANGE\" The UE policy request
shall be triggered when the serving PLMN of UE has changed.
\"CON_STATE_CHANGE\" The UE policy request shall be triggered when the
connectivity state of UE has changed. \"SMF_SELECT_CHANGE\" The AM policy
request shall be triggered when the UE request for an unsupported DNN or the
UE request for a DNN within the list of DNN candidates for replacement per
S-NSSAI. \"ACCESS_TYPE_CHANGE\" The AM policy request shall be triggered when
the access type and the RAT type combinations available in the AMF for a UE
with simultaneous 3GPP and non-3GPP connectivity have changed.
\"SAT_BACKHAUL_CHANGE\" The UE policy request shall be triggered when the
UE\'s satellite backhaul category changes.
##### 6.1.6.3.16 Enumeration: RatSelector
Table 6.1.6.3.16-1: Enumeration RatSelector
Enumeration value Description
* * *
\"E-UTRA\" The N2 information shall be transferred to ng-eNBs only. \"NR\" The
N2 information shall be transferred to gNBs only.
##### 6.1.6.3.17 Enumeration: NgapIeType
Table 6.1.6.3.17-1: Enumeration NgapIeType
Enumeration value Description
* * *
\"PDU_RES_SETUP_REQ\" PDU Session Resource Setup Request Transfer
\"PDU_RES_REL_CMD\" **_PDU Session Resource Release Command Transfer_**
\"PDU_RES_MOD_REQ\" **_PDU Session Resource Modify Request Transfer_**
\"HANDOVER_CMD\" Handover Command Transfer \"HANDOVER_REQUIRED\" Handover
Required Transfer \"HANDOVER_PREP_FAIL\" Handover Preparation Unsuccessful
Transfer \"SRC_TO_TAR_CONTAINER\" Source to Target Transparent Container
\"TAR_TO_SRC_CONTAINER\" Target to Source Transparent Container
\"TAR_TO_SRC_FAIL_CONTAINER\" Target to Source Failure Transparent Container
\"RAN_STATUS_TRANS_CONTAINER\" **RAN Status Transfer Transparent Container**
\"SON_CONFIG_TRANSFER\" SON Configuration Transfer \"NRPPA_PDU\" NRPPa-PDU
\"UE_RADIO_CAPABILITY\" UE Radio Capability \"RIM_INFO_TRANSFER\" RIM
Information Transfer \"SECONDARY_RAT_USAGE\" Secondary RAT Data Usage Report
Transfer \"PC5_QOS_PARA\" PC5 QoS Parameters \"EARLY_STATUS_TRANS_CONTAINER\"
Early Status Transfer Transparent Container \"UE_RADIO_CAPABILITY_FOR_PAGING\"
UE Radio Capability for Paging
##### 6.1.6.3.18 Enumeration: N2InfoNotifyReason
Table 6.1.6.3.18-1: Enumeration N2InfoNotifyReason
Enumeration value Description
* * *
\"HANDOVER_COMPLETED\" Indicates that the N2 Information Notification is
delivered when the handover procedure is completed successfully.
##### 6.1.6.3.19 Enumeration: SmfChangeIndication
Table 6.1.6.3.19-1: Enumeration SmfChangeIndication
+----------------------------------+----------------------------------+ | Enumeration value | Description | +==================================+==================================+ | \"CHANGED\" | I-SMF or V-SMF changed. (NOTE 1) | +----------------------------------+----------------------------------+ | \"REMOVED\" | I-SMF or V-SMF is removed. (NOTE | | | 2) | +----------------------------------+----------------------------------+ | NOTE 1: This enumeration value | | | shall also be used if the UE | | | moves from HPLMN to a VPLMN, a | | | V-SMF is inserted and the I-SMF | | | is removed, or from VPLMN to | | | HPLMN, an I-SMF is inserted and | | | the V-SMF is removed. | | | | | | NOTE 2: This enumeration value | | | shall also be used if the UE | | | moves from VPLMN to HPLMN, | | | without an I-SMF inserted in the | | | HPLMN. | | +----------------------------------+----------------------------------+
##### 6.1.6.3.20 Enumeration: SbiBindingLevel
Table 6.1.6.3.20-1: Enumeration SbiBindingLevel
Enumeration value Description
* * *
\"NF_INSTANCE_BINDING\" Indicates binding to NF instance \"NF_SET_BINDING\"
Indicates binding to NF Set \"NF_SERVICE_SET_BINDING\" Indicates binding to NF
Service Set \"NF_SERVICE_INSTANCE_BINDING\" Indicates binding to NF Service
instance
##### 6.1.6.3.21 Enumeration: EpsNasCipheringAlgorithm
This data type enumerates the algorithms for data ciphering in EPS NAS, as
specified in clause 5.1.3.2 of 3GPP TS 33.401 [49].
Table 6.1.6.3.21-1: Enumeration EpsNasCipheringAlgorithm
Enumeration value Description
* * *
\"EEA0\" Null ciphering algorithm \"EEA1\" 128-bit SNOW 3G based algorithm
\"EEA2\" 128-bit AES based algorithm \"EEA3\" 128-bit ZUC based algorithm
##### 6.1.6.3.22 Enumeration: EpsNasIntegrityAlgorithm
This data type enumerates the algorithms for data integrity protection in EPS
NAS, as specified in clause 5.1.4.2 of 3GPP TS 33.401 [49].
Table 6.1.6.3.22-1: Enumeration EpsNasIntegrityAlgorithm
Enumeration value Description
* * *
\"EIA0\" Null Integrity Protection algorithm \"EIA1\" 128-bit SNOW 3G based
algorithm \"EIA2\" 128-bit AES based algorithm \"EIA3\" 128-bit ZUC based
algorithm
##### 6.1.6.3.23 Enumeration: PeriodicCommunicationIndicator
This data type enumerates types of Periodic Communication Indicator.
Table 6.1.6.3.23-1: Enumeration PeriodicCommunicationIndicator
Enumeration value Description
* * *
\"PIORIODICALLY\" Periodically \"ON_DEMAND\" On demand
##### 6.1.6.3.24 Enumeration: UuaaMmStatus
This data type enumerates types of UUAA-MM status.
Table 6.1.6.3.24-1: Enumeration UuaaMmStatus
Enumeration value Description
* * *
\"SUCCESS\" Success \"PENDING\" Pending \"FAILED\" Failed
##### 6.1.6.3.25 Enumeration: ReleaseCause
Table 6.1.6.3.25-1: Enumeration ReleaseCause
Enumeration value Description
* * *
\"SNPN_SNPN_MOBILITY\" This cause represents the case where the continuity of
the PDU Session(s) cannot be supported between networks due to SNPN-SNPN
mobility. \"NO_HR_AGREEMENT\" This cause represents the case where the
continuity of the PDU Session(s) cannot be supported between networks due to
inter-PLMN mobility where no HR agreement exists. \"UNSPECIFIED\" This cause
indicates that the continuity of the PDU Session(s) cannot be supported
between networks due to unspecified reasons.
#### 6.1.6.4 Binary data
##### 6.1.6.4.1 Introduction
This clause defines the binary data that shall be supported in a binary body
part in an HTTP multipart message (see clauses 6.1.2.2.2 and 6.1.2.4).
Table 6.1.6.4.1-1: Binary Data Types
Name Clause defined Content type
* * *
N1 Message 6.1.6.4.2 vnd.3gpp.5gnas N2 Information 6.1.6.4.3 vnd.3gpp.ngap
Mobile Terminated Data 6.1.6.4.3 vnd.3gpp.5gnas GTP-C message 6.1.6.4.5
vnd.3gpp.gtpc
##### 6.1.6.4.2 N1 Message
N1 Message shall encode a 5GS NAS message of a specified type (e.g. SM, LPP)
as specified in 3GPP TS 24.501 [11], using the vnd.3gpp.5gnas content-type.
N1 Message may encode e.g. the following 5GS NAS messages:
\- For message class SM:
\- PDU Session Modification Command (see clause 8.3.7 of 3GPP TS 24.501 [11])
during network initiated PDU session modification procedure (see clause 4.3.3
of 3GPP TS 23.502 [3]);
\- PDU Session Release Command (see clause 8.3.12 of 3GPP TS 24.501 [11])
during network initiated PDU session release procedure (see clause 4.3.4 of
3GPP TS 23.502 [3]).
\- PDU Session Establishment Accept (see clause 8.3.2 in 3GPP TS 24.501 [11])
during UE-requested PDU Session Establishment (see clause 4.3.2.2 in 3GPP TS
23.502 [3]).
\- For message class LPP:
\- UE Positioning Request messages as specified in 3GPP TS 36.355 [13] during
UE assisted and UE based positioning procedure (see clause 6.11.1 of 3GPP TS
23.273 [42]).
\- For message class 5GMM:
\- REGISTRATION REQUEST message as specified in see clause 8.2.5 of 3GPP TS
24.501 [11], during registration procedures (see clause 4.2.2.2 of 3GPP TS
23.502 [3]).
\- For message class UPDP:
\- MANAGE UE POLICY COMMAND / MANAGE UE POLICY COMPLETE / MANAGE UE POLICY
REJECT (see Annex D.5.1 to Annex D.5.3 of 3GPP TS 24.501 [11]) during network
initiated UE policy management procedure (see Annex D.2.1 of 3GPP TS 24.501
[11]);
\- UE STATE INDICATION (see Annex D.5.4 of 3GPP TS 24.501 [11]) during UE
initiated UE state indication procedure (see Annex D.2.2 of 3GPP TS 24.501
[11]).
\- UE POLICY PROVISIONING REQUEST / UE POLICY PROVISIONING REJECT (see clause
7.2 of 3GPP TS 24.587 [53]) during UE-requested V2X policy provisioning
procedure and/or 5G ProSe policy provisioning procedure (see clause 5.3.2 of
3GPP TS 24.587 [53] and/or clause 5.3.2 of 3GPP TS 24.554 [54] respectively)
and/or UE-requested A2X policy provisioning procedure (see clause 5.3.2 of
3GPP TS 24.577 [60]).
\- For message class LCS:
\- Location services messages between UE and LMF (lcs-
PeriodicTriggeredInvoke/lcs-EventReport/lcs-CancelDeferredLocation) as
specified in 3GPP TS 24.080 [43] during deferred 5GC-MT-LR procedure procedure
(see clause 6.3 of 3GPP TS 23.273 [42]).
\- For message class SMS:
\- SMS payload information as specified in 3GPP TS 23.040 [44] and 3GPP TS
24.011 [45], e.g. CP-DATA, CP-ACK, CP-ERROR.
\- For message class PRU:
\- PRU messages between PRU and LMF during Procedures applicable to a PRU (see
clause 6.17 of 3GPP TS 23.273 [42]).
Editor\'s Note: The N1 message on support of PRU needs to be aligned with 3GPP
TS 24.501.
##### 6.1.6.4.3 N2 Information
###### 6.1.6.4.3.1 Introduction
N2 Information shall encode NG Application Protocol (NGAP) IEs, as specified
in clause 9.4 of 3GPP TS 38.413 [12] (ASN.1 encoded), using the vnd.3gpp.ngap
content-type.
###### 6.1.6.4.3.2 NGAP IEs
For N2 information class SM, N2 Information may encode following NGAP SMF
related IE specified in 3GPP TS 38.413 [12], as summarized in Table
6.1.6.4.3.2-1.
Table 6.1.6.4.3.2-1: N2 Information content for class SM
+----------------------+----------------------+----------------------+ | NGAP IE | Reference | Related NGAP message | | | | | | | (3G | | | | PP TS 38.413 [12]) | | +======================+======================+======================+ | PDU Session Resource | 9.3.4.1 | PDU SESSION RESOURCE | | Setup Request | | SETUP REQUEST | | Transfer | | | +----------------------+----------------------+----------------------+ | **_PDU Session | 9.3.4.12 | PDU SESSION RESOURCE | | Resource Release | | RELEASE COMMAND | | Command Transfer_** | | | +----------------------+----------------------+----------------------+ | **_PDU Session | 9.3.4.3 | PDU SESSION RESOURCE | | Resource Modify | | MODIFY REQUEST | | Request Transfer_** | | | +----------------------+----------------------+----------------------+ | Handover Command | 9.3.4.10 | HANDOVER COMMAND | | Transfer | | | +----------------------+----------------------+----------------------+ | Handover Required | 9.3.4.14 | HANDOVER REQUIRED | | Transfer | | | +----------------------+----------------------+----------------------+ | Handover Preparation | 9.3.4.18 | HANDOVER COMMAND | | Unsuccessful | | | | Transfer | | | +----------------------+----------------------+----------------------+ | Secondary RAT Data | 9.3.4.23 | SECONDARY RAT DATA | | Usage Report | | USAGE REPORT | | Transfer | | | +----------------------+----------------------+----------------------+
For N2 information class RAN, N2 Information may encode one of the following
NGAP Transparent Container IEs specified in 3GPP TS 38.413 [12], as summarized
in Table 6.1.6.4.3.2-2.
Table 6.1.6.4.3.2-2: N2 Information content for class RAN
+----------------------+----------------------+----------------------+ | NGAP IE | Reference | Related NGAP message | | | | | | | (3G | | | | PP TS 38.413 [12]) | | +======================+======================+======================+ | Source to Target | 9.3.1.20 | HANDOVER REQUIRED, | | Transparent | | HANDOVER REQUEST | | Container | | | +----------------------+----------------------+----------------------+ | Target to Source | 9.3.1.21 | HANDOVER COMMAND, | | Transparent | | HANDOVER REQUEST | | Container | | ACKNOWLEDGE | +----------------------+----------------------+----------------------+ | Target to Source | 9.3.1.186 | HANDOVER FAILURE | | Failure Transparent | | | | Container | | | +----------------------+----------------------+----------------------+ | UE Radio Capability | 9.3.1.74 | UE RADIO CAPABILITY | | | | INFO INDICATION. | | | | (NOTE 1). | +----------------------+----------------------+----------------------+ | UE Radio Capability | 9.3.1.68 | UE RADIO CAPABILITY | | for Paging | | INFO INDICATION. | | | | (NOTE 1). | +----------------------+----------------------+----------------------+ | SON Configuration | 9.3.3.6 | UPLINK RAN | | Transfer | | CONFIGURATION | | | | TRANSFER, DOWNLINK | | | | RAN CONFIGURATION | | | | TRANSFER | +----------------------+----------------------+----------------------+ | RAN Status Transfer | 9.2.3.13, 9.2.3.14 | UPLINK RAN STATUS | | Transparent | | TRANSFER, DOWNLINK | | Container | | RAN STATUS TRANSFER | +----------------------+----------------------+----------------------+ | Early Status | 9.2.3.16, 9.2.3.17 | UPLINK RAN EARLY | | Transfer Transparent | | STATUS TRANSFER | | Container | | | | | | DOWNLINK RAN EARLY | | | | STATUS TRANSFER | +----------------------+----------------------+----------------------+ | RIM Information | 9.3.3.28 | UPLINK RIM | | Transfer | | INFORMATION | | | | TRANSFER, DOWNLINK | | | | RIM INFORMATION | | | | TRANSFER | +----------------------+----------------------+----------------------+ | NOTE 1: The AMF | | | | receives the UE | | | | Radio Capability and | | | | UE Radio Capability | | | | for Paging within a | | | | UE CAPABILITY INFO | | | | INDICATION message | | | | and then the AMF | | | | shall store the UE | | | | Radio Capability | | | | information and UE | | | | Radio Capability for | | | | Paging, and transfer | | | | them to the target | | | | AMF during an inter | | | | AMF mobility | | | | procedure. | | | +----------------------+----------------------+----------------------+
For N2 information class NRPPa, N2 Information may encode the following NGAP
NRPPA Transport related IE specified in 3GPP TS 38.413 [12], as summarized in
Table 6.1.6.4.3.2-3
Table 6.1.6.4.3.2-3: N2 Information content for class NRPPa
+-----------+-------------------------+---------------------------+ | NGAP IE | Reference | Related NGAP message | | | | | | | (3GPP TS 38.413 [12]) | | +===========+=========================+===========================+ | NRPPa-PDU | 9.3.3.14 | DOWNLINK UE ASSOCIATED | | | | NRPPA TRANSPORT | | | | | | | | UPLINK UE ASSOCIATED | | | | NRPPA TRANSPORT | | | | | | | | DOWNLINK NON UE | | | | ASSOCIATED NRPPA | | | | TRANSPORT | | | | | | | | UPLINK NON UE ASSOCIATED | | | | NRPPA TRANSPORT | +-----------+-------------------------+---------------------------+
For N2 information class V2X, N2 Information may encode the following V2X
related IE specified in 3GPP TS 38.413 [12], as summarized in Table
6.1.6.4.3.2-4
Table 6.1.6.4.3.2-4: N2 Information content for class V2X
+--------------------+-------------------------+---------------------------------+ | NGAP IE | Reference | Related NGAP message | | | | | | | (3GPP TS 38.413 [12]) | | +====================+=========================+=================================+ | PC5 QoS Parameters | 9.3.1.150 | INITIAL CONTEXT SETUP REQUEST | | | | | | | | UE CONTEXT MODIFICATION REQUEST | | | | | | | | HANDOVER REQUEST | | | | | | | | PATH SWITCH REQUEST ACKNOWLEDGE | +--------------------+-------------------------+---------------------------------+
For N2 information class PROSE, N2 Information may encode the following ProSe
related IE specified in 3GPP TS 38.413 [12], as summarized in Table
6.1.6.4.3.2-5
Table 6.1.6.4.3.2-5: N2 Information content for class PROSE
+----------------------+----------------------+----------------------+ | NGAP IE | Reference | Related NGAP message | | | | | | | (3G | | | | PP TS 38.413 [12]) | | +======================+======================+======================+ | 5G ProSe PC5 QoS | 9.3.1.234 | INITIAL CONTEXT | | Parameters | | SETUP REQUEST | | | | | | | | UE CONTEXT | | | | MODIFICATION REQUEST | | | | | | | | HANDOVER REQUEST | | | | | | | | PATH SWITCH REQUEST | | | | ACKNOWLEDGE | +----------------------+----------------------+----------------------+
For N2 information class TSS, N2 Information may encode the following TSS
(Timing Synchronisation Status information) related IE specified in 3GPP TS
38.413 [12], as summarized in Table 6.1.6.4.3.2-6
Table 6.1.6.4.3.2-6: N2 Information content for class TSS
+----------------------+----------------------+----------------------+ | NGAP IE | Reference | Related NGAP message | | | | | | | (3G | | | | PP TS 38.413 [12]) | | +======================+======================+======================+ | Clock Quality | 9.3.1.X | FFS | | Reporting Control | | | | Information | | | +----------------------+----------------------+----------------------+ | RAN Timing | 9.3.1.Y | FFS | | Synchronisation | | | | Status Information | | | +----------------------+----------------------+----------------------+
Editor\'s note: Further details on the new NGAP IEs to be aligned with RAN
WG3.
For N2 information class RSPP, N2 Information may encode one of the following
RSPP related IEs specified in 3GPP TS 38.413 [12], as summarized in Table
6.1.6.4.3.2-7.
Table 6.1.6.4.3.2-7: N2 Information content for class RSPP
+----------------------+----------------------+----------------------+ | NGAP IE | Reference | Related NGAP message | | | | | | | (3G | | | | PP TS 38.413 [12]) | | +======================+======================+======================+ | PC5 QoS Parameters | 9.3.1.150 | INITIAL CONTEXT | | | | SETUP REQUEST | | | | | | | | UE CONTEXT | | | | MODIFICATION REQUEST | | | | | | | | HANDOVER REQUEST | | | | | | | | PATH SWITCH REQUEST | | | | ACKNOWLEDGE | +----------------------+----------------------+----------------------+ | 5G ProSe PC5 QoS | 9.3.1.234 | INITIAL CONTEXT | | Parameters | | SETUP REQUEST | | | | | | | | UE CONTEXT | | | | MODIFICATION REQUEST | | | | | | | | HANDOVER REQUEST | | | | | | | | PATH SWITCH REQUEST | | | | ACKNOWLEDGE | +----------------------+----------------------+----------------------+
For N2 information class A2X, N2 Information may encode the following A2X
related IE specified in 3GPP TS 38.413 [12], as summarized in Table
6.1.6.4.3.2-8
Table 6.1.6.4.3.2-8: N2 Information content for class A2X
+--------------------+-----------------------+-----------------------+ | **NGAP IE** | **Reference** | **Related NGAP | | | | message** | | | **(3GP | | | | P TS 38.413 [12])** | | +====================+=======================+=======================+ | PC5 QoS Parameters | 9.3.1.150 | INITIAL CONTEXT SETUP | | | | REQUEST | | | | | | | | UE CONTEXT | | | | MODIFICATION REQUEST | | | | | | | | HANDOVER REQUEST | | | | | | | | PATH SWITCH REQUEST | | | | ACKNOWLEDGE | +--------------------+-----------------------+-----------------------+
###### 6.1.6.4.3.3 NGAP Messages
For N2 information class PWS, N2 Information shall encode NGAP Messages
specified in 3GPP TS 38.413 [12].
Table 6.1.6.4.3.3-1: N2 PWS Request Information content
+-------------------------------+-------------------------+ | NGAP message | Reference | | | | | | (3GPP TS 38.413 [12]) | +===============================+=========================+ | WRITE-REPLACE WARNING REQUEST | 9.2.8.1 | +-------------------------------+-------------------------+ | PWS CANCEL REQUEST | 9.2.8.3 | +-------------------------------+-------------------------+
Table 6.1.6.4.3.3-2: N2 PWS Response Information content
+--------------------------------+-------------------------+ | NGAP message | Reference | | | | | | (3GPP TS 38.413 [12]) | +================================+=========================+ | WRITE-REPLACE WARNING RESPONSE | 9.2.8.2 | +--------------------------------+-------------------------+ | PWS CANCEL RESPONSE | 9.2.8.4 | +--------------------------------+-------------------------+
N2 Information received by the AMF for PWS may be processed by the AMF before
re-encoding and transferring to the Service Consumer.
If a subscription exists for N2InformationClass \"PWS-BCAL\" and the received
N2 Message Type is a WRITE-REPLACE-WARNING-RESPONSE, then the AMF may
aggregate the Broadcast Completed Area Lists it has received from the NG-RAN
nodes for a message identified by its Serial Number and Message Identifier
(see table 6.1.6.4.3.3-1) and transfer the ASN.1 (re-)encoded Message Type,
Message Identifier, Serial Number and the (aggregated) Broadcast Completed
Area List IE in the N2 Info Container in the N2InfoNotify, and the
\"bcEmptyAreaList\" attribute if the Broadcast Completed Area List IE is not
present in the PWS N2 information.
If a subscription exists for N2InformationClass \"PWS-BCAL\" and the received
N2 Message Type is a PWS-CANCEL-RESPONSE, then the AMF may aggregate the
Broadcast Cancelled Area Lists IE it has received from the NG-RAN nodes for a
message identified by its Serial Number and Message Identifier (see table
6.1.6.4.3.3-1) and transfer the ASN.1 (re-)encoded the Message Type, Message
Identifier, Serial Number, the (aggregated) Broadcast Cancelled Area List IE
in the N2 Info Container in the N2InfoNotify, and the \"bcEmptyAreaList\"
attribute if the PWS-CANCEL-RESPONSE does not contain a Broadcast Cancelled
Area List, in the PWS N2 information.
For the ASN.1 definition for encoding the WRITE-REPLACE-WARNING-RESPONSE and
the PWS-CANCEL-RESPONSE, see clause 9.4 of 3GPP TS 38.413 [12].
If a subscription exists for N2InformationClass \"PWS-RF\" and the received N2
Message Type is a PWS-RESTART-INDICATION, then the AMF may transfer the ASN.1
encoded string from the PWS-RESTART-INDICATION (see table 6.1.6.4.3.3-3) in
the N2 Info Container in the N2InfoNotify.
If a subscription exists for N2InformationClass \"PWS-RF\" and the received N2
Message Type is a PWS-FAILURE-INDICATION (see table 6.1.6.4.3.3-3), then the
AMF may transfer the ASN1 encoded string from the PWS-FAILURE-INDICATION in
the N2 Info Container in the N2InfoNotify.
Table 6.1.6.4.3.3-3: N2 PWS Indication Information content
+------------------------+-------------------------+ | NGAP message | Reference | | | | | | (3GPP TS 38.413 [12]) | +========================+=========================+ | PWS RESTART INDICATION | 9.2.8.5 | +------------------------+-------------------------+ | PWS FAILURE INDICATION | 9.2.8.6 | +------------------------+-------------------------+
The Message Type shall be present and encoded as the first N2 PWS Indication
IE in any NonUeN2InfoNotify for PWS messages to enable the receiver to decode
the N2 PWS IEs.
For N2 information class RAN, N2 Information shall encode one of the following
NGAP messages specified in 3GPP TS 38.413 [12], as summarized in Table
6.1.6.4.3.3-4.
Table 6.1.6.4.3.3-4: N2 Information content for class RAN
+-------------------------------------+-------------------------+ | NGAP message | Reference | | | | | | (3GPP TS 38.413 [12]) | +=====================================+=========================+ | Any UE specific Uplink NGAP message | | +-------------------------------------+-------------------------+
##### 6.1.6.4.4 Mobile Terminated Data
Mobile Terminated Data shall encode the user data to be sent by the AMF to the
UE in the Payload Container specified in 3GPP TS 24.501 [7], using the
vnd.3gpp.5gnas content-type, as summarized in Table 6.1.6.4.4-1.
Table 6.1.6.4.4-1: Mobile Terminated Data
+----------------------+----------------------+----------------------+ | Mobile Terminated | Reference | Related NAS SM | | Data | | message | | | (3 | | | | GPP TS 24.501 [7]) | | +======================+======================+======================+ | Payload container | 9.11.3.39\ | DL NAS Transport | | contents in octets 4 | (Figure 9.11.3.39.1) | | | to n | | | +----------------------+----------------------+----------------------+
##### 6.1.6.4.5 GTP-C Message
GTP-C Message shall encode a GTP-C message of a specified type (e.g. Forward
Relocation Request) as specified in 3GPP TS 29.274 [41], using the
vnd.3gpp.gtpc content-type. The GTP-C message carried in the HTTP multipart
message shall include the UDP/IP headers.
GTP-C Message may encode e.g. the following GTP-C messages:
\- Mobility Management message:
\- Forward Relocation Request (see clause 7.3.1 of 3GPP TS 29.274 [41]) during
EPS to 5GS handover with AMF re-allocation procedure (see clause 4.11.1.2.2 of
3GPP TS 23.502 [3]);
\- Relocation Cancel Request (see clause 7.3.16 of 3GPP TS 29.274 [41]) during
EPS to 5GS handover with AMF re-allocation procedure (see clause 4.11.1.2.3 of
3GPP TS 23.502 [3]), if handover cancel is triggered.
### 6.1.7 Error Handling
#### 6.1.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS
29.500 [4].
#### 6.1.7.2 Protocol Errors
Protocol Error Handling shall be supported as specified in clause 5.2.7.2 of
3GPP TS 29.500 [4].
#### 6.1.7.3 Application Errors
The common application errors defined in the Table 5.2.7.2-1 in 3GPP TS 29.500
[4] may also be used for the Namf_Communication service. The following
application errors listed in Table 6.1.7.3-1 are specific for the
Namf_Communication service.
Table 6.1.7.3-1: Application errors
+----------------------+----------------------+----------------------+ | Application Error | HTTP status code | Description | +======================+======================+======================+ | NF_CONSUMER | 307 Temporary | The request has been | | _REDIRECT_ONE_TXN | Redirect | asked to be | | | | redirected to a | | | | specified target. | +----------------------+----------------------+----------------------+ | HANDOVER_FAILURE | 403 Forbidden | Creation of UE | | | | context or | | | | relocation in the | | | | target AMF failed | | | | during Handover | | | | procedure causing a | | | | failure of handover. | +----------------------+----------------------+----------------------+ | IN | 403 Forbidden | Integrity check of | | TEGRITY_CHECK_FAIL | | the complete | | | | registration message | | | | included in the UE | | | | context transfer | | | | request failed. | +----------------------+----------------------+----------------------+ | EBI_EXHAUSTED | 403 Forbidden | Allocation of EPS | | | | Bearer ID failed due | | | | to exhaustion of EBI | | | | as the maximum | | | | number of EBIs has | | | | already been | | | | allocated to the UE. | +----------------------+----------------------+----------------------+ | EBI_REJ | 403 Forbidden | Allocation of EPS | | ECTED_LOCAL_POLICY | | Bearer ID failed due | | | | to local policy at | | | | the AMF as specified | | | | in clause 4.11.1.4.1 | | | | of | | | | 3 | | | | GPP TS 23.502 [3]. | +----------------------+----------------------+----------------------+ | EB | 403 Forbidden | The allocation of | | I_REJECTED_NO_N26 | | EPS Bearer ID was | | | | rejected when the | | | | AMF is in a serving | | | | PLMN that does not | | | | support 5GS-EPS | | | | interworking | | | | procedures with N26 | | | | interface. | +----------------------+----------------------+----------------------+ | SU | 403 Forbidden | The SUPI or PEI | | PI_OR_PEI_UNKNOWN | | included in the | | | | message is unknown. | +----------------------+----------------------+----------------------+ | UE_IN | 403 Forbidden | UE is currently in a | | _NON_ALLOWED_AREA | | non-allowed area | | | | hence the N1/N2 | | | | message transfer | | | | cannot be completed | | | | because the request | | | | is not associated | | | | with a regulatory | | | | prioritized service. | +----------------------+----------------------+----------------------+ | UNSPECIFIED | 403 Forbidden | The request is | | | | rejected due to | | | | unspecified reasons. | +----------------------+----------------------+----------------------+ | SM_CONTEXT_ | 403 Forbidden | The request is | | RELOCATION_REQUIRED | | rejected because the | | | | SM Context should be | | | | relocated to another | | | | SMF, e.g. when AMF | | | | detects that an | | | | I-SMF or V-SMF | | | | insertion, change or | | | | removal is needed, | | | | as specified in | | | | clause 4.23 of | | | | 3 | | | | GPP TS 23.502 [3]. | +----------------------+----------------------+----------------------+ | UE_WITHO | 403 Forbidden | UE does not support | | UT_N1_LPP_SUPPORT | | LPP in N1 mode hence | | | | the N1 LPP message | | | | cannot be sent to | | | | the UE. | +----------------------+----------------------+----------------------+ | INVALID_SM_CONTEXT | 403 Forbidden | The request is | | | | rejected because the | | | | SM Context is | | | | invalid for the PDU | | | | session, i.e. active | | | | SM Context for the | | | | PDU session (with | | | | same PDU Session ID) | | | | has been created on | | | | another SMF. | | | | | | | | (NOTE) | +----------------------+----------------------+----------------------+ | INVALID_PRU | 403 Forbidden | The request is | | | | rejected because the | | | | request is to | | | | initiate a | | | | positioning | | | | procedure towards a | | | | PRU and the target | | | | UE is not a valid | | | | PRU. | +----------------------+----------------------+----------------------+ | CONTEXT_NOT_FOUND | 404 Not Found | The requested UE | | | | Context does not | | | | exist on the AMF | +----------------------+----------------------+----------------------+ | HIGHER_PRIORI | 409 Conflict | Paging triggered | | TY_REQUEST_ONGOING | | N1/N2 transfer | | | | cannot be initiated | | | | since already there | | | | is a paging due to a | | | | higher priority | | | | session ongoing. | +----------------------+----------------------+----------------------+ | TEMPORARY_REJECT_R | 409 Conflict | N1/N2 message | | EGISTRATION_ONGOING | | transfer towards UE | | | | / AN cannot be | | | | initiated or the EBI | | | | assignment fails due | | | | to an ongoing | | | | registration | | | | procedure. | +----------------------+----------------------+----------------------+ | TEMPORARY_REJEC | 409 Conflict | N1/N2 message | | T_HANDOVER_ONGOING | | transfer towards UE | | | | / AN cannot be | | | | initiated due to an | | | | ongoing Xn or N2 | | | | handover procedure, | | | | or the EBI | | | | assignment fails due | | | | to an ongoing N2 | | | | handover procedure | | | | or an ongoing Xn | | | | handover procedure. | +----------------------+----------------------+----------------------+ | UE\ | 409 Conflict | N2 message transfer | | _IN_CM_IDLE_STATE | | towards 5G-AN cannot | | | | be initiated due to | | | | the UE being in | | | | CM-IDLE state for | | | | the Access Network | | | | Type associated to | | | | the PDU session. | +----------------------+----------------------+----------------------+ | MAX_ACTIVE | 409 Conflict | If the RAT type is | | _SESSIONS_EXCEEDED | | NB-IoT, and the UE | | | | already has 2 PDU | | | | Sessions with active | | | | user plane | | | | resources. | +----------------------+----------------------+----------------------+ | REJECTION_DUE_TO\ | 409 Conflict | If Paging | | _PAGING_RESTRICTION | | Restrictions | | | | information | | | | restricts the | | | | N1N2MessageTransfer | | | | request from causing | | | | paging as defined in | | | | 3GPP TS 23.501 [2] | | | | clause 5.38.5. | +----------------------+----------------------+----------------------+ | UE_NOT_REACHABLE | 504 Gateway Timeout | The UE is not | | | | reachable for | | | | paging. | +----------------------+----------------------+----------------------+ | UE_NOT_RESPONDING | 504 Gateway Timeout | The UE is not | | | | responding for | | | | paging. | +----------------------+----------------------+----------------------+ | NOTE: More than one | | | | SM Contexts may be | | | | present in the | | | | network for the same | | | | PDU Session ID, e.g. | | | | when the UE | | | | established a new | | | | PDU session with the | | | | same PDU Session ID | | | | and the AMF failed | | | | to release the old | | | | SM Context in the | | | | old SMF. In such a | | | | scenario, if the old | | | | SMF tries to send N1 | | | | and/or N2 Message to | | | | the RAN/UE, the AMF | | | | shall respond with | | | | this application | | | | error if the AMF | | | | identified that | | | | service operation is | | | | invoked by the SMF | | | | holding the old SM | | | | Context. | | | +----------------------+----------------------+----------------------+
### 6.1.8 Feature Negotiation
The feature negotiation mechanism specified in clause 6.6 of 3GPP TS 29.500
[4] shall be used to negotiate the optional features applicable between the
AMF and the NF Service Consumer, for the Namf_Communication service, if any.
The NF Service Consumer shall indicate the optional features it supports for
the Namf_Communication service, if any, by including the supportedFeatures
attribute in payload of the HTTP Request Message for following service
operations:
\- N1N2MessgeTransfer, as specified in clause 5.2.2.3.1;
\- N1N2MessageSubscribe, as specified in clause 5.2.2.3.3;
\- NonUeN2InfoSubscribe, as specified in clause 5.2.2.4.2;
\- UeContextTransfer, as specified in clause 5.2.2.2.1;
\- CreateUEContext, as specified in clause 5.2.2.2.3
The AMF shall determine the supported features for the service operations as
specified in clause 6.6 of 3GPP TS 29.500 [4] and shall indicate the supported
features by including the supportedFeatures attribute in payload of the HTTP
response for the service operation.
The syntax of the supportedFeatures attribute is defined in clause 5.2.2 of
3GPP TS 29.571 [6].
The following features are defined for the Namf_Communication service.
Table 6.1.8-1: Features of supportedFeatures attribute used by
Namf_Communication service
+-----------------------+-------------+-----+-----------------------+ | Feature Number | Feature | M/O | Description | +-----------------------+-------------+-----+-----------------------+ | 1 | DTSSA | O | Deployments | | | | | Topologies with | | | | | specific SMF Service | | | | | Areas. | | | | | | | | | | An AMF that supports | | | | | this feature shall | | | | | support the | | | | | procedures specified | | | | | in clause 5.34 of | | | | | 3GPP TS 23.501 [2] | | | | | and in clause 4.23 of | | | | | 3GPP TS 23.502 [3]. | +-----------------------+-------------+-----+-----------------------+ | 2 | ENS | O | This feature bit | | | | | indicates whether the | | | | | AMF supports | | | | | procedures related to | | | | | Network Slicing (see | | | | | 3GPP TS 23.501 [2] | | | | | clause 5.15.7). This | | | | | includes supporting | | | | | the RelocateUEContext | | | | | service operation | | | | | (see | | | | | clause 5.2.2.2.5). | +-----------------------+-------------+-----+-----------------------+ | 3 | CIOT | O | Cellular IoT | | | | | | | | | | Support of this | | | | | feature implies the | | | | | support of all the | | | | | CIoT features | | | | | specified in clause | | | | | 5.31 of | | | | | 3GPP TS 23.501 [2], | | | | | including in | | | | | particular | | | | | corresponding | | | | | service\'s extensions | | | | | to support: | | | | | | | | | | - NB-IoT and LTE-M | | | | | RAT types; | | | | | | | | | | - Control Plane CIoT | | | | | 5GS Optimisation; | | | | | | | | | | - Rate control of | | | | | user data. | +-----------------------+-------------+-----+-----------------------+ | 4 | MAPDU | O | This feature bit | | | | | indicates whether the | | | | | AMF supports | | | | | Multi-Access PDU | | | | | session procedures | | | | | related to Access | | | | | Traffic Steering, | | | | | Switching and | | | | | Splitting (see | | | | | clauses 4.2.10 and | | | | | 5.32 of | | | | | 3 | | | | | GPP TS 23.501 [2]). | +-----------------------+-------------+-----+-----------------------+ | 5 | NPN | O | Non-Public Network | | | | | | | | | | Support of this | | | | | feature implies | | | | | support of NPN | | | | | information and | | | | | receipt of a Create | | | | | UE context error | | | | | response with a | | | | | binary part during an | | | | | Inter-AMF N2 | | | | | Handover. | +-----------------------+-------------+-----+-----------------------+ | 6 | ELCS | O | This feature | | | | | indicates supports of | | | | | enhanced LCS, | | | | | including the | | | | | capability for the | | | | | AMF to send an LCS | | | | | message through the | | | | | target access type | | | | | requested by the LMF. | +-----------------------+-------------+-----+-----------------------+ | 7 | ES3XX | M | Extended Support of | | | | | HTTP 307/308 | | | | | redirection | | | | | | | | | | An NF Service | | | | | Consumer (e.g. SMF) | | | | | that supports this | | | | | feature shall support | | | | | handling of HTTP | | | | | 307/308 redirection | | | | | for any service | | | | | operation of the | | | | | Namf_Communication | | | | | service. An NF | | | | | Service Consumer that | | | | | does not support this | | | | | feature does only | | | | | support HTTP | | | | | redirection as | | | | | specified for 3GPP | | | | | Release 15. | +-----------------------+-------------+-----+-----------------------+ | 8 | EAEA | O | EBI and ARP mapping | | | | | update in | | | | | EBIAssignment | | | | | | | | | | Support of this | | | | | feature implies | | | | | support of updating | | | | | the mapping of EBI | | | | | and ARP in | | | | | EBIAssignment for a | | | | | QoS flow to which an | | | | | EBI is already | | | | | allocated. | +-----------------------+-------------+-----+-----------------------+ | 9 | ProSe | O | This feature | | | | | indicates the support | | | | | of UE policy and N2 | | | | | information | | | | | provisioning for 5G | | | | | ProSe. | +-----------------------+-------------+-----+-----------------------+ | 10 | UAV | O | Uncrewed Aerial | | | | | Vehicle | | | | | | | | | | This feature | | | | | indicates the support | | | | | of UAV feature at | | | | | AMF. When this | | | | | feature is supported | | | | | at the AMF, the AMF | | | | | shall perform the | | | | | UUAA-MM procedure | | | | | defined in | | | | | 3 | | | | | GPP TS 23.256 [56]. | +-----------------------+-------------+-----+-----------------------+ | 11 | SPAE | O | SM Policy Association | | | | | Events | | | | | | | | | | This feature bit | | | | | indicates whether the | | | | | AMF supports the SM | | | | | Policy Association | | | | | establishment and | | | | | termination event | | | | | notification | | | | | information handling, | | | | | i.e. whereby the PCF | | | | | for UE subscribes to | | | | | SM Policy Association | | | | | events to the PCF for | | | | | SM Policy via the AMF | | | | | and SMF, as specified | | | | | in clause 4.3.2.2.1 | | | | | and clause 4.3.3.2 of | | | | | 3GPP TS 23.502 [3]. | +-----------------------+-------------+-----+-----------------------+ | 12 | eNPN | O | Enhanced support of | | | | | Non-Public Networks | | | | | (eNPN) | | | | | | | | | | This feature | | | | | indicates the AMF | | | | | supports UE | | | | | registration for | | | | | onboarding in an | | | | | SNPN, see | | | | | clause 5.30.2.10.2.6 | | | | | and | | | | | clause 5.30.2.10.2.7 | | | | | in | | | | | 3 | | | | | GPP TS 23.501 [2]). | +-----------------------+-------------+-----+-----------------------+ | 13 | 3GA-N3GA-HO | O | Handover between 3GPP | | | | | and non-3GPP accesses | | | | | | | | | | An AMF and SMF that | | | | | supports Handover | | | | | between 3GPP and | | | | | non-3GPP accesses | | | | | shall support this | | | | | feature, i.e. setting | | | | | the targetAccess IE | | | | | in | | | | | N1N2MessageTransfer | | | | | Request to the old | | | | | access type when | | | | | releasing the N2 PDU | | | | | session resources in | | | | | the old access (see | | | | | clauses 5.2.2.3.1.1 | | | | | and 6.1.6.2.18) | +-----------------------+-------------+-----+-----------------------+ | 14 | PAR-NS | O | Partially | | | | | Allowed/Rejected | | | | | Network Slice | | | | | | | | | | This feature | | | | | indicates the AMF | | | | | supports the | | | | | partially allowed | | | | | network slice and the | | | | | partially reject | | | | | Network slice. See | | | | | 3GPP TS 23.501 [2] | | | | | clause 5.15.17. | +-----------------------+-------------+-----+-----------------------+ | 15 | NTSSM | | Network Timing | | | | | Synchronization | | | | | Status Monitoring | | | | | | | | | | This feature bit | | | | | indicates that the | | | | | AMF supports | | | | | transferring TSS | | | | | related information | | | | | in the | | | | | N2Infor | | | | | mationTransferReqData | | | | | and a subscription, | | | | | e.g. created by a | | | | | TSCTSF, to get | | | | | notification for | | | | | Non-UE related N2 | | | | | Information for the | | | | | Network Timing | | | | | Synchronization | | | | | Status information. | +-----------------------+-------------+-----+-----------------------+ | 16 | RACS | O | Support of RACS | | | | | feature as specified | | | | | in clause 5.4.4.1a in | | | | | 3 | | | | | GPP TS 23.501 [2]). | | | | | | | | | | During an Inter AMF | | | | | mobility procedure, | | | | | the source AMF may | | | | | decide to not include | | | | | ueRadioCapability and | | | | | ueRad | | | | | ioCapabilityForPaging | | | | | in the | | | | | UeC | | | | | ontextTransferRspData | | | | | or | | | | | UeContextCreateData | | | | | if the target AMF | | | | | supports RACS | | | | | feature, the target | | | | | AMF can retrieve the | | | | | same using UE Radio | | | | | Capability ID Id(s) | | | | | included in the MM | | | | | Context. | +-----------------------+-------------+-----+-----------------------+ | 17 | RSPP | O | This feature | | | | | indicates the support | | | | | of UE policy and N2 | | | | | information | | | | | provisioning for | | | | | Ranging/SL | | | | | positioning as | | | | | specified in | | | | | clause 6.3.7 of | | | | | 3 | | | | | GPP TS 23.586 [59]. | +-----------------------+-------------+-----+-----------------------+ | 18 | A2X | O | This feature | | | | | indicates the support | | | | | of UE policy and N2 | | | | | information | | | | | provisioning for A2X | | | | | communication as | | | | | specified in | | | | | 3GPP TS 23.256 [56] | +-----------------------+-------------+-----+-----------------------+ | Feature number: The | | | | | order number of the | | | | | feature within the | | | | | s**upportedFeatures | | | | | attribute (starting | | | | | with 1).** | | | | | | | | | | **Feature: A short | | | | | name that can be used | | | | | to refer to the bit | | | | | and to the feature.** | | | | | | | | | | **M/O: Defines if the | | | | | implementation of the | | | | | feature is mandatory | | | | | (** \"**M** \"**) or | | | | | optional | | | | | (** \"**O** \"**).** | | | | | | | | | | Description: A clear | | | | | textual description | | | | | of the feature. | | | | +-----------------------+-------------+-----+-----------------------+
### 6.1.9 Security
As indicated in 3GPP TS 33.501 [27], the access to the Namf_Communication API
may be authorized by means of the OAuth2 protocol (see IETF RFC 6749 [28]),
using the \"Client Credentials\" authorization grant, where the NRF (see 3GPP
TS 29.510 [29]) plays the role of the authorization server.
If Oauth2 authorization is used, an NF Service Consumer, prior to consuming
services offered by the Namf_Communication API, shall obtain a \"token\" from
the authorization server, by invoking the Access Token Request service, as
described in 3GPP TS 29.510 [29], clause 5.4.2.2.
NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used for
discovering the Namf_Communication service.
The Namf_Communication API defines the following scopes for OAuth2
authorization as specified in 3GPP TS 33.501 [27].
Table 6.1.9-1: OAuth2 scopes defined in Namf_Communications API
Scope Description
* * *
\"namf-comm\" Access to the Namf_Communications API. \"namf-comm:ue-
contexts:mobility\" Access to service operations applying to UE context
resources for inter-AMF mobility, i.e., UEContextTransfer,
RegistrationStatusUpdate, CreateUEContext, ReleaseUEContext, RelocateUEContext
and CancelRelocateUEContext. \"namf-comm:ue-contexts:assign-ebi\" Access to
service operations applying to UE context resources for EBI assignment, i.e.,
EBIAssignment. \"namf-comm:n1-n2-messages\" Access to service operations
applying to the n1-n2-messages resource, i.e., N1N2MessageSubscribe,
N1N2MessageUnSubscribe, N1N2MessageTransfer, N1MessageNotify, and
N2InfoNotify. \"namf-comm:non-ue-n2-messages\" Access to service operations
applying to the non-ue-n2-messages resource, i.e., NonUeN2MessageTransfer,
NonUeN2InfoSubscribe, NonUeN2InfoUnSubscribe, and NonUeN2InfoNotify.
### 6.1.10 HTTP redirection
An HTTP request may be redirected to a different AMF service instance, within
the same AMF or a different AMF of an AMF set, e.g. when an AMF service
instance is part of an AMF (service) set or when using indirect communications
(see 3GPP TS 29.500 [4]). See the ES3XX feature in clause 6.1.8.
An SCP that reselects a different AMF producer instance will return the NF
Instance ID of the new AMF producer instance in the 3gpp-Sbi-Producer-Id
header, as specified in clause 6.10.3.4 of 3GPP TS 29.500 [4].
If an AMF within an AMF set redirects a service request to a different AMF of
the set using an 307 Temporary Redirect or 308 Permanent Redirect status code,
the identity of the new AMF towards which the service request is redirected
shall be indicated in the 3gpp-Sbi-Target-Nf-Id header of the 307 Temporary
Redirect or 308 Permanent Redirect response as specified in clause 6.10.9.1 of
3GPP TS 29.500 [4].
## 6.2 Namf_EventExposure Service API
### 6.2.1 API URI
The Namf_EventExposure shall use the Namf_EventExposure API.
The API URI of the Namf_EventExposure API shall be:
**{apiRoot}/\ /\/**
The request URI used in HTTP requests from the NF service consumer towards the
NF service producer shall have the Resource URI structure defined in clause
4.4.1 of 3GPP TS 29.501 [5], i.e.:
**{apiRoot}/\ /\/\**
with the following components:
\- The {apiRoot} shall be set as described in 3GPP TS 29.501 [5].
\- The \ shall be \"namf-evts\".
\- The \ shall be \"v1\".
\- The \ shall be set as described in clause
6.2.3.
### 6.2.2 Usage of HTTP
#### 6.2.2.1 General
HTTP/2, as defined in IETF RFC 7540 [19], shall be used as specified in clause
5 of 3GPP TS 29.500 [4].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].
HTTP messages and bodies for the Namf_EventExposure service shall comply with
the OpenAPI [23] specification contained in Annex A.
#### 6.2.2.2 HTTP standard headers
##### 6.2.2.2.1 General
The usage of HTTP standard headers shall be supported as specified in clause
5.2.2 of 3GPP TS 29.500 [4].
##### 6.2.2.2.2 Content type
The following content types shall be supported:
\- JSON, as defined in IETF RFC 8259 [8], shall be used as content type of the
HTTP bodies specified in the present specification as indicated in clause 5.4
of 3GPP TS 29.500 [4].
\- The Problem Details JSON Object (IETF RFC 7807 [36]). The use of the
Problem Details JSON object in a HTTP response body shall be signalled by the
content type \"application/problem+json\".
\- JSON Patch (IETF RFC 6902 [14]). The use of the JSON Patch format in a HTTP
request body shall be signalled by the content type \"application/json-
patch+json\".
#### 6.2.2.3 HTTP custom headers
##### 6.2.2.3.1 General
In this release of this specification, no custom headers specific to the
Namf_EventExposure service are defined. For 3GPP specific HTTP custom headers
used across all service based interfaces, see clause 5.2.3 of 3GPP TS 29.500
[4].
### 6.2.3 Resources
#### 6.2.3.1 Overview
Figure 6.2.3.1-1: Resource URI structure of the Namf_EventExposure API
Table 6.2.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 6.2.3.1-1: Resources and methods overview
Resource name Resource URI HTTP method or custom operation Description
* * *
Subscriptions collection /subscriptions POST Mapped to the service operation
Subscribe, when to create a subscription Individual subscription
/{subscriptionId} PATCH Mapped to the service operation Subscribe, when to
modify DELETE Mapped to the service operation Unsubscribe
#### 6.2.3.2 Resource: Subscriptions collection
##### 6.2.3.2.1 Description
This resource represents a collection of subscriptions created by NF service
consumers of Namf_EventExposure service.
This resource is modelled as the Collection resource archetype (see clause C.2
of 3GPP TS 29.501 [5]).
##### 6.2.3.2.2 Resource Definition
Resource URI: **{apiRoot}/namf-evts/\ /subscriptions**
This resource shall support the resource URI variables defined in table
6.2.3.2.2-1.
Table 6.2.3.2.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.2.1 apiVersion string See clause 6.2.1.
##### 6.2.3.2.3 Resource Standard Methods
###### 6.2.3.2.3.1 POST
This method shall support the URI query parameters specified in table
6.2.3.2.3.1-1.
Table 6.2.3.2.3.1-1: URI query parameters supported by the POST method on this
resource
Name Data type P Cardinality Description
* * *
n/a
This method shall support the request data structures specified in table
6.2.3.2.3.1-2 and the response data structures and response codes specified in
table 6.2.3.2.3.1-3.
Table 6.2.3.2.3.1-2: Data structures supported by the POST Request Body on
this resource
Data type P Cardinality Description
* * *
AmfCreateEventSubscription M 1 Describes of an AMF Event Subscription to be
created
Table 6.2.3.2.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | A | M | 1 | 201 Created | Represents | | mfCreatedEven | | | | successful | | tSubscription | | | | creation of | | | | | | an AMF Event | | | | | | Subscription | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | Indicates the | | roblemDetails | | | | creation of | | | | | | subscription | | | | | | has failed | | | | | | due to | | | | | | application | | | | | | error. | | | | | | | | | | | | The \"cause\" | | | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | > \- | | | | | | > UE_NOT_SE | | | | | | RVED_BY_AMF | | | | | | > (for a | | | | | | > | | | | | | subscription | | | | | | > targeting a | | | | | | > specific | | | | | | > UE) | | | | | | > | | | | | | > \- | | | | | | > MUTING\ | | | | | | _EXC_INSTR_ | | | | | | NOT_ACCEPTED | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP or | | | | | | SEPP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.2.3.1-4: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/namf-
evts/\/subscriptions/{subscriptionId}
* * *
Table 6.2.3.2.3.1-5: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.2.3.2.3.1-6: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
##### 6.2.3.2.4 Resource Custom Operations
None.
#### 6.2.3.3 Resource: Individual subscription
##### 6.2.3.3.1 Description
This resource represents an individual of subscription created by NF service
consumers of Namf_EventExposure service.
This resource is modelled as the Document resource archetype (see clause C.1
of 3GPP TS 29.501 [5]).
##### 6.2.3.3.2 Resource Definition
Resource URI: **{apiRoot}/namf-evts/\
/subscriptions/{subscriptionId}**
This resource shall support the resource URI variables defined in table
6.2.3.3.2-1.
Table 6.2.3.3.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.2.1 apiVersion string See clause 6.2.1.
subscriptionId string String identifies an individual subscription to the AMF
event exposure service
##### 6.2.3.3.3 Resource Standard Methods
###### 6.2.3.3.3.1 PATCH
This method shall support the URI query parameters specified in table
6.2.3.3.3.1-1.
Table 6.2.3.3.3.1-1: URI query parameters supported by the PATCH method on
this resource
Name Data type P Cardinality Description
* * *
n/a
This method shall support the request data structures specified in table
6.2.3.3.3.1-2 and the response data structures and response codes specified in
table 6.2.3.3.3.1-3.
Table 6.2.3.3.3.1-2: Data structures supported by the PATCH Request Body on
this resource
Data type P Cardinality Description
* * *
array(AmfUpdateEventSubscriptionItem) M 1..N Document describes the
modification(s) to a AMF Event Subscription array(AmfUpdateEventOptionItem) M
1..1 Document describing the modification to the event subscription options
(e.g subscription expiry time).
Table 6.2.3.3.3.1-3: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | A | M | 1 | 200 OK | Represents a | | mfUpdatedEven | | | | successful | | tSubscription | | | | update on AMF | | | | | | Event | | | | | | Subscription | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | Indicates the | | roblemDetails | | | | modification | | | | | | of | | | | | | subscription | | | | | | has failed | | | | | | due to | | | | | | application | | | | | | error. | | | | | | | | | | | | The \"cause\" | | | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | > \- | | | | | | > MUTING\ | | | | | | _EXC_INSTR_ | | | | | | NOT_ACCEPTED | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | Indicates the | | roblemDetails | | | | modification | | | | | | of | | | | | | subscription | | | | | | has failed | | | | | | due to | | | | | | application | | | | | | error. | | | | | | | | | | | | The \"cause\" | | | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | > \- | | | | | | > SUBSCRIPTIO | | | | | | N_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PATCH | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP or | | | | | | SEPP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.3.3.1-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.2.3.3.3.1-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
###### 6.2.3.3.3.2 DELETE
This method shall support the URI query parameters specified in table
6.2.3.3.3.2-1.
Table 6.2.3.3.3.2-1: URI query parameters supported by the DELETE method on
this resource
Name Data type P Cardinality Description
* * *
n/a
This method shall support the request data structures specified in table
6.2.3.3.3.2-2 and the response data structures and response codes specified in
table 6.2.3.3.3.2-3.
Table 6.2.3.3.3.2-2: Data structures supported by the DELETE Request Body on
this resource
Data type P Cardinality Description
* * *
n/a
Table 6.2.3.3.3.2-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | | | | | | Content | | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | Indicates the | | roblemDetails | | | | modification | | | | | | of | | | | | | subscription | | | | | | has failed | | | | | | due to | | | | | | application | | | | | | error. | | | | | | | | | | | | The \"cause\" | | | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | > \- | | | | | | > | | | | | | SUBSCRIPTION | | | | | | _NOT_FOUND. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP or | | | | | | SEPP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.3.3.2-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.2.3.3.3.2-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
##### 6.2.3.3.4 Resource Custom Operations
None.
### 6.2.4 Custom Operations without associated resources
There are no custom operations without associated resources supported on
Namf_EventExposure Service.
### 6.2.5 Notifications
#### 6.2.5.1 Void
This clause specifies the notifications provided by the Namf_EventExposure
service.
Table 6.2.5.1-1: Notifications overview
+----------------+----------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +================+================+================+================+ | AMF Event | {e | POST | | | Notification | ventNotifyUri} | | | +----------------+----------------+----------------+----------------+ | AMF Event | {subsCh | POST | | | Notification | angeNotifyUri} | | | +----------------+----------------+----------------+----------------+
#### 6.2.5.2 AMF Event Notification
If a NF service consumer has subscribed to an event(s) supported by
Namf_EventExposure service, when AMF aware of a state change of the event, AMF
shall create a notification including the event state report, and shall
deliver the notification to the call-back URI, following Subscribe/Notify
mechanism defined in 3GPP TS 29.501 [5].
##### 6.2.5.2.1 Notification Definition
Call-back URI: **{callbackUri}**
Call-back URI is provided by NF Service Consumer during creation of the
subscription. If the notification is to inform the change of subscription ID
and if the \"subsChangeNotifyUri\" was provided in the AmfEventSubscription,
then this callback URI shall be the \"subsChangeNotifyUri\" provided in the
AmfEventSubscription. Otherwise, this callback URI shall be the
\"eventNotifyUri\" provided in the AmfEventSubscription.
##### 6.2.5.2.3 Notification Standard Methods
###### 6.2.5.2.3.1 POST
This method shall support the request data structures specified in table
6.2.5.2.3.1-1 and the response data structures and response codes specified in
table 6.2.5.2.3.1-2.
Table 6.2.5.2.3.1-2: Data structures supported by the POST Request Body
Data type P Cardinality Description
* * *
AmfEventNotification M 1 Represents the notification to be delivered
Table 6.2.5.2.3.1-3: Data structures supported by the POST Response Body
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | | | | | | Content | | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP or | | | | | | SEPP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.2.5.2.3.1-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | A URI pointing | | | | | | to the endpoint | | | | | | of the NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be sent. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+
Table 6.2.5.2.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of the NF service consumer to which the notification should be
sent 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected
* * *
### 6.2.6 Data Model
#### 6.2.6.1 General
This clause specifies the application data model supported by the API.
Table 6.2.6.1-1 specifies the data types defined for the Namf_EventExposure
service based interface protocol.
Table 6.2.6.1-1: Namf_EventExposure specific Data Types
Data type Clause defined Description
* * *
AmfEventSubscription 6.2.6.2.2 Represents an individual event subscription
resource on AMF AmfEvent 6.2.6.2.3 Describes an event to be subscribed
AmfEventNotification 6.2.6.2.4 Data within an AMF Event Notification request.
AmfEventReport 6.2.6.2.5 Represents a report triggered by a subscribed event
type AmfEventMode 6.2.6.2.6 Describes how the reports shall be generated by a
subscribed event AmfEventState 6.2.6.2.7 Represents the state of a subscribed
event RmInfo 6.2.6.2.8 Represents the registration state of a UE for an access
type CmInfo 6.2.6.2.9 Represents the connection management state of a UE for
an access type CommunicationFailure 6.2.6.2.11 Describes a communication
failure detected by AMF AmfCreateEventSubscription 6.2.6.2.12 Data within a
create AMF event subscription request AmfCreatedEventSubscription 6.2.6.2.13
Data within a create AMF event subscription response
AmfUpdateEventSubscriptionItem 6.2.6.2.14 Document describing the
modification(s) to an AMF Event Subscription AmfUpdatedEventSubscription
6.2.6.2.15 Represents a successful update on an AMF Event Subscription
AmfEventArea 6.2.6.2.16 Represents an area to be monitored by an AMF event.
LadnInfo 6.2.6.2.17 LADN Information AmfUpdateEventOptionItem 6.2.6.2.18
Document describing the modifications to AMF event subscription options.
5GsUserStateInfo 6.2.6.2.19 Represents the 5GS User state of the UE for an
access type TrafficDescriptor 6.2.6.2.20 Represents the Traffic Descriptor
UEIdExt 6.2.6.2.21 UE Identity AmfEventSubsSyncInfo 6.2.6.2.22 AMF Event
Subscriptions Information for synchronization AmfEventSubscriptionInfo
6.2.6.2.23 Individual AMF Event Subscription Information TargetArea 6.2.6.2.24
TA list or TAI range list or any TA SnssaiTaiMapping 6.2.6.2.25 List of
restricted or unrestricted S-NSSAIs per TAI(s) SupportedSnssai 6.2.6.2.26
Supported S-NSSAIs UeInAreaFilter 6.2.6.2.27 Describe the filter related to
UEs In Area Report event. IdleStatusIndication 6.2.6.2.28 Represents the idle
status indication. UeAccessBehaviorReportItem 6.2.6.2.29 Report Item for UE
Access Behavior Trends event. UeLocationTrendsReportItem 6.2.6.2.30 Report
Item for UE Location Trends event. DispersionArea 6.2.6.2.31 Dispersion Area
MmTransactionLocationReportItem 6.2.6.2.32 UE MM Transaction Report Item per
Location MmTransactionSliceReportItem 6.2.6.2.33 UE MM Transaction Report Item
per Slice AmfEventType 6.2.6.3.3 Describes the supported event types of
Namf_EventExposure Service AmfEventTrigger 6.2.6.3.4 Describes how AMF should
generate the report for the event LocationFilter 6.2.6.3.5 Describes the
supported filters of LOCATION_REPORT event type UeReachability 6.2.6.3.7
Describes the reachability of the UE RmState 6.2.6.3.9 Describes the
registration management state of a UE CmState 6.2.6.3.10 Describes the
connection management state of a UE 5GsUserState 6.2.6.3.11 Describes the 5GS
User State of a UE LossOfConnectivityReason 6.2.6.3.12 Describes the reason
for loss of connectivity ReachabilityFilter 6.2.6.3.13 Event filter for
REACHABILITY_REPORT event type. UeType 6.2.6.3.14 Describe UE type
AccessStateTransitionType 6.2.6.3.15 Access State Transition Type
SubTerminationReason 6.2.6.3.16 Subscription Termination Reason
Table 6.2.6.1-2 specifies data types re-used by the Namf_EventExposure service
based interface protocol from other specifications, including a reference to
their respective specifications and when needed, a short description of their
use within the Namf_EventExposure service based interface.
Table 6.2.6.1-2: Namf_EventExposure re-used Data Types
Data type Reference Comments
* * *
Supi 3GPP TS 29.571 [6]  
GroupId 3GPP TS 29.571 [6]  
DurationSec 3GPP TS 29.571 [6]  
Gpsi 3GPP TS 29.571 [6]  
Uri 3GPP TS 29.571 [6]  
Pei 3GPP TS 29.571 [6]  
UserLocation 3GPP TS 29.571 [6]  
TaI 3GPP TS 29.571 [6]  
TimeZone 3GPP TS 29.571 [6]  
AccessType 3GPP TS 29.571 [6]  
Ecgi 3GPP TS 29.571 [6] EUTRA Cell Identifier Ncgi 3GPP TS 29.571 [6] NR Cell
Identifier NfInstanceId 3GPP TS 29.571 [6]  
ProblemDetails 3GPP TS 29.571 [6] Problem Details SupportedFeatures 3GPP TS
29.571 [6] Supported Features DateTime 3GPP TS 29.571 [6]  
NgApCause 3GPP TS 29.571 [6]  
PresenceInfo 3GPP TS 29.571 [6] Presence Reporting Area Information
PresenceState 3GPP TS 29.571 [6] Describes the presence state of the UE to a
specified area of interest Dnn 3GPP TS 29.571 [6]  
Snssai 3GPP TS 29.571 [6]  
DddTrafficDescriptor 3GPP TS 29.571 [6] Downlink Data Delivery Traffic
Descriptor SamplingRatio 3GPP TS 29.571 [6] Sampling Ratio. RedirectResponse
3GPP TS 29.571 [6] Response body of the redirect response message.
NotificationFlag 3GPP TS 29.571 [6] Notification flag ExtSnssai 3GPP TS 29.571
[6]  
N3gaLocation 3GPP TS 29.571 [6] Non-3GPP Location ReferenceId 3GPP TS 29.503
[35]  
NsiId 3GPP TS 29.531 [18] NSI ID NFType 3GPP TS 29.510 [29] NF type TaiRange
3GPP TS 29.510 [29]  
MutingExceptionInstructions 3GPP TS 29.571 [6] Muting exception instructions.
MutingNotificationsSettings 3GPP TS 29.571 [6] Muting notifications settings.
#### 6.2.6.2 Structured data types
##### 6.2.6.2.1 Introduction
Structured data types used in Namf_EventExposure service are specified in this
clause.
##### 6.2.6.2.2 Type: AmfEventSubscription
Table 6.2.6.2.2-1: Definition of type AmfEventSubscription
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | eventList | array( | M | 1..N | Describes | | | | AmfEvent) | | | the | | | | | | | events to | | | | | | | be | | | | | | | s | | | | | | | ubscribed | | | | | | | in | | | | | | | sub | | | | | | | scription | | | | | | | request | | | | | | | or the | | | | | | | events | | | | | | | suc | | | | | | | cessfully | | | | | | | s | | | | | | | ubscribed | | | | | | | for this | | | | | | | sub | | | | | | | scription | | | | | | | in | | | | | | | sub | | | | | | | scription | | | | | | | response. | | +-----------+-----------+---+-----------+-----------+-----------+ | event | Uri | M | 1 | I | | | NotifyUri | | | | dentifies | | | | | | | the | | | | | | | recipient | | | | | | | of | | | | | | | noti | | | | | | | fications | | | | | | | sent by | | | | | | | AMF for | | | | | | | this | | | | | | | sub | | | | | | | scription | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | n | string | M | 1 | I | | | otifyCorr | | | | dentifies | | | elationId | | | | the | | | | | | | not | | | | | | | ification | | | | | | | co | | | | | | | rrelation | | | | | | | ID. The | | | | | | | AMF shall | | | | | | | include | | | | | | | this ID | | | | | | | in the | | | | | | | notif | | | | | | | ications. | | | | | | | The value | | | | | | | of this | | | | | | | IE shall | | | | | | | be unique | | | | | | | per | | | | | | | sub | | | | | | | scription | | | | | | | for a | | | | | | | given NF | | | | | | | service | | | | | | | consumer. | | +-----------+-----------+---+-----------+-----------+-----------+ | nfId | NfI | M | 1 | Indicates | | | | nstanceId | | | the | | | | | | | instance | | | | | | | identity | | | | | | | of the | | | | | | | network | | | | | | | function | | | | | | | creating | | | | | | | the | | | | | | | subs | | | | | | | cription. | | +-----------+-----------+---+-----------+-----------+-----------+ | s | Uri | C | 0..1 | This IE | | | ubsChange | | | | shall be | | | NotifyUri | | | | present | | | | | | | if the | | | | | | | sub | | | | | | | scription | | | | | | | is | | | | | | | created | | | | | | | by an NF | | | | | | | service | | | | | | | consumer | | | | | | | on behalf | | | | | | | of | | | | | | | another | | | | | | | NF (e.g | | | | | | | UDM | | | | | | | creating | | | | | | | event | | | | | | | sub | | | | | | | scription | | | | | | | at AMF | | | | | | | for event | | | | | | | noti | | | | | | | fications | | | | | | | towards | | | | | | | NEF). | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | I | | | | | | | dentifies | | | | | | | the | | | | | | | recipient | | | | | | | of | | | | | | | noti | | | | | | | fications | | | | | | | sent by | | | | | | | AMF, for | | | | | | | the | | | | | | | creation | | | | | | | of a new | | | | | | | sub | | | | | | | scription | | | | | | | ID, that | | | | | | | is | | | | | | | c | | | | | | | onsidered | | | | | | | as a | | | | | | | change of | | | | | | | sub | | | | | | | scription | | | | | | | ID by the | | | | | | | NF | | | | | | | service | | | | | | | consumer | | | | | | | for event | | | | | | | subs | | | | | | | criptions | | | | | | | related | | | | | | | to single | | | | | | | UE or as | | | | | | | the | | | | | | | creation | | | | | | | of a new | | | | | | | sub | | | | | | | scription | | | | | | | Id for | | | | | | | event | | | | | | | subs | | | | | | | criptions | | | | | | | related | | | | | | | to UE | | | | | | | groups | | | | | | | (e.g | | | | | | | during | | | | | | | mobility | | | | | | | p | | | | | | | rocedures | | | | | | | involving | | | | | | | AMF | | | | | | | change). | | | | | | | (NOTE 3). | | +-----------+-----------+---+-----------+-----------+-----------+ | s | string | C | 0..1 | This IE | | | ubsChange | | | | shall be | | | NotifyCor | | | | present | | | elationId | | | | when an | | | | | | | NF | | | | | | | Service | | | | | | | Consumer | | | | | | | (e.g. | | | | | | | UDM) is | | | | | | | su | | | | | | | bscribing | | | | | | | for | | | | | | | events on | | | | | | | behalf of | | | | | | | another | | | | | | | NF | | | | | | | Service | | | | | | | Consumer | | | | | | | (e.g. | | | | | | | NEF). | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | not | | | | | | | ification | | | | | | | co | | | | | | | rrelation | | | | | | | ID. The | | | | | | | AMF shall | | | | | | | include | | | | | | | it in the | | | | | | | noti | | | | | | | fications | | | | | | | for the | | | | | | | creation | | | | | | | of a new | | | | | | | su | | | | | | | bcription | | | | | | | ID that | | | | | | | is | | | | | | | c | | | | | | | onsidered | | | | | | | as a | | | | | | | change of | | | | | | | sub | | | | | | | scription | | | | | | | ID by the | | | | | | | NF | | | | | | | service | | | | | | | consumer | | | | | | | for event | | | | | | | subs | | | | | | | criptions | | | | | | | related | | | | | | | to single | | | | | | | UE or as | | | | | | | the | | | | | | | creation | | | | | | | of a new | | | | | | | sub | | | | | | | scription | | | | | | | Id for | | | | | | | event | | | | | | | subs | | | | | | | criptions | | | | | | | related | | | | | | | to UE | | | | | | | groups. | | | | | | | | | | | | | | The value | | | | | | | of this | | | | | | | IE shall | | | | | | | be unique | | | | | | | per | | | | | | | sub | | | | | | | scription | | | | | | | for a | | | | | | | given NF | | | | | | | service | | | | | | | consumer | | | | | | | that is | | | | | | | sending | | | | | | | this IE. | | | | | | | | | | | | | | (NOTE | | | | | | | 3).. | | +-----------+-----------+---+-----------+-----------+-----------+ | supi | Supi | C | 0..1 | Sub | | | | | | | scription | | | | | | | Permanent | | | | | | | I | | | | | | | dentifier | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | groupId | GroupId | C | 0..1 | I | | | | | | | dentifies | | | | | | | a group | | | | | | | of UEs. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | exclud | ar | O | 1..N | This IE | DGEM | | eSupiList | ray(Supi) | | | may be | | | | | | | present | | | | | | | for a | | | | | | | group | | | | | | | subs | | | | | | | cription. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | carry the | | | | | | | SUPI of | | | | | | | the group | | | | | | | member | | | | | | | UE(s) | | | | | | | that are | | | | | | | excluded | | | | | | | from the | | | | | | | group | | | | | | | subs | | | | | | | cription. | | +-----------+-----------+---+-----------+-----------+-----------+ | exclud | ar | O | 1..N | This IE | DGEM | | eGpsiList | ray(Gpsi) | | | may be | | | | | | | present | | | | | | | for a | | | | | | | group | | | | | | | subs | | | | | | | cription. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | carry the | | | | | | | GPSI of | | | | | | | the group | | | | | | | member | | | | | | | UE(s) | | | | | | | that are | | | | | | | excluded | | | | | | | from the | | | | | | | group | | | | | | | subs | | | | | | | cription. | | +-----------+-----------+---+-----------+-----------+-----------+ | includ | ar | O | 1..N | This IE | DGEM | | eSupiList | ray(Supi) | | | may be | | | | | | | present | | | | | | | for a | | | | | | | group | | | | | | | subs | | | | | | | cription. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | carry the | | | | | | | SUPI of | | | | | | | the group | | | | | | | member | | | | | | | UE(s) | | | | | | | that are | | | | | | | included | | | | | | | for the | | | | | | | group | | | | | | | subs | | | | | | | cription. | | +-----------+-----------+---+-----------+-----------+-----------+ | includ | ar | O | 1..N | This IE | DGEM | | eGpsiList | ray(Gpsi) | | | may be | | | | | | | present | | | | | | | for a | | | | | | | group | | | | | | | subs | | | | | | | cription. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | carry the | | | | | | | GPSI of | | | | | | | the group | | | | | | | member | | | | | | | UE(s) | | | | | | | that are | | | | | | | included | | | | | | | for the | | | | | | | group | | | | | | | subs | | | | | | | cription. | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | C | 0..1 | Generic | | | | | | | Public | | | | | | | Sub | | | | | | | scription | | | | | | | I | | | | | | | dentifier | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | pei | Pei | C | 0..1 | Permanent | | | | | | | Equipment | | | | | | | I | | | | | | | dentifier | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | anyUE | boolean | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | event | | | | | | | sub | | | | | | | scription | | | | | | | is | | | | | | | a | | | | | | | pplicable | | | | | | | to any | | | | | | | UE. | | | | | | | Default | | | | | | | value | | | | | | | \"FALSE\" | | | | | | | is used, | | | | | | | if not | | | | | | | present. | | | | | | | The | | | | | | | attribute | | | | | | | shall be | | | | | | | set to | | | | | | | \"TRUE\", | | | | | | | when the | | | | | | | AMF event | | | | | | | type is | | | | | | | \"SNS | | | | | | | SAI_TA_ | | | | | | | MAPPING_ | | | | | | | REPORT\". | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | options | Amf | O | 0..1 | This IE | | | | EventMode | | | may be | | | | | | | included | | | | | | | if the NF | | | | | | | service | | | | | | | consumer | | | | | | | wants to | | | | | | | describe | | | | | | | how the | | | | | | | reports | | | | | | | of the | | | | | | | event | | | | | | | have to | | | | | | | be | | | | | | | g | | | | | | | enerated. | | | | | | | The | | | | | | | absence | | | | | | | of this | | | | | | | IE, when | | | | | | | creating | | | | | | | an AMF | | | | | | | event | | | | | | | sub | | | | | | | scription | | | | | | | or when | | | | | | | tra | | | | | | | nsferring | | | | | | | the UE | | | | | | | context | | | | | | | to | | | | | | | another | | | | | | | AMF, | | | | | | | shall be | | | | | | | in | | | | | | | terpreted | | | | | | | as a | | | | | | | \"ON | | | | | | | E_TIME\" | | | | | | | AMF event | | | | | | | trigger. | | +-----------+-----------+---+-----------+-----------+-----------+ | sou | NFType | C | 0..1 | This IE | | | rceNfType | | | | should be | | | | | | | present | | | | | | | for a | | | | | | | sub | | | | | | | scription | | | | | | | that is | | | | | | | created | | | | | | | by an | | | | | | | \"int | | | | | | | ermediate | | | | | | | NF\" | | | | | | | (e.g. | | | | | | | UDM) on | | | | | | | behalf of | | | | | | | a | | | | | | | \"source | | | | | | | NF\" | | | | | | | (e.g. | | | | | | | NEF). | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the NF | | | | | | | type of | | | | | | | the | | | | | | | \"source | | | | | | | NF\". | | +-----------+-----------+---+-----------+-----------+-----------+ | term | boolean | O | 0..1 | When | STEN | | NotifyInd | | | | present | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | whether | | | | | | | the | | | | | | | not | | | | | | | ification | | | | | | | of event | | | | | | | sub | | | | | | | scription | | | | | | | te | | | | | | | rmination | | | | | | | from the | | | | | | | AMF is | | | | | | | requested | | | | | | | by the NF | | | | | | | consumer. | | | | | | | | | | | | | | - true: | | | | | | | Event | | | | | | | sub | | | | | | | scription | | | | | | | te | | | | | | | rmination | | | | | | | not | | | | | | | ification | | | | | | | requested | | | | | | | | | | | | | | - false | | | | | | | (default) | | | | | | | Event | | | | | | | sub | | | | | | | scription | | | | | | | te | | | | | | | rmination | | | | | | | not | | | | | | | ification | | | | | | | not | | | | | | | requested | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | When an | | | | | | | NF | | | | | | | Service | | | | | | | Consumer | | | | | | | s | | | | | | | ubscribes | | | | | | | on behalf | | | | | | | of | | | | | | | another | | | | | | | NF, the | | | | | | | Not | | | | | | | ification | | | | | | | URI | | | | | | | i | | | | | | | dentifies | | | | | | | a | | | | | | | resource | | | | | | | under the | | | | | | | authority | | | | | | | of the | | | | | | | other NF. | | | | | | | | | | | | | | NOTE 2: | | | | | | | Either | | | | | | | in | | | | | | | formation | | | | | | | about a | | | | | | | single UE | | | | | | | (i.e. | | | | | | | SUPI, | | | | | | | GPSI, | | | | | | | PEI) or | | | | | | | groupId, | | | | | | | or anyUE | | | | | | | set to | | | | | | | \"TRUE\" | | | | | | | shall be | | | | | | | included. | | | | | | | | | | | | | | NOTE 3: | | | | | | | Same | | | | | | | values of | | | | | | | \"sub | | | | | | | sChangeNo | | | | | | | tifyUri\" | | | | | | | and | | | | | | | \"subs | | | | | | | ChangeNot | | | | | | | ifyCorrel | | | | | | | ationId\" | | | | | | | shall be | | | | | | | provided | | | | | | | by an NF | | | | | | | service | | | | | | | consumer | | | | | | | to all | | | | | | | the | | | | | | | serving | | | | | | | AMF if | | | | | | | the | | | | | | | subs | | | | | | | criptions | | | | | | | apply to | | | | | | | a group | | | | | | | and | | | | | | | triggered | | | | | | | by one | | | | | | | sub | | | | | | | scription | | | | | | | from | | | | | | | another | | | | | | | NF. This | | | | | | | allows | | | | | | | the NF | | | | | | | service | | | | | | | consumer | | | | | | | to | | | | | | | associate | | | | | | | the | | | | | | | sub | | | | | | | scription | | | | | | | Id | | | | | | | creation | | | | | | | noti | | | | | | | fications | | | | | | | received | | | | | | | from | | | | | | | different | | | | | | | serving | | | | | | | AMFs to | | | | | | | the same | | | | | | | group Id | | | | | | | subs | | | | | | | cription, | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.2.6.2.3 Type: AmfEvent
Table 6.2.6.2.3-1: Definition of type AmfEvent
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | type | Amf | M | 1 | Describes | | | | EventType | | | the AMF | | | | | | | event | | | | | | | type to | | | | | | | be | | | | | | | reported | | +-----------+-----------+---+-----------+-----------+-----------+ | imme | boolean | O | 0..1 | Indicates | | | diateFlag | | | | if an | | | | | | | immediate | | | | | | | event | | | | | | | report | | | | | | | c | | | | | | | ontaining | | | | | | | the | | | | | | | currently | | | | | | | available | | | | | | | value / | | | | | | | status of | | | | | | | the event | | | | | | | is | | | | | | | r | | | | | | | equested. | | | | | | | The | | | | | | | report | | | | | | | contains | | | | | | | the value | | | | | | | / status | | | | | | | of the | | | | | | | event | | | | | | | currently | | | | | | | available | | | | | | | at the | | | | | | | AMF at | | | | | | | the time | | | | | | | of the | | | | | | | sub | | | | | | | scription | | | | | | | (NOTE 1). | | | | | | | If the | | | | | | | flag is | | | | | | | not | | | | | | | present | | | | | | | then | | | | | | | immediate | | | | | | | reporting | | | | | | | shall not | | | | | | | be done | | | | | | | and the | | | | | | | first | | | | | | | report is | | | | | | | sent at | | | | | | | event | | | | | | | detection | | | | | | | time. | | | | | | | | | | | | | | When the | | | | | | | su | | | | | | | bscribing | | | | | | | NF | | | | | | | s | | | | | | | ubscribes | | | | | | | on behalf | | | | | | | of | | | | | | | another | | | | | | | NF, the | | | | | | | IERSR | | | | | | | feature | | | | | | | controls | | | | | | | whether | | | | | | | or not an | | | | | | | immediate | | | | | | | report is | | | | | | | sent | | | | | | | within | | | | | | | the | | | | | | | subscribe | | | | | | | response | | | | | | | message | | | | | | | or within | | | | | | | a | | | | | | | not | | | | | | | ification | | | | | | | request | | | | | | | message | | | | | | | (see | | | | | | | clause | | | | | | | 5. | | | | | | | 3.2.2.2). | | | | | | | Otherwise | | | | | | | immediate | | | | | | | reports | | | | | | | are | | | | | | | always | | | | | | | sent | | | | | | | within | | | | | | | the | | | | | | | subscribe | | | | | | | response | | | | | | | message. | | | | | | | | | | | | | | The | | | | | | | default | | | | | | | value is | | | | | | | false. | | +-----------+-----------+---+-----------+-----------+-----------+ | areaList | a | O | 1..N | I | | | | rray(AmfE | | | dentifies | | | | ventArea) | | | the area | | | | | | | to be | | | | | | | applied. | | | | | | | | | | | | | | More than | | | | | | | one | | | | | | | instance | | | | | | | of | | | | | | | Amf | | | | | | | EventArea | | | | | | | IE shall | | | | | | | be used | | | | | | | only when | | | | | | | the | | | | | | | Amf | | | | | | | EventArea | | | | | | | is | | | | | | | provided | | | | | | | during | | | | | | | event | | | | | | | sub | | | | | | | scription | | | | | | | for | | | | | | | Presence | | | | | | | Reporting | | | | | | | Area | | | | | | | subs | | | | | | | cription. | | +-----------+-----------+---+-----------+-----------+-----------+ | locationF | arr | O | 1..N | Describes | | | ilterList | ay(Locati | | | the | | | | onFilter) | | | filters | | | | | | | to be | | | | | | | applied | | | | | | | for | | | | | | | LOCATIO | | | | | | | N_REPORT | | | | | | | event | | | | | | | type. | | | | | | | | | | | | | | If this | | | | | | | attribute | | | | | | | is not | | | | | | | present | | | | | | | in the | | | | | | | request, | | | | | | | it | | | | | | | indicates | | | | | | | the | | | | | | | change of | | | | | | | the TA | | | | | | | used by | | | | | | | the UE | | | | | | | should be | | | | | | | reported. | | +-----------+-----------+---+-----------+-----------+-----------+ | refId | Re | O | 0..1 | Indicates | | | | ferenceId | | | the | | | | | | | Reference | | | | | | | Id | | | | | | | a | | | | | | | ssociated | | | | | | | with the | | | | | | | event. | | | | | | | | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | tra | array( | O | 1..N | Indicates | | | fficDescr | TrafficDe | | | the | | | iptorList | scriptor) | | | filters | | | | | | | to be | | | | | | | applied | | | | | | | for | | | | | | | AVAILA | | | | | | | BILITY_A | | | | | | | FTER_DDN | | | | | | | _FAILURE | | | | | | | event | | | | | | | type. | | +-----------+-----------+---+-----------+-----------+-----------+ | reportUe | boolean | C | 0..1 | This IE | | | Reachable | | | | shall be | | | | | | | present | | | | | | | and set | | | | | | | to value | | | | | | | \"true\" | | | | | | | by the | | | | | | | source | | | | | | | AMF to | | | | | | | request | | | | | | | the | | | | | | | target | | | | | | | AMF to | | | | | | | notify | | | | | | | the | | | | | | | s | | | | | | | ubscriber | | | | | | | when UE | | | | | | | becomes | | | | | | | r | | | | | | | eachable, | | | | | | | during | | | | | | | inter-AMF | | | | | | | mobility | | | | | | | pr | | | | | | | ocedures. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall be | | | | | | | set as | | | | | | | f | | | | | | | ollowing: | | | | | | | | | | | | | | > \- | | | | | | | > true: | | | | | | | > target | | | | | | | > AMF | | | | | | | > shall | | | | | | | > notify | | | | | | | > the | | | | | | | > s | | | | | | | ubscriber | | | | | | | > when UE | | | | | | | > becomes | | | | | | | > | | | | | | | reachable | | | | | | | > | | | | | | | > \- | | | | | | | > false | | | | | | | > ( | | | | | | | default): | | | | | | | > target | | | | | | | > AMF | | | | | | | > shall | | | | | | | > not | | | | | | | > notify | | | | | | | > the | | | | | | | > s | | | | | | | ubscriber | | | | | | | > when UE | | | | | | | > becomes | | | | | | | > r | | | | | | | eachable, | | | | | | | > until | | | | | | | > next | | | | | | | > | | | | | | | reporting | | | | | | | > trigger | | | | | | | > is | | | | | | | > | | | | | | | detected, | | | | | | | > i.e. | | | | | | | > DDN | | | | | | | > failure | | | | | | | > | | | | | | | detected | | | | | | | > (for | | | | | | | > AVAILA | | | | | | | BILITY_A | | | | | | | FTER_DDN | | | | | | | _FAILURE | | | | | | | > event) | | | | | | | > or UE | | | | | | | > becomes | | | | | | | > un | | | | | | | reachable | | | | | | | > for | | | | | | | > | | | | | | | downlink | | | | | | | > traffic | | | | | | | > (for | | | | | | | > \"UE | | | | | | | > | | | | | | | Reachable | | | | | | | > for DL | | | | | | | > | | | | | | | Traffic\" | | | | | | | > of | | | | | | | > RE | | | | | | | ACHABILIT | | | | | | | Y_REPORT | | | | | | | > event) | | | | | | | | | | | | | | This IE | | | | | | | only | | | | | | | applies | | | | | | | to | | | | | | | following | | | | | | | Event | | | | | | | Types: | | | | | | | | | | | | | | - | | | | | | | AVAILA | | | | | | | BILITY_A | | | | | | | FTER_DDN | | | | | | | _FAILURE | | | | | | | | | | | | | | - | | | | | | | RE | | | | | | | ACHABILIT | | | | | | | Y_REPORT | | | | | | | (for \"UE | | | | | | | Reachable | | | | | | | for DL | | | | | | | T | | | | | | | raffic\") | | +-----------+-----------+---+-----------+-----------+-----------+ | reachabil | Reachabil | O | 0..1 | When | | | ityFilter | ityFilter | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | filter to | | | | | | | be | | | | | | | applied | | | | | | | for the | | | | | | | RE | | | | | | | ACHABILIT | | | | | | | Y_REPORT | | | | | | | event | | | | | | | type. | | | | | | | | | | | | | | If the | | | | | | | sub | | | | | | | scription | | | | | | | of | | | | | | | RE | | | | | | | ACHABILIT | | | | | | | Y_REPORT | | | | | | | is for | | | | | | | \"UE | | | | | | | Rea | | | | | | | chability | | | | | | | Status | | | | | | | Change\", | | | | | | | the AMF | | | | | | | shall | | | | | | | report | | | | | | | current | | | | | | | rea | | | | | | | chability | | | | | | | state and | | | | | | | s | | | | | | | ubsequent | | | | | | | updated | | | | | | | rea | | | | | | | chability | | | | | | | state of | | | | | | | the UE, | | | | | | | when AMF | | | | | | | becomes | | | | | | | aware of | | | | | | | a UE | | | | | | | rea | | | | | | | chability | | | | | | | state | | | | | | | change | | | | | | | between | | | | | | | R | | | | | | | EACHABLE, | | | | | | | UN | | | | | | | REACHABLE | | | | | | | and | | | | | | | REGULATO | | | | | | | RY_ONLY. | | | | | | | | | | | | | | If the | | | | | | | sub | | | | | | | scription | | | | | | | of | | | | | | | RE | | | | | | | ACHABILIT | | | | | | | Y_REPORT | | | | | | | is for | | | | | | | \"UE | | | | | | | Reachable | | | | | | | for DL | | | | | | | T | | | | | | | raffic\", | | | | | | | the AMF | | | | | | | shall | | | | | | | report | | | | | | | the | | | | | | | \"RE | | | | | | | ACHABLE\" | | | | | | | state, | | | | | | | when the | | | | | | | UE | | | | | | | tr | | | | | | | ansitions | | | | | | | to | | | | | | | CM- | | | | | | | CONNECTED | | | | | | | mode or | | | | | | | when the | | | | | | | UE will | | | | | | | become | | | | | | | reachable | | | | | | | for | | | | | | | paging, | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | table 4. | | | | | | | 15.3.1-1, | | | | | | | clauses | | | | | | | 4.2.5 and | | | | | | | 4.3.3 of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | | | | | | | | | | | | | If this | | | | | | | IE is | | | | | | | absent, | | | | | | | the | | | | | | | sub | | | | | | | scription | | | | | | | of | | | | | | | RE | | | | | | | ACHABILIT | | | | | | | Y_REPORT | | | | | | | is for | | | | | | | \"UE | | | | | | | Rea | | | | | | | chability | | | | | | | Status | | | | | | | Change\". | | +-----------+-----------+---+-----------+-----------+-----------+ | udm | boolean | O | 0..1 | The IE | | | DetectInd | | | | may be | | | | | | | present | | | | | | | for | | | | | | | sub | | | | | | | scription | | | | | | | for \"UE | | | | | | | Reachable | | | | | | | for DL | | | | | | | T | | | | | | | raffic\". | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | whether | | | | | | | the UE | | | | | | | Rea | | | | | | | chability | | | | | | | Event | | | | | | | will be | | | | | | | detected | | | | | | | at UDM | | | | | | | (i.e. | | | | | | | with | | | | | | | Nudm_U | | | | | | | ECM_Regi | | | | | | | stration) | | | | | | | or not: | | | | | | | | | | | | | | - true: | | | | | | | UE | | | | | | | Rea | | | | | | | chability | | | | | | | will be | | | | | | | detected | | | | | | | at UDM | | | | | | | | | | | | | | - false | | | | | | | (default) | | | | | | | UE | | | | | | | Rea | | | | | | | chability | | | | | | | will not | | | | | | | be | | | | | | | detected | | | | | | | at UDM | | +-----------+-----------+---+-----------+-----------+-----------+ | m | integer | O | 0..1 | This IE | | | axReports | | | | may be | | | | | | | present | | | | | | | if the | | | | | | | trigger | | | | | | | is set to | | | | | | | \"CON | | | | | | | TINUOUS\" | | | | | | | or | | | | | | | \"PE | | | | | | | RIODIC\". | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | describes | | | | | | | the | | | | | | | maximum | | | | | | | number of | | | | | | | reports | | | | | | | that can | | | | | | | be | | | | | | | generated | | | | | | | by the | | | | | | | s | | | | | | | ubscribed | | | | | | | event. | | | | | | | | | | | | | | If the | | | | | | | AMF event | | | | | | | sub | | | | | | | scription | | | | | | | is for a | | | | | | | group of | | | | | | | UEs, this | | | | | | | parameter | | | | | | | shall be | | | | | | | applied | | | | | | | to each | | | | | | | i | | | | | | | ndividual | | | | | | | member UE | | | | | | | of the | | | | | | | group. | | | | | | | | | | | | | | If the | | | | | | | event | | | | | | | sub | | | | | | | scription | | | | | | | is | | | | | | | tr | | | | | | | ansferred | | | | | | | from | | | | | | | source | | | | | | | AMF to a | | | | | | | target | | | | | | | AMF, this | | | | | | | IE shall | | | | | | | contain: | | | | | | | | | | | | | | > \- the | | | | | | | > | | | | | | | remaining | | | | | | | > number | | | | | | | > of | | | | | | | > reports | | | | | | | > for the | | | | | | | > event | | | | | | | > subs | | | | | | | cription, | | | | | | | > in the | | | | | | | > case of | | | | | | | > i | | | | | | | ndividual | | | | | | | > UE | | | | | | | > event | | | | | | | > subs | | | | | | | cription; | | | | | | | > or | | | | | | | > | | | | | | | > \- the | | | | | | | > | | | | | | | remaining | | | | | | | > number | | | | | | | > of | | | | | | | > reports | | | | | | | > for the | | | | | | | > event | | | | | | | > sub | | | | | | | scription | | | | | | | > for | | | | | | | > this | | | | | | | > | | | | | | | specific | | | | | | | > UE, in | | | | | | | > the | | | | | | | > case of | | | | | | | > a group | | | | | | | > event | | | | | | | > subs | | | | | | | cription. | | | | | | | > If the | | | | | | | > group | | | | | | | > sub | | | | | | | scription | | | | | | | > has not | | | | | | | > expired | | | | | | | > and all | | | | | | | > reports | | | | | | | > have | | | | | | | > been | | | | | | | > sent | | | | | | | > already | | | | | | | > for | | | | | | | > this | | | | | | | > event, | | | | | | | > the | | | | | | | > | | | | | | | remaining | | | | | | | > number | | | | | | | > of | | | | | | | > reports | | | | | | | > shall | | | | | | | > be set | | | | | | | > to | | | | | | | > \"0\". | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | presenc | map(Pres | O | 1..N | Map of | MPRA | | eInfoList | enceInfo) | | | PRA | | | | | | | Inf | | | | | | | ormation, | | | | | | | the | | | | | | | \"praId\" | | | | | | | attribute | | | | | | | within | | | | | | | the | | | | | | | Pre | | | | | | | senceInfo | | | | | | | data type | | | | | | | shall | | | | | | | also be | | | | | | | the key | | | | | | | of the | | | | | | | map. The | | | | | | | \"presen | | | | | | | ceState\" | | | | | | | attribute | | | | | | | within | | | | | | | the | | | | | | | Pre | | | | | | | senceInfo | | | | | | | data type | | | | | | | shall not | | | | | | | be | | | | | | | supplied. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | the | | | | | | | areaList | | | | | | | shall be | | | | | | | absent. | | +-----------+-----------+---+-----------+-----------+-----------+ | maxRes | Du | C | 0..1 | This IE | | | ponseTime | rationSec | | | shall be | | | | | | | present, | | | | | | | when the | | | | | | | UDM | | | | | | | s | | | | | | | ubscribes | | | | | | | to | | | | | | | \"REAC | | | | | | | HABILITY\ | | | | | | | _REPORT\" | | | | | | | event for | | | | | | | \"UE | | | | | | | Reachable | | | | | | | for DL | | | | | | | Traffic\" | | | | | | | on behalf | | | | | | | of the AF | | | | | | | and the | | | | | | | AF sets | | | | | | | the | | | | | | | Maximum | | | | | | | Response | | | | | | | Time in | | | | | | | the | | | | | | | M | | | | | | | onitoring | | | | | | | Confi | | | | | | | guration. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | Maximum | | | | | | | Response | | | | | | | Time | | | | | | | c | | | | | | | onfigured | | | | | | | by the | | | | | | | AF. | | +-----------+-----------+---+-----------+-----------+-----------+ | t | T | C | 0..1 | The IE | | | argetArea | argetArea | | | shall be | | | | | | | present | | | | | | | for | | | | | | | sub | | | | | | | scription | | | | | | | for | | | | | | | SNSSAI_T | | | | | | | A_MAPPIN | | | | | | | G_REPORT | | | | | | | event | | | | | | | type. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the TAI | | | | | | | list to | | | | | | | be | | | | | | | applied. | | +-----------+-----------+---+-----------+-----------+-----------+ | sns | array(E | O | 1..N | The IE | | | saiFilter | xtSnssai) | | | may be | | | | | | | present | | | | | | | for | | | | | | | sub | | | | | | | scription | | | | | | | for | | | | | | | SNSSAI_T | | | | | | | A_MAPPIN | | | | | | | G_REPORT | | | | | | | event | | | | | | | type. | | | | | | | | | | | | | | This IE | | | | | | | shall be | | | | | | | present | | | | | | | for | | | | | | | sub | | | | | | | scription | | | | | | | of | | | | | | | UE_MM_T | | | | | | | RANSACTIO | | | | | | | N_REPORT | | | | | | | event to | | | | | | | receive | | | | | | | the UE | | | | | | | Mobility | | | | | | | M | | | | | | | anagement | | | | | | | Tr | | | | | | | ansaction | | | | | | | numbers | | | | | | | based on | | | | | | | slices. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | S-NSSAI | | | | | | | list to | | | | | | | be | | | | | | | applied. | | | | | | | | | | | | | | (NOTE 4) | | +-----------+-----------+---+-----------+-----------+-----------+ | ueInA | UeInA | O | 0..1 | Indicates | UARF | | reaFilter | reaFilter | | | the | | | | | | | filter to | | | | | | | be | | | | | | | applied | | | | | | | for | | | | | | | UES | | | | | | | _IN_ARE | | | | | | | A_REPORT | | | | | | | event | | | | | | | type | | | | | | | related | | | | | | | to UAVs. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the list | | | | | | | of items | | | | | | | to be | | | | | | | applied | | | | | | | together | | | | | | | as | | | | | | | filter. | | +-----------+-----------+---+-----------+-----------+-----------+ | mi | Du | O | 0..1 | This IE | | | nInterval | rationSec | | | may be | | | | | | | present | | | | | | | when the | | | | | | | NF | | | | | | | consumer | | | | | | | s | | | | | | | ubscribes | | | | | | | to | | | | | | | \"REAC | | | | | | | HABILITY\ | | | | | | | _REPORT\" | | | | | | | event for | | | | | | | \"UE | | | | | | | Reachable | | | | | | | for DL | | | | | | | T | | | | | | | raffic\". | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | indicates | | | | | | | the | | | | | | | minimal | | | | | | | interval | | | | | | | to report | | | | | | | the | | | | | | | event, | | | | | | | i.e. when | | | | | | | an event | | | | | | | is | | | | | | | reported, | | | | | | | a | | | | | | | s | | | | | | | ubsequent | | | | | | | event | | | | | | | report | | | | | | | shall not | | | | | | | be sent | | | | | | | during | | | | | | | the | | | | | | | interval. | | +-----------+-----------+---+-----------+-----------+-----------+ | n | DateTime | O | 0..1 | This IE | | | extReport | | | | may be | | | | | | | present | | | | | | | when the | | | | | | | event | | | | | | | sub | | | | | | | scription | | | | | | | is | | | | | | | tr | | | | | | | ansferred | | | | | | | from | | | | | | | source | | | | | | | AMF to a | | | | | | | target | | | | | | | AMF and | | | | | | | mi | | | | | | | nInterval | | | | | | | is | | | | | | | c | | | | | | | onfigured | | | | | | | for this | | | | | | | event. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the UTC | | | | | | | time | | | | | | | point | | | | | | | before | | | | | | | when a | | | | | | | s | | | | | | | ubsequent | | | | | | | event | | | | | | | report | | | | | | | shall be | | | | | | | t | | | | | | | hrottled. | | +-----------+-----------+---+-----------+-----------+-----------+ | idle | boolean | O | 0..1 | Idle | | | StatusInd | | | | Status | | | | | | | I | | | | | | | ndication | | | | | | | request. | | | | | | | | | | | | | | May be | | | | | | | present | | | | | | | if type | | | | | | | is | | | | | | | RE | | | | | | | ACHABILIT | | | | | | | Y_REPORT | | | | | | | or | | | | | | | AVAILA | | | | | | | BILITY_A | | | | | | | FTER_DDN | | | | | | | _FAILURE | | | | | | | | | | | | | | true: | | | | | | | Idle | | | | | | | status | | | | | | | i | | | | | | | ndication | | | | | | | is | | | | | | | requested | | | | | | | | | | | | | | false | | | | | | | ( | | | | | | | default): | | | | | | | Idle | | | | | | | status | | | | | | | i | | | | | | | ndication | | | | | | | is not | | | | | | | requested | | +-----------+-----------+---+-----------+-----------+-----------+ | dispe | Dispe | C | 0..1 | This IE | | | rsionArea | rsionArea | | | shall be | | | | | | | present | | | | | | | for | | | | | | | sub | | | | | | | scription | | | | | | | to the | | | | | | | UE_MM_T | | | | | | | RANSACTIO | | | | | | | N_REPORT | | | | | | | event to | | | | | | | receive | | | | | | | the UE | | | | | | | Mobility | | | | | | | M | | | | | | | anagement | | | | | | | Tr | | | | | | | ansaction | | | | | | | numbers | | | | | | | based on | | | | | | | location, | | | | | | | or for | | | | | | | sub | | | | | | | scription | | | | | | | to the | | | | | | | UE | | | | | | | _LOCATIO | | | | | | | N_TRENDS | | | | | | | event. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | indicates | | | | | | | the | | | | | | | target | | | | | | | area | | | | | | | where the | | | | | | | related | | | | | | | events to | | | | | | | be | | | | | | | reported | | | | | | | for | | | | | | | d | | | | | | | ispersion | | | | | | | a | | | | | | | nalytics. | | | | | | | | | | | | | | (NOTE x) | | +-----------+-----------+---+-----------+-----------+-----------+ | next | DateTime | C | 0..1 | This IE | | | PeriodicR | | | | should be | | | eportTime | | | | present | | | | | | | when the | | | | | | | event | | | | | | | sub | | | | | | | scription | | | | | | | is | | | | | | | tr | | | | | | | ansferred | | | | | | | from | | | | | | | source | | | | | | | AMF to a | | | | | | | target | | | | | | | AMF and | | | | | | | there are | | | | | | | periodic | | | | | | | report(s) | | | | | | | to be | | | | | | | generated | | | | | | | for the | | | | | | | event. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | timestamp | | | | | | | (in UTC) | | | | | | | when the | | | | | | | next | | | | | | | periodic | | | | | | | report | | | | | | | for the | | | | | | | event to | | | | | | | be | | | | | | | generated | | | | | | | and | | | | | | | notified | | | | | | | to the NF | | | | | | | consumer. | | +-----------+-----------+---+-----------+-----------+-----------+ | adju | boolean | O | 0..1 | This IE | | | stAoIOnRa | | | | may be | | | | | | | present | | | | | | | if the | | | | | | | (event) | | | | | | | type IE | | | | | | | is set to | | | | | | | \"P | | | | | | | RESENCE_ | | | | | | | IN_AOI_ | | | | | | | REPORT\". | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | - true: | | | | | | | the AMF | | | | | | | may | | | | | | | adjust | | | | | | | the | | | | | | | received | | | | | | | AoI based | | | | | | | on the | | | | | | | UE\'s | | | | | | | reg | | | | | | | istration | | | | | | | area. | | | | | | | | | | | | | | - false | | | | | | | (default) | | | | | | | the AoI | | | | | | | shall | | | | | | | remain | | | | | | | u | | | | | | | nchanged, | | | | | | | i.e. it | | | | | | | shall not | | | | | | | be | | | | | | | adjusted | | | | | | | based on | | | | | | | the UE\'s | | | | | | | reg | | | | | | | istration | | | | | | | area. | | | | | | | | | | | | | | See | | | | | | | claus | | | | | | | e 5.3.4.4 | | | | | | | of | | | | | | | 3G | | | | | | | PP TS 23. | | | | | | | 501 [2] | | | | | | | and | | | | | | | c | | | | | | | lauses 4. | | | | | | | 15.9.3.2, | | | | | | | 4.15.9.4, | | | | | | | 5.2.2.3.1 | | | | | | | and Annex | | | | | | | D.1 of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | +-----------+-----------+---+-----------+-----------+-----------+ | r | boolean | O | 0..1 | This IE | | | anTimingS | | | | may be | | | ynchroSta | | | | present | | | tusChange | | | | if the | | | | | | | (event) | | | | | | | type IE | | | | | | | is set to | | | | | | | \"P | | | | | | | RESENCE_ | | | | | | | IN_AOI_ | | | | | | | REPORT\". | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | be set as | | | | | | | follows: | | | | | | | | | | | | | | - true: | | | | | | | this is a | | | | | | | sub | | | | | | | scription | | | | | | | for RAN | | | | | | | timing | | | | | | | synchr | | | | | | | onization | | | | | | | status | | | | | | | change | | | | | | | event. | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | this is | | | | | | | not a | | | | | | | sub | | | | | | | scription | | | | | | | for RAN | | | | | | | timing | | | | | | | synchr | | | | | | | onization | | | | | | | status | | | | | | | change | | | | | | | event | | | | | | | | | | | | | | See | | | | | | | cla | | | | | | | use 5.3.1 | | | | | | | for the | | | | | | | handling | | | | | | | of this | | | | | | | IE by the | | | | | | | AMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | The | | | | | | | requested | | | | | | | value of | | | | | | | the | | | | | | | location | | | | | | | is the | | | | | | | last | | | | | | | known | | | | | | | location | | | | | | | (i.e. age | | | | | | | of | | | | | | | location | | | | | | | may be | | | | | | | greater | | | | | | | than | | | | | | | zero) if | | | | | | | the | | | | | | | immediate | | | | | | | Flag is | | | | | | | set to | | | | | | | true. An | | | | | | | NF | | | | | | | Service | | | | | | | Consumer | | | | | | | r | | | | | | | equesting | | | | | | | to | | | | | | | receive | | | | | | | the | | | | | | | current | | | | | | | location | | | | | | | (i.e. age | | | | | | | of | | | | | | | location | | | | | | | equal to | | | | | | | zero) | | | | | | | shall not | | | | | | | set the | | | | | | | imme | | | | | | | diateFlag | | | | | | | to true | | | | | | | when | | | | | | | su | | | | | | | bscribing | | | | | | | to a | | | | | | | location | | | | | | | event | | | | | | | report. | | | | | | | | | | | | | | NOTE 2: | | | | | | | When | | | | | | | creating | | | | | | | an AMF | | | | | | | event | | | | | | | sub | | | | | | | scription | | | | | | | with | | | | | | | multiple | | | | | | | events, | | | | | | | the same | | | | | | | maximum | | | | | | | number of | | | | | | | reports | | | | | | | shall | | | | | | | apply to | | | | | | | each | | | | | | | event. | | | | | | | Acc | | | | | | | ordingly, | | | | | | | m | | | | | | | axReports | | | | | | | in this | | | | | | | attribute | | | | | | | should | | | | | | | not be | | | | | | | present | | | | | | | when | | | | | | | creating | | | | | | | an AMF | | | | | | | event | | | | | | | subs | | | | | | | cription; | | | | | | | if it is | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the same | | | | | | | value for | | | | | | | all | | | | | | | events | | | | | | | and | | | | | | | m | | | | | | | axReports | | | | | | | in the | | | | | | | Amf | | | | | | | EventMode | | | | | | | shall | | | | | | | have | | | | | | | p | | | | | | | recedence | | | | | | | over the | | | | | | | m | | | | | | | axReports | | | | | | | in this | | | | | | | a | | | | | | | ttribute. | | | | | | | m | | | | | | | axReports | | | | | | | in this | | | | | | | attribute | | | | | | | and | | | | | | | m | | | | | | | axReports | | | | | | | in the | | | | | | | Amf | | | | | | | EventMode | | | | | | | have | | | | | | | different | | | | | | | semantics | | | | | | | when | | | | | | | tra | | | | | | | nsferring | | | | | | | the event | | | | | | | sub | | | | | | | scription | | | | | | | from a | | | | | | | source | | | | | | | AMF to a | | | | | | | target | | | | | | | AMF. | | | | | | | | | | | | | | NOTE 3: | | | | | | | Each | | | | | | | M | | | | | | | onitoring | | | | | | | Conf | | | | | | | iguration | | | | | | | s | | | | | | | ubscribed | | | | | | | via UDM | | | | | | | Event | | | | | | | Exposure | | | | | | | service | | | | | | | uses a | | | | | | | Reference | | | | | | | Id as the | | | | | | | key. This | | | | | | | IE shall | | | | | | | carry the | | | | | | | Reference | | | | | | | Id when | | | | | | | UDM | | | | | | | s | | | | | | | ubscribes | | | | | | | to the | | | | | | | AMF event | | | | | | | for the | | | | | | | corr | | | | | | | esponding | | | | | | | M | | | | | | | onitoring | | | | | | | Confi | | | | | | | guration. | | | | | | | | | | | | | | NOTE 4: | | | | | | | For a | | | | | | | sub | | | | | | | scription | | | | | | | to the | | | | | | | UE_MM_T | | | | | | | RANSACTIO | | | | | | | N_REPORT | | | | | | | event, | | | | | | | either | | | | | | | the | | | | | | | sns | | | | | | | saiFilter | | | | | | | IE or the | | | | | | | dispe | | | | | | | rsionArea | | | | | | | shall be | | | | | | | present. | | | | | | | The AMF | | | | | | | shall | | | | | | | report | | | | | | | the UE MM | | | | | | | Tr | | | | | | | ansaction | | | | | | | numbers | | | | | | | based on | | | | | | | slices or | | | | | | | location | | | | | | | according | | | | | | | to the | | | | | | | presence | | | | | | | of the | | | | | | | IE. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.2.6.2.4 Type: AmfEventNotification
Table 6.2.6.2.4-1: Definition of type AmfEventNotification
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | n | string | C | 0..1 | This IE | | | otifyCorr | | | | shall be | | | elationId | | | | included | | | | | | | if the | | | | | | | not | | | | | | | ification | | | | | | | is not | | | | | | | for | | | | | | | informing | | | | | | | creation | | | | | | | of a new | | | | | | | sub | | | | | | | scription | | | | | | | Id. | | | | | | | | | | | | | | This IE | | | | | | | shall | | | | | | | also be | | | | | | | included | | | | | | | if the | | | | | | | not | | | | | | | ification | | | | | | | is for | | | | | | | informing | | | | | | | the | | | | | | | creation | | | | | | | of a new | | | | | | | sub | | | | | | | scription | | | | | | | Id and | | | | | | | the | | | | | | | corr | | | | | | | esponding | | | | | | | event | | | | | | | sub | | | | | | | scription | | | | | | | did not | | | | | | | contain | | | | | | | su | | | | | | | bsChangeN | | | | | | | otifyCorr | | | | | | | elationId | | | | | | | attribute | | | | | | | (see | | | | | | | clause 6. | | | | | | | 2.6.2.2). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | not | | | | | | | ification | | | | | | | co | | | | | | | rrelation | | | | | | | Id | | | | | | | provided | | | | | | | by the NF | | | | | | | service | | | | | | | consumer | | | | | | | during | | | | | | | event | | | | | | | subs | | | | | | | cription. | | | | | | | This | | | | | | | parameter | | | | | | | can be | | | | | | | useful if | | | | | | | the NF | | | | | | | service | | | | | | | consumer | | | | | | | uses a | | | | | | | common | | | | | | | call-back | | | | | | | URI for | | | | | | | multiple | | | | | | | subsc | | | | | | | riptions. | | +-----------+-----------+---+-----------+-----------+-----------+ | su | string | C | 0..1 | This IE | | | bsChangeN | | | | shall be | | | otifyCorr | | | | included | | | elationId | | | | if the | | | | | | | not | | | | | | | ification | | | | | | | is for | | | | | | | informing | | | | | | | the | | | | | | | creation | | | | | | | of a new | | | | | | | sub | | | | | | | scription | | | | | | | Id at the | | | | | | | AMF and | | | | | | | the | | | | | | | corr | | | | | | | esponding | | | | | | | event | | | | | | | sub | | | | | | | scription | | | | | | | contains | | | | | | | the | | | | | | | su | | | | | | | bsChangeN | | | | | | | otifyCorr | | | | | | | elationId | | | | | | | attribute | | | | | | | (see | | | | | | | clause 6. | | | | | | | 2.6.2.2). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall be | | | | | | | set to | | | | | | | the value | | | | | | | of the | | | | | | | su | | | | | | | bsChangeN | | | | | | | otifyCorr | | | | | | | elationId | | | | | | | provided | | | | | | | during | | | | | | | sub | | | | | | | scription | | | | | | | (see | | | | | | | clause 6. | | | | | | | 2.6.2.2). | | +-----------+-----------+---+-----------+-----------+-----------+ | r | arr | C | 1..N | This IE | | | eportList | ay(AmfEve | | | shall be | | | | ntReport) | | | present | | | | | | | if a | | | | | | | event is | | | | | | | reported. | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | r | | | | | | | epresents | | | | | | | the event | | | | | | | reports | | | | | | | to be | | | | | | | d | | | | | | | elivered. | | +-----------+-----------+---+-----------+-----------+-----------+ | eventSub | Am | C | 0..1 | This IE | ESSYNC | | sSyncInfo | fEventSub | | | may be | | | | sSyncInfo | | | present | | | | | | | for AMF | | | | | | | to | | | | | | | initiate | | | | | | | event | | | | | | | sub | | | | | | | scription | | | | | | | synchr | | | | | | | onization | | | | | | | with UDM | | | | | | | during UE | | | | | | | mobility | | | | | | | pr | | | | | | | ocedures. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | in | | | | | | | formation | | | | | | | for event | | | | | | | sub | | | | | | | scription | | | | | | | synchro | | | | | | | nization, | | | | | | | including | | | | | | | all | | | | | | | active | | | | | | | event | | | | | | | subs | | | | | | | criptions | | | | | | | spec | | | | | | | ificially | | | | | | | targeting | | | | | | | the UE. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.2.6.2.5 Type: AmfEventReport
Table 6.2.6.2.5-1: Definition of type AmfEventReport
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | type | Amf | M | 1 | Describes | | | | EventType | | | the type | | | | | | | of the | | | | | | | event | | | | | | | which | | | | | | | triggers | | | | | | | the | | | | | | | report | | +-----------+-----------+---+-----------+-----------+-----------+ | state | AmfE | M | 1 | Describes | | | | ventState | | | the state | | | | | | | of the | | | | | | | event | | | | | | | which | | | | | | | triggered | | | | | | | the | | | | | | | report. | | | | | | | This IE | | | | | | | shall be | | | | | | | set to | | | | | | | \"TRUE\" | | | | | | | when | | | | | | | subsc | | | | | | | riptionId | | | | | | | IE is | | | | | | | present. | | +-----------+-----------+---+-----------+-----------+-----------+ | timeStamp | DateTime | M | 1 | This IE | | | | | | | shall | | | | | | | contain | | | | | | | the UTC | | | | | | | time at | | | | | | | which the | | | | | | | event is | | | | | | | g | | | | | | | enerated. | | +-----------+-----------+---+-----------+-----------+-----------+ | subsc | Uri | C | 0..1 | This IE | | | riptionId | | | | shall be | | | | | | | included | | | | | | | when the | | | | | | | event | | | | | | | not | | | | | | | ification | | | | | | | is for | | | | | | | informing | | | | | | | the | | | | | | | creation | | | | | | | of a | | | | | | | sub | | | | | | | scription | | | | | | | Id at the | | | | | | | AMF | | | | | | | during | | | | | | | mobility | | | | | | | of a UE | | | | | | | across | | | | | | | AMFs. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the URI | | | | | | | of the | | | | | | | created | | | | | | | sub | | | | | | | scription | | | | | | | resource | | | | | | | at the | | | | | | | AMF; this | | | | | | | shall | | | | | | | contain | | | | | | | an | | | | | | | absolute | | | | | | | URI set | | | | | | | to the | | | | | | | Resource | | | | | | | URI | | | | | | | specified | | | | | | | in | | | | | | | clause 6 | | | | | | | .2.3.3.2. | | | | | | | | | | | | | | The type | | | | | | | IE shall | | | | | | | be set | | | | | | | to: | | | | | | | | | | | | | | > \- | | | | | | | > SUBSCRI | | | | | | | PTION_ID | | | | | | | _CHANGE, | | | | | | | > when | | | | | | | > the | | | | | | | > A | | | | | | | MFcreates | | | | | | | > a | | | | | | | > sub | | | | | | | scription | | | | | | | > Id for | | | | | | | > a UE | | | | | | | > | | | | | | | specific | | | | | | | > event | | | | | | | > sub | | | | | | | scription | | | | | | | > during | | | | | | | > | | | | | | | mobility | | | | | | | > reg | | | | | | | istration | | | | | | | > and | | | | | | | > | | | | | | | handover | | | | | | | > p | | | | | | | rocedures | | | | | | | > | | | | | | | involving | | | | | | | > an AMF | | | | | | | > change. | | | | | | | > | | | | | | | > \- | | | | | | | > | | | | | | | SUBSCRIPT | | | | | | | ION_ID_ | | | | | | | ADDITION, | | | | | | | > when | | | | | | | > the AMF | | | | | | | > creates | | | | | | | > a | | | | | | | > sub | | | | | | | scription | | | | | | | > Id for | | | | | | | > a group | | | | | | | > Id | | | | | | | > | | | | | | | specific | | | | | | | > event | | | | | | | > sub | | | | | | | scription | | | | | | | > during | | | | | | | > | | | | | | | mobility | | | | | | | > reg | | | | | | | istration | | | | | | | > and | | | | | | | > | | | | | | | handover | | | | | | | > p | | | | | | | rocedures | | | | | | | > | | | | | | | involving | | | | | | | > an AMF | | | | | | | > change. | | +-----------+-----------+---+-----------+-----------+-----------+ | anyUe | boolean | C | 0..1 | This IE | | | | | | | shall be | | | | | | | included | | | | | | | and shall | | | | | | | be set to | | | | | | | \"true\", | | | | | | | if the | | | | | | | event | | | | | | | sub | | | | | | | scription | | | | | | | is a bulk | | | | | | | sub | | | | | | | scription | | | | | | | for | | | | | | | number of | | | | | | | UEs and | | | | | | | the event | | | | | | | reported | | | | | | | is for | | | | | | | one of | | | | | | | those | | | | | | | UEs. | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | supi | Supi | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | i | | | | | | | dentifies | | | | | | | the SUPI | | | | | | | of the UE | | | | | | | a | | | | | | | ssociated | | | | | | | with the | | | | | | | report | | | | | | | (NOTE 1, | | | | | | | NOTE 3). | | +-----------+-----------+---+-----------+-----------+-----------+ | areaList | a | C | 1..N | This IE | | | | rray(AmfE | | | shall be | | | | ventArea) | | | present | | | | | | | when the | | | | | | | AMF event | | | | | | | type is | | | | | | | \"P | | | | | | | RESENCE_ | | | | | | | IN_AOI_ | | | | | | | REPORT\". | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | r | | | | | | | epresents | | | | | | | the | | | | | | | specified | | | | | | | Area(s) | | | | | | | of | | | | | | | Interest | | | | | | | the UE is | | | | | | | currently | | | | | | | IN / OUT | | | | | | | / | | | | | | | UNKNOWN. | | | | | | | | | | | | | | If the | | | | | | | AMF event | | | | | | | is | | | | | | | s | | | | | | | ubscribed | | | | | | | towards a | | | | | | | PRA | | | | | | | i | | | | | | | dentifier | | | | | | | referring | | | | | | | to a Set | | | | | | | of Core | | | | | | | Network | | | | | | | p | | | | | | | redefined | | | | | | | Presence | | | | | | | Reporting | | | | | | | Areas, | | | | | | | the AMF | | | | | | | shall | | | | | | | report | | | | | | | both the | | | | | | | s | | | | | | | ubscribed | | | | | | | PRA | | | | | | | I | | | | | | | dentifier | | | | | | | and the | | | | | | | a | | | | | | | dditional | | | | | | | PRA | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | actually | | | | | | | i | | | | | | | ndividual | | | | | | | PRA(s) | | | | | | | where the | | | | | | | UE is | | | | | | | currently | | | | | | | IN / OUT, | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | clau | | | | | | | se 5.6.11 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 01 [2]. | | | | | | | | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | refId | Re | C | 0..1 | This IE | | | | ferenceId | | | shall be | | | | | | | present | | | | | | | if a | | | | | | | Reference | | | | | | | Id has | | | | | | | p | | | | | | | reviously | | | | | | | been | | | | | | | a | | | | | | | ssociated | | | | | | | with the | | | | | | | event | | | | | | | t | | | | | | | riggering | | | | | | | the | | | | | | | report. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | Reference | | | | | | | Id | | | | | | | a | | | | | | | ssociated | | | | | | | with the | | | | | | | event | | | | | | | which | | | | | | | triggers | | | | | | | the | | | | | | | report. | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | i | | | | | | | dentifies | | | | | | | the GPSI | | | | | | | of the UE | | | | | | | a | | | | | | | ssociated | | | | | | | with the | | | | | | | report | | | | | | | (NOTE 1, | | | | | | | NOTE 3). | | +-----------+-----------+---+-----------+-----------+-----------+ | pei | Pei | O | 0..1 | This IE | | | | | | | may be | | | | | | | included | | | | | | | if the | | | | | | | event | | | | | | | reported | | | | | | | is for a | | | | | | | p | | | | | | | articular | | | | | | | UE or any | | | | | | | UE. This | | | | | | | IE | | | | | | | i | | | | | | | dentifies | | | | | | | the PEI | | | | | | | of the UE | | | | | | | a | | | | | | | ssociated | | | | | | | with the | | | | | | | report | | | | | | | (NOTE 1, | | | | | | | NOTE 3). | | +-----------+-----------+---+-----------+-----------+-----------+ | location | Use | O | 0..1 | R | | | | rLocation | | | epresents | | | | | | | the | | | | | | | location | | | | | | | in | | | | | | | formation | | | | | | | of the UE | | | | | | | | | | | | | | This IE | | | | | | | shall | | | | | | | convey | | | | | | | exactly | | | | | | | one of | | | | | | | the | | | | | | | fo | | | | | | | llowing:\ | | | | | | | - E-UTRA | | | | | | | user | | | | | | | location\ | | | | | | | - NR user | | | | | | | location | | | | | | | | | | | | | | - | | | | | | | Non-3GPP | | | | | | | access | | | | | | | user | | | | | | | location. | | | | | | | | | | | | | | If the | | | | | | | additiona | | | | | | | lLocation | | | | | | | IE is | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | either an | | | | | | | E-UTRA | | | | | | | user | | | | | | | location | | | | | | | or NR | | | | | | | user | | | | | | | location. | | +-----------+-----------+---+-----------+-----------+-----------+ | additiona | Use | O | 0..1 | This IE | | | lLocation | rLocation | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | \ | | | | | | | "location | | | | | | | IE\" is | | | | | | | present | | | | | | | and the | | | | | | | AMF | | | | | | | reports | | | | | | | both a | | | | | | | 3GPP user | | | | | | | location | | | | | | | and a | | | | | | | non-3GPP | | | | | | | access | | | | | | | user | | | | | | | location. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | convey | | | | | | | the | | | | | | | non-3GPP | | | | | | | access | | | | | | | user | | | | | | | location. | | +-----------+-----------+---+-----------+-----------+-----------+ | timezone | TimeZone | O | 0..1 | Describes | | | | | | | the time | | | | | | | zone of | | | | | | | the UE | | +-----------+-----------+---+-----------+-----------+-----------+ | acces | array(Ac | O | 1..N | Describes | | | sTypeList | cessType) | | | the | | | | | | | access | | | | | | | type(s) | | | | | | | of the | | | | | | | UE. | | | | | | | | | | | | | | When | | | | | | | reporting | | | | | | | that the | | | | | | | UE is | | | | | | | reachable | | | | | | | for DL | | | | | | | traffic, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | access | | | | | | | type(s) | | | | | | | through | | | | | | | which the | | | | | | | UE is | | | | | | | r | | | | | | | eachable. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | absent if | | | | | | | the AMF | | | | | | | event | | | | | | | type is | | | | | | | \"SNS | | | | | | | SAI_TA_ | | | | | | | MAPPING_ | | | | | | | REPORT\". | | +-----------+-----------+---+-----------+-----------+-----------+ | r | arra | O | 1..N | Describes | | | mInfoList | y(RmInfo) | | | the | | | | | | | reg | | | | | | | istration | | | | | | | m | | | | | | | anagement | | | | | | | state of | | | | | | | the UE | | +-----------+-----------+---+-----------+-----------+-----------+ | c | arra | O | 1..N | Describes | | | mInfoList | y(CmInfo) | | | the | | | | | | | c | | | | | | | onnection | | | | | | | m | | | | | | | anagement | | | | | | | state of | | | | | | | the UE | | +-----------+-----------+---+-----------+-----------+-----------+ | rea | UeRea | O | 0..1 | Describes | | | chability | chability | | | the | | | | | | | rea | | | | | | | chability | | | | | | | of the UE | | +-----------+-----------+---+-----------+-----------+-----------+ | co | Co | O | 0..1 | Describes | | | mmFailure | mmunicati | | | a | | | | onFailure | | | comm | | | | | | | unication | | | | | | | failure | | | | | | | for the | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | nu | integer | O | 0..1 | R | | | mberOfUes | | | | epresents | | | | | | | the | | | | | | | number of | | | | | | | UEs in | | | | | | | the | | | | | | | specified | | | | | | | area | | +-----------+-----------+---+-----------+-----------+-----------+ | 5gsUser | array | O | 1..N | R | | | StateList | (5GsUserS | | | epresents | | | | tateInfo) | | | the 5GS | | | | | | | User | | | | | | | State of | | | | | | | the UE | | | | | | | per | | | | | | | access | | | | | | | type | | +-----------+-----------+---+-----------+-----------+-----------+ | typeCode | string | C | 0..1 | This IE | ENA | | | | | | shall be | | | | | | | present | | | | | | | when the | | | | | | | AMF event | | | | | | | type is | | | | | | | \"TYPE_ | | | | | | | ALLOCATIO | | | | | | | N_CODE_ | | | | | | | REPORT\". | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | r | | | | | | | epresents | | | | | | | the Type | | | | | | | A | | | | | | | llocation | | | | | | | code | | | | | | | (TAC), to | | | | | | | indicate | | | | | | | terminal | | | | | | | model and | | | | | | | vendor | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | UE. | | | | | | | | | | | | | | Pattern: | | | | | | | \'\^imeit | | | | | | | ac-[0-9\ | | | | | | | ]{8}\$\'. | | +-----------+-----------+---+-----------+-----------+-----------+ | registrat | integer | C | 0..1 | This IE | ENA | | ionNumber | | | | shall be | | | | | | | present | | | | | | | when the | | | | | | | AMF event | | | | | | | type is | | | | | | | \"FREQUEN | | | | | | | T_MOBILI | | | | | | | TY_REGIS | | | | | | | TRATION_ | | | | | | | REPORT\". | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | r | | | | | | | epresents | | | | | | | the | | | | | | | number of | | | | | | | the | | | | | | | mobility | | | | | | | reg | | | | | | | istration | | | | | | | p | | | | | | | rocedures | | | | | | | during a | | | | | | | period | | | | | | | i | | | | | | | dentified | | | | | | | by the | | | | | | | expiry | | | | | | | time | | | | | | | included | | | | | | | in the | | | | | | | event | | | | | | | sub | | | | | | | scription | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+ | ue | array | C | 1..N | This IE | ENA | | IdExtList | (UEIdExt) | | | shall be | | | | | | | present | | | | | | | if | | | | | | | multiple | | | | | | | SUPIs and | | | | | | | / or | | | | | | | GPSIs | | | | | | | need to | | | | | | | be | | | | | | | included | | | | | | | and the | | | | | | | su | | | | | | | bscribing | | | | | | | NF | | | | | | | indicated | | | | | | | support | | | | | | | of the | | | | | | | ENA | | | | | | | feature, | | | | | | | unless | | | | | | | the | | | | | | | su | | | | | | | bscribing | | | | | | | NF | | | | | | | indicated | | | | | | | to omit | | | | | | | UE IDs in | | | | | | | the event | | | | | | | reports | | | | | | | by | | | | | | | including | | | | | | | ue | | | | | | | IdOmitInd | | | | | | | IE with | | | | | | | the value | | | | | | | true. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | provides | | | | | | | a | | | | | | | dditional | | | | | | | SUPIs and | | | | | | | / or | | | | | | | GPSIs to | | | | | | | the supi | | | | | | | attribute | | | | | | | or gpsi | | | | | | | attribute | | | | | | | if | | | | | | | present. | | | | | | | The | | | | | | | ue | | | | | | | IdExtList | | | | | | | attribute | | | | | | | may be | | | | | | | present | | | | | | | even if | | | | | | | both the | | | | | | | supi and | | | | | | | gpsi | | | | | | | a | | | | | | | ttributes | | | | | | | are | | | | | | | absent, | | | | | | | e.g., in | | | | | | | a report | | | | | | | of | | | | | | | \"UES_ | | | | | | | IN_AREA\ | | | | | | | _REPORT\" | | | | | | | event | | | | | | | type. | | | | | | | | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | l | LossOf | O | 0..1 | Describes | | | ossOfConn | Connectiv | | | the | | | ectReason | ityReason | | | reason | | | | | | | for loss | | | | | | | of | | | | | | | conn | | | | | | | ectivity. | | | | | | | | | | | | | | This IE | | | | | | | should be | | | | | | | present | | | | | | | when the | | | | | | | AMF event | | | | | | | type is | | | | | | | \"LOSS_O | | | | | | | F_CONNEC | | | | | | | TIVITY\". | | +-----------+-----------+---+-----------+-----------+-----------+ | m | DateTime | O | 0..1 | Indicates | | | axAvailab | | | | the time | | | ilityTime | | | | (in UTC) | | | | | | | until | | | | | | | which the | | | | | | | UE is | | | | | | | expected | | | | | | | to be | | | | | | | r | | | | | | | eachable. | | | | | | | | | | | | | | This IE | | | | | | | may be | | | | | | | present | | | | | | | in | | | | | | | RE | | | | | | | ACHABILIT | | | | | | | Y_REPORT | | | | | | | event | | | | | | | report | | | | | | | for \"UE | | | | | | | Reach | | | | | | | able_for | | | | | | | DL | | | | | | | T | | | | | | | raffic\". | | | | | | | | | | | | | | This | | | | | | | in | | | | | | | formation | | | | | | | may be | | | | | | | used by | | | | | | | the SMS | | | | | | | Service | | | | | | | Center to | | | | | | | p | | | | | | | rioritize | | | | | | | the | | | | | | | retra | | | | | | | nsmission | | | | | | | of | | | | | | | pending | | | | | | | Mobile | | | | | | | T | | | | | | | erminated | | | | | | | Short | | | | | | | Message | | | | | | | to UEs | | | | | | | using a | | | | | | | power | | | | | | | saving | | | | | | | mechanism | | | | | | | (eDRX, | | | | | | | PSM | | | | | | | etc.). | | +-----------+-----------+---+-----------+-----------+-----------+ | snss | array | C | 1..N | This IE | | | aiTaiList | (SnssaiTa | | | shall be | | | | iMapping) | | | present | | | | | | | when the | | | | | | | AMF event | | | | | | | type is | | | | | | | \"SNS | | | | | | | SAI_TA_ | | | | | | | MAPPING_ | | | | | | | REPORT\". | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | r | | | | | | | epresents | | | | | | | the list | | | | | | | of | | | | | | | supported | | | | | | | S-NSSAIs | | | | | | | at the | | | | | | | TAI(s). | | | | | | | It shall | | | | | | | also | | | | | | | include | | | | | | | the | | | | | | | i | | | | | | | ndication | | | | | | | if | | | | | | | S-NSSAI | | | | | | | is | | | | | | | r | | | | | | | estricted | | | | | | | at the | | | | | | | AMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | id | Id | O | 0..1 | Idle | | | leStatusI | leStatusI | | | Status | | | ndication | ndication | | | I | | | | | | | ndication | | | | | | | | | | | | | | May be | | | | | | | present | | | | | | | when type | | | | | | | is | | | | | | | RE | | | | | | | ACHABILIT | | | | | | | Y_REPORT | | | | | | | or | | | | | | | AVAILA | | | | | | | BILITY_A | | | | | | | FTER_DDN | | | | | | | _FAILURE | | +-----------+-----------+---+-----------+-----------+-----------+ | ueAc | array( | C | 1..N | This IE | | | cessBehav | UeAccessB | | | shall be | | | iorTrends | ehaviorRe | | | present | | | | portItem) | | | to report | | | | | | | \"UE\ | | | | | | | _ACCESS_ | | | | | | | BEHAVIOR\ | | | | | | | _TRENDS\" | | | | | | | event. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | include | | | | | | | the UE | | | | | | | access | | | | | | | behavior | | | | | | | trends | | | | | | | within | | | | | | | the | | | | | | | report | | | | | | | period. | | +-----------+-----------+---+-----------+-----------+-----------+ | ueLocat | array( | C | 1..N | This IE | | | ionTrends | UeLocatio | | | shall be | | | | nTrendsRe | | | present | | | | portItem) | | | to report | | | | | | | \"UE_ | | | | | | | LOCATION\ | | | | | | | _TRENDS\" | | | | | | | event. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | include | | | | | | | the UE | | | | | | | location | | | | | | | trends | | | | | | | within | | | | | | | the | | | | | | | report | | | | | | | period. | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | mmTrans | ar | C | 1..N | This IE | | | LocationR | ray(MmTra | | | shall be | | | eportList | nsactionL | | | present | | | | ocationRe | | | to report | | | | portItem) | | | \"UE | | | | | | | _MM_TRA | | | | | | | NSACTION\ | | | | | | | _REPORT\" | | | | | | | event | | | | | | | based on | | | | | | | location. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | include | | | | | | | the | | | | | | | number of | | | | | | | UE MM | | | | | | | tra | | | | | | | nsactions | | | | | | | per | | | | | | | location | | | | | | | within | | | | | | | the | | | | | | | report | | | | | | | period. | | +-----------+-----------+---+-----------+-----------+-----------+ | mmTr | array(Mm | C | 1..N | This IE | | | ansSliceR | Transacti | | | shall be | | | eportList | onSliceRe | | | present | | | | portItem) | | | to report | | | | | | | \"UE | | | | | | | _MM_TRA | | | | | | | NSACTION\ | | | | | | | _REPORT\" | | | | | | | event | | | | | | | based on | | | | | | | slices. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | include | | | | | | | the | | | | | | | number of | | | | | | | UE MM | | | | | | | tra | | | | | | | nsactions | | | | | | | per slice | | | | | | | within | | | | | | | the | | | | | | | report | | | | | | | period. | | +-----------+-----------+---+-----------+-----------+-----------+ | t | Su | O | 0..1 | This IE | | | ermReason | bTerminat | | | may be | | | | ionReason | | | present | | | | | | | when the | | | | | | | event | | | | | | | type is | | | | | | | SUBSCRIP | | | | | | | TION_TER | | | | | | | MINATION. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | reason | | | | | | | for the | | | | | | | sub | | | | | | | scription | | | | | | | ter | | | | | | | mination. | | +-----------+-----------+---+-----------+-----------+-----------+ | un | Du | O | 0..1 | This IE | | | availabil | rationSec | | | shall be | | | ityPeriod | | | | present | | | | | | | when the | | | | | | | event | | | | | | | type is | | | | | | | LOSS | | | | | | | _OF_CON | | | | | | | NECTIVITY | | | | | | | and | | | | | | | Unava | | | | | | | ilability | | | | | | | Period | | | | | | | Duration | | | | | | | is | | | | | | | reported | | | | | | | by the | | | | | | | UE. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it | | | | | | | contains | | | | | | | the | | | | | | | Unava | | | | | | | ilability | | | | | | | Period | | | | | | | Duration | | | | | | | reported | | | | | | | by the | | | | | | | UE. If | | | | | | | the UE is | | | | | | | already | | | | | | | not | | | | | | | available | | | | | | | when the | | | | | | | event is | | | | | | | su | | | | | | | bscribed, | | | | | | | it is set | | | | | | | to the | | | | | | | remaining | | | | | | | value of | | | | | | | Unava | | | | | | | ilability | | | | | | | Period | | | | | | | Duration. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | If the | | | | | | | event | | | | | | | report | | | | | | | co | | | | | | | rresponds | | | | | | | to an | | | | | | | event | | | | | | | sub | | | | | | | scription | | | | | | | of a | | | | | | | single | | | | | | | UE, then | | | | | | | the same | | | | | | | UE | | | | | | | i | | | | | | | dentifier | | | | | | | (i.e. | | | | | | | SUPI | | | | | | | and/or | | | | | | | GPSI | | | | | | | and/or | | | | | | | PEI) | | | | | | | received | | | | | | | during | | | | | | | sub | | | | | | | scription | | | | | | | creation | | | | | | | shall be | | | | | | | included | | | | | | | in the | | | | | | | report. | | | | | | | If the | | | | | | | event | | | | | | | report | | | | | | | co | | | | | | | rresponds | | | | | | | to an | | | | | | | event | | | | | | | sub | | | | | | | scription | | | | | | | for group | | | | | | | of UEs or | | | | | | | any UE, | | | | | | | then the | | | | | | | SUPI and | | | | | | | if | | | | | | | available | | | | | | | the GPSI | | | | | | | shall be | | | | | | | included | | | | | | | in the | | | | | | | event | | | | | | | report. | | | | | | | SUPI, PEI | | | | | | | and GPSI | | | | | | | shall not | | | | | | | be | | | | | | | present | | | | | | | in report | | | | | | | for | | | | | | | UES | | | | | | | _IN_ARE | | | | | | | A_REPORT | | | | | | | event | | | | | | | type. | | | | | | | | | | | | | | NOTE 2: | | | | | | | The items | | | | | | | shall be | | | | | | | listed in | | | | | | | d | | | | | | | escending | | | | | | | order by | | | | | | | the value | | | | | | | of | | | | | | | \"d | | | | | | | uration\" | | | | | | | a | | | | | | | ttribute. | | | | | | | | | | | | | | NOTE 3: | | | | | | | When a | | | | | | | sub | | | | | | | scription | | | | | | | for | | | | | | | \" | | | | | | | PRESENCE\ | | | | | | | _IN_AOI\ | | | | | | | _REPORT\" | | | | | | | event | | | | | | | targets | | | | | | | any UE | | | | | | | but no UE | | | | | | | is \"IN\" | | | | | | | the AOI | | | | | | | when the | | | | | | | AMF | | | | | | | generats | | | | | | | the first | | | | | | | not | | | | | | | ification | | | | | | | (e.g. for | | | | | | | one-time | | | | | | | reporting | | | | | | | or for | | | | | | | the first | | | | | | | not | | | | | | | ification | | | | | | | for | | | | | | | con | | | | | | | tinusouly | | | | | | | re | | | | | | | porting), | | | | | | | the anyUe | | | | | | | IE shall | | | | | | | be | | | | | | | present | | | | | | | with the | | | | | | | value | | | | | | | true and | | | | | | | IEs | | | | | | | i | | | | | | | ndicating | | | | | | | UE IDs | | | | | | | (Supi, | | | | | | | Gpsi, Pei | | | | | | | and | | | | | | | ueI | | | | | | | dExtList) | | | | | | | shall not | | | | | | | be | | | | | | | present; | | | | | | | the | | | | | | | areaList | | | | | | | IE shall | | | | | | | be | | | | | | | present | | | | | | | including | | | | | | | the | | | | | | | s | | | | | | | ubscribed | | | | | | | AOI with | | | | | | | the | | | | | | | Presence | | | | | | | Status | | | | | | | set to | | | | | | | \"IN\", | | | | | | | i.e. no | | | | | | | UE is | | | | | | | \"IN\" | | | | | | | the AOI. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.2.6.2.6 Type: AmfEventMode
Table 6.2.6.2.6-1: Definition of type AmfEventMode
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | trigger | AmfEve | M | 1 | Describes | | | | ntTrigger | | | how the | | | | | | | reports | | | | | | | are | | | | | | | t | | | | | | | riggered. | | +-----------+-----------+---+-----------+-----------+-----------+ | m | integer | C | 0..1 | This IE | | | axReports | | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | trigger | | | | | | | is set to | | | | | | | \"CON | | | | | | | TINUOUS\" | | | | | | | while | | | | | | | \ | | | | | | | "expiry\" | | | | | | | attribute | | | | | | | is not | | | | | | | present. | | | | | | | This IE | | | | | | | may be | | | | | | | present | | | | | | | if the | | | | | | | trigger | | | | | | | is set to | | | | | | | \"PE | | | | | | | RIODIC\". | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | describes | | | | | | | the | | | | | | | maximum | | | | | | | number of | | | | | | | reports | | | | | | | that can | | | | | | | be | | | | | | | generated | | | | | | | by each | | | | | | | s | | | | | | | ubscribed | | | | | | | event in | | | | | | | the | | | | | | | subs | | | | | | | cription. | | | | | | | | | | | | | | If the | | | | | | | AMF event | | | | | | | sub | | | | | | | scription | | | | | | | is for a | | | | | | | list of | | | | | | | events, | | | | | | | this | | | | | | | parameter | | | | | | | shall be | | | | | | | applied | | | | | | | to each | | | | | | | i | | | | | | | ndividual | | | | | | | event in | | | | | | | the list. | | | | | | | | | | | | | | If the | | | | | | | AMF event | | | | | | | sub | | | | | | | scription | | | | | | | is for a | | | | | | | group of | | | | | | | UEs, this | | | | | | | parameter | | | | | | | shall be | | | | | | | applied | | | | | | | to each | | | | | | | i | | | | | | | ndividual | | | | | | | member UE | | | | | | | of the | | | | | | | group. | | | | | | | | | | | | | | If the | | | | | | | event | | | | | | | sub | | | | | | | scription | | | | | | | is | | | | | | | tr | | | | | | | ansferred | | | | | | | from | | | | | | | source | | | | | | | AMF to | | | | | | | target | | | | | | | AMF, this | | | | | | | IE shall | | | | | | | contain: | | | | | | | | | | | | | | > \- the | | | | | | | > | | | | | | | remaining | | | | | | | > number | | | | | | | > of | | | | | | | > reports | | | | | | | > for the | | | | | | | > event | | | | | | | > subs | | | | | | | cription, | | | | | | | > in the | | | | | | | > case of | | | | | | | > i | | | | | | | ndividual | | | | | | | > UE | | | | | | | > event | | | | | | | > subs | | | | | | | cription; | | | | | | | > | | | | | | | > \- the | | | | | | | > maximum | | | | | | | > number | | | | | | | > of | | | | | | | > reports | | | | | | | > for | | | | | | | > each | | | | | | | > event | | | | | | | > of the | | | | | | | > AMF | | | | | | | > event | | | | | | | > sub | | | | | | | scription | | | | | | | > for | | | | | | | > each | | | | | | | > i | | | | | | | ndividual | | | | | | | > member | | | | | | | > of the | | | | | | | > group, | | | | | | | > in the | | | | | | | > case of | | | | | | | > a group | | | | | | | > event | | | | | | | > subs | | | | | | | cription. | | | | | | | | | | | | | | (NOTE 1) | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | expiry | DateTime | C | 0..1 | This IE | | | | | | | shall be | | | | | | | included | | | | | | | in an | | | | | | | event | | | | | | | sub | | | | | | | scription | | | | | | | response, | | | | | | | if, based | | | | | | | on | | | | | | | operator | | | | | | | policy | | | | | | | and | | | | | | | taking | | | | | | | into | | | | | | | account | | | | | | | the | | | | | | | expiry | | | | | | | time | | | | | | | included | | | | | | | in the | | | | | | | request, | | | | | | | the AMF | | | | | | | needs to | | | | | | | include | | | | | | | an expiry | | | | | | | time. | | | | | | | | | | | | | | This IE | | | | | | | may be | | | | | | | included | | | | | | | in an | | | | | | | event | | | | | | | sub | | | | | | | scription | | | | | | | request. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | represent | | | | | | | the UTC | | | | | | | time | | | | | | | after | | | | | | | which the | | | | | | | s | | | | | | | ubscribed | | | | | | | event(s) | | | | | | | shall | | | | | | | stop | | | | | | | g | | | | | | | enerating | | | | | | | report | | | | | | | and the | | | | | | | sub | | | | | | | scription | | | | | | | becomes | | | | | | | invalid. | | | | | | | If the | | | | | | | trigger | | | | | | | value | | | | | | | included | | | | | | | in an | | | | | | | event | | | | | | | sub | | | | | | | scription | | | | | | | response | | | | | | | is | | | | | | | \"ON | | | | | | | E_TIME\" | | | | | | | and if an | | | | | | | event | | | | | | | report is | | | | | | | included | | | | | | | in the | | | | | | | sub | | | | | | | scription | | | | | | | response | | | | | | | then the | | | | | | | value of | | | | | | | the | | | | | | | expiry | | | | | | | included | | | | | | | in the | | | | | | | response | | | | | | | shall be | | | | | | | an | | | | | | | immediate | | | | | | | t | | | | | | | imestamp. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | repPeriod | Du | C | 0..1 | This IE | | | | rationSec | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | trigger | | | | | | | is set to | | | | | | | \"PE | | | | | | | RIODIC\". | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | describes | | | | | | | the | | | | | | | period | | | | | | | time for | | | | | | | the event | | | | | | | reports. | | | | | | | If the | | | | | | | AMF event | | | | | | | sub | | | | | | | scription | | | | | | | is for a | | | | | | | group of | | | | | | | UEs, this | | | | | | | parameter | | | | | | | shall be | | | | | | | applied | | | | | | | to each | | | | | | | i | | | | | | | ndividual | | | | | | | member UE | | | | | | | of the | | | | | | | group. | | | | | | | | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | sampRatio | Samp | O | 0..1 | This IE | | | | lingRatio | | | may be | | | | | | | included | | | | | | | in an | | | | | | | event | | | | | | | sub | | | | | | | scription | | | | | | | request | | | | | | | for a | | | | | | | group of | | | | | | | UEs or | | | | | | | any UE to | | | | | | | indicate | | | | | | | the ratio | | | | | | | of the | | | | | | | random | | | | | | | subset to | | | | | | | target | | | | | | | UEs. | | | | | | | Event | | | | | | | reports | | | | | | | only | | | | | | | relate to | | | | | | | the | | | | | | | subset. | | | | | | | | | | | | | | If the | | | | | | | AMF event | | | | | | | sub | | | | | | | scription | | | | | | | is for a | | | | | | | list of | | | | | | | AMF | | | | | | | event, | | | | | | | this | | | | | | | parameter | | | | | | | shall be | | | | | | | applied | | | | | | | to each | | | | | | | i | | | | | | | ndividual | | | | | | | event. | | +-----------+-----------+---+-----------+-----------+-----------+ | pa | array(Par | O | 1..N | This IE | | | rtitionin | titioning | | | may be | | | gCriteria | Criteria) | | | included | | | | | | | in an | | | | | | | event | | | | | | | sub | | | | | | | scription | | | | | | | request | | | | | | | for a | | | | | | | group of | | | | | | | UEs or | | | | | | | any UE | | | | | | | when | | | | | | | sampRatio | | | | | | | is | | | | | | | provided. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | define | | | | | | | the | | | | | | | criteria | | | | | | | for | | | | | | | de | | | | | | | termining | | | | | | | the UEs | | | | | | | for which | | | | | | | the | | | | | | | sampling | | | | | | | ratio | | | | | | | shall | | | | | | | apply. | | +-----------+-----------+---+-----------+-----------+-----------+ | notifFlag | Notific | O | 0..1 | Indicates | EneNA | | | ationFlag | | | the | | | | | | | not | | | | | | | ification | | | | | | | flag, | | | | | | | which is | | | | | | | used to | | | | | | | mu | | | | | | | te/unmute | | | | | | | noti | | | | | | | fications | | | | | | | and to | | | | | | | retrieve | | | | | | | events | | | | | | | stored | | | | | | | during a | | | | | | | period of | | | | | | | muted | | | | | | | notif | | | | | | | ications. | | +-----------+-----------+---+-----------+-----------+-----------+ | mut | MutingExc | O | 0..1 | This IE | ENAPH3 | | ingExcIns | eptionIns | | | may be | | | tructions | tructions | | | included | | | | | | | in the | | | | | | | event | | | | | | | sub | | | | | | | scription | | | | | | | request | | | | | | | if the | | | | | | | notifFlag | | | | | | | IE is | | | | | | | present | | | | | | | and set | | | | | | | to | | | | | | | \"DEAC | | | | | | | TIVATE\". | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | ins | | | | | | | tructions | | | | | | | for the | | | | | | | sub | | | | | | | scription | | | | | | | and | | | | | | | stored | | | | | | | events | | | | | | | when an | | | | | | | exception | | | | | | | (e.g. the | | | | | | | buffer of | | | | | | | stored | | | | | | | event | | | | | | | reports | | | | | | | is full, | | | | | | | or the | | | | | | | number of | | | | | | | stored | | | | | | | event | | | | | | | reports | | | | | | | exceeds a | | | | | | | certain | | | | | | | number) | | | | | | | occurs at | | | | | | | AMF while | | | | | | | the | | | | | | | events | | | | | | | are | | | | | | | muted. | | | | | | | | | | | | | | See | | | | | | | 3G | | | | | | | PP TS 23. | | | | | | | 288 [38\ | | | | | | | ], clause | | | | | | | 6.2.7.2. | | | | | | | | | | | | | | Wr | | | | | | | ite-Only: | | | | | | | true | | +-----------+-----------+---+-----------+-----------+-----------+ | mutingNo | MutingNot | O | 0..1 | This IE | ENAPH3 | | tSettings | ification | | | may be | | | | sSettings | | | included | | | | | | | if the | | | | | | | event | | | | | | | noti | | | | | | | fications | | | | | | | muting is | | | | | | | a | | | | | | | ctivated. | | | | | | | | | | | | | | This IE | | | | | | | Indicates | | | | | | | the AMF | | | | | | | muting | | | | | | | not | | | | | | | ification | | | | | | | settings. | | | | | | | | | | | | | | See | | | | | | | 3GPP | | | | | | | TS 23.28 | | | | | | | 8 [38], | | | | | | | clause | | | | | | | 6.2.7.2. | | | | | | | | | | | | | | R | | | | | | | ead-Only: | | | | | | | true | | +-----------+-----------+---+-----------+-----------+-----------+ | varRepP | a | O | 1..N | This IE | ENAPH3 | | eriodInfo | rray(VarR | | | may be | | | | epPeriod) | | | present | | | | | | | if the | | | | | | | trigger | | | | | | | is set to | | | | | | | \"PE | | | | | | | RIODIC\". | | | | | | | | | | | | | | This IE | | | | | | | Indicates | | | | | | | the | | | | | | | variable | | | | | | | reporting | | | | | | | pe | | | | | | | riodicity | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | See | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3], | | | | | | | claus | | | | | | | e 4.15.1. | | | | | | | | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | If the | | | | | | | AmfEve | | | | | | | ntTrigger | | | | | | | is set to | | | | | | | \"CON | | | | | | | TINOUS\", | | | | | | | at least | | | | | | | one of | | | | | | | the | | | | | | | \"max | | | | | | | Reports\" | | | | | | | and | | | | | | | \ | | | | | | | "expiry\" | | | | | | | a | | | | | | | ttributes | | | | | | | shall be | | | | | | | included. | | | | | | | | | | | | | | NOTE 2: | | | | | | | See NOTE | | | | | | | 2 of | | | | | | | Table 6. | | | | | | | 2.6.2.3-1 | | | | | | | regarding | | | | | | | the | | | | | | | p | | | | | | | recedence | | | | | | | between | | | | | | | m | | | | | | | axReports | | | | | | | in | | | | | | | AmfEvent | | | | | | | and | | | | | | | m | | | | | | | axReports | | | | | | | in this | | | | | | | a | | | | | | | ttribute. | | | | | | | | | | | | | | NOTE 3: | | | | | | | If both | | | | | | | repPeriod | | | | | | | and | | | | | | | varRepP | | | | | | | eriodInfo | | | | | | | a | | | | | | | ttributes | | | | | | | are | | | | | | | present, | | | | | | | the | | | | | | | repPeriod | | | | | | | shall be | | | | | | | applied | | | | | | | if non of | | | | | | | the | | | | | | | c | | | | | | | onditions | | | | | | | trigger | | | | | | | the | | | | | | | variable | | | | | | | reporting | | | | | | | is met. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.2.6.2.7 Type: AmfEventState
Table 6.2.6.2.7-1: Definition of type AmfEventState
Attribute name Data type P Cardinality Description
* * *
active boolean M 1 Represents the active state of the subscribe event.
\"TRUE\" value indicates the event will continue generating reports; \"FALSE\"
value indicates the event will not generate further report. remainReports
integer O 0..1 Represents the number of remain reports to be generated by the
subscribed event. remainDuration DurationSec O 0..1 Represents how long the
subscribed event will continue generating reports.
##### 6.2.6.2.8 Type: RmInfo
Table 6.2.6.2.8-1: Definition of type RmInfo
Attribute name Data type P Cardinality Description
* * *
rmState RmState M 1 Describes the registration management state of the UE
accessType AccessType M 1 Describes the access type of the UE that applies to
the registration management state reported.
##### 6.2.6.2.9 Type: CmInfo
Table 6.2.6.2.9-1: Definition of type CmInfo
Attribute name Data type P Cardinality Description
* * *
cmState CmState M 1 Describes the Connection management state of the UE
accessType AccessType M 1 Describes the access type of the UE that applies to
the Connection management state reported.
##### 6.2.6.2.10 Void
##### 6.2.6.2.11 Type: CommunicationFailure
Table 6.2.6.2.11-1: Definition of type CommunicationFailure
+----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +================+===========+===+=============+=================+ | nasReleaseCode | string | O | 0..1 | Describes the | | | | | | NAS release | | | | | | code for the | | | | | | communication | | | | | | failure. This | | | | | | IE shall be | | | | | | formatted | | | | | | following the | | | | | | regular | | | | | | expression | | | | | | pattern: | | | | | | | | | | | | \"\^(MM\|SM)-\ | | | | | | [0-9]{1,3}\$\" | | | | | | | | | | | | Examples: | | | | | | | | | | | | MM-7 | | | | | | | | | | | | SM-27 | +----------------+-----------+---+-------------+-----------------+ | ranReleaseCode | NgApCause | O | 0..1 | Describes the | | | | | | RAN release | | | | | | code for the | | | | | | communication | | | | | | failure. If | | | | | | present, this | | | | | | IE shall | | | | | | contain the | | | | | | decimal value | | | | | | of the NG AP | | | | | | cause code | | | | | | values as | | | | | | specified in | | | | | | 3GPP TS | | | | | | 38.413 [12]. | +----------------+-----------+---+-------------+-----------------+
##### 6.2.6.2.12 Type: AmfCreateEventSubscription
Table 6.2.6.2.12-1: Definition of type AmfCreateEventSubscription
Attribute name Data type P Cardinality Description
* * *
subscription AmfEventSubscription M 1 Represents the AMF Event Subscription
resource to be created. supportedFeatures SupportedFeatures C 0..1 This IE
shall be present if at least one optional feature defined in clause 6.2.8 is
supported. oldGuami Guami C 0..1 This IE shall be present during an AMF
planned removal procedure when the NF Service Consumer initiates a request
towards the target AMF, for a UE associated to an AMF that is unavailable (see
clause 5.21.2.2 of 3GPP TS 23.501 [2]).
##### 6.2.6.2.13 Type: AmfCreatedEventSubscription
Table 6.2.6.2.13-1: Definition of type AmfCreatedEventSubscription
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | subscription | AmfEven | M | 1 | Represents | | | tSubscription | | | the newly | | | | | | created AMF | | | | | | Event | | | | | | Subscription | | | | | | resource. | +---------------+---------------+---+-------------+---------------+ | s | Uri | M | 1 | Represents | | ubscriptionId | | | | the URI of | | | | | | the newly | | | | | | created AMF | | | | | | Event | | | | | | Subscription | | | | | | resource. | | | | | | This shall | | | | | | contain an | | | | | | absolute URI | | | | | | set to the | | | | | | Resource URI | | | | | | specified in | | | | | | clau | | | | | | se 6.2.3.3.2. | | | | | | (NOTE 2) | +---------------+---------------+---+-------------+---------------+ | reportList | array(Am | O | 1..N | Represents | | | fEventReport) | | | the immediate | | | | | | event reports | | | | | | (i.e. the | | | | | | current value | | | | | | / status of | | | | | | the events | | | | | | subscribed), | | | | | | if available | | | | | | (NOTE 1). | +---------------+---------------+---+-------------+---------------+ | supp | Supp | C | 0..1 | This IE shall | | ortedFeatures | ortedFeatures | | | be present if | | | | | | at least one | | | | | | optional | | | | | | feature | | | | | | defined in | | | | | | clause 6.2.8 | | | | | | is supported. | +---------------+---------------+---+-------------+---------------+ | NOTE 1: If | | | | | | the | | | | | | subscription | | | | | | is on behalf | | | | | | of another NF | | | | | | and the NF | | | | | | service | | | | | | consumer has | | | | | | not indicated | | | | | | supporting of | | | | | | IERSR feature | | | | | | (see 6.2.8), | | | | | | then the | | | | | | reports | | | | | | attribute | | | | | | shall be | | | | | | absent. | | | | | | | | | | | | NOTE 2: | | | | | | 3GPP TS | | | | | | 23.502 [3] | | | | | | specifies | | | | | | this | | | | | | attribute as | | | | | | \ | | | | | | "Subscription | | | | | | Correlation | | | | | | ID\". | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.2.6.2.14 Type: AmfUpdateEventSubscriptionItem
Table 6.2.6.2.14-1: Definition of type AmfUpdateEventSubscriptionItem
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | op | string | M | 1 | This IE | | | | | | | indicates | | | | | | | the patch | | | | | | | operation | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | IE | | | | | | | TF RFC 69 | | | | | | | 02 [14] | | | | | | | to be | | | | | | | performed | | | | | | | on | | | | | | | resource. | | | | | | | | | | | | | | This IE | | | | | | | shall | | | | | | | support | | | | | | | the | | | | | | | following | | | | | | | values: | | | | | | | | | | | | | | > Enum: | | | | | | | > \"add\" | | | | | | | > | | | | | | | > Enum: | | | | | | | > \" | | | | | | | replace\" | | | | | | | > | | | | | | | > Enum: | | | | | | | > \ | | | | | | | "remove\" | | +-----------+-----------+---+-----------+-----------+-----------+ | path | string | M | 1 | This IE | | | | | | | contains | | | | | | | a JSON | | | | | | | pointer | | | | | | | value (as | | | | | | | defined | | | | | | | in | | | | | | | IET | | | | | | | F RFC 690 | | | | | | | 1 [40]) | | | | | | | that | | | | | | | r | | | | | | | eferences | | | | | | | a | | | | | | | location | | | | | | | of a | | | | | | | resource | | | | | | | on which | | | | | | | the patch | | | | | | | operation | | | | | | | shall be | | | | | | | p | | | | | | | erformed. | | | | | | | | | | | | | | This IE | | | | | | | shall | | | | | | | contain | | | | | | | the JSON | | | | | | | pointer | | | | | | | to a | | | | | | | valid | | | | | | | index of | | | | | | | the | | | | | | | \"/ev | | | | | | | entList\" | | | | | | | array in | | | | | | | the AMF | | | | | | | Event | | | | | | | Subs | | | | | | | cription, | | | | | | | formatted | | | | | | | with | | | | | | | following | | | | | | | pattern: | | | | | | | | | | | | | | \'\/eve | | | | | | | ntList\/ | | | | | | | [0-]\$\ | | | | | | | |\/event | | | | | | | List\/[ | | | | | | | 1-9][0- | | | | | | | 9]*\$\' | | | | | | | | | | | | | | Example: | | | | | | | | | | | | | | \"/even | | | | | | | tList/0\" | | | | | | | stands | | | | | | | for the | | | | | | | first | | | | | | | member of | | | | | | | the | | | | | | | array; | | | | | | | | | | | | | | \"/event | | | | | | | List/10\" | | | | | | | stands | | | | | | | for the | | | | | | | 11^th^ | | | | | | | member of | | | | | | | the | | | | | | | array; | | | | | | | | | | | | | | \"/even | | | | | | | tList/-\" | | | | | | | stands | | | | | | | for a new | | | | | | | (non- | | | | | | | existent) | | | | | | | member | | | | | | | after the | | | | | | | last | | | | | | | existing | | | | | | | array | | | | | | | element. | | | | | | | Only | | | | | | | allowed | | | | | | | with | | | | | | | \"add\" | | | | | | | o | | | | | | | peration. | | | | | | | | | | | | | | To update | | | | | | | the PRA | | | | | | | Inf | | | | | | | ormation, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the JSON | | | | | | | pointer | | | | | | | to a | | | | | | | valid key | | | | | | | of the | | | | | | | \"/ | | | | | | | presenceI | | | | | | | nfoList\" | | | | | | | object in | | | | | | | the AMF | | | | | | | Event | | | | | | | Subs | | | | | | | cription, | | | | | | | the key | | | | | | | shall be | | | | | | | formatted | | | | | | | as the | | | | | | | \"praId\" | | | | | | | attribute | | | | | | | within | | | | | | | the | | | | | | | Pre | | | | | | | senceInfo | | | | | | | data | | | | | | | type. | | | | | | | | | | | | | | Pattern: | | | | | | | \' | | | | | | | \^(\/eve | | | | | | | ntList\/ | | | | | | | 0\|\/eve | | | | | | | ntList\/ | | | | | | | [1-9][ | | | | | | | 0-9]*){ | | | | | | | 1}(\/pre | | | | | | | senceInfo | | | | | | | List\/0\ | | | | | | | |\/prese | | | | | | | nceInfoLi | | | | | | | st\/[1- | | | | | | | 9][0-9\ | | | | | | | ]*)?\$\' | | | | | | | | | | | | | | Example: | | | | | | | | | | | | | | \" | | | | | | | /eventLis | | | | | | | t/10/pres | | | | | | | enceInfoL | | | | | | | ist/123\" | | | | | | | stands | | | | | | | for the | | | | | | | Pre | | | | | | | senceInfo | | | | | | | with PRA | | | | | | | ID 123 | | | | | | | for the | | | | | | | 11^th^ | | | | | | | member of | | | | | | | the | | | | | | | array. | | | | | | | | | | | | | | (NOTE 1) | | | | | | | | | | | | | | To remove | | | | | | | list of | | | | | | | group | | | | | | | member | | | | | | | UE(s) | | | | | | | from a | | | | | | | group | | | | | | | subs | | | | | | | cription, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the JSON | | | | | | | pointer | | | | | | | to the | | | | | | | \" | | | | | | | /excludeS | | | | | | | upiList\" | | | | | | | object or | | | | | | | \" | | | | | | | /excludeG | | | | | | | psiList\" | | | | | | | object in | | | | | | | the AMF | | | | | | | Event | | | | | | | Subs | | | | | | | cription, | | | | | | | | | | | | | | Pattern: | | | | | | | \ | | | | | | | '\^\/exc | | | | | | | ludeSupiL | | | | | | | ist\|\/e | | | | | | | xcludeGps | | | | | | | iList\$\' | | | | | | | (NOTE 2) | | | | | | | | | | | | | | To add | | | | | | | list of | | | | | | | group | | | | | | | member | | | | | | | UE(s) | | | | | | | into a | | | | | | | group | | | | | | | subs | | | | | | | cription, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the JSON | | | | | | | pointer | | | | | | | to the | | | | | | | \" | | | | | | | /includeS | | | | | | | upiList\" | | | | | | | object or | | | | | | | \" | | | | | | | /includeG | | | | | | | psiList\" | | | | | | | object in | | | | | | | the AMF | | | | | | | Event | | | | | | | Subs | | | | | | | cription, | | | | | | | | | | | | | | Pattern: | | | | | | | \ | | | | | | | '\^\/inc | | | | | | | ludeSupiL | | | | | | | ist\|\/i | | | | | | | ncludeGps | | | | | | | iList\$\' | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | value | AmfEvent | C | 0..1 | This IE | | | | | | | indicates | | | | | | | a new AMF | | | | | | | event to | | | | | | | be added | | | | | | | or | | | | | | | updated | | | | | | | value of | | | | | | | an | | | | | | | existing | | | | | | | AMF event | | | | | | | to be | | | | | | | modified. | | | | | | | | | | | | | | It shall | | | | | | | be | | | | | | | present | | | | | | | if the | | | | | | | patch | | | | | | | operation | | | | | | | is | | | | | | | \"add\" | | | | | | | or | | | | | | | \" | | | | | | | replace\" | | +-----------+-----------+---+-----------+-----------+-----------+ | pre | Pre | O | 0..1 | This IE | MPRA | | senceInfo | senceInfo | | | indicates | | | | | | | a new | | | | | | | Pre | | | | | | | senceInfo | | | | | | | to be | | | | | | | added or | | | | | | | an | | | | | | | existing | | | | | | | Pre | | | | | | | senceInfo | | | | | | | to be | | | | | | | modified. | | | | | | | The | | | | | | | \"presen | | | | | | | ceState\" | | | | | | | attribute | | | | | | | within | | | | | | | the | | | | | | | Pre | | | | | | | senceInfo | | | | | | | data type | | | | | | | shall not | | | | | | | be | | | | | | | supplied. | | | | | | | | | | | | | | It shall | | | | | | | be | | | | | | | present | | | | | | | if the | | | | | | | patch | | | | | | | operation | | | | | | | is | | | | | | | \"add\". | | +-----------+-----------+---+-----------+-----------+-----------+ | exclud | ar | O | 1..N | When | DGEM | | eSupiList | ray(Supi) | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | carry the | | | | | | | SUPI of | | | | | | | the group | | | | | | | member | | | | | | | UE(s) | | | | | | | that are | | | | | | | excluded | | | | | | | from the | | | | | | | group | | | | | | | subs | | | | | | | cription. | | | | | | | | | | | | | | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | path | | | | | | | attribute | | | | | | | c | | | | | | | ontaining | | | | | | | JSON | | | | | | | pointer | | | | | | | to | | | | | | | \" | | | | | | | /excludeS | | | | | | | upiList\" | | | | | | | object | | | | | | | and the | | | | | | | patch | | | | | | | operation | | | | | | | is | | | | | | | \"add\" | | | | | | | and | | | | | | | \"r | | | | | | | eplace\". | | +-----------+-----------+---+-----------+-----------+-----------+ | exclud | ar | O | 1..N | When | DGEM | | eGpsiList | ray(Gpsi) | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | carry the | | | | | | | GPSI of | | | | | | | the group | | | | | | | member | | | | | | | UE(s) | | | | | | | that are | | | | | | | excluded | | | | | | | from the | | | | | | | group | | | | | | | subs | | | | | | | cription. | | | | | | | | | | | | | | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | path | | | | | | | attribute | | | | | | | c | | | | | | | ontaining | | | | | | | JSON | | | | | | | pointer | | | | | | | to | | | | | | | \" | | | | | | | /excludeG | | | | | | | psiList\" | | | | | | | object | | | | | | | and the | | | | | | | patch | | | | | | | operation | | | | | | | is | | | | | | | \"add\" | | | | | | | and | | | | | | | \"r | | | | | | | eplace\". | | +-----------+-----------+---+-----------+-----------+-----------+ | includ | ar | O | 1..N | When | DGEM | | eSupiList | ray(Supi) | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | carry the | | | | | | | SUPI of | | | | | | | the group | | | | | | | member | | | | | | | UE(s) | | | | | | | that are | | | | | | | included | | | | | | | for the | | | | | | | group | | | | | | | subs | | | | | | | cription. | | | | | | | | | | | | | | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | path | | | | | | | attribute | | | | | | | c | | | | | | | ontaining | | | | | | | JSON | | | | | | | pointer | | | | | | | to | | | | | | | \" | | | | | | | /includeS | | | | | | | upiList\" | | | | | | | object | | | | | | | and the | | | | | | | patch | | | | | | | operation | | | | | | | is | | | | | | | \"add\" | | | | | | | and | | | | | | | \"r | | | | | | | eplace\". | | +-----------+-----------+---+-----------+-----------+-----------+ | includ | ar | O | 1..N | When | DGEM | | eGpsiList | ray(Gpsi) | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | carry the | | | | | | | GPSI of | | | | | | | the group | | | | | | | member | | | | | | | UE(s) | | | | | | | that are | | | | | | | included | | | | | | | for the | | | | | | | group | | | | | | | subs | | | | | | | cription. | | | | | | | | | | | | | | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | path | | | | | | | attribute | | | | | | | c | | | | | | | ontaining | | | | | | | JSON | | | | | | | pointer | | | | | | | to | | | | | | | \" | | | | | | | /includeG | | | | | | | psiList\" | | | | | | | object | | | | | | | and the | | | | | | | patch | | | | | | | operation | | | | | | | is | | | | | | | \"add\" | | | | | | | and | | | | | | | \"r | | | | | | | eplace\". | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | Update of | | | | | | | PRA | | | | | | | in | | | | | | | formation | | | | | | | by | | | | | | | extending | | | | | | | the | | | | | | | schema of | | | | | | | the path | | | | | | | IE with | | | | | | | JSON | | | | | | | pointer | | | | | | | to a | | | | | | | valid key | | | | | | | of the | | | | | | | \"/ | | | | | | | presenceI | | | | | | | nfoList\" | | | | | | | object | | | | | | | shall | | | | | | | only be | | | | | | | used if | | | | | | | the AMF | | | | | | | supports | | | | | | | the MPRA | | | | | | | feature. | | | | | | | | | | | | | | NOTE 2: | | | | | | | Remove | | | | | | | group | | | | | | | member | | | | | | | UE(s) by | | | | | | | extending | | | | | | | the | | | | | | | schema of | | | | | | | the path | | | | | | | IE with | | | | | | | JSON | | | | | | | pointer | | | | | | | to the | | | | | | | \" | | | | | | | /excludeS | | | | | | | upiList\" | | | | | | | object or | | | | | | | \" | | | | | | | /excludeG | | | | | | | psiList\" | | | | | | | object | | | | | | | shall | | | | | | | only be | | | | | | | used if | | | | | | | the AMF | | | | | | | supports | | | | | | | the DGEM | | | | | | | feature. | | | | | | | | | | | | | | NOTE 3: | | | | | | | Add group | | | | | | | member | | | | | | | UE(s) by | | | | | | | extending | | | | | | | the | | | | | | | schema of | | | | | | | the path | | | | | | | IE with | | | | | | | JSON | | | | | | | pointer | | | | | | | to the | | | | | | | \" | | | | | | | /includeS | | | | | | | upiList\" | | | | | | | object or | | | | | | | \" | | | | | | | /includeG | | | | | | | psiList\" | | | | | | | object | | | | | | | shall | | | | | | | only be | | | | | | | used if | | | | | | | the AMF | | | | | | | supports | | | | | | | the DGEM | | | | | | | feature. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.2.6.2.15 Type: AmfUpdatedEventSubscription
Table 6.2.6.2.15-1: Definition of type AmfUpdatedEventSubscription
Attribute name Data type P Cardinality Description
* * *
subscription AmfEventSubscription M 1 Represents the updated AMF Event
Subscription resource. reportList array(AmfEventReport) O 1..N Represents the
immediate event reports (i.e. the current value / status of the events
subscribed), if available (NOTE). NOTE: For newly added AMF event
subscription(s) with the immediateFlag attribute set to true, immediate event
report(s) of the corresponding AMF event subscription shall be provided if
available.
##### 6.2.6.2.16 Type: AmfEventArea
Table 6.2.6.2.16-1: Definition of type AmfEventArea
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | pre | Pre | C | 0..1 | This IE | | | senceInfo | senceInfo | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | Area of | | | | | | | Interest | | | | | | | s | | | | | | | ubscribed | | | | | | | is not a | | | | | | | LADN | | | | | | | service | | | | | | | area (e.g | | | | | | | Presence | | | | | | | Reporting | | | | | | | Area or a | | | | | | | list of | | | | | | | TAIs / | | | | | | | cell Ids) | | | | | | | . (See | | | | | | | NOTE1, | | | | | | | NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | ladnInfo | LadnInfo | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if the | | | | | | | Area of | | | | | | | Interest | | | | | | | s | | | | | | | ubscribed | | | | | | | is a LADN | | | | | | | service | | | | | | | area. | | +-----------+-----------+---+-----------+-----------+-----------+ | sNssai | Snssai | O | 0..1 | When | ENA | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | a | | | | | | | ssociated | | | | | | | S-NSSAI | | | | | | | of the | | | | | | | area. | | +-----------+-----------+---+-----------+-----------+-----------+ | nsiId | NsiId | O | 0..1 | When | ENA | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | a | | | | | | | ssociated | | | | | | | NSI ID of | | | | | | | the | | | | | | | S-NSSAI. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | When the | | | | | | | Amf | | | | | | | EventArea | | | | | | | is | | | | | | | provided | | | | | | | during | | | | | | | event | | | | | | | subs | | | | | | | cription, | | | | | | | then for | | | | | | | UE | | | | | | | specific | | | | | | | presence | | | | | | | reporting | | | | | | | area | | | | | | | subs | | | | | | | cription, | | | | | | | the praId | | | | | | | along | | | | | | | with what | | | | | | | co | | | | | | | nstitutes | | | | | | | that UE | | | | | | | specific | | | | | | | presence | | | | | | | reporting | | | | | | | area | | | | | | | (i.e. set | | | | | | | of Tai | | | | | | | and/or | | | | | | | set of | | | | | | | ecgi | | | | | | | and/or | | | | | | | set of | | | | | | | ncgi | | | | | | | and/or | | | | | | | set of | | | | | | | globalR | | | | | | | anNodeId) | | | | | | | shall be | | | | | | | provided. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If the | | | | | | | sub | | | | | | | scription | | | | | | | is for a | | | | | | | Set of | | | | | | | Core | | | | | | | Network | | | | | | | P | | | | | | | redefined | | | | | | | Presence | | | | | | | Reporting | | | | | | | Areas and | | | | | | | both the | | | | | | | AMF and | | | | | | | the NF | | | | | | | service | | | | | | | consumer | | | | | | | support | | | | | | | the | | | | | | | \"APRA\" | | | | | | | feature, | | | | | | | the PRA | | | | | | | I | | | | | | | dentifier | | | | | | | for the | | | | | | | Set shall | | | | | | | be | | | | | | | carried | | | | | | | in the | | | | | | | \"praId\" | | | | | | | IE and | | | | | | | the | | | | | | | i | | | | | | | ndividual | | | | | | | PRA | | | | | | | i | | | | | | | dentifier | | | | | | | shall be | | | | | | | carried | | | | | | | in the | | | | | | | \ | | | | | | | "addition | | | | | | | alPraId\" | | | | | | | IE; if | | | | | | | the | | | | | | | sub | | | | | | | scription | | | | | | | is for a | | | | | | | Set of | | | | | | | Core | | | | | | | Network | | | | | | | P | | | | | | | redefined | | | | | | | Presence | | | | | | | Reporting | | | | | | | Areas and | | | | | | | the AMF | | | | | | | or NF | | | | | | | service | | | | | | | consumer | | | | | | | does not | | | | | | | support | | | | | | | the | | | | | | | \"APRA\" | | | | | | | feature, | | | | | | | the | | | | | | | i | | | | | | | ndividual | | | | | | | PRA | | | | | | | i | | | | | | | dentifier | | | | | | | shall be | | | | | | | carried | | | | | | | in the | | | | | | | \"praId\" | | | | | | | IE and | | | | | | | the | | | | | | | \ | | | | | | | "addition | | | | | | | alPraId\" | | | | | | | IE shall | | | | | | | not be | | | | | | | present. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.2.6.2.17 Type: LadnInfo
Table 6.2.6.2.17-1: Definition of type LadnInfo
Attribute name Data type P Cardinality Description
* * *
ladn string M 1 Represents the Local Access Data Network DNN. The AMF shall
identify the list of tracking areas corresponding to the LADN DNN based on
local configuration. presence PresenceState C 0..1 This IE shall be included
when the UE presence in area of interest is reported. When present, this IE
contains the status of UE presence within the Area of Interest (IN / OUT /
UNKNOWN).
##### 6.2.6.2.18 Type: AmfUpdateEventOptionItem
Table 6.2.6.2.18-1: Definition of type AmfUpdateEventOptionItem
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | op | string | M | 1 | This IE | | | | | | | indicates | | | | | | | the patch | | | | | | | operation | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | IE | | | | | | | TF RFC 69 | | | | | | | 02 [14] | | | | | | | to be | | | | | | | performed | | | | | | | on | | | | | | | resource. | | | | | | | | | | | | | | This IE | | | | | | | shall | | | | | | | support | | | | | | | the | | | | | | | following | | | | | | | values: | | | | | | | | | | | | | | Enum: | | | | | | | \" | | | | | | | replace\" | | +-----------+-----------+---+-----------+-----------+-----------+ | path | string | M | 1 | This IE | | | | | | | contains | | | | | | | a JSON | | | | | | | pointer | | | | | | | value (as | | | | | | | defined | | | | | | | in | | | | | | | IET | | | | | | | F RFC 690 | | | | | | | 1 [40]) | | | | | | | that | | | | | | | r | | | | | | | eferences | | | | | | | a | | | | | | | location | | | | | | | of a | | | | | | | resource | | | | | | | on which | | | | | | | the patch | | | | | | | operation | | | | | | | shall be | | | | | | | p | | | | | | | erformed. | | | | | | | | | | | | | | This IE | | | | | | | shall | | | | | | | contain | | | | | | | the JSON | | | | | | | pointer | | | | | | | to | | | | | | | \ | | | | | | | "/options | | | | | | | /expiry\" | | | | | | | attribute | | | | | | | of the | | | | | | | event | | | | | | | sub | | | | | | | scription | | | | | | | resource. | | | | | | | | | | | | | | Pattern: | | | | | | | \"\^\/op | | | | | | | tions\/e | | | | | | | xpiry\$\" | | | | | | | | | | | | | | To update | | | | | | | the | | | | | | | notifFlag | | | | | | | a | | | | | | | ttribute, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the JSON | | | | | | | pointer | | | | | | | to | | | | | | | \"/o | | | | | | | ptions/no | | | | | | | tifFlag\" | | | | | | | attribute | | | | | | | of the | | | | | | | event | | | | | | | sub | | | | | | | scription | | | | | | | resource. | | | | | | | | | | | | | | Pattern: | | | | | | | \"\ | | | | | | | ^\/optio | | | | | | | ns\/noti | | | | | | | fFlag\$\" | | | | | | | | | | | | | | To update | | | | | | | the | | | | | | | mut | | | | | | | ingExcIns | | | | | | | tructions | | | | | | | a | | | | | | | ttribute, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the JSON | | | | | | | pointer | | | | | | | to | | | | | | | \"/opti | | | | | | | ons/mutin | | | | | | | gExcInstr | | | | | | | uctions\" | | | | | | | attribute | | | | | | | of the | | | | | | | event | | | | | | | sub | | | | | | | scription | | | | | | | resource. | | | | | | | | | | | | | | Pattern: | | | | | | | \"\^\ | | | | | | | /options\ | | | | | | | \/mutingE | | | | | | | xcInstruc | | | | | | | tions\$\" | | +-----------+-----------+---+-----------+-----------+-----------+ | value | DateTime | M | 1 | This IE | | | | | | | indicates | | | | | | | the | | | | | | | updated | | | | | | | expiry | | | | | | | timer | | | | | | | value (in | | | | | | | UTC) as | | | | | | | suggested | | | | | | | by the NF | | | | | | | service | | | | | | | consumer. | | | | | | | | | | | | | | For | | | | | | | update | | | | | | | the | | | | | | | notifFlag | | | | | | | a | | | | | | | ttribute, | | | | | | | it shall | | | | | | | contain | | | | | | | the Null | | | | | | | value. | | | | | | | AMF shall | | | | | | | ignore | | | | | | | the value | | | | | | | and not | | | | | | | modify | | | | | | | the | | | | | | | expiry | | | | | | | a | | | | | | | ttribute. | | +-----------+-----------+---+-----------+-----------+-----------+ | notifFlag | Notific | O | 0..1 | Indicates | EneNA | | | ationFlag | | | the | | | | | | | not | | | | | | | ification | | | | | | | flag, | | | | | | | which is | | | | | | | used to | | | | | | | mu | | | | | | | te/unmute | | | | | | | noti | | | | | | | fications | | | | | | | and to | | | | | | | retrieve | | | | | | | events | | | | | | | stored | | | | | | | during a | | | | | | | period of | | | | | | | muted | | | | | | | notif | | | | | | | ications. | | +-----------+-----------+---+-----------+-----------+-----------+ | mut | MutingExc | O | 0..1 | This IE | ENAPH3 | | ingExcIns | eptionIns | | | may be | | | tructions | tructions | | | included | | | | | | | if the | | | | | | | event | | | | | | | noti | | | | | | | fications | | | | | | | muting is | | | | | | | being | | | | | | | a | | | | | | | ctivated. | | | | | | | It shall | | | | | | | be | | | | | | | present | | | | | | | if the | | | | | | | path IE | | | | | | | contains | | | | | | | a JSON | | | | | | | pointer | | | | | | | to the | | | | | | | mut | | | | | | | ingExcIns | | | | | | | tructions | | | | | | | IE of the | | | | | | | event | | | | | | | sub | | | | | | | scription | | | | | | | resource. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | ins | | | | | | | tructions | | | | | | | for the | | | | | | | sub | | | | | | | scription | | | | | | | and | | | | | | | stored | | | | | | | events | | | | | | | when an | | | | | | | exception | | | | | | | (e.g. the | | | | | | | buffer of | | | | | | | stored | | | | | | | event | | | | | | | reports | | | | | | | is full, | | | | | | | or the | | | | | | | number of | | | | | | | stored | | | | | | | event | | | | | | | reports | | | | | | | exceeds a | | | | | | | certain | | | | | | | number) | | | | | | | occurs at | | | | | | | AMF while | | | | | | | the | | | | | | | events | | | | | | | not | | | | | | | ification | | | | | | | is muted. | | | | | | | | | | | | | | See | | | | | | | 3G | | | | | | | PP TS 23. | | | | | | | 288 [38\ | | | | | | | ], clause | | | | | | | 6.2.7.2. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.2.6.2.19 Type: 5GsUserStateInfo
Table 6.2.6.2.19-1: Definition of type 5GsUserStateInfo
Attribute name Data type P Cardinality Description
* * *
5gsUserState 5GsUserState M 1 Describes the 5GS user state of the UE
accessType AccessType M 1 Describes the access type of the UE that applies to
the 5GS user state reported.
##### 6.2.6.2.20 Type: TrafficDescriptor
Table 6.2.6.2.20-1: Definition of type TrafficDescriptor
Attribute name Data type P Cardinality Description
* * *
dnn Dnn C 0..1 This IE shall be present if it is available. When present, it
shall indicate the Data Network Name. sNssai Snssai C 0..1 This IE shall be
present if it is available. When present, it shall indicate the associated
S-NSSAI for the PDU Session. dddTrafficDescriptorList
array(DddTrafficDescriptor) C 1..N This IE shall be present if it is
available. When present, it shall indicate the Traffic Descriptor related to
the traffic.
##### 6.2.6.2.21 Type: UEIdExt
Table 6.2.6.2.21-1: Definition of type UEIdExt
+----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +================+===========+===+=============+=================+ | supi | Supi | C | 0..1 | This IE shall | | | | | | be present if | | | | | | available. | | | | | | | | | | | | When present, | | | | | | this IE | | | | | | identifies the | | | | | | SUPI of the UE | | | | | | associated with | | | | | | the report. | +----------------+-----------+---+-------------+-----------------+ | gpsi | Gpsi | C | 0..1 | This IE shall | | | | | | be present if | | | | | | available. | | | | | | | | | | | | When present, | | | | | | this IE | | | | | | identifies the | | | | | | GPSI of the UE | | | | | | associated with | | | | | | the report. | +----------------+-----------+---+-------------+-----------------+
##### 6.2.6.2.22 Type: AmfEventSubsSyncInfo
Table 6.2.6.2.22-1: Definition of type AmfEventSubsSyncInfo
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | subscri | arra | M | 1..N | This IE | | | ptionList | y(AmfEven | | | shall | | | | tSubscrip | | | contain | | | | tionInfo) | | | all | | | | | | | active | | | | | | | subs | | | | | | | criptions | | | | | | | in the | | | | | | | AMF for | | | | | | | the | | | | | | | target | | | | | | | UE. | | | | | | | | | | | | | | Tr | | | | | | | ansferred | | | | | | | subs | | | | | | | criptions | | | | | | | c | | | | | | | ontaining | | | | | | | no or an | | | | | | | invalid | | | | | | | ac | | | | | | | cessToken | | | | | | | shall not | | | | | | | be | | | | | | | regarded | | | | | | | active. | | +-----------+-----------+---+-----------+-----------+-----------+
Editor\'s note: It is FFS whether the target AMF should notify the NF service
consumer when a transferred subscription contains no or an invalid
accessToken.
##### 6.2.6.2.23 Type: AmfEventSubscriptionInfo
Table 6.2.6.2.23-1: Definition of type AmfEventSubscriptionInfo
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | subId | Uri | M | 1 | This IE | | | | | | | shall | | | | | | | contain | | | | | | | the URI | | | | | | | of the | | | | | | | sub | | | | | | | scription | | | | | | | resource | | | | | | | of events | | | | | | | with | | | | | | | Reference | | | | | | | Id. | | +-----------+-----------+---+-----------+-----------+-----------+ | n | string | M | 1 | This IE | | | otifyCorr | | | | shall | | | elationId | | | | contain | | | | | | | the | | | | | | | not | | | | | | | ification | | | | | | | co | | | | | | | rrelation | | | | | | | ID of the | | | | | | | subs | | | | | | | cription. | | +-----------+-----------+---+-----------+-----------+-----------+ | refIdList | array(Ref | M | 1..N | This IE | | | | erenceId) | | | shall | | | | | | | contain | | | | | | | the | | | | | | | Reference | | | | | | | Ids of | | | | | | | the | | | | | | | events in | | | | | | | the | | | | | | | subs | | | | | | | cription, | | | | | | | one | | | | | | | Reference | | | | | | | Id per | | | | | | | event. | | +-----------+-----------+---+-----------+-----------+-----------+ | oldSubId | Uri | C | 0..1 | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if new | | | | | | | event | | | | | | | sub | | | | | | | scription | | | | | | | Id is | | | | | | | created | | | | | | | in the | | | | | | | new AMF, | | | | | | | i.e. the | | | | | | | event | | | | | | | sub | | | | | | | scription | | | | | | | has been | | | | | | | retrieved | | | | | | | from an | | | | | | | old AMF | | | | | | | in UE | | | | | | | context | | | | | | | during | | | | | | | EPS to | | | | | | | 5GS | | | | | | | mobility. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | include | | | | | | | the URI | | | | | | | of the | | | | | | | sub | | | | | | | scription | | | | | | | resouce | | | | | | | on the | | | | | | | source | | | | | | | AMF. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.2.6.2.24 Type: TargetArea
Table 6.2.6.2.24-1: Definition of type TargetArea
Attribute name Data type P Cardinality Description
* * *
taList array(Tai) C 1..N When present, this IE shall contain the list of TAIs.
(NOTE) taiRangeList array(TaiRange) C 1..N When present, this IE shall contain
range(s) of TAIs. (NOTE) anyTa boolean C 0..1 This IE shall be present if the
event subscription is applicable to any TA. Default value \"FALSE\" is used,
if not present (NOTE) NOTE: Either information about taList or taiRangeList or
anyTa set to \"TRUE\" shall be included.
##### 6.2.6.2.25 Type: SnssaiTaiMapping
Table 6.2.6.2.25-1: Definition of type SnssaiTaiMapping
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | reportingArea | TargetArea | M | 1 | This IE shall | | | | | | contain the | | | | | | list of | | | | | | TAIs/TAI | | | | | | ranges or | | | | | | anyTa. The | | | | | | taList and | | | | | | taiRangeList | | | | | | shall be | | | | | | absent, and | | | | | | the anyTa | | | | | | shall be set | | | | | | to \"TRUE\", | | | | | | if the | | | | | | mapping is | | | | | | related to | | | | | | all of the | | | | | | TAs in the | | | | | | AMF. | +---------------+---------------+---+-------------+---------------+ | a | arra | O | 1..N | Describes the | | ccessTypeList | y(AccessType) | | | access | | | | | | type(s) of | | | | | | the | | | | | | r | | | | | | eportingArea. | +---------------+---------------+---+-------------+---------------+ | suppor | array(Sup | C | 1..N | This IE shall | | tedSnssaiList | portedSnssai) | | | be present if | | | | | | available. | | | | | | | | | | | | When present, | | | | | | this IE | | | | | | represents | | | | | | the list of | | | | | | S-NSSAIs | | | | | | (including | | | | | | indication of | | | | | | S-NSSAIs | | | | | | restricted by | | | | | | AMF) at the | | | | | | r | | | | | | eportingArea. | +---------------+---------------+---+-------------+---------------+
##### 6.2.6.2.26 Type: SupportedSnssai
Table 6.2.6.2.26-1: Definition of type SupportedSnssai
+----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +================+===========+===+=============+=================+ | sNssai | ExtSnssai | M | 1 | This IE shall | | | | | | contain the | | | | | | supported | | | | | | S-NSSAI. | +----------------+-----------+---+-------------+-----------------+ | restrictionInd | boolean | O | 0..1 | If present, | | | | | | this IE shall | | | | | | contain the | | | | | | indication if | | | | | | the S-NSSAI | | | | | | available in | | | | | | sNssai IE is | | | | | | restricted at | | | | | | the AMF. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | be set as | | | | | | follows: | | | | | | | | | | | | - true: the | | | | | | S-NSSAI | | | | | | available in | | | | | | sNssai IE is | | | | | | restricted at | | | | | | the AMF; | | | | | | | | | | | | - false | | | | | | (default): the | | | | | | S-NSSAI | | | | | | available in | | | | | | sNssai IE is | | | | | | not restricted | | | | | | at the AMF. | +----------------+-----------+---+-------------+-----------------+
##### 6.2.6.2.27 Type: UeInAreaFilter
Table 6.2.6.2.27-1: Definition of type UeInAreaFilter
+-----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +=================+===========+===+=============+=================+ | ueType | UeType | C | 0..1 | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | list of UE | | | | | | types. | | | | | | | | | | | | When this IE is | | | | | | received, The | | | | | | AMF shall | | | | | | report the | | | | | | number of UEs | | | | | | with the | | | | | | indicated UE | | | | | | type in the | | | | | | area. | +-----------------+-----------+---+-------------+-----------------+ | aerialSrvDnnInd | boolean | C | 0..1 | When present, | | | | | | this IE shall | | | | | | contain an | | | | | | indication of | | | | | | DNN(s) subject | | | | | | to aerial | | | | | | service. | | | | | | | | | | | | Default value | | | | | | \"FALSE\" is | | | | | | used, if not | | | | | | present. | | | | | | | | | | | | This IE may be | | | | | | set to \"TRUE\" | | | | | | if the NF | | | | | | service | | | | | | consumer wants | | | | | | to retrieve the | | | | | | number of UEs | | | | | | in the area | | | | | | with | | | | | | established PDU | | | | | | sessions for | | | | | | DNN(s) subject | | | | | | to aerial | | | | | | service. | +-----------------+-----------+---+-------------+-----------------+ | ueIdOmitInd | boolean | O | 0..1 | When present, | | | | | | this IE shall | | | | | | indicate | | | | | | whether UE | | | | | | ID(s) should be | | | | | | omitted in the | | | | | | event reports: | | | | | | | | | | | | - true: UE | | | | | | ID(s) to be | | | | | | omitted in | | | | | | report | | | | | | | | | | | | - false | | | | | | (default): UE | | | | | | IDs are not to | | | | | | be omitted in | | | | | | report. | +-----------------+-----------+---+-------------+-----------------+ | NOTE: When the | | | | | | value of IE | | | | | | ueType is | | | | | | AERIAL_UE, the | | | | | | IE ueType and | | | | | | IE | | | | | | aerialSrvDnnInd | | | | | | shall be | | | | | | considered with | | | | | | \"AND\" for | | | | | | filtering. | | | | | +-----------------+-----------+---+-------------+-----------------+
##### 6.2.6.2.28 Type: IdleStatusIndication
Table 6.2.6.2.28-1: Definition of type IdleStatusIndication
Attribute name Data type P Cardinality Description Applicability
* * *
timeStamp DateTime O 0..1 Point in UTC time when the UE returned to Idle  
activeTime DurationSec O 0..1 Active Time granted to the UE.  
subsregTimer DurationSec O 0..1 Subscribed periodic registration time.  
edrxCycleLength integer O 0..1 Contains the eDRX cycle length in milliseconds.  
suggestedNumOfDlPackets integer O 0..1 Suggested number of downlink packets to
be buffered
##### 6.2.6.2.29 Type: UeAccessBehaviorReportItem
Table 6.2.6.2.29-1: Definition of type UeAccessBehaviorReportItem
Attribute name Data type P Cardinality Description Applicability
* * *
stateTransitionType AccessStateTransitionType M 1 Indicate the type the state
transition behavior.  
spacing DurationSec M 1 Indicates the average and variance of the time
interval separating two consecutive occurrences of the state transition as
indicated by the stateTransitionType IE.  
duration DurationSec M 1 Indicate the average and variance of duration in the
resulting state as indicated by stateTransitionType IE.
##### 6.2.6.2.30 Type: UeLocationTrendsReportItem
Table 6.2.6.2.30-1: Definition of type UeLocationTrendsReportItem
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | tai | Tai | C | 0..1 | Indicates | | | | | | | the TAI | | | | | | | where the | | | | | | | UE | | | | | | | arrived. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | ncgi | Ncgi | C | 0..1 | Indicates | | | | | | | the NR | | | | | | | cell | | | | | | | where the | | | | | | | UE | | | | | | | arrived. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | ecgi | Ecgi | C | 0..1 | Indicates | | | | | | | the | | | | | | | EUTRAN | | | | | | | cell | | | | | | | where the | | | | | | | UE | | | | | | | arrived. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | n3g | N3g | C | 0..1 | Indicates | | | aLocation | aLocation | | | the | | | | | | | Non-3GPP | | | | | | | location | | | | | | | where the | | | | | | | UE | | | | | | | arrived. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | spacing | Du | M | 1 | Indicates | | | | rationSec | | | the | | | | | | | average | | | | | | | and | | | | | | | variance | | | | | | | of the | | | | | | | time | | | | | | | interval | | | | | | | s | | | | | | | eparating | | | | | | | two | | | | | | | co | | | | | | | nsecutive | | | | | | | arrivals | | | | | | | at the | | | | | | | indicated | | | | | | | location. | | +-----------+-----------+---+-----------+-----------+-----------+ | duration | Du | M | 1 | Indicate | | | | rationSec | | | the | | | | | | | average | | | | | | | and | | | | | | | variance | | | | | | | of | | | | | | | duration | | | | | | | of stay | | | | | | | in the | | | | | | | indicated | | | | | | | location. | | +-----------+-----------+---+-----------+-----------+-----------+ | timestamp | DateTime | M | 1 | Indicates | | | | | | | the date | | | | | | | and time | | | | | | | (in UTC) | | | | | | | of UE | | | | | | | last | | | | | | | arrival | | | | | | | to the | | | | | | | indicated | | | | | | | location. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: At | | | | | | | least one | | | | | | | of the | | | | | | | \"tai\", | | | | | | | \"ncgi\", | | | | | | | \"ecgi\" | | | | | | | and | | | | | | | \"n3gaL | | | | | | | ocation\" | | | | | | | shall be | | | | | | | present. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.2.6.2.31 Type: DispersionArea
Table 6.2.6.2.31-1: Definition of type DispersionArea
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | taiList | a | C | 1..N | Indicates | | | | rray(Tai) | | | the TAIs | | | | | | | where the | | | | | | | UE | | | | | | | in | | | | | | | formation | | | | | | | to be | | | | | | | counted | | | | | | | for | | | | | | | D | | | | | | | ispersion | | | | | | | A | | | | | | | nalytics. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | ncgiList | ar | C | 1..N | Indicates | | | | ray(Ncgi) | | | the NR | | | | | | | cells | | | | | | | where the | | | | | | | UE | | | | | | | in | | | | | | | formation | | | | | | | to be | | | | | | | counted | | | | | | | for | | | | | | | D | | | | | | | ispersion | | | | | | | A | | | | | | | nalytics. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | ecgiList | ar | C | 1..N | Indicates | | | | ray(Ecgi) | | | the | | | | | | | EUTRAN | | | | | | | cells | | | | | | | where the | | | | | | | UE | | | | | | | in | | | | | | | formation | | | | | | | to be | | | | | | | counted | | | | | | | for | | | | | | | D | | | | | | | ispersion | | | | | | | A | | | | | | | nalytics. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | n3gaInd | boolean | C | 0..1 | Indicates | | | | | | | whether | | | | | | | that the | | | | | | | UE | | | | | | | in | | | | | | | formation | | | | | | | shall be | | | | | | | counted | | | | | | | for | | | | | | | Non-3GPP | | | | | | | access or | | | | | | | not. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it should | | | | | | | be set as | | | | | | | f | | | | | | | ollowing: | | | | | | | | | | | | | | - true: | | | | | | | The UE | | | | | | | in | | | | | | | formation | | | | | | | shall be | | | | | | | counted | | | | | | | for | | | | | | | Non-3GPP | | | | | | | access. | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | the UE | | | | | | | in | | | | | | | formation | | | | | | | for | | | | | | | Non-3GPP | | | | | | | access | | | | | | | shall not | | | | | | | be | | | | | | | counted. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: One | | | | | | | and only | | | | | | | one of | | | | | | | the | | | | | | | \"t | | | | | | | aiList\", | | | | | | | \"nc | | | | | | | giList\", | | | | | | | \"e | | | | | | | cgiList\" | | | | | | | or | | | | | | | \" | | | | | | | n3gaInd\" | | | | | | | shall be | | | | | | | present. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.2.6.2.32 Type: MmTransactionLocationReportItem
Table 6.2.6.2.32-1: Definition of type MmTransactionLocationReportItem
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | tai | Tai | C | 0..1 | Indicates | | | | | | | the TAI | | | | | | | where the | | | | | | | UE MM | | | | | | | tra | | | | | | | nsactions | | | | | | | are | | | | | | | counted. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | ncgi | Ncgi | C | 0..1 | Indicates | | | | | | | the NR | | | | | | | cell | | | | | | | where the | | | | | | | UE MM | | | | | | | tr | | | | | | | ansations | | | | | | | are | | | | | | | counted. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | ecgi | Ecgi | C | 0..1 | Indicates | | | | | | | the | | | | | | | EUTRAN | | | | | | | cell | | | | | | | where the | | | | | | | UE MM | | | | | | | tr | | | | | | | ansations | | | | | | | are | | | | | | | counted. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | n3g | N3g | C | 0..1 | Indicates | | | aLocation | aLocation | | | the | | | | | | | Non-3GPP | | | | | | | location | | | | | | | where UE | | | | | | | MM | | | | | | | tr | | | | | | | ansations | | | | | | | are | | | | | | | counted. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | timestamp | DateTime | M | 1 | Indicates | | | | | | | the | | | | | | | timestamp | | | | | | | (in UTC) | | | | | | | when the | | | | | | | UE enters | | | | | | | the | | | | | | | location. | | +-----------+-----------+---+-----------+-----------+-----------+ | tra | integer | M | 1 | Totally | | | nsactions | | | | number of | | | | | | | UE MM | | | | | | | Tra | | | | | | | nsactions | | | | | | | counted | | | | | | | within | | | | | | | the | | | | | | | location. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: At | | | | | | | least one | | | | | | | of the | | | | | | | \"tai\", | | | | | | | \"ncgi\" | | | | | | | or | | | | | | | \"ecgi\" | | | | | | | shall be | | | | | | | present. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.2.6.2.33 Type: MmTransactionSliceReportItem
Table 6.2.6.2.33-1: Definition of type MmTransactionSliceReportItem
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | snssai | Snssai | M | 1 | Indicates | | | | | | | the | | | | | | | S-NSSAI | | | | | | | of the | | | | | | | slice | | | | | | | where the | | | | | | | UE MM | | | | | | | Tra | | | | | | | nsactions | | | | | | | are | | | | | | | counted. | | +-----------+-----------+---+-----------+-----------+-----------+ | timestamp | DateTime | M | 1 | Indicates | | | | | | | the | | | | | | | timestamp | | | | | | | (in UTC) | | | | | | | when the | | | | | | | slice is | | | | | | | assigned | | | | | | | to the | | | | | | | UE. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | tra | integer | M | 1 | Totally | | | nsactions | | | | number of | | | | | | | UE MM | | | | | | | Tra | | | | | | | nsactions | | | | | | | counted | | | | | | | for the | | | | | | | indicated | | | | | | | slice. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: The | | | | | | | t | | | | | | | imestamps | | | | | | | for | | | | | | | assigned | | | | | | | slices of | | | | | | | a UE are | | | | | | | not | | | | | | | passed | | | | | | | between | | | | | | | AMFs, | | | | | | | i.e. when | | | | | | | a UE | | | | | | | moves to | | | | | | | a new AMF | | | | | | | the | | | | | | | t | | | | | | | imestamps | | | | | | | for | | | | | | | assigned | | | | | | | slices of | | | | | | | the UE | | | | | | | are set | | | | | | | to the | | | | | | | date and | | | | | | | time when | | | | | | | the | | | | | | | mobility | | | | | | | happened | | | | | | | in the | | | | | | | new AMF. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
#### 6.2.6.3 Simple data types and enumerations
##### 6.2.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 6.2.6.3.2 Simple data types
The simple data types defined in table 6.2.6.3.2-1 shall be supported.
Table 6.2.6.3.2-1: Simple data types
Type Name Type Definition Description
* * *
##### 6.2.6.3.3 Enumeration: AmfEventType
Table 6.2.6.3.3-1: Enumeration AmfEventType
Enumeration value Description
* * *
\"LOCATION_REPORT\" A NF subscribes to this event to receive the Last Known
Location or the current Location of a UE or a group of UEs, and Updated
Location of the UE or any UE in the group when AMF becomes aware of a location
change of the UE. \"PRESENCE_IN_AOI_REPORT\" A NF subscribes to this event to
receive the current present state of a UE in a specific Area of Interest
(AOI), and notification when a specified UE enters or leaves the specified
area. The area could be identified by a TA list, an area ID or specific
interest area name like \"LADN\". \"TIMEZONE_REPORT\" A NF subscribes to this
event to receive the current time zone of a UE or a group of UEs, and updated
time zone of the UE or any UE in the group when AMF becomes aware of a time
zone change of the UE. \"ACCESS_TYPE_REPORT\" A NF subscribes to this event to
receive the current access type(s) of a UE or a group of UEs, and updated
access type(s) of the UE or any UE in the group when AMF becomes aware of the
access type change of the UE. \"REGISTRATION_STATE_REPORT\" A NF subscribes to
this event to receive the current registration state of a UE or a group of
UEs, and report for updated registration state of a UE or any UE in the group
when AMF becomes aware of a registration state change of the UE.
\"CONNECTIVITY_STATE_REPORT\" A NF subscribes to this event to receive the
current connection management state of a UE or a group of UEs, and report for
updated connection management state of a UE or any UE in the group when AMF
becomes aware of a connection management state change of the UE.
\"REACHABILITY_REPORT\" A NF subscribes to this event to receive the current
reachability of a UE or a group of UEs, and report for updated reachability of
a UE or any UE in the group when AMF becomes aware of a reachability change of
the UE. \"COMMUNICATION_FAILURE_REPORT\" A NF subscribes to this event to
receive the Communication failure report of a UE or group of UEs or any UE.
\"UES_IN_AREA_REPORT\" A NF subscribes to this event to receive the number of
UEs in a specific area. \"SUBSCRIPTION_ID_CHANGE\" This event type is used by
the AMF to inform the NF service consumer that the subscription Id for the
event subscription is changed (e.g. Subscription Id creation at the target AMF
for individual UE level event subscriptions, during mobility registration or
handover procedures involving an AMF change). This event needs no explicit
subscription form an NF service consumer. \"SUBSCRIPTION_ID_ADDITION\" This
event type is used by the AMF to inform the NF service consumer that a new
subscription Id is added (e.g creation of an event subscription for a UE group
level event subscription at the target AMF, during mobility registration or
handover procedures involving AMF change for a UE belonging to a group Id and
when such a UE is the first UE of the group registering at the target AMF).
This event needs no explicit subscription form the NF service consumer.
\"SUBSCRIPTION_TERMINATION\" This event type is used by the AMF to inform the
NF service consumer that the subscription is terminated at the AMF, e.g. the
AMF inform the UDM that the subscription is terminated because the AMF has
identified the subscription is no longer valid at the NEF.
\"LOSS_OF_CONNECTIVITY\" An NF subscribes to this event to receive the event
report of a UE or group of UEs when AMF detects that a target UE is no longer
reachable for either signalling or user plane communication. Such condition is
identified when Mobile Reachable timer expires in the AMF (see 3GPP TS 23.501
[2]), when the UE detaches and when AMF deregisters from UDM for an active UE.
If the UE is already not reachable for either signalling or user plane
communication when the event is subscribed, the AMF reports the event
directly. \"5GS_USER_STATE_REPORT\" A NF subscribes to this event to receive
the 5GS user state of a UE. \"AVAILABILITY_AFTER_DDN_FAILURE\" A NF subscribes
to this event to be notified about the Availability of a UE after a DDN
failure. \"TYPE_ALLOCATION_CODE_REPORT\" A NF subscribes to this event to
receive the TAC of a UE or group of UEs.
\"FREQUENT_MOBILITY_REGISTRATION_REPORT\" A NF subscribes to this event to
receive the number of mobility registration procedures during a period of a UE
or group of UEs. \"SNSSAI_TA_MAPPING_REPORT\" A NF subscribes to this event to
receive the related access type and the list of supported S-NSSAIs (including
indication of S-NSSAIs restricted by AMF) at the TAI(s).
\"UE_ACCESS_BEHAVIOR_TRENDS\" A NF subscribes to this event to receive the UE
access behavior trends (e.g. access type change, handover, etc.) during a
period for a UE or a group of UEs, as specified in clause 4.15.4.2 of 3GPP TS
23.502 [3]. \"UE_LOCATION_TRENDS\" A NF subscribes to this event to receive
the UE Location Trends within a period for a UE or a group of UEs, as
specified in clause 4.15.4.2 of 3GPP TS 23.502 [3].
\"UE_MM_TRANSACTION_REPORT\" A NF subscribes to this event to receive the
Total Number of Mobility Management transactions during a period for a UE or a
group of UEs, as specified in clause 5.2.2.3.1 of 3GPP TS 23.502 [3].
##### 6.2.6.3.4 Enumeration: AmfEventTrigger
Table 6.2.6.3.4-1: Enumeration AmfEventTrigger
Enumeration value Description
* * *
\"ONE_TIME\" Defines that AMF should generate report for the event only once.
After reporting, the subscription to this event will be terminated.
\"CONTINUOUS\" Defines that AMF should continuously generate reports for the
event, until the subscription to this event ends, due to end of report
duration or up to the maximum number of reports or the event being
unsubscribed explicitly \"PERIODIC\" Defines that AMF should periodically
generate reports for the event, until the subscription to this event ends, due
to end of report duration or up to the maximum number of reports or the event
being unsubscribed explicitly.
##### 6.2.6.3.5 Enumeration: LocationFilter
Table 6.2.6.3.5-1: Enumeration LocationFilter
Enumeration value Description
* * *
\"TAI\" Indicates any change of the TA used by the UE should be reported
\"CELL_ID\" Indicates any change of the Cell used by the UE should be reported
\"RAN_NODE\" Indicates any change of the RAN node serving the UE shall be
reported. \"N3IWF\" Indicates any change of the N3IWF node used by the UE
should be reported \"UE_IP\" Indicates any change of the UE local IP address
should be reported \"UDP_PORT\" Indicates any change of local UDP port used by
the UE reported \"TNAP_ID\" Indicates any change of the TNAP ID used by the UE
should be reported \"GLI\" Indicates any change of the Global Line Id used by
the UE should be reported \"TWAP_ID\" Indicates any change of the TWAP ID used
by the UE should be reported
##### 6.2.6.3.6 Void
##### 6.2.6.3.7 Enumeration: UeReachability
Table 6.2.6.3.7-1: Enumeration UeReachability
Enumeration value Description
* * *
\"UNREACHABLE\" Indicates the UE is not reachable, e.g. when the Mobile
Reachable Timer in AMF expires. \"REACHABLE\" Indicates the UE is reachable
for services and downlink traffic. \"REGULATORY_ONLY\" Indicates the UE is
reachable only for Regulatory Prioritized Service as the UE is in Not Allowed
Areas.
##### 6.2.6.3.8 Void
##### 6.2.6.3.9 Enumeration: RmState
Table 6.2.6.3.9-1: Enumeration RmState
Enumeration value Description
* * *
\"REGISTERED\" Indicates the UE in RM-REGISTERED state \"DEREGISTERED\"
Indicates the UE in RM-DEREGISTERED state
##### 6.2.6.3.10 Enumeration: CmState
Table 6.2.6.3.10-1: Enumeration CmState
Enumeration value Description
* * *
\"IDLE\" Indicates the UE is in CM-IDLE state \"CONNECTED\" Indicates the UE
is in CM-CONNECTED state
##### 6.2.6.3.11 Enumeration: 5GsUserState
Table 6.2.6.3.11-1: Enumeration 5GsUserState
+----------------------------------+----------------------------------+ | Enumeration value | Description | +==================================+==================================+ | \"DEREGISTERED\" | Indicates the UE in | | | RM-DEREGISTERED state | +----------------------------------+----------------------------------+ | \"CONNECTE | Indicates the UE is in the | | D_NOT_REACHABLE_FOR_PAGING\" | RM-REGISTERED state in 5GS and | | | the UE is not reachable for | | | paging. | +----------------------------------+----------------------------------+ | \"CON | Indicates the UE is in the | | NECTED_REACHABLE_FOR_PAGING\" | RM-REGISTERED state in 5GS and | | | the UE is reachable for paging. | +----------------------------------+----------------------------------+ | \"NOT_PROVIDED_FROM_AMF\" | Indicates that the 5GS User | | | State cannot be retrieved from | | | the AMF | | | | | | (NOTE) | +----------------------------------+----------------------------------+ | NOTE: This value is not sent by | | | AMF (it may be sent by UDM to | | | HSS). | | +----------------------------------+----------------------------------+
##### 6.2.6.3.12 Enumeration: LossOfConnectivityReason
Table 6.2.6.3.12-1: Enumeration LossOfConnectivityReason
Enumeration value Description
* * *
\"DEREGISTERED\" Indicates the UE is deregistered.
\"MAX_DETECTION_TIME_EXPIRED\" Indicates the mobile reachable timer is
expired. \"PURGED\" Indicates the UE is purged. \"UNAVAILABLE_PERIOD\"
Indicates the UE reported unavailability period.
##### 6.2.6.3.13 Enumeration: ReachabilityFilter
Table 6.2.6.3.13-1: Enumeration ReachabilityFilter
Enumeration value Description
* * *
\"UE_REACHABILITY_STATUS_CHANGE\" Indicates subscription for \"UE Reachability
Status Change\". \"UE_REACHABLE_DL_TRAFFIC\" Indicates subscription for \"UE
Reachable for DL Traffic\".
##### 6.2.6.3.14 Enumeration: UeType
Table 6.2.6.3.14-1: Enumeration UeType
Enumeration value Description
* * *
\"AERIAL_UE\" Indicates the UE is an Aerial UE
##### 6.2.6.3.15 Enumeration: AccessStateTransitionType
Table 6.2.6.3.15-1: Enumeration AccessStateTransitionType
Enumeration value Description
* * *
\"ACCESS_TYPE_CHANGE_3GPP\" Indicates that the UE\'s access type has changed
to 3GPP access. \"ACCESS_TYPE_CHANGE_N3GPP\" Indicates that the UE\'s access
type has changed to non-3GPP access. \"RM_STATE_CHANGE_DEREGISTERED\"
Indicates that the UE\'s RM state has change to RM-DEREGISTERED.
\"RM_STATE_CHANGE_REGISTERED\" Indicates that the UE\'s RM state has change to
RM-REGISTERED. \"CM_STATE_CHANGE_IDLE\" Indicates that the UE\'s CM state has
change to CM-IDLE. \"CM_STATE_CHANGE_CONNECTED\" Indicates that the UE\'s CM
state has change to CM-CONNECTED \"HANDOVER\" Indicates that the UE has
performed a successful handover. \"MOBILITY_REGISTRATION_UPDATE\" Indicates
that the UE has performed a successful mobility registration update.
##### 6.2.6.3.16 Enumeration: SubTerminationReason
Table 6.2.6.3.16-1: Enumeration SubTerminationReason
Enumeration value Description
* * *
\"INVALID_SUBSCRIPTION\" Indicates that the subscription is terminated because
the AMF has identified that the subscription is no longer valid on the NF
hosting the notification URI.
#### 6.2.6.4 Binary data
None.
### 6.2.7 Error Handling
#### 6.2.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS
29.500 [4].
#### 6.2.7.2 Protocol Errors
Protocol Error Handling shall be supported as specified in clause 5.2.7 of
3GPP TS 29.500 [4].
#### 6.2.7.3 Application Errors
The common application errors defined in the Table 5.2.7.2-1 in 3GPP TS 29.500
[4] may also be used for the Namf_EventExposure service, and the following
application errors listed in Table 6.2.7.3-1 are specific for the
Namf_EventExposure service.
Table 6.2.7.3-1: Application errors
+------------------------+------------------+------------------------+ | Application Error | HTTP status code | Description | +========================+==================+========================+ | UE | 403 Forbidden | Indicates the creation | | _NOT_SERVED_BY_AMF | | of a subscription | | | | targeting a specific | | | | UE has failed due to | | | | an application error | | | | when the UE is not | | | | served by the AMF | | | | | | | | (i.e. it is not known | | | | to the AMF). | +------------------------+------------------+------------------------+ | UNSPECIFIED | 403 Forbidden | The request is | | | | rejected due to | | | | unspecified reasons. | +------------------------+------------------+------------------------+ | MUTING_EXC | 403 Forbidden | Indicates the AMF does | | _INSTR_NOT_ACCEPTED | | not accept the | | | | received muting | | | | exception | | | | instructions. | +------------------------+------------------+------------------------+ | SU | 404 Not Found | Indicates the | | BSCRIPTION_NOT_FOUND | | modification of | | | | subscription has | | | | failed due to an | | | | application error when | | | | the subscription is | | | | not found in the AMF. | +------------------------+------------------+------------------------+
### 6.2.8 Feature Negotiation
The feature negotiation mechanism specified in clause 6.6 of 3GPP TS 29.500
[4] shall be used to negotiate the optional features applicable between the
AMF and the NF Service Consumer, for the Namf_EventExposure service, if any.
The NF Service Consumer shall indicate the optional features it supports for
the Namf_EventExposure service, if any, by including the supportedFeatures
attribute in payload of the HTTP Request Message for subscription resource
creation.
The AMF shall determine the supported features for the service operations as
specified in clause 6.6 of 3GPP TS 29.500 [4] and shall indicate the supported
features by including the supportedFeatures attribute in payload of the HTTP
response for subscription resource creation.
The syntax of the supportedFeatures attribute is defined in clause 5.2.2 of
3GPP TS 29.571 [6].
The following features are defined for the Namf_EventExposure service:
Table 6.2.8-1: Features of supportedFeatures attribute used by
Namf_EventExposure service
+-------------------------+---------+-----+-------------------------+ | Feature Number | Feature | M/O | Description | +-------------------------+---------+-----+-------------------------+ | 1 | ENA | O | Enablers for Network | | | | | Automation for 5G | | | | | | | | | | An AMF and an NF that | | | | | support this feature | | | | | shall support the | | | | | procedures specified in | | | | | 3GPP TS 23.288 [38]. | +-------------------------+---------+-----+-------------------------+ | 2 | APRA | O | Additional Presence | | | | | Reporting Area | | | | | | | | | | An AMF that supports | | | | | this feature shall | | | | | support subscription of | | | | | \"PRES | | | | | ENCE_IN_AOI_REPORT\" | | | | | event with a Set of | | | | | Core Network Predefined | | | | | Presence Reporting | | | | | Areas and generating | | | | | event report including | | | | | both PRA Set ID and | | | | | additional PRA ID | | | | | referring to an | | | | | individual PRA in the | | | | | Set. | | | | | | | | | | An NF service consumer | | | | | that supports this | | | | | feature shall support | | | | | receiving | | | | | \"PRES | | | | | ENCE_IN_AOI_REPORT\" | | | | | event with additional | | | | | PRA ID referring to an | | | | | individual PRA in the | | | | | Set. | +-------------------------+---------+-----+-------------------------+ | 3 | ESSYNC | O | Event Subscription | | | | | Synchronization | | | | | | | | | | An AMF and UDM that | | | | | supports this feature | | | | | shall support the event | | | | | subscription | | | | | synchronization | | | | | procedure, as specified | | | | | in clause 5.3.2.4.2. | +-------------------------+---------+-----+-------------------------+ | 4 | ES3XX | M | Extended Support of | | | | | HTTP 307/308 | | | | | redirection | | | | | | | | | | An NF Service Consumer | | | | | (e.g. NEF) that | | | | | supports this feature | | | | | shall support handling | | | | | of HTTP 307/308 | | | | | redirection for any | | | | | service operation of | | | | | the Namf_EventExposure | | | | | service. An NF Service | | | | | Consumer that does not | | | | | support this feature | | | | | does only support HTTP | | | | | redirection as | | | | | specified for 3GPP | | | | | Release 15. | +-------------------------+---------+-----+-------------------------+ | 5 | IERSR | O | Immediate Event Report | | | | | in Subscription | | | | | Creation Response for | | | | | Subscriptions on behalf | | | | | of another NF | | | | | | | | | | An NF consumer (e.g. | | | | | UDM) supporting this | | | | | feature shall be able | | | | | to handle the immediate | | | | | event reports in the | | | | | Subscription Creation | | | | | Response for | | | | | subscriptions on behalf | | | | | of another NF, as | | | | | specified in | | | | | clause 5.3.2.2.2. | +-------------------------+---------+-----+-------------------------+ | 6 | EneNA | O | Enhancement of Enablers | | | | | for Network Automation | | | | | for 5G | | | | | | | | | | An AMF and an NF that | | | | | support this feature | | | | | shall support the | | | | | enhancement of network | | | | | data analytics | | | | | specified in | | | | | 3GPP TS 23.288 [38]. | +-------------------------+---------+-----+-------------------------+ | 7 | DGEM | O | Dynamic Group-based | | | | | Event Monitoring | | | | | | | | | | An AMF supporting this | | | | | feature shall allow the | | | | | NF consumer to remove | | | | | or add list of group | | | | | member UE(s) for a | | | | | group-based event | | | | | monitoring subscription | | | | | (see clause 5.3.2.2.4). | +-------------------------+---------+-----+-------------------------+ | 8 | UARF | O | UEs in Area Report | | | | | Filter | | | | | | | | | | This feature indicates | | | | | the support of enhanced | | | | | filter for | | | | | UEs-In-Area-Report | | | | | event. When this | | | | | feature is supported at | | | | | the AMF, the AMF shall | | | | | apply additional | | | | | filters provided in | | | | | ueInAreaFilter IE. | +-------------------------+---------+-----+-------------------------+ | 9 | MPRA | O | Map type PRA | | | | | information | | | | | | | | | | Support of this feature | | | | | implies support of map | | | | | type presenceInfoList | | | | | during subscription | | | | | creation and support of | | | | | PresenceInfo | | | | | modification during | | | | | subscription | | | | | modification (see | | | | | clauses 6.2.6.2.3 and | | | | | 6.2.6.2.14). | +-------------------------+---------+-----+-------------------------+ | 10 | STEN | O | Subscription | | | | | Termination Event | | | | | Notification | | | | | | | | | | An AMF supporting this | | | | | feature shall support | | | | | sending a notification | | | | | to the NF consumer to | | | | | inform that the AMF | | | | | event subscription is | | | | | terminated if requested | | | | | by NF consumer; an NF | | | | | consumer supporting | | | | | this feature shall | | | | | support processing the | | | | | Subscription | | | | | Termination Event | | | | | Notification from the | | | | | AMF, e.g. clean-up the | | | | | local context for the | | | | | indicated AMF event | | | | | subscription. | +-------------------------+---------+-----+-------------------------+ | 11 | ENAPH3 | O | Enablers for Network | | | | | Automation for 5G, | | | | | Phase 3 | | | | | | | | | | An AMF supporting this | | | | | feature shall support | | | | | the handling of event | | | | | muting exception | | | | | instructions as | | | | | specified in | | | | | clause 6.2.7.2 of | | | | | 3GPP TS 23.288 [38]. | +-------------------------+---------+-----+-------------------------+ | Feature number: The | | | | | order number of the | | | | | feature within the | | | | | s**upportedFeatures | | | | | attribute (starting | | | | | with 1).** | | | | | | | | | | **Feature: A short name | | | | | that can be used to | | | | | refer to the bit and to | | | | | the feature.** | | | | | | | | | | **M/O: Defines if the | | | | | implementation of the | | | | | feature is mandatory | | | | | (** \"**M** \"**) or | | | | | optional | | | | | (** \"**O** \"**).** | | | | | | | | | | Description: A clear | | | | | textual description of | | | | | the feature. | | | | +-------------------------+---------+-----+-------------------------+
### 6.2.9 Security
As indicated in 3GPP TS 33.501 [27], the access to the Namf_EventExposure API
may be authorized by means of the OAuth2 protocol (see IETF RFC 6749 [28]),
using the \"Client Credentials\" authorization grant, where the NRF (see 3GPP
TS 29.510 [29]) plays the role of the authorization server.
If Oauth2 authorization is used, an NF Service Consumer, prior to consuming
services offered by the Namf_EventExposure API, shall obtain a \"token\" from
the authorization server, by invoking the Access Token Request service, as
described in 3GPP TS 29.510 [29], clause 5.4.2.2.
NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used for
discovering the Namf_EventExposure service.
The Namf_EventExposure API defines scopes for OAuth2 authorization as
specified in 3GPP TS 33.501 [27]; it defines a single scope consisting on the
name of the service (i.e., \"namf-evts\"), and it does not define any
additional scopes at resource or operation level.
### 6.2.10 HTTP redirection
An HTTP request may be redirected to a different AMF service instance, within
the same AMF or a different AMF of an AMF set, e.g. when an AMF service
instance is part of an AMF (service) set or when using indirect communications
(see 3GPP TS 29.500 [4]). See the ES3XX feature in clause 6.2.8.
An SCP that reselects a different AMF producer instance will return the NF
Instance ID of the new AMF producer instance in the 3gpp-Sbi-Producer-Id
header, as specified in clause 6.10.3.4 of 3GPP TS 29.500 [4].
If an AMF within an AMF set redirects a service request to a different AMF of
the set using an 307 Temporary Redirect or 308 Permanent Redirect status code,
the identity of the new AMF towards which the service request is redirected
shall be indicated in the 3gpp-Sbi-Target-Nf-Id header of the 307 Temporary
Redirect or 308 Permanent Redirect response as specified in clause 6.10.9.1 of
3GPP TS 29.500 [4].
## 6.3 Namf_MT Service API
### 6.3.1 API URI
The Namf_MT shall use the Namf_MT API.
The API URI of the Namf_MT API shall be:
**{apiRoot}/\ /\/**
The request URI used in HTTP requests from the NF service consumer towards the
NF service producer shall have the Resource URI structure defined in clause
4.4.1 of 3GPP TS 29.501 [5], i.e.:
**{apiRoot}/\ /\/\**
with the following components:
\- The {apiRoot} shall be set as described in 3GPP TS 29.501 [5].
\- The \ shall be \"namf-mt\".
\- The \ shall be \"v1\".
\- The \ shall be set as described in clause
6.3.3.
### 6.3.2 Usage of HTTP
#### 6.3.2.1 General
HTTP/2, as defined in IETF RFC 7540 [19], shall be used as specified in clause
5 of 3GPP TS 29.500 [4].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].
HTTP messages and bodies for the Namf_MT service shall comply with the OpenAPI
[23] specification contained in Annex A.
#### 6.3.2.2 HTTP standard headers
##### 6.3.2.2.1 General
The usage of HTTP standard headers shall be supported as specified in clause
5.2.2 of 3GPP TS 29.500 [4].
##### 6.3.2.2.2 Content type
The following content types shall be supported:
\- JSON, as defined in IETF RFC 8259 [8], shall be used as content type of the
HTTP bodies specified in the present specification as indicated in clause 5.4
of 3GPP TS 29.500 [4].
\- The Problem Details JSON Object (IETF RFC 7807 [36]). The use of the
Problem Details JSON object in a HTTP response body shall be signalled by the
content type \"application/problem+json\".
#### 6.3.2.3 HTTP custom headers
##### 6.3.2.3.1 General
In this release of this specification, no custom headers specific to the
Namf_MT service are defined. For 3GPP specific HTTP custom headers used across
all service based interfaces, see clause 5.2.3 of 3GPP TS 29.500 [4].
### 6.3.3 Resources
#### 6.3.3.1 Overview
Figure 6.3.3.1-1: Resource URI structure of the Namf_MT Service API
Table 6.3.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 6.3.3.1-1: Resources and methods overview
+----------------+----------------+----------------+----------------+ | Resource name | Resource URI | HTTP method or | Description | | | | custom | | | | | operation | | +================+================+================+================+ | _ueReachInd_ | /ue-contex | _PUT_ | _Update the | | | ts/{ueContextI | | ueReachInd to | | | d}/ue-reachind | | UE Reachable_ | +----------------+----------------+----------------+----------------+ | _ueContext_ | /ue-contexts | _GET_ | _Map to | | | /{ueContextId} | | following | | | | | service | | | | | operation:_ | | | | | | | | | | _\- | | | | | ProvideDomain | | | | | SelectionInfo_ | +----------------+----------------+----------------+----------------+ | _ueContexts | /ue-contex | enable-grou |_ Update the | | collection _| ts/enable-grou | p-reachability | state of the | | | p-reachability | (POST) | list of UEs | | | | | to_ | | | | | CM-CONNECTED | | | | | state | +----------------+----------------+----------------+----------------+
#### 6.3.3.2 Resource: ueReachInd
##### 6.3.3.2.1 Description
This resource represents the ueReachInd for a SUPI.
This resource is modelled as the Document resource archetype (see clause C.1
of 3GPP TS 29.501 [5]).
##### 6.3.3.2.2 Resource Definition
Resource URI: {apiRoot}/namf-mt/\/ue-contexts/{ueContextId}/ue-
reachind
This resource shall support the resource URI variables defined in table
6.3.3.2.2-1.
Table 6.3.3.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition
* * *
apiRoot string See clause 6.3.1
apiVersion string See clause 6.3.1.
ueContextId Supi Represents the Subscription Permanent Identifier (see 3GPP TS
23.501 [2] clause 5.9.2)\ pattern: see pattern of type Supi in 3GPP TS 29.571
[6]
* * *
##### 6.3.3.2.3 Resource Standard Methods
###### 6.3.3.2.3.1 PUT
This method shall support the URI query parameters specified in table
6.3.3.2.3.1-1.
Table 6.3.3.2.3.1-1: URI query parameters supported by the PUT method on this
resource
Name Data type P Cardinality Description
* * *
n/a
This method shall support the request data structures specified in table
6.3.3.2.3.1-2 and the response data structures and response codes specified in
table 6.3.3.2.3.1-3.
Table 6.3.3.2.3.1-2: Data structures supported by the PUT Request Body on this
resource
Data type P Cardinality Description
* * *
EnableUeReachabilityReqData M 1 Contain the State of the UE, the value shall
be set to UE Reachable.
Table 6.3.3.2.3.1-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | E | M | 1 | 200 OK | Indicate the | | nableUeReacha | | | | ueReachInd is | | bilityRspData | | | | updated to UE | | | | | | Reachable. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | When the | | | | | | related UE | | | | | | context is | | | | | | not fully | | | | | | available at | | | | | | the target NF | | | | | | Service | | | | | | Producer | | | | | | (e.g. AMF) | | | | | | during a | | | | | | planned | | | | | | maintenance | | | | | | case (e.g. | | | | | | AMF planned | | | | | | maintenance | | | | | | without UDSF | | | | | | case) the | | | | | | \"cause\" | | | | | | attribute may | | | | | | be used to | | | | | | include the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | > \- | | | | | | > NF_CO | | | | | | NSUMER_REDIR | | | | | | ECT_ONE_TXN | | | | | | | | | | | | See table | | | | | | 6.3.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | ProblemD | O | 0..1 | 403 Forbidden | The \"cause\" | | etailsEnableU | | | | attribute may | | eReachability | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | > \- | | | | | | > UNABLE\ | | | | | | _TO_PAGE_UE | | | | | | > | | | | | | > \- | | | | | | > UNSPECIFIED | | | | | | > | | | | | | > \- | | | | | | > | | | | | | UE_IN_NON_ | | | | | | ALLOWED_AREA | | | | | | | | | | | | See table | | | | | | 6.3.7.3-1 for | | | | | | the | | | | | | description | | | | | | of this | | | | | | error. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | When the | | roblemDetails | | | | related UE is | | | | | | not found in | | | | | | the NF | | | | | | Service | | | | | | Producer | | | | | | (e.g. AMF) | | | | | | the \"cause\" | | | | | | attribute | | | | | | shall be set | | | | | | to: | | | | | | | | | | | | > \- | | | | | | > CONTEX | | | | | | T_NOT_FOUND | | | | | | | | | | | | See table | | | | | | 6.3.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 409 Conflict | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate the | | | | | | following | | | | | | application | | | | | | error: | | | | | | | | | | | | - | | | | | | REJECTION_DU | | | | | | E_TO_PAGING | | | | | | _RESTRICTION | | | | | | | | | | | | See table | | | | | | 6.3.7.3-1 for | | | | | | the | | | | | | description | | | | | | of this | | | | | | error. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 503 Service | The \"cause\" | | roblemDetails | | | Unavailable | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the errors | | | | | | defined in | | | | | | Table | | | | | | 5.2.7.2-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | | | | | | | | The HTTP | | | | | | header field | | | | | | \" | | | | | | Retry-After\" | | | | | | shall not be | | | | | | included in | | | | | | this | | | | | | scenario. | +---------------+---+-------------+---------------+---------------+ | ProblemD | O | 0..1 | 504 Gateway | The \"cause\" | | etailsEnableU | | | Timeout | attribute may | | eReachability | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | > \- | | | | | | > UE_NO | | | | | | T_RESPONDING | | | | | | > | | | | | | > \- | | | | | | > UE_N | | | | | | OT_REACHABLE | | | | | | | | | | | | See table | | | | | | 6.3.7.3-1 for | | | | | | the | | | | | | description | | | | | | of this | | | | | | error. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the PUT | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.3.3.2.3.1-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | The URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set to which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.3.3.2.3.1-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
##### 6.3.3.2.4 Resource Custom Operations
There is no custom operation supported on this resource.
#### 6.3.3.3 Resource: ueContext
##### 6.3.3.3.1 Description
This resource represents the UeContext for a UE.
This resource is modelled as the Document resource archetype (see clause C.1
of 3GPP TS 29.501 [5]).
##### 6.3.3.3.2 Resource Definition
Resource URI: {apiRoot}/namf-mt/\/ue-contexts/{ueContextId}
This resource shall support the resource URI variables defined in table
6.3.3.3.2-1.
Table 6.3.3.3.2-1: Resource URI variables for this resource
* * *
Name Data type Definition
* * *
apiRoot string See clause 6.3.1
apiVersion string See clause 6.3.1.
ueContextId Supi Represents the Subscription Permanent Identifier (see 3GPP TS
23.501 [2] clause 5.9.2)\ pattern: see pattern of type Supi in 3GPP TS 29.571
[6]
* * *
##### 6.3.3.3.3 Resource Standard Methods
###### 6.3.3.3.3.1 GET
This method shall support the URI query parameters specified in table
6.3.3.3.3.1-1.
Table 6.3.3.3.3.1-1: URI query parameters supported by the GET method on this
resource
Name Data type P Cardinality Description
* * *
info-class UeContextInfoClass M 1 Indicates the class of the UE Context
information elements to be fetched. supported-features SupportedFeatures C
0..1 This IE shall be present if at least one optional feature defined in
clause 6.3.8 is supported. old-guami Guami C 0..1 This IE shall be present
during an AMF planned removal procedure when the NF Service Consumer initiates
a request towards the target AMF, for a UE associated to an AMF that is
unavailable (see clause 5.21.2.2 of 3GPP TS 23.501 [2]).
This method shall support the request data structures specified in table
6.3.3.3.3.1-2 and the response data structures and response codes specified in
table 6.3.3.3.3.1-3.
Table 6.3.3.3.3.1-2: Data structures supported by the GET Request Body on this
resource
Data type P Cardinality Description
* * *
n/a
Table 6.3.3.3.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | UeContextInfo | M | 1 | 200 OK | This | | | | | | represents | | | | | | the operation | | | | | | is successful | | | | | | and request | | | | | | UE Context | | | | | | information | | | | | | is returned. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | When the | | | | | | related UE | | | | | | context is | | | | | | not fully | | | | | | available at | | | | | | the target NF | | | | | | Service | | | | | | Consumer | | | | | | (e.g. AMF) | | | | | | during a | | | | | | planned | | | | | | maintenance | | | | | | case (e.g. | | | | | | AMF planned | | | | | | maintenance | | | | | | without UDSF | | | | | | case) the | | | | | | \"cause\" | | | | | | attribute | | | | | | shall be set | | | | | | to: | | | | | | | | | | | | > \- | | | | | | > NF_CO | | | | | | NSUMER_REDIR | | | | | | ECT_ONE_TXN | | | | | | | | | | | | See table | | | | | | 6.3.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | Indicates the | | roblemDetails | | | | operation has | | | | | | failed due to | | | | | | application | | | | | | error. | | | | | | | | | | | | The \"cause\" | | | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | > \- | | | | | | > UNABLE\ | | | | | | _TO_PAGE_UE | | | | | | > | | | | | | > \- | | | | | | > UE\ | | | | | | _DEREGISTERED | | | | | | > | | | | | | > \- | | | | | | > UNSPECIFIED | | | | | | | | | | | | See table | | | | | | 6.3.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | Indicates the | | roblemDetails | | | | operation has | | | | | | failed due to | | | | | | application | | | | | | error. | | | | | | | | | | | | The \"cause\" | | | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | > \- | | | | | | > CONTEX | | | | | | T_NOT_FOUND | | | | | | | | | | | | See table | | | | | | 6.3.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 409 Conflict | This | | roblemDetails | | | | indicates | | | | | | that the | | | | | | request could | | | | | | not be | | | | | | completed due | | | | | | to a | | | | | | temporary | | | | | | conflict with | | | | | | the current | | | | | | state of the | | | | | | target | | | | | | resource. | | | | | | | | | | | | The cause | | | | | | attribute of | | | | | | the | | | | | | P | | | | | | roblemDetails | | | | | | structure | | | | | | shall be set | | | | | | to: | | | | | | | | | | | | - | | | | | | TE | | | | | | MPORARY_REJE | | | | | | CT_REGISTRAT | | | | | | ION_ONGOING, | | | | | | if there is | | | | | | an on-going | | | | | | registration | | | | | | procedure. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the GET | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP or | | | | | | SEPP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.3.3.3.3.1-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | The URI of the | | | | | | resource | | | | | | located on the | | | | | | target NF | | | | | | Service | | | | | | Consumer (e.g. | | | | | | AMF) to which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.3.3.3.3.1-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
##### 6.3.3.3.4 Resource Custom Operations
There is no custom operation supported on this resource.
#### 6.3.3.4 Resource: _ueContexts collection_
##### 6.3.3.4.1 Description
This resource represents the collection of the individual UeContexts created
in the AMF.
This resource is modelled as the Collection resource archetype (see clause C.2
of 3GPP TS 29.501 [5]).
##### 6.3.3.4.2 Resource Definition
Resource URI: **{apiRoot}/namf-mt/\ /ue-contexts**
This resource shall support the resource URI variables defined in table
6.3.3.4.2-1.
Table 6.3.3.4.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.3.1 apiVersion string See clause 6.3.1.
##### 6.3.3.4.3 Resource Standard Methods
There is no standard operation supported on this resource.
##### 6.3.3.4.4 Resource Custom Operations
###### 6.3.3.4.4.1 Overview
Table 6.3.3.4.4.1-1: Custom operations
Operation Name Custom operation URI Mapped HTTP method Description
* * *
enable-group-reachability /ue-contexts/enable-group-reachability POST Enable
Group Reachability service operation
###### 6.3.3.4.4.2 Operation: enable-group-reachability
###### # 6.3.3.4.4.2.1 Description
###### # 6.3.3.4.4.2.2 Operation Definition
This custom operation _updates the state of the list of UEs to_ CM-CONNECTED
state.
This operation shall support the request data structures specified in table
6.3.3.4.4.2.2-1 and the response data structure and response codes specified
in table 6.3.3.4.4.2.2-2.
Table 6.3.3.4.4.2.2-1: Data structures supported by the POST Request Body on
this resource
Data type P Cardinality Description
* * *
EnableGroupReachabilityReqData M 1 Contain the list of UEs involved in the MBS
Session identified by the related TMGI.
Table 6.3.3.4.4.2.2-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | Enab | M | 1 | 200 OK | Successful | | leGroupReacha | | | | response | | bilityRspData | | | | indicating | | | | | | the list of | | | | | | UEs in | | | | | | CM-CONNECTED | | | | | | state if any, | | | | | | and | | | | | | indicating | | | | | | the supported | | | | | | features. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | When none of | | roblemDetails | | | | the UEs in | | | | | | the list of | | | | | | UEs are found | | | | | | in the AMF, | | | | | | the \"cause\" | | | | | | attribute | | | | | | shall be set | | | | | | to: | | | | | | | | | | | | > \- | | | | | | > CONTEX | | | | | | T_NOT_FOUND | | | | | | | | | | | | See table | | | | | | 6.3.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 503 Service | The \"cause\" | | roblemDetails | | | Unavailable | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the errors | | | | | | defined in | | | | | | Table | | | | | | 5.2.7.2-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.3.3.4.4.2.2-3: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | The URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set to which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP, see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.3.3.4.4.2.2-4: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP, see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
### 6.3.4 Custom Operations without associated resources
There are no custom operations without associated resources supported on
Namf_MT service.
### 6.3.5 Notifications
#### 6.3.5.1 General
This clause specifies the notifications provided by the Namf_MT service.
Table 6.3.5.1-1: Notifications overview
+----------------+----------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +================+================+================+================+ | UE | {reachabi | POST | | | Reachability | lityNotifyUri} | | | | Info Notify | | | | +----------------+----------------+----------------+----------------+
#### 6.3.5.2 UE Reachability Info Notify
If a NF service consumer has implicitly subscribed to the UE Reachability Info
Notify supported by Namf_MT service, the AMF shall deliver the notification to
the call-back URI for the UE(s) which are reachable or do not respond to
paging, following Subscribe/Notify mechanism defined in 3GPP TS 29.501 [5].
##### 6.3.5.2.1 Notification Definition
Call-back URI: **{callbackUri}**
This callback URI shall be the \"reachabilityNotifyUri\" provided in the
\"EnableGroupReachabilityReqData\" IE.
##### 6.3.5.2.3 Notification Standard Methods
###### 6.3.5.2.3.1 POST
This method shall support the request data structures specified in table
6.3.5.2.3.1-1 and the response data structures and response codes specified in
table 6.3.5.2.3.1-2.
Table 6.3.5.2.3.1-2: Data structures supported by the POST Request Body
Data type P Cardinality Description
* * *
ReachabilityNotificationData M 1 Represents the notification to be delivered
Table 6.3.5.2.3.1-3: Data structures supported by the POST Response Body
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | | | | | | Content | | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.3.5.2.3.1-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | A URI pointing | | | | | | to the endpoint | | | | | | of the NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be sent. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP, see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.3.5.2.3.1-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | A URI pointing | | | | | | to the endpoint | | | | | | of the NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be sent. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP, see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
### 6.3.6 Data Model
#### 6.3.6.1 General
This clause specifies the application data model supported by the API.
Table 6.3.6.3-1 specifies the data types defined for the Namf_MT service based
interface protocol.
Table 6.3.6.3-1: Namf_MT specific Data Types
Data type Clause defined Description
* * *
EnableUeReachabilityReqData 6.3.6.2.2 Data within the Enable UE Reachability
Request EnableUeReachabilityRspData 6.3.6.2.3 Data within the Enable UE
Reachability Response UeContextInfo 6.3.6.2.4 Contains the UE Context
Information ProblemDetailsEnableUeReachability 6.3.6.2.5 Enable UE
Reachability Error Detail AdditionInfoEnableUeReachability 6.3.6.2.6
Additional information to be returned in EnableUeReachability error response.
EnableGroupReachabilityReqData 6.3.6.2.7 Data within the Enable Group
Reachability Request EnableGroupReachabilityRspData 6.3.6.2.8 Data within the
Enable Group Reachability Response UeInfo 6.3.6.2.9 list of UEs requested to
be made reachable for the MBS Session ReachabilityNotificationData 6.3.6.2.10
Data within the UE Reachability Info Notify ReachableUeInfo 6.3.6.2.11
Contains the reachable UE Information UeContextInfoClass 6.3.6.3.3 Indicates
the UE Context information class
Table 6.3.6.3-2 specifies data types re-used by the Namf_MT service based
interface protocol from other specifications, including a reference to their
respective specifications and when needed, a short description of their use
within the Namf_MT service based interface.
Table 6.3.6.3-2: Namf_MT re-used Data Types
Data type Reference Comments
* * *
ProblemDetails 3GPP TS 29.571 [6] Common data type used in response bodies
supportedFeatures 3GPP TS 29.571 [6] Supported Features AccessType 3GPP TS
29.571 [6] Access Type RatType 3GPP TS 29.571 [6] RAT Type DurationSec 3GPP TS
29.571 [6]  
RedirectResponse 3GPP TS 29.571 [6] Response body of the redirect response
message. Supi 3GPP TS 29.571 [6] SUPI Tmgi 3GPP TS 29.571 [6] TMGI
PduSessionId 3GPP TS 29.571 [6] PDU Session Id Uri 3GPP TS 29.571 [6] URI
UserLocation 3GPP TS 29.571 [6] User Location Information MbsServiceAreaInfo
3GPP TS 29.571 [6] MBS Service Area Information for a Location dependent MBS
session Qfi 3GPP TS 29.571 [6] QoS Flow Identifier UeReachability 6.2.6.3.7
Describes the reachability of the UE Ppi 6.1.6.3.2 Paging Policy
#### 6.3.6.2 Structured data types
##### 6.3.6.2.1 Introduction
Structured data types used in Namf_MT service are specified in this clause.
##### 6.3.6.2.2 Type: EnableUeReachabilityReqData
Table 6.3.6.3.2-1: Definition of type EnableUeReachabilityReqData
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | reachability | U | M | 1 | Indicates the | | | eReachability | | | desired | | | | | | reachability | | | | | | of the UE | +---------------+---------------+---+-------------+---------------+ | supp | Supp | C | 0..1 | This IE shall | | ortedFeatures | ortedFeatures | | | be present if | | | | | | at least one | | | | | | optional | | | | | | feature | | | | | | defined in | | | | | | clause 6.3.8 | | | | | | is supported. | +---------------+---------------+---+-------------+---------------+ | oldGuami | Guami | C | 0..1 | This IE shall | | | | | | be present | | | | | | during an AMF | | | | | | planned | | | | | | removal | | | | | | procedure | | | | | | when the NF | | | | | | Service | | | | | | Consumer | | | | | | initiates a | | | | | | request | | | | | | towards the | | | | | | target AMF, | | | | | | for a UE | | | | | | associated to | | | | | | an AMF that | | | | | | is | | | | | | unavailable | | | | | | (see clause | | | | | | 5.21.2.2 of | | | | | | 3GPP TS 2 | | | | | | 3.501 [2]). | +---------------+---------------+---+-------------+---------------+ | extBufSupport | boolean | C | 0..1 | This IE shall | | | | | | be present | | | | | | and set to | | | | | | \"true\", if | | | | | | the extended | | | | | | buffering is | | | | | | supported(see | | | | | | clauses | | | | | | 4.24.2 and | | | | | | clause 4.25.5 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 3.502 [3]), | | | | | | | | | | | | When present, | | | | | | the IE shall | | | | | | be set as | | | | | | following: | | | | | | | | | | | | > \- true: | | | | | | > the | | | | | | > extended | | | | | | > buffering | | | | | | > is | | | | | | > supported | | | | | | | | | | | | - false | | | | | | (default): | | | | | | the extended | | | | | | buffering is | | | | | | not supported | +---------------+---------------+---+-------------+---------------+ | ppi | Ppi | O | 0..1 | This IE may | | | | | | be included | | | | | | by the SMF | | | | | | during the | | | | | | Network | | | | | | Triggered | | | | | | Connection | | | | | | Resume in RRC | | | | | | Inactive with | | | | | | CN based MT | | | | | | communication | | | | | | handling. | | | | | | | | | | | | When present, | | | | | | it shall | | | | | | contain the | | | | | | Paging policy | | | | | | to be | | | | | | applied. | +---------------+---------------+---+-------------+---------------+ | arp | Arp | O | 0..1 | This IE may | | | | | | be included | | | | | | by the SMF | | | | | | during the | | | | | | Network | | | | | | Triggered | | | | | | Connection | | | | | | Resume in RRC | | | | | | Inactive with | | | | | | CN based MT | | | | | | communication | | | | | | handling. | | | | | | | | | | | | When present, | | | | | | it shall | | | | | | contain the | | | | | | Allocation | | | | | | and Retention | | | | | | Priority of | | | | | | the QoS flow | | | | | | of the PDU | | | | | | session | | | | | | triggering | | | | | | the | | | | | | procedure, | | | | | | e.g., for | | | | | | which DL | | | | | | packets have | | | | | | been received | | | | | | by the UPF. | +---------------+---------------+---+-------------+---------------+ | 5qi | 5Qi | O | 0..1 | This IE may | | | | | | be included | | | | | | by the SMF | | | | | | during the | | | | | | Network | | | | | | Triggered | | | | | | Connection | | | | | | Resume in RRC | | | | | | Inactive with | | | | | | CN based MT | | | | | | communication | | | | | | handling. | | | | | | | | | | | | When present, | | | | | | it shall | | | | | | indicate the | | | | | | 5QI of the | | | | | | QoS flow of | | | | | | the PDU | | | | | | session | | | | | | triggering | | | | | | the | | | | | | procedure, | | | | | | e.g., for | | | | | | which DL | | | | | | packets have | | | | | | been received | | | | | | by the UPF. | +---------------+---------------+---+-------------+---------------+ | qfi | Qfi | O | 0..1 | This IE may | | | | | | be included | | | | | | by the SMF | | | | | | during the | | | | | | Network | | | | | | Triggered | | | | | | Connection | | | | | | Resume in RRC | | | | | | Inactive with | | | | | | CN based MT | | | | | | communication | | | | | | handling. | | | | | | | | | | | | When present, | | | | | | it shall | | | | | | indicate the | | | | | | QFI of the | | | | | | QoS flow of | | | | | | the PDU | | | | | | session | | | | | | triggering | | | | | | the | | | | | | procedure, | | | | | | e.g., for | | | | | | which DL | | | | | | packets have | | | | | | been received | | | | | | by the UPF. | +---------------+---------------+---+-------------+---------------+ | pduSessionId | PduSessionId | O | 0..1 | This IE may | | | | | | be included | | | | | | by the SMF | | | | | | during the | | | | | | Network | | | | | | Triggered | | | | | | Connection | | | | | | Resume in RRC | | | | | | Inactive with | | | | | | CN based MT | | | | | | communication | | | | | | handling. | | | | | | | | | | | | When present, | | | | | | it shall | | | | | | indicate the | | | | | | PDU Session | | | | | | ID of the PDU | | | | | | session | | | | | | triggering | | | | | | the | | | | | | procedure, | | | | | | e.g., for | | | | | | which DL | | | | | | packets have | | | | | | been received | | | | | | by the UPF. | +---------------+---------------+---+-------------+---------------+
##### 6.3.6.2.3 Type: EnableUeReachabilityRspData
Table 6.3.6.2.3-1: Definition of type EnableUeReachabilityRspData
Attribute name Data type P Cardinality Description
* * *
reachability UeReachability M 1 Indicates the current reachability of the UE
supportedFeatures SupportedFeatures C 0..1 This IE shall be present if at
least one optional feature defined in clause 6.3.8 is supported.
##### 6.3.6.2.4 Type: UeContextInfo
Table 6.3.6.2.3-1: Definition of type UeContextInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | supportVoPS | boolean | C | 0..1 | This IE shall | | | | | | be present | | | | | | when | | | | | | following UE | | | | | | Context | | | | | | Information | | | | | | class are | | | | | | required: | | | | | | | | | | | | > \- \"TADS\" | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | indicate | | | | | | whether or | | | | | | not IMS voice | | | | | | over PS | | | | | | Session is | | | | | | supported in | | | | | | the | | | | | | registration | | | | | | area (s) | | | | | | where the UE | | | | | | is currently | | | | | | registered in | | | | | | 3GPP access. | +---------------+---------------+---+-------------+---------------+ | sup | boolean | C | 0..1 | This IE shall | | portVoPSn3gpp | | | | be present | | | | | | when the UE | | | | | | is registered | | | | | | in WLAN non | | | | | | 3GPP access | | | | | | and the | | | | | | following UE | | | | | | Context | | | | | | Information | | | | | | class are | | | | | | required: | | | | | | | | | | | | > \- \"TADS\" | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | indicate | | | | | | whether or | | | | | | not IMS voice | | | | | | over PS | | | | | | Session | | | | | | Supported | | | | | | Indication | | | | | | over non-3GPP | | | | | | access is | | | | | | supported in | | | | | | the WLAN | | | | | | where the UE | | | | | | is currently | | | | | | registered. | +---------------+---------------+---+-------------+---------------+ | lastActTime | DateTime | C | 0..1 | This IE shall | | | | | | be present | | | | | | when | | | | | | following UE | | | | | | Context | | | | | | Information | | | | | | class are | | | | | | required: | | | | | | | | | | | | > \- \"TADS\" | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | UTC time | | | | | | stamp of the | | | | | | last radio | | | | | | contact with | | | | | | the UE. | +---------------+---------------+---+-------------+---------------+ | accessType | AccessType | C | 0..1 | This IE shall | | | | | | be present | | | | | | when | | | | | | following UE | | | | | | Context | | | | | | Information | | | | | | class are | | | | | | required: | | | | | | | | | | | | > \- \"TADS\" | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | current | | | | | | access type | | | | | | of the UE. | +---------------+---------------+---+-------------+---------------+ | ratType | RatType | C | 0..1 | This IE shall | | | | | | be present | | | | | | when | | | | | | following UE | | | | | | Context | | | | | | Information | | | | | | class are | | | | | | required: | | | | | | | | | | | | > \- \"TADS\" | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | current RAT | | | | | | type of the | | | | | | UE. | +---------------+---------------+---+-------------+---------------+ | supp | Supp | C | 0..1 | This IE shall | | ortedFeatures | ortedFeatures | | | be present if | | | | | | at least one | | | | | | optional | | | | | | feature | | | | | | defined in | | | | | | clause 6.3.8 | | | | | | is supported. | +---------------+---------------+---+-------------+---------------+
##### 6.3.6.2.5 Type: ProblemDetailsEnableUeReachability
Table 6.3.6.2.5-1: Definition of type ProblemDetailsEnableUeReachability as a
list of to be combined data
Data type Cardinality Description Applicability
* * *
ProblemDetails 1 Detail information of the problem  
AdditionInfoEnableUeReachability 1 Additional information to be returned in
error response.
##### 6.3.6.2.6 Type: AdditionInfoEnableUeReachability
Table 6.3.6.2.6-1: Definition of type AdditionInfoEnableUeReachability
Attribute name Data type P Cardinality Description
* * *
maxWaitingTime DurationSec C 0..1 This IE shall contain the estimated maximum
wait time (see clauses 4.24.2 and 4.8.2.2b of 3GPP 23.502 [3]).
##### 6.3.6.2.7 Type: EnableGroupReachabilityReqData
Table 6.3.6.2.7-1: Definition of type EnableGroupReachabilityReqData
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | ueList | array(UeInfo) | M | 1..N | This IE shall | | | | | | indicate the | | | | | | list of UEs | | | | | | requested to | | | | | | be made | | | | | | reachable for | | | | | | the MBS | | | | | | Session and | | | | | | may indicate | | | | | | the PDU | | | | | | Session Id of | | | | | | the | | | | | | associated | | | | | | PDU Session | | | | | | for the | | | | | | UE(s). | +---------------+---------------+---+-------------+---------------+ | tmgi | Tmgi | M | 1 | This IE shall | | | | | | Indicate the | | | | | | TMGI of the | | | | | | MBS session. | +---------------+---------------+---+-------------+---------------+ | reachabi | Uri | O | 0..1 | The callback | | lityNotifyUri | | | | URI on which | | | | | | UEReachabil | | | | | | ityInfoNotify | | | | | | is reported. | +---------------+---------------+---+-------------+---------------+ | mbsServic | array(MbsSer | O | 1..N | List of MBS | | eAreaInfoList | viceAreaInfo) | | | Service Area | | | | | | and related | | | | | | Area Session | | | | | | ID for | | | | | | location | | | | | | dependent | | | | | | content. | +---------------+---------------+---+-------------+---------------+ | arp | Arp | O | 0..1 | This IE when | | | | | | present shall | | | | | | indicate the | | | | | | most | | | | | | demanding | | | | | | Allocation | | | | | | and Retention | | | | | | Priority of | | | | | | all MBS QoS | | | | | | Flow within | | | | | | the MBS | | | | | | session. | | | | | | | | | | | | The AMF may | | | | | | use this IE | | | | | | for paging | | | | | | di | | | | | | fferentiation | | | | | | (see clause | | | | | | 6.12 of | | | | | | 3GPP TS 23 | | | | | | .247 [55]). | +---------------+---------------+---+-------------+---------------+ | 5qi | 5Qi | O | 0..1 | This IE when | | | | | | present shall | | | | | | indicate the | | | | | | most | | | | | | demanding 5QI | | | | | | of all MBS | | | | | | QoS Flow | | | | | | within the | | | | | | MBS session. | | | | | | | | | | | | The AMF may | | | | | | use this IE | | | | | | for paging | | | | | | di | | | | | | fferentiation | | | | | | (see clause | | | | | | 6.12 of | | | | | | 3GPP TS 23 | | | | | | .247 [55]). | +---------------+---------------+---+-------------+---------------+ | supp | Supp | C | 0..1 | This IE shall | | ortedFeatures | ortedFeatures | | | be present if | | | | | | at least one | | | | | | optional | | | | | | feature | | | | | | defined in | | | | | | clause 6.3.8 | | | | | | is supported. | +---------------+---------------+---+-------------+---------------+
##### 6.3.6.2.8 Type: EnableGroupReachabilityRspData
Table 6.3.6.2.8-1: Definition of type EnableGroupReachabilityRspData
Attribute name Data type P Cardinality Description
* * *
ueConnectedList array(Supi) C 1..N This IE shall be present if there is at
least one UE in the list of UEs received in the request that is already in CM-
CONNECTED state. When present, this IE shall indicate the list of UEs in CM-
CONNECTED state. supportedFeatures SupportedFeatures C 0..1 This IE shall be
present if at least one optional feature defined in clause 6.3.8 is supported.
##### 6.3.6.2.9 Type: UeInfo
Table 6.3.6.2.9-1: Definition of type UeInfo
Attribute name Data type P Cardinality Description
* * *
ueList array(Supi) M 1..N This IE shall indicate the list of UEs requested to
be made reachable for the MBS Session. pduSessionId PduSessionId O 0..1
Represents the identifier of the associated PDU Session for the UEs in ueList
IE.
##### 6.3.6.2.10 Type: ReachabilityNotificationData
Table 6.3.6.2.10-1: Definition of type ReachabilityNotificationData
Attribute name Data type P Cardinality Description
* * *
reachableUeList array(ReachableUeInfo) C 1..N This IE shall indicate the list
of reachable UEs. unreachableUeList array(Supi) C 1..N This IE shall Indicate
the list of unreachable UEs.
##### 6.3.6.2.11 Type: ReachableUeInfo
Table 6.3.6.2.11-1: Definition of type ReachableUeInfo
Attribute name Data type P Cardinality Description
* * *
ueList array(Supi) M 1..N This IE shall indicate the list of reachable UEs.
userLocation UserLocation C 0..1 This IE shall Indicate the User Location of
the reachable UEs.
#### 6.3.6.3 Simple data types and enumerations
##### 6.3.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 6.3.6.3.2 Simple data types
The simple data types defined in table 6.3.6.3.2-1 shall be supported.
Table 6.3.6.3.2-1: Simple data types
Type Name Type Definition Description
* * *
##### 6.3.6.3.3 Enumeration: UeContextInfoClass
Table 6.3.6.3.3-1: Enumeration UeContextInfoClass
Enumeration value Description
* * *
\"TADS\" Defines the UE Context Information for Terminating Domain Selection
for IMS Voice over PS.
#### 6.3.6.4 Binary data
None.
### 6.3.7 Error Handling
#### 6.3.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS
29.500 [4].
#### 6.3.7.2 Protocol Errors
Protocol Error Handling shall be supported as specified in clause 5.2.7 of
3GPP TS 29.500 [4].
#### 6.3.7.3 Application Errors
The common application errors defined in the Table 5.2.7.2-1 in 3GPP TS 29.500
[4] may also be used for the Namf_MT service, and the following application
errors listed in Table 6.3.7.3-1 are specific for the Namf_MT service.
Table 6.3.7.3-1: Application errors
Application Error HTTP status code Description
* * *
NF_CONSUMER_REDIRECT_ONE_TXN 307 Temporary Redirect The request has been asked
to be redirected to a specified target. UNABLE_TO_PAGE_UE 403 Forbidden AMF is
unable page the UE, temporarily. UE_IN_NON_ALLOWED_AREA 403 Forbidden UE is
currently in a non-allowed area and the service request is not for a
regulatory prioritized service. UE_DEREGISTERED 403 Forbidden The user is in
RM-DEREGISTERED state in the AMF. UNSPECIFIED 403 Forbidden The request is
rejected due to unspecified reasons. CONTEXT_NOT_FOUND 404 Not Found The
related UE is not found in the NF Service Consumer.
TEMPORARY_REJECT_REGISTRATION_ONGOING 409 Conflict The request fails due to an
on-going registration procedure. REJECTION_DUE_TO_PAGING_RESTRICTION 409
Conflict If Paging Restriction Information restrict the EnableUEReachability
request from causing paging as defined in 3GPP TS 23.501 [2] clause 5.38.5 or
if the UE rejects the paging as defined in 3GPP TS 23.501 [2] clause 5.38.4.
UE_NOT_RESPONDING 504 Gateway Timeout UE is not responding to the request
initiated by the network, e.g. Paging. UE_NOT_REACHABLE 504 Gateway Timeout
The UE is not reachable for paging, e.g., when UE is in MICO mode or the UE
has entered the UE has entered Extended DRX in CM-IDLE or Extended DRX for
RRC-INACTIVE state.
### 6.3.8 Feature Negotiation
The feature negotiation mechanism specified in clause 6.6 of 3GPP TS 29.500
[4] shall be used to negotiate the optional features applicable between the
AMF and the NF Service Consumer, for the Namf_MT service, if any.
The NF Service Consumer shall indicate the optional features it supports for
the Namf_MT service, if any, by including the supportedFeatures attribute in
payload of the HTTP Request Message for following service operations:
\- EnableUEReachability, as specified in clause 5.4.2.2;
\- ProvideDomainSelectionInfo, as specified in clause 5.4.2.3;
\- EnableGroupReachability, as specified in clause 5.4.2.4.
The AMF shall determine the supported features for the service operations as
specified in clause 6.6 of 3GPP TS 29.500 [4] and shall indicate the supported
features by including the supportedFeatures attribute in payload of the HTTP
response for the service operation.
The syntax of the supportedFeatures attribute is defined in clause 5.2.2 of
3GPP TS 29.571 [6].
The following features are defined for the Namf_MT service.
Table 6.3.8-1: Features of supportedFeatures attribute used by Namf_MT service
+-------------------------+---------+-----+-------------------------+ | Feature Number | Feature | M/O | Description | +-------------------------+---------+-----+-------------------------+ | 1 | ES3XX | M | Extended Support of | | | | | HTTP 307/308 | | | | | redirection | | | | | | | | | | An NF Service Consumer | | | | | (e.g. SMSF) that | | | | | supports this feature | | | | | shall support handling | | | | | of HTTP 307/308 | | | | | redirection for any | | | | | service operation of | | | | | the Namf_MT service. | | | | | An NF Service Consumer | | | | | that does not support | | | | | this feature does only | | | | | support HTTP | | | | | redirection as | | | | | specified for 3GPP | | | | | Release 15. | +-------------------------+---------+-----+-------------------------+ | 2 | GRCAP | O | Group Reachability | | | | | Capability | | | | | | | | | | An AMF and SMF that | | | | | supports this feature | | | | | shall support the | | | | | EnableGroupReachability | | | | | and | | | | | U | | | | | EReachabilityInfoNotify | | | | | service operations, as | | | | | specified in | | | | | clause 5.4.2.4 and | | | | | clause 5.4.2.5. | +-------------------------+---------+-----+-------------------------+ | Feature number: The | | | | | order number of the | | | | | feature within the | | | | | s**upportedFeatures | | | | | attribute (starting | | | | | with 1).** | | | | | | | | | | **Feature: A short name | | | | | that can be used to | | | | | refer to the bit and to | | | | | the feature.** | | | | | | | | | | **M/O: Defines if the | | | | | implementation of the | | | | | feature is mandatory | | | | | (** \"**M** \"**) or | | | | | optional | | | | | (** \"**O** \"**).** | | | | | | | | | | Description: A clear | | | | | textual description of | | | | | the feature. | | | | +-------------------------+---------+-----+-------------------------+
### 6.3.9 Security
As indicated in 3GPP TS 33.501 [27], the access to the Namf_MT API may be
authorized by means of the OAuth2 protocol (see IETF RFC 6749 [28]), using the
\"Client Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510
[29]) plays the role of the authorization server.
If Oauth2 authorization is used, an NF Service Consumer, prior to consuming
services offered by the Namf_MT API, shall obtain a \"token\" from the
authorization server, by invoking the Access Token Request service, as
described in 3GPP TS 29.510 [29], clause 5.4.2.2.
NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used for
discovering the Namf_MT service.
The Namf_MT API defines the following scopes for OAuth2 authorization as
specified in 3GPP TS 33.501 [27].
Table 6.3.9-1: OAuth2 scopes defined in Namf_MT API
Scope Description
* * *
\"namf-mt\" Access to the Namf_MT API. \"namf-mt:ue-reachind\" Access to the
EnableUeReachability service operation. \"namf-mt:enable-group-reachability\"
Access to the EnableGroupReachability service operation.
### 6.3.10 HTTP redirection
An HTTP request may be redirected to a different AMF service instance, within
the same AMF or a different AMF of an AMF set, e.g. when an AMF service
instance is part of an AMF (service) set or when using indirect communications
(see 3GPP TS 29.500 [4]). See the ES3XX feature in clause 6.3.8.
An SCP that reselects a different AMF producer instance will return the NF
Instance ID of the new AMF producer instance in the 3gpp-Sbi-Producer-Id
header, as specified in clause 6.10.3.4 of 3GPP TS 29.500 [4].
If an AMF within an AMF set redirects a service request to a different AMF of
the set using an 307 Temporary Redirect or 308 Permanent Redirect status code,
the identity of the new AMF towards which the service request is redirected
shall be indicated in the 3gpp-Sbi-Target-Nf-Id header of the 307 Temporary
Redirect or 308 Permanent Redirect response as specified in clause 6.10.9.1 of
3GPP TS 29.500 [4].
## 6.4 Namf_Location Service API
### 6.4.1 API URI
The Namf_Location shall use the Namf_ Location API.
The API URI of the Namf_Location API shall be:
**{apiRoot}/\ /\/**
The request URI used in HTTP requests from the NF service consumer towards the
NF service producer shall have the Resource URI structure defined in clause
4.4.1 of 3GPP TS 29.501 [5], i.e.:
**{apiRoot}/\ /\/\**
with the following components:
\- The {apiRoot} shall be set as described in 3GPP TS 29.501 [5].
\- The \ shall be \"namf-loc\".
\- The \ shall be \"v1\".
\- The \ shall be set as described in clause
6.4.3.
### 6.4.2 Usage of HTTP
#### 6.4.2.1 General
HTTP/2, as defined in IETF RFC 7540 [19], shall be used as specified in clause
5 of 3GPP TS 29.500 [4].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].
HTTP messages and bodies for the Namf_Location service shall comply with the
OpenAPI [23] specification contained in Annex A.
#### 6.4.2.2 HTTP standard headers
##### 6.4.2.2.1 General
The usage of HTTP standard headers shall be supported as specified in clause
5.2.2 of 3GPP TS 29.500 [4].
##### 6.4.2.2.2 Content type
The following content types shall be supported:
\- JSON, as defined in IETF RFC 8259 [8], shall be used as content type of the
HTTP bodies specified in the present specification as indicated in clause 5.4
of 3GPP TS 29.500 [4].
\- The Problem Details JSON Object (IETF RFC 7807 [36]). The use of the
Problem Details JSON object in a HTTP response body shall be signalled by the
content type \"application/problem+json\".
#### 6.4.2.3 HTTP custom headers
##### 6.4.2.3.1 General
In this release of this specification, no custom headers specific to the
Namf_Location service are defined. For 3GPP specific HTTP custom headers used
across all service based interfaces, see clause 5.2.3 of 3GPP TS 29.500 [4].
### 6.4.3 Resources
#### 6.4.3.1 Overview
Figure 6.4.3.1-1: Resource URI structure of the Namf_Location Service API
Table 6.4.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 6.4.3.1-1: Resources and methods overview
* * *
Resource name Resource URI HTTP method or custom operation Description
* * *
_Individual UE context_ /provide-pos-info _provide-pos-info\_
ProvidePositioningInfo _(POST)_
                            /provide-loc-info   *provide-loc-info\                *ProvideLocationInfo*
                                                (POST)*
                            /cancel-pos-info    *cancel-pos-info\                 *CancelLocation*
                                                (POST)*
* * *
#### 6.4.3.2 Resource: Individual UE Context
##### 6.4.3.2.1 Description
This resource represents an individual ueContextId.
This resource is modelled with the Document resource archetype (see clause C.1
of 3GPP TS 29.501 [5]).
##### 6.4.3.2.2 Resource Definition
Resource URI:{apiRoot}/namf-loc/\/{ueContextId}
This resource shall support the resource URI variables defined in table
6.4.3.2.2-1.
Table 6.4.3.2.2-1: Resource URI variables for this resource
+-------------+-----------+------------------------------------------+ | Name | Data type | Definition | +=============+===========+==========================================+ | apiRoot | string | See clause 6.4.1 | +-------------+-----------+------------------------------------------+ | apiVersion | string | See clause 6.4.1. | +-------------+-----------+------------------------------------------+ | ueContextId | string | Represents the Subscription Permanent | | | | Identifier (see 3GPP TS 23.501 [2] | | | | clause 5.9.2)\ | | | | pattern: see pattern of type Supi in | | | | 3GPP TS 29.571 [6] | | | | | | | | Or represents the Permanent Equipment | | | | Identifier (see 3GPP TS 23.501 [2] | | | | clause 5.9.3) | | | | | | | | pattern: | | | | \"(ime | | | | i-[0-9]{15}\|imeisv-[0-9]{16}\|.+)\" | +-------------+-----------+------------------------------------------+
##### 6.4.3.2.3 Resource Standard Methods
There are no standard methods supported on this resource.
##### 6.4.3.2.4 Resource Custom Operations
###### 6.4.3.2.4.1 Overview
Table 6.4.3.2.4.1-1: Custom operations
+----------------+----------------+----------------+----------------+ | Operation Name | Custom | Mapped HTTP | Description | | | operaration | method | | | | URI | | | +================+================+================+================+ | pr | /{u | POST | Request the | | ovide-pos-info | eContextId}/pr | | positioning | | | ovide-pos-info | | information of | | | | | the UE. | | | | | | | | | | It is used for | | | | | the | | | | | ProvideP | | | | | ositioningInfo | | | | | service | | | | | operation. | +----------------+----------------+----------------+----------------+ | pr | /{u | POST | Request the | | ovide-loc-info | eContextId}/pr | | Network | | | ovide-loc-info | | Provided | | | | | Location | | | | | Information of | | | | | the UE. | +----------------+----------------+----------------+----------------+ | c | /{ | POST | Cancels | | ancel-pos-info | ueContextId}/c | | periodic or | | | ancel-pos-info | | triggered | | | | | location for | | | | | the UE. | +----------------+----------------+----------------+----------------+
###### 6.4.3.2.4.2 Operation: provide-pos-info (POST)
###### # 6.4.3.2.4.2.1 Description
This ueContextId identifies the individual ueContext resource is composed by
UE\'s SUPI or PEI.
###### # 6.4.3.2.4.2.2 Operation Definition
This operation shall support the request data structures specified in table
6.4.3.2.4.2.2-1 and the response data structure and response codes specified
in table 6.4.3.2.4.2.2-2.
Table 6.4.3.2.4.2.2-1: Data structures supported by (POST) the provide-pos-
info operation Request Body
Data type P Cardinality Description
* * *
RequestPosInfo M 1 The information to request the positioning information of
the UE.
Table 6.4.3.2.4.2.2-2: Data structures supported by the (POST) provide-pos-
info operation Response Body
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | P | M | 1 | 200 OK | This case | | rovidePosInfo | | | | represents a | | | | | | successful | | | | | | query of the | | | | | | UE | | | | | | positioning | | | | | | information, | | | | | | the AMF | | | | | | returns the | | | | | | related | | | | | | information | | | | | | in the | | | | | | response. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Shall return | | | | | Content | 204 if no | | | | | | information | | | | | | is to be | | | | | | returned | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | > \- | | | | | | > | | | | | | USER_UNKNOWN | | | | | | > | | | | | | > \- | | | | | | > D | | | | | | ETACHED_USER | | | | | | > | | | | | | > \- | | | | | | > POSITI | | | | | | ONING_DENIED | | | | | | > | | | | | | > \- | | | | | | > UNSPECIFIED | | | | | | > | | | | | | > \- | | | | | | > REQU | | | | | | ESTED_LMF_N | | | | | | OT_AVAILABLE | | | | | | | | | | | | See table | | | | | | 6.4.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | Pr | O | 0..1 | 409 Conflict | The request | | oblemDetailsP | | | | could not be | | rovidePosInfo | | | | completed due | | | | | | to a conflict | | | | | | with the | | | | | | current state | | | | | | of the | | | | | | resource. | | | | | | | | | | | | The \"cause\" | | | | | | attribute may | | | | | | be used to | | | | | | indicate | | | | | | | | | | | | > \- | | | | | | > HO_TO_EPS | | | | | | | | | | | | See table | | | | | | 6.4.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | | | | | | | | | | | | The response | | | | | | should | | | | | | contain the | | | | | | target MME | | | | | | name and | | | | | | realm, if | | | | | | available, | | | | | | and it may | | | | | | contain the | | | | | | location | | | | | | information | | | | | | available | | | | | | from the LMF. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 500 Internal | The \"cause\" | | roblemDetails | | | Server Error | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | > \- | | | | | | > POSITI | | | | | | ONING_FAILED | | | | | | | | | | | | See table | | | | | | 6.4.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 504 Gateway | The \"cause\" | | roblemDetails | | | Timeout | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | > \- | | | | | | > UNRE | | | | | | ACHABLE_USER | | | | | | > | | | | | | > \- | | | | | | > PEER_NO | | | | | | T_RESPONDING | | | | | | | | | | | | See table | | | | | | 6.4.7.3-1 for | | | | | | the | | | | | | description | | | | | | of this | | | | | | error. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.4.3.2.4.2.2-3: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP, see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.4.3.2.4.2.2-4: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP, see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
###### 6.4.3.2.4.3 Operation: provide-loc-info (POST)
###### # 6.4.3.2.4.3.1 Description
This ueContextId identifies the individual ueContext resource is composed by
UE\'s SUPI or PEI.
###### # 6.4.3.2.4.3.2 Operation Definition
This operation shall support the request data structures specified in table
6.4.3.2.4.3.2-1 and the response data structure and response codes specified
in table 6.4.3.2.4.3.2-2.
Table 6.4.3.2.4.3.2-1: Data structures supported by the (POST) povideLocInfo
operation Request Body
Data type P Cardinality Description
* * *
RequestLocInfo M 1 The information to request the NPLI of the UE.
Table 6.4.3.2.4.3.2-2: Data structures supported by the (POST) provide-loc-
info operation Response Body
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | P | M | 1 | 200 OK | This case | | rovideLocInfo | | | | represents a | | | | | | successful | | | | | | query of the | | | | | | NPLI of the | | | | | | target UE, | | | | | | the AMF | | | | | | returns the | | | | | | related | | | | | | information | | | | | | in the | | | | | | response. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | UNSPECIFIED | | | | | | | | | | | | See table | | | | | | 6.4.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - CONTEXT | | | | | | NOT_FOUND | | | | | | | | | | | | See table | | | | | | 6.4.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP or | | | | | | SEPP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.4.3.2.4.3.2-3: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.4.3.2.4.3.2-4: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP or SEPP, | | | | | | see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
###### 6.4.3.2.4.4 Operation: cancel-pos-info (POST)
###### # 6.4.3.2.4.4.1 Description
This ueContextId identifies the individual ueContext resource and is composed
by UE\'s SUPI or PEI.
###### # 6.4.3.2.4.4.2 Operation Definition
This operation shall support the request data structures specified in table
6.4.3.2.4.4.2-1 and the response data structure and response codes specified
in table 6.4.3.2.4.4.2-2.
Table 6.4.3.2.4.4.2-1: Data structures supported by the (POST) cancel-pos-info
operation Request Body
Data type P Cardinality Description
* * *
CancelPosInfo M 1 The information to identify the location session to be
cancelled.
Table 6.4.3.2.4.4.2-2: Data structures supported by the (POST) cancel-pos-info
operation Response Body
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | This case | | | | | Content | represents | | | | | | successful | | | | | | cancellation | | | | | | of location. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | > \- | | | | | | > | | | | | | USER_UNKNOWN | | | | | | > | | | | | | > \- | | | | | | > | | | | | | LOCATION_SES | | | | | | SION_UNKNOWN | | | | | | > | | | | | | > \- | | | | | | > UNSPECIFIED | | | | | | | | | | | | See | | | | | | ta | | | | | | ble 6.4.7.3-1 | | | | | | for the | | | | | | description | | | | | | of these | | | | | | errors. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 504 Gateway | The \"cause\" | | roblemDetails | | | Timeout | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | > \- | | | | | | > UNRE | | | | | | ACHABLE_USER | | | | | | > | | | | | | > \- | | | | | | > PEER_NO | | | | | | T_RESPONDING | | | | | | | | | | | | See | | | | | | ta | | | | | | ble 6.4.7.3-1 | | | | | | for the | | | | | | description | | | | | | of this | | | | | | error. | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.4.3.2.4.4.2-3: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP, see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.4.3.2.4.4.2-4: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP, see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
### 6.4.4 Custom Operations without associated resources
There are no custom operations without associated resources supported on
Namf_Location service.
### 6.4.5 Notifications
#### 6.4.5.1 General
This clause provides the definition of the EventNotify notification of the
Namf_Location service.
Table 6.4.5.1-1: Notifications overview
+--------------+----------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +==============+================+================+================+ | Event Notify | {locationNo | POST | | | | tificationUri} | | | +--------------+----------------+----------------+----------------+
#### 6.4.5.2 Event Notify
##### 6.4.5.2.1 Description
This resource represents the callback reference of the NF Service Consumer
(e.g. GMLC) to receive LCS event notify.
##### 6.4.5.2.2 Notification Definition
Callback URI: {locationNotificationUri}
See clause 5.5.2.3.1 for the description of how the AMF obtains the Callback
URI of the NF Service Consumer (e.g. GMLC).
##### 6.4.5.2.3 Notification Standard Methods
###### 6.4.5.2.3.1 POST
This method sends an LCS event notify to the NF Service Consumer.
This method shall support the request data structures specified in table
6.4.5.2.3.1-1 and the response data structures and response codes specified in
table 6.4.5.2.3.1-2.
Table 6.4.5.2.3.1-1: Data structures supported by the POST Request Body
Data type P Cardinality Description
* * *
NotifiedPosInfo M 1 Representation of the LCS event notify.
Table 6.4.5.2.3.1-2: Data structures supported by the POST Response Body
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | This case | | | | | Content | represents a | | | | | | successful | | | | | | notification | | | | | | of the LCS | | | | | | event. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.4.5.2.3.1-3: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | A URI pointing | | | | | | to the endpoint | | | | | | of the NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be sent. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP, see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.4.5.2.3.1-4: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | A URI pointing | | | | | | to the endpoint | | | | | | of the NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be sent. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP, see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
### 6.4.6 Data Model
#### 6.4.6.1 General
This clause specifies the application data model supported by the API.
Table 6.4.6.1-1 specifies the data types defined for the Namf_Location service
based interface protocol.
Table 6.4.6.1-1: Namf_Location specific Data Types
Data type Clause defined Description
* * *
RequestPosInfo 6.4.6.2.2 Data within Provide Positioning Information Request
ProvidePosInfo 6.4.6.2.3 Data within Provide Positioning Information Response
NotifiedPosInfo 6.4.6.2.4 Data within EventNotify notification RequestLocInfo
6.4.6.2.5 Data within Provide Location Information Request ProvideLocInfo
6.4.6.2.6 Data within Provide Location Information Response CancelPosInfo
6.4.6.2.7 Data within a Cancel Location Request ProblemDetailsProvidePosInfo
6.4.6.2.8 Detailed problems with positioning information in failure case
LocationType 6.4.6.3.3 Type of location measurement requested LocationEvent
6.4.6.3.4 Type of events initiating location procedures
LocationPrivacyVerResult 6.4.6.3.5 The result of location privacy verification
by UE LpHapType 6.4.6.3.6 Type of Low Power and/or High Accuracy Positioning
Table 6.4.6.1-2 specifies data types re-used by the Namf_Location service
based interface protocol from other specifications, including a reference to
their respective specifications and when needed, a short description of their
use within the Namf_Location service based interface.
Table 6.4.6.1-2: Namf_Location re-used Data Types
Data type Reference Comments
* * *
Supi 3GPP TS 29.571 [6] Subscription Permanent Identifier Gpsi 3GPP TS 29.571
[6] General Public Subscription Identifier Pei 3GPP TS 29.571 [6] Permanent
Equipment Identifier ExternalClientType 3GPP TS 29.572 [25] LCS Client Type
(Emergency, Lawful Interception ...) LocationQoS 3GPP TS 29.572 [25] LCS QoS
(accuracy, response time) SupportedGADShapes 3GPP TS 29.572 [25] LCS supported
GAD shapes GeographicArea 3GPP TS 29.572 [25] Estimate of the location of the
UE AccuracyFulfilmentIndicator 3GPP TS 29.572 [25] Requested accuracy was
fulfilled or not AgeOfLocationEstimate 3GPP TS 29.572 [25] Age Of Location
Estimate PositioningMethodAndUsage 3GPP TS 29.572 [25] Usage of each non-GANSS
positioning method VelocityEstimate 3GPP TS 29.572 [25] Estimate of the
velocity of the target UE VelocityRequested 3GPP TS 29.572 [25] Indication of
the Velocity requirement LcsPriority 3GPP TS 29.572 [25] Priority of the LCS
client GnssPositioningMethodAndUsage 3GPP TS 29.572 [25] Usage of each GANSS
positioning method CivicAddress 3GPP TS 29.572 [25] Civic address
BarometricPressure 3GPP TS 29.572 [25] Barometric Pressure Altitude 3GPP TS
29.572 [25] Altitude estimate of the UE LocalArea 3GPP TS 29.572 [25] Local
area specified by different shape MinorLocationQoS 3GPP TS 29.572 [25] Minor
Location QoS Ecgi 3GPP TS 29.571 [6] UE EUTRAN cell information Ncgi 3GPP TS
29.571 [6] UE NR cell information SupportedFeatures 3GPP TS 29.571 [6]
Supported Features RatType 3GPP TS 29.571 [6] RAT type TimeZone 3GPP TS 29.571
[6] Time Zone DateTime 3GPP TS 29.571 [6] Date and Time UserLocation 3GPP TS
29.571 [6] User Location LcsServiceType 3GPP TS 29.572 [25] The LCS service
type LdrType 3GPP TS 29.572 [25] The type of LDR for deferred location Uri
3GPP TS 29.571 [6] URI LdrReference 3GPP TS 29.572 [25] LDR Reference Number
for deferred location LirReference 3GPP TS 29.572 [25] LIR Reference Number
for immediate location PeriodicEventInfo 3GPP TS 29.572 [25] Information for
periodic event reporting AreaEventInfo 3GPP TS 29.572 [25] Information for
area event reporting MotionEventInfo 3GPP TS 29.572 [25] Information for
motion event reporting ExternalClientIdentification 3GPP TS 29.515 [46]
External LCS client identification NFInstanceId 3GPP TS 29.571 [6]
Identification of an NF or AF CodeWord 3GPP TS 29.515 [46] Codeword for a 5GC-
MT-LR or deferred 5GC-MT-LR LMFIdentification 3GPP TS 29.572 [25]
Identification of a serving LMF for periodic or triggered location
TerminationCause 3GPP TS 29.572 [25] Termination cause for a deferred location
UePrivacyRequirements 3GPP TS 29.515 [46] The location related privacy
requirements on UE DiameterIdentity 3GPP TS 29.571 [6] Diameter Identity
ProblemDetails 3GPP TS 29.571 [6] Detailed problems in failure case
RedirectResponse 3GPP TS 29.571 [6] Response body of the redirect response
message. E164Number 3GPP TS 29.503 [35] The E.164 number. DurationSec 3GPP TS
29.571 [6] Duration Second ReportingArea 3GPP TS 29.572 [25] Indicates an area
for event reporting ReportingInd 3GPP TS 29.515 [46] Reporting Indication
RangingSlResult 3GPP TS 29.572 [25] Indicates result type for ranging and
sidelink positioning RelatedUE 3GPP TS 29.572 [25] Indicates information for
related UE for ranging and sidelink positioning LosNlosMeasureInd 3GPP TS
29.572 [25] LOS/NLOS measurement indication IndoorOutdoorInd 3GPP TS 29.572
[25] Indicates Indoor Outdoor Indication IntegrityRequirements 3GPP TS 29.515
[46] Integrity Requirements HighAccuracyGnssMetrics 3GPP TS 29.572 [25] High
Accuracy GNSS Metrics
#### 6.4.6.2 Structured data types
##### 6.4.6.2.1 Introduction
Structured data types used in Namf_Location service are specified in this
clause.
##### 6.4.6.2.2 Type: RequestPosInfo
Table 6.4.6.2.2-1: Definition of type RequestPosInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | lcsClientType | Exter | M | 1 | This IE shall | | | nalClientType | | | contain the | | | | | | type of LCS | | | | | | client | | | | | | (Emergency, | | | | | | Lawful | | | | | | Interception | | | | | | etc.,.) | | | | | | issuing the | | | | | | location | | | | | | request | +---------------+---------------+---+-------------+---------------+ | lcsLocation | LocationType | M | 1 | This IE shall | | | | | | contain the | | | | | | type of | | | | | | location | | | | | | measurement | | | | | | requested, | | | | | | such as | | | | | | current | | | | | | loc | | | | | | ation,current | | | | | | or last known | | | | | | location, | | | | | | deferred | | | | | | location, | | | | | | etc. | | | | | | | | | | | | (NOTE 2) | +---------------+---------------+---+-------------+---------------+ | supi | Supi | C | 0..1 | If the SUPI | | | | | | is available, | | | | | | this IE shall | | | | | | be present. | +---------------+---------------+---+-------------+---------------+ | gpsi | Gpsi | C | 0..1 | If the GPSI | | | | | | is available, | | | | | | this IE shall | | | | | | be present. | +---------------+---------------+---+-------------+---------------+ | requestedRa | array(Ran | C | 1..N | This IE shall | | ngingSlResult | gingSlResult) | | | contain the | | | | | | type of | | | | | | result | | | | | | requested for | | | | | | ranging and | | | | | | sidelink | | | | | | positioning, | | | | | | such as | | | | | | absolute | | | | | | locations, | | | | | | relative | | | | | | locations or | | | | | | ranges and | | | | | | directions | | | | | | related to | | | | | | the UEs, etc. | +---------------+---------------+---+-------------+---------------+ | relatedUEs | arr | C | 1..N | This IE | | | ay(RelatedUE) | | | contains a | | | | | | list of the | | | | | | information | | | | | | for the | | | | | | related UEs | | | | | | for the | | | | | | ranging and | | | | | | sidelink | | | | | | positioning. | +---------------+---------------+---+-------------+---------------+ | lmfId | LMFI | O | 0..1 | LMF | | | dentification | | | id | | | | | | entification. | | | | | | | | | | | | If present, | | | | | | this IE shall | | | | | | indicate the | | | | | | LMF ID that | | | | | | should be | | | | | | used to | | | | | | select the | | | | | | LMF. | +---------------+---------------+---+-------------+---------------+ | priority | LcsPriority | O | 0..1 | If present, | | | | | | this IE shall | | | | | | contain the | | | | | | priority of | | | | | | the LCS | | | | | | client | | | | | | issuing the | | | | | | positioning | | | | | | request. | +---------------+---------------+---+-------------+---------------+ | lcsQoS | LocationQoS | O | 0..1 | If present, | | | | | | this IE shall | | | | | | contain the | | | | | | quality of | | | | | | service | | | | | | requested, | | | | | | such as the | | | | | | accuracy of | | | | | | the | | | | | | positioning | | | | | | measurement | | | | | | and the | | | | | | response time | | | | | | of the | | | | | | positioning | | | | | | operation. | | | | | | | | | | | | Multiple QoS | | | | | | Class | | | | | | (lcsQosClass | | | | | | sets to | | | | | | \"MUL | | | | | | TIPLE_QOS\") | | | | | | shall only be | | | | | | used when AMF | | | | | | support | | | | | | MUTIQOS | | | | | | feature. | +---------------+---------------+---+-------------+---------------+ | velo | Velo | O | 0..1 | If present, | | cityRequested | cityRequested | | | this IE shall | | | | | | contain an | | | | | | indication of | | | | | | whether or | | | | | | not the | | | | | | Velocity of | | | | | | the target UE | | | | | | is requested. | +---------------+---------------+---+-------------+---------------+ | lcsSuppo | Suppo | O | 0..1 | If present, | | rtedGADShapes | rtedGADShapes | | | this IE shall | | | | | | contain one | | | | | | GAD shape | | | | | | supported by | | | | | | the LCS | | | | | | client. | +---------------+---------------+---+-------------+---------------+ | additional | array(Suppor | C | 1..N | Shall be | | SuppGADShapes | tedGADShapes) | | | absent if | | | | | | lcsSuppo | | | | | | rtedGADShapes | | | | | | is absent.\ | | | | | | Shall be | | | | | | present if | | | | | | the LCS | | | | | | client | | | | | | supports more | | | | | | than one GAD | | | | | | shape. | +---------------+---------------+---+-------------+---------------+ | locationNo | Uri | O | 0..1 | The callback | | tificationUri | | | | URI on which | | | | | | location | | | | | | change event | | | | | | notification | | | | | | is reported. | +---------------+---------------+---+-------------+---------------+ | supp | Supp | C | 0..1 | This IE shall | | ortedFeatures | ortedFeatures | | | be present if | | | | | | at least one | | | | | | optional | | | | | | feature | | | | | | defined in | | | | | | clause 6.4.8 | | | | | | is supported. | +---------------+---------------+---+-------------+---------------+ | oldGuami | Guami | C | 0..1 | This IE shall | | | | | | be present | | | | | | during an AMF | | | | | | planned | | | | | | removal | | | | | | procedure | | | | | | when the NF | | | | | | Service | | | | | | Consumer | | | | | | initiates a | | | | | | request | | | | | | towards the | | | | | | target AMF, | | | | | | for a UE | | | | | | associated to | | | | | | an AMF that | | | | | | is | | | | | | unavailable | | | | | | (see clause | | | | | | 5.21.2.2 of | | | | | | 3GPP TS 2 | | | | | | 3.501 [2]). | +---------------+---------------+---+-------------+---------------+ | pei | Pei | C | 0..1 | This IE shall | | | | | | be present if | | | | | | supi and gpsi | | | | | | are not | | | | | | available. | +---------------+---------------+---+-------------+---------------+ | l | L | O | 0..1 | This IE | | csServiceType | csServiceType | | | contains the | | | | | | LCS service | | | | | | type for an | | | | | | external | | | | | | client. | | | | | | | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | ldrType | LdrType | C | 0..1 | This IE | | | | | | contains the | | | | | | type of LDR | | | | | | for a | | | | | | deferred | | | | | | location | | | | | | request. This | | | | | | IE shall be | | | | | | present when | | | | | | lcsLocation | | | | | | is set to | | | | | | \"DEFERRED | | | | | | _LOCATION\". | +---------------+---------------+---+-------------+---------------+ | hgm | Uri | C | 0..1 | This IE | | lcCallBackURI | | | | contains the | | | | | | callback URI | | | | | | of the | | | | | | H-GMLC. This | | | | | | IE shall be | | | | | | present when | | | | | | lcsLocation | | | | | | is set to | | | | | | \"DEFERRED | | | | | | _LOCATION\". | | | | | | | | | | | | This IE shall | | | | | | also be | | | | | | present for | | | | | | location | | | | | | service in | | | | | | PNI-NPN with | | | | | | signalling | | | | | | optimisation, | | | | | | as specified | | | | | | in | | | | | | 3GPP TS | | | | | | 23.273 [42] | | | | | | clause 6.1.2. | +---------------+---------------+---+-------------+---------------+ | lirGm | Uri | C | 0..1 | This IE shall | | lcCallBackUri | | | | be present | | | | | | when the | | | | | | intermedia | | | | | | teLocationInd | | | | | | IE is present | | | | | | with the | | | | | | value | | | | | | \"true\". | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | contain | | | | | | callback URI | | | | | | of the GMLC | | | | | | to receive | | | | | | the | | | | | | intermediate | | | | | | location | | | | | | reports. | +---------------+---------------+---+-------------+---------------+ | ldrReference | LdrReference | C | 0..1 | This IE | | | | | | contains the | | | | | | LDR Reference | | | | | | Number. | | | | | | | | | | | | This IE shall | | | | | | be present | | | | | | when | | | | | | lcsLocation | | | | | | is set to | | | | | | \"DEFERRED | | | | | | _LOCATION\". | | | | | | | | | | | | This IE shall | | | | | | be present | | | | | | for location | | | | | | service in | | | | | | PNI-NPN with | | | | | | signalling | | | | | | optimisation, | | | | | | as specified | | | | | | in | | | | | | 3GPP TS | | | | | | 23.273 [42] | | | | | | clause 6.1.2. | +---------------+---------------+---+-------------+---------------+ | lirReference | LirReference | C | 0..1 | This IE shall | | | | | | be present | | | | | | when the | | | | | | intermedia | | | | | | teLocationInd | | | | | | IE is present | | | | | | with the | | | | | | value | | | | | | \"true\". | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | LIR Reference | | | | | | Number for a | | | | | | multiple | | | | | | location | | | | | | request | +---------------+---------------+---+-------------+---------------+ | peri | Peri | C | 0..1 | This IE | | odicEventInfo | odicEventInfo | | | contains | | | | | | information | | | | | | for periodic | | | | | | event | | | | | | reporting for | | | | | | a deferred | | | | | | location | | | | | | request. This | | | | | | IE shall be | | | | | | present when | | | | | | ldrType is | | | | | | set to | | | | | | \"PERIODIC\". | +---------------+---------------+---+-------------+---------------+ | areaEventInfo | AreaEventInfo | C | 0..1 | This IE | | | | | | contains | | | | | | information | | | | | | for area | | | | | | event | | | | | | reporting for | | | | | | a deferred | | | | | | location | | | | | | request. This | | | | | | IE shall be | | | | | | present when | | | | | | ldrType is | | | | | | set to | | | | | | \"ENTERING_ | | | | | | INTO_AREA\", | | | | | | \"LEAVING\ | | | | | | _FROM_AREA\" | | | | | | or | | | | | | \"BEING_IN | | | | | | SIDE_AREA\". | +---------------+---------------+---+-------------+---------------+ | mo | Mo | C | 0..1 | This IE | | tionEventInfo | tionEventInfo | | | contains | | | | | | information | | | | | | for motion | | | | | | event | | | | | | reporting for | | | | | | a deferred | | | | | | location | | | | | | request. This | | | | | | IE shall be | | | | | | present when | | | | | | ldrType is | | | | | | set to | | | | | | \"MOTION\". | +---------------+---------------+---+-------------+---------------+ | ex | Ex | O | 0..1 | This IE | | ternalClientI | ternalClientI | | | provides the | | dentification | dentification | | | external LCS | | | | | | client | | | | | | i | | | | | | dentification | | | | | | (e.g. the | | | | | | name of the | | | | | | LCS client). | | | | | | | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | afID | NfInstanceId | O | 0..1 | This IE | | | | | | provides the | | | | | | i | | | | | | dentification | | | | | | of an AF that | | | | | | initiated the | | | | | | location | | | | | | request. | | | | | | | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | codeWord | CodeWord | O | 0..1 | This IE | | | | | | provides a | | | | | | codeword for | | | | | | a location | | | | | | request which | | | | | | is provided | | | | | | by an | | | | | | external | | | | | | Client or AF | | | | | | and is sent | | | | | | to and | | | | | | verified by a | | | | | | target UE as | | | | | | part of | | | | | | privacy | | | | | | verification. | | | | | | | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | uePrivac | UePrivac | O | 0..1 | If present, | | yRequirements | yRequirements | | | the IE | | | | | | provides the | | | | | | indication of | | | | | | location | | | | | | related | | | | | | notification | | | | | | or | | | | | | verification | | | | | | for the | | | | | | target UE, | | | | | | the | | | | | | indication of | | | | | | codeword | | | | | | check in UE | +---------------+---------------+---+-------------+---------------+ | sch | DateTime | O | 0..1 | If present, | | eduledLocTime | | | | the IE | | | | | | provides the | | | | | | scheduled UTC | | | | | | time that the | | | | | | UE needs to | | | | | | be located. | +---------------+---------------+---+-------------+---------------+ | r | boolean | C | 0..1 | This IE shall | | eliableLocReq | | | | be included | | | | | | with the | | | | | | value | | | | | | \"true\" to | | | | | | indicate that | | | | | | reliable UE | | | | | | location | | | | | | information | | | | | | is required, | | | | | | as specified | | | | | | in | | | | | | 3GPP TS | | | | | | 33.256 [57] | | | | | | clause 5.3.2. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | be set as | | | | | | following: | | | | | | | | | | | | - true: the | | | | | | reliable UE | | | | | | location | | | | | | information | | | | | | is required | | | | | | | | | | | | - false | | | | | | (default): | | | | | | the reliable | | | | | | UE location | | | | | | information | | | | | | is not | | | | | | required | +---------------+---------------+---+-------------+---------------+ | intermedia | boolean | C | 0..1 | This IE shall | | teLocationInd | | | | be present | | | | | | with the | | | | | | value | | | | | | \"true\" to | | | | | | indicate the | | | | | | acceptance of | | | | | | intermediate | | | | | | location | | | | | | responses for | | | | | | the NF | | | | | | consumer | | | | | | (i.e., the | | | | | | GMLC), during | | | | | | a 5GC-MT-LR | | | | | | multiple | | | | | | location | | | | | | procedure for | | | | | | the | | | | | | regulatory | | | | | | location | | | | | | service (see | | | | | | clause 6.1.3 | | | | | | and | | | | | | clause 6.10.4 | | | | | | of | | | | | | 3GPP TS 23 | | | | | | .273 [42]). | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | acceptance of | | | | | | intermediate | | | | | | location | | | | | | response at | | | | | | the NF | | | | | | consumer: | | | | | | | | | | | | - true: | | | | | | intermediate | | | | | | location | | | | | | response | | | | | | acceptable | | | | | | | | | | | | - false | | | | | | (default): | | | | | | intermediate | | | | | | location | | | | | | response not | | | | | | acceptable | +---------------+---------------+---+-------------+---------------+ | maxRespTime | DurationSec | C | 0..1 | This IE shall | | | | | | be present | | | | | | when the | | | | | | intermedia | | | | | | teLocationInd | | | | | | IE is present | | | | | | with the | | | | | | value | | | | | | \"true\". | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | maximum | | | | | | response time | | | | | | for the NF | | | | | | consumer to | | | | | | receive the | | | | | | FINAL | | | | | | location | | | | | | response. | | | | | | | | | | | | The AMF may | | | | | | overwrite the | | | | | | maximum | | | | | | response time | | | | | | when passing | | | | | | it to the | | | | | | LMF, e.g., to | | | | | | avoid timeout | | | | | | of the HTTP | | | | | | service | | | | | | request. | +---------------+---------------+---+-------------+---------------+ | ueUnawareInd | boolean | C | 0..1 | This IE shall | | | | | | be included | | | | | | and set to | | | | | | \"true\", if | | | | | | the UE | | | | | | Unaware | | | | | | Positioning | | | | | | is required, | | | | | | as specified | | | | | | in | | | | | | clause 6.1.1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 3.273 [42]. | | | | | | | | | | | | Presence of | | | | | | this IE with | | | | | | false value | | | | | | shall be | | | | | | prohibited. | +---------------+---------------+---+-------------+---------------+ | lpHapType | LpHapType | C | 0..1 | This IE shall | | | | | | be included | | | | | | and set to | | | | | | \"L | | | | | | OW_POW_HIGH | | | | | | _ACCU_POS\" | | | | | | to request | | | | | | low power and | | | | | | high accuracy | | | | | | positioning, | | | | | | as specified | | | | | | in | | | | | | clause 6.1.2 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 3.273 [42]. | +---------------+---------------+---+-------------+---------------+ | evtRp | array(R | O | 1..250 | If present, | | tAllowedAreas | eportingArea) | | | this IE shall | | | | | | contain the | | | | | | list of event | | | | | | report | | | | | | allowed | | | | | | areas, where | | | | | | UE is allowed | | | | | | to generate | | | | | | and send the | | | | | | event report | | | | | | to network | | | | | | during the | | | | | | deferred | | | | | | 5GC-MT-LR | | | | | | procedure for | | | | | | UE power | | | | | | saving | | | | | | purpose. | +---------------+---------------+---+-------------+---------------+ | reportingInd | ReportingInd | O | 0..1 | This IE may | | | | | | be present if | | | | | | the event | | | | | | report | | | | | | allowed area | | | | | | is present. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | mutually | | | | | | exclusive | | | | | | global | | | | | | settings: | | | | | | | | | | | | > \- Opposite | | | | | | > sense | | | | | | > | | | | | | > \- Positive | | | | | | > sense | | | | | | > (default) | | | | | | | | | | | | (see | | | | | | 3GPP TS | | | | | | 23.273 [42\ | | | | | | ] clause 5.14 | | | | | | and 6.1.13) | +---------------+---------------+---+-------------+---------------+ | integrit | Integrit | O | 0..1 | When present, | | yRequirements | yRequirements | | | this IE shall | | | | | | indicate the | | | | | | integrity | | | | | | requirements. | +---------------+---------------+---+-------------+---------------+ | NOTE 1: At | | | | | | least one of | | | | | | these IEs | | | | | | should be | | | | | | present when | | | | | | uePrivac | | | | | | yCallSessionU | | | | | | nrelatedClass | | | | | | indicates | | | | | | notification | | | | | | and/or | | | | | | verification | | | | | | for the | | | | | | target UE. | | | | | | | | | | | | NOTE 2: If | | | | | | the | | | | | | lcsLocation | | | | | | IE is set to | | | | | | value | | | | | | \"NOTIFICAT | | | | | | ION_VERIFICA | | | | | | TION_ONLY\", | | | | | | then the | | | | | | lcsSe | | | | | | rviceAuthInfo | | | | | | attribute in | | | | | | the | | | | | | uePrivac | | | | | | yRequirements | | | | | | IE, if | | | | | | present, | | | | | | shall be set | | | | | | to either | | | | | | \"NOTIFIC | | | | | | ATION_ONLY\" | | | | | | or | | | | | | \"N | | | | | | OTIFICATION_ | | | | | | AND_VERIFICA | | | | | | TION_ONLY\". | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.4.6.2.3 Type: ProvidePosInfo
Table 6.4.6.2.3-1: Definition of type ProvidePosInfo
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | locatio | Geogr | O | 0..1 | If | | | nEstimate | aphicArea | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | an | | | | | | | estimate | | | | | | | of the | | | | | | | location | | | | | | | of the UE | | | | | | | in | | | | | | | universal | | | | | | | co | | | | | | | ordinates | | | | | | | and the | | | | | | | accuracy | | | | | | | of the | | | | | | | estimate. | | +-----------+-----------+---+-----------+-----------+-----------+ | loc | LocalArea | O | 0..1 | When | | | alLocatio | | | | present, | | | nEstimate | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | a local | | | | | | | area in | | | | | | | r | | | | | | | enference | | | | | | | system. | | +-----------+-----------+---+-----------+-----------+-----------+ | accuracyF | AccuracyF | O | 0..1 | If | | | ulfilment | ulfilment | | | present, | | | Indicator | Indicator | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | an | | | | | | | i | | | | | | | ndication | | | | | | | of | | | | | | | whether | | | | | | | the | | | | | | | requested | | | | | | | accuracy | | | | | | | (as | | | | | | | indicated | | | | | | | in the | | | | | | | LcsQoS in | | | | | | | the | | | | | | | request | | | | | | | message) | | | | | | | was | | | | | | | fulfilled | | | | | | | or not. | | +-----------+-----------+---+-----------+-----------+-----------+ | age | Age | O | 0..1 | If | | | OfLocatio | OfLocatio | | | present, | | | nEstimate | nEstimate | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | an | | | | | | | i | | | | | | | ndication | | | | | | | of how | | | | | | | long ago | | | | | | | the | | | | | | | location | | | | | | | estimate | | | | | | | was | | | | | | | obtained. | | +-----------+-----------+---+-----------+-----------+-----------+ | timestamp | DateTime | O | 0..1 | When | | | OfLocatio | | | | present, | | | nEstimate | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | estimated | | | | | | | UTC time | | | | | | | when the | | | | | | | location | | | | | | | estimate | | | | | | | cor | | | | | | | responded | | | | | | | to the UE | | | | | | | location | | | | | | | (i.e. | | | | | | | when the | | | | | | | location | | | | | | | estimate | | | | | | | and the | | | | | | | actual UE | | | | | | | location | | | | | | | was the | | | | | | | same). | | +-----------+-----------+---+-----------+-----------+-----------+ | velocit | Velocit | O | 0..1 | If | | | yEstimate | yEstimate | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | an | | | | | | | estimate | | | | | | | of the | | | | | | | velocity | | | | | | | of the | | | | | | | target | | | | | | | UE, | | | | | | | composed | | | | | | | by | | | | | | | h | | | | | | | orizontal | | | | | | | speed, | | | | | | | vertical | | | | | | | speed, | | | | | | | and their | | | | | | | r | | | | | | | espective | | | | | | | unc | | | | | | | ertainty. | | +-----------+-----------+---+-----------+-----------+-----------+ | p | array | O | 0..9 | If | | | ositionin | (Position | | | present, | | | gDataList | ingMethod | | | this IE | | | | AndUsage) | | | shall | | | | | | | indicate | | | | | | | the usage | | | | | | | of each | | | | | | | non- | | | | | | | GANSS | | | | | | | po | | | | | | | sitioning | | | | | | | method | | | | | | | that was | | | | | | | attempted | | | | | | | to | | | | | | | determine | | | | | | | the | | | | | | | location | | | | | | | estimate, | | | | | | | either | | | | | | | suc | | | | | | | cessfully | | | | | | | or | | | | | | | unsucc | | | | | | | essfully. | | +-----------+-----------+---+-----------+-----------+-----------+ | gnssP | array(Gns | O | 0..9 | If | | | ositionin | sPosition | | | present, | | | gDataList | ingMethod | | | this IE | | | | AndUsage) | | | shall | | | | | | | indicate | | | | | | | the usage | | | | | | | of each | | | | | | | GANSS | | | | | | | po | | | | | | | sitioning | | | | | | | method | | | | | | | that was | | | | | | | attempted | | | | | | | to | | | | | | | determine | | | | | | | the | | | | | | | location | | | | | | | estimate, | | | | | | | either | | | | | | | suc | | | | | | | cessfully | | | | | | | or | | | | | | | unsucc | | | | | | | essfully. | | +-----------+-----------+---+-----------+-----------+-----------+ | ecgi | Ecgi | O | 0..1 | If | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | current | | | | | | | EUTRAN | | | | | | | cell | | | | | | | location | | | | | | | of the | | | | | | | target UE | | | | | | | as | | | | | | | delivered | | | | | | | by the | | | | | | | 5G-AN. | | +-----------+-----------+---+-----------+-----------+-----------+ | ncgi | Ncgi | O | 0..1 | If | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | current | | | | | | | NR cell | | | | | | | location | | | | | | | of the | | | | | | | target UE | | | | | | | as | | | | | | | delivered | | | | | | | by the | | | | | | | 5G-AN. | | +-----------+-----------+---+-----------+-----------+-----------+ | targetSe | NfI | O | 0..1 | If | | | rvingNode | nstanceId | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | address | | | | | | | of the | | | | | | | target | | | | | | | side | | | | | | | serving | | | | | | | node for | | | | | | | intra-5GS | | | | | | | handover | | | | | | | of an IMS | | | | | | | Emergency | | | | | | | Call. | | +-----------+-----------+---+-----------+-----------+-----------+ | targ | Diamete | C | 0..1 | This IE | | | etMmeName | rIdentity | | | shall be | | | | | | | present | | | | | | | for | | | | | | | handover | | | | | | | of IMS | | | | | | | emergency | | | | | | | call to | | | | | | | EPS, i.e. | | | | | | | the | | | | | | | target | | | | | | | node is | | | | | | | an MME. | | | | | | | | | | | | | | This IE | | | | | | | may also | | | | | | | be | | | | | | | present | | | | | | | for a | | | | | | | handover | | | | | | | from 5GS | | | | | | | to EPS. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | Diameter | | | | | | | host name | | | | | | | of the | | | | | | | target | | | | | | | MME. | | +-----------+-----------+---+-----------+-----------+-----------+ | targe | Diamete | C | 0..1 | This IE | | | tMmeRealm | rIdentity | | | shall be | | | | | | | present | | | | | | | for | | | | | | | handover | | | | | | | of IMS | | | | | | | emergency | | | | | | | call to | | | | | | | EPS, i.e. | | | | | | | the | | | | | | | target | | | | | | | node is | | | | | | | an MME. | | | | | | | | | | | | | | This IE | | | | | | | may also | | | | | | | be | | | | | | | present | | | | | | | for a | | | | | | | handover | | | | | | | from 5GS | | | | | | | to EPS. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | Diameter | | | | | | | realm of | | | | | | | the | | | | | | | target | | | | | | | MME. | | +-----------+-----------+---+-----------+-----------+-----------+ | utra | boolean | C | 0..1 | This IE | | | nSrvccInd | | | | shall be | | | | | | | present | | | | | | | with | | | | | | | value | | | | | | | \"true\" | | | | | | | for | | | | | | | 5G-SRVCC | | | | | | | to 3GPP | | | | | | | UTRAN of | | | | | | | IMS | | | | | | | emergency | | | | | | | call, | | | | | | | i.e. | | | | | | | target | | | | | | | node is | | | | | | | an MSC. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall be | | | | | | | set for | | | | | | | the | | | | | | | following | | | | | | | value: | | | | | | | | | | | | | | - true: | | | | | | | IMS | | | | | | | emergency | | | | | | | call | | | | | | | handover | | | | | | | to UTRAN | | | | | | | | | | | | | | - false: | | | | | | | No IMS | | | | | | | emergency | | | | | | | call | | | | | | | handover | | | | | | | to UTRAN | | +-----------+-----------+---+-----------+-----------+-----------+ | civ | Civ | O | 0..1 | If | | | icAddress | icAddress | | | present, | | | | | | | this IE | | | | | | | contains | | | | | | | a | | | | | | | location | | | | | | | estimate | | | | | | | for the | | | | | | | target UE | | | | | | | expressed | | | | | | | as a | | | | | | | Civic | | | | | | | address. | | +-----------+-----------+---+-----------+-----------+-----------+ | barometri | Barometri | O | 0..1 | If | | | cPressure | cPressure | | | present, | | | | | | | this IE | | | | | | | contains | | | | | | | the | | | | | | | b | | | | | | | arometric | | | | | | | pressure | | | | | | | me | | | | | | | asurement | | | | | | | as | | | | | | | reported | | | | | | | by the | | | | | | | target | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | altitude | Altitude | O | 0..1 | If | | | | | | | present, | | | | | | | this IE | | | | | | | indicates | | | | | | | the | | | | | | | altitude | | | | | | | of the | | | | | | | po | | | | | | | sitioning | | | | | | | estimate. | | +-----------+-----------+---+-----------+-----------+-----------+ | supporte | Supporte | C | 0..1 | This IE | | | dFeatures | dFeatures | | | shall be | | | | | | | present | | | | | | | if at | | | | | | | least one | | | | | | | optional | | | | | | | feature | | | | | | | defined | | | | | | | in clause | | | | | | | 6.4.8 is | | | | | | | s | | | | | | | upported. | | +-----------+-----------+---+-----------+-----------+-----------+ | servin | LMFIdent | O | 0..1 | If | | | gLMFIdent | ification | | | present, | | | ification | | | | this IE | | | | | | | contains | | | | | | | the | | | | | | | ident | | | | | | | ification | | | | | | | of a | | | | | | | serving | | | | | | | LMF for | | | | | | | periodic | | | | | | | or | | | | | | | triggered | | | | | | | location | | +-----------+-----------+---+-----------+-----------+-----------+ | locati | Locati | O | 0..1 | If | | | onPrivacy | onPrivacy | | | present, | | | VerResult | VerResult | | | this IE | | | | | | | contains | | | | | | | the | | | | | | | result of | | | | | | | location | | | | | | | privacy | | | | | | | ver | | | | | | | ification | | | | | | | by UE | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | ac | MinorLo | C | 0..1 | When | MUTIQOS | | hievedQos | cationQoS | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | achieved | | | | | | | Location | | | | | | | QoS | | | | | | | Accuracy | | | | | | | of the | | | | | | | estimated | | | | | | | location. | | | | | | | | | | | | | | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | received | | | | | | | from LMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | direct | boolean | C | 0..1 | When | | | ReportInd | | | | present, | | | | | | | this IE | | | | | | | shall be | | | | | | | set for | | | | | | | the | | | | | | | following | | | | | | | value: | | | | | | | | | | | | | | - true: | | | | | | | location | | | | | | | dete | | | | | | | rmination | | | | | | | will be | | | | | | | sent by | | | | | | | LMF to | | | | | | | GMLC | | | | | | | directly | | | | | | | | | | | | | | - false | | | | | | | ( | | | | | | | default): | | | | | | | location | | | | | | | dete | | | | | | | rmination | | | | | | | will not | | | | | | | be sent | | | | | | | by LMF to | | | | | | | GMLC | | | | | | | directly | | | | | | | | | | | | | | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | received | | | | | | | from LMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | accepte | Periodic | C | 0..1 | This IE | | | dPeriodic | EventInfo | | | shall be | | | EventInfo | | | | present | | | | | | | if | | | | | | | received | | | | | | | from LMF. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | provide | | | | | | | the | | | | | | | accepted | | | | | | | periodic | | | | | | | event | | | | | | | reporting | | | | | | | inf | | | | | | | ormation. | | +-----------+-----------+---+-----------+-----------+-----------+ | haGn | HighA | C | 0..1 | This IE | | | ssMetrics | ccuracyGn | | | should be | | | | ssMetrics | | | included | | | | | | | when | | | | | | | received | | | | | | | from LMF. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the high | | | | | | | accuracy | | | | | | | GNSS | | | | | | | metrics | | | | | | | for the | | | | | | | location | | | | | | | estimate. | | +-----------+-----------+---+-----------+-----------+-----------+ | indoorO | IndoorO | O | 0..1 | When | | | utdoorInd | utdoorInd | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | whether | | | | | | | the UE is | | | | | | | indoor or | | | | | | | outdoor. | | +-----------+-----------+---+-----------+-----------+-----------+ | losNlosM | LosNlosM | O | 0..1 | When | | | easureInd | easureInd | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | whether | | | | | | | LOS | | | | | | | me | | | | | | | asurement | | | | | | | or NLOS | | | | | | | me | | | | | | | asurement | | | | | | | is used. | | +-----------+-----------+---+-----------+-----------+-----------+ | losNlosM | LosNlosM | O | 0..1 | When | | | easureInd | easureInd | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | whether | | | | | | | LOS | | | | | | | me | | | | | | | asurement | | | | | | | or NLOS | | | | | | | me | | | | | | | asurement | | | | | | | is used. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: The | | | | | | | IE may be | | | | | | | included | | | | | | | to | | | | | | | indicate | | | | | | | the | | | | | | | result of | | | | | | | location | | | | | | | privacy | | | | | | | ver | | | | | | | ification | | | | | | | by UE to | | | | | | | (H)GMLC | | | | | | | when a | | | | | | | location | | | | | | | request | | | | | | | with | | | | | | | not | | | | | | | ification | | | | | | | and | | | | | | | privacy | | | | | | | ver | | | | | | | ification | | | | | | | only | | | | | | | i | | | | | | | ndication | | | | | | | is sent | | | | | | | to the | | | | | | | serving | | | | | | | AMF by | | | | | | | (H)GMLC | | | | | | | during | | | | | | | location | | | | | | | request | | | | | | | p | | | | | | | rocedure. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.4.6.2.4 Type: NotifiedPosInfo
Table 6.4.6.2.4-1: Definition of type NotifiedPosInfo
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | loca | Loca | M | 1 | This IE | | | tionEvent | tionEvent | | | shall | | | | | | | contain | | | | | | | the type | | | | | | | of event | | | | | | | that | | | | | | | caused | | | | | | | the | | | | | | | location | | | | | | | procedure | | | | | | | to be | | | | | | | i | | | | | | | nitiated. | | +-----------+-----------+---+-----------+-----------+-----------+ | supi | Supi | C | 0..1 | This IE | | | | | | | shall | | | | | | | contain | | | | | | | the SUPI | | | | | | | if | | | | | | | available | | | | | | | (see NOTE | | | | | | | 1). | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | C | 0..1 | This IE | | | | | | | shall | | | | | | | contain | | | | | | | the GPSI | | | | | | | if | | | | | | | available | | | | | | | (see NOTE | | | | | | | 1). | | +-----------+-----------+---+-----------+-----------+-----------+ | pei | Pei | C | 0..1 | This IE | | | | | | | shall | | | | | | | contain | | | | | | | the PEI | | | | | | | if | | | | | | | available | | | | | | | (see NOTE | | | | | | | 1). | | +-----------+-----------+---+-----------+-----------+-----------+ | locatio | Geogr | O | 0..1 | If | | | nEstimate | aphicArea | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | an | | | | | | | estimate | | | | | | | of the | | | | | | | location | | | | | | | of the UE | | | | | | | in | | | | | | | universal | | | | | | | co | | | | | | | ordinates | | | | | | | and the | | | | | | | accuracy | | | | | | | of the | | | | | | | estimate. | | +-----------+-----------+---+-----------+-----------+-----------+ | loc | LocalArea | O | 0..1 | When | | | alLocatio | | | | present, | | | nEstimate | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | a local | | | | | | | area in | | | | | | | r | | | | | | | enference | | | | | | | system. | | +-----------+-----------+---+-----------+-----------+-----------+ | age | Age | O | 0..1 | If | | | OfLocatio | OfLocatio | | | present, | | | nEstimate | nEstimate | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | an | | | | | | | i | | | | | | | ndication | | | | | | | of how | | | | | | | long ago | | | | | | | the | | | | | | | location | | | | | | | estimate | | | | | | | was | | | | | | | obtained. | | +-----------+-----------+---+-----------+-----------+-----------+ | timestamp | DateTime | O | 0..1 | When | | | OfLocatio | | | | present, | | | nEstimate | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | estimated | | | | | | | UTC time | | | | | | | when the | | | | | | | location | | | | | | | estimate | | | | | | | cor | | | | | | | responded | | | | | | | to the UE | | | | | | | location | | | | | | | (i.e. | | | | | | | when the | | | | | | | location | | | | | | | estimate | | | | | | | and the | | | | | | | actual UE | | | | | | | location | | | | | | | was the | | | | | | | same). | | +-----------+-----------+---+-----------+-----------+-----------+ | velocit | Velocit | O | 0..1 | If | | | yEstimate | yEstimate | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | an | | | | | | | estimate | | | | | | | of the | | | | | | | velocity | | | | | | | of the | | | | | | | target | | | | | | | UE, | | | | | | | composed | | | | | | | by | | | | | | | h | | | | | | | orizontal | | | | | | | speed, | | | | | | | vertical | | | | | | | speed, | | | | | | | and their | | | | | | | r | | | | | | | espective | | | | | | | unc | | | | | | | ertainty. | | +-----------+-----------+---+-----------+-----------+-----------+ | p | array | O | 0..9 | If | | | ositionin | (Position | | | present, | | | gDataList | ingMethod | | | this IE | | | | AndUsage) | | | shall | | | | | | | indicate | | | | | | | the usage | | | | | | | of each | | | | | | | non-GANSS | | | | | | | po | | | | | | | sitioning | | | | | | | method | | | | | | | that was | | | | | | | attempted | | | | | | | to | | | | | | | determine | | | | | | | the | | | | | | | location | | | | | | | estimate, | | | | | | | either | | | | | | | suc | | | | | | | cessfully | | | | | | | or | | | | | | | unsucc | | | | | | | essfully. | | +-----------+-----------+---+-----------+-----------+-----------+ | gnssP | array(Gns | O | 0..9 | If | | | ositionin | sPosition | | | present, | | | gDataList | ingMethod | | | this IE | | | | AndUsage) | | | shall | | | | | | | indicate | | | | | | | the usage | | | | | | | of each | | | | | | | GANSS | | | | | | | po | | | | | | | sitioning | | | | | | | method | | | | | | | that was | | | | | | | attempted | | | | | | | to | | | | | | | determine | | | | | | | the | | | | | | | location | | | | | | | estimate, | | | | | | | either | | | | | | | suc | | | | | | | cessfully | | | | | | | or | | | | | | | unsucc | | | | | | | essfully. | | +-----------+-----------+---+-----------+-----------+-----------+ | ecgi | Ecgi | O | 0..1 | If | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | current | | | | | | | EUTRAN | | | | | | | cell | | | | | | | location | | | | | | | of the | | | | | | | target UE | | | | | | | as | | | | | | | delivered | | | | | | | by the | | | | | | | 5G-AN. | | +-----------+-----------+---+-----------+-----------+-----------+ | ncgi | Ncgi | O | 0..1 | If | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | current | | | | | | | NR cell | | | | | | | location | | | | | | | of the | | | | | | | target UE | | | | | | | as | | | | | | | delivered | | | | | | | by the | | | | | | | 5G-AN. | | +-----------+-----------+---+-----------+-----------+-----------+ | se | NfI | O | 0..1 | If | | | rvingNode | nstanceId | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | address | | | | | | | of the | | | | | | | serving | | | | | | | node. For | | | | | | | intra-5GS | | | | | | | handover | | | | | | | of an IMS | | | | | | | Emergency | | | | | | | Call, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | address | | | | | | | of the | | | | | | | target | | | | | | | side | | | | | | | serving | | | | | | | node. For | | | | | | | mobility | | | | | | | of a UE | | | | | | | with | | | | | | | periodic | | | | | | | or | | | | | | | triggered | | | | | | | location, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | address | | | | | | | of the | | | | | | | new | | | | | | | serving | | | | | | | node, if | | | | | | | a | | | | | | | vailable. | | +-----------+-----------+---+-----------+-----------+-----------+ | targ | Diamete | C | 0..1 | This IE | | | etMmeName | rIdentity | | | shall be | | | | | | | present | | | | | | | for | | | | | | | handover | | | | | | | of IMS | | | | | | | emergency | | | | | | | call to | | | | | | | EPS, i.e. | | | | | | | the | | | | | | | target | | | | | | | node is | | | | | | | an MME. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | Diameter | | | | | | | host name | | | | | | | of the | | | | | | | target | | | | | | | MME. | | +-----------+-----------+---+-----------+-----------+-----------+ | targe | Diamete | C | 0..1 | This IE | | | tMmeRealm | rIdentity | | | shall be | | | | | | | present | | | | | | | for | | | | | | | handover | | | | | | | of IMS | | | | | | | emergency | | | | | | | call to | | | | | | | EPS, i.e. | | | | | | | the | | | | | | | target | | | | | | | node is | | | | | | | an MME. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | Diameter | | | | | | | realm of | | | | | | | the | | | | | | | target | | | | | | | MME. | | +-----------+-----------+---+-----------+-----------+-----------+ | utra | boolean | C | 0..1 | This IE | | | nSrvccInd | | | | shall be | | | | | | | present | | | | | | | with | | | | | | | value | | | | | | | \"true\" | | | | | | | for | | | | | | | 5G-SRVCC | | | | | | | to 3GPP | | | | | | | UTRAN of | | | | | | | IMS | | | | | | | emergency | | | | | | | call, | | | | | | | i.e. | | | | | | | target | | | | | | | node is | | | | | | | an MSC. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall be | | | | | | | set for | | | | | | | the | | | | | | | following | | | | | | | value: | | | | | | | | | | | | | | true: IMS | | | | | | | emergency | | | | | | | call | | | | | | | handover | | | | | | | to UTRAN | | | | | | | | | | | | | | false: No | | | | | | | IMS | | | | | | | emergency | | | | | | | call | | | | | | | handover | | | | | | | to UTRAN | | +-----------+-----------+---+-----------+-----------+-----------+ | civ | Civ | O | 0..1 | If | | | icAddress | icAddress | | | present, | | | | | | | this IE | | | | | | | contains | | | | | | | a | | | | | | | location | | | | | | | estimate | | | | | | | for the | | | | | | | target UE | | | | | | | expressed | | | | | | | as a | | | | | | | Civic | | | | | | | address. | | +-----------+-----------+---+-----------+-----------+-----------+ | barometri | Barometri | O | 0..1 | If | | | cPressure | cPressure | | | present, | | | | | | | this IE | | | | | | | contains | | | | | | | the | | | | | | | b | | | | | | | arometric | | | | | | | pressure | | | | | | | me | | | | | | | asurement | | | | | | | as | | | | | | | reported | | | | | | | by the | | | | | | | target | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | altitude | Altitude | O | 0..1 | If | | | | | | | present, | | | | | | | this IE | | | | | | | indicates | | | | | | | the | | | | | | | altitude | | | | | | | of the | | | | | | | po | | | | | | | sitioning | | | | | | | estimate. | | +-----------+-----------+---+-----------+-----------+-----------+ | hgmlcCa | Uri | C | 0..1 | This IE | | | llBackURI | | | | contains | | | | | | | the | | | | | | | callback | | | | | | | URI of | | | | | | | the | | | | | | | H-GMLC | | | | | | | | | | | | | | This IE | | | | | | | shall be | | | | | | | included | | | | | | | for a | | | | | | | loca | | | | | | | tionEvent | | | | | | | related | | | | | | | to | | | | | | | deferred | | | | | | | location | | | | | | | when the | | | | | | | consumer | | | | | | | NF is not | | | | | | | the | | | | | | | H-GMLC. | | +-----------+-----------+---+-----------+-----------+-----------+ | ldr | Ldr | C | 0..1 | This IE | | | Reference | Reference | | | contains | | | | | | | an LDR | | | | | | | R | | | | | | | eference. | | | | | | | | | | | | | | This IE | | | | | | | shall be | | | | | | | included | | | | | | | for a | | | | | | | loca | | | | | | | tionEvent | | | | | | | related | | | | | | | to | | | | | | | deferred | | | | | | | location. | | +-----------+-----------+---+-----------+-----------+-----------+ | servin | LMFIdent | C | 0..1 | This IE | | | gLMFIdent | ification | | | contains | | | ification | | | | the | | | | | | | ident | | | | | | | ification | | | | | | | of a | | | | | | | serving | | | | | | | LMF and | | | | | | | shall be | | | | | | | included | | | | | | | for a | | | | | | | loca | | | | | | | tionEvent | | | | | | | related | | | | | | | to | | | | | | | deferred | | | | | | | location | | | | | | | with | | | | | | | periodic | | | | | | | or | | | | | | | triggered | | | | | | | location | | | | | | | if a | | | | | | | serving | | | | | | | LMF is | | | | | | | used. | | +-----------+-----------+---+-----------+-----------+-----------+ | termina | Termina | C | 0..1 | This IE | | | tionCause | tionCause | | | indicates | | | | | | | a reason | | | | | | | for | | | | | | | te | | | | | | | rmination | | | | | | | and shall | | | | | | | be | | | | | | | included | | | | | | | for a | | | | | | | loca | | | | | | | tionEvent | | | | | | | related | | | | | | | to | | | | | | | deferred | | | | | | | location | | | | | | | if | | | | | | | deferred | | | | | | | location | | | | | | | has been | | | | | | | te | | | | | | | rminated. | | +-----------+-----------+---+-----------+-----------+-----------+ | ac | MinorLo | O | 0..1 | When | MUTIQOS | | hievedQos | cationQoS | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | achieved | | | | | | | Location | | | | | | | QoS | | | | | | | Accuracy | | | | | | | of the | | | | | | | estimated | | | | | | | location. | | | | | | | | | | | | | | This IE | | | | | | | shall be | | | | | | | present | | | | | | | if | | | | | | | received | | | | | | | from LMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | ms | E | O | 0..1 | This IE | | | cServerId | 164Number | | | may be | | | | | | | sent from | | | | | | | AMF to | | | | | | | GMLC, | | | | | | | during a | | | | | | | 5G-SRVCC | | | | | | | handover | | | | | | | from | | | | | | | NG-RAN to | | | | | | | UTRAN | | | | | | | p | | | | | | | rocedure. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the | | | | | | | inte | | | | | | | rnational | | | | | | | E.164 | | | | | | | number of | | | | | | | the MSC | | | | | | | Server | | | | | | | selected | | | | | | | by the | | | | | | | MM | | | | | | | E_SRVCC. | | +-----------+-----------+---+-----------+-----------+-----------+ | haGn | HighA | C | 0..1 | This IE | | | ssMetrics | ccuracyGn | | | should be | | | | ssMetrics | | | included | | | | | | | when | | | | | | | received | | | | | | | from LMF. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the high | | | | | | | accuracy | | | | | | | GNSS | | | | | | | metrics | | | | | | | for the | | | | | | | location | | | | | | | estimate. | | +-----------+-----------+---+-----------+-----------+-----------+ | indoorO | IndoorO | O | 0..1 | When | | | utdoorInd | utdoorInd | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | whether | | | | | | | the UE is | | | | | | | indoor or | | | | | | | outdoor. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | At least | | | | | | | one of | | | | | | | these IEs | | | | | | | shall be | | | | | | | present | | | | | | | in the | | | | | | | message. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.4.6.2.5 Type: RequestLocInfo
Table 6.4.6.2.5-1: Definition of type RequestLocInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | req5gsLoc | boolean | C | 0..1 | This IE shall | | | | | | be present | | | | | | and set to | | | | | | \"true\", if | | | | | | 5GS location | | | | | | information | | | | | | is requested | | | | | | in NPLI. | | | | | | | | | | | | When present, | | | | | | the IE shall | | | | | | be set as | | | | | | following: | | | | | | | | | | | | > \- true: | | | | | | > the | | | | | | > location of | | | | | | > the UE is | | | | | | > requested | | | | | | > | | | | | | > \- false | | | | | | > (default): | | | | | | > the | | | | | | > location of | | | | | | > the UE is | | | | | | > not | | | | | | > requested | +---------------+---------------+---+-------------+---------------+ | reqCurrentLoc | boolean | C | 0..1 | This IE may | | | | | | be present if | | | | | | 5GS location | | | | | | information | | | | | | is requested | | | | | | in NPLI. | | | | | | | | | | | | When present, | | | | | | the IE shall | | | | | | be set as | | | | | | following: | | | | | | | | | | | | > \- true: | | | | | | > the current | | | | | | > location of | | | | | | > the UE is | | | | | | > requested | | | | | | > | | | | | | > \- false | | | | | | > (default): | | | | | | > the current | | | | | | > location of | | | | | | > the UE is | | | | | | > not | | | | | | > requested | +---------------+---------------+---+-------------+---------------+ | reqRatType | boolean | C | 0..1 | This IE shall | | | | | | be present | | | | | | and set to | | | | | | \"true\", if | | | | | | the RAT Type | | | | | | of the UE is | | | | | | requested in | | | | | | NPLI. | | | | | | | | | | | | When present, | | | | | | the IE shall | | | | | | be set as | | | | | | following: | | | | | | | | | | | | > \- true: | | | | | | > the RAT | | | | | | > type of the | | | | | | > UE is | | | | | | > requested | | | | | | > | | | | | | > \- false | | | | | | > (default): | | | | | | > the RAT | | | | | | > type of the | | | | | | > UE is not | | | | | | > requested | +---------------+---------------+---+-------------+---------------+ | reqTimeZone | boolean | C | 0..1 | This IE shall | | | | | | be present | | | | | | and set to | | | | | | \"true, if | | | | | | the local | | | | | | timezone of | | | | | | the UE is | | | | | | requested in | | | | | | NPLI. | | | | | | | | | | | | When present, | | | | | | the IE shall | | | | | | be set as | | | | | | following: | | | | | | | | | | | | > \- true: | | | | | | > the local | | | | | | > timezone of | | | | | | > the UE is | | | | | | > requested | | | | | | > | | | | | | > \- false | | | | | | > (default): | | | | | | > the local | | | | | | > timezone of | | | | | | > the UE is | | | | | | > not | | | | | | > requested. | +---------------+---------------+---+-------------+---------------+ | supp | Supp | C | 0..1 | This IE shall | | ortedFeatures | ortedFeatures | | | be present if | | | | | | at least one | | | | | | optional | | | | | | feature | | | | | | defined in | | | | | | clause 6.4.8 | | | | | | is supported. | +---------------+---------------+---+-------------+---------------+ | oldGuami | Guami | C | 0..1 | This IE shall | | | | | | be present | | | | | | during an AMF | | | | | | planned | | | | | | removal | | | | | | procedure | | | | | | when the NF | | | | | | Service | | | | | | Consumer | | | | | | initiates a | | | | | | request | | | | | | towards the | | | | | | target AMF, | | | | | | for a UE | | | | | | associated to | | | | | | an AMF that | | | | | | is | | | | | | unavailable | | | | | | (see clause | | | | | | 5.21.2.2 of | | | | | | 3GPP TS 2 | | | | | | 3.501 [2]). | +---------------+---------------+---+-------------+---------------+
##### 6.4.6.2.6 Type: ProvideLocInfo
Table 6.4.6.2.6-1: Definition of type ProvideLocInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | currentLoc | boolean | C | 0..1 | This IE shall | | | | | | be present, | | | | | | if the 5GS | | | | | | location | | | | | | information | | | | | | is requested | | | | | | by the NF | | | | | | Service | | | | | | consumer. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | be set as | | | | | | following: | | | | | | | | | | | | - true: the | | | | | | current | | | | | | location of | | | | | | the UE is | | | | | | returned | | | | | | | | | | | | - false: the | | | | | | last known | | | | | | location of | | | | | | the UE is | | | | | | returned. | +---------------+---------------+---+-------------+---------------+ | location | UserLocation | O | 0..1 | If present, | | | | | | this IE shall | | | | | | contain the | | | | | | location | | | | | | information | | | | | | of the UE. | | | | | | | | | | | | This IE shall | | | | | | convey | | | | | | exactly one | | | | | | of the | | | | | | following:\ | | | | | | - E-UTRA user | | | | | | location\ | | | | | | - NR user | | | | | | location | | | | | | | | | | | | - Non-3GPP | | | | | | access user | | | | | | location. | | | | | | | | | | | | If the | | | | | | addit | | | | | | ionalLocation | | | | | | IE is | | | | | | present, this | | | | | | IE shall | | | | | | contain | | | | | | either an | | | | | | E-UTRA user | | | | | | location or | | | | | | NR user | | | | | | location. | +---------------+---------------+---+-------------+---------------+ | addit | UserLocation | O | 0..1 | This IE shall | | ionalLocation | | | | be present if | | | | | | the | | | | | | \"location | | | | | | IE\" is | | | | | | present and | | | | | | the AMF | | | | | | reports both | | | | | | a 3GPP user | | | | | | location and | | | | | | a non-3GPP | | | | | | access user | | | | | | location. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | convey the | | | | | | non-3GPP | | | | | | access user | | | | | | location. | +---------------+---------------+---+-------------+---------------+ | geoInfo | G | O | 0..1 | If present, | | | eographicArea | | | this IE shall | | | | | | contain the | | | | | | geographical | | | | | | information | | | | | | of the UE | | | | | | (see NOTE 1). | +---------------+---------------+---+-------------+---------------+ | locationAge | AgeOfLoc | O | 0..1 | If present, | | | ationEstimate | | | this IE shall | | | | | | contain the | | | | | | age of the | | | | | | location | | | | | | information | | | | | | (see NOTE 2). | +---------------+---------------+---+-------------+---------------+ | ratType | RatType | O | 0..1 | If present, | | | | | | this IE shall | | | | | | contain the | | | | | | current RAT | | | | | | type of the | | | | | | UE. | +---------------+---------------+---+-------------+---------------+ | timezone | TimeZone | O | 0..1 | If present, | | | | | | this IE shall | | | | | | contain the | | | | | | local time | | | | | | zone of the | | | | | | UE. | +---------------+---------------+---+-------------+---------------+ | supp | Supp | C | 0..1 | This IE shall | | ortedFeatures | ortedFeatures | | | be present if | | | | | | at least one | | | | | | optional | | | | | | feature | | | | | | defined in | | | | | | clause 6.4.8 | | | | | | is supported. | +---------------+---------------+---+-------------+---------------+ | NOTE 1: If | | | | | | geographical | | | | | | information | | | | | | is returned | | | | | | by the AMF, | | | | | | it shall be | | | | | | encoded in | | | | | | the | | | | | | \"geoInfo\" | | | | | | attribute and | | | | | | the | | | | | | \ | | | | | | "geographical | | | | | | Information\" | | | | | | attribute | | | | | | within the | | | | | | \"location\" | | | | | | attribute | | | | | | shall not be | | | | | | used. | | | | | | | | | | | | NOTE 2: If | | | | | | age of | | | | | | location | | | | | | estimate is | | | | | | returned by | | | | | | the AMF, it | | | | | | may be | | | | | | provided | | | | | | either in the | | | | | | \" | | | | | | locationAge\" | | | | | | attribute or | | | | | | in the | | | | | | \" | | | | | | ageOfLocation | | | | | | Information\" | | | | | | attribute | | | | | | within the | | | | | | \"location\" | | | | | | attribute. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.4.6.2.7 Type: CancelPosInfo
Table 6.4.6.2.7-1: Definition of type CancelPosInfo
Attribute name Data type P Cardinality Description
* * *
supi Supi M 1 SUPI hgmlcCallBackURI Uri M 1 Callback URI of the H-GMLC
ldrReference LdrReference M 1 LDR Reference servingLMFIdentification
LMFIdentification C 0..1 Serving LMF identification. This IE shall be included
if available. supportedFeatures SupportedFeatures C 0..1 This IE shall be
present if at least one optional feature defined in clause 6.4.8 is supported.
6.4.6.2.8 Type: ProblemDetailsProvidePosInfo
Table 6.4.6.2.8-1: Definition of type ProblemDetailsProvidePosInfo as a list
of to be combined data types
**Data type** **Cardinality** **Description** **Applicability**
* * *
ProblemDetails 1 Detail information of the problem  
ProvidePosInfo 1 Additional information to be returned in error response. (See
clause 6.19.1 of 3GPP 23.273 [42]).
#### 6.4.6.3 Simple data types and enumerations
##### 6.4.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 6.4.6.3.2 Simple data types
The simple data types defined in table 6.4.6.3.2-1 shall be supported.
Table 6.4.6.3.2-1: Simple data types
Type Name Type Definition Description
* * *
##### 6.4.6.3.3 Enumeration: LocationType
The enumeration LocationType represents the type of location measurement
requested.
Table 6.4.6.3.3-1: Enumeration LocationType
Enumeration value Description
* * *
\"CURRENT_LOCATION\" This value indicates that the current location of the
target UE is required. \"CURRENT_OR_LAST_KNOWN_LOCATION\" This value indicates
that the current location or last known location of the target UE is required.
\"NOTIFICATION_VERIFICATION_ONLY\" This value indicates that notification or
verification of location by the target UE is required but a location estimate
shall not be obtained. \"DEFERRED_LOCATION\" Deferred Location Request
\"RANGING_SL_LOCATION\" This value indicates that the location for ranging and
sidelink positioning is required.
##### 6.4.6.3.4 Enumeration: LocationEvent
The enumeration LocationEvent represents the type of events initiating
location procedures.
Table 6.4.6.3.4-1: Enumeration LocationEvent
Enumeration value Description
* * *
\"EMERGENCY_CALL_ORIGINATION\" Emergency session initiation
\"EMERGENCY_CALL_RELEASE\" Emergency session termination
\"EMERGENCY_CALL_HANDOVER\" Handover of an Emergency session
\"ACTIVATION_OF_DEFERRED_LOCATION\" Confirmation of activation of periodic or
triggered location in the target UE \"UE_MOBILITY_FOR_DEFERRED_LOCATION\"
Mobility of the target UE to a different NF
\"CANCELLATION_OF_DEFERRED_LOCATION\" Cancellation of a deferred location
request
##### 6.4.6.3.5 Enumeration: LocationPrivacyVerResult
The enumeration LocationPrivacyVerResult represents the type of the result of
location privacy verification by UE.
Table 6.4.6.3.5-1: Enumeration LocationPrivacyVerResult
Enumeration value Description
* * *
\"LOCATION_ALLOWED\" Location is allowed by UE \"LOCATION_NOT_ALLOWED\"
Location is not allowed by UE \"RESPONSE_TIME_OUT\" UE response times out
##### 6.4.6.3.6 Enumeration: LpHapType
The enumeration LpHapType represents the type of the Low Power and/or High
Accuracy Positioning.
Table 6.4.6.3.6-1: Enumeration LpHapType
Enumeration value Description
* * *
\"LOW_POW_HIGH_ACCU_POS\" Low Power and High Accuracy Positioning
### 6.4.7 Error Handling
#### 6.4.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS
29.500 [4].
#### 6.4.7.2 Protocol Errors
Protocol Error Handling shall be supported as specified in clause 5.2.7 of
3GPP TS 29.500 [4].
#### 6.4.7.3 Application Errors
The common application errors defined in the Table 5.2.7.2-1 in 3GPP TS 29.501
[5] may also be used for the Namf_Location service, and the following
application errors listed in Table 6.4.7.3-1 are specific for the
Namf_Location service.
Table 6.4.7.3-1: Application errors
Application Error HTTP status code Description
* * *
USER_UNKNOWN 403 Forbidden The user is unknown. DETACHED_USER 403 Forbidden
The user is detached (i.e. it is in RM-DEREGISTERED state) in the AMF.
POSITIONING_DENIED 403 Forbidden The positioning procedure was denied.
UNSPECIFIED 403 Forbidden The request is rejected due to unspecified reasons.
LOCATION_SESSION_UNKNOWN 403 Forbidden The location session is unknown.
REQUESTED_LMF_NOT_AVAILABLE 403 Forbidden The request is rejected due to the
AMF not being able to access the requested LMF. CONTEXT_NOT_FOUND 404 Not
Found The requested UE Context does not exist in the AMF. HO_TO_EPS 409
Conflict The request is rejected due to a handover from 5GS to EPS.
POSITIONING_FAILED 500 Internal Server Error The positioning procedure failed.
UNREACHABLE_USER 504 Gateway Timeout The user could not be reached in order to
perform positioning procedure. PEER_NOT_RESPONDING 504 Gateway Timeout No
response is received from a remote peer, e.g. from the LMF.
### 6.4.8 Feature Negotiation
The feature negotiation mechanism specified in clause 6.6 of 3GPP TS 29.500
[4] shall be used to negotiate the optional features applicable between the
AMF and the NF Service Consumer, for the Namf_Location service, if any.
The NF Service Consumer shall indicate the optional features it supports for
the Namf_Location service, if any, by including the supportedFeatures
attribute in payload of the HTTP Request Message for following service
operations:
\- ProvidePositioningInfo, as specified in clause 5.5.2.2;
\- ProvideLocationInfo, as specified in clause 5.5.2.4;
\- CancelLocation, as specified in clause 5.5.2.5
The AMF shall determine the supported features for the service operations as
specified in clause 6.6 of 3GPP TS 29.500 [4] and shall indicate the supported
features by including the supportedFeatures attribute in payload of the HTTP
response for the service operation.
The syntax of the supportedFeatures attribute is defined in clause 5.2.2 of
3GPP TS 29.571 [6].
The following features are defined for the Namf_Location service.
Table 6.1.8-1: Features of supportedFeatures attribute used by Namf_Location
service
+-------------------------+---------+-----+-------------------------+ | Feature Number | Feature | M/O | Description | +-------------------------+---------+-----+-------------------------+ | 1 | ES3XX | M | Extended Support of | | | | | HTTP 307/308 | | | | | redirection | | | | | | | | | | An NF Service Consumer | | | | | (e.g. GMLC) that | | | | | supports this feature | | | | | shall support handling | | | | | of HTTP 307/308 | | | | | redirection for any | | | | | service operation of | | | | | the Namf_Location | | | | | service. An NF Service | | | | | Consumer that does not | | | | | support this feature | | | | | does only support HTTP | | | | | redirection as | | | | | specified for 3GPP | | | | | Release 15. | +-------------------------+---------+-----+-------------------------+ | 2 | MUTIQOS | O | Support of Multiple | | | | | Location QoSes. | | | | | | | | | | This feature bit | | | | | indicates whether the | | | | | AMF support that more | | | | | than one Location QoSes | | | | | during consuming | | | | | location service are | | | | | required. | +-------------------------+---------+-----+-------------------------+ | Feature number: The | | | | | order number of the | | | | | feature within the | | | | | s**upportedFeatures | | | | | attribute (starting | | | | | with 1).** | | | | | | | | | | **Feature: A short name | | | | | that can be used to | | | | | refer to the bit and to | | | | | the feature.** | | | | | | | | | | **M/O: Defines if the | | | | | implementation of the | | | | | feature is mandatory | | | | | (** \"**M** \"**) or | | | | | optional | | | | | (** \"**O** \"**).** | | | | | | | | | | Description: A clear | | | | | textual description of | | | | | the feature. | | | | +-------------------------+---------+-----+-------------------------+
### 6.4.9 Security
As indicated in 3GPP TS 33.501 [27], the access to the Namf_Location API may
be authorized by means of the OAuth2 protocol (see IETF RFC 6749 [28]), using
the \"Client Credentials\" authorization grant, where the NRF (see 3GPP TS
29.510 [29]) plays the role of the authorization server.
If Oauth2 authorization is used, an NF Service Consumer, prior to consuming
services offered by the Namf_Location API, shall obtain a \"token\" from the
authorization server, by invoking the Access Token Request service, as
described in 3GPP TS 29.510 [29], clause 5.4.2.2.
NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used for
discovering the Namf_Location service.
The Namf_Location API defines scopes for OAuth2 authorization as specified in
3GPP TS 33.501 [27]; it defines a single scope consisting on the name of the
service (i.e., \"namf-loc\"), and it does not define any additional scopes at
resource or operation level.
### 6.4.10 HTTP redirection
An HTTP request may be redirected to a different AMF service instance, within
the same AMF or a different AMF of an AMF set, e.g. when an AMF service
instance is part of an AMF (service) set or when using indirect communications
(see 3GPP TS 29.500 [4]). See the ES3XX feature in clause 6.4.8.
An SCP that reselects a different AMF producer instance will return the NF
Instance ID of the new AMF producer instance in the 3gpp-Sbi-Producer-Id
header, as specified in clause 6.10.3.4 of 3GPP TS 29.500 [4].
If an AMF within an AMF set redirects a service request to a different AMF of
the set using an 307 Temporary Redirect or 308 Permanent Redirect status code,
the identity of the new AMF towards which the service request is redirected
shall be indicated in the 3gpp-Sbi-Target-Nf-Id header of the 307 Temporary
Redirect or 308 Permanent Redirect response as specified in clause 6.10.9.1 of
3GPP TS 29.500 [4].
## 6.5 Namf_MBSBroadcast Service API
### 6.5.1 API URI
The Namf_MBSBroadcast service shall use the Namf_MBSBroadcast API.
The API URI of the Namf_MBSBroadcast API shall be:
**{apiRoot}/\ /\**
The request URI used in HTTP requests from the NF service consumer towards the
NF service producer shall have the Resource URI structure defined in clause
4.4.1 of 3GPP TS 29.501 [5], i.e.:
**{apiRoot}/\ /\/\**
with the following components:
\- The {apiRoot} shall be set as described in 3GPP TS 29.501 [5].
\- The \ shall be \"namf-mbs-bc\".
\- The \ shall be \"v1\".
\- The \ shall be set as described in clause
6.5.3.
### 6.5.2 Usage of HTTP
#### 6.5.2.1 General
HTTP/2, as defined in IETF RFC 7540 [19], shall be used as specified in clause
5 of 3GPP TS 29.500 [4].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].
HTTP messages and bodies for the Namf_MBSBroadcast service shall comply with
the OpenAPI [23] specification contained in Annex A.
#### 6.5.2.2 HTTP standard headers
##### 6.5.2.2.1 General
The usage of HTTP standard headers shall be supported as specified in clause
5.2.2 of 3GPP TS 29.500 [4].
##### 6.5.2.2.2 Content type
The following content types shall be supported:
\- JSON, as defined in IETF RFC 8259 [8], shall be used as content type of the
HTTP bodies specified in the present specification as indicated in clause 5.4
of 3GPP TS 29.500 [4].
\- The Problem Details JSON Object (IETF RFC 7807 [36]). The use of the
Problem Details JSON object in a HTTP response body shall be signalled by the
content type \"application/problem+json\".
Multipart messages shall also be supported (see clause 6.5.2.4) using the
content type \"multipart/related\", comprising:
\- one JSON body part with the \"application/json\" content type; and
\- one or more binary body parts with 3gpp vendor specific content subtypes.
The 3gpp vendor specific content subtypes defined in Table 6.5.2.2.2-1 shall
be supported.
Table 6.5.2.2.2-1: 3GPP vendor specific content subtypes
content subtype Description
* * *
vnd.3gpp.ngap Binary encoded payload, encoding NG Application Protocol (NGAP)
IEs, as specified in clause 9.3 of 3GPP TS 38.413 [9] (ASN.1 encoded). NOTE:
Using 3GPP vendor content subtypes allows to describe the nature of the opaque
payload (i.e. NGAP information) without having to rely on metadata in the JSON
payload.
See clause 6.5.2.4 for the binary payloads supported in the binary body part
of multipart messages.
#### 6.5.2.3 HTTP custom headers
##### 6.5.2.3.1 General
In this release of this specification, no custom headers specific to the
Namf_MBSBroadcast service are defined. For 3GPP specific HTTP custom headers
used across all service-based interfaces, see clause 5.2.3 of 3GPP TS 29.500
[4].
#### 6.5.2.4 HTTP multipart messages
HTTP multipart messages shall be supported, to transfer opaque N2 Information
in the following service operations (and HTTP messages):
\- ContextCreate Request and Response (POST);
\- ContextUpdate Request and Response (POST);
\- ContextStatusNotify service operation (POST).
HTTP multipart messages shall include one JSON body part and one or more
binary body parts comprising:
\- N2 payload (see clause 6.1.6.4).
The JSON body part shall be the \"root\" body part of the multipart message.
It shall be encoded as the first body part of the multipart message. The
\"Start\" parameter does not need to be included.
The multipart message shall include a \"type\" parameter (see IETF RFC 2387
[9]) specifying the media type of the root body part, i.e.
\"application/json\".
NOTE: The \"root\" body part (or \"root\" object) is the first body part the
application processes when receiving a multipart/related message, see IETF RFC
2387 [9]. The default root is the first body within the multipart/related
message. The \"Start\" parameter indicates the root body part, e.g. when this
is not the first body part in the message.
For each binary body part in a HTTP multipart message, the binary body part
shall include a Content-ID header (see IETF RFC 2045 [10]), and the JSON body
part shall include an attribute, defined with the RefToBinaryData type, that
contains the value of the Content-ID header field of the referenced binary
body part.
### 6.5.3 Resources
#### 6.5.3.1 Overview
Figure 6.5.3.1-1: Resource URI structure of the Namf_MBSBroadcast Service API
Table 6.5.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 6.5.3.1-1: Resources and methods overview
+----------------+----------------+----------------+----------------+ | Resource name | Resource URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +================+================+================+================+ | Broadcast MBS | /mbs-contexts | POST | ContextCreate | | session | | | | | contexts | | | | | collection | | | | +----------------+----------------+----------------+----------------+ | Individual | /mbs-con | update | ContextUpdate | | broadcast MBS | texts/{mbsCont | | | | session | extRef}/update | (POST) | | | context | | | | +----------------+----------------+----------------+----------------+ | | / | DELETE | ContextRelease | | | mbs-contexts/{ | | | | | mbsContextRef} | | | +----------------+----------------+----------------+----------------+
#### 6.5.3.2 Resource: Broadcast MBS session contexts collection
##### 6.5.3.2.1 Description
This resource represents a collection of Broadcast MBS session contexts
created by NF service consumers of the Namf_MBSBroadcast service.
This resource is modelled as the Collection resource archetype (see clause C.2
of 3GPP TS 29.501 [5]).
##### 6.5.3.2.2 Resource Definition
Resource URI: **{apiRoot}/namf-mbs-bc/\ /mbs-contexts**
This resource shall support the resource URI variables defined in table
6.5.3.2.2-1.
Table 6.5.3.2.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.5.1 apiVersion string See clause 6.5.1.
##### 6.5.3.2.3 Resource Standard Methods
###### 6.5.3.2.3.1 POST
This method shall support the URI query parameters specified in table
6.5.3.2.3.1-1.
Table 6.5.3.2.3.1-1: URI query parameters supported by the POST method on this
resource
Name Data type P Cardinality Description
* * *
n/a
This method shall support the request data structures specified in table
6.5.3.2.3.1-2 and the response data structures and response codes specified in
table 6.5.3.2.3.1-3.
Table 6.5.3.2.3.1-2: Data structures supported by the POST Request Body on
this resource
Data type P Cardinality Description
* * *
ContextCreateReqData M 1 Data within ContextCreate Request
Table 6.5.3.2.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | Context | M | 1 | 201 Created | Successful | | CreateRspData | | | | creation of a | | | | | | broadcast MBS | | | | | | context | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.5.3.2.3.1-4: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/namf-mbs-
bc/\/mbs-contexts/{mbsContextRef}
* * *
Table 6.5.3.2.3.1-5: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP, see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.5.3.2.3.1-6: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP, see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
##### 6.5.3.2.4 Resource Custom Operations
None.
#### 6.5.3.3 Resource: Individual broadcast MBS session context
##### 6.5.3.3.1 Description
This resource represents an Individual broadcast MBS session context created
by an NF service consumer of the Namf_MBSBroadcast service.
This resource is modelled as the Document resource archetype (see clause C.2
of 3GPP TS 29.501 [5]).
##### 6.5.3.3.2 Resource Definition
Resource URI: **{apiRoot}/namf-mbs-bc/\ /mbs-
contexts/{mbsContextRef}**
This resource shall support the resource URI variables defined in table
6.5.3.3.2-1.
Table 6.5.3.3.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.5.1 apiVersion string See clause 6.5.1
mbsContextRef string String identifying an individual broadcast MBS session
context
##### 6.5.3.3.3 Resource Standard Methods
###### 6.5.3.3.3.1 DELETE
This method shall support the URI query parameters specified in table
6.5.3.3.3.1-1.
Table 6.5.3.3.3.1-1: URI query parameters supported by the DELETE method on
this resource
Name Data type P Cardinality Description
* * *
n/a
This method shall support the request data structures specified in table
6.5.3.3.3.1-2 and the response data structures and response codes specified in
table 6.5.3.3.3.1-3.
Table 6.5.3.3.3.1-2: Data structures supported by the DELETE Request Body on
this resource
Data type P Cardinality Description
* * *
n/a
Table 6.5.3.3.3.1-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | Successful | | | | | Content | deletion of a | | | | | | broadcast MBS | | | | | | context | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.5.3.3.3.1-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP, see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.5.3.3.3.1-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP, see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
##### 6.5.3.3.4 Resource Custom Operations
##### 6.5.3.2.4.1 Overview {#overview-10 .H6}
Table 6.5.3.2.4.1-1: Custom operations
Operation Name Custom operaration URI Mapped HTTP method Description
* * *
update /mbscontexts/{mbsContextRef}/update POST ContextUpdate service
operation
###### 6.5.3.2.4.2 Operation: update (POST)
###### # 6.5.3.2.4.2.1 Description
This {mbsContextRef} identifies the individual broadcast MBS session context
to be updated.
###### # 6.5.3.2.4.2.2 Operation Definition
This operation shall support the request data structures specified in table
6.5.3.2.4.2.2-1 and the response data structure and response codes specified
in table 6.5.3.2.4.2.2-2.
Table 6.5.3.2.4.2.2-1: Data structures supported by (POST) the update
operation Request Body
Data type P Cardinality Description
* * *
ContextUpdateReqData M 1 Data within the ContextUpdate Request
Table 6.5.3.2.4.2.2-2: Data structures supported by the (POST) update
operation Response Body
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | Context | M | 1 | 200 OK | Successful | | UpdateRspData | | | | update of the | | | | | | broadcast MBS | | | | | | session | | | | | | context, with | | | | | | content in | | | | | | the response | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | update of the | | | | | | broadcast MBS | | | | | | session | | | | | | context, | | | | | | without | | | | | | content in | | | | | | the response | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.5.3.2.4.2.2-3: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP, see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.5.3.2.4.2.2-4: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP, see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
### 6.5.4 Custom Operations without associated resources
There are no custom operations without associated resources supported by the
Namf_MBSBroadcast Service in this release of the specification.
### 6.5.5 Notifications
#### 6.5.5.1 General
This clause specifies the notifications provided by the Namf_MBSBroadcast
service.
Table 6.5.5.1-1: Notifications overview
+----------------+--------------+----------------+----------------+ | Notification | Callback URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +================+==============+================+================+ | Broadcast MBS | {notifyUri} | POST | Conte | | Session | | | xtStatusNotify | | Context Status | | | | | Notification | | | | +----------------+--------------+----------------+----------------+
#### 6.5.5.2 Broadcast MBS Session Context Status Notification
##### 6.5.5.2.1 Description
The Broadcast MBS session context notification is used by the AMF to report
one or several status changes of a Broadcast MBS session context to a NF
service consumer.
##### 6.5.5.2.2 Target URI
The Callback URI **\"{notifyUri}\"** shall be used with the callback URI
variables defined in table 6.5.5.2.2-1.
Table 6.5.5.2.2-1: Callback URI variables
Name Definition
* * *
notifyUri String formatted as URI with the Callback URI
##### 6.5.5.2.3 Notification Standard Methods
###### 6.5.5.2.3.1 POST
This method shall support the request data structures specified in table
6.5.5.2.3.1-1 and the response data structures and response codes specified in
table 6.5.5.2.3.1-2.
Table 6.5.5.2.3.1-2: Data structures supported by the POST Request Body
Data type P Cardinality Description
* * *
ContextStatusNotification M 1 Represents the notification to be delivered
Table 6.5.5.2.3.1-3: Data structures supported by the POST Response Body
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | | | | | | Content | | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.5.5.2.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of the NF service consumer to which the notification should be
sent 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected
* * *
Table 6.5.5.2.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of the NF service consumer to which the notification should be
sent 3gpp-Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service)
instance ID towards which the request is redirected
* * *
### 6.5.6 Data Model
#### 6.5.6.1 General
This clause specifies the application data model supported by the API.
Table 6.5.6.1-1 specifies the data types defined for the Namf_MBSBroadcast
service based interface protocol.
Table 6.5.6.1-1: Namf_MBSBroadcast specific Data Types
Data type Clause defined Description
* * *
ContextCreateReqData 6.5.6.2.2 Data within ContextCreate Request
ContextCreateRspData 6.5.6.2.3 Data within ContextCreate Response
ContextStatusNotification 6.5.6.2.4 Data within ContextStatusNotify Request
ContextUpdateReqData 6.5.6.2.5 Data within ContextUpdate Request
ContextUpdateRspData 6.5.6.2.6 Data within ContextUpdate Response N2MbsSmInfo
6.5.6.2.7 N2 MBS Session Management Information OperationEvent 6.5.6.2.8
Operation Event NgranFailureEvent 6.5.6.2.9 NG-RAN failure event
OperationStatus 6.5.6.3.3 Operation Status NgapIeType 6.5.6.3.4 NGAP
Information Element Type OpEventType 6.5.6.3.5 Operation Event Type
NgranFailureIndication 6.5.6.3.6 Indication of a NG-RAN failure event
Table 6.5.6.1-2 specifies data types re-used by the Namf service based
interface protocol from other specifications, including a reference to their
respective specifications and when needed, a short description of their use
within the Namf service based interface.
Table 6.5.6.1-2: Namf re-used Data Types
Data type Reference Comments
* * *
MbsSessionId 3GPP TS 29.571 [6] MBS Session Id AreaSessionId 3GPP TS 29.571
[6] Area Session Id MbsServiceArea 3GPP TS 29.571 [6] MBS Service Area
RefToBinaryData 3GPP TS 29.571 [6] Reference to binary body part Uri 3GPP TS
29.571 [6] URI DurationSec 3GPP TS 29.571 [6] Duration in seconds
MbsServiceAreaInfo 3GPP TS 29.571 [6] MBS Service Area Information for a
Location dependent MBS session GlobalRanNodeId 3GPP TS 29.571 [6] Global RAN
Node Identifier
#### 6.5.6.2 Structured data types
##### 6.5.6.2.1 Introduction
Structured data types used in Namf_MBSBroadcast service are specified in this
clause.
##### 6.5.6.2.2 Type: ContextCreateReqData
Table 6.5.6.2.2-1: Definition of type ContextCreateReqData
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | mbsSessionId | MbsSessionId | M | 1 | MBS Session | | | | | | ID | +---------------+---------------+---+-------------+---------------+ | m | M | C | 1 | MBS Service | | bsServiceArea | bsServiceArea | | | Area | | | | | | | | | | | | This IE shall | | | | | | be present if | | | | | | this is a | | | | | | Local | | | | | | broadcast MBS | | | | | | session. | | | | | | | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | mbsServic | array(MbsSer | C | 1..N | List of MBS | | eAreaInfoList | viceAreaInfo) | | | service areas | | | | | | and their | | | | | | related Area | | | | | | Session IDs. | | | | | | | | | | | | This IE shall | | | | | | be present if | | | | | | this is a | | | | | | Location | | | | | | dependent | | | | | | broadcast MBS | | | | | | service. | | | | | | | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | n2MbsSmInfo | N2MbsSmInfo | M | 1 | This IE shall | | | | | | be present | | | | | | and shall | | | | | | contain N2 | | | | | | MBS Session | | | | | | Management | | | | | | related | | | | | | inf | | | | | | ormation.(see | | | | | | clause | | | | | | 6.5.6.4). | +---------------+---------------+---+-------------+---------------+ | notifyUri | Uri | M | 1 | This IE shall | | | | | | contain the | | | | | | notification | | | | | | URI where to | | | | | | be notified | | | | | | about the | | | | | | status change | | | | | | of the | | | | | | broadcast MBS | | | | | | session | | | | | | context. | +---------------+---------------+---+-------------+---------------+ | ma | DurationSec | O | 0..1 | Maximum | | xResponseTime | | | | response time | | | | | | (in seconds) | | | | | | to receive | | | | | | information | | | | | | about the | | | | | | completion of | | | | | | the Broadcast | | | | | | MBS session | | | | | | e | | | | | | stablishment. | +---------------+---------------+---+-------------+---------------+ | snssai | Snssai | M | 1 | This IE shall | | | | | | be included | | | | | | to indicate | | | | | | the S-NSSAI | | | | | | of the MBS | | | | | | session. | | | | | | (NOTE 2). | +---------------+---------------+---+-------------+---------------+ | mbsmfId | NfInstanceId | O | 0..1 | This IE may | | | | | | be present to | | | | | | contain the | | | | | | NF Instance | | | | | | ID of the | | | | | | MB-SMF. | +---------------+---------------+---+-------------+---------------+ | mbsmf | string | O | 0..1 | This IE may | | ServiceInstId | | | | be present to | | | | | | contain the | | | | | | NF Service | | | | | | Instance ID | | | | | | within the NF | | | | | | Instance of | | | | | | the MB-SMF. | +---------------+---------------+---+-------------+---------------+ | NOTE 1: | | | | | | Either the | | | | | | mbsServic | | | | | | eAreaInfoList | | | | | | IE or the | | | | | | m | | | | | | bsServiceArea | | | | | | IE shall be | | | | | | present. | | | | | | | | | | | | NOTE 2: If an | | | | | | MB-SMF does | | | | | | not receive | | | | | | the S-NSSAI | | | | | | from the | | | | | | NEF/MBSF, the | | | | | | MB-SMF shall | | | | | | include a | | | | | | p | | | | | | re-configured | | | | | | default | | | | | | SNSSAI. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.5.6.2.3 Type: ContextCreateRspData
Table 6.5.6.2.3-1: Definition of type ContextCreateRspData
Attribute name Data type P Cardinality Description
* * *
mbsSessionId MbsSessionId M 1 MBS session identifier. n2MbsSmInfoList
array(N2MbsSmInfo) O 1..10 When present, this IE shall contain N2 MBS Session
Management related information.(see clause 6.5.6.4). operationStatus
OperationStatus C 0..1 This IE shall be present and indicate the completion of
the MBS session start operation, if the AMF received the NG-RAN responses from
all involved NG-RAN(s). (NOTE) NOTE: If this IE is not present, it indicates
either of the following conditions (a) not all response are received from NG-
RANs, while the maximum response timer is still running, or (b) the AMF has
not received the maximum response timer in the request from the MB-SMF and not
all response are received from NG-RANs.
##### 6.5.6.2.4 Type: ContextStatusNotification
Table 6.5.6.2.4-1: Definition of type ContextStatusNotification
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | mbsSessionId | MbsSessionId | M | 1 | MBS Session | | | | | | ID | +---------------+---------------+---+-------------+---------------+ | areaSessionId | AreaSessionId | C | 0..1 | Area Session | | | | | | ID | | | | | | | | | | | | This IE shall | | | | | | be present if | | | | | | this is a | | | | | | Location | | | | | | dependent | | | | | | broadcast MBS | | | | | | service. | +---------------+---------------+---+-------------+---------------+ | n2 | array | O | 1..10 | When present, | | MbsSmInfoList | (N2MbsSmInfo) | | | this IE shall | | | | | | contain N2 | | | | | | MBS Session | | | | | | Management | | | | | | related | | | | | | inf | | | | | | ormation.(see | | | | | | clause | | | | | | 6.5.6.4). | +---------------+---------------+---+-------------+---------------+ | op | Op | C | 0..1 | This IE shall | | erationStatus | erationStatus | | | be present | | | | | | and indicate | | | | | | the | | | | | | completion of | | | | | | the MBS | | | | | | session start | | | | | | or update | | | | | | operation, if | | | | | | the NF | | | | | | Service | | | | | | Consumer has | | | | | | requested to | | | | | | establish or | | | | | | update the | | | | | | Broadcast MBS | | | | | | session | | | | | | context and a | | | | | | response has | | | | | | been received | | | | | | from all | | | | | | NG-RANs. | | | | | | | | | | | | This IE shall | | | | | | be present | | | | | | and indicate | | | | | | the | | | | | | incompletion | | | | | | of the MBS | | | | | | session start | | | | | | or update | | | | | | operation, if | | | | | | the NF | | | | | | Service | | | | | | Consumer has | | | | | | requested to | | | | | | establish or | | | | | | update the | | | | | | Broadcast MBS | | | | | | session | | | | | | context | | | | | | within a | | | | | | maximum | | | | | | response time | | | | | | and the AMF | | | | | | has not | | | | | | received | | | | | | responses | | | | | | from all | | | | | | NG-RANs | | | | | | before the | | | | | | maximum | | | | | | response time | | | | | | elapses. | | | | | | | | | | | | (NOTE) | +---------------+---------------+---+-------------+---------------+ | op | array(Op | O | 1..N | This IE may | | erationEvents | erationEvent) | | | be present to | | | | | | report a list | | | | | | of operation | | | | | | events | | | | | | related to | | | | | | the Broadcast | | | | | | MBS Session, | | | | | | e.g., when | | | | | | the Broadcast | | | | | | MBS Session | | | | | | is released | | | | | | in one of | | | | | | NG-RANs as | | | | | | required by | | | | | | the NG-RAN, a | | | | | | failure of a | | | | | | NG-RAN. | +---------------+---------------+---+-------------+---------------+ | releasedInd | boolean | C | 0..1 | This shall be | | | | | | present and | | | | | | set to | | | | | | \"true\" if | | | | | | all NG-RANs | | | | | | serving the | | | | | | Broadcast MBS | | | | | | session | | | | | | requested the | | | | | | AMF to | | | | | | release the | | | | | | Broadcast MBS | | | | | | session and | | | | | | the Broadcast | | | | | | MBS session | | | | | | (context) has | | | | | | been released | | | | | | in the AMF. | +---------------+---------------+---+-------------+---------------+ | NOTE: If this | | | | | | IE is not | | | | | | present, it | | | | | | indicates | | | | | | either of the | | | | | | following | | | | | | conditions | | | | | | (a) not all | | | | | | response are | | | | | | received from | | | | | | NG-RANs, | | | | | | while the | | | | | | maximum | | | | | | response | | | | | | timer is | | | | | | still | | | | | | running, or | | | | | | (b) the AMF | | | | | | has not | | | | | | received the | | | | | | maximum | | | | | | response | | | | | | timer in the | | | | | | request from | | | | | | the MB-SMF | | | | | | and not all | | | | | | response are | | | | | | received from | | | | | | NG-RANs. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.5.6.2.5 Type: ContextUpdateReqData
Table 6.5.6.2.5-1: Definition of type ContextUpdateReqData
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | m | M | O | 0..1 | MBS Service | | bsServiceArea | bsServiceArea | | | Area | | | | | | | | | | | | This IE may | | | | | | be present | | | | | | for a | | | | | | Location | | | | | | independent | | | | | | broadcast MBS | | | | | | session. | | | | | | | | | | | | (NOTE) | +---------------+---------------+---+-------------+---------------+ | mbsServic | array(MbsSer | O | 1..N | List of MBS | | eAreaInfoList | viceAreaInfo) | | | service areas | | | | | | and their | | | | | | related Area | | | | | | Session IDs. | | | | | | | | | | | | This IE may | | | | | | be present | | | | | | for a Local | | | | | | broadcast MBS | | | | | | service. | | | | | | | | | | | | (NOTE) | +---------------+---------------+---+-------------+---------------+ | n2MbsSmInfo | N2MbsSmInfo | O | 0..1 | When present, | | | | | | this IE shall | | | | | | contain N2 | | | | | | MBS Session | | | | | | Management | | | | | | related | | | | | | inf | | | | | | ormation.(see | | | | | | clause | | | | | | 6.5.6.4). | +---------------+---------------+---+-------------+---------------+ | ranIdList | array(Glo | O | 1..N | This IE may | | | balRanNodeId) | | | be included | | | | | | when the MBS | | | | | | session | | | | | | update is to | | | | | | be performed | | | | | | only in a | | | | | | list of | | | | | | specific | | | | | | NG-RAN(s) as | | | | | | specified in | | | | | | c | | | | | | lause 8.3.2.3 | | | | | | of | | | | | | 3GPP TS 23 | | | | | | .527 [33]). | +---------------+---------------+---+-------------+---------------+ | noNgap | boolean | O | 0..1 | This IE may | | SignallingInd | | | | be present | | | | | | during the | | | | | | restoration | | | | | | procedure to | | | | | | select an | | | | | | alternative | | | | | | AMF for a | | | | | | Broadcast MBS | | | | | | Session at | | | | | | AMF failure | | | | | | as specified | | | | | | in | | | | | | c | | | | | | lause 8.3.2.4 | | | | | | of | | | | | | 3GPP TS 23 | | | | | | .527 [33]). | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | be set as | | | | | | following: | | | | | | | | | | | | - true: the | | | | | | AMF may | | | | | | consider to | | | | | | not trigger a | | | | | | NGAP | | | | | | signaling | | | | | | message to | | | | | | any NG-RAN. | +---------------+---------------+---+-------------+---------------+ | notifyUri | Uri | O | 0..1 | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | notification | | | | | | URI where to | | | | | | be notified | | | | | | about the | | | | | | status change | | | | | | of the | | | | | | broadcast MBS | | | | | | session | | | | | | context. | +---------------+---------------+---+-------------+---------------+ | ma | DurationSec | O | 0..1 | Maximum | | xResponseTime | | | | response time | | | | | | (in seconds) | | | | | | to receive | | | | | | information | | | | | | about the | | | | | | completion of | | | | | | the Broadcast | | | | | | MBS session | | | | | | update. | +---------------+---------------+---+-------------+---------------+ | n2Mbs | boolean | O | 0..1 | When present, | | InfoChangeInd | | | | this IE shall | | | | | | indicate | | | | | | whether the | | | | | | information | | | | | | within the N2 | | | | | | MBS Session | | | | | | Management | | | | | | container has | | | | | | changed or | | | | | | not, as | | | | | | follows: | | | | | | | | | | | | - true: the | | | | | | information | | | | | | has changed; | | | | | | | | | | | | - false: the | | | | | | information | | | | | | has not | | | | | | changed. | +---------------+---------------+---+-------------+---------------+ | NOTE: Either | | | | | | the | | | | | | mbsServic | | | | | | eAreaInfoList | | | | | | IE or the | | | | | | m | | | | | | bsServiceArea | | | | | | IE may be | | | | | | present. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.5.6.2.6 Type: ContextUpdateRspData
Table 6.5.6.2.6-1: Definition of type ContextUpdateRspData
Attribute name Data type P Cardinality Description
* * *
n2MbsSmInfoList array(N2MbsSmInfo) O 1..10 When present, this IE shall contain
N2 MBS Session Management related information.(see clause 6.5.6.4).
operationStatus OperationStatus C 0..1 This IE shall be present and indicate
the completion of the MBS session start operation, if the AMF received the NG-
RAN responses from all involved NG-RAN(s). (NOTE) NOTE: If this IE is not
present, it indicates either of the following conditions (a) not all response
are received from NG-RANs, while the maximum response timer is still running,
or (b) the AMF has not received the maximum response timer in the request from
the MB-SMF and not all response are received from NG-RANs.
##### 6.5.6.2.7 Type: N2MbsSmInfo
Table 6.5.6.2.7-1: Definition of type N2MbsSmInfo
Attribute name Data type P Cardinality Description
* * *
ngapIeType NgapIeType M 1 This IE shall indicate the NGAP IE type of the
ngapData as specified in clause 6.5.6.3.4. ngapData RefToBinaryData M 1 This
IE shall contain the reference to the binary data part carrying the NGAP data.
ranId GlobalRanNodeId M 1 This IE shall indicate the Global RAN ID of the gNB
that generated the N2 MBS Session Management related information.
##### 6.5.6.2.8 Type: OperationEvent
Table 6.5.6.2.8-1: Definition of type OperationEvent
Attribute name Data type P Cardinality Description
* * *
opEventType OpEventType M 1 Indicates the event type of an operation event
related to the Broadcast MBS Session. amfId NfInstanceId C 0..1 This IE shall
be present to contain the NF Instance ID of the AMF sending the Context Status
Notify Request message if the operation event type indicates an AMF change
event. ngranFailureEventList array(NgranFailureEvent) C 1..N This IE shall be
present if the event type is related to a NG-RAN.
##### 6.5.6.2.9 Type: NgranFailureEvent
Table 6.5.6.2.9-1: Definition of type NgranFailureEvent
Attribute name Data type P Cardinality Description
* * *
ngranId GlobalRanNodeId M 1 Indicates the identity of the RAN node. The IE
shall contain the gNB ID. ngranFailureIndication NgranFailureIndication M 1
This IE shall contain the information related to the NG-RAN failure.
#### 6.5.6.3 Simple data types and enumerations
##### 6.5.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 6.5.6.3.2 Simple data types
The simple data types defined in table 6.5.6.3.2-1 shall be supported.
Table 6.5.6.3.2-1: Simple data types
Type Name Type Definition Description
* * *
##### 6.5.6.3.3 Enumeration: OperationStatus
The enumeration OperationStatus represents the status of a Broadcast MBS
session start or update operation.
Table 6.5.6.3.3-1: Enumeration OperationStatus
Enumeration value Description
* * *
\"MBS_SESSION_START_COMPLETE\" This value indicates the completion of the
Broadcast MBS session establishment, i.e. that the AMF has received a response
from all NG-RANs. \" MBS_SESSION_START_INCOMPLETE\" This value indicates the
incompletion of the Broadcast MBS session establishment because the AMF has
not received responses from all NG-RANs before the maximum response time that
was indicated in the request elapses. \"MBS_SESSION_UPDATE_COMPLETE\" This
value indicates the completion of the Broadcast MBS session update, i.e. that
the AMF has received a response from all NG-RANs. \"
MBS_SESSION_UPDATE_INCOMPLETE\" This value indicates incompletion of the
Broadcast MBS session update because the AMF has not received responses from
all NG-RANs before the maximum response time that was indicated in the request
elapses.
##### 6.5.6.3.4 Enumeration: NgapIeType
Table 6.5.6.3.4-1: Enumeration NgapIeType
Enumeration value Description
* * *
\"MBS_SES_REQ\" MBS Session Setup or Modification Request Transfer
\"MBS_SES_RSP\" MBS Session Setup or Modification Response Transfer
\"MBS_SES_FAIL\" MBS Session Setup or Modification Failure Transfer
\"MBS_SES_REL_RSP\" MBS Session Release Response Transfer \"MBS_SES_TRA_REQ\"
Broadcast Session Transport Request Transfer
##### 6.5.6.3.5 Enumeration: OpEventType
Table 6.5.6.3.5-1: Enumeration: OpEventType
Enumeration value Description
* * *
\"AMF_CHANGE\" This value indicates that the AMF has taken over of the
Broadcast MBS Session. \"NG_RAN_EVENT\" This value indicates that an event
related to a NG-RAN for the Broadcast MBS Session has taken place.
##### 6.5.6.3.6 Enumeration: NgranFailureIndication
The enumeration NgranFailureIndication indicates a NG-RAN failure event.
Table 6.5.6.3.6-1: Enumeration NgranFailureIndication
Enumeration value Description
* * *
\"NG_RAN_RESTART_OR_START\" This value indicates that the AMF has detected a
(re)start of a NG-RAN. \"NG_RAN_FAILURE_WITHOUT_RESTART\" This value indicates
that the AMF has detected a NG-RAN failure without a restart.
\"NG_RAN_NOT_REACHABLE\" This value indicates that the AMF has failed to reach
the NG-RAN when sending a NGAP MBS Session Setup/Modification/Release Request
message. \"NG_RAN_REQUIRED_RELEASE\" This value indicates that the NG-RAN has
requested to release the Broadcast MBS Session in the NG-RAN.
#### 6.5.6.4 Binary data
##### 6.5.6.4.1 Introduction
This clause defines the binary data that shall be supported in a binary body
part in an HTTP multipart message (see clauses 6.5.2.2.2 and 6.5.2.4).
Table 6.5.6.4.1-1: Binary Data Types
Name Clause defined Content type
* * *
N2 Information 6.5.6.4.3 vnd.3gpp.ngap
##### 6.5.6.4.2 N2 Information
###### 6.5.6.4.2.1 Introduction
N2 Information shall encode NG Application Protocol (NGAP) IEs, as specified
in clause 9.3.A of 3GPP TS 38.413 [12] (ASN.1 encoded), using the
vnd.3gpp.ngap content-type.
###### 6.5.6.4.2.2 NGAP IEs
N2 Information may encode following NGAP MB-SMF related IE specified in clause
9.3.5 of 3GPP TS 38.413 [12], as summarized in Table 6.5.6.4.2.2-1.
Table 6.5.6.4.2.2-1: N2 Information content for class MBS-SM
+----------------------+----------------------+----------------------+ | NGAP IE | Reference | Related NGAP message | | | | | | | (3G | | | | PP TS 38.413 [12]) | | +======================+======================+======================+ | MBS Session Setup or | 9.3.5.3 | BROADCAST SESSION | | Modification Request | | SETUP REQUEST | | Transfer | | | | | | BROADCAST SESSION | | | | MODIFICATION REQUEST | +----------------------+----------------------+----------------------+ | MBS Session Setup or | 9.3.5.5 | BROADCAST SESSION | | Modification | | SETUP RESPONSE | | Response Transfer | | | | | | BROADCAST SESSION | | | | MODIFICATION | | | | RESPONSE | +----------------------+----------------------+----------------------+ | MBS Session Setup or | 9.3.5.6 | BROADCAST SESSION | | Modification Failure | | SETUP FAILURE | | Transfer | | | | | | BROADCAST SESSION | | | | MODIFICATION FAILURE | +----------------------+----------------------+----------------------+ | MBS Session Release | 9.3.5.14 | BROADCAST SESSION | | Response Transfer | | RELEASE RESPONSE | | | | | | | | (NOTE) | +----------------------+----------------------+----------------------+ | NOTE: An MBS Session | | | | Release Response | | | | Transfer IE shall | | | | only be sent to the | | | | MB-SMF during a | | | | Broadcast MBS | | | | Session Release | | | | Require procedure | | | | (see clause 7.3.6 of | | | | 3GP | | | | P TS 23.247 [55]), | | | | when unicast | | | | transport applies | | | | over N3mb, to | | | | transfer the DL | | | | F-TEID of the NG-RAN | | | | node in which the | | | | MBS session has been | | | | released and towards | | | | which the delivery | | | | of MBS data shall be | | | | stopped. | | | +----------------------+----------------------+----------------------+
### 6.5.7 Error Handling
#### 6.5.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS
29.500 [4].
#### 6.5.7.2 Protocol Errors
Protocol Error Handling shall be supported as specified in clause 5.2.7 of
3GPP TS 29.500 [4].
#### 6.5.7.3 Application Errors
The common application errors defined in the Table 5.2.7.2-1 in 3GPP TS 29.500
[4] may also be used for the Namf_MBSBroadcast service, and the following
application errors listed in Table 6.5.7.3-1 are specific for the
Namf_MBSBroadcast service.
Table 6.5.7.3-1: Application errors
Application Error HTTP status code Description
* * *
### 6.5.8 Feature Negotiation
The optional features in table 6.5.8-1 are defined for the Namf_MBSBroadcast
API. They shall be negotiated using the extensibility mechanism defined in
clause 6.6 of 3GPP TS 29.500 [4].
Table 6.5.8-1: Supported Features
Feature number Feature Name Description
* * *
### 6.5.9 Security
As indicated in 3GPP TS 33.501 [8] and 3GPP TS 29.500 [4], the access to the
Namf_MBSBroadcast API may be authorized by means of the OAuth2 protocol (see
IETF RFC 6749 [9]), based on local configuration, using the \"Client
Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [10])
plays the role of the authorization server.
If OAuth2 is used, an NF Service Consumer, prior to consuming services offered
by the Namf_MBSBroadcast API, shall obtain a \"token\" from the authorization
server, by invoking the Access Token Request service, as described in 3GPP TS
29.510 [10], clause 5.4.2.2.
NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used for
discovering the Namf_MBSBroadcast service.
The Namf_MBSBroadcast API defines a single scope \"namf-mbs-bc\" for the
entire service, and it does not define any additional scopes at resource or
operation level.
### 6.5.10 HTTP redirection
An HTTP request may be redirected to a different AMF service instance, within
the same AMF or a different AMF of an AMF set, e.g. when an AMF service
instance is part of an AMF (service) set or when using indirect communications
(see 3GPP TS 29.500 [4]).
An SCP that reselects a different AMF producer instance will return the NF
Instance ID of the new AMF producer instance in the 3gpp-Sbi-Producer-Id
header, as specified in clause 6.10.3.4 of 3GPP TS 29.500 [4].
If an AMF within an AMF set redirects a service request to a different AMF of
the set using an 307 Temporary Redirect or 308 Permanent Redirect status code,
the identity of the new AMF towards which the service request is redirected
shall be indicated in the 3gpp-Sbi-Target-Nf-Id header of the 307 Temporary
Redirect or 308 Permanent Redirect response as specified in clause 6.10.9.1 of
3GPP TS 29.500 [4].
## 6.6 Namf_MBSCommunication Service API
### 6.6.1 API URI
The Namf_MBSCommunication service shall use the Namf_MBSCommunication API.
The API URI of the Namf_ MBSCommunication API shall be:
**{apiRoot}/\ /\**
The request URI used in HTTP requests from the NF service consumer towards the
NF service producer shall have the Resource URI structure defined in clause
4.4.1 of 3GPP TS 29.501 [5], i.e.:
**{apiRoot}/\ /\/\**
with the following components:
\- The {apiRoot} shall be set as described in 3GPP TS 29.501 [5].
\- The \ shall be \"namf-mbs-comm\".
\- The \ shall be \"v1\".
\- The \ shall be set as described in clause
6.6.3.
### 6.6.2 Usage of HTTP
#### 6.6.2.1 General
HTTP/2, as defined in IETF RFC 7540 [19], shall be used as specified in clause
5 of 3GPP TS 29.500 [4].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].
HTTP messages and bodies for the Namf_MBSCommunication service shall comply
with the OpenAPI [23] specification contained in Annex A.
#### 6.6.2.2 HTTP standard headers
##### 6.6.2.2.1 General
The usage of HTTP standard headers shall be supported as specified in clause
5.2.2 of 3GPP TS 29.500 [4].
##### 6.6.2.2.2 Content type
The following content types shall be supported:
\- JSON, as defined in IETF RFC 8259 [8], shall be used as content type of the
HTTP bodies specified in the present specification as indicated in clause 5.4
of 3GPP TS 29.500 [4].
\- The Problem Details JSON Object (IETF RFC 7807 [36]). The use of the
Problem Details JSON object in a HTTP response body shall be signalled by the
content type \"application/problem+json\".
Multipart messages shall also be supported (see clause 6.6.2.4) using the
content type \"multipart/related\", comprising:
\- one JSON body part with the \"application/json\" content type; and
\- one binary body part with 3gpp vendor specific content subtypes.
The 3gpp vendor specific content subtypes defined in Table 6.6.2.2.2-1 shall
be supported.
Table 6.6.2.2.2-1: 3GPP vendor specific content subtypes
content subtype Description
* * *
vnd.3gpp.ngap Binary encoded payload, encoding NG Application Protocol (NGAP)
IEs, as specified in clause 9.3 of 3GPP TS 38.413 [9] (ASN.1 encoded). NOTE:
Using 3GPP vendor content subtypes allows to describe the nature of the opaque
payload (i.e. NGAP information) without having to rely on metadata in the JSON
payload.
See clause 6.6.2.4 for the binary payloads supported in the binary body part
of multipart messages.
#### 6.6.2.3 HTTP custom headers
##### 6.6.2.3.1 General
In this release of this specification, no custom headers specific to the
Namf_MBSCommunication service are defined. For 3GPP specific HTTP custom
headers used across all service-based interfaces, see clause 5.2.3 of 3GPP TS
29.500 [4].
#### 6.6.2.4 HTTP multipart messages
HTTP multipart messages shall be supported, to transfer opaque N2 Information
MBS, in the following service operations (and HTTP messages):
\- N2MessageTransfer Request and Response (POST).
HTTP multipart messages shall include one JSON body part and one binary body
part comprising:
\- N2 payload (see clause 6.1.6.4).
The JSON body part shall be the \"root\" body part of the multipart message.
It shall be encoded as the first body part of the multipart message. The
\"Start\" parameter does not need to be included.
The multipart message shall include a \"type\" parameter (see IETF RFC 2387
[9]) specifying the media type of the root body part, i.e.
\"application/json\".
NOTE: The \"root\" body part (or \"root\" object) is the first body part the
application processes when receiving a multipart/related message, see IETF RFC
2387 [9]. The default root is the first body within the multipart/related
message. The \"Start\" parameter indicates the root body part, e.g. when this
is not the first body part in the message.
For each binary body part in a HTTP multipart message, the binary body part
shall include a Content-ID header (see IETF RFC 2045 [10]), and the JSON body
part shall include an attribute, defined with the RefToBinaryData type, that
contains the value of the Content-ID header field of the referenced binary
body part.
### 6.6.3 Resources
#### 6.6.3.1 Overview
Figure 6.6.3.1-1 describes the resource URI structure of the
Namf_MBSCommunication API.
Figure 6.6.3.1-1: Resource URI structure of the Namf_MBSCommunication API
Table 6.6.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 6.6.3.1-1: Resources and methods overview
+----------------+----------------+----------------+----------------+ | Resource name | Resource URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +================+================+================+================+ | _N2 Message | /n2-mes | transfer\ | N2M | | Handler | sages/transfer | (POST) | essageTransfer | | (Custom | | | | | Operation)_ | | | | +----------------+----------------+----------------+----------------+
#### 6.6.3.1 Resource: N2 Message Handler (Custom Operation)
##### 6.6.3.1.1 Description
This resource represents the N2 Message Handler used to transfer a N2 message
related to support a Multicast MBS session towards NG-RANs.
##### 6.6.3.1.2 Resource Definition
Resource URI: **{apiRoot}/namf-comm/\ /n2-messages**
This resource shall support the resource URI variables defined in table
6.6.3.1.2-1.
Table 6.6.3.1.2-1: Resource URI variables for this resource
Name Data Type Definition
* * *
apiRoot String See clause 6.6.1 apiVersion String See clause 6.6.1.
##### 6.6.3.1.3 Resource Standard Methods
There are no resource standard methods for the N2 Message Handler resource in
this release of this specification
##### 6.6.3.1.4 Resource Custom Operations
###### 6.6.3.1.4.1 Overview
Table 6.6.3.1.4.1-1: Custom operations
+----------------+----------------+----------------+----------------+ | Operation Name | Custom | Mapped HTTP | Description | | | operaration | method | | | | URI | | (service | | | | | operation) | +================+================+================+================+ | transfer | /n2-mes | POST | N2M | | | sages/transfer | | essageTransfer | +----------------+----------------+----------------+----------------+
###### 6.6.3.1.4.2 Operation: transfer
###### # 6.6.3.1.4.2.1 Description
The /n2-messages/transfer custom operation is used to initiate the transfer of
N2 MBS Session Management information to the NG-RAN nodes serving a multicast
MBS session. This custom operation uses the HTTP POST method.
###### # 6.6.3.1.4.2.2 Operation Definition
This operation shall support the request data structures specified in table
6.6.3.1.4.2-1 and the response data structure and response codes specified in
table 6.6.3.1.4.2-2.
Table 6.6.3.1.4.2.2-1: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description MbsN2MessageTransferReqData M 1
Representation of the data related to a multicast MBS session to be sent to
the NG-RAN node(s) by the AMF.
* * *
Table 6.6.3.1.4.2.2-2: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | M | M | 1 | 200 OK | Indicates | | bsN2MessageTr | | | | that the AMF | | ansferRspData | | | | has | | | | | | successfully | | | | | | initiated the | | | | | | transfer of | | | | | | N2 | | | | | | Information | | | | | | to the AN. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | When the MBS | | roblemDetails | | | | Session ID is | | | | | | not found in | | | | | | the NF | | | | | | Service | | | | | | Producer | | | | | | (i.e. AMF) | | | | | | the \"cause\" | | | | | | attribute | | | | | | shall be set | | | | | | to: | | | | | | | | | | | | > \- | | | | | | > MBS_SESSIO | | | | | | N_NOT_FOUND | | | | | | | | | | | | See table | | | | | | 6.6.7.3-1 for | | | | | | the | | | | | | description | | | | | | of these | | | | | | errors | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.6.3.1.4.2.2-3: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP, see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.6.3.1.4.2.2-4: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | An alternative | | | | | | URI of the | | | | | | resource | | | | | | located on an | | | | | | alternative | | | | | | service | | | | | | instance within | | | | | | the same AMF or | | | | | | AMF (service) | | | | | | set. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP, see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
### 6.6.4 Custom Operations without associated resources
### 6.6.5 Notifications
#### 6.6.5.1 General
The notifications provided by the Namf_MBSCommunication service are specified
in this clause.
Table 6.6.5.1-1: Callback overview
+--------------+--------------+------------------+------------------+ | Notification | Resource URI | HTTP method or | Description | | | | custom operation | | | | | | (service | | | | | operation) | +==============+==============+==================+==================+ | Notification | {notifyUri} | POST | Notify | +--------------+--------------+------------------+------------------+
#### 6.6.5.2 Notification
##### 6.6.5.2.1 Description
The notification is used by the AMF to report the failure of an MBS related N2
procedure with an NG-RAN node to a NF service consumer.
##### 6.6.5.2.2 Notification Definitionn
The Callback URI **\"{notifyUri}\"** shall be used with the callback URI
variables defined in table 6.6.5.2.2-1.
Table 6.6.5.2.2-1: Callback URI variables
Name Definition
* * *
notifyUri String formatted as URI with the Callback URI
##### 6.6.5.2.3 Notification Standard Methods
###### 6.6.5.2.3.1 POST
This method shall support the request data structures specified in table
6.6.5.2.3.1-1 and the response data structures and response codes specified in
table 6.6.5.2.3.1-2.
Table 6.6.5.2.3.1-2: Data structures supported by the POST Request Body
Data type P Cardinality Description
* * *
Notification M 1 Represents the notification to be delivered
Table 6.6.5.2.3.1-3: Data structures supported by the POST Response Body
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +===============+===+=============+===============+===============+ | n/a | | | 204 No | | | | | | Content | | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status code | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | also apply, | | | | | | with response | | | | | | body | | | | | | containing an | | | | | | object of | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | NOTE 2: | | | | | | Red | | | | | | irectResponse | | | | | | may be | | | | | | inserted by | | | | | | an SCP, see | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.6.5.2.3.1-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | A URI pointing | | | | | | to the endpoint | | | | | | of the NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be sent. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP, see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 6.6.5.2.3.1-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | A URI pointing | | | | | | to the endpoint | | | | | | of the NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be sent. | | | | | | | | | | | | For the case | | | | | | when a request | | | | | | is redirected | | | | | | to the same | | | | | | target resource | | | | | | via a different | | | | | | SCP, see | | | | | | clause 6.10.9.1 | | | | | | in | | | | | | 3GPP T | | | | | | S 29.500 [4]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance ID | | | | | | towards which | | | | | | the request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
### 6.6.6 Data Model
#### 6.6.6.1 General
This clause specifies the application data model supported by the API.
Table 6.6.6.1-1 specifies the data types defined for the Namf_MBSCommunication
service based interface protocol.
Table 6.6.6.1-1: Namf_MBSCommunication specific Data Types
Data type Clause defined Description
* * *
MbsN2MessageTransferReqData 6.6.6.2.2 Data within MBS N2 Message Transfer
Request MbsN2MessageTransferRspData 6.6.6.2.3 Data within MBS N2 Message
Transfer Response N2MbsSmInfo 6.6.6.2.4 N2 MBS Session Management Information
Notification 6.6.6.2.5 Data within Notify Request RanFailure 6.6.6.2.6
Description of an NG RAN failure MbsNgapIeType 6.6.6.3.3 NGAP Information
Element Type for MBS RanFailureIndication 6.6.6.3.4 NG RAN failure indication
Table 6.6.6.3-2 specifies data types re-used by the Namf_MBSCommunication
service based interface protocol from other specifications, including a
reference to their respective specifications and when needed, a short
description of their use within the Namf_MBSCommunication service based
interface.
Table 6.6.6.1-2: Namf_MBSCommunication re-used Data Types
Data type Reference Comments
* * *
ProblemDetails 3GPP TS 29.571 [6] Common data type used in response bodies
supportedFeatures 3GPP TS 29.571 [6] Supported Features RedirectResponse 3GPP
TS 29.571 [6] Response body of the redirect response message MbsSessionId 3GPP
TS 29.571 [6] MBS Session Identifier NgApCause 3GPP TS 29.571 [6] NGAP Cause
N2InformationTransferResult 6.1.6.3.8 Enumeration N2 Message Transfer Result
#### 6.6.6.2 Structured data types
##### 6.6.6.2.1 Introduction
Structured data types used in Namf_MBSCommunication service are specified in
this clause.
##### 6.6.6.2.2 Type: MbsN2MessageTransferReqData
Table 6.6.6.2.2-1: Definition of type MbsN2MessageTransferReqData
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | mbs | Mbs | M | 1 | This IE | | | SessionId | SessionId | | | shall be | | | | | | | included | | | | | | | to | | | | | | | identify | | | | | | | the MBS | | | | | | | session | | | | | | | to which | | | | | | | the N2 | | | | | | | in | | | | | | | formation | | | | | | | to be | | | | | | | tr | | | | | | | ansferred | | | | | | | is | | | | | | | related. | | +-----------+-----------+---+-----------+-----------+-----------+ | area | Area | O | 0..1 | Area | | | SessionId | SessionId | | | Session | | | | | | | ID | | | | | | | | | | | | | | This IE | | | | | | | may be | | | | | | | present, | | | | | | | if this | | | | | | | is a | | | | | | | Location | | | | | | | dependent | | | | | | | multicast | | | | | | | MBS | | | | | | | session. | | +-----------+-----------+---+-----------+-----------+-----------+ | n2 | N2 | M | 1 | This IE | | | MbsSmInfo | MbsSmInfo | | | shall | | | | | | | contain | | | | | | | the N2 | | | | | | | MBS | | | | | | | Session | | | | | | | In | | | | | | | formation | | | | | | | to be | | | | | | | tr | | | | | | | ansferred | | | | | | | to the | | | | | | | NG-RAN | | | | | | | nodes | | | | | | | serving | | | | | | | the MBS | | | | | | | session | | | | | | | and | | | | | | | a | | | | | | | dditional | | | | | | | in | | | | | | | formation | | | | | | | required | | | | | | | for the | | | | | | | p | | | | | | | rocessing | | | | | | | of the | | | | | | | message | | | | | | | by the | | | | | | | AMF. | | +-----------+-----------+---+-----------+-----------+-----------+ | supporte | Supporte | C | 0..1 | This IE | | | dFeatures | dFeatures | | | shall be | | | | | | | present | | | | | | | if at | | | | | | | least one | | | | | | | optional | | | | | | | feature | | | | | | | defined | | | | | | | in clause | | | | | | | 6.1.8 is | | | | | | | s | | | | | | | upported. | | +-----------+-----------+---+-----------+-----------+-----------+ | ranN | arra | O | 1..N | When | RA | | odeIdList | y(GlobalR | | | present, | N-ID-LIST | | | anNodeId) | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the list | | | | | | | of NG RAN | | | | | | | Node IDs | | | | | | | towards | | | | | | | which the | | | | | | | MBS | | | | | | | related | | | | | | | N2 | | | | | | | message | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | dis | | | | | | | tributed. | | +-----------+-----------+---+-----------+-----------+-----------+ | notifyUri | Uri | O | 0..1 | When | RA | | | | | | present, | N-ID-LIST | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | not | | | | | | | ification | | | | | | | URI to be | | | | | | | used for | | | | | | | receiving | | | | | | | noti | | | | | | | fications | | | | | | | about | | | | | | | possible | | | | | | | failures | | | | | | | of the | | | | | | | MBS | | | | | | | related | | | | | | | N2 | | | | | | | procedure | | | | | | | with an | | | | | | | NG RAN | | | | | | | node in | | | | | | | the | | | | | | | ranNo | | | | | | | deIdList. | | +-----------+-----------+---+-----------+-----------+-----------+ | n | string | O | 0..1 | When | RA | | otifyCorr | | | | present, | N-ID-LIST | | elationId | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | not | | | | | | | ification | | | | | | | co | | | | | | | rrelation | | | | | | | ID to be | | | | | | | sent | | | | | | | within | | | | | | | notif | | | | | | | ications. | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.6.6.2.3 Type: MbsN2MessageTransferRspData
Table 6.6.6.2.3-1: Definition of type MbsN2MessageTransferRspData
Attribute name Data type P Cardinality Description
* * *
result N2InformationTransferResult M 1 This IE shall provide the result of the
MBS N2 information transfer processing at the AMF. supportedFeatures
SupportedFeatures C 0..1 This IE shall be present if at least one optional
feature defined in clause 6.1.8 is supported. failureList array(RanFailure) O
1..N List of MBS related N2 procedure failures
##### 6.6.6.2.4 Type: N2MbsSmInfo
Table 6.6.6.2.4-1: Definition of type N2MbsSmInfo
Attribute name Data type P Cardinality Description
* * *
ngapIeType MbsNgapIeType M 1 This IE shall indicate the NGAP IE type of the
ngapData as specified in clause 6.6.6.4.2.2. ngapData RefToBinaryData M 1 This
IE shall contain the reference the binary data part carrying the NGAP data.
##### 6.6.6.2.5 Type: Notification
Table 6.6.6.2.5-1: Definition of type Notification
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | mbsSessionId | MbsSessionId | M | 1 | MBS Session | | | | | | ID | +---------------+---------------+---+-------------+---------------+ | areaSessionId | AreaSessionId | C | 0..1 | Area Session | | | | | | ID | | | | | | | | | | | | This IE shall | | | | | | be present, | | | | | | if present in | | | | | | the N2Message | | | | | | Transfer | | | | | | request. | +---------------+---------------+---+-------------+---------------+ | failureList | arra | M | 1..N | List of MBS | | | y(RanFailure) | | | related N2 | | | | | | procedure | | | | | | failures | +---------------+---------------+---+-------------+---------------+ | notify | string | C | 0..1 | This IE shall | | CorrelationId | | | | be present if | | | | | | the same IE | | | | | | is present in | | | | | | the N2Message | | | | | | Transfer | | | | | | request. When | | | | | | present, it | | | | | | shall contain | | | | | | the same | | | | | | value as | | | | | | received in | | | | | | the request. | +---------------+---------------+---+-------------+---------------+
##### 6.6.6.2.6 Type: RanFailure
Table 6.6.6.2.6-1: Definition of type RanFailure
Attribute name Data type P Cardinality Description
* * *
ranId GlobalRanNodeId M 1 Indicates the identity of the NG RAN node.
ranFailureCause NgApCause C 0..1 When present, this IE shall contain the NGAP
failure cause received from the NG-RAN. (NOTE) ranFailureIndication
RanFailureIndication C 0..1 This IE shall be present if the AMF cannot deliver
the MBS related N2 message to the NG-RAN node. (NOTE) NOTE: Either the
ranFailureCause IE or the ranFailureIndication IE shall be present.
#### 6.6.6.3 Simple data types and enumerations
##### 6.6.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 6.6.6.3.2 Simple data types
The simple data types defined in Table 6.6.6.3.2-1 shall be supported.
##### 6.6.6.3.3 Enumeration: MbsNgapIeType
Table 6.6.6.3.3-1: Enumeration MbsNgapIeType
Enumeration value Description
* * *
\"MBS_SES_ACT_REQ\" Multicast Session Activation Request Transfer
\"MBS_SES_DEACT_REQ\" Multicast Session Deactivation Request Transfer
\"MBS_SES_UPD_REQ\" Multicast Session Update Request Transfer
##### 6.6.6.3.4 Enumeration: RanFailureIndication
The enumeration RanFailureIndication indicates a NG-RAN failure event.
Table 6.5.6.3.4-1: Enumeration RanFailureIndication
Enumeration value Description
* * *
\"NG_RAN_FAILURE_WITHOUT_RESTART\" The NG-RAN node failed without restart.
\"NG_RAN_NOT_REACHABLE\" The AMF cannot reach the NG RAN node when sending the
MBS related N2 message.
#### 6.6.6.4 Binary data
##### 6.6.6.4.1 Introduction
This clause defines the binary data that shall be supported in a binary body
part in an HTTP multipart message (see clauses 6.6.2.2.2 and 6.6.2.4).
Table 6.6.6.4.1-1: Binary Data Types
Name Clause defined Content type
* * *
N2 MBS Session Management Information 6.6.6.4.2 vnd.3gpp.ngap
##### 6.6.6.4.2 N2 Information
###### 6.6.6.4.2.1 Introduction
N2 Information shall encode NG Application Protocol (NGAP) IEs, as specified
in clause 9.3.A of 3GPP TS 38.413 [12] (ASN.1 encoded), using the
vnd.3gpp.ngap content-type.
###### 6.6.6.4.2.2 NGAP IEs
N2 Information may encode following NGAP MB-SMF related IE specified in in
clause 9.3.5 of 3GPP TS 38.413 [12], as summarized in Table 6.6.6.4.2.2-1.
Table 6.6.6.4.2.2-1: N2 Information content for class MBS-SM
+----------------------+----------------------+----------------------+ | NGAP IE | Reference | Related NGAP message | | | | | | | (3G | | | | PP TS 38.413 [12]) | | +======================+======================+======================+ | Multicast Session | 9.3.5.11 | MULTICAST SESSION | | Activation Request | | ACTIVATION REQUEST | | Transfer | | | +----------------------+----------------------+----------------------+ | Multicast Session | 9.3.5.12 | MULTICAST SESSION | | Deactivation Request | | DEACTIVATION REQUEST | | Transfer | | | +----------------------+----------------------+----------------------+ | Multicast Session | 9.3.5.13 | MULTICAST SESSION | | Update Request | | UPDATE REQUEST | | Transfer | | | +----------------------+----------------------+----------------------+
### 6.6.7 Error Handling
#### 6.6.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS
29.500 [4].
#### 6.6.7.2 Protocol Errors
Protocol Error Handling shall be supported as specified in clause 5.2.7 of
3GPP TS 29.500 [4].
#### 6.6.7.3 Application Errors
The common application errors defined in the Table 5.2.7.2-1 in 3GPP TS 29.500
[4] may also be used for the Namf_MBSCommunication service, and the following
application errors listed in Table 6.6.7.3-1 are specific for the
Namf_MBSCommunication service.
Table 6.6.7.3-1: Application errors
Application Error HTTP status code Description
* * *
MBS_SESSION_NOT_FOUND 404 Not Found Indicates the MBS related N2 Message
transfer has failed due to the MBS Session ID being unknown to the AMF.
### 6.6.8 Feature Negotiation
The optional features in table 6.6.8-1 are defined for the
Namf_MBSCommunication API. They shall be negotiated using the extensibility
mechanism defined in clause 6.6 of 3GPP TS 29.500 [4].
The NF Service Consumer shall indicate the optional features it supports for
the Namf_MBSCommunication service, if any, by including the supportedFeatures
attribute in payload of the HTTP Request Message for following service
operations:
\- N2MessageTransfer, as specified in clause 5.7.2.2.
The AMF shall determine the supported features for the service operations as
specified in clause 6.6 of 3GPP TS 29.500 [4] and shall indicate the supported
features by including the supportedFeatures attribute in payload of the HTTP
response for the service operation.
The syntax of the supportedFeatures attribute is defined in clause 5.2.2 of
3GPP TS 29.571 [6].
The following features are defined for the Namf_MBSCommunication service.
Table 6.6.8-1: Features of supportedFeatures attribute used by
Namf_MBSCommunication service
+-----------------------+-------------+-----+-----------------------+ | Feature Number | Feature | M/O | Description | +=======================+=============+=====+=======================+ | 1 | RAN-ID-LIST | O | N2 MBS session | | | | | request distribution | | | | | with list of NG RAN | | | | | Node IDs provided by | | | | | NF Service Consumer | | | | | to AMF | | | | | | | | | | An NF Service | | | | | Consumer (e.g. | | | | | MB-SMF) and an AMF | | | | | that support this | | | | | feature shall | | | | | support: | | | | | | | | | | > \- | | | | | > | | | | | Namf_MBSCommunicati | | | | | on_N2MessageTransfer | | | | | > Request including | | | | | > the list of NG RAN | | | | | > node IDs towards | | | | | > which the MBS | | | | | > related N2 message | | | | | > is requested to be | | | | | > distributed; and | | | | | > | | | | | > \- the AMF | | | | | > notifying an MBS | | | | | > related N2 | | | | | > procedure failure | | | | | > with an NG RAN node | | | | | > in this list, | | | | | > detected by the AMF | | | | | > or reported by the | | | | | > NG-RAN node. | | | | | | | | | | See clause 8.4.1.2 of | | | | | 3GPP TS 23.527 [33] | | | | | and clauses 5.7.2.2 | | | | | and 5.7.2.3. | +-----------------------+-------------+-----+-----------------------+ | Feature number: The | | | | | order number of the | | | | | feature within the | | | | | s**upportedFeatures | | | | | attribute (starting | | | | | with 1).** | | | | | | | | | | **Feature: A short | | | | | name that can be used | | | | | to refer to the bit | | | | | and to the feature.** | | | | | | | | | | **M/O: Defines if the | | | | | implementation of the | | | | | feature is mandatory | | | | | (** \"**M** \"**) or | | | | | optional | | | | | (** \"**O** \"**).** | | | | | | | | | | Description: A clear | | | | | textual description | | | | | of the feature. | | | | +-----------------------+-------------+-----+-----------------------+
### 6.6.9 Security
As indicated in 3GPP TS 33.501 [27], the access to the Namf_MBSCommunication
API may be authorized by means of the OAuth2 protocol (see IETF RFC 6749
[28]), using the \"Client Credentials\" authorization grant, where the NRF
(see 3GPP TS 29.510 [29]) plays the role of the authorization server.
If Oauth2 authorization is used, an NF Service Consumer, prior to consuming
services offered by the Namf_ MBSCommunication API, shall obtain a \"token\"
from the authorization server, by invoking the Access Token Request service,
as described in 3GPP TS 29.510 [29], clause 5.4.2.2.
NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used for
discovering the Namf_MBSCommunication service.
The Namf_ MBSCommunication API defines scopes for OAuth2 authorization as
specified in 3GPP TS 33.501 [27]; it defines a single scope consisting on the
name of the service (i.e., \"namf-mbs-comm\"), and it does not define any
additional scopes at resource or operation level.
### 6.6.10 HTTP redirection
An HTTP request may be redirected to a different AMF service instance, within
the same AMF or a different AMF of an AMF set, e.g. when an AMF service
instance is part of an AMF (service) set or when using indirect communications
(see 3GPP TS 29.500 [4]).
An SCP that reselects a different AMF producer instance will return the NF
Instance ID of the new AMF producer instance in the 3gpp-Sbi-Producer-Id
header, as specified in clause 6.10.3.4 of 3GPP TS 29.500 [4].
If an AMF within an AMF set redirects a service request to a different AMF of
the set using an 307 Temporary Redirect or 308 Permanent Redirect status code,
the identity of the new AMF towards which the service request is redirected
shall be indicated in the 3gpp-Sbi-Target-Nf-Id header of the 307 Temporary
Redirect or 308 Permanent Redirect response as specified in clause 6.10.9.1 of
3GPP TS 29.500 [4].
###### ## Annex A (normative): OpenAPI specification
# A.1 General
This Annex specifies the API definition of the service provided by AMF in this
document. The APIs are defined by OpenAPI 3.0.0 specifications in YAML format,
following guidelines in 3GPP TS 29.501 [5].
The APIs for specified for following services:
\- Namf_Communication Service
\- Namf_EventExposure Service
\- Namf_MT Service
\- Namf_Location Service
This Annex takes precedence when being discrepant to other parts of the
specification with respect to the encoding of information elements and methods
within the API(s).
NOTE : The semantics and procedures, as well as conditions, e.g. for the
applicability and allowed combinations of attributes or values, not expressed
in the OpenAPI definitions but defined in other parts of the specification
also apply.
Informative copies of the OpenAPI specification files contained in this 3GPP
Technical Specification are available on a Git-based repository, that uses the
GitLab software version control system (see 3GPP TS 29.501 [5] clause 5.3.1
and 3GPP TR 21.900 [37] clause 5B).
# A.2 Namf_Communication API
openapi: 3.0.0
info:
version: 1.3.0-alpha.4
title: Namf_Communication
description: \|
AMF Communication Service.
 2023, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
security:
\- {}
\- oAuth2ClientCredentials:
\- namf-comm
externalDocs:
description: 3GPP TS 29.518 V18.3.0; 5G System; Access and Mobility Management
Services
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.518/\'
servers:
\- url: \'{apiRoot}/namf-comm/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501
paths:
/ue-contexts/{ueContextId}:
put:
summary: Namf_Communication CreateUEContext service Operation
tags:
\- Individual ueContext (Document)
operationId: CreateUEContext
security:
\- {}
\- oAuth2ClientCredentials:
\- namf-comm
\- oAuth2ClientCredentials:
\- namf-comm
\- namf-comm:ue-contexts:mobility
parameters:
\- name: ueContextId
in: path
description: UE Context Identifier
required: true
schema:
type: string
pattern:
\'\^(5g-guti-[0-9]{5,6}[0-9a-fA-F]{14}\|imsi-[0-9]{5,15}\|nai-.+\|gli-.+\|gci-.+\|imei-[0-9]{15}\|imeisv-[0-9]{16}\|.+)\$\'
requestBody:
content:
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/UeContextCreateData\'
binaryDataN2Information:
type: string
format: binary
binaryDataN2InformationExt1:
type: string
format: binary
binaryDataN2InformationExt2:
type: string
format: binary
binaryDataN2InformationExt3:
type: string
format: binary
binaryDataN2InformationExt4:
type: string
format: binary
binaryDataN2InformationExt5:
type: string
format: binary
binaryDataN2InformationExt6:
type: string
format: binary
binaryDataN2InformationExt7:
type: string
format: binary
binaryDataN2InformationExt8:
type: string
format: binary
binaryDataN2InformationExt9:
type: string
format: binary
binaryDataN2InformationExt10:
type: string
format: binary
binaryDataN2InformationExt11:
type: string
format: binary
binaryDataN2InformationExt12:
type: string
format: binary
binaryDataN2InformationExt13:
type: string
format: binary
binaryDataN2InformationExt14:
type: string
format: binary
binaryDataN2InformationExt15:
type: string
format: binary
binaryDataN2InformationExt16:
type: string
format: binary
binaryDataN2InformationExt17:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN2Information:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt1:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt2:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt3:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt4:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt5:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt6:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt7:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt8:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt9:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt10:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt11:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt12:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt13:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt14:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt15:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt16:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt17:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
required: true
callbacks:
onN2MessageNotify:
\'{\$request.body#/n2NotifyUri}\':
post:
summary: Namf_Communication N2 Info Notify (UE Specific) service Operation
tags:
\- N2 Info Notify
operationId: N2InfoNotifyHandoverComplete
requestBody:
description: UE Specific N2 Information Notification
content:
application/json:
schema:
\$ref: \'#/components/schemas/N2InformationNotification\'
responses:
\'200\':
description: N2 Information Notification Response.
content:
application/json:
schema:
\$ref: \'#/components/schemas/N2InfoNotificationRspData\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties:
jsonData:
\$ref: \'#/components/schemas/N2InfoNotificationRspData\'
binaryDataN2InformationExt1:
type: string
format: binary
binaryDataN2InformationExt2:
type: string
format: binary
binaryDataN2InformationExt3:
type: string
format: binary
binaryDataN2InformationExt4:
type: string
format: binary
binaryDataN2InformationExt5:
type: string
format: binary
binaryDataN2InformationExt6:
type: string
format: binary
binaryDataN2InformationExt7:
type: string
format: binary
binaryDataN2InformationExt8:
type: string
format: binary
binaryDataN2InformationExt9:
type: string
format: binary
binaryDataN2InformationExt10:
type: string
format: binary
binaryDataN2InformationExt11:
type: string
format: binary
binaryDataN2InformationExt12:
type: string
format: binary
binaryDataN2InformationExt13:
type: string
format: binary
binaryDataN2InformationExt14:
type: string
format: binary
binaryDataN2InformationExt15:
type: string
format: binary
binaryDataN2InformationExt16:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN2InformationExt1:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt2:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt3:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt4:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt5:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt6:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt7:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt8:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt9:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt10:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt11:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt12:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt13:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt14:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt15:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt16:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
\'204\':
description: Expected response to a successful callback processing
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
responses:
\'201\':
description: UE context successfully created.
headers:
Location:
description: >
Contains the URI of the newly created resource, according to the structure:
{apiRoot}/namf-comm/\/ue-contexts/{ueContextId}
required: true
schema:
type: string
3gpp-Sbi-Producer-Id:
description: >
Indicating the AMF serving the UE Context. This header shall be included when
the
UE Context is created in a target AMF other than the initial AMF sending the
response.
schema:
type: string
content:
application/json:
schema:
\$ref: \'#/components/schemas/UeContextCreatedData\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/UeContextCreatedData\'
binaryDataN2Information:
type: string
format: binary
binaryDataN2InformationExt1:
type: string
format: binary
binaryDataN2InformationExt2:
type: string
format: binary
binaryDataN2InformationExt3:
type: string
format: binary
binaryDataN2InformationExt4:
type: string
format: binary
binaryDataN2InformationExt5:
type: string
format: binary
binaryDataN2InformationExt6:
type: string
format: binary
binaryDataN2InformationExt7:
type: string
format: binary
binaryDataN2InformationExt8:
type: string
format: binary
binaryDataN2InformationExt9:
type: string
format: binary
binaryDataN2InformationExt10:
type: string
format: binary
binaryDataN2InformationExt11:
type: string
format: binary
binaryDataN2InformationExt12:
type: string
format: binary
binaryDataN2InformationExt13:
type: string
format: binary
binaryDataN2InformationExt14:
type: string
format: binary
binaryDataN2InformationExt15:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN2Information:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt1:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt2:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt3:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt4:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt5:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt6:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt7:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt8:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt9:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt10:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt11:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt12:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt13:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt14:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt15:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
description: Bad Request
content:
application/json:
schema:
\$ref: \'#/components/schemas/UeContextCreateError\'
application/problem+json: # error originated by an SCP or SEPP
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
description: Forbidden
content:
application/json:
schema:
\$ref: \'#/components/schemas/UeContextCreateError\'
application/problem+json: # error originated by an SCP or SEPP
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Response parts
jsonData:
\$ref: \'#/components/schemas/UeContextCreateError\'
binaryDataN2Information:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN2Information:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
description: Internal Server Error
content:
application/json:
schema:
\$ref: \'#/components/schemas/UeContextCreateError\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/ue-contexts/{ueContextId}/release:
post:
summary: Namf_Communication ReleaseUEContext service Operation
tags:
\- Individual ueContext (Document)
operationId: ReleaseUEContext
security:
\- {}
\- oAuth2ClientCredentials:
\- namf-comm
\- oAuth2ClientCredentials:
\- namf-comm
\- namf-comm:ue-contexts:mobility
parameters:
\- name: ueContextId
in: path
description: UE Context Identifier
required: true
schema:
type: string
pattern:
\'\^(5g-guti-[0-9]{5,6}[0-9a-fA-F]{14}\|imsi-[0-9]{5,15}\|nai-.+\|gli-.+\|gci-.+\|imei-[0-9]{15}\|imeisv-[0-9]{16}\|.+)\$\'
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/UEContextRelease\'
required: true
responses:
\'204\':
description: UE Context successfully released
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/ue-contexts/{ueContextId}/assign-ebi:
post:
summary: Namf_Communication EBI Assignment service Operation
tags:
\- Individual ueContext (Document)
operationId: EBIAssignment
security:
\- {}
\- oAuth2ClientCredentials:
\- namf-comm
\- oAuth2ClientCredentials:
\- namf-comm
\- namf-comm:ue-contexts:assign-ebi
parameters:
\- name: ueContextId
in: path
description: UE Context Identifier
required: true
schema:
type: string
pattern:
\'\^(5g-guti-[0-9]{5,6}[0-9a-fA-F]{14}\|imsi-[0-9]{5,15}\|nai-.+\|gli-.+\|gci-.+\|imei-[0-9]{15}\|imeisv-[0-9]{16}\|.+)\$\'
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/AssignEbiData\'
required: true
responses:
\'200\':
description: EBI Assignment successfully performed.
content:
application/json:
schema:
\$ref: \'#/components/schemas/AssignedEbiData\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
description: Bad Request
content:
application/json:
schema:
\$ref: \'#/components/schemas/AssignEbiError\'
application/problem+json: # error originated by an SCP
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
description: Forbidden
content:
application/json:
schema:
\$ref: \'#/components/schemas/AssignEbiError\'
application/problem+json: # error originated by an SCP
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'409\':
description: Conflict
content:
application/json:
schema:
\$ref: \'#/components/schemas/AssignEbiError\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
description: Internal Server Error
content:
application/json:
schema:
\$ref: \'#/components/schemas/AssignEbiError\'
application/problem+json: # error originated by an SCP
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/ue-contexts/{ueContextId}/transfer:
post:
summary: Namf_Communication UEContextTransfer service Operation
tags:
\- Individual ueContext (Document)
operationId: UEContextTransfer
security:
\- {}
\- oAuth2ClientCredentials:
\- namf-comm
\- oAuth2ClientCredentials:
\- namf-comm
\- namf-comm:ue-contexts:mobility
parameters:
\- name: ueContextId
in: path
description: UE Context Identifier
required: true
schema:
type: string
pattern:
\'\^(5g-guti-[0-9]{5,6}[0-9a-fA-F]{14}\|imsi-[0-9]{5,15}\|nai-.+\|gli-.+\|gci-.+\|imei-[0-9]{15}\|imeisv-[0-9]{16}\|.+)\$\'
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/UeContextTransferReqData\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/UeContextTransferReqData\'
binaryDataN1Message:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN1Message:
contentType: application/vnd.3gpp.5gnas
headers:
Content-Id:
schema:
type: string
required: true
responses:
\'200\':
description: UE context transfer successfully initiated.
content:
application/json:
schema:
\$ref: \'#/components/schemas/UeContextTransferRspData\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/UeContextTransferRspData\'
binaryDataN2Information:
type: string
format: binary
binaryDataN2InformationExt1:
type: string
format: binary
binaryDataN2InformationExt2:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN2Information:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt1:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt2:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/ue-contexts/{ueContextId}/transfer-update:
post:
summary: Namf_Communication RegistrationStatusUpdate service Operation
tags:
\- Individual ueContext (Document)
operationId: RegistrationStatusUpdate
security:
\- {}
\- oAuth2ClientCredentials:
\- namf-comm
\- oAuth2ClientCredentials:
\- namf-comm
\- namf-comm:ue-contexts:mobility
parameters:
\- name: ueContextId
in: path
description: UE Context Identifier
required: true
schema:
type: string
pattern:
\'\^(5g-guti-[0-9]{5,6}[0-9a-fA-F]{14}\|imsi-[0-9]{5,15}\|nai-.+\|gli-.+\|gci-.+\|imei-[0-9]{15}\|imeisv-[0-9]{16}\|.+)\$\'
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/UeRegStatusUpdateReqData\'
required: true
responses:
\'200\':
description: UE context transfer status successfully updated.
content:
application/json:
schema:
\$ref: \'#/components/schemas/UeRegStatusUpdateRspData\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/ue-contexts/{ueContextId}/relocate:
post:
summary: Namf_Communication RelocateUEContext service Operation
tags:
\- Individual ueContext (Document)
operationId: RelocateUEContext
security:
\- {}
\- oAuth2ClientCredentials:
\- namf-comm
\- oAuth2ClientCredentials:
\- namf-comm
\- namf-comm:ue-contexts:mobility
parameters:
\- name: ueContextId
in: path
description: UE Context Identifier
required: true
schema:
type: string
pattern:
\'\^(5g-guti-[0-9]{5,6}[0-9a-fA-F]{14}\|imsi-[0-9]{5,15}\|nai-.+\|gli-.+\|gci-.+\|imei-[0-9]{15}\|imeisv-[0-9]{16}\|.+)\$\'
requestBody:
content:
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/UeContextRelocateData\'
binaryDataForwardRelocationRequest:
type: string
format: binary
binaryDataN2Information:
type: string
format: binary
binaryDataN2InformationExt1:
type: string
format: binary
binaryDataN2InformationExt2:
type: string
format: binary
binaryDataN2InformationExt3:
type: string
format: binary
binaryDataN2InformationExt4:
type: string
format: binary
binaryDataN2InformationExt5:
type: string
format: binary
binaryDataN2InformationExt6:
type: string
format: binary
binaryDataN2InformationExt7:
type: string
format: binary
binaryDataN2InformationExt8:
type: string
format: binary
binaryDataN2InformationExt9:
type: string
format: binary
binaryDataN2InformationExt10:
type: string
format: binary
binaryDataN2InformationExt11:
type: string
format: binary
binaryDataN2InformationExt12:
type: string
format: binary
binaryDataN2InformationExt13:
type: string
format: binary
binaryDataN2InformationExt14:
type: string
format: binary
binaryDataN2InformationExt15:
type: string
format: binary
binaryDataN2InformationExt16:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataForwardRelocationRequest:
contentType: application/vnd.3gpp.gtpc
headers:
Content-Id:
schema:
type: string
binaryDataN2Information:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt1:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt2:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt3:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt4:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt5:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt6:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt7:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt8:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt9:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt10:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt11:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt12:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt13:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt14:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt15:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2InformationExt16:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
required: true
responses:
\'201\':
description: UE context successfully relocated.
headers:
Location:
description: \'Contains the URI of the newly created resource, according to
the structure: {apiRoot}/namf-comm/\/ue-
contexts/{ueContextId}/relocate\'
required: true
schema:
type: string
content:
application/json:
schema:
\$ref: \'#/components/schemas/UeContextRelocatedData\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/ue-contexts/{ueContextId}/cancel-relocate:
post:
summary: Namf_Communication CancelRelocateUEContext service Operation
tags:
\- Individual ueContext (Document)
operationId: CancelRelocateUEContext
security:
\- {}
\- oAuth2ClientCredentials:
\- namf-comm
\- oAuth2ClientCredentials:
\- namf-comm
\- namf-comm:ue-contexts:mobility
parameters:
\- name: ueContextId
in: path
description: UE Context Identifier
required: true
schema:
type: string
pattern:
\'\^(5g-guti-[0-9]{5,6}[0-9a-fA-F]{14}\|imsi-[0-9]{5,15}\|nai-.+\|gli-.+\|gci-.+\|imei-[0-9]{15}\|imeisv-[0-9]{16}\|.+)\$\'
requestBody:
content:
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/UeContextCancelRelocateData\'
binaryDataGtpcMessage:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataGtpcMessage:
contentType: application/vnd.3gpp.gtpc
headers:
Content-Id:
schema:
type: string
required: true
responses:
\'204\':
description: UE Context successfully released
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/ue-contexts/{ueContextId}/n1-n2-messages:
post:
summary: Namf_Communication N1N2 Message Transfer (UE Specific) service
Operation
tags:
\- n1N2Message collection (Collection)
operationId: N1N2MessageTransfer
security:
\- {}
\- oAuth2ClientCredentials:
\- namf-comm
\- oAuth2ClientCredentials:
\- namf-comm
\- namf-comm:n1-n2-messages
parameters:
\- name: ueContextId
in: path
description: UE Context Identifier
required: true
schema:
type: string
pattern:
\'\^(imsi-[0-9]{5,15}\|nai-.+\|gli-.+\|gci-.+\|imei-[0-9]{15}\|imeisv-[0-9]{16}\|cid-.{1,255}\|.+)\$\'
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/N1N2MessageTransferReqData\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/N1N2MessageTransferReqData\'
binaryDataN1Message:
type: string
format: binary
binaryDataN2Information:
type: string
format: binary
binaryMtData:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN1Message:
contentType: application/vnd.3gpp.5gnas
headers:
Content-Id:
schema:
type: string
binaryDataN2Information:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryMtData:
contentType: application/vnd.3gpp.5gnas
headers:
Content-Id:
schema:
type: string
required: true
responses:
\'202\':
description: N1N2 Message Transfer accepted.
content:
application/json:
schema:
\$ref: \'#/components/schemas/N1N2MessageTransferRspData\'
headers:
Location:
description: >
The URI of the resource located on the AMF In this release, the URI shall only
be
used by NF Service Consumer to correlate the possible N1/N2 Message Transfer
Failure
Notification With the related N1/N2 Message Transfer Operation. The NF service
consumer shall not send any service requests towards the URI received in the
Location header.
required: true
schema:
type: string
\'200\':
description: N1N2 Message Transfer successfully initiated.
content:
application/json:
schema:
\$ref: \'#/components/schemas/N1N2MessageTransferRspData\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'409\':
description: Conflicts
content:
application/json:
schema:
\$ref: \'#/components/schemas/N1N2MessageTransferError\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
description: Gateway Timeout
content:
application/json:
schema:
\$ref: \'#/components/schemas/N1N2MessageTransferError\'
application/problem+json: # error originated by an SCP or SEPP
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
default:
description: Unexpected error
callbacks:
onN1N2TransferFailure:
\'{\$request.body#/n1n2FailureTxfNotifURI}\':
post:
summary: Namf_Communication N1N2Transfer Failure Notification service
Operation
tags:
\- N1N2 Transfer Failure Notification
operationId: N1N2TransferFailureNotification
requestBody:
description: N1N2Transfer Failure Notification
content:
application/json:
schema:
\$ref: \'#/components/schemas/N1N2MsgTxfrFailureNotification\'
responses:
\'204\':
description: Expected response to a successful callback processing
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
/ue-contexts/{ueContextId}/n1-n2-messages/subscriptions:
post:
summary: Namf_Communication N1N2 Message Subscribe (UE Specific) service
Operation
tags:
\- N1N2 Subscriptions Collection for Individual UE Contexts (Collection)
operationId: N1N2MessageSubscribe
security:
\- {}
\- oAuth2ClientCredentials:
\- namf-comm
\- oAuth2ClientCredentials:
\- namf-comm
\- namf-comm:n1-n2-messages
parameters:
\- name: ueContextId
in: path
description: UE Context Identifier
required: true
schema:
type: string
pattern:
\'\^(imsi-[0-9]{5,15}\|nai-.+\|gli-.+\|gci-.+\|imei-[0-9]{15}\|imeisv-[0-9]{16}\|.+)\$\'
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/UeN1N2InfoSubscriptionCreateData\'
required: true
responses:
\'201\':
description: N1N2 Message Subscription successfully created.
headers:
Location:
description: \'Contains the URI of the newly created resource, according to
the structure: {apiRoot}/namf-comm/\/ue-
contexts/{ueContextId}/n1-n2-messages/subscriptions/{subscriptionId}\'
required: true
schema:
type: string
content:
application/json:
schema:
\$ref: \'#/components/schemas/UeN1N2InfoSubscriptionCreatedData\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
callbacks:
onN1N2MessageNotify:
\'{\$request.body#/n1NotifyCallbackUri}\':
post:
summary: Namf_Communication N1 Message Notify service Operation
tags:
\- N1 Message Notify
operationId: N1MessageNotify
requestBody:
description: N1 Message Notification
content:
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/N1MessageNotification\'
binaryDataN1Message:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN1Message:
contentType: application/vnd.3gpp.5gnas
headers:
Content-Id:
schema:
type: string
responses:
\'204\':
description: Expected response to a successful callback processing
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'{\$request.body#/n2NotifyCallbackUri}\':
post:
summary: Namf_Communication N2 Info Notify (UE Specific) service Operation
tags:
\- N2 Info Notify
operationId: N2InfoNotify
requestBody:
description: UE Specific N2 Information Notification
content:
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/N2InformationNotification\'
binaryDataN1Message:
type: string
format: binary
binaryDataN2Information:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN1Message:
contentType: application/vnd.3gpp.5gnas
headers:
Content-Id:
schema:
type: string
binaryDataN2Information:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
responses:
\'204\':
description: Expected response to a successful callback processing
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
/ue-contexts/{ueContextId}/n1-n2-messages/subscriptions/{subscriptionId}:
delete:
summary: Namf_Communication N1N2 Message UnSubscribe (UE Specific) service
Operation
tags:
\- N1N2 Individual Subscription (Document)
operationId: N1N2MessageUnSubscribe
security:
\- {}
\- oAuth2ClientCredentials:
\- namf-comm
\- oAuth2ClientCredentials:
\- namf-comm
\- namf-comm:n1-n2-messages
parameters:
\- name: ueContextId
in: path
description: UE Context Identifier
required: true
schema:
type: string
pattern:
\'\^(imsi-[0-9]{5,15}\|nai-.+\|gli-.+\|gci-.+\|imei-[0-9]{15}\|imeisv-[0-9]{16}\|.+)\$\'
\- name: subscriptionId
in: path
description: Subscription Identifier
required: true
schema:
type: string
responses:
\'204\':
description: N1N2 Message Subscription successfully removed.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
/non-ue-n2-messages/transfer:
post:
summary: Namf_Communication Non UE N2 Message Transfer service Operation
tags:
\- Non UE N2Messages collection _(Collection)_
operationId: NonUeN2MessageTransfer
security:
\- {}
\- oAuth2ClientCredentials:
\- namf-comm
\- oAuth2ClientCredentials:
\- namf-comm
\- namf-comm:non-ue-n2-messages
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/N2InformationTransferReqData\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/N2InformationTransferReqData\'
binaryDataN2Information:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN2Information:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
required: true
responses:
\'200\':
description: Non UE N2 Message Transfer successfully initiated.
content:
application/json:
schema:
\$ref: \'#/components/schemas/N2InformationTransferRspData\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
description: Bad Request
content:
application/json:
schema:
\$ref: \'#/components/schemas/N2InformationTransferError\'
application/problem+json: # error originated by an SCP or SEPP
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
description: Forbidden
content:
application/json:
schema:
\$ref: \'#/components/schemas/N2InformationTransferError\'
application/problem+json: # error originated by an SCP or SEPP
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
\'404\':
description: Not Found
content:
application/json:
schema:
\$ref: \'#/components/schemas/N2InformationTransferError\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
description: Internal Server Error
content:
application/json:
schema:
\$ref: \'#/components/schemas/N2InformationTransferError\'
application/problem+json: # error originated by an SCP or SEPP
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
description: Service Unavailable
content:
application/json:
schema:
\$ref: \'#/components/schemas/N2InformationTransferError\'
application/problem+json: # error originated by an SCP or SEPP
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
default:
description: Unexpected error
/non-ue-n2-messages/subscriptions:
post:
summary: Namf_Communication Non UE N2 Info Subscribe service Operation
tags:
\- Non UE N2Messages Subscriptions collection (Collection)
operationId: NonUeN2InfoSubscribe
security:
\- {}
\- oAuth2ClientCredentials:
\- namf-comm
\- oAuth2ClientCredentials:
\- namf-comm
\- namf-comm:non-ue-n2-messages
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/NonUeN2InfoSubscriptionCreateData\'
required: true
responses:
\'201\':
description: Non UE N2 Info Subscription successfully created.
headers:
Location:
description: \'Contains the URI of the newly created resource, according to
the structure: {apiRoot}/namf-comm/\/non-
ue-n2-messages/subscriptions/{n2NotifySubscriptionId}\'
required: true
schema:
type: string
content:
application/json:
schema:
\$ref: \'#/components/schemas/NonUeN2InfoSubscriptionCreatedData\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
callbacks:
onN2InfoNotify:
\'{\$request.body#/n2NotifyCallbackUri}\':
post:
summary: Namf_Communication Non UE N2 Info Notify service Operation
tags:
\- Non UE N2 Info Notify
operationId: NonUeN2InfoNotify
requestBody:
description: Non UE N2 Information Notification
content:
application/json:
schema:
\$ref: \'#/components/schemas/N2InformationNotification\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/N2InformationNotification\'
binaryDataN2Information:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN2Information:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
responses:
\'204\':
description: Expected response to a successful callback processing
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
/non-ue-n2-messages/subscriptions/{n2NotifySubscriptionId}:
delete:
summary: Namf_Communication Non UE N2 Info UnSubscribe service Operation
tags:
\- Non UE N2 Message Notification Individual Subscription (Document)
operationId: NonUeN2InfoUnSubscribe
security:
\- {}
\- oAuth2ClientCredentials:
\- namf-comm
\- oAuth2ClientCredentials:
\- namf-comm
\- namf-comm:non-ue-n2-messages
parameters:
\- name: n2NotifySubscriptionId
in: path
description: N2 info Subscription Identifier
required: true
schema:
type: string
responses:
\'204\':
description: Non UE N2 INfo Subscription successfully removed.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
/subscriptions:
post:
summary: Namf_Communication AMF Status Change Subscribe service Operation
tags:
\- subscriptions collection (Collection)
operationId: AMFStatusChangeSubscribe
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/SubscriptionData\'
required: true
responses:
\'201\':
description: N1N2 Message Subscription successfully created.
headers:
Location:
description: \'Contains the URI of the newly created resource, according to
the structure: {apiRoot}/namf-
comm/\/subscriptions/{subscriptionId}\'
required: true
schema:
type: string
content:
application/json:
schema:
\$ref: \'#/components/schemas/SubscriptionData\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
callbacks:
onAmfStatusChange:
\'{\$request.body#/amfStatusUri}\':
post:
summary: Amf Status Change Notify service Operation
tags:
\- Amf Status Change Notify
operationId: AmfStatusChangeNotify
requestBody:
description: Amf Status Change Notification
content:
application/json:
schema:
\$ref: \'#/components/schemas/AmfStatusChangeNotification\'
responses:
\'204\':
description: Expected response to a successful callback processing
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
/subscriptions/{subscriptionId}:
delete:
summary: Namf_Communication AMF Status Change UnSubscribe service Operation
tags:
\- individual subscription (Document)
operationId: AMFStatusChangeUnSubscribe
parameters:
\- name: subscriptionId
in: path
description: AMF Status Change Subscription Identifier
required: true
schema:
type: string
responses:
\'204\':
description: N1N2 Message Subscription successfully removed.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
put:
summary: Namf_Communication AMF Status Change Subscribe Modify service
Operation
tags:
\- individual subscription (Document)
operationId: AMFStatusChangeSubscribeModfy
parameters:
\- name: subscriptionId
in: path
description: AMF Status Change Subscription Identifier
required: true
schema:
type: string
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/SubscriptionData\'
required: true
responses:
\'200\':
description: Subscription modified successfully
content:
application/json:
schema:
\$ref: \'#/components/schemas/SubscriptionData\'
\'204\':
description: Events subscription modification is accepted entirely
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
callbacks:
OnAmfStatusChange:
\'{\$request.body#/amfStatusUri}\':
post:
summary: Amf Status Change Notify service Operation
tags:
\- Amf Status Change Notify
operationId: AmfStatusChangeNOtify
requestBody:
description: Amf Status Change Notification
content:
application/json:
schema:
\$ref: \'#/components/schemas/AmfStatusChangeNotification\'
responses:
\'204\':
description: Expected response to a successful callback processing
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes:
namf-comm: Access to the Namf_Communication API
namf-comm:ue-contexts:mobility: >
Access to service operations applying to UE context resources, i.e.,
UEContextTransfer, RegistrationStatusUpdate, CreateUEContext,
ReleaseUEContext,
RelocateUEContext, and CancelRelocateUEContext.
namf-comm:ue-contexts:assign-ebi: >
Access to service operations applying to UE context resources for EBI
assignment,
i.e., EBIAssignment.
namf-comm:n1-n2-messages: >
Access to service operations applying to n1-n2-messages resources, i.e.,
N1N2MessageSubscribe, N1N2MessageUnSubscribe, N1N2MessageTransfer,
N1MessageNotify and
N2InfoNotify
namf-comm:non-ue-n2-messages: >
Access to service operations applying to the non-ue-n2-messages resources,
i.e.,
NonUeN2MessageTransfer, NonUeN2InfoSubscribe, NonUeN2InfoUnSubscribe, and
NonUeN2InfoNotify
schemas:
#
# STRUCTURED DATA TYPES
#
SubscriptionData:
description: Data within an AMF Status Change Subscription request and
response
type: object
properties:
amfStatusUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
guamiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Guami\'
minItems: 1
required:
\- amfStatusUri
AmfStatusChangeNotification:
description: Data within an AMF Status Change Notification request
type: object
properties:
amfStatusInfoList:
type: array
items:
\$ref: \'#/components/schemas/AmfStatusInfo\'
minItems: 1
required:
\- amfStatusInfoList
AmfStatusInfo:
description: AMF Status Information
type: object
properties:
guamiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Guami\'
minItems: 1
statusChange:
\$ref: \'#/components/schemas/StatusChange\'
targetAmfRemoval:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AmfName\'
targetAmfFailure:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AmfName\'
required:
\- guamiList
\- statusChange
AssignEbiData:
description: Data within an EBI assignment request
type: object
properties:
pduSessionId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionId\'
arpList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Arp\'
minItems: 1
releasedEbiList:
type: array
items:
\$ref: \'#/components/schemas/EpsBearerId\'
minItems: 1
oldGuami:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Guami\'
modifiedEbiList:
type: array
items:
\$ref: \'TS29502_Nsmf_PDUSession.yaml#/components/schemas/EbiArpMapping\'
minItems: 1
required:
\- pduSessionId
AssignedEbiData:
description: Data within a successful response to an EBI assignment request
type: object
properties:
pduSessionId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionId\'
assignedEbiList:
type: array
items:
\$ref: \'TS29502_Nsmf_PDUSession.yaml#/components/schemas/EbiArpMapping\'
minItems: 0
failedArpList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Arp\'
minItems: 1
releasedEbiList:
type: array
items:
\$ref: \'#/components/schemas/EpsBearerId\'
minItems: 1
modifiedEbiList:
type: array
items:
\$ref: \'#/components/schemas/EpsBearerId\'
minItems: 1
required:
\- pduSessionId
\- assignedEbiList
AssignEbiFailed:
description: Represents failed assignment of EBI(s)
type: object
properties:
pduSessionId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionId\'
failedArpList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Arp\'
minItems: 1
required:
\- pduSessionId
UEContextRelease:
description: Data within a Release UE Context request
type: object
properties:
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
unauthenticatedSupi:
type: boolean
default: false
ngapCause:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NgApCause\'
required:
\- ngapCause
N2InformationTransferReqData:
description: Data within a N2 Information Transfer request containing the N2
information requested to be transferred to 5G AN
type: object
properties:
taiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
minItems: 1
ratSelector:
\$ref: \'#/components/schemas/RatSelector\'
globalRanNodeList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GlobalRanNodeId\'
minItems: 1
n2Information:
\$ref: \'#/components/schemas/N2InfoContainer\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- n2Information
NonUeN2InfoSubscriptionCreateData:
description: Data within a create subscription request for non-UE specific N2
information notification
type: object
properties:
globalRanNodeList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GlobalRanNodeId\'
minItems: 1
anTypeList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AccessType\'
minItems: 1
n2InformationClass:
\$ref: \'#/components/schemas/N2InformationClass\'
n2NotifyCallbackUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
nfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- n2InformationClass
\- n2NotifyCallbackUri
NonUeN2InfoSubscriptionCreatedData:
description: Data for the created subscription for non-UE specific N2
information notification
type: object
properties:
n2NotifySubscriptionId:
type: string
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
n2InformationClass:
\$ref: \'#/components/schemas/N2InformationClass\'
required:
\- n2NotifySubscriptionId
UeN1N2InfoSubscriptionCreateData:
description: Data within a create subscription request for UE specific N1
and/or N2 information notification
type: object
properties:
n2InformationClass:
\$ref: \'#/components/schemas/N2InformationClass\'
n2NotifyCallbackUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
n1MessageClass:
\$ref: \'#/components/schemas/N1MessageClass\'
n1NotifyCallbackUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
nfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
oldGuami:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Guami\'
UeN1N2InfoSubscriptionCreatedData:
description: Data for the created subscription for UE specific N1 and/or N2
information notification
type: object
properties:
n1n2NotifySubscriptionId:
type: string
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- n1n2NotifySubscriptionId
N2InformationNotification:
description: Data within a N2 information notification request
type: object
properties:
n2NotifySubscriptionId:
type: string
n2InfoContainer:
\$ref: \'#/components/schemas/N2InfoContainer\'
toReleaseSessionList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionId\'
minItems: 1
lcsCorrelationId:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/CorrelationID\'
notifyReason:
\$ref: \'#/components/schemas/N2InfoNotifyReason\'
smfChangeInfoList:
type: array
items:
\$ref: \'#/components/schemas/SmfChangeInfo\'
minItems: 1
ranNodeId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GlobalRanNodeId\'
initialAmfName:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AmfName\'
anN2IPv4Addr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
anN2IPv6Addr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr\'
guami:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Guami\'
notifySourceNgRan:
type: boolean
default: false
required:
\- n2NotifySubscriptionId
N2InfoContainer:
description: N2 information container
type: object
properties:
n2InformationClass:
\$ref: \'#/components/schemas/N2InformationClass\'
smInfo:
\$ref: \'#/components/schemas/N2SmInformation\'
ranInfo:
\$ref: \'#/components/schemas/N2RanInformation\'
nrppaInfo:
\$ref: \'#/components/schemas/NrppaInformation\'
pwsInfo:
\$ref: \'#/components/schemas/PwsInformation\'
v2xInfo:
\$ref: \'#/components/schemas/V2xInformation\'
proseInfo:
\$ref: \'#/components/schemas/ProSeInformation\'
tssInfo:
\$ref: \'#/components/schemas/TssInformation\'
rsppInfo:
\$ref: \'#/components/schemas/RsppInformation\'
a2xInfo:
\$ref: \'#/components/schemas/A2xInformation\'
required:
\- n2InformationClass
N1MessageNotification:
description: Data within a N1 message notification request
type: object
properties:
n1NotifySubscriptionId:
type: string
n1MessageContainer:
\$ref: \'#/components/schemas/N1MessageContainer\'
lcsCorrelationId:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/CorrelationID\'
registrationCtxtContainer:
\$ref: \'#/components/schemas/RegistrationContextContainer\'
newLmfIdentification:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/LMFIdentification\'
guami:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Guami\'
cIoT5GSOptimisation:
type: boolean
default: false
ecgi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ecgi\'
ncgi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ncgi\'
tai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
pruInd:
\$ref: \'TS29503_Nudm_SDM.yaml#/components/schemas/PruInd\'
required:
\- n1MessageContainer
N1MessageContainer:
description: N1 Message container
type: object
properties:
n1MessageClass:
\$ref: \'#/components/schemas/N1MessageClass\'
n1MessageContent:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
nfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
serviceInstanceId:
type: string
required:
\- n1MessageClass
\- n1MessageContent
N1N2MessageTransferReqData:
description: Data within a N1/N2 message transfer request
type: object
properties:
n1MessageContainer:
\$ref: \'#/components/schemas/N1MessageContainer\'
n2InfoContainer:
\$ref: \'#/components/schemas/N2InfoContainer\'
mtData:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
skipInd:
type: boolean
default: false
lastMsgIndication:
type: boolean
pduSessionId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionId\'
lcsCorrelationId:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/CorrelationID\'
ppi:
\$ref: \'#/components/schemas/Ppi\'
arp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Arp\'
5qi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/5Qi\'
n1n2FailureTxfNotifURI:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
smfReallocationInd:
type: boolean
default: false
areaOfValidity:
\$ref: \'#/components/schemas/AreaOfValidity\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
oldGuami:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Guami\'
maAcceptedInd:
type: boolean
default: false
extBufSupport:
type: boolean
default: false
targetAccess:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AccessType\'
nfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
pruInd:
type: boolean
enum:
\- true
N1N2MessageTransferRspData:
description: Data within a N1/N2 message transfer response
type: object
properties:
cause:
\$ref: \'#/components/schemas/N1N2MessageTransferCause\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- cause
RegistrationContextContainer:
description: Registration Context Container used to send the UE context
information, N1 message from UE, AN address etc during Registration with AMF
re-allocation procedure
type: object
properties:
ueContext:
\$ref: \'#/components/schemas/UeContext\'
localTimeZone:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/TimeZone\'
anType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AccessType\'
anN2ApId:
type: integer
ranNodeId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GlobalRanNodeId\'
initialAmfName:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AmfName\'
userLocation:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UserLocation\'
rrcEstCause:
type: string
pattern: \'\^[0-9a-fA-F]+\$\'
ueContextRequest:
type: boolean
default: false
initialAmfN2ApId:
type: integer
anN2IPv4Addr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
anN2IPv6Addr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr\'
allowedNssai:
\$ref: \'TS29531_Nnssf_NSSelection.yaml#/components/schemas/AllowedNssai\'
configuredNssai:
type: array
items:
\$ref: \'TS29531_Nnssf_NSSelection.yaml#/components/schemas/ConfiguredSnssai\'
minItems: 1
rejectedNssaiInPlmn:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
minItems: 1
rejectedNssaiInTa:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
minItems: 1
selectedPlmnId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
iabNodeInd:
type: boolean
default: false
mbsrNodeInd:
type: boolean
default: false
ceModeBInd:
\$ref: \'#/components/schemas/CeModeBInd\'
lteMInd:
\$ref: \'#/components/schemas/LteMInd\'
authenticatedInd:
type: boolean
default: false
npnAccessInfo:
\$ref: \'#/components/schemas/NpnAccessInfo\'
required:
\- ueContext
\- anType
\- anN2ApId
\- ranNodeId
\- initialAmfName
\- userLocation
AreaOfValidity:
description: Area of validity information for N2 information transfer
type: object
properties:
taiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
minItems: 0
required:
\- taiList
UeContextTransferReqData:
description: Data within a UE Context Transfer Request to start transferring
of an individual ueContext resource from old AMF to new AMF
type: object
properties:
reason:
\$ref: \'#/components/schemas/TransferReason\'
accessType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AccessType\'
plmnId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid\'
regRequest:
\$ref: \'#/components/schemas/N1MessageContainer\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- reason
\- accessType
UeContextTransferRspData:
description: Data within a successful response to the UE Context Transfer
request
type: object
properties:
ueContext:
\$ref: \'#/components/schemas/UeContext\'
ueRadioCapability:
\$ref: \'#/components/schemas/N2InfoContent\'
ueRadioCapabilityForPaging:
\$ref: \'#/components/schemas/N2InfoContent\'
ueNbiotRadioCapability:
\$ref: \'#/components/schemas/N2InfoContent\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- ueContext
UeContext:
description: Represents an individual ueContext resource
type: object
properties:
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
supiUnauthInd:
type: boolean
gpsiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
minItems: 1
pei:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Pei\'
udmGroupId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfGroupId\'
ausfGroupId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfGroupId\'
pcfGroupId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfGroupId\'
routingIndicator:
type: string
hNwPubKeyId:
type: integer
groupList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GroupId\'
minItems: 1
drxParameter:
\$ref: \'#/components/schemas/DrxParameter\'
subRfsp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RfspIndex\'
pcfRfsp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RfspIndex\'
usedRfsp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RfspIndex\'
subUeAmbr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ambr\'
pcfUeAmbr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ambr\'
subUeSliceMbrList:
type: object
additionalProperties:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SliceMbr\'
minProperties: 1
description: A map(list of key-value pairs) where Snssai serves as key.
smsfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
seafData:
\$ref: \'#/components/schemas/SeafData\'
5gMmCapability:
\$ref: \'#/components/schemas/5GMmCapability\'
pcfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
pcfSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
pcfAmpServiceSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfServiceSetId\'
pcfUepServiceSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfServiceSetId\'
pcfBinding:
\$ref: \'#/components/schemas/SbiBindingLevel\'
pcfAmPolicyUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
amPolicyReqTriggerList:
type: array
items:
\$ref: \'#/components/schemas/PolicyReqTrigger\'
minItems: 1
pcfUePolicyUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
uePolicyReqTriggerList:
type: array
items:
\$ref: \'#/components/schemas/PolicyReqTrigger\'
minItems: 1
hpcfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
hpcfSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
restrictedRatList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RatType\'
minItems: 1
forbiddenAreaList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Area\'
minItems: 1
serviceAreaRestriction:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ServiceAreaRestriction\'
restrictedCoreNwTypeList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/CoreNetworkType\'
minItems: 1
eventSubscriptionList:
type: array
items:
\$ref: \'#/components/schemas/ExtAmfEventSubscription\'
minItems: 1
mmContextList:
type: array
items:
\$ref: \'#/components/schemas/MmContext\'
minItems: 1
maxItems: 2
sessionContextList:
type: array
items:
\$ref: \'#/components/schemas/PduSessionContext\'
minItems: 1
epsInterworkingInfo:
\$ref: \'TS29503_Nudm_UECM.yaml#/components/schemas/EpsInterworkingInfo\'
traceData:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/TraceData\'
serviceGapExpiryTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
stnSr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/StnSr\'
cMsisdn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/CMsisdn\'
msClassmark2:
\$ref: \'#/components/schemas/MSClassmark2\'
supportedCodecList:
type: array
items:
\$ref: \'#/components/schemas/SupportedCodec\'
minItems: 1
smallDataRateStatusInfos:
type: array
items:
\$ref: \'#/components/schemas/SmallDataRateStatusInfo\'
minItems: 1
restrictedPrimaryRatList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RatType\'
minItems: 1
restrictedSecondaryRatList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RatType\'
minItems: 1
v2xContext:
\$ref: \'#/components/schemas/V2xContext\'
lteCatMInd:
type: boolean
default: false
redCapInd:
type: boolean
default: false
moExpDataCounter:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MoExpDataCounter\'
cagData:
\$ref: \'TS29503_Nudm_SDM.yaml#/components/schemas/CagData\'
managementMdtInd:
type: boolean
default: false
immediateMdtConf:
\$ref: \'#/components/schemas/ImmediateMdtConf\'
ecRestrictionDataWb:
\$ref: \'#/components/schemas/EcRestrictionDataWb\'
ecRestrictionDataNb:
type: boolean
default: false
iabOperationAllowed:
type: boolean
proseContext:
\$ref: \'#/components/schemas/ProseContext\'
analyticsSubscriptionList:
type: array
items:
\$ref: \'#/components/schemas/AnalyticsSubscription\'
minItems: 1
pcfAmpBindingInfo:
type: string
pcfUepBindingInfo:
type: string
usedServiceAreaRestriction:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ServiceAreaRestriction\'
praInAmPolicy:
type: object
additionalProperties:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PresenceInfo\'
minProperties: 1
description: A map(list of key-value pairs) where praId serves as key.
praInUePolicy:
type: object
additionalProperties:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PresenceInfo\'
minProperties: 1
description: A map(list of key-value pairs) where praId serves as key.
updpSubscriptionData:
\$ref: \'#/components/schemas/UpdpSubscriptionData\'
smPolicyNotifyPduList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionInfo\'
minItems: 1
pcfUeCallbackInfo:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PcfUeCallbackInfo\'
uePositioningCap:
\$ref:
\'TS29572_Nlmf_Location.yaml#/components/schemas/UePositioningCapabilities\'
astiDistributionIndication:
type: boolean
default: false
tsErrorBudget:
type: integer
snpnOnboardInd:
type: boolean
default: false
smfSelInfo:
\$ref:
\'TS29507_Npcf_AMPolicyControl.yaml#/components/schemas/SmfSelectionData\'
pcfUeSliceMbrList:
type: object
additionalProperties:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SliceMbr\'
minProperties: 1
description: A map(list of key-value pairs) where Snssai serves as key.
smsfSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
smsfServiceSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfServiceSetId\'
smsfBindingInfo:
type: string
disasterRoamingInd:
type: boolean
default: false
disasterPlmn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
satelliteBackhaulCat:
\$ref:
\'TS29571_CommonData.yaml#/components/schemas/SatelliteBackhaulCategory\'
wlServAreaRes:
\$ref:
\'TS29571_CommonData.yaml#/components/schemas/WirelineServiceAreaRestriction\'
asTimeDisParam:
\$ref:
\'TS29507_Npcf_AMPolicyControl.yaml#/components/schemas/AsTimeDistributionParam\'
amPolicyInfoContainer:
\$ref: \'#/components/schemas/AmPolicyInfoContainer\'
a2xContext:
\$ref: \'#/components/schemas/A2xContext\'
mbsrOperationAllowed:
\$ref: \'TS29503_Nudm_SDM.yaml#/components/schemas/MbsrOperationAllowed\'
N2SmInformation:
description: Represents the session management SMF related N2 information data
part
type: object
properties:
pduSessionId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionId\'
n2InfoContent:
\$ref: \'#/components/schemas/N2InfoContent\'
sNssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
homePlmnSnssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
iwkSnssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
subjectToHo:
type: boolean
required:
\- pduSessionId
N2InfoContent:
description: Represents a transparent N2 information content to be relayed by
AMF
type: object
properties:
ngapMessageType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
ngapIeType:
\$ref: \'#/components/schemas/NgapIeType\'
ngapData:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
required:
\- ngapData
NrppaInformation:
description: Represents a NRPPa related N2 information data part
type: object
properties:
nfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
nrppaPdu:
\$ref: \'#/components/schemas/N2InfoContent\'
serviceInstanceId:
type: string
required:
\- nfId
\- nrppaPdu
PwsInformation:
description: Represents a PWS related information data part
type: object
properties:
messageIdentifier:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint16\'
serialNumber:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint16\'
pwsContainer:
\$ref: \'#/components/schemas/N2InfoContent\'
bcEmptyAreaList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GlobalRanNodeId\'
minItems: 1
sendRanResponse:
type: boolean
default: false
omcId:
\$ref: \'#/components/schemas/OmcIdentifier\'
nfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
required:
\- messageIdentifier
\- serialNumber
\- pwsContainer
N1N2MsgTxfrFailureNotification:
description: Data within a N1/N2 Message Transfer Failure Notification request
type: object
properties:
cause:
\$ref: \'#/components/schemas/N1N2MessageTransferCause\'
n1n2MsgDataUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
retryAfter:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
required:
\- cause
\- n1n2MsgDataUri
N1N2MessageTransferError:
description: Data within a N1/N2 Message Transfer Error response
type: object
properties:
error:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
errInfo:
\$ref: \'#/components/schemas/N1N2MsgTxfrErrDetail\'
required:
\- error
N1N2MsgTxfrErrDetail:
description: N1/N2 Message Transfer Error Details
type: object
properties:
retryAfter:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
highestPrioArp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Arp\'
maxWaitingTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
N2InformationTransferRspData:
description: Data within a successful response to the N2 Information Transfer
request to transfer N2 Information to the AN
type: object
properties:
result:
\$ref: \'#/components/schemas/N2InformationTransferResult\'
pwsRspData:
\$ref: \'#/components/schemas/PWSResponseData\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- result
MmContext:
description: Represents a Mobility Management Context in UE Context
type: object
properties:
accessType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AccessType\'
nasSecurityMode:
\$ref: \'#/components/schemas/NasSecurityMode\'
epsNasSecurityMode:
\$ref: \'#/components/schemas/EpsNasSecurityMode\'
nasDownlinkCount:
\$ref: \'#/components/schemas/NasCount\'
nasUplinkCount:
\$ref: \'#/components/schemas/NasCount\'
ueSecurityCapability:
\$ref: \'#/components/schemas/UeSecurityCapability\'
s1UeNetworkCapability:
\$ref: \'#/components/schemas/S1UeNetworkCapability\'
allowedNssai:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
minItems: 1
nssaiMappingList:
type: array
items:
\$ref: \'#/components/schemas/NssaiMapping\'
minItems: 1
allowedHomeNssai:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
minItems: 1
partiallyAllowedNssai:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PartiallyAllowedSnssai\'
minItems: 1
nsInstanceList:
type: array
items:
\$ref: \'TS29531_Nnssf_NSSelection.yaml#/components/schemas/NsiId\'
minItems: 1
expectedUEbehavior:
\$ref: \'#/components/schemas/ExpectedUeBehavior\'
ueDifferentiationInfo:
\$ref: \'#/components/schemas/UeDifferentiationInfo\'
plmnAssiUeRadioCapId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnAssiUeRadioCapId\'
manAssiUeRadioCapId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ManAssiUeRadioCapId\'
ucmfDicEntryId:
type: string
n3IwfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GlobalRanNodeId\'
wagfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GlobalRanNodeId\'
tngfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GlobalRanNodeId\'
anN2ApId:
type: integer
nssaaStatusList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NssaaStatus\'
minItems: 1
pendingNssaiMappingList:
type: array
items:
\$ref: \'#/components/schemas/NssaiMapping\'
minItems: 1
uuaaMmStatus:
\$ref: \'#/components/schemas/UuaaMmStatus\'
required:
\- accessType
SeafData:
description: Represents SEAF data derived from data received from AUSF
type: object
properties:
ngKsi:
\$ref: \'#/components/schemas/NgKsi\'
keyAmf:
\$ref: \'#/components/schemas/KeyAmf\'
nh:
type: string
pattern: \'\^[A-Fa-f0-9]+\$\'
ncc:
type: integer
minimum: 0
maximum: 7
keyAmfChangeInd:
type: boolean
keyAmfHDerivationInd:
type: boolean
required:
\- ngKsi
\- keyAmf
NasSecurityMode:
description: Indicates the NAS Security Mode
type: object
properties:
integrityAlgorithm:
\$ref: \'#/components/schemas/IntegrityAlgorithm\'
cipheringAlgorithm:
\$ref: \'#/components/schemas/CipheringAlgorithm\'
required:
\- integrityAlgorithm
\- cipheringAlgorithm
PduSessionContext:
description: Represents a PDU Session Context in UE Context
type: object
properties:
pduSessionId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionId\'
smContextRef:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
sNssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
selectedDnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
accessType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AccessType\'
additionalAccessType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AccessType\'
allocatedEbiList:
type: array
items:
\$ref: \'TS29502_Nsmf_PDUSession.yaml#/components/schemas/EbiArpMapping\'
minItems: 1
hsmfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
hsmfSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
hsmfServiceSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfServiceSetId\'
smfBinding:
\$ref: \'#/components/schemas/SbiBindingLevel\'
vsmfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
vsmfSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
vsmfServiceSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfServiceSetId\'
vsmfBinding:
\$ref: \'#/components/schemas/SbiBindingLevel\'
ismfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
ismfSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
ismfServiceSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfServiceSetId\'
ismfBinding:
\$ref: \'#/components/schemas/SbiBindingLevel\'
nsInstance:
\$ref: \'TS29531_Nnssf_NSSelection.yaml#/components/schemas/NsiId\'
smfServiceInstanceId:
type: string
maPduSession:
type: boolean
default: false
cnAssistedRanPara:
\$ref: \'TS29502_Nsmf_PDUSession.yaml#/components/schemas/CnAssistedRanPara\'
nrfManagementUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
nrfDiscoveryUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
nrfAccessTokenUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
smfBindingInfo:
type: string
vsmfBindingInfo:
type: string
ismfBindingInfo:
type: string
additionalSnssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
interPlmnApiRoot:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
pgwFqdn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
pgwIpAddr:
\$ref: \'TS29503_Nudm_SDM.yaml#/components/schemas/IpAddress\'
plmnId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
anchorSmfSupportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
anchorSmfOauth2Required:
type: boolean
hrsboAllowedInd:
type: boolean
required:
\- pduSessionId
\- smContextRef
\- sNssai
\- dnn
\- accessType
NssaiMapping:
description: Represents the mapping between a S-NSSAI in serving PLMN to a
S-NSSAI in home PLMN
type: object
properties:
mappedSnssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
hSnssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
required:
\- mappedSnssai
\- hSnssai
UeRegStatusUpdateReqData:
description: Data within a UE registration status update request to indicate a
completion of transferring at a target AMF
type: object
properties:
transferStatus:
\$ref: \'#/components/schemas/UeContextTransferStatus\'
toReleaseSessionList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionId\'
minItems: 1
pcfReselectedInd:
type: boolean
smfChangeInfoList:
type: array
items:
\$ref: \'#/components/schemas/SmfChangeInfo\'
minItems: 1
analyticsNotUsedList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
minItems: 1
toReleaseSessionInfo:
type: array
items:
\$ref: \'#/components/schemas/ReleaseSessionInfo\'
minItems: 1
required:
\- transferStatus
UeRegStatusUpdateRspData:
description: Data within a UE registration status update response to provide
the status of UE context transfer status update at a source AMF
type: object
properties:
regStatusTransferComplete:
type: boolean
required:
\- regStatusTransferComplete
AssignEbiError:
description: Data within a failure response to the EBI assignment request
type: object
properties:
error:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
failureDetails:
\$ref: \'#/components/schemas/AssignEbiFailed\'
required:
\- error
\- failureDetails
UeContextCreateData:
description: Data within a request to create an individual ueContext resource
type: object
properties:
ueContext:
\$ref: \'#/components/schemas/UeContext\'
targetId:
\$ref: \'#/components/schemas/NgRanTargetId\'
sourceToTargetData:
\$ref: \'#/components/schemas/N2InfoContent\'
pduSessionList:
type: array
items:
\$ref: \'#/components/schemas/N2SmInformation\'
minItems: 1
n2NotifyUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
ueRadioCapability:
\$ref: \'#/components/schemas/N2InfoContent\'
ueRadioCapabilityForPaging:
\$ref: \'#/components/schemas/N2InfoContent\'
ngapCause:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NgApCause\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
servingNetwork:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid\'
required:
\- ueContext
\- targetId
\- sourceToTargetData
\- pduSessionList
UeContextCreatedData:
description: Data within a successful response for creating an individual
ueContext resource
type: object
properties:
ueContext:
\$ref: \'#/components/schemas/UeContext\'
targetToSourceData:
\$ref: \'#/components/schemas/N2InfoContent\'
pduSessionList:
type: array
items:
\$ref: \'#/components/schemas/N2SmInformation\'
minItems: 1
failedSessionList:
type: array
items:
\$ref: \'#/components/schemas/N2SmInformation\'
minItems: 1
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
pcfReselectedInd:
type: boolean
analyticsNotUsedList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
minItems: 1
required:
\- ueContext
\- targetToSourceData
\- pduSessionList
UeContextCreateError:
description: Data within a failure response for creating a UE context
type: object
properties:
error:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
ngapCause:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NgApCause\'
targetToSourceFailureData:
\$ref: \'#/components/schemas/N2InfoContent\'
required:
\- error
UeContextRelocateData:
description: Data within a Relocate UE Context request
type: object
properties:
ueContext:
\$ref: \'#/components/schemas/UeContext\'
targetId:
\$ref: \'#/components/schemas/NgRanTargetId\'
sourceToTargetData:
\$ref: \'#/components/schemas/N2InfoContent\'
forwardRelocationRequest:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
pduSessionList:
type: array
items:
\$ref: \'#/components/schemas/N2SmInformation\'
minItems: 1
ueRadioCapability:
\$ref: \'#/components/schemas/N2InfoContent\'
ngapCause:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NgApCause\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- ueContext
\- targetId
\- sourceToTargetData
\- forwardRelocationRequest
UeContextRelocatedData:
description: Data within a Relocate UE Context response
type: object
properties:
ueContext:
\$ref: \'#/components/schemas/UeContext\'
required:
\- ueContext
UeContextCancelRelocateData:
description: Data structure used for cancellation of UE Context Relocation
type: object
properties:
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
relocationCancelRequest:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
required:
\- relocationCancelRequest
NgRanTargetId:
description: Indicates a NG RAN as target of the handover
type: object
properties:
ranNodeId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GlobalRanNodeId\'
tai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
required:
\- ranNodeId
\- tai
PWSResponseData:
description: Data related PWS included in a N2 Information Transfer response
type: object
properties:
ngapMessageType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
serialNumber:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint16\'
messageIdentifier:
type: integer
unknownTaiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
minItems: 1
n2PwsSubMissInd:
type: boolean
enum:
\- true
required:
\- ngapMessageType
\- serialNumber
\- messageIdentifier
PWSErrorData:
description: Data related to PWS error included in a N2 Information Transfer
failure response
type: object
properties:
namfCause:
type: integer
required:
\- namfCause
N2InformationTransferError:
description: Data within a failure response for a non-UE related N2
Information Transfer
type: object
properties:
error:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
pwsErrorInfo:
\$ref: \'#/components/schemas/PWSErrorData\'
required:
\- error
NgKsi:
description: Represents the ngKSI
type: object
properties:
tsc:
\$ref: \'#/components/schemas/ScType\'
ksi:
type: integer
minimum: 0
maximum: 6
required:
\- tsc
\- ksi
KeyAmf:
description: Represents the K~amf~ or K\'~amf~
type: object
properties:
keyType:
\$ref: \'#/components/schemas/KeyAmfType\'
keyVal:
type: string
required:
\- keyType
\- keyVal
ExpectedUeBehavior:
description: Represents the expected UE behavior (e.g. UE moving trajectory)
and its validity period
type: object
properties:
expMoveTrajectory:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UserLocation\'
minItems: 1
validityTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
required:
\- expMoveTrajectory
\- validityTime
N2RanInformation:
description: Represents the RAN related N2 information data part
type: object
properties:
n2InfoContent:
\$ref: \'#/components/schemas/N2InfoContent\'
required:
\- n2InfoContent
N2InfoNotificationRspData:
description: Data within a N2 information notification response
type: object
properties:
secRatDataUsageList:
type: array
items:
\$ref: \'#/components/schemas/N2SmInformation\'
minItems: 1
SmallDataRateStatusInfo:
description: Represents the small data rate status
type: object
properties:
Snssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
Dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
SmallDataRateStatus:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SmallDataRateStatus\'
required:
\- Snssai
\- Dnn
\- SmallDataRateStatus
SmfChangeInfo:
description: SMF change information for PDU session(s)
type: object
properties:
pduSessionIdList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionId\'
minItems: 1
smfChangeInd:
\$ref: \'#/components/schemas/SmfChangeIndication\'
required:
\- pduSessionIdList
\- smfChangeInd
V2xContext:
description: Represents the V2X services related parameters
type: object
properties:
nrV2xServicesAuth:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NrV2xAuth\'
lteV2xServicesAuth:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/LteV2xAuth\'
nrUeSidelinkAmbr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/BitRate\'
lteUeSidelinkAmbr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/BitRate\'
pc5QoSPara:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Pc5QoSPara\'
V2xInformation:
description: V2X related N2 information
type: object
properties:
n2Pc5Pol:
\$ref: \'#/components/schemas/N2InfoContent\'
ProSeInformation:
description: Represents 5G ProSe related N2 information.
type: object
properties:
n2Pc5ProSePol:
\$ref: \'#/components/schemas/N2InfoContent\'
ImmediateMdtConf:
description: Immediate MDT Configuration
type: object
properties:
jobType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/JobType\'
measurementLteList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MeasurementLteForMdt\'
minItems: 1
measurementNrList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MeasurementNrForMdt\'
minItems: 1
reportingTriggerList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ReportingTrigger\'
minItems: 1
reportInterval:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ReportIntervalMdt\'
reportIntervalNr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ReportIntervalNrMdt\'
reportAmount:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ReportAmountMdt\'
eventThresholdRsrp:
type: integer
minimum: 0
maximum: 97
eventThresholdRsrq:
type: integer
minimum: 0
maximum: 34
eventThresholdRsrpNr:
type: integer
minimum: 0
maximum: 127
eventThresholdRsrqNr:
type: integer
minimum: 0
maximum: 127
collectionPeriodRmmLte:
\$ref:
\'TS29571_CommonData.yaml#/components/schemas/CollectionPeriodRmmLteMdt\'
collectionPeriodRmmNr:
\$ref:
\'TS29571_CommonData.yaml#/components/schemas/CollectionPeriodRmmNrMdt\'
measurementPeriodLte:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MeasurementPeriodLteMdt\'
areaScope:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AreaScope\'
positioningMethod:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PositioningMethodMdt\'
addPositioningMethodList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PositioningMethodMdt\'
minItems: 1
mdtAllowedPlmnIdList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
minItems: 1
maxItems: 16
sensorMeasurementList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SensorMeasurement\'
minItems: 1
required:
\- jobType
EpsNasSecurityMode:
description: Indicates the EPS NAS Security Mode
type: object
properties:
integrityAlgorithm:
\$ref: \'#/components/schemas/EpsNasIntegrityAlgorithm\'
cipheringAlgorithm:
\$ref: \'#/components/schemas/EpsNasCipheringAlgorithm\'
required:
\- integrityAlgorithm
\- cipheringAlgorithm
EcRestrictionDataWb:
description: Enhanced Coverage Restriction Data for WB-N1 mode
type: object
properties:
ecModeARestricted:
type: boolean
default: false
ecModeBRestricted:
type: boolean
required:
\- ecModeBRestricted
ExtAmfEventSubscription:
description: AMF event subscription extended with additional information
received for the subscription
allOf:
\- \$ref:
\'TS29518_Namf_EventExposure.yaml#/components/schemas/AmfEventSubscription\'
\- \$ref: \'#/components/schemas/AmfEventSubscriptionAddInfo\'
AmfEventSubscriptionAddInfo:
description: Additional information received for an AMF event subscription,
e.g. binding indications
type: object
properties:
bindingInfo:
type: array
items:
type: string
minItems: 1
maxItems: 2
subscribingNfType:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/NFType\'
eventSyncInd:
type: boolean
nfConsumerInfo:
type: array
items:
type: string
minItems: 1
aoiStateList:
type: object
description: >
Map of subscribed Area of Interest (AoI) Event State in the old AMF. The JSON
pointer to
an AmfEventArea element in the areaList IE (or a PresenceInfo element in
presenceInfoList IE) of the AmfEvent data type shall be the key of the map.
additionalProperties:
\$ref: \'#/components/schemas/AreaOfInterestEventState\'
accessToken:
type: string
description: >
JWS Compact Serialized representation of JWS signed JSON object
(AccessTokenClaims
defined in 3GPP TS 29.510)
UeDifferentiationInfo:
description: Represents the UE Differentiation Information and its validity
time
type: object
properties:
periodicComInd:
\$ref: \'#/components/schemas/PeriodicCommunicationIndicator\'
periodicTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
scheduledComTime:
\$ref:
\'TS29571_CommonData.yaml#/components/schemas/ScheduledCommunicationTime\'
stationaryInd:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/StationaryIndication\'
trafficProfile:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/TrafficProfile\'
batteryInd:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/BatteryIndication\'
validityTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
CeModeBInd:
description: CE-mode-B Support Indicator.
type: object
properties:
ceModeBSupportInd:
type: boolean
required:
\- ceModeBSupportInd
LteMInd:
description: LTE-M Indication.
type: object
properties:
lteCatMInd:
type: boolean
required:
\- lteCatMInd
NpnAccessInfo:
description: NPN Access Information.
type: object
properties:
cellCagInfo:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/CagId\'
minItems: 1
ProseContext:
description: Represents the ProSe services related parameters.
type: object
properties:
directDiscovery:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UeAuth\'
directComm:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UeAuth\'
l2Relay:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UeAuth\'
l3Relay:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UeAuth\'
l2Remote:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UeAuth\'
l3Remote:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UeAuth\'
l2UeRelay:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UeAuth\'
l3UeRelay:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UeAuth\'
l2End:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UeAuth\'
l3End:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UeAuth\'
multiPathComm:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UeAuth\'
nrUePc5Ambr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/BitRate\'
pc5QoSPara:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Pc5QoSPara\'
AnalyticsSubscription:
description: Analytics subscriptions created in the NWDAF.
type: object
properties:
nwdafId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
nwdafSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
nwdafSubscriptionList:
type: array
items:
\$ref: \'#/components/schemas/NwdafSubscription\'
minItems: 1
required:
\- nwdafSubscriptionList
NwdafSubscription:
description: Individual NWDAF subscription identified by the subscription Id.
type: object
properties:
nwdafEvtSubsServiceUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
nwdafEventsSubscription:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/NnwdafEventsSubscription\'
required:
\- nwdafEvtSubsServiceUri
\- nwdafEventsSubscription
UpdpSubscriptionData:
description: UE policy delivery related N1 message notification subscription
data.
type: object
properties:
updpNotifySubscriptionId:
type: string
updpNotifyCallbackUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
updpCallbackBinding:
type: string
required:
\- updpNotifySubscriptionId
\- updpNotifyCallbackUri
ReleaseSessionInfo:
description: PDU session Id(s) and the cause for triggering the release.
type: object
properties:
releaseSessionList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionId\'
minItems: 1
releaseCause:
\$ref: \'#/components/schemas/ReleaseCause\'
required:
\- releaseSessionList
\- releaseCause
AreaOfInterestEventState:
description: Event State of AoI event in old AMF
type: object
required:
\- presence
properties:
presence:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PresenceState\'
individualPraIdList:
type: array
items:
type: string
minItems: 1
TssInformation:
description: Represents a Tss related N2 information data part
type: object
properties:
nfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
tssContainer:
\$ref: \'#/components/schemas/N2InfoContent\'
required:
\- tssContainer
RsppInformation:
description: Represents Ranging/SL positioning related N2 information.
type: object
properties:
n2Pc5RsppPol:
\$ref: \'#/components/schemas/N2InfoContent\'
A2xContext:
description: Represents the A2X services related parameters
type: object
properties:
nrA2xServicesAuth:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NrA2xAuth\'
lteA2xServicesAuth:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/LteA2xAuth\'
nrUeSidelinkAmbr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/BitRate\'
lteUeSidelinkAmbr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/BitRate\'
pc5QoSPara:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Pc5QoSPara\'
A2xInformation:
description: A2X related N2 information
type: object
properties:
n2Pc5Pol:
\$ref: \'#/components/schemas/N2InfoContent\'
AmPolicyInfoContainer:
description: AM Policy Information Container
type: object
properties:
sliceUsgCtrlInfoSets:
type: object
description: A map(list of key-value pairs) where Snssai serves as key.
additionalProperties:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SliceUsageControlInfo\'
minProperties: 1
#
# SIMPLE DATA TYPES
#
EpsBearerId:
description: EPS Bearer Identifier
type: integer
minimum: 0
maximum: 15
Ppi:
description: Paging Policy Indicator
type: integer
minimum: 0
maximum: 7
NasCount:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uinteger\'
5GMmCapability:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Bytes\'
UeSecurityCapability:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Bytes\'
S1UeNetworkCapability:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Bytes\'
DrxParameter:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Bytes\'
OmcIdentifier:
description: Represents the OMC Identifier
type: string
MSClassmark2:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Bytes\'
SupportedCodec:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Bytes\'
#
# ENUMERATIONS
#
StatusChange:
description: Enumeration for AMF status
anyOf:
\- type: string
enum:
\- AMF_UNAVAILABLE
\- AMF_AVAILABLE
\- type: string
N2InformationClass:
description: Enumeration for N2 Information Class
anyOf:
\- type: string
enum:
\- SM
\- NRPPa
\- PWS
\- PWS-BCAL
\- PWS-RF
\- RAN
\- V2X
\- PROSE
\- TSS
\- RSPP
\- A2X
\- type: string
N1MessageClass:
description: Enumeration for N1 Message Class
anyOf:
\- type: string
enum:
\- 5GMM
\- SM
\- LPP
\- SMS
\- UPDP
\- LCS
\- PRU
\- type: string
N1N2MessageTransferCause:
description: Enumeration for N1N2Message Transfer Cause
anyOf:
\- type: string
enum:
\- ATTEMPTING_TO_REACH_UE
\- N1_N2_TRANSFER_INITIATED
\- WAITING_FOR_ASYNCHRONOUS_TRANSFER
\- UE_NOT_RESPONDING
\- N1_MSG_NOT_TRANSFERRED
\- N2_MSG_NOT_TRANSFERRED
\- UE_NOT_REACHABLE_FOR_SESSION
\- TEMPORARY_REJECT_REGISTRATION_ONGOING
\- TEMPORARY_REJECT_HANDOVER_ONGOING
\- REJECTION_DUE_TO_PAGING_RESTRICTION
\- AN_NOT_RESPONDING
\- FAILURE_CAUSE_UNSPECIFIED
\- type: string
UeContextTransferStatus:
description: Describes the status of an individual ueContext resource in UE
Context Transfer procedures
anyOf:
\- type: string
enum:
\- TRANSFERRED
\- NOT_TRANSFERRED
\- type: string
N2InformationTransferResult:
description: Describes the result of N2 information transfer by AMF to the AN
anyOf:
\- type: string
enum:
\- N2_INFO_TRANSFER_INITIATED
\- type: string
CipheringAlgorithm:
description: Indicates the supported Ciphering Algorithm
anyOf:
\- type: string
enum:
\- NEA0
\- NEA1
\- NEA2
\- NEA3
\- type: string
IntegrityAlgorithm:
description: Indicates the supported Integrity Algorithm
anyOf:
\- type: string
enum:
\- NIA0
\- NIA1
\- NIA2
\- NIA3
\- type: string
SmsSupport:
description: Indicates the supported SMS delivery of a UE
anyOf:
\- type: string
enum:
\- 3GPP
\- NON_3GPP
\- BOTH
\- NONE
\- type: string
ScType:
description: Indicates the security context type
anyOf:
\- type: string
enum:
\- NATIVE
\- MAPPED
\- type: string
KeyAmfType:
description: Indicates the K~amf~ type
anyOf:
\- type: string
enum:
\- KAMF
\- KPRIMEAMF
\- type: string
TransferReason:
description: Indicates UE Context Transfer Reason
anyOf:
\- type: string
enum:
\- INIT_REG
\- MOBI_REG
\- MOBI_REG_UE_VALIDATED
\- type: string
PolicyReqTrigger:
description: Policy Request Triggers
anyOf:
\- type: string
enum:
\- LOCATION_CHANGE
\- PRA_CHANGE
\- ALLOWED_NSSAI_CHANGE
\- NWDAF_DATA_CHANGE
\- PLMN_CHANGE
\- CON_STATE_CHANGE
\- SMF_SELECT_CHANGE
\- ACCESS_TYPE_CHANGE
\- SAT_BACKHAUL_CHANGE
\- type: string
RatSelector:
description: Indicates the RAT type for the transfer of N2 information
anyOf:
\- type: string
enum:
\- E-UTRA
\- NR
\- type: string
NgapIeType:
description: Indicates the supported NGAP IE types
anyOf:
\- type: string
enum:
\- PDU_RES_SETUP_REQ
\- PDU_RES_REL_CMD
\- PDU_RES_MOD_REQ
\- HANDOVER_CMD
\- HANDOVER_REQUIRED
\- HANDOVER_PREP_FAIL
\- SRC_TO_TAR_CONTAINER
\- TAR_TO_SRC_CONTAINER
\- TAR_TO_SRC_FAIL_CONTAINER
\- RAN_STATUS_TRANS_CONTAINER
\- SON_CONFIG_TRANSFER
\- NRPPA_PDU
\- UE_RADIO_CAPABILITY
\- RIM_INFO_TRANSFER
\- SECONDARY_RAT_USAGE
\- PC5_QOS_PARA
\- EARLY_STATUS_TRANS_CONTAINER
\- UE_RADIO_CAPABILITY_FOR_PAGING
\- type: string
N2InfoNotifyReason:
description: N2 Information Notify Reason
anyOf:
\- type: string
enum:
\- HANDOVER_COMPLETED
\- type: string
SmfChangeIndication:
description: Indicates the I-SMF or V-SMF change or removal
anyOf:
\- type: string
enum:
\- CHANGED
\- REMOVED
\- type: string
SbiBindingLevel:
description: SBI Binding Level
anyOf:
\- type: string
enum:
\- NF_INSTANCE_BINDING
\- NF_SET_BINDING
\- NF_SERVICE_SET_BINDING
\- NF_SERVICE_INSTANCE_BINDING
\- type: string
EpsNasCipheringAlgorithm:
description: Indicates the supported EPS NAS Ciphering Algorithm
anyOf:
\- type: string
enum:
\- EEA0
\- EEA1
\- EEA2
\- EEA3
\- type: string
EpsNasIntegrityAlgorithm:
description: Indicates the supported EPS NAS Integrity Algorithm
anyOf:
\- type: string
enum:
\- EIA0
\- EIA1
\- EIA2
\- EIA3
\- type: string
PeriodicCommunicationIndicator:
description: Indicates the Periodic Communication Indicator
anyOf:
\- type: string
enum:
\- PIORIODICALLY
\- ON_DEMAND
\- type: string
UuaaMmStatus:
description: Indicates the UUAA-MM status
anyOf:
\- type: string
enum:
\- SUCCESS
\- PENDING
\- FAILED
\- type: string
ReleaseCause:
description: The cause for triggering the release.
anyOf:
\- type: string
enum:
\- SNPN_SNPN_MOBILITY
\- NO_HR_AGREEMENT
\- UNSPECIFIED
\- type: string
# A.3 Namf_EventExposure API
openapi: 3.0.0
info:
version: 1.3.0-alpha.3
title: Namf_EventExposure
description: \|
AMF Event Exposure Service.
 2023, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
security:
\- {}
\- oAuth2ClientCredentials:
\- namf-evts
externalDocs:
description: 3GPP TS 29.518 V18.2.0; 5G System; Access and Mobility Management
Services
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.518/\'
servers:
\- url: \'{apiRoot}/namf-evts/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501
paths:
/subscriptions:
post:
summary: Namf_EventExposure Subscribe service Operation
tags:
\- Subscriptions collection (Collection)
operationId: CreateSubscription
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/AmfCreateEventSubscription\'
required: true
responses:
\'201\':
description: Subsription Created
headers:
Location:
description: \'Contains the URI of the newly created resource, according to
the structure: {apiRoot}/namf-
evts/\/subscriptions/{subscriptionId}\'
required: true
schema:
type: string
content:
application/json:
schema:
\$ref: \'#/components/schemas/AmfCreatedEventSubscription\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
callbacks:
onEventReport:
\'{\$request.body#/subscription/eventNotifyUri}\':
post:
summary: Event Notificaiton Delivery
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/AmfEventNotification\'
required: true
responses:
\'204\':
description: Successful acknowledgement
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
onSubscriptionIdChangeEvtReport:
\'{\$request.body#/subscription/subsChangeNotifyUri}\':
post:
summary: Event Notificaiton Delivery For Subscription Id Change
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/AmfEventNotification\'
required: true
responses:
\'204\':
description: Successful acknowledgement
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/subscriptions/{subscriptionId}:
patch:
summary: Namf_EventExposure Subscribe Modify service Operation
tags:
\- Individual subscription (Document)
operationId: ModifySubscription
parameters:
\- name: subscriptionId
in: path
required: true
description: Unique ID of the subscription to be modified
schema:
type: string
requestBody:
content:
application/json-patch+json:
schema:
oneOf:
\- type: array
items:
\$ref: \'#/components/schemas/AmfUpdateEventSubscriptionItem\'
minItems: 1
\- type: array
items:
\$ref: \'#/components/schemas/AmfUpdateEventOptionItem\'
minItems: 1
maxItems: 1
required: true
responses:
\'200\':
description: Subsription modified successfully
content:
application/json:
schema:
\$ref: \'#/components/schemas/AmfUpdatedEventSubscription\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
delete:
summary: Namf_EventExposure Unsubscribe service Operation
tags:
\- Individual subscription (Document)
operationId: DeleteSubscription
parameters:
\- name: subscriptionId
in: path
required: true
description: Unique ID of the subscription to be deleted
schema:
type: string
responses:
\'204\':
description: Subsription deleted successfully
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes:
namf-evts: Access to the Namf_EventExposure API
schemas:
AmfEventSubscription:
description: Represents an individual event subscription resource on AMF
type: object
properties:
eventList:
type: array
items:
\$ref: \'#/components/schemas/AmfEvent\'
minItems: 1
eventNotifyUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
notifyCorrelationId:
type: string
nfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
subsChangeNotifyUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
subsChangeNotifyCorrelationId:
type: string
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
groupId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GroupId\'
excludeSupiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
minItems: 1
excludeGpsiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
minItems: 1
includeSupiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
minItems: 1
includeGpsiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
minItems: 1
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
pei:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Pei\'
anyUE:
type: boolean
options:
\$ref: \'#/components/schemas/AmfEventMode\'
sourceNfType:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/NFType\'
termNotifyInd:
type: boolean
required:
\- eventList
\- eventNotifyUri
\- notifyCorrelationId
\- nfId
AmfEvent:
description: Describes an event to be subscribed
type: object
properties:
type:
\$ref: \'#/components/schemas/AmfEventType\'
immediateFlag:
type: boolean
default: false
areaList:
type: array
items:
\$ref: \'#/components/schemas/AmfEventArea\'
minItems: 1
locationFilterList:
type: array
items:
\$ref: \'#/components/schemas/LocationFilter\'
minItems: 1
refId:
\$ref: \'TS29503_Nudm_EE.yaml#/components/schemas/ReferenceId\'
trafficDescriptorList:
type: array
items:
\$ref: \'#/components/schemas/TrafficDescriptor\'
minItems: 1
reportUeReachable:
type: boolean
default: false
reachabilityFilter:
\$ref: \'#/components/schemas/ReachabilityFilter\'
udmDetectInd:
type: boolean
default: false
maxReports:
type: integer
presenceInfoList:
type: object
additionalProperties:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PresenceInfo\'
minProperties: 1
description: A map(list of key-value pairs) where praId serves as key.
maxResponseTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
targetArea:
\$ref: \'#/components/schemas/TargetArea\'
snssaiFilter:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ExtSnssai\'
minItems: 1
ueInAreaFilter:
\$ref: \'#/components/schemas/UeInAreaFilter\'
minInterval:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
nextReport:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
idleStatusInd:
type: boolean
default: false
dispersionArea:
\$ref: \'#/components/schemas/DispersionArea\'
nextPeriodicReportTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
adjustAoIOnRa:
type: boolean
default: false
ranTimingSynchroStatusChange:
type: boolean
default: false
required:
\- type
AmfEventNotification:
description: Data within a AMF Event Notification request
type: object
properties:
notifyCorrelationId:
type: string
subsChangeNotifyCorrelationId:
type: string
reportList:
type: array
items:
\$ref: \'#/components/schemas/AmfEventReport\'
minItems: 1
eventSubsSyncInfo:
\$ref: \'#/components/schemas/AmfEventSubsSyncInfo\'
AmfEventReport:
description: Represents a report triggered by a subscribed event type
type: object
properties:
type:
\$ref: \'#/components/schemas/AmfEventType\'
state:
\$ref: \'#/components/schemas/AmfEventState\'
timeStamp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
subscriptionId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
anyUe:
type: boolean
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
areaList:
type: array
items:
\$ref: \'#/components/schemas/AmfEventArea\'
minItems: 1
refId:
\$ref: \'TS29503_Nudm_EE.yaml#/components/schemas/ReferenceId\'
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
pei:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Pei\'
location:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UserLocation\'
additionalLocation:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UserLocation\'
timezone:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/TimeZone\'
accessTypeList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AccessType\'
minItems: 1
rmInfoList:
type: array
items:
\$ref: \'#/components/schemas/RmInfo\'
minItems: 1
cmInfoList:
type: array
items:
\$ref: \'#/components/schemas/CmInfo\'
minItems: 1
reachability:
\$ref: \'#/components/schemas/UeReachability\'
commFailure:
\$ref: \'#/components/schemas/CommunicationFailure\'
lossOfConnectReason:
\$ref: \'#/components/schemas/LossOfConnectivityReason\'
numberOfUes:
type: integer
5gsUserStateList:
type: array
items:
\$ref: \'#/components/schemas/5GsUserStateInfo\'
minItems: 1
typeCode:
type: string
pattern: \'\^imeitac-[0-9]{8}\$\'
registrationNumber:
type: integer
maxAvailabilityTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
ueIdExt:
type: array
items:
\$ref: \'#/components/schemas/UEIdExt\'
minItems: 1
snssaiTaiList:
type: array
items:
\$ref: \'#/components/schemas/SnssaiTaiMapping\'
minItems: 1
idleStatusIndication:
\$ref: \'#/components/schemas/IdleStatusIndication\'
ueAccessBehaviorTrends:
type: array
items:
\$ref: \'#/components/schemas/UeAccessBehaviorReportItem\'
minItems: 1
ueLocationTrends:
type: array
items:
\$ref: \'#/components/schemas/UeLocationTrendsReportItem\'
minItems: 1
mmTransLocationReportList:
type: array
items:
\$ref: \'#/components/schemas/MmTransactionLocationReportItem\'
minItems: 1
mmTransSliceReportList:
type: array
items:
\$ref: \'#/components/schemas/MmTransactionSliceReportItem\'
minItems: 1
termReason:
\$ref: \'#/components/schemas/SubTerminationReason\'
unavailabilityPeriod:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
required:
\- type
\- state
\- timeStamp
AmfEventMode:
description: Describes how the reports shall be generated by a subscribed
event
type: object
properties:
trigger:
\$ref: \'#/components/schemas/AmfEventTrigger\'
maxReports:
type: integer
expiry:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
repPeriod:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
sampRatio:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SamplingRatio\'
partitioningCriteria:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PartitioningCriteria\'
minItems: 1
notifFlag:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NotificationFlag\'
mutingExcInstructions:
writeOnly: true
allOf:
\- \$ref:
\'TS29571_CommonData.yaml#/components/schemas/MutingExceptionInstructions\'
mutingNotSettings:
readOnly: true
allOf:
\- \$ref:
\'TS29571_CommonData.yaml#/components/schemas/MutingNotificationsSettings\'
varRepPeriodInfo:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/VarRepPeriod\'
minItems: 1
required:
\- trigger
AmfEventState:
description: Represents the state of a subscribed event
type: object
properties:
active:
type: boolean
remainReports:
type: integer
remainDuration:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
required:
\- active
RmInfo:
description: Represents the registration state of a UE for an access type
type: object
properties:
rmState:
\$ref: \'#/components/schemas/RmState\'
accessType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AccessType\'
required:
\- rmState
\- accessType
CmInfo:
description: Represents the connection management state of a UE for an access
type
type: object
properties:
cmState:
\$ref: \'#/components/schemas/CmState\'
accessType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AccessType\'
required:
\- cmState
\- accessType
CommunicationFailure:
description: Describes a communication failure detected by AMF
type: object
properties:
nasReleaseCode:
type: string
ranReleaseCode:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NgApCause\'
AmfCreateEventSubscription:
description: Data within a create AMF event subscription request
type: object
properties:
subscription:
\$ref: \'#/components/schemas/AmfEventSubscription\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
oldGuami:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Guami\'
required:
\- subscription
AmfCreatedEventSubscription:
description: Data within a create AMF event subscription response
type: object
properties:
subscription:
\$ref: \'#/components/schemas/AmfEventSubscription\'
subscriptionId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
reportList:
type: array
items:
\$ref: \'#/components/schemas/AmfEventReport\'
minItems: 1
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- subscription
\- subscriptionId
AmfUpdateEventSubscriptionItem:
description: Document describing the modification(s) to an AMF Event
Subscription
type: object
properties:
op:
type: string
enum:
\- add
\- remove
\- replace
path:
type: string
pattern:
\'\^\/eventList\/-\|(\/eventList\/0\|\/eventList\/[1-9][0-9]*){1}(\/presenceInfoList\/0\|\/presenceInfoList\/[1-9][0-9]*)?\|\/excludeSupiList\|\/excludeGpsiList\|\/includeSupiList\|\/includeGpsiList\$\'
value:
\$ref: \'#/components/schemas/AmfEvent\'
presenceInfo:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PresenceInfo\'
excludeSupiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
minItems: 1
excludeGpsiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
minItems: 1
includeSupiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
minItems: 1
includeGpsiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
minItems: 1
required:
\- op
\- path
AmfUpdateEventOptionItem:
description: Document describing the modifications to AMF event subscription
options
type: object
properties:
op:
type: string
enum:
\- replace
path:
type: string
pattern:
\'\^(\/options\/expiry\|\/options\/notifFlag\|\/options\/mutingExcInstructions)\$\'
value:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
notifFlag:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NotificationFlag\'
mutingExcInstructions:
\$ref:
\'TS29571_CommonData.yaml#/components/schemas/MutingExceptionInstructions\'
required:
\- op
\- path
\- value
AmfUpdatedEventSubscription:
description: Represents a successful update on an AMF Event Subscription
type: object
properties:
subscription:
\$ref: \'#/components/schemas/AmfEventSubscription\'
reportList:
type: array
items:
\$ref: \'#/components/schemas/AmfEventReport\'
minItems: 1
required:
\- subscription
AmfEventArea:
description: Represents an area to be monitored by an AMF event
type: object
properties:
presenceInfo:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PresenceInfo\'
ladnInfo:
\$ref: \'#/components/schemas/LadnInfo\'
sNssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
nsiId:
\$ref: \'TS29531_Nnssf_NSSelection.yaml#/components/schemas/NsiId\'
LadnInfo:
description: LADN Information
type: object
properties:
ladn:
type: string
presence:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PresenceState\'
required:
\- ladn
5GsUserStateInfo:
description: Represents the 5GS User state of the UE for an access type
type: object
properties:
5gsUserState:
\$ref: \'#/components/schemas/5GsUserState\'
accessType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AccessType\'
required:
\- 5gsUserState
\- accessType
TrafficDescriptor:
description: Represents the Traffic Descriptor
type: object
properties:
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
sNssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
dddTrafficDescriptorList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DddTrafficDescriptor\'
minItems: 1
UEIdExt:
description: UE Identity
type: object
properties:
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
AmfEventSubsSyncInfo:
description: AMF Event Subscriptions Information for synchronization
type: object
properties:
subscriptionList:
type: array
items:
\$ref: \'#/components/schemas/AmfEventSubscriptionInfo\'
minItems: 1
required:
\- subscriptionList
AmfEventSubscriptionInfo:
description: Individual AMF Event Subscription Information
type: object
properties:
subId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
notifyCorrelationId:
type: string
refIdList:
type: array
items:
\$ref: \'TS29503_Nudm_EE.yaml#/components/schemas/ReferenceId\'
minItems: 1
oldSubId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
required:
\- subId
\- refIdList
TargetArea:
description: TA list or TAI range list or any TA
type: object
properties:
taList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
minItems: 1
taiRangeList:
type: array
items:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/TaiRange\'
minItems: 1
anyTa:
type: boolean
default: false
SnssaiTaiMapping:
description: List of restricted or unrestricted S-NSSAIs per TAI(s)
type: object
properties:
reportingArea:
\$ref: \'#/components/schemas/TargetArea\'
accessTypeList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AccessType\'
minItems: 1
supportedSnssaiList:
type: array
items:
\$ref: \'#/components/schemas/SupportedSnssai\'
minItems: 1
required:
\- reportingArea
UeAccessBehaviorReportItem:
description: Report Item for UE Access Behavior Trends event.
type: object
properties:
stateTransitionType:
\$ref: \'#/components/schemas/AccessStateTransitionType\'
spacing:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
duration:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
required:
\- stateTransitionType
\- spacing
\- duration
IdleStatusIndication:
description: Represents the idle status indication.
type: object
properties:
timeStamp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
activeTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
subsRegTimer:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
edrxCycleLength:
type: integer
suggestedNumOfDlPackets:
type: integer
UeInAreaFilter:
description: Additional filters for UE in Area Report event
type: object
properties:
ueType:
\$ref: \'#/components/schemas/UeType\'
aerialSrvDnnInd:
type: boolean
default: false
ueIdOmitInd:
type: boolean
default: false
SupportedSnssai:
description: Supported S-NSSAIs
type: object
properties:
sNssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ExtSnssai\'
restrictionInd:
type: boolean
default: false
required:
\- sNssai
UeLocationTrendsReportItem:
description: Report Item for UE Location Trends event.
type: object
properties:
tai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
ncgi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ncgi\'
ecgi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ecgi\'
n3gaLocation:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/N3gaLocation\'
spacing:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
duration:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
timestamp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
required:
\- spacing
\- duration
\- timestamp
DispersionArea:
description: Dispersion Area
type: object
properties:
taiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
minItems: 1
ncgiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ncgi\'
minItems: 1
ecgiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ecgi\'
minItems: 1
n3gaInd:
type: boolean
default: false
MmTransactionLocationReportItem:
description: UE MM Transaction Report Item per Location
type: object
properties:
tai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
ncgi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ncgi\'
ecgi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ecgi\'
n3gaLocation:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/N3gaLocation\'
timestamp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
transactions:
type: integer
required:
\- timestamp
\- transactions
MmTransactionSliceReportItem:
description: UE MM Transaction Report Item per Slice
type: object
properties:
snssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
timestamp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
transactions:
type: integer
required:
\- timestamp
\- transactions
AmfEventType:
description: Describes the supported event types of Namf_EventExposure Service
anyOf:
\- type: string
enum:
\- LOCATION_REPORT
\- PRESENCE_IN_AOI_REPORT
\- TIMEZONE_REPORT
\- ACCESS_TYPE_REPORT
\- REGISTRATION_STATE_REPORT
\- CONNECTIVITY_STATE_REPORT
\- REACHABILITY_REPORT
\- COMMUNICATION_FAILURE_REPORT
\- UES_IN_AREA_REPORT
\- SUBSCRIPTION_ID_CHANGE
\- SUBSCRIPTION_ID_ADDITION
\- SUBSCRIPTION_TERMINATION
\- LOSS_OF_CONNECTIVITY
\- 5GS_USER_STATE_REPORT
\- AVAILABILITY_AFTER_DDN_FAILURE
\- TYPE_ALLOCATION_CODE_REPORT
\- FREQUENT_MOBILITY_REGISTRATION_REPORT
\- SNSSAI_TA_MAPPING_REPORT
\- UE_LOCATION_TRENDS
\- UE_ACCESS_BEHAVIOR_TRENDS
\- UE_MM_TRANSACTION_REPORT
\- type: string
AmfEventTrigger:
description: Describes how AMF should generate the report for the event
anyOf:
\- type: string
enum:
\- ONE_TIME
\- CONTINUOUS
\- PERIODIC
\- type: string
LocationFilter :
description: Describes the supported filters of LOCATION_REPORT event type
anyOf:
\- type: string
enum:
\- TAI
\- CELL_ID
\- RAN_NODE
\- N3IWF
\- UE_IP
\- UDP_PORT
\- TNAP_ID
\- GLI
\- TWAP_ID
\- type: string
UeReachability:
description: Describes the reachability of the UE
anyOf:
\- type: string
enum:
\- UNREACHABLE
\- REACHABLE
\- REGULATORY_ONLY
\- type: string
RmState:
description: Describes the registration management state of a UE
anyOf:
\- type: string
enum:
\- REGISTERED
\- DEREGISTERED
\- type: string
CmState:
description: Describes the connection management state of a UE
anyOf:
\- type: string
enum:
\- IDLE
\- CONNECTED
\- type: string
5GsUserState:
description: Describes the 5GS User State of a UE
anyOf:
\- type: string
enum:
\- DEREGISTERED
\- CONNECTED_NOT_REACHABLE_FOR_PAGING
\- CONNECTED_REACHABLE_FOR_PAGING
\- NOT_PROVIDED_FROM_AMF
\- type: string
LossOfConnectivityReason:
description: Describes the reason for loss of connectivity
anyOf:
\- type: string
enum:
\- DEREGISTERED
\- MAX_DETECTION_TIME_EXPIRED
\- PURGED
\- UNAVAILABLE_PERIOD
\- type: string
ReachabilityFilter:
description: Event filter for REACHABILITY_REPORT event type
anyOf:
\- type: string
enum:
\- UE_REACHABILITY_STATUS_CHANGE
\- UE_REACHABLE_DL_TRAFFIC
\- type: string
UeType:
description: Describes the type of UEs
anyOf:
\- type: string
enum:
\- AERIAL_UE
\- type: string
AccessStateTransitionType:
description: Access State Transition Type.
anyOf:
\- type: string
enum:
\- ACCESS_TYPE_CHANGE_3GPP
\- ACCESS_TYPE_CHANGE_N3GPP
\- RM_STATE_CHANGE_DEREGISTERED
\- RM_STATE_CHANGE_REGISTERED
\- CM_STATE_CHANGE_IDLE
\- CM_STATE_CHANGE_CONNECTED
\- HANDOVER
\- MOBILITY_REGISTRATION_UPDATE
\- type: string
SubTerminationReason:
description: Subscription Termination Reason.
anyOf:
\- type: string
enum:
\- INVALID_SUBSCRIPTION
\- type: string
# A.4 Namf_MT
openapi: 3.0.0
info:
version: 1.3.0-alpha.3
title: Namf_MT
description: \|
AMF Mobile Terminated Service.
 2023, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
security:
\- {}
\- oAuth2ClientCredentials:
\- namf-mt
externalDocs:
description: 3GPP TS 29.518 V18.2.0; 5G System; Access and Mobility Management
Services
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.518/\'
servers:
\- url: \'{apiRoot}/namf-mt/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501
paths:
\'/ue-contexts/{ueContextId}\':
get:
summary: Namf_MT Provide Domain Selection Info service Operation
tags:
\- _ueContext (Document)_
operationId: Provide Domain Selection Info
parameters:
\- name: ueContextId
in: path
description: UE Context Identifier
required: true
schema:
type: string
pattern: \'\^(imsi-[0-9]{5,15}\|nai-.+\|gli-.+\|gci-.+\|.+)\$\'
\- name: info-class
in: query
description: UE Context Information Class
schema:
\$ref: \'#/components/schemas/UeContextInfoClass\'
\- name: supported-features
in: query
description: Supported Features
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
\- name: old-guami
in: query
description: Old GUAMI
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Guami\'
responses:
\'200\':
description: Requested UE Context Information returned
content:
application/json:
schema:
\$ref: \'#/components/schemas/UeContextInfo\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'409\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/409\'
\'414\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/414\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/ue-contexts/{ueContextId}/ue-reachind:
put:
summary: Namf_MT EnableUEReachability service Operation
tags:
\- _ueReachInd (Document)_
operationId: EnableUeReachability
security:
\- {}
\- oAuth2ClientCredentials:
\- namf-mt
\- oAuth2ClientCredentials:
\- namf-mt
\- namf-mt:ue-reachind
parameters:
\- name: ueContextId
in: path
description: UE Context Identifier
required: true
schema:
type: string
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/EnableUeReachabilityReqData\'
required: true
responses:
\'200\':
description: UE has become reachable as desired
content:
application/json:
schema:
\$ref: \'#/components/schemas/EnableUeReachabilityRspData\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
description: Forbidden
content:
application/problem+json:
schema:
\$ref: \'#/components/schemas/ProblemDetailsEnableUeReachability\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'409\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/409\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
description: Gateway Timeout
content:
application/problem+json:
schema:
\$ref: \'#/components/schemas/ProblemDetailsEnableUeReachability\'
default:
description: Unexpected error
/ue-contexts/enable-group-reachability:
post:
summary: Namf_MT EnableGroupReachability service Operation
tags:
\- ueContexts _(_ collection _)_
operationId: EnableGroupReachability
security:
\- {}
\- oAuth2ClientCredentials:
\- namf-mt
\- oAuth2ClientCredentials:
\- namf-mt
\- namf-mt:enable-group-reachability
requestBody:
description: list of UEs requested to be made reachable for the related TMGI
content:
application/json:
schema:
\$ref: \'#/components/schemas/EnableGroupReachabilityReqData\'
required: true
responses:
\'200\':
description: Successful response.
content:
application/json:
schema:
\$ref: \'#/components/schemas/EnableGroupReachabilityRspData\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
description: Unexpected error
callbacks:
reachabilityNotification:
\'{request.body#/reachabilityNotifyUri}\':
post:
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/ReachabilityNotificationData\'
responses:
\'204\':
description: UE reachability notification response
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes:
namf-mt: Access to the Namf_MT API
namf-mt:ue-reachind: >
Access to the EnableUeReachability service operation
namf-mt:enable-group-reachability: >
Access to the EnableGroupReachability service operation
schemas:
EnableUeReachabilityReqData:
description: Data within the Enable UE Reachability Request
type: object
properties:
reachability:
\$ref: \'TS29518_Namf_EventExposure.yaml#/components/schemas/UeReachability\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
oldGuami:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Guami\'
extBufSupport:
type: boolean
default: false
arp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Arp\'
5qi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/5Qi\'
ppi:
\$ref: \'TS29518_Namf_Communication.yaml#/components/schemas/Ppi\'
qfi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Qfi\'
pduSessionId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionId\'
required:
\- reachability
EnableUeReachabilityRspData:
description: Data within the Enable UE Reachability Response
type: object
properties:
reachability:
\$ref: \'TS29518_Namf_EventExposure.yaml#/components/schemas/UeReachability\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- reachability
UeContextInfo:
description: UE Context Information
type: object
properties:
supportVoPS:
type: boolean
supportVoPSn3gpp:
type: boolean
lastActTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
accessType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AccessType\'
ratType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RatType\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
ProblemDetailsEnableUeReachability:
description: Enable UE Reachability Error Detail
allOf:
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
\- \$ref: \'#/components/schemas/AdditionInfoEnableUeReachability\'
AdditionInfoEnableUeReachability:
description: Additional information to be returned in EnableUeReachability
error response
type: object
properties:
maxWaitingTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
EnableGroupReachabilityReqData:
description: Data within the Enable Group Reachability Request
type: object
properties:
ueInfoList:
type: array
items:
\$ref: \'#/components/schemas/UeInfo\'
minItems: 1
tmgi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tmgi\'
reachabilityNotifyUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
mbsServiceAreaInfoList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MbsServiceAreaInfo\'
minItems: 1
arp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Arp\'
5qi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/5Qi\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- ueInfoList
\- tmgi
EnableGroupReachabilityRspData:
description: Data within the Enable Group Reachability Response
type: object
properties:
ueConnectedList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
minItems: 1
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
UeInfo:
description: list of UEs requested to be made reachable for the MBS Session
type: object
properties:
ueList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
minItems: 1
pduSessionId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionId\'
required:
\- ueList
ReachabilityNotificationData:
description: Data within the UE Reachability Info Notify
type: object
properties:
reachableUeList:
type: array
items:
\$ref: \'#/components/schemas/ReachableUeInfo\'
minItems: 1
unreachableUeList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
minItems: 1
ReachableUeInfo:
description: Contains the reachable UE Information
type: object
properties:
ueList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
minItems: 1
userLocation:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UserLocation\'
required:
\- ueList
UeContextInfoClass:
description: Indicates the UE Context information class
anyOf:
\- type: string
enum:
\- TADS
\- type: string
# A.5 Namf_Location
openapi: 3.0.0
info:
version: 1.3.0-alpha.4
title: Namf_Location
description: \|
AMF Location Service.
 2023, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
security:
\- {}
\- oAuth2ClientCredentials:
\- namf-loc
externalDocs:
description: 3GPP TS 29.518 V18.3.0; 5G System; Access and Mobility Management
Services
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.518/\'
servers:
\- url: \'{apiRoot}/namf-loc/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501
paths:
/{ueContextId}/provide-pos-info:
post:
summary: Namf_Location ProvidePositioningInfo service Operation
tags:
\- _Individual UE context (Document)_
operationId: ProvidePositioningInfo
parameters:
\- name: ueContextId
in: path
description: UE Context Identifier
required: true
schema:
type: string
pattern:
\'\^(imsi-[0-9]{5,15}\|nai-.+\|gli-.+\|gci-.+\|imei-[0-9]{15}\|imeisv-[0-9]{16}\|.+)\$\'
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/RequestPosInfo\'
required: true
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/ProvidePosInfo\'
\'204\':
description: Successful accept of location request with no information
returned.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'409\':
description: Conflict
content:
application/problem+json:
schema:
\$ref: \'#/components/schemas/ProblemDetailsProvidePosInfo\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
description: Unexpected error
callbacks:
onUELocationNotification:
\'{\$request.body#/locationNotificationUri}\':
post:
requestBody:
description: UE Location Event Notification
content:
application/json:
schema:
\$ref: \'#/components/schemas/NotifiedPosInfo\'
responses:
\'204\':
description: Expected response to a successful callback processing
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
/{ueContextId}/provide-loc-info:
post:
summary: Namf_Location ProvideLocationInfo service Operation
tags:
\- _Individual UE context (Document)_
operationId: ProvideLocationInfo
parameters:
\- name: ueContextId
in: path
description: UE Context Identifier
required: true
schema:
type: string
pattern:
\'\^(imsi-[0-9]{5,15}\|nai-.+\|gli-.+\|gci-.+\|imei-[0-9]{15}\|imeisv-[0-9]{16}\|.+)\$\'
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/RequestLocInfo\'
required: true
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/ProvideLocInfo\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
/{ueContextId}/cancel-pos-info:
post:
summary: Namf_Location CancelLocation service operation
tags:
\- _Individual UE context (Document)_
operationId: CancelLocation
parameters:
\- name: ueContextId
in: path
description: UE Context Identifier
required: true
schema:
type: string
pattern:
\'\^(imsi-[0-9]{5,15}\|nai-.+\|gli-.+\|gci-.+\|imei-[0-9]{15}\|imeisv-[0-9]{16}\|.+)\$\'
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/CancelPosInfo\'
required: true
responses:
\'204\':
description: Expected response to a successful cancellation
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'504\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/504\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes:
namf-loc: Access to the Namf_Location API
schemas:
RequestPosInfo:
description: Data within Provide Positioning Information Request
type: object
properties:
lcsClientType:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/ExternalClientType\'
lcsLocation:
\$ref: \'#/components/schemas/LocationType\'
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
requestedRangingSlResult:
type: array
items:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/RangingSlResult\'
minItems: 1
relatedUEs:
type: array
items:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/RelatedUE\'
minItems: 1
lmfId:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/LMFIdentification\'
priority:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/LcsPriority\'
lcsQoS:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/LocationQoS\'
velocityRequested:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/VelocityRequested\'
lcsSupportedGADShapes:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/SupportedGADShapes\'
additionalLcsSuppGADShapes:
type: array
items:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/SupportedGADShapes\'
minItems: 1
locationNotificationUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
oldGuami:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Guami\'
pei:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Pei\'
lcsServiceType:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/LcsServiceType\'
ldrType:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/LdrType\'
hgmlcCallBackURI:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
lirGmlcCallBackUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
ldrReference:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/LdrReference\'
lirReference:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/LirReference\'
periodicEventInfo:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/PeriodicEventInfo\'
areaEventInfo:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/AreaEventInfo\'
motionEventInfo:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/MotionEventInfo\'
externalClientIdentification:
\$ref:
\'TS29515_Ngmlc_Location.yaml#/components/schemas/ExternalClientIdentification\'
afID:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
codeWord:
\$ref: \'TS29515_Ngmlc_Location.yaml#/components/schemas/CodeWord\'
uePrivacyRequirements:
\$ref:
\'TS29515_Ngmlc_Location.yaml#/components/schemas/UePrivacyRequirements\'
scheduledLocTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
reliableLocReq:
type: boolean
default: false
intermediateLocationInd:
type: boolean
default: false
maxRespTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
ueUnawareInd:
type: boolean
enum:
\- true
lpHapType:
\$ref: \'#/components/schemas/LpHapType\'
evtRptAllowedAreas:
type: array
items:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/ReportingArea\'
minItems: 1
maxItems: 250
reportingInd:
allOf:
\- \$ref: \'TS29515_Ngmlc_Location.yaml#/components/schemas/ReportingInd\'
default: POSITIVE_SENSE
integrityRequirements:
\$ref:
\'TS29515_Ngmlc_Location.yaml#/components/schemas/IntegrityRequirements\'
required:
\- lcsClientType
\- lcsLocation
ProvidePosInfo:
description: Data within Provide Positioning Information Response
type: object
properties:
locationEstimate:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/GeographicArea\'
localLocationEstimate:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/LocalArea\'
accuracyFulfilmentIndicator:
\$ref:
\'TS29572_Nlmf_Location.yaml#/components/schemas/AccuracyFulfilmentIndicator\'
ageOfLocationEstimate:
\$ref:
\'TS29572_Nlmf_Location.yaml#/components/schemas/AgeOfLocationEstimate\'
timestampOfLocationEstimate:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
velocityEstimate:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/VelocityEstimate\'
positioningDataList:
type: array
items:
\$ref:
\'TS29572_Nlmf_Location.yaml#/components/schemas/PositioningMethodAndUsage\'
minItems: 0
maxItems: 9
gnssPositioningDataList:
type: array
items:
\$ref:
\'TS29572_Nlmf_Location.yaml#/components/schemas/GnssPositioningMethodAndUsage\'
minItems: 0
maxItems: 9
ecgi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ecgi\'
ncgi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ncgi\'
targetServingNode:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
targetMmeName:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DiameterIdentity\'
targetMmeRealm:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DiameterIdentity\'
utranSrvccInd:
type: boolean
civicAddress:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/CivicAddress\'
barometricPressure:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/BarometricPressure\'
altitude:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/Altitude\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
servingLMFIdentification:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/LMFIdentification\'
locationPrivacyVerResult:
\$ref: \'#/components/schemas/LocationPrivacyVerResult\'
achievedQos:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/MinorLocationQoS\'
directReportInd:
type: boolean
default: false
acceptedPeriodicEventInfo:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/PeriodicEventInfo\'
haGnssMetrics:
\$ref:
\'TS29572_Nlmf_Location.yaml#/components/schemas/HighAccuracyGnssMetrics\'
indoorOutdoorInd:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/IndoorOutdoorInd\'
losNlosMeasureInd:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/LosNlosMeasureInd\'
NotifiedPosInfo:
description: Data within EventNotify notification
type: object
properties:
locationEvent:
\$ref: \'#/components/schemas/LocationEvent\'
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
pei:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Pei\'
locationEstimate:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/GeographicArea\'
localLocationEstimate:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/LocalArea\'
ageOfLocationEstimate:
\$ref:
\'TS29572_Nlmf_Location.yaml#/components/schemas/AgeOfLocationEstimate\'
timestampOfLocationEstimate:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
velocityEstimate:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/VelocityEstimate\'
positioningDataList:
type: array
items:
\$ref:
\'TS29572_Nlmf_Location.yaml#/components/schemas/PositioningMethodAndUsage\'
minItems: 0
maxItems: 9
gnssPositioningDataList:
type: array
items:
\$ref:
\'TS29572_Nlmf_Location.yaml#/components/schemas/GnssPositioningMethodAndUsage\'
minItems: 0
maxItems: 9
ecgi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ecgi\'
ncgi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ncgi\'
servingNode:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
targetMmeName:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DiameterIdentity\'
targetMmeRealm:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DiameterIdentity\'
utranSrvccInd:
type: boolean
civicAddress:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/CivicAddress\'
barometricPressure:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/BarometricPressure\'
altitude:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/Altitude\'
hgmlcCallBackURI:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
ldrReference:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/LdrReference\'
servingLMFIdentification:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/LMFIdentification\'
terminationCause:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/TerminationCause\'
achievedQos:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/MinorLocationQoS\'
mscServerId:
\$ref: \'TS29503_Nudm_UECM.yaml#/components/schemas/E164Number\'
haGnssMetrics:
\$ref:
\'TS29572_Nlmf_Location.yaml#/components/schemas/HighAccuracyGnssMetrics\'
indoorOutdoorInd:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/IndoorOutdoorInd\'
losNlosMeasureInd:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/LosNlosMeasureInd\'
required:
\- locationEvent
RequestLocInfo:
description: Data within Provide Location Information Request
type: object
properties:
req5gsLoc:
type: boolean
default: false
reqCurrentLoc:
type: boolean
default: false
reqRatType:
type: boolean
default: false
reqTimeZone:
type: boolean
default: false
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
ProvideLocInfo:
description: Data within Provide Location Information Response
type: object
properties:
currentLoc:
type: boolean
location:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UserLocation\'
additionalLocation:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UserLocation\'
geoInfo:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/GeographicArea\'
locationAge:
\$ref:
\'TS29572_Nlmf_Location.yaml#/components/schemas/AgeOfLocationEstimate\'
ratType:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RatType\'
timezone:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/TimeZone\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
oldGuami:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Guami\'
CancelPosInfo:
description: Data within a Cancel Location Request
type: object
properties:
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
hgmlcCallBackURI:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
ldrReference:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/LdrReference\'
servingLMFIdentification:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/LMFIdentification\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- supi
\- hgmlcCallBackURI
\- ldrReference
ProblemDetailsProvidePosInfo:
description: Handover from 5GS to EPS Error Details.
allOf:
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
\- \$ref: \'#/components/schemas/ProvidePosInfo\'
LocationType:
description: Type of location measurement requested
anyOf:
\- type: string
enum:
\- CURRENT_LOCATION
\- CURRENT_OR_LAST_KNOWN_LOCATION
\- NOTIFICATION_VERIFICATION_ONLY
\- DEFERRED_LOCATION
\- RANGING_SL_LOCATION
\- type: string
LocationEvent:
description: Type of events initiating location procedures
anyOf:
\- type: string
enum:
\- EMERGENCY_CALL_ORIGINATION
\- EMERGENCY_CALL_RELEASE
\- EMERGENCY_CALL_HANDOVER
\- ACTIVATION_OF_DEFERRED_LOCATION
\- UE_MOBILITY_FOR_DEFERRED_LOCATION
\- CANCELLATION_OF_DEFERRED_LOCATION
\- type: string
LocationPrivacyVerResult:
description: The result of location privacy verification by UE
anyOf:
\- type: string
enum:
\- LOCATION_ALLOWED
\- LOCATION_NOT_ALLOWED
\- RESPONSE_TIME_OUT
\- type: string
LpHapType:
description: Type of Low Power and/or High Accuracy Positioning
anyOf:
\- type: string
enum:
\- LOW_POW_HIGH_ACCU_POS
\- type: string
# A.6 Namf_MBSBroadcast API
openapi: 3.0.0
info:
version: 1.1.0-alpha.2
title: Namf_MBSBroadcast
description: \|
AMF MBSBroadcast Service.
 2023, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.518 V18.1.0; 5G System; Access and Mobility Management
Services
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.518/\'
servers:
\- url: \'{apiRoot}/namf-mbs-bc/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501
security:
\- {}
\- oAuth2ClientCredentials:
\- namf-mbs-bc
paths:
/mbs-contexts:
post:
summary: Namf_MBSBroadcast ContextCreate service Operation
tags:
\- Broadcast MBS session contexts collection _(Collection)_
operationId: ContextCreate
requestBody:
content:
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/ContextCreateReqData\'
binaryDataN2Information:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN2Information:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
required: true
callbacks:
contextStatusNotification:
\'{\$request.body#/notifyUri}\':
post:
requestBody: # notification request without binary body part
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/ContextStatusNotification\'
multipart/related: # notification request with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/ContextStatusNotification\'
binaryDataN2Information1:
type: string
format: binary
binaryDataN2Information2:
type: string
format: binary
binaryDataN2Information3:
type: string
format: binary
binaryDataN2Information4:
type: string
format: binary
binaryDataN2Information5:
type: string
format: binary
binaryDataN2Information6:
type: string
format: binary
binaryDataN2Information7:
type: string
format: binary
binaryDataN2Information8:
type: string
format: binary
binaryDataN2Information9:
type: string
format: binary
binaryDataN2Information10:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN2Information1:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2Information2:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2Information3:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2Information4:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2Information5:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2Information6:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2Information7:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2Information8:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2Information9:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2Information10:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
responses:
\'204\':
description: successful notification
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
responses:
\'201\':
description: MBS Broadcast context created successfully
headers:
Location:
description: \'Contains the URI of the newly created resource, according to
the structure: {apiRoot}/namf-mbs-bc/\/mbs-
contexts/{mbsContextRef}\'
required: true
schema:
type: string
content:
application/json: # message without binary body part(s)
schema:
\$ref: \'#/components/schemas/ContextCreateRspData\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Response parts
jsonData:
\$ref: \'#/components/schemas/ContextCreateRspData\'
binaryDataN2Information1:
type: string
format: binary
binaryDataN2Information2:
type: string
format: binary
binaryDataN2Information3:
type: string
format: binary
binaryDataN2Information4:
type: string
format: binary
binaryDataN2Information5:
type: string
format: binary
binaryDataN2Information6:
type: string
format: binary
binaryDataN2Information7:
type: string
format: binary
binaryDataN2Information8:
type: string
format: binary
binaryDataN2Information9:
type: string
format: binary
binaryDataN2Information10:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN2Information1:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2Information2:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2Information3:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2Information4:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2Information5:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2Information6:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2Information7:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2Information8:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2Information9:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2Information10:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/mbs-contexts/{mbsContextRef}:
delete:
summary: Namf_MBSBroadcast ContextDelete service Operation
tags:
\- Individual broadcast _MBS session context (Document)_
operationId: ContextDelete
parameters:
\- name: mbsContextRef
in: path
required: true
description: Unique ID of the broadcast MSB session context to be deleted
schema:
type: string
responses:
\'204\':
description: successful deletion
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/mbs-contexts/{mbsContextRef}/update:
post:
summary: Namf_MBSBroadcast ContextUpdate service Operation
tags:
\- Individual broadcast _MBS session context (Document)_
operationId: ContextUpdate
parameters:
\- name: mbsContextRef
in: path
description: Unique ID of the broadcast MSB session context to be updated
required: true
schema:
type: string
requestBody:
content:
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/ContextUpdateReqData\'
binaryDataN2Information:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN2Information:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
required: true
responses:
\'200\':
description: MBS Broadcast context updated successfully
content:
application/json: # message without binary body part(s)
schema:
\$ref: \'#/components/schemas/ContextUpdateRspData\'
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Response parts
jsonData:
\$ref: \'#/components/schemas/ContextUpdateRspData\'
binaryDataN2Information1:
type: string
format: binary
binaryDataN2Information2:
type: string
format: binary
binaryDataN2Information3:
type: string
format: binary
binaryDataN2Information4:
type: string
format: binary
binaryDataN2Information5:
type: string
format: binary
binaryDataN2Information6:
type: string
format: binary
binaryDataN2Information7:
type: string
format: binary
binaryDataN2Information8:
type: string
format: binary
binaryDataN2Information9:
type: string
format: binary
binaryDataN2Information10:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN2Information1:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2Information2:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2Information3:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2Information4:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2Information5:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2Information6:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2Information7:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2Information8:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2Information9:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
binaryDataN2Information10:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
\'204\':
description: MBS Broadcast context updated successfully. No Content.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes:
namf-mbs-bc: Access to the Namf_MBSBroadcast API
schemas:
#
# STRUCTURED DATA TYPES
#
ContextCreateReqData:
description: Data within ContextCreate Request
type: object
properties:
mbsSessionId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MbsSessionId\'
mbsServiceAreaInfoList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MbsServiceAreaInfo\'
minItems: 1
mbsServiceArea:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MbsServiceArea\'
n2MbsSmInfo:
\$ref: \'#/components/schemas/N2MbsSmInfo\'
notifyUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
maxResponseTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
snssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
mbsmfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
mbsmfServiceInstId:
type: string
required:
\- mbsSessionId
\- n2MbsSmInfo
\- notifyUri
\- snssai
oneOf:
\- required: [ mbsServiceArea ]
\- required: [ mbsServiceAreaInfoList ]
ContextCreateRspData:
description: Data within ContextCreate Response
type: object
properties:
mbsSessionId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MbsSessionId\'
n2MbsSmInfoList:
type: array
items:
\$ref: \'#/components/schemas/N2MbsSmInfo\'
minItems: 1
maxItems: 10
operationStatus:
\$ref: \'#/components/schemas/OperationStatus\'
required:
\- mbsSessionId
ContextUpdateReqData:
description: Data within ContextUpdate Request
type: object
properties:
mbsServiceArea:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MbsServiceArea\'
mbsServiceAreaInfoList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MbsServiceAreaInfo\'
minItems: 1
n2MbsSmInfo:
\$ref: \'#/components/schemas/N2MbsSmInfo\'
ranIdList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GlobalRanNodeId\'
minItems: 1
noNgapSignallingInd:
type: boolean
enum:
\- true
notifyUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
maxResponseTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
n2MbsInfoChangeInd:
type: boolean
not:
required: [ mbsServiceArea, mbsServiceAreaInfoList ]
ContextStatusNotification:
description: Data within ContextStatusNotify Request
type: object
properties:
mbsSessionId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MbsSessionId\'
areaSessionId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AreaSessionId\'
n2MbsSmInfoList:
type: array
items:
\$ref: \'#/components/schemas/N2MbsSmInfo\'
minItems: 1
maxItems: 10
operationEvents:
type: array
items:
\$ref: \'#/components/schemas/OperationEvent\'
minItems: 1
operationStatus:
\$ref: \'#/components/schemas/OperationStatus\'
releasedInd:
type: boolean
enum:
\- true
required:
\- mbsSessionId
ContextUpdateRspData:
description: Data within ContextUpdate Response
type: object
properties:
n2MbsSmInfoList:
type: array
items:
\$ref: \'#/components/schemas/N2MbsSmInfo\'
minItems: 1
maxItems: 10
operationStatus:
\$ref: \'#/components/schemas/OperationStatus\'
N2MbsSmInfo:
description: N2 MBS Session Management information
type: object
properties:
ngapIeType:
\$ref: \'#/components/schemas/NgapIeType\'
ngapData:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
randId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GlobalRanNodeId\'
required:
\- ngapIeType
\- ngapData
\- randId
OperationEvent:
description: Operation Event for a Broadcast MBS Session.
type: object
properties:
opEventType:
\$ref: \'#/components/schemas/OpEventType\'
amfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
ngranFailureEventList:
type: array
items:
\$ref: \'#/components/schemas/NgranFailureEvent\'
minItems: 1
required:
\- opEventType
NgranFailureEvent:
description: NG-RAN failure event for a NG-RAN
type: object
properties:
ngranId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GlobalRanNodeId\'
ngranFailureIndication:
\$ref: \'#/components/schemas/NgranFailureIndication\'
required:
\- ngranId
\- ngranFailureIndication
#
# SIMPLE DATA TYPES
#
#
# ENUMERATIONS
#
OperationStatus:
description: Status of a Broadcast MBS session start or update operation.
anyOf:
\- type: string
enum:
\- MBS_SESSION_START_COMPLETE
\- MBS_SESSION_START_INCOMPLETE
\- MBS_SESSION_UPDATE_COMPLETE
\- MBS_SESSION_UPDATE_INCOMPLETE
\- type: string
NgapIeType:
description: NGAP Information Element Type
anyOf:
\- type: string
enum:
\- MBS_SES_REQ
\- MBS_SES_RSP
\- MBS_SES_FAIL
\- MBS_SES_REL_RSP
\- type: string
OpEventType:
description: Operation Event Type.
anyOf:
\- type: string
enum:
\- AMF_CHANGE
\- NG_RAN_EVENT
\- type: string
NgranFailureIndication:
description: Indicates a NG-RAN failure event.
anyOf:
\- type: string
enum:
\- NG_RAN_RESTART_OR_START
\- NG_RAN_FAILURE_WITHOUT_RESTART
\- NG_RAN_NOT_REACHABLE
\- NG_RAN_REQUIRED_RELEASE
\- type: string
# A.7 Namf_MBSCommunication API
openapi: 3.0.0
info:
version: 1.1.0-alpha.1
title: Namf_MBSCommunication
description: \|
AMF Communication Service for MBS.
 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.518 V18.0.0; 5G System; Access and Mobility Management
Services
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.518/\'
servers:
\- url: \'{apiRoot}/namf-mbs-comm/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501
security:
\- {}
\- oAuth2ClientCredentials:
\- namf-mbs-comm
paths:
/n2-messages/transfer:
post:
summary: Namf_MBSCommunication N2 Message Transfer service Operation
tags:
\- N2Messages Handler _(custom operation)_
operationId: N2MessageTransfer
requestBody:
content:
multipart/related: # message with binary body part(s)
schema:
type: object
properties: # Request parts
jsonData:
\$ref: \'#/components/schemas/MbsN2MessageTransferReqData\'
binaryDataN2Information:
type: string
format: binary
encoding:
jsonData:
contentType: application/json
binaryDataN2Information:
contentType: application/vnd.3gpp.ngap
headers:
Content-Id:
schema:
type: string
required: true
callbacks:
notification:
\'{\$request.body#/notifyUri}\':
post:
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/Notification\'
responses:
\'204\':
description: successful notification
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
responses:
\'200\':
description: MBS N2 Message Transfer successfully initiated
content:
application/json:
schema:
\$ref: \'#/components/schemas/MbsN2MessageTransferRspData\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
description: Not Found
content:
application/problem+json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
description: Unexpected error
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes:
namf-mbs-comm: Access to the Namf_MBSCommunication API
schemas:
#
# STRUCTURED DATA TYPES
#
MbsN2MessageTransferReqData:
description: Data within MBS N2 Message Transfer Request
type: object
properties:
mbsSessionId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MbsSessionId\'
areaSessionId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AreaSessionId\'
n2MbsSmInfo:
\$ref: \'#/components/schemas/N2MbsSmInfo\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
ranNodeIdList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GlobalRanNodeId\'
minItems: 1
notifyUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
notifyCorrelationId:
type: string
required:
\- mbsSessionId
\- n2MbsSmInfo
MbsN2MessageTransferRspData:
description: Data within MBS N2 Message Transfer Response
type: object
properties:
result:
\$ref:
\'TS29518_Namf_Communication.yaml#/components/schemas/N2InformationTransferResult\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
failureList:
type: array
items:
\$ref: \'#/components/schemas/RanFailure\'
minItems: 1
required:
\- result
N2MbsSmInfo:
description: N2 MBS Session Management information
type: object
properties:
ngapIeType:
\$ref: \'#/components/schemas/MbsNgapIeType\'
ngapData:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RefToBinaryData\'
required:
\- ngapIeType
\- ngapData
Notification:
description: Data within Notify Request
type: object
properties:
mbsSessionId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MbsSessionId\'
areaSessionId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AreaSessionId\'
failureList:
type: array
items:
\$ref: \'#/components/schemas/RanFailure\'
minItems: 1
notifyCorrelationId:
type: string
required:
\- mbsSessionId
\- failureList
RanFailure:
description: Description of an MBS related N2 procedure failure
type: object
properties:
ranId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GlobalRanNodeId\'
ranFailureCause:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NgApCause\'
ranFailureIndication:
\$ref: \'#/components/schemas/RanFailureIndication\'
required:
\- ranId
oneOf:
\- required: [ ranFailureCause ]
\- required: [ ranFailureIndication ]
#
# SIMPLE DATA TYPES
#
#
# ENUMERATIONS
#
MbsNgapIeType:
description: NGAP Information Element Type
anyOf:
\- type: string
enum:
\- MBS_SES_ACT_REQ
\- MBS_SES_DEACT_REQ
\- MBS_SES_UPD_REQ
\- type: string
RanFailureIndication:
description: Indicates a NG-RAN failure event
anyOf:
\- type: string
enum:
\- NG_RAN_FAILURE_WITHOUT_RESTART
\- NG_RAN_NOT_REACHABLE
\- type: string
###### ## Annex B (Informative): HTTP Multipart Messages
# B.1 Example of HTTP multipart message
## B.1.1 General
This clause provides a (partial) example of HTTP multipart message. The
example does not aim to be a complete representation of the HTTP message, e.g.
additional information or headers can be included.
This Annex is informative and the normative descriptions in this specification
prevail over the description in this Annex if there is any difference.
## B.1.2 Example HTTP multipart message with N2 Information binary data
POST /example.com/namf-comm/v1/ue-contexts/{ueContextId}/n1-n2-messages HTTP/2
Content-Type: multipart/related; boundary=----Boundary
Content-Length: xyz
\------Boundary
Content-Type: application/json
{
\"n2InfoContainer\": {
\"n2InformationClass\": \"SM\",
\"smInfo\": {
\"pduSessionId\": 5,
\"n2InfoContent\": {
\"ngapIeType\": \"PDU_RES_SETUP_REQ\",
\"ngapData\": {
\"contentId\": \"n2msg\"
}
}
}
},
\"pduSessionId\": 5
}
\------Boundary
Content-Type: application/vnd.3gpp.ngap
Content-Id: n2msg
{ ... N2 Information binary data ...}
\------Boundary
#