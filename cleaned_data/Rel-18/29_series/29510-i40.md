# Foreword
This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
In the present document, modal verbs have the following meanings:
**shall** indicates a mandatory requirement to do something
**shall not** indicates an interdiction (prohibition) to do something
The constructions \"shall\" and \"shall not\" are confined to the context of
normative provisions, and do not appear in Technical Reports.
The constructions \"must\" and \"must not\" are not used as substitutes for
\"shall\" and \"shall not\". Their use is avoided insofar as possible, and
they are not used in a normative context except in a direct citation from an
external, referenced, non-3GPP document, or so as to maintain continuity of
style when extending or modifying the provisions of such a referenced
document.
**should** indicates a recommendation to do something
**should not** indicates a recommendation not to do something
**may** indicates permission to do something
**need not** indicates permission not to do something
The construction \"may not\" is ambiguous and is not used in normative
elements. The unambiguous constructions \"might not\" or \"shall not\" are
used instead, depending upon the meaning intended.
**can** indicates that something is possible
**cannot** indicates that something is impossible
The constructions \"can\" and \"cannot\" are not substitutes for \"may\" and
\"need not\".
**will** indicates that something is certain or expected to happen as a result
of action taken by an agency the behaviour of which is outside the scope of
the present document
**will not** indicates that something is certain or expected not to happen as
a result of action taken by an agency the behaviour of which is outside the
scope of the present document
**might** indicates a likelihood that something will happen as a result of
action taken by some agency the behaviour of which is outside the scope of the
present document
**might not** indicates a likelihood that something will not happen as a
result of action taken by some agency the behaviour of which is outside the
scope of the present document
In addition:
**is** (or any other verb in the indicative mood) indicates a statement of
fact
**is not** (or any other negative verb in the indicative mood) indicates a
statement of fact
The constructions \"is\" and \"is not\" do not indicate requirements.
# 1 Scope
The present document specifies the stage 3 protocol and data model for the
Nnrf Service Based Interface. It provides stage 3 protocol definitions and
message flows, and specifies the API for each service offered by the NRF.
The 5G System stage 2 architecture and procedures are specified in 3GPP TS
23.501 [2] and 3GPP TS 23.502 [3].
The Technical Realization of the Service Based Architecture and the Principles
and Guidelines for Services Definition are specified in 3GPP TS 29.500 [4] and
3GPP TS 29.501 [5].
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or non‑specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".
[3] 3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".
[4] 3GPP TS 29.500: \"5G System; Technical Realization of Service Based
Architecture; Stage 3\".
[5] 3GPP TS 29.501: \"5G System; Principles and Guidelines for Services
Definition; Stage 3\".
[6] 3GPP TS 29.518: \"5G System; Access and Mobility Management Services;
Stage 3\".
[7] 3GPP TS 29.571: \"5G System; Common Data Types for Service Based
Interfaces; Stage 3\".
[8] ECMA-262: \"ECMAScript® Language Specification\", https://www.ecma-
international.org/ecma-262/5.1/.
[9] IETF RFC 7540: \"Hypertext Transfer Protocol Version 2 (HTTP/2)\".
[10] OpenAPI Initiative, \"OpenAPI Specification Version 3.0.0\",
https://spec.openapis.org/oas/v3.0.0.
[11] IETF RFC 7807: \"Problem Details for HTTP APIs\".
[12] 3GPP TS 23.003: \"Numbering, Addressing and Identification\".
[13] IETF RFC 6902: \"JavaScript Object Notation (JSON) Patch\".
[14] IETF RFC 6901: \"JavaScript Object Notation (JSON) Pointer\".
[15] 3GPP TS 33.501: \"Security architecture and procedures for 5G system\".
[16] IETF RFC 6749: \"The OAuth 2.0 Authorization Framework\".
[17] IETF RFC 3986: \"Uniform Resource Identifier (URI): Generic Syntax\".
[18] IETF RFC 4122: \"A Universally Unique IDentifier (UUID) URN Namespace\".
[19] IETF RFC 7232: \"Hypertext Transfer Protocol (HTTP/1.1): Conditional
Requests\".
[20] IETF RFC 7234: \"Hypertext Transfer Protocol (HTTP/1.1): Caching\".
[21] 3GPP TS 29.244: \"Interface between the Control Plane and the User Plane
Nodes; Stage 3\".
[22] IETF RFC 8259: \"The JavaScript Object Notation (JSON) Data Interchange
Format\".
[23] IETF RFC 2782: \"A DNS RR for specifying the location of services (DNS
SRV)\".
[24] IETF RFC 7515: \"JSON Web Signature (JWS)\".
[25] IETF RFC 7519: \"JSON Web Token (JWT)\".
[26] W3C HTML 4.01 Specification, https://www.w3.org/TR/2018/SPSD-
html401-20180327/.
[27] 3GPP TS 23.527: \"5G System; Restoration Procedures; Stage 2\".
[28] 3GPP TS 29.513: \"5G System; Policy and Charging Control signalling flows
and QoS parameter mapping; Stage 3\".
[29] 3GPP TS 38.413: \"NG-RAN; NG Application Protocol (NGAP)\".
[30] IETF RFC 1952: \"GZIP file format specification version 4.3\".
[31] 3GPP TR 21.900: \"Technical Specification Group working methods\".
[32] 3GPP TS 29.520: \"5G System; Network Data Analytics Services; Stage 3\".
[33] 3GPP TS 29.572: \"5G System; Location Management Services; Stage 3\".
[34] 3GPP TS 23.288: \"Architecture enhancements for 5G System (5GS) to
support network data analytics services\".
[35] 3GPP TS 29.517: \"Application Function Event Exposure Service\".
[36] 3GPP TS 29.503: \"Unified Data Management Services\".
[37] 3GPP TS 29.336: \"Home Subscriber Server (HSS) diameter interfaces for
interworking with packet data networks and applications\".
[38] IANA: \"SMI Network Management Private Enterprise Codes\",
http://www.iana.org/assignments/enterprise-numbers.
[39] Semantic Versioning Specification: https://semver.org.
[40] IETF RFC 7231: \"Hypertext Transfer Protocol (HTTP/1.1): Semantics and
Content\".
[41] IETF RFC 7694: \"Hypertext Transfer Protocol (HTTP) Client-Initiated
Content-Encoding\".
[42] 3GPP TS 29.531: \"5G System; Network Slice Selection Services; Stage 3\".
[43] 3GPP TS 23.247: \"Architectural enhancements for 5G multicast-broadcast
services\".
[44] ITU-T Recommendation E.164: \"The international public telecommunication
numbering plan\".
[45] 3GPP TS 23.380: \"IMS Restoration Procedures\".
[46] 3GPP TS 32.255: \"Telecommunication management; Charging management; 5G
data connectivity domain charging; Stage 2\".
[47] 3GPP TS 29.514: \"5G System; Policy Authorization Service; Stage 3\".
[48] 3GPP TS 23.540: \"5G System; Technical realization of Service Based Short
Message Service; Stage 2\".
[49] 3GPP TS 29.564: \"5G System; User Plane Function Services; Stage 3\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
**Canary Release: When an NF Instance is software upgraded, a canary release
allows to have features incrementally tested by a small set of users, which
can be targeted by geographic locations or user attributes (e.g., SUPI, PEI,
...). If a feature\'s performance is not satisfactory, then it can be rolled
back without any adverse effects on the rest of the system.**
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
5GC 5G Core Network
CEF Charging Enablement Function
CH Credentials Holder
CHF Charging Function
DCS Default Credentials Server
DCSF Data Channel Signaling Function
IPUPS Inter-PLMN User Plane Security
**MBS** Multicast/Broadcast Service
MB-SMF Multicast/Broadcast Session Management Function
NF Network Function
NRF NF Repository Function
NWDAF Network Data Analytics Function
PFD Packet Flow Description
PRU Positioning Reference Unit
SNPN Stand-alone Non-Public Network
SSM Source Specific IP Multicast (address)
TNGF Trusted Non-3GPP Gateway Function
TSCTSF Time Sensitive Communication and Time Synchronization Function
TWIF Trusted WLAN Interworking Function
W-AGF Wireline Access Gateway Function
# 4 Overview
The Network Function (NF) Repository Function (NRF) is the network entity in
the 5G Core Network (5GC) supporting the following functionality:
\- Maintains the NF profile of available NF instances and their supported
services;
\- Maintains the SCP profile of available SCP instances;
\- Maintains the SEPP profile of available SEPP instances;
\- Allows other NF or SCP instances to subscribe to, and get notified about,
the registration in NRF of new NF instances of a given type or of SEPP
instances. It also allows SCP instances to subscribe to, and get notified
about, the registration in NRF of new SCP instances;
\- Supports service discovery function. It receives NF Discovery Requests from
NF or SCP instances, and provides the information of the available NF
instances fulfilling certain criteria (e.g., supporting a given service);
\- Support SCP discovery function. It receives NF Discovery Requests for SCP
profiles from other SCP instances, and provides the information of the
available SCP instances fulfilling certain criteria (e.g., serving a given NF
set);
\- Support SEPP discovery function. It receives NF Discovery Requests for SEPP
profiles from other NF or SCP instances, and provides the information of the
available SEPP instances fulfilling certain criteria (e.g. supporting
connectivity with a remote PLMN).
Figures 4-1 shows the reference architecture for the 5GC, with focus on the
NRF:
Figure 4-1: 5G System architecture
Figure 4-1 illustrates PLMN level scenarios, but this architecture is also
applicable to the SNPN scenarios, as explained below.
For the sake of clarity, the NRF is never depicted in reference point
representation figures, given that the NRF interacts with every other NF in
the 5GC. As an exception, in the roaming case, the reference point between the
vNRF and the hNRF is named as N27. The reference point name of N27 is used
only for representation purposes, but its functionality is included in the
services offered by the Nnrf Service-Based Interface.
In the case of SNPN, the NRF provides services e.g. in the following
scenarios:
\- For a SNPN for which roaming is not supported (see 3GPP TS 23.501 [2],
clause 5.30.2.0);
\- For the case of UE access to SNPN using credentials from Credentials Holder
(see 3GPP TS 23.501 [2], clause 5.30.2.9);
\- For the case of Onboarding of UEs for SNPNs (see 3GPP TS 23.501 [2], clause
5.30.2.10).
# 5 Services Offered by the NRF
## 5.1 Introduction
The NRF offers to other NFs the following services:
\- Nnrf_NFManagement
\- Nnrf_NFDiscovery
\- Nnrf_AccessToken (OAuth2 Authorization)
\- Nnrf_Bootstrapping
Table 5.1-1 summarizes the corresponding APIs defined for this specification.
Table 5.1-1: API Descriptions
Service Name Clause Description OpenAPI Specification File apiName **Annex**
* * *
Nnrf_NFManagement 6.1 NRF NFManagement Service TS29510_Nnrf_NFManagement.yaml
nnrf-nfm A.2 Nnrf_NFDiscovery 6.2 NRF NFDiscovery Service
TS29510_Nnrf_NFDiscovery.yaml nnrf-disc A.3 Nnrf_AccessToken 6.3 NRF OAuth2
Authorization TS29510_Nnrf_AccessToken.yaml A.4 Nnrf_Bootstrapping 6.4 NRF
Bootstrapping TS29510_Nnrf_Bootstrapping.yaml A.5
NRF provides services to the following SNPN scenarios (see clauses 4.17.4a,
4.17.5a, 5.2.7.2 and 5.2.7.3 in 3GPP TS 23.502 [3]):
\- In a SNPN where roaming is not supported, which corresponds to the NRF
services in the same PLMN;
\- In the case of UE access to SNPN using credentials from Credentials Holder
with AAA-S, which corresponds to the NRF services in the same PLMN;
\- In the case of UE access to SNPN using credentials from Credentials Holder
with AUSF and UDM, which corresponds to the NRF services across different
PLMNs;
\- In the case of Onboarding of UEs for SNPNs without using Default
Credentials Server, which corresponds to the NRF services in the same PLMN;
\- In the case of Onboarding of UEs for SNPNs using Default Credentials Server
with AAA-S, which corresponds to the NRF services in the same PLMN;
\- In the case of Onboarding of UEs for SNPNs using Default Credentials Server
with AUSF and UDM, which corresponds to the NRF services across different
PLMNs.
## 5.2 Nnrf_NFManagement Service
### 5.2.1 Service Description
The Nnrf_NFManagement service allows an NF, SCP or SEPP Instance in the
serving PLMN to register, update or deregister its profile in the NRF.
The Nnrf_NFManagement service also allows an NRF Instance to register, update
or deregister its profile in another NRF in the same PLMN.
NOTE: Alternatively, other means such as OA&M can also be used to register,
update or deregister NRF profile in another NRF.
It also allows an NF or an SCP to subscribe to be notified of registration,
deregistration and profile changes of NF Instances, along with their potential
NF services, or of SEPP instances. It also enables an SCP to subscribe to be
notified of registration, deregistration and profile changes of other SCP
instances.
The NF profile consists of general parameters of the NF Instance, and also the
parameters of the different NF Service Instances exposed by the NF Instance,
if applicable.
The PLMN of the NRF may comprise one or multiple PLMN IDs (i.e. MCC and MNC).
An NRF configured with multiple PLMN IDs shall support registering, updating
and deregistering the profile of Network Function Instances from any of these
PLMN IDs.
The Nnrf_NFManagement service also allows retrieving a list of NF, SCP or SEPP
Instances currently registered in the NRF or the NF Profile of a given NF, SCP
or SEPP Instance.
The Nnrf_NFManagement service also allows checking whether the registered NFs,
SCPs and SEPPs are operative.
### 5.2.2 Service Operations
#### 5.2.2.1 Introduction
The services operations defined for the Nnrf_NFManagement service are as
follows:
\- NFRegister: It allows an NF, SCP or SEPP Instance to register its profile
in the NRF; it includes the registration of the general parameters of the NF,
SCP or SEPP Instance, together with the list of potential services exposed by
the NF Instance. This service operation is not allowed to be invoked from an
NRF in a different PLMN.
\- NFUpdate: It allows an NF, SCP or SEPP Instance to replace, or update
partially, the parameters of its profile (including the parameters of the
associated services, if any) in the NRF; it also allows to add or delete
individual services offered by the NF Instance. This service operation is not
allowed to be invoked from an NRF in a different PLMN.
\- NFDeregister: It allows an NF, SCP or SEPP Instance to deregister its
profile in the NRF, including the services offered by the NF Instance, if any.
This service operation is not allowed to be invoked from an NRF in a different
PLMN.
\- NFStatusSubscribe: It allows an NF or SCP Instance to subscribe to changes
on the status of NF or SEPP Instances registered in NRF. It also allows an SCP
Instance to subscribe to changes on the status of other SCP Instances
registered in NRF. This service operation can be invoked by an NF Instance in
a different PLMN (via the local NRF in that PLMN) for changes on the status of
NF Instances. It cannot be invoked by an SCP instance in a different PLMN. For
changes on the status of SEPP Instance, this operation can only be invoked
between the NRF and an NF Instance or SCP in the same PLMN.
\- NFStatusNotify: It allows the NRF to notify subscribed NF or SCP Instances
of changes on the status of NF or SEPP Instances. It also allows the NRF to
notify subscribed SCP Instances of changes on the status of SCP Instances.
This service operation can be invoked directly between the NRF and an NF
Instance in a different PLMN (without involvement of the local NRF in that
PLMN) for changes on the status of NF Instances. It cannot be invoked between
the NRF and an SCP instance in a different PLMN. For changes on the status of
SEPP Instance, this operation can only be invoked between the NRF and an NF
Instance or SCP in the same PLMN.
\- NFStatusUnsubscribe: It allows an NF or SCP Instance to unsubscribe to
changes on the status of NF or SEPP Instances registered in NRF. It also
allows an SCP Instance to unsubscribe to changes on the status of other SCP
Instances registered in NRF. This service operation can be invoked by an NF
Instance in a different PLMN (via the local NRF in that PLMN) for changes on
the status of NF Instances. It cannot be invoked by an SCP instance in a
different PLMN. For changes on the status of SEPP Instance, this operation can
only be invoked between the NRF and an NF Instance or SCP in the same PLMN.
NOTE 1: The \"change of status\" of the NFStatus service operations can imply
a request to be notified of newly registered NF, SCP or SEPP Instances in NRF,
or to be notified of profile changes of a specific NF, SCP or SEPP Instance,
or to be notified of the deregistration of an NF, SCP or SEPP Instance.
NOTE 2: An NRF instance can also use the NFRegister, NFUpdate or NFDeregister
service operations or OA&M system to register, update or deregister its
profile in another NRF in the same PLMN.
\- NFListRetrieval: It allows retrieving a list of NFs, SCPs and SEPPs
currently registered in the NRF. This service operation is not allowed to be
invoked from an NRF in a different PLMN.
\- NFProfileRetrieval: It allows retrieving the profile of a given NF, SCP or
SEPP instance. This service operation is not allowed to be invoked from an NRF
in a different PLMN.
The NFStatusSubscribe / NFstatusNotify / NFStatusUnsubscribe operations can be
invoked by an NF Service Consumer (i.e., \"source NF\" or \"SCP\") requesting
to be notified about events (registration, deregistration, profile change)
related to an NF instance (i.e., \"target NF\") located in the same PLMN, or
in a different PLMN, or related to a SEPP instance located in the same PLMN.
An SCP can also invoke these operations to be notified about events
(registration, deregistration, profile change) related to an SCP instance or
SEPP instance located in the same PLMN.
In the description of these operations in clauses 5.2.2.5, 5.2.2.6 and
5.2.2.7, when the NF instances are located in the same PLMN, both source NF
and target NF are said to be located in the \"Serving PLMN\" but, in the
general case, the functionality is not restricted to the PLMN that is serving
a given UE, and it shall be applicable as well to any scenario in which source
NF and target NFs belong to the same PLMN.
When source NF and target NF are located in different PLMNs, the source NF is
said to be in the \"Serving PLMN\", and the target NF (and the NRF where such
NF is registered) is said to be in the \"Home PLMN\", similarly to the
scenarios described in 3GPP TS 23.502 [3], but the functionality shall be
equally applicable to any scenario between any pair of PLMNs (e.g. with the
source NF in the Home PLMN and the target NF in the Serving PLMN).
The SCP and SEPP are treated by the Nnrf_NFManagement service in the same way
as NFs. Specifically, the SCP and SEPP are designated with a specific NF type
and NF Instance ID. However, the SCP and SEPP do not support services.
Accordingly, references to \"NF\" or \"NF Profile\" in the description of the
service operations in the following clauses also apply to an SCP and SEPP.
#### 5.2.2.2 NFRegister
##### 5.2.2.2.1 General
This service operation is used:
\- to register an NF in the NRF by providing the NF profile of the requesting
NF to the NRF, and the NRF marks the requesting NF as available to be
discovered by other NFs;
\- to register services associated to an existing NF Instance;
\- to register NRF information in another NRF, and this information is used
for forwarding or redirecting service discovery request.
##### 5.2.2.2.2 NF (other than NRF) registration to NRF
Figure 5.2.2.2.2-1: NF Instance Registration
1\. The NF Service Consumer shall send a PUT request to the resource URI
representing the NF Instance. The URI is determined by the NF Instance. The
variable {nfInstanceID} represents an identifier, provided by the NF Service
Consumer that shall be globally unique inside the PLMN of the NRF where the NF
is being registered. The format of the NF Instance ID shall be a Universally
Unique Identifier (UUID) version 4, as described in IETF RFC 4122 [18].
The UUIDs in URIs, HTTP request payloads and HTTP response payloads should be
formatted using lower-case hexadecimal digits; if the NF Service Consumer
sends a request where the UUIDs are formatted with upper-case hexadecimal
letters, the NRF shall handle it as if the request had been formatted with
lower-case characters.
EXAMPLE: UUID version 4: \"4947a69a-f61b-4bc1-b9da-47c9c5d14b64\"
The payload body of the PUT request shall contain a representation of the NF
Instance to be created.
2a. On success, \"201 Created\" shall be returned, the payload body of the PUT
response shall contain the representation of the created resource and the
\"Location\" header shall contain the URI of the created resource.
Additionally, the NRF returns a \"heart-beat timer\" containing the number of
seconds expected between two consecutive heart-beat messages from an NF
Instance to the NRF (see clause 5.2.2.3.2). The representation of the created
resource may be a complete NF Profile or a NF Profile just including the
mandatory attributes of the NF Profile and the attributes which the NRF added
or changed (see Annex B).
2b. On failure or redirection:
\- If the registration of the NF instance fails at the NRF due to errors in
the encoding of the NFProfile JSON object, the NRF shall return \"400 Bad
Request\" status code with the ProblemDetails IE providing details of the
error.
\- If the registration of the NF instance fails at the NRF due to NRF internal
errors, the NRF shall return \"500 Internal Server Error\" status code with
the ProblemDetails IE providing details of the error.
\- In the case of redirection, the NRF shall return 3xx status code, which
shall contain a Location header with an URI pointing to the endpoint of
another NRF service instance.
The NRF shall allow the registration of a Network Function instance with any
of the NF types described in clause 6.1.6.3.3, and it shall also allow
registration of Network Function instances with custom NF types (e.g., NF type
values not defined by 3GPP, or NF type values not defined by this API
version).
NOTE 1: When registering a custom NF in NRF, it is recommended to use a NF
type name that prevents collisions with other custom NF type names, or with NF
types defined in the future by 3GPP. E.g., prefixing the custom NF type name
with the string \"CUSTOM_\".
During the registration of a Network Function instance with a custom NF type,
the NF instance may provide NF-specific data (in the \"customInfo\"
attribute), that shall be stored by the NRF as part of the NF profile of the
NF instance.
The NRF shall accept the registration of NF Instances containing Vendor-
Specific attributes (see 3GPP TS 29.500 [4], clause 6.6.3), and therefore, it
shall accept NF Profiles containing attributes whose type may be unknown to
the NRF, and those attributes shall be stored as part of the NF\'s profile
data in NRF.
Before an NF Instance registers its NF Profile in NRF, the NF Instance should
check the capabilities of the NRF by issuing an OPTIONS request to the \"nf-
instances\" resource (see clause 6.1.3.2.3.2), unless the NF Instance already
sent a Bootstrapping Request to the NRF and received the nrfFeatures attribute
in the response. The NRF may indicate in the response capabilities such as the
support of receiving compressed payloads in the HTTP PUT request used for
registration of the NF Profile, or support of specific attributes of the NF
Profile.
NOTE 2: A Rel-16 NF needs to register the list of NF Service Instances in the
\"nfServices\" array attribute towards an NRF not supporting the Service-Map
feature (i.e. a Rel-15 NRF).
##### 5.2.2.2.3 NRF registration to another NRF
The procedure specified in clause 5.2.2.2.2 applies. Additionally:
a) the registering NRF shall set the nfType to \"NRF\" in the nfProfile;
b) the registering NRF shall set the nfService to contain \"nnrf-disc\",
\"nnrf-nfm\" and optionally \"nnrf-oauth2\" in the nfProfile;
c) the registering NRF may include nrfInfo which contains the information of
e.g. udrInfo, udmInfo, ausfInfo, amfInfo, smfInfo, upfInfo, pcfInfo, bsfInfo,
nefInfo, chfInfo, pcscfInfo, lmfInfo, gmlcInfo, aanfInfo, nfInfo and nsacfInfo
in the nfProfile locally configured in the NRF or the NRF received during
registration of other NFs, this means the registering NRF is able to provide
service for discovery of NFs subject to that information;
d) if the NRF receives an NF registration with the nfType set to \"NRF\", the
NRF shall use the information contained in the nfProfile to target the
registering NRF when forwarding or redirecting NF service discovery request.
#### 5.2.2.3 NFUpdate
##### 5.2.2.3.1 General
This service operation updates the profile of a Network Function previously
registered in the NRF by providing the updated NF profile of the requesting NF
to the NRF. The update operation may apply to the whole profile of the NF
(complete replacement of the existing profile by a new profile), or it may
apply only to a subset of the parameters of the profile (including
adding/deleting/replacing services to the NF profile).
To perform a complete replacement of the NF Profile of a given NF Instance,
the NF Service Consumer shall issue an HTTP PUT request, as shown in Figure
5.2.2.3.1-1:
Figure 5.2.2.3.1-1: NF Profile Complete Replacement
1\. The NF Service Consumer shall send a PUT request to the resource URI
representing the NF Instance. The payload body of the PUT request shall
contain a representation of the NF Instance to be completely replaced in the
NRF.
2a. On success, \"200 OK\" shall be returned, the payload body of the PUT
response shall contain the representation of the replaced resource. The
representation of the replaced resource may be a complete NF Profile or a NF
Profile just including the mandatory attributes of the NF Profile and the
attributes which the NRF added or changed (see Annex B).
2b. On failure or redirection:
\- If the update of the NF instance fails at the NRF due to errors in the
encoding of the NFProfile JSON object, the NRF shall return \"400 Bad
Request\" status code with the ProblemDetails IE providing details of the
error.
\- If the update of the NF instance fails at the NRF due to NRF internal
errors, the NRF shall return \"500 Internal Server Error\" status code with
the ProblemDetails IE providing details of the error.
\- In the case of redirection, the NRF shall return 3xx status code, which
shall contain a Location header with an URI pointing to the endpoint of
another NRF service instance.
To perform a partial update of the NF Profile of a given NF Instance, the NF
Service Consumer shall issue an HTTP PATCH request, as shown in Figure
5.2.2.3.1-2. This partial update shall be used to add/delete/replace
individual parameters of the NF Instance, and also to add/delete/replace any
of the services (and their parameters) offered by the NF Instance.
Figure 5.2.2.3.1-2: NF Profile Partial Update
1\. The NF Service Consumer shall send a PATCH request to the resource URI
representing the NF Instance. The payload body of the PATCH request shall
contain the list of operations (add/delete/replace) to be applied to the NF
Profile of the NF Instance; these operations may be directed to individual
parameters of the NF Profile or to the list of services (and their parameters)
offered by the NF Instances. In order to leave the NF Profile in a consistent
state, all the operations specified by the PATCH request body shall be
executed atomically.
The NF Service Consumer should include a \"If-Match\" HTTP header carrying the
latest entity-tag received form NRF for the NF profile to which the PATCH
document shall be applied.
2a. On success, if all update operations are accepted by the NRF, \"204 No
Content\" should be returned; the NRF may instead return \"200 OK\" with the
payload body of the PATCH response containing the representation of the
replaced resource. The representation of the replaced resource may be a
complete NF Profile or a NF Profile just including the mandatory attributes of
the NF Profile and the attributes which the NRF added or changed (see Annex
B).
2b. On failure or redirection:
\- If the NF Instance, identified by the \"nfInstanceID\", is not found in the
list of registered NF Instances in the NRF\'s database, the NRF shall return
\"404 Not Found\" status code with the ProblemDetails IE providing details of
the error.
\- In the case of redirection, the NRF shall return 3xx status code, which
shall contain a Location header with an URI pointing to the endpoint of
another NRF service instance.
\- If \"If-Match\" header is received with an entity tag different from the
entity-tag in NRF for NF profile of the target NF instance, the NRF shall
return \"412 Precondition Failed\" status code with the ProblemDetails IE
providing details of the error.
\- If no precondition was defined in the request and another confliction has
been detected (e.g. to change value of a non-existing IE), the NRF shall
return \"409 Conflicting\" status code with the ProblemDetails IE providing
details of the error.
The NRF shall allow updating Vendor-Specific attributes (see 3GPP TS 29.500
[4], clause 6.6.3) that may exist in the NF Profile of a registered NF
Instance.
##### 5.2.2.3.2 NF Heart-Beat
Each NF that has previously registered in NRF shall contact the NRF
periodically (heart-beat), by invoking the NFUpdate service operation, in
order to show that the NF is still operative.
The time interval at which the NRF shall be contacted is deployment-specific,
and it is returned by the NRF to the NF Service Consumer as a result of a
successful registration.
When the NRF detects that a given NF has not updated its profile for a
configurable amount of time (longer than the heart-beat interval), the NRF
changes the status of the NF to SUSPENDED and considers that the NF and its
services can no longer be discovered by other NFs via the NFDiscovery service.
The NRF notifies NFs subscribed to receiving notifications of changes of the
NF Profile that the NF status has been changed to SUSPENDED.
If the NRF modifies the heart-beat interval value of a given NF instance
currently registered (e.g. as a result of an OA&M operation), it shall return
the new value to the registered NF in the response of the next periodic heart-
beat interaction received from that NF and, until then, the NRF shall apply
the heart-beat check procedure according to the original interval value.
Figure 5.2.2.3.2-1: NF Heart-Beat
1\. The NF Service Consumer shall send a PATCH request to the resource URI
representing the NF Instance. The payload body of the PATCH request shall
contain a \"replace\" operation on the \"nfStatus\" attribute of the NF
Profile of the NF Instance, and set it to the value \"REGISTERED\" or
\"UNDISCOVERABLE\".
In addition, the NF Service Consumer may also provide the load information of
the NF, and/or the load information of the NF associated NF services. The
provision of such load information may be limited by this NF via appropriate
configuration (e.g. granularity threshold) in order to avoid notifying minor
load changes.
The NF Service Consumer shall not include \"If-Match\" HTTP header in the
Heart-Beat request if the request is not modifying any attribute in the NF
profile.
2a. On success, the NRF should return \"204 No Content\"; the NRF may also
answer with \"200 OK\" along with the full NF Profile, e.g. in cases where the
NRF determines that the NF Profile has changed significantly since the last
heart-beat, and wants to send the new profile to the NF Service Consumer (note
that this alternative has bigger signalling overhead).
The NRF shall not generate a new entity tag for the NF profile in Heart-Beat
operation if no attribute is modified.
2b. On failure or redirection:
\- If the NF Instance, identified by the \"nfInstanceID\", is not found in the
list of registered NF Instances in the NRF\'s database, the NRF shall return
\"404 Not Found\" status code with the ProblemDetails IE providing details of
the error.
\- In the case of redirection, the NRF shall return 3xx status code, which
shall contain a Location header with an URI pointing to the endpoint of
another NRF service instance.
EXAMPLE:
PATCH .../nf-instances/4947a69a-f61b-4bc1-b9da-47c9c5d14b64
Content-Type: application/json-patch+json
[
{ \"op\": \"replace\", \"path\": \"/nfStatus\", \"value\": \"REGISTERED\" },
{ \"op\": \"replace\", \"path\": \"/load\", \"value\": 50 }
]
HTTP/2 204 No Content
Content-Location: .../nf-instances/4947a69a-f61b-4bc1-b9da-47c9c5d14b64
#### 5.2.2.4 NFDeregister
##### 5.2.2.4.1 General
This service operation removes the profile of a Network Function previously
registered in the NRF.
It is executed by deleting a given resource identified by a \"NF Instance
ID\". The operation is invoked by issuing a DELETE request on the URI
representing the specific NF Instance.
Figure 5.2.2.4.1-1: NF Instance Deregistration
1\. The NF Service Consumer shall send a DELETE request to the resource URI
representing the NF Instance. The request body shall be empty.
2a. On success, \"204 No Content\" shall be returned. The response body shall
be empty.
2b. On failure or redirection:
\- If the NF Instance, identified by the \"nfInstanceID\", is not found in the
list of registered NF Instances in the NRF\'s database, the NRF shall return
\"404 Not Found\" status code with the ProblemDetails IE providing details of
the error.
\- In the case of redirection, the NRF shall return 3xx status code, which
shall contain a Location header with an URI pointing to the endpoint of
another NRF service instance.
#### 5.2.2.5 NFStatusSubscribe
##### 5.2.2.5.1 General
This service operation is used to:
\- create a subscription so an NF Service Consumer can request to be notified
when NF Instances of a given set, following certain filter criteria are
registered/deregistered in NRF or when their profile is modified;
\- create a subscription to a specific NF Instance so an NF Service Consumer
can request to be notified when the profile of such NF Instance is modified or
when the NF Instance is deregistered from NRF.
##### 5.2.2.5.2 Subscription to NF Instances in the same PLMN
The subscription to notifications on NF Instances is executed creating a new
individual resource under the collection resource \"subscriptions\". The
operation is invoked by issuing a POST request on the URI representing the
\"subscriptions\" resource.
Figure 5.2.2.5.2-1: Subscription to NF Instances in the same PLMN
> 1\. The NF Service Consumer shall send a POST request to the resource URI
> representing the \"subscriptions\" collection resource. The custom HTTP
> header \"3gpp-Sbi-Notif-Accepted-Encoding\", as defined in 3GPP TS 29.500
> [4] clause 5.2.3.3.6, may be included to indicate the content-encodings
> supported by the NF Service Consumer receiving the notification.
>
> The request body shall include the data indicating the type of notifications
> that the NF Service Consumer is interested in receiving; it also contains a
> callback URI, where the NF Service Consumer shall be prepared to receive the
> actual notification from the NRF (see NFStatusNotify operation in 5.2.2.6)
> and it may contain a validity time, suggested by the NF Service Consumer,
> representing the time span during which the subscription is desired to be
> kept active. When the NF Service Consumer creates multiple subscriptions in
> the NRF, it should use distinct callback URIs for each subscription.
>
> The subscription request may also include additional parameters indicating
> the list of attributes (including Vendor-Specific attributes, see 3GPP TS
> 29.500 [4], clause 6.6.3) in the NF Profile to be monitored (or to be
> excluded from monitoring), in order to determine whether a notification from
> NRF should be sent, or not, when any of those attributes is changed in the
> profile.
>
> The NF Service Consumer may request the creation of a subscription to a
> specific NF Instance, or to a set of NF Instances, where the set is
> determined according to different criteria specified in the request body, in
> the \"subscrCond\" attribute of the \"SubscriptionData\" object type (see
> clause 6.1.6.2.16).
>
> The subscription shall be authorized, or rejected, by the NRF by checking
> the relevant input attributes (e.g. reqNfType, reqNfFqdn, reqSnssais,
> reqPerPlmnSnssais, reqPlmnList, reqSnpnList, etc.) in the subscription
> request body (along with the contents of any optional Oauth2 access token
> provided in the API request) against the list of authorization attributes in
> the NF Profile of the target NF Instance to be monitored.
>
> An SCP may request a subscription to the complete profile of NF Instances
> (including, e.g. the authorization attributes of the target NF Instances to
> be monitored). Upon receiving such a request, the NRF shall verify that the
> requesting entity is authorized to subscribe to the complete profile of NF
> instances, based on local policies or the receipt of an Oauth2 access token
> granting such permission. If the requesting entity is not authorized to do
> so, the NRF shall reject the request or handle it as a subscription request
> without access to the complete profile.
>
> When the subscription request is for a set of NFs, the authorization
> attributes of the NF Instances in the set may differ, resulting in positive
> authorization of the subscription for only a part of the NF Instances in the
> set; in that case, the subscription to the set of NFs may be accepted by the
> NRF, but the NF Instances in the set that are not authorized for the NF
> Service Consumer that requested the subscription, shall not result in
> triggering any notification event from the NRF to the NF Service Consumer.
2a. On success, \"201 Created\" shall be returned. The response shall contain
the data related to the created subscription, including the validity time, as
determined by the NRF, after which the subscription becomes invalid. Once the
subscription expires, if the NF Service Consumer wants to keep receiving
status notifications, it shall create a new subscription in the NRF.
2b. On failure or redirection:
\- If the creation of the subscription fails at the NRF due to errors in the
SubscriptionData JSON object in the request body, the NRF shall return \"400
Bad Request\" status code with the ProblemDetails IE providing details of the
error.
\- If the creation of the subscription fails at the NRF due to NRF internal
errors, the NRF shall return \"500 Internal Server Error\" status code with
the ProblemDetails IE providing details of the error.
\- In the case of redirection, the NRF shall return 3xx status code, which
shall contain a Location header with an URI pointing to the endpoint of
another NRF service instance.
##### 5.2.2.5.3 Subscription to NF Instances in a different PLMN
The subscription to notifications on NF Instances in a different PLMN is done
by creating a resource under the collection resource \"subscriptions\", in the
NRF of the Home PLMN.
For that, step 1 in clause 5.2.2.5.2 is executed (send a POST request to the
NRF in the Serving PLMN); this request shall include the identity of the PLMN
of the home NRF in the SubscriptionData parameter in the request body.
If the NRF in Serving PLMN knows that Oauth2-based authorization is required
for accessing the NFManagement service of the NRF in Home PLMN, e.g. by
learning this during an earlier Bootstrapping procedure or local
configuration, and if the request received at the NRF in Serving PLMN does not
include an access token, the NRF in Serving PLMN may reject the request with a
401 Unauthorized as specified in clause 6.7.3 of 3GPP TS 29.500 [4].
Then, steps 1-2 in Figure 5.2.2.5.3-1 are executed, between the NRF in the
Serving PLMN and the NRF in the Home PLMN. In this step, the PLMN ID may be
present in the SubscriptionData parameter. The NRF in the Home PLMN returns a
subscriptionID identifying the created subscription.
Finally, step 2 in clause 5.2.2.5.2 is executed; a new subscriptionID shall be
generated by the NRF in the Serving PLMN as indicated in step 2 of Figure
5.2.2.5.3-1, and shall be sent to the NF Service Consumer in the Serving PLMN.
Figure 5.2.2.5.3-1: Subscription to NF Instances in a different PLMN
> 1\. The NRF in Serving PLMN shall send a POST request to the resource URI in
> the NRF in Home PLMN representing the \"subscriptions\" collection resource.
> The request body shall include the SubscriptionData as received by the NRF
> in Serving PLMN from the NF Service Consumer in the Serving PLMN (see
> 5.2.2.5.2), containing the data about the type of notifications that the NF
> Service Consumer is interested in receiving and the callback URI where the
> NF Service Consumer shall be prepared to receive the notifications from the
> NRF (see NFStatusNotify operation in 5.2.2.6).
2a. On success, \"201 Created\" shall be returned. If the subscription is
created in a different NRF in the HPLMN than the NRF in the HPLMN that
receives the subscription request, the latter should include information in
the subscriptionID (after the first 5 or 6 digits and \"-\") such as to be
able to forward the subsequent subscription modification or deletion request
it may receive from the NRF in the serving PLMN towards the NRF in the HPLMN
holding the subscription. The information to be included in the subscriptionID
is left to implementation.
If the Home NRF is located in a PLMN:
The NRF in Serving PLMN should not keep state for this created subscription
and shall send to the NF Service Consumer in Serving PLMN (step 2 in
5.2.2.5.2) a subscriptionID that shall consist on the following structure:
\+\+\"-\"+\
If the Home NRF is located in an SNPN:
\+\+\"-\"+\"x3Lf57A\"+\":nid=\"+\+\":\"+\
NOTE: The fixed 7-character string \"x3Lf57A\" is used to prevent accidental
collisions with subscription IDs generated according to earlier versions of
this specification, where the subscription ID could only contain MCC and MNC
values; this mechanism is commonly known as \"magic cookie\".
EXAMPLE 1: If the NRF in a Home PLMN (where MCC = 123, and MNC=456) creates a
subscription with value \"subs987654\", the subscriptionID that the NRF in
Serving PLMN would send to the NF Service Consumer in Serving PLMN is:
\"123456-subs987654\"
EXAMPLE 2: If the NRF in an SNPN (where MCC = 321, MNC = 654 and NID =
023f245ac42) creates a subscription with value \"subs987654\", the
subscriptionID that the NRF in Serving PLMN would send to the NF Service
Consumer in Serving PLMN is:\ \"321654-x3Lf57A:nid=023f245ac42:subs987654\".
The URI in the Location header that the NRF in Serving PLMN returns to the NF
Service Consumer in Serving PLMN shall contain a \ modified as
described above and, if it is as an absolute URI, an apiRoot pointing to the
address of the NRF in Serving PLMN. The subscriptionId attribute in the
message body that the NRF in Serving PLMN returns to the NF Service Consumer
in Serving PLMN shall also contain a \ modified as described
above.
2b. On failure or redirection:
\- If the creation of the subscription fails at the NRF due to errors in the
SubscriptionData JSON object in the request body, the NRF shall return \"400
Bad Request\" status code with the ProblemDetails IE providing details of the
error.
\- If the creation of the subscription fails at the NRF due to NRF internal
errors, the NRF shall return \"500 Internal Server Error\" status code with
the ProblemDetails IE providing details of the error.
\- In the case of redirection, the NRF shall return 3xx status code, which
shall contain a Location header with an URI pointing to the endpoint of
another NRF service instance.
##### 5.2.2.5.4 Subscription to NF Instances with intermediate forwarding NRF
When multiple NRFs are deployed in one PLMN, an NF Instance can subscribe to
changes of NF Instances registered in an NRF to which it is not directly
interacting. The subscription message is forwarded by an intermediate NRF to
which the subscribing NF instance is directly interacting.
For that, step 1 in clause 5.2.2.5.2 is executed (send a POST request to the
NRF-1 in the Serving PLMN); this request shall include the SubscriptionData
parameter in the request body.
Then, steps 1-4 in Figure 5.2.2.5.4-1 are executed between NF Service Consumer
in Serving PLMN, NRF-1 in Serving PLMN and NRF-2 in Serving PLMN. In thest
steps, NRF-1 sends the subscription request to a pre-configured NRF-2. NRF-2
requests corresponding NRF (e.g. the NF Service Producer registered NRF) and
returns a subscriptionID identifying the created subscription and this
subscriptionID is sent to the NF Service Consumer via NRF-1.
Finally, step 2 in clause 5.2.2.5.2 is executed; the subscriptionID shall be
sent to the NF Service Consumer.
Figure 5.2.2.5.4-1: Subscription with intermediate forwarding NRF
1\. NRF-1 receives a subscription request and sends the subscription request
to a pre-configured NRF-2. This may for example include cases where NRF-1 does
not have sufficient information as determined by the operator policy to
fulfill the request locally.
2\. Upon receiving a subscription request, based on the SubscriptionData
contained in the subscription request (e.g.NF type) and locally stored
information (see clause 5.2.2.2.3), NRF-2 shall identify the next hop NRF and
forward the subscription request to that NRF (i.e. NF Service Producer
registered NRF).
3a. On success, \"201 Created\" shall be returned by NRF-2.
3b. On failure, i.e. if the creation of the subscription fails, the NRF-2
shall return \"4XX/5XX\" response.
3c. In the case of redirection, the NRF shall return 3xx status code, which
shall contain a Location header with an URI pointing to the endpoint of
another NRF service instance.
4a. NRF-1 forwards the success response to NF Service Consumer. The payload
body of the POST response shall contain the representation describing the
status of the request and the \"Location\" header shall be present and shall
contain the URI of the created resource. The authority and/or deployment-
specific string of the apiRoot of the created resource URI may differ from the
authority and/or deployment-specific string of the apiRoot of the request URI
received in the POST request.
4b. On failure, NRF-1 forwards the error response to NF Service Consumer.
4c. In the case of redirection, the NRF shall return 3xx status code, which
shall contain a Location header with an URI pointing to the endpoint of
another NRF service instance.
##### 5.2.2.5.5 Subscription to NF Instances with intermediate redirecting NRF
When multiple NRFs are deployed in one PLMN, an NF Instance can subscribe to
changes of NF Instances registered in another NRF. The subscription message is
redirected by a third NRF.
For that, step 1 in clause 5.2.2.5.2 is executed (send a POST request to the
NRF-1 in the Serving PLMN); this request shall include the SubscriptionData
parameter in the request body.
Then, steps 2-5 in Figure 5.2.2.5.5-1 are executed between NRF-1, NRF-2 and
NRF-3.
Finally, step 2 in clause 5.2.2.5.2 is executed; the subscriptionID shall be
sent to the NF Service Consumer.
Figure 5.2.2.5.5-1: Subscription to NF Instances with intermediate redirecting
NRF
1\. NF Service Consumer send a subscription request to NRF-1.
2\. NRF-1 receives a subscription request but does not have the information to
fulfil the request. Then NRF-1 sends the subscription request to a pre-
configured NRF-2.
3\. Upon receiving a subscription request, based on the SubscriptionData
contained in the subscription request (e.g.NF type) and locally stored
information (see clause 5.2.2.2.3), NRF-2 shall identify the next hop NRF, and
redirect the subscription request by returning HTTP 307 Temporary Redirect
response.
The 307 Temporary Redirect response shall contain a Location header field, the
host part of the URI in the Location header field represents NRF-3.
4\. Upon receiving 307 Temporary Redirect response, NRF-1 sends the
subscription request to NRF-3 by using the URI contained in the Location
header field of the 307 Temporary Redirect response.
5a. On success, \"201 Created\" shall be returned by NRF-3.
5b. On failure, if the creation of the subscription fails at the NRF-3, the
NRF-3 shall return \"4XX/5XX\" response.
6a. On success, \"201 Created\" shall be forwarded to NF Service Consumer via
NRF-1. The payload body of the POST response shall contain the representation
describing the status of the request and the \"Location\" header shall be
present and shall contain the URI of the created resource. The authority
and/or deployment-specific string of the apiRoot of the created resource URI
may differ from the authority and/or deployment-specific string of the apiRoot
of the request URI received in the POST request.
6b. On failure, if the creation of the subscription fails, \"4XX/5XX\" shall
be forwarded to NF Service Consumer via NRF-1.
##### 5.2.2.5.6 Update of Subscription to NF Instances
The subscription to notifications on NF Instances may be updated to refresh
the validity time, when this time is about to expire. The NF Service Consumer
may request a new validity time to the NRF, and the NRF shall answer with the
new assigned validity time, if the operation is successful.
This operation is executed by updating the resource identified by
\"subscriptionID\". It is invoked by issuing an HTTP PATCH request on the URI
representing the individual resource received in the Location header field of
the \"201 Created\" response received during a successful subscription (see
clause 5.2.2.5).
Figure 5.2.2.5.6-1: Subscription to NF Instances in the same PLMN
1\. The NF Service Consumer shall send a PATCH request to the resource URI
identifying the individual subscription resource. The payload body of the
PATCH request shall contain a \"replace\" operation on the \"validityTime\"
attribute of the SubscriptionData structure and shall contain a new suggested
value for it; no other attribute of the resource shall be updated as part of
this operation.
2a. On success, if the NRF accepts the extension of the lifetime of the
subscription, and it accepts the requested value for the \"validityTime\"
attribute, a response with status code \"204 No Content\" shall be returned.
2b. On success, if the NRF accepts the extension of the lifetime of the
subscription, but it assigns a validity time different than the value
suggested by the NF Service Consumer, a \"200 OK\" response code shall be
returned. The response shall contain the new resource representation of the
\"subscription\" resource, which includes the new validity time, as determined
by the NRF, after which the subscription becomes invalid.
2c. On failure or redirection:
\- If the update of the subscription fails at the NRF due to errors in the
JSON Patch object in the request body, the NRF shall return \"400 Bad
Request\" status code with the ProblemDetails IE providing details of the
error.
\- If the update of the subscription fails at the NRF due to NRF internal
errors, the NRF shall return \"500 Internal Server Error\" status code with
the ProblemDetails IE providing details of the error.
\- In the case of redirection, the NRF shall return 3xx status code, which
shall contain a Location header with an URI pointing to the endpoint of
another NRF service instance.
EXAMPLE:
PATCH .../subscriptions/2a58bf47
Content-Type: application/json-patch+json
[
{ \"op\": \"replace\", \"path\": \"/validityTime\", \"value\":
\"2018-12-30T23:20:50Z\" },
]
HTTP/2 204 No Content
##### 5.2.2.5.7 Update of Subscription to NF Instances in a different PLMN
The update of subscription in a different PLMN is done by updating a
subscription resource identified by a \"subscriptionID\".
For that, step 1 in clause 5.2.2.5.6 is executed (send a PATCH request to the
NRF in the Serving PLMN); this request shall include the identity of the PLMN
or SNPN of the home NRF (MCC/MNC/NID values) as a component values of the
susbcriptionID.
Then, steps 1-2 in Figure 5.2.2.5.7-1 are executed, between the NRF in the
Serving PLMN and the NRF in the Home PLMN. In this step, the subscriptionID
sent to the NRF in the Home PLMN shall not contain the identity of the PLMN
(i.e., it shall be the same subscriptionID value as originally generated by
the NRF in the Home PLMN). The NRF in the Home PLMN returns a status code with
the result of the operation.
If the subscription was created in a different NRF in the HPLMN than the NRF
in the HPLMN that receives the subscription update request, the latter shall
forward the request received from the NRF in the serving PLMN towards the NRF
in the HPLMN holding the subscription, using the information included in the
subscriptionID (see clause 5.2.2.5.3). The subscriptionID value in the request
forwarded to the NRF in the HPLMN holding the subscription shall contain the
same value as originally generated by the latter.
Finally, step 2 in clause 5.2.2.5.7-2 is executed; a status code is returned
to the NF Service Consumer in Serving PLMN in accordance to the result
received from NRF in the Home PLMN.
Figure 5.2.2.5.7-1: Update of Subscription to NF Instances in a different PLMN
1\. The NRF in Serving PLMN shall send a PATCH request to the resource URI
representing the individual subscription. The payload body of the PATCH
request shall contain a \"replace\" operation on the \"validityTime\"
attribute of the SubscriptionData structure and shall contain a new suggested
value for it;
2a. On success, if the NRF in the Home PLMN accepts the extension of the
lifetime of the subscription, and it accepts the requested value for the
\"validityTime\" attribute, a response with status code \"204 No Content\"
shall be returned.
2b. On success, if the NRF in the Home PLMN accepts the extension of the
lifetime of the subscription, but it assigns a validity time different than
the value suggested by the NF Service Consumer, a \"200 OK\" response code
shall be returned. The response shall contain the new resource representation
of the \"subscription\" resource, which includes the new validity time, as
determined by the NRF in the Home PLMN, after which the subscription becomes
invalid.
2c. On failure or redirection:
\- If the update of the subscription fails at the NRF due to errors in the
JSON Patch object in the request body, the NRF shall return \"400 Bad
Request\" status code with the ProblemDetails IE providing details of the
error.
\- If the update of the subscription fails at the NRF due to NRF internal
errors, the NRF shall return \"500 Internal Server Error\" status code with
the ProblemDetails IE providing details of the error.
\- In the case of redirection, the NRF shall return 3xx status code, which
shall contain a Location header with an URI pointing to the endpoint of
another NRF service instance.
#### 5.2.2.6 NFStatusNotify
##### 5.2.2.6.1 General
This service operation notifies each NF Service Consumer that was previously
subscribed to receiving notifications of registration/deregistration of NF
Instances, or notifications of changes of the NF profile of a given NF
Instance. The notification is sent to a callback URI that each NF Service
Consumer provided during the subscription (see NFStatusSubscribe operation in
5.2.2.5).
##### 5.2.2.6.2 Notification from NRF in the same PLMN
The operation is invoked by issuing a POST request to each callback URI of the
different subscribed NF Instances.
Figure 5.2.2.6.2-1: Notification from NRF in the same PLMN
1\. The NRF shall send a POST request to the callback URI.
For notifications of newly registered NF Instances, the request body shall
include the data associated to the newly registered NF, and its services,
according to the criteria indicated by the NF Service Consumer during the
subscription operation. These data shall contain the nfInstanceURI of the NF
Instance, an indication of the event being notified (\"registration\"), and
the new profile data (including, among others, the services offered by the NF
Instance).
For notifications of changes of the profile of a NF Instance, the request body
shall include the NFInstanceID of the NF Instance whose profile was changed,
an indication of the event being notified (\"profile change\"), and the new
profile data.
For notifications of deregistration of the NF Instance from NRF, the request
body shall include the NFInstanceID of the deregistered NF Instance, and an
indication of the event being notified (\"deregistration\").
NOTE: When the NF Instance changes its NFStatus, the NRF notifies subscribing
entities with an \"NF_PROFILE_CHANGED\" event, except if the new NFStatus
changes to \"CANARY_RELEASE\" and the subscribing entity does not support the
\"Canary-Release\" feature (see clause 6.1.9); in such case, the NRF notifies
the subscribing entities with an \"NF_DEREGISTERED\" event (see clause
6.1.6.3.6).
When an NF Instance is newly registered in NRF, the NRF notifies subscribing
entities with an \"NF_REGISTERED\" event, except if such NF instance newly
registers with status \"CANARY_RELEASE\" and the subscribing entity does not
support the \"Canary-Release\" feature; in such case, the NRF does not send an
\"NF_REGISTERED\" event to the subscribing entity.
When an NF Service Instance changes its NFServiceStatus to \"CANARY_RELEASE\",
and the subscribing entity does not support the \"Canary-Release\" feature,
the NRF sends a notification with an \"NF_PROFILE_CHANGED\" event that removes
such NF Service Instance from the NF profile, so the subscribing entity can
remove such instance from the list of available service instances of the
corresponding NF producer.
When an NF Service Consumer subscribes to a set of NFs (using the different
subscription conditions specified in clause 6.1.6.2.35), a change in the
profile of the monitored NF Instance may result in such NF becoming a part of
the NF set, or stops becoming a part of it (e.g., an NF Service Consumer
subscribing to all NFs offering a given NF Service, and then, a certain NF
Instance changes its profile by adding or removing an NF Service of its NF
Profile); in such case, the NRF shall use the \"NF_PROFILE_CHANGED\" event
type in the notification. Similarly, a change of the status (i.e. the
\"nfStatus\" attribute of the NF Profile) shall result into the NRF to send
notifications to subscribing NFs with event type set to
\"NF_PROFILE_CHANGED\".
When an NF Service Consumer subscribes to a set of NFs, using the subscription
conditions specified in clause 6.1.6.2.35, in case of a change of profile(s)
of NFs potentially related to those subscription conditions, the NRF shall
send notification to subscribing NF Service Consumer(s) to those NFs no longer
matching the subscription conditions, and to subscribing NF Service
Consumer(s) to NFs that start matching the subscription conditions. In that
case, the NRF indicates in the notification data whether the notification is
due to the NF Instance to newly start or stop matching the subscription
condition (i.e. based on the presence of the \"conditionEvent\" attribute of
the NotificationData).
The notification of changes of the profile may be done by the NRF either by
sending the entire new NF Profile, or by indicating a number of \"delta\"
changes (see clause 6.1.6.2.17) from an existing NF Profile that might have
been previously received by the NF Service Consumer during an NFDiscovery
search operation (see clause 5.3.2.2). If the NF Service Consumer receives
\"delta\" changes related to an NF Service Instance (other than adding a new
NF Service Instance) that had not been previously discovered, those changes
shall be ignored by the NF Service Consumer, but any other \"delta\" changes
related to NF Service Instances previously discovered or adding a new NF
Service Instance shall be applied.
Change of authorization attributes (allowedNfTypes, allowedNfDomains,
allowedNssais, allowedPlmns etc) shall trigger a \"NF_PROFILE_CHANGED\"
notification from NRF, if the change of the NF Profile results in that the NF
Instance starts or stops being authorized to be accessed by an NF having
subscribed to be notified about NF profile changes. In this case, the NRF
indicates in the notification data whether the notification is due to the NF
Instance to newly start or stop matching the subscription condition (i.e.
based on the presence of the \"conditionEvent\" attribute of the
NotificationData). Otherwise change of authorization attributes shall not
trigger notification.
The notifications of new registrations, or updates of existing registrations,
shall not include the content (or the changes) of the authorization attributes
(\"allowedXXX\" atributes) of the target NF profile being monitored, unless
the subscribing entity explicitly requested so, in the
\"completeProfileSubscription\" attribute in the subscription request message,
and the NRF authorized such a request.
2a. On success, \"204 No content\" shall be returned by the NF Service
Consumer.
2b. On failure or redirection:
\- If the NF Service Consumer does not consider the
\"nfStatusNotificationUri\" as a valid notification URI (e.g., because the URI
does not belong to any of the existing subscriptions created by the NF Service
Consumer in the NRF), the NF Service Consumer shall return \"404 Not Found\"
status code with the ProblemDetails IE providing details of the error.
\- In the case of redirection, the NF service consumer shall return 3xx status
code, which shall contain a Location header with an URI pointing to the
endpoint of another NF service consumer endpoint.
##### 5.2.2.6.3 Notification from NRF in a different PLMN
The operation is invoked by issuing a POST request to each callback URI of the
different subscribed NF Instances.
Figure 5.2.2.6.3-1: Notification from NRF in a different PLMN
Steps 1 and 2 are identical to steps 1 and 2 in Figure 5.2.2.6.2-1.
It should be noted that the POST request shall be sent directly from the NRF
in Home PLMN to the NF Service Consumer in Serving PLMN, without involvement
of the NRF in Serving PLMN.
##### 5.2.2.6.4 Notification for subscription via intermediate NRF
Figure 5.2.2.6.4-1: Notification for subscription via intermediate NRF
Step 0 is the NF Service Consumer creates a subscription to NRF-2 via
intermediate NRF.
Steps 1 and 2 are identical to steps 1 and 2 in Figure 5.2.2.6.2-1.
The POST request shall be sent directly from NRF-2 to the NF Service Consumer
without involvement of NRF-1.
#### 5.2.2.7 NFStatusUnSubscribe
##### 5.2.2.7.1 General
This service operation removes an existing subscription to notifications.
##### 5.2.2.7.2 Subscription removal in the same PLMN
It is executed by deleting a given resource identified by a
\"subscriptionID\". The operation is invoked by issuing a DELETE request on
the URI representing the specific subscription received in the Location header
field of the \"201 Created\" response received during a successful
subscription (see clause 5.2.2.5).
Figure 5.2.2.7.2-1: Subscription removal in the same PLMN
1\. The NF Service Consumer shall send a DELETE request to the resource URI
representing the individual subscription. The request body shall be empty.
2a. On success, \"204 No Content\" shall be returned. The response body shall
be empty.
2b. On failure or redirection:
\- If the subscription, identified by the \"subscriptionID\", is not found in
the list of active subscriptions in the NRF\'s database, the NRF shall return
\"404 Not Found\" status code with the ProblemDetails IE providing details of
the error.
\- In the case of redirection, the NRF shall return 3xx status code, which
shall contain a Location header with an URI pointing to the endpoint of
another NRF service instance.
##### 5.2.2.7.3 Subscription removal in a different PLMN
The subscription removal in a different PLMN is done by deleting a resource
identified by a \"subscriptionID\", in the NRF of the Home PLMN.
For that, step 1 in clause 5.2.2.7.2 is executed (send a DELETE request to the
NRF in the Serving PLMN); this request shall include the identity of the PLMN
or SNPN of the home NRF (MCC/MNC/NID values) as component values of the
subscriptionID (see clause 5.2.2.5.3).
Then, steps 1-2 in Figure 5.2.2.7.3-1 are executed, between the NRF in the
Serving PLMN and the NRF in the Home PLMN. In this step, the subscriptionID
sent to the NRF in the Home PLMN shall not contain the identity of the PLMN
(i.e., it shall be the same subscriptionID value as originally generated by
the NRF in the Home PLMN). The NRF in the Home PLMN returns a status code with
the result of the operation.
If the subscription was created in a different NRF in the HPLMN than the NRF
in the HPLMN that receives the subscription delete request, the latter shall
forward the request received from the NRF in the serving PLMN towards the NRF
in the HPLMN holding the subscription, using the information included in the
subscriptionID (see clause 5.2.2.5.3). The subscriptionID value in the request
forwarded to the NRF in the HPLMN holding the subscription shall contain the
same value as originally generated by the latter.
Finally, step 2 in clause 5.2.2.7.2 is executed; a status code is returned
from the NRF in serving PLMN to the NF Service Consumer in Serving PLMN in
accordance to the result received from NRF in Home PLMN.
Figure 5.2.2.7.3-1: Subscription removal in a different PLMN
1\. The NF Service Consumer shall send a DELETE request to the resource URI
representing the individual subscription. The request body shall be empty.
2a. On success, \"204 No Content\" shall be returned. The response body shall
be empty.
2b. On failure or redirection:
\- If the subscription, identified by the \"subscriptionID\", is not found in
the list of active subscriptions in the NRF\'s database, the NRF shall return
\"404 Not Found\" status code with the ProblemDetails IE providing details of
the error.
\- In the case of redirection, the NRF shall return 3xx status code, which
shall contain a Location header with an URI pointing to the endpoint of
another NRF service instance.
#### 5.2.2.8 NFListRetrieval
##### 5.2.2.8.1 General
This service operation allows the retrieval of a list of NF Instances that are
currently registered in NRF. The operation may apply to the whole set of
registered NF instances or only to a subset of the NF instances, based on a
given NF type and/or maximum number of NF instances to be returned.
Figure 5.2.2.8.1-1: NF instance list retrieval
1\. The NF Service Consumer shall send an HTTP GET request to the resource URI
\"nf-instances\" collection resource. The optional input filter criteria (e.g.
\"nf-type\") and pagination parameters for the retrieval request may be
included in query parameters.
2a. On success, \"200 OK\" shall be returned. The response body shall contain
the URI (conforming to the resource URI structure as described in clause
5.2.2.9.1) of each registered NF in the NRF that satisfy the retrieval filter
criteria (e.g., all NF instances of the same NF type), or an empty list if
there are no NFs to return in the query result (e.g., because there are no
registered NFs in the NRF, or because there are no matching NFs of the type
specified in the \"nf-type\" query parameter, currently registered in the
NRF). The total count of items satisfying the filter criteria (e.g. \"nf-
type\") should be returned in the response.
2b. On failure or redirection:
\- If the NF Service Consumer is not allowed to retrieve the registered NF
instances, the NRF shall return \"403 Forbidden\" status code.
\- If the NF Instance list retrieval fails at the NRF due to errors in the
input data in the URI query parameters, the NRF shall return \"400 Bad
Request\" status code with the ProblemDetails IE providing details of the
error.
\- If the discovery request fails at the NRF due to NRF internal errors, the
NRF shall return \"500 Internal Server Error\" status code with the
ProblemDetails IE providing details of the error.
\- In the case of redirection, the NRF shall return 3xx status code, which
shall contain a Location header with an URI pointing to the endpoint of
another NRF service instance.
#### 5.2.2.9 NFProfileRetrieval
##### 5.2.2.9.1 General
This service operation allows the retrieval of the NF profile of a given NF
instance currently registered in NRF.
Figure 5.2.2.9.1-1: NF profile retrieval
1\. The NF Service Consumer shall send an HTTP GET request to the resource URI
\"nf-instances/{nfInstanceId}\".
2a. On success, \"200 OK\" shall be returned. The response body shall contain
the NF profile of the NF instance identified in the request.
2b. On failure or redirection:
\- If the NF Service Consumer is not allowed to retrieve the NF profile of
this specific registered NF instance, the NRF shall return \"403 Forbidden\"
status code.
\- If the NF Profile retrieval fails at the NRF due to NRF internal errors,
the NRF shall return \"500 Internal Server Error\" status code with the
ProblemDetails IE providing details of the error.
\- In the case of redirection, the NRF shall return 3xx status code, which
shall contain a Location header with an URI pointing to the endpoint of
another NRF service instance.
## 5.3 Nnrf_NFDiscovery Service
### 5.3.1 Service Description
The Nnrf_NFDiscovery service allows a NF or SCP Instance to discover other NF
Instances with the potential services they offer, or to discover SEPP
instances in the same PLMN, by querying the local NRF.
The Nnrf_NFDiscovery service also allows:
\- an SCP to discover other SCP instances,
\- an NF or SCP to discover the list of NRF instances that are part of the NRF
set with, for each NRF instance, its NRF instance ID and addressing
information, if the NRF is part of an NRF set.
It also allows an NRF in a PLMN to re-issue a discovery request towards an NRF
in another PLMN (e.g., the HPLMN of a certain UE).
### 5.3.2 Service Operations
#### 5.3.2.1 Introduction
The service operations defined for the Nnrf_NFDiscovery service are as
follows:
\- NFDiscover: It provides to the NF service consumer or SCP the profile
(including IP address(es) or FQDN) of the NF Instance(s) or NF Service(s) or
SEPP instances matching certain input criteria. It also provides to the SCP
the profile (including IP address(es) or FQDN) of the SCP Instance(s) matching
certain input criteria.
The NFDiscover operation can be invoked by an NF Service Consumer (i.e.,
\"source NF\") or SCP requesting to discover NF instances (i.e., \"target
NFs\") located in the same PLMN, or in a different PLMN, or SEPP instances
located in the same PLMN. It can also be invoked by an SCP requesting to
discover SCP instances located in the same PLMN.
In the description of these operations in clause 5.3.2.2, when the NF
instances are located in the same PLMN, both source NF and target NFs are said
to be located in the \"Serving PLMN\" but, in the general case, the
functionality is not restricted to the PLMN that is serving a given UE, and it
shall be applicable as well to any scenario in which source NF and target NFs
belong to the same PLMN.
When source NF and target NFs are located in different PLMNs, the source NF is
said to be in the \"Serving PLMN\", and the target NFs (and the NRF where they
are registered) are said to be in the \"Home PLMN\", similarly to the
scenarios described in 3GPP TS 23.502 [3], but the functionality shall be
equally applicable to any scenario between any pair of PLMNs (e.g. with the
source NF in the Home PLMN and the target NF in the Serving PLMN).
The SCP and SEPP are treated by the Nnrf_NFDiscovery service in the same way
as NFs. Specifically, the SCP and SEPP are designated with a specific NF type
and NF Instance ID. However, the SCP and SEPP do not support services.
Accordingly, references to \"NF\" or \"NF Profile\" in the description of the
service operations in the following clauses also apply to an SCP and SEPP.
\- SCPDomainRoutingInfoGet: It allows a service consumer (e.g. SCP) to fetch
the SCP domain routing information (list of all SCP Domains registered by SCPs
and the interconnected SCP domains per SCP domain), if both the SCP and the
NRF supports the \"SCPDRI\" feature. It also allows a service consumer (e.g.
NRF) to fetch the local SCP domain routing information (based on SCPs
registered in the NRF as service producer), if both the NRF as service
consumer and NRF as service producer supports the \"SCPDRI\" feature.
NOTE: Two SCP domains are considered interconnected when at least one SCP
belongs to both SCP domains, i.e. at least one SCP can bridge messages between
these two SCP domains.
\- SCPDomainRoutingInfoSubscribe: It allows a service consumer (e.g. SCP) to
create a subscription for changes of the SCP domain routing information, if
both the SCP and the NRF supports the \"SCPDRI\" feature. It also allows a
service consumer (e.g. NRF) to create a subscription for changes of local SCP
domain routing information, if both the NRF as service consumer and NRF as
service producer supports the \"SCPDRI\" feature.
\- SCPDomainRoutingInfoNotify: It allows the NRF to send notification(s) to a
service consumer (e.g. SCP) previously subscribed to the changes of the SCP
domain routing information, if both the SCP and the NRF supports the
\"SCPDRI\" feature. It also allows the NRF as service producer to send
notification(s) to a service consumer (e.g. NRF) previously subscribed to the
changes of the local SCP domain routing information, if both the NRF as
service consumer and NRF as service producer supports the \"SCPDRI\" feature.
\- SCPDomainRoutingInfoUnsubscribe: It allows a service consumer (e.g. SCP or
NRF) to delete a previously created subscription for changes of the SCP domain
routing information, if both the service consumer and the NRF as service
producer supports the \"SCPDRI\" feature.
A NRF may be part of an NRF set, whereby all NRF instances of the NRF Set
share the same context data (e.g. registered NF profiles, NF status
subscriptions). If so, the NF Service Consumer may be configured with the NRF
Set ID or it may discover the same in the NRF Bootstrapping response.
If the NRF is part of an NRF set, the NF Service Consumer may retrieve the NRF
Set Information from the NRF via the Nnrf_NFDiscovery service, which allows to
discover the list of NRF instances that are part of the NRF set with, for each
NRF instance, its NRF Instance ID and addressing information (i.e. part of NRF
profile).
NOTE: As part of the discovery of NRF instances belonging to an NRF Set, not
all attributes in the NFProfile and NFService data structures (typically used
for NF Consumer -- NF Producer interaction) are needed for the NF Consumer to
interact with the instances of the NRF Set, so the discovery response from NRF
can be simplified and omit certain parameters.
The NF Service Consumer may register with any of the NRF Instance Id within
the NRF Set. If the NRF instance where an NF Service Consumer registered is
down, the NF Service Consumer need not re-register to any new NRF instance
within the NRF Set. The NRF may provide a binding indication to the NF service
consumer, e.g. when the NF Service Consumer registers or updates its NF
profile in the NRF or when it issues heartbeat requests, to indicate a
preferred binding of the NF Service Consumer to one NRF instance within the
NRF set, e.g. based on the location or data center of the
registering/registered NF Service Consumer.
#### 5.3.2.2 NFDiscover
##### 5.3.2.2.1 General
This service operation discovers the set of NF Instances (and their associated
NF Service Instances), represented by their NF Profile, that are currently
registered in NRF and satisfy a number of input query parameters.
Before a service consumer invokes this service operation, it shall consider if
it is possible to reuse the results from a previous searching (service
discovery).
The service consumer should reuse the previous result if input query
parameters in the new service discovery request are the same as used for the
previous search and the validity period of the result is not expired.
The service consumer may consider reusing the previous result if the
attributes as required for the new query consist of the query attributes from
the previous query and additional query attributes. In such case, when the
results of a previous query are reused, the service consumer need consider
that the previous results will possibly include NF profiles that the new query
would not; hence, the service consumer has to complete the filtering itself
against the additional filter attributes in the new internal query.
Otherwise, if the query parameters in the new service discovery are different
and don\'t consist of the previous query attributes and additional ones (i.e.
the new query parameters, in general, don\'t have any relationship with those
of the previous search), the reuse of cached profiles may still be done.
In these two last cases (i.e. where the query parameters of the new query are
not identical to the previous query), re-using data from cached profiles may
possibly yield to different results than if a new discovery was performed, and
thus may be subject to operator\'s policy.
NOTE: Certain types of query attributes affect the contents of the NF Profiles
returned in the discovery responses (e.g., \"preferred-location\" typically
affects the setting of the \"priority\" attribute inside the NF Profiles
returned by NRF); reusing the results from a previous query, when the new
query involves any of such parameters, may not be feasible.
If an SCP receives complete NF profiles (including, e.g. the authorization
attributes) from the NRF (see clauses 5.3.2.2.2 and 5.2.2.5.2), the SCP may
use these cached profiles to serve new service requests received from NFs with
different requester\'s information (e.g. different NF type, domain, S-NSSAI),
but if it does so, the SCP shall check the authorization parameters of the
complete profiles to ascertain that the requesting NFs are authorized to
access the related NF services.
The NF Service Consumer should avoid to send multiple NF discovery requests
with the same query parameters to NRF simultaneously.
##### 5.3.2.2.2 Service Discovery in the same PLMN
This service operation is executed by querying the \"nf-instances\" resource.
The request is sent to an NRF in the same PLMN of the NF Service Consumer.
Figure 5.3.2.2.2-1: Service Discovery Request in the same PLMN
1\. The NF Service Consumer shall send an HTTP GET request to the resource URI
\"nf-instances\" collection resource. The input filter criteria for the
discovery request shall be included in query parameters.\ \ An SCP may request
to discover the complete profile of NF instances (including, e.g. the
authorization attributes) matching the query parameters. Upon receiving such a
request, the NRF shall verify that the requesting entity is authorized to
discover the complete profile of NF instances, based on local policies or the
receipt of an access token granting such permission. If the requesting entity
is not authorized to do so, the NRF shall reject the request or handle it as a
service discovery request without access to the complete profile.
When certain query parameters in the discovery request are not supported by
the NRF, the NRF shall ignore the unsupported query parameters and continue
processing the request with the rest of the query parameters.
2a. On success, \"200 OK\" shall be returned. The response body shall contain
a validity period, during which the search result can be cached by the NF
Service Consumer, and an array of NF Profile objects, and/or a map of
NFInstanceInfo objects of NF instances (if the NF service consumer indicated
support of the Enh-NF-Discovery feature in the request) that satisfy the
search filter criteria (e.g., all NF Instances offering a certain NF Service
name in REGISTERED status, or empty array in case search filter criteria do
not match a NF Instance in REGISTERED status). In the latter case, the
response may include the noProfileMatchInfo attribute to provide the specific
reason for not finding any NF instance that can match the search filter
criteria.
If the NRF has ignored certain unsupported query parameter(s) when processing
the discovery request, the NRF may additionally include the indication of
ignored unsupported query parameters in the search result. The NF consumer may
use the indication to identify whether the NF candidates in the search result
are all usable for the service logic, i.e. all query parameter related to the
key service logic are not ignored.
2b. On failure or redirection:
\- If the NF Service Consumer is not allowed to discover the NF services for
the requested NF type provided in the query parameters, the NRF shall return
\"403 Forbidden\" response.
\- If the discovery request fails at the NRF due to errors in the input data
in the URI query parameters, the NRF shall return \"400 Bad Request\" status
code with the ProblemDetails IE providing details of the error.
\- If the discovery request fails at the NRF due to NRF internal errors, the
NRF shall return \"500 Internal Server Error\" status code with the
ProblemDetails IE providing details of the error.
\- In the case of redirection, the NRF shall return 3xx status code, which
shall contain a Location header with an URI pointing to the endpoint of
another NRF service instance.
The NF Profile objects returned in a successful result shall contain generic
data of each NF Instance, applicable to any NF type, and it may also contain
NF-specific data, for those NF Instances belonging to a specific type (e.g.,
the attribute \"udrInfo\" is typically present in the NF Profile when the type
of the NF Instance takes the value \"UDR\"). In addition, the attribute
\"customInfo\", may be present in the NF Profile for those NF Instances with
custom NF types.
For those NF Instances, the \"customInfo\" attribute shall be returned by NRF,
if available, as part of the NF Profiles returned in the discovery response.
The NRF shall also include, in the returned NF Profile objects, the Vendor-
Specific attributes (see 3GPP TS 29.500 [4], clause 6.6.3) that may have been
provided by the registered NF Instances.
If the response includes a map of NFInstanceInfo objects of NF instances, the
NF Service Consumer may retrieve the NF profiles by issuing service discovery
requests with the target-nf-instance-id parameter identifying the target NF
Instance ID, or with the target-nf-instance-id-list parameter identifying a
list of target NF Instance IDs held by the same NRF; the service discovery
request shall also include the nrf-disc-uri parameter set to the API URI of
the Nnrf_NFDiscovery service of the NRF holding the NF profile(s), if the
nrfDiscApiUri attribute was received in the NFInstanceInfo object and if the
service discovery request is addressed to a different NRF than the NRF holding
the NF profile(s).
##### 5.3.2.2.3 Service Discovery in a different PLMN
The service discovery in a different PLMN is done by querying the \"nf-
instances\" resource in the NRF of the Home PLMN.
For that, step 1 in clause 5.3.2.2.2 is executed (send a GET request to the
NRF in the Serving PLMN); this request shall include the identity of the PLMN
of the home NRF in a query parameter of the URI.
If the NRF in Serving PLMN knows that Oauth2-based authorization is required
for accessing the NF Discovery service of the NRF in Home PLMN, e.g. by
learning this during an earlier Bootstrapping procedure or local
configuration, and if the request received at the NRF in Serving PLMN does not
include an access token, the NRF in Serving PLMN may reject the request with a
401 Unauthorized as specified in clause 6.7.3 of 3GPP TS 29.500 [4].
Then, steps 1-2 in Figure 5.3.2.2.3-1 are executed, between the NRF in the
Serving PLMN and the NRF in the Home PLMN. In this step, the presence of the
PLMN ID of the Home NRF in the query parameter of the URI is not required. The
NRF in the Home PLMN returns a status code with the result of the operation.
The NRF in the Serving PLMN shall be configured with:
\- a telescopic FQDN (see 3GPP TS 23.003 [12] and 3GPP TS 29.500 [4]) of the
NRF in the Home PLMN, if TLS protection between the NRF and the SEPP in the
serving PLMN relies on using telescopic FQDN; or
NOTE: This is required for the NRF in the serving PLMN to route the NF
discovery request to the NRF in the HPLMN through a SEPP in the serving PLMN
and the SEPP to terminate the TLS connection with a wildcard certificate.
\- with the SEPP FQDN (or the FQDN of the SCP if the communication between the
NRF and the SEPP goes through an SCP), if TLS protection between the NRF and
the SEPP in the serving PLMN relies on using the 3gpp-Sbi-Target-apiRoot
header.
See clause 6.1.4.3 of 3GPP TS 29.500 [4].
Finally, step 2 in clause 5.3.2.2.2 is executed; a status code is returned to
the NF Service Consumer in Serving PLMN in accordance to the result received
from NRF in Home PLMN.
Figure 5.3.2.2.3-1: Service Discovery in a different PLMN
Steps 1 and 2 are similar to steps 1 and 2 in Figure 5.3.2.2.2-1, where the
originator of the service invocation is the NRF in Serving PLMN, and the
recipient of the service invocation is the NRF in the Home PLMN.
If the NRF in the home PLMN has ignored certain unsupported query parameter(s)
when processing the discovery request, the NRF may additionally include the
indication of ignored unsupported query parameters in the search result. If
the indication of ignored unsupported query parameters is supported by the NRF
in the serving PLMN, it should forward the received indication of ignored
unsupported query parameters to the NF service consumer.
##### 5.3.2.2.4 Service Discovery with intermediate redirecting NRF
When multiple NRFs are deployed in one PLMN, one NRF may query the \"nf-
instances\" resource in a different NRF so as to fulfil the service discovery
request from a NF service consumer. The query between these two NRFs is
redirected by a third NRF.
Figure 5.3.2.2.4-1: Service Discovery with intermediate redirecting NRF
1\. NRF-1 receives a service discovery request but does not have the
information to fulfil the request. Then NRF-1 sends the service discovery
request to a pre-configured NRF-2.
2a. Upon receiving a service discovery request, based on the information
contained in the service discovery request (e.g. the \"supi\" query parameter
in the URI) and locally stored information NRF-2 shall identify the next hop
NRF (see clause 5.2.2.2.3), and redirect the service discovery request by
returning HTTP 307 Temporary Redirect response. The locally stored information
in NRF-2 may:
a) be preconfigured; or
b) registered by other NRFs (see clause 5.2.2.2.3).
The 307 Temporary Redirect response shall contain a Location header field, the
host part of the URI in the Location header field represents NRF-3.
2b. if NRF-2 does not have enough information to redirect the service
discovery request, then it responds with 404 Not Found, and the rest of the
steps are omitted.
3\. Upon receiving 307 Temporary Redirect response, NRF-1 sends the service
discovery request to NRF-3 by using the URI contained in the Location header
field of the 307 Temporary Redirect response.
4a. Upon success, NRF-3 returns the search result.
4b. On failure or redirection:
\- If the NF Service Consumer is not allowed to discover the NF services for
the requested NF type provided in the query parameters, the NRF shall return
\"403 Forbidden\" response.
\- If the discovery request fails at the NRF due to errors in the input data
in the URI query parameters, the NRF shall return \"400 Bad Request\" status
code with the ProblemDetails IE providing details of the error.
\- If the discovery request fails at the NRF due to NRF internal errors, the
NRF shall return \"500 Internal Server Error\" status code with the
ProblemDetails IE providing details of the error.
\- In the case of redirection, the NRF shall return 3xx status code, which
shall contain a Location header with an URI pointing to the endpoint of
another NRF service instance.
##### 5.3.2.2.5 Service Discovery with intermediate forwarding NRF
When multiple NRFs are deployed in one PLMN, one NRF may query the \"nf-
instances\" resource in a different NRF so as to fulfil the service discovery
request from a NF service consumer. The query between these two NRFs is
forwarded by a third NRF.
Figure 5.3.2.2.5-1: Service Discovery with intermediate forwarding NRF
1\. NRF-1 receives a service discovery request and sends the service discovery
request to a pre-configured NRF-2. This may for example include cases where
NRF-1 does not have sufficient information as determined by the operator
policy to fulfill the request locally.
2a. Upon receiving a service discovery request, based on the information
contained in the service discovery request (e.g. the \"supi\" query parameter
in the URI) and locally stored information, NRF-2 shall identify the next hop
NRF (see clause 5.2.2.2.3), and forward the service discovery request to that
NRF (i.e. NRF-3 in this example) similarly to steps 1 and 2 in Figure
5.3.2.2.2-1 where the originator of the service invocation is NRF-2 and the
recipient of the service invocation is NRF-3. The locally stored information
in NRF-2 may:
a) be preconfigured; or
b) registered by other NRFs (see clause 5.2.2.2.3).
2b. if NRF-2 does not have enough information to forward the service discovery
request, then it responds with 404 Not Found, and the rest of the steps are
omitted.
3a. Upon success, NRF-3 returns the search result.
3b. On failure or redirection:
\- If the NF Service Consumer is not allowed to discover the NF services for
the requested NF type provided in the query parameters, the NRF shall return
\"403 Forbidden\" response.
\- If the discovery request fails at the NRF due to errors in the input data
in the URI query parameters, the NRF shall return \"400 Bad Request\" status
code with the ProblemDetails IE providing details of the error.
\- If the discovery request fails at the NRF due to NRF internal errors, the
NRF shall return \"500 Internal Server Error\" status code with the
ProblemDetails IE providing details of the error.
\- In the case of redirection, the NRF shall return 3xx status code, which
shall contain a Location header with an URI pointing to the endpoint of
another NRF service instance.
4a. NRF-2 forwards the success response to NRF-1.
4b. On failure or redirection:
\- NRF-2 forwards the error response to NRF-1.
\- In the case of redirection, the NRF shall return 3xx status code, which
shall contain a Location header with an URI pointing to the endpoint of
another NRF service instance.
NOTE: It is not assumed that there can only be two NRF hierarchies, i.e. the
NRF-3 can go on to forward the service discovery request to another NRF.
##### 5.3.2.2.6 Service Discovery with resolution of the target PLMN
This service discovery is done by querying the \"nf-instances\" resource in
the NRF of the target PLMN, similar to the \"Service Discovery in a different
PLMN\", as described in clause 5.3.2.2.3.
The main difference compared with clause 5.3.2.2.3 is that the identity of the
target PLMN is not explicitly provided by the NF Service Consumer.
NOTE: This can happen, e.g., when the identity of the UE involved in the
service discovery is not based on IMSI, but on GPSI (MSISDN) and, therefore,
the MNC/MCC of the target PLMN cannot be derived from the UE identity. It
should also be noted that, in these scenarios, the MSISDN may be subject to
Mobile Number Portability.
Figure 5.3.2.2.6-1: Service Discovery with resolution of the target PLMN
1\. The NF Service Consumer (e.g. an SMS-GMSC) sends a GET request to the NRF
in the Local PLMN (i.e., the same PLMN where the NF Service Consumer is
located); given that the identity of the target PLMN is not known to the NF
Service Consumer, this request shall include as query parameters the identity
of the target UE for which NF Service Producers need to be discovered (i.e.,
the \"gpsi\" query parameter) and also a parameter indicating that the
resolution of the target PLMN must be performed (i.e., \"target-nw-
resolution\" set to true).
2\. The NRF in the Local PLMN determines the identity of the Target PLMN, as
described in 3GPP TS 23.540 [48], and determines the URI of the
Nnrf_NFDiscovery service of the NRF in the Target PLMN.
3\. This step is similar to step 1 in Figure 5.3.2.2.3-1, for \"Service
Discovery in a different PLMN\", with the only difference that the
\"Serving/Home\" PLMNs in clause 5.3.2.2.3 are replaced by \"Local/Target\"
PLMNs in the present clause.
4\. Steps 4a, 4b are similar to steps 2a, 2b in Figure 5.3.2.2.3-1.
5\. Steps 5a, 5b are similar to steps 2a, 2b in Figure 5.3.2.2.2-1.
#### 5.3.2.3 SCPDomainRoutingInfoGet
This service operation retrieves the SCP domain routing information, by
sending a HTTP GET request to the resource URI representing the \"SCP Domain
Routing Information\" resource.
Figure 5.3.2.3-1: SCP Domain Routing Information Get
1\. The Service Consumer (i.e. SCP) shall send an HTTP GET request to the
resource URI \"scp-domain-routing-info\" document resource.
2a. On success, \"200 OK\" shall be returned with SCP Domain Routing
Information in response body. SCP Domain Routing Information with empty map
indicates that no SCP domain is registered in the network.
2b. On failure, the NRF shall return \"4xx/5xx\" response and the response
body may contain a ProblemDetails object describing the detailed information
of the failure.
When SCPs are registered to multiple NRFs in the network, any NRF providing
SCP domain routing information for the whole network shall retrieve the local
SCP domain routing information in other NRF(s) and perform aggregation. This
service operation retrieves the local SCP domain routing information, e.g. by
another NRF, by sending a HTTP GET request to the resource URI representing
the \"SCP Domain Routing Information\" resource with \"local\" query parameter
set to value \"true\".
Figure 5.3.2.3-2: Local SCP Domain Routing Information Get
1\. The Service Consumer (i.e. SCP) shall send an HTTP GET request to the
resource URI \"scp-domain-routing-info\" document resource with \"local\"
query parameter set to value \"true\".
2a. On success, \"200 OK\" shall be returned with local SCP Domain Routing
Information in response body. SCP Domain Routing Information with empty map
indicates that no SCP domain is registered in the producer NRF.
2b. On failure, the NRF shall return \"4xx/5xx\" response and the response
body may contain a ProblemDetails object describing the detailed information
of the failure.
NOTE: In deployments where all SCPs in the network can be managed by the same
NRF, i.e. all SCPs register to and discover each other with the same NRF, the
NRF managing the SCPs can generate the SCP Domain Routing Information
accordingly without involvement of other NRFs.
#### 5.3.2.4 SCPDomainRoutingInfoSubscribe
This service operation is used to create a subscription to get notification
when SCP Domain Routing Information is changed, e.g. due to a SCP has
registered or updated or deregistered in the network, or to get notification
when local SCP Domain Routing Information is changed, e.g. due to a SCP has
registered or updated or deregistered in the producer NRF. The operation is
invoked by issuing a POST request to the resource URI representing the \"SCP
Domain Routing Info Subscriptions\" collection resource.
Figure 5.3.2.4-1: Subscription to SCP Domain Routing Information change
> 1\. The Service Consumer (i.e. SCP) shall send a POST request to the URI
> representing the \"SCP Domain Routing Info Subscriptions\" collection
> resource. The request body shall contain the callback URI on the Service
> Consumer to receive the notifications.
>
> To create a subscription for changes of local SCP Domain Routing
> Information, the request body shall contain the \"localInd\" with value
> \"true\".
2a. On success, \"201 Created\" shall be returned with \"Location\" header
containing the resource URI to the newly created subscription resource. The
response shall contain the data related to the created subscription, including
the validity time, as determined by the NRF, after which the subscription
becomes invalid. Once the subscription expires, if the Service Consumer wants
to keep receiving notifications, it shall create a new subscription in the
NRF.
2b. On failure, the NRF shall return \"4xx/5xx\" response and the response
body may contain a ProblemDetails object describing the detailed information
of the failure.
#### 5.3.2.5 SCPDomainRoutingInfoNotify
This service operation notifies each subscriber for (local) SCP Domain Routing
Information change. The notification is sent to a callback URI that Service
Consumer provided during the subscription (see SCPDomainRoutingInfoSubscribe
operation in clause 5.3.2.4). The operation is invoked by sending a POST
request to the callback URI.
Figure 5.3.2.5-1: Notification of SCP Domain Routing Info Change
1\. The NRF shall send a POST request to the callback URI. The request body
shall contain the updated SCP Domain Routing Information. The request body
shall contain the \"localInd\" IE with value \"true\" if the notification is
for a change of local SCP Domain Routing Information. SCP Domain Routing
Information with empty map indicates that no SCP domain is registered in the
network (or in the producer NRF for local SCP Domain Routing Information)
after the change.
2a. On success, \"204 No content\" shall be returned by the NF Service
Consumer.
2b. On failure, the NRF shall return \"4xx/5xx\" response and the response
body may contain a ProblemDetails object describing the detailed information
of the failure.
#### 5.3.2.6 SCPDomainRoutingInfoUnSubscribe
This service operation removes an existing subscription to SCP (local) Domain
Information Change. The operation is invoked by issuing a DELETE request on
the resource URI representing the \"Individual SCP Domain Routing Info
Subscription\", which was received in the Location header field of the \"201
Created\" response received during a successful subscription (see clause
5.3.2.4).
Figure 5.3.2.6-1: Unsubscribe to SCP Domain Routing Information Change
1\. The Service Consumer (e.g. SCP or NRF) shall send a DELETE request to the
resource URI representing the individual subscription. The request body shall
be empty.
2a. On success, \"204 No Content\" shall be returned. The response body shall
be empty.
2b. On failure, the NRF shall return \"4xx/5xx\" response and the response
body may contain a ProblemDetails object describing the detailed information
of the failure.
## 5.4 Nnrf_AccessToken Service
### 5.4.1 Service Description
The NRF offers an Nnrf_AccessToken service (used for OAuth2 authorization, see
IETF RFC 6749 [16]), following the \"Client Credentials\" authorization grant,
as specified in 3GPP TS 33.501 [15]. It exposes a \"Token Endpoint\" where the
Access Token Request service can be requested by NF Service Consumers.
### 5.4.2 Service Operations
#### 5.4.2.1 Introduction
The services operations defined for the Nnrf_AccessToken service are as
follows:
\- Access Token Request (i.e. Nnrf_AccessToken_Get)
#### 5.4.2.2 Get (Access Token Request)
##### 5.4.2.2.1 General
This service operation is used by an NF Service Consumer to request an OAuth
2.0 access token from the authorization server (NRF).
Figure 5.4.2.2.1-1: Access Token Request
1\. The NF Service Consumer shall send a POST request to the \"Token
Endpoint\", as described in IETF RFC 6749 [16], clause 3.2. The \"Token
Endpoint\" URI shall be:
{nrfApiRoot}/oauth2/token
\ where {nrfApiRoot} represents the concatenation of the \"scheme\" and
\"authority\" components of the NRF, as defined in IETF RFC 3986 [17].\ \ The
OAuth 2.0 Access Token Request includes in the body of the HTTP POST request
shall contain:
\- An OAuth 2.0 grant type set to \"client_credentials\";
\- The \"scope\" parameter indicating the names of the NF Services that the NF
Service Consumer is trying to access (i.e., the expected NF service names);
\- The NF Instance Id of the the NF Service Consumer requesting the OAuth 2.0
access token;
\- NF type of the NF Service Consumer, if this is an access token request not
for a specific NF Service Producer;
\- NF type of the expected NF Service Producer, if this is an access token
request not for a specific NF Service Producer;
\- The NF Instance Id of the expected NF Service Producer, if this is an
access token request for a specific NF Service Producer;
\- Home and Serving PLMN IDs, if this is an access token request for use in
roaming scenarios (see clause 13.4.1.2 of 3GPP TS 33.501 [15]).
The request may additionally contain:
\- the NF Set ID of the expected NF service producer instances, if this is an
access token request not for a specific NF Service Producer.
\- the NF Instance Id of the source NF (the NF that requests data), if this is
an access token request from the DCCF as NF Service Consumer request data from
NF Service Producers on behalf of the source NF.
\ The NF Service Consumer shall use TLS for mutual authentication with the NRF
in order to access this endpoint, if the PLMN uses protection at the transport
layer. Otherwise, the NF Service Consumer shall use NDS or physical security
to mutually authenticate with the NRF as specified in clause 13.3.1 of 3GPP TS
33.501 [15].
The NRF may verify that the input attributes (e.g. NF type) in the access
token request match with the corresponding ones in the public key certificate
of the NF service consumer. If the verification is successful, other
authorization check shall be performed, otherwise, the request shall be
rejected immediately with \"400 Bad Request\" status code, and \"error\"
attribute set to \"invalid_client\".
2a. On success, \"200 OK\" shall be returned, the payload body of the POST
response shall contain the requested access token and the token type set to
value \"Bearer\". The response in addition:
\- should contain the expiration time for the token as indicated in IETF RFC
6749 [16] unless the expiration time of the token is made available by other
means (e.g. deployment-specific documentation); and
\- shall contain the NF service name(s) of the requested NF service
producer(s), if it is different from the scope included in the access token
request (see IETF RFC 6749 [16]).
The access token shall be a JSON Web Token (JWT) as specified in IETF RFC 7519
[25]. The access token returned by the NRF shall include the claims encoded as
a JSON object as specified in clause 6.3.5.2.4 and then digitally signed using
JWS as specified in IETF RFC 7515 [24] and in clause 13.4.1 of 3GPP TS 33.501
[15].
The digitally signed access token shall be converted to the JWS Compact
Serialization encoding as a string as specified in clause 7.1 of IETF RFC 7515
[24].
2b. On failure or redirection:
\- If the access token request fails at the NRF, the NRF shall return \"400
Bad Request\" status code, including in the response payload a JSON object
that provides details about the specific error that occurred.
\- In the case of redirection, the NRF shall return 3xx status code, which
shall contain a Location header with an URI pointing to the endpoint of
another NRF service instance.
##### 5.4.2.2.2 Access Token request with intermediate forwarding NRF
When multiple NRFs are deployed in one PLMN, one NRF may request an OAuth2
access token to a different NRF so as to fulfil the Access Token Request from
a NF service consumer. The acces token request between these two NRFs is
forwarded by a third NRF in this case.
For this, step 1 in clause 5.4.2.2.1 is executed (send a POST request to NRF-1
in the Serving PLMN); this request shall include the OAuth 2.0 Access Token
Request in the request body.
Then, steps 1-4 in Figure 5.4.2.2.2-1 hereinafter are executed between NRF-1in
Serving PLMN, NRF-2 in Serving PLMN and NRF-3 in Serving PLMN.
Finally, step 2 in clause 5.4.2.2.1 is executed, the Access Token Response
containing the requested access token, the token type and additional
attributes shall be sent to the NF Service Consumer.
Figure 5.4.2.2.2-1: Access Token Request with intermediate forwarding NRF
1\. NRF-1 receives an Access token request but does not have the information
to fulfil the request. Then NRF-1 sends the Access token request to a pre-
configured NRF-2.
2a. Upon reception of the Access token request and based on the information
contained in the Acces token request and locally stored information, NRF-2
shall identify the next hop NRF (see clause 5.2.2.2.3), and forward the Access
token request to that NRF (i.e. NRF-3 in this example) by replacing the
originator of the service invocation with NRF-2, and the recipient of the
service invocation with NRF-3. The locally stored information in NRF-2 may:
a) be preconfigured; or
b) registered by other NRFs (see clause 5.2.2.2.3).
2b. if NRF-2 does not have enough information to forward the Access token
request, then it responds with 404 Not Found, and the rest of the steps are
omitted.
3a. Upon success, NRF-3 shall return a \"200 OK\" status code, including in
the response payload the Access token response containing the requested access
token, the token type and additional attributes.
> 3b. Upon failure, NRF-3 shall return \"400 Bad Request\" status code,
> including in the response payload a JSON object that provides details about
> the specific error(s) that occurred.
4a. NRF-2 forwards the success response to NRF-1.
4b. On failure or redirection:
\- NRF-2 forwards the error response to NRF-2.
\- In the case of redirection, the NRF shall return 3xx status code, which
shall contain a Location header with an URI pointing to the endpoint of
another NRF service instance.
NOTE: It is not assumed that there can only be two NRF hierarchies, i.e. the
NRF-3 can go on and forward the Access token request request to another NRF.
##### 5.4.2.2.3 Access Token request with intermediate redirecting NRF
When multiple NRFs are deployed in one PLMN, one NRF may request an OAuth2
access token to a different NRF so as to fulfil the Access Token Request from
a NF service consumer. The acces token request between these two NRFs is
redirected by a third NRF in this case.
For this, step 1 in clause 5.4.2.2.1 is executed (send a POST request to NRF-1
in the Serving PLMN); this request shall include the OAuth 2.0 Access Token
Request in the request body
Then, steps 1-4 in Figure 5.4.2.2.3-1 hereinafter are executed between NRF-1in
Serving PLMN, NRF-2 in Serving PLMN and NRF-3 in Serving PLMN.
Finally, step 2 in clause 5.4.2.2.1 is executed, the Access token response
containing the requested access token, the token type and additional
attributes shall be sent to the NF Service Consumer.
Figure 5.4.2.2.3-1: Access Token Request with intermediate redirecting NRF
1\. NRF-1 receives an Access token request but does not have the information
to fulfil the request. Then NRF-1 sends the Access token request to a pre-
configured NRF-2.
2a. Upon reception of the Access token request and based on the information
contained in the Access token request and locally stored information, NRF-2
shall identify the next hop NRF (see clause 5.2.2.2.3), and redirect the
Access token request by returning HTTP \"307 Temporary Redirect\" response.
The locally stored information in NRF-2 may:
a) be preconfigured; or
b) registered by other NRFs (see clause 5.2.2.2.3).
The \"307 Temporary Redirect\" response shall contain a Location header field,
the host part of the URI in the Location header field represents NRF-3.
2b. if NRF-2 does not have enough information to forward the Access token
request, then it responds with \"404 Not Found\", and the rest of the steps
are omitted.
3\. Upon reception of \"307 Temporary Redirect\" response, NRF-1 sends the
Acces token request to NRF-3 by using the URI contained in the Location header
field of the \"307 Temporary Redirect\" response.
4a. Upon success, NRF-3shall return a \"200 OK\" status code including in the
response payload the Access token response containing the requested access
token, the token type and additional attributes.
4b. On failure or redirection:
\- Upon failure, the NRF-3 shall return \"400 Bad Request\" status code,
including in the response payload a JSON object that provides details about
the specific error(s) that occurred.
\- In the case of redirection, the NRF shall return 3xx status code, which
shall contain a Location header with an URI pointing to the endpoint of
another NRF service instance.
## 5.5 Nnrf_Bootstrapping Service
### 5.5.1 Service Description
The NRF offers a Nnrf_Bootstrapping service to let NF Service Consumers of the
NRF know about the services endpoints it supports, the NRF Instance ID and NRF
Set ID if the NRF is part of an NRF set, by using a version-independent URI
endpoint that does not need to be discovered by using a Discovery service.
This service shall be used in inter-PLMN scenarios where the NRF in a PLMN-A
needs to invoke services from an NRF in PLMN-B, when there is no pre-
configured information indicating the version of the services deployed in
PLMN-B.
This service may also be used in intra-PLMN scenarios, to avoid configuring
statically in the different NFs information about the service versions
deployed in the NRF to be used by those NFs.
### 5.5.2 Service Operations
#### 5.5.2.1 Introduction
The services operations defined for the Nnrf_Bootstrapping service are as
follows:
\- Nnrf_Bootstrapping_Get
#### 5.5.2.2 Get
##### 5.5.2.2.1 General
This service operation is used by an NF Service Consumer to request
bootstrapping information from the NRF.
Figure 5.5.2.2.1-1: Bootstrapping Request
1\. The NF Service Consumer shall send a GET request to the \"Bootstrapping
Endpoint\".
The \"Bootstrapping Endpoint\" URI shall be constructed as:
{nrfApiRoot}/bootstrapping
where {nrfApiRoot} represents the concatenation of the \"scheme\" and
\"authority\" components of the NRF, as defined in IETF RFC 3986 [17]; see
also the definition of NRF FQDN and NRF URI in 3GPP TS 23.003 [12], clause
28.3.2.3.
2a. On success, \"200 OK\" shall be returned, the payload body of the GET
response shall contain the requested bootstrapping information.
EXAMPLE:
GET https://nrf.example.com/bootstrapping
Accept: application/3gppHal+json
HTTP/2 200 OK
Content-Type: application/3gppHal+json
{
\"status\": \"OPERATIVE\",
\"_links\": {
\"self\": {
\"href\": \"https://nrf.example.com/bootstrapping\"
},
\"manage\": {
\"href\": \"https://nrf.example.com/nnrf-nfm/v1/nf-instances\"
},
\"subscribe\": {
\"href\": \"https://nrf.example.com/nnrf-nfm/v1/subscriptions\"
},
\"discover\": {
\"href\": \"https://nrf.example.com/nnrf-disc/v1/nf-instances\"
},
\"authorize\": {
\"href\": \"https://nrf.example.com/oauth2/token\"
}
},
\"nrfFeatures\": {
\"nnrf-nfm\": \"1\",
\"nnrf-disc\": \"D\",
\"nnrf-oauth2\": \"0\"
},
\"oauth2Required\": {
\"nnrf-nfm\": true,
\"nnrf-disc\": false
},
\"nrfSetId\": \"set12.nrfset.5gc.mnc012.mcc345\",
\"nrfInstanceId\": \"4947a69a-f61b-4bc1-b9da-47c9c5d14b67\"
}
2b. On failure or redirection:
\- Upon failure, the NRF shall return \"400 Bad Request\" status code,
including in the response payload a JSON object that provides details about
the specific error(s) that occurred.
\- In the case of redirection, the NRF shall return 3xx status code, which
shall contain a Location header with an URI pointing to the endpoint of
another NRF service instance.
# 6 API Definitions
## 6.1 Nnrf_NFManagement Service API
### 6.1.1 API URI
URIs of this API shall have the following root:
{apiRoot}/{apiName}/{apiVersion}
where \"apiRoot\" is defined in clause 4.4.1 of 3GPP TS 29.501 [5], the
\"apiName\" shall be set to \"nnrf-nfm\" and the \"apiVersion\" shall be set
to \"v1\" for the current version of this specification.
### 6.1.2 Usage of HTTP
#### 6.1.2.1 General
HTTP/2, as defined in IETF RFC 7540 [9], shall be used as specified in clause
5 of 3GPP TS 29.500 [4].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].
HTTP messages and bodies for the Nnrf_NFManagement service shall comply with
the OpenAPI [10] specification contained in Annex A.
#### 6.1.2.2 HTTP standard headers
##### 6.1.2.2.1 General
The mandatory standard HTTP headers as specified in clause 5.2.2.2 of 3GPP TS
29.500 [4] shall be supported.
##### 6.1.2.2.2 Content type
The following content types shall be supported:
\- JSON, as defined in IETF RFC 8259 [22], shall be used as content type of
the HTTP bodies specified in the present specification as indicated in clause
5.4 of 3GPP TS 29.500 [4].
\- The Problem Details JSON Object (IETF RFC 7807 [11]). The use of the
Problem Details JSON object in a HTTP response body shall be signalled by the
content type \"application/problem+json\".
\- JSON Patch (IETF RFC 6902 [13]). The use of the JSON Patch format in a HTTP
request body shall be signalled by the content type \"application/json-
patch+json\".
\- The 3GPP hypermedia format as defined in 3GPP TS 29.501 [5]. The use of the
3GPP hypermedia format in a HTTP response body shall be signalled by the
content type \"application/3gppHal+json\".
##### 6.1.2.2.3 Accept-Encoding
The NRF should support gzip coding (see IETF RFC 1952 [30]) in HTTP requests
and responses and indicate so in the Accept-Encoding header, as described in
clause 6.9 of 3GPP TS 29.500 [4].
NF Service Consumers of the NFManagement API should support gzip coding in
HTTP requests and responses and they should support gzip coding in the
reception of notification requests sent by the NRF.
##### 6.1.2.2.4 ETag
An \"ETag\" (entity-tag) header should be included in HTTP responses for
resource creation and resource update, as described in IETF RFC 7232 [19],
clause 2.3. It shall contain a server-generated strong validator, that allows
further matching of this value (included in subsequent client requests) with a
given resource representation stored in the server or in a cache.
An \"Etag\" (entity-tag) header shall not be included in HTTP responses for
Heart-Beat operation.
##### 6.1.2.2.5 If-Match
An NF Service Consumer should issue conditional PATCH request towards NRF, by
including an If-Match header in HTTP requests, as described in IETF RFC 7232
[19], clause 3.2, containing an entity tags received in latest response for
the same resource.
An NF Service Consumer shall not include If-Match header in HTTP requests for
Heart-Beat operation.
#### 6.1.2.3 HTTP custom headers
##### 6.1.2.3.1 General
In this release of this specification, no custom headers specific to the
Nnrf_NFManagement service are defined. For 3GPP specific HTTP custom headers
used across all service-based interfaces, see clause 5.2.3 of 3GPP TS 29.500
[4].
### 6.1.3 Resources
#### 6.1.3.1 Overview
The structure of the Resource URIs of the NFManagement service is shown in
figure 6.1.3.1-1.
Figure 6.1.3.1-1: Resource URI structure of the NFManagement API
Table 6.1.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 6.1.3.1-1: Resources and methods overview
+----------------+----------------+----------------+----------------+ | Resource name | Resource URI | HTTP method or | Description | | | | custom | | | | | operation | | +================+================+================+================+ | nf-instances | /nf-instances | GET | Read a | | | | | collection of | | (Store) | | | NF Instances. | +----------------+----------------+----------------+----------------+ | | | OPTIONS | Discover the | | | | | communication | | | | | options | | | | | supported by | | | | | the NRF for | | | | | this resource. | +----------------+----------------+----------------+----------------+ | nf-instance | /nf-instances/ | GET | Read the | | | {nfInstanceID} | | profile of a | | (Document) | | | given NF | | | | | Instance. | +----------------+----------------+----------------+----------------+ | | | PUT | Register in | | | | | NRF a new NF | | | | | Instance, or | | | | | replace the | | | | | profile of an | | | | | existing NF | | | | | Instance, by | | | | | providing an | | | | | NF profile. | +----------------+----------------+----------------+----------------+ | | | PATCH | Modify the NF | | | | | profile of an | | | | | existing NF | | | | | Instance. | +----------------+----------------+----------------+----------------+ | | | DELETE | Deregister | | | | | from NRF a | | | | | given NF | | | | | Instance. | +----------------+----------------+----------------+----------------+ | subscriptions | /subscriptions | POST | Creates a new | | | | | subscription | | (Collection) | | | in NRF to | | | | | newly | | | | | registered NF | | | | | Instances. | +----------------+----------------+----------------+----------------+ | subscription | /su | PATCH | Updates an | | | bscriptions/{s | | existing | | (Document) | ubscriptionID} | | subscription | | | | | in NRF. | +----------------+----------------+----------------+----------------+ | | | DELETE | Deletes an | | | | | existing | | | | | subscription | | | | | from NRF. | +----------------+----------------+----------------+----------------+ | Notification | {nfStatusNo | POST | Notify about | | Callback | tificationUri} | | newly created | | | | | NF Instances, | | | | | or about | | | | | changes of the | | | | | profile of a | | | | | given NF | | | | | Instance. | +----------------+----------------+----------------+----------------+
#### 6.1.3.2 Resource: nf-instances (Store)
##### 6.1.3.2.1 Description
This resource represents a collection of the different NF instances registered
in the NRF.
This resource is modelled as the Store resource archetype (see clause C.3 of
3GPP TS 29.501 [5]).
##### 6.1.3.2.2 Resource Definition
Resource URI: **{apiRoot}/nnrf-nfm/v1/nf-instances**
This resource shall support the resource URI variables defined in table
6.1.3.2.2-1.
Table 6.1.3.2.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.1.1
##### 6.1.3.2.3 Resource Standard Methods
##### 6.1.3.2.3.1 GET {#get-1 .H6}
This method retrieves a list of all NF instances currently registered in the
NRF. This method shall support the URI query parameters specified in table
6.1.3.2.3.1-1.
Table 6.1.3.2.3.1-1: URI query parameters supported by the GET method on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | nf-type | NFType | O | 0..1 | The type of NF | | | | | | to restrict the | | | | | | list of | | | | | | returned NF | | | | | | Instances. | +-----------------+-----------+---+-------------+-----------------+ | limit | integer | C | 0..1 | Maximum number | | | | | | of items to be | | | | | | returned in | | | | | | this query; | | | | | | this parameter | | | | | | should only be | | | | | | provided if the | | | | | | \"nf-type\" | | | | | | parameter is | | | | | | provided. | | | | | | | | | | | | If the | | | | | | \"page-number\" | | | | | | and | | | | | | \"page-size\" | | | | | | parameters are | | | | | | present, the | | | | | | \"limit\" | | | | | | parameter shall | | | | | | be absent. | +-----------------+-----------+---+-------------+-----------------+ | page-number | integer | C | 0..1 | This parameter | | | | | | shall be | | | | | | present if the | | | | | | NF Service | | | | | | Consumer | | | | | | requests the | | | | | | retrieval of NF | | | | | | Instance URIs | | | | | | based on | | | | | | _pages_ (i.e. a | | | | | | subset of the | | | | | | total number of | | | | | | items). | | | | | | | | | | | | If present, it | | | | | | shall contain | | | | | | the page number | | | | | | to retrieve. | | | | | | | | | | | | The total | | | | | | number of pages | | | | | | available, N, | | | | | | can be | | | | | | determined | | | | | | based on the | | | | | | \"t | | | | | | otalItemCount\" | | | | | | attribute of | | | | | | the response | | | | | | (see | | | | | | cla | | | | | | use 6.1.6.2.25) | | | | | | as: | | | | | | | | | | | | N = | | | | | | ceiling | | | | | | (totalItemCount | | | | | | / page-size) | | | | | | | | | | | | The first page | | | | | | shall be | | | | | | identified by | | | | | | \"page-number\" | | | | | | set to 1. | | | | | | | | | | | | Minimum: 1 | | | | | | | | | | | | (See NOTE 1, | | | | | | NOTE 2) | +-----------------+-----------+---+-------------+-----------------+ | page-size | integer | C | 0..1 | This parameter | | | | | | shall be | | | | | | present if the | | | | | | NF Service | | | | | | Consumer | | | | | | requests the | | | | | | retrieval of NF | | | | | | Instance URIs | | | | | | based on | | | | | | _pages_. | | | | | | | | | | | | If present, it | | | | | | shall contain | | | | | | the maximum | | | | | | number of items | | | | | | to be returned | | | | | | per page. | | | | | | | | | | | | Minimum: 1 | | | | | | | | | | | | (See NOTE 1, | | | | | | NOTE 2) | +-----------------+-----------+---+-------------+-----------------+ | NOTE 1: The | | | | | | parameters | | | | | | \"page-number\" | | | | | | and | | | | | | \"page-size\" | | | | | | shall be either | | | | | | both present, | | | | | | or both absent. | | | | | | | | | | | | NOTE 2: If the | | | | | | NRF supports | | | | | | the pagination | | | | | | query | | | | | | parameters, it | | | | | | shall ensure | | | | | | that the | | | | | | response to | | | | | | these requests | | | | | | always return | | | | | | the same set of | | | | | | items for the | | | | | | same query | | | | | | parameters, as | | | | | | long as the | | | | | | ETag of the | | | | | | collection | | | | | | resource is not | | | | | | changed. | | | | | +-----------------+-----------+---+-------------+-----------------+
EXAMPLE: The NF Service Consumer can retrieve the whole set of NF Instances
URIs available in the NRF, using paginated requests, by issuing multiple GET
requests, as:
GET .../nnrf-nfm/v1/nf-instances?page-number=1&page-size=100
(returns items from 0 to 99)
GET .../nnrf-nfm/v1/nf-instances?page-number=2&page-size=100
(returns items from 100 to 199)
...
GET .../nnrf-nfm/v1/nf-instances?page-number=N&page-size=100
(returns items from (N-1)*100 up to totalItemCount-1)
where the first N-1 requests return 100 items each, and the last request
(page-number=N) returns between 1 and 100 items.
The NF Service Consumer can also retrieve arbitrary page numbers and page
sizes, independently from any prior request previously issued; e.g.
GET .../nnrf-nfm/v1/nf-instances?page-number=4&page-size=50
(returns items from 150 to 199; assuming totalItemCount >= 200)
This method shall support the request data structures specified in table
6.1.3.2.3.1-2 and the response data structures and response codes specified in
table 6.1.3.2.3.1-3.
Table 6.1.3.2.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.1.3.2.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | UriList | M | 1 | 200 OK | The response | | | | | | body contains | | | | | | a \"_links\" | | | | | | object | | | | | | containing | | | | | | the URI of | | | | | | each | | | | | | registered NF | | | | | | in the NRF. | | | | | | | | | | | | If there are | | | | | | no NFs to | | | | | | return in the | | | | | | query result | | | | | | (e.g., | | | | | | because there | | | | | | are no | | | | | | registered | | | | | | NFs in the | | | | | | NRF, or | | | | | | because there | | | | | | are no | | | | | | matching NFs | | | | | | of the type | | | | | | specified in | | | | | | the | | | | | | \"nf-type\" | | | | | | query | | | | | | parameter, | | | | | | currently | | | | | | registered in | | | | | | the NRF), the | | | | | | \"_links\" | | | | | | attribute may | | | | | | be absent or, | | | | | | if present, | | | | | | it shall | | | | | | contain only | | | | | | the \"self\" | | | | | | attribute | | | | | | (i.e. the | | | | | | \"item\" | | | | | | attribute | | | | | | shall be | | | | | | absent). | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | The NRF shall | | irectResponse | | | Redirect | generate a | | | | | | Location | | | | | | header field | | | | | | containing a | | | | | | URI pointing | | | | | | to the | | | | | | endpoint of | | | | | | another NRF | | | | | | service | | | | | | instance to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | | | | | | | | | | | | If an SCP | | | | | | redirects the | | | | | | message to | | | | | | another SCP | | | | | | then the | | | | | | location | | | | | | header field | | | | | | shall contain | | | | | | the same URI | | | | | | or a | | | | | | different URI | | | | | | pointing to | | | | | | the endpoint | | | | | | of the NF | | | | | | service | | | | | | producer to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | The NRF shall | | irectResponse | | | Redirect | generate a | | | | | | Location | | | | | | header field | | | | | | containing a | | | | | | URI pointing | | | | | | to the | | | | | | endpoint of | | | | | | another NRF | | | | | | service | | | | | | instance to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | | | | | | | | | | | | If an SCP | | | | | | redirects the | | | | | | message to | | | | | | another SCP | | | | | | then the | | | | | | location | | | | | | header field | | | | | | shall contain | | | | | | the same URI | | | | | | or a | | | | | | different URI | | | | | | pointing to | | | | | | the endpoint | | | | | | of the NF | | | | | | service | | | | | | producer to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.2.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of the NRF service instance to which the request should be sent
* * *
Table 6.1.3.2.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of the NRF service instance to which the request should be sent
* * *
Table 6.1.3.2.3.1-6: Headers supported by the 200 Response Code on this
resource
+------+-----------+---+-------------+----------------------+ | Name | Data type | P | Cardinality | Description | +------+-----------+---+-------------+----------------------+ | ETag | string | C | 0..1 | Entity Tag | | | | | | containing a strong | | | | | | validator, described | | | | | | in | | | | | | I | | | | | | ETF RFC 7232 [19], | | | | | | clause 2.3. | | | | | | | | | | | | In this resource, | | | | | | this header shall | | | | | | contain a different | | | | | | value if the list of | | | | | | NF instances | | | | | | (regardless of the | | | | | | contents of each NF | | | | | | instance profile) | | | | | | stored in the NRF | | | | | | has changed; i.e. it | | | | | | shall change if | | | | | | there are new | | | | | | instances added to | | | | | | the NRF, or if | | | | | | existing instances | | | | | | are removed from the | | | | | | NRF. | | | | | | | | | | | | If the NF Service | | | | | | Consumer, during the | | | | | | course of successive | | | | | | paginated requests, | | | | | | receives a different | | | | | | ETag value, it shall | | | | | | conclude that the | | | | | | list of NF Instances | | | | | | in the NRF has | | | | | | changed, so it may | | | | | | re-start the | | | | | | paginated | | | | | | NFListRetrieval | | | | | | service operation. | +------+-----------+---+-------------+----------------------+
##### 6.1.3.2.3.2 OPTIONS {#options .H6}
This method queries the communication options supported by the NRF (see clause
6.9 of 3GPP TS 29.500 [4]). This method shall support the URI query parameters
specified in table 6.1.3.2.3.2-1.
Table 6.1.3.2.3.2-1: URI query parameters supported by the OPTIONS method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.1.3.2.3.2-2 and the response data structures and response codes specified in
table 6.1.3.2.3.2-3.
Table 6.1.3.2.3.2-2: Data structures supported by the OPTIONS Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.1.3.2.3.2-3: Data structures supported by the OPTIONS Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | | | | | | Content | | +---------------+---+-------------+---------------+---------------+ | Op | M | 1 | 200 OK | | | tionsResponse | | | | | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | The NRF shall | | irectResponse | | | Redirect | generate a | | | | | | Location | | | | | | header field | | | | | | containing a | | | | | | URI pointing | | | | | | to the | | | | | | endpoint of | | | | | | another NRF | | | | | | service | | | | | | instance to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | | | | | | | | | | | | If an SCP | | | | | | redirects the | | | | | | message to | | | | | | another SCP | | | | | | then the | | | | | | location | | | | | | header field | | | | | | shall contain | | | | | | the same URI | | | | | | or a | | | | | | different URI | | | | | | pointing to | | | | | | the endpoint | | | | | | of the NF | | | | | | service | | | | | | producer to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | The NRF shall | | irectResponse | | | Redirect | generate a | | | | | | Location | | | | | | header field | | | | | | containing a | | | | | | URI pointing | | | | | | to the | | | | | | endpoint of | | | | | | another NRF | | | | | | service | | | | | | instance to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | | | | | | | | | | | | If an SCP | | | | | | redirects the | | | | | | message to | | | | | | another SCP | | | | | | then the | | | | | | location | | | | | | header field | | | | | | shall contain | | | | | | the same URI | | | | | | or a | | | | | | different URI | | | | | | pointing to | | | | | | the endpoint | | | | | | of the NF | | | | | | service | | | | | | producer to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 405 Method | | | roblemDetails | | | Not Allowed | | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 501 Not | | | roblemDetails | | | Implemented | | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | OPTIONS | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.2.3.2-4: Headers supported by the 200 Response Code on this
resource
* * *
Name Data type P Cardinality Description Accept-Encoding string O 0..1 Accept-
Encoding, described in IETF RFC 7694 [41]
* * *
Table 6.1.3.2.3.2-5: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of the NRF service instance to which the request should be sent
* * *
Table 6.1.3.2.3.2-6: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of the NRF service instance to which the request should be sent
* * *
##### 6.1.3.2.4 Resource Custom Operations
There are no resource custom operations for the Nnrf_NFManagement service in
this release of the specification.
#### 6.1.3.3 Resource: nf-instance (Document)
##### 6.1.3.3.1 Description
This resource represents a single NF instance.
##### 6.1.3.3.2 Resource Definition
Resource URI: **{apiRoot}/nnrf-nfm/v1/nf-instances/{nfInstanceID}**
This resource shall support the resource URI variables defined in table
6.1.3.3.2-1.
Table 6.1.3.3.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.1.1 nfInstanceID NfInstanceId Represents a
specific NF Instance
##### 6.1.3.3.3 Resource Standard Methods
##### 6.1.3.3.3.1 GET {#get-2 .H6}
This method retrieves the NF Profile of a given NF instance.
This method shall support the URI query parameters specified in table
6.1.3.3.3.1-1.
Table 6.1.3.3.3.1-1: URI query parameters supported by the GET method on this
resource
+---------------+---------------+---+-------------+---------------+ | Name | Data type | P | Cardinality | Description | +---------------+---------------+---+-------------+---------------+ | reque | Supp | C | 0..1 | Nnrf\ | | ster-features | ortedFeatures | | | _NFManagement | | | | | | features | | | | | | supported by | | | | | | the NF | | | | | | Service | | | | | | Consumer that | | | | | | is invoking | | | | | | the | | | | | | Nnrf\ | | | | | | _NFManagement | | | | | | service. See | | | | | | clause 6.1.9. | | | | | | | | | | | | This IE shall | | | | | | be included | | | | | | if at least | | | | | | one feature | | | | | | is supported | | | | | | by the NF | | | | | | Service | | | | | | Consumer. | +---------------+---------------+---+-------------+---------------+
This method shall support the request data structures specified in table
6.1.3.3.3.1-2 and the response data structures and response codes specified in
table 6.1.3.3.3.1-3.
Table 6.1.3.3.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.1.3.3.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | NFProfile | M | 1 | 200 OK | The response | | | | | | body contains | | | | | | the profile | | | | | | of a given NF | | | | | | Instance. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | The NRF shall | | irectResponse | | | Redirect | generate a | | | | | | Location | | | | | | header field | | | | | | containing a | | | | | | URI pointing | | | | | | to the | | | | | | endpoint of | | | | | | another NRF | | | | | | service | | | | | | instance to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | | | | | | | | | | | | If an SCP | | | | | | redirects the | | | | | | message to | | | | | | another SCP | | | | | | then the | | | | | | location | | | | | | header field | | | | | | shall contain | | | | | | the same URI | | | | | | or a | | | | | | different URI | | | | | | pointing to | | | | | | the endpoint | | | | | | of the NF | | | | | | service | | | | | | producer to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | The NRF shall | | irectResponse | | | Redirect | generate a | | | | | | Location | | | | | | header field | | | | | | containing a | | | | | | URI pointing | | | | | | to the | | | | | | endpoint of | | | | | | another NRF | | | | | | service | | | | | | instance to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | | | | | | | | | | | | If an SCP | | | | | | redirects the | | | | | | message to | | | | | | another SCP | | | | | | then the | | | | | | location | | | | | | header field | | | | | | shall contain | | | | | | the same URI | | | | | | or a | | | | | | different URI | | | | | | pointing to | | | | | | the endpoint | | | | | | of the NF | | | | | | service | | | | | | producer to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.3.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of the NRF service instance to which the request should be sent
* * *
Table 6.1.3.3.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of the NRF service instance to which the request should be sent
* * *
Table 6.1.3.3.3.1-6: Headers supported by the 200 Response Code on this
resource
* * *
Name Data type P Cardinality Description ETag string C 0..1 Entity Tag
containing a strong validator, described in IETF RFC 7232 [19], clause 2.3
* * *
##### 6.1.3.3.3.2 PUT {#put .H6}
This method registers a new NF instance in the NRF, or replaces completely an
existing NF instance.
This method shall support the URI query parameters specified in table
6.1.3.3.3.2-1.
Table 6.1.3.3.3.2-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.1.3.3.3.2-2 and the response data structures and response codes specified in
table 6.1.3.3.3.2-3.
Table 6.1.3.3.3.2-2: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description NFProfile M 1 Profile of the NF Instance
to be registered, or completely replaced, in NRF.
* * *
Table 6.1.3.3.3.2-3: Data structures supported by the PUT Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | NFProfile | M | 1 | 200 OK | This case | | | | | | represents | | | | | | the | | | | | | successful | | | | | | replacement | | | | | | of an | | | | | | existing NF | | | | | | Instance | | | | | | profile. | | | | | | | | | | | | Upon success, | | | | | | a response | | | | | | body is | | | | | | returned | | | | | | containing | | | | | | the replaced | | | | | | profile of | | | | | | the NF | | | | | | Instance. | +---------------+---+-------------+---------------+---------------+ | NFProfile | M | 1 | 201 Created | This case | | | | | | represents | | | | | | the | | | | | | successful | | | | | | registration | | | | | | of a new NF | | | | | | Instance. | | | | | | | | | | | | Upon success, | | | | | | a response | | | | | | body is | | | | | | returned | | | | | | containing | | | | | | the newly | | | | | | created NF | | | | | | Instance | | | | | | profile; | | | | | | also, the | | | | | | HTTP response | | | | | | shall include | | | | | | a | | | | | | \"Location\" | | | | | | HTTP header | | | | | | that contains | | | | | | the resource | | | | | | URI of the | | | | | | created NF | | | | | | Instance. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | The NRF shall | | irectResponse | | | Redirect | generate a | | | | | | Location | | | | | | header field | | | | | | containing a | | | | | | URI pointing | | | | | | to the | | | | | | endpoint of | | | | | | another NRF | | | | | | service | | | | | | instance to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | | | | | | | | | | | | If an SCP | | | | | | redirects the | | | | | | message to | | | | | | another SCP | | | | | | then the | | | | | | location | | | | | | header field | | | | | | shall contain | | | | | | the same URI | | | | | | or a | | | | | | different URI | | | | | | pointing to | | | | | | the endpoint | | | | | | of the NF | | | | | | service | | | | | | producer to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | The NRF shall | | irectResponse | | | Redirect | generate a | | | | | | Location | | | | | | header field | | | | | | containing a | | | | | | URI pointing | | | | | | to the | | | | | | endpoint of | | | | | | another NRF | | | | | | service | | | | | | instance to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | | | | | | | | | | | | If an SCP | | | | | | redirects the | | | | | | message to | | | | | | another SCP | | | | | | then the | | | | | | location | | | | | | header field | | | | | | shall contain | | | | | | the same URI | | | | | | or a | | | | | | different URI | | | | | | pointing to | | | | | | the endpoint | | | | | | of the NF | | | | | | service | | | | | | producer to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.3.3.2-4: Headers supported by the PUT method on this resource
* * *
Name Data type P Cardinality Description Content-Encoding string O 0..1
Content-Encoding, described in IETF RFC 7231 [40]
* * *
Table 6.1.3.3.3.2-5: Headers supported by the 200 Response Code on this
resource
* * *
Name Data type P Cardinality Description Accept-Encoding string O 0..1 Accept-
Encoding, described in IETF RFC 7694 [41] ETag string C 0..1 Entity Tag
containing a strong validator, described in IETF RFC 7232 [19], clause 2.3
* * *
Table 6.1.3.3.3.2-6: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/nnrf-
nfm/v1/nf-instances/{nfInstanceId} Accept-Encoding string O 0..1 Accept-
Encoding, described in IETF RFC 7694 [41] ETag string C 0..1 Entity Tag
containing a strong validator, described in IETF RFC 7232 [19], clause 2.3
* * *
Table 6.1.3.3.3.2-7: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of the NRF service instance to which the request should be sent
* * *
Table 6.1.3.3.3.2-8: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of the NRF service instance to which the request should be sent
* * *
##### 6.1.3.3.3.3 PATCH {#patch .H6}
This method updates partially the profile of a given NF instance.
This method shall support the URI query parameters specified in table
6.1.3.3.3.3-1.
Table 6.1.3.3.3.3-1: URI query parameters supported by the PATCH method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.1.3.3.3.3-2 and the response data structures and response codes specified in
table 6.1.3.3.3.3-3.
Table 6.1.3.3.3.3-2: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description array(PatchItem) M 1 It contains the list
of changes to be made to the profile of the NF Instance, according to the JSON
PATCH format specified in IETF RFC 6902 [13].
* * *
Table 6.1.3.3.3.3-3: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | NFProfile | M | 1 | 200 OK | Upon success, | | | | | | a response | | | | | | body is | | | | | | returned | | | | | | containing | | | | | | the updated | | | | | | profile of | | | | | | the NF | | | | | | Instance. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | response sent | | | | | | when there is | | | | | | no need to | | | | | | provide a | | | | | | full updated | | | | | | profile of | | | | | | the NF | | | | | | Instance | | | | | | (e.g., in the | | | | | | partial | | | | | | update | | | | | | procedure | | | | | | when all | | | | | | update | | | | | | operations | | | | | | are accepted | | | | | | by the NRF, | | | | | | as described | | | | | | in | | | | | | clau | | | | | | se 5.2.2.3.1, | | | | | | or in the | | | | | | Heart-Beat | | | | | | operation | | | | | | response | | | | | | described in | | | | | | clause | | | | | | 5.2.2.3.2). | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | The NRF shall | | irectResponse | | | Redirect | generate a | | | | | | Location | | | | | | header field | | | | | | containing a | | | | | | URI pointing | | | | | | to the | | | | | | endpoint of | | | | | | another NRF | | | | | | service | | | | | | instance to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | | | | | | | | | | | | If an SCP | | | | | | redirects the | | | | | | message to | | | | | | another SCP | | | | | | then the | | | | | | location | | | | | | header field | | | | | | shall contain | | | | | | the same URI | | | | | | or a | | | | | | different URI | | | | | | pointing to | | | | | | the endpoint | | | | | | of the NF | | | | | | service | | | | | | producer to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | The NRF shall | | irectResponse | | | Redirect | generate a | | | | | | Location | | | | | | header field | | | | | | containing a | | | | | | URI pointing | | | | | | to the | | | | | | endpoint of | | | | | | another NRF | | | | | | service | | | | | | instance to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | | | | | | | | | | | | If an SCP | | | | | | redirects the | | | | | | message to | | | | | | another SCP | | | | | | then the | | | | | | location | | | | | | header field | | | | | | shall contain | | | | | | the same URI | | | | | | or a | | | | | | different URI | | | | | | pointing to | | | | | | the endpoint | | | | | | of the NF | | | | | | service | | | | | | producer to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 412 | The | | roblemDetails | | | Precondition | modification | | | | | Failed | has failed | | | | | | due to the | | | | | | precondition | | | | | | in the | | | | | | request is | | | | | | not | | | | | | fulfilled. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 409 Conflict | The | | roblemDetails | | | | modification | | | | | | has failed | | | | | | due to | | | | | | confliction | | | | | | (e.g. to | | | | | | change a | | | | | | value of a | | | | | | non-existing | | | | | | IE). | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PATCH | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.3.3.3-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of the NRF service instance to which the request should be sent
* * *
Table 6.1.3.3.3.3-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of the NRF service instance to which the request should be sent
* * *
Table 6.1.3.3.3.3-6: Headers supported by the PATCH method on this resource
* * *
Name Data type P Cardinality Description If-Match string C 0..1 Validator for
conditional requests, as described in IETF RFC 7232 [19], clause 3.2.
* * *
Table 6.1.3.3.3.3-7: Headers supported by the 200 Response Code on this
resource
* * *
Name Data type P Cardinality Description ETag string C 0..1 Entity Tag
containing a strong validator, described in IETF RFC 7232 [19], clause 2.3.
* * *
##### 6.1.3.3.3.4 DELETE {#delete .H6}
This method deregisters an existing NF instance from the NRF.
This method shall support the URI query parameters specified in table
6.1.3.3.3.4-1.
Table 6.1.3.3.3.4-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.1.3.3.3.4-2 and the response data structures and response codes specified in
table 6.1.3.3.3.4-3.
Table 6.1.3.3.3.4-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.1.3.3.3.4-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | | | | | | Content | | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | The NRF shall | | irectResponse | | | Redirect | generate a | | | | | | Location | | | | | | header field | | | | | | containing a | | | | | | URI pointing | | | | | | to the | | | | | | endpoint of | | | | | | another NRF | | | | | | service | | | | | | instance to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | | | | | | | | | | | | If an SCP | | | | | | redirects the | | | | | | message to | | | | | | another SCP | | | | | | then the | | | | | | location | | | | | | header field | | | | | | shall contain | | | | | | the same URI | | | | | | or a | | | | | | different URI | | | | | | pointing to | | | | | | the endpoint | | | | | | of the NF | | | | | | service | | | | | | producer to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | The NRF shall | | irectResponse | | | Redirect | generate a | | | | | | Location | | | | | | header field | | | | | | containing a | | | | | | URI pointing | | | | | | to the | | | | | | endpoint of | | | | | | another NRF | | | | | | service | | | | | | instance to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | | | | | | | | | | | | If an SCP | | | | | | redirects the | | | | | | message to | | | | | | another SCP | | | | | | then the | | | | | | location | | | | | | header field | | | | | | shall contain | | | | | | the same URI | | | | | | or a | | | | | | different URI | | | | | | pointing to | | | | | | the endpoint | | | | | | of the NF | | | | | | service | | | | | | producer to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.3.3.4-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of the NRF service instance to which the request should be sent
* * *
Table 6.1.3.3.3.4-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of the NRF service instance to which the request should be sent
* * *
#### 6.1.3.4 Resource: subscriptions (Collection)
##### 6.1.3.4.1 Description
This resource represents a collection of subscriptions of NF Instances to
newly registered NF Instances.
##### 6.1.3.4.2 Resource Definition
Resource URI: **{apiRoot}/nnrf-nfm/v1/subscriptions**
This resource shall support the resource URI variables defined in table
6.1.3.4.2-1.
Table 6.1.3.4.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.1.1
##### 6.1.3.4.3 Resource Standard Methods
##### 6.1.3.4.3.1 POST {#post .H6}
This method creates a new subscription. This method shall support the URI
query parameters specified in table 6.1.3.4.3.1-1.
Table 6.1.3.4.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.1.3.4.3.1-2 and the response data structures and response codes specified in
table 6.1.3.4.3.1-3.
Table 6.1.3.4.3.1-2: Data structures supported by the POST Request Body on
this resource
+------------------+---+-------------+------------------------+ | Data type | P | Cardinality | Description | +------------------+---+-------------+------------------------+ | SubscriptionData | M | 1 | The request body | | | | | contains the input | | | | | parameters for the | | | | | subscription. These | | | | | parameters include, | | | | | e.g.: | | | | | | | | | | - Target NF type | | | | | | | | | | - Target Service Name | | | | | | | | | | - Callback URI of the | | | | | Requester NF | +------------------+---+-------------+------------------------+
Table 6.1.3.4.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Sub | M | 1 | 201 Created | This case | | scriptionData | | | | represents | | | | | | the | | | | | | successful | | | | | | creation of a | | | | | | subscription. | | | | | | | | | | | | Upon success, | | | | | | the HTTP | | | | | | response | | | | | | shall include | | | | | | a | | | | | | \"Location\" | | | | | | HTTP header | | | | | | that contains | | | | | | the resource | | | | | | URI of the | | | | | | created | | | | | | resource. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | The NRF shall | | irectResponse | | | Redirect | generate a | | | | | | Location | | | | | | header field | | | | | | containing a | | | | | | URI pointing | | | | | | to the | | | | | | endpoint of | | | | | | another NRF | | | | | | service | | | | | | instance to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | | | | | | | | | | | | If an SCP | | | | | | redirects the | | | | | | message to | | | | | | another SCP | | | | | | then the | | | | | | location | | | | | | header field | | | | | | shall contain | | | | | | the same URI | | | | | | or a | | | | | | different URI | | | | | | pointing to | | | | | | the endpoint | | | | | | of the NF | | | | | | service | | | | | | producer to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | The NRF shall | | irectResponse | | | Redirect | generate a | | | | | | Location | | | | | | header field | | | | | | containing a | | | | | | URI pointing | | | | | | to the | | | | | | endpoint of | | | | | | another NRF | | | | | | service | | | | | | instance to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | | | | | | | | | | | | If an SCP | | | | | | redirects the | | | | | | message to | | | | | | another SCP | | | | | | then the | | | | | | location | | | | | | header field | | | | | | shall contain | | | | | | the same URI | | | | | | or a | | | | | | different URI | | | | | | pointing to | | | | | | the endpoint | | | | | | of the NF | | | | | | service | | | | | | producer to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | SUBSCRIPTION\ | | | | | | _NOT_ALLOWED | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | N | | | | | | F_NOT_FOUND | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.4.3.1-4: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/nnrf-
nfm/v1/subscriptions/{subscriptionId}
* * *
Table 6.1.3.4.3.1-5: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of the NRF service instance to which the request should be sent
* * *
Table 6.1.3.4.3.1-6: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of the NRF service instance to which the request should be sent
* * *
#### 6.1.3.5 Resource: subscription (Document)
##### 6.1.3.5.1 Description
This resource represents an individual subscription of a given NF Instance to
newly registered NF Instances.
##### 6.1.3.5.2 Resource Definition
Resource URI: **{apiRoot}/nnrf-nfm/v1/subscriptions/{subscriptionID}**
This resource shall support the resource URI variables defined in table
6.1.3.5.2-1.
Table 6.1.3.5.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.1.1 subscriptionID string Represents a specific
subscription
##### 6.1.3.5.3 Resource Standard Methods
##### 6.1.3.5.3.1 DELETE {#delete-1 .H6}
This method terminates an existing subscription. This method shall support the
URI query parameters specified in table 6.1.3.5.3.1-1.
Table 6.1.3.5.3.1-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.1.3.5.3.1-2 and the response data structures and response codes specified in
table 6.1.3.5.3.1-3.
Table 6.1.3.5.3.1-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.1.3.5.3.1-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | | | | | | Content | | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | The NRF shall | | irectResponse | | | Redirect | generate a | | | | | | Location | | | | | | header field | | | | | | containing a | | | | | | URI pointing | | | | | | to the | | | | | | endpoint of | | | | | | another NRF | | | | | | service | | | | | | instance to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | | | | | | | | | | | | If an SCP | | | | | | redirects the | | | | | | message to | | | | | | another SCP | | | | | | then the | | | | | | location | | | | | | header field | | | | | | shall contain | | | | | | the same URI | | | | | | or a | | | | | | different URI | | | | | | pointing to | | | | | | the endpoint | | | | | | of the NF | | | | | | service | | | | | | producer to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | The NRF shall | | irectResponse | | | Redirect | generate a | | | | | | Location | | | | | | header field | | | | | | containing a | | | | | | URI pointing | | | | | | to the | | | | | | endpoint of | | | | | | another NRF | | | | | | service | | | | | | instance to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | | | | | | | | | | | | If an SCP | | | | | | redirects the | | | | | | message to | | | | | | another SCP | | | | | | then the | | | | | | location | | | | | | header field | | | | | | shall contain | | | | | | the same URI | | | | | | or a | | | | | | different URI | | | | | | pointing to | | | | | | the endpoint | | | | | | of the NF | | | | | | service | | | | | | producer to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.5.3.1-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of the NRF service instance to which the request should be sent
* * *
Table 6.1.3.5.3.1-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of the NRF service instance to which the request should be sent
* * *
##### 6.1.3.5.3.2 PATCH {#patch-1 .H6}
This method updates an existing subscription. This method shall support the
URI query parameters specified in table 6.1.3.5.3.2-1.
Table 6.1.3.5.3.2-1: URI query parameters supported by the PATCH method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.1.3.5.3.2-2 and the response data structures and response codes specified in
table 6.1.3.5.3.2-3.
Table 6.1.3.5.3.2-2: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description array(PatchItem) M 1..N It contains the
list of changes to be made to an individual subscription, according to the
JSON PATCH format specified in IETF RFC 6902 [13].
* * *
Table 6.1.3.5.3.2-3: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Sub | M | 1 | 200 OK | | | scriptionData | | | | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | | | | | | Content | | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | The NRF shall | | irectResponse | | | Redirect | generate a | | | | | | Location | | | | | | header field | | | | | | containing a | | | | | | URI pointing | | | | | | to the | | | | | | endpoint of | | | | | | another NRF | | | | | | service | | | | | | instance to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | | | | | | | | | | | | If an SCP | | | | | | redirects the | | | | | | message to | | | | | | another SCP | | | | | | then the | | | | | | location | | | | | | header field | | | | | | shall contain | | | | | | the same URI | | | | | | or a | | | | | | different URI | | | | | | pointing to | | | | | | the endpoint | | | | | | of the NF | | | | | | service | | | | | | producer to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | The NRF shall | | irectResponse | | | Redirect | generate a | | | | | | Location | | | | | | header field | | | | | | containing a | | | | | | URI pointing | | | | | | to the | | | | | | endpoint of | | | | | | another NRF | | | | | | service | | | | | | instance to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | | | | | | | | | | | | If an SCP | | | | | | redirects the | | | | | | message to | | | | | | another SCP | | | | | | then the | | | | | | location | | | | | | header field | | | | | | shall contain | | | | | | the same URI | | | | | | or a | | | | | | different URI | | | | | | pointing to | | | | | | the endpoint | | | | | | of the NF | | | | | | service | | | | | | producer to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | The \"cause\" | | roblemDetails | | | | attribute may | | | | | | be used to | | | | | | indicate one | | | | | | of the | | | | | | following | | | | | | application | | | | | | errors: | | | | | | | | | | | | - | | | | | | N | | | | | | F_NOT_FOUND | +---------------+---+-------------+---------------+---------------+
Table 6.1.3.5.3.2-4: Headers supported by the 307 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of the NRF service instance to which the request should be sent
* * *
Table 6.1.3.5.3.2-5: Headers supported by the 308 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of the NRF service instance to which the request should be sent
* * *
### 6.1.4 Custom Operations without associated resources
There are no custom operations defined without any associated resources for
the Nnrf_NFManagement service in this release of the specification.
### 6.1.5 Notifications
#### 6.1.5.1 General
This clause specifies the notifications provided by the Nnrf_NFManagement
service.
The delivery of notifications shall be supported as specified in clause 6.2 of
3GPP TS 29.500 [4] for Server-initiated communication.
Table 6.1.5.1-1: Notifications overview
+----------------+----------------+----------------+----------------+ | Notification | Resource URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +================+================+================+================+ | NF Instance | {nfStatusNo | POST | Notify about | | Status | tificationUri} | | registrations | | Notification | | | / | | | (NF Service | | d | | | Consumer | | eregistrations | | | provided | | or profile | | | callback | | changes of NF | | | reference) | | Instances | +----------------+----------------+----------------+----------------+
#### 6.1.5.2 NF Instance Status Notification
##### 6.1.5.2.1 Description
The NF Service Consumer provides a callback URI for getting notified about NF
Instances status events, the NRF shall notify the NF Service Consumer, when
the conditions specified in the subscription are met.
##### 6.1.5.2.2 Notification Definition
The POST method shall be used for NF Instance Status notification and the URI
shall be the callback reference provided by the NF Service Consumer during the
subscription to this notification.
Resource URI: **{nfStatusNotificationUri}**
Support of URI query parameters is specified in table 6.1.5.2.2-1.
Table 6.1.5.2.2-1: URI query parameters supported by the POST method
* * *
Name Data type P Cardinality Description n/a
* * *
Support of request data structures is specified in table 6.1.5.2.2-2, and
support of response data structures and response codes is specified in table
6.1.5.2-3.
Table 6.1.5.2.2-2: Data structures supported by the POST Request Body
* * *
Data type P Cardinality Description NotificationData M 1 Representation of the
NF Instance status notification.
* * *
Table 6.1.5.2.2-3: Data structures supported by the POST Response Body
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | This case | | | | | Content | represents a | | | | | | successful | | | | | | notification | | | | | | of the NF | | | | | | Instance | | | | | | status event. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | The NF | | irectResponse | | | Redirect | service | | | | | | consumer | | | | | | shall | | | | | | generate a | | | | | | Location | | | | | | header field | | | | | | containing a | | | | | | URI pointing | | | | | | to the | | | | | | endpoint of | | | | | | another NF | | | | | | Service | | | | | | Consumer | | | | | | instance to | | | | | | which the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | If an SCP | | | | | | redirects the | | | | | | message to | | | | | | another SCP | | | | | | then the | | | | | | location | | | | | | header field | | | | | | shall contain | | | | | | the same URI | | | | | | or a | | | | | | different URI | | | | | | pointing to | | | | | | the endpoint | | | | | | of the NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be | | | | | | sent. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | The NF | | irectResponse | | | Redirect | service | | | | | | consumer | | | | | | shall | | | | | | generate a | | | | | | Location | | | | | | header field | | | | | | containing a | | | | | | URI pointing | | | | | | to the | | | | | | endpoint of | | | | | | another NF | | | | | | Service | | | | | | Consumer | | | | | | instance to | | | | | | which the | | | | | | notification | | | | | | should be | | | | | | sent. | | | | | | | | | | | | If an SCP | | | | | | redirects the | | | | | | message to | | | | | | another SCP | | | | | | then the | | | | | | location | | | | | | header field | | | | | | shall contain | | | | | | the same URI | | | | | | or a | | | | | | different URI | | | | | | pointing to | | | | | | the endpoint | | | | | | of the NF | | | | | | service | | | | | | consumer to | | | | | | which the | | | | | | notification | | | | | | should be | | | | | | sent. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 6.1.5.2.2-4: Headers supported by the 307 Response Code on this endpoint
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of the NF service consumer instance to which the request should
be sent
* * *
Table 6.1.5.2.2-5: Headers supported by the 308 Response Code on this endpoint
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of the NF service consumer instance to which the request should
be sent
* * *
### 6.1.6 Data Model
#### 6.1.6.1 General
This clause specifies the application data model supported by the API.
Table 6.1.6.1-1 specifies the data types defined for the Nnrf_NFManagement
service-based interface protocol.
Table 6.1.6.1-1: Nnrf_NFManagement specific Data Types
Data type Clause defined Description
* * *
NFProfile 6.1.6.2.2 Information of an NF Instance registered in the NRF.
NFService 6.1.6.2.3 Information of a given NF Service Instance; it is part of
the NFProfile of an NF Instance. DefaultNotificationSubscription 6.1.6.2.4
Data structure for specifying the notifications the NF service subscribes by
default along with callback URI. IpEndPoint 6.1.6.2.5 IP addressing
information of a given NFService; it consists on, e.g. IP address, TCP port,
transport protocol... UdrInfo 6.1.6.2.6 Information of an UDR NF Instance.
UdmInfo 6.1.6.2.7 Information of an UDM NF Instance. AusfInfo 6.1.6.2.8
Information of an AUSF NF Instance. SupiRange 6.1.6.2.9 A range of SUPIs
(subscriber identities), either based on a numeric range, or based on regular-
expression matching. IdentityRange 6.1.6.2.10 A range of subscriber
identities, either based on a numeric range, or based on regular-expression
matching. AmfInfo 6.1.6.2.11 Information of an AMF NF Instance. SmfInfo
6.1.6.2.12 Information of an SMF NF Instance. UpfInfo 6.1.6.2.13 Information
of an UPF NF Instance. SnssaiUpfInfoItem 6.1.6.2.14 Set of parameters
supported by UPF for a given S-NSSAI. DnnUpfInfoItem 6.1.6.2.15 Set of
parameters supported by UPF for a given DNN. SubscriptionData 6.1.6.2.16
Information of a subscription to notifications to NRF events, included in
subscription requests and responses. NotificationData 6.1.6.2.17 Data sent in
notifications from NRF to subscribed NF Instances. NFServiceVersion 6.1.6.2.19
Contains the version details of an NF service. PcfInfo 6.1.6.2.20 Information
of a PCF NF Instance. BsfInfo 6.1.6.2.21 Information of a BSF NF Instance.
Ipv4AddressRange 6.1.6.2.22 Range of IPv4 addresses. Ipv6PrefixRange
6.1.6.2.23 Range of IPv6 prefixes. InterfaceUpfInfoItem 6.1.6.2.24 Information
of a given IP interface of an UPF. UriList 6.1.6.2.25 Set of URIs following
3GPP hypermedia format (containing a \"_links\" attribute). N2InterfaceAmfInfo
6.1.6.2.26 AMF N2 interface information TaiRange 6.1.6.2.27 Range of TAIs
(Tracking Area Identities). TacRange 6.1.6.2.28 Range of TACs (Tracking Area
Codes). SnssaiSmfInfoItem 6.1.6.2.29 Set of parameters supported by SMF for a
given S-NSSAI. DnnSmfInfoItem 6.1.6.2.30 Set of parameters supported by SMF
for a given DNN. NrfInfo 6.1.6.2.31 Information of an NRF NF Instance, used in
hierarchical NRF deployments. ChfInfo 6.1.6.2.32 Information of a CHF NF
Instance. PlmnRange 6.1.6.2.34 Range of PLMN IDs. SubscrCond 6.1.6.2.35
Condition to determine the set of NFs to monitor under a certain subscription
in NRF. NfInstanceIdCond 6.1.6.2.36 Subscription to a given NF Instance Id.
NfTypeCond 6.1.6.2.37 Subscription to a set of NFs based on their NF Type.
ServiceNameCond 6.1.6.2.38 Subscription to a set of NFs based on their support
for a given Service Name. AmfCond 6.1.6.2.39 Subscription to a set of AMFs,
based on AMF Set Id and/or AMF Region Id. GuamiListCond 6.1.6.2.40
Subscription to a set of AMFs, based on their GUAMIs. NetworkSliceCond
6.1.6.2.41 Subscription to a set of NFs, based on the slices (S-NSSAI and NSI)
they support . NfGroupCond 6.1.6.2.42 Subscription to a set of NFs based on
their Group Id. NotifCondition 6.1.6.2.43 Condition (list of attributes in the
NF Profile) to determine whether a notification must be sent by NRF.
PlmnSnssai 6.1.6.2.44 List of network slices (S-NSSAIs) for a given PLMN ID.
NwdafInfo 6.1.6.2.45 Information of a NWDAF NF Instance. LmfInfo 6.1.6.2.46
Information of an LMF NF Instance. GmlcInfo 6.1.6.2.47 Information of a GMLC
NF Instance. NefInfo 6.1.6.2.48 Information of an NEF NF Instance. PfdData
6.1.6.2.49 List of Application IDs and/or AF IDs managed by a given NEF
Instance. AfEventExposureData 6.1.6.2.50 AF Event Exposure data managed by a
given NEF Instance. WAgfInfo 6.1.6.2.51 Information of the W-AGF endpoints.
TngfInfo 6.1.6.2.52 Information of the TNGF endpoints. PcscfInfo 6.1.6.2.53
Information of a P-CSCF NF Instance. NfSetCond 6.1.6.2.54 Subscription to a
set of NFs based on their Set Id. NfServiceSetCond 6.1.6.2.55 Subscription to
a set of NFs based on their Service Set Id. NfInfo 6.1.6.2.56 Information of a
generic NF Instance. HssInfo 6.1.6.2.57 Information of an HSS NF Instance.
ImsiRange 6.1.6.2.58 A range of IMSIs (subscriber identities), either based on
a numeric range, or based on regular-expression matching. InternalGroupIdRange
6.1.6.2.59 A range of Group IDs (internal group identities), either based on a
numeric range, or based on regular-expression matching. UpfCond 6.1.6.2.60
Subscription to a set of NF Instances (UPFs), able to serve a certain service
area (i.e. SMF serving area or TAI list). TwifInfo 6.1.6.2.61 Addressing
information (IP addresses, FQDN) of the TWIF. VendorSpecificFeature 6.1.6.2.62
Information about a vendor-specific feature UdsfInfo 6.1.6.2.63 Information
related to UDSF ScpInfo 6.1.6.2.65 Information of an SCP Instance
ScpDomainInfo 6.1.6.2.66 SCP domain information ScpDomainCond 6.1.6.2.67
Subscription to an SCP domain OptionsResponse 6.1.6.2.68 Communication options
of the NRF NwdafCond 6.1.6.2.69 Subscription to a set of NF Instances
(NWDAFs), identified by Analytics ID(s), S-NSSAI(s) or NWDAF Serving Area
information, i.e. list of TAIs for which the NWDAF can provide analytics.
NefCond 6.1.6.2.70 Subscription to a set of NF Instances (NEFs), identified by
Event ID(s) provided by AF, S-NSSAI(s), AF Instance ID, Application
Identifier, External Identifier, External Group Identifier, or domain name.
SuciInfo 6.1.6.2.71 SUCI information containing Routing Indicator and Home
Network Public Key ID. SeppInfo 6.1.6.2.72 Information of a SEPP Instance
AanfInfo 6.1.6.2.73 Information of an AAnF NF Instance. 5GDdnmfInfo 6.1.6.2.74
Information of a 5G DDNMF NF Instance. MfafInfo 6.1.6.2.75 Information of the
MFAF NF Instance. NwdafCapability 6.1.6.2.76 Indicates the capability
supported by the NWDAF. DccfInfo 6.1.6.2.80 Information of a DCCF NF Instance.
NsacfInfo 6.1.6.2.81 Information of an NSACF NF Instance. NsacfCapability
6.1.6.2.82 NSACF service capability. DccfCond 6.1.6.2.83 Subscription to a set
of NF Instances (DCCFs), identified by NF types, NF Set Id(s) or DCCF Serving
Area information, i.e. list of TAIs served by the DCCF. MlAnalyticsInfo
6.1.6.2.84 ML Analytics Filter information supported by the
Nnwdaf_MLModelProvision service MbSmfInfo 6.1.6.2.85 Information of a MB-SMF
NF Instance TmgiRange 6.1.6.2.86 Range of TMGIs MbsSession 6.1.6.2.87 MBS
Session served by an MB-SMF SnssaiMbSmfInfoItem 6.1.6.2.88 Parameters
supported by an MB-SMF for a given S-NSSAI DnnMbSmfInfoItem 6.1.6.2.89
Parameters supported by an MB-SMF for a given DNN TsctsfInfo 6.1.6.2.91
Information of a TSCTSF NF Instance. SnssaiTsctsfInfoItem 6.1.6.2.92 Set of
parameters supported by TSCTSF for a given S-NSSAI. DnnTsctsfInfoItem
6.1.6.2.93 Set of parameters supported by TSCTSF for a given DNN. MbUpfInfo
6.1.6.2.94 Information of a MB-UPF NF Instance. UnTrustAfInfo 6.1.6.2.95
Information of a untrusted AF Instance. TrustAfInfo 6.1.6.2.96 Information of
a trusted AF Instance SnssaiInfoItem 6.1.6.2.97 Set of parameters supported by
NF for a given S-NSSAI. DnnInfoItem 6.1.6.2.98 Set of parameters supported by
NF for a given DNN. CollocatedNfInstance 6.1.6.2.99 Information related to
collocated NF type(s) and corresponding NF Instance(s) when the NF is
collocated with NFs supporting other NF types. ServiceNameListCond 6.1.6.2.100
Subscription to a set of NF Instances that offer a service name in the Service
Name list. NfGroupListCond 6.1.6.2.101 Subscription to a set of NF Instances,
identified by a NF Group Identity in the NF Group Identity list. PlmnOauth2
6.1.6.2.102 Per PLMN Oauth2.0 indication. V2xCapability 6.1.6.2.103 Indicate
the supported V2X Capability by the PCF. NssaafInfo 6.1.6.2.104 Information of
a NSSAAF NF Instance. ProSeCapability 6.1.6.2.105 Indicate the supported ProSe
Capability by the PCF. SharedDataIdRange 6.1.6.2.106  
SubscriptionContext 6.1.6.2.107 Context data related to a created
subscription, to be included in notifications sent by NRF. IwmscInfo
6.1.6.2.108 Information of a SMS-IWMSC NF Instance. MnpfInfo 6.1.6.2.109
Information of an MNPF Instance. DefSubServiceInfo 6.1.6.2.110 Service
Specific Information for Default Notification Subscription.
LocalityDescriptionItem 6.1.6.2.111 Description of locality information item
LocalityDescription 6.1.6.2.112 Description of locality information comprising
one or more locality information items DcsfInfo 6.1.6.2.114 Information of a
DCSF NF Instance. MlModelInterInfo 6.1.6.2.115 ML Model Interoperability
Information PruExistenceInfo 6.1.6.2.116 PRU Existence Information MrfInfo
6.1.6.2.117 Information of a MRF NF instance. MrfpInfo 6.1.6.2.118 Information
of a MRFP NF instance. MfInfo 6.1.6.2.119 Information of a MF NF instance.
A2xCapability 6.1.6.2.120 Indicate the supported A2X Capability by the PCF.
RuleSet 6.1.6.2.121 List of rules specifying whether access/scopes are
allowed/denied for NF-Consumers. SelectionConditions 6.1.6.2.123 List of
conditions under which an NF Instance with an NFStatus or NFServiceStatus
value set to \"CANARY_RELEASE\" shall be selected by an NF Service Consumer
(e.g. if the UE belongs to a range of SUPIs) ConditionItem 6.1.6.2.124 Each of
the conditions that compose the SelectionConditions. A ConditionItem consists
of a number of attributes representing individual conditions (e.g. a SUPI
range, or a TAI list) ConditionGroup 6.1.6.2.125 List (array) of conditions
(joined by the \"and\" or \"or\" logical relationship), under which an NF
Instance with an NFStatus or NFServiceStatus value set to \"CANARY_RELEASE\"
shall be selected by an NF Service Consumer. EpdgInfo 6.1.6.2.126 Information
of the ePDG endpoints. NefId 6.1.6.3.2 Identity of the NEF. VendorId 6.1.6.3.2
Vendor ID of the NF Service instance (Private Enterprise Number assigned by
IANA) WildcardDnai 6.1.6.3.2 Wildcard DNAI NFType 6.1.6.3.3 NF types known to
NRF. NotificationType 6.1.6.3.4 Types of notifications used in Default
Notification URIs in the NF Profile of an NF Instance. TransportProtocol
6.1.6.3.5 Types of transport protocol used in a given IP endpoint of an NF
Service Instance. NotificationEventType 6.1.6.3.6 Types of events sent in
notifications from NRF to subscribed NF Instances. NFStatus 6.1.6.3.7 Status
of a given NF Instance stored in NRF. DataSetId 6.1.6.3.8 Types of data sets
stored in UDR. UPInterfaceType 6.1.6.3.9 Types of User-Plane interfaces of the
UPF. ServiceName 6.1.6.3.11 Service names known to NRF. NFServiceStatus
6.1.6.3.12 Status of a given NF Service Instance of an NF Instance stored in
NRF. AnNodeType 6.1.6.3.13 Access Network Node Type (gNB, ng-eNB...).
ConditionEventType 6.1.6.3.14 Indicates whether a notification is due to the
NF Instance to start or stop being part of a condition for a subscription to a
set of NFs IpReachability 6.1.6.3.15 Indicates the type(s) of IP addresses
reachable via an SCP. CollocatedNfType 6.1.6.3.17 Possible NF types supported
by a collocated NF. LocalityType 6.1.6.3.18 Type of Locality description item.
FlCapabilityType 6.1.6.3.19 Type of Federated Learning Capability
MediaCapability 6.1.6.3.20 Media capability offered by NF instance.
RuleSetAction 6.1.6.3.21 Specifies whether access/scope is allowed or denied
for a specific NF-Consumer
Table 6.1.6.1-2 specifies data types re-used by the Nnrf_NFManagement service-
based interface protocol from other specifications, including a reference to
their respective specifications and when needed, a short description of their
use within the Nnrf_NFManagement service-based interface.
Table 6.1.6.1-2: Nnrf_NFManagement re-used Data Types
Data type Reference Comments
* * *
N1MessageClass 3GPP TS 29.518 [6] The N1 message type N2InformationClass 3GPP
TS 29.518 [6] The N2 information type IPv4Addr 3GPP TS 29.571 [7]  
IPv6Addr 3GPP TS 29.571 [7]  
IPv6Prefix 3GPP TS 29.571 [7]  
Uri 3GPP TS 29.571 [7]  
Dnn 3GPP TS 29.571 [7]  
SupportedFeatures 3GPP TS 29.571 [7]  
Snssai 3GPP TS 29.571 [7]  
PlmnId 3GPP TS 29.571 [7]  
Guami 3GPP TS 29.571 [7]  
Tai 3GPP TS 29.571 [7]  
NfInstanceId 3GPP TS 29.571 [7] Identifier (UUID) of the NF Instance. The
hexadecimal letters of the UUID should be formatted by the sender as lower-
case characters and shall be handled as case-insensitive by the receiver.
LinksValueSchema 3GPP TS 29.571 [7] 3GPP Hypermedia link UriScheme 3GPP TS
29.571 [7]  
AmfName 3GPP TS 29.571 [7]  
DateTime 3GPP TS 29.571 [7]  
Dnai 3GPP TS 29.571 [7]  
ChangeItem 3GPP TS 29.571 [7]  
DiameterIdentity 3GPP TS 29.571 [7]  
AccessType 3GPP TS 29.571 [7]  
NfGroupId 3GPP TS 29.571 [7] Network Function Group Id AmfRegionId 3GPP TS
29.571 [7]  
AmfSetId 3GPP TS 29.571 [7]  
PduSessionType 3GPP TS 29.571 [7]  
AtsssCapability 3GPP TS 29.571 [7] Capability to support procedures related to
Access Traffic Steering, Switching, Splitting. Nid 3GPP TS 29.571 [7]  
PlmnIdNid 3GPP TS 29.571 [7]  
NfSetId 3GPP TS 29.571 [7] NF Set ID (see clause 28.12 of 3GPP TS 23.003 [12])
NfServiceSetId 3GPP TS 29.571 [7] NF Service Set ID (see clause 28.13 of 3GPP
TS 23.003 [12]) GroupId 3GPP TS 29.571 [7] Internal Group Identifier RatType
3GPP TS 29.571 [7] RAT Type DurationSec 3GPP TS 29.571 [7]  
RedirectResponse 3GPP TS 29.571 [7] Response body of the redirect response
message. ExtSnssai 3GPP TS 29.571 [7]  
AreaSessionId 3GPP TS 29.571 [7] Area Session Identifier used for an MBS
session with location dependent content MbsSessionId 3GPP TS 29.571 [7] MBS
Session Identifier MbsServiceArea 3GPP TS 29.571 [7] MBS Service Area IpAddr
3GPP TS 29.571 [7] IP Address MbsServiceAreaInfo 3GPP TS 29.571 [7] MBS
Service Area Information for Location dependent MBS session Fqdn 3GPP TS
29.571 [7] Fully Qualified Domain Name EventId 3GPP TS 29.520 [32] Defined in
Nnwdaf_AnalyticsInfo API. NwdafEvent 3GPP TS 29.520 [32] Defined in
Nnwdaf_EventsSubscription API. ExternalClientType 3GPP TS 29.572 [33]  
LMFIdentification 3GPP TS 29.572 [33] LMF Identification AfEvent 3GPP TS
29.517 [35] Defined in Naf_EventExposure API SupportedGADShapes 3GPP TS 29.572
[33] Supported GAD Shapes NetworkNodeDiameterAddress 3GPP TS 29.503 [36]
Diameter Address of a Network Node IpIndex 3GPP TS 29.503 [36] IP Index
EventType 3GPP TS 29.564 [49] Event type supported by the UPF Event Exposure
service
#### 6.1.6.2 Structured data types
##### 6.1.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 6.1.6.2.2 Type: NFProfile
Table 6.1.6.2.2-1: Definition of type NFProfile
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | nfInstanceId | NfInstanceId | M | 1 | Unique | | | | | | identity of | | | | | | the NF | | | | | | Instance. | +---------------+---------------+---+-------------+---------------+ | nfType | NFType | M | 1 | Type of | | | | | | Network | | | | | | Function | +---------------+---------------+---+-------------+---------------+ | nfStatus | NFStatus | M | 1 | Status of the | | | | | | NF Instance | | | | | | (NOTE 5) | | | | | | (NOTE 16) | +---------------+---------------+---+-------------+---------------+ | collocat | a | O | 1..N | Information | | edNfInstances | rray(Collocat | | | related to | | | edNfInstance) | | | collocated NF | | | | | | type(s) and | | | | | | corresponding | | | | | | NF Instances | | | | | | when the NF | | | | | | is collocated | | | | | | with NFs | | | | | | supporting | | | | | | other NF | | | | | | types. | | | | | | | | | | | | (NOTE 21) | | | | | | | | | | | | In this | | | | | | release of | | | | | | the | | | | | | s | | | | | | pecification, | | | | | | following | | | | | | collocation | | | | | | scenarios are | | | | | | supported | | | | | | (see | | | | | | clause | | | | | | 6.1.6.2.99):\ | | | | | | - a MB-SMF | | | | | | collocated | | | | | | with a SMF; | | | | | | | | | | | | - a MB-UPF | | | | | | collocated | | | | | | with a UPF. | +---------------+---------------+---+-------------+---------------+ | n | string | O | 0..1 | Human | | fInstanceName | | | | readable name | | | | | | of the NF | | | | | | Instance | +---------------+---------------+---+-------------+---------------+ | h | integer | C | 0..1 | Time in | | eartBeatTimer | | | | seconds | | | | | | expected | | | | | | between 2 | | | | | | consecutive | | | | | | heart-beat | | | | | | messages from | | | | | | an NF | | | | | | Instance to | | | | | | the NRF. | | | | | | | | | | | | It may be | | | | | | included in | | | | | | the | | | | | | registration | | | | | | request. When | | | | | | present in | | | | | | the request | | | | | | it shall | | | | | | contain the | | | | | | heartbeat | | | | | | time proposed | | | | | | by the NF | | | | | | service | | | | | | consumer. | | | | | | | | | | | | It shall be | | | | | | included in | | | | | | responses | | | | | | from NRF to | | | | | | registration | | | | | | requests | | | | | | (PUT) or in | | | | | | NF profile | | | | | | updates (PUT | | | | | | or PATCH). If | | | | | | the proposed | | | | | | heartbeat | | | | | | time is | | | | | | acceptable by | | | | | | the NRF based | | | | | | on the local | | | | | | c | | | | | | onfiguration, | | | | | | it shall use | | | | | | the same | | | | | | value as in | | | | | | the | | | | | | registration | | | | | | request; | | | | | | otherwise the | | | | | | NRF shall | | | | | | override the | | | | | | value using a | | | | | | preconfigured | | | | | | value. | +---------------+---------------+---+-------------+---------------+ | plmnList | array(PlmnId) | C | 1..N | PLMN(s) of | | | | | | the Network | | | | | | Function | | | | | | (NOTE 7). | | | | | | | | | | | | This IE shall | | | | | | be present if | | | | | | this | | | | | | information | | | | | | is available | | | | | | for the NF. | | | | | | | | | | | | If neither | | | | | | the plmnList | | | | | | IE nor the | | | | | | snpnList IE | | | | | | are provided, | | | | | | PLMN ID(s) of | | | | | | the PLMN of | | | | | | the NRF are | | | | | | assumed for | | | | | | the NF. | +---------------+---------------+---+-------------+---------------+ | snpnList | arr | C | 1..N | SNPN(s) of | | | ay(PlmnIdNid) | | | the Network | | | | | | Function. | | | | | | | | | | | | This IE shall | | | | | | be present if | | | | | | the NF | | | | | | pertains to | | | | | | one or more | | | | | | SNPNs. | +---------------+---------------+---+-------------+---------------+ | sNssais | arr | O | 1..N | S-NSSAIs of | | | ay(ExtSnssai) | | | the Network | | | | | | Function. | | | | | | | | | | | | If not | | | | | | provided, and | | | | | | if the | | | | | | perP | | | | | | lmnSnssaiList | | | | | | attribute is | | | | | | not present, | | | | | | the NF can | | | | | | serve any | | | | | | S-NSSAI. | | | | | | | | | | | | When present | | | | | | this IE | | | | | | represents | | | | | | the list of | | | | | | S-NSSAIs | | | | | | supported in | | | | | | all the PLMNs | | | | | | listed in the | | | | | | plmnList IE. | | | | | | | | | | | | If the | | | | | | sNSSAIs | | | | | | attribute is | | | | | | provided in | | | | | | at least one | | | | | | NF Service, | | | | | | the S-NSSAIs | | | | | | supported by | | | | | | the NF | | | | | | Profile shall | | | | | | be the set or | | | | | | a superset of | | | | | | the S-NSSAIs | | | | | | of the | | | | | | NFService(s). | +---------------+---------------+---+-------------+---------------+ | perP | arra | O | 1..N | This IE may | | lmnSnssaiList | y(PlmnSnssai) | | | be included | | | | | | when the list | | | | | | of S-NSSAIs | | | | | | supported by | | | | | | the NF for | | | | | | each PLMN it | | | | | | is supporting | | | | | | is different. | | | | | | When present, | | | | | | this IE shall | | | | | | include the | | | | | | S-NSSAIs | | | | | | supported by | | | | | | the Network | | | | | | Function for | | | | | | each PLMN | | | | | | supported by | | | | | | the Network | | | | | | Function. | | | | | | When present, | | | | | | this IE shall | | | | | | override | | | | | | sNssais IE. | | | | | | (NOTE 9) | | | | | | | | | | | | If the | | | | | | perP | | | | | | lmnSnssaiList | | | | | | attribute is | | | | | | provided in | | | | | | at least one | | | | | | NF Service, | | | | | | the S-NSSAIs | | | | | | supported per | | | | | | PLMN in the | | | | | | NF Profile | | | | | | shall be the | | | | | | set or a | | | | | | superset of | | | | | | the | | | | | | perP | | | | | | lmnSnssaiList | | | | | | of the | | | | | | NFService(s). | +---------------+---------------+---+-------------+---------------+ | nsiList | array(string) | O | 1..N | NSI | | | | | | identities of | | | | | | the Network | | | | | | Function. | | | | | | | | | | | | If not | | | | | | provided, the | | | | | | NF can serve | | | | | | any NSI. | +---------------+---------------+---+-------------+---------------+ | fqdn | Fqdn | C | 0..1 | FQDN of the | | | | | | Network | | | | | | Function | | | | | | (NOTE 1) | | | | | | (NOTE 2) | | | | | | (NOTE 18). | | | | | | For AMF, the | | | | | | FQDN | | | | | | registered | | | | | | with the NRF | | | | | | shall be that | | | | | | of the AMF | | | | | | Name (see | | | | | | 3GPP TS | | | | | | 23.003 [12] | | | | | | clause | | | | | | 28.3.2.5). | +---------------+---------------+---+-------------+---------------+ | interPlmnFqdn | Fqdn | C | 0..1 | If the NF | | | | | | needs to be | | | | | | discoverable | | | | | | by other NFs | | | | | | in a | | | | | | different | | | | | | PLMN, then an | | | | | | FQDN that is | | | | | | used for | | | | | | inter-PLMN | | | | | | routing as | | | | | | specified in | | | | | | 3GPP TS | | | | | | 23.003 [12] | | | | | | shall be | | | | | | registered | | | | | | with the NRF | | | | | | (NOTE 8). | | | | | | | | | | | | A change of | | | | | | this | | | | | | attribute | | | | | | shall result | | | | | | in triggering | | | | | | a | | | | | | \"NF_PROFI | | | | | | LE_CHANGED\" | | | | | | notification | | | | | | from NRF | | | | | | towards | | | | | | subscribing | | | | | | NFs located | | | | | | in the same | | | | | | or a | | | | | | different | | | | | | PLMN, but in | | | | | | the latter | | | | | | case the new | | | | | | value shall | | | | | | be notified | | | | | | as a change | | | | | | of the | | | | | | \"fqdn\" | | | | | | attribute. | | | | | | | | | | | | The NRF shall | | | | | | not send | | | | | | intra-PLMN | | | | | | notifications | | | | | | containing | | | | | | this | | | | | | attribute to | | | | | | subscribing | | | | | | NFs not | | | | | | supporting | | | | | | the | | | | | | \"Inte | | | | | | r-Plmn-Fqdn\" | | | | | | feature (see | | | | | | c | | | | | | lause 6.1.9). | +---------------+---------------+---+-------------+---------------+ | ipv4Addresses | ar | C | 1..N | IPv4 | | | ray(Ipv4Addr) | | | address(es) | | | | | | of the | | | | | | Network | | | | | | Function | | | | | | (NOTE 1) | | | | | | (NOTE 2) | | | | | | (NOTE 18) | +---------------+---------------+---+-------------+---------------+ | ipv6Addresses | ar | C | 1..N | IPv6 | | | ray(Ipv6Addr) | | | address(es) | | | | | | of the | | | | | | Network | | | | | | Function | | | | | | (NOTE 1) | | | | | | (NOTE 2) | | | | | | (NOTE 18) | +---------------+---------------+---+-------------+---------------+ | allowedPlmns | array(PlmnId) | O | 1..N | PLMNs allowed | | | | | | to access the | | | | | | NF instance. | | | | | | | | | | | | If not | | | | | | provided, any | | | | | | PLMN is | | | | | | allowed to | | | | | | access the | | | | | | NF. | | | | | | | | | | | | This | | | | | | attribute | | | | | | shall not be | | | | | | included in | | | | | | profile | | | | | | change | | | | | | notifications | | | | | | to subscribed | | | | | | NFs, unless | | | | | | the | | | | | | subscribing | | | | | | entity | | | | | | explicitly | | | | | | requested so, | | | | | | in the | | | | | | \"com | | | | | | pleteProfileS | | | | | | ubscription\" | | | | | | attribute in | | | | | | the | | | | | | subscription | | | | | | request | | | | | | message, and | | | | | | the NRF | | | | | | authorized | | | | | | such a | | | | | | request (see | | | | | | clau | | | | | | ses 5.2.2.6.2 | | | | | | and | | | | | | 6.1.6.2.17). | | | | | | (NOTE 17) | +---------------+---------------+---+-------------+---------------+ | allowedSnpns | arr | O | 1..N | SNPNs allowed | | | ay(PlmnIdNid) | | | to access the | | | | | | NF instance. | | | | | | | | | | | | If this | | | | | | attribute is | | | | | | present in | | | | | | the NFService | | | | | | and in the NF | | | | | | profile, the | | | | | | attribute | | | | | | from the | | | | | | NFService | | | | | | shall | | | | | | prevail. | | | | | | | | | | | | The absence | | | | | | of this | | | | | | attribute in | | | | | | both the | | | | | | NFService and | | | | | | in the NF | | | | | | profile | | | | | | indicates | | | | | | that no SNPN, | | | | | | other than | | | | | | the SNPN(s) | | | | | | registered in | | | | | | the snpnList | | | | | | attribute of | | | | | | the NF | | | | | | Profile (if | | | | | | the NF | | | | | | pertains to | | | | | | an SNPN), is | | | | | | allowed to | | | | | | access the | | | | | | service | | | | | | instance. | | | | | | | | | | | | This | | | | | | attribute | | | | | | shall not be | | | | | | included in | | | | | | profile | | | | | | change | | | | | | notifications | | | | | | to subscribed | | | | | | NFs, unless | | | | | | the | | | | | | subscribing | | | | | | entity | | | | | | explicitly | | | | | | requested so, | | | | | | in the | | | | | | \"com | | | | | | pleteProfileS | | | | | | ubscription\" | | | | | | attribute in | | | | | | the | | | | | | subscription | | | | | | request | | | | | | message, and | | | | | | the NRF | | | | | | authorized | | | | | | such a | | | | | | request (see | | | | | | clau | | | | | | ses 5.2.2.6.2 | | | | | | and | | | | | | 6.1.6.2.17). | | | | | | (NOTE 17) | +---------------+---------------+---+-------------+---------------+ | a | array(NFType) | O | 1..N | Type of the | | llowedNfTypes | | | | NFs allowed | | | | | | to access the | | | | | | NF instance. | | | | | | | | | | | | If not | | | | | | provided, any | | | | | | NF type is | | | | | | allowed to | | | | | | access the | | | | | | NF. | | | | | | | | | | | | This | | | | | | attribute | | | | | | shall not be | | | | | | included in | | | | | | profile | | | | | | change | | | | | | notifications | | | | | | to subscribed | | | | | | NFs, unless | | | | | | the | | | | | | subscribing | | | | | | entity | | | | | | explicitly | | | | | | requested so, | | | | | | in the | | | | | | \"com | | | | | | pleteProfileS | | | | | | ubscription\" | | | | | | attribute in | | | | | | the | | | | | | subscription | | | | | | request | | | | | | message, and | | | | | | the NRF | | | | | | authorized | | | | | | such a | | | | | | request (see | | | | | | clau | | | | | | ses 5.2.2.6.2 | | | | | | and | | | | | | 6.1.6.2.17). | | | | | | (NOTE 17) | +---------------+---------------+---+-------------+---------------+ | all | array(string) | O | 1..N | Pattern | | owedNfDomains | | | | (regular | | | | | | expression | | | | | | according to | | | | | | the ECMA-262 | | | | | | dialect | | | | | | [8]) | | | | | | representing | | | | | | the NF domain | | | | | | names within | | | | | | the PLMN of | | | | | | the NRF | | | | | | allowed to | | | | | | access the NF | | | | | | instance. | | | | | | | | | | | | If not | | | | | | provided, any | | | | | | NF domain is | | | | | | allowed to | | | | | | access the | | | | | | NF. | | | | | | | | | | | | This | | | | | | attribute | | | | | | shall not be | | | | | | included in | | | | | | profile | | | | | | change | | | | | | notifications | | | | | | to subscribed | | | | | | NFs, unless | | | | | | the | | | | | | subscribing | | | | | | entity | | | | | | explicitly | | | | | | requested so, | | | | | | in the | | | | | | \"com | | | | | | pleteProfileS | | | | | | ubscription\" | | | | | | attribute in | | | | | | the | | | | | | subscription | | | | | | request | | | | | | message, and | | | | | | the NRF | | | | | | authorized | | | | | | such a | | | | | | request (see | | | | | | clau | | | | | | ses 5.2.2.6.2 | | | | | | and | | | | | | 6.1.6.2.17). | | | | | | (NOTE 17) | +---------------+---------------+---+-------------+---------------+ | allowedNssais | arr | O | 1..N | S-NSSAI of | | | ay(ExtSnssai) | | | the allowed | | | | | | slices to | | | | | | access the NF | | | | | | instance. | | | | | | | | | | | | If not | | | | | | provided, any | | | | | | slice is | | | | | | allowed to | | | | | | access the | | | | | | NF. | | | | | | | | | | | | This | | | | | | attribute | | | | | | shall not be | | | | | | included in | | | | | | profile | | | | | | change | | | | | | notifications | | | | | | to subscribed | | | | | | NFs, unless | | | | | | the | | | | | | subscribing | | | | | | entity | | | | | | explicitly | | | | | | requested so, | | | | | | in the | | | | | | \"com | | | | | | pleteProfileS | | | | | | ubscription\" | | | | | | attribute in | | | | | | the | | | | | | subscription | | | | | | request | | | | | | message, and | | | | | | the NRF | | | | | | authorized | | | | | | such a | | | | | | request (see | | | | | | clau | | | | | | ses 5.2.2.6.2 | | | | | | and | | | | | | 6.1.6.2.17). | | | | | | (NOTE 17) | +---------------+---------------+---+-------------+---------------+ | a | map(RuleSet) | O | 1..N | Map of rules | | llowedRuleSet | | | | specifying | | | | | | NF-Consumers | | | | | | allowed or | | | | | | denied to | | | | | | access the | | | | | | NF-Producer. | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | | | | | | | | | | | | This IE may | | | | | | be present | | | | | | when the | | | | | | NF-Producer | | | | | | and the NRF | | | | | | support | | | | | | Al | | | | | | lowed-ruleset | | | | | | feature as | | | | | | specified in | | | | | | clause 6.1.9. | | | | | | | | | | | | When NRF | | | | | | utilizes this | | | | | | parameter to | | | | | | determine if | | | | | | the | | | | | | NF-Consumers | | | | | | allowed or | | | | | | denied to | | | | | | access an | | | | | | NF-Producer, | | | | | | it matches | | | | | | the | | | | | | N | | | | | | F-Consumer\'s | | | | | | properties | | | | | | (PLMN, SNPN, | | | | | | nfType, | | | | | | NfDomain, | | | | | | S-NSSAIs) | | | | | | against each | | | | | | rule in | | | | | | decreasing | | | | | | order of | | | | | | priority (1 | | | | | | being the | | | | | | highest). | | | | | | When a | | | | | | matching rule | | | | | | is found, the | | | | | | search is | | | | | | stopped and | | | | | | the | | | | | | NF-Consumer | | | | | | is | | | | | | allowe | | | | | | d/dis-allowed | | | | | | to access the | | | | | | NF-Producer | | | | | | (see Annex | | | | | | C). | | | | | | | | | | | | This | | | | | | attribute | | | | | | shall not be | | | | | | included in | | | | | | profile | | | | | | change | | | | | | notifications | | | | | | to subscribed | | | | | | NFs. | | | | | | | | | | | | If the | | | | | | subscribing | | | | | | entity | | | | | | included | | | | | | \"com | | | | | | pleteProfileS | | | | | | ubscription\" | | | | | | attribute in | | | | | | the | | | | | | subscription | | | | | | request | | | | | | message, and | | | | | | the NRF | | | | | | authorized | | | | | | such a | | | | | | request (see | | | | | | clau | | | | | | ses 5.2.2.6.2 | | | | | | and | | | | | | 6.1.6.2.17), | | | | | | the complete | | | | | | IE shall be | | | | | | present in | | | | | | the profile | | | | | | change | | | | | | notification | | | | | | (NOTE 17) | +---------------+---------------+---+-------------+---------------+ | priority | integer | O | 0..1 | Priority | | | | | | (relative to | | | | | | other NFs of | | | | | | the same | | | | | | type) within | | | | | | the range 0 | | | | | | to 65535, to | | | | | | be used for | | | | | | NF selection; | | | | | | lower values | | | | | | indicate a | | | | | | higher | | | | | | priority. | | | | | | Priority may | | | | | | or may not be | | | | | | present in | | | | | | the | | | | | | nfServiceList | | | | | | parameters, | | | | | | xxxInfo | | | | | | parameters | | | | | | and in this | | | | | | attribute. | | | | | | Priority in | | | | | | the | | | | | | nfServiceList | | | | | | has | | | | | | precedence | | | | | | over the | | | | | | priority in | | | | | | this | | | | | | attribute | | | | | | (NOTE 4). | | | | | | | | | | | | Priority in | | | | | | xxxInfo | | | | | | parameter | | | | | | shall only be | | | | | | used to | | | | | | determine the | | | | | | relative | | | | | | priority | | | | | | among NF | | | | | | instances | | | | | | with the same | | | | | | priority at | | | | | | NFProfi | | | | | | le/NFService. | | | | | | | | | | | | The NRF may | | | | | | overwrite the | | | | | | received | | | | | | priority | | | | | | value when | | | | | | exposing an | | | | | | NFProfile | | | | | | with the | | | | | | Nnrf | | | | | | _NFDiscovery | | | | | | service. | +---------------+---------------+---+-------------+---------------+ | capacity | integer | O | 0..1 | Static | | | | | | capacity | | | | | | information | | | | | | within the | | | | | | range 0 to | | | | | | 65535, | | | | | | expressed as | | | | | | a weight | | | | | | relative to | | | | | | other NF | | | | | | instances of | | | | | | the same | | | | | | type; if | | | | | | capacity is | | | | | | also present | | | | | | in the | | | | | | nfServiceList | | | | | | parameters, | | | | | | those will | | | | | | have | | | | | | precedence | | | | | | over this | | | | | | value. | | | | | | (NOTE 4). | +---------------+---------------+---+-------------+---------------+ | load | integer | O | 0..1 | Dynamic load | | | | | | information, | | | | | | within the | | | | | | range 0 to | | | | | | 100, | | | | | | indicates the | | | | | | current load | | | | | | percentage of | | | | | | the NF. | +---------------+---------------+---+-------------+---------------+ | loadTimeStamp | DateTime | O | 0..1 | It indicates | | | | | | the point in | | | | | | time in which | | | | | | the latest | | | | | | load | | | | | | information | | | | | | (sent by the | | | | | | NF in the | | | | | | \"load\" | | | | | | attribute of | | | | | | the NF | | | | | | Profile) was | | | | | | generated at | | | | | | the NF | | | | | | Instance. | | | | | | | | | | | | If the NF did | | | | | | not provide a | | | | | | timestamp, | | | | | | the NRF | | | | | | should set it | | | | | | to the | | | | | | instant when | | | | | | the NRF | | | | | | received the | | | | | | message where | | | | | | the NF | | | | | | provided the | | | | | | latest load | | | | | | information. | +---------------+---------------+---+-------------+---------------+ | locality | string | O | 0..1 | Operator | | | | | | defined | | | | | | information | | | | | | about the | | | | | | location of | | | | | | the NF | | | | | | instance | | | | | | (e.g. | | | | | | geographic | | | | | | location, | | | | | | data center) | | | | | | (NOTE 3) | +---------------+---------------+---+-------------+---------------+ | extLocality | map(string) | O | 1..N | Operator | | | | | | defined | | | | | | information | | | | | | about the | | | | | | location of | | | | | | the NF | | | | | | instance. | | | | | | (NOTE 3) | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters, | | | | | | representing | | | | | | a type of | | | | | | locality as | | | | | | defined in | | | | | | claus | | | | | | e 6.1.6.3.18. | | | | | | | | | | | | Example: | | | | | | | | | | | | { | | | | | | | | | | | | \"DA | | | | | | TA_CENTER\": | | | | | | \"dc-123\", | | | | | | | | | | | | \"CITY\": | | | | | | \"Los | | | | | | Angeles\", | | | | | | | | | | | | \"STATE\": | | | | | | \ | | | | | | "California\" | | | | | | | | | | | | } | +---------------+---------------+---+-------------+---------------+ | udrInfo | UdrInfo | O | 0..1 | Specific data | | | | | | for the UDR | | | | | | (ranges of | | | | | | SUPI, group | | | | | | ID ...) | +---------------+---------------+---+-------------+---------------+ | udrInfoList | map(UdrInfo) | O | 1..N | Multiple | | | | | | entries of | | | | | | UdrInfo. This | | | | | | attribute | | | | | | provides | | | | | | additional | | | | | | information | | | | | | to the | | | | | | udrInfo. | | | | | | udrInfoList | | | | | | may be | | | | | | present even | | | | | | if the | | | | | | udrInfo is | | | | | | absent. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | udmInfo | UdmInfo | O | 0..1 | Specific data | | | | | | for the UDM | | | | | | (ranges of | | | | | | SUPI, group | | | | | | ID...) | +---------------+---------------+---+-------------+---------------+ | udmInfoList | map(UdmInfo) | O | 1..N | Multiple | | | | | | entries of | | | | | | UdmInfo. This | | | | | | attribute | | | | | | provides | | | | | | additional | | | | | | information | | | | | | to the | | | | | | udmInfo. | | | | | | udmInfoList | | | | | | may be | | | | | | present even | | | | | | if the | | | | | | udmInfo is | | | | | | absent. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | ausfInfo | AusfInfo | O | 0..1 | Specific data | | | | | | for the AUSF | | | | | | (ranges of | | | | | | SUPI, group | | | | | | ID...) | +---------------+---------------+---+-------------+---------------+ | ausfInfoList | map(AusfInfo) | O | 1..N | Multiple | | | | | | entries of | | | | | | AusfInfo. | | | | | | This | | | | | | attribute | | | | | | provides | | | | | | additional | | | | | | information | | | | | | to the | | | | | | ausfInfo. | | | | | | ausfInfoList | | | | | | may be | | | | | | present even | | | | | | if the | | | | | | ausfInfo is | | | | | | absent. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | amfInfo | AmfInfo | O | 0..1 | Specific data | | | | | | for the AMF | | | | | | (AMF Set ID, | | | | | | ...) | +---------------+---------------+---+-------------+---------------+ | amfInfoList | map(AmfInfo) | O | 1..N | Multiple | | | | | | entries of | | | | | | AmfInfo. This | | | | | | attribute | | | | | | provides | | | | | | additional | | | | | | information | | | | | | to the | | | | | | amfInfo. | | | | | | amfInfoList | | | | | | may be | | | | | | present even | | | | | | if the | | | | | | amfInfo is | | | | | | absent. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | smfInfo | SmfInfo | O | 0..1 | Specific data | | | | | | for the SMF | | | | | | (DNN\'s, | | | | | | ...). | | | | | | | | | | | | (NOTE 12) | +---------------+---------------+---+-------------+---------------+ | smfInfoList | map(SmfInfo) | O | 1..N | Multiple | | | | | | entries of | | | | | | SmfInfo. This | | | | | | attribute | | | | | | provides | | | | | | additional | | | | | | information | | | | | | to the | | | | | | smfInfo. | | | | | | smfInfoList | | | | | | may be | | | | | | present even | | | | | | if the | | | | | | smfInfo is | | | | | | absent. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | | | | | | | | | | | | (NOTE 12) | +---------------+---------------+---+-------------+---------------+ | upfInfo | UpfInfo | O | 0..1 | Specific data | | | | | | for the UPF | | | | | | (S-NSSAI, | | | | | | DNN, SMF | | | | | | serving area, | | | | | | interface...) | +---------------+---------------+---+-------------+---------------+ | upfInfoList | map(UpfInfo) | O | 1..N | Multiple | | | | | | entries of | | | | | | UpfInfo. This | | | | | | attribute | | | | | | provides | | | | | | additional | | | | | | information | | | | | | to the | | | | | | upfInfo. | | | | | | upfInfoList | | | | | | may be | | | | | | present even | | | | | | if the | | | | | | upfInfo is | | | | | | absent. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | pcfInfo | PcfInfo | O | 0..1 | Specific data | | | | | | for the PCF. | +---------------+---------------+---+-------------+---------------+ | pcfInfoList | map(PcfInfo) | O | 1..N | Multiple | | | | | | entries of | | | | | | PcfInfo. This | | | | | | attribute | | | | | | provides | | | | | | additional | | | | | | information | | | | | | to the | | | | | | pcfInfo. | | | | | | pcfInfoList | | | | | | may be | | | | | | present even | | | | | | if the | | | | | | pcfInfo is | | | | | | absent. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | bsfInfo | BsfInfo | O | 0..1 | Specific data | | | | | | for the BSF. | +---------------+---------------+---+-------------+---------------+ | bsfInfoList | map(BsfInfo) | O | 1..N | Multiple | | | | | | entries of | | | | | | BsfInfo. This | | | | | | attribute | | | | | | provides | | | | | | additional | | | | | | information | | | | | | to the | | | | | | bsfInfo. | | | | | | bsfInfoList | | | | | | may be | | | | | | present even | | | | | | if the | | | | | | bsfInfo is | | | | | | absent. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | chfInfo | ChfInfo | O | 0..1 | Specific data | | | | | | for the CHF. | +---------------+---------------+---+-------------+---------------+ | chfInfoList | map(ChfInfo) | O | 1..N | Multiple | | | | | | entries of | | | | | | ChfInfo. This | | | | | | attribute | | | | | | provides | | | | | | additional | | | | | | information | | | | | | to the | | | | | | chfInfo. | | | | | | chfInfoList | | | | | | may be | | | | | | present even | | | | | | if the | | | | | | chfInfo is | | | | | | absent. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | nefInfo | NefInfo | O | 0..1 | Specific data | | | | | | for the NEF. | +---------------+---------------+---+-------------+---------------+ | nrfInfo | NrfInfo | O | 0..1 | Specific data | | | | | | for the NRF. | +---------------+---------------+---+-------------+---------------+ | udsfInfo | UdsfInfo | O | 0..1 | Specific data | | | | | | for the UDSF. | +---------------+---------------+---+-------------+---------------+ | udsfInfoList | map(UdsfInfo) | O | 1..N | Multiple | | | | | | entries of | | | | | | udsfInfo. | | | | | | This | | | | | | attribute | | | | | | provides | | | | | | additional | | | | | | information | | | | | | to the | | | | | | udsfInfo. | | | | | | udsfInfoList | | | | | | may be | | | | | | present even | | | | | | if the | | | | | | udsfInfo is | | | | | | absent. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | nwdafInfo | NwdafInfo | O | 0..1 | Specific data | | | | | | for the | | | | | | NWDAF. | +---------------+---------------+---+-------------+---------------+ | nwdafInfoList | m | O | 1..N | Multiple | | | ap(NwdafInfo) | | | entries of | | | | | | nwdafInfo. | | | | | | This | | | | | | attribute | | | | | | provides | | | | | | additional | | | | | | information | | | | | | to the | | | | | | nwdafInfo. | | | | | | nwdafInfoList | | | | | | may be | | | | | | present even | | | | | | if the | | | | | | nwdafInfo is | | | | | | absent. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | pcscfInfoList | m | O | 1..N | Specific data | | | ap(PcscfInfo) | | | for the | | | | | | P-CSCF. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | | | | | | | | | | | | (NOTE 11) | +---------------+---------------+---+-------------+---------------+ | hssInfoList | map(HssInfo) | O | 1..N | Specific data | | | | | | for the HSS. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | customInfo | object | O | 0..1 | Specific data | | | | | | for custom | | | | | | Network | | | | | | Functions | +---------------+---------------+---+-------------+---------------+ | recoveryTime | DateTime | O | 0..1 | Timestamp | | | | | | when the NF | | | | | | was | | | | | | (re)started | | | | | | (NOTE 5) | | | | | | (NOTE 6) | +---------------+---------------+---+-------------+---------------+ | nfServi | boolean | O | 0..1 | - true: If | | cePersistence | | | | present, and | | | | | | set to true, | | | | | | it indicates | | | | | | that the | | | | | | different | | | | | | service | | | | | | instances of | | | | | | a same NF | | | | | | Service in | | | | | | this NF | | | | | | instance, | | | | | | supporting a | | | | | | same API | | | | | | version, are | | | | | | capable to | | | | | | persist their | | | | | | resource | | | | | | state in | | | | | | shared | | | | | | storage and | | | | | | therefore | | | | | | these | | | | | | resources are | | | | | | available | | | | | | after a new | | | | | | NF service | | | | | | instance | | | | | | supporting | | | | | | the same API | | | | | | version is | | | | | | selected by a | | | | | | NF Service | | | | | | Consumer (see | | | | | | 3GPP TS 23 | | | | | | .527 [27]). | | | | | | | | | | | | - false | | | | | | (default): | | | | | | Otherwise, it | | | | | | indicates | | | | | | that the NF | | | | | | Service | | | | | | Instances of | | | | | | a same NF | | | | | | Service are | | | | | | not capable | | | | | | to share | | | | | | resource | | | | | | state inside | | | | | | the NF | | | | | | Instance. | +---------------+---------------+---+-------------+---------------+ | nfServices | arr | O | 1..N | List of NF | | | ay(NFService) | | | Service | | | | | | Instances. It | | | | | | shall include | | | | | | the services | | | | | | produced by | | | | | | the NF that | | | | | | can be | | | | | | discovered by | | | | | | other NFs, if | | | | | | any. | | | | | | (NOTE 15) | | | | | | | | | | | | This | | | | | | attribute is | | | | | | deprecated; | | | | | | the attribute | | | | | | \"nf | | | | | | ServiceList\" | | | | | | should be | | | | | | used instead. | +---------------+---------------+---+-------------+---------------+ | nfServiceList | m | O | 1..N | Map of NF | | | ap(NFService) | | | Service | | | | | | Instances, | | | | | | where the | | | | | | \"servic | | | | | | eInstanceId\" | | | | | | attribute of | | | | | | the NFService | | | | | | object shall | | | | | | be used as | | | | | | the key of | | | | | | the map. | | | | | | (NOTE 15) | | | | | | | | | | | | It shall | | | | | | include the | | | | | | services | | | | | | produced by | | | | | | the NF that | | | | | | can be | | | | | | discovered by | | | | | | other NFs, if | | | | | | any. | +---------------+---------------+---+-------------+---------------+ | nfProfileChan | boolean | O | 0..1 | NF Profile | | gesSupportInd | | | | Changes | | | | | | Support | | | | | | Indicator. | | | | | | | | | | | | See Annex B. | | | | | | | | | | | | This IE may | | | | | | be present in | | | | | | the | | | | | | NFRegister or | | | | | | NFUpdate (NF | | | | | | Profile | | | | | | Complete | | | | | | Replacement) | | | | | | request and | | | | | | shall be | | | | | | absent in the | | | | | | response. | | | | | | | | | | | | true: the NF | | | | | | Service | | | | | | Consumer | | | | | | supports | | | | | | receiving NF | | | | | | Profile | | | | | | Changes in | | | | | | the response. | | | | | | | | | | | | false | | | | | | (default): | | | | | | the NF | | | | | | Service | | | | | | Consumer does | | | | | | not support | | | | | | receiving NF | | | | | | Profile | | | | | | Changes in | | | | | | the response. | | | | | | | | | | | | Write-Only: | | | | | | true | +---------------+---------------+---+-------------+---------------+ | nfProfilePart | boolean | O | 0..1 | NF Profile | | ialUpdateChan | | | | Partial | | gesSupportInd | | | | Update | | | | | | Changes | | | | | | Support | | | | | | Indicator. | | | | | | | | | | | | See Annex B. | | | | | | | | | | | | This IE may | | | | | | be present in | | | | | | the | | | | | | NFRegister or | | | | | | NFUpdate | | | | | | request and | | | | | | shall be | | | | | | absent in the | | | | | | response. | | | | | | | | | | | | true: the NF | | | | | | Service | | | | | | Consumer | | | | | | supports | | | | | | receiving NF | | | | | | Profile | | | | | | Changes in | | | | | | the response | | | | | | to an NF | | | | | | Profile | | | | | | Partial | | | | | | Update | | | | | | operation. | | | | | | | | | | | | false | | | | | | (default): | | | | | | the NF | | | | | | Service | | | | | | Consumer does | | | | | | not support | | | | | | receiving NF | | | | | | Profile | | | | | | Changes in | | | | | | the response | | | | | | to an NF | | | | | | Profile | | | | | | Partial | | | | | | Update | | | | | | operation. | | | | | | | | | | | | Write-Only: | | | | | | true | +---------------+---------------+---+-------------+---------------+ | nfProf | boolean | O | 0..1 | NF Profile | | ileChangesInd | | | | Changes | | | | | | Indicator. | | | | | | | | | | | | See Annex B. | | | | | | | | | | | | This IE shall | | | | | | be absent in | | | | | | the request | | | | | | to the NRF | | | | | | and may be | | | | | | included by | | | | | | the NRF in | | | | | | NFRegister or | | | | | | NFUpdate | | | | | | response. | | | | | | | | | | | | true: the NF | | | | | | Profile | | | | | | contains NF | | | | | | Profile | | | | | | changes. | | | | | | | | | | | | false | | | | | | (default): | | | | | | complete NF | | | | | | Profile. | | | | | | | | | | | | Read-Only: | | | | | | true | +---------------+---------------+---+-------------+---------------+ | defaul | array(Defaul | O | 1..N | Notification | | tNotification | tNotification | | | endpoints for | | Subscriptions | Subscription) | | | different | | | | | | notification | | | | | | types. | | | | | | | | | | | | (NOTE 10) | +---------------+---------------+---+-------------+---------------+ | lmfInfo | LmfInfo | O | 0..1 | Specific data | | | | | | for the LMF. | +---------------+---------------+---+-------------+---------------+ | gmlcInfo | GmlcInfo | O | 0..1 | Specific data | | | | | | for the GMLC. | +---------------+---------------+---+-------------+---------------+ | nfSetIdList | a | C | 1..N | NF Set ID | | | rray(NfSetId) | | | defined in | | | | | | clause 28.12 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 3.003 [12]. | | | | | | | | | | | | At most one | | | | | | NF Set ID | | | | | | shall be | | | | | | indicated per | | | | | | PLMN-ID or | | | | | | SNPN of the | | | | | | NF. At most | | | | | | one | | | | | | combination | | | | | | of an AMF | | | | | | region and an | | | | | | AMF Set ID | | | | | | shall be | | | | | | indicated per | | | | | | PLMN-ID or | | | | | | SNPN in an | | | | | | AMF profile. | | | | | | | | | | | | This | | | | | | information | | | | | | shall be | | | | | | present if | | | | | | available. | | | | | | | | | | | | (NOTE 22) | | | | | | (NOTE 23) | +---------------+---------------+---+-------------+---------------+ | servingScope | array(string) | O | 1..N | The served | | | | | | area(s) of | | | | | | the NF | | | | | | instance. | | | | | | | | | | | | The absence | | | | | | of this | | | | | | attribute | | | | | | does not | | | | | | imply that | | | | | | the NF | | | | | | instance can | | | | | | serve every | | | | | | area in the | | | | | | PLMN. | | | | | | | | | | | | (NOTE 13) | +---------------+---------------+---+-------------+---------------+ | lcHSupportInd | boolean | O | 0..1 | This IE | | | | | | indicates | | | | | | whether the | | | | | | NF supports | | | | | | Load Control | | | | | | based on LCI | | | | | | Header (see | | | | | | clause 6.3 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | - true: the | | | | | | NF supports | | | | | | the feature. | | | | | | | | | | | | - false | | | | | | (default): | | | | | | the NF does | | | | | | not support | | | | | | the feature. | +---------------+---------------+---+-------------+---------------+ | o | boolean | O | 0..1 | This IE | | lcHSupportInd | | | | indicates | | | | | | whether the | | | | | | NF supports | | | | | | Overload | | | | | | Control based | | | | | | on OCI Header | | | | | | (see clause | | | | | | 6.4 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | - true: the | | | | | | NF supports | | | | | | the feature. | | | | | | | | | | | | - false | | | | | | (default): | | | | | | the NF does | | | | | | not support | | | | | | the feature. | +---------------+---------------+---+-------------+---------------+ | nfSetRec | map(DateTime) | O | 1..N | Map of | | overyTimeList | | | | recovery | | | | | | time, where | | | | | | the key of | | | | | | the map is | | | | | | the _NfSetId_ | | | | | | of NF Set(s) | | | | | | that the NF | | | | | | instance | | | | | | belongs to. | | | | | | | | | | | | When present, | | | | | | the value of | | | | | | each entry of | | | | | | the map shall | | | | | | be the | | | | | | recovery time | | | | | | of the NF Set | | | | | | indicated by | | | | | | the key. | +---------------+---------------+---+-------------+---------------+ | serviceSetRec | map(DateTime) | O | 1..N | Map of | | overyTimeList | | | | recovery | | | | | | time, where | | | | | | the key of | | | | | | the map is | | | | | | the | | | | | | _Nf | | | | | | ServiceSetId_ | | | | | | of the NF | | | | | | Service | | | | | | Set(s) | | | | | | configured in | | | | | | the NF | | | | | | instance. | | | | | | | | | | | | When present, | | | | | | the value of | | | | | | each entry of | | | | | | the map shall | | | | | | be the | | | | | | recovery time | | | | | | of the NF | | | | | | Service Set | | | | | | indicated by | | | | | | the key. | +---------------+---------------+---+-------------+---------------+ | scpDomains | array(string) | O | 1..N | When present, | | | | | | this IE shall | | | | | | carry the | | | | | | list of SCP | | | | | | domains the | | | | | | SCP belongs | | | | | | to, or the | | | | | | SCP domain | | | | | | the NF (other | | | | | | than SCP) or | | | | | | the SEPP | | | | | | belongs to. | | | | | | | | | | | | (NOTE 14) | +---------------+---------------+---+-------------+---------------+ | scpInfo | ScpInfo | O | 0..1 | Specific data | | | | | | for the SCP. | +---------------+---------------+---+-------------+---------------+ | seppInfo | SeppInfo | O | 0..1 | Specific data | | | | | | for the SEPP. | +---------------+---------------+---+-------------+---------------+ | vendorId | VendorId | O | 0..1 | Vendor ID of | | | | | | the NF | | | | | | instance, | | | | | | according to | | | | | | the | | | | | | IANA-assigned | | | | | | \"SMI Network | | | | | | Management | | | | | | Private | | | | | | Enterprise | | | | | | Co | | | | | | des\" [38]. | +---------------+---------------+---+-------------+---------------+ | suppo | map(arr | O | 1..N(1..M) | Map of | | rtedVendorSpe | ay(VendorSpec | | | Ve | | cificFeatures | ificFeature)) | | | ndor-Specific | | | | | | features, | | | | | | where the key | | | | | | of the map is | | | | | | the | | | | | | IANA-assigned | | | | | | \"SMI Network | | | | | | Management | | | | | | Private | | | | | | Enterprise | | | | | | Co | | | | | | des\" [38]. | | | | | | The string | | | | | | used as key | | | | | | of the map | | | | | | shall contain | | | | | | 6 decimal | | | | | | digits; if | | | | | | the SMI code | | | | | | has less than | | | | | | 6 digits, it | | | | | | shall be | | | | | | padded with | | | | | | leading | | | | | | digits \"0\" | | | | | | to complete a | | | | | | 6-digit | | | | | | string value. | | | | | | | | | | | | The value of | | | | | | each entry of | | | | | | the map shall | | | | | | be a list | | | | | | (array) of | | | | | | VendorSp | | | | | | ecificFeature | | | | | | objects. | | | | | | | | | | | | (NOTE 19) | +---------------+---------------+---+-------------+---------------+ | aanfInfoList | map(AanfInfo) | O | 1..N | Multiple | | | | | | entries of | | | | | | AanfInfo. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | 5gDdnmfInfo | 5GDdnmfInfo | O | 0..1 | Specific data | | | | | | for the 5G | | | | | | DDNMF (5G | | | | | | DDNMF ID, | | | | | | ...) | +---------------+---------------+---+-------------+---------------+ | mfafInfo | MfafInfo | O | 0..1 | Specific data | | | | | | for the MFAF | +---------------+---------------+---+-------------+---------------+ | easdfInfoList | m | O | 1..N | EASDF | | | ap(EasdfInfo) | | | specific | | | | | | data. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | | | | | | | | | | | | (NOTE 20) | +---------------+---------------+---+-------------+---------------+ | dccfInfo | DccfInfo | O | 0..1 | Specific data | | | | | | for the DCCF. | +---------------+---------------+---+-------------+---------------+ | nsacfInfoList | m | O | 1..N | Specific data | | | ap(NsacfInfo) | | | for the | | | | | | NSACF. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | mbSmfInfoList | m | O | 1..N | MB-SMF | | | ap(MbSmfInfo) | | | specific | | | | | | data. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | t | ma | O | 1..N | Specific data | | sctsfInfoList | p(TsctsfInfo) | | | for the | | | | | | TSCTSF. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | mbUpfInfoList | m | O | 1..N | MB-UPF | | | ap(MbUpfInfo) | | | specific | | | | | | data. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | trustAfInfo | TrustAfInfo | O | 0..1 | Specific data | | | | | | for the | | | | | | trusted AF. | +---------------+---------------+---+-------------+---------------+ | nssaafInfo | NssaafInfo | O | 0..1 | Specific data | | | | | | for the | | | | | | NSSAAF. | +---------------+---------------+---+-------------+---------------+ | hniList | arrary(Fqdn) | C | 1..N | Id | | | | | | entifications | | | | | | of | | | | | | Credentials | | | | | | Holder or | | | | | | Default | | | | | | Credentials | | | | | | Server. | | | | | | | | | | | | This IE shall | | | | | | be present if | | | | | | the NFs are | | | | | | available for | | | | | | the case of | | | | | | access to an | | | | | | SNPN using | | | | | | credentials | | | | | | owned by a | | | | | | Credentials | | | | | | Holder or for | | | | | | the case of | | | | | | SNPN | | | | | | Onboarding | | | | | | using a DCS. | +---------------+---------------+---+-------------+---------------+ | iwmscInfo | IwmscInfo | O | 0..1 | Specific data | | | | | | for the | | | | | | SMS-IWMSC. | +---------------+---------------+---+-------------+---------------+ | mnpfInfo | MnpfInfo | O | 0..1 | Specific data | | | | | | for the MNPF. | +---------------+---------------+---+-------------+---------------+ | smsfInfo | SmsfInfo | O | 0..1 | Specific data | | | | | | for the SMSF. | +---------------+---------------+---+-------------+---------------+ | dcsfInfoList | map(DcsfInfo) | O | 1..N | Specific data | | | | | | for the DCSF. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC 8259 | | | | | | [22], with | | | | | | a maximum of | | | | | | 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | mrfInfoList | map(MrfInfo) | O | 1..N | Specific data | | | | | | for the MRF. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC 8259 | | | | | | [22], with | | | | | | a maximum of | | | | | | 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | mrfpInfoList | map(MrfpInfo) | O | 1..N | Specific data | | | | | | for the MRFP. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC 8259 | | | | | | [22], with | | | | | | a maximum of | | | | | | 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | mfInfoList | map(MfInfo) | O | 1..N | Specific data | | | | | | for the MF. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC 8259 | | | | | | [22], with | | | | | | a maximum of | | | | | | 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | adrfInfoList | map(AdrfInfo) | O | 1..N | Specific data | | | | | | for the ADRF. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | select | Select | O | 0..1 | This IE is | | ionConditions | ionConditions | | | only | | | | | | applicable if | | | | | | the NFStatus | | | | | | is set to | | | | | | \"CANAR | | | | | | Y_RELEASE\". | | | | | | | | | | | | If present, | | | | | | it includes | | | | | | the | | | | | | conditions | | | | | | under which | | | | | | an NF | | | | | | Instance with | | | | | | an NFStatus | | | | | | value set to | | | | | | \"CANA | | | | | | RY_RELEASE\" | | | | | | shall be | | | | | | selected by | | | | | | an NF Service | | | | | | Consumer | | | | | | (e.g. if the | | | | | | UE belongs to | | | | | | a range of | | | | | | SUPIs) | +---------------+---------------+---+-------------+---------------+ | NOTE 1: At | | | | | | least one of | | | | | | the | | | | | | addressing | | | | | | parameters | | | | | | (fqdn, | | | | | | ipv4address | | | | | | or | | | | | | ipv6adress) | | | | | | shall be | | | | | | included in | | | | | | the NF | | | | | | Profile. If | | | | | | the NF | | | | | | supports the | | | | | | NF services | | | | | | with | | | | | | \"https\" URI | | | | | | scheme (i.e | | | | | | use of TLS is | | | | | | mandatory), | | | | | | then the FQDN | | | | | | shall be | | | | | | provided in | | | | | | the NF | | | | | | Profile or | | | | | | the NF | | | | | | Service | | | | | | profile (see | | | | | | clau | | | | | | se 6.1.6.2.3) | | | | | | and it shall | | | | | | be used to | | | | | | construct the | | | | | | target URI | | | | | | (unless | | | | | | overriden by | | | | | | a | | | | | | NFSer | | | | | | vice-specific | | | | | | FQDN). See | | | | | | NOTE 1 of | | | | | | Tabl | | | | | | e 6.1.6.2.3-1 | | | | | | for the use | | | | | | of these | | | | | | parameters. | | | | | | If multiple | | | | | | ipv4 | | | | | | addresses | | | | | | and/or ipv6 | | | | | | addresses are | | | | | | included in | | | | | | the NF | | | | | | Profile, the | | | | | | NF Service | | | | | | Consumer of | | | | | | the discovery | | | | | | service shall | | | | | | select one of | | | | | | these | | | | | | addresses | | | | | | randomly, | | | | | | unless | | | | | | operator | | | | | | defined local | | | | | | policy of IP | | | | | | address | | | | | | selection, in | | | | | | order to | | | | | | avoid | | | | | | overload for | | | | | | a specific | | | | | | ipv4 address | | | | | | and/or ipv6 | | | | | | address. | | | | | | | | | | | | NOTE 2: If | | | | | | the type of | | | | | | Network | | | | | | Function is | | | | | | UPF, the | | | | | | addressing | | | | | | information | | | | | | is for the | | | | | | UPF N4 | | | | | | interface | | | | | | and, if the | | | | | | UPF registers | | | | | | service | | | | | | instances | | | | | | supporting | | | | | | the UPF Event | | | | | | Exposure | | | | | | service or | | | | | | the | | | | | | Nupf_GetPr | | | | | | ivateUEIPaddr | | | | | | service | | | | | | without | | | | | | registering | | | | | | addressing | | | | | | information | | | | | | at these | | | | | | service | | | | | | instances | | | | | | level, also | | | | | | for accessing | | | | | | the UPF Event | | | | | | Exposure | | | | | | service or | | | | | | the | | | | | | Nupf_GetPr | | | | | | ivateUEIPaddr | | | | | | service at | | | | | | these service | | | | | | instances. If | | | | | | the type of | | | | | | Network | | | | | | Function is | | | | | | MB-UPF, the | | | | | | addressing | | | | | | information | | | | | | is for the | | | | | | MB-UPF N4mb | | | | | | interface. If | | | | | | the type of | | | | | | Network | | | | | | Function is a | | | | | | P-CSCF and if | | | | | | no Gm FQDN or | | | | | | IP addresses | | | | | | are | | | | | | registered in | | | | | | the | | | | | | pcscfInfoList | | | | | | attribute, | | | | | | the | | | | | | addressing | | | | | | information | | | | | | is also used | | | | | | for the | | | | | | P-CSCF Gm | | | | | | interface. | | | | | | | | | | | | NOTE 3: A | | | | | | requester NF | | | | | | may use this | | | | | | information | | | | | | to select a | | | | | | NF instance | | | | | | (e.g. a NF | | | | | | instance | | | | | | preferably | | | | | | located in | | | | | | the same data | | | | | | center). | | | | | | | | | | | | NOTE 4: The | | | | | | capacity and | | | | | | priority | | | | | | parameters, | | | | | | if present, | | | | | | are used for | | | | | | NF selection | | | | | | and load | | | | | | balancing. | | | | | | The priority | | | | | | and capacity | | | | | | attributes | | | | | | shall be used | | | | | | for NF | | | | | | selection in | | | | | | the same way | | | | | | that priority | | | | | | and weight | | | | | | are used for | | | | | | server | | | | | | selection as | | | | | | defined in | | | | | | IETF RFC | | | | | | 2782 [23]. | | | | | | | | | | | | NOTE 5: The | | | | | | NRF shall | | | | | | notify NFs | | | | | | subscribed to | | | | | | receiving | | | | | | notifications | | | | | | of changes of | | | | | | the NF | | | | | | profile, if | | | | | | the NF | | | | | | recoveryTime | | | | | | or the | | | | | | nfStatus is | | | | | | changed. See | | | | | | clause 6.2 of | | | | | | 3GPP TS 2 | | | | | | 3.527 [27]. | | | | | | | | | | | | NOTE 6: A | | | | | | requester NF | | | | | | may consider | | | | | | that all the | | | | | | resources | | | | | | created in | | | | | | the NF before | | | | | | the NF | | | | | | recovery time | | | | | | have been | | | | | | lost. This | | | | | | may be used | | | | | | to detect a | | | | | | restart of a | | | | | | NF and to | | | | | | trigger | | | | | | appropriate | | | | | | actions, e.g. | | | | | | release local | | | | | | resources. | | | | | | See clause | | | | | | 6.2 of | | | | | | 3GPP TS 2 | | | | | | 3.527 [27]. | | | | | | | | | | | | NOTE 7: A NF | | | | | | may register | | | | | | multiple PLMN | | | | | | IDs in its | | | | | | profile | | | | | | within a PLMN | | | | | | comprising | | | | | | multiple PLMN | | | | | | IDs. If so, | | | | | | all the | | | | | | attributes of | | | | | | the NF | | | | | | Profile shall | | | | | | apply to each | | | | | | PLMN ID | | | | | | registered in | | | | | | the plmnList. | | | | | | As an | | | | | | exception, | | | | | | attributes | | | | | | including a | | | | | | PLMN ID, e.g. | | | | | | IMSI-based | | | | | | SUPI ranges, | | | | | | TAIs and | | | | | | GUAMIs, are | | | | | | specific to | | | | | | one PLMN ID | | | | | | and the NF | | | | | | may register | | | | | | in its | | | | | | profile | | | | | | multiple | | | | | | occurrences | | | | | | of such | | | | | | attributes | | | | | | for different | | | | | | PLMN IDs | | | | | | (e.g. the UDM | | | | | | may register | | | | | | in its | | | | | | profile SUPI | | | | | | ranges for | | | | | | different | | | | | | PLMN IDs). | | | | | | | | | | | | NOTE 8: Other | | | | | | NFs are in a | | | | | | different | | | | | | PLMN if they | | | | | | belong to | | | | | | none of the | | | | | | PLMN ID(s) | | | | | | configured | | | | | | for the PLMN | | | | | | of the NRF. | | | | | | | | | | | | NOTE 9: This | | | | | | is for the | | | | | | use case | | | | | | where an NF | | | | | | (e.g. AMF) | | | | | | supports | | | | | | multiple | | | | | | PLMNs and the | | | | | | slices | | | | | | supported in | | | | | | each PLMN are | | | | | | different. | | | | | | See | | | | | | c | | | | | | lause 9.2.6.2 | | | | | | of | | | | | | 3GPP TS 3 | | | | | | 8.413 [29]. | | | | | | | | | | | | NOTE 10: For | | | | | | notification | | | | | | types that | | | | | | may be | | | | | | associated | | | | | | with a | | | | | | specifc | | | | | | service of | | | | | | the NF | | | | | | Instance | | | | | | receiving the | | | | | | notification | | | | | | (see clause | | | | | | 6.1.6.3.4), | | | | | | if | | | | | | notification | | | | | | endpoints are | | | | | | present both | | | | | | in the | | | | | | profile of | | | | | | the NF | | | | | | instance | | | | | | (NFProfile) | | | | | | and in some | | | | | | of its NF | | | | | | Services | | | | | | (NFService) | | | | | | for a same | | | | | | notification | | | | | | type, the | | | | | | notification | | | | | | endpoint(s) | | | | | | of the NF | | | | | | Services | | | | | | shall be used | | | | | | for this | | | | | | notification | | | | | | type. The | | | | | | defaul | | | | | | tNotification | | | | | | Subscriptions | | | | | | attribute may | | | | | | contain | | | | | | multiple | | | | | | default | | | | | | subscriptions | | | | | | for a same | | | | | | notification | | | | | | type; in that | | | | | | case, those | | | | | | default | | | | | | subscriptions | | | | | | are used as | | | | | | alternative | | | | | | notification | | | | | | endpoints so, | | | | | | for each | | | | | | notification | | | | | | event that | | | | | | needs to be | | | | | | sent, the NF | | | | | | Service | | | | | | Consumer | | | | | | shall select | | | | | | one of such | | | | | | subscriptions | | | | | | and use it to | | | | | | send the | | | | | | notification. | | | | | | | | | | | | NOTE 11: The | | | | | | absence of | | | | | | the | | | | | | pcscfInfoList | | | | | | attribute in | | | | | | a P-CSCF | | | | | | profile | | | | | | indicates | | | | | | that the | | | | | | P-CSCF can be | | | | | | selected for | | | | | | any DNN and | | | | | | Access Type, | | | | | | and that the | | | | | | P-CSCF Gm | | | | | | addressing | | | | | | information | | | | | | is the same | | | | | | as the | | | | | | addressing | | | | | | information | | | | | | registered in | | | | | | the fqdn, | | | | | | ipv4Addresses | | | | | | and | | | | | | ipv4Addresses | | | | | | attributes of | | | | | | the NF | | | | | | profile. | | | | | | | | | | | | NOTE 12: The | | | | | | absence of | | | | | | both the | | | | | | smfInfo and | | | | | | smfInfoList | | | | | | attributes in | | | | | | an SMF | | | | | | profile | | | | | | indicates | | | | | | that the SMF | | | | | | can be | | | | | | selected for | | | | | | any S-NSSAI | | | | | | listed in the | | | | | | sNssais and | | | | | | perP | | | | | | lmnSnssaiList | | | | | | IEs, or for | | | | | | any S-NSSAI | | | | | | if neither | | | | | | the sNssais | | | | | | IE nor the | | | | | | perP | | | | | | lmnSnssaiList | | | | | | IE are | | | | | | present, and | | | | | | for any DNN, | | | | | | TAI and | | | | | | access type. | | | | | | | | | | | | NOTE 13: The | | | | | | servingScope | | | | | | attribute may | | | | | | indicate | | | | | | geographical | | | | | | areas, It may | | | | | | be used e.g. | | | | | | to discover | | | | | | and select | | | | | | NFs in | | | | | | centralized | | | | | | Data Centers | | | | | | that are | | | | | | expected to | | | | | | serve users | | | | | | located in | | | | | | specific | | | | | | region(s) or | | | | | | province(s). | | | | | | It may also | | | | | | be used to | | | | | | reduce the | | | | | | large | | | | | | configuration | | | | | | of TAIs in | | | | | | the NF | | | | | | instances. | | | | | | | | | | | | NOTE 14: An | | | | | | NF (other | | | | | | than a SCP) | | | | | | can register | | | | | | at most one | | | | | | SCP domain in | | | | | | NF profile, | | | | | | i.e. the NF | | | | | | can belong to | | | | | | only one SCP | | | | | | domain. If an | | | | | | NF (other | | | | | | than a SCP) | | | | | | includes this | | | | | | information | | | | | | in its | | | | | | profile, this | | | | | | indicates | | | | | | that the | | | | | | services | | | | | | produced by | | | | | | this NF | | | | | | should be | | | | | | accessed | | | | | | preferably | | | | | | via an SCP | | | | | | from the SCP | | | | | | domain the NF | | | | | | belongs to. | | | | | | | | | | | | NOTE 15: If | | | | | | the NF | | | | | | Service | | | | | | Consumer that | | | | | | issues an NF | | | | | | profile | | | | | | retrieval | | | | | | request | | | | | | indicates | | | | | | support for | | | | | | the | | | | | | \" | | | | | | Service-Map\" | | | | | | feature, the | | | | | | NRF shall | | | | | | return in the | | | | | | NF profile | | | | | | retrieval | | | | | | response the | | | | | | list of NF | | | | | | Service | | | | | | Instances in | | | | | | the | | | | | | \"nf | | | | | | ServiceList\" | | | | | | map | | | | | | attribute. | | | | | | Otherwise, | | | | | | the NRF shall | | | | | | return the | | | | | | list of NF | | | | | | Service | | | | | | Instances in | | | | | | the | | | | | | \ | | | | | | "nfServices\" | | | | | | array | | | | | | attribute. | | | | | | | | | | | | NOTE 16: The | | | | | | nfStatus also | | | | | | indicate the | | | | | | Status of the | | | | | | NF instance | | | | | | as NF Service | | | | | | Consumer for | | | | | | notification | | | | | | delivery. | | | | | | When a | | | | | | notification | | | | | | is to be | | | | | | delivered to | | | | | | the NF | | | | | | instance and | | | | | | the NF | | | | | | Service | | | | | | Producer (or | | | | | | SCP) has been | | | | | | aware that | | | | | | the NF | | | | | | instance is | | | | | | not operative | | | | | | from the | | | | | | nfStatus in | | | | | | its NF | | | | | | profile, the | | | | | | NF Service | | | | | | producer (or | | | | | | SCP) shall | | | | | | reselect | | | | | | another NF | | | | | | Service | | | | | | Consumer as | | | | | | target if | | | | | | possible, | | | | | | e.g. using | | | | | | binding | | | | | | indication or | | | | | | discovery | | | | | | factors | | | | | | previously | | | | | | provided for | | | | | | the | | | | | | notification. | | | | | | When | | | | | | selecting or | | | | | | reselecting | | | | | | an NF Service | | | | | | Consumer for | | | | | | notification | | | | | | delivery, not | | | | | | operative NF | | | | | | instances | | | | | | shall not be | | | | | | selected as | | | | | | target. | | | | | | | | | | | | NOTE 17: A | | | | | | change of | | | | | | this | | | | | | attribute | | | | | | shall trigger | | | | | | a | | | | | | \"NF_PROFI | | | | | | LE_CHANGED\" | | | | | | notification | | | | | | from NRF, if | | | | | | the change of | | | | | | the NF | | | | | | Profile | | | | | | results in | | | | | | that the NF | | | | | | Instance | | | | | | starts or | | | | | | stops being | | | | | | authorized to | | | | | | be accessed | | | | | | by an NF | | | | | | having | | | | | | subscribed to | | | | | | be notified | | | | | | about NF | | | | | | profile | | | | | | changes. | | | | | | | | | | | | NOTE 18: For | | | | | | API URIs | | | | | | constructed | | | | | | with an FQDN, | | | | | | the NF | | | | | | Service | | | | | | Consumer may | | | | | | use the FQDN | | | | | | of the target | | | | | | URI to do a | | | | | | DNS query and | | | | | | obtain the IP | | | | | | address(es) | | | | | | to setup the | | | | | | TCP | | | | | | connection, | | | | | | and ignore | | | | | | the IP | | | | | | addresses | | | | | | that may be | | | | | | present in | | | | | | the | | | | | | NFProfile; | | | | | | a | | | | | | lternatively, | | | | | | the NF | | | | | | Service | | | | | | Consumer may | | | | | | use those IP | | | | | | addresses to | | | | | | setup the TCP | | | | | | connection, | | | | | | if no | | | | | | ser | | | | | | vice-specific | | | | | | FQDN or IP | | | | | | address is | | | | | | provided in | | | | | | the NFService | | | | | | data and if | | | | | | the NF | | | | | | Service | | | | | | Consumer | | | | | | supports to | | | | | | indicate | | | | | | specific IP | | | | | | address(es) | | | | | | to establish | | | | | | an HTTP/2 | | | | | | connection | | | | | | with an FQDN | | | | | | in the target | | | | | | URI. | | | | | | | | | | | | NOTE 19: When | | | | | | present, this | | | | | | attribute | | | | | | allows an NF | | | | | | requesting NF | | | | | | Discovery | | | | | | (e.g. an NF | | | | | | Service | | | | | | Consumer) to | | | | | | determine | | | | | | which | | | | | | ve | | | | | | ndor-specific | | | | | | extensions | | | | | | are supported | | | | | | in a given NF | | | | | | (e.g. an NF | | | | | | Service | | | | | | Producer), so | | | | | | as to select | | | | | | an | | | | | | appropriate | | | | | | NF with | | | | | | specific | | | | | | capability, | | | | | | or to include | | | | | | or not the | | | | | | ve | | | | | | ndor-specific | | | | | | attributes | | | | | | (see | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | clause 6.6.3) | | | | | | required for | | | | | | a given | | | | | | feature in | | | | | | subsequent | | | | | | messages | | | | | | towards a | | | | | | certain NF. | | | | | | One given | | | | | | ve | | | | | | ndor-specific | | | | | | feature shall | | | | | | not appear in | | | | | | both NF | | | | | | Profile and | | | | | | NF Service | | | | | | Profile. If | | | | | | one | | | | | | ve | | | | | | ndor-specific | | | | | | feature is | | | | | | service | | | | | | related, it | | | | | | shall only be | | | | | | included in | | | | | | the NF | | | | | | Service | | | | | | Profile. | | | | | | | | | | | | NOTE 20: The | | | | | | absence of | | | | | | the | | | | | | easdfInfoList | | | | | | attribute in | | | | | | an EASDF | | | | | | profile | | | | | | indicates | | | | | | that the | | | | | | EASDF can be | | | | | | selected for | | | | | | any S-NSSAI, | | | | | | DNN, DNAI or | | | | | | PSA UPF N6 IP | | | | | | address. | | | | | | | | | | | | NOTE 21: The | | | | | | NF service | | | | | | consumer when | | | | | | invoking NF | | | | | | services | | | | | | offered by | | | | | | collocated NF | | | | | | service | | | | | | producers | | | | | | shall follow | | | | | | the | | | | | | respective | | | | | | service API | | | | | | in the same | | | | | | manner as if | | | | | | they were not | | | | | | collocated | | | | | | with any | | | | | | other NF | | | | | | type. The NF | | | | | | service | | | | | | consumer | | | | | | shall not | | | | | | assume any | | | | | | optimization | | | | | | of signaling | | | | | | between the | | | | | | NF service | | | | | | consumer and | | | | | | the | | | | | | collocated NF | | | | | | service | | | | | | producers. | | | | | | | | | | | | NOTE 22: The | | | | | | nfSetIdList | | | | | | attribute | | | | | | shall be | | | | | | present only | | | | | | if all NF | | | | | | service | | | | | | instance(s) | | | | | | of the NF | | | | | | instance are | | | | | | redundant at | | | | | | NF Set level. | | | | | | I.e. any NF | | | | | | service | | | | | | instance | | | | | | shall be | | | | | | redundant | | | | | | (i.e. | | | | | | functionally | | | | | | equivalent, | | | | | | int | | | | | | er-changeable | | | | | | and sharing | | | | | | contexts) | | | | | | with | | | | | | equivalent | | | | | | service | | | | | | instance(s) | | | | | | of every | | | | | | other NF | | | | | | instance(s) | | | | | | within the | | | | | | indicated NF | | | | | | Set or, if | | | | | | the NF | | | | | | service | | | | | | instance | | | | | | belongs to an | | | | | | NF service | | | | | | set, it shall | | | | | | be redundant | | | | | | with NF | | | | | | service | | | | | | instance(s) | | | | | | in an | | | | | | equivalent NF | | | | | | service set | | | | | | of every | | | | | | other NF | | | | | | instance(s) | | | | | | within the | | | | | | indicated NF | | | | | | set. | | | | | | | | | | | | NOTE 23: The | | | | | | NF Instance | | | | | | shall be | | | | | | removed from | | | | | | an NF set or | | | | | | re-assigned | | | | | | to another NF | | | | | | set ONLY when | | | | | | there is NO | | | | | | ongoing | | | | | | res | | | | | | ource/context | | | | | | associated | | | | | | with the NF | | | | | | instance. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.3 Type: NFService
Table 6.1.6.2.3-1: Definition of type NFService
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | serv | string | M | 1 | Unique ID of | | iceInstanceId | | | | the service | | | | | | instance | | | | | | within a | | | | | | given NF | | | | | | Instance | +---------------+---------------+---+-------------+---------------+ | serviceName | ServiceName | M | 1 | Name of the | | | | | | service | | | | | | instance | | | | | | (e.g. | | | | | | \"nudm-sdm\") | +---------------+---------------+---+-------------+---------------+ | versions | array(NFSe | M | 1..N | The API | | | rviceVersion) | | | versions | | | | | | supported by | | | | | | the NF | | | | | | Service and | | | | | | if available, | | | | | | the | | | | | | corresponding | | | | | | retirement | | | | | | date of the | | | | | | NF Service. | | | | | | | | | | | | The different | | | | | | array | | | | | | elements | | | | | | shall have | | | | | | distinct | | | | | | unique values | | | | | | for | | | | | | \"apiVe | | | | | | rsionInUri\", | | | | | | and | | | | | | consequently, | | | | | | the values of | | | | | | \"api | | | | | | FullVersion\" | | | | | | shall have a | | | | | | unique first | | | | | | digit version | | | | | | number. | +---------------+---------------+---+-------------+---------------+ | scheme | UriScheme | M | 1 | URI scheme | | | | | | (e.g. | | | | | | \"http\", | | | | | | \"https\") | +---------------+---------------+---+-------------+---------------+ | nf | NF | M | 1 | Status of the | | ServiceStatus | ServiceStatus | | | NF Service | | | | | | Instance | | | | | | (NOTE 3) | | | | | | (NOTE 12) | +---------------+---------------+---+-------------+---------------+ | fqdn | Fqdn | O | 0..1 | FQDN of the | | | | | | NF Service | | | | | | Instance | | | | | | (NOTE 1) | | | | | | (NOTE 8) | | | | | | (NOTE 14) | | | | | | | | | | | | The FQDN | | | | | | provided as | | | | | | part of the | | | | | | NFService | | | | | | information | | | | | | has | | | | | | precedence | | | | | | over the FQDN | | | | | | and IP | | | | | | addresses | | | | | | provided as | | | | | | part of the | | | | | | NFProfile | | | | | | information | | | | | | (see | | | | | | claus | | | | | | e 6.1.6.2.2). | +---------------+---------------+---+-------------+---------------+ | interPlmnFqdn | Fqdn | O | 0..1 | If the NF | | | | | | service needs | | | | | | to be | | | | | | discoverable | | | | | | by other NFs | | | | | | in a | | | | | | different | | | | | | PLMN, then an | | | | | | FQDN that is | | | | | | used for | | | | | | inter PLMN | | | | | | routing as | | | | | | specified in | | | | | | 3GPP TS | | | | | | 23.003 [12] | | | | | | may be | | | | | | registered | | | | | | with the NRF | | | | | | (NOTE 1) | | | | | | (NOTE 6). | | | | | | | | | | | | A change of | | | | | | this | | | | | | attribute | | | | | | shall result | | | | | | in triggering | | | | | | a | | | | | | \"NF_PROFI | | | | | | LE_CHANGED\" | | | | | | notification | | | | | | from NRF | | | | | | towards | | | | | | subscribing | | | | | | NFs located | | | | | | in the same | | | | | | or a | | | | | | different | | | | | | PLMN, but in | | | | | | the latter | | | | | | case the new | | | | | | value shall | | | | | | be notified | | | | | | as a change | | | | | | of the | | | | | | \"fqdn\" | | | | | | attribute. | | | | | | | | | | | | The NRF shall | | | | | | not send | | | | | | intra-PLMN | | | | | | notifications | | | | | | containing | | | | | | this | | | | | | attribute to | | | | | | subscribing | | | | | | NFs not | | | | | | supporting | | | | | | the | | | | | | \"Inte | | | | | | r-Plmn-Fqdn\" | | | | | | feature (see | | | | | | c | | | | | | lause 6.1.9). | +---------------+---------------+---+-------------+---------------+ | ipEndPoints | arra | O | 1..N | IP | | | y(IpEndPoint) | | | address(es) | | | | | | and port | | | | | | information | | | | | | of the | | | | | | Network | | | | | | Function | | | | | | (including | | | | | | IPv4 and/or | | | | | | IPv6 address) | | | | | | where the | | | | | | service is | | | | | | listening for | | | | | | incoming | | | | | | service | | | | | | requests | | | | | | (NOTE 1) | | | | | | (NOTE 7) | | | | | | (NOTE 14). | | | | | | | | | | | | IP addresses | | | | | | provided in | | | | | | ipEndPoints | | | | | | have | | | | | | precedence | | | | | | over IP | | | | | | addresses | | | | | | provided as | | | | | | part of the | | | | | | NFProfile | | | | | | information | | | | | | and, when | | | | | | using the | | | | | | HTTP scheme, | | | | | | over FQDN | | | | | | provided as | | | | | | part of the | | | | | | NFProfile | | | | | | information | | | | | | (see | | | | | | claus | | | | | | e 6.1.6.2.2). | +---------------+---------------+---+-------------+---------------+ | apiPrefix | string | O | 0..1 | Optional path | | | | | | segment(s) | | | | | | used to | | | | | | construct the | | | | | | {apiRoot} | | | | | | variable of | | | | | | the different | | | | | | API URIs, as | | | | | | described in | | | | | | 3GPP TS | | | | | | 29.501 [5], | | | | | | clause 4.4.1 | +---------------+---------------+---+-------------+---------------+ | call | string | O | 0..1 | Optional path | | backUriPrefix | | | | segment(s) | | | | | | used to | | | | | | construct the | | | | | | prefix of the | | | | | | Callback URIs | | | | | | during the | | | | | | reselection | | | | | | of an NF | | | | | | service | | | | | | consumer, as | | | | | | described in | | | | | | 3GPP TS | | | | | | 29.501 [5], | | | | | | clause 4.4.3 | +---------------+---------------+---+-------------+---------------+ | defaul | array(Defaul | O | 1..N | Notification | | tNotification | tNotification | | | endpoints for | | Subscriptions | Subscription) | | | different | | | | | | notification | | | | | | types. | | | | | | | | | | | | (See also | | | | | | NOTE 10 in | | | | | | clau | | | | | | se 6.1.6.2.2) | +---------------+---------------+---+-------------+---------------+ | allowedPlmns | array(PlmnId) | O | 1..N | PLMNs allowed | | | | | | to access the | | | | | | service | | | | | | instance | | | | | | (NOTE 5). | | | | | | | | | | | | The absence | | | | | | of this | | | | | | attribute | | | | | | indicates | | | | | | that any PLMN | | | | | | is allowed to | | | | | | access the | | | | | | service | | | | | | instance. | | | | | | | | | | | | When | | | | | | included, the | | | | | | allowedPlmns | | | | | | attribute | | | | | | needs not | | | | | | include the | | | | | | PLMN ID(s) | | | | | | registered in | | | | | | the plmnList | | | | | | attribute of | | | | | | the NF | | | | | | Profile, i.e. | | | | | | the PLMN | | | | | | ID(s) | | | | | | registered in | | | | | | the NF | | | | | | Profile shall | | | | | | be considered | | | | | | to be allowed | | | | | | to access the | | | | | | service | | | | | | instance. | | | | | | | | | | | | This | | | | | | attribute | | | | | | shall not be | | | | | | included in | | | | | | profile | | | | | | change | | | | | | notifications | | | | | | to subscribed | | | | | | NFs, unless | | | | | | the | | | | | | subscribing | | | | | | entity | | | | | | explicitly | | | | | | requested so, | | | | | | in the | | | | | | \"com | | | | | | pleteProfileS | | | | | | ubscription\" | | | | | | attribute in | | | | | | the | | | | | | subscription | | | | | | request | | | | | | message, and | | | | | | the NRF | | | | | | authorized | | | | | | such a | | | | | | request (see | | | | | | clau | | | | | | ses 5.2.2.6.2 | | | | | | and | | | | | | 6.1.6.2.17). | | | | | | (NOTE 13) | +---------------+---------------+---+-------------+---------------+ | allowedSnpns | arr | O | 1..N | SNPNs allowed | | | ay(PlmnIdNid) | | | to access the | | | | | | service | | | | | | instance. | | | | | | | | | | | | If this | | | | | | attribute is | | | | | | present in | | | | | | the NFService | | | | | | and in the NF | | | | | | profile, the | | | | | | attribute | | | | | | from the | | | | | | NFService | | | | | | shall | | | | | | prevail. | | | | | | | | | | | | The absence | | | | | | of this | | | | | | attribute in | | | | | | both the | | | | | | NFService and | | | | | | in the NF | | | | | | profile | | | | | | indicates | | | | | | that no SNPN, | | | | | | other than | | | | | | the SNPN(s) | | | | | | registered in | | | | | | the snpnList | | | | | | attribute of | | | | | | the NF | | | | | | Profile (if | | | | | | the NF | | | | | | pertains to | | | | | | an SNPN), is | | | | | | allowed to | | | | | | access the | | | | | | service | | | | | | instance. | | | | | | | | | | | | When | | | | | | included, the | | | | | | allowedSnpns | | | | | | attribute | | | | | | needs not | | | | | | include the | | | | | | PLMN | | | | | | ID/NID(s) | | | | | | registered in | | | | | | the snpnList | | | | | | attribute of | | | | | | the NF | | | | | | Profile (if | | | | | | the NF | | | | | | pertains to | | | | | | an SNPN), | | | | | | i.e. the | | | | | | SNPNs | | | | | | registered in | | | | | | the NF | | | | | | Profile (if | | | | | | any) shall be | | | | | | considered to | | | | | | be allowed to | | | | | | access the | | | | | | service | | | | | | instance. | | | | | | | | | | | | This | | | | | | attribute | | | | | | shall not be | | | | | | included in | | | | | | profile | | | | | | change | | | | | | notifications | | | | | | to subscribed | | | | | | NFs, unless | | | | | | the | | | | | | subscribing | | | | | | entity | | | | | | explicitly | | | | | | requested so, | | | | | | in the | | | | | | \"com | | | | | | pleteProfileS | | | | | | ubscription\" | | | | | | attribute in | | | | | | the | | | | | | subscription | | | | | | request | | | | | | message, and | | | | | | the NRF | | | | | | authorized | | | | | | such a | | | | | | request (see | | | | | | clau | | | | | | ses 5.2.2.6.2 | | | | | | and | | | | | | 6.1.6.2.17). | | | | | | (NOTE 13) | +---------------+---------------+---+-------------+---------------+ | a | array(NFType) | O | 1..N | Type of the | | llowedNfTypes | | | | NFs allowed | | | | | | to access the | | | | | | service | | | | | | instance | | | | | | (NOTE 5). | | | | | | | | | | | | This | | | | | | attribute | | | | | | shall not be | | | | | | included in | | | | | | profile | | | | | | change | | | | | | notifications | | | | | | to subscribed | | | | | | NFs, unless | | | | | | the | | | | | | subscribing | | | | | | entity | | | | | | explicitly | | | | | | requested so, | | | | | | in the | | | | | | \"com | | | | | | pleteProfileS | | | | | | ubscription\" | | | | | | attribute in | | | | | | the | | | | | | subscription | | | | | | request | | | | | | message, and | | | | | | the NRF | | | | | | authorized | | | | | | such a | | | | | | request (see | | | | | | clau | | | | | | ses 5.2.2.6.2 | | | | | | and | | | | | | 6.1.6.2.17). | | | | | | (NOTE 13) | +---------------+---------------+---+-------------+---------------+ | all | array(string) | O | 1..N | Pattern | | owedNfDomains | | | | (regular | | | | | | expression | | | | | | according to | | | | | | the ECMA-262 | | | | | | dialect | | | | | | [8]) | | | | | | representing | | | | | | the NF domain | | | | | | names within | | | | | | the PLMN of | | | | | | the NRF | | | | | | allowed to | | | | | | access the | | | | | | service | | | | | | instance | | | | | | (NOTE 5). | | | | | | | | | | | | The absence | | | | | | of this | | | | | | attribute | | | | | | indicates | | | | | | that any NF | | | | | | domain is | | | | | | allowed to | | | | | | access the | | | | | | service | | | | | | instance. | | | | | | | | | | | | This | | | | | | attribute | | | | | | shall not be | | | | | | included in | | | | | | profile | | | | | | change | | | | | | notifications | | | | | | to subscribed | | | | | | NFs, unless | | | | | | the | | | | | | subscribing | | | | | | entity | | | | | | explicitly | | | | | | requested so, | | | | | | in the | | | | | | \"com | | | | | | pleteProfileS | | | | | | ubscription\" | | | | | | attribute in | | | | | | the | | | | | | subscription | | | | | | request | | | | | | message, and | | | | | | the NRF | | | | | | authorized | | | | | | such a | | | | | | request (see | | | | | | clau | | | | | | ses 5.2.2.6.2 | | | | | | and | | | | | | 6.1.6.2.17). | | | | | | (NOTE 13) | +---------------+---------------+---+-------------+---------------+ | allowedNssais | arr | O | 1..N | S-NSSAI of | | | ay(ExtSnssai) | | | the allowed | | | | | | slices to | | | | | | access the | | | | | | service | | | | | | instance | | | | | | (NOTE 5). | | | | | | | | | | | | The absence | | | | | | of this | | | | | | attribute | | | | | | indicates | | | | | | that any | | | | | | slice is | | | | | | allowed to | | | | | | access the | | | | | | service | | | | | | instance. | | | | | | | | | | | | This | | | | | | attribute | | | | | | shall not be | | | | | | included in | | | | | | profile | | | | | | change | | | | | | notifications | | | | | | to subscribed | | | | | | NFs, unless | | | | | | the | | | | | | subscribing | | | | | | entity | | | | | | explicitly | | | | | | requested so, | | | | | | in the | | | | | | \"com | | | | | | pleteProfileS | | | | | | ubscription\" | | | | | | attribute in | | | | | | the | | | | | | subscription | | | | | | request | | | | | | message, and | | | | | | the NRF | | | | | | authorized | | | | | | such a | | | | | | request (see | | | | | | clau | | | | | | ses 5.2.2.6.2 | | | | | | and | | | | | | 6.1.6.2.17). | | | | | | (NOTE 13) | +---------------+---------------+---+-------------+---------------+ | allowedOperat | map(a | C | 1..N(1..M) | Map of | | ionsPerNfType | rray(string)) | | | allowed | | | | | | operations on | | | | | | resources for | | | | | | each type of | | | | | | NF; the key | | | | | | of the map is | | | | | | the NF Type, | | | | | | and the value | | | | | | is an array | | | | | | of scopes.\ | | | | | | \ | | | | | | The scopes | | | | | | shall be any | | | | | | of those | | | | | | defined in | | | | | | the API that | | | | | | defines the | | | | | | current | | | | | | service | | | | | | (identified | | | | | | by the | | | | | | \" | | | | | | serviceName\" | | | | | | attribute). | | | | | | | | | | | | In an | | | | | | NFRegister | | | | | | (or NFUpdate) | | | | | | procedure, | | | | | | this IE | | | | | | should be | | | | | | present if | | | | | | the NF | | | | | | service | | | | | | instance | | | | | | supports and | | | | | | is configured | | | | | | to use | | | | | | resou | | | | | | rce/operation | | | | | | specific | | | | | | scope(s) for | | | | | | at least one | | | | | | NF type of NF | | | | | | service | | | | | | consumer. | | | | | | | | | | | | In an | | | | | | N | | | | | | FStatusNotify | | | | | | procedure, | | | | | | this IE | | | | | | should be | | | | | | present, if | | | | | | it is present | | | | | | in the | | | | | | registered NF | | | | | | service | | | | | | instance and | | | | | | if the map | | | | | | contains a | | | | | | key matching | | | | | | the | | | | | | subscriber's | | | | | | NF type. When | | | | | | present, this | | | | | | IE should | | | | | | only contain | | | | | | the key-value | | | | | | pair of the | | | | | | map matching | | | | | | the | | | | | | subscriber\'s | | | | | | NF type. | | | | | | | | | | | | (NOTE 11) | +---------------+---------------+---+-------------+---------------+ | allo | map(a | C | 1..N(1..M) | Map of | | wedOperations | rray(string)) | | | allowed | | PerNfInstance | | | | operations on | | | | | | resources for | | | | | | a given NF | | | | | | Instance; the | | | | | | key of the | | | | | | map is the NF | | | | | | Instance Id, | | | | | | and the value | | | | | | is an array | | | | | | of scopes.\ | | | | | | \ | | | | | | The scopes | | | | | | shall be any | | | | | | of those | | | | | | defined in | | | | | | the API that | | | | | | defines the | | | | | | current | | | | | | service | | | | | | (identified | | | | | | by the | | | | | | \" | | | | | | serviceName\" | | | | | | attribute). | | | | | | | | | | | | In an | | | | | | NFRegister | | | | | | (or NFUpdate) | | | | | | procedure, | | | | | | this IE | | | | | | should be | | | | | | present if | | | | | | the NF | | | | | | service | | | | | | instance | | | | | | supports and | | | | | | is configured | | | | | | to use | | | | | | resou | | | | | | rce/operation | | | | | | specific | | | | | | scope(s) for | | | | | | at least one | | | | | | NF instance | | | | | | of NF service | | | | | | consumer. | | | | | | | | | | | | In an | | | | | | N | | | | | | FStatusNotify | | | | | | procedure, | | | | | | this IE | | | | | | should be | | | | | | present, if | | | | | | it is present | | | | | | in the | | | | | | registered NF | | | | | | service | | | | | | instance and | | | | | | if the map | | | | | | contains a | | | | | | key matching | | | | | | the | | | | | | subscriber's | | | | | | NF Instance | | | | | | ID. When | | | | | | present, this | | | | | | IE should | | | | | | only contain | | | | | | the key-value | | | | | | pair of the | | | | | | map matching | | | | | | the | | | | | | subscriber\'s | | | | | | NF Instance | | | | | | ID. | | | | | | | | | | | | (NOTE 11) | +---------------+---------------+---+-------------+---------------+ | allowedOperat | boolean | O | 0..1 | This IE, when | | ionsPerNfInst | | | | present and | | anceOverrides | | | | set to true, | | | | | | indicates | | | | | | that the | | | | | | scopes | | | | | | defined in | | | | | | attribute | | | | | | \"allowe | | | | | | dOperationsPe | | | | | | rNfInstance\" | | | | | | for a given | | | | | | NF Instance | | | | | | ID take | | | | | | precedence | | | | | | over the | | | | | | scopes | | | | | | defined in | | | | | | attribute | | | | | | \"al | | | | | | lowedOperatio | | | | | | nsPerNfType\" | | | | | | for the | | | | | | corresponding | | | | | | NF type of | | | | | | the NF | | | | | | Instance | | | | | | associated to | | | | | | such NF | | | | | | Instance ID. | | | | | | | | | | | | If the IE is | | | | | | not present, | | | | | | or set to | | | | | | false | | | | | | (default), it | | | | | | indicates | | | | | | that the | | | | | | allowed | | | | | | scopes are | | | | | | any of the | | | | | | scopes | | | | | | present | | | | | | either in | | | | | | \"al | | | | | | lowedOperatio | | | | | | nsPerNfType\" | | | | | | or in | | | | | | \"allowe | | | | | | dOperationsPe | | | | | | rNfInstance\" | | | | | | for the NF | | | | | | Type and NF | | | | | | Instance ID | | | | | | of the NF | | | | | | Service | | | | | | Consumer. | | | | | | | | | | | | (NOTE 11) | +---------------+---------------+---+-------------+---------------+ | allowed | map(RuleSet) | O | 1..N | Map of rules | | ScopesRuleSet | | | | specifying | | | | | | scopes | | | | | | allowed or | | | | | | denied for | | | | | | NF-Consumers. | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | | | | | | | | | | | | This IE may | | | | | | be present | | | | | | when the | | | | | | NF-Producer | | | | | | and the NRF | | | | | | support | | | | | | Al | | | | | | lowed-ruleset | | | | | | feature as | | | | | | specified in | | | | | | Clause 6.1.9. | | | | | | | | | | | | When NRF | | | | | | utilizes this | | | | | | parameter to | | | | | | determine the | | | | | | scopes | | | | | | allowed or | | | | | | denied to an | | | | | | NF-Consumer, | | | | | | it matches | | | | | | the | | | | | | N | | | | | | F-Consumer\'s | | | | | | properties | | | | | | (PLMN, SNPN, | | | | | | nfType, | | | | | | NfDomain, | | | | | | S-NSSAIs, | | | | | | NF-Instance | | | | | | Id) against | | | | | | each rule in | | | | | | decreasing | | | | | | order of | | | | | | priority (1 | | | | | | being the | | | | | | highest). | | | | | | When a | | | | | | matching rule | | | | | | is found, the | | | | | | search is | | | | | | stopped and | | | | | | the scopes | | | | | | associated to | | | | | | matching rule | | | | | | are | | | | | | allowe | | | | | | d/dis-allowed | | | | | | to the | | | | | | NF-Consumer | | | | | | (see Annex | | | | | | C). | | | | | | | | | | | | In an | | | | | | N | | | | | | FStatusNotify | | | | | | procedure, | | | | | | this IE may | | | | | | be present if | | | | | | the | | | | | | subscribing | | | | | | NF supports | | | | | | the | | | | | | Al | | | | | | lowed-ruleset | | | | | | feature as | | | | | | specified in | | | | | | Clause 6.1.9, | | | | | | and should | | | | | | only contain | | | | | | the highest | | | | | | priority | | | | | | RuleSet | | | | | | matching the | | | | | | requester's | | | | | | NF Instance | | | | | | ID, nfType, | | | | | | PLMN-ID, | | | | | | SNPN-ID, | | | | | | NfDomain and | | | | | | S-NSSAI if | | | | | | any. | | | | | | | | | | | | If the | | | | | | subscribing | | | | | | entity | | | | | | included | | | | | | \"com | | | | | | pleteProfileS | | | | | | ubscription\" | | | | | | attribute in | | | | | | the | | | | | | subscription | | | | | | request | | | | | | message, and | | | | | | the NRF | | | | | | authorized | | | | | | such a | | | | | | request (see | | | | | | clau | | | | | | ses 5.2.2.6.2 | | | | | | and | | | | | | 6.1.6.2.17), | | | | | | the complete | | | | | | IE shall be | | | | | | present in | | | | | | the profile | | | | | | change | | | | | | notification | | | | | | (NOTE 13) | +---------------+---------------+---+-------------+---------------+ | priority | integer | O | 0..1 | Priority | | | | | | (relative to | | | | | | other | | | | | | services of | | | | | | the same | | | | | | type) in the | | | | | | range of | | | | | | 0-65535, to | | | | | | be used for | | | | | | NF Service | | | | | | selection; | | | | | | lower values | | | | | | indicate a | | | | | | higher | | | | | | priority. | | | | | | (NOTE 2). | | | | | | | | | | | | The NRF may | | | | | | overwrite the | | | | | | received | | | | | | priority | | | | | | value when | | | | | | exposing an | | | | | | NFProfile | | | | | | with the | | | | | | Nnrf | | | | | | _NFDiscovery | | | | | | service. | +---------------+---------------+---+-------------+---------------+ | capacity | integer | O | 0..1 | Static | | | | | | capacity | | | | | | information | | | | | | in the range | | | | | | of 0-65535, | | | | | | expressed as | | | | | | a weight | | | | | | relative to | | | | | | other | | | | | | services of | | | | | | the same | | | | | | type. | | | | | | (NOTE 2). | +---------------+---------------+---+-------------+---------------+ | load | integer | O | 0..1 | Dynamic load | | | | | | information, | | | | | | ranged from 0 | | | | | | to 100, | | | | | | indicates the | | | | | | current load | | | | | | percentage of | | | | | | the NF | | | | | | Service. | +---------------+---------------+---+-------------+---------------+ | loadTimeStamp | DateTime | O | 0..1 | It indicates | | | | | | the point in | | | | | | time in which | | | | | | the latest | | | | | | load | | | | | | information | | | | | | (sent by the | | | | | | NF in the | | | | | | \"load\" | | | | | | attribute of | | | | | | the NF | | | | | | Service) was | | | | | | generated at | | | | | | the NF | | | | | | Service | | | | | | Instance. | | | | | | | | | | | | If the NF did | | | | | | not provide a | | | | | | timestamp, | | | | | | the NRF | | | | | | should set it | | | | | | to the | | | | | | instant when | | | | | | the NRF | | | | | | received the | | | | | | message where | | | | | | the NF | | | | | | provided the | | | | | | latest load | | | | | | information. | +---------------+---------------+---+-------------+---------------+ | recoveryTime | DateTime | O | 0..1 | Timestamp | | | | | | when the NF | | | | | | service was | | | | | | (re)started | | | | | | (NOTE 3) | | | | | | (NOTE 4) | +---------------+---------------+---+-------------+---------------+ | supp | Supp | O | 0..1 | Supported | | ortedFeatures | ortedFeatures | | | Features of | | | | | | the NF | | | | | | Service | | | | | | instance | +---------------+---------------+---+-------------+---------------+ | nfSer | array(Nf | C | 1..N | NF Service | | viceSetIdList | ServiceSetId) | | | Set ID (see | | | | | | clause 28.13 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 3.003 [12]) | | | | | | | | | | | | At most one | | | | | | NF Service | | | | | | Set ID shall | | | | | | be indicated | | | | | | per PLMN-ID | | | | | | or SNPN of | | | | | | the NF. | | | | | | | | | | | | This | | | | | | information | | | | | | shall be | | | | | | present if | | | | | | available. | | | | | | | | | | | | (NOTE 15) | +---------------+---------------+---+-------------+---------------+ | sNssais | arr | O | 1..N | S-NSSAIs of | | | ay(ExtSnssai) | | | the NF | | | | | | Service. This | | | | | | may be a | | | | | | subset of the | | | | | | S-NSSAIs | | | | | | supported by | | | | | | the NF (see | | | | | | sNssais | | | | | | attribute in | | | | | | NFProfile). | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | represent the | | | | | | list of | | | | | | S-NSSAIs | | | | | | supported by | | | | | | the NF | | | | | | Service in | | | | | | all the PLMNs | | | | | | listed in the | | | | | | plmnList IE | | | | | | and it shall | | | | | | prevail over | | | | | | the list of | | | | | | S-NSSAIs | | | | | | supported by | | | | | | the NF | | | | | | instance. | +---------------+---------------+---+-------------+---------------+ | perP | arra | O | 1..N | S-NSSAIs of | | lmnSnssaiList | y(PlmnSnssai) | | | the NF | | | | | | Service per | | | | | | PLMN. This | | | | | | may be a | | | | | | subset of the | | | | | | S-NSSAIs | | | | | | supported per | | | | | | PLMN by the | | | | | | NF (see | | | | | | perP | | | | | | lmnSnssaiList | | | | | | attribute in | | | | | | NFProfile). | | | | | | | | | | | | This IE may | | | | | | be included | | | | | | when the list | | | | | | of S-NSSAIs | | | | | | supported by | | | | | | the NF | | | | | | Service for | | | | | | each PLMN it | | | | | | is supporting | | | | | | is different. | | | | | | When present, | | | | | | this IE shall | | | | | | include the | | | | | | S-NSSAIs | | | | | | supported by | | | | | | the NF | | | | | | Service for | | | | | | each PLMN and | | | | | | it shall | | | | | | prevail over | | | | | | the list of | | | | | | S-NSSAIs | | | | | | supported per | | | | | | PLMN by the | | | | | | NF instance. | | | | | | When present, | | | | | | this IE shall | | | | | | override the | | | | | | sNssais IE. | | | | | | (NOTE 9) | +---------------+---------------+---+-------------+---------------+ | vendorId | VendorId | O | 0..1 | Vendor ID of | | | | | | the NF | | | | | | Service | | | | | | instance, | | | | | | according to | | | | | | the | | | | | | IANA-assigned | | | | | | \"SMI Network | | | | | | Management | | | | | | Private | | | | | | Enterprise | | | | | | Co | | | | | | des\" [38]. | +---------------+---------------+---+-------------+---------------+ | suppo | map(arr | O | 1..N(1..M) | Map of | | rtedVendorSpe | ay(VendorSpec | | | Ve | | cificFeatures | ificFeature)) | | | ndor-Specific | | | | | | features, | | | | | | where the key | | | | | | of the map is | | | | | | the | | | | | | IANA-assigned | | | | | | \"SMI Network | | | | | | Management | | | | | | Private | | | | | | Enterprise | | | | | | Co | | | | | | des\" [38]. | | | | | | The string | | | | | | used as key | | | | | | of the map | | | | | | shall contain | | | | | | 6 decimal | | | | | | digits; if | | | | | | the SMI code | | | | | | has less than | | | | | | 6 digits, it | | | | | | shall be | | | | | | padded with | | | | | | leading | | | | | | digits \"0\" | | | | | | to complete a | | | | | | 6-digit | | | | | | string value. | | | | | | | | | | | | The value of | | | | | | each entry of | | | | | | the map shall | | | | | | be a list | | | | | | (array) of | | | | | | VendorSp | | | | | | ecificFeature | | | | | | objects. | | | | | | | | | | | | (NOTE 10) | +---------------+---------------+---+-------------+---------------+ | o | boolean | O | 0..1 | It indicates | | auth2Required | | | | whether the | | | | | | NF Service | | | | | | Instance | | | | | | requires | | | | | | Oauth2-based | | | | | | a | | | | | | uthorization. | | | | | | | | | | | | Absence of | | | | | | this IE means | | | | | | that the NF | | | | | | Service | | | | | | Producer has | | | | | | not provided | | | | | | any | | | | | | indication | | | | | | about its | | | | | | usage of | | | | | | Oauth2 for | | | | | | a | | | | | | uthorization. | +---------------+---------------+---+-------------+---------------+ | perPlmn | PlmnOauth2 | O | 0..1 | When present, | | Oauth2ReqList | | | | this IE shall | | | | | | include the | | | | | | Oauth2-based | | | | | | authorization | | | | | | requirement | | | | | | supported by | | | | | | the NF | | | | | | Service | | | | | | Instance per | | | | | | PLMN of the | | | | | | NF Service | | | | | | Consumer. | | | | | | | | | | | | This IE may | | | | | | be included | | | | | | when the | | | | | | Oauth2.0 | | | | | | authorization | | | | | | requirement | | | | | | supported by | | | | | | the NF | | | | | | Service | | | | | | Instance for | | | | | | different | | | | | | PLMN is | | | | | | different. | | | | | | When the | | | | | | requester | | | | | | PLMN Id is | | | | | | available in | | | | | | perPlmn | | | | | | Oauth2ReqList | | | | | | IE, this IE | | | | | | shall | | | | | | override the | | | | | | o | | | | | | auth2Required | | | | | | IE. If the | | | | | | requester | | | | | | PLMN ID is | | | | | | not present | | | | | | in | | | | | | perPlmn | | | | | | Oauth2ReqList | | | | | | IE, then the | | | | | | value of | | | | | | o | | | | | | auth2Required | | | | | | IE shall be | | | | | | applicable if | | | | | | available. | +---------------+---------------+---+-------------+---------------+ | select | Select | O | 0..1 | This IE is | | ionConditions | ionConditions | | | only | | | | | | applicable if | | | | | | the | | | | | | NF | | | | | | ServiceStatus | | | | | | is set to | | | | | | \"CANAR | | | | | | Y_RELEASE\". | | | | | | | | | | | | If present, | | | | | | it includes | | | | | | the | | | | | | conditions | | | | | | under which | | | | | | an NF Service | | | | | | Instance with | | | | | | an | | | | | | NF | | | | | | ServiceStatus | | | | | | value set to | | | | | | \"CANA | | | | | | RY_RELEASE\" | | | | | | shall be | | | | | | selected by | | | | | | an NF Service | | | | | | Consumer | | | | | | (e.g. if the | | | | | | UE belongs to | | | | | | a range of | | | | | | SUPIs) | +---------------+---------------+---+-------------+---------------+ | NOTE 1: The | | | | | | NF Service | | | | | | Consumer will | | | | | | construct the | | | | | | API URIs of | | | | | | the service | | | | | | using:\ | | | | | | - For | | | | | | intra-PLMN | | | | | | signalling: | | | | | | If TLS is | | | | | | used, the | | | | | | FQDN present | | | | | | in the NF | | | | | | Service | | | | | | Profile, if | | | | | | any; | | | | | | otherwise, | | | | | | the FQDN | | | | | | present in | | | | | | the NF | | | | | | Profile. If | | | | | | TLS is not | | | | | | used, the | | | | | | FQDN should | | | | | | be used if | | | | | | the NF | | | | | | Service | | | | | | Consumer uses | | | | | | Indirect | | | | | | Communication | | | | | | via an SCP; | | | | | | the FQDN or | | | | | | the IP | | | | | | address in | | | | | | the | | | | | | ipEndPoints | | | | | | attribute may | | | | | | be used if | | | | | | the NF | | | | | | Service | | | | | | Consumer uses | | | | | | Direct | | | | | | Co | | | | | | mmunication.\ | | | | | | - For | | | | | | inter-PLMN | | | | | | signalling: | | | | | | the | | | | | | interPlmnFqdn | | | | | | present in | | | | | | the NF | | | | | | Service | | | | | | Profile, if | | | | | | any; | | | | | | otherwise, | | | | | | the | | | | | | interPlmnFqdn | | | | | | present in | | | | | | the NF | | | | | | Profile.\ | | | | | | See Table | | | | | | 6.2.6.2.4-1. | | | | | | | | | | | | NOTE 2: The | | | | | | capacity and | | | | | | priority | | | | | | parameters, | | | | | | if present, | | | | | | are used for | | | | | | NF selection | | | | | | and load | | | | | | balancing. | | | | | | The priority | | | | | | and capacity | | | | | | attributes | | | | | | shall be used | | | | | | for NF | | | | | | selection in | | | | | | the same way | | | | | | that priority | | | | | | and weight | | | | | | are used for | | | | | | server | | | | | | selection as | | | | | | defined in | | | | | | IETF RFC | | | | | | 2782 [23]. | | | | | | | | | | | | NOTE 3: The | | | | | | NRF shall | | | | | | notify NFs | | | | | | subscribed to | | | | | | receiving | | | | | | notifications | | | | | | of changes of | | | | | | the NF | | | | | | profile, if | | | | | | the | | | | | | recoveryTime | | | | | | or the | | | | | | nf | | | | | | ServiceStatus | | | | | | is changed. | | | | | | See clause | | | | | | 6.2 of | | | | | | 3GPP TS 2 | | | | | | 3.527 [27]. | | | | | | | | | | | | NOTE 4: A | | | | | | requester NF | | | | | | subscribed to | | | | | | NF status | | | | | | changes may | | | | | | consider that | | | | | | all the | | | | | | resources | | | | | | created in | | | | | | the NF | | | | | | service | | | | | | before the NF | | | | | | service | | | | | | recovery time | | | | | | have been | | | | | | lost. This | | | | | | may be used | | | | | | to detect a | | | | | | restart of a | | | | | | NF service | | | | | | and to | | | | | | trigger | | | | | | appropriate | | | | | | actions, e.g. | | | | | | release local | | | | | | resources. | | | | | | See clause | | | | | | 6.2 of | | | | | | 3GPP TS 2 | | | | | | 3.527 [27]. | | | | | | | | | | | | NOTE 5: If | | | | | | this | | | | | | attribute is | | | | | | present in | | | | | | the NFService | | | | | | and in the NF | | | | | | profile, the | | | | | | attribute | | | | | | from the | | | | | | NFService | | | | | | shall | | | | | | prevail. The | | | | | | absence of | | | | | | this | | | | | | attribute in | | | | | | the NFService | | | | | | and in the | | | | | | NFProfile | | | | | | indicates | | | | | | that there is | | | | | | no | | | | | | corresponding | | | | | | restriction | | | | | | to access the | | | | | | service | | | | | | instance. If | | | | | | this | | | | | | attribute is | | | | | | absent in the | | | | | | NF Service, | | | | | | but it is | | | | | | present in | | | | | | the NF | | | | | | Profile, the | | | | | | attribute | | | | | | from the NF | | | | | | Profile shall | | | | | | be applied. | | | | | | | | | | | | NOTE 6: Other | | | | | | NFs are in a | | | | | | different | | | | | | PLMN if they | | | | | | belong to | | | | | | none of the | | | | | | PLMN ID(s) | | | | | | configured | | | | | | for the PLMN | | | | | | of the NRF. | | | | | | | | | | | | NOTE 7: If | | | | | | multiple ipv4 | | | | | | addresses | | | | | | and/or ipv6 | | | | | | addresses are | | | | | | included in | | | | | | the NF | | | | | | Service, the | | | | | | NF Service | | | | | | Consumer of | | | | | | the discovery | | | | | | service shall | | | | | | select one of | | | | | | these | | | | | | addresses | | | | | | randomly, | | | | | | unless | | | | | | operator | | | | | | defined local | | | | | | policy of IP | | | | | | address | | | | | | selection, in | | | | | | order to | | | | | | avoid | | | | | | overload for | | | | | | a specific | | | | | | ipv4 address | | | | | | and/or ipv6 | | | | | | address. | | | | | | | | | | | | NOTE 8: If | | | | | | the URI | | | | | | scheme | | | | | | registered | | | | | | for the NF | | | | | | service is | | | | | | \"https\" | | | | | | then FQDN | | | | | | shall be | | | | | | provided in | | | | | | the NF | | | | | | Service | | | | | | profile or in | | | | | | NF Profile | | | | | | (see | | | | | | claus | | | | | | e 6.1.6.2.2). | | | | | | | | | | | | NOTE 9: This | | | | | | is for the | | | | | | use case | | | | | | where an NF | | | | | | (e.g. AMF) | | | | | | supports | | | | | | multiple | | | | | | PLMNs and the | | | | | | slices | | | | | | supported in | | | | | | each PLMN are | | | | | | different. | | | | | | See | | | | | | c | | | | | | lause 9.2.6.2 | | | | | | of | | | | | | 3GPP TS 3 | | | | | | 8.413 [29]. | | | | | | | | | | | | NOTE 10: When | | | | | | present, this | | | | | | attribute | | | | | | allows the NF | | | | | | requesting NF | | | | | | discovery | | | | | | (e.g. an NF | | | | | | Service | | | | | | Consumer) to | | | | | | determine | | | | | | which | | | | | | ve | | | | | | ndor-specific | | | | | | extensions | | | | | | are supported | | | | | | in a given NF | | | | | | (e.g. an | | | | | | Service | | | | | | Producer) in | | | | | | order to | | | | | | select an | | | | | | appropriate | | | | | | NF, or to | | | | | | include or | | | | | | not include | | | | | | the | | | | | | ve | | | | | | ndor-specific | | | | | | attributes | | | | | | (see | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | clause 6.6.3) | | | | | | required for | | | | | | a given | | | | | | feature in | | | | | | subsequent | | | | | | service | | | | | | requests | | | | | | towards a | | | | | | certain | | | | | | service | | | | | | instance of | | | | | | the NF | | | | | | Service | | | | | | Producer. One | | | | | | given | | | | | | ve | | | | | | ndor-specific | | | | | | feature shall | | | | | | not appear in | | | | | | both NF | | | | | | Profile and | | | | | | NF Service | | | | | | Profile. If | | | | | | one | | | | | | ve | | | | | | ndor-specific | | | | | | feature is | | | | | | service | | | | | | related, it | | | | | | shall only be | | | | | | included in | | | | | | the NF | | | | | | Service | | | | | | Profile. | | | | | | | | | | | | NOTE 11: | | | | | | These | | | | | | attributes | | | | | | are used in | | | | | | order to | | | | | | determine | | | | | | whether a | | | | | | given | | | | | | resource/op | | | | | | eration-level | | | | | | scope shall | | | | | | be granted to | | | | | | an NF Service | | | | | | Consumer that | | | | | | requested an | | | | | | Oauth2 access | | | | | | token with a | | | | | | specific | | | | | | scope. If | | | | | | attribute | | | | | | \"al | | | | | | lowedOperatio | | | | | | nsPerNfInstan | | | | | | ceOverrides\" | | | | | | is absent, or | | | | | | set to false, | | | | | | the NRF shall | | | | | | only grant | | | | | | such scope in | | | | | | the access | | | | | | token, if the | | | | | | scope is | | | | | | present in | | | | | | either | | | | | | \"all | | | | | | owedOperation | | | | | | sPerNfType\", | | | | | | for the | | | | | | specific NF | | | | | | type of the | | | | | | NF Service | | | | | | Consumer, or | | | | | | in | | | | | | \"allowed | | | | | | OperationsPer | | | | | | NfInstance\", | | | | | | for the | | | | | | specific NF | | | | | | instance ID | | | | | | of the NF | | | | | | Service | | | | | | Consumer. If | | | | | | attribute | | | | | | \"al | | | | | | lowedOperatio | | | | | | nsPerNfInstan | | | | | | ceOverrides\" | | | | | | is present | | | | | | and set to | | | | | | true, the NRF | | | | | | shall grant | | | | | | such scope in | | | | | | the access | | | | | | token, if the | | | | | | scope is | | | | | | included in | | | | | | the | | | | | | \"allowe | | | | | | dOperationsPe | | | | | | rNfInstance\" | | | | | | attribute for | | | | | | the NF | | | | | | Instance ID | | | | | | of the NF | | | | | | Service | | | | | | Consumer. If | | | | | | attribute | | | | | | \"a | | | | | | llowedOperati | | | | | | onPerNfInstan | | | | | | ceOverrides\" | | | | | | is present | | | | | | and set to | | | | | | true, but the | | | | | | NF Instance | | | | | | ID of the NF | | | | | | Service | | | | | | Consumer is | | | | | | not included | | | | | | in attribute | | | | | | \"allowe | | | | | | dOperationPer | | | | | | NfInstance\", | | | | | | the NRF shall | | | | | | grant such | | | | | | scope if it | | | | | | is present in | | | | | | the | | | | | | \"al | | | | | | lowedOperatio | | | | | | nsPerNfType\" | | | | | | for the | | | | | | specific NF | | | | | | type of the | | | | | | NF Service | | | | | | Consumer.\ | | | | | | These | | | | | | attributes | | | | | | need not be | | | | | | registered if | | | | | | the NF | | | | | | service | | | | | | instance only | | | | | | supports (or | | | | | | is configured | | | | | | to only use) | | | | | | the | | | | | | service-level | | | | | | scope for all | | | | | | NF service | | | | | | consumers | | | | | | allowed to | | | | | | access the | | | | | | service. When | | | | | | both these | | | | | | attributes | | | | | | are absent, | | | | | | the NRF | | | | | | should grant | | | | | | access tokens | | | | | | for the | | | | | | service-level | | | | | | scope only.\ | | | | | | When at least | | | | | | one of these | | | | | | IEs is | | | | | | present, | | | | | | these IEs | | | | | | shall | | | | | | indicate all | | | | | | the NF types | | | | | | or NF | | | | | | instances | | | | | | allowed to | | | | | | access the NF | | | | | | service | | | | | | instance, | | | | | | with all the | | | | | | corresponding | | | | | | scopes (i.e. | | | | | | the | | | | | | service-level | | | | | | scope and | | | | | | resou | | | | | | rce/operation | | | | | | specific | | | | | | scopes) | | | | | | allowed for | | | | | | each NF type | | | | | | or NF | | | | | | instance, | | | | | | i.e. any NF | | | | | | type or NF | | | | | | instance not | | | | | | listed in | | | | | | these IEs is | | | | | | disallowed to | | | | | | access the NF | | | | | | service | | | | | | instance. | | | | | | | | | | | | Example: if | | | | | | an NF service | | | | | | instance is | | | | | | configured to | | | | | | enable an NF | | | | | | type X to | | | | | | access all | | | | | | service | | | | | | operations | | | | | | including | | | | | | resour | | | | | | ce/operations | | | | | | defined with | | | | | | resou | | | | | | rce/operation | | | | | | specific | | | | | | scopes and an | | | | | | NF type Y to\ | | | | | | access only | | | | | | the service | | | | | | operations | | | | | | not requiring | | | | | | resou | | | | | | rce/operation | | | | | | specific | | | | | | scopes, the | | | | | | allowedOperat | | | | | | ionsPerNfType | | | | | | IE should be | | | | | | present and | | | | | | set as | | | | | | follows:\ | | | | | | \ | | | | | | a | | | | | | llowedOperati | | | | | | onsPerNfType: | | | | | | {\ | | | | | | X: | | | | | | [\, | | | | | | \, | | | | | | \],\ | | | | | | Y: | | | | | | [\]\ | | | | | | } | | | | | | | | | | | | NOTE 12: The | | | | | | nf | | | | | | ServiceStatus | | | | | | also indicate | | | | | | the Status of | | | | | | the NF | | | | | | service | | | | | | instance as | | | | | | NF Service | | | | | | Consumer for | | | | | | notification | | | | | | delivery. | | | | | | When a | | | | | | notification | | | | | | is to be | | | | | | delivered to | | | | | | the NF | | | | | | service | | | | | | instance and | | | | | | the NF | | | | | | Service | | | | | | Producer (or | | | | | | SCP) has been | | | | | | aware that | | | | | | the NF | | | | | | service | | | | | | instance is | | | | | | not operative | | | | | | from the | | | | | | nf | | | | | | ServiceStatus | | | | | | in the NF | | | | | | profile, the | | | | | | NF Service | | | | | | producer (or | | | | | | SCP) shall | | | | | | reselect | | | | | | another NF | | | | | | Service | | | | | | Consumer as | | | | | | target if | | | | | | possible, | | | | | | e.g. using | | | | | | binding | | | | | | indication or | | | | | | discovery | | | | | | factors | | | | | | previously | | | | | | provided for | | | | | | the | | | | | | notification. | | | | | | When | | | | | | selecting or | | | | | | reselecting | | | | | | an NF Service | | | | | | Consumer for | | | | | | notification | | | | | | delivery, not | | | | | | operative NF | | | | | | (service) | | | | | | instances | | | | | | shall not be | | | | | | selected as | | | | | | target. | | | | | | | | | | | | NOTE 13: A | | | | | | change of | | | | | | this | | | | | | attribute | | | | | | shall trigger | | | | | | a | | | | | | \"NF_PROFI | | | | | | LE_CHANGED\" | | | | | | notification | | | | | | from NRF, if | | | | | | the change of | | | | | | the NF | | | | | | Profile | | | | | | results in | | | | | | that the NF | | | | | | Instance | | | | | | starts or | | | | | | stops being | | | | | | authorized to | | | | | | be accessed | | | | | | by an NF | | | | | | having | | | | | | subscribed to | | | | | | be notified | | | | | | about NF | | | | | | profile | | | | | | changes. | | | | | | | | | | | | NOTE 14: For | | | | | | API URIs | | | | | | constructed | | | | | | with an FQDN, | | | | | | the NF | | | | | | Service | | | | | | Consumer may | | | | | | use the FQDN | | | | | | in the target | | | | | | URI to do a | | | | | | DNS query and | | | | | | obtain the IP | | | | | | address(es) | | | | | | to setup the | | | | | | TCP | | | | | | connection, | | | | | | and ignore | | | | | | the IP | | | | | | addresses | | | | | | that may be | | | | | | present in | | | | | | the | | | | | | ipEndPoints | | | | | | attribute; | | | | | | a | | | | | | lternatively, | | | | | | the NF | | | | | | Service | | | | | | Consumer may | | | | | | use those IP | | | | | | addresses to | | | | | | setup the TCP | | | | | | connection, | | | | | | if the NF | | | | | | Service | | | | | | Consumer | | | | | | supports to | | | | | | indicate | | | | | | specific IP | | | | | | address(es) | | | | | | to establish | | | | | | an HTTP/2 | | | | | | connection | | | | | | with an FQDN | | | | | | in the target | | | | | | URI. | | | | | | | | | | | | NOTE 15: The | | | | | | NF service | | | | | | Instance | | | | | | shall be | | | | | | removed from | | | | | | an NF service | | | | | | set or | | | | | | re-assigned | | | | | | to another NF | | | | | | service set | | | | | | ONLY when | | | | | | there is NO | | | | | | ongoing | | | | | | res | | | | | | ource/context | | | | | | associated | | | | | | with the NF | | | | | | service | | | | | | instance. | | | | | +---------------+---------------+---+-------------+---------------+
Editor\'s note: the definition of the callbackUriPrefix attribute is FFS to
possibly allow registering different prefixes for different types of
notifications.
##### 6.1.6.2.4 Type: DefaultNotificationSubscription
Table 6.1.6.2.4-1: Definition of type DefaultNotificationSubscription
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | not | Not | M | 1 | Type of | | ificationType | ificationType | | | notification | | | | | | for which the | | | | | | corresponding | | | | | | callback URI | | | | | | is provided. | +---------------+---------------+---+-------------+---------------+ | callbackUri | Uri | M | 1 | This | | | | | | attribute | | | | | | contains a | | | | | | default | | | | | | notification | | | | | | endpoint to | | | | | | be used by a | | | | | | NF Service | | | | | | Producer | | | | | | towards an NF | | | | | | Service | | | | | | Consumer that | | | | | | has not | | | | | | registered | | | | | | explicitly a | | | | | | callback URI | | | | | | in the NF | | | | | | Service | | | | | | Producer | | | | | | (e.g. as a | | | | | | result of an | | | | | | implicit | | | | | | s | | | | | | ubscription). | +---------------+---------------+---+-------------+---------------+ | InterPl | Uri | C | 0..1 | This IE shall | | mnCallbackUri | | | | be present | | | | | | when the | | | | | | default | | | | | | notification | | | | | | may be sent | | | | | | by a NF | | | | | | Service | | | | | | Producer in a | | | | | | different | | | | | | PLMN (e.g. | | | | | | the NSSAAF in | | | | | | HPLMN sends a | | | | | | notification | | | | | | to the AMF in | | | | | | VPLMN to | | | | | | re-authorize | | | | | | or revoke a | | | | | | S-NSSAI for a | | | | | | roaming UE) | | | | | | and the | | | | | | callback URI | | | | | | indicated in | | | | | | the | | | | | | callbackUri | | | | | | IE is not | | | | | | supporting | | | | | | inter-PLMN | | | | | | access. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | callback URI | | | | | | to be used by | | | | | | NF Service | | | | | | Producers | | | | | | located in | | | | | | PLMNs that | | | | | | are different | | | | | | from the PLMN | | | | | | of the NF | | | | | | consumer. | +---------------+---------------+---+-------------+---------------+ | n | N | C | 0..1 | If the | | 1MessageClass | 1MessageClass | | | notification | | | | | | type is | | | | | | N1_MESSAGES, | | | | | | this IE shall | | | | | | be present | | | | | | and shall | | | | | | identify the | | | | | | class of N1 | | | | | | messages to | | | | | | be notified. | +---------------+---------------+---+-------------+---------------+ | n2Inf | N2Inf | C | 0..1 | If the | | ormationClass | ormationClass | | | notification | | | | | | type is | | | | | | N2\ | | | | | | _INFORMATION, | | | | | | this IE shall | | | | | | be present | | | | | | and shall | | | | | | identify the | | | | | | class of N2 | | | | | | information | | | | | | to be | | | | | | notified. | +---------------+---------------+---+-------------+---------------+ | versions | array(string) | O | 1..N | API versions | | | | | | (e.g. \"v1\") | | | | | | supported for | | | | | | the default | | | | | | notification | | | | | | type. | | | | | | | | | | | | (NOTE 3) | +---------------+---------------+---+-------------+---------------+ | binding | string | O | 0..1 | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | value of the | | | | | | Binding | | | | | | Indication | | | | | | for the | | | | | | default | | | | | | subscription | | | | | | notification | | | | | | (i.e. the | | | | | | value part of | | | | | | \"3gpp- | | | | | | Sbi-Binding\" | | | | | | header), as | | | | | | specified in | | | | | | clause 6.12.4 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | acc | string | O | 0..1 | Content | | eptedEncoding | | | | encodings | | | | | | that are | | | | | | accepted by a | | | | | | NF Service | | | | | | Consumer when | | | | | | receiving a | | | | | | notification | | | | | | related to a | | | | | | default | | | | | | notification | | | | | | subscription. | | | | | | | | | | | | The value of | | | | | | this | | | | | | attribute | | | | | | shall be | | | | | | formatted as | | | | | | the value of | | | | | | the | | | | | | Ac | | | | | | cept-Encoding | | | | | | header | | | | | | defined in | | | | | | IETF RF | | | | | | C 7231 [40] | | | | | | clause 5.3.4 | | | | | | (e.g. | | | | | | acce | | | | | | ptedEncoding: | | | | | | \"gzip;q=1.0, | | | | | | id | | | | | | entity;q=0.5, | | | | | | *;q=0\") | | | | | | | | | | | | The absence | | | | | | of this IE | | | | | | shall not be | | | | | | interpreted | | | | | | as indicating | | | | | | that no | | | | | | specific | | | | | | encodings | | | | | | isare | | | | | | supported, | | | | | | but the NF | | | | | | Service | | | | | | Consumer did | | | | | | not register | | | | | | the encodings | | | | | | it may | | | | | | support. | +---------------+---------------+---+-------------+---------------+ | supp | Supp | O | 0..1 | When present, | | ortedFeatures | ortedFeatures | | | this | | | | | | attribute | | | | | | shall | | | | | | indicate the | | | | | | features of | | | | | | the service | | | | | | corresponding | | | | | | to the | | | | | | subscribed | | | | | | default | | | | | | notification, | | | | | | which are | | | | | | supported by | | | | | | the NF | | | | | | (Service) | | | | | | instance | | | | | | acting as NF | | | | | | service | | | | | | consumer. | | | | | | (NOTE 2, | | | | | | NOTE 3) | +---------------+---------------+---+-------------+---------------+ | se | map(DefSu | O | 1..N | This IE may | | rviceInfoList | bServiceInfo) | | | be present | | | | | | when the | | | | | | notification | | | | | | request of | | | | | | the | | | | | | notification | | | | | | type may be | | | | | | generated by | | | | | | multiple | | | | | | services, | | | | | | i.e. | | | | | | notifications | | | | | | from | | | | | | different | | | | | | services may | | | | | | be received | | | | | | by the | | | | | | subscription. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | contain a map | | | | | | of service | | | | | | specific | | | | | | information. | | | | | | The name of | | | | | | the | | | | | | corresponding | | | | | | service (as | | | | | | specified in | | | | | | ServiceName | | | | | | data type, | | | | | | see | | | | | | claus | | | | | | e 6.1.6.3.11) | | | | | | is the key of | | | | | | the map and | | | | | | the value of | | | | | | the map is | | | | | | the specific | | | | | | information | | | | | | for the | | | | | | indicated | | | | | | service | | | | | | supported by | | | | | | the NF | | | | | | (Service) | | | | | | instance | | | | | | acting as NF | | | | | | service | | | | | | consumer. | | | | | | | | | | | | For example, | | | | | | when the NF | | | | | | subscribes to | | | | | | default | | | | | | notification | | | | | | of | | | | | | \"LOCATION_N | | | | | | OTIFICATION\" | | | | | | type which | | | | | | may be sent | | | | | | by | | | | | | N | | | | | | amf_Location | | | | | | service and | | | | | | N | | | | | | lmf_Location | | | | | | service, the | | | | | | NF may | | | | | | provide | | | | | | service | | | | | | specific | | | | | | information | | | | | | as below: | | | | | | | | | | | | > { | | | | | | > | | | | | | > | | | | | | \"namf-loc\" | | | | | | > : { | | | | | | > | | | | | | > | | | | | | \"versions\" | | | | | | > : [ \"v1\" | | | | | | > ], | | | | | | > | | | | | | > \"suppor | | | | | | tedFeatures\" | | | | | | > : \"AB\" | | | | | | > | | | | | | > }, | | | | | | > | | | | | | > | | | | | | \"nlmf-loc\" | | | | | | > : { | | | | | | > | | | | | | > | | | | | | \"versions\" | | | | | | > : [ \"v1\" | | | | | | > ], | | | | | | > | | | | | | > \"suppor | | | | | | tedFeatures\" | | | | | | > : \"12\" | | | | | | > | | | | | | > } | | | | | | > | | | | | | > } | | | | | | | | | | | | (NOTE 3, | | | | | | NOTE 4) | +---------------+---------------+---+-------------+---------------+ | call | string | O | 0..1 | Optional path | | backUriPrefix | | | | segment(s) | | | | | | used to | | | | | | construct the | | | | | | prefix of the | | | | | | Callback URIs | | | | | | during the | | | | | | reselection | | | | | | of an NF | | | | | | service | | | | | | consumer, as | | | | | | described in | | | | | | 3GPP TS | | | | | | 29.501 [5], | | | | | | clause 4.4.3 | +---------------+---------------+---+-------------+---------------+ | NOTE 1: The | | | | | | binding | | | | | | indication | | | | | | for default | | | | | | subscription | | | | | | may be used | | | | | | by a NF | | | | | | service | | | | | | producer to | | | | | | reselect an | | | | | | alternative | | | | | | NF service | | | | | | consumer | | | | | | instance, | | | | | | when | | | | | | delivering a | | | | | | notification | | | | | | for a default | | | | | | subscription | | | | | | towards a | | | | | | specific NF | | | | | | consumer but | | | | | | the latter is | | | | | | not | | | | | | reachable. | | | | | | E.g. an AMF | | | | | | notifies | | | | | | corresponding | | | | | | uplink | | | | | | LPP/NRPPa | | | | | | messages via | | | | | | default | | | | | | subscription, | | | | | | to the LMF | | | | | | instance who | | | | | | previously | | | | | | sent downlink | | | | | | LPP/NRPPa | | | | | | message | | | | | | during a | | | | | | location | | | | | | procedure, If | | | | | | the original | | | | | | LMF instance | | | | | | is not | | | | | | reachable, | | | | | | the AMF | | | | | | selects an | | | | | | alternative | | | | | | LMF instance | | | | | | using the | | | | | | binding | | | | | | indication | | | | | | and delivers | | | | | | the | | | | | | notification | | | | | | towards the | | | | | | selected LMF | | | | | | instance. | | | | | | | | | | | | NOTE 2: When | | | | | | sending | | | | | | notifications | | | | | | towards the | | | | | | subscribed NF | | | | | | service | | | | | | consumer, the | | | | | | NF service | | | | | | producer | | | | | | shall | | | | | | generate the | | | | | | default | | | | | | notifications | | | | | | according to | | | | | | the supported | | | | | | features | | | | | | indicated in | | | | | | this | | | | | | attribute, | | | | | | e.g. to | | | | | | include the | | | | | | attributes or | | | | | | enumerated | | | | | | values | | | | | | related to | | | | | | particular | | | | | | features only | | | | | | if the | | | | | | corresponding | | | | | | features are | | | | | | supported, as | | | | | | specified in | | | | | | clause 6.6.2 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | | | | | | | | NOTE 3: When | | | | | | the | | | | | | se | | | | | | rviceInfoList | | | | | | IE is | | | | | | present, the | | | | | | versions IE | | | | | | and the | | | | | | supp | | | | | | ortedFeatures | | | | | | IE shall be | | | | | | absent. | | | | | | | | | | | | NOTE 4: When | | | | | | the | | | | | | se | | | | | | rviceInfoList | | | | | | IE is | | | | | | present, the | | | | | | NF producer | | | | | | shall | | | | | | determine | | | | | | whether the | | | | | | service of | | | | | | the default | | | | | | notification | | | | | | is supported, | | | | | | i.e. whether | | | | | | the service | | | | | | is listed in | | | | | | the map keys. | | | | | | If supported, | | | | | | the NF | | | | | | producer | | | | | | shall | | | | | | generate the | | | | | | default | | | | | | notification | | | | | | according to | | | | | | the specific | | | | | | information | | | | | | of the | | | | | | service, i.e. | | | | | | the | | | | | | corresponding | | | | | | map value. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.5 Type: IpEndPoint
Table 6.1.6.2.5-1: Definition of type IpEndPoint
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | ipv4Address | Ipv4Addr | C | 0..1 | IPv4 address | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | ipv6Address | Ipv6Addr | C | 0..1 | IPv6 address | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | transport | Tran | O | 0..1 | Transport | | | sportProtocol | | | protocol | +---------------+---------------+---+-------------+---------------+ | port | integer | O | 0..1 | Port number | | | | | | (NOTE 2) | | | | | | | | | | | | Minimum: 0 | | | | | | Maximum: | | | | | | 65535 | +---------------+---------------+---+-------------+---------------+ | NOTE 1: At | | | | | | most one | | | | | | occurrence of | | | | | | either | | | | | | ipv4Address | | | | | | or | | | | | | ipv6Address | | | | | | shall be | | | | | | included in | | | | | | this data | | | | | | structure. | | | | | | | | | | | | NOTE 2: If | | | | | | the port | | | | | | number is | | | | | | absent from | | | | | | the | | | | | | ipEndPoints | | | | | | attribute | | | | | | (see | | | | | | claus | | | | | | e 6.1.6.2.3), | | | | | | i.e. there is | | | | | | no \"port\" | | | | | | attribute in | | | | | | any of the | | | | | | IpEndPoints | | | | | | objects of | | | | | | the | | | | | | ipEndPoints | | | | | | array, the NF | | | | | | service | | | | | | consumer | | | | | | shall use the | | | | | | default HTTP | | | | | | port number, | | | | | | i.e. TCP port | | | | | | 80 for | | | | | | \"http\" URIs | | | | | | or TCP port | | | | | | 443 for | | | | | | \"https\" | | | | | | URIs as | | | | | | specified in | | | | | | IETF R | | | | | | FC 7540 [9] | | | | | | when invoking | | | | | | the service. | | | | | | | | | | | | NOTE 3: If | | | | | | the \"port\" | | | | | | attribute is | | | | | | present, but | | | | | | the | | | | | | ipv4Address | | | | | | and | | | | | | ipv6Address | | | | | | attributes | | | | | | are absent, | | | | | | the NF | | | | | | service | | | | | | consumer | | | | | | shall use | | | | | | such port | | | | | | number along | | | | | | with the FQDN | | | | | | or IP address | | | | | | parameters | | | | | | present in | | | | | | the NFService | | | | | | or NFProfile | | | | | | data types to | | | | | | construct the | | | | | | target URI | | | | | | where the NF | | | | | | Service | | | | | | Producer is | | | | | | listening for | | | | | | incoming | | | | | | service | | | | | | requests. | | | | | | | | | | | | NOTE 4: If | | | | | | the \"port\" | | | | | | attribute is | | | | | | present with | | | | | | any | | | | | | ipv4Address | | | | | | and | | | | | | ipv6Address | | | | | | attributes | | | | | | and the HTTP | | | | | | scheme of the | | | | | | service is | | | | | | \"https\", or | | | | | | the | | | | | | inter-PLMN | | | | | | signalling | | | | | | uses the | | | | | | \"http\" | | | | | | scheme, the | | | | | | NF service | | | | | | consumer | | | | | | shall use | | | | | | such port | | | | | | number along | | | | | | with the FQDN | | | | | | parameter | | | | | | present in | | | | | | the NFService | | | | | | or NFProfile | | | | | | data types to | | | | | | construct the | | | | | | target URI | | | | | | where the NF | | | | | | Service | | | | | | Producer is | | | | | | listening for | | | | | | incoming | | | | | | service | | | | | | requests. | | | | | | | | | | | | NOTE 5: If | | | | | | the HTTP | | | | | | scheme of the | | | | | | service (see | | | | | | clau | | | | | | se 6.1.6.2.3) | | | | | | is \"https\" | | | | | | or the | | | | | | inter-PLMN | | | | | | signalling | | | | | | uses the | | | | | | \"http\" | | | | | | scheme, the | | | | | | operator | | | | | | should not | | | | | | configure | | | | | | IpEndPoints | | | | | | having pairs | | | | | | of IP | | | | | | addresses and | | | | | | ports, with | | | | | | different | | | | | | \"port\" | | | | | | values in | | | | | | each entry. | | | | | | This is so | | | | | | because the | | | | | | authority of | | | | | | the target | | | | | | URI shall | | | | | | consist of an | | | | | | FQDN (due to | | | | | | the \"https\" | | | | | | scheme or | | | | | | inter-PLMN | | | | | | signalling), | | | | | | and it is not | | | | | | always | | | | | | possible to | | | | | | ensure which | | | | | | IP address | | | | | | will be used | | | | | | by the HTTP/2 | | | | | | stack after | | | | | | the DNS | | | | | | resolution | | | | | | has been | | | | | | performed. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.6 Type: UdrInfo
Table 6.1.6.2.6-1: Definition of type UdrInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | groupId | NfGroupId | O | 0..1 | Identity of | | | | | | the UDR group | | | | | | that is | | | | | | served by the | | | | | | UDR instance. | | | | | | | | | | | | If not | | | | | | provided, the | | | | | | UDR instance | | | | | | does not | | | | | | pertain to | | | | | | any UDR | | | | | | group. | | | | | | | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | supiRanges | arr | O | 1..N | List of | | | ay(SupiRange) | | | ranges of | | | | | | SUPI\'s whose | | | | | | profile data | | | | | | is available | | | | | | in the UDR | | | | | | instance | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | gpsiRanges | array(I | O | 1..N | List of | | | dentityRange) | | | ranges of | | | | | | GPSIs whose | | | | | | profile data | | | | | | is available | | | | | | in the UDR | | | | | | instance | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | exte | array(I | O | 1..N | List of | | rnalGroupIden | dentityRange) | | | ranges of | | tifiersRanges | | | | external | | | | | | groups whose | | | | | | profile data | | | | | | is available | | | | | | in the UDR | | | | | | instance | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | supp | arr | O | 1..N | List of | | ortedDataSets | ay(DataSetId) | | | supported | | | | | | data sets in | | | | | | the UDR | | | | | | instance. | | | | | | | | | | | | If not | | | | | | provided, the | | | | | | UDR supports | | | | | | all data | | | | | | sets. | +---------------+---------------+---+-------------+---------------+ | share | array(Share | O | 1..N | List of | | dDataIdRanges | dDataIdRange) | | | ranges of | | | | | | Shared Data | | | | | | IDs that | | | | | | identify | | | | | | shared data | | | | | | available in | | | | | | the UDR | | | | | | instance | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | NOTE 1: If | | | | | | none of these | | | | | | parameters | | | | | | are provided, | | | | | | the UDR can | | | | | | serve any | | | | | | external | | | | | | group and any | | | | | | SUPI or GPSI | | | | | | and any | | | | | | SharedData | | | | | | managed by | | | | | | the PLMN of | | | | | | the UDR | | | | | | instance. If | | | | | | \" | | | | | | supiRanges\", | | | | | | \ | | | | | | "gpsiRanges\" | | | | | | and | | | | | | \"extern | | | | | | alGroupIdenti | | | | | | fiersRanges\" | | | | | | attributes | | | | | | are absent, | | | | | | and | | | | | | \"groupId\" | | | | | | is present, | | | | | | the SUPIs / | | | | | | GPSIs / | | | | | | E | | | | | | xternalGroups | | | | | | served by | | | | | | this UDR | | | | | | instance is | | | | | | determined by | | | | | | the NRF (see | | | | | | 3GPP TS | | | | | | 23.501 [2], | | | | | | cla | | | | | | use 6.2.6.2). | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.7 Type: UdmInfo
Table 6.1.6.2.7-1: Definition of type UdmInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | groupId | NfGroupId | O | 0..1 | Identity of | | | | | | the UDM group | | | | | | that is | | | | | | served by the | | | | | | UDM instance. | | | | | | | | | | | | If not | | | | | | provided, the | | | | | | UDM instance | | | | | | does not | | | | | | pertain to | | | | | | any UDM | | | | | | group. | | | | | | | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | supiRanges | arr | O | 1..N | List of | | | ay(SupiRange) | | | ranges of | | | | | | SUPIs whose | | | | | | profile data | | | | | | is available | | | | | | in the UDM | | | | | | instance | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | gpsiRanges | array(I | O | 1..N | List of | | | dentityRange) | | | ranges of | | | | | | GPSIs whose | | | | | | profile data | | | | | | is available | | | | | | in the UDM | | | | | | instance | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | exte | array(I | O | 1..N | List of | | rnalGroupIden | dentityRange) | | | ranges of | | tifiersRanges | | | | external | | | | | | groups whose | | | | | | profile data | | | | | | is available | | | | | | in the UDM | | | | | | instance | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | rout | array(string) | O | 1..N | List of | | ingIndicators | | | | Routing | | | | | | Indicator | | | | | | information | | | | | | that allows | | | | | | to route | | | | | | network | | | | | | signalling | | | | | | with SUCI | | | | | | (see | | | | | | 3GPP TS 2 | | | | | | 3.003 [12]) | | | | | | to the UDM | | | | | | instance. | | | | | | | | | | | | If not | | | | | | provided, the | | | | | | UDM can serve | | | | | | any Routing | | | | | | Indicator. | | | | | | | | | | | | Pattern: | | | | | | \'\^[0 | | | | | | -9]{1,4}\$\' | +---------------+---------------+---+-------------+---------------+ | inte | a | O | 1..N | List of | | rnalGroupIden | rray(Internal | | | ranges of | | tifiersRanges | GroupIdRange) | | | Internal | | | | | | Group | | | | | | Identifiers | | | | | | whose profile | | | | | | data is | | | | | | available in | | | | | | the UDM | | | | | | instance. | | | | | | | | | | | | If not | | | | | | provided, it | | | | | | does not | | | | | | imply that | | | | | | the UDM | | | | | | supports all | | | | | | internal | | | | | | groups. | +---------------+---------------+---+-------------+---------------+ | suciInfos | ar | O | 1..N | List of | | | ray(SuciInfo) | | | SuciInfo. A | | | | | | SUCI that | | | | | | matches this | | | | | | information | | | | | | can be served | | | | | | by the UDM . | | | | | | | | | | | | (NOTE 2, | | | | | | NOTE 3) | | | | | | | | | | | | A SUCI that | | | | | | matches all | | | | | | attributes of | | | | | | at least one | | | | | | entry in this | | | | | | array shall | | | | | | be considered | | | | | | as a match of | | | | | | this | | | | | | information. | +---------------+---------------+---+-------------+---------------+ | NOTE 1: If | | | | | | none of these | | | | | | parameters | | | | | | are provided, | | | | | | the UDM can | | | | | | serve any | | | | | | external | | | | | | group and any | | | | | | SUPI or GPSI | | | | | | managed by | | | | | | the PLMN of | | | | | | the UDM | | | | | | instance. If | | | | | | \" | | | | | | supiRanges\", | | | | | | \ | | | | | | "gpsiRanges\" | | | | | | and | | | | | | \"extern | | | | | | alGroupIdenti | | | | | | fiersRanges\" | | | | | | attributes | | | | | | are absent, | | | | | | and | | | | | | \"groupId\" | | | | | | is present, | | | | | | the SUPIs / | | | | | | GPSIs / | | | | | | E | | | | | | xternalGroups | | | | | | served by | | | | | | this UDM | | | | | | instance is | | | | | | determined by | | | | | | the NRF (see | | | | | | 3GPP TS | | | | | | 23.501 [2], | | | | | | cla | | | | | | use 6.2.6.2). | | | | | | | | | | | | NOTE 2: The | | | | | | combination | | | | | | of SUCI | | | | | | informations, | | | | | | e.g. Routing | | | | | | Indicator and | | | | | | Home Network | | | | | | Public Key | | | | | | Id, may be | | | | | | used as | | | | | | criteria for | | | | | | UDM | | | | | | discovery. In | | | | | | this release, | | | | | | the usage of | | | | | | Home Network | | | | | | Public Key | | | | | | identifier | | | | | | for UDM | | | | | | discovery is | | | | | | limited to | | | | | | the scenario | | | | | | where the UDM | | | | | | NF consumers | | | | | | belong to the | | | | | | same PLMN as | | | | | | UDM. | | | | | | | | | | | | NOTE 3: If | | | | | | the suciInfos | | | | | | attribute is | | | | | | present and | | | | | | contains the | | | | | | routingInds | | | | | | s | | | | | | ub-attribute, | | | | | | then the | | | | | | rout | | | | | | ingIndicators | | | | | | attribute | | | | | | shall also be | | | | | | present. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.8 Type: AusfInfo
Table 6.1.6.2.8-1: Definition of type AusfInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | groupId | NfGroupId | O | 0..1 | Identity of | | | | | | the AUSF | | | | | | group. | | | | | | | | | | | | If not | | | | | | provided, the | | | | | | AUSF instance | | | | | | does not | | | | | | pertain to | | | | | | any AUSF | | | | | | group. | | | | | | | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | supiRanges | arr | O | 1..N | List of | | | ay(SupiRange) | | | ranges of | | | | | | SUPIs that | | | | | | can be served | | | | | | by the AUSF | | | | | | instance. | | | | | | | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | rout | array(string) | O | 1..N | List of | | ingIndicators | | | | Routing | | | | | | Indicator | | | | | | information | | | | | | that allows | | | | | | to route | | | | | | network | | | | | | signalling | | | | | | with SUCI | | | | | | (see | | | | | | 3GPP TS 2 | | | | | | 3.003 [12]) | | | | | | to the AUSF | | | | | | instance. | | | | | | | | | | | | If not | | | | | | provided, the | | | | | | AUSF can | | | | | | serve any | | | | | | Routing | | | | | | Indicator. | | | | | | | | | | | | Pattern: | | | | | | \'\^[0 | | | | | | -9]{1,4}\$\' | +---------------+---------------+---+-------------+---------------+ | suciInfos | ar | O | 1..N | List of | | | ray(SuciInfo) | | | SuciInfo. A | | | | | | SUCI that | | | | | | matches this | | | | | | information | | | | | | can be served | | | | | | by the AUSF. | | | | | | (NOTE 2, | | | | | | NOTE 3) | | | | | | | | | | | | A SUCI that | | | | | | matches all | | | | | | attributes of | | | | | | at least one | | | | | | entry in this | | | | | | array shall | | | | | | be considered | | | | | | as a match of | | | | | | this | | | | | | information. | +---------------+---------------+---+-------------+---------------+ | NOTE 1: If | | | | | | none of these | | | | | | parameters | | | | | | are provided, | | | | | | the AUSF can | | | | | | serve any | | | | | | SUPI managed | | | | | | by the PLMN | | | | | | of the AUSF | | | | | | instance. If | | | | | | \ | | | | | | "supiRanges\" | | | | | | attribute is | | | | | | absent, and | | | | | | \"groupId\" | | | | | | is present, | | | | | | the SUPIs | | | | | | served by | | | | | | this AUSF | | | | | | instance is | | | | | | determined by | | | | | | the NRF (see | | | | | | 3GPP TS | | | | | | 23.501 [2], | | | | | | cla | | | | | | use 6.2.6.2). | | | | | | | | | | | | NOTE 2: The | | | | | | combination | | | | | | of SUCI | | | | | | informations, | | | | | | e.g. Routing | | | | | | Indicator and | | | | | | Home Network | | | | | | Public Key | | | | | | Id, can be | | | | | | used as | | | | | | criteria for | | | | | | AUSF | | | | | | discovery. In | | | | | | this release, | | | | | | the usage of | | | | | | Home Network | | | | | | Public Key | | | | | | identifier | | | | | | for AUSF | | | | | | discovery is | | | | | | limited to | | | | | | the scenario | | | | | | where the | | | | | | AUSF NF | | | | | | consumers | | | | | | belong to the | | | | | | same PLMN as | | | | | | AUSF. | | | | | | | | | | | | NOTE 3: If | | | | | | the suciInfos | | | | | | attribute is | | | | | | present and | | | | | | contains the | | | | | | routingInds | | | | | | s | | | | | | ub-attribute, | | | | | | then the | | | | | | rout | | | | | | ingIndicators | | | | | | attribute | | | | | | shall also be | | | | | | present. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.9 Type: SupiRange
Table 6.1.6.2.9-1: Definition of type SupiRange
+-----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +=================+===========+===+=============+=================+ | start | string | O | 0..1 | First value | | | | | | identifying the | | | | | | start of a SUPI | | | | | | range, to be | | | | | | used when the | | | | | | range of | | | | | | SUPI\'s can be | | | | | | represented as | | | | | | a numeric range | | | | | | (e.g., IMSI | | | | | | ranges). This | | | | | | string shall | | | | | | consist only of | | | | | | digits. | | | | | | | | | | | | Pattern: | | | | | | \ | | | | | | "\^[0-9]+\$\" | +-----------------+-----------+---+-------------+-----------------+ | end | string | O | 0..1 | Last value | | | | | | identifying the | | | | | | end of a SUPI | | | | | | range, to be | | | | | | used when the | | | | | | range of | | | | | | SUPI\'s can be | | | | | | represented as | | | | | | a numeric range | | | | | | (e.g. IMSI | | | | | | ranges). This | | | | | | string shall | | | | | | consist only of | | | | | | digits. | | | | | | | | | | | | Pattern: | | | | | | \ | | | | | | "\^[0-9]+\$\" | +-----------------+-----------+---+-------------+-----------------+ | pattern | string | O | 0..1 | Pattern | | | | | | (regular | | | | | | expression | | | | | | according to | | | | | | the ECMA-262 | | | | | | dialect [8]) | | | | | | representing | | | | | | the set of | | | | | | SUPI\'s | | | | | | belonging to | | | | | | this range. A | | | | | | SUPI value is | | | | | | considered part | | | | | | of the range if | | | | | | and only if the | | | | | | SUPI string | | | | | | fully matches | | | | | | the regular | | | | | | expression. | +-----------------+-----------+---+-------------+-----------------+ | NOTE: Either | | | | | | the start and | | | | | | end attributes, | | | | | | or the pattern | | | | | | attribute, | | | | | | shall be | | | | | | present. | | | | | +-----------------+-----------+---+-------------+-----------------+
EXAMPLE 1: IMSI range. From: 123 45 6789040000 To: 123 45 6789059999 (i.e.,
20,000 IMSI numbers)\ JSON: { \"start\": \"123456789040000\", \"end\":
\"123456789059999\" }
EXAMPLE 2: IMSI range. From: 123 45 6789040000 To: 123 45 6789049999 (i.e.,
10,000 IMSI numbers)\ JSON: { \"pattern\": \"\^imsi-12345678904[0-9]{4}\$\" },
or\ JSON: { \"start\": \"123456789040000\", \"end\": \"123456789049999\" }
EXAMPLE 3: NAI range. \"smartmeter-_{factoryID}_ \@company.com\" where
\"_{factoryID}_ \" can be any string.\ JSON: { \"pattern\": \"\^nai-
smartmeter-.+\@company\\.com\$\" }
##### 6.1.6.2.10 Type: IdentityRange
Table 6.1.6.2.10-1: Definition of type IdentityRange
+-----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +=================+===========+===+=============+=================+ | start | string | O | 0..1 | First value | | | | | | identifying the | | | | | | start of an | | | | | | identity range, | | | | | | to be used when | | | | | | the range of | | | | | | identities can | | | | | | be represented | | | | | | as a numeric | | | | | | range (e.g., | | | | | | MSISDN ranges). | | | | | | This string | | | | | | shall consist | | | | | | only of digits. | | | | | | | | | | | | Pattern: | | | | | | \ | | | | | | "\^[0-9]+\$\" | +-----------------+-----------+---+-------------+-----------------+ | end | string | O | 0..1 | Last value | | | | | | identifying the | | | | | | end of an | | | | | | identity range, | | | | | | to be used when | | | | | | the range of | | | | | | identities can | | | | | | be represented | | | | | | as a numeric | | | | | | range (e.g. | | | | | | MSISDN ranges). | | | | | | This string | | | | | | shall consist | | | | | | only of digits. | | | | | | | | | | | | Pattern: | | | | | | \ | | | | | | "\^[0-9]+\$\" | +-----------------+-----------+---+-------------+-----------------+ | pattern | string | O | 0..1 | Pattern | | | | | | (regular | | | | | | expression | | | | | | according to | | | | | | the ECMA-262 | | | | | | dialect [8]) | | | | | | representing | | | | | | the set of | | | | | | identities | | | | | | belonging to | | | | | | this range. An | | | | | | identity value | | | | | | is considered | | | | | | part of the | | | | | | range if and | | | | | | only if the | | | | | | identity string | | | | | | fully matches | | | | | | the regular | | | | | | expression. | +-----------------+-----------+---+-------------+-----------------+ | NOTE: Either | | | | | | the start and | | | | | | end attributes, | | | | | | or the pattern | | | | | | attribute, | | | | | | shall be | | | | | | present. | | | | | +-----------------+-----------+---+-------------+-----------------+
##### 6.1.6.2.11 Type: AmfInfo
Table 6.1.6.2.11-1: Definition of type AmfInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | amfRegionId | AmfRegionId | M | 1 | AMF region | | | | | | identifier | +---------------+---------------+---+-------------+---------------+ | amfSetId | AmfSetId | M | 1 | AMF set | | | | | | identifier. | +---------------+---------------+---+-------------+---------------+ | guamiList | array(Guami) | M | 1..N | List of | | | | | | supported | | | | | | GUAMIs | +---------------+---------------+---+-------------+---------------+ | taiList | array(Tai) | O | 1..N | The list of | | | | | | TAIs the AMF | | | | | | can serve. It | | | | | | may contain | | | | | | one or more | | | | | | non-3GPP | | | | | | access TAIs. | | | | | | The absence | | | | | | of this | | | | | | attribute and | | | | | | the | | | | | | taiRangeList | | | | | | attribute | | | | | | indicate that | | | | | | the AMF can | | | | | | be selected | | | | | | for any TAI | | | | | | in the | | | | | | serving | | | | | | network. | +---------------+---------------+---+-------------+---------------+ | taiRangeList | ar | O | 1..N | The range of | | | ray(TaiRange) | | | TAIs the AMF | | | | | | can serve. It | | | | | | may contain | | | | | | non-3GPP | | | | | | access TAIs. | | | | | | The absence | | | | | | of this | | | | | | attribute and | | | | | | the taiList | | | | | | attribute | | | | | | indicate that | | | | | | the AMF can | | | | | | be selected | | | | | | for any TAI | | | | | | in the | | | | | | serving | | | | | | network. | +---------------+---------------+---+-------------+---------------+ | backupI | array(Guami) | O | 1..N | List of | | nfoAmfFailure | | | | GUAMIs for | | | | | | which the AMF | | | | | | acts as a | | | | | | backup for | | | | | | AMF failure | +---------------+---------------+---+-------------+---------------+ | backupI | array(Guami) | O | 1..N | List of | | nfoAmfRemoval | | | | GUAMIs for | | | | | | which the AMF | | | | | | acts as a | | | | | | backup for | | | | | | planned AMF | | | | | | removal | +---------------+---------------+---+-------------+---------------+ | n2Int | N2Int | O | 0..1 | N2 interface | | erfaceAmfInfo | erfaceAmfInfo | | | information | | | | | | of the AMF. | | | | | | This | | | | | | information | | | | | | needs not be | | | | | | sent in NF | | | | | | Discovery | | | | | | responses. It | | | | | | may be used | | | | | | by the NRF to | | | | | | update the | | | | | | DNS for AMF | | | | | | discovery by | | | | | | the 5G Access | | | | | | Network. The | | | | | | procedures | | | | | | for updating | | | | | | the DNS are | | | | | | out of scope | | | | | | of this | | | | | | s | | | | | | pecification. | +---------------+---------------+---+-------------+---------------+ | amfOnboard | boolean | O | 0..1 | When present, | | ingCapability | | | | this IE | | | | | | indicates the | | | | | | AMF supports | | | | | | SNPN | | | | | | Onboarding | | | | | | capability. | | | | | | This is used | | | | | | for the case | | | | | | of Onboarding | | | | | | of UEs for | | | | | | SNPNs (see | | | | | | 3GPP TS | | | | | | 23.501 [2], | | | | | | clause | | | | | | 5.30.2.10). | | | | | | | | | | | | - false | | | | | | (default): | | | | | | AMF does not | | | | | | support SNPN | | | | | | Onboarding; | | | | | | | | | | | | - true: AMF | | | | | | supports SNPN | | | | | | Onboarding. | +---------------+---------------+---+-------------+---------------+ | h | boolean | O | 0..1 | When present, | | ighLatencyCom | | | | this IE | | | | | | indicates | | | | | | whether the | | | | | | AMF supports | | | | | | High Latency | | | | | | communication | | | | | | (e.g. for NR | | | | | | RedCap UE). | | | | | | This is used | | | | | | for CP NF to | | | | | | discover AMF | | | | | | supporting | | | | | | High Latency | | | | | | communication | | | | | | (see | | | | | | 3GPP TS | | | | | | 23.501 [2], | | | | | | clause | | | | | | 6.3.5). | | | | | | | | | | | | - true: AMF | | | | | | supports High | | | | | | Latency | | | | | | communication | | | | | | e.g. for NR | | | | | | RedCap UE; | | | | | | | | | | | | - false: AMF | | | | | | does not | | | | | | support High | | | | | | Latency | | | | | | communication | | | | | | e.g. for NR | | | | | | RedCap UE. | +---------------+---------------+---+-------------+---------------+
The \"backupInfoAmfFailure\" attribute and \"backupInfoAmfRemoval\" attribute
indicates the GUAMIs for which the AMF can act as Backup, when the serving AMF
has failed or under planned removal.
EXAMPLE:
When AMF-A, AMF-B and AMF-C registered their NF profiles for PLMN (e.g. MCC =
234, MNC = 15) as following:
[AMF-A NF Profile:]{.underline}
{
\"amfInfo\": {
\"guamiList\": [{ \"plmnId\": { \"mcc\": \"234\", \"mnc\": \"15\" },
\"amfId\": \"000001\"}],
\"backupInfoAmfFailure\": [{ \"plmnId\": { \"mcc\": \"234\", \"mnc\": \"15\"
}, \"amfId\": \"000003\"}]
}
}
[AMF-B NF Profile:]{.underline}
{
\"amfInfo\": {
\"guamiList\": [{ \"plmnId\": { \"mcc\": \"234\", \"mnc\": \"15\" },
\"amfId\": \"000002\"}],
\"backupInfoAmfRemoval\": [{ \"plmnId\": { \"mcc\": \"234\", \"mnc\": \"15\"
}, \"amfId\": \"000003\"}]
}
}
[AMF-C NF Profile:]{.underline}
{
\"amfInfo\": {
\"guamiList\": [{ \"plmnId\": { \"mcc\": \"234\", \"mnc\": \"15\" },
\"amfId\": \"000003\"}]
}
}
When one NF consumer queries NRF with a GUAMI served by AMF-C (i.e.
{\"plmnId\":{\"mcc\":\"234\",\"mnc\": \"15\"},\"amfId\":\"000003\"}), then
\- if the NRF detects the AMF-C has failed, e.g. using heartbeat, the NRF
shall return AMF-A instance as backup AMF; or
\- if the NRF detects AMF-C has entered planned removal, i.e. received a de-
registration request from AMF-C, the NRF shall return AMF-B instance as backup
AMF.
##### 6.1.6.2.12 Type: SmfInfo
Table 6.1.6.2.12-1: Definition of type SmfInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | sNss | array(Snssa | M | 1..N | List of | | aiSmfInfoList | iSmfInfoItem) | | | parameters | | | | | | supported by | | | | | | the SMF per | | | | | | S-NSSAI | | | | | | (NOTE 1). | +---------------+---------------+---+-------------+---------------+ | taiList | array(Tai) | O | 1..N | The list of | | | | | | TAIs the SMF | | | | | | can serve. It | | | | | | may contain | | | | | | one or more | | | | | | non-3GPP | | | | | | access TAIs. | | | | | | The absence | | | | | | of this | | | | | | attribute and | | | | | | the | | | | | | taiRangeList | | | | | | attribute | | | | | | indicate that | | | | | | the SMF can | | | | | | be selected | | | | | | for any TAI | | | | | | in the | | | | | | serving | | | | | | network. | +---------------+---------------+---+-------------+---------------+ | taiRangeList | ar | O | 1..N | The range of | | | ray(TaiRange) | | | TAIs the SMF | | | | | | can serve. It | | | | | | may contain | | | | | | non-3GPP | | | | | | access TAIs. | | | | | | The absence | | | | | | of this | | | | | | attribute and | | | | | | the taiList | | | | | | attribute | | | | | | indicate that | | | | | | the SMF can | | | | | | be selected | | | | | | for any TAI | | | | | | in the | | | | | | serving | | | | | | network. | +---------------+---------------+---+-------------+---------------+ | pgwFqdn | Fqdn | O | 0..1 | The FQDN of | | | | | | the PGW if | | | | | | the SMF is a | | | | | | combined | | | | | | SMF/PGW-C. | +---------------+---------------+---+-------------+---------------+ | pgwIpAddrList | array(IpAddr) | O | 1..N | The PGW IP | | | | | | addresses of | | | | | | the combined | | | | | | SMF/PGW-C. | | | | | | | | | | | | This IE | | | | | | allows the NF | | | | | | Service | | | | | | consumer to | | | | | | find the | | | | | | target | | | | | | combined | | | | | | SMF/PGW-C by | | | | | | PGW IP | | | | | | Address, e.g. | | | | | | when only PGW | | | | | | IP Address is | | | | | | available. | +---------------+---------------+---+-------------+---------------+ | accessType | arra | C | 1..2 | If included, | | | y(AccessType) | | | this IE shall | | | | | | contain the | | | | | | access type | | | | | | (3GPP_ACCESS | | | | | | and/or | | | | | | NON_ | | | | | | 3GPP_ACCESS) | | | | | | supported by | | | | | | the SMF. | | | | | | | | | | | | If not | | | | | | included, it | | | | | | shall be | | | | | | assumed the | | | | | | both access | | | | | | types are | | | | | | supported. | +---------------+---------------+---+-------------+---------------+ | priority | integer | O | 0..1 | Priority | | | | | | (relative to | | | | | | other NFs of | | | | | | the same | | | | | | type) in the | | | | | | range of | | | | | | 0-65535, to | | | | | | be used for | | | | | | NF selection | | | | | | for a service | | | | | | request | | | | | | matching the | | | | | | attributes of | | | | | | the SmfInfo; | | | | | | lower values | | | | | | indicate a | | | | | | higher | | | | | | priority. | | | | | | | | | | | | The NRF may | | | | | | overwrite the | | | | | | received | | | | | | priority | | | | | | value when | | | | | | exposing an | | | | | | NFProfile | | | | | | with the | | | | | | Nnrf | | | | | | _NFDiscovery | | | | | | service. | | | | | | | | | | | | Absence of | | | | | | this | | | | | | attribute | | | | | | equals to | | | | | | having the | | | | | | same smfInfo | | | | | | priority as | | | | | | the priority | | | | | | defined at | | | | | | NFProf | | | | | | ile/NFService | | | | | | level. | | | | | | | | | | | | (NOTE 2) | +---------------+---------------+---+-------------+---------------+ | v | boolean | O | 0..1 | This IE may | | smfSupportInd | | | | be used by an | | | | | | SMF to | | | | | | explicitly | | | | | | indicate the | | | | | | support of | | | | | | V-SMF | | | | | | capability | | | | | | and its | | | | | | preference to | | | | | | be selected | | | | | | as V-SMF. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | indicate | | | | | | whether the | | | | | | V-SMF | | | | | | capability | | | | | | are supported | | | | | | by the SMF: | | | | | | | | | | | | - true: | | | | | | V-SMF | | | | | | capability | | | | | | supported by | | | | | | the SMF | | | | | | | | | | | | - false: | | | | | | V-SMF | | | | | | capability | | | | | | not supported | | | | | | by the SMF. | | | | | | | | | | | | Absence of | | | | | | this IE | | | | | | indicates the | | | | | | V-SMF | | | | | | capability | | | | | | support of | | | | | | the SMF is | | | | | | not | | | | | | specified. | | | | | | | | | | | | (NOTE 3) | +---------------+---------------+---+-------------+---------------+ | i | boolean | O | 0..1 | This IE may | | smfSupportInd | | | | be used by an | | | | | | SMF to | | | | | | explicitly | | | | | | indicate the | | | | | | support of | | | | | | I-SMF | | | | | | capability | | | | | | and its | | | | | | preference to | | | | | | be selected | | | | | | as I-SMF. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | indicate | | | | | | whether the | | | | | | I-SMF | | | | | | capability | | | | | | are supported | | | | | | by the SMF: | | | | | | | | | | | | - true: | | | | | | I-SMF | | | | | | capability | | | | | | supported by | | | | | | the SMF | | | | | | | | | | | | - false: | | | | | | I-SMF | | | | | | capability | | | | | | not supported | | | | | | by the SMF. | | | | | | | | | | | | Absence of | | | | | | this IE | | | | | | indicates the | | | | | | I-SMF | | | | | | capability | | | | | | support of | | | | | | the SMF is | | | | | | not | | | | | | specified. | | | | | | | | | | | | (NOTE 3) | +---------------+---------------+---+-------------+---------------+ | pgwFqdnList | array(Fqdn) | O | 1..N | When present, | | | | | | this | | | | | | attribute | | | | | | provides | | | | | | additional | | | | | | FQDNs to the | | | | | | FQDN | | | | | | indicated in | | | | | | the pgwFqdn | | | | | | attribute. | | | | | | The | | | | | | pgwFqdnList | | | | | | attribute may | | | | | | be present if | | | | | | the pgwFqdn | | | | | | attribute is | | | | | | present. | +---------------+---------------+---+-------------+---------------+ | smfOnboard | boolean | O | 0..1 | When present, | | ingCapability | | | | this IE | | | | | | indicates the | | | | | | SMF supports | | | | | | SNPN | | | | | | Onboarding | | | | | | capability | | | | | | and User | | | | | | Plane Remote | | | | | | Provisioning. | | | | | | This is used | | | | | | for the case | | | | | | of Onboarding | | | | | | of UEs for | | | | | | SNPNs (see | | | | | | 3GPP TS | | | | | | 23.501 [2], | | | | | | clauses | | | | | | 5.30.2.10 and | | | | | | 6.2.6.2). | | | | | | | | | | | | - false | | | | | | (default): | | | | | | SMF does not | | | | | | support SNPN | | | | | | Onboarding; | | | | | | | | | | | | - true: SMF | | | | | | supports SNPN | | | | | | Onboarding. | | | | | | | | | | | | (NOTE 4) | +---------------+---------------+---+-------------+---------------+ | smfU | boolean | O | 0..1 | When present, | | PRPCapability | | | | this IE | | | | | | indicates the | | | | | | SMF supports | | | | | | User Plane | | | | | | Remote | | | | | | Provisioning | | | | | | (UPRP) | | | | | | capability. | | | | | | This is used | | | | | | for the case | | | | | | of Onboarding | | | | | | of UEs for | | | | | | SNPNs (see | | | | | | 3GPP TS | | | | | | 23.501 [2], | | | | | | clau | | | | | | ses 5.30.2.10 | | | | | | and 6.2.6.2). | | | | | | | | | | | | - false | | | | | | (default): | | | | | | SMF does not | | | | | | support UPRP; | | | | | | | | | | | | - true: SMF | | | | | | supports | | | | | | UPRP. | +---------------+---------------+---+-------------+---------------+ | NOTE 1: If | | | | | | this S-NSSAIs | | | | | | is present in | | | | | | the SmfInfo | | | | | | and in the | | | | | | NFprofile, | | | | | | the S-NSSAIs | | | | | | from the | | | | | | SmfInfo shall | | | | | | prevail. | | | | | | | | | | | | NOTE 2: An | | | | | | SMF profile | | | | | | may e.g. | | | | | | contain | | | | | | multiple | | | | | | SmfInfo | | | | | | entries, with | | | | | | each entry | | | | | | containing a | | | | | | different | | | | | | list of TAIs | | | | | | and a | | | | | | different | | | | | | priority, to | | | | | | differentiate | | | | | | the priority | | | | | | to select the | | | | | | SMF based on | | | | | | the user | | | | | | location. The | | | | | | priority in | | | | | | SmfInfo | | | | | | applies | | | | | | between SMFs | | | | | | or SMF | | | | | | Services with | | | | | | the same | | | | | | priority. | | | | | | | | | | | | NOTE 3: The | | | | | | IE should | | | | | | only be | | | | | | registered | | | | | | when the SMF | | | | | | is configured | | | | | | to be | | | | | | preferably | | | | | | selected as | | | | | | V-SMF/I-SMF. | | | | | | | | | | | | NOTE 4: The | | | | | | IE is | | | | | | deprecated | | | | | | and replaced | | | | | | by | | | | | | smfU | | | | | | PRPCapability | | | | | | attribute. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.13 Type: UpfInfo
Table 6.1.6.2.13-1: Definition of type UpfInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | sNss | array(Snssa | M | 1..N | List of | | aiUpfInfoList | iUpfInfoItem) | | | parameters | | | | | | supported by | | | | | | the UPF per | | | | | | S-NSSAI | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | s | array(string) | O | 1..N | The SMF | | mfServingArea | | | | service | | | | | | area(s) the | | | | | | UPF can | | | | | | serve. | | | | | | | | | | | | If not | | | | | | provided, the | | | | | | UPF can serve | | | | | | any SMF | | | | | | service area. | +---------------+---------------+---+-------------+---------------+ | interfa | a | O | 1..N | List of User | | ceUpfInfoList | rray(Interfac | | | Plane | | | eUpfInfoItem) | | | interfaces | | | | | | configured on | | | | | | the UPF. When | | | | | | this IE is | | | | | | provided in | | | | | | the NF | | | | | | Discovery | | | | | | response, the | | | | | | NF Service | | | | | | Consumer | | | | | | (e.g. SMF) | | | | | | may use this | | | | | | information | | | | | | for UPF | | | | | | selection. | +---------------+---------------+---+-------------+---------------+ | iwkEpsInd | boolean | O | 0..1 | Indicates | | | | | | whether | | | | | | interworking | | | | | | with EPS is | | | | | | supported by | | | | | | the UPF. | | | | | | | | | | | | true: | | | | | | Supported\ | | | | | | false | | | | | | (default): | | | | | | Not Supported | +---------------+---------------+---+-------------+---------------+ | sxaInd | boolean | O | 0..1 | Indicates | | | | | | whether the | | | | | | UPF is | | | | | | configured to | | | | | | support Sxa | | | | | | interface. | | | | | | | | | | | | true: | | | | | | Supported | | | | | | | | | | | | false: Not | | | | | | Supported | +---------------+---------------+---+-------------+---------------+ | pd | array(Pd | O | 1..N | List of PDU | | uSessionTypes | uSessionType) | | | session | | | | | | type(s) | | | | | | supported by | | | | | | the UPF. The | | | | | | absence of | | | | | | this | | | | | | attribute | | | | | | indicates | | | | | | that the UPF | | | | | | can be | | | | | | selected for | | | | | | any PDU | | | | | | session type. | +---------------+---------------+---+-------------+---------------+ | at | At | C | 0..1 | If present, | | sssCapability | sssCapability | | | this IE shall | | | | | | indicate the | | | | | | ATSSS | | | | | | capability of | | | | | | the UPF. | | | | | | | | | | | | If not | | | | | | present, the | | | | | | UPF shall be | | | | | | regarded with | | | | | | no ATSSS | | | | | | capability. | +---------------+---------------+---+-------------+---------------+ | ueIpAddrInd | boolean | O | 0..1 | Indicates | | | | | | whether the | | | | | | UPF supports | | | | | | allocating UE | | | | | | IP | | | | | | addres | | | | | | ses/prefixes. | | | | | | | | | | | | true: | | | | | | supported\ | | | | | | false | | | | | | (default): | | | | | | not supported | +---------------+---------------+---+-------------+---------------+ | taiList | array(Tai) | O | 1..N | The list of | | | | | | TAIs the UPF | | | | | | can serve. It | | | | | | may contain | | | | | | one or more | | | | | | non-3GPP | | | | | | access TAIs. | | | | | | | | | | | | The absence | | | | | | of this | | | | | | attribute and | | | | | | the | | | | | | taiRangeList | | | | | | attribute | | | | | | indicates | | | | | | that the UPF | | | | | | can serve the | | | | | | whole SMF | | | | | | service area | | | | | | defined by | | | | | | the | | | | | | s | | | | | | mfServingArea | | | | | | attribute. | +---------------+---------------+---+-------------+---------------+ | taiRangeList | ar | O | 1..N | The range of | | | ray(TaiRange) | | | TAIs the UPF | | | | | | can serve. It | | | | | | may contain | | | | | | non-3GPP | | | | | | access TAIs. | | | | | | The absence | | | | | | of this | | | | | | attribute and | | | | | | the taiList | | | | | | attribute | | | | | | indicates | | | | | | that the UPF | | | | | | can serve the | | | | | | whole SMF | | | | | | service area | | | | | | defined by | | | | | | the | | | | | | s | | | | | | mfServingArea | | | | | | attribute. | | | | | | | | | | | | (NOTE 6) | +---------------+---------------+---+-------------+---------------+ | wAgfInfo | WAgfInfo | C | 0..1 | If present, | | | | | | this IE shall | | | | | | indicate that | | | | | | the UPF is | | | | | | collocated | | | | | | with W-AGF. | | | | | | | | | | | | If not | | | | | | present, the | | | | | | UPF is not | | | | | | collocated | | | | | | with W-AGF. | +---------------+---------------+---+-------------+---------------+ | tngfInfo | TngfInfo | C | 0..1 | If present, | | | | | | this IE shall | | | | | | indicate that | | | | | | the UPF is | | | | | | collocated | | | | | | with TNGF. | | | | | | | | | | | | If not | | | | | | present, the | | | | | | UPF is not | | | | | | collocated | | | | | | with TNGF. | +---------------+---------------+---+-------------+---------------+ | twifInfo | TwifInfo | C | 0..1 | If present, | | | | | | this IE shall | | | | | | indicate that | | | | | | the UPF is | | | | | | collocated | | | | | | with TWIF. | | | | | | | | | | | | If not | | | | | | present, the | | | | | | UPF is not | | | | | | collocated | | | | | | with TWIF. | +---------------+---------------+---+-------------+---------------+ | preferre | ar | O | 1..N | If present, | | dEpdgInfoList | ray(EpdgInfo) | | | this IE shall | | | | | | indicate that | | | | | | ePDG(s) that | | | | | | are preferred | | | | | | (e.g. for | | | | | | traffic | | | | | | effiency, | | | | | | distance wise | | | | | | or topology | | | | | | wise) to be | | | | | | served by the | | | | | | UPF/PGW-U. | +---------------+---------------+---+-------------+---------------+ | preferre | ar | O | 1..N | If present, | | dWagfInfoList | ray(WAgfInfo) | | | this IE shall | | | | | | indicate that | | | | | | W-AGF(s) that | | | | | | are preferred | | | | | | (e.g. for | | | | | | traffic | | | | | | effiency, | | | | | | distance wise | | | | | | or topology | | | | | | wise) to be | | | | | | served by the | | | | | | UPF. | +---------------+---------------+---+-------------+---------------+ | preferre | ar | O | 1..N | If present, | | dTngfInfoList | ray(TngfInfo) | | | this IE shall | | | | | | indicate that | | | | | | TNGF(s) that | | | | | | are preferred | | | | | | (e.g. for | | | | | | traffic | | | | | | effiency, | | | | | | distance wise | | | | | | or topology | | | | | | wise) to be | | | | | | served by the | | | | | | UPF. | +---------------+---------------+---+-------------+---------------+ | preferre | ar | O | 1..N | If present, | | dTwifInfoList | ray(TwifInfo) | | | this IE shall | | | | | | indicate that | | | | | | TWIF(s) that | | | | | | are preferred | | | | | | (e.g. for | | | | | | traffic | | | | | | effiency, | | | | | | distance wise | | | | | | or topology | | | | | | wise) to be | | | | | | served by the | | | | | | UPF. | +---------------+---------------+---+-------------+---------------+ | priority | integer | O | 0..1 | Priority | | | | | | (relative to | | | | | | other NFs of | | | | | | the same | | | | | | type) in the | | | | | | range of | | | | | | 0-65535, to | | | | | | be used for | | | | | | NF selection | | | | | | for a service | | | | | | request | | | | | | matching the | | | | | | attributes of | | | | | | the UpfInfo; | | | | | | lower values | | | | | | indicate a | | | | | | higher | | | | | | priority. | | | | | | | | | | | | See the | | | | | | precedence | | | | | | rules in the | | | | | | description | | | | | | of the | | | | | | priority | | | | | | attribute in | | | | | | NFProfile, if | | | | | | Priority is | | | | | | also present | | | | | | in NFProfile. | | | | | | | | | | | | The NRF may | | | | | | overwrite the | | | | | | received | | | | | | priority | | | | | | value when | | | | | | exposing an | | | | | | NFProfile | | | | | | with the | | | | | | Nnrf | | | | | | _NFDiscovery | | | | | | service. | | | | | | | | | | | | (NOTE 2) | +---------------+---------------+---+-------------+---------------+ | redundantGtpu | boolean | O | 0..1 | Indicates | | | | | | whether the | | | | | | UPF supports | | | | | | redundant | | | | | | GTP-U path. | | | | | | | | | | | | true: | | | | | | supported\ | | | | | | false | | | | | | (default): | | | | | | not supported | +---------------+---------------+---+-------------+---------------+ | ipups | boolean | O | 0..1 | Indicates | | | | | | whether the | | | | | | UPF is | | | | | | configured | | | | | | for IPUPS. | | | | | | (NOTE 3) | | | | | | | | | | | | true: the UPF | | | | | | is configured | | | | | | for IPUPS. | | | | | | | | | | | | false | | | | | | (default): | | | | | | the UPF is | | | | | | not | | | | | | configured | | | | | | for IPUPS. | +---------------+---------------+---+-------------+---------------+ | d | boolean | O | 0..1 | Indicates | | ataForwarding | | | | whether the | | | | | | UPF is | | | | | | configured | | | | | | for data | | | | | | forwarding. | | | | | | (NOTE 4) | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | be set as | | | | | | following: | | | | | | | | | | | | - true: the | | | | | | UPF is | | | | | | configured | | | | | | for data | | | | | | forwarding | | | | | | | | | | | | - false | | | | | | (default): | | | | | | the UPF is | | | | | | not | | | | | | configured | | | | | | for data | | | | | | forwarding | | | | | | | | | | | | If the UPF is | | | | | | configured | | | | | | for data | | | | | | forwarding, | | | | | | it shall | | | | | | support UP | | | | | | network | | | | | | interface | | | | | | with type | | | | | | \"DATA_ | | | | | | FORWARDING\". | +---------------+---------------+---+-------------+---------------+ | supporte | string | O | 0..1 | Supported | | dPfcpFeatures | | | | PFCP | | | | | | Features. | | | | | | | | | | | | A string used | | | | | | to indicate | | | | | | the PFCP | | | | | | features | | | | | | supported by | | | | | | the UPF, | | | | | | which encodes | | | | | | the \"UP | | | | | | Function | | | | | | Features\" IE | | | | | | as specified | | | | | | in | | | | | | T | | | | | | able 8.2.25-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.244 [21] | | | | | | (starting | | | | | | from Octet | | | | | | 5), in | | | | | | hexadecimal | | | | | | re | | | | | | presentation. | | | | | | | | | | | | Each | | | | | | character in | | | | | | the string | | | | | | shall take a | | | | | | value of | | | | | | \"0\" to | | | | | | \"9\", \"a\" | | | | | | to \"f\" or | | | | | | \"A\" to | | | | | | \"F\" and | | | | | | each two | | | | | | characters | | | | | | shall | | | | | | represent one | | | | | | octet of \"UP | | | | | | Function | | | | | | Features\" IE | | | | | | (starting | | | | | | from Octet 5, | | | | | | to higher | | | | | | octets). For | | | | | | each two | | | | | | characters | | | | | | representing | | | | | | one octet, | | | | | | the first | | | | | | character | | | | | | representing | | | | | | the 4 most | | | | | | significant | | | | | | bits of the | | | | | | octet and the | | | | | | second | | | | | | character the | | | | | | 4 least | | | | | | significant | | | | | | bits of the | | | | | | octet. | | | | | | | | | | | | (NOTE 5) | +---------------+---------------+---+-------------+---------------+ | upfEvents | arr | O | 1..N | UPF event(s) | | | ay(EventType) | | | exposed by | | | | | | the UPF | +---------------+---------------+---+-------------+---------------+ | NOTE 1: If | | | | | | this S-NSSAIs | | | | | | is present in | | | | | | the UpfInfo | | | | | | and in the | | | | | | NFprofile, | | | | | | the S-NSSAIs | | | | | | from the | | | | | | UpfInfo shall | | | | | | prevail. | | | | | | | | | | | | NOTE 2: An | | | | | | UPF profile | | | | | | may e.g. | | | | | | contain | | | | | | multiple | | | | | | UpfInfo | | | | | | entries, with | | | | | | each entry | | | | | | containing a | | | | | | different | | | | | | list of TAIs | | | | | | and a | | | | | | different | | | | | | priority, to | | | | | | differentiate | | | | | | the priority | | | | | | to select the | | | | | | UPF based on | | | | | | the user | | | | | | location. The | | | | | | priority in | | | | | | UpfInfo has | | | | | | the least | | | | | | precedence, | | | | | | i.e. it | | | | | | applies | | | | | | between UPFs | | | | | | with the same | | | | | | priority. | | | | | | | | | | | | NOTE 3: Any | | | | | | UPF can | | | | | | support the | | | | | | IPUPS | | | | | | f | | | | | | unctionality. | | | | | | In network | | | | | | deployments | | | | | | where | | | | | | specific UPFs | | | | | | are used to | | | | | | provide | | | | | | IPUPS, UPFs | | | | | | configured | | | | | | for providing | | | | | | IPUPS | | | | | | services | | | | | | shall be | | | | | | selected to | | | | | | provide | | | | | | IPUPS. | | | | | | | | | | | | NOTE 4: Based | | | | | | on operator | | | | | | policies, if | | | | | | dedicated | | | | | | UPFs are | | | | | | preferred to | | | | | | be used for | | | | | | indirect data | | | | | | forwarding | | | | | | during | | | | | | handover | | | | | | scenarios, | | | | | | when setting | | | | | | up the | | | | | | indirect data | | | | | | forwarding | | | | | | tunnel, the | | | | | | SMF should | | | | | | preferably | | | | | | select a UPF | | | | | | configured | | | | | | for data | | | | | | forwarding | | | | | | and use the | | | | | | network | | | | | | instance | | | | | | indicated in | | | | | | the Network | | | | | | Instance ID | | | | | | associated to | | | | | | the | | | | | | DAT | | | | | | A_FORWARDING | | | | | | interface | | | | | | type in the | | | | | | interfa | | | | | | ceUpfInfoList | | | | | | attribute. | | | | | | | | | | | | NOTE 5: The | | | | | | supporte | | | | | | dPfcpFeatures | | | | | | shall be | | | | | | provisioned | | | | | | in addition | | | | | | and be | | | | | | consistent | | | | | | with the | | | | | | existing UPF | | | | | | features | | | | | | (ats | | | | | | ssCapability, | | | | | | ueIpAddrInd, | | | | | | redundantGtpu | | | | | | and ipups) in | | | | | | the upfInfo, | | | | | | e.g. if the | | | | | | ueIpAddrInd | | | | | | is set to | | | | | | \"true\", | | | | | | then the UEIP | | | | | | flag shall | | | | | | also be set | | | | | | to \"1\" in | | | | | | the | | | | | | supported | | | | | | PfcpFeatures. | | | | | | | | | | | | NOTE 6: This | | | | | | attribute | | | | | | should only | | | | | | be used by | | | | | | the UPF if, | | | | | | based on | | | | | | specific | | | | | | operator\'s | | | | | | deployment, | | | | | | the NRF and | | | | | | the SMFs | | | | | | intended to | | | | | | interwork | | | | | | with this | | | | | | UPF, have | | | | | | been upgraded | | | | | | to support | | | | | | this feature | | | | | | (i.e. to | | | | | | understand | | | | | | the | | | | | | definition of | | | | | | TAIs in the | | | | | | UPF profile | | | | | | based on | | | | | | ranges of | | | | | | TAIs). | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.14 Type: SnssaiUpfInfoItem
Table 6.1.6.2.14-1: Definition of type SnssaiUpfInfoItem
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | sNssai | ExtSnssai | M | 1 | Supported | | | | | | S-NSSAI | | | | | | (NOTE) | +---------------+---------------+---+-------------+---------------+ | d | array(Dn | M | 1..N | List of | | nnUpfInfoList | nUpfInfoItem) | | | parameters | | | | | | supported by | | | | | | the UPF per | | | | | | DNN | +---------------+---------------+---+-------------+---------------+ | redun | boolean | O | 0..1 | Indicates | | dantTransport | | | | whether the | | | | | | UPF supports | | | | | | redundant | | | | | | transport | | | | | | path on the | | | | | | transport | | | | | | layer in the | | | | | | corresponding | | | | | | network | | | | | | slice. | | | | | | | | | | | | true: | | | | | | supported\ | | | | | | false | | | | | | (default): | | | | | | not supported | +---------------+---------------+---+-------------+---------------+ | NOTE: A UPF | | | | | | may register | | | | | | SD ranges or | | | | | | a wildcard SD | | | | | | if the NRF | | | | | | and all | | | | | | consumers of | | | | | | the UPF | | | | | | profile have | | | | | | been upgraded | | | | | | to support SD | | | | | | ranges and | | | | | | wildcard SD | | | | | | in this | | | | | | attribute. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.15 Type: DnnUpfInfoItem
Table 6.1.6.2.15-1: Definition of type DnnUpfInfoItem
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | dnn | Dnn | M | 1 | Supported | | | | | | DNN. The DNN | | | | | | shall contain | | | | | | the Network | | | | | | Identifier | | | | | | and it may | | | | | | additionally | | | | | | contain an | | | | | | Operator | | | | | | Identifier. | | | | | | If the | | | | | | Operator | | | | | | Identifier is | | | | | | not included, | | | | | | the DNN is | | | | | | supported for | | | | | | all the PLMNs | | | | | | in the | | | | | | plmnList of | | | | | | the NF | | | | | | Profile. | +---------------+---------------+---+-------------+---------------+ | dnaiList | array(Dnai) | O | 1..N | List of Data | | | | | | network | | | | | | access | | | | | | identifiers | | | | | | supported by | | | | | | the UPF for | | | | | | this DNN. The | | | | | | absence of | | | | | | this | | | | | | attribute | | | | | | indicates | | | | | | that the UPF | | | | | | can be | | | | | | selected for | | | | | | this DNN for | | | | | | any DNAI. | +---------------+---------------+---+-------------+---------------+ | pd | array(Pd | O | 1..N | List of PDU | | uSessionTypes | uSessionType) | | | session | | | | | | type(s) | | | | | | supported by | | | | | | the UPF for a | | | | | | specific DNN. | | | | | | The absence | | | | | | of this | | | | | | attribute | | | | | | indicates | | | | | | that the UPF | | | | | | can be | | | | | | selected for | | | | | | this DNN for | | | | | | any PDU | | | | | | session type | | | | | | supported by | | | | | | the UPF (see | | | | | | clause | | | | | | 6.1.6.2.13). | +---------------+---------------+---+-------------+---------------+ | ipv4 | array(Ipv4 | O | 1..N | List of | | AddressRanges | AddressRange) | | | ranges of | | | | | | IPv4 | | | | | | addresses | | | | | | handled by | | | | | | UPF. (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | ipv | array(Ipv | O | 1..N | List of | | 6PrefixRanges | 6PrefixRange) | | | ranges of | | | | | | IPv6 prefixes | | | | | | handled by | | | | | | the UPF. | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | natedIpv4 | array(Ipv4 | O | 1..N | List of | | AddressRanges | AddressRange) | | | ranges of | | | | | | NATed IPv4 | | | | | | addresses. | +---------------+---------------+---+-------------+---------------+ | natedIpv | array(Ipv | O | 1..N | List of | | 6PrefixRanges | 6PrefixRange) | | | ranges of | | | | | | NATed IPv6 | | | | | | prefixes. | +---------------+---------------+---+-------------+---------------+ | ipv4IndexList | a | O | 1..N | List of Ipv4 | | | rray(IpIndex) | | | Index | | | | | | supported by | | | | | | the UPF. | | | | | | (NOTE 3) | +---------------+---------------+---+-------------+---------------+ | ipv6IndexList | a | O | 1..N | List of Ipv6 | | | rray(IpIndex) | | | Index | | | | | | supported by | | | | | | the UPF. | | | | | | (NOTE 3) | +---------------+---------------+---+-------------+---------------+ | ne | string | O | 0..1 | The N6 | | tworkInstance | | | | Network | | | | | | Instance (See | | | | | | 3GPP TS 2 | | | | | | 9.244 [21]) | | | | | | associated | | | | | | with the | | | | | | S-NSSAI and | | | | | | DNN.\ | | | | | | (NOTE 4) | +---------------+---------------+---+-------------+---------------+ | dnaiN | map(string) | O | 1..N | Map of a | | wInstanceList | | | | network | | | | | | instance per | | | | | | DNAI for the | | | | | | DNN, where | | | | | | the key of | | | | | | the map is | | | | | | the DNAI. | | | | | | | | | | | | When present, | | | | | | the value of | | | | | | each entry of | | | | | | the map shall | | | | | | contain a N6 | | | | | | network | | | | | | instance that | | | | | | is configured | | | | | | for the DNAI | | | | | | indicated by | | | | | | the key. | | | | | | | | | | | | (NOTE 2) | +---------------+---------------+---+-------------+---------------+ | NOTE 1: The | | | | | | list of | | | | | | ranges of | | | | | | IPv4/v6 | | | | | | address may | | | | | | be used by | | | | | | the SMF to | | | | | | select a UPF | | | | | | which | | | | | | supports a UE | | | | | | static IP | | | | | | address | | | | | | received in | | | | | | user | | | | | | subscription, | | | | | | or when the | | | | | | UE IP address | | | | | | is to be | | | | | | allocated by | | | | | | an external | | | | | | server, e.g. | | | | | | AAA/Radius | | | | | | Server. | | | | | | | | | | | | NOTE 2: This | | | | | | IE may be | | | | | | used by the | | | | | | SMF to | | | | | | determine the | | | | | | Network | | | | | | Instance | | | | | | associated to | | | | | | a given | | | | | | S-NSSAI, DNN | | | | | | and DNAI. If | | | | | | this IE is | | | | | | not present, | | | | | | the SMF needs | | | | | | to be | | | | | | configured | | | | | | with | | | | | | corresponding | | | | | | information. | | | | | | | | | | | | NOTE 3: The | | | | | | list of | | | | | | IPv4/v6 | | | | | | Indexes may | | | | | | be used by | | | | | | the SMF to | | | | | | select a UPF | | | | | | which | | | | | | supports a | | | | | | specific IP | | | | | | Index | | | | | | received from | | | | | | the UDM or | | | | | | the PCF for a | | | | | | UE\'s PDU | | | | | | session. | | | | | | | | | | | | NOTE 4: The | | | | | | ne | | | | | | tworkInstance | | | | | | IE and the | | | | | | dnaiN | | | | | | wInstanceList | | | | | | shall not be | | | | | | present | | | | | | simutanously. | | | | | | The | | | | | | ne | | | | | | tworkInstance | | | | | | IE may be | | | | | | used by the | | | | | | SMF to | | | | | | determine the | | | | | | Network | | | | | | Instance | | | | | | associated to | | | | | | a given | | | | | | S-NSSAI and | | | | | | DNN where | | | | | | DNAI(s) are | | | | | | not | | | | | | configured, | | | | | | i.e. the | | | | | | dnaiN | | | | | | wInstanceList | | | | | | is not | | | | | | present. If | | | | | | this IE is | | | | | | not present | | | | | | and the | | | | | | dnaiN | | | | | | wInstanceList | | | | | | is also not | | | | | | present, the | | | | | | SMF needs to | | | | | | be configured | | | | | | with | | | | | | corresponding | | | | | | information. | | | | | | A network | | | | | | instance can | | | | | | be associated | | | | | | with multiple | | | | | | network | | | | | | slices if the | | | | | | UP function | | | | | | supports the | | | | | | \"Per Slice | | | | | | UP Resource | | | | | | Management\" | | | | | | feature as | | | | | | specified in | | | | | | clause 5.35.1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.244 [21]. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.16 Type: SubscriptionData
Table 6.1.6.2.16-1: Definition of type SubscriptionData
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | nfStatusNo | Uri | M | 1 | Callback URI | | tificationUri | | | | where the NF | | | | | | Service | | | | | | Consumer will | | | | | | receive the | | | | | | notifications | | | | | | from NRF. | +---------------+---------------+---+-------------+---------------+ | re | NfInstanceId | O | 0..1 | If present, | | qNfInstanceId | | | | this IE shall | | | | | | contain the | | | | | | NF instance | | | | | | id of the NF | | | | | | service | | | | | | consumer. | +---------------+---------------+---+-------------+---------------+ | subscrCond | SubscrCond | O | 0..1 | If present, | | | | | | this | | | | | | attributed | | | | | | shall contain | | | | | | the | | | | | | conditions | | | | | | identifying | | | | | | the set of NF | | | | | | Instances | | | | | | whose status | | | | | | is requested | | | | | | to be | | | | | | monitored. If | | | | | | this | | | | | | attribute is | | | | | | not present, | | | | | | it means that | | | | | | the NF | | | | | | Service | | | | | | Consumer | | | | | | requests a | | | | | | subscription | | | | | | to all NFs in | | | | | | the NRF | | | | | | (NOTE 1). | +---------------+---------------+---+-------------+---------------+ | s | string | C | 0..1 | Subscription | | ubscriptionId | | | | ID for the | | | | | | newly created | | | | | | resource. | | | | | | This | | | | | | parameter | | | | | | shall be | | | | | | absent in the | | | | | | request to | | | | | | the NRF and | | | | | | shall be | | | | | | included by | | | | | | NRF in the | | | | | | response to | | | | | | the | | | | | | subscription | | | | | | creation | | | | | | request. | | | | | | | | | | | | Read-Only: | | | | | | true | | | | | | | | | | | | Pattern: | | | | | | \"\^([0-9]{ | | | | | | 5,6}-(x3Lf57A | | | | | | :nid=[A-Fa-f | | | | | | 0-9]{11}:)?) | | | | | | ?[\^-]+\$\" | +---------------+---------------+---+-------------+---------------+ | validityTime | DateTime | C | 0..1 | Time instant | | | | | | after which | | | | | | the | | | | | | subscription | | | | | | becomes | | | | | | invalid. This | | | | | | parameter may | | | | | | be sent by | | | | | | the client, | | | | | | as a hint to | | | | | | the server, | | | | | | but it shall | | | | | | be always | | | | | | sent back by | | | | | | the server | | | | | | (regardless | | | | | | of the | | | | | | presence of | | | | | | the attribute | | | | | | in the | | | | | | request) in | | | | | | the response | | | | | | to the | | | | | | subscription | | | | | | creation | | | | | | request. | +---------------+---------------+---+-------------+---------------+ | r | ar | O | 1..N | If present, | | eqNotifEvents | ray(Notificat | | | this | | | ionEventType) | | | attribute | | | | | | shall contain | | | | | | the list of | | | | | | event types | | | | | | that the NF | | | | | | Service | | | | | | Consumer is | | | | | | interested in | | | | | | receiving. | | | | | | | | | | | | If this | | | | | | attribute is | | | | | | not present, | | | | | | it means that | | | | | | notifications | | | | | | for all event | | | | | | types are | | | | | | requested. | +---------------+---------------+---+-------------+---------------+ | reqNfType | NFType | C | 0..1 | An NF Service | | | | | | Consumer | | | | | | complying | | | | | | with this | | | | | | version of | | | | | | the | | | | | | specification | | | | | | shall include | | | | | | this IE. | | | | | | | | | | | | If included, | | | | | | this IE shall | | | | | | contain the | | | | | | NF type of | | | | | | the NF | | | | | | Service | | | | | | Consumer that | | | | | | is requesting | | | | | | the creation | | | | | | of the | | | | | | subscription. | | | | | | The NRF shall | | | | | | use it for | | | | | | authorizing | | | | | | the request, | | | | | | in the same | | | | | | way as the | | | | | | \"reques | | | | | | ter-nf-type\" | | | | | | is used in | | | | | | the NF | | | | | | Discovery | | | | | | service (see | | | | | | Table 6. | | | | | | 2.3.2.3.1-1). | | | | | | | | | | | | When the | | | | | | subscription | | | | | | is for a set | | | | | | of NF | | | | | | Instances, | | | | | | the | | | | | | subscription | | | | | | may be | | | | | | accepted by | | | | | | NRF, but it | | | | | | shall only | | | | | | generate | | | | | | notifications | | | | | | from NF | | | | | | Instances | | | | | | whose | | | | | | authorization | | | | | | parameters | | | | | | allow the NF | | | | | | Service | | | | | | Consumer to | | | | | | access their | | | | | | services | | | | | | (NOTE 2). | +---------------+---------------+---+-------------+---------------+ | reqNfFqdn | Fqdn | O | 0..1 | This IE may | | | | | | be present | | | | | | for a | | | | | | subscription | | | | | | request | | | | | | within the | | | | | | same PLMN as | | | | | | the NRF. | | | | | | | | | | | | If included, | | | | | | this IE shall | | | | | | contain the | | | | | | FQDN of the | | | | | | NF Service | | | | | | Consumer that | | | | | | is requesting | | | | | | the creation | | | | | | of the | | | | | | subscription. | | | | | | The NRF shall | | | | | | use it for | | | | | | authorizing | | | | | | the request, | | | | | | in the same | | | | | | way as the | | | | | | \"re | | | | | | quester-nf-in | | | | | | stance-fqdn\" | | | | | | is used in | | | | | | the NF | | | | | | Discovery | | | | | | service (see | | | | | | Table 6. | | | | | | 2.3.2.3.1-1). | | | | | | | | | | | | This IE shall | | | | | | be ignored by | | | | | | the NRF if it | | | | | | is received | | | | | | from a | | | | | | requester NF | | | | | | belonging to | | | | | | a different | | | | | | PLMN. | | | | | | | | | | | | When the | | | | | | subscription | | | | | | is for a set | | | | | | of NF | | | | | | Instances, | | | | | | the | | | | | | subscription | | | | | | may be | | | | | | accepted by | | | | | | NRF, but it | | | | | | shall only | | | | | | generate | | | | | | notifications | | | | | | from NF | | | | | | Instances | | | | | | whose | | | | | | authorization | | | | | | parameters | | | | | | allow the NF | | | | | | Service | | | | | | Consumer to | | | | | | access their | | | | | | services | | | | | | (NOTE 2). | +---------------+---------------+---+-------------+---------------+ | reqSnssais | arr | O | 1..N | If included, | | | ay(ExtSnssai) | | | this IE shall | | | | | | contain the | | | | | | list of | | | | | | S-NSSAIs of | | | | | | the NF | | | | | | Service | | | | | | Consumer that | | | | | | is requesting | | | | | | the creation | | | | | | of the | | | | | | subscription. | | | | | | If this IE is | | | | | | included in a | | | | | | subscription | | | | | | request in a | | | | | | different | | | | | | PLMN, the | | | | | | requester NF | | | | | | shall provide | | | | | | S-NSSAI | | | | | | values of the | | | | | | target PLMN, | | | | | | that | | | | | | correspond to | | | | | | the S-NSSAI | | | | | | values of the | | | | | | requester NF. | | | | | | The NRF shall | | | | | | use it for | | | | | | authorizing | | | | | | the request, | | | | | | in the same | | | | | | way as the | | | | | | \"reques | | | | | | ter-snssais\" | | | | | | is used in | | | | | | the NF | | | | | | Discovery | | | | | | service (see | | | | | | Table 6. | | | | | | 2.3.2.3.1-1). | | | | | | | | | | | | When the | | | | | | subscription | | | | | | is for a set | | | | | | of NF | | | | | | Instances, | | | | | | the | | | | | | subscription | | | | | | may be | | | | | | accepted by | | | | | | NRF, but it | | | | | | shall only | | | | | | generate | | | | | | notifications | | | | | | from NF | | | | | | Instances | | | | | | whose | | | | | | authorization | | | | | | parameters | | | | | | allow the NF | | | | | | Service | | | | | | Consumer to | | | | | | access their | | | | | | services | | | | | | (NOTE 2). | +---------------+---------------+---+-------------+---------------+ | reqP | arra | O | 1..N | If included, | | erPlmnSnssais | y(PlmnSnssai) | | | this IE shall | | | | | | indicate the | | | | | | list of | | | | | | S-NSSAIs | | | | | | supported by | | | | | | the NF | | | | | | Service | | | | | | Consumer in | | | | | | each of the | | | | | | PLMNs it | | | | | | supports. The | | | | | | NRF shall use | | | | | | it for | | | | | | authorizing | | | | | | the request, | | | | | | in the same | | | | | | way as the | | | | | | \"pe | | | | | | r-plmn-reques | | | | | | ter-snssais\" | | | | | | is used in | | | | | | the NF | | | | | | Discovery | | | | | | service (see | | | | | | Table 6. | | | | | | 2.3.2.3.1-1). | | | | | | | | | | | | When the | | | | | | subscription | | | | | | is for a set | | | | | | of NF | | | | | | Instances, | | | | | | the | | | | | | subscription | | | | | | may be | | | | | | accepted by | | | | | | NRF, but it | | | | | | shall only | | | | | | generate | | | | | | notifications | | | | | | from NF | | | | | | Instances | | | | | | whose | | | | | | authorization | | | | | | parameters | | | | | | allow the NF | | | | | | Service | | | | | | Consumer to | | | | | | access their | | | | | | services | | | | | | (NOTE 2). | +---------------+---------------+---+-------------+---------------+ | plmnId | PlmnId | O | 0..1 | If present, | | | | | | this | | | | | | attribute | | | | | | contains the | | | | | | target PLMN | | | | | | ID of the NF | | | | | | Instance(s) | | | | | | whose status | | | | | | is requested | | | | | | to be | | | | | | monitored. | | | | | | | | | | | | (NOTE 7) | +---------------+---------------+---+-------------+---------------+ | nid | Nid | O | 0..1 | If present, | | | | | | this | | | | | | attribute | | | | | | contains the | | | | | | target NID | | | | | | that, | | | | | | together with | | | | | | the plmnId | | | | | | attribute, | | | | | | identifies | | | | | | the SNPN of | | | | | | the NF | | | | | | Instance(s) | | | | | | whose status | | | | | | is requested | | | | | | to be | | | | | | monitored. | +---------------+---------------+---+-------------+---------------+ | onboard | boolean | O | 0..1 | If present, | | ingCapability | | | | this | | | | | | attribute | | | | | | indicates the | | | | | | NF | | | | | | Instance(s) | | | | | | whose status | | | | | | is requested | | | | | | to be | | | | | | monitored | | | | | | support SNPN | | | | | | Onboarding | | | | | | capability. | +---------------+---------------+---+-------------+---------------+ | n | N | O | 0..1 | If present, | | otifCondition | otifCondition | | | this | | | | | | attribute | | | | | | contains the | | | | | | conditions | | | | | | that trigger | | | | | | a | | | | | | notification | | | | | | from NRF; | | | | | | this | | | | | | attribute | | | | | | shall only be | | | | | | present if | | | | | | the NF | | | | | | Service | | | | | | Consumer has | | | | | | subscribed to | | | | | | changes on | | | | | | the NF | | | | | | Profile | | | | | | (i.e., | | | | | | r | | | | | | eqNotifEvents | | | | | | contains the | | | | | | value | | | | | | \"NF_PROFIL | | | | | | E_CHANGED\", | | | | | | or | | | | | | r | | | | | | eqNotifEvents | | | | | | attribute is | | | | | | absent) | | | | | | (NOTE 3). | | | | | | | | | | | | If this | | | | | | attribute is | | | | | | absent, it | | | | | | means that | | | | | | the NF | | | | | | Service | | | | | | Consumer does | | | | | | not indicate | | | | | | any | | | | | | restriction, | | | | | | or condition, | | | | | | on which | | | | | | attributes of | | | | | | the NF | | | | | | Profile shall | | | | | | trigger a | | | | | | notification | | | | | | from NRF. | | | | | | | | | | | | (NOTE 5). | +---------------+---------------+---+-------------+---------------+ | reqPlmnList | array(PlmnId) | C | 1..N | This IE shall | | | | | | be included | | | | | | when | | | | | | subscribing | | | | | | to NF | | | | | | services in a | | | | | | different | | | | | | PLMN. It may | | | | | | be present | | | | | | when | | | | | | subscribing | | | | | | to NF | | | | | | services in | | | | | | the same | | | | | | PLMN. | | | | | | | | | | | | When | | | | | | included, | | | | | | this IE shall | | | | | | contain the | | | | | | PLMN ID(s) of | | | | | | the requester | | | | | | NF. | | | | | | | | | | | | (NOTE 2) | +---------------+---------------+---+-------------+---------------+ | reqSnpnList | arr | C | 1..N | This IE shall | | | ay(PlmnIdNid) | | | be included | | | | | | when the | | | | | | subscribing | | | | | | NF belongs to | | | | | | one or | | | | | | several SNPNs | | | | | | and it | | | | | | subscribes to | | | | | | NF services | | | | | | of a specific | | | | | | SNPN. When | | | | | | included, | | | | | | this IE shall | | | | | | contain the | | | | | | SNPN ID(s) of | | | | | | the requester | | | | | | NF. | | | | | | | | | | | | When the | | | | | | subscription | | | | | | is for a set | | | | | | of NF | | | | | | Instances, | | | | | | the | | | | | | subscription | | | | | | may be | | | | | | accepted by | | | | | | NRF, but it | | | | | | shall only | | | | | | generate | | | | | | notifications | | | | | | from NF | | | | | | Instances | | | | | | whose | | | | | | authorization | | | | | | parameters | | | | | | allow the NF | | | | | | Service | | | | | | Consumer to | | | | | | access their | | | | | | services. | | | | | | | | | | | | (NOTE 2) | +---------------+---------------+---+-------------+---------------+ | servingScope | array(string) | O | 1..N | If present, | | | | | | this | | | | | | attribute | | | | | | indicates the | | | | | | target served | | | | | | area(s) of | | | | | | the NF | | | | | | instance(s) | | | | | | whose status | | | | | | is required | | | | | | to be | | | | | | monitored. | | | | | | (NOTE 4) | +---------------+---------------+---+-------------+---------------+ | requ | Supp | C | 0..1 | Nnrf\ | | esterFeatures | ortedFeatures | | | _NFManagement | | | | | | features | | | | | | supported by | | | | | | the NF | | | | | | Service | | | | | | Consumer that | | | | | | is invoking | | | | | | the | | | | | | Nnrf\ | | | | | | _NFManagement | | | | | | service. See | | | | | | clause 6.1.9. | | | | | | | | | | | | This IE shall | | | | | | be included | | | | | | if at least | | | | | | one feature | | | | | | is supported | | | | | | by the NF | | | | | | Service | | | | | | Consumer. | | | | | | | | | | | | Write-Only: | | | | | | true | | | | | | | | | | | | (NOTE 6) | +---------------+---------------+---+-------------+---------------+ | nrfSupp | Supp | C | 0..1 | Features | | ortedFeatures | ortedFeatures | | | supported by | | | | | | the NRF in | | | | | | the | | | | | | Nnrf\ | | | | | | _NFManagement | | | | | | service. See | | | | | | clause 6.1.9. | | | | | | | | | | | | This IE shall | | | | | | be included | | | | | | if at least | | | | | | one feature | | | | | | is supported | | | | | | by the NRF. | | | | | | | | | | | | Read-Only: | | | | | | true | +---------------+---------------+---+-------------+---------------+ | hnrfUri | Uri | C | 0..1 | If included, | | | | | | this IE shall | | | | | | contain the | | | | | | API URI of | | | | | | the | | | | | | NFManagement | | | | | | Service (see | | | | | | clause 6.1.1) | | | | | | of the home | | | | | | NRF. | | | | | | | | | | | | It shall be | | | | | | included if | | | | | | the NF | | | | | | Service | | | | | | Consumer has | | | | | | previously | | | | | | received such | | | | | | API URI from | | | | | | the NSSF in | | | | | | the home PLMN | | | | | | (see clause | | | | | | 6.1.6.2.11 of | | | | | | 3GPP TS 29 | | | | | | .531 [42]). | +---------------+---------------+---+-------------+---------------+ | targetHni | Fqdn | O | 0..1 | If present, | | | | | | this | | | | | | attribute | | | | | | shall contain | | | | | | the | | | | | | i | | | | | | dentification | | | | | | of the | | | | | | Default | | | | | | Credentials | | | | | | Server or the | | | | | | i | | | | | | dentification | | | | | | of the | | | | | | Credentials | | | | | | Hoder. | +---------------+---------------+---+-------------+---------------+ | pref | string | O | 0..1 | Preferred | | erredLocality | | | | target NF | | | | | | location | | | | | | (e.g. | | | | | | geographic | | | | | | location, | | | | | | data center). | | | | | | | | | | | | When present, | | | | | | the NRF | | | | | | should set a | | | | | | priority for | | | | | | the monitored | | | | | | NF instance | | | | | | in the | | | | | | notification | | | | | | as specified | | | | | | in the | | | | | | description | | | | | | of the | | | | | | prefe | | | | | | rred-locality | | | | | | in | | | | | | Table 6 | | | | | | .2.3.2.3.1-1. | +---------------+---------------+---+-------------+---------------+ | extPref | map(a | O | 1..N(1..M) | Preferred | | erredLocality | rray(Locality | | | target NF | | | Description)) | | | location | | | | | | (e.g. | | | | | | geographic | | | | | | location, | | | | | | data center). | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | represent the | | | | | | relative | | | | | | priority, for | | | | | | the | | | | | | requester, of | | | | | | each locality | | | | | | description | | | | | | among the | | | | | | list of | | | | | | locality | | | | | | descriptions | | | | | | in this | | | | | | attribute, | | | | | | encoded as | | | | | | \"1\" | | | | | | (highest | | | | | | priority\"), | | | | | | \"2\", | | | | | | \"3\",... | | | | | | ,\"n\" | | | | | | (lowest | | | | | | priority). | | | | | | See examples | | | | | | in the | | | | | | description | | | | | | of the | | | | | | ext-prefe | | | | | | rred-locality | | | | | | in | | | | | | Table 6 | | | | | | .2.3.2.3.1-1. | | | | | | | | | | | | When present, | | | | | | the NRF | | | | | | should set a | | | | | | priority for | | | | | | the monitored | | | | | | NF instance | | | | | | in the | | | | | | notification | | | | | | as specified | | | | | | in the | | | | | | description | | | | | | of the | | | | | | ext-prefe | | | | | | rred-locality | | | | | | in | | | | | | Table 6 | | | | | | .2.3.2.3.1-1. | +---------------+---------------+---+-------------+---------------+ | c | boolean | O | 0..1 | This IE may | | ompleteProfil | | | | be included | | eSubscription | | | | by an SCP | | | | | | with the | | | | | | value true to | | | | | | request to | | | | | | monitor, and | | | | | | to be | | | | | | notified of, | | | | | | changes on | | | | | | the complete | | | | | | profile of | | | | | | the NF | | | | | | Instance | | | | | | (including | | | | | | authorization | | | | | | attributes | | | | | | such as the | | | | | | \ | | | | | | "allowedXXX\" | | | | | | attributes of | | | | | | NFProfile and | | | | | | NFService | | | | | | data types). | | | | | | See | | | | | | clau | | | | | | se 5.2.2.5.2. | | | | | | | | | | | | Write-Only: | | | | | | true | +---------------+---------------+---+-------------+---------------+ | NOTE 1: The | | | | | | \ | | | | | | "subscription | | | | | | to all NFs\" | | | | | | may be quite | | | | | | demanding in | | | | | | terms of | | | | | | resources in | | | | | | NRF and also | | | | | | in terms of | | | | | | network | | | | | | traffic of | | | | | | the resulting | | | | | | n | | | | | | otifications, | | | | | | so it should | | | | | | be authorized | | | | | | by NRF under | | | | | | very strict | | | | | | policies | | | | | | (e.g. only to | | | | | | a specific | | | | | | requesting | | | | | | NF, as | | | | | | indicated by | | | | | | reqNfType and | | | | | | reqNfFqdn | | | | | | attributes). | | | | | | | | | | | | NOTE 2: The | | | | | | authorization | | | | | | parameters in | | | | | | NF Profile | | | | | | are those | | | | | | used by NRF | | | | | | to determine | | | | | | whether a | | | | | | given NF | | | | | | Instance / NF | | | | | | Service | | | | | | Instance can | | | | | | be discovered | | | | | | by an NF | | | | | | Service | | | | | | Consumer in | | | | | | order to | | | | | | consume its | | | | | | offered | | | | | | services | | | | | | (e.g. | | | | | | \"allo | | | | | | wedNfTypes\", | | | | | | \"allowe | | | | | | dNfDomains\", | | | | | | etc.). Based | | | | | | on | | | | | | operator\'s | | | | | | policies, a | | | | | | subscription | | | | | | request not | | | | | | including the | | | | | | requester\'s | | | | | | information | | | | | | necessary to | | | | | | validate the | | | | | | authorization | | | | | | parameters in | | | | | | NF Profiles | | | | | | may be | | | | | | rejected or | | | | | | may be | | | | | | accepted but | | | | | | with only | | | | | | generating | | | | | | notifications | | | | | | from NF | | | | | | Instances | | | | | | whose | | | | | | authorization | | | | | | parameters | | | | | | allow any NF | | | | | | Service | | | | | | Consumer to | | | | | | access their | | | | | | services. | | | | | | | | | | | | NOTE 3: The | | | | | | subscription | | | | | | to load | | | | | | changes may | | | | | | be quite | | | | | | demanding in | | | | | | terms of | | | | | | network | | | | | | traffic of | | | | | | the resulting | | | | | | n | | | | | | otifications, | | | | | | thus it may | | | | | | be limited by | | | | | | the NRF via | | | | | | appropriate | | | | | | configuration | | | | | | (e.g. | | | | | | granularity | | | | | | threshold) | | | | | | | | | | | | NOTE 4: An NF | | | | | | instance may | | | | | | explicitly | | | | | | indicate the | | | | | | served areas | | | | | | in the NF | | | | | | profile when | | | | | | registered to | | | | | | NRF. When | | | | | | this IE is | | | | | | present, the | | | | | | NRF shall | | | | | | only monitor | | | | | | the NF | | | | | | instance(s) | | | | | | indicating at | | | | | | least one of | | | | | | the served | | | | | | areas in the | | | | | | list. If an | | | | | | NF instance | | | | | | has not | | | | | | indicated any | | | | | | served area | | | | | | in its NF | | | | | | profile, it | | | | | | shall not be | | | | | | monitored. | | | | | | | | | | | | NOTE 5: If | | | | | | the | | | | | | attributes to | | | | | | be monitored | | | | | | or excluded | | | | | | from | | | | | | monitoring, | | | | | | included as | | | | | | part of the | | | | | | \"not | | | | | | ifCondition\" | | | | | | attribute, | | | | | | refer to a | | | | | | specific | | | | | | element of an | | | | | | array (e.g. | | | | | | they refer to | | | | | | a specifc | | | | | | array index | | | | | | of the | | | | | | \ | | | | | | "nfServices\" | | | | | | attribute of | | | | | | the | | | | | | NFProfile), | | | | | | the NRF shall | | | | | | apply the | | | | | | same | | | | | | condition to | | | | | | all elements | | | | | | of the same | | | | | | array. | | | | | | | | | | | | NOTE 6: If | | | | | | the NF | | | | | | Service | | | | | | Consumer that | | | | | | issued the | | | | | | subscription | | | | | | request | | | | | | indicated | | | | | | support for | | | | | | the | | | | | | \" | | | | | | Service-Map\" | | | | | | feature, the | | | | | | NRF shall | | | | | | send | | | | | | notifications | | | | | | of profile | | | | | | changes (see | | | | | | claus | | | | | | e 6.1.6.2.17) | | | | | | affecting the | | | | | | list of NF | | | | | | Service | | | | | | Instances, as | | | | | | modifications | | | | | | of specific | | | | | | attributes of | | | | | | the | | | | | | \"nf | | | | | | ServiceList\" | | | | | | map. | | | | | | Otherwise, | | | | | | the NRF shall | | | | | | send those | | | | | | notifications | | | | | | as a complete | | | | | | replacement | | | | | | of the | | | | | | \ | | | | | | "nfServices\" | | | | | | array | | | | | | attribute. | | | | | | | | | | | | NOTE 7: The | | | | | | PLMN ID | | | | | | should be | | | | | | used by the | | | | | | NRF as an | | | | | | additional | | | | | | subscription | | | | | | condition to | | | | | | monitor the | | | | | | change of | | | | | | target NF | | | | | | profile, | | | | | | unless the | | | | | | subscription | | | | | | is specific | | | | | | to one or a | | | | | | list of NF(s) | | | | | | explicitly | | | | | | indicated by | | | | | | their NF | | | | | | Instance | | | | | | ID(s), e.g. | | | | | | using the | | | | | | NfI | | | | | | nstanceIdCond | | | | | | or | | | | | | NfInstan | | | | | | ceIdListCond, | | | | | | in which case | | | | | | the NRF shall | | | | | | not use the | | | | | | PLMN ID | | | | | | provided in | | | | | | the | | | | | | subscription | | | | | | (if any) as | | | | | | an additional | | | | | | subscription | | | | | | condition to | | | | | | monitor the | | | | | | change of | | | | | | target NF | | | | | | profile. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.17 Type: NotificationData
Table 6.1.6.2.17-1: Definition of type NotificationData
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | event | Notifica | M | 1 | Notification | | | tionEventType | | | type. It | | | | | | shall take | | | | | | the values | | | | | | \"NF_ | | | | | | REGISTERED\", | | | | | | \"NF_D | | | | | | EREGISTERED\" | | | | | | or | | | | | | \"NF_PROFIL | | | | | | E_CHANGED\". | +---------------+---------------+---+-------------+---------------+ | nfInstanceUri | Uri | M | 1 | Uri of the NF | | | | | | Instance (see | | | | | | clause | | | | | | 6.1.3.3.2) | | | | | | associated to | | | | | | the | | | | | | notification | | | | | | event. | +---------------+---------------+---+-------------+---------------+ | nfProfile | NFProfile | C | 0..1 | New NF | | | | | | Profile or | | | | | | Updated NF | | | | | | Profile; it | | | | | | shall be | | | | | | present when | | | | | | the | | | | | | notification | | | | | | type is | | | | | | \"NF\ | | | | | | _REGISTERED\" | | | | | | and it may be | | | | | | present when | | | | | | the | | | | | | notification | | | | | | type is | | | | | | \"NF_PROFIL | | | | | | E_CHANGED\". | | | | | | | | | | | | (NOTE 3) | | | | | | | | | | | | This IE, if | | | | | | present, | | | | | | shall not | | | | | | contain | | | | | | authorization | | | | | | attributes | | | | | | (such as the | | | | | | \ | | | | | | "allowedXXX\" | | | | | | attributes of | | | | | | the NFProfile | | | | | | or NFService | | | | | | data types). | +---------------+---------------+---+-------------+---------------+ | p | arra | C | 1..N | List of | | rofileChanges | y(ChangeItem) | | | changes on | | | | | | the profile | | | | | | of the NF | | | | | | Instance | | | | | | associated to | | | | | | the | | | | | | notification | | | | | | event; it may | | | | | | be present | | | | | | when the | | | | | | notification | | | | | | type is | | | | | | \"NF_PROFI | | | | | | LE_CHANGED\" | | | | | | (see NOTE 1, | | | | | | NOTE 2). | +---------------+---------------+---+-------------+---------------+ | c | Condi | C | 0..1 | Type of event | | onditionEvent | tionEventType | | | indicating | | | | | | wether a | | | | | | change of NF | | | | | | Profile | | | | | | results in | | | | | | that the NF | | | | | | Instance | | | | | | starts or | | | | | | stops being | | | | | | part of a | | | | | | given set of | | | | | | NF Instances, | | | | | | as indicated | | | | | | in the | | | | | | subscription | | | | | | condition | | | | | | (see | | | | | | attribute | | | | | | \ | | | | | | "subscrCond\" | | | | | | in | | | | | | clause | | | | | | 6.1.6.2.16). | | | | | | | | | | | | Type of event | | | | | | may also | | | | | | indicate | | | | | | wether a | | | | | | change of NF | | | | | | Profile | | | | | | results in | | | | | | that the NF | | | | | | Instance | | | | | | starts or | | | | | | stops being | | | | | | authorized to | | | | | | be accessed | | | | | | by the NF | | | | | | consumer, as | | | | | | specified in | | | | | | clau | | | | | | se 5.2.2.6.2. | | | | | | | | | | | | It can take | | | | | | the value | | | | | | \"NF_ADDED\" | | | | | | (if the NF | | | | | | Instance | | | | | | starts being | | | | | | part of a | | | | | | given set or | | | | | | starts being | | | | | | authorized to | | | | | | be accessed | | | | | | by the NF | | | | | | consumer) or | | | | | | \" | | | | | | NF_REMOVED\" | | | | | | (if the NF | | | | | | Instance | | | | | | stops being | | | | | | part of a | | | | | | given set or | | | | | | stops being | | | | | | authorized to | | | | | | be accessed | | | | | | by the NF | | | | | | consumer). | | | | | | | | | | | | (NOTE 3) | +---------------+---------------+---+-------------+---------------+ | subscr | Subscr | C | 0..1 | It shall | | iptionContext | iptionContext | | | contain data | | | | | | related to | | | | | | the | | | | | | subscription | | | | | | to which this | | | | | | notification | | | | | | belongs to, | | | | | | such as the | | | | | | subscription | | | | | | ID and the | | | | | | subscription | | | | | | conditions. | | | | | | | | | | | | An NRF | | | | | | complying | | | | | | with this | | | | | | release of | | | | | | the | | | | | | specification | | | | | | shall include | | | | | | this | | | | | | attribute, to | | | | | | facilitate to | | | | | | the | | | | | | subscribing | | | | | | entity the | | | | | | i | | | | | | dentification | | | | | | of the | | | | | | subscription | | | | | | data, or | | | | | | context, that | | | | | | triggered | | | | | | this | | | | | | notification. | +---------------+---------------+---+-------------+---------------+ | comp | NFProfile | C | 0..1 | Complete new | | leteNfProfile | | | | NF Profile or | | | | | | updated NF | | | | | | Profile; it | | | | | | shall be | | | | | | present when | | | | | | the | | | | | | notification | | | | | | type is | | | | | | \"NF\ | | | | | | _REGISTERED\" | | | | | | and it may be | | | | | | present when | | | | | | the | | | | | | notification | | | | | | type is | | | | | | \"NF_PROFIL | | | | | | E_CHANGED\". | | | | | | | | | | | | (NOTE 3) | | | | | | | | | | | | This IE shall | | | | | | only be | | | | | | present if | | | | | | the NRF | | | | | | supports the | | | | | | \"Compl | | | | | | ete-Profile-S | | | | | | ubscription\" | | | | | | feature, the | | | | | | \"com | | | | | | pleteProfileS | | | | | | ubscription\" | | | | | | attribute is | | | | | | present and | | | | | | set to true | | | | | | in the | | | | | | request (see | | | | | | claus | | | | | | e 6.1.6.2.16) | | | | | | and if the | | | | | | requesting | | | | | | entity is | | | | | | authorized to | | | | | | subscribe to | | | | | | the complete | | | | | | profile of NF | | | | | | instances. | | | | | | | | | | | | This IE, if | | | | | | present, | | | | | | should | | | | | | contain the | | | | | | complete set | | | | | | of attributes | | | | | | (including, | | | | | | e.g. the | | | | | | \ | | | | | | "allowedXXX\" | | | | | | attributes of | | | | | | the NFProfile | | | | | | or NFService | | | | | | data types). | +---------------+---------------+---+-------------+---------------+ | NOTE 1: If | | | | | | \"event\" | | | | | | attribute | | | | | | takes the | | | | | | value | | | | | | \"NF_PROFIL | | | | | | E_CHANGED\", | | | | | | then one and | | | | | | only one of | | | | | | the | | | | | | \ | | | | | | "nfProfile\", | | | | | | \"pro | | | | | | fileChanges\" | | | | | | or | | | | | | \"comple | | | | | | teNfProfile\" | | | | | | attributes | | | | | | shall be | | | | | | present. | | | | | | | | | | | | NOTE 2: The | | | | | | NRF shall | | | | | | notify about | | | | | | NF Profile | | | | | | changes | | | | | | affecting | | | | | | attributes of | | | | | | type | | | | | | \"array\" | | | | | | only as a | | | | | | complete | | | | | | replacement | | | | | | of the whole | | | | | | array (i.e. | | | | | | it shall not | | | | | | notify about | | | | | | changes of | | | | | | individual | | | | | | array | | | | | | elements). | | | | | | | | | | | | NOTE 3: When | | | | | | a change in | | | | | | an NF Profile | | | | | | results in an | | | | | | NF to start | | | | | | being part of | | | | | | a given set | | | | | | or an NF | | | | | | Instance | | | | | | starts being | | | | | | authorized to | | | | | | be accessed | | | | | | by the NF | | | | | | consumer, the | | | | | | NRF shall | | | | | | indicate such | | | | | | condition by | | | | | | including the | | | | | | \"con | | | | | | ditionEvent\" | | | | | | attribute | | | | | | with value | | | | | | \ | | | | | | "NF_ADDED\", | | | | | | and it shall | | | | | | include in | | | | | | the | | | | | | notification | | | | | | the | | | | | | \"nfProfile\" | | | | | | attribute | | | | | | with the full | | | | | | NF Profile of | | | | | | the NF | | | | | | Instance; the | | | | | | \"pro | | | | | | fileChanges\" | | | | | | attribute | | | | | | shall not be | | | | | | included.\ | | | | | | When a change | | | | | | in an | | | | | | NFProfile | | | | | | results in an | | | | | | NF to stop | | | | | | being part of | | | | | | a given set | | | | | | or an NF | | | | | | Instance | | | | | | stops being | | | | | | authorized to | | | | | | be accessed | | | | | | by the NF | | | | | | consumer, the | | | | | | NRF shall | | | | | | indicate such | | | | | | condition by | | | | | | including the | | | | | | \"con | | | | | | ditionEvent\" | | | | | | attribute | | | | | | with value | | | | | | \"N | | | | | | F_REMOVED\", | | | | | | and it shall | | | | | | include in | | | | | | the | | | | | | notification | | | | | | either the | | | | | | \"nfProfile\" | | | | | | or the | | | | | | \"pro | | | | | | fileChanges\" | | | | | | attribute. | | | | | | The NRF | | | | | | should | | | | | | include the | | | | | | IE with less | | | | | | information | | | | | | if possible. | | | | | +---------------+---------------+---+-------------+---------------+
EXAMPLE: Notification payload sent from NRF when an NF Instance has changed
its profile by updating the value of the \"recoveryTime\" attribute of its NF
Profile, and updated any attribute of any of its NF Service Instances:
{
\"event\": \"NF_PROFILE_CHANGED\",
\"nfInstanceUri\": \".../nf-instances/4947a69a-f61b-4bc1-b9da-47c9c5d14b64\",
\"profileChanges\": [
{
\"op\": \"REPLACE\",
\"path\": \"/recoveryTime\",
\"newValue\": \"2018-12-30T23:20:50Z\"
},
{
\"op\": \"REPLACE\",
\"path\": \"/nfServices\",
\"newValue\": [ ...new array content... ]
}
]
}
##### 6.1.6.2.18 Void
##### 6.1.6.2.19 Type: NFServiceVersion
Table 6.1.6.2.19-1: Definition of type NFServiceVersion
Attribute name Data type P Cardinality Description
* * *
apiVersionInUri string M 1 Version of the service instance to be used in the
URI for accessing the API (e.g. \"v1\"). apiFullVersion string M 1 Full
version number of the API as specified in clause 4.3.1 of 3GPP TS 29.501 [5].
expiry DateTime O 0..1 Expiry date and time of the NF service. This represents
the planned retirement date as specified in clause 4.3.1.5 of 3GPP TS 29.501
[5].
##### 6.1.6.2.20 Type: PcfInfo
Table 6.1.6.2.20-1: Definition of type PcfInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | groupId | NfGroupId | O | 0..1 | Identity of | | | | | | the PCF group | | | | | | that is | | | | | | served by the | | | | | | PCF instance. | | | | | | | | | | | | If not | | | | | | provided, the | | | | | | PCF instance | | | | | | does not | | | | | | pertain to | | | | | | any PCF | | | | | | group. | | | | | | | | | | | | (NOTE) | +---------------+---------------+---+-------------+---------------+ | dnnList | array(Dnn) | O | 1..N | DNNs | | | | | | supported by | | | | | | the PCF. The | | | | | | DNN shall | | | | | | contain the | | | | | | Network | | | | | | Identifier | | | | | | and it may | | | | | | additionally | | | | | | contain an | | | | | | Operator | | | | | | Identifier. | | | | | | If the | | | | | | Operator | | | | | | Identifier is | | | | | | not included, | | | | | | the DNN is | | | | | | supported for | | | | | | all the PLMNs | | | | | | in the | | | | | | plmnList of | | | | | | the NF | | | | | | Profile. | | | | | | | | | | | | If not | | | | | | provided, the | | | | | | PCF can serve | | | | | | any DNN. | +---------------+---------------+---+-------------+---------------+ | supiRanges | arr | O | 1..N | List of | | | ay(SupiRange) | | | ranges of | | | | | | SUPIs that | | | | | | can be served | | | | | | by the PCF | | | | | | instance. | | | | | | | | | | | | (NOTE) | +---------------+---------------+---+-------------+---------------+ | gpsiRanges | array(I | O | 1..N | List of | | | dentityRange) | | | ranges of | | | | | | GPSIs that | | | | | | can be served | | | | | | by the PCF | | | | | | instance. | | | | | | | | | | | | (NOTE) | +---------------+---------------+---+-------------+---------------+ | rxDiamHost | Dia | C | 0..1 | This IE shall | | | meterIdentity | | | be present if | | | | | | the PCF | | | | | | supports Rx | | | | | | interface. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | Diameter host | | | | | | of the Rx | | | | | | interface for | | | | | | the PCF. | +---------------+---------------+---+-------------+---------------+ | rxDiamRealm | Dia | C | 0..1 | This IE shall | | | meterIdentity | | | be present if | | | | | | the PCF | | | | | | supports Rx | | | | | | interface. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | Diameter | | | | | | realm of the | | | | | | Rx interface | | | | | | for the PCF. | +---------------+---------------+---+-------------+---------------+ | v2xSupportInd | boolean | O | 0..1 | Indicates | | | | | | whether V2X | | | | | | Pol | | | | | | icy/Parameter | | | | | | provisioning | | | | | | is supported | | | | | | by the PCF. | | | | | | | | | | | | true: | | | | | | Supported\ | | | | | | false | | | | | | (default): | | | | | | Not Supported | +---------------+---------------+---+-------------+---------------+ | pr | boolean | O | 0..1 | Indicates | | oseSupportInd | | | | whether ProSe | | | | | | capability is | | | | | | supported by | | | | | | the PCF. | | | | | | | | | | | | true: | | | | | | Supported\ | | | | | | false | | | | | | (default): | | | | | | Not Supported | +---------------+---------------+---+-------------+---------------+ | pr | Pr | C | 0..1 | This IE shall | | oseCapability | oseCapability | | | be present if | | | | | | the PCF | | | | | | supports | | | | | | ProSe | | | | | | Capability. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | supported | | | | | | ProSe | | | | | | Capability by | | | | | | the PCF. | +---------------+---------------+---+-------------+---------------+ | v2xCapability | V2xCapability | C | 0..1 | This IE shall | | | | | | be present if | | | | | | the PCF | | | | | | supports V2X | | | | | | Capability. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | supported V2X | | | | | | Capability by | | | | | | the PCF. | +---------------+---------------+---+-------------+---------------+ | a2xSupportInd | boolean | O | 0..1 | Indicates | | | | | | whether A2X | | | | | | Pol | | | | | | icy/Parameter | | | | | | provisioning | | | | | | is supported | | | | | | by the PCF. | | | | | | | | | | | | true: | | | | | | Supported\ | | | | | | false | | | | | | (default): | | | | | | Not Supported | +---------------+---------------+---+-------------+---------------+ | a2xCapability | A2xCapability | C | 0..1 | This IE shall | | | | | | be present if | | | | | | the PCF | | | | | | supports A2X | | | | | | Capability. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | supported A2X | | | | | | Capability by | | | | | | the PCF. | +---------------+---------------+---+-------------+---------------+ | rangingSl | boolean | O | 0..1 | Indicates | | PosSupportInd | | | | whether | | | | | | ranging and | | | | | | sidelink | | | | | | positioning | | | | | | capability is | | | | | | supported by | | | | | | the PCF. | | | | | | | | | | | | true: | | | | | | Supported\ | | | | | | false | | | | | | (default): | | | | | | Not Supported | +---------------+---------------+---+-------------+---------------+ | NOTE: If none | | | | | | of these | | | | | | parameters | | | | | | are provided, | | | | | | the PCF can | | | | | | serve any | | | | | | SUPI or GPSI | | | | | | managed by | | | | | | the PLMN of | | | | | | the PCF | | | | | | instance. If | | | | | | \ | | | | | | "supiRanges\" | | | | | | and | | | | | | \ | | | | | | "gpsiRanges\" | | | | | | attributes | | | | | | are absent, | | | | | | and | | | | | | \"groupId\" | | | | | | is present, | | | | | | the SUPIs / | | | | | | GPSIs served | | | | | | by this PCF | | | | | | instance is | | | | | | determined by | | | | | | the NRF (see | | | | | | 3GPP TS | | | | | | 23.501 [2], | | | | | | cla | | | | | | use 6.2.6.2). | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.21 Type: BsfInfo
Table 6.1.6.2.21-1: Definition of type BsfInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | ipv4 | array(Ipv4 | O | 1..N | List of | | AddressRanges | AddressRange) | | | ranges of | | | | | | IPv4 | | | | | | addresses | | | | | | handled by | | | | | | BSF. | | | | | | | | | | | | If not | | | | | | provided, the | | | | | | BSF can serve | | | | | | any IPv4 | | | | | | address. | +---------------+---------------+---+-------------+---------------+ | dnnList | array(Dnn) | O | 1..N | List of DNNs | | | | | | handled by | | | | | | the BSF. The | | | | | | DNN shall | | | | | | contain the | | | | | | Network | | | | | | Identifier | | | | | | and it may | | | | | | additionally | | | | | | contain an | | | | | | Operator | | | | | | Identifier. | | | | | | If the | | | | | | Operator | | | | | | Identifier is | | | | | | not included, | | | | | | the DNN is | | | | | | supported for | | | | | | all the PLMNs | | | | | | in the | | | | | | plmnList of | | | | | | the NF | | | | | | Profile. | | | | | | | | | | | | If not | | | | | | provided, the | | | | | | BSF can serve | | | | | | any DNN. | +---------------+---------------+---+-------------+---------------+ | ipDomainList | array(string) | O | 1..N | List of IPv4 | | | | | | address | | | | | | domains, as | | | | | | described in | | | | | | clause 6.2 of | | | | | | 3GPP TS 2 | | | | | | 9.513 [28], | | | | | | handled by | | | | | | the BSF. | | | | | | | | | | | | If not | | | | | | provided, the | | | | | | BSF can serve | | | | | | any IP | | | | | | domain. | +---------------+---------------+---+-------------+---------------+ | ipv | array(Ipv | O | 1..N | List of | | 6PrefixRanges | 6PrefixRange) | | | ranges of | | | | | | IPv6 prefixes | | | | | | handled by | | | | | | the BSF. | | | | | | | | | | | | If not | | | | | | provided, the | | | | | | BSF can serve | | | | | | any IPv6 | | | | | | prefix. | +---------------+---------------+---+-------------+---------------+ | rxDiamHost | Dia | C | 0..1 | This IE shall | | | meterIdentity | | | be present if | | | | | | the BSF | | | | | | supports Rx | | | | | | interface. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | Diameter host | | | | | | of the Rx | | | | | | interface for | | | | | | the BSF. | +---------------+---------------+---+-------------+---------------+ | rxDiamRealm | Dia | C | 0..1 | This IE shall | | | meterIdentity | | | be present if | | | | | | the BSF | | | | | | supports Rx | | | | | | interface. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | Diameter | | | | | | realm of the | | | | | | Rx interface | | | | | | for the BSF. | +---------------+---------------+---+-------------+---------------+ | groupId | NfGroupId | O | 0..1 | Identity of | | | | | | the BSF group | | | | | | that is | | | | | | served by the | | | | | | BSF instance. | | | | | | | | | | | | If not | | | | | | provided, the | | | | | | BSF instance | | | | | | does not | | | | | | pertain to | | | | | | any BSF | | | | | | group. | | | | | | | | | | | | (NOTE) | +---------------+---------------+---+-------------+---------------+ | supiRanges | arr | O | 1..N | List of | | | ay(SupiRange) | | | ranges of | | | | | | SUPI\'s | | | | | | served by the | | | | | | BSF instance | | | | | | (NOTE) | +---------------+---------------+---+-------------+---------------+ | gpsiRanges | array(I | O | 1..N | List of | | | dentityRange) | | | ranges of | | | | | | GPSIs served | | | | | | by the BSF | | | | | | instance | | | | | | (NOTE) | +---------------+---------------+---+-------------+---------------+ | NOTE: If none | | | | | | of these | | | | | | parameters | | | | | | are provided, | | | | | | the BSF can | | | | | | serve any | | | | | | SUPI or GPSI | | | | | | managed by | | | | | | the PLMN of | | | | | | the BSF | | | | | | instance. If | | | | | | \ | | | | | | "supiRanges\" | | | | | | and | | | | | | \ | | | | | | "gpsiRanges\" | | | | | | attributes | | | | | | are absent, | | | | | | and | | | | | | \"groupId\" | | | | | | is present, | | | | | | the SUPIs / | | | | | | GPSIs served | | | | | | by this BSF | | | | | | instance is | | | | | | determined by | | | | | | the NRF. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.22 Type: Ipv4AddressRange
Table 6.1.6.2.22-1: Definition of type IPv4AddressRange
Attribute name Data type P Cardinality Description
* * *
start Ipv4Addr M 1 First value identifying the start of an IPv4 address range
end Ipv4Addr M 1 Last value identifying the end of an IPv4 address range
##### 6.1.6.2.23 Type: Ipv6PrefixRange
Table 6.1.6.2.23-1: Definition of type IPv6PrefixRange
Attribute name Data type P Cardinality Description
* * *
start Ipv6Prefix M 1 First value identifying the start of an IPv6 prefix range
end Ipv6Prefix M 1 Last value identifying the end of an IPv6 prefix range
NOTE: When Ipv6PrefixRange is used to identify a range of IPv6 addresses
served by certain NF (e.g. BSF), the range of IPv6 addresses identified by the
IPv6PrefixRange shall include the entire IPv6 addresses represented by the
\"start\" and \"end\" IPv6 prefixes. For example, if the \"start\" attribute
is set to \"240e:006a:0000:0000::/32\" and the \"end\" attribute is set to
\"250e:006a:0000:0000::/32\", the Ipv6PrefixRange identifies all the IPv6
addresses from the start IPv6 address \"240e:006a:0000:0000::/32\" to the end
IPv6 address \"250e:006a:ffff:ffff:ffff:ffff:ffff:ffff/32\".
##### 6.1.6.2.24 Type: InterfaceUpfInfoItem
Table 6.1.6.2.24-1: Definition of type InterfaceUpfInfoItem
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | interfaceType | UP | M | 1 | User Plane | | | InterfaceType | | | interface | | | | | | type | +---------------+---------------+---+-------------+---------------+ | ipv4Endp | ar | C | 1..N | Available | | ointAddresses | ray(Ipv4Addr) | | | endpoint IPv4 | | | | | | address(es) | | | | | | of the User | | | | | | Plane | | | | | | interface | | | | | | (NOTE 1) | | | | | | (NOTE 2) | +---------------+---------------+---+-------------+---------------+ | ipv6Endp | ar | C | 1..N | Available | | ointAddresses | ray(Ipv6Addr) | | | endpoint IPv6 | | | | | | address(es) | | | | | | of the User | | | | | | Plane | | | | | | interface | | | | | | (NOTE 1) | | | | | | (NOTE 2) | +---------------+---------------+---+-------------+---------------+ | endpointFqdn | Fqdn | C | 0..1 | FQDN of | | | | | | available | | | | | | endpoint of | | | | | | the User | | | | | | Plane | | | | | | interface | | | | | | (NOTE 1) | | | | | | (NOTE 2) | +---------------+---------------+---+-------------+---------------+ | ne | string | O | 0..1 | Network | | tworkInstance | | | | Instance (See | | | | | | 3GPP TS 2 | | | | | | 9.244 [21]) | | | | | | associated to | | | | | | the User | | | | | | Plane | | | | | | interface | +---------------+---------------+---+-------------+---------------+ | NOTE 1: At | | | | | | least one of | | | | | | the | | | | | | addressing | | | | | | parameters | | | | | | (ipv4address, | | | | | | ipv6adress or | | | | | | endpointFqdn) | | | | | | shall be | | | | | | included in | | | | | | the | | | | | | Interfac | | | | | | eUpfInfoItem. | | | | | | | | | | | | NOTE 2: When | | | | | | interfaceType | | | | | | is | | | | | | \"DATA_ | | | | | | FORWARDING\", | | | | | | the SMF shall | | | | | | ignore these | | | | | | IEs. The UPF | | | | | | shall | | | | | | register a | | | | | | dummy FQDN or | | | | | | IP address | | | | | | for | | | | | | interfaceType | | | | | | \"DATA\ | | | | | | _FORWARDING\" | | | | | | (for backward | | | | | | compatibility | | | | | | reason). | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.25 Type: UriList
Table 6.1.6.2.25-1: Definition of type UriList
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | _links | map(Link | O | 1..N | See | | | sValueSchema) | | | clause 4.9.4 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.501 [5] | | | | | | for the | | | | | | description | | | | | | of the | | | | | | members. | | | | | | | | | | | | In this map, | | | | | | the key | | | | | | \"item\", if | | | | | | present, | | | | | | shall contain | | | | | | an array of | | | | | | objects, | | | | | | where each | | | | | | object | | | | | | contains an | | | | | | \"href\" | | | | | | attribute | | | | | | containing | | | | | | the URI of | | | | | | the NF | | | | | | Instance. | | | | | | | | | | | | If the | | | | | | response | | | | | | contains no | | | | | | URIs to | | | | | | return, the | | | | | | \"_links\" | | | | | | attribute may | | | | | | be absent; if | | | | | | it is | | | | | | included, it | | | | | | shall only | | | | | | contain the | | | | | | \"self\" key | | | | | | (i.e. the | | | | | | \"item\" key | | | | | | shall be | | | | | | absent), and | | | | | | the | | | | | | \"tot | | | | | | alItemCount\" | | | | | | attribute | | | | | | shall be set | | | | | | to 0. | +---------------+---------------+---+-------------+---------------+ | t | integer | C | 0..1 | This | | otalItemCount | | | | attribute | | | | | | should be | | | | | | included in | | | | | | the response | | | | | | and it shall | | | | | | contain the | | | | | | total number | | | | | | of items | | | | | | matching the | | | | | | input filter | | | | | | criteria of | | | | | | the request | | | | | | (e.g. | | | | | | \"nf-type\"). | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.26 Type: N2InterfaceAmfInfo
Table 6.1.6.2.26-1: Definition of type N2InterfaceAmfInfo
Attribute name Data type P Cardinality Description
* * *
ipv4EndpointAddress array(Ipv4Addr) C 1..N Available AMF endpoint IPv4
address(es) for N2 (see NOTE 1) ipv6EndpointAddress array(Ipv6Addr) C 1..N
Available AMF endpoint IPv6 address(es) for N2 (see NOTE 1) amfName AmfName O
0..1 AMF Name FQDN as defined in clause 28.3.2.5 of 3GPP TS 23.003 [12]. NOTE
1: At least one of the addressing parameters (ipv4address or ipv6adress) shall
be included.
##### 6.1.6.2.27 Type: TaiRange
Table 6.1.6.2.27-1: Definition of type TaiRange
Attribute name Data type P Cardinality Description
* * *
plmnId PlmnId M 1 PLMN ID related to the TacRange. tacRangeList
array(TacRange) M 1..N The range of the TACs nid Nid O 0..1 NID related to the
TacRange, for an SNPN
##### 6.1.6.2.28 Type: TacRange
Table 6.1.6.2.28-1: Definition of type TacRange
+-----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +=================+===========+===+=============+=================+ | start | string | O | 0..1 | First value | | | | | | identifying the | | | | | | start of a TAC | | | | | | range, to be | | | | | | used when the | | | | | | range of TAC\'s | | | | | | can be | | | | | | represented as | | | | | | a hexadecimal | | | | | | range (e.g., | | | | | | TAC ranges). | | | | | | 3-octet string | | | | | | identifying a | | | | | | tracking area | | | | | | code, each | | | | | | character in | | | | | | the string | | | | | | shall take a | | | | | | value of \"0\" | | | | | | to \"9\" or | | | | | | \"A\" to \"F\" | | | | | | and shall | | | | | | represent 4 | | | | | | bits. The most | | | | | | significant | | | | | | character | | | | | | representing | | | | | | the 4 most | | | | | | significant | | | | | | bits of the TAC | | | | | | shall appear | | | | | | first in the | | | | | | string, and the | | | | | | character | | | | | | representing | | | | | | the 4 least | | | | | | significant bit | | | | | | of the TAC | | | | | | shall appear | | | | | | last in the | | | | | | string. | | | | | | | | | | | | Pattern: | | | | | | \"\^([A-Fa-f0 | | | | | | -9]{4}\|[A-Fa | | | | | | -f0-9]{6})\$\" | +-----------------+-----------+---+-------------+-----------------+ | end | string | O | 0..1 | Last value | | | | | | identifying the | | | | | | end of a TAC | | | | | | range, to be | | | | | | used when the | | | | | | range of TAC\'s | | | | | | can be | | | | | | represented as | | | | | | a hexadecimal | | | | | | range (e.g. TAC | | | | | | ranges). | | | | | | 3-octet string | | | | | | identifying a | | | | | | tracking area | | | | | | code, each | | | | | | character in | | | | | | the string | | | | | | shall take a | | | | | | value of \"0\" | | | | | | to \"9\" or | | | | | | \"A\" to \"F\" | | | | | | and shall | | | | | | represent 4 | | | | | | bits. The most | | | | | | significant | | | | | | character | | | | | | representing | | | | | | the 4 most | | | | | | significant | | | | | | bits of the TAC | | | | | | shall appear | | | | | | first in the | | | | | | string, and the | | | | | | character | | | | | | representing | | | | | | the 4 least | | | | | | significant bit | | | | | | of the TAC | | | | | | shall appear | | | | | | last in the | | | | | | string. | | | | | | | | | | | | Pattern: | | | | | | \"\^([A-Fa-f0 | | | | | | -9]{4}\|[A-Fa | | | | | | -f0-9]{6})\$\" | +-----------------+-----------+---+-------------+-----------------+ | pattern | string | O | 0..1 | Pattern | | | | | | (regular | | | | | | expression | | | | | | according to | | | | | | the ECMA-262 | | | | | | dialect [8]) | | | | | | representing | | | | | | the set of | | | | | | TAC\'s | | | | | | belonging to | | | | | | this range. A | | | | | | TAC value is | | | | | | considered part | | | | | | of the range if | | | | | | and only if the | | | | | | TAC string | | | | | | fully matches | | | | | | the regular | | | | | | expression. | +-----------------+-----------+---+-------------+-----------------+ | NOTE: Either | | | | | | the start and | | | | | | end attributes, | | | | | | or the pattern | | | | | | attribute, | | | | | | shall be | | | | | | present. | | | | | +-----------------+-----------+---+-------------+-----------------+
EXAMPLE 1: TAC range. From: 543000 To: 5433E7 (i.e., 1000 TAC numbers)\ JSON:
{ \"start\": \"543000\", \"end\": \"5433E7\" }
EXAMPLE 2: TAC range. From: 54E000 To: 54EFFF (i.e., 4096 TAC numbers)\ JSON:
{ \"pattern\": \"\^54E[0-9a-fA-F]{3}\$\" }, or\ JSON: { \"start\": \"54E000\",
\"end\": \"54EFFF\" }
##### 6.1.6.2.29 Type: SnssaiSmfInfoItem
Table 6.1.6.2.29-1: Definition of type SnssaiSmfInfoItem
Attribute name Data type P Cardinality Description
* * *
sNssai ExtSnssai M 1 Supported S-NSSAI (NOTE) dnnSmfInfoList
array(DnnSmfInfoItem) M 1..N List of parameters supported by the SMF per DNN
NOTE: An SMF may register SD ranges or a wildcard SD if the SMF profile is not
discoverable from other PLMNs and if the NRF and all consumers of the SMF
profile in the same PLMN have been upgraded to support SD ranges and wildcard
SD in this attribute.
##### 6.1.6.2.30 Type: DnnSmfInfoItem
Table 6.1.6.2.30-1: Definition of type DnnSmfInfoItem
+---------------+-------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+=============+===+=============+===============+ | dnn | Dnn | M | 1 | Supported DNN | | | | | | (NOTE) or | | | | | | Wildcard DNN | | | | | | if the SMF | | | | | | supports all | | | | | | DNNs for the | | | | | | related | | | | | | S-NSSAI. The | | | | | | DNN shall | | | | | | contain the | | | | | | Network | | | | | | Identifier | | | | | | and it may | | | | | | additionally | | | | | | contain an | | | | | | Operator | | | | | | Identifier. | | | | | | If the | | | | | | Operator | | | | | | Identifier is | | | | | | not included, | | | | | | the DNN is | | | | | | supported for | | | | | | all the PLMNs | | | | | | in the | | | | | | plmnList of | | | | | | the NF | | | | | | Profile. | +---------------+-------------+---+-------------+---------------+ | dnaiList | array(Dnai) | O | 1..N | List of DNAIs | | | | | | or Wildcard | | | | | | DNAI | | | | | | supported by | | | | | | the SMF for | | | | | | this DNN. | | | | | | | | | | | | (See NOTE 2) | +---------------+-------------+---+-------------+---------------+ | NOTE 1: For a | | | | | | SMF which | | | | | | only supports | | | | | | the I-SMF | | | | | | related | | | | | | fun | | | | | | ctionalities, | | | | | | the dnn | | | | | | attribute may | | | | | | be an invalid | | | | | | DNN according | | | | | | to | | | | | | operator\'s | | | | | | local policy. | | | | | | | | | | | | NOTE 2: The | | | | | | Wildcard DNAI | | | | | | included in | | | | | | the | | | | | | \"dnaiList\" | | | | | | attribute | | | | | | indicates | | | | | | that the SMF | | | | | | can be | | | | | | selected for | | | | | | this DNN for | | | | | | any DNAI. The | | | | | | absence of | | | | | | \"dnaiList\" | | | | | | attribute | | | | | | does not mean | | | | | | that the SMF | | | | | | (e.g. | | | | | | pre-Rel-17 | | | | | | compliant) | | | | | | does not | | | | | | support any | | | | | | DNAI, but the | | | | | | SMF did not | | | | | | indicate | | | | | | which DNAIs | | | | | | it may | | | | | | support. | | | | | +---------------+-------------+---+-------------+---------------+
##### 6.1.6.2.31 Type: NrfInfo
Table 6.1.6.2.31-1: Definition of type NrfInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | servedUdrInfo | map(UdrInfo) | O | 1..N | This | | | | | | attribute | | | | | | contains all | | | | | | the udrInfo | | | | | | attributes | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | the NRF | | | | | | received | | | | | | during NF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | of which the | | | | | | udrInfo | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | serv | map( | O | 1..N(1..M) | This | | edUdrInfoList | map(UdrInfo)) | | | attribute | | | | | | contains the | | | | | | udrInfoList | | | | | | attribute | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | that the NRF | | | | | | received | | | | | | during NF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | to which the | | | | | | map entry | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | servedUdmInfo | map(UdmInfo) | O | 1..N | This | | | | | | attribute | | | | | | contains all | | | | | | the udmInfo | | | | | | attributes | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | the NRF | | | | | | received | | | | | | during NF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | of which the | | | | | | udmInfo | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | serv | map( | O | 1..N(1..M) | This | | edUdmInfoList | map(UdmInfo)) | | | attribute | | | | | | contains the | | | | | | udmInfoList | | | | | | attribute | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | that the NRF | | | | | | received | | | | | | during NF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | to which the | | | | | | map entry | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | s | map(AusfInfo) | O | 1..N | This | | ervedAusfInfo | | | | attribute | | | | | | contains all | | | | | | the ausfInfo | | | | | | attributes | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | the NRF | | | | | | received | | | | | | during NF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | of which the | | | | | | ausfInfo | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | serve | map(m | O | 1..N(1..M) | This | | dAusfInfoList | ap(AusfInfo)) | | | attribute | | | | | | contains the | | | | | | ausfInfoList | | | | | | attribute | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | that the NRF | | | | | | received | | | | | | during NF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | to which the | | | | | | map entry | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | servedAmfInfo | map(AmfInfo) | O | 1..N | This | | | | | | attribute | | | | | | contains all | | | | | | the amfInfo | | | | | | attributes | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | the NRF | | | | | | received | | | | | | during NF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | of which the | | | | | | amfInfo | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | serv | map( | O | 1..N(1..M) | This | | edAmfInfoList | map(AmfInfo)) | | | attribute | | | | | | contains the | | | | | | amfInfoList | | | | | | attribute | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | that the NRF | | | | | | received | | | | | | during NF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | to which the | | | | | | map entry | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | servedSmfInfo | map(SmfInfo) | O | 1..N | This | | | | | | attribute | | | | | | contains all | | | | | | the smfInfo | | | | | | attributes | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | the NRF | | | | | | received | | | | | | during NF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | of which the | | | | | | smfInfo | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | serv | map( | O | 1..N(1..M) | This | | edSmfInfoList | map(SmfInfo)) | | | attribute | | | | | | contains the | | | | | | smfInfoList | | | | | | attribute | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | that the NRF | | | | | | received | | | | | | during NF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | to which the | | | | | | map entry | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | servedUpfInfo | map(UpfInfo) | O | 1..N | This | | | | | | attribute | | | | | | contains all | | | | | | the upfInfo | | | | | | attributes | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | the NRF | | | | | | received | | | | | | during NF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | of which the | | | | | | upfInfo | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | serv | map( | O | 1..N(1..M) | This | | edUpfInfoList | map(UpfInfo)) | | | attribute | | | | | | contains the | | | | | | upfInfoList | | | | | | attribute | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | that the NRF | | | | | | received | | | | | | during NF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | to which the | | | | | | map entry | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | servedPcfInfo | map(PcfInfo) | O | 1..N | This | | | | | | attribute | | | | | | contains all | | | | | | the pcfInfo | | | | | | attributes | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | the NRF | | | | | | received | | | | | | during NF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | of which the | | | | | | pcfInfo | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | serv | map( | O | 1..N(1..M) | This | | edPcfInfoList | map(PcfInfo)) | | | attribute | | | | | | contains the | | | | | | pcfInfoList | | | | | | attribute | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | that the NRF | | | | | | received | | | | | | during NF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | to which the | | | | | | map entry | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | servedBsfInfo | map(BsfInfo) | O | 1..N | This | | | | | | attribute | | | | | | contains all | | | | | | the bsfInfo | | | | | | attributes | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | the NRF | | | | | | received | | | | | | during NF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | of which the | | | | | | bsfInfo | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | serv | map( | O | 1..N(1..M) | This | | edBsfInfoList | map(BsfInfo)) | | | attribute | | | | | | contains the | | | | | | bsfInfoList | | | | | | attribute | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | that the NRF | | | | | | received | | | | | | during NF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | to which the | | | | | | map entry | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | servedChfInfo | map(ChfInfo) | O | 1..N | This | | | | | | attribute | | | | | | contains all | | | | | | the chfInfo | | | | | | attributes | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | the NRF | | | | | | received | | | | | | during NF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | of which the | | | | | | chfInfo | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | serv | map( | O | 1..N(1..M) | This | | edChfInfoList | map(ChfInfo)) | | | attribute | | | | | | contains the | | | | | | chfInfoList | | | | | | attribute | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | that the NRF | | | | | | received | | | | | | during NF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | to which the | | | | | | map entry | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | servedNefInfo | map(NefInfo) | O | 1..N | This | | | | | | attribute | | | | | | contains all | | | | | | the nefInfo | | | | | | attributes | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | the NRF | | | | | | received | | | | | | during NF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | of which the | | | | | | nefInfo | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | se | m | O | 1..N | This | | rvedNwdafInfo | ap(NwdafInfo) | | | attribute | | | | | | contains all | | | | | | the nwdafInfo | | | | | | attributes | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | the NRF | | | | | | received | | | | | | during NF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | of which the | | | | | | nwdafInfo | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | served | map(ma | O | 1..N | This | | NwdafInfoList | p(NwdafInfo)) | | | attribute | | | | | | contains all | | | | | | the nwdafInfo | | | | | | attributes | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | the NRF | | | | | | received | | | | | | during NF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | to which the | | | | | | map entry | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | served | map(ma | O | 1..N(1..M) | This | | PcscfInfoList | p(PcscfInfo)) | | | attribute | | | | | | contains all | | | | | | the pcscfInfo | | | | | | attributes | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | the NRF | | | | | | received | | | | | | during NF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | to which the | | | | | | map entry | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | s | map(GmlcInfo) | O | 1..N | This | | ervedGmlcInfo | | | | attribute | | | | | | contains all | | | | | | the gmlcInfo | | | | | | attributes | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | the NRF | | | | | | received | | | | | | during NF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | of which the | | | | | | gmlcInfo | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | servedLmfInfo | map(LmfInfo) | O | 1..N | This | | | | | | attribute | | | | | | contains all | | | | | | the lmfInfo | | | | | | attributes | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | the NRF | | | | | | received | | | | | | during NF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | of which the | | | | | | lmfInfo | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | servedNfInfo | map(NfInfo) | O | 1..N | This | | | | | | attribute | | | | | | contains | | | | | | information | | | | | | of other NFs | | | | | | without | | | | | | corresponding | | | | | | NF type | | | | | | specific Info | | | | | | extensions | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | the NRF | | | | | | received | | | | | | during NF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | of the NF. | +---------------+---------------+---+-------------+---------------+ | serv | map( | O | 1..N(1..M) | This | | edHssInfoList | map(HssInfo)) | | | attribute | | | | | | contains all | | | | | | the hssInfo | | | | | | attributes | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | the NRF | | | | | | received | | | | | | during NF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | to which the | | | | | | map entry | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | s | map(UdsfInfo) | O | 1..N | This | | ervedUdsfInfo | | | | attribute | | | | | | contains all | | | | | | the udsfInfo | | | | | | attributes | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | the NRF | | | | | | received | | | | | | during NF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | to which the | | | | | | map entry | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | serve | map(m | O | 1..N(1..M) | This | | dUdsfInfoList | ap(UdsfInfo)) | | | attribute | | | | | | contains the | | | | | | udsfInfoList | | | | | | attribute | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | that the NRF | | | | | | received | | | | | | during NF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | to which the | | | | | | map entry | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | serv | map(ScpInfo) | O | 1..N | This | | edScpInfoList | | | | attribute | | | | | | contains the | | | | | | scpInfo | | | | | | attribute | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | that the NRF | | | | | | received | | | | | | during SCP | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | to which the | | | | | | scpInfo | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | serve | map(SeppInfo) | O | 1..N | This | | dSeppInfoList | | | | attribute | | | | | | contains the | | | | | | seppInfo | | | | | | attribute | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | that the NRF | | | | | | received | | | | | | during SEPP | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | to which the | | | | | | seppInfo | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | serve | map(m | O | 1..N(1..M) | This | | dAanfInfoList | ap(AanfInfo)) | | | attribute | | | | | | contains the | | | | | | aanfInfoList | | | | | | attribute | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | that the NRF | | | | | | received | | | | | | during NF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | to which the | | | | | | map entry | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | serv | map | O | 1..N | This | | ed5gDdnmfInfo | (5GDdnmfInfo) | | | attribute | | | | | | contains all | | | | | | the | | | | | | 5GDdnmfInfo | | | | | | attributes | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | the NRF | | | | | | received | | | | | | during NF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | of which the | | | | | | 5GDdnmfInfo | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | serve | map(MfafInfo) | O | 1..N | This | | dMfafInfoList | | | | attribute | | | | | | contains the | | | | | | mfafInfo | | | | | | attribute | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | that the NRF | | | | | | received | | | | | | during MFAF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | to which the | | | | | | mfafInfo | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | served | map(ma | O | 1..N(1..M) | This | | EasdfInfoList | p(EasdfInfo)) | | | attribute | | | | | | contains the | | | | | | easdfInfoList | | | | | | attribute | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | that the NRF | | | | | | received | | | | | | during NF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | to which the | | | | | | map entry | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | serve | map(DccfInfo) | O | 1..N | This | | dDccfInfoList | | | | attribute | | | | | | contains the | | | | | | dccfInfo | | | | | | attribute | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | that the NRF | | | | | | received | | | | | | during DCCF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | to which the | | | | | | dccfInfo | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | served | map(ma | O | 1..N(1..M) | This | | MbSmfInfoList | p(MbSmfInfo)) | | | attribute | | | | | | contains the | | | | | | mbSmfInfoList | | | | | | attribute | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | that the NRF | | | | | | received | | | | | | during NF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | to which the | | | | | | map entry | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | servedT | map(map | O | 1..N(1..M) | This | | sctsfInfoList | (TsctsfInfo)) | | | attribute | | | | | | contains the | | | | | | t | | | | | | sctsfInfoList | | | | | | attribute | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | that the NRF | | | | | | received | | | | | | during TSCTSF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | to which the | | | | | | map entry | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | served | map(ma | O | 1..N(1..M) | This | | MbUpfInfoList | p(MbUpfInfo)) | | | attribute | | | | | | contains the | | | | | | mbUpfInfoList | | | | | | attribute | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | that the NRF | | | | | | received | | | | | | during NF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | to which the | | | | | | map entry | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | serv | map | O | 1..N | This | | edTrustAfInfo | (TrustAfInfo) | | | attribute | | | | | | contains the | | | | | | trustAfInfo | | | | | | attribute | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | that the NRF | | | | | | received | | | | | | during AF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | to which the | | | | | | map entry | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | ser | ma | O | 1..N | This | | vedNssaafInfo | p(NssaafInfo) | | | attribute | | | | | | contains all | | | | | | the | | | | | | nssaafInfo | | | | | | attributes | | | | | | locally | | | | | | configured in | | | | | | the NRF or | | | | | | the NRF | | | | | | received | | | | | | during NF | | | | | | registration. | | | | | | The key of | | | | | | the map is | | | | | | the | | | | | | nfInstanceId | | | | | | of which the | | | | | | nssaafInfo | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | NOTE 1: The | | | | | | absence of | | | | | | these | | | | | | parameters | | | | | | means the NRF | | | | | | is able to | | | | | | serve any NF | | | | | | discovery | | | | | | request. | | | | | | | | | | | | NOTE 2: For | | | | | | any of the | | | | | | serve | | | | | | dxxxInfo/serv | | | | | | edxxxInfoList | | | | | | attributes | | | | | | (other than | | | | | | s | | | | | | ervedNfInfo), | | | | | | if the data | | | | | | type | | | | | | definition of | | | | | | the | | | | | | corresponding | | | | | | xxxInfo | | | | | | attribute | | | | | | allows to use | | | | | | an empty JSON | | | | | | object, the | | | | | | registering | | | | | | NRF shall | | | | | | include in | | | | | | the | | | | | | serve | | | | | | dxxxInfo/serv | | | | | | edxxxInfoList | | | | | | a map entry | | | | | | with an empty | | | | | | JSON object | | | | | | as value, to | | | | | | indicate the | | | | | | registration | | | | | | of an NF | | | | | | Instance that | | | | | | did not | | | | | | include any | | | | | | xxxInf | | | | | | o/xxxInfoList | | | | | | attributes; | | | | | | otherwise, | | | | | | the | | | | | | registering | | | | | | NRF shall | | | | | | check the | | | | | | support of | | | | | | the feature | | | | | | \"Empty-Objec | | | | | | ts-Nrf-Info\" | | | | | | (see | | | | | | clause 6.1.9) | | | | | | in the target | | | | | | NRF and, if | | | | | | the feature | | | | | | is not | | | | | | supported, it | | | | | | shall use the | | | | | | generic | | | | | | servedNfInfo | | | | | | attribute | | | | | | (instead of | | | | | | the | | | | | | servedxxxInfo | | | | | | corresponding | | | | | | to its NF | | | | | | type) to | | | | | | signal the | | | | | | registration | | | | | | of such NF | | | | | | instance with | | | | | | absent | | | | | | xxxInf | | | | | | o/xxxInfoList | | | | | | attributes. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.32 Type: ChfInfo
Table 6.1.6.2.32-1: Definition of type ChfInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | supiRangeList | arr | O | 1..N | List of | | | ay(SupiRange) | | | ranges of | | | | | | SUPIs that | | | | | | can be served | | | | | | by the CHF | | | | | | instance. | | | | | | | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | gpsiRangeList | array(I | O | 1..N | List of | | | dentityRange) | | | ranges of | | | | | | GPSI that can | | | | | | be served by | | | | | | the CHF | | | | | | instance. | | | | | | | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | plmnRangeList | arr | O | 1..N | List of | | | ay(PlmnRange) | | | ranges of | | | | | | PLMNs | | | | | | (including | | | | | | the PLMN IDs | | | | | | of the CHF | | | | | | instance) | | | | | | that can be | | | | | | served by the | | | | | | CHF instance. | | | | | | If not | | | | | | provided, the | | | | | | CHF can serve | | | | | | any PLMN. | +---------------+---------------+---+-------------+---------------+ | groupId | NfGroupId | O | 0..1 | Identity of | | | | | | the CHF group | | | | | | that is | | | | | | served by the | | | | | | CHF instance. | | | | | | | | | | | | If not | | | | | | provided, the | | | | | | CHF instance | | | | | | does not | | | | | | pertain to | | | | | | any CHF | | | | | | group. | | | | | | | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | prima | NfInstanceId | C | 0..1 | This IE shall | | ryChfInstance | | | | be present if | | | | | | the CHF | | | | | | instance | | | | | | serves as a | | | | | | secondary CHF | | | | | | instance of | | | | | | another | | | | | | primary CHF | | | | | | instance. | | | | | | When present, | | | | | | it shall be | | | | | | set to the NF | | | | | | Instance Id | | | | | | of the | | | | | | primary CHF | | | | | | instance. | | | | | | | | | | | | This IE shall | | | | | | be absent if | | | | | | the | | | | | | seconda | | | | | | ryChfInstance | | | | | | is present. | | | | | | | | | | | | (NOTE 2, | | | | | | NOTE 3) | +---------------+---------------+---+-------------+---------------+ | seconda | NfInstanceId | C | 0..1 | This IE shall | | ryChfInstance | | | | be present if | | | | | | the CHF | | | | | | instance | | | | | | serves as a | | | | | | primary CHF | | | | | | instance of | | | | | | another | | | | | | secondary CHF | | | | | | instance. | | | | | | When present, | | | | | | it shall be | | | | | | set to the NF | | | | | | Instance Id | | | | | | of the | | | | | | secondary CHF | | | | | | instance. | | | | | | | | | | | | This IE shall | | | | | | be absent if | | | | | | the | | | | | | prima | | | | | | ryChfInstance | | | | | | is present. | | | | | | | | | | | | (NOTE 2, | | | | | | NOTE 3) | +---------------+---------------+---+-------------+---------------+ | NOTE 1: If | | | | | | none of these | | | | | | parameters | | | | | | are provided, | | | | | | the CHF can | | | | | | serve any | | | | | | SUPI or GPSI | | | | | | managed by | | | | | | the PLMN of | | | | | | the CHF | | | | | | instance. If | | | | | | \"su | | | | | | piRangeList\" | | | | | | and | | | | | | \"gp | | | | | | siRangeList\" | | | | | | attributes | | | | | | are absent, | | | | | | and | | | | | | \"groupId\" | | | | | | is present, | | | | | | the SUPIs / | | | | | | GPSIs served | | | | | | by this CHF | | | | | | instance is | | | | | | determined by | | | | | | the NRF (see | | | | | | 3GPP TS | | | | | | 23.501 [2], | | | | | | cla | | | | | | use 6.2.6.2). | | | | | | | | | | | | NOTE 2: The | | | | | | NF Service | | | | | | Consumer of | | | | | | the CHF may | | | | | | use these | | | | | | attributes as | | | | | | prim | | | | | | ary/secondary | | | | | | redundancy | | | | | | mechanism, or | | | | | | a | | | | | | lternatively, | | | | | | it may also | | | | | | rely on the | | | | | | availability | | | | | | of an NF Set | | | | | | (or NF | | | | | | Service Set) | | | | | | of CHF | | | | | | Instances (or | | | | | | CHF Service | | | | | | Instances) | | | | | | for the same | | | | | | purpose. | | | | | | | | | | | | NOTE 3: If | | | | | | the CHF does | | | | | | not provide | | | | | | NF set ID or | | | | | | NF Service | | | | | | Set ID in | | | | | | NFProfile, it | | | | | | shall provide | | | | | | one of these | | | | | | attributes. | | | | | | These | | | | | | attributes | | | | | | may be | | | | | | present if | | | | | | the CHF | | | | | | registers an | | | | | | NF set ID or | | | | | | NF service | | | | | | set ID. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.33 Void
##### 6.1.6.2.34 Type: PlmnRange
Table 6.1.6.2.34-1: Definition of type PlmnRange
+-----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +=================+===========+===+=============+=================+ | start | string | O | 0..1 | First value | | | | | | identifying the | | | | | | start of a PLMN | | | | | | range. | | | | | | | | | | | | The string | | | | | | shall be | | | | | | encoded as | | | | | | follows: | | | | | | | | | | | | \\ | | | | | | | | | | | | Pattern: | | | | | | \'\^[0-9]{3}\ | | | | | | [0-9]{2,3}\$\' | +-----------------+-----------+---+-------------+-----------------+ | end | string | O | 0..1 | Last value | | | | | | identifying the | | | | | | end of a PLMN | | | | | | range. | | | | | | | | | | | | The string | | | | | | shall be | | | | | | encoded as | | | | | | follows: | | | | | | | | | | | | \\ | | | | | | | | | | | | Pattern: | | | | | | \'\^[0-9]{3}\ | | | | | | [0-9]{2,3}\$\' | +-----------------+-----------+---+-------------+-----------------+ | pattern | string | O | 0..1 | Pattern | | | | | | (regular | | | | | | expression | | | | | | according to | | | | | | the ECMA-262 | | | | | | dialect [8]) | | | | | | representing | | | | | | the set of | | | | | | PLMNs belonging | | | | | | to this range. | | | | | | A PLMN value is | | | | | | considered part | | | | | | of the range if | | | | | | and only if the | | | | | | PLMN string | | | | | | (formatted as | | | | | | \\) | | | | | | fully matches | | | | | | the regular | | | | | | expression. | +-----------------+-----------+---+-------------+-----------------+ | NOTE: Either | | | | | | the start and | | | | | | end attributes, | | | | | | or the pattern | | | | | | attribute, | | | | | | shall be | | | | | | present. | | | | | +-----------------+-----------+---+-------------+-----------------+
EXAMPLE 1: PLMN range. MCC 123, any MNC\ JSON: { \"start\": \"12300\",
\"end\": \"123999\" }
EXAMPLE 2: PLMN range. MCC 123, MNC within range 45 to 49\ JSON: {
\"pattern\": \"\^1234[5-9]\$\" }, or\ JSON: { \"start\": \"12345\", \"end\":
\"12349\" }
EXAMPLE 3: PLMN range. MCC within range 123 to 257, any MNC\ JSON: {
\"start\": \"12300\", \"end\": \"257999\" }
##### 6.1.6.2.35 Type: SubscrCond
Table 6.1.6.2.35-1: Definition of type SubscrCond as a list of mutually
exclusive alternatives
Data type Cardinality Description
* * *
NfInstanceIdCond 1 Subscription to a given NF Instance NfInstanceIdListCond 1
Subscription to a list of NF Instances NfTypeCond 1 Subscription to a set of
NF Instances, identified by their NF Type ServiceNameCond 1 Subscription to a
set of NF Instances that offer a certain service name ServiceNameListCond 1
Subscription to a set of NF Instances that offer a service name in the Service
Name list. AmfCond 1 Subscription to a set of NF Instances (AMFs), belonging
to a certain AMF Set and/or belonging to a certain AMF Region. GuamiListCond 1
Subscription to a set of NF Instances (AMFs) identified by their Guamis (i.e.
whose guamiList IE in the amfInfo or amfInfoList IE matches at least one of
the GUAMI in the guamiList IE of the subscription). NetworkSliceCond 1
Subscription to a set of NF Instances, identified by S-NSSAI(s) and NSI ID(s).
NfGroupCond 1 Subscription to a set of NF Instances, identified by a NF (UDM,
AUSF, PCF, CHF, HSS or UDR) Group Identity. NfGroupListCond 1 Subscription to
a set of NF Instances, identified by a NF Group Identity in the NF Group
Identity list. NfSetCond 1 Subscription to a set of NF Instances belonging to
a certain NF Set. NfServiceSetCond 1 Subscription to a set of NF Service
Instances, or to a set of equivalent NF Service Instances. UpfCond 1
Subscription to a set of NF Instances (UPFs), able to serve a certain service
area (i.e. SMF serving area or TAI list). ScpDomainCond 1 Subscription to a
set of NF, SCP or SEPP instances belonging to certain SCP domains. NwdafCond 1
Subscription to a set of NF Instances (NWDAFs), identified by Analytics ID(s),
S-NSSAI(s) or NWDAF Serving Area information, i.e. list of TAIs for which the
NWDAF can provide analytics. NefCond 1 Subscription to a set of NF Instances
(NEFs), identified by Event ID(s) provided by AF, S-NSSAI(s), AF Instance ID,
Application Identifier, External Identifier, External Group Identifier, or
domain name. DccfCond 1 Subscription to a set of NF Instances (DCCFs),
identified by NF types, NF Set Id(s) or DCCF Serving Area information, i.e.
list of TAIs served by the DCCF.
##### 6.1.6.2.36 Type: NfInstanceIdCond
Table 6.1.6.2.36-1: Definition of type NfInstanceIdCond
Attribute name Data type P Cardinality Description
* * *
nfInstanceId NfInstanceId M 1 NF Instance ID of the NF Instance whose status
is requested to be monitored.
##### 6.1.6.2.37 Type: NfTypeCond
Table 6.1.6.2.37-1: Definition of type NfTypeCond
Attribute name Data type P Cardinality Description
* * *
nfType NFType M 1 NF type of the NF Instances whose status is requested to be
monitored. NOTE: This type shall not contain the attribute \"nfGroupId\", to
avoid that this type has a matching definition with \"NfGroupCond\" type.
##### 6.1.6.2.38 Type: ServiceNameCond
Table 6.1.6.2.38-1: Definition of type ServiceNameCond
Attribute name Data type P Cardinality Description
* * *
serviceName ServiceName M 1 Service name offered by the NF Instances whose
status is requested to be monitored.
##### 6.1.6.2.39 Type: AmfCond
Table 6.1.6.2.39-1: Definition of type AmfCond
+---------------+-------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+=============+===+=============+===============+ | amfSetId | AmfSetId | C | 1 | AMF Set ID of | | | | | | the NF | | | | | | Instances | | | | | | (AMF) whose | | | | | | status is | | | | | | requested to | | | | | | be monitored. | +---------------+-------------+---+-------------+---------------+ | amfRegionId | AmfRegionId | C | 1 | AMF Region ID | | | | | | of the NF | | | | | | Instances | | | | | | (AMF) whose | | | | | | status is | | | | | | requested to | | | | | | be monitored. | +---------------+-------------+---+-------------+---------------+ | NOTE 1: At | | | | | | least | | | | | | amfSetId or | | | | | | amfRegionId | | | | | | shall be | | | | | | present; if | | | | | | both the | | | | | | amfRegionId | | | | | | and amfSetId | | | | | | attributes | | | | | | are present | | | | | | in the | | | | | | Subs | | | | | | criptionData, | | | | | | this | | | | | | indicates a | | | | | | subscription | | | | | | for | | | | | | notifications | | | | | | satisfying | | | | | | both | | | | | | attributes | | | | | | (i.e. | | | | | | notifications | | | | | | for NFs from | | | | | | that | | | | | | amfRegionId | | | | | | and | | | | | | amfSetId). | | | | | | | | | | | | NOTE 2: The | | | | | | PLMN ID (or | | | | | | PLMN ID and | | | | | | NID) of the | | | | | | AMF Region | | | | | | and AMF Set | | | | | | of the NF | | | | | | Instances | | | | | | (AMF) whose | | | | | | status is | | | | | | requested to | | | | | | be monitored | | | | | | may be | | | | | | indicated in | | | | | | the plmnId | | | | | | attribute (or | | | | | | plmnid and | | | | | | nid | | | | | | attributes) | | | | | | in the | | | | | | Subs | | | | | | criptionData. | | | | | +---------------+-------------+---+-------------+---------------+
##### 6.1.6.2.40 Type: GuamiListCond
Table 6.1.6.2.40-1: Definition of type GuamiListCond
Attribute name Data type P Cardinality Description
* * *
guamiList array(Guami) M 1..N Guamis of the NF Instances (AMFs) whose status
is requested to be monitored (i.e. whose guamiList IE in the amfInfo or
amfInfoList IE matches at least one of the GUAMI in the guamiList IE of the
subscription).
##### 6.1.6.2.41 Type: NetworkSliceCond
Table 6.1.6.2.41-1: Definition of type NetworkSliceCond
Attribute name Data type P Cardinality Description
* * *
snssaiList array(Snssai) M 1..N S -NSSAIs of the NF Instances whose status is
requested to be monitored. nsiList array(string) O 1..N NSI IDs of the NF
Instances whose status is requested to be monitored.
##### 6.1.6.2.42 Type: NfGroupCond
Table 6.1.6.2.42-1: Definition of type NfGroupCond
Attribute name Data type P Cardinality Description
* * *
nfType string M 1 NF type (UDM, AUSF, PCF, UDR, HSS or CHF) of the NF
Instances whose status is requested to be monitored. nfGroupId NfGroupId M 1
Group ID of the NF Instances whose status is requested to be monitored.
##### 6.1.6.2.43 Type: NotifCondition
Table 6.1.6.2.43-1: Definition of type NotifCondition
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | monito | array(string) | C | 1..N | List of JSON | | redAttributes | | | | Pointers (as | | | | | | specified in | | | | | | IETF RFC | | | | | | 6901 [14]) | | | | | | of attributes | | | | | | in the NF | | | | | | Profile. | | | | | | | | | | | | If this | | | | | | attribute is | | | | | | present, the | | | | | | NRF shall | | | | | | send | | | | | | notification | | | | | | only for | | | | | | changes in | | | | | | the | | | | | | attributes | | | | | | included in | | | | | | this list | | | | | | (see NOTE 1). | +---------------+---------------+---+-------------+---------------+ | unmonito | array(string) | C | 1..N | List of JSON | | redAttributes | | | | Pointers (as | | | | | | specified in | | | | | | IETF RFC | | | | | | 6901 [14]) | | | | | | of attributes | | | | | | in the NF | | | | | | Profile. | | | | | | | | | | | | If this | | | | | | attribute is | | | | | | present, the | | | | | | NRF shall | | | | | | send | | | | | | notification | | | | | | for changes | | | | | | on any | | | | | | attribute, | | | | | | except for | | | | | | those | | | | | | included in | | | | | | this list | | | | | | (see NOTE 1). | +---------------+---------------+---+-------------+---------------+ | NOTE 1: | | | | | | Attributes | | | | | | \"monitore | | | | | | dAttributes\" | | | | | | and | | | | | | \"unmonitore | | | | | | dAttributes\" | | | | | | shall not be | | | | | | included | | | | | | s | | | | | | imultaneously | | | | | +---------------+---------------+---+-------------+---------------+
EXAMPLE 1: The following JSON object would represent a monitoring condition
where the client requests to be notified of all changes on the NF Profile,
except \"load\" attribute.
{
\"unmonitoredAttributes\": [ \"/load\" ]
}
EXAMPLE 2: The following JSON object would represent a monitoring condition
where the client requests to be notified only of changes on attribute
\"nfStatus\":
{
\"monitoredAttributes\": [ \"/nfStatus\" ]
}
EXAMPLE 3: The following JSON object would represent a monitoring condition
where the client requests to be notified only of changes on the first item of
\"nfServices\":
{
\"monitoredAttributes\": [ \"/nfServices/0\" ]
}
##### 6.1.6.2.44 Type: PlmnSnssai
Table 6.1.6.2.44-1: Definition of type PlmnSnssai
Attribute name Data type P Cardinality Description
* * *
plmnId PlmnId M 1 PLMN ID for which list of supported S-NSSAI(s) is provided.
sNssaiList array(ExtSnssai) M 1..N The specific list of S-NSSAIs supported by
the given PLMN or SNPN. nid Nid O 0..1 NID for which list of supported
S-NSSAI(s) is provided.
##### 6.1.6.2.45 Type: NwdafInfo
Table 6.1.6.2.45-1: Definition of type NwdafInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | eventIds | a | C | 1..N | EventId(s) | | | rray(EventId) | | | supported by | | | | | | the | | | | | | Nnwdaf_ | | | | | | AnalyticsInfo | | | | | | service, if | | | | | | none are | | | | | | provided the | | | | | | NWDAF can | | | | | | serve any | | | | | | eventId. | +---------------+---------------+---+-------------+---------------+ | nwdafEvents | arra | C | 1..N | Event(s) | | | y(NwdafEvent) | | | supported by | | | | | | the | | | | | | Nnwdaf_Event | | | | | | sSubscription | | | | | | service, if | | | | | | none are | | | | | | provided the | | | | | | NWDAF can | | | | | | serve any | | | | | | nwdafEvent. | +---------------+---------------+---+-------------+---------------+ | taiList | array(Tai) | O | 1..N | The list of | | | | | | TAIs the | | | | | | NWDAF can | | | | | | serve. It may | | | | | | contain one | | | | | | or more | | | | | | non-3GPP | | | | | | access TAIs. | | | | | | The absence | | | | | | of this | | | | | | attribute and | | | | | | the | | | | | | taiRangeList | | | | | | attribute | | | | | | indicate that | | | | | | the NWDAF can | | | | | | be selected | | | | | | for any TAI | | | | | | in the | | | | | | serving | | | | | | network. | +---------------+---------------+---+-------------+---------------+ | taiRangeList | ar | O | 1..N | The range of | | | ray(TaiRange) | | | TAIs the | | | | | | NWDAF can | | | | | | serve. It may | | | | | | contain | | | | | | non-3GPP | | | | | | access TAIs. | | | | | | The absence | | | | | | of this | | | | | | attribute and | | | | | | the taiList | | | | | | attribute | | | | | | indicate that | | | | | | the NWDAF can | | | | | | be selected | | | | | | for any TAI | | | | | | in the | | | | | | serving | | | | | | network. | +---------------+---------------+---+-------------+---------------+ | nw | Nw | O | 0..1 | If present, | | dafCapability | dafCapability | | | this IE shall | | | | | | indicate the | | | | | | capability of | | | | | | the NWDAF. | | | | | | | | | | | | If not | | | | | | present, the | | | | | | NWDAF shall | | | | | | be regarded | | | | | | with no | | | | | | capability. | +---------------+---------------+---+-------------+---------------+ | a | DurationSec | O | 0..1 | Supported | | nalyticsDelay | | | | Analytics | | | | | | Delay related | | | | | | to the | | | | | | eventIds and | | | | | | nwdafEvents. | +---------------+---------------+---+-------------+---------------+ | serv | array(NFType) | O | 1..N | If present, | | ingNfTypeList | | | | this IE shall | | | | | | contain the | | | | | | list of NF | | | | | | type(s) from | | | | | | which the | | | | | | NWDAF NF can | | | | | | collect data. | | | | | | The absence | | | | | | of this | | | | | | attribute | | | | | | indicates | | | | | | that the | | | | | | NWDAF can | | | | | | collect data | | | | | | from any NF | | | | | | type. | +---------------+---------------+---+-------------+---------------+ | servi | a | O | 1..N | If present, | | ngNfSetIdList | rray(NfSetId) | | | this IE shall | | | | | | contain the | | | | | | list of NF | | | | | | Set Id(s) | | | | | | from which | | | | | | the NWDAF NF | | | | | | can collect | | | | | | data. The | | | | | | absence of | | | | | | this | | | | | | attribute | | | | | | indicates | | | | | | that the | | | | | | NWDAF can | | | | | | collect data | | | | | | from any NF | | | | | | Set. | +---------------+---------------+---+-------------+---------------+ | ml | array(MlA | C | 1..N | ML Analytics | | AnalyticsList | nalyticsInfo) | | | Filter | | | | | | information | | | | | | supported by | | | | | | the | | | | | | Nnwdaf_MLM | | | | | | odelProvision | | | | | | service. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.46 Type: LmfInfo
Table 6.1.6.2.46-1: Definition of type LmfInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | servi | array(Extern | C | 1..N | This IE shall | | ngClientTypes | alClientType) | | | be present if | | | | | | the LMF is | | | | | | dedicated to | | | | | | serve the | | | | | | listed | | | | | | external | | | | | | client | | | | | | type(s), e.g. | | | | | | emergency | | | | | | client. The | | | | | | NRF should | | | | | | only include | | | | | | this LMF | | | | | | instance to | | | | | | NF discovery | | | | | | with | | | | | | \" | | | | | | client-type\" | | | | | | query | | | | | | parameter | | | | | | indicating | | | | | | one of the | | | | | | external | | | | | | client types | | | | | | in the list. | | | | | | | | | | | | Absence of | | | | | | this IE means | | | | | | the LMF is | | | | | | not dedicated | | | | | | to serve | | | | | | specific | | | | | | client types. | +---------------+---------------+---+-------------+---------------+ | lmfId | LMFI | C | 0..1 | When present, | | | dentification | | | this ID shall | | | | | | indicate the | | | | | | LMF | | | | | | id | | | | | | entification. | +---------------+---------------+---+-------------+---------------+ | servi | arra | C | 1..N | If included, | | ngAccessTypes | y(AccessType) | | | this IE shall | | | | | | contain the | | | | | | access type | | | | | | (i.e. | | | | | | 3GPP_ACCESS | | | | | | and/or | | | | | | NON_ | | | | | | 3GPP_ACCESS) | | | | | | supported by | | | | | | the LMF. | | | | | | | | | | | | If not | | | | | | included, it | | | | | | shall be | | | | | | assumed that | | | | | | all access | | | | | | types are | | | | | | supported. | +---------------+---------------+---+-------------+---------------+ | servi | arra | C | 1..N | If included, | | ngAnNodeTypes | y(AnNodeType) | | | this IE shall | | | | | | contain the | | | | | | AN node type | | | | | | (i.e. gNB or | | | | | | NG-eNB) | | | | | | supported by | | | | | | the LMF. | | | | | | | | | | | | If not | | | | | | included, it | | | | | | shall be | | | | | | assumed that | | | | | | all AN node | | | | | | types are | | | | | | supported. | +---------------+---------------+---+-------------+---------------+ | se | a | C | 1..N | If included, | | rvingRatTypes | rray(RatType) | | | this IE shall | | | | | | contain the | | | | | | RAT type | | | | | | (e.g. 5G NR, | | | | | | eLTE or any | | | | | | of the RAT | | | | | | Types | | | | | | specified for | | | | | | NR satellite | | | | | | access) | | | | | | supported by | | | | | | the LMF. | | | | | | | | | | | | If not | | | | | | included, it | | | | | | shall be | | | | | | assumed that | | | | | | all RAT types | | | | | | are | | | | | | supported. | +---------------+---------------+---+-------------+---------------+ | taiList | array(Tai) | O | 1..N | When present, | | | | | | this IE shall | | | | | | contain TAI | | | | | | list that the | | | | | | LMF can | | | | | | serve. It may | | | | | | contain one | | | | | | or more | | | | | | non-3GPP | | | | | | access TAIs. | | | | | | | | | | | | The absence | | | | | | of both this | | | | | | attribute and | | | | | | the | | | | | | taiRangeList | | | | | | attribute | | | | | | indicates | | | | | | that the LMF | | | | | | can be | | | | | | selected for | | | | | | any TAI in | | | | | | the serving | | | | | | network. | +---------------+---------------+---+-------------+---------------+ | taiRangeList | ar | O | 1..N | When present, | | | ray(TaiRange) | | | this IE shall | | | | | | contain TAI | | | | | | range list | | | | | | that the LMF | | | | | | can serve. It | | | | | | may contain | | | | | | one or more | | | | | | non-3GPP | | | | | | access TAI | | | | | | ranges. The | | | | | | absence of | | | | | | both this | | | | | | attribute and | | | | | | the taiList | | | | | | attribute | | | | | | indicates | | | | | | that the LMF | | | | | | can be | | | | | | selected for | | | | | | any TAI in | | | | | | the serving | | | | | | network. | +---------------+---------------+---+-------------+---------------+ | suppo | array(Suppor | O | 1..N | If included, | | rtedGADShapes | tedGADShapes) | | | this IE shall | | | | | | contain the | | | | | | GAD shapes | | | | | | supported by | | | | | | the LMF. | | | | | | | | | | | | If not | | | | | | included, it | | | | | | doesn\'t | | | | | | indicate that | | | | | | the LMF | | | | | | doesn\'t | | | | | | support any | | | | | | GAD shapes. | +---------------+---------------+---+-------------+---------------+ | pru | Pru | O | 0..1 | When present, | | ExistenceInfo | ExistenceInfo | | | this IE shall | | | | | | contain the | | | | | | PRU Existence | | | | | | Information. | +---------------+---------------+---+-------------+---------------+ | pruSupportInd | boolean | O | 0..1 | This IE may | | | | | | be used by | | | | | | the LMF to | | | | | | indicate the | | | | | | support of | | | | | | PRU function. | | | | | | | | | | | | When the IE | | | | | | is present | | | | | | and set to | | | | | | true, it | | | | | | indicates | | | | | | that the PRU | | | | | | function is | | | | | | supported by | | | | | | the LMF. | | | | | | | | | | | | If the IE is | | | | | | not present | | | | | | or set to | | | | | | false | | | | | | (default), it | | | | | | indicates | | | | | | that the PRU | | | | | | function is | | | | | | not supported | | | | | | by the LMF. | +---------------+---------------+---+-------------+---------------+ | rangingsl | boolean | O | 0..1 | When present, | | posSupportInd | | | | this ID shall | | | | | | indicate | | | | | | whether | | | | | | ranging and | | | | | | sidelink | | | | | | positioning | | | | | | capability is | | | | | | supported by | | | | | | the LMF. | | | | | | | | | | | | true: | | | | | | Supported\ | | | | | | false | | | | | | (default): | | | | | | Not Supported | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.47 Type: GmlcInfo
Table 6.1.6.2.47-1: Definition of type GmlcInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | servi | array(Extern | C | 1..N | This IE shall | | ngClientTypes | alClientType) | | | be present if | | | | | | the GMLC is | | | | | | dedicated to | | | | | | serve the | | | | | | listed | | | | | | external | | | | | | client | | | | | | type(s), e.g. | | | | | | emergency | | | | | | client. The | | | | | | NRF should | | | | | | only include | | | | | | this GMLC | | | | | | instance to | | | | | | NF discovery | | | | | | with | | | | | | \" | | | | | | client-type\" | | | | | | query | | | | | | parameter | | | | | | indicating | | | | | | one of the | | | | | | external | | | | | | client types | | | | | | in the list. | | | | | | | | | | | | Absence of | | | | | | this IE means | | | | | | the GMLC is | | | | | | not dedicated | | | | | | to serve | | | | | | specific | | | | | | client types. | +---------------+---------------+---+-------------+---------------+ | gmlcNumbers | array(string) | O | 1..N | This IE shall | | | | | | be present if | | | | | | the GMLC is | | | | | | configured | | | | | | with a number | | | | | | of GMLC | | | | | | Numbers. | | | | | | | | | | | | When present, | | | | | | each item of | | | | | | the array | | | | | | shall carry | | | | | | an | | | | | | OctetString | | | | | | indicating | | | | | | the ISDN | | | | | | number of the | | | | | | GMLC in | | | | | | international | | | | | | number format | | | | | | as described | | | | | | in | | | | | | ITU-T Rec. | | | | | | E.164 [44] | | | | | | and shall be | | | | | | encoded as a | | | | | | TBCD-string. | | | | | | | | | | | | Pattern for | | | | | | each iterm of | | | | | | the array: | | | | | | \"\^[0- | | | | | | 9]{5,15}\$\" | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.48 Type: NefInfo
Table 6.1.6.2.48-1: Definition of type NefInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | nefId | NefId | C | 0..1 | This IE shall | | | | | | be present | | | | | | and contain | | | | | | the NEF ID of | | | | | | the NEF if | | | | | | NIDD service | | | | | | is supported. | +---------------+---------------+---+-------------+---------------+ | pfdData | PfdData | O | 0..1 | PFD data, | | | | | | containing | | | | | | the list of | | | | | | internal | | | | | | application | | | | | | identifiers | | | | | | and/or the | | | | | | list of | | | | | | application | | | | | | function | | | | | | identifiers | | | | | | for which the | | | | | | PFDs can be | | | | | | provided. | | | | | | | | | | | | Absence of | | | | | | this | | | | | | attribute | | | | | | indicates | | | | | | that the PFDs | | | | | | for any | | | | | | internal | | | | | | application | | | | | | identifier | | | | | | and for any | | | | | | application | | | | | | function | | | | | | identifier | | | | | | can be | | | | | | provided. | +---------------+---------------+---+-------------+---------------+ | afEeData | AfEven | O | 0..1 | The AF | | | tExposureData | | | provided | | | | | | event | | | | | | exposure | | | | | | data. The NEF | | | | | | registers | | | | | | such | | | | | | information | | | | | | in the NRF on | | | | | | behalf of the | | | | | | AF. | +---------------+---------------+---+-------------+---------------+ | gpsiRanges | array(I | O | 1..N | Range(s) of | | | dentityRange) | | | External | | | | | | Identifiers | +---------------+---------------+---+-------------+---------------+ | exte | array(I | O | 1..N | Range(s) of | | rnalGroupIden | dentityRange) | | | External | | tifiersRanges | | | | Group | | | | | | Identifiers | +---------------+---------------+---+-------------+---------------+ | s | array(string) | O | 1..N | Pattern | | ervedFqdnList | | | | (regular | | | | | | expression | | | | | | according to | | | | | | the ECMA-262 | | | | | | dialect | | | | | | [8]) | | | | | | representing | | | | | | the Domain | | | | | | names served | | | | | | by the NEF | +---------------+---------------+---+-------------+---------------+ | taiList | array(Tai) | O | 1..N | The list of | | | | | | TAIs the NEF | | | | | | can serve. It | | | | | | may contain | | | | | | one or more | | | | | | non-3GPP | | | | | | access TAIs. | | | | | | The absence | | | | | | of this | | | | | | attribute and | | | | | | the | | | | | | taiRangeList | | | | | | attribute | | | | | | indicates | | | | | | that the NEF | | | | | | can be | | | | | | selected for | | | | | | any TAI in | | | | | | the serving | | | | | | network. | +---------------+---------------+---+-------------+---------------+ | taiRangeList | ar | O | 1..N | The range of | | | ray(TaiRange) | | | TAIs the NEF | | | | | | can serve. It | | | | | | may contain | | | | | | non-3GPP | | | | | | access TAIs. | | | | | | The absence | | | | | | of this | | | | | | attribute and | | | | | | the taiList | | | | | | attribute | | | | | | indicates | | | | | | that the NEF | | | | | | can be | | | | | | selected for | | | | | | any TAI in | | | | | | the serving | | | | | | network. | +---------------+---------------+---+-------------+---------------+ | dnaiList | array(Dnai) | O | 1..N | List of Data | | | | | | network | | | | | | access | | | | | | identifiers | | | | | | supported by | | | | | | the NEF. The | | | | | | absence of | | | | | | this | | | | | | attribute | | | | | | indicates | | | | | | that the NEF | | | | | | can be | | | | | | selected for | | | | | | any DNAI. | +---------------+---------------+---+-------------+---------------+ | unTr | array(U | O | 1..N | List of | | ustAfInfoList | nTrustAfInfo) | | | information | | | | | | corresponding | | | | | | to the AFs. | +---------------+---------------+---+-------------+---------------+ | uasNfFun | boolean | O | 0..1 | When present, | | ctionalityInd | | | | this IE shall | | | | | | indicate | | | | | | whether the | | | | | | NEF supports | | | | | | UAS NF | | | | | | f | | | | | | unctionality: | | | | | | | | | | | | - true: UAS | | | | | | NF | | | | | | functionality | | | | | | is supported | | | | | | by the NEF | | | | | | | | | | | | - false | | | | | | (default): | | | | | | UAS NF | | | | | | functionality | | | | | | is not | | | | | | supported by | | | | | | the NEF. | +---------------+---------------+---+-------------+---------------+ | multiMe | boolean | O | 0..1 | When present, | | mAfSessQosInd | | | | this IE shall | | | | | | indicate | | | | | | whether the | | | | | | NEF supports | | | | | | Multi-member | | | | | | AF session | | | | | | with required | | | | | | QoS | | | | | | f | | | | | | unctionality: | | | | | | | | | | | | - true: | | | | | | Multi-member | | | | | | AF session | | | | | | with required | | | | | | QoS | | | | | | functionality | | | | | | is supported | | | | | | by the NEF | | | | | | | | | | | | - false | | | | | | (default): | | | | | | Multi-member | | | | | | AF session | | | | | | with required | | | | | | QoS | | | | | | functionality | | | | | | is not | | | | | | supported by | | | | | | the NEF. | +---------------+---------------+---+-------------+---------------+ | memberU | boolean | O | 0..1 | When present, | | ESelAssistInd | | | | this IE shall | | | | | | indicate | | | | | | whether the | | | | | | NEF supports | | | | | | member UE | | | | | | selection | | | | | | assistance | | | | | | f | | | | | | unctionality: | | | | | | | | | | | | - true: | | | | | | member UE | | | | | | selection | | | | | | assistance | | | | | | functionality | | | | | | is supported | | | | | | by the NEF | | | | | | | | | | | | - false | | | | | | (default): | | | | | | member UE | | | | | | selection | | | | | | assistance | | | | | | functionality | | | | | | is not | | | | | | supported by | | | | | | the NEF. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.49 Type: PfdData
Table 6.1.6.2.49-1: Definition of type PfdData
Attribute name Data type P Cardinality Description
* * *
appIds array(string) O 1..N List of internal application identifiers of the
managed PFDs. afIds array(string) O 1..N List of application function
identifiers of the managed PFDs.
##### 6.1.6.2.50 Type: AfEventExposureData
Table 6.1.6.2.50-1: Definition of type AfEventExposureData
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | afEvents | a | M | 1..N | AF Event(s) | | | rray(AfEvent) | | | exposed by | | | | | | the NEF after | | | | | | registration | | | | | | of the AF(s) | | | | | | at the NEF. | +---------------+---------------+---+-------------+---------------+ | afIds | array(string) | O | 1..N | Associated AF | | | | | | id | | | | | | entifications | | | | | | to the | | | | | | AfEvents. The | | | | | | absence of | | | | | | this | | | | | | attribute | | | | | | indicate that | | | | | | the NEF can | | | | | | be selected | | | | | | for any AF. | | | | | | | | | | | | If present | | | | | | the ordered | | | | | | list of afIds | | | | | | shall contain | | | | | | as many | | | | | | elements as | | | | | | the ordered | | | | | | list of | | | | | | afEvents, | | | | | | where the | | | | | | ordering | | | | | | determines | | | | | | the | | | | | | association | | | | | | between afId | | | | | | and AfEvent. | +---------------+---------------+---+-------------+---------------+ | appIds | array(string) | O | 1..N | The list of | | | | | | Application | | | | | | ID(s) the | | | | | | AF(s) | | | | | | connected to | | | | | | the NEF | | | | | | supports. The | | | | | | absence of | | | | | | this | | | | | | attribute | | | | | | indicate that | | | | | | the NEF can | | | | | | be selected | | | | | | for any | | | | | | Application. | | | | | | | | | | | | If present | | | | | | the ordered | | | | | | list of | | | | | | appIds shall | | | | | | contain as | | | | | | many elements | | | | | | as the | | | | | | ordered list | | | | | | of afEvents, | | | | | | where the | | | | | | ordering | | | | | | determines | | | | | | the | | | | | | association | | | | | | between appId | | | | | | and AfEvent. | +---------------+---------------+---+-------------+---------------+ | taiList | array(Tai) | O | 1..N | This IE may | | | | | | be present if | | | | | | the AfEvent | | | | | | is set to | | | | | | \ | | | | | | "GNSS_ASSIST | | | | | | ANCE_DATA\". | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | list of TAIs | | | | | | the trusted | | | | | | AF can serve. | | | | | | It may | | | | | | contain one | | | | | | or more | | | | | | non-3GPP | | | | | | access TAIs. | | | | | | The absence | | | | | | of this | | | | | | attribute and | | | | | | the | | | | | | taiRangeList | | | | | | attribute | | | | | | indicate that | | | | | | the trusted | | | | | | AF can be | | | | | | selected for | | | | | | any TAI in | | | | | | the serving | | | | | | network. | +---------------+---------------+---+-------------+---------------+ | taiRangeList | ar | O | 1..N | This IE may | | | ray(TaiRange) | | | be present if | | | | | | the AfEvent | | | | | | is set to | | | | | | \ | | | | | | "GNSS_ASSIST | | | | | | ANCE_DATA\". | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | range of TAIs | | | | | | the trusted | | | | | | AF can serve. | | | | | | It may | | | | | | contain | | | | | | non-3GPP | | | | | | access TAIs. | | | | | | The absence | | | | | | of this | | | | | | attribute and | | | | | | the taiList | | | | | | attribute | | | | | | indicate that | | | | | | the trusted | | | | | | AF can be | | | | | | selected for | | | | | | any TAI in | | | | | | the serving | | | | | | network. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.51 Type: WAgfInfo
Table 6.1.6.2.51-1: Definition of type WAgfInfo
Attribute name Data type P Cardinality Description
* * *
ipv4EndpointAddresses array(Ipv4Addr) C 1..N Available endpoint IPv4
address(es) of the N3 terminations (NOTE 1). ipv6EndpointAddresses
array(Ipv6Addr) C 1..N Available endpoint IPv6 address(es) of the N3
terminations (NOTE 1). endpointFqdn Fqdn C 0..1 Available endpoint FQDN of the
N3 terminations (NOTE 1). NOTE 1: At least one of the addressing parameters
(ipv4address, ipv6adress or endpointFqdn) shall be included in the WAgfInfo.
##### 6.1.6.2.52 Type: TngfInfo
Table 6.1.6.2.52-1: Definition of type TngfInfo
Attribute name Data type P Cardinality Description
* * *
ipv4EndpointAddresses array(Ipv4Addr) C 1..N Available endpoint IPv4
address(es) of the N3 terminations (NOTE 1). ipv6EndpointAddresses
array(Ipv6Addr) C 1..N Available endpoint IPv6 address(es) of the N3
terminations (NOTE 1). endpointFqdn Fqdn C 0..1 Available endpoint FQDN of the
N3 terminations (NOTE 1). NOTE 1: At least one of the addressing parameters
(ipv4address, ipv6adress or endpointFqdn) shall be included in the TngfInfo.
##### 6.1.6.2.53 Type: PcscfInfo
Table 6.1.6.2.53-1: Definition of type PcscfInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | accessType | arra | C | 1..N | If included, | | | y(AccessType) | | | this IE shall | | | | | | contain the | | | | | | access type | | | | | | (3GPP_ACCESS | | | | | | and/or | | | | | | NON_ | | | | | | 3GPP_ACCESS) | | | | | | supported by | | | | | | the P-CSCF. | | | | | | | | | | | | If not | | | | | | included, it | | | | | | shall be | | | | | | assumed that | | | | | | all access | | | | | | types are | | | | | | supported. | +---------------+---------------+---+-------------+---------------+ | dnnList | array(Dnn) | O | 1..N | DNNs | | | | | | supported by | | | | | | the P-CSCF. | | | | | | The DNN shall | | | | | | contain the | | | | | | Network | | | | | | Identifier | | | | | | and it may | | | | | | additionally | | | | | | contain an | | | | | | Operator | | | | | | Identifier. | | | | | | If the | | | | | | Operator | | | | | | Identifier is | | | | | | not included, | | | | | | the DNN is | | | | | | supported for | | | | | | all the PLMNs | | | | | | in the | | | | | | plmnList of | | | | | | the NF | | | | | | Profile. | | | | | | | | | | | | If not | | | | | | provided, the | | | | | | P-CSCF can | | | | | | serve any | | | | | | DNN. | +---------------+---------------+---+-------------+---------------+ | gmFqdn | Fqdn | O | 0..1 | FQDN of the | | | | | | P-CSCF for | | | | | | the Gm | | | | | | interface | +---------------+---------------+---+-------------+---------------+ | gm | ar | O | 1..N | IPv4 | | Ipv4Addresses | ray(Ipv4Addr) | | | address(es) | | | | | | of the P-CSCF | | | | | | for the Gm | | | | | | interface | +---------------+---------------+---+-------------+---------------+ | gm | ar | O | 1..N | IPv6 | | Ipv6Addresses | ray(Ipv6Addr) | | | address(es) | | | | | | of the P-CSCF | | | | | | for the Gm | | | | | | interface | +---------------+---------------+---+-------------+---------------+ | mwFqdn | Fqdn | O | 0..1 | FQDN of the | | | | | | P-CSCF for | | | | | | the Mw | | | | | | interface | | | | | | | | | | | | (NOTE) | +---------------+---------------+---+-------------+---------------+ | mw | ar | O | 1..N | IPv4 | | Ipv4Addresses | ray(Ipv4Addr) | | | address(es) | | | | | | of the P-CSCF | | | | | | for the Mw | | | | | | interface | | | | | | | | | | | | (NOTE) | +---------------+---------------+---+-------------+---------------+ | mw | ar | O | 1..N | IPv6 | | Ipv6Addresses | ray(Ipv6Addr) | | | address(es) | | | | | | of the P-CSCF | | | | | | for the Mw | | | | | | interface | | | | | | | | | | | | (NOTE) | +---------------+---------------+---+-------------+---------------+ | servedIpv4 | array(Ipv4 | O | 1..N | List of | | AddressRanges | AddressRange) | | | ranges of UE | | | | | | IPv4 | | | | | | addresses | | | | | | used on the | | | | | | Gm interface, | | | | | | served by | | | | | | P-CSCF. | | | | | | | | | | | | The absence | | | | | | of this | | | | | | attribute | | | | | | does not mean | | | | | | the P-CSCF | | | | | | can serve any | | | | | | IPv4 address. | +---------------+---------------+---+-------------+---------------+ | servedIpv | array(Ipv | O | 1..N | List of | | 6PrefixRanges | 6PrefixRange) | | | ranges of UE | | | | | | IPv6 prefixes | | | | | | used on the | | | | | | Gm interface, | | | | | | served by | | | | | | P-CSCF. | | | | | | | | | | | | The absence | | | | | | of this | | | | | | attribute | | | | | | does not mean | | | | | | the P-CSCF | | | | | | can serve any | | | | | | IPv6 prefix. | +---------------+---------------+---+-------------+---------------+ | NOTE: The Mw | | | | | | addressing | | | | | | information | | | | | | of the P-CSCF | | | | | | may be used | | | | | | by other NFs | | | | | | (e.g., SMF) | | | | | | in P-CSCF | | | | | | restoration | | | | | | scenarios | | | | | | (see | | | | | | 3GPP TS 2 | | | | | | 3.380 [45], | | | | | | c | | | | | | lause 5.8.4.2 | | | | | | and | | | | | | cla | | | | | | use 5.8.5.2), | | | | | | where a | | | | | | mapping | | | | | | between Gm | | | | | | and Mw | | | | | | addresses may | | | | | | be used to | | | | | | determine the | | | | | | updated list | | | | | | of P-CSCFs to | | | | | | be sent to | | | | | | the UE, after | | | | | | excluding | | | | | | those P-CSCF | | | | | | instances | | | | | | that have | | | | | | been deemed | | | | | | as failed by | | | | | | the S-CSCF. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.54 Type: NfSetCond
Table 6.1.6.2.54-1: Definition of type NfSetCond
Attribute name Data type P Cardinality Description
* * *
nfSetId NfSetId M 1 NF Set ID (see clause 28.12 of 3GPP TS 23.003 [12]) of NF
Instances whose status is requested to be monitored.
##### 6.1.6.2.55 Type: NfServiceSetCond
Table 6.1.6.2.55-1: Definition of type NfServiceSetCond
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | n | N | M | 1 | NF Service | | fServiceSetId | fServiceSetId | | | Set ID (see | | | | | | clause 28.13 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 3.003 [12]) | | | | | | of NF service | | | | | | instances | | | | | | whose status | | | | | | is requested | | | | | | to be | | | | | | monitored. | +---------------+---------------+---+-------------+---------------+ | nfSetId | NfSetId | C | 0..1 | NF Set ID | | | | | | (see | | | | | | clause 28.12 | | | | | | of | | | | | | 3GPP TS 23 | | | | | | .003 [12]). | | | | | | | | | | | | This | | | | | | attribute | | | | | | shall be | | | | | | included if | | | | | | the consumer | | | | | | requests to | | | | | | monitor the | | | | | | status of all | | | | | | equivalent NF | | | | | | Service | | | | | | Instances in | | | | | | the provided | | | | | | NF Set ID and | | | | | | NF Service | | | | | | Set ID. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.56 Type: NfInfo
Table 6.1.6.2.56-1: Definition of type NfInfo
Attribute name Data type P Cardinality Description
* * *
nfType NFType M 1 This IE shall indicate the type of the NF.
##### 6.1.6.2.57 Type: HssInfo
Table 6.1.6.2.57-1: Definition of type HssInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | groupId | NfGroupId | O | 0..1 | Identity of | | | | | | the HSS group | | | | | | that is | | | | | | served by the | | | | | | HSS instance. | | | | | | | | | | | | If not | | | | | | provided, the | | | | | | HSS instance | | | | | | does not | | | | | | pertain to | | | | | | any HSS | | | | | | group. | | | | | | | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | imsiRanges | arr | O | 1..N | List of | | | ay(ImsiRange) | | | ranges of | | | | | | IMSIs whose | | | | | | profile data | | | | | | is available | | | | | | in the HSS | | | | | | instance | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | imsPrivateI | array(I | O | 1..N | List of | | dentityRanges | dentityRange) | | | ranges of IMS | | | | | | Private | | | | | | Identities | | | | | | whose profile | | | | | | data is | | | | | | available in | | | | | | the HSS | | | | | | instance | | | | | | (NOTE 1, | | | | | | NOTE 2) | +---------------+---------------+---+-------------+---------------+ | imsPublicI | array(I | O | 1..N | List of | | dentityRanges | dentityRange) | | | ranges of IMS | | | | | | Public | | | | | | Identities | | | | | | whose profile | | | | | | data is | | | | | | available in | | | | | | the HSS | | | | | | instance | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | msisdnRanges | array(I | O | 1..N | List of | | | dentityRange) | | | ranges of | | | | | | MSISDNs whose | | | | | | profile data | | | | | | is available | | | | | | in the HSS | | | | | | instance | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | exte | array(I | O | 1..N | List of | | rnalGroupIden | dentityRange) | | | ranges of | | tifiersRanges | | | | external | | | | | | group IDs | | | | | | that can be | | | | | | served by | | | | | | this HSS | | | | | | instance. | | | | | | | | | | | | If not | | | | | | provided, the | | | | | | HSS instance | | | | | | does not | | | | | | serve any | | | | | | external | | | | | | groups. | +---------------+---------------+---+-------------+---------------+ | hssDi | NetworkNodeDi | O | 0..1 | Diameter | | ameterAddress | ameterAddress | | | Address of | | | | | | the HSS | +---------------+---------------+---+-------------+---------------+ | additional | array(N | O | 1..N | Additional | | DiamAddresses | etworkNodeDia | | | Diameter | | | meterAddress) | | | Addresses of | | | | | | the HSS; | | | | | | | | | | | | may be | | | | | | present if | | | | | | hssDi | | | | | | ameterAddress | | | | | | is present | +---------------+---------------+---+-------------+---------------+ | NOTE 1: If | | | | | | none of these | | | | | | parameters | | | | | | are provided, | | | | | | the HSS can | | | | | | serve any | | | | | | IMSI or IMS | | | | | | Private | | | | | | Identity or | | | | | | IMS Public | | | | | | Identity or | | | | | | MSISDN | | | | | | managed by | | | | | | the PLMN of | | | | | | the HSS | | | | | | instance. If | | | | | | \" | | | | | | imsiRanges\", | | | | | | \"i | | | | | | msPrivateIden | | | | | | tityRanges\", | | | | | | \ | | | | | | "imsPublicIde | | | | | | ntityRanges\" | | | | | | and | | | | | | \"m | | | | | | sisdnRanges\" | | | | | | attributes | | | | | | are absent, | | | | | | and | | | | | | \"groupId\" | | | | | | is present, | | | | | | the IMSIs / | | | | | | IMS Private | | | | | | Identities / | | | | | | IMS Public | | | | | | Identities / | | | | | | MSISDNs | | | | | | served by | | | | | | this HSS | | | | | | instance is | | | | | | determined by | | | | | | the NRF. | | | | | | | | | | | | NOTE 2: In | | | | | | deployments | | | | | | where the | | | | | | users IMPIs | | | | | | are derived | | | | | | from their | | | | | | IMSIs (see | | | | | | 3GPP TS 2 | | | | | | 3.003 [12], | | | | | | clause 13.3, | | | | | | the HSS shall | | | | | | only register | | | | | | imsiRanges in | | | | | | NRF. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.58 Type: ImsiRange
Table 6.1.6.2.58-1: Definition of type ImsiRange
+-----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +=================+===========+===+=============+=================+ | start | string | O | 0..1 | First value | | | | | | identifying the | | | | | | start of a IMSI | | | | | | range. | | | | | | | | | | | | Pattern: | | | | | | \ | | | | | | "\^[0-9]+\$\" | +-----------------+-----------+---+-------------+-----------------+ | end | string | O | 0..1 | Last value | | | | | | identifying the | | | | | | end of a IMSI | | | | | | range. | | | | | | | | | | | | Pattern: | | | | | | \ | | | | | | "\^[0-9]+\$\" | +-----------------+-----------+---+-------------+-----------------+ | pattern | string | O | 0..1 | Pattern | | | | | | (regular | | | | | | expression | | | | | | according to | | | | | | the ECMA-262 | | | | | | dialect [8]) | | | | | | representing | | | | | | the set of | | | | | | IMSIs belonging | | | | | | to this range. | | | | | | An IMSI value | | | | | | is considered | | | | | | part of the | | | | | | range if and | | | | | | only if the | | | | | | IMSI string | | | | | | fully matches | | | | | | the regular | | | | | | expression. | +-----------------+-----------+---+-------------+-----------------+ | NOTE: Either | | | | | | the start and | | | | | | end attributes, | | | | | | or the pattern | | | | | | attribute, | | | | | | shall be | | | | | | present. | | | | | +-----------------+-----------+---+-------------+-----------------+
##### 6.1.6.2.59 Type: InternalGroupIdRange
Table 6.1.6.2.59-1: Definition of type InternalGroupIdRange
Attribute name Data type P Cardinality Description
* * *
start GroupId O 0..1 First value identifying the start of an identity range,
to be used when the range of identities can be represented as a consecutive
numeric range. end GroupId O 0..1 Last value identifying the end of an
identity range, to be used when the range of identities can be represented as
a consecutive numeric range. pattern string O 0..1 Pattern (regular expression
according to the ECMA-262 dialect [8]) representing the set of identities
belonging to this range. An identity value is considered part of the range if
and only if the identity string fully matches the regular expression. NOTE:
Either the start and end attributes, or the pattern attribute, shall be
present.
##### 6.1.6.2.60 Type: UpfCond
Table 6.1.6.2.60-1: Definition of type UpfCond
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | conditionType | string | M | 1 | This | | | | | | attribute | | | | | | serves as | | | | | | d | | | | | | iscriminator, | | | | | | to make all | | | | | | data types | | | | | | defined in | | | | | | Table | | | | | | 6.1.6.2.35-1 | | | | | | mutually | | | | | | exclusive. | | | | | | | | | | | | In this data | | | | | | type, it | | | | | | shall take | | | | | | the value | | | | | | \ | | | | | | "UPF_COND\". | +---------------+---------------+---+-------------+---------------+ | s | array(string) | C | 1..N | SMF service | | mfServingArea | | | | area(s) of | | | | | | the UPF whose | | | | | | status is | | | | | | requested to | | | | | | be monitored. | | | | | | | | | | | | This IE shall | | | | | | be present if | | | | | | the monitored | | | | | | granularity | | | | | | is SMF | | | | | | service | | | | | | area(s). | +---------------+---------------+---+-------------+---------------+ | taiList | array(Tai) | C | 1..N | TAI(s) of the | | | | | | UPF whose | | | | | | status is | | | | | | requested to | | | | | | be monitored. | | | | | | | | | | | | This IE shall | | | | | | be present if | | | | | | the monitored | | | | | | granularity | | | | | | is TAI list. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.61 Type: TwifInfo
Table 6.1.6.2.61-1: Definition of type TwifInfo
Attribute name Data type P Cardinality Description
* * *
ipv4EndpointAddresses array(Ipv4Addr) C 1..N Available endpoint IPv4
address(es) of the N3 terminations (NOTE 1) ipv6EndpointAddresses
array(Ipv6Addr) C 1..N Available endpoint IPv6 address(es) of the N3
terminations (NOTE 1) endpointFqdn Fqdn C 0..1 Available endpoint FQDN of the
N3 terminations (NOTE 1) NOTE 1: At least one of the addressing parameters
(ipv4address, ipv6adress or endpointFqdn) shall be included in the TwifInfo.
##### 6.1.6.2.62 Type: VendorSpecificFeature
Table 6.1.6.2.62-1: Definition of type VendorSpecificFeature
+----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +================+===========+===+=============+=================+ | featureName | string | M | 1 | String | | | | | | representing a | | | | | | proprietary | | | | | | feature | | | | | | specific to a | | | | | | given vendor. | | | | | | | | | | | | It is | | | | | | recommended | | | | | | that the case | | | | | | convention for | | | | | | these strings | | | | | | is the same as | | | | | | for enumerated | | | | | | data types | | | | | | (i.e. | | | | | | UPPER_WI | | | | | | TH_UNDERSCORE; | | | | | | see | | | | | | 3GPP T | | | | | | S 29.501 [5], | | | | | | clause 5.1.1). | +----------------+-----------+---+-------------+-----------------+ | featureVersion | string | M | 1 | String | | | | | | representing | | | | | | the version of | | | | | | the feature. | | | | | | | | | | | | It is | | | | | | recommended | | | | | | that the | | | | | | versioning | | | | | | system follows | | | | | | the Semantic | | | | | | Ve | | | | | | rsioning Specif | | | | | | ication [39]. | +----------------+-----------+---+-------------+-----------------+
##### 6.1.6.2.63 Type: UdsfInfo
Table 6.1.6.2.63-1: Definition of type UdsfInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | groupId | NfGroupId | O | 0..1 | Identity of | | | | | | the UDSF | | | | | | group that is | | | | | | served by the | | | | | | UDSF | | | | | | instance. | | | | | | | | | | | | If not | | | | | | provided, the | | | | | | UDSF instance | | | | | | does not | | | | | | pertain to | | | | | | any UDSF | | | | | | group. | +---------------+---------------+---+-------------+---------------+ | supiRanges | arr | O | 1..N | List of | | | ay(SupiRange) | | | ranges of | | | | | | SUPIs whose | | | | | | profile data | | | | | | is available | | | | | | in the UDSF | | | | | | instance | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | st | map(array(Id | C | 1..N(1..M) | A map (list | | orageIdRanges | entityRange)) | | | of key-value | | | | | | pairs) where | | | | | | realmId | | | | | | serves as key | | | | | | and each | | | | | | value in the | | | | | | map is an | | | | | | array of | | | | | | Id | | | | | | entityRanges. | | | | | | Each | | | | | | IdentityRange | | | | | | is a range of | | | | | | storageIds. A | | | | | | UDSF | | | | | | complying | | | | | | with this | | | | | | version of | | | | | | the | | | | | | specification | | | | | | shall include | | | | | | this IE. | | | | | | | | | | | | Absence | | | | | | indicates | | | | | | that the | | | | | | UDSF\'s | | | | | | supported | | | | | | realms and | | | | | | storages are | | | | | | determined by | | | | | | the UDSF\'s | | | | | | consumer by | | | | | | other means | | | | | | such as local | | | | | | provisioning. | +---------------+---------------+---+-------------+---------------+ | NOTE 1: If | | | | | | this | | | | | | parameter is | | | | | | not provided, | | | | | | then the UDSF | | | | | | can serve any | | | | | | SUPI range. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.64 Type: NfInstanceIdListCond
Table 6.1.6.2.64-1: Definition of type NfInstanceIdListCond
Attribute name Data type P Cardinality Description
* * *
nfInstanceIdList array(NfInstanceId) C 1..N A list of NF Instances whose
status is requested to be monitored.
##### 6.1.6.2.65 Type: ScpInfo
Table 6.1.6.2.65-1: Definition of type ScpInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | scpD | map(S | O | 1..N | SCP domain | | omainInfoList | cpDomainInfo) | | | specific | | | | | | information | | | | | | of the SCP | | | | | | that differs | | | | | | from the | | | | | | common | | | | | | information | | | | | | in NFProfile | | | | | | data type. | | | | | | The key of | | | | | | the map shall | | | | | | be the string | | | | | | identifying | | | | | | an SCP | | | | | | domain. | +---------------+---------------+---+-------------+---------------+ | scpPrefix | string | O | 0..1 | Optional | | | | | | deployment | | | | | | specific | | | | | | string used | | | | | | to construct | | | | | | the apiRoot | | | | | | of the next | | | | | | hop SCP, as | | | | | | described in | | | | | | clause 6.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | +---------------+---------------+---+-------------+---------------+ | scpPorts | map(integer) | C | 1..N | SCP port | | | | | | number(s) for | | | | | | HTTP and/or | | | | | | HTTPS | | | | | | | | | | | | (NOTE 1) | | | | | | | | | | | | This | | | | | | attribute | | | | | | shall be | | | | | | present if | | | | | | the SCP uses | | | | | | non-default | | | | | | HTTP and/or | | | | | | HTTPS ports | | | | | | and if the | | | | | | SCP does not | | | | | | provision | | | | | | port | | | | | | information | | | | | | within | | | | | | ScpDomainInfo | | | | | | for each SCP | | | | | | domain it | | | | | | belongs to. | | | | | | | | | | | | When present, | | | | | | it shall | | | | | | contain the | | | | | | HTTP and/or | | | | | | HTTPS ports. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be \"http\" | | | | | | or \"https\". | | | | | | | | | | | | The value | | | | | | shall | | | | | | indicate the | | | | | | port number | | | | | | for HTTP or | | | | | | HTTPS | | | | | | respectively. | | | | | | | | | | | | Minimum: 0 | | | | | | Maximum: | | | | | | 65535 | +---------------+---------------+---+-------------+---------------+ | a | array(string) | O | 1..N | Pattern | | ddressDomains | | | | (regular | | | | | | expression | | | | | | according to | | | | | | the ECMA-262 | | | | | | dialect | | | | | | [8]) | | | | | | representing | | | | | | the address | | | | | | domain names | | | | | | reachable | | | | | | through the | | | | | | SCP. | | | | | | | | | | | | Absence of | | | | | | this IE | | | | | | indicates the | | | | | | SCP can reach | | | | | | any address | | | | | | domain names | | | | | | in the SCP | | | | | | domain(s) it | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | ipv4Addresses | ar | O | 1..N | List of IPv4 | | | ray(Ipv4Addr) | | | addresses | | | | | | reachable | | | | | | through the | | | | | | SCP. | | | | | | | | | | | | This IE may | | | | | | be present if | | | | | | IPv4 | | | | | | addresses are | | | | | | reachable via | | | | | | the SCP. | | | | | | | | | | | | If IPv4 | | | | | | addresses are | | | | | | reachable via | | | | | | the SCP, | | | | | | absence of | | | | | | both this IE | | | | | | and | | | | | | i | | | | | | pv4AddrRanges | | | | | | IE indicates | | | | | | the SCP can | | | | | | reach any | | | | | | IPv4 | | | | | | addresses in | | | | | | the SCP | | | | | | domain(s) it | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | ipv6Prefixes | arra | O | 1..N | List of IPv6 | | | y(Ipv6Prefix) | | | prefixes | | | | | | reachable | | | | | | through the | | | | | | SCP. | | | | | | | | | | | | This IE may | | | | | | be present if | | | | | | IPv6 | | | | | | addresses are | | | | | | reachable via | | | | | | the SCP. | | | | | | | | | | | | If IPv6 | | | | | | addresses are | | | | | | reachable via | | | | | | the SCP, | | | | | | absence of | | | | | | both this IE | | | | | | and | | | | | | ipv | | | | | | 6PrefixRanges | | | | | | IE indicates | | | | | | the SCP can | | | | | | reach any | | | | | | IPv6 prefixes | | | | | | in the SCP | | | | | | domain(s) it | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | i | array(Ipv4 | O | 1..N | List of IPv4 | | pv4AddrRanges | AddressRange) | | | addresses | | | | | | ranges | | | | | | reachable | | | | | | through the | | | | | | SCP. | | | | | | | | | | | | This IE may | | | | | | be present if | | | | | | IPv4 | | | | | | addresses are | | | | | | reachable via | | | | | | the SCP. | | | | | | | | | | | | If IPv4 | | | | | | addresses are | | | | | | reachable via | | | | | | the SCP, | | | | | | absence of | | | | | | both this IE | | | | | | and | | | | | | ipv4Addresses | | | | | | IE indicates | | | | | | the SCP can | | | | | | reach any | | | | | | IPv4 | | | | | | addresses in | | | | | | the SCP | | | | | | domain(s) it | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | ipv | array(Ipv | O | 1..N | List of IPv6 | | 6PrefixRanges | 6PrefixRange) | | | prefixes | | | | | | ranges | | | | | | reachable | | | | | | through the | | | | | | SCP. | | | | | | | | | | | | This IE may | | | | | | be present if | | | | | | IPv6 | | | | | | addresses are | | | | | | reachable via | | | | | | the SCP. | | | | | | | | | | | | If IPv6 | | | | | | addresses are | | | | | | reachable via | | | | | | the SCP, | | | | | | absence of | | | | | | both this IE | | | | | | and | | | | | | ipv6Prefixes | | | | | | IE indicates | | | | | | the SCP can | | | | | | reach any | | | | | | IPv6 prefixes | | | | | | in the SCP | | | | | | domain(s) it | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | serv | a | O | 1..N | List of NF | | edNfSetIdList | rray(NfSetId) | | | set ID of NFs | | | | | | served by the | | | | | | SCP. | | | | | | | | | | | | Absence of | | | | | | this IE | | | | | | indicates the | | | | | | SCP can reach | | | | | | any NF set in | | | | | | the SCP | | | | | | domain(s) it | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | r | array(PlmnId) | O | 1..N | List of | | emotePlmnList | | | | remote PLMNs | | | | | | reachable | | | | | | through the | | | | | | SCP. | | | | | | | | | | | | Absence of | | | | | | this IE | | | | | | indicates | | | | | | that no | | | | | | remote PLMN | | | | | | is reachable | | | | | | through the | | | | | | SCP. | +---------------+---------------+---+-------------+---------------+ | r | arr | O | 1..N | List of | | emoteSnpnList | ay(PlmnIdNid) | | | remote SNPNs | | | | | | reachable | | | | | | through the | | | | | | SCP. | | | | | | | | | | | | The absence | | | | | | of this IE | | | | | | indicates | | | | | | that no | | | | | | remote SNPN | | | | | | is reachable | | | | | | through the | | | | | | SCP. | +---------------+---------------+---+-------------+---------------+ | i | I | O | 0..1 | This IE may | | pReachability | pReachability | | | be present to | | | | | | indicate the | | | | | | type(s) of IP | | | | | | addresses | | | | | | reachable via | | | | | | the SCP in | | | | | | the SCP | | | | | | domain(s) it | | | | | | belongs to. | | | | | | | | | | | | Absence of | | | | | | this IE | | | | | | indicates | | | | | | that the SCP | | | | | | can be used | | | | | | to reach both | | | | | | IPv4 | | | | | | addresses and | | | | | | IPv6 | | | | | | addresses in | | | | | | the SCP | | | | | | domain(s) it | | | | | | belongs to. | +---------------+---------------+---+-------------+---------------+ | sc | array(S | C | 0..N | List of SCP | | pCapabilities | cpCapability) | | | capabilities | | | | | | supported by | | | | | | the SCP. | | | | | | | | | | | | This IE shall | | | | | | be present if | | | | | | the SCP | | | | | | supports at | | | | | | least one SCP | | | | | | capability. | | | | | | It may be | | | | | | present | | | | | | otherwise, | | | | | | with an empty | | | | | | array, to | | | | | | indicate that | | | | | | the SCP does | | | | | | not support | | | | | | any | | | | | | capability of | | | | | | the | | | | | | ScpCapability | | | | | | data type. | | | | | | The absence | | | | | | of this | | | | | | attribute | | | | | | shall not be | | | | | | interpreted | | | | | | as an SCP | | | | | | that does not | | | | | | support any | | | | | | capability; | | | | | | this only | | | | | | means that | | | | | | the SCP (e.g. | | | | | | pre-Rel-17 | | | | | | SCP) did not | | | | | | register the | | | | | | capabilities | | | | | | it may | | | | | | support. | | | | | | | | | | | | (NOTE 2) | +---------------+---------------+---+-------------+---------------+ | NOTE 1: If no | | | | | | SCP port | | | | | | information | | | | | | is present in | | | | | | ScpInfo or in | | | | | | ScpDomainInfo | | | | | | for a | | | | | | specific SCP | | | | | | domain, the | | | | | | HTTP client | | | | | | shall use the | | | | | | default HTTP | | | | | | port number, | | | | | | i.e. TCP port | | | | | | 80 for | | | | | | \"http\" URIs | | | | | | or TCP port | | | | | | 443 for | | | | | | \"https\" | | | | | | URIs as | | | | | | specified in | | | | | | IETF R | | | | | | FC 7540 [9] | | | | | | when sending | | | | | | a request to | | | | | | the SCP | | | | | | within the | | | | | | specific SCP | | | | | | domain. | | | | | | | | | | | | NOTE 2: This | | | | | | IE may be | | | | | | used by | | | | | | another SCP | | | | | | (e.g. SCP-c) | | | | | | to determine | | | | | | whether next | | | | | | hops\' SCP(s) | | | | | | (e.g. SCP-p) | | | | | | supports | | | | | | Indirect | | | | | | Communication | | | | | | with | | | | | | Delegated | | | | | | Discovery, | | | | | | e.g. in | | | | | | scenarios | | | | | | with more | | | | | | than one SCP | | | | | | between an NF | | | | | | service | | | | | | consumer and | | | | | | NF service | | | | | | producer. | | | | | | This | | | | | | information | | | | | | is not | | | | | | intended for | | | | | | NF service | | | | | | consumers. | | | | | | This | | | | | | information | | | | | | shall not be | | | | | | used for | | | | | | selecting a | | | | | | next hop SCP. | | | | | | It may only | | | | | | be used by an | | | | | | SCP, once a | | | | | | next hop SCP | | | | | | is selected, | | | | | | to learn the | | | | | | capabilities | | | | | | of the | | | | | | selected SCP, | | | | | | and based on | | | | | | local policy, | | | | | | to determine | | | | | | whether to | | | | | | delegate the | | | | | | selection of | | | | | | the target NF | | | | | | service | | | | | | producer | | | | | | instance to | | | | | | the next hop | | | | | | SCP or not. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.66 Type: ScpDomainInfo
Table 6.1.6.2.66-1: Definition of type ScpDomainInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | scpFqdn | Fqdn | C | 0..1 | FQDN of the | | | | | | SCP (NOTE) | +---------------+---------------+---+-------------+---------------+ | s | arra | C | 1..N | IP | | cpIpEndPoints | y(IpEndPoint) | | | address(es) | | | | | | and port | | | | | | information | | | | | | of the SCP. | | | | | | | | | | | | If port | | | | | | information | | | | | | is present in | | | | | | this | | | | | | attribute, it | | | | | | applies to | | | | | | any scheme | | | | | | (i.e. HTTP | | | | | | and HTTPS). | | | | | | | | | | | | (NOTE) | +---------------+---------------+---+-------------+---------------+ | scpPorts | map(integer) | C | 1..N | SCP port | | | | | | number(s) for | | | | | | HTTP and/or | | | | | | HTTPS. | | | | | | | | | | | | This | | | | | | attribute | | | | | | shall be | | | | | | present if | | | | | | the SCP uses | | | | | | different | | | | | | ports for | | | | | | HTTP and | | | | | | HTTPS and at | | | | | | least one | | | | | | port is not | | | | | | the default | | | | | | HTTP or HTTPS | | | | | | port, for | | | | | | this SCP | | | | | | domain. This | | | | | | attribute | | | | | | shall be | | | | | | absent if | | | | | | port | | | | | | information | | | | | | is present in | | | | | | the | | | | | | sc | | | | | | pIpEndPoints. | | | | | | | | | | | | When present, | | | | | | it shall | | | | | | contain the | | | | | | HTTP and/or | | | | | | HTTPS ports. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be \"http\" | | | | | | or \"https\". | | | | | | | | | | | | The value | | | | | | shall | | | | | | indicate the | | | | | | port number | | | | | | for HTTP or | | | | | | HTTPS | | | | | | respectively. | | | | | | | | | | | | Minimum: 0 | | | | | | Maximum: | | | | | | 65535 | | | | | | | | | | | | If this | | | | | | attribute is | | | | | | present, it | | | | | | has | | | | | | precedence | | | | | | over the | | | | | | scpPorts | | | | | | attribute of | | | | | | ScpInfo. | +---------------+---------------+---+-------------+---------------+ | scpPrefix | string | O | 0..1 | Optional | | | | | | deployment | | | | | | specific | | | | | | string used | | | | | | to construct | | | | | | the apiRoot | | | | | | of the next | | | | | | hop SCP, as | | | | | | described in | | | | | | clause 6.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | | | | | | | | | | | | If the | | | | | | scpPrefix | | | | | | attribute is | | | | | | present in | | | | | | ScpInfo and | | | | | | in | | | | | | ScpDomainInfo | | | | | | for a | | | | | | specific SCP | | | | | | domain, the | | | | | | attribute in | | | | | | ScpDomainInfo | | | | | | shall prevail | | | | | | for this SCP | | | | | | domain. | +---------------+---------------+---+-------------+---------------+ | NOTE: If any | | | | | | of these | | | | | | attributes is | | | | | | present for a | | | | | | given SCP | | | | | | domain, it | | | | | | shall apply | | | | | | instead of | | | | | | the | | | | | | attributes | | | | | | fqdn, | | | | | | Ipv4Addresses | | | | | | and | | | | | | Ipv6Addresses | | | | | | within the | | | | | | NFProfile | | | | | | data type for | | | | | | the | | | | | | corresponding | | | | | | SCP Domain. | | | | | | If none of | | | | | | these | | | | | | attributes is | | | | | | present for a | | | | | | given SCP | | | | | | domain, the | | | | | | attributes | | | | | | fqdn, | | | | | | I | | | | | | pv4Addresses, | | | | | | and | | | | | | Ipv6Addresses | | | | | | within the | | | | | | NFProfile | | | | | | data type | | | | | | shall apply | | | | | | for the | | | | | | corresponding | | | | | | SCP Domain. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.67 Type: ScpDomainCond
Table 6.1.6.2.67-1: Definition of type ScpDomainCond
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | scpDomains | array(string) | M | 1..N | SCP domains | | | | | | of NF, SCP or | | | | | | SEPP | | | | | | instances | | | | | | whose status | | | | | | is requested | | | | | | to be | | | | | | monitored. | +---------------+---------------+---+-------------+---------------+ | nfTypeList | array(NFType) | C | 1..N | This IE shall | | | | | | be present if | | | | | | available. | | | | | | | | | | | | When present, | | | | | | it shall | | | | | | contain the | | | | | | type of the | | | | | | NF Instances | | | | | | or Network | | | | | | Entities | | | | | | (pertaining | | | | | | to any SCP | | | | | | domain in the | | | | | | scpDomains | | | | | | attribute) | | | | | | whose status | | | | | | is requested | | | | | | to be | | | | | | monitored. | | | | | | | | | | | | If not | | | | | | present, it | | | | | | means that | | | | | | the NF | | | | | | Service | | | | | | Consumer | | | | | | requests a | | | | | | subscription | | | | | | to all NF, | | | | | | SCP and SEPP | | | | | | instances | | | | | | pertaining to | | | | | | any SCP | | | | | | domain in the | | | | | | scpDomains | | | | | | attribute. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.68 Type: OptionsResponse
Table 6.1.6.2.68-1: Definition of type OptionsResponse
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | supp | Supp | C | 0..1 | Supported | | ortedFeatures | ortedFeatures | | | features of | | | | | | the NRF, for | | | | | | the | | | | | | nf-instances | | | | | | store | | | | | | resource. See | | | | | | clause 6.1.9. | | | | | | | | | | | | This IE shall | | | | | | be included | | | | | | if at least | | | | | | one | | | | | | Nnrf\ | | | | | | _NFManagement | | | | | | feature is | | | | | | supported by | | | | | | the NRF. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.69 Type: NwdafCond
Table 6.1.6.2.69-1: Definition of type NwdafCond
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | conditionType | string | M | 1 | This | | | | | | attribute | | | | | | serves as | | | | | | d | | | | | | iscriminator, | | | | | | to make all | | | | | | data types | | | | | | defined in | | | | | | Table | | | | | | 6.1.6.2.35-1 | | | | | | mutually | | | | | | exclusive. | | | | | | | | | | | | In this data | | | | | | type, it | | | | | | shall take | | | | | | the value | | | | | | \"N | | | | | | WDAF_COND\". | +---------------+---------------+---+-------------+---------------+ | analyticsIds | array(string) | O | 1..N | Analytics | | | | | | Id(s) | | | | | | provided by | | | | | | consumers of | | | | | | NWDAF. In | | | | | | this data | | | | | | type, it | | | | | | shall take | | | | | | the value as | | | | | | defined in | | | | | | NwdafEvent IE | | | | | | and EventId | | | | | | IE in | | | | | | nwdafInfo. | +---------------+---------------+---+-------------+---------------+ | snssaiList | array(Snssai) | O | 1..N | S-NSSAIs of | | | | | | the NWDAF | | | | | | whose status | | | | | | is requested | | | | | | to be | | | | | | monitored. | +---------------+---------------+---+-------------+---------------+ | taiList | array(Tai) | O | 1..N | TAI(s) of the | | | | | | NWDAF whose | | | | | | status is | | | | | | requested to | | | | | | be monitored. | | | | | | It may | | | | | | contain one | | | | | | or more | | | | | | non-3GPP | | | | | | access TAIs. | +---------------+---------------+---+-------------+---------------+ | taiRangeList | ar | O | 1..N | The range of | | | ray(TaiRange) | | | TAIs of the | | | | | | NWDAF whose | | | | | | status is | | | | | | requested to | | | | | | be monitored. | | | | | | It may | | | | | | contain | | | | | | non-3GPP | | | | | | access TAIs. | +---------------+---------------+---+-------------+---------------+ | serv | array(NFType) | O | 1..N | NF type(s) | | ingNfTypeList | | | | served by the | | | | | | NWDAF whose | | | | | | status is | | | | | | requested to | | | | | | be monitored. | +---------------+---------------+---+-------------+---------------+ | servi | a | O | 1..N | NF Set Id(s) | | ngNfSetIdList | rray(NfSetId) | | | served by the | | | | | | NWDAF whose | | | | | | status is | | | | | | requested to | | | | | | be monitored. | +---------------+---------------+---+-------------+---------------+ | ml | array(MlA | C | 1..N | The list of | | AnalyticsList | nalyticsInfo) | | | ML Analytics | | | | | | Filter | | | | | | information | | | | | | per Analytics | | | | | | ID(s) | | | | | | supported by | | | | | | the NWDAF, | | | | | | whose status | | | | | | is requested | | | | | | to be | | | | | | monitored. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.70 Type: NefCond
Table 6.1.6.2.70-1: Definition of type NefCond
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | conditionType | string | M | 1 | This | | | | | | attribute | | | | | | serves as | | | | | | d | | | | | | iscriminator, | | | | | | to make all | | | | | | data types | | | | | | defined in | | | | | | Table | | | | | | 6.1.6.2.35-1 | | | | | | mutually | | | | | | exclusive. | | | | | | | | | | | | In this data | | | | | | type, it | | | | | | shall take | | | | | | the value | | | | | | \ | | | | | | "NEF_COND\". | +---------------+---------------+---+-------------+---------------+ | afEvents | a | O | 1..N | EventId(s) | | | rray(AfEvent) | | | supported by | | | | | | the AFs. | +---------------+---------------+---+-------------+---------------+ | snssaiList | array(Snssai) | O | 1..N | S-NSSAIs of | | | | | | the NEF whose | | | | | | status is | | | | | | requested to | | | | | | be monitored. | +---------------+---------------+---+-------------+---------------+ | pfdData | PfdData | O | 0..1 | PFD data of | | | | | | the NEF whose | | | | | | status is | | | | | | requested to | | | | | | be monitored. | +---------------+---------------+---+-------------+---------------+ | gpsiRanges | array(I | O | 1..N | Range(s) of | | | dentityRange) | | | External | | | | | | Identifiers | | | | | | of the NEF | | | | | | whose status | | | | | | is requested | | | | | | to be | | | | | | monitored. | +---------------+---------------+---+-------------+---------------+ | exte | array(I | O | 1..N | Range(s) of | | rnalGroupIden | dentityRange) | | | External | | tifiersRanges | | | | Group | | | | | | Identifiers | | | | | | of the NEF | | | | | | whose status | | | | | | is requested | | | | | | to be | | | | | | monitored. | +---------------+---------------+---+-------------+---------------+ | s | array(string) | O | 1..N | Pattern | | ervedFqdnList | | | | (regular | | | | | | expression | | | | | | according to | | | | | | the ECMA-262 | | | | | | dialect | | | | | | [8]) | | | | | | representing | | | | | | the Domain | | | | | | names of the | | | | | | NEF whose | | | | | | status is | | | | | | requested to | | | | | | be monitored. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.71 Type: SuciInfo
Table 6.1.6.2.71-1: Definition of type SuciInfo
Attribute name Data type P Cardinality Description
* * *
routingInds array(string) O 1..N Indicating served Routing Indicator (see 3GPP
TS 23.003 [12], clause 2.2B). If not provided, the AUSF/UDM can serve any
Routing Indicator. hNwPubKeyIds array(integer) O 1..N Indicating served Home
Network Public Key (see 3GPP TS 23.003 [12], clause 2.2B). If not provided,
the AUSF/UDM can serve any public key. NOTE: Any combination of any
routingInds value and any hNwPubKeyIds value is valid.
##### 6.1.6.2.72 Type: SeppInfo
Table 6.1.6.2.72-1: Definition of type SeppInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | seppPrefix | string | O | 0..1 | Optional | | | | | | deployment | | | | | | specific | | | | | | string used | | | | | | to construct | | | | | | the apiRoot | | | | | | of the next | | | | | | hop SEPP, as | | | | | | described in | | | | | | clause 6.10 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [4]. | +---------------+---------------+---+-------------+---------------+ | seppPorts | map(integer) | C | 1..N | SEPP port | | | | | | number(s) for | | | | | | HTTP and/or | | | | | | HTTPS | | | | | | | | | | | | (NOTE 1) | | | | | | | | | | | | This | | | | | | attribute | | | | | | shall be | | | | | | present if | | | | | | the SEPP uses | | | | | | non-default | | | | | | HTTP and/or | | | | | | HTTPS ports. | | | | | | When present, | | | | | | it shall | | | | | | contain the | | | | | | HTTP and/or | | | | | | HTTPS ports. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be \"http\" | | | | | | or \"https\". | | | | | | | | | | | | The value | | | | | | shall | | | | | | indicate the | | | | | | port number | | | | | | for HTTP or | | | | | | HTTPS | | | | | | respectively. | | | | | | | | | | | | Minimum: 0 | | | | | | Maximum: | | | | | | 65535 | +---------------+---------------+---+-------------+---------------+ | r | array(PlmnId) | O | 1..N | List of | | emotePlmnList | | | | remote PLMNs | | | | | | reachable | | | | | | through the | | | | | | SEPP. | | | | | | | | | | | | The absence | | | | | | of this | | | | | | attribute | | | | | | indicates | | | | | | that any PLMN | | | | | | is reachable | | | | | | through the | | | | | | SEPP. | +---------------+---------------+---+-------------+---------------+ | r | arr | O | 1..N | List of | | emoteSnpnList | ay(PlmnIdNid) | | | remote SNPNs | | | | | | reachable | | | | | | through the | | | | | | SEPP. | | | | | | | | | | | | The absence | | | | | | of this | | | | | | attribute | | | | | | indicates | | | | | | that no SNPN | | | | | | is reachable | | | | | | through the | | | | | | SEPP. | +---------------+---------------+---+-------------+---------------+ | n32Purposes | arra | C | 1..N | This IE | | | y(N32Purpose) | | | should be | | | | | | present if | | | | | | the SEPP is | | | | | | configured to | | | | | | support | | | | | | specific N32 | | | | | | purposes. | | | | | | When present, | | | | | | it shall | | | | | | contain the | | | | | | list of N32 | | | | | | purposes | | | | | | supported by | | | | | | the SEPP. | | | | | | | | | | | | The absence | | | | | | of this IE | | | | | | indicates | | | | | | that the SEPP | | | | | | can be | | | | | | selected for | | | | | | any N32 | | | | | | purpose. | +---------------+---------------+---+-------------+---------------+ | NOTE 1: If no | | | | | | SEPP port | | | | | | information | | | | | | is present in | | | | | | SeppInfo, the | | | | | | HTTP client | | | | | | shall use the | | | | | | default HTTP | | | | | | port number, | | | | | | i.e. TCP port | | | | | | 80 for | | | | | | \"http\" URIs | | | | | | or TCP port | | | | | | 443 for | | | | | | \"https\" | | | | | | URIs as | | | | | | specified in | | | | | | IETF R | | | | | | FC 7540 [9] | | | | | | when sending | | | | | | a request to | | | | | | the SEPP. | | | | | | | | | | | | NOTE 2: The | | | | | | attributes | | | | | | fqdn, | | | | | | ipv4Addresses | | | | | | and | | | | | | ipv6Addresses | | | | | | within the | | | | | | NFProfile | | | | | | data type | | | | | | shall be used | | | | | | to determine | | | | | | the SEPP | | | | | | address. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.73 Type: AanfInfo
Table 6.1.6.2.73-1: Definition of type AanfInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | rout | array(string) | O | 1..N | List of | | ingIndicators | | | | Routing | | | | | | Indicators | | | | | | supported by | | | | | | the AAnf | | | | | | instance. If | | | | | | not provided, | | | | | | the AAnf can | | | | | | serve any | | | | | | Routing | | | | | | Indicator. | | | | | | | | | | | | Pattern: | | | | | | \'\^[0 | | | | | | -9]{1,4}\$\' | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.74 Type: 5GDdnmfInfo
Table 6.1.6.2.74-1: Definition of type 5GDdnmfInfo
Attribute name Data type **P** Cardinality Description
* * *
plmnId PlmnId M 1 PLMN ID of the PLMN which the 5G DDNMF served.
##### 6.1.6.2.75 Type: MfafInfo
Table 6.1.6.2.75-1: Definition of type MfafInfo
Attribute name Data type P Cardinality Description
* * *
servingNfTypeList array(NFType) O 1..N If present, this IE shall contain the
list of NF type(s) served by MFAF NF. The absence of this attribute indicates
that the MFAF can be selected for any NF type servingNfSetIdList
array(NfSetId) O 1..N If present, this IE shall contain the list of NF Set
Id(s) served by MFAF NF. The absence of this attribute indicates that the MFAF
can be selected for any NF Set Id. taiList array(Tai) O 1..N The list of TAIs
the MFAF can serve. It may contain one or more non-3GPP access TAIs. The
absence of both this attribute and the taiRangeList attribute indicates that
the MFAF can be selected for any TAI in the serving network. taiRangeList
array(TaiRange) O 1..N The range of TAIs the MFAF can serve. It may contain
one or more non-3GPP access TAI ranges. The absence of both this attribute and
the taiList attribute indicates that the MFAF can be selected for any TAI in
the serving network.
##### 6.1.6.2.76 Type: NwdafCapability
Table 6.1.6.2.76-1: Definition of type NwdafCapability
+-----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +=================+===========+===+=============+=================+ | analy | boolean | O | 0..1 | When present, | | ticsAggregation | | | | this IE shall | | | | | | indicate | | | | | | whether the | | | | | | NWDAF supports | | | | | | analytics | | | | | | aggregation: | | | | | | | | | | | | - true: | | | | | | analytics | | | | | | aggregation | | | | | | capability is | | | | | | supported by | | | | | | the NWDAF | | | | | | | | | | | | - false | | | | | | (default): | | | | | | analytics | | | | | | aggregation | | | | | | capability is | | | | | | not supported | | | | | | by the NWDAF. | +-----------------+-----------+---+-------------+-----------------+ | analyticsMetad | boolean | O | 0..1 | When present, | | ataProvisioning | | | | this IE shall | | | | | | indicate | | | | | | whether the | | | | | | NWDAF supports | | | | | | analytics | | | | | | metadata | | | | | | provisioning: | | | | | | | | | | | | - true: | | | | | | analytics | | | | | | metadata | | | | | | provisioning | | | | | | capability is | | | | | | supported by | | | | | | the NWDAF | | | | | | | | | | | | - false | | | | | | (default): | | | | | | analytics | | | | | | metadata | | | | | | provisioning | | | | | | capability is | | | | | | not supported | | | | | | by the NWDAF. | +-----------------+-----------+---+-------------+-----------------+ | mlModelA | boolean | O | 0..1 | When present, | | ccuracyChecking | | | | this IE shall | | | | | | indicate | | | | | | whether the | | | | | | NWDAF | | | | | | containing MTLF | | | | | | supports ML | | | | | | model accuracy | | | | | | checking: | | | | | | | | | | | | - true: ML | | | | | | model accuracy | | | | | | checking | | | | | | capability is | | | | | | supported by | | | | | | the NWDAF | | | | | | | | | | | | - false | | | | | | (default): ML | | | | | | model accuracy | | | | | | checking | | | | | | capability is | | | | | | not supported | | | | | | by the NWDAF. | +-----------------+-----------+---+-------------+-----------------+ | analyticsA | boolean | O | 0..1 | When present, | | ccuracyChecking | | | | this IE shall | | | | | | indicate | | | | | | whether the | | | | | | NWDAF | | | | | | containing AnLF | | | | | | supports | | | | | | Analytics | | | | | | accuracy | | | | | | checking: | | | | | | | | | | | | - true: | | | | | | Analytics | | | | | | accuracy | | | | | | checking | | | | | | capability is | | | | | | supported by | | | | | | the NWDAF | | | | | | | | | | | | - false | | | | | | (default): | | | | | | Analytics | | | | | | accuracy | | | | | | checking | | | | | | capability is | | | | | | not supported | | | | | | by the NWDAF. | +-----------------+-----------+---+-------------+-----------------+ | roamingExchange | boolean | O | 0..1 | When present, | | | | | | this IE shall | | | | | | indicate | | | | | | whether the | | | | | | NWDAF supports | | | | | | roaming | | | | | | exchange | | | | | | capability: | | | | | | | | | | | | - true: | | | | | | roaming | | | | | | exchange | | | | | | capability is | | | | | | supported by | | | | | | the NWDAF | | | | | | | | | | | | - false | | | | | | (default): | | | | | | roaming | | | | | | exchange | | | | | | capability is | | | | | | not supported | | | | | | by the NWDAF. | +-----------------+-----------+---+-------------+-----------------+
##### 6.1.6.2.77 Type: EasdfInfo
Table 6.1.6.2.77-1: Definition of type EasdfInfo
Attribute name Data type P Cardinality Description
* * *
sNssaiEasdfInfoList array(SnssaiEasdfInfoItem) O 1..N List of parameters
supported by the EASDF per S-NSSAI (NOTE) easdfN6IpAddressList array(IpAddr) O
1..N N6 IP addresses of the EASDF upfN6IpAddressList array(IpAddr) O 1..N N6
IP addresses of PSA UPFs NOTE: If S-NSSAIs are present in the EasdfInfo and in
the NFprofile, the S-NSSAIs from the EasdfInfo shall prevail.
##### 6.1.6.2.78 Type: SnssaiEasdfInfoItem
Table 6.1.6.2.78-1: Definition of type SnssaiEasdfInfoItem
Attribute name Data type P Cardinality Description
* * *
sNssai ExtSnssai M 1 S-NSSAI dnnEasdfInfoList array(DnnEasdfInfoItem) M 1..N
List of parameters supported by the EASDF per DNN
##### 6.1.6.2.79 Type: DnnEasdfInfoItem
Table 6.1.6.2.79-1: Definition of type DnnEasdfInfoItem
+---------------+-------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+=============+===+=============+===============+ | dnn | Dnn | M | 1 | Supported DNN | | | | | | or Wildcard | | | | | | DNN if the | | | | | | EASDF | | | | | | supports all | | | | | | DNNs for the | | | | | | related | | | | | | S-NSSAI. | | | | | | | | | | | | The DNN shall | | | | | | contain the | | | | | | Network | | | | | | Identifier | | | | | | and it may | | | | | | additionally | | | | | | contain an | | | | | | Operator | | | | | | Identifier. | | | | | | If the | | | | | | Operator | | | | | | Identifier is | | | | | | not included, | | | | | | the DNN is | | | | | | supported for | | | | | | all the PLMNs | | | | | | in the | | | | | | plmnList of | | | | | | the NF | | | | | | Profile. | +---------------+-------------+---+-------------+---------------+ | dnaiList | array(Dnai) | O | 1..N | List of Data | | | | | | network | | | | | | access | | | | | | identifiers | | | | | | supported by | | | | | | the EASDF for | | | | | | this DNN. The | | | | | | absence of | | | | | | this | | | | | | attribute | | | | | | indicates | | | | | | that the | | | | | | EASDF can be | | | | | | selected for | | | | | | this DNN for | | | | | | any DNAI. | +---------------+-------------+---+-------------+---------------+
##### 6.1.6.2.80 Type: DccfInfo
Table 6.1.6.2.80-1: Definition of type DccfInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | serv | array(NFType) | O | 1..N | If present, | | ingNfTypeList | | | | this IE shall | | | | | | contain the | | | | | | list of NF | | | | | | type(s) from | | | | | | which the | | | | | | DCCF NF can | | | | | | collect data. | | | | | | The absence | | | | | | of this | | | | | | attribute | | | | | | indicates | | | | | | that the DCCF | | | | | | can collect | | | | | | data from any | | | | | | NF type. | +---------------+---------------+---+-------------+---------------+ | servi | a | O | 1..N | If present, | | ngNfSetIdList | rray(NfSetId) | | | this IE shall | | | | | | contain the | | | | | | list of NF | | | | | | Set Id(s) | | | | | | from which | | | | | | the DCCF NF | | | | | | can collect | | | | | | data. The | | | | | | absence of | | | | | | this | | | | | | attribute | | | | | | indicates | | | | | | that the DCCF | | | | | | can collect | | | | | | data from any | | | | | | NF Set. | +---------------+---------------+---+-------------+---------------+ | taiList | array(Tai) | O | 1..N | The list of | | | | | | TAIs the DCCF | | | | | | can serve. It | | | | | | may contain | | | | | | one or more | | | | | | non-3GPP | | | | | | access TAIs. | | | | | | The absence | | | | | | of both this | | | | | | attribute and | | | | | | the | | | | | | taiRangeList | | | | | | attribute | | | | | | indicates | | | | | | that the DCCF | | | | | | can be | | | | | | selected for | | | | | | any TAI in | | | | | | the serving | | | | | | network. | +---------------+---------------+---+-------------+---------------+ | taiRangeList | ar | O | 1..N | The range of | | | ray(TaiRange) | | | TAIs the DCCF | | | | | | can serve. It | | | | | | may contain | | | | | | one or more | | | | | | non-3GPP | | | | | | access TAI | | | | | | ranges. The | | | | | | absence of | | | | | | both this | | | | | | attribute and | | | | | | the taiList | | | | | | attribute | | | | | | indicates | | | | | | that the DCCF | | | | | | can be | | | | | | selected for | | | | | | any TAI in | | | | | | the serving | | | | | | network. | +---------------+---------------+---+-------------+---------------+ | dat | boolean | O | 0..1 | When present, | | aSubsRelocInd | | | | this IE shall | | | | | | indicate | | | | | | whether the | | | | | | DCCF supports | | | | | | relocation of | | | | | | data | | | | | | subscription: | | | | | | | | | | | | - true: | | | | | | relocation of | | | | | | data | | | | | | subscription | | | | | | is supported | | | | | | by the DCCF | | | | | | | | | | | | - false | | | | | | (default): | | | | | | relocation of | | | | | | data | | | | | | subscription | | | | | | is not | | | | | | supported by | | | | | | the DCCF. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.81 Type: NsacfInfo
Table 6.1.6.2.81-1: Definition of type NsacfInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | ns | Ns | M | 1 | NSACF service | | acfCapability | acfCapability | | | capability. | +---------------+---------------+---+-------------+---------------+ | taiList | array(Tai) | O | 1..N | The list of | | | | | | TAIs the | | | | | | NSACF can | | | | | | serve. It may | | | | | | contain one | | | | | | or more | | | | | | non-3GPP | | | | | | access TAIs. | | | | | | The absence | | | | | | of this | | | | | | attribute and | | | | | | the | | | | | | taiRangeList | | | | | | attribute | | | | | | indicate that | | | | | | the NSACF can | | | | | | be selected | | | | | | for any TAI | | | | | | in the | | | | | | serving | | | | | | network. | | | | | | | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | taiRangeList | ar | O | 1..N | The range of | | | ray(TaiRange) | | | TAIs the | | | | | | NSACF can | | | | | | serve. It may | | | | | | contain | | | | | | non-3GPP | | | | | | access TAIs. | | | | | | The absence | | | | | | of this | | | | | | attribute and | | | | | | the taiList | | | | | | attribute | | | | | | indicate that | | | | | | the NSACF can | | | | | | be selected | | | | | | for any TAI | | | | | | in the | | | | | | serving | | | | | | network. | | | | | | | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | NOTE 1: When | | | | | | NSACF serving | | | | | | area is | | | | | | configured | | | | | | with TAI | | | | | | list, the | | | | | | serving area | | | | | | of the NSACF | | | | | | should be | | | | | | configured to | | | | | | cover the | | | | | | complete | | | | | | serving area | | | | | | of any of its | | | | | | AMF and SMF | | | | | | consumers, | | | | | | i.e. the TAI | | | | | | list served | | | | | | by NSACF | | | | | | should | | | | | | include all | | | | | | the TAIs | | | | | | served by its | | | | | | AMF and SMF | | | | | | consumers. | | | | | | This can | | | | | | avoid NSACF | | | | | | reselection | | | | | | when the UE | | | | | | moves within | | | | | | the serving | | | | | | area of the | | | | | | NF consumer, | | | | | | e.g. avoid | | | | | | NSACF | | | | | | reselection | | | | | | during | | | | | | intra-AMF UE | | | | | | mobility | | | | | | | | | | | | NOTE 2: | | | | | | Locality of | | | | | | NSACF may be | | | | | | configured to | | | | | | allow the | | | | | | NSACF | | | | | | consumers to | | | | | | discover and | | | | | | select | | | | | | candidate | | | | | | NSACF based | | | | | | on Locality | | | | | | information, | | | | | | instead of | | | | | | using serving | | | | | | TAIs. See | | | | | | NOTE 25 of | | | | | | Table 6 | | | | | | .2.3.2.3.1-1. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.82 Type: NsacfCapability
Table 6.1.6.2.82-1: Definition of type NsacfCapability
+----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +================+===========+===+=============+=================+ | supportUeSAC | boolean | C | 0..1 | Indicates the | | | | | | service | | | | | | capability of | | | | | | the NSACF to | | | | | | monitor and | | | | | | control the | | | | | | number of | | | | | | registered UEs | | | | | | per network | | | | | | slice for the | | | | | | network slice | | | | | | that is subject | | | | | | to NSAC. | | | | | | | | | | | | true: | | | | | | Supported\ | | | | | | false | | | | | | (default): Not | | | | | | Supported | +----------------+-----------+---+-------------+-----------------+ | supportPduSAC | boolean | C | 0..1 | Indicates the | | | | | | service | | | | | | capability of | | | | | | the NSACF to | | | | | | monitor and | | | | | | control the | | | | | | number of | | | | | | established PDU | | | | | | sessions per | | | | | | network slice | | | | | | for the network | | | | | | slice that is | | | | | | subject to | | | | | | NSAC. | | | | | | | | | | | | true: | | | | | | Supported\ | | | | | | false | | | | | | (default): Not | | | | | | Supported | +----------------+-----------+---+-------------+-----------------+
##### 6.1.6.2.83 Type: DccfCond
Table 6.1.6.2.83-1: Definition of type DccfCond
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | conditionType | string | M | 1 | This | | | | | | attribute | | | | | | serves as | | | | | | d | | | | | | iscriminator, | | | | | | to make all | | | | | | data types | | | | | | defined in | | | | | | Table | | | | | | 6.1.6.2.35-1 | | | | | | mutually | | | | | | exclusive. | | | | | | | | | | | | In this data | | | | | | type, it | | | | | | shall take | | | | | | the value | | | | | | \" | | | | | | DCCF_COND\". | +---------------+---------------+---+-------------+---------------+ | taiList | array(Tai) | O | 1..N | TAI(s) of the | | | | | | DCCF whose | | | | | | status is | | | | | | requested to | | | | | | be monitored. | | | | | | It may | | | | | | contain one | | | | | | or more | | | | | | non-3GPP | | | | | | access TAIs. | +---------------+---------------+---+-------------+---------------+ | taiRangeList | ar | O | 1..N | The range of | | | ray(TaiRange) | | | TAIs of the | | | | | | DCCF whose | | | | | | status is | | | | | | requested to | | | | | | be monitored. | | | | | | It may | | | | | | contain | | | | | | non-3GPP | | | | | | access TAIs. | +---------------+---------------+---+-------------+---------------+ | serv | array(NFType) | O | 1..N | The list of | | ingNfTypeList | | | | NF type(s) | | | | | | served by | | | | | | DCCF whose | | | | | | status is | | | | | | requested to | | | | | | be monitored. | +---------------+---------------+---+-------------+---------------+ | servi | a | O | 1..N | The list of | | ngNfSetIdList | rray(NfSetId) | | | NF Set Id(s) | | | | | | served by | | | | | | DCCF whose | | | | | | status is | | | | | | requested to | | | | | | be monitored. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.84 Type: MlAnalyticsInfo
Table 6.1.6.2.84-1: Definition of type MlAnalyticsInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | m | arra | C | 1..N | Analytics | | lAnalyticsIds | y(NwdafEvent) | | | Id(s) | | | | | | supported by | | | | | | the | | | | | | Nnwdaf_MLM | | | | | | odelProvision | | | | | | service, if | | | | | | none are | | | | | | provided the | | | | | | NWDAF can | | | | | | serve any | | | | | | m | | | | | | lAnalyticsId. | +---------------+---------------+---+-------------+---------------+ | snssaiList | array(Snssai) | O | 1..N | S-NSSAIs of | | | | | | the ML model, | | | | | | if none are | | | | | | provided the | | | | | | ML model for | | | | | | the analytics | | | | | | can apply to | | | | | | any snssai. | +---------------+---------------+---+-------------+---------------+ | tra | array(Tai) | O | 1..N | Area of | | ckingAreaList | | | | Interest of | | | | | | the ML model, | | | | | | if none are | | | | | | provided the | | | | | | ML model for | | | | | | the analytics | | | | | | can apply to | | | | | | any TAIs. | | | | | | | | | | | | If present, | | | | | | this IE | | | | | | represents | | | | | | the list of | | | | | | TAIs, it may | | | | | | contain one | | | | | | or more | | | | | | non-3GPP | | | | | | access TAIs. | +---------------+---------------+---+-------------+---------------+ | mlM | MlM | O | 0..1 | ML Model | | odelInterInfo | odelInterInfo | | | Int | | | | | | eroperability | | | | | | indicator, if | | | | | | none are | | | | | | provided the | | | | | | ML models are | | | | | | not allowed | | | | | | to be | | | | | | retrieved by | | | | | | any NWDAF | | | | | | vendors. | +---------------+---------------+---+-------------+---------------+ | flC | FlC | O | 0..1 | Federated | | apabilityType | apabilityType | | | Learning | | | | | | capability | | | | | | type of the | | | | | | NWDAF as | | | | | | specified in | | | | | | cla | | | | | | use 5.2.7.2.2 | | | | | | of | | | | | | 3GPP TS | | | | | | 23.502 [3], | | | | | | if none are | | | | | | provided the | | | | | | NWDAF can not | | | | | | support any | | | | | | type. | +---------------+---------------+---+-------------+---------------+ | f | DurationSec | O | 0..1 | Time interval | | lTimeInterval | | | | supporting | | | | | | Federated | | | | | | Learning as | | | | | | specified in | | | | | | cla | | | | | | use 5.2.7.2.2 | | | | | | of | | | | | | 3GPP TS | | | | | | 23.502 [3]. | | | | | | This IE may | | | | | | be present if | | | | | | the | | | | | | flC | | | | | | apabilityType | | | | | | attribute is | | | | | | present. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.85 Type: MbSmfInfo
Table 6.1.6.2.85-1: Definition of type MbSmfInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | s | map(SnssaiM | O | 1..N | S-NSSAIs and | | NssaiInfoList | bSmfInfoItem) | | | DNNs | | | | | | supported by | | | | | | the MB-SMF | | | | | | (NOTE 1) | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | tmgiRangeList | m | O | 1..N | TMGI range(s) | | | ap(TmgiRange) | | | supported by | | | | | | the MB-SMF | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | taiList | array(Tai) | O | 1..N | List of TAIs | | | | | | the MB-SMF | | | | | | can serve. | | | | | | | | | | | | The absence | | | | | | of this | | | | | | attribute and | | | | | | the | | | | | | taiRangeList | | | | | | attribute | | | | | | indicates | | | | | | that the | | | | | | MB-SMF can be | | | | | | selected for | | | | | | any TAI in | | | | | | the serving | | | | | | network. | +---------------+---------------+---+-------------+---------------+ | taiRangeList | ar | O | 1..N | The range of | | | ray(TaiRange) | | | TAIs the | | | | | | MB-SMF can | | | | | | serve. | | | | | | | | | | | | The absence | | | | | | of this | | | | | | attribute and | | | | | | the taiList | | | | | | attribute | | | | | | indicates | | | | | | that the | | | | | | MB-SMF can be | | | | | | selected for | | | | | | any TAI in | | | | | | the serving | | | | | | network. | +---------------+---------------+---+-------------+---------------+ | m | ma | O | 1..N | List of MBS | | bsSessionList | p(MbsSession) | | | sessions | | | | | | currently | | | | | | served by the | | | | | | MB-SMF | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | NOTE 1: If | | | | | | S-NSSAIs are | | | | | | present in | | | | | | MbSmfInfo and | | | | | | in the | | | | | | NFprofile, | | | | | | the S-NSSAIs | | | | | | from | | | | | | MbSmfInfo | | | | | | shall | | | | | | prevail. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.86 Type: TmgiRange
Table 6.1.6.2.86-1: Definition of type TmgiRange
+-----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +=================+===========+===+=============+=================+ | mb | string | M | 1 | First MBS | | sServiceIdStart | | | | Service ID | | | | | | value | | | | | | identifying the | | | | | | start of a TMGI | | | | | | range. | | | | | | | | | | | | The value shall | | | | | | be coded as | | | | | | defined for the | | | | | | mbsServiceId | | | | | | attribute of | | | | | | the Tmgi data | | | | | | type defined in | | | | | | 3GPP T | | | | | | S 29.571 [7]. | | | | | | | | | | | | Pattern: | | | | | | \'\^[A-F | | | | | | a-f0-9]{6}\$\' | +-----------------+-----------+---+-------------+-----------------+ | mbsServiceIdEnd | string | M | 1 | Last MBS | | | | | | Service ID | | | | | | value | | | | | | identifying the | | | | | | end of a TMGI | | | | | | range. | | | | | | | | | | | | The value shall | | | | | | be coded as | | | | | | defined for the | | | | | | mbsServiceId | | | | | | attribute of | | | | | | the Tmgi data | | | | | | type defined in | | | | | | 3GPP T | | | | | | S 29.571 [7]. | | | | | | | | | | | | Pattern: | | | | | | \'\^[A-F | | | | | | a-f0-9]{6}\$\' | +-----------------+-----------+---+-------------+-----------------+ | plmnId | PlmnId | M | 1 | PLMN ID | +-----------------+-----------+---+-------------+-----------------+ | nid | Nid | O | 0..1 | Network | | | | | | Identity used | | | | | | for SNPN | +-----------------+-----------+---+-------------+-----------------+
##### 6.1.6.2.87 Type: MbsSession
Table 6.1.6.2.87-1: Definition of type MbsSession
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | mbsSessionId | MbsSessionId | M | 1 | MBS session | | | | | | identifier | +---------------+---------------+---+-------------+---------------+ | mb | map(MbsSer | C | 1..N | Map of Area | | sAreaSessions | viceAreaInfo) | | | Session Id | | | | | | and related | | | | | | MBS Service | | | | | | Area | | | | | | information | | | | | | used for MBS | | | | | | session with | | | | | | location | | | | | | dependent | | | | | | content. The | | | | | | Area Session | | | | | | ID together | | | | | | with the | | | | | | mbsSessionId | | | | | | (TMGI) | | | | | | uniquely | | | | | | identifies | | | | | | the MBS | | | | | | session in a | | | | | | specific MBS | | | | | | service area. | | | | | | | | | | | | For an MBS | | | | | | session with | | | | | | location | | | | | | dependent | | | | | | content, one | | | | | | map entry | | | | | | shall be | | | | | | registered | | | | | | for each MBS | | | | | | Service Area | | | | | | served by the | | | | | | MBS session. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be the | | | | | | a | | | | | | reaSessionId. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.88 Type: SnssaiMbSmfInfoItem
Table 6.1.6.2.88-1: Definition of type SnssaiMbSmfInfoItem
Attribute name Data type P Cardinality Description
* * *
sNssai ExtSnssai M 1 Supported S-NSSAI dnnInfoList array(DnnMbSmfInfoItem) M
1..N List of parameters supported by the MB-SMF per DNN
##### 6.1.6.2.89 Type: DnnMbSmfInfoItem
Table 6.1.6.2.89-1: Definition of type DnnMbSmfInfoItem
Attribute name Data type P Cardinality Description
* * *
dnn Dnn M 1 Supported DNN or Wildcard DNN if the MB-SMF supports all DNNs for
the related S-NSSAI. The DNN shall contain the Network Identifier and it may
additionally contain an Operator Identifier. If the Operator Identifier is not
included, the DNN is supported for all the PLMNs in the plmnList of the NF
Profile.
##### 6.1.6.2.90 Void
##### 6.1.6.2.91 Type: TsctsfInfo
Table 6.1.6.2.91-1: Definition of type TsctsfInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | s | map(SnssaiTs | O | 1..N | S-NSSAIs and | | NssaiInfoList | ctsfInfoItem) | | | DNNs | | | | | | supported by | | | | | | the TSCTSF | | | | | | | | | | | | (NOTE 1) | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | exte | array(I | O | 1..N | Ranges of | | rnalGroupIden | dentityRange) | | | External | | tifiersRanges | | | | Group | | | | | | Identifiers | | | | | | that can be | | | | | | served by the | | | | | | TSCTSF. | | | | | | | | | | | | The absence | | | | | | of this IE | | | | | | indicates | | | | | | that the | | | | | | TSCTSF can | | | | | | serve any | | | | | | external | | | | | | group managed | | | | | | by the PLMN | | | | | | (or SNPN) of | | | | | | the TSCTSF | | | | | | instance. | +---------------+---------------+---+-------------+---------------+ | supiRanges | arr | O | 1..N | Ranges of | | | ay(SupiRange) | | | SUPIs that | | | | | | can be served | | | | | | by the TSCTSF | | | | | | instance. | | | | | | | | | | | | (NOTE 2) | +---------------+---------------+---+-------------+---------------+ | gpsiRanges | array(I | O | 1..N | Ranges of | | | dentityRange) | | | GPSIs that | | | | | | can be served | | | | | | by the TSCTSF | | | | | | instance. | | | | | | | | | | | | (NOTE 2) | +---------------+---------------+---+-------------+---------------+ | inte | a | O | 1..N | Ranges of | | rnalGroupIden | rray(Internal | | | Internal | | tifiersRanges | GroupIdRange) | | | Group | | | | | | Identifiers | | | | | | that can be | | | | | | served by the | | | | | | TSCTSF | | | | | | instance. | | | | | | | | | | | | The absence | | | | | | of this IE | | | | | | indicates | | | | | | that the | | | | | | TSCTSF can | | | | | | serve any | | | | | | internal | | | | | | group managed | | | | | | by the PLMN | | | | | | (or SNPN) of | | | | | | the TSCTSF | | | | | | instance. | +---------------+---------------+---+-------------+---------------+ | NOTE 1: If | | | | | | S-NSSAIs are | | | | | | present in | | | | | | TsctsfInfo | | | | | | and in the | | | | | | NFprofile, | | | | | | the S-NSSAIs | | | | | | from | | | | | | TsctsfInfo | | | | | | shall | | | | | | prevail. Only | | | | | | one TSCTSF | | | | | | instance, or | | | | | | only the | | | | | | TSCTSF | | | | | | instances | | | | | | belonging to | | | | | | one TSCTSF | | | | | | Set, shall be | | | | | | configured in | | | | | | the PLMN (or | | | | | | SNPN) to | | | | | | serve a | | | | | | specific DNN | | | | | | and S-NSSAI | | | | | | combination. | | | | | | | | | | | | NOTE 2: If | | | | | | both | | | | | | parameters | | | | | | are not | | | | | | provided, the | | | | | | TSCTSF can | | | | | | serve any | | | | | | SUPI or GPSI | | | | | | managed by | | | | | | the PLMN (or | | | | | | SNPN) of the | | | | | | TSCTSF | | | | | | instance. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.92 Type: SnssaiTsctsfInfoItem
Table 6.1.6.2.92-1: Definition of type SnssaiTsctsfInfoItem
Attribute name Data type P Cardinality Description
* * *
sNssai ExtSnssai M 1 Supported S-NSSAI. dnnInfoList array(DnnTsctsfInfoItem) M
1..N List of parameters supported by the TSCTSF per DNN for the indicated
S-NSSAI.
##### 6.1.6.2.93 Type: DnnTsctsfInfoItem
Table 6.1.6.2.93-1: Definition of type DnnTsctsfInfoItem
Attribute name Data type P Cardinality Description
* * *
dnn Dnn M 1 Supported DNN or Wildcard DNN if the TSCTSF supports all DNNs for
the related S-NSSAI. The DNN shall contain the Network Identifier and it may
additionally contain an Operator Identifier. If the Operator Identifier is not
included, the DNN is supported for all the PLMNs in the plmnList of the NF
Profile.
##### 6.1.6.2.94 Type: MbUpfInfo
Table 6.1.6.2.94-1: Definition of type MbUpfInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | sNssai | array(Snssa | M | 1..N | List of | | MbUpfInfoList | iUpfInfoItem) | | | parameters | | | | | | supported by | | | | | | the MB-UPF | | | | | | per S-NSSAI. | | | | | | (NOTE) | +---------------+---------------+---+-------------+---------------+ | mbS | array(string) | O | 1..N | The MB-SMF | | mfServingArea | | | | service | | | | | | area(s) the | | | | | | MB-UPF can | | | | | | serve. | | | | | | | | | | | | If not | | | | | | provided, the | | | | | | MB-UPF can | | | | | | serve any | | | | | | MB-SMF | | | | | | service area. | +---------------+---------------+---+-------------+---------------+ | interface | a | O | 1..N | List of User | | MbUpfInfoList | rray(Interfac | | | Plane | | | eUpfInfoItem) | | | interfaces | | | | | | configured on | | | | | | the MB-UPF. | | | | | | When this IE | | | | | | is provided | | | | | | in the NF | | | | | | Discovery | | | | | | response, the | | | | | | NF Service | | | | | | Consumer | | | | | | (e.g. MB-SMF) | | | | | | may use this | | | | | | information | | | | | | for MB-UPF | | | | | | selection. | +---------------+---------------+---+-------------+---------------+ | taiList | array(Tai) | O | 1..N | The list of | | | | | | TAIs the | | | | | | MB-UPF can | | | | | | serve. | | | | | | | | | | | | The absence | | | | | | of this | | | | | | attribute and | | | | | | the | | | | | | taiRangeList | | | | | | attribute | | | | | | indicates | | | | | | that the | | | | | | MB-UPF can | | | | | | serve the | | | | | | whole MB-SMF | | | | | | service area | | | | | | defined by | | | | | | the | | | | | | MbS | | | | | | mfServingArea | | | | | | attribute. | +---------------+---------------+---+-------------+---------------+ | taiRangeList | ar | O | 1..N | The range of | | | ray(TaiRange) | | | TAIs the | | | | | | MB-UPF can | | | | | | serve. | | | | | | | | | | | | The absence | | | | | | of this | | | | | | attribute and | | | | | | the taiList | | | | | | attribute | | | | | | indicates | | | | | | that the | | | | | | MB-UPF can | | | | | | serve the | | | | | | whole MB-SMF | | | | | | service area | | | | | | defined by | | | | | | the | | | | | | MbS | | | | | | mfServingArea | | | | | | attribute. | +---------------+---------------+---+-------------+---------------+ | priority | integer | O | 0..1 | Priority | | | | | | (relative to | | | | | | other NFs of | | | | | | the same | | | | | | type) in the | | | | | | range of | | | | | | 0-65535, to | | | | | | be used for | | | | | | NF selection | | | | | | for a service | | | | | | request | | | | | | matching the | | | | | | attributes of | | | | | | the | | | | | | MbUpfInfo; | | | | | | lower values | | | | | | indicate a | | | | | | higher | | | | | | priority. | | | | | | | | | | | | See the | | | | | | precedence | | | | | | rules in the | | | | | | description | | | | | | of the | | | | | | priority | | | | | | attribute in | | | | | | NFProfile, if | | | | | | Priority is | | | | | | also present | | | | | | in NFProfile. | | | | | | | | | | | | The NRF may | | | | | | overwrite the | | | | | | received | | | | | | priority | | | | | | value when | | | | | | exposing an | | | | | | NFProfile | | | | | | with the | | | | | | Nnrf | | | | | | _NFDiscovery | | | | | | service. | +---------------+---------------+---+-------------+---------------+ | supporte | string | O | 0..1 | Supported | | dPfcpFeatures | | | | PFCP | | | | | | Features. | | | | | | | | | | | | A string used | | | | | | to indicate | | | | | | the PFCP | | | | | | features | | | | | | supported by | | | | | | the MB-UPF, | | | | | | which encodes | | | | | | the \"UP | | | | | | Function | | | | | | Features\" IE | | | | | | as specified | | | | | | in | | | | | | T | | | | | | able 8.2.25-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.244 [21] | | | | | | (starting | | | | | | from Octet | | | | | | 5), in | | | | | | hexadecimal | | | | | | re | | | | | | presentation. | | | | | | | | | | | | Each | | | | | | character in | | | | | | the string | | | | | | shall take a | | | | | | value of | | | | | | \"0\" to | | | | | | \"9\", \"a\" | | | | | | to \"f\" or | | | | | | \"A\" to | | | | | | \"F\" and | | | | | | each two | | | | | | characters | | | | | | shall | | | | | | represent one | | | | | | octet of \"UP | | | | | | Function | | | | | | Features\" IE | | | | | | (starting | | | | | | from Octet 5, | | | | | | to higher | | | | | | octets). For | | | | | | each two | | | | | | characters | | | | | | representing | | | | | | one octet, | | | | | | the first | | | | | | character | | | | | | representing | | | | | | the 4 most | | | | | | significant | | | | | | bits of the | | | | | | octet and the | | | | | | second | | | | | | character the | | | | | | 4 least | | | | | | significant | | | | | | bits of the | | | | | | octet. | +---------------+---------------+---+-------------+---------------+ | NOTE : If | | | | | | this S-NSSAIs | | | | | | is present in | | | | | | the MbUpfInfo | | | | | | and in the | | | | | | NFprofile, | | | | | | the S-NSSAIs | | | | | | from the | | | | | | MbUpfInfo | | | | | | shall | | | | | | prevail. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.95 Type: UnTrustAfInfo
Table 6.1.6.2.95-1: Definition of type UnTrustAfInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | afId | string | M | 1 | Associated AF | | | | | | id. | +---------------+---------------+---+-------------+---------------+ | s | array(Sn | O | 1..N | S-NSSAIs and | | NssaiInfoList | ssaiInfoItem) | | | DNNs | | | | | | supported by | | | | | | the AF. | +---------------+---------------+---+-------------+---------------+ | mappingInd | boolean | O | 0..1 | When present, | | | | | | this IE | | | | | | indicates | | | | | | whether the | | | | | | AF supports | | | | | | mapping | | | | | | between UE IP | | | | | | address (IPv4 | | | | | | address or | | | | | | IPv6 prefix) | | | | | | and UE ID | | | | | | (i.e. GPSI). | | | | | | | | | | | | true: the AF | | | | | | supports | | | | | | mapping | | | | | | between UE IP | | | | | | address and | | | | | | UE ID; | | | | | | | | | | | | false | | | | | | (default): | | | | | | the AF does | | | | | | not support | | | | | | mapping | | | | | | between UE IP | | | | | | address and | | | | | | UE ID. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.96 Type: TrustAfInfo
Table 6.1.6.2.96-1: Definition of type TrustAfInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | s | array(Sn | O | 1..N | S-NSSAIs and | | NssaiInfoList | ssaiInfoItem) | | | DNNs | | | | | | supported by | | | | | | the trusted | | | | | | AF (NOTE 1). | +---------------+---------------+---+-------------+---------------+ | afEvents | a | O | 1..N | AF Event(s) | | | rray(AfEvent) | | | supported by | | | | | | the trusted | | | | | | AF. | +---------------+---------------+---+-------------+---------------+ | appIds | array(string) | O | 1..N | The list of | | | | | | Application | | | | | | ID(s) | | | | | | supported by | | | | | | the trusted | | | | | | AF. The | | | | | | absence of | | | | | | this | | | | | | attribute | | | | | | indicate that | | | | | | the AF can be | | | | | | selected for | | | | | | any | | | | | | Application. | +---------------+---------------+---+-------------+---------------+ | in | a | O | 1..N | List of | | ternalGroupId | rray(GroupId) | | | Internal | | | | | | Group | | | | | | Identifiers | | | | | | supported by | | | | | | the trusted | | | | | | AF. | | | | | | | | | | | | If not | | | | | | provided, it | | | | | | does not | | | | | | imply that | | | | | | the AF | | | | | | supports all | | | | | | internal | | | | | | groups. | +---------------+---------------+---+-------------+---------------+ | mappingInd | boolean | O | 0..1 | When present, | | | | | | this IE | | | | | | indicates | | | | | | whether the | | | | | | trusted AF | | | | | | supports | | | | | | mapping | | | | | | between UE IP | | | | | | address (IPv4 | | | | | | address or | | | | | | IPv6 prefix) | | | | | | and UE ID | | | | | | (i.e. SUPI). | | | | | | | | | | | | true: the | | | | | | trusted AF | | | | | | supports | | | | | | mapping | | | | | | between UE IP | | | | | | address and | | | | | | UE ID; | | | | | | | | | | | | false | | | | | | (default): | | | | | | the trusted | | | | | | AF does not | | | | | | support | | | | | | mapping | | | | | | between UE IP | | | | | | address and | | | | | | UE ID. | +---------------+---------------+---+-------------+---------------+ | taiList | array(Tai) | O | 1..N | This IE may | | | | | | be present if | | | | | | the AfEvent | | | | | | is set to | | | | | | \ | | | | | | "GNSS_ASSIST | | | | | | ANCE_DATA\". | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | list of TAIs | | | | | | the trusted | | | | | | AF can serve. | | | | | | It may | | | | | | contain one | | | | | | or more | | | | | | non-3GPP | | | | | | access TAIs. | | | | | | The absence | | | | | | of this | | | | | | attribute and | | | | | | the | | | | | | taiRangeList | | | | | | attribute | | | | | | indicate that | | | | | | the trusted | | | | | | AF can be | | | | | | selected for | | | | | | any TAI in | | | | | | the serving | | | | | | network. | +---------------+---------------+---+-------------+---------------+ | taiRangeList | ar | O | 1..N | This IE may | | | ray(TaiRange) | | | be present if | | | | | | the AfEvent | | | | | | is set to | | | | | | \ | | | | | | "GNSS_ASSIST | | | | | | ANCE_DATA\". | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | range of TAIs | | | | | | the trusted | | | | | | AF can serve. | | | | | | It may | | | | | | contain | | | | | | non-3GPP | | | | | | access TAIs. | | | | | | The absence | | | | | | of this | | | | | | attribute and | | | | | | the taiList | | | | | | attribute | | | | | | indicate that | | | | | | the trusted | | | | | | AF can be | | | | | | selected for | | | | | | any TAI in | | | | | | the serving | | | | | | network. | +---------------+---------------+---+-------------+---------------+ | NOTE 1: If | | | | | | S-NSSAIs are | | | | | | present in | | | | | | TrustAfInfo | | | | | | and in the | | | | | | NFprofile, | | | | | | the S-NSSAIs | | | | | | from | | | | | | TrustAfInfo | | | | | | shall | | | | | | prevail. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.97 Type: SnssaiInfoItem
Table 6.1.6.2.97-1: Definition of type SnssaiInfoItem
Attribute name Data type P Cardinality Description
* * *
sNssai ExtSnssai M 1 Supported S-NSSAI dnnInfoList array(DnnInfoItem) M 1..N
List of parameters supported by the NF per DNN
##### 6.1.6.2.98 Type: DnnInfoItem
Table 6.1.6.2.98-1: Definition of type DnnInfoItem
Attribute name Data type P Cardinality Description
* * *
dnn Dnn M 1 Supported DNN or Wildcard DNN if the NF supports all DNNs for the
related S-NSSAI. The DNN shall contain the Network Identifier and it may
additionally contain an Operator Identifier. If the Operator Identifier is not
included, the DNN is supported for all the PLMNs in the plmnList of the NF
Profile.
##### 6.1.6.2.99 Type: CollocatedNfInstance
Table 6.1.6.2.99-1: Definition of type CollocatedNfInstance
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | nfInstanceId | NfInstanceId | M | 1 | Unique | | | | | | identity of | | | | | | the NF | | | | | | Instance for | | | | | | a collocated | | | | | | NF type. | +---------------+---------------+---+-------------+---------------+ | nfType | Col | M | 1 | Possible NF | | | locatedNfType | | | types | | | | | | supported by | | | | | | a collocated | | | | | | NF. | | | | | | | | | | | | (NOTE 1, | | | | | | NOTE 2) | +---------------+---------------+---+-------------+---------------+ | NOTE 1: | | | | | | Whether NFs | | | | | | of any NF | | | | | | types are | | | | | | collocated or | | | | | | not, is an | | | | | | i | | | | | | mplementation | | | | | | and/or | | | | | | deployment | | | | | | issue and | | | | | | needs not be | | | | | | known in | | | | | | general to | | | | | | the NF | | | | | | service | | | | | | consumers and | | | | | | therefore | | | | | | needs not be | | | | | | registered in | | | | | | the NF | | | | | | profile. This | | | | | | data type is | | | | | | only intended | | | | | | for specific | | | | | | scenarios | | | | | | where the | | | | | | discovery and | | | | | | selection of | | | | | | a combined NF | | | | | | service | | | | | | producer by a | | | | | | NF service | | | | | | consumer can | | | | | | allow | | | | | | specific | | | | | | o | | | | | | ptimizations. | | | | | | In order to | | | | | | retrieve the | | | | | | NFProfile of | | | | | | the | | | | | | collocated NF | | | | | | instance, the | | | | | | NF service | | | | | | consumer | | | | | | shall trigger | | | | | | a separate | | | | | | discovery | | | | | | procedure | | | | | | using the | | | | | | nfType and | | | | | | nfInstanceId | | | | | | in the | | | | | | Colloca | | | | | | tedNfInstance | | | | | | data type. | | | | | | | | | | | | NOTE 2: The | | | | | | supported | | | | | | collocated NF | | | | | | types in this | | | | | | release of | | | | | | the | | | | | | specification | | | | | | may only be | | | | | | one of the | | | | | | following:\ | | | | | | - a MB-SMF | | | | | | may be | | | | | | collocated | | | | | | with a SMF | | | | | | (N16mb | | | | | | internal | | | | | | interface);\ | | | | | | - a MB-UPF | | | | | | may be | | | | | | collocated | | | | | | with a UPF | | | | | | (N19mb | | | | | | internal | | | | | | interface). | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.100 Type: ServiceNameListCond
Table 6.1.6.2.100-1: Definition of type ServiceNameListCond
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | conditionType | string | M | 1 | This | | | | | | attribute | | | | | | serves as | | | | | | d | | | | | | iscriminator, | | | | | | to make all | | | | | | data types | | | | | | defined in | | | | | | Table | | | | | | 6.1.6.2.35-1 | | | | | | mutually | | | | | | exclusive. | | | | | | | | | | | | In this data | | | | | | type, it | | | | | | shall take | | | | | | the value | | | | | | \"SE | | | | | | RVICE_NAME_ | | | | | | LIST_COND\". | +---------------+---------------+---+-------------+---------------+ | se | array | M | 1..N | Service names | | rviceNameList | (ServiceName) | | | offered by | | | | | | the NF | | | | | | Instances | | | | | | whose status | | | | | | is requested | | | | | | to be | | | | | | monitored. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.101 Type: NfGroupListCond
Table 6.1.6.2.101-1: Definition of type NfGroupListCond
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | conditionType | string | M | 1 | This | | | | | | attribute | | | | | | serves as | | | | | | d | | | | | | iscriminator, | | | | | | to make all | | | | | | data types | | | | | | defined in | | | | | | Table | | | | | | 6.1.6.2.35-1 | | | | | | mutually | | | | | | exclusive. | | | | | | | | | | | | In this data | | | | | | type, it | | | | | | shall take | | | | | | the value | | | | | | \"NF_GROUP_ | | | | | | LIST_COND\". | +---------------+---------------+---+-------------+---------------+ | nfType | string | M | 1 | NF type (UDM, | | | | | | AUSF, PCF, | | | | | | UDR, HSS or | | | | | | CHF) of the | | | | | | NF Instances | | | | | | whose status | | | | | | is requested | | | | | | to be | | | | | | monitored. | +---------------+---------------+---+-------------+---------------+ | nfGroupIdList | arr | M | 1..N | Group IDs of | | | ay(NfGroupId) | | | the NF | | | | | | Instances | | | | | | whose status | | | | | | is requested | | | | | | to be | | | | | | monitored. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.102 Type: PlmnOauth2
Table 6.1.6.2.102-1: Definition of type PlmnOauth2
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | oauth2Requi | array(PlmnId) | O | 1..N | It shall | | redPlmnIdList | | | | indicate the | | | | | | consumer PLMN | | | | | | ID list for | | | | | | which NF | | | | | | Service | | | | | | Instance | | | | | | requires | | | | | | Oauth2-based | | | | | | a | | | | | | uthorization. | | | | | | | | | | | | (See NOTE 1) | +---------------+---------------+---+-------------+---------------+ | o | array(PlmnId) | O | 1..N | It shall | | auth2NotRequi | | | | indicate the | | redPlmnIdList | | | | consumer PLMN | | | | | | ID list for | | | | | | which NF | | | | | | Service | | | | | | Instance does | | | | | | not require | | | | | | Oauth2-based | | | | | | a | | | | | | uthorization. | | | | | | | | | | | | (See NOTE 1) | +---------------+---------------+---+-------------+---------------+ | NOTE 1: The | | | | | | same PLMN Id | | | | | | shall not be | | | | | | present in | | | | | | both | | | | | | oauth2Requi | | | | | | redPlmnIdList | | | | | | and | | | | | | oa | | | | | | uth2NotRequir | | | | | | edPlmnIdList. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.103 Type: V2xCapability
Table 6.1.6.2.103-1: Definition of type V2xCapability
+----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +================+===========+===+=============+=================+ | lteV2x | boolean | O | 0..1 | When present, | | | | | | this IE shall | | | | | | indicate | | | | | | whether the PCF | | | | | | supports LTE | | | | | | V2X capability: | | | | | | | | | | | | - true: LTE | | | | | | V2X capability | | | | | | is supported by | | | | | | the PCF | | | | | | | | | | | | - false | | | | | | (default): LTE | | | | | | V2X capability | | | | | | is not | | | | | | supported by | | | | | | the PCF. | +----------------+-----------+---+-------------+-----------------+ | nrV2x | boolean | O | 0..1 | When present, | | | | | | this IE shall | | | | | | indicate | | | | | | whether the PCF | | | | | | supports NR V2X | | | | | | capability: | | | | | | | | | | | | - true: NR V2X | | | | | | capability is | | | | | | supported by | | | | | | the PCF | | | | | | | | | | | | - false | | | | | | (default): NR | | | | | | V2X capability | | | | | | is not | | | | | | supported by | | | | | | the PCF. | +----------------+-----------+---+-------------+-----------------+
##### 6.1.6.2.104 Type: NssaafInfo
Table 6.1.6.2.104-1: Definition of type NssaafInfo
Attribute name Data type P Cardinality Description
* * *
supiRanges array(SupiRange) O 1..N List of ranges of SUPIs that can be served
by the NSSAAF instance. internalGroupIdentifiersRanges
array(InternalGroupIdRange) O 1..N List of ranges of Internal Group
Identifiers that can be served by the NSSAAF instance.If not provided, it does
not imply that the NSSAAF supports all internal groups.
##### 6.1.6.2.105 Type: ProSeCapability
Table 6.1.6.2.105-1: Definition of type ProSeCapability
+-----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +=================+===========+===+=============+=================+ | pros | boolean | O | 0..1 | When present, | | eDirectDiscovey | | | | this IE shall | | | | | | indicate | | | | | | whether the PCF | | | | | | supports ProSe | | | | | | Direct | | | | | | Discovery: | | | | | | | | | | | | - true: ProSe | | | | | | Direct | | | | | | Discovery is | | | | | | supported by | | | | | | the PCF | | | | | | | | | | | | - false | | | | | | (default): | | | | | | ProSe Direct | | | | | | Discovery is | | | | | | not supported | | | | | | by the PCF. | +-----------------+-----------+---+-------------+-----------------+ | proseDire | boolean | O | 0..1 | When present, | | ctCommunication | | | | this IE shall | | | | | | indicate | | | | | | whether the PCF | | | | | | supports ProSe | | | | | | Direct | | | | | | Communication: | | | | | | | | | | | | - true: ProSe | | | | | | Direct | | | | | | Communication | | | | | | is supported by | | | | | | the PCF | | | | | | | | | | | | - false | | | | | | (default): | | | | | | ProSe Direct | | | | | | Communication | | | | | | is not | | | | | | supported by | | | | | | the PCF. | +-----------------+-----------+---+-------------+-----------------+ | proseL2U | boolean | O | 0..1 | When present, | | etoNetworkRelay | | | | this IE shall | | | | | | indicate | | | | | | whether the PCF | | | | | | supports ProSe | | | | | | Layer-2 | | | | | | UE-to-Network | | | | | | Relay: | | | | | | | | | | | | - true: ProSe | | | | | | Layer-2 | | | | | | UE-to-Network | | | | | | Relay is | | | | | | supported by | | | | | | the PCF | | | | | | | | | | | | - false | | | | | | (default): | | | | | | ProSe Layer-2 | | | | | | UE-to-Network | | | | | | Relay is not | | | | | | supported by | | | | | | the PCF. | +-----------------+-----------+---+-------------+-----------------+ | proseL3U | boolean | O | 0..1 | When present, | | etoNetworkRelay | | | | this IE shall | | | | | | indicate | | | | | | whether the PCF | | | | | | supports ProSe | | | | | | Layer-3 | | | | | | UE-to-Network | | | | | | Relay: | | | | | | | | | | | | - true: ProSe | | | | | | Layer-3 | | | | | | UE-to-Network | | | | | | Relay is | | | | | | supported by | | | | | | the PCF | | | | | | | | | | | | - false | | | | | | (default): | | | | | | ProSe Layer-3 | | | | | | UE-to-Network | | | | | | Relay is not | | | | | | supported by | | | | | | the PCF. | +-----------------+-----------+---+-------------+-----------------+ | proseL2RemoteUe | boolean | O | 0..1 | When present, | | | | | | this IE shall | | | | | | indicate | | | | | | whether the PCF | | | | | | supports ProSe | | | | | | Layer-2 Remote | | | | | | UE: | | | | | | | | | | | | - true: ProSe | | | | | | Layer-2 Remote | | | | | | UE is supported | | | | | | by the PCF | | | | | | | | | | | | - false | | | | | | (default): | | | | | | ProSe Layer-2 | | | | | | Remote UE is | | | | | | not supported | | | | | | by the PCF. | +-----------------+-----------+---+-------------+-----------------+ | proseL3RemoteUe | boolean | O | 0..1 | When present, | | | | | | this IE shall | | | | | | indicate | | | | | | whether the PCF | | | | | | supports ProSe | | | | | | Layer-3 Remote | | | | | | UE: | | | | | | | | | | | | - true: ProSe | | | | | | Layer-3 Remote | | | | | | UE is supported | | | | | | by the PCF | | | | | | | | | | | | - false | | | | | | (default): | | | | | | ProSe Layer-3 | | | | | | Remote UE is | | | | | | not supported | | | | | | by the PCF. | +-----------------+-----------+---+-------------+-----------------+ | pro | boolean | O | 0..1 | When present, | | seL2UetoUeRelay | | | | this IE shall | | | | | | indicate | | | | | | whether the PCF | | | | | | supports ProSe | | | | | | Layer-2 | | | | | | UE-to-UE Relay: | | | | | | | | | | | | - true: ProSe | | | | | | Layer-2 | | | | | | UE-to-UE Relay | | | | | | is supported by | | | | | | the PCF | | | | | | | | | | | | - false | | | | | | (default): | | | | | | ProSe Layer-2 | | | | | | UE-to-UE Relay | | | | | | is not | | | | | | supported by | | | | | | the PCF. | +-----------------+-----------+---+-------------+-----------------+ | pro | boolean | O | 0..1 | When present, | | seL3UetoUeRelay | | | | this IE shall | | | | | | indicate | | | | | | whether the PCF | | | | | | supports ProSe | | | | | | Layer-3 | | | | | | UE-to-UE Relay: | | | | | | | | | | | | - true: ProSe | | | | | | Layer-3 | | | | | | UE-to-UE Relay | | | | | | is supported by | | | | | | the PCF | | | | | | | | | | | | - false | | | | | | (default): | | | | | | ProSe Layer-3 | | | | | | UE-to-UE Relay | | | | | | is not | | | | | | supported by | | | | | | the PCF. | +-----------------+-----------+---+-------------+-----------------+ | proseL2EndUe | boolean | O | 0..1 | When present, | | | | | | this IE shall | | | | | | indicate | | | | | | whether the PCF | | | | | | supports ProSe | | | | | | Layer-2 End UE: | | | | | | | | | | | | - true: ProSe | | | | | | Layer-2 End UE | | | | | | is supported by | | | | | | the PCF | | | | | | | | | | | | - false | | | | | | (default): | | | | | | ProSe Layer-2 | | | | | | End UE is not | | | | | | supported by | | | | | | the PCF. | +-----------------+-----------+---+-------------+-----------------+ | proseL3EndUe | boolean | O | 0..1 | When present, | | | | | | this IE shall | | | | | | indicate | | | | | | whether the PCF | | | | | | supports ProSe | | | | | | Layer-3 End UE: | | | | | | | | | | | | - true: ProSe | | | | | | Layer-3 End UE | | | | | | is supported by | | | | | | the PCF | | | | | | | | | | | | - false | | | | | | (default): | | | | | | ProSe Layer-3 | | | | | | End UE is not | | | | | | supported by | | | | | | the PCF. | +-----------------+-----------+---+-------------+-----------------+
##### 6.1.6.2.106 Type: SharedDataIdRange
Table 6.1.6.2.106-1: Definition of type ShardDataIdRange
Attribute name Data type P Cardinality Description
* * *
pattern string O 0..1 Pattern (regular expression according to the ECMA-262
dialect [8]) representing the set of SharedDataIds belonging to this range. A
SharedDataId value is considered part of the range if and only if the
SharedDataId string fully matches the regular expression.
EXAMPLE: SharedDataId range. \"123456-sharedAmData _{localID}_ \" where
\"123456\" is the HPLMN id (i.e. MCC followed by MNC) and \"_{localID}_ \" can
be any string.\ JSON: { \"pattern\": \"\^123456-sharedAmData.+\$\" }
##### 6.1.6.2.107 Type: SubscriptionContext
Table 6.1.6.2.107-1: Definition of type SubscriptionContext
Attribute name Data type P Cardinality Description
* * *
subscriptionId string M 1 Subscription ID of the corresponding subscription
resource that originated the notification. subscrCond SubscrCond O 0..1 If
present, this attribute shall contain the conditions identifying the set of NF
Instances whose status was requested to be monitored in the corresponding
subscription that originated this notification.
##### 6.1.6.2.108 Type: IwmscInfo
Table 6.1.6.2.108-1: Definition of type IwmscInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | msisdnRanges | array(I | O | 1..N | List of | | | dentityRange) | | | ranges of | | | | | | MSISDNs | | | | | | supported by | | | | | | the | | | | | | SMS-IWMSC. | | | | | | | | | | | | See NOTE. | +---------------+---------------+---+-------------+---------------+ | supiRanges | arr | O | 1..N | List of | | | ay(SupiRange) | | | ranges of | | | | | | SUPIs | | | | | | supported by | | | | | | the | | | | | | SMS-IWMSC. | | | | | | | | | | | | See NOTE. | +---------------+---------------+---+-------------+---------------+ | taiRangeList | ar | O | 1..N | The range of | | | ray(TaiRange) | | | TAIs the | | | | | | SMS-IWMSC can | | | | | | serve. | | | | | | | | | | | | The absence | | | | | | of this | | | | | | attribute | | | | | | indicates | | | | | | that the | | | | | | SMS-IWMSC can | | | | | | serve any TA. | +---------------+---------------+---+-------------+---------------+ | scNumber | string | O | 0..1 | When present, | | | | | | this IE carry | | | | | | an | | | | | | OctetString | | | | | | indicating | | | | | | the ISDN | | | | | | number of the | | | | | | SC in | | | | | | international | | | | | | number format | | | | | | as described | | | | | | in | | | | | | ITU-T Rec. | | | | | | E.164 [44] | | | | | | and shall be | | | | | | encoded as a | | | | | | TBCD-string. | | | | | | | | | | | | Pattern: | | | | | | \"\^[0- | | | | | | 9]{5,15}\$\" | +---------------+---------------+---+-------------+---------------+ | NOTE: If both | | | | | | parameters | | | | | | are not | | | | | | provided, the | | | | | | SMS-IWMSC can | | | | | | serve any | | | | | | SUPI or | | | | | | MSISDN. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.109 Type: MnpfInfo
Table 6.1.6.2.109-1: Definition of type MnpfInfo
Attribute name Data type P Cardinality Description
* * *
msisdnRanges array(IdentityRange) M 1..N List of ranges of MSISDNs whose
portability status is available in the MNPF
##### 6.1.6.2.110 Type: DefSubServiceInfo
Table 6.1.6.2.110-1: Definition of type DefSubServiceInfo
Attribute name Data type P Cardinality Description
* * *
versions array(string) O 1..N When present, this attribute shall indicate the
API version (e.g. \"v1\") of the indicated service which are supported by the
NF (Service) instance acting as NF service consumer. supportedFeatures
SupportedFeatures O 0..1 When present, this attribute shall indicate the
features of the indicated service which are supported by the NF (Service)
instance acting as NF service consumer.
##### 6.1.6.2.111 Type: LocalityDescriptionItem
Table 6.1.6.2.111-1: Definition of type LocalityDescriptionItem
Attribute name Data type P Cardinality Description
* * *
localityType LocalityType M 1 Type of locality description localityValue
string M 1 Locality value
##### 6.1.6.2.112 Type: LocalityDescription
Table 6.1.6.2.112-1: Definition of type LocalityDescription
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | localityType | LocalityType | M | 1 | Type of | | | | | | locality | | | | | | description | +---------------+---------------+---+-------------+---------------+ | localityValue | string | M | 1 | Locality | | | | | | value | +---------------+---------------+---+-------------+---------------+ | addl | arra | O | 0..1 | Additional | | LocDescrItems | y(LocalityDes | | | locality | | | criptionItem) | | | description | | | | | | items | | | | | | | | | | | | This IE may | | | | | | be present to | | | | | | express a | | | | | | preferred | | | | | | locatity as a | | | | | | set of | | | | | | locality | | | | | | description | | | | | | items to | | | | | | match with an | | | | | | \"AND\" | | | | | | relationship, | | | | | | e.g. to | | | | | | express a | | | | | | preference | | | | | | for NF | | | | | | profiles that | | | | | | are located | | | | | | in a given | | | | | | city and | | | | | | state. This | | | | | | may be used | | | | | | e.g. when a | | | | | | locality | | | | | | value of a | | | | | | given | | | | | | locality type | | | | | | may not be | | | | | | unique within | | | | | | the PLMN, | | | | | | such as | | | | | | cities with | | | | | | the same name | | | | | | in different | | | | | | states. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.113 Type: SmsfInfo
Table 6.1.6.2.113-1: Definition of type SmsfInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | roamingUeInd | boolean | O | 0..1 | When present, | | | | | | this IE shall | | | | | | indicate | | | | | | whether the | | | | | | SMSF can | | | | | | serve roaming | | | | | | UE: | | | | | | | | | | | | - true: the | | | | | | SMSF can | | | | | | support | | | | | | roaming UEs. | | | | | | | | | | | | - false: the | | | | | | SMSF can not | | | | | | support | | | | | | roaming UEs. | | | | | | | | | | | | Absence of | | | | | | this IE | | | | | | indicates | | | | | | whether the | | | | | | SMSF can | | | | | | serve roaming | | | | | | UEs is not | | | | | | specified. | +---------------+---------------+---+-------------+---------------+ | remote | arr | O | 1..N | This IE maybe | | PlmnRangeList | ay(PlmnRange) | | | present when | | | | | | the | | | | | | roamingUeInd | | | | | | IE is present | | | | | | with the | | | | | | value | | | | | | \"true\". | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | list of | | | | | | ranges of | | | | | | remote PLMNs | | | | | | served by the | | | | | | SMSF, i.e. | | | | | | the SMSF can | | | | | | serve the | | | | | | roaming UEs | | | | | | which belong | | | | | | to the | | | | | | indicated | | | | | | remote PLMNs. | +---------------+---------------+---+-------------+---------------+ | NOTE: If the | | | | | | roamingUeInd | | | | | | IE is present | | | | | | with the | | | | | | value | | | | | | \"true\", | | | | | | absence of | | | | | | remote | | | | | | PlmnRangeList | | | | | | IE indicates | | | | | | that the SMSF | | | | | | can serve | | | | | | roaming UEs | | | | | | from any | | | | | | remote PLMN. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.114 Type: DcsfInfo
Table 6.1.6.2.114-1: Definition of type DcsfInfo
Attribute name Data type P Cardinality Description
* * *
imsDomainNameList array(imsDomainName) O 1..N List of IMS domain names served
by the DCSF. imsiRanges array(ImsiRange) O 1..N List of ranges of IMSIs whose
profile data is available in the DCSF instance. (NOTE 1) msisdnRanges
array(IdentityRange) O 1..N List of ranges of MSISDNs whose profile data is
available in the DCSF instance. (NOTE 1) imsPrivateIdentityRanges
array(IdentityRange) O 1..N List of ranges of IMS Private Identities whose
profile data is available in the DCSF instance. (NOTE 1)
imsPublicIdentityRanges array(IdentityRange) O 1..N List of ranges of IMS
Public Identities whose profile data is available in the DCSF instance. (NOTE
1) NOTE 1: If none of these parameters are provided, the DCSF can serve any
IMSI or IMS Private Identity or IMS Public Identity or MSISDN managed by the
PLMN of the DCSF instance.
##### 6.1.6.2.115 Type: MlModelInterInfo
Table 6.1.6.2.115-1: Definition of type MlModelInterInfo
Attribute name Data type P Cardinality Description
* * *
vendorList array(VendorId) O 1..N When present, this IE shall include the list
of NWDAF vendors that are allowed to retrieve ML models from the NWDAF
containing MTLF.
##### 6.1.6.2.116 Type: PruExistenceInfo
Table 6.1.6.2.116-1: Definition of type PruExistenceInfo
Attribute name Data type P Cardinality Description
* * *
taiList array(Tai) O 1..N When present, this IE shall contain PRU(s) TAI list
that the LMF can serve. It may contain one or more non-3GPP access TAIs.
taiRangeList array(TaiRange) O 1..N When present, this IE shall contain PRU(s)
TAI range list that the LMF can serve. It may contain one or more non-3GPP
access TAI ranges.
##### 6.1.6.2.117 Type: MrfInfo
Table 6.1.6.2.117-1: Definition of type MrfInfo
Attribute name Data type P Cardinality Description
* * *
mediaCapabilityList array(MediaCapability) O 1..N List of IMS media
capabilities offered by the MRF. An IMS media capability that matches this
information can be served by the MRF. (NOTE 1) NOTE 1: Locality of MRF may be
configured to allow the MRF consumers to discover and select candidate MRF
based on Locality information. See NOTE 25 of Table 6.2.3.2.3.1-1.
##### 6.1.6.2.118 Type: MrfpInfo
Table 6.1.6.2.118-1: Definition of type MrfpInfo
Attribute name Data type P Cardinality Description
* * *
mediaCapabilityList array(MediaCapability) O 1..N List of IMS media
capabilities offered by the MRFP. An IMS media capability that matches this
information can be served by the MRFP. (NOTE 1) NOTE 1: Locality of MRFP may
be configured to allow the MRFP consumers to discover and select candidate
MRFP based on Locality information. See NOTE 25 of Table 6.2.3.2.3.1-1.
##### 6.1.6.2.119 Type: MfInfo
Table 6.1.6.2.119-1: Definition of type MfInfo
Attribute name Data type P Cardinality Description
* * *
mediaCapabilityList array(MediaCapability) O 1..N List of media capabilities
offered by the MF. A media capability that matches this information can be
served by the MF. E.g. DC, AR. (NOTE 1) NOTE 1: Locality of MF may be
configured to allow the MF consumers to discover and select candidate MF based
on Locality information. See NOTE 25 of Table 6.2.3.2.3.1-1.
Editor\'s Note: IP address and IP address ranges used for MF registration and
discovery is FFS.
##### 6.1.6.2.120 Type: A2xCapability
Table 6.1.6.2.120-1: Definition of type A2xCapability
+----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +================+===========+===+=============+=================+ | lteA2x | boolean | O | 0..1 | When present, | | | | | | this IE shall | | | | | | indicate | | | | | | whether the PCF | | | | | | supports LTE | | | | | | A2X capability: | | | | | | | | | | | | - true: LTE | | | | | | A2X capability | | | | | | is supported by | | | | | | the PCF | | | | | | | | | | | | - false | | | | | | (default): LTE | | | | | | A2X capability | | | | | | is not | | | | | | supported by | | | | | | the PCF. | +----------------+-----------+---+-------------+-----------------+ | nrA2x | boolean | O | 0..1 | When present, | | | | | | this IE shall | | | | | | indicate | | | | | | whether the PCF | | | | | | supports NR A2X | | | | | | capability: | | | | | | | | | | | | - true: NR A2X | | | | | | capability is | | | | | | supported by | | | | | | the PCF | | | | | | | | | | | | - false | | | | | | (default): NR | | | | | | A2X capability | | | | | | is not | | | | | | supported by | | | | | | the PCF. | +----------------+-----------+---+-------------+-----------------+
##### 6.1.6.2.121 Type: RuleSet
Table 6.1.6.2.121-1: Definition of type RuleSet
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | priority | integer | M | 1 | Unique | | | | | | Priority of | | | | | | the rule. | | | | | | Lower value | | | | | | means higher | | | | | | priority. | +---------------+---------------+---+-------------+---------------+ | plmns | array(PlmnId) | O | 1..N | PLMNs | | | | | | allowe | | | | | | d/dis-allowed | | | | | | to access the | | | | | | service | | | | | | instance. | | | | | | | | | | | | When absent, | | | | | | NF-Consumers | | | | | | of all PLMNs | | | | | | are assumed | | | | | | to match this | | | | | | criteria. | +---------------+---------------+---+-------------+---------------+ | snpns | arr | O | 1..N | SNPNs | | | ay(PlmnIdNid) | | | allowe | | | | | | d/dis-allowed | | | | | | to access the | | | | | | service | | | | | | instance. | | | | | | | | | | | | When absent, | | | | | | NF-Consumers | | | | | | of all SNPNs | | | | | | are assumed | | | | | | to match this | | | | | | criteria. | +---------------+---------------+---+-------------+---------------+ | nfTypes | array(NFType) | O | 1..N | Type of the | | | | | | NFs | | | | | | allowe | | | | | | d/dis-allowed | | | | | | to access the | | | | | | service | | | | | | instance. | | | | | | | | | | | | When absent, | | | | | | NF-Consumers | | | | | | of all | | | | | | nfTypes are | | | | | | assumed to | | | | | | match this | | | | | | criteria. | +---------------+---------------+---+-------------+---------------+ | nfDomains | array(string) | O | 1..N | Pattern | | | | | | (regular | | | | | | expression | | | | | | according to | | | | | | the ECMA-262 | | | | | | dialect | | | | | | [8]) | | | | | | representing | | | | | | the NF domain | | | | | | names within | | | | | | the PLMN of | | | | | | the NRF | | | | | | allowe | | | | | | d/dis-allowed | | | | | | to access the | | | | | | service | | | | | | instance. | | | | | | | | | | | | When absent, | | | | | | NF-Consumers | | | | | | of all | | | | | | nfDomains are | | | | | | assumed to | | | | | | match this | | | | | | criteria. | +---------------+---------------+---+-------------+---------------+ | nssais | arr | O | 1..N | S-NSSAIs of | | | ay(ExtSnssai) | | | the | | | | | | NF-Consumers | | | | | | allowe | | | | | | d/dis-allowed | | | | | | to access the | | | | | | service | | | | | | instance. | | | | | | | | | | | | When absent, | | | | | | NF-Consumers | | | | | | of all slices | | | | | | are assumed | | | | | | to match this | | | | | | criteria. | +---------------+---------------+---+-------------+---------------+ | nfInstances | array( | O | 1..N | NF-Instance | | | NfInstanceId) | | | IDs of the | | | | | | NF-Consumers | | | | | | allowe | | | | | | d/dis-allowed | | | | | | to access the | | | | | | NF/NF-Service | | | | | | instance. | | | | | | | | | | | | When absent, | | | | | | all the | | | | | | NF-Consumers | | | | | | are assumed | | | | | | to match this | | | | | | criteria. | +---------------+---------------+---+-------------+---------------+ | scopes | array(string) | O | 1..N | List of | | | | | | scopes | | | | | | allowed or | | | | | | denied to the | | | | | | NF-Consumers | | | | | | matching the | | | | | | rule. | | | | | | | | | | | | The scopes | | | | | | shall be any | | | | | | of those | | | | | | defined in | | | | | | the API that | | | | | | defines the | | | | | | current | | | | | | service | | | | | | (identified | | | | | | by the | | | | | | \" | | | | | | serviceName\" | | | | | | attribute), | | | | | | including the | | | | | | service-level | | | | | | scopes. | | | | | | | | | | | | When absent, | | | | | | the | | | | | | NF-Consumer | | | | | | is allowed or | | | | | | denied full | | | | | | access to all | | | | | | the | | | | | | resourc | | | | | | es/operations | | | | | | of service | | | | | | instance. | | | | | | | | | | | | This IE is | | | | | | applicable | | | | | | only in | | | | | | NF-Service | | | | | | definition. | +---------------+---------------+---+-------------+---------------+ | action | RuleSetAction | M | 1 | Specifies | | | | | | whether the | | | | | | scopes/access | | | | | | mentioned are | | | | | | allowed or | | | | | | denied for a | | | | | | specific | | | | | | NF-Consumer. | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.122 Type: AdrfInfo
Table 6.1.6.2.122-1: Definition of type AdrfInfo
+-----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +=================+===========+===+=============+=================+ | ml | boolean | O | 0..1 | When present, | | ModelStorageInd | | | | this IE shall | | | | | | indicate | | | | | | whether the | | | | | | ADRF supports | | | | | | ML model | | | | | | storage: | | | | | | | | | | | | - true: ML | | | | | | model storage | | | | | | capability is | | | | | | supported by | | | | | | the ADRF | | | | | | | | | | | | - false | | | | | | (default): ML | | | | | | model storage | | | | | | capability is | | | | | | not supported | | | | | | by the ADRF. | +-----------------+-----------+---+-------------+-----------------+
##### 6.1.6.2.123 Type: SelectionConditions
Table 6.1.6.2.123-1: Definition of type SelectionConditions as a list of
mutually exclusive alternatives
Data type P Cardinality Description
* * *
ConditionItem O 0..1 A single condition item that shall be evaluated (as
\ or \ to determine whether a discovered NF (Service) Instance
shall be selected. ConditionGroup O 0..1 A group of conditions (joined by a
boolean \"and\" or \"or\" connector) that shall be evaluated (as \ or
\) to determine whether a discovered NF (Service) Instance shall be
selected.
##### 6.1.6.2.124 Type: ConditionItem
Table 6.1.6.2.124-1: Definition of type ConditionItem
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | co | array(NFType) | O | 1..N | The NF types | | nsumerNfTypes | | | | of the | | | | | | consumers for | | | | | | which the | | | | | | conditions | | | | | | included in | | | | | | this | | | | | | ConditionItem | | | | | | apply. | | | | | | | | | | | | If this | | | | | | attribute is | | | | | | absent, the | | | | | | conditions | | | | | | are | | | | | | applicable to | | | | | | all NF | | | | | | consumer | | | | | | types. | +---------------+---------------+---+-------------+---------------+ | s | integer | O | 0..1 | This | | erviceFeature | | | | attribute | | | | | | only applies | | | | | | when the | | | | | | selecti | | | | | | onConditions, | | | | | | where this | | | | | | ConditionItem | | | | | | is included, | | | | | | is included | | | | | | in a NF | | | | | | Service | | | | | | Instance. | | | | | | | | | | | | It represents | | | | | | a feature | | | | | | number of | | | | | | that NF | | | | | | Service | | | | | | Instance, | | | | | | under | | | | | | CA | | | | | | NARY_RELEASE | | | | | | status. | | | | | | | | | | | | This | | | | | | condition is | | | | | | evaluated to | | | | | | \ when | | | | | | the service | | | | | | requests from | | | | | | a consumer of | | | | | | this NF | | | | | | Service | | | | | | Instance | | | | | | require the | | | | | | support of | | | | | | the indicated | | | | | | feature on | | | | | | the NF | | | | | | Service | | | | | | Instance. | | | | | | | | | | | | EXAMPLE: If | | | | | | \"ser | | | | | | viceFeature\" | | | | | | is set to 2, | | | | | | for a service | | | | | | instance of | | | | | | \"nsmf- | | | | | | pdusession\", | | | | | | such instance | | | | | | will only be | | | | | | selected for | | | | | | consumers | | | | | | supporting, | | | | | | and requiring | | | | | | the support | | | | | | from the NF | | | | | | Service | | | | | | producer, of | | | | | | the \"MAPDU\" | | | | | | (ATSSS) | | | | | | feature (see | | | | | | 3G | | | | | | PP TS 29.502, | | | | | | cl | | | | | | ause 6.1.8),. | +---------------+---------------+---+-------------+---------------+ | vsS | integer | O | 0..1 | This | | erviceFeature | | | | attribute | | | | | | only applies | | | | | | when the | | | | | | selecti | | | | | | onConditions, | | | | | | where this | | | | | | ConditionItem | | | | | | is included, | | | | | | is included | | | | | | in a NF | | | | | | Service | | | | | | Instance. | | | | | | | | | | | | It represents | | | | | | a | | | | | | Ve | | | | | | ndor-Specific | | | | | | feature | | | | | | number of | | | | | | that NF | | | | | | Service | | | | | | Instance, | | | | | | under | | | | | | CA | | | | | | NARY_RELEASE | | | | | | status. | | | | | | | | | | | | This | | | | | | condition is | | | | | | evaluated to | | | | | | \ when | | | | | | the service | | | | | | requests from | | | | | | a consumer of | | | | | | this NF | | | | | | Service | | | | | | Instance | | | | | | require the | | | | | | support of | | | | | | the indicated | | | | | | Ve | | | | | | ndor-Specific | | | | | | feature on | | | | | | the NF | | | | | | Service | | | | | | Instance. | +---------------+---------------+---+-------------+---------------+ | supiRangeList | arr | O | 1..N | A set of | | | ay(SupiRange) | | | SUPIs for | | | | | | which the NF | | | | | | (Service) | | | | | | instance | | | | | | under | | | | | | CA | | | | | | NARY_RELEASE | | | | | | status shall | | | | | | be selected | +---------------+---------------+---+-------------+---------------+ | gpsiRangeList | array(I | O | 1..N | A set of | | | dentityRange) | | | GPSIs for | | | | | | which the NF | | | | | | (Service) | | | | | | instance | | | | | | under | | | | | | CA | | | | | | NARY_RELEASE | | | | | | status shall | | | | | | be selected | +---------------+---------------+---+-------------+---------------+ | impuRangeList | array(I | O | 1..N | A set of IMS | | | dentityRange) | | | Public | | | | | | Identities | | | | | | for which the | | | | | | NF (Service) | | | | | | instance | | | | | | under | | | | | | CA | | | | | | NARY_RELEASE | | | | | | status shall | | | | | | be selected. | +---------------+---------------+---+-------------+---------------+ | impiRangeList | array(I | O | 1..N | A set of IMS | | | dentityRange) | | | Private | | | | | | Identities | | | | | | for which the | | | | | | NF (Service) | | | | | | instance | | | | | | under | | | | | | CA | | | | | | NARY_RELEASE | | | | | | status shall | | | | | | be selected | +---------------+---------------+---+-------------+---------------+ | peiList | array(Pei) | O | 1..N | A set of PEIs | | | | | | of the Ues | | | | | | for which the | | | | | | NF (Service) | | | | | | instance | | | | | | under | | | | | | CA | | | | | | NARY_RELEASE | | | | | | status shall | | | | | | be selected | +---------------+---------------+---+-------------+---------------+ | taiRangeList | ar | O | 1..N | A set of TAIs | | | ray(TaiRange) | | | where the NF | | | | | | (Service) | | | | | | instance | | | | | | under | | | | | | CA | | | | | | NARY_RELEASE | | | | | | status shall | | | | | | be selected | | | | | | for a certain | | | | | | UE | +---------------+---------------+---+-------------+---------------+ | dnnList | array(Dnn) | O | 1..N | A set of DNNs | | | | | | where the NF | | | | | | (Service) | | | | | | instance | | | | | | under | | | | | | CA | | | | | | NARY_RELEASE | | | | | | status shall | | | | | | be selected. | +---------------+---------------+---+-------------+---------------+ | NOTE 1: If | | | | | | several | | | | | | attributes | | | | | | (conditions) | | | | | | are present, | | | | | | the | | | | | | evaluation | | | | | | logic shall | | | | | | be the result | | | | | | of a boolean | | | | | | \"AND\" of | | | | | | the | | | | | | conditions | | | | | | expressed in | | | | | | the different | | | | | | attributes of | | | | | | this object. | | | | | | | | | | | | NOTE 2: If an | | | | | | NF Service | | | | | | Consumer | | | | | | finds an | | | | | | unknown | | | | | | condit | | | | | | ion/attribute | | | | | | (e.g. because | | | | | | the attribute | | | | | | has been | | | | | | added in a | | | | | | later version | | | | | | of the | | | | | | sp | | | | | | ecification), | | | | | | or if the NF | | | | | | Service | | | | | | Consumer does | | | | | | not have | | | | | | enough data | | | | | | to evaluate | | | | | | the | | | | | | condition, | | | | | | the result of | | | | | | the | | | | | | evaluation of | | | | | | such | | | | | | condition | | | | | | shall be | | | | | | \. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.1.6.2.125 Type: ConditionGroup
Table 6.1.6.2.125-1: Definition of type ConditionGroup
Attribute name Data type P Cardinality Description
* * *
and array(SelectionConditions) C 1..N A list (array) of conditions where the
overall evaluation is \ only if all the conditions in the list are
evaluated as \. or array(SelectionConditions) C 1..N A list (array) of
conditions where the overall evaluation is \ if at least one of the
conditions in the list is evaluated as \. NOTE: Exactly one of either
attribute \"and\" or attribute \"or\", but not both, shall be present.
##### 6.1.6.2.126 Type: EpdgInfo
Table 6.1.6.2.126-1: Definition of type EpdgInfo
Attribute name Data type P Cardinality Description
* * *
ipv4EndpointAddresses array(Ipv4Addr) C 1..N Available endpoint IPv4
address(es) of the S2b-u terminations (NOTE). ipv6EndpointAddresses
array(Ipv6Addr) C 1..N Available endpoint IPv6 address(es) of the S2b-u
terminations (NOTE). NOTE: At least one of the addressing parameters
(ipv4EndpointAddresses, ipv6EndpointAddresses) shall be included in the
EpdgInfo.
#### 6.1.6.3 Simple data types and enumerations
##### 6.1.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 6.1.6.3.2 Simple data types
The simple data types defined in table 6.1.6.3.2-1 shall be supported.
Table 6.1.6.3.2-1: Simple data types
+---------------+-----------------+----------------------------------+ | Type Name | Type Definition | Description | +---------------+-----------------+----------------------------------+ | NefId | string | The NEF ID as specified in | | | | clause 4.25.2 of 3GPP TS 23.502 | | | | [3]. | | | | | | | | For combined SCEF+NEF, the NEF | | | | ID shall contain the SCEF ID | | | | encoded as specified in | | | | clause 8.4.5 of | | | | 3GPP TS 29.336 [37]. | +---------------+-----------------+----------------------------------+ | VendorId | string | Vendor ID, according to the | | | | IANA-assigned \"SMI Network | | | | Management Private Enterprise | | | | Codes\" [38]. | | | | | | | | It shall be formatted as a fixed | | | | 6-digit string, padding with | | | | leading digits \"0\" to complete | | | | a 6-digit length. | | | | | | | | Pattern: \"\^[0-9]{6}\$\" | +---------------+-----------------+----------------------------------+ | WildcardDnai | string | String representing the Wildcard | | | | DNAI. | | | | | | | | It shall contain the string | | | | \"*\". | | | | | | | | Pattern: \'\^[*]\$\' | +---------------+-----------------+----------------------------------+ | ImsDomainName | string | The IMS domain name. | +---------------+-----------------+----------------------------------+
##### 6.1.6.3.3 Enumeration: NFType
The enumeration NFType represents the different types of Network Functions or
Network Entities that can be found in the 5GC.
Table 6.1.6.3.3-1: Enumeration NFType
Enumeration value Description
* * *
\"NRF\" Network Function: NRF \"UDM\" Network Function: UDM \"AMF\" Network
Function: AMF \"SMF\" Network Function: SMF \"AUSF\" Network Function: AUSF
\"NEF\" Network Function: NEF \"PCF\" Network Function: PCF \"SMSF\" Network
Function: SMSF \"NSSF\" Network Function: NSSF \"UDR\" Network Function: UDR
\"LMF\" Network Function: LMF \"GMLC\" Network Function: GMLC \"5G_EIR\"
Network Function: 5G-EIR \"SEPP\" Network Entity: SEPP \"UPF\" Network
Function: UPF \"N3IWF\" Network Function and Entity: N3IWF \"AF\" Network
Function: AF \"UDSF\" Network Function: UDSF \"BSF\" Network Function: BSF
\"CHF\" Network Function: CHF \"NWDAF\" Network Function: NWDAF \"PCSCF\"
Network Function: P-CSCF \"CBCF\" Network Function: CBCF \"UCMF\" Network
Function: UCMF \"HSS\" Network Function: HSS \"SOR_AF\" Network Function: SOR-
AF \"SPAF\" Network Function: SP-AF \"MME\" Network Function: MME \"SCSAS\"
Network Function: SCS/AS \"SCEF\" Network Function: SCEF \"SCP\" Network
Entity: SCP \"NSSAAF\" Network Function: NSSAAF \"ICSCF\" Network Function:
I-CSCF \"SCSCF\" Network Function: S-CSCF \"DRA\" Network Function: DRA
\"IMS_AS\" Network Function: IMS-AS \"AANF\" Network Function: AAnF
\"5G_DDNMF\" Network Function: 5G DDNMF \"NSACF\" Network Function: NSACF
\"MFAF\" Network Function: MFAF \"EASDF\" Network Function: EASDF \"DCCF\"
Network Function: DCCF \"MB_SMF\" Network Function: MB-SMF \"TSCTSF\" Network
Function: TSCTSF \"ADRF\" Network Function: ADRF \"GBA_BSF\" Network Function:
GBA BSF \"CEF\" Network Function: CEF \"MB_UPF\" Network Function: MB-UPF
\"NSWOF\" Network Function: NSWOF \"PKMF\" Network Function: PKMF \"MNPF\"
Network Function: MNPF \"SMS_GMSC\" Network Function: SMS-GMSC \"SMS_IWMSC\"
Network Function: SMS-IWMSC \"MBSF\" Network Function: MBSF \"MBSTF\" Network
Function: MBSTF \"PANF\" Network Function: PANF \"DCSF\" Network Function:
DCSF \"MRF\" Network Function: MRF \"MRFP\" Network Function: MRFP \"MF\"
Network Function: MF
##### 6.1.6.3.4 Enumeration: NotificationType
Table 6.1.6.3.4-1: Enumeration NotificationType
+----------------------------------+----------------------------------+ | Enumeration value | Description | +==================================+==================================+ | \"N1_MESSAGES\" | Notification of N1 messages. | | | | | | This notification type may be | | | registered by the NF Instance in | | | a default notification | | | subscription at NFProfile level | | | (see clause 6.1.6.2.2) or as | | | part of a specific service | | | instance. | | | | | | If the AMF registers a default | | | notification subscription with | | | this notification type in an NF | | | Service Instance, it may be | | | associated with the service | | | \"namf-comm\" or with a custom | | | service. | | | | | | If the LMF registers a default | | | notification subscription with | | | this notification type in an NF | | | Service Instance, it may be | | | associated with the service | | | \"nlmf-loc\" or with a custom | | | service. | +----------------------------------+----------------------------------+ | \"N2_INFORMATION\" | Notification of N2 information. | | | | | | This notification type may be | | | registered by the NF Instance in | | | a default notification | | | subscription at NFProfile level | | | (see clause 6.1.6.2.2) or as | | | part of a specific service | | | instance. | | | | | | If the AMF registers a default | | | notification subscription with | | | this notification type in an NF | | | Service Instance, it may be | | | associated with the service | | | \"namf-comm\" or with a custom | | | service. | | | | | | If the LMF registers a default | | | notification subscription with | | | this notification type in an NF | | | Service Instance, it may be | | | associated with the service | | | \"nlmf-loc\" or with a custom | | | service. | +----------------------------------+----------------------------------+ | \"LOCATION_NOTIFICATION\" | Notification of Location | | | Information sent by AMF/LMF | | | towards NF Service Consumers | | | (e.g GMLC). | | | | | | This notification type may be | | | registered by the NF Instance in | | | a default notification | | | subscription at NFProfile level | | | (see clause 6.1.6.2.2) or as | | | part of a specific service | | | instance. | | | | | | If the the GMLC registers a | | | default notification | | | subscription with this | | | notification type in an NF | | | Service Instance, it may be | | | associated with the service | | | \"ngmlc-loc\" or with a custom | | | service. | +----------------------------------+----------------------------------+ | \"DATA_REMOVAL_NOTIFICATION\" | Notification of Data Removal | | | sent by UDR (e.g., removal of UE | | | registration data upon | | | subscription withdrawal). | | | | | | This notification type shall be | | | registered by the NF Instance in | | | a default notification | | | subscription at NFProfile level | | | (see clause 6.1.6.2.2). | +----------------------------------+----------------------------------+ | \"DATA_CHANGE_NOTIFICATION\" | Notification of Data Changes | | | sent by UDR. | | | | | | This notification type shall be | | | registered by the NF Instance in | | | a default notification | | | subscription at NFProfile level | | | (see clause 6.1.6.2.2). | +----------------------------------+----------------------------------+ | \" | Notification of UE Location | | LOCATION_UPDATE_NOTIFICATION\" | Information Update sent by GMLC | | | towards NF Service Consumers | | | (e.g. H-GMLC, NEF), during | | | MO_LR procedure. | | | | | | This notification type may be | | | registered by the NF Instance in | | | a default notification | | | subscription at NFProfile level | | | (see clause 6.1.6.2.2) or as | | | part of a specific service | | | instance. | | | | | | If the the GMLC registers a | | | default notification | | | subscription with this | | | notification type in an NF | | | Service Instance, it may be | | | associated with the service | | | \"ngmlc-loc\" or with a custom | | | service. | | | | | | If the the NEF registers a | | | default notification | | | subscription with this | | | notification type in an NF | | | Service Instance, it may be | | | associated with the service | | | \"nnef-eventexposure\" or with a | | | custom service. | +----------------------------------+----------------------------------+ | \"NSSAA_REAUTH_NOTIFICATION\" | Re-authentication notification | | | for slice-specific | | | authentication and authorization | | | sent by NSSAAF towards NF | | | Service Consumers (e.g. AMF). | | | | | | This notification type should be | | | registered by the NF Instance in | | | a default notification | | | subscription at NFProfile level | | | (see clause 6.1.6.2.2); | | | otherwise, it may be registered | | | in a custom service instance. | +----------------------------------+----------------------------------+ | \"NSSAA_REVOC_NOTIFICATION\" | Revocation notification for | | | slice-specific authentication | | | and authorization sent by NSSAAF | | | towards NF Service Consumers | | | (e.g. AMF). | | | | | | This notification type should be | | | registered by the NF Instance in | | | a default notification | | | subscription at NFProfile level | | | (see clause 6.1.6.2.2); | | | otherwise, it may be registered | | | in a custom service instance. | +----------------------------------+----------------------------------+ | \"MATCH_INFO_NOTIFICATION\" | Notification of a matching | | | result, and the information that | | | can be used for charging purpose | | | by 5G DDNMF towards NF Service | | | Consumers (e.g. 5G DDNMF), | | | during Discovery Reporting | | | procedures. | | | | | | This notification type should be | | | registered by the NF Instance in | | | a default notification | | | subscription at NFProfile level | | | (see clause 6.1.6.2.2); | | | otherwise, it may be registered | | | in a custom service instance. | +----------------------------------+----------------------------------+ | \"D | Notification by UDR to its NF | | ATA_RESTORATION_NOTIFICATION\" | Service Consumers (e.g. UDM, | | | PCF, NEF...) or by UDM to its NF | | | Service Consumers (e.g. AMF, | | | SMF, SMSF...) of a potential | | | data-loss event originated at | | | UDR. The content of the | | | notification shall be as | | | described in | | | 3GPP TS 29.503 [36], | | | clause 5.3.2.12.2 and 6.2.5.4. | | | | | | This notification type should be | | | registered by the NF Instance in | | | a default notification | | | subscription at NFProfile level | | | (see clause 6.1.6.2.2); | | | otherwise, it may be registered | | | in a custom service instance. | +----------------------------------+----------------------------------+ | \"TSCTS_NOTIFICATION\" | Notification sent by PCF to | | | TSCTSF of TSC user-plane node | | | information. The content of the | | | notification is described in | | | 3GPP TS 29.514 [47], | | | clause 4.2.5.16. | | | | | | This notification type should be | | | registered by the NF Instance in | | | a default notification | | | subscription at NFProfile level | | | (see clause 6.1.6.2.2); | | | otherwise, it may be registered | | | in a custom service instance. | +----------------------------------+----------------------------------+ | \"LC | Notification sent by LMF to AMF | | S_KEY_DELIVERY_NOTIFICATION\" | to deliver cipering key | | | information. | | | | | | This notification type should be | | | registered by the NF Instance in | | | a default notification | | | subscription at NFProfile level | | | (see clause 6.1.6.2.2); | | | otherwise, it may be registered | | | in a custom service instance. | +----------------------------------+----------------------------------+ | \"UUAA_MM_AUTH_NOTIFICATION\" | Authentication notification sent | | | by UAS-NF towards NF Service | | | Consumers (i.e. AMF), during USS | | | Initiated reauthorization, | | | update authorization data or | | | revoke authorization with | | | UUAA-MM procedures. | | | | | | This notification type should be | | | registered by the NF Instance in | | | a default notification | | | subscription at NFProfile level | | | (see clause 6.1.6.2.2); | | | otherwise, it may be registered | | | in a custom service instance. | +----------------------------------+----------------------------------+
##### 6.1.6.3.5 Enumeration: TransportProtocol
Table 6.1.6.3.5-1: Enumeration TransportProtocol
Enumeration value Description
* * *
\"TCP\" Transport protocol: TCP
##### 6.1.6.3.6 Enumeration: NotificationEventType
Table 6.1.6.3.6-1: Enumeration NotificationEventType
Enumeration value Description
* * *
\"NF_REGISTERED\" The NF Instance has been registered in NRF
\"NF_DEREGISTERED\" The NF Instance has been deregistered from NRF (NOTE)
\"NF_PROFILE_CHANGED\" The profile of the NF Instance has been modified (NOTE)
NOTE: A change of the NFStatus value shall be notified as
\"NF_PROFILE_CHANGED\" event, except if the NFStatus is set to value
\"CANARY_RELEASE\" and the subscribing entity does not support the \"Canary-
Release\" feature; in such case, the subscribing entity shall be notified as a
\"NF_DEREGISTERED\" event.
##### 6.1.6.3.7 Enumeration: NFStatus
Table 6.1.6.3.7-1: Enumeration NFStatus
+----------------------------------+----------------------------------+ | Enumeration value | Description | +==================================+==================================+ | \"REGISTERED\" | The NF Instance is registered in | | | NRF and can be discovered by | | | other NFs. | +----------------------------------+----------------------------------+ | \"SUSPENDED\" | The NF Instance is registered in | | | NRF but it is not operative and | | | cannot be discovered by other | | | NFs. | | | | | | This status may result from a NF | | | Heart-Beat failure (see clause | | | 5.2.2.3.2) or a NF failure and | | | may trigger restoration | | | procedures (see clause 6.2 of | | | 3GPP TS 23.527 [27]). | +----------------------------------+----------------------------------+ | \"UNDISCOVERABLE\" | The NF instance is registered in | | | NRF, is operative but cannot be | | | discovered by other NFs. | | | | | | This status may be set by the NF | | | e.g. in shutting down scenarios | | | where the NF is still able to | | | process requests for existing | | | resources or sessions but cannot | | | accept new resource creation or | | | session establishment. | +----------------------------------+----------------------------------+ | \"CANARY_RELEASE\" | The NF instance is registered in | | | NRF, is operative and can be | | | discovered and selected by other | | | NFs under certain conditions | | | (see SelectionConditions, in | | | clause 6.1.6.2.123). | | | | | | This status may be set by the NF | | | e.g. in upgrade scenarios or | | | during canary testing scenarios | | | where the NF is able to process | | | requests for new resource | | | creation or session | | | establishment under certain | | | conditions (e.g. for a | | | restricted set of users). | | | | | | (NOTE 2) | +----------------------------------+----------------------------------+ | NOTE 1: An NF instance cannot be | | | discovered by other NFs if the | | | NF status is set to | | | \"SUSPENDED\" or | | | \"UNDISCOVERABLE\". | | | | | | NOTE 2: A discovered NF instance | | | with NFStatus | | | \"CANARY_RELEASE\" shall only | | | be selected by an NF Service | | | Consumer if the conditions | | | included in the | | | \"selectionConditions\" | | | attribute of the NFProfile are | | | evaluated to \; if such | | | attribute is not included, the | | | NF instance shall not be | | | selected. | | +----------------------------------+----------------------------------+
##### 6.1.6.3.8 Enumeration: DataSetId
The enumeration DataSetId represents the different types of data sets
supported by an UDR instance.
Table 6.1.6.3.8-1: Enumeration DataSetId
* * *
Enumeration value Description
* * *
\"SUBSCRIPTION\" Data set: Subscription data
\"POLICY\" Data set: Policy data (including all defined subsets)
\"EXPOSURE\" Data set: Structured data for exposure
\"APPLICATION\" Data set: Application data (including all defined subsets)
\"A_PFD\" ApplicationData subset: Packet Flow Descriptions
\"A_AFTI\" ApplicationData subset: AF Traffic Influence Data
\"A_IPTV\" ApplicationData subset: IPTV Config Data
\"A_BDT\" ApplicationData subset: Background Data Transfer
\"A_SPD\" ApplicationData subset: Service Parameter Data
\"A_EASD\" ApplicationData subset: EAS Deployment Information
\"A_AMI\" ApplicationData subset: AM Influence Data
\"P_UE\" PolicyData subset: UE Specific Data
\"P_SCD\" PolicyData subset: Sponsored Connectivity Data
\"P_BDT\" PolicyData subset: Background Data Transfer
\"P_PLMNUE\" PolicyData subset: PLMN specific UE policy data
\"P_NSSCD\" PolicyData subset: Network Slice Specific Control Data
\"P_PDTQ\" PolicyData subset: Planned Data Transfer with QoS requirements Data
NOTE: Enumeration values identifying an ApplicationData subset or PolicyData
subset should not be used in NF discovery requests unless UDR and NRF have
been upgraded to support these values.\  
If the UDR registers all defined ApplicationData subset values and/or all
defined PolicyData subset values, it shall also register the ApplicationData
data set value and/or PolicyData data set value.\  
The UDR that registers the Application Data set value and/or the Policy Data
set value shall also register all defined ApplicationData subset values and/or
PolicyData subset values.
* * *
##### 6.1.6.3.9 Enumeration: UPInterfaceType
Table 6.1.6.3.9-1: Enumeration UPInterfaceType
Enumeration value Description
* * *
\"N3\" User Plane Interface: N3 \"N6\" User Plane Interface: N6 \"N9\" User
Plane Interface: N9 \"DATA_FORWARDING\" User Plane Interface for indirect data
forwarding. (NOTE 1) \"N6MB\" User Plane Interface: N6mb \"N19MB\" User Plane
Interface: N19mb \"N3MB\" User Plane Interface: N3mb \"NMB9\" User Plane
Interface: Nmb9 NOTE 1: This interface type may be used when a dedicated
network instance is deployed for data forwarding.
##### 6.1.6.3.10 Relation Types
##### 6.1.6.3.10.1 General {#general-16 .H6}
This clause describes the possible relation types defined within NRF API. See
clause 4.7.5.2 of 3GPP TS 29.501 [5] for the description of the relation
types.
Table 6.1.6.3.10.1-1: supported registered relation types
* * *
Relation Name self item
* * *
##### 6.1.6.3.11 Enumeration: ServiceName
Table 6.1.6.3.11-1: Enumeration ServiceName
Enumeration value Description
* * *
\"nnrf-nfm\" Nnrf_NFManagement Service offered by the NRF \"nnrf-disc\"
Nnrf_NFDiscovery Service offered by the NRF \"nnrf-oauth2\" Nnrf_AccessToken
Service offered by the NRF \"nudm-sdm\" Nudm_SubscriberDataManagement Service
offered by the UDM \"nudm-uecm\" Nudm_UEContextManagement Service offered by
the UDM \"nudm-ueau\" Nudm_UEAuthentication Service offered by the UDM \"nudm-
ee\" Nudm_EventExposure Service offered by the UDM \"nudm-pp\"
Nudm_ParameterProvision Service offered by the UDM \"nudm-niddau\"
Nudm_NIDDAuthorization Service offered by the UDM \"nudm-mt\" Nudm_MT Service
offered by the UDM \"nudm-ssau\" Nudm_ServiceSpecificAuthorization Service
offered by the UDM \"nudm-rsds\" Nudm_ReportSMDeliveryStatus Service offered
by the UDM \"nudm-ueid\" Nudm_UEIdentifier Service offered by the UDM \"namf-
comm\" Namf_Communication Service offered by the AMF \"namf-evts\"
Namf_EventExposure Service offered by the AMF \"namf-mt\" Namf_MT Service
offered by the AMF \"namf-loc\" Namf_Location Service offered by the AMF
\"namf-mbs-comm\" Namf_MBSCommunication Service offered by AMF \"namf-mbs-bc\"
Namf_MBSBroadcast Service offered by AMF \"nsmf-pdusession\" Nsmf_PDUSession
Service offered by the SMF \"nsmf-event-exposure\" Nsmf_EventExposure Service
offered by the SMF \"nsmf-nidd\" Nsmf_NIDD Service offered by the SMF \"nausf-
auth\" Nausf_UEAuthentication Service offered by the AUSF \"nausf-
sorprotection\" Nausf_SoRProtection Service offered by the AUSF \"nausf-
upuprotection\" Nausf_UPUProtection Service offered by the AUSF \"nnef-
pfdmanagement\" Nnef_PFDManagement offered by the NEF \"nnef-smcontext\"
Nnef_SMContext Service offered by the NEF \"nnef-eventexposure\"
Nnef_EventExposure Service offered by the NEF \"nnef-eas-deployment-info\"
Nnef_EASDeployment InfoService offered by the NEF. This is the southbound part
of the API (e.g. the service operations used by the SMF) \"3gpp-cp-parameter-
provisioning\" Nnef_ParameterProvision Service offered by the NEF \"3gpp-
device-triggering\" Nnef_Trigger Service offered by the NEF \"3gpp-bdt\"
Nnef_BDTPNegotiation Service offered by the NEF \"3gpp-traffic-influence\"
Nnef_TrafficInfluence Service offered by the NEF \"3gpp-chargeable-party\"
Nnef_ChargeableParty Service offered by the NEF \"3gpp-as-session-with-qos\"
Nnef_AFsessionWithQoS Service offered by the NEF \"3gpp-msisdn-less-mo-sms\"
Nnef_MSISDN-less_MO_SMS Service offered by the NEF \"3gpp-service-parameter\"
Nnef_ServiceParameter Service offered by the NEF \"3gpp-monitoring-event\"
Nnef_APISupportCapability Service offered by the NEF \"3gpp-nidd-
configuration-trigger\" Nnef_NIDDConfiguration Service offered by the NEF
\"3gpp-nidd\" Nnef_NIDD Service offered by the NEF \"3gpp-analyticsexposure\"
Nnef_AnalyticsExposure Service offered by the NEF \"3gpp-racs-parameter-
provisioning\" Nnef_UCMFProvisioning Service offered by the NEF \"3gpp-ecr-
control\" Nnef_ECRestriction Service offered by the NEF \"3gpp-applying-bdt-
policy\" Nnef_ApplyPolicy Service offered by the NEF \"3gpp-mo-lcs-notify\"
Nnef_Location Service offered by the NEF \"3gpp-time-sync\"
Nnef_TimeSynchronization Service offered by the NEF \"3gpp-am-influence\"
Nnef_AMInfluence Service offered by the NEF \"3gpp-am-policyauthorization\"
Nnef_AMPolicyAuthorization \"3gpp-akma\" Nnef_AKMA Service offered by the NEF
\"3gpp-eas-deployment\" Nnef_EASDeployment Service offered by the NEF. This is
the northbound part (e.g. the service operations used by the AF). \"3gpp-
iptvconfiguration\" Nnef_IPTV_configuration Service offered by the NEF \"3gpp-
mbs-tmgi\" Nnef_MBSTMGI Service offered by the NEF \"3gpp-mbs-session\"
Nnef_MBSSession Service offered by the NEF \"3gpp-authentication\"
Nnef_Authentication Service offered by the NEF \"3gpp-asti\" Nnef_ASTI Service
offered by the NEF \"3gpp-pdtq-policy-negotiation\" Nnef_PDTQPolicyNegotiation
offered by the NEF \"3gpp-musa\" Nnef_MemberUESelectionAssistance offered by
the NEF \"npcf-am-policy-control\" Npcf_AMPolicyControl Service offered by the
PCF \"npcf-smpolicycontrol\" Npcf_SMPolicyControl Service offered by the PCF
\"npcf-policyauthorization\" Npcf_PolicyAuthorization Service offered by the
PCF \"npcf-bdtpolicycontrol\" Npcf_BDTPolicyControl Service offered by the PCF
\"npcf-eventexposure\" Npcf_EventExposure Service offered by the PCF \"npcf-
ue-policy-control\" Npcf_UEPolicyControl Service offered by the PCF \"npcf-am-
policyauthorization\" Npcf_AM_PolicyAuthorization Service offered by the PCF
\"npcf-pdtq-policy-control\" Npcf_PDTQPolicyControl Service offered by the PCF
\"nsmsf-sms\" Nsmsf_SMService Service offered by the SMSF \"nnssf-
nsselection\" Nnssf_NSSelection Service offered by the NSSF \"nnssf-
nssaiavailability\" Nnssf_NSSAIAvailability Service offered by the NSSF
\"nudr-dr\" Nudr_DataRepository Service offered by the UDR \"nudr-group-id-
map\" Nudr_GroupIDmap Service offered by the UDR \"nlmf-loc\" Nlmf_Location
Service offered by the LMF \"n5g-eir-eic\" N5g-eir_EquipmentIdentityCheck
Service offered by the 5G-EIR \"nbsf-management\" Nbsf_Management Service
offered by the BSF \"nchf-spendinglimitcontrol\" Nchf_SpendingLimitControl
Service offered by the CHF \"nchf-convergedcharging\" Nchf_Converged_Charging
Service offered by the CHF \"nchf-offlineonlycharging\"
Nchf_OfflineOnlyCharging Service offered by the CHF \"nnwdaf-
eventssubscription\" Nnwdaf_EventsSubscription Service offered by the NWDAF
\"nnwdaf-analyticsinfo\" Nnwdaf_AnalyticsInfo Service offered by the NWDAF
\"nnwdaf-datamanagement\" Nnwdaf_DataManagement Service offered by the NWDAF
\"nnwdaf-mlmodelprovision\" Nnwdaf_MLModelProvision Service offered by the
NWDAF \"ngmlc-loc\" Ngmlc_Location Service offered by GMLC \"nucmf-
provisioning\" Nucmf_Provisioning Service offered by UCMF \"nucmf-
uecapabilitymanagement\" Nucmf_UECapabilityManagement Service offered by UCMF
\"nhss-sdm\" Nhss_SubscriberDataManagement Service offered by the HSS \"nhss-
uecm\" Nhss_UEContextManagement Service offered by the HSS \"nhss-ueau\"
Nhss_UEAuthentication Service offered by the HSS \"nhss-ee\"
Nhss_EventExposure Service offered by the HSS \"nhss-ims-sdm\"
Nhss_imsSubscriberDataManagement Service offered by the HSS \"nhss-ims-uecm\"
Nhss_imsUEContextManagement Service offered by the HSS \"nhss-ims-ueau\"
Nhss_imsUEAuthentication Service offered by the HSS \"nhss-gba-sdm\"
Nhss_gbaSubscriberDataManagement Service offered by the HSS \"nhss-gba-ueau\"
Nhss_gbaUEAuthentication Service offered by the HSS \"nsepp-telescopic\"
Nsepp_Telescopic_FQDN_Mapping Service offered by the SEPP \"nsoraf-sor\"
Nsoraf_SteeringOfRoaming Service offered by the SOR-AF \"nspaf-secured-
packed\" Nspaf_SecuredPacket Service offered by the SP-AF \"nudsf-dr\" Nudsf
Data Repository service offered by the UDSF. \"nudsf-timer\" Nudsf Timer
service offered by the UDSF \"nnssaaf-nssaa\" Nnssaaf_NSSAA service offered by
the NSSAAF. \"nnssaaf-aiw\" Nnssaaf_AIW service offered by the NSSAAF.
\"naanf-akma\" Naanf_AKMA service offered by the AAnF. \"n5gddnmf-discovery\"
N5g-ddnmf_Discovery service offered by 5G DDNMF \"nmfaf-3dadm\" Nmfaf
3daDataManagement service offered by the MFAF. \"nmfaf-3cadm\" Nmfaf
3caDataManagement service offered by the MFAF. \"neasdf-dnscontext\"
Neasdf_DNSContext service offered by the EASDF \"neasdf-baselinednspattern\"
Neasdf_BaselineDNSPattern service offered by the EASDF \"ndccf-dm\"
Ndccf_DataManagement service offered by the DCCF. \"ndccf-cm\"
Ndccf_ContextManagement service offered by the DCCF. \"nnsacf-nsac\"
Nnsacf_NSAC service offered by the NSACF. \"nnsacf-slice-ee\"
Nnsacf_SliceEventExposure service offered by the NSACF. \"nmbsmf-tmgi\" Nmbsmf
TMGI service offered by the MB-SMF \"nmbsmf-mbssession\" Nmbsmf MBSSession
service offered by the MB-SMF \"nadrf-dm\" Nadrf_DataManagement service
offered by the ADRF. \"nbsp-gba\" Nbsp_GBA service offered by the GBA BSF.
\"ntsctsf-time-sync\" Ntsctsf_TimeSynchronization service offered by the
TSCTSF \"ntsctsf-qos-tscai\" Ntsctsf_QoSandTSCAssistance service offered by
the TSCTSF \"ntsctsf-asti\" Ntsctsf_ASTI service offered by the TSCTSF
\"npkmf-keyrequest\" Npkmf_PKMFKeyRequest service offered by the PKMF \"npkmf-
userid\" Npkmf_ResolveRemoteUserId service offered by the PKMF \"nmnpf-
npstatus\" Nmnpf_NPStatus service offered by the MNPF \"niwmsc-smservice\"
Niwmsc_SMService service offered by the SMS-IWMSC \"nmbsf-mbsuserserv\"
Nmbsf_MBSUserService service offered by the MBSF \"nmbsf-mbsuserdataing\"
Nmbsf_MBSUserDataIngestSession service offered by the MBSF \"nmbstf-
distsession\" Nmbstf_MBSDistributionSession service offered by the MBSTF
\"npanf-prosekey\" Npanf_ProseKey service offered by the PAnF \"npanf-userid\"
Npanf_ResolveRemoteUserId service offered by the PAnF \"nupf-ee\"
Nupf_EventExposure service offered by the UPF \"nupf-gueip\"
Nupf_GetPrivateUEIPaddr Service offered by the UPF NOTE: The services defined
in this table are those defined by 3GPP NFs in 5GC; however, in order to
support custom services offered by standard and custom NFs, the NRF shall also
accept the registration of NF Services with other service names.
##### 6.1.6.3.12 Enumeration: NFServiceStatus
Table 6.1.6.3.12-1: Enumeration NFServiceStatus
+----------------------------------+----------------------------------+ | Enumeration value | Description | +==================================+==================================+ | \"REGISTERED\" | The NF Service Instance is | | | registered in NRF and can be | | | discovered by other NFs. | | | | | | (NOTE 2) | +----------------------------------+----------------------------------+ | \"SUSPENDED\" | The NF Service Instance is | | | registered in NRF but it is not | | | operative and cannot be | | | discovered by other NFs. | | | | | | This status may result from a NF | | | Service failure and may trigger | | | restoration procedures (see | | | clause 6.2 of | | | 3GPP TS 23.527 [27]). | +----------------------------------+----------------------------------+ | \"UNDISCOVERABLE\" | The NF Service instance is | | | registered in NRF, is operative | | | but cannot be discovered by | | | other NFs. | | | | | | This status may be set by the NF | | | e.g. in shutting down scenarios | | | where the NF service is still | | | able to process requests for | | | existing resources or sessions | | | but cannot accept new resource | | | creation or session | | | establishment. | +----------------------------------+----------------------------------+ | \"CANARY_RELEASE\" | The NF Service Instance is | | | registered in NRF, is operative | | | and can be discovered and | | | selected by other NFs under | | | certain conditions (see | | | SelectionConditions, in | | | clause 6.1.6.2.123). | | | | | | This status may be set by the NF | | | e.g. in upgrade scenarios or | | | during canary testing scenarios | | | where the NF is able to process | | | requests for new resource | | | creation or session | | | establishment under certain | | | conditions (e.g. for a | | | restricted set of users). | | | | | | (NOTE 3) | +----------------------------------+----------------------------------+ | NOTE 1: An NF service cannot be | | | discovered by other NFs if the | | | NF status is set to | | | \"SUSPENDED\" or | | | \"UNDISCOVERABLE\", regardless | | | of the NF service status. | | | | | | NOTE 2: A discovered NF service | | | instance with NFServiceStatus | | | set to \"REGISTERED\", and with | | | NFStatus of the NF Instance set | | | to \"CANARY_RELEASE\", shall | | | only be selected by an NF | | | Service Consumer if the | | | conditions included in the | | | \"selectionConditions\" | | | attribute of the NFProfile are | | | evaluated to \; if such | | | attribute is not included in | | | NFProfile, the NF service | | | instance shall not be selected. | | | | | | NOTE 3: A discovered NF service | | | instance with NFServiceStatus | | | \"CANARY_RELEASE\" shall only | | | be selected by an NF Service | | | Consumer if the conditions | | | included in the | | | \"selectionConditions\" | | | attribute of the NFService are | | | evaluated to \; if such | | | attribute is not included in | | | NFService, the NF service | | | instance shall not be selected. | | +----------------------------------+----------------------------------+
##### 6.1.6.3.13 Enumeration: AnNodeType
Table 6.1.6.3.13-1: Enumeration AnNodeType
Enumeration value Description
* * *
\"GNB\" gNB \"NG_ENB\" NG-eNB
##### 6.1.6.3.14 Enumeration: ConditionEventType
Table 6.1.6.3.14-1: Enumeration ConditionEventType
Enumeration value Description
* * *
\"NF_ADDED\" The NF Instance notified by NRF starts being part of a condition
for a subscription on a set of NFs. \"NF_REMOVED\" The NF Instance notified by
NRF stops being part of a condition for a subscription on a set of NFs.
##### 6.1.6.3.15 Enumeration: IpReachability
Table 6.1.6.3.15-1: Enumeration IpReachability
Enumeration value Description
* * *
\"IPV4\" Only IPv4 addresses are reachable. \"IPV6\" Only IPv6 addresses are
reachable. \"IPV4V6\" Both IPv4 addresses and IPv6 addresses are reachable.
##### 6.1.6.3.16 Enumeration: ScpCapability
Table 6.1.6.3.16-1: Enumeration ScpCapability
Enumeration value Description
* * *
\"INDIRECT_COM_WITH_DELEG_DISC\" Indirect communication with delegated
discovery supported
##### 6.1.6.3.17 Enumeration: CollocatedNfType
Table 6.1.6.3.17-1: Enumeration CollocatedNfType
Enumeration value Description
* * *
\"UPF\" Network function: UPF \"SMF\" Network function: SMF \"MB_UPF\" Network
function: MB-UPF \"MB_SMF\" Network function: MB-SMF
##### 6.1.6.3.18 Enumeration: LocalityType
Table 6.1.6.3.18-1: Enumeration LocalityType
+-------------------------------------------------------+-------------+ | Enumeration value | Description | +=======================================================+=============+ | \"DATA_CENTER\" | Data center | +-------------------------------------------------------+-------------+ | \"CITY\" | City | +-------------------------------------------------------+-------------+ | \"COUNTY\" | County | +-------------------------------------------------------+-------------+ | \"DISTRICT\" | District | +-------------------------------------------------------+-------------+ | \"STATE\" | State | +-------------------------------------------------------+-------------+ | \"CANTON\" | Canton | +-------------------------------------------------------+-------------+ | \"REGION\" | Region | +-------------------------------------------------------+-------------+ | \"PROVINCE\" | Province | +-------------------------------------------------------+-------------+ | \"PREFECTURE\" | Prefecture | +-------------------------------------------------------+-------------+ | \"COUNTRY\" | Country | +-------------------------------------------------------+-------------+ | NOTE 1: An operator may define custom locality types | | | other than those defined in this table. The NRF and | | | NFs shall accept locality types defined with custom | | | locality type values. | | | | | | NOTE 2: The NRF needs not understand the semantic of | | | the LocalityType enumeration values. The LocalityType | | | information is used by the NRF to correlate a | | | locality description received in the | | | ext-preferred-locality query parameter with a | | | locality description registered in the extLocality | | | attribute of NFProfile with a matching LocalityType. | | +-------------------------------------------------------+-------------+
##### 6.1.6.3.19 Enumeration: FlCapabilityType
Table 6.1.6.3.19-1: Enumeration FlCapabilityType
Enumeration value Description
* * *
\"FL_SERVER\" NWDAF containing MTLF as Federated Learning server.
\"FL_CLIENT\" NWDAF containing MTLF as Federated Learning client.
\"FL_SERVER_AND_CLIENT\" NWDAF containing MTLF as Federated Learning server
and client.
##### 6.1.6.3.20 Enumeration: MediaCapability
The enumeration MediaCapability represents the type of the media capability
which can be offered by NF instance (e.g., MRF, MRFP, MF). It shall comply
with the provisions defined in table 6.1.6.3.20-1.
Table 6.1.6.3.20-1: MediaCapability
Enumeration value Description
* * *
\"VIDEO_TRANSCODING\" Video transcoding capability. \"DATA_CHANNEL_SERVICES\"
Data channel services capability. \"VOICE_CONFERENCING\" Voice conferencing
capability. \"IN_CALL_ANNOUNCEMENTS\" In-call announcements capability.
##### 6.1.6.3.21 Enumeration: RuleSetAction
Table 6.1.6.3.21-1: Enumeration RuleSetAction
Enumeration value Description
* * *
\"ALLOW\" The NF consumer is allowed to access NF producer \"DENY\" The NF
consumer is not allowed to access NF Producer
### 6.1.7 Error Handling
#### 6.1.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS
29.500 [4].
#### 6.1.7.2 Protocol Errors
Protocol errors handling shall be supported as specified in clause 5.2.7 of
3GPP TS 29.500 [4].
#### 6.1.7.3 Application Errors
The application errors defined for the Nnrf_NFManagement service are listed in
Table 6.1.7.3-1.
Table 6.1.7.3-1: Application errors
Application Error HTTP status code Description
* * *
SUBSCRIPTION_NOT_ALLOWED 403 Forbidden It is used when the validation of the
authorization parameters in the subscription request has falied. NF_NOT_FOUND
404 Not Found It is used when no NFProfile corresponding to the NF Instance Id
in NfInstanceIdCond exists in the NRF.
### 6.1.8 Security
As indicated in clause 13.3 of 3GPP TS 33.501 [15], when static authorization
is not used, the access to the Nnrf_NFManagement API may be authorized by
means of the OAuth2 protocol (see IETF RFC 6749 [16]), using the \"Client
Credentials\" authorization grant, where the NRF plays the role of the
authorization server.
If Oauth2 authorization is used on the Nnrf_NFManagement API, an NF Service
Consumer, prior to consuming services offered by the Nnrf_NFManagement API,
shall obtain a \"token\" from the authorization server, by invoking the Access
Token Request service, as described in clause 5.4.2.2.
NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF where the Nnrf_NFManagement service is
invoked by the NF Service Producer.
The Nnrf_NFManagement API defines the following scopes for OAuth2
authorization:
Table 6.1.8-1: Oauth2 scopes defined in Nnrf_NFManagement API
Scope Description
* * *
\"nnrf-nfm\" Access to the Nnrf_NFManagement API \"nnrf-nfm:nf-
instances:read\" Access to read the nf-instances resource, or an individual NF
Instance ID resource \"nnrf-nfm:subscriptions:subs-complete-profile\" Access
to subscribe to the complete profile of NF instances \"nnrf-nfm:nf-
instance:write\" Access to write (create, update, delete) an individual NF
Instance ID resource
### 6.1.9 Features supported by the NFManagement service
The syntax of the supportedFeatures attribute is defined in clause 5.2.2 of
3GPP TS 29.571 [7].
The following features are defined for the Nnrf_NFManagement service.
Table 6.1.9-1: Features of supportedFeatures attribute used by
Nnrf_NFManagement service
+-------------------+-------------------+-----+-------------------+ | Feature Number | Feature | M/O | Description | +-------------------+-------------------+-----+-------------------+ | 1 | Service-Map | M | Support of | | | | | defining in the | | | | | profile of the NF | | | | | Instance the list | | | | | of NF Service | | | | | Instances based | | | | | on a map type | | | | | (i.e. support of | | | | | the | | | | | \"nfServiceList\" | | | | | attribute in | | | | | NFProfile). | +-------------------+-------------------+-----+-------------------+ | 2 | Empty | O | Support of | | | -Objects-Nrf-Info | | receiving empty | | | | | JSON objects as | | | | | values in the | | | | | servedxxxInfo/ | | | | | servedxxxInfoList | | | | | map attributes of | | | | | the NrfInfo data | | | | | structure used by | | | | | an NRF during | | | | | registration into | | | | | another NRF (see | | | | | cl | | | | | ause 6.1.6.2.31). | | | | | | | | | | An NRF that | | | | | supports | | | | | registering into | | | | | another NRF shall | | | | | support this | | | | | feature. | +-------------------+-------------------+-----+-------------------+ | 3 | Inter-Plmn-Fqdn | M | Support of | | | | | receiving | | | | | intra-PLMN | | | | | notification of | | | | | changes in the | | | | | NF | | | | | Profile/NFService | | | | | containing the | | | | | \"interPlmnFqdn\" | | | | | attribute (see | | | | | clauses 6.1.6.2.2 | | | | | and 6.1.6.2.3). | | | | | | | | | | The NRF shall not | | | | | send intra-PLMN | | | | | notifications | | | | | containing the | | | | | \"interPlmnFqdn\" | | | | | attribute to | | | | | subscribing NF | | | | | Instances that | | | | | don\'t support | | | | | this feature. | +-------------------+-------------------+-----+-------------------+ | 4 | Complete-Pro | O | Support | | | file-Subscription | | subscriptions to | | | | | the complete NF | | | | | Profile of NF | | | | | Instances | | | | | (including, e.g. | | | | | the authorization | | | | | attributes) and | | | | | their | | | | | notifications. | +-------------------+-------------------+-----+-------------------+ | 5 | Allowed-ruleset | O | Support | | | | | registering | | | | | RuleSets in NF | | | | | (Service) profile | +-------------------+-------------------+-----+-------------------+ | 6 | Canary-Release | O | Support of | | | | | \" | | | | | CANARY_RELEASE\" | | | | | value for | | | | | NFStatus and | | | | | NFServiceStatus, | | | | | used for e.g. | | | | | canary testing | +-------------------+-------------------+-----+-------------------+ | Feature number: | | | | | The order number | | | | | of the feature | | | | | within the | | | | | s _| | | | |_ upportedFeatures | | | | | attribute | | | | | (starting with | | | | | 1).**| | | | | | | | | |** Feature: A | | | | | short name that | | | | | can be used to | | | | | refer to the bit | | | | | and to the | | | | | feature.**| | | | | | | | | |** M/O: Defines if | | | | | the | | | | | implementation of | | | | | the feature is | | | | | mandatory (\"M\") | | | | | or optional | | | | | (\"O\").** | | | | | | | | | | Description: A | | | | | clear textual | | | | | description of | | | | | the feature. | | | | +-------------------+-------------------+-----+-------------------+
## 6.2 Nnrf_NFDiscovery Service API
### 6.2.1 API URI
The API URI of the Nnrf_NFDiscovery API shall be:
**{apiRoot}/\ /\**
The request URIs used in HTTP requests from the NF service consumer towards
the NF service producer shall have the Resource URI structure defined in
clause 4.4.1 of 3GPP TS 29.501 [5], i.e.:
**{apiRoot}/\ /\/\**
where:
\- the {apiRoot} shall be set as defined in clause 4.4.1 of 3GPP TS 29.501
[5];
\- the \ shall be set to \"nnrf-disc\";
\- the \ shall be set to \"v1\" for the current version of this
specification;
\- the \ shall be set as described in clause
6.2.3.
### 6.2.2 Usage of HTTP
#### 6.2.2.1 General
HTTP/2, as defined in IETF RFC 7540 [9], shall be used as specified in clause
5 of 3GPP TS 29.500 [4].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].
HTTP messages and bodies for the Nnrf_NFDiscovery service shall comply with
the OpenAPI [10] specification contained in Annex A.
#### 6.2.2.2 HTTP standard headers
##### 6.2.2.2.1 General
The mandatory standard HTTP headers as specified in clause 5.2.2.2 of 3GPP TS
29.500 [4] shall be supported.
##### 6.2.2.2.2 Content type
The following content types shall be supported:
\- The JSON format (IETF RFC 8259 [22]). The use of the JSON format shall be
signalled by the content type \"application/json\". See also clause 5.4 of
3GPP TS 29.500 [4].
\- The Problem Details JSON Object (IETF RFC 7807 [11]). The use of the
Problem Details JSON object in a HTTP response body shall be signalled by the
content type \"application/problem+json\".
##### 6.2.2.2.3 Cache-Control
A \"Cache-Control\" header should be included in HTTP responses, as described
in IETF RFC 7234 [20], clause 5.2. It shall contain a \"max-age\" value,
indicating the amount of time in seconds after which the received response is
considered stale; this value shall be the same as the content of the
\"validityPeriod\" element described in clause 6.2.6.2.2.
##### 6.2.2.2.4 ETag
An \"ETag\" (entity-tag) header should be included in HTTP responses, as
described in IETF RFC 7232 [19], clause 2.3. It shall contain a server-
generated strong validator, that allows further matching of this value
(included in subsequent client requests) with a given resource representation
stored in the server or in a cache.
##### 6.2.2.2.5 If-None-Match
An NF Service Consumer should issue conditional GET request towards NRF, by
including an If-None-Match header in HTTP requests, as described in IETF RFC
7232 [19], clause 3.2, containing one or several entity tags received in
previous responses for the same resource.
#### 6.2.2.3 HTTP custom headers
##### 6.2.2.3.1 General
In this release of this specification, no custom headers specific to the
Nnrf_NFDiscovery service are defined. For 3GPP specific HTTP custom headers
used across all service-based interfaces, see clause 5.2.3 of 3GPP TS 29.500
[4].
### 6.2.3 Resources
#### 6.2.3.1 Overview
The structure of the Resource URIs of the NFDiscovery service is shown in
figure 6.2.3.1-1.
Figure 6.2.3.1-1: Resource URI structure of the NFDiscovery API
Table 6.2.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 6.2.3.1-1: Resources and methods overview
+----------------+----------------+----------------+----------------+ | Resource name | Resource URI | HTTP method or | Description | | | | custom | | | | | operation | | +================+================+================+================+ | nf-instances | /nf-instances | GET | Retrieve a | | | | | collection of | | (Store) | | | NF Instances | | | | | according to | | | | | certain filter | | | | | criteria. | +----------------+----------------+----------------+----------------+ | Stored Search | /searc | GET | Retrieve a | | (Document) | hes/{searchId} | | collection of | | | | | NF Instances, | | | | | previously | | | | | stored by NRF | | | | | as a | | | | | consequence of | | | | | a prior search | | | | | result. | +----------------+----------------+----------------+----------------+ | Complete | / | GET | Retrieve a | | Stored Search | searches/{sear | | collection of | | (Document) | chId}/complete | | NF Instances, | | | | | previously | | | | | stored by NRF | | | | | as a | | | | | consequence of | | | | | a prior search | | | | | result, | | | | | without | | | | | applying any | | | | | client | | | | | restriction on | | | | | the number of | | | | | instances | | | | | (e.g. | | | | | \"limit\" or | | | | | \"max- | | | | | payload-size\" | | | | | query | | | | | parameters). | +----------------+----------------+----------------+----------------+ | SCP Domain | /scp-domai | GET | Retrieve the | | Routing | n-routing-info | | SCP Domain | | Information | | | Routing | | (Document) | | | Information. | +----------------+----------------+----------------+----------------+ | SCP Domain | / | POST | Subscribe to | | Routing Info | scp-domain-rou | | SCP Domain | | Subscriptions | ting-info-subs | | Routing | | | | | Information | | (Collection) | | | change. | +----------------+----------------+----------------+----------------+ | Individual SCP | /scp | DELETE | Unsubscribe to | | Domain Routing | -domain-routin | | SCP Domain | | Info | g-info-subs/{s | | Routing | | Subscription | ubscriptionID} | | Information | | | | | change. | | (Document) | | | | +----------------+----------------+----------------+----------------+
#### 6.2.3.2 Resource: nf-instances (Store)
##### 6.2.3.2.1 Description
This resource represents a collection of the different NF instances registered
in the NRF.
This resource is modelled as the Store resource archetype (see clause C.3 of
3GPP TS 29.501 [5]).
##### 6.2.3.2.2 Resource Definition
Resource URI: **{apiRoot}/nnrf-disc/v1/nf-instances**
This resource shall support the resource URI variables defined in table
6.2.3.2.2-1.
Table 6.2.3.2.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.1.1
##### 6.2.3.2.3 Resource Standard Methods
##### 6.2.3.2.3.1 GET {#get-3 .H6}
This operation retrieves a list of NF Instances, and their offered services,
currently registered in the NRF, satisfying a number of filter criteria, such
as those NF Instances offering a certain service name, or those NF Instances
of a given NF type (e.g., AMF).
Table 6.2.3.2.3.1-1: URI query parameters supported by the GET method on this
resource
+-----------+-----------+---+-----------+-----------+-----------+ | Name | Data type | P | Ca | De | Appl | | | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | targe | NFType | M | 1 | This IE | | | t-nf-type | | | | shall | | | | | | | contain | | | | | | | the NF | | | | | | | type of | | | | | | | the | | | | | | | target NF | | | | | | | being | | | | | | | di | | | | | | | scovered. | | +-----------+-----------+---+-----------+-----------+-----------+ | requeste | NFType | M | 1 | This IE | | | r-nf-type | | | | shall | | | | | | | contain | | | | | | | the NF | | | | | | | type of | | | | | | | the | | | | | | | Requester | | | | | | | NF that | | | | | | | is | | | | | | | invoking | | | | | | | the | | | | | | | Nnrf_NF | | | | | | | Discovery | | | | | | | service. | | +-----------+-----------+---+-----------+-----------+-----------+ | pr | array | O | 1..N | The IE | Collo | | eferred-c | (Collocat | | | may be | cated-NF- | | ollocated | edNfType) | | | present | Selection | | -nf-types | | | | to | | | | | | | indicate | | | | | | | desired | | | | | | | c | | | | | | | ollocated | | | | | | | NF | | | | | | | type(s) | | | | | | | when the | | | | | | | NF | | | | | | | service | | | | | | | consumer | | | | | | | wants to | | | | | | | discover | | | | | | | candidate | | | | | | | NFs | | | | | | | matching | | | | | | | the | | | | | | | target NF | | | | | | | Type that | | | | | | | are | | | | | | | prefe | | | | | | | rentially | | | | | | | c | | | | | | | ollocated | | | | | | | with | | | | | | | other NF | | | | | | | types. | | | | | | | (NOTE 19) | | +-----------+-----------+---+-----------+-----------+-----------+ | reques | NfI | O | 0..1 | If | Query-Pa | | ter-nf-in | nstanceId | | | included, | rams-Ext2 | | stance-id | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the NF | | | | | | | instance | | | | | | | id of the | | | | | | | Requester | | | | | | | NF. | | +-----------+-----------+---+-----------+-----------+-----------+ | serv | array(Ser | O | 1..N | If | | | ice-names | viceName) | | | included, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | an array | | | | | | | of | | | | | | | service | | | | | | | names for | | | | | | | which the | | | | | | | NRF is | | | | | | | queried | | | | | | | to | | | | | | | provide | | | | | | | the list | | | | | | | of NF | | | | | | | profiles. | | | | | | | | | | | | | | The NRF | | | | | | | shall | | | | | | | return | | | | | | | the NF | | | | | | | profiles | | | | | | | that have | | | | | | | at least | | | | | | | one NF | | | | | | | service | | | | | | | matching | | | | | | | the NF | | | | | | | service | | | | | | | names in | | | | | | | this | | | | | | | list. | | | | | | | | | | | | | | The NF | | | | | | | services | | | | | | | returned | | | | | | | by the | | | | | | | NRF | | | | | | | (inside | | | | | | | the | | | | | | | n | | | | | | | fServices | | | | | | | or | | | | | | | nfSe | | | | | | | rviceList | | | | | | | at | | | | | | | tributes) | | | | | | | in each | | | | | | | matching | | | | | | | NFProfile | | | | | | | shall be | | | | | | | those | | | | | | | services | | | | | | | whose | | | | | | | service | | | | | | | name | | | | | | | matches | | | | | | | one of | | | | | | | the | | | | | | | service | | | | | | | names | | | | | | | included | | | | | | | in this | | | | | | | list. | | | | | | | | | | | | | | If not | | | | | | | included, | | | | | | | the NRF | | | | | | | shall not | | | | | | | filter | | | | | | | based on | | | | | | | service | | | | | | | name. | | | | | | | | | | | | | | This | | | | | | | array | | | | | | | shall | | | | | | | contain | | | | | | | unique | | | | | | | items. | | | | | | | | | | | | | | Example: | | | | | | | | | | | | | | > NF1 | | | | | | | > | | | | | | | supports | | | | | | | > | | | | | | | services: | | | | | | | > A, B, C | | | | | | | > | | | | | | | > NF2 | | | | | | | > | | | | | | | supports | | | | | | | > | | | | | | | services: | | | | | | | > C, D, E | | | | | | | > | | | | | | | > NF3 | | | | | | | > | | | | | | | supports | | | | | | | > | | | | | | | services: | | | | | | | > A, C, E | | | | | | | > | | | | | | | > NF4 | | | | | | | > | | | | | | | supports | | | | | | | > | | | | | | | services: | | | | | | | > B, C, D | | | | | | | > | | | | | | | > | | | | | | | Consumer | | | | | | | > asks | | | | | | | > for | | | | | | | > serv | | | | | | | ice-names | | | | | | | > = [A, | | | | | | | > E] | | | | | | | > | | | | | | | > NRF | | | | | | | > | | | | | | | returns: | | | | | | | > | | | | | | | > NF1 | | | | | | | > c | | | | | | | ontaining | | | | | | | > service | | | | | | | > A | | | | | | | > | | | | | | | > NF2 | | | | | | | > c | | | | | | | ontaining | | | | | | | > service | | | | | | | > E | | | | | | | > | | | | | | | > NF3 | | | | | | | > c | | | | | | | ontaining | | | | | | | > | | | | | | | services | | | | | | | > A, E | | | | | | | > | | | | | | | > NF4 is | | | | | | | > not | | | | | | | > | | | | | | | returned | | +-----------+-----------+---+-----------+-----------+-----------+ | requeste | Fqdn | O | 0..1 | This IE | | | r-nf-inst | | | | may be | | | ance-fqdn | | | | present | | | | | | | for an NF | | | | | | | discovery | | | | | | | request | | | | | | | within | | | | | | | the same | | | | | | | PLMN as | | | | | | | the NRF. | | | | | | | | | | | | | | If | | | | | | | included, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the FQDN | | | | | | | of the | | | | | | | Requester | | | | | | | NF that | | | | | | | is | | | | | | | invoking | | | | | | | the | | | | | | | Nnrf_NF | | | | | | | Discovery | | | | | | | service. | | | | | | | | | | | | | | The NRF | | | | | | | shall use | | | | | | | this to | | | | | | | return | | | | | | | only | | | | | | | those NF | | | | | | | profiles | | | | | | | that | | | | | | | include | | | | | | | at least | | | | | | | one NF | | | | | | | service | | | | | | | c | | | | | | | ontaining | | | | | | | an entry | | | | | | | in the | | | | | | | \" | | | | | | | allowedNf | | | | | | | Domains\" | | | | | | | list (see | | | | | | | clause | | | | | | | 6 | | | | | | | .1.6.2.3) | | | | | | | that | | | | | | | matches | | | | | | | the | | | | | | | domain of | | | | | | | the | | | | | | | requester | | | | | | | NF. | | | | | | | | | | | | | | This IE | | | | | | | shall be | | | | | | | ignored | | | | | | | by the | | | | | | | NRF if it | | | | | | | is | | | | | | | received | | | | | | | from a | | | | | | | requester | | | | | | | NF | | | | | | | belonging | | | | | | | to a | | | | | | | different | | | | | | | PLMN. | | | | | | | | | | | | | | (NOTE 12) | | +-----------+-----------+---+-----------+-----------+-----------+ | target- | arra | C | 1..N | This IE | | | plmn-list | y(PlmnId) | | | shall be | | | | | | | included | | | | | | | when NF | | | | | | | services | | | | | | | in a | | | | | | | different | | | | | | | PLMN, or | | | | | | | NF | | | | | | | services | | | | | | | of | | | | | | | specific | | | | | | | PLMN | | | | | | | ID(s) in | | | | | | | a same | | | | | | | PLMN | | | | | | | c | | | | | | | omprising | | | | | | | multiple | | | | | | | PLMN IDs, | | | | | | | need to | | | | | | | be | | | | | | | di | | | | | | | scovered. | | | | | | | When | | | | | | | included, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the PLMN | | | | | | | ID of the | | | | | | | target | | | | | | | NF. If | | | | | | | more than | | | | | | | one PLMN | | | | | | | ID is | | | | | | | included, | | | | | | | NFs from | | | | | | | any PLMN | | | | | | | ID | | | | | | | present | | | | | | | in the | | | | | | | list | | | | | | | matches | | | | | | | the query | | | | | | | p | | | | | | | arameter. | | | | | | | | | | | | | | This IE | | | | | | | shall | | | | | | | also be | | | | | | | included | | | | | | | in SNPN | | | | | | | s | | | | | | | cenarios, | | | | | | | when the | | | | | | | entity | | | | | | | owning | | | | | | | the | | | | | | | subs | | | | | | | cription, | | | | | | | the | | | | | | | Cr | | | | | | | edentials | | | | | | | Holder | | | | | | | (see | | | | | | | clause | | | | | | | 5.30.2.9 | | | | | | | in | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 01 [2]) | | | | | | | is a | | | | | | | PLMN. | | | | | | | | | | | | | | For | | | | | | | i | | | | | | | nter-PLMN | | | | | | | service | | | | | | | d | | | | | | | iscovery, | | | | | | | at most 1 | | | | | | | PLMN ID | | | | | | | shall be | | | | | | | included | | | | | | | in the | | | | | | | list; it | | | | | | | shall be | | | | | | | included | | | | | | | in the | | | | | | | service | | | | | | | discovery | | | | | | | from the | | | | | | | NF in the | | | | | | | source | | | | | | | PLMN sent | | | | | | | to the | | | | | | | NRF in | | | | | | | the same | | | | | | | PLMN, | | | | | | | while it | | | | | | | may be | | | | | | | absent in | | | | | | | the | | | | | | | service | | | | | | | discovery | | | | | | | request | | | | | | | sent from | | | | | | | the | | | | | | | source | | | | | | | NRF to | | | | | | | the | | | | | | | target | | | | | | | NRF. In | | | | | | | such | | | | | | | case, if | | | | | | | the NRF | | | | | | | receives | | | | | | | more than | | | | | | | 1 PLMN | | | | | | | ID, it | | | | | | | shall | | | | | | | only | | | | | | | consider | | | | | | | the first | | | | | | | element | | | | | | | of the | | | | | | | array, | | | | | | | and | | | | | | | ignore | | | | | | | the rest. | | +-----------+-----------+---+-----------+-----------+-----------+ | r | arra | C | 1..N | This IE | | | equester- | y(PlmnId) | | | shall be | | | plmn-list | | | | included | | | | | | | when NF | | | | | | | services | | | | | | | in a | | | | | | | different | | | | | | | PLMN need | | | | | | | to be | | | | | | | di | | | | | | | scovered. | | | | | | | It may be | | | | | | | present | | | | | | | when NF | | | | | | | services | | | | | | | in the | | | | | | | same PLMN | | | | | | | need to | | | | | | | be | | | | | | | di | | | | | | | scovered. | | | | | | | When | | | | | | | included, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the PLMN | | | | | | | ID(s) of | | | | | | | the | | | | | | | requester | | | | | | | NF. (NOTE | | | | | | | 12) | | +-----------+-----------+---+-----------+-----------+-----------+ | r | array(P | C | 1..N | This IE | Query-Pa | | equester- | lmnIdNid) | | | shall be | rams-Ext2 | | snpn-list | | | | included | | | | | | | when the | | | | | | | Requester | | | | | | | NF | | | | | | | belongs | | | | | | | to one or | | | | | | | several | | | | | | | SNPNs, | | | | | | | and NF | | | | | | | services | | | | | | | of a | | | | | | | specific | | | | | | | SNPN or | | | | | | | PLMN need | | | | | | | to be | | | | | | | di | | | | | | | scovered. | | | | | | | The SNPN | | | | | | | scenarios | | | | | | | include | | | | | | | use cases | | | | | | | when | | | | | | | CH/DCS is | | | | | | | using | | | | | | | AAA-S or | | | | | | | when | | | | | | | CH/DCS is | | | | | | | using | | | | | | | AUSF/UDM, | | | | | | | see | | | | | | | c | | | | | | | lauses 5. | | | | | | | 30.2.9.2, | | | | | | | 5 | | | | | | | .30.2.9.3 | | | | | | | and | | | | | | | 5.30 | | | | | | | .2.10.2.2 | | | | | | | in 3GPP | | | | | | | TS 23.50 | | | | | | | 1 [2]). | | | | | | | It may be | | | | | | | present | | | | | | | when NF | | | | | | | services | | | | | | | from the | | | | | | | same SNPN | | | | | | | need to | | | | | | | be | | | | | | | di | | | | | | | scovered. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the SNPN | | | | | | | ID(s) of | | | | | | | the | | | | | | | requester | | | | | | | NF. | | | | | | | | | | | | | | The NRF | | | | | | | shall use | | | | | | | this to | | | | | | | return | | | | | | | only | | | | | | | those NF | | | | | | | profiles | | | | | | | of NF | | | | | | | Instances | | | | | | | allowing | | | | | | | to be | | | | | | | d | | | | | | | iscovered | | | | | | | from the | | | | | | | SNPNs | | | | | | | i | | | | | | | dentified | | | | | | | by this | | | | | | | IE, | | | | | | | according | | | | | | | to the | | | | | | | \"allow | | | | | | | edSnpns\" | | | | | | | list in | | | | | | | the NF | | | | | | | Profile | | | | | | | and NF | | | | | | | Service | | | | | | | (see | | | | | | | clauses | | | | | | | 6.1.6.2.2 | | | | | | | and | | | | | | | 6. | | | | | | | 1.6.2.3). | | +-----------+-----------+---+-----------+-----------+-----------+ | tar | NfI | O | 0..1 | Identity | | | get-nf-in | nstanceId | | | of the NF | | | stance-id | | | | instance | | | | | | | being | | | | | | | di | | | | | | | scovered. | | +-----------+-----------+---+-----------+-----------+-----------+ | target-n | a | O | 2..N | I | Enh | | f-instanc | rray(NfIn | | | dentities | -NF-Disco | | e-id-list | stanceId) | | | of the NF | very-Ext1 | | | | | | instances | | | | | | | being | | | | | | | di | | | | | | | scovered. | | | | | | | (NOTE 26) | | | | | | | | | | | | | | If | | | | | | | included, | | | | | | | the NRF | | | | | | | shall | | | | | | | return | | | | | | | the NF | | | | | | | profile | | | | | | | of each | | | | | | | NF | | | | | | | instance | | | | | | | indicated | | | | | | | in this | | | | | | | query | | | | | | | parameter | | | | | | | that is | | | | | | | available | | | | | | | at the | | | | | | | NRF. | | +-----------+-----------+---+-----------+-----------+-----------+ | targe | Fqdn | O | 0..1 | FQDN of | | | t-nf-fqdn | | | | the | | | | | | | target NF | | | | | | | instance | | | | | | | being | | | | | | | di | | | | | | | scovered. | | +-----------+-----------+---+-----------+-----------+-----------+ | hnrf-uri | Uri | C | 0..1 | If | | | | | | | included, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the API | | | | | | | URI of | | | | | | | the | | | | | | | NF | | | | | | | Discovery | | | | | | | Service | | | | | | | (see | | | | | | | clause | | | | | | | 6.2.1) of | | | | | | | the home | | | | | | | NRF. It | | | | | | | shall be | | | | | | | included | | | | | | | if the | | | | | | | Requester | | | | | | | NF has | | | | | | | p | | | | | | | reviously | | | | | | | received | | | | | | | such API | | | | | | | URI to be | | | | | | | used for | | | | | | | service | | | | | | | discovery | | | | | | | (e.g., | | | | | | | from the | | | | | | | NSSF in | | | | | | | the home | | | | | | | PLMN as | | | | | | | specified | | | | | | | in | | | | | | | clause 6 | | | | | | | .1.6.2.11 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 29.531 | | | | | | | [42]). | | +-----------+-----------+---+-----------+-----------+-----------+ | snssais | arra | O | 1..N | If | | | | y(Snssai) | | | included, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the list | | | | | | | of | | | | | | | S-NSSAIs | | | | | | | that are | | | | | | | served by | | | | | | | the NF | | | | | | | (Service) | | | | | | | Instances | | | | | | | being | | | | | | | di | | | | | | | scovered. | | | | | | | The NRF | | | | | | | shall | | | | | | | return | | | | | | | those NF | | | | | | | pr | | | | | | | ofiles/NF | | | | | | | services | | | | | | | of NF | | | | | | | (Service) | | | | | | | Instances | | | | | | | that have | | | | | | | at least | | | | | | | one of | | | | | | | the | | | | | | | S-NSSAIs | | | | | | | in this | | | | | | | list. The | | | | | | | S-NSSAIs | | | | | | | included | | | | | | | in the NF | | | | | | | pr | | | | | | | ofiles/NF | | | | | | | services | | | | | | | of NF | | | | | | | (Service) | | | | | | | Instances | | | | | | | returned | | | | | | | by the | | | | | | | NRF shall | | | | | | | be an | | | | | | | in | | | | | | | terclause | | | | | | | of the | | | | | | | S-NSSAIs | | | | | | | requested | | | | | | | and the | | | | | | | S-NSSAIs | | | | | | | supported | | | | | | | by those | | | | | | | NF | | | | | | | (Service) | | | | | | | I | | | | | | | nstances. | | | | | | | (NOTE 10) | | | | | | | | | | | | | | When the | | | | | | | NF | | | | | | | Profile | | | | | | | of the NF | | | | | | | Instances | | | | | | | being | | | | | | | d | | | | | | | iscovered | | | | | | | has | | | | | | | defined | | | | | | | the list | | | | | | | of | | | | | | | supported | | | | | | | S-NSSAIs | | | | | | | in the | | | | | | | \"pe | | | | | | | rPlmnSnss | | | | | | | aiList\", | | | | | | | the | | | | | | | d | | | | | | | iscovered | | | | | | | NF | | | | | | | Instances | | | | | | | shall be | | | | | | | those | | | | | | | having | | | | | | | any of | | | | | | | the | | | | | | | S-NSSAIs | | | | | | | included | | | | | | | in this | | | | | | | \" | | | | | | | snssais\" | | | | | | | parameter | | | | | | | in any of | | | | | | | the PLMNs | | | | | | | included | | | | | | | in the | | | | | | | \" | | | | | | | target-pl | | | | | | | mn-list\" | | | | | | | a | | | | | | | ttribute, | | | | | | | if | | | | | | | present; | | | | | | | if the | | | | | | | \" | | | | | | | target-pl | | | | | | | mn-list\" | | | | | | | is not | | | | | | | included, | | | | | | | the NRF | | | | | | | shall | | | | | | | assume | | | | | | | that the | | | | | | | discovery | | | | | | | request | | | | | | | is for | | | | | | | any of | | | | | | | the PLMNs | | | | | | | it | | | | | | | supports. | | +-----------+-----------+---+-----------+-----------+-----------+ | requeste | array(E | O | 1..N | If | | | r-snssais | xtSnssai) | | | included, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the list | | | | | | | of | | | | | | | S-NSSAI | | | | | | | of the | | | | | | | requester | | | | | | | NF. If | | | | | | | this IE | | | | | | | is | | | | | | | included | | | | | | | in a | | | | | | | service | | | | | | | discovery | | | | | | | in a | | | | | | | different | | | | | | | PLMN, the | | | | | | | requester | | | | | | | NF shall | | | | | | | provide | | | | | | | S-NSSAI | | | | | | | values of | | | | | | | the | | | | | | | target | | | | | | | PLMN, | | | | | | | that | | | | | | | c | | | | | | | orrespond | | | | | | | to the | | | | | | | S-NSSAI | | | | | | | values of | | | | | | | the | | | | | | | requester | | | | | | | NF. | | | | | | | | | | | | | | The NRF | | | | | | | shall use | | | | | | | this to | | | | | | | return | | | | | | | only | | | | | | | those NF | | | | | | | profiles | | | | | | | of NF | | | | | | | Instances | | | | | | | allowing | | | | | | | to be | | | | | | | d | | | | | | | iscovered | | | | | | | from at | | | | | | | least one | | | | | | | network | | | | | | | slice | | | | | | | i | | | | | | | dentified | | | | | | | by this | | | | | | | IE, | | | | | | | according | | | | | | | to the | | | | | | | \"allowe | | | | | | | dNssais\" | | | | | | | list in | | | | | | | the NF | | | | | | | Profile | | | | | | | and NF | | | | | | | Service | | | | | | | (see | | | | | | | clause | | | | | | | 6.1.6.2.2 | | | | | | | and | | | | | | | 6. | | | | | | | 1.6.2.3). | | | | | | | (NOTE 12) | | +-----------+-----------+---+-----------+-----------+-----------+ | plmn-sp | array(Pl | O | 1..N | If | | | ecific-sn | mnSnssai) | | | included, | | | ssai-list | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the list | | | | | | | of | | | | | | | S-NSSAI | | | | | | | that are | | | | | | | served by | | | | | | | the NF | | | | | | | service | | | | | | | being | | | | | | | d | | | | | | | iscovered | | | | | | | for the | | | | | | | corr | | | | | | | esponding | | | | | | | PLMN | | | | | | | provided. | | | | | | | The NRF | | | | | | | shall use | | | | | | | this to | | | | | | | identify | | | | | | | the NF | | | | | | | services | | | | | | | that have | | | | | | | r | | | | | | | egistered | | | | | | | their | | | | | | | support | | | | | | | for the | | | | | | | S-NSSAIs | | | | | | | for the | | | | | | | corr | | | | | | | esponding | | | | | | | PLMN | | | | | | | given. | | | | | | | The NRF | | | | | | | shall | | | | | | | return | | | | | | | the NF | | | | | | | profiles | | | | | | | that have | | | | | | | at least | | | | | | | one | | | | | | | S-NSSAI | | | | | | | supported | | | | | | | in any of | | | | | | | the PLMNs | | | | | | | provided | | | | | | | in this | | | | | | | list. The | | | | | | | per PLMN | | | | | | | list of | | | | | | | S-NSSAIs | | | | | | | included | | | | | | | in the NF | | | | | | | profile | | | | | | | returned | | | | | | | by the | | | | | | | NRF shall | | | | | | | be an | | | | | | | in | | | | | | | terclause | | | | | | | of the | | | | | | | list | | | | | | | requested | | | | | | | and the | | | | | | | list | | | | | | | r | | | | | | | egistered | | | | | | | in the NF | | | | | | | profile. | | | | | | | ( | | | | | | | NOTE 10). | | +-----------+-----------+---+-----------+-----------+-----------+ | requeste | array(Pl | O | 1..N | If | Query-Pa | | r-plmn-sp | mnSnssai) | | | included, | rams-Ext3 | | ecific-sn | | | | this IE | | | ssai-list | | | | shall | | | | | | | contain | | | | | | | the list | | | | | | | of | | | | | | | S-NSSAI | | | | | | | of the | | | | | | | requester | | | | | | | NF, for | | | | | | | each of | | | | | | | the PLMNs | | | | | | | it | | | | | | | supports. | | | | | | | The NRF | | | | | | | shall use | | | | | | | this to | | | | | | | return | | | | | | | only | | | | | | | those NF | | | | | | | profiles | | | | | | | of NF | | | | | | | Instances | | | | | | | allowing | | | | | | | to be | | | | | | | d | | | | | | | iscovered | | | | | | | from at | | | | | | | least one | | | | | | | network | | | | | | | slice | | | | | | | i | | | | | | | dentified | | | | | | | by this | | | | | | | IE, | | | | | | | according | | | | | | | to the | | | | | | | \"allowe | | | | | | | dNssais\" | | | | | | | and | | | | | | | \"allow | | | | | | | edPlmns\" | | | | | | | a | | | | | | | ttributes | | | | | | | in the NF | | | | | | | Profile | | | | | | | and NF | | | | | | | Service | | | | | | | (see | | | | | | | clause | | | | | | | 6.1.6.2.2 | | | | | | | and | | | | | | | 6. | | | | | | | 1.6.2.3). | | | | | | | (NOTE 12) | | +-----------+-----------+---+-----------+-----------+-----------+ | nsi-list | arra | O | 1..N | If | | | | y(string) | | | included, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the list | | | | | | | of NSI | | | | | | | IDs that | | | | | | | are | | | | | | | served by | | | | | | | the | | | | | | | services | | | | | | | being | | | | | | | di | | | | | | | scovered. | | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | O | 0..1 | If | | | | | | | included, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the DNN | | | | | | | for which | | | | | | | NF | | | | | | | services | | | | | | | serving | | | | | | | that DNN | | | | | | | is | | | | | | | di | | | | | | | scovered. | | | | | | | DNN may | | | | | | | be | | | | | | | included | | | | | | | if the | | | | | | | target NF | | | | | | | type is | | | | | | | e.g. | | | | | | | \"BSF\", | | | | | | | \"SMF\", | | | | | | | \"PCF\", | | | | | | | \ | | | | | | | "PCSCF\", | | | | | | | \"UPF\", | | | | | | | \ | | | | | | | "EASDF\", | | | | | | | \" | | | | | | | TSCTSF\", | | | | | | | \ | | | | | | | "MB-UPF\" | | | | | | | or | | | | | | | \" | | | | | | | MB-SMF\". | | | | | | | | | | | | | | The DNN | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | and it | | | | | | | may | | | | | | | add | | | | | | | itionally | | | | | | | contain | | | | | | | an | | | | | | | Operator | | | | | | | Id | | | | | | | entifier. | | | | | | | (NOTE | | | | | | | 11). | | | | | | | | | | | | | | If the | | | | | | | Snssai(s) | | | | | | | are also | | | | | | | included, | | | | | | | the NF | | | | | | | services | | | | | | | serving | | | | | | | the DNN | | | | | | | shall be | | | | | | | available | | | | | | | in the | | | | | | | network | | | | | | | slice(s) | | | | | | | i | | | | | | | dentified | | | | | | | by the | | | | | | | S | | | | | | | nssai(s). | | +-----------+-----------+---+-----------+-----------+-----------+ | i | IpIndex | O | 0..1 | This IE | Query-Up | | pv4-index | | | | may be | f-IpIndex | | | | | | included | | | | | | | if the | | | | | | | target NF | | | | | | | type is | | | | | | | \"UPF\" | | | | | | | and the | | | | | | | dnn IE is | | | | | | | included. | | | | | | | | | | | | | | When | | | | | | | included, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the IPv4 | | | | | | | index | | | | | | | that is | | | | | | | supported | | | | | | | by the | | | | | | | candidate | | | | | | | UPF. | | +-----------+-----------+---+-----------+-----------+-----------+ | i | IpIndex | O | 0..1 | This IE | Query-Up | | pv6-index | | | | may be | f-IpIndex | | | | | | included | | | | | | | if the | | | | | | | target NF | | | | | | | type is | | | | | | | \"UPF\" | | | | | | | and the | | | | | | | dnn IE is | | | | | | | included. | | | | | | | | | | | | | | When | | | | | | | included, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the IPv6 | | | | | | | index | | | | | | | that is | | | | | | | supported | | | | | | | by the | | | | | | | candidate | | | | | | | UPF. | | +-----------+-----------+---+-----------+-----------+-----------+ | smf-ser | string | O | 0..1 | If | | | ving-area | | | | included, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | serving | | | | | | | area of | | | | | | | the SMF. | | | | | | | It may be | | | | | | | included | | | | | | | if the | | | | | | | target NF | | | | | | | type is | | | | | | | \"UPF\". | | +-----------+-----------+---+-----------+-----------+-----------+ | mbsmf-ser | string | O | 0..1 | If | Query-MBS | | ving-area | | | | included, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | serving | | | | | | | area of | | | | | | | the | | | | | | | MB-SMF. | | | | | | | It may be | | | | | | | included | | | | | | | if the | | | | | | | target NF | | | | | | | type is | | | | | | | \" | | | | | | | MB-UPF\". | | +-----------+-----------+---+-----------+-----------+-----------+ | tai | Tai | O | 0..1 | Tracking | | | | | | | Area | | | | | | | Identity. | | | | | | | ( | | | | | | | NOTE 22). | | +-----------+-----------+---+-----------+-----------+-----------+ | amf- | Am | O | 0..1 | AMF | | | region-id | fRegionId | | | Region | | | | | | | Identity. | | +-----------+-----------+---+-----------+-----------+-----------+ | a | AmfSetId | O | 0..1 | AMF Set | | | mf-set-id | | | | Identity. | | +-----------+-----------+---+-----------+-----------+-----------+ | guami | Guami | O | 0..1 | Guami | | | | | | | used to | | | | | | | search | | | | | | | for an | | | | | | | ap | | | | | | | propriate | | | | | | | AMF. | | | | | | | | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | supi | Supi | O | 0..1 | If | | | | | | | included, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the SUPI | | | | | | | of the | | | | | | | requester | | | | | | | UE to | | | | | | | search | | | | | | | for an | | | | | | | ap | | | | | | | propriate | | | | | | | NF. SUPI | | | | | | | may be | | | | | | | included | | | | | | | if the | | | | | | | target NF | | | | | | | type is | | | | | | | e.g. | | | | | | | \"PCF\", | | | | | | | \"CHF\", | | | | | | | \"AUSF\", | | | | | | | \"BSF\", | | | | | | | \"UDM\", | | | | | | | \" | | | | | | | TSCTSF\", | | | | | | | \ | | | | | | | "NSSAAF\" | | | | | | | or | | | | | | | \"UDR\". | | +-----------+-----------+---+-----------+-----------+-----------+ | ue-ipv | Ipv4Addr | O | 0..1 | The IPv4 | | | 4-address | | | | address | | | | | | | of the UE | | | | | | | for which | | | | | | | a BSF or | | | | | | | P-CSCF or | | | | | | | UPF needs | | | | | | | to be | | | | | | | di | | | | | | | scovered. | | | | | | | (NOTE 27) | | +-----------+-----------+---+-----------+-----------+-----------+ | ip-domain | string | O | 0..1 | The IPv4 | | | | | | | address | | | | | | | domain of | | | | | | | the UE | | | | | | | for which | | | | | | | a BSF | | | | | | | needs to | | | | | | | be | | | | | | | di | | | | | | | scovered. | | +-----------+-----------+---+-----------+-----------+-----------+ | ue-ip | I | O | 0..1 | The IPv6 | | | v6-prefix | pv6Prefix | | | prefix of | | | | | | | the UE | | | | | | | for which | | | | | | | a BSF or | | | | | | | P-CSCF or | | | | | | | UPF needs | | | | | | | to be | | | | | | | di | | | | | | | scovered. | | | | | | | (NOTE 27) | | +-----------+-----------+---+-----------+-----------+-----------+ | pgw-ind | boolean | O | 0..1 | When | | | | | | | present, | | | | | | | this IE | | | | | | | indicates | | | | | | | whether a | | | | | | | combined | | | | | | | SMF/PGW-C | | | | | | | or a | | | | | | | s | | | | | | | tandalone | | | | | | | SMF needs | | | | | | | to be | | | | | | | di | | | | | | | scovered. | | | | | | | | | | | | | | true: A | | | | | | | combined | | | | | | | SMF/PGW-C | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | dis | | | | | | | covered;\ | | | | | | | false: A | | | | | | | s | | | | | | | tandalone | | | | | | | SMF is | | | | | | | requested | | | | | | | to be | | | | | | | dis | | | | | | | covered.\ | | | | | | | (See | | | | | | | NOTE 2, | | | | | | | NOTE 21) | | +-----------+-----------+---+-----------+-----------+-----------+ | preferre | boolean | O | 0..1 | When | Query-SB | | d-pgw-ind | | | | present, | IProtoc17 | | | | | | this IE | | | | | | | indicates | | | | | | | whether | | | | | | | combined | | | | | | | PGW | | | | | | | -C+SMF(s) | | | | | | | or | | | | | | | s | | | | | | | tandalone | | | | | | | SMF(s) | | | | | | | are | | | | | | | p | | | | | | | referred. | | | | | | | | | | | | | | true: | | | | | | | Combined | | | | | | | PGW | | | | | | | -C+SMF(s) | | | | | | | are | | | | | | | preferred | | | | | | | to be | | | | | | | dis | | | | | | | covered;\ | | | | | | | false: | | | | | | | S | | | | | | | tandalone | | | | | | | SMF(s) | | | | | | | are | | | | | | | preferred | | | | | | | to be | | | | | | | dis | | | | | | | covered.\ | | | | | | | (See | | | | | | | NOTE 2, | | | | | | | NOTE 20, | | | | | | | NOTE 21) | | +-----------+-----------+---+-----------+-----------+-----------+ | pgw | Fqdn | O | 0..1 | If | | | | | | | included, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the PGW | | | | | | | FQDN | | | | | | | which is | | | | | | | used by | | | | | | | the AMF | | | | | | | to find | | | | | | | the | | | | | | | combined | | | | | | | S | | | | | | | MF/PGW-C. | | +-----------+-----------+---+-----------+-----------+-----------+ | pgw-ip | IpAddr | O | 0..1 | If | Query-SB | | | | | | included, | IProtoc17 | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the PGW | | | | | | | IP | | | | | | | Address | | | | | | | used by | | | | | | | the AMF | | | | | | | to find | | | | | | | the | | | | | | | combined | | | | | | | S | | | | | | | MF/PGW-C. | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | O | 0..1 | If | | | | | | | included, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the GPSI | | | | | | | of the | | | | | | | requester | | | | | | | UE to | | | | | | | search | | | | | | | for an | | | | | | | ap | | | | | | | propriate | | | | | | | NF. GPSI | | | | | | | may be | | | | | | | included | | | | | | | if the | | | | | | | target NF | | | | | | | type is | | | | | | | \"CHF\", | | | | | | | \"PCF\", | | | | | | | \"BSF\", | | | | | | | \"UDM\", | | | | | | | \ | | | | | | | "TSCTSF\" | | | | | | | or | | | | | | | \"UDR\". | | +-----------+-----------+---+-----------+-----------+-----------+ | exter | E | O | 0..1 | If | | | nal-group | xtGroupId | | | included, | | | -identity | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | external | | | | | | | group | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | requester | | | | | | | UE to | | | | | | | search | | | | | | | for an | | | | | | | ap | | | | | | | propriate | | | | | | | NF. This | | | | | | | may be | | | | | | | included | | | | | | | if the | | | | | | | target NF | | | | | | | type is | | | | | | | \"UDM\", | | | | | | | \"UDR\", | | | | | | | \"HSS\" | | | | | | | or | | | | | | | \" | | | | | | | TSCTSF\". | | +-----------+-----------+---+-----------+-----------+-----------+ | pfd-data | PfdData | O | 0..1 | When | Query-Pa | | | | | | present, | rams-Ext2 | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | ap | | | | | | | plication | | | | | | | id | | | | | | | entifiers | | | | | | | and/or | | | | | | | ap | | | | | | | plication | | | | | | | function | | | | | | | id | | | | | | | entifiers | | | | | | | in PFD | | | | | | | ma | | | | | | | nagement. | | | | | | | This may | | | | | | | be | | | | | | | included | | | | | | | if the | | | | | | | target NF | | | | | | | type is | | | | | | | \"NEF\". | | | | | | | | | | | | | | The NRF | | | | | | | shall | | | | | | | return | | | | | | | those NEF | | | | | | | instances | | | | | | | which can | | | | | | | provide | | | | | | | the PFDs | | | | | | | for at | | | | | | | least one | | | | | | | of the | | | | | | | provided | | | | | | | ap | | | | | | | plication | | | | | | | ide | | | | | | | ntifiers, | | | | | | | or for at | | | | | | | least one | | | | | | | of the | | | | | | | provided | | | | | | | ap | | | | | | | plication | | | | | | | function | | | | | | | ide | | | | | | | ntifiers. | | +-----------+-----------+---+-----------+-----------+-----------+ | data-set | DataSetId | O | 0..1 | Indicates | | | | | | | the data | | | | | | | set to be | | | | | | | supported | | | | | | | by the NF | | | | | | | to be | | | | | | | di | | | | | | | scovered. | | | | | | | May be | | | | | | | included | | | | | | | if the | | | | | | | target NF | | | | | | | type is | | | | | | | \"UDR\". | | +-----------+-----------+---+-----------+-----------+-----------+ | routing- | string | O | 0..1 | Routing | | | indicator | | | | Indicator | | | | | | | in | | | | | | | formation | | | | | | | that | | | | | | | allows to | | | | | | | route | | | | | | | network | | | | | | | s | | | | | | | ignalling | | | | | | | with SUCI | | | | | | | (see | | | | | | | 3GPP | | | | | | | TS 23.00 | | | | | | | 3 [12]) | | | | | | | to an | | | | | | | AUSF, | | | | | | | AAnF and | | | | | | | UDM | | | | | | | instance | | | | | | | capable | | | | | | | to serve | | | | | | | the | | | | | | | su | | | | | | | bscriber. | | | | | | | May be | | | | | | | included | | | | | | | if the | | | | | | | target NF | | | | | | | type is | | | | | | | \"AUSF\", | | | | | | | \"AANF\" | | | | | | | or | | | | | | | \"UDM\". | | | | | | | | | | | | | | Pattern: | | | | | | | \" | | | | | | | \^[0-9] | | | | | | | {1,4}\$\" | | +-----------+-----------+---+-----------+-----------+-----------+ | grou | array(N | O | 1..N | Identity | | | p-id-list | fGroupId) | | | of the | | | | | | | group(s) | | | | | | | of the | | | | | | | NFs of | | | | | | | the | | | | | | | target NF | | | | | | | type to | | | | | | | be | | | | | | | di | | | | | | | scovered. | | | | | | | May be | | | | | | | included | | | | | | | if the | | | | | | | target NF | | | | | | | type is | | | | | | | \"UDR\", | | | | | | | \"UDM\", | | | | | | | \"HSS\", | | | | | | | \"PCF\", | | | | | | | \"AUSF\", | | | | | | | \"BSF\" | | | | | | | or | | | | | | | \"CHF\". | | +-----------+-----------+---+-----------+-----------+-----------+ | dnai-list | ar | O | 1..N | If | | | | ray(Dnai) | | | included, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the Data | | | | | | | network | | | | | | | access | | | | | | | ide | | | | | | | ntifiers. | | | | | | | It may be | | | | | | | included | | | | | | | if the | | | | | | | target NF | | | | | | | type is | | | | | | | \"UPF\", | | | | | | | \"SMF\", | | | | | | | \"EASDF\" | | | | | | | or | | | | | | | \"NEF\". | | +-----------+-----------+---+-----------+-----------+-----------+ | upf-iw | boolean | O | 0..1 | When | | | k-eps-ind | | | | present, | | | | | | | this IE | | | | | | | indicates | | | | | | | whether a | | | | | | | UPF | | | | | | | s | | | | | | | upporting | | | | | | | int | | | | | | | erworking | | | | | | | with EPS | | | | | | | needs to | | | | | | | be | | | | | | | di | | | | | | | scovered. | | | | | | | | | | | | | | true: A | | | | | | | UPF | | | | | | | s | | | | | | | upporting | | | | | | | int | | | | | | | erworking | | | | | | | with EPS | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | dis | | | | | | | covered;\ | | | | | | | false: A | | | | | | | UPF not | | | | | | | s | | | | | | | upporting | | | | | | | int | | | | | | | erworking | | | | | | | with EPS | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | dis | | | | | | | covered.\ | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | chf-suppo | PlmnId | O | 0..1 | If | | | rted-plmn | | | | included, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the PLMN | | | | | | | ID that a | | | | | | | CHF | | | | | | | supports | | | | | | | (i.e., in | | | | | | | the | | | | | | | PlmnRange | | | | | | | of | | | | | | | ChfInfo | | | | | | | attribute | | | | | | | in the | | | | | | | NF | | | | | | | Profile). | | | | | | | This IE | | | | | | | may be | | | | | | | included | | | | | | | when the | | | | | | | target NF | | | | | | | type is | | | | | | | \"CHF\". | | | | | | | | | | | | | | When an | | | | | | | SMF | | | | | | | discovers | | | | | | | CHF(s) | | | | | | | for a PDU | | | | | | | session, | | | | | | | the SMF | | | | | | | shall set | | | | | | | the value | | | | | | | of this | | | | | | | IE as | | | | | | | specified | | | | | | | in | | | | | | | claus | | | | | | | e 5.1.9.2 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 32.25 | | | | | | | 5 [46]. | | +-----------+-----------+---+-----------+-----------+-----------+ | preferred | string | O | 0..1 | Preferred | | | -locality | | | | target NF | | | | | | | location | | | | | | | (e.g. | | | | | | | g | | | | | | | eographic | | | | | | | location, | | | | | | | data | | | | | | | center). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | the NRF | | | | | | | shall | | | | | | | prefer NF | | | | | | | profiles | | | | | | | with a | | | | | | | locality | | | | | | | attribute | | | | | | | that | | | | | | | matches | | | | | | | the | | | | | | | p | | | | | | | referred- | | | | | | | locality. | | | | | | | | | | | | | | The NRF | | | | | | | may | | | | | | | return | | | | | | | a | | | | | | | dditional | | | | | | | NFs in | | | | | | | the | | | | | | | response | | | | | | | not | | | | | | | matching | | | | | | | the | | | | | | | preferred | | | | | | | target NF | | | | | | | location, | | | | | | | e.g. if | | | | | | | no NF | | | | | | | profile | | | | | | | is found | | | | | | | matching | | | | | | | the | | | | | | | preferred | | | | | | | target NF | | | | | | | location. | | | | | | | | | | | | | | The NRF | | | | | | | should | | | | | | | set a | | | | | | | lower | | | | | | | priority | | | | | | | for any | | | | | | | a | | | | | | | dditional | | | | | | | NFs on | | | | | | | the | | | | | | | response | | | | | | | not | | | | | | | matching | | | | | | | the | | | | | | | preferred | | | | | | | target NF | | | | | | | location | | | | | | | than | | | | | | | those | | | | | | | matching | | | | | | | the | | | | | | | preferred | | | | | | | target NF | | | | | | | location. | | | | | | | In | | | | | | | addition, | | | | | | | based on | | | | | | | op | | | | | | | erator\'s | | | | | | | policy, | | | | | | | the NRF | | | | | | | may set | | | | | | | different | | | | | | | p | | | | | | | riorities | | | | | | | based on | | | | | | | the | | | | | | | l | | | | | | | ocalities | | | | | | | of the | | | | | | | NFs. | | | | | | | | | | | | | | (NOTE 6, | | | | | | | NOTE 25) | | +-----------+-----------+---+-----------+-----------+-----------+ | ext- | map( | O | 1 | Preferred | Query-SB | | preferred | array(Loc | | ..N(1..M) | target NF | IProtoc18 | | -locality | alityDesc | | | location | | | | ription)) | | | (e.g. | | | | | | | g | | | | | | | eographic | | | | | | | location, | | | | | | | data | | | | | | | center). | | | | | | | | | | | | | | The key | | | | | | | of the | | | | | | | map shall | | | | | | | represent | | | | | | | the | | | | | | | relative | | | | | | | priority, | | | | | | | for the | | | | | | | r | | | | | | | equester, | | | | | | | of each | | | | | | | locality | | | | | | | de | | | | | | | scription | | | | | | | among the | | | | | | | list of | | | | | | | locality | | | | | | | des | | | | | | | criptions | | | | | | | in this | | | | | | | query | | | | | | | p | | | | | | | arameter, | | | | | | | encoded | | | | | | | as \"1\" | | | | | | | (highest | | | | | | | pri | | | | | | | ority\"), | | | | | | | \"2\", | | | | | | | \"3\", | | | | | | | ..., | | | | | | | \"n\" | | | | | | | (lowest | | | | | | | p | | | | | | | riority). | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | the NRF | | | | | | | shall | | | | | | | prefer NF | | | | | | | profiles | | | | | | | with an | | | | | | | ex | | | | | | | tLocality | | | | | | | attribute | | | | | | | that | | | | | | | matches | | | | | | | at least | | | | | | | one | | | | | | | L | | | | | | | ocalityDe | | | | | | | scription | | | | | | | of the | | | | | | | ext-p | | | | | | | referred- | | | | | | | locality, | | | | | | | with the | | | | | | | highest | | | | | | | possible | | | | | | | priority. | | | | | | | | | | | | | | The NRF | | | | | | | may | | | | | | | return | | | | | | | a | | | | | | | dditional | | | | | | | NFs in | | | | | | | the | | | | | | | response | | | | | | | not | | | | | | | matching | | | | | | | the | | | | | | | preferred | | | | | | | target NF | | | | | | | location, | | | | | | | e.g. if | | | | | | | no NF | | | | | | | profile | | | | | | | is found | | | | | | | matching | | | | | | | the | | | | | | | preferred | | | | | | | target NF | | | | | | | location. | | | | | | | | | | | | | | The NRF | | | | | | | should | | | | | | | set the | | | | | | | priority | | | | | | | of each | | | | | | | NF | | | | | | | profile | | | | | | | returned | | | | | | | in the | | | | | | | response | | | | | | | based on | | | | | | | the | | | | | | | priority | | | | | | | a | | | | | | | ssociated | | | | | | | with the | | | | | | | matching | | | | | | | locality | | | | | | | de | | | | | | | scription | | | | | | | of the | | | | | | | ext-p | | | | | | | referred- | | | | | | | locality. | | | | | | | The NRF | | | | | | | should | | | | | | | set a | | | | | | | lower | | | | | | | priority | | | | | | | for any | | | | | | | a | | | | | | | dditional | | | | | | | NFs in | | | | | | | the | | | | | | | response | | | | | | | not | | | | | | | matching | | | | | | | the | | | | | | | preferred | | | | | | | target NF | | | | | | | location | | | | | | | than | | | | | | | those | | | | | | | matching | | | | | | | the | | | | | | | preferred | | | | | | | target NF | | | | | | | location. | | | | | | | In | | | | | | | addition, | | | | | | | based on | | | | | | | op | | | | | | | erator\'s | | | | | | | policy, | | | | | | | the NRF | | | | | | | may set | | | | | | | different | | | | | | | p | | | | | | | riorities | | | | | | | based on | | | | | | | the | | | | | | | l | | | | | | | ocalities | | | | | | | of the | | | | | | | NFs. | | | | | | | | | | | | | | (NOTE 6) | | | | | | | | | | | | | | [Example | | | | | | | 1 | | | | | | | i | | | | | | | ndicating | | | | | | | a | | | | | | | p | | | | | | | reference | | | | | | | to | | | | | | | discover | | | | | | | an NFp in | | | | | | | the data | | | | | | | center | | | | | | | \ | | | | | | | "dc-123\" | | | | | | | as a | | | | | | | first | | | | | | | choice, | | | | | | | otherwise | | | | | | | in the | | | | | | | city of | | | | | | | Los | | | | | | | Angeles | | | | | | | or San | | | | | | | Diego as | | | | | | | a second | | | | | | | choice, | | | | | | | otherwise | | | | | | | in the | | | | | | | state of | | | | | | | C | | | | | | | alifornia | | | | | | | as a | | | | | | | third | | | | | | | ch | | | | | | | oice.]{.u | | | | | | | nderline} | | | | | | | | | | | | | | { | | | | | | | | | | | | | | \"1\": | | | | | | | [{loca | | | | | | | lityType: | | | | | | | DATA | | | | | | | _CENTER, | | | | | | | local | | | | | | | ityValue: | | | | | | | \"dc- | | | | | | | 123\"}], | | | | | | | | | | | | | | \"2\": | | | | | | | [{loca | | | | | | | lityType: | | | | | | | CITY, | | | | | | | local | | | | | | | ityValue: | | | | | | | \"Los | | | | | | | Ang | | | | | | | eles\"},\ | | | | | | | {loca | | | | | | | lityType: | | | | | | | CITY, | | | | | | | local | | | | | | | ityValue: | | | | | | | \"San | | | | | | | Di | | | | | | | ego\"}], | | | | | | | | | | | | | | \"3\": | | | | | | | [{loca | | | | | | | lityType: | | | | | | | STATE, | | | | | | | local | | | | | | | ityValue: | | | | | | | \"Califo | | | | | | | rnia\"}] | | | | | | | | | | | | | | } | | | | | | | | | | | | | | [Example | | | | | | | 2 | | | | | | | i | | | | | | | ndicating | | | | | | | a | | | | | | | p | | | | | | | reference | | | | | | | to | | | | | | | discover | | | | | | | an NFp in | | | | | | | the data | | | | | | | center | | | | | | | \ | | | | | | | "dc-123\" | | | | | | | as a | | | | | | | first | | | | | | | choice, | | | | | | | otherwise | | | | | | | in the | | | | | | | data | | | | | | | center | | | | | | | \ | | | | | | | "dc-456\" | | | | | | | or | | | | | | | \ | | | | | | | "dc-789\" | | | | | | | as a | | | | | | | second | | | | | | | ch | | | | | | | oice.]{.u | | | | | | | nderline} | | | | | | | | | | | | | | { | | | | | | | | | | | | | | \"1\": | | | | | | | [{loca | | | | | | | lityType: | | | | | | | DATA | | | | | | | _CENTER, | | | | | | | local | | | | | | | ityValue: | | | | | | | \"dc- | | | | | | | 123\"}], | | | | | | | | | | | | | | \"2\": | | | | | | | [{loca | | | | | | | lityType: | | | | | | | DATA | | | | | | | _CENTER, | | | | | | | local | | | | | | | ityValue: | | | | | | | \"d | | | | | | | c-456\"}, | | | | | | | | | | | | | | {loca | | | | | | | lityType: | | | | | | | {DATA | | | | | | | _CENTER, | | | | | | | local | | | | | | | ityValue: | | | | | | | \"dc | | | | | | | -789\"}] | | | | | | | | | | | | | | } | | | | | | | | | | | | | | [Example | | | | | | | 3 | | | | | | | i | | | | | | | ndicating | | | | | | | a | | | | | | | p | | | | | | | reference | | | | | | | to | | | | | | | discover | | | | | | | an NFp in | | | | | | | the city | | | | | | | of Bath | | | | | | | and in | | | | | | | the state | | | | | | | of | | | | | | | Virginia | | | | | | | as a | | | | | | | first | | | | | | | choice, | | | | | | | otherwise | | | | | | | in the | | | | | | | state of | | | | | | | Virginia | | | | | | | as a | | | | | | | second | | | | | | | ch | | | | | | | oice.]{.u | | | | | | | nderline} | | | | | | | | | | | | | | { | | | | | | | | | | | | | | \"1\": | | | | | | | [{loca | | | | | | | lityType: | | | | | | | CITY, | | | | | | | local | | | | | | | ityValue: | | | | | | | \"Bath\", | | | | | | | | | | | | | | addlLocDe | | | | | | | scrItems: | | | | | | | [{loca | | | | | | | lityType: | | | | | | | STATE, | | | | | | | local | | | | | | | ityValue: | | | | | | | | | | | | | | \"Virgini | | | | | | | a\"}]], | | | | | | | | | | | | | | \"2\": | | | | | | | [{loca | | | | | | | lityType: | | | | | | | STATE, | | | | | | | local | | | | | | | ityValue: | | | | | | | \"Vi | | | | | | | rginia\"} | | | | | | | | | | | | | | } | | | | | | | | | | | | | | (NOTE 25) | | +-----------+-----------+---+-----------+-----------+-----------+ | ac | A | C | 0..1 | If | | | cess-type | ccessType | | | included, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | Access | | | | | | | type | | | | | | | which is | | | | | | | required | | | | | | | to be | | | | | | | supported | | | | | | | by the | | | | | | | target | | | | | | | Network | | | | | | | Function | | | | | | | (i.e. | | | | | | | SMF). | | +-----------+-----------+---+-----------+-----------+-----------+ | supported | Supporte | O | 0..1 | List of | | | -features | dFeatures | | | features | | | | | | | required | | | | | | | to be | | | | | | | supported | | | | | | | by the | | | | | | | target | | | | | | | Network | | | | | | | Function. | | | | | | | | | | | | | | This IE | | | | | | | may be | | | | | | | present | | | | | | | only if | | | | | | | the | | | | | | | serv | | | | | | | ice-names | | | | | | | attribute | | | | | | | is | | | | | | | present | | | | | | | and if it | | | | | | | contains | | | | | | | a single | | | | | | | serv | | | | | | | ice-name. | | | | | | | It shall | | | | | | | be | | | | | | | ignored | | | | | | | by the | | | | | | | NRF | | | | | | | o | | | | | | | therwise. | | | | | | | | | | | | | | (NOTE 4) | | +-----------+-----------+---+-----------+-----------+-----------+ | required | array( | O | 1..N | List of | Query-Pa | | -features | Supported | | | features | rams-Ext1 | | | Features) | | | required | | | | | | | to be | | | | | | | supported | | | | | | | by the | | | | | | | target | | | | | | | Network | | | | | | | Function, | | | | | | | as | | | | | | | defined | | | | | | | by the | | | | | | | supporte | | | | | | | dFeatures | | | | | | | attribute | | | | | | | in | | | | | | | NFService | | | | | | | (see | | | | | | | clauses | | | | | | | 6.1.6.2.3 | | | | | | | and | | | | | | | 6. | | | | | | | 2.6.2.4). | | | | | | | | | | | | | | This IE | | | | | | | may be | | | | | | | present | | | | | | | only if | | | | | | | the | | | | | | | serv | | | | | | | ice-names | | | | | | | attribute | | | | | | | is | | | | | | | present. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | the | | | | | | | required | | | | | | | -features | | | | | | | attribute | | | | | | | shall | | | | | | | contain | | | | | | | as many | | | | | | | entries | | | | | | | as the | | | | | | | number of | | | | | | | entries | | | | | | | in the | | | | | | | serv | | | | | | | ice-names | | | | | | | a | | | | | | | ttribute. | | | | | | | The n^th^ | | | | | | | entry in | | | | | | | the | | | | | | | required | | | | | | | -features | | | | | | | attribute | | | | | | | shall | | | | | | | c | | | | | | | orrespond | | | | | | | to the | | | | | | | n^th^ | | | | | | | entry in | | | | | | | the | | | | | | | serv | | | | | | | ice-names | | | | | | | a | | | | | | | ttribute. | | | | | | | An entry | | | | | | | corr | | | | | | | esponding | | | | | | | to a | | | | | | | service | | | | | | | for which | | | | | | | no | | | | | | | specific | | | | | | | feature | | | | | | | is | | | | | | | required | | | | | | | shall be | | | | | | | encoded | | | | | | | as \"0\". | | | | | | | | | | | | | | (NOTE 24) | | +-----------+-----------+---+-----------+-----------+-----------+ | comp | Com | O | 0..1 | This | Comp | | lex-query | plexQuery | | | query | lex-Query | | | | | | parameter | | | | | | | is used | | | | | | | to | | | | | | | override | | | | | | | the | | | | | | | default | | | | | | | logical | | | | | | | rel | | | | | | | ationship | | | | | | | of query | | | | | | | pa | | | | | | | rameters. | | +-----------+-----------+---+-----------+-----------+-----------+ | limit | integer | O | 0..1 | Maximum | Query-Pa | | | | | | number of | rams-Ext1 | | | | | | N | | | | | | | FProfiles | | | | | | | to be | | | | | | | returned | | | | | | | in the | | | | | | | response. | | | | | | | | | | | | | | Minimum: | | | | | | | 1 | | +-----------+-----------+---+-----------+-----------+-----------+ | max-pay | integer | O | 0..1 | Maximum | Query-Pa | | load-size | | | | payload | rams-Ext1 | | | | | | size | | | | | | | (before | | | | | | | com | | | | | | | pression, | | | | | | | if any) | | | | | | | of the | | | | | | | response, | | | | | | | expressed | | | | | | | in kilo | | | | | | | octets. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | the NRF | | | | | | | shall | | | | | | | limit the | | | | | | | number of | | | | | | | NF | | | | | | | profiles | | | | | | | returned | | | | | | | in the | | | | | | | response | | | | | | | such as | | | | | | | to not | | | | | | | exceed | | | | | | | the | | | | | | | maximum | | | | | | | payload | | | | | | | size | | | | | | | indicated | | | | | | | in the | | | | | | | request. | | | | | | | | | | | | | | Default: | | | | | | | 124. | | | | | | | Maximum: | | | | | | | 2000 | | | | | | | (i.e. 2 | | | | | | | Mo). | | +-----------+-----------+---+-----------+-----------+-----------+ | ma | integer | O | 0..1 | Maximum | Query-Pa | | x-payload | | | | payload | rams-Ext2 | | -size-ext | | | | size | | | | | | | (before | | | | | | | com | | | | | | | pression, | | | | | | | if any) | | | | | | | of the | | | | | | | response, | | | | | | | expressed | | | | | | | in kilo | | | | | | | octets. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | the NRF | | | | | | | shall | | | | | | | limit the | | | | | | | number of | | | | | | | NF | | | | | | | profiles | | | | | | | returned | | | | | | | in the | | | | | | | response | | | | | | | such as | | | | | | | to not | | | | | | | exceed | | | | | | | the | | | | | | | maximum | | | | | | | payload | | | | | | | size | | | | | | | indicated | | | | | | | in the | | | | | | | request. | | | | | | | | | | | | | | This | | | | | | | query | | | | | | | parameter | | | | | | | is used | | | | | | | when the | | | | | | | consumer | | | | | | | supports | | | | | | | payload | | | | | | | size | | | | | | | bigger | | | | | | | than 2 | | | | | | | million | | | | | | | octets. | | | | | | | | | | | | | | Default: | | | | | | | 124 | | +-----------+-----------+---+-----------+-----------+-----------+ | pdu-sess | arr | O | 1..N | List of | Query-Pa | | ion-types | ay(PduSes | | | the PDU | rams-Ext1 | | | sionType) | | | session | | | | | | | type (s) | | | | | | | requested | | | | | | | to be | | | | | | | supported | | | | | | | by the | | | | | | | target | | | | | | | Network | | | | | | | Function | | | | | | | (i.e | | | | | | | UPF). | | +-----------+-----------+---+-----------+-----------+-----------+ | even | array | O | 1..N | If | Que | | t-id-list | (EventId) | | | present, | ry-Param- | | | | | | this | Analytics | | | | | | attribute | | | | | | | shall | | | | | | | contain | | | | | | | the list | | | | | | | of events | | | | | | | requested | | | | | | | to be | | | | | | | supported | | | | | | | by the | | | | | | | Nnwdaf | | | | | | | Anal | | | | | | | yticsInfo | | | | | | | Service, | | | | | | | the NRF | | | | | | | shall | | | | | | | return NF | | | | | | | which | | | | | | | support | | | | | | | all the | | | | | | | requested | | | | | | | events. | | +-----------+-----------+---+-----------+-----------+-----------+ | nwdaf-e | array(Nw | O | 1..N | If | Que | | vent-list | dafEvent) | | | present, | ry-Param- | | | | | | this | Analytics | | | | | | attribute | | | | | | | shall | | | | | | | contain | | | | | | | the list | | | | | | | of events | | | | | | | requested | | | | | | | to be | | | | | | | supported | | | | | | | by the | | | | | | | Nnwdaf_ | | | | | | | EventsSub | | | | | | | scription | | | | | | | service, | | | | | | | the NRF | | | | | | | shall | | | | | | | return NF | | | | | | | which | | | | | | | support | | | | | | | all the | | | | | | | requested | | | | | | | events. | | +-----------+-----------+---+-----------+-----------+-----------+ | upf-e | array(E | O | 1..N | If | Qu | | vent-list | ventType) | | | present, | ery-UPEAS | | | | | | this | | | | | | | attribute | | | | | | | shall | | | | | | | contain | | | | | | | the list | | | | | | | of events | | | | | | | requested | | | | | | | to be | | | | | | | supported | | | | | | | by the | | | | | | | N | | | | | | | upf_Even | | | | | | | tExposure | | | | | | | service. | | | | | | | The NRF | | | | | | | shall | | | | | | | return | | | | | | | UPFs | | | | | | | which | | | | | | | support | | | | | | | all the | | | | | | | requested | | | | | | | events. | | +-----------+-----------+---+-----------+-----------+-----------+ | atsss-c | AtsssC | O | 0..1 | When | MAPDU | | apability | apability | | | present, | | | | | | | this IE | | | | | | | indicates | | | | | | | the ATSSS | | | | | | | c | | | | | | | apability | | | | | | | of the | | | | | | | target | | | | | | | UPF needs | | | | | | | to be | | | | | | | s | | | | | | | upported. | | +-----------+-----------+---+-----------+-----------+-----------+ | upf-ue-ip | boolean | O | 0..1 | When | Query-Pa | | -addr-ind | | | | present, | rams-Ext2 | | | | | | this IE | | | | | | | indicates | | | | | | | whether a | | | | | | | UPF | | | | | | | s | | | | | | | upporting | | | | | | | a | | | | | | | llocating | | | | | | | UE IP | | | | | | | addresses | | | | | | | /prefixes | | | | | | | needs to | | | | | | | be | | | | | | | di | | | | | | | scovered. | | | | | | | | | | | | | | true: a | | | | | | | UPF | | | | | | | s | | | | | | | upporting | | | | | | | UE IP | | | | | | | addresses | | | | | | | /prefixes | | | | | | | a | | | | | | | llocation | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | dis | | | | | | | covered;\ | | | | | | | false: a | | | | | | | UPF not | | | | | | | s | | | | | | | upporting | | | | | | | UE IP | | | | | | | addresses | | | | | | | /prefixes | | | | | | | a | | | | | | | llocation | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | di | | | | | | | scovered. | | +-----------+-----------+---+-----------+-----------+-----------+ | cl | ExternalC | O | 0..1 | When | Query-Pa | | ient-type | lientType | | | present, | rams-Ext2 | | | | | | this IE | | | | | | | indicates | | | | | | | that | | | | | | | NF(s) | | | | | | | de | | | | | | | dicatedly | | | | | | | serving | | | | | | | the | | | | | | | specified | | | | | | | Client | | | | | | | Type | | | | | | | needs to | | | | | | | be | | | | | | | di | | | | | | | scovered. | | | | | | | This IE | | | | | | | may be | | | | | | | included | | | | | | | when | | | | | | | target NF | | | | | | | Type is | | | | | | | \"LMF\" | | | | | | | and | | | | | | | \"GMLC\". | | | | | | | | | | | | | | If no NF | | | | | | | profile | | | | | | | is found | | | | | | | d | | | | | | | edicately | | | | | | | serving | | | | | | | the | | | | | | | requested | | | | | | | client | | | | | | | type, the | | | | | | | NRF may | | | | | | | return | | | | | | | NF(s) not | | | | | | | de | | | | | | | dicatedly | | | | | | | serving | | | | | | | the | | | | | | | request | | | | | | | client | | | | | | | type in | | | | | | | the | | | | | | | response. | | +-----------+-----------+---+-----------+-----------+-----------+ | lmf-id | LMFIdent | O | 0..1 | When | Query-Pa | | | ification | | | present, | rams-Ext2 | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | LMF | | | | | | | ident | | | | | | | ification | | | | | | | to be | | | | | | | discov | | | | | | | ered.This | | | | | | | may be | | | | | | | included | | | | | | | if the | | | | | | | target NF | | | | | | | type is | | | | | | | \"LMF\". | | +-----------+-----------+---+-----------+-----------+-----------+ | an- | A | O | 0..1 | If | Query-Pa | | node-type | nNodeType | | | included, | rams-Ext2 | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the AN | | | | | | | Node type | | | | | | | which is | | | | | | | required | | | | | | | to be | | | | | | | supported | | | | | | | by the | | | | | | | target | | | | | | | Network | | | | | | | Function | | | | | | | (i.e. | | | | | | | LMF). | | +-----------+-----------+---+-----------+-----------+-----------+ | rat-type | RatType | O | 0..1 | If | Query-Pa | | | | | | included, | rams-Ext2 | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the RAT | | | | | | | type | | | | | | | which is | | | | | | | required | | | | | | | to be | | | | | | | supported | | | | | | | by the | | | | | | | target | | | | | | | Network | | | | | | | Function | | | | | | | (i.e. | | | | | | | LMF). | | +-----------+-----------+---+-----------+-----------+-----------+ | ta | PlmnIdNid | C | 0..1 | This IE | Query-Pa | | rget-snpn | | | | shall be | rams-Ext2 | | | | | | included | | | | | | | when NF | | | | | | | services | | | | | | | of a | | | | | | | specific | | | | | | | SNPN need | | | | | | | to be | | | | | | | di | | | | | | | scovered. | | | | | | | When | | | | | | | included, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the PLMN | | | | | | | ID and | | | | | | | NID of | | | | | | | the | | | | | | | target | | | | | | | NF. | | | | | | | | | | | | | | This IE | | | | | | | shall | | | | | | | also be | | | | | | | included | | | | | | | in SNPN | | | | | | | s | | | | | | | cenarios, | | | | | | | when the | | | | | | | entity | | | | | | | owning | | | | | | | the | | | | | | | subs | | | | | | | cription, | | | | | | | the | | | | | | | Cr | | | | | | | edentials | | | | | | | Holder | | | | | | | (see | | | | | | | clause | | | | | | | 5.30.2.9 | | | | | | | in | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 01 [2]) | | | | | | | is an | | | | | | | SNPN. | | +-----------+-----------+---+-----------+-----------+-----------+ | a | A | O | 0..1 | When | Query-Pa | | f-ee-data | fEventExp | | | present, | rams-Ext2 | | | osureData | | | this | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | ap | | | | | | | plication | | | | | | | events, | | | | | | | and | | | | | | | o | | | | | | | ptionally | | | | | | | ap | | | | | | | plication | | | | | | | function | | | | | | | ide | | | | | | | ntifiers, | | | | | | | ap | | | | | | | plication | | | | | | | id | | | | | | | entifiers | | | | | | | of the | | | | | | | AF(s). | | | | | | | This may | | | | | | | be | | | | | | | included | | | | | | | if the | | | | | | | target NF | | | | | | | type is | | | | | | | \"NEF\". | | +-----------+-----------+---+-----------+-----------+-----------+ | w | WAgfInfo | O | 0..1 | If | Query-Pa | | -agf-info | | | | included, | rams-Ext2 | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the W-AGF | | | | | | | id | | | | | | | entifiers | | | | | | | of N3 | | | | | | | ter | | | | | | | minations | | | | | | | which is | | | | | | | received | | | | | | | by the | | | | | | | SMF to | | | | | | | find the | | | | | | | combined | | | | | | | W-AGF/UPF | | | | | | | or the | | | | | | | preferred | | | | | | | UPF(s) | | | | | | | for the | | | | | | | W-AGF. | | | | | | | | | | | | | | The NRF | | | | | | | shall | | | | | | | return | | | | | | | UPFs | | | | | | | c | | | | | | | o-located | | | | | | | with the | | | | | | | W-AGF if | | | | | | | any | | | | | | | exists | | | | | | | (see | | | | | | | wAgfInfo | | | | | | | attribute | | | | | | | in | | | | | | | UpfInfo). | | | | | | | O | | | | | | | therwise, | | | | | | | if the | | | | | | | NRF | | | | | | | supports | | | | | | | the | | | | | | | Query-U | | | | | | | PF-Select | | | | | | | ion-N3GPP | | | | | | | feature, | | | | | | | the NRF | | | | | | | shall | | | | | | | return | | | | | | | preferred | | | | | | | UPF(s) | | | | | | | for the | | | | | | | W-AGF if | | | | | | | any | | | | | | | preferred | | | | | | | UPF exist | | | | | | | (see | | | | | | | pre | | | | | | | ferredWag | | | | | | | fInfoList | | | | | | | attribute | | | | | | | in | | | | | | | UpfInfo). | | +-----------+-----------+---+-----------+-----------+-----------+ | tngf-info | TngfInfo | O | 0..1 | If | Query-Pa | | | | | | included, | rams-Ext2 | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the TNGF | | | | | | | id | | | | | | | entifiers | | | | | | | of N3 | | | | | | | ter | | | | | | | minations | | | | | | | which is | | | | | | | received | | | | | | | by the | | | | | | | SMF to | | | | | | | find the | | | | | | | combined | | | | | | | TNGF/UPF | | | | | | | or the | | | | | | | preferred | | | | | | | UPF(s) | | | | | | | for the | | | | | | | TNGF. | | | | | | | | | | | | | | The NRF | | | | | | | shall | | | | | | | return | | | | | | | UPFs | | | | | | | c | | | | | | | o-located | | | | | | | with the | | | | | | | TNGF if | | | | | | | any | | | | | | | exists | | | | | | | (see | | | | | | | tngfInfo | | | | | | | attribute | | | | | | | in | | | | | | | UpfInfo). | | | | | | | O | | | | | | | therwise, | | | | | | | if the | | | | | | | NRF | | | | | | | supports | | | | | | | the | | | | | | | Query-U | | | | | | | PF-Select | | | | | | | ion-N3GPP | | | | | | | feature, | | | | | | | the NRF | | | | | | | shall | | | | | | | return | | | | | | | preferred | | | | | | | UPF(s) | | | | | | | for the | | | | | | | TNGF if | | | | | | | any | | | | | | | preferred | | | | | | | UPF exist | | | | | | | (see | | | | | | | pre | | | | | | | ferredTng | | | | | | | fInfoList | | | | | | | attribute | | | | | | | in | | | | | | | UpfInfo). | | +-----------+-----------+---+-----------+-----------+-----------+ | twif-info | TwifInfo | O | 0..1 | If | Query-Pa | | | | | | included, | rams-Ext2 | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the TWIF | | | | | | | id | | | | | | | entifiers | | | | | | | of N3 | | | | | | | ter | | | | | | | minations | | | | | | | which is | | | | | | | received | | | | | | | by the | | | | | | | SMF to | | | | | | | find the | | | | | | | combined | | | | | | | TWIF/UPF | | | | | | | or the | | | | | | | preferred | | | | | | | UPF(s) | | | | | | | for the | | | | | | | TWIF. | | | | | | | | | | | | | | The NRF | | | | | | | shall | | | | | | | return | | | | | | | UPFs | | | | | | | c | | | | | | | o-located | | | | | | | with the | | | | | | | TWIF if | | | | | | | any | | | | | | | exists | | | | | | | (see | | | | | | | twifInfo | | | | | | | attribute | | | | | | | in | | | | | | | UpfInfo). | | | | | | | O | | | | | | | therwise, | | | | | | | if the | | | | | | | NRF | | | | | | | supports | | | | | | | the | | | | | | | Query-U | | | | | | | PF-Select | | | | | | | ion-N3GPP | | | | | | | feature, | | | | | | | the NRF | | | | | | | shall | | | | | | | return | | | | | | | preferred | | | | | | | UPF(s) | | | | | | | for the | | | | | | | TWIF if | | | | | | | any | | | | | | | preferred | | | | | | | UPF exist | | | | | | | (see | | | | | | | pre | | | | | | | ferredTwi | | | | | | | fInfoList | | | | | | | attribute | | | | | | | in | | | | | | | UpfInfo). | | +-----------+-----------+---+-----------+-----------+-----------+ | up | EpdgInfo | O | 0..1 | If | Query-U | | f-select- | | | | included, | PF-Select | | epdg-info | | | | this IE | ion-N3GPP | | | | | | shall | | | | | | | contain | | | | | | | the EPDG | | | | | | | id | | | | | | | entifiers | | | | | | | of S2b-u | | | | | | | ter | | | | | | | minations | | | | | | | which is | | | | | | | received | | | | | | | by the | | | | | | | SMF/PGW-C | | | | | | | to find | | | | | | | the | | | | | | | preferred | | | | | | | UPF/PGW-U | | | | | | | to serve | | | | | | | the ePDG. | | +-----------+-----------+---+-----------+-----------+-----------+ | target- | NfSetId | O | 0..1 | When | Query-Pa | | nf-set-id | | | | present, | rams-Ext2 | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | target NF | | | | | | | Set ID | | | | | | | (as | | | | | | | defined | | | | | | | in clause | | | | | | | 28.12 of | | | | | | | 3GPP | | | | | | | TS 23.00 | | | | | | | 3 [12]) | | | | | | | of the NF | | | | | | | instances | | | | | | | being | | | | | | | di | | | | | | | scovered. | | +-----------+-----------+---+-----------+-----------+-----------+ | target | NfSer | O | 0..1 | When | Query-Pa | | -nf-servi | viceSetId | | | present, | rams-Ext2 | | ce-set-id | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | target NF | | | | | | | Service | | | | | | | Set ID | | | | | | | (as | | | | | | | defined | | | | | | | in clause | | | | | | | 28.13 of | | | | | | | 3GPP | | | | | | | TS 23.00 | | | | | | | 3 [12]) | | | | | | | of the NF | | | | | | | service | | | | | | | instances | | | | | | | being | | | | | | | di | | | | | | | scovered. | | | | | | | | | | | | | | If this | | | | | | | IE is | | | | | | | provided | | | | | | | together | | | | | | | with the | | | | | | | target- | | | | | | | nf-set-id | | | | | | | IE, the | | | | | | | NRF shall | | | | | | | return | | | | | | | service | | | | | | | instances | | | | | | | of the NF | | | | | | | Service | | | | | | | Set | | | | | | | indicated | | | | | | | in the | | | | | | | request | | | | | | | and | | | | | | | should | | | | | | | add | | | | | | | itionally | | | | | | | return | | | | | | | e | | | | | | | quivalent | | | | | | | ones, if | | | | | | | any. | | +-----------+-----------+---+-----------+-----------+-----------+ | pref | Tai | O | 0..1 | When | Query-Pa | | erred-tai | | | | present, | rams-Ext2 | | | | | | the NRF | | | | | | | shall | | | | | | | prefer NF | | | | | | | profiles | | | | | | | that can | | | | | | | serve the | | | | | | | TAI, or | | | | | | | the NRF | | | | | | | shall | | | | | | | return NF | | | | | | | profiles | | | | | | | not | | | | | | | matching | | | | | | | the TAI | | | | | | | if no NF | | | | | | | profile | | | | | | | is found | | | | | | | matching | | | | | | | the TAI. | | | | | | | | | | | | | | (NOTE 5) | | +-----------+-----------+---+-----------+-----------+-----------+ | nef-id | NefId | O | 0..1 | When | Query-Pa | | | | | | present, | rams-Ext2 | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the NEF | | | | | | | ID of the | | | | | | | NEF to be | | | | | | | di | | | | | | | scovered. | | | | | | | This may | | | | | | | be | | | | | | | included | | | | | | | if the | | | | | | | target NF | | | | | | | type is | | | | | | | \"NEF\". | | | | | | | (NOTE 7) | | +-----------+-----------+---+-----------+-----------+-----------+ | pref | a | O | 1..N | When | Query-Pa | | erred-nf- | rray(NfIn | | | present, | rams-Ext2 | | instances | stanceId) | | | this IE | | | | | | | shall | | | | | | | contain a | | | | | | | list of | | | | | | | preferred | | | | | | | candidate | | | | | | | NF | | | | | | | instance | | | | | | | IDs. | | | | | | | (NOTE 8) | | +-----------+-----------+---+-----------+-----------+-----------+ | notifica | Notific | O | 0..1 | If | Query-Pa | | tion-type | ationType | | | included, | rams-Ext2 | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | not | | | | | | | ification | | | | | | | type of | | | | | | | default | | | | | | | not | | | | | | | ification | | | | | | | subs | | | | | | | criptions | | | | | | | that | | | | | | | shall be | | | | | | | r | | | | | | | egistered | | | | | | | in the | | | | | | | NFProfile | | | | | | | or | | | | | | | NFService | | | | | | | of the NF | | | | | | | Instances | | | | | | | being | | | | | | | di | | | | | | | scovered. | | | | | | | The NF | | | | | | | profiles | | | | | | | returned | | | | | | | by the | | | | | | | NRF shall | | | | | | | contain | | | | | | | all the | | | | | | | r | | | | | | | egistered | | | | | | | default | | | | | | | not | | | | | | | ification | | | | | | | subsc | | | | | | | riptions, | | | | | | | including | | | | | | | the one | | | | | | | corr | | | | | | | esponding | | | | | | | to the | | | | | | | notifica | | | | | | | tion-type | | | | | | | p | | | | | | | arameter. | | | | | | | | | | | | | | (NOTE 9) | | +-----------+-----------+---+-----------+-----------+-----------+ | n1- | N1Mes | O | 0..1 | This IE | Query-Pa | | msg-class | sageClass | | | may be | rams-Ext3 | | | | | | included | | | | | | | when | | | | | | | \"n | | | | | | | otificati | | | | | | | on-type\" | | | | | | | IE is | | | | | | | present | | | | | | | with | | | | | | | value | | | | | | | \"N1_ME | | | | | | | SSAGES\". | | | | | | | | | | | | | | When | | | | | | | included, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the N1 | | | | | | | message | | | | | | | class of | | | | | | | default | | | | | | | not | | | | | | | ification | | | | | | | subs | | | | | | | criptions | | | | | | | that | | | | | | | shall be | | | | | | | r | | | | | | | egistered | | | | | | | in the | | | | | | | NFProfile | | | | | | | or | | | | | | | NFService | | | | | | | of the NF | | | | | | | Instances | | | | | | | being | | | | | | | di | | | | | | | scovered. | | | | | | | The NF | | | | | | | profiles | | | | | | | returned | | | | | | | by the | | | | | | | NRF shall | | | | | | | contain | | | | | | | all the | | | | | | | r | | | | | | | egistered | | | | | | | default | | | | | | | not | | | | | | | ification | | | | | | | subsc | | | | | | | riptions, | | | | | | | including | | | | | | | the one | | | | | | | corr | | | | | | | esponding | | | | | | | to the | | | | | | | n1- | | | | | | | msg-class | | | | | | | p | | | | | | | arameter. | | | | | | | | | | | | | | (NOTE 9) | | +-----------+-----------+---+-----------+-----------+-----------+ | n2-i | N2Informa | O | 0..1 | This IE | Query-Pa | | nfo-class | tionClass | | | may be | rams-Ext3 | | | | | | included | | | | | | | when | | | | | | | \"n | | | | | | | otificati | | | | | | | on-type\" | | | | | | | IE is | | | | | | | present | | | | | | | with | | | | | | | value | | | | | | | \" | | | | | | | N2_INFOR | | | | | | | MATION\". | | | | | | | | | | | | | | If | | | | | | | included, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | not | | | | | | | ification | | | | | | | type of | | | | | | | default | | | | | | | not | | | | | | | ification | | | | | | | subs | | | | | | | criptions | | | | | | | that | | | | | | | shall be | | | | | | | r | | | | | | | egistered | | | | | | | in the | | | | | | | NFProfile | | | | | | | or | | | | | | | NFService | | | | | | | of the NF | | | | | | | Instances | | | | | | | being | | | | | | | di | | | | | | | scovered. | | | | | | | The NF | | | | | | | profiles | | | | | | | returned | | | | | | | by the | | | | | | | NRF shall | | | | | | | contain | | | | | | | all the | | | | | | | r | | | | | | | egistered | | | | | | | default | | | | | | | not | | | | | | | ification | | | | | | | subsc | | | | | | | riptions, | | | | | | | including | | | | | | | the one | | | | | | | corr | | | | | | | esponding | | | | | | | to the | | | | | | | n2-i | | | | | | | nfo-class | | | | | | | p | | | | | | | arameter. | | | | | | | | | | | | | | (NOTE 9) | | +-----------+-----------+---+-----------+-----------+-----------+ | serv | arra | O | 1..N | If | Query-Pa | | ing-scope | y(string) | | | present, | rams-Ext2 | | | | | | this | | | | | | | attribute | | | | | | | shall | | | | | | | contain | | | | | | | the list | | | | | | | of areas | | | | | | | that can | | | | | | | be served | | | | | | | by the NF | | | | | | | instances | | | | | | | to be | | | | | | | di | | | | | | | scovered. | | | | | | | The NRF | | | | | | | shall | | | | | | | return NF | | | | | | | profiles | | | | | | | of NFs | | | | | | | which can | | | | | | | serve all | | | | | | | the areas | | | | | | | requested | | | | | | | in this | | | | | | | query | | | | | | | p | | | | | | | arameter. | | | | | | | | | | | | | | (NOTE 18) | | +-----------+-----------+---+-----------+-----------+-----------+ | ims-do | string | O | 1..N | If | Que | | main-name | | | | included, | ry-NG-RTC | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the IMS | | | | | | | domain | | | | | | | name to | | | | | | | search | | | | | | | for an | | | | | | | ap | | | | | | | propriate | | | | | | | NF. IMS | | | | | | | domain | | | | | | | name may | | | | | | | be | | | | | | | included | | | | | | | if the | | | | | | | target NF | | | | | | | type is | | | | | | | \"DCSF\". | | +-----------+-----------+---+-----------+-----------+-----------+ | imsi | string | O | 0..1 | If | Query-Pa | | | | | | included, | rams-Ext2 | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the IMSI | | | | | | | of the | | | | | | | requester | | | | | | | UE to | | | | | | | search | | | | | | | for an | | | | | | | ap | | | | | | | propriate | | | | | | | NF. IMSI | | | | | | | may be | | | | | | | included | | | | | | | if the | | | | | | | target NF | | | | | | | type is | | | | | | | \"HSS\" | | | | | | | or | | | | | | | \"DCSF\". | | | | | | | | | | | | | | pattern: | | | | | | | \"\ | | | | | | | ^[0-9]{ | | | | | | | 5,15}\$\" | | +-----------+-----------+---+-----------+-----------+-----------+ | im | string | O | 0..1 | If | Query-Pa | | s-private | | | | included, | rams-Ext3 | | -identity | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the IMS | | | | | | | Private | | | | | | | Identity | | | | | | | of the | | | | | | | requester | | | | | | | UE to | | | | | | | search | | | | | | | for an | | | | | | | ap | | | | | | | propriate | | | | | | | NF. IMS | | | | | | | Private | | | | | | | Identity | | | | | | | may be | | | | | | | included | | | | | | | if the | | | | | | | target NF | | | | | | | type is | | | | | | | \"HSS\" | | | | | | | or | | | | | | | \"DCSF\". | | +-----------+-----------+---+-----------+-----------+-----------+ | i | string | O | 0..1 | If | Query-Pa | | ms-public | | | | included, | rams-Ext3 | | -identity | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the IMS | | | | | | | Public | | | | | | | Identity | | | | | | | of the | | | | | | | requester | | | | | | | UE to | | | | | | | search | | | | | | | for an | | | | | | | ap | | | | | | | propriate | | | | | | | NF. IMS | | | | | | | Public | | | | | | | Identity | | | | | | | may be | | | | | | | included | | | | | | | if the | | | | | | | target NF | | | | | | | type is | | | | | | | \"HSS\" | | | | | | | or | | | | | | | \"DCSF\". | | +-----------+-----------+---+-----------+-----------+-----------+ | msisdn | string | O | 0..1 | If | Query-Pa | | | | | | included, | rams-Ext3 | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | MSISDN of | | | | | | | the | | | | | | | requester | | | | | | | UE to | | | | | | | search | | | | | | | for an | | | | | | | ap | | | | | | | propriate | | | | | | | NF. IMS | | | | | | | Public | | | | | | | Identity | | | | | | | may be | | | | | | | included | | | | | | | if the | | | | | | | target NF | | | | | | | type is | | | | | | | \"HSS\" | | | | | | | or | | | | | | | \"DCSF\". | | +-----------+-----------+---+-----------+-----------+-----------+ | inter | GroupId | O | 0..1 | If | Query-Pa | | nal-group | | | | included, | rams-Ext2 | | -identity | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | internal | | | | | | | group | | | | | | | i | | | | | | | dentifier | | | | | | | of the UE | | | | | | | to search | | | | | | | for an | | | | | | | ap | | | | | | | propriate | | | | | | | NF. This | | | | | | | may be | | | | | | | included | | | | | | | if the | | | | | | | target NF | | | | | | | type is | | | | | | | \"UDM\", | | | | | | | \ | | | | | | | "NSSAAF\" | | | | | | | or | | | | | | | \" | | | | | | | TSCTSF\". | | +-----------+-----------+---+-----------+-----------+-----------+ | pref | ma | O | 1..N | When | Query-Pa | | erred-api | p(string) | | | present, | rams-Ext2 | | -versions | | | | this IE | | | | | | | indicates | | | | | | | the | | | | | | | preferred | | | | | | | API | | | | | | | version | | | | | | | of the | | | | | | | services | | | | | | | that are | | | | | | | supported | | | | | | | by the | | | | | | | target NF | | | | | | | i | | | | | | | nstances. | | | | | | | The key | | | | | | | of the | | | | | | | map is | | | | | | | the | | | | | | | Se | | | | | | | rviceName | | | | | | | (see | | | | | | | clause 6. | | | | | | | 1.6.3.11) | | | | | | | for which | | | | | | | the | | | | | | | preferred | | | | | | | API | | | | | | | version | | | | | | | is | | | | | | | i | | | | | | | ndicated. | | | | | | | Each | | | | | | | element | | | | | | | carries | | | | | | | the API | | | | | | | Version | | | | | | | I | | | | | | | ndication | | | | | | | for the | | | | | | | service | | | | | | | indicated | | | | | | | by the | | | | | | | key. The | | | | | | | NRF may | | | | | | | return | | | | | | | a | | | | | | | dditional | | | | | | | NFs in | | | | | | | the | | | | | | | response | | | | | | | not | | | | | | | matching | | | | | | | the | | | | | | | preferred | | | | | | | API | | | | | | | versions, | | | | | | | e.g. if | | | | | | | no NF | | | | | | | profile | | | | | | | is found | | | | | | | matching | | | | | | | the | | | | | | | prefe | | | | | | | rred-api- | | | | | | | versions. | | | | | | | | | | | | | | An API | | | | | | | Version | | | | | | | I | | | | | | | ndication | | | | | | | is a | | | | | | | string | | | | | | | formatted | | | | | | | as | | | | | | | {opera | | | | | | | tor}+{API | | | | | | | Version}. | | | | | | | | | | | | | | The | | | | | | | following | | | | | | | operators | | | | | | | shall be | | | | | | | s | | | | | | | upported: | | | | | | | | | | | | | | \"=\" | | | | | | | match a | | | | | | | version | | | | | | | equals to | | | | | | | the | | | | | | | version | | | | | | | value | | | | | | | i | | | | | | | ndicated. | | | | | | | | | | | | | | \">\" | | | | | | | match any | | | | | | | version | | | | | | | greater | | | | | | | than the | | | | | | | version | | | | | | | value | | | | | | | indicated | | | | | | | | | | | | | | \">=\" | | | | | | | match any | | | | | | | version | | | | | | | greater | | | | | | | than or | | | | | | | equal to | | | | | | | the | | | | | | | version | | | | | | | value | | | | | | | indicated | | | | | | | | | | | | | | \"\1.2.4\" | | | | | | | means | | | | | | | matching | | | | | | | the | | | | | | | service | | | | | | | with API | | | | | | | versions | | | | | | | greater | | | | | | | than | | | | | | | \"1.2.4\" | | | | | | | | | | | | | | Case3: | | | | | | | \" | | | | | | | \^2.3.0\" | | | | | | | or | | | | | | | \"\^2\" | | | | | | | means | | | | | | | matching | | | | | | | the | | | | | | | service | | | | | | | with all | | | | | | | API | | | | | | | versions | | | | | | | with | | | | | | | major | | | | | | | version | | | | | | | \"2\". | | +-----------+-----------+---+-----------+-----------+-----------+ | v2x-su | boolean | O | 0..1 | When | Query-Pa | | pport-ind | | | | present, | rams-Ext2 | | | | | | this IE | | | | | | | indicates | | | | | | | whether a | | | | | | | PCF | | | | | | | s | | | | | | | upporting | | | | | | | V2X | | | | | | | Policy/ | | | | | | | Parameter | | | | | | | pro | | | | | | | visioning | | | | | | | needs to | | | | | | | be | | | | | | | di | | | | | | | scovered. | | | | | | | | | | | | | | true: a | | | | | | | PCF | | | | | | | s | | | | | | | upporting | | | | | | | V2X | | | | | | | Policy/ | | | | | | | Parameter | | | | | | | pro | | | | | | | visioning | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | dis | | | | | | | covered;\ | | | | | | | false: a | | | | | | | PCF not | | | | | | | s | | | | | | | upporting | | | | | | | V2X | | | | | | | Policy/ | | | | | | | Parameter | | | | | | | pro | | | | | | | visioning | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | di | | | | | | | scovered. | | +-----------+-----------+---+-----------+-----------+-----------+ | redun | boolean | O | 0..1 | When | Query-Pa | | dant-gtpu | | | | present, | rams-Ext2 | | | | | | this IE | | | | | | | indicates | | | | | | | whether a | | | | | | | UPF | | | | | | | s | | | | | | | upporting | | | | | | | redundant | | | | | | | GTP-U | | | | | | | path | | | | | | | needs to | | | | | | | be | | | | | | | di | | | | | | | scovered. | | | | | | | | | | | | | | true: a | | | | | | | UPF | | | | | | | s | | | | | | | upporting | | | | | | | redundant | | | | | | | GTP-U | | | | | | | path is | | | | | | | requested | | | | | | | to be | | | | | | | dis | | | | | | | covered;\ | | | | | | | false: a | | | | | | | UPF not | | | | | | | s | | | | | | | upporting | | | | | | | redundant | | | | | | | GTP-U | | | | | | | path is | | | | | | | requested | | | | | | | to be | | | | | | | di | | | | | | | scovered. | | +-----------+-----------+---+-----------+-----------+-----------+ | r | boolean | O | 0..1 | When | Query-Pa | | edundant- | | | | present, | rams-Ext2 | | transport | | | | this IE | | | | | | | indicates | | | | | | | whether a | | | | | | | UPF | | | | | | | s | | | | | | | upporting | | | | | | | redundant | | | | | | | transport | | | | | | | path on | | | | | | | the | | | | | | | transport | | | | | | | layer in | | | | | | | the | | | | | | | corr | | | | | | | esponding | | | | | | | network | | | | | | | slice | | | | | | | needs to | | | | | | | be | | | | | | | di | | | | | | | scovered. | | | | | | | | | | | | | | true: a | | | | | | | UPF | | | | | | | s | | | | | | | upporting | | | | | | | redundant | | | | | | | transport | | | | | | | path on | | | | | | | the | | | | | | | transport | | | | | | | layer is | | | | | | | requested | | | | | | | to be | | | | | | | dis | | | | | | | covered;\ | | | | | | | false: a | | | | | | | UPF not | | | | | | | s | | | | | | | upporting | | | | | | | redundant | | | | | | | transport | | | | | | | path on | | | | | | | the | | | | | | | transport | | | | | | | layer is | | | | | | | requested | | | | | | | to be | | | | | | | di | | | | | | | scovered. | | | | | | | | | | | | | | If the | | | | | | | Snssai(s) | | | | | | | are also | | | | | | | included, | | | | | | | the UPF | | | | | | | s | | | | | | | upporting | | | | | | | redundant | | | | | | | transport | | | | | | | path on | | | | | | | the | | | | | | | transport | | | | | | | layer | | | | | | | shall be | | | | | | | available | | | | | | | in the | | | | | | | network | | | | | | | slice(s) | | | | | | | i | | | | | | | dentified | | | | | | | by the | | | | | | | S | | | | | | | nssai(s). | | +-----------+-----------+---+-----------+-----------+-----------+ | ipups | boolean | O | 0..1 | When | Query-Pa | | | | | | present, | rams-Ext2 | | | | | | this IE | | | | | | | indicates | | | | | | | whether a | | | | | | | UPF which | | | | | | | is | | | | | | | c | | | | | | | onfigured | | | | | | | for IPUPS | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | di | | | | | | | scovered. | | | | | | | | | | | | | | true: a | | | | | | | UPF which | | | | | | | is | | | | | | | c | | | | | | | onfigured | | | | | | | for IPUPS | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | di | | | | | | | scovered; | | | | | | | | | | | | | | false: a | | | | | | | UPF which | | | | | | | is not | | | | | | | c | | | | | | | onfigured | | | | | | | for IPUPS | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | di | | | | | | | scovered. | | +-----------+-----------+---+-----------+-----------+-----------+ | sxa-ind | boolean | O | 0..1 | When | Query-SB | | | | | | present, | IProtoc18 | | | | | | this IE | | | | | | | indicates | | | | | | | whether a | | | | | | | UPF which | | | | | | | is | | | | | | | c | | | | | | | onfigured | | | | | | | to | | | | | | | support | | | | | | | Sxa | | | | | | | interface | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | di | | | | | | | scovered. | | | | | | | | | | | | | | true: a | | | | | | | UPF which | | | | | | | is | | | | | | | c | | | | | | | onfigured | | | | | | | to | | | | | | | support | | | | | | | Sxa | | | | | | | interface | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | di | | | | | | | scovered; | | | | | | | | | | | | | | false: a | | | | | | | UPF which | | | | | | | is not | | | | | | | c | | | | | | | onfigured | | | | | | | to | | | | | | | support | | | | | | | Sxa | | | | | | | interface | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | di | | | | | | | scovered. | | +-----------+-----------+---+-----------+-----------+-----------+ | scp-do | arra | O | 1..N | When | Query-Pa | | main-list | y(string) | | | present, | rams-Ext2 | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the SCP | | | | | | | domain(s) | | | | | | | the | | | | | | | target | | | | | | | NF, SCP | | | | | | | or SEPP | | | | | | | belongs | | | | | | | to. The | | | | | | | NRF shall | | | | | | | return | | | | | | | NF, SCP | | | | | | | or SEPP | | | | | | | profiles | | | | | | | that | | | | | | | belong to | | | | | | | all the | | | | | | | SCP | | | | | | | domains | | | | | | | provided | | | | | | | in this | | | | | | | list. | | +-----------+-----------+---+-----------+-----------+-----------+ | addre | Fqdn | O | 0..1 | If | Query-Pa | | ss-domain | | | | included, | rams-Ext2 | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | address | | | | | | | domain | | | | | | | that | | | | | | | shall be | | | | | | | reachable | | | | | | | through | | | | | | | the SCP. | | | | | | | This IE | | | | | | | may be | | | | | | | included | | | | | | | when the | | | | | | | target NF | | | | | | | type is | | | | | | | \"SCP\". | | +-----------+-----------+---+-----------+-----------+-----------+ | ipv4-addr | Ipv4Addr | O | 0..1 | If | Query-Pa | | | | | | included, | rams-Ext2 | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the IPv4 | | | | | | | address | | | | | | | that | | | | | | | shall be | | | | | | | reachable | | | | | | | through | | | | | | | the SCP. | | | | | | | This IE | | | | | | | may be | | | | | | | included | | | | | | | when the | | | | | | | target NF | | | | | | | type is | | | | | | | \"SCP\". | | +-----------+-----------+---+-----------+-----------+-----------+ | ip | I | O | 0..1 | If | Query-Pa | | v6-prefix | pv6Prefix | | | included, | rams-Ext2 | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the IPv6 | | | | | | | prefix | | | | | | | that | | | | | | | shall be | | | | | | | reachable | | | | | | | through | | | | | | | the SCP. | | | | | | | This IE | | | | | | | may be | | | | | | | included | | | | | | | when the | | | | | | | target NF | | | | | | | type is | | | | | | | \"SCP\". | | +-----------+-----------+---+-----------+-----------+-----------+ | served- | NfSetId | O | 0..1 | When | Query-Pa | | nf-set-id | | | | present, | rams-Ext2 | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the NF | | | | | | | Set ID | | | | | | | that | | | | | | | shall be | | | | | | | reachable | | | | | | | through | | | | | | | the SCP. | | | | | | | This IE | | | | | | | may be | | | | | | | included | | | | | | | when the | | | | | | | target NF | | | | | | | type is | | | | | | | \"SCP\". | | +-----------+-----------+---+-----------+-----------+-----------+ | remot | PlmnId | O | 0..1 | If | Query-Pa | | e-plmn-id | | | | included, | rams-Ext2 | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | remote | | | | | | | PLMN ID | | | | | | | that | | | | | | | shall be | | | | | | | reachable | | | | | | | through | | | | | | | the SCP | | | | | | | or SEPP. | | | | | | | This IE | | | | | | | may be | | | | | | | included | | | | | | | when the | | | | | | | target NF | | | | | | | type is | | | | | | | \"SCP\" | | | | | | | or | | | | | | | \"SEPP\". | | +-----------+-----------+---+-----------+-----------+-----------+ | remot | PlmnIdNid | O | 0..1 | If | Q | | e-snpn-id | | | | included, | uery-ENPN | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | remote | | | | | | | SNPN ID | | | | | | | that | | | | | | | shall be | | | | | | | reachable | | | | | | | through | | | | | | | the SCP | | | | | | | or SEPP. | | | | | | | This IE | | | | | | | may be | | | | | | | included | | | | | | | when the | | | | | | | target NF | | | | | | | type is | | | | | | | \"SCP\" | | | | | | | or | | | | | | | \"SEPP\". | | +-----------+-----------+---+-----------+-----------+-----------+ | data-f | boolean | O | 0..1 | This may | Query-Pa | | orwarding | | | | be | rams-Ext2 | | | | | | included | | | | | | | if the | | | | | | | target NF | | | | | | | type is | | | | | | | \"UPF\". | | | | | | | (NOTE 13) | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | the IE | | | | | | | indicates | | | | | | | whether | | | | | | | UPF(s) | | | | | | | c | | | | | | | onfigured | | | | | | | for data | | | | | | | f | | | | | | | orwarding | | | | | | | needs to | | | | | | | be | | | | | | | di | | | | | | | scovered. | | | | | | | | | | | | | | true: | | | | | | | UPF(s) | | | | | | | c | | | | | | | onfigured | | | | | | | for data | | | | | | | f | | | | | | | orwarding | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | dis | | | | | | | covered;\ | | | | | | | false: | | | | | | | UPF(s) | | | | | | | not | | | | | | | c | | | | | | | onfigured | | | | | | | for data | | | | | | | f | | | | | | | orwarding | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | di | | | | | | | scovered. | | +-----------+-----------+---+-----------+-----------+-----------+ | p | boolean | O | 0..1 | When | Query-Pa | | referred- | | | | present, | rams-Ext2 | | full-plmn | | | | the NRF | | | | | | | shall | | | | | | | prefer NF | | | | | | | p | | | | | | | rofile(s) | | | | | | | that can | | | | | | | serve the | | | | | | | full PLMN | | | | | | | (i.e. can | | | | | | | serve any | | | | | | | TAI in | | | | | | | the | | | | | | | PLMN), or | | | | | | | the NRF | | | | | | | shall | | | | | | | return | | | | | | | other NF | | | | | | | profiles | | | | | | | if no NF | | | | | | | profile | | | | | | | serving | | | | | | | the full | | | | | | | PLMN is | | | | | | | found: | | | | | | | | | | | | | | - true: | | | | | | | NF | | | | | | | in | | | | | | | stance(s) | | | | | | | serving | | | | | | | the full | | | | | | | PLMN is | | | | | | | p | | | | | | | referred; | | | | | | | | | | | | | | - false: | | | | | | | NF | | | | | | | in | | | | | | | stance(s) | | | | | | | serving | | | | | | | the full | | | | | | | PLMN is | | | | | | | not | | | | | | | p | | | | | | | referred. | | | | | | | | | | | | | | (NOTE 14) | | +-----------+-----------+---+-----------+-----------+-----------+ | requester | Supporte | C | 0..1 | Nnrf_NF | | | -features | dFeatures | | | Discovery | | | | | | | features | | | | | | | supported | | | | | | | by the | | | | | | | Requester | | | | | | | NF that | | | | | | | is | | | | | | | invoking | | | | | | | the | | | | | | | Nnrf_NF | | | | | | | Discovery | | | | | | | service. | | | | | | | | | | | | | | This IE | | | | | | | shall be | | | | | | | included | | | | | | | if at | | | | | | | least one | | | | | | | of the | | | | | | | following | | | | | | | features | | | | | | | is | | | | | | | supported | | | | | | | by the | | | | | | | Requester | | | | | | | NF: | | | | | | | | | | | | | | - | | | | | | | Se | | | | | | | rvice-Map | | | | | | | | | | | | | | - | | | | | | | Enh-NF- | | | | | | | Discovery | | | | | | | | | | | | | | This IE | | | | | | | may be | | | | | | | included | | | | | | | o | | | | | | | therwise. | | +-----------+-----------+---+-----------+-----------+-----------+ | realm-id | string | O | 0..1 | May be | Query-Pa | | | | | | included | rams-Ext4 | | | | | | if the | | | | | | | target NF | | | | | | | type is | | | | | | | \"UDSF\". | | | | | | | If | | | | | | | included, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | realm-id | | | | | | | for which | | | | | | | a UDSF | | | | | | | shall be | | | | | | | di | | | | | | | scovered. | | +-----------+-----------+---+-----------+-----------+-----------+ | s | string | O | 0..1 | May be | Query-Pa | | torage-id | | | | included | rams-Ext4 | | | | | | if the | | | | | | | target NF | | | | | | | type is | | | | | | | \"UDSF\" | | | | | | | and | | | | | | | realm-id | | | | | | | is | | | | | | | included. | | | | | | | If | | | | | | | included, | | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | s | | | | | | | torage-id | | | | | | | for the | | | | | | | realm-id | | | | | | | indicated | | | | | | | in the | | | | | | | realm-id | | | | | | | IE for | | | | | | | which a | | | | | | | UDSF | | | | | | | shall be | | | | | | | di | | | | | | | scovered. | | +-----------+-----------+---+-----------+-----------+-----------+ | vsmf-su | boolean | O | 0..1 | This IE | Query-Par | | pport-ind | | | | may be | am-vSmf-C | | | | | | included | apability | | | | | | when the | | | | | | | target NF | | | | | | | type is | | | | | | | \"SMF\". | | | | | | | | | | | | | | - true: | | | | | | | Target | | | | | | | SMF(s) | | | | | | | s | | | | | | | upporting | | | | | | | V-SMF are | | | | | | | preferred | | | | | | | to be | | | | | | | di | | | | | | | scovered; | | | | | | | | | | | | | | - false: | | | | | | | Shall be | | | | | | | handled | | | | | | | the same | | | | | | | way as | | | | | | | when this | | | | | | | optional | | | | | | | query | | | | | | | parameter | | | | | | | is not | | | | | | | received. | | | | | | | | | | | | | | (NOTE 15) | | +-----------+-----------+---+-----------+-----------+-----------+ | ismf-su | boolean | O | 0..1 | This IE | Query-Par | | pport-ind | | | | may be | am-iSmf-C | | | | | | included | apability | | | | | | when the | | | | | | | target NF | | | | | | | type is | | | | | | | \"SMF\". | | | | | | | | | | | | | | - true: | | | | | | | Target | | | | | | | SMF(s) | | | | | | | s | | | | | | | upporting | | | | | | | I-SMF are | | | | | | | preferred | | | | | | | to be | | | | | | | di | | | | | | | scovered; | | | | | | | | | | | | | | - false: | | | | | | | Shall be | | | | | | | handled | | | | | | | the same | | | | | | | way as | | | | | | | when this | | | | | | | optional | | | | | | | query | | | | | | | parameter | | | | | | | is not | | | | | | | received. | | | | | | | | | | | | | | (NOTE 15) | | +-----------+-----------+---+-----------+-----------+-----------+ | nrf | Uri | C | 0..1 | If | Enh-NF- | | -disc-uri | | | | included, | Discovery | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the API | | | | | | | URI of | | | | | | | the | | | | | | | NF | | | | | | | Discovery | | | | | | | Service | | | | | | | (see | | | | | | | clause | | | | | | | 6.2.1) of | | | | | | | the NRF | | | | | | | holding | | | | | | | the NF | | | | | | | Profile. | | | | | | | | | | | | | | It shall | | | | | | | be | | | | | | | included | | | | | | | if: | | | | | | | | | | | | | | - the | | | | | | | tar | | | | | | | get-nf-in | | | | | | | stance-id | | | | | | | or | | | | | | | target-n | | | | | | | f-instanc | | | | | | | e-id-list | | | | | | | is | | | | | | | present; | | | | | | | | | | | | | | - the NF | | | | | | | Service | | | | | | | Consumer | | | | | | | has | | | | | | | p | | | | | | | reviously | | | | | | | received | | | | | | | such API | | | | | | | URI in an | | | | | | | earlier | | | | | | | NF | | | | | | | service | | | | | | | d | | | | | | | iscovery, | | | | | | | i.e. if | | | | | | | the | | | | | | | target NF | | | | | | | instance | | | | | | | was | | | | | | | provided | | | | | | | in the | | | | | | | nfIns | | | | | | | tanceList | | | | | | | attribute | | | | | | | in | | | | | | | Sea | | | | | | | rchResult | | | | | | | (see | | | | | | | clause 6 | | | | | | | .2.6.2.2) | | | | | | | and the | | | | | | | nrfD | | | | | | | iscApiUri | | | | | | | attribute | | | | | | | was | | | | | | | present | | | | | | | in the | | | | | | | NfIns | | | | | | | tanceInfo | | | | | | | (see | | | | | | | clause 6. | | | | | | | 2.6.2.7); | | | | | | | and | | | | | | | | | | | | | | - the | | | | | | | service | | | | | | | discovery | | | | | | | request | | | | | | | is | | | | | | | addressed | | | | | | | to a | | | | | | | different | | | | | | | NRF than | | | | | | | the NRF | | | | | | | holding | | | | | | | the NF | | | | | | | profile. | | +-----------+-----------+---+-----------+-----------+-----------+ | preferr | ma | O | 1..N(1. | When | Query-SB | | ed-vendor | p(map(arr | | .M(1..L)) | present, | IProtoc17 | | -specific | ay(Vendor | | | this IE | | | -features | SpecificF | | | indicates | | | | eature))) | | | the list | | | | | | | of | | | | | | | preferred | | | | | | | vendor | | | | | | | -specific | | | | | | | features | | | | | | | supported | | | | | | | by the | | | | | | | target | | | | | | | Network | | | | | | | Function, | | | | | | | as | | | | | | | defined | | | | | | | by the | | | | | | | supp | | | | | | | ortedVend | | | | | | | orSpecifi | | | | | | | cFeatures | | | | | | | attribute | | | | | | | in | | | | | | | NFService | | | | | | | (see | | | | | | | clauses | | | | | | | 6.1.6.2.3 | | | | | | | and | | | | | | | 6. | | | | | | | 2.6.2.4). | | | | | | | NF | | | | | | | profiles | | | | | | | that | | | | | | | support | | | | | | | all the | | | | | | | preferred | | | | | | | features, | | | | | | | or by | | | | | | | default, | | | | | | | NF | | | | | | | profiles | | | | | | | that | | | | | | | contain | | | | | | | at least | | | | | | | one | | | | | | | service | | | | | | | s | | | | | | | upporting | | | | | | | the | | | | | | | preferred | | | | | | | features, | | | | | | | should be | | | | | | | prefe | | | | | | | rentially | | | | | | | returned | | | | | | | in the | | | | | | | response; | | | | | | | NF | | | | | | | profiles | | | | | | | in the | | | | | | | response | | | | | | | may not | | | | | | | support | | | | | | | the | | | | | | | preferred | | | | | | | features. | | | | | | | | | | | | | | The key | | | | | | | of the | | | | | | | external | | | | | | | map is | | | | | | | the | | | | | | | Se | | | | | | | rviceName | | | | | | | (see | | | | | | | clause 6. | | | | | | | 1.6.3.11) | | | | | | | for which | | | | | | | the | | | | | | | preferred | | | | | | | vendor | | | | | | | -specific | | | | | | | features | | | | | | | is | | | | | | | i | | | | | | | ndicated. | | | | | | | Each | | | | | | | element | | | | | | | carries | | | | | | | the | | | | | | | preferred | | | | | | | vendor | | | | | | | -specific | | | | | | | features | | | | | | | for the | | | | | | | service | | | | | | | indicated | | | | | | | by the | | | | | | | key. | | | | | | | | | | | | | | The key | | | | | | | of the | | | | | | | internal | | | | | | | map is | | | | | | | the | | | | | | | IANA | | | | | | | -assigned | | | | | | | \"SMI | | | | | | | Network | | | | | | | M | | | | | | | anagement | | | | | | | Private | | | | | | | E | | | | | | | nterprise | | | | | | | Codes\ | | | | | | | " [38]. | | | | | | | The | | | | | | | string | | | | | | | used as | | | | | | | key of | | | | | | | the | | | | | | | internal | | | | | | | map shall | | | | | | | contain 6 | | | | | | | decimal | | | | | | | digits; | | | | | | | if the | | | | | | | SMI code | | | | | | | has less | | | | | | | than 6 | | | | | | | digits, | | | | | | | it shall | | | | | | | be padded | | | | | | | with | | | | | | | leading | | | | | | | digits | | | | | | | \"0\" to | | | | | | | complete | | | | | | | a 6-digit | | | | | | | string | | | | | | | value. | | | | | | | | | | | | | | The value | | | | | | | of each | | | | | | | entry of | | | | | | | the map | | | | | | | shall be | | | | | | | a list | | | | | | | (array) | | | | | | | of | | | | | | | Ven | | | | | | | dorSpecif | | | | | | | icFeature | | | | | | | objects. | | | | | | | | | | | | | | The NF | | | | | | | profiles | | | | | | | returned | | | | | | | by the | | | | | | | NRF shall | | | | | | | include | | | | | | | the full | | | | | | | list of | | | | | | | vendor | | | | | | | -specific | | | | | | | -features | | | | | | | and not | | | | | | | just the | | | | | | | in | | | | | | | terclause | | | | | | | of | | | | | | | supported | | | | | | | and | | | | | | | preferred | | | | | | | vendor | | | | | | | -specific | | | | | | | features. | | +-----------+-----------+---+-----------+-----------+-----------+ | p | map(ar | O | 1 | When | Query-SB | | referred- | ray(Vendo | | ..N(1..M) | present, | IProtoc17 | | vendor-sp | rSpecific | | | this IE | | | ecific-nf | Feature)) | | | indicates | | | -features | | | | the list | | | | | | | of | | | | | | | preferred | | | | | | | vendor | | | | | | | -specific | | | | | | | features | | | | | | | supported | | | | | | | by the | | | | | | | target | | | | | | | Network | | | | | | | Function, | | | | | | | as | | | | | | | defined | | | | | | | by the | | | | | | | supp | | | | | | | ortedVend | | | | | | | orSpecifi | | | | | | | cFeatures | | | | | | | attribute | | | | | | | in NF | | | | | | | profile | | | | | | | (see | | | | | | | clause | | | | | | | 6.1.6.2.2 | | | | | | | and | | | | | | | 6. | | | | | | | 2.6.2.3). | | | | | | | NF | | | | | | | profiles | | | | | | | that | | | | | | | support | | | | | | | all the | | | | | | | preferred | | | | | | | features | | | | | | | should be | | | | | | | prefe | | | | | | | rentially | | | | | | | returned | | | | | | | in the | | | | | | | response. | | | | | | | NF | | | | | | | profiles | | | | | | | in the | | | | | | | response | | | | | | | may not | | | | | | | support | | | | | | | the | | | | | | | preferred | | | | | | | features. | | | | | | | | | | | | | | The key | | | | | | | of the | | | | | | | map is | | | | | | | the | | | | | | | IANA | | | | | | | -assigned | | | | | | | \"SMI | | | | | | | Network | | | | | | | M | | | | | | | anagement | | | | | | | Private | | | | | | | E | | | | | | | nterprise | | | | | | | Codes\ | | | | | | | " [38]. | | | | | | | The value | | | | | | | of each | | | | | | | entry of | | | | | | | the map | | | | | | | shall be | | | | | | | a list | | | | | | | (array) | | | | | | | of | | | | | | | Ven | | | | | | | dorSpecif | | | | | | | icFeature | | | | | | | objects. | | | | | | | | | | | | | | The NF | | | | | | | profiles | | | | | | | returned | | | | | | | by the | | | | | | | NRF shall | | | | | | | include | | | | | | | the full | | | | | | | list of | | | | | | | vendor | | | | | | | -specific | | | | | | | features | | | | | | | and not | | | | | | | just the | | | | | | | in | | | | | | | terclause | | | | | | | of | | | | | | | supported | | | | | | | and | | | | | | | preferred | | | | | | | vendor | | | | | | | -specific | | | | | | | features. | | +-----------+-----------+---+-----------+-----------+-----------+ | requ | string | O | 0..1 | List of | Query | | ired-pfcp | | | | features | -Upf-Pfcp | | -features | | | | required | | | | | | | to be | | | | | | | supported | | | | | | | by the | | | | | | | target | | | | | | | UPF or | | | | | | | MB-UPF | | | | | | | (when | | | | | | | selecting | | | | | | | a UPF or | | | | | | | a | | | | | | | MB-UPF), | | | | | | | encoded | | | | | | | as | | | | | | | defined | | | | | | | for the | | | | | | | sup | | | | | | | portedPfc | | | | | | | pFeatures | | | | | | | attribute | | | | | | | in | | | | | | | UpfInfo | | | | | | | (see | | | | | | | c | | | | | | | lause 6.1 | | | | | | | .6.2.13). | | | | | | | | | | | | | | (NOTE 16) | | +-----------+-----------+---+-----------+-----------+-----------+ | home-p | integer | O | 0..1 | When | Query-SB | | ub-key-id | | | | present, | IProtoc17 | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the Home | | | | | | | Network | | | | | | | Public | | | | | | | Key ID | | | | | | | which | | | | | | | shall be | | | | | | | able to | | | | | | | be served | | | | | | | by the NF | | | | | | | instance. | | | | | | | | | | | | | | May be | | | | | | | included | | | | | | | if the | | | | | | | target NF | | | | | | | type is | | | | | | | \"AUSF\" | | | | | | | or | | | | | | | \"UDM\". | | | | | | | This | | | | | | | query | | | | | | | parameter | | | | | | | may only | | | | | | | be | | | | | | | present | | | | | | | if the | | | | | | | routing- | | | | | | | indicator | | | | | | | query | | | | | | | parameter | | | | | | | is also | | | | | | | present. | | | | | | | | | | | | | | (NOTE 17) | | +-----------+-----------+---+-----------+-----------+-----------+ | prose-su | boolean | O | 0..1 | When | Query | | pport-ind | | | | present, | -5G-ProSe | | | | | | this IE | | | | | | | indicates | | | | | | | whether | | | | | | | s | | | | | | | upporting | | | | | | | ProSe | | | | | | | c | | | | | | | apability | | | | | | | by PCF | | | | | | | needs to | | | | | | | be | | | | | | | di | | | | | | | scovered. | | | | | | | | | | | | | | - true: | | | | | | | a PCF | | | | | | | s | | | | | | | upporting | | | | | | | ProSe | | | | | | | c | | | | | | | apability | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | di | | | | | | | scovered; | | | | | | | | | | | | | | - false: | | | | | | | a PCF not | | | | | | | s | | | | | | | upporting | | | | | | | ProSe | | | | | | | c | | | | | | | apability | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | di | | | | | | | scovered. | | +-----------+-----------+---+-----------+-----------+-----------+ | analyti | boolean | O | 0..1 | This IE | Quer | | cs-aggreg | | | | may be | y-eNA-PH2 | | ation-ind | | | | included | | | | | | | when the | | | | | | | target NF | | | | | | | type is | | | | | | | \ | | | | | | | "NWDAF\". | | | | | | | | | | | | | | - true: | | | | | | | An NF | | | | | | | s | | | | | | | upporting | | | | | | | analytics | | | | | | | ag | | | | | | | gregation | | | | | | | c | | | | | | | apability | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | di | | | | | | | scovered; | | | | | | | | | | | | | | - false: | | | | | | | Shall be | | | | | | | handled | | | | | | | the same | | | | | | | way as | | | | | | | when this | | | | | | | optional | | | | | | | query | | | | | | | parameter | | | | | | | is not | | | | | | | received. | | +-----------+-----------+---+-----------+-----------+-----------+ | analytics | boolean | O | 0..1 | This IE | Quer | | -metadata | | | | may be | y-eNA-PH2 | | -prov-ind | | | | included | | | | | | | when the | | | | | | | target NF | | | | | | | type is | | | | | | | \ | | | | | | | "NWDAF\". | | | | | | | | | | | | | | - true: | | | | | | | An NF | | | | | | | s | | | | | | | upporting | | | | | | | analytics | | | | | | | metadata | | | | | | | pro | | | | | | | visioning | | | | | | | c | | | | | | | apability | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | di | | | | | | | scovered; | | | | | | | | | | | | | | - false: | | | | | | | Shall be | | | | | | | handled | | | | | | | the same | | | | | | | way as | | | | | | | when this | | | | | | | optional | | | | | | | query | | | | | | | parameter | | | | | | | is not | | | | | | | received. | | +-----------+-----------+---+-----------+-----------+-----------+ | serving- | NfSetId | O | 0..1 | When | Quer | | nf-set-id | | | | present, | y-eNA-PH2 | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the NF | | | | | | | Set ID | | | | | | | that is | | | | | | | served by | | | | | | | the DCCF, | | | | | | | NWDAF or | | | | | | | MFAF. | | | | | | | This IE | | | | | | | may be | | | | | | | included | | | | | | | when the | | | | | | | target NF | | | | | | | type is | | | | | | | \"DCCF\" | | | | | | | or | | | | | | | \"NWDAF\" | | | | | | | or | | | | | | | \"MFAF\". | | +-----------+-----------+---+-----------+-----------+-----------+ | servin | NFType | O | 0..1 | When | Quer | | g-nf-type | | | | present, | y-eNA-PH2 | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the NF | | | | | | | type that | | | | | | | is served | | | | | | | by the | | | | | | | DCCF, | | | | | | | NWDAF or | | | | | | | MFAF. | | | | | | | This IE | | | | | | | may be | | | | | | | included | | | | | | | when the | | | | | | | target NF | | | | | | | type is | | | | | | | \"DCCF\" | | | | | | | or | | | | | | | \"NWDAF\" | | | | | | | or | | | | | | | \"MFAF\". | | +-----------+-----------+---+-----------+-----------+-----------+ | ml-a | arra | O | 1..N | If | Quer | | nalytics- | y(MlAnaly | | | present, | y-eNA-PH2 | | info-list | ticsInfo) | | | this | | | | | | | attribute | | | | | | | shall | | | | | | | contain | | | | | | | the list | | | | | | | of ML | | | | | | | Analytics | | | | | | | Filter | | | | | | | in | | | | | | | formation | | | | | | | per | | | | | | | Analytics | | | | | | | ID(s) | | | | | | | requested | | | | | | | to be | | | | | | | supported | | | | | | | by the | | | | | | | Nnwdaf | | | | | | | _MLModel | | | | | | | Provision | | | | | | | Service. | | | | | | | The NRF | | | | | | | shall | | | | | | | return | | | | | | | NWDAF | | | | | | | profiles | | | | | | | that | | | | | | | support | | | | | | | at least | | | | | | | one of | | | | | | | the | | | | | | | MlAnal | | | | | | | yticsInfo | | | | | | | in this | | | | | | | list. | | +-----------+-----------+---+-----------+-----------+-----------+ | nsacf-c | NsacfC | O | 0..1 | When | NSAC | | apability | apability | | | present, | | | | | | | this IE | | | | | | | indicates | | | | | | | the | | | | | | | service | | | | | | | c | | | | | | | apability | | | | | | | that the | | | | | | | target | | | | | | | NSACF | | | | | | | needs to | | | | | | | support. | | +-----------+-----------+---+-----------+-----------+-----------+ | m | a | O | 0..1 | This IE | Query-MBS | | bs-sessio | rray(MbsS | | | may be | | | n-id-list | essionId) | | | present | | | | | | | if the | | | | | | | target NF | | | | | | | type is | | | | | | | \" | | | | | | | MB-SMF\". | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | it shall | | | | | | | contain | | | | | | | the list | | | | | | | of MBS | | | | | | | Session | | | | | | | ID(s) for | | | | | | | which | | | | | | | MB-SMF(s) | | | | | | | are to be | | | | | | | di | | | | | | | scovered. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | for each | | | | | | | mbs-s | | | | | | | ession-id | | | | | | | in the | | | | | | | list, the | | | | | | | NRF shall | | | | | | | determine | | | | | | | whether | | | | | | | an MB-SMF | | | | | | | s | | | | | | | upporting | | | | | | | the | | | | | | | mbs-s | | | | | | | ession-id | | | | | | | and | | | | | | | complying | | | | | | | with the | | | | | | | other | | | | | | | query | | | | | | | p | | | | | | | arameters | | | | | | | (if any) | | | | | | | exists. | | | | | | | An MB-SMF | | | | | | | shall be | | | | | | | c | | | | | | | onsidered | | | | | | | to | | | | | | | support | | | | | | | the | | | | | | | mbs-s | | | | | | | ession-id | | | | | | | if: | | | | | | | | | | | | | | - the | | | | | | | mbs-s | | | | | | | ession-id | | | | | | | contains | | | | | | | a TMGI | | | | | | | that is | | | | | | | part of a | | | | | | | TMGI | | | | | | | range | | | | | | | (see | | | | | | | tmgi | | | | | | | RangeList | | | | | | | attribute | | | | | | | in | | | | | | | clause 6. | | | | | | | 1.6.2.85) | | | | | | | r | | | | | | | egistered | | | | | | | by the | | | | | | | MB-SMF | | | | | | | and, if | | | | | | | the tai | | | | | | | query | | | | | | | parameter | | | | | | | is | | | | | | | present: | | | | | | | | | | | | | | - if the | | | | | | | TAI | | | | | | | indicated | | | | | | | in the | | | | | | | tai query | | | | | | | parameter | | | | | | | can be | | | | | | | served by | | | | | | | the | | | | | | | MB-SMF | | | | | | | (see | | | | | | | taiList | | | | | | | and | | | | | | | tai | | | | | | | RangeList | | | | | | | a | | | | | | | ttributes | | | | | | | in | | | | | | | c | | | | | | | lause 6.1 | | | | | | | .6.2.85); | | | | | | | | | | | | | | or | | | | | | | | | | | | | | - the | | | | | | | mbs-s | | | | | | | ession-id | | | | | | | contains | | | | | | | a TMGI or | | | | | | | an SSM | | | | | | | address, | | | | | | | that is | | | | | | | part of | | | | | | | the list | | | | | | | of MBS | | | | | | | sessions | | | | | | | currently | | | | | | | served by | | | | | | | the | | | | | | | MB-SMF | | | | | | | (see | | | | | | | mbsSe | | | | | | | ssionList | | | | | | | attribute | | | | | | | in | | | | | | | clause 6. | | | | | | | 1.6.2.85) | | | | | | | and, if | | | | | | | the tai | | | | | | | query | | | | | | | parameter | | | | | | | is | | | | | | | present | | | | | | | and the | | | | | | | MBS | | | | | | | session | | | | | | | is | | | | | | | r | | | | | | | egistered | | | | | | | with an | | | | | | | MBS | | | | | | | Service | | | | | | | Area (see | | | | | | | mbsSe | | | | | | | rviceArea | | | | | | | in | | | | | | | c | | | | | | | lause 6.1 | | | | | | | .6.2.90): | | | | | | | | | | | | | | - if the | | | | | | | TAI | | | | | | | indicated | | | | | | | in the | | | | | | | tai query | | | | | | | parameter | | | | | | | is | | | | | | | supported | | | | | | | by the | | | | | | | MBS | | | | | | | Service | | | | | | | Area of | | | | | | | the MBS | | | | | | | session. | | | | | | | | | | | | | | If so, | | | | | | | the NRF | | | | | | | shall | | | | | | | return | | | | | | | the | | | | | | | profile | | | | | | | of this | | | | | | | MB-SMF. | | | | | | | If no | | | | | | | MB-SMF | | | | | | | s | | | | | | | upporting | | | | | | | the | | | | | | | mbs-s | | | | | | | ession-id | | | | | | | and | | | | | | | complying | | | | | | | with the | | | | | | | other | | | | | | | query | | | | | | | p | | | | | | | arameters | | | | | | | exists, | | | | | | | the NRF | | | | | | | shall | | | | | | | return an | | | | | | | empty | | | | | | | response. | | | | | | | | | | | | | | See | | | | | | | cla | | | | | | | use 7.1.2 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.24 | | | | | | | 7 [43]. | | +-----------+-----------+---+-----------+-----------+-----------+ | area-s | Area | O | 0..1 | This IE | Query-MBS | | ession-id | SessionId | | | may be | | | | | | | present | | | | | | | if the | | | | | | | target NF | | | | | | | type is | | | | | | | \" | | | | | | | MB-SMF\", | | | | | | | the | | | | | | | m | | | | | | | bs-sessio | | | | | | | n-id-list | | | | | | | IE is | | | | | | | present | | | | | | | and | | | | | | | contains | | | | | | | only one | | | | | | | MBS | | | | | | | Session | | | | | | | ID. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | the IE | | | | | | | shall | | | | | | | contain | | | | | | | the Area | | | | | | | Session | | | | | | | ID, for | | | | | | | the MBS | | | | | | | session | | | | | | | indicated | | | | | | | in the | | | | | | | m | | | | | | | bs-sessio | | | | | | | n-id-list | | | | | | | IE, for | | | | | | | which an | | | | | | | MB-SMF is | | | | | | | to be | | | | | | | di | | | | | | | scovered. | | | | | | | | | | | | | | When this | | | | | | | IE is | | | | | | | present, | | | | | | | the NRF | | | | | | | shall | | | | | | | return an | | | | | | | MB-SMF | | | | | | | profile | | | | | | | that | | | | | | | currently | | | | | | | serves | | | | | | | the MBS | | | | | | | Session | | | | | | | ID and | | | | | | | Area | | | | | | | Session | | | | | | | ID (see | | | | | | | mbsSe | | | | | | | ssionList | | | | | | | attribute | | | | | | | in | | | | | | | c | | | | | | | lause 6.1 | | | | | | | .6.2.85). | | | | | | | | | | | | | | If no | | | | | | | MB-SMF | | | | | | | supports | | | | | | | the MBS | | | | | | | Session | | | | | | | ID and | | | | | | | Area | | | | | | | Session | | | | | | | ID, the | | | | | | | NRF shall | | | | | | | return an | | | | | | | empty | | | | | | | response. | | | | | | | | | | | | | | See | | | | | | | cla | | | | | | | use 7.1.2 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 23.24 | | | | | | | 7 [43]. | | +-----------+-----------+---+-----------+-----------+-----------+ | gm | string | O | 0..1 | If | Q | | lc-number | | | | included, | uery-eLCS | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the GMLC | | | | | | | Number of | | | | | | | which | | | | | | | should | | | | | | | supported | | | | | | | by the | | | | | | | target | | | | | | | GMLC. It | | | | | | | may be | | | | | | | included | | | | | | | if the | | | | | | | target NF | | | | | | | type is | | | | | | | \"GMLC\". | | | | | | | | | | | | | | Pattern: | | | | | | | \"\ | | | | | | | ^[0-9]{ | | | | | | | 5,15}\$\" | | +-----------+-----------+---+-----------+-----------+-----------+ | upf-n6-ip | IpAddr | O | 0..1 | If | Query- | | | | | | included, | eEDGE-5GC | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the N6 IP | | | | | | | address | | | | | | | of PSA | | | | | | | UPF. | | | | | | | | | | | | | | It may be | | | | | | | included | | | | | | | if the | | | | | | | target NF | | | | | | | type is | | | | | | | \ | | | | | | | "EASDF\". | | +-----------+-----------+---+-----------+-----------+-----------+ | tai-list | a | O | 1..N | If | Query- | | | rray(Tai) | | | included, | eEDGE-5GC | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | Tracking | | | | | | | Area | | | | | | | I | | | | | | | dentities | | | | | | | requested | | | | | | | to be | | | | | | | supported | | | | | | | by the | | | | | | | NFs being | | | | | | | di | | | | | | | scovered. | | | | | | | The NRF | | | | | | | shall | | | | | | | return | | | | | | | NFs which | | | | | | | support | | | | | | | all the | | | | | | | TAIs in | | | | | | | the list. | | | | | | | It may be | | | | | | | included | | | | | | | if the | | | | | | | target NF | | | | | | | type is | | | | | | | \"NEF\", | | | | | | | \ | | | | | | | "MB-SMF\" | | | | | | | or | | | | | | | \"AMF\". | | | | | | | | | | | | | | (NOTE 28) | | +-----------+-----------+---+-----------+-----------+-----------+ | nf-tai | boolean | O | 0..1 | This | Query-SB | | -list-ind | | | | query | IProtoc18 | | | | | | parameter | | | | | | | may be | | | | | | | present | | | | | | | with the | | | | | | | value | | | | | | | true if | | | | | | | the | | | | | | | tai-list | | | | | | | query | | | | | | | parameter | | | | | | | is | | | | | | | present | | | | | | | and the | | | | | | | NF | | | | | | | service | | | | | | | consumer | | | | | | | supports | | | | | | | receiving | | | | | | | from the | | | | | | | NRF a | | | | | | | list of | | | | | | | NFs | | | | | | | s | | | | | | | upporting | | | | | | | only a | | | | | | | subset of | | | | | | | the TAs | | | | | | | included | | | | | | | in the | | | | | | | tai-list. | | | | | | | (NOTE 28) | | | | | | | | | | | | | | Presence | | | | | | | of this | | | | | | | IE with | | | | | | | false | | | | | | | value | | | | | | | shall be | | | | | | | pr | | | | | | | ohibited. | | +-----------+-----------+---+-----------+-----------+-----------+ | pref | arra | O | 2..N | This IE | Query-SB | | erences-p | y(string) | | | may be | IProtoc17 | | recedence | | | | present | | | | | | | when | | | | | | | multiple | | | | | | | query | | | | | | | p | | | | | | | arameters | | | | | | | e | | | | | | | xpressing | | | | | | | a | | | | | | | p | | | | | | | reference | | | | | | | are | | | | | | | included | | | | | | | in the | | | | | | | discovery | | | | | | | request. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | relative | | | | | | | p | | | | | | | recedence | | | | | | | of these | | | | | | | query | | | | | | | p | | | | | | | arameters | | | | | | | (from | | | | | | | higher | | | | | | | p | | | | | | | recedence | | | | | | | to lower | | | | | | | pre | | | | | | | cedence). | | | | | | | The NRF | | | | | | | shall use | | | | | | | the | | | | | | | indicated | | | | | | | p | | | | | | | recedence | | | | | | | to | | | | | | | p | | | | | | | rioritize | | | | | | | the | | | | | | | candidate | | | | | | | NFs in | | | | | | | the | | | | | | | search | | | | | | | result, | | | | | | | among the | | | | | | | candidate | | | | | | | NFs | | | | | | | partially | | | | | | | matching | | | | | | | the | | | | | | | different | | | | | | | p | | | | | | | reference | | | | | | | query | | | | | | | pa | | | | | | | rameters, | | | | | | | candidate | | | | | | | matching | | | | | | | the | | | | | | | higher | | | | | | | p | | | | | | | recedence | | | | | | | p | | | | | | | reference | | | | | | | query | | | | | | | parameter | | | | | | | should | | | | | | | have | | | | | | | higher | | | | | | | priority. | | | | | | | | | | | | | | This IE | | | | | | | may | | | | | | | include | | | | | | | any query | | | | | | | parameter | | | | | | | named | | | | | | | \"prefer | | | | | | | red-xxx\" | | | | | | | or | | | | | | | \"e | | | | | | | xt-prefer | | | | | | | red-xxx\" | | | | | | | (e.g. | | | | | | | p | | | | | | | referred- | | | | | | | locality, | | | | | | | prefer | | | | | | | red-tai). | | | | | | | | | | | | | | Example: | | | | | | | | | | | | | | pre | | | | | | | ferences- | | | | | | | precedenc | | | | | | | e=[prefe | | | | | | | rred-tai, | | | | | | | preferred | | | | | | | -vendor-s | | | | | | | pecific-f | | | | | | | eatures] | | | | | | | | | | | | | | The above | | | | | | | value | | | | | | | indicates | | | | | | | that the | | | | | | | \"prefer | | | | | | | red-tai\" | | | | | | | parameter | | | | | | | has | | | | | | | higher | | | | | | | p | | | | | | | recedence | | | | | | | than the | | | | | | | \" | | | | | | | preferred | | | | | | | -vendor-s | | | | | | | pecific-f | | | | | | | eatures\" | | | | | | | p | | | | | | | arameter. | | +-----------+-----------+---+-----------+-----------+-----------+ | su | boolean | O | 0..1 | If | Q | | pport-onb | | | | present, | uery-ENPN | | oarding-c | | | | this | | | apability | | | | attribute | | | | | | | indicates | | | | | | | the | | | | | | | target | | | | | | | AMF or | | | | | | | SMF | | | | | | | instances | | | | | | | support | | | | | | | SNPN | | | | | | | On | | | | | | | boarding. | | | | | | | If the | | | | | | | target is | | | | | | | an SMF, | | | | | | | this | | | | | | | indicates | | | | | | | the SMF | | | | | | | also | | | | | | | supports | | | | | | | User | | | | | | | Plane | | | | | | | Remote | | | | | | | Prov | | | | | | | isioning. | | | | | | | This is | | | | | | | used for | | | | | | | the case | | | | | | | of | | | | | | | O | | | | | | | nboarding | | | | | | | of UEs | | | | | | | for SNPNs | | | | | | | (see 3GPP | | | | | | | TS 23.501 | | | | | | | [2], | | | | | | | clauses | | | | | | | 5.30.2.10 | | | | | | | and | | | | | | | 6.2.6.2). | | | | | | | | | | | | | | - true: | | | | | | | An NF | | | | | | | s | | | | | | | upporting | | | | | | | SNPN | | | | | | | O | | | | | | | nboarding | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | di | | | | | | | scovered; | | | | | | | | | | | | | | - false: | | | | | | | Shall be | | | | | | | handled | | | | | | | the same | | | | | | | way as | | | | | | | when this | | | | | | | optional | | | | | | | query | | | | | | | parameter | | | | | | | is not | | | | | | | received. | | +-----------+-----------+---+-----------+-----------+-----------+ | uas-nf | boolean | O | 0..1 | This IE | Quer | | -function | | | | may be | y-ID_UAS | | ality-ind | | | | included | | | | | | | when the | | | | | | | target NF | | | | | | | type is | | | | | | | \"NEF\". | | | | | | | | | | | | | | - true: | | | | | | | An NF | | | | | | | s | | | | | | | upporting | | | | | | | UAS NF | | | | | | | func | | | | | | | tionality | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | di | | | | | | | scovered; | | | | | | | | | | | | | | - false: | | | | | | | Shall be | | | | | | | handled | | | | | | | the same | | | | | | | way as | | | | | | | when this | | | | | | | optional | | | | | | | query | | | | | | | parameter | | | | | | | is not | | | | | | | received. | | +-----------+-----------+---+-----------+-----------+-----------+ | multi-m | boolean | O | 0..1 | This IE | Quer | | em-af-ses | | | | may be | y-AIMLsys | | s-qos-ind | | | | included | | | | | | | when the | | | | | | | target NF | | | | | | | type is | | | | | | | \"NEF\". | | | | | | | | | | | | | | - true: | | | | | | | An NF | | | | | | | s | | | | | | | upporting | | | | | | | Mul | | | | | | | ti-member | | | | | | | AF | | | | | | | session | | | | | | | with | | | | | | | required | | | | | | | QoS | | | | | | | func | | | | | | | tionality | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | di | | | | | | | scovered. | | | | | | | | | | | | | | Presence | | | | | | | of this | | | | | | | IE with | | | | | | | false | | | | | | | value | | | | | | | shall be | | | | | | | pr | | | | | | | ohibited. | | +-----------+-----------+---+-----------+-----------+-----------+ | member | boolean | O | 0..1 | This IE | Quer | | -ue-sel-a | | | | may be | y-AIMLsys | | ssist-ind | | | | included | | | | | | | when the | | | | | | | target NF | | | | | | | type is | | | | | | | \"NEF\". | | | | | | | | | | | | | | - true: | | | | | | | An NF | | | | | | | s | | | | | | | upporting | | | | | | | member UE | | | | | | | selection | | | | | | | a | | | | | | | ssistance | | | | | | | func | | | | | | | tionality | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | di | | | | | | | scovered; | | | | | | | | | | | | | | Presence | | | | | | | of this | | | | | | | IE with | | | | | | | false | | | | | | | value | | | | | | | shall be | | | | | | | pr | | | | | | | ohibited. | | +-----------+-----------+---+-----------+-----------+-----------+ | v2x-c | V2xC | O | 0..1 | When | Query-SB | | apability | apability | | | present, | IProtoc17 | | | | | | this IE | | | | | | | indicates | | | | | | | the V2X | | | | | | | c | | | | | | | apability | | | | | | | that the | | | | | | | target | | | | | | | PCF needs | | | | | | | to | | | | | | | support. | | | | | | | | | | | | | | When the | | | | | | | v2x-c | | | | | | | apability | | | | | | | is | | | | | | | provided | | | | | | | as the | | | | | | | query | | | | | | | p | | | | | | | arameter, | | | | | | | NRF shall | | | | | | | return | | | | | | | the PCF | | | | | | | instances | | | | | | | which | | | | | | | support | | | | | | | all the | | | | | | | V2X | | | | | | | cap | | | | | | | abilities | | | | | | | r | | | | | | | equested. | | +-----------+-----------+---+-----------+-----------+-----------+ | prose-c | ProSeC | O | 0..1 | When | Query | | apability | apability | | | present, | -5G-ProSe | | | | | | this IE | | | | | | | indicates | | | | | | | the ProSe | | | | | | | c | | | | | | | apability | | | | | | | that the | | | | | | | target | | | | | | | PCF needs | | | | | | | to | | | | | | | support. | | | | | | | | | | | | | | When the | | | | | | | prose-c | | | | | | | apability | | | | | | | is | | | | | | | provided | | | | | | | as the | | | | | | | query | | | | | | | p | | | | | | | arameter, | | | | | | | NRF shall | | | | | | | return | | | | | | | the PCF | | | | | | | instances | | | | | | | which | | | | | | | support | | | | | | | all the | | | | | | | ProSe | | | | | | | cap | | | | | | | abilities | | | | | | | r | | | | | | | equested. | | +-----------+-----------+---+-----------+-----------+-----------+ | share | Sha | O | 0..1 | I | Query-SB | | d-data-id | redDataId | | | dentifies | IProtoc17 | | | | | | the | | | | | | | shared | | | | | | | data that | | | | | | | is stored | | | | | | | in the NF | | | | | | | (UDR) to | | | | | | | be | | | | | | | di | | | | | | | scovered. | | | | | | | May be | | | | | | | included | | | | | | | if the | | | | | | | target NF | | | | | | | type is | | | | | | | \"UDR\" | | +-----------+-----------+---+-----------+-----------+-----------+ | t | Fqdn | O | 0..1 | If | Q | | arget-hni | | | | included, | uery-ENPN | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the Home | | | | | | | Network | | | | | | | Id | | | | | | | entifier. | | | | | | | | | | | | | | If CH/DCS | | | | | | | is using | | | | | | | AAA | | | | | | | Server or | | | | | | | AUSF and | | | | | | | UDM for | | | | | | | primary | | | | | | | authe | | | | | | | ntication | | | | | | | and | | | | | | | auth | | | | | | | orization | | | | | | | (see | | | | | | | clauses | | | | | | | 5.30 | | | | | | | .2.9.2, 5 | | | | | | | .30.2.9.3 | | | | | | | and | | | | | | | 5.30 | | | | | | | .2.10.2.2 | | | | | | | in 3GPP | | | | | | | TS 23.50 | | | | | | | 1 [2]), | | | | | | | the | | | | | | | sender | | | | | | | (AMF or | | | | | | | AUSF) | | | | | | | populates | | | | | | | this IE | | | | | | | with | | | | | | | CH/DCS | | | | | | | ID. See | | | | | | | also | | | | | | | clause | | | | | | | s 4.17.4a | | | | | | | and | | | | | | | 4.17.5a | | | | | | | i | | | | | | | n TS 23.5 | | | | | | | 02 [3]. | | | | | | | | | | | | | | If the | | | | | | | target NF | | | | | | | is AUSF | | | | | | | or NSSAAF | | | | | | | and the | | | | | | | HNI | | | | | | | belongs | | | | | | | to a | | | | | | | CH/DCS | | | | | | | with AAA | | | | | | | Server in | | | | | | | another | | | | | | | domain, | | | | | | | i.e. not | | | | | | | in this | | | | | | | SNPN, the | | | | | | | NRF | | | | | | | returns | | | | | | | back the | | | | | | | AUSF or | | | | | | | NSSAAF in | | | | | | | the same | | | | | | | SNPN, | | | | | | | based on | | | | | | | the NF | | | | | | | profile | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | claus | | | | | | | e 6.2.6.2 | | | | | | | in 3GP | | | | | | | P TS 23.5 | | | | | | | 01 [2]. | | +-----------+-----------+---+-----------+-----------+-----------+ | ta | boolean | O | 0..1 | If | Q | | rget-nw-r | | | | included | uery-Nw-R | | esolution | | | | and set | esolution | | | | | | to true, | | | | | | | the NRF | | | | | | | shall | | | | | | | determine | | | | | | | the | | | | | | | identity | | | | | | | of the | | | | | | | target | | | | | | | PLMN to | | | | | | | which the | | | | | | | NF | | | | | | | Discovery | | | | | | | request | | | | | | | shall be | | | | | | | directed, | | | | | | | based on | | | | | | | the | | | | | | | MSISDN of | | | | | | | the UE | | | | | | | included | | | | | | | in the | | | | | | | \"gpsi\" | | | | | | | query | | | | | | | p | | | | | | | arameter, | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | 3GPP | | | | | | | TS 23.54 | | | | | | | 0 [48]. | | | | | | | | | | | | | | If | | | | | | | included | | | | | | | and set | | | | | | | to false, | | | | | | | this IE | | | | | | | shall be | | | | | | | ignored. | | +-----------+-----------+---+-----------+-----------+-----------+ | e | a | O | 1..N | If | Quer | | xclude-nf | rray(NfIn | | | included, | y-SBIProt | | inst-list | stanceId) | | | this IE | oc17-Ext1 | | | | | | shall | | | | | | | indicate | | | | | | | the list | | | | | | | of NF | | | | | | | instances | | | | | | | that | | | | | | | should | | | | | | | not be | | | | | | | returned | | | | | | | in the NF | | | | | | | Discovery | | | | | | | response. | | | | | | | | | | | | | | (NOTE 23) | | +-----------+-----------+---+-----------+-----------+-----------+ | exclu | array( | O | 1..N | If | Quer | | de-nfserv | NfService | | | included, | y-SBIProt | | inst-list | Instance) | | | this IE | oc17-Ext1 | | | | | | shall | | | | | | | indicate | | | | | | | the list | | | | | | | of NF | | | | | | | service | | | | | | | instances | | | | | | | that | | | | | | | should | | | | | | | not be | | | | | | | returned | | | | | | | in the NF | | | | | | | Discovery | | | | | | | response. | | | | | | | | | | | | | | (NOTE 23) | | +-----------+-----------+---+-----------+-----------+-----------+ | exclude | arr | O | 1..N | If | Quer | | -nfservic | ay(NfServ | | | included, | y-SBIProt | | eset-list | iceSetId) | | | this IE | oc17-Ext1 | | | | | | shall | | | | | | | indicate | | | | | | | the list | | | | | | | of NF | | | | | | | service | | | | | | | sets of | | | | | | | NF | | | | | | | service | | | | | | | instances | | | | | | | that | | | | | | | should | | | | | | | not be | | | | | | | returned | | | | | | | in the NF | | | | | | | Discovery | | | | | | | response. | | | | | | | | | | | | | | (NOTE 23) | | +-----------+-----------+---+-----------+-----------+-----------+ | exclude-n | array | O | 1..N | If | Quer | | fset-list | (NfSetId) | | | included, | y-SBIProt | | | | | | this IE | oc17-Ext1 | | | | | | shall | | | | | | | indicate | | | | | | | the list | | | | | | | of NF | | | | | | | sets of | | | | | | | NF | | | | | | | instances | | | | | | | that | | | | | | | should | | | | | | | not be | | | | | | | returned | | | | | | | in the NF | | | | | | | Discovery | | | | | | | response. | | | | | | | | | | | | | | (NOTE 23) | | +-----------+-----------+---+-----------+-----------+-----------+ | preferre | map(Dur | O | 1..N | If | Query-eNA | | d-analyti | ationSec) | | | included, | -PH2-Ext1 | | cs-delays | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the | | | | | | | preferred | | | | | | | Analytics | | | | | | | Delay. | | | | | | | The key | | | | | | | of the | | | | | | | map is | | | | | | | the | | | | | | | EventId | | | | | | | or | | | | | | | N | | | | | | | wdafEvent | | | | | | | (as | | | | | | | defined | | | | | | | in | | | | | | | 3GPP | | | | | | | TS 29.52 | | | | | | | 0 [33]) | | | | | | | for which | | | | | | | the | | | | | | | preferred | | | | | | | Analytics | | | | | | | Delay is | | | | | | | related | | | | | | | to. Each | | | | | | | element | | | | | | | carries | | | | | | | the | | | | | | | preferred | | | | | | | Analytics | | | | | | | Delay for | | | | | | | the | | | | | | | Analytics | | | | | | | ID | | | | | | | indicated | | | | | | | by the | | | | | | | key. | | | | | | | | | | | | | | The NRF | | | | | | | shall | | | | | | | return | | | | | | | the | | | | | | | NWDAFs | | | | | | | supports | | | | | | | the | | | | | | | Analytics | | | | | | | ID with a | | | | | | | supported | | | | | | | Analytics | | | | | | | Delay | | | | | | | that is | | | | | | | less than | | | | | | | or equal | | | | | | | to the | | | | | | | preferred | | | | | | | Analytics | | | | | | | Delay, as | | | | | | | described | | | | | | | in | | | | | | | clau | | | | | | | se 6.3.13 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 01 [2]. | | | | | | | The NRF | | | | | | | may | | | | | | | return | | | | | | | NWDAFs in | | | | | | | the | | | | | | | response | | | | | | | not | | | | | | | matching | | | | | | | the | | | | | | | preferred | | | | | | | Analytics | | | | | | | Delay, | | | | | | | e.g. if | | | | | | | no NWDAF | | | | | | | profile | | | | | | | is found | | | | | | | matching | | | | | | | the | | | | | | | preferred | | | | | | | Analytics | | | | | | | Delay. | | +-----------+-----------+---+-----------+-----------+-----------+ | high-la | boolean | O | 0..1 | If | Query-HLC | | tency-com | | | | present | | | | | | | and set | | | | | | | to true, | | | | | | | this | | | | | | | attribute | | | | | | | indicates | | | | | | | target | | | | | | | AMF(s) | | | | | | | instances | | | | | | | s | | | | | | | upporting | | | | | | | High | | | | | | | Latency | | | | | | | comm | | | | | | | unication | | | | | | | (e.g. for | | | | | | | NR RedCap | | | | | | | UE) are | | | | | | | required. | | | | | | | This is | | | | | | | used by | | | | | | | CP NF to | | | | | | | discover | | | | | | | AMF | | | | | | | s | | | | | | | upporting | | | | | | | High | | | | | | | Latency | | | | | | | comm | | | | | | | unication | | | | | | | (see | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 01 [2], | | | | | | | clause | | | | | | | 6.3.5). | | | | | | | | | | | | | | Presence | | | | | | | of this | | | | | | | IE with | | | | | | | false | | | | | | | value | | | | | | | shall be | | | | | | | pr | | | | | | | ohibited. | | +-----------+-----------+---+-----------+-----------+-----------+ | complet | boolean | O | 0..1 | This IE | Complete | | e-profile | | | | may be | -Profile- | | | | | | included | Discovery | | | | | | by an SCP | | | | | | | with the | | | | | | | value | | | | | | | true to | | | | | | | request | | | | | | | to | | | | | | | discover | | | | | | | the | | | | | | | complete | | | | | | | profile | | | | | | | of NF | | | | | | | Instances | | | | | | | ( | | | | | | | including | | | | | | | auth | | | | | | | orization | | | | | | | a | | | | | | | ttributes | | | | | | | such as | | | | | | | the | | | | | | | \"all | | | | | | | owedXXX\" | | | | | | | a | | | | | | | ttributes | | | | | | | of | | | | | | | NFProfile | | | | | | | and | | | | | | | NFService | | | | | | | data | | | | | | | types) | | | | | | | matching | | | | | | | the query | | | | | | | pa | | | | | | | rameters. | | | | | | | See | | | | | | | clause 5 | | | | | | | .3.2.2.2. | | | | | | | | | | | | | | Presence | | | | | | | of this | | | | | | | IE with | | | | | | | false | | | | | | | value | | | | | | | shall be | | | | | | | pr | | | | | | | ohibited. | | +-----------+-----------+---+-----------+-----------+-----------+ | n32 | array(N3 | O | 1..N | This IE | Query-SB | | -purposes | 2Purpose) | | | may be | IProtoc18 | | | | | | included | | | | | | | when the | | | | | | | target NF | | | | | | | type is | | | | | | | \"SEPP\". | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | requested | | | | | | | N32 | | | | | | | purposes | | | | | | | to be | | | | | | | supported | | | | | | | by the | | | | | | | SEPP. The | | | | | | | NRF shall | | | | | | | return | | | | | | | SEPP | | | | | | | profiles | | | | | | | that | | | | | | | support | | | | | | | at least | | | | | | | one | | | | | | | requested | | | | | | | N32 | | | | | | | purpose. | | +-----------+-----------+---+-----------+-----------+-----------+ | preferred | map( | O | 1..N | List of | Query-SB | | -features | Supported | | | features | IProtoc18 | | | Features) | | | preferred | | | | | | | to be | | | | | | | supported | | | | | | | by the | | | | | | | target | | | | | | | Network | | | | | | | Function, | | | | | | | as | | | | | | | defined | | | | | | | by the | | | | | | | supporte | | | | | | | dFeatures | | | | | | | attribute | | | | | | | in | | | | | | | NFService | | | | | | | (see | | | | | | | clauses | | | | | | | 6.1.6.2.3 | | | | | | | and | | | | | | | 6. | | | | | | | 2.6.2.4). | | | | | | | | | | | | | | The key | | | | | | | of the | | | | | | | map is | | | | | | | the | | | | | | | Service | | | | | | | Name as | | | | | | | specified | | | | | | | in | | | | | | | clause 6. | | | | | | | 1.6.3.11. | | | | | | | Each | | | | | | | element | | | | | | | carries | | | | | | | the | | | | | | | preferred | | | | | | | f | | | | | | | eature(s) | | | | | | | to be | | | | | | | supported | | | | | | | by the | | | | | | | target | | | | | | | Network | | | | | | | Function | | | | | | | for the | | | | | | | indicated | | | | | | | service. | | | | | | | | | | | | | | The NRF | | | | | | | shall | | | | | | | priorize | | | | | | | the NF | | | | | | | c | | | | | | | andidates | | | | | | | s | | | | | | | upporting | | | | | | | the | | | | | | | preferred | | | | | | | features | | | | | | | in the | | | | | | | search | | | | | | | result. | | | | | | | | | | | | | | (NOTE 24) | | +-----------+-----------+---+-----------+-----------+-----------+ | remo | PlmnId | O | 0..1 | If | Query-SB | | te-plmn-i | | | | included, | IProtoc18 | | d-roaming | | | | this IE | | | | | | | shall | | | | | | | indicate | | | | | | | the | | | | | | | remote | | | | | | | PLMN that | | | | | | | the | | | | | | | target NF | | | | | | | service | | | | | | | producer | | | | | | | can | | | | | | | serve, | | | | | | | i.e. the | | | | | | | NF | | | | | | | service | | | | | | | producer | | | | | | | can serve | | | | | | | the | | | | | | | roaming | | | | | | | UEs which | | | | | | | belong to | | | | | | | the | | | | | | | indicated | | | | | | | remote | | | | | | | PLMN. | | | | | | | This IE | | | | | | | may be | | | | | | | included | | | | | | | when the | | | | | | | target NF | | | | | | | type is | | | | | | | \"SMSF\". | | | | | | | | | | | | | | The NRF | | | | | | | shall | | | | | | | return | | | | | | | the | | | | | | | candidate | | | | | | | NF | | | | | | | service | | | | | | | pr | | | | | | | oducer(s) | | | | | | | in | | | | | | | discovery | | | | | | | result | | | | | | | with the | | | | | | | following | | | | | | | order of | | | | | | | pr | | | | | | | eference: | | | | | | | | | | | | | | - NF | | | | | | | profiles | | | | | | | e | | | | | | | xplicitly | | | | | | | indicated | | | | | | | the | | | | | | | support | | | | | | | of | | | | | | | roaming | | | | | | | UE for | | | | | | | the | | | | | | | requested | | | | | | | remote | | | | | | | PLMN; | | | | | | | then | | | | | | | | | | | | | | - NF | | | | | | | profiles | | | | | | | indicated | | | | | | | the | | | | | | | support | | | | | | | of | | | | | | | roaming | | | | | | | UE for | | | | | | | any | | | | | | | remote | | | | | | | PLMN; | | | | | | | then | | | | | | | | | | | | | | - if | | | | | | | none of | | | | | | | above are | | | | | | | a | | | | | | | vailable, | | | | | | | NF | | | | | | | profiles | | | | | | | without | | | | | | | i | | | | | | | ndication | | | | | | | of | | | | | | | roaming | | | | | | | UE | | | | | | | support. | | +-----------+-----------+---+-----------+-----------+-----------+ | pru-tai | Tai | O | 0..1 | This may | Query | | | | | | be | -eLCS-PH3 | | | | | | included | | | | | | | if the | | | | | | | target NF | | | | | | | type is | | | | | | | \"LMF\". | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | indicates | | | | | | | whether | | | | | | | LMF(s) | | | | | | | serving a | | | | | | | TAI with | | | | | | | PRU(s) | | | | | | | existence | | | | | | | needs to | | | | | | | be | | | | | | | di | | | | | | | scovered. | | +-----------+-----------+---+-----------+-----------+-----------+ | pru-su | boolean | O | 0..1 | This IE | Query | | pport-ind | | | | may be | -eLCS-PH3 | | | | | | included | | | | | | | when the | | | | | | | target NF | | | | | | | type is | | | | | | | \"LMF\". | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | indicates | | | | | | | whether | | | | | | | the | | | | | | | LMF(s) | | | | | | | s | | | | | | | upporting | | | | | | | PRU | | | | | | | function | | | | | | | need(s) | | | | | | | to be | | | | | | | di | | | | | | | scovered. | | | | | | | | | | | | | | true: | | | | | | | target | | | | | | | LMF(s) | | | | | | | s | | | | | | | upporting | | | | | | | PRU | | | | | | | function | | | | | | | are | | | | | | | requested | | | | | | | to be | | | | | | | dis | | | | | | | covered;\ | | | | | | | false: | | | | | | | target | | | | | | | LMF(s) | | | | | | | not | | | | | | | s | | | | | | | upporting | | | | | | | PRU | | | | | | | function | | | | | | | are | | | | | | | requested | | | | | | | to be | | | | | | | di | | | | | | | scovered. | | +-----------+-----------+---+-----------+-----------+-----------+ | af-data | AfData | O | 0..1 | When | Query | | | | | | present, | -eLCS-PH3 | | | | | | this IE | | | | | | | shall | | | | | | | contain | | | | | | | the event | | | | | | | that is | | | | | | | supported | | | | | | | by the | | | | | | | \"AF\" | | | | | | | for | | | | | | | trusted | | | | | | | AF | | | | | | | d | | | | | | | iscovery. | | +-----------+-----------+---+-----------+-----------+-----------+ | ml-acc | boolean | O | 0..1 | If | Quer | | uracy-che | | | | present | y-eNA-PH3 | | cking-ind | | | | and set | | | | | | | to true, | | | | | | | this | | | | | | | attribute | | | | | | | indicates | | | | | | | target | | | | | | | NWDAF(s) | | | | | | | instances | | | | | | | c | | | | | | | ontaining | | | | | | | MTLF with | | | | | | | ML Model | | | | | | | accuracy | | | | | | | checking | | | | | | | c | | | | | | | apability | | | | | | | are | | | | | | | required. | | | | | | | | | | | | | | Presence | | | | | | | of this | | | | | | | IE with | | | | | | | false | | | | | | | value | | | | | | | shall be | | | | | | | pr | | | | | | | ohibited. | | +-----------+-----------+---+-----------+-----------+-----------+ | anal | boolean | O | 0..1 | If | Quer | | ytics-acc | | | | present | y-eNA-PH3 | | uracy-che | | | | and set | | | cking-ind | | | | to true, | | | | | | | this | | | | | | | attribute | | | | | | | indicates | | | | | | | target | | | | | | | NWDAF(s) | | | | | | | instances | | | | | | | c | | | | | | | ontaining | | | | | | | AnLF with | | | | | | | Analytics | | | | | | | accuracy | | | | | | | checking | | | | | | | c | | | | | | | apability | | | | | | | are | | | | | | | required. | | | | | | | | | | | | | | Presence | | | | | | | of this | | | | | | | IE with | | | | | | | false | | | | | | | value | | | | | | | shall be | | | | | | | pr | | | | | | | ohibited. | | +-----------+-----------+---+-----------+-----------+-----------+ | ml | boolean | O | 0..1 | If | Quer | | -model-st | | | | present | y-eNA-PH3 | | orage-ind | | | | and set | | | | | | | to true, | | | | | | | this | | | | | | | attribute | | | | | | | indicates | | | | | | | target | | | | | | | ADRF(s) | | | | | | | instances | | | | | | | with ML | | | | | | | model | | | | | | | storage | | | | | | | c | | | | | | | apability | | | | | | | are | | | | | | | required. | | | | | | | | | | | | | | Presence | | | | | | | of this | | | | | | | IE with | | | | | | | false | | | | | | | value | | | | | | | shall be | | | | | | | pr | | | | | | | ohibited. | | +-----------+-----------+---+-----------+-----------+-----------+ | data | boolean | O | 0..1 | If | Quer | | -subscrip | | | | present | y-eNA-PH3 | | tion-relo | | | | and set | | | cation-su | | | | to true, | | | pport-ind | | | | this | | | | | | | attribute | | | | | | | indicates | | | | | | | target | | | | | | | DCCF(s) | | | | | | | instances | | | | | | | with | | | | | | | r | | | | | | | elocation | | | | | | | of data | | | | | | | sub | | | | | | | scription | | | | | | | support | | | | | | | are | | | | | | | required. | | | | | | | | | | | | | | Presence | | | | | | | of this | | | | | | | IE with | | | | | | | false | | | | | | | value | | | | | | | shall be | | | | | | | pr | | | | | | | ohibited. | | +-----------+-----------+---+-----------+-----------+-----------+ | ro | boolean | O | 0..1 | This IE | Quer | | aming-exc | | | | may be | y-eNA-PH3 | | hange-ind | | | | included | | | | | | | when the | | | | | | | target NF | | | | | | | type is | | | | | | | \ | | | | | | | "NWDAF\". | | | | | | | | | | | | | | - true: | | | | | | | An NF | | | | | | | s | | | | | | | upporting | | | | | | | roaming | | | | | | | exchange | | | | | | | c | | | | | | | apability | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | di | | | | | | | scovered. | | +-----------+-----------+---+-----------+-----------+-----------+ | med | arra | O | 1..N | If | Que | | ia-capabi | y(MediaCa | | | present, | ry-NG-RTC | | lity-list | pability) | | | this | | | | | | | attribute | | | | | | | shall | | | | | | | contain | | | | | | | the list | | | | | | | of media | | | | | | | c | | | | | | | apability | | | | | | | that can | | | | | | | be served | | | | | | | by the NF | | | | | | | instances | | | | | | | to be | | | | | | | di | | | | | | | scovered. | | | | | | | The NRF | | | | | | | shall | | | | | | | return NF | | | | | | | profiles | | | | | | | of NFs | | | | | | | which can | | | | | | | serve all | | | | | | | the media | | | | | | | cap | | | | | | | abilities | | | | | | | requested | | | | | | | in this | | | | | | | query | | | | | | | p | | | | | | | arameter. | | +-----------+-----------+---+-----------+-----------+-----------+ | a2x-su | boolean | O | 0..1 | When | Query-A2X | | pport-ind | | | | present, | | | | | | | this IE | | | | | | | indicates | | | | | | | whether a | | | | | | | PCF | | | | | | | s | | | | | | | upporting | | | | | | | A2X | | | | | | | Policy/ | | | | | | | Parameter | | | | | | | pro | | | | | | | visioning | | | | | | | needs to | | | | | | | be | | | | | | | di | | | | | | | scovered. | | | | | | | | | | | | | | true: a | | | | | | | PCF | | | | | | | s | | | | | | | upporting | | | | | | | A2X | | | | | | | Policy/ | | | | | | | Parameter | | | | | | | pro | | | | | | | visioning | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | dis | | | | | | | covered;\ | | | | | | | false: a | | | | | | | PCF not | | | | | | | s | | | | | | | upporting | | | | | | | A2X | | | | | | | Policy/ | | | | | | | Parameter | | | | | | | pro | | | | | | | visioning | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | di | | | | | | | scovered. | | +-----------+-----------+---+-----------+-----------+-----------+ | a2x-c | A2xC | O | 0..1 | When | Query-A2X | | apability | apability | | | present, | | | | | | | this IE | | | | | | | indicates | | | | | | | the A2X | | | | | | | c | | | | | | | apability | | | | | | | that the | | | | | | | target | | | | | | | PCF needs | | | | | | | to | | | | | | | support. | | | | | | | | | | | | | | When the | | | | | | | a2x-c | | | | | | | apability | | | | | | | is | | | | | | | provided | | | | | | | as the | | | | | | | query | | | | | | | p | | | | | | | arameter, | | | | | | | NRF shall | | | | | | | return | | | | | | | the PCF | | | | | | | instances | | | | | | | which | | | | | | | support | | | | | | | all the | | | | | | | A2X | | | | | | | cap | | | | | | | abilities | | | | | | | r | | | | | | | equested. | | +-----------+-----------+---+-----------+-----------+-----------+ | rangin | boolean | O | 0..1 | When | Query-5G- | | gSlPos-su | | | | present, | Ran | | pport-ind | | | | this IE | gingSlPos | | | | | | indicates | | | | | | | whether | | | | | | | s | | | | | | | upporting | | | | | | | ranging | | | | | | | and | | | | | | | sidelink | | | | | | | po | | | | | | | sitioning | | | | | | | c | | | | | | | apability | | | | | | | by | | | | | | | PCF/LMF | | | | | | | needs to | | | | | | | be | | | | | | | di | | | | | | | scovered. | | | | | | | | | | | | | | - true: | | | | | | | a PCF/LMF | | | | | | | s | | | | | | | upporting | | | | | | | ranging | | | | | | | and | | | | | | | sidelink | | | | | | | po | | | | | | | sitioning | | | | | | | c | | | | | | | apability | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | d | | | | | | | iscovered | | | | | | | | | | | | | | Presence | | | | | | | of this | | | | | | | IE with | | | | | | | false | | | | | | | value | | | | | | | shall be | | | | | | | pr | | | | | | | ohibited. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | If this | | | | | | | parameter | | | | | | | is | | | | | | | present | | | | | | | and no | | | | | | | AMF | | | | | | | s | | | | | | | upporting | | | | | | | the | | | | | | | requested | | | | | | | GUAMI is | | | | | | | available | | | | | | | due to | | | | | | | AMF | | | | | | | Failure | | | | | | | or | | | | | | | planned | | | | | | | AMF | | | | | | | removal, | | | | | | | the NRF | | | | | | | shall | | | | | | | return in | | | | | | | the | | | | | | | response | | | | | | | AMF | | | | | | | instances | | | | | | | acting as | | | | | | | a backup | | | | | | | for AMF | | | | | | | failure | | | | | | | or | | | | | | | planned | | | | | | | AMF | | | | | | | removal | | | | | | | res | | | | | | | pectively | | | | | | | for this | | | | | | | GUAMI | | | | | | | (see | | | | | | | c | | | | | | | lause 6.1 | | | | | | | .6.2.11). | | | | | | | The NRF | | | | | | | can | | | | | | | detect if | | | | | | | an AMF | | | | | | | has | | | | | | | failed, | | | | | | | using the | | | | | | | Heartbeat | | | | | | | p | | | | | | | rocedure. | | | | | | | The NRF | | | | | | | will | | | | | | | receive a | | | | | | | de-reg | | | | | | | istration | | | | | | | request | | | | | | | from an | | | | | | | AMF | | | | | | | p | | | | | | | erforming | | | | | | | a planned | | | | | | | removal. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If the | | | | | | | combined | | | | | | | SMF/PGW-C | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | di | | | | | | | scovered, | | | | | | | the NRF | | | | | | | shall | | | | | | | return in | | | | | | | the | | | | | | | response | | | | | | | the SMF | | | | | | | instances | | | | | | | r | | | | | | | egistered | | | | | | | with the | | | | | | | SmfInfo | | | | | | | c | | | | | | | ontaining | | | | | | | pgwFqdn. | | | | | | | | | | | | | | NOTE 3: | | | | | | | If a UPF | | | | | | | s | | | | | | | upporting | | | | | | | int | | | | | | | erworking | | | | | | | with EPS | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | di | | | | | | | scovered, | | | | | | | the NRF | | | | | | | shall | | | | | | | return in | | | | | | | the | | | | | | | response | | | | | | | the UPF | | | | | | | instances | | | | | | | r | | | | | | | egistered | | | | | | | with the | | | | | | | upfInfo | | | | | | | c | | | | | | | ontaining | | | | | | | iwkEpsInd | | | | | | | set to | | | | | | | true. | | | | | | | | | | | | | | NOTE 4: | | | | | | | This | | | | | | | attribute | | | | | | | has a | | | | | | | different | | | | | | | semantic | | | | | | | than what | | | | | | | is | | | | | | | defined | | | | | | | in clause | | | | | | | 6.6.2 of | | | | | | | 3GP | | | | | | | P TS 29.5 | | | | | | | 00 [4], | | | | | | | i.e. it | | | | | | | is not | | | | | | | used to | | | | | | | signal | | | | | | | optional | | | | | | | features | | | | | | | of the | | | | | | | Nnrf_NF | | | | | | | Discovery | | | | | | | Service | | | | | | | API | | | | | | | supported | | | | | | | by the | | | | | | | requester | | | | | | | NF. | | | | | | | | | | | | | | NOTE 5: | | | | | | | The AMF | | | | | | | may | | | | | | | perform | | | | | | | the SMF | | | | | | | discovery | | | | | | | based on | | | | | | | the dnn, | | | | | | | snssais | | | | | | | and | | | | | | | pref | | | | | | | erred-tai | | | | | | | during a | | | | | | | PDU | | | | | | | session | | | | | | | esta | | | | | | | blishment | | | | | | | p | | | | | | | rocedure, | | | | | | | and the | | | | | | | NRF shall | | | | | | | return | | | | | | | the SMF | | | | | | | profiles | | | | | | | matching | | | | | | | all if | | | | | | | possible, | | | | | | | or the | | | | | | | SMF | | | | | | | profiles | | | | | | | only | | | | | | | matching | | | | | | | dnn and | | | | | | | snssais. | | | | | | | If the | | | | | | | SMF | | | | | | | profiles | | | | | | | only | | | | | | | matching | | | | | | | dnn and | | | | | | | snssais | | | | | | | are | | | | | | | returned, | | | | | | | the AMF | | | | | | | shall | | | | | | | insert an | | | | | | | I-SMF. An | | | | | | | SMF may | | | | | | | also | | | | | | | perform a | | | | | | | UPF | | | | | | | discovery | | | | | | | using | | | | | | | this | | | | | | | p | | | | | | | arameter. | | | | | | | | | | | | | | NOTE 6: | | | | | | | The SMF | | | | | | | may | | | | | | | select | | | | | | | the | | | | | | | P-CSCF | | | | | | | close to | | | | | | | the UPF | | | | | | | by | | | | | | | setting | | | | | | | the | | | | | | | preferred | | | | | | | -locality | | | | | | | to the | | | | | | | value of | | | | | | | the | | | | | | | locality | | | | | | | of the | | | | | | | UPF. | | | | | | | | | | | | | | NOTE 7: | | | | | | | During | | | | | | | EPS to | | | | | | | 5GS idle | | | | | | | mobility | | | | | | | p | | | | | | | rocedure, | | | | | | | the | | | | | | | Requester | | | | | | | NF (i.e. | | | | | | | SMF) | | | | | | | discovers | | | | | | | the | | | | | | | anchor | | | | | | | NEF for | | | | | | | NIDD | | | | | | | using the | | | | | | | SCEF ID | | | | | | | received | | | | | | | from EPS | | | | | | | as the | | | | | | | value of | | | | | | | the NEF | | | | | | | ID, as | | | | | | | specified | | | | | | | in clause | | | | | | | 4 | | | | | | | .11.1.3.3 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3]. | | | | | | | | | | | | | | NOTE 8: | | | | | | | The | | | | | | | service | | | | | | | consumer | | | | | | | may | | | | | | | include a | | | | | | | list of | | | | | | | preferr | | | | | | | ed-nf-ins | | | | | | | tance-ids | | | | | | | in the | | | | | | | query. If | | | | | | | so, the | | | | | | | NRF shall | | | | | | | first | | | | | | | check if | | | | | | | the NF | | | | | | | profiles | | | | | | | of the | | | | | | | preferred | | | | | | | NF | | | | | | | instances | | | | | | | match the | | | | | | | other | | | | | | | query | | | | | | | pa | | | | | | | rameters, | | | | | | | and if | | | | | | | so, then | | | | | | | the NRF | | | | | | | shall | | | | | | | return | | | | | | | the | | | | | | | corr | | | | | | | esponding | | | | | | | NF | | | | | | | profiles; | | | | | | | o | | | | | | | therwise, | | | | | | | the NRF | | | | | | | shall | | | | | | | return a | | | | | | | list of | | | | | | | candidate | | | | | | | NF | | | | | | | profiles | | | | | | | matching | | | | | | | the query | | | | | | | p | | | | | | | arameters | | | | | | | other | | | | | | | than the | | | | | | | preferre | | | | | | | d-nf-inst | | | | | | | ance-ids. | | | | | | | For | | | | | | | example, | | | | | | | the | | | | | | | target | | | | | | | AMF may | | | | | | | set this | | | | | | | query | | | | | | | parameter | | | | | | | to the | | | | | | | SMF | | | | | | | Instance | | | | | | | ID and | | | | | | | I-SMF | | | | | | | Instance | | | | | | | ID during | | | | | | | an inter | | | | | | | AMF | | | | | | | mobility | | | | | | | procedure | | | | | | | to select | | | | | | | an I-SMF. | | | | | | | | | | | | | | NOTE 9: | | | | | | | This | | | | | | | parameter | | | | | | | may be | | | | | | | used by | | | | | | | the SCP | | | | | | | (with | | | | | | | other | | | | | | | query | | | | | | | pa | | | | | | | rameters) | | | | | | | to | | | | | | | discover | | | | | | | and | | | | | | | select a | | | | | | | NF | | | | | | | service | | | | | | | consumer | | | | | | | with a | | | | | | | default | | | | | | | not | | | | | | | ification | | | | | | | sub | | | | | | | scription | | | | | | | s | | | | | | | upporting | | | | | | | the | | | | | | | not | | | | | | | ification | | | | | | | type of a | | | | | | | not | | | | | | | ification | | | | | | | request | | | | | | | (see | | | | | | | clause | | | | | | | 6.10.3.3 | | | | | | | of | | | | | | | 3GPP | | | | | | | TS 29.50 | | | | | | | 0 [4]). | | | | | | | | | | | | | | NOTE 10: | | | | | | | An | | | | | | | S-NSSAI | | | | | | | value | | | | | | | used in | | | | | | | discovery | | | | | | | request | | | | | | | query | | | | | | | p | | | | | | | arameters | | | | | | | shall be | | | | | | | c | | | | | | | onsidered | | | | | | | as | | | | | | | matching | | | | | | | the | | | | | | | S-NSSAI | | | | | | | value in | | | | | | | the NF | | | | | | | Profile | | | | | | | or NF | | | | | | | Service | | | | | | | of a | | | | | | | given NF | | | | | | | Instance | | | | | | | if both | | | | | | | the SST | | | | | | | and SD | | | | | | | c | | | | | | | omponents | | | | | | | are | | | | | | | identical | | | | | | | (i.e. an | | | | | | | S-NSSAI | | | | | | | value | | | | | | | where SD | | | | | | | is | | | | | | | absent, | | | | | | | shall not | | | | | | | be | | | | | | | c | | | | | | | onsidered | | | | | | | as | | | | | | | matching | | | | | | | an | | | | | | | S-NSSAI | | | | | | | where SD | | | | | | | is | | | | | | | present, | | | | | | | r | | | | | | | egardless | | | | | | | if SST is | | | | | | | equal in | | | | | | | both). | | | | | | | | | | | | | | NOTE 11: | | | | | | | The dnn | | | | | | | query | | | | | | | parameter | | | | | | | shall be | | | | | | | c | | | | | | | onsidered | | | | | | | as | | | | | | | matching | | | | | | | a DNN | | | | | | | attribute | | | | | | | in the NF | | | | | | | Profile | | | | | | | of a | | | | | | | given NF | | | | | | | Instance | | | | | | | if:\ | | | | | | | - both | | | | | | | contain | | | | | | | the same | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | and | | | | | | | Operator | | | | | | | Ide | | | | | | | ntifier;\ | | | | | | | - both | | | | | | | contain | | | | | | | the same | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | and none | | | | | | | contains | | | | | | | an | | | | | | | Operator | | | | | | | Ide | | | | | | | ntifier;\ | | | | | | | - the dnn | | | | | | | query | | | | | | | parameter | | | | | | | contains | | | | | | | the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | only, the | | | | | | | DNN value | | | | | | | in the NF | | | | | | | Profile | | | | | | | contains | | | | | | | both the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | and | | | | | | | Operator | | | | | | | Id | | | | | | | entifier, | | | | | | | and both | | | | | | | contain | | | | | | | the same | | | | | | | Network | | | | | | | Id | | | | | | | entifier; | | | | | | | or\ | | | | | | | - the dnn | | | | | | | query | | | | | | | parameter | | | | | | | contains | | | | | | | both the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | and | | | | | | | Operator | | | | | | | Id | | | | | | | entifier, | | | | | | | the DNN | | | | | | | value in | | | | | | | the NF | | | | | | | Profile | | | | | | | contains | | | | | | | the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | only, | | | | | | | both | | | | | | | contain | | | | | | | the same | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | and the | | | | | | | Operator | | | | | | | I | | | | | | | dentifier | | | | | | | matches | | | | | | | one PLMN | | | | | | | of the NF | | | | | | | (i.e. | | | | | | | plmnList | | | | | | | of the NF | | | | | | | Profile). | | | | | | | | | | | | | | NOTE 12: | | | | | | | Based on | | | | | | | op | | | | | | | erator\'s | | | | | | | policies, | | | | | | | a | | | | | | | discovery | | | | | | | request | | | | | | | not | | | | | | | including | | | | | | | the | | | | | | | req | | | | | | | uester\'s | | | | | | | in | | | | | | | formation | | | | | | | necessary | | | | | | | to | | | | | | | validate | | | | | | | the | | | | | | | auth | | | | | | | orization | | | | | | | p | | | | | | | arameters | | | | | | | in NF | | | | | | | Profiles | | | | | | | may be | | | | | | | rejected | | | | | | | or | | | | | | | accepted | | | | | | | but with | | | | | | | only | | | | | | | returning | | | | | | | in the | | | | | | | discovery | | | | | | | response | | | | | | | NF | | | | | | | Instances | | | | | | | whose | | | | | | | auth | | | | | | | orization | | | | | | | p | | | | | | | arameters | | | | | | | allow any | | | | | | | NF | | | | | | | Service | | | | | | | Consumer | | | | | | | to access | | | | | | | their | | | | | | | services. | | | | | | | The | | | | | | | auth | | | | | | | orization | | | | | | | p | | | | | | | arameters | | | | | | | in NF | | | | | | | Profile | | | | | | | are those | | | | | | | used by | | | | | | | NRF to | | | | | | | determine | | | | | | | whether a | | | | | | | given NF | | | | | | | Instance | | | | | | | / NF | | | | | | | Service | | | | | | | Instance | | | | | | | can be | | | | | | | d | | | | | | | iscovered | | | | | | | by an NF | | | | | | | Service | | | | | | | Consumer | | | | | | | in order | | | | | | | to | | | | | | | consume | | | | | | | its | | | | | | | offered | | | | | | | services | | | | | | | (e.g. | | | | | | | \ | | | | | | | "allowedN | | | | | | | fTypes\", | | | | | | | \"a | | | | | | | llowedNfD | | | | | | | omains\", | | | | | | | etc.). | | | | | | | | | | | | | | NOTE 13: | | | | | | | Different | | | | | | | UPF | | | | | | | instances | | | | | | | for data | | | | | | | f | | | | | | | orwarding | | | | | | | may be | | | | | | | c | | | | | | | onfigured | | | | | | | in the | | | | | | | network | | | | | | | e.g. for | | | | | | | different | | | | | | | serving | | | | | | | areas. | | | | | | | The SMF | | | | | | | may use | | | | | | | this | | | | | | | query | | | | | | | parameter | | | | | | | together | | | | | | | with | | | | | | | others | | | | | | | (like SMF | | | | | | | Serving | | | | | | | Area or | | | | | | | TAI) in | | | | | | | discovery | | | | | | | to select | | | | | | | the UPF | | | | | | | candidate | | | | | | | for data | | | | | | | fo | | | | | | | rwarding. | | | | | | | | | | | | | | NOTE 14: | | | | | | | For HR | | | | | | | roaming, | | | | | | | if the | | | | | | | V-PLMN | | | | | | | requires | | | | | | | De | | | | | | | ployments | | | | | | | T | | | | | | | opologies | | | | | | | with | | | | | | | specific | | | | | | | SMF | | | | | | | Service | | | | | | | Areas | | | | | | | (DTSSA) | | | | | | | but no | | | | | | | H-SMF can | | | | | | | be | | | | | | | selected | | | | | | | s | | | | | | | upporting | | | | | | | V-SMF | | | | | | | change, | | | | | | | AMF may | | | | | | | use this | | | | | | | query | | | | | | | parameter | | | | | | | to select | | | | | | | a V-SMF | | | | | | | serving | | | | | | | the full | | | | | | | VPLMN if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | NOTE 15: | | | | | | | The AMF | | | | | | | may | | | | | | | perform | | | | | | | discovery | | | | | | | with this | | | | | | | parameter | | | | | | | to find | | | | | | | V-SMF(s)/ | | | | | | | I-SMF(s), | | | | | | | and the | | | | | | | NRF shall | | | | | | | return | | | | | | | the SMF | | | | | | | profiles | | | | | | | that | | | | | | | e | | | | | | | xplicitly | | | | | | | indicated | | | | | | | support | | | | | | | of | | | | | | | V-SMF | | | | | | | /I-SMF(s) | | | | | | | ca | | | | | | | pability. | | | | | | | When | | | | | | | p | | | | | | | erforming | | | | | | | d | | | | | | | iscovery, | | | | | | | the AMF | | | | | | | shall use | | | | | | | other | | | | | | | query | | | | | | | p | | | | | | | arameters | | | | | | | together | | | | | | | with this | | | | | | | IE to | | | | | | | ensure | | | | | | | the | | | | | | | required | | | | | | | confi | | | | | | | gurations | | | | | | | and/or | | | | | | | features | | | | | | | are | | | | | | | supported | | | | | | | by the | | | | | | | V-SMF/ | | | | | | | I-SMF(s), | | | | | | | e.g. | | | | | | | required | | | | | | | Slice for | | | | | | | the PDU | | | | | | | session, | | | | | | | support | | | | | | | of DTSSA | | | | | | | feature | | | | | | | if V-SMF | | | | | | | change is | | | | | | | required | | | | | | | for PDU | | | | | | | Session, | | | | | | | etc. If | | | | | | | no SMF | | | | | | | instances | | | | | | | that | | | | | | | e | | | | | | | xplicitly | | | | | | | indicated | | | | | | | support | | | | | | | of | | | | | | | V-SMF | | | | | | | /I-SMF(s) | | | | | | | c | | | | | | | apability | | | | | | | can be | | | | | | | matched | | | | | | | for the | | | | | | | d | | | | | | | iscovery, | | | | | | | the NRF | | | | | | | shall | | | | | | | return | | | | | | | matched | | | | | | | SMF | | | | | | | instances | | | | | | | not | | | | | | | i | | | | | | | ndicating | | | | | | | support | | | | | | | of | | | | | | | V-SMF | | | | | | | /I-SMF(s) | | | | | | | c | | | | | | | apability | | | | | | | ex | | | | | | | plicitly, | | | | | | | i.e. the | | | | | | | SMF | | | | | | | instances | | | | | | | not | | | | | | | r | | | | | | | egistered | | | | | | | vs | | | | | | | mfSupport | | | | | | | Ind/ismfS | | | | | | | upportInd | | | | | | | IE in the | | | | | | | NF | | | | | | | profile | | | | | | | but | | | | | | | matched | | | | | | | to the | | | | | | | rest | | | | | | | query | | | | | | | pa | | | | | | | rameters, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | NOTE 16: | | | | | | | When | | | | | | | requ | | | | | | | ired-pfcp | | | | | | | -features | | | | | | | is used | | | | | | | as query | | | | | | | p | | | | | | | arameter, | | | | | | | the NRF | | | | | | | shall | | | | | | | return a | | | | | | | list of | | | | | | | candidate | | | | | | | UPFs | | | | | | | s | | | | | | | upporting | | | | | | | all the | | | | | | | required | | | | | | | PFCP | | | | | | | features. | | | | | | | The NRF | | | | | | | may also | | | | | | | return | | | | | | | UPF | | | | | | | profiles | | | | | | | not | | | | | | | including | | | | | | | the | | | | | | | \"Suppo | | | | | | | rtedPfcpF | | | | | | | eatures\" | | | | | | | attribute | | | | | | | (e.g. | | | | | | | p | | | | | | | re-Rel-17 | | | | | | | UPFs) but | | | | | | | matching | | | | | | | the other | | | | | | | query | | | | | | | pa | | | | | | | rameters. | | | | | | | The NF | | | | | | | Service | | | | | | | Consumer, | | | | | | | e.g. a | | | | | | | SMF, when | | | | | | | using | | | | | | | requ | | | | | | | ired-pfcp | | | | | | | -features | | | | | | | as query | | | | | | | p | | | | | | | arameter, | | | | | | | shall | | | | | | | also | | | | | | | include | | | | | | | the query | | | | | | | parameter | | | | | | | corr | | | | | | | esponding | | | | | | | to the | | | | | | | UPF | | | | | | | features | | | | | | | (atsss-ca | | | | | | | pability, | | | | | | | u | | | | | | | pf-ue-ip- | | | | | | | addr-ind, | | | | | | | redund | | | | | | | ant-gtpu) | | | | | | | which | | | | | | | c | | | | | | | orrespond | | | | | | | to the | | | | | | | PFCP | | | | | | | feature | | | | | | | flags | | | | | | | MPTCP and | | | | | | | A | | | | | | | TSSS_LL, | | | | | | | UEIP, and | | | | | | | RTTL | | | | | | | resp | | | | | | | ectively, | | | | | | | if the | | | | | | | corr | | | | | | | esponding | | | | | | | PFCP | | | | | | | feature | | | | | | | is | | | | | | | required. | | | | | | | For | | | | | | | example | | | | | | | an SMF, | | | | | | | that | | | | | | | wishes to | | | | | | | select a | | | | | | | UPF | | | | | | | s | | | | | | | upporting | | | | | | | UE IP | | | | | | | Address | | | | | | | A | | | | | | | llocation | | | | | | | by the UP | | | | | | | function, | | | | | | | shall set | | | | | | | the UEIP | | | | | | | flag to | | | | | | | \"1\" in | | | | | | | the | | | | | | | requ | | | | | | | ired-pfcp | | | | | | | -features | | | | | | | and also | | | | | | | include | | | | | | | the | | | | | | | upf-ue-ip | | | | | | | -addr-ind | | | | | | | parameter | | | | | | | set to | | | | | | | \"true\". | | | | | | | | | | | | | | NOTE 17: | | | | | | | In this | | | | | | | release, | | | | | | | the usage | | | | | | | of Home | | | | | | | Network | | | | | | | Public | | | | | | | Key | | | | | | | i | | | | | | | dentifier | | | | | | | for | | | | | | | AUSF/UDM | | | | | | | discovery | | | | | | | is | | | | | | | limited | | | | | | | to the | | | | | | | scenario | | | | | | | where the | | | | | | | AUSF/UDM | | | | | | | NF | | | | | | | consumers | | | | | | | belong to | | | | | | | the same | | | | | | | PLMN as | | | | | | | AUSF/UDM. | | | | | | | | | | | | | | NOTE 18: | | | | | | | The NF | | | | | | | service | | | | | | | consumer | | | | | | | may | | | | | | | derive | | | | | | | the | | | | | | | serving | | | | | | | scope | | | | | | | from e.g. | | | | | | | the TAI | | | | | | | of the | | | | | | | UE, using | | | | | | | local | | | | | | | confi | | | | | | | guration. | | | | | | | This | | | | | | | parameter | | | | | | | may be | | | | | | | used to | | | | | | | discover | | | | | | | any NF | | | | | | | that | | | | | | | registers | | | | | | | to the | | | | | | | NRF, e.g. | | | | | | | a 5GC NF | | | | | | | or a | | | | | | | P-CSCF. | | | | | | | | | | | | | | NOTE 19: | | | | | | | If the | | | | | | | NRF | | | | | | | supports | | | | | | | the | | | | | | | \"Colloca | | | | | | | ted-NF-Se | | | | | | | lection\" | | | | | | | feature | | | | | | | and the | | | | | | | NF | | | | | | | service | | | | | | | consumer | | | | | | | has | | | | | | | included | | | | | | | the | | | | | | | \"pref | | | | | | | erred-col | | | | | | | located-n | | | | | | | f-types\" | | | | | | | a | | | | | | | ttribute, | | | | | | | the NRF | | | | | | | shall | | | | | | | return a | | | | | | | list of | | | | | | | c | | | | | | | andidates | | | | | | | NFs (for | | | | | | | the | | | | | | | target | | | | | | | -nf-type) | | | | | | | matching | | | | | | | the | | | | | | | discovery | | | | | | | query | | | | | | | p | | | | | | | arameters | | | | | | | and | | | | | | | prefe | | | | | | | rentially | | | | | | | s | | | | | | | upporting | | | | | | | C | | | | | | | ollocated | | | | | | | NfType(s) | | | | | | | as | | | | | | | indicated | | | | | | | in the | | | | | | | pre | | | | | | | ferred-co | | | | | | | llocated- | | | | | | | nf-types. | | | | | | | | | | | | | | NOTE 20: | | | | | | | If the | | | | | | | NRF | | | | | | | supports | | | | | | | this IE | | | | | | | and the | | | | | | | NF | | | | | | | service | | | | | | | consumer | | | | | | | has | | | | | | | included | | | | | | | this IE | | | | | | | with the | | | | | | | value | | | | | | | \"true\" | | | | | | | in | | | | | | | discovery | | | | | | | request, | | | | | | | the NRF | | | | | | | shall | | | | | | | look up | | | | | | | and | | | | | | | return | | | | | | | PGW-C+SMF | | | | | | | instances | | | | | | | matching | | | | | | | the other | | | | | | | query | | | | | | | pa | | | | | | | rameters. | | | | | | | If no | | | | | | | matching | | | | | | | is found, | | | | | | | the NRF | | | | | | | shall | | | | | | | return a | | | | | | | list of | | | | | | | s | | | | | | | tandalone | | | | | | | SMF | | | | | | | instances | | | | | | | matching | | | | | | | the other | | | | | | | query | | | | | | | pa | | | | | | | rameters. | | | | | | | If the | | | | | | | NRF | | | | | | | supports | | | | | | | this IE | | | | | | | and the | | | | | | | NF | | | | | | | service | | | | | | | consumer | | | | | | | has | | | | | | | included | | | | | | | this IE | | | | | | | with the | | | | | | | value | | | | | | | \"false\" | | | | | | | in | | | | | | | discovery | | | | | | | request, | | | | | | | the NRF | | | | | | | shall | | | | | | | look up | | | | | | | and | | | | | | | return | | | | | | | s | | | | | | | tandalone | | | | | | | SMF | | | | | | | instances | | | | | | | matching | | | | | | | the other | | | | | | | query | | | | | | | pa | | | | | | | rameters. | | | | | | | If no | | | | | | | matching | | | | | | | is found, | | | | | | | the NRF | | | | | | | shall | | | | | | | return a | | | | | | | list of | | | | | | | PGW-C+SMF | | | | | | | instances | | | | | | | matching | | | | | | | the other | | | | | | | query | | | | | | | pa | | | | | | | rameters. | | | | | | | | | | | | | | NOTE 21: | | | | | | | Either | | | | | | | pgw-ind | | | | | | | IE or | | | | | | | preferre | | | | | | | d-pgw-ind | | | | | | | IE may be | | | | | | | included | | | | | | | in the | | | | | | | discovery | | | | | | | request. | | | | | | | | | | | | | | NOTE 22: | | | | | | | MB-SMF | | | | | | | may use | | | | | | | an NRF to | | | | | | | discover | | | | | | | the | | | | | | | AMF(s) | | | | | | | serving | | | | | | | an MBS | | | | | | | service | | | | | | | area (see | | | | | | | cla | | | | | | | use 7.3.1 | | | | | | | in | | | | | | | 3GPP | | | | | | | TS 23.24 | | | | | | | 7 [43]. | | | | | | | For this | | | | | | | purpose, | | | | | | | the | | | | | | | MB-SMF | | | | | | | may use | | | | | | | query | | | | | | | p | | | | | | | arameters | | | | | | | specified | | | | | | | in this | | | | | | | table, | | | | | | | e.g. | | | | | | | \'tai\' | | | | | | | and | | | | | | | \'service | | | | | | | -names\', | | | | | | | or | | | | | | | \'s | | | | | | | nssais\', | | | | | | | or any | | | | | | | other | | | | | | | pa | | | | | | | rameters. | | | | | | | | | | | | | | NOTE 23: | | | | | | | This | | | | | | | parameter | | | | | | | may be | | | | | | | set by an | | | | | | | NF | | | | | | | service | | | | | | | consumer | | | | | | | or SCP to | | | | | | | f | | | | | | | ilter-out | | | | | | | specific | | | | | | | NF | | | | | | | (service) | | | | | | | instances | | | | | | | or NF | | | | | | | (service) | | | | | | | sets from | | | | | | | the NF | | | | | | | Discovery | | | | | | | response, | | | | | | | e.g. when | | | | | | | the NFc | | | | | | | knows | | | | | | | that an | | | | | | | NF | | | | | | | service | | | | | | | producer | | | | | | | is not | | | | | | | r | | | | | | | esponsive | | | | | | | or | | | | | | | ov | | | | | | | erloaded. | | | | | | | See the | | | | | | | 3gpp- | | | | | | | Sbi-Selec | | | | | | | tion-Info | | | | | | | header in | | | | | | | clause 5 | | | | | | | .2.3.3.10 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 29.5 | | | | | | | 00 [4]. | | | | | | | | | | | | | | NOTE 24: | | | | | | | A feature | | | | | | | shall not | | | | | | | be | | | | | | | included | | | | | | | in both | | | | | | | required | | | | | | | -features | | | | | | | IE and | | | | | | | preferred | | | | | | | -features | | | | | | | IE in the | | | | | | | same | | | | | | | discovery | | | | | | | request. | | | | | | | | | | | | | | NOTE 25: | | | | | | | When | | | | | | | Locality | | | | | | | is | | | | | | | c | | | | | | | onfigured | | | | | | | in | | | | | | | NSACF(s), | | | | | | | an NSACF | | | | | | | consumer, | | | | | | | e.g. AMF | | | | | | | or SMF, | | | | | | | may use a | | | | | | | locally | | | | | | | c | | | | | | | onfigured | | | | | | | NSACF | | | | | | | Locality | | | | | | | to | | | | | | | discover | | | | | | | the | | | | | | | candidate | | | | | | | NSACF, or | | | | | | | otherwise | | | | | | | may use | | | | | | | its own | | | | | | | Locality | | | | | | | to | | | | | | | discover | | | | | | | the | | | | | | | candidate | | | | | | | NSACF. | | | | | | | When | | | | | | | Locality | | | | | | | is | | | | | | | c | | | | | | | onfigured | | | | | | | in MRF(s) | | | | | | | or | | | | | | | MRFP(s), | | | | | | | an | | | | | | | MRF/MRFP | | | | | | | consumer, | | | | | | | e.g. IMS | | | | | | | entity, | | | | | | | may use a | | | | | | | locally | | | | | | | c | | | | | | | onfigured | | | | | | | MRF/MRFP | | | | | | | Locality | | | | | | | to | | | | | | | discover | | | | | | | the | | | | | | | candidate | | | | | | | MRF/MRFP, | | | | | | | or | | | | | | | otherwise | | | | | | | may use | | | | | | | its own | | | | | | | Locality | | | | | | | to | | | | | | | discover | | | | | | | the | | | | | | | candidate | | | | | | | MRF/MRFP. | | | | | | | When | | | | | | | Locality | | | | | | | is | | | | | | | c | | | | | | | onfigured | | | | | | | in MF, an | | | | | | | MF | | | | | | | consumer, | | | | | | | e.g. IMS | | | | | | | AS, may | | | | | | | use a | | | | | | | locally | | | | | | | c | | | | | | | onfigured | | | | | | | MF | | | | | | | Locality | | | | | | | to | | | | | | | discover | | | | | | | the | | | | | | | candidate | | | | | | | MF, or | | | | | | | otherwise | | | | | | | may use | | | | | | | its own | | | | | | | Locality | | | | | | | to | | | | | | | discover | | | | | | | the | | | | | | | candidate | | | | | | | MF. | | | | | | | | | | | | | | NOTE 26: | | | | | | | Only one | | | | | | | of the | | | | | | | tar | | | | | | | get-nf-in | | | | | | | stance-id | | | | | | | and | | | | | | | target-n | | | | | | | f-instanc | | | | | | | e-id-list | | | | | | | query | | | | | | | p | | | | | | | arameters | | | | | | | may be | | | | | | | present | | | | | | | in an NF | | | | | | | Discovery | | | | | | | Request. | | | | | | | | | | | | | | NOTE 27: | | | | | | | When the | | | | | | | query | | | | | | | parameter | | | | | | | \ | | | | | | | "ue-ipv4- | | | | | | | address\" | | | | | | | or | | | | | | | \"ue-ipv6 | | | | | | | -prefix\" | | | | | | | is used | | | | | | | to | | | | | | | discover | | | | | | | a UPF as | | | | | | | specified | | | | | | | in | | | | | | | claus | | | | | | | e 4.15.10 | | | | | | | of | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 02 [3], | | | | | | | the NRF | | | | | | | shall | | | | | | | find a | | | | | | | match by | | | | | | | looking | | | | | | | into | | | | | | | either | | | | | | | nate | | | | | | | dIpv4Addr | | | | | | | essRanges | | | | | | | or | | | | | | | nat | | | | | | | edIpv6Pre | | | | | | | fixRanges | | | | | | | in the | | | | | | | DnnUpf | | | | | | | InfoItem. | | | | | | | | | | | | | | NOTE 28: | | | | | | | If the NF | | | | | | | service | | | | | | | consumer | | | | | | | includes | | | | | | | a | | | | | | | \"t | | | | | | | ai-list\" | | | | | | | query | | | | | | | parameter | | | | | | | and the | | | | | | | \ | | | | | | | "nf-tai-l | | | | | | | ist-ind\" | | | | | | | query | | | | | | | parameter | | | | | | | set to | | | | | | | true, and | | | | | | | if the | | | | | | | NRF | | | | | | | supports | | | | | | | the same | | | | | | | and the | | | | | | | NRF is | | | | | | | not able | | | | | | | to find | | | | | | | any NF | | | | | | | s | | | | | | | upporting | | | | | | | all TAs | | | | | | | included | | | | | | | in the | | | | | | | tai-list, | | | | | | | the NRF | | | | | | | may | | | | | | | return a | | | | | | | list of | | | | | | | NFs in | | | | | | | the | | | | | | | Sea | | | | | | | rchResult | | | | | | | where | | | | | | | each NF | | | | | | | supports | | | | | | | at least | | | | | | | one TA in | | | | | | | the | | | | | | | tai-list; | | | | | | | in this | | | | | | | case, the | | | | | | | NRF | | | | | | | should | | | | | | | attempt | | | | | | | to return | | | | | | | a list of | | | | | | | NFs that | | | | | | | a | | | | | | | ltogether | | | | | | | support | | | | | | | as many | | | | | | | TAIs from | | | | | | | the | | | | | | | tai-list | | | | | | | as | | | | | | | possible, | | | | | | | and it | | | | | | | should | | | | | | | indicate | | | | | | | in the | | | | | | | SearchR | | | | | | | esultInfo | | | | | | | attribute | | | | | | | the list | | | | | | | of TAIs | | | | | | | from the | | | | | | | tai-list | | | | | | | which are | | | | | | | not | | | | | | | supported | | | | | | | by these | | | | | | | NFs. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
When certain query parameters in the discovery request are not supported by
the NRF, the NRF shall ignore the unsupported query parameters and continue
processing the request with the supported query parameters. The default
logical relationship among the supported query parameters is logical \"AND\",
i.e. all the provided query parameters shall be matched, with the exception of
the \"preferred-locality\", \"ext-preferred-locality\", \"preferred-nf-
instances\", \"preferred-tai\", \"preferred-api-versions\", \"preferred-full-
plmn\", \"preferred-collocated-nf-types\", \"preferred-pgw-ind\", \"preferred-
analytics-delays\", \"preferred-features\" and \"mbs-session-id\" query
parameters (see Table 6.2.3.2.3.1-1).
The NRF may support the Complex query expression as defined in 3GPP TS 29.501
[5] for the NF Discovery service. If the \"complexQuery\" query parameter is
included, then the logical relationship among the query parameters contained
in \"complexQuery\" query parameter is as defined in 3GPP TS 29.571 [7].
A NRF not supporting Complex query expression shall reject a NF service
discovery request including a complexQuery parameter, with a ProblemDetails IE
including the cause attribute set to INVALID_QUERY_PARAM and the invalidParams
attribute indicating the complexQuery parameter.
This method shall support the request data structures specified in table
6.1.3.2.3.1-2 and the response data structures and response codes specified in
table 6.1.3.2.3.1-3.
Table 6.2.3.2.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.2.3.1-3: Data structures supported by the GET Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | SearchResult | M | 1 | 200 OK | The response | | | | | | body contains | | | | | | the result of | | | | | | the search | | | | | | over the list | | | | | | of registered | | | | | | NF Instances. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | The response | | irectResponse | | | Redirect | shall be used | | | | | | when the | | | | | | intermediate | | | | | | NRF redirects | | | | | | the service | | | | | | discovery | | | | | | request. | | | | | | | | | | | | The NRF shall | | | | | | include in | | | | | | this response | | | | | | a Location | | | | | | header field | | | | | | containing a | | | | | | URI pointing | | | | | | to the | | | | | | resource | | | | | | located on | | | | | | the redirect | | | | | | target NRF. | | | | | | | | | | | | If an SCP | | | | | | redirects the | | | | | | message to | | | | | | another SCP | | | | | | then the | | | | | | location | | | | | | header field | | | | | | shall contain | | | | | | the same URI | | | | | | or a | | | | | | different URI | | | | | | pointing to | | | | | | the endpoint | | | | | | of the NF | | | | | | service | | | | | | producer to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 400 Bad | The response | | roblemDetails | | | Request | body contains | | | | | | the error | | | | | | reason of the | | | | | | request | | | | | | message. | | | | | | | | | | | | If the query | | | | | | parameter | | | | | | used to match | | | | | | the | | | | | | authorization | | | | | | parameter is | | | | | | required but | | | | | | not provided | | | | | | in the NF | | | | | | discovery | | | | | | request, the | | | | | | \"cause\" | | | | | | attribute | | | | | | shall be set | | | | | | to | | | | | | \"MANDATORY | | | | | | _QUERY_PARA | | | | | | M_MISSING\", | | | | | | and the | | | | | | missing query | | | | | | parameter | | | | | | shall be | | | | | | indicated. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 403 Forbidden | This response | | roblemDetails | | | | shall be | | | | | | returned if | | | | | | the Requester | | | | | | NF is not | | | | | | allowed to | | | | | | discover the | | | | | | NF Service(s) | | | | | | being | | | | | | queried. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 404 Not Found | This response | | roblemDetails | | | | shall be | | | | | | returned if | | | | | | the requested | | | | | | resource URI | | | | | | as defined in | | | | | | cla | | | | | | use 6.2.3.2.2 | | | | | | (query | | | | | | parameter not | | | | | | considered) | | | | | | is not found | | | | | | in the | | | | | | server. | | | | | | | | | | | | It may also | | | | | | be sent in | | | | | | hierarchical | | | | | | NRF | | | | | | deployments | | | | | | when the NRF | | | | | | needs to | | | | | | for | | | | | | ward/redirect | | | | | | the request | | | | | | to another | | | | | | NRF but lacks | | | | | | information | | | | | | in the | | | | | | request to do | | | | | | so; | | | | | | similarly, | | | | | | the NRF shall | | | | | | return this | | | | | | response code | | | | | | when it is | | | | | | received from | | | | | | the upstream | | | | | | NRF. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 500 Internal | The response | | roblemDetails | | | Server Error | body contains | | | | | | the error | | | | | | reason of the | | | | | | request | | | | | | message. | +---------------+---+-------------+---------------+---------------+
Table 6.2.3.2.3.1-4: Headers supported by the GET method on this endpoint
* * *
Name Data type P Cardinality Description If-None-Match string C 0..1 Validator
for conditional requests, as described in IETF RFC 7232 [19], clause 3.2
* * *
Table 6.2.3.2.3.1-5: Headers supported by the 200 Response Code on this
endpoint
* * *
Name Data type P Cardinality Description Cache-Control string C 0..1 Cache-
Control containing max-age, described in IETF RFC 7234 [20], clause 5.2 ETag
string C 0..1 Entity Tag containing a strong validator, described in IETF RFC
7232 [19], clause 2.3
* * *
Table 6.2.3.2.3.1-6: Headers supported by the 307 Response Code on this
endpoint
* * *
Name Data type P Cardinality Description Location string M 1 The URI pointing
to the resource located on the redirect target NRF
* * *
Table 6.2.3.2.3.1-7: Links supported by the 200 Response Code on this endpoint
* * *
Name Resource name HTTP method or custom operation Parameters table
Description search Stored Search (Document) GET 6.2.3.2.3.1-8 The \'searchId\'
parameter returned in the response can be used as the \'searchId\' parameter
in the GET request to \'/searches/{searchId}\' completeSearch Complete Stored
Search (Document) GET 6.2.3.2.3.1-9 The \'searchId\' parameter returned in the
response can be used as the \'searchId\' parameter in the GET request to
\'/searches/{searchId}/complete\'
* * *
##### 6.2.3.2.4 Resource Custom Operations
There are no resource custom operations for the Nnrf_NFDiscovery service in
this release of the specification.
#### 6.2.3.3 Resource: Stored Search (Document)
##### 6.2.3.3.1 Description
This resource represents a search result (i.e. a number of discovered NF
Instances), stored by NRF as a consequence of a prior search result.
This resource is modelled as the Document resource archetype (see clause C.3
of 3GPP TS 29.501 [5]).
##### 6.2.3.3.2 Resource Definition
Resource URI: **{apiRoot}/nnrf-disc/v1/searches/{searchId}**
This resource shall support the resource URI variables defined in table
6.2.3.3.2-1.
Table 6.2.3.3.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.1.1 searchId string Identifier of a stored search
result, returned by NRF to the NF Consumer in the original response to the NF
Discovery GET operation (see clause 6.2.6.2.2).
##### 6.2.3.3.2.1 GET {#get-4 .H6}
This method retrieves the NF Instances corresponding to a given stored search
result.
This method shall support the URI query parameters specified in table
6.2.3.3.2.1-1.
Table 6.2.3.3.2.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.2.3.3.2.1-2 and the response data structures and response codes specified in
table 6.2.3.3.2.1-3.
Table 6.2.3.3.2.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.3.2.1-3: Data structures supported by the GET Response Body on
this resource
+-----------------+---+-------------+----------+-----------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +-----------------+---+-------------+----------+-----------------+ | Sto | M | 1 | 200 OK | The response | | redSearchResult | | | | body contains | | | | | | the NF | | | | | | Instances | | | | | | corresponding | | | | | | to a given | | | | | | stored search | | | | | | result. | +-----------------+---+-------------+----------+-----------------+ | NOTE: The | | | | | | mandatory HTTP | | | | | | error status | | | | | | codes for the | | | | | | GET method | | | | | | listed in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP | | | | | | TS 29.500 [4] | | | | | | other than | | | | | | those specified | | | | | | in the table | | | | | | above also | | | | | | apply, with a | | | | | | ProblemDetails | | | | | | data type (see | | | | | | clause 5.2.7 of | | | | | | 3GPP TS | | | | | | 29.500 [4]). | | | | | +-----------------+---+-------------+----------+-----------------+
#### 6.2.3.4 Resource: Complete Stored Search (Document)
##### 6.2.3.4.1 Description
This resource represents a complete search result (i.e. a number of discovered
NF Instances), stored by NRF as a consequence of a prior search result, but
without applying any client restrictions in terms of the number of instances
to be returned (i.e. \"limit\" or \"max-payload-size\" query parameters).
This resource is modelled as the Document resource archetype (see clause C.3
of 3GPP TS 29.501 [5]).
##### 6.2.3.4.2 Resource Definition
Resource URI: **{apiRoot}/nnrf-disc/v1/searches/{searchId}/complete**
This resource shall support the resource URI variables defined in table
6.2.3.4.2-1.
Table 6.2.3.4.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.1.1 searchId string Identifier of a stored search
result, returned by NRF to the NF Consumer in the original response to the NF
Discovery GET operation (see clause 6.2.6.2.2).
##### 6.2.3.4.2.1 GET {#get-5 .H6}
This method retrieves the NF Instances corresponding to a given stored search
result.
This method shall support the URI query parameters specified in table
6.2.3.4.2.1-1.
Table 6.2.3.4.2.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.2.3.4.2.1-2 and the response data structures and response codes specified in
table 6.2.3.4.3.1-3.
Table 6.2.3.4.2.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.4.2.1-3: Data structures supported by the GET Response Body on
this resource
+-----------------+---+-------------+----------+-----------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +-----------------+---+-------------+----------+-----------------+ | Sto | M | 1 | 200 OK | The response | | redSearchResult | | | | body contains | | | | | | the NF | | | | | | Instances | | | | | | corresponding | | | | | | to a given | | | | | | stored search | | | | | | result, but | | | | | | without | | | | | | applying any | | | | | | client | | | | | | restrictions in | | | | | | terms of the | | | | | | number of | | | | | | instances to be | | | | | | returned (i.e. | | | | | | \"limit\" or | | | | | | \"max | | | | | | -payload-size\" | | | | | | query | | | | | | parameters). | +-----------------+---+-------------+----------+-----------------+ | NOTE: The | | | | | | mandatory HTTP | | | | | | error status | | | | | | codes for the | | | | | | GET method | | | | | | listed in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP | | | | | | TS 29.500 [4] | | | | | | other than | | | | | | those specified | | | | | | in the table | | | | | | above also | | | | | | apply, with a | | | | | | ProblemDetails | | | | | | data type (see | | | | | | clause 5.2.7 of | | | | | | 3GPP TS | | | | | | 29.500 [4]). | | | | | +-----------------+---+-------------+----------+-----------------+
#### 6.2.3.5 Resource: SCP Domain Routing Information (Document)
##### 6.2.3.5.1 Description
This resource represents (local) SCP Domain Routing Information, calculated by
NRF based on SCPs registered in the network (or in the producer NRF for local
SCP Domain Routing Information).
This resource is modelled as the Document resource archetype (see clause C.3
of 3GPP TS 29.501 [5]).
##### 6.2.3.5.2 Resource Definition
Resource URI: **{apiRoot}/nnrf-disc/v1/scp-domain-routing-info**
This resource shall support the resource URI variables defined in table
6.2.3.5.2-1.
Table 6.2.3.5.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.2.1
##### 6.2.3.5.2.1 GET {#get-6 .H6}
This method retrieves the (local) SCP Domain Routing Information.
This method shall support the URI query parameters specified in table
6.2.3.5.2.1-1.
Table 6.2.3.5.2.1-1: URI query parameters supported by the GET method on this
resource
+-------+-----------+---+-------------+----------------------+ | Name | Data type | P | Cardinality | Description | +-------+-----------+---+-------------+----------------------+ | local | boolean | O | 0..1 | When present, this | | | | | | IE shall indicate | | | | | | whether local SCP | | | | | | Domain Routing | | | | | | Information is to be | | | | | | fetched: | | | | | | | | | | | | - true: local SCP | | | | | | Domain Routing | | | | | | Information to be | | | | | | fetched. | | | | | | | | | | | | - false (default): | | | | | | SCP Domain Routing | | | | | | Information to be | | | | | | fetched | +-------+-----------+---+-------------+----------------------+
This method shall support the request data structures specified in table
6.2.3.5.2.1-2 and the response data structure and response codes specified in
table 6.2.3.5.2.1-3.
Table 6.2.3.5.2.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.5.2.1-3: Data structures supported by the GET Response Body on
this resource
+-----------------+---+-------------+----------+-----------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +-----------------+---+-------------+----------+-----------------+ | ScpDo | M | 1 | 200 OK | The response | | mainRoutingInfo | | | | body contains | | | | | | SCP Domain | | | | | | Routing | | | | | | Information. | +-----------------+---+-------------+----------+-----------------+ | NOTE: The | | | | | | mandatory HTTP | | | | | | error status | | | | | | codes for the | | | | | | GET method | | | | | | listed in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP | | | | | | TS 29.500 [4] | | | | | | other than | | | | | | those specified | | | | | | in the table | | | | | | above also | | | | | | apply, with a | | | | | | ProblemDetails | | | | | | data type (see | | | | | | clause 5.2.7 of | | | | | | 3GPP TS | | | | | | 29.500 [4]). | | | | | +-----------------+---+-------------+----------+-----------------+
#### 6.2.3.6 Resource: SCP Domain Routing Information Subscriptions
(Collection)
##### 6.2.3.6.1 Description
This resource represents a collection of subscriptions of (local) SCP Domain
Routing Information.
##### 6.2.3.6.2 Resource Definition
Resource URI: **{apiRoot}/nnrf-disc/v1/scp-domain-routing-info-subs**
This resource shall support the resource URI variables defined in table
6.2.3.6.2-1.
Table 6.1.3.6.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.2.1
##### 6.2.3.6.3 Resource Standard Methods
##### 6.2.3.6.3.1 POST {#post-1 .H6}
This method creates a new subscription. This method shall support the URI
query parameters specified in table 6.2.3.6.3.1-1.
Table 6.2.3.6.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.2.3.6.3.1-2 and the response data structure and response codes specified in
table 6.2.3.6.3.1-3.
Table 6.2.3.6.3.1-2: Data structures supported by the POST Request Body on
this resource
* * *
Data type P Cardinality Description ScpDomainRoutingInfoSubscription M 1 The
request body contains the input parameters for the subscription.
* * *
Table 6.2.3.6.3.1-3: Data structures supported by the POST Response Body on
this resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+-------------+---------------+ | ScpDom | M | 1 | 201 Created | This case | | ainRoutingInf | | | | represents | | oSubscription | | | | the | | | | | | successful | | | | | | creation of a | | | | | | subscription. | | | | | | | | | | | | Upon success, | | | | | | the HTTP | | | | | | response | | | | | | shall include | | | | | | a | | | | | | \"Location\" | | | | | | HTTP header | | | | | | that contains | | | | | | the resource | | | | | | URI of the | | | | | | created | | | | | | resource. | +---------------+---+-------------+-------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+-------------+---------------+
Table 6.2.3.6.3.1-4: Headers supported by the 201 Response Code on this
resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/nnrf-
disc/v1/scp-domain-routing-info-subs/{subscriptionId}
* * *
#### 6.2.3.7 Resource: Individual SCP Domain Routing Information Subscription
(Document)
##### 6.2.3.7.1 Description
This resource represents an individual subscription of (local) SCP Domain
Routing Information.
##### 6.2.3.7.2 Resource Definition
Resource URI: **{apiRoot}/nnrf-disc/v1/scp-domain-routing-info-
subs/{subscriptionID}**
This resource shall support the resource URI variables defined in table
6.2.3.7.2-1.
Table 6.2.3.7.2-1: Resource URI variables for this resource
Name Data type Definition
* * *
apiRoot string See clause 6.2.1 subscriptionID string Represents a specific
subscription
##### 6.2.3.7.3 Resource Standard Methods
##### 6.2.3.7.3.1 DELETE {#delete-2 .H6}
This method terminates an existing subscription. This method shall support the
URI query parameters specified in table 6.2.3.7.3.1-1.
Table 6.2.3.7.3.1-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
6.2.3.7.3.1-2 and the response data structure and response codes specified in
table 6.2.3.7.3.1-3.
Table 6.2.3.7.3.1-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.2.3.7.3.1-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+-------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+-------------+ | n/a | | | 204 No | | | | | | Content | | +---------------+---+-------------+---------------+-------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+-------------+
### 6.2.4 Custom Operations without associated resources
There are no custom operations defined without any associated resources for
the Nnrf_NFDiscovery service in this release of this specification.
### 6.2.5 Notifications
#### 6.2.5.1 General
This clause specifies the notifications provided by the Nnrf_NFDiscovery
service.
The delivery of notifications shall be supported as specified in clause 6.2 of
3GPP TS 29.500 [4] for Server-initiated communication.
Table 6.2.5.1-1: Notifications overview
+----------------+----------------+----------------+----------------+ | Notification | Resource URI | HTTP method or | Description | | | | custom | | | | | operation | (service | | | | | operation) | +================+================+================+================+ | SCP Domain | {callbackUri} | POST | Notify about | | Routing | | | change of SCP | | Information | (NF Service | | Domain Routing | | Change | Consumer | | Information | | Notification | provided | | | | | callback | | | | | reference) | | | +----------------+----------------+----------------+----------------+
#### 6.2.5.2 SCP Domain Routing Information Change Notification
##### 6.2.5.2.1 Description
The NF Service Consumer provides a callback URI for getting notified about
change of (local) SCP Domain Routing Information, the NRF shall notify the NF
Service Consumer, when the (local) SCP Domain Routing Information is updated.
##### 6.2.5.2.2 Notification Definition
The POST method shall be used for SCP Domain Routing Information Change
Notification and the URI shall be the callback reference provided by the NF
Service Consumer during the subscription to this notification.
Resource URI: **{callbackUri}**
Support of URI query parameters are specified in table 6.2.5.2.2-1.
Table 6.2.5.2.2-1: URI query parameters supported by the POST method
* * *
Name Data type P Cardinality Description n/a
* * *
Support of request data structures is specified in table 6.2.5.2.2-2, and
support of response data structures and response codes is specified in table
6.2.5.2-3.
Table 6.2.5.2.2-2: Data structures supported by the POST Request Body
* * *
Data type P Cardinality Description ScpDomainRoutingInfoNotification M 1
Representation of the SCP Domain Routing Information Change Notification.
* * *
Table 6.2.5.2.2-3: Data structures supported by the POST Response Body
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | N/A | | | 204 No | This case | | | | | Content | represents a | | | | | | successful | | | | | | notification | | | | | | of SCP Domain | | | | | | Routing | | | | | | Information | | | | | | Change. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | other than | | | | | | those | | | | | | specified in | | | | | | the table | | | | | | above also | | | | | | apply, with a | | | | | | P | | | | | | roblemDetails | | | | | | data type | | | | | | (see clause | | | | | | 5.2.7 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | +---------------+---+-------------+---------------+---------------+
### 6.2.6 Data Model
#### 6.2.6.1 General
This clause specifies the application data model supported by the API.
Table 6.2.6.1-1 specifies the data types defined for the Nnrf service based
interface protocol.
Table 6.2.6.1-1: Nnrf_NFDiscovery specific Data Types
Data type Clause defined Description
* * *
SearchResult 6.2.6.2.2 Contains the list of NF Profiles returned in a
Discovery response. NFProfile 6.2.6.2.3 Information of an NF Instance
discovered by the NRF. NFService 6.2.6.2.4 Information of a given NF Service
Instance; it is part of the NFProfile of an NF Instance discovered by the NRF.
StoredSearchResult 6.2.6.2.5 Contains a complete search result (i.e. a number
of discovered NF Instances), stored by NRF as a consequence of a prior search
result. PreferredSearch 6.2.6.2.6 Contains information on whether the returned
NFProfiles match the preferred query parameters. NfInstanceInfo 6.2.6.2.7
Contains information on an NF profile matching a discovery request.
ScpDomainRoutingInfo 6.2.6.2.8 SCP Domain Routing Information
ScpDomainConnectivity 6.2.6.2.9 SCP Domain Routing Information
ScpDomainRoutingInfoSubscription 6.2.6.2.10 SCP Domain Routing Information
Subscription ScpDomainRoutingInfoNotification 6.2.6.2.11 Notification for SCP
Domain Routing Information Update NfServiceInstance 6.2.6.2.12 NF service
instance NoProfileMatchInfo 6.2.6.2.13 No Profile Matching information
QueryParamCombination 6.2.6.2.14 Contains a list of query parameters
QueryParameter 6.2.6.2.15 Contains name and value of a query parameter AfData
6.2.6.2.16 Contains information supported by the trusted AF. SearchResultInfo
6.2.6.2.17 Contains additional information related to the SearchResult.
Table 6.2.6.1-2 specifies data types re-used by the Nnrf_NFDiscovery service-
based interface protocol from other specifications, including a reference to
their respective specifications and when needed, a short description of their
use within the Nnrf_NFDiscovery service-based interface.
Table 6.2.6.1-2: Nnrf_NFDiscovery re-used Data Types
Data type Reference Comments
* * *
Snssai 3GPP TS 29.571 [7]  
PlmnId 3GPP TS 29.571 [7]  
Dnn 3GPP TS 29.571 [7]  
Tai 3GPP TS 29.571 [7]  
SupportedFeatures 3GPP TS 29.571 [7]  
NfInstanceId 3GPP TS 29.571 [7] Identifier (UUID) of the NF Instance. The
hexadecimal letters of the UUID should be formatted by the sender as lower-
case characters and shall be handled as case-insensitive by the receiver. Uri
3GPP TS 29.571 [7]  
Gpsi 3GPP TS 29.571 [7]  
GroupId 3GPP TS 29.571 [7]  
Guami 3GPP TS 29.571 [7]  
IPv4Addr 3GPP TS 29.571 [7]  
IPv6Addr 3GPP TS 29.571 [7]  
UriScheme 3GPP TS 29.571 [7]  
Dnai 3GPP TS 29.571 [7]  
NfGroupId 3GPP TS 29.571 [7] Identifier of a NF Group PduSessionType 3GPP TS
29.571 [7]  
AtsssCapability 3GPP TS 29.571 [7]  
PlmnIdNid 3GPP TS 29.571 [7]  
NfSetId 3GPP TS 29.571 [7]  
NfServiceSetId 3GPP TS 29.571 [7]  
ExtSnssai 3GPP TS 29.571 [7]  
DurationSec 3GPP TS 29.571 [7]  
RedirectResponse 3GPP TS 29.571 [7] Response body of the redirect response
message. MbsSessionId 3GPP TS 29.571 [7] MBS Session Identifier IpAddr 3GPP TS
29.571 [7] IP Address AreaSessionId 3GPP TS 29.571 [7] Area Session Identifier
used for an MBS session with location dependent content Fqdn 3GPP TS 29.571
[7] Fully Qualified Domain Name EventId 3GPP TS 29.520 [32] Defined in
Nnwdaf_AnalyticsInfo API. NwdafEvent 3GPP TS 29.520 [32] Defined in
Nnwdaf_EventsSubscription API. ExtGroupId 3GPP TS 29.503 [36]  
SharedDataId 3GPP TS 29.503 [36]  
ExternalClientType 3GPP TS 29.572 [33]  
SupportedGADShapes 3GPP TS 29.572 [33] Supported GAD Shapes EventType 3GPP TS
29.564 [49] Event type supported by the UPF Event Exposure service
DefaultNotificationSubscription 3GPP TS 29.510 See clause 6.1.6.2.4 IPEndPoint
3GPP TS 29.510 See clause 6.1.6.2.5 NFType 3GPP TS 29.510 See clause 6.1.6.3.3
UdrInfo 3GPP TS 29.510 See clause 6.1.6.2.6 UdmInfo 3GPP TS 29.510 See clause
6.1.6.2.7 AusfInfo 3GPP TS 29.510 See clause 6.1.6.2.8 SupiRange 3GPP TS
29.510 See clause 6.1.6.2.9 AmfInfo 3GPP TS 29.510 See clause 6.1.6.2.11
SmfInfo 3GPP TS 29.510 See clause 6.1.6.2.12 UpfInfo 3GPP TS 29.510 See clause
6.1.6.2.13 PcfInfo 3GPP TS 29.510 See clause 6.1.6.2.20 BsfInfo 3GPP TS 29.510
See clause 6.1.6.2.21 ChfInfo 3GPP TS 29.510 See clause 6.1.6.2.32
NFServiceVersion 3GPP TS 29.510 See clause 6.1.6.2.19 PlmnSnssai 3GPP TS
29.510 See clause 6.1.6.2.44 NwdafInfo 3GPP TS 29.510 See clause 6.1.6.2.45
NFStatus 3GPP TS 29.510 See clause 6.1.6.3.7 DataSetId 3GPP TS 29.510 See
clause 6.1.6.3.8 ServiceName 3GPP TS 29.510 See clause 6.1.6.3.11
NFServiceStatus 3GPP TS 29.510 See clause 6.1.6.3.12 LmfInfo 3GPP TS 29.510
See clause 6.1.6.2.46 GmlcInfo 3GPP TS 29.510 See clause 6.1.6.2.47 NefInfo
3GPP TS 29.510 See clause 6.1.6.2.48 PfdData 3GPP TS 29.510 See clause
6.1.6.2.49 AfEventExposureData 3GPP TS 29.510 See clause 6.1.6.2.50 PcscfInfo
3GPP TS 29.510 See clause 6.1.6.2.53 HssInfo 3GPP TS 29.510 See clause
6.1.6.2.57 ImsiRange 3GPP TS 29.510 See clause 6.1.6.2.58
VendorSpecificFeature 3GPP TS 29.510 See clause 6.1.6.2.62 ScpInfo 3GPP TS
29.510 See clause 6.1.6.2.65 NefId 3GPP TS 29.510 See clause 6.1.6.3.2
VendorId 3GPP TS 29.510 See clause 6.1.6.3.2 AnNodeType 3GPP TS 29.510 See
clause 6.1.6.3.13 SuciInfo 3GPP TS 29.510 See clause 6.1.6.2.71 SeppInfo 3GPP
TS 29.510 See clause 6.1.6.2.72 NsacfInfo 3GPP TS 29.510 See clause 6.1.6.2.81
NsacfCapability 3GPP TS 29.510 See clause 6.1.6.2.82 MlAnalyticsInfo 3GPP TS
29.510 See clause 6.1.6.2.84 MbSmfInfo 3GPP TS 29.510 See clause 6.1.6.2.85
TsctsfInfo 3GPP TS 29.510 See clause 6.1.6.2.91 MbUpfInfo 3GPP TS 29.510 See
clause 6.1.6.2.94 TrustAfInfo 3GPP TS 29.510 See clause 6.1.6.2.96
CollocatedNfInstance 3GPP TS 29.510 See clause 6.1.6.2.99 NssaafInfo 3GPP TS
29.510 See clause 6.1.6.2.104 IwmscInfo 3GPP TS 29.510 See clause 6.1.6.2.108
MnpfInfo 3GPP TS 29.510 See clause 6.1.6.2.109 LocalityDescriptionItem 3GPP TS
29.510 See clause 6.1.6.2.111 LocalityDescription 3GPP TS 29.510 See clause
6.1.6.2.112 DcsfInfo 3GPP TS 29.510 See clause 6.1.6.2.114 MrfInfo 3GPP TS
29.510 See clause 6.1.6.2.117 MrfpInfo 3GPP TS 29.510 See clause 6.1.6.2.118
MfInfo 3GPP TS 29.510 See clause 6.1.6.2.119 LocalityType 3GPP TS 29.510 See
clause 6.1.6.3.18 AdrfInfo 3GPP TS 29.510 See clause 6.1.6.2.122
SelectionConditions 3GPP TS 29.510 See clause 6.1.6.2.123
#### 6.2.6.2 Structured data types
##### 6.2.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 6.2.6.2.2 Type: SearchResult
Table 6.2.6.2.2-1: Definition of type SearchResult
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | valid | integer | M | 1 | It shall | | | ityPeriod | | | | contain | | | | | | | the time | | | | | | | in | | | | | | | seconds | | | | | | | during | | | | | | | which the | | | | | | | discovery | | | | | | | result is | | | | | | | c | | | | | | | onsidered | | | | | | | valid and | | | | | | | can be | | | | | | | cached by | | | | | | | the NF | | | | | | | Service | | | | | | | Consumer. | | | | | | | This | | | | | | | value | | | | | | | shall be | | | | | | | the same | | | | | | | as the | | | | | | | value | | | | | | | contained | | | | | | | in the | | | | | | | \" | | | | | | | max-age\" | | | | | | | parameter | | | | | | | of the | | | | | | | \"Cache- | | | | | | | Control\" | | | | | | | header | | | | | | | field | | | | | | | sent in | | | | | | | the HTTP | | | | | | | response. | | +-----------+-----------+---+-----------+-----------+-----------+ | nf | array(N | M | 0..N | It shall | | | Instances | FProfile) | | | contain | | | | | | | an array | | | | | | | of NF | | | | | | | Instance | | | | | | | profiles, | | | | | | | matching | | | | | | | the | | | | | | | search | | | | | | | criteria | | | | | | | indicated | | | | | | | by the | | | | | | | query | | | | | | | p | | | | | | | arameters | | | | | | | of the | | | | | | | discovery | | | | | | | request. | | | | | | | If the | | | | | | | nfInst | | | | | | | ancesList | | | | | | | IE is | | | | | | | absent, | | | | | | | an empty | | | | | | | array | | | | | | | means | | | | | | | there is | | | | | | | no NF | | | | | | | instance | | | | | | | that can | | | | | | | match the | | | | | | | search | | | | | | | criteria. | | | | | | | | | | | | | | NF | | | | | | | instance | | | | | | | profiles | | | | | | | included | | | | | | | in this | | | | | | | IE shall | | | | | | | not | | | | | | | contain | | | | | | | auth | | | | | | | orization | | | | | | | a | | | | | | | ttributes | | | | | | | (such as | | | | | | | the | | | | | | | \"all | | | | | | | owedXXX\" | | | | | | | a | | | | | | | ttributes | | | | | | | of the | | | | | | | NFProfile | | | | | | | or | | | | | | | NFService | | | | | | | data | | | | | | | types). | | +-----------+-----------+---+-----------+-----------+-----------+ | c | array(N | C | 1..N | When | | | ompleteNf | FProfile) | | | present, | | | Instances | | | | it shall | | | | | | | contain | | | | | | | an array | | | | | | | of | | | | | | | complete | | | | | | | NF | | | | | | | Instance | | | | | | | profiles | | | | | | | ( | | | | | | | including | | | | | | | auth | | | | | | | orization | | | | | | | a | | | | | | | ttributes | | | | | | | such as | | | | | | | the | | | | | | | \"all | | | | | | | owedXXX\" | | | | | | | a | | | | | | | ttributes | | | | | | | of the | | | | | | | NFProfile | | | | | | | or | | | | | | | NFService | | | | | | | data | | | | | | | types), | | | | | | | matching | | | | | | | the | | | | | | | search | | | | | | | criteria | | | | | | | indicated | | | | | | | by the | | | | | | | query | | | | | | | p | | | | | | | arameters | | | | | | | of the | | | | | | | discovery | | | | | | | request. | | | | | | | | | | | | | | This IE | | | | | | | shall | | | | | | | only be | | | | | | | present | | | | | | | if the | | | | | | | NRF | | | | | | | supports | | | | | | | the | | | | | | | \"C | | | | | | | omplete-P | | | | | | | rofile-Di | | | | | | | scovery\" | | | | | | | feature, | | | | | | | the | | | | | | | \" | | | | | | | complete- | | | | | | | profile\" | | | | | | | query | | | | | | | parameter | | | | | | | is | | | | | | | present | | | | | | | and set | | | | | | | to true | | | | | | | in the | | | | | | | request | | | | | | | (see | | | | | | | c | | | | | | | lause 6.2 | | | | | | | .3.2.3.1) | | | | | | | and if | | | | | | | the | | | | | | | r | | | | | | | equesting | | | | | | | entity is | | | | | | | a | | | | | | | uthorized | | | | | | | to | | | | | | | discover | | | | | | | the | | | | | | | complete | | | | | | | profile | | | | | | | of NF | | | | | | | i | | | | | | | nstances. | | +-----------+-----------+---+-----------+-----------+-----------+ | searchId | string | O | 0..1 | This IE | | | | | | | may be | | | | | | | present | | | | | | | if the | | | | | | | NRF | | | | | | | stores | | | | | | | the | | | | | | | result of | | | | | | | the | | | | | | | current | | | | | | | service | | | | | | | discovery | | | | | | | response | | | | | | | in a | | | | | | | given URL | | | | | | | (se | | | | | | | rver-side | | | | | | | caching), | | | | | | | to make | | | | | | | it | | | | | | | available | | | | | | | in the | | | | | | | future to | | | | | | | NF | | | | | | | Service | | | | | | | Consumers | | | | | | | without | | | | | | | having to | | | | | | | compute | | | | | | | the whole | | | | | | | search | | | | | | | process | | | | | | | again. | | +-----------+-----------+---+-----------+-----------+-----------+ | numNfIns | Uint32 | O | 0..1 | This IE | | | tComplete | | | | may be | | | | | | | present | | | | | | | when the | | | | | | | total | | | | | | | number of | | | | | | | NF | | | | | | | Instances | | | | | | | found by | | | | | | | NRF, as | | | | | | | the | | | | | | | result of | | | | | | | the | | | | | | | service | | | | | | | discovery | | | | | | | process, | | | | | | | is higher | | | | | | | than the | | | | | | | actual | | | | | | | number of | | | | | | | NF | | | | | | | Instances | | | | | | | included | | | | | | | in the | | | | | | | attribute | | | | | | | nf | | | | | | | Instances | | | | | | | of the | | | | | | | Sea | | | | | | | rchResult | | | | | | | object. | | | | | | | This may | | | | | | | happen | | | | | | | due to | | | | | | | the NF | | | | | | | Service | | | | | | | Consumer | | | | | | | including | | | | | | | in the | | | | | | | discovery | | | | | | | request | | | | | | | p | | | | | | | arameters | | | | | | | such as | | | | | | | \"limit\" | | | | | | | or | | | | | | | \"m | | | | | | | ax-payloa | | | | | | | d-size\". | | +-----------+-----------+---+-----------+-----------+-----------+ | prefer | Prefer | C | 0..1 | This IE | | | redSearch | redSearch | | | shall be | | | | | | | present | | | | | | | to | | | | | | | indicate | | | | | | | whether | | | | | | | all the | | | | | | | returned | | | | | | | N | | | | | | | FProfiles | | | | | | | match the | | | | | | | preferred | | | | | | | query | | | | | | | pa | | | | | | | rameters, | | | | | | | if the | | | | | | | discovery | | | | | | | request | | | | | | | contains | | | | | | | any of | | | | | | | the query | | | | | | | parameter | | | | | | | defined | | | | | | | in the | | | | | | | Prefer | | | | | | | redSearch | | | | | | | data | | | | | | | type. | | +-----------+-----------+---+-----------+-----------+-----------+ | nr | Supporte | C | 0..1 | Features | | | fSupporte | dFeatures | | | supported | | | dFeatures | | | | by the | | | | | | | NRF for | | | | | | | the | | | | | | | NF | | | | | | | Discovery | | | | | | | service | | | | | | | (see | | | | | | | clause | | | | | | | 6.2.9). | | | | | | | | | | | | | | This IE | | | | | | | should be | | | | | | | present | | | | | | | if the | | | | | | | NRF | | | | | | | supports | | | | | | | at least | | | | | | | one | | | | | | | feature. | | +-----------+-----------+---+-----------+-----------+-----------+ | nfIns | m | O | 1..N | This IE | | | tanceList | ap(NfInst | | | may be | | | | anceInfo) | | | present | | | | | | | if the NF | | | | | | | Discovery | | | | | | | request | | | | | | | indicated | | | | | | | support | | | | | | | of the | | | | | | | Enh-NF- | | | | | | | Discovery | | | | | | | feature. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | contain a | | | | | | | map of | | | | | | | NfIns | | | | | | | tanceInfo | | | | | | | of NF | | | | | | | instance | | | | | | | profiles | | | | | | | matching | | | | | | | the | | | | | | | search | | | | | | | criteria | | | | | | | indicated | | | | | | | by the | | | | | | | query | | | | | | | p | | | | | | | arameters | | | | | | | of the | | | | | | | discovery | | | | | | | request. | | | | | | | The key | | | | | | | of the | | | | | | | map shall | | | | | | | be the NF | | | | | | | instance | | | | | | | ID. | | | | | | | | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | searchR | SearchR | C | 0..1 | This IE | Query-SB | | esultInfo | esultInfo | | | should be | IProtoc18 | | | | | | present | | | | | | | if the NF | | | | | | | Discovery | | | | | | | Request | | | | | | | includes | | | | | | | a | | | | | | | tai-list | | | | | | | query | | | | | | | parameter | | | | | | | and the | | | | | | | \ | | | | | | | "nf-tai-l | | | | | | | ist-ind\" | | | | | | | query | | | | | | | parameter | | | | | | | set to | | | | | | | true, | | | | | | | when the | | | | | | | NFs | | | | | | | included | | | | | | | in the | | | | | | | nf | | | | | | | Instances | | | | | | | or | | | | | | | nfIns | | | | | | | tanceList | | | | | | | a | | | | | | | ltogether | | | | | | | support | | | | | | | only a | | | | | | | subset of | | | | | | | TAs | | | | | | | included | | | | | | | in the | | | | | | | tai-list. | | +-----------+-----------+---+-----------+-----------+-----------+ | alteredPr | boolean | O | 0..1 | This IE | | | iorityInd | | | | shall | | | | | | | indicate | | | | | | | whether | | | | | | | the NRF | | | | | | | altered | | | | | | | the | | | | | | | priority | | | | | | | values | | | | | | | returned | | | | | | | in the | | | | | | | search | | | | | | | result or | | | | | | | not. | | | | | | | (NOTE 1, | | | | | | | NOTE 3) | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall be | | | | | | | set as | | | | | | | f | | | | | | | ollowing: | | | | | | | | | | | | | | - true: | | | | | | | NF | | | | | | | instances | | | | | | | with NRF | | | | | | | altered | | | | | | | priority | | | | | | | are | | | | | | | returned | | | | | | | in the | | | | | | | search | | | | | | | result. | | | | | | | | | | | | | | - false: | | | | | | | the NRF | | | | | | | has not | | | | | | | altered | | | | | | | priority | | | | | | | values in | | | | | | | any NF | | | | | | | instance | | | | | | | returned | | | | | | | in the | | | | | | | search | | | | | | | result | | +-----------+-----------+---+-----------+-----------+-----------+ | noProfile | NoProfile | O | 0..1 | This IE | | | MatchInfo | MatchInfo | | | may be | | | | | | | present | | | | | | | if an | | | | | | | empty | | | | | | | array of | | | | | | | nf | | | | | | | Instances | | | | | | | is | | | | | | | conveyed | | | | | | | and the | | | | | | | nfInst | | | | | | | ancesList | | | | | | | IE is | | | | | | | absent; | | | | | | | otherwise | | | | | | | it shall | | | | | | | be | | | | | | | absent. | | | | | | | | | | | | | | If | | | | | | | present, | | | | | | | it shall | | | | | | | indicate | | | | | | | the | | | | | | | specific | | | | | | | reason | | | | | | | for not | | | | | | | finding | | | | | | | any NF | | | | | | | instance | | | | | | | that can | | | | | | | match the | | | | | | | search | | | | | | | criteria. | | +-----------+-----------+---+-----------+-----------+-----------+ | ignoredQu | arra | O | 1..N | This IE | | | eryParams | y(string) | | | may be | | | | | | | present | | | | | | | when the | | | | | | | NRF has | | | | | | | ignored | | | | | | | un | | | | | | | supported | | | | | | | query | | | | | | | p | | | | | | | arameters | | | | | | | when | | | | | | | p | | | | | | | rocessing | | | | | | | the | | | | | | | discovery | | | | | | | request. | | | | | | | | | | | | | | When | | | | | | | present, | | | | | | | this IE | | | | | | | shall | | | | | | | list the | | | | | | | ignored | | | | | | | un | | | | | | | supported | | | | | | | query | | | | | | | p | | | | | | | arameters | | | | | | | for this | | | | | | | d | | | | | | | iscovery. | | | | | | | Each | | | | | | | array | | | | | | | item | | | | | | | shall | | | | | | | uniquely | | | | | | | indicate | | | | | | | one | | | | | | | ignored | | | | | | | query | | | | | | | p | | | | | | | arameter, | | | | | | | with the | | | | | | | query | | | | | | | parameter | | | | | | | name as | | | | | | | specified | | | | | | | in | | | | | | | Ta | | | | | | | ble 6.2.3 | | | | | | | .2.3.1-1. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | If NRF | | | | | | | altered | | | | | | | priority | | | | | | | values | | | | | | | are | | | | | | | returned | | | | | | | in the | | | | | | | search | | | | | | | result, | | | | | | | when the | | | | | | | NF | | | | | | | consumer | | | | | | | receives | | | | | | | a | | | | | | | different | | | | | | | priority | | | | | | | value in | | | | | | | a | | | | | | | s | | | | | | | ubsequent | | | | | | | NF | | | | | | | Profile | | | | | | | change | | | | | | | not | | | | | | | ification | | | | | | | for NF | | | | | | | in | | | | | | | stance(s) | | | | | | | returned | | | | | | | in the | | | | | | | search | | | | | | | result, | | | | | | | the NF | | | | | | | consumer | | | | | | | should | | | | | | | not | | | | | | | overwrite | | | | | | | the NRF | | | | | | | altered | | | | | | | priority | | | | | | | in the | | | | | | | cached | | | | | | | search | | | | | | | result. | | | | | | | | | | | | | | NOTE 2: | | | | | | | If the | | | | | | | alteredPr | | | | | | | iorityInd | | | | | | | IE is | | | | | | | present | | | | | | | and set | | | | | | | to true | | | | | | | and the | | | | | | | nr | | | | | | | fAlteredP | | | | | | | riorities | | | | | | | IE is not | | | | | | | included | | | | | | | for a | | | | | | | certain | | | | | | | NF | | | | | | | instance | | | | | | | of the | | | | | | | nfInst | | | | | | | anceList, | | | | | | | the NF | | | | | | | consumer | | | | | | | shall | | | | | | | apply the | | | | | | | p | | | | | | | riorities | | | | | | | retrieved | | | | | | | in the | | | | | | | corr | | | | | | | esponding | | | | | | | NF | | | | | | | profile | | | | | | | for this | | | | | | | NF | | | | | | | instance | | | | | | | when | | | | | | | selecting | | | | | | | a NF | | | | | | | service | | | | | | | producer | | | | | | | for the | | | | | | | corr | | | | | | | esponding | | | | | | | NF | | | | | | | Discovery | | | | | | | request. | | | | | | | | | | | | | | NOTE 3: | | | | | | | This IE | | | | | | | shall be | | | | | | | set if | | | | | | | the NRF | | | | | | | altered | | | | | | | the | | | | | | | priority | | | | | | | values of | | | | | | | one or | | | | | | | more NF | | | | | | | instances | | | | | | | returned | | | | | | | in the | | | | | | | search | | | | | | | result, | | | | | | | r | | | | | | | egardless | | | | | | | of | | | | | | | whether | | | | | | | the NF | | | | | | | instances | | | | | | | are | | | | | | | returned | | | | | | | in the | | | | | | | nf | | | | | | | Instances | | | | | | | IE and/or | | | | | | | nfIns | | | | | | | tanceList | | | | | | | IE. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
##### 6.2.6.2.3 Type: NFProfile
Table 6.2.6.2.3-1: Definition of type NFProfile
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | nfInstanceId | NfInstanceId | M | 1 | Unique | | | | | | identity of | | | | | | the NF | | | | | | Instance. | +---------------+---------------+---+-------------+---------------+ | nfType | NFType | M | 1 | Type of | | | | | | Network | | | | | | Function | +---------------+---------------+---+-------------+---------------+ | nfStatus | NFStatus | M | 1 | Status of the | | | | | | NF Instance | +---------------+---------------+---+-------------+---------------+ | collocat | a | O | 1..N | Information | | edNfInstances | rray(Collocat | | | related | | | edNfInstance) | | | collocated NF | | | | | | type(s) and | | | | | | corresponding | | | | | | NF | | | | | | Instance(s) | | | | | | when the NF | | | | | | is collocated | | | | | | with NFs | | | | | | supporting | | | | | | other NF | | | | | | types | +---------------+---------------+---+-------------+---------------+ | n | string | O | 0..1 | Human | | fInstanceName | | | | readable name | | | | | | of the NF | | | | | | Instance | +---------------+---------------+---+-------------+---------------+ | plmnList | array(PlmnId) | C | 1..N | PLMN(s) of | | | | | | the Network | | | | | | Function | | | | | | (NOTE 5). | | | | | | This IE shall | | | | | | be present if | | | | | | this | | | | | | information | | | | | | is available | | | | | | for the NF. | | | | | | If neither | | | | | | the plmnList | | | | | | IE nor the | | | | | | snpnList IE | | | | | | were provided | | | | | | by the NF | | | | | | during | | | | | | registration, | | | | | | the NRF | | | | | | should return | | | | | | the list of | | | | | | PLMN ID(s) of | | | | | | the PLMN of | | | | | | the NRF. If | | | | | | both the | | | | | | plmnList IE | | | | | | and the | | | | | | snpnList IE | | | | | | are absent in | | | | | | the response, | | | | | | PLMN ID(s) of | | | | | | the PLMN of | | | | | | the NRF are | | | | | | assumed for | | | | | | the NF. | +---------------+---------------+---+-------------+---------------+ | sNssais | arr | O | 1..N | S-NSSAIs of | | | ay(ExtSnssai) | | | the Network | | | | | | Function. | | | | | | | | | | | | If not | | | | | | provided, and | | | | | | if the | | | | | | perP | | | | | | lmnSnssaiList | | | | | | attribute is | | | | | | not present, | | | | | | the NF can | | | | | | serve any | | | | | | S-NSSAI. | | | | | | | | | | | | If the | | | | | | sNSSAIs | | | | | | attribute is | | | | | | provided in | | | | | | at least one | | | | | | NF Service, | | | | | | the sNssais | | | | | | attribute in | | | | | | the NF | | | | | | Profile shall | | | | | | be present | | | | | | and be the | | | | | | set or a | | | | | | superset of | | | | | | the sNSSAIs | | | | | | of the | | | | | | NFService(s). | +---------------+---------------+---+-------------+---------------+ | perP | arra | O | 1..N | The per-PLMN | | lmnSnssaiList | y(PlmnSnssai) | | | list of | | | | | | S-NSSAI(s) | | | | | | supported by | | | | | | the Network | | | | | | Function. | | | | | | | | | | | | If the | | | | | | perP | | | | | | lmnSnssaiList | | | | | | attribute is | | | | | | provided in | | | | | | at least one | | | | | | NF Service, | | | | | | the | | | | | | perP | | | | | | lmnSnssaiList | | | | | | attribute in | | | | | | the NF | | | | | | Profile shall | | | | | | be present | | | | | | and be the | | | | | | set or a | | | | | | superset of | | | | | | the | | | | | | perP | | | | | | lmnSnssaiList | | | | | | of the | | | | | | NFService(s). | +---------------+---------------+---+-------------+---------------+ | nsiList | array(string) | O | 1..N | List of NSIs | | | | | | of the | | | | | | Network | | | | | | Function. | | | | | | | | | | | | If not | | | | | | provided, the | | | | | | NF can serve | | | | | | any NSI. | +---------------+---------------+---+-------------+---------------+ | fqdn | Fqdn | C | 0..1 | FQDN of the | | | | | | Network | | | | | | Function | | | | | | (NOTE 1, NOTE | | | | | | 3, NOTE 11) | +---------------+---------------+---+-------------+---------------+ | interPlmnFqdn | Fqdn | C | 0..1 | If the | | | | | | reques | | | | | | ter-plmn-list | | | | | | query | | | | | | parameter is | | | | | | absent in the | | | | | | NF Discovery | | | | | | request, or | | | | | | if is present | | | | | | and the | | | | | | requester\'s | | | | | | PLMN is the | | | | | | same as the | | | | | | PLMN of the | | | | | | discovered | | | | | | NF, then this | | | | | | attribute | | | | | | shall be | | | | | | included by | | | | | | the NRF and | | | | | | it shall | | | | | | contain the | | | | | | interPlmnFqdn | | | | | | value | | | | | | registered by | | | | | | the NF during | | | | | | NF | | | | | | registration | | | | | | (see | | | | | | claus | | | | | | e 6.1.6.2.2), | | | | | | if the | | | | | | interPlmnFqdn | | | | | | attribute was | | | | | | registered in | | | | | | the NF | | | | | | profile. | | | | | | | | | | | | This | | | | | | attribute | | | | | | shall be | | | | | | absent if the | | | | | | r | | | | | | equester-plmn | | | | | | in the query | | | | | | parameter is | | | | | | different | | | | | | from the PLMN | | | | | | of the | | | | | | discovered | | | | | | NF. | | | | | | | | | | | | (NOTE 3, | | | | | | NOTE 14) | +---------------+---------------+---+-------------+---------------+ | ipv4Addresses | ar | C | 1..N | IPv4 | | | ray(Ipv4Addr) | | | address(es) | | | | | | of the | | | | | | Network | | | | | | Function | | | | | | (NOTE 1, | | | | | | NOTE 11) | +---------------+---------------+---+-------------+---------------+ | ipv6Addresses | ar | C | 1..N | IPv6 | | | ray(Ipv6Addr) | | | address(es) | | | | | | of the | | | | | | Network | | | | | | Function | | | | | | (NOTE 1, | | | | | | NOTE 11) | +---------------+---------------+---+-------------+---------------+ | allowedPlmns | array(PlmnId) | C | 1..N | PLMNs allowed | | | | | | to access the | | | | | | NF instance. | | | | | | | | | | | | This | | | | | | attribute may | | | | | | be present in | | | | | | a complete NF | | | | | | profile (i.e. | | | | | | in the | | | | | | comple | | | | | | teNfInstances | | | | | | IE in the | | | | | | SearchResult | | | | | | or | | | | | | Store | | | | | | dSearchResult | | | | | | data types). | | | | | | It shall not | | | | | | be present | | | | | | otherwise. | | | | | | | | | | | | If not | | | | | | provided, any | | | | | | PLMN is | | | | | | allowed to | | | | | | access the | | | | | | NF. | +---------------+---------------+---+-------------+---------------+ | allowedSnpns | arr | C | 1..N | SNPNs allowed | | | ay(PlmnIdNid) | | | to access the | | | | | | NF instance. | | | | | | | | | | | | This | | | | | | attribute may | | | | | | be present in | | | | | | a complete NF | | | | | | profile (i.e. | | | | | | in the | | | | | | comple | | | | | | teNfInstances | | | | | | IE in the | | | | | | SearchResult | | | | | | or | | | | | | Store | | | | | | dSearchResult | | | | | | data types). | | | | | | It shall not | | | | | | be present | | | | | | otherwise. | | | | | | | | | | | | If this | | | | | | attribute is | | | | | | present in | | | | | | the NFService | | | | | | and in the NF | | | | | | profile, the | | | | | | attribute | | | | | | from the | | | | | | NFService | | | | | | shall | | | | | | prevail. | | | | | | | | | | | | The absence | | | | | | of this | | | | | | attribute in | | | | | | both the | | | | | | NFService and | | | | | | in the NF | | | | | | profile | | | | | | indicates | | | | | | that no SNPN, | | | | | | other than | | | | | | the SNPN(s) | | | | | | registered in | | | | | | the snpnList | | | | | | attribute of | | | | | | the NF | | | | | | Profile (if | | | | | | the NF | | | | | | pertains to | | | | | | an SNPN), is | | | | | | allowed to | | | | | | access the | | | | | | service | | | | | | instance. | +---------------+---------------+---+-------------+---------------+ | a | array(NFType) | C | 1..N | Type of the | | llowedNfTypes | | | | NFs allowed | | | | | | to access the | | | | | | NF instance. | | | | | | | | | | | | This | | | | | | attribute may | | | | | | be present in | | | | | | a complete NF | | | | | | profile (i.e. | | | | | | in the | | | | | | comple | | | | | | teNfInstances | | | | | | IE in the | | | | | | SearchResult | | | | | | or | | | | | | Store | | | | | | dSearchResult | | | | | | data types). | | | | | | It shall not | | | | | | be present | | | | | | otherwise. | | | | | | | | | | | | If not | | | | | | provided, any | | | | | | NF type is | | | | | | allowed to | | | | | | access the | | | | | | NF. | +---------------+---------------+---+-------------+---------------+ | all | array(string) | C | 1..N | Pattern | | owedNfDomains | | | | (regular | | | | | | expression | | | | | | according to | | | | | | the ECMA-262 | | | | | | dialect | | | | | | [8]) | | | | | | representing | | | | | | the NF domain | | | | | | names within | | | | | | the PLMN of | | | | | | the NRF | | | | | | allowed to | | | | | | access the NF | | | | | | instance. | | | | | | | | | | | | This | | | | | | attribute may | | | | | | be present in | | | | | | a complete NF | | | | | | profile (i.e. | | | | | | in the | | | | | | comple | | | | | | teNfInstances | | | | | | IE in the | | | | | | SearchResult | | | | | | or | | | | | | Store | | | | | | dSearchResult | | | | | | data types). | | | | | | It shall not | | | | | | be present | | | | | | otherwise. | | | | | | | | | | | | If not | | | | | | provided, any | | | | | | NF domain is | | | | | | allowed to | | | | | | access the | | | | | | NF. | +---------------+---------------+---+-------------+---------------+ | allowedNssais | arr | C | 1..N | S-NSSAI of | | | ay(ExtSnssai) | | | the allowed | | | | | | slices to | | | | | | access the NF | | | | | | instance. | | | | | | | | | | | | This | | | | | | attribute may | | | | | | be present in | | | | | | a complete NF | | | | | | profile (i.e. | | | | | | in the | | | | | | comple | | | | | | teNfInstances | | | | | | IE in the | | | | | | SearchResult | | | | | | or | | | | | | Store | | | | | | dSearchResult | | | | | | data types). | | | | | | It shall not | | | | | | be present | | | | | | otherwise. | | | | | | | | | | | | If not | | | | | | provided, any | | | | | | slice is | | | | | | allowed to | | | | | | access the | | | | | | NF. | +---------------+---------------+---+-------------+---------------+ | a | map(RuleSet) | O | 1..N | Map of rules | | llowedRuleSet | | | | specifying | | | | | | NF-Consumers | | | | | | allowed or | | | | | | denied to | | | | | | access | | | | | | NF-Producer. | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | | | | | | | | | | | | This IE may | | | | | | be present in | | | | | | a complete NF | | | | | | profile (i.e. | | | | | | in the | | | | | | comple | | | | | | teNfInstances | | | | | | IE in the | | | | | | SearchResult | | | | | | or | | | | | | Store | | | | | | dSearchResult | | | | | | data types) | | | | | | if the | | | | | | NF-Consumer | | | | | | supports | | | | | | Al | | | | | | lowed-ruleset | | | | | | feature as | | | | | | specified in | | | | | | Clause 6.2.9. | | | | | | It shall not | | | | | | be present | | | | | | otherwise. | +---------------+---------------+---+-------------+---------------+ | capacity | integer | O | 0..1 | Static | | | | | | capacity | | | | | | information | | | | | | within the | | | | | | range 0 to | | | | | | 65535, | | | | | | expressed as | | | | | | a weight | | | | | | relative to | | | | | | other NF | | | | | | instances of | | | | | | the same | | | | | | type; if | | | | | | capacity is | | | | | | also present | | | | | | in the | | | | | | nfServiceList | | | | | | parameters, | | | | | | those will | | | | | | have | | | | | | precedence | | | | | | over this | | | | | | value. (See | | | | | | NOTE 2) | +---------------+---------------+---+-------------+---------------+ | load | integer | O | 0..1 | Latest known | | | | | | load | | | | | | information | | | | | | of the NF | | | | | | within the | | | | | | range 0 to | | | | | | 100 in | | | | | | percentage | | | | | | (See NOTE 4) | +---------------+---------------+---+-------------+---------------+ | loadTimeStamp | DateTime | O | 0..1 | It indicates | | | | | | the point in | | | | | | time in which | | | | | | the latest | | | | | | load | | | | | | information | | | | | | of the NF | | | | | | Instance was | | | | | | sent from the | | | | | | NF to the | | | | | | NRF. | +---------------+---------------+---+-------------+---------------+ | locality | string | O | 0..1 | Operator | | | | | | defined | | | | | | information | | | | | | about the | | | | | | location of | | | | | | the NF | | | | | | instance | | | | | | (e.g. | | | | | | geographic | | | | | | location, | | | | | | data center) | +---------------+---------------+---+-------------+---------------+ | extLocality | map(string) | O | 1..N | Operator | | | | | | defined | | | | | | information | | | | | | about the | | | | | | location of | | | | | | the NF | | | | | | instance. | | | | | | (NOTE 3) | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters, | | | | | | representing | | | | | | a type of | | | | | | locality as | | | | | | defined in | | | | | | claus | | | | | | e 6.1.6.3.18. | | | | | | | | | | | | Example: | | | | | | | | | | | | { | | | | | | | | | | | | \"DA | | | | | | TA_CENTER\": | | | | | | \"dc-123\", | | | | | | | | | | | | \"CITY\": | | | | | | \"Los | | | | | | Angeles\", | | | | | | | | | | | | \"STATE\": | | | | | | \ | | | | | | "California\" | | | | | | | | | | | | } | +---------------+---------------+---+-------------+---------------+ | priority | integer | O | 0..1 | Priority | | | | | | (relative to | | | | | | other NFs of | | | | | | the same | | | | | | type) within | | | | | | the range 0 | | | | | | to 65535, to | | | | | | be used for | | | | | | NF selection; | | | | | | lower values | | | | | | indicate a | | | | | | higher | | | | | | priority. | | | | | | Priority may | | | | | | or may not be | | | | | | present in | | | | | | the | | | | | | nfServiceList | | | | | | parameters, | | | | | | xxxInfo | | | | | | parameters | | | | | | and in this | | | | | | attribute. | | | | | | Priority in | | | | | | the | | | | | | nfServiceList | | | | | | has | | | | | | precedence | | | | | | over the | | | | | | priority in | | | | | | this | | | | | | attribute. | | | | | | | | | | | | (NOTE 2) | | | | | | | | | | | | Priority in | | | | | | xxxInfo | | | | | | parameter | | | | | | shall only be | | | | | | used to | | | | | | determine the | | | | | | relative | | | | | | priority | | | | | | among NF | | | | | | instances | | | | | | with the same | | | | | | priority at | | | | | | NFProfi | | | | | | le/NFService. | +---------------+---------------+---+-------------+---------------+ | udrInfo | UdrInfo | O | 0..1 | Specific data | | | | | | for the UDR | | | | | | (ranges of | | | | | | SUPI, ...) | +---------------+---------------+---+-------------+---------------+ | udrInfoList | map(UdrInfo) | O | 1..N | Multiple | | | | | | entries of | | | | | | UdrInfo. This | | | | | | attribute | | | | | | provides | | | | | | additional | | | | | | information | | | | | | to the | | | | | | udrInfo. | | | | | | udrInfoList | | | | | | may be | | | | | | present even | | | | | | if the | | | | | | udrInfo is | | | | | | absent. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | udmInfo | UdmInfo | O | 0..1 | Specific data | | | | | | for the UDM | +---------------+---------------+---+-------------+---------------+ | udmInfoList | map(UdmInfo) | O | 1..N | Multiple | | | | | | entries of | | | | | | UdmInfo. This | | | | | | attribute | | | | | | provides | | | | | | additional | | | | | | information | | | | | | to the | | | | | | udmInfo. | | | | | | udmInfoList | | | | | | may be | | | | | | present even | | | | | | if the | | | | | | udmInfo is | | | | | | absent. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | ausfInfo | AusfInfo | O | 0..1 | Specific data | | | | | | for the AUSF | +---------------+---------------+---+-------------+---------------+ | ausfInfoList | map(AusfInfo) | O | 1..N | Multiple | | | | | | entries of | | | | | | AusfInfo. | | | | | | This | | | | | | attribute | | | | | | provides | | | | | | additional | | | | | | information | | | | | | to the | | | | | | ausfInfo. | | | | | | ausfInfoList | | | | | | may be | | | | | | present even | | | | | | if the | | | | | | ausfInfo is | | | | | | absent. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | amfInfo | AmfInfo | O | 0..1 | Specific data | | | | | | for the AMF | | | | | | (AMF Set ID, | | | | | | ...) | +---------------+---------------+---+-------------+---------------+ | amfInfoList | map(AmfInfo) | O | 1..N | Multiple | | | | | | entries of | | | | | | AmfInfo. This | | | | | | attribute | | | | | | provides | | | | | | additional | | | | | | information | | | | | | to the | | | | | | amfInfo. | | | | | | amfInfoList | | | | | | may be | | | | | | present even | | | | | | if the | | | | | | amfInfo is | | | | | | absent. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | smfInfo | SmfInfo | O | 0..1 | Specific data | | | | | | for the SMF | | | | | | (DNN\'s, | | | | | | ...). | | | | | | | | | | | | (NOTE 8) | +---------------+---------------+---+-------------+---------------+ | smfInfoList | map(SmfInfo) | O | 1..N | Multiple | | | | | | entries of | | | | | | SmfInfo. This | | | | | | attribute | | | | | | provides | | | | | | additional | | | | | | information | | | | | | to the | | | | | | smfInfo. | | | | | | smfInfoList | | | | | | may be | | | | | | present even | | | | | | if the | | | | | | smfInfo is | | | | | | absent. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | | | | | | | | | | | | (NOTE 8) | +---------------+---------------+---+-------------+---------------+ | upfInfo | UpfInfo | O | 0..1 | Specific data | | | | | | for the UPF | | | | | | (S-NSSAI, | | | | | | DNN, SMF | | | | | | serving area, | | | | | | ...) | +---------------+---------------+---+-------------+---------------+ | upfInfoList | map(UpfInfo) | O | 1..N | Multiple | | | | | | entries of | | | | | | UpfInfo. This | | | | | | attribute | | | | | | provides | | | | | | additional | | | | | | information | | | | | | to the | | | | | | upfInfo. | | | | | | upfInfoList | | | | | | may be | | | | | | present even | | | | | | if the | | | | | | upfInfo is | | | | | | absent. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | pcfInfo | PcfInfo | O | 0..1 | Specific data | | | | | | for the PCF | +---------------+---------------+---+-------------+---------------+ | pcfInfoList | map(PcfInfo) | O | 1..N | Multiple | | | | | | entries of | | | | | | PcfInfo. This | | | | | | attribute | | | | | | provides | | | | | | additional | | | | | | information | | | | | | to the | | | | | | pcfInfo. | | | | | | pcfInfoList | | | | | | may be | | | | | | present even | | | | | | if the | | | | | | pcfInfo is | | | | | | absent. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | bsfInfo | BsfInfo | O | 0..1 | Specific data | | | | | | for the BSF | +---------------+---------------+---+-------------+---------------+ | bsfInfoList | map(BsfInfo) | O | 1..N | Multiple | | | | | | entries of | | | | | | BsfInfo. This | | | | | | attribute | | | | | | provides | | | | | | additional | | | | | | information | | | | | | to the | | | | | | bsfInfo. | | | | | | bsfInfoList | | | | | | may be | | | | | | present even | | | | | | if the | | | | | | bsfInfo is | | | | | | absent. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | chfInfo | ChfInfo | O | 0..1 | Specific data | | | | | | for the CHF | +---------------+---------------+---+-------------+---------------+ | chfInfoList | map(ChfInfo) | O | 1..N | Multiple | | | | | | entries of | | | | | | ChfInfo. This | | | | | | attribute | | | | | | provides | | | | | | additional | | | | | | information | | | | | | to the | | | | | | chfInfo. | | | | | | chfInfoList | | | | | | may be | | | | | | present even | | | | | | if the | | | | | | chfInfo is | | | | | | absent. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | udsfInfo | UdsfInfo | O | 0..1 | Specific data | | | | | | for the UDSF | +---------------+---------------+---+-------------+---------------+ | udsfInfoList | map(UdsfInfo) | O | 1..N | Multiple | | | | | | entries of | | | | | | udsfInfo. | | | | | | This | | | | | | attribute | | | | | | provides | | | | | | additional | | | | | | information | | | | | | to the | | | | | | udsfInfo. | | | | | | udsfInfoList | | | | | | may be | | | | | | present even | | | | | | if the | | | | | | udsfInfo is | | | | | | absent. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | nefInfo | NefInfo | O | 0..1 | Specific data | | | | | | for the NEF | +---------------+---------------+---+-------------+---------------+ | nwdafInfo | NwdafInfo | O | 0..1 | Specific data | | | | | | for the NWDAF | +---------------+---------------+---+-------------+---------------+ | nwdafInfoList | m | O | 1..N | Multiple | | | ap(NwdafInfo) | | | entries of | | | | | | nwdafInfo. | | | | | | This | | | | | | attribute | | | | | | provides | | | | | | additional | | | | | | information | | | | | | to the | | | | | | nwdafInfo. | | | | | | nwdafInfoList | | | | | | may be | | | | | | present even | | | | | | if the | | | | | | nwdafInfo is | | | | | | absent. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | pcscfInfoList | m | O | 1..N | Specific data | | | ap(PcscfInfo) | | | for the | | | | | | P-CSCF. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | | | | | | | | | | | | (NOTE 7) | +---------------+---------------+---+-------------+---------------+ | hssInfoList | map(HssInfo) | O | 1..N | Specific data | | | | | | for the HSS. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | customInfo | object | O | 0..1 | Specific data | | | | | | for custom | | | | | | Network | | | | | | Functions | +---------------+---------------+---+-------------+---------------+ | recoveryTime | DateTime | O | 0..1 | Timestamp | | | | | | when the NF | | | | | | was | | | | | | (re)started | +---------------+---------------+---+-------------+---------------+ | nfServi | boolean | O | 0..1 | - true: If | | cePersistence | | | | present, and | | | | | | set to true, | | | | | | it indicates | | | | | | that the | | | | | | different | | | | | | service | | | | | | instances of | | | | | | a same NF | | | | | | Service in | | | | | | the NF | | | | | | instance, | | | | | | supporting a | | | | | | same API | | | | | | version, are | | | | | | capable to | | | | | | persist their | | | | | | resource | | | | | | state in | | | | | | shared | | | | | | storage and | | | | | | therefore | | | | | | these | | | | | | resources are | | | | | | available | | | | | | after a new | | | | | | NF service | | | | | | instance | | | | | | supporting | | | | | | the same API | | | | | | version is | | | | | | selected by a | | | | | | NF Service | | | | | | Consumer (see | | | | | | 3GPP TS 23 | | | | | | .527 [27]). | | | | | | | | | | | | - false | | | | | | (default): | | | | | | Otherwise, it | | | | | | indicates | | | | | | that the NF | | | | | | Service | | | | | | Instances of | | | | | | a same NF | | | | | | Service are | | | | | | not capable | | | | | | to share | | | | | | resource | | | | | | state inside | | | | | | the NF | | | | | | Instance. | +---------------+---------------+---+-------------+---------------+ | nfServices | arr | O | 1..N | List of NF | | | ay(NFService) | | | Service | | | | | | Instances. | | | | | | | | | | | | (NOTE 10) | | | | | | | | | | | | This | | | | | | attribute is | | | | | | deprecated; | | | | | | the attribute | | | | | | \"nf | | | | | | ServiceList\" | | | | | | should be | | | | | | used instead. | +---------------+---------------+---+-------------+---------------+ | nfServiceList | m | O | 1..N | Map of NF | | | ap(NFService) | | | Service | | | | | | Instances, | | | | | | where the | | | | | | \"servic | | | | | | eInstanceId\" | | | | | | attribute of | | | | | | the NFService | | | | | | object shall | | | | | | be used as | | | | | | the key of | | | | | | the map. | | | | | | | | | | | | (NOTE 10) | +---------------+---------------+---+-------------+---------------+ | defaul | array(Defaul | O | 1..N | Notification | | tNotification | tNotification | | | endpoints for | | Subscriptions | Subscription) | | | different | | | | | | notification | | | | | | types. | | | | | | | | | | | | (NOTE 6) | | | | | | | | | | | | (See also | | | | | | NOTE 10 in | | | | | | clau | | | | | | se 6.1.6.2.2) | +---------------+---------------+---+-------------+---------------+ | lmfInfo | LmfInfo | O | 0..1 | Specific data | | | | | | for the LMF | +---------------+---------------+---+-------------+---------------+ | gmlcInfo | GmlcInfo | O | 0..1 | Specific data | | | | | | for the GMLC | +---------------+---------------+---+-------------+---------------+ | snpnList | arr | C | 1..N | SNPN(s) of | | | ay(PlmnIdNid) | | | the Network | | | | | | Function. | | | | | | | | | | | | This IE shall | | | | | | be present if | | | | | | the NF | | | | | | pertains to | | | | | | one or more | | | | | | SNPNs. | +---------------+---------------+---+-------------+---------------+ | nfSetIdList | a | C | 1..N | NF Set ID | | | rray(NfSetId) | | | defined in | | | | | | clause 28.12 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 3.003 [12]. | | | | | | | | | | | | At most one | | | | | | NF Set ID | | | | | | shall be | | | | | | indicated per | | | | | | PLMN-ID or | | | | | | SNPN of the | | | | | | NF. At most | | | | | | one | | | | | | combination | | | | | | of an AMF | | | | | | region and an | | | | | | AMF Set ID | | | | | | shall be | | | | | | indicated per | | | | | | PLMN-ID or | | | | | | SNPN in an | | | | | | AMF profile. | | | | | | | | | | | | This | | | | | | information | | | | | | shall be | | | | | | present if | | | | | | available. | +---------------+---------------+---+-------------+---------------+ | servingScope | array(string) | O | 1..N | The served | | | | | | area(s) of | | | | | | the NF | | | | | | instance. | | | | | | | | | | | | The absence | | | | | | of this | | | | | | attribute | | | | | | does not | | | | | | imply the NF | | | | | | instance can | | | | | | serve every | | | | | | area. | +---------------+---------------+---+-------------+---------------+ | lcHSupportInd | boolean | O | 0..1 | This IE | | | | | | indicates | | | | | | whether the | | | | | | NF supports | | | | | | Load Control | | | | | | based on LCI | | | | | | Header (see | | | | | | clause 6.3 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | - true: the | | | | | | NF supports | | | | | | the feature. | | | | | | | | | | | | - false | | | | | | (default): | | | | | | the NF does | | | | | | not support | | | | | | the feature. | +---------------+---------------+---+-------------+---------------+ | o | boolean | O | 0..1 | This IE | | lcHSupportInd | | | | indicates | | | | | | whether the | | | | | | NF supports | | | | | | Overload | | | | | | Control based | | | | | | on OCI Header | | | | | | (see clause | | | | | | 6.4 of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]). | | | | | | | | | | | | - true: the | | | | | | NF supports | | | | | | the feature. | | | | | | | | | | | | - false | | | | | | (default): | | | | | | the NF does | | | | | | not support | | | | | | the feature. | +---------------+---------------+---+-------------+---------------+ | nfSetRec | map(DateTime) | O | 1..N | Map of | | overyTimeList | | | | recovery | | | | | | time, where | | | | | | the key of | | | | | | the map is | | | | | | the NfSetId | | | | | | of NF Set(s) | | | | | | that the NF | | | | | | instance | | | | | | belongs to. | | | | | | | | | | | | When present, | | | | | | the value of | | | | | | each entry of | | | | | | the map shall | | | | | | be the | | | | | | recovery time | | | | | | of the NF Set | | | | | | indicated by | | | | | | the key. | +---------------+---------------+---+-------------+---------------+ | serviceSetRec | map(DateTime) | O | 1..N | Map of | | overyTimeList | | | | recovery | | | | | | time, where | | | | | | the key of | | | | | | the map is | | | | | | the | | | | | | N | | | | | | fServiceSetId | | | | | | of the NF | | | | | | Service | | | | | | Set(s) | | | | | | configured in | | | | | | the NF | | | | | | instance. | | | | | | | | | | | | When present, | | | | | | the value of | | | | | | each entry of | | | | | | the map shall | | | | | | be the | | | | | | recovery time | | | | | | of the NF | | | | | | Service Set | | | | | | indicated by | | | | | | the key. | +---------------+---------------+---+-------------+---------------+ | scpDomains | array(string) | O | 1..N | When present, | | | | | | this IE shall | | | | | | carry the | | | | | | list of SCP | | | | | | domains the | | | | | | SCP belongs | | | | | | to, or the | | | | | | SCP domain | | | | | | the NF (other | | | | | | than SCP) or | | | | | | the SEPP | | | | | | belongs to. | | | | | | | | | | | | (NOTE 9) | +---------------+---------------+---+-------------+---------------+ | scpInfo | ScpInfo | O | 0..1 | Specific data | | | | | | for the SCP. | +---------------+---------------+---+-------------+---------------+ | seppInfo | SeppInfo | O | 0..1 | Specific data | | | | | | for the SEPP. | +---------------+---------------+---+-------------+---------------+ | vendorId | VendorId | O | 0..1 | Vendor ID of | | | | | | the NF | | | | | | instance, | | | | | | according to | | | | | | the | | | | | | IANA-assigned | | | | | | \"SMI Network | | | | | | Management | | | | | | Private | | | | | | Enterprise | | | | | | Co | | | | | | des\" [38]. | +---------------+---------------+---+-------------+---------------+ | suppo | map(arr | O | 1..N(1..M) | Map of | | rtedVendorSpe | ay(VendorSpec | | | Ve | | cificFeatures | ificFeature)) | | | ndor-Specific | | | | | | features, | | | | | | where the key | | | | | | of the map is | | | | | | the | | | | | | IANA-assigned | | | | | | \"SMI Network | | | | | | Management | | | | | | Private | | | | | | Enterprise | | | | | | Co | | | | | | des\" [38]. | | | | | | The string | | | | | | used as key | | | | | | of the map | | | | | | shall contain | | | | | | 6 decimal | | | | | | digits; if | | | | | | the SMI code | | | | | | has less than | | | | | | 6 digits, it | | | | | | shall be | | | | | | padded with | | | | | | leading | | | | | | digits \"0\" | | | | | | to complete a | | | | | | 6-digit | | | | | | string value. | | | | | | | | | | | | The value of | | | | | | each entry of | | | | | | the map shall | | | | | | be a list | | | | | | (array) of | | | | | | VendorSp | | | | | | ecificFeature | | | | | | objects. | | | | | | | | | | | | (NOTE 12) | +---------------+---------------+---+-------------+---------------+ | aanfInfoList | map(AanfInfo) | O | 1..N | Specific data | | | | | | for the AAnF. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | mfafInfo | MfafInfo | O | 0..1 | Specific data | | | | | | for the MFAF. | +---------------+---------------+---+-------------+---------------+ | easdfInfoList | m | O | 1..N | Specific data | | | ap(EasdfInfo) | | | for the | | | | | | EASDF. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | | | | | | | | | | | | (NOTE 13) | +---------------+---------------+---+-------------+---------------+ | dccfInfo | DccfInfo | O | 0..1 | Specific data | | | | | | for the DCCF. | +---------------+---------------+---+-------------+---------------+ | nsacfInfoList | m | O | 1..N | Specific data | | | ap(NsacfInfo) | | | for the | | | | | | NSACF. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | mbSmfInfoList | m | O | 1..N | MB-SMF | | | ap(MbSmfInfo) | | | specific | | | | | | data. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | t | ma | O | 1..N | Specific data | | sctsfInfoList | p(TsctsfInfo) | | | for the | | | | | | TSCTSF. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | mbUpfInfoList | m | O | 1..N | MB-UPF | | | ap(MbUpfInfo) | | | specific | | | | | | data. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | trustAfInfo | TrustAfInfo | O | 0..1 | Specific data | | | | | | for the | | | | | | trusted AF. | +---------------+---------------+---+-------------+---------------+ | nssaafInfo | NssaafInfo | O | 0..1 | Specific data | | | | | | for the | | | | | | NSSAAF. | +---------------+---------------+---+-------------+---------------+ | hniList | arrary(Fqdn) | C | 1..N | Id | | | | | | entifications | | | | | | of | | | | | | Credentials | | | | | | Holder or | | | | | | Default | | | | | | Credentials | | | | | | Server. | | | | | | | | | | | | This IE shall | | | | | | be present if | | | | | | the NFs are | | | | | | available for | | | | | | the case of | | | | | | access to an | | | | | | SNPN using | | | | | | credentials | | | | | | owned by a | | | | | | Credentials | | | | | | Holder or for | | | | | | the case of | | | | | | SNPN | | | | | | Onboarding | | | | | | using a DCS. | +---------------+---------------+---+-------------+---------------+ | iwmscInfo | IwmscInfo | O | 0..1 | Specific data | | | | | | for the | | | | | | SMS-IWMSC. | +---------------+---------------+---+-------------+---------------+ | mnpfInfo | MnpfInfo | O | 0..1 | Specific data | | | | | | for the MNPF. | +---------------+---------------+---+-------------+---------------+ | smsfInfo | SmsfInfo | O | 0..1 | Specific data | | | | | | for the SMSF. | +---------------+---------------+---+-------------+---------------+ | dcsfInfoList | map(DcsfInfo) | O | 1..N | DCSF specific | | | | | | data. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | mrfInfoList | map(MrfInfo) | O | 1..N | MRF specific | | | | | | data. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | mrfpInfoList | map(MrfpInfo) | O | 1..N | MRFP specific | | | | | | data. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | mfInfoList | map(MfInfo) | O | 1..N | MF specific | | | | | | data. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | adrfInfoList | map(AdrfInfo) | O | 1..N | ADRF specific | | | | | | data. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | +---------------+---------------+---+-------------+---------------+ | select | Select | O | 0..1 | This IE is | | ionConditions | ionConditions | | | only | | | | | | applicable if | | | | | | the NFStatus | | | | | | is set to | | | | | | \"CANAR | | | | | | Y_RELEASE\". | | | | | | | | | | | | If present, | | | | | | it includes | | | | | | the | | | | | | conditions | | | | | | under which | | | | | | an NF | | | | | | Instance with | | | | | | an NFStatus | | | | | | value set to | | | | | | \"CANA | | | | | | RY_RELEASE\" | | | | | | shall be | | | | | | selected by | | | | | | an NF Service | | | | | | Consumer | | | | | | (e.g. if the | | | | | | UE belongs to | | | | | | a range of | | | | | | SUPIs) | +---------------+---------------+---+-------------+---------------+ | NOTE 1: At | | | | | | least one of | | | | | | the | | | | | | addressing | | | | | | parameters | | | | | | (fqdn, | | | | | | ipv4address | | | | | | or | | | | | | ipv6adress) | | | | | | shall be | | | | | | included in | | | | | | the NF | | | | | | Profile. See | | | | | | NOTE 1 of | | | | | | Tabl | | | | | | e 6.2.6.2.4-1 | | | | | | for the use | | | | | | of these | | | | | | parameters. | | | | | | If multiple | | | | | | ipv4 | | | | | | addresses | | | | | | and/or ipv6 | | | | | | addresses are | | | | | | included in | | | | | | the NF | | | | | | Profile, the | | | | | | NF Service | | | | | | Consumer | | | | | | shall select | | | | | | one of these | | | | | | addresses | | | | | | randomly, | | | | | | unless | | | | | | operator | | | | | | defined local | | | | | | policy of IP | | | | | | address | | | | | | selection, in | | | | | | order to | | | | | | avoid | | | | | | overload for | | | | | | a specific | | | | | | ipv4 address | | | | | | and/or ipv6 | | | | | | address. | | | | | | | | | | | | NOTE 2: The | | | | | | capacity and | | | | | | priority | | | | | | parameters, | | | | | | if present, | | | | | | are used for | | | | | | NF selection | | | | | | and load | | | | | | balancing. | | | | | | The priority | | | | | | and capacity | | | | | | attributes | | | | | | shall be used | | | | | | for NF | | | | | | selection in | | | | | | the same way | | | | | | that priority | | | | | | and weight | | | | | | are used for | | | | | | server | | | | | | selection as | | | | | | defined in | | | | | | IETF RFC | | | | | | 2782 [23]. | | | | | | | | | | | | NOTE 3: If | | | | | | the | | | | | | r | | | | | | equester-plmn | | | | | | in the query | | | | | | parameter is | | | | | | different | | | | | | from the PLMN | | | | | | of the | | | | | | discovered | | | | | | NF, then the | | | | | | fqdn | | | | | | attribute | | | | | | value shall | | | | | | contain the | | | | | | interPlmnFqdn | | | | | | value | | | | | | registered by | | | | | | the NF during | | | | | | NF | | | | | | registration | | | | | | (see | | | | | | claus | | | | | | e 6.1.6.2.2). | | | | | | The | | | | | | r | | | | | | equester-plmn | | | | | | is different | | | | | | from the PLMN | | | | | | of the | | | | | | discovered NF | | | | | | if it belongs | | | | | | to none of | | | | | | the PLMN | | | | | | ID(s) | | | | | | configured | | | | | | for the PLMN | | | | | | of the NRF. | | | | | | | | | | | | NOTE 4: The | | | | | | usage of the | | | | | | load | | | | | | parameter by | | | | | | the NF | | | | | | service | | | | | | consumer is | | | | | | i | | | | | | mplementation | | | | | | specific, | | | | | | e.g. be used | | | | | | for NF | | | | | | selection and | | | | | | load | | | | | | balancing, | | | | | | together with | | | | | | other | | | | | | parameters. | | | | | | | | | | | | NOTE 5: An NF | | | | | | may register | | | | | | multiple PLMN | | | | | | IDs in its | | | | | | profile | | | | | | within a PLMN | | | | | | comprising | | | | | | multiple PLMN | | | | | | IDs. If so, | | | | | | all the | | | | | | attributes of | | | | | | the NF | | | | | | Profile shall | | | | | | apply to each | | | | | | PLMN ID | | | | | | registered in | | | | | | the plmnList. | | | | | | As an | | | | | | exception, | | | | | | attributes | | | | | | including a | | | | | | PLMN ID, e.g. | | | | | | IMSI-based | | | | | | SUPI ranges, | | | | | | TAIs and | | | | | | GUAMIs, are | | | | | | specific to | | | | | | one PLMN ID | | | | | | and the NF | | | | | | may register | | | | | | in its | | | | | | profile | | | | | | multiple | | | | | | occurrences | | | | | | of such | | | | | | attributes | | | | | | for different | | | | | | PLMN IDs | | | | | | (e.g. the UDM | | | | | | may register | | | | | | in its | | | | | | profile SUPI | | | | | | ranges for | | | | | | different | | | | | | PLMN IDs). | | | | | | | | | | | | NOTE 6: For | | | | | | notification | | | | | | types that | | | | | | may be | | | | | | associated | | | | | | with a | | | | | | specifc | | | | | | service of | | | | | | the NF | | | | | | Instance | | | | | | receiving the | | | | | | notification | | | | | | (see clause | | | | | | 6.1.6.3.4), | | | | | | if | | | | | | notification | | | | | | endpoints are | | | | | | present both | | | | | | in the | | | | | | profile of | | | | | | the NF | | | | | | instance | | | | | | (NFProfile) | | | | | | and in some | | | | | | of its NF | | | | | | Services | | | | | | (NFService) | | | | | | for a same | | | | | | notification | | | | | | type, the | | | | | | notification | | | | | | endpoint(s) | | | | | | of the NF | | | | | | Services | | | | | | shall be used | | | | | | for this | | | | | | notification | | | | | | type. | | | | | | | | | | | | NOTE 7: The | | | | | | absence of | | | | | | the | | | | | | pcscfInfoList | | | | | | attribute in | | | | | | a P-CSCF | | | | | | profile | | | | | | indicates | | | | | | that the | | | | | | P-CSCF can be | | | | | | selected for | | | | | | any DNN and | | | | | | Access Type, | | | | | | and that the | | | | | | P-CSCF Gm | | | | | | addressing | | | | | | information | | | | | | is the same | | | | | | as the | | | | | | addressing | | | | | | information | | | | | | registered in | | | | | | the fqdn, | | | | | | ipv4Addresses | | | | | | and | | | | | | ipv4Addresses | | | | | | attributes of | | | | | | the NF | | | | | | profile. | | | | | | | | | | | | NOTE 8: The | | | | | | absence of | | | | | | both the | | | | | | smfInfo and | | | | | | smfInfoList | | | | | | attributes in | | | | | | an SMF | | | | | | profile | | | | | | indicates | | | | | | that the SMF | | | | | | can be | | | | | | selected for | | | | | | any S-NSSAI | | | | | | listed in the | | | | | | sNssais and | | | | | | perP | | | | | | lmnSnssaiList | | | | | | IEs, or for | | | | | | any S-NSSAI | | | | | | if neither | | | | | | the sNssais | | | | | | IE nor the | | | | | | perP | | | | | | lmnSnssaiList | | | | | | IE are | | | | | | present, and | | | | | | for any DNN, | | | | | | TAI and | | | | | | access type. | | | | | | | | | | | | NOTE 9: If an | | | | | | NF (other | | | | | | than a SCP or | | | | | | SEPP) | | | | | | includes this | | | | | | information | | | | | | in its | | | | | | profile, this | | | | | | indicates | | | | | | that the | | | | | | services | | | | | | produced by | | | | | | this NF | | | | | | should be | | | | | | accessed | | | | | | preferably | | | | | | via an SCP | | | | | | from the SCP | | | | | | domain the NF | | | | | | belongs to. | | | | | | | | | | | | NOTE 10: If | | | | | | the NF | | | | | | Service | | | | | | Consumer that | | | | | | issued the | | | | | | discovery | | | | | | request | | | | | | indicated | | | | | | support for | | | | | | the | | | | | | \" | | | | | | Service-Map\" | | | | | | feature, the | | | | | | NRF shall | | | | | | return in the | | | | | | discovery | | | | | | response the | | | | | | list of NF | | | | | | Service | | | | | | Instances in | | | | | | the | | | | | | \"nf | | | | | | ServiceList\" | | | | | | map | | | | | | attribute. | | | | | | Otherwise, | | | | | | the NRF shall | | | | | | return the | | | | | | list of NF | | | | | | Service | | | | | | Instances in | | | | | | the | | | | | | \ | | | | | | "nfServices\" | | | | | | array | | | | | | attribute. | | | | | | | | | | | | NOTE 11: For | | | | | | API URIs | | | | | | constructed | | | | | | with an FQDN, | | | | | | the NF | | | | | | Service | | | | | | Consumer may | | | | | | use the FQDN | | | | | | of the target | | | | | | URI to do a | | | | | | DNS query and | | | | | | obtain the IP | | | | | | address(es) | | | | | | to setup the | | | | | | TCP | | | | | | connection, | | | | | | and ignore | | | | | | the IP | | | | | | addresses | | | | | | that may be | | | | | | present in | | | | | | the | | | | | | NFProfile; | | | | | | a | | | | | | lternatively, | | | | | | the NF | | | | | | Service | | | | | | Consumer may | | | | | | use those IP | | | | | | addresses to | | | | | | setup the TCP | | | | | | connection, | | | | | | if no | | | | | | ser | | | | | | vice-specific | | | | | | FQDN or IP | | | | | | address is | | | | | | provided in | | | | | | the NFService | | | | | | data and if | | | | | | the NF | | | | | | Service | | | | | | Consumer | | | | | | supports to | | | | | | indicate | | | | | | specific IP | | | | | | address(es) | | | | | | to establish | | | | | | an HTTP/2 | | | | | | connection | | | | | | with an FQDN | | | | | | in the target | | | | | | URI. | | | | | | | | | | | | NOTE 12: When | | | | | | present, this | | | | | | attribute | | | | | | allows an NF | | | | | | requesting NF | | | | | | Discovery | | | | | | (e.g. an NF | | | | | | Service | | | | | | Consumer) to | | | | | | determine | | | | | | which | | | | | | ve | | | | | | ndor-specific | | | | | | extensions | | | | | | are supported | | | | | | in a given NF | | | | | | (e.g. an NF | | | | | | Service | | | | | | Producer), so | | | | | | as to select | | | | | | an | | | | | | appropriate | | | | | | NF with | | | | | | specific | | | | | | capability, | | | | | | or to include | | | | | | or not the | | | | | | ve | | | | | | ndor-specific | | | | | | attributes | | | | | | (see | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | clause 6.6.3) | | | | | | required for | | | | | | a given | | | | | | feature in | | | | | | subsequent | | | | | | messages | | | | | | towards a | | | | | | certain NF. | | | | | | One given | | | | | | ve | | | | | | ndor-specific | | | | | | feature shall | | | | | | not appear in | | | | | | both NF | | | | | | Profile and | | | | | | NF Service | | | | | | Profile. If | | | | | | one | | | | | | ve | | | | | | ndor-specific | | | | | | feature is | | | | | | service | | | | | | related, it | | | | | | shall only be | | | | | | included in | | | | | | the NF | | | | | | Service | | | | | | Profile. | | | | | | | | | | | | NOTE 13: The | | | | | | absence of | | | | | | the | | | | | | easdfnfoList | | | | | | attributes in | | | | | | an EASDF | | | | | | profile | | | | | | indicates | | | | | | that the | | | | | | EASDF can be | | | | | | selected for | | | | | | any S-NSSAI, | | | | | | DNN, DNAI or | | | | | | PSA UPF N6 IP | | | | | | address. | | | | | | | | | | | | NOTE 14: This | | | | | | attribute may | | | | | | be used by | | | | | | the requester | | | | | | NF or SCP | | | | | | e.g. to build | | | | | | the authority | | | | | | of the | | | | | | Location | | | | | | header in 3xx | | | | | | response or | | | | | | to set the | | | | | | 3gp | | | | | | p-Sbi-apiRoot | | | | | | header in a | | | | | | response | | | | | | message (see | | | | | | clause 6.10.4 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]), | | | | | | when the NF | | | | | | redirects a | | | | | | request | | | | | | issued by a | | | | | | consumer from | | | | | | a different | | | | | | PLMN towards | | | | | | the | | | | | | discovered | | | | | | NF, or when | | | | | | the SCP has | | | | | | reselected | | | | | | the | | | | | | discovered NF | | | | | | for such a | | | | | | request. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.2.6.2.4 Type: NFService
Table 6.2.6.2.4-1: Definition of type NFService
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | serv | string | M | 1 | Unique ID of | | iceInstanceId | | | | the service | | | | | | instance | | | | | | within a | | | | | | given NF | | | | | | Instance | +---------------+---------------+---+-------------+---------------+ | serviceName | ServiceName | M | 1 | Name of the | | | | | | service | | | | | | instance | | | | | | (e.g. | | | | | | \"udm-sdm\") | +---------------+---------------+---+-------------+---------------+ | versions | array(NFSe | M | 1..N | The API | | | rviceVersion) | | | versions | | | | | | supported by | | | | | | the NF | | | | | | Service and | | | | | | if available, | | | | | | the | | | | | | corresponding | | | | | | retirement | | | | | | date of the | | | | | | NF Service. | | | | | | | | | | | | The different | | | | | | array | | | | | | elements | | | | | | shall have | | | | | | distinct | | | | | | unique values | | | | | | for | | | | | | \"apiVe | | | | | | rsionInUri\", | | | | | | and | | | | | | consequently, | | | | | | the values of | | | | | | \"api | | | | | | FullVersion\" | | | | | | shall have a | | | | | | unique first | | | | | | digit version | | | | | | number. | +---------------+---------------+---+-------------+---------------+ | scheme | UriScheme | M | 1 | URI scheme | | | | | | (e.g. | | | | | | \"http\", | | | | | | \"https\") | +---------------+---------------+---+-------------+---------------+ | nf | NF | M | 1 | Status of the | | ServiceStatus | ServiceStatus | | | NF Service | | | | | | Instance | +---------------+---------------+---+-------------+---------------+ | fqdn | Fqdn | O | 0..1 | FQDN of the | | | | | | NF Service | | | | | | Instance (see | | | | | | NOTE 1, NOTE | | | | | | 3, NOTE 9). | | | | | | | | | | | | The FQDN | | | | | | provided as | | | | | | part of the | | | | | | NFService | | | | | | information | | | | | | has | | | | | | precedence | | | | | | over the FQDN | | | | | | and IP | | | | | | addresses | | | | | | provided as | | | | | | part of the | | | | | | NFProfile | | | | | | information | | | | | | (see | | | | | | claus | | | | | | e 6.1.6.2.2). | +---------------+---------------+---+-------------+---------------+ | interPlmnFqdn | Fqdn | C | 0..1 | If the | | | | | | reques | | | | | | ter-plmn-list | | | | | | query | | | | | | parameter is | | | | | | absent in the | | | | | | NF Discovery | | | | | | request, or | | | | | | if is present | | | | | | and the | | | | | | requester\'s | | | | | | PLMN is the | | | | | | same as the | | | | | | PLMN of the | | | | | | discovered NF | | | | | | Service, then | | | | | | this | | | | | | attribute | | | | | | shall be | | | | | | included by | | | | | | the NRF and | | | | | | it shall | | | | | | contain the | | | | | | interPlmnFqdn | | | | | | value | | | | | | registered | | | | | | for the NF | | | | | | Service | | | | | | during NF | | | | | | registration | | | | | | (see | | | | | | claus | | | | | | e 6.1.6.2.3), | | | | | | if the | | | | | | interPlmnFqdn | | | | | | attribute was | | | | | | registered | | | | | | for the NF | | | | | | Service in | | | | | | the NF | | | | | | profile. | | | | | | | | | | | | This | | | | | | attribute | | | | | | shall be | | | | | | absent if the | | | | | | r | | | | | | equester-plmn | | | | | | in the query | | | | | | parameter is | | | | | | different | | | | | | from the PLMN | | | | | | of the | | | | | | discovered NF | | | | | | Service. | | | | | | | | | | | | (NOTE 3, | | | | | | NOTE 10) | +---------------+---------------+---+-------------+---------------+ | ipEndPoints | arra | O | 1..N | IP | | | y(IpEndPoint) | | | address(es) | | | | | | and port | | | | | | information | | | | | | of the | | | | | | Network | | | | | | Function | | | | | | (including | | | | | | IPv4 and/or | | | | | | IPv6 address) | | | | | | where the | | | | | | service is | | | | | | listening for | | | | | | incoming | | | | | | service | | | | | | requests (see | | | | | | NOTE 1, NOTE | | | | | | 5, NOTE 6, | | | | | | NOTE 9). | | | | | | | | | | | | IP addresses | | | | | | provided in | | | | | | ipEndPoints | | | | | | have | | | | | | precedence | | | | | | over IP | | | | | | addresses | | | | | | provided as | | | | | | part of the | | | | | | NFProfile | | | | | | information | | | | | | and, when | | | | | | using the | | | | | | HTTP scheme, | | | | | | over FQDN | | | | | | provided as | | | | | | part of the | | | | | | NFProfile | | | | | | information | | | | | | (see | | | | | | claus | | | | | | e 6.2.6.2.3). | +---------------+---------------+---+-------------+---------------+ | apiPrefix | string | O | 0..1 | Optional path | | | | | | segment(s) | | | | | | used to | | | | | | construct the | | | | | | {apiRoot} | | | | | | variable of | | | | | | the different | | | | | | API URIs, as | | | | | | described in | | | | | | 3GPP TS | | | | | | 29.501 [5], | | | | | | clause 4.4.1 | | | | | | (optional | | | | | | deploy | | | | | | ment-specific | | | | | | string that | | | | | | starts with a | | | | | | \"/\" | | | | | | character) | +---------------+---------------+---+-------------+---------------+ | call | string | O | 0..1 | Optional path | | backUriPrefix | | | | segment(s) | | | | | | used to | | | | | | construct the | | | | | | prefix of the | | | | | | Callback URIs | | | | | | during the | | | | | | reselection | | | | | | of an NF | | | | | | service | | | | | | consumer, as | | | | | | described in | | | | | | 3GPP TS | | | | | | 29.501 [5], | | | | | | clause 4.4.3 | +---------------+---------------+---+-------------+---------------+ | defaul | array(Defaul | O | 1..N | Notification | | tNotification | tNotification | | | endpoints for | | Subscriptions | Subscription) | | | different | | | | | | notification | | | | | | types. | | | | | | | | | | | | (See also | | | | | | NOTE 10 in | | | | | | clau | | | | | | se 6.1.6.2.2) | +---------------+---------------+---+-------------+---------------+ | allowedPlmns | array(PlmnId) | C | 1..N | PLMNs allowed | | | | | | to access the | | | | | | service | | | | | | instance | | | | | | (NOTE 12). | | | | | | | | | | | | This | | | | | | attribute may | | | | | | be present in | | | | | | a complete NF | | | | | | profile (i.e. | | | | | | in the | | | | | | comple | | | | | | teNfInstances | | | | | | IE in the | | | | | | SearchResult | | | | | | or | | | | | | Store | | | | | | dSearchResult | | | | | | data types). | | | | | | It shall not | | | | | | be present | | | | | | otherwise. | | | | | | | | | | | | The absence | | | | | | of this | | | | | | attribute | | | | | | indicates | | | | | | that any PLMN | | | | | | is allowed to | | | | | | access the | | | | | | service | | | | | | instance. | | | | | | | | | | | | When | | | | | | included, the | | | | | | allowedPlmns | | | | | | attribute | | | | | | needs not | | | | | | include the | | | | | | PLMN ID(s) | | | | | | registered in | | | | | | the plmnList | | | | | | attribute of | | | | | | the NF | | | | | | Profile, i.e. | | | | | | the PLMN | | | | | | ID(s) | | | | | | registered in | | | | | | the NF | | | | | | Profile shall | | | | | | be considered | | | | | | to be allowed | | | | | | to access the | | | | | | service | | | | | | instance. | +---------------+---------------+---+-------------+---------------+ | allowedSnpns | arr | C | 1..N | SNPNs allowed | | | ay(PlmnIdNid) | | | to access the | | | | | | service | | | | | | instance. | | | | | | | | | | | | This | | | | | | attribute may | | | | | | be present in | | | | | | a complete NF | | | | | | profile (i.e. | | | | | | in the | | | | | | comple | | | | | | teNfInstances | | | | | | IE in the | | | | | | SearchResult | | | | | | or | | | | | | Store | | | | | | dSearchResult | | | | | | data types). | | | | | | It shall not | | | | | | be present | | | | | | otherwise. | | | | | | | | | | | | If this | | | | | | attribute is | | | | | | present in | | | | | | the NFService | | | | | | and in the NF | | | | | | profile, the | | | | | | attribute | | | | | | from the | | | | | | NFService | | | | | | shall | | | | | | prevail. | | | | | | | | | | | | The absence | | | | | | of this | | | | | | attribute in | | | | | | both the | | | | | | NFService and | | | | | | in the NF | | | | | | profile | | | | | | indicates | | | | | | that no SNPN, | | | | | | other than | | | | | | the SNPN(s) | | | | | | registered in | | | | | | the snpnList | | | | | | attribute of | | | | | | the NF | | | | | | Profile (if | | | | | | the NF | | | | | | pertains to | | | | | | an SNPN), is | | | | | | allowed to | | | | | | access the | | | | | | service | | | | | | instance. | | | | | | | | | | | | When | | | | | | included, the | | | | | | allowedSnpns | | | | | | attribute | | | | | | needs not | | | | | | include the | | | | | | PLMN | | | | | | ID/NID(s) | | | | | | registered in | | | | | | the snpnList | | | | | | attribute of | | | | | | the NF | | | | | | Profile (if | | | | | | the NF | | | | | | pertains to | | | | | | an SNPN), | | | | | | i.e. the | | | | | | SNPNs | | | | | | registered in | | | | | | the NF | | | | | | Profile (if | | | | | | any) shall be | | | | | | considered to | | | | | | be allowed to | | | | | | access the | | | | | | service | | | | | | instance. | +---------------+---------------+---+-------------+---------------+ | a | array(NFType) | C | 1..N | Type of the | | llowedNfTypes | | | | NFs allowed | | | | | | to access the | | | | | | service | | | | | | instance | | | | | | (NOTE 12). | | | | | | | | | | | | This | | | | | | attribute may | | | | | | be present in | | | | | | a complete NF | | | | | | profile (i.e. | | | | | | in the | | | | | | comple | | | | | | teNfInstances | | | | | | IE in the | | | | | | SearchResult | | | | | | or | | | | | | Store | | | | | | dSearchResult | | | | | | data types). | | | | | | It shall not | | | | | | be present | | | | | | otherwise. | +---------------+---------------+---+-------------+---------------+ | all | array(string) | C | 1..N | Pattern | | owedNfDomains | | | | (regular | | | | | | expression | | | | | | according to | | | | | | the ECMA-262 | | | | | | dialect | | | | | | [8]) | | | | | | representing | | | | | | the NF domain | | | | | | names within | | | | | | the PLMN of | | | | | | the NRF | | | | | | allowed to | | | | | | access the | | | | | | service | | | | | | instance | | | | | | (NOTE 12). | | | | | | | | | | | | This | | | | | | attribute may | | | | | | be present in | | | | | | a complete NF | | | | | | profile (i.e. | | | | | | in the | | | | | | comple | | | | | | teNfInstances | | | | | | IE in the | | | | | | SearchResult | | | | | | or | | | | | | Store | | | | | | dSearchResult | | | | | | data types). | | | | | | It shall not | | | | | | be present | | | | | | otherwise. | | | | | | | | | | | | The absence | | | | | | of this | | | | | | attribute | | | | | | indicates | | | | | | that any NF | | | | | | domain is | | | | | | allowed to | | | | | | access the | | | | | | service | | | | | | instance. | +---------------+---------------+---+-------------+---------------+ | allowedNssais | arr | C | 1..N | S-NSSAI of | | | ay(ExtSnssai) | | | the allowed | | | | | | slices to | | | | | | access the | | | | | | service | | | | | | instance | | | | | | (NOTE 12). | | | | | | | | | | | | This | | | | | | attribute may | | | | | | be present in | | | | | | a complete NF | | | | | | profile (i.e. | | | | | | in the | | | | | | comple | | | | | | teNfInstances | | | | | | IE in the | | | | | | SearchResult | | | | | | or | | | | | | Store | | | | | | dSearchResult | | | | | | data types). | | | | | | It shall not | | | | | | be present | | | | | | otherwise. | | | | | | | | | | | | The absence | | | | | | of this | | | | | | attribute | | | | | | indicates | | | | | | that any | | | | | | slice is | | | | | | allowed to | | | | | | access the | | | | | | service | | | | | | instance. | +---------------+---------------+---+-------------+---------------+ | capacity | integer | O | 0..1 | Static | | | | | | capacity | | | | | | information | | | | | | within the | | | | | | range 0 to | | | | | | 65535, | | | | | | expressed as | | | | | | a weight | | | | | | relative to | | | | | | other | | | | | | services of | | | | | | the same | | | | | | type. (See | | | | | | NOTE 2) | +---------------+---------------+---+-------------+---------------+ | load | integer | O | 0..1 | Latest known | | | | | | load | | | | | | information | | | | | | of the NF | | | | | | Service, | | | | | | within the | | | | | | range 0 to | | | | | | 100 in | | | | | | percentage. | | | | | | (See NOTE 4) | +---------------+---------------+---+-------------+---------------+ | loadTimeStamp | DateTime | O | 0..1 | It indicates | | | | | | the point in | | | | | | time in which | | | | | | the latest | | | | | | load | | | | | | information | | | | | | of the NF | | | | | | Service | | | | | | Instance was | | | | | | sent from the | | | | | | NF to the | | | | | | NRF. | +---------------+---------------+---+-------------+---------------+ | priority | integer | O | 0..1 | Priority | | | | | | (relative to | | | | | | other | | | | | | services of | | | | | | the same | | | | | | type) within | | | | | | the range 0 | | | | | | to 65535, to | | | | | | be used for | | | | | | NF Service | | | | | | selection; | | | | | | lower values | | | | | | indicate a | | | | | | higher | | | | | | priority. | | | | | | (See NOTE 2) | +---------------+---------------+---+-------------+---------------+ | recoveryTime | DateTime | O | 0..1 | Timestamp | | | | | | when the NF | | | | | | service was | | | | | | (re)started | +---------------+---------------+---+-------------+---------------+ | supp | Supp | O | 0..1 | Supported | | ortedFeatures | ortedFeatures | | | Features of | | | | | | the NF | | | | | | Service | | | | | | instance | +---------------+---------------+---+-------------+---------------+ | nfSer | array(Nf | C | 1..N | NF Service | | viceSetIdList | ServiceSetId) | | | Set ID (see | | | | | | clause 28.13 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 3.003 [12]) | | | | | | | | | | | | At most one | | | | | | NF Service | | | | | | Set ID shall | | | | | | be indicated | | | | | | per PLMN-ID | | | | | | or SNPN of | | | | | | the NF. | | | | | | | | | | | | This | | | | | | information | | | | | | shall be | | | | | | present if | | | | | | available. | +---------------+---------------+---+-------------+---------------+ | sNssais | arr | O | 1..N | S-NSSAIs of | | | ay(ExtSnssai) | | | the NF | | | | | | Service. This | | | | | | may be a | | | | | | subset of the | | | | | | S-NSSAIs | | | | | | supported by | | | | | | the NF (see | | | | | | sNssais | | | | | | attribute in | | | | | | NFProfile). | | | | | | | | | | | | When present, | | | | | | this IE | | | | | | represents | | | | | | the list of | | | | | | S-NSSAIs | | | | | | supported by | | | | | | the NF | | | | | | Service in | | | | | | all the PLMNs | | | | | | listed in the | | | | | | plmnList IE. | +---------------+---------------+---+-------------+---------------+ | perP | arra | O | 1..N | S-NSSAIs of | | lmnSnssaiList | y(PlmnSnssai) | | | the NF | | | | | | Service per | | | | | | PLMN. This | | | | | | may be a | | | | | | subset of the | | | | | | S-NSSAIs | | | | | | supported per | | | | | | PLMN by the | | | | | | NF (see | | | | | | perP | | | | | | lmnSnssaiList | | | | | | attribute in | | | | | | NFProfile). | | | | | | | | | | | | This IE may | | | | | | be included | | | | | | when the list | | | | | | of S-NSSAIs | | | | | | supported by | | | | | | the NF | | | | | | Service for | | | | | | each PLMN it | | | | | | is supporting | | | | | | is different. | | | | | | When present, | | | | | | this IE shall | | | | | | include the | | | | | | S-NSSAIs | | | | | | supported by | | | | | | the NF | | | | | | Service for | | | | | | each PLMN. | | | | | | When present, | | | | | | this IE shall | | | | | | override the | | | | | | sNssais IE. | +---------------+---------------+---+-------------+---------------+ | vendorId | VendorId | O | 0..1 | Vendor ID of | | | | | | the NF | | | | | | Service | | | | | | instance, | | | | | | according to | | | | | | the | | | | | | IANA-assigned | | | | | | \"SMI Network | | | | | | Management | | | | | | Private | | | | | | Enterprise | | | | | | Codes\" | | | | | | [38]. | +---------------+---------------+---+-------------+---------------+ | suppo | map(ar | O | 1..N(1..M) | Map of | | rtedVendorSpe | ray(VendorSpe | | | Ve | | cificFeatures | cificFeature) | | | ndor-Specific | | | | | | features, | | | | | | where the key | | | | | | of the map is | | | | | | the | | | | | | IANA-assigned | | | | | | \"SMI Network | | | | | | Management | | | | | | Private | | | | | | Enterprise | | | | | | Co | | | | | | des\" [38]. | | | | | | The string | | | | | | used as key | | | | | | of the map | | | | | | shall contain | | | | | | 6 decimal | | | | | | digits; if | | | | | | the SMI code | | | | | | has less than | | | | | | 6 digits, it | | | | | | shall be | | | | | | padded with | | | | | | leading | | | | | | digits \"0\" | | | | | | to complete a | | | | | | 6-digit | | | | | | string value. | | | | | | | | | | | | The value of | | | | | | each entry of | | | | | | the map shall | | | | | | be a list | | | | | | (array) of | | | | | | VendorSp | | | | | | ecificFeature | | | | | | objects. | | | | | | | | | | | | (NOTE 7) | +---------------+---------------+---+-------------+---------------+ | o | boolean | O | 0..1 | It indicates | | auth2Required | | | | whether the | | | | | | NF Instance | | | | | | requires | | | | | | Oauth2-based | | | | | | a | | | | | | uthorization. | | | | | | | | | | | | Absence of | | | | | | this IE means | | | | | | that the NF | | | | | | Service | | | | | | Producer has | | | | | | not provided | | | | | | any | | | | | | indication | | | | | | about its | | | | | | usage of | | | | | | Oauth2 for | | | | | | a | | | | | | uthorization. | | | | | | | | | | | | (See NOTE 11) | +---------------+---------------+---+-------------+---------------+ | allowedOperat | map(a | C | 1..N(1..M) | Map of | | ionsPerNfType | rray(string)) | | | allowed | | | | | | operations on | | | | | | resources for | | | | | | each type of | | | | | | NF; the key | | | | | | of the map is | | | | | | the NF Type, | | | | | | and the value | | | | | | is an array | | | | | | of scopes.\ | | | | | | \ | | | | | | The scopes | | | | | | shall be any | | | | | | of those | | | | | | defined in | | | | | | the API that | | | | | | defines the | | | | | | current | | | | | | service | | | | | | (identified | | | | | | by the | | | | | | \" | | | | | | serviceName\" | | | | | | attribute). | | | | | | | | | | | | This IE | | | | | | should be | | | | | | present, if | | | | | | it is present | | | | | | in the | | | | | | registered NF | | | | | | service | | | | | | instance and | | | | | | if the map | | | | | | contains a | | | | | | key matching | | | | | | the | | | | | | requester's | | | | | | NF type. When | | | | | | present, this | | | | | | IE should | | | | | | only contain | | | | | | the key-value | | | | | | pair of the | | | | | | map matching | | | | | | the | | | | | | requester's | | | | | | NF type. | | | | | | | | | | | | (NOTE 8) | +---------------+---------------+---+-------------+---------------+ | allo | map(a | C | 1..N(1..M) | Map of | | wedOperations | rray(string)) | | | allowed | | PerNfInstance | | | | operations on | | | | | | resources for | | | | | | a given NF | | | | | | Instance; the | | | | | | key of the | | | | | | map is the NF | | | | | | Instance Id, | | | | | | and the value | | | | | | is an array | | | | | | of scopes.\ | | | | | | \ | | | | | | The scopes | | | | | | shall be any | | | | | | of those | | | | | | defined in | | | | | | the API that | | | | | | defines the | | | | | | current | | | | | | service | | | | | | (identified | | | | | | by the | | | | | | \" | | | | | | serviceName\" | | | | | | attribute). | | | | | | | | | | | | This IE | | | | | | should be | | | | | | present, if | | | | | | it is present | | | | | | in the | | | | | | registered NF | | | | | | service | | | | | | instance and | | | | | | if the map | | | | | | contains a | | | | | | key matching | | | | | | the | | | | | | requester's | | | | | | NF instance | | | | | | ID. When | | | | | | present, this | | | | | | IE should | | | | | | only contain | | | | | | the key-value | | | | | | pair of the | | | | | | map matching | | | | | | the | | | | | | requester's | | | | | | NF Instance | | | | | | ID. | | | | | | | | | | | | (NOTE 8) | +---------------+---------------+---+-------------+---------------+ | allowedOperat | boolean | O | 0..1 | This IE, when | | ionsPerNfInst | | | | present and | | anceOverrides | | | | set to true, | | | | | | indicates | | | | | | that the | | | | | | scopes | | | | | | defined in | | | | | | attribute | | | | | | \"allowe | | | | | | dOperationsPe | | | | | | rNfInstance\" | | | | | | for a given | | | | | | NF Instance | | | | | | ID take | | | | | | precedence | | | | | | over the | | | | | | scopes | | | | | | defined in | | | | | | attribute | | | | | | \"al | | | | | | lowedOperatio | | | | | | nsPerNfType\" | | | | | | for the | | | | | | corresponding | | | | | | NF type of | | | | | | the NF | | | | | | Instance | | | | | | associated to | | | | | | such NF | | | | | | Instance ID. | | | | | | | | | | | | If the IE is | | | | | | not present, | | | | | | or set to | | | | | | false | | | | | | (default), it | | | | | | indicates | | | | | | that the | | | | | | allowed | | | | | | scopes are | | | | | | any of the | | | | | | scopes | | | | | | present | | | | | | either in | | | | | | \"al | | | | | | lowedOperatio | | | | | | nsPerNfType\" | | | | | | or in | | | | | | \"allowed | | | | | | OperationsPer | | | | | | NfInstance\". | +---------------+---------------+---+-------------+---------------+ | allowed | map(RuleSet) | O | 1..N | Map of rules | | ScopesRuleSet | | | | specifying | | | | | | scopes | | | | | | allowed or | | | | | | denied for | | | | | | NF-Consumers. | | | | | | The key of | | | | | | the map shall | | | | | | be a (unique) | | | | | | valid JSON | | | | | | string per | | | | | | clause 7 of | | | | | | IETF RFC | | | | | | 8259 [22], | | | | | | with a | | | | | | maximum of 32 | | | | | | characters. | | | | | | | | | | | | This IE may | | | | | | be present | | | | | | when the | | | | | | NF-Consumer | | | | | | supports | | | | | | Al | | | | | | lowed-ruleset | | | | | | feature as | | | | | | specified in | | | | | | clause 6.2.9. | | | | | | | | | | | | When present, | | | | | | the IE should | | | | | | only contain | | | | | | the highest | | | | | | priority | | | | | | RuleSet | | | | | | matching the | | | | | | requester's | | | | | | NF Instance | | | | | | ID, nfType, | | | | | | PLMN-ID, | | | | | | SNPN-ID, | | | | | | NfDomain and | | | | | | S-NSSAI if | | | | | | any (see | | | | | | Annex C). | | | | | | | | | | | | If the | | | | | | requesting | | | | | | entity | | | | | | included | | | | | | \"compl | | | | | | ete-profile\" | | | | | | query | | | | | | parameter in | | | | | | the request | | | | | | message, and | | | | | | the NRF | | | | | | authorized | | | | | | such a | | | | | | request (see | | | | | | claus | | | | | | e 5.3.2.2.2), | | | | | | the complete | | | | | | IE shall be | | | | | | present in | | | | | | the discovery | | | | | | response. | +---------------+---------------+---+-------------+---------------+ | select | Select | O | 0..1 | This IE is | | ionConditions | ionConditions | | | only | | | | | | applicable if | | | | | | the | | | | | | NF | | | | | | ServiceStatus | | | | | | is set to | | | | | | \"CANAR | | | | | | Y_RELEASE\". | | | | | | | | | | | | If present, | | | | | | it includes | | | | | | the | | | | | | conditions | | | | | | under which | | | | | | an NF Service | | | | | | Instance with | | | | | | an | | | | | | NF | | | | | | ServiceStatus | | | | | | value set to | | | | | | \"CANA | | | | | | RY_RELEASE\" | | | | | | shall be | | | | | | selected by | | | | | | an NF Service | | | | | | Consumer | | | | | | (e.g. if the | | | | | | UE belongs to | | | | | | a range of | | | | | | SUPIs) | +---------------+---------------+---+-------------+---------------+ | NOTE 1: The | | | | | | NF Service | | | | | | Consumer | | | | | | shall | | | | | | construct the | | | | | | API URIs of | | | | | | the service | | | | | | using:\ | | | | | | - For | | | | | | intra-PLMN | | | | | | signalling: | | | | | | If TLS is | | | | | | used, the | | | | | | FQDN present | | | | | | in the NF | | | | | | Service | | | | | | Profile, if | | | | | | any; | | | | | | otherwise, | | | | | | the FQDN | | | | | | present in | | | | | | the NF | | | | | | Profile. If | | | | | | TLS is not | | | | | | used, the | | | | | | FQDN should | | | | | | be used if | | | | | | the NF | | | | | | Service | | | | | | Consumer uses | | | | | | Indirect | | | | | | Communication | | | | | | via an SCP; | | | | | | the FQDN or | | | | | | the IP | | | | | | address in | | | | | | the | | | | | | ipEndPoints | | | | | | attribute may | | | | | | be used if | | | | | | the NF | | | | | | Service | | | | | | Consumer uses | | | | | | Direct | | | | | | Co | | | | | | mmunication.\ | | | | | | - For | | | | | | inter-PLMN | | | | | | signalling: | | | | | | the FQDN | | | | | | present in | | | | | | the NF | | | | | | Service | | | | | | Profile, if | | | | | | any; | | | | | | otherwise, | | | | | | the FQDN | | | | | | present in | | | | | | the NF | | | | | | Profile (see | | | | | | NOTE 3). | | | | | | | | | | | | NOTE 2: The | | | | | | capacity and | | | | | | priority | | | | | | parameters, | | | | | | if present, | | | | | | are used for | | | | | | service | | | | | | selection and | | | | | | load | | | | | | balancing. | | | | | | The priority | | | | | | and capacity | | | | | | attributes | | | | | | shall be used | | | | | | for NF | | | | | | selection in | | | | | | the same way | | | | | | that priority | | | | | | and weight | | | | | | are used for | | | | | | server | | | | | | selection as | | | | | | defined in | | | | | | IETF RFC | | | | | | 2782 [23]. | | | | | | | | | | | | NOTE 3: If | | | | | | the | | | | | | r | | | | | | equester-plmn | | | | | | in the query | | | | | | parameter is | | | | | | different | | | | | | from the PLMN | | | | | | of the | | | | | | discovered NF | | | | | | Service, then | | | | | | the fqdn | | | | | | attribute | | | | | | value, if | | | | | | included | | | | | | shall contain | | | | | | the | | | | | | interPlmnFqdn | | | | | | value | | | | | | registered by | | | | | | the NF | | | | | | Service | | | | | | during NF | | | | | | registration | | | | | | (see | | | | | | claus | | | | | | e 6.1.6.2.3). | | | | | | The | | | | | | r | | | | | | equester-plmn | | | | | | is different | | | | | | from the PLMN | | | | | | of the | | | | | | discovered NF | | | | | | Service if it | | | | | | belongs to | | | | | | none of the | | | | | | PLMN ID(s) | | | | | | configured | | | | | | for the PLMN | | | | | | of the NRF. | | | | | | | | | | | | NOTE 4: The | | | | | | usage of the | | | | | | load | | | | | | parameter by | | | | | | the NF | | | | | | service | | | | | | consumer is | | | | | | i | | | | | | mplementation | | | | | | specific, | | | | | | e.g. be used | | | | | | for NF | | | | | | service | | | | | | selection and | | | | | | load | | | | | | balancing, | | | | | | together with | | | | | | other | | | | | | parameters. | | | | | | | | | | | | NOTE 5: If | | | | | | the NF | | | | | | Service | | | | | | Consumer, | | | | | | based on the | | | | | | FQDN and IP | | | | | | address | | | | | | related | | | | | | attributes of | | | | | | the NFProfile | | | | | | and | | | | | | NFService, | | | | | | determines | | | | | | that it needs | | | | | | to use an | | | | | | FQDN to | | | | | | establish the | | | | | | HTTP | | | | | | connection | | | | | | with the NF | | | | | | Service | | | | | | Producer, it | | | | | | shall use | | | | | | such FQDN for | | | | | | DNS query | | | | | | and, in | | | | | | absence of | | | | | | any port | | | | | | information | | | | | | in the | | | | | | ipEndPoints | | | | | | attribute of | | | | | | the NF | | | | | | Service, it | | | | | | shall use the | | | | | | default HTTP | | | | | | port number, | | | | | | i.e. TCP port | | | | | | 80 for | | | | | | \"http\" URIs | | | | | | or TCP port | | | | | | 443 for | | | | | | \"https\" | | | | | | URIs as | | | | | | specified in | | | | | | IETF R | | | | | | FC 7540 [9] | | | | | | when invoking | | | | | | the service. | | | | | | | | | | | | NOTE 6: If | | | | | | multiple ipv4 | | | | | | addresses | | | | | | and/or ipv6 | | | | | | addresses are | | | | | | included in | | | | | | the NF | | | | | | Service, the | | | | | | NF Service | | | | | | Consumer | | | | | | shall select | | | | | | one of these | | | | | | addresses | | | | | | randomly, | | | | | | unless | | | | | | operator | | | | | | defined local | | | | | | policy of IP | | | | | | address | | | | | | selection, in | | | | | | order to | | | | | | avoid | | | | | | overload for | | | | | | a specific | | | | | | ipv4 address | | | | | | and/or ipv6 | | | | | | address. | | | | | | | | | | | | NOTE 7: When | | | | | | present, this | | | | | | attribute | | | | | | allows the NF | | | | | | requesting NF | | | | | | discovery | | | | | | (e.g. an NF | | | | | | Service | | | | | | Consumer) to | | | | | | determine | | | | | | which | | | | | | ve | | | | | | ndor-specific | | | | | | extensions | | | | | | are supported | | | | | | in a given NF | | | | | | (e.g. an | | | | | | Service | | | | | | Producer) in | | | | | | order to | | | | | | select an | | | | | | appropriate | | | | | | NF, or to | | | | | | include or | | | | | | not include | | | | | | the | | | | | | ve | | | | | | ndor-specific | | | | | | attributes | | | | | | (see | | | | | | 3GPP TS | | | | | | 29.500 [4] | | | | | | clause 6.6.3) | | | | | | required for | | | | | | a given | | | | | | feature in | | | | | | subsequent | | | | | | service | | | | | | requests | | | | | | towards a | | | | | | certain | | | | | | service | | | | | | instance of | | | | | | the NF | | | | | | Service | | | | | | Producer. One | | | | | | given | | | | | | ve | | | | | | ndor-specific | | | | | | feature shall | | | | | | not appear in | | | | | | both NF | | | | | | Profile and | | | | | | NF Service | | | | | | Profile. If | | | | | | one | | | | | | ve | | | | | | ndor-specific | | | | | | feature is | | | | | | service | | | | | | related, it | | | | | | shall only be | | | | | | included in | | | | | | the NF | | | | | | Service | | | | | | Profile. | | | | | | | | | | | | NOTE 8: These | | | | | | attributes | | | | | | are used by | | | | | | the NF | | | | | | Service | | | | | | Consumer in | | | | | | order to | | | | | | discover the | | | | | | additional | | | | | | scopes | | | | | | (resource/op | | | | | | eration-level | | | | | | scopes) that | | | | | | might be | | | | | | required to | | | | | | invoke a | | | | | | certain | | | | | | service | | | | | | operation, | | | | | | based on the | | | | | | authorization | | | | | | information | | | | | | registered in | | | | | | NRF by the NF | | | | | | Service | | | | | | Producer in | | | | | | its NF | | | | | | profile. See | | | | | | also NOTE 11 | | | | | | of | | | | | | Table | | | | | | 6.1.6.2.3-1. | | | | | | | | | | | | NOTE 9: For | | | | | | API URIs | | | | | | constructed | | | | | | with an FQDN, | | | | | | the NF | | | | | | Service | | | | | | Consumer may | | | | | | use the FQDN | | | | | | in the target | | | | | | URI to do a | | | | | | DNS query and | | | | | | obtain the IP | | | | | | address(es) | | | | | | to setup the | | | | | | TCP | | | | | | connection, | | | | | | and ignore | | | | | | the IP | | | | | | addresses | | | | | | that may be | | | | | | present in | | | | | | the | | | | | | ipEndPoints | | | | | | attribute; | | | | | | a | | | | | | lternatively, | | | | | | the NF | | | | | | Service | | | | | | Consumer may | | | | | | use those IP | | | | | | addresses to | | | | | | setup the TCP | | | | | | connection, | | | | | | if the NF | | | | | | Service | | | | | | Consumer | | | | | | supports to | | | | | | indicate | | | | | | specific IP | | | | | | address(es) | | | | | | to establish | | | | | | an HTTP/2 | | | | | | connection | | | | | | with an FQDN | | | | | | in the target | | | | | | URI. | | | | | | | | | | | | NOTE 10: This | | | | | | attribute may | | | | | | be used by | | | | | | the requester | | | | | | NF or SCP | | | | | | e.g. to build | | | | | | the authority | | | | | | of the | | | | | | Location | | | | | | header in 3xx | | | | | | response or | | | | | | to set the | | | | | | 3gp | | | | | | p-Sbi-apiRoot | | | | | | header in a | | | | | | response | | | | | | message (see | | | | | | clause 6.10.4 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [4]), | | | | | | when the NF | | | | | | redirects a | | | | | | request | | | | | | issued by a | | | | | | consumer from | | | | | | a different | | | | | | PLMN towards | | | | | | the | | | | | | discovered NF | | | | | | service, or | | | | | | when the SCP | | | | | | has | | | | | | reselected | | | | | | the | | | | | | discovered NF | | | | | | service for | | | | | | such a | | | | | | request. | | | | | | | | | | | | NOTE 11: If | | | | | | PLMN specific | | | | | | value is | | | | | | registered | | | | | | for the PLMN | | | | | | ID of the | | | | | | requester NF, | | | | | | the NRF shall | | | | | | set the | | | | | | o | | | | | | auth2Required | | | | | | attribute | | | | | | with the PLMN | | | | | | specific | | | | | | values (see | | | | | | description | | | | | | of | | | | | | perPlmn | | | | | | Oauth2ReqList | | | | | | in | | | | | | claus | | | | | | e 6.1.6.2.3). | | | | | | | | | | | | NOTE 12: If | | | | | | this | | | | | | attribute is | | | | | | present in | | | | | | the NFService | | | | | | and in the NF | | | | | | profile, the | | | | | | attribute | | | | | | from the | | | | | | NFService | | | | | | shall | | | | | | prevail. The | | | | | | absence of | | | | | | this | | | | | | attribute in | | | | | | the NFService | | | | | | and in the | | | | | | NFProfile | | | | | | indicates | | | | | | that there is | | | | | | no | | | | | | corresponding | | | | | | restriction | | | | | | to access the | | | | | | service | | | | | | instance. If | | | | | | this | | | | | | attribute is | | | | | | absent in the | | | | | | NF Service, | | | | | | but it is | | | | | | present in | | | | | | the NF | | | | | | Profile, the | | | | | | attribute | | | | | | from the NF | | | | | | Profile shall | | | | | | be applied. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.2.6.2.5 Type: StoredSearchResult
Table 6.2.6.2.5-1: Definition of type StoredSearchResult
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | nfInstances | arr | M | 0..N | An array of | | | ay(NFProfile) | | | NF Instances | | | | | | corresponding | | | | | | to a given | | | | | | stored search | | | | | | result. | | | | | | | | | | | | NF instance | | | | | | profiles | | | | | | included in | | | | | | this IE shall | | | | | | not contain | | | | | | authorization | | | | | | attributes | | | | | | (such as the | | | | | | \ | | | | | | "allowedXXX\" | | | | | | attributes of | | | | | | the NFProfile | | | | | | or NFService | | | | | | data types). | +---------------+---------------+---+-------------+---------------+ | comple | arr | C | 1..N | When present, | | teNfInstances | ay(NFProfile) | | | it shall | | | | | | contain an | | | | | | array of | | | | | | complete NF | | | | | | Instance | | | | | | profiles | | | | | | (including | | | | | | authorization | | | | | | attributes | | | | | | such as the | | | | | | \ | | | | | | "allowedXXX\" | | | | | | attributes of | | | | | | the NFProfile | | | | | | or NFService | | | | | | data types), | | | | | | matching the | | | | | | search | | | | | | criteria | | | | | | indicated by | | | | | | the query | | | | | | parameters of | | | | | | the discovery | | | | | | request. | | | | | | | | | | | | . | | | | | | | | | | | | This IE shall | | | | | | only be | | | | | | present if | | | | | | the NRF | | | | | | supports the | | | | | | \"Co | | | | | | mplete-Profil | | | | | | e-Discovery\" | | | | | | feature, the | | | | | | \"compl | | | | | | ete-profile\" | | | | | | query | | | | | | parameter is | | | | | | present and | | | | | | set to true | | | | | | in the | | | | | | request (see | | | | | | clause | | | | | | 6.2.3.2.3.1), | | | | | | and if the | | | | | | requesting | | | | | | entity is | | | | | | authorized to | | | | | | discover the | | | | | | complete | | | | | | profile of NF | | | | | | instances. | +---------------+---------------+---+-------------+---------------+
##### 6.2.6.2.6 Type: PreferredSearch
Table 6.2.6.2.6-1: Definition of type PreferredSearch
+-----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +=================+===========+===+=============+=================+ | prefe | boolean | C | 0..1 | Indicates | | rredTaiMatchInd | | | | whether all the | | | | | | returned | | | | | | NFProfiles | | | | | | match or do not | | | | | | match the query | | | | | | parameter | | | | | | preferred-tai. | | | | | | | | | | | | true: Match\ | | | | | | false | | | | | | (default): Not | | | | | | Match | +-----------------+-----------+---+-------------+-----------------+ | preferredF | boolean | O | 0..1 | Indicates | | ullPlmnMatchInd | | | | whether all the | | | | | | returned | | | | | | NFProfiles | | | | | | match or do not | | | | | | match the query | | | | | | parameter | | | | | | prefe | | | | | | rred-full-plmn. | | | | | | | | | | | | true: Match\ | | | | | | false | | | | | | (default): Not | | | | | | Match | +-----------------+-----------+---+-------------+-----------------+ | preferredApiV | boolean | O | 0..1 | Indicates | | ersionsMatchInd | | | | whether the | | | | | | search result | | | | | | includes at | | | | | | least one NF | | | | | | Profile that | | | | | | matches all the | | | | | | preferred API | | | | | | versions | | | | | | indicated in | | | | | | the query | | | | | | parameter | | | | | | preferre | | | | | | d-api-versions. | | | | | | | | | | | | true: Match\ | | | | | | false: Not | | | | | | Match | +-----------------+-----------+---+-------------+-----------------+ | othe | boolean | O | 0..1 | This IE may be | | rApiVersionsInd | | | | present if the | | | | | | preferr | | | | | | ed-api-versions | | | | | | query parameter | | | | | | is provided in | | | | | | the discovery | | | | | | request. | | | | | | | | | | | | When present, | | | | | | this IE | | | | | | indicates | | | | | | whether there | | | | | | is at least one | | | | | | NF Profile with | | | | | | other API | | | | | | versions, i.e. | | | | | | that does not | | | | | | match all the | | | | | | preferred API | | | | | | versions | | | | | | indicated in | | | | | | the | | | | | | preferre | | | | | | d-api-versions, | | | | | | returned in the | | | | | | response or | | | | | | not. | | | | | | | | | | | | true: Returned | | | | | | | | | | | | false: Not | | | | | | returned | +-----------------+-----------+---+-------------+-----------------+ | preferredL | boolean | O | 0..1 | Indicates | | ocalityMatchInd | | | | whether the | | | | | | search result | | | | | | includes at | | | | | | least one | | | | | | NFProfile that | | | | | | match the query | | | | | | parameter | | | | | | pre | | | | | | ferred-locality | | | | | | or | | | | | | ext-pref | | | | | | erred-locality. | | | | | | | | | | | | true: Match\ | | | | | | false | | | | | | (default): Not | | | | | | Match | +-----------------+-----------+---+-------------+-----------------+ | o | boolean | O | 0..1 | This IE may be | | therLocalityInd | | | | present if the | | | | | | pre | | | | | | ferred-locality | | | | | | or | | | | | | ext-pre | | | | | | ferred-locality | | | | | | query parameter | | | | | | is provided in | | | | | | the discovery | | | | | | request. | | | | | | | | | | | | When present, | | | | | | this IE | | | | | | indicates | | | | | | whether there | | | | | | is at least one | | | | | | NFProfile with | | | | | | another | | | | | | locality, i.e. | | | | | | not matching | | | | | | the | | | | | | pre | | | | | | ferred-locality | | | | | | or | | | | | | ext-pref | | | | | | erred-locality, | | | | | | returned in the | | | | | | response or | | | | | | not. | | | | | | | | | | | | true: Returned | | | | | | | | | | | | false | | | | | | (default): Not | | | | | | returned | +-----------------+-----------+---+-------------+-----------------+ | pref | boolean | O | 0..1 | Indicates | | erredVendorSpec | | | | whether all the | | ificFeaturesInd | | | | returned | | | | | | NFProfiles | | | | | | match (or do | | | | | | not match) the | | | | | | query parameter | | | | | | pref | | | | | | erred-vendor-sp | | | | | | ecific-features | | | | | | (i.e. whether | | | | | | they support | | | | | | all the | | | | | | preferred | | | | | | vendor-spec | | | | | | ific-features). | | | | | | | | | | | | true: Match\ | | | | | | false | | | | | | (default): Not | | | | | | Match | +-----------------+-----------+---+-------------+-----------------+ | preferredColl | boolean | O | 0..1 | Indicates | | ocatedNfTypeInd | | | | whether all the | | | | | | returned | | | | | | NFProfiles | | | | | | match (or do | | | | | | not match) the | | | | | | query parameter | | | | | | preferred-collo | | | | | | cated-nf-types. | | | | | | | | | | | | true: Match\ | | | | | | false | | | | | | (default): Not | | | | | | Match | +-----------------+-----------+---+-------------+-----------------+ | prefe | boolean | O | 0..1 | This IE may be | | rredPgwMatchInd | | | | present if | | | | | | pr | | | | | | eferred-pgw-ind | | | | | | query parameter | | | | | | is provided in | | | | | | the discovery | | | | | | request. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | indicate | | | | | | whether all the | | | | | | returned | | | | | | NFProfiles | | | | | | match or do not | | | | | | match the query | | | | | | parameter | | | | | | pre | | | | | | ferred-pgw-ind. | | | | | | | | | | | | true: Match\ | | | | | | false: Not | | | | | | Match | +-----------------+-----------+---+-------------+-----------------+ | preferredAna | boolean | C | 0..1 | This IE shall | | lyticsDelaysInd | | | | be present if | | | | | | preferred-a | | | | | | nalytics-delays | | | | | | query parameter | | | | | | is provided in | | | | | | the discovery | | | | | | request. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | indicate | | | | | | whether all the | | | | | | returned | | | | | | NFProfiles | | | | | | match or do not | | | | | | match the query | | | | | | parameter | | | | | | preferred-an | | | | | | alytics-delays. | | | | | | | | | | | | true: Match\ | | | | | | false: Not | | | | | | Match | +-----------------+-----------+---+-------------+-----------------+ | preferredF | boolean | O | 0..1 | Indicates | | eaturesMatchInd | | | | whether the | | | | | | search result | | | | | | includes at | | | | | | least one | | | | | | NFProfile that | | | | | | supports all | | | | | | the preferred | | | | | | feature(s) | | | | | | indicated by | | | | | | the query | | | | | | parameter | | | | | | pref | | | | | | erred-features. | | | | | | | | | | | | true: | | | | | | Supported\ | | | | | | false: Not | | | | | | supported | +-----------------+-----------+---+-------------+-----------------+ | noPrefe | boolean | O | 0..1 | Indicates | | rredFeaturesInd | | | | whether the | | | | | | search result | | | | | | includes at | | | | | | least one | | | | | | NFProfile not | | | | | | supporting all | | | | | | the preferred | | | | | | feature(s) | | | | | | indicated by | | | | | | the query | | | | | | parameter | | | | | | pref | | | | | | erred-features. | | | | | | | | | | | | true: Returned | | | | | | | | | | | | false: Not | | | | | | returned | +-----------------+-----------+---+-------------+-----------------+ | NOTE: The | | | | | | PreferredSearch | | | | | | data type is | | | | | | used to encode | | | | | | the | | | | | | preferredSearch | | | | | | IE in | | | | | | SearchResult | | | | | | (see | | | | | | cl | | | | | | ause 6.2.6.2.2) | | | | | | and the | | | | | | preferredSearch | | | | | | IE in the | | | | | | NfInstanceInfo | | | | | | data type (see | | | | | | cla | | | | | | use 6.2.6.2.7). | | | | | | The description | | | | | | of the IEs in | | | | | | the | | | | | | PreferredSearch | | | | | | data type is | | | | | | provided for | | | | | | the first | | | | | | case.\ | | | | | | For the latter | | | | | | case, these IEs | | | | | | shall be | | | | | | interpreted as | | | | | | indicating | | | | | | whether the NF | | | | | | profile of the | | | | | | NF instance ID | | | | | | returned in the | | | | | | nfInstanceList | | | | | | IE of | | | | | | SearchResult | | | | | | matches the | | | | | | preference | | | | | | parameters, and | | | | | | the | | | | | | othe | | | | | | rApiVersionsInd | | | | | | IE and the | | | | | | o | | | | | | therLocalityInd | | | | | | IE shall be | | | | | | absent. | | | | | +-----------------+-----------+---+-------------+-----------------+
##### 6.2.6.2.7 Type: NfInstanceInfo
Table 6.2.6.2.7-1: Definition of type NfInstanceInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | nrfDiscApiUri | Uri | C | 0..1 | This IE shall | | | | | | be present if | | | | | | the NRF | | | | | | holding the | | | | | | NF profile is | | | | | | not the NRF | | | | | | that received | | | | | | the | | | | | | NFDiscover | | | | | | request. It | | | | | | may be | | | | | | present | | | | | | otherwise. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | API URI of | | | | | | the | | | | | | Nnrf | | | | | | _NFDiscovery | | | | | | service of | | | | | | the NRF | | | | | | holding the | | | | | | NF profile. | | | | | | The API URI | | | | | | shall be | | | | | | formatted as | | | | | | specified in | | | | | | clause 6.2.1 | +---------------+---------------+---+-------------+---------------+ | pr | Pr | O | 0..1 | This IE may | | eferredSearch | eferredSearch | | | be present to | | | | | | indicate | | | | | | whether the | | | | | | NF Profile | | | | | | matches the | | | | | | preferred | | | | | | query | | | | | | parameters, | | | | | | if the | | | | | | discovery | | | | | | request | | | | | | contains any | | | | | | of the query | | | | | | parameter | | | | | | defined in | | | | | | the | | | | | | Pr | | | | | | eferredSearch | | | | | | data type. | | | | | | | | | | | | This IE shall | | | | | | take | | | | | | precedence | | | | | | over the | | | | | | pr | | | | | | eferredSearch | | | | | | IE in the | | | | | | SearchResult, | | | | | | if any. | +---------------+---------------+---+-------------+---------------+ | nrfAlte | map(integer) | O | 1..N | This IE may | | redPriorities | | | | be present if | | | | | | the NRF | | | | | | wishes to | | | | | | signal | | | | | | modified | | | | | | priorities | | | | | | for the NF | | | | | | instance. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be the JSON | | | | | | Pointer (as | | | | | | specified in | | | | | | IETF RFC | | | | | | 6901 [14]) | | | | | | of the | | | | | | corresponding | | | | | | priority IE | | | | | | in the | | | | | | NFProfile | | | | | | data type | | | | | | defined in | | | | | | clau | | | | | | se 6.2.6.2.3. | | | | | | | | | | | | (NOTE) | +---------------+---------------+---+-------------+---------------+ | nrfSupp | Supp | C | 0..1 | Features | | ortedFeatures | ortedFeatures | | | supported by | | | | | | the NRF for | | | | | | the | | | | | | NFDiscovery | | | | | | service (see | | | | | | clause | | | | | | 6.2.9). | | | | | | | | | | | | This IE | | | | | | should be | | | | | | present if | | | | | | the | | | | | | nrfDiscApiUri | | | | | | IE is present | | | | | | and if the | | | | | | NRF holding | | | | | | the NF | | | | | | profile | | | | | | supports at | | | | | | least one | | | | | | feature. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | indicate the | | | | | | features | | | | | | supported by | | | | | | the NRF | | | | | | holding the | | | | | | NF profile. | +---------------+---------------+---+-------------+---------------+ | NOTE: If this | | | | | | IE is | | | | | | present, the | | | | | | requester NF | | | | | | should apply | | | | | | the NRF | | | | | | altered | | | | | | priorities | | | | | | when | | | | | | selecting a | | | | | | NF service | | | | | | producer for | | | | | | the | | | | | | corresponding | | | | | | NF Discovery | | | | | | request, | | | | | | instead of | | | | | | the | | | | | | priorities | | | | | | retrieved in | | | | | | the | | | | | | corresponding | | | | | | NF profile. | | | | | +---------------+---------------+---+-------------+---------------+
EXAMPLE: The following JSON object would represent an NfInstanceInfo where the
NRF signals modified priorities for the NF instance, two NF service instances
and two smfInfo instances.
{
\"nrfAlteredPriorities\": {
\"/priority\": 1000,
\"/nfServiceList/serviceinstance1/priority\": 3000,
\"/nfServiceList/serviceinstance2/priority\": 5000,
\"/smfInfo/priority\": 20000,
\"/smfInfoList/abcd/priority\": 15000
}
}
##### 6.2.6.2.8 Type: ScpDomainRoutingInformation
Table 6.1.6.2.8-1: Definition of type ScpDomainRoutingInformation
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | scpDomainList | map(ScpDomain | M | 0..N | This IE shall | | | Connectivity) | | | contain map | | | | | | of SCP domain | | | | | | in | | | | | | terconnection | | | | | | information, | | | | | | where the key | | | | | | of the map is | | | | | | a SCP domain. | | | | | | The value of | | | | | | each entry | | | | | | shall be the | | | | | | inte | | | | | | rconnectivity | | | | | | information | | | | | | of the SCP | | | | | | domain | | | | | | indicated by | | | | | | the key. | | | | | | | | | | | | An empty map | | | | | | indicates | | | | | | that there is | | | | | | no SCP domain | | | | | | currently | | | | | | registered in | | | | | | the NRF. | +---------------+---------------+---+-------------+---------------+
EXAMPLE: The SCP Domain Routing Information is derived from the SCP domains
registered by SCPs, e.g. if SCP x, SCP y and SCP z have registered in NRF with
following SCP domains:
SCP x Profile includes: { \"scpDomains\": [ \"SCP_Domain_1\", \"SCP_Domain_2\"
] }
SCP y Profile includes: { \"scpDomains\": [ \"SCP_Domain_2\", \"SCP_Domain_3\"
] }
SCP z Profile includes: { \"scpDomains\": [ \"SCP_Domain_4\" ] }
then the SCP Domain Routing Information should be as following:
{
\"scpDomainList\": {
\"SCP_Domain_1\": { \"connectedScpDomainList\": [ \"SCP_Domain_2\" ] },
\"SCP_Domain_2\": { \"connectedScpDomainList\": [ \"SCP_Domain_1\",
\"SCP_Domain_3\" ] },
\"SCP_Domain_3\": { \"connectedScpDomainList\": [ \"SCP_Domain_2\" ] },
\"SCP_Domain_4\": { \"connectedScpDomainList\": [ ] }
}
}
##### 6.2.6.2.9 Type: ScpDomainConnectivity
Table 6.2.6.2.9-1: Definition of type ScpDomainConnectivity
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | connected | array(string) | M | 0..N | This IE shall | | ScpDomainList | | | | contain the | | | | | | list of | | | | | | i | | | | | | nterconnected | | | | | | SCP domains. | | | | | | | | | | | | An empty | | | | | | array | | | | | | indicates | | | | | | there is no | | | | | | SCP Domain | | | | | | currently | | | | | | in | | | | | | terconnected. | +---------------+---------------+---+-------------+---------------+
##### 6.2.6.2.10 Type: ScpDomainRoutingInfoSubscription
Table 6.2.6.2.10-1: Definition of type ScpDomainRoutingInfoSubscription
+---------------+--------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+==============+===+=============+===============+ | callbackUri | Uri | M | 1 | Callback URI | | | | | | where the | | | | | | Service | | | | | | Consumer will | | | | | | receive the | | | | | | notifications | | | | | | from NRF. | +---------------+--------------+---+-------------+---------------+ | validityTime | DateTime | C | 0..1 | Time instant | | | | | | after which | | | | | | the | | | | | | subscription | | | | | | becomes | | | | | | invalid. This | | | | | | parameter may | | | | | | be sent by | | | | | | the client, | | | | | | as a hint to | | | | | | the server, | | | | | | but it shall | | | | | | be always | | | | | | sent back by | | | | | | the server | | | | | | (regardless | | | | | | of the | | | | | | presence of | | | | | | the attribute | | | | | | in the | | | | | | request) in | | | | | | the response | | | | | | to the | | | | | | subscription | | | | | | creation | | | | | | request. | +---------------+--------------+---+-------------+---------------+ | reqInstanceId | NfInstanceId | O | 0..1 | If present, | | | | | | this IE shall | | | | | | contain the | | | | | | NF instance | | | | | | id of the | | | | | | Service | | | | | | consumer. | +---------------+--------------+---+-------------+---------------+ | localInd | boolean | O | 0..1 | When present, | | | | | | this IE shall | | | | | | indicate | | | | | | whether | | | | | | changes of | | | | | | local SCP | | | | | | Domain | | | | | | Routing | | | | | | Information | | | | | | to be | | | | | | notified: | | | | | | | | | | | | - true: | | | | | | changes of | | | | | | local SCP | | | | | | Domain | | | | | | Routing | | | | | | Information | | | | | | to be | | | | | | notified. | | | | | | | | | | | | - false | | | | | | (default): | | | | | | changes of | | | | | | SCP Domain | | | | | | Routing | | | | | | Information | | | | | | to be | | | | | | notified | +---------------+--------------+---+-------------+---------------+
##### 6.2.6.2.11 Type: ScpDomainRoutingInfoNotification
Table 6.2.6.2.11-1: Definition of type ScpDomainRoutingInfoNotification
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | routingInfo | S | M | 1 | This IE shall | | | cpDomainRouti | | | contain the | | | ngInformation | | | SCP Domain | | | | | | Routing | | | | | | Information | | | | | | after the | | | | | | change. | +---------------+---------------+---+-------------+---------------+ | localInd | boolean | O | 0..1 | When present, | | | | | | this IE shall | | | | | | indicate | | | | | | whether | | | | | | changes of | | | | | | local SCP | | | | | | Domain | | | | | | Routing | | | | | | Information | | | | | | is carried in | | | | | | the | | | | | | notification: | | | | | | | | | | | | - true: | | | | | | changes of | | | | | | local SCP | | | | | | Domain | | | | | | Routing | | | | | | Information | | | | | | in the | | | | | | notification. | | | | | | | | | | | | - false | | | | | | (default): | | | | | | changes of | | | | | | SCP Domain | | | | | | Routing | | | | | | Information | | | | | | in the | | | | | | notification. | +---------------+---------------+---+-------------+---------------+
##### 6.2.6.2.12 Type: NfServiceInstance
Table 6.2.6.2.12-1: Definition of type NfServiceInstance
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | serv | string | M | 1 | Unique ID of | | iceInstanceId | | | | the service | | | | | | instance | | | | | | within a | | | | | | given NF | | | | | | Instance | +---------------+---------------+---+-------------+---------------+ | nfInstanceId | NfInstanceId | C | 0..1 | NF Instance | | | | | | ID of the NF | | | | | | service | | | | | | instance | | | | | | | | | | | | (NOTE) | +---------------+---------------+---+-------------+---------------+ | n | N | C | 0..1 | NF Service | | fServiceSetId | fServiceSetId | | | Set ID of the | | | | | | NF Service | | | | | | instance | | | | | | | | | | | | (NOTE) | +---------------+---------------+---+-------------+---------------+ | NOTE: Either | | | | | | the | | | | | | nfInstanceId | | | | | | IE or the | | | | | | n | | | | | | fServiceSetId | | | | | | IE shall be | | | | | | present. | | | | | +---------------+---------------+---+-------------+---------------+
##### 6.2.6.2.13 Type: NoProfileMatchInfo
Table 6.2.6.2.13-1: Definition of type NoProfileMatchInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | reason | NoProfi | M | 1 | This IE shall | | | leMatchReason | | | indicate the | | | | | | specific | | | | | | reason for | | | | | | not finding | | | | | | any NF | | | | | | instance that | | | | | | can match the | | | | | | search | | | | | | criteria. | +---------------+---------------+---+-------------+---------------+ | queryParamCo | ar | O | 1..N | This IE may | | mbinationList | ray(QueryPara | | | be present if | | | mCombination) | | | the reason IE | | | | | | is set to | | | | | | \"Q | | | | | | UERY_PARAMS\ | | | | | | _COMBINATION\ | | | | | | _NO_MATCH\". | | | | | | | | | | | | If present | | | | | | each | | | | | | QueryPar | | | | | | amCombination | | | | | | indicates | | | | | | that no NF | | | | | | Instance | | | | | | matching the | | | | | | QueryPar | | | | | | amCombination | | | | | | has | | | | | | registered. | +---------------+---------------+---+-------------+---------------+
##### 6.2.6.2.14 Type: QueryParamCombination
Table 6.2.6.2.14-1: Definition of type QueryParamCombination
Attribute name Data type P Cardinality Description
* * *
queryParams array(QueryParameter) M 1..N This IE shall contain a list of query
parameters.
##### 6.2.6.2.15 Type: QueryParameter
Table 6.2.6.2.15-1: Definition of type QueryParameter
Attribute name Data type P Cardinality Description
* * *
name string M 1 name of the query parameter value string M 1 value of the
query parameter
##### 6.2.6.2.16 Type: AfData
Table 6.2.6.2.16-1: Definition of type AfData
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | afEvents | a | M | 1..N | AF Event(s) | | | rray(AfEvent) | | | supported by | | | | | | the trusted | | | | | | AF. | +---------------+---------------+---+-------------+---------------+ | taiList | array(Tai) | O | 1..N | This IE may | | | | | | be present if | | | | | | the AfEvent | | | | | | is set to | | | | | | \ | | | | | | "GNSS_ASSIST | | | | | | ANCE_DATA\". | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | list of TAIs | | | | | | the trusted | | | | | | AF can serve. | | | | | | It may | | | | | | contain one | | | | | | or more | | | | | | non-3GPP | | | | | | access TAIs. | | | | | | The absence | | | | | | of this | | | | | | attribute and | | | | | | the | | | | | | taiRangeList | | | | | | attribute | | | | | | indicate that | | | | | | the trusted | | | | | | AF can be | | | | | | selected for | | | | | | any TAI in | | | | | | the serving | | | | | | network. | +---------------+---------------+---+-------------+---------------+ | taiRangeList | ar | O | 1..N | This IE may | | | ray(TaiRange) | | | be present if | | | | | | the AfEvent | | | | | | is set to | | | | | | \ | | | | | | "GNSS_ASSIST | | | | | | ANCE_DATA\". | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | range of TAIs | | | | | | the trusted | | | | | | AF can serve. | | | | | | It may | | | | | | contain | | | | | | non-3GPP | | | | | | access TAIs. | | | | | | The absence | | | | | | of this | | | | | | attribute and | | | | | | the taiList | | | | | | attribute | | | | | | indicate that | | | | | | the trusted | | | | | | AF can be | | | | | | selected for | | | | | | any TAI in | | | | | | the serving | | | | | | network. | +---------------+---------------+---+-------------+---------------+
##### 6.2.6.2.17 Type: SearchResultInfo
Table 6.2.6.2.17-1: Definition of type SearchResultInfo
Attribute name Data type P Cardinality Description
* * *
unsatisfiedTaiList array(Tai) C 1..N This IE should be present if the NF
Discovery Request includes a tai-list query parameter and the \"nf-ta-list-
ind\" query parameter set to true, when the NFs included in the nfInstances or
nfInstanceList altogether support only a subset of TAs included in the tai-
list. When present, this IE shall include a list of TAs which are unsatisfied,
i.e. the NFs included in the nfInstances or nfInstanceList do not support
these TAs.
#### 6.2.6.3 Simple data types and enumerations
##### 6.2.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 6.2.6.3.2 Simple data types
The simple data types defined in table 6.2.6.3.2-1 shall be supported.
Table 6.2.6.3.2-1: Simple data types
* * *
Type Name Type Definition Description
* * *
##### 6.2.6.3.3 Enumeration: NoProfileMatchReason
The enumeration NoProfileMatchReason indicates the specific reason for not
finding any NF instance that can match the search criteria.
Table 6.2.6.3.3-1: Enumeration NoProfileMatchReason
Enumeration value Description
* * *
\"REQUESTER_PLMN_NOT_ALLOWED\" NF profiles are not allowed to be discovered by
the requester\'s PLMN \"TARGET_NF_SUSPENDED\" Target NF exists with NFStatus
or NFServiceStatus \"SUSPENDED\" \"TARGET_NF_UNDISCOVERABLE\" Target NF exists
with NFStatus or NFServiceStatus \"UNDISCOVERABLE\"
\"QUERY_PARAMS_COMBINATION_NO_MATCH\" No NF instance matching the Query
Parameter Combination has registered \"UNSPECIFIED\" Other reasons
### 6.2.7 Error Handling
#### 6.2.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS
29.500 [4].
#### 6.2.7.2 Protocol Errors
Protocol errors handling shall be supported as specified in clause 5.2.7 of
3GPP TS 29.500 [4].
#### 6.2.7.3 Application Errors
The application errors defined for the Nnrf_NFDiscovery service are listed in
Table 6.2.7.3-1.
Table 6.2.7.3-1: Application errors
Application Error HTTP status code Description
* * *
### 6.2.8 Security
As indicated in clause 13.3 of 3GPP TS 33.501 [15], when static authorization
is not used, the access to the Nnrf_NFDiscovery API may be authorized by means
of the OAuth2 protocol (see IETF RFC 6749 [16]), using the \"Client
Credentials\" authorization grant, where the NRF plays the role of the
authorization server.
If Oauth2 authorization is used on the Nnrf_NFDiscovery API, an NF Service
Consumer, prior to consuming services offered by the Nnrf_NFDiscovery API,
shall obtain a \"token\" from the authorization server, by invoking the Access
Token Request service, as described in clause 5.4.2.2.
NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF where the Nnrf_NFDiscovery service is
invoked by the NF Service Consumer.
The Nnrf_NFDiscovery API defines the following scopes for OAuth2
authorization:
Table 6.2.8-1: Oauth2 scopes defined in Nnrf_NFDiscovery API
Scope Description
* * *
\"nnrf-disc\" Access to the Nnrf_NFDiscovery API \"nnrf-disc:scp-domain:read\"
Access to read the scp-domain-routing-info resource \"nnrf-disc:scp-domain-
subs:write\" Access to create/delete a scp-domain subscription resource
\"nnrf-disc:nf-instances:read-complete-profile\" Access to the
Nnrf_NFDiscovery API enabling the discovery of the complete profile of NF
instances
### 6.2.9 Features supported by the NFDiscovery service
The syntax of the supportedFeatures attribute is defined in clause 5.2.2 of
3GPP TS 29.571 [7].
The following features are defined for the Nnrf_NFDiscovery service.
Table 6.2.9-1: Features of supportedFeatures attribute used by
Nnrf_NFDiscovery service
+-------------------+-------------------+-----+-------------------+ | Feature Number | Feature | M/O | Description | +-------------------+-------------------+-----+-------------------+ | 1 | Complex-Query | O | Support of | | | | | Complex Query | | | | | expression (see | | | | | clause | | | | | 6.2.3.2.3.1) | +-------------------+-------------------+-----+-------------------+ | 2 | Query-Params-Ext1 | O | Support of the | | | | | following query | | | | | parameters: | | | | | | | | | | - limit | | | | | | | | | | - | | | | | max-payload-size | | | | | | | | | | - | | | | | required-features | | | | | | | | | | - | | | | | pdu-session-types | +-------------------+-------------------+-----+-------------------+ | 3 | Quer | O | Support of the | | | y-Param-Analytics | | query parameters | | | | | for Analytics | | | | | identifier: | | | | | | | | | | - event-id-list | | | | | | | | | | - | | | | | nwdaf-event-list | +-------------------+-------------------+-----+-------------------+ | 4 | MAPDU | O | This feature | | | | | indicates whether | | | | | the NRF supports | | | | | selection of UPF | | | | | with ATSSS | | | | | capability. | +-------------------+-------------------+-----+-------------------+ | 5 | Query-Params-Ext2 | O | Support of the | | | | | following query | | | | | parameters: | | | | | | | | | | - | | | | | request | | | | | er-nf-instance-id | | | | | | | | | | - | | | | | u | | | | | pf-ue-ip-addr-ind | | | | | | | | | | - pfd-data | | | | | | | | | | - target-snpn | | | | | | | | | | - af-ee-data | | | | | | | | | | - w-agf-info | | | | | | | | | | - tngf-info | | | | | | | | | | - twif-info | | | | | | | | | | - | | | | | target-nf-set-id | | | | | | | | | | - | | | | | target- | | | | | nf-service-set-id | | | | | | | | | | - preferred-tai | | | | | | | | | | - nef-id | | | | | | | | | | - | | | | | prefe | | | | | rred-nf-instances | | | | | | | | | | - | | | | | notification-type | | | | | | | | | | - serving-scope | | | | | | | | | | - | | | | | intern | | | | | al-group-identity | | | | | | | | | | - | | | | | prefe | | | | | rred-api-versions | | | | | | | | | | - | | | | | v2x-support-ind | | | | | | | | | | - redundant-gtpu | | | | | | | | | | - | | | | | re | | | | | dundant-transport | | | | | | | | | | - lmf-id | | | | | | | | | | - an-node-type | | | | | | | | | | - rat-type | | | | | | | | | | - ipups | | | | | | | | | | - | | | | | scp-domain-list | | | | | | | | | | - address-domain | | | | | | | | | | - ipv4-addr | | | | | | | | | | - ipv6-prefix | | | | | | | | | | - | | | | | served-nf-set-id | | | | | | | | | | - remote-plmn-id | | | | | | | | | | - | | | | | data-forwarding | | | | | | | | | | - | | | | | pr | | | | | eferred-full-plmn | | | | | | | | | | - | | | | | re | | | | | quester-snpn-list | | | | | | | | | | - | | | | | max | | | | | -payload-size-ext | | | | | | | | | | - client-type | +-------------------+-------------------+-----+-------------------+ | 6 | Service-Map | M | This feature | | | | | indicates whether | | | | | it is supported | | | | | to identify the | | | | | list of NF | | | | | Service Instances | | | | | as a map (i.e. | | | | | the | | | | | \"nfServiceList\" | | | | | attribute of | | | | | NFProfile is | | | | | supported). | +-------------------+-------------------+-----+-------------------+ | 7 | Query-Params-Ext3 | O | Support of the | | | | | following query | | | | | parameters: | | | | | | | | | | - | | | | | ims | | | | | -private-identity | | | | | | | | | | - | | | | | im | | | | | s-public-identity | | | | | | | | | | - msisdn | | | | | | | | | | - | | | | | r | | | | | equester-plmn-spe | | | | | cific-snssai-list | | | | | | | | | | - n1-msg-class | | | | | | | | | | - n2-info-class | +-------------------+-------------------+-----+-------------------+ | 8 | Query-Params-Ext4 | O | Support of the | | | | | following query | | | | | parameters: | | | | | | | | | | - realm-id | | | | | | | | | | - storage-id | +-------------------+-------------------+-----+-------------------+ | 9 | Query-Para | O | Support of the | | | m-vSmf-Capability | | query parameters | | | | | for V-SMF | | | | | Capability: | | | | | | | | | | - | | | | | vsmf-support-ind | +-------------------+-------------------+-----+-------------------+ | 10 | Enh-NF-Discovery | O | Enhanced NF | | | | | Discovery | | | | | | | | | | This feature | | | | | indicates whether | | | | | it is supported | | | | | to return the | | | | | nfInstanceList IE | | | | | in the NF | | | | | Discovery | | | | | response. | +-------------------+-------------------+-----+-------------------+ | 11 | Query-SBIProtoc17 | O | Support of the | | | | | following query | | | | | parameters, for | | | | | Service Based | | | | | Interface | | | | | Protocol | | | | | Improvements | | | | | defined in 3GPP | | | | | Rel-17: | | | | | | | | | | - | | | | | preferred-vendor- | | | | | specific-features | | | | | | | | | | - | | | | | pre | | | | | ferred-vendor-spe | | | | | cific-nf-features | | | | | | | | | | - | | | | | home-pub-key-id | | | | | | | | | | - pgw-ip | | | | | | | | | | - | | | | | prefe | | | | | rences-precedence | | | | | | | | | | - | | | | | preferred-pgw-ind | | | | | | | | | | - v2x-capability | | | | | | | | | | - shared-data-id | +-------------------+-------------------+-----+-------------------+ | 12 | SCPDRI | O | SCP Domain | | | | | Routing | | | | | Information | | | | | | | | | | An NRF supporting | | | | | this feature | | | | | shall allow a | | | | | service consumer | | | | | (i.e. a SCP) to | | | | | get the SCP | | | | | Domain Routing | | | | | Information and | | | | | subs | | | | | cribe/unsubscribe | | | | | to the change of | | | | | SCP Domain | | | | | Routing | | | | | Information with | | | | | following service | | | | | operations: | | | | | | | | | | - | | | | | SCPDom | | | | | ainRoutingInfoGet | | | | | (see | | | | | clause 5.3.2.3) | | | | | | | | | | - | | | | | SCPDomainRou | | | | | tingInfoSubscribe | | | | | (see | | | | | clause 5.3.2.4) | | | | | | | | | | - | | | | | SCPDomainRouti | | | | | ngInfoUnsubscribe | | | | | (see | | | | | clause 5.3.2.6) | | | | | | | | | | A service | | | | | consumer (i.e. a | | | | | SCP) supporting | | | | | this feature | | | | | shall be able to | | | | | handle | | | | | SCPDomain | | | | | RoutingInfoNotify | | | | | as specified in | | | | | clause 5.3.2.5, | | | | | if subscribed to | | | | | the change of SCP | | | | | Domain Routing | | | | | Information in | | | | | the NRF. | +-------------------+-------------------+-----+-------------------+ | 13 | Query-Upf-Pfcp | O | This feature | | | | | indicates whether | | | | | the NRF supports | | | | | selection of UPF | | | | | with required UP | | | | | function features | | | | | as defined in | | | | | 3GPP | | | | | TS 29.244 [21]. | +-------------------+-------------------+-----+-------------------+ | 14 | Query-5G-ProSe | O | Support of the | | | | | following query | | | | | parameters, for | | | | | Proximity based | | | | | Services in 5GS | | | | | defined in 3GPP | | | | | Rel-17: | | | | | | | | | | - | | | | | prose-support-ind | | | | | | | | | | - | | | | | prose-capability | +-------------------+-------------------+-----+-------------------+ | 15 | NSAC | O | This feature | | | | | indicates the | | | | | NSACF service | | | | | capability. | | | | | | | | | | Support of the | | | | | following query | | | | | parameters: | | | | | | | | | | - | | | | | nsacf-capability | +-------------------+-------------------+-----+-------------------+ | 16 | Query-MBS | O | Support of the | | | | | following query | | | | | parameters, for | | | | | Multicast and | | | | | Broadcast | | | | | Services defined | | | | | in 3GPP Rel-17: | | | | | | | | | | - | | | | | mb | | | | | s-session-id-list | | | | | | | | | | - | | | | | m | | | | | bsmf-serving-area | | | | | | | | | | - | | | | | area-session-id | +-------------------+-------------------+-----+-------------------+ | 17 | Query-eNA-PH2 | O | Support of the | | | | | following query | | | | | parameters, for | | | | | Enhanced Network | | | | | Automation Phase | | | | | 2 defined in 3GPP | | | | | Rel-17: | | | | | | | | | | - | | | | | analytic | | | | | s-aggregation-ind | | | | | | | | | | - | | | | | serving-nf-set-id | | | | | | | | | | - | | | | | serving-nf-type | | | | | | | | | | - | | | | | ml-an | | | | | alytics-info-list | | | | | | | | | | - | | | | | analytics- | | | | | metadata-prov-ind | +-------------------+-------------------+-----+-------------------+ | 18 | Query-eLCS | O | Support of the | | | | | following query | | | | | parameters, for | | | | | 5G LCS service: | | | | | | | | | | - gmlc-number | +-------------------+-------------------+-----+-------------------+ | 19 | Query-eEDGE-5GC | O | Support of the | | | | | following query | | | | | parameters, for | | | | | enhancement of | | | | | support for Edge | | | | | Computing in 5GC | | | | | defined in 3GPP | | | | | Rel-17: | | | | | | | | | | - upf-n6-ip | | | | | | | | | | - tai-list | +-------------------+-------------------+-----+-------------------+ | 20 | Colloc | O | Support of | | | ated-NF-Selection | | selecting a | | | | | collocated NF | | | | | supporting | | | | | multiple NF | | | | | types. | +-------------------+-------------------+-----+-------------------+ | 21 | Query-ENPN | O | Support of the | | | | | following query | | | | | parameter for the | | | | | enhanced support | | | | | of Non-Public | | | | | Networks defined | | | | | in 3GPP Rel-17: | | | | | | | | | | - | | | | | support-onbo | | | | | arding-capability | | | | | | | | | | - target-hni | | | | | | | | | | - remote-snpn-id | +-------------------+-------------------+-----+-------------------+ | 22 | Query-ID_UAS | O | Support of the | | | | | following query | | | | | parameters, for | | | | | remote | | | | | Identification of | | | | | Unmanned Aerial | | | | | Systems defined | | | | | in 3GPP Rel-17: | | | | | | | | | | - | | | | | uas-nf- | | | | | functionality-ind | +-------------------+-------------------+-----+-------------------+ | 23 | NRFSET | O | NRF Set feature | | | | | | | | | | An NRF supporting | | | | | this feature | | | | | shall allow a NF | | | | | Service Consumer | | | | | to get the NRF | | | | | Set Information | | | | | and | | | | | subs | | | | | cribe/unsubscribe | | | | | to the change of | | | | | NRF Set | | | | | Information: | | | | | | | | | | A NF Service | | | | | Consumer | | | | | supporting this | | | | | feature shall be | | | | | able to handle | | | | | Notify of the NRF | | | | | status change, if | | | | | subscribed to the | | | | | change of NRF set | | | | | information. | +-------------------+-------------------+-----+-------------------+ | 24 | Qu | O | Support for the | | | ery-Nw-Resolution | | following query | | | | | parameters: | | | | | | | | | | - | | | | | tar | | | | | get-nw-resolution | +-------------------+-------------------+-----+-------------------+ | 25 | Query-Para | O | Support of the | | | m-iSmf-Capability | | query parameters | | | | | for I-SMF | | | | | Capability: | | | | | | | | | | - | | | | | ismf-support-ind | +-------------------+-------------------+-----+-------------------+ | 26 | Query | O | Support of the | | | -SBIProtoc17-Ext1 | | following query | | | | | parameters, for | | | | | Service Based | | | | | Interface | | | | | Protocol | | | | | Improvements | | | | | defined in 3GPP | | | | | Rel-17: | | | | | | | | | | - | | | | | ex | | | | | clude-nfinst-list | | | | | | | | | | - | | | | | exclud | | | | | e-nfservinst-list | | | | | | | | | | - | | | | | exclude- | | | | | nfserviceset-list | | | | | | | | | | - | | | | | e | | | | | xclude-nfset-list | +-------------------+-------------------+-----+-------------------+ | 27 | Query-Upf-IpIndex | O | Support of the | | | | | query parameters | | | | | for UPF selection | | | | | with IpIndex: | | | | | | | | | | - ipv4-index | | | | | | | | | | - ipv6-index | +-------------------+-------------------+-----+-------------------+ | 28 | Q | O | Support of the | | | uery-eNA-PH2-Ext1 | | following query | | | | | parameters, for | | | | | extension of | | | | | Enhanced Network | | | | | Automation Phase | | | | | 2 defined in 3GPP | | | | | Rel-17: | | | | | | | | | | - | | | | | preferred | | | | | -analytics-delays | +-------------------+-------------------+-----+-------------------+ | 29 | Query-HLC | O | Support of the | | | | | query parameters | | | | | for AMF selection | | | | | with High Latency | | | | | Communication | | | | | capability: | | | | | | | | | | - | | | | | high-latency-com | +-------------------+-------------------+-----+-------------------+ | 30 | Query-SBIProtoc18 | O | Support of the | | | | | following query | | | | | parameters, for | | | | | Service Based | | | | | Interface | | | | | Protocol | | | | | Improvements | | | | | defined in 3GPP | | | | | Rel-18: | | | | | | | | | | - | | | | | ext-p | | | | | referred-locality | | | | | | | | | | - n32-purposes | | | | | | | | | | - | | | | | p | | | | | referred-features | | | | | | | | | | - sxa-ind | | | | | | | | | | - | | | | | remot | | | | | e-plmn-id-roaming | | | | | | | | | | - | | | | | nf-tai-list-ind | +-------------------+-------------------+-----+-------------------+ | 31 | Complete- | O | Support discovery | | | Profile-Discovery | | of complete NF | | | | | profiles | | | | | (including | | | | | authorization | | | | | attributes such | | | | | as the | | | | | \"allowedXXX\" | | | | | attributes of | | | | | NFProfile and | | | | | NFService data | | | | | types) of NF | | | | | instances | | | | | matching the | | | | | query parameters. | +-------------------+-------------------+-----+-------------------+ | 32 | Query-UPEAS | O | Support of the | | | | | following query | | | | | parameter, for | | | | | UPF enhancement | | | | | for Exposure and | | | | | SBA defined in | | | | | 3GPP Rel-18: | | | | | | | | | | - upf-event-list | +-------------------+-------------------+-----+-------------------+ | 33 | Enh- | O | Support of the | | | NF-Discovery-Ext1 | | following query | | | | | parameter defined | | | | | in 3GPP Rel-18: | | | | | | | | | | - | | | | | target-nf | | | | | -instance-id-list | +-------------------+-------------------+-----+-------------------+ | 34 | Query-NG-RTC | O | Support of the | | | | | following query | | | | | parameters for | | | | | NG_RTC defined | | | | | in 3GPP Rel-18: | | | | | | | | | | - | | | | | ims-domain-name | | | | | | | | | | - | | | | | medi | | | | | a-capability-list | +-------------------+-------------------+-----+-------------------+ | 35 | Query-eLCS-PH3 | O | Support of the | | | | | following query | | | | | parameters, for | | | | | 5G LCS Phase 3 | | | | | service defined | | | | | in 3GPP Rel-18: | | | | | | | | | | - pru-tai | | | | | | | | | | - af-data | | | | | | | | | | - | | | | | pru-support-ind | +-------------------+-------------------+-----+-------------------+ | 36 | Query-eNA-PH3 | O | Support of the | | | | | following query | | | | | parameters, for | | | | | Enhanced Network | | | | | Automation Phase | | | | | 3 defined in 3GPP | | | | | Rel-18: | | | | | | | | | | - | | | | | ml-accu | | | | | racy-checking-ind | | | | | | | | | | - | | | | | analytics-accu | | | | | racy-checking-ind | | | | | | | | | | - | | | | | ml- | | | | | model-storage-ind | | | | | | | | | | - | | | | | data-s | | | | | ubscription-reloc | | | | | ation-support-ind | | | | | | | | | | - | | | | | roa | | | | | ming-exchange-ind | +-------------------+-------------------+-----+-------------------+ | 37 | Query-A2X | O | Support of the | | | | | following query | | | | | parameters, for | | | | | A2X in 5GS | | | | | defined in 3GPP | | | | | Rel-18: | | | | | | | | | | - | | | | | a2x-support-ind | | | | | | | | | | - a2x-capability | +-------------------+-------------------+-----+-------------------+ | 38 | Allowed-ruleset | O | Support receiving | | | | | ruleSets in NF | | | | | (Service) profile | +-------------------+-------------------+-----+-------------------+ | 39 | Query-AIMLsys | O | Support for the | | | | | following query | | | | | parameters, for | | | | | System Support | | | | | for AI/ML-based | | | | | Services defined | | | | | in 3GPP Rel-18: | | | | | | | | | | - | | | | | multi-me | | | | | m-af-sess-qos-ind | | | | | | | | | | - | | | | | member- | | | | | ue-sel-assist-ind | +-------------------+-------------------+-----+-------------------+ | 40 | Canary-Release | O | Support of | | | | | \" | | | | | CANARY_RELEASE\" | | | | | value for | | | | | NFStatus and | | | | | NFServiceStatus, | | | | | used for canary | | | | | testing. | | | | | | | | | | The NRF shall not | | | | | return, in the | | | | | discovery | | | | | response, NF | | | | | Instances, or NF | | | | | Service | | | | | Instances, whose | | | | | NFStatus or | | | | | NFService status | | | | | respectively is | | | | | set to value | | | | | \"C | | | | | ANARY_RELEASE\", | | | | | unless the | | | | | consumer of the | | | | | discovery service | | | | | has indicated | | | | | support of the | | | | | \ | | | | | "Canary-Release\" | | | | | feature. | +-------------------+-------------------+-----+-------------------+ | 41 | Query-UP | O | Support of the | | | F-Selection-N3GPP | | following query | | | | | parameters, for | | | | | selection of | | | | | preferred UPF for | | | | | PDU sessions via | | | | | non-3GPP access: | | | | | | | | | | - | | | | | upf | | | | | -select-epdg-info | | | | | | | | | | An NRF supporting | | | | | this feature | | | | | shall also | | | | | support discovery | | | | | of the preferred | | | | | UPF(s) for a | | | | | W-AGF/TNGF/TWIF | | | | | using the | | | | | following query | | | | | parameters: | | | | | | | | | | - w-agf-info | | | | | | | | | | - tngf-info | | | | | | | | | | - twif-info | +-------------------+-------------------+-----+-------------------+ | 42 | Query-5G- | O | Support of the | | | RangingSlPos | | following query | | | | | parameter, for | | | | | Ranging and | | | | | Sidelink | | | | | positioning in | | | | | 5GS defined in | | | | | 3GPP Rel-18: | | | | | | | | | | - | | | | | ranging | | | | | SlPos-support-ind | +-------------------+-------------------+-----+-------------------+ | Feature number: | | | | | The order number | | | | | of the feature | | | | | within the | | | | | s _| | | | |_ upportedFeatures | | | | | attribute | | | | | (starting with | | | | | 1).**| | | | | | | | | |** Feature: A | | | | | short name that | | | | | can be used to | | | | | refer to the bit | | | | | and to the | | | | | feature.**| | | | | | | | | |** M/O: Defines if | | | | | the | | | | | implementation of | | | | | the feature is | | | | | mandatory (\"M\") | | | | | or optional | | | | | (\"O\").** | | | | | | | | | | Description: A | | | | | clear textual | | | | | description of | | | | | the feature. | | | | | | | | | | NOTE 1: An NRF | | | | | that advertises | | | | | support of a | | | | | given feature | | | | | shall support all | | | | | the query | | | | | parameters | | | | | associated with | | | | | the feature. An | | | | | NRF may support | | | | | none or a subset | | | | | of the query | | | | | parameters of | | | | | features that it | | | | | does not | | | | | advertise as | | | | | supported. | | | | | | | | | | NOTE 2: For a | | | | | release under | | | | | development, it | | | | | is recommended to | | | | | define new | | | | | features for new | | | | | query parameters | | | | | by grouping them | | | | | per 3GPP work | | | | | item. Any | | | | | definition of new | | | | | query parameters | | | | | in a frozen | | | | | release requires | | | | | a new feature | | | | | definition. | | | | +-------------------+-------------------+-----+-------------------+
## 6.3 Nnrf_AccessToken Service API
### 6.3.1 General
This API reuses the API endpoints and input / output parameters specified in
IETF RFC 6749 [16] as a custom operation without resources. Hence this clause
does not follow the 3GPP API specification guidelines described in 3GPP TS
29.501 [5].
### 6.3.2 API URI
URIs of this API shall have the following root:
{nrfApiRoot}/oauth2
where {nrfApiRoot} represents the concatenation of the \"scheme\" and
\"authority\" components of the NRF, as defined in IETF RFC 3986 [17].
### 6.3.3 Usage of HTTP
#### 6.3.3.1 General
HTTP/2, as defined in IETF RFC 7540 [9], shall be used as specified in clause
5 of 3GPP TS 29.500 [4].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].
HTTP messages and bodies this API shall comply with the OpenAPI [10]
specification contained in Annex A.
#### 6.3.3.2 HTTP standard headers
##### 6.3.3.2.1 General
The HTTP headers as specified in clause 4.4 of IETF RFC 6749 [16] shall be
supported, with the exception that there shall not be \"Authorization\" HTTP
request header in the access token request.
##### 6.3.3.2.2 Content type
The following content types shall be supported:
\- The x-www-form-urlencoded format (see clause 17.13.4 of W3C HTML 4.01
Specification [26]). The use of the x-www-form-urlencoded format shall be
signalled by the content type \"application/x-www-form-urlencoded\".
\- The JSON format (IETF RFC 8259 [22]). The use of the JSON format shall be
signalled by the content type \"application/json\". See also clause 5.4 of
3GPP TS 29.500 [4].
#### 6.3.3.3 HTTP custom headers
##### 6.3.3.3.1 General
In this release of this specification, no custom headers specific to the
OAuth2.0 Authorization Service API are defined. For 3GPP specific HTTP custom
headers used across all service-based interfaces, see clause 5.2.3 of 3GPP TS
29.500 [4].
### 6.3.4 Custom Operations without associated resources
#### 6.3.4.1 Overview
The /token endpoint as specified in IETF RFC 6749 [16] shall be supported. The
\"token endpoint\" URI shall be:
{nrfApiRoot}/oauth2/token
where {nrfApiRoot} is defined in clause 6.3.2.
Table 6.3.4.1-1 provides an overview of the endpoints and applicable HTTP
methods.
Table 6.3.4.1-1: Custom operations without associated resources
Operation Name Custom operation URI Mapped HTTP method Description
* * *
Get (Access Token Request) /oauth2/token POST Access token request for
obtaining OAuth2.0 access token. This operation maps to Nnrf_AccessToken_Get
service operation.
#### 6.3.4.2 Operation: Get (Access Token Request)
##### 6.3.4.2.1 Description
This custom operation represents the process for issuing the OAuth2.0 access
token.
##### 6.3.4.2.2 Operation Definition
This operation returns an OAuth 2.0 access token based on the input parameters
provided. This custom operation shall use the HTTP POST method.
This method shall support the request data structures specified in table
6.3.4.2.2-1 and the response data structures and response codes specified in
table 6.3.4.2.2-2. The data structure used for the POST request body shall be
using x-www-form-urlencoded format as specified in clause 17.13.4 of W3C HTML
4.01 Specification [26].
Table 6.3.4.2.2-1: Data structures supported by the POST Request Body on this
endpoint
+----------------+---+-------------+------------------------+ | Data type | P | Cardinality | Description | +----------------+---+-------------+------------------------+ | AccessTokenReq | M | 1 | This IE shall contain | | | | | the request | | | | | information for the | | | | | access token request. | | | | | | | | | | Content-Type: | | | | | \"application/x | | | | | -www-form-urlencoded\" | +----------------+---+-------------+------------------------+
Table 6.3.4.2.2-2: Data structures supported by the POST Response Body on this
endpoint
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | A | M | 1 | 200 OK | This IE shall | | ccessTokenRsp | | | | contain the | | | | | | access token | | | | | | response | | | | | | information. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | The NRF shall | | irectResponse | | | Redirect | generate a | | | | | | Location | | | | | | header field | | | | | | containing a | | | | | | URI pointing | | | | | | to the | | | | | | endpoint of | | | | | | another NRF | | | | | | service | | | | | | instance to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | | | | | | | | | | | | If an SCP | | | | | | redirects the | | | | | | message to | | | | | | another SCP | | | | | | then the | | | | | | location | | | | | | header field | | | | | | shall contain | | | | | | the same URI | | | | | | or a | | | | | | different URI | | | | | | pointing to | | | | | | the endpoint | | | | | | of the NF | | | | | | service | | | | | | producer to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | The NRF shall | | irectResponse | | | Redirect | generate a | | | | | | Location | | | | | | header field | | | | | | containing a | | | | | | URI pointing | | | | | | to the | | | | | | endpoint of | | | | | | another NRF | | | | | | service | | | | | | instance to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | | | | | | | | | | | | If an SCP | | | | | | redirects the | | | | | | message to | | | | | | another SCP | | | | | | then the | | | | | | location | | | | | | header field | | | | | | shall contain | | | | | | the same URI | | | | | | or a | | | | | | different URI | | | | | | pointing to | | | | | | the endpoint | | | | | | of the NF | | | | | | service | | | | | | producer to | | | | | | which the | | | | | | request | | | | | | should be | | | | | | sent. | +---------------+---+-------------+---------------+---------------+ | A | M | 1 | 400 Bad | See | | ccessTokenErr | | | Request, | IETF RF | | | | | | C 6749 [16] | | | | | 401 | clause 5.2. | | | | | Unauthorized | | | | | | | The specific | | | | | | error shall | | | | | | be indicated | | | | | | in the | | | | | | \"error\" | | | | | | attribute of | | | | | | the | | | | | | A | | | | | | ccessTokenErr | | | | | | data type, | | | | | | containing | | | | | | any of the | | | | | | values: | | | | | | | | | | | | - | | | | | | inv | | | | | | alid_request | | | | | | | | | | | | - | | | | | | in | | | | | | valid_client | | | | | | | | | | | | - | | | | | | i | | | | | | nvalid_grant | | | | | | | | | | | | - | | | | | | unautho | | | | | | rized_client | | | | | | | | | | | | - | | | | | | unsupported | | | | | | _grant_type | | | | | | | | | | | | - | | | | | | i | | | | | | nvalid_scope | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 400 Bad | This error | | roblemDetails | | | Request | shall only be | | | | | | returned by | | | | | | an SCP or | | | | | | SEPP for | | | | | | errors they | | | | | | originate. | +---------------+---+-------------+---------------+---------------+
Table 6.3.4.2.2-3: Headers supported by the 200 Response Code on this endpoint
* * *
Name Data type P Cardinality Description Cache-Control string M 1 Enum: \"no-
store\" Pragma string M 1 Enum: \"no-cache\"
* * *
Table 6.3.4.2.2-4: Headers supported by the 400 Response Code on this endpoint
* * *
Name Data type P Cardinality Description Cache-Control string M 1 Enum: \"no-
store\" Pragma string M 1 Enum: \"no-cache\"
* * *
Table 6.3.4.2.2-5: Headers supported by the 307 Response Code on this endpoint
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of the NRF service instance to which the request should be sent
* * *
Table 6.3.4.2.2-6: Headers supported by the 308 Response Code on this endpoint
* * *
Name Data type P Cardinality Description Location string M 1 A URI pointing to
the endpoint of the NRF service instance to which the request should be sent
* * *
### 6.3.5 Data Model
#### 6.3.5.1 General
This clause specifies the application data model supported by the API.
Table 6.3.5.1-1 specifies the data types defined for the OAuth 2.0
Authorization Service API. The AccessTokenReq data structure shall be
converted to the content type \"application/x-www-form-urlencoded\" when the
OAuth 2.0 Access Token Request is invoked.
Table 6.3.5.1-1: OAuth 2.0 Authorization service specific Data Types
Data type Clause defined Description
* * *
AccessTokenReq 6.3.5.2.2 Contains information related to the access token
request. AccessTokenRsp 6.3.5.2.3 Contains information related to the access
token response. AccessTokenClaims 6.3.5.2.4 The claims data structure for the
access token. AccessTokenErr 6.3.5.2.5 Contains error information returned in
the access token response. Audience 6.3.5.4.1 Contains the audience claim of
the access token.
Table 6.3.5.1-2 specifies data types re-used by the OAuth 2.0 Authorization
service from other specifications, including a reference to their respective
specifications and when needed, a short description of their use.
Table 6.3.5.1-2: OAuth 2.0 Authorization service re-used Data Types
Data type Reference Comments
* * *
NfInstanceId 3GPP TS 29.571 [7] Identifier (UUID) of the NF Instance. The
hexadecimal letters of the UUID should be formatted by the sender as lower-
case characters and shall be handled as case-insensitive by the receiver.
PlmnId 3GPP TS 29.571 [7] PLMN ID NFType 3GPP TS 29.510 See clause 6.1.6.3.3
Snssai 3GPP TS 29.571 [7]  
NfSetId 3GPP TS 29.571 [7] NF Set ID (see clause 28.12 of 3GPP TS 23.003 [12])
Uri 3GPP TS 29.571 [7]  
RedirectResponse 3GPP TS 29.571 [7] Response body of the redirect response
message. Fqdn 3GPP TS 29.571 [7] Fully Qualified Domain Name
#### 6.3.5.2 Structured data types
##### 6.3.5.2.1 Introduction
This clause defines the structures to be used in the APIs.
##### 6.3.5.2.2 Type: AccessTokenReq
Table 6.3.5.2.2-1: Definition of type AccessTokenReq
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | grant_type | string | M | 1 | This IE shall | | | | | | contain the | | | | | | grant type as | | | | | | \"client_c | | | | | | redentials\". | | | | | | | | | | | | Enum: | | | | | | \"client_ | | | | | | credentials\" | +---------------+---------------+---+-------------+---------------+ | nfInstanceId | NfInstanceId | M | 1 | This IE shall | | | | | | contain the | | | | | | NF instance | | | | | | id of the NF | | | | | | service | | | | | | consumer. | +---------------+---------------+---+-------------+---------------+ | nfType | NFType | C | 0..1 | This IE shall | | | | | | be included | | | | | | when the | | | | | | access token | | | | | | request is | | | | | | for an NF | | | | | | type and not | | | | | | for a | | | | | | specific NF / | | | | | | NF service | | | | | | instance. | | | | | | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | NF type of | | | | | | the NF | | | | | | service | | | | | | consumer. | | | | | | | | | | | | (NOTE 3) | +---------------+---------------+---+-------------+---------------+ | targetNfType | NFType | C | 0..1 | This IE shall | | | | | | be included | | | | | | when the | | | | | | access token | | | | | | request is | | | | | | for an NF | | | | | | type and not | | | | | | for a | | | | | | specific NF / | | | | | | NF service | | | | | | instance. | | | | | | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | NF type of | | | | | | the NF | | | | | | service | | | | | | producer. | +---------------+---------------+---+-------------+---------------+ | scope | string | M | 1 | This IE shall | | | | | | contain the | | | | | | scopes | | | | | | requested by | | | | | | the NF | | | | | | service | | | | | | consumer. | | | | | | | | | | | | The scopes | | | | | | shall consist | | | | | | of a list of | | | | | | NF service | | | | | | name(s) of | | | | | | the NF | | | | | | service | | | | | | producer(s) | | | | | | or | | | | | | resource/op | | | | | | eration-level | | | | | | scopes | | | | | | defined by | | | | | | each service | | | | | | API, | | | | | | separated by | | | | | | whitespaces, | | | | | | as described | | | | | | in | | | | | | IETF RFC | | | | | | 6749 [16], | | | | | | clause 3.3. | | | | | | | | | | | | The service | | | | | | name(s) | | | | | | included in | | | | | | this | | | | | | attribute | | | | | | shall be any | | | | | | of the | | | | | | services | | | | | | defined in | | | | | | the | | | | | | ServiceName | | | | | | enumerated | | | | | | type (see | | | | | | clause | | | | | | 6.1.6.3.11). | | | | | | | | | | | | The | | | | | | resource/op | | | | | | eration-level | | | | | | scopes shall | | | | | | be any of | | | | | | those defined | | | | | | in the | | | | | | \"secu | | | | | | ritySchemes\" | | | | | | clause of | | | | | | each service | | | | | | API. | | | | | | | | | | | | pattern: | | | | | | \'\^([a-zA- | | | | | | Z0-9_:-]+)( | | | | | | [a-zA-Z0-9\ | | | | | | _:-]+)*\$\' | | | | | | | | | | | | See NOTE 2. | +---------------+---------------+---+-------------+---------------+ | targe | NfInstanceId | C | 0..1 | This IE shall | | tNfInstanceId | | | | be included, | | | | | | if available | | | | | | and if it is | | | | | | an access | | | | | | token request | | | | | | for a | | | | | | specific NF | | | | | | Service | | | | | | Producer. | | | | | | When present | | | | | | this IE shall | | | | | | contain the | | | | | | NF Instance | | | | | | ID of the | | | | | | specific NF | | | | | | Service | | | | | | Producer for | | | | | | which the | | | | | | access token | | | | | | is requested. | +---------------+---------------+---+-------------+---------------+ | requesterPlmn | PlmnId | C | 0..1 | This IE shall | | | | | | be included | | | | | | when the NF | | | | | | service | | | | | | consumer in | | | | | | one PLMN | | | | | | requests a | | | | | | service | | | | | | access | | | | | | authorization | | | | | | for an NF | | | | | | service | | | | | | producer from | | | | | | a different | | | | | | PLMN. It may | | | | | | be present | | | | | | when a | | | | | | service | | | | | | access | | | | | | authorization | | | | | | in the same | | | | | | PLMN need to | | | | | | be requested. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | PLMN ID of | | | | | | the requester | | | | | | NF service | | | | | | consumer. | | | | | | | | | | | | (NOTE 3) | | | | | | (NOTE 4) | +---------------+---------------+---+-------------+---------------+ | requ | array(PlmnId) | C | 2..N | This IE shall | | esterPlmnList | | | | be included | | | | | | when the NF | | | | | | service | | | | | | consumer | | | | | | serving a | | | | | | PLMN, with | | | | | | more than one | | | | | | PLMN ID, | | | | | | requests a | | | | | | service | | | | | | access | | | | | | authorization | | | | | | for an NF | | | | | | service | | | | | | producer from | | | | | | a different | | | | | | PLMN. It may | | | | | | be present | | | | | | when a | | | | | | service | | | | | | access | | | | | | authorization | | | | | | in the same | | | | | | PLMN, with | | | | | | more than one | | | | | | PLMN ID, need | | | | | | to be | | | | | | requested. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | PLMN IDs of | | | | | | the requester | | | | | | NF service | | | | | | consumer. | | | | | | | | | | | | (NOTE 4) | +---------------+---------------+---+-------------+---------------+ | reques | array(Snssai) | O | 1..N | When present, | | terSnssaiList | | | | this IE shall | | | | | | contain the | | | | | | list of | | | | | | S-NSSAIs of | | | | | | the requester | | | | | | NF service | | | | | | consumer. If | | | | | | this IE is | | | | | | included in | | | | | | an Access | | | | | | Token Request | | | | | | sent towards | | | | | | a different | | | | | | PLMN, the | | | | | | requester NF | | | | | | shall provide | | | | | | S-NSSAI | | | | | | values of the | | | | | | target PLMN, | | | | | | that | | | | | | correspond to | | | | | | the S-NSSAI | | | | | | values of the | | | | | | requester NF. | | | | | | | | | | | | This may be | | | | | | used by the | | | | | | NRF to | | | | | | validate that | | | | | | the requester | | | | | | NF service | | | | | | consumer is | | | | | | allowed to | | | | | | access the | | | | | | target NF | | | | | | Service | | | | | | Producer. | | | | | | (NOTE 3) | +---------------+---------------+---+-------------+---------------+ | requesterFqdn | Fqdn | O | 0..1 | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | FQDN of the | | | | | | requester NF | | | | | | Service | | | | | | Consumer. | | | | | | | | | | | | This may be | | | | | | used by the | | | | | | NRF to | | | | | | validate that | | | | | | the requester | | | | | | NF service | | | | | | consumer is | | | | | | allowed to | | | | | | access the | | | | | | target NF | | | | | | Service | | | | | | Producer. | | | | | | (NOTE 3) | +---------------+---------------+---+-------------+---------------+ | requ | arr | O | 1..N | When present, | | esterSnpnList | ay(PlmnIdNid) | | | this IE shall | | | | | | contain the | | | | | | list of SNPNs | | | | | | the requester | | | | | | NF service | | | | | | consumer | | | | | | belongs to. | | | | | | | | | | | | This may be | | | | | | used by the | | | | | | NRF to | | | | | | validate that | | | | | | the requester | | | | | | NF service | | | | | | consumer is | | | | | | allowed to | | | | | | access the | | | | | | target NF | | | | | | Service | | | | | | Producer. | | | | | | (NOTE 3) | +---------------+---------------+---+-------------+---------------+ | targetPlmn | PlmnId | C | 0..1 | This IE shall | | | | | | be included | | | | | | when the NF | | | | | | service | | | | | | consumer in | | | | | | one PLMN or | | | | | | SNPN requests | | | | | | a service | | | | | | access | | | | | | authorization | | | | | | for an NF | | | | | | service | | | | | | producer from | | | | | | a different | | | | | | PLMN. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | PLMN ID of | | | | | | the target | | | | | | PLMN (i.e., | | | | | | PLMN ID of | | | | | | the NF | | | | | | service | | | | | | producer). | +---------------+---------------+---+-------------+---------------+ | targetSnpn | PlmnIdNid | C | 0..1 | This IE shall | | | | | | be included | | | | | | when the NF | | | | | | service | | | | | | consumer in | | | | | | one PLMN or | | | | | | SNPN requests | | | | | | a service | | | | | | access | | | | | | authorization | | | | | | for an NF | | | | | | service | | | | | | producer from | | | | | | a different | | | | | | SNPN. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | SNPN ID of | | | | | | the target | | | | | | SNPN (i.e., | | | | | | SNPN ID of | | | | | | the NF | | | | | | service | | | | | | producer). | +---------------+---------------+---+-------------+---------------+ | tar | array(Snssai) | O | 1..N | This IE may | | getSnssaiList | | | | be included | | | | | | during an | | | | | | access token | | | | | | request for | | | | | | an NF type | | | | | | and not for a | | | | | | specific NF / | | | | | | NF service | | | | | | instance. | | | | | | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | list of | | | | | | S-NSSAIs of | | | | | | the NF | | | | | | Service | | | | | | Producer. | +---------------+---------------+---+-------------+---------------+ | targetNsiList | array(string) | O | 1..N | This IE may | | | | | | be included | | | | | | during an | | | | | | access token | | | | | | request for | | | | | | an NF type | | | | | | and not for a | | | | | | specific NF / | | | | | | NF service | | | | | | instance. | | | | | | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | list of NSIs | | | | | | of the NF | | | | | | Service | | | | | | Producer. | +---------------+---------------+---+-------------+---------------+ | targetNfSetId | NfSetId | O | 0..1 | This IE may | | | | | | be included | | | | | | during an | | | | | | access token | | | | | | request for | | | | | | an NF type | | | | | | and not for a | | | | | | specific NF / | | | | | | NF service | | | | | | instance. | | | | | | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | NF Set ID of | | | | | | the NF | | | | | | Service | | | | | | Producer. | +---------------+---------------+---+-------------+---------------+ | targetN | N | O | 0..1 | This IE may | | fServiceSetId | fServiceSetId | | | be included | | | | | | during an | | | | | | access token | | | | | | request for a | | | | | | specific NF / | | | | | | NF service | | | | | | instance. | | | | | | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | NF Service | | | | | | Set ID of the | | | | | | NF Service | | | | | | Producer. | | | | | | | | | | | | This may be | | | | | | used by the | | | | | | NRF to | | | | | | validate that | | | | | | the requester | | | | | | NF service | | | | | | consumer is | | | | | | allowed to | | | | | | access the | | | | | | target NF | | | | | | service | | | | | | instance. | | | | | | (NOTE 3) | +---------------+---------------+---+-------------+---------------+ | hnrfA | Uri | C | 0..1 | If included, | | ccessTokenUri | | | | this IE shall | | | | | | contain the | | | | | | API URI of | | | | | | the Access | | | | | | Token Service | | | | | | (see clause | | | | | | 6.3.2) of the | | | | | | NRF in home | | | | | | PLMN. | | | | | | | | | | | | It shall be | | | | | | included | | | | | | during an | | | | | | access token | | | | | | request for | | | | | | an hSMF in | | | | | | the home | | | | | | routed | | | | | | roaming | | | | | | scenario, if | | | | | | it is | | | | | | returned from | | | | | | the NSSF in | | | | | | the home PLMN | | | | | | (see | | | | | | clau | | | | | | se 6.1.6.2.11 | | | | | | of | | | | | | 3GPP TS 29 | | | | | | .531 [42]). | +---------------+---------------+---+-------------+---------------+ | sourc | NfInstanceId | C | 0..1 | This IE shall | | eNfInstanceId | | | | be included, | | | | | | if available | | | | | | and if it is | | | | | | an access | | | | | | token request | | | | | | from the DCCF | | | | | | as NF Service | | | | | | Consumer | | | | | | request data | | | | | | from NF | | | | | | Service | | | | | | Producers on | | | | | | behalf of the | | | | | | source NF. | | | | | | | | | | | | When present | | | | | | this IE shall | | | | | | contain the | | | | | | NF Instance | | | | | | ID of the | | | | | | source NF | | | | | | which intend | | | | | | to collects | | | | | | data from NF | | | | | | Service | | | | | | Producer. | +---------------+---------------+---+-------------+---------------+ | NOTE 1: This | | | | | | data | | | | | | structure | | | | | | shall not be | | | | | | treated as a | | | | | | JSON object. | | | | | | It shall be | | | | | | treated as a | | | | | | key, value | | | | | | pair data | | | | | | structure to | | | | | | be encoded | | | | | | using | | | | | | x-www-fo | | | | | | rm-urlencoded | | | | | | format as | | | | | | specified in | | | | | | c | | | | | | lause 17.13.4 | | | | | | of W3C HTML | | | | | | 4.01 | | | | | | Specific | | | | | | ation [26]. | | | | | | | | | | | | NOTE 2: | | | | | | Though scope | | | | | | attribute is | | | | | | optional as | | | | | | per | | | | | | IETF RFC | | | | | | 6749 [16], | | | | | | it is | | | | | | mandatory for | | | | | | 3GPP as per | | | | | | 3GPP TS 3 | | | | | | 3.501 [15]. | | | | | | | | | | | | NOTE 3: An | | | | | | access token | | | | | | request | | | | | | should be | | | | | | rejected if | | | | | | the requester | | | | | | NF is not | | | | | | allowed to | | | | | | access the | | | | | | target NF | | | | | | based on the | | | | | | authorization | | | | | | parameters in | | | | | | the NF | | | | | | profile of | | | | | | the target | | | | | | NF. The | | | | | | authorization | | | | | | parameters in | | | | | | NF Profile | | | | | | are those | | | | | | used by NRF | | | | | | to determine | | | | | | whether a | | | | | | given NF | | | | | | Instance / NF | | | | | | Service | | | | | | Instance can | | | | | | be discovered | | | | | | by an NF | | | | | | Service | | | | | | Consumer in | | | | | | order to | | | | | | consume its | | | | | | offered | | | | | | services | | | | | | (e.g. | | | | | | \"allo | | | | | | wedNfTypes\", | | | | | | \"allowe | | | | | | dNfDomains\", | | | | | | etc.). Based | | | | | | on | | | | | | operator\'s | | | | | | policies, an | | | | | | access token | | | | | | request not | | | | | | including the | | | | | | requester\'s | | | | | | information | | | | | | necessary to | | | | | | validate the | | | | | | authorization | | | | | | parameters in | | | | | | the target NF | | | | | | Profile may | | | | | | be rejected. | | | | | | | | | | | | NOTE 4: When | | | | | | the NF | | | | | | service | | | | | | consumer is | | | | | | serving a | | | | | | PLMN | | | | | | consisting of | | | | | | one PLMN ID, | | | | | | the attribute | | | | | | \"re | | | | | | questerPlmn\" | | | | | | shall be | | | | | | used; | | | | | | otherwise, if | | | | | | the NF | | | | | | service | | | | | | consumer is | | | | | | serving a | | | | | | PLMN | | | | | | consisting of | | | | | | more than one | | | | | | PLMN ID, the | | | | | | attribute | | | | | | \"reques | | | | | | terPlmnList\" | | | | | | shall be | | | | | | used. | | | | | +---------------+---------------+---+-------------+---------------+
EXAMPLE:
> The following is an example of an Access Token Request message, with a
> request body encoded as x-www-form-urlencoded, with following input
> parameters:
\- NF Instance Id of the NF Service Consumer:
4e0b2760-0356-42c4-b739-8d6aaa491b63
\- NF Type of the NF Service Consumer: AMF
\- NF Type of the NF Service Producer: UDM
\- Requested scopes: \"nudm-sdm\", \"nudm-uecm\" and \"nudm-ueau\"
\- PLMN ID of the NF Service Consumer: MCC=123, MNC=456
\- PLMN ID of the NF Service Producer: MCC=321, MNC=654
\- S-NSSAIs of the NF Service Producer: (SST=1, SD=A08923) and (SST=2)
\- NSIs of the NF Service Producer: \"Slice A, instance 1\" and \"Slice B,
instance 2\"
> Note that the URL-encoding of the request body requires to percent-encode
> the reserved characters (**[ ] { } \" : ,**) that appear in JSON-encoded
> structured input parameters (such as \"requesterPlmn\"), and in string input
> parameters (such as \"scope\", or \"targetNsiList\" array elements). Spaces
> are percent-encoded as \'+\'.
>
> The request body, _before URL-encoding_ , and displayed in multiples lines
> only for illustration purposes, would be:
>
> grant_type=client_credentials
>
> **&** nfInstanceId=4e0b2760-0356-42c4-b739-8d6aaa491b63
>
> **&** nfType=AMF
>
> **&** targetNfType=UDM
>
> **&** scope=**nudm-sdm** **nudm-uecm** **nudm-ueau**
>
> **&** requesterPlmn={**\"mcc** \":\"**123** \",\"**mnc** \":\"**456** \"}
>
> **&** targetPlmn={\"**mcc** \":\"**321** \",\"**mnc** \":\"**654** \"}
>
> **&** targetSnssaiList=[{\"**sst** \":**1** ,\"**sd** \":\"**A08923**
> \"},{\"**sst** \":**2**}]
>
> **&** targetNsiList=**Slice A, instance 1**
>
> **&** targetNsiList=**Slice B, instance 2**
>
> The actual request message, _after URL-encoding_ , and where all input
> parameters are contained into one single line in the request body, would be:
>
> POST /oauth2/token
>
> Content-Type: application/x-www-form-urlencoded
>
> Accept: application/json
>
> grant_type=client_credentials**&**
> nfInstanceId=4e0b2760‑0356‑42c4‑b739‑8d6aaa491b63**&** nfType=AMF**&**
> targetNfType=UDM**&** scope=**nudm‑sdm** +**nudm‑uecm** +**nudm‑ueau
> &**requesterPlmn=%7B%22**mcc** %22%3A%22**123** %22%2C%22**mnc**
> %22%3A%22**456** %22%7D**&** targetPlmn=%7B%22**mcc** %22%3A%22**321**
> %22%2C%22**mnc** %22%3A%22**654** %22%7D**&**
> targetSnssaiList=%5B%7B%22**sst** %22%3A**1** %2C%22**sd**
> %22%3A%22**A08923** %22%7D%2C%7B%22**sst** %22%3A**2** %7D%5D**&**
> targetNsiList=**Slice** +**A** %2C+**instance** +**1
> &**targetNsiList=**Slice** +**B** %2C+**instance** +**2**
##### 6.3.5.2.3 Type: AccessTokenRsp
Table 6.3.5.2.3-1: Definition of type AccessTokenRsp
+----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +================+===========+===+=============+=================+ | access_token | string | M | 1 | This IE shall | | | | | | contain JWS | | | | | | Compact | | | | | | Serialized | | | | | | representation | | | | | | of the JWS | | | | | | signed JSON | | | | | | object | | | | | | containing | | | | | | Ac | | | | | | cessTokenClaims | | | | | | (see | | | | | | cla | | | | | | use 6.3.5.2.4). | +----------------+-----------+---+-------------+-----------------+ | token_type | string | M | 1 | This IE shall | | | | | | contain the | | | | | | token type, set | | | | | | to value | | | | | | \"Bearer\". | | | | | | | | | | | | Enum: | | | | | | \"Bearer\" | +----------------+-----------+---+-------------+-----------------+ | expires_in | integer | C | 0..1 | This IE when | | | | | | present shall | | | | | | contain the | | | | | | number of | | | | | | seconds after | | | | | | which the | | | | | | access token is | | | | | | considered to | | | | | | be expired. | | | | | | | | | | | | As indicated in | | | | | | IETF R | | | | | | FC 6749 [16], | | | | | | this attribute | | | | | | should be | | | | | | included, | | | | | | unless the | | | | | | expiration time | | | | | | of the token is | | | | | | made available | | | | | | by other means | | | | | | (e.g. | | | | | | depl | | | | | | oyment-specific | | | | | | documentation). | +----------------+-----------+---+-------------+-----------------+ | scope | string | C | 0..1 | This IE when | | | | | | present shall | | | | | | contain the | | | | | | scopes granted | | | | | | to the NF | | | | | | service | | | | | | consumer. | | | | | | | | | | | | The scopes | | | | | | shall consist | | | | | | of a list of NF | | | | | | service name(s) | | | | | | of the NF | | | | | | service | | | | | | producer(s) or | | | | | | resource/ | | | | | | operation-level | | | | | | scopes defined | | | | | | by each service | | | | | | API, separated | | | | | | by whitespaces, | | | | | | as described in | | | | | | IETF R | | | | | | FC 6749 [16], | | | | | | clause 3.3. | | | | | | | | | | | | The service | | | | | | name(s) | | | | | | included in | | | | | | this attribute | | | | | | shall be any of | | | | | | the services | | | | | | defined in the | | | | | | ServiceName | | | | | | enumerated type | | | | | | (see clause | | | | | | 6.1.6.3.11). | | | | | | | | | | | | The | | | | | | resource/ | | | | | | operation-level | | | | | | scopes shall be | | | | | | any of those | | | | | | defined in the | | | | | | \"se | | | | | | curitySchemes\" | | | | | | clause of each | | | | | | service API. | | | | | | | | | | | | As indicated in | | | | | | IETF R | | | | | | FC 6749 [16], | | | | | | this attribute | | | | | | shall be | | | | | | present if it | | | | | | is different | | | | | | than the scope | | | | | | included in the | | | | | | access token | | | | | | request; if it | | | | | | is the same as | | | | | | the requested | | | | | | scope, this | | | | | | attribute may | | | | | | be absent. | | | | | | | | | | | | pattern: | | | | | | \'\^([a-z | | | | | | A-Z0-9_:-]+)( | | | | | | [a-zA-Z0- | | | | | | 9_:-]+)*\$\' | +----------------+-----------+---+-------------+-----------------+
##### 6.3.5.2.4 Type: AccessTokenClaims
Table 6.3.5.2.4-1: Definition of type AccessTokenClaims
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | iss | NfInstanceId | M | 1 | This IE shall | | | | | | contain NF | | | | | | instance id | | | | | | of the NRF. , | | | | | | corresponding | | | | | | to the | | | | | | standard | | | | | | \"Issuer\" | | | | | | claim | | | | | | described in | | | | | | IETF RFC | | | | | | 7519 [25], | | | | | | clause 4.1.1 | +---------------+---------------+---+-------------+---------------+ | sub | NfInstanceId | M | 1 | This IE shall | | | | | | contain the | | | | | | NF instance | | | | | | ID of the NF | | | | | | service | | | | | | consumer, | | | | | | corresponding | | | | | | to the | | | | | | standard | | | | | | \"Subject\" | | | | | | claim | | | | | | described in | | | | | | IETF RFC | | | | | | 7519 [25], | | | | | | clause 4.1.2. | +---------------+---------------+---+-------------+---------------+ | aud | Audience | M | 1 | This IE shall | | | | | | contain the | | | | | | NF service | | | | | | producer\'s | | | | | | NF instance | | | | | | ID(s) (if the | | | | | | exact NF | | | | | | instance(s) | | | | | | of the NF | | | | | | service | | | | | | producer is | | | | | | known) or the | | | | | | NF type of NF | | | | | | service | | | | | | producers for | | | | | | which the | | | | | | claim is | | | | | | applicable, | | | | | | corresponding | | | | | | to the | | | | | | standard | | | | | | \"Audience\" | | | | | | claim | | | | | | described in | | | | | | IETF RFC | | | | | | 7519 [25], | | | | | | clause 4.1.3. | +---------------+---------------+---+-------------+---------------+ | scope | string | M | 1 | This IE shall | | | | | | contain the | | | | | | name of the | | | | | | NF services | | | | | | and the | | | | | | resource/op | | | | | | eration-level | | | | | | scopes for | | | | | | which the | | | | | | access_token | | | | | | is authorized | | | | | | for use; this | | | | | | claim | | | | | | corresponds | | | | | | to a private | | | | | | claim, as | | | | | | described in | | | | | | IETF RFC | | | | | | 7519 [25], | | | | | | clause 4.3. | | | | | | | | | | | | pattern: | | | | | | \'\^([a-zA- | | | | | | Z0-9_:-]+)( | | | | | | [a-zA-Z0-9\ | | | | | | _:-]+)*\$\' | +---------------+---------------+---+-------------+---------------+ | exp | integer | M | 1 | This IE shall | | | | | | contain the | | | | | | expiration | | | | | | time after | | | | | | which the | | | | | | access_token | | | | | | is considered | | | | | | to be | | | | | | expired, | | | | | | corresponding | | | | | | to the | | | | | | standard | | | | | | \"Expiration | | | | | | Time\" claim | | | | | | described in | | | | | | IETF RFC | | | | | | 7519 [25], | | | | | | clause 4.1.4. | +---------------+---------------+---+-------------+---------------+ | c | PlmnId | C | 0..1 | This IE shall | | onsumerPlmnId | | | | be included | | | | | | if the NRF | | | | | | supports | | | | | | providing | | | | | | PLMN ID of | | | | | | the NF | | | | | | service | | | | | | consumer in | | | | | | the access | | | | | | token claims, | | | | | | to be | | | | | | interpreted | | | | | | for subject | | | | | | (sub IE), as | | | | | | specified in | | | | | | cl | | | | | | ause 13.4.1.2 | | | | | | of | | | | | | 3GPP TS 3 | | | | | | 3.501 [15]. | | | | | | If an NF | | | | | | service | | | | | | producer that | | | | | | receives this | | | | | | IE in the | | | | | | token | | | | | | included in | | | | | | the | | | | | | authorization | | | | | | header does | | | | | | not | | | | | | understand | | | | | | this IE, it | | | | | | shall be | | | | | | ignored. | +---------------+---------------+---+-------------+---------------+ | c | PlmnIdNid | C | 0..1 | This IE shall | | onsumerSnpnId | | | | be included | | | | | | if the NRF | | | | | | supports | | | | | | providing | | | | | | SNPN ID of | | | | | | the NF | | | | | | service | | | | | | consumer in | | | | | | the access | | | | | | token claims, | | | | | | to be | | | | | | interpreted | | | | | | for subject | | | | | | (sub IE), as | | | | | | specified in | | | | | | cl | | | | | | ause 13.4.1.2 | | | | | | of | | | | | | 3GPP TS | | | | | | 33.501[15]. | | | | | | If an NF | | | | | | service | | | | | | producer that | | | | | | receives this | | | | | | IE in the | | | | | | token | | | | | | included in | | | | | | the | | | | | | authorization | | | | | | header does | | | | | | not | | | | | | understand | | | | | | this IE, it | | | | | | shall be | | | | | | ignored. | +---------------+---------------+---+-------------+---------------+ | p | PlmnId | C | 0..1 | This IE shall | | roducerPlmnId | | | | be included | | | | | | if the access | | | | | | token is | | | | | | granted for | | | | | | an NF service | | | | | | producer | | | | | | belonging to | | | | | | an PLMN and | | | | | | the NRF | | | | | | supports | | | | | | providing | | | | | | PLMN ID of | | | | | | the NF | | | | | | service | | | | | | producer in | | | | | | the access | | | | | | token claims, | | | | | | to be | | | | | | interpretted | | | | | | for audience | | | | | | (aud IE), as | | | | | | specified in | | | | | | cl | | | | | | ause 13.4.1.2 | | | | | | of | | | | | | 3GPP TS 3 | | | | | | 3.501 [15]. | | | | | | If an NF | | | | | | service | | | | | | producer that | | | | | | receives this | | | | | | IE in the | | | | | | token | | | | | | included in | | | | | | the | | | | | | authorization | | | | | | header does | | | | | | not | | | | | | understand | | | | | | this IE, it | | | | | | shall be | | | | | | ignored. | +---------------+---------------+---+-------------+---------------+ | p | PlmnIdNid | C | 0..1 | This IE shall | | roducerSnpnId | | | | be included | | | | | | if the access | | | | | | token is | | | | | | granted for | | | | | | an NF service | | | | | | producer | | | | | | belonging to | | | | | | an SNPN and | | | | | | the NRF | | | | | | supports | | | | | | providing | | | | | | SNPN ID of | | | | | | the NF | | | | | | service | | | | | | producer in | | | | | | the access | | | | | | token claims, | | | | | | to be | | | | | | interpreted | | | | | | for audience | | | | | | (aud IE), as | | | | | | specified in | | | | | | cl | | | | | | ause 13.4.1.2 | | | | | | of | | | | | | 3GPP TS 3 | | | | | | 3.501 [15]. | | | | | | | | | | | | When present, | | | | | | it shall | | | | | | contain the | | | | | | SNPN ID of | | | | | | the SNPN the | | | | | | target NF | | | | | | service | | | | | | producer | | | | | | belongs to. | | | | | | | | | | | | If an NF | | | | | | service | | | | | | producer that | | | | | | receives this | | | | | | IE in the | | | | | | token | | | | | | included in | | | | | | the | | | | | | authorization | | | | | | header does | | | | | | not | | | | | | understand | | | | | | this IE, it | | | | | | shall be | | | | | | ignored. | +---------------+---------------+---+-------------+---------------+ | produ | array(Snssai) | O | 1..N | This IE may | | cerSnssaiList | | | | be included | | | | | | if the NRF | | | | | | supports | | | | | | providing | | | | | | list of | | | | | | S-NSSAIs of | | | | | | the NF | | | | | | service | | | | | | producer in | | | | | | the access | | | | | | token claims. | | | | | | If an NF | | | | | | service | | | | | | producer that | | | | | | receives this | | | | | | IE in the | | | | | | token | | | | | | included in | | | | | | the | | | | | | authorization | | | | | | header does | | | | | | not | | | | | | understand | | | | | | this IE, it | | | | | | shall be | | | | | | ignored. | +---------------+---------------+---+-------------+---------------+ | pr | array(string) | O | 1..N | This IE may | | oducerNsiList | | | | be included | | | | | | if the NRF | | | | | | supports | | | | | | providing | | | | | | list of NSIs | | | | | | of the NF | | | | | | service | | | | | | producer in | | | | | | the access | | | | | | token claims. | | | | | | If an NF | | | | | | service | | | | | | producer that | | | | | | receives this | | | | | | IE in the | | | | | | token | | | | | | included in | | | | | | the | | | | | | authorization | | | | | | header does | | | | | | not | | | | | | understand | | | | | | this IE, it | | | | | | shall be | | | | | | ignored. | +---------------+---------------+---+-------------+---------------+ | pr | NfSetId | O | 0..1 | This IE may | | oducerNfSetId | | | | be included | | | | | | if the NRF | | | | | | supports | | | | | | providing NF | | | | | | Set ID of the | | | | | | NF service | | | | | | producer in | | | | | | the access | | | | | | token claims | | | | | | and if the | | | | | | audience | | | | | | contains an | | | | | | NF type. When | | | | | | present, it | | | | | | shall | | | | | | indicate the | | | | | | NF Set ID of | | | | | | the NF | | | | | | service | | | | | | producer | | | | | | instances for | | | | | | which the | | | | | | claim is | | | | | | applicable. | | | | | | If an NF | | | | | | service | | | | | | producer that | | | | | | receives this | | | | | | IE in the | | | | | | token | | | | | | included in | | | | | | the | | | | | | authorization | | | | | | header does | | | | | | not | | | | | | understand | | | | | | this IE, it | | | | | | shall be | | | | | | ignored. | +---------------+---------------+---+-------------+---------------+ | producerN | N | O | 0..1 | This IE may | | fServiceSetId | fServiceSetId | | | be included | | | | | | during an | | | | | | access token | | | | | | request for a | | | | | | specific NF / | | | | | | NF service | | | | | | instance, if | | | | | | the | | | | | | targetN | | | | | | fServiceSetId | | | | | | IE is present | | | | | | in the Access | | | | | | Token | | | | | | Request. | | | | | | | | | | | | When present, | | | | | | this IE shall | | | | | | contain the | | | | | | NF Service | | | | | | Set ID of the | | | | | | NF Service | | | | | | Producer for | | | | | | which the | | | | | | access token | | | | | | is | | | | | | applicable. | | | | | | | | | | | | If an NF | | | | | | service | | | | | | producer that | | | | | | receives this | | | | | | IE in the | | | | | | token | | | | | | included in | | | | | | the | | | | | | authorization | | | | | | header does | | | | | | not | | | | | | understand | | | | | | this IE, it | | | | | | shall be | | | | | | ignored. | +---------------+---------------+---+-------------+---------------+ | sourc | NfInstanceId | C | 0..1 | This IE shall | | eNfInstanceId | | | | be included | | | | | | if the NRF | | | | | | supports | | | | | | providing NF | | | | | | Instance ID | | | | | | of the source | | | | | | NF in the | | | | | | access token | | | | | | claims (if it | | | | | | is an access | | | | | | token request | | | | | | from the DCCF | | | | | | as NF Service | | | | | | Consumer | | | | | | request data | | | | | | from NF | | | | | | Service | | | | | | Producers on | | | | | | behalf of the | | | | | | source NF), | | | | | | to be | | | | | | interpreted | | | | | | for subject | | | | | | (sub IE), as | | | | | | specified in | | | | | | Annex X of | | | | | | 3GPP TS 3 | | | | | | 3.501 [15]. | +---------------+---------------+---+-------------+---------------+
##### 6.3.5.2.5 Type: AccessTokenErr
Table 6.3.5.2.5-1: Definition of type AccessTokenErr
+-----------------+-----------+---+-------------+-----------------+ | Attribute name | Data type | P | Cardinality | Description | +=================+===========+===+=============+=================+ | error | string | M | 1 | This IE shall | | | | | | contain the | | | | | | error described | | | | | | in | | | | | | IETF R | | | | | | FC 6749 [16], | | | | | | clause 5.2. | | | | | | | | | | | | Enum: | | | | | | | | | | | | \"inv | | | | | | alid_request\" | | | | | | | | | | | | \"in | | | | | | valid_client\" | | | | | | | | | | | | \"i | | | | | | nvalid_grant\" | | | | | | | | | | | | \"unautho | | | | | | rized_client\" | | | | | | | | | | | | \"unsupported | | | | | | _grant_type\" | | | | | | | | | | | | \"i | | | | | | nvalid_scope\" | +-----------------+-----------+---+-------------+-----------------+ | err | string | O | 0..1 | When present, | | or_description | | | | this IE shall | | | | | | contain the | | | | | | human-readable | | | | | | additional | | | | | | information to | | | | | | indicate the | | | | | | error that | | | | | | occurred, as | | | | | | described in | | | | | | IETF R | | | | | | FC 6749 [16], | | | | | | clause 5.2. | +-----------------+-----------+---+-------------+-----------------+ | error_uri | string | O | 0..1 | When present, | | | | | | this IE shall | | | | | | contain the URI | | | | | | identifying a | | | | | | human-readable | | | | | | additional | | | | | | information | | | | | | about the | | | | | | error, as | | | | | | described in | | | | | | IETF R | | | | | | FC 6749 [16], | | | | | | clause 5.2. | +-----------------+-----------+---+-------------+-----------------+
#### 6.3.5.3 Simple data types and enumerations
##### 6.3.5.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 6.3.5.3.2 Simple data types
There are no specific simple data types defined in this version of this API.
For the re-used data types from other specifications see clause 6.3.5.1
##### 6.3.5.3.3 Void
#### 6.3.5.4 Data types describing alternative data types or combinations of
data types
##### 6.3.5.4.1 Type: Audience
Table 6.3.5.4.1-1: Definition of type Audience as a list of \"non-exclusive
alternatives\"
Data type Cardinality Description Applicability
* * *
NFType 1 NF type  
array(NfInstanceId) 1..N Array of NF Instance Ids
### 6.3.6 Error Handling
#### 6.3.6.1 General
HTTP error handling shall be supported as specified in IETF RFC 6749 [16] for
errors returned by NRF as Oauth 2.0 authorization server, and also as
specified in clause 5.2.7.4 of 3GPP TS 29.500 [4] for errors returned by SCP
or SEPP.
#### 6.3.6.2 Protocol Errors
Protocol errors handling shall be supported as specified in clause 5.2.7 of
3GPP TS 29.500 [4].
#### 6.3.6.3 Application Errors
The application errors defined for the Nnrf_AccessToken service are listed in
Table 6.3.6.3-1 and correspond to the values of the \"error\" attribute (see
clause 6.3.5.2.5).
Table 6.3.6.3-1: Application errors
+--------------------------+------------------+--------------------------+ | Application Error | HTTP status code | Description | +==========================+==================+==========================+ | invalid_request | 400 Bad Request | See IETF RFC 6749 [16] | +--------------------------+------------------+--------------------------+ | invalid_client | 400 Bad Request, | See IETF RFC 6749 [16] | | | | | | | 401 Unauthorized | | +--------------------------+------------------+--------------------------+ | invalid_grant | 400 Bad Request | See IETF RFC 6749 [16] | +--------------------------+------------------+--------------------------+ | unauthorized_client | 400 Bad Request | See IETF RFC 6749 [16] | +--------------------------+------------------+--------------------------+ | unsupported_grant_type | 400 Bad Request | See IETF RFC 6749 [16] | +--------------------------+------------------+--------------------------+ | invalid_scope | 400 Bad Request | See IETF RFC 6749 [16] | +--------------------------+------------------+--------------------------+
## 6.4 Nnrf_Bootstrapping Service API
### 6.4.1 API URI
URIs of this API shall have the following root:
{nrfApiRoot}
where {nrfApiRoot} represents the concatenation of the \"scheme\" and
\"authority\" components of the NRF, as defined in IETF RFC 3986 [17].
### 6.4.2 Usage of HTTP
#### 6.4.2.1 General
HTTP/2, as defined in IETF RFC 7540 [9], shall be used as specified in clause
5 of 3GPP TS 29.500 [4].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [4].
HTTP messages and bodies this API shall comply with the OpenAPI [10]
specification contained in Annex A.
#### 6.4.2.2 HTTP standard headers
##### 6.4.2.2.1 General
The mandatory standard HTTP headers as specified in clause 5.2.2.2 of 3GPP TS
29.500 [4] shall be supported.
##### 6.4.2.2.2 Content type
The following content types shall be supported:
\- The JSON format (IETF RFC 8259 [22]). The use of the JSON format shall be
signalled by the content type \"application/json\". See also clause 5.4 of
3GPP TS 29.500 [4].
\- The Problem Details JSON Object (IETF RFC 7807 [11]). The use of the
Problem Details JSON object in a HTTP response body shall be signalled by the
content type \"application/problem+json\".
\- The 3GPP hypermedia format as defined in 3GPP TS 29.501 [5]. The use of the
3GPP hypermedia format in a HTTP response body shall be signalled by the
content type \"application/3gppHal+json\".
##### 6.4.2.2.3 Cache-Control
A \"Cache-Control\" header should be included in HTTP responses, as described
in IETF RFC 7234 [20], clause 5.2. It shall contain a \"max-age\" value,
indicating the amount of time in seconds after which the received response is
considered stale.
##### 6.4.2.2.4 ETag
An \"ETag\" (entity-tag) header should be included in HTTP responses, as
described in IETF RFC 7232 [19], clause 2.3. It shall contain a server-
generated strong validator, that allows further matching of this value
(included in subsequent client requests) with a given resource representation
stored in the server or in a cache.
##### 6.4.2.2.5 If-None-Match
An NF Service Consumer should issue conditional GET requests towards the
Nnrf_Bootstrapping service, by including an If-None-Match header in HTTP
requests, as described in IETF RFC 7232 [19], clause 3.2, containing one or
several entity tags received in previous responses for the same resource.
#### 6.4.2.3 HTTP custom headers
##### 6.4.2.3.1 General
In this release of this specification, no custom headers specific to the
Nnrf_Bootstrapping Service API are defined. For 3GPP specific HTTP custom
headers used across all service-based interfaces, see clause 5.2.3 of 3GPP TS
29.500 [4].
### 6.4.3 Resources
#### 6.4.3.1 Overview
The structure of the Resource URIs of the Nnrf_Bootstrapping service is shown
in figure 6.4.3.1-1.
Figure 6.4.3.1-1: Resource URI structure of the Nnrf_Bootstrapping API
Table 6.4.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 6.4.3.1-1: Resources and methods overview
+---------------+----------------+----------------+----------------+ | Resource name | Resource URI | HTTP method or | Description | | | | custom | | | | | operation | | +===============+================+================+================+ | Bootstrapping | {nrfApiRoot} | GET | Retrieve a | | | /bootstrapping | | collection of | | (Document) | | | links pointing | | | | | to other | | | | | services | | | | | exposed by | | | | | NRF. | +---------------+----------------+----------------+----------------+
#### 6.4.3.2 Resource: Bootstrapping (Document)
##### 6.4.3.2.1 Description
This resource represents a collection of links pointing to other services
exposed by NRF.
This resource is modelled as the Document resource archetype (see clause C.3
of 3GPP TS 29.501 [5]).
##### 6.4.3.2.2 Resource Definition
Resource URI: **{nrfApiRoot}/bootstrapping**
This resource shall support the resource URI variables defined in table
6.4.3.2.2-1.
Table 6.4.3.2.2-1: Resource URI variables for this resource
Name Definition
* * *
nrfApiRoot See clause 6.4.1
##### 6.4.3.2.3 Resource Standard Methods
##### 6.4.3.2.3.1 GET {#get-7 .H6}
This method retrieves a list of links pointing to other services exposed by
NRF. This method shall support the URI query parameters specified in table
6.4.3.2.3.1-1.
Table 6.4.3.2.3.1-1: URI query parameters supported by the GET method on this
resource
* * *
Name Data type P Cardinality Description n/a n/a
* * *
This method shall support the request data structures specified in table
6.4.3.2.3.1-2 and the response data structures and response codes specified in
table 6.4.3.2.3.1-3.
Table 6.4.3.2.3.1-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 6.4.3.2.3.1-3: Data structures supported by the GET Response Body on
this resource
+-----------------+---+-------------+----------+-----------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +-----------------+---+-------------+----------+-----------------+ | Bo | M | 1 | 200 OK | The response | | otstrappingInfo | | | | body contains a | | | | | | \"_links\" | | | | | | object | | | | | | containing the | | | | | | URI of each | | | | | | service exposed | | | | | | by the NRF. The | | | | | | response may | | | | | | also contain | | | | | | the status of | | | | | | the NRF and the | | | | | | features | | | | | | supported by | | | | | | each NRF | | | | | | service. | +-----------------+---+-------------+----------+-----------------+ | NOTE: The | | | | | | mandatory HTTP | | | | | | error status | | | | | | codes for the | | | | | | GET method | | | | | | listed in Table | | | | | | 5.2.7.1-1 of | | | | | | 3GPP | | | | | | TS 29.500 [4] | | | | | | other than | | | | | | those specified | | | | | | in the table | | | | | | above also | | | | | | apply, with a | | | | | | ProblemDetails | | | | | | data type (see | | | | | | clause 5.2.7 of | | | | | | 3GPP TS | | | | | | 29.500 [4]). | | | | | +-----------------+---+-------------+----------+-----------------+
### 6.4.4 Custom Operations without associated resources
There are no custom operations defined without any associated resources for
the Nnrf_Bootstrapping service in this release of the specification.
### 6.4.5 Notifications
There are no notifications defined for the Nnrf_Bootstrapping service in this
release of the specification.
### 6.4.6 Data Model
#### 6.4.6.1 General
This clause specifies the application data model supported by the API.
Table 6.4.6.1-1 specifies the data types defined for the Nnrf_Bootstrapping
service-based interface protocol.
Table 6.4.6.1-1: Nnrf_Bootstrapping specific Data Types
Data type Clause defined Description
* * *
BootstrappingInfo 6.4.6.2.2 Information returned by NRF in the bootstrapping
response message. Status 6.4.6.3.2 Overal status of the NRF.
Table 6.4.6.1-2 specifies data types re-used by the Nnrf_Bootstrapping
service-based interface protocol from other specifications, including a
reference to their respective specifications and when needed, a short
description of their use within the Nnrf service-based interface.
Table 6.4.6.1-2: Nnrf_Bootstrapping re-used Data Types
Data type Reference Comments
* * *
LinksValueSchema 3GPP TS 29.571 [7] 3GPP Hypermedia link NfInstanceId 3GPP TS
29.571 [7] Identifier (UUID) of the NF Instance. The hexadecimal letters of
the UUID should be formatted by the sender as lower-case characters and shall
be handled as case-insensitive by the receiver. ProblemDetails 3GPP TS 29.571
[7]  
SupportedFeatures 3GPP TS 29.571 [7]
#### 6.4.6.2 Structured data types
##### 6.4.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
##### 6.4.6.2.2 Type: BootstrappingInfo
Table 6.4.6.2.2-1: Definition of type BootstrappingInfo
+---------------+---------------+---+-------------+---------------+ | Attribute | Data type | P | Cardinality | Description | | name | | | | | +===============+===============+===+=============+===============+ | status | Status | O | 0..1 | Status of the | | | | | | NRF | | | | | | (operative, | | | | | | n | | | | | | on-operative, | | | | | | ...) | | | | | | | | | | | | The NRF shall | | | | | | be considered | | | | | | as operative | | | | | | if this | | | | | | attribute is | | | | | | absent. | +---------------+---------------+---+-------------+---------------+ | _links | map(Link | M | 1..N | Map of | | | sValueSchema) | | | Lin | | | | | | ksValueSchema | | | | | | objects, | | | | | | where the | | | | | | keys are the | | | | | | link | | | | | | relations, as | | | | | | described in | | | | | | Table 6 | | | | | | .4.6.3.3.1-1, | | | | | | and the | | | | | | values are | | | | | | objects | | | | | | containing an | | | | | | \"href\" | | | | | | attribute, | | | | | | whose value | | | | | | is an | | | | | | absolute URI | | | | | | corresponding | | | | | | to each link | | | | | | relation. | +---------------+---------------+---+-------------+---------------+ | nrfFeatures | map(Suppo | O | 1..N | Map of | | | rtedFeatures) | | | features | | | | | | supported by | | | | | | the NRF, | | | | | | where the | | | | | | keys of the | | | | | | map are the | | | | | | NRF services | | | | | | (as defined | | | | | | in clause | | | | | | 6.1.6.3.11), | | | | | | and where the | | | | | | value | | | | | | indicates the | | | | | | features | | | | | | supported by | | | | | | the | | | | | | corresponding | | | | | | NRF services. | | | | | | | | | | | | When present, | | | | | | the NRF shall | | | | | | indicate all | | | | | | the features | | | | | | of all the | | | | | | services it | | | | | | supports. | | | | | | | | | | | | (NOTE) | +---------------+---------------+---+-------------+---------------+ | o | map(boolean) | O | 1..N | When present, | | auth2Required | | | | this IE shall | | | | | | indicate | | | | | | whether the | | | | | | NRF requires | | | | | | Oauth2-based | | | | | | authorization | | | | | | for accessing | | | | | | its services. | | | | | | | | | | | | The key of | | | | | | the map shall | | | | | | be the name | | | | | | of an NRF | | | | | | service, e.g. | | | | | | \"nnrf-nfm\" | | | | | | or | | | | | | \ | | | | | | "nnrf-disc\". | | | | | | | | | | | | The value of | | | | | | each entry of | | | | | | the map shall | | | | | | be encoded as | | | | | | follows: | | | | | | | | | | | | - true: | | | | | | OAuth2 based | | | | | | authorization | | | | | | is required. | | | | | | | | | | | | - false: | | | | | | OAuth2 based | | | | | | authorization | | | | | | is not | | | | | | required. | | | | | | | | | | | | The absence | | | | | | of this IE | | | | | | means that | | | | | | the NRF has | | | | | | not provided | | | | | | any | | | | | | indication | | | | | | about its | | | | | | usage of | | | | | | Oauth2 for | | | | | | a | | | | | | uthorization. | +---------------+---------------+---+-------------+---------------+ | nrfSetId | NfSetId | O | 0..1 | NRF Set Id | +---------------+---------------+---+-------------+---------------+ | nrfInstanceId | NfInstanceId | O | 0..1 | NRF Instance | | | | | | Id | +---------------+---------------+---+-------------+---------------+ | NOTE: The | | | | | | absence of | | | | | | the | | | | | | nrfFeatures | | | | | | attribute in | | | | | | the | | | | | | Boot | | | | | | strappingInfo | | | | | | shall not be | | | | | | interpreted | | | | | | as if the NRF | | | | | | does not | | | | | | support any | | | | | | feature. | | | | | +---------------+---------------+---+-------------+---------------+
#### 6.4.6.3 Simple data types and enumerations
##### 6.4.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
##### 6.4.6.3.2 Enumeration: Status
Table 6.4.6.3.2-1: Enumeration Status
Enumeration value Description
* * *
\"OPERATIVE\" The NRF is operative \"NON_OPERATIVE\" The NRF is not operative
##### 6.4.6.3.3 Relation Types
##### 6.4.6.3.3.1 General {#general-34 .H6}
This clause describes the possible relation types defined within NRF API. See
clause 4.7.5.2 of 3GPP TS 29.501 [5] for the description of the relation
types.
Table 6.4.6.3.3.1-1: supported registered relation types
+----------------------------------+----------------------------------+ | Relation Name | Description | +----------------------------------+----------------------------------+ | self | The \"href\" attribute of the | | | object associated to this | | | relation type contains the URI | | | of the same resource returned in | | | the response body (i.e. the | | | \"bootstrapping\" resource). | +----------------------------------+----------------------------------+ | manage | The \"href\" attribute of the | | | object associated to this | | | relation type contains the URI | | | of the resource used in the | | | Nnrf_NFManagement API to | | | register/deregister/update NF | | | Instances profiles in the NRF | | | (i.e. the \"nf-instances\" store | | | resource). | | | | | | (NOTE) | +----------------------------------+----------------------------------+ | subscribe | The \"href\" attribute of the | | | object associated to this | | | relation type contains the URI | | | of the resource used in the | | | Nnrf_NFManagement API to manage | | | subscriptions to the NRF (i.e. | | | the \"subscriptions\" collection | | | resource). | | | | | | (NOTE) | +----------------------------------+----------------------------------+ | discover | The \"href\" attribute of the | | | object associated to this | | | relation type contains the URI | | | of the resource used in the | | | Nnrf_NFDiscovery API (i.e. the | | | \"nf-instances\" collection | | | resource). | +----------------------------------+----------------------------------+ | authorize | The \"href\" attribute of the | | | object associated to this | | | relation type contains the URI | | | of the Oauth2 Access Token | | | Request endpoint, used to | | | request authorization to other | | | APIs in the 5G Core Network. | +----------------------------------+----------------------------------+ | NOTE: The URIs of the \"manage\" | | | and \"subscribe\" \"href\" | | | attributes shall have the same | | | apiRoot (i.e. authority and | | | prefix) since these service | | | operations belong to the same | | | service. | | +----------------------------------+----------------------------------+
\
###### ## Annex A (normative): OpenAPI specification
# A.1 General
This Annex specifies the formal definition of the Nnrf Service API(s). It
consists of OpenAPI 3.0.0 specifications, in YAML format.
This Annex takes precedence when being discrepant to other parts of the
specification with respect to the encoding of information elements and methods
within the API(s).
NOTE: The semantics and procedures, as well as conditions, e.g. for the
applicability and allowed combinations of attributes or values, not expressed
in the OpenAPI definitions but defined in other parts of the specification
also apply.
Informative copies of the OpenAPI specification files contained in this 3GPP
Technical Specification are available on a Git-based repository, that uses the
GitLab software version control system (see 3GPP TS 29.501 [5] clause 5.3.1
and 3GPP TR 21.900 [31] clause 5B).
# A.2 Nnrf_NFManagement API
openapi: 3.0.0
info:
version: \'1.3.0-alpha.5\'
title: \'NRF NFManagement Service\'
description: \|
NRF NFManagement Service.
© 2023, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.510 V18.4.0; 5G System; Network Function Repository
Services; Stage 3
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.510/\'
servers:
\- url: \'{apiRoot}/nnrf-nfm/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501
security:
\- {}
\- oAuth2ClientCredentials:
\- nnrf-nfm
paths:
/nf-instances:
get:
summary: Retrieves a collection of NF Instances
operationId: GetNFInstances
tags:
\- NF Instances (Store)
security:
\- {}
\- oAuth2ClientCredentials:
\- nnrf-nfm
\- oAuth2ClientCredentials:
\- nnrf-nfm
\- nnrf-nfm:nf-instances:read
parameters:
\- name: nf-type
in: query
description: Type of NF
required: false
schema:
\$ref: \'#/components/schemas/NFType\'
\- name: limit
in: query
description: How many items to return at one time
required: false
schema:
type: integer
minimum: 1
\- name: page-number
in: query
description: Page number where the response shall start
required: false
schema:
type: integer
minimum: 1
\- name: page-size
in: query
description: Maximum number of items in each returned page
schema:
type: integer
minimum: 1
responses:
\'200\':
description: Expected response to a valid request
content:
application/3gppHal+json:
schema:
\$ref: \'#/components/schemas/UriList\'
headers:
ETag:
description: Entity Tag containing a strong validator, described in IETF RFC
7232, 2.3
schema:
type: string
\'307\':
description: Temporary Redirect
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RedirectResponse\'
headers:
Location:
description: The URI pointing to the resource located on the redirect target
NRF
required: true
schema:
type: string
\'308\':
description: Permanent Redirect
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RedirectResponse\'
headers:
Location:
description: The URI pointing to the resource located on the redirect target
NRF
required: true
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'501\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/501\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
options:
summary: Discover communication options supported by NRF for NF Instances
operationId: OptionsNFInstances
tags:
\- NF Instances (Store)
responses:
\'200\':
description: OK
content:
application/json:
schema:
\$ref: \'#/components/schemas/OptionsResponse\'
headers:
Accept-Encoding:
description: Accept-Encoding, described in IETF RFC 7694
schema:
type: string
\'204\':
description: No Content
headers:
Accept-Encoding:
description: Accept-Encoding, described in IETF RFC 7694
schema:
type: string
\'307\':
description: Temporary Redirect
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RedirectResponse\'
headers:
Location:
description: The URI pointing to the resource located on the redirect target
NRF
required: true
schema:
type: string
\'308\':
description: Permanent Redirect
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RedirectResponse\'
headers:
Location:
description: The URI pointing to the resource located on the redirect target
NRF
required: true
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'405\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/405\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'501\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/501\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/nf-instances/{nfInstanceID}:
get:
summary: Read the profile of a given NF Instance
operationId: GetNFInstance
tags:
\- NF Instance ID (Document)
security:
\- {}
\- oAuth2ClientCredentials:
\- nnrf-nfm
\- oAuth2ClientCredentials:
\- nnrf-nfm
\- nnrf-nfm:nf-instances:read
parameters:
\- name: nfInstanceID
in: path
description: Unique ID of the NF Instance
required: true
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
\- name: requester-features
in: query
description: Features supported by the NF Service Consumer
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
responses:
\'200\':
description: Expected response to a valid request
headers:
ETag:
description: Entity Tag containing a strong validator, described in IETF RFC
7232, 2.3
schema:
type: string
content:
application/json:
schema:
\$ref: \'#/components/schemas/NFProfile\'
\'307\':
description: Temporary Redirect
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RedirectResponse\'
headers:
Location:
description: The URI pointing to the resource located on the redirect target
NRF
required: true
schema:
type: string
\'308\':
description: Permanent Redirect
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RedirectResponse\'
headers:
Location:
description: The URI pointing to the resource located on the redirect target
NRF
required: true
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'501\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/501\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
put:
summary: Register a new NF Instance
operationId: RegisterNFInstance
tags:
\- NF Instance ID (Document)
security:
\- {}
\- oAuth2ClientCredentials:
\- nnrf-nfm
\- oAuth2ClientCredentials:
\- nnrf-nfm
\- nnrf-nfm:nf-instance:write
parameters:
\- name: nfInstanceID
in: path
required: true
description: Unique ID of the NF Instance to register
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
\- name: Content-Encoding
in: header
description: Content-Encoding, described in IETF RFC 7231
schema:
type: string
\- name: Accept-Encoding
in: header
description: Accept-Encoding, described in IETF RFC 7231
schema:
type: string
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/NFProfile\'
required: true
responses:
\'200\':
description: OK (Profile Replacement)
content:
application/json:
schema:
\$ref: \'#/components/schemas/NFProfile\'
headers:
Accept-Encoding:
description: Accept-Encoding, described in IETF RFC 7694
schema:
type: string
Content-Encoding:
description: Content-Encoding, described in IETF RFC 7231
schema:
type: string
ETag:
description: Entity Tag containing a strong validator, described in IETF RFC
7232, 2.3
schema:
type: string
\'201\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/NFProfile\'
headers:
Location:
description: >
Contains the URI of the newly created resource, according to the structure:
{apiRoot}/nnrf-nfm/v1/nf-instances/{nfInstanceId}
required: true
schema:
type: string
Accept-Encoding:
description: Accept-Encoding, described in IETF RFC 7694
schema:
type: string
Content-Encoding:
description: Content-Encoding, described in IETF RFC 7231
schema:
type: string
ETag:
description: Entity Tag containing a strong validator, described in IETF RFC
7232, 2.3
schema:
type: string
\'307\':
description: Temporary Redirect
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RedirectResponse\'
headers:
Location:
description: The URI pointing to the resource located on the redirect target
NRF
required: true
schema:
type: string
\'308\':
description: Permanent Redirect
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RedirectResponse\'
headers:
Location:
description: The URI pointing to the resource located on the redirect target
NRF
required: true
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'501\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/501\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
patch:
summary: Update NF Instance profile
operationId: UpdateNFInstance
tags:
\- NF Instance ID (Document)
security:
\- {}
\- oAuth2ClientCredentials:
\- nnrf-nfm
\- oAuth2ClientCredentials:
\- nnrf-nfm
\- nnrf-nfm:nf-instance:write
parameters:
\- name: nfInstanceID
in: path
required: true
description: Unique ID of the NF Instance to update
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
\- name: Content-Encoding
in: header
description: Content-Encoding, described in IETF RFC 7231
schema:
type: string
\- name: Accept-Encoding
in: header
description: Accept-Encoding, described in IETF RFC 7231
schema:
type: string
\- name: If-Match
in: header
description: Validator for conditional requests, as described in IETF RFC
7232, 3.2
schema:
type: string
requestBody:
content:
application/json-patch+json:
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PatchItem\'
minItems: 1
required: true
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/NFProfile\'
headers:
Accept-Encoding:
description: Accept-Encoding, described in IETF RFC 7694
schema:
type: string
ETag:
description: Entity Tag containing a strong validator, described in IETF RFC
7232, 2.3
schema:
type: string
Content-Encoding:
description: Content-Encoding, described in IETF RFC 7231
schema:
type: string
\'204\':
description: Expected response with empty body
headers:
Accept-Encoding:
description: Accept-Encoding, described in IETF RFC 7694
schema:
type: string
\'307\':
description: Temporary Redirect
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RedirectResponse\'
headers:
Location:
description: The URI pointing to the resource located on the redirect target
NRF
required: true
schema:
type: string
\'308\':
description: Permanent Redirect
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RedirectResponse\'
headers:
Location:
description: The URI pointing to the resource located on the redirect target
NRF
required: true
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'409\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/409\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'412\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/412\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'501\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/501\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
delete:
summary: Deregisters a given NF Instance
operationId: DeregisterNFInstance
tags:
\- NF Instance ID (Document)
security:
\- {}
\- oAuth2ClientCredentials:
\- nnrf-nfm
\- oAuth2ClientCredentials:
\- nnrf-nfm
\- nnrf-nfm:nf-instance:write
parameters:
\- name: nfInstanceID
in: path
required: true
description: Unique ID of the NF Instance to deregister
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
responses:
\'204\':
description: Expected response to a successful deregistration
\'307\':
description: Temporary Redirect
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RedirectResponse\'
headers:
Location:
description: The URI pointing to the resource located on the redirect target
NRF
required: true
schema:
type: string
\'308\':
description: Permanent Redirect
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RedirectResponse\'
headers:
Location:
description: The URI pointing to the resource located on the redirect target
NRF
required: true
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'501\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/501\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/subscriptions:
post:
summary: Create a new subscription
operationId: CreateSubscription
tags:
\- Subscriptions (Collection)
security:
\- {}
\- oAuth2ClientCredentials:
\- nnrf-nfm
\- oAuth2ClientCredentials:
\- nnrf-nfm
\- nnrf-nfm:subscriptions:subs-complete-profile
parameters:
\- name: Content-Encoding
in: header
description: Content-Encoding, described in IETF RFC 7231
schema:
type: string
\- name: Accept-Encoding
in: header
description: Accept-Encoding, described in IETF RFC 7231
schema:
type: string
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/SubscriptionData\'
required: true
responses:
\'201\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/SubscriptionData\'
headers:
Location:
description: >
Contains the URI of the newly created resource, according to the structure:
{apiRoot}/nnrf-nfm/v1/subscriptions/{subscriptionId}
required: true
schema:
type: string
Accept-Encoding:
description: Accept-Encoding, described in IETF RFC 7694
schema:
type: string
Content-Encoding:
description: Content-Encoding, described in IETF RFC 7231
schema:
type: string
\'307\':
description: Temporary Redirect
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RedirectResponse\'
headers:
Location:
description: The URI pointing to the resource located on the redirect target
NRF
required: true
schema:
type: string
\'308\':
description: Permanent Redirect
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RedirectResponse\'
headers:
Location:
description: The URI pointing to the resource located on the redirect target
NRF
required: true
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'501\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/501\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
onNFStatusEvent:
\'{\$request.body#/nfStatusNotificationUri}\':
post:
parameters:
\- name: Content-Encoding
in: header
description: Content-Encoding, described in IETF RFC 7231
schema:
type: string
requestBody:
description: Notification Payload
content:
application/json:
schema:
\$ref: \'#/components/schemas/NotificationData\'
responses:
\'204\':
description: Expected response to a successful callback processing
headers:
Accept-Encoding:
description: Accept-Encoding, described in IETF RFC 7694
schema:
type: string
\'307\':
description: Temporary Redirect
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RedirectResponse\'
headers:
Location:
description: >
The URI pointing to the resource located on another NF service
consumer instance
required: true
schema:
type: string
\'308\':
description: Permanent Redirect
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RedirectResponse\'
headers:
Location:
description: >
The URI pointing to the resource located on another NF service
consumer instance
required: true
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'501\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/501\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/subscriptions/{subscriptionID}:
patch:
summary: Updates a subscription
operationId: UpdateSubscription
tags:
\- Subscription ID (Document)
parameters:
\- name: subscriptionID
in: path
required: true
description: Unique ID of the subscription to update
schema:
type: string
pattern: \'\^([0-9]{5,6}-(x3Lf57A:nid=[A-Fa-f0-9]{11}:)?)?[\^-]+\$\'
\- name: Content-Encoding
in: header
description: Content-Encoding, described in IETF RFC 7231
schema:
type: string
\- name: Accept-Encoding
in: header
description: Accept-Encoding, described in IETF RFC 7231
schema:
type: string
requestBody:
content:
application/json-patch+json:
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PatchItem\'
required: true
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/SubscriptionData\'
headers:
Accept-Encoding:
description: Accept-Encoding, described in IETF RFC 7694
schema:
type: string
Content-Encoding:
description: Content-Encoding, described in IETF RFC 7231
schema:
type: string
\'204\':
description: No Content
headers:
Accept-Encoding:
description: Accept-Encoding, described in IETF RFC 7694
schema:
type: string
\'307\':
description: Temporary Redirect
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RedirectResponse\'
headers:
Location:
description: The URI pointing to the resource located on the redirect target
NRF
required: true
schema:
type: string
\'308\':
description: Permanent Redirect
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RedirectResponse\'
headers:
Location:
description: The URI pointing to the resource located on the redirect target
NRF
required: true
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'501\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/501\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
delete:
summary: Deletes a subscription
operationId: RemoveSubscription
tags:
\- Subscription ID (Document)
parameters:
\- name: subscriptionID
in: path
required: true
description: Unique ID of the subscription to remove
schema:
type: string
pattern: \'\^([0-9]{5,6}-(x3Lf57A:nid=[A-Fa-f0-9]{11}:)?)?[\^-]+\$\'
responses:
\'204\':
description: Expected response to a successful subscription removal
\'307\':
description: Temporary Redirect
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RedirectResponse\'
headers:
Location:
description: The URI pointing to the resource located on the redirect target
NRF
required: true
schema:
type: string
\'308\':
description: Permanent Redirect
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RedirectResponse\'
headers:
Location:
description: The URI pointing to the resource located on the redirect target
NRF
required: true
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'501\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/501\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'/oauth2/token\'
scopes:
nnrf-nfm: Access to the Nnrf_NFManagement API
nnrf-nfm:nf-instances:read: >
Access to read the nf-instances resource, or an individual NF Instance ID
resource
nnrf-nfm:subscriptions:subs-complete-profile: >
Access to subscribe to the complete profile of NF instances
nnrf-nfm:nf-instance:write: >
Access to write (create, update, delete) an individual NF Instance ID resource
schemas:
NFProfile:
description: Information of an NF Instance registered in the NRF
type: object
required:
\- nfInstanceId
\- nfType
\- nfStatus
anyOf:
\- required: [ fqdn ]
\- required: [ ipv4Addresses ]
\- required: [ ipv6Addresses ]
properties:
nfInstanceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
nfInstanceName:
type: string
nfType:
\$ref: \'#/components/schemas/NFType\'
nfStatus:
\$ref: \'#/components/schemas/NFStatus\'
collocatedNfInstances:
type: array
items:
\$ref: \'#/components/schemas/CollocatedNfInstance\'
minItems: 1
heartBeatTimer:
type: integer
minimum: 1
plmnList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
minItems: 1
snpnList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid\'
minItems: 1
sNssais:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ExtSnssai\'
minItems: 1
perPlmnSnssaiList:
type: array
items:
\$ref: \'#/components/schemas/PlmnSnssai\'
minItems: 1
nsiList:
type: array
items:
type: string
minItems: 1
fqdn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
interPlmnFqdn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
ipv4Addresses:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
minItems: 1
ipv6Addresses:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr\'
minItems: 1
allowedPlmns:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
minItems: 1
allowedSnpns:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid\'
minItems: 1
allowedNfTypes:
type: array
items:
\$ref: \'#/components/schemas/NFType\'
minItems: 1
allowedNfDomains:
type: array
items:
type: string
minItems: 1
allowedNssais:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ExtSnssai\'
minItems: 1
allowedRuleSet:
description: A map (list of key-value pairs) where a valid JSON pointer Id
serves as key
type: object
additionalProperties:
\$ref: \'#/components/schemas/RuleSet\'
minProperties: 1
priority:
type: integer
minimum: 0
maximum: 65535
capacity:
type: integer
minimum: 0
maximum: 65535
load:
type: integer
minimum: 0
maximum: 100
loadTimeStamp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
locality:
type: string
extLocality:
description: >
A map (list of key-value pairs) where a (unique) valid JSON string serves
as key representing a type of locality
type: object
additionalProperties:
type: string
minProperties: 1
udrInfo:
\$ref: \'#/components/schemas/UdrInfo\'
udrInfoList:
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of UdrInfo
type: object
additionalProperties:
\$ref: \'#/components/schemas/UdrInfo\'
minProperties: 1
udmInfo:
\$ref: \'#/components/schemas/UdmInfo\'
udmInfoList:
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of UdmInfo
type: object
additionalProperties:
\$ref: \'#/components/schemas/UdmInfo\'
minProperties: 1
ausfInfo:
\$ref: \'#/components/schemas/AusfInfo\'
ausfInfoList:
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of AusfInfo
type: object
additionalProperties:
\$ref: \'#/components/schemas/AusfInfo\'
minProperties: 1
amfInfo:
\$ref: \'#/components/schemas/AmfInfo\'
amfInfoList:
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of AmfInfo
type: object
additionalProperties:
\$ref: \'#/components/schemas/AmfInfo\'
minProperties: 1
smfInfo:
\$ref: \'#/components/schemas/SmfInfo\'
smfInfoList:
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of SmfInfo
type: object
additionalProperties:
\$ref: \'#/components/schemas/SmfInfo\'
minProperties: 1
upfInfo:
\$ref: \'#/components/schemas/UpfInfo\'
upfInfoList:
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of UpfInfo
type: object
additionalProperties:
\$ref: \'#/components/schemas/UpfInfo\'
minProperties: 1
pcfInfo:
\$ref: \'#/components/schemas/PcfInfo\'
pcfInfoList:
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of PcfInfo
type: object
additionalProperties:
\$ref: \'#/components/schemas/PcfInfo\'
minProperties: 1
bsfInfo:
\$ref: \'#/components/schemas/BsfInfo\'
bsfInfoList:
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of BsfInfo
type: object
additionalProperties:
\$ref: \'#/components/schemas/BsfInfo\'
minProperties: 1
chfInfo:
\$ref: \'#/components/schemas/ChfInfo\'
chfInfoList:
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of ChfInfo
type: object
additionalProperties:
\$ref: \'#/components/schemas/ChfInfo\'
minProperties: 1
nefInfo:
\$ref: \'#/components/schemas/NefInfo\'
nrfInfo:
\$ref: \'#/components/schemas/NrfInfo\'
udsfInfo:
\$ref: \'#/components/schemas/UdsfInfo\'
udsfInfoList:
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of UdsfInfo
type: object
additionalProperties:
\$ref: \'#/components/schemas/UdsfInfo\'
minProperties: 1
nwdafInfo:
\$ref: \'#/components/schemas/NwdafInfo\'
nwdafInfoList:
type: object
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of NwdafInfo
additionalProperties:
\$ref: \'#/components/schemas/NwdafInfo\'
minProperties: 1
pcscfInfoList:
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of PcscfInfo
type: object
additionalProperties:
\$ref: \'#/components/schemas/PcscfInfo\'
minProperties: 1
hssInfoList:
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of HssInfo
type: object
additionalProperties:
\$ref: \'#/components/schemas/HssInfo\'
minProperties: 1
customInfo:
type: object
recoveryTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
nfServicePersistence:
type: boolean
default: false
nfServices:
deprecated: true
type: array
items:
\$ref: \'#/components/schemas/NFService\'
minItems: 1
nfServiceList:
description: >
A map (list of key-value pairs) where serviceInstanceId serves as key of
NFService
type: object
additionalProperties:
\$ref: \'#/components/schemas/NFService\'
minProperties: 1
nfProfileChangesSupportInd:
type: boolean
default: false
writeOnly: true
nfProfilePartialUpdateChangesSupportInd:
type: boolean
default: false
writeOnly: true
nfProfileChangesInd:
type: boolean
default: false
readOnly: true
defaultNotificationSubscriptions:
type: array
items:
\$ref: \'#/components/schemas/DefaultNotificationSubscription\'
lmfInfo:
\$ref: \'#/components/schemas/LmfInfo\'
gmlcInfo:
\$ref: \'#/components/schemas/GmlcInfo\'
nfSetIdList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
minItems: 1
servingScope:
type: array
items:
type: string
minItems: 1
lcHSupportInd:
type: boolean
default: false
olcHSupportInd:
type: boolean
default: false
nfSetRecoveryTimeList:
description: A map (list of key-value pairs) where _NfSetId_ serves as key of
DateTime
type: object
additionalProperties:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
minProperties: 1
serviceSetRecoveryTimeList:
description: >
A map (list of key-value pairs) where _NfServiceSetId_ serves as key of
DateTime
type: object
additionalProperties:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
minProperties: 1
scpDomains:
type: array
items:
type: string
minItems: 1
scpInfo:
\$ref: \'#/components/schemas/ScpInfo\'
seppInfo:
\$ref: \'#/components/schemas/SeppInfo\'
vendorId:
\$ref: \'#/components/schemas/VendorId\'
supportedVendorSpecificFeatures:
description: >
The key of the map is the IANA-assigned SMI Network Management Private
Enterprise Codes
type: object
additionalProperties:
type: array
items:
\$ref: \'#/components/schemas/VendorSpecificFeature\'
minItems: 1
minProperties: 1
aanfInfoList:
type: object
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of AanfInfo
additionalProperties:
\$ref: \'#/components/schemas/AanfInfo\'
minProperties: 1
5gDdnmfInfo:
\$ref: \'#/components/schemas/5GDdnmfInfo\'
mfafInfo:
\$ref: \'#/components/schemas/MfafInfo\'
easdfInfoList:
type: object
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of EasdfInfo
additionalProperties:
\$ref: \'#/components/schemas/EasdfInfo\'
minProperties: 1
dccfInfo:
\$ref: \'#/components/schemas/DccfInfo\'
nsacfInfoList:
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of NsacfInfo
type: object
additionalProperties:
\$ref: \'#/components/schemas/NsacfInfo\'
minProperties: 1
mbSmfInfoList:
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of MbSmfInfo
type: object
additionalProperties:
\$ref: \'#/components/schemas/MbSmfInfo\'
minProperties: 1
tsctsfInfoList:
type: object
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of TsctsfInfo
additionalProperties:
\$ref: \'#/components/schemas/TsctsfInfo\'
minProperties: 1
mbUpfInfoList:
type: object
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of MbUpfInfo
additionalProperties:
\$ref: \'#/components/schemas/MbUpfInfo\'
minProperties: 1
trustAfInfo:
\$ref: \'#/components/schemas/TrustAfInfo\'
nssaafInfo:
\$ref: \'#/components/schemas/NssaafInfo\'
hniList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
minItems: 1
iwmscInfo:
\$ref: \'#/components/schemas/IwmscInfo\'
mnpfInfo:
\$ref: \'#/components/schemas/MnpfInfo\'
smsfInfo:
\$ref: \'#/components/schemas/SmsfInfo\'
dcsfInfoList:
type: object
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of DcsfInfo
additionalProperties:
\$ref: \'#/components/schemas/DcsfInfo\'
minProperties: 1
mrfInfoList:
type: object
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of MrfInfo
additionalProperties:
\$ref: \'#/components/schemas/MrfInfo\'
minProperties: 1
mrfpInfoList:
type: object
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of MrfpInfo
additionalProperties:
\$ref: \'#/components/schemas/MrfpInfo\'
minProperties: 1
mfInfoList:
type: object
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of MfInfo
additionalProperties:
\$ref: \'#/components/schemas/MfInfo\'
minProperties: 1
adrfInfoList:
type: object
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of AdrfInfo
additionalProperties:
\$ref: \'#/components/schemas/AdrfInfo\'
minProperties: 1
selectionConditions:
\$ref: \'#/components/schemas/SelectionConditions\'
NFService:
description: >
Information of a given NF Service Instance; it is part of the NFProfile of an
NF Instance
type: object
required:
\- serviceInstanceId
\- serviceName
\- versions
\- scheme
\- nfServiceStatus
properties:
serviceInstanceId:
type: string
serviceName:
\$ref: \'#/components/schemas/ServiceName\'
versions:
type: array
items:
\$ref: \'#/components/schemas/NFServiceVersion\'
minItems: 1
scheme:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UriScheme\'
nfServiceStatus:
\$ref: \'#/components/schemas/NFServiceStatus\'
fqdn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
interPlmnFqdn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
ipEndPoints:
type: array
items:
\$ref: \'#/components/schemas/IpEndPoint\'
minItems: 1
apiPrefix:
type: string
callbackUriPrefix:
type: string
defaultNotificationSubscriptions:
type: array
items:
\$ref: \'#/components/schemas/DefaultNotificationSubscription\'
minItems: 1
allowedPlmns:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
minItems: 1
allowedSnpns:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid\'
minItems: 1
allowedNfTypes:
type: array
items:
\$ref: \'#/components/schemas/NFType\'
minItems: 1
allowedNfDomains:
type: array
items:
type: string
minItems: 1
allowedNssais:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ExtSnssai\'
minItems: 1
allowedOperationsPerNfType:
description: A map (list of key-value pairs) where NF Type serves as key
type: object
additionalProperties:
type: array
items:
type: string
minItems: 1
minProperties: 1
allowedOperationsPerNfInstance:
description: A map (list of key-value pairs) where NF Instance Id serves as
key
type: object
additionalProperties:
type: array
items:
type: string
minItems: 1
minProperties: 1
allowedOperationsPerNfInstanceOverrides:
type: boolean
default: false
allowedScopesRuleSet:
description: A map (list of key-value pairs) where a valid JSON pointer Id
serves as key
type: object
additionalProperties:
\$ref: \'#/components/schemas/RuleSet\'
minProperties: 1
priority:
type: integer
minimum: 0
maximum: 65535
capacity:
type: integer
minimum: 0
maximum: 65535
load:
type: integer
minimum: 0
maximum: 100
loadTimeStamp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
recoveryTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
nfServiceSetIdList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfServiceSetId\'
minItems: 1
sNssais:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ExtSnssai\'
minItems: 1
perPlmnSnssaiList:
type: array
items:
\$ref: \'#/components/schemas/PlmnSnssai\'
minItems: 1
vendorId:
\$ref: \'#/components/schemas/VendorId\'
supportedVendorSpecificFeatures:
description: >
A map (list of key-value pairs) where IANA-assigned SMI Network Management
Private Enterprise Codes serves as key
type: object
additionalProperties:
type: array
items:
\$ref: \'#/components/schemas/VendorSpecificFeature\'
minItems: 1
minProperties: 1
oauth2Required:
type: boolean
perPlmnOauth2ReqList:
\$ref: \'#/components/schemas/PlmnOauth2\'
selectionConditions:
\$ref: \'#/components/schemas/SelectionConditions\'
NFType:
description: NF types known to NRF
anyOf:
\- type: string
enum:
\- NRF
\- UDM
\- AMF
\- SMF
\- AUSF
\- NEF
\- PCF
\- SMSF
\- NSSF
\- UDR
\- LMF
\- GMLC
\- 5G_EIR
\- SEPP
\- UPF
\- N3IWF
\- AF
\- UDSF
\- BSF
\- CHF
\- NWDAF
\- PCSCF
\- CBCF
\- HSS
\- UCMF
\- SOR_AF
\- SPAF
\- MME
\- SCSAS
\- SCEF
\- SCP
\- NSSAAF
\- ICSCF
\- SCSCF
\- DRA
\- IMS_AS
\- AANF
\- 5G_DDNMF
\- NSACF
\- MFAF
\- EASDF
\- DCCF
\- MB_SMF
\- TSCTSF
\- ADRF
\- GBA_BSF
\- CEF
\- MB_UPF
\- NSWOF
\- PKMF
\- MNPF
\- SMS_GMSC
\- SMS_IWMSC
\- MBSF
\- MBSTF
\- PANF
\- DCSF
\- MRF
\- MRFP
\- MF
\- type: string
NefId:
description: Identity of the NEF
type: string
IpEndPoint:
description: >
IP addressing information of a given NFService;
it consists on, e.g. IP address, TCP port, transport protocol...
type: object
not:
required: [ ipv4Address, ipv6Address ]
properties:
ipv4Address:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
ipv6Address:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr\'
transport:
\$ref: \'#/components/schemas/TransportProtocol\'
port:
type: integer
minimum: 0
maximum: 65535
SubscriptionData:
description: >
Information of a subscription to notifications to NRF events,
included in subscription requests and responses
type: object
required:
\- nfStatusNotificationUri
\- subscriptionId
properties:
nfStatusNotificationUri:
type: string
reqNfInstanceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
subscrCond:
\$ref: \'#/components/schemas/SubscrCond\'
subscriptionId:
type: string
pattern: \'\^([0-9]{5,6}-(x3Lf57A:nid=[A-Fa-f0-9]{11}:)?)?[\^-]+\$\'
readOnly: true
validityTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
reqNotifEvents:
type: array
items:
\$ref: \'#/components/schemas/NotificationEventType\'
minItems: 1
plmnId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
nid:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Nid\'
notifCondition:
\$ref: \'#/components/schemas/NotifCondition\'
reqNfType:
\$ref: \'#/components/schemas/NFType\'
reqNfFqdn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
reqSnssais:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ExtSnssai\'
minItems: 1
reqPerPlmnSnssais:
type: array
items:
\$ref: \'#/components/schemas/PlmnSnssai\'
minItems: 1
reqPlmnList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
minItems: 1
reqSnpnList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid\'
minItems: 1
servingScope:
type: array
items:
type: string
minItems: 1
requesterFeatures:
writeOnly: true
allOf:
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
nrfSupportedFeatures:
readOnly: true
allOf:
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
hnrfUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
onboardingCapability:
type: boolean
default: false
targetHni:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
preferredLocality:
type: string
extPreferredLocality:
description: >
A map (list of key-value pairs) where the key of the map represents the
relative
priority, for the requester, of each locality description among the list of
locality
descriptions in this query parameter, encoded as \"1\" (highest priority\"),
\"2\", \"3\", ...,
\"n\" (lowest priority)
type: object
additionalProperties:
type: array
items:
\$ref: \'#/components/schemas/LocalityDescription\'
minItems: 1
minProperties: 1
completeProfileSubscription:
type: boolean
default: false
writeOnly: true
SubscrCond:
description: >
Condition to determine the set of NFs to monitor under a certain subscription
in NRF
oneOf:
\- \$ref: \'#/components/schemas/NfInstanceIdCond\'
\- \$ref: \'#/components/schemas/NfInstanceIdListCond\'
\- \$ref: \'#/components/schemas/NfTypeCond\'
\- \$ref: \'#/components/schemas/ServiceNameCond\'
\- \$ref: \'#/components/schemas/ServiceNameListCond\'
\- \$ref: \'#/components/schemas/AmfCond\'
\- \$ref: \'#/components/schemas/GuamiListCond\'
\- \$ref: \'#/components/schemas/NetworkSliceCond\'
\- \$ref: \'#/components/schemas/NfGroupCond\'
\- \$ref: \'#/components/schemas/NfGroupListCond\'
\- \$ref: \'#/components/schemas/NfSetCond\'
\- \$ref: \'#/components/schemas/NfServiceSetCond\'
\- \$ref: \'#/components/schemas/UpfCond\'
\- \$ref: \'#/components/schemas/ScpDomainCond\'
\- \$ref: \'#/components/schemas/NwdafCond\'
\- \$ref: \'#/components/schemas/NefCond\'
\- \$ref: \'#/components/schemas/DccfCond\'
NfInstanceIdCond:
description: Subscription to a given NF Instance Id
type: object
required:
\- nfInstanceId
properties:
nfInstanceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
NfInstanceIdListCond:
description: Subscription to a list of NF Instances
type: object
required:
\- nfInstanceIdList
properties:
nfInstanceIdList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
minItems: 1
NfTypeCond:
description: Subscription to a set of NFs based on their NF Type
type: object
required:
\- nfType
not:
required: [ nfGroupId ]
properties:
nfType:
\$ref: \'#/components/schemas/NFType\'
ServiceNameCond:
description: Subscription to a set of NFs based on their support for a given
Service Name
type: object
required:
\- serviceName
properties:
serviceName:
\$ref: \'#/components/schemas/ServiceName\'
ServiceNameListCond:
description: >
Subscription to a set of NFs based on their support for a Service Name
in the Servic Name list
type: object
required:
\- conditionType
\- serviceNameList
properties:
conditionType:
type: string
enum: [ SERVICE_NAME_LIST_COND ]
serviceNameList:
type: array
items:
\$ref: \'#/components/schemas/ServiceName\'
minItems: 1
AmfCond:
description: Subscription to a set of AMFs, based on AMF Set Id and/or AMF
Region Id
type: object
anyOf:
\- required: [ amfSetId ]
\- required: [ amfRegionId ]
properties:
amfSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AmfSetId\'
amfRegionId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AmfRegionId\'
GuamiListCond:
description: Subscription to a set of AMFs, based on their GUAMIs
type: object
required:
\- guamiList
properties:
guamiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Guami\'
NetworkSliceCond:
description: Subscription to a set of NFs, based on the slices (S-NSSAI and
NSI) they support
type: object
required:
\- snssaiList
properties:
snssaiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
nsiList:
type: array
items:
type: string
NfGroupCond:
description: Subscription to a set of NFs based on their Group Id
type: object
required:
\- nfType
\- nfGroupId
properties:
nfType:
type: string
enum:
\- UDM
\- AUSF
\- UDR
\- PCF
\- CHF
\- HSS
nfGroupId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfGroupId\'
NfGroupListCond:
description: Subscription to a set of NFs based on their Group Ids
type: object
required:
\- conditionType
\- nfType
\- nfGroupIdList
properties:
conditionType:
type: string
enum: [ NF_GROUP_LIST_COND ]
nfType:
type: string
enum:
\- UDM
\- AUSF
\- UDR
\- PCF
\- CHF
\- HSS
nfGroupIdList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfGroupId\'
minItems: 1
NotifCondition:
description: >
Condition (list of attributes in the NF Profile) to determine whether a
notification
must be sent by NRF
type: object
not:
required: [ monitoredAttributes, unmonitoredAttributes ]
properties:
monitoredAttributes:
type: array
items:
type: string
minItems: 1
unmonitoredAttributes:
type: array
items:
type: string
minItems: 1
UdrInfo:
description: Information of an UDR NF Instance
type: object
properties:
groupId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfGroupId\'
supiRanges:
type: array
items:
\$ref: \'#/components/schemas/SupiRange\'
minItems: 1
gpsiRanges:
type: array
items:
\$ref: \'#/components/schemas/IdentityRange\'
minItems: 1
externalGroupIdentifiersRanges:
type: array
items:
\$ref: \'#/components/schemas/IdentityRange\'
minItems: 1
supportedDataSets:
type: array
items:
\$ref: \'#/components/schemas/DataSetId\'
minItems: 1
sharedDataIdRanges:
type: array
items:
\$ref: \'#/components/schemas/SharedDataIdRange\'
minItems: 1
SharedDataIdRange:
description: A range of SharedDataIds based on regular-expression matching
type: object
properties:
pattern:
type: string
SupiRange:
description: >
A range of SUPIs (subscriber identities), either based on a numeric range,
or based on regular-expression matching
type: object
oneOf:
\- required: [ start, end ]
\- required: [ pattern ]
properties:
start:
type: string
pattern: \'\^[0-9]+\$\'
end:
type: string
pattern: \'\^[0-9]+\$\'
pattern:
type: string
IdentityRange:
description: >
A range of GPSIs (subscriber identities), either based on a numeric range,
or based on regular-expression matching
type: object
oneOf:
\- required: [ start, end ]
\- required: [ pattern ]
properties:
start:
type: string
pattern: \'\^[0-9]+\$\'
end:
type: string
pattern: \'\^[0-9]+\$\'
pattern:
type: string
InternalGroupIdRange:
description: >
A range of Group IDs (internal group identities), either based on a numeric
range,
or based on regular-expression matching
type: object
oneOf:
\- required: [ start, end ]
\- required: [ pattern ]
properties:
start:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GroupId\'
end:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GroupId\'
pattern:
type: string
DataSetId:
description: Types of data sets and subsets stored in UDR
anyOf:
\- type: string
enum:
\- SUBSCRIPTION
\- POLICY
\- EXPOSURE
\- APPLICATION
\- A_PFD
\- A_AFTI
\- A_IPTV
\- A_BDT
\- A_SPD
\- A_EASD
\- A_AMI
\- P_UE
\- P_SCD
\- P_BDT
\- P_PLMNUE
\- P_NSSCD
\- P_PDTQ
\- type: string
UdmInfo:
description: Information of an UDM NF Instance
type: object
properties:
groupId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfGroupId\'
supiRanges:
type: array
items:
\$ref: \'#/components/schemas/SupiRange\'
minItems: 1
gpsiRanges:
type: array
items:
\$ref: \'#/components/schemas/IdentityRange\'
minItems: 1
externalGroupIdentifiersRanges:
type: array
items:
\$ref: \'#/components/schemas/IdentityRange\'
minItems: 1
routingIndicators:
type: array
items:
type: string
pattern: \'\^[0-9]{1,4}\$\'
minItems: 1
internalGroupIdentifiersRanges:
type: array
items:
\$ref: \'#/components/schemas/InternalGroupIdRange\'
minItems: 1
suciInfos:
type: array
items:
\$ref: \'#/components/schemas/SuciInfo\'
minItems: 1
AusfInfo:
description: Information of an AUSF NF Instance
type: object
properties:
groupId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfGroupId\'
supiRanges:
type: array
items:
\$ref: \'#/components/schemas/SupiRange\'
minItems: 1
routingIndicators:
type: array
items:
type: string
pattern: \'\^[0-9]{1,4}\$\'
minItems: 1
suciInfos:
type: array
items:
\$ref: \'#/components/schemas/SuciInfo\'
minItems: 1
AmfInfo:
description: Information of an AMF NF Instance
type: object
required:
\- amfSetId
\- amfRegionId
\- guamiList
properties:
amfSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AmfSetId\'
amfRegionId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AmfRegionId\'
guamiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Guami\'
minItems: 1
taiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
minItems: 1
taiRangeList:
type: array
items:
\$ref: \'#/components/schemas/TaiRange\'
minItems: 1
backupInfoAmfFailure:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Guami\'
minItems: 1
backupInfoAmfRemoval:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Guami\'
minItems: 1
n2InterfaceAmfInfo:
\$ref: \'#/components/schemas/N2InterfaceAmfInfo\'
amfOnboardingCapability:
type: boolean
default: false
highLatencyCom:
type: boolean
SmfInfo:
description: Information of an SMF NF Instance
type: object
required:
\- sNssaiSmfInfoList
properties:
sNssaiSmfInfoList:
type: array
items:
\$ref: \'#/components/schemas/SnssaiSmfInfoItem\'
minItems: 1
taiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
minItems: 1
taiRangeList:
type: array
items:
\$ref: \'#/components/schemas/TaiRange\'
minItems: 1
pgwFqdn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
pgwIpAddrList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/IpAddr\'
minItems: 1
accessType:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AccessType\'
minItems: 1
priority:
type: integer
minimum: 0
maximum: 65535
vsmfSupportInd:
type: boolean
pgwFqdnList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
minItems: 1
smfOnboardingCapability:
type: boolean
default: false
deprecated: true
ismfSupportInd:
type: boolean
smfUPRPCapability:
type: boolean
default: false
SnssaiSmfInfoItem:
description: Set of parameters supported by SMF for a given S-NSSAI
type: object
required:
\- sNssai
\- dnnSmfInfoList
properties:
sNssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ExtSnssai\'
dnnSmfInfoList:
type: array
items:
\$ref: \'#/components/schemas/DnnSmfInfoItem\'
minItems: 1
DnnSmfInfoItem:
description: Set of parameters supported by SMF for a given DNN
type: object
required:
\- dnn
properties:
dnn:
anyOf:
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/WildcardDnn\'
dnaiList:
type: array
items:
anyOf:
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnai\'
\- \$ref: \'#/components/schemas/WildcardDnai\'
minItems: 1
UpfInfo:
description: Information of an UPF NF Instance
type: object
required:
\- sNssaiUpfInfoList
properties:
sNssaiUpfInfoList:
type: array
items:
\$ref: \'#/components/schemas/SnssaiUpfInfoItem\'
minItems: 1
smfServingArea:
type: array
items:
type: string
minItems: 1
interfaceUpfInfoList:
type: array
items:
\$ref: \'#/components/schemas/InterfaceUpfInfoItem\'
minItems: 1
iwkEpsInd:
type: boolean
default: false
sxaInd:
type: boolean
pduSessionTypes:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionType\'
minItems: 1
atsssCapability:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AtsssCapability\'
ueIpAddrInd:
type: boolean
default: false
taiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
minItems: 1
taiRangeList:
type: array
items:
\$ref: \'#/components/schemas/TaiRange\'
minItems: 1
wAgfInfo:
\$ref: \'#/components/schemas/WAgfInfo\'
tngfInfo:
\$ref: \'#/components/schemas/TngfInfo\'
twifInfo:
\$ref: \'#/components/schemas/TwifInfo\'
preferredEpdgInfoList:
type: array
items:
\$ref: \'#/components/schemas/EpdgInfo\'
minItems: 1
preferredWAgfInfoList:
type: array
items:
\$ref: \'#/components/schemas/WAgfInfo\'
minItems: 1
preferredTngfInfoList:
type: array
items:
\$ref: \'#/components/schemas/TngfInfo\'
minItems: 1
preferredTwifInfoList:
type: array
items:
\$ref: \'#/components/schemas/TwifInfo\'
minItems: 1
priority:
type: integer
minimum: 0
maximum: 65535
redundantGtpu:
type: boolean
default: false
ipups:
type: boolean
default: false
dataForwarding:
type: boolean
default: false
supportedPfcpFeatures:
type: string
upfEvents:
type: array
items:
\$ref: \'TS29564_Nupf_EventExposure.yaml#/components/schemas/EventType\'
minItems: 1
SnssaiUpfInfoItem:
description: Set of parameters supported by UPF for a given S-NSSAI
type: object
required:
\- sNssai
\- dnnUpfInfoList
properties:
sNssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ExtSnssai\'
dnnUpfInfoList:
type: array
items:
\$ref: \'#/components/schemas/DnnUpfInfoItem\'
minItems: 1
redundantTransport:
type: boolean
default: false
DnnUpfInfoItem:
description: Set of parameters supported by UPF for a given DNN
type: object
required:
\- dnn
properties:
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
dnaiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnai\'
minItems: 1
pduSessionTypes:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionType\'
minItems: 1
ipv4AddressRanges:
type: array
items:
\$ref: \'#/components/schemas/Ipv4AddressRange\'
minItems: 1
ipv6PrefixRanges:
type: array
items:
\$ref: \'#/components/schemas/Ipv6PrefixRange\'
minItems: 1
natedIpv4AddressRanges:
type: array
items:
\$ref: \'#/components/schemas/Ipv4AddressRange\'
minItems: 1
natedIpv6PrefixRanges:
type: array
items:
\$ref: \'#/components/schemas/Ipv6PrefixRange\'
minItems: 1
ipv4IndexList:
type: array
items:
\$ref: \'TS29503_Nudm_SDM.yaml#/components/schemas/IpIndex\'
minItems: 1
ipv6IndexList:
type: array
items:
\$ref: \'TS29503_Nudm_SDM.yaml#/components/schemas/IpIndex\'
minItems: 1
networkInstance:
description: >
The N6 Network Instance associated with the S-NSSAI and DNN.
type: string
dnaiNwInstanceList:
description: >
Map of network instance per DNAI for the DNN, where the key of the map is the
DNAI.
When present, the value of each entry of the map shall contain a N6 network
instance
that is configured for the DNAI indicated by the key.
type: object
additionalProperties:
type: string
minProperties: 1
not:
required: [ networkInstance, dnaiNwInstanceList ]
InterfaceUpfInfoItem:
description: Information of a given IP interface of an UPF
type: object
required:
\- interfaceType
anyOf:
\- required: [ endpointFqdn ]
\- required: [ ipv4EndpointAddresses ]
\- required: [ ipv6EndpointAddresses ]
properties:
interfaceType:
\$ref: \'#/components/schemas/UPInterfaceType\'
ipv4EndpointAddresses:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
minItems: 1
ipv6EndpointAddresses:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr\'
minItems: 1
endpointFqdn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
networkInstance:
type: string
UPInterfaceType:
description: Types of User-Plane interfaces of the UPF
anyOf:
\- type: string
enum:
\- N3
\- N6
\- N9
\- DATA_FORWARDING
\- N3MB
\- N6MB
\- N19MB
\- NMB9
\- type: string
WAgfInfo:
description: Information of the W-AGF end-points
type: object
anyOf:
  * required: [ endpointFqdn ]
\- required: [ ipv4EndpointAddresses ]
\- required: [ ipv6EndpointAddresses ]
properties:
ipv4EndpointAddresses:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
minItems: 1
ipv6EndpointAddresses:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr\'
minItems: 1
endpointFqdn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
TngfInfo:
description: Infomation of the TNGF endpoints
type: object
anyOf:
\- required: [ endpointFqdn ]
\- required: [ ipv4EndpointAddresses ]
\- required: [ ipv6EndpointAddresses ]
properties:
ipv4EndpointAddresses:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
minItems: 1
ipv6EndpointAddresses:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr\'
minItems: 1
endpointFqdn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
PcfInfo:
description: Information of a PCF NF Instance
type: object
properties:
groupId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfGroupId\'
dnnList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
minItems: 1
supiRanges:
type: array
items:
\$ref: \'#/components/schemas/SupiRange\'
minItems: 1
gpsiRanges:
type: array
items:
\$ref: \'#/components/schemas/IdentityRange\'
minItems: 1
rxDiamHost:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DiameterIdentity\'
rxDiamRealm:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DiameterIdentity\'
v2xSupportInd:
type: boolean
default: false
proseSupportInd:
type: boolean
default: false
proseCapability:
\$ref: \'#/components/schemas/ProSeCapability\'
v2xCapability:
\$ref: \'#/components/schemas/V2xCapability\'
a2xSupportInd:
type: boolean
default: false
a2xCapability:
\$ref: \'#/components/schemas/A2xCapability\'
rangingSlPosSupportInd:
type: boolean
default: false
BsfInfo:
description: Information of a BSF NF Instance
type: object
properties:
dnnList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
minItems: 1
ipDomainList:
type: array
items:
type: string
minItems: 1
ipv4AddressRanges:
type: array
items:
\$ref: \'#/components/schemas/Ipv4AddressRange\'
minItems: 1
ipv6PrefixRanges:
type: array
items:
\$ref: \'#/components/schemas/Ipv6PrefixRange\'
minItems: 1
rxDiamHost:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DiameterIdentity\'
rxDiamRealm:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DiameterIdentity\'
groupId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfGroupId\'
supiRanges:
type: array
items:
\$ref: \'#/components/schemas/SupiRange\'
minItems: 1
gpsiRanges:
type: array
items:
\$ref: \'#/components/schemas/IdentityRange\'
minItems: 1
ChfInfo:
description: Information of a CHF NF Instance
type: object
not:
required: [ primaryChfInstance, secondaryChfInstance ]
properties:
supiRangeList:
type: array
items:
\$ref: \'#/components/schemas/SupiRange\'
minItems: 1
gpsiRangeList:
type: array
items:
\$ref: \'#/components/schemas/IdentityRange\'
minItems: 1
plmnRangeList:
type: array
items:
\$ref: \'#/components/schemas/PlmnRange\'
minItems: 1
groupId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfGroupId\'
primaryChfInstance:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
secondaryChfInstance:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
Ipv4AddressRange:
description: Range of IPv4 addresses
type: object
properties:
start:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
end:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
Ipv6PrefixRange:
description: Range of IPv6 prefixes
type: object
properties:
start:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix\'
end:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix\'
DefaultNotificationSubscription:
description: >
Data structure for specifying the notifications the NF service subscribes by
default,
along with callback URI
type: object
required:
\- notificationType
\- callbackUri
properties:
notificationType:
\$ref: \'#/components/schemas/NotificationType\'
callbackUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
interPlmnCallbackUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
n1MessageClass:
\$ref: \'TS29518_Namf_Communication.yaml#/components/schemas/N1MessageClass\'
n2InformationClass:
\$ref:
\'TS29518_Namf_Communication.yaml#/components/schemas/N2InformationClass\'
versions:
type: array
items:
type: string
minItems: 1
binding:
type: string
acceptedEncoding:
type: string
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
serviceInfoList:
description: >
A map of service specific information. The name of the corresponding service
(as
specified in ServiceName data type) is the key.
type: object
additionalProperties:
\$ref: \'#/components/schemas/DefSubServiceInfo\'
minProperties: 1
callbackUriPrefix:
type: string
NfSetCond:
description: Subscription to a set of NFs based on their Set Id
type: object
required:
\- nfSetId
properties:
nfSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
NfServiceSetCond:
description: Subscription to a set of NFs based on their Service Set Id
type: object
required:
\- nfServiceSetId
properties:
nfServiceSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfServiceSetId\'
nfSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
UpfCond:
description: >
Subscription to a set of NF Instances (UPFs), able to serve a certain service
area
(i.e. SMF serving area or TAI list)
type: object
required:
\- conditionType
properties:
conditionType:
type: string
enum: [ UPF_COND ]
smfServingArea:
type: array
items:
type: string
minItems: 1
taiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
minItems: 1
NwdafCond:
description: >
Subscription to a set of NF Instances (NWDAFs), identified by Analytics ID(s),
S-NSSAI(s) or NWDAF Serving Area information, i.e. list of TAIs for which the
NWDAF
can provide analytics.
type: object
required:
\- conditionType
properties:
conditionType:
type: string
enum: [ NWDAF_COND ]
analyticsIds:
type: array
items:
type: string
minItems: 1
snssaiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
minItems: 1
taiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
minItems: 1
taiRangeList:
type: array
items:
\$ref: \'#/components/schemas/TaiRange\'
minItems: 1
servingNfTypeList:
type: array
items:
\$ref: \'#/components/schemas/NFType\'
minItems: 1
servingNfSetIdList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
minItems: 1
mlAnalyticsList:
type: array
items:
\$ref: \'#/components/schemas/MlAnalyticsInfo\'
minItems: 1
NefCond:
description: >
Subscription to a set of NF Instances (NEFs), identified by Event ID(s)
provided by AF,
S-NSSAI(s), AF Instance ID, Application Identifier, External Identifier,
External Group Identifier, or domain name.
type: object
required:
\- conditionType
properties:
conditionType:
type: string
enum: [ NEF_COND ]
afEvents:
type: array
items:
\$ref: \'TS29517_Naf_EventExposure.yaml#/components/schemas/AfEvent\'
minItems: 1
snssaiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
minItems: 1
pfdData:
\$ref: \'#/components/schemas/PfdData\'
gpsiRanges:
type: array
items:
\$ref: \'#/components/schemas/IdentityRange\'
minItems: 1
externalGroupIdentifiersRanges:
type: array
items:
\$ref: \'#/components/schemas/IdentityRange\'
minItems: 1
servedFqdnList:
type: array
items:
type: string
minItems: 1
NotificationType:
description: >
Types of notifications used in Default Notification URIs in the NF Profile of
an NF Instance
anyOf:
\- type: string
enum:
\- N1_MESSAGES
\- N2_INFORMATION
\- LOCATION_NOTIFICATION
\- DATA_REMOVAL_NOTIFICATION
\- DATA_CHANGE_NOTIFICATION
\- LOCATION_UPDATE_NOTIFICATION
\- NSSAA_REAUTH_NOTIFICATION
\- NSSAA_REVOC_NOTIFICATION
\- MATCH_INFO_NOTIFICATION
\- DATA_RESTORATION_NOTIFICATION
\- TSCTS_NOTIFICATION
\- LCS_KEY_DELIVERY_NOTIFICATION
\- UUAA_MM_AUTH_NOTIFICATION
\- type: string
TransportProtocol:
description: Types of transport protocol used in a given IP endpoint of an NF
Service Instance
anyOf:
\- type: string
enum:
\- TCP
\- type: string
NotificationEventType:
description: Types of events sent in notifications from NRF to subscribed NF
Instances
anyOf:
\- type: string
enum:
\- NF_REGISTERED
\- NF_DEREGISTERED
\- NF_PROFILE_CHANGED
\- type: string
NotificationData:
description: Data sent in notifications from NRF to subscribed NF Instances
type: object
required:
\- event
\- nfInstanceUri
allOf:
#
# Condition: If \'event\' takes value \'NF_PROFILE_CHANGED\',
# then one of \'nfProfile\', \'profileChanges\' or \'completeNfProfile\' must
be present
#
\- anyOf:
\- not:
properties:
event:
type: string
enum:
\- NF_PROFILE_CHANGED
\- oneOf:
\- required: [ nfProfile ]
\- required: [ profileChanges ]
\- required: [ completeNfProfile ]
#
# Condition: If \'event\' takes value \'NF_REGISTERED\',
# then one of \'nfProfile\' or \'completeNfProfile\' must be present
#
\- anyOf:
\- not:
properties:
event:
type: string
enum:
\- NF_REGISTERED
\- oneOf:
\- required: [ nfProfile ]
\- required: [ completeNfProfile ]
properties:
event:
\$ref: \'#/components/schemas/NotificationEventType\'
nfInstanceUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
nfProfile:
allOf:
\- \$ref: \'#/components/schemas/NFProfile\'
\- not:
required: [ allowedPlmns ]
\- not:
required: [ allowedSnpns ]
\- not:
required: [ allowedNfTypes ]
\- not:
required: [ allowedNfDomains ]
\- not:
required: [ allowedNssais ]
\- properties:
nfServices:
type: array
items:
allOf:
\- \$ref: \'#/components/schemas/NFService\'
\- not:
required: [ allowedPlmns ]
\- not:
required: [ allowedSnpns ]
\- not:
required: [ allowedNfTypes ]
\- not:
required: [ allowedNfDomains ]
\- not:
required: [ allowedNssais ]
nfServiceList:
type: object
additionalProperties:
allOf:
\- \$ref: \'#/components/schemas/NFService\'
\- not:
required: [ allowedPlmns ]
\- not:
required: [ allowedSnpns ]
\- not:
required: [ allowedNfTypes ]
\- not:
required: [ allowedNfDomains ]
\- not:
required: [ allowedNssais ]
profileChanges:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ChangeItem\'
minItems: 1
conditionEvent:
\$ref: \'#/components/schemas/ConditionEventType\'
subscriptionContext:
\$ref: \'#/components/schemas/SubscriptionContext\'
completeNfProfile:
\$ref: \'#/components/schemas/NFProfile\'
NFStatus:
description: Status of a given NF Instance stored in NRF
anyOf:
\- type: string
enum:
\- REGISTERED
\- SUSPENDED
\- UNDISCOVERABLE
\- CANARY_RELEASE
\- type: string
NFServiceVersion:
description: Contains the version details of an NF service
type: object
required:
\- apiVersionInUri
\- apiFullVersion
properties:
apiVersionInUri:
type: string
apiFullVersion:
type: string
expiry:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
ServiceName:
description: Service names known to NRF
anyOf:
\- type: string
enum:
\- nnrf-nfm
\- nnrf-disc
\- nnrf-oauth2
\- nudm-sdm
\- nudm-uecm
\- nudm-ueau
\- nudm-ee
\- nudm-pp
\- nudm-niddau
\- nudm-mt
\- nudm-ssau
\- nudm-rsds
\- nudm-ueid
\- namf-comm
\- namf-evts
\- namf-mt
\- namf-loc
\- namf-mbs-comm
\- namf-mbs-bc
\- nsmf-pdusession
\- nsmf-event-exposure
\- nsmf-nidd
\- nausf-auth
\- nausf-sorprotection
\- nausf-upuprotection
\- nnef-pfdmanagement
\- nnef-smcontext
\- nnef-eventexposure
\- nnef-eas-deployment-info
\- 3gpp-cp-parameter-provisioning
\- 3gpp-device-triggering
\- 3gpp-bdt
\- 3gpp-traffic-influence
\- 3gpp-chargeable-party
\- 3gpp-as-session-with-qos
\- 3gpp-msisdn-less-mo-sms
\- 3gpp-service-parameter
\- 3gpp-monitoring-event
\- 3gpp-nidd-configuration-trigger
\- 3gpp-nidd
\- 3gpp-analyticsexposure
\- 3gpp-racs-parameter-provisioning
\- 3gpp-ecr-control
\- 3gpp-applying-bdt-policy
\- 3gpp-mo-lcs-notify
\- 3gpp-time-sync
\- 3gpp-am-influence
\- 3gpp-am-policyauthorization
\- 3gpp-akma
\- 3gpp-eas-deployment
\- 3gpp-iptvconfiguration
\- 3gpp-mbs-tmgi
\- 3gpp-mbs-session
\- 3gpp-authentication
\- 3gpp-asti
\- 3gpp-pdtq-policy-negotiation
\- 3gpp-musa
\- npcf-am-policy-control
\- npcf-smpolicycontrol
\- npcf-policyauthorization
\- npcf-bdtpolicycontrol
\- npcf-eventexposure
\- npcf-ue-policy-control
\- npcf-am-policyauthorization
\- npcf-pdtq-policy-control
\- nsmsf-sms
\- nnssf-nsselection
\- nnssf-nssaiavailability
\- nudr-dr
\- nudr-group-id-map
\- nlmf-loc
\- n5g-eir-eic
\- nbsf-management
\- nchf-spendinglimitcontrol
\- nchf-convergedcharging
\- nchf-offlineonlycharging
\- nnwdaf-eventssubscription
\- nnwdaf-analyticsinfo
\- nnwdaf-datamanagement
\- nnwdaf-mlmodelprovision
\- ngmlc-loc
\- nucmf-provisioning
\- nucmf-uecapabilitymanagement
\- nhss-sdm
\- nhss-uecm
\- nhss-ueau
\- nhss-ee
\- nhss-ims-sdm
\- nhss-ims-uecm
\- nhss-ims-ueau
\- nhss-gba-sdm
\- nhss-gba-ueau
\- nsepp-telescopic
\- nsoraf-sor
\- nspaf-secured-packet
\- nudsf-dr
\- nudsf-timer
\- nnssaaf-nssaa
\- nnssaaf-aiw
\- naanf-akma
\- n5gddnmf-discovery
\- nmfaf-3dadm
\- nmfaf-3cadm
\- neasdf-dnscontext
\- neasdf-baselinednspattern
\- ndccf-dm
\- ndccf-cm
\- nnsacf-nsac
\- nnsacf-slice-ee
\- nmbsmf-tmgi
\- nmbsmf-mbssession
\- nadrf-dm
\- nbsp-gba
\- ntsctsf-time-sync
\- ntsctsf-qos-tscai
\- ntsctsf-asti
\- npkmf-keyreq
\- npkmf-userid
\- nmnpf-npstatus
\- niwmsc-smservice
\- nmbsf-mbsuserserv
\- nmbsf-mbsuserdataing
\- nmbstf-distsession
\- npanf-prosekey
\- npanf-userid
\- nupf-ee
\- nupf-gueip
\- type: string
N2InterfaceAmfInfo:
description: AMF N2 interface information
type: object
anyOf:
\- required: [ ipv4EndpointAddress ]
\- required: [ ipv6EndpointAddress ]
properties:
ipv4EndpointAddress:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
minItems: 1
ipv6EndpointAddress:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr\'
minItems: 1
amfName:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AmfName\'
NFServiceStatus:
description: Status of a given NF Service Instance of an NF Instance stored in
NRF
anyOf:
\- type: string
enum:
\- REGISTERED
\- SUSPENDED
\- UNDISCOVERABLE
\- CANARY_RELEASE
\- type: string
TaiRange:
description: Range of TAIs (Tracking Area Identities)
type: object
required:
\- plmnId
\- tacRangeList
properties:
plmnId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
tacRangeList:
type: array
items:
\$ref: \'#/components/schemas/TacRange\'
minItems: 1
nid:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Nid\'
TacRange:
description: Range of TACs (Tracking Area Codes)
type: object
oneOf:
\- required: [ start, end ]
\- required: [ pattern ]
properties:
start:
type: string
pattern: \'\^([A-Fa-f0-9]{4}\|[A-Fa-f0-9]{6})\$\'
end:
type: string
pattern: \'\^([A-Fa-f0-9]{4}\|[A-Fa-f0-9]{6})\$\'
pattern:
type: string
PlmnRange:
description: Range of PLMN IDs
type: object
oneOf:
\- required: [ start, end ]
\- required: [ pattern ]
properties:
start:
type: string
pattern: \'\^[0-9]{3}[0-9]{2,3}\$\'
end:
type: string
pattern: \'\^[0-9]{3}[0-9]{2,3}\$\'
pattern:
type: string
NrfInfo:
description: Information of an NRF NF Instance, used in hierarchical NRF
deployments
type: object
properties:
servedUdrInfo:
description: A map (list of key-value pairs) where nfInstanceId serves as key
type: object
additionalProperties:
anyOf:
\- \$ref: \'#/components/schemas/UdrInfo\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/EmptyObject\'
minProperties: 1
servedUdrInfoList:
description: A map (list of key-value pairs) where nfInstanceId serves as key
type: object
additionalProperties:
description: A map (list of key-value pairs) where a valid JSON string serves
as key
type: object
additionalProperties:
anyOf:
\- \$ref: \'#/components/schemas/UdrInfo\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/EmptyObject\'
minProperties: 1
minProperties: 1
servedUdmInfo:
description: A map (list of key-value pairs) where nfInstanceId serves as key
type: object
additionalProperties:
anyOf:
\- \$ref: \'#/components/schemas/UdmInfo\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/EmptyObject\'
minProperties: 1
servedUdmInfoList:
description: A map (list of key-value pairs) where nfInstanceId serves as key
type: object
additionalProperties:
description: A map (list of key-value pairs) where a valid JSON string serves
as key
type: object
additionalProperties:
anyOf:
\- \$ref: \'#/components/schemas/UdmInfo\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/EmptyObject\'
minProperties: 1
minProperties: 1
servedAusfInfo:
description: A map (list of key-value pairs) where nfInstanceId serves as key
type: object
additionalProperties:
anyOf:
\- \$ref: \'#/components/schemas/AusfInfo\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/EmptyObject\'
minProperties: 1
servedAusfInfoList:
description: A map (list of key-value pairs) where nfInstanceId serves as key
type: object
additionalProperties:
description: A map (list of key-value pairs) where a valid JSON string serves
as key
type: object
additionalProperties:
anyOf:
\- \$ref: \'#/components/schemas/AusfInfo\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/EmptyObject\'
minProperties: 1
minProperties: 1
servedAmfInfo:
description: A map (list of key-value pairs) where nfInstanceId serves as key
type: object
additionalProperties:
anyOf:
\- \$ref: \'#/components/schemas/AmfInfo\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/EmptyObject\'
minProperties: 1
servedAmfInfoList:
description: A map (list of key-value pairs) where nfInstanceId serves as key
type: object
additionalProperties:
description: A map (list of key-value pairs) where a valid JSON string serves
as key
type: object
additionalProperties:
anyOf:
\- \$ref: \'#/components/schemas/AmfInfo\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/EmptyObject\'
minProperties: 1
minProperties: 1
servedSmfInfo:
description: A map (list of key-value pairs) where nfInstanceId serves as key
type: object
additionalProperties:
anyOf:
\- \$ref: \'#/components/schemas/SmfInfo\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/EmptyObject\'
minProperties: 1
servedSmfInfoList:
description: A map (list of key-value pairs) where nfInstanceId serves as key
type: object
additionalProperties:
description: A map (list of key-value pairs) where a valid JSON string serves
as key
type: object
additionalProperties:
anyOf:
\- \$ref: \'#/components/schemas/SmfInfo\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/EmptyObject\'
minProperties: 1
minProperties: 1
servedUpfInfo:
description: A map (list of key-value pairs) where nfInstanceId serves as key
type: object
additionalProperties:
anyOf:
\- \$ref: \'#/components/schemas/UpfInfo\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/EmptyObject\'
minProperties: 1
servedUpfInfoList:
description: A map (list of key-value pairs) where nfInstanceId serves as key
type: object
additionalProperties:
description: A map (list of key-value pairs) where a valid JSON string serves
as key
type: object
additionalProperties:
anyOf:
\- \$ref: \'#/components/schemas/UpfInfo\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/EmptyObject\'
minProperties: 1
minProperties: 1
servedPcfInfo:
description: A map (list of key-value pairs) where nfInstanceId serves as key
type: object
additionalProperties:
anyOf:
\- \$ref: \'#/components/schemas/PcfInfo\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/EmptyObject\'
minProperties: 1
servedPcfInfoList:
description: A map (list of key-value pairs) where nfInstanceId serves as key
type: object
additionalProperties:
description: A map (list of key-value pairs) where a valid JSON string serves
as key
type: object
additionalProperties:
anyOf:
\- \$ref: \'#/components/schemas/PcfInfo\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/EmptyObject\'
minProperties: 1
minProperties: 1
servedBsfInfo:
description: A map (list of key-value pairs) where nfInstanceId serves as key
type: object
additionalProperties:
anyOf:
\- \$ref: \'#/components/schemas/BsfInfo\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/EmptyObject\'
minProperties: 1
servedBsfInfoList:
description: A map (list of key-value pairs) where nfInstanceId serves as key
type: object
additionalProperties:
description: A map (list of key-value pairs) where a valid JSON string serves
as key
type: object
additionalProperties:
anyOf:
\- \$ref: \'#/components/schemas/BsfInfo\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/EmptyObject\'
minProperties: 1
minProperties: 1
servedChfInfo:
description: A map (list of key-value pairs) where nfInstanceId serves as key
type: object
additionalProperties:
anyOf:
\- \$ref: \'#/components/schemas/ChfInfo\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/EmptyObject\'
minProperties: 1
servedChfInfoList:
description: A map (list of key-value pairs) where nfInstanceId serves as key
type: object
additionalProperties:
description: A map (list of key-value pairs) where a valid JSON string serves
as key
type: object
additionalProperties:
anyOf:
\- \$ref: \'#/components/schemas/ChfInfo\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/EmptyObject\'
minProperties: 1
minProperties: 1
servedNefInfo:
description: A map (list of key-value pairs) where nfInstanceId serves as key
type: object
additionalProperties:
anyOf:
\- \$ref: \'#/components/schemas/NefInfo\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/EmptyObject\'
minProperties: 1
servedNwdafInfo:
description: A map (list of key-value pairs) where nfInstanceId serves as key
type: object
additionalProperties:
anyOf:
\- \$ref: \'#/components/schemas/NwdafInfo\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/EmptyObject\'
minProperties: 1
servedNwdafInfoList:
type: object
description: A map (list of key-value pairs) where NF Instance Id serves as
key
additionalProperties:
type: object
description: A map (list of key-value pairs) where a valid JSON string serves
as key
additionalProperties:
\$ref: \'#/components/schemas/NwdafInfo\'
minProperties: 1
minProperties: 1
servedPcscfInfoList:
description: A map (list of key-value pairs) where nfInstanceId serves as key
type: object
additionalProperties:
description: A map (list of key-value pairs) where a valid JSON string serves
as key
type: object
additionalProperties:
anyOf:
\- \$ref: \'#/components/schemas/PcscfInfo\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/EmptyObject\'
minProperties: 1
minProperties: 1
servedGmlcInfo:
description: A map (list of key-value pairs) where nfInstanceId serves as key
type: object
additionalProperties:
anyOf:
\- \$ref: \'#/components/schemas/GmlcInfo\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/EmptyObject\'
minProperties: 1
servedLmfInfo:
description: A map (list of key-value pairs) where nfInstanceId serves as key
type: object
additionalProperties:
anyOf:
\- \$ref: \'#/components/schemas/LmfInfo\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/EmptyObject\'
minProperties: 1
servedNfInfo:
description: A map (list of key-value pairs) where nfInstanceId serves as key
type: object
additionalProperties:
\$ref: \'#/components/schemas/NfInfo\'
minProperties: 1
servedHssInfoList:
description: A map (list of key-value pairs) where nfInstanceId serves as key
type: object
additionalProperties:
description: A map (list of key-value pairs) where a valid JSON string serves
as key
type: object
additionalProperties:
anyOf:
\- \$ref: \'#/components/schemas/HssInfo\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/EmptyObject\'
minProperties: 1
minProperties: 1
servedUdsfInfo:
description: A map (list of key-value pairs) where nfInstanceId serves as key
type: object
additionalProperties:
anyOf:
\- \$ref: \'#/components/schemas/UdsfInfo\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/EmptyObject\'
minProperties: 1
servedUdsfInfoList:
description: A map (list of key-value pairs) where nfInstanceId serves as key
type: object
additionalProperties:
description: A map (list of key-value pairs) where a valid JSON string serves
as key
type: object
additionalProperties:
anyOf:
\- \$ref: \'#/components/schemas/UdsfInfo\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/EmptyObject\'
minProperties: 1
minProperties: 1
servedScpInfoList:
description: A map (list of key-value pairs) where nfInstanceId serves as key
type: object
additionalProperties:
anyOf:
\- \$ref: \'#/components/schemas/ScpInfo\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/EmptyObject\'
minProperties: 1
servedSeppInfoList:
description: A map (list of key-value pairs) where nfInstanceId serves as key
type: object
additionalProperties:
anyOf:
\- \$ref: \'#/components/schemas/SeppInfo\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/EmptyObject\'
minProperties: 1
servedAanfInfoList:
description: A map (list of key-value pairs) where NF Instance Id serves as
key
type: object
additionalProperties:
description: A map (list of key-value pairs) where a valid JSON string serves
as key
type: object
additionalProperties:
anyOf:
\- \$ref: \'#/components/schemas/AanfInfo\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/EmptyObject\'
minProperties: 1
served5gDdnmfInfo:
type: object
additionalProperties:
\$ref: \'#/components/schemas/5GDdnmfInfo\'
minProperties: 1
servedMfafInfoList:
type: object
description: A map (list of key-value pairs) where NF Instance Id serves as
key
additionalProperties:
\$ref: \'#/components/schemas/MfafInfo\'
minProperties: 1
servedEasdfInfoList:
type: object
description: A map (list of key-value pairs) where NF Instance Id serves as
key
additionalProperties:
type: object
description: A map (list of key-value pairs) where a valid JSON string serves
as key
additionalProperties:
\$ref: \'#/components/schemas/EasdfInfo\'
minProperties: 1
servedDccfInfoList:
type: object
description: A map (list of key-value pairs) where NF Instance Id serves as
key
additionalProperties:
\$ref: \'#/components/schemas/DccfInfo\'
minProperties: 1
servedMbSmfInfoList:
description: A map (list of key-value pairs) where nfInstanceId serves as key
type: object
additionalProperties:
description: A map (list of key-value pairs) where a valid JSON string serves
as key
type: object
additionalProperties:
anyOf:
\- \$ref: \'#/components/schemas/MbSmfInfo\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/EmptyObject\'
minProperties: 1
minProperties: 1
servedTsctsfInfoList:
type: object
description: A map (list of key-value pairs) where NF Instance Id serves as
key
additionalProperties:
type: object
description: A map (list of key-value pairs) where a valid JSON string serves
as key
additionalProperties:
\$ref: \'#/components/schemas/TsctsfInfo\'
minProperties: 1
minProperties: 1
servedMbUpfInfoList:
type: object
description: A map (list of key-value pairs) where NF Instance Id serves as
key
additionalProperties:
type: object
description: A map (list of key-value pairs) where a valid JSON string serves
as key
additionalProperties:
\$ref: \'#/components/schemas/MbUpfInfo\'
minProperties: 1
minProperties: 1
servedTrustAfInfo:
type: object
description: A map (list of key-value pairs) where NF Instance Id serves as
key
additionalProperties:
\$ref: \'#/components/schemas/TrustAfInfo\'
minProperties: 1
servedNssaafInfo:
type: object
description: A map (list of key-value pairs) where NF Instance Id serves as
key
additionalProperties:
\$ref: \'#/components/schemas/NssaafInfo\'
minProperties: 1
PlmnSnssai:
description: List of network slices (S-NSSAIs) for a given PLMN ID
type: object
required:
\- plmnId
\- sNssaiList
properties:
plmnId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
sNssaiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ExtSnssai\'
minItems: 1
nid:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Nid\'
NefInfo:
description: Information of an NEF NF Instance
type: object
properties:
nefId:
\$ref: \'#/components/schemas/NefId\'
pfdData:
\$ref: \'#/components/schemas/PfdData\'
afEeData:
\$ref: \'#/components/schemas/AfEventExposureData\'
gpsiRanges:
type: array
items:
\$ref: \'#/components/schemas/IdentityRange\'
minItems: 1
externalGroupIdentifiersRanges:
type: array
items:
\$ref: \'#/components/schemas/IdentityRange\'
minItems: 1
servedFqdnList:
type: array
items:
type: string
minItems: 1
taiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
minItems: 1
taiRangeList:
type: array
items:
\$ref: \'#/components/schemas/TaiRange\'
minItems: 1
dnaiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnai\'
minItems: 1
unTrustAfInfoList:
type: array
items:
\$ref: \'#/components/schemas/UnTrustAfInfo\'
minItems: 1
uasNfFunctionalityInd:
type: boolean
default: false
multiMemAfSessQosInd:
type: boolean
default: false
memberUESelAssistInd:
type: boolean
default: false
PfdData:
description: List of Application IDs and/or AF IDs managed by a given NEF
Instance
type: object
properties:
appIds:
type: array
items:
type: string
minItems: 1
afIds:
type: array
items:
type: string
minItems: 1
NwdafInfo:
description: Information of a NWDAF NF Instance
type: object
properties:
eventIds:
type: array
items:
\$ref: \'TS29520_Nnwdaf_AnalyticsInfo.yaml#/components/schemas/EventId\'
minItems: 1
nwdafEvents:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/NwdafEvent\'
minItems: 1
taiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
minItems: 1
taiRangeList:
type: array
items:
\$ref: \'#/components/schemas/TaiRange\'
minItems: 1
nwdafCapability:
\$ref: \'#/components/schemas/NwdafCapability\'
analyticsDelay:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
servingNfSetIdList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
minItems: 1
servingNfTypeList:
type: array
items:
\$ref: \'#/components/schemas/NFType\'
minItems: 1
mlAnalyticsList:
type: array
items:
\$ref: \'#/components/schemas/MlAnalyticsInfo\'
minItems: 1
LmfInfo:
description: Information of an LMF NF Instance
type: object
properties:
servingClientTypes:
type: array
items:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/ExternalClientType\'
minItems: 1
lmfId:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/LMFIdentification\'
servingAccessTypes:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AccessType\'
minItems: 1
servingAnNodeTypes:
type: array
items:
\$ref: \'#/components/schemas/AnNodeType\'
minItems: 1
servingRatTypes:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RatType\'
minItems: 1
taiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
minItems: 1
taiRangeList:
type: array
items:
\$ref: \'#/components/schemas/TaiRange\'
minItems: 1
supportedGADShapes:
type: array
items:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/SupportedGADShapes\'
minItems: 1
pruExistenceInfo:
\$ref: \'#/components/schemas/PruExistenceInfo\'
pruSupportInd:
type: boolean
default: false
rangingslposSupportInd:
type: boolean
default: false
GmlcInfo:
description: Information of a GMLC NF Instance
type: object
properties:
servingClientTypes:
type: array
items:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/ExternalClientType\'
minItems: 1
gmlcNumbers:
type: array
items:
type: string
pattern: \'\^[0-9]{5,15}\$\'
minItems: 1
AfEventExposureData:
description: AF Event Exposure data managed by a given NEF Instance
type: object
required:
\- afEvents
properties:
afEvents:
type: array
items:
\$ref: \'TS29517_Naf_EventExposure.yaml#/components/schemas/AfEvent\'
minItems: 1
afIds:
type: array
items:
type: string
minItems: 1
appIds:
type: array
items:
type: string
minItems: 1
taiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
minItems: 1
taiRangeList:
type: array
items:
\$ref: \'#/components/schemas/TaiRange\'
minItems: 1
PcscfInfo:
description: Information of a P-CSCF NF Instance
type: object
properties:
accessType:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AccessType\'
minItems: 1
dnnList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
minItems: 1
gmFqdn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
gmIpv4Addresses:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
minItems: 1
gmIpv6Addresses:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr\'
minItems: 1
mwFqdn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
mwIpv4Addresses:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
minItems: 1
mwIpv6Addresses:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr\'
minItems: 1
servedIpv4AddressRanges:
type: array
items:
\$ref: \'#/components/schemas/Ipv4AddressRange\'
minItems: 1
servedIpv6PrefixRanges:
type: array
items:
\$ref: \'#/components/schemas/Ipv6PrefixRange\'
minItems: 1
NfInfo:
description: Information of a generic NF Instance
type: object
properties:
nfType:
\$ref: \'#/components/schemas/NFType\'
HssInfo:
description: Information of an HSS NF Instance
type: object
properties:
groupId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfGroupId\'
imsiRanges:
type: array
items:
\$ref: \'#/components/schemas/ImsiRange\'
minItems: 1
imsPrivateIdentityRanges:
type: array
items:
\$ref: \'#/components/schemas/IdentityRange\'
minItems: 1
imsPublicIdentityRanges:
type: array
items:
\$ref: \'#/components/schemas/IdentityRange\'
minItems: 1
msisdnRanges:
type: array
items:
\$ref: \'#/components/schemas/IdentityRange\'
minItems: 1
externalGroupIdentifiersRanges:
type: array
items:
\$ref: \'#/components/schemas/IdentityRange\'
minItems: 1
hssDiameterAddress:
\$ref:
\'TS29503_Nudm_UECM.yaml#/components/schemas/NetworkNodeDiameterAddress\'
additionalDiamAddresses:
type: array
items:
\$ref:
\'TS29503_Nudm_UECM.yaml#/components/schemas/NetworkNodeDiameterAddress\'
minItems: 1
ImsiRange:
description: >
A range of IMSIs (subscriber identities), either based on a numeric range,
or based on regular-expression matching
type: object
oneOf:
\- required: [ start, end ]
\- required: [ pattern ]
properties:
start:
type: string
pattern: \'\^[0-9]+\$\'
end:
type: string
pattern: \'\^[0-9]+\$\'
pattern:
type: string
TwifInfo:
description: Addressing information (IP addresses, FQDN) of the TWIF
type: object
anyOf:
\- required: [ endpointFqdn ]
\- required: [ ipv4EndpointAddresses ]
\- required: [ ipv6EndpointAddresses ]
properties:
ipv4EndpointAddresses:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
minItems: 1
ipv6EndpointAddresses:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr\'
minItems: 1
endpointFqdn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
VendorId:
description: Vendor ID of the NF Service instance (Private Enterprise Number
assigned by IANA)
type: string
pattern: \'\^[0-9]{6}\$\'
VendorSpecificFeature:
description: Information about a vendor-specific feature
type: object
required:
\- featureName
\- featureVersion
properties:
featureName:
type: string
featureVersion:
type: string
AnNodeType:
description: Access Network Node Type (gNB, ng-eNB...)
anyOf:
\- type: string
enum:
\- GNB
\- NG_ENB
\- type: string
UdsfInfo:
description: Information related to UDSF
type: object
properties:
groupId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfGroupId\'
supiRanges:
type: array
items:
\$ref: \'#/components/schemas/SupiRange\'
minItems: 1
storageIdRanges:
description: >
A map (list of key-value pairs) where realmId serves as key and each value in
the map
is an array of IdentityRanges. Each IdentityRange is a range of storageIds.
type: object
additionalProperties:
type: array
items:
\$ref: \'#/components/schemas/IdentityRange\'
minItems: 1
minProperties: 1
ScpInfo:
description: Information of an SCP Instance
type: object
properties:
scpDomainInfoList:
description: >
A map (list of key-value pairs) where the key of the map shall be the string
identifying an SCP domain
type: object
additionalProperties:
\$ref: \'#/components/schemas/ScpDomainInfo\'
minProperties: 1
scpPrefix:
type: string
scpPorts:
description: >
Port numbers for HTTP and HTTPS. The key of the map shall be \"http\" or
\"https\".
type: object
additionalProperties:
type: integer
minimum: 0
maximum: 65535
minProperties: 1
addressDomains:
type: array
items:
type: string
minItems: 1
ipv4Addresses:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
minItems: 1
ipv6Prefixes:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix\'
minItems: 1
ipv4AddrRanges:
type: array
items:
\$ref: \'#/components/schemas/Ipv4AddressRange\'
minItems: 1
ipv6PrefixRanges:
type: array
items:
\$ref: \'#/components/schemas/Ipv6PrefixRange\'
minItems: 1
servedNfSetIdList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
minItems: 1
remotePlmnList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
minItems: 1
remoteSnpnList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid\'
minItems: 1
ipReachability:
\$ref: \'#/components/schemas/IpReachability\'
scpCapabilities:
type: array
items:
\$ref: \'#/components/schemas/ScpCapability\'
ScpDomainInfo:
description: SCP Domain specific information
type: object
properties:
scpFqdn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
scpIpEndPoints:
type: array
items:
\$ref: \'#/components/schemas/IpEndPoint\'
minItems: 1
scpPrefix:
type: string
scpPorts:
description: >
Port numbers for HTTP and HTTPS. The key of the map shall be \"http\" or
\"https\".
type: object
additionalProperties:
type: integer
minimum: 0
maximum: 65535
minProperties: 1
ScpDomainCond:
description: >
Subscription to a set of NF or SCP or SEPP instances belonging to certain SCP
domains
type: object
required:
\- scpDomains
properties:
scpDomains:
type: array
items:
type: string
minItems: 1
nfTypeList:
type: array
items:
\$ref: \'#/components/schemas/NFType\'
minItems: 1
OptionsResponse:
description: Communication options of the NRF sent in response payload of
OPTIONS method
type: object
properties:
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
ConditionEventType:
description: >
Indicates whether a notification is due to the NF Instance to start or stop
being part of a condition for a subscription to a set of NFs
anyOf:
\- type: string
enum:
\- NF_ADDED
\- NF_REMOVED
\- type: string
SuciInfo:
description: SUCI information containing Routing Indicator and Home Network
Public Key ID
type: object
properties:
routingInds:
type: array
items:
type: string
pattern: \'\^[0-9]{1,4}\$\'
minItems: 1
hNwPubKeyIds:
type: array
items:
type: integer
minItems: 1
SeppInfo:
description: Information of a SEPP Instance
type: object
properties:
seppPrefix:
type: string
seppPorts:
description: >
Port numbers for HTTP and HTTPS. The key of the map shall be \"http\" or
\"https\".
type: object
additionalProperties:
type: integer
minimum: 0
maximum: 65535
minProperties: 1
remotePlmnList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
minItems: 1
remoteSnpnList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid\'
minItems: 1
n32Purposes:
description: N32 purposes supported by the SEPP
type: array
items:
\$ref: \'TS29573_N32_Handshake.yaml#/components/schemas/N32Purpose\'
minItems: 1
IpReachability:
description: Indicates the type(s) of IP addresses reachable via an SCP
anyOf:
\- type: string
enum:
\- IPV4
\- IPV6
\- IPV4V6
\- type: string
UriList:
description: >
Represents a set of URIs following the 3GPP hypermedia format
(containing a \"_links\" attribute).
type: object
properties:
_links:
type: object
description: >
List of the URI of NF instances. It has two members whose names are item and
self.
The item attribute contains an array of URIs.
additionalProperties:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/LinksValueSchema\'
minProperties: 1
totalItemCount:
type: integer
AanfInfo:
description: Represents the information relative to an AAnF NF Instance.
type: object
properties:
routingIndicators:
type: array
items:
type: string
pattern: \'\^[0-9]{1,4}\$\'
minItems: 1
5GDdnmfInfo:
description: Information of an 5G DDNMF NF Instance
type: object
required:
\- plmnId
properties:
plmnId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
WildcardDnai:
description: Wildcard DNAI
type: string
pattern: \'\^[*]\$\'
MfafInfo:
description: Information of a MFAF NF Instance
type: object
properties:
servingNfTypeList:
type: array
items:
\$ref: \'#/components/schemas/NFType\'
minItems: 1
servingNfSetIdList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
minItems: 1
taiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
minItems: 1
taiRangeList:
type: array
items:
\$ref: \'#/components/schemas/TaiRange\'
minItems: 1
NwdafCapability:
description: Indicates the capability supported by the NWDAF
type: object
properties:
analyticsAggregation:
type: boolean
default: false
analyticsMetadataProvisioning:
type: boolean
default: false
mlModelAccuracyChecking:
type: boolean
default: false
analyticsAccuracyChecking:
type: boolean
default: false
roamingExchange:
type: boolean
default: false
EasdfInfo:
description: Information of an EASDF NF Instance
type: object
properties:
sNssaiEasdfInfoList:
type: array
items:
\$ref: \'#/components/schemas/SnssaiEasdfInfoItem\'
minItems: 1
easdfN6IpAddressList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/IpAddr\'
minItems: 1
upfN6IpAddressList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/IpAddr\'
minItems: 1
SnssaiEasdfInfoItem:
description: Set of parameters supported by EASDF for a given S-NSSAI
type: object
required:
\- sNssai
\- dnnEasdfInfoList
properties:
sNssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ExtSnssai\'
dnnEasdfInfoList:
type: array
items:
\$ref: \'#/components/schemas/DnnEasdfInfoItem\'
minItems: 1
DnnEasdfInfoItem:
description: Set of parameters supported by EASDF for a given DNN
type: object
required:
\- dnn
properties:
dnn:
anyOf:
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/WildcardDnn\'
dnaiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnai\'
minItems: 1
DccfInfo:
description: Information of a DCCF NF Instance
type: object
properties:
servingNfTypeList:
type: array
items:
\$ref: \'#/components/schemas/NFType\'
minItems: 1
servingNfSetIdList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
minItems: 1
taiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
minItems: 1
taiRangeList:
type: array
items:
\$ref: \'#/components/schemas/TaiRange\'
minItems: 1
dataSubsRelocInd:
type: boolean
default: false
ScpCapability:
description: Indicates the capabilities supported by an SCP
anyOf:
\- type: string
enum:
\- INDIRECT_COM_WITH_DELEG_DISC
\- type: string
NsacfInfo:
description: Information of a NSACF NF Instance
type: object
required:
\- nsacfCapability
properties:
nsacfCapability:
\$ref: \'#/components/schemas/NsacfCapability\'
taiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
minItems: 1
taiRangeList:
type: array
items:
\$ref: \'#/components/schemas/TaiRange\'
minItems: 1
NsacfCapability:
description: >
NSACF service capabilities (e.g. to monitor and control the number of
registered UEs
or established PDU sessions per network slice)
type: object
properties:
supportUeSAC:
description: \|
Indicates the service capability of the NSACF to monitor and control the
number of
registered UEs per network slice for the network slice that is subject to NSAC
true: Supported
false (default): Not Supported
type: boolean
default: false
supportPduSAC:
description: \|
Indicates the service capability of the NSACF to monitor and control the
number of
established PDU sessions per network slice for the network slice that is
subject to NSAC
true: Supported
false (default): Not Supported
type: boolean
default: false
DccfCond:
description: >
Subscription to a set of NF Instances (DCCFs), identified by NF types, NF Set
Id(s)
or DCCF Serving Area information, i.e. list of TAIs served by the DCCF
type: object
required:
\- conditionType
properties:
conditionType:
type: string
enum: [ DCCF_COND ]
taiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
minItems: 1
taiRangeList:
type: array
items:
\$ref: \'#/components/schemas/TaiRange\'
minItems: 1
servingNfTypeList:
type: array
items:
\$ref: \'#/components/schemas/NFType\'
minItems: 1
servingNfSetIdList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
minItems: 1
MlAnalyticsInfo:
description: ML Analytics Filter information supported by the
Nnwdaf_MLModelProvision service
type: object
properties:
mlAnalyticsIds:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/NwdafEvent\'
minItems: 1
snssaiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
minItems: 1
trackingAreaList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
minItems: 1
mlModelInterInfo:
\$ref: \'#/components/schemas/MlModelInterInfo\'
flCapabilityType:
\$ref: \'#/components/schemas/FlCapabilityType\'
flTimeInterval:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
MbSmfInfo:
description: Information of an MB-SMF NF Instance
type: object
properties:
sNssaiInfoList:
description: A map (list of key-value pairs) where a valid JSON string serves
as key
additionalProperties:
\$ref: \'#/components/schemas/SnssaiMbSmfInfoItem\'
minProperties: 1
tmgiRangeList:
description: A map (list of key-value pairs) where a valid JSON string serves
as key
additionalProperties:
\$ref: \'#/components/schemas/TmgiRange\'
minProperties: 1
taiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
minItems: 1
taiRangeList:
type: array
items:
\$ref: \'#/components/schemas/TaiRange\'
minItems: 1
mbsSessionList:
description: A map (list of key-value pairs) where a valid JSON string serves
as key
additionalProperties:
\$ref: \'#/components/schemas/MbsSession\'
minProperties: 1
TmgiRange:
description: Range of TMGIs
type: object
required:
\- mbsServiceIdStart
\- mbsServiceIdEnd
\- plmnId
properties:
mbsServiceIdStart:
type: string
pattern: \'\^[A-Fa-f0-9]{6}\$\'
mbsServiceIdEnd:
type: string
pattern: \'\^[A-Fa-f0-9]{6}\$\'
plmnId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
nid:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Nid\'
MbsSession:
description: MBS Session currently served by an MB-SMF
type: object
required:
\- mbsSessionId
properties:
mbsSessionId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MbsSessionId\'
mbsAreaSessions:
description: A map (list of key-value pairs) where the key identifies an
areaSessionId
additionalProperties:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MbsServiceAreaInfo\'
minProperties: 1
SnssaiMbSmfInfoItem:
description: Parameters supported by an MB-SMF for a given S-NSSAI
type: object
required:
\- sNssai
\- dnnInfoList
properties:
sNssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ExtSnssai\'
dnnInfoList:
type: array
items:
\$ref: \'#/components/schemas/DnnMbSmfInfoItem\'
minItems: 1
DnnMbSmfInfoItem:
description: Parameters supported by an MB-SMF for a given DNN
type: object
required:
\- dnn
properties:
dnn:
anyOf:
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/WildcardDnn\'
TsctsfInfo:
description: Information of a TSCTSF NF Instance
type: object
properties:
sNssaiInfoList:
description: A map (list of key-value pairs) where a valid JSON string serves
as key
additionalProperties:
\$ref: \'#/components/schemas/SnssaiTsctsfInfoItem\'
minProperties: 1
externalGroupIdentifiersRanges:
type: array
items:
\$ref: \'#/components/schemas/IdentityRange\'
minItems: 1
supiRanges:
type: array
items:
\$ref: \'#/components/schemas/SupiRange\'
minItems: 1
gpsiRanges:
type: array
items:
\$ref: \'#/components/schemas/IdentityRange\'
minItems: 1
internalGroupIdentifiersRanges:
type: array
items:
\$ref: \'#/components/schemas/InternalGroupIdRange\'
minItems: 1
SnssaiTsctsfInfoItem:
description: Set of parameters supported by TSCTSF for a given S-NSSAI
type: object
required:
\- sNssai
\- dnnInfoList
properties:
sNssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ExtSnssai\'
dnnInfoList:
type: array
items:
\$ref: \'#/components/schemas/DnnTsctsfInfoItem\'
minItems: 1
DnnTsctsfInfoItem:
description: Parameters supported by an TSCTSF for a given DNN
type: object
required:
\- dnn
properties:
dnn:
anyOf:
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/WildcardDnn\'
MbUpfInfo:
description: Information of an MB-UPF NF Instance
type: object
required:
\- sNssaiMbUpfInfoList
properties:
sNssaiMbUpfInfoList:
type: array
items:
\$ref: \'#/components/schemas/SnssaiUpfInfoItem\'
minItems: 1
mbSmfServingArea:
type: array
items:
type: string
minItems: 1
interfaceMbUpfInfoList:
type: array
items:
\$ref: \'#/components/schemas/InterfaceUpfInfoItem\'
minItems: 1
taiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
minItems: 1
taiRangeList:
type: array
items:
\$ref: \'#/components/schemas/TaiRange\'
minItems: 1
priority:
type: integer
minimum: 0
maximum: 65535
supportedPfcpFeatures:
type: string
UnTrustAfInfo:
description: Information of a untrusted AF Instance
type: object
required:
\- afId
properties:
afId:
type: string
sNssaiInfoList:
type: array
items:
\$ref: \'#/components/schemas/SnssaiInfoItem\'
minItems: 1
mappingInd:
type: boolean
default: false
TrustAfInfo:
description: Information of a trusted AF Instance
type: object
properties:
sNssaiInfoList:
type: array
items:
\$ref: \'#/components/schemas/SnssaiInfoItem\'
minItems: 1
afEvents:
type: array
items:
\$ref: \'TS29517_Naf_EventExposure.yaml#/components/schemas/AfEvent\'
minItems: 1
appIds:
type: array
items:
type: string
minItems: 1
internalGroupId:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GroupId\'
minItems: 1
mappingInd:
type: boolean
default: false
taiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
minItems: 1
taiRangeList:
type: array
items:
\$ref: \'#/components/schemas/TaiRange\'
minItems: 1
SnssaiInfoItem:
description: >
Parameters supported by an NF for a given S-NSSAI Set of parameters supported
by NF
for a given S-NSSAI
type: object
required:
\- sNssai
\- dnnInfoList
properties:
sNssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ExtSnssai\'
dnnInfoList:
type: array
items:
\$ref: \'#/components/schemas/DnnInfoItem\'
minItems: 1
DnnInfoItem:
description: Set of parameters supported by NF for a given DNN
type: object
required:
\- dnn
properties:
dnn:
anyOf:
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/WildcardDnn\'
CollocatedNfInstance:
description: Information of an collocated NF Instance registered in the NRF
type: object
required:
\- nfInstanceId
\- nfType
properties:
nfInstanceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
nfType:
\$ref: \'#/components/schemas/CollocatedNfType\'
CollocatedNfType:
description: NF types for a collocated NF
anyOf:
\- type: string
enum:
\- UPF
\- SMF
\- MB_UPF
\- MB_SMF
\- type: string
PlmnOauth2:
description: Oauth2.0 required indication for a given PLMN ID
type: object
properties:
oauth2RequiredPlmnIdList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
minItems: 1
oauth2NotRequiredPlmnIdList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
minItems: 1
V2xCapability:
description: Indicate the supported V2X Capability by the PCF.
type: object
properties:
lteV2x:
type: boolean
default: false
nrV2x:
type: boolean
default: false
NssaafInfo:
description: Information of a NSSAAF Instance
type: object
properties:
supiRanges:
type: array
items:
\$ref: \'#/components/schemas/SupiRange\'
minItems: 1
internalGroupIdentifiersRanges:
type: array
items:
\$ref: \'#/components/schemas/InternalGroupIdRange\'
minItems: 1
ProSeCapability:
description: Indicate the supported ProSe Capability by the PCF.
type: object
properties:
proseDirectDiscovey:
type: boolean
default: false
proseDirectCommunication:
type: boolean
default: false
proseL2UetoNetworkRelay:
type: boolean
default: false
proseL3UetoNetworkRelay:
type: boolean
default: false
proseL2RemoteUe:
type: boolean
default: false
proseL3RemoteUe:
type: boolean
default: false
proseL2UetoUeRelay:
type: boolean
default: false
proseL3UetoUeRelay:
type: boolean
default: false
proseL2EndUe:
type: boolean
default: false
proseL3EndUe:
type: boolean
default: false
SubscriptionContext:
description: >
Context data related to a created subscription, to be included in
notifications sent by NRF
type: object
required:
\- subscriptionId
properties:
subscriptionId:
type: string
subscrCond:
\$ref: \'#/components/schemas/SubscrCond\'
IwmscInfo:
description: Information of an SMS-IWMSC NF Instance
type: object
properties:
msisdnRanges:
type: array
items:
\$ref: \'#/components/schemas/IdentityRange\'
minItems: 1
supiRanges:
type: array
items:
\$ref: \'#/components/schemas/SupiRange\'
minItems: 1
taiRangeList:
type: array
items:
\$ref: \'#/components/schemas/TaiRange\'
minItems: 1
scNumber:
type: string
pattern: \'\^[0-9]{5,15}\$\'
MnpfInfo:
description: Information of an MNPF Instance
type: object
properties:
msisdnRanges:
type: array
items:
\$ref: \'#/components/schemas/IdentityRange\'
minItems: 1
required:
\- msisdnRanges
DefSubServiceInfo:
description: Service Specific information for Default Notification
Subscription.
type: object
properties:
versions:
type: array
items:
type: string
minItems: 1
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
LocalityDescriptionItem:
description: Locality description item
type: object
properties:
localityType:
\$ref: \'#/components/schemas/LocalityType\'
localityValue:
type: string
required:
\- localityType
\- localityValue
LocalityDescription:
description: Locality description
type: object
properties:
localityType:
\$ref: \'#/components/schemas/LocalityType\'
localityValue:
type: string
addlLocDescrItems:
type: array
items:
\$ref: \'#/components/schemas/LocalityDescriptionItem\'
minItems: 1
required:
\- localityType
\- localityValue
LocalityType:
description: >
Type of locality description. An operator may define custom locality type
values other
than those listed in this enumeration.
anyOf:
\- type: string
enum:
\- DATA_CENTER
\- CITY
\- COUNTY
\- DISTRICT
\- STATE
\- CANTON
\- REGION
\- PROVINCE
\- PREFECTURE
\- COUNTRY
\- type: string
SmsfInfo:
description: Specific Data for SMSF
type: object
properties:
roamingUeInd:
type: boolean
remotePlmnRangeList:
type: array
items:
\$ref: \'#/components/schemas/PlmnRange\'
minItems: 1
DcsfInfo:
description: Information of a DCSF NF Instance
type: object
properties:
imsDomianNameList:
type: array
items:
\$ref: \'#/components/schemas/ImsDomainName\'
imsiRanges:
type: array
items:
\$ref: \'#/components/schemas/ImsiRange\'
minItems: 1
imsPrivateIdentityRanges:
type: array
items:
\$ref: \'#/components/schemas/IdentityRange\'
minItems: 1
imsPublicIdentityRanges:
type: array
items:
\$ref: \'#/components/schemas/IdentityRange\'
minItems: 1
msisdnRanges:
type: array
items:
\$ref: \'#/components/schemas/IdentityRange\'
minItems: 1
ImsDomainName:
description: IMS Domain Name
type: string
MlModelInterInfo:
description: ML Model Interoperability Information
type: object
properties:
vendorList:
type: array
items:
\$ref: \'#/components/schemas/VendorId\'
minItems: 1
PruExistenceInfo:
description: PRU Existence Information
type: object
properties:
taiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
minItems: 1
taiRangeList:
type: array
items:
\$ref: \'#/components/schemas/TaiRange\'
minItems: 1
FlCapabilityType:
description: >
Type of Federated Learning Capability.
anyOf:
\- type: string
enum:
\- FL_SERVER
\- FL_CLIENT
\- FL_SERVER_AND_CLIENT
\- type: string
MrfInfo:
description: Information of a Mrf NF Instance
type: object
properties:
mediaCapabilityList:
type: array
items:
\$ref: \'#/components/schemas/MediaCapability\'
minItems: 1
MrfpInfo:
description: Information of a Mrfp NF Instance
type: object
properties:
mediaCapabilityList:
type: array
items:
\$ref: \'#/components/schemas/MediaCapability\'
minItems: 1
MfInfo:
description: Information of a MF NF Instance
type: object
properties:
mediaCapabilityList:
type: array
items:
\$ref: \'#/components/schemas/MediaCapability\'
minItems: 1
EpdgInfo:
description: Information of the ePDG end-points
type: object
anyOf:
\- required: [ ipv4EndpointAddresses ]
\- required: [ ipv6EndpointAddresses ]
properties:
ipv4EndpointAddresses:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
minItems: 1
ipv6EndpointAddresses:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr\'
minItems: 1
MediaCapability:
description: IMS media capability offered by NF instance
anyOf:
\- type: string
enum:
\- VIDEO_TRANSCODING
\- DATA_CHANNEL_SERVICES
\- VOICE_CONFERENCING
\- IN_CALL_ANNOUNCEMENTS
\- type: string
description: >
This string provides forward-compatibility with future
extensions to the enumeration but is not used to encode
content defined in the present version of this API.
A2xCapability:
description: Indicate the supported A2X Capability by the PCF.
type: object
properties:
lteA2x:
type: boolean
default: false
nrA2x:
type: boolean
default: false
RuleSet:
type: object
required:
\- priority
\- action
properties:
priority:
type: integer
minimum: 0
maximum: 65535
plmns:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
minItems: 1
snpns:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid\'
minItems: 1
nfTypes:
type: array
items:
\$ref: \'#/components/schemas/NFType\'
minItems: 1
nfDomains:
type: array
items:
type: string
minItems: 1
nssais:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ExtSnssai\'
minItems: 1
nfInstances:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
scopes:
type: array
items:
type: string
minItems: 1
action:
\$ref: \'#/components/schemas/RuleSetAction\'
RuleSetAction:
anyOf:
\- type: string
enum:
\- ALLOW
\- DENY
\- type: string
AdrfInfo:
description: Information of an ADRF NF Instance
type: object
properties:
mlModelStorageCapability:
type: boolean
default: false
SelectionConditions:
description: >
It contains the set of conditions that shall be evaluated to determine whether
a consumer
shall select a given producer. The producer shall only be selected if the
evaluation of
the conditions is \. The set of conditions can be represented by a
single
ConditionItem or by a ConditionGroup, where the latter contains a (recursive)
list of
conditions joined by the \"and\" or \"or\" logical relationships.
oneOf:
\- \$ref: \'#/components/schemas/ConditionItem\'
\- \$ref: \'#/components/schemas/ConditionGroup\'
ConditionGroup:
description: >
List (array) of conditions (joined by the \"and\" or \"or\" logical
relationship),
under which an NF Instance with an NFStatus or NFServiceStatus value set to
\"CANARY_RELEASE\"
shall be selected by an NF Service Consumer.
type: object
oneOf:
\- required: [ and ]
\- required: [ or ]
properties:
and:
type: array
items:
\$ref: \'#/components/schemas/SelectionConditions\'
minItems: 1
or:
type: array
items:
\$ref: \'#/components/schemas/SelectionConditions\'
minItems: 1
ConditionItem:
description: >
A ConditionItem consists of a number of attributes representing individual
conditions
(e.g. a SUPI range, or a TAI list). If several attributes/conditions are
present,
the evaluation of the ConditionItem is \ if all attributes/conditions
are evaluated
as \ (i.e., it follows the AND logical relationship).
type: object
properties:
consumerNfTypes:
type: array
items:
\$ref: \'#/components/schemas/NFType\'
minItems: 1
serviceFeature:
type: integer
minimum: 1
vsServiceFeature:
type: integer
minimum: 1
supiRangeList:
type: array
items:
\$ref: \'#/components/schemas/SupiRange\'
minItems: 1
gpsiRangeList:
type: array
items:
\$ref: \'#/components/schemas/IdentityRange\'
minItems: 1
impuRangeList:
type: array
items:
\$ref: \'#/components/schemas/IdentityRange\'
minItems: 1
impiRangeList:
type: array
items:
\$ref: \'#/components/schemas/IdentityRange\'
minItems: 1
peiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Pei\'
minItems: 1
taiRangeList:
type: array
items:
\$ref: \'#/components/schemas/TaiRange\'
minItems: 1
dnnList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
minItems: 1
# A.3 Nnrf_NFDiscovery API
openapi: 3.0.0
info:
version: \'1.3.0-alpha.5\'
title: \'NRF NFDiscovery Service\'
description: \|
NRF NFDiscovery Service.
© 2023, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.510 V18.4.0; 5G System; Network Function Repository
Services; Stage 3
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.510/\'
servers:
\- url: \'{apiRoot}/nnrf-disc/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501
security:
\- {}
\- oAuth2ClientCredentials:
\- nnrf-disc
\- oAuth2ClientCredentials:
\- nnrf-disc
\- nnrf-disc:nf-instances:read-complete-profile
paths:
/nf-instances:
get:
summary: Search a collection of NF Instances
operationId: SearchNFInstances
tags:
\- NF Instances (Store)
parameters:
\- name: Accept-Encoding
in: header
description: Accept-Encoding, described in IETF RFC 7231
schema:
type: string
\- name: target-nf-type
in: query
description: Type of the target NF
required: true
schema:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/NFType\'
\- name: requester-nf-type
in: query
description: Type of the requester NF
required: true
schema:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/NFType\'
\- name: preferred-collocated-nf-types
in: query
description: collocated NF types that candidate NFs should preferentially
support
schema:
type: array
items:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/CollocatedNfType\'
minItems: 1
style: form
explode: false
\- name: requester-nf-instance-id
in: query
description: NfInstanceId of the requester NF
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
\- name: service-names
in: query
description: Names of the services offered by the NF
schema:
type: array
items:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/ServiceName\'
minItems: 1
uniqueItems: true
style: form
explode: false
\- name: requester-nf-instance-fqdn
in: query
description: FQDN of the requester NF
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
\- name: target-plmn-list
in: query
description: >
Id of the PLMN of either the target NF, or in SNPN scenario the Credentials
Holder
in the PLMN
content:
application/json:
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
minItems: 1
\- name: requester-plmn-list
in: query
description: Id of the PLMN where the NF issuing the Discovery request is
located
content:
application/json:
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
minItems: 1
\- name: target-nf-instance-id
in: query
description: Identity of the NF instance being discovered
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
\- name: target-nf-instance-id-list
in: query
description: Identities of the NF instances being discovered
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
minItems: 2
style: form
explode: false
\- name: target-nf-fqdn
in: query
description: FQDN of the NF instance being discovered
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
\- name: hnrf-uri
in: query
description: Uri of the home NRF
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
\- name: snssais
in: query
description: Slice info of the target NF
content:
application/json:
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
minItems: 1
\- name: requester-snssais
in: query
description: Slice info of the requester NF
content:
application/json:
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ExtSnssai\'
minItems: 1
\- name: plmn-specific-snssai-list
in: query
description: PLMN specific Slice info of the target NF
content:
application/json:
schema:
type: array
items:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/PlmnSnssai\'
minItems: 1
\- name: requester-plmn-specific-snssai-list
in: query
description: PLMN-specific slice info of the NF issuing the Discovery request
content:
application/json:
schema:
type: array
items:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/PlmnSnssai\'
minItems: 1
\- name: dnn
in: query
description: Dnn supported by the BSF, SMF or UPF
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
\- name: ipv4-index
in: query
description: The IPv4 Index supported by the candidate UPF.
content:
application/json:
schema:
\$ref: \'TS29503_Nudm_SDM.yaml#/components/schemas/IpIndex\'
\- name: ipv6-index
in: query
description: The IPv6 Index supported by the candidate UPF.
content:
application/json:
schema:
\$ref: \'TS29503_Nudm_SDM.yaml#/components/schemas/IpIndex\'
\- name: nsi-list
in: query
description: NSI IDs that are served by the services being discovered
schema:
type: array
items:
type: string
minItems: 1
style: form
explode: false
\- name: smf-serving-area
in: query
schema:
type: string
\- name: mbsmf-serving-area
in: query
schema:
type: string
\- name: tai
in: query
description: Tracking Area Identity
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
\- name: amf-region-id
in: query
description: AMF Region Identity
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AmfRegionId\'
\- name: amf-set-id
in: query
description: AMF Set Identity
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AmfSetId\'
\- name: guami
in: query
description: Guami used to search for an appropriate AMF
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Guami\'
\- name: supi
in: query
description: SUPI of the user
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
\- name: ue-ipv4-address
in: query
description: IPv4 address of the UE
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
\- name: ip-domain
in: query
description: IP domain of the UE, which supported by BSF
schema:
type: string
\- name: ue-ipv6-prefix
in: query
description: IPv6 prefix of the UE
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix\'
\- name: pgw-ind
in: query
description: Combined PGW-C and SMF or a standalone SMF
schema:
type: boolean
\- name: preferred-pgw-ind
in: query
description: Indicates combined PGW-C+SMF or standalone SMF are preferred
schema:
type: boolean
\- name: pgw
in: query
description: PGW FQDN of a combined PGW-C and SMF
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
\- name: pgw-ip
in: query
description: PGW IP Address of a combined PGW-C and SMF
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/IpAddr\'
\- name: gpsi
in: query
description: GPSI of the user
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
\- name: external-group-identity
in: query
description: external group identifier of the user
schema:
\$ref: \'TS29503_Nudm_SDM.yaml#/components/schemas/ExtGroupId\'
\- name: internal-group-identity
in: query
description: internal group identifier of the user
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/GroupId\'
\- name: pfd-data
in: query
description: PFD data
content:
application/json:
schema:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/PfdData\'
\- name: data-set
in: query
description: data set supported by the NF
schema:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/DataSetId\'
\- name: routing-indicator
in: query
description: routing indicator in SUCI
schema:
type: string
pattern: \'\^[0-9]{1,4}\$\'
\- name: group-id-list
in: query
description: Group IDs of the NFs being discovered
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfGroupId\'
minItems: 1
style: form
explode: false
\- name: dnai-list
in: query
description: Data network access identifiers of the NFs being discovered
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnai\'
minItems: 1
style: form
explode: false
\- name: pdu-session-types
in: query
description: list of PDU Session Type required to be supported by the target
NF
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PduSessionType\'
minItems: 1
style: form
explode: false
\- name: event-id-list
in: query
description: >
Analytics event(s) requested to be supported by the Nnwdaf_AnalyticsInfo
service
schema:
type: array
items:
\$ref: \'TS29520_Nnwdaf_AnalyticsInfo.yaml#/components/schemas/EventId\'
minItems: 1
style: form
explode: false
\- name: nwdaf-event-list
in: query
description: >
Analytics event(s) requested to be supported by the Nnwdaf_EventsSubscription
service.
schema:
type: array
items:
\$ref:
\'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/NwdafEvent\'
minItems: 1
style: form
explode: false
\- name: upf-event-list
in: query
description: >
Event(s) requested to be supported by the Nupf_EventExposure service.
schema:
type: array
items:
\$ref: \'TS29564_Nupf_EventExposure.yaml#/components/schemas/EventType\'
minItems: 1
style: form
explode: false
\- name: supported-features
in: query
description: Features required to be supported by the target NF
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
\- name: upf-iwk-eps-ind
in: query
description: UPF supporting interworking with EPS or not
schema:
type: boolean
\- name: chf-supported-plmn
in: query
description: PLMN ID supported by a CHF
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
\- name: preferred-locality
in: query
description: preferred target NF location
schema:
type: string
\- name: ext-preferred-locality
in: query
description: >
preferred target NF location
A map (list of key-value pairs) where the key of the map represents the
relative
priority, for the requester, of each locality description among the list of
locality
descriptions in this query parameter, encoded as \"1\" (highest priority\"),
\"2\", \"3\", ...,
\"n\" (lowest priority)
content:
application/json:
schema:
type: object
additionalProperties:
type: array
items:
\$ref:
\'TS29510_Nnrf_NFManagement.yaml#/components/schemas/LocalityDescription\'
minItems: 1
minProperties: 1
\- name: access-type
in: query
description: AccessType supported by the target NF
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AccessType\'
\- name: limit
in: query
description: Maximum number of NFProfiles to return in the response
required: false
schema:
type: integer
minimum: 1
\- name: required-features
in: query
description: Features required to be supported by the target NF
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
minItems: 1
style: form
explode: false
\- name: complex-query
in: query
description: the complex query condition expression
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ComplexQuery\'
\- name: max-payload-size
in: query
description: Maximum payload size of the response expressed in kilo octets
required: false
schema:
type: integer
maximum: 2000
default: 124
\- name: max-payload-size-ext
in: query
description: >
Extended query for maximum payload size of the response expressed in kilo
octets
required: false
schema:
type: integer
default: 124
\- name: atsss-capability
in: query
description: ATSSS Capability
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AtsssCapability\'
\- name: upf-ue-ip-addr-ind
in: query
description: UPF supporting allocating UE IP addresses/prefixes
schema:
type: boolean
\- name: client-type
in: query
description: Requested client type served by the NF
content:
application/json:
schema:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/ExternalClientType\'
\- name: lmf-id
in: query
description: LMF identification to be discovered
content:
application/json:
schema:
\$ref: \'TS29572_Nlmf_Location.yaml#/components/schemas/LMFIdentification\'
\- name: an-node-type
in: query
description: Requested AN node type served by the NF
content:
application/json:
schema:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/AnNodeType\'
\- name: rat-type
in: query
description: Requested RAT type served by the NF
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RatType\'
\- name: preferred-tai
in: query
description: preferred Tracking Area Identity
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
\- name: preferred-nf-instances
in: query
description: preferred NF Instances
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
minItems: 1
style: form
explode: false
\- name: If-None-Match
in: header
description: Validator for conditional requests, as described in IETF RFC
7232, 3.2
schema:
type: string
\- name: target-snpn
in: query
description: Target SNPN Identity, or the Credentials Holder in the SNPN
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid\'
\- name: requester-snpn-list
in: query
description: SNPN ID(s) of the NF instance issuing the Discovery request
content:
application/json:
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid\'
minItems: 1
\- name: af-ee-data
in: query
description: NEF exposured by the AF
content:
application/json:
schema:
\$ref:
\'TS29510_Nnrf_NFManagement.yaml#/components/schemas/AfEventExposureData\'
\- name: w-agf-info
in: query
description: UPF collocated with W-AGF
content:
application/json:
schema:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/WAgfInfo\'
\- name: tngf-info
in: query
description: UPF collocated with TNGF
content:
application/json:
schema:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/TngfInfo\'
\- name: twif-info
in: query
description: UPF collocated with TWIF
content:
application/json:
schema:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/TwifInfo\'
\- name: upf-select-epdg-info
in: query
description: The ePDG information to find a preferred UPF
content:
application/json:
schema:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/EpdgInfo\'
\- name: target-nf-set-id
in: query
description: Target NF Set ID
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
\- name: target-nf-service-set-id
in: query
description: Target NF Service Set ID
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfServiceSetId\'
\- name: nef-id
in: query
description: NEF ID
schema:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/NefId\'
\- name: notification-type
in: query
description: Notification Type
schema:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/NotificationType\'
\- name: n1-msg-class
in: query
description: N1 Message Class
schema:
\$ref: \'TS29518_Namf_Communication.yaml#/components/schemas/N1MessageClass\'
\- name: n2-info-class
in: query
description: N2 Information Class
schema:
\$ref:
\'TS29518_Namf_Communication.yaml#/components/schemas/N2InformationClass\'
\- name: serving-scope
in: query
description: areas that can be served by the target NF
schema:
type: array
items:
type: string
minItems: 1
style: form
explode: false
\- name: imsi
in: query
description: IMSI of the requester UE to search for an appropriate NF (e.g.
HSS, DCSF)
schema:
type: string
pattern: \'\^[0-9]{5,15}\$\'
\- name: ims-private-identity
in: query
description: IMPI of the requester UE to search for a target HSS or DCSF
schema:
type: string
\- name: ims-public-identity
in: query
description: IMS Public Identity of the requester UE to search for a target
HSS or DCSF
schema:
type: string
\- name: msisdn
in: query
description: MSISDN of the requester UE to search for a target HSS or DCSF
schema:
type: string
\- name: preferred-api-versions
in: query
description: Preferred API version of the services to be discovered
content:
application/json:
schema:
description: A map (list of key-value pairs) where ServiceName serves as key
type: object
additionalProperties:
type: string
minProperties: 1
\- name: v2x-support-ind
in: query
description: PCF supports V2X
schema:
type: boolean
\- name: redundant-gtpu
in: query
description: UPF supports redundant gtp-u to be discovered
schema:
type: boolean
\- name: redundant-transport
in: query
description: UPF supports redundant transport path to be discovered
schema:
type: boolean
\- name: ipups
in: query
description: UPF which is configured for IPUPS functionality to be discovered
schema:
type: boolean
\- name: sxa-ind
in: query
description: UPF which is configured to support sxa interface
schema:
type: boolean
\- name: scp-domain-list
in: query
description: SCP domains the target SCP or SEPP belongs to
schema:
type: array
items:
type: string
minItems: 1
style: form
explode: false
\- name: address-domain
in: query
description: Address domain reachable through the SCP
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
\- name: ipv4-addr
in: query
description: IPv4 address reachable through the SCP
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
\- name: ipv6-prefix
in: query
description: IPv6 prefix reachable through the SCP
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix\'
\- name: served-nf-set-id
in: query
description: NF Set ID served by the SCP
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
\- name: remote-plmn-id
in: query
description: Id of the PLMN reachable through the SCP or SEPP
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
\- name: remote-snpn-id
in: query
description: Id of the SNPN reachable through the SCP or SEPP
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid\'
\- name: data-forwarding
in: query
description: UPF Instance(s) configured for data forwarding are requested
schema:
type: boolean
\- name: preferred-full-plmn
in: query
description: NF Instance(s) serving the full PLMN are preferred
schema:
type: boolean
\- name: requester-features
in: query
description: >
Features supported by the NF Service Consumer that is invoking
the Nnrf_NFDiscovery service
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
\- name: realm-id
in: query
description: realm-id to search for an appropriate UDSF
schema:
type: string
\- name: storage-id
in: query
description: storage-id to search for an appropriate UDSF
schema:
type: string
\- name: vsmf-support-ind
in: query
description: V-SMF capability supported by the target NF instance(s)
schema:
type: boolean
\- name: ismf-support-ind
in: query
description: I-SMF capability supported by the target NF instance(s)
schema:
type: boolean
\- name: nrf-disc-uri
in: query
description: Uri of the NRF holding the NF profile of a target NF Instance
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
\- name: preferred-vendor-specific-features
in: query
description: Preferred vendor specific features of the services to be
discovered
content:
application/json:
schema:
description: A map (list of key-value pairs) where ServiceName serves as key
type: object
additionalProperties:
description: >
A map (list of key-value pairs) where IANA-assigned SMI Network Management
Private Enterprise Codes serves as key
type: object
additionalProperties:
type: array
items:
\$ref:
\'TS29510_Nnrf_NFManagement.yaml#/components/schemas/VendorSpecificFeature\'
minItems: 1
minProperties: 1
minProperties: 1
\- name: preferred-vendor-specific-nf-features
in: query
description: Preferred vendor specific features of the network function to be
discovered
content:
application/json:
schema:
description: >
A map (list of key-value pairs) where IANA-assigned SMI Network Management
Private
Enterprise Codes serves as key
type: object
additionalProperties:
type: array
items:
\$ref:
\'TS29510_Nnrf_NFManagement.yaml#/components/schemas/VendorSpecificFeature\'
minItems: 1
minProperties: 1
\- name: required-pfcp-features
in: query
description: PFCP features required to be supported by the target UPF
schema:
type: string
\- name: home-pub-key-id
in: query
description: >
Indicates the Home Network Public Key ID which shall be able to be served
by the NF instance
schema:
type: integer
\- name: prose-support-ind
in: query
description: PCF supports ProSe Capability
schema:
type: boolean
\- name: analytics-aggregation-ind
in: query
description: analytics aggregation is supported by NWDAF or not
schema:
type: boolean
\- name: serving-nf-set-id
in: query
description: NF Set Id served by target NF
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
\- name: serving-nf-type
in: query
description: NF type served by the target NF
schema:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/NFType\'
\- name: ml-analytics-info-list
in: query
description: Lisf of ML Analytics Filter information of
Nnwdaf_MLModelProvision service
content:
application/json:
schema:
type: array
items:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/MlAnalyticsInfo\'
minItems: 1
\- name: analytics-metadata-prov-ind
in: query
description: analytics matadata provisioning is supported by NWDAF or not
schema:
type: boolean
\- name: nsacf-capability
in: query
description: the service capability supported by the target NSACF
schema:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/NsacfCapability\'
\- name: mbs-session-id-list
in: query
description: List of MBS Session ID(s)
content:
application/json:
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MbsSessionId\'
minItems: 1
\- name: area-session-id
in: query
description: Area Session ID
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/AreaSessionId\'
\- name: gmlc-number
in: query
description: The GMLC Number supported by the GMLC
schema:
type: string
pattern: \'\^[0-9]{5,15}\$\'
\- name: upf-n6-ip
in: query
description: N6 IP address of PSA UPF supported by the EASDF
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/IpAddr\'
\- name: tai-list
in: query
description: Tracking Area Identifiers of the NFs being discovered
content:
application/json:
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
minItems: 1
\- name: nf-tai-list-ind
in: query
description: the NF service consumer supports candidate nfs supporting a
subset of TAIs
schema:
type: boolean
enum:
\- true
\- name: preferences-precedence
in: query
description: >
Indicates the precedence of the preference query parameters (from higher to
lower)
schema:
type: array
items:
type: string
minItems: 2
style: form
explode: false
\- name: support-onboarding-capability
in: query
description: Indicating the support for onboarding.
schema:
type: boolean
default: false
\- name: uas-nf-functionality-ind
in: query
description: UAS NF functionality is supported by NEF or not
schema:
type: boolean
\- name: multi-mem-af-sess-qos-ind
in: query
description: Multi-member AF session with required QoS is supported by NEF or
not
schema:
type: boolean
enum:
\- true
\- name: member-ue-sel-assist-ind
in: query
description: member UE selection assistance functionality is supported by NEF
or not
schema:
type: boolean
enum:
\- true
\- name: v2x-capability
in: query
description: indicates the V2X capability that the target PCF needs to
support.
content:
application/json:
schema:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/V2xCapability\'
\- name: prose-capability
in: query
description: indicates the ProSe capability that the target PCF needs to
support.
content:
application/json:
schema:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/ProSeCapability\'
\- name: shared-data-id
in: query
description: Identifier of shared data stored in the NF being discovered
schema:
\$ref: \'TS29503_Nudm_SDM.yaml#/components/schemas/SharedDataId\'
\- name: target-hni
in: query
description: Home Network Identifier query.
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
\- name: target-nw-resolution
in: query
description: Resolution of the identity of the target PLMN based on the GPSI
of the UE
schema:
type: boolean
\- name: exclude-nfinst-list
in: query
description: NF Instance IDs to be excluded from the NF Discovery procedure
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
minItems: 1
style: form
explode: false
\- name: exclude-nfservinst-list
in: query
description: NF service instance IDs to be excluded from the NF Discovery
procedure
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/NfServiceInstance\'
minItems: 1
\- name: exclude-nfserviceset-list
in: query
description: NF Service Set IDs to be excluded from the NF Discovery procedure
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfServiceSetId\'
minItems: 1
style: form
explode: false
\- name: exclude-nfset-list
in: query
description: NF Set IDs to be excluded from the NF Discovery procedure
schema:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
minItems: 1
style: form
explode: false
\- name: preferred-analytics-delays
in: query
description: Preferred analytics delays supported by the NWDAF to be
discovered
content:
application/json:
schema:
description: >
A map (list of key-value pairs) where EventId or NwdafEvent serves as key
type: object
additionalProperties:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DurationSec\'
minProperties: 1
\- name: high-latency-com
in: query
description: Indicating the support for High Latency communication.
schema:
type: boolean
enum:
\- true
\- name: complete-profile
in: query
description: request to discover the complete profile of NF instances
schema:
type: boolean
enum:
\- true
\- name: n32-purposes
in: query
description: N32 purposes to be supported by the SEPP
schema:
type: array
items:
\$ref: \'TS29573_N32_Handshake.yaml#/components/schemas/N32Purpose\'
minItems: 1
style: form
explode: false
\- name: preferred-features
in: query
description: Preferred features to be supported by the target Network
Function.
content:
application/json:
schema:
description: >
A map (list of key-value pairs) where Service Name serves as the key.
type: object
additionalProperties:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
minProperties: 1
\- name: remote-plmn-id-roaming
in: query
description: Id of the remote PLMN served by the target NF service producer
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
\- name: pru-tai
in: query
description: LMF(s) serving the TAI with PRU(s) existence
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
\- name: pru-support-ind
in: query
description: Indicating the support of PRU function
schema:
type: boolean
\- name: af-data
in: query
description: events supported by the trusted AFs being discovered
content:
application/json:
schema:
\$ref: \'#/components/schemas/AfData\'
\- name: ml-accuracy-checking-ind
in: query
description: Indicating the support for ML Model Accuracy checking.
schema:
type: boolean
enum:
\- true
\- name: analytics-accuracy-checking-ind
in: query
description: Indicating the support for Analytics Accuracy checking.
schema:
type: boolean
enum:
\- true
\- name: a2x-support-ind
in: query
description: PCF supports A2X
schema:
type: boolean
\- name: a2x-capability
in: query
description: indicates the A2X capability that the target PCF needs to
support.
content:
application/json:
schema:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/A2xCapability\'
\- name: ml-model-storage-ind
in: query
description: Indicating the support for ML model storage capability.
schema:
type: boolean
enum:
\- true
\- name: data-subscription-relocation-support-ind
in: query
description: Indicating the support for relocation of data subscription.
schema:
type: boolean
enum:
\- true
\- name: ims-domain-name
in: query
description: Indicating the IMS domain name to search for a target DCSF.
schema:
type: string
\- name: media-capability-list
in: query
description: Indicating the media capability list to search for a target MF,
MRF or MRFP.
schema:
type: array
items:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/MediaCapability\'
minItems: 1
style: form
explode: false
\- name: roaming-exchange-ind
in: query
description: Indicating the support for roaming exchange.
schema:
type: boolean
enum:
\- true
\- name: rangingSlPos-support-ind
in: query
description: PCF or LMF supports ranging and sidelink positioning Capability
schema:
type: boolean
enum:
\- true
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/SearchResult\'
links:
search:
operationId: RetrieveStoredSearch
parameters:
searchId: \$response.body#/searchId
description: >
The \'searchId\' parameter returned in the response can be used as the
\'searchId\' parameter in the GET request to \'/searches/{searchId}\'
completeSearch:
operationId: RetrieveCompleteSearch
parameters:
searchId: \$response.body#/searchId
description: >
The \'searchId\' parameter returned in the response can be used as the
\'searchId\' parameter in the GET request to \'/searches/{searchId}/complete\'
headers:
Cache-Control:
description: Cache-Control containing max-age, described in IETF RFC 7234, 5.2
schema:
type: string
ETag:
description: Entity Tag containing a strong validator, described in IETF RFC
7232, 2.3
schema:
type: string
Content-Encoding:
description: Content-Encoding, described in IETF RFC 7231
schema:
type: string
\'307\':
description: Temporary Redirect
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RedirectResponse\'
headers:
Location:
description: The URI pointing to the resource located on the redirect target
NRF
required: true
schema:
type: string
\'308\':
description: Permanent Redirect
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RedirectResponse\'
headers:
Location:
description: The URI pointing to the resource located on the redirect target
NRF
required: true
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'501\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/501\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/searches/{searchId}:
get:
operationId: RetrieveStoredSearch
tags:
\- Stored Search (Document)
parameters:
\- \$ref: \'#/components/parameters/searchId\'
\- name: Accept-Encoding
in: header
description: Accept-Encoding, described in IETF RFC 7231
schema:
type: string
responses:
\'200\':
\$ref: \'#/components/responses/200\'
\'307\':
description: Temporary Redirect
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RedirectResponse\'
headers:
Location:
description: The URI pointing to the resource located on the redirect target
NRF
required: true
schema:
type: string
\'308\':
description: Permanent Redirect
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RedirectResponse\'
headers:
Location:
description: The URI pointing to the resource located on the redirect target
NRF
required: true
schema:
type: string
/searches/{searchId}/complete:
get:
operationId: RetrieveCompleteSearch
tags:
\- Complete Stored Search (Document)
parameters:
\- \$ref: \'#/components/parameters/searchId\'
\- name: Accept-Encoding
in: header
description: Accept-Encoding, described in IETF RFC 7231
schema:
type: string
responses:
\'200\':
\$ref: \'#/components/responses/200\'
\'307\':
description: Temporary Redirect
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RedirectResponse\'
headers:
Location:
description: The URI pointing to the resource located on the redirect target
NRF
required: true
schema:
type: string
\'308\':
description: Permanent Redirect
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RedirectResponse\'
headers:
Location:
description: The URI pointing to the resource located on the redirect target
NRF
required: true
schema:
type: string
/scp-domain-routing-info:
get:
operationId: SCPDomainRoutingInfoGet
tags:
\- SCP Domain Routing Information (Document)
security:
\- {}
\- oAuth2ClientCredentials:
\- nnrf-disc
\- oAuth2ClientCredentials:
\- nnrf-disc
\- nnrf-disc:scp-domain:read
parameters:
\- name: local
in: query
description: Indication of local SCP Domain Routing Information
required: false
schema:
type: boolean
default: false
\- name: Accept-Encoding
in: header
description: Accept-Encoding, described in IETF RFC 7231
schema:
type: string
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/ScpDomainRoutingInformation\'
headers:
Content-Encoding:
description: Content-Encoding, described in IETF RFC 7231
schema:
type: string
\'307\':
description: Temporary Redirect
headers:
Location:
description: The URI pointing to the resource located on the redirect target
NRF
required: true
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'501\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/501\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/scp-domain-routing-info-subs:
post:
summary: Create a new subscription
operationId: ScpDomainRoutingInfoSubscribe
tags:
\- SCP Domain Routing Information Subscriptions (Collection)
security:
\- {}
\- oAuth2ClientCredentials:
\- nnrf-disc
\- oAuth2ClientCredentials:
\- nnrf-disc
\- nnrf-disc:scp-domain-subs:write
parameters:
\- name: Content-Encoding
in: header
description: Content-Encoding, described in IETF RFC 7231
schema:
type: string
\- name: Accept-Encoding
in: header
description: Accept-Encoding, described in IETF RFC 7231
schema:
type: string
requestBody:
content:
application/json:
schema:
\$ref: \'#/components/schemas/ScpDomainRoutingInfoSubscription\'
required: true
responses:
\'201\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/ScpDomainRoutingInfoSubscription\'
headers:
Location:
description: >
Contains the URI of the newly created resource, according to the structure:
{apiRoot}/nnrf-disc/v1/scp-domain-routing-info-subs/{subscriptionID}
required: true
schema:
type: string
Accept-Encoding:
description: Accept-Encoding, described in IETF RFC 7694
schema:
type: string
Content-Encoding:
description: Content-Encoding, described in IETF RFC 7231
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'501\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/501\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
onScpDomainRoutingInformationChange:
\'{\$request.body#/callbackUri}\':
post:
parameters:
\- name: Content-Encoding
in: header
description: Content-Encoding, described in IETF RFC 7231
schema:
type: string
requestBody:
description: Notification Payload
content:
application/json:
schema:
\$ref: \'#/components/schemas/ScpDomainRoutingInfoNotification\'
responses:
\'204\':
description: Expected response to a successful callback processing
headers:
Accept-Encoding:
description: Accept-Encoding, described in IETF RFC 7694
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'501\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/501\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/scp-domain-routing-info-subs/{subscriptionID}:
delete:
summary: Deletes a subscription
operationId: ScpDomainRoutingInfoUnsubscribe
tags:
\- Individual SCP Domain Routing Information Subscription (Document)
security:
\- {}
\- oAuth2ClientCredentials:
\- nnrf-disc
\- oAuth2ClientCredentials:
\- nnrf-disc
\- nnrf-disc:scp-domain-subs:write
parameters:
\- name: subscriptionID
in: path
required: true
description: Unique ID of the subscription to remove
schema:
type: string
responses:
\'204\':
description: Expected response to a successful subscription removal
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'501\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/501\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'/oauth2/token\'
scopes:
nnrf-disc: Access to the Nnrf_NFDiscovery API
nnrf-disc:scp-domain:read: Access to read the scp-domain-routing-info resource
nnrf-disc:scp-domain-subs:write: Access to create/delete a scp-domain
subscription resource
nnrf-disc:nf-instances:read-complete-profile: >
Access to the Nnrf_NFDiscovery API enabling the discovery of the complete
profile
of NF instances
parameters:
searchId:
name: searchId
in: path
description: Id of a stored search
required: true
schema:
type: string
responses:
\'200\':
description: Expected response to a valid request
content:
application/json:
schema:
\$ref: \'#/components/schemas/StoredSearchResult\'
headers:
Cache-Control:
description: Cache-Control containing max-age, described in IETF RFC 7234, 5.2
schema:
type: string
ETag:
description: Entity Tag containing a strong validator, described in IETF RFC
7232, 2.3
schema:
type: string
Content-Encoding:
description: Content-Encoding, described in IETF RFC 7231
schema:
type: string
schemas:
SearchResult:
description: Contains the list of NF Profiles returned in a Discovery response
type: object
required:
\- nfInstances
properties:
validityPeriod:
type: integer
nfInstances:
type: array
items:
\$ref: \'#/components/schemas/NFProfile\'
completeNfInstances:
type: array
items:
\$ref: \'#/components/schemas/NFProfile\'
minItems: 1
searchId:
type: string
numNfInstComplete:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uint32\'
preferredSearch:
\$ref: \'#/components/schemas/PreferredSearch\'
nrfSupportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
nfInstanceList:
description: List of matching NF instances. The key of the map is the NF
instance ID.
type: object
additionalProperties:
\$ref: \'#/components/schemas/NfInstanceInfo\'
minProperties: 1
searchResultInfo:
\$ref: \'#/components/schemas/SearchResultInfo\'
alteredPriorityInd:
type: boolean
noProfileMatchInfo:
\$ref: \'#/components/schemas/NoProfileMatchInfo\'
ignoredQueryParams:
type: array
items:
type: string
minItems: 1
StoredSearchResult:
description: >
Contains a complete search result (i.e. a number of discovered NF Instances),
stored by NRF as a consequence of a prior search result
type: object
required:
\- nfInstances
properties:
nfInstances:
type: array
items:
\$ref: \'#/components/schemas/NFProfile\'
completeNfInstances:
type: array
items:
\$ref: \'#/components/schemas/NFProfile\'
minItems: 1
NFProfile:
description: Information of an NF Instance discovered by the NRF
type: object
required:
\- nfInstanceId
\- nfType
\- nfStatus
properties:
nfInstanceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
nfInstanceName:
type: string
nfType:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/NFType\'
nfStatus:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/NFStatus\'
collocatedNfInstances:
type: array
items:
\$ref:
\'TS29510_Nnrf_NFManagement.yaml#/components/schemas/CollocatedNfInstance\'
minItems: 1
plmnList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
minItems: 1
sNssais:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ExtSnssai\'
minItems: 1
perPlmnSnssaiList:
type: array
items:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/PlmnSnssai\'
minItems: 1
nsiList:
type: array
items:
type: string
minItems: 1
fqdn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
interPlmnFqdn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
ipv4Addresses:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
minItems: 1
ipv6Addresses:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr\'
minItems: 1
allowedPlmns:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
minItems: 1
allowedSnpns:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid\'
minItems: 1
allowedNfTypes:
type: array
items:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/NFType\'
minItems: 1
allowedNfDomains:
type: array
items:
type: string
minItems: 1
allowedNssais:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ExtSnssai\'
minItems: 1
allowedRuleSet:
description: A map (list of key-value pairs) where a valid JSON pointer Id
serves as key
type: object
additionalProperties:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/RuleSet\'
minProperties: 1
capacity:
type: integer
minimum: 0
maximum: 65535
load:
type: integer
minimum: 0
maximum: 100
loadTimeStamp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
locality:
type: string
extLocality:
description: >
A map (list of key-value pairs) where a (unique) valid JSON string serves
as key representing a type of locality
type: object
additionalProperties:
type: string
minProperties: 1
priority:
type: integer
minimum: 0
maximum: 65535
udrInfo:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/UdrInfo\'
udrInfoList:
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of UdrInfo
type: object
additionalProperties:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/UdrInfo\'
minProperties: 1
udmInfo:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/UdmInfo\'
udmInfoList:
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of UdmInfo
type: object
additionalProperties:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/UdmInfo\'
minProperties: 1
ausfInfo:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/AusfInfo\'
ausfInfoList:
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of AusfInfo
type: object
additionalProperties:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/AusfInfo\'
minProperties: 1
amfInfo:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/AmfInfo\'
amfInfoList:
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of AmfInfo
type: object
additionalProperties:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/AmfInfo\'
minProperties: 1
smfInfo:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/SmfInfo\'
smfInfoList:
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of SmfInfo
type: object
additionalProperties:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/SmfInfo\'
minProperties: 1
upfInfo:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/UpfInfo\'
upfInfoList:
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of UpfInfo
type: object
additionalProperties:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/UpfInfo\'
minProperties: 1
pcfInfo:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/PcfInfo\'
pcfInfoList:
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of PcfInfo
type: object
additionalProperties:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/PcfInfo\'
minProperties: 1
bsfInfo:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/BsfInfo\'
bsfInfoList:
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of BsfInfo
type: object
additionalProperties:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/BsfInfo\'
minProperties: 1
chfInfo:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/ChfInfo\'
chfInfoList:
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of ChfInfo
type: object
additionalProperties:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/ChfInfo\'
minProperties: 1
udsfInfo:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/UdsfInfo\'
udsfInfoList:
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of UdsfInfo
type: object
additionalProperties:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/UdsfInfo\'
minProperties: 1
nwdafInfo:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/NwdafInfo\'
nwdafInfoList:
type: object
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of NwdafInfo
additionalProperties:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/NwdafInfo\'
minProperties: 1
nefInfo:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/NefInfo\'
pcscfInfoList:
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of PcscfInfo
type: object
additionalProperties:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/PcscfInfo\'
minProperties: 1
hssInfoList:
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of HssInfo
type: object
additionalProperties:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/HssInfo\'
minProperties: 1
customInfo:
type: object
recoveryTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
nfServicePersistence:
type: boolean
default: false
nfServices:
deprecated: true
type: array
items:
\$ref: \'#/components/schemas/NFService\'
minItems: 1
nfServiceList:
description: >
A map (list of key-value pairs) where serviceInstanceId serves as key of
NFService
type: object
additionalProperties:
\$ref: \'#/components/schemas/NFService\'
minProperties: 1
defaultNotificationSubscriptions:
type: array
items:
\$ref:
\'TS29510_Nnrf_NFManagement.yaml#/components/schemas/DefaultNotificationSubscription\'
lmfInfo:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/LmfInfo\'
gmlcInfo:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/GmlcInfo\'
snpnList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid\'
minItems: 1
nfSetIdList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
minItems: 1
servingScope:
type: array
items:
type: string
minItems: 1
lcHSupportInd:
type: boolean
default: false
olcHSupportInd:
type: boolean
default: false
nfSetRecoveryTimeList:
description: A map (list of key-value pairs) where NfSetId serves as key of
DateTime
type: object
additionalProperties:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
minProperties: 1
serviceSetRecoveryTimeList:
description: >
A map (list of key-value pairs) where NfServiceSetId serves as key of DateTime
type: object
additionalProperties:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
minProperties: 1
scpDomains:
type: array
items:
type: string
minItems: 1
scpInfo:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/ScpInfo\'
seppInfo:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/SeppInfo\'
vendorId:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/VendorId\'
supportedVendorSpecificFeatures:
description: >
The key of the map is the IANA-assigned SMI Network Management Private
Enterprise Codes
type: object
additionalProperties:
type: array
items:
\$ref:
\'TS29510_Nnrf_NFManagement.yaml#/components/schemas/VendorSpecificFeature\'
minItems: 1
minProperties: 1
aanfInfoList:
type: object
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of AanfInfo
additionalProperties:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/AanfInfo\'
minProperties: 1
mfafInfo:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/MfafInfo\'
easdfInfoList:
type: object
description: >
A map(list of key-value pairs) where a (unique) valid JSON string
serves as key of EasdfInfo
additionalProperties:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/EasdfInfo\'
minProperties: 1
dccfInfo:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/DccfInfo\'
nsacfInfoList:
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of NsacfInfo
type: object
additionalProperties:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/NsacfInfo\'
minProperties: 1
mbSmfInfoList:
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of MbSmfInfo
type: object
additionalProperties:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/MbSmfInfo\'
minProperties: 1
tsctsfInfoList:
type: object
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of TsctsfInfo
additionalProperties:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/TsctsfInfo\'
minProperties: 1
mbUpfInfoList:
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of MbUpfInfo
type: object
additionalProperties:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/MbUpfInfo\'
minProperties: 1
trustAfInfo:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/TrustAfInfo\'
nssaafInfo:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/NssaafInfo\'
hniList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
minItems: 1
iwmscInfo:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/IwmscInfo\'
mnpfInfo:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/MnpfInfo\'
smsfInfo:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/SmsfInfo\'
dcsfInfoList:
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of DcsfInfo
type: object
additionalProperties:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/DcsfInfo\'
mrfInfoList:
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of MrfInfo
type: object
additionalProperties:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/MrfInfo\'
mrfpInfoList:
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of MrfpInfo
type: object
additionalProperties:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/MrfpInfo\'
mfInfoList:
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of MfInfo
type: object
additionalProperties:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/MfInfo\'
adrfInfoList:
type: object
description: >
A map (list of key-value pairs) where a (unique) valid JSON string
serves as key of AdrfInfo
additionalProperties:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/AdrfInfo\'
minProperties: 1
selectionConditions:
\$ref:
\'TS29510_Nnrf_NFManagement.yaml#/components/schemas/SelectionConditions\'
NFService:
description: >
Information of a given NF Service Instance; it is part of the NFProfile
of an NF Instance discovered by the NRF
type: object
required:
\- serviceInstanceId
\- serviceName
\- versions
\- scheme
\- nfServiceStatus
properties:
serviceInstanceId:
type: string
serviceName:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/ServiceName\'
versions:
type: array
items:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/NFServiceVersion\'
minItems: 1
scheme:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/UriScheme\'
nfServiceStatus:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/NFServiceStatus\'
fqdn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
interPlmnFqdn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
ipEndPoints:
type: array
items:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/IpEndPoint\'
minItems: 1
apiPrefix:
type: string
callbackUriPrefix:
type: string
defaultNotificationSubscriptions:
type: array
items:
\$ref:
\'TS29510_Nnrf_NFManagement.yaml#/components/schemas/DefaultNotificationSubscription\'
minItems: 1
allowedPlmns:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
minItems: 1
allowedSnpns:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid\'
minItems: 1
allowedNfTypes:
type: array
items:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/NFType\'
minItems: 1
allowedNfDomains:
type: array
items:
type: string
minItems: 1
allowedNssais:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ExtSnssai\'
minItems: 1
capacity:
type: integer
minimum: 0
maximum: 65535
load:
type: integer
minimum: 0
maximum: 100
loadTimeStamp:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
priority:
type: integer
minimum: 0
maximum: 65535
recoveryTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
supportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
nfServiceSetIdList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfServiceSetId\'
minItems: 1
sNssais:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ExtSnssai\'
minItems: 1
perPlmnSnssaiList:
type: array
items:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/PlmnSnssai\'
minItems: 1
vendorId:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/VendorId\'
supportedVendorSpecificFeatures:
description: >
The key of the map is the IANA-assigned SMI Network Management Private
Enterprise Codes
type: object
additionalProperties:
type: array
items:
\$ref:
\'TS29510_Nnrf_NFManagement.yaml#/components/schemas/VendorSpecificFeature\'
minItems: 1
minProperties: 1
oauth2Required:
type: boolean
allowedOperationsPerNfType:
description: A map (list of key-value pairs) where NF Type serves as key
type: object
additionalProperties:
type: array
items:
type: string
minItems: 1
minProperties: 1
allowedOperationsPerNfInstance:
description: A map (list of key-value pairs) where NF Instance Id serves as
key
type: object
additionalProperties:
type: array
items:
type: string
minItems: 1
minProperties: 1
allowedOperationsPerNfInstanceOverrides:
type: boolean
default: false
allowedScopesRuleSet:
description: A map (list of key-value pairs) where a valid JSON pointer Id
serves as key
type: object
additionalProperties:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/RuleSet\'
minProperties: 1
selectionConditions:
\$ref:
\'TS29510_Nnrf_NFManagement.yaml#/components/schemas/SelectionConditions\'
PreferredSearch:
description: >
Contains information on whether the returned NFProfiles match the preferred
query parameters
type: object
properties:
preferredTaiMatchInd:
type: boolean
default: false
preferredFullPlmnMatchInd:
type: boolean
default: false
preferredApiVersionsMatchInd:
type: boolean
otherApiVersionsInd:
type: boolean
preferredLocalityMatchInd:
type: boolean
default: false
otherLocalityInd:
type: boolean
default: false
preferredVendorSpecificFeaturesInd:
type: boolean
default: false
preferredCollocatedNfTypeInd:
type: boolean
default: false
preferredPgwMatchInd:
type: boolean
preferredAnalyticsDelaysInd:
type: boolean
preferredFeaturesMatchInd:
type: boolean
noPreferredFeaturesInd:
type: boolean
NfInstanceInfo:
description: Contains information on an NF profile matching a discovery
request
type: object
properties:
nrfDiscApiUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
preferredSearch:
\$ref: \'#/components/schemas/PreferredSearch\'
nrfAlteredPriorities:
description: >
The key of the map is the JSON Pointer of the priority IE in the NFProfile
data type
that is altered by the NRF
type: object
additionalProperties:
type: integer
minimum: 0
maximum: 65535
minProperties: 1
nrfSupportedFeatures:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
ScpDomainRoutingInformation:
description: SCP Domain Routing Information
type: object
required:
\- scpDomainList
properties:
scpDomainList:
description: \|
This IE shall contain a map of SCP domain interconnection information, where
the key of the map is a SCP domain. The value of each entry shall be the
interconnectivity information of the the SCP domain indicated by the key.
An empty map indicates that there is no SCP domain currently registered in
the NRF.
type: object
additionalProperties:
\$ref: \'#/components/schemas/ScpDomainConnectivity\'
ScpDomainConnectivity:
description: SCP Domain Connectivity Information
type: object
required:
\- connectedScpDomainList
properties:
connectedScpDomainList:
type: array
items:
type: string
ScpDomainRoutingInfoSubscription:
description: SCP Domain Routing Information Subscription
type: object
required:
\- callbackUri
properties:
callbackUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
validityTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
reqInstanceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
localInd:
type: boolean
default: false
ScpDomainRoutingInfoNotification:
description: SCP Domain Routing Information Notification
type: object
required:
\- routingInfo
properties:
routingInfo:
\$ref: \'#/components/schemas/ScpDomainRoutingInformation\'
localInd:
type: boolean
default: false
NfServiceInstance:
description: NF service instance
type: object
oneOf:
\- required: [ nfInstanceId ]
\- required: [ nfServiceSetId ]
properties:
serviceInstanceId:
type: string
nfInstanceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
nfServiceSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfServiceSetId\'
NoProfileMatchInfo:
description: Provides the reason for not finding NF matching the search
criteria
type: object
required:
\- reason
properties:
reason:
\$ref: \'#/components/schemas/NoProfileMatchReason\'
queryParamCombinationList:
type: array
items:
\$ref: \'#/components/schemas/QueryParamCombination\'
minItems: 1
QueryParamCombination:
description: Contains a list of Query Parameters
type: object
required:
\- queryParams
properties:
queryParams:
type: array
items:
\$ref: \'#/components/schemas/QueryParameter\'
minItems: 1
QueryParameter:
description: Contains the name and value of a query parameter
type: object
required:
\- name
\- value
properties:
name:
type: string
value:
type: string
NoProfileMatchReason:
description: No Profile Match Reason
anyOf:
\- type: string
enum:
\- REQUESTER_PLMN_NOT_ALLOWED
\- TARGET_NF_SUSPENDED
\- TARGET_NF_UNDISCOVERABLE
\- QUERY_PARAMS_COMBINATION_NO_MATCH
\- UNSPECIFIED
\- type: string
AfData:
description: Contains information supported by the trusted AF
type: object
properties:
afEvents:
type: array
items:
\$ref: \'TS29517_Naf_EventExposure.yaml#/components/schemas/AfEvent\'
minItems: 1
taiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
minItems: 1
taiRangeList:
type: array
items:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/TaiRange\'
minItems: 1
required:
\- afEvents
SearchResultInfo:
description: Contains additional information to the search result
type: object
properties:
unsatisfiedTaiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Tai\'
minItems: 1
# A.4 Nnrf_AccessToken API (NRF OAuth2 Authorization)
openapi: 3.0.0
info:
version: \'1.2.1\'
title: \'NRF OAuth2\'
description: \|
NRF OAuth2 Authorization.
© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.510 V17.7.0; 5G System; Network Function Repository
Services; Stage 3
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.510/\'
paths:
/oauth2/token:
post:
summary: Access Token Request
operationId: AccessTokenRequest
tags:
\- Access Token Request
parameters:
\- name: Content-Encoding
in: header
description: Content-Encoding, described in IETF RFC 7231
schema:
type: string
\- name: Accept-Encoding
in: header
description: Accept-Encoding, described in IETF RFC 7231
schema:
type: string
requestBody:
content:
application/x-www-form-urlencoded:
schema:
\$ref: \'#/components/schemas/AccessTokenReq\'
encoding:
requesterPlmn:
contentType: application/json
requesterPlmnList:
contentType: application/json
requesterSnssaiList:
contentType: application/json
requesterSnpnList:
contentType: application/json
targetPlmn:
contentType: application/json
targetSnpn:
contentType: application/json
targetSnssaiList:
contentType: application/json
targetNsiList:
style: form
explode: true
required: true
responses:
\'200\':
description: Successful Access Token Request
content:
application/json:
schema:
\$ref: \'#/components/schemas/AccessTokenRsp\'
headers:
Cache-Control:
\$ref: \'#/components/headers/cache-control\'
Pragma:
\$ref: \'#/components/headers/pragma\'
Accept-Encoding:
description: Accept-Encoding, described in IETF RFC 7694
schema:
type: string
Content-Encoding:
description: Content-Encoding, described in IETF RFC 7231
schema:
type: string
\'307\':
description: Temporary Redirect
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RedirectResponse\'
headers:
Location:
description: The URI pointing to the resource located on the redirect target
NRF
required: true
schema:
type: string
\'308\':
description: Permanent Redirect
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RedirectResponse\'
headers:
Location:
description: The URI pointing to the resource located on the redirect target
NRF
required: true
schema:
type: string
\'400\':
description: Error in the Access Token Request
content:
application/json:
schema:
\$ref: \'#/components/schemas/AccessTokenErr\'
application/problem+json: # error originated by an SCP or SEPP
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
headers:
Cache-Control:
\$ref: \'#/components/headers/cache-control\'
Pragma:
\$ref: \'#/components/headers/pragma\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'501\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/501\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
components:
headers:
cache-control:
required: true
schema:
type: string
enum:
\- no-store
pragma:
required: true
schema:
type: string
enum:
\- no-cache
schemas:
AccessTokenReq:
description: Contains information related to the access token request
type: object
required:
\- grant_type
\- nfInstanceId
\- scope
properties:
grant_type:
type: string
enum:
\- client_credentials
nfInstanceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
nfType:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/NFType\'
targetNfType:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/NFType\'
scope:
type: string
pattern: \'\^([a-zA-Z0-9_:-]+)( [a-zA-Z0-9_:-]+)*\$\'
targetNfInstanceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
requesterPlmn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
requesterPlmnList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
minItems: 2
requesterSnssaiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
minItems: 1
requesterFqdn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
requesterSnpnList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid\'
minItems: 1
targetPlmn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
targetSnpn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid\'
targetSnssaiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
minItems: 1
targetNsiList:
type: array
items:
type: string
minItems: 1
targetNfSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
targetNfServiceSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfServiceSetId\'
hnrfAccessTokenUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
sourceNfInstanceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
AccessTokenRsp:
description: Contains information related to the access token response
type: object
required:
\- access_token
\- token_type
properties:
access_token:
type: string
description: >
JWS Compact Serialized representation of JWS signed JSON object
(AccessTokenClaims)
token_type:
type: string
enum:
\- Bearer
expires_in:
type: integer
scope:
type: string
pattern: \'\^([a-zA-Z0-9_:-]+)( [a-zA-Z0-9_:-]+)*\$\'
AccessTokenClaims:
description: The claims data structure for the access token
type: object
required:
\- iss
\- sub
\- aud
\- scope
\- exp
properties:
iss:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
sub:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
aud:
anyOf:
\- \$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/NFType\'
\- type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
minItems: 1
scope:
type: string
pattern: \'\^([a-zA-Z0-9_:-]+)( [a-zA-Z0-9_:-]+)*\$\'
exp:
type: integer
consumerPlmnId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
consumerSnpnId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid\'
producerPlmnId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnId\'
producerSnpnId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/PlmnIdNid\'
producerSnssaiList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
minItems: 1
producerNsiList:
type: array
items:
type: string
minItems: 1
producerNfSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
producerNfServiceSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfServiceSetId\'
sourceNfInstanceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
AccessTokenErr:
description: Error returned in the access token response message
type: object
required:
\- error
properties:
error:
type: string
enum:
\- invalid_request
\- invalid_client
\- invalid_grant
\- unauthorized_client
\- unsupported_grant_type
\- invalid_scope
error_description:
type: string
error_uri:
type: string
# A.5 Nnrf_Bootstrapping API
openapi: 3.0.0
info:
version: \'1.1.0\'
title: \'NRF Bootstrapping\'
description: \|
NRF Bootstrapping.
© 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.510 V17.6.0; 5G System; Network Function Repository
Services; Stage 3
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.510/\'
paths:
/bootstrapping:
get:
summary: Bootstrapping Info Request
operationId: BootstrappingInfoRequest
tags:
\- Bootstrapping Request
parameters:
\- name: If-None-Match
in: header
description: Validator for conditional requests, as described in IETF RFC
7232, 3.2
schema:
type: string
responses:
\'200\':
description: Successful Bootstrapping Request
content:
application/3gppHal+json:
schema:
\$ref: \'#/components/schemas/BootstrappingInfo\'
headers:
Cache-Control:
description: Cache-Control containing max-age, described in IETF RFC 7234, 5.2
schema:
type: string
ETag:
description: Entity Tag containing a strong validator, described in IETF RFC
7232, 2.3
schema:
type: string
\'307\':
description: Temporary Redirect
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RedirectResponse\'
headers:
Location:
description: The URI pointing to the resource located on the redirect target
NRF
required: true
schema:
type: string
\'308\':
description: Permanent Redirect
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/RedirectResponse\'
headers:
Location:
description: The URI pointing to the resource located on the redirect target
NRF
required: true
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
components:
schemas:
BootstrappingInfo:
description: Information returned by NRF in the bootstrapping response message
type: object
required:
\- _links
properties:
status:
\$ref: \'#/components/schemas/Status\'
_links:
type: object
description: >
Map of link objects where the keys are the link relations defined in
3GPP TS 29.510 clause 6.4.6.3.3
additionalProperties:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/LinksValueSchema\'
minProperties: 1
nrfFeatures:
type: object
description: >
Map of features supported by the NRF, where the keys are the NRF services
as defined in 3GPP TS 29.510 clause 6.1.6.3.11
additionalProperties:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
minProperties: 1
oauth2Required:
type: object
description: >
Map indicating whether the NRF requires Oauth2-based authorization for
accessing
its services. The key of the map shall be the name of an NRF service,
e.g. \"nnrf-nfm\" or \"nnrf-disc\"
additionalProperties:
type: boolean
minProperties: 1
nrfSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
nrfInstanceId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
Status:
description: Overal status of the NRF
anyOf:
\- type: string
enum:
\- OPERATIVE
\- NON_OPERATIVE
\- type: string
###### ## Annex B (normative): NF Profile changes in NFRegister and NFUpdate
responses
# B.1 General
In the NFRegister and NFUpdate (NF Profile Complete Replacement and NF Profile
Partial Update) service operations, a NF Service Consumer may indicate to the
NRF that it supports receiving NF Profile changes in the response from the
NRF, by including the nfProfileChangesSupportInd and/or the
nfProfilePartialUpdateChangesSupportInd attributes set to \"true\" in the
NFProfile it registers to or replaces in the NRF.
NOTE 1: For NFRegister and NFUpdate (NF Profile Complete Replacement), the NF
Service Consumer can indicate its support of the corresponding capability
during the initial NFRegister operation or during the NF Profile Complete
Replacement.
NOTE 2: For NF Profile Partial Update (which uses the HTTP PATCH operation),
the NF Service Consumer can indicate its support of the corresponding
capability during the initial NFRegister operation, or during an NF Profile
Complete Replacement (i.e., in the payload body of the corresponding HTTP PUT
request), and can also indicate support of this capability after the initial
registration, in a PATCH request, by setting to true the
nfProfilePartialUpdateChangesSupportInd attribute.
The NRF may return NF Profile changes, instead of the complete NF Profile, in
NFRegister or NFUpdate responses, if the NF Service Consumer has indicated
corresponding support in its NFProfile data. When doing so, the NRF shall
include in the NF Profile returned in the response:
\- attributes that are mandatory to include in the NF Profile; if an optional
IE is included (e.g. nfServices), attributes that are mandatory to include in
this optional IE (e.g. serviceInstanceId) shall also be included;
\- optional or conditional IEs that have been changed or added by the NRF; and
\- the nfProfileChangesInd IE set to \"true\", indicating that the returned
profile contains NF profile changes.
EXAMPLE 1: The NRF does not change the NF Profile received in the request.
The NRF response contains a NFProfile with just the following IEs:
\- nfInstanceId, nfType, nfStatus; and
\- nfProfileChangesInd IE set to \"true\".
EXAMPLE 2: The NRF modifies or adds the heartbeatTimer attribute to the NF
Profile received in the request.
The NRF response contains a NFProfile with just the following IEs:
\- nfInstanceId, nfType, nfStatus;
\- heartbeatTimer with NRF chosen value;
\- nfProfileChangesInd IE set to \"true\".
###### ## Annex C (normative): Enhanced Authorization Policy using RuleSets in
NF (Service) Profile
# C.1 General
When scope of authorizations allowed to NF-Service-Consumers of different
PLMNs, S-NSSAIs, SNPNs, NF-Domains etc. are different, it is not always
possible for an NF (Service) Producer to register an authorization profile
into NRF using allowedXXX parameters alone. The Allowed-ruleset feature
addresses such requirements by extending the authorization policy with a
prioritized list of RuleSets in the NF (Service) profile.
This clause provides configuration examples and guidance on handling backward
compatibility when the Allowed-ruleset feature is deployed.
# C.2 Examples of NF-Producer profile only using RuleSets (i.e. without
AllowedXXX parameters) in NF (Service) Profile
This clause provides configuration examples of allowedScopesRuleSet parameter
in the NF-Service profile (Clause 6.1.6.2.3).
Following is an example of rules formed by para-phrasing the individual
RuleSets registered by an NF-Service-Producer:
> _priority 1 plmns \ <> nfTypes \<> nfInstances \<> scopes \<> allow_
>
> _priority 2 plmns \ <> nfTypes \<> scopes \<> allow_
>
> _priority 3 plmns \ <> nfTypes \<> allow_
>
> _priority 100 deny_
When a NF-Service-Consumer requests an access-token from NRF, the NRF matches
the properties of the NF-Service-Consumer (PLMN, SNPN, nfType, NfDomain,
S-NSSAIs, NF-Instance Id etc.) against these rules in decreasing order of
priority (1 being the highest). [If a match is found, search stops, and the
matching rule is applied to determine the scope to be granted.]{.underline}
Consider 3 NF-Service Producers **_p1_** , **_p2_** and **_p3_** who need to
register their NF-Service Profile into NRF. Each of these producers define
operation level scopes Op1, Op2 and Op3 and the service-level scope.
\- NF-Service-Producer **_p1_** allows all NF-Service-Consumers with nfType=A
to access its resources unrestricted. However NF-Service-Consumers with
nfType=B are limited to Op1 and Op2. It may register, in the NF-Service-
Profile:
> _priority 2 nfType {B} scopes {Op1, Op2, service level scope} allow_
>
> _priority 5 nfType {A} allow_
>
> _priority 100 deny_
\- NF-Service-Producer **_p2_** allows all NF-Service-Consumers with nfType=A
to access its resources unrestricted. NF-Service-Consumers with nfType=B are
limited to Op1 and Op2. It additionally wants to allow NF-Service-Consumer
with NF-Instance-ID=X to Op3 only. It may register, in the NF-Service-Profile:
> _priority 2 nfInstance-id {X} scopes {Op3, service level scope} allow_
>
> _priority 5 nfType {B} scopes {Op1, Op2, service level scope} allow_
>
> _priority 10 nfType {A} allow_
>
> _priority 100 deny_
\- NF-Service-Producer **_p3_** allows all NF-Service-Consumers of PLMN1 of
nfType=A or nfType=B to access its resources unrestricted. However, for the
NFs of PLMN2, NF-Service-Consumers of nfType=A are allowed to access its
resources unrestricted, but the NF-Service-Consumers of nfType=B are limited
to Op1 and Op2. It may register, in the NF-Service-Profile:
> _priority 2 plmn {plmn1} nfType {A,B} allow_
>
> _priority 5 plmn {plmn2} nfType {A} allow_
>
> _priority 10 plmn {plmn2} nfType {B} scopes {Op1, Op2, service level scope}
> allow_
>
> _priority 100 deny_
Absence of scopes in a rule indicates that all service operations/all scopes
are allowed.
Rule with no identification of NF-Consumer (e.g. priority 100 rule in example
above) indicates the rule applies to all.
Similar examples apply to allowedRuleSet parameter in NF-Profile (Clause
6.1.6.2.2), however without the scopes parameter, as in the case of NF-
Profile, the allowedRuleSet parameter is used to determine whether an NF-
Consumer is allowed or not allowed to access the NF-Producer.
# C.3 Example of NF-Producer profile using RuleSets and AllowedXXX parameters
in NF (Service) Profile
When a NF (Service) producer registers both the AllowedXXX parameters and the
allowedScopesRuleSet parameter in the NF-Service Profile, the authorization
scopes assigned to an NF-Consumer are determined by performing a logical OR
operation of the two sets of parameters. The helps implementations to use
Allowed-ruleset feature only when the authorization policy cannot be
configured using the AllowedXXX parameters alone.
This clause provides configuration examples with allowedScopesRuleSet
parameter in the NF-Service profile (Clause 6.1.6.2.3) along with allowedXXX
parameters.
Consider the example of NF-Service-Producer **_p3_** in Annex C.2, which
allows all NF-Service-Consumers of PLMN1 of nfType=A or nfType=B to access its
resources unrestricted. However, for the NFs of PLMN2, NF-Service-Consumers of
nfType=A are allowed to access its resources unrestricted, but the NF-Service-
Consumers of nfType=B are limited to Op1 and Op2. This can be achieved by
configuring the rules as:
> _{_
>
> _allowedPLMNs = plmn1_
>
> _allowedNfTypes = A,B_
>
> _}_
>
> _OR_
>
> _{_
>
> _priority 5 plmn {plmn2} nfType {A} allow_
>
> _priority 10 plmn {plmn2} nfType {B} scopes {Op1, Op2, service level scope}
> allow_
}
Similar examples apply with allowedRuleSet parameter in NF-Profile (Clause
6.1.6.2.2), however without the scopes parameter, as in the case of NF-
Profile, the allowedRuleSet parameter is used to determine whether an NF-
Consumer is allowed or not allowed to access the NF-Producer.
# C.4 Backward Compatibility
This clause provides examples for addressing backward compatibility issues
with the Allowed-ruleset feature.
Consider an NF-Producer **_p1_** supporting Allowed-ruleset feature which
registers its following NF-Service profile into NRF utilizing the new
allowedScopesRuleSet parameter:
> _priority 2 nfInstance-id {X} scopes {Op3, service level scope} allow_
>
> _priority 5 nfType {B} scopes {Op1, Op2, service level scope} allow_
>
> _priority 10 nfType {A} allow_
>
> _priority 15 nssais {1,2} scopes {Op1, service level scope} allow_
>
> _priority 100 deny_
Consider an NF-Consumer **_c1_** which does **[not]{.underline}** support the
Allowed-ruleset feature and discovers NF-Producer **_p1_** using
Nnrf_NFDiscovery service.
\- If the highest priority rule matching NF-Consumer **_c1_** is priority 2,
the NRF may include, in the Nnrf_NFDiscovery_Get response, parameter
_allowedOperationsPerNfInstance_ , containing applicable scopes.
\- If the highest priority rule matching NF-Consumer **_c1_** is priority 5,
the NRF may include, in the Nnrf_NFDiscovery_Get response, parameter
_allowedOperationsPerNfType_ , containing applicable scopes.
\- If the highest priority rule matching NF-Consumer **_c1_** is priority 10,
the NRF may not include, in the Nnrf_NFDiscovery_Get response, the parameters
_allowedOperationsPerNfInstance_ and _allowedOperationsPerNfType_.
\- If the highest priority rule matching NF-Consumer **_c1_** is priority 15,
the NRF may include, in the Nnrf_NFDiscovery_Get response, any of the
parameters _allowedOperationsPerNfInstance_ or _allowedOperationsPerNfType_ ,
containing applicable scopes.
If entities (e.g. SCP) of a network are configured to use Complete Profile
Subscription or Complete Profile Discovery feature, the Allowed-ruleset
feature shall only be deployed if all these entities in the network have been
upgraded to support and use the Allowed-ruleset feature.
NF-Producers shall only be configured to use the Allowed-ruleset feature after
NRFs in the network are upgraded and configured to use the Allowed-ruleset
feature, as otherwise NF-Producers would need to translate RuleSets to
existing service access control parameters (i.e. allowedPlmns, allowedSnpns,
allowedNfTypes etc.) which may not always be possible.
###### ## Annex D (normative): Support of \"Canary Release\" testing in the
NRF
This feature allows a network operator to deploy new software features in a
Network Function (NF) in a controlled manner, by isolating the NF (Service)
Instances that implement the new features, and steering solely a part of the
traffic that, otherwise, would be sent towards such NF (Service) Instance
producer.
This is achieved by means of the following mechanisms:
\- Setting the NFStatus, or NFServiceStatus, of the NF service producer, to
the value \"CANARY_RELEASE\"
\- Defining in the NFProfile or NFService of the NF service producer a set of
selection conditions, that will be evaluated by an NF service consumer when
attempting to select a candidate producer
The set of conditions may include, e.g.:
\- The NF type of the consumer
\- A feature number that is required by the consumer to select (and send
traffic to) a producer
\- A set of specific UEs (e.g. based on SUPI ranges, GPSI ranges, IMPU/IMPI
ranges, list of PEIs)
\- Any UE camping on a TAI within a set of TAI ranges
\- A list of DNNs
In order to allow flexibility in the definition of the selection conditions,
the above conditions can be combined by means of \"and\" / \"or\" logical
operators.
EXAMPLE: An SMF is deployed with a new software feature, and the operator
wishes to test it by carrying traffic to it with the following conditions:
\- The SMF shall ony be selected by an AMF, a NEF, or an NWDAF
\- The SMF shall only be selected by the AMF when:
\- its selection requires the support of the \"ATSSS\" feature (which
corresponds with feature number #2 in the \"nsmf-pdusesssion\" service)
\- the UE belongs to a certain range of SUPIs
\- the UE is camping on a TAI belonging to a range of TAIs
\- When the SMF is selected by the NEF, it shall only do it for a certain DNN
\- When the SMF is selected by the NWDAF, it shall onlly do it when the UE is
camping on a TAI belonging to a range of TAIs
> An example of the \"selectionConditions\" attribute could be as follows
> (note that there might be different logical expressions to encode the same
> logic):
>
> \"selectionConditions\": {
>
> \"or\": [
>
> {
>
> \"and\": [
>
> { \"consumerNfType\": [ \"AMF\" ] },
>
> { \"serviceFeature\": 2 },
>
> { \"supiRange\": { \"start\": \"1234511111\", \"end\": \"1234599999\" } },
>
> { \"taiRange\": {
>
> \"plmnId\": { \"mcc\": \"123\", \"mnc\": \"45\" },
>
> \"tacRangeList\": [
>
> { \"start\": \"000011\", \"end\": \"0000ff\" }
>
> ]
>
> }
>
> }
>
> ]
>
> },
>
> {
>
> \"and\": [
>
> { \"consumerNfType\": [ \"NEF\" ] },
>
> { \"dnnList\": [ \"internet.operator.com\" ] }
>
> ]
>
> },
>
> {
>
> \"and\": [
>
> { \"consumerNfType\": [ \"NWDAF\" ] },
>
> { \"taiRange\": {
>
> \"plmnId\": { \"mcc\": \"123\", \"mnc\": \"45\" },
>
> \"tacRangeList\": [
>
> { \"start\": \"000011\", \"end\": \"000022\" }
>
> ]
>
> }
>
> }
>
> ]
>
> }
>
> ]
>
> }
or, alternatively, with a more simplified encoding, based on the fact that the
individual conditions (attributes) inside ConditionItem (see clause
6.1.6.2.124) are evaluated following the \"AND\" logical operator:
> \"selectionConditions\": {
>
> \"or\": [
>
> {
>
> \"consumerNfType\": [ \"AMF\" ],
>
> \"serviceFeature\": 2,
>
> \"supiRange\": { \"start\": \"1234511111\", \"end\": \"1234599999\" },
>
> \"taiRange\": {
>
> \"plmnId\": { \"mcc\": \"123\", \"mnc\": \"45\" },
>
> \"tacRangeList\": [
>
> { \"start\": \"000011\", \"end\": \"0000ff\" }
>
> ]
>
> }
>
> },
>
> {
>
> \"consumerNfType\": [ \"NEF\" ],
>
> \"dnnList\": [ \"internet.operator.com\" ]
>
> },
>
> {
>
> \"consumerNfType\": [ \"NWDAF\" ],
>
> \"taiRange\": {
>
> \"plmnId\": { \"mcc\": \"123\", \"mnc\": \"45\" },
>
> \"tacRangeList\": [
>
> { \"start\": \"000011\", \"end\": \"000022\" }
>
> ]
>
> }
>
> }
>
> ]
>
> }
Once the producer has defined the selection conditions in its NFProfile,
registered at the NRF, the sequence of steps for selection an NF after it is
deployed with a \"canary\" software release, would be as follows:
1\. NF Service Instance to be software-upgraded changes its status to
\"UNDISCOVERABLE\", and potential consumers are notified
2\. NF Service Instance gets progressively emptied of existing sessions, until
no sessions remain
3\. NF Service Instance may optionally change its status to \"SUSPENDED\", to
ensure that no residual traffic is sent to the NF Service Instance, and
potential consumers are notified
4\. NF Service Instance is software-upgraded
5\. NF Service Instance with new software registers in NRF with status
\"CANARY_RELEASE\" and includes the set of conditions for selection (e.g. a
SUPI range)
6\. Consumer NF sends discovery to NRF with usual discovery parameters and
gets matching NF Instances containing NF Services with status \"REGISTERED\"
or \"CANARY_RELEASE\"
7\. Consumer performs selection from the list of candidate NFs and, if the
status of the producer NF is \"CANARY_RELEASE\", such NF shall only be
selected if the selection conditions match (e.g. it shall only be selected if
the SUPI matches the SUPI range indicated by the producer NF).
The selection of the candidate producers shall take into account the
attributes of the discovered NFProfiles, and in addition, the consumer shall
evaluate the attributes in the selection conditions, which shall take
precedence over the attributes of the NFProfile of the producer, for those NF
(Service) Instances in \"CANARY_RELEASE\" status.
If multiple candidate producers are available with NF (Service) status set to
\"REGISTERED\" or \"CANARY_RELEASE\", the consumer shall preferably select a
producer in \"CANARY_RELEASE\" status.
For the case of Indirect Communication, the selection of a candidate producer
may be done by the SCP. In that case, the SCP needs to be able to evaluate the
selection conditions for those producers in \"CANARY_RELEASE\" status. Since
the SCP does not count with this information at its disposal (e.g. the
different identities of the UE for which a service request is invoked via the
SCP), it shall be provided by the consumer, e.g. by including the \"3gpp-Sbi-
Correlation-Info\" HTTP header or by including the corresponding discovery
headers (\"3ggp-Sbi-Discovery\") containing the UE identities involved in the
specific traffic case.
In certain cases, the operator may want to maintain the NF Instance fully
operative (so it keeps serving traffic to any consumer), at the same time as
testing the new software features; in such case, the operator may deploy
distinct service instances, some of which may keep the old software version
and keep the \"REGISTERED\" NFServiceStatus, while other service instances may
be deployed with the new software version, and set the NFServiceStatus to
\"CANARY_RELEASE\", to ensure that it is only selected by consumers when the
desired conditions are met.
Editor\'s Note: It is FFS to consider if a more detailed description is needed
of the scenario where an NF Instance is intended to be fully operational and,
at the same time, be able to \"canary test\" some of its services.
Editor\'s Note: It is FFS to evaluate whether the SCP or SEPP need special
consideration with regard to setting their NFStatus to \"CANARY_RELEASE\".
#