# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present specification provides the stage 3 definition of the Binding
Support Management Service of the 5G System.
The 5G System Architecture is defined in 3GPP TS 23.501 [2]. The stage 2
definition and related procedures for Binding Support Management Service is
specified in 3GPP TS 23.502 [3] and 3GPP TS 23.503 [4].
The 5G System stage 3 call flows are provided in 3GPP TS 29.513 [5].
The Technical Realization of the Service Based Architecture and the Principles
and Guidelines for Services Definition are specified in 3GPP TS 29.500 [6] and
3GPP TS 29.501 [7].
The Binding Support Management Service is provided by the Binding Support
Function (BSF).
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".
[3] 3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".
[4] 3GPP TS 23.503: \"Policy and Charging Control Framework for the 5G System;
Stage 2\".
[5] 3GPP TS 29.513: \"5G System; Policy and Charging Control signalling flows
and QoS parameter mapping; Stage 3\".
[6] 3GPP TS 29.500: \"5G System; Technical Realization of Service Based
Architecture; Stage 3\".
[7] 3GPP TS 29.501: \"5G System; Principles and Guidelines for Services
Definition; Stage 3\".
[8] IETF RFC 7540: \"Hypertext Transfer Protocol Version 2 (HTTP/2)\".
[9] IETF RFC 8259: \"The JavaScript Object Notation (JSON) Data Interchange
Format\".
[10] 3GPP TS 29.571: \"5G System; Common Data Types for Service Based
Interfaces Stage 3\".
[11] OpenAPI: \"OpenAPI Specification Version 3.0.0\",
https://spec.openapis.org/oas/v3.0.0.
[12] 3GPP TS 29.510: \"5G System; Network Function Repository Services; Stage
3\".
[13] IETF RFC 7807: \"Problem Details for HTTP APIs\".
[14] 3GPP TS 29.213: \" Policy and Charging Control signalling flows and
Quality of Service (QoS) parameter mapping\".
[15] 3GPP TS 33.501: \"Security architecture and procedures for 5G system\".
[16] IETF RFC 6749: \"The OAuth 2.0 Authorization Framework\".
[17] 3GPP TS 23.527: \"5G System; Restoration Procedures\".
[18] 3GPP TR 21.900: \"Technical Specification Group working methods\".
[19] 3GPP TS 23.316: \"Wireless and wireline convergence access support for
the 5G System (5GS)\".
[20] IETF RFC 7396: \"JSON Merge Patch\".
[21] 3GPP TS 29.512: \"5G System; Session Management Policy Control Service;
Stage 3\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
5G DDNMF 5G Direct Discovery Name Management Function
5G-RG 5G Residential Gateway
AF Application Function
AM Access and Mobility Management
BSF Binding Support Function
DNN Data Network Name
DRA Diameter Routing Agent
HTTP Hypertext Transfer Protocol
FN-RG Fixed Network Residential Gateway
FQDN Fully Qualified Domain Name
GPSI Generic Public Subscription Identifier
JSON JavaScript Object Notation HTTP Hypertext Transfer Protocol
MAC Media Access Control
MBSF Multicast/Broadcast Service Function
NEF Network Exposure Function
NRF Network Repository Function
NWDAF Network Data Analytics Function
PCF Policy Control Function
SMF Session Management Function
S-NSSAI Single Network Slice Selection Assistance Information
SUPI Subscription Permanent Identifier
TSCTSF Time Sensitive Communication and Time Synchronization Function
UDR Unified Data Repository
# 4 Binding Support Management Service
## 4.1 Service Description
### 4.1.1 Overview
The Binding Support Management Service as defined in 3GPP TS 23.502 [3] and
3GPP TS 23.503 [4], is provided by the Binding Support Function (BSF).
The Nbsf_Management service is used to provide:
\- a PCF for a PDU session binding functionality, which ensures that an AF
request for a certain PDU Session reaches the relevant PCF holding that PDU
Session information, or ensures that the same PCF is selected for multiple PDU
sessions.
\- a PCF for an MBS session binding functionality, which ensures that for
location-dependent MBS services, an AF request for a certain MBS Session
reaches the relevant PCF holding that MBS Session information.
\- a PCF for a UE binding functionality, which ensures that an AF request for
Access and Mobility related Policy Authorization for a UE reaches the relevant
PCF for a UE holding the AM Policy Association.
\- Subscription to notification events about a newly registered or
deregistered PCF for a UE or PCF for a PDU session.
This service:
\- allows NF service consumers to register, update and remove binding
information;
\- allows NF service consumers to retrieve binding information;
\- allows NF service consumers to subscribe to notifications of
registration/deregistration events of newly registered or deregistered PCF for
a UE or PCF for a PDU session.
### 4.1.2 Service Architecture
The 5G System Architecture is defined in 3GPP TS 23.501 [2]. The Policy and
Charging related 5G architecture is also described in 3GPP TS 23.503 [4] and
3GPP TS 29.513 [5].
The Binding Support Management Service (Nbsf_Management) is exhibited by the
Binding Support Function (BSF).
The known consumers of the Nbsf_Management service are:
\- Policy Control Function (PCF)
\- Network Exposure Function (NEF)
\- Application Function (AF);
\- Multicast/Broadcast Service Function (MBSF);
\- 5G Direct Discovery Name Management Function (5G DDNMF);
\- Network Data Analytics Function (NWDAF); and
\- Time Sensitivy Communication and Time Synchronization Function (TSCTSF).
As described in 3GPP TS 23.503 [4], the BSF is a function that can be deployed
standalone or as a functionality provided by other network functions, such as
PCF, UDR, NRF, SMF.
NOTE 1: The PCF accesses the Nbsf_Management service at the BSF via an
internal interface when it is collocated with BSF.
NOTE 2: The DRA decides to select a BSF based on user IP address range when
the DRA has no binding information for the subscriber to get the relevant PCF
for a PDU session address. DRA and BSF coexistence is described in 3GPP TS
29.513 [5], Annex A.
NOTE 2: The DRA decides to select a BSF based on user IP address range when
the DRA has no binding information for the subscriber to get the relevant PCF
for a PDU session address. DRA and BSF coexistence is described in 3GPP TS
29.513 [5], Annex A.
Figure 4.1.2-1: Reference Architecture for the Nbsf_Management service; SBI
representation
NOTE 3: The PCF in the figure represents both, the PCF for a UE and the PCF
for a PDU session. The PCF for a UE and the PCF for a PDU session separately
and independently register themselves at the BSF, regardless they are deployed
in the same NF instance or separately in different NF instances.
### 4.1.3 Network Functions
#### 4.1.3.1 Binding Support Function (BSF)
The BSF:
\- stores the binding information for a certain PDU Session;
\- stores the binding information for a certain MBS Session;
\- stores the binding information for a certain UE;
\- enables the subscription to notifications of PCF for a PDU session
registration/deregistration events;
\- enables the subscription to notifications of PCF for a UE
registration/deregistration events;and
\- enables the discovery of binding information (e.g. the address information
of the selected PCF for a PDU session).
The BSF allows NF service consumers (e.g. PCF) to register, update and remove
a binding information, and allows NF service consumers (e.g. AF, NEF, NWDAF)
to discover a binding information (e.g. the address information of the
selected PCF). The BSF also allows NF service consumers (e.g. PCF for a UE,
AF, NEF) to subscribe to notifications of PCF registration/deregistration
events.
The BSF can be deployed standalone or collocated with other network functions,
such as PCF, UDR, NRF and SMF.
#### 4.1.3.2 NF Service Consumers
The Policy Control Function (PCF):
\- The PCF for a PDU session:
a. registers binding information in the BSF for a UE when an IPv4 address
and/or IPv6 prefix is allocated, or a MAC address is used for the PDU session;
b. updates binding information in the BSF when a UE address information is
changed for the PDU Session; and
c. removes binding information in the BSF when an IPv4 address and/or IPv6
prefix is released, or a MAC address is not used for the PDU Session.
\- The PCF for an MBS session:
a. registers binding information in the BSF for an MBS session;
b. updates binding information in the BSF for the MBS session;
c. removes binding information in the BSF for the MBS session.
\- The PCF for a UE:
a. registers binding information in the BSF for a UE when an AM/UE Policy
Association is established;
b. updates binding information in the BSF when a new PCF instance for a UE is
selected;
c. removes binding information in the BSF when the AM/UE Policy Association is
terminated; and
d. subscribes with the BSF to notification of registration/deregistration
events of the PCF for a PDU session.
The Network Exposure Function (NEF):
\- provides means for the Application Functions to securely interact with the
Policy framework for policy control to 3GPP network. During the procedure, it
needs to discover the selected PCF for a PDU session, the selected PCF for an
MBS Session (if applicable) or the selected PCF for a UE by using the
Nbsf_Management_Discovery service operation and the selected PCF for a UE by
using the Nbsf_Management_Subscribe/Notify service operations.
The Application Function (AF):
\- discovers the selected PCF for a PDU session, the selected PCF for an MBS
Session (if applicable) or the selected PCF for a UE by using the
Nbsf_Management_Discovery service operation and the selected PCF for a UE by
using the Nbsf_Management_Subscribe/Notify service operations when it is
allowed to interact directly with the policy framework for policy control.
The Network Data Analytics Function (NWDAF):
\- discovers the selected PCF for a PDU session by using the
Nbsf_Management_Discovery service operation.
The Time Sensitive Communication and Time Synchronization Function (TSCTSF)
\- discovers the selected PCF for a PDU session by using the
Nbsf_Management_Discovery service operation and the selected PCF for a UE by
using Nbsf_Management_Subscribe/Notify service operations when it is allowed
to interact with the policy framework for time sensitive communication and
time synchronization control.
The Multicast/Broadcast Service Function (MBSF):
\- discovers the selected PCF for an MBS session by using the
Nbsf_Management_Discovery service operation.
The 5G Direct Discovery Name Management Function (5G DDNMF):
\- handles the discovery of the selected PCF for a UE by using the
Nbsf_Management_(un)Subscribe/Notify service operations.
## 4.2 Service Operations
### 4.2.1 Introduction
Table 4.2.1-1: Operations of the Nbsf_Management Service
* * *
Service operation name Description Initiated by Nbsf_Management_Register This
service operation is used to register the binding information for a PDU
session or an MBS session or a UE. NF service consumer (PCF)
Nbsf_Management_Deregister This service operation is used to deregister the
binding information for a PDU session or an MBS session or a UE. NF service
consumer (PCF) Nbsf_Management_Discovery This service operation is used by an
NF service consumer to discover a selected PCF for a PDU session or a selected
PCF for an MBS session or a selected PCF for a UE. NF service consumer (NEF,
AF, NWDAF, MBSF, TSCTSF) Nbsf_Management_Update This service operation is used
to update an existing binding information for a PDU session or an MBS session
or a UE. NF service consumer (PCF) Nbsf_Management_Subscribe This service
operation is used by an NF service consumer to subscribe or to modify a
subscription for event notifications of PCF for the UE or PCF for the PDU
session binding related events. NF service consumer (NEF, AF, PCF, TSCTSF, 5G
DDNMF) Nbsf_Management_Unsubscribe This service operation is used by an NF
service consumer to terminate a previous subscription. NF service consumer
(NEF, AF, PCF, TSCTSF, 5G DDNMF) Nbsf_Management_Notify This service operation
is used by the BSF to notify binding related event(s) to the NF service
consumer which has subscribed to such event(s). BSF
* * *
### 4.2.2 Nbsf_Management_Register Service Operation
#### 4.2.2.1 General
This service operation allows a NF service consumer (e.g. PCF for a PDU
session) to register the session binding information for a UE in the BSF by
providing the user identity, the DNN, the UE address(es) and the selected PCF
address for a certain PDU Session to the BSF, and BSF stores the information.
If the BindingUpdate feature is not supported and the NF service consumer
(e.g. PCF for a PDU session) receives a new UE address (e.g. IPv6 prefix) and
has already registered session binding information for this PDU session, the
NF service consumer (e.g. PCF for a PDU session) shall register a new session
binding information in the BSF.
If the SamePcf feature or the ExtendedSamePcf feature is supported, this
service operation allows the NF service consumer (e.g. PCF for a PDU session)
to check whether PCF addressing information for Npcf_SMPolicyControl service
is already registered in the BSF by another PCF for a combination of the UE
ID, DNN and S-NSSAI parameters of the PDU session.
This service operation also allows a NF service consumer (e.g. PCF for a UE)
to register PCF for a UE binding information for a UE in the BSF, by providing
to the BSF the user identity and the selected PCF address for a certain UE,
and the BSF stores the information.
In addition, this service operation also allows a NF service consumer (e.g.
PCF for an MBS session) to register the session binding information for an MBS
Session at the BSF, by providing the MBS Session ID, the identifier of the
selected PCF for the MBS Session and the related information (e.g. PCF
(service) set information), and the BSF stores the information.
The following procedures using the Nbsf_Management_Registration service
operation are supported:
\- Register a new PCF for a PDU Session binding information.
\- Register a new PCF for a UE binding information.
\- Register a new PCF for an MBS Session binding information.
#### 4.2.2.2 Register a new PCF for a PDU Session binding information
{width="6.03125in" height="1.46875in"}
Figure 4.2.2.2-1: NF service consumer register a new PCF for a PDU Session
binding information
The NF service consumer shall invoke the Nbsf_Management_Register service
operation to register the PDU session binding information for a UE in the BSF.
The NF service consumer shall send for this an HTTP POST request with
\"{apiRoot}/nbsf-management/\/pcfBindings\" as Resource URI
representing the \"PCF for a PDU Session Bindings\", as shown in figure
4.2.2.2-1, step 1, to create a binding information for an \"Individual PCF for
a PDU Session Binding\" according to the information (e.g. UE address(es),
SUPI, GPSI, DNN, S-NSSAI) in the message body. When the \"ExtendedSamePcf\"
feature is not supported, the \"PcfBinding\" data structure provided in the
request body shall include:
\- if the \"MultiUeAddr\" feature is not supported or not yet known, address
information of the served UE consisting of:
(i) either IP address information consisting of:
\+ the IPv4 address encoded as \"ipv4Addr\" attribute; and/or
\+ the /128 IPv6 address, the IPv6 address prefix or an IPv6 prefix shorter
than /64 encoded as \"ipv6Prefix\" attribute; or
(ii) the MAC address encoded as \"macAddr48\" attribute;
> Otherwise, address information of the served UE consisting of:
>
> (i) any IP address information consisting of:
>
> \+ the IPv4 address encoded as \"ipv4Addr\" attribute;
>
> \+ the /128 IPv6 address, the IPv6 address prefix or an IPv6 prefix shorter
> than /64 encoded as \"ipv6Prefix\" attribute; and/or
>
> NOTE 1: IPv6 prefix shorter than /64 are received when IPv6 Prefix
> Delegation applies, as specified in 3GPP TS 29.512 [21]. The /128 IPv6
> address applies to wireline and wireless convergence, as described in 3GPP
> TS 29.512 [21], clause C.2.1.6.
>
> \+ the additional /128 IPv6 addresses, the IPv6 address prefixes or IPv6
> prefixes shorter than /64 encoded as \"addIpv6Prefixes\" attribute; or
>
> NOTE 2: Additional /128 IPv6 addresses and additional IPv6 prefixes shorter
> than /64 apply for wireline and wireless convergence, as specified in 3GPP
> TS 29.512 [21], clause C.2.1.6.
(ii) the MAC address encoded as \"macAddr48\" attribute and/or the additional
MAC addresses encoded as \"addMacAddrs\" attribute;
\- PCF address information consisting of:
(i) if the PCF supports the Npcf_PolicyAuthorization service:
\+ the FQDN of the PCF encoded as \"pcfFqdn\" attribute; and/or
\+ a description of IP endpoints at the PCF hosting the
Npcf_PolicyAuthorization service encoded as \"pcfIpEndPoints\" attribute; and
(ii) if the PCF supports the Rx interface:
\+ the Diameter host id of the PCF encoded as \"pcfDiamHost\"; and
\+ the Diameter realm of the PCF encoded as\"pcfDiamRealm\" attributes;
\- DNN encoded as \"dnn\" attribute;
\- S-NSSAI encoded as \"snssai\" attribute; and
\- If the \"SamePcf\" feature defined in clause 5.8 is supported and the PCF
determines based on operator policies that the same PCF shall be selected for
the SM Policy associations:
(i) PCF address information for Npcf_SMPolicyControl service consisting of:
\+ the FQDN of the PCF encoded as \"pcfSmFqdn\" attribute; or
\+ a description of IP endpoints at the PCF hosting the Npcf_SMPolicyControl
service encoded as \"pcfSmIpEndPoints\" attribute; and
(ii) the parameters combination for selecting the same PCF encoded within the
\"paraCom\" attribute if the PCF registers the binding information for the
indicated parameter combination for the first time.
NOTE 3: When the \"SamePcf\" feature is supported, the PCF omits the
\"paraCom\" attribute when creates the corresponding binding information
related to the subsequent PDU sessions for the same parameter combination.
and may include:
\- SUPI encoded as \"supi\" attribute;
\- GPSI encoded as \"gpsi\" attribute;
\- IPv4 address domain encoded as \"ipDomain\" attribute; and
\- framed routes consisting of:
(i) one or more framed routes within the \"ipv4FrameRouteList\" attribute for
IPv4; and/or
(ii) one or more framed routes within the \"ipv6FrameRouteList\" attribute for
IPv6.
When the \"TimeSensitiveNetworking\" feature or the
\"TimeSensitiveCommunication\" feature is supported by the PCF as defined in
clause 5.8 of 3GPP TS 29.512 [21], and for Ethernet type of PDU sessions, the
address information of the served UE contains the MAC address of the DS-TT
port encoded in the \"macAddr48\" attribute as received by the PCF when the
SMF reports the bridge information of the detected TSC user plane node.
NOTE 4: For the integration with time sensitive communication networks using
IP type of applications, the address information of the served UE contains the
UE IP address of the corresponding PDU session.
When the \"ExtendedSamePcf\" feature is supported the address information of
the served UE may be provided if available, i.e., the \"ipv4Addr\", the
\"ipv6Prefix\" and/or \"addIpv6Prefixes\" attributes or the \"macAddr48\"
and/or \"addMacAddrs\" attributes may be provided if available.
When the \"ExtendedSamePcf\" feature is supported the PCF address for the
Npcf_PolicyAuthorization and/or Rx interface may be provided if available,
i.e., the \"pcfFqdn\" and/or the \"pcfIpEndPoints\" attributes, and/or the
\"pcfDiamHost\" and/or the \"pcfDiamRealm\" attributes may be provided if
available.
NOTE 5: Before requesting the BSF to check if there is an existing PCF binding
information for the same UE ID, S-NSSAI and DNN combination registered by
other PCF(s), the PCF determines whether the BSF supports the \"SamePcf\"
and/or \"ExtendedSamePcf\" features either via local configuration or by
checking the BSF profile retrieved from the NRF as specified in 3GPP TS 29.510
[12].
Upon the reception of an HTTP POST request with: \"{apiRoot}/nbsf-
management/\/pcfBindings\" as Resource URI and \"PcfBinding\" data
structure as request body, the BSF shall:
\- create new binding information;
\- assign a bindingId; and
\- store the binding information.
The PCF as NF service consumer may provide PCF Id in \"pcfId\" attribute and
recovery timestamp in \"recoveryTime\" attribute. The BSF may use the
\"pcfId\" attribute to supervise the status of the PCF as described in clause
5.2 of 3GPP TS 29.510 [12] and perform necessary clean up upon status change
of the PCF later, and/or both the \"pcfId\" attribute and the \"recoveryTime\"
attribute in clean up procedure as described in clause 6.4 of 3GPP TS 23.527
[17].
The PCF as a NF service consumer may provide PCF Set Id within the
\"pcfSetId\" attribute and \"bindLevel\" attribute set to NF_SET or provide
PCF Set Id within the \"pcfSetId\" attribute, PCF instance Id within the
\"pcfId\" attribute and \"bindLevel\" attribute set to NF_INSTANCE.
If the BSF created an \"Individual PCF for a PDU Session Binding\" resource,
the BSF shall respond with \"201 Created\" status code with the message body
containing a representation of the created binding information, as shown in
figure 4.2.2.2-1, step 2. The BSF shall include a Location HTTP header field
containing the URI of the created binding information, i.e. \"{apiRoot}/nbsf-
management/\/pcfBindings/{bindingId}\".
If errors occur when processing the HTTP POST request, the PCF shall apply
error handling procedures as specified in clause 5.7.
If the \"SamePcf\" feature defined in clause 5.8 is supported and the
\"paraCom\" attribute is included in the HTTP POST message, the BSF shall
check the received \"paraCom\" attribute. If the BSF detects that there is an
existing PCF binding information including the same \"dnn\", \"snssai\" and
\"supi\" attribute values as each of the corresponding attribute values within
the \"paraCom\" attribute, the BSF shall reject the request with an HTTP \"403
Forbidden\" status code and shall include in the response the
\"ExtProblemDetails\" data structure including the FQDN of the existing PCF
hosting the Npcf_SMPolicyControl service within the \"pcfSmFqdn\" attribute or
the description of IP endpoints at the existing PCF hosting the
Npcf_SMPolicyControl service within the \"pcfSmIpEndPoints\" attribute of
\"BindingResp\" data structure, and the \"cause\" attribute of the
\"ProblemDetails\" data structure set to \"EXISTING_BINDING_INFO_FOUND\".
#### 4.2.2.3 Register a new PCF for a UE binding information
{width="6.325694444444444in" height="2.06875in"}
Figure 4.2.2.3-1: NF service consumer registers a new PCF for a UE binding
information
The NF service consumer shall invoke the Nbsf_Management_Register service
operation to register the PCF for a UE binding information in the BSF. The NF
service consumer shall send for this an HTTP POST request with
\"{apiRoot}/nbsf-management/\/pcf-ue-bindings\" as Resource URI
representing the \"PCF for a UE Bindings\", as shown in figure 4.2.2.3-1, step
1, to create a binding information for an \"Individual PCF for a UE Binding\"
according to the information in the message body.
The \"PcfForUeBinding\" data structure included in the request message body
shall include:
\- SUPI encoded as \"supi\" attribute; and
\- if the PCF supports the Npcf_AMPolicyAuthorization service, the
Npcf_AMPolicyAuthorization service address information consisting of:
a. the FQDN of the PCF encoded as \"pcfForUeFqdn\" attribute; and/or
b. a description of IP endpoints at the PCF hosting the
Npcf_AMPolicyAuthorization service encoded as \"pcfForUeIpEndPoints\"
attribute;
NOTE: In this release of the specification the PCF for a UE registering the
binding information in the BSF supports the Npcf_AMPolicyAuthorization
service.
and may include:
\- GPSI encoded as \"gpsi\" attribute;
\- PCF instance Id in \"pcfId\" attribute;
\- the PCF Set identifier in the \"pcfSetId\" attribute; and
\- the binding level in the \"bindLevel\" attribute.
Upon the reception of an HTTP POST request with: \"{apiRoot}/nbsf-
management/\/pcf-ue-bindings\" as Resource URI and
\"PcfForUeBinding\" data structure as request body, the BSF shall:
\- create new binding information;
\- assign a bindingId; and
\- store the binding information.
The PCF as a NF service consumer may provide information about the PCF Set and
the binding level of subsequent request to the same or different PCF instances
for the Npcf_AMPolicyControl service. The PCF may provide the PCF Set Id
within the \"pcfSetId\" attribute and \"bindLevel\" attribute set to NF_SET,
or may provide the PCF Set Id within the \"pcfSetId\" attribute, PCF instance
Id within the \"pcfId\" attribute and \"bindLevel\" attribute set to
NF_INSTANCE.
If the BSF created an \"Individual PCF for a UE Binding\" resource, the BSF
shall respond with \"201 Created\" status code with the message body
containing a representation of the created binding information, as shown in
figure 4.2.2.3-1, step 2. The BSF shall include a Location HTTP header field
containing the URI of the created binding information, i.e. \"{apiRoot}/nbsf-
management/\/pcf-ue-bindings/{bindingId}\".
If errors occur when processing the HTTP POST request, the PCF shall apply
error handling procedures as specified in clause 5.7.
#### 4.2.2.4 Register a new PCF for an MBS Session binding information
Figure 4.2.2.4-1: PCF for an MBS Session Binding information Registration
procedure
1\. The NF service consumer (e.g. PCF for an MBS Session) shall invoke the
Nbsf_Management_Register service operation to register a new PCF for an MBS
Session binding at the BSF. The NF service consumer shall send for this
purpose an HTTP POST request targeting the \"PCF for an MBS Session Bindings\"
resource URI, i.e. \"{apiRoot}/nbsf-management/\/pcf-mbs-
bindings\", with the request body containing the PcfMbsBinding data structure
that shall include:
> \- the identifier of the MBS Session to which the MBS Session binding is
> related, within the \"mbsSessionId\" attribute;
>
> \- the FQDN of the PCF handling the MBS Session, if available, within the
> \"pcfFqdn\" attribute; and
>
> \- the IP end point(s) of the PCF handling the MBS Session, if available,
> within the \"pcfIpEndPoints\" attribute;
>
> and may include:
>
> \- the identifier of the PCF instance handling the concerned MBS Session,
> within the \"pcfId\" attribute;
>
> \- the identifier of the PCF set to which the PCF instance handling the
> concerned MBS Session belongs, within the \"pcfSetId\" attribute;
>
> \- the level of binding of the PCF handling the concerned MBS Session,
> within the \"bindLevel\" attribute; and
>
> \- the recovery timestamp of the NF service consumer (e.g. PCF for an MBS
> Session), within the \"recoveryTime\" attribute.
>
> If the NF service consumer (e.g. PCF for an MBS Session) provides the PCF
> instance ID within the \"pcfId\" attribute, and optionally the recovery
> timestamp within \"recoveryTime\" attribute, the BSF may use this
> information to carry out the clean-up procedures defined in subclause 6.4 of
> 3GPP TS 23.527 [17], if necessary.
>
> 2\. Upon successful processing of the received HTTP POST request, the BSF
> shall check if there is an existing MBS Session Binding information with the
> same \"mbsSessionId\" attribute value. If it is the case, the the BSF shall
> reject the request with an HTTP \"403 Forbidden\" status code with the
> response body containing the MbsExtProblemDetails data structure that shall
> include the FQDN of the existing PCF within the \"pcfFqdn\" attribute or the
> description of the IP endpoints of the existing PCF within the
> \"pcfIpEndPoints\" attribute of the MbsBindingResp data structure, and the
> \"cause\" attribute of the ProblemDetails data structure set to
> \"EXISTING_BINDING_INFO_FOUND\".
>
> If there is not existing MBS Session Binding information for the provided
> \"mbsSessionId\" attribute, the BSF shall create a new \"Individual PCF for
> an MBS Session Binding\" resource to store the requested PCF for an MBS
> Session binding. The BSF shall then respond to the NF service consumer with
> an HTTP \"201 Created\" status code including an HTTP Location header field
> containing the URI of the created \"Individual PCF for an MBS Session
> Binding\" resource, and the response body containing a representation of the
> created resource within the PcfMbsBinding data structure.
>
> If errors occur when processing the HTTP POST request, the BSF shall apply
> the error handling procedures, as specified in subclause 5.7.
### 4.2.3 Nbsf_Management_Deregister Service Operation
#### 4.2.3.1 General
This service operation allows the NF service consumer to delete existing PCF
for a PDU session binding information for a UE at the BSF. It is executed by
deleting the corresponding \"Individual PCF for a PDU Session Binding\"
resource. The operation is invoked by issuing an HTTP DELETE request targeting
the resource URI representing the specific PCF for a PDU session binding
information that is to be deleted.
This service operation also allows the NF service consumer to delete existing
PCF for a UE binding information for a UE at the BSF. It is executed by
deleting the corresponding \"Individual PCF for a UE Binding\" resource. The
operation is invoked by issuing an HTTP DELETE request targeting the resource
URI representing the specific PCF for a UE binding information that is to be
deleted.
This service operation also allows the NF service consumer to delete existing
PCF for an MBS Session binding information for an MBS Session at the BSF. It
is executed by deleting the corresponding \"Individual PCF for an MBS Session
Binding\" resource. The operation is invoked by issuing an HTTP DELETE request
targeting the resource URI representing the specific PCF for an MBS Session
binding information that is to be deleted.
The following procedures using the Nbsf_Management_Deregistration service
operation are supported:
\- Deregister an individual PCF for a PDU Session binding information.
\- Deregister an individual PCF for a UE binding information.
\- Deregister an individual PCF for an MBS Session binding information.
#### 4.2.3.2 Deregister an individual PCF for a PDU Session binding
information
Figure 4.2.3.2-1: PCF for a PDU Session Binding Information Deregistration
The NF service consumer shall invoke the Nbsf_Management_Deregister service
operation to deregister the PCF for a PDU session binding information for a UE
in the BSF. The NF service consumer shall send an HTTP DELETE request with
\"{apiRoot}/nbsf-management/\/pcfBindings/{bindingId}\" as
Resource URI, where \"{bindingId}\" is the \"Individual PCF for a PDU Session
Binding\" resource identifier that is to be deleted, as shown in figure
4.2.3.2-1, step 1.
Upon the reception of an HTTP DELETE request with: \"{apiRoot}/nbsf-
management/\/pcfBindings/{bindingId}\" as Resource URI, the BSF
shall:
\- remove the corresponding binding information.
If the HTTP DELETE request message from the NF service consumer is accepted,
the BSF shall respond with \"204 No Content\" status code, as shown in figure
4.2.3.2-1, step 2.
If errors occur when processing the HTTP DELETE request, the BSF shall send an
HTTP error response as specified in clause 5.7.
If the Individual PCF for a PDU Session Binding resource does not exist, the
BSF shall respond with \"404 Not Found\" error code.
If the feature \"ES3XX\" is supported, and the BSF determines the received
HTTP DELETE request needs to be redirected, the BSF shall send an HTTP
redirect response as specified in clause 6.10.9 of 3GPP TS 29.500 [6].
#### 4.2.3.3 Deregister an individual PCF for a UE binding information
{width="6.325694444444444in" height="2.06875in"}
Figure 4.2.3.3-1: PCF for a UE Binding Information Deregistration
The NF service consumer shall invoke the Nbsf_Management_Deregister service
operation to deregister the session binding information for a UE in the BSF.
The NF service consumer shall send an HTTP DELETE request with
\"{apiRoot}/nbsf-management/\/pcf-ue-bindings/{bindingId}\" as
Resource URI, where \"{bindingId}\" is the \"Individual PCF for a UE Binding\"
resource identifier that is to be deleted, as shown in figure 4.2.3.3-1, step
1.
Upon the reception of an HTTP DELETE request with: \"{apiRoot}/nbsf-
management/\/pcf-ue-bindings/{bindingId}\" as Resource URI, the
BSF shall:
\- remove the corresponding binding information.
If the HTTP DELETE request message from the NF service consumer is accepted,
the BSF shall respond with \"204 No Content\" status code, as shown in figure
4.2.3.3-1, step 2.
If errors occur when processing the HTTP DELETE request, the BSF shall send an
HTTP error response as specified in clause 5.7.
If the Individual PCF for a UE Binding resource does not exist, the BSF shall
respond with \"404 Not Found\" error code.
If the BSF determines the received HTTP DELETE request needs to be redirected,
the BSF shall send an HTTP redirect response as specified in clause 6.10.9 of
3GPP TS 29.500 [6].
#### 4.2.3.4 Deregister an individual PCF for an MBS Session binding
information
Figure 4.2.3.4-1: PCF for an MBS Session Binding information Deregistration
procedure
1\. The NF service consumer shall invoke the Nbsf_Management_Deregister
service operation to deregister an existing PCF for an MBS Session Binding at
the BSF. The NF service consumer shall send for this purpose an HTTP DELETE
request targeting the URI of the concerned \"Individual PCF for an MBS Session
Binding\" resource, i.e. \"{apiRoot}/nbsf-management/\/pcf-mbs-
bindings/{bindingId}\".
2\. Upon success, the BSF shall delete the concerned \"Individual PCF for an
MBS Session Binding\" resource and respond to the NF service consumer with an
HTTP \"204 No Content\" status code.
If errors occur when processing the HTTP DELETE request, the BSF shall apply
the error handling procedures specified in subclause 5.7.
> If the BSF determines the received HTTP DELETE request needs to be
> redirected, the BSF shall send an HTTP redirect response as specified in
> clause 6.10.9 of 3GPP TS 29.500 [6].
>
> If the \"Individual PCF for an MBS Session Binding\" resource does not
> exist, the BSF shall respond with \"404 Not Found\" error code.
### 4.2.4 Nbsf_Management_Discovery Service Operation
#### 4.2.4.1 General
This service operation allows the service consumer to use the HTTP GET method
to obtain the address information of the selected PCF.
\- Retrieve the PCF binding information for a PDU session.
\- Retrieve the PCF binding information for a UE.
\- Retrieve the PCF binding information for an MBS Session.
#### 4.2.4.2 Retrieve the PCF binding information for a PDU session
Figure 4.2.4.2-1: NF service consumer retrieve the PCF binding information for
a PDU session
The NF service consumer shall invoke the Nbsf_Management_Discovery service
operation to obtain address information of the selected PCF for a PDU session
in the BSF. The NF service consumer shall send an HTTP GET request with
\"{apiRoot}/nbsf-management/\/pcfBindings\" as Resource URI, and
\"query parameters\" that shall include:
\- UE address;
and may include:
\- SUPI or GPSI;
\- DNN and optionally S-NSSAI; and
\- IPv4 address domain.
NOTE 1: The query parameters S-NSSAI and/or IPv4 address domain are helpful in
the scenario of IPv4 address overlapping where the same IPv4 address may be
allocated to UE PDU sessions.
Upon the reception of an HTTP GET request with: \"{apiRoot}/nbsf-
management/\/pcfBindings\" as Resource URI, the BSF shall search
the corresponding binding information.
If \"ipv6Prefix\" is used as an UE IPv6 address in the query parameters, the
BSF shall use the longest prefix match to find a matching IPv6 prefix so that
the IPv6 address in the query parameters is within the address range covered
by that matching IPv6 prefix.
> NOTE 2: The matching is done by comparing the /128 IPv6 address of the query
> parameter with the IPv6 prefix of the PDU session. The management of the
> IPv6 prefix of the PDU session is specified in 3GPP TS 29.512 [9], clause
> 4.2.8, and the differences and additions in wireline and wireless
> convergence scenarios specified in 3GPP TS 23.512 [9], clause C.2.1.6. For
> IPv6 prefix delegation, the IPv6 network prefix of the PDU session is
> shorter than /64.
The IPv6 address in the query parameters shall be formatted as an IPv6 prefix
value including the trailing prefix length \"/128\". If the framed routes
exist in the binding information, the BSF shall use framed routes to match the
UE address in the query parameters.
If the HTTP request message from the NF service consumer is accepted and a
session binding resource matching the query parameters exists, the BSF shall
reply with an HTTP \"200 OK\" response, as shown in figure 4.2.4.2-1, step 2,
containing the corresponding \"PcfBinding\" data structure, as provided by the
PCF during the Nbsf_Management_Register Service Operation, in the response
body containing PCF addressing information, and if available, the related PCF
Set Id and PCF instance Id. If there is no PCF binding information for a PDU
session matching the query parameters, the BSF shall respond with an HTTP
\"204 No Content\".
NOTE 3: The NF service consumer (such as the AF or NEF) uses the PCF binding
information as described in 3GPP TS 29.513 [5] clause 8.4.2 (see bullets d)
and e) in that clause). If the NF service consumer (such as the AF or NEF) is
not able to reach the received PCF address(es), the NF service consumer can
use the PCF Set Id and the PCF instance Id as specified in 3GPP TS 29.513 [5]
clause 8.4.2.
If the \"PCF for a PDU Session Bindings\" resource does not exist, the BSF
shall respond with \"404 Not Found\" HTTP error code. If an invalid
combination of query parameters (i.e. a combination without UE address) is
contained in the request URI, the BSF shall respond with an HTTP \"400 Bad
Request\" error code containing \"MANDATORY_QUERY_PARAM_MISSING\" as
application error within the ProblemDetails IE. If more than one Individual
PCF for a PDU Session Binding resources are found, the BSF shall respond with
an HTTP \"400 Bad Request\" error code containing
\"MULTIPLE_BINDING_INFO_FOUND\" as application error within the ProblemDetails
IE.
#### 4.2.4.3 Retrieve the PCF binding information for a UE
Figure 4.2.4.3-1: NF service consumer retrieve the PCF binding information for
a UE
The NF service consumer shall invoke the Nbsf_Management_Discovery service
operation to obtain address information of the selected PCF for a UE in the
BSF. The NF service consumer shall send an HTTP GET request with
\"{apiRoot}/nbsf-management/\/pcf-ue-bindings\" as Resource URI,
and \"query parameters\" that shall include:
\- SUPI and/or GPSI;
Upon the reception of an HTTP GET request with: \"{apiRoot}/nbsf-
management/\/pcf-ue-bindings\" as Resource URI, the BSF shall
search the corresponding binding information.
If the HTTP request message from the NF service consumer is accepted and a
binding resource matching the query parameters exists, the BSF shall reply
with an HTTP \"200 OK\" response, as shown in figure 4.2.4.3-1, step 2,
containing the corresponding \"PcfForUeBinding\" data structure(s), as
provided by the PCF during the Nbsf_Management_Register Service Operation, in
the response body containing PCF addressing information, and if available, the
related PCF Set Id and PCF instance Id. If there is no PCF binding information
for a UE matching the query parameters, the BSF shall respond with an HTTP
\"200 OK\" response with an empty array (i.e. \"[ ]\" in JSON).
NOTE: If the NF service consumer (such as the AF or NEF) is not able to reach
the received PCF address(es), the NF service consumer can use the PCF Set Id
and the PCF instance Id as specified in 3GPP TS 29.513 [5] clause 6.2.
If the \"PCF for a UE Bindings\" resource does not exist, the BSF shall
respond with a \"404 Not Found\" HTTP error code.
#### 4.2.4.4 Retrieve the PCF binding information for an MBS Session
Figure 4.2.4.4-1: PCF for an MBS Session Binding Retrieval procedure
1\. The NF service consumer (e.g. NEF, MBSF, AF) shall invoke the
Nbsf_Management_Discovery service operation to obtain from the BSF the
addressing information of the selected PCF for an MBS Session. The NF service
consumer shall send for this purpose an HTTP GET request targeting the \"PCF
for an MBS Session Bindings\" resource URI, i.e. \"{apiRoot}/nbsf-
management/\/pcf-mbs-bindings\", which shall include the following
query parameters:
> \- the identifier of the MBS Session to which the requested MBS Session
> binding is related, within the \"mbs-session-id\" query parameter; and
>
> 2\. Upon reception of the HTTP GET request with: \"{apiRoot}/nbsf-
> management/\/pcf-mbs-bindings\" as Resource URI, the BSF shall
> search the corresponding binding information. Then,
>
> \- if the HTTP GET request from the NF service consumer is accepted and a
> corresponding \"Individual PCF for an MBS Session Binding\" resource
> matching the provided query parameters exists, the BSF shall respond with an
> HTTP \"200 OK\" response, as shown in figure 4.2.4.4-1, step 2, containing
> the corresponding \"PcfMbsBinding\" data structure, as provided by the PCF
> during the Nbsf_Management_Register Service Operation, in the response body
> containing PCF addressing information, and if available, the related PCF Set
> Id and PCF instance Id; and
>
> \- if there is no PCF binding information for an MBS Session matching the
> received query parameters, the BSF shall respond with an HTTP \"200 OK\"
> response with an empty array (i.e. \"[ ]\" in JSON).
>
> NOTE: If the NF service consumer (such as the AF, NEF or MBSF) is not able
> to reach the received PCF address(es), the NF service consumer can use the
> PCF Set Id and the PCF instance Id as specified in subclause 8.6 of 3GPP TS
> 29.513 [5].
>
> If errors occur when processing the HTTP GET request, the BSF shall apply
> the error handling procedures, as specified in subclause 5.7.
>
> If an invalid combination of query parameters (i.e. a combination without
> MBS Session Id) is contained in the request URI, the BSF shall respond with
> an HTTP \"400 Bad Request\" error code containing
> \"MANDATORY_QUERY_PARAM_MISSING\" as application error within the
> ProblemDetails IE. If more than one Individual PCF for an MBS Session
> Binding resources are found, the BSF shall respond with an HTTP \"400 Bad
> Request\" error code containing \"MULTIPLE_BINDING_INFO_FOUND\" as
> application error within the ProblemDetails IE.
>
> If the \"PCF for an MBS Session Bindings\" resource does not exist, the BSF
> shall respond with a \"404 Not Found\" HTTP error code.
### 4.2.5 Nbsf_Management_Update Service Operation
#### 4.2.5.1 General
This service operation allows the NF service consumer to update an existing
PCF for a PDU session binding information for a UE in the BSF by providing the
information to be updated (e.g. the UE address(es)), and the BSF updates the
PDU session binding information.
This service operation also allows the NF service consumer to update an
existing PCF for a UE binding information for a UE in the BSF by providing the
information to be updated (e.g. PCF instance, and related PCF address), and
the BSF updates the UE binding information.
This service operation also allows the NF service consumer to update existing
PCF for an MBS Session binding information for an MBS Session at the BSF by
providing the information to be updated (e.g. PCF instance, PCF addresses),
and the BSF update the MBS session binding information.
The following procedures using the Nbsf_Management_Update service operation
are supported:
\- Update an existing PCF for a PDU Session binding information.
\- Update an existing PCF for a UE binding information.
\- Update an existing PCF for an MBS Session binding information.
#### 4.2.5.2 Update an existing PCF for a PDU Session binding information
{width="5.990972222222222in" height="1.648611111111111in"}
Figure 4.2.5.2-1: NF service consumer update an existing PCF for a PDU Session
binding information
If the feature \"BindingUpdate\" is supported, the NF service consumer shall
invoke the Nbsf_Management_Update service operation to update PCF for a PDU
the session binding information for a UE in the BSF. The NF service consumer
shall send an HTTP PATCH request with \"{apiRoot}/nbsf-
management/\/pcfBindings/{bindingId}\" as Resource URI, where
\"{bindingId}\" is the \"Individual PCF for a PDU Session Binding\" resource
identifier that is to be updated, as shown in figure 4.2.5.2-1, step 1. The
\"PcfBindingPatch\" data structure provided in the request body shall contain
the information to be updated as follows.
The \"PcfBindingPatch\" data structure:
\- for the IP address information of the served UE:
a) shall contain the \"ipv4Addr\" attribute if the IPv4 address is modified,
or if the \"ExtendedSamePcf\" feature is supported, if the IPv4 address was
not previously provided, and may contain the \"ipDomain\" attribute if the
IPv4 address domain is modified or if the \"ExtendedSamePcf\" feature is
supported, if the IPv4 address domain was not previously provided and applies.
To remove the IPv4 address the \"ipv4Addr\" attribute shall be set to \"null\"
and if applicable, the \"ipDomain\" attribute shall be set to \"null\"; and/or
b) shall contain the \"ipv6Prefix\" attribute if the IPv6 address information
is modified, or if the \"ExtendedSamePcf\" feature is supported, if the IPv6
address information was not previously provided. The \"ipv6Prefix\" attribute
shall be set to \"null\" if the IPv6 address information is removed; and/or
c) if the \"MultiUeAddr\" feature is supported, shall contain:
1) the \"addIpv6Prefixes\" attribute containing the new complete list of
additional IPv6 Address Prefixes if the additional IPv6 address information is
modified, or if the \"ExtendedSamePcf\" feature is supported, the current list
of IPv6 address prefixes if it was not previously provided; or
2) the \"addIpv6Prefixes\" attribute set to \"null\" if all additional IPv6
Address Prefixes are removed; or
\- for the MAC address information of the served UE:
a) shall contain the \"macAddr48\" attribute if the MAC address is modified,
or if the \"ExtendedSamePcf\" feature is supported, if the MAC address was not
previously provided. The \"macAddr48\" attribute shall be set to \"null\" if
the MAC address is removed; and/or
b) if the \"MultiUeAddr\" feature is supported, shall contain:
1) the \"addMacAddrs\" attribute containing the new complete list of
additional MAC addresses if the additional MAC address information is
modified, or if the \"ExtendedSamePcf\" feature is supported, the current list
of MAC address(es) if it was not previously provided; or
2) the \"addMacAddrs\" attribute set to \"null\" if all additional MAC
addresses are removed; or
\- for the PCF instance and the associated PCF address information of the PCF
holding the SM policy association, should contain if a new PCF instance is
selected:
a) the PCF instance ID encoded as \"pcfId\" attribute;
b) if the PCF supports the Npcf_PolicyAuthorization service:
1) the FQDN of the PCF encoded as \"pcfFqdn\" attribute; and/or
2) a description of IP endpoints at the PCF hosting the
Npcf_PolicyAuthorization service encoded as \"pcfIpEndPoints\" attribute;
and/or
c) if the PCF supports the Rx interface:
1) the Diameter host id of the PCF encoded as \"pcfDiamHost\"; and
2) the Diameter realm of the PCF and \"pcfDiamRealm\" attributes; and/or
\- for the S-NSSAI of the PDU session, if the S-NSSAI has been replaced:
a) shall contain the \"snssai\" attribute containing the alternate S-NSSAI
used to replace the existing S-NSSAI if the \"FFS\" feature is supported.
Editor's Note: Name of the feature for the support of S-NSSAI replacement is
FFS.
If the BSF cannot successfully fulfil the received HTTP PATCH request due to
the internal BSF error or due to the error in the HTTP PATCH request, the BSF
shall send the HTTP error response as specified in clause 5.7.
Otherwise, upon the reception of the HTTP PATCH request with:
\"{apiRoot}/nbsf-management/\/pcfBindings/{bindingId}\" as
Resource URI and the \"PcfBindingPatch\" data structure as request body, the
BSF shall update the binding information.
If the BSF successfully updated an \"Individual PCF for a PDU Session
Binding\" resource, the BSF shall respond with \"200 OK\" status code with the
message body containing the resource representation with the updated PCF for a
PDU session binding information in the \"PcfBinding\" data structure, as shown
in figure 4.2.5.2-1, step 2.
If errors occur when processing the HTTP PATCH request, the BSF shall send an
HTTP error response as specified in clause 5.7.
If the feature \"ES3XX\" is supported, and the BSF determines the received
HTTP PATCH request needs to be redirected, the BSF shall send an HTTP redirect
response as specified in clause 6.10.9 of 3GPP TS 29.500 [6].
#### 4.2.5.3 Update an existing PCF for a UE binding information
{width="6.325694444444444in" height="2.06875in"}
Figure 4.2.5.3-1: NF service consumer update an existing PCF for a UE binding
information
The NF service consumer shall invoke the Nbsf_Management_Update service
operation to update the PCF for a UE binding information for a UE in the BSF.
The NF service consumer shall send an HTTP PATCH request with
\"{apiRoot}/nbsf-management/\/pcf-ue-bindings/{bindingId}\" as
Resource URI, where \"{bindingId}\" is the \"Individual PCF for a UE Binding\"
resource identifier that is to be updated, as shown in figure 4.2.5.3-1, step
1. The \"PcfForUeBindingPatch\" data structure provided in the request body
shall contain the information to be updated as follows.
The \"PcfForUeBindingPatch\" data structure, for the PCF instance and the
associated PCF address information of the PCF holding the AM policy
association, shall contain if a new PCF instance is selected:
a) the PCF instance ID encoded as \"pcfId\" attribute; and
b) if the PCF supports the Npcf_AMPolicyAuthorization service, the
Npcf_AMPolicyAuthorization service address information consisting of:
1) the FQDN of the PCF encoded as \"pcfForUeFqdn\" attribute; and/or
2) a description of IP endpoints at the PCF hosting the
Npcf_AMPolicyAuthorization service encoded as \"pcfForUeIpEndPoints\"
attribute.
NOTE: In this release of the specification the PCF for a UE registering the
binding information in the BSF supports the Npcf_AMPolicyAuthorization
service.
If the BSF cannot successfully fulfill the received HTTP PATCH request due to
the internal BSF error or due to the error in the HTTP PATCH request, the BSF
shall send the HTTP error response as specified in clause 5.7.
Otherwise, upon the reception of the HTTP PATCH request with:
\"{apiRoot}/nbsf-management/\/pcf-ue-bindings/{bindingId}\" as
Resource URI and the \"PcfForUeBindingPatch\" data structure as request body,
the BSF shall update the binding information.
If the BSF successfully updated an \"Individual PCF for a UE Binding\"
resource, the BSF shall respond with \"200 OK\" status code with the message
body containing the resource representation with the updated PCF for a
UEbinding information in the \"PcfForUeBinding\" data structure, as shown in
figure 4.2.5.3-1, step 2.
If the BSF determines the received HTTP PATCH request needs to be redirected,
the BSF shall send an HTTP redirect response as specified in clause 6.10.9 of
3GPP TS 29.500 [6].
#### 4.2.5.4 Update an existing PCF for an MBS Session binding information
Figure 4.2.5.4-1: NF service consumer updates an existing PCF for an MBS
Session binding information
1\. The NF service consumer (e.g. PCF handling the MBS Session) shall invoke
the Nbsf_Management_Update service operation to request the modification of an
existing PCF for an MBS Session binding information for an MBS Session at the
BSF. The NF service consumer shall send for this purpose an HTTP PATCH request
targeting the URI of the concerned \"Individual PCF for an MBS Session
Binding\" resource, i.e. \"{apiRoot}/nbsf-management/\/pcf-mbs-
bindings/{bindingId}\", with the request body containing the
PcfMbsBindingPatch data structure including the requested modifications.
2\. Upon successful modification of the PCF for an MBS Session binding, the
BSF shall respond with either:
\- an HTTP \"200 OK\" status code with the response body containing a
representation of the updated \"Individual PCF for an MBS Session Binding\"
resource wihin the PcfMbsBinding data structure; or
\- an HTTP \"204 No Content\" status code.
If errors occur when processing the HTTP PATCH request, the BSF shall apply
the error handling procedures specified in subclause 5.7.
> If the BSF determines the received HTTP PATCH request needs to be
> redirected, the BSF shall send an HTTP redirect response as specified in
> clause 6.10.9 of 3GPP TS 29.500 [6].
### 4.2.6 Nbsf_Management_Subscribe Service Operation
#### 4.2.6.1 General
This service operation is used by an NF service consumer to subscribe to the
notifications of registration/deregistration events for the PCF for a PDU
Session or PCF for a UE.
The following procedures using the Nbsf_Management_Subscribe service operation
are supported:
\- Creating a new subscription;
\- Modifying an existing subscription.
#### 4.2.6.2 Creating a new subscription
Figure 4.2.6.2-1 illustrates the creation of a subscription.
Figure 4.2.6.2-1: Creation of a subscription
To subscribe to event notifications, the NF service consumer shall send an
HTTP POST request with: \"{apiRoot}/nbsf-
management/\/subscriptions\" as Resource URI and the
BsfSubscription data structure as request body that shall include:
\- an URI where to receive the requested notifications within the \"notifUri\"
attribute;
\- a Notification Correlation Identifier provided by the NF service consumer
for the requested notifications within the \"notifCorreId\" attribute;
\- identification of the events to subscribe as \"events\" attribute;
\- the SUPI within the \"supi\" attribute;
\- if the NF service consumer subscribes to event notifications of newly
registered and deregistered PCF for a PDU session, the \"events\" attribute
indicating
\"PCF_PDU_SESSION_BINDING_REGISTRATION\"/\"PCF_PDU_SESSION_BINDING_DEREGISTRATION\"
and/or subscribes to the event notifications of binding registration of the
first PDU session and deregistration of the last PDU session for a S-NSSAI and
DNN combination indicating
\"SNSSAI_DNN_BINDING_REGISTRATION\"/\"SNSSAI_DNN_BINDING_DEREGISTRATION\"
respectively, and one DNN and S-NSSAI pair to which the subscription applies
within the \"snssaiDnnPairs\" attribute and, when the subscription applies to
more than one DNN and S-NSSAI, the list of the remaining DNN and S-NSSAI pairs
to which the subscription applies within the \"addSnssaiDnnPairs\" attribute,
which includes the DNN within the \"dnn\" attribute and the S-NSSAI within the
\"snssai\" attribute;
NOTE 1: When the subscribed event is SNSSAI_DNN_BINDING_REGISTRATION and
SNSSAI_DNN_BINDING_DEREGISTRATION, only the status of the binding for the
concerned S-NSSAI and DNN combination is reported, i.e., it is not needed to
report the complete binding related information, but only an indication of
registration or deregistration event.
\- if the NF service consumer subscribes to event notifications of newly
registered and deregistered PCF for a UE, the \"events\" attribute indicating
\"PCF_UE_BINDING_REGISTRATION\"/\"PCF_UE_BINDING_DEREGISTRATION\".
The BsfSubscription data structure as request body may also include:
\- the GPSI within the \"gpsi\" attribute.
If the BSF cannot successfully fulfil the received HTTP POST request due to an
internal BSF error or an error in the HTTP POST request, the PCF shall send an
HTTP error response as specified in clause 5.7.
Upon successful reception of the HTTP POST request with \"{apiRoot}/nbsf-
management/\/subscriptions\" as request URI and
\"BsfSubscription\" data structure as request body, the BSF shall create a new
\"Individual Binding Subscription\" resource, store the subscription and send
a HTTP \"201 Created\" response as shown in figure 4.2.6.2-1, step 2. The BSF
shall include in the \"201 Created\" response:
\- a Location header field; and
\- a \"BsfSubscriptionResp\" data type in the payload body.
The Location header field shall contain the URI of the created individual
application session context resource i.e., \"{apiRoot}/nbsf-
management/\/subscriptions/{subId}\".
The \"BsfSubscriptionResp\" data type shall contain:
\- the representation of the created \"Individual Binding Subscription\"
resource within the \"BsfSubscription\" data type; and
\- when the BSF already has available the requested information at the time of
the event subscription request, the related notification information within
the \"BsfNotification\" data type as specified in clause 4.2.8.2.
The subscription to any event lasts till the NF service consumer terminates it
as described in subsclause 4.2.7.2. For every subscribed event, the continuous
reporting notification method shall apply.
#### 4.2.6.3 Modifying an existing subscription
Figure 4.2.6.3-1 illustrates the modification of an existing subscription.
Figure 4.2.6.3-1: Modification of an existing subscription
To modify an existing subscription to event notifications, the NF service
consumer shall send an HTTP PUT request with: \"{apiRoot}/nbsf-
management/\/subscriptions/{**subId**}\" as Resource URI, where
\"{**subId**}\" is the subscription correlation ID of the existing
subscription, and BsfSubscription data structure as request body as described
in clause 4.2.6.2.
NOTE 1: The \"notifUri\" attribute within the BsfSubscription data structure
can be modified to request that subsequent notifications are sent to a new NF
service consumer.
NOTE 2: This service operation does not allow the unsubscription of all
subscribed events. The unsubscription of all subscribed events is described in
clause 4.2.7.2.
Upon the reception of an HTTP PUT request with: \"{apiRoot}/nbsf-
management/\/subscriptions/{**subId**}\" as Resource URI and
BsfSubscription data structure as request body, if the received HTTP request
is successfully processed and accepted, the BSF shall:
\- update the concerned subscription; and
\- send an HTTP \"200 OK\" response with a response body containing a
representation of the updated subscription in the BsfSubscriptionResp data
structure or send an HTTP \"204 No Content\".
If errors occur when processing the HTTP PUT request, the BSF shall send an
HTTP error response as specified in clause 5.7.
If the BSF determines the received HTTP PUT request needs to be redirected,
the BSF shall send an HTTP redirect response as specified in clause 6.10.9 of
3GPP TS 29.500 [5].
### 4.2.7 Nbsf_Management_Unsubscribe Service Operation
#### 4.2.7.1 General
This service operation is used by an NF service consumer to unsubscribe from
event notifications.
The following procedure using the Nbsf_Management_Unsubscribe service
operation is supported:
\- Unsubscription from event notifications.
#### 4.2.7.2 Unsubscription from event notifications
Figure 4.2.7.2-1 illustrates the unsubscription from event notifications.
Figure 4.2.7.2-1: Unsubscription from event notifications
To unsubscribe from all event(s) notifications, the NF service consumer shall
send an HTTP DELETE request with: \"{apiRoot}/nbsf-
management/\/subscriptions/{**subId**}\" as Resource URI, where
\"{**subId**}\" is the subscription correlation ID of the existing
subscription that is to be deleted.
Upon the reception of the HTTP DELETE request with: \"{apiRoot}/nbsf-
management/\/subscriptions/{**subId**}\" as Resource URI, if the
received HTTP request is successfully processed and accepted, the BSF shall:
\- remove the corresponding subscription; and
\- send an HTTP \"204 No Content\" response.
If errors occur when processing the HTTP DELETE request, the BSF shall send an
HTTP error response as specified in clause 5.7.
If the BSF determines the received HTTP DELETE request needs to be redirected,
the BSF shall send an HTTP redirect response as specified in clause 6.10.9 of
3GPP TS 29.500 [5].
### 4.2.8 Nbsf_Management_Notify Service Operation
#### 4.2.8.1 General
The Nbsf_Management_Notify service operation enables the BSF to send
notifications to NF service consumers upon the occurrence of a previously
subscribed event.
The following procedure using the Nbsf_Management_Notify service operation is
supported:
\- Notification about subscribed events.
#### 4.2.8.2 Notification about subscribed events
The present \"notification about subscribed events\" procedure is performed by
the BSF when any of the subscribed events occur.
Figure 4.2.8.2-1 illustrates the notification about subscribed events.
{width="6.625in" height="2.191666666666667in"}
Figure 4.2.8.2-1: Notification about subscribed events
If the BSF observes event(s) for which an NF service consumer has subscribed,
the BSF shall send an HTTP POST request as shown in figure 4.2.8.2-1, step 1,
with the \"{notifUri}\" as request URI containing the value previously
provided by the NF service consumer within the corresponding subscription, and
the BsfNotification data structure.
The BsfNotification data structure shall include:
\- the notification correlation ID provided by the NF service consumer during
the subscription within \"notifCorreId\" attribute;
\- the list of the reported events within the \"eventNotifs\" attribute. For
each reported event, the BsfEventNotification data type shall include the
event identifier and may include additional event information.
Within each instance of BsfEventNotification data type, the BSF shall include:
\- When a subscription to \"PCF_PDU_SESSION_BINDING_REGISTRATION\" and
\"PCF_PDU_SESSION_BINDING_DEREGISTRATION\" exists:
a. When the BSF detects the registration of a PCF for a PDU session for a DNN
and S-NSSAI, SUPI, and GPSI, if available, matching one of the DNN, S-NSSAI
pairs, the SUPI and the GPSI, if available, provided during subscription, the
BSF shall set the \"event\" attribute to
\"PCF_PDU_SESSION_BINDING_REGISTRATION\" and shall include the
\"pcfForPduSessInfos\" with the binding information of the detected PDU
session.
b. When the BSF detects the deregistration of a PCF for a PDU session for a
DNN and S-NSSAI, SUPI, and GPSI, if available, matching one of the DNN,
S-NSSAI pairs, the SUPI and the GPSI, if available, provided during
subscription, the BSF shall set the \"event\" attribute to
\"PCF_PDU_SESSION_BINDING_DEREGISTRATION\" and shall include the
\"pcfForPduSessInfos\" with the binding information of the removed PDU
session.
\- When a subscription to \"PCF_UE_BINDING_REGISTRATION\" and
\"PCF_UE_BINDING_DEREGISTRATION\"exists:
a. When the BSF detects the registration of a PCF for a UE for a SUPI and, if
available, GPSI matching the SUPI and, if available, GPSI provided during
subscription, the BSF shall set the \"event\" attribute to
\"PCF_UE_BINDING_REGISTRATION\" and shall include the \"pcfForUeInfo\" with
the binding information of the detected UE.
b. When the BSF detects the deregistration of a PCF for a UE for a SUPI and,
if available, GPSI matching the SUPI and, if available, GPSI provided during
subscription, the BSF shall set the \"event\" attribute to
\"PCF_UE_BINDING_DEREGISTRATION\" and shall include the \"pcfForUeInfo\" with
the binding information of the removed UE.
\- When a subscription to \"SNSSAI_DNN_BINDING_REGISTRATION\" and
\"SNSSAI_DNN_BINDING_DEREGISTRATION\"exists:
a. When the BSF detects the registration of PCF for a PDU session for a DNN
and S-NSSAI, SUPI, and GPSI, if available, matching one of the DNN, S-NSSAI
pairs, the SUPI and the GPSI, if available, provided during subscription, and
this is the first PDU session for the DNN and S-NSSAI, SUPI, and GPSI, if
available, combination, the BSF shall set the \"event\" attribute to
\"SNSSAI_DNN_BINDING_REGISTRATION\" and the \"matchSnssaiDnns\" attribute with
the matching S-NSSAI and DNN pairs.
b. When the BSF detects the deregistration of PCF for a PDU session for a DNN
and S-NSSAI, SUPI, and GPSI, if available, matching one of the DNN, S-NSSAI
pairs, the SUPI and the GPSI, if available, provided during subscription, and
this is the last PDU session for the DNN and S-NSSAI, SUPI, and GPSI, if
available, combination, the BSF shall set the \"event\" attribute to
\"SNSSAI_DNN_BINDING_DEREGISTRATION\" and the removed S-NSSAI and DNN
combinations within the \"matchSnssaiDnns\" attribute.
If the HTTP POST request from the BSF is accepted, the NF service consumer
shall acknowledge the receipt of the event notification with a \"204 No
Content\" response to HTTP POST request, as shown in figure 4.2.8.2-1, step 2.
If the HTTP POST request from the BSF is not accepted, the NF service consumer
shall indicate in the response to HTTP POST request the cause for the
rejection as specified in clause 5.7. If the NF service consumer determines
the received HTTP POST request needs to be redirected, the NF service consumer
shall send an HTTP redirect response as specified in clause 6.10.9 of 3GPP TS
29.500 [5].
# 5 Nbsf_Management Service API
## 5.1 Introduction
The Nbsf_Management Service shall use the Nbsf_Management API.
The API URI of the Nbsf_Management API shall be:
**{apiRoot}/\ /\**
The request URIs used in HTTP requests from the NF service consumer towards
the BSF shall have the Resource URI structure defined in clause 4.4.1 of 3GPP
TS 29.501 [7], i.e.:
**{apiRoot}/\ /\/\**
with the following components:
\- The {apiRoot} shall be set as described in 3GPP TS 29.501 [7].
\- The \ shall be \"nbsf-management\".
\- The \ shall be \"v1\".
\- The \ shall be set as described in clause 5.3.
## 5.2 Usage of HTTP
### 5.2.1 General
HTTP/2, IETF RFC 7540 [8], shall be used as specified in clause 5 of 3GPP TS
29.500 [6].
HTTP/2 shall be transported as specified in clause 5.3 of 3GPP TS 29.500 [6].
The OpenAPI [11] specification of HTTP messages and content bodies for the
Nbsf_Management is contained in Annex A.
### 5.2.2 HTTP standard headers
#### 5.2.2.1 General
See clause 5.2.2 of 3GPP TS 29.500 [6] for the usage of HTTP standard headers.
#### 5.2.2.2 Content type
JSON, IETF RFC 8259 [9], shall be used as content type of the HTTP bodies
specified in the present specification as specified in clause 5.4 of 3GPP TS
29.500 [6]. The use of the JSON format shall be signalled by the content type
\"application/json\".
\"Problem Details\" JSON object shall be used to indicate additional details
of the error in a HTTP response body and shall be signalled by the content
type \"application/problem+json\", as defined in IETF RFC 7807 [13].
JSON object used in the HTTP PATCH request shall be encoded according to
\"JSON Merge Patch\" and shall be signalled by the content type
\"application/merge-patch+json\", as defined in IETF RFC 7396 [20].
### 5.2.3 HTTP custom headers
#### 5.2.3.1 General
The Nbsf_Management Service API shall support the mandatory HTTP custom header
fields specified in clause 5.2.3.2 of 3GPP TS 29.500 [6] and may support the
optional HTTP custom header fields specified in clause 5.2.3.3 of 3GPP TS
29.500 [6].
In this release of the specification, no specific custom headers are defined
for the Nbsf_Management Service API.
## 5.3 Resources
### 5.3.1 Resource Structure
This clause describes the structure for the Resource URIs, the resources and
methods used for the service.
The structure of the Resource URI of the Nbsf_Management service is shown in
figure 5.3.1-1.
Figure 5.3.1-1: Resource URI structure of the Nbsf_Management API
Table 5.3.1-1 provides an overview of the resources and applicable HTTP
methods.
Table 5.3.1-1: Resources and methods overview
+----------------+----------------+----------------+----------------+ | Resource name | Resource URI | HTTP method or | Description | | | | custom | | | | | operation | | +----------------+----------------+----------------+----------------+ | PCF for a PDU | /pcfBindings | POST | Register a new | | Session | | | PCF for a PDU | | Bindings | (NOTE) | | Session | | | | | binding | | | | | information of | | | | | a given UE | | | | | address in the | | | | | BSF. | +----------------+----------------+----------------+----------------+ | | | GET | Retrieve the | | | | | PCF for a PDU | | | | | Session | | | | | binding | | | | | information | | | | | i.e. PCF | | | | | address | | | | | information of | | | | | a given tuple | | | | | (UE address, | | | | | SUPI; GPSI, | | | | | DNN, S-NSSAI). | +----------------+----------------+----------------+----------------+ | Individual PCF | /pcfBindings\ | DELETE | Deregister an | | for a PDU | /{bindingId} | | existing PCF | | Session | | | for a PDU | | Binding | (NOTE) | | Session | | | | | binding | | | | | information | | | | | from the BSF. | +----------------+----------------+----------------+----------------+ | | | PATCH | Update an | | | | | existing PCF | | | | | for a PDU | | | | | Session | | | | | binding | | | | | information in | | | | | the BSF. | +----------------+----------------+----------------+----------------+ | PCF for a UE | /p | POST | Register a new | | Bindings | cf-ue-bindings | | PCF for a UE | | | | | binding | | | | | information of | | | | | a given UE | | | | | identity in | | | | | the BSF. | +----------------+----------------+----------------+----------------+ | | | GET | Retrieve the | | | | | PCF for a UE | | | | | binding | | | | | information | | | | | i.e. PCF | | | | | address | | | | | information of | | | | | a UE. | +----------------+----------------+----------------+----------------+ | Individual PCF | pc | DELETE | Deregister an | | for a UE | f-ue-bindings\ | | existing PCF | | Binding | /{bindingId} | | for a UE | | | | | binding | | | | | information | | | | | from the BSF. | +----------------+----------------+----------------+----------------+ | | | PATCH | Update an | | | | | existing PCF | | | | | for a UE | | | | | binding | | | | | information in | | | | | the BSF. | +----------------+----------------+----------------+----------------+ | PCF for an MBS | /pc | POST | Register a new | | Session | f-mbs-bindings | | PCF for an MBS | | Bindings | | | Session | | | | | Binding. | +----------------+----------------+----------------+----------------+ | | | GET | Retrieve PCF | | | | | for an MBS | | | | | Session | | | | | Binding | | | | | information. | +----------------+----------------+----------------+----------------+ | Individual PCF | / | PATCH | Modify an | | for an MBS | pcf-mbs-bindin | | existing PCF | | Session | gs/{bindingId} | | for an MBS | | Binding | | | Session | | | | | Binding. | +----------------+----------------+----------------+----------------+ | | | DELETE | Deregister an | | | | | existing PCF | | | | | for an MBS | | | | | Session | | | | | Binding. | +----------------+----------------+----------------+----------------+ | Binding | /subscriptions | POST | Create a new | | Subscriptions | | | Individual | | | | | Binding | | | | | Subscription | | | | | resource. | +----------------+----------------+----------------+----------------+ | Individual | / | PUT | Modify an | | Binding | subscriptions\ | | existing | | Subscription | /{subId} | | Individual | | | | | Binding | | | | | Subscription | | | | | resource. | +----------------+----------------+----------------+----------------+ | | | DELETE | Delete an | | | | | Individual | | | | | Binding | | | | | Subscription | | | | | resource and | | | | | cancel the | | | | | related | | | | | subscription. | +----------------+----------------+----------------+----------------+ | NOTE: The path | | | | | segment does | | | | | not follow the | | | | | related naming | | | | | convention | | | | | defined in | | | | | 3GPP TS | | | | | 29.501 [7]. | | | | | The path | | | | | segment is | | | | | kept though as | | | | | defined in the | | | | | current | | | | | specification | | | | | for backward | | | | | compatibility | | | | | c | | | | | onsiderations. | | | | +----------------+----------------+----------------+----------------+
### 5.3.2 Resource: PCF for a PDU Session Bindings
#### 5.3.2.1 Description
This resource represents a collection of the different PCF for a PDU Session
binding information of given UE address(es) registered in the BSF.
#### 5.3.2.2 Resource definition
Resource URI: {apiRoot}/nbsf-management/\/pcfBindings
The \ shall be set as described in clause 5.1.
This resource shall support the resource URI variables defined in table
5.3.2.2-1.
Table 5.3.2.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.1
* * *
#### 5.3.2.3 Resource Standard Methods
##### 5.3.2.3.1 POST
This method shall support the URI query parameters specified in table
5.3.2.3.1-1.
Table 5.3.2.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.3.2.3.1-2 and the response data structures and response codes specified in
table 5.3.2.3.1-3.
Table 5.3.2.3.1-2: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description PcfBinding M 1 Register a new Individual
PCF for a PDU Session binding information.
* * *
Table 5.3.2.3.1-3: Data structures supported by the POST Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | PcfBinding | M | 1 | 201 Created | The creation | | | | | | of an | | | | | | individual | | | | | | PCF for a PDU | | | | | | Session | | | | | | binding. | +---------------+---+-------------+---------------+---------------+ | ExtP | O | 0..1 | 403 Forbidden | The existing | | roblemDetails | | | | PCF binding | | | | | | information | | | | | | stored in the | | | | | | BSF for the | | | | | | indicated | | | | | | combination | | | | | | is returned. | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [6] | | | | | | shall also | | | | | | apply. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.3.2.3.1-4: Headers supported by the 201 Response Code on this resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/nbsf-
management/\/pcfBindings/{bindingId}
* * *
##### 5.3.2.3.2 GET
This method shall support the URI query parameters specified in table
5.3.2.3.2-1.
Table 5.3.2.3.2-1: URI query parameters supported by the GET method on this
resource
+---------------+---------------+---+-------------+---------------+ | Name | Data type | P | Cardinality | Description | +---------------+---------------+---+-------------+---------------+ | ipv4Addr | Ipv4Addr | C | 0..1 | The IPv4 | | | | | | Address of | | (NOTE 7) | | | | the served | | | | | | UE. (NOTE 1) | | | | | | (NOTE 3) | | | | | | (NOTE 4) | +---------------+---------------+---+-------------+---------------+ | ipv6Prefix | Ipv6Prefix | C | 0..1 | The IPv6 | | | | | | Address of | | (NOTE 7) | | | | the served | | | | | | UE. (NOTE 1) | | | | | | (NOTE 3) | | | | | | (NOTE 4) | | | | | | | | | | | | The NF | | | | | | service | | | | | | consumer | | | | | | shall append | | | | | | \'/128\' to | | | | | | the IPv6 | | | | | | address in | | | | | | the attribute | | | | | | value. E.g. | | | | | | \'2001:db8: | | | | | | 85a3::8a2e:37 | | | | | | 0:7334/128\'. | +---------------+---------------+---+-------------+---------------+ | macAddr48 | MacAddr48 | C | 0..1 | The MAC | | | | | | Address of | | (NOTE 7) | | | | the served | | | | | | UE. (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | dnn | Dnn | O | 0..1 | Data Network | | | | | | Name, a full | | | | | | DNN with both | | | | | | the Network | | | | | | Identifier | | | | | | and Operator | | | | | | Identifier, | | | | | | or a DNN with | | | | | | the Network | | | | | | Identifier | | | | | | only. | | | | | | | | | | | | (NOTE 6) | +---------------+---------------+---+-------------+---------------+ | supi | Supi | O | 0..1 | Subscription | | | | | | Permanent | | | | | | Identifier | +---------------+---------------+---+-------------+---------------+ | gpsi | Gpsi | O | 0..1 | Generic | | | | | | Public | | | | | | Subscription | | | | | | Identifier | +---------------+---------------+---+-------------+---------------+ | snssai | Snssai | O | 0..1 | The | | | | | | i | | | | | | dentification | | | | | | of slice. | | | | | | (NOTE 2) | +---------------+---------------+---+-------------+---------------+ | ipDomain | string | O | 0..1 | The IPv4 | | | | | | address | | (NOTE 7) | | | | domain | | | | | | identifier. | | | | | | (NOTE 2) | +---------------+---------------+---+-------------+---------------+ | supp-feat | Supp | O | 0..1 | To filter | | | ortedFeatures | | | irrelevant | | | | | | responses | | | | | | related to | | | | | | unsupported | | | | | | features. | | | | | | (NOTE 5) | +---------------+---------------+---+-------------+---------------+ | NOTE 1: One | | | | | | and only one | | | | | | of query | | | | | | parameter | | | | | | ipv4Addr, | | | | | | ipv6Prefix or | | | | | | macAddr48 | | | | | | shall be | | | | | | present. | | | | | | | | | | | | NOTE 2: The | | | | | | query | | | | | | parameters | | | | | | snssai and/or | | | | | | ipDomain, if | | | | | | applicable | | | | | | (IPv4 address | | | | | | overlapping), | | | | | | shall be | | | | | | present with | | | | | | query | | | | | | parameter | | | | | | ipv4Addr. | | | | | | | | | | | | NOTE 3: 5G-RG | | | | | | and FN-RG | | | | | | replaces UE | | | | | | for wireline | | | | | | access | | | | | | support. See | | | | | | 3GPP TS 2 | | | | | | 3.316 [19]. | | | | | | | | | | | | NOTE 4: The | | | | | | ipv4Addr and | | | | | | ipv6Prefix | | | | | | query | | | | | | parameters | | | | | | may include | | | | | | the IP | | | | | | address of | | | | | | devices in | | | | | | networks | | | | | | behind the UE | | | | | | (see | | | | | | c | | | | | | lauses 5.6.14 | | | | | | and 5.8.2.2 | | | | | | of | | | | | | 3GPP TS | | | | | | 23.501 [2] | | | | | | and | | | | | | c | | | | | | lause 4.6.2.3 | | | | | | of | | | | | | 3GPP TS 23 | | | | | | .316 [19]). | | | | | | | | | | | | NOTE 5: This | | | | | | query | | | | | | parameter may | | | | | | be present | | | | | | when there | | | | | | are supported | | | | | | features that | | | | | | apply to the | | | | | | retrieval of | | | | | | the | | | | | | \"Individual | | | | | | PCF for a PDU | | | | | | Session | | | | | | Binding\" | | | | | | resource as | | | | | | defined in | | | | | | cl | | | | | | ause 4.2.4.2. | | | | | | Otherwise, it | | | | | | shall be | | | | | | omitted. | | | | | | | | | | | | NOTE 6: The | | | | | | BSF uses the | | | | | | DNN as | | | | | | received from | | | | | | the NF | | | | | | service | | | | | | consumer | | | | | | without | | | | | | applying any | | | | | | tr | | | | | | ansformation. | | | | | | To | | | | | | successfully | | | | | | perform DNN | | | | | | matching, in | | | | | | a specific | | | | | | deployment a | | | | | | DNN shall | | | | | | always be | | | | | | encoded | | | | | | either with | | | | | | the full DNN | | | | | | (e.g., | | | | | | because there | | | | | | are multiple | | | | | | Operator | | | | | | Identifiers | | | | | | for a Network | | | | | | Identifier) | | | | | | or the DNN | | | | | | Network | | | | | | Identifier | | | | | | only. The NF | | | | | | service | | | | | | consumer may | | | | | | include the | | | | | | DNN Operator | | | | | | Identifier | | | | | | based on | | | | | | local | | | | | | c | | | | | | onfiguration. | | | | | | | | | | | | NOTE 7: The | | | | | | query | | | | | | parameter | | | | | | does not | | | | | | follow the | | | | | | related | | | | | | naming | | | | | | convention | | | | | | (i.e. | | | | | | \"lower-w | | | | | | ith-hyphen\") | | | | | | defined in | | | | | | c | | | | | | lause 5.1.3.3 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.501 [7]. | | | | | | This query | | | | | | parameter is | | | | | | however kept | | | | | | as currently | | | | | | defined in | | | | | | this | | | | | | specification | | | | | | for backward | | | | | | compatibility | | | | | | co | | | | | | nsiderations. | | | | | +---------------+---------------+---+-------------+---------------+
This method shall support the request data structures specified in table
5.3.2.3.2-2 and the response data structures and response codes specified in
table 5.3.2.3.2-3.
Table 5.3.2.3.2-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.3.2.3.2-3: Data structures supported by the GET Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | PcfBinding | M | 1 | 200 OK | The | | | | | | individual | | | | | | PCF for a PDU | | | | | | Session | | | | | | binding | | | | | | information | | | | | | resource | | | | | | matching the | | | | | | query | | | | | | parameter(s) | | | | | | is returned. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | There is no | | | | | Content | PCF for a PDU | | | | | | Session | | | | | | binding | | | | | | information | | | | | | matching the | | | | | | query | | | | | | parameter(s). | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 400 Bad | More than one | | roblemDetails | | | Request | binding | | | | | | information | | | | | | is found. | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [6] | | | | | | shall also | | | | | | apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure cases | | | | | | are described | | | | | | in | | | | | | clause 5.7. | | | | | +---------------+---+-------------+---------------+---------------+
### 5.3.3 Resource: Individual PCF for a PDU Session Binding
#### 5.3.3.1 Description
This resource represents an individual PCF for a PDU Session binding
information of a given UE address(es) registered in the BSF.
#### 5.3.3.2 Resource definition
Resource URI: **{apiRoot}/nbsf-management/\
/pcfBindings/{bindingId}**
The \ shall be set as described in clause 5.1.
This resource shall support the resource URI variables defined in table
5.3.3.2-1.
Table 5.3.3.2-1: Resource URI variables for this resource
+-----------+-----------+--------------------------------------------+ | Name | Data type | Definition | +-----------+-----------+--------------------------------------------+ | apiRoot | string | See clause 5.1 | +-----------+-----------+--------------------------------------------+ | bindingId | string | Represents the individual PCF for a PDU | | | | Session Binding. | | | | | | | | To enable that the value is used as part | | | | of a URI, the string shall only contain | | | | characters allowed according to the | | | | \"lower-with-hyphen\" naming convention | | | | defined in 3GPP TS 29.501 [7]. | +-----------+-----------+--------------------------------------------+
#### 5.3.3.3 Resource Standard Methods
##### 5.3.3.3.1 DELETE
This method shall support the URI query parameters specified in table
5.3.3.3.1-1.
Table 5.3.3.3.1-1: URI query parameters supported by the DELETE method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.3.3.3.1-2 and the response data structures and response codes specified in
table 5.3.3.3.1-3.
Table 5.3.3.3.1-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.3.3.3.1-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case: The | | | | | | Individual | | | | | | PCF for a PDU | | | | | | Session | | | | | | binding | | | | | | information | | | | | | resource is | | | | | | deleted. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | PCF for a PDU | | | | | | Session | | | | | | Binding | | | | | | deletion. | | | | | | | | | | | | Applicable if | | | | | | the feature | | | | | | \"ES3XX\" is | | | | | | supported. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | PCF for a PDU | | | | | | Session | | | | | | Binding | | | | | | deletion. | | | | | | | | | | | | Applicable if | | | | | | the feature | | | | | | \"ES3XX\" is | | | | | | supported. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [6] | | | | | | shall also | | | | | | apply. | | | | | | | | | | | | NOTE 2: The | | | | | | Red | | | | | | irectResponse | | | | | | data | | | | | | structure may | | | | | | be provided | | | | | | by an SCP | | | | | | (cf. | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [6]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.3.3.3.1-4: Headers supported by the 307 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative BSF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [6]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target BSF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
Table 5.3.3.3.1-5: Headers supported by the 308 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative BSF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [6]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target BSF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
##### 5.3.3.3.2 PATCH
This method shall support the URI query parameters specified in table
5.3.3.3.2-1.
Table 5.3.3.3.2-1: URI query parameters supported by the PATCH method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.3.3.3.2-2 and the response data structures and response codes specified in
table 5.3.3.3.2-3.
Table 5.3.3.3.2-2: Data structures supported by the PATCH Request Body on this
resource
* * *
Data type P Cardinality Description PcfBindingPatch M 1 Update an individual
PCF binding information.
* * *
Table 5.3.3.3.2-3: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | PcfBinding | M | 1 | 200 OK | Successful | | | | | | case: The | | | | | | Individual | | | | | | PCF for a PDU | | | | | | Session | | | | | | binding | | | | | | information | | | | | | resource is | | | | | | updated. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | PCF for a PDU | | | | | | Session | | | | | | Binding | | | | | | modification. | | | | | | | | | | | | Applicable if | | | | | | the feature | | | | | | \"ES3XX\" is | | | | | | supported. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | PCF for a PDU | | | | | | Session | | | | | | Binding | | | | | | modification. | | | | | | | | | | | | Applicable if | | | | | | the feature | | | | | | \"ES3XX\" is | | | | | | supported. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [6] | | | | | | shall also | | | | | | apply. | | | | | | | | | | | | NOTE 2: The | | | | | | Red | | | | | | irectResponse | | | | | | data | | | | | | structure may | | | | | | be provided | | | | | | by an SCP | | | | | | (cf. | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [6]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.3.3.3.2-4: Headers supported by the 307 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative BSF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [6]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target BSF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
Table 5.3.3.3.2-5: Headers supported by the 308 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative BSF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [6]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target BSF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
### 5.3.4 Resource: Binding Subscriptions
#### 5.3.4.1 Description
The Binding Subscriptions resource represents the collection of subscriptions
to events in the Nbsf_Management service.
#### 5.3.4.2 Resource definition
Resource URI: {apiRoot}/nbsf-management/\/subscriptions
The \ shall be set as described in clause 5.1.
This resource shall support the resource URI variables defined in table
5.3.4.2-1.
Table 5.3.4.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.1
* * *
#### 5.3.4.3 Resource Standard Methods
##### 5.3.4.3.1 POST
This method shall support the URI query parameters specified in table
5.3.4.3.1-1.
Table 5.3.4.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.3.4.3.1-2 and the response data structures and response codes specified in
table 5.3.4.3.1-3.
Table 5.3.4.3.1-2: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description BsfSubscription M 1 Create a new
Individual binding Subscription resource.
* * *
Table 5.3.4.3.1-3: Data structures supported by the POST Response Body on this
resource
* * *
Data type P Cardinality Response codes Description BsfSubscriptionResp M 1 201
Created The creation of an Individual Binding Subscription resource is
confirmed. NOTE: The mandatory HTTP error status codes for the POST method
listed in table 5.2.7.1-1 of 3GPP TS 29.500 [6] also apply.
* * *
Table 5.3.4.3.1-4: Headers supported by the 201 Response Code on this resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/nbsf-
management/\/subscriptions/{**subId**}
* * *
#### 5.3.4.4 Resource Custom Operations
None.
### 5.3.5 Resource: Individual Binding Subscription
#### 5.3.5.1 Description
The Individual Binding Subscription resource represents a single subscription
to the event notification in the service.
#### 5.3.5.2 Resource definition
Resource URI: {apiRoot}/nbsf-
management/\/subscriptions/{**subId**}
The \ shall be set as described in clause 5.1.
This resource shall support the resource URI variables defined in table
5.3.5.2-1.
Table 5.3.5.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.1 subId string
Identifies a subscription to event notification.
* * *
#### 5.3.5.3 Resource Standard Methods
##### 5.3.5.3.1 PUT
This method shall support the URI query parameters specified in table
5.3.5.3.1-1.
Table 5.3.5.3.1-1: URI query parameters supported by the PUT method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.3.5.3.1-2 and the response data structures and response codes specified in
table 5.3.5.3.1-3.
Table 5.3.5.3.1-2: Data structures supported by the PUT Request Body on this
resource
* * *
Data type P Cardinality Description BsfSubscription M 1 Modify the existing
Individual Binding Subscription resource matching the subId according to the
representation in the BsfSubscription.
* * *
Table 5.3.5.3.1-3: Data structures supported by the PUT Response Body on this
resource
+-------------+---+-------------+-------------+-------------+---+ | Data type | P | Cardinality | Response | Description | | | | | | codes | | | +-------------+---+-------------+-------------+-------------+---+ | BsfSubsc | M | 1 | 200 OK | Successful | | | riptionResp | | | | case: The | | | | | | | Individual | | | | | | | Binding | | | | | | | S | | | | | | | ubscription | | | | | | | resource | | | | | | | matching | | | | | | | the subId | | | | | | | was | | | | | | | modified | | | | | | | and a | | | | | | | rep | | | | | | | resentation | | | | | | | is | | | | | | | returned. | | +-------------+---+-------------+-------------+-------------+---+ | n/a | | | 204 No | Successful | | | | | | Content | case: The | | | | | | | Individual | | | | | | | Binding | | | | | | | S | | | | | | | ubscription | | | | | | | resource | | | | | | | matching | | | | | | | the subId | | | | | | | was | | | | | | | modified. | | +-------------+---+-------------+-------------+-------------+---+ | Redir | O | 0..1 | 307 | Temporary | | | ectResponse | | | Temporary | r | | | | | | Redirect | edirection, | | | | | | | during | | | | | | | Individual | | | | | | | Binding | | | | | | | S | | | | | | | ubscription | | | | | | | mo | | | | | | | dification. | | | | | | | | | | | | | | (NOTE 2) | | +-------------+---+-------------+-------------+-------------+---+ | Redir | O | 0..1 | 308 | Permanent | | | ectResponse | | | Permanent | r | | | | | | Redirect | edirection, | | | | | | | during | | | | | | | Individual | | | | | | | Binding | | | | | | | S | | | | | | | ubscription | | | | | | | mo | | | | | | | dification. | | | | | | | | | | | | | | (NOTE 2) | | +-------------+---+-------------+-------------+-------------+---+ | NOTE 1: The | | | | | | | mandatory | | | | | | | HTTP error | | | | | | | status | | | | | | | codes for | | | | | | | the PUT | | | | | | | method | | | | | | | listed in | | | | | | | tabl | | | | | | | e 5.2.7.1-1 | | | | | | | of | | | | | | | 3GPP TS 2 | | | | | | | 9.500 [6] | | | | | | | also apply. | | | | | | | | | | | | | | NOTE 2: The | | | | | | | Redir | | | | | | | ectResponse | | | | | | | data | | | | | | | structure | | | | | | | may be | | | | | | | provided by | | | | | | | an SCP (cf. | | | | | | | clau | | | | | | | se 6.10.9.1 | | | | | | | of | | | | | | | 3GPP TS 29. | | | | | | | 500 [6]). | | | | | | +-------------+---+-------------+-------------+-------------+---+
Table 5.3.5.3.1-4: Headers supported by the 307 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative BSF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [6]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target BSF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
Table 5.3.5.3.1-5: Headers supported by the 308 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative BSF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [6]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target BSF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
##### 5.3.5.3.2 DELETE
This method shall support the URI query parameters specified in table
5.3.5.3.2-1.
Table 5.3.5.3.2-1: URI query parameters supported by the DELETE method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.3.5.3.2-2 and the response data structures and response codes specified in
table 5.3.5.3.2-3.
Table 5.3.5.3.2-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.3.5.3.2-3: Data structures supported by the DELETE Response Body on
this resource
+-------------+---+-------------+-------------+-------------+---+ | Data type | P | Cardinality | Response | Description | | | | | | codes | | | +-------------+---+-------------+-------------+-------------+---+ | n/a | | | 204 No | Successful | | | | | | Content | case: The | | | | | | | Individual | | | | | | | Binding | | | | | | | S | | | | | | | ubscription | | | | | | | resource | | | | | | | matching | | | | | | | the subId | | | | | | | was | | | | | | | deleted. | | +-------------+---+-------------+-------------+-------------+---+ | Redir | O | 0..1 | 307 | Temporary | | | ectResponse | | | Temporary | r | | | | | | Redirect | edirection, | | | | | | | during | | | | | | | Individual | | | | | | | PCF for a | | | | | | | PDU Session | | | | | | | Binding | | | | | | | deletion. | | | | | | | | | | | | | | Applicable | | | | | | | if the | | | | | | | feature | | | | | | | \"ES3XX\" | | | | | | | is | | | | | | | supported. | | | | | | | | | | | | | | (NOTE 2) | | +-------------+---+-------------+-------------+-------------+---+ | Redir | O | 0..1 | 308 | Permanent | | | ectResponse | | | Permanent | r | | | | | | Redirect | edirection, | | | | | | | during | | | | | | | Individual | | | | | | | PCF for a | | | | | | | PDU Session | | | | | | | Binding | | | | | | | deletion. | | | | | | | | | | | | | | Applicable | | | | | | | if the | | | | | | | feature | | | | | | | \"ES3XX\" | | | | | | | is | | | | | | | supported. | | | | | | | | | | | | | | (NOTE 2) | | +-------------+---+-------------+-------------+-------------+---+ | NOTE 1: The | | | | | | | mandatory | | | | | | | HTTP error | | | | | | | status | | | | | | | codes for | | | | | | | the POST | | | | | | | method | | | | | | | listed in | | | | | | | tabl | | | | | | | e 5.2.7.1-1 | | | | | | | of | | | | | | | 3GPP TS 2 | | | | | | | 9.500 [6] | | | | | | | shall also | | | | | | | apply. | | | | | | | | | | | | | | NOTE 2: The | | | | | | | Redir | | | | | | | ectResponse | | | | | | | data | | | | | | | structure | | | | | | | may be | | | | | | | provided by | | | | | | | an SCP (cf. | | | | | | | clau | | | | | | | se 6.10.9.1 | | | | | | | of | | | | | | | 3GPP TS 29. | | | | | | | 500 [6]). | | | | | | +-------------+---+-------------+-------------+-------------+---+
Table 5.3.5.3.2-4: Headers supported by the 307 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative BSF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [6]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target BSF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
Table 5.3.5.3.2-5: Headers supported by the 308 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative BSF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [6]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target BSF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
#### 5.3.5.4 Resource Custom Operations
None.
### 5.3.6 Void
### 5.3.7 Resource: PCF for a UE Bindings
#### 5.3.7.1 Description
This resource represents a collection of the different PCF for a UE binding
information of given UE identifier (i.e., SUPI) registered in the BSF.
#### 5.3.7.2 Resource definition
Resource URI: {apiRoot}/nbsf-management/\/pcf-ue-bindings
The \ shall be set as described in clause 5.1.
This resource shall support the resource URI variables defined in table
5.3.7.2-1.
Table 5.3.7.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See clause 5.1
* * *
#### 5.3.7.3 Resource Standard Methods
##### 5.3.7.3.1 POST
This method shall support the URI query parameters specified in table
5.3.7.3.1-1.
Table 5.3.7.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.3.7.3.1-2 and the response data structures and response codes specified in
table 5.3.7.3.1-3.
Table 5.3.7.3.1-2: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description PcfForUeBinding M 1 Register a new
Individual PCF for a UE Binding information.
* * *
Table 5.3.7.3.1-3: Data structures supported by the POST Response Body on this
resource
+---------------+---+-------------+-------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+-------------+---------------+ | Pc | M | 1 | 201 Created | The creation | | fForUeBinding | | | | of an | | | | | | individual | | | | | | PCF for a UE | | | | | | Binding. | +---------------+---+-------------+-------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [6] | | | | | | shall also | | | | | | apply. | | | | | +---------------+---+-------------+-------------+---------------+
Table 5.3.7.3.1-4: Headers supported by the 201 Response Code on this resource
* * *
Name Data type P Cardinality Description Location string M 1 Contains the URI
of the newly created resource, according to the structure: {apiRoot}/nbsf-
management/\/pcf-ue-bindings/{bindingId}
* * *
##### 5.3.7.3.2 GET
This method shall support the URI query parameters specified in table
5.3.7.3.2-1.
Table 5.3.7.3.2-1: URI query parameters supported by the GET method on this
resource
+---------------+---------------+---+-------------+---------------+ | Name | Data type | P | Cardinality | Description | +---------------+---------------+---+-------------+---------------+ | supi | Supi | O | 0..1 | Subscription | | | | | | Permanent | | | | | | Identifier. | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | gpsi | Gpsi | O | 0..1 | Generic | | | | | | Public | | | | | | Subscription | | | | | | Identifier. | | | | | | (NOTE 1) | +---------------+---------------+---+-------------+---------------+ | supp-feat | Supp | O | 0..1 | To filter | | | ortedFeatures | | | irrelevant | | | | | | responses | | | | | | related to | | | | | | unsupported | | | | | | features. | | | | | | (NOTE 2) | +---------------+---------------+---+-------------+---------------+ | NOTE 1: At | | | | | | least one | | | | | | parameter | | | | | | shall be | | | | | | present. | | | | | | | | | | | | NOTE 2: This | | | | | | query | | | | | | parameter may | | | | | | be present | | | | | | when there | | | | | | are supported | | | | | | features that | | | | | | apply to the | | | | | | retrieval of | | | | | | the | | | | | | \"Individual | | | | | | PCF for a UE | | | | | | Binding\" | | | | | | resource as | | | | | | defined in | | | | | | cl | | | | | | ause 4.2.4.3. | | | | | | Otherwise, it | | | | | | shall be | | | | | | omitted. | | | | | +---------------+---------------+---+-------------+---------------+
This method shall support the request data structures specified in table
5.3.7.3.2-2 and the response data structures and response codes specified in
table 5.3.7.3.2-3.
Table 5.3.7.3.2-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.3.7.3.2-3: Data structures supported by the GET Response Body on this
resource
* * *
Data type P Cardinality Response codes Description array(PcfForUeBinding) M
0..N 200 OK The individual PCF for a UE binding resource(s) matching the query
parameter(s) are returned. NOTE: The mandatory HTTP error status codes for the
GET method listed in table 5.2.7.1-1 of 3GPP TS 29.500 [6] shall also apply.
* * *
### 5.3.8 Resource: Individual PCF for a UE Binding
#### 5.3.8.1 Description
This resource represents an individual PCF for a UE binding information of
given UE identifier (i.e SUPI) registered in the BSF.
#### 5.3.8.2 Resource definition
Resource URI: **{apiRoot}/nbsf-management/\ /pcf-ue-
bindings/{bindingId}**
The \ shall be set as described in clause 5.1.
This resource shall support the resource URI variables defined in table
5.3.8.2-1.
Table 5.3.8.2-1: Resource URI variables for this resource
+-----------+-----------+--------------------------------------------+ | Name | Data type | Definition | +-----------+-----------+--------------------------------------------+ | apiRoot | string | See clause 5.1 | +-----------+-----------+--------------------------------------------+ | bindingId | string | Represents the individual PCF for a UE | | | | Binding. | | | | | | | | To enable that the value is used as part | | | | of a URI, the string shall only contain | | | | characters allowed according to the | | | | \"lower-with-hyphen\" naming convention | | | | defined in 3GPP TS 29.501 [7]. | +-----------+-----------+--------------------------------------------+
#### 5.3.8.3 Resource Standard Methods
##### 5.3.8.3.1 DELETE
This method shall support the URI query parameters specified in table
5.3.8.3.1-1.
Table 5.3.8.3.1-1: URI query parameters supported by the DELETE method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.3.8.3.1-2 and the response data structures and response codes specified in
table 5.3.8.3.1-3.
Table 5.3.8.3.1-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.3.8.3.1-3: Data structures supported by the DELETE Response Body on
this resource
* * *
Data type P Cardinality Response codes Description n/a 204 No Content
Successful case: The Individual PCF for a UE Binding information resource is
deleted. RedirectResponse O 0..1 307 Temporary Redirect Temporary redirection,
during Individual PCF for a UE Binding deletion. The response shall include a
Location header field containing an alternative URI of the resource located in
an alternative BSF (service) instance. RedirectResponse O 0..1 308 Permanent
Redirect Permanent redirection, during Individual PCF for a UE Binding
deletion. The response shall include a Location header field containing an
alternative URI of the resource located in an alternative BSF (service)
instance. NOTE: The mandatory HTTP error status codes for the DELETE method
listed in table 5.2.7.1-1 of 3GPP TS 29.500 [6] shall also apply.
* * *
Table 5.3.8.3.1-4: Headers supported by the 307 Response Code on this resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative BSF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
Table 5.3.8.3.1-5: Headers supported by the 308 Response Code on this resource
* * *
Name Data type P Cardinality Description Location string M 1 An alternative
URI of the resource located in an alternative BSF (service) instance. 3gpp-
Sbi-Target-Nf-Id string O 0..1 Identifier of the target NF (service) instance
towards which the request is redirected.
* * *
##### 5.3.8.3.2 PATCH
This method shall support the URI query parameters specified in table
5.3.8.3.2-1.
Table 5.3.8.3.2-1: URI query parameters supported by the PATCH method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.3.8.3.2-2 and the response data structures and response codes specified in
table 5.3.8.3.2-3.
Table 5.3.8.3.2-2: Data structures supported by the PATCH Request Body on this
resource
* * *
Data type P Cardinality Description PcfForUeBindingPatch M 1 Update an
individual PCF for a UE binding information.
* * *
Table 5.3.8.3.2-3: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | Pc | M | 1 | 200 OK | Successful | | fForUeBinding | | | | case: The | | | | | | Individual | | | | | | PCF for a UE | | | | | | binding | | | | | | information | | | | | | resource is | | | | | | updated. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | PCF for a PDU | | | | | | Session | | | | | | Binding | | | | | | modification. | | | | | | | | | | | | Applicable if | | | | | | the feature | | | | | | \"ES3XX\" is | | | | | | supported. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | PCF for a PDU | | | | | | Session | | | | | | Binding | | | | | | modification. | | | | | | | | | | | | Applicable if | | | | | | the feature | | | | | | \"ES3XX\" is | | | | | | supported. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [6] | | | | | | shall also | | | | | | apply. | | | | | | | | | | | | NOTE 2: The | | | | | | Red | | | | | | irectResponse | | | | | | data | | | | | | structure may | | | | | | be provided | | | | | | by an SCP | | | | | | (cf. | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [6]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.3.8.3.2-4: Headers supported by the 307 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative BSF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [6]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target BSF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
Table 5.3.8.3.2-5: Headers supported by the 308 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative BSF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [6]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target BSF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
### 5.3.9 Resource: PCF for an MBS Session Bindings
#### 5.3.9.1 Description
This resource represents the collection of PCF for an MBS Session Bindings
registered at the BSF.
#### 5.3.9.2 Resource definition
Resource URI: **{apiRoot}/nbsf-management/\ /pcf-mbs-bindings**
The \ shall be set as described in clause 5.1.
This resource shall support the resource URI variables defined in table
5.3.9.2-1.
Table 5.3.9.2-1: Resource URI variables for this resource
* * *
Name Data type Definition apiRoot string See subclause 5.1.
* * *
#### 5.3.9.3 Resource Standard Methods
##### 5.3.9.3.1 POST
This method shall support the URI query parameters specified in table
5.3.9.3.1-1.
Table 5.3.9.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.3.9.3.1-2 and the response data structures and response codes specified in
table 5.3.9.3.1-3.
Table 5.3.9.3.1-2: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description PcfMbsBinding M 1 Contains the parameters
to request to register a new PCF for an MBS Session Binding.
* * *
Table 5.3.9.3.1-3: Data structures supported by the POST Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | PcfMbsBinding | M | 1 | 201 Created | Successful | | | | | | case. A new | | | | | | \"Individual | | | | | | PCF for an | | | | | | MBS Session | | | | | | Binding\" | | | | | | resource is | | | | | | created and | | | | | | the | | | | | | corresponding | | | | | | URI is | | | | | | returned in | | | | | | an HTTP | | | | | | Location | | | | | | header. | +---------------+---+-------------+---------------+---------------+ | MbsExtP | O | 0..1 | 403 Forbidden | The existing | | roblemDetails | | | | PCF binding | | | | | | information | | | | | | stored in the | | | | | | BSF for the | | | | | | MBS session | | | | | | shall be | | | | | | returned | | | | | | within the | | | | | | MbsExtP | | | | | | roblemDetails | | | | | | data | | | | | | structure. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the HTTP | | | | | | POST method | | | | | | listed in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [6] | | | | | | shall also | | | | | | apply. | | | | | | | | | | | | NOTE 2: | | | | | | Failure cases | | | | | | are described | | | | | | in | | | | | | clause 5.7. | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.3.9.3.1-4: Headers supported by the 201 Response Code on this resource
* * *
Name Data type P Cardinality Description
Location string M 1 Contains the URI of the newly created resource, according
to the structure:\ {apiRoot}/nbsf-management/\/pcf-mbs-
bindings/{bindingId}
* * *
##### 5.3.9.3.2 GET
This method shall support the URI query parameters specified in table
5.3.9.3.2-1.
Table 5.3.9.3.2-1: URI query parameters supported by the GET method on this
resource
+---------------+---------------+---+-------------+---------------+ | Name | Data type | P | Cardinality | Description | +---------------+---------------+---+-------------+---------------+ | m | MbsSessionId | M | 1 | Contains the | | bs-session-id | | | | identifier of | | | | | | the MBS | | | | | | Session to | | | | | | which the | | | | | | requested MBS | | | | | | Session | | | | | | binding is | | | | | | related. | +---------------+---------------+---+-------------+---------------+ | supp-feat | Supp | C | 0..1 | Contains the | | | ortedFeatures | | | list of | | | | | | features | | | | | | supported by | | | | | | the NF | | | | | | service | | | | | | consumer and | | | | | | used to | | | | | | filter | | | | | | irrelevant | | | | | | responses | | | | | | related to | | | | | | unsupported | | | | | | features. | | | | | | | | | | | | This query | | | | | | parameter | | | | | | shall be | | | | | | included if | | | | | | feature | | | | | | negocation | | | | | | needs to take | | | | | | place. | +---------------+---------------+---+-------------+---------------+
This method shall support the request data structures specified in table
5.3.9.3.2-2 and the response data structures and response codes specified in
table 5.3.9.3.2-3.
Table 5.3.9.3.2-2: Data structures supported by the GET Request Body on this
resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.3.9.3.2-3: Data structures supported by the GET Response Body on this
resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | array(P | M | 0..N | 200 OK | Successful | | cfMbsBinding) | | | | case. The | | | | | | \"Individual | | (NOTE 2) | | | | PCF for an | | | | | | MBS Session | | | | | | Binding\" | | | | | | resource | | | | | | matching the | | | | | | provided | | | | | | query | | | | | | parameter(s) | | | | | | is returned. | +---------------+---+-------------+---------------+---------------+ | P | O | 0..1 | 400 Bad | More than one | | roblemDetails | | | Request | binding | | | | | | information | | | | | | matching the | | | | | | provided | | | | | | query | | | | | | parameter(s) | | | | | | is found. | | | | | | | | | | | | (NOTE 3) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the HTTP | | | | | | GET method | | | | | | listed in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [6] | | | | | | shall also | | | | | | apply. | | | | | | | | | | | | NOTE 2: In | | | | | | this release | | | | | | of the | | | | | | s | | | | | | pecification, | | | | | | only a single | | | | | | element shall | | | | | | be provided | | | | | | within the | | | | | | array. | | | | | | | | | | | | NOTE 3: | | | | | | Failure cases | | | | | | are described | | | | | | in | | | | | | clause 5.7. | | | | | +---------------+---+-------------+---------------+---------------+
#### 5.3.9.4 Resource Custom Operations
None.
### 5.3.10 Resource: Individual PCF for an MBS Session Binding
#### 5.3.10.1 Description
This resource represents an \"Individual PCF for an MBS Session Binding\"
registered at the BSF.
#### 5.3.10.2 Resource definition
Resource URI: **{apiRoot}/nbsf-management/\ /pcf-mbs-
bindings/{bindingId}**
The \ shall be set as described in clause 5.1.
This resource shall support the resource URI variables defined in table
5.3.10.2-1.
Table 5.3.10.2-1: Resource URI variables for this resource
+-----------+-----------+--------------------------------------------+ | Name | Data type | Definition | +-----------+-----------+--------------------------------------------+ | apiRoot | string | See subclause 5.1. | +-----------+-----------+--------------------------------------------+ | bindingId | string | Represents the identifier of the | | | | \"Individual PCF for an MBS Session | | | | Binding\" resource. | | | | | | | | To enable that the value is used as part | | | | of a URI, the string shall only contain | | | | characters allowed according to the | | | | \"lower-with-hyphen\" naming convention | | | | defined in 3GPP TS 29.501 [7]. | +-----------+-----------+--------------------------------------------+
#### 5.3.10.3 Resource Standard Methods
##### 5.3.10.3.1 PATCH
This method shall support the URI query parameters specified in table
5.3.10.3.1-1.
Table 5.3.10.3.1-1: URI query parameters supported by the PATCH method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.3.10.3.1-2 and the response data structures and response codes specified in
table 5.3.10.3.1-3.
Table 5.3.10.3.1-2: Data structures supported by the PATCH Request Body on
this resource
* * *
Data type P Cardinality Description PcfMbsBindingPatch M 1 Contains the
requested modifications to the PCF for an MBS Session Binding.
* * *
Table 5.3.10.3.1-3: Data structures supported by the PATCH Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | PcfMbsBinding | M | 1 | 200 OK | Successful | | | | | | case: The | | | | | | \"Individual | | | | | | PCF for an | | | | | | MBS Session | | | | | | Binding\" | | | | | | resource is | | | | | | successfully | | | | | | modified and | | | | | | a | | | | | | r | | | | | | epresentation | | | | | | of the | | | | | | updated | | | | | | resource is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case: The | | | | | | \"Individual | | | | | | PCF for an | | | | | | MBS Session | | | | | | Binding\" | | | | | | resource is | | | | | | successfully | | | | | | modified and | | | | | | no content is | | | | | | returned in | | | | | | the response | | | | | | body. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | PCF for a PDU | | | | | | Session | | | | | | Binding | | | | | | modification. | | | | | | | | | | | | Applicable if | | | | | | the feature | | | | | | \"ES3XX\" is | | | | | | supported. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | PCF for a PDU | | | | | | Session | | | | | | Binding | | | | | | modification. | | | | | | | | | | | | Applicable if | | | | | | the feature | | | | | | \"ES3XX\" is | | | | | | supported. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the PATCH | | | | | | method listed | | | | | | in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [6] | | | | | | shall also | | | | | | apply. | | | | | | | | | | | | NOTE 2: The | | | | | | Red | | | | | | irectResponse | | | | | | data | | | | | | structure may | | | | | | be provided | | | | | | by an SCP | | | | | | (cf. | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [6]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.3.10.3.1-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative BSF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [6]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target BSF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
Table 5.3.10.3.1-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative BSF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [6]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target BSF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
##### 5.3.10.3.2 DELETE
This method shall support the URI query parameters specified in table
5.3.10.3.2-1.
Table 5.3.10.3.2-1: URI query parameters supported by the DELETE method on
this resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.3.10.3.2-2 and the response data structures and response codes specified in
table 5.3.10.3.2-3.
Table 5.3.10.3.2-2: Data structures supported by the DELETE Request Body on
this resource
* * *
Data type P Cardinality Description n/a
* * *
Table 5.3.10.3.2-3: Data structures supported by the DELETE Response Body on
this resource
+---------------+---+-------------+---------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | codes | | +---------------+---+-------------+---------------+---------------+ | n/a | | | 204 No | Successful | | | | | Content | case: The | | | | | | \"Individual | | | | | | PCF for an | | | | | | MBS Session | | | | | | Binding\" | | | | | | resource is | | | | | | successfully | | | | | | deleted. | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 307 Temporary | Temporary | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | PCF for a PDU | | | | | | Session | | | | | | Binding | | | | | | deletion. | | | | | | | | | | | | Applicable if | | | | | | the feature | | | | | | \"ES3XX\" is | | | | | | supported. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | Red | O | 0..1 | 308 Permanent | Permanent | | irectResponse | | | Redirect | redirection, | | | | | | during | | | | | | Individual | | | | | | PCF for a PDU | | | | | | Session | | | | | | Binding | | | | | | deletion. | | | | | | | | | | | | Applicable if | | | | | | the feature | | | | | | \"ES3XX\" is | | | | | | supported. | | | | | | | | | | | | (NOTE 2) | +---------------+---+-------------+---------------+---------------+ | NOTE 1: The | | | | | | mandatory | | | | | | HTTP error | | | | | | status codes | | | | | | for the HTTP | | | | | | DELETE method | | | | | | listed in | | | | | | ta | | | | | | ble 5.2.7.1-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 29.500 [6] | | | | | | shall also | | | | | | apply. | | | | | | | | | | | | NOTE 2: The | | | | | | Red | | | | | | irectResponse | | | | | | data | | | | | | structure may | | | | | | be provided | | | | | | by an SCP | | | | | | (cf. | | | | | | cl | | | | | | ause 6.10.9.1 | | | | | | of | | | | | | 3GPP TS 2 | | | | | | 9.500 [6]). | | | | | +---------------+---+-------------+---------------+---------------+
Table 5.3.10.3.2-4: Headers supported by the 307 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative BSF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [6]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target BSF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
Table 5.3.10.3.2-5: Headers supported by the 308 Response Code on this
resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | of the resource | | | | | | located in an | | | | | | alternative BSF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | request is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [6]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target BSF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the request is | | | | | | redirected. | +-----------------+-----------+---+-------------+-----------------+
#### 5.3.10.4 Resource Custom Operations
None.
## 5.4 Custom Operations without associated resources
None in this release of this specification.
## 5.5 Notifications
### 5.5.1 General
Notifications shall comply to clause 6.2 of 3GPP TS 29.500 [6] and clause
4.6.2.3 of 3GPP TS 29.501 [7].
Table 5.5.1-1: Notifications overview
* * *
Notification Callback URI HTTP method or custom operation Description (service
operation) BSF Notification {notifUri} POST Provides information about
observed BSF events.
* * *
### 5.5.2 BSF Notification
#### 5.5.2.1 Description
The BSF Notification is used by the BSF to report one or several observed
events to an NF service consumer that has subscribed to such Notifications via
the Individual Binding Subscription Resource.
#### 5.5.2.2 Target URI
The Callback URI **\"{notifUri}\"** shall be used with the callback URI
variables defined in table 5.5.2.2-1.
Table 5.5.2.2-1: Callback URI variables
* * *
Name Data type Definition notifUri Uri The Notification Uri as assigned within
the Individual Binding Subscription Resource and described within the
BsfSubscription type (see table 5.6.2.7-1).
* * *
#### 5.5.2.3 Standard Methods
##### 5.5.2.3.1 POST
This method shall support the URI query parameters specified in table
5.5.2.3.1-1.
Table 5.5.2.3.1-1: URI query parameters supported by the POST method on this
resource
* * *
Name Data type P Cardinality Description n/a
* * *
This method shall support the request data structures specified in table
5.5.2.3.1-2 and the response data structures and response codes specified in
table 5.5.2.3.1-3.
Table 5.5.2.3.1-2: Data structures supported by the POST Request Body on this
resource
* * *
Data type P Cardinality Description BsfNotification M 1 Provides Information
about observed events
* * *
Table 5.5.2.3.1-3: Data structures supported by the POST Response Body on this
resource
+-------------+---+-------------+-------------+-------------+---+ | Data type | P | Cardinality | Response | Description | | | | | | codes | | | +-------------+---+-------------+-------------+-------------+---+ | n/a | | | 204 No | The receipt | | | | | | Content | of the | | | | | | | N | | | | | | | otification | | | | | | | is | | | | | | | ac | | | | | | | knowledged. | | +-------------+---+-------------+-------------+-------------+---+ | Redir | O | 0..1 | 307 | Temporary | | | ectResponse | | | temporary | r | | | | | | redirect | edirection, | | | | | | | during the | | | | | | | event | | | | | | | no | | | | | | | tification. | | | | | | | | | | | | | | (NOTE 2) | | +-------------+---+-------------+-------------+-------------+---+ | Redir | O | 0..1 | 308 | Permanent | | | ectResponse | | | Permanent | r | | | | | | Redirect | edirection, | | | | | | | during the | | | | | | | event | | | | | | | no | | | | | | | tification. | | | | | | | | | | | | | | (NOTE 2) | | +-------------+---+-------------+-------------+-------------+---+ | NOTE 1: The | | | | | | | mandatory | | | | | | | HTTP error | | | | | | | status | | | | | | | codes for | | | | | | | the POST | | | | | | | method | | | | | | | listed in | | | | | | | tabl | | | | | | | e 5.2.7.1-1 | | | | | | | of | | | | | | | 3GPP TS 2 | | | | | | | 9.500 [6] | | | | | | | also apply. | | | | | | | | | | | | | | NOTE 2: The | | | | | | | Redir | | | | | | | ectResponse | | | | | | | data | | | | | | | structure | | | | | | | may be | | | | | | | provided by | | | | | | | an SCP (cf. | | | | | | | clau | | | | | | | se 6.10.9.1 | | | | | | | of | | | | | | | 3GPP TS 29. | | | | | | | 500 [6]). | | | | | | +-------------+---+-------------+-------------+-------------+---+
Table 5.5.2.3.1-4: Headers supported by the 307 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative NF | | | | | | consumer | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the | | | | | | notification is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | notification is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [6]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the | | | | | | notification | | | | | | request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
Table 5.5.2.3.1-5: Headers supported by the 308 Response Code on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Location | string | M | 1 | Contains an | | | | | | alternative URI | | | | | | representing | | | | | | the end point | | | | | | of an | | | | | | alternative NF | | | | | | consumer | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the | | | | | | notification is | | | | | | redirected. | | | | | | | | | | | | For the case | | | | | | where the | | | | | | notification is | | | | | | redirected to | | | | | | the same target | | | | | | via a different | | | | | | SCP, refer to | | | | | | clause 6.10.9.1 | | | | | | of | | | | | | 3GPP T | | | | | | S 29.500 [6]. | +-----------------+-----------+---+-------------+-----------------+ | 3gpp-S | string | O | 0..1 | Identifier of | | bi-Target-Nf-Id | | | | the target NF | | | | | | (service) | | | | | | instance | | | | | | towards which | | | | | | the | | | | | | notification | | | | | | request is | | | | | | redirected | +-----------------+-----------+---+-------------+-----------------+
## 5.6 Data Model
### 5.6.1 General
This clause specifies the application data model supported by the API.
Table 5.6.1-1 specifies the data types defined for the Nbsf_Management service
based interface protocol.
Table 5.6.1-1: Nbsf_Management specific Data Types
* * *
Data type Section defined Description Applicability BindingLevel 5.6.3.3
Contains the binding level.  
BindingResp 5.6.2.6 Contains the binding information. SamePcf BsfEvent 5.6.3.5
Contains the event notified by the BSF.  
BsfEventNotification 5.6.2.9 Contains an event notification.  
BsfNotification 5.6.2.8 Contains the notification to the events.  
BsfSubscription 5.6.2.7 Contains the event subscription data.  
BsfSubscriptionResp 5.6.4.1 Contains the response to the subscription request.
It consists of the resource representation within BsfSubscription data type
and, if available, the matched observed event within the BsfNotification data
type.  
ExtProblemDetails 5.6.2.5 Contains the FQDN or IP endpoints of the existing
PCF and cause value if there is an existing PCF binding information for the
indicated combination. SamePcf ParameterCombination 5.6.2.4 The combination
used by the BSF to check whether there is an existing PCF binding information.
SamePcf PcfBinding 5.6.2.2 Identifies an Individual PCF for a PDU session
binding.  
PcfBindingPatch 5.6.2.3 Identifies an Individual PCF for a PDU session binding
used for Patch method. BindingUpdate PcfMbsBinding 5.6.2.15 Represents an
Individual PCF for an MBS Session binding.  
PcfMbsBindingPatch 5.6.2.16 Represents the requested modifications to an
Individual PCF for an MBS Session binding.  
PcfForPduSessionInfo 5.6.2.13 The information of the PCF for a PDU session.  
PcfForUeBinding 5.6.2.10 Identifies an Individual PCF for a UE binding.  
PcfForUeBindingPatch 5.6.2.11 Identifies the updates to an Individual PCF for
a UE binding.  
PcfForUeInfo 5.6.2.14 The information of the PCF for a UE.  
SnssaiDnnPair 5.6.2.12 Represents a S-NSSAI and DNN pair.
* * *
Table 5.6.1-2 specifies data types re-used by the Nbsf_Management service
based interface protocol from other specifications, including a reference to
their respective specifications and when needed, a short description of their
use within the Nbsf_Management service based interface.
Table 5.6.1-2: Nbsf_Management re-used Data Types
* * *
Data type Reference Comments Applicability DateTime 3GPP TS 29.571 [10]  
DiameterIdentity 3GPP TS 29.571 [10]  
Dnn 3GPP TS 29.571 [10]  
Fqdn 3GPP TS 29.571 [10]  
Gpsi 3GPP TS 29.571 [10]  
IpEndPoint 3GPP TS 29.510 [12]  
Ipv4Addr 3GPP TS 29.571 [10]  
Ipv4AddrMask 3GPP TS 29.571 [10] String identifying an IPv4 address mask.  
Ipv4AddrRm 3GPP TS 29.571 [10]  
Ipv6Prefix 3GPP TS 29.571 [10]  
Ipv6PrefixRm 3GPP TS 29.571 [10]  
MacAddr48 3GPP TS 29.571 [10]  
MacAddr48Rm 3GPP TS 29.571 [10]  
MbsSessionId 3GPP TS 29.571 [10] Represents the identifier of an MBS Session.  
NfInstanceId 3GPP TS 29.571 [10]  
NfSetId 3GPP TS 29.571 [10]  
ProblemDetails 3GPP TS 29.571 [10] Used in error responses to provide more
detailed information about an error.  
RedirectResponse 3GPP TS 29.571 [10] Contains redirection related information.
ES3XX Snssai 3GPP TS 29.571 [10]  
Supi 3GPP TS 29.571 [10]  
SupportedFeatures 3GPP TS 29.571 [10] Used to negotiate the applicability of
the optional features defined in table 5.8-1.
* * *
### 5.6.2 Structured data types
#### 5.6.2.1 Introduction
This clause defines the structures to be used in resource representations.
#### 5.6.2.2 Type PcfBinding
Table 5.6.2.2-1: Definition of type PcfBinding
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | supi | Supi | O | 0..1 | Sub | | | | | | | scription | | | | | | | Permanent | | | | | | | I | | | | | | | dentifier | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | O | 0..1 | Generic | | | | | | | Public | | | | | | | Sub | | | | | | | scription | | | | | | | I | | | | | | | dentifier | | +-----------+-----------+---+-----------+-----------+-----------+ | ipv4Addr | Ipv4Addr | C | 0..1 | The IPv4 | | | | | | | Address | | | | | | | of the | | | | | | | served | | | | | | | UE. | | | | | | | (NOTE 4) | | | | | | | (NOTE 8) | | +-----------+-----------+---+-----------+-----------+-----------+ | i | I | C | 0..1 | The IPv6 | | | pv6Prefix | pv6Prefix | | | Address | | | | | | | Prefix of | | | | | | | the | | | | | | | served | | | | | | | UE. | | | | | | | (NOTE 4) | | | | | | | (NOTE 5) | | | | | | | (NOTE 8) | | +-----------+-----------+---+-----------+-----------+-----------+ | addIpv | array(Ip | O | 1..N | The | Mu | | 6Prefixes | v6Prefix) | | | a | ltiUeAddr | | | | | | dditional | | | | | | | IPv6 | | | | | | | Address | | | | | | | Prefixes | | | | | | | of the | | | | | | | served | | | | | | | UE. | | | | | | | (NOTE 4) | | | | | | | (NOTE 5) | | | | | | | (NOTE 8) | | | | | | | (NOTE 10) | | +-----------+-----------+---+-----------+-----------+-----------+ | ipDomain | string | O | 0..1 | IPv4 | | | | | | | address | | | | | | | domain | | | | | | | id | | | | | | | entifier. | | | | | | | (NOTE 1) | | | | | | | (NOTE 8) | | +-----------+-----------+---+-----------+-----------+-----------+ | macAddr48 | MacAddr48 | C | 0..1 | The MAC | | | | | | | Address | | | | | | | of the | | | | | | | served | | | | | | | UE. | | | | | | | (NOTE 8) | | +-----------+-----------+---+-----------+-----------+-----------+ | ad | array(M | O | 1..N | The | Mu | | dMacAddrs | acAddr48) | | | a | ltiUeAddr | | | | | | dditional | | | | | | | MAC | | | | | | | Addresses | | | | | | | of the | | | | | | | served | | | | | | | UE. | | | | | | | (NOTE 8) | | | | | | | (NOTE 10) | | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | M | 1 | DNN, a | | | | | | | full DNN | | | | | | | with both | | | | | | | the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | and | | | | | | | Operator | | | | | | | Id | | | | | | | entifier, | | | | | | | or a DNN | | | | | | | with the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | only. | | | | | | | | | | | | | | (NOTE 11) | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfFqdn | Fqdn | C | 0..1 | FQDN of | | | | | | | the PCF | | | | | | | hosting | | | | | | | the | | | | | | | Npcf_P | | | | | | | olicyAuth | | | | | | | orization | | | | | | | service. | | | | | | | (NOTE 2) | | | | | | | (NOTE 9) | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfIp | array(Ip | C | 1..N | IP end | | | EndPoints | EndPoint) | | | points of | | | | | | | the PCF | | | | | | | hosting | | | | | | | the | | | | | | | Npcf_P | | | | | | | olicyAuth | | | | | | | orization | | | | | | | service. | | | | | | | (NOTE 2) | | | | | | | (NOTE 9) | | +-----------+-----------+---+-----------+-----------+-----------+ | pc | Diamete | C | 0..1 | The | | | fDiamHost | rIdentity | | | diameter | | | | | | | host for | | | | | | | an | | | | | | | i | | | | | | | ndividual | | | | | | | PCF. | | | | | | | (NOTE 3) | | | | | | | (NOTE 9) | | +-----------+-----------+---+-----------+-----------+-----------+ | pcf | Diamete | C | 0..1 | The | | | DiamRealm | rIdentity | | | diameter | | | | | | | realm for | | | | | | | an | | | | | | | i | | | | | | | ndividual | | | | | | | PCF. | | | | | | | (NOTE 3) | | | | | | | (NOTE 9) | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfSmFqdn | Fqdn | O | 0..1 | FQDN of | SamePcf | | | | | | the PCF | | | | | | | hosting | | | | | | | the | | | | | | | Npc | | | | | | | f_SMPoli | | | | | | | cyControl | | | | | | | service. | | | | | | | (NOTE 7) | | | | | | | (NOTE 10) | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfSmIp | array(Ip | O | 1..N | IP end | SamePcf | | EndPoints | EndPoint) | | | points of | | | | | | | the PCF | | | | | | | hosting | | | | | | | the | | | | | | | Npc | | | | | | | f_SMPoli | | | | | | | cyControl | | | | | | | service. | | | | | | | (NOTE 7) | | | | | | | (NOTE 10) | | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | M | 1 | The | | | | | | | ident | | | | | | | ification | | | | | | | of slice. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | Used to | | | | dFeatures | | | negotiate | | | | | | | the | | | | | | | supported | | | | | | | optional | | | | | | | features | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | cl | | | | | | | ause 5.8. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | in the | | | | | | | HTTP POST | | | | | | | request/ | | | | | | | response; | | | | | | | or in the | | | | | | | HTTP GET | | | | | | | response | | | | | | | if the | | | | | | | \"su | | | | | | | pp-feat\" | | | | | | | attribute | | | | | | | query | | | | | | | parameter | | | | | | | is | | | | | | | included | | | | | | | in the | | | | | | | HTTP GET | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfId | NfI | O | 0..1 | PCF | | | | nstanceId | | | instance | | | | | | | i | | | | | | | dentifier | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfSetId | NfSetId | O | 0..1 | The PCF | | | | | | | set Id | | +-----------+-----------+---+-----------+-----------+-----------+ | rec | DateTime | O | 0..1 | Recovery | | | overyTime | | | | time of | | | | | | | the PCF | | +-----------+-----------+---+-----------+-----------+-----------+ | paraCom | Pa | O | 0..1 | If it is | SamePcf | | | rameterCo | | | included, | | | | mbination | | | the BSF | | | | | | | shall | | | | | | | check | | | | | | | whether | | | | | | | there is | | | | | | | an | | | | | | | existing | | | | | | | PCF | | | | | | | binding | | | | | | | in | | | | | | | formation | | | | | | | for the | | | | | | | indicated | | | | | | | com | | | | | | | bination. | | | | | | | (NOTE 6) | | | | | | | (NOTE 10) | | +-----------+-----------+---+-----------+-----------+-----------+ | bindLevel | Bin | O | 0..1 | Contains | | | | dingLevel | | | the level | | | | | | | of | | | | | | | binding. | | +-----------+-----------+---+-----------+-----------+-----------+ | ipv4Frame | a | O | 1..N | List of | | | RouteList | rray(Ipv4 | | | Framed | | | | AddrMask) | | | Route | | | | | | | in | | | | | | | formation | | | | | | | of IPv4. | | +-----------+-----------+---+-----------+-----------+-----------+ | ipv6Frame | array(Ip | O | 1..N | List of | | | RouteList | v6Prefix) | | | Framed | | | | | | | Route | | | | | | | in | | | | | | | formation | | | | | | | of IPv6. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | The | | | | | | | ipDomain | | | | | | | attribute | | | | | | | may only | | | | | | | be | | | | | | | provided | | | | | | | if the | | | | | | | ipv4Addr | | | | | | | attribute | | | | | | | is | | | | | | | present. | | | | | | | | | | | | | | NOTE 2: | | | | | | | When the | | | | | | | \ | | | | | | | "Extended | | | | | | | SamePcf\" | | | | | | | feature | | | | | | | is not | | | | | | | s | | | | | | | upported, | | | | | | | at least | | | | | | | one of | | | | | | | \" | | | | | | | pcfFqdn\" | | | | | | | or | | | | | | | \"pcfIpEn | | | | | | | dPoints\" | | | | | | | shall be | | | | | | | included | | | | | | | if the | | | | | | | PCF | | | | | | | supports | | | | | | | the | | | | | | | Npcf_P | | | | | | | olicyAuth | | | | | | | orization | | | | | | | service. | | | | | | | When the | | | | | | | \ | | | | | | | "Extended | | | | | | | SamePcf\" | | | | | | | feature | | | | | | | is | | | | | | | supported | | | | | | | these | | | | | | | a | | | | | | | ttributes | | | | | | | may be | | | | | | | provided | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | NOTE 3: | | | | | | | When the | | | | | | | \ | | | | | | | "Extended | | | | | | | SamePcf\" | | | | | | | feature | | | | | | | is not | | | | | | | s | | | | | | | upported, | | | | | | | both | | | | | | | pc | | | | | | | fDiamHost | | | | | | | and | | | | | | | pcf | | | | | | | DiamRealm | | | | | | | are | | | | | | | provided | | | | | | | if the | | | | | | | PCF | | | | | | | supports | | | | | | | Rx | | | | | | | i | | | | | | | nterface. | | | | | | | When the | | | | | | | \ | | | | | | | "Extended | | | | | | | SamePcf\" | | | | | | | feature | | | | | | | is | | | | | | | supported | | | | | | | these | | | | | | | a | | | | | | | ttributes | | | | | | | may | | | | | | | provided | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | NOTE 4: | | | | | | | 5G-RG and | | | | | | | FN-RG | | | | | | | replaces | | | | | | | UE for | | | | | | | wireline | | | | | | | access | | | | | | | support. | | | | | | | See | | | | | | | 3GPP | | | | | | | TS 23.31 | | | | | | | 6 [19]. | | | | | | | | | | | | | | NOTE 5: | | | | | | | IPv6 | | | | | | | p | | | | | | | refix(es) | | | | | | | shorter | | | | | | | than /64, | | | | | | | according | | | | | | | to | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 01 [2], | | | | | | | claus | | | | | | | e 5.8.2.2 | | | | | | | and | | | | | | | 3GPP | | | | | | | TS 23.31 | | | | | | | 6 [19], | | | | | | | clau | | | | | | | se 8.3.1, | | | | | | | or full | | | | | | | IPv6 | | | | | | | ad | | | | | | | dress(es) | | | | | | | with a | | | | | | | /128 | | | | | | | prefix, | | | | | | | according | | | | | | | to | | | | | | | 3GPP | | | | | | | TS 23.31 | | | | | | | 6 [19], | | | | | | | clau | | | | | | | se 8.3.1, | | | | | | | may be | | | | | | | encoded | | | | | | | as the | | | | | | | \"ipv | | | | | | | 6Prefix\" | | | | | | | and | | | | | | | \ | | | | | | | "addIpv6P | | | | | | | refixes\" | | | | | | | at | | | | | | | tributes. | | | | | | | | | | | | | | NOTE 6: | | | | | | | If the | | | | | | | BSF finds | | | | | | | that | | | | | | | there is | | | | | | | an | | | | | | | existing | | | | | | | I | | | | | | | ndividual | | | | | | | PCF for a | | | | | | | PDU | | | | | | | Session | | | | | | | Binding | | | | | | | resource | | | | | | | for the | | | | | | | indicated | | | | | | | co | | | | | | | mbination | | | | | | | c | | | | | | | ontaining | | | | | | | Npc | | | | | | | f_SMPoli | | | | | | | cyControl | | | | | | | service | | | | | | | a | | | | | | | ddressing | | | | | | | inf | | | | | | | ormation, | | | | | | | the BSF | | | | | | | shall not | | | | | | | check | | | | | | | other | | | | | | | I | | | | | | | ndividual | | | | | | | PCF for a | | | | | | | PDU | | | | | | | Session | | | | | | | Binding | | | | | | | resources | | | | | | | and shall | | | | | | | reject | | | | | | | the | | | | | | | ongoing | | | | | | | regi | | | | | | | stration, | | | | | | | and | | | | | | | return | | | | | | | the FQDN | | | | | | | or IP | | | | | | | endpoints | | | | | | | of the | | | | | | | Npc | | | | | | | f_SMPoli | | | | | | | cyControl | | | | | | | service | | | | | | | of the | | | | | | | matching | | | | | | | I | | | | | | | ndividual | | | | | | | PCF for a | | | | | | | PDU | | | | | | | Session | | | | | | | Binding | | | | | | | resource | | | | | | | to the | | | | | | | r | | | | | | | equesting | | | | | | | PCF. | | | | | | | | | | | | | | NOTE 7: | | | | | | | At least | | | | | | | one of | | | | | | | the | | | | | | | \"pc | | | | | | | fSmFqdn\" | | | | | | | attribute | | | | | | | or the | | | | | | | \" | | | | | | | pcfSmIpEn | | | | | | | dPoints\" | | | | | | | attribute | | | | | | | shall be | | | | | | | included | | | | | | | in the | | | | | | | binding | | | | | | | inf | | | | | | | ormation, | | | | | | | if the | | | | | | | binding | | | | | | | refers to | | | | | | | an SM | | | | | | | Policy | | | | | | | as | | | | | | | sociation | | | | | | | and if | | | | | | | the | | | | | | | \" | | | | | | | SamePcf\" | | | | | | | feature | | | | | | | is | | | | | | | supported | | | | | | | and the | | | | | | | PCF | | | | | | | d | | | | | | | etermines | | | | | | | that the | | | | | | | same PCF | | | | | | | shall be | | | | | | | selected | | | | | | | for the | | | | | | | SM Policy | | | | | | | ass | | | | | | | ociations | | | | | | | with the | | | | | | | same | | | | | | | SUPI/DN | | | | | | | N/S-NSSAI | | | | | | | parameter | | | | | | | co | | | | | | | mbination | | | | | | | in the | | | | | | | no | | | | | | | n-roaming | | | | | | | or | | | | | | | ho | | | | | | | me-routed | | | | | | | scenario | | | | | | | based on | | | | | | | op | | | | | | | erator\'s | | | | | | | policies | | | | | | | and | | | | | | | confi | | | | | | | guration. | | | | | | | | | | | | | | NOTE 8: | | | | | | | When the | | | | | | | \ | | | | | | | "Extended | | | | | | | SamePcf\" | | | | | | | feature | | | | | | | is not | | | | | | | supported | | | | | | | the | | | | | | | address | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | served UE | | | | | | | shall be | | | | | | | provided, | | | | | | | i.e., | | | | | | | either | | | | | | | the | | | | | | | \"ip | | | | | | | v4Addr\", | | | | | | | the | | | | | | | \"ipv | | | | | | | 6Prefix\" | | | | | | | and/or | | | | | | | \ | | | | | | | "addIpv6P | | | | | | | refixes\" | | | | | | | a | | | | | | | ttributes | | | | | | | or the | | | | | | | \"ma | | | | | | | cAddr48\" | | | | | | | and/or | | | | | | | \"addM | | | | | | | acAddrs\" | | | | | | | a | | | | | | | ttributes | | | | | | | shall be | | | | | | | provided | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | clause | | | | | | | 4.2.2.2. | | | | | | | | | | | | | | NOTE 9: | | | | | | | When the | | | | | | | \ | | | | | | | "Extended | | | | | | | SamePcf\" | | | | | | | feature | | | | | | | is not | | | | | | | supported | | | | | | | the | | | | | | | address | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | Npcf_P | | | | | | | olicyAuth | | | | | | | orization | | | | | | | service | | | | | | | and/or Rx | | | | | | | interface | | | | | | | shall be | | | | | | | provided, | | | | | | | i.e., | | | | | | | both | | | | | | | \"pcfD | | | | | | | iamHost\" | | | | | | | and | | | | | | | \"pcfDi | | | | | | | amRealm\" | | | | | | | and/or at | | | | | | | least one | | | | | | | of the | | | | | | | \" | | | | | | | pcfFqdn\" | | | | | | | or | | | | | | | \"pcfEn | | | | | | | dPoints\" | | | | | | | shall be | | | | | | | provided | | | | | | | as | | | | | | | specified | | | | | | | in | | | | | | | clause | | | | | | | 4.2.2.2. | | | | | | | | | | | | | | NOTE 10: | | | | | | | This | | | | | | | attribute | | | | | | | does not | | | | | | | apply | | | | | | | when the | | | | | | | NF | | | | | | | service | | | | | | | consumer | | | | | | | is an | | | | | | | AF/NEF. | | | | | | | | | | | | | | NOTE 11: | | | | | | | The BSF | | | | | | | uses the | | | | | | | DNN as | | | | | | | received | | | | | | | from the | | | | | | | NF | | | | | | | service | | | | | | | consumer | | | | | | | without | | | | | | | applying | | | | | | | any | | | | | | | transf | | | | | | | ormation. | | | | | | | To | | | | | | | suc | | | | | | | cessfully | | | | | | | perform | | | | | | | DNN | | | | | | | matching, | | | | | | | in a | | | | | | | specific | | | | | | | d | | | | | | | eployment | | | | | | | a DNN | | | | | | | shall | | | | | | | always be | | | | | | | encoded | | | | | | | either | | | | | | | with the | | | | | | | full DNN | | | | | | | (e.g., | | | | | | | because | | | | | | | there are | | | | | | | multiple | | | | | | | Operator | | | | | | | Id | | | | | | | entifiers | | | | | | | for a | | | | | | | Network | | | | | | | Id | | | | | | | entifier) | | | | | | | or the | | | | | | | DNN | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | only. The | | | | | | | NF | | | | | | | service | | | | | | | consumer | | | | | | | may | | | | | | | include | | | | | | | the DNN | | | | | | | Operator | | | | | | | I | | | | | | | dentifier | | | | | | | based on | | | | | | | local | | | | | | | confi | | | | | | | guration. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
#### 5.6.2.3 Type PcfBindingPatch
Table 5.6.2.3-1: Definition of type PcfBindingPatch
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | ipv4Addr | I | O | 0..1 | The IPv4 | | | | pv4AddrRm | | | Address | | | | | | | of the | | | | | | | served | | | | | | | UE. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | ipDomain | string | O | 0..1 | IPv4 | | | | | | | address | | | | | | | domain | | | | | | | id | | | | | | | entifier. | | | | | | | (NOTE 1) | | +-----------+-----------+---+-----------+-----------+-----------+ | i | Ipv | O | 0..1 | The IPv6 | | | pv6Prefix | 6PrefixRm | | | Address | | | | | | | Prefix of | | | | | | | the | | | | | | | served | | | | | | | UE. | | | | | | | (NOTE 2) | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | addIpv | array(Ip | O | 1..N | The | Mu | | 6Prefixes | v6Prefix) | | | a | ltiUeAddr | | | | | | dditional | | | | | | | IPv6 | | | | | | | Address | | | | | | | Prefixes | | | | | | | of the | | | | | | | served | | | | | | | UE. | | | | | | | (NOTE 2) | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | macAddr48 | Ma | O | 0..1 | The MAC | | | | cAddr48Rm | | | Address | | | | | | | of the | | | | | | | served | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | ad | array(M | O | 1..N | The | Mu | | dMacAddrs | acAddr48) | | | a | ltiUeAddr | | | | | | dditional | | | | | | | MAC | | | | | | | Addresses | | | | | | | of the | | | | | | | served | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfId | NfI | O | 0..1 | PCF | | | | nstanceId | | | instance | | | | | | | i | | | | | | | dentifier | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfFqdn | Fqdn | O | 0..1 | FQDN of | | | | | | | the PCF | | | | | | | hosting | | | | | | | the | | | | | | | Npcf_P | | | | | | | olicyAuth | | | | | | | orization | | | | | | | service. | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfIp | array(Ip | O | 1..N | IP end | | | EndPoints | EndPoint) | | | points of | | | | | | | the PCF | | | | | | | hosting | | | | | | | the | | | | | | | Npcf_P | | | | | | | olicyAuth | | | | | | | orization | | | | | | | service. | | +-----------+-----------+---+-----------+-----------+-----------+ | pc | Diamete | O | 0..1 | The | | | fDiamHost | rIdentity | | | diameter | | | | | | | host for | | | | | | | an | | | | | | | i | | | | | | | ndividual | | | | | | | PCF. | | +-----------+-----------+---+-----------+-----------+-----------+ | pcf | Diamete | O | 0..1 | The | | | DiamRealm | rIdentity | | | diameter | | | | | | | realm for | | | | | | | an | | | | | | | i | | | | | | | ndividual | | | | | | | PCF. | | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | O | 0..1 | The | FFS | | | | | | updated | | | | | | | S-NSSAI. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | If | | | | | | | ap | | | | | | | plicable, | | | | | | | the | | | | | | | consumer | | | | | | | (e.g. | | | | | | | PCF) | | | | | | | shall | | | | | | | also | | | | | | | request | | | | | | | to remove | | | | | | | the | | | | | | | ipDomain | | | | | | | attribute | | | | | | | if the | | | | | | | ipv4Addr | | | | | | | attribute | | | | | | | is | | | | | | | requested | | | | | | | to be | | | | | | | removed. | | | | | | | | | | | | | | NOTE 2: | | | | | | | 5G-RG and | | | | | | | FN-RG | | | | | | | replaces | | | | | | | UE for | | | | | | | wireline | | | | | | | access | | | | | | | support. | | | | | | | See | | | | | | | 3GPP | | | | | | | TS 23.31 | | | | | | | 6 [19]. | | | | | | | | | | | | | | NOTE 3: | | | | | | | IPv6 | | | | | | | p | | | | | | | refix(es) | | | | | | | shorter | | | | | | | than /64, | | | | | | | according | | | | | | | to | | | | | | | 3GP | | | | | | | P TS 23.5 | | | | | | | 01 [2], | | | | | | | claus | | | | | | | e 5.8.2.2 | | | | | | | and | | | | | | | 3GPP | | | | | | | TS 23.31 | | | | | | | 6 [19], | | | | | | | clau | | | | | | | se 8.3.1, | | | | | | | or full | | | | | | | IPv6 | | | | | | | ad | | | | | | | dress(es) | | | | | | | with a | | | | | | | /128 | | | | | | | prefix, | | | | | | | according | | | | | | | to | | | | | | | 3GPP | | | | | | | TS 23.31 | | | | | | | 6 [19], | | | | | | | clau | | | | | | | se 8.3.1, | | | | | | | can be | | | | | | | encoded | | | | | | | as the | | | | | | | \"ipv | | | | | | | 6Prefix\" | | | | | | | and | | | | | | | \ | | | | | | | "addIpv6P | | | | | | | refixes\" | | | | | | | at | | | | | | | tributes. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
Editor's Note: Name of the feature for the support of S-NSSAI replacement is
FFS.
#### 5.6.2.4 Type ParameterCombination
Table 5.6.2.4-1: Definition of type ParameterCombination
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | supi | Supi | O | 0..1 | Sub | | | | | | | scription | | | | | | | Permanent | | | | | | | I | | | | | | | dentifier | | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | O | 0..1 | DNN, a | | | | | | | full DNN | | | | | | | with both | | | | | | | the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | and | | | | | | | Operator | | | | | | | Id | | | | | | | entifier, | | | | | | | or a DNN | | | | | | | with the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | only. | | | | | | | | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | O | 0..1 | The | | | | | | | ident | | | | | | | ification | | | | | | | of slice. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | At least | | | | | | | one of | | | | | | | the | | | | | | | a | | | | | | | ttributes | | | | | | | in this | | | | | | | table | | | | | | | shall be | | | | | | | included. | | | | | | | | | | | | | | NOTE 2: | | | | | | | The | | | | | | | a | | | | | | | pplicable | | | | | | | parameter | | | | | | | com | | | | | | | binations | | | | | | | in a | | | | | | | given | | | | | | | d | | | | | | | eployment | | | | | | | shall be | | | | | | | disjoint | | | | | | | comb | | | | | | | inations. | | | | | | | E.g., if | | | | | | | a | | | | | | | d | | | | | | | eployment | | | | | | | requires | | | | | | | a | | | | | | | parameter | | | | | | | co | | | | | | | mbination | | | | | | | that | | | | | | | includes | | | | | | | a SUPI | | | | | | | value for | | | | | | | a | | | | | | | DN | | | | | | | N/S-NSSAI | | | | | | | com | | | | | | | bination, | | | | | | | s | | | | | | | ubsequent | | | | | | | parameter | | | | | | | com | | | | | | | binations | | | | | | | of that | | | | | | | DN | | | | | | | N/S-NSSAI | | | | | | | co | | | | | | | mbination | | | | | | | shall | | | | | | | also | | | | | | | include | | | | | | | the | | | | | | | corr | | | | | | | esponding | | | | | | | SUPI | | | | | | | a | | | | | | | ttribute. | | | | | | | | | | | | | | NOTE 3: | | | | | | | The BSF | | | | | | | uses the | | | | | | | DNN as | | | | | | | received | | | | | | | from the | | | | | | | NF | | | | | | | service | | | | | | | consumer | | | | | | | without | | | | | | | applying | | | | | | | any | | | | | | | transf | | | | | | | ormation. | | | | | | | To | | | | | | | suc | | | | | | | cessfully | | | | | | | perform | | | | | | | DNN | | | | | | | matching, | | | | | | | in a | | | | | | | specific | | | | | | | d | | | | | | | eployment | | | | | | | a DNN | | | | | | | shall | | | | | | | always be | | | | | | | encoded | | | | | | | either | | | | | | | with the | | | | | | | full DNN | | | | | | | (e.g., | | | | | | | because | | | | | | | there are | | | | | | | multiple | | | | | | | Operator | | | | | | | Id | | | | | | | entifiers | | | | | | | for a | | | | | | | Network | | | | | | | Id | | | | | | | entifier) | | | | | | | or the | | | | | | | DNN | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | only. The | | | | | | | NF | | | | | | | service | | | | | | | consumer | | | | | | | may | | | | | | | include | | | | | | | the DNN | | | | | | | Operator | | | | | | | I | | | | | | | dentifier | | | | | | | based on | | | | | | | local | | | | | | | confi | | | | | | | guration. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
#### 5.6.2.5 Type ExtProblemDetails
Table 5.6.2.5-1: Definition of type ExtProblemDetails as a list of to be
combined data types
* * *
Data Type P Cardinality Description Applicability ProblemDetails O 0..1
Problem Details  
BindingResp O 0..1 PCF Binding Information
* * *
#### 5.6.2.6 Type BindingResp
Table 5.6.2.6-1: Definition of type BindingResp
* * *
Attribute name Data type P Cardinality Description Applicability pcfSmFqdn
Fqdn O 0..1 FQDN of the PCF hosting the Npcf_SMPolicyControl service. (NOTE)  
pcfSmIpEndPoints array(IpEndPoint) O 1..N IP end points of the PCF hosting the
Npcf_SMPolicyControl service. (NOTE)  
NOTE: Either the \"pcfSmFqdn\" attribute or the \"pcfSmIpEndPoints\" attribute
shall be included.
* * *
#### 5.6.2.7 Type BsfSubscription
Table 5.6.2.7-1: Definition of type BsfSubscription
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | events | array( | M | 1..N | S | | | | BsfEvent) | | | ubscribed | | | | | | | Events. | | +-----------+-----------+---+-----------+-----------+-----------+ | notifUri | Uri | M | 1 | Not | | | | | | | ification | | | | | | | URI. | | +-----------+-----------+---+-----------+-----------+-----------+ | not | string | M | 1 | It is | | | ifCorreId | | | | used to | | | | | | | set the | | | | | | | value of | | | | | | | Not | | | | | | | ification | | | | | | | Co | | | | | | | rrelation | | | | | | | ID in the | | | | | | | corr | | | | | | | esponding | | | | | | | noti | | | | | | | fication. | | +-----------+-----------+---+-----------+-----------+-----------+ | supi | Supi | M | 1 | Sub | | | | | | | scription | | | | | | | Permanent | | | | | | | Id | | | | | | | entifier. | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | O | 0..1 | I | | | | | | | dentifies | | | | | | | a GPSI. | | +-----------+-----------+---+-----------+-----------+-----------+ | snssa | Snss | C | 0..1 | R | | | iDnnPairs | aiDnnPair | | | epresents | | | | | | | the | | | | | | | S-NSSAI | | | | | | | and DNN | | | | | | | pair for | | | | | | | which the | | | | | | | binding | | | | | | | event | | | | | | | report(s) | | | | | | | shall | | | | | | | apply. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | addSnssa | ar | C | 1..N | R | AddSnss | | iDnnPairs | ray(Snssa | | | epresents | aiDnnPair | | | iDnnPair) | | | the | | | | | | | a | | | | | | | dditional | | | | | | | S-NSSAI | | | | | | | and DNN | | | | | | | pairs for | | | | | | | which the | | | | | | | binding | | | | | | | event | | | | | | | report(s) | | | | | | | shall | | | | | | | apply. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | List of | | | | dFeatures | | | Supported | | | | | | | features | | | | | | | used as | | | | | | | described | | | | | | | in | | | | | | | cl | | | | | | | ause 5.8. | | | | | | | | | | | | | | This | | | | | | | parameter | | | | | | | shall be | | | | | | | supplied | | | | | | | by NF | | | | | | | service | | | | | | | consumer | | | | | | | and BSF | | | | | | | in the | | | | | | | POST | | | | | | | request | | | | | | | that | | | | | | | request | | | | | | | the | | | | | | | creation | | | | | | | of an | | | | | | | I | | | | | | | ndividual | | | | | | | Binding | | | | | | | Sub | | | | | | | scription | | | | | | | resource | | | | | | | and the | | | | | | | related | | | | | | | reply, | | | | | | | resp | | | | | | | ectively. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: If | | | | | | | the NF | | | | | | | service | | | | | | | consumer | | | | | | | needs to | | | | | | | subscribe | | | | | | | to | | | | | | | noti | | | | | | | fications | | | | | | | for more | | | | | | | than one | | | | | | | S-NSSAI | | | | | | | and DNN | | | | | | | pairs and | | | | | | | the | | | | | | | \" | | | | | | | AddSnssai | | | | | | | DnnPair\" | | | | | | | feature | | | | | | | is | | | | | | | s | | | | | | | upported, | | | | | | | the NF | | | | | | | service | | | | | | | consumer | | | | | | | shall | | | | | | | include | | | | | | | one | | | | | | | S-NSSAI | | | | | | | and DNN | | | | | | | pair in | | | | | | | the | | | | | | | \"snssaiD | | | | | | | nnPairs\" | | | | | | | attribute | | | | | | | and the | | | | | | | remaining | | | | | | | S-NSSAI | | | | | | | and DNN | | | | | | | pairs in | | | | | | | the | | | | | | | \"a | | | | | | | ddSnssaiD | | | | | | | nnPairs\" | | | | | | | a | | | | | | | ttribute. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
#### 5.6.2.8 Type BsfNotification
Table 5.6.2.8-1: Definition of type BsfNotification
* * *
Attribute name Data type P Cardinality Description Applicability notifCorreId
string M 1 Notification correlation ID used to identify the subscription to
which the notification relates. It shall be set to the same value as the
\"notifCorreId\" attribute of BsfSubscription data type.  
eventNotifs array(BsfEventNotification) M 1..N Notifications about Individual
Events.
* * *
#### 5.6.2.9 Type BsfEventNotification
Table 5.6.2.9-1: Definition of type BsfEventNotification
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | event | BsfEvent | M | 1 | Event | | | | | | | that is | | | | | | | notified. | | +-----------+-----------+---+-----------+-----------+-----------+ | pcf | Pcf | C | 0..1 | The | | | ForUeInfo | ForUeInfo | | | binding | | | | | | | in | | | | | | | formation | | | | | | | of the | | | | | | | PCF for a | | | | | | | UE. | | | | | | | | | | | | | | It shall | | | | | | | be | | | | | | | included | | | | | | | if the | | | | | | | BSF is | | | | | | | s | | | | | | | ubscribed | | | | | | | to the | | | | | | | not | | | | | | | ification | | | | | | | of | | | | | | | \"PCF_ | | | | | | | UE_BINDI | | | | | | | NG_REGIS | | | | | | | TRATION\" | | | | | | | and | | | | | | | \"PCF_UE | | | | | | | _BINDING | | | | | | | _DEREGIS | | | | | | | TRATION\" | | | | | | | event and | | | | | | | the | | | | | | | reg | | | | | | | istration | | | | | | | or | | | | | | | dereg | | | | | | | istration | | | | | | | of PCF | | | | | | | for a UE | | | | | | | is | | | | | | | detected. | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfForPdu | array(Pcf | C | 1..N | The | | | SessInfos | ForPduSes | | | binding | | | | sionInfo) | | | in | | | | | | | formation | | | | | | | of the | | | | | | | PCF for a | | | | | | | PDU | | | | | | | session. | | | | | | | | | | | | | | It shall | | | | | | | be | | | | | | | included | | | | | | | if the | | | | | | | BSF is | | | | | | | s | | | | | | | ubscribed | | | | | | | to the | | | | | | | not | | | | | | | ification | | | | | | | of | | | | | | | PCF\ | | | | | | | _PDU_SES | | | | | | | SION_BIN | | | | | | | DING_REG | | | | | | | ISTRATION | | | | | | | event and | | | | | | | the | | | | | | | reg | | | | | | | istration | | | | | | | of the | | | | | | | PCF for | | | | | | | the PDU | | | | | | | session | | | | | | | is | | | | | | | detected, | | | | | | | and the | | | | | | | BSF is | | | | | | | s | | | | | | | ubscribed | | | | | | | to the | | | | | | | not | | | | | | | ification | | | | | | | of | | | | | | | PCF_P | | | | | | | DU_SESSI | | | | | | | ON_BINDI | | | | | | | NG_DEREG | | | | | | | ISTRATION | | | | | | | and the | | | | | | | dereg | | | | | | | istration | | | | | | | of the | | | | | | | PCF for | | | | | | | the PDU | | | | | | | session | | | | | | | is | | | | | | | detected. | | +-----------+-----------+---+-----------+-----------+-----------+ | matchS | ar | C | 1..N | Matching | | | nssaiDnns | ray(Snssa | | | S-NSSAI | | | | iDnnPair) | | | and DNN | | | | | | | pairs. It | | | | | | | shall be | | | | | | | included | | | | | | | if the | | | | | | | BSF is | | | | | | | s | | | | | | | ubscribed | | | | | | | to the | | | | | | | not | | | | | | | ification | | | | | | | of | | | | | | | SNSSAI\ | | | | | | | _DNN_BIN | | | | | | | DING_REG | | | | | | | ISTRATION | | | | | | | and a PCF | | | | | | | reg | | | | | | | istration | | | | | | | for the | | | | | | | first PDU | | | | | | | session | | | | | | | for the | | | | | | | DNN and | | | | | | | SNSSAI | | | | | | | co | | | | | | | mbination | | | | | | | is | | | | | | | detected, | | | | | | | and the | | | | | | | BSF is | | | | | | | s | | | | | | | ubscribed | | | | | | | to the | | | | | | | not | | | | | | | ification | | | | | | | of | | | | | | | SNSSAI_D | | | | | | | NN_BINDI | | | | | | | NG_DEREG | | | | | | | ISTRATION | | | | | | | and a PCF | | | | | | | dereg | | | | | | | istration | | | | | | | for the | | | | | | | last PDU | | | | | | | session | | | | | | | for the | | | | | | | DNN and | | | | | | | SNSSAI | | | | | | | co | | | | | | | mbination | | | | | | | is | | | | | | | detected | | | | | | | . | | +-----------+-----------+---+-----------+-----------+-----------+
#### 5.6.2.10 Type PcfForUeBinding
Table 5.6.2.10-1: Definition of type PcfForUeBinding
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | supi | Supi | M | 1 | Sub | | | | | | | scription | | | | | | | Permanent | | | | | | | I | | | | | | | dentifier | | +-----------+-----------+---+-----------+-----------+-----------+ | gpsi | Gpsi | O | 0..1 | Generic | | | | | | | Public | | | | | | | Sub | | | | | | | scription | | | | | | | I | | | | | | | dentifier | | +-----------+-----------+---+-----------+-----------+-----------+ | pcf | Fqdn | C | 0..1 | FQDN of | | | ForUeFqdn | | | | the PCF | | | | | | | hosting | | | | | | | the | | | | | | | Npcf_AMP | | | | | | | olicyAuth | | | | | | | orization | | | | | | | service, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | p | array(Ip | C | 1..N | IP end | | | cfForUeIp | EndPoint) | | | points of | | | EndPoints | | | | the PCF | | | | | | | hosting | | | | | | | the | | | | | | | Npcf_AMP | | | | | | | olicyAuth | | | | | | | orization | | | | | | | service, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfId | NfI | O | 0..1 | PCF | | | | nstanceId | | | instance | | | | | | | i | | | | | | | dentifier | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfSetId | NfSetId | O | 0..1 | The PCF | | | | | | | set Id | | +-----------+-----------+---+-----------+-----------+-----------+ | bindLevel | Bin | O | 0..1 | Contains | | | | dingLevel | | | the level | | | | | | | of | | | | | | | binding. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | Used to | | | | dFeatures | | | negotiate | | | | | | | the | | | | | | | supported | | | | | | | optional | | | | | | | features | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | cl | | | | | | | ause 5.8. | | | | | | | | | | | | | | Shall be | | | | | | | present | | | | | | | in the | | | | | | | HTTP POST | | | | | | | request | | | | | | | /response | | | | | | | or in the | | | | | | | HTTP GET | | | | | | | response | | | | | | | if the | | | | | | | \"su | | | | | | | pp-feat\" | | | | | | | query | | | | | | | parameter | | | | | | | is | | | | | | | included | | | | | | | in the | | | | | | | HTTP GET | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: At | | | | | | | least one | | | | | | | of the | | | | | | | \"pcfFo | | | | | | | rUeFqdn\" | | | | | | | attribute | | | | | | | or | | | | | | | \"pcf | | | | | | | ForUeIpEn | | | | | | | dPoints\" | | | | | | | attribute | | | | | | | shall be | | | | | | | provided. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
#### 5.6.2.11 Type PcfForUeBindingPatch
Table 5.6.2.11-1: Definition of type PcfForUeBindingPatch
* * *
Attribute name Data type P Cardinality Description Applicability pcfForUeFqdn
Fqdn O 0..1 FQDN of the PCF hosting the Npcf_AMPolicyAuthorization service, if
available.  
pcfForUeIpEndPoints array(IpEndPoint) O 1..N IP end points of the PCF hosting
the Npcf_AMPolicyAuthorization service, if available.  
pcfId NfInstanceId O 0..1 PCF instance identifier
* * *
#### 5.6.2.12 Type SnssaiDnnPair
Table 5.6.2.12-1: Definition of type SnssaiDnnPair
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | M | 1 | S-NSSAI | | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | M | 1 | Data | | | | | | | Network | | | | | | | Name, a | | | | | | | full DNN | | | | | | | with both | | | | | | | the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | and | | | | | | | Operator | | | | | | | Id | | | | | | | entifier, | | | | | | | or a DNN | | | | | | | with the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | only. | | | | | | | | | | | | | | .(NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: The | | | | | | | BSF uses | | | | | | | the DNN | | | | | | | as | | | | | | | received | | | | | | | from the | | | | | | | NF | | | | | | | service | | | | | | | consumer | | | | | | | without | | | | | | | applying | | | | | | | any | | | | | | | transf | | | | | | | ormation. | | | | | | | To | | | | | | | suc | | | | | | | cessfully | | | | | | | perform | | | | | | | DNN | | | | | | | matching, | | | | | | | in a | | | | | | | specific | | | | | | | d | | | | | | | eployment | | | | | | | a DNN | | | | | | | shall | | | | | | | always be | | | | | | | encoded | | | | | | | either | | | | | | | with the | | | | | | | full DNN | | | | | | | (e.g., | | | | | | | because | | | | | | | there are | | | | | | | multiple | | | | | | | Operator | | | | | | | Id | | | | | | | entifiers | | | | | | | for a | | | | | | | Network | | | | | | | Id | | | | | | | entifier) | | | | | | | or the | | | | | | | DNN | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | only. The | | | | | | | NF | | | | | | | service | | | | | | | consumer | | | | | | | may | | | | | | | include | | | | | | | the DNN | | | | | | | Operator | | | | | | | I | | | | | | | dentifier | | | | | | | based on | | | | | | | local | | | | | | | confi | | | | | | | guration. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
#### 5.6.2.13 Type PcfForUeInfo
Table 5.6.2.13-1: Definition of type PcfForUeInfo
* * *
Attribute name Data type P Cardinality Description Applicability pcfId
NfInstanceId O 0..1 PCF instance identifier.  
pcfSetId NfSetId O 0..1 The PCF set ID.  
bindLevel BindingLevel O 0..1 Contains the level of binding.  
pcfFqdn Fqdn O 0..1 FQDN of the PCF hosting the Npcf_AMPolicyAuthorization
service.  
pcfIpEndPoints array(IpEndPoint) O 1..N IP end points of the PCF hosting the
Npcf_AMPolicyAuthorization service.  
NOTE: Either the \"pcfFqdn\" attribute or the \"pcfIpEndPoints\" attribute
shall be included.
* * *
#### 5.6.2.14 Type PcfForPduSessionInfo
Table 5.6.2.14-1: Definition of type PcfForPduSessionInfo
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | snssai | Snssai | M | 1 | S-NSSAI | | +-----------+-----------+---+-----------+-----------+-----------+ | dnn | Dnn | M | 1 | Data | | | | | | | Network | | | | | | | Name, a | | | | | | | full DNN | | | | | | | with both | | | | | | | the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | and | | | | | | | Operator | | | | | | | Id | | | | | | | entifier, | | | | | | | or a DNN | | | | | | | with the | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | only. | | | | | | | | | | | | | | (NOTE 3) | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfId | NfI | O | 0..1 | PCF | | | | nstanceId | | | instance | | | | | | | id | | | | | | | entifier. | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfSetId | NfSetId | O | 0..1 | The PCF | | | | | | | set ID. | | +-----------+-----------+---+-----------+-----------+-----------+ | bindLevel | Bin | O | 0..1 | Contains | | | | dingLevel | | | the level | | | | | | | of | | | | | | | binding. | | +-----------+-----------+---+-----------+-----------+-----------+ | ipv4Addr | Ipv4Addr | O | 0..1 | The IPv4 | | | | | | | Address | | | | | | | of the | | | | | | | served | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | ipDomain | string | O | 0..1 | IPv4 | | | | | | | address | | | | | | | domain | | | | | | | id | | | | | | | entifier. | | | | | | | (NOTE 2) | | +-----------+-----------+---+-----------+-----------+-----------+ | ipv | array(Ip | O | 1..N | The IPv6 | | | 6Prefixes | v6Prefix) | | | Address | | | | | | | Prefixes | | | | | | | of the | | | | | | | served | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | macAddrs | array(M | O | 1..N | The MAC | | | | acAddr48) | | | Addresses | | | | | | | of the | | | | | | | served | | | | | | | UE. | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfFqdn | Fqdn | O | 0..1 | FQDN of | | | | | | | the PCF | | | | | | | hosting | | | | | | | the | | | | | | | Npcf_P | | | | | | | olicyAuth | | | | | | | orization | | | | | | | service. | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfIp | array(Ip | O | 1..N | IP end | | | EndPoints | EndPoint) | | | points of | | | | | | | the PCF | | | | | | | hosting | | | | | | | the | | | | | | | Npcf_P | | | | | | | olicyAuth | | | | | | | orization | | | | | | | service. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE 1: | | | | | | | Either | | | | | | | the | | | | | | | \" | | | | | | | pcfFqdn\" | | | | | | | attribute | | | | | | | or the | | | | | | | \"pcfIpEn | | | | | | | dPoints\" | | | | | | | attribute | | | | | | | shall be | | | | | | | included. | | | | | | | | | | | | | | NOTE 2: | | | | | | | The | | | | | | | \"i | | | | | | | pDomain\" | | | | | | | attribute | | | | | | | may only | | | | | | | be | | | | | | | provided | | | | | | | if the | | | | | | | \"i | | | | | | | pv4Addr\" | | | | | | | attribute | | | | | | | is | | | | | | | present. | | | | | | | | | | | | | | NOTE 3: | | | | | | | The BSF | | | | | | | uses the | | | | | | | DNN as | | | | | | | received | | | | | | | from the | | | | | | | NF | | | | | | | service | | | | | | | consumer | | | | | | | without | | | | | | | applying | | | | | | | any | | | | | | | transf | | | | | | | ormation. | | | | | | | To | | | | | | | suc | | | | | | | cessfully | | | | | | | perform | | | | | | | DNN | | | | | | | matching, | | | | | | | in a | | | | | | | specific | | | | | | | d | | | | | | | eployment | | | | | | | a DNN | | | | | | | shall | | | | | | | always be | | | | | | | encoded | | | | | | | either | | | | | | | with the | | | | | | | full DNN | | | | | | | (e.g., | | | | | | | because | | | | | | | there are | | | | | | | multiple | | | | | | | Operator | | | | | | | Id | | | | | | | entifiers | | | | | | | for a | | | | | | | Network | | | | | | | Id | | | | | | | entifier) | | | | | | | or the | | | | | | | DNN | | | | | | | Network | | | | | | | I | | | | | | | dentifier | | | | | | | only. The | | | | | | | NF | | | | | | | service | | | | | | | consumer | | | | | | | may | | | | | | | include | | | | | | | the DNN | | | | | | | Operator | | | | | | | I | | | | | | | dentifier | | | | | | | based on | | | | | | | local | | | | | | | confi | | | | | | | guration. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
#### 5.6.2.15 Type PcfMbsBinding
Table 5.6.2.15-1: Definition of type PcfMbsBinding
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | mbs | Mbs | M | 1 | Contains | | | SessionId | SessionId | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | MBS | | | | | | | Session | | | | | | | to which | | | | | | | the MBS | | | | | | | Session | | | | | | | binding | | | | | | | is | | | | | | | related. | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfFqdn | Fqdn | C | 0..1 | Contains | | | | | | | the FQDN | | | | | | | of the | | | | | | | PCF | | | | | | | handling | | | | | | | the MBS | | | | | | | Session. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | provided, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfIp | array(Ip | C | 1..N | Contains | | | EndPoints | EndPoint) | | | the IP | | | | | | | end | | | | | | | points of | | | | | | | the PCF | | | | | | | handling | | | | | | | the MBS | | | | | | | Session. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | provided, | | | | | | | if | | | | | | | a | | | | | | | vailable. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfId | NfI | O | 0..1 | Contains | | | | nstanceId | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | PCF | | | | | | | instance | | | | | | | handling | | | | | | | the | | | | | | | concerned | | | | | | | MBS | | | | | | | Session. | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfSetId | NfSetId | O | 0..1 | Contains | | | | | | | the | | | | | | | i | | | | | | | dentifier | | | | | | | of the | | | | | | | PCF set | | | | | | | to which | | | | | | | the PCF | | | | | | | instance | | | | | | | handling | | | | | | | the MBS | | | | | | | Session | | | | | | | belongs. | | +-----------+-----------+---+-----------+-----------+-----------+ | bindLevel | Bin | O | 0..1 | Contains | | | | dingLevel | | | the level | | | | | | | of | | | | | | | binding | | | | | | | of the | | | | | | | PCF | | | | | | | handling | | | | | | | the MBS | | | | | | | Session. | | +-----------+-----------+---+-----------+-----------+-----------+ | rec | DateTime | O | 0..1 | Contains | | | overyTime | | | | the | | | | | | | recovery | | | | | | | timestamp | | | | | | | of the NF | | | | | | | service | | | | | | | consumer | | | | | | | (e.g. PCF | | | | | | | handling | | | | | | | the MBS | | | | | | | Session). | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | may be | | | | | | | present | | | | | | | only in | | | | | | | the HTTP | | | | | | | POST | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+ | suppFeat | Supporte | C | 0..1 | Contains | | | | dFeatures | | | the | | | | | | | supported | | | | | | | features | | | | | | | and is | | | | | | | used to | | | | | | | negotiate | | | | | | | the | | | | | | | supported | | | | | | | optional | | | | | | | features | | | | | | | as | | | | | | | described | | | | | | | in | | | | | | | cl | | | | | | | ause 5.8. | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | may be | | | | | | | present | | | | | | | in the | | | | | | | HTTP POST | | | | | | | request. | | | | | | | It shall | | | | | | | be | | | | | | | present | | | | | | | in the | | | | | | | HTTP POST | | | | | | | response, | | | | | | | if it is | | | | | | | included | | | | | | | in the | | | | | | | corr | | | | | | | esponding | | | | | | | HTTP POST | | | | | | | request, | | | | | | | or in the | | | | | | | HTTP GET | | | | | | | response, | | | | | | | if the | | | | | | | \"su | | | | | | | pp-feat\" | | | | | | | query | | | | | | | parameter | | | | | | | is | | | | | | | included | | | | | | | in the | | | | | | | corr | | | | | | | esponding | | | | | | | HTTP GET | | | | | | | request. | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: At | | | | | | | least one | | | | | | | of the | | | | | | | \" | | | | | | | pcfFqdn\" | | | | | | | attribute | | | | | | | or the | | | | | | | \"pcfIpEn | | | | | | | dPoints\" | | | | | | | attribute | | | | | | | shall be | | | | | | | present. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
#### 5.6.2.16 Type PcfMbsBindingPatch
Table 5.6.2.16-1: Definition of type PcfMbsBindingPatch
* * *
Attribute name Data type P Cardinality Description Applicability pcfFqdn Fqdn
O 0..1 Contains the updated FQDN of the PCF handling the MBS Session.  
pcfIpEndPoints array(IpEndPoint) O 1..N Contains the updated IP end points of
the PCF handling the MBS Session.  
pcfId NfInstanceId O 0..1 Contains the updated identifier of the PCF instance
handling the concerned MBS Session.
* * *
#### 5.6.2.17 Type MbsExtProblemDetails
Table 5.6.2.17-1: Definition of type MbsExtProblemDetails as a list of to be
combined data types
* * *
Data Type P Cardinality Description Applicability ProblemDetails O 0..1
Problem Details  
MbsBindingResp O 0..1 PCF Binding Information for the MBS Session.
* * *
#### 5.6.2.18 Type MbsBindingResp
Table 5.6.2.18-1: Definition of type MbsBindingResp
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +-----------+-----------+---+-----------+-----------+-----------+ | pcfFqdn | Fqdn | O | 0..1 | FQDN of | | | | | | | the PCF | | | | | | | handling | | | | | | | the MBS | | | | | | | Session. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | pcfIp | array(Ip | O | 1..N | IP end | | | EndPoints | EndPoint) | | | points of | | | | | | | the PCF | | | | | | | handling | | | | | | | the MBS | | | | | | | Session. | | | | | | | | | | | | | | (NOTE) | | +-----------+-----------+---+-----------+-----------+-----------+ | NOTE: At | | | | | | | least one | | | | | | | of the | | | | | | | \" | | | | | | | pcfFqdn\" | | | | | | | attribute | | | | | | | or the | | | | | | | \"pcfIpEn | | | | | | | dPoints\" | | | | | | | attribute | | | | | | | shall be | | | | | | | present. | | | | | | +-----------+-----------+---+-----------+-----------+-----------+
### 5.6.3 Simple data types and enumerations
#### 5.6.3.1 Introduction
This clause defines simple data types and enumerations that can be referenced
from data structures defined in the previous clauses.
#### 5.6.3.2 Simple data types
The simple data types defined in table 5.6.3.2-1 shall be supported.
Table 5.6.3.2-1: Simple data types
* * *
Type Name Type Definition Description Applicability
* * *
#### 5.6.3.3 Enumeration: BindingLevel
Table 5.6.3.3-1: Enumeration BindingLevel
* * *
Enumeration value Description Applicability NF_SET Indicates the NF set level
of binding.  
NF_INSTANCE Indicates the NF instance level of binding.
* * *
#### 5.6.3.4 Void
#### 5.6.3.5 Enumeration: BsfEvent
Table 5.6.3.5-1: Enumeration BsfEvent
* * *
Enumeration value Description Applicability
PCF_PDU_SESSION_BINDING_REGISTRATION Indicates the binding of a PCF for a PDU
session is registered.  
PCF_PDU_SESSION_BINDING_DEREGISTRATION Indicates the binding of a PCF for a
PDU session is deregistered.  
PCF_UE_BINDING_REGISTRATION Indicates the binding of a PCF for a UE is
registered.  
PCF_UE_BINDING_DEREGISTRATION Indicates the binding of a PCF for a UE is
deregistered.  
SNSSAI_DNN_BINDING_REGISTRATION Indicates the binding of a PCF for a PDU
session corresponding to the first PDU session for a DNN and S-NSSAI
combination is registered.  
SNSSAI_DNN_BINDING_DEREGISTRATION Indicates the binding of a PCF for a PDU
session corresponding to the last PDU session for a DNN and S-NSSAI
combination is deregistered.
* * *
### 5.6.4 Data types describing alternative data types or combinations of data
types
#### 5.6.4.1 Type: BsfSubscriptionResp
Table 5.6.4.1-1: Definition of type BsfSubscriptionResp as a list of non-
exclusive alternatives
* * *
Data type Cardinality Description Applicability BsfNotification 0..1 It
represents the notification of a match event during the creation or
modification of the Individual Binding Subscription resource.  
BsfSubscription 1 It represents the Individual PCFBinding Subscription
resource.
* * *
## 5.7 Error handling
### 5.7.1 General
HTTP error handling shall be supported as specified in clause 5.2.4 of 3GPP TS
29.500 [6].
For the Nbsf_Management Service API, HTTP error responses shall be supported
as specified in clause 4.8 of 3GPP TS 29.501 [7]. Protocol errors and
application errors specified in table 5.2.7.2-1 of 3GPP TS 29.500 [6] shall be
supported for an HTTP method if the corresponding HTTP status codes are
specified as mandatory for that HTTP method in table 5.2.7.1-1 of 3GPP TS
29.500 [6].
In addition, the requirements in the following clauses shall apply.
### 5.7.2 Protocol Errors
In this Release of the specification, there are no additional protocol errors
applicable for the Nbsf_Management Service API.
### 5.7.3 Application Errors
The application errors defined for the Nbsf_Management Service API are listed
in table 5.7.3-1.
Table 5.7.3-1: Application errors
+------------------------+------------------+------------------------+ | Application Error | HTTP status code | Description | +------------------------+------------------+------------------------+ | MULTIPLE | 400 Bad Request | Indicates that the BSF | | _BINDING_INFO_FOUND | | found more than one | | | | binding resource so it | | | | cannot provide the | | | | selected PCF to the | | | | consumer. (NOTE 1) | +------------------------+------------------+------------------------+ | EXISTING | 403 Forbidden | Indicates that the BSF | | _BINDING_INFO_FOUND | | found an existing PCF | | | | binding information | | | | for the indicated | | | | combination or for the | | | | applicable MBS | | | | Session. (NOTE 2) | +------------------------+------------------+------------------------+ | NOTE 1: This | | | | application error is | | | | included in the | | | | responses to the GET | | | | request. | | | | | | | | NOTE 2: This | | | | application error is | | | | included in the | | | | responses to the POST | | | | request. | | | | | | | | NOTE 3: Including a | | | | \"ProblemDetails\" | | | | data structure with | | | | the \"cause\" | | | | attribute in the HTTP | | | | response is optional | | | | unless explicitly | | | | mandated in the | | | | service operation | | | | clauses. | | | +------------------------+------------------+------------------------+
## 5.8 Feature negotiation
The optional features in table 5.8-1 are defined for the Nbsf_Management
Service API. They shall be negotiated using the extensibility mechanism
defined in clause 6.6 of 3GPP TS 29.500 [6].
Table 5.8-1: Supported Features
* * *
Feature number Feature Name Description
1 MultiUeAddr This feature indicates the support of multiple UE addresses
(IPv6 prefixes or MAC addresses) in the same binding information.
2 BindingUpdate The consumer can use this feature for updating the session
binding information.
3 SamePcf This feature indicates the support of same PCF selection for the
indicated combination.\ (NOTE)
4 ES3XX Extended Support for 3xx redirections. This feature indicates the
support of redirection for any service operation, according to Stateless NF
procedures as specified in clauses 6.5.3.2 and 6.5.3.3 of 3GPP TS 29.500 [6]
and according to HTTP redirection principles for indirect communication, as
specified in clause 6.10.9 of 3GPP TS 29.500 [6].
5 ExtendedSamePcf This feature extends the support of same PCF selection for
the indicated combination. This feature requires the support of SamePcf
feature.\ (NOTE)
6 AddSnssaiDnnPair This feature indicates the support of additional S-NSSAI
and DNN pair(s) for which the binding event report(s) apply.
7 FFS This feature indicates the support of S-NSSAI replacement.
NOTE: The \"SamePcf\" feature is applicable to the deployments where the N5
and/or Rx interface apply and the UE address is available in the PCF at the
creation of the SM Policy Association. The \"ExtendedSamePcf\" feature is
applicable for any PCF deployment, regardless of UE address availability at
the creation of SM Policy association and/or N5 and/or Rx applicability.
* * *
Editor's Note: Name of the feature for the support of S-NSSAI replacement is
FFS.
## 5.9 Security
As indicated in 3GPP TS 33.501 [15] and 3GPP TS 29.500 [6], the access to the
Nbsf_Management API may be authorized by means of the OAuth2 protocol (see
IETF RFC 6749 [16]), based on local configuration, using the \"Client
Credentials\" authorization grant, where the NRF (see 3GPP TS 29.510 [12])
plays the role of the authorization server.
If OAuth2 is used, a n NF Service Consumer, prior to consuming services
offered by the Nbsf_Management API, shall obtain a \"token\" from the
authorization server, by invoking the Access Token Request service, as
described in 3GPP TS 29.510 [12], clause 5.4.2.2.
NOTE: When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used for
discovering the Nbsf_Management service.
The Nbsf_Management API defines a single scope \"nbsf-management\" for the
entire service, and it does not define any additional scopes at resource or
operation level.
###### ## Annex A (normative): OpenAPI specification
# A.1 General
The present Annex contains an OpenAPI [11] specification of HTTP messages and
content bodies used by the Nbsf_Management API.
This Annex shall take precedence when being discrepant to other parts of the
specification with respect to the encoding of information elements and methods
within the API.
NOTE: The semantics and procedures, as well as conditions, e.g. for the
applicability and allowed combinations of attributes or values, not expressed
in the OpenAPI definitions but defined in other parts of the specification
also apply.
Informative copies of the OpenAPI specification file contained in this 3GPP
Technical Specification are available on a Git-based repository, that uses the
GitLab software version control system (see clause 5B of the 3GPP TR 21.900
[18] and clause 5.3.1 of the 3GPP TS 29.501 [7] for further information).
# A.2 Nbsf_Management API
openapi: 3.0.0
info:
version: 1.4.0-alpha.3
title: Nbsf_Management
description: \|
Binding Support Management Service API.
Â© 2023, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA,
TTC).
All rights reserved.
externalDocs:
description: 3GPP TS 29.521 V18.2.0; 5G System; Binding Support Management
Service.
url: \'https://www.3gpp.org/ftp/Specs/archive/29_series/29.521/\'
servers:
\- url: \'{apiRoot}/nbsf-management/v1\'
variables:
apiRoot:
default: https://example.com
description: apiRoot as defined in clause 4.4 of 3GPP TS 29.501.
security:
\- {}
\- oAuth2ClientCredentials:
\- nbsf-management
paths:
/pcfBindings:
post:
summary: Create a new Individual PCF for a PDU Session binding information
operationId: CreatePCFBinding
tags:
\- PCF Bindings (Collection)
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/PcfBinding\'
responses:
\'201\':
description: The creation of an individual PCF for a PDU Session binding.
content:
application/json:
schema:
\$ref: \'#/components/schemas/PcfBinding\'
headers:
Location:
description: >
Contains the URI of the newly created resource, according to the structure
{apiRoot}/nbsf-management/\/pcf-mbs-bindings/{bindingId}
required: true
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
description: >
The existing PCF binding information stored in the BSF for the indicated
combination is
returned.
content:
application/problem+json:
schema:
\$ref: \'#/components/schemas/ExtProblemDetails\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
get:
summary: Read PCF for a PDU Session Bindings information
operationId: GetPCFBindings
tags:
\- PCF Bindings (Collection)
parameters:
\- name: ipv4Addr
in: query
description: The IPv4 Address of the served UE.
required: false
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
\- name: ipv6Prefix
in: query
description: >
The IPv6 Address of the served UE. The NF service consumer shall append
\'/128\' to the
IPv6 address in the attribute value. E.g.
\'2001:db8:85a3::8a2e:370:7334/128\'.
required: false
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix\'
\- name: macAddr48
in: query
description: The MAC Address of the served UE.
required: false
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MacAddr48\'
\- name: dnn
in: query
description: DNN.
required: false
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
\- name: supi
in: query
description: Subscription Permanent Identifier.
required: false
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
\- name: gpsi
in: query
description: Generic Public Subscription Identifier
required: false
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
\- name: snssai
in: query
description: The identification of slice.
required: false
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
\- name: ipDomain
in: query
description: The IPv4 address domain identifier.
required: false
schema:
type: string
\- name: supp-feat
in: query
description: To filter irrelevant responses related to unsupported features.
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
responses:
\'200\':
description: >
The individual PCF for a PDU Session binding session binding information
resource
matching the query parameter(s) is returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/PcfBinding\'
\'204\':
description: >
There is no PCF for a PDU Session binding information matching the query
parameter(s).
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'414\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/414\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/pcfBindings/{bindingId}:
delete:
summary: Delete an existing Individual PCF for a PDU Session Binding
information
operationId: DeleteIndPCFBinding
tags:
\- Individual PCF Binding (Document)
parameters:
\- name: bindingId
in: path
description: Represents the individual PCF for a PDU Session Binding.
required: true
schema:
type: string
responses:
\'204\':
description: >
No Content. The Individual PCF for a PDU Session Binding information resource
is
deleted.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
patch:
summary: Update an existing Individual PCF for a PDU Session Binding
information
operationId: UpdateIndPCFBinding
tags:
\- Individual PCF for a PDU Session Binding (Document)
parameters:
\- name: bindingId
in: path
description: Represents the individual PCF for a PDU Session Binding.
required: true
schema:
type: string
requestBody:
description: Parameters to update the existing PCF for a PDU Session binding.
required: true
content:
application/merge-patch+json:
schema:
\$ref: \'#/components/schemas/PcfBindingPatch\'
responses:
\'200\':
description: OK (Successful update of the PCF for a PDU Session binding).
content:
application/json:
schema:
\$ref: \'#/components/schemas/PcfBinding\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/subscriptions:
post:
operationId: CreateIndividualSubcription
summary: Create an individual subscription for event notifications from the
BSF
tags:
\- Subscriptions (Collection)
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/BsfSubscription\'
responses:
\'201\':
description: Created.
headers:
Location:
description: >
Contains the URI of the newly created resource, according to the structure
{apiRoot}/nsmf-management/\/subscriptions/{subId}
required: true
schema:
type: string
content:
application/json:
schema:
\$ref: \'#/components/schemas/BsfSubscriptionResp\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
callbacks:
myNotification:
\'{\$request.body#/notifUri}\':
post:
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/BsfNotification\'
responses:
\'204\':
description: No Content. Notification was successful.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/subscriptions/{subId}:
put:
operationId: ReplaceIndividualSubcription
summary: Replace an individual subscription for event notifications from the
BSF
tags:
\- IndividualSubscription (Document)
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/BsfSubscription\'
parameters:
\- name: subId
in: path
description: Subscription correlation ID
required: true
schema:
type: string
responses:
\'200\':
description: OK. Resource was successfully modified and representation is
returned.
content:
application/json:
schema:
\$ref: \'#/components/schemas/BsfSubscriptionResp\'
\'204\':
description: No Content. Resource was successfully modified.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
delete:
operationId: DeleteIndividualSubcription
summary: Delete an individual subscription for event notifications from the
BSF
tags:
\- IndividualSubscription (Document)
parameters:
\- name: subId
in: path
description: Subscription correlation ID
required: true
schema:
type: string
responses:
\'204\':
description: No Content. Resource was successfully deleted.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/pcf-ue-bindings:
post:
summary: Create a new Individual PCF for a UE binding information
operationId: CreatePCFforUEBinding
tags:
\- PCF for a UE Bindings (Collection)
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/PcfForUeBinding\'
responses:
\'201\':
description: The creation of an individual PCF for a UE binding.
content:
application/json:
schema:
\$ref: \'#/components/schemas/PcfForUeBinding\'
headers:
Location:
description: >
Contains the URI of the newly created resource, according to the structure
{apiRoot}/nbsf-management/\/pcf-ue-bindings/{bindingId}
required: true
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
get:
summary: Read PCF for a UE Bindings information
operationId: GetPCFForUeBindings
tags:
\- PCF for a UE Bindings (Collection)
parameters:
\- name: supi
in: query
description: Subscription Permanent Identifier.
required: false
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
\- name: gpsi
in: query
description: Generic Public Subscription Identifier
required: false
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
\- name: supp-feat
in: query
description: To filter irrelevant responses related to unsupported features.
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
responses:
\'200\':
description: >
The individual PCF for a UE binding session binding information resource
matching the
query parameter(s) is returned.
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/PcfForUeBinding\'
minItems: 0
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'414\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/414\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/pcf-ue-bindings/{bindingId}:
delete:
summary: Delete an existing Individual PCF for a UE Binding information
operationId: DeleteIndPCFforUEBinding
tags:
\- Individual PCF for a UE Binding (Document)
parameters:
\- name: bindingId
in: path
description: Represents the individual PCF for a UE Binding.
required: true
schema:
type: string
responses:
\'204\':
description: >
No Content. The Individual PCF for a UE binding information resource is
deleted.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
patch:
summary: Update an existing Individual PCF for a UE Binding information
operationId: UpdateIndPCFforUEBinding
tags:
\- Individual PCF for a UE Binding (Document)
parameters:
\- name: bindingId
in: path
description: Represents the individual PCF for a UE Binding.
required: true
schema:
type: string
requestBody:
description: Parameters to update the existing PCF for a UE binding.
required: true
content:
application/merge-patch+json:
schema:
\$ref: \'#/components/schemas/PcfForUeBindingPatch\'
responses:
\'200\':
description: OK. Successful update of the PCF for a PDU Session binding.
content:
application/json:
schema:
\$ref: \'#/components/schemas/PcfForUeBinding\'
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/pcf-mbs-bindings:
post:
summary: Create a new Individual PCF for an MBS Session binding.
operationId: CreatePCFMbsBinding
tags:
\- PCF for an MBS Session Bindings (Collection)
requestBody:
required: true
content:
application/json:
schema:
\$ref: \'#/components/schemas/PcfMbsBinding\'
responses:
\'201\':
description: >
Created. A new Individual PCF for an MBS Session Binding resource is created
and the corresponding URI is returned in an HTTP Location header.
content:
application/json:
schema:
\$ref: \'#/components/schemas/PcfMbsBinding\'
headers:
Location:
description: >
Contains the URI of the newly created resource, according to the structure
{apiRoot}/nbsf-management/v1/pcf-mbs-bindings/{bindingId}
required: true
schema:
type: string
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
description: >
The existing PCF binding information stored in the BSF for the MBS session is
returned.
content:
application/problem+json:
schema:
\$ref: \'#/components/schemas/MbsExtProblemDetails\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
get:
summary: Retrieve an existing PCF for an MBS Session binding.
operationId: GetPCFMbsBinding
tags:
\- PCF for an MBS Session Bindings (Collection)
parameters:
\- name: mbs-session-id
in: query
description: >
Contains the identifier of the MBS Session to which the requested MBS Session
binding is related.
required: true
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MbsSessionId\'
\- name: supp-feat
in: query
description: >
Contains the list of features supported by the NF service consumer and used to
filter irrelevant responses related to unsupported features.
content:
application/json:
schema:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
responses:
\'200\':
description: >
OK. The Individual PCF for an MBS Session Binding resource(s) matching the
provided
query parameter(s) are returned.
content:
application/json:
schema:
type: array
items:
\$ref: \'#/components/schemas/PcfMbsBinding\'
minItems: 0
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'406\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/406\'
\'414\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/414\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
/pcf-mbs-bindings/{bindingId}:
parameters:
\- name: bindingId
in: path
description: >
Represents the identifier of the Individual PCF for an MBS Session Binding
resource.
required: true
schema:
type: string
patch:
summary: Request the modification of an existing Individual PCF for an MBS
Session Binding resource.
operationId: ModifyIndPCFMbsBinding
tags:
\- Individual PCF for an MBS Session Binding (Document)
requestBody:
description: Parameters to request the modification of the PCF for an MBS
Session Binding.
required: true
content:
application/merge-patch+json:
schema:
\$ref: \'#/components/schemas/PcfMbsBindingPatch\'
responses:
\'200\':
description: >
OK. The Individual PCF for an MBS Session Binding resource is successfully
modified and
a representation of the updated resource is returned in the response body.
content:
application/json:
schema:
\$ref: \'#/components/schemas/PcfMbsBinding\'
\'204\':
description: >
No Content. The Individual PCF for an MBS Session Binding resource is
successfully
modified and no content is returned in the response body.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'411\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/411\'
\'413\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/413\'
\'415\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/415\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
delete:
summary: Request the deletion of an existing Individual PCF for an MBS Session
Binding.
operationId: DeleteIndPCFMbsBinding
tags:
\- Individual PCF for an MBS Session Binding (Document)
responses:
\'204\':
description: >
No Content. The Individual PCF for an MBS Session Binding resource is
successfully
Deleted.
\'307\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/307\'
\'308\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/308\'
\'400\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/400\'
\'401\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/401\'
\'403\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/403\'
\'404\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/404\'
\'429\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/429\'
\'500\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/500\'
\'502\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/502\'
\'503\':
\$ref: \'TS29571_CommonData.yaml#/components/responses/503\'
default:
\$ref: \'TS29571_CommonData.yaml#/components/responses/default\'
components:
securitySchemes:
oAuth2ClientCredentials:
type: oauth2
flows:
clientCredentials:
tokenUrl: \'{nrfApiRoot}/oauth2/token\'
scopes:
nbsf-management: Access to the Nbsf_Management API
schemas:
PcfBinding:
description: Identifies an Individual PCF for a PDU Session binding.
type: object
properties:
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
ipv4Addr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr\'
ipv6Prefix:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix\'
addIpv6Prefixes:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix\'
minItems: 1
description: The additional IPv6 Address Prefixes of the served UE.
ipDomain:
type: string
macAddr48:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MacAddr48\'
addMacAddrs:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MacAddr48\'
minItems: 1
description: The additional MAC Addresses of the served UE.
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
pcfFqdn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
pcfIpEndPoints:
type: array
items:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/IpEndPoint\'
minItems: 1
description: IP end points of the PCF hosting the Npcf_PolicyAuthorization
service
pcfDiamHost:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DiameterIdentity\'
pcfDiamRealm:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DiameterIdentity\'
pcfSmFqdn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
pcfSmIpEndPoints:
type: array
items:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/IpEndPoint\'
minItems: 1
description: IP end points of the PCF hosting the Npcf_SMPolicyControl
service.
snssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
pcfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
pcfSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
recoveryTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
paraCom:
\$ref: \'#/components/schemas/ParameterCombination\'
bindLevel:
\$ref: \'#/components/schemas/BindingLevel\'
ipv4FrameRouteList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4AddrMask\'
minItems: 1
ipv6FrameRouteList:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix\'
minItems: 1
required:
\- dnn
\- snssai
PcfBindingPatch:
description: Identifies an Individual PCF binding used in an HTTP Patch
method.
type: object
properties:
ipv4Addr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4AddrRm\'
ipDomain:
type: string
nullable: true
ipv6Prefix:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6PrefixRm\'
addIpv6Prefixes:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix\'
minItems: 1
description: The additional IPv6 Address Prefixes of the served UE.
nullable: true
macAddr48:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MacAddr48Rm\'
addMacAddrs:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MacAddr48\'
minItems: 1
description: The additional MAC Addresses of the served UE.
nullable: true
pcfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
pcfFqdn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
pcfIpEndPoints:
type: array
items:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/IpEndPoint\'
minItems: 1
description: IP end points of the PCF hosting the Npcf_PolicyAuthorization
service.
pcfDiamHost:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DiameterIdentity\'
pcfDiamRealm:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DiameterIdentity\'
snssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
ParameterCombination:
description: >
Represents the combination used by the BSF to check whether there is an
existing PCF binding
information.
type: object
properties:
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
snssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
ExtProblemDetails:
description: >
Contains the FQDN or IP endpoints of the existing PCF and the cause value if
there is an
existing PCF binding information for the indicated combination.
allOf:
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
\- \$ref: \'#/components/schemas/BindingResp\'
MbsExtProblemDetails:
description: >
Contains the FQDN or IP endpoints of the existing PCF and the cause value if
there is an
existing PCF binding information for the MBS session.
allOf:
\- \$ref: \'TS29571_CommonData.yaml#/components/schemas/ProblemDetails\'
\- \$ref: \'#/components/schemas/MbsBindingResp\'
BindingResp:
description: Contains the binding information for a PCF for a PDU Session.
type: object
properties:
pcfSmFqdn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
pcfSmIpEndPoints:
type: array
items:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/IpEndPoint\'
minItems: 1
description: IP end points of the PCF hosting the Npcf_SMPolicyControl
service.
MbsBindingResp:
description: Contains the binding information for a PCF for an MBS Session.
type: object
properties:
pcfFqdn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
pcfIpEndPoints:
type: array
items:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/IpEndPoint\'
minItems: 1
description: IP end points of the PCF handling the MBS Session.
anyOf:
\- required: [pcfFqdn]
\- required: [pcfIpEndPoints]
BsfSubscription:
description: Contains the event subscription data.
type: object
properties:
events:
type: array
items:
\$ref: \'#/components/schemas/BsfEvent\'
minItems: 1
description: Contain te subscribed events.
notifUri:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Uri\'
notifCorreId:
type: string
description: Notification Correlation ID assigned by the NF service consumer.
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
snssaiDnnPairs:
\$ref: \'#/components/schemas/SnssaiDnnPair\'
addSnssaiDnnPairs:
type: array
items:
\$ref: \'#/components/schemas/SnssaiDnnPair\'
minItems: 1
description: >
Represents the additional S-NSSAI and DNN pair(s) for which the binding event
report(s)
shall apply.
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- events
\- notifUri
\- notifCorreId
\- supi
BsfNotification:
description: Contains the event notifications.
type: object
properties:
notifCorreId:
type: string
description: Notification Correlation ID assigned by the NF service consumer.
pcfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
pcfSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
bindLevel:
\$ref: \'#/components/schemas/BindingLevel\'
eventNotifs:
type: array
items:
\$ref: \'#/components/schemas/BsfEventNotification\'
minItems: 1
description: Notifications about Individual Events.
required:
\- notifCorreId
\- eventNotifs
BsfEventNotification:
description: Contains an event notification.
type: object
properties:
event:
\$ref: \'#/components/schemas/BsfEvent\'
pcfForUeInfo:
\$ref: \'#/components/schemas/PcfForUeInfo\'
pcfForPduSessInfos:
type: array
items:
\$ref: \'#/components/schemas/PcfForPduSessionInfo\'
minItems: 1
description: The information of the PCF for a PDU session.
matchSnssaiDnns:
type: array
items:
\$ref: \'#/components/schemas/SnssaiDnnPair\'
minItems: 1
description: Matching S-NSSAI and DNN pairs.
required:
\- event
PcfForUeInfo:
description: Contains the information of the PCF for a UE.
type: object
properties:
pcfFqdn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
pcfIpEndPoints:
type: array
items:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/IpEndPoint\'
minItems: 1
description: IP end points of the PCF hosting the Npcf_AmPolicyAuthorization
service.
pcfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
pcfSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
bindLevel:
\$ref: \'#/components/schemas/BindingLevel\'
PcfForPduSessionInfo:
description: Contains the informaiton of the PCF for a PDU session.
type: object
properties:
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
snssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
pcfFqdn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
pcfIpEndPoints:
type: array
items:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/IpEndPoint\'
minItems: 1
description: IP end points of the PCF hosting the Npcf_AmPolicyAuthorization
service.
ipv4Addr:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv4AddrRm\'
ipDomain:
type: string
ipv6Prefixes:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Ipv6Prefix\'
minItems: 1
description: The IPv6 Address Prefixes of the served UE.
macAddrs:
type: array
items:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MacAddr48\'
minItems: 1
description: The MAC Addresses of the served UE.
pcfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
pcfSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
bindLevel:
\$ref: \'#/components/schemas/BindingLevel\'
required:
\- snssai
\- dnn
PcfForUeBinding:
description: Identifies an Individual PCF for a UE binding.
type: object
properties:
supi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Supi\'
gpsi:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Gpsi\'
pcfForUeFqdn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
pcfForUeIpEndPoints:
type: array
items:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/IpEndPoint\'
minItems: 1
description: IP end points of the PCF hosting the Npcf_AmPolicyAuthorization
service.
pcfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
pcfSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
bindLevel:
\$ref: \'#/components/schemas/BindingLevel\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- supi
anyOf:
\- required: [pcfForUeFqdn]
\- required: [pcfForUeIpEndPoints]
PcfForUeBindingPatch:
description: Identifies the updates of an Individual PCF for a UE binding.
type: object
properties:
pcfForUeFqdn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
pcfForUeIpEndPoints:
type: array
items:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/IpEndPoint\'
minItems: 1
description: IP end points of the PCF hosting the Npcf_AmPolicyAuthorization
service.
pcfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
SnssaiDnnPair:
description: Contains a S-NSSAI and DNN combination.
type: object
required:
\- snssai
\- dnn
properties:
dnn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Dnn\'
snssai:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Snssai\'
PcfMbsBinding:
description: Represents an Individual PCF for an MBS Session binding.
type: object
properties:
mbsSessionId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/MbsSessionId\'
pcfFqdn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
pcfIpEndPoints:
type: array
items:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/IpEndPoint\'
minItems: 1
pcfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
pcfSetId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfSetId\'
bindLevel:
\$ref: \'#/components/schemas/BindingLevel\'
recoveryTime:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/DateTime\'
suppFeat:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures\'
required:
\- mbsSessionId
anyOf:
\- required: [pcfFqdn]
\- required: [pcfIpEndPoints]
PcfMbsBindingPatch:
description: >
Represents the requested modification to an Individual PCF for an MBS Session
binding.
type: object
properties:
pcfFqdn:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/Fqdn\'
pcfIpEndPoints:
type: array
items:
\$ref: \'TS29510_Nnrf_NFManagement.yaml#/components/schemas/IpEndPoint\'
minItems: 1
pcfId:
\$ref: \'TS29571_CommonData.yaml#/components/schemas/NfInstanceId\'
BindingLevel:
anyOf:
\- type: string
enum:
\- NF_SET
\- NF_INSTANCE
\- type: string
description: >
This string provides forward-compatibility with future
extensions to the enumeration but is not used to encode
content defined in the present version of this API.
description: \|
Represents the binding level.
Possible values are:
\- NF_SET: Indicates the NF set level of binding.
\- NF_INSTANCE: Indicates the NF instance level of binding.
BsfEvent:
description: Represents an event to be notified by the BSF.
anyOf:
\- type: string
enum:
\- PCF_PDU_SESSION_BINDING_REGISTRATION
\- PCF_PDU_SESSION_BINDING_DEREGISTRATION
\- PCF_UE_BINDING_REGISTRATION
\- PCF_UE_BINDING_DEREGISTRATION
\- SNSSAI_DNN_BINDING_REGISTRATION
\- SNSSAI_DNN_BINDING_DEREGISTRATION
\- type: string
description: >
This string provides forward-compatibility with future extensions to the
enumeration
and is not used to encode content defined in the present version of this API.
BsfSubscriptionResp:
description: >
It represents a response to a modification or creation request of an
Individual Binding
Subscription resource. It may contain the notification of the already met
events.
anyOf:
\- \$ref: \'#/components/schemas/BsfSubscription\'
\- \$ref: \'#/components/schemas/BsfNotification\'
###### ## Annex B (informative): Deployment option to support BSF and DRA
coexistence due to network migration
As described in Annex B of 3GPP TS 23.503 [4], the Diameter Routing Agent
(DRA) and the BSF can coexist in an operator\'s network during the network
migration to 5GC. The DRA is described in 3GPP TS 29.213 [14] and can be a
service consumer of the Nbsf_Management service.
During the Rx session establishment, the DRA can discover the selected PCF for
the related subscriber by using the Nbsf_Management_Discovery service
operation to obtain the related PCF address if it has no stored binding
information derived from an ongoing Gx session for that subscriber.
NOTE 1: For a UE in the EPC there is a Gx session and the DRA stores the
binding information. For a UE in the 5GC the Npcf_SmPolicyControl service is
used and the BSF stores the binding information.
NOTE 2: If the DRA has no stored binding information derived from an ongoing
Gx session for a subscriber, the DRA needs to request new binding information
for each Rx session establishment because the information in the BSF could
have changed compared to any previous binding information the DRA requested.
#