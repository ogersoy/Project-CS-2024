# Foreword
This Technical Report has been produced by the 3rd Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
In the present document, modal verbs have the following meanings:
**shall** indicates a mandatory requirement to do something
**shall not** indicates an interdiction (prohibition) to do something
The constructions \"shall\" and \"shall not\" are confined to the context of
normative provisions, and do not appear in Technical Reports.
The constructions \"must\" and \"must not\" are not used as substitutes for
\"shall\" and \"shall not\". Their use is avoided insofar as possible, and
they are not used in a normative context except in a direct citation from an
external, referenced, non-3GPP document, or so as to maintain continuity of
style when extending or modifying the provisions of such a referenced
document.
**should** indicates a recommendation to do something
**should not** indicates a recommendation not to do something
**may** indicates permission to do something
**need not** indicates permission not to do something
The construction \"may not\" is ambiguous and is not used in normative
elements. The unambiguous constructions \"might not\" or \"shall not\" are
used instead, depending upon the meaning intended.
**can** indicates that something is possible
**cannot** indicates that something is impossible
The constructions \"can\" and \"cannot\" are not substitutes for \"may\" and
\"need not\".
**will** indicates that something is certain or expected to happen as a result
of action taken by an agency the behaviour of which is outside the scope of
the present document
**will not** indicates that something is certain or expected not to happen as
a result of action taken by an agency the behaviour of which is outside the
scope of the present document
**might** indicates a likelihood that something will happen as a result of
action taken by some agency the behaviour of which is outside the scope of the
present document
**might not** indicates a likelihood that something will not happen as a
result of action taken by some agency the behaviour of which is outside the
scope of the present document
In addition:
**is** (or any other verb in the indicative mood) indicates a statement of
fact
**is not** (or any other negative verb in the indicative mood) indicates a
statement of fact
The constructions \"is\" and \"is not\" do not indicate requirements.
# 1 Scope
The scope of this Technical Report is to study and identify potential
architecture and system level enhancements for the 5G system to support the
operation of base station relays mounted on vehicles, using NR for wireless
access toward the UE and for wireless access through an IAB-donor toward the
5GC, i.e. in this release only IAB type relays based on the IAB architecture
and functionalities specified in TS 23.501 [2] are studied. The study
addresses the service requirements documented in TS 22.261 [3] for the mobile
base station relays, and focuses on the following aspects:
\- efficient mobility and service continuity for UE or a group of UEs to
efficiently deliver data during different mobility scenarios (including
mobility of the mobile base station relays);
\- provisioning, policies and mechanisms to e.g. manage relay configuration,
geographic restrictions, QoS, authorization and control of UEs\' access via
the mobile base station relay, etc.;
\- support for roaming of mobile base station relay (including the roaming of
the IAB-UE and gNB-DU in IAB-node), support for regulatory requirements (e.g.
emergency, priority services, public safety), and support for location
services for UEs accessing a mobile base station relay.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or non‑specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.501: \"System architecture for the 5G System (5GS); Stage 2\".
[3] 3GPP TS 22.261: \"Service requirements for the 5G system; Stage 1\".
[4] 3GPP TS 23.273: \"5G System (5GS) Location Services (LCS); Stage 2\".
[5] 3GPP TS 23.502: \"Procedures for the 5G System (5GS); Stage 2\".
[6] 3GPP TS 38.401: \"NG-RAN; Architecture description\".
[7] 3GPP TS 23.503: \"Policy and Charging Control Framework for the 5G
System\".
[8] 3GPP TS 24.588: \"Vehicle-to-Everything (V2X) services in 5G System (5GS);
User Equipment (UE) policies; Stage 3\".
[9] 3GPP TS 23.304: \"Proximity based Services (ProSe) in the 5G System
(5GS)\".
[10] 3GPP TS 24.501: \"Non-Access-Stratum (NAS) protocol for 5G System (5GS);
Stage 3\".
[11] 3GPP TS 23.287: \"Architecture enhancements for 5G System (5GS) to
support Vehicle-to-Everything (V2X) services\".
[12] 3GPP TS 23.122: \"Non-Access-Stratum functions related to Mobile Station
(MS) in idle mode\".
**[13]** 3GPP TS 37.355**:** \"**LTE Positioning Protocol (LPP)** \".
[14] 3GPP TS 38.455: \"NR Positioning Protocol A (NRPPa)\".
[15] 3GPP TR 23.700‑86: \"Study on Architecture Enhancement to support Ranging
based services and sidelink positioning\".
[16] 3GPP TS 38.331: \"NR; Radio Resource Control (RRC); Protocol
specification\".
[17] 3GPP TS 38.305: \"Stage 2 functional specification of User Equipment (UE)
positioning in NG-RAN\".
[18] 3GPP TS 38.473: \"F1 application protocol (F1AP)\".
[19] 3GPP TS 38.413: \"NG Application Protocol (NGAP)\".
[20] 3GPP TS 38.300: \"NR; Overall description; Stage-2\".
[21] 3GPP TS 38.304: \"NR; User Equipment (UE) procedures in idle mode \".
# 3 Definitions of terms and abbreviations
## 3.1 Terms
For the purposes of the present document, the terms given in TR 21.905 [1] and
the following apply. A term defined in the present document takes precedence
over the definition of the same term, if any, in TR 21.905 [1].
**mobile base station relay:** A mobile base station acts as a relay between a
UE and the 5G network, i.e. providing a NR access link to UEs and connected
wirelessly (using NR) through a IAB-donor to the 5G Core. Such mobile base
station relay is assumed to be mounted on a moving vehicle and serve UEs that
can be located inside or outside the vehicle (or entering/leaving the
vehicle).
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1] and the following apply. An abbreviation defined in the present document
takes precedence over the definition of the same abbreviation, if any, in TR
21.905 [1].
MBSR Mobile Base Station Relay
TRP Transmission-Reception Point
VMR Vehicle Mounted Relay
# 4 Architecture assumptions and requirements
## 4.1 Architecture assumptions
The study should be based on the following architecture assumptions:
\- the mobile base station relays uses the IAB architecture as defined in
clause 5.35 of TS 23.501 [2];
NOTE 1: Any other alternative of base station relay architecture depends on
the RAN study output if any and should be discussed with relevant RAN WGs.
NOTE 2: The mobile base station relay (i.e. IAB-node) is not applicable to NR
satellite access in this release.
\- the mobile base station relay has a single hop to the IAB-donor node;
\- the mobile base station relay may serve UEs located inside or outside the
vehicle mounted with the relay;
\- NR Uu is used for the radio link between a mobile base station relay and
served UEs, and between mobile base station relay and IAB-donor node. However,
optimization solutions can also consider combining other functionalities, e.g.
using PC5 for discovery and mobility assistance/control amongst relays;
\- LCS framework as defined in TS 23.273 [4] is used for providing the
location service to the served UEs;
\- the mobile base station may connect to an IAB-donor node of a PLMN or an
SNPN.
## 4.2 Architecture requirements
Solutions of the study should provide architecture and system level
enhancements to the 5G system to support the operation of base station relays
to satisfy the normative requirements in TS 22.261 [3]. Specifically, the
enhanced system needs to:
\- support legacy UE(s) to connect via base station relays, but can consider
optimizations involving UE changes;
\- support end-to-end service continuity, in the presence of mobile base
station relays, including when the mobile base station relays change the IAB-
donor nodes;
\- support the mobile network operator to configure, provision and control the
operation of a mobile base station relay;
NOTE 1: Charging support will be coordinated with SA5, and if needed later
handled as alignment work in SA WG2.
\- support of regulatory requirements (e.g. for support of emergency services,
priority services) when UEs access 5GS via a mobile base station relay;
\- support roaming of the mobile base station relay from its HPLMN into a
VPLMN.
NOTE 2: In this Release, NR satellite access is not applicable.
# 5 Key Issues
## 5.1 Key Issue #1: Mobile base station relay configuration support in 5GC
### 5.1.1 Description
Mobile base station relays (i.e. IAB-node) may attach or detach to a mobile
network depending on its location and movement. When a mobile base station
relay just attaches to the network, it may lack the authorization policy and
configuration data to serve as a mobile relay. Therefore dynamic provisioning
mechanism is needed to configure the mobile base station relay in such cases.
This key issue should investigate the enhancements needed in 5GC for the
configuration of the mobile base station relay to be operational and for the
access management of the mobile based station relay.
The following aspects shall be studied:
\- What authorization policies and configuration data are needed for the
mobile base station relay\'s operation.
\- Whether and what is needed in 5GC to support the configuration of a mobile
base station relay, besides the existing configuration methods for IAB-node.
\- Whether and what is needed in 5GC for managing mobile base station relay\'s
access to 5GS, besides the existing IAB-UE management.
NOTE: Aspects of RAN specific configuration need to be coordinated with RAN
WGs.
## 5.2 Key Issue #2: Efficient mobility for UEs connecting to/disconnecting
from mobile base station relay
### 5.2.1 Description
During the mobility of the mobile base station relay (i.e. IAB-node), a UE or
a group of UEs served by the mobile base station relay will move together with
the mobile base station relay, and when the mobile base station relay is, e.g.
out of service area, or out of service time, the group of UEs will be served
by macro base station or another mobile base station relay nearby.
In addition, when a UE is connected to a macro base station and the vehicle is
moving to an area in the vicinity of the UE, the surrounding UEs (i.e. outside
the vehicle) may profit of a better communication link through the mobile base
station relay requiring efficient mobility from the macro base station to the
mobile base station relay and back to the macro base station.
Hence, following aspects need to be studied for UEs moving to/from mobile base
station relay:
\- How to support efficient mobility for a UE or a group of UEs between mobile
base station relays.
\- How to support efficient mobility for a UE or a group of UEs between mobile
base station relay and macro base stations.
NOTE: This KI has RAN dependency and should align with the progress of RAN
WGs.
## 5.3 Key Issue #3: Efficient mobility and service continuity when served by
mobile base station relay
### 5.3.1 General description
When the moving vehicles are equipped with mobile base station relays (i.e.
IAB-node), the mobile base station relays can provide 5G coverage and
communication to UEs (inside the vehicle and/or in its vicinity), and
connected wirelessly to the 5G network via IAB-donor gNB. When one or a group
of UEs are already served by the mobile base station relay, there are two
mobility scenarios to be studied as the following:
\- Scenario A (mobility within the same IAB-donor gNB): When the UEs are
continuously served by a mobile base station relay (e.g. inside the vehicle
and/or in its vicinity), this mobile base station relay within the vehicle is
moving around within a limited geographical area while keeping connecting with
the same IAB-donor gNB. In this case, the UE keeps the connection with the
same mobile base station relay (i.e. IAB-node), and there is no change of the
IAB-donor gNB as in figure 5.3.1-1.
\- Scenario B (mobility between different IAB-donor gNBs): When the UEs are
continuously served by a mobile base station relay (e.g. inside the vehicle
and/or in its vicinity), this mobile base station relay within the vehicle is
moving around over a long distance. The mobile base station relay node
connects with a different IAB-donor gNB if the vehicle keeps moving. In this
case, the UE keeps the connection with the same mobile base station relay
(i.e. IAB-node), but there is change of the IAB-donor gNB.
NOTE 1: For the above scenarios, whether the cell information in the System
Information Broadcast (e.g. Cell ID, TAC) changes has RAN dependency.
NOTE 2: For the above scenarios, whether UE needs to perform the legacy
handover procedures has RAN dependency.
Figure 5.3.1-1: Scenarios for efficient mobility and service continuity
The following aspects need to be studied for UEs served by the mobile base
station relay in the case of mobility within the same IAB-donor gNB and
mobility between different IAB-donor gNBs:
\- Whether and how to enhance current procedures of mobility and service
continuity for a UE or a group of UEs, to efficiently deliver the data.
Following aspects need to be considered in potential solutions:
\- If the TAC in the System Information Broadcast changes, whether and how to
enhance the NAS mobility procedure.
\- If the handover is needed due to cell changes, whether and how to enhance
the mobility for group UEs (e.g. during handover).
NOTE 3: Mechanisms related to mobility management and service continuity have
RAN dependency and should align with the progress of RAN WGs.
## 5.4 Key Issue #4: Support of roaming of mobile base station relays
Based on the requirements of TS 22.261 [3], the 5G system shall support the
mobile base station relay (i.e. IAB-node) having a subscription with a HPLMN
and roaming from its HPLMN into a VPLMN.
When using the IAB architecture, a mobile base station relay (i.e. IAB-node)
consists of a gNB-DU and an IAB-UE, as defined in clause 5.35 of TS 23.501
[2]. For roaming, the IAB-UE behaves as a UE, and thus may be able to access a
VPLMN reusing UE procedures. However, in order to support the gNB-DU component
of the mobile base station to operate properly in the VPLMN, additional
support may need to be defined. This key issue addresses the following aspects
of the mobile base station relay when it connects to a VPLMN:
\- Study the PLMN (i.e. HPLMN or VPLMN) to be presented to UE by mobile base
station relay in case of roaming. And how to support access and communication
from/to UEs via mobile base station relays.
\- Whether and how to support the controlling of a mobile base station relay,
e.g. enable/disable mobile relay operation if the relay is roaming in a VPLMN.
NOTE: Coordination between the RAN WGs and SA WG2 is needed.
## 5.5 Key Issue #5: Support of location services for UEs accessing via a
mobile base station relay
Based on the requirements of TS 22.261 [3], the 5G system shall be able to
support location services for the UEs accessing 5GS via a mobile base station
relay. However, when the mobile base station relay (i.e. IAB-node) is present,
the location of the cell/IAB-node serving the UEs may change, and this may
affect not only positioning procedures but also regulatory services needs UE
location. Therefore, this key issue needs to address:
\- How to support location services for the UEs served by a mobile base
station relay that moves (with or without changing IAB-donor gNBs); or roams
to VPLMN;
NOTE: For this key issue, this study should not seek to change the LCS
framework, and the coordination with the study on FS_eLCS_PH3 may be needed.
## 5.6 Key Issue #6: Provide cell ID/TAC of mobile base station relay for
services
When the mobile base station relay (i.e. IAB-node) is present, the physical
location of the cell/IAB-node serving the UEs may change even without changing
its IAB-donor node. Therefore, the serving cell ID/TAC of the UE may not
always accurately reflect the location of the UE. This may affect services,
e.g. regulatory services, tariff notifications, and etc. that rely on cell
ID/TAC as location reference. Therefore, this key issue needs to address:
\- How to provide appropriate cell ID/TACs information (and possible its
corresponding geographic area) of mobile base station relay that moves when
such cell ID/TACs are needed, e.g. to assist route an emergency call to the
correct PSAP, to assist to handle Lawful Interception, to assist the Public
Warning System, etc.
NOTE 1: For mobile base station relay that moves, whether its cell information
in the System Information Broadcast (e.g. Cell ID, TAC) changes or not due to
its movement has RAN dependency.
NOTE 2: For mobile base station relay that moves, even the cell information in
the System Information Broadcast (e.g. Cell ID, TAC) does not change, it may
represents different geographic area due to the movement.
## 5.7 Key Issue #7: Control of UE\'s access to 5GS via a mobile base station
relay
Based on the requirements in TS 22.261 [3], it shall be possible to support
provisioning and configuration mechanisms to control UEs\' selection of and
access to a mobile base station relay (i.e. IAB-node), e.g. based on
geographic or temporary restrictions, etc.
This key issue is to address those requirements, and potential solutions
providing granular and efficient control of both IDLE or CONNECTED mode UE
access to MBSR e.g. during the connection or mobility of the UE. In
particular, the following aspects should be addressed:
\- Whether and how to manage access control for the UE\'s access to IAB-node;
\- whether and how to manage the UE\'s access (e.g. permitted/restricted) to
IAB-node for specific geographical location(s), time window(s), or other
conditions/criteria;
\- whether and how to improve the control of new UEs.
NOTE 1: Support of legacy UE(s) shall be considered.
NOTE 2: Aspects related to RAN need to be coordinated with RAN WGs.
# 6 Solutions
## 6.0 Mapping of solutions to key issues
Table 6.0-1: Mapping of solutions to key issues
              Key Issues
* * *
Solutions 1 2 3 4 5 6 7 1 x  
2 x  
3 x  
4 x x  
5 x x  
6 x  
7 x  
8 x  
9 x  
10 x x  
11 x  
12 x  
13 x  
14 x  
15 x  
16 x  
17 x  
18 x  
19 x  
20 x
## 6.1 Solution #1: Subscription data and O&M based mobile IAB-node
configuration
### 6.1.1 Introduction
The solution provides methods for mobile IAB-node configuration and 5GC access
control based on O&M and subscription. This includes roaming scenario.
### 6.1.2 Functional Description
The solution is based on the support of existing IAB architecture as specified
in TS 23.501 [2] with the following high-level description:
\- For the IAB-node connects to 5GS, the access control and mobility handling
is in 5GC based on subscription data in the network for the IAB-UE (i.e. IAB-
MT). In case of roaming, the local policy in serving AMF may further enforce
it based on mobility restriction functionality.
\- For the IAB-node configuration, it is supported by the O&M using either
backhaul IP layer by implementation or using IP provided by the IAB-UE\'s (or
IAB-MT\'s) PDU session via 5G network as described in TS 38.401 [6]. In the
case of roaming, it\'s the serving network O&M provides the configuration
information to the IAB-node.
NOTE: Coordination with RAN WGs is needed to decide if there is extra
configuration support needed for IAB-node due to mobility.
Editor\'s note: It is FFS if extra O&M procedures impact is needed.
### 6.1.3 Procedures
The registration request procedure in clause 4.2 of TS 23.502 [5] in Rel-17
can be used by the IAB-UE to access the 5GS.
Optionally the PDU session establishment procedure in clause 4.3 of TS 23.502
[5] may be used to provide configuration information. In case of roaming, the
serving network provides the configuration information to the IAB-node.
### 6.1.4 Impacts on services, entities, and interfaces
AMF:
\- None.
gNB:
\- None.
## 6.2 Solution #2: Solution for provisioning and policy control of mobile
base station relays
### 6.2.1 General
This solution addresses Key Issue#1, as defined in clause 5.1.
The UE Policy control and provisioning framework as defined in TS 23.503 [7]
is used to support the provisioning and policy control for the mobile base
station relays. Similar to the V2XP and ProSeP handling, a Vehicle Mounted
Relay Policy (VMRP) can be delivered to the IAB-UE component of the mobile
base station relay from PCF via N1 signalling.
The VMRP will be used by the mobile base station relay to govern it operation
to satisfy the service requirements, e.g. when to activate/deactivate the
relay based on location or time.
### 6.2.2 Functional descriptions
#### 6.2.2.1 Policy provisioning architecture
Figure 6.2.2-1 shows a reference architecture for the mobile base station
relay policy provisioning control.
Figure 6.2.2-1: Policy provisioning framework for mobile base station relays
When the mobile base station relay is owned by the mobile network operator,
the relay obtains the policies stored in the UDR via the PCF, similar to the
case for URSP.
In certain deployment cases, the mobile base station relay may be owned by a
third party, e.g. a fleet operator that has a service agreement with the PLMN,
the relay may be controlled by the VMR Application Server. In this case, some
additional policy may be provided by the VMR Application Server via the V1\'
reference point or via NEF-UDR-PCF.
The V1\' reference point is similar to the V1 reference point as defined in TS
23.287 [11].
Editor\'s note: It is FFS for the case that mobile base station relay is
owned/controlled by a third party and connect to PLMN network.
#### 6.2.2.2 Vehicle Mounted Relay Policy contents
To satisfy the service requirements as defined in clause 5.2, the VMRP may
contain the following elements:
\- Operating restrictions:
\- Geographic restrictions:
\- Relay operation can be allowed within a set of geographic areas /
disallowed within a set of geographic areas.
NOTE 1: Geographic area format used for V2X policy in TS 24.588 [8] can be re-
used. A geographic area is encoded as a list of coordinates, each
corresponding to a summit of a polygon.
Editor\'s note: It is FFS how the IAB-UE determines the geographic areas that
IAB-UE is located during mobility.
\- Subscription-based restrictions:
\- List of PLMN IDs where IABoperation can be allowed.
Editor\'s note: How IAB-UE performs PLMN selection using the list of PLMN IDs
where IAB operation can be allowed is FFS.
\- Time-of-day-based restrictions:
\- time window when relay operation can be allowed /disallowed.
NOTE 2: This time window allows operator to have relays provide supplemental
capacity only during peak hours.
\- Speed-based restrictions:
\- Speed thresholds for when relay operation can be allowed/disallowed.
NOTE 3: Speed limit can be set to zero, in which case the relay can only
operate when the vehicle is not moving.
Editor\'s note: It is FFS if the Speed-based restrictions can be used only in
certain cases, e.g. MBSR can reliably identify its own speed.
\- PDU session parameters, e.g. specific DNN & S-NSSAI to use for the PDU
session established toward the OAM server for relay configurations.
Editor\'s note: It is FFS that whether the other parameters can be contained
in VMRP.
Editor\'s note: It is FFS if some of the police and parameters should be
provided by OAM.
### 6.2.3 Procedures
The procedures for service authorization and provisioning as defined in clause
6.2 of TS 23.304 [9] can be reused for the provisioning of VMRP to the mobile
base station relay.
In order to support the operation, a new UE Policy part type for VMRP needs to
be defined in clause D.6.2.7 of TS 24.501 [10], besides URSP, ANDSP, V2XP, and
ProSeP.
Editor\'s note: After the VMRP is provisioned to the mobile base station
relays, it is FFS how the network enforces the operation of mobile base
station relays, such as geographic areas and speed.
### 6.2.4 Impacts on services, entities, and interfaces
Impacts on existing entities:
PCF: Support the provisioning of VMRP.
Functions required at new entities:
Mobile base station relay: support a new type of UE Policy (i.e. VMRP)
provisioning procedures.
## 6.3 Solution #3: Reusing existing procedures for UE mobility
### 6.3.1 General
This is a solution to Key Issue#2, which addresses the following:
\- How to support efficient mobility for a UE between mobile base station
relays.
\- How to support efficient mobility for a UE between mobile base station
relay and macro base station.
### 6.3.2 Functional descriptions
The IAB architecture for 5GS as defined in clause 5.35 of TS 23.501 [2] is
reused. The gNB-DU in the IAB-node is responsible for providing NR Uu access
to UEs and child IAB-nodes. The corresponding gNB-CU function resides on the
IAB-donor gNB, which controls IAB-node gNB-DU via the F1 interface. IAB-node
appears as a normal gNB to UEs and other IAB-nodes and allows them to connect
to the 5GC.
Figure 6.3.2-1: IAB architecture for 5GS
### 6.3.3 Procedures
#### 6.3.3.1 UE mobility between mobile base station relays
In case of UE mobility between mobile base station relays (i.e. from one
mobile base station relay to another mobile base station relay), e.g. due to
the old mobile base station relay out of service, the following applies:
\- If the mobile base station relays connect to the same macro base station
(i.e. same IAB-donor node), the legacy procedure of Inter-gNB-DU Mobility as
defined in the TS 38.401 [6] is used.
\- If the mobile base station relays connect to different macro base stations
(i.e. different IAB-donor nodes), the legacy handover procedure using the Xn
or N2 reference points as defined in the TS 23.502 [5] is used.
Editor\'s note: The details of UE mobility between mobile base station relays
will be coordinated with RAN WGs.
#### 6.3.3.2 UE mobility between mobile base station relay and macro base
station
In case of UE mobility between mobile base station relay and macro base
station, e.g. due to mobile base station relay out of service, the following
applies:
\- If this mobile base station relay\'s IAB-donor node is this macro base
station, the legacy procedure of Inter-gNB-DU Mobility as defined in the TS
38.401 [6] is used.
\- If this mobile base station relay\'s IAB-donor node is another macro base
station, the legacy handover procedure using the Xn or N2 reference points as
defined in the TS 23.502 [5] is used.
Editor\'s note: The details of UE mobility between mobile base station relay
and macro base station will be coordinated with RAN WGs.
### 6.3.4 Impacts on services, entities, and interfaces
There is no impacts identified in this solution.
Editor\'s note: The impacts will be coordinated with RAN WGs, if any.
## 6.4 Solution #4: Stop mobility registration when moving with mobile base
station relay
### 6.4.1 General
This solution addresses Key Issue #2 and Key Issue #3 for mobility.
This solution assumes that the TACs allowed to be broadcasted by the Mobile
Base Station Relay (MBSR) are pre-configured, and the gNB-CU is able to
instruct the MBSR to broadcast one of them, which can be changed when the gNB-
CU changed or determined by the gNB-CU. The pre-configuration of TACs for a
MBSR is able to be obtained by the AMF serving the UE if the UE camps on the
MBSR, and the Registration Area (RA) configured for the UE includes those TACs
so that the UE will not perform mobility registration.
Following figure shows an example of the moving scenario:
Figure 6.4.1-1: Example of UE stopping mobility registration when moving with
MBSR
1\. The UE is served by AMF1, and the RA configured in UE does not include any
TAC that is allowed to be broadcasted by any MBSR.
2\. The UE onboards a vehicle equipped with a MBSR, and the MBSR is serving by
AMF2. The MBSR is pre-configured with allowed TAC list that includes TAC1,
TAC2, and TAC3, which is not included in the current RA of the UE, and the NG-
RAN selects TAC1 for the MBSR to broadcast. The UE performs mobility
registration via the MBSR due to RA change, and the AMF1 provides new RA to
the UE, which includes TAC1, TAC2, and TAC3, so that the UE will not perform
mobility registration again until the UE leaves the MBSR.
3\. The MBSR moves together with the UE, and the MBSR performs mobility
registration and is instructed to broadcast TAC2. The serving NG-RAN decides
to change the serving AMF for the UEs served by AMF1, e.g. NG-RAN does not
have connection with the AMF1, and the serving NG-RAN sends context transfer
request to AMF3 in order to transfer context for bulk UEs under the MBSR from
AMF1. The AMF3 requests UE Context transfer from AMF1 without temporary UE ID
(5G-GUTI) change, i.e. no NAS signalling. After the UE Context transfer, the
NG-RAN is able to send message to the AMF3 for the UEs. The AMF3 invokes
Nudm_UECM_Registration with \"move together\" indication to UDM, the UDM will
suspend the deregistration notification to the AMF1.
4\. The MBSR continues to move and performs mobility registration, and the
serving AMF for the MBSR is changed to AMF4. The NG-RAN selects TAC3 for the
MBSR to broadcast (the NG-RAN may also select TAC1 or TAC2).
5\. The UE gets off the vehicle, camps on a macro cell, and the TAC
broadcasted by the cell is not in the current RA of the UE, so the UE performs
mobility registration, which changes the serving AMF to AMF5. The AMF5
requests UE context from AMF1 according to the 5G-GUTI and invokes
Nudm_UECM_Registration without \"move together\" indication, and UDM will
deregister the AMF3 and resume the deregistration notification to the AMF1.
### 6.4.2 Functional descriptions
In this solution, the AMF serving the UE manages the association between the
UE and the MBSR. The MBSR may be managed by a different AMF, so the AMF
serving the UE allocates a Link ID to link to the MBSR and associates the UE
with the Link ID. If multiple UEs under a MBSR are served by the same AMF,
those UEs are associated with the same Link ID. The Link ID consists of AMF ID
of the AMF that allocates it and a unique ID within the AMF.
Considering that the NG-RAN does not have the UE context when the UE is in CM-
IDLE state, the NG-RAN is provided with the Link IDs from AMFs serving UEs and
the NG-RAN manages the association between the MBSR and the Link IDs. When a
MBSR moves, the NG-RAN may trigger the UE context transfer for the UEs under
the MBSR according to the AMF ID in the Link ID (e.g. the NG-RAN does not have
a connection with the AMF), i.e. the NG-RAN sends the Link ID to the new AMF
serving the UEs, and the new AMF serving the UEs requests bulk UE context
transfer from the AMF indicated by the AMF ID in the Link ID.
The following figure shows the data model for the mobility management:
Figure 6.4.2-1: Data model for mobility management
Each UE is served by an AMF (AMF serving UE, A.K.A. AMF-UE), which holds the
UE Context. When the UE camps on a MBSR, the UE Context will include a Link ID
linking to the MBSR that is dynamically assigned by the AMF. The Link ID
includes AMF ID indicating the AMF assigning the Link ID, and includes a
unique number assigned by the AMF indicated by the AMF ID. The UEs served by
the same AMF and camps on the same MBSR will be assigned with the same Link
ID. The 5G-GUTI included in the UE Context may be assigned by another AMF-UE
if the UE does not perform mobility registration when moving with the MBSR
(see clauses 6.4.3.1, 6.4.3.2 and 6.4.3.3).
The NG-RAN serving a MBSR holds the MBSR Context that includes zero or more
Link IDs so that even a UE under the MBSR is in CM-IDLE state, the NG-RAN is
able to trigger UE context transfer during MBSR mobility (see clauses 6.4.3.1
and 6.4.3.2). If a UE is in CM-CONNECTED state and is relayed by a MBSR, the
UE context in the NG-RAN also includes a Link ID associated with the MBSR, so
that when the UE performs handover (move together with MBSR or not), even the
serving AMF for the UE is changed while 5G-GUTI of the UE is unchanged, the
NG-RAN is able to know the serving AMF for the UE (see clause 6.4.3.3), and if
multiple UEs relayed by the MBSR are served by the same AMF, they will
associate the same Link ID even if the AMF IDs in the UE 5G-GUTIs are
different, so that when the handovers of those UEs are triggered by the moving
of the MBSR (move together), the NG-RAN is able to send bunch of handover
requests for those UEs to the AMF (see clauses 6.4.3.3.2 and 6.4.3.3.3).
### 6.4.3 Procedures
#### 6.4.3.1 UE performs Service Request or Registration Request via Mobile
Base Station Relay
As described in clause 6.4.1, the UE will keep silent as possible as it can
when moving with MBSR, i.e. no mobility registration. As described in step 3
of clause 6.4.1, the AMF serving the UE may need to be changed later without
NAS signalling exchange.
The Link ID is introduced to map to the MBSR in the procedure, which does not
map to the UE, and is sent to NG-RAN via N2 message by the AMF serving the UE,
and the Link ID includes the AMF ID of the AMF serving the UE, so that when
the AMF serving the needs to be changed during MBRS mobility (step 3 of clause
6.4.1), even the UE is in CM-IDLE state, the NG-RAN can use the Link ID to ask
the new AMF to interact with the old serving AMF indicated by the AMF ID in
the Link ID to transfer the UE context (described in clause 6.4.3.2.
Figure 6.4.3.1-1: UE performs Service Request or Registration Request via
Mobile Base Station Relay
1\. The UE camps on a MBSR.
2\. The UE initiates Service Request or Registration Request towards 5GC. The
MBSR forwards the N1 message to the NG-RAN.
3\. The NG-RAN forwards the N1 message and includes the MBSR ID, e.g. 5G-GUTI
of the MBSR, and may include the TAI list configured for the MBSR in the
underlayer N2 message. In the case of registration procedure, the NG-RAN may
select a new AMF-UE.
4\. In case new AMF-UE is selected, the AMF-UE requests UE Context transfer
from the old AMF-UE. The new AMF-UE invokes Nudm_UECM_Registration to the UDM,
the UDM resumes the deregistration notification that was suspended in step 6
of clause 6.4.3.2.
5\. The new AMF-UE sends a N2 message with the Link ID obtained in step 5, the
N2 message may include a N1 message. In case of registration procedure, if the
TAI list configured for the MBSR does not change, for the sake of saving
mobility registration for UEs behind the MBSR, the AMF-UE may send
Registration Accept to the UE with TAI List that only includes the TAI list
received in step 3. The NG-RAN associates the Link ID with the MBSR and stores
the Link ID into the UE context.
6\. The NG-RAN associates the Link ID with the MBSR ID and the UE ID. The NG-
RAN sends an RRC message to the UE, the RRC message may include the N1
message. The usage of Link ID is referred to clauses 6.4.3.2, and 6.4.3.3.
7\. If the UE camps on a MBSR, the UE may suspend the mobile registration if
the UE keeps camping on the MBSR (e.g. the TAI/TAC broadcasted by the MBSR
does not change and the NG-RAN sends the TAI to the AMF-UE).
8\. The UE camps on another MBSR or NG-RAN.
9\. When the mobile registration is suspended, the UE resumes the mobile
registration (e.g. the TAI/TAC broadcasted by a MBSR is not provisioned to the
UE before the UE camps on the MBSR and when UE camps on a MBSR, only the
TAI/TAC of the MBSR is provisioned to the UE). If the UE camps on another
MBSR, the steps 2-9 are performed with a different Link ID, different MBSR ID,
and a possibly different AMF-MBSR, if the UE camps on NG-RAN directly, the
registration procedure described in clause 4.2.2 of TS 23.502 [5] is
performed, and when Nudm_UECM_Registration without \"move together\"
indication is invoked by a new AMF-UE, the UDM resumes the deregistration
notification that was suspended in step 6 of clause 6.4.3.2.
#### 6.4.3.2 Mobile Base Station Relay mobility registration procedure with
UEs
As described in clause 6.4.1, the UE will keep silent as possible as it can
when moving with MBSR, i.e. no mobility registration. As described in step 3
of clause 6.4.1, the AMF serving the UE may need to be changed later without
NAS signalling exchange.
According to procedure in clause 6.4.3.1, during the mobility of MBSR, even
when the UE is in CM-IDLE state, the NG-RAN is able to determine whether the
AMF serving the UE needs to be changed according to the Link ID associated
with the MBSR. The NG-RAN sends the Link ID to the new AMF serving the UE and
the new AMF sends the Link ID to the old AMF serving the UE for requesting
bulk UE context transfer. The old AMF serving the UE stores the UE context
with the Link ID, so bulk UE context transfer can be done.
Figure 6.4.3.2-1: Mobile Base Station Relay mobility registration procedure
with UEs
1\. The MBSR sends Registration Request towards the 5GC via the NG-RAN, or the
MBSR performs handover procedure.
2\. In case Registration procedure is performed, the NG-RAN may select an AMF-
MBSR different from the old AMF-MBSR, the AMF-MBSR queries UE Context for the
MBSR from the old AMF-MBSR and the old AMF-MBSR returns MBSR Context with the
Link IDs (see clause 6.5.3.1 for how AMF-MBSR knows the Link IDs).
3\. In case Registration procedure is performed, the AMF-MBSR sends
Registration Accept to the MBSR, whose underlayer N2 message includes the Link
IDs, the NG-RAN updates the Link IDs for the MBSR.
4\. The (target) NG-RAN decides whether to change the AMF serving the UEs
associated with a Link ID according to the Link ID.
NOTE 1: If the UE decides to change slice requirement, the UE will initiate
mobility registration update procedure without changing to a new TA outside
the UE\'s RA according to clause 4.2.2.2.1 of TS 23.502 [5].
5\. If new AMF-UE is selected, the NG-RAN sends AMF Relocation Request (Link
ID) to the new AMF-UE.
6\. The new AMF-UE invokes Bulk UE Context Transfer Request (Link ID) towards
the old AMF-UE according to the Link ID. The old AMF-UE responds the context
of UEs associated with the Link ID. The UE context includes the Link ID and
the associated AMF ID indicating the AMF-MBSR that the old AMF-UE has
subscribed event to.
The new AMF-UE invokes Nudm_UECM_Registration with \"move together\"
indication to the UDM, and the UDM suspends deregistration notification to the
old AMF-UE who did not indicate \"move together\".
NOTE 2: The UDM still notifies deregistration to any other old AMF-UE, i.e.,
notifies deregistration to those old AMF-UE who indicated \"move together\".
7\. The new AMF-UE allocate a new Link ID, associates the new Link ID with the
UEs, and responds to the NG-RAN with the new Link ID. The NG-RAN replace the
Link ID with the new Link ID, i.e., replaces the Link ID in the context of
MBSR with the new Link ID, and replaces the Link ID in context of UEs with the
new Link ID.
#### 6.4.3.3 Mobile Base Station Relay handover with UEs
##### 6.4.3.3.1 General
As described in clause 6.4.1, the UE will keep silent as possible as it can
when moving with MBSR, i.e. no mobility registration. As described in step 3
of clause 6.4.1, the AMF serving the UE may need to be changed during the MBSR
handover without UE NAS signalling exchange.
The NG-RAN has the context of the UE that is in CM-CONNECTED state, which
includes the Link ID as described in step 5 of clause 6.4.3.1 and step 7 of
clause 6.4.3.2. As described in step 3 of clause 6.4.1, the 5G-GUTI of the UE
is unchanged, hence the AMF ID in the 5G-GUTI may not indicate to the AMF that
stores the UE context, in this procedure, the NG-RAN sends handover required
message to the AMF according to the Link ID in the UE context instead of the
5G-GUTI of the UE. For N2 handover, if the AMF serving UE is changed, the AMF
ID in the Link ID indicates the old AMF serving the UE, the new AMF serving
the UE needs to sends a new Link ID to the target NG-RAN.
##### 6.4.3.3.2 N2 handover
Figure 6.4.3.3.2-1: Mobile Base Station Relay N2 handover with UEs
1\. The source NG-RAN determines to perform handover for the MBSR and sends
the Handover Required (MBSR info) message to the AMF-MBSR. The AMF-MBSR may
select a new AMF-MBSR for the handover procedure.
2\. The handover procedure for the MBSR continues. If the AMF-MBSR is not
changed, the AMF-MBSR sends the Link IDs associated with the MBSR to the
target NG-RAN; if the AMF-MBSR is changed, the new AMF-MBSR sends the Link IDs
associated with the MBSR to the target NG-RAN (see clause 6.5.3.1 for how AMF-
MBSR knows the Link IDs). The target NG-RAN updates the Link IDs for the MBSR.
3\. The AMF-MBSR sends the Handover Command (MBSR info) to the source NG-RAN.
4\. The source NG-RAN sends Handover Command to the MBSR with MBSR info.
The following steps 5-9 are performed per UE.
NOTE: Following steps 5-9 can be executed simultaneously with steps 1-3.
Whether the MBSR handover is together with UEs\' handover or before UEs\'
handover is determined by RAN WGs, but there\'s no impact to the following
procedures.
5\. The source NG-RAN also sends Handover Required (UE info (MBSR info),
\"move together\") per the UE associated with the MBSR towards the AMF-UE
according to the Link ID in the UE context. The UE info (MBSR info) is
included in the transparent container. The source NG-RAN can combine multiple
Handover Required messages in a bulk way sending to the same destination. In
order to differentiate the case that UE handover due to moving together with
the MBSR from the case that UE handover to leave the MBSR, the \"move
together\" is included to indicate that the UE is moving together with the
MBSR.
6\. The AMF-UE may determine to select a new AMF-UE for the specific UE, and
invoke Create UE Context Request (UE Context (Link ID), UE info, \"move
together\") towards the new AMF-UE. The UE Context includes the Link ID when
\"move together\" is received.
7\. The handover procedure for the UE continues. In case new AMF-UE is not
selected and the UE moves together with the MBSR, the AMF-UE sends the UE info
to the target NG-RAN. In case new AMF-UE is selected and the UE moves together
with the MBSR, if the new Link ID related to the MBSR associated with the Link
ID has not been allocated, the new AMF-UE allocates a new Link ID. The new
AMF-UE sends the new Link ID and the UE info to the target NG-RAN. The target
NG-RAN associates the MBSR with the Link ID, or the new Link ID if received.
8\. In case step 3 is performed, the new AMF-UE responds to the AMF-UE.
9\. The AMF-UE sends Handover Command (UE info) to the source NG-RAN. The UE
info includes the associated MBSR info.
10\. The resources used between the UE and the MBSR may not change, and the
source NG-RAN may or may not send Handover Command to the UE depends on RAN
procedures.
##### 6.4.3.3.3 Xn handover
Figure 6.4.3.3.3-1: Mobile Base Station Relay Xn handover with UEs
1\. The UE moves together with the MBSR and both the UE and the MBSR performs
Xn handover procedure.
The following steps 2-3 are performed per UE.
2\. The target NG-RAN sends Path Switch (UE info, \"move together\") per the
UE associated with the MBSR towards the AMF-UE according to the Link ID in the
UE context. The target NG-RAN can combine multiple Path Switch messages in a
bulk way sending to the same destination. In order to differentiate the case
that UE handover due to moving together with the MBSR from the case that UE
handover to leave the MBSR, the \"move together\" is included to indicate that
the UE is moving together with the MBSR.
3\. The Xn handover procedure for the UE continues.
4\. The target NG-RAN also sends Path Switch (MBSR info) to the AMF-MBSR.
5\. The Xn handover procedure for the MBSR continues. The AMF-MBSR sends the
Link IDs associated with the MBSR to the target NG-RAN (See clause 6.5.3.1 for
how AMF-MBSR knows the Link IDs). The target NG-RAN updates the Link IDs for
the MBSR.
### 6.4.4 Impacts on services, entities and interfaces.
**AMF (serving UE):**
\- Support mapping UE context with Link ID.
\- Support receiving MBSR information as well as sending and receiving Link ID
along with the UE information to/from NG-RAN.
\- Support sending Registration Area information to UE according to the TAI
list configuration of MBSR.
\- Support bulk UE context transfer operation according to Link ID.
\- Support indicating \"move together\" to UDM in case.
**NG-RAN:**
\- Support sending MBSR information along with the UE information to AMF.
\- Support mapping MBSR context with Link ID.
\- Support sending and receiving Link ID along with the UE information to/from
AMF.
\- Support determining AMF for UE based on Link ID.
**UDM:**
\- Support suspending/resuming deregistration notification to the old AMF-UE
who indicated \"move together\" according to whether the new AMF-UE indicates
\"move together\" or not.
## 6.5 Solution #5: Mobile termination procedure due to mobility
### 6.5.1 General
This solution addresses Key Issue #2 and Key Issue #3 for mobility. This
solution is based on solution#4, i.e. the UE will perform mobility
registration when camps on a MBSR or leaves a MBSR, and after the UE performs
mobility registration when camps on a MBSR, the UE will not perform mobility
registration again until the UE leaves the MBSR. In the concept of UE will not
perform successive mobile registration when moving with MBSR, the AMF serving
the UE may not know the place of the UE for paging.
This solution addresses the mobile termination when UE moves together with
MBSR without performing successive mobile registration.
### 6.5.2 Functional descriptions
In this solution, the AMF serving a UE knows the AMF serving the MBSR, and
when the UE needs to be paged, the AMF serving the UE can forward the paging
to the AMF serving the MBSR, and the AMF serving the MBSR pages the UE. In
order to make the AMF serving the UE know the AMF serving the MBSR, the AMF
serving the UE needs to manage the association between the UE and MBSR as well
as between the MBSR and the AMF ID indicating the AMF serving the MBSR.
Considering the 5G-GUTI of MBSR changes frequently, the AMF serving the UE
needs to allocates a Link ID for the MBSR, and sends the association of Link
ID and MBSR to the AMF serving the MBSR, so that the AMF serving the MBSR can
associate the MBSR with the Link ID. The Link ID consists of AMF ID of the AMF
that allocates it and a unique ID within the AMF. When the AMF serving the
MBSR is changed, the new AMF serving the MBSR can notify the AMF change event
to the AMF serving the UE according to the Link ID.
The following figure shows the data model for the mobile termination when UE
moves together with MBSR without performing successive mobile registration:
Figure 6.5.2-1: Data model
Each UE is served by an AMF (AMF serving UE, A.K.A. AMF-UE), which holds the
UE Context. When the UE camps on by a MBSR, the UE Context will include a Link
ID linking to the MBSR that is dynamically assigned by the AMF. The Link ID
includes AMF ID indicating the AMF assigning the Link ID, and includes a
unique number assigned by the AMF indicated by the AMF ID. The UEs served by
the same AMF and camps on the same MBSR will be assigned with same Link ID.
The UE Context also includes an AMF ID associating with the Link ID, the AMF
ID indicates the AMF serving the MBSR. The 5G-GUTI included in the UE Context
may be assigned by another AMF-UE if the UE does not perform mobility
registration when moving with the MBSR (see clauses 6.4.3.1, 6.4.3.2 and
6.4.3.3).
Each Mobile Base Station Relay (MBSR) is served by an AMF (AMF serving MBSR,
A.K.A. AMF-MBSR), which holds the MBSR Context. The MBSR Context includes the
dynamic MBSR ID (i.e. 5G-GUTI) that known by NG-RAN, and includes multiple
Link IDs that dynamically assigned by AMFs serving the UEs that camp on the
MBSR. Different Link ID in the MBSR Context indicates different AMF. A UE
count associated with each Link ID is also included in the MBSR context, which
is used to indicate the number of UEs camp on the MBSR served by the same AMF
that is indicated by the AMF ID in the Link ID.
### 6.5.3 Procedures
#### 6.5.3.1 UE performs Service Request or Registration Request via Mobile
Base Station Relay
As described in clause 6.4.1 of solution #4, the UE will keep silent as
possible as it can when moving with MBSR, i.e. no mobility registration, so
the AMF serving the UE may not know where the UE is, but the AMF knows the UE
is with MBSR without knowing where MBSR is.
The Link ID is introduced to map to the MBSR in the AMF of UE in this
procedure because the 5G-GUTI of the MBSR will be changed without notifying to
the AMF of UE. In order to make the serving AMF of UE know the serving AMF of
the MBSR, whenever the serving AMF of MBSR is changed, the serving AMF of UE
need to be notified according to the Link ID.
Figure 6.5.3.1-1: UE performs Service Request or Registration Request via
Mobile Base Station Relay
1\. The UE camps on a MBSR. The UE initiates Service Request or Registration
Request towards 5GC. The MBSR forwards the N1 message to the NG-RAN. The NG-
RAN forwards the N1 message and includes the MBSR ID in the underlayer N2
message, e.g. 5G-GUTI of the MBSR.
2\. When the UE Context includes a Link ID and associated AMF ID (i.e. the UE
may leave a MBSR and camps on a new MBSR), if the associated AMF ID is
different from the AMF ID in the received MBSR ID (i.e. the UE leaves a MBSR
and camps on the MBSR), the AMF-UE unsubscribes to the AMF-MBSR indicated by
the associated AMF ID with the Link ID, meanwhile allocates a Link ID, which
includes the AMF ID of the AMF-UE, associates the UE with the allocated Link
ID, maps the allocated Link ID to the AMF ID in the received MBSR ID, and
subscribes to the AMF-MBSR indicated by the received MBSR ID with the
allocated Link ID and the received MBSR ID, the AMF-MBSR associates the MBSR
with the Link ID.
If the associated AMF ID is same as the AMF ID in the received MBSR ID, the
AMF-UE allocates a Link ID and performs the following:
\- If AMF-UE does not change, the AMF-UE update the subscription to the AMF-
MBSR with the Link ID, the allocated Link ID, and the received MBSR ID
(conditional update). If the MBSR indicated by the received MBSR ID has been
subscribed with the Link ID (i.e. the UE still camps on the same MBSR), the
AMF-MBSR returns an indication to the AMF-UE and keeps the subscription with
the Link ID and the association between the Link ID and the MBSR, otherwise
(i.e. the UE leave a MBSR and camps on the MBSR) the AMF-MBSR decreases the
count for the Link ID, associates the MBSR with the allocated Link ID, and
increase the count for the allocated Link ID. If the indication is received,
the AMF-UE releases the allocated Link ID and keeps the association between
the Link ID and the UE, otherwise, the AMF-UE associates the UE with the
allocated Link ID.
\- If AMF-UE changed (i.e. no matter whether the MBSR is same, new Link ID
allocated by the new AMF-UE is needed), the AMF-UE unsubscribed to the AMF-
MBSR with the Link ID, meanwhile the AMF-UE subscribes to the AMF-MBSR with
the allocated Link ID and the received MBSR ID, associates the UE with the
allocated Link ID, and associates the allocated Link ID with the AMF ID in the
received MBSR ID. The AMF-MBSR maps the allocated Link ID to the MBSR.
When the UE Context does not include a Link ID, the AMF-UE allocates a Link
ID, which includes the AMF ID of the AMF-UE, for the received MBSR ID, and
subscribe to the AMF-MBSR with the allocated Link ID and the received MBSR ID.
The AMF-UE also associates the Link ID with the AMF ID indicated by the MBSR
ID.
When subscribe request with a Link ID is received, the AMF-MBSR increase the
count for the Link ID, and when unsubscribe request with a Link ID, the AMF-
MBSR decrease the count of the Link ID.
3\. The new AMF-UE sends a N2 message, and the N2 message may include a N1
message. In case of registration procedure, if the TAI of the MBSR does not
change, for the sake of saving mobility registration for UEs behind the MBSR,
the AMF-UE may send Registration Accept to the UE with TAI List that only
includes the TAI received in step 1.
4\. The NG-RAN sends an RRC message to the UE, the RRC message may include the
N1 message.
5\. If the UE camps on a MBSR, the UE may suspend the mobile registration if
the UE keeps camping on the MBSR (e.g. the TAI/TAC broadcasted by the MBSR
does not change and the NG-RAN sends the TAI to the AMF-UE in step 1).
6\. When the event met, the AMF-MBSR notifies the AMF-UE with the Link ID and
associated information, see clauses 6.5.3.3 and 6.5.3.4.
7\. The UE camps on another MBSR or NG-RAN. When the mobile registration is
suspended, the UE resumes the mobile registration (e.g. the TAI/TAC received
is not included in the current RA of the UE). The steps 1-5 are performed. If
the UE camps on another MBSR, the NG-RAN indicates a different MBSR ID to the
AMF-UE. If the UE camps on NG-RAN directly, the NG-RAN does not indicate MBSR
ID to the AMF-UE.
8\. If no MBSR ID is received and a Link ID and associated AMF ID exist in the
UE Context, the AMF-UE unsubscribes towards the AMF-MBSR indicated by the
associated AMF ID with the Link ID.
#### 6.5.3.2 UE handover to connect/disconnect to/from Mobile Base Station
Relay with AMF change
##### 6.5.3.2.0 General
Same as described in clause 6.5.3.1, the Link ID is introduced to map to the
MBSR in the AMF of UE in the handover procedure During the handover, whenever
the serving AMF of UE is changed, the serving AMF of MBSR also needs to be
informed, so that the notification can be sent to the correct AMF of UE.
For the UE handover from one MBSR to another MBSR, the serving AMF of UE may
change, the AMF of MBSR needs to know one UE is leaving the old MBSR and one
UE (the same one) is joining the new MBSR by the means of received Link ID.
##### 6.5.3.2.1 N2 handover
Figure 6.5.3.2.1-1: UE N2 handover to connect/disconnect to/from Mobile Base
Station Relay
1\. The UE is in CM-CONNECTED state and may be relayed by a MBSR.
2\. The source NG-RAN determines to perform handover for the UE and sends the
Handover Required (UE info) message to the AMF-UE. The AMF-UE may select a new
AMF-UE for the handover procedure. The UE info is included in the transparent
container. The difference from step 2 in 6.4.3.3.2 of solution #4 is that the
\"move together\" is not included to indicate that the UE handover from a
macro cell or to leave a MBSR.
3\. In case new AMF-UE is selected, the AMF-UE invokes Create UE Context
Request (UE Context, UE info) towards the new AMF-UE. The UE Context in the
request does not include the Link ID and the associated AMF ID if the UE was
relayed by a MBSR and \"move together\" is not received in the step 2.
4\. The handover procedure for the UE continues. If the UE is handed over to
the target NG-RAN via another MBSR, the target NG-RAN indicates the new MBSR
ID to the (new) AMF-UE.
5\. In case step 3 is performed, the new AMF-UE responds to the AMF-UE.
6\. In case step 3 is performed and Link ID is included in the stored UE
Context (i.e. the UE handover to leave a MBSR), the AMF-UE unsubscribes to the
AMF-MBSR indicated by the associated AMF ID with the Link ID. The AMF-MBSR
decreases the count for the Link ID.
7\. The AMF-UE sends Handover Command (UE info) to the source NG-RAN.
8\. The source NG-RAN sends the Handover Command to the UE.
9\. The UE tunes to the target NG-RAN, which may be via another MBSR.
10\. The target NG-RAN sends Handover Confirm to the (new) AMF-UE.
11\. The handover procedure for the UE continues.
12\. If MBSR ID is received and the UE will not perform mobility registration,
the AMF-UE allocates a Link ID for the received MBSR ID, and subscribe to the
AMF-MBSR according to the MBSR ID with the allocated Link ID and the received
MBSR ID. The AMF-MBSR maps the allocated Link ID to the MBSR and increases the
count for the Link ID,
When the event met, the AMF-MBSR notifies the AMF-UE with the Link ID and
associated information, see clauses 6.5.3.3 and 6.5.3.4.
##### 6.5.3.2.2 Xn handover
Figure 6.5.3.2.2-1: UE Xn handover to connect/disconnect to/from Mobile Base
Station Relay
1\. The UE performs Xn handover to connect to a MBSR from direct NG-RAN
connection or from another MBSR, or to connect to macro cell from a MBSR.
2\. The target NG-RAN sends the Path Switch ([MBSR ID], UE info) message to
the AMF-UE. If the UE handover to directly connect to NG-RAN, the MBSR ID is
not included. If the UE handover to a MBSR, the MBSR ID is included.
3\. Considering that UE will not handover to the same MBSR, the new AMF-UE may
perform conditional subscription update as described in step 2 of clause
6.5.3.1, or unsubscribe and then subscribe to the AMF-MBSR as described in
step 2 of clause 6.5.3.1.
When the event met, the AMF-MBSR notifies the AMF-UE with the Link ID and
associated information, see clauses 6.5.3.3 and 6.5.3.4.
4\. The handover procedure for the UE continues.
#### 6.5.3.3 Mobile Base Station Relay mobility registration procedure with
AMF change
Same as described in clause 6.5.3.1, the Link ID is introduced to map to the
MBSR in the AMF of UE in the mobility registration procedure.
For the mobility registration of the MBSR, the AMF of the MBSR may change, the
new AMF of MBSR needs to notify the AMF of UE with Link ID, which indicates
the MBSR in the AMF of UE. If bulk UE context transfer as described in clause
6.4.3.3 of solution #4 is performed, the AMF of UE may change after the
mobility registration of the MBSR, the new AMF of UE also needs to inform the
AMF of MBSR the change of the AMF with the Link ID.
Figure 6.5.3.3-1: Mobile Base Station Relay mobility registration procedure
1\. The MBSR sends Registration Request towards the 5GC via the NG-RAN.
2\. The NG-RAN may select an AMF-MBSR different from the old AMF-MBSR, the
AMF-MBSR queries UE Context for the MBSR from the old AMF-MBSR and the old
AMF-MBSR returns MBSR Context with the Link IDs.
3\. If AMF-MBSR is changed, the AMF-MBSR notifies the AMF change event with
the Link ID to the AMF-UE. The AMF-UE replaces the AMF ID associated with the
Link ID with the AMF ID of the AMF-MBSR.
4\. The AMF-MBSR sends Registration Accept to the MBSR.
5\. Steps 4-7 in clause 6.4.3.2 of solution#4 may be performed.
6\. If step 5 is performed, the AMF-UE is changed, the new AMF-UE updates the
subscription with the Link ID and the new Link ID (unconditional update)
towards the AMF-MBSR associated with the Link ID. The AMF-MBSR replace the
Link ID with the new Link ID.
#### 6.5.3.4 Mobile Base Station Relay handover with UEs with AMF change
Same as described in clause 6.5.3.1, the Link ID is introduced to map to the
MBSR in the AMF of UE in the handover procedure.
For the N2 handover of MBSR together with UEs, both the AMF of the MBSR and
the AMF of UE may change together during the N2 handover procedure, the new
AMF of MBSR needs to notify the AMF of UE with Link ID, which indicates the
MBSR in the AMF of UE. The new AMF of UE also needs to inform the AMF of MBSR
the change of the AMF with the Link ID.
The following procedure is for N2 handover, no extension needed for Xn
handover because AMF will not change during Xn handover.
Figure 6.5.3.4-1: Mobile Base Station Relay N2 handover with UEs
1\. The source NG-RAN determines to perform handover for the MBSR and sends
the Handover Required (MBSR info) message to the AMF-MBSR. The AMF-MBSR may
select a new AMF-MBSR for the handover procedure.
2\. The handover procedure for the MBSR continues.
3\. The AMF-MBSR sends Handover Command (MBSR info) to the source NG-RAN.
4\. The source NG-RAN sends Handover Command to the MBSR.
5\. If the new AMF-MBSR is selected, the new AMF-MBSR gets the MBSR context
during the handover procedure, which includes the Link ID. The Link ID may be
updated to a new Link ID by the new AMF-UE, e.g. as described in steps 10-11.
The new AMF-MBSR notifies the AMF change event with the Link ID to the AMF
according to the AMF ID in the Link ID.
The following steps 6-7 are performed per UE.
NOTE: Following steps 6-10 can be executed simultaneously with steps 1-3.
Whether the MBSR handover is together with UEs\' handover or before UEs\'
handover is determined by RAN WGs, but there\'s no impact to the following
procedures.
6\. The source NG-RAN also sends Handover Required (UE info (MBSR info),
\"move together\") per the UE associated with the MBSR towards the AMF-UE. The
UE info (MBSR info) is included in the transparent container. The source NG-
RAN can combine multiple Handover Required messages in a bulk way sending to
the same destination. In order to differentiate the case that UE handover due
to moving together with the MBSR from the case that UE handover to leave the
MBSR (e.g., described in clause 6.5.3.2.1), the \"move together\" is included
to indicate that the UE is moving together with the MBSR.
7\. The AMF-UE may determine to select a new AMF-UE for the specific UE, and
invokes Create UE Context Request (UE Context (Link ID, AMF ID), UE info,
\"move together\") towards the new AMF-UE. The UE Context includes the Link ID
and the associated AMF ID indicating the AMF-MBSR when \"move together\" is
received.
8\. The handover procedure for the UE continues.
9\. If step 7 is performed, the new AMF-UE responds to the AMF-UE.
10\. The AMF-UE sends Handover Command (UE info) to the source NG-RAN. The UE
info includes the associated MBSR info.
11\. The resources used between the UE and the MBSR may not change, and the
source NG-RAN may or may not send Handover Command to the UE depends on RAN
procedures.
12\. If step 7 is performed and \"move together\" is received, the new AMF-UE
updates the subscription towards the AMF-MBSR with the Link ID and the new
Link ID (unconditional update).
13\. If the AMF-MBSR is in handover procedure, when the AMF-MBSR does not
select a new AMF-MBSR, the AMF-MBSR decreases the count for the Link ID,
increases the count for the new Link ID, and associates the MBSR indicated by
the Link ID with the new Link ID. When the AMF-MBSR selects a new AMF-MBSR in
step 2, the AMF-MBSR forwards the subscription update towards the new AMF-
MBSR, and the new AMF-MBSR decreases the count for the Link ID, increases the
count for the new Link ID, and associates the MBSR indicated by the Link ID
with the new Link ID.
14\. The AMF-MBSR responds to the subscription update.
#### 6.5.3.5 Mobile termination when UE moves with Mobile Base Station Relay
As described in clause 6.4.1, the UE will keep silent as possible as it can
when moving with MBSR, i.e. no mobility registration, so the AMF serving the
UE may not know where the UE is, but the AMF knows the UE is with MBSR without
knowing where MBSR is.
According to the procedure from clause 6.5.3.1 to 6.5.3.4, the AMF of UE knows
the AMF of MBSR, and Link ID is used to indicate the MBSR, the AMF of UE can
relay paging message with the Link ID to the AMF of MBSR, and AMF of MBSR will
page the UE via the MBSR indicated by the Link ID.
Figure 6.5.3.5-1: Mobile termination when UE moves with Mobile Base Station
Relay
1\. UE moves with the MBSR, the AMF-UE is triggered to send N1 message or N2
message to UE.
2a. If the UE is in CM-CONNECTED state, the AMF-UE sends the N1/N2 message
towards the NG-RAN. If N1 message is received, the NG-RAN sends the N1 message
to the UE via the MBSR.
2b. If the UE is in CM-IDLE state and the UE context includes a Link ID, as
well as the AMF-UE knows the serving RAN node for the MBSR related to the Link
ID (e.g. the procedure described in clause 6.4.3.2 of solution#4 is just
performed), the AMF-UE may send Paging request (UE ID, Link ID) to the NG-RAN.
The NG-RAN maps the Link ID to the MBSR.
2c. The AMF-UE may invoke Page Relay (Link ID, UE ID) towards the AMF-MBSR.
3\. If step 2c is performed, the AMF-MBSR maps the Link ID to the MBSR. The
AMF-MBSR sends the Paging request (UE ID) to the NG-RAN.
4\. If step 2b or step 3 is performed, the NG-RAN sends the Paging request (UE
ID) to the MBSR, and the MBSR pages the UE.
### 6.5.4 Impacts on services, entities and interfaces.
**AMF (serving UE):**
\- Support mapping UE context with Link ID and associate AMF ID indicating AMF
serving MBSR with the Link ID.
\- Support invoking (un)subscribe operation with Link ID and MBSR ID for AMF
change event towards the AMF serving MBSR, and receiving notification of AMF
change from AMF serving MBSR.
\- Support paging UE with Link ID and/or redirecting the Paging message to AMF
serving MBSR.
**AMF (serving MBSR):**
\- Support mapping MBSR context with Link ID.
\- Support (un)subscribe operation with Link ID and MBSR ID for AMF change
event, and sending notification of AMF change to subscriber.
\- Support redirecting the Paging message from AMF serving UE to the NG-RAN
serving the MBSR.
**NG-RAN:**
\- Support sending MBSR information along with the UE information to AMF.
## 6.6 Solution #6: Enabling roaming of mobile base station relays
### 6.6.1 General
This solution addresses Key Issue#4 as defined in clause 5.4.
### 6.6.2 Functional description
The high-level points of the proposed solution are:
1\. The mobile base station relay (i.e. a mobile IAB-node) may be pre-
configured with one or more of the following:
a) a prioritized list of PLMNs and/or geographic areas in which the mobile
base station relay is allowed to operate as a mobile base station relay;
NOTE 1: The geographic area format used for V2X policy in TS 24.588 [8] can be
re-used. A geographic area is encoded as a list of coordinates, each
corresponding to a summit of a polygon.
b) a list of PDU session parameters, e.g. specific DNN and S-NSSAI, and OAM
server FQDN, each set associated with a PLMN ID and/or geographic area, to be
used to establish a PDU session or using backhaul IP layer by implementation
toward a regional OAM server for mobile base station relay configuration;
2a. When the mobile base station relay moves out of coverage of the HPLMN and
into VPLMN, IAB-node integration procedure may be used:
\- if the mobile base station relay is pre-configured with a prioritized list
of PLMNs and/or geographic areas in which the mobile base station relay is
allowed to operate as a mobile base station relay as described in step 1a),
the relay attempts to select the PLMNs in the list, in priority order;
\- Steering of Roaming can be used to provision this information dynamically
by the HPLMN;
\- otherwise, the mobile base station relay performs PLMN selection as
specified in TS 23.122 [12].
2b. Alternatively, when the mobile base station relay moves out of coverage of
the HPLMN and into VPLMN in connected mode, inter-IAB-donor gNB mobility
procedure may be used:
\- the inter-IAB-donor gNB mobility procedure is the outcome of KI#3 with
enhancements to handle roaming.
NOTE 2: The inter-IAB-donor gNB mobility procedure depends on RAN Rel-18 work.
NOTE 3: The PDU sessions of UE camped on the mobile base station relay may be
transferred from the HPLMN to the VPLMN. This assumes that inter-PLMN handover
between the HPLMN and the VPLMN is supported.
3\. Upon selecting a VPLMN as described in step 2, the mobile base station
relay initiates a registration procedure or performs handover procedure as
requested by network and indicates its intention to operate as a Mobile Base
Station Relay in RRC connection to the NG-RAN. The intention to operate as a
Mobile Base Station Relay is included in the N2 parameters to the AMF by the
NG-RAN.
4\. The AMF in the VPLMN:
a) accepts the Registration Request or handover of the mobile base station
relay, if the UE is allowed to act as MBSR;
b) if determines that the mobile base station relay is not authorized to
operate as a MBSR but allowed to receive normal services, Registration accept
is sent to the UE by including an indication that it is not allowed to act as
MBSR. The UE shall not act as MBSR in this case. Additionally, the AMF may
include the list of TAIs where the UE is not allowed to act as MBSR. The UE
adds this TAIs in list of IAB operation restriction; or
c) rejects the Registration Request of the mobile base station relay with a
5GMM cause value, The UE will add current TAI in list of IAB operation
restriction for MBSR. If the UE is allowed to receive normal service, it may
trigger initial registration procedure without indicating support for MBSR (or
IAB indication); or
d) rejects the handover indicating that the mobile base station relay is not
allowed to operate as a relay in the VPLMN.
NOTE 4: In the case of 2b, the acceptance of the mobile base station relay is
part of the inter-IAB-donor gNB procedure.
5a. If the Registration Request of the mobile base station relay is accepted,
in the case of 2a, the mobile base station relay:
\- performs an IAB node integration procedure with the VPLMN as specified in
clause 8.12.1 of TS 38.401 [6]. Using the pre-configured information as
described in step 1b) and solution provided for KI#1.
NOTE 4: When performing IAB-node integration procedure, the PDU sessions of
any UE camped on the mobile base station relay will be interrupted.
5b. If the handover of the mobile base station relay is accepted, in the case
of 2b, the mobile base station relay together with the IAB-donor gNB:
\- performs inter-IAB-donor gNB mobility procedure and becomes part of the
VPLMN during the procedure.
NOTE 5: When performing inter-IAB-donor gNB mobility procedure, the traffic on
PDU sessions of any UE camped on the mobile base station relay may be
maintained.
6\. The IAB-UE will not indicate support for MBSR (i.e. will not act as MBSR)
when its camped on a TAI which is part of list of IAB operation restriction.
The granularity of this lists can be at TAI level or it can be at PLMN level.
### 6.6.3 Signalling flows
#### 6.6.3.1 Signalling flow for roaming of mobile base station relay using
IAB node integration procedure
Figure 6.6.3.1-1: Signalling flow for roaming of mobile base station relay
operating using IAB node integration procedure
0\. The mobile base station relay may be pre-configured with:
\- a prioritized list of PLMNs and/or geographic areas in which the mobile
base station relay is allowed to operate as a mobile base station relay;
\- a list of PDU session parameters and OAM server FQDN, each set associated
with a PLMN ID and/or geographic area, to be used to establish a PDU session
or using backhaul IP layer by implementation toward a regional OAM server for
relay configuration.
1\. The mobile base station relay moves out of coverage of its HPLMN and
selects a VPLMN as follows:
\- if the mobile base station relay is pre-configured with a prioritized list
of PLMNs and/or geographic areas in which the mobile base station relay is
allowed to operate as a mobile base station relay, the IAB-UE attempts to
select the PLMNs in the list, in priority order as described in step 2a of
clause 6.2.2;
\- otherwise, the mobile base station relay performs PLMN selection as
specified in TS 23.122 [12].
2\. The mobile base station relay (i.e. IAB-UE) provides an MBSR-indication to
the NG-RAN when the RRC connection is established as defined in clause 5.35.2
of the TS 23.501 [2]. The mobile base station relay sends a Registration
Request message to the AMF via NG-RAN.
3\. RAN may use this MBSR-indication for AMF selection that supports mobile
base station relay operation and forwards MBSR-indication in N2 message with
Registration Request.
4\. The VPLMN AMF performs UE authentication and registration and further
checks with UDM . The UDM provides the MBSR-Operation allowed indication and
list of IAB operation restriction to AMF as part of the Access and Mobility
Subscription data as defined in clause 4.2.2.2.2 of TS 23.502 [5].
5\. If the AMF determines that the mobile base station relay is authorized to
operate as a MBSR in current TAI, the AMF sends MBSR authorized indication to
NG-RAN and a Registration Accept message to the mobile base station relay.
6\. The mobile base station relay performs an IAB node integration procedure
with the VPLMN as specified in clause 8.12.1 of TS 38.401 [6], using the pre-
configured information as described in step 0.
#### 6.6.3.2 Signalling flow for roaming of mobile base station relay using
inter-IAB-donor gNB mobility procedure
Figure 6.6.3.2-1: Signalling flow for roaming of mobile base station relay
operating using IAB inter-donor full migration procedure
0\. The mobile base station relay may be pre-configured with:
\- a prioritized list of PLMNs and/or geographic areas in which the mobile
base station relay is allowed to operate as a mobile base station relay;
\- a list of PDU session parameters and OAM server FQDN, each set associated
with a PLMN ID and/or geographic area, to be used to establish a PDU session
or using backhaul IP layer by implementation toward a regional OAM server for
relay configuration.
1\. The mobile base station relay moves out of coverage of its HPLMN and
selects a VPLMN.
The mobile base station relay performs an inter-IAB-donor gNB mobility
procedure as described in step 2b in clause 6.6.2.
NOTE 1: The inter-IAB-donor gNB mobility procedure for mobile base station
relay, including the reconfiguration during mobility, depends on RAN Rel-18
work.
2-3. The mobile base station relay sends a Registration Request message to the
NG-RAN. NG-RAN may use this MBSR-indication for AMF selection that supports
mobile base station relay operation and forwards MBSR-indication in N2 message
with Registration Request.
4\. The VPLMN AMF performs UE registration and further checks with UDM whether
the mobile base station relay is authorized to operate as a mobile base
station relay. The UDM provides the MBSR-Operation allowed indication and list
of IAB operation restriction to AMF as part of the Access and Mobility
Subscription data as defined in clause 4.2.2.2.2 of the TS 23.502 [5].
5\. If the AMF determines that the mobile base station relay is authorized to
operate as a mobile base station relay in current TAI, the AMF sends MBSR
authorized indication to NG-RAN and a Registration Accept message to the
mobile base station relay.
### 6.6.4 Impacts on services, entities and interfaces
The following impacts have been identified:
\- UE:
\- No impact.
\- Mobile base station relay:
\- Support indication in AS layer parameters of an MBSR-indication.
\- Support pre-configuration with a prioritized list of PLMNs and/or
geographic areas in which the mobile base station relay is allowed to operate
as a mobile base station relay.
\- Support pre-configuration with a list of PDU session parameters and OAM
server FQDN, each set associated with a PLMN ID and/or geographic area, to be
used to establish a PDU session toward a regional OAM server for relay
configuration.
\- Support for PLMN selection based on the prioritized list of PLMNs and/or
geographic areas in which the mobile base station relay is allowed to operate
as an IAB node.
\- Support inter-IAB-donor gNB mobility procedure.
\- The MBSR (i.e., IAB-UE) maintains the list of IAB operation restriction for
MBSR. The list can be at a granularity of TAI or PLMN. If IAB-UE is camped on
this TAI/PLMN, the IAB-UE will not attempt to act as MBSR.
Editor\'s note: The support of inter-IAB-donor gNB mobility procedure needs to
be coordinated with RAN WGs.
\- NG-RAN:
\- Support for AMF selection based on AS layer MBSR-indication from mobile
base station relay and forward MBSR-indication in N2 parameters to AMF.
Editor\'s note: The support of mobile base station relay needs to be
coordinated with RAN WGs.
\- AMF:
\- Support for determining whether a mobile base station relay attempting to
register is allowed to operate as an IAB node and accepting/rejecting the
Registration Request accordingly. Additionally, the AMF may include the list
of TAIs where the IAB-UE is not allowed to act as MBSR.
## 6.7 Solution #7: Network based Positioning of mobile base station relay for
location services
### 6.7.1 General
This solution relates to KI#5 \"Support of location services for UEs accessing
via a mobile base station relay\". It proposes a solution where the UE and the
mobile base station relay (MBSR) uses the legacy location procedures and
positioning protocols described in the specifications TS 23.273 [4], TS 37.355
[13] and NRPPa in TS 38.455 [14].
There are three different cases for a UE location estimation served by a
mobile base station relay:
\- A UE performing network assisted GNSS location.
\- A UE performing positioning measurements based on signals from the mobile
base station relay and other base stations gNBs.
\- A UE performing positioning measurements only on the mobile base station
relay, i.e. no neighbouring gNBs to measure on. The UE may use the Sidelink
positioning procedures investigated in the FS_Ranging_SL captured in TR
23.700-86 [15]
This solution does not address the GNSS based positioning estimation case as
the GNSS location is not dependent on the exact location of the mobile base
station relay. Therefore, GNSS positioning can use the legacy positioning
protocol.
### 6.7.2 Functional descriptions
A network node on which UE performs its positioning measurements against needs
a known position. In case the network node is a mobile base station relay it
may change its location, and therefore it is important that the
position/location of the mobile base station relay node is known for the time
period when the UE performs measurements on the node.
Thus, there are different cases that needs to be taken into account:
\- When a UE performs positioning measurements based on signals from the
mobile base station relay and possibly other base stations gNBs the current
position of the mobile base station relay needs to be known by the LMF and
therefore the LMF may need to request positioning measurements of the mobile
base station relay.
\- When a UE only can perform measurements on the mobile base station relay
i.e. no or too few neighbouring gNBs to measure on, it may use the sidelink
positioning procedures as investigated in FS_Ranging_SL TR 23.700-86 [15].
This solution will not go into details of this solution as it is handled
within FS_Ranging_SL.
To support the UEs location procedures, the mobile base station relay needs to
get a good location estimate. The solution is based on the following
principles:
\- Reuse of the LPP TS 37.355 [13] for DL/UL positioning messages to the UE
served by the mobile base station relay.
\- It is assumed that the mobile base station relay does not always transmit a
Positioning Reference Signal (PRS). Therefore, the donor-IAB RAN node will
need to send a control message to the mobile base station relay to turn on the
PRS.
\- The donor-IAB RAN node will need to inform the LMF that it has an IAB-DU
node that is a mobile base station relay. In Rel-17 the IAB-DU node was
assumed to be static at a known location.
\- The LMF will need to perform location determination of the mobile base
station relay in case the UE reports positioning data from the mobile base
station relay, that the donor-IAB RAN node reported as a mobile base station
relay.
\- The Mobile base station relay will then act like a UE using the LPP
protocol.
### 6.7.3 Procedures
#### 6.7.3.0 General
Only the MT-LR UE positioning procedure is described. The MO-LR positioning
procedure is a straightforward extension, where the trigger is MO-LR.
#### 6.7.3.1 MT_LR for UE served by a mobile base station relay
This procedure on MT-LR positioning consists of two parts, first the procedure
for UE positioning from TS 23.273 [4] utilizing the mobile base station relay
as a RAN node and then the IAB-UE positioning using the UE positioning
procedures in TS 23.273 [4].
Figure 6.7.3.1-1: Procedure for MT_LR for UE served by a MBSR using TRP
information request procedure
0\. TRP Information Exchange procedure is triggered by OAM, when the MBSR is
integrated or fully migrated in the RAN at a gNB. The LMF requests gNBs to
provide detailed information (e.g. the geographical coordinates for the TRP)
for TRPs hosted by the gNBs. During this procedure, the MBSR IAB-DU informs
the Donor gNB-CU that its TRP(s) is mobile, which is further forwarded to the
LMF. The MBSR cell ID and a permanent MBSR IAB-UE identity (MBSR ID, which may
be a GPSI) which is also used to identify the MBSR UE in the UDM, is also
passed to the LMF.
NOTE 1: This procedure is typically performed before LMF initiating a position
procedure for a UE as this is UE independent.
1\. The AMF serving UE is triggered to initiate location reporting procedure
for UE as specified in TS 23.273 [4].
NOTE 2: This step may be same as the procedure for a UE served by normal gNB
and does not require the MBSR to be register at the same AMF as the UE.
2\. The LMF, selected by the AMF serving UE, is triggered to initiate location
reporting procedure for the UE. The AMF provides the LCS correlation ID and
the cell-ID of the serving cell, i.e. the serving cell of the MBSR.
3\. The LMF performs the positioning procedures, e.g. step 8 in clause 6.1.1
of TS 23.273 [4] 5GC-MT-LR procedure for the regulatory location service, or
step 12 in clause 6.1.2 of TS 23.273 [4] 5GC-MT-LR Procedure for the
commercial location service. The LMF configures the gNBs within the area of
interest based on the provided serving cell-ID to start broadcast PRS, in the
response the gNB provides the list of TRPs that are activated with an
indication if the TRP is a MBSR. The UE send the UL positioning message
including the positioning data captured by the UE. The data set may include
one or more cell-ID(s) with positioning data associated with one or more
mobile base station relay (which are known from step 0 or by the updated list
received in this step). If no MBSR cell is included, the steps 4-6 are
skipped.
4\. Since the LMF knows the TRP hosted by MBSR(s) is mobile (in step 0), the
LMF initiate a TRP Information Exchange procedure to request the updated
location information of the TRP(s) associated with MBSRs by directing the TRP
information exchange messages to the gNB(s) associated with the Cell ID(s),
for example, by setting the NRPPa _TRP Information Type Item_ IE to \"geo-
coordinates\". Donor-CU further send a F1 TRP INFORMATION REQUEST message to
any MBSR IAB-DU.
5\. The MBSR IAB-UE initiate a 5GC-MO-LR procedure (as defined in clause 6.2
of TS 23.273 [4]) to get its location information. The MBSR IAB-UE\'s location
info is used by the co-located MBSR IAB-DU to determine the updated location
for its TRP.
6\. The MBSR IAB-DU report its updated TRP location, e.g. TRP\'s geo-
coordinate, to the Donor-CU, which is further forwarded to LMF which uses the
updated location of MBSR\'s TRP for calculation the UE\'s position.
7\. The LMF provides the UE location to the AMF serving the UE.
There is another variation on how LMF know the updated location of TRP. In
current F1/NRPPa, the DU can report its TRP location as a relative location to
a reference point. Current reference point is fixed and its location info is
configured by OAM. This can be enhanced for MBSR by using the MBSR IAB-UE as
the reference point. By knowing the reference point is a MBSR IAB-UE (as from
step 0 TRP Information exchange), the LMF can first initiate MT-LR to
determine the location of the Reference Point (i.e. MBSR IAB-UE), then
determine the TRP\'s location. An example call flow is shown below.
Figure 6.7.3.1-2: Procedure for MT_LR for UE served by a MBSR using another
MT-LR procedure
0\. TRP Information Exchange procedure is triggered by OAM. when the MBSR is
integrated or fully migrated in the RAN at a new gNB. The LMF requests gNBs to
provide detailed information (e.g. the geographical coordinates for the TRP)
for TRPs hosted by the gNBs. During this procedure, the MBSR IAB-DU informs
the Donor gNB-CU that its TRP(s) is mobile, which is further forwarded to the
LMF. The MBSR cell ID and a permanent MBSR IAB-UE identity (MBSR ID, which may
be a GPSI) which is also used to identify the MBSR UE in the UDM, is also
passed to the LMF.
NOTE 1: This procedure is typically performed before LMF initiating a position
procedure for a UE as this is UE independent.
1\. The AMF serving UE is triggered to initiate location reporting procedure
for UE as specified in TS 23.273 [4].
NOTE 2: This step may be same as the procedure for a UE served by a normal
gNB.
2\. The LMF, selected by the AMF serving UE, is triggered to initiate location
reporting procedure for the UE. The AMF provides the LCS correlation ID and
the cell-ID of the serving cell, i.e. the serving cell of the MBSR.
3\. The LMF performs the positioning procedures, e.g. Step 8 in clause 6.1.1
of TS 23.273 [4] 5GC-MT-LR procedure for the regulatory location service, or
step 12 in clause 6.1.2 of TS 23.273 [4] 5GC-MT-LR Procedure for the
commercial location service. The LMF configures the gNBs within the area of
interest based on the provided serving cell-ID to start broadcast PRS, in the
response the gNB provides the list of TRPs that are activated with an
indication if the TRP is a MBSR. The UE send the UL positioning message
including the positioning data captured by the UE. The data set may include
one or more cell-ID(s) with positioning data associated with one or more
mobile base station relay (which are known from step 0 or by the updated list
received in this step). If no MBSR cell is included, the steps 4-5 are
skipped.
4\. Since the LMF know the TRP hosted by the MBSR is mobile (in step 0), the
LMF initiate a 5GC-MT-LR procedure for the Reference Point (i.e. MBSR IAB-UE)
by using the MBSR ID as UE identity. The serving AMF is retrieved from UDM
using the MBSR ID.
5\. The LMF determines the location of the MBSR\'s TRP by using the updated
location of the Reference Point (i.e. the updated MBSR-MT\'s position).
6\. The LMF provides the UE location to the AMF serving the UE.
### 6.7.4 Impacts on services, entities, and interfaces
LMF:
\- Support for receiving the indication that a TRP is mobile, and (optionally)
the identity of the Reference Point which is the identity of the MBSR IAB-UE.
If an identity is received MT-LR is used to retrieve the location or the UE.
\- When there is a need to use the MBSR\'s TRP for positing a UE, LMF
initiates TRP information exchange procedure to get the updated location
information of the MBSR IAB-DU, or initiate a position procedure for the MBSR
IAB-UE and determine the TRP location based on the MBSR IAB-UE\'s location.
RAN:
\- Support providing the indication that a TRP is mobile, and (optionally) the
identity of the Reference Point which is the identity of the MBSR IAB-UE.
\- When there is a request for the location of the MBSR\'s TRP, initiate a MO-
LR procedure for the MBSR IAB UE and determine the location of the TRP based
on the location of the IAB-UE.
## 6.8 Solution #8: Support of positioning for UE accessing via mobile base
station relay
### 6.8.1 General
This solution addresses the KI#5: Support of location services for UEs
accessing via a mobile base station relay.
### 6.8.2 Functional Descriptions
For UEs accessing the network via a mobile base station relay (MBSR), when UE
positioning is performed, in order to improve the accuracy of the UE location,
the LMF obtains the location of the mobile base station relay which is used to
calculate the UE location as follows:
\- For UL positioning, the mobile base station relay provides its location to
LMF via NRPPa message. When the location is received, the LMF decides that the
UE is accessing the network via a mobile base station relay and uses the
location provided by the mobile base station relay to calculate UE location.
In this case, the mobile base station relay initiates the 5GC-MO-LR procedure
to obtain its location.
\- For DL positioning, the mobile base station relay provides UE ID (i.e.
GPSI) in the NRPPa message to LMF. The LMF acts as an AF to request the
location of mobile base station relay from GMLC.
The LMF determines that the UE connects to MBSR based on the MBSR indication
received from AMF. When AMF receives positioning request for a UE, if the UE
connects to MBSR, e.g. the AMF makes the decision based on the additional ULI
received from NG-RAN as specified in solution#9, the AMF sends the MBSR
indication to LMF.
### 6.8.3 Positioning procedure for UE accessing via mobile base station relay
Figure 6.8.3-1: Positioning procedure for UE accessing via mobile base station
relay
0\. Triggers for UE positioning happen, e.g. the AMF receives
Namf_Location_ProvidePositioningInfo Request from GMLC or receives MO-LR
Request from UE.
1\. The AMF invokes a Nlmf_Location_DetermineLocation Request service
operation towards the LMF. The service operation includes MBSR indication when
AMF determines that the UE connects to MBSR, e.g. when additional ULI is
received from NG-RAN as specified in solution#9.
Based on the MBSR indication received in step 1, the LMF determines that UE
connects to MBSR. Then the LMF obtains MBSR location to calculate UE location
as shown in box (A) or box (B).
The steps in box (A) (i.e. steps 2-8) are performed when UL positioning is
used to obtain UE location.
2\. The LMF sends NRPPa message to NG-RAN.
3\. The NG-RAN sends NRPPa message to the mobile base station relay connected
by UE.
4\. The mobile base station relay initiates the 5GC-MO-LR procedure in clause
6.2 in TS 23.273 [4] to obtain its location.
5\. The mobile base station relay obtains measurements.
6\. The mobile base station relay sends NRPPa message including mobile base
station relay location and time of the location to NG-RAN.
7\. The NG-RAN sends NRPPa message including mobile base station relay
location and time of the location to LMF.
8\. The LMF decides that the UE connects to mobile base station relay based on
the location in the received NRPPa message and uses the location to calculate
UE location.
The steps in box (B) (i.e. steps 9-16) are performed when DL positioning is
used to obtain UE location.
9\. The LMF sends NRPPa message to NG-RAN.
10\. The NG-RAN sends NRPPa message to mobile base station relay.
11\. The mobile base station relay returns the NRPPa message including GPSI of
the mobile base station relay to NG-RAN.
12\. The NG-RAN sends NRPPa message including GPSI of the mobile base station
relay to LMF.
13\. The LMF sends the Ngmlc_Location_ProvideLocation Request including the
GPSI to GMLC to obtain the location of the mobile base station relay. The LMF
also requests UE velocity.
NOTE 1: If the serving LMF of UE selects DL positioning, in order to reduce
the time difference error, it is recommended that the serving LMF of UE defers
the UE positioning procedure (i.e. step 15) some time later after the step 13
is performed. The duration deferred depends on the implementation.
13a. [Conditional] If MBSR is roaming in VPLMN, the (V)GMLC sends
Ngmlc_Location_ProvideLocation Request including the GPSI to HGMLC to obtain
the location of the mobile base station relay.
14\. The steps 2-24b in 5GC-MT-LR procedure in clause 6.1.2 in TS 23.273 [4]
are performed. After this step, the serving LMF of UE obtains the MBSR
location, MBSR velocity and MBSR location time.
NOTE 2: The step 14 reuses the existing procedure in TS 23.273, no enhancement
is introduced.
15\. The LPP procedure is performed for LMF to obtain measurements from UE.
16\. The LMF calculate UE location using the location of the mobile base
station relay obtained in step 14 and the measurements obtained in step 15.
NOTE 3: Assume that the positioning measurements of UE are obtained at time
T1, the MBSR location time at step 14 is time T2. In order to reduce the time
difference error, it is recommended that the serving LMF of UE calculates MBSR
location at the time T1 based on the MBSR location, MBSR velocity and time T2
firstly, and calculates UE location based on the positioning measurements of
UE at time T1 and the MBSR location at time T1.
17\. The LMF sends the Nlmf_Location_DetermineLocation Response including UE
location to AMF.
### 6.8.4 Impacts on services, entities, and interfaces
AMF: determines the UE connects to MBSR and sends
Nlmf_Location_DetermineLocation Request including MBSR indication to LMF.
LMF: determines the UE connects to MBSR when MBSR indication is received from
AMF and obtains MBSR location which is used to calculate UE location.
Mobile base station relay: provides its location or UE ID to LMF.
## 6.9 Solution #9: User location information based on IAB-UE
### 6.9.1 Introduction
The solution provides a way to represent the User Location Information, ULI,
of UEs connected to the mobile IAB-node based on IAB-UE (i.e. IAB-MT).
### 6.9.2 Functional Description
When mobile IAB-mode moves to a new IAB-donor gNB or new geographic area
covered by the same IAB-donor gNB, the cell ID/TAC may change as shown in
figure 6.9.2-1.
During the mobility of the IAB-UE part, the new ULI for the IAB-UE is based on
a cell/TAC managed by the same or new IAB-donor gNB and it is provided to CN.
The ULI of the IAB-UE is always corresponding to a geographic area. And also
_Warning Area List_ for the Public Warning System _corresponding to the
cell/TAC is managed by_ IAB-donor gNB and _CN._
When UEs connected to the IAB-node may be reconfigured by the same or new IAB-
donor gNB, with the same or different cell/TAC which is covered by the IAB-
node and managed by the same or new IAB-donor gNB, the ULI of the IAB-UE can
be used to represent the ULI of the connected UEs, in addition to the ULI of
the connected UE, e.g. the cell y is considered as coverage extension of the
cell n in figure 6.9.2-1.
NOTE 1: The cell ID/TAC and Warning Area List handling during IAB-node
mobility needs to the coordinated with the work in RAN WGs.
NOTE 2: No change on _Warning Area List_ is expected in this study to support
the Public Warning System.
Figure 6.9.2-1: Cell/TAC for IAB-UE and UE connected to IAB-node
### 6.9.3 Procedures
#### 6.9.3.1 User Location Information on NGAP
There is no new procedure for the additional ULI.
The current ULI information on NGAP and user location information on CN
related interfaces are extended to support the additional ULI related to the
IAB-MT for UEs connected to IAB-node.
During F1 setup procedure, the gNB-DU includes mobile IAB indication in the F1
SETUP REQUEST message to the IAB-donor gNB, so that the IAB-donor gNB will
include additional ULI to the AMF for UEs connected to this IAB-node.
Editor\'s note: How the IAB-donor gNB determines whether an IAB node is a
mobile IAB will be coordinated with RAN WGs.
In order to distinguish between the ULI of UE and the ULI of IAB-UE in the
AMF, the IAB-donor gNB sends the ULI of IAB-UE as a separated **_User Location
Information on NGAP_**.
Editor\'s note: The details of the ULI information of IAB-UE will be
coordinated with RAN WGs.
After receiving the additional ULI, the AMF determines the UE location by
taking the ULI of IAB-UE into account, such as Registration Area management,
UE presence in Area of Interest and providing UE location to other NFs, e.g.
SMF during PDU Session Establishment.
When applying mobility management (e.g. Mobility Restrictions) in CN for
connected UEs, NF considers the ULI of the connected UE if it\'s applicable
(i.e. the ULI matches the related mobility restriction information), otherwise
the additional ULI can be applied.
Editor\'s note: Whether NFs need to be aware of the additional ULI information
is FFS.
### 6.9.4 Impacts on services, entities and interfaces
AMF:
\- Supports additional ULI besides current ULI and provide the additional ULI
to other NFs.
gNB:
\- Supports the determination of mobile IAB during F1 setup procedure.
\- Supports the trigger to provide additional ULI.
\- Supports the formulation of additional ULI for UE connected to IAB-node
besides the current ULI.
## 6.10 Solution #10: configuration of Mobile Base Station Relays in roaming
### 6.10.1 Introduction
This solution addresses KI#1 and KI#4 in that it covers both the configuration
aspects and the enforcement of roaming policies.
NOTE: While this solution is defined in this clause to address mainly the
roaming case, it can apply to non-roaming also.
### 6.10.2 Functional Description
A Mobile Base Station Relay (MBSR) is an IAB node. An IAB-Nodes consist of two
parts, the IAB-UE (which is basically a UE) and IAB-DU. While for the IAB- UE,
existing roaming procedures can be re-used to a large extent (i.e. the donor
IAB node is authorized to serve the MBSR as such if there is some subscription
to authorize it, as detected by the serving AMF), the roaming IAB-DU will
appear as a base station in the visited network and will thus interfere with
the visited operators\' network unless it is properly configured to be
compatible with the existing deployments and regulations in the visited
country.
**Pre-condition: IAB Roaming Agreement**
As a pre-condition, we assume an IAB-specific Roaming Agreement needs to be in
place before IAB-Node moves into a VPLMN and obtain service in the VPLMN.
Roaming agreements for a standard UE are of course quite well understood, but
roaming agreements for an IAB-Node are not yet known and require extensions to
a standard roaming agreement as the operation of the IAB-DU part needs to be
considered (i.e. access node-related configurations including parameters like
max transmission power, maximum bandwidth, antenna configurations).
This is particularly important as we will need really to ensure compatibility
between the MBSRs visiting a PLMN and the VPLMN OAM. The MBSR may also be
preconfigured with the settings that are necessary to operate in VPLMN(s)
(with some additional tuning done using the F1 interface once the MBSR is in
the VPLMN(s)). Several options are possible and most likely a discussion will
need to take place on which way to go as this will impact the MBSR
implementation and deployment requirements.
**High level description**
The MBSR can be configured by the HPLMN per roaming partner PLMN ID and can be
further reconfigured or updated by the VPLMN in such a way that the IAB-DU can
be operated in the roaming partner operator\'s network. This includes
reconfiguration of radio resources, e.g. used frequencies, power levels. This
configuration by the VPLMN is subject to the MBSR to be an \"mobile IAB Node
allowed\" in the INITIAL UE MESSAGE (in other words the UE context in the RAN
includes the authorization of the MBSR to Mobile IAB node).
The MBSR IAB UE can obtain the IP address of an OAM configuration server and
e.g. one time authentication credentials to access the local OAM in the
Registration Accept message received from the AMF. The address of the OAM
server may be based on the MBSR PEI (e.g., for OAM compatibility reasons).
Editor\'s note: The security aspects of any solution, including this one, need
SA WG3 evaluation.
### 6.10.3 Procedures
Figure 6.10.3-1: Configuration and authorization of MBSR in a PLMN
1-2. The IAB-UE initiates a registration of the MBSR and obtains in the
registration accept the necessary information on what configuration to
activate in the PLMN out of the ones available (if more than one could be
possible) and/or the necessary information to be configured by the appropriate
OAM server for the MBSR including its IP address (this information is
confidentiality and integrity protected so it can include security material
for access to the OAM server, e.g. a One Time Password type of credentials).
The RAN also obtains the authorization to handle the UE as a MBSR based on
subscription checking and Serving PLMN policy (e.g. based on roaming
agreements).
3\. The IAB-UE connects via a PDU session to the OAM server, using the
provided information by the AMF.
4\. The MBSR IAB-DU is integrated in the serving PLMN RAN and F1 is
established.
### 6.10.4 Impacts on services, entities and interfaces
The solution has the following impacts:
**MBSR (new):** it should be identifiable as a MBSR so it can be authorized in
the VPLMN and provided with any indication of which configuration to use or
with updated/new configuration by the OAM of the VPLMN.
**IAB donor:** integration of the MBSR
**AMF:** authorize the MBSR in the PLMN and provide the OAM server address and
the one time authentication material needed to access it.
## 6.11 Solution #11: Service time of Mobile Base Station Relay
### 6.11.1 General
This solution addresses Key Issue #2 for mobility.
Editor\'s note: RAN related aspects e.g. SIB message, cell reselection based
on the service time, and how the IAB-DU receives the service time information
from IAB-UE need RAN coordination.
### 6.11.2 Functional descriptions
For a Mobile Base Station Relay on, e.g., bus, the service time is
deterministic for the Mobile Base Station Relay. When it is close to the time
that the bus is out of service, the UEs connect to the Mobile Base Station
Relay on the bus needs to be aware and ready to reselect cell to continue the
service.
### 6.11.3 Procedures
#### 6.11.3.1 Mobile Base Station Relay broadcast service time
Figure 6.11.3.1-1: Mobile Base Station Relay broadcast service time
1\. The subscription of MBSR (UE) has service time information. The MBSR (UE)
receives service time information via registration procedure or UE
configuration update procedure, i.e., the UDM sends the Subscription Data with
additional MBSR service time information to the AMF, and AMF includes the MBSR
service time information to the MBSR over NAS message.
2\. The MBSR (DU) setup F1 link with NG-RAN to start providing service based
on the service time information.
3\. When the MBSR (DU) is commanded to broadcast SIBs, it includes the service
time information in the SIB.
4\. When close to timeout of the service time for the MBSR, the UEs start cell
reselection and performs re-establishment procedure for continuing the
services.
5\. When timeout, the MBSR (DU) releases the F1 link with NG-RAN to stop the
service.
#### 6.11.3.2 Conditional handover according to service time of Mobile Base
Station Relay
Figure 6.11.3.2-1: Conditional handover according to service time of Mobile
Base Station Relay
1\. The MBSR (UE) sends Registration Request to AMF-MBSR.
2\. The AMF queries the subscription information of the MBSR (UE) from the
UDM, which includes service time information, i.e., the Subscription Data
retrieved from UDM includes additional MBSR service time information.
3\. The AMF, after receiving the MBSR service time information in the
Subscription Data, sends the MBSR service time information to the MBSR (UE)
and the NG-RAN (CU). The NG-RAN stores the MBSR service time information in
the UE context of the MBSR (UE).
If the MBSR service time information has been updated after registration, the
UDM notifies the new MBSR service time information to the AMF, and AMF sends
NAS message to the MBSR and N2 message to the NG-RAN (CU) with the updated
MBSR service time.
4\. The MBSR (DU) setup F1 link with NG-RAN to start providing service based
on the service time information.
5\. When close to timeout of the service time for the MBSR (DU), the NG-RAN
(CU) commands the UEs under the MBSR (DU) to perform conditional handover
based on time event (see clause 5.3.5.13.4 of TS 38.331 [16]).
6\. When time event is satisfied, the UEs handover to the target cell.
Editor\'s note: How the NG-RAN performs conditional HO according to the MBSR
service time information is FFS.
### 6.11.4 Impacts on services, entities and interfaces.
**UDM:**
\- Support subscription data with MBSR service time information.
**AMF (serving MBSR):**
\- Support sending service time information to UE that supports MBSR over NAS.
\- Support sending service time information to NG-RAN serving the MBSR.
**NG-RAN (CU):**
\- Support UE context with MBSR service time information.
**MBSR:**
\- Support broadcasting service time information over the air received via
NAS.
\- Support starting and stopping the MBSR feature based on the service time
information received via NAS.
## 6.12 Solution #12: IAB-node mobility with connected UEs
### 6.12.1 General
The solution mainly addresses KI#3 to support IAB-node mobility between IAB-
donor-CUs (i.e. scenario B) together with all the UEs that still connected to
the IAB-node and moves together with the IAB-node (i.e. \"Connected UEs\").
For scenario A in KI#3, there is no IAB-donor-CU change, there is no visible
mobility to 5GC. The main issue is how to provide the new Cell/TAI to 5GC.
This is addressed in KI#6.
### 6.12.2 Functional descriptions
The solution covers the two aspects:
\- Mobility of the IAB-UE (i.e., IAB-MT).
\- Mobility of the UEs connected to the IAB-DU.
The resource for Connected UEs is prepared at the target side together with
the handover preparation of the IAB-UE. The move (e.g. the reconfiguration) of
the Connected UEs is triggered after the target side accepts the IAB-UE move
and configured the path at the target side. The Connected UEs may be
registered in different AMFs and moves via different AMFs.
NOTE 1: The details of signalling at Xn/RRC level for IAB-UE and Connected UEs
depends on the mobile IAB work in RAN WGs.
During MO traffic for the UE in CM-IDLE mode but was connected via the IAB-
node before the UE entered CM-IDLE mode, the UEs applies the normal NAS
procedures (e.g. Service Request procedure if UE is still in the current
Registration Area, or Registration Request procedure if UE is outside the
current Registration Area) to move to CM-CONNECTED mode via the moved IAB-
node. For MT traffic, the AMF initiates the paging based on UE\'s Registration
Area as normal.
### 6.12.3 Procedures
#### 6.12.3.1 IAB-node mobility with change of IAB-donor gNB via Xn
In RAN Rel-17 IAB work, the inter-IAB-donor-CU change of IAB-UE is supported
due to topology adaptation for a single-connected IAB-node. The IAB-UE
switches connection from an old path (e.g. via the old IAB donor node) to a
new path (e.g. via new IAB donor node), while the IAB-DU part of the IAB-node
remains under the control of the old IAB-donor gNB.
The extra support in this Rel-18 study is to support the switch of the IAB-DU
part also from the old IAB-donor-CU to the new IAB-donor-CU. In addition, the
Connected UEs also switches from the old path to the new path via the new IAB-
donor gNB.
Figure 6.12.3.1-1 below shows an example of the IAB-node moves from old IAB-
donor gNB to the new IAB-donor gNB.
Figure 6.12.3.1-1: IAB-node mobility for inter IAB-donor-CU with Xn interface
1\. The source IAB-donor-CU triggers the move of IAB-UE from source path to
target path as specified in TS 38.401 [6] for Rel-17. The resource for
Connected UEs is also prepared during the handover preparation for the IAB-UE.
Editor\'s note: The detailed handling depends on the work in RAN WGs and is
FFS.
2\. The target IAB-donor-CU send NGAP Path Switch Request to AMF for the IAB-
UE.
3\. Steps in clauses 4.9.1.2.2 and 4.9.1.2.3 of TS 23.502 [5] between
AMF/SMF/UPF(s) are performed for IAB-UE.
4\. The AMF sends the NGAP Path Switch Request Acknowledge message to target
IAB-donor-CU.
5\. Target IAB-donor-CU trigger the UE context release towards the source IAB-
donor-CU which in turn triggers furth release of resource on the source path
related to IAB-UE.
6\. The F1-C connection between migration IAB-node and target IAB-donor-CU is
established based on new TNL addresses information exchanged in step 1. The
target IAB-donor-CU configures BH RLC channels, BAP-sublayer routing entries
and mapping rules on the target path.
NOTE 2: The details of path and configuration management depend on the work in
RAN WGs and coordination is needed.
7\. The Xn based move of the group of UEs connected to IAB-node is triggered
to switch to the target IAB-donor-CU via the source IAB-donor-CU.
NOTE 3: The details of the move of UEs connected to IAB-node depend on the
work in RAN WGs and coordination is needed.
8\. When UE connects to the target IAB-donor-CU via RRC signalling, the target
IAB-donor-CU triggers the path switch procedure towards the 5GC for all the
UEs connected to IAB-node. If Connected UEs are served by different AMFs, the
IAB-donor gNB may trigger one path switch procedure towards each involved AMF
(i.e. one path switch request per AMF). The message may include list of
Connected UEs registered in this AMF.
Editor\'s note: It is FFS how the target IAB-donor-CU aggregates the
information of all the UEs connected to IAB-node in a single path switch
request message and coordination with RAN WGs is needed.
9\. The steps in clauses 4.9.1.2.2 and 4.9.1.2.3 of TS 23.502 [5] between
AMF/SMF/UPF(s) are performed per UE/PDU session.
Editor\'s note: It is FFS if the steps need to be optimised per group.
10\. The AMF sends the NGAP Path Switch Request Acknowledge message to target
IAB-donor gNB.
11\. Target IAB-donor-CU triggers the UE context release towards the source
IAB-donor-CU which in turn triggers furth release of resource on the source
path related to IAB-UE.
#### 6.12.3.2 IAB-node mobility with change of IAB-donor gNB via N2
In the case of IAB-node mobility between IAB-donor gNB without Xn interface,
the move of the IAB-UE and Connected UEs can be performed via 5GC using N2
interface.
Figure 6.12.3.2-1 below shows an example of the IAB-node moves from old IAB-
donor gNB to the new IAB-donor gNB.
Figure 6.12.3.2-1: IAB-node mobility for inter IAB-donor-CU with N2 interface
1\. The source IAB-donor-CU sends a HANDOVER REQUIRED message for the IAB-UE
to the target IAB-donor-CU over the N2 interface. This message may also
include a list of UE information for Connected UEs registered in the same AMF
as the IAB-UE. This message includes the request of migrating IAB-node\'s TNL
address information in the RRC container. The IAB-donor-CU may also send
HANDOVER REQUIRED message to another AMF where one of the Connected UEs
registered and include a list of information for other Connected UEs
registered in the same AMF.
Editor\'s note: It is FFS how source IAB-donor-CU determines the Target ID for
the Connected UEs and formulates the detailed information of the Connected UE
in HANDOVER REQUIRED message.
2\. The CN prepares the handover for IAB-UE and Connected UEs indicated in
step 1 as specified in steps 2-8 of clause 4.9.1.3.2 of TS 23.502 [5].
Editor\'s note: It is FFS if the steps need to be optimised per group.
3\. The CN sends the HANDOVER REQUEST message to target IAB-donor-CU,
including the transparent container from source IAB-donor-CU and the resource
information prepared in CN for IAB-UE and the Connected UEs. If multiple AMFs
are involved in step 1, different AMFs will send different HANDOVER Request.
4\. The target IAB-donor-CU performs admission control, allocates resources
for IAB-UE and Connected UEs involving target IAB-donor-DU, based on possible
multiple messages from different AMFs.
NOTE 1: The detailed handling of resources for Connected UEs depends on the
work in RAN WGs.
5\. The target IAB-donor-CU provides the new RRC configuration for the IAB-UE
as part of the HANDOVER REQUEST ACKNOWLEDGE message. The RRC configuration
includes a BAP address of the IAB-donor-DU in the target IAB-donor-CU\'s
topology, default BH RLC channel and a default BAP routing ID configuration
for UL F1-C/non-F1 traffic mapping on the target path. The RRC configuration
may include the new TNL address(es) anchored at the target IAB-donor-DU for
the migrating node as requested in step 1. The target IAB-donor-CU also
provides the resource information allocated for Connected UEs. The target IAB-
donor-CU does not provide RRC related information for Connected UEs in this
step.
6\. The CN performs steps 11-12 in clause 4.9.1.3.2 of TS 23.502 [5] for IAB-
UE and all connected UEs.
7\. The CN sends the HANDOVER COMMAND to source IAB-donor-CU including the RRC
configuration information received in step 5 for the IAB-UE. No RRC related
information is included for the Connected UEs.
8\. The source IAB-donor-CU performs step 2-3 in clause 4.9.1.3.3 of TS 23.502
[5] for IAB-UE part of the migrating/mobile IAB-node. The IAB-UE of the
migrating/mobile IAB-node performs step 4 of clause 4.9.1.3.3 towards the
target IAB-donor-CU. This step is not performed for the Connected UEs.
9\. The target IAB-donor-CU triggers the NGAP HANDOVER NOTIFY message towards
the 5GC for the migrating/mobile IAB-UE.
10\. The CN and the IAB-UE of the IAB-node perform steps 6-12 in clause
4.9.1.3.3 of TS 23.502 [5] for the IAB-UE.
11\. The CN triggers NGAP UE CONTEXT RELEASE COMMAND message towards the
source IAB-donor-CU which in turn triggers furth release of resource on the
source path related to IAB-UE.
12\. The F1-C connection between migration IAB-node (e.g. via a virtual IAB-
DU) and target IAB-donor-CU is established based on new TNL addresses
information for IAB-node exchanged in step 5. The target IAB-donor-CU
configures BH RLC channels, BAP-sublayer routing entries and mapping rules on
the target path.
NOTE 2: The details of path and configuration management depend on the work in
RAN WGs.
13\. The target IAB-donor-CU triggers the move of the group of UEs connected
to IAB-node to switch to the target IAB-donor-CU via CN and source IAB-donor-
CU.
13.1: The target IAB-donor-CU sends a NGAP message, e.g. Connected UE
Reconfiguration Request message to CN (e.g. target AMF) to request the RRC
reconfiguration for Connected UEs to the migrating/mobile IAB-node. The
message includes RRC Reconfiguration information for Connected UEs. The
message includes source IAB-donor-CU as the receiving node. The target IAB-
donor-CU may send multiple messages via different AMFs in synch with the
number of messages provided in step 5 above.
13.2: If there is AMF change, the target AMF sends a message to source AMF,
e.g. the Namf_COMMUNICATIN_N2infoNotify including the RRC Reconfiguration
information for Connected UEs. This step may be executed in different AMFs.
13.3: The CN (e.g. the source AMF) sends NGAP message, e.g. Connected UE
Reconfiguration Command message to the source IAB-donor-CU including the RRC
reconfiguration information for Connected UEs. This step may be executed in
different AMFs.
The source IAB-donor-CU, via migrating IAB-node, sends the RRCReconfiguration
message to each connected UE.
Editor\'s note: It is FFS if the communication is linked to one of the
specific UE or a separate group-based message is used.
14\. The UEs connect to the migrating IAB-node perform step 4 of clause
4.9.1.3.3 of TS 23.502 [5] towards the target IAB-donor-CU as a response to
the RRC reconfiguration in step 13.
15\. The target IAB-donor-CU triggers the HANDOVER NOTIFY message towards 5GC
including the list of UEs connected to the IAB-node. The target IAB-donor-CU
may perform this step towards different AMFs if connected UEs are handled by
different AMFs as in step 13.
Editor\'s note: It is FFS if the communication is linked to one of the
specific UE or a separate group-based message is used.
16\. The CN performs steps 6-11 in clause 4.9.1.3.3 of TS 23.502 [5] for all
connected UEs.
17\. The CN sends NGAP UE CONTEXT RELEASE COMMAND message to the source IAB-
donor-CU including the list of UEs connected to the IAB-node. The source IAB-
donor-CU triggers the release of resource on the source path. This step may be
executed in by different AMFs.
### 6.12.4 Impacts on services, entities, and interfaces
gNB:
\- Supports the inclusion of UEs connected to IAB-node during HO.
\- Supports handover of group UEs connected to the IAB-node.
AMF:
\- Supports HO with group handling.
\- Supports HO without RRC container.
## 6.13 Solution #13: IAB optimization for Mobile Base Station Relays support
### 6.13.1 Introduction
This solution addresses KI#3 in that it proposes to mitigate the effect of IAB
Donor change by introducing a mobile CU (m-CU) that acts as CU for Mobile Base
Station Relays (MBSRs).
### 6.13.2 Functional Description
The mobility of a Mobile Base Station Relay (MBSR) over a wide area faces the
challenge that when it changes IAB Donor, the PDCP and RRC connection of the
UEs that it serves is impacted, so the UEs even if stationary inside the
vehicle experience potentially nontrivial amount of signalling due to mobility
in idle mode (due to need to adapt the TA values to the new gNB assigned
values, change PDCP termination and security for user plane) and connected
mode. See figure 6.13.2-1.
Figure 6.13.2-1: Mobility among donor IAB nodes: CU changes
The root cause of this mobility related signalling could be mitigated if MBSR,
or more precisely DU of the MBSR, is served by a CU that is covering a much
wider area. In short, it could be advantageous to offer the homing of MBSR to
a dedicated mobile control unit (which can be e.g. called \"m-CU\") that would
control the UEs connected to the MBSR. This would enable the MBSR to move
across a much wider RAN coverage area without changing the m-CU. Hence,
mobility of the MBSR between IAB Donors could be hidden from the UEs connected
to the MBSR as long as the controller remains in the same m-CU like in figure
6.13.2-2.
Figure 6.13.2-2: mobility with m-CU: CU is stable
The analogy of the partial migration supported in Rel-17 whereby an IAB-DU can
be homed to a previous IAB Donor CU and the proposed m-CU based solution is
shown in Figure 6.13.2-3. The m-CU corresponds to the CU of the IAB Donor gNB
on the left having Xn connection to the Donor gNB. According the Rel-18 VMR
assumption, the intermediate IAB-node is not existing as the MBSR operation is
limited to single-hop topology. Hence, the lower IAB-node corresponds to MBSR,
and an intermediate IAB node could exist as long as it is not a MBSR.
Figure 6.13.2-3: Relationship between architecture for partial migration and
m-CU
Rel-17 IAB specifications provide suitable basis for such solution without the
need for major enhancements to existing procedures and signalling. This is
possible due to the distributed nature of the RAN architecture. Referring to
the architecture in figure 6.13.2-3, the m-CU corresponds to the source IAB-
Donor CU maintaining F1 to the migrating IAB-node DU while the IAB-UE is
handed over to the target topology.
During MBSR mobility between Donor nodes, IAB-UE part of the MBSR applies
normal handover procedure the same way as in Rel-17 IAB migration. F1 between
MBSR and m-CU is maintained during the mobility by moving the transport of the
F1 from the source to the target Donor.
RAN WGs may elaborate the degree of required IAB capabilities in RAN (Donor)
nodes and functional split between donor and m-CU considering the single-hop
assumption.
### 6.13.3 Procedures
There are various options on how this can be supported. RAN groups have
eventually to take the lead on specifying the details when they start working
on this.
Possible options can imply that when the MBSR is integrated, the AMF validates
and authorizes the MBSR to be served by the m-CU based on the MBSR\'s IAB-UE
subscription information. The F1 between the MSBR and the m-CU can be routed
via the IAB Donor to m-CU e.g. in a similar manner as in NR-DC or TNL routing
in inter-donor partial migration specified for Rel.17 IAB. UE control and
bearer termination will be at the m-CU eliminating UE handovers when the BH
link/Donor is changed due to the MBSR mobility.
Editor\'s note: The detailed procedures need to be discussed with RAN WG3.
Fig. 6.13.3-1 shows an example for the MBSR integration procedure. Alternative
procedures may exist. The sub-procedures use either standard signalling or
enhanced procedures for the interaction between RAN and m-CU (subject for RAN
WGs to specify).
Figure 6.13.3-1: MBSR integration and mobility procedure
**MBSR integration:**
1\. IAB-UE of the MBSR establishes the connection via the selected RAN node
(Donor). At this stage IAB-UE in MBSR behaves like a normal UE, the same way
as in Rel-16/17 IAB, and registers with a serving network AMF (identified as
AMF-mbsr). The IAB-UE may indicate to be a mobile IAB-node (MBSR) in the
connection setup (msg5) and/or NAS Registration message to trigger this
behaviour in this message flow, and the AMF confirms the IAB-UE is authorized
to act as MBSR by checking the subscription information and local policy.
2\. F1 is setup between the m-CU and MBSR IAB-DU in coordination with the
Donor. The BH connection, established between IAB-UE and the Donor, carries F1
between IAB-DU and m-CU. For the F1 the Donor and m-CU configure the transport
(TNL) connection between Donor-DU and m-CU. TNL configuration can be similar
to NR-DC or TNL configuration for inter-donor partial migration specified in
Rel.17 IAB inter-donor topology adaptation.
3\. DU operation and cell(s) are configured with F1AP over established F1
using standard procedures. IAB-DU cells are activated for UEs to camp or
connect to.
4\. UE can establish connection via the cells served by MBSR. IAB-DU and m-CU
pair form the serving gNB for the UEs. Standard procedures are used without UE
impacts. the UE can register with an AMF that in general needs not be the same
as the AMF-mbsr, and we identify it as AMF-UE.
**MBSR mobility:**
5\. the MBSR moves towards the IAB Donor 2 coverage.
6\. the IAB UE of the MBSR sends measurements report to IAB Donor-1 based on
the measurement and reporting configuration.
7\. Triggered by the measurement report, source IAB Donor (Donor-1) initiates
HO preparation with the target IAB Donor (Donor-2) which indicates the IP
address the MBSR will need to use in the target IAB Donor 2 to continue the F1
connectivity. Figure 6.13.3-1 refers (for illustration only) to Xn mobility,
but NG mobility support is not excluded.
8\. Normal HO execution procedure is performed. IAB Donor-2 creates HO command
and sends it to IAB Donor-1. RRC reconfiguration is sent to IAB UE by IAB
Donor-1 to UE (including the IP address to be used for F1) followed by IAB-UE
access and sending HO Complete message to the target cell to complete the
procedure.
9\. F1 with the m-CU can be continued via the new IAB Donor 2, thus allowing
to maintain the original cells served by MBSR.
NOTE: This example is for the case where the m-CU remains the same (which we
assume to be the relevant case in most cases covered by this solution). IAB
full migration/mobility (including DU migration/mobility) is required when
m-CU is changed (new F1 to be set up); this is an objective of the RAN Rel-18
WI.
10\. UEs served by the MBSR continue being served without the need to know
about the MBSR mobility. No UE HOs are needed.
### 6.13.4 Impacts on services, entities and interfaces
The solution has the following impacts:
**UE:** None.
**MBSR:** It should be identifiable as a MBSR so it can be homed to the m-CU.
**IAB donor:** Provides access link to IAB-UE of the MBSR for wireless
backhaul (for F1 to MBSR) and maintains it during the MBSR mobility (HO
procedure). Interaction with m-CU to configure the transport for the F1
between m-CU and MBSR.
**AMF:** Authorize the IAB node is mobile IAB node and can be served in the
country.
**m-CU:** new function: It acts as CU for the MBSR\'s IAB-DU.
## 6.14 Solution #14: Support of location services for UEs accessing via a
mobile IAB node
### 6.14.1 Introduction
This solution addresses the KI#5: Support of location services for UEs
accessing via a mobile IAB node.
### 6.14.2 Functional Description
This solution is based on the following principles:
\- The IAB-UE provides the serving Cell ID of IAB node to the core network.
The NRF stores the association of IAB-UE ID, the identifier of AMF serving
IAB-UE and Cell ID of IAB node.
\- The UE-AMF determines the UE is accessing via a mobile IAB node based on
the additional ULI related to the IAB-UE included in the NGAP message as
described in the Solution#9. When the location reporting procedure for UE is
needed, the UE-AMF queries the IAB-UE ID and the identifier of AMF serving
IAB-UE from NRF using Cell ID that UE is camping.
\- The UE-AMF sends Location Request to the LMF including the LCS Correlation
identifier for UE, IAB-UE ID and identifier of AMF serving IAB-UE. The LMF
additionally performs IAB-UE positioning procedure.
\- The LMF determines the location of UE by taking the location of the IAB-UE
into account.
### 6.14.3 Procedures
Figure 6.14.3-1: Positioning procedure for UE accessing via mobile IAB node
1\. After the cell is configured and activated in the mobile IAB-node, the
IAB-UE initiates Registration procedure and provides the Cell ID of IAB node
to the 5GC. The AMF serving IAB-UE (i.e. IAB-AMF) sends the Cell ID of IAB
node, IAB-UE ID (i.e. SUPI) and the identifier of AMF serving IAB-UE to the
NRF.
If the Cell ID of IAB node is changed during mobility, the IAB-UE provides the
new Cell ID to the IAB-AMF to trigger the cell information update in the NRF.
NOTE 1: It is assumed the NRF is at PLMN level and it is accessible by any AMF
within the whole Serving PLMN. The ID of PLMN level NRF is pre-configured in
the AMFs.
2\. The UE is camped on the cell served by the mobile IAB-node and registered
to the network.
3\. The AMF serving UE (i.e. UE-AMF) initiates the location reporting
procedure for UE, as defined in the 5GC-MT-LR procedure or the 5GC-MO-LR
procedure of TS 23.273 [4].
The UE-AMF determines the UE is accessing via mobile IAB-node based on the
additional ULI related to the IAB-UE included in the NGAP message as described
in the Solution#9.
4\. The UE-AMF sends Request message to the NRF including the Cell ID that UE
is camping.
5\. The NRF returns the IAB-UE ID and the identifier of AMF serving IAB-UE
corresponding to the Cell ID.
6\. The UE-AMF selects LMF and invokes Nlmf_Location_DetermineLocation Request
service operation towards the LMF including the LCS Correlation identifier for
UE, the IAB-UE ID and the identifier of AMF serving IAB-UE.
7\. The LMF performs one or more of the positioning procedures as described in
clauses 6.11.1, 6.11.2 and 6.11.3 of TS 23.273 [4].
8\. The LMF triggers the AMF serving IAB-UE to initiate the location reporting
procedure for IAB-UE based on the identifier of AMF serving IAB-UE received in
the step 6. The UE positioning procedure in step 7 and IAB-UE positioning
procedure in step 8 are performed at the same time.
During this step the LMF receives the location of the IAB-UE.
9\. The LMF determines the location of UE by taking the location of the IAB-UE
into account and provides the UE location to the AMF serving the UE.
NOTE 2: How the LMF determines the location of UE by taking the location of
the IAB-UE into account is up to LMF implementation.
### 6.14.4 Impacts on services, entities and interfaces
IAB-UE:
\- Supports providing current Cell ID of IAB node to the AMF.
IAB-AMF:
\- Supports sending the Cell ID of IAB node to the UDM.
PLMN level NRF:
\- Supports the storage of the mapping between a Cell ID and an IAB node.
\- Supports finding an IAB-UE ID and the identifier of AMF serving IAB-UE
based on Cell ID.
UE-AMF:
\- Supports requesting the IAB-UE ID and the identifier of AMF serving IAB-UE
from UDM using Cell ID of IAB node.
LMF:
\- Supports triggering the positioning procedure for IAB-UE based on the IAB-
UE ID and the identifier of AMF serving IAB-UE.
\- Determines the location of UE by taking the location of the IAB-UE into
account.
## 6.15 Solution #15: Support of location services for MBSR access with
provision of MBSR Location and RAT dependent positioning
### 6.15.1 Introduction
The solution uses existing procedures defined in TS 23.273 [4] and TS 38.305
[17] to locate a UE with MBSR (e.g. VMR) access using RAT dependent
positioning, where the MBSR location is used to help determine the UE
location. A subset of the solution can be used with RAT independent position
methods (e.g. A-GNSS or WLAN), though this is not described here.
Since the MBSR may be moving, a current (rather than previous) location of the
MBSR may be critical to obtaining an accurate UE location. Preferably, the
MBSR location is obtained at the same time as any location measurements
obtained by the UE of the MBSR or any location measurements obtained by the
MBSR of the UE. If the MBSR location is instead obtained some time before or
after these location measurements are obtained, there may be an additional
error in locating the UE. For example, if the UE is stationary but the MBSR
(e.g. a VMR attached to a vehicle) is moving at 60kph and the MBSR location is
obtained 3 seconds before or 3 seconds after the UE location measurements are
obtained, then the MBSR location at the time the UE location is measured will
differ from the obtained MBSR location by 50 meters. If instead the MBSR is
travelling at 120kph (e.g. on a highway) and the time error is 5 seconds, the
MBSR location error would be 167 meters. These errors may produce similar
errors to the determined UE location - e.g. if the UE location is obtained
based only on measurements for or by the MBSR.
### 6.15.2 Functional Description
Location procedures as currently defined in TS 23.273 [4] and TS 38.305 [17]
are reused with the following additions:
(a) It is assumed the position and velocity of MBSR can be determined in this
solution.
NOTE 1: The position and velocity of MBSR may be determined by the MBSR or the
network. The supported methods should be defined by RAN.
(b) The AMF or the UE informs the LMF that the UE is accessing an MBSR.
(c) Based on the MBSR indication, the LMF requests and obtains the MBSR
positioning capabilities when acting as a TRP using NRPPa [14] and F1AP [18].
NOTE 2: The details above are within the scope of RAN3 who would need to
evaluate and determine the precise support.
(d) If the UE is positioned using measurements by the MBSR of UL SRS (or other
signals) transmitted by the UE, the location and velocity of the MBSR at the
time of these measurements is reported to the LMF along with the measurements.
NOTE 3: The position and velocity of MBSR may be determined by the MBSR or the
network. The supported methods should be defined by RAN.
(e) If the UE is positioned using measurements by the UE of DL PRS (or other
signals) transmitted by the MBSR, the UE indicates the time of measurement to
the LMF. The LMF then determines the location of the MBSR at that time either
from a location and velocity provided as in bullet (d) or by querying the MBSR
for the MBSR location at that time.
NOTE 4: While transmitting DL PRS, the MBSR might need to maintain and store a
short location history to allow the LMF query in bullet (e). The support of
indication of time of measurement will be defined by RAN.
### 6.15.3 Positioning Procedure
A generalized procedure to support positioning of a UE accessing an MBSR that
is applicable to a 5GC-MT-LR, 5GC-MO-LR, 5GC-NI-LR and deferred 5GC-MT-LR as
defined in TS 23.273 [4] is shown in Figure 6.15.3-1.
Figure 6.15.3-1: Positioning Procedure for a UE with MBSR access
1\. A trigger for either locating the UE or reporting a UE location event
occurs at the AMF. The trigger can be a request for an 5GC-MT-LR received from
a GMLC as at step 5 in clause 6.1.2 of TS 23.273 [4], a request for a 5GC-MO-
LR received from the UE as at step 2 in clause 6.2 of TS 23.273 [4], a trigger
for a 5GC-NI-LR as at step 1 in clause 6.10.1 of TS 23.273 [4], or an event
report sent by the UE for a deferred 5GC-MT-LR for periodic or triggered
location as at step 25 in clause 6.3.1 of TS 23.273 [4].
2\. The AMF selects an LMF. Except for a deferred 5GC-MT-LR for periodic or
triggered location where the LMF may be preassigned, the AMF selects an LMF
and may select an LMF able to support location for MBSR access if the AMF is
aware (e.g. from the donor gNB) that the UE has access via an MBSR.
3\. For a 5GC-MT-LR, 5GC-MO-LR or 5GC-NI-LR, the AMF sends a location request
to the LMF using a. Nlmf_Location_DetermineLocation Request service operation
and may include parameters such as serving cell ID, LCS Correlation identifier
and required QoS as defined in TS 23.273 [4]. For a deferred 5GC-MT-LR for
periodic or triggered location, the AMF forwards the event report received
form the UE to the LMF. For both cases, the AMF indicates MBSR access if the
AMF is aware of this.
4\. The LMF obtains the UE positioning capabilities using LPP according to the
procedure in clause 6.11.1 of TS 23.273 [4]. The UE, if aware, may indicate
MBSR access to the LMF.
5\. If MBSR access is indicated at either step 3 or step 4, the LMF requests
the positioning capabilities of the MBSR when functioning as a TRP using an
NRPPa procedure (TRP Information exchange) defined in TS 38.455 [14] to the
donor gNB, and a corresponding F1AP procedure defined in TS 38.473 [18] from
donor gNB to MBSR. The procedure is modified as described in clause 6.15.2
bullet (c) to allow the LMF to indicate to the donor gNB that it applies to
the MBSR. The MBSR returns its positioning capabilities which indicate, for
example, a capability to act as a TRP that can configure and transmit DL PRS
to the UE and/or configure and measure UL SRS transmitted by the UE. A TRP ID
for the MBSR is also assigned by the donor gNB and returned to the LMF.
NOTE 1: The TRP ID allows the LMF to indicate the MBSR to the donor gNB at
steps 7, 8 and 15 and allows the MBSR to identify itself at step 14.
NOTE 2: The details of LMF requesting the positioning capabilities of the MBSR
should be decided by RAN.
6\. The LMF selects one or more position methods supported by the UE and the
MBSR as indicated by the positioning capabilities received at steps 4 and 5.
If position methods are selected that are not supported by the MBSR, the
procedure here is no longer applicable and is not used.
7\. Depending on the position methods selected at step 6, the LMF may use
existing procedures in TS 38.455 [14] and TS 38.473 [18] to configure
transmission of DL PRS by the MBSR (and possibly from other nearby gNBs)
and/or to configure the donor gNB, which in turn configures via RRC the
transmission of UL SRS by the UE. These procedures make use of sending and
received NRPPa messages to and from the donor gNB using the procedure in
clause 6.11.2 of TS 23.273 [4].
8\. If the LMF configured transmission of UL SRS by the UE at step 7, the LMF
uses existing procedures in TS 38.455 [14] and TS 38.473 [18] to request
measurements of the UL SRS by the MBSR and optionally by other nearby gNBs.
The LMF makes use of the procedure in clause 6.11.3 of TS 23.273 [4] to
exchange NRPPa messages with the donor gNB (and other gNBs) for this purpose.
9\. If the LMF configured transmission of DL PRS by the MBSR at step 7, the
LMF uses existing procedures in TS 37.355 [13] to request measurements of the
DL PRS by the UE and optionally of DL PRS from other nearby gNBs. The LMF
makes use of the procedure in clause 6.11.1 of TS 23.273 [4] to exchange LPP
messages with the UE for this purpose.
10\. The UE transmits UL SRS if requested at step 7 and/or measures DL PRS
from the MBSR (and other gNBs) if requested at step 9.
11\. The MBSR transmits DL PRS if requested at step 7 and/or measures UL SRS
from the UE if requested at step 8.
12\. Other gNBs may transmit DL PRS if requested at step 7 and/or measure UL
SRS from the UE if requested at step 8.
13\. If the UE measured DL PRS from the MBSR (and other gNBs) at step 10 as
requested at step 9, the UE returns the measurements to the LMF according to
the procedure in clause 6.11.1 of TS 23.273 [4] and includes the time (or
times) of the measurements.
14\. If the MBSR (and other TRPs or gNBs) measured UL SRS from the UE at step
11 (and step 12) as requested at step 8, the MBSR (and other TRPs) return the
measurements to the donor gNB, which (and other gNBs) in turn returns them to
LMF according to the procedure in clause 6.11.3 of TS 23.273 [4]. The MBSR(s)
participated in the measurement also includes the MBSR location at the time of
measurement and the MBSR velocity.
NOTE 3: The support of reporting location and velocity of the MBSR over F1AP
will be defined by RAN WGs.
15\. If the LMF receives UE measurements of DL PRS transmitted by the MBSR at
step 13 along with a time of measurement, the LMF may request the location of
the MBSR from the MBSR for the time of measurement using a modified NRPPa
procedure for obtaining the location of a TRP. This may not be needed,
however, if the MBSR provides a location and velocity for the MBSR at step 14,
because the LMF can then estimate the location of the MBSR at the time of
measurement using this location and velocity.
NOTE 4: The feasibility to allow LMF to obtain the location and velocity of
MBSR for the time of measurement will be evaluated by RAN.
16\. The LMF determines the UE location using the measurements received at
steps 13 and/or 14. The LMF also uses the location and velocity of the MBSR
received at step 14 and/or the MBSR location received at step 15 to determine
MBSR location(s) as input for the determination of the UE location.
17\. For a 5GC-MT-LR, 5GC-MO-LR or 5GC-NI-LR, the LMF returns the UE location
to the AMF. For a deferred 5GC-MT-LR for periodic or triggered location, the
LMF may forward the event report and the UE location to a GMLC to send on to
an LCS Client or AF.
### 6.15.4 Impacts on services, entities, and interfaces
AMF:
\- receive an indication of an MBSR from the donor gNB and transfer to the
LMF.
\- optionally select an LMF that supports location for MBSR access.
LMF:
\- support a request for the TRP capabilities of an MBSR.
\- receive and make use of a location and velocity of an MBSR reported in
measurements of UL SRS.
\- request a location of an MBSR for a previous time.
Donor gNB:
\- enable a TRP capability request for an MBSR from the LMF and assign a TRP
ID to the MBSR.
\- support of location and velocity report of the MBSR via F1AP.
MBSR:
\- support TRP functions as defined in TS 38.455 [14] and TS 38.473 [18]
including configuration and transmission of DL PRS and/or configuration and
measurement of UL SRS.
\- measure and provide a location and velocity of the MBSR when reporting
measurements of UL SRS to the LMF.
\- provide a location of the MBSR for an indicated earlier time of
transmitting DL PRS if requested by the LMF.
UE:
\- optionally indicate MBSR access to an LMF.
\- report a time of measurement of DL PRS from the MBSR to the LMF.
## 6.16 Solution #16: UE mobility management in case of IAB-node mobility with
dynamic TAC provisioning
### 6.16.1 Introduction
The solution addresses the Key Issue#3 and provides methods for dynamic TAC
provisioning during the mobility of the mobile base station relay (MBSR), in
which the **TAC broadcasted by the** MBSR **is the same as the TAC of the cell
where the IAB-UE is located. In other words,** the **TAC broadcasted by the**
MBSR **varies with the TAC where the IAB-UE is located.**
The UEs inside the vehicle served by the MBSR perform Mobility Registration
Update normally upon changing to a new TA outside the UE\'s Registration Area.
The signalling overhead caused by the Mobility Registration Update for the UEs
inside the vehicle depends on the velocity of vehicle.
When the MBSR **is moving** to an area in the vicinity of the surrounding UEs
(outside the vehicle), the surrounding UEs camping on the cell of IAB-donor
gNB will not initiate Mobility Registration Update because the MBSR currently
broadcasts a TAC that is same as the TAC broadcasted by the IAB-donor gNB.
Similarly, when the surrounding UEs disconnect from the **MBSR and** camp on
the cell of IAB-donor gNB, no Mobility Registration Update will be initiated.
Therefore, there is no signalling overhead caused by the Mobility Registration
Update for the surrounding UEs regardless of connecting to or disconnecting
from a MBSR.
### 6.16.2 Functional Description
The solution is based on the support of existing IAB architecture as specified
in TS 23.501 [2] with the following high-level descriptions:
\- The IAB-donor gNB determines the TA where the MBSR (i.e. IAB-UE) is
located. During F1 Setup procedure as specified in the TS 38.401 [6], the gNB-
DU includes a mobile IAB indication in the F1 SETUP REQUEST message to the
IAB-donor gNB so that the IAB-donor gNB configures the MBSR\'s cell using the
TAC where IAB-UE is located.
\- When the IAB-UE enters to a new TA, the cell broadcasting information is
updated accordingly. The TAC configuration update is performed based on the
following:
\- When the MBSR enters to a new TA supported by the same IAB-donor gNB, the
IAB-donor gNB provisions the new TAC towards MBSR using GNB CU Configuration
Update as specified in TS 38.401 [6].
\- When the MBSR enters to a new TA supported by a different IAB-donor gNB,
the IAB-donor gNB configures the cell\'s TAC of MBSR during F1 Setup
procedure.
Editor\'s note: The details of dynamic TAC provisioning will be coordinated
with RAN WGs.
The following Figure 6.16.2-1 shows an example of the dynamic TAC provisioning
based on the TAC where the IAB-UE is located. When the MBSR is moving, the
IAB-UE is camping on different cells (i.e. Cell#1, Cell#2, Cell#3 and Cell#4)
supporting different TACs.
\- The IAB-UE is located in the Cell#1 and the MBSR starts to serve UEs by
broadcasting the TAC#1.
\- When the IAB-UE moves from the Cell#1 to the Cell#2 within the same TAC,
i.e. Intra-gNB-CU Mobility without TAC change, the TAC broadcasted by the MBSR
is not changed. In order to accurately reflect the geographic location of the
UE connected to MBSR, additional ULI (i.e. the ULI of the IAB-UE) in the
Solution#9 can be used.
\- When the IAB-UE moves from the Cell#2 to the Cell#3, i.e. Intra-gNB-CU
Mobility with TAC change, the IAB-donor gNB#1 updates the TAC configuration
towards MBSR and the TAC broadcasted by the MBSR changes from the TAC#1 to the
TAC#2.
\- When the IAB-UE moves from the Cell#3 to the Cell#4, i.e., from IAB-donor
gNB#1 to the IAB-donor gNB#2, the TAC broadcasted by the MBSR is managed by
the IAB-donor gNB#2.
Figure 6.16.2-1: Dynamic TAC provisioning based on the MBSR\'s location
### 6.16.3 Procedures
Figure 6.16.3-1: Dynamic TAC provisioning
1\. The MBSR (i.e. IAB-UE) camps in the normal cell and registers to the 5GC.
2\. The MBSR connects to the OAM for the IAB node configuration.
3\. The MBSR (i.e. IAB-DU) sends an F1 SETUP REQUEST message which includes a
mobile IAB indication to the IAB-donor gNB. The IAB-donor gNB determines the
TA where the IAB-UE is located and sends an F1 SETUP RESPONSE message
including the TAC configuration for the IAB-DU.
The TAC included in the TAC configuration is same as the TAC where the IAB-UE
is located.
4\. The MBSR broadcasts the TAC configured by the IAB-donor gNB.
5\. The UE registers to the 5GC via the MBSR.
6\. The MBSR (i.e. IAB-UE) enters to a new TA.
7\. If the new TA is supported by the same IAB-donor gNB, the IAB-donor gNB
provisions the new TAC towards MBSR using GNB CU Configuration Update as
specified in the TS 38.401 [6].
If the new TA is supported by a different IAB-donor gNB, the IAB-donor gNB
provisions the TAC towards MBSR during F1 Setup, which is same as the step 3.
8\. The MBSR broadcasts the new TAC configured by the IAB-donor gNB.
9\. [Conditional] The UE performs the Mobility Registration Update upon
changing to a new TA outside the UE\'s Registration Area.
### 6.16.4 Impacts on services, entities, and interfaces
MBSR:
\- Supports to include the mobile IAB indication to the IAB-donor gNB during
F1 setup procedure.
\- Supports to receive the TAC configuration from the IAB-donor gNB.
\- Supports to broadcast the TAC provisioned by the IAB-donor gNB.
IAB-donor gNB:
\- Supports the determination of mobile IAB node during F1 setup procedure.
\- Supports to configure the cell information (i.e. TAC) of MBSR based on the
TAC that MBSR is located.
## 6.17 Solution #17: IAB-node mobility with dedicated TAC
### 6.17.1 Introduction
The solution addresses the Key Issue#3 for UE mobility optimization when
served by MBSR. This solution assumes that the MBSR operates with dedicated
TAC(s). For the details, there are two options in this solution:
\- Option#1:it provides methods for UE mobility in case of the TAC broadcasted
by the MBSR is unchanged during mobility. In other words, the MBSR is
configured with a dedicated TAC which is unique per MBSR. Regardless of
whether the IAB-donor gNB changes or not, this dedicated TAC broadcasted by
the MBSR is fixed once the MBSR is operational.
\- Option#2: it is assumed that the MBSR uses the same TAC within a certain
service area. The service area of dedicated TAC depends on the presence of N2
reference point between new IAB-donor gNB and AMF-UEs. If no N2 reference
point can be established, the MBSR will change the TAC to broadcast during the
full migration phase.
### 6.17.2 Functional Description
#### 6.17.2.1 TAC broadcasted by the MBSR is unchanged during mobility
The option is based on the support of existing IAB architecture as specified
in TS 23.501 [2] with the following high-level description:
\- It is assumed that the OAM configures a dedicated TAC for the MBSR. The
dedicated TAC is unique per MBSR and different from the TACs supported by the
normal cells.
\- During F1 setup procedure, the gNB-DU includes a mobile IAB indication in
the F1 SETUP REQUEST message to the IAB-donor gNB and also provides the
dedicated TAC as the cell configuration information. The IAB-donor gNB shall
perform gNB Configuration Update towards 5GC to add the dedicated TAI into the
Supported TA List of donor gNB. In addition, IAB-donor gNB indicates the 5GC
that the dedicated TAI is MBSR specific. Similarly, when the MBSR releases the
F1 connection with IAB-donor gNB, the IAB-donor gNB shall perform gNB
Configuration Update towards 5GC to delete the dedicated TAI from the
Supported TA List of donor gNB. In other words, the dedicated TAC of MBSR
enables the 5GC to detect whether UE is accessing via MBSR. Meanwhile, the
IAB-donor gNB connecting with the MBSR can be tracked using the Supported TA
List of donor gNB.
Figure 6.17.2.1-1: IAB-node mobility with dedicated TAC
\- When UE registers to the 5GC via the MBSR, the IAB-donor gNB selects a
suitable AMF for UE. The UE-AMF knows that the UE is camping on the cell of
MBSR based on the UE\'s TAI in the N2 message. The UE-AMF allocates
Registration Area for UE connected to the MBSR which only includes UE\'s TAI
(i.e the Registration Area includes a single TA). When UE disconnects from the
MBSR and camps on a different cell, the UE initiates Mobility Registration
Update upon changing to a new TA. The UEs in the vehicle connected to the MBSR
will not initiate Mobility Registration Update, even when MBSR are served by
cells of a new TA outside the UE\'s Registration Area during the mobility of
MBSR. However, the UE still perform non-mobility related registration, e.g.
periodic registration update, as defined in TS 23.501 [2].
\- When the MBSR moves from the source IAB-donor gNB to the target IAB-donor
gNB, the dedicated TAI of MBSR is supported at the target IAB-donor gNB. There
are two cases as the following:
**\- Case#1:** The target IAB-donor gNB has the N2 connection with the UE-AMF.
In this option, the UE-AMF (i.e. AMF#1 in the Figure 6.17.2.1-2) can track the
UE/MBSR location based on the Supported TA List of donor gNB via gNB
Configuration Update procedure. The UE mobility management can be fulfilled
within the same UE-AMF, such as the UE-AMF can decide whether to update UE
configuration information such as Access and Mobility Management related
parameters due to UE mobility. When the conditions to trigger paging are met,
the UE-AMF sends the paging request message to the target IAB-donor gNB.
Figure 6.17.2.1-2: Intra UE-AMF mobility
**\- Case#2:** The target donor gNB has no N2 connection with the UE-AMF. In
this option, the UE-AMF **cannot** track the dedicated TAI via gNB
Configuration Update procedure due to the lack of N2 connection. In order to
manage UE mobility and UE reachability, the 5GC needs some enhancements to
trigger UE-AMF relocation (i.e. the UE-AMF changes from AMF#1 to the AMF#3 in
the Figure 6.17.2.1-3). The details of UE-AMF relocation are described in the
clause 6.17.3.1.2.
Figure 6.17.2.1-3: Inter UE-AMF mobility
#### 6.17.2.2 Using same TAC within a certain service area
Figure 6.17.2.2-1 shows an example operation of the option based on time
sequence of 1 to 4. The UE1, MBSR, and AMF-UE 1 and AMF-UE 2 are the same
entities at different time instances (1 to 4) in the figure.
Figure 6.17.2.2-1: Avoid mobility registration updates for UEs moving with the
MBSR
This option follows the below general principles:
\- The MBSR is configured to use a specific TAC reserved for MBSR use in the
serving PLMN. The TAC is different from that used by the fixed cells and does
not change even when the MBSR migrates to different a NG-RAN.
\- When the MBSR registers to the serving PLMN, it may be provisioned with the
TAC to use. The MBSR can inform the donor gNB-CU of the TAC via F1-AP
signalling. Within the context for the MBSR, the donor gNB-CU allocates an
MBSR-ID for the MBSR and stores the TAC.
Editor\'s note: The necessity of MBSR-ID allocation by the donor gNB-CU and
the details of the MBSR-ID are FFS.
\- Related to KI#2, the donor gNB-CU includes the TAC in the Supported TA List
of NG SETUP REQUEST message, or the NG CONFIGURATION UPDATE message, as
defined in TS 38.413 [19]. The donor gNB-CU adds the UE-AMF ID (e.g. AMF Set
ID and AMF Pointer) to the context of the MBSR. When other UEs perform
registration and donor gNB-CU selects the same AMF for other UE, this
procedure can be skipped.
Editor\'s note: When UE enters the idle state, whether the donor gNB-CU
deletes the UE-AMF ID from the context of the MBSR is FFS.
\- In the INITIAL UE MESSAGE, the donor gNB-CU provides the MBSR indication
(this may be different from the IAB node Indication) and the MBSR-ID to the
UE-AMF. The UE-AMF stores the information and ensures that the TAC for MBSR is
included in the TAI list sent to the UE. When selecting the UE-AMF, the gNB-CU
takes the MBSR indication into account, so that the AMF-UE can serve a larger
area.
\- Related to KI#3, when the MBSR changes donor gNB-CU, it keeps announcing
the same TAC. Therefore, the UEs will not perform mobility registrations.
\- During the MBSR mobility, the MBSR context will be forwarded to the new
donor gNB-CU, if full migration is performed. The old donor gNB-CU may perform
NG CONFIGURATION UPDATE to remove the TAC from the AMFs, if no other MBSRs
context using the same TAC exist on this donor gNB-CU.
\- When the new donor gNB-CU receives the MBSR context in the HO preparation
phase, it checks if the TAC for MBSR has already been reported to the UE-AMFs
in the MBSR context. The donor gNB-CU may perform NG SETUP REQUEST or the NG
CONFIGURATION UPDATE to inform the UE-AMFs of the TAC for MBSR, if needed.
\- If the new donor gNB-CU determines that it cannot establish the N2
reference point with the UE-AMFs, it indicates that to the MBSR. The MBSR will
then change the TAC to broadcast during the full migration phase. This
triggers the UEs camped on the MBSR to perform mobility registration and a new
UE-AMF to be selected. A new 5G-GUTI will be allocated to the UEs as the
result of this procedure.
Editor\'s note: The details of TAC change during the full migration phase are
FFS and should be coordinated with RAN WGs.
Editor\'s note: The UEs connecting the MBSR may experience frequent mobility
registration when MBSR moves, e.g., the MBSR broadcasts a different TAC upon
every donor gNB-CU changes, which results all UEs have to perform Mobility
Registration Update procedures. How to address this issue is FFS.
\- When a MT service for a UE is required, the AMF-UE is triggered to send a
paging message for the UE. The Paging message will be sent to the latest donor
gNB-CU that has registered the TAC of the MBSR with the AMF-UE. Optionally,
the Paging message can carry also the MBSR-ID, so that the donor gNB-CU
receives this Paging messages only triggers over-the-air paging in the
corresponding MBSR cell.
NOTE 1: If no MBSR-ID is provided, the gNB-CU will trigger paging in all cells
using this MBSR TAC.
NOTE 2: If there are multiple MBSRs using the MBSR TAC in the same PLMN, the
AMF may trigger paging towards all the MBSRs registered to it with the MBSR
TAC, to support UE mobility between the MBSRs using the same TAC without
registration.
Editor\'s note: When UE leaves the MBSR and camps on a normal cell whose TAI
is also included in the TAI list, the idle UE will not initiate Mobility
Registration Update.
\- Related to KI#2, when a UE leaves the MBSR and connects/camps on a fixed
cell, it is triggered to perform mobility registration, due to the different
TAC used by the fixed cell. Existing procedures as defined in TS 23.502 [5]
can be used.
### 6.17.3 Procedures
#### 6.17.3.1 Procedures if the TAC broadcasted by the MBSR is unchanged
during mobility
##### 6.17.3.1.1 Procedure of intra UE-AMF mobility
Figure 6.17.3-1: Intra UE-AMF mobility
It is assumed that the AMFs (i.e. AMF#1 and AMF#2) connecting with donor gNB#1
are the same as the AMFs connecting with donor gNB#2.
1\. The MBSR (i.e. IAB-UE) registers to the AMF#2 and receives the cell
configuration from the OAM including the dedicated TAI. During the F1 Setup
procedure, the gNB-DU includes mobile IAB indication in the F1 SETUP REQUEST
message to the IAB-donor gNB#1 and also provides the dedicated TAI as the cell
configuration information.
2\. The IAB-donor gNB#1 initiates gNB Configuration Update procedure towards
5GC (i.e. AMF#1 and AMF#2) to add the dedicated TAI of the MBSR into the
Supported TA List of donor. In addition, IAB-donor gNB#1 indicates the 5GC
that the dedicated TAI is MBSR specific. The involved AMF (i.e., AMF#1 and
AMF#2) updates its profile (e.g., supported TAI) in the NRF as defined in TS
23.502 [5].
3\. The MBSR starts to serve UEs by broadcasting the dedicated TAI. The UE
camps on the cell of MBSR and registers to the UE-AMF, i.e. AMF#1. The AMF#1
knows that the UE is accessing via MBSR based on the UE\'s TAI in the N2
message and allocates the Registration Area for the UE, which only includes
the dedicated TAI of MBSR.
4\. The MBSR (i.e. IAB-UE) moves from the IAB-donor gNB#1 to the IAB-donor
gNB#2. The UEs in CM-IDLE state served by the MBSR will not initiate Mobility
Registration Update.
5\. This step is the same as the step 2. The MBSR performs F1 Setup with the
IAB-donor gNB#2 by providing mobile IAB indication and the dedicated TAI to
the donor gNB#2. The donor gNB#2 initiates gNB Configuration Update procedure
towards 5GC to add the dedicated TAC into the Supported TA List. In addition,
IAB-donor gNB#2 indicates the 5GC that the dedicated TAI is MBSR specific.
Similar as Step 2, AMF further interacts with NRF to update its profile.
6\. The MBSR performs F1 Removal with IAB-donor gNB#1. The IAB-donor gNB#1
initiates gNB Configuration Update procedure towards 5GC to delete the
dedicated TAI from the Supported TA List. In addition, the IAB-donor gNB#1
includes the IAB-donor gNB#2 ID to indicate 5GC that the IAB-donor gNB#2
supports the dedicated TAI. Similar as Step 2, AMF further interacts with NRF
to update its profile.
NOTE: It is assumed that the IAB-donor gNB#1 knows the IAB-donor gNB#2
information during the mobility of MBSR, such as based on the handover
procedure of IAB-UE.
7\. The AMF#1 determines the UE is located in the IAB-donor gNB#2 based on the
UE\'s last TAI included in the UE context stored in the AMF#1 and decides to
continue serving UE. Optionally, due to UE mobility, the AMF#1 may initiate UE
Configuration Update to update some parameters such as Allowed NSSAI, if
needed.
8\. The AMF#1 determines the conditions to trigger paging are met.
9\. The AMF#1 sends the paging request message to the IAB-donor gNB#2 to
trigger paging.
10\. The UE initiates the UE Triggered Service Request procedure.
##### 6.17.3.1.2 Procedure of inter UE-AMF mobility
Figure 6.17.3-2: Inter AMF mobility
It is assumed that the AMFs (i.e. AMF#3 and AMF#4) connecting with donor gNB#2
are different from the AMFs connecting with donor gNB#1(i.e. AMF#1 and AMF#2).
1-4. The step 1 to step 4 are same as the step 1 to step 4 in the Figure
6.17.3-1.
5\. The MBSR performs F1 Setup with the IAB-donor gNB#2 by providing mobile
IAB indication and the dedicated TAI to the donor gNB#2. The donor gNB#2
initiates gNB Configuration Update procedure towards 5GC (i.e. AMF#3 and
AMF#4) to add the dedicated TAI into the Supported TA List. In addition, IAB-
donor gNB#2 indicates the 5GC that the dedicated TAI is MBSR specific. The
involved AMF (i.e., AMF#3 and AMF#4) updates its profile (e.g., supported TAI)
in the NRF as defined in TS 23.502 [5].
6\. This step is the same as the step 6 in the in the Figure 6.17.3-1.
7\. The AMF#1 determines the UE is located in the IAB-donor gNB#2 based on the
UE\'s last TAI included in the UE context stored in the AMF#1. However, there
is no N2 connection between with AMF#1 and donor gNB#2 so that UE-AMF
relocation is needed.
8\. The AMF#1 selects target AMF (e.g. AMF#3) via querying NRF using the
dedicated TAI supported by IAB-donor gNB#2. The AMF relocation is performed to
transfer UE context.
9\. The target AMF notifies the other NFs such as SMF, of the target AMF
information.
10\. The target AMF allocates new 5G-GUTI for UE and registers the Serving AMF
ID in the UDM.
11\. The target AMF initiates UE Configuration Update procedure to send the
new 5G-GUTI and other Access and Mobility Management related parameters, if
needed.
#### 6.17.3.2 Procedures using same TAC within a certain service area
The UE registration update uses the legacy procedure of clause 4.2 of TS
23.502 [5].
The IAB-donor updates the AMF with the list of supported TAs can use the
existing NG Setup procedure of clause 8.7.1 or NGAP RAN Configuration Update
procedure of clause 8.7.2 of TS 38.413 [19].
The MBSR reports its broadcast TAC(s) to the serving IAB-donor using the
existing F1 Setup procedure of clause 8.2.3 of TS 38.473 [18].
The MBSR migration to a different IAB-donor via full migration procedure is to
be defined by RAN WGs. The forwarding of MBSR context containing the AMF-UE ID
lists between IAB-donors is to be defined by RAN WGs as part of the full
migration and MBSR HO procedure.
### 6.17.4 Impacts on services, entities, and interfaces
For option#1:
MBSR:
\- Supports to include the mobile IAB indication to the IAB-donor gNB during
F1 setup procedure.
\- Supports to broadcast a dedicated TAI, which is not changed during the
mobility of MBSR.
IAB-donor gNB:
\- Supports the determination of mobile IAB node during F1 setup procedure.
\- Supports to indicate the MBSR specific TAI to the 5GC during gNB
Configuration Update procedure.
AMF:
\- Supports to know the MBSR specific TAI during gNB Configuration Update
procedure.
\- Supports to allocate a special Registration Area for UE, which only
includes the dedicated TAI of MBSR.
\- Supports to trigger AMF relocation without Mobility Registration Update
initiated by the UE.
For option#2:
AMF:
\- The AMF determines to which NG-RAN(s) it sends a paging request for a UE on
a TAC based on the dynamic indications of TAC support/release by the different
NG-RANs as defined in TS 38.413 [19].
Donor gNB-CU:
\- The donor gNB-CU maintains a MBSR context with the TAC and a list
containing all AMF-UEs with whom UEs conducted NAS signalling via the MBSR
within a time frame of the periodic registration update time.
\- Forwarding of the MBSR context to the donor gNB-CU during the full
migration process of the MBSR.
\- Inform the MBSR of the result of establishing NG interface with the AMF-UEs
in the MBSR context.
MBSR:
\- Support the configuration of the TAC to be used for broadcast.
UE:
\- None.
## 6.18 Solution #18: Solution for UE location service via mobile IAB-node
### 6.18.1 General
This solution relates to KI#5 \"Support of location services for UEs accessing
via a mobile base station relay\".
### 6.18.2 Functional descriptions
This solution is based on the following principles:
\- NG-RAN holds the 5G-GUTI allocated by the AMF handling the mobile IAB-node
(e.g. AMF provides the info to NG-RAN as part of the Registration procedure).
\- When a UE access network via a mobile IAB-node, the NG-RAN (i.e., IAB-donor
gNB) provides the 5G-GUTI of the mobile IAB-node, together with ULI, as part
of the NGAP message (e.g. NGAP Initial UE message) to AMF which handles the
UE. The AMF stores the 5G-GUTI of the IAB-node as part of the UE context.
\- When AMF triggers location request towards LMF for the UE, the AMF provides
also the 5G-GUTI of the IAB-node, together with the cell information from the
additional ULI (as proposed in solution#9) if it\'s available.
\- When LMF determines the location of UE, it also retrieves the location of
mobile IAB-node based on the 5G-GUTI/Cell information provided by the AMF.
### 6.18.3 Procedures
#### 6.18.3.1 Location service for UE served by a mobile IAB-node
Figure 6.18.3-1: Positioning procedure for UE accessing via mobile IAB node
1\. The IAB-node (the IAB-UE part) is registered to the network and properly
configured to provide access service for UE. NG-RAN node receives the 5G-GUTI
to IAB-UE from AMF serving the IAB-UE (i.e. the AMF-IAB) as part of the NGAP
message (e.g. Initial context setup request or UE context modification
request) where 5G-GUTI can be included (5G-S-TMSI/UE Identity Index value is
already defined in TS 38.413 [19]). It shall also be possible for the AMF-IAB
to provide only 5G-S-TMSI and NG-RAN formulates the 5G-GUTI based on GUAMI and
the 5G-S-TMSI.
2\. The UE is camped on the cell served by the mobile IAB-node and initiates
the registration procedure. For the UE accessing the mobile IAB-node, the NG-
RAN includes the 5G-GUTI and ULI information of the mobile IAB-node as
additional information in NGAP message for the UE. The AMF serving the UE
(i.e. AMF-UE) store the information and finish the UE registration procedure.
NOTE 1: In the case of 5G-GUTI update for the IAB-node (e.g. in case of IAB-
node mobility with AMF change), the NG-RAN provides the updated IAB-node
5G-GUTI info to the AMF-UE for all UEs connected via the IAB-node (detailed
messages needs to by synched with the solution for KI#2 and KI#3). using a NG-
AP message associated to the UEs served by the IAB-UE. The 5G-GUTI is removed
by AMF-UE when UE not accessing via IAB-node (related to KI#7).
3\. The AMF-UE initiates the location reporting procedure for the UE, as
defined in the 5GC-MT-LR procedure or the 5GC-MO-LR procedure of TS 23.273
[4].
4\. The AMF-UE selects LMF for the UE and invokes
Nlmf_Location_DetermineLocation Request service operation towards the LMF
including the LCS Correlation identifier for UE, the 5G-GUTI and ULI
information of the IAB-node.
5\. The LMF performs one or more of the positioning procedures towards the UE
via the AMF-UE as described in clauses 6.11.1, 6.11.2 and 6.11.3 of TS 23.273
[4].
6\. The LMF finds the AMF-IAB based on the GUAMI based on the 5G-GUTI received
in step 4 via NRF, and initiates the location reporting procedure for IAB-
node/IAB-UE based on the 5G-GUTI received in step 4. The UE positioning
procedure in step 5 and IAB-UE positioning procedure in step 6 may can be
performed at the same time.
7\. The LMF determines the location of UE considering the location information
received in step 5 for the UE and the location information received in step 6
for the IAB-UE. Then the LMF provides the UE location to the AMF-UE serving
the UE.
NOTE 2: How the LMF determines the location of UE by taking the location of
the IAB-UE into account is up to LMF implementation.
### 6.18.4 Impacts on services, entities, and interfaces
LMF:
\- Support receiving 5G-GUTI/cell information of IAB node from AMF when LCS
for UE is requested.
\- Support using the 5G-GUTI to determine the serving AMF and trigger location
estimation of the IAB-node.
\- Support determining the UE location based on the position information of
the UE and the location estimated for the IAB-node.
AMF:
\- Support receiving and storing 5G-GUTI/cell information from NG-RAN when UE
is accessing via mobile IAB-node.
\- Support providing the 5G-GUTI/cell information of the IAB-node to LMF when
send LCS request for a UE accessing via mobile IAB-node.
\- Support LCS related message delivery from LMF based on 5G-GUTI.
NG-RAN:
\- Support providing the 5G-GUTI/cell information of the IAB-node to the AMF
when UE is accessing via mobile IAB-node.
\- Retain in IAB-UE context the UEs\' AMFs that need to be updated with the
5G-GUTI of the IAB-UE when this changes.
## 6.19 Solution #19: Solution for location privacy check for Mobile Base
Station Relay
### 6.19.1 General
This solution address KI#5, Support of location services for UEs accessing via
a mobile base station relay.
According to the existing 5GC-MT-LR Procedure (Figure 6.1.2-1) in TS 23.273
[4], steps 2, 7, 8, 9, 16, 17, 18, 19, 20, 21, 22, and 23 are related to the
UE LCS privacy check. Based on the subscription data obtained in step 2, GMLC
performs privacy check for the target UE, only if the result of the privacy
check indicates that the UE must either be notified or notified with privacy
verification, the GMLC sends the indication to AMF. Based on the indication
and if the UE supports LCS notification (according to the UE capability
information), the AMF interact with the UE/User for UE/User LCS notification,
which requires LCS related UE 5GMM signalling.
As described, the result of UE LCS privacy check may require the interaction
with UE/User, for the commercial location services which triggers this 5GC-MT-
LR Procedure mainly target the end users. Supposing that the existing location
service framework and procedures are basically applied to the MBSR because the
MBSR is also considered as a UE for the positioning, the UE privacy check
procedure for the MBSR needs to be performed.
Thus, in case the positioning of the MBSR is additionally performed for the UE
served by an MBSR as described in the solutions #7, #8, #14 and #15, the UE
LCS privacy check procedures for MBSR obviously should not be invoked for
every UEs\' positioning procedure, as it causes delay.
This solution addresses the issue and avoids the unnecessary privacy check for
the MBSR if MT-LR procedure is triggered by the UE-LMF to obtain the MBSR
location.
If UE-LMF triggers MT-LR procedure via the MBSR-AMF, because the GMLC is not
involved in the procedure, based on the current mechanism above, the privacy
check is skipped and thus it is impossible for AMF to receive the indication
that UE must either be notified or notified with privacy verification. So the
AMF will not check whether the UE supports LCS notification and will not
interact with the UE/User for UE/User LCS notification. Thus, in this case, no
enhancement is needed to avoid the interaction above.
### 6.19.2 Functional descriptions
In order to avoid interacting with the UE/User for UE/User LCS notification,
there are several possible options:
1) MBRS-centric option:
\- In this option, based on provisioning information, the MBSR is set to not
indicate its LCS notification capability to AMF during registration procedure.
\- AMF does not invoke the UE LCS privacy check during 5GC-MT-LR Procedure
accordingly.
2) AMF/5GC and subscription data-centric option:
\- In this option, the AMF/5GC determines whether to keep or discard the LCS
notification capability transferred from the UE based on the subscription
data.
\- The subscription data includes the information that the UE is an MBSR.
\- The MBSR as a normal UE indicates its LCS notification capability to the
AMF during e.g., registration procedure.
\- When the UE indicates its UE LCS notification capability, but the
subscription data indicates that this UE is a MBSR, the AMF/5GC discards the
UE LCS notification capability. The AMF/5GC does not invoke the UE LCS privacy
check during 5GC-MT-LR Procedure accordingly.
3) GLMC and subscription data (UE LCS privacy profile data)-centric option:
\- In this option, a new type of UE LCS privacy profile data is utilized to
determine whether to proceed with the UE LCS privacy check by AMF/CN.
\- Existing UE LCS privacy profile data has the information on the location
service requestor only. In this option, a new type of privacy profile data
e.g., Target UE type has the information on the UE LCS privacy check (e.g.
UE/user is/is not involved for privacy check).
\- The Target UE type in the UE LCS privacy profile data for MBSR includes the
information that the UE does not require UE LCS privacy check.
\- The GMLC obtains the UE LCS privacy profile data of the MBSR from UDM
during the 5GC-MT-LR Procedure as described in TS 23.273 [4]. The GMLC
includes the information that UE LCS privacy check is not required for this UE
to the location request message to AMF.
\- Based on the obtained information, the AMF/5GC does not invoke the UE LCS
privacy check during 5GC-MT-LR Procedure accordingly.
### 6.19.3 Procedures
The registration request procedure in clause 4.2 of TS 23.502 [5] in Rel-17
can be used by the MBSR to access the 5GS. In addition, the location service
procedure in clause 6.1.1 and 6.1.2 excepting for privacy check procedure in
Rel-17 can be used for the location service.
In order to support the operation, information on MBSR needs to be defined in
the subscription data, and a new type of UE LCS privacy profile data also
needs to be defined in the clause 7 of TS 23.273 [4].
### 6.19.4 Impacts on services, entities, and interfaces
Impacts on existing entities
\- AMF: support to determine whether to invoke the UE LCS privacy check.
\- GMLC: support to include the information on UE LCS privacy check related
information to location request message
Functions required at new entities
\- MBSR: To support change indication of LCS notification capability based on
provisioned configuration.
## 6.20 Solution #20: CAG based UE access control via MBSR
### 6.20.1 Introduction
This solution relates to KI#7 \"Control of UE\'s access to 5GS via a mobile
base station relay\". The solution proposes to use the existing CAG, Closed
Access Group, concept as a base to manage the UE access control via MBSR.
There are certain simplifications on the existing CAG logic to fit into the
IAB architecture.
### 6.20.2 Functional Description
#### 6.20.2.0 General
When a UE tries to select or connect to 5GS via a MBSR (a mobile IAB-node),
the access control of the UE is managed by CN, RAN and UE. During the CM-
CONNECTED mobility, the access control via MBSR (mobile IAB-node) is managed
by CN and RAN.
#### 6.20.2.1 CAG identifier of MBSR
A CAG identifier shall be assigned for the MBSR node to use and it is unique
within the scope of a PLMN ID. The CAG identifier is announced by the cells
covered by the MBSR. The CAG identifier value of MBSR cell may be different
from the CAG identifier of normal cell. If the MBSR is pre-configured with the
PLMN list in which the MBSR is allowed to operate as an IAB node as specified
in solutions for KI#1 and KI#5, the corresponding CAG Identifier per PLMN is
also configured in the MBSR.
#### 6.20.2.2 UE CAG configuration
To access the CAG cell of MBSR, the UE, that supports CAG as indicated as part
of the UE 5GMM Core Network Capability, is configured with the CAG information
as described in the clause 5.30.3.3 of TS 23.501 [2].
Considering the roaming scenario, the CAG information per PLMN ID shall be
configured to UE. This CAG Identifier for MBSR in subscription data can be
defined as a \"common\" CAG identifier or a flag which can be indicated so
that different PLMNs can use it to determine whether the UE is allowed (or not
allowed) to access the cell associated with the MBSR CAG Identifier.
#### 6.20.2.3 Access control
RAN and CN supports the UE access control based on the CAG identifier
associated with the MBSR cell and the allowed CAG identifiers for the UE.
For UEs that support CAG, they may select the cells covered by a MBSR based on
the configured MBSR CAG identifier using the existing CAG control logic. The
legacy UE(s) that support CAG shall also support to access the MBSR cell based
on the CAG identifier.
For the UEs that do not support CAG (i.e. the UE is not able to understand the
broadcasted CAG information by the cell) but supports the use of IAB
architecture, it may select the cell as normal and rely on RAN and CN to
control the IAB-node access using network side CAG control logic.
See more details of the CAG concept in clause 5.30.3 of TS 23.501 [2].
Considering the MBSR access use case, additional control (e.g., time duration,
specific geographic location) may be linked to the MBSR CAG identifier
management, e.g., when user purchase a buss/train ticket, the access to IAB-
node/MBSR CAG identifier may be limited to certain time period and specific
locations and granted to the user subscription data via O&M or AF. It may also
be provisioned to the UE accordingly so that the UE can properly select the
cell. Additionally, the range (number) of CAG identifiers may need to be
increased, access to a CAG cell may be (de)prioritized, and roaming case of
CAG use may need further control.
The serving PLMN may only need to introduce limited number of CAG Identifiers
needed for the cells covered by MBSR based on the targeting group of users
(e.g. one CAG Identifier for MBSRs on public transport vehicles used for
passengers, another CAG identifier for MBSRs on vehicles used by public
safety).
### 6.20.3 Procedures
#### 6.20.3.1 General
The CAG control is well described in different procedures in TS 23.502 [5].
Procedure details may be updated to support the additional control in case of
MBSR CAG Identifier.
The CAG specific procedures, involving RAN/AS, are defined in TS 38.300 [20]
clause 16.7. These procedures allow the control of:
\- whether new UEs (Rel-18 onward), or also legacy UEs, can access to a
mobile-IAB CAG cell;
\- whether non-CAG capable UEs can access, or not, to a mobile-IAB CAG cell
(as in TS 38.304 [21]).
In order to control the use of the CAG for MBSR use cases, the MBSR CAG
configuration (in the UE and the IAB node) may be associated with the
following:
\- validity criteria of the MBSR CAG ID, associated with time duration,
geographic area;
A mobile-IAB CAG cell may also be configured with a human-readable network
name, to be signalled to the UE for presentation to the user.
### 6.20.4 Impacts on services, entities and interfaces
AMF:
\- Supports baseline CAG control with possible additional controls (e.g. time
duration, geographic location) based on a MBSR CAG identifier or a flag.
UDM:
\- Supports storing CAG information of MBSR as UE\'s Subscription data or
common flag with additional controls (e.g. time duration, geographic
location).
gNB/IAB-node:
\- Supports CAG function.
UE:
\- Supports CAG function.
NOTE: Some of the potential CAG extensions and additional control mechanisms
may have RAN dependencies.
# 7 Evaluation
## 7.1 Evaluations for KI#1
Solution 1 proposes to just reuse existing IAB provisioning methods. While
this is for sure in general something the study should strive to maximize, the
existing IAB configuration has some built in assumptions on the fact the IAB
node is a rather trusted entity that also may be preconfigured with OAM sever
address and any security credentials. However, the MBSRs are in many cases
third party devices that need to be integrated in a PLMN. Solution#10 provides
method for the serving PLMN to provide the MBSR with the address of the OAM
server and the security credentials to access it. What security credentials
are used is up to SA3 and SA5 to decide. The configuration of the MBSR itself
can be based on procedures defined by SA5 and RAN WGs and may reuse the
existing methods with any enhancements not in scope of SA WG2.
Solution#2 could be seen as complementary to solutions above and deal more
directly with the configuration of the IAB-UE part of the MBSR to e.g.
restrict the operation of the MBSR to specific areas , time, or PLMNs. This
can reduce the unnecessary attempts from the MBSRs to the OAM servers.
Additionally, the configuration also provides the necessary information to
establish the PDU session in order to connect to the OAM servers in the
serving PLMN.
## 7.2 Evaluations for KI#2
Editor\'s note: Further evaluation need to be considered.
There are four solutions addressing Key Issue#2 Efficient mobility for UEs
connecting to/disconnecting from mobile base station relay, i.e. solution# 3,
solution#4, solution#5, and solution#11.
Among the solutions:
\- Solution #3 addresses only KI#2, and reuses the existing procedures for
different scenarios of per UE mobility, including UE mobility between MBSRs,
UE mobility between MBSR and macro base station. Solution#3 does not have any
normative impact, although further verification by RAN WGs is needed.
Solution#3 does not address any optimization for the mobility of a group of
UEs.
\- Solution #11 addresses KI#2. It proposes to reuse the mechanism for NTN
scenario that MBSR broadcast service time for influencing cell reselection and
handover before MBSR is out of service in order to reduce service
interruption. The use of such mechanism for MBSR instead of NTN operation
needs verification by RAN WGs.
The solutions have RAN impact as following and need RAN coordination:
1) Solution #11 requires NG-RAN to enable the MBSR (IAB-DU) broadcasting time
event information that is received by the MBSR (IAB-UE) via NAS message.
## 7.3 Evaluations for KI#3
There are six solutions addressing Key Issue#3, Efficient mobility and service
continuity when served by mobile base station relay, i.e. solution#4,
solution#5, solution#12, solution#13, solution #16, and solution #17:
\- Solution #4 and #5 addresses both KI#2 and KI#3. Solution #4 assumes that
the TACs potentially will be broadcasted by the MBSR are provided to the UE by
the AMF of the UE served by the MBSR, so that the UEs do not need to perform
mobility registration when the MBSR changes TACs. In order to support UE
mobility management without the mobility registration, some special contexts
are created on NG-RAN associated with the MBSR, and in the AMF serving the
UEs. These contexts are connected using a new identifier \"Link ID\". With
solution#4, the donor gNB is able to support AMF-UE relocation for all the UEs
served by this AMF with one N2 signalling. i.e., when UE moves with MBSR, the
NG-RAN proxies the UE idle mobility and NG-RAN triggers the UE handover due to
MBSR mobility. Solution#4 works with legacy UEs when the UE is served by the
MBSR, no mobility registration is performed and therefore 5G-GUTI is not
updated even if the UE context transfer is triggered among AMFs. CT WGs and
SA3 evaluation is required to confirm that the UE context management at AMF is
not broken. Support of the new context at donor gNB and AMF and their
maintenance during MBSR mobility requires verification by CT WGs and RAN WG3.
\- Solution #5 is based on solution #4 to enhance idle mobility and handover
to support mobile terminated services. Solution#5 further creates a special
context in AMF serving the MBSR, and associate it with the context in AMF-UE
using the Link ID. Interactions between AMF-UE and AMF-MBSR are introduced to
maintain the binding of the Link ID. and AMFs are enhanced to redirect the UE
paging message from AMF-UE to AMF-MBSR. The AMF-MBSR forwards the paging
message to NG-RAN serving the MBSR so that it can be broadcasted by MBSR. The
paging forwarding by AMFs needs verification by CT WGs and RAN WG3.
\- Solution #12 address KI#3. It proposes to use a full migration approach
with a 2-step handover procedure for reducing the service interruption,
firstly MBSR handover is performed without F1 anchor change, then UE handover
is triggered. With this solution, the UEs served by MBSR would still
experience mobility event even if they remain connected to the same MBSR.
Other the other hand, Solution#12 does enhance the existing Xn and N2 handover
procedures to support group UE handover and therefore reduces corresponding
signalling over Xn and N2. Overall, the principle of this solution is to
aggregate the information of group UEs in a single message to support bulk
handling in 5GC. When group UEs are accessing the same IAB-node, the
commonality is that group UEs share the same user location and AMF. The
support of group mobility procedure requires verification of RAN WG3. The
solution#12 does not address the IDLE mode mobility aspect when the UEs move
together with the MBSR. Additionally, delivery of the RRC messages to the
connected UEs requires F1-C connectivity between the source IAB-donor-CU and
the migrating MBSR. This F1-C connectivity may have to be carried via the CN
if the source IAB-donor-CU and the target IAB-donor do not have Xn and/or IP
connectivity. This should be coordinated with RAN WGs.
\- Solution #13 address KI#3. It proposes to adopt a partial migration
approach that besides the CU of gNB handles the MBSR mobility, a central CU
that acts as F1 anchor for as long as practically possible to shield the MBSR
mobility from the UEs it serves, which saves the AN signalling for mobility.
This requires some discussion and adoption in RAN WGs. An interaction with
RAN3 is required to consolidate this approach. The feasibility to support IAB
mobility based on the Rel-17 IAB partial migration should be discussed in the
RAN WGs. In addition, R18 NR_mobile_IAB in RAN WGs only focuses on full
migration (**RP‑213601**). Given that the m-CU cannot cover all possible MBSR
operation locations, additional handling from other solutions may needed to
complement this solution.
\- Solution #16 addressed KI#3. It proposes that the MBSR is configured by the
donor gNB to broadcast the TAC of its serving cell. For a UE served by the
MBSR, it would observe the TAC change when it moves together with the MBSR
across different serving cells, even if it camps on the same MBSR cell. On the
other hand, a UE would not be triggered to perform mobility registration when
it camps on or leaves the MBSR cell temporarily.
\- Solution #17 addressed KI#3. It proposes two options. Option#1 is that the
MBSR uses a dedicated TAC, and the TAC remains the same when MBSR moves across
different donor gNBs. The donor gNB will add or remove the TAC of the MBSR to
UE\'s AMF(s) when the MBSR connects to leaves it. With this solution, the UE
served by MBSR would not perform mobility registration, even when the MBSR
changes donor gNBs. Option#2 is that MBSR broadcasts a TAC which maintains
unchanged within a certain service area. Once there is no N2 reference point
between new IAB-donor gNB and AMF-UEs, the MBSR will change the TAC to
broadcast during the full migration phase. This triggers the UEs camped on the
MBSR to perform mobility registration.
The solutions have RAN impact as following and need RAN coordination:
1) Solution #4 and #5 require NG-RAN to manage MBSR context with Link IDs sent
by AMFs via NGAP messages, one Link ID identifies one AMF that serves a group
of UEs camp on the MBSR, as well as require NG-RAN to initiate an NGAP message
to new AMF with Link ID(s) for AMF relocation when needed.
2) Solution #12 requires NG-RAN to support full migration approach with group
handover for UEs. The potential F1-C connectivity via CN needs coordination
with RAN WGs.
3) Solution #13 requires NG-RAN to support a partial migration approach with a
central CU (m-CU) together with a local CU (gNB-CU).
4) Solution #16 and #17 need RAN confirmation of the feasibility of updating
the UE-AMF regarding the TAC supported by the MBSR via NGAP.
## 7.4 Evaluations for KI#4
There are two solutions address KI#4 Support of roaming of mobile base station
relays, i.e. Soltuion#6 and Solution#10.
High level aspects of the solutions for KI#4:
\- Solution#6 allows the roaming of MBSR and provides means by which the IAB-
UE is configured with PLMN ID list, geographic areas and OAM server FQDN. The
roaming operation of IAB-UE is authorized by the 5GC based on the Access and
Mobility Subscription data. When MBSR moves into VPLMN, it makes use of the
information to either perform an IAB-node integration procedure or inter-IAB-
donor gNB mobility procedure to continue provide service via VPLMN NG-RAN. The
feasibility to support the roaming of MBSR as an IAB-DU using IAB node
integration procedure and inter-IAB-donor gNB mobility procedure in the VPLMN
needs RAN WGs evaluation. Additionally, solution#6 also allows the VPLMN AMF
to indicate to the MBSR that it is not allowed to act as MBSR as part of
registration accept (if normal services are allowed) to the UE or as part of
registration reject message with appropriate cause code. The UE will populate
the PLMN ID/TAI in list of IAB operation restriction and will not attempt to
access those PLMNs/TAIs for MBSR operations. This interaction between AMF and
UE is applicable to both roaming and non-roaming cases.
\- Solution#10 assumes the existence of a roaming agreement for the MBSR
operation in VPLMN. The VPLMN 5GC authorizes the MBSR during mobility
registration procedures and provides the OAM server address and the security
information required to access the OAM during the registration. In addition,
the security aspects need SA WG3 evaluation.
## 7.5 Evaluations for KI#5
For KI#5, the solution #7, #8, #14, #15, solution#18 and solution#19 are
related and have the following common and different designs:
\- Solution#7 (as updated at SA2#152) proposed that the LMF executes a TRP
information procedure and gather information on which TRP is mobile when a
MBSR is integrated in any RAN node (including at full migration time if
applicable). OAM triggers this procedure and this means that OAM ensures the
LMF gathers the info it needs ahead of positioning procedure. then, when the
LMF triggers a positioning event towards a RAN node, the LMF determines that
one or more of the cells involved in UE positioning operation is a MBSR and
the corresponding GPSI (with the serving cell ID) of the MBSR. The LMF uses
the GPSI of the MBSR to identify the AMF via UDM serving the MBSR and trigger
the positioning procedures for the MBSR via the AMF serving the MBSR.
Alternately the LMF, for mobile TRP retrieves the TRP location information
from the RAN of the MBSR(s)TRPs by causing the F1-AP to trigger a MO-LR
procedure at MBSR IAB-UE (this can avoid contacting the UDM). The LMF uses
this location together with the measurements data sets for the Target UE to
estimate the location of the Target UE and provides the result to the Target
UE\'s serving AMF. The LMF may instruct the MBSR which the UE is accessing and
other cells to start PRS broadcasting. The Target UE may be instructed to
perform DL positioning measurements on the cells and report the measurements
back to the LMF. The LMF derive from the measurements/cell-ID which
measurement data set that belongs to a MBSR.
The Target UE may also be instructed to perform DL positioning measurements on
the cells and report the measurements back to the LMF. The LMF derive from the
measurements/cell-ID which measurement data set that belongs to a MBSR and
this triggers the MBSR TRP positioning.
\- Solution#8 proposed that the MBSR provides its location to the LMF via
NRPPa as part of the UL positioning procedure of the UE (It\'s not clear if
existing NRPPa procedure or new procedure is used), and the MBSR may trigger
MO-LR to obtain its own position for this purpose; and for DL positioning of
the UE, since the LMF learns that the UE connects to MBSR, the LMF triggers
the MBSR to provide its IAB-UE ID (e.g. GPSI) to LMF, which obtains the MBSR
positioning and velocity information via MT-LR procedures (i.e. LMF becomes
the LCS client initiating request towards GMLC). LMF perform calculation of UE
location taking into account the MBSR location and velocity information. For
the DL positioning of the UE, the IAB-UE ID (e.g. GPSI) is obtained by the LMF
triggered by UE positioning, which introduces additional latency. When
multiple UEs accessing the same MBSR need to perform DL positioning, the
interaction between LMF and the MBSR via NRPPa message for the purpose of IAB-
UE ID retrieval is very redundant. In addition, the AMF also provides LMF with
a MBSR indication when the AMF determines that the UE connects to MBSR. During
the UL positioning, the NRPPa message including the MBSR location is sent to
LMF without the trigger from LMF. Therefore, the MBSR indication from AMF is
not necessary for UL positioning.
\- Solution#14 proposed that the PLMN level NRF stores the UE ID, cell ID, and
the serving AMF of the MBSRs. The AMF serving the UE determines that a UE is
accessing via MBSR when received additional ULI, and obtains the AMF
information and IAB-UE ID of the MBSR (e.g. SUPI) from the PLMN level NRF. All
the information needed for UE positioning can be determined by UE-AMF before
LMF initiating a position procedure for a target UE as this is MBSR specific.
The AMF provides the information to LMF, which triggers a positioning
procedure for the MBSR. The LMF uses the location of the MBSR and the
measurement data from the Target UE procedures to estimate the Target UE\'s
location. The two location measurements shall be done at the same time T.
During the positioning procedure, this solution does not require any
additional interaction between LMF and the RAN.
\- Solution#15 proposed that the AMF serving the UE indicates to the LMF the
existence of the MBSR. The LMF either obtains the MBSR position information
when receiving the measurement reports from MBSR or by querying the MBSR with
a specific time information. The interaction between LMF and RAN via NRPPa
message to obtain MBSR location introduces additional latency. The MBSR
velocity information is taken into consideration to determine the MBSR
location at the requested time. The LMF requests the MBSR positioning
information via NRPPa procedure similar to obtaining location information of a
TRP. It\'s not clear how MBSR/TRP retrieves the location information.
\- Solution #18 proposed that the NG-RAN keeps the 5G-GUTI of the MBSR, and
provides that to the UE-AMF in the Initial UE message. All the information
needed for UE positioning can be determined by UE-AMF before LMF initiating a
position procedure for a target UE as this is MBSR specific. When location
request is sent to the LMF, UE-AMF provides also the 5G-GUTI of MBSR, so that
additional location procedure for MBSR can be triggered by the LMF. During the
positioning procedure, this solution does not require any additional
interaction between LMF and the RAN.
\- Solution #19 proposed to several options to avoid sending privacy check
signalling toward MBSR nodes, in order to optimize the network operations.
It is clear from the above that all solutions assume that the AMF serving the
UE would need to be informed of the existence of the MBSR. This can be
achieved via either an explicit indication from NG-RAN, or the additional ULI
information. Solutions 7 and 8 however can derive which TRP in a positioning
estimation is mobile and the MBSR UE ID from other means (i.e. NRPPa).
The LMF decides that the target UE connects to MBSR based on information
received from the AMF. The AMF provides the information to LMF when it
determines that the UE connects to MBSR based on the additional information
from NG-RAN as described in solution#7, #8, #14, #15 and #18. However, it is
not described in solution#15 that how the AMF makes the decision. Furthermore,
solution#15 also includes another way for LMF to make the decision, i.e. based
on UE positioning capability which is enhanced to include MBSR access provided
by UE via LPP. But it is also not described that how the UE determines that it
connects to MBSR.
All solutions believe that the Target UE shall behave as a legacy UE and no
new UE features are needed to support LCS for UEs accessing the network via a
MBSR, e.g. the Target UE reports the cell-ID in the DL positioning report to
the LMF.
In most of the solutions, it is assumed that for the positioning procedure
that involves MBSR measurements, the LMF obtains the MBSR location to
calculate target UE location. How the LMF derives the location of the MBSR
differs between the solutions. The LMF triggers the AMF that serves the MBSR
directly (solution #7 with one alternative using UDM, #14 and #18), or the LMF
request the GMLC to derive the location (Solution #8). The GMLC will trigger
the serving AMF in the next step. In both approaches the LMF needs to obtain
the UE-ID of the MBSR. The third approach (in Solution #7 with another
alternative, Solution#8 with UL positioning alternative and Solution #15) is
that the LMF requests the location and velocity of the MBSR by using modified
NRPPa procedure.
For Solution#15 and solution 7 with one alternative, the MBSR location is
obtained by the UE\'s LMF using NRPPa query for TRP location, and no UE ID for
MBSR is needed.
How the LMF resolves the cell-ID may differ slightly between the solutions. In
Sol#7 The LMF correlates cell-ID with GPSI of MBSR received by the AMF and/or
in TRP information exchanges. In Sol#8 the IAB-donor RAN node provides the
GPSI to the LMF. In Sol#14 the AMF-UE queries the PLMN level NRF for the
MBSR\'s SUPI and AMF-ID of the AMF that is serving the MBSR using the cell-ID.
The AMF provides this info to the LMF. In Sol#15 the LMF receives the cell-ID
with an indication that it is a MBSR from the AMF. In Sol#18, the AMF serving
UE provides the cell-ID and AMF ID (e.g. 5G-GUTI of the IAB node) serving the
MBSR to the LMF.
As indicated in both solution#8 and solution#15, the time of positioning
measurements for UE and that for MBSR could be different. In order to reduce
positioning error caused by the time difference, it is useful to take MBSR
velocity into consideration. This is also applicable to other solutions.
Solution#14, solution#7 and solution#18 also touches on ensuring the
positioning information to be measured at the same time or as close as
possible.
## 7.6 Evaluations for KI#6
For KI#6, the KI definition in clause 5.6 addresses the problem of cell ID/TAC
of MBSR not reflecting the location of the UE. The solution#9 (clause 6.9)
proposes that the gNB (i.e. IAB-donor gNB) provides the additional ULI (IAB-UE
ULI) to the AMF for the UEs when the UEs are connected via a MBSR. The AMF of
the UE determines the UE\'s location by taking the IAB-UE ULI into account.
The additional ULI is the cell selected by the MBSR during the registration
and managed by the IAB-donor gNB. The details of how to determine the cell
that UE is located is a mobile IAB\'s cell and how to provide additional ULI
of IAB-UE on NGAP have RAN dependency.
Considering the TAI/NR CGI in additional ULI is managed by gNB, it\'s static
and related to a specific geographic area if the TAI/NR CGI in normal ULI does
not reflect a specific geographic area.
The geographic area covered by the MBSR is normally also covered by the IAB-
donor gNB. Using the additional ULI, together with the normal ULI, to manage
mobility related restriction is feasible. However, as below figure 7.6-1
illustrates, there are cases where the additional ULI information of the IAB-
UE itself does not provide sufficient information to determine the actual UE
location.
Figure 7.6-1. Scenario for UE location when served by MBSR
As illustrated in figure 7.6-1, depending on the location of the MBSR 1, the
UE 1 served by it can be at different locations, e.g. out of coverage of Cell
ID 1, or in coverage of Cell ID2. However, according to solution#9, the same
additional ULI (e.g. TAC1, Cell ID 1) would be provided to the 5GC.
Therefore, while providing the additional ULI based on MBSR\'s serving cell to
5GC can indicate the UE\'s rough area, it still does not provide accurate
location information of the UE1 and could be misleading in some cases. For the
5GC operations that requires more accurate location of the UE (e.g. if Cell 1
has a range of 300m, and Cell 4 has a range of 200m, having two ULIs would
only provide a granularity of 500m in UE location), the 5GC would need to
obtain the location of the MBSR besides the ULI of MBSR.
Based on the solutions for KI#5, the LMF of the UE is able to obtain the
location information of the MBSR. Therefore, if the AMF requires more accurate
ULI information than the combined range, it can obtain the accurate MBSR
location from the UE\'s LMF, which would trigger a NRPPa procedure to query
the MBSR location information as a TRP. This should not require triggering the
full location service procedure for the UE. Some new indication may be needed
in the request to LMF to only request the MBSR location.
## 7.7 Evaluation for KI#7
### 7.7.1 General
There is one solution, solution #20, documented for KI#7 in the current study.
### 7.7.2 Evaluation on solutions
Solution#20 addressed control of UE\'s access to 5GS via a mobile base station
relay by reusing the CAG concept defined in TS 23.501 [2] for NPN access
control:
\- the MBSR is (pre-)configured with the PLMN list in which the MBSR is
allowed to operate as an MBSR, and the corresponding MBSR CAG identifier(s)
per PLMN;
\- the UE accessing the MBSR may be configured with CAG configurations as
defined in TS 23.501 [2]. NG-RAN and 5GC supports the UE access control based
on the allowed CAG list for the UE and the CAG ID associated with the MBSR
cell serving the UE;
\- the CAG ID(s) used for the MBSR is separated from those used for fixed CAG
networks, in all serving PLMNs;
\- a common CAG ID value may be used by (all) MBSRs, so that it can be
correctly interpreted by all serving networks, especially for roaming cases;
\- NG-RAN needs to provide the CAG Identifiers of the MBSR to the AMF for
UE\'s access control, as part of the NPN Access Information in the INITIAL UE
MESSAGE message;
\- AMF needs to provide the UE\'s Allowed CAG list in the Mobility Restriction
List to the NG-RAN to allow access control for transition from RRC Inactive to
RRC Connected state, and during handover;
\- the solution proposes also extra/optional control information (e.g. time
and location for access) corresponding to the CAG identifier. This is also
needed considering the buss/train scenario where ticket purchasing is
required. The CAG ID(s) for the MBSR to announce may be controlled based on
time duration, geographic areas. The Allowed CAG ID List for the UE may be
associated with a time duration, or geographic areas. Without this extra
control information, the alternative option is for the network (HPLMN) to
revoke the allowed CAG IDs by tracking the MBSR and UE location and status.
The solution works for UE supports CAG functionality and UE that does not
support CAG in controlling their access to MBSR.
# 8 Conclusions
## 8.1 Conclusions for KI#1
OAM configuration that is largely borrowing what was developed for IAB nodes
in previous releases considering the establishment of the secure and trusted
access to the serving PLMN OAM.
NOTE 1: How to provide secure and trusted access to OAM server for a MBSR,
including the roaming case, should be decided together with SA3 and SA5 during
normative work.
The PDU session establishment for the MBSR accessing OAM follows the legacy
mechanism as defined in the TS 23.501 [2]. The MBSR subscription may include a
default slice (and optionally a DNN) which can be used by MBSR to have access
to the serving PLMN OAM for obtaining the MBSR configuration.
The MBSR IAB-UE configuration using the existing UE Policy mechanism (as
defined in TS 23.503 [7]) or other existing mechanism (e.g. configuration of
preferred or forbidden PLMNs) can be used together with the OAM based
configuration.
NOTE 2: Whether there is additional need of the UE policy information update
can be further synched based on RAN WG feedback.
## 8.2 Conclusions for KI#2
The Normative work will be based on the following conclusions:
\- No normative work is needed to handle individual UE mobility with regards
to MBSR. The legacy procedure of Inter-gNB-DU Mobility as defined in the TS
38.401 [6] or the legacy handover procedure using the Xn/N2 reference points
as defined in the TS 23.502 [5] is used.
\- No normative work is needed to support UEs in RRC-Idle or RRC-Inactive
state when a MBSR goes out-of-service. The legacy procedure for cell
(re-)selection as specified in TS 38.304 [21] for RRC-Idle and RRC-Inactive is
used.
\- No normative work is needed to support UEs in RRC-Connected state when a
MBSR goes out-of-service. If the MBSR goes out-of-service due to e.g. MBSR
moves to an area where the MBSR is not allowed to provide the relay service,
the legacy procedure for IAB node Release as specified in TS 38.401 [6] is
used.
## 8.3 Conclusions for KI#3
For KI#3, the interim conclusions are as follows:
\- The UE\'s mobility management is performed using the legacy mechanism as
defined in the TS 23.501 [2] and TS 23.502 [5]. The UE in CM-Idle shall follow
legacy procedure when detecting a TAC which is not in the TA list.
\- The TAC broadcasted by the MBSR cell(s) is configured by the Donor gNB and
whether this is the same as the one of the cell of the Donor gNB serving the
MBSR, or not, will be based on alignment with RAN WGs and SA2 may align
specifications if SA WG2 specifications impact is identified.
NOTE: Normative work will be based on RAN decisions.
\- Each UE connected via the MBSR may have different serving AMFs e.g., due to
slicing and individual PDU sessions/QoS service flows configured. UE context
handling and path switching would be handled per each individual UE.
\- No normative work for Group mobility of the UEs served by the MBSR.
Alignment of specifications may be done only if RAN WGs decide to support
this.
## 8.4 Conclusions for KI#4
For KI#4, the interim conclusions are as follows:
\- Depends on RAN WG confirmation, MBSR (IAB-DU) can use IAB-node integration
procedure or inter-IAB-donor gNB mobility procedure to integrate into VPLMN to
provide service.
\- It is assumed that some roaming agreement for MBSR operation in VPLMN is in
place in HPLMN, and the 5GC can make use of it for authorization of MBSR in
VPLMN based on subscription information. The MBSR subscription data store the
mobile IAB-Operation allowed indication.
\- AMF provided MBSR authorized indication to NG-RAN during UE Context
setup/modification procedure based on MBSR subscription data.
NOTE 1: Whether existing IAB-Operation allowed indication and IAB authorized
indication can be reused for MBSR will be determined in normative phase.
\- The MBSR(IAB-UE) is assumed to be configured with preferred PLMN lists and
forbidden PLMNs by the HPLMN.
NOTE 2: Configuration mechanism conclusions for KI#1 are applicable to KI#4.
\- If the MBSR (IAB-UE) performs initial registration with the PLMN, the AMF
accepts it based on MBSR subscription information, and provides MBSR
authorization indication to donor-gNB. The MBSR establishes the connection to
OAM using the configuration information for MBSR operation.
NOTE 3: How the MBSR obtains configuration information for MBSR operation is
part of KI#1.
\- The AMF of the MBSR can indicate to the MBSR that it is not allowed to act
as an IAB node as part of registration procedure, and does not include MBSR
authorization indication to donor-gNB in this case.
NOTE 4: Which NAS message(s) (registration accept, registration reject or/and
deregistration request) is used by the AMF of the MBSR for indicating to the
MBSR that it is not allowed to act as MBSR needs to be discussed in normative
phase. Whether the NAS layer includes indication the MBSR (IAB-UE) supports
specific feature is to be decided in normative phase.
NOTE 5: The mechanism applies to both roaming and non-roaming MBSR operations.
## 8.5 Conclusions for KI#5
The following legacy behaviours for KI#5 are applied to KI#5:
\- Target UE performs location measurements and SRS transmission as a legacy
Rel-17 UE.
\- The Target UE reports the cell-IDs of all the TRP/gNB/eNB the UE performed
DL positioning measurements on.
\- The MBSR includes it\'s cell-ID in the reported UL positioning measurement
that it performed on the Target UE.
\- The UDM of MSBR holds MBSR subscription data and stores an updated record
that includes the MBSR\'s GPSI, SUPI, serving AMF ID of MBSR.
For Key Issue #5 (Support of location services for UEs accessing via a mobile
base station relay), the followings are taken as conclusion:
\- The AMF serving the UE provides the cell-ID of the cell that the Target UE
is connected to the LMF in the location request (legacy behaviour) and
indicates if possible that the cell-ID belongs to a MBSR. The AMF serving UE
also provides LMF with the IAB-UE ID of the MBSR so that the LMF initiates the
positioning procedure for MBSR. The AMF serving UE obtains the IAB-UE ID of
the MBSR.
NOTE 1: The details on AMF serving UE obtaining the IAB-UE ID of the MBSR will
be decided during normative phase.
\- The LMF uses the Target UE reported cell-IDs to derive whether the cell-ID
corresponds to a MBSR. There can be more than one MBSR in the measurement
report.
\- The LMF can learn that a new integrated MBSR TRP at a gNB is mobile and its
MBSR IAB UE ID (GPSI) via TRP information exchange towards the gNB with the
cell Id of the TRP. The TRP information exchange is triggered by OAM.
NOTE 2: The information that will be provided from MBSR to LMF will be finally
confirmed by stage 3 groups, but it should at least include the indication the
TRP is a MBSR and the associated IAB-UE ID.
NOTE 3: Normative alignment may be needed on how the LMF can learn that a cell
ID belongs to a MBSR and the associated UE-ID based on RAN
agreements/development.
\- To aid the LMF to estimate the accuracy of the UE location estimation, the
MBSR velocity information and time for obtaining its location measurement data
should be obtained by the LMF when available.
\- Options for the LMF to derive the location and velocity of the MBSR are
e.g.:
\- The LMF can derive the location of the MBSR by requesting the GMLC to
derive the location of the MBSR (UE).
\- The LMF can use NRPPa procedure for MBSR/TRP location query that triggers
the MBSR to perform MO-LR.
\- The MBSR location information is provided by the MBSR via NG-RAN to the LMF
using NRPPa.
NOTE 4: Enhancements to the NRPPa TRP Information Exchange procedure and to
its F1AP equivalent depends on RAN WGs. The normative work in SA WG2 based on
NRPPa procedure would start when RAN WGs confirmed the support.
\- As the timing of the location estimations for the Target UE and MBSR(s) is
important for the quality of the location estimation of the Target UE, the LMF
needs to reduce the timing offset of the positioning measurements, i.e. the
positioning of the Target UE and MBSR can be scheduled with using the same
scheduled location time as defined in TS 23.273 [4], and compensate for the
potential time difference of the positioning measurements, e.g. taking
velocity of MBSR into account.
\- Privacy check:
\- If the MBSR acts as a UE for the positioning, the UE privacy check
procedure needs to be performed.
\- If the positioning of the MBSR is performed for the UE served by the MBSR,
the privacy check procedure is skipped. The mechanism to skip the privacy
check can be determined during the normative phase based on the conclusion of
the procedure that the LMF obtains the location of MBSR.
## 8.6 Conclusions for KI#6
For Key Issue #6 (Provide cell ID/TAC of mobile base station relay for
services), the followings can be taken as initial conclusion:
\- the NG-RAN provides an additional ULI based on the MBSR\'s donor gNB
information, together with the existing ULI, to the AMF when a UE connects to
the 5GC via a MBSR. The additional ULI includes the TAI/NR CGI of selected by
the IAB-Node when it\'s registered to the network.
\- AMF may use the additional ULI, together with the existing ULI, apply the
mobility management (e.g. Mobility restriction) and Warning Area List
management for Public Warning System.
NOTE 1: Providing additional ULI needs further coordination with RAN WG and
further updates may apply.
\- The Solution#9 is recommended for normative specifications as basis for
providing serving cell ID/TAC of mobile base station relay to the AMF serving
the UE.
NOTE 2: For the case that IAB-UE and IAB-DU are connected to different IAB-
donors, the details are subject to RAN WGs, and will be coordinated with RAN
WGs.
## 8.7 Conclusions for KI#7
The following conclusions are agreed based on the principles from solution#20:
\- CAG Identifier is used to control the access of UE via MBSR (i.e. mobile
IAB-node) and existing CAG mechanism defined in clause 5.30.3 of TS 23.501 [2]
can be used for managing UE\'s access to MBSR.
\- When the MBSR is allowed to be operated as an IAB node for a PLMN, the MBSR
is configured, either during the communication with the serving PLMN OAM or
pre-configured, with CAG identifier which is unique within the scope of this
PLMN. If the MBSR is pre-configured with the PLMN list in which the MBSR is
allowed to operate as an IAB node, the corresponding CAG Identifier per PLMN
is also configured in the MBSR.
\- RAN and CN supports the UE access control based on the CAG identifier
associated with the cell and the allowed CAG identifiers for the UE that
supports CAG functionality.
\- For the UE that does not support CAG functionality, RAN and CN are allowed
to use not only CAG mechanism but also the other existing mechanism e.g.
forbidden Tracking Area.
NOTE 1: If CAG ID associated with MBSR and CAG ID associated with private
network, both are broadcasted how to apply access control will be determined
during normative phase.
\- Extra information (e.g. time duration and location information) may be
deployed together with the CAG Identifier for MBSR that UE can access. The
enhanced Allowed CAG list will be provided to UE and AMF for enforcement to
make sure UE not accessing the MBSR cell outside of the time duration or
geographic area, e.g. if the time when a certain CAG is allowed for a UE is up
or UE is out of the geographic area, the CAG for the UE is revoked from the
network as per TS 23.501 [2]. In normative phase it will be also considered
whether a more energy efficient approach based on time and location based
information can be pursued.
\- Extra information may also be provided with allowed CAG ID list by AMF to
the UE for IDLE mode cell access control, e.g. cell (re)selection.
\- The AMF may verify whether UE access via MBSR is allowed by CAG Identifier
and corresponding Extra information.
NOTE 2: Whether this Extra information needs to be provided to NG-RAN, e.g. to
allow access control for transition from RRC Inactive to RRC Connected state
and/or to determine the cells where paging will be performed (as described in
clause 4.2.3.3 of TS 23.502 [5]) will be coordinated with RAN WGs in normative
phase.
NOTE 3: Control of the MBSR access to the serving network is based on normal
mobility restriction management based on subscription data form MBSR (i.e.
IAB-UE).
#