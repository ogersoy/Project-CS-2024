# Foreword {#foreword .TT}
This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
In the present document, modal verbs have the following meanings:
**shall** indicates a mandatory requirement to do something
**shall not** indicates an interdiction (prohibition) to do something
The constructions \"shall\" and \"shall not\" are confined to the context of
normative provisions, and do not appear in Technical Reports.
The constructions \"must\" and \"must not\" are not used as substitutes for
\"shall\" and \"shall not\". Their use is avoided insofar as possible, and
they are not used in a normative context except in a direct citation from an
external, referenced, non-3GPP document, or so as to maintain continuity of
style when extending or modifying the provisions of such a referenced
document.
**should** indicates a recommendation to do something
**should not** indicates a recommendation not to do something
**may** indicates permission to do something
**need not** indicates permission not to do something
The construction \"may not\" is ambiguous and is not used in normative
elements. The unambiguous constructions \"might not\" or \"shall not\" are
used instead, depending upon the meaning intended.
**can** indicates that something is possible
**cannot** indicates that something is impossible
The constructions \"can\" and \"cannot\" are not substitutes for \"may\" and
\"need not\".
**will** indicates that something is certain or expected to happen as a result
of action taken by an agency the behaviour of which is outside the scope of
the present document
**will not** indicates that something is certain or expected not to happen as
a result of action taken by an agency the behaviour of which is outside the
scope of the present document
**might** indicates a likelihood that something will happen as a result of
action taken by some agency the behaviour of which is outside the scope of the
present document
**might not** indicates a likelihood that something will not happen as a
result of action taken by some agency the behaviour of which is outside the
scope of the present document
In addition:
**is** (or any other verb in the indicative mood) indicates a statement of
fact
**is not** (or any other negative verb in the indicative mood) indicates a
statement of fact
The constructions \"is\" and \"is not\" do not indicate requirements.
# 1 Scope
The present document defines the principal purpose and use of different
naming, numbering, addressing and identification resources (i.e. Identifiers
(ID)) within the digital cellular telecommunications system and the 3GPP
system.
IDs that are covered by this specification includes both public IDs, private
IDs and IDs that are assigned to MSs/UEs. Many of the IDs are used temporary
in the networks and are allocated and assigned by the operators and some other
IDs are allocated and assigned on either global, regional and national level
by an administrator. See ITU-T Recommendation E.101 [122].
NOTE: Allocation means the process of opening a numbering, naming or
addressing resource in a plan for the purpose of its use by a
telecommunication service under specified conditions. The allocation in itself
does not yet give rights for any user, whether an operator, service provider,
user or someone else, to use the resource. Assignment means authorization
given to an applicant for the right of use of number, naming or addressing
resources under specified conditions.
The present document defines:
0) the principal purpose and use of International Mobile station Equipment
Identities (IMEI) within the digital cellular telecommunications system and
the 3GPP system
a) an identification plan for public networks and subscriptions in the 3GPP
systems;
b) principles of assigning telephone numbers to MSs in the country of
registration of the MS;
c) principles of assigning Mobile Station (MS) roaming numbers to visiting
MSs;
d) an identification plan for location areas, routing areas, and base stations
in the GSM system;
e) an identification plan for MSCs, SGSNs, GGSNs, and location registers in
the GSM/UMTS system;
f) principles of assigning international mobile equipment identities;
g) principles of assigning zones for regional subscription;
h) an identification plan for groups of subscribers to the Voice Group Call
Service (VGCS) and to the Voice Broadcast Service (VBS); and identification
plan for voice group calls and voice broadcast calls; an identification plan
for group call areas;
i) principles for assigning Packet Data Protocol (PDP) addresses to mobile
stations;
j) an identification plan for point-to-multipoint data transmission groups;
k) an identification plan for CN domain, RNC and service area in the UTRAN
system.
l) an identification plan for mobile subscribers in the WLAN system.
m) addressing and identification for IMS Service Continuity
n) an identification plan together with principles of assignment and mapping
of identities for the Evolved Packet System; and
o) addressing and identification for Proximity-based (ProSe) Services.
p) an identification for Online Charging System (OCS).
q) an identification plan together with principles of assignment and mapping
of identities for the 5G System.
The present document specifies functions, procedures and information which
apply to GERAN Iu mode. However, functionality related to GERAN Iu mode is
neither maintained nor enhanced.
## 1.1 References
### 1.1.1 Normative references
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or non‑specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TS 21.905: \"Vocabulary for 3GPP Specifications \".
[2] 3GPP TS 23.008: \"Organization of subscriber data\".
[3] 3GPP TS 23.060: \"General Packet Radio Service (GPRS); Service
description; Stage 2\"
[4] 3GPP TS 23.070: \"Routeing of calls to/from Public Data Networks (PDN)\".
[5] 3GPP TS 24.008: \"Mobile Radio Interface Layer 3 specification; Core
Network Protocols; Stage 3\".
[6] 3GPP TS 29.060: \"GPRS Tunnelling protocol (GTP) across the Gn and Gp
interface\".
[7] 3GPP TS 43.020: \"Digital cellular telecommunications system (Phase 2+);
Security related network functions\".
[8] void
[9] 3GPP TS 51.011: \" Specification of the Subscriber Identity Module \-
Mobile Equipment (SIM - ME) interface\".
[10] ITU-T Recommendation E.164: \"The international public telecommunication
numbering plan\".
[11] ITU-T Recommendation E.212: \"The international identification plan for
public networks and subscriptions \".
[12] ITU-T Recommendation E.213: \"Telephone and ISDN numbering plan for land
Mobile Stations in public land mobile networks (PLMN)\".
[13] ITU-T Recommendation X.121: \"International numbering plan for public
data networks\".
[14] IETF RFC 791: \"Internet Protocol\".
[15] IETF RFC 2373: \"IP Version 6 Addressing Architecture\".
[16] 3GPP TS 25.401: \"UTRAN Overall Description\".
[17] 3GPP TS 25.413: \"UTRAN Iu Interface RANAP Signalling\".
[18] IETF RFC 2181: \"Clarifications to the DNS Specification\".
[19] IETF RFC 1035: \"Domain Names - Implementation and Specification\".
[20] IETF RFC 1123: \"Requirements for Internet Hosts -- Application and
Support\".
[21] IETF RFC 2462: \"IPv6 Stateless Address Autoconfiguration\".
[22] IETF RFC 3041: \"Privacy Extensions for Stateless Address
Autoconfiguration in IPv6\".
[23] 3GPP TS 23.236: \"Intra Domain Connection of RAN Nodes to Multiple CN
Nodes\".
[24] 3GPP TS 23.228: \"IP Multimedia (IM) Subsystem -- Stage 2\"
[25] Void
[26] IETF RFC 3261: \"SIP: Session Initiation Protocol\"
[27] 3GPP TS 31.102: \"Characteristics of the USIM Application.\"
[28] Void
[29] 3GPP TS 44.118: \"Radio Resource Control (RRC) Protocol, Iu Mode\".
[30] Void
[31] 3GPP TS 29.002: \"Mobile Application Part (MAP) specification\"
[32] 3GPP TS 22.016: \"International Mobile Equipment Identities (IMEI)\"
[33] Void
[34] Void
[35] 3GPP TS 45.056: \"CTS-FP Radio Sub-system\"
[36] 3GPP TS 42.009: \"Security aspects\"
[37] 3GPP TS 25.423: \"UTRAN Iur interface RNSAP signalling\"
[38] 3GPP TS 25.419: \"UTRAN Iu-BC interface: Service Area Broadcast Protocol
(SABP)\"
[39] 3GPP TS 25.410: \"UTRAN Iu Interface: General Aspects and Principles\"
[40] ISO/IEC 7812: \"Identification cards - Numbering system and registration
procedure for issuer identifiers\"
[41] Void
[42] 3GPP TS 33.102 \"3G security; Security architecture\"
[43] 3GPP TS 43.130: \"Iur‑g interface; Stage 2\"
[45] IETF RFC 3966: \"The tel URI for Telephone Numbers\"
[46] 3GPP TS 44.068: \"Group Call Control (GCC) protocol\".
[47] 3GPP TS 44.069: \"Broadcast Call Control (BCC) Protocol \".
[48] 3GPP TS 24.234 Release 12: \"3GPP System to WLAN Interworking; UE to
Network protocols; Stage 3\".
[49] Void
[50] IETF RFC 4187: \"EAP AKA Authentication\".
[51] IETF RFC 4186: \"EAP SIM Authentication\".
[52] 3GPP TS 23.246: \"Multimedia Broadcast/Multicast Service (MBMS);
Architecture and functional description\"
[53] IETF RFC 4282: \"The Network Access Identifier\".
[54] IETF RFC 2279: \"UTF-8, a transformation format of ISO 10646\".
[55] 3GPP TS 33.234 Release 12: \"Wireless Local Area Network (WLAN)
interworking security\".
[56] Void
[58] 3GPP TS 33.221 \"Generic Authentication Architecture (GAA); Support for
Subscriber Certificates\".
[60] IEEE 1003.1-2004, Part 1: Base Definitions
[61] 3GPP TS 43.318: \"Generic Access to the A/Gb interface; Stage 2\"
[62] 3GPP TS 44.318: \"Generic Access (GA) to the A/Gb interface; Mobile GA
interface layer 3 specification\"
[63] 3GPP TS 29.163: \"Interworking between the IP Multimedia (IM) Core
Network (CN) subsystem and Circuit Switched (CS) networks\"
[64] IETF RFC 2606: \"Reserved Top Level DNS Names\"
[65] Void
[66] 3GPP TS 51.011 Release 4: \"Specification of the Subscriber Identity
Module - Mobile Equipment (SIM - ME) interface\"
[67] 3GPP2 X.S0013-004: \"IP Multimedia Call Control Protocol based on SIP and
SDP; Stage 3\"
[68] 3GPP TS 23.402: \"Architecture Enhancements for non-3GPP accesses\"
[69] 3GPP TS 33.402: \"3GPP System Architecture Evolution: Security Aspects of
non-3GPP accesses\"
[70] 3GPP TS 23.292: \"IP Multimedia Subsystem (IMS) Centralized Services;
Stage 2\"
[71] 3GPP TS 23.237: \"IP Multimedia Subsystem (IMS) Service Continuity\"
[72] 3GPP TS 23.401: \"General Packet Radio Service (GPRS) enhancements for
Evolved Universal Terrestrial Radio Access Network (E-UTRAN) access\"
[73] 3GPP TS 29.303: \"Domain Name System Procedures; Stage 3\"
[74] IETF RFC 3958: \"Domain-Based Application Service Location Using SRV RRs
and the Dynamic Delegation Discovery Service (DDDS)\"
[75] Void
[76] 3GPP TS 23.237: \"Mobility between 3GPP-Wireless Local Area Network
(WLAN) interworking and 3GPP systems\"
[77] 3GPP TS 24.302: \"Access to the 3GPP Evolved Packet Core (EPC) via
non-3GPP access networks; Stage 3\"
[78] 3GPP TS 29.273: \"Evolved Packet System; 3GPP EPS AAA Interfaces\"
[79] IETF RFC 7254: \"A Uniform Resource Name Namespace for the Global System
for Mobile Communications Association (GSMA) and the International Mobile
station Equipment Identity (IMEI)\".
[80] IETF RFC 4122: \"A Universally Unique IDentifier (UUID) URN Namespace\".
[81] 3GPP TS 24.229: \"IP multimedia call control protocol based on Session
Initiation Protocol (SIP) and Session Description Protocol (SDP); Stage 3\".
[82] IETF RFC5448: \"Improved Extensible Authentication Protocol Method for
3rd Generation Authentication and Key Agreement (EAP-AKA\') \"
[83] 3GPP TS 22.011: \"Service accessibility\".
[84] 3GPP TS 36.413: \"Evolved Universal Terrestrial Radio Access Network
(E-UTRAN) ; S1 Application Protocol (S1AP)\".
[85] Guidelines for use of a 48-bit Extended Unique Identifier (EUI-48™),
http://standards.ieee.org/regauth/oui/tutorials/EUI48.html
[86] GUIDELINES FOR 64-BIT GLOBAL IDENTIFIER (EUI-64) REGISTRATION AUTHORITY,
http://standards.ieee.org/regauth/oui/tutorials/EUI64.html
[87] The Broadband Forum TR-069: \"CPE WAN Management Protocol v1.1\", Issue 1
Amendment 2, December 2007
[88] 3GPP TS 29.274: \"Evolved General Packet Radio Service (GPRS) Tunnelling
Protocol for Control plane (GTPv2-C); Stage 3\".
[89] 3GPP TS 33.401: \"3GPP System Architecture Evolution: Security
Architecture\".
[90] 3GPP TS 24.301: \"Non-Access-Stratum (NAS) protocol for Evolved Packet
System (EPS); Stage 3\".
[91] 3GPP TS 36.300: \" Evolved Universal Terrestrial Radio Access (E-UTRA)
and Evolved Universal Terrestrial Radio Access Network (E-UTRAN); Overall
description; Stage 2\".
[92] 3GPP TS 23.216: \"Single Radio Voice Call Continuity (SRVCC)\".
[93] 3GPP TS 31.103: \"IP Multimedia Services Identity Module (ISIM)
application\".
[94] IETF RFC 4825: \"The Extensible Markup Language (XML) Configuration
Access Protocol (XCAP)\".
[95] 3GPP TS 29.229: \" Cx and Dx interfaces based on the Diameter protocol;
Protocol details\".
[96] 3GPP TS 29.329: \" Sh Interface based on the Diameter protocol; Protocol
details\".
[97] 3GPP TS 29.165: \"Inter-IMS Network to Network Interface (NNI); Stage
3\".
[98] 3GPP TS 23.682: \"Architecture Enhancements to facilitate communications
with Packet Data Networks and Applications\".
[99] 3GPP TS 44.018: \"Mobile radio interface layer 3 specification; Radio
Resource Control (RRC) protocol\".
[100] 3GPP TS 44.060: \"General Packet Radio Service (GPRS); Mobile Station
(MS) -- Base Station System (BSS) interface; Radio Link Control / Medium
Access Control (RLC/MAC) protocol\".
[101] 3GPP TS 23.251: \"Network Sharing; Architecture and functional
description\".
[102] 3GPP TS 32.508: \"Procedure flows for multi-vendor plug-and-play eNB
connection to the network\".
[103] 3GPP TS 23.303: \"Proximity-based services (ProSe)\".
[104] IETF RFC 7255: \"Using the International Mobile station Equipment
Identity (IMEI) Uniform Resource Name (URN) as an Instance ID\".
[105] 3GPP TS 26.346: \"Multimedia Broadcast/Multicast Service (MBMS);
Protocols and codecs\".
[106] 3GPP TS 29.212: \"Policy and Charging Control (PCC); Reference points\".
[107] 3GPP TS 23.203: \"Policy and charging control architecture\".
[108] 3GPP TS 29.272: \"Evolved Packet System (EPS); Mobility Management
Entity (MME) and Serving GPRS Support Node (SGSN) related interfaces based on
Diameter protocol\".
[110] Void.
[111] 3GPP TS 24.379: \"Mission Critical Push To Talk (MCPTT) call control
Protocol specification\".
[112] 3GPP TS 43.064: \"General Packet Radio Service (GPRS); Overall
description of the GPRS Radio Interface; Stage 2\".
[113] IETF RFC 6696: \"EAP Extensions for the EAP Re-authentication Protocol
(ERP)\".
[114] 3GPP TS 23.280: \"Common functional architecture to support mission
critical services\".
[115] 3GPP TS 24.281: \"Mission Critical Video (MCVideo) signalling control;
Protocol specification\".
[116] 3GPP TS 24.282: \"Mission Critical Data (MCData) signalling control;
Protocol specification\".
[117] 3GPP TS 23.285: \"Architecture enhancements for V2X services\".
[118] 3GPP TS 24.116: \"Stage 3 aspects of system architecture enhancements
for TV services\".
[119] 3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".
[120] 3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".
[121] 3GPP TS 23.503: \"Policy and Charging Control Framework for the 5G
System; Stage 2\".
[122] ITU-T Recommendation E.101: \"Definitions of terms used for identifiers
(names, numbers, addresses and other identifiers) for public telecommunication
services and networks in the E-series Recommendations\".
[123] 3GPP TS 38.413: \"NG Radio Access Network (NG-RAN); NG Application
Protocol (NGAP)\".
[124] 3GPP TS 33.501: \"Security architecture and procedures for 5G system\".
[125] 3GPP TS 24.501: \"Non-Access-Stratum (NAS) protocol for 5G System (5GS);
stage 3\".
[126] IETF RFC 7542: \"The Network Access Identifier\".
[127] IETF RFC 2818: \"HTTP over TLS\".
[128] 3GPP TS 29.501: \"5G System; Principles and Guidelines for Services
Definition; Stage 3\".
[129] 3GPP TS 29.571: \"5G System; Common Data Types for Service Based
Interfaces; Stage 3\".
[130] 3GPP TS 29.510: \"5G System; Network Function Repository Services; Stage
3\".
[131] 3GPP TS 23.316: \"Wireless and wireline convergence access support for
the 5G System (5GS); Stage 2\".
[132] IETF RFC 7042: \"IANA Considerations and IETF Protocol and Documentation
Usage for IEEE 802 Parameters\".
[133] BBF WT-470: \"5G FMC Architecture\".
[134] CableLabs WR-TR-5WWC-ARCH: \"5G Wireless Wireline Converged Core
Architecture\".
[135] CableLabs DOCSIS MULPI: \"Data-Over-Cable Service Interface
Specifications DOCSIS 3.1, MAC and Upper Layer Protocols Interface
Specification\".
[136] IEEE \"Guidelines for Use of Extended Unique Identifier (EUI),
Organizationally Unique Identifier (OUI), and Company ID (CID)\",
https://standards.ieee.org/content/dam/ieee-
standards/standards/web/documents/tutorials/eui.pdf
[137] 3GPP TS 36.331: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
Radio Resource Control (RRC); Protocol specification\"
[138] 3GPP TS 38.331: \"NR; Radio Resource Control (RRC); Protocol
Specification\".
[139] 3GPP TS 23.122: \"Non-Access-Stratum (NAS) functions related to Mobile
Station (MS) in idle mode\".
[140] 3GPP TS 23.247: \"Architectural enhancements for 5G multicast-broadcast
services\".
[141] 3GPP TS 38.300: \"NR; NR and NG-RAN Overall Description; Stage 2\".
[142] 3GPP TS 33.503: \"Security Aspects of Proximity based Services (ProSe)
in the 5G System (5GS)\".
[143] 3GPP TS 23.304: \"Proximity based Services (ProSe) in the 5G System
(5GS); Stage 2\".
[144] 3GPP TS 24.526: \"UE policies for 5G System (5GS); Stage 3\".
### 1.1.2 Informative references
[44] Void
[57] GSMA PRD IR.34 \"Inter‑PLMN Backbone Guidelines\"
[59] Void
[109] GSMA TS.06 \"IMEI Allocation and Approval Process\"
http://www.gsma.com/newsroom/gsmadocuments/
## 1.2 Abbreviations
For the purposes of the present document, the abbreviations defined in 3GPP TS
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
5G-BRG 5G Broadband Residential Gateway
5G-CRG 5G Cable Residential Gateway
5G-GUTI 5G Globally Unique Temporary Identifier
5G NSWO 5G Non-Seamless WLAN offload
5G-RG 5G Residential Gateway
5GS 5G System
5G-S-TMSI 5G S-Temporary Mobile Subscription Identifier
AMF Access and Mobility Management Function
CP-PRUK Control Plane Prose Remote User Key
EPS Evolved Packet System
ER EAP Re-authentication
ERP EAP Re-authentication Protocol
FN-BRG Fixed Network Broadband Residential Gateway
FN-CRG Fixed Network Cable RGGUAMI Globally Unique AMF Identifier
FN-RG Fixed Network RG
GUTI Globally Unique Temporary UE Identity
GCI Global Cable Identifier
GLI Global Line Identifier
GUTI Globally Unique Temporary UE Identity
HFC Hybrid Fiber Coax
HRNN Human Readable Network Name
ICS IMS Centralized Services
MTC Machine Type Communication
N5CW Non 5G Capable over WLAN
NCGI NR Cell Global Identity
NCI NR Cell Identity
NSI Network Specific Identifier
OCS Online Charging System
PEI Permanent Equipment Identifier
RACS Radio Capability Signalling Optimisation
RG Residential Gateway
SNPN Stand-alone Non-Public Network
SUCI Subscription Concealed Identifier
SUPI Subscription Permanent Identifier
TWAP Trusted WLAN AAA Proxy
UP-PRUK User Plane ProSe Remote User Key
UUID Universally Unique Identifier
V2X Vehicle-to-Everything
W-5GAN Wireline 5G Access Network
W-5GCAN Wireline 5G Cable Access Network
W-5GBAN Wireline BBF Access NetworkWebRTC Web Real-Time Communication
WLAN Wireless Local Area Network
WWSF WebRTC Web Server Function
## 1.3 General comments to references
The identification plan for public networks and subscriptions defined below is
that defined in ITU-T Recommendation E.212.
The ISDN numbering plan for MSs and the allocation of mobile station roaming
numbers is that defined in ITU-T Recommendation E.213. Only one of the
principles for allocating ISDN numbers is proposed for PLMNs. Only the method
for allocating MS roaming numbers contained in the main text of ITU-T
Recommendation E.213 is recommended for use in PLMNs. If there is any
difference between the present document and the ITU-T Recommendations, the
former shall prevail.
For terminology, see also ITU-T Recommendations E.101, E.164 and X.121.
## 1.4 Conventions on bit ordering
The following conventions hold for the coding of the different identities
appearing in the present document and in other GSM Technical Specifications if
not indicated otherwise:
\- the different parts of an identity are shown in the figures in order of
significance;
\- the most significant part of an identity is on the left part of the figure
and the least significant on the right.
When an identity appears in other Technical Specifications, the following
conventions hold if not indicated otherwise:
\- digits are numbered by order of significance, with digit 1 being the most
significant;
\- bits are numbered by order of significance, with the lowest bit number
corresponding to the least significant bit.
# 2 Identification of mobile subscribers
## 2.1 General
A unique International Mobile Subscription Identity (IMSI) shall be allocated
to each mobile subscriber in the GSM/UMTS/EPS system.
NOTE: This IMSI is the concept referred to by ITU-T as \"International Mobile
Subscription Identity\".
In order to support the subscriber identity confidentiality service the VLRs,
SGSNs and MME may allocate Temporary Mobile Subscriber Identities (TMSI) to
visiting mobile subscribers. The VLR,SGSN and MME must be capable of
correlating an allocated TMSI with the IMSI of the MS to which it is
allocated.
An MS may be allocated three TMSIs, one for services provided through the MSC,
one for services provided through the SGSN (P-TMSI for short) and one for the
services provided via the MME (M-TMSI part GUTI for short).
For addressing on resources used for GPRS, a Temporary Logical Link Identity
(TLLI) is used. The TLLI to use is built by the MS either on the basis of the
P-TMSI (local or foreign TLLI), or directly (random TLLI).
In order to speed up the search for subscriber data in the VLR a supplementary
Local Mobile Station Identity (LMSI) is defined.
The LMSI may be allocated by the VLR at location updating and is sent to the
HLR together with the IMSI. The HLR makes no use of it but includes it
together with the IMSI in all messages sent to the VLR concerning that MS.
## 2.2 Composition of IMSI
IMSI is composed as shown in figure 1.
Figure 1: Structure of IMSI
IMSI is composed of three parts:
1) Mobile Country Code (MCC) consisting of three digits. The MCC identifies
uniquely the country of domicile of the mobile subscription;
2) Mobile Network Code (MNC) consisting of two or three digits for 3GPP
network applications. The MNC identifies the home PLMN of the mobile
subscription within its country of domicile, or it identifies together with
MCC and NID the mobile subscription\'s SNPN. The length of the MNC (two or
three digits) depends on the value of the MCC. A mixture of two and three
digit MNC codes within a single MCC area is not recommended and is outside the
scope of this specification.
3) Mobile Subscriber Identification Number (MSIN) identifying the mobile
subscription within a PLMN or SNPN.
## 2.2A Subscription Permanent Identifier (SUPI)
The SUPI is a globally unique 5G Subscription Permanent Identifier allocated
to each subscriber in the 5G System. It is defined in clause 5.9.2 of 3GPP TS
23.501 [119].
The SUPI is defined as:
\- a SUPI type: in this release of the specification, it may indicate an IMSI,
a Network Specific Identifier (NSI), a Global Line Identifier (GLI) or a
Global Cable Identifier (GCI); and
\- dependent on the value of the SUPI type:
\- an IMSI as defined in clause 2.1;
\- a Network Specific Identifier (NSI), taking the form of a Network Access
Identifier (NAI) as defined in clause 28.7.2;
\- a Global Cable Identifier (GCI) taking the form of a NAI as defined in
clause 28.15.2;
\- a Global Line Identifier (GLI) taking the form of an NAI as defined in
clause 28.16.2.
NOTE: Depending on the protocol used to convey the SUPI, the SUPI type can
take different formats.
See clauses 4.7.2, 4.7.3 and 4.7.4 of 3GPP TS 23.316 [131] for details on
which types of SUPI are supported by 5G-BRG, FN-BRG, 5G-CRG and FN-CRG.
## 2.2B Subscription Concealed Identifier (SUCI)
The SUCI is a privacy preserving identifier containing the concealed SUPI. It
is defined in clause 6.12.2 of 3GPP TS 33.501 [124].
Figure 2.2B-1: Structure of SUCI
The SUCI is composed of the following parts:
1) SUPI Type, consisting in a value in the range 0 to 7. It identifies the
type of the SUPI concealed in the SUCI. The following values are defined:
\- 0: IMSI
\- 1: Network Specific Identifier (NSI)
\- 2: Global Line Identifier (GLI)
\- 3: Global Cable Identifier (GCI)
\- 4 to 7: spare values for future use.
2) Home Network Identifier, identifying the home network of the subscriber.
When the SUPI Type is an IMSI, the Home Network Identifier is composed of two
parts:
\- Mobile Country Code (MCC), consisting of three decimal digits. The MCC
identifies uniquely the country of domicile of the mobile subscription;
\- Mobile Network Code (MNC), consisting of two or three decimal digits. The
MNC identifies the home PLMN or SNPN of the mobile subscription.
When the SUPI type is a Network Specific Identifier (NSI), a GLI or a GCI, the
Home Network Identifier consists of a string of characters with a variable
length representing a domain name as specified in clause 2.2 of IETF RFC 7542
[126]. For a GLI or a GCI, the domain name shall correspond to the realm part
specified in the NAI format for SUPI in clauses 28.15.2 and 28.16.2.
3) Routing Indicator, consisting of 1 to 4 decimal digits assigned by the home
network operator and provisioned in the USIM, that allow together with the
Home Network Identifier to route network signalling with SUCI to AUSF and UDM
instances capable to serve the subscriber.
Each decimal digit present in the Routing Indicator shall be regarded as
meaningful (e.g. value \"012\" is not the same as value \"12\"). If no Routing
Indicator is configured on the USIM or the ME, this data field shall be set to
the value 0 (i.e. only consist of one decimal digit of \"0\").
4) Protection Scheme Identifier, consisting in a value in the range of 0 to 15
(see Annex C.1 of 3GPP TS 33.501 [124]). It represents the null scheme or a
non-null scheme specified in Annex C of 3GPP TS 33.501 [124] or a protection
scheme specified by the HPLMN; the null scheme shall be used if the SUPI type
is a GLI or GCI.
5) Home Network Public Key Identifier, consisting in a value in the range 0 to
255. It represents a public key provisioned by the HPLMN or SNPN and it is
used to identify the key used for SUPI protection. This data field shall be
set to the value 0 if and only if null protection scheme is used;
6) Scheme Output, consisting of a string of characters with a variable length
or hexadecimal digits, dependent on the used protection scheme, as defined
below. It represents the output of a public key protection scheme specified in
Annex C of 3GPP TS 33.501 [124] or the output of a protection scheme specified
by the HPLMN.
Figure 2.2B-2 defines the scheme output for the null protection scheme.
Figure 2.2B-2: Scheme Output for the null protection scheme
The Mobile Subscriber Identification Number (\"MSIN\") is defined in clause
2.2; the \"username\" corresponds to the username part of a NAI, and it is
applicable to SUPI types Network-Specific Identifier (clause 28.7.2), GLI
(clause 28.16.2) or GCI (clause 28.15.2).
NOTE 1: For a SUCI with SUPI Type 2 or 3 (i.e. GLI or GCI), the SUCI can,
based on subscription information, act as a pseudonym of the actual SUPI
containing an IMSI (see 3GPP TS 23.316 [131], clauses 4.7.3 and 4.7.4). If so,
the UDM derives the actual SUPI (IMSI) from the de-concealed SUCI (GLI/GCI).
An anonymous SUCI is composed by setting the SUPI Type field to 1 (Network-
Specific Identifier), using the null protection scheme, and where the scheme
output corresponds to a username set to either the \"anonymous\" string or to
an empty string (see IETF RFC 7542 [126], clause 2.4).
The scheme output is formatted as a variable length of characters as specified
for the username in clause 2.2 of IETF RFC 7542 [126].
NOTE 2: If the null protection scheme is used, the NFs can derive SUPI from
SUCI when needed. The AMF derives SUPI used for AUSF discovery from SUCI when
the Routing-Indicator is zero and the protection scheme is null. For an
anonymous SUCI, an NF can derive an anonymous SUPI from an anonymous SUCI when
needed; this is, the NF can derive a SUPI in NAI format for which the
\"username\" part of the SUPI is \"anonymous\" or omitted.
Figure 2.2B-3 defines the scheme output for the Elliptic Curve Integrated
Encryption Scheme Profile A.
Figure 2.2B-3: Scheme Output for Elliptic Curve Integrated Encryption Scheme
Profile A
The ECC ephemeral public key is formatted as 64 hexadecimal digits, which
allows to encode 256 bits.
The ciphertext value is formatted as a variable length of hexadecimal digits.
The MAC tag value is formatted as 16 hexadecimal digits, which allows to
encode 64 bits.
Editor\'s Note: clause C.3.2 of TS 33.501 specifies that the scheme output may
contain other parameters (not further defined in the specification). It is FFS
how to format these parameters.
Figure 2.2B-4 defines the scheme output for the Elliptic Curve Integrated
Encryption Scheme Profile B.
Figure 2.2B-4: Scheme Output for Elliptic Curve Integrated Encryption Scheme
Profile B
The ECC ephemeral public key is formatted as 66 hexadecimal digits, which
allows to encode 264 bits.
The ciphertext value is formatted as a variable length of hexadecimal digits.
The MAC tag value is formatted as 16 hexadecimal digits, which allows to
encode 64 bits.
Editor\'s Note: clause C.3.2 of TS 33.501 specifies that the scheme output may
contain other parameters (not further defined in the specification). It is FFS
how to format these parameters.
Figure 2.2B-5 defines the scheme output for Home Network proprietary
protection schemes.
Figure 2.2B-5: Scheme Output for Home Network proprietary protection schemes
The Home Network defined scheme output is formatted as a variable length of
hexadecimal digits. Its format is not further defined in 3GPP specifications.
As examples, assuming the IMSI 234150999999999, where MCC=234, MNC=15 and
MSISN=0999999999, the Routing Indicator 678, and a Home Network Public Key
Identifier of 27:
\- the SUCI for the null protection scheme is composed of: 0, 234, 15, 678, 0,
0 and 0999999999
\- the SUCI for the Profile \ protection scheme is composed of: 0, 234, 15,
678, 1, 27, \, \ and
\
## 2.3 Allocation and assignment principles
IMSI shall consist of decimal digits (0 through 9) only.
The number of digits in IMSI shall not exceed 15.
The allocation and assignment of Mobile Country Codes (MCCs) is administered
by the ITU. The current assignment is available on ITU web site
(https://www.itu.int/en/ITU-T/inr/Pages/default.aspx).
The assignment of Mobile network Codes (MNC) is the responsibility of each
national numbering plan administrator. MNCs under MCC ranges 90x are
administered by the ITU. The MSIN is the third field of the IMSI, and is
administered by the relevant MNC assignee to identify individual
subscriptions.
If more than one PLMN exists in a country, the same Mobile Network Code should
not be assigned to more than one PLMN.
The allocation of IMSIs should be such that not more than the digits MCC \+
MNC of the IMSI have to be analysed in a foreign PLMN for information
transfer.
## 2.4 Structure of TMSI
Since the TMSI has only local significance (i.e. within a VLR and the area
controlled by a VLR, or within an SGSN and the area controlled by an SGSN, or
within an MME and the area controlled by an MME), the structure and coding of
it can be chosen by agreement between operator and manufacturer in order to
meet local needs.
The TMSI consists of 4 octets. It can be coded using a full hexadecimal
representation.
In order to avoid double allocation of TMSIs after a restart of an allocating
node, some part of the TMSI may be related to the time when it was allocated
or contain a bit field which is changed when the allocating node has recovered
from the restart.
In areas where both MSC-based services and SGSN-based services are provided,
some discrimination is needed between the allocation of TMSIs for MSC-based
services and the allocation of TMSIs for SGSN-based services. The
discrimination shall be done on the 2 most significant bits, with values 00,
01, and 10 being used by the VLR, and 11 being used by the SGSN.
If intra domain connection of RAN nodes to multiple CN nodes as described in
3GPP TS 23.236 [23] is applied in the MSC/VLR or SGSN, then the NRI shall be
part of the TMSI. The NRI has a configurable length of 0 to 10 bits. A
configurable length of 0 bits indicates that the NRI is not used and this
feature is not applied in the MSC/VLR or SGSN. The NRI shall be coded in bits
23 to 14. An NRI shorter than 10 bits shall be encoded with the most
significant bit of the NRI field in bit 23.
The TMSI shall be allocated only in ciphered form. See also 3GPP TS 43.020 [7]
and 3GPP TS 33.102 [42].
The network shall not allocate a TMSI with all 32 bits equal to 1 (this is
because the TMSI must be stored in the SIM, and the SIM uses 4 octets with all
bits equal to 1 to indicate that no valid TMSI is available).
To allow for eventual modifications of the management of the TMSI code space
management, MSs shall not check if an allocated TMSI belongs to the range
allocated to the allocating node. MSs shall use an allocated TMSI according to
the specifications, whatever its value.
## 2.5 Structure of LMSI
The LMSI consists of 4 octets and may be allocated by the VLR. The VLR shall
not allocate the value zero. The value zero is reserved to indicate that an
LMSI parameter sent from the HLR to the VLR shall not be interpreted.
## 2.6 Structure of TLLI
A TLLI is built by the MS or by the SGSN either on the basis of the P-TMSI
(local or foreign TLLI), or directly (random or auxiliary TLLI), according to
the following rules.
The TLLI consists of 32 bits, numbered from 0 to 31 by order of significance,
with bit 0 being the LSB.
A local TLLI is built by an MS which has a valid P-TMSI as follows:
bits 31 down to 30 are set to 1; and
bits 29 down to 0 are set equal to bits 29 to 0 of the P-TMSI.
A foreign TLLI is built by an MS which has a valid P-TMSI as follows:
bit 31 is set to 1 and bit 30 is set to 0; and
bits 29 down to 0 are set equal to bits 29 to 0 of the P-TMSI.
A random TLLI is built by an MS as follows:
bit 31 is set to 0;
bits 30 down to 27 are set to 1; and
bits 0 to 26 are chosen randomly.
An auxiliary TLLI is built by the SGSN as follows:
bit 31 is set to 0;
bits 30 down to 28 are set to 1;
bit 27 is set to 0; and
bits 0 to 26 can be assigned independently.
Other types of TLLI may be introduced in the future.
Part of the TLLI codespace is re-used in GERAN to allow for the inclusion of
the GERAN Radio Network Temporary Identifier in RLC/MAC messages. The G-RNTI
is defined in 3GPP TS 44.118 [29].
The structure of the TLLI is summarised in table 1.
Table 1: TLLI structure
* * *
31 30 29 28 27 26 to 0 Type of TLLI 1 1 T T T T Local TLLI 1 0 T T T T Foreign
TLLI 0 1 1 1 1 R Random TLLI 0 1 1 1 0 A Auxiliary TLLI 0 1 1 0 X X Reserved 0
1 0 X X X Reserved 0 0 0 0 G G Part of the assigned G-RNTI 0 0 0 1 R R Random
G-RNTI
* * *
\'T\', \'R\', \'A\' and \'X\' indicate bits which can take any value for the
type of TLLI. More precisely, \'T\' indicates bits derived from a P-TMSI,
\'R\' indicates bits chosen randomly, \'A\' indicates bits chosen by the SGSN,
\'G\' indicates bits derived from the assigned G-RNTI and \'X\' indicates bits
in reserved ranges.
## 2.7 Structure of P-TMSI Signature
The P-TMSI Signature consists of 3 octets and may be allocated by the SGSN.
The network shall not allocate a P-TMSI Signature with all 24 bits equal to 1
(this is because the P-TMSI Signature must be stored in the SIM, and the SIM
uses 3 octets with all bits equal to 1 to indicate that no valid P-TMSI
signature is available.
## 2.8 Globally Unique Temporary UE Identity (GUTI)
### 2.8.1 Introduction
The purpose of the GUTI is to provide an unambiguous identification of the UE
that does not reveal the UE or the user\'s permanent identity in the Evolved
Packet System (EPS). It also allows the identification of the MME and network.
It can be used by the network and the UE to establish the UE\'s identity
during signalling between them in the EPS. See 3GPP TS 23.401 [72].
The GUTI has two main components:
\- one that uniquely identifies the MME which allocated the GUTI; and
\- one that uniquely identifies the UE within the MME that allocated the GUTI.
Within the MME, the mobile shall be identified by the M-TMSI.
The Globally Unique MME Identifier (GUMMEI) shall be constructed from the MCC,
MNC and MME Identifier (MMEI).
The MMEI shall be constructed from an MME Group ID (MMEGI) and an MME Code
(MMEC).
The GUTI shall be constructed from the GUMMEI and the M-TMSI.
For paging purposes, the mobile is paged with the S-TMSI. The S-TMSI shall be
constructed from the MMEC and the M-TMSI.
The operator shall need to ensure that the MMEC is unique within the MME pool
area and, if overlapping pool areas are in use, unique within the area of
overlapping MME pools.
NOTE: In some network sharing cases it is required that the MMEC and NRI
values are coordinated between the sharing operators, as described in 3GPP TS
23.251 [101]. In order to achieve CS/PS coordination in shared GERAN/UTRAN
networks, the MMEC included in the GUTI can be set to identify the CS operator
serving the UE.
The GUTI shall be used to support subscriber identity confidentiality, and, in
the shortened S-TMSI form, to enable more efficient radio signalling
procedures (e.g. paging and Service Request).
The format and size of the GUTI is therefore the following:
\ = \\,
where \ = \\\
and \ = \\
MCC and MNC shall have the same field size as in earlier 3GPP systems.
M-TMSI shall be of 32 bits length.
MME Group ID shall be of 16 bits length.
MME Code shall be of 8 bits length.
### 2.8.2 Mapping between Temporary and Area Identities for the EUTRAN and the
UTRAN/GERAN based systems
#### 2.8.2.0 Introduction
This clause provides information on the mapping of the temporary and location
area identities, e.g. for the construction of the Routeing Area Update Request
message in GERAN/UTRAN or Tracking Area Update Request message in E‑UTRAN.
In GERAN and UTRAN:
\ = \\\\
\ includes the mapped NRI
P‑TMSI shall be of 32 bits length where the two topmost bits are reserved and
always set to \'11\'. Hence, for a UE which may handover to GERAN/UTRAN (based
on subscription and UE capabilities), the corresponding bits in the M-TMSI are
set to \'11\' (see clause 2.8.2.1.3).
3GPP TS 23.236 [23] specifies that the NRI field is of variable length and
shall be mapped into the P‑TMSI starting at bit 23 and down to bit 14\. The
most significant bit of the NRI is located at bit 23 of the P‑TMSI regardless
of the configured length of the NRI. To support mobility between GERAN/UTRAN
and E-UTRAN, the NRI length is limited to a maximum of 8 bits to be compatible
for the mapping to MME Code within GUTI (see clause 2.8.2.2).
The P‑TMSI and NRI are defined elsewhere in this specification.
In the case of a combined MME‑SGSN node, the NRI of the SGSN part and the MME
code of the MME part, refer to the same combined node. RAN configuration
allows NAS messages on GERAN/UTRAN and E‑UTRAN to be routed to the same
combined node. The same or different values of NRI and MME code may be used
for a combined node.
#### 2.8.2.1 Mapping from GUTI to RAI, P-TMSI and P-TMSI signature
##### 2.8.2.1.1 Introduction
This clause addresses the case when a UE moves from an MME to an SGSN. The
SGSN may be either an S4 SGSN or a Gn/Gp SGSN.
##### 2.8.2.1.2 Mapping in the UE
When a UE moves from an E-UTRAN to a GERAN/UTRAN, the UE needs to map the GUTI
to an RAI, a P-TMSI and a P-TMSI Signature, for them to be sent to the SGSN.
For GERAN, the TLLI is derived from the P-TMSI by the UE and is a foreign TLLI
(see clause 2.6).
The mapping of the GUTI shall be done to the combination of RAI of GERAN /
UTRAN and the P‑TMSI:
E‑UTRAN \ maps to GERAN/UTRAN \
E‑UTRAN \ maps to GERAN/UTRAN \
E‑UTRAN \ maps to GERAN/UTRAN \
E‑UTRAN \ maps to GERAN/UTRAN \ and is also copied into the 8
Most Significant Bits of the NRI field within the P‑TMSI;
E‑UTRAN \ maps as follows:
\- 6 bits of the E‑UTRAN \ starting at bit 29 and down to bit 24 are
mapped into bit 29 and down to bit 24 of the GERAN/UTRAN \;
\- 16 bits of the E‑UTRAN \ starting at bit 15 and down to bit 0 are
mapped into bit 15 and down to bit 0 of the GERAN/UTRAN \;
\- and the remaining 8 bits of the E‑UTRAN \ are mapped into the 8
Most Significant Bits of the \ field.
The UE shall fill the remaining 2 octets of the \ according
to clauses 9.1.1, 9.4.1, 10.2.1, or 10.5.1 of 3GPP TS.33.401 [89] , as
appropriate, for RAU/Attach procedures.
For UTRAN, the 10-bit long NRI bits are masked out from the P-TMSI and are
also supplied by the UE to the RAN node as IDNNS (Intra Domain NAS Node
Selector) (see 3GPP TS 23.236 [23]). However, the RAN configured NRI length
should not exceed 8 bits.
##### 2.8.2.1.3 Mapping in the old MME
A new SGSN attempts to retrieve information regarding the UE, e.g. the IMSI,
from the old MME. In order to find the UE context, the MME needs to map the
RAI, P-TMSI (or TLLI) and the P-TMSI Signature (sent by the SGSN) to create
the GUTI and compare it with the stored GUTI.
The MME shall perform a reverse mapping to the mapping procedure specified in
clause 2.8.2.1.2 \"Mapping in the UE\" (see 3GPP TS 29.060 [6] and 3GPP TS
29.274 [88] for specifics of the messaging). For the reverse mapping, the
E-UTRAN \ within the GUTI shall be set either to bits 23 to 16 of
the GERAN/UTRAN \ (i.e., the NRI field) or to the GERAN/UTRAN \.
For GERAN TLLI, the old MME replaces the two topmost bits of TLLI, received
from new SGSN via GTPv1, with \'11\' before mapping the TLLI to the GUTI used
for looking up the \"UE Context\".
#### 2.8.2.2 Mapping from RAI and P-TMSI to GUTI
##### 2.8.2.2.1 Introduction
This clause addresses the case when a UE moves from an SGSN to an MME (i.e.
during a TAU or an Attach to MME). The SGSN may be either an S4 SGSN or a
Gn/Gp SGSN.
##### 2.8.2.2.2 Mapping in the UE
When the UE moves from the GERAN/UTRAN to the E-UTRAN, the UE needs to map the
RAI and P-TMSI to a GUTI to be sent to the MME. The P-TMSI signature is sent
intact to the MME.
The mapping of P‑TMSI (TLLI) and RAI in GERAN/UTRAN to GUTI in E‑UTRAN shall
be performed as follows:
GERAN/UTRAN \ maps to E‑UTRAN \
GERAN/UTRAN \ maps to E‑UTRAN \
GERAN/UTRAN \ maps to E‑UTRAN \
GERAN/UTRAN \ maps into bit 23 and down to bit 16 of the M‑TMSI
The 8 most significant bits of GERAN/UTRAN \ map to the MME code.
GERAN/UTRAN \ maps as follows:
\- 6 bits of the GERAN/UTRAN \ starting at bit 29 and down to bit 24
are mapped into bit 29 and down to bit 24 of the E‑UTRAN \;
\- 16 bits of the GERAN/UTRAN \ starting at bit 15 and down to bit 0
are mapped into bit 15 and down to bit 0 of the E‑UTRAN \.
The values of \ and \ shall be disjoint, so that they can
be differentiated.
The most significant bit of the \ shall be set to zero; and the most
significant bit of \ shall be set to one. Based on this
definition, the most significant bit of the \ can be used to
distinguish the node type, i.e. whether it is an MME or SGSN. The UE copies
the received old SGSN\'s \ into the \ when sending a
message to an MME, regardless of the value of the most significant bit of the
\.\ In networks where this definition is not applied (e.g. in networks
already configured with LAC with the most significant bit set to 1 before LTE
deployment), the information in the TAU/RAU request indicating whether the
provided GUTI/P-TMSI is \"native\" (i.e. no system change) or \"mapped\" (i.e.
system change) can be used to distinguish the node type for UEs implemented
according to this release of the specification (see 3GPP TS 24.301 [90] and
3GPP TS 24.008 [5]). Specific network implementations still satisfying 3GPP
standard interfaces can be used for pre-Rel-10 UEs to distinguish the node
type.
NOTE 1: As an example, at NAS level, the MME/SGSN can retrieve the old
SGSN/MME by using additional GUTI/additional RAI/P-TMSI with double DNS query
to solve the first time the UE moves between E-UTRAN and GERAN/UTRAN. As
another example, the MME/SGSN can retrieve the old SGSN/MME by using double
DNS query.
##### 2.8.2.2.3 Mapping in the new MME
In order to retrieve the UE\'s information, e.g. the IMSI, from the old SGSN,
the new MME extracts only the RAI and P-TMSI from the GUTI via the reverse
mapping procedure to that specified in clause 2.8.2.2.2. This is done in order
to be able to include the mapped RAI and P-TMSI, along with the P-TMSI
Signature received by the MME from the UE, in the corresponding message sent
to the old SGSN (see 3GPP TS 29.060 [6] and 3GPP TS 29.274 [88] for specifics
of the messaging). The old SGSN compares the received RAI, P-TMSI and P-TMSI
Signature with the stored values for identifying the UE.
## 2.9 Structure of the S-Temporary Mobile Subscriber Identity (S-TMSI)
The S-TMSI is the shortened form of the GUTI to enable more efficient radio
signalling procedures (e.g. paging and Service Request). For paging purposes,
the mobile is paged with the S-TMSI. The S-TMSI shall be constructed from the
MMEC and the M-TMSI:
\ = \\
See clause 2.8 for these definitions and the mapping.
## 2.10 5G Globally Unique Temporary UE Identity (5G-GUTI)
### 2.10.1 Introduction
The purpose of the 5G-GUTI is to provide an unambiguous identification of the
UE that does not reveal the UE or the user\'s permanent identity in the 5G
System (5GS). It also allows the identification of the Access and Mobility
Management Function (AMF) and network. It can be used by the network and the
UE to establish the UE\'s identity during signalling between them in the 5GS.
See 3GPP TS 23.501 [119].
The 5G-GUTI has two main components:
\- one that identifies the AMF(s) which allocated the 5G-GUTI; and
\- one that uniquely identifies the UE within the AMF(s) that allocated the
5G-GUTI.
Within the AMF(s), the mobile shall be identified by the 5G-TMSI.
The Globally Unique AMF Identifier (GUAMI) shall be constructed from the MCC,
MNC and AMF Identifier (AMFI).
The AMFI shall be constructed from an AMF Region ID, an AMF Set ID and an AMF
Pointer. The AMF Region ID identifies the region, the AMF Set ID uniquely
identifies the AMF Set within the AMF Region, and the AMF Pointer identifies
one or more AMFs within the AMF Set.
NOTE: When the UE is assigned a 5G-GUTI with an AMF Pointer value used by more
than one AMF, the AMFs need to ensure that the 5G-TMSI value used within the
assigned 5G-GUTI is not already in use within the AMF\'s sharing that pointer
value.
The 5G-GUTI shall be constructed from the GUAMI and the 5G-TMSI.
For paging purposes, the mobile is paged with the 5G-S-TMSI. The 5G-S-TMSI
shall be constructed from the AMF Set ID, the AMF Pointer and the 5G-TMSI.
The operator shall need to ensure that the combination of the AMF Set ID and
AMF Pointer is unique within the AMF Region and, if overlapping AMF Regions
are in use, unique within the area of overlapping AMF Regions.
The 5G-GUTI shall be used to support subscriber identity confidentiality, and,
in the shortened 5G-S-TMSI form, to enable more efficient radio signalling
procedures (e.g. paging and Service Request).
The format and size of the 5G-GUTI is therefore the following:
\ = \\,
where \ = \\\
and \ = \\\
MCC and MNC shall have the same field size as in earlier 3GPP systems.
5G-TMSI shall be of 32 bits length.
AMF Region ID shall be of 8 bits length.
AMF Set ID shall be of 10 bits length.
AMF Pointer shall be of 6 bits length.
### 2.10.2 Mapping between Temporary Identities for the 5GS and the E-UTRAN
#### 2.10.2.0 Introduction
This clause provides information on the mapping of the temporary identities,
e.g. for the construction of the Tracking Area Update Request message in
E‑UTRAN.
In E-UTRAN:
\ = \\\\\
#### 2.10.2.1 Mapping from 5G-GUTI to GUTI
##### 2.10.2.1.1 Introduction
This clause addresses the case when a UE moves from an AMF to an MME.
##### 2.10.2.1.2 Mapping in the UE
When a UE moves from 5GS to an E-UTRAN, the UE needs to map the 5G-GUTI to a
GUTI.
The mapping of the 5G-GUTI to a GUTI shall be done as follows:
5GS \ maps to E-UTRAN \
5GS \ maps to E-UTRAN \
5GS \ and 5GS \ map to E-UTRAN \ and
part of E-UTRAN \ as follows:
\- 8 bits of the 5GS \ starting at bit 7 and down to bit 0 are
mapped into bit 15 and down to bit 8 of the E‑UTRAN \;
\- 8 bits of the 5GS \ starting at bit 9 and down to bit 2 are
mapped into bit 7 and down to bit 0 of the E‑UTRAN \;
\- 2 bits of the 5GS \ starting at bit 1 and down to bit 0 are
mapped into bit 7 and down to bit 6 of the E‑UTRAN \;
5GS \ maps to part of E-UTRAN \ as follows:
\- 6 bits of the 5GS \ starting at bit 5 and down to bit 0 are
mapped into bit 5 and down to bit 0 of the E‑UTRAN \.
5GS \ maps to to E-UTRAN \
##### 2.10.2.1.3 Mapping in the old AMF
A new MME attempts to retrieve information regarding the UE, e.g. the IMSI,
from the old AMF. In order to find the UE context, the AMF needs to map the
GUTI (sent by the MME) to create the 5G-GUTI and compare it with the stored
5G-GUTI.
The AMF shall perform a reverse mapping to the mapping procedure specified in
clause 2.10.2.1.2 \"Mapping in the UE\".
#### 2.10.2.2 Mapping from GUTI to 5G-GUTI
##### 2.10.2.2.1 Introduction
This clause addresses the case when a UE moves from an MME to an AMF (i.e.
during a Registration Update or an Initial Registration to an AMF).
##### 2.10.2.2.2 Mapping in the UE
When the UE moves from the E-UTRAN to 5GS, the UE needs to map the GUTI to a
5G-GUTI to be sent to the AMF.
The mapping of the GUTI to a 5G-GUTI shall be performed as follows:
E-UTRAN \ maps to 5GS \
E-UTRAN \ maps to 5GS \
E‑UTRAN \ maps to 5GS \ and part of 5GS \ as follows:
\- 8 bits of the E‑UTRAN \ starting at bit 15 and down to bit 8
are mapped into bit 7 and down to bit 0 of the 5GS \;
\- 8 bits of the E‑UTRAN \ starting at bit 7 and down to bit 0
are mapped into bit 9 and down to bit 2 of the 5GS \;E-UTRAN \ maps to 5GS \ and 5GS \ as follows:
\- 2 bits of the E‑UTRAN \ starting at bit 7 and down to bit 6 are
mapped into bit 1 and down to bit 0 of the 5GS \;
\- 6 bits of the E‑UTRAN \ starting at bit 5 and down to bit 0 are
mapped into bit 5 and down to bit 0 of the 5GS \;
E-UTRAN \ maps to 5GS \
##### 2.10.2.2.3 Mapping in the new AMF
In order to retrieve the UE\'s information, e.g. the IMSI, from the old MME,
the new AMF shall perform a reverse mapping to the mapping procedure specified
in clause 2.10.2.2.2 \"Mapping in the UE\". This is done in order to be able
to include the mapped GUTI in the corresponding message sent to the old MME.
The old MME compares the received GUTI with the stored values for identifying
the UE.
## 2.11 Structure of the 5G-S-Temporary Mobile Subscriber Identity (5G-S-TMSI)
The 5G-S-TMSI is the shortened form of the 5G-GUTI to enable more efficient
radio signalling procedures (e.g. paging and Service Request). For paging
purposes, the mobile is paged with the 5G-S-TMSI. The 5G-S-TMSI shall be
constructed from the AMF Set ID, the AMF Pointer and the 5G-TMSI:
\ = \\\
See clause 2.10.1 for these definitions and clause 2.10.2 for the mapping.
## 2.12 Structure of the Truncated 5G-S-Temporary Mobile Subscriber Identity
(Truncated 5G-S-TMSI)
The Truncated 5G-S-TMSI is a 40 bit UE identifier constructed from the 5G-S-
TMSI. It is used in RRC Connection Re-Establishment for the control plane for
NB-IoT as described in 3GPP TS 36.300 [91]. The Truncated 5G-S-TMSI shall be
constructed from the Truncated AMF set ID, the Truncated AMF Pointer and the
Truncated 5G-TMSI:
\ = \\\
Truncated AMF set ID is n least significant bits of AMF Set ID, where n is no
greater than 10 bits.
Truncated AMF Pointer is m least significant bits of AMF Pointer, where m is
no greater than 6 bits.
Truncated 5G-TMSI is (40-n-m) least significant bits of 5G-TMSI.
The values n and m are configurable based on network deployment. The value n+m
shall be larger or equal to 8 bits.
NOTE: Depending on network deployment it is up to operator configuration to
ensure that Truncated AMF Set ID and Truncated AMF Pointer identify the AMF
uniquely, and that Truncated 5G-TMSI identifies the UE uniquely within the
serving AMF.
The NG-RAN and AMF are configured with the values n and m respectively, and
NG-RAN is configured with how to recreate AMF Set ID from Truncated AMF Set
ID, AMF Pointer from Truncated AMF Pointer, and 5G-TMSI from Truncated
5G-TMSI. The configuration of these parameters are specific to each PLMN.
The AMF configures the UE with the Truncated 5G-S-TMSI Configuration that
provides the sizes of the components of the Truncated 5G-S-TMSI as described
in 3GPP TS 24.501 [125] during the Registration and UE Configuration Update
procedures.
For Network Sharing, the sharing NG-RAN is configured with the respective
values n and m that are specific to each PLMN, and AMF is configured with the
same values n and m as ones configured on NG-RAN per PLMN. The AMF configures
the UE with the corresponding values n and m according to the PLMN which the
UE accesses to during the Registration procedure.
# 3 Numbering plan for mobile stations
## 3.1 General
The structure of the following numbers is defined below:
\- the telephone number used by a subscriber of a fixed (or mobile) network to
call a mobile station of a PLMN;
\- the network addresses used for packet data communication between a mobile
station and a fixed (or mobile) station;
\- mobile station roaming numbers.
One or more numbers of the E.164 numbering plan shall be assigned to a mobile
station to be used for all calls to that station, i.e. the assignment of at
least one MSISDN (i.e. E.164 number) to a mobile station is mandatory. As an
exception, GPRS and EPS allow for operation whereby a MSISDN is not allocated
as part of the subscription data (see 3GPP TS 23.060 [3] clause 5.3.17 and
3GPP TS 23.401 [72]).
NOTE: For card operated stations the E.164 number should be assigned to the
holder of the card (personal number).
## 3.2 Numbering plan requirements
In principle, it should be possible for any subscriber of the ISDN or PSTN to
call any MS in a PLMN. This implies that E.164 numbers for MSs should comply
with the E.164 numbering plan in the home country of the MS.
The E.164 numbers of MSs should be composed in such a way that standard
ISDN/PSTN charging can be used for calls to MSs.
It should be possible for each national numbering plan administrator to
develop its own independent numbering/addressing plan for MSs.
The numbering/addressing plan should not limit the possibility for MSs to roam
among PLMNs.
It should be possible to change the IMSI without changing the E.164 number
assigned to an MS and vice versa.
In principle, it should be possible for any subscriber of the CSPDN/PSPDN to
call any MS in a PLMN. This implies that it may be necessary for an MS to have
a X.121 number.
In principle, it should be possible for any fixed or mobile terminal to
communicate with a mobile terminal using an IP v4 address or IP v6 address.
## 3.3 Structure of Mobile Subscriber ISDN number (MSISDN)
Mobile Subscriber ISDN numbers (i.e. E.164 numbers) are assigned from the
E.164 numbering plan [10]; see also ITU-T Recommendation E.213 [12]. The
structure of the MSISDN will then be as shown in figure 2.
Figure 2: Number Structure of MSISDN
The number consists of:
\- Country Code (CC) of the country in which the MS is registered, followed
by:
\- National (significant) number, which consists of:
\- National Destination Code (NDC) and
\- Subscriber Number (SN).
For GSM/UMTS applications, a National Destination Code is allocated to each
PLMN. In some countries more than one NDC may be required for each PLMN/mobile
number ranges.
The composition of the MSISDN should be such that it can be used as a global
title address in the Signalling Connection Control Part (SCCP) for routeing
messages to the home location register of the MS. The country code (CC) and
the national destination code (NDC) will provide such routeing information. If
further routeing information is required, it should be contained in the first
few digits of the subscriber number (SN).
A sub-address may be appended to an E.164 number for use in call setup and in
supplementary service operations where an E.164 number is required (see ITU-T
Recommendations E.164, clause Annex B, B.3.3, and X.213 annex A). The sub-
address is transferred to the terminal equipment denoted by the ISDN number.
The maximum length of a sub-address is 20 octets, including one octet to
identify the coding scheme for the sub‑address (see ITU-T Recommendation
X.213, annex A). All coding schemes described in ITU-T Recommendation X.213,
annex A are supported in 3GPP networks
As an exception to the rules above, the MSISDN shall take the dummy MSISDN
value composed of 15 digits set to 0 (encoded as an international E.164
number) when the MSISDN is not available in messages in which the presence of
the MSISDN parameter is required for backward compatibility reason. See the
relevant stage 3 specifications.
## 3.4 Mobile Station Roaming Number (MSRN) for PSTN/ISDN routeing
The Mobile Station Roaming Number (MSRN) is used to route calls directed to an
MS. On request from the Gateway MSC via the HLR it is temporarily allocated to
an MS by the VLR with which the MS is registered; it addresses the Visited MSC
collocated with the assigning VLR. More than one MSRN may be assigned
simultaneously to an MS.
The MSRN is passed by the HLR to the Gateway MSC to route calls to the MS.
The Mobile Station Roaming Number for PSTN/ISDN routing shall have the same
structure as international E.164 numbers in the area in which the roaming
number is allocated, i.e.:
\- the country code of the country in which the visitor location register is
located;
\- the national destination code of the visited PLMN or numbering area;
\- a subscriber number with the appropriate structure for that numbering area.
The MSRN shall not be used for subscriber dialling. It should be noted that
the MSRN can be identical to the MSISDN (clause 3.3) in certain circumstances.
In order to discriminate between subscriber generated access to these numbers
and re‑routeing performed by the network, re‑routeing or redirection
indicators or other signalling means should be used, if available.
## 3.5 Structure of Mobile Station International Data Number
The structure of MS international data numbers should comply with the data
numbering plan of ITU-T Recommendation X.121 as applied in the home country of
the mobile subscriber. Implications for numbering interworking functions which
may need to be provided by the PLMN (if the use of X.121 numbers is required)
are indicated in 3GPP TS 23.070 [4].
## 3.6 Handover Number
The handover number is used for establishment of a circuit between MSCs to be
used for a call being handed over. The structure of the handover number is the
same as the structure of the MSRN. The handover number may be reused in the
same way as the MSRN.
## 3.7 Structure of an IP v4 address
One or more IP address domains may be allocated to each PLMN. The IP v4
address structure is defined in RFC 791 [14].
An IP v4 address may be allocated to an MS either permanently or temporarily
during a connection with the network.
## 3.8 Structure of an IP v6 address
One or more IP address domains could be allocated to each PLMN. The IP v6
address structure is defined in RFC 2373 [15].
An IP v6 address may be allocated to an MS either permanently or temporarily
during a connection with the network
If the dynamic IPv6 stateless address autoconfiguration procedure is used,
then each PDP context, or group of PDP contexts sharing the same IP address,
is assigned a unique prefix as defined in 3GPP TS 23.060 [3].
As described in RFC 2462 [21] and RFC 3041 [22], the MS can change its
interface identifier without the GPRS network being aware of the change.
# 4 Identification of location areas and base stations
## 4.1 Composition of the Location Area Identification (LAI)
The Location Area Identification shall be composed as shown in figure 3:
Figure 3: Structure of Location Area Identification
The LAI is composed of the following elements:
\- Mobile Country Code (MCC) identifies the country in which the GSM PLMN is
located. The value of the MCC is the same as the three digit MCC contained in
international mobile subscriber identity (IMSI);
\- Mobile Network Code (MNC) is a code identifying the GSM PLMN in that
country. The MNC takes the same value as the two or three digit MNC contained
in IMSI;
\- Location Area Code (LAC) is a fixed length code (of 2 octets) identifying a
location area within a PLMN. This part of the location area identification can
be coded using a full hexadecimal representation except for the following
reserved hexadecimal values:
0000, and
FFFE.
These reserved values are used in some special cases when no valid LAI exists
in the MS (see 3GPP TS 24.008 [5], 3GPP TS 31.102 [27] and 3GPP TS 51.011
[9]).
## 4.2 Composition of the Routing Area Identification (RAI)
The Routing Area Identification shall be composed as shown in figure 4:
Figure 4: Structure of Routing Area Identification
The RAI is composed of the following elements:
\- A valid Location Area Identity (LAI) as defined in clause 4.1. Invalid LAI
values are used in some special cases when no valid RAI exists in the mobile
station (see 3GPP TS 24.008 [5], 3GPP TS 31.102 [27] and 3GPP TS 51.011 [9]).
\- Routeing Area Code (RAC) which is a fixed length code (of 1 octet)
identifying a routeing area within a location area.
## 4.3 Base station identification
### 4.3.1 Cell Identity (CI) and Cell Global Identification (CGI)
The BSS and cell within the BSS are identified within a location area or
routeing area by adding a Cell Identity (CI) to the location area or routeing
area identification, as shown in figure 5. The CI is of fixed length with 2
octets and it can be coded using a full hexadecimal representation.
The Cell Global Identification is the concatenation of the Location Area
Identification and the Cell Identity. Cell Identity shall be unique within a
location area.
Figure 5: Structure of Cell Global Identification
### 4.3.2 Base Station Identify Code (BSIC)
The base station identity code is a local colour code that allows an MS to
distinguish between different neighbouring base stations. BSIC is a 6 bit code
which is structured as shown in Figure 6. Exceptions apply to networks
supporting EC-GSM-IoT or PEO and for mobile stations in EC or PEO operation
(see 3GPP TS 43.064 [112]) where the BSIC is a 9 bit code which is structured
as shown in Figure 6a.
Figure 6: Structure of 6 bit BSIC
Figure 6a: Structure of 9 bit BSIC
In the definition of the NCC, care should be taken to ensure that the same NCC
is not used in adjacent PLMNs which may use the same BCCH carrier frequencies
in neighbouring areas. Therefore, to prevent potential deadlocks, a definition
of the NCC appears in annex A. This annex will be reviewed in a co-ordinated
manner when a PLMN is created.
In addition to the above, the GERAN networks should be configured so that:
\- in a cell shared between different PLMNs as per GERAN network sharing (see
3GPP TS 44.018 [99] and 3GPP TS 44.060 [100]), the NCC used in this cell is
different from the NCC used in the neighbouring non-shared cells of these
PLMNs; and that
\- these PLMNs use different NCCs in non-shared cells neighbouring this shared
cell.
Furthermore, GERAN networks supporting the 9 bit BSIC shall also support the 6
bit BSIC field and when supporting both the 6 bit BSIC and 9 bit BSIC the
network shall ensure that the NCC and BCC parts are identical between the 6
bit and 9 bit BSIC fields.
## 4.4 Regional Subscription Zone Identity (RSZI)
A PLMN-specific regional subscription defines unambiguously for the entire
PLMN the regions in which roaming is allowed. It consists of one or more
regional subscription zones. The regional subscription zone is identified by a
Regional Subscription Zone Identity (RSZI). A regional subscription zone
identity is composed as shown in figure 7.
Figure 7: Structure of Regional Subscription Zone Identity (RSZI)
The elements of the regional subscription zone identity are:
1) the Country Code (CC) which identifies the country in which the PLMN is
located;
2) the National Destination Code (NDC) which identifies the PLMN in that
country;
3) the Zone Code (ZC) which identifies a regional subscription zone as a
pattern of allowed and not allowed location areas uniquely within that PLMN.
CC and NDC are those of an ITU-T E.164 VLR or SGSN number (see clause 5.1) of
the PLMN; they are coded with a trailing filler, if required. ZC has fixed
length of two octets and is coded in full hexadecimal representation.
RSZIs, including the zone codes, are assigned by the VPLMN operator. The zone
code is evaluated in the VLR or SGSN by information stored in the VLR or SGSN
as a result of administrative action. If a zone code is received by a VLR or
SGSN during updating by the HLR and this zone code is related to that VLR or
SGSN, the VLR or SGSN shall be able to decide for all its MSC or SGSN areas
and all its location areas whether they are allowed or not allowed.
For details of assignment of RSZI and of ZC as subscriber data see 3GPP TS
23.008 [2].
For selection of RSZI at location updating by comparison with the leading
digits of the VLR or SGSN number and for transfer of ZC from the HLR to VLR
and SGSN see 3GPP TS 29.002 [31].
## 4.5 Location Number
A location number is a number which defines a specific location within a PLMN.
The location number is formatted according to ITU-T Recommendation E.164, as
shown in figure 8. The Country Code (CC) and National Destination Code (NDC)
fields of the location number are those which define the PLMN of which the
location is part.
Figure 8: Location Number Structure
The structure of the locally significant part (LSP) of the location number is
a matter for agreement between the PLMN operator and the national numbering
plan administrator in the PLMN\'s country. It is desirable that the location
number can be interpreted without the need for detailed knowledge of the
internal structure of the PLMN; the LSP should therefore include the national
destination code in the national numbering plan for the fixed network which
defines the geographic area in which the location lies.
The set of location numbers for a PLMN shall be chosen so that a location
number can be distinguished from the MSISDN of a subscriber of the PLMN. This
will allow the PLMN to trap attempts by users to dial a location number.
## 4.6 Composition of the Service Area Identification (SAI)
Void (see clause 12.5).
## 4.7 Closed Subscriber Group
A Closed Subscriber Group consists of a single cell or a collection of cells
within an E‑UTRAN and UTRAN that are open to only a certain group of
subscribers.
Within a PLMN, a Closed Subscriber Group is identified by a Closed Subscriber
Group Identity (CSG-ID). The CSG‑ID shall be fix length 27 bit value.
## 4.8 HNB Name
HNB Name shall be a broadcast string in free text format that provides a human
readable name for the Home NodeB or Home eNodeB CSG identity.
HNB Name shall be coded in UTF-8 format with variable number of bytes per
character. The maximum length of HNB Name shall be 48 bytes.
See 3GPP TS 22.011 [83] for details.
## 4.9 CSG Type
CSG Type shall provide the type of a CSG identity in a human readable form. It
shall reside in the UE only. See 3GPP TS 22.011 [83] for details.
When the CSG Type has a text component, the CSG Type shall be coded in UTF-8
format with variable number of bytes per character . The maximum text length
shall not exceed 12 characters in any language.
## 4.10 HNB Unique Identity
HNB Unique Identity uniquely identifies a Home NodeB or Home eNodeB.
The HNB unique identity shall be defined as either a 48-bit or 64-bit extended
unique identifier (EUI-48 or EUI-64) as defined in [45] (EUI-48) and [46]
(EUI-64).
For use in HNB certificates, the HNB Unique Identity shall be transformed into
a FQDN in the form:
\- \.\
\ is the first label which shall be the EUI-48 or EUI-64,
represented as a string of 12 or 16 hexadecimal digits including any leading
zeros. \ denotes the realm which may consist of 3 labels , e.g. hnb.
femtocellvendor.com.
## 4.11 HRNN
HRNN shall be a broadcast string in free text format that provides a human
readable name for manual CAG or SNPN selection.
HRNN shall be coded in UTF-8 format with variable number of bytes per
character. The maximum length of HRNN shall be 48 bytes.
See 3GPP TS 23.501 [119] and 3GPP TS 38.331 [138] for details.
# 5 Identification of MSCs, GSNs, location registers and CSSs
## 5.1 Identification for routeing purposes
MSCs, GSNs, location registers and CSSs are identified by international E.164
numbers and/or Signalling Point Codes (\"entity number\", i.e., \"HLR
number\", \"VLR number\", \"MSC number\", \"SGSN number\", \"GGSN number\" and
\"CSS number\") in each PLMN.
MMEs that support \"SMS in MME\" are identified by international PSTN/ISDN
numbers for SM Routing via an IWF (i.e. \"MME number for MT SMS\").
Additionally SGSNs and GGSNs are identified by GSN Addresses. These are the
SGSN Address and the GGSN Address.
A GSN Address shall be composed as shown in figure 9.
Figure 9: Structure of GSN Address
The GSN Address is composed of the following elements:
1) The Address Type, which is a fixed length code (of 2 bits) identifying the
type of address that is used in the Address field.
2) The Address Length, which is a fixed length code (of 6 bits) identifying
the length of the Address field.
3) The Address, which is a variable length field which contains either an IPv4
address or an IPv6 address.
Address Type 0 and Address Length 4 are used when Address is an IPv4 address.
Address Type 1 and Address Length 16 are used when Address is an IPv6 address.
The IP v4 address structure is defined in RFC 791 [14].
The IP v6 address structure is defined in RFC 2373 [15].
## 5.2 Identification of HLR for HLR restoration application
HLR may also be identified by one or several \"HLR id(s)\", consisting of the
leading digits of the IMSI (MCC + MNC + leading digits of MSIN).
## 5.3 Identification of the HSS for SMS
The HSS may also be identified by a HSS-ID.
The HSS-ID shall consist of decimal digits (0 through 9) only and be composed
of the MCC consisting of three digits, the MNC consisting of two or three
digits and an index consisting of one to several digits. The number of digits
in the HSS-ID shall not exceed 15. This composition is compatible with the
IMSI one. The HSS-ID shall not be identical to the complete IMSI of a UE.
NOTE: The composition of the HSS-ID is compatible with the composition of the
IMSI in clause 2.2 for routing purposes.
# 6 International Mobile Station Equipment Identity, Software Version Number
and Permanent Equipment Identifier
## 6.1 General
The structure and allocation principles of the International Mobile station
Equipment Identity and Software Version number (IMEISV) and the International
Mobile station Equipment Identity (IMEI) are defined below.
The Mobile Station Equipment is uniquely defined by the IMEI or the IMEISV.
## 6.2 Composition of IMEI and IMEISV
### 6.2.1 Composition of IMEI
The International Mobile station Equipment Identity (IMEI) is composed as
shown in figure 10.
Figure 10: Structure of IMEI
The IMEI is composed of the following elements (each element shall consist of
decimal digits only):
\- Type Allocation Code (TAC). Its length is 8 digits;
\- Serial Number (SNR) is an individual serial number uniquely identifying
each equipment within the TAC. Its length is 6 digits;
\- Check Digit (CD) / Spare Digit (SD): If this is the Check Digit see
paragraph below; if this digit is Spare Digit it shall be set to zero, when
transmitted by the MS.
The IMEI (14 digits) is complemented by a Check Digit (CD). The Check Digit is
not part of the digits transmitted when the IMEI is checked, as described
below. The Check Digit is intended to avoid manual transmission errors, e.g.
when customers register stolen MEs at the operator\'s customer care desk. The
Check Digit is defined according to the Luhn formula, as defined in annex B.
NOTE: The Check Digit is not applied to the Software Version Number.
The security requirements of the IMEI are defined in 3GPP TS 22.016 [32].
### 6.2.2 Composition of IMEISV
The International Mobile station Equipment Identity and Software Version
Number (IMEISV) is composed as shown in figure 11.
Figure 11: Structure of IMEISV
The IMEISV is composed of the following elements (each element shall consist
of decimal digits only):
\- Type Allocation Code (TAC). Its length is 8 digits;
\- Serial Number (SNR) is an individual serial number uniquely identifying
each equipment within each TAC. Its length is 6 digits;
\- Software Version Number (SVN) identifies the software version number of the
mobile equipment. Its length is 2 digits.
Regarding updates of the IMEISV: The security requirements of 3GPP TS 22.016
[32] apply only to the TAC and SNR, but not to the SVN part of the IMEISV.
## 6.3 Allocation principles
The Type Allocation Code (TAC) is issued by the GSM Association in its
capacity as the Global Decimal Administrator. Further information can be found
in the GSMA TS.06 [109] .
Manufacturers shall allocate individual serial numbers (SNR) in a sequential
order.
For a given ME, the combination of TAC and SNR used in the IMEI shall
duplicate the combination of TAC and SNR used in the IMEISV.
The Software Version Number is allocated by the manufacturer. SVN value 99 is
reserved for future use.
## 6.4 Permanent Equipment Identifier (PEI)
In 5GS, the Permanent Equipment Identifier (PEI) identifies a UE.
The PEI is defined as:
\- a PEI type: in this release of the specification, it may indicate an IMEI
or IMEISV, a MAC address or an IEEE Extended Unique Identifier (EUI-64); and
\- dependent on the value of the PEI type:
\- an IMEI as defined in clause 6.2.1; or
\- an IMEISV as defined in clause 6.2.2; or
\- a MAC address (48-bit MAC identifier, as defined in IETF RFC 7042 [132]);
or
\- an IEEE Extended Unique Identifier (EUI-64), for UEs not supporting any
3GPP access technologies, as defined in IEEE \"Guidelines for Use of Extended
Unique Identifier (EUI), Organizationally Unique Identifier (OUI), and Company
ID (CID)\" [136].
# 7 Identification of Voice Group Call and Voice Broadcast Call Entities
## 7.1 Group Identities
Logical groups of subscribers to the Voice Group Call Service or to the Voice
Broadcast Service are identified by a Group Identity (Group ID). Group IDs for
VGCS are unique within a PLMN. Likewise, Group IDs for VBS are unique within a
PLMN. However, no uniqueness is required between the sets of Group IDs. These
sets may be intersecting or even identical, at the option of the network
operator.
The Group ID is a number with a maximum value depending on the composition of
the voice group call reference or voice broadcast call reference defined in
clause 7.3.
For definition of Group ID on the radio interface, A interface and Abis
interface, see 3GPP TS 44.068 [46] and 3GPP TS 44.069 [47].
For definition of Group ID coding on MAP protocol interfaces, see 3GPP TS
29.002 [31].
VGCS or VBS shall also be provided for roaming. If this applies, certain Group
IDs shall be defined as supra-PLMN Group IDs which have to be co-ordinated
between the network operators and which shall be known in the networks and in
the SIM.
The format of the Group ID is identical for VBS and VGCS.
## 7.2 Group Call Area Identification
Grouping of cells into specific group call areas occurs in support of both the
Voice Group Call Service and the Voice Broadcast Service. These service areas
are known by a \"Group Call Area Identity\" (Group Call Area Id). No
restrictions are placed on what cells may be grouped into a given group call
area.
The Group Call Area ID is a number uniquely assigned to a group call area in
one network and with a maximum value depending on the composition of the voice
group call reference or voice broadcast reference defined under 7.3.
The formats of the Group Call Area ID for VGCS and the Group Call Area ID for
VBS are identical.
## 7.3 Voice Group Call and Voice Broadcast Call References
Specific instances of voice group calls (VGCS) and voice broadcast calls (VBS)
within a given group call area are known by a \"Voice Group Call Reference\"
or by a \"Voice Broadcast Call Reference\" respectively.
Each voice group call or voice broadcast call in one network is uniquely
identified by its Voice Group Call Reference or Voice Broadcast Call
Reference. The Voice Group Call Reference or Voice Broadcast Call Reference is
composed of the Group ID and the Group Call Area ID. The composition of the
group call area ID and the group ID can be specific for each network operator.
For definition of Group Call Reference (with leading zeros inserted as
necessary) on the radio interface, A interface and Abis interface, see 3GPP TS
24.008 [5], 3GPP TS 44.068 [46] and 3GPP TS 44.069 [47].
For definition of Group Call Reference (also known as ASCI Call Reference,
Voice Group Call Reference or Voice Broadcast Call Reference) coding on MAP
protocol interfaces, see 3GPP TS 29.002 [31].
The format is given in figure 12.
Figure 12: Voice Group Call Reference / Voice Broadcast Call Reference
# 8 SCCP subsystem numbers
Subsystem numbers are used to identify applications within network entities
which use SCCP signalling. In GSM and UMTS, subsystem numbers may be used
between PLMNs, in which case they are taken from the globally standardized
range (1 - 31) or the part of the national network range (129 - 150) reserved
for GSM/UMTS use between PLMNs. For use within a PLMN, they are taken from the
part of the national network range (32 - 128 & 151 - 254) not reserved for
GSM/UMTS use between PLMNs.
## 8.1 Globally standardized subsystem numbers used for GSM/UMTS
The following globally standardised subsystem numbers have been allocated for
use by GSM/UMTS:
0000 0110 HLR (MAP);
0000 0111 VLR (MAP);
0000 1000 MSC (MAP);
0000 1001 EIR (MAP);
0000 1010 is allocated for evolution (possible Authentication Centre).
## 8.2 National network subsystem numbers used for GSM/UMTS
The following national network subsystem numbers have been allocated for use
within GSM/UMTS networks:
1111 1000 CSS (MAP);
1111 1001 PCAP;
1111 1010 BSC (BSSAP-LE);
1111 1011 MSC (BSSAP-LE);
1111 1100 SMLC (BSSAP-LE);
1111 1101 BSS O&M (A interface);
1111 1110 BSSAP (A interface).
The following national network subsystem numbers have been allocated for use
within and between GSM/UMTS networks:
1000 1110 RANAP;
1000 1111 RNSAP;
1001 0001 GMLC (MAP);
1001 0010 CAP;
1001 0011 gsmSCF (MAP) or IM-SSF (MAP) or Presence Network Agent;
1001 0100 SIWF (MAP);
1001 0101 SGSN (MAP);
1001 0110 GGSN (MAP).
# 9 Definition of Access Point Name
In the GPRS backbone, an Access Point Name (APN) is a reference to a GGSN. To
support inter-PLMN roaming, the internal GPRS DNS functionality is used to
translate the APN into the IP address of the GGSN.
# 9A Definition of Data Network Name
In 5GS, the Data Network Name (DNN) is equivalent to an APN in EPS. The DNN is
a reference to a data network, it may be used e.g. to select SMF or UPF.
The requirements for APN in clause 9 shall apply for DNN in a 5GS as well.
In SNPNs the DNN Operator Identifier shall take the format
\"nid\.mnc\.mcc\.gprs\"
where:
\"nid\",\"mnc\" and \"mcc\" serve as invariable identifiers for the following
digits.
## 9.0 General
Access Point Name as used in the Domain Name System (DNS) Procedures defined
in 3GPP TS 29.303 [73] is specified in clause 19.4.2.2.
## 9.1 Structure of APN
The APN is composed of two parts as follows:
\- The APN Network Identifier; this defines to which external network the
GGSN/PGW is connected and optionally a requested service by the MS. This part
of the APN is mandatory.
\- The APN Operator Identifier; this defines in which PLMN GPRS/EPS backbone
the GGSN/PGW is located. This part of the APN is optional.
NOTE 1: The APN Operator Identifier is mandatory on certain interfaces, see
the relevant stage 3 specifications.
The APN Operator Identifier is placed after the APN Network Identifier. An APN
consisting of both the Network Identifier and Operator Identifier corresponds
to a DNS name of a GGSN/PGW; the APN has, after encoding as defined in the
paragraph below, a maximum length of 100 octets.
The encoding of the APN shall follow the Name Syntax defined in RFC 2181 [18],
RFC 1035 [19] and RFC 1123 [20]. The APN consists of one or more labels. Each
label is coded as a one octet length field followed by that number of octets
coded as 8 bit ASCII characters. Following RFC 1035 [19] the labels shall
consist only of the alphabetic characters (A-Z and a-z), digits (0-9) and the
hyphen (-). Following RFC 1123 [20], the label shall begin and end with either
an alphabetic character or a digit. The case of alphabetic characters is not
significant. The APN is not terminated by a length byte of zero.
NOTE 2: A length byte of zero is added by the SGSN/MME at the end of the APN
before interrogating a DNS server.
For the purpose of presentation, an APN is usually displayed as a string in
which the labels are separated by dots (e.g. \"Label1.Label2.Label3\").
### 9.1.1 Format of APN Network Identifier
The APN Network Identifier shall contain at least one label and shall have,
after encoding as defined in clause 9.1 above, a maximum length of 63 octets.
An APN Network Identifier shall not start with any of the strings \"rac\",
\"lac\", \"sgsn\" or \"rnc\", and it shall not end in \".gprs\", i.e. the last
label of the APN Network Identifier shall not be \"gprs\". Further, it shall
not take the value \"*\".
In order to guarantee uniqueness of APN Network Identifiers within or between
GPRS/EPS PLMN, an APN Network Identifier containing more than one label shall
correspond to an Internet domain name. This name should only be allocated by
the PLMN if that PLMN belongs to an organisation which has officially reserved
this name in the Internet domain. Other types of APN Network Identifiers are
not guaranteed to be unique within or between GPRS/EPS PLMNs.
An APN Network Identifier may be used to access a service associated with a
GGSN/PGW. This may be achieved by defining:
\- an APN which corresponds to a FQDN of a GGSN/PGW, and which is locally
interpreted by the GGSN/PGW as a request for a specific service, or
\- an APN Network Identifier consisting of 3 or more labels and starting with
a Reserved Service Label, or an APN Network Identifier consisting of a
Reserved Service Label alone, which indicates a GGSN/PGW by the nature of the
requested service. Reserved Service Labels and the corresponding services they
stand for shall be agreed between operators who have GPRS/EPS roaming
agreements.
### 9.1.2 Format of APN Operator Identifier
The APN Operator Identifier is composed of three labels. The last label (or
domain) shall be \"gprs\". The first and second labels together shall uniquely
identify the GPRS/EPS PLMN.
For each operator, there is a default APN Operator Identifier (i.e. domain
name). This default APN Operator Identifier is derived from the IMSI as
follows:
\"mnc\.mcc\.gprs\"
where:
\"mnc\" and \"mcc\" serve as invariable identifiers for the following digits.
\ and \ are derived from the components of the IMSI defined in
clause 2.2.
This default APN Operator Identifier is used for home routed inter-PLMN
roaming situations when attempting to translate an APN consisting only of a
Network Identifier into the IP address of the GGSN/PGW in the HPLMN. The PLMN
may provide DNS translations for other, more human-readable, APN Operator
Identifiers in addition to the default Operator Identifier described above.
Alternatively, in the roaming case if the GGSN/PGW from the VPLMN is to be
selected, the APN Operator Identifier for the UE is constructed from the
serving network PLMN ID. In this case, the APN-OI replacement field, if
received, shall be ignored.
In order to guarantee inter-PLMN DNS translation, the \ and \ coding
used in the \"mnc\.mcc\.gprs\" format of the APN OI shall be:
\- \ = 3 digits
\- \ = 3 digits
\- If there are only 2 significant digits in the MNC, one \"0\" digit is
inserted at the left side to fill the 3 digits coding of MNC in the APN OI.
As an example, the APN OI for MCC 345 and MNC 12 will be coded in the DNS as
\"mnc012.mcc345.gprs\".
The APN-OI replacement is used for selecting the GGSN/PGWfor non-roaming and
home routed scenarios. The format of the domain name used in the APN-OI
replacement field (as defined in 3GPP TS 23.060 [3] and 3GPP TS 23.401 [72])
is the same as the default APN-OI as defined above except that it may be
preceded by one or more labels each separated by a dot. It is up to the
operators to determine what labels shall precede the
\"mnc\.mcc\.gprs\" trailing labels (see clause 5.1.1.1 in TS 29.303
[73] and also clause 13.1 in TS 23.060 [3]).
EXAMPLE 1: province1.mnc012.mcc345.gprs
EXAMPLE 2: ggsn-cluster-A.provinceB.mnc012.mcc345.gprs
The APN constructed using the APN-OI replacement field is only used for DNS
translation. The APN when being sent to other network entities over GTP
interfaces shall follow the rules as specified in 3GPP TS 23.060 [3] and 3GPP
TS 23.401 [72].
## 9.2 Definition of the Wild Card APN
The APN field in the HLR may contain a wild card APN if the HPLMN operator
allows the subscriber to access any network of a given PDP Type. If an SGSN
has received such a wild card APN, it may either choose the APN Network
Identifier received from the Mobile Station or a default APN Network
Identifier for addressing the GGSN when activating a PDP context.
### 9.2.1 Coding of the Wild Card APN
The wild card APN is coded as an APN with \"*\" as its single label, (i.e. a
length octet with value one, followed by the ASCII code for the asterisk).
## 9.3 Definition of Emergency APN
The Emergency APN (Em-APN) is an APN used to derive a PDN GW selected for IMS
Emergency call support. The exact encoding of the Em-APN is the responsibility
of each PLMN operator as it is only valid within a given PLMN.
# 10 Identification of the Cordless Telephony System entities
## 10.1 General description of CTS‑MS and CTS‑FP Identities
Every CTS‑FP broadcasts a local identity - the Fixed Part Beacon Identity
(FPBI) - which contains an Access Rights Identity. Every CTS‑MS has both an
Access Rights Key and a CTS Mobile Subscriber Identity (CTSMSI). These operate
as a pair. A CTS‑MS is allowed to access any CTS‑FP which broadcasts an FPBI
which can be identified by any of the CTS‑MS Access Rights Keys of that
CTS‑MS. The CTS‑MS Access Rights Key contains the FPBI and the FPBI Length
Indicator (FLI) indicating the relevant part of the FPBI used to control
access.
## 10.2 CTS Mobile Subscriber Identities
### 10.2.1 General
Each CTS‑MS has one or more temporary identities which are used for paging and
to request access. The structure and allocation principles of the CTS Mobile
Subscriber Identities (CTSMSI) are defined below.
### 10.2.2 Composition of the CTSMSI
bit No 22 1
+-------------------------------------------+
\| \| \|
+----------------------+
Type\|\\|
CTSMSI 22 bits
\
Figure 13: Structure of CTSMSI
The CTSMSI is composed of the following elements:
\- CTSMSI Type. Its length is 2 bits;
\- Significant Part. Its length is 20 bits.
The following CTSMSI Type values have been allocated for use by CTS:
00 Default Individual CTSMSI;
01 Reserved;
10 Assigned Individual CTSMSI;
11 Assigned Connectionless Group CTSMSI.
### 10.2.3 Allocation principles
The default Individual CTSMSI contains the least significant portion of the
IMSI. This is the default CTS‑MS identity.
Assigned CTSMSIs are allocated by the CTS‑FP during enrolment, registration
and other access procedures. Significant Part of the assigned CTSMSI shall be
allocated in the range 00001-FFFFE. CTS‑FP shall not allocate Significant Part
equal to 00000 or to FFFFF and shall not allocate Assigned CTSMSI using
Reserved Type value. Such assignments shall be ignored by the CTS‑MS.
Assigned CTSMSIs are allocated in ciphered mode.
NOTE: The assigned individual CTSMSI should be updated whenever it is sent in
clear text on the CTS radio interface during RR connection establishment.
The value FFFFF from the set of Assigned Connectionless Group CTSMSI shall be
considered in all CTS‑MS as the value of the Connectionless Broadcast
Identifier.
### 10.2.4 CTSMSI hexadecimal representation
The 22 bits of CTSMSI are padded with 2 leading zeroes to give a 6 digit
hexadecimal value.
EXAMPLE: binary CTSMSI value: 11 1001 0010 0000 1011 1100
hexadecimal CTSMSI value: 39 20 BC.
## 10.3 Fixed Part Beacon Identity
### 10.3.1 General
Each CTS‑FP has one Fixed Part Beacon Identity known by the enrolled CTS‑MSs.
The FPBI is periodically broadcast on the BCH logical channel so that the
CTS‑MSs are able to recognise the identity of the CTS‑FP. The FPBI contains an
Access Rights Identity.
Enrolled CTS‑MSs shall store the FPBI to which their assigned CTSMSIs are
related.
Below the structure and allocation principles of the Fixed Part Beacon
Identity (FPBI) are defined.
### 10.3.2 Composition of the FPBI
#### 10.3.2.1 FPBI general structure
bit No 19 1
+-------------------------------------+
\| \| \|
+-------------------+
Type\| Significant Part \|
FPBI 19 bits
\
Figure 14: General structure of FPBI
The FPBI is composed of the following elements:
\- FPBI Type. Its length is 2 bits;
\- FPBI Significant Part. Its length is 17 bits.
NOTE: The three LSBs bits of the FPBI form the 3-bit training sequence code
(TSC). See 3GPP TS 45.056 [35].
The following FPBI Type values have been allocated for use by CTS:
00 FPBI class A: residential and single-cell systems;
01 FPBI class B: multi-cell PABXs.
All other values are reserved and CTS‑MSs shall treat these values as FPBI
class A.
#### 10.3.2.2 FPBI class A
This class is intended to be used for small residential and private (PBX)
single cell CTS‑FP.
bit No 19 1
+-------------------------------------+
\|0 0\| \|
+-------------------+
Type\| FPN \|
FPBI 19 bits
\
Figure 15: Structure of FPBI class A
The FPBI class A is composed of the following elements:
\- FPBI Class A Type. Its length is 2 bits and its value is 00;
\- Fixed Part Number (FPN). Its length is 17 bits. The FPN contains the least
significant bits of the Serial Number part of the IFPEI.
The FPBI Length Indicator shall be set to 19 for a class A FPBI.
#### 10.3.2.3 FPBI class B
This class is reserved for more complex private installation such as multi-
cell PABXs.
bit No 19 1
+-------------------------------------+
\|0 1\| \|
+-------------------+
Type\| CNN + FPN + RPN \|
FPBI 19 bits
\
Figure 16: Structure of FPBI class B
The FPBI class B is composed of the following elements:
\- FPBI Class B Type. Its length is 2 bits and its value is 01;
\- CTS Network Number (CNN). Its length is defined by the manufacturer or the
system installer;
\- Fixed Part Number (FPN). Its length is defined by the manufacturer or the
system installer;
\- Radio Part Number (RPN) assigned by the CTS manufacturer or system
installer. Its length is defined by the manufacturer or the system installer.
NOTE: RPN is used to separate a maximum of 2^RPN\ length^ different cells from
each other. This defines a cluster of cells supporting intercell handover. RPN
length is submitted to a CTS‑MS as a result of a successful attachment.
The FPBI Length Indicator shall be set to (2 + CNN Length) for a class B FPBI.
### 10.3.3 Allocation principles
The FPBI shall be allocated during the CTS‑FP initialisation procedure. Any
change to the value of the FPBI of a given CTS‑FP shall be considered as a
CTS‑FP re-initialisation; i.e. each enrolled CTS‑MS needs to be enrolled
again.
FPBI are not required to be unique (i.e. several CTS‑FP can have the same FPBI
in different areas). Care should be taken to limit CTS‑MS registration
attempts to a fixed part with the same FPBI as another fixed part.
## 10.4 International Fixed Part Equipment Identity
### 10.4.1 General
The structure and allocation principles of the International Fixed Part
Equipment Identity (IFPEI) are defined below.
### 10.4.2 Composition of the IFPEI
6 digits 2d 6 digits 2d
\\\\
+-----------++---++-----------++---+
\| \|\| \|\| \|\| \|
+------++--++------++--+
TAC FAC SNR SVN
IFPEI 16 digits
\<>
Figure 17: Structure of IFPEI
The IFPEI is composed of the following elements (each element shall consist of
decimal digits only):
\- Type Approval Code (TAC). Its length is 6 decimal digits;
\- Final Assembly Code (FAC). Its length is 2 decimal digits;
\- Serial NumbeR (SNR). Its length is 6 decimal digits;
\- Software Version Number (SVN) identifies the software version number of the
fixed part equipment. Its length is 2 digits.
Regarding updates of the IFPEI: the TAC, FAC and SNR shall be physically
protected against unauthorised change (see 3GPP TS 42.009 [36]); i.e. only the
SVN part of the IFPEI can be modified.
### 10.4.3 Allocation and assignment principles
The Type Approval Code (TAC) is issued by a global administrator.
The place of final assembly (FAC) is encoded by the manufacturer.
Manufacturers shall allocate unique serial numbers (SNR) in a sequential
order.
The Software Version Number (SVN) is allocated by the manufacturer after
authorisation by the type approval authority. SVN value 99 is reserved for
future use.
## 10.5 International Fixed Part Subscription Identity
### 10.5.1 General
The structure and allocation principles of the International Fixed Part
Subscription Identity (IFPSI) are defined below.
### 10.5.2 Composition of the IFPSI
No more than 15 digits
\
3d 3d \|
\\\
+-----++-----++------//--------+
\| \|\| \|\| \|
+---++---++---//----+
MCC CON FPIN \|
NFPSI
\
IFPSI
\<>
Figure 18: Structure of IFPSI
The IFPSI is composed of the following elements (each element shall consist of
decimal digits only):
\- Mobile Country Code (MCC) consisting of three digits. The MCC identifies
the country of the CTS‑FP subscriber (e.g. 208 for France);
\- CTS Operator Number (CON). Its length is three digits;
\- Fixed Part Identification Number (FPIN) identifying the CTS‑FP subscriber.
The National Fixed Part Subscriber Identity (NFPSI) consists of the CTS
Operator Number and the Fixed Part Identification Number.
### 10.5.3 Allocation and assignment principles
IFPSI shall consist of decimal characters (0 to 9) only.
The allocation of Mobile Country Codes (MCCs) is administered by the ITU.
The allocation of CTS Operator Number (CON) and the structure of National
Fixed Part Subscriber Identity (NFPSI) may be responsibility of each national
numbering plan administrator.
CTS Operators shall allocate unique Fixed Part Identification Numbers.
# 11 Identification of Localised Service Area
Cells may be grouped into specific localised service areas. Each localised
service area is identified by a localised service area identity (LSA ID). No
restrictions are placed on what cells may be grouped into a given localised
service area.
The LSA ID can either be a PLMN significant number or a universal identity.
This shall be known both in the networks and in the SIM.
The LSA ID consists of 24 bits, numbered from 0 to 23, with bit 0 being the
LSB. Bit 0 indicates whether the LSA is a PLMN significant number or a
universal LSA. If the bit is set to 0 the LSA is a PLMN significant number; if
it is set to 1 it is a universal LSA.
The LSA ID shall be composed as shown in figure 19:
Figure 19: Structure of LSA ID
# 12 Identification of PLMN, RNC, Service Area, CN domain and Shared Network
Area
The following clauses describe identifiers which are used by both the CN and
the UTRAN across the Iu interface. For identifiers which are solely used
within the UTRAN, see 3GPP TS 25.401 [16].
NOTE: in the following clauses, the double vertical bar notation \|\|
indicates the concatenation operator.
## 12.1 PLMN Identifier
A Public Land Mobile Network is uniquely identified by its PLMN identifier.
PLMN-Id consists of Mobile Country Code (MCC) and Mobile Network Code (MNC).
\- PLMN-Id = MCC \|\| MNC
The MCC and MNC are predefined within a UTRAN, and set in the RNC via O&M.
## 12.2 CN Domain Identifier
A CN Domain Edge Node is identified within the UTRAN by its CN Domain
Identifier. The CN Domain identifier is used over UTRAN interfaces to identify
a particular CN Domain Edge Node for relocation purposes. The CN Domain
identifier for Circuit Switching (CS) consists of the PLMN-Id and the LAC,
whereas for Packet Switching (PS) it consists of the PLMN-Id, the LAC, and the
RAC of the first accessed cell in the target RNS.
The two following CN Domain Identifiers are defined:
\- CN CS Domain-Id = PLMN-Id \|\| LAC
\- CN PS Domain-Id = PLMN-Id \|\| LAC \|\| RAC
The LAC and RAC are defined by the operator, and set in the RNC via O&M.
For the syntax description and the use of this identifier in RANAP signalling,
see 3GPP TS 25.413 [17].
## 12.3 CN Identifier
A CN node is uniquely identified within a PLMN by its CN Identifier (CN-Id).
The CN-Id together with the PLMN identifier globally identifies the CN node.
The CN-Id together with the PLMN-Id is used as the CN node identifier in RANAP
signalling over the Iu interface.
\- Global CN-Id = PLMN-Id \|\| CN-Id
The CN-Id is defined by the operator, and set in the nodes via O&M.
For the syntax description and the use of this identifier in RANAP signalling,
see 3GPP TS 25.413 [17].
## 12.4 RNC Identifier
An RNC node is uniquely identified by its RNC Identifier (RNC-Id). The RNC-Id
of an RNC is used in the UTRAN, in a GERAN which is operating in GERAN Iu mode
and between them. A BSC which is part of a GERAN operating in Iu mode is
uniquely identified by its RNC Identifier (RNC-Id). The RNC-Id of a BSC is
used in a GERAN which is operating in GERAN Iu mode, in the UTRAN and between
them. RNC-Id together with the PLMN identifier globally identifies the RNC.
The RNC-Id on its own or the RNC-Id together with the PLMN-Id is used as the
RNC identifier in the UTRAN Iub, Iur and Iu interfaces. The SRNC-Id is the
RNC-Id of the SRNC. The C-RNC-Id is the RNC‑Id of the controlling RNC. The
D-RNC-Id is the RNC Id of the drift RNC.
\- Global RNC-Id = PLMN-Id \|\| RNC-Id
The RNC-Id is defined by the operator, and set in the RNC via O&M
For the syntax description and the use of this identifier in RANAP signalling,
see 3GPP TS 25.413 [17].
For the usage of this identifier on Iur-g, see 3GPP TS 43.130 [43].
## 12.5 Service Area Identifier
The Service Area Identifier (SAI) is used to identify an area consisting of
one or more cells belonging to the same Location Area. Such an area is called
a Service Area and can be used for indicating the location of a UE to the CN.
The Service Area Code (SAC) together with the PLMN-Id and the LAC constitute
the Service Area Identifier.
\- SAI = PLMN-Id \|\| LAC \|\| SAC
The SAC is defined by the operator, and set in the RNC via O&M.
For the syntax description and the use of this identifier in RANAP signalling,
see 3GPP TS 25.413 [17]. 3GPP TS 25.423 [37] and 3GPP TS 25.419 [38] define
the use of this identifier in RNSAP and SABP signalling.
A cell may belong to one or two Service Areas. If it belongs to two Service
Areas, one is applicable in the Broadcast (BC) domain and the other is
applicable in both the CS and PS domains.
The Broadcast (BC) domain requires that its Service Areas each consist of only
one cell. This does not limit the use of Service Areas for other domains.
Refer to 3GPP TS 25.410 [39] for a definition of the BC domain.
## 12.6 Shared Network Area Identifier
The Shared Network Area Identifier (SNA-Id) is used to identify an area
consisting of one or more Location Areas. Such an area is called a Shared
Network Area and can be used to grant access rights to parts of a Shared
Network to a UE in connected mode (see 3GPP TS 25.401 [39]).
The Shared Network Area Identifier consists of the PLMN-Id followed by the
Shared Network Area Code (SNAC).
\- SNA-Id = PLMN-Id \|\| SNAC
The SNAC is defined by the operator.
For the syntax description and the use of this identifier in RANAP signalling,
see 3GPP TS 25.413 [17].
## 12.7 Stand-Alone Non-Public Network Identifier
### 12.7.1 Network Identifier (NID)
A Stand-Alone Non-Public Network (SNPN) is identified by a combination of
PLMN-Identifier (see clause 12.1) and Network Identifier (NID) (see 3GPP TS
23.501 [119] clause 5.30.2).
The NID shall consist of 11 hexadecimal digits, one digit for representing an
assignment mode and 10 digits for a NID value, as shown in figure 12.7.1-1.
Figure 12.7.1-1: Network Identifier (NID)
The NID can be assigned using the following assignment models:
a) Self-assignment: NIDs are chosen individually by SNPNs at deployment time;
this assignment model is encoded by setting the assignment mode to value 1.
b) Coordinated assignment: NIDs are assigned using one of the following two
options:
\- option 1: the NID assigned such that it is globally unique independent of
the PLMN ID used. Option 1 of this assignment model is encoded by setting the
assignment mode to value 0.
\- option 2: the NID assigned such that the combination of the NID and the
PLMN ID is globally unique. Option 2 of this assignment model is encoded by
setting the assignment mode to value 2.
The self-assignment NID model should not be used, if UE accesses SNPN using
e.g. credentials from Credentials Holder via AAA Server, as specified in
clause 5.30.2.1 in 3GPP TS 23.501 [119].
Other Assignment mode values are spare, for future use.
### 12.7.2 NID of assignment mode 0
The NID value of a NID of the assignment mode 0 consists of a NID PEN and a
NID code, as shown in figure 12.7.2-1.
The NID PEN is a private enterprise number issued to service provider of the
SNPN by Internet Assigned Numbers Authority (IANA) in its capacity as the
private enterprise number administrator, as maintained at
https://www.iana.org/assignments/enterprise-numbers/enterprise-numbers
Note: The private enterprise number issued by IANA is a decimal number that
needs to be converted to a fixed length 8 digit hexadecimal number when used
within the NID. E.g. 32473 is converted to 00007ed9.
The NID code identifies the SNPN within the service provider identified by the
NID PEN.
Figure 12.7.2-1: NID of assignment mode 0
### 12.7.3 Group ID for Network Selection (GIN)
The \"Group ID for Network Selection\" (GIN) identifies a group (e.g. a
consortium) of Credential Holders or Default Credential Servers (see 3GPP TS
23.501 [119], clause 5.30.2) that can be used to authenticate and authorize
the access to an SNPN; the GIN is used during SNPN selection by the UE to
enhance the likelihood of selecting a preferred SNPN.
The GIN has the same structure as the SNPN identifier (see clause 12.7.1) and
shall consist of MCC, MNC and NID, where the NID contains 44 bits, i.e. 11
hexadecimal digits; one digit (4 bits) for representing an assignment mode and
10 digits (40 bits) for a NID value, as shown in figure 12.7.1-1.
The GIN can be assigned using the following assignment models:
a) Self-assignment: GINs are chosen individually and may therefore not be
unique; this assignment model is encoded by setting the assignment mode to
value 1.
b) Coordinated assignment: GINs are assigned using one of the following two
options:
\- option 1: the GIN is assigned such that the NID is globally unique
independent of the PLMN ID used. Option 1 of this assignment model is encoded
by setting the assignment mode to value 0.
\- option 2: the GIN is assigned such that the combination of the NID and the
PLMN ID is globally unique. Option 2 of this assignment model is encoded by
setting the assignment mode to value 2.
Other Assignment mode values are spare, for future use.
# 13 Numbering, addressing and identification within the IP multimedia core
network subsystem
## 13.1 Introduction
This clause describes the format of the parameters needed to access the IP
multimedia core network subsystem. For further information on the use of the
parameters see 3GPP TS 23.228 [24] and 3GPP TS 29.163 [63]. For more
information on the \".3gppnetwork.org\" domain name and its applicability, see
Annex D of the present document. For more information on the \".invalid\" top
level domain see IETF RFC 2606 [64].
## 13.2 Home network domain name
The home network domain name shall be in the form of an Internet domain name,
e.g. operator.com, as specified in IETF RFC 1035 [19] and IETF RFC 1123 [20].
The home network domain name consists of one or more labels. Each label shall
consist of the alphabetic characters (A-Z and a-z), digits (0-9) and the
hyphen (-) in accordance with IETF RFC 1035 [19]. Each label shall begin and
end with either an alphabetic character or a digit in accordance with IETF RFC
1123 [20]. The case of alphabetic characters is not significant.
For 3GPP systems, if there is no ISIM application, the UE shall derive the
home network domain name from the IMSI as described in the following steps:
1\. Take the first 5 or 6 digits, depending on whether a 2 or 3 digit MNC is
used (see 3GPP TS 31.102 [27]) and separate them into MCC and MNC; if the MNC
is 2 digits then a zero shall be added at the beginning.
2\. Use the MCC and MNC derived in step 1 to create the
\"mnc\.mcc\.3gppnetwork.org\" domain name.
3\. Add the label \"ims.\" to the beginning of the domain.
An example of a home network domain name is:
IMSI in use: 234150999999999;
where:
\- MCC = 234;
\- MNC = 15; and
\- MSIN = 0999999999,
which gives the home network domain name: ims.mnc015.mcc234.3gppnetwork.org.
The Home Network Domain for a Stand-alone Non-Public Network (SNPN) subscriber
with an IMSI-based SUPI type, shall use the IMSI-based derivation described
above, and append nid\ of the SNPN, between the \"ims.\" and
\"mnc\\" labels.
NOTE: The UE takes the NID from \"list of subscriber data\" as specified in
3GPP TS 23.122 [139], from the entry selected by the UE.
An example of a home SNPN network domain name using the above IMSI and NID
000007ed9d5 is ims.nid000007ed9d5.mnc015.mcc234.3gppnetwork.org.
The Home Network Domain for a Stand-alone Non-Public Network (SNPN) subscriber
identified by a SUPI containing a network-specific identifier that takes the
form of an NAI consists of the string \"ims.\" appended with the realm part of
the NAI.
For 3GPP2 systems, if there is no IMC present, the UE shall derive the home
network domain name as described in Annex C of 3GPP2 X.S0013-004 [67].
## 13.3 Private User Identity
The private user identity shall take the form of an NAI, and shall have the
form username\@realm as specified in clause 2.1 of IETF RFC 4282 [53].
NOTE 1: It is possible for a representation of the IMSI to be contained within
the NAI for the private identity.
For 3GPP systems, the private user identity used for the user shall be as
specified in clause 4.2 of 3GPP TS 24.229 [81] and in 3GPP TS 23.228 [24]
Annex E.3.1. If the private user identity is not known, the private user
identity shall be derived from the IMSI.
The following steps show how to build the private user identity out of the
IMSI:
1\. Use the whole string of digits as the username part of the private user
identity; and
2\. convert the leading digits of the IMSI, i.e. MNC and MCC, into a domain
name, as described in clause 13.2.
The result will be a private user identity of the form
\"\\@ims.mnc\.mcc\.3gppnetwork.org\". For example: If the IMSI
is 234150999999999 (MCC = 234, MNC = 15), the private user identity then takes
the form \"234150999999999\@ims.mnc015.mcc234.3gppnetwork.org\"..
The private user identity for a Stand-alone Non-Public Network (SNPN)
subscriber with an IMSI-based SUPI type, shall use the IMSI-based derivation
described above, and append nid\ of the SNPN, between the \"ims.\" and
\"mnc\\" labels.
NOTE 2: The UE takes the NID from \"list of subscriber data\" as specified in
3GPP TS 23.122 [139], from the entry selected by the UE.
For an SNPN, if IMSI is as above, and for a NID of 000007ed9d5, the private
user identity takes the form
\"234150999999999\@ims.nid000007ed9d5.mnc015.mcc234.3gppnetwork.org\".
The Private User Identity for a Stand-alone Non-Public Network (SNPN)
subscriber identified by a SUPI containing a network-specific identifier that
takes the form of an NAI is obtained as follows: the username is the same as
the username in the NAI, and the realm portion is identical with the Home
domain defined in clause 13.2.
For 3GPP2 systems, if there is no IMC present, the UE shall derive the private
user identity as described in Annex C of 3GPP2 X.S0013-004 [67].
## 13.4 Public User Identity
**A Public User Identity is any identity used by a user** within the IMS
subsystem for requesting communication to another user**.**
The Public User Identity shall take the form of either a SIP URI (see IETF RFC
3261 [26]) or a Tel URI (see IETF RFC 3966 [45]).
The 3GPP specifications describing the interfaces over which Public User
Identities are transferred specify the allowed Public User Identity formats,
in particular 3GPP TS 24.229 [81] for SIP signalling interfaces, 3GPP TS
29.229 [95] for Cx and Dx interfaces, 3GPP TS 29.329 [96] for Sh interface,
3GPP TS 29.165 [97] for II-NNI interface.
In the case the user identity is a telephone number, it shall be represented
either by a Tel URI or by a SIP URI that includes a \"user=phone\" URI
parameter and a \"userinfo\" part that shall follow the same format as the Tel
URI.
According to 3GPP TS 24.229 [81], the UE can use either:
\- a global number as defined in IETF RFC 3966 [45] and following E.164
format, as defined by ITU-T Recommendation E.164 [10] or
\- a local number, that shall include a \"phone-context\" parameter that
identifies the scope of its validity, as per IETF RFC 3966 [45].
According to 3GPP TS 29.165 [97] a global number as defined in IETF RFC 3966
[45] shall be used in a tel-URI or in the user portion of a SIP URI with the
user=phone parameter when conveyed via a non-roaming II-NNI except when
agreement exists between the operators to also allow other kinds of numbers.
According to 3GPP TS 29.229 [95] and 3GPP TS 29.329 [96] the canonical forms
of SIP URI and Tel URI shall be used over the corresponding Diameter
interfaces.
The canonical form of a SIP URI for a Public User Identity shall take the form
\"sip:username\@domain\" as specified in IETF RFC 3261 [26], clause 10.3. SIP
URI comparisons shall be performed as defined in IETF RFC 3261 [26], clause
19.1.4.
The canonical form of a Tel URI for a Public User Identity shall take the form
\"tel:+\\\\" (max number of digits is 15), that represents an
E.164 number and shall contain a global number without parameters and visual
separators (see IETF RFC 3966[45], clause 3). Tel URI comparisons shall be
performed as defined in IETF RFC 3966[45], clause 4.
Public User Identities are stored in the HSS either as a distinct Public User
Identity or as a Wildcarded Public User Identity. A distinct Public User
Identity contains the Public User Identity that is used in routing and it is
explicitly provisioned in the HSS.
## 13.4A Wildcarded Public User Identity
Public User Identities may be stored in the HSS as Wildcarded Public User
Identities. A Wildcarded Public User Identity represents a collection of
Public User Identities that share the same service profile and are included in
the same implicit registration set. Wildcarded Public User Identities enable
optimisation of the operation and maintenance of the nodes for the case in
which a large amount of users are registered together and handled in the same
way by the network. The format of a Wildcarded Public User Identity is the
same as for the Wildcarded PSI described in clause 13.5.
## 13.4B Temporary Public User Identity
For 3GPP systems, if there is no ISIM application to host the Public User
Identity, a Temporary Public User Identity shall be derived, based on the
IMSI. The Temporary Public User Identity shall be of the form as described in
clause 13.4 and shall consist of the string \"sip:\" appended with a username
and domain portion equal to the IMSI derived Private User Identity, as
described in clause 13.2. An example using the same example IMSI from clause
13.2 can be found below:
EXAMPLE: \"sip:234150999999999\@ims.mnc015.mcc234.3gppnetwork.org\".
The temporary public user identity for a Stand-alone Non-Public Network (SNPN)
subscriber with an IMSI-based SUPI type, shall use the IMSI-based derivation
described above, and append nid\ of the SNPN, in between the \"ims.\" and
\"mnc\\" labels.
NOTE: The UE takes the NID from \"list of subscriber data\" as specified in
3GPP TS 23.122 [139], from the entry selected by the UE.
EXAMPLE for an SNPN:
\"sip:234150999999999\@ims.nid000007ed9d5.mnc015.mcc234.3gppnetwork.org\".
The temporary Public User Identity for a Stand-alone Non-Public Network (SNPN)
subscriber identified by a SUPI containing a network-specific identifier that
takes the form of an NAI consists of the string \"sip:\" appended with a
username and realm portion equal to the NAI SUPI derived Private User
Identity.
For 3GPP2 systems, if there is no IMC present, the UE shall derive the public
user identity as described in Annex C of 3GPP2 X.S0013-004 [67].
## 13.5 Public Service Identity (PSI)
The public service identity shall take the form of either a SIP URI (see IETF
RFC 3261 [26]) or a Tel URI (see IETF RFC 3966 [45]). A public service
identity identifies a service, or a specific resource created for a service on
an application server. The domain part is pre-defined by the IMS operators and
the IMS system provides the flexibility to dynamically create the user part of
the PSIs.
The PSIs are stored in the HSS either as a distinct PSI or as a wildcarded
PSI. A distinct PSI contains the PSI that is used in routing , whilst a
wildcarded PSI represents a collection of PSIs. Wildcarded PSIs enable
optimisation of the operation and maintenance of the nodes. A wildcarded PSI
consists of a delimited regular expression located either in the userinfo
portion of the SIP URI or in the telephone-subscriber portion of the Tel URI.
The regular expression in the wildcarded PSI shall take the form of Extended
Regular Expressions (ERE) as defined in chapter 9 in IEEE 1003.1-2004 Part 1
[60]. The delimiter shall be the exclamation mark character (\"!\"). If more
than two exclamation mark characters are present in the userinfo portion or
telephone-subscriber portion of a wildcarded PSI then the outside pair of
exclamation mark characters is regarded as the pair of delimiters (i.e. no
exclamation mark characters are allowed to be present in the fixed parts of
the userinfo portion or telephone-subscriber portion).
When stored in the HSS, the wildcarded PSI shall include the delimiter
character to indicate the extent of the part of the PSI that is wildcarded. It
is used to separate the regular expression from the fixed part of the
wildcarded PSI.
Example: The following PSI could be stored in the HSS -
\"sip:chatlist!.*!\@example.com\".
When used on an interface, the exclamation mark characters within a PSI shall
not be interpreted as delimiter..
Example: The following PSIs communicated in interface messages to the HSS will
match to the wildcarded PSI of \"sip:chatlist!.*!\@example.com\" stored in the
HSS:
sip:chatlist1\@example.com
sip:chatlist2\@example.com
sip:chatlist42\@example.com
sip:chatlistAbC\@example.com
sip:chatlist!1\@example.com
Note that sip:chatlist1\@example.com and sip:chatlist!1\@example.com are
regarded different specific PSIs, both matching the wildcarded PSI
sip:chatlist!.*!\@example.com.
When used by an application server to identify a specific resource (e.g. a
chat session) over Inter Operator Network to Network Interface (II-NNI), the
PSI should be a SIP URI without including a port number.
NOTE: Based **on** local configuration policy, a PSI can be routed over Inter
Operator Network to Network Interface (II-NNI). Details of this routing are
operator specific and out of scope of this specification.
## 13.5A Private Service Identity
The Private Service Identity is applicable to a PSI user and is similar to a
Private User Identity in the form of a Network Access Identifier (NAI), which
is defined in IETF RFC 4282 [53]. The Private Service Identity is operator
defined and although not operationally used for registration, authorisation
and authentication in the same way as Private User Identity, it enables Public
Service Identities to be associated to a Private Service Identity which is
required for compatibility with the Cx procedures.
## 13.6 Anonymous User Identity
The Anonymous User Identity shall take the form of a SIP URI (see IETF RFC
3261 [26]). A SIP URI for an Anonymous User Identity shall take the form
\"sip:user\@domain\". The user part shall be the string \"anonymous\" and the
domain part shall be the string \"anonymous.invalid\". The full SIP URI for
Anonymous User Identity is thus:
\"sip:anonymous\@anonymous.invalid\"
For more information on the Anonymous User Identity and when it is used, see
3GPP TS 29.163 [63].
## 13.7 Unavailable User Identity
The Unavailable User Identity shall take the form of a SIP URI (see IETF RFC
3261 [26]). A SIP URI for an Unavailable User Identity shall take the form
\"sip:user\@domain\". The user part shall be the string \"unavailable\" and
the domain part shall be the string \"unknown.invalid\". The full SIP URI for
Unavailable User Identity is thus:
\"sip:unavailable\@unknown.invalid\"
For more information on the Unavailable User Identity and when it is used, see
3GPP TS 29.163 [63].
## 13.8 Instance-ID
An instance-id is a SIP Contact header parameter that uniquely identifies the
SIP UA performing a registration.
When an IMEI is available, the instance-id shall take the form of a IMEI URN
(see RFC 7254 [79]). The format of the instance-id shall take the form
\"urn:gsma:imei:\\" where by the imeival shall contain the IMEI
encoded as defined in RFC 7254 [79]. The optional \ and
\ parameters shall not be included in the instance-id. RFC
7255 [104] specifies additional considerations for using the IMEI as an
instance-id. An example of such an instance-id is as follows:
EXAMPLE: urn:gsma:imei:90420156-025763-0
If no IMEI is available, the instance-id shall take the form of a string
representation of a UUID as a URN as defined in IETF RFC 4122 [80]. An example
of such an instance-id is as follows:
EXAMPLE: urn:uuid:f81d4fae-7dec-11d0-a765-00a0c91e6bf6
For more information on the instance-id and when it is used, see 3GPP TS
24.229 [81].
## 13.9 XCAP Root URI
### 13.9.1 XCAP Root URI on Ut interface
#### 13.9.1.1 General
XCAP Root URI is an HTTP URI that represents the XCAP Root. Although a valid
URI, the XCAP Root URI does not correspond to an actual resource.
#### 13.9.1.2 Format of XCAP Root URI
The XCAP Root URI, as defined in IETF RFC 4825 [94], is an HTTP URI that
should have the following format:
\"http://xcap.\\"
in which \"\\" identifies the domain hosting the XCAP server.
NOTE 1: The XCAP Root URI does not contain a port portion or an abs path
portion of a standard HTTP URI.
If a preconfigured or provisioned XCAP Root URI is available then the UE shall
use it. When a preconfigured or provisioned XCAP Root URI does not exist then
the UE shall create the XCAP Root URI as follows:
\- The first label shall be \"xcap\".
\- The next label(s) shall identify the home network as follows:
1\. When the UE has an ISIM, the domain name from the IMPI shall be used (see
3GPP TS 31.103 [93]) as follows:
a. if the last two labels of the domain name from the IMPI are
\"3gppnetwork.org\":
i. the next labels shall be all labels of the domain name from the IMPI apart
from the last two labels; and
ii. the last three labels shall be \"pub.3gppnetwork.org\";
b. if the last two labels of the domain name from the IMPI are other than the
\"3gppnetwork.org\":
i. the next labels shall be all labels of the domain name from the IMPI;
2\. When the UE has a USIM and does not have ISIM, the home network shall be
\"ims.mnc\.mcc\.pub.3gppnetwork.org\" where \ and \ shall
be derived from the components of the IMSI defined in clause 2.2. If there are
only two significant digits in the MNC, one \"0\" digit shall be inserted at
the left side to fill the 3 digits coding of MNC in the FQDN of XCAP Root URI.
As an example for the case when the UE has ISIM, where the IMPI is
\"user\@operator.com\", the overall XCAP Root URI used by the UE would be:
\"http://xcap.operator.com\".
As an example for the case when the UE has ISIM, where the IMPI is
\"234150999999999\@ims.mnc015.mcc234.3gppnetwork.org\", the overall XCAP Root
URI used by the UE would be:
\"xcap.ims.mnc015.mcc234.pub.3gppnetwork.org\".
As an example for the case when the UE has USIM and does not have ISIM, where
the MCC is 345 and the MNC is 12, the overall XCAP Root URI created and used
by the UE would be:
\"xcap.ims.mnc012.mcc345.pub.3gppnetwork.org\"
## 13.10 Default Conference Factory URI for MMTel
The Default Conference Factory URI for MMTel shall take the form of a SIP URI
(see IETF RFC 3261 [26]) with a host portion set to the home network domain
name as described in clause 13.2 prefixed with \"conf-factory.\". The user
portion shall be set to \"mmtel\".
Examples of the Default Conference Factory URI for MMTel can be found below:
EXAMPLE 1: \"sip:mmtel\@conf-factory.operator.com\"
when the UE has a home network domain name of operator.com.
EXAMPLE 2: \"sip:mmtel\@conf-factory.ims.mnc015.mcc234.3gppnetwork.org\"
for 3GPP systems, when the UE with no ISIM application has a home network
domain name of ims.mnc015.mcc234.3gppnetwork.org derived from the same example
IMSI as described in clause 13.2.
## 13.11 Unknown User Identity
The Unknown User Identity shall take the form of a SIP URI (see IETF RFC 3261
[26]). A SIP URI for an Unknown User Identity shall take the form
\"sip:user\@domain\". The user part shall be the string \"unknown\" and the
domain part shall be the string \"unknown.invalid\". The full SIP URI for
Unknown User Identity is thus:
\"sip:unknown\@unknown.invalid\"
For more information on the Unknown User Identity and when it is used, see
3GPP TS 29.163 [63], clauses 7.4.6 and 7.5.4.
## 13.12 Default WWSF URI
### 13.12.1 General
Default WWSF URI is an HTTP URI that represents the WebRTC Web Server Function
(WWSF) defined in 3GPP TS 23.228 [24].
### 13.12.2 Format of the Default WWSF URI
The Default WWSF URI is an HTTP URI that should have the following format:
\"http://wwsf.\\"
in which \"\\" identifies the domain hosting the WWSF.
If a preconfigured or provisioned WWSF URI is available then the UE shall use
it. When a preconfigured or provisioned WWSF URI does not exist then the UE
shall create the Default WWSF URI as follows:
\- The first label shall be \"wwsf\".
\- The next label(s) shall identify the home network as follows:
1\. When the UE has an ISIM, the domain name from the IMPI shall be used (see
3GPP TS 31.103 [93]) as follows:
a. if the last two labels of the domain name from the IMPI are
\"3gppnetwork.org\":
i. the next labels shall be all labels of the domain name from the IMPI apart
from the last two labels; and
ii. the last three labels shall be \"pub.3gppnetwork.org\";
b. if the last two labels of the domain name from the IMPI are other than the
\"3gppnetwork.org\":
i. the next labels shall be all labels of the domain name from the IMPI;
2\. When the UE has a USIM and does not have an ISIM, the home network shall
be \"ims.mnc\.mcc\.pub.3gppnetwork.org\" where \ and \
shall be derived from the components of the IMSI defined in clause 2.2. If
there are only two significant digits in the MNC, one \"0\" digit shall be
inserted at the left side to fill the 3 digits coding of MNC in the FQDN of
WWSF URI.
As an example for the case when the UE has the ISIM, where the IMPI is
\"user\@operator.com\", the Default WWSF URI used by the UE would be:
EXAMPLE 1: \"http://wwsf.operator.com\".
As an example for the case when the UE has the ISIM, where the IMPI is
\"234150999999999\@ims.mnc015.mcc234.3gppnetwork.org\", the Default WWSF URI
used by the UE would be:
EXAMPLE 2: \"http://wwsf.ims.mnc015.mcc234.pub.3gppnetwork.org\".
As an example for the case when the UE has the USIM and does not have the
ISIM, where the MCC is 345 and the MNC is 12, the Default WWSF URI created and
used by the UE would be:
EXAMPLE 3: \"http://wwsf.ims.mnc012.mcc345.pub.3gppnetwork.org\".
## 13.13 IMEI based identity
The IMEI based identity shall take the form of a SIP URI (see IETF RFC 3261
[26]). The IMEI based identity is included in P-Preferred-Identity header
field of SIP INVITE request by the UE and used in cases of unauthenticated
emergency sessions as specified in clause 5.1.6.8.2 of 3GPP TS 24.229 [81]. A
SIP URI for an IMEI based identity shall take the form \"sip:user\@domain\"
where by the user part shall contain the IMEI. The IMEI shall be encoded
according to ABNF of imeival as defined in IETF RFC 7254 [79]. The domain part
shall contain the home network domain named derived as specified in clause
13.2.
An example for the case when the UE has a home network domain name of
operator.com is:
EXAMPLE 1: \"sip:90420156-025763-0\@operator.com\"
An example for 3GPP systems, when the UE with no ISIM application has a home
network domain name of ims.mnc015.mcc234.3gppnetwork.org derived from the same
example IMSI from clause 13.2 is:
EXAMPLE 2: \"sip:90420156-025763-0\@ims.mnc015.mcc234.3gppnetwork.org\"
# 14 Numbering, addressing and identification for 3GPP System to WLAN
Interworking
## 14.1 Introduction
This clause describes the format of the parameters needed to access the 3GPP
system supporting the WLAN interworking. For further information on the use of
the parameters see 3GPP TS 24.234 [48]. For more information on the
\".3gppnetwork.org\" domain name and its applicability, see Annex D of the
present document.
NOTE: The WLAN Network Selection and WLAN/3GPP Radio Interworking features
supersede the I-WLAN feature from Rel-12 onwards, therefore all I-WLAN related
requirements specified in the present Clause are no longer maintained.
## 14.2 Home network realm
The home network realm shall be in the form of an Internet domain name, e.g.
operator.com, as specified in RFC 1035 [19].
When attempting to authenticate within WLAN access, the WLAN UE shall derive
the home network domain name from the IMSI as described in the following
steps:
1\. take the first 5 or 6 digits, depending on whether a 2 or 3 digit MNC is
used (see 3GPP TS 31.102 [27], 3GPP TS 51.011 [66]) and separate them into MCC
and MNC; if the MNC is 2 digits then a zero shall be added at the beginning;
2\. use the MCC and MNC derived in step 1 to create the \"mnc\.mcc\.
3gppnetwork.org\" domain name;
3\. add the label \"wlan.\" to the beginning of the domain name.
An example of a WLAN NAI realm is:
IMSI in use: 234150999999999;
Where:
MCC = 234;
MNC = 15;
MSIN = 0999999999
Which gives the home network domain name: wlan.mnc015.mcc234.3gppnetwork.org.
NOTE: If it is not possible for the WLAN UE to identify whether a 2 or 3 digit
MNC is used (e.g. SIM is inserted and the length of MNC in the IMSI is not
available in the \"Administrative data\" data file), it is implementation
dependent how the WLAN UE determines the length of the MNC (2 or 3 digits).
## 14.3 Root NAI
The Root NAI shall take the form of a NAI, and shall have the form
username\@realm as specified in clause 2.1 of IETF RFC 4282 [53].
The username part format of the Root NAI shall comply with IETF RFC 4187 [50]
when EAP AKA authentication is used and with IETF RFC 4186 [51], when EAP SIM
authentication is used.
When the username part includes the IMSI, the Root NAI shall be built
according to the following steps:
1\. Generate an identity conforming to NAI format from IMSI as defined in EAP
SIM [51] and EAP AKA [50] as appropriate;
2\. Convert the leading digits of the IMSI, i.e. MNC and MCC, into a domain
name, as described in clause 14.2.
The result will be a root NAI of the form:
\"0\\@wlan.mnc\.mcc\.3gppnetwork.org\", for EAP AKA
authentication and \"1\\@wlan.mnc\.mcc\.3gppnetwork.org\", for
EAP SIM authentication
For example, for EAP AKA authentication: If the IMSI is 234150999999999 (MCC =
234, MNC = 15), the root NAI then takes the form
0234150999999999\@wlan.mnc015.mcc234.3gppnetwork.org.
## 14.4 Decorated NAI
The Decorated NAI shall take the form of a NAI and shall have the form
\'homerealm!username\@otherrealm\' as specified in clause 2.7 of the IETF RFC
4282 [53].
The realm part of Decorated NAI consists of \'otherrealm\', see the IETF draft
2486-bisRFC 4282 [53]. \'Homerealm\' is the realm as specified in clause 14.2,
using the HPLMN ID (\'homeMCC\' + \'homeMNC)\'. \'Otherrealm\' is the realm
built using the PLMN ID (visitedMCC + visited MNC) of the PLMN selected as a
result of WLAN PLMN selection (see 3GPP TS 24.234 [48]).
The username part format of the Root NAI shall comply with IETF RFC 4187 [50]
when EAP AKA authentication is used and with IETF RFC 4186 [51], when EAP SIM
authentication is used.
When the username part of Decorated NAI includes the IMSI, it shall be built
following the same steps specified for Root NAI in clause 14.3.
The result will be a decorated NAI of the form:
\"wlan.mnc\.mcc\.3gppnetwork.org
!0\\@wlan.mnc\.mcc\.3gppnetwork.org\", for EAP
AKA authentication and \" wlan.mnc\.mcc\.3gppnetwork.org
!1\\@wlan.mnc\.mcc\.3gppnetwork.org \", for EAP
SIM authentication
For example, for EAP AKA authentication: If the IMSI is 234150999999999 (MCC =
234, MNC = 15) and the PLMN ID of the Selected PLMN is MCC = 610, MNC = 71
then the Decorated NAI takes the form
wlan.mnc015.mcc234.3gppnetwork.org!0234150999999999\@wlan.mnc071.mcc610.3gppnetwork.org.
NOTE: the \'otherrealm\' specified in the present document is resolved by the
WLAN AN. If the WLAN AN does not have access to the GRX, then the WLAN AN
should resolve the realm by other means e.g. static look-up table, private
local DNS server acting as an authoritative name server for that sub-domain.
## 14.4A Fast Re‑authentication NAI
The Fast Re-authentication NAI in both EAP-SIM and EAP-AKA shall take the form
of a NAI as specified in clause 2.1 of IETF RFC 4282 [53]. If the 3GPP AAA
server does not return a complete NAI, the Fast Re-authentication NAI shall
consist of the username part of the fast re-authentication identity as
returned from the 3GPP AAA server and the same realm as used in the permanent
user identity. If the 3GPP AAA server returns a complete NAI as the re-
authentication identity, then this NAI shall be used. The username part of the
fast re-authentication identity shall be decorated as described in 14.4 if the
Selected PLMN is different from the HPLMN.
NOTE: The permanent user identity is either the root or decorated NAI as
defined in clauses 14.3 and 14.4.
EXAMPLE 1: If the fast re-authentication identity returned by the 3GPP AAA
Server is 458405627015 and the IMSI is 234150999999999 (MCC = 234, MNC = 15),
the Fast Re-authentication NAI for the case when NAI decoration is not used
takes the form: 458405627015\@wlan.mnc015.mcc234.3gppnetwork.org
EXAMPLE 2: If the fast re-authentication identity returned by the 3GPP AAA
Server is \"458405627015\@aaa1.wlan.mnc015.mcc234.3gppnetwork.org\" and the
IMSI is 234150999999999 (MCC = 234, MNC = 15), the Fast Re-authentication NAI
for the case when NAI decoration is not used takes the form:
458405627015\@aaa1.wlan.mnc015.mcc234.3gppnetwork.org
EXAMPLE 3: If the fast re-authentication identity returned by the 3GPP AAA
Server is 458405627015 and the IMSI is 234150999999999 (MCC = 234, MNC = 15),
and the PLMN ID of the Selected PLMN is MCC = 610, MNC = 71, the Fast Re-
authentication NAI takes the form: wlan.mnc015.mcc234.3gppnetwork.org
!458405627015\@wlan.mnc071.mcc610.3gppnetwork.org
## 14.5 Temporary identities
The Temporary identities (Pseudonyms and re-authentication identities) shall
take the form of a NAI username as specified in clause 2.1 of the IETF RFC
4282 [53].
Temporary identity shall be generated as specified in clause 6.4.1 of 3GPP TS
33.234 [55]. This part of the temporary identity shall follow the UTF-8
transformation format specified in IETF RFC 2279 [54] except for the following
reserved hexadecimal octet value:
FF.
When the temporary identity username is coded with FF, this reserved value is
used to indicate the special case when no valid temporary identity exists in
the WLAN UE (see 3GPP TS 24.234 [48]). The network shall not allocate a
temporary identity with the whole username coded with the reserved hexadecimal
value FF.
For EAP-AKA authentication, the username portion of the pseudonym identity
shall be prepended with the single digit \"2\" and the username portion of the
fast re-authentication identity shall be prepended with the single digit \"4\"
as specified in clause 4.1.1.7 of IETF RFC 4187 [50].
For EAP-SIM authentication, the username portion of the pseudonym identity
shall be prepended with the single digit \"3\" and the username portion of the
fast re-authentication identity shall be prepended with the single digit \"5\"
as specified in clause 4.2.1.7 of IETF RFC 4186 [51].
## 14.6 Alternative NAI
The Alternative NAI shall take the form of a NAI, i.e. \'any_username\@REALM\'
as specified of IETF RFC 4282 [53]. The Alternative NAI shall not be routable
from any AAA server.
The Alternative NAI shall contain a username part which is not derived from
the IMSI. The username part shall not be a null string.
The REALM part of the NAI shall be \"unreachable.3gppnetwork.org\".
The result shall be an NAI in the form of:
\"\\@unreachable.3gppnetwork.org\"
## 14.7 W-APN
The W-APN is composed of two parts as follows:
\- The W-APN Network Identifier; this defines to which external network the
PDG is connected.
\- The W-APN Operator Identifier; this defines in which PLMN the PDG serving
the W-APN is located.
The W-APN Operator Identifier is placed after the W-APN Network Identifier.
The W-APN consisting of both the Network Identifier and Operator Identifier
corresponds to a FQDN of a PDG; the W-APN has, after encoding as defined in
the paragraph below, a maximum length of 100 octets.
The encoding of the W-APN shall follow the Name Syntax defined in IETF RFC
2181 [18], IETF RFC 1035 [19] and IETF RFC 1123 [20]. The W-APN consists of
one or more labels. Each label is coded as a one octet length field followed
by that number of octets coded as 8 bit ASCII characters. Following IETF RFC
1035 [19] the labels shall consist only of the alphabetic characters (A-Z and
a-z), digits (0-9) and the hyphen (-). Following IETF RFC 1123 [20], the label
shall begin and end with either an alphabetic character or a digit. The case
of alphabetic characters is not significant. The W-APN is not terminated by a
length byte of zero.
For the purpose of presentation, a W-APN is usually displayed as a string in
which the labels are separated by dots (e.g. \"Label1.Label2.Label3\").
The W-APN for the support of IMS Emergency calls shall take the form of a
common, reserved Network Identifier described in clause 14.7.1 together with
the usual W-APN Operator Identifier as described in clause 14.7.2.
### 14.7.1 Format of W-APN Network Identifier
The W-APN Network Identifier follows the format defined for APNs in clause
9.1.1. In addition to what has been defined in clause 9.1.1 the W-APN Network
Identifier shall not contain \"w-apn.\" and not end in \".3gppnetwork.org\".
A W-APN Network Identifier may be used to access a service associated with a
PDG. This may be achieved by defining:
\- a W-APN which corresponds to a FQDN of a PDG, and which is locally
interpreted by the PDG as a request for a specific service, or
\- a W-APN Network Identifier consisting of 3 or more labels and starting with
a Reserved Service Label, or a W-APN Network Identifier consisting of a
Reserved Service Label alone, which indicates a PDG by the nature of the
requested service. Reserved Service Labels and the corresponding services they
stand for shall be agreed between operators who have WLAN roaming agreements.
The W-APN Network Identifier for the support of IMS Emergency calls shall take
the form of a common, reserved Network Identifier of the form \"sos\".
As an example, the W-APN for MCC 345 and MNC 12 is coded in the DNS as:
\"sos.w-apn.mnc012.mcc345.pub.3gppnetwork.org\".
where \"sos\" is the W-APN Network Identifier and \"
mnc012.mcc345.pub.3gppnetwork.org \" is the W-APN Operator Identifier.
### 14.7.2 Format of W-APN Operator Identifier
The W-APN Operator Identifier is composed of six labels. The last three labels
shall be \"pub.3gppnetwork.org\". The second and third labels together shall
uniquely identify the PLMN. The first label distinguishes the domain name as a
W-APN.
For each operator, there is a default W-APN Operator Identifier (i.e. domain
name). This default W-APN Operator Identifier is derived from the IMSI as
follows:
\"w-apn.mnc\.mcc\.pub.3gppnetwork.org\"
where:
\"mnc\" and \"mcc\" serve as invariable identifiers for the following digits.
\ and \ are derived from the components of the IMSI defined in
clause 2.2.
Alternatively, the default W‑APN Operator Identifier is derived using the MNC
and MCC of the VPLMN. See 3GPP TS 24.234 [48] for more information.
The default W-APN Operator Identifier is used in both non‑roaming and roaming
situations when attempting to translate a W-APN consisting only of a Network
Identifier into the IP address of the PDG in the HPLMN.
In order to guarantee inter-PLMN DNS translation, the \ and \ coding
used in the \"w‑apn.mnc\.mcc\.pub.3gppnetwork.org\" format of the
W-APN OI shall be:
\- \ = 3 digits
\- \ = 3 digits
If there are only 2 significant digits in the MNC, one \"0\" digit shall be
inserted at the left side to fill the 3 digits coding of MNC in the W-APN OI.
As an example, the W-APN OI for MCC 345 and MNC 12 is coded in the DNS as:
\"w-apn.mnc012.mcc345.pub.3gppnetwork.org\".
### 14.7.3 Alternative Format of W-APN Operator Identifier
For situations when the PDG serving the W-APN is located in such network that
is not part of the GRX (i.e. the Interoperator IP backbone), the default
Operator Identifier described in clause 14.7.2 is not available for use. This
restriction originates from the \".3gppnetwork.org\" domain, which is only
available in GRX DNS for actual use. Thus an alternative format of W-APN
Operator Identifier is required for this case.
The Alternative W-APN Operator Identifiers shall be constructed as follows:
\"w-apn.\\"
where:
\ corresponds to REALM names owned by the operator
hosting the PDG serving the desired W-APN.
REALM names are required to be unique, and are piggybacked on the
administration of the Public Internet DNS namespace. REALM names may also
belong to the operator of the VPLMN.
As an example, the W-APN OI for the Operator REALM \"notareal.com\" is coded
in the Public Internet DNS as:
\"w-apn.notareal.com\".
## 14.8 Emergency Realm and Emergency NAI for Emergency Cases
The emergency realm shall be of the form of a home network realm as described
in clause 14.2 prefixed with the label \"sos.\" at the beginning of the domain
name.
An example of a WLAN emergency NAI realm is:
IMSI in use: 234150999999999;
Where:
MCC = 234;
MNC = 15;
MSIN = 0999999999
Which gives the home network domain name:
sos.wlan.mnc015.mcc234.3gppnetwork.org.
The NAI for emergency cases shall be of the form as specified in clauses 14.3
and 14.4, with the addition of the emergency realm as described above for
PLMNs where the emergency realm is supported.
When UE is using I-WLAN as the access network for IMS emergency calls and IMSI
is not available, the Emergency NAI shall be an NAI compliant with IETF RFC
4282 [53] consisting of username and realm, either constructed with IMEI or
MAC address, as specified in 3GPP TS 33.234 [55]. The exact format shall be:
imei\\@sos.wlan.mnc\.mcc\.3gppnetwork.org
or if IMEI is not available,
mac\\@sos.wlan.mnc\.mcc\.3gppnetwork.org
The realm part of the above NAI consists of the realm built using the PLMN ID
(visitedMCC + visitedMNC) of the PLMN selected as a result of the network
selection procedure, as specified in clause 5.2.5.4 of the 3GPP TS 24.234
[48].
The MNC and MCC shall be with 3 digits coded. If there are only 2 significant
digits in the MNC, one \"0\" digit shall be inserted at the left side to fill
the 3 digits coding of MNC in the realm of the NAI.
For example, if the IMEI is 219551288888888, and the selected PLMN is with MCC
345 and MNC 12, the Emergency NAI then takes the form of
imei219551288888888\@sos.wlan.mnc012.mcc345.3gppnetwork.org.
For example, if the MAC address is 44-45-53-54-00-AB, and the selected PLMN is
with MCC 345 and MNC 12, the Emergency NAI then takes the form of
mac4445535400AB\@sos.wlan.mnc012.mcc345.3gppnetwork.org, where the MAC address
is represented in hexadecimal format without separators.
# 15 Identification of Multimedia Broadcast/Multicast Service
## 15.1 Introduction
This clause describes the format of the parameters needed to access the
Multimedia Broadcast/Multicast service. For further information on the use of
the parameters see 3GPP TS 23.246 [52].
## 15.2 Structure of TMGI
Temporary Mobile Group Identity (TMGI) is used within MBMS to uniquely
identify Multicast and Broadcast bearer services.
TMGI is composed as shown in figure 15.2.1.
Figure 15.2.1: Structure of TMGI
The TMGI is composed of three parts:
1) MBMS Service ID consisting of three octets. MBMS Service ID consists of a
6-digit fixed-length hexadecimal number between 000000 and FFFFFF. MBMS
Service ID uniquely identifies an MBMS bearer service within a PLMN. The
structure of MBMS Service ID for services for Receive only mode is defined in
3GPP TS 24.116 [118].
2) Mobile Country Code (MCC) consisting of three digits. The MCC identifies
uniquely the country of domicile of the BM-SC, except for the MCC value of
901, which does not identify any country and is assigned globally by ITU;
3) Mobile Network Code (MNC) consisting of two or three digits (depending on
the assignment to the PLMN by its national numbering plan administrator). The
MNC identifies the PLMN which the BM-SC belongs to, except for the MNC value
of 56 when the MCC value is 901, which does not identify any PLMN. For more
information on the use of the TMGI, see 3GPP TS 23.246 [52].
Any TMGI with MCC=901 and MNC=56 is used only for services for Receive Only
Mode (see TS 23.246 [52] and 3GPP TS 24.116 [118]).
## 15.3 Structure of MBMS SAI
The MBMS Service Area (MBMS SA) is defined in 3GPP TS 23.246 [52]. It
comprises of one or more MBMS Service Area Identities (MBMS SAIs), in any case
each MBMS SA shall not include more than 256 MBMS SAIs. An MBMS SAI shall
identify a group of cells within a PLMN, that is independent of the associated
Location/Routing/Service Area and the physical location of the cell(s). A cell
shall be able to belong to one or more MBMS SAs, and therefore is addressable
by one or more MBMS SAIs.
The MBMS SAI shall be a decimal number between 0 and 65,535 (inclusive). The
value 0 has a special meaning; it shall denote the whole PLMN as the MBMS
Service Area and it shall indicate to a receiving RNC/BSS/MCE that all cells
reachable by that RNC/BSS/MCE shall be part of the MBMS Service Area.
With the exception of the specific MBMS Service Area Identity with value 0,
the MBMS Service Area Identity shall be unique within a PLMN and shall be
defined in such a way that all the corresponding cells are MBMS capable.
## 15.4 Home Network Realm
The home network realm shall be in the form of an Internet domain name, e.g.
operator.com, as specified in IETF RFC 1035 [19] and IETF RFC 1123 [20]. The
home network realm consists of one or more labels. Each label shall consist of
the alphabetic characters (A-Z and a-z), digits (0-9) and the hyphen (-) in
accordance with IETF RFC 1035 [19]. Each label shall begin and end with either
an alphabetic character or a digit in accordance with IETF RFC 1123 [20]. The
case of alphabetic characters is not significant.
During the MBMS service activation in roaming scenario, the BM-SC in the
visited network shall derive the home network domain name from the IMSI as
described in the following steps:
1\. Take the first 5 or 6 digits, depending on whether a 2 or 3 digit MNC is
used (see 3GPP TS 31.102 [27], 3GPP TS 51.011 [66]) and separate them into MCC
and MNC; if the MNC is 2 digits then a zero shall be added at the beginning;
2\. Use the MCC and MNC derived in step 1 to create the
\"mnc\.mcc\.3gppnetwork.org\" realm name;
3\. Add the label \"mbms.\" to the beginning of the realm name.
An example of a home realm used in the MBMS roaming case is:
IMSI in use: 234150999999999;
Where:
MCC = 234;
MNC = 15;
MSIN = 0999999999
Which gives the home network realm: mbms.mnc015.mcc234.3gppnetwork.org.
## 15.5 Addressing and identification for Bootstrapping MBMS Service
Announcement
The UE needs a Service Announcement Fully Qualified Domain Name (FQDN) to
bootstrap MBMS Service Announcement as specified in 3GPP TS 26.346 [105].
The Service Announcement FQDN is composed of six labels. The last three labels
shall be \"pub.3gppnetwork.org\". The second and third labels together shall
uniquely identify the PLMN. The first label shall be \"mbmsbs\".
The Service Announcement FQDN is derived from the IMSI or Visited PLMN
Identity as follows:
\"mbmsbs.mnc\.mcc\.pub.3gppnetwork.org\"
where:
\"mnc\" and \"mcc\" serve as invariable identifiers for the following digits.
\- When using the Service Announcement FQDN in a visited network, the \
and \ shall be derived from the visited PLMN Identity as defined in
clause 12.1.
\- When using the Service Announcement FQDN in the home network, the \
and \ shall be derived from the components of the IMSI as defined in
clause 2.2.
In order to guarantee inter-PLMN DNS translation, the \ and \ coding
used in the \"mbmsbs.mnc\.mcc\.pub.3gppnetwork.org\" format of the
Service Announcement FQDN shall be:
\- \ = 3 digits
\- \ = 3 digits
If there are only 2 significant digits in the MNC, one \"0\" digit shall be
inserted at the left side to fill the 3 digits coding of MNC in the Service
Announcement FQDN.
As an example, the Service Announcement FQDN for MCC 345 and MNC 12 is coded
in the DNS as:
\"mbmsbs.mnc012.mcc345.pub.3gppnetwork.org\".
# 16 Numbering, addressing and identification within the GAA subsystem
## 16.1 Introduction
This clause describes the format of the parameters needed to access the GAA
system. For further information on the use of the parameters see 3GPP TS
33.221 [58]. For more information on the \".3gppnetwork.org\" domain name and
its applicability, see Annex D of the present document.
## 16.2 BSF address
The Bootstrapping Server Function (BSF) address is in the form of a Fully
Qualified Domain Name as defined in IETF RFC 1035 [19] and IETF RFC 1123 [20].
The BSF address consists of one or more labels. Each label shall consist of
the alphabetic characters (A-Z and a-z), digits (0-9) and the hyphen (-) in
accordance with IETF RFC 1035 [19]. Each label shall begin and end with either
an alphabetic character or a digit in accordance with IETF RFC 1123 [20]. The
case of alphabetic characters is not significant.
For 3GPP systems, the UE shall discover the BSF address from the identity
information related to the UICC application that is used during the
bootstrapping procedure i.e. IMSI for USIM, or IMPI for ISIM, in the following
way:
\- In the case where the USIM is used in bootstrapping, the BSF address shall
be derived as follows:
1\. take the first 5 or 6 digits, depending on whether a 2 or 3 digit MNC is
used (see 3GPP TS 31.102 [27]) and separate them into MCC and MNC; if the MNC
is 2 digits then a zero shall be added at the beginning;
2\. use the MCC and MNC derived in step 1 to create the
\"mnc\.mcc\.pub.3gppnetwork.org\" domain name;
3\. add the label \"bsf.\" to the beginning of the domain.
Example 1: If IMSI in use is \"234150999999999\", where MCC=234, MNC=15, and
MSIN=0999999999, the BSF address would be
\"bsf.mnc015.mcc234.pub.3gppnetwork.org\".
\- In the case where ISIM is used in bootstrapping, the BSF address shall be
derived as follows:
1\. extract the domain name from the IMPI;
2\. if the last two labels of the domain name extracted from the IMPI are
\"3gppnetwork.org\":
a. the first label is \"bsf\";
b. the next labels are all labels of the domain name extracted from the IMPI
apart from the last two labels; and
c. the last three labels are \"pub.3gppnetwork.org\";
Example 2: If the IMPI in use is
\"234150999999999\@ims.mnc015.mcc234.3gppnetwork.org\", the BSF address would
be \"bsf.ims.mnc015.mcc234.pub.3gppnetwork.org\".
3\. if the last two labels of the domain name extracted from the IMPI are
other than the \"3gppnetwork.org\":
a. add the label \"bsf.\" to the beginning of the domain.
Example 3: If the IMPI in use is \"user\@operator.com\", the BSF address would
be \"bsf.operator.com \".
# 17 Numbering, addressing and identification within the Generic Access
Network
## 17.1 Introduction
This clause describes the format of the parameters needed to access the
Generic Access Network (GAN). For further information on the use of the
parameters and GAN in general, see 3GPP TS 43.318 [61] and 3GPP TS 44.318
[62]. For more information on the \".3gppnetwork.org\" domain name and its
applicability, see Annex D of the present document.
## 17.2 Network Access Identifiers
### 17.2.1 Home network realm
The home network realm shall be in the form of an Internet domain name, e.g.
operator.com, as specified in IETF RFC 1035 [19] and IETF RFC 1123 [20]. The
home network realm consists of one or more labels. Each label shall consist of
the alphabetic characters (A-Z and a-z), digits (0-9) and the hyphen (-) in
accordance with IETF RFC 1035 [19]. Each label shall begin and end with either
an alphabetic character or a digit in accordance with IETF RFC 1123 [20]. The
case of alphabetic characters is not significant.
The UE shall derive the home network realm from the IMSI as described in the
following steps:
1\. take the first 5 or 6 digits, depending on whether a 2 or 3 digit MNC is
used (see 3GPP TS 31.102 [27], 3GPP TS 51.011 [66]) and separate them into MCC
and MNC; if the MNC is 2 digits then a zero shall be added at the beginning;
2\. use the MCC and MNC derived in step 1 to create the
\"mnc\.mcc\.3gppnetwork.org\" network realm;
3\. add the label \"gan.\" to the beginning of the network realm.
An example of a home network realm is:
IMSI in use: 234150999999999;
Where:
MCC = 234;
MNC = 15;
MSIN = 0999999999,
Which gives the home network realm: gan.mnc015.mcc234.3gppnetwork.org.
NOTE: If it is not possible for the UE to identify whether a 2 or 3 digit MNC
is used (e.g. SIM is inserted and the length of MNC in the IMSI is not
available in the \"Administrative data\" data file), it is implementation
dependent how the UE determines the length of the MNC (2 or 3 digits).
### 17.2.2 Full Authentication NAI
The Full Authentication NAI in both EAP‑SIM and EAP‑AKA shall take the form of
an NAI as specified in clause 2.1 of IETF RFC 4282 [53]. The format of the
Full Authentication NAI shall comply with IETF RFC 4187 [50] when EAP‑AKA
authentication is used and with IETF RFC 4186 [51], when EAP‑SIM
authentication is used. The realm used shall be a home network realm as
defined in clause 17.2.1.
The result will therefore be an identity of the form:
\"0\\@gan.mnc\.mcc\.3gppnetwork.org\", for EAP‑AKA
authentication and \"1\\@gan.mnc\.mcc\.3gppnetwork.org\", for
EAP‑SIM authentication
EXAMPLE 1: For EAP AKA authentication: If the IMSI is 234150999999999 (MCC =
234, MNC = 15), the Full Authentication NAI takes the form
0234150999999999\@gan.mnc015.mcc234.3gppnetwork.org.
EXAMPLE 2: For EAP SIM authentication: If the IMSI is 234150999999999 (MCC =
234, MNC = 15), the Full Authentication NAI takes the form
1234150999999999\@gan.mnc015.mcc234.3gppnetwork.org.
### 17.2.3 Fast Re‑authentication NAI
The Fast Re-authentication NAI in both EAP-SIM and EAP-AKA shall take the form
of an NAI as specified in clause 2.1 of IETF RFC 4282 [53]. The UE shall use
the re-authentication identity received during the previous EAP‑SIM or EAP‑AKA
authentication procedure. If such an NAI contains a realm part then the UE
should not modify it, otherwise it shall use a home network realm as defined
in clause 17.2.1.
The result will therefore be an identity of the form:
\"\@\ for both
EAP‑SIM and EAP‑AKA authentication when a realm is present in the
re‑authentication identity received during the previous EAP‑SIM or EAP‑AKA
authentication procedure and
\"\\@gan.mnc\.mcc\.3gppnetwork.org\",
for both EAP‑SIM and EAP‑AKA authentication when a realm is _not_ present in
the re‑authentication identity received during the previous EAP‑SIM or EAP‑AKA
authentication procedure.
EXAMPLE 1: If the re‑authentication identity is \"12345\" and the IMSI is
234150999999999 (MCC = 234, MNC = 15), the Fast Re‑authentication NAI takes
the form 12345\@gan.mnc015.mcc234.3gppnetwork.org
EXAMPLE 2: If the re‑authentication identity is
\"12345\@aaa1.gan.mnc015.mcc234.3gppnetwork.org\", the Fast Re‑authentication
NAI takes the form 12345\@aaa1.gan.mnc015.mcc234.3gppnetwork.org
## 17.3 Node Identifiers
### 17.3.1 Home network domain name
The home network domain name shall be in the form of an Internet domain name,
e.g. operator.com, as specified in IETF RFC 1035 [19] and IETF RFC 1123 [20].
The home network domain name consists of one or more labels. Each label shall
consist of the alphabetic characters (A-Z and a-z), digits (0-9) and the
hyphen (-) in accordance with IETF RFC 1035 [19]. Each label shall begin and
end with either an alphabetic character or a digit in accordance with IETF RFC
1123 [20]. The case of alphabetic characters is not significant.
The UE shall derive the home network domain name from the IMSI as described in
the following steps:
1\. take the first 5 or 6 digits, depending on whether a 2 or 3 digit MNC is
used (see 3GPP TS 31.102 [27], 3GPP TS 51.011 [66]) and separate them into MCC
and MNC; if the MNC is 2 digits then a zero shall be added at the beginning;
2\. use the MCC and MNC derived in step 1 to create the
\"mnc\.mcc\.pub.3gppnetwork.org\" domain name;
3\. add the label \"gan.\" to the beginning of the domain name.
An example of a home network domain name is:
IMSI in use: 234150999999999;
Where:
MCC = 234;
MNC = 15;
MSIN = 0999999999,
Which gives the home network domain name:
gan.mnc015.mcc234.pub.3gppnetwork.org.
NOTE: If it is not possible for the UE to identify whether a 2 or 3 digit MNC
is used (e.g. SIM is inserted and the length of MNC in the IMSI is not
available in the \"Administrative data\" data file), it is implementation
dependent how the UE determines the length of the MNC (2 or 3 digits).
### 17.3.2 Provisioning GANC-SEGW identifier
The Provisioning GANC‑SEGW identifier shall take the form of a fully qualified
domain name (FQDN) as specified in IETF RFC 1035 [19] and IETF RFC 1123 [20].
The Provisioning GANC‑SEGW identifier consists of one or more labels. Each
label shall consist of the alphabetic characters (A-Z and a-z), digits (0-9)
and the hyphen (-) in accordance with IETF RFC 1035 [19]. Each label shall
begin and end with either an alphabetic character or a digit in accordance
with IETF RFC 1123 [20]. The case of alphabetic characters is not significant.
If the (U)SIM is not provisioned with the FQDN or IP address of the
Provisioning GANC‑SEGW, the UE derives an FQDN from the IMSI to identify the
Provisioning GANC‑SEGW. The UE shall derive such an FQDN as follows:
1\. create a domain name as specified in 17.3.1;
2\. add the label \"psegw.\" to the beginning of the domain name.
An example of an FQDN for a Provisioning GANC-SEGW is:
IMSI in use: 234150999999999;
Where:
MCC = 234;
MNC = 15;
MSIN = 0999999999,
Which gives the FQDN: psegw.gan.mnc015.mcc234.pub.3gppnetwork.org.
NOTE: If it is not possible for the UE to identify whether a 2 or 3 digit MNC
is used (e.g. SIM is inserted and the length of MNC in the IMSI is not
available in the \"Administrative data\" data file), it is implementation
dependent how the UE determines the length of the MNC (2 or 3 digits).
### 17.3.3 Provisioning GANC identifier
The Provisioning GANC identifier shall take the form of a fully qualified
domain name (FQDN) as specified in IETF RFC 1035 [19] and IETF RFC 1123 [20].
The Provisioning GANC identifier consists of one or more labels. Each label
shall consist of the alphabetic characters (A-Z and a-z), digits (0-9) and the
hyphen (-) in accordance with IETF RFC 1035 [19]. Each label shall begin and
end with either an alphabetic character or a digit in accordance with IETF RFC
1123 [20]. The case of alphabetic characters is not significant.
If the (U)SIM is not provisioned with the FQDN or IP address of the
Provisioning GANC, the UE derives an FQDN from the IMSI to identify the
Provisioning GANC. The UE shall derive such an FQDN as follows:
1\. create a domain name as specified in 17.3.1;
2\. add the label \"pganc.\" to the beginning of the domain name.
An example of an FQDN for a Provisioning GANC is:
IMSI in use: 234150999999999;
Where:
MCC = 234;
MNC = 15;
MSIN = 0999999999,
Which gives the FQDN: pganc.gan.mnc015.mcc234.pub.3gppnetwork.org.
NOTE: If it is not possible for the UE to identify whether a 2 or 3 digit MNC
is used (e.g. SIM is inserted and the length of MNC in the IMSI is not
available in the \"Administrative data\" data file), it is implementation
dependent how the UE determines the length of the MNC (2 or 3 digits).
# 18 Addressing and Identification for IMS Service Continuity and Single-Radio
Voice Call Continuity
## 18.1 Introduction
This clause describes the format of the parameters needed for the support of
IMS Service Continuity. For further information on the use of the parameters
see 3GPP TS 23.237 [71] and also 3GPP TS 23.292 [70].
## 18.2 CS Domain Routeing Number (CSRN)
A CS Domain Routeing Number (CSRN) is a number that is used to route a call
from the IM CN subsystem to the user in the CS domain. The structure is as
defined in clause 3.4.
## 18.3 IP Multimedia Routeing Number (IMRN)
An IP Multimedia Routeing Number (IMRN) is a routable number that points to
the IM CN subsystem. In a roaming scenario, the IMRN has the same structure as
an international ISDN number (see clause 3.4). The Tel URI format of the IMRN
(see IETF RFC 3966 [45]) is treated as a PSI (see clause 13.5) within the IM
CN subsystem.
## 18.4 Session Transfer Number (STN)
A Session Transfer Number (STN) is a public telecommunication number, as
defined by ITU-T Recommendation E.164 [10] and is used by the UE to request
Session Transfer of the media path from PS to CS access.
## 18.5 Session Transfer Identifier (STI)
A Session Transfer Identifier (STI) is a SIP URI or SIP dialogue ID (see IETF
RFC 3261 [26] for more information) and is used by the UE to request Session
Transfer of a media path.
## 18.6 Session Transfer Number for Single Radio Voice Call Continuity (STN-
SR)
The Session Transfer Number for Single Radio Voice Call Continuity (STN-SR) is
a public telecommunication number, as defined by ITU-T Recommendation E.164
[10] and is used by the MSC Server to request session transfer of the media
path from the PS domain to CS domain.
## 18.7 Correlation MSISDN
A Correlation MSISDN (C-MSISDN) is an MSISDN (see clause 3.3) that is used for
correlation of sessions at access transfer and to route a call from the IM CN
subsystem to the same user in the CS domain. The C-MSISDN is equal to the
MSISDN or the basic MSISDN if multinumbering option is used (see 3GPP TS
23.008 [2], clause 2.1.3) of the CS access. Any MSISDN of a user that can be
used for TS11 (telephony) in the CS domain which is not shared by more than
one IMS Private Identity in an IMS CN subsystem, can serve as the user\'s
C-MSISDN.
The C-MSISDN is bound to the IMS Private User Identity and is uniquely
assigned per IMSI and IMS Private User Identity.
If A-MSISDN is available it shall be used as the C-MSISDN. For the definition
of A-MSISDN refer to clause 18.9.
## 18.8 Transfer Identifier for CS to PS Single Radio Voice Call Continuity
(STI-rSR)
A Session Transfer Identifier for CS to PS Single Radio Voice Call Continuity
(STI-rSR) is a SIP URI (see IETF RFC 3261 [26] for more information) and is
used by the UE to request access transfer of a media path.
## 18.9 Additional MSISDN
An Additional MSISDN (A-MSISDN) is an MSISDN (see clause 3.3) that is assigned
to a user with PS subscription in addition to the already assigned MSISDN(s).
The structure of an A-MSISDN should follow the structure of an MSISDN number
as defined in clause 3.3.
The A-MSISDN shall be able to be used for TS11 (telephony) in the CS domain
and shall be uniquely assigned per IMSI.
# 19 Numbering, addressing and identification for the Evolved Packet Core
(EPC)
## 19.1 Introduction
This clause describes the format of the parameters needed to access the
Enhanced Packet Core (EPC). For further information on the use of the
parameters see 3GPP TS 23.401 [72] and 3GPP TS 23.402 [68]. For more
information on the \".3gppnetwork.org\" domain name and its applicability, see
Annex D of the present document
## 19.2 Home Network Realm/Domain
The home Network Realm/Domain shall be in the form of an Internet domain name,
e.g. operator.com, as specified in IETF RFC 1035 [19] and IETF RFC 1123 [20].
The home Network Realm/Domain consists of one or more labels. Each label shall
consist of the alphabetic characters (A-Z and a-z), digits (0-9) and the
hyphen (-) in accordance with IETF RFC 1035 [19]. Each label shall begin and
end with either an alphabetic character or a digit in accordance with IETF RFC
1123 [20]. The case of alphabetic characters is not significant.
The Home Network Realm/Domain shall be in the form of
\"epc.mnc\.mcc\.3gppnetwork.org\", where \"\\" and \"\\"
fields correspond to the MNC and MCC of the operator\'s PLMN. Both the
\"\\" and \"\\" fields are 3 digits long. If the MNC of the PLMN is
2 digits, then a zero shall be added at the beginning.
For example, the Home Network Realm/Domain of an IMSI shall be derived as
described in the following steps:
1\. take the first 5 or 6 digits, depending on whether a 2 or 3 digit MNC is
used (see 3GPP TS 31.102 [27]) and separate them into MCC and MNC; if the MNC
is 2 digits then a zero shall be added at the beginning;
2\. use the MCC and MNC derived in step 1 to create the
\"mnc\.mcc\.3gppnetwork.org\" domain name;
3\. add the label \"epc\" to the beginning of the domain name.
An example of a Home Network Realm/Domain is:
IMSI in use: 234150999999999;
Where:
MCC = 234;
MNC = 15;
MSIN = 0999999999;
Which gives the Home Network Realm/Domain name:
epc.mnc015.mcc234.3gppnetwork.org.
NOTE: If it is not possible for a UE to identify whether a 2 or 3 digit MNC is
used (e.g. USIM is inserted and the length of MNC in the IMSI is not available
in the \"Administrative data\" data file), it is implementation dependent how
the UE determines the length of the MNC (2 or 3 digits).
## 19.3 3GPP access to non-3GPP access interworking
### 19.3.1 Introduction
This clause describes the format of the UE identification needed to access the
3GPP EPC from both 3GPP and non‑3GPP accesses.
The NAI is generated respectively by the S-GW at the S5/S8 reference point and
by the UE for the S2a, S2b and S2c reference points.
The NAI shall be generated as follows:
\- based on the IMSI when the UE is performing a non-emergency Attach;
\- based on the IMEI when the UE is performing an emergency attach and IMSI is
not available (see clause 19.3.6); or
\- based on the IMSI or the IMEI (depending on the interface and information
element) when the UE is performing an emergency attach and IMSI is available
in the UE, as follows:
\- a UE that has an IMSI shall construct an Emergency NAI based on IMSI (see
clause 4.6.1 of 3GPP TS 23.402 [68] and clause 19.3.9 of this specification);
\- if the IMSI is not authenticated by the network, the network requests the
IMEI from the UE and the network shall then construct a NAI based on the IMEI
for identifying the user in the EPC (see 3GPP TS 29.273 [78]).
For further information on the use of the parameters see the clauses below and
3GPP TS 33.402 [69] and 3GPP TS 29.273 [78].
### 19.3.2 Root NAI
The Root NAI shall take the form of an NAI, and shall have the form
username\@realm as specified in clause 2.1 of IETF RFC 4282 [53].
When the username part is the IMSI, the realm part of Root NAI shall be built
according to the following steps:
1\. Convert the leading digits of the IMSI, i.e. MNC and MCC, into a domain
name, as described in clause 19.2.
2\. Prefix domain name with the label of \"nai\".
The resulting realm part of the Root NAI will be in the form:
\"\@nai.epc.mnc\.mcc\.3gppnetwork.org\"
When including the IMSI, the Root NAI is prepended with a specific leading
digit when used for EAP authentication (see 3GPP TS 29.273 [78]) in order to
differentiate between EAP authentication method. The leading digit is:
\- \"0\" when used in EAP-AKA, as specified in IETF RFC 4187 [50]
\- \"6\" when used in EAP-AKA\', as specified in IETF RFC 5448 [82].
The resulting Root NAI will be in the form:
\"0\\@nai.epc.mnc\.mcc\.3gppnetwork.org\" when used for EAP
AKA authentication
\"6\\@nai.epc.mnc\.mcc\.3gppnetwork.org\" when used for EAP
AKA\' authentication
For example, if the IMSI is 234150999999999 (MCC = 234, MNC = 15), the Root
NAI takes the form 0234150999999999\@nai.epc.mnc015.mcc234.3gppnetwork.org for
EAP AKA authentication and the Root NAI takes the form
6234150999999999\@nai.epc.mnc015.mcc234.3gppnetwork.org for EAP AKA\'
authentication.
The NAI sent in the Mobile Node Identifier field in PMIPv6 shall not include
the digit prepended in front of the IMSI based username that is described
above.
### 19.3.3 Decorated NAI
The Decorated NAI shall take the form of a NAI and shall have the form
\'homerealm!username\@otherrealm\' or
\'Visitedrealm!homerealm!username\@otherrealm\' as specified in clause 2.7 of
the IETF RFC 4282 [53].
The realm part of Decorated NAI consists of \'otherrealm\', see the IETF RFC
4282 [53]. \'Homerealm\' is the realm as specified in clause 19.2, using the
HPLMN ID (\'homeMCC\' + \'homeMNC)\'. \'Visitedrealm\' is the realm built
using the VPLMN ID (\'VisitedMCC\' + \'VisitedMNC)\', \'Otherrealm\' is:
\- the realm built using the PLMN ID (visitedMCC + visited MNC) if the service
provider selected as a result of the service provider selection (see 3GPP TS
24.302 [77]) has a PLMN ID; or
\- a domain name of a service provider if the selected service provider does
not have a PLMN ID (3GPP TS 24.302 [77]).
When the username part of Decorated NAI includes the IMSI and the service
provider has a PLMN ID, the Decorated NAI shall be built following the same
steps as specified for Root NAI in clause 19.3.2.
The result will be a decorated NAI of the form:
\- nai.epc.mnc\.mcc\.3gppnetwork.org
!0\\@nai.epc.mnc\.mcc\.3gppnetwork.org for EAP
AKA authentication.
or
\- nai.epc.mnc\.mcc\.3gppnetwork.org
!6\\@nai.epc.mnc\.mcc\.3gppnetwork.org for EAP
AKA\' authentication.
For example, if the service provider has a PLMN ID and the IMSI is
234150999999999 (MCC = 234, MNC = 15) and the PLMN ID of the Selected PLMN is
MCC = 610, MNC = 71, then the Decorated NAI takes the form either as:
\-
nai.epc.mnc015.mcc234.3gppnetwork.org!0234150999999999\@nai.epc.mnc071.mcc610.3gppnetwork.org
for EAP AKA authentication
or
\-
nai.epc.mnc015.mcc234.3gppnetwork.org!6234150999999999\@nai.epc.mnc071.mcc610.3gppnetwork.org
for EAP AKA\' authentication.
For example, if the domain name of a service provider is \'realm.org\' and
IMSI-based permanent username is used, then the Decorated NAI takes the form
either as:
\- nai.epc.mnc\.mcc\.3gppnetwork.org !0\\@realm.org
for EAP AKA authentication
or
\- nai.epc.mnc\.mcc\.3gppnetwork.org !6\\@realm.org
for EAP AKA\' authentication.
If the UE has selected a WLAN that directly interworks with a service provider
in the Equivalent Visited Service Providers (EVSP) list provided by the RPLMN,
see 3GPP TS 23.402 [77], clause 4.8.2b, then the decorated NAI is constructed
to include the realm of this service provider and the realm of RPLMN. If the
domain name of a service provider is \'realm.org\' and IMSI-based permanent
username is used, then the Decorated NAI with double decoration takes the form
either as:
\- nai.epc.mnc\.mcc\.3gppnetwork.org
!nai.epc.mnc\.mcc\.3gppnetwork.org!0\\@realm.org for
EAP AKA authentication
or
\- nai.epc.mnc\.mcc\.3gppnetwork.org
!nai.epc.mnc\.mcc\.3gppnetwork.org!6\\@realm.org for
EAP AKA\' authentication.
When the username part of Decorated NAI includes a Fast Re-authentication NAI,
the Decorated NAI shall be built following the same steps as specified for the
Fast Re-authentication NAI in clause 19.3.4.
When the username part of Decorated NAI includes a Pseudonym, the Decorated
NAI shall be built following the same steps as specified for the Pseudonym
identity in clause 19.3.5.
### 19.3.4 Fast Re‑authentication NAI
The Fast Re-authentication NAI shall take the form of a NAI as specified in
clause 2.1 of IETF RFC 4282 [53]. If the 3GPP AAA server does not return a
complete NAI, the Fast Re-authentication NAI shall consist of the username
part of the fast re-authentication identity as returned from the 3GPP AAA
server and the same realm as used in the permanent user identity. If the 3GPP
AAA server returns a complete NAI as the re-authentication identity, then this
NAI shall be used. The username part of the fast re-authentication identity
shall be decorated as described in 19.3.3 if the Selected PLMN is different
from the HPLMN.
For EAP-AKA authentication, the username portion of the fast re-authentication
identity shall be prepended with the single digit \"4\" as specified in clause
4.1.1.7 of IETF RFC 4187 [50].
For EAP AKA\', see IETF RFC 5448 [82], the Fast Re-authentication NAI shall
comply with IETF RFC 4187 [50] except that the username part of the NAI shall
be prepended with single digit \"8\".
NOTE: The permanent user identity is either the Root NAI or Decorated NAI as
defined in clauses 19.3.2 and 19.3.3, respectively.
EXAMPLE 1: If the fast re-authentication identity returned by the 3GPP AAA
Server is 358405627015, the IMSI is 234150999999999 (MCC = 234, MNC = 15) and
EAP-AKA is used, the Fast Re-authentication NAI for the case when NAI
decoration is not used takes the form:
4358405627015\@nai.epc.mnc015.mcc234.3gppnetwork.org
EXAMPLE 2: If the fast re-authentication identity returned by the 3GPP AAA
Server is \"358405627015\@aaa1.nai.epc.mnc015.mcc234.3gppnetwork.org\" , the
IMSI is 234150999999999 (MCC = 234, MNC = 15) and EAP-AKA\' is used, the Fast
Re-authentication NAI for the case when NAI decoration is not used takes the
form: 8358405627015\@aaa1.nai.epc.mnc015.mcc234.3gppnetwork.org
EXAMPLE 3: If the fast re-authentication identity returned by the 3GPP AAA
Server is 358405627015, the IMSI is 234150999999999 (MCC = 234, MNC = 15), the
PLMN ID of the Selected PLMN is MCC = 610, MNC = 71 and EAP-AKA is used, the
Fast Re-authentication NAI takes the form:
nai.epc.mnc015.mcc234.3gppnetwork.org
!4358405627015\@nai.epc.mnc071.mcc610.3gppnetwork.org.
### 19.3.5 Pseudonym Identities
The pseudonym shall take the form of an NAI, as specified in clause 2.1 of
IETF RFC 4282 [53].
The pseudonym shall be generated as specified in clause 6.4.1 of 3GPP TS
33.234 [55]. This part of the pseudonym shall follow the UTF-8 transformation
format specified in IETF RFC 2279 [54] except for the following reserved
hexadecimal octet value:
FF
When the pseudonym username is coded with FF, this reserved value is used to
indicate the special case when no valid temporary identity exists in the UE
(see 3GPP TS 24.234 [48] for more information). The network shall not allocate
a temporary identity with the whole username coded with the reserved
hexadecimal value FF.
The username portion of the pseudonym identity shall be prepended with the
single digit \"2\" as specified in clause 4.1.1.7 of IETF RFC 4187 [50] for
EAP-AKA. For EAP AKA\', see IETF RFC 5448 [82], the pseudonym NAI shall comply
with IETF RFC 4187 [50] except that the username part of the NAI shall be
prepended with single digit \"7\".
NOTE: The permanent user identity is either the Root NAI or Decorated NAI as
defined in clauses 19.3.2 and 19.3.3, respectively.
EXAMPLE 1: For EAP AKA, if the pseudonym returned by the 3GPP AAA Server is
258405627015 and the IMSI is 234150999999999 (MCC = 234, MNC = 15), the
pseudonym NAI for the case when NAI decoration is not used takes the form:
258405627015\@nai.epc.mnc015.mcc234.3gppnetwork.org
EXAMPLE 2: For EAP AKA\', if the pseudonym returned by the 3GPP AAA Server is
758405627015 and the IMSI is 234150999999999 (MCC = 234, MNC = 15), the
pseudonym NAI for the case when NAI decoration is not used takes the form:
758405627015\@nai.epc.mnc015.mcc234.3gppnetwork.org
EXAMPLE 3: For EAP AKA, if the pseudonym returned by the 3GPP AAA Server is
258405627015 and the IMSI is 234150999999999 (MCC = 234, MNC = 15), and the
PLMN ID of the Selected PLMN is MCC = 610, MNC = 71, the pseudonym NAI takes
the form: nai.epc.mnc015.mcc234.3gppnetwork.org!
258405627015\@nai.epc.mnc071.mcc610.3gppnetwork.org
EXAMPLE 4: For EAP AKA\', if the pseudonym returned by the 3GPP AAA Server is
758405627015 and the IMSI is 234150999999999 (MCC = 234, MNC = 15), and the
PLMN ID of the Selected PLMN is MCC = 610, MNC = 71, the pseudonym NAI takes
the form: nai.epc.mnc015.mcc234.3gppnetwork.org!
758405627015\@nai.epc.mnc071.mcc610.3gppnetwork.org
### 19.3.6 Emergency NAI for Limited Service State
This clause describes the format of the UE identification needed to access the
3GPP EPC from both 3GPP and non‑3GPP accesses, when UE is performing an
emergency attach and IMSI is not available or not authenticated (see clause
19.3.1). For more information, see clauses 4.6.1 and 5.2 of 3GPP TS 23.402
[68].
The Emergency NAI for Limited Service State shall take the form of an NAI, and
shall have the form username\@realm as specified in clause 2.1 of IETF RFC
4282 [53]. The exact format shall be:
imei\\@sos.invalid
NOTE: The top level domain \".invalid\" is a reserved top level domain, as
specified in IETF RFC 2606 [64], and is used here due to the fact that this
NAI never needs to be resolved for routing (as specified in 3GPP TS 23.402
[68]).
or
mac\\@sos.invalid
For example, if the IMEI is 219551288888888, the Emergency NAI for Limited
Service State then takes the form of imei219551288888888\@sos.invalid.
For example, if the MAC address is 44-45-53-54-00-AB, the Emergency NAI for
Limited Service State then takes the form of mac4445535400AB\@sos.invalid,
where the MAC address is represented in hexadecimal format without separators.
### 19.3.7 Alternative NAI
The Alternative NAI shall take the form of a NAI, i.e. \'any_username\@REALM\'
as specified of IETF RFC 4282 [53]. The Alternative NAI shall not be routable
from any AAA server.
The Alternative NAI shall contain a username part which is not derived from
the IMSI. The username part shall not be a null string.
The REALM part of the NAI shall be \"unreachable.3gppnetwork.org\".
The result shall be an NAI in the form of:
\"\\@unreachable.3gppnetwork.org\".
### 19.3.8 Keyname NAI
The keyname NAI shall take the form of an NAI, and shall have the form
username\@realm as specified in clause 2.1 of IETF RFC 4282 [53].
The username part is the EMSK name as defined in IETF RFC 6696 [113].
For ERP exchange with an ER server located in the 3GPP AAA Server, the realm
part of the keyname NAI shall be the realm part of the Root NAI of the UE as
described in clause 19.3.2, i.e. the realm part of the keyName-NAI will be in
the form:
\"\@nai.epc.mnc\.mcc\.3gppnetwork.org\"
For ERP exchange with an ER server located in the TWAP or in the 3GPP AAA
Proxy, the realm part of the keyname NAI shall be the realm discovered by the
UE in the non-3GPP access network (received at the lower layer or through an
ERP exchange as described in IETF RFC 6696 [113]).
### 19.3.9 IMSI-based Emergency NAI
This clause describes the format of the UE identification needed to access the
3GPP EPC from non‑3GPP accesses, when UE is performing an emergency attach and
IMSI is available. For more information, see clause 4.4.1 of 3GPP TS 24.302
[77].
The IMSI-based Emergency NAI shall take the form of an NAI and shall be
encoded as the Root NAI as specified in clause 19.3.2, but with the realm name
prepended by the \"sos\" label. The resulting realm part of the IMSI-based
Emergency NAI will be in the form:
\"\@sos.nai.epc.mnc\.mcc\.3gppnetwork.org\"
The resulting IMSI-based Emergency NAI will be in the form:
\"0\\@sos.nai.epc.mnc\.mcc\.3gppnetwork.org\" when used for
EAP AKA authentication
\"6\\@sos.nai.epc.mnc\.mcc\.3gppnetwork.org\" when used for
EAP AKA\' authentication
For example, if the IMSI is 234150999999999 (MCC = 234, MNC = 15), the IMSI-
based Emergency NAI takes the form
0234150999999999\@sos.nai.epc.mnc015.mcc234.3gppnetwork.org for EAP AKA
authentication and it takes the form
6234150999999999\@sos.nai.epc.mnc015.mcc234.3gppnetwork.org for EAP AKA\'
authentication.
## 19.4 Identifiers for Domain Name System procedures
### 19.4.1 Introduction
This clause describes Domain Name System (DNS) related identifiers used by the
procedures specified in 3GPP TS 29.303 [73].
The DNS identifiers for APNs for legacy systems (as defined in clause 9), RAIs
(as defined in clause C.1, GSNs (as defined in clause C.2) and RNCs (as
defined in clause C.3) in the present document use the top level domain
\".gprs\" and have a similar purpose and function as those described below.
These clauses are still valid and DNS records based on these and the below
types of identifiers are expected to coexist in an operator\'s network for the
purpose of backwards compatibility and interworking with legacy networks.
The APN as defined in clause 9 is used also in EPC to identify the access
network to be used for a specific PDN connection or PDP Context. In addition,
the APN Network Identifier (APN-NI) part of the APN as defined in clause 9.1.1
of the present document may be used to access a service associated with a PDN-
GW or GGSN. This is achieved by defining an APN which in addition to being
usable to select a PDN-GW or GGSN is locally interpreted by the PDN‑GW or GGSN
as a request for a specific service.
For DNS procedures defined in 3GPP TS 29.303 [73], an APN-FQDN derived from a
given APN is used instead of the APN itself as defined in clause 19.4.2.2. For
all other purposes, including communication between EPC nodes and to the UE,
the APN format defined in clause 9 is used. In order to support backwards
compatibility with existing GPRS/PS roaming using the Gn/Gp interfaces, the
APN as specified in clause 9 of the present document may also be used for the
DNS procedures as defined in 3GPP TS 23.060 [3].
### 19.4.2 Fully Qualified Domain Names (FQDNs)
#### 19.4.2.1 General
The encoding of any identifier used as part of a Fully Qualifed Domain Name
(FQDN) shall follow the Name Syntax defined in IETF RFC 2181 [18], IETF RFC
1035 [19] and IETF RFC 1123 [20]. An FQDN consists of one or more labels. Each
label is coded as a one octet length field followed by that number of octets
coded as 8 bit ASCII characters. Following IETF RFC 1035 [19] the labels shall
consist only of the alphabetic characters (A-Z and a-z), digits (0-9) and the
hyphen (-). Following IETF RFC 1123 [20], the label shall begin and end with
either an alphabetic character or a digit. The case of alphabetic characters
is not significant. Identifiers are not terminated by a length byte of zero.
NOTE: A length byte of zero is added by the querying entity at the end of the
FQDN before interrogating a DNS server.
For the purpose of presentation, identifiers are usually displayed as a string
in which the labels are separated by dots (e.g. \"Label1.Label2.Label3\").
#### 19.4.2.2 Access Point Name FQDN (APN-FQDN)
##### 19.4.2.2.1 Structure
The Access Point Name FQDN (APN-FQDN) is derived from an APN as follows. The
APN consists of an APN Network Identifier (APN‑NI) and an APN Operator
Identifier (APN‑OI), which are as defined in clause 9.1.1 and 9.1.2 of the
present document.
If an APN is constructed using the default APN-OI, the APN-FQDN shall be
obtained from the APN by inserting the labels \"apn.epc.\" between the APN‑NI
and the default APN ‑ OI, and by replacing the label \".gprs\" at the end of
the default APN‑OI with the labels \".3gppnetwork.org\".
EXAMPLE1: For an APN of internet.mnc015.mcc234.gprs, the derived APN‑FQDN is
internet.apn.epc.mnc015.mcc234.3gppnetwork.org
If an APN is constructed using the APN-OI Replacement field (as defined in
3GPP TS 23.060 [3] and 3GPP TS 23.401 [72]), the APN-FQDN shall be obtained
from the APN by inserting the labels \"apn.epc.\" between the label
\"mnc\\" and its preceding label, and by replacing the label \".gprs\" at
the end of the APN‑OI Replacement field with the labels \".3gppnetwork.org\".
EXAMPLE 2: If an APN-OI Replacement field is province1.mnc015.mcc234.gprs and
an APN-NI is internet, the derived APN‑FQDN is internet.
province1.apn.epc.mnc015.mcc234.3gppnetwork.org
##### 19.4.2.2.2 Void
##### 19.4.2.2.3 Void
##### 19.4.2.2.4 Void
#### 19.4.2.3 Tracking Area Identity (TAI)
The Tracking Area Identity (TAI) consists of a Mobile Country Code (MCC),
Mobile Network Code (MNC), and Tracking Area Code (TAC). It is composed as
shown in figure 19.4.2.3.1.
Figure 19.4.2.3.1: Structure of the Tracking Area Identity (TAI)
The TAI is composed of the following elements:
\- Mobile Country Code (MCC) identifies the country in which the PLMN is
located. The value of the MCC is the same as the three digit MCC contained in
the IMSI;
\- Mobile Network Code (MNC) is a code identifying the PLMN in that country.
The value of the MNC is the same as the two or three digit MNC contained in
the IMSI;
\- Tracking Area Code (TAC) is a fixed length code (of 2 octets) identifying a
Tracking Area within a PLMN. This part of the tracking area identification
shall be coded using a full hexadecimal representation. The following are
reserved hexadecimal values of the TAC:
\- 0000, and
\- FFFE.
NOTE: The above reserved values are used in some special cases when no valid
TAI exists in the MS (see 3GPP TS 24.301 [90] for more information).
A subdomain name can be derived from the TAI. This shall be done by adding the
label \"tac\" to the beginning of the Home Network Realm/Domain (see clause
19.2) and encoding the TAC as a sub-domain. This is called the TAI FQDN..
The TAI FQDN shall be constructed as follows:
tac-lb\.tac-hb\.tac.epc.mnc\.mcc\.3gppnetwork.org
The TAC is a 16-bit integer. The \ is the hexadecimal string of
the most significant byte in the TAC and the \ is the
hexadecimal string of the least significant byte. If there are less than 2
significant digits in \ or \, \"0\" digit(s)
shall be inserted at the left side to fill the 2 digit coding.
#### 19.4.2.4 Mobility Management Entity (MME)
A Mobility Management Entity (MME) within an operator\'s network is identified
using a MME Group ID (MMEGI), and an MME Code (MMEC).
A subdomain name shall be derived from the MNC and MCC by adding the label
\"mme\" to the beginning of the Home Network Realm/Domain (see clause 19.2).
The MME node FQDN shall be constructed as:
mmec\.mmegi\.mme.epc.mnc\.mcc\.3gppnetwork.org
Where \ and \ are the hexadecimal strings of the MMEC and MMEGI.
An MME pool FQDN shall be constructed as:
mmegi\.mme.epc.mnc\.mcc\.3gppnetwork.org
If there are less than 2 significant digits in \, \"0\" digit(s) shall
be inserted at the left side to fill the 2 digit coding. If there are less
than 4 significant digits in \, \"0\" digit(s) shall be inserted at the
left side to fill the 4 digit coding.
#### 19.4.2.5 Routing Area Identity (RAI) - EPC
The Routing Area Identity (RAI) consists of a RAC, LAC, MNC and MCC.
A subdomain name for use by core network nodes based on RAI shall be derived
from the MNC and MCC by adding the label \"rac\" to the beginning of the Home
Network Realm/Domain (see clause 19.2).
The RAI FQDN shall be constructed as:
rac\.lac\.rac.epc.mnc\.mcc\.3gppnetwork.org
\ and \ shall be Hex coded digits representing the LAC and RAC codes
respectively.
If there are less than 4 significant digits in \ or \, one or more
\"0\" digit(s) is/are inserted at the left side to fill the 4 digit coding.
Note: Above subdomain is for release 8 core network nodes to allow DNS records
other than A/AAAA records. The subdomain name in Annex C.2 are still used for
existing A/AAAA records for pre-Release 8 nodes and are also still used for
backward compatibility.
#### 19.4.2.6 Serving GPRS Support Node (SGSN) within SGSN pool
A specific SGSN within an operator\'s network is identified using the RAI FQDN
(clause 19.4.2.5) and the Network Resource Identifier (NRI) (see 3GPP TS
23.236 [23]). Such an identifier can be used by a target MME or SGSN node to
connect to the source SGSN node.
The SGSN FQDN shall be constructed as:
nri-sgsn\.rac\.lac\.rac.epc.mnc\.mcc\.3gppnetwork.org
\ shall be Hex coded digits representing the NRI code of the SGSN.
If there are less than 4 significant digits in \, one or more \"0\"
digit(s) is/are inserted at the left side to fill the 4 digit coding. Coding
for other fields is the same as in Clause 19.4.2.5.
When a target MME constructs the FQDN of the source SGSN in the case of SGSN
pooling, it should derive the NRI from the 8-bit MME Code received in the GUTI
from the UE. However, if the length of the NRI, e.g., X, which is configured
in the MME is less than 8 bits, then the MME should use only the most
significant X bits of the MME Code as the NRI within the SGSN FQDN.
Note: Above subdomain is for release 8 core network nodes to allow DNS records
other than A/AAAA records. The subdomain name in Annex C.2 are still used for
existing A/AAAA records for pre-Release 8 nodes and are also still used for
backward compatibility. .
#### 19.4.2.7 Target RNC-ID for U-TRAN
In the special case of a UTRAN target RNC a possible SGSN that can control
that RNC can be identified by RNC-ID. This identifier can be used for SRNS
relocation with a U-TRAN target RNC.
A subdomain name for use by core network nodes based on RNC-ID shall be
derived from the MNC and MCC by adding the label \"rnc\" to the beginning of
the Home Network Realm/Domain (see clause 19.2).
The RNC FQDN shall be constructed as:
rnc\.rnc.epc.mnc\.mcc\.3gppnetwork.org
\ shall be Hex coded digits representing the RNC-ID code of the RNC.
If there are less than 4 significant digits in \, one or more \"0\"
digit(s) is/are inserted at the left side to fill the 4 digit coding.
NOTE: Above subdomain is for release 8 core network nodes to allow DNS records
other than A/AAAA records. The subdomain name in Annex C.3 are still used for
existing A/AAAA records for pre-Release 8 nodes and are still used for
backward compatibility. However, RNC-ID in Annex C.3 was originally intended
for the case where only one SGSN controlled an RNC-ID and gave the SGSN IP
address. The usage for the above RNC FQDN is potentially broader and can
target an SGSN pool.
#### 19.4.2.8 DNS subdomain for operator usage in EPC
The EPC nodes DNS subdomain (DNS zone) shall be derived from the MNC and MCC
by adding the label \"node\" to the beginning of the Home Network Realm/Domain
(see clause 19.2) and shall be constructed as:
node.epc.mnc\.mcc\.3gppnetwork.org
This DNS subdomain is formally placed into the operator\'s control. 3GPP shall
never take this DNS subdomain back or any zone cut/subdomain within it for any
purpose. As a result the operator can safely provision any DNS records it
chooses under this subdomain without concern about future 3GPP standards
encroaching on the DNS names within this zone.
#### 19.4.2.9 ePDG FQDN and Visited Country FQDN for non-emergency bearer
services
##### 19.4.2.9.1 General
The ePDG Fully Qualified Domain Name (ePDG FQDN), for non-emergency bearers
services, shall be constructed using one of the following formats, as
specified in clause 4.5.4 of 3GPP TS 23.402 [68]:
\- Operator Identifier based ePDG FQDN;
\- Tracking/Location Area Identity based ePDG FQDN;
\- the ePDG FQDN configured in the UE by the HPLMN.
NOTE: The ePDG FQDN configured in the UE can have a different format than
those specified in the following clauses.
The Visited Country FQDN is used by a roaming UE to determine whether the
visited country mandates the selection of an ePDG in this country (see clause
4.5.4.5 of 3GPP TS 23.402 [68]). The Visited Country FQDN shall be constructed
as specified in clause 19.4.2.9.4. The Replacement field used in DNS-based
Discovery of regulatory requirements shall be constructed as specified in
clause 19.4.2.9.5.
##### 19.4.2.9.2 Operator Identifier based ePDG FQDN
The ePDG Fully Qualified Domain Name (ePDG FQDN) contains an Operator
Identifier that shall uniquely identify the PLMN where the ePDG is located.
The ePDG FQDN is composed of seven labels. The last three labels shall be
\"pub.3gppnetwork.org\". The third and fourth labels together shall uniquely
identify the PLMN. The first two labels shall be \"epdg.epc\". The ePDG FQDN
shall be constructed as follows:
\"epdg.epc.mnc\.mcc\.pub.3gppnetwork.org\"
In the roaming case, the UE can utilise the services of the VPLMN or the HPLMN
(see 3GPP TS 23.402 [68] and 3GPP TS 24.302 [77]). In this case, the Operator
Identifier based ePDG FQDN shall be constructed as described above, but using
the MNC and MCC of the VPLMN or the HPLMN.
In order to guarantee inter-PLMN DNS translation, the \ and \ coding
used in the \"epdg.epc. mnc\.mcc\.pub.3gppnetwork.org\" format of
the Operator Identifier based ePDG FQDN shall be:
\- \ = 3 digits
\- \ = 3 digits
If there are only 2 significant digits in the MNC, one \"0\" digit shall be
inserted at the left side to fill the 3 digits coding of MNC in the ePDG FQDN.
As an example, the Operator Identifier based ePDG FQDN for MCC 345 and MNC 12
is coded in the DNS as:
\"epdg.epc.mnc012.mcc345.pub.3gppnetwork.org\".
##### 19.4.2.9.3 Tracking/Location Area Identity based ePDG FQDN
The Tracking/Location Area Identity based ePDG FQDN is used to support
location based ePDG selection within a PLMN.
There are two Tracking Area Identity based ePDG FQDNs defined: one based on a
TAI with a 2 octet TAC and a 5GS one based on a 3 octet TAC.
1) The Tracking Area Identity based ePDG FQDN using a 2 octet TAC and the
Location Area Identity based ePDG FQDN shall be constructed respectively as:
\"tac-lb\.tac-hb\.tac.epdg.epc.mnc\.mcc\.pub.3gppnetwork.org\"
and
\"lac\.epdg.epc.mnc\.mcc\.pub.3gppnetwork.org\"
where
\- the \ and \ shall identify the PLMN where the ePDG is located and
shall be encoded as
\- \ = 3 digits
\- \ = 3 digits
If there are only 2 significant digits in the MNC, one \"0\" digit shall be
inserted at the left side to fill the 3 digits coding of MNC in the ePDG FQDN.
\- the \, together with the \ and \ shall identify the Tracking
Area Identity the UE is located in.\ \ The TAC is a 16-bit integer. The \ is the hexadecimal string of the most significant byte in the TAC
and the \ is the hexadecimal string of the least significant
byte. If there are less than 2 significant digits in \ or
\, \"0\" digit(s) shall be inserted at the left side to fill
the 2 digit coding;
\- the \, together with the \ and \ shall identify the Location
Area Identity the UE is located in.\ \ The LAC> shall be hexadecimal coded
digits representing the LAC; if there are less than 4 significant digits in
\, one or more \"0\" digit(s) is/are inserted at the left side to fill
the 4 digit coding;
As examples,
\- the Tracking Area Identity based ePDG FQDN for the TAC H\'0B21, MCC 345 and
MNC 12 is coded in the DNS as:
\" tac-lb21.tac-hb0b.tac.epdg.epc.mnc012.mcc345.pub.3gppnetwork.org\"
\- the Location Area Identity based ePDG FQDN for the LAC H\'0B21, MCC 345 and
MNC 12 is coded in the DNS as:
\" lac0b21.epdg.epc.mnc012.mcc345.pub.3gppnetwork.org\"
2) The 5GS Tracking Area Identity based ePDG FQDN using a 3 octet TAC shall be
constructed respectively as:
\"tac-lb\.tac-mb\.tac-hb\.5gstac. epdg.epc.mnc\.mcc\.pub.3gppnetwork.org\"
where
\- the \ and \ shall identify the PLMN where the ePDG is located and
shall be encoded as
\- \ = 3 digits
\- \ = 3 digits
If there are only 2 significant digits in the MNC, one \"0\" digit shall be
inserted at the left side to fill the 3 digits coding of MNC in the ePDG FQDN.
\- the \, together with the \ and \ shall identify the 5GS
Tracking Area Identity the UE is located in.\ \ The 5GS TAC is a 24-bit
integer. The \ is the hexadecimal string of the most
significant byte in the TAC and the \ is the hexadecimal string
of the least significant byte. If there are less than 2 significant digits in
\, \ or \, \"0\" digit(s) shall
be inserted at the left side to fill the 2 digits coding;
As examples,
\- the 5GS Tracking Area Identity based ePDG FQDN for the 5GS TAC H\'0B1A21,
MCC 345 and MNC 12 is coded in the DNS as:
\"tac-lb21.tac-mb1a.tac-
hb0b.5gstac.epdg.epc.mnc012.mcc345.pub.3gppnetwork.org\"
##### 19.4.2.9.4 Visited Country FQDN
The Visited Country FQDN, used by a roaming UE to determine whether the
visited country mandates the selection of an ePDG in this country, shall be
constructed as described below.
The Visited Country FQDN shall contain a MCC that uniquely identifies the
country in which the UE is located.
The Visited Country FQDN is composed of seven labels. The last three labels
shall be \"pub.3gppnetwork.org\". The fourth label shall be \"visited-
country\". The third label shall uniquely identify the MCC of the visited
country. The first and second labels shall be \"epdg.epc\". The Visited
Country FQDN shall be constructed as follows:
\"epdg.epc.mcc\.visited-country.pub.3gppnetwork.org\"
The \ coding used in this FQDN shall be:
\- \ = 3 digits
As an example, the Visited Country FQDN for MCC 345 is coded in the DNS as:
\"epdg.epc. mcc345.visited-country.pub.3gppnetwork.org\".
##### 19.4.2.9.5 Replacement field used in DNS-based Discovery of regulatory
requirements
If the visited country mandates the selection of an ePDG in this country (see
clause 4.5.4.5 of 3GPP TS 23.402 [68]), the NAPTR record(s) associated to the
Visited Country FQDN shall be provisioned with the replacement field
containing the identity of the PLMN(s) in the visited country which may be
used for ePDG selection.
The replacement field shall take the form of an Operator Identifier based ePDG
FQDN as specified in clause 19.4.2.9.2.
For countries with multiple MCC, the NAPTR records returned by the DNS may
contain a different MCC than the MCC indicated in the Visited Country FQDN.
As an example, the NAPTR records associated to the Visited Country FQDN for
MCC 345, and for MNC 012, 013 and 014, are provisioned in the DNS as:
epdg.epc.mcc345.visited-country.pub.3gppnetwork.org
; IN NAPTR order pref. flag service regexp replacement
IN NAPTR 100 999 \"\" \"\" epdg.epc.mnc012.mcc345.pub.3gppnetwork.org
IN NAPTR 100 999 \"\" \"\" epdg.epc.mnc013.mcc345.pub.3gppnetwork.org
IN NAPTR 100 999 \"\" \"\" epdg.epc.mnc014.mcc345.pub.3gppnetwork.org
#### 19.4.2.9A ePDG FQDN for emergency bearer services
##### 19.4.2.9A.1 General
The ePDG FQDN used for the selection of an ePDG supporting emergency bearer
services shall be constructed using one of the following formats, as specified
in clause 4.5.4a of 3GPP TS 23.402 [68] and 3GPP TS 24.302 [77]:
\- an Operator Identifier based Emergency ePDG FQDN;
\- a Tracking/Location Area Identity based Emergency ePDG FQDN;
\- an Emergency ePDG FQDN configured in the UE by the HPLMN, which may have a
different format than the one specified in the following clause.
The Visited Country Emergency FQDN is used by a roaming UE, in the context of
an emergency session, to determine whether the visited country mandates the
selection of an ePDG in this country. The Visited Country Emergency FQDN shall
be constructed as specified in clause 19.4.2.9A.4. The Replacement field used
in DNS-based Discovery of regulatory requirements shall be constructed as
specified in clause 19.4.2.9A.5.
The Visited Country Emergency Numbers FQDN is used by a roaming UE to
determine the list of emergency numbers and related emergency service types in
the the visited country.
##### 19.4.2.9A.2 Operator Identifier based Emergency ePDG FQDN
The Operator Identifier based Emergency ePDG FQDN shall be constructed as
specified for the Operator Identifier based ePDG FQDN in clause 19.4.2.9.2,
with the addition of the label \"sos\" before the labels \"epdg.epc\". The
Emergency ePDG FQDN shall be constructed as follows:
\"sos.epdg.epc.mnc\.mcc\.pub.3gppnetwork.org\"
As an example, the Operator Identifier based Emergency ePDG FQDN for MCC 345
and MNC 12 is coded in the DNS as:
\"sos.epdg.epc.mnc012.mcc345.pub.3gppnetwork.org\".
##### 19.4.2.9A.3 Tracking/Location Area Identity based Emergency ePDG FQDN
There are two Tracking Area Identity based Emergency ePDG FQDNs defined: one
based on a TAI with a 2 octet TAC and a 5GS one based on a 3 octet TAC.
1) The Tracking Area Identity based Emergency ePDG FQDN using a 2 octet TAC
and the Location Area Identity based Emergency ePDG FQDN shall be constructed
as specified for the Tracking Area Identity based ePDG FQDN and the Location
Area Identity based ePDG FQDN in clause 19.4.2.9.3, with the addition of the
label \"sos\" before the labels \"epdg.epc\".
The Tracking Area Identity based Emergency ePDG FQDN and the Location Area
Identity based Emergency ePDG FQDN shall be constructed as follows:
\"tac-lb\.tac-hb\.tac.sos.epdg.epc.mnc\.mcc\.pub.3gppnetwork.org\"
and
\"lac\.sos.epdg.epc.mnc\.mcc\.pub.3gppnetwork.org\"
As examples,
\- the Tracking Area Identity based Emergency ePDG FQDN for the TAC H\'0B21,
MCC 345 and MNC 12 is coded in the DNS as:
\" tac-lb21.tac-hb0b.tac.sos.epdg.epc.mnc012.mcc345.pub.3gppnetwork.org\"
\- the Location Area Identity based Emergency ePDG FQDN for the LAC H\'0B21,
MCC 345 and MNC 12 is coded in the DNS as:
\" lac0b21.sos.epdg.epc.mnc012.mcc345.pub.3gppnetwork.org\"
2) The 5GS Tracking Area Identity based Emergency ePDG FQDN using a 3 octet
TAC shall be constructed as specified for the 5GS Tracking Area Identity based
ePDG FQDN in clause 19.4.2.9.3, with the addition of the label \"sos\" before
the labels \"epdg.epc\".
The 5GS Tracking Area Identity based Emergency ePDG FQDN shall be constructed
as follows:
\"tac-lb\.tac-mb\.tac-hb\.5gstac.sos. epdg.epc.mnc\.mcc\.pub.3gppnetwork.org \"
As examples,
\- the 5GS Tracking Area Identity based Emergency ePDG FQDN for the 5GS TAC
H\'0B1A21, MCC 345 and MNC 12 is coded in the DNS as:
\"tac-lb21.tac-mb1a.tac-
hb0b.5gstac.sos.epdg.epc.mnc012.mcc345.pub.3gppnetwork.org\"
##### 19.4.2.9A.4 Visited Country Emergency FQDN
The Visited Country Emergency FQDN shall be constructed as specified for the
Visited Country FQDN in clause 19.4.2.9.4, with the addition of the label
\"sos\" before the labels \"epdg.epc\".
The Visited Country Emergency FQDN shall be constructed as follows:
\"sos.epdg.epc.mcc\.visited-country.pub.3gppnetwork.org\"
As an example, the Visited Country Emergency FQDN for MCC 345 is coded in the
DNS as:
\"sos.epdg.epc. mcc345.visited-country.pub.3gppnetwork.org\".
##### 19.4.2.9A.5 Replacement field used in DNS-based Discovery of regulatory
requirements for emergency services
The requirements specified in clause 19.4.2.9.5 for the Replacement field used
in DNS-based Discovery of regulatory requirements shall apply with the
following modification.
The replacement field shall take the form of an Operator Identifier based
Emergency ePDG FQDN as specified in clause 19.4.2.9A.2.
As an example, the NAPTR records associated to the Visited Country FQDN for
MCC 345, and for MNC 012, 013 and 014, are provisioned in the DNS as:
sos.epdg.epc.mcc345.visited-country.pub.3gppnetwork.org
; IN NAPTR order pref. flag service regexp replacement
IN NAPTR 100 999 \"\" \"\" sos.epdg.epc.mnc012.mcc345.pub.3gppnetwork.org
IN NAPTR 100 999 \"\" \"\" sos.epdg.epc.mnc013.mcc345.pub.3gppnetwork.org
IN NAPTR 100 999 \"\" \"\" sos.epdg.epc.mnc014.mcc345.pub.3gppnetwork.org
##### 19.4.2.9A.6 Country based Emergency Numbers FQDN
The Country based Emergency Numbers FQDN shall be constructed as specified for
the Visited Country Emergency FQDN in clause 19.4.2.9A.4, but with replacing
the label \"epdg\" by the label \"en\".
The Country based Emergency Numbers FQDN shall be constructed as follows:
\"sos.en.epc.mcc\.visited-country.pub.3gppnetwork.org\"
NOTE: Even though a label named \"visited-country\" is present, operators in
the home country can use the same mechanism to provide emergency numbers and
associated type(s).
As an example, the Country based Emergency Numbers FQDN for MCC 345 is coded
in the DNS as:
\"sos.en.epc. mcc345.visited-country.pub.3gppnetwork.org\".
##### 19.4.2.9A.7 Replacement field used in DNS-based Discovery of Emergency
Numbers
The NAPTR record(s) associated to the Country based Emergency Numbers FQDN
shall be provisioned with the replacement field containing the emergency
numbers and related emergency service types.
The replacement field shall take the following form and include both an
emergency number and at least one emergency service type:
\.\.sos.en.epc.mcc\.visited-
country.pub.3gppnetwork.org
The \ and \ shall follow the syntax defined
in Table 19.4.2.9A.7-1. The \ shall consist of a single
label. The \ shall consist of at least one label.
Table 19.4.2.9A.7-1: Syntax of emergency number and emergency type
emergency-number = DIGIT*DIGIT ; at least one DIGIT
emergency-type = \"sos\" *(\".\" sub-label)
sub-label = let-dig [ *61let-dig-hyp let-dig ]
let-dig-hyp = let-dig / \"-\"
let-dig = ALPHA / DIGIT
ALPHA = %x41-5A / %x61-7A ; A-Z / a-z
As an example, the NAPTR records associated to the Country based Emergency
Numbers FQDN for MCC 345 are provisioned in the DNS as:
sos.en.epc.mcc345.visited-country.pub.3gppnetwork.org
; IN NAPTR order pref. flag service regexp replacement
IN NAPTR 100 999 \"\" \"\" sos.ambulance.15.sos.en.epc.mcc345.visited-
country.pub.3gppnetwork.org
IN NAPTR 100 999 \"\" \"\" sos.police.17.sos.en.epc.mcc345.visited-
country.pub.3gppnetwork.org
IN NAPTR 100 999 \"\" \"\" sos.fire.18.sos.en.epc.mcc345.visited-
country.pub.3gppnetwork.org
IN NAPTR 100 999 \"\" \"\" sos.marine.196.sos.en.epc.mcc345.visited-
country.pub.3gppnetwork.org
#### 19.4.2.10 Global eNodeB-ID for eNodeB
The Global eNodeB-ID is used to identify eNodeBs globally which is composed of
the concatenation of MCC, MNC and the eNodeBID. The MCC and MNC are the same
as included in the E-UTRAN Cell Global Identifier (ECGI) (see clause 19.6).
A subdomain name shall be derived from the MNC and MCC by adding the label
\"enb\" to the beginning of the Home Network Realm/Domain (see clause 19.2).
The Global eNodeB-ID FQDN shall be constructed as:
enb\.enb.epc.mnc\.mcc\.3gppnetwork.org
The \ shall be coded using a full hexadecimal representation. If
there are less than 4 significant digits in \, \"0\" digit(s)
shall be inserted at the left side to fill the 4 digit coding.
#### 19.4.2.11 Local Home Network identifier
The Local Home Network identifier uniquely identifies a local home network.
For the definition of a local home network see 3GPP TS 23.060 [3] and 3GPP TS
23.401 [72].
A subdomain name shall be derived from the MNC and MCC from the visited
network by adding the label \"lhn\" to the beginning of the Home Network
Realm/Domain (see clause 19.2).
The Local Home Network-ID FQDN shall be constructed as:
lhn\.lhn.epc.mnc\.mcc\.3gppnetwork.org
The \ length and content is an operator choice. The labels shall
follow the rules specified in clause 19.4.2.1.
#### 19.4.2.12 UCMF
The UCMF FQDN shall be constructed as:
ucmf.epc.mnc\.mcc\.3gppnetwork.org
Where \ and \ are taken from the serving network identity.
#### 19.4.2.13 PGW Set FQDN
A PGW Set Identifier is a globally unique identifier of a set of equivalent
and interchangeable PGWs from a given network that provides distribution,
redundancy and scalability.
A PGW Set Identifier shall be constructed from the MCC, MNC and a Set ID.
The PGW Set FQDN shall be constructed as follows:
set\.pgwset.epc.mnc\.mcc\.3gppnetwork.org
where
\- \ = 3 digits
\- \ = 3 digits
If there are only 2 significant digits in the MNC, one \"0\" digit shall be
inserted at the left side to fill the 3 digits coding of MNC in the PGW Set
FQDN.
\- \ is the string representing a PGW Set within the PLMN, chosen by
the operator, that shall consist of alphabetic characters (A-Z and a-z),
digits (0-9) and/or the hyphen (-) and that shall end with either an
alphabetic character or a digit, where the case of alphabetic characters is
not significant (i.e. two PGW Set IDs with the same characters but using
different lower and upper cases identify the same PGW Set).
EXAMPLE: \"set12.pgwset.epc.mnc012.mcc345.3gppnetwork.org\" (for the PGW set
from MCC 345, MNC 12 and Set ID \"12\")
### 19.4.3 Service and Protocol service names for 3GPP
A list of standardized \"service-parms\" names is required to identify a
\"service\" as defined in clause 6.5 of IETF RFC 3958 [74].
The following table defines the names to be used in the procedures specified
in 3GPP TS 29.303 [73]:
Table 19.4.3.1: List of \'app-service\' and \'app-protocol\' names
+----------------------+----------------------+----------------------+ | Description | IETF RFC 3958 clause | IETF RFC 3958 | | | 6.5\ | clause 6.5\ | | | \'app-service\' name | \'app-protocol\' | | | | name | +======================+======================+======================+ | PGW and interface | x-3gpp-pgw | x-s5-gtp, | | types supported by | | x-s5-pmip,\ | | the PGW | | x-s8-gtp , | | | | x-s8-pmip, | | | | | | | | x-s2a-pmip, | | | | x-s2a-mipv4, | | | | x-s2a-gtp, | | | | x-s2b-pmip, | | | | x-s2b-gtp, | | | | x-s2c-dsmip, | | | | | | | | x-gn, x-gp | | | | | | | | See NOTE. | +----------------------+----------------------+----------------------+ | SGW and interface | x-3gpp-sgw | x-s5-gtp, | | types supported by | | x-s5-pmip,\ | | the SGW | | x-s8-gtp, | | | | x-s8-pmip,\ | | | | x-s11, x-s12, x-s4, | | | | | | | | x-s1-u, x-s2a-pmip, | | | | x-s2b-pmip | | | | | | | | See NOTE. | +----------------------+----------------------+----------------------+ | GGSN | x-3gpp-ggsn | x-gn, x-gp | | | | | | | | See NOTE. | +----------------------+----------------------+----------------------+ | SGSN | x-3gpp-sgsn | x-gn, x-gp, x-s4, | | | | x-s3, x-s16, x-sv,\ | | | | x-nqprime | | | | | | | | See NOTE. | +----------------------+----------------------+----------------------+ | MME and interface | x-3gpp-mme | x-s10, x-s11, x-s3, | | types supported by | | x-s6a, x-s1-mme, | | the MME | | x-gn, x-gp, x-sv, | | | | x-nq | | | | | | | | See NOTE. | +----------------------+----------------------+----------------------+ | MSC Server | x-3gpp-msc | x-sv | +----------------------+----------------------+----------------------+ | UP function | x-3gpp-upf | x-sxa, x-sxb, x-sxc, | | | | x-n4, x-n4mb | | | | | | | | See NOTE. | +----------------------+----------------------+----------------------+ | AMF | x-3gpp-amf | x-n2 | | | | | | | | x-n26 | | | | | | | | See NOTE. | +----------------------+----------------------+----------------------+ | UCMF | x-3gpp-ucmf | x-urcmp | | | | | | | | x-n55 | +----------------------+----------------------+----------------------+ | NOTE: When using | | | | Dedicated Core | | | | Networks, the | | | | character string | | | | \"+ue-\\" shall be | | | | appended to the | | | | \'app-protocol\' | | | | name, for the | | | | interfaces | | | | applicable to | | | | Dedicated Core | | | | Networks, where | | | | \\" | | | | contains one or more | | | | UE usage type | | | | values. See | | | | 3G | | | | PP TS 29.303 [73], | | | | 3G | | | | PP TS 29.272 [108] | | | | and | | | | 3GP | | | | P TS 29.273 [78].\ | | | | Example: | | | | x-s5-gtp+ue-\\ | | | | If multiple UE usage | | | | type values are | | | | embedded in the | | | | \"+ue-\\", they shall | | | | be separated by the | | | | symbol \".\", e.g. | | | | \"+ue-1.3.4.20\" as | | | | specified in | | | | I | | | | ETF RFC 3958 [74]. | | | | | | | | To select a network | | | | node with a | | | | particular network | | | | capability needed, | | | | the character string | | | | \"+nc-\\" shall | | | | be appended to the | | | | \'app-protocol\' | | | | name, where \ contains one or | | | | more network | | | | capability of the | | | | node. See | | | | 3G | | | | PP TS 29.303 [73]. | | | | | | | | Example: | | | | x | | | | -s5-gtp+nc-\ | | | | | | | | If multiple network | | | | capability of the | | | | node are embedded in | | | | the \"+nc-\\", they | | | | shall be separated | | | | by the symbol \".\", | | | | e.g. \"+nc-nr.smf\", | | | | as specified in | | | | IE | | | | TF RFC 3958 [74].\ | | | | \ | | | | To select a network | | | | node with a | | | | particular network | | | | capability needed | | | | within a certain | | | | Dedicated Core | | | | Networks, the | | | | character string | | | | \"+nc-\\" and | | | | \"+ue-\\" shall be | | | | appended to the | | | | \'app-protocol\' | | | | name, where \ | | | | contains one or more | | | | UE usage type values | | | | and the | | | | | | | | Example: | | | | x | | | | -s5-gtp+nc-\+ue-\ or | | | | x-s5-gtp+ue-\+nc-\ | | | +----------------------+----------------------+----------------------+
NOTE 1: The formats follow the experimental format as specified in IETF RFC
3958 [74]. For example, to find the S8 PMIP interfaces on a PGW the Service
Parameter of \"3gpp-pgw:x-s8-pmip\" would be used as input in the procedures
defined in IETF RFC 3958 [74].
NOTE 2: Currently \'app-service\' names identify 3GPP node type and \'app-
protocol\' identify 3GPP interfaces, which differs from more common usage of
S-NAPTR where app-protocol is used for transport protocol. Type of nodes (i.e
PGW, SGW, SGSN, MME, MSC Server etc) and interfaces (i.e. S11, S5, S8, Sv,
etc.) follow the standard names from 3GPP TS 23.401 [72] ,3GPP TS 29.060 [6]
and3GPP TS 23.216 [92] with prefix \"x-\" added.
NOTE 3: x-gn denotes an intra-PLMN interface using GTPv1-C, x-gp denotes an
inter-PLMN interface using GTPv1-C.
NOTE 4: The app-service of x-3gpp-pgw with app-protocols x-gn or x-gp
identifies the co-located GGSN function on a PGW. The app-service of x-3gpp-
ggsn with app-protocols x-gn or x-gp identifies a GGSN function that is not
co-located with a PGW.
NOTE 5: The app-service of x-3gpp-msc with app-protocol x-sv identifies the
MSC Sv interface service.
NOTE 6: The app-service of x-3gpp-amf with app-protocol x-n2 identifies the
AMF N2 interface service. The app-service of x-3gpp-amf with app-protocol
x-n26 identifies the AMF N26 interface service.
## 19.5 Access Network Identity
A trusted non-3GPP access network used by the UE to access EPS can be
identified using the Access Network Identity. The Access Network Identity is
used as an input parameter in the EPS security procedures as specified in 3GPP
TS 33.402 [69]. The format and signalling of the parameter between the network
and the UE is specified in 3GPP TS 24.302 [77] and the format and signalling
of this parameter between access network and core network is specified in 3GPP
TS 29.273 [78].
The encoding of the Access Network Identity shall be specified within 3GPP,
but the Access Network Identity definition for each non-3GPP access network is
under the responsibility of the corresponding standardisation organisation
respectively.
## 19.6 E-UTRAN Cell Identity (ECI) and E-UTRAN Cell Global Identification
(ECGI)
The E-UTRAN Cell Global Identification (ECGI) shall be composed of the
concatenation of the PLMN Identifier (PLMN-Id) and the E-UTRAN Cell Identity
(ECI) as shown in figure 19.6-1 and shall be globally unique:
Figure 19.6-1: Structure of E-UTRAN Cell Global Identification
The ECI shall be of fixed length of 28 bits and shall be coded using full
hexadecimal representation. The exact coding of the ECI is the responsibility
of each PLMN operator.
For more details on ECI and ECGI, see 3GPP TS 36.413 [84].
NOTE: In the 5G Core Network protocols, when the ECGI needs to be identified
in the context of Standalone Non-Public Networks (SNPN), the Network
Identifier (NID) of the SNPN is included as part of the ECGI Information
Element (see 3GPP TS 29.571 [129]); this is a protocol aspect that does not
imply any change on the system-wide definition of the ECGI.
## 19.6A NR Cell Identity (NCI) and NR Cell Global Identity (NCGI)
The NR Cell Global Identity (NCGI) shall be composed of the concatenation of
the PLMN Identifier (PLMN-Id) and the NR Cell Identity (NCI) as shown in
figure 19.6A-1 and shall be globally unique:
Figure 19.6A-1: Structure of NR Cell Global Identity
The NCI shall be of fixed length of 36 bits and shall be coded using full
hexadecimal representation. The exact coding of the NCI is the responsibility
of each PLMN operator.
For more details on NCI and NCGI, see 3GPP TS 38.413 [123].
NOTE: In the 5G Core Network protocols, when the NCGI needs to be identified
in the context of Standalone Non-Public Networks (SNPN), the Network
Identifier (NID) of the SNPN is included as part of the NCGI Information
Element (see 3GPP TS 29.571 [129]); this is a protocol aspect that does not
imply any change on the system-wide definition of the NCGI.
## 19.7 Identifiers for communications with packet data networks and
applications
### 19.7.1 Introduction
This clause describes external identifiers used to facilitate communications
with packet data networks and applications (e.g. Machine Type Communication
(MTC) applications on the external network/MTC servers) as specified in 3GPP
TS 23.682 [98], 3GPP TS 23.501 [119] and 3GPP TS 23.502 [120].
### 19.7.2 External Identifier
An External Identifier identifies a subscription associated to an IMSI. A
subscription associated to an IMSI may have one or several External
Identifier(s).
The External Identifier shall have the form username\@realm as specified in
clause 2.1 of IETF RFC 4282 [53].
The username part format of the External Identifier shall contain a Local
Identifier as specified in 3GPP TS 23.682 [98]. The realm part format of the
External Identifier shall contain a Domain Identifier as specified in 3GPP TS
23.682 [98]. As specified in clause 4 of IETF RFC 4282 [53], the Domain
Identifier shall be a duly registered Internet domain name. The combination of
Local Identifier and Domain Identifier makes the External Identifier globally
unique.
The result of the External Identifier form is:
\"\@\\"
An example of an External Identifier is:
Local Identifier in use: \"123456789\";
Domain Identifier = \"domain.com\";
Which gives the External Identifier as:
123456789\@domain.com
### 19.7.3 External Group Identifier
An External Group Identifier identifies a group made up of one or more
subscriptions associated to a group of IMSIs.
The External Group Identifier shall have the form groupname\@realm as
specified in clause 2.1 of IETF RFC 4282 [53].
The groupname part format of the External Group Identifier shall contain a
Local Identifier as specified in 3GPP TS 23.682 [98]. The realm part format of
the External Group Identifier shall contain a Domain Identifier as specified
in 3GPP TS 23.682 [98]. As specified in clause 4 of IETF RFC 4282 [53], the
Domain Identifier shall be a duly registered Internet domain name. The
combination of Local Identifier and Domain Identifier makes the External Group
Identifier globally unique.
The result of the External Group Identifier form is:
\"\@\\"
An example of an External Group Identifier is:
Local Identifier in use: \"Group1\";
Domain Identifier = \"domain.com\";
Which gives the External Group Identifier as:
Group1\@domain.com
## 19.8 TWAN Operator Name
The TWAN Operator Name identifies the TWAN operator when the TWAN is not
operated by a mobile operator.
The TWAN Operator Name shall be encoded as a realm in the form of an Internet
domain name, e.g. operator.com, as specified in IETF RFC 1035 [19] and IETF
RFC 1123 [20]. The TWAN Operator Name consists of one or more labels. Each
label shall consist of the alphabetic characters (A-Z and a-z), digits (0-9)
and the hyphen (-) in accordance with IETF RFC 1035 [19]. Each label shall
begin and end with either an alphabetic character or a digit in accordance
with IETF RFC 1123 [20]. The case of alphabetic characters is not significant.
NOTE: The TWAN Operator Name is encoded as a dotted string.
## 19.9 IMSI-Group Identifier
IMSI-Group Identifier is a network internal globally unique ID which
identifies a set of IMSIs (e.g. MTC devices) from a given network that are
grouped together for one specific group related services. It is used e.g. for
group specifc NAS level congestion control (see 3GPP TS 23.401 [72]).
An IMSI-Group Identifier shall be composed as shown in figure 19.9-1.
Figure 19.9-1: Structure of IMSI-Group Identifier
IMSI-Group Identifier is composed of four parts:
1) Group Service Identifier, identifies the service (4 Octets) for which the
IMSI-Group Identifier is valid.
2) Mobile Country Code (MCC) consisting of three digits. The MCC identifies
uniquely the country of domicile of the mobile subscriber;
3) Mobile Network Code (MNC) consisting of two or three digits. The MNC
identifies the home PLMN of the mobile subscriber. The length of the MNC (two
or three digits) depends on the value of the MCC. A mixture of two and three
digit MNC codes within a single MCC area is not recommended and is outside the
scope of this specification.
4) the Local Group Id is assigned by the network operator and may have a
length of up to 10 octets.
Two different IMSI-Group Identifier values, with the same Group Service
Identifier and with MCC/MNC values that point to the same PLMN, shall have two
different Local Group Ids.
## 19.10 Presence Reporting Area Identifier (PRA ID)
The Presence Reporting Area Identifier (PRA ID) is used to identify a Presence
Reporting Area (PRA).
PRAs can be used for reporting changes of UE presence in a PRA, e.g. for
policy control or charging decisions. See 3GPP TS 23.401 [72], 3GPP TS 23.060
[3] and 3GPP TS 23.203 [107].
A PRA is composed of a short list of TAs/RAs, or eNBs and/or cells/SAs in a
PLMN. A PRA can be:
\- either a \"UE-dedicated PRA\", defined in the subscriber profile;
\- or a \"Core Network predefined PRA\", pre-configured in MME/S4-SGSN.
PRA IDs used to identify \"Core Network predefined PRAs\" shall not be used
for identifying \"UE-dedicated PRAs\".
The same PRA ID may be used for different UEs to identify different \"UE-
dedicated PRAs\", i.e. PRA IDs may overlap between different UEs, while
identifying different \"UE-dedicated PRAs\".
The PRA ID shall be encoded as an integer on 3 octets. The most significant
bit of the PRA ID shall be set to 0 for UE-dedicated PRA and shall be to 1 for
Core Network predefined PRA.
## 19.11 Dedicated Core Networks Identifier
A Dedicated Core Network ID (DCN-ID) identifies a Dedicated Core Network (DCN)
within a PLMN.
The allowed values of DCN-ID shall be in the range of 0 to 65535.
Values in the range of 0 to 127 are standardized and defined as follows:
0: Spare, for future use
...
127: Spare, for future use
Values in the range of 128 to 65535 are operator-specific.
The use of the standardized DCN-ID is specified in 3GPP TS 23.401 [72].
# 20 Addressing and Identification for IMS Centralized Services
## 20.1 Introduction
This clause describes the format of the parameters needed specifically for IMS
Centralized Services (ICS). For further information on the use of ICS
parameters, see 3GPP TS 23.292 [70].
## 20.2 UE based solution
In this solution, the UE is provisioned with an ICS specific client that
simply reuses IMS registration as defined in 3GPP TS 23.228 [24]. Therefore,
ICS capable UE shall reuse the identities defined in clause 13.
## 20.3 Network based solution
### 20.3.1 General
In this solution the MSC Server enhanced for ICS performs a special IMS
registration on behalf of the UE. Thus, the MSC Server enhanced for ICS shall
use a Private User Identity and Temporary Public User Identity that are
different to those defined in clause 13 (see 3GPP TS 23.292 [70], clause 4.6.2
for more information). Furthermore, the MSC Server enhanced for ICS derives a
Conference Factory URI that is known to the home IMS. These are defined in the
following clauses.
### 20.3.2 Home network domain name
The home network domain name shall be in the form of an Internet domain name,
e.g. operator.com, as specified in IETF RFC 1035 [19] and IETF RFC 1123 [20].
The home network domain name consists of one or more labels. Each label shall
consist of the alphabetic characters (A-Z and a-z), digits (0-9) and the
hyphen (-) in accordance with IETF RFC 1035 [19]. Each label shall begin and
end with either an alphabetic character or a digit in accordance with IETF RFC
1123 [20]. The case of alphabetic characters is not significant.
The MSC Server enhanced for ICS shall derive the home network domain name from
the subscriber\'s IMSI as described in the following steps:
1\. Take the first 5 or 6 digits, depending on whether a 2 or 3 digit MNC is
used (see 3GPP TS 31.102 [27]) and separate them into MCC and MNC; if the MNC
is 2 digits then a zero shall be added at the beginning.
2\. Use the MCC and MNC derived in step 1 to create the
\"mnc\.mcc\.3gppnetwork.org\" domain name.
3\. Add the label \"ics.\" to the beginning of the domain.
An example of a home network domain name is:
IMSI in use: 234150999999999;
where:
\- MCC = 234;
\- MNC = 15; and
\- MSIN = 0999999999,
which gives the home network domain name: ics.mnc015.mcc234.3gppnetwork.org
### 20.3.3 Private User Identity
The Private User Identity shall take the form of an NAI, and shall have the
form \"username\@realm\" as specified in clause 2.1 of IETF RFC 4282 [53].
The MSC Server enhanced for ICS shall derive the Private User Identity from
the subscriber\'s IMSI as follows:
1\. Use the whole string of digits as the username part of the private user
identity; and
2\. convert the leading digits of the IMSI, i.e. MNC and MCC, into a domain
name, as described in clause 20.3.2.
The result will be a Private User Identity of the form
\"\\@ics.mnc\.mcc\.3gppnetwork.org\". For example if the IMSI
is 234150999999999 (MCC = 234, MNC = 15), the private user identity then takes
the form 234150999999999\@ics.mnc015.mcc234.3gppnetwork.org
### 20.3.4 Public User Identity
The Public User Identity shall take the form of a SIP URI (see IETF RFC 3261
[26]), and shall have the form \"sip:username\@domain\".
The MSC Server enhanced for ICS shall derive the Public User Identity from the
subscriber\'s IMSI. The Public User Identity shall consist of the string
\"sip:\" appended with a username and domain portion equal to the IMSI derived
Private User Identity described in clause 20.3.3. An example using the same
example IMSI from clause 20.3.3 can be found below:
EXAMPLE: \"sip:234150999999999\@ics.mnc015.mcc234.3gppnetwork.org\".
### 20.3.5 Conference Factory URI
The Conference Factory URI shall take the form of a SIP URI (see IETF RFC 3261
[26]) with a host portion set to the home network domain name as described in
clause 20.3.2 prefixed with \"conf-factory.\". An example using the same
example IMSI from clause 20.3.2 can be found below:
EXAMPLE: \"sip:conf-factory.ics.mnc015.mcc234.3gppnetwork.org\".
The user portion of the SIP URI is optional and implementation specific.
# 21 Addressing and Identification for Dual Stack Mobile IPv6 (DSMIPv6)
## 21.1 Introduction
This clause describes the format of the parameters needed by the UE to use
Dual Stack Mobile IPv6 (DSMIPv6 as specified in 3GPP TS 23.327 [76] and 3GPP
TS 23.402 [68].
## 21.2 Home Agent -- Access Point Name (HA-APN)
### 21.2.1 General
The HA-APN is composed of two parts as follows:
\- The HA-APN Network Identifier; this defines to which external network the
HA is connected.
\- The HA-APN Operator Identifier; this defines in which PLMN the HA serving
the HA-APN is located.
The HA-APN Operator Identifier is placed after the HA-APN Network Identifier.
The HA-APN consisting of both the Network Identifier and Operator Identifier
corresponds to a FQDN of a HA; the HA-APN has, after encoding as defined in
the paragraph below, a maximum length of 100 octets.
The encoding of the HA-APN shall follow the Name Syntax defined in IETF RFC
2181 [18], IETF RFC 1035 [19] and IETF RFC 1123 [20]. The HA-APN consists of
one or more labels. Each label is coded as a one octet length field followed
by that number of octets coded as 8 bit ASCII characters. Following IETF RFC
1035 [19] the labels shall consist only of the alphabetic characters (A-Z and
a-z), digits (0-9) and the hyphen (-). Following IETF RFC 1123 [20], the label
shall begin and end with either an alphabetic character or a digit. The case
of alphabetic characters is not significant. The HA-APN is not terminated by a
length byte of zero.
For the purpose of presentation, a HA-APN is usually displayed as a string in
which the labels are separated by dots (e.g. \"Label1.Label2.Label3\").
### 21.2.2 Format of HA-APN Network Identifier
The HA-APN Network Identifier follows the format defined for APNs in clause
9.1.1. In addition to what has been defined in clause 9.1.1 the HA-APN Network
Identifier shall not contain \"ha-apn.\" or \"w-apn.\" and not end in
\".3gppnetwork.org\".
A HA-APN Network Identifier may be used to access a service associated with a
HA. This may be achieved by defining:
\- a HA-APN which corresponds to a FQDN of a HA, and which is locally
interpreted by the HA as a request for a specific service, or
\- a HA-APN Network Identifier consisting of 3 or more labels and starting
with a Reserved Service Label, or a HA-APN Network Identifier consisting of a
Reserved Service Label alone, which indicates a HA by the nature of the
requested service. Reserved Service Labels and the corresponding services they
stand for shall be agreed between operators who have roaming agreements.
As an example, the HA-APN for MCC 345 and MNC 12 is coded in the DNS as:
\"internet.ha-apn.mnc012.mcc345.pub.3gppnetwork.org\".
where \"internet\" is the HA-APN Network Identifier and
\"mnc012.mcc345.pub.3gppnetwork.org \" is the HA-APN Operator Identifier.
### 21.2.3 Format of HA-APN Operator Identifier
The HA-APN Operator Identifier is composed of six labels. The last three
labels shall be \"pub.3gppnetwork.org\". The second and third labels together
shall uniquely identify the PLMN. The first label distinguishes the domain
name as a HA-APN.
For each operator, there is a default HA-APN Operator Identifier (i.e. domain
name). This default HA-APN Operator Identifier is derived from the IMSI as
follows:
\"ha-apn.mnc\.mcc\.pub.3gppnetwork.org\"
where:
\"mnc\" and \"mcc\" serve as invariable identifiers for the following digits.
\ and \ are derived from the components of the IMSI defined in
clause 2.2.
Alternatively, the default HA‑APN Operator Identifier is derived using the MNC
and MCC of the VPLMN.
In order to guarantee inter-PLMN DNS translation, the \ and \ coding
used in the \"ha‑apn.mnc\.mcc\.pub.3gppnetwork.org\" format of the
HA-APN OI shall be:
\- \ = 3 digits
\- \ = 3 digits
If there are only 2 significant digits in the MNC, one \"0\" digit shall be
inserted at the left side to fill the 3 digits coding of MNC in the HA-APN OI.
As an example, the HA-APN OI for MCC 345 and MNC 12 is coded in the DNS as:
\"ha-apn.mnc012.mcc345.pub.3gppnetwork.org\".
# 22 Addressing and identification for ANDSF
## 22.1 Introduction
This clause describes the format of the parameters needed by the UE to use
Access Network Discovery and Selection Function (ANDSF) as specified in 3GPP
TS 23.402 [68].
## 22.2 ANDSF Server Name (ANDSF-SN)
### 22.2.1 General
ANDSF Server Name (ANDSF-SN) is used by UE to discover ANDSF Server in the
network.
### 22.2.2 Format of ANDSF-SN
The ANDSF-SN is composed of six labels. The last three labels shall be
\"pub.3gppnetwork.org\". The second and third labels together shall uniquely
identify the PLMN. The first label shall be \"andsf\".
The ANDSF-SN is derived from the IMSI or Visited PLMN Identity as follows:
\"andsf.mnc\.mcc\.pub.3gppnetwork.org\"
where:
\"mnc\" and \"mcc\" serve as invariable identifiers for the following digits.
\- When contacting Visited ANDSF (V-ANDSF), the \ and \ shall be
derived from the Visited PLMN Identity as defined in clause 12.1.
\- When contacting Home ANDSF (H-ANDSF), the \ and \ shall be
derived from the components of the IMSI defined in clause 2.2.
In order to guarantee inter-PLMN DNS translation, the \ and \ coding
used in the \"andsf.mnc\.mcc\.pub.3gppnetwork.org\" format of the
ANDSF-SN shall be:
\- \ = 3 digits
\- \ = 3 digits
If there are only 2 significant digits in the MNC, one \"0\" digit shall be
inserted at the left side to fill the 3 digits coding of MNC in the ANDSF-SN.
As an example, the ANDSF-SN OI for MCC 345 and MNC 12 is coded in the DNS as:
\"andsf.mnc012.mcc345.pub.3gppnetwork.org\".
# 23 Numbering, addressing and identification for the OAM System
## 23.1 Introduction
This clause describes some information needed to access the OAM system as
specified in TS 36.300 [91]. For more information on the \".3gppnetwork.org\"
domain name and its applicability, see Annex D of the present document.
## 23.2 OAM System Realm/Domain
The OAM System Realm/Domain shall be in the form of an Internet domain name,
e.g. operator.com, as specified in IETF RFC 1035 [19] and IETF RFC 1123 [20].
The OAM System Realm/Domain consists of one or more labels. Each label shall
consist of the alphabetic characters (A-Z and a-z), digits (0-9) and the
hyphen (-) in accordance with IETF RFC 1035 [19]. Each label shall begin and
end with either an alphabetic character or a digit in accordance with IETF RFC
1123 [20]. The case of alphabetic characters is not significant.
The OAM System Realm/Domain shall be in the form of
\"oam.mnc\.mcc\.3gppnetwork.org\", where \"\\" and \"\\"
fields correspond to the MNC and MCC of the operator\'s PLMN. Both the
\"\\" and \"\\" fields are 3 digits long. If the MNC of the PLMN is
2 digits, then a zero shall be added at the beginning.
For example, the OAM System Realm/Domain of an IMSI shall be derived as
described in the following steps:
1\. take the first 5 or 6 digits, depending on whether a 2 or 3 digit MNC is
used (see 3GPP TS 31.102 [27]) and separate them into MCC and MNC; if the MNC
is 2 digits then a zero shall be added at the beginning;
2\. use the MCC and MNC derived in step 1 to create the
\"mnc\.mcc\.3gppnetwork.org\" domain name;
3\. add the label \"oam\" to the beginning of the domain name.
An example of an OAM System Realm/Domain is:
IMSI in use: 234150999999999;
Where:
MCC = 234;
MNC = 15;
MSIN = 0999999999;
Which gives the OAM System Realm/Domain name:
oam.mnc015.mcc234.3gppnetwork.org.
NOTE: If it is not possible for a Relay Node to identify whether a 2 or 3
digit MNC is used (e.g. USIM is inserted and the length of MNC in the IMSI is
not available in the \"Administrative data\" data file), it is implementation
dependent how the Relay Node determines the length of the MNC (2 or 3 digits).
## 23.3 Identifiers for Domain Name System procedures
### 23.3.1 Introduction
This clause describes Domain Name System (DNS) related identifiers used by the
procedures specified in 3GPP TS 29.303 [73].
### 23.3.2 Fully Qualified Domain Names (FQDNs)
#### 23.3.2.1 General
See clause 19.4.2.1.
#### 23.3.2.2 Relay Node Vendor-Specific OAM System
As part of the startup procedure, relay nodes (see 3GPP TS 36.300 [91], clause
4.7) needs to discover its Operations and Maintainence (OAM) system. A relay
node vendor-specific OAM system within an operator\'s network is identified
using the relay node type allocation code from IMEI or IMEISV (IMEI-TAC), MNC
and MCC from IMSI and in some cases also tracking area code information
associated to the eNB serving the relay node.
A subdomain name for use by EUTRAN OAM system nodes shall be derived from the
MNC and MCC by adding the label \"eutran\" to the beginning of the OAM System
Realm/Domain (see clause 23.2).
The vendor-specific relay node OAM system FQDN shall be constructed as
following:
\- tac-lb\.tac-hb\.imei-tac\.eutran-
rn.oam.mnc\.mcc\.3gppnetwork.org
The IMEI-TAC is 8 decimal digits (see clause 6.2).
NOTE: IMEI-TAC is used for the type allocation code from IMEI or IMEISV
instead of TAC in this clause in order to separate it from the tracking area
code (TAC).
The TAC is a 16 bit integer. \ is the hexadecimal string of the
most significant byte in the TAC and \ is the hexadecimal
string of the least significant byte. If there are less than 2 significant
digits in \ or \, \"0\" digit(s) shall be
inserted at the left side to fill the 2 digit coding.
#### 23.3.2.3 Multi-vendor eNodeB Plug-and Play Vendor-Specific OAM System
##### 23.3.2.3.1 General
This clause describes the Fully Qualified Domain Names (FQDNs) used in Multi
Vendor Plug and Connect (MvPnC) procedures (see 3GPP TS 32.508 [102]).
The FQDNs used in MvPnC shall be in the form of an Internet domain name and
follow the general encoding rules specified in clause 19.4.2.1.
The format of FQDNs used in MvPnC shall follow the \"\.\.\\" pattern.
NOTE: \"\.\.oam\" represents the \ shown in the
first row of table E.1.
The \ label is optional and is only used in the operator
deployments where multiple instances of a particular network entity type are
not provided by the same vendor. If present, the \ label shall be
in the form \"vendor\\", where \ field corresponds to the ID of the
vendor.
The format of the ViD is vendor specific.
The details of the \ label are specified in the clauses below.
##### 23.3.2.3.2 Certification Authority server
The Certification Authority server (CA/RA) FQDN shall be derived as follows.
The \"cara\" \ label is added in front of the operator\'s OAM realm
domain name:
cara.oam.mnc\.mcc\.3gppnetwork.org
If particular operator deployment scenarios where there are multiple CA/RA
servers (one per vendor), the \ label is added in front of the
\"cara\" label:
vendor\.cara.oam.mnc\.mcc\.3gppnetwork.org
An example of a CA/RA FQDN is:
MCC = 123;
MNC = 45;
ViD = abcd;
which gives the CA/RA FQDN: \"cara.oam.mnc045.mcc123.3gppnetwork.org\" and
\"vendorabcd.cara.mnc045.mcc123.3gppnetwork.org\".
##### 23.3.2.3.3 Security Gateway
The Security Gateway (SeGW) FQDN shall be derived as follows. The \"segw\"
\ label is added in front of the operator\'s OAM realm domain name:
segw.oam.mnc\.mcc\.3gppnetwork.org
If particular operator deployment scenarios where there are multiple Security
Gateways (one per vendor), the \ label is added in front of the
\"segw\" label:
vendor\.segw.oam.mnc\.mcc\.3gppnetwork.org
An example of a SeGW FQDN is:
MCC = 123;
MNC = 45;
ViD = abcd;
which gives the SeGW FQDN: \"segw.oam.mnc045.mcc123.3gppnetwork.org\" and
\"vendorabcd.segw.mnc045.mcc123.3gppnetwork.org\".
##### 23.3.2.3.4 Element Manager
The Element Manager (EM) FQDN shall be derived as follows. The \"em\"
\ label is added in front of the operator\'s OAM realm domain name:
em.oam.mnc\.mcc\.3gppnetwork.org
If particular operator deployment scenarios where there are multiple Element
Managers (one per vendor), the \ label is added in front of the
\"em\" label:
vendor\.em.oam.mnc\.mcc\.3gppnetwork.org
An example of a EM FQDN is:
MCC = 123;
MNC = 45;
ViD = abcd;
which gives the EM FQDN: \"em.oam.mnc045.mcc123.3gppnetwork.org\" and
\"vendorabcd.em.mnc045.mcc123.3gppnetwork.org\".
# 24 Numbering, addressing and identification for Proximity-based Services
(ProSe)
## 24.1 Introduction
This clause describes the format of the parameters used for ProSe. For further
information on the use of the parameters see 3GPP TS 23.303 [103].
## 24.2 ProSe Application ID
### 24.2.1 General
The ProSe Application ID is composed of two parts as follows:
\- The ProSe Application ID Name, which is described in its entirety by a data
structure characterized by different levels e.g, broad-level business category
(Level 0) / business sub-category (Level 1) / business name (Level 2) / shop
ID (Level 3).
\- The PLMN ID, which corresponds to the PLMN that assigned the ProSe
Application ID Name.
The PLMN ID is placed before the ProSe Application ID Name as shown in Figure
24.2.1. The PLMN ID and the ProSe Application ID Name shall be separated by a
dot.
Figure 24.2.1-1: Structure of ProSe Application ID
### 24.2.2 Format of ProSe Application ID Name in ProSe Application ID
The ProSe Application ID Name is composed of a string of labels. These labels
represent hierarchical levels and shall be separated by dots (e.g.
\"Label1.Label2.Label3\"). The ProSe Application ID Name shall contain at
least one label. The first label on the left shall be \"ProSeApp\".
NOTE: The hierarchical structure and the content of the ProSe Application ID
Name are outside the scope of 3GPP.
Any label in the ProSe Application ID Name except the first label on the left
(\"ProSeApp\") can be wild carded. A wild card label is represented as \"*\",
EXAMPLE: A ProSe Application ID Name used to discover nearby Italian
restaurants could be \"ProSeApp.Food.Restaurants.Italian\".
### 24.2.3 Format of PLMN ID in ProSe Application ID
The PLMN ID shall uniquely identify the PLMN of the ProSe Function that has
assigned the ProSe Application ID. The PLMN ID is composed of two labels which
shall be separated by a dot as follows:
\"mcc\.mnc\\"
where:
\"mcc\" and \"mnc\" serve as invariable identifiers for the following digits.
\ contains the MCC (Mobile Country Code) of the ProSe Function that has
assigned the ProSe Application ID.
\ contains the MNC (Mobile Network Code) of the ProSe Function that has
assigned the ProSe Application ID.
In order to guarantee inter-PLMN operability, the \ and the \ shall
be represented by 3 digits. If there are only 2 significant digits in the MNC,
one \"0\" digit is inserted at the left side of the MNC to form the \ in
the \"mnc\\" label.
EXAMPLE: The PLMN ID for MCC 345 and MNC 12 will be \"mcc345.mnc012\".
### 24.2.4 Usage of wild cards in place of PLMN ID in ProSe Application ID
If the scope of the ProSe Application ID is country-specific, the PLMN ID part
in the ProSe Application ID shall be replaced by \"mcc\.mnc*\" with
\ set to the MCC of the corresponding country.
NOTE: Handling of the case when a country has been allocated more than one MCC
value is outside the scope of 3GPP.
If the scope of the ProSe Application ID is global, the PLMN ID part in the
ProSe Application ID shall be replaced by \"mcc*.mnc*\".
EXAMPLE: For a ProSe Application ID specific to a country with MCC 345, the
PLMN ID part will be replaced by \"mcc345.mnc*\".
### 24.2.5 Informative examples of ProSe Application ID
Examples of ProSe Application IDs following the format defined in the previous
clauses are provided for information below.
EXAMPLE 1: \"mcc345.mnc012.ProSeApp.Food.Restaurants.Italian\"
EXAMPLE 2: \"mcc300.mnc165.ProSeApp.Shops.Sports.Surfing\"
EXAMPLE 3: \"mcc300.mnc165.ProSeApp.*.Sports.Surfing\"
EXAMPLE 4: \"mcc208.mnc*.ProSeApp.Shops.Food.Wine\"
EXAMPLE 5: \"mcc*.mnc*.ProSeApp.Food.Restaurants.Coffee\"
## 24.3 ProSe Application Code
### 24.3.1 General
The ProSe Application Code as described in 3GPP TS 23.303 [103] is composed of
the following two parts:
\- The PLMN ID of the ProSe Function that assigned the ProSe Application Code,
i.e. Mobile Country Code (MCC) and Mobile Network Code (MNC).
\- A temporary identity that corresponds to the ProSe Application ID Name. The
temporary identity is allocated by the ProSe Function and it may contain a
metadata index. The internal structure of the temporary identity is not
specified in 3GPP.
The ProSe Application Code shall have a fixed length of 184 bits.
### 24.3.2 Format of PLMN ID in ProSe Application Code
The PLMN ID in the ProSe Application Code is composed as shown in Figure
24.3.2-1:
Figure 24.3.2-1: Structure of PLMN ID in ProSe Application Code
The PLMN-ID is composed of four parts:
\- Scope indicates whether the MNC, or both the MCC and the MNC, or neither
are wild carded in the ProSe Application ID associated with the ProSe
Application Code, with the following mapping:
00 global scope.
01 reserved.
10 country-specific scope.
11 PLMN-specific scope.
\- Spare bit that shall be set to 0 and shall be ignored if set to 1.
\- E bit indicates whether the MCC and the MNC of the ProSe Function that has
assigned the ProSe Application Code are included in the PLMN ID in ProSe
Application Code, with the following mapping:
0 Neither MCC nor MNC is included.
1 MCC and MNC included.
\- When present, the MCC and the MNC shall each have a fixed length of 10 bits
and shall be coded as the binary representation of their decimal value.
In this release, the MCC and the MNC of the ProSe Function that has assigned
the ProSe Application Code shall always be included in the PLMN ID in ProSe
Application Code. The E bit shall always be set to 1.
### 24.3.3 Format of temporary identity in ProSe Application Code
The temporary identity in the ProSe Application Code is a bit string whose
value is allocated by the ProSe Function. The length of the temporary identity
in the ProSe Application Code is equal to:
\- 180 bits when the E bit of the PLMN ID in the ProSe Application Code is set
to 0.
\- 160 bits when the E bit of the PLMN ID in the ProSe Application Code is set
to 1.
The temporary identity in the ProSe Application Code shall contain a metadata
index to reflect the current metadata version if dynamic metadata is used when
allocating the ProSe Application Code. The content, position and length of
metadata index is operator specific.
In this release, the MCC and the MNC of the ProSe Function that has assigned
the ProSe Application Code are always included in the PLMN ID in ProSe
Application Code. The length of the temporary identity in the ProSe
Application Code shall always be equal to 160 bits.
## 24.3A ProSe Application Code Prefix
The ProSe Application Code Prefix as described in 3GPP TS 23.303 [103] is to
be used with a ProSe Application Code Suffix. The ProSe Application Code
Prefix has the same composition and format as the ProSe Application Code, with
the following exceptions:
\- The temporary identity part of the ProSe Application Code Prefix is of
variable length. The length of the temporary identity part shall be
incremented in multiple of 8, with a minimum size of 8 bits and a maximum size
of 152 bits.
\- The sum of the length of the ProSe Application Code Prefix and the length
of the ProSe Application Code Suffix shall be 184 bits.
## 24.3B ProSe Application Code Suffix
The ProSe Application Code Suffix as described in 3GPP TS 23.303 [103] is an
identifier to be appended to a ProSe Application Code Prefix. The ProSe
Application Code Suffix is of variable length. The length of the ProSe
Application Code Suffix shall be incremented in multiple of 8, with a minimum
size of 8 bits and a maximum size of 152 bits. The sum of the length of the
ProSe Application Code Prefix and the length of the ProSe Application Code
Suffix shall be 184 bits.
## 24.4 EPC ProSe User ID
### 24.4.1 General
The EPC ProSe User ID as described in 3GPP TS 23.303 [103] identifies the UE
registered for EPC-level ProSe Discovery in the context of the ProSe Function.
### 24.4.2 Format of EPC ProSe User ID
The EPC ProSe User ID is a bit string whose value is allocated by the ProSe
Function. The length of the EPC ProSe User ID is equal to 32 bits.
## 24.5 Home PLMN ProSe Function Address
The Home PLMN ProSe Function address is in the form of a Fully Qualified
Domain Name as defined in IETF RFC 1035 [19] and IETF RFC 1123 [20]. This
address consists of six labels. Each label shall consist of the alphabetic
characters (A-Z and a-z), digits (0-9) and the hyphen (-) in accordance with
IETF RFC 1035 [19]. Each label shall begin and end with either an alphabetic
character or a digit in accordance with IETF RFC 1123 [20]. The case of
alphabetic characters is not significant.
For 3GPP systems, if not pre-configured on the UE or provisioned by the
network, the UE shall derive the Home PLMN ProSe Function address from the
IMSI as described in the following steps:
1\. Take the first 5 or 6 digits, depending on whether a 2 or 3-digit MNC is
used (see 3GPP TS 31.102 [27]) and separate them into MCC and MNC; if the MNC
is 2-digit MNC then a zero shall be added at the beginning.
2\. Use the MCC and MNC derived in step 1 to create the
\"mnc\.mcc\.pub.3gppnetwork.org\" domain name.
3\. Add the label \"prose-function.\" to the beginning of the domain.
An example of a Home PLMN ProSe Function address is:
IMSI in use: 234150999999999;
where:
\- MCC = 234;
\- MNC = 15; and
\- MSIN = 0999999999,
which gives the following Home PLMN ProSe Function address:
\"prose-function.mnc015.mcc234.pub.3gppnetwork.org\".
## 24.6 ProSe Restricted Code
The ProSe Restricted Code as described in 3GPP TS 23.303 [103] is a single
64-bit identifier that corresponds to one or more Restricted ProSe Application
User ID(s) (as defined in 3GPP TS 23.303 [103]). The exact content of the
identifier is not specified in 3GPP.
## 24.7 ProSe Restricted Code Prefix
The ProSe Restricted Code Prefix as described in 3GPP TS 23.303 [103] is a
ProSe Restricted Code which to be used with a ProSe Restricted Code Suffix. It
shall have the same size and format as the ProSe Restricted Code.
## 24.8 ProSe Restricted Code Suffix
The ProSe Restricted Code Suffix as described in 3GPP TS 23.303 [103] is an
identifier to be appended to a ProSe Restricted Code Prefix. Depending on the
application configuration, the bit length of a ProSe Restricted Code Suffix
varies from 8 to 120, incremented by multiples of 8.
## 24.9 ProSe Query Code
The ProSe Query Code as described in 3GPP TS 23.303 [103] is a ProSe
Restricted Code allocated by the ProSe Function to the Discoverer UE for
restricted ProSe direct discovery model B. The format of the ProSe Query Code
is the same as that of the ProSe Restricted Code defined in clause 24.6.
## 24.10 ProSe Response Code
The ProSe Response Code as described in 3GPP TS 23.303 [103] is a ProSe
Restricted Code allocated by the ProSe Function to the Discoveree UE for
restricted ProSe direct discovery model B. The format of the ProSe Response
Code is the same as that of the ProSe Restricted Code defined in clause 24.6.
## 24.11 ProSe Discovery UE ID
### 24.11.1 General
The ProSe Discovery UE ID as described in 3GPP TS 23.303 [103] identifies the
UE participating in restricted ProSe direct discovery in the context of the
ProSe Function.
It is composed of two parts as follows:
\- The PLMN ID of the ProSe Function that assigned the ProSe Discovery UE ID,
i.e. Mobile Country Code (MCC) and Mobile Network Code (MNC).
\- A temporary identifier allocated by the ProSe Function. The content of the
temporary identifier is not specified in 3GPP.
### 24.11.2 Format of ProSe Discovery UE ID
The ProSe Discovery UE ID is a bit string whose value is allocated by the
ProSe Function. The length of the ProSe Discovery UE ID is equal to 64 bits
and the format is described as shown in Figure 24.11.2-1.
Figure 24.11.2-1: Structure of ProSe Discovery UE ID
## 24.12 ProSe UE ID
The ProSe UE ID as described in 3GPP TS 23.303 [103] identifies the link layer
address used for ProSe direct communication by a ProSe-enabled Public Safety
UE.
The format of ProSe UE ID is a bit string whose length is equal to 24 bits.
## 24.13 ProSe Relay UE ID
The ProSe Relay UE ID as described in 3GPP TS 23.303 [103] identifies the link
layer address used for ProSe direct communication by a ProSe UE-to-network
relay UE.
The format of ProSe Relay UE ID is a bit string whose length is equal to 24
bits.
## 24.14 User Info ID
The User Info ID as described in 3GPP TS 23.303 [103] is used to identify the
user information to be discovered for public safety use case. The value of
User Info ID is allocated either by the operator or 3rd-party public safety
provider application server.
The format of the User Info ID is a 48-bit bit-string.
## 24.15 Relay Service Code
The Relay Service Code as described in 3GPP TS 23.303 [103] identifies a
connectivity service the ProSe UE-to-network relay provides.
The format of the Relay Service Code is a 24-bit bit-string.
## 24.16 Discovery Group ID
The Discovery Group ID as described in 3GPP TS 23.303 [103] identifies a group
of Public Safety users that are affiliated for Group Member Discovery.
The format of the Discovery Group ID is a 24-bit bit-string.
## 24.17 Service ID
The Service ID is specified in 3GPP TS 23.303 [103], Annex C and specifies the
3GPP service category for ProSe. The Service ID shall be the string \"3GPP
ProSe Service Category\".
# 25 Identification of Online Charging System
## 25.1 Introduction
This clause describes the format of the home network domain name of the Online
Charging System (OCS), needed to access the Online Charging System. For
further information on the use of this home network domain name, see 3GPP TS
29.212 [106]. For more information on the \".3gppnetwork.org\" domain name and
its applicability, see Annex D of the present document.
## 25.2 Home network domain name
The home network domain name of the OCS shall be in the form of an Internet
domain name, e.g. operator.com, as specified in IETF RFC 1035 [19] and IETF
RFC 1123 [20]. The home network domain of the OCS consists of one or more
labels. Each label shall consist of the alphabetic characters (A-Z and a-z),
digits (0-9) and the hyphen (-) in accordance with IETF RFC 1035 [19]. Each
label shall begin and end with either an alphabetic character or a digit in
accordance with IETF RFC 1123 [20]. The case of alphabetic characters is not
significant.
If the home network domain of the OCS is not known (e.g. through an available
static address or through its reception from another node), it shall be:
\- in the form of \"ocs.mnc\.mcc\.3gppnetwork.org\", where
\"\\" and \"\\" fields correspond to the MNC and MCC of the
operator\'s PLMN to which the OCS belongs. Both the \"\\" and \"\\"
fields are 3 digits long. If the MNC of the PLMN is 2 digits, then a zero
shall be added at the beginning; and
\- derived from the subscriber\'s IMSI, as described in the following steps:
1\. take the first 5 or 6 digits, depending on whether a 2 or 3 digit MNC is
used (see 3GPP TS 31.102 [27]) and separate them into MCC and MNC; if the MNC
is 2 digits then a zero shall be added at the beginning;
2\. use the MCC and MNC derived in step 1 to create the
\"mnc\.mcc\.3gppnetwork.org\" domain name;
3\. add the label \"ocs\" to the beginning of the domain name.
An example of a home network domain name is:
IMSI in use: 234150999999999;
Where:
MCC = 234;
MNC = 15;
MSIN = 0999999999;
Which gives the home network domain name: ocs.mnc015.mcc234.3gppnetwork.org.
NOTE: It is implementation dependent to determine that the length of the MNC
is 2 or 3 digits.
# 26 Numbering, addressing and identification for Mission Critical Services
## 26.1 Introduction
This clause describes the format of the parameters used for Mission Critical
Services.
For further information on the use of the parameters see 3GPP TS 23.280 [114].
## 26.2 Domain name for MC services confidentiality protection of MC services
identities
A Domain Name for MC Services confidentiality protection used in a host part
of a SIP URI indicates that the user part of the SIP URI contains a
confidentiality protected MC Services identity. This Domain Name shall be the
string \"mc1-encrypted.3gppnetwork.org\".
Protected MCPTT identities are constructed according to 3GPP TS 24.379 [111].
Protected MCData identities are constructed according to 3GPP TS 24.282 [116].
Protected MCVideo identities are constructed according to 3GPP TS 24.281
[115].
# 27 Numbering, addressing and identification for V2X
## 27.1 Introduction
This clause describes the format of the parameters used for V2X. For further
information on the use of the parameters see 3GPP TS 23.285 [117].
## 27.2 V2X Control Function FQDN
### 27.2.1 General
In order to retrieve V2X communication parameters, the UE needs to connect to
the V2X Control Function. The address of the V2X control Function can be
provisioned to the UE, or the UE can be pre-configured with the FQDN of the
V2X Control Function. If the address of the V2X Control Function is not
provisioned, and the UE is not pre-configured with the FQDN of the V2X Control
Function FQDN, the UE self-constructs the V2X Control Function FQDN as per the
format specified in clause 27.2.2.
### 27.2.2 Format of V2X Control Function FQDN
The V2X Control Function Fully Qualified Domain Name (V2X Control Function
FQDN) contains an Operator Identifier that shall uniquely identify the PLMN
where the V2X Control Function is located. The V2X Control Function FQDN is
composed of six labels. The last two labels shall be \"3gppnetwork.org\". The
third and fourth labels together shall uniquely identify the PLMN. The first
two labels shall be \"v2xcontrolfunction.epc\". The V2X Control Function FQDN
shall be constructed as follows:
\"v2xcontrolfunction.epc.mnc\.mcc\.3gppnetwork.org\"
In order to guarantee inter-PLMN DNS translation, the \ and \ coding
used in the \"v2xcontrolfunction.epc.mnc\.mcc\.3gppnetwork.org\"
format of the V2X Control Function FQDN shall be:
\- \ = 3 digits
\- \ = 3 digits
If there are only 2 significant digits in the MNC, one \"0\" digit shall be
inserted at the left side to fill the 3 digits coding of MNC in the V2X
Control Function FQDN.
As an example, the V2X Control Function FQDN for MCC 345 and MNC 12 is coded
in the DNS as:
\"v2xcontrolfunction.epc.mnc012.mcc345.3gppnetwork.org\".
# 28 Numbering, addressing and identification for 5G System (5GS)
## 28.1 Introduction
This clause describes the format of the parameters, identifiers and
information used for the 5G system. For further information on these, see 3GPP
TS 23.501 [119], 3GPP TS 23.502 [120] and 3GPP TS 23.503 [121].
## 28.2 Home Network Domain
The Home Network Domain for 5GC shall be in the format specified in IETF RFC
1035 [19] and IETF RFC 1123 [20] and shall be structured as:
\"5gc.mnc\.mcc\.3gppnetwork.org\",
where \"\\" and \"\\" fields correspond to the MNC and MCC of the
operator\'s PLMN. Both the \"\\" and \"\\" fields are 3 digits long.
If there are only 2 significant digits in the MNC, one \"0\" digit shall be
inserted at the left side to fill the 3 digits coding of MNC in the NF service
endpoint format for inter PLMN routing.
As an example, the Home Network Domain for MCC 345 and MNC 12 is coded as:
\"5gc.mnc012.mcc345.3gppnetwork.org\".
The Home Network Domain for a Stand-alone Non-Public Network (SNPN) shall be
in the format specified in IETF RFC 1035 [19] and IETF RFC 1123 [20] and, if
not pre-configured in the NF, shall be structured as:
\"5gc.nid\.mnc\.mcc\.3gppnetwork.org\",
where \ and \ shall be encoded as specified above, and the NID shall
be encoded as hexadecimal digits as specified in clause 12.7.
As an example, the Home Network Domain for MCC 345, MNC 12 and NID 000007ed9d5
(hexadecimal: assignment mode = 0, PEN = 00007ed9, NID code = d5) is coded as:
\"5gc.nid000007ed9d5.mnc012.mcc345.3gppnetwork.org\".
NOTE: For interworking with an SNPN (e.g. discovery of AMFs from an SNPN by a
shared NG RAN), the above sub-domain can be used when the MCC, MNC and NID
uniquely identifies the SNPN. For signalling within an SNPN, the above sub-
domain can be used regardless of whether the MCC, MNC and NID uniquely
identifies the SNPN or not.
## 28.3 Identifiers for Domain Name System procedures
### 28.3.1 Introduction
This clause describes Domain Name System (DNS) related identifiers used by the
procedures specified in 3GPP TS 29.303 [73].
### 28.3.2 Fully Qualified Domain Names (FQDNs)
#### 28.3.2.1 General
See clause 19.4.2.1.
#### 28.3.2.2 N3IWF FQDN
##### 28.3.2.2.1 General
The N3IWF Fully Qualified Domain Name (N3IWF FQDN) shall be constructed using
one of the following formats, as specified in clause 6.3.6 of 3GPP TS 23.501
[119]:
\- Operator Identifier based N3IWF FQDN;
\- Tracking Area Identity based N3IWF FQDN;
\- the N3IWF FQDN configured in the UE by the HPLMN.
NOTE 1: If the N3IWF FQDN is configured in the UE by HPLMN, it can have a
different format than those specified in the following clauses. The actual
format is out of 3GPP scope.
The Visited Country FQDN for N3IWF is used by a roaming UE to determine
whether the visited country mandates the selection of an N3IWF in this
country. The Visited Country FQDN for N3IWF shall be constructed as specified
in clause 28.3.2.2.4. The Replacement field used in DNS-based Discovery of
regulatory requirements shall be constructed as specified in clause
28.3.2.2.5.1.
The Visited Country FQDN for SNPN N3IWF is used by a UE in the visited country
to determine whether the visited country mandates the selection of an N3IWF in
this country for the SNPN identified by the SNPN Identifier provided by the
UE. The Visited Country FQDN for SNPN N3IWF shall be constructed as specified
in clause 28.3.2.2.6. The Replacement field used in DNS-based Discovery of
SNPN N3IWF for regulatory requirements shall be constructed as specified in
clause 28.3.2.2.7.2.
The Visited Country FQDN for N3IWF supporting Onboarding is used by a UE in
the visited country to determine whether the visited country mandates the
selection of an N3IWF in this country for onboarding services. The Visited
Country FQDN with N3IWF supporting Onboarding shall be constructed as
specified in clause 28.3.2.2.4.3. The Replacement field used in DNS-based
Discovery of regulatory requirements shall be constructed as specified in
clause 28.3.2.2.5.3.
The Visited Country FQDN for SNPN N3IWF supporting Onboarding is used by a UE
in the visited country to determine whether the visited country mandates the
selection of an SNPN N3IWF in this country for onboarding services. The
Visited Country FQDN with SNPN N3IWF supporting Onboarding shall be
constructed as specified in clause 28.3.2.2.6.2. The Replacement field used in
DNS-based Discovery of SNPN N3IWF for regulatory requirements shall be
constructed as specified in clause 28.3.2.2.7.2
NOTE 2: The DNS can be configured to return no records for the visited country
regardless of the SNPN ID provided by the UE. This addresses the scenario that
the visited country in general does not mandate selection of a local N3IWF.
##### 28.3.2.2.2 Operator Identifier based N3IWF FQDN
The N3IWF Fully Qualified Domain Name (N3IWF FQDN) contains an Operator
Identifier that shall uniquely identify the PLMN where the N3IWF is located.
The N3IWF FQDN is composed of seven labels. The last three labels shall be
\"pub.3gppnetwork.org\". The third and fourth labels together shall uniquely
identify the PLMN. The first two labels shall be \"n3iwf.5gc\". The N3IWF FQDN
shall be constructed as follows:
\"n3iwf.5gc.mnc\.mcc\.pub.3gppnetwork.org\"
In the roaming case, the UE can utilise the services of the VPLMN or the
HPLMN. In this case, the Operator Identifier based N3IWF FQDN shall be
constructed as described above, but using the MNC and MCC of the VPLMN or the
HPLMN.
In order to guarantee inter-PLMN DNS translation, the \ and \ coding
used in the \"n3iwf.5gc. mnc\.mcc\.pub.3gppnetwork.org\" format of
the Operator Identifier based N3IWF FQDN shall be:
\- \ = 3 digits
\- \ = 3 digits
If there are only 2 significant digits in the MNC, one \"0\" digit shall be
inserted at the left side to fill the 3 digits coding of MNC in the N3IWF
FQDN.
As an example, the Operator Identifier based N3IWF FQDN for MCC 345 and MNC 12
is coded in the DNS as:
\"n3iwf.5gc.mnc012.mcc345.pub.3gppnetwork.org\".
##### 28.3.2.2.3 Tracking Area Identity based N3IWF FQDN
The Tracking Area Identity based N3IWF FQDN is used to support location based
N3IWF selection within a PLMN.
There are two N3IWF FQDNs defined one based on a TAI with a 2 octet TAC and a
5GS one based on a 3 octet TAC.
1) The Tracking Area Identity based N3IWF FQDN using a 2 octet TAC shall be
constructed respectively as:
\"tac-lb\.tac-hb\.tac.n3iwf.5gc.mnc\.mcc\.pub.3gppnetwork.org\"
where
\- the \ and \ shall identify the PLMN where the N3IWF is located
and shall be encoded as
\- \ = 3 digits
\- \ = 3 digits
If there are only 2 significant digits in the MNC, one \"0\" digit shall be
inserted at the left side to fill the 3 digits coding of MNC in the N3IWF
FQDN.
\- the \, together with the \ and \ shall identify the Tracking
Area Identity the UE is located in.\ \ The TAC is a 16-bit integer. The \ is the hexadecimal string of the most significant byte in the TAC
and the \ is the hexadecimal string of the least significant
byte. If there are less than 2 significant digits in \ or
\, \"0\" digit(s) shall be inserted at the left side to fill
the 2 digit coding;
As examples,
\- the Tracking Area Identity based N3IWF FQDN for the TAC H\'0B21, MCC 345
and MNC 12 is coded in the DNS as:
\"tac-lb21.tac-hb0b.tac.n3iwf.5gc.mnc012.mcc345.pub.3gppnetwork.org\"
2) The 5GS Tracking Area Identity based N3IWF FQDN using a 3 octet TAC shall
be constructed respectively as:
\"tac-lb\.tac-mb\.tac-hb\.5gstac.n3iwf.5gc.mnc\.mcc\.pub.3gppnetwork.org\"
where
\- the \ and \ shall identify the PLMN where the N3IWF is located
and shall be encoded as
\- \ = 3 digits
\- \ = 3 digits
If there are only 2 significant digits in the MNC, one \"0\" digit shall be
inserted at the left side to fill the 3 digits coding of MNC in the N3IWF
FQDN.
\- the \, together with the \ and \ shall identify the
5GSTracking Area Identity the UE is located in.\ \ The 5GS TAC is a 24-bit
integer. The \ is the hexadecimal string of the most
significant byte in the TAC and the \ is the hexadecimal string
of the least significant byte. If there are less than 2 significant digits in
\, \ or \, \"0\" digit(s) shall
be inserted at the left side to fill the 2 digit coding;
As examples,
\- the 5GS Tracking Area Identity based N3IWF FQDN for the 5GS TAC H\'0B1A21,
MCC 345 and MNC 12 is coded in the DNS as:
\"tac-lb21.tac-mb1a.tac-
hb0b.5gstac.n3iwf.5gc.mnc012.mcc345.pub.3gppnetwork.org\"
##### 28.3.2.2.4 Visited Country FQDN for N3IWF
##### 28.3.2.2.4 Visited Country FQDN for N3IWF
##### 28.3.2.2.4.1 General {#general-24 .H6}
The Visited Country FQDN for N3IWF, used by a roaming UE to determine whether
the visited country mandates the selection of an N3IWF in this country, shall
be constructed as described below.
The Visited Country FQDN shall contain a MCC that uniquely identifies the
country in which the UE is located.
The Visited Country FQDN is composed of seven labels. The last three labels
shall be \"pub.3gppnetwork.org\". The fourth label shall be \"visited-
country\". The third label shall uniquely identify the MCC of the visited
country. The first and second labels shall be \"n3iwf.5gc\". The resulting
Visited Country FQDN of N3IWF shall be constructed as follows:
\"n3iwf.5gc.mcc\.visited-country.pub.3gppnetwork.org\"
The \ coding used in this FQDN shall be:
\- \ = 3 digits
As an example, the Visited Country FQDN for MCC 345 is coded in the DNS as:
\"n3iwf.5gc.mcc345.visited-country.pub.3gppnetwork.org\".
##### 28.3.2.2.4.2 Visited Country Emergency N3IWF FQDN {#visited-country-
emergency-n3iwf-fqdn .H6}
The Visited Country Emergency N3IWF FQDN, used by a roaming UE shall be
constructed as specified for the Visited Country FQDN for N3IWF in clause
28.3.2.2.4.1, with the addition of the label \"sos\" before the labels
\"n3iwf.5gc\".
The resulting Visited Country Emergency N3IWF FQDN shall be constructed as
follows:
\"sos.n3iwf.5gc.mcc\.visited-country.pub.3gppnetwork.org\"
As an example, the Visited Country FQDN for MCC 345 is coded in the DNS as:
\"sos.n3iwf.5gc.mcc345.visited-country.pub.3gppnetwork.org\".
##### 28.3.2.2.4.3 Visited Country FQDN for N3IWF supporting Onboarding
{#visited-country-fqdn-for-n3iwf-supporting-onboarding .H6}
UE onboarding for access to SNPN services is specified in clause 5.30.2.12 of
3GPP TS 23.501 [119]. Visited Country FQDN for N3IWF supporting Onboarding
encoding is constructed by adding a label \"onboarding\" to Visited Country
FQDN for N3IWF FQDN (see clause 28.3.2.2.4.1), indicating that the N3IWF
identified by the N3IWF identifier in the DNS response shall supports
onboarding.
Visited Country FQDN for N3IWF supporting Onboarding is constructed as
follows:
\"onboarding.n3iwf.5gc.mcc\.visited-country. pub.3gppnetwork.org\"
As an example, the Visited Country FQDN for N3IWF supporting Onboarding for
MCC 345, is coded in the DNS as:
\"onboarding.n3iwf.5gc.mcc345.visited-country.pub.3gppnetwork.org\".
##### 28.3.2.2.5 Replacement field used in DNS-based Discovery of regulatory
requirements
##### 28.3.2.2.5.1 General {#general-25 .H6}
If the visited country mandates the selection of an N3IWF in this country, the
NAPTR record(s) associated to the Visited Country FQDN shall be provisioned
with the replacement field containing the identity of the PLMN(s) in the
visited country which may be used for N3IWF selection.
The replacement field shall take the form of an Operator Identifier based
N3IWF FQDN as specified in clause 28.3.2.2.2.
For countries with multiple MCC, the NAPTR records returned by the DNS may
contain a different MCC than the MCC indicated in the Visited Country FQDN.
As an example, the NAPTR records associated to the Visited Country FQDN for
MCC 345, and for MNC 012, 013 and 014, are provisioned in the DNS as:
n3iwf.5gc.mcc345.visited-country.pub.3gppnetwork.org
; IN NAPTR order pref. flag service regexp replacement
IN NAPTR 100 999 \"\" \"\" n3iwf.5gc.mnc012.mcc345.pub.3gppnetwork.org
IN NAPTR 100 999 \"\" \"\" n3iwf.5gc.mnc013.mcc345.pub.3gppnetwork.org
IN NAPTR 100 999 \"\" \"\" n3iwf.5gc.mnc014.mcc345.pub.3gppnetwork.org
##### 28.3.2.2.5.2 Replacement field used in DNS-based Discovery of regulatory
requirements for emergency services via N3IWF {#replacement-field-used-in-dns-
based-discovery-of-regulatory-requirements-for-emergency-services-via-n3iwf
.H6}
The NAPTR record(s) associated to the Visited Country Emergency N3IWF FQDN
shall be provisioned with the replacement field containing the identity of the
PLMN(s) in the visited country supporting emergency services in non-3GPP
access via N3IWF.
The replacement field shall take the form of an operator identifier based
N3IWF FQDN as specified clause 28.3.2.2.2, with the addition of the label
\"sos\" before the labels \"n3iwf.5gc\".
As an example, the NAPTR records associated to the Visited Country Emergency
N3IWF FQDN for MCC 345, and for MNC 012, 013 and 014, are provisioned in the
DNS as:
sos.n3iwf.5gc.mcc345.visited-country.pub.3gppnetwork.org
; IN NAPTR order pref. flag service regexp replacement
IN NAPTR 100 999 \"\" \"\" sos.n3iwf.5gc.mnc012.mcc345.pub.3gppnetwork.org
IN NAPTR 100 999 \"\" \"\" sos.n3iwf.5gc.mnc013.mcc345.pub.3gppnetwork.org
IN NAPTR 100 999 \"\" \"\" sos.n3iwf.5gc.mnc014.mcc345.pub.3gppnetwork.org
##### 28.3.2.2.5.3 Replacement field used in DNS-based Discovery of N3IWF
supporting Onboarding {#replacement-field-used-in-dns-based-discovery-
of-n3iwf-supporting-onboarding .H6}
If the visited country mandates the selection of an N3IWF supporting
onboarding in this country, the NAPTR record(s) associated to the Visited
Country FQDN for N3IWF supporting Onboarding shall be provisioned with the
replacement field containing the Operator Identifier based Onboarding FQDN for
N3IWF located in the visited country.
When UE sends the DNS query to the DNS server containing the Visited Country
Onboarding FQDN for N3IWF (see clause 28.3.2.2.4.3), the DNS response should
contain the Operator Identifier based Onboarding FQDN for N3IWF containing the
identity of the PLMN(s) in the visited country which may be used for N3IWF
selection in the visited country supporting Untrusted non-3GPP access for UE
Onboarding via N3IWF.
If the UE has selected an PLMN for onboarding, the UE sends DNS query to the
DNS server containing the Operator Identifier based Onboarding FQDN for N3IWF
to query the identifier of the N3IWF supporting Onboarding, the DNS response
should contain the identifier of the N3IWF supporting the onboarding in the
PLMN identified by the PLMN ID.
The replacement field shall take the form of Operator Identifier based
Onboarding FQDN for N3IWF as below:
\"onboarding.n3iwf.5gc.mnc\.mcc\.pub.3gppnetwork.org\"
For countries with multiple MCC, the NAPTR records returned by the DNS may
contain a different MCC than the MCC indicated in the Visited Country FQDN for
N3IWF supporting Onboarding.
As an example, the NAPTR records associated to the Visited Country FQDN for
N3IWF supporting Onboarding for MCC 345, and for MNC 012, 013 and 014, are
provisioned in the DNS as:
onboarding.n3iwf.5gc.mcc345.visited-country.pub.3gppnetwork.org
; IN NAPTR order pref. flag service regexp replacement
IN NAPTR 100 999 \"\" \"\"
onboarding.n3iwf.5gc.mnc012.mcc345.pub.3gppnetwork.org
IN NAPTR 100 999 \"\" \"\"
onboarding.n3iwf.5gc.mnc013.mcc345.pub.3gppnetwork.org
IN NAPTR 100 999 \"\" \"\"
onboarding.n3iwf.5gc.mnc014.mcc345.pub.3gppnetwork.org
##### 28.3.2.2.6 FQDN for SNPN N3IWF
##### 28.3.2.2.6.1 Visited Country and Direct Access FQDN for SNPN N3IWF
{#visited-country-and-direct-access-fqdn-for-snpn-n3iwf .H6}
SNPN N3IWF is the N3IWF selected by the UE to access this SNPN service via
PLMN, or directly via an untrusted non-3GPP access, as specified in clause
6.3.6.2a of 3GPP TS 23.501 [119].
The Visited Country FQDN for SNPN N3IWF used by a UE in the visited country to
determine whether the visited country mandates the selection of an N3IWF in
this country for the SNPN identified by the SNPN Identifier provided by the
UE, shall be constructed as described below.
The Visited Country FQDN for SNPN N3IWF shall contain a MCC that uniquely
identifies the country in which the UE is located, and the SNPN Identifier.
The Visited Country FQDN for SNPN N3IWF is composed of eight labels. The last
three labels shall be \"pub.3gppnetwork.org\". The fifth label shall be
\"visited-country\". The fourth label shall uniquely identify the MCC of the
visited country. The third label shall be the SNPN Identifier as specified in
clause 12.7. The first and second labels shall be \"n3iwf.5gc\". The Visited
Country FQDN for SNPN N3IWF shall be constructed as follows:
\"n3iwf.5gc.snpnid\.mcc\.visited-country.pub.3gppnetwork.org\"
The \ coding used in this FQDN shall be:
\- \ = 3 digits
The \ coding used in this FQDN shall be:
\- \ = MCC \|\| MNC \|\| NID
NOTE 1: The MCC used in the SNPNID is not necessarily the same (e.g. it can be
999 reserved for internal use) as the one used in coding the \.
NOTE 2: Locally assigned NIDs are not supported, since a DNS cannot be
properly configured for multiple SNPNs using the same locally assigned NID.
As an example, the Visited Country FQDN for SNPN N3IWF for MCC 345, SNPN MCC
999, MNC 123, and NID 456789ABCDE is coded in the DNS as:
\"n3iwf.5gc.snpnid999123456789ABCDE.mcc345.visited-
country.pub.3gppnetwork.org\".
NOTE 3: The identity (i.e. the corresponding DNS record) of an SNPN\'s N3IWF
in the visited country can be any FQDN and is not required to include the SNPN
identifier.
##### 28.3.2.2.6.2 Visited Country FQDN for SNPN N3IWF supporting Onboarding
{#visited-country-fqdn-for-snpn-n3iwf-supporting-onboarding .H6}
SNPN N3IWF supporting Onboarding is specified in clause 5.30.2.12 of 3GPP TS
23.501 [119]. If an SNPN for onboarding has been selected, Visited Country
FQDN for SNPN N3IWF supporting Onboarding encoding is constructed by adding a
label \"onboarding\" to Visited Country FQDN for SNPN N3IWF FQDN (see clause
28.3.2.2.6.1), indicating that the SNPN identified by the SNPN in the DNS
response shall supports onboarding.
Visited Country FQDN for SNPN N3IWF supporting Onboarding shall be constructed
as follows:
\"onboarding.n3iwf.snpn-5gc.mcc\.visited-country.pub.3gppnetwork.org\"
As an example, the Visited Country FQDN for SNPN N3IWF, which also supports
Onboarding for MCC 345is coded in the DNS as:
\"onboarding.n3iwf.snpn-5gc.mcc345.visited-country.pub.3gppnetwork.org\".
##### 28.3.2.2.6.3 Visited Country Emergency SNPN FQDN {#visited-country-
emergency-snpn-fqdn .H6}
The Visited Country Emergency SNPN FQDN, used by a UE to determine whether the
visited country mandates the selection of an SNPN N3IWF for emergency service
in this country, shall be constructed as described below.
The Visited Country Emergency SNPN FQDN shall contain a MCC that uniquely
identifies the country in which the UE is located.
The Visited Country Emergency SNPN FQDN is composed of eight labels. The last
three labels shall be \"pub.3gppnetwork.org\". The fifth label shall be
\"visited-country\". The forth label shall uniquely identify the MCC of the
visited country. The second and third labels shall be \"n3iwf.snpn-5gc\". The
first label shall be \"sos\"\". The resulting Visited Country Emergency SNPN
FQDN shall be constructed as follows:
\"sos.n3iwf.snpn-5gc.mcc\.visited-country.pub.3gppnetwork.org\".
As an example, the Visited Country Emergency SNPN FQDN for MCC 345 is coded in
the DNS as:
\"sos.n3iwf.snpn-5gc.mcc345.visited-country.pub.3gppnetwork.org\".
##### 28.3.2.2.6.4 Replacement field used in DNS-based Discovery of regulatory
requirements for emergency services in SNPN {#replacement-field-used-in-dns-
based-discovery-of-regulatory-requirements-for-emergency-services-in-snpn .H6}
If the visited country mandates the selection of an SNPN N3IWF for emergency
services in this country, the NAPTR record(s) associated to the Visited
Country Emergency SNPN FQDN shall be provisioned with the replacement field
containing the identity of the SNPN(s) in the visited country which may be
used for N3IWF selection.
The replacement field shall take the form of an SNPN Identifier based N3IWF
FQDN as specified in clause 28.3.2.2.6.1 with the addition of the label
\"sos\" before the labels \"n3iwf.5gc\".
As an example, the NAPTR records associated to the Visited Country Emergency
SNPN FQDN for MCC 345, and for a) SNPN MCC 999, MNC 012, and NID 345678ABCDE;
b) SNPN MCC 345, MNC 013, and NID 345678BCDEF; and c) SNPN MCC 999, MNC 014,
and NID 234567CDEFG, are provisioned in the DNS as:
sos.n3iwf.5gc.snpn.mcc345.visited-country.pub.3gppnetwork.org
; IN NAPTR order pref. flag service regexp replacement
IN NAPTR 100 999 \"\" \"\"
sos.n3iwf.5gc.snpnid999012345678ABCDE.mcc345.pub.3gppnetwork.org
IN NAPTR 100 999 \"\" \"\"
sos.n3iwf.5gc.snpnid345013345678BCDEF.mcc345.pub.3gppnetwork.org
IN NAPTR 100 999 \"\" \"\"
sos.n3iwf.5gc.snpnid999014234567CDEFG.mcc345.pub.3gppnetwork.org
NOTE: The SNPN ID in the NAPTR records do not contain the NID using self-
assignment model since a DNS cannot be properly configured for multiple SNPNs
using the same self-assigned NID.
##### 28.3.2.2.7 Replacement field used in DNS-based Discovery of SNPN N3IWF
for regulatory requirements
##### 28.3.2.2.7.1 General {#general-26 .H6}
If the visited country mandates the selection of an N3IWF in this country, the
NAPTR record(s) associated to the Visited Country FQDN shall be provisioned
with the replacement field containing FQDNs of SNPN N3IWFs located in the
visited country.
NOTE: If the visited country mandates the selection of the N3IWF in this
country and the SNPN does not have an N3IWF in this country, the NAPTR
record(s) associated to the Visited Country FQDN are provisioned with the
replacement field containing an FQDN that cannot be resolved to an IP address.
##### 28.3.2.2.7.2 Replacement field used in DNS-based Discovery of SNPN N3IWF
supporting Onboarding {#replacement-field-used-in-dns-based-discovery-of-
snpn-n3iwf-supporting-onboarding .H6}
If the visited country mandates the selection of an SNPN N3IWF supporting
onboarding in this country, the NAPTR record(s) associated to the Visited
Country FQDN for SNPN N3IWF supporting Onboarding shall be provisioned with
the replacement field containing Operator Identifier based Onboarding FQDN for
SNPN N3IWF located in the visited country.
When UE sends the DNS query to the DNS server containing the Visited Country
Onboarding FQDN for SNPN N3IWF (see clause 28.3.2.2.6.2), the DNS response
should contain the Operator Identifier based Onboarding FQDN for SNPN N3IWF
with the identity of an SNPN in the visited country supporting Untrusted
non-3GPP access for UE Onboarding via N3IWF.
If the UE has selected an SNPN for onboarding, the UE sends DNS query to the
DNS server containing the Operator Identifier based Onboarding FQDN for SNPN
N3IWF to query the identifier of the N3IWF supporting Onboarding, the DNS
response should contain the identifier of the N3IWF supporting the onboarding
in the SNPN identified by the SNPN ID.
The replacement field shall take the form of Operator Identifier based
Onboarding FQDN for SNPN N3IWF as below:
\"onboarding.n3iwf.5gc.snpnid\.mcc\.pub.3gppnetwork.org\"
As an example, the NAPTR records associated to the Visited Country Emergency
SNPN FQDN for MCC 345, and for a) SNPN MCC 999, MNC 123, and NID 456789ABCDE;
b) SNPN MCC 999, MNC 013, and NID 345678BCDEF, are provisioned in the DNS as:
onboarding.n3iwf.snpn-5gc.mcc345.visited-country.pub.3gppnetwork.org
; IN NAPTR order pref. flag service regexp replacement
IN NAPTR 100 999 \"\" \"\"
onboarding.n3iwf.5gc.snpnid999123456789ABCDE.mcc345.pub.3gppnetwork.org
IN NAPTR 100 999 \"\" \"\"
onboarding.n3iwf.5gc.snpnid999013345678BCDEF.mcc345.pub.3gppnetwork.org
##### 28.3.2.2.8 Prefixed Operator Identifier based N3IWF FQDN
The Prefixed Operator Identifier based N3IWF FQDN, used by a UE that is
configured with Slice-specific N3IWF prefix configuration, shall be
constructed as specified for the Operator Identifier based N3IWF FQDN in
clause 28.3.2.2.2, with the addition of \ before the labels
\"n3iwf.5gc\". The \ is provided in the Slice-specific N3IWF prefix
configuration for the selected PLMN that contains S-NSSAIs that match all (or
most, in case there is no full match) of the S-NSSAIs that the UE is going to
include in the Requested NSSAI in the subsequent Registration procedure, and
is specified in 3GPP TS 24.526 [144].
The Prefixed Operator Identifier based N3IWF FQDN shall be constructed as
follows:
\"\.n3iwf.5gc.mnc\.mcc\.pub.3gppnetwork.org\"
As an example, the Prefixed Operator Identifier based N3IWF FQDN for MNC 123,
MCC 345 with an example \ value \"ssn3iwfprefix-Y\" is coded in the
DNS as:
\"ssn3iwfprefix-Y.n3iwf.5gc.mnc123.mcc345.pub.3gppnetwork.org\".
##### 28.3.2.2.9 Prefixed Tracking Area Identity based N3IWF FQDN
The Prefixed Tracking Area Identity based N3IWF FQDN, used by a UE that is
configured with Slice-specific N3IWF prefix configuration, shall be
constructed as specified for the Tracking Area Identity based N3IWF FQDN in
clause 28.3.2.2.3, with the addition of \ before the TAC. The
\ is provided in the Slice-specific N3IWF prefix configuration for the
selected PLMN that contains S-NSSAIs that match all (or most, in case there is
no full match) of the S-NSSAIs that the UE is going to include in the
Requested NSSAI in the subsequent Registration procedure, and is specified in
3GPP TS 24.526 [144].
There are two Prefixed Tracking Area Identity based N3IWF FQDNs defined: one
based on a TAI with a 2 octet TAC and a 5GS one based on a 3 octet TAC.
> 1) The Prefixed Tracking Area Identity based N3IWF FQDN using a 2 octet TAC
> shall be constructed respectively as:
>
> \"\.tac-lb\.tac-hb\ byte>.tac.n3iwf.5gc.mnc\.mcc\.pub.3gppnetwork.org\"
>
> The syntax and semantics of \, \, \, and
> \ are specified in clause 28.3.2.2.3.
>
> As an example, the Prefixed Tracking Area Identity based N3IWF FQDN for the
> TAC H\'0B21, MCC 345, MNC 12, and an example \ value
> \"ssn3iwfprefix-Y\" is coded in the DNS as:
>
> \"ssn3iwfprefix-Y.tac-lb21.tac-
> hb0b.tac.n3iwf.5gc.mnc012.mcc345.pub.3gppnetwork.org\"
>
> 2) The 5GS Prefixed Tracking Area Identity based N3IWF FQDN using a 3 octet
> TAC shall be constructed respectively as:
>
> \"\.tac-lb\.tac-mb\.tac-hb\ byte>.5gstac.n3iwf.5gc.mnc\.mcc\.pub.3gppnetwork.org\"
>
> The syntax and semantics of \, \, \ byte>, \, and \ are specified in clause 28.3.2.2.3.
>
> As an example, the 5GS Prefixed Tracking Area Identity based N3IWF FQDN for
> the 5GS TAC H\'0B1A21, MCC 345, MNC 12, and an example \ value
> \"ssn3iwfprefix-Y\" is coded in the DNS as:
>
> \"ssn3iwfprefix-Y.tac-lb21.tac-mb1a.tac-
> hb0b.5gstac.n3iwf.5gc.mnc012.mcc345.pub.3gppnetwork.org\"
#### 28.3.2.3 PLMN level and Home NF Repository Function (NRF) FQDN
##### 28.3.2.3.1 General
When an NF is instantiated, it may register with a PLMN level NF Repository
Function (NRF). It may then discover other NF instance(s) in the 5GC by
querying the PLMN level NRF. The IP address of the PLMN level NRF can be
provisioned into the NF, or the NF can be pre-configured with the FQDN of the
PLMN level NRF. If the PLMN level NRF addresses and FDQN are not provisioned
into the NF, the NF self-constructs the PLMN level NRF FQDN as per the format
specified in clause 28.3.2.3.2.
For NF discovery across PLMNs, the NRF (e.g vNRF) shall self-construct the
PLMN level NRF FQDN of the target PLMN (e.g hNRF) as per the format specified
in clause 28.3.2.3.2, and the hNRF URI as per the format specified in
subsclause 28.3.2.3.3, if the NRF has not obtained the NRF FQDN of the target
PLMN.
##### 28.3.2.3.2 Format of NRF FQDN
The NRF FQDN for an NRF in an operator\'s PLMN shall be constructed by
prefixing the Home Network Domain Name (see clause 28.2) of the PLMN in which
the NRF is located with the label \"nrf.\" as described below:
\- nrf.5gc.mnc\.mcc\.3gppnetwork.org
If the SUPI of the UE for construction of the NRF FQDN is of a type other than
IMSI (e.g., NSI such as user\@operator.com), the NRF FQDN of an NRF in an
operator\'s SNPN, if not pre-configured in the NF, shall be constructed by
prefixing the Home Network Domain Name (see clause 28.2) of the SNPN in which
the NRF is located with the label \"nrf.\"e.g.
\- nrf.operator.com :
\- nrf.5gc.nid\.mnc\.mcc\.3gppnetwork.org (for SNPN scenarios
where NID is available)
If the SUPI of the UE for construction of the NRF FQDN is of type IMSI, the
NID is not available to the NF. Therefore, the NRF FQDN of an NRF in an
operator's SNPN, if not pre-configured in the NF, is that of the NRF of the
PLMN that owns the MCC and MNC as described below:
\- nrf.5gc.mnc\.mcc\.3gppnetwork.org
##### 28.3.2.3.3 NRF URI
In absence of any other local configuration available in the vNRF, the API
URIs of the hNRF shall be constructed by deriving the API root (see 3GPP TS
29.501 [128]) as follows:
\- the authority part shall be set to the NRF FQDN as specified in 28.3.2.3.2
\- the scheme shall be \"https\"
\- the port shall be the default port for the \"https\" scheme, i.e. 443.
\- the API prefix optional component shall not be used
EXAMPLE: For an MCC = 012 and MNC = 345, the API root of the NRF services
shall be:
\"https://nrf.5gc.mnc345.mcc012.3gppnetwork.org/\"
#### 28.3.2.4 Network Slice Selection Function (NSSF) FQDN
##### 28.3.2.4.1 General
For roaming service, the vNSSF may invoke the Nnssf_NSSelection_Get service
operation from the hNSSF. For routing of the HTTP/2 messages across the PLMN,
the vNSSF self-constructs the FQDN of the hNSSF as per the format specified in
clause 28.3.2.4.2 and the URI of the hNSSF as per the format specified in
clause 28.3.2.4.3. The Home Network is identified by the PLMN ID of the SUPI
provided to the vNSSF by the NF Service Consumer (e.g. the AMF).
##### 28.3.2.4.2 Format of NSSF FQDN
The NSSF FQDN for an NSSF in an operator\'s PLMN shall be constructed by
prefixing its Home Network Domain Name (see clause 28.2) with the label
\"nssf.\" as described below:
\- nssf.5gc.mnc\.mcc\.3gppnetwork.org
The NSSF FQDN for an NSSF in an operator\'s SNPN, if not pre-configured in the
NF, shall be constructed by prefixing the Home Network Domain Name (see clause
28.2) of the SNPN in which the NSSF is located with the label \"nssf.\" as
described below:
\- nssf.5gc.nid\.mnc\.mcc\.3gppnetwork.org
##### 28.3.2.4.3 NSSF URI
In absence of any other local configuration available in the vNSSF, the API
URIs of the hNSSF shall be constructed by deriving the API root (see 3GPP TS
29.501 [128]) as follows:
\- the authority part shall be set to the NSSF FQDN as specified in 28.3.2.4.2
\- the scheme shall be \"https\"
\- the port shall be the default port for the \"https\" scheme, i.e. 443.
\- the API prefix optional component shall not be used
EXAMPLE: For an MCC = 012 and MNC = 345, the API root of the NSSF services
shall be:
\"https://nssf.5gc.mnc345.mcc012.3gppnetwork.org/\"
#### 28.3.2.5 AMF Name
The AMF Name FQDN shall uniquely identify an AMF.
The AMF Name FQDN for an AMF within an operator\'s PLMN shall be constructed
as follows:
\"\.amf.5gc.mnc\.mcc\.3gppnetwork.org\"
where
\- the \ and \ shall identify the PLMN where the AMF is located and
shall be encoded as
\- \ = 3 digits
\- \ = 3 digits
If there are only 2 significant digits in the MNC, one \"0\" digit shall be
inserted at the left side to fill the 3 digits coding of MNC in the AMF Name
FQDN.
\- the \ shall contain at least one label.
As example,
\- If \ is amf1.cluster1.net2, the AMF Name FQDN for MCC 345 and MNC
12 is:
\"amf1.cluster1.net2.amf.5gc.mnc012.mcc345.3gppnetwork.org\"
The AMF Name FQDN for an AMF within an operator\'s SNPN, if not pre-configured
in the NF, shall be constructed as follows:
\"\.amf.5gc.nid\.mnc\.mcc\.3gppnetwork.org\"
where
\- \ and \ shall be encoded as specified above;
\- NID shall be encoded as hexadecimal digits as specified in clause 12.7.
As example,
\- If \ is amf1.cluster1.net2, the AMF Name FQDN for MCC 345, MNC 12
and NID 000007ed9d5 (hexadecimal) is:
\"amf1.cluster1.net2.amf.5gc.nid000007ed9d5.mnc012.mcc345.3gppnetwork.org\"
#### 28.3.2.6 5GS Tracking Area Identity (TAI) FQDN
The 5GS Tracking Area Identity (TAI) FQDN shall be constructed as follows:
\"tac-lb\.tac-mb\.tac-hb\.5gstac. 5gc.mnc\.mcc\.3gppnetwork.org\"
where the \, together with the \ and \ shall identify the 5GS
Tracking Area Identity, and shall be encoded as follows:
\- \ = 3 digits
\- \ = 3 digits
If there are only 2 significant digits in the MNC, one \"0\" digit shall be
inserted at the left side to fill the 3 digits coding of MNC in the 5GS TAI
FQDN.
\- The 5GS TAC is a 24-bit integer. The \ is the hexadecimal
string of the most significant byte in the TAC and the \ is the
hexadecimal string of the least significant byte. If there are less than 2
significant digits in \, \ or \, \"0\" digit(s) shall be inserted at the left side to fill the 2 digits
coding;
As an example, the 5GS Tracking Area Identity for the 5GS TAC H\'0B1A21, MCC
345 and MNC 12 is coded in the DNS as:
\"tac-lb21.tac-mb1a.tac-hb0b.5gstac.5gc.mnc012.mcc345.3gppnetwork.org\"
#### 28.3.2.7 AMF Set FQDN
An AMF Set within an operator\'s PLMN is identified by its AMF Set ID, AMF
Region ID, MNC and MCC.
A subdomain name shall be derived from the MNC and MCC by adding the label
\"amfset\" to the beginning of the Home Network Realm/Domain (see clause
28.2).
The AMF Set FQDN shall be constructed as follows:
set\.region\.amfset.5gc.mnc\.mcc\.3gppnetwork.org
where
\- \ = 3 digits
\- \ = 3 digits
If there are only 2 significant digits in the MNC, one \"0\" digit shall be
inserted at the left side to fill the 3 digits coding of MNC in the AMF Set
FQDN.
\- \ and \ are the hexadecimal strings of the AMF
Set ID and AMF Region ID. If there are less than 2 significant digits in \, \"0\" digit(s) shall be inserted at the left side to fill the 2
digits coding. If there are less than 3 significant digits in \,
\"0\" digit(s) shall be inserted at the left side to fill the 3 digits coding.
As an example, the AMF Set FQDN for the AMF Set 1, AMF Region 48
(hexadecimal), MCC 345 and MNC 12 is coded as:
\"set001.region48.amfset.5gc.mnc012.mcc345.3gppnetwork.org\"
An AMF Set within an operator\'s Stand-alone Non-Public Network (SNPN) shall
be identified by its AMF Set ID, AMF Region ID and by either its Network
Identifier (NID), MNC and MCC or an SNPN domain name pre-configured in the NF.
The AMF Set FQDN shall be constructed as follows:
set\.region\.amfset.5gc.nid\.mnc\.mcc\.3gppnetwork.org
or
set\.region\.amfset.\
where
\- \ and \ shall be encoded as specified above;
\- NID shall be encoded as hexadecimal digits as specified in clause 12.7;
\- \ is a domain name chosen by the SNPN operator.
As an example, the AMF Set FQDN for the AMF Set 1, AMF Region 48
(hexadecimal), NID 000007ed9d5 (hexadecimal), MCC 345 and MNC 12 is coded as:
\"set001.region48.amfset.5gc.nid000007ed9d5. mnc012.mcc345.3gppnetwork.org\"
#### 28.3.2.8 AMF Instance FQDN
The AMF Instance FQDN shall uniquely identify an AMF instance.
The AMF Instance FQDN shall be constructed as:
pt\.set\.region\.amfi.5gc.mnc\.mcc\.3gppnetwork.org
where
\- \ = 3 digits
\- \ = 3 digits
If there are only 2 significant digits in the MNC, one \"0\" digit shall be
inserted at the left side to fill the 3 digits coding of MNC in the AMF
Instance FQDN.
\- \, \ and \ are the hexadecimal
strings of the AMF Pointer, AMF Set ID and AMF Region ID. If there are less
than 2 significant digits in \ or \, \"0\"
digit(s) shall be inserted at the left side to fill the 2 digits coding of the
AMF Pointer or AMF Region Id respectively. If there are less than 3
significant digits in \, \"0\" digit(s) shall be inserted at the
left side to fill the 3 digits coding.
As an example, the AMF Instance FQDN for the AMF Pointer 12 (hexadecimal), AMF
Set 1, AMF Region 48 (hexadecimal), MCC 345 and MNC 12 is coded as:
\"pt12.set001.region48.amfi.5gc.mnc012.mcc345.3gppnetwork.org\"
#### 28.3.2.9 SMF Set FQDN
An SMF Set within an operator\'s network is identified by its NF Set ID as
defined in clause 28.12, with NFType set to \"smf\".
For an SMF Set within an operator\'s PLMN, a subdomain name shall be derived
from the MNC and MCC by adding the label \"smfset\" to the beginning of the
Home Network Realm/Domain (see clause 28.2).
The SMF Set FQDN shall be constructed as follows:
set\.smfset.5gc.mnc\.mcc\.3gppnetwork.org
where
\- \ = 3 digits
\- \ = 3 digits
If there are only 2 significant digits in the MNC, one \"0\" digit shall be
inserted at the left side to fill the 3 digits coding of MNC in the AMF Set
FQDN.
\- \ is the string representing the Set ID part within the NF Set ID
defined in clause 28.12.
EXAMPLE: \"set12. smfset.5gc.mnc012.mcc345.3gppnetwork.org\" (for the SMF set
from MCC 345, MNC 12 and SetID \"12\")
NOTE: The labels preceding the \".3gppnetwork.org\" domain correspond to the
NF Set ID definition in clause 28.12.
For an SMF Set within an operator\'s Stand-alone Non-Public Network (SNPN),
the SMF Set FQDN shall be constructed from its Network Identifier (NID), MNC
and MCC or an SNPN domain name pre-configured in the NF, as follows:
set\.smfset.5gc.nid\.mnc\.mcc\.3gppnetwork.org
or
set\.smfset.\
where
\- \ and \ shall be encoded as specified above;
\- NID shall be encoded as hexadecimal digits as specified in clause 12.7;
\- \ is a domain name chosen by the SNPN operator.
EXAMPLE: \"set12.smfset.5gc.nid000007ed9d5.mnc012.mcc345.3gppnetwork.org\"
(for an SMF set from MCC 345, MNC 12, NID 000007ed9d5 (hexadecimal) and SetID
\"12\")
#### 28.3.2.10 Short Message Service Function (SMSF) FQDN
The Short Message Service Function (SMSF) FQDN shall be constructed by
prefixing its Home Network Domain Name (see clause 28.2) with the label
\"smsf\" and with label(s) assigned by a PLMN as described below:
\- \.smsf.5gc.mnc\.mcc\.3gppnetwork.org
This format shall be used as a Diameter identity of an SMSF. A Diameter realm
of an SMSF shall be a Home Network Domain Name (see clause 28.2), i.e.:
\- 5gc.mnc\.mcc\.3gppnetwork.org
#### 28.3.2.11 5G DDNMF FQDN
The UE may construct the 5G DDNMF FQDN to discover the 5G DDNMF as specified
in 3GPP TS 23.304 [143]. The 5G DDNMF FQDN shall be constructed as follows:
\"ddnmf.5gc.mnc\.mcc\.pub.3gppnetwork.org\"
where the \ and \ shall identify the PLMN where the 5G DDNMF is
located. Both the \"\\" and \"\\" fields are 3 digits long. If there
are only 2 significant digits in the MNC, one \"0\" digit shall be inserted at
the left side to fill the 3 digits coding of MNC in the 5G DDNMF FQDN.
## 28.4 Information for Network Slicing
### 28.4.1 General
In order to identify a Network Slice end to end, the 5GS uses information
called S-NSSAI (Single Network Slice Selection Assistance Information). See
clause 5.15.2 of 3GPP TS 23.501 [119].
An S-NSSAI is comprised of:
\- A Slice/Service type (SST),
\- A Slice Differentiator (SD), which is optional information that complements
the Slice/Service type(s) to differentiate amongst multiple Network Slices.
### 28.4.2 Format of the S-NSSAI
The structure of the S-NSSAI is depicted in Figure 28.4.2-1
Figure 28.4.2-1: Structure of S-NSSAI
The S-NSSAI may include both the SST and SD fields (in which case the S-NSSAI
length is 32 bits in total), or the S-NSSAI may just include the SST field (in
which case the S-NSSAI length is 8 bits only).
The SST field may have standardized and non-standardized values. Values 0 to
127 belong to the standardized SST range and they are defined in 3GPP TS
23.501 [119]. Values 128 to 255 belong to the Operator-specific range.
The SD field has a reserved value \"no SD value associated with the SST\"
defined as hexadecimal FFFFFF. In certain protocols, the SD field is not
included to indicate that no SD value is associated with the SST.
### 28.4.3 Ranges of S-NSSAIs
In the 5G Core Network, an NF Instance may indicate (e.g., while registering
its NF profile in the NRF) support for several S-NSSAIs having a common SST
value and different SDs, by including such SST value and adding, either a list
of ranges of SDs, or a \"wildcard\" flag representing all SD values for the
common SST (see 3GPP TS 29.571 [129], clause 5.4.5.1).
For an NF registering a list of supported S-NSSAIs in terms of ranges of SDs,
or wildcard, the NF may associate a common network slicing policy (such as,
e.g., for an AMF to assign a specific DNN to be used with a certain slice) to
all S-NSSAIs derived from that SD range.
NOTE: The usage of SD ranges to define sets of S-NSSAIs is restricted to be
used only by certain protocols/APIs in the 5G Core Network (e.g., NRF, NSSF,
AMF...).
### 28.4.4 Network Slice Instance Identifier (NSI ID)
A Network Slice Instance Identifier (NSI ID) uniquely identifies a Network
Slice Instance (NSI) within a PLMN or SNPN, when multiple NSIs of a same
Network Slice are deployed and there is a need to differentiate between them
in the 5GC.
See 3GPP TS 23.501 [119] for the definition of the Network Slice Instance. An
NSI may be associated with one or more S-NSSAIs, and an S-NSSAI may be
associated with one or more NSIs.
The NSI ID is defined as an operator specific string (see clause 6.1.6.2.2 of
3GPP TS 29.510 [130]).
## 28.5 NF FQDN Format for Inter PLMN Routing
### 28.5.1 General
For routing HTTP/2 request messages to NF in a different PLMN, the FQDN of the
target NF shall have the Home Network Domain (see clause 28.2) as the trailing
part.
### 28.5.2 Telescopic FQDN
The FQDN of the NF services or the authority part of URIs in another PLMN, may
be appended with the PLMN Network Domain of the request initiating PLMN, as
the trailing part to form a Telescopic FQDN as specified in 3GPP TS 33.501
[124]. The Telescopic FQDN shall be constructed as follows:
\.\,
where:
\- FQDN from other PLMN is the FQDN of the other PLMN NF (for e.g. returned in
the NF Discovery Response) or the authority part of URIs from other PLMN,
which may be rewritten by the other PLMN SEPP for topology hiding. The request
initiating PLMN SEPP shall replace the other PLMN FQDN with a label;
NOTE 1: How a SEPP constructs the label to replace the other PLMN FQDN is
implementation specific. The label replacement is required in order to avoid
multiple subdomains in the FQDN since the SEPP presents wildcard certificates
on behalf of the other PLMN and only single level subdomain is allowed in a
wildcard certificate as per IETF RFC 2818 [127].
NOTE 2: FQDN from other PLMN includes the network domain of the other PLMN.
\- FQDN of the SEPP in the request initiating PLMN is the identifier of the
SEPP in the request initaiting PLMN (e.g. VPLMN).
## 28.6 5GS Tracking Area Identity (TAI)
The 5GS Tracking Area Identity (TAI) consists of a Mobile Country Code (MCC),
Mobile Network Code (MNC), and Tracking Area Code (TAC). It is composed as
shown in figure 28.6-1.
Figure 28.6-1: Structure of the 5GS Tracking Area Identity (TAI)
The TAI is composed of the following elements:
\- Mobile Country Code (MCC) identifies the country in which the PLMN is
located. The value of the MCC is the same as the 3-digit MCC contained in the
IMSI;
\- Mobile Network Code (MNC) is a code identifying the PLMN in that country.
The value of the MNC is the same as the 2-digit or 3-digit MNC contained in
the IMSI;
\- 5GS Tracking Area Code (TAC) is a fixed length code (of 3 octets)
identifying a Tracking Area within a PLMN. This part of the tracking area
identification shall be coded using a full hexadecimal representation. The
following are reserved hexadecimal values of the TAC:
\- 000000, and
\- FFFFFE.
NOTE 1: The above reserved values are used in some special cases when no valid
TAI exists in the UE (see 3GPP TS 24.501 [125] for more information).
NOTE 2: In the 5G Core Network protocols, when the TAI needs to be identified
in the context of Standalone Non-Public Networks (SNPN), the Network
Identifier (NID) of the SNPN is included as part of the TAI Information
Element (see 3GPP TS 29.571 [129]); this is a protocol aspect that does not
imply any change on the system-wide definition of the TAI.
## 28.7 Network Access Identifier (NAI)
### 28.7.1 Introduction
This clause describes the NAI formats used in the 5G System.
### 28.7.2 NAI format for SUPI
The NAI for SUPI shall have the form username\@realm as specified in clause
2.2 of IETF RFC 7542 [126].
A SUPI containing a network specific identifier shall take the form of a
Network Access Identifier (NAI). See clause 5.9.2 of 3GPP TS 23.501 [119] for
the definition and use of the network specific identifier. In SNPN scenarios,
the realm part of the NAI may include MCC, MNC and the NID of the SNPN (see
3GPP TS 23.501 clauses 5.30.2.3, 5.30.2.9, 6.3.4, and 6.3.8; for the realm
part format see Home Network Domain for an SNPN in clause 28.2).
See clauses 28.15.2 and 28.16.2 for the NAI format for a SUPI containing a GCI
or a GLI.
### 28.7.3 NAI format for SUCI
When the SUPI is defined as a Network Specific Identifier, the SUCI shall take
the form of a Network Access Identifier (NAI). In this case, the NAI format of
the SUCI shall have the form username\@realm as specified in clause 2.2 of
IETF RFC 7542 [126], where the realm part shall be identical to the realm part
of the Network Specific Identifier. In SNPN scenarios, the realm part of the
NAI may include MCC, MNC and the NID of the SNPN (see 3GPP TS 23.501 clauses
5.30.2.3, 5.30.2.9, 6.3.4, and 6.3.8; for the realm part format see Home
Network Domain for an SNPN in clause 28.2).
When the SUPI is defined as an IMSI, the SUCI in NAI format shall have the
form username\@realm, where the realm part shall be constructed by converting
the leading digits of the IMSI, i.e. MNC and MCC, into a domain name, as
described in clause 28.2. In SNPN scenarios, the realm part shall additionally
include the NID of the SNPN, if available. The resulting realm part of the NAI
shall be in the form:
\"5gc.mnc\.mcc\.3gppnetwork.org\", or
\"5gc.nid\.mnc\.mcc\.3gppnetwork.org\" (for SNPN scenarios
where the NID is available).
NOTE: The NID might not be available for the UE if an operator chooses the
SUCI calculation to be the done inside the USIM, since the NID is configured
within the ME part of the UE.
The username part of the NAI shall take one of the following forms:
a) for the null-scheme:
type\.rid\.schid\.userid\
b) for the Scheme Output for Elliptic Curve Integrated Encryption Scheme
Profile A and Profile B:
type\.rid\.schid\.hnkey\.ecckey\.cip\.mac\
c) for HPLMN proprietary protection schemes:
type\.rid\.schid\.hnkey\. out\
See clause 2.2B for the definition and format of the different fields of the
SUCI.
EXAMPLES:
Assuming the IMSI 234150999999999, where MCC=234, MNC=15 and MSISN=0999999999,
the Routing Indicator 678, and a Home Network Public Key Identifier of 27, the
NAI format for the SUCI takes the form:
\- for the null-scheme:
type0.rid678.schid0.userid0999999999\@5gc.mnc015.mcc234.3gppnetwork.org
\- for the Profile \ protection scheme:
type0.rid678.schid1.hnkey27.ecckey\.cip\.mac\\@5gc.mnc015.mcc234.3gppnetwork.org
Assuming the Network Specific Identifier user17\@example.com, the Routing
Indicator 678, and a Home Network Public Key Identifier of 27, the NAI format
for the SUCI takes the form:
\- for the null-scheme:
type1.rid678.schid0.useriduser17\@example.com
\- for an anonymous SUCI:
type1.rid678.schid0.useridanonymous\@example.com (with username corresponding
to \"anonymous\"), or
type1.rid678.schid0.userid\@example.com (with username corresponding to an
empty string)
\- for the Profile \ protection scheme:
type1.rid678.schid1.hnkey27.ecckey\.cip\.mac\\@example.com
See clauses 28.15.5 and 28.16.5 for the NAI format for a SUCI containing a GCI
or a GLI.
### 28.7.4 Emergency NAI for Limited Service State
This clause describes the format of the UE identification when UE is
performing an emergency registration and IMSI is not available or not
authenticated.
The Emergency NAI for Limited Service State shall take the form of an NAI, and
shall have the form username\@realm as specified in clause 2.2 of IETF RFC
7542 [126]. The exact format shall be:
imei\\@sos.invalid
NOTE: The top level domain \".invalid\" is a reserved top level domain, as
specified in IETF RFC 2606 [64], and is used here due to the fact that this
NAI never needs to be resolved for routing.
or if IMEI is not available,
mac\\@sos.invalid
For example, if the IMEI is 219551288888888, the Emergency NAI for Limited
Service State then takes the form of imei219551288888888\@sos.invalid.
For example, if the MAC address is 44-45-53-54-00-AB, the Emergency NAI for
Limited Service State then takes the form of mac4445535400AB\@sos.invalid,
where the MAC address is represented in hexadecimal format without separators.
### 28.7.5 Alternative NAI
The Alternative NAI shall take the form of a NAI, i.e. \'any_username\@realm\'
as specified of IETF RFC 7542 [126]. The Alternative NAI shall not be routable
from any AAA server.
The Alternative NAI shall contain a username part that is not a null string.
The realm part of the NAI shall be \"unreachable.3gppnetwork.org\".
The result shall be an NAI in the form of:
\"\\@unreachable.3gppnetwork.org\".
### 28.7.6 NAI used for 5G registration via trusted non-3GPP access
While performing the EAP-authentication procedure when a UE attempts to
register to 5GCN via a trusted non-3GPP access network in a selected PLMN (see
clause 4.12a in 3GPP TS 23.502 [120]), the UE shall derive a NAI from the
identity of the selected PLMN in the following format:
\"\\@nai.5gc.mnc\.mcc\.3gppnetwork.org\"
where:
a) the username part \ is any non null string; and
b) the \ and \ identify the PLMN (either HPLMN or VPLMN) to which
the UE attempts to connect via the trusted non-3GPP access network as
described in clause 6.3.12 in 3GPP TS 23.501 [119].
While performing the EAP-authentication procedure when a UE attempts to
register to 5GCN via a trusted non-3GPP access network in a selected SNPN (see
clause 5.30.2.13 in 3GPP TS 23.501 [119]), the UE shall derive a NAI from the
identity of the selected SNPN in the following format:
\"\\@nai.5gc.nid\.mnc\.mcc\.3gppnetwork.org\";
where:
a) the username part \ is any non null string; and
b) the \, \ and \ identify the SNPN to which the UE attempts to
connect via the trusted non-3GPP access network.
While performing the EAP authentication procedure when a UE attempts to
register to 5GCN via a trusted non-3GPP access network in a selected TNGF, the
UE shall derive NAI from the identity of the selected TNGF in the following
format:
\"\\@tngfid\.nai.5gc.mnc\.mcc\.3gppnetwork.org\";
where:
a) The username part \ is any non null string; and
b) The \ and \ identify the PLMN (either HPLMN or VPLMN) to which
the UE attempts to connect via the trusted non-3GPP access network; and
c) \ identifies the TNGF.
While performing the EAP-authentication procedure when a UE attempts to
register to 5GCN via a trusted non-3GPP access network in a selected SNPN and
TNGF, the UE shall derive a NAI from the identity of the selected SNPN and
TNGF in the following format:
\"\\@tngfid\.nai.5gc.nid\.mnc\.mcc\.3gppnetwork.org\";
where:
a) the username part \ is any non null string; and
b) the \, \ and \ identify the SNPN to which the UE attempts to
connect via the trusted non-3GPP access network; and
c) \ identifies the TNGF.
NOTE 1: The username part of the NAI is not used to identify the UE since the
UE is identified by its NAS registration to the 5GCN independent of using the
NAI. The realm part of the NAI is however used by the trusted non-3GPP access
for TNGF selection.
NOTE 2: In case of 5GCN, there is no need for a decorated NAI as in EPC (see
clause 19.3.3), since the UE sends a NAS registration request to the PLMN
including a SUCI or 5G-GUTI.
Editor\'s Note: The format of the TNGF ID in NAI is FFS.
### 28.7.7 NAI used by N5CW devices via trusted non-3GPP access
#### 28.7.7.0 General
While performing the EAP authentication procedure when a non 5G capable over
WLAN (N5CW) device attempts to register to 5GCN via a trusted non-3GPP access
network in a selected PLMN (see clause 4.12 b in 3GPP TS 23.502 [120]), the
N5CW device shall derive a NAI from the identity of the selected PLMN in the
following format:
\"\\@nai.5gc-
nn.mnc\.mcc\.3gppnetwork.org\";
where:
a) the username part \ is to identify the N5CW
device and contains either:
\- SUCI as defined as the username part of the NAI format in clause 28.7.3, if
the UE is not registered to 5GCN via NG-RAN; or
\- 5G-GUTI as defined as the username part of the NAI format in clause 28.7.8,
if the N5CW device is registered to 5GCN via NG-RAN; and
b) the label \'5gc-nn\' in the realm part indicates the NAI is used by N5CW
devices via trusted non-3GPP access. \ and \ identify the PLMN
(either HPLMN or VPLMN) to which the N5CW device attempts to connect via the
trusted non-3GPP access network as described in clause 6.3.12 in 3GPP TS
23.501 [119].
While performing the EAP authentication procedure when a non 5G capable over
WLAN (N5CW) device attempts to register to 5GCN via a trusted non-3GPP access
network in a selected SNPN (see clause 5.30.2.13 in 3GPP TS 23.501 [119]), the
N5CW device shall derive a NAI from the identity of the selected SNPN in the
following format:
\"\\@nai.5gc-
nn.nid\.mnc\.mcc\.3gppnetwork.org\";
where:
a) the username part \ is to identify the N5CW
device and contains either:
\- SUCI as defined as the username part of the NAI format in clause 28.7.3; or
\- 5G-GUTI as defined as the username part of the NAI format in clause 28.7.8,
if the N5CW device is registered to 5GCN via NG-RAN; and
b) the label \'5gc-nn\' in the realm part indicates the NAI is used by N5CW
devices via trusted non-3GPP access. \, \ and \ identify the
SNPN to which the N5CW device attempts to connect via the trusted non-3GPP
access network.
NOTE: As defined in 3GPP TS 33.501 [124], an N5CW device is authenticated
using EAP-AKA\', thus, it has a USIM that stores the HPLMN identity.
In roaming scenarios, the NAI shall use the decorated NAI format as specified
in clause 28.7.7.1 or 28.7.7.2.
#### 28.7.7.1 Decorated NAI used for N5CW devices via trusted non-3GPP access
The Decorated NAI used for N5CW devices via trusted non-3GPP access roaming
scenarios shall take the form:
\"nai.5gc-
nn.mnc\.mcc\.3gppnetwork.org!\\@nai.5gc-
nn.mnc\.mcc\.3gppnetwork.org\"
where the \ is to identify the N5CW device as
defined in clause 28.7.7.0.
#### 28.7.7.2 Decorated NAI used for N5CW devices via trusted non-3GPP access
for SNPN
The Decorated NAI used for N5CW devices via trusted non-3GPP access for SNPN
roaming scenarios shall take the form:
\"nai.5gc-
nn.nid\.mnc\.mcc\.3gppnetwork.org!\\@nai.5gc-
nn.nid\.mnc\.mcc\.3gppnetwork.org\"
where the \ is to identify the N5CW device as
defined in clause 28.7.7.0, and the \ or \ shall be
encoded as hexadecimal digits as specified in clause 12.7.
### 28.7.8 NAI format for 5G-GUTI
The NAI format of the 5G-GUTI shall have the form username\@realm as specified
in clause 2.2 of IETF RFC 7542 [126].
The username part of the NAI shall take the following form:
tmsi\.pt\.set\.region\
\, \, \ and \ are the
hexadecimal strings of the 5G-TMSI, AMF Pointer, AMF Set ID and AMF Region ID.
If there are less than 8 significant digits in \, \"0\" digit(s)
shall be inserted at the left side to fill the 8 digits coding. If there are
less than 2 significant digits in \ or \, \"0\"
digit(s) shall be inserted at the left side to fill the 2 digits coding of the
AMF Pointer or AMF Region Id respectively. If there are less than 3
significant digits in \, \"0\" digit(s) shall be inserted at the
left side to fill the 3 digits coding.
Example:
Assuming 5G-TMSI = 06666666 (hexadecimal), AMF Pointer=12 (hexadecimal), AMF
Set = 001 (hexadecimal), AMF Region = 48 (hexadecimal), the username part of
the NAI is encoded as:
\"tmsi06666666.pt12.set001.region48\"
The NAI for an N5CW device in a PLMN (either HPLMN or VPLMN) with MNC=012 and
MCC=345, to which the N5CW device attempts to connect via the trusted non-3GPP
access, according to clause 28.7.7 is:
\"tmsi06666666.pt12.set001.region48\@nai.5gc-
nn.mnc012.mcc345.3gppnetwork.org\"
### 28.7.9 Decorated NAI format for SUCI
#### 28.7.9.1 General
The Decorated NAI format for SUCI shall take the form of a NAI and shall have
the form
\'Homerealm!username\@otherrealm\'
as specified in clause 2.7 of the IETF RFC 4282 [53].
The username part of Decorated NAI shall contain the username of the NAI
format for SUCI as specified in clause 28.7.3.
\'Homerealm\' shall be the realm of the NAI format for SUCI as specified in
clause 28.7.3, unless specified otherwise in relevant clauses.
The realm part of Decorated NAI consists of \'otherrealm\', see the IETF RFC
4282 [53]. Otherrealm\' is the realm built using the PLMN ID (visitedMCC +
visited MNC) of the visited PLMN selected by the UE.
The \'Homerealm\' and the \'otherealm\' may be preceded by one or more labels
for specific use cases of the Decorated NAI format for SUCI, e.g. for 5G NSWO
(see clause 28.7.9.2).
The result is a decorated NAI of the form:
\.mnc\.mcc\.3gppnetwork.org!\@\.mnc\.mcc\.3gppnetwork.org
#### 28.7.9.2 Decorated NAI used for 5G NSWO
The Decorated NAI used for 5G NSWO roaming scenarios shall take the form of a
NAI as defined in clause 28.7.9.1, where the \'Homerealm\' and the
\'otherealm\' shall be preceded by the label \'5gc-nswo\'.
The result is a decorated NAI of the form:
5gc-nswo.mnc\.mcc\.3gppnetwork.org!\\@5gc-nswo.mnc\.mcc\.3gppnetwork.org
EXAMPLE:
Assuming the IMSI 234150999999999, where MCC=234, MNC=15 and MSISN=0999999999,
the Routing Indicator 678, a Home Network Public Key Identifier of 27, the
null-scheme, and the Visited PLMN ID (MCC = 610, MNC = 71):
\- the NAI format for the SUCI for 5G NSWO takes the form:
type0.rid678.schid0.userid0999999999\@5gc-nswo.mnc015.mcc234.3gppnetwork.org
\- the Decorated NAI format for the SUCI for 5G NSWO roaming takes the form:
5gc-
nswo.mnc015.mcc234.3gppnetwork.org!type0.rid678.schid0.userid0999999999\@5gc-
nswo.mnc071.mcc610.3gppnetwork.org
### 28.7.10 NAI format for UP-PRUK ID
The NAI format for UP-PRUK ID shall have the form username\@realm as specified
in clause 2.2 of IETF RFC 7542 [126], where:
\- the realm part shall be in the form:
\"prose-up.5gc.mnc\.mcc\.3gppnetwork.org\"
\- the username part shall be a non-empty string which is unique in the realm,
as specified in 3GPP TS 33.503 [142].
The maximum length of a UP-PRUK ID in NAI format is 254 octets.
### 28.7.11 NAI format for CP-PRUK ID
The NAI format for CP-PRUK ID shall have the form username\@realm as specified
in clause 2.2 of IETF RFC 7542 [126].
The realm part shall be in the form:
\"prose-cp.5gc.mnc\.mcc\.3gppnetwork.org\"
The username part of the NAI shall take one of the following forms:
\"rid\.pid\\"
\- the \ part is the \"Routing Indicator\" as specified in
clause 2.2B.
\- the \ part is the hexadecimal representation of the CP-PRUK
ID* specified in clause A.3 of 3GPP TS 33.503 [142].
The maximum length of a CP-PRUK ID in NAI format is 254 octets.
### 28.7.12 NAI used for 5G NSWO
When the UE decides to use 5G NSWO to connect to the WLAN access network using
its 5GS credentials but without registration to 5GS, the NAI format for 5G
NSWO in non-roaming scenarios is used. See clause 28.7.9.2 for the NAI format
for 5G NSWO in roaming scenarios.
NOTE: In this case the NAI realm is different than the realm defined for usage
during 5G registration via of Trusted non-3GPP access to the 5GCN (see clause
28.7.6) or when N5CW devices access 5GCN via Trusted non-3GPP access to the
5GCN (see clause 28.7.7). See clause 5.42 in 3GPP TS 23.501 [119].
In the 5G NSWO use case, the UE shall use a NAI in the following format:
\- For PLMNs: \"\\@5gc-nswo.mnc\.mcc\.3gppnetwork.org\"
\- For SNPNs: \"\\@5gc-
nswo.nid\.mnc\.mcc\.3gppnetwork.org\"
In the above use cases:
a) the username part is defined in clause 28.7.3; and
b) the label \'5gc-nswo\' in the realm part indicates that the NAI is used for
5G NSWO. For PLMNs, \ and \ identify the PLMN, and for SNPNs,
\, \ and \ identify the SNPN, to which the UE attempts to
connect via the 5G NSWO as described in clause 4.2.15 of 3GPP TS 23.501 [119].
## 28.8 Generic Public Subscription Identifier (GPSI)
The Generic Public Subscription Identifier (GPSI) is defined in clause 5.9.8
of 3GPP TS 23.501 [119].
The GPSI is defined as:
\- a GPSI type: in this release of the specification, it may indicate an
MSISDN or an External Identifier; and
\- dependent on the value of the GPSI type:
\- an MSISDN as defined in clause 3.3; or
\- an External Identifier as defined in clause 19.7.2.
NOTE: Depending on the protocol used to convey the GPSI, the GPSI type can
take different formats.
## 28.9 Internal-Group Identifier
Internal-Group Identifier is a network internal globally unique ID which
identifies a set of SUPIs (e.g. MTC devices) from a given network that are
grouped together for one specific group related service (see 3GPP TS 23.501
[119] clause 5.9.7).
An Internal-Group Identifier shall be composed in the same way as IMSI-Group
Identifier (see clause 19.9).
If a 5G subscriber\'s IMSI belongs to an IMSI-Group identified by a given
IMSI-Group Identifier X, the IMSI shall also belong to the Internal-Group
identified by the Internal-Group Identifier X.
## 28.10 Presence Reporting Area Identifier (PRA ID)
The Presence Reporting Area Identifier (PRA ID) is used to identify a Presence
Reporting Area (PRA).
PRAs can be used for reporting changes of UE presence in a PRA, e.g. for
policy control or charging decisions. See 3GPP TS 23.501 [119] and 3GPP TS
23.503 [121].
A PRA is composed of a short list of TAs and/or NG-RAN nodes and/or cells
identifiers in a PLMN.A PRA can be:
\- either a \"UE-dedicated PRA\", defined in the subscriber profile;
\- or a \"Core Network predefined PRA\", pre-configured in AMF.
PRA IDs used to identify \"Core Network predefined PRAs\" shall not be used
for identifying \"UE-dedicated PRAs\".
The same PRA ID may be used for different UEs to identify different \"UE-
dedicated PRAs\", i.e. PRA IDs may overlap between different UEs, while
identifying different \"UE-dedicated PRAs\".
The PRA ID shall be formatted as an integer within the following ranges:
0 .. 8 388 607 for UE-dedicated PRA
8 388 608 to 16 777 215 for Core Network predefined PRA.
NOTE: The PRA ID is encoded over the Service Based Interfaces as a string of
digits representing an integer. See 3GPP TS 29.571 [129].
## 28.11 CAG-Identifier
A Closed Access Group (CAG) within a PLMN is uniquely identified by a CAG-
Identifier (see 3GPP TS 23.501 [119]).
The CAG-Identifier shall be a fixed length 32 bit value.
## 28.12 NF Set Identifier (NF Set ID)
A NF Set Identifier is a globally unique identifier of a set of equivalent and
interchangeable CP NFs from a given network that provide distribution,
redundancy and scalability (see clause 5.21.3 of 3GPP TS 23.501 [119]).
An NF Set Identifier shall be constructed from the MCC, MNC, NID (for SNPN),
NF type and a Set ID.
A NF Set Identifier shall be formatted as the following string:
set\.\set.5gc.mnc\.mcc\ for a NF Set in a PLMN, or
set\.\set.5gc.nid\.mnc\.mcc\ for a NF Set in a
SNPN.
where:
\- the \ and \ shall identify the PLMN of the NF Set and shall be
encoded as follows:
\- \ = 3 digits
\- \ = 3 digits
If there are only 2 significant digits in the MNC, one \"0\" digit shall be
inserted at the left side to fill the 3 digits coding of MNC.
\- the Network Identifier (NID) shall be encoded as hexadecimal digits as
specified in clause 12.7.
\- the \ shall identify the NF type of the NFs within the NF set and
shall be encoded as a value of Table 6.1.6.3.3-1 of 3GPP TS 29.510 [130] but
with lower case characters;
\- the Set ID shall be a NF type specific Set ID within the PLMN, chosen by
the operator, that shall consist of alphabetic characters (A-Z and a-z),
digits (0-9) and/or the hyphen (-) and that shall end with either an
alphabetic character or a digit;
\- the case of alphabetic characters is not significant (i.e. two NF Set IDs
with the same characters but using different lower and upper cases identify
the same NF Set).\ \ For an AMF set, the Set ID shall be set to \"\-region\\", with the AMF Region ID and AMF Set ID encoded as
defined in 3GPP TS 29.571 [129].
EXAMPLE 1: setxyz.smfset.5gc.mnc012.mcc345
EXAMPLE 2: set12.pcfset.5gc.mnc012.mcc345
EXAMPLE 3: set001-region48.amfset.5gc.mnc012.mcc345 (for AMF Region 48
(hexadecimal) and AMF Set 1)
EXAMPLE 4: setxyz.smfset.5gc.nid000007ed9d5.mnc012.mcc345 for a SNPN with the
NID 000007ed9d5 (hexadecimal).
NOTE 1: If needed, an FQDN can be derived from a given NF Set ID by appending
the \".3gppnetwork.org\" domain to the NF Set ID, see e.g. SMF Set FQDN in
clause 28.3.2.9. For NFs whose NF type contains an underscore and for which an
FQDN needs to be derived, the underscore is replaced by an hyphen in the
corresponding label of the FQDN. As an exception, the AMF Set FQDN defined in
clause 28.3.2.7 is not derived by merely appending the \".3gppnetwork.org\"
domain to the NF Set ID of an AMF set defined in this clause.
NF Instances of an NF Set are equivalent and share the same MCC, MNC, NID (for
SNPN), NF type and NF Set ID.
In earlier versions of this specification, the Set ID of an AMF Set was
defined to be set to the string \"\.region\\". For
backward compatibility with AMF implementations complying with these earlier
versions of the specifications, AMF peers\' implementations shall:
\- support receiving such a former encoding of an AMF Set ID in 3GPP custom
HTTP headers (e.g. 3gpp-Sbi-Binding header or 3gpp-Sbi-Producer header) and
shall interpret it the same as if they receive these headers with the AMF Set
format defined in the current version of the specification; and
\- use the amf-region-id and the amf-set-id query parameters when they need to
discover the AMF profiles of the AMF set registered at the NRF, when receiving
a binding header with such a former encoding of the AMF Set ID.
NOTE 2: The NF Set ID format for an AMF set defined in earlier versions of the
specification cannot be encoded in JSON attributes defined with the NfSetId
data type of 3GPP TS 29.571 [129] which does not allow to encode a period
\".\". Accordingly, any such attribute encodes the Set ID of an AMF set as
defined above (i.e. \-region\\").
## 28.13 NF Service Set Identifier (NF Service Set ID)
A NF Service Set Identifier is a globally unique identifier of a set of
equivalent and interchangeable CP NF service instances within a NF instance
from a given network that provide distribution, redundancy and scalability
(see clause 5.21.3 of 3GPP TS 23.501 [119]).
An NF Service Set Identifier shall be constructed from the MCC, MNC, NID (for
SNPN), NF instance Identifier, service name and a Set ID.
A NF Service Set Identifier shall be formatted as the following string:
set\.sn\.nfi\.5gc.mnc\.mcc\
for a NF Service Set in a PLMN, or
set\.sn\.nfi\.5gc.nid\.mnc\.mcc\ for a NF Service Set in a SNPN.
where:
\- the \ and \ shall identify the PLMN of the NF Service Set and
shall be encoded as follows:
\- \ = 3 digits
\- \ = 3 digits
If there are only 2 significant digits in the MNC, one \"0\" digit shall be
inserted at the left side to fill the 3 digits coding of MNC.
\- the Network Identifier (NID) shall be encoded as hexadecimal digits as
specified in clause 12.7.
\- the NFInstanceID shall identify the NF instance of the NF Service set, as
defined by 3GPP TS 23.501 [119] and 3GPP TS 29.510 [130];
\- the ServiceName shall identify the NF service of the NF Service set, as
defined by 3GPP TS 29.510 [130];
\- the Set ID shall be a service specific Set ID within the NF instance,
chosen by the operator that shall consist of alphabetic characters (A-Z and
a-z), digits (0-9) and/or the hyphen (-) and that shall end with either an
alphabetic character or a digit;
\- the case of alphabetic characters is not significant (i.e. two NF Service
Set IDs with the same characters but using different lower and upper cases
identify the same NF Service Set).
EXAMPLE 1: setxyz.snnsmf-
pdusession.nfi54804518-4191-46b3-955c-ac631f953ed8.5gc.mnc012.mcc345
EXAMPLE 2: set2.snnpcf-
smpolicycontrol.nfi54804518-4191-46b3-955c-ac631f953ed8.5gc.mnc012.mcc345
EXAMPLE 3: setxyz.snnsmf-
pdusession.nfi54804518-4191-46b3-955c-ac631f953ed8.5gc.nid000007ed9d5.mnc012.mcc345
for a SNPN with the NID 000007ed9d5 (hexadecimal).
NF service instances from different NF instances are equivalent NF service
instances if they share the same MCC, MNC, NID (for SNPN), ServiceName and Set
ID.
NF Service Sets belonging to different NF Instances are said to be equivalent,
if they share the same MCC, MNC, NID (for SNPN), ServiceName and Set ID.
## 28.14 Data Network Access Identifier (DNAI)
A Data Network Access Identifier (DNAI) is an operator defined identifier of a
user plane access to one or more DN(s) where applications are deployed (see
clauses 3.1 and 5.6.7 in 3GPP TS 23.501 [119]). The same DN may also be
referred to by multiple DNAIs.
DNAI is represented as an operator specific string (see clause A.2 in 3GPP TS
29.571 [129]. The format of the DNAI is defined by the operator and is not
standardized.
## 28.15 Global Cable Identifier (GCI)
### 28.15.1 Introduction
This clause describes the GCI formats used in the 5G System.
### 28.15.2 NAI format for SUPI containing a GCI
A SUPI containing a GCI shall take the form of a Network Access Identifier
(NAI).
The NAI for SUPI shall have the form username\@realm as specified in clause
2.2 of IETF RFC 7542 [126], where:
\- the username part shall be the GCI, as defined in clause 28.15.4;
\- the realm part shall identify the operator owning the subscription; if the
operator owns a PLMN ID, the realm part should be in the form:
\"5gc.mnc\.mcc\.3gppnetwork.org\"
EXAMPLE 1: 00-00-5E-00-53-00\@5gc.mnc012.mcc345.3gppnetwork.org
EXAMPLE 2: 00-00-5E-00-53-00\@operator.com
### 28.15.3 User Location Information for RG accessing the 5GC via W-5GCAN
(HFC Node ID)
The User Location information for a 5G-CRG/FN-CRG accessing the 5GC via a
Wireline 5G Cable Access network (W-5GCAN) shall take the form of an HFC Node
ID. The HFC Node ID consists of a string of up to six characters as specified
in CableLabs WR‑TR‑5WWC‑ARCH [134]. .
### 28.15.4 GCI
The GCI uniquely identifies the line connecting the 5G-CRG or FN-CRG to the
5GS.
The GCI is a variable length opaque identifier, encoded as specified in
CableLabs WR‑TR‑5WWC‑ARCH [134] and CableLabs DOCSIS MULPI [135]. It shall
comply with the syntax specified in clause 2.2 of IETF RFC 7542 [126] for the
username part of a NAI.
NOTE: The GCI contains an HFC_Identifier, see WR‑TR‑5WWC‑ARCH [134] and
CableLabs DOCSIS MULPI [135].
EXAMPLE: 00-00-5E-00-53-00
### 28.15.5 NAI format for SUCI containing a GCI
The SUCI containing a GCI shall take the form of a Network Access Identifier
(NAI).
The NAI format of the SUCI shall have the form username\@realm as specified in
clause 2.2 of IETF RFC 7542 [126], where the realm part shall be identical to
the realm part of the SUPI (see clause 28.15.2).
The username part of the NAI shall be encoded as specified for the null-scheme
in clause 28.7.3, i.e. it shall take the following form:
type3.rid0.schid0.userid\
where the username shall be encoded as the username part of the SUPI (see
clause 28.15.2).
EXAMPLE 1:
type3.rid0.schid0.userid00-00-5E-00-53-00\@5gc.mnc012.mcc345.3gppnetwork.org
EXAMPLE 2: type3.rid0.schid0.userid00-00-5E-00-53-00\@operator.com
## 28.16 Global Line Identifier (GLI)
### 28.16.1 Introduction
This clause describes the GLI formats used in the 5G System.
### 28.16.2 NAI format for SUPI containing a GLI
A SUPI containing a GLI shall take the form of a Network Access Identifier
(NAI).
The NAI for SUPI shall have the form username\@realm as specified in clause
2.2 of IETF RFC 7542 [126], where:
\- the username part shall be the GLI, as defined in clause 28.16.4;
\- the realm part shall identify the operator owning the subscription; if the
operator owns a PLMN ID, the realm part should be in the form:
\"5gc.mnc\.mcc\.3gppnetwork.org\"
### 28.16.3 User Location Information for RG accessing the 5GC via W-5GBAN
The User Location information for a 5G-BRG/FN-BRG accessing the 5GC via a
Wireline BBF Access Network (W-5GBAN) shall take the form of a GLI as defined
in clause 28.16.4.
### 28.16.4 GLI
The GLI uniquely identifies the line connecting the 5G-BRG or FN-BRG to the
5GS.
The GLI is a variable length opaque identifier, consisting of a string of up
to 200 base64-encoded characters, representing the GLI value (up to 150 bytes)
encoded as specified in BBF WT-470 [133].
NOTE: The GLI contains an identifier of the Line ID source and the Line ID
value, see BBF WT-470 [133].
### 28.16.5 NAI format for SUCI containing a GLI
The SUCI containing a GLI shall take the form of a Network Access Identifier
(NAI).
The NAI format of the SUCI shall have the form username\@realm as specified in
clause 2.2 of IETF RFC 7542 [126], where the realm part shall be identical to
the realm part of the SUPI (see clause 28.16.2).
The username part of the NAI shall be encoded as specified for the null-scheme
in clause 28.7.3, i.e. it shall take the following form:
type2.rid0.schid0.userid\
where the username shall be encoded as the username part of the SUPI (see
clause 28.16.2).
## 28.17 DNS subdomain for operator usage in 5GC
The 5GC nodes DNS subdomain (DNS zone) shall be derived from the MNC and MCC
by adding the label \"node\" to the beginning of the Home Network Domain for
5GC (see clause 28.2) and shall be constructed as:
node.5gc.mnc\.mcc\.3gppnetwork.org
This DNS subdomain is formally placed into the operator\'s control. 3GPP shall
never take this DNS subdomain back or any zone cut/subdomain within it for any
purpose. As a result the operator can safely provision any DNS records it
chooses under this subdomain without concern about future 3GPP standards
encroaching on the DNS names within this zone.
## 28.18 NF FQDN Format for Inter SNPN Routing
### 28.18.1 General
For routing HTTP/2 request messages to NF in a different SNPN, the FQDN of the
target NF shall have the Home Network Domain of the SNPN (see clause 28.2) as
the trailing part.
NOTE 1: The MCC used in the SNPNs can be 999, which is allocated for internal
use within a private network.
NOTE 2: Locally assigned NIDs are not supported, since a DNS cannot be
properly configured for multiple SNPNs using the same locally assigned NID.
# 29 Numbering, addressing and identification for RACS
## 29.1 Introduction
This clause describes the format of the parameters used for Radio Capability
Signalling Optimisation (RACS). For further information on the use of the
parameters see 3GPP TS 23.401 [72] and 3GPP TS 23.501 [119].
## 29.2 UE radio capability ID
The UE radio capability ID is an identifier used to represent a set of UE
radio capabilities, defined in 3GPP TS 23.501 [119] and in 3GPP TS 23.401
[72], composed as shown in figure 29.2-1.
Figure 29.2-1: Structure of UE radio capability ID
The UE radio capability ID is composed of the following elements (each element
shall consist of hexadecimal digits only):
1) Type Field (TF): identifies the type of UE radio capability ID. The
following values are defined:
\- 0: manufacturer-assigned UE radio capability ID;
\- 1: network-assigned UE radio capability ID; and
\- 2 to F: spare values for future use.
2) The Vendor ID is an identifier of UE manufacturer. This is defined by a
value of Private Enterprise Number issued by Internet Assigned Numbers
Authority (IANA) in its capacity as the private enterprise number
administrator, as maintained at https://www.iana.org/assignments/enterprise-
numbers/enterprise-numbers. Its length is 8 hexadecimal digits. This field is
present only if the Type Field is set to 0;
NOTE: The private enterprise number issued by IANA is a decimal number in the
range between 0 and 4294967295 that needs to be converted to a fixed length 8
digit hexadecimal number when used within the UE Radio Capability ID. E.g.
32473 is converted to 00007ED9.
3) The Version ID is the current Version ID configured in the UCMF. This field
is present only if the Type Field is set to 1. Its length is 2 hexadecimal
digits.
4) Radio Configuration Identifier (RCI): identifies the UE radio
configuration. Its length is 11 hexadecimal digits.
# 30 Identification of 5GS Multicast and Broadcast Services
## 30.1 Introduction
This clause describes the format of the parameters needed to access the
Multicast and Broadcast Services in 5GS. For further information on the use of
the parameters see 3GPP TS 23.247 [140].
## 30.2 Structure of TMGI
Temporary Mobile Group Identity (TMGI) is used within MBS to uniquely identify
a broadcast MBS session or a multicast MBS session.
TMGI is composed as shown in figure 30.2.1.
Figure 30.2.1: Structure of TMGI
The TMGI is composed of three parts:
1) MBS Service ID consisting of three octets. MBS Service ID consists of a
6-digit fixed-length hexadecimal number between 000000 and FFFFFF. MBS Service
ID uniquely identifies an MBS service within a PLMN.
2) Mobile Country Code (MCC) consisting of three digits. The MCC identifies
uniquely the country of domicile of the MB-SMF, except for the MCC value of
901, which does not identify any country and is assigned globally by ITU;
3) Mobile Network Code (MNC) consisting of two or three digits (depending on
the assignment to the PLMN by its national numbering plan administrator). The
MNC identifies the PLMN which the MB-SMF belongs to, except for the MNC value
of 56 when the MCC value is 901, which does not identify any PLMN. For more
information on the use of the TMGI, see 3GPP TS 23.247 [140].
NOTE: The structure of TMGI for MBS in 5GS is similar to the structure of TMGI
for MBMS in EPS defined in clause 15.2.
In a SNPN (Stand-alone Non-Public Network), TMGI is used together with NID
(Network Identifier) to identify an MBS Session.
## 30.3 Structure of Area Session ID
The concept of Area Session ID is defined in 3GPP TS 23.247 [140].
Area Session IDs are used for MBS sessions with location dependent content. An
Area Session ID together with an MBS Session ID (i.e. TMGI or Source Specific
IP Multicast address) shall uniquely identify an MBS session in a specific MBS
Service Area.
NOTE: For a location-dependent MBS session, the same MBS Session ID but a
different Area Session ID are used for each MBS Service Area. Different MB-
SMFs and/or MB-UPFs can be assigned for different MBS service areas in an MBS
session.
An Area Session Identity shall be a decimal number between 0 and 65535
(inclusive).
## 30.4 Structure of MBS Frequency Selection Area ID
The concept of MBS Frequency Selection Area ID is defined in clause 6.5.4 of
3GPP TS 23.247 [140].
The MBS Frequency Selection Area (FSA) ID is used for broadcast MBS session to
guide the frequency selection of the UE.
The MBS FSA ID identifies a preconfigured area within, and in proximity to,
which the cell(s) announces the MBS FSA ID and the associating frequency (for
details see 3GPP TS 38.300 [141]). MBS FSA ID and their mapping to frequencies
are provided to RAN nodes via OAM.
An MBS FSA ID shall be a string of 6 hexadecimal digits.
## 30.5 Structure of Associated Session ID
The concept of Associated Session ID is defined in 3GPP TS 23.247 [140].
The Associated Session ID is used to enable NG-RAN to identify the multiple
MBS sessions delivering the same content when AF creates multiple broadcast
MBS Sessions via different Core Networks in network sharing scenarios.
An Associated Session ID may comprise a Source Specific IP Multicast Address
(SSM) or a string. See clause 5.9.4.21.1 of 3GPP TS 29.571 [129] for the
encoding of Associated Session ID in 5GC SBIs.
###### ## Annex A (informative): Colour Codes
# A.1 Utilization of the BSIC
A BSIC is allocated to each cell. A BSIC can take one of 64 values. In each
cell the BSIC is broadcast in each burst sent on the SCH, and is then known by
all MSs which synchronise with this cell. The BSIC is used by the MS for
several purposes, all aiming at avoiding ambiguity or interference which can
arise when an MS in a given position can receive signals from two cells _using
the same BCCH frequency_.
Some of the uses of the BSIC relate to cases where the MS is attached to one
of the cells. Other uses relate to cases where the MS is attached to a third
cell, usually somewhere between the two cells in question.
The first category of uses includes:
\- The three least significant bits of the BSIC indicate which of the 8
training sequences is used in the bursts sent on the downlink common channels
of the cell. Different training sequences allow for a better transmission if
there is interference. The group of the three least significant bits of the
BSIC is called the BCC (Base station Colour Code).
\- The BSIC is used to modify the bursts sent by the MSs on the access bursts.
This aims to avoid one cell correctly decoding access bursts sent to another
cell.
The second category of uses includes:
\- When in connected mode, the MSs measure and report the level they receive
on a number of frequencies, corresponding to the BCCH frequencies of
neighbouring cells in the same network as the used cell. Along with the
measurement result, the MS sends to the network the BSIC which it has received
on that frequency. This enables the network to discriminate between several
cells which happen to use the same BCCH frequency. Poor discrimination might
result in faulty handovers.
\- The content of the measurement report messages is limited to information
for 6 neighbour cells. It is therefore useful to limit the reported cells to
those to which handovers are accepted. For this purpose, each cell provides a
list of the values of the three most significant bits of the BSICs which are
allocated to the cells which are useful to consider for handovers (usually
excluding cells in other PLMNs). This information enables the MS to discard
information for cells with non‑conformant BSICs and not to report them. The
group of the three most significant bits of the BSIC is called the NCC
(Network Colour Code).
It should be noted that when in idle mode, the MS identifies a cell (for cell
selection purposes) according to the cell identity broadcast on the BCCH and
_not_ by the BSIC.
# A.2 Guidance for planning
From these uses, the following planning rule can be derived:
_If there exist places where MSs can receive signals from two cells, whether
in the same PLMN or in different PLMNs, which use the same BCCH frequency, it
is highly preferable that these two cells have different BSICs._
Where the coverage areas of two PLMNs overlap, the rule above is respected if:
1) The PLMNs use different sets of BCCH frequencies (In particular, this is
the case if no frequency is common to the two PLMNs. This usually holds for
PLMNs in the same country), or
2) The PLMNS use different sets of NCCs, or
3) BSIC and BCCH frequency planning is co-ordinated.
Recognizing that method 3) is more cumbersome than method 2), and that method
1) is too constraining, it is suggested that overlapping PLMNs which use a
common part of the spectrum agree on different NCCs to be used in any
overlapping areas. As an example, a preliminary NCC allocation for countries
in the European region can be found in clause A.3 of this annex.
This example can be used as a basis for bilateral agreements. However, the use
of the NCCs allocated in clause A.3 is not compulsory. PLMN operators can
agree on different BSIC allocation rules in border areas. The use of BSICs is
not constrained in non-overlapping areas, or if ambiguities are resolved by
using different sets of BCCH frequencies.
If the PLMNs share one or more cells with other PLMNs, the planning rule above
should be applied also when the BCCH frequency is different. The rule should
be respected by using different sets of NCCs. In addition to that, the PLMN
sharing one or more cells with other PLMNs should use different NCCs for
shared and non-shared neighbouring cells.
# A.3 Example of PLMN Colour Codes (NCCs) for the European region
Austria : 0
Belgium : 1
Cyprus : 3
Denmark : 1
Finland : 0
France : 0
Germany : 3
Greece : 0
Iceland : 0
Ireland : 3
Italy : 2
Liechtenstein : 2
Luxembourg : 2
Malta : 1
Monaco : 3 (possibly 0(=France))
Netherlands : 0
Norway : 3
Portugal : 3
San Marino : 0 (possibly 2(= Italy))
Spain : 1
Sweden : 2
Switzerland : 1
Turkey : 2
UK : 2
Vatican : 1 (possibly 2(=Italy)
Yugoslavia : 3
This allows a second operator for each country by allocating the colour codes
n (in the table) and n + 4. More than 2 colour codes per country may be used
provided that in border areas only the values n and/or n+4 are used.
###### ## Annex B (normative): IMEI Check Digit computation
# B.1 Representation of IMEI
The International Mobile station Equipment Identity and Software Version
number (IMEISV), as defined in clause 6, is a 16 digit decimal number composed
of three distinct elements:
\- an 8 digit Type Allocation Code (TAC);
\- a 6 digit Serial Number (SNR); and
\- a 2 digit Software Version Number (SVN).
The IMEISV is formed by concatenating these three elements as illustrated
below:
* * *
TAC SNR SVN
* * *
Figure A.1: Composition of the IMEISV
The IMEI is complemented by a check digit as defined in clause 3. The Luhn
Check Digit (CD) is computed on the 14 most significant digits of the IMEISV,
that is on the value obtained by ignoring the SVN digits.
The method for computing the Luhn check is defined in Annex B of the
International Standard \"Identification cards - Numbering system and
registration procedure for issuer identifiers\" (ISO/IEC 7812 [3]).
In order to specify precisely how the CD is computed for the IMEI, it is
necessary to label the individual digits of the IMEISV, excluding the SVN.
This is done as follows:
The (14 most significant) digits of the IMEISV are labelled D14, D13 ... D1,
where:
\- TAC = D14, D13 ... D7 (with D7 the least significant digit of TAC);
\- SNR = D6, D5 ... D1 (with D1 the least significant digit of SNR).
# B.2 Computation of CD for an IMEI
Computation of CD from the IMEI proceeds as follows:
Step 1: Double the values of the odd labelled digits D1, D3, D5 ... D13 of the
IMEI.
Step 2: Add together the individual digits of all the seven numbers obtained
in Step 1, and then add this sum to the sum of all the even labelled digits
D2, D4, D6 ... D14 of the IMEI.
Step 3: If the number obtained in Step 2 ends in 0, then set CD to be 0. If
the number obtained in Step 2 does not end in 0, then set CD to be that number
subtracted from the next higher number which does end in 0.
# B.3 Example of computation
IMEI (14 most significant digits):
* * *
TAC SNR D14 D13 D12 D11 D10 D9 D8 D7 D6 D5 D4 D3 D2 D1 2 6 0 5 3 1 7 9 3 1 1 3
8 3
* * *
Step 1:
* * *
2 6 0 5 3 1 7 9 3 1 1 3 8 3 x2 x2 x2 x2 x2 x2 x2 12 10 2 18 2 6 6
* * *
Step 2:
2 + 1 + 2 + 0 + 1 + 0 + 3 + 2 + 7 + 1 + 8 + 3 + 2 + 1 + 6 + 8 + 6 = 53
Step 3:
CD = 60 - 53 = 7
###### ## Annex C (normative): Naming convention
This normative annex defines a naming convention which will make it possible
for DNS servers to translate logical names for GSNs and RAs to physical IP
addresses. The use of logical names is optional, but if the option is used, it
shall comply with the naming convention described in this annex. The fully
qualified domain names used throughout this annex shall follow the general
encoding rules specified in clause 19.4.2.1.
# C.1 Routing Area Identities
This clause describes a possible way to support inter-PLMN roaming.
When an MS roams between two SGSNs within the same PLMN, the new SGSN finds
the address of the old SGSN from the identity of the old RA. Thus, each SGSN
can determine the address of every other SGSN in the PLMN.
When an MS roams from an SGSN in one PLMN to an SGSN in another PLMN, the new
SGSN may be unable to determine the address of the old SGSN. Instead, the SGSN
transforms the old RA information to a logical name of the form:
racAAAA.lacBBBB.mncYYY.mccZZZ.gprs
A and B shall be Hex coded digits; Y and Z shall be encoded as single digits
(in the range 0-9).
If there are less than 4 significant digits in AAAA or BBBB, one or more \"0\"
digit(s) is/are inserted at the left side to fill the 4 digit coding. If there
are only 2 significant digits in YYY, a \"0\" digit is inserted at the left
side to fill the 3 digit coding.
As an example, the logical name for RAC 123A, LAC 234B, MCC 167 and MNC 92
will be coded in the DNS server as:\ _rac123A.lac234B.mnc092.mcc167.gprs_.
The SGSN may then acquire the IP address of the old SGSN from a DNS server,
using the logical address. Introducing the DNS concept in GPRS enables
operators to use logical names instead of IP addresses when referring to nodes
(e.g. GSNs), thus providing flexibility and transparency in addressing. Each
PLMN should include at least one DNS server (which may optionally be connected
via the DNS service provided by the GSM Association). Note that these DNS
servers are GPRS internal entities, unknown outside the GPRS system.
The above implies that at least MCC \|\| MNC \|\| LAC \|\| RAC (= RAI) is sent
as the RA parameter over the radio interface when an MS roams to another RA.
If for any reason the new SGSN fails to obtain the address of the old SGSN,
the new SGSN takes the same actions as when the corresponding event occurs
within one PLMN.
Another way to support seamless inter-PLMN roaming is to store the SGSN IP
addresses in the HLR and request them when necessary.
If Intra Domain Connection of RAN Nodes to Multiple CN Nodes (see 3GPP TS
23.236 [23]) is applied then the Network Resource Identifier (NRI) identifies
uniquely a given SGSN node out of all the SGSNs serving the same pool area.
If the new SGSN is not able to extract the NRI from the old P-TMSI, it shall
retrieve the address of the default SGSN (see 3GPP TS 23.236 [23]) serving the
old RA, using the logical name described earlier in this clause. The default
SGSN in the old RA relays the GTP signalling to the old SGSN identified by the
NRI in the old P‑TMSI unless the default SGSN itself is the old SGSN.
If the new SGSN is able to extract the NRI from the old P-TMSI, then it shall
attempt to derive the address of the old SGSN from the NRI and the old RAI.
NRI-to-SGSN assignments may be either configured (by O&M) in the new SGSN, or
retrieved from a DNS server. If a DNS server is used, it shall be queried
using the following logical name, derived from the old RAI and NRI
information:
nriCCCC.racDDDD.lacEEEE.mncYYY.mccZZZ.gprs
C, D and E shall be Hex coded digits, Y and Z shall be encoded as single
digits (in the range 0-9). If there are less than 4 significant digits in
CCCC, DDDD or EEEE, one or more \"0\" digit(s) is/are inserted at the left
side to fill the 4 digit coding. If there are only 2 significant digits in
YYY, a \"0\" digit is inserted at the left side to fill the 3 digits coding.
As an example, the logical name for NRI 3A, RAC 123A, LAC 234B, MCC 167 and
MNC 92 will be coded in the DNS server as:\
_nri003A.rac123A.lac234B.mnc092.mcc167.gprs_.
If for any reason the new SGSN fails to obtain the address of the old SGSN
using this method, then as a fallback method it shall retrieve the address of
the default SGSN serving the old RA.
# C.2 GPRS Support Nodes
This clause defines a naming convention for GSNs.
It shall be possible to refer to a GSN by a logical name which shall then be
translated into a physical IP address. This clause proposes a GSN naming
convention which would make it possible for an internal GPRS DNS server to
make the translation.
An example of how a logical name of an SGSN could appear is:\
_sgsnXXXX.mncYYY.mccZZZ.gprs_
X, shall be Hex coded digits, Y andZz shall be encoded as single digits (in
the range 0-9)_._
If there are less than 4 significant digits in XXXX one or more \"0\" digit(s)
is/are inserted at the left side to fill the 4 digits coding. If there are
only 2 significant digits in YYY, a \"0\" digit is inserted at the left side
to fill the 3 digit coding.
As an example, the logical name for SGSN 1B34, MCC 167 and MNC 92 will be
coded in the DNS server as:\ _sgsn1B34. mnc092.mcc167.gprs_
# C.3 Target ID
This clause describes a possible way to support SRNS relocation.
In UMTS, when SRNS relocation is executed, a target ID which consists of MCC,
MNC and RNC ID is used as routeing information to route to the target RNC via
the new SGSN. An old SGSN shall resolve a new SGSN IP address by a target ID
to send the Forward Relocation Request message to the new SGSN.
It shall be possible to refer to a target ID by a logical name which shall be
translated into an SGSN IP address to take into account inter-PLMN handover.
The old SGSN transforms the target ID information into a logical name of the
form:
rncXXXX.mncYYY.mccZZZ.gprs
X shall be Hex coded digits; Y and Z shall be encoded as single digits (in the
range 0-9). If there are less than 4 significant digits in XXXX, one or more
\"0\" digit(s) is/are inserted at the left side to fill the 4 digits coding.
If there are only 2 significant digits in YYY, a \"0\" digit is inserted at
the left side to fill the 3 digit coding. Then, for example, a DNS server is
used to translate the logical name to an SGSN IP address.
As an example, the logical name for RNC 1B34, MCC 167 and MNC 92 will be coded
in the DNS server as:\ _rnc1B34.mnc092.mcc167.gprs_
###### ## Annex D (informative): Applicability and use of the
\".3gppnetwork.org\" domain name
There currently exists a private IP network between operators to provide
connectivity for user transparent services that utilise protocols that rely on
IP. This includes (but is not necessarily limited to) such services as GPRS/PS
roaming, WLAN roaming, GPRS/PS inter‑PLMN handover and inter‑MMSC MM delivery.
This inter‑PLMN IP backbone network consists of indirect connections using
brokers (known as GRXs -- GPRS Roaming Exchanges) and direct inter‑PLMN
connections (e.g. private wire); it is however _not_ connected to the
Internet. More details can be found in GSMA PRD IR.34 [57].
Within this inter‑PLMN IP backbone network, the domain name \".gprs\" was
originally conceived as the only domain name to be used to enable DNS servers
to translate logical names for network nodes to IP addresses (and vice versa).
However, after feedback from the Internet Engineering Task Force (IETF) it was
identified that use of this domain name has the following drawbacks:
1\. Leakage of DNS requests for the \".gprs\" top level domain into the public
Internet is inevitable at sometime or other, especially as the number of
services (and therefore number of nodes) using the inter‑PLMN IP backbone
increases. In the worst case scenario of faulty clients, the performance of
the Internet\'s root DNS servers would be seriously degraded by having to
process requests for a top level domain that does not exist.
2\. It would be very difficult for network operators to detect if/when DNS
requests for the \".gprs\" domain were leaked to the public Internet (and
therefore the security policies of the inter‑PLMN IP backbone network were
breached), because the Internet\'s root DNS servers would simply return an
error message to the sender of the request only.
To address the above, the IETF recommended using a domain name that is
_routable_ in the pubic domain but which requests to it are not actually
_serviced_ in the public domain. The domain name \".3gppnetwork.org\" was
chosen as the new top level domain name to be used (as far as possible) within
the inter‑PLMN IP backbone network.
Originally, only the DNS servers connected to the inter‑PLMN IP backbone
network were populated with the correct information needed to service requests
for _all_ sub‑domains of this domain. However, it was later identified that
some new services needed their allocated sub‑domain(s) to be resolvable by the
UE and not just inter-PLMN IP network nodes. To address this, additional,
higher‑level sub‑domains were created:
\- \"pub.3gppnetwork.org\", which is to be used for domain names that need to
be resolvable by UEs (and possibly network nodes too) that are connected to a
local area network that is connected to the Internet; and
\- \"ipxuni.3gppnetwork.org\", which is to be used for domain names for UNI
interfaces that need to be resolvable by UEs that are connected to a local
area network that is not connected to the Internet (e.g. local area networks
connected to the inter-PLMN IP network of the IPX).
Therefore, DNS requests for the above domain names can be resolved, while
requests for all other sub‑domains of \"3gppnetwork.org\" can simply be
configured to return the usual DNS error for unknown hosts (thereby avoiding
potential extra, redundant load on the Internet\'s root DNS servers).
The GSM Association is in charge of allocating new sub‑domains of the
\".3gppnetwork.org\" domain name. The procedure for requesting new sub‑domains
can be found in Annex E.
###### ## Annex E (normative): Procedure for sub‑domain allocation
When a 3GPP member company identifies the need for a new sub‑domain name of
\".3gppnetwork.org\", that 3GPP member company shall propose a CR to this
specification at the earliest available meeting of the responsible working
group for this TS. The CR shall propose a new sub‑domain name. The new
sub‑domain proposed shall be formatted in one of the formats as described in
the following table.
+----------------------------------+----------------------------------+ | Sub‑domain Format | Intended Usage | +==================================+==================================+ | \.mnc\.mcc\.3gppnetwork.org | resolvable by network nodes | | | only. This format inherently | | (see notes 1 and 2) | adds protection to the | | | identified node, in that | | | attempted DNS resolutions | | | instigated directly from end | | | user equipment will fail | | | indefinitely. | +----------------------------------+----------------------------------+ | \.mnc\.mcc\.pub.3gppnetwork.org | resolvable by UEs and/or network | | | nodes. This format inherently | | (see notes 1 and 2) | adds global resolution | | | capability, but at the expense | | | of confidentiality of network | | | topology. | +----------------------------------+----------------------------------+ | \.mnc\.m | Domain name for UNI interface | | cc\.ipxuni.3gppnetwork.org | that is to be resolvable by UEs | | | that are connected to an | | (see notes 1 and 2) | inter-PLMN IP network that has | | | no connectivity to the Internet. | | | | | | This format inherently adds | | | resolution capability for UEs in | | | closed IP networks e.g. IPX. | +----------------------------------+----------------------------------+ | \.mcc\.vis | Domain name in the visited | | ited-country.pub.3gppnetwork.org | country that is to be resolvable | | | by UEs and/or network nodes, | | (see notes 1 and 2) | which is not specific to an | | | individual operator. | +----------------------------------+----------------------------------+ | \.nid\.mnc\.mcc\.3gppnetwork.org | non-public network that is to be | | | resolvable by network nodes | | (see notes 1 and 3) | only. This format inherently | | | adds protection to the | | | identified node, in that | | | attempted DNS resolutions | | | instigated directly from end | | | user equipment will fail | | | indefinitely. | +----------------------------------+----------------------------------+
Table E.1: Sub‑domain formats for the \"3gppnetwork.org\" domain and their
respective intended usage
NOTE 1: \"\\" is a chosen label, conformant to DNS naming
conventions (usually IETF RFC 1035 [19] and IETF RFC 1123 [20]) that clearly
and succinctly describe the service and/or operation that is intended to use
this sub‑domain.
NOTE 2: \"\\" and \"\\" are the MNC (padded to the left with a zero,
if only a 2‑digit MNC) and MCC of a PLMN.
NOTE 3: \"NID\", \"\\" and \"\\" are the NID (hexadecimal digits as
specified in clause 12.7), MNC (padded to the left with a zero, if only a
2‑digit MNC) and MCC identifying a Stand-alone Non-Public Network (SNPN).
Care should be taken when choosing which format a domain name should use. Once
a format has been chosen, the responsible working group shall then check the
CR and either endorse it or reject it. If the CR is endorsed, then the
responsible working group shall send an LS to the GSMA NG with TSG-CT in copy.
The LS shall describe the following key points:
\- the context
\- the service
\- intended use
\- involved actors
\- proposed new sub‑domain name
GSMA NG will then verify the consistence of the proposal and its usage within
the domain\'s structure and interworking rules (e.g. access to the GRX/IPX
Root DNS servers). GSMA NG will then endorse or reject the proposal and inform
the responsible working group (in 3GPP) and also TSG CT. It is possible that
GSMA NG will also specify, changes to the newly proposed sub‑domain name (e.g.
due to requested sub‑domain name already allocated).
NOTE 4: There is no need to request GSMA NG for new labels to the left of an
already GSMA NG approved \"\\". It is the responsibility of the
responsible working group to ensure uniqueness of such new labels.
It should be noted that services already defined to use the \".gprs\" domain
name will continue to do so and shall not use the new domain name of
\".3gppnetwork.org\"; this is to avoid destabilising services that are already
live.
#