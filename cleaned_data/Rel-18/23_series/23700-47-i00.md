# Foreword
This Technical Report has been produced by the 3rd Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
In the present document, modal verbs have the following meanings:
**shall** indicates a mandatory requirement to do something
**shall not** indicates an interdiction (prohibition) to do something
The constructions \"shall\" and \"shall not\" are confined to the context of
normative provisions, and do not appear in Technical Reports.
The constructions \"must\" and \"must not\" are not used as substitutes for
\"shall\" and \"shall not\". Their use is avoided insofar as possible, and
they are not used in a normative context except in a direct citation from an
external, referenced, non-3GPP document, or so as to maintain continuity of
style when extending or modifying the provisions of such a referenced
document.
**should** indicates a recommendation to do something
**should not** indicates a recommendation not to do something
**may** indicates permission to do something
**need not** indicates permission not to do something
The construction \"may not\" is ambiguous and is not used in normative
elements. The unambiguous constructions \"might not\" or \"shall not\" are
used instead, depending upon the meaning intended.
**can** indicates that something is possible
**cannot** indicates that something is impossible
The constructions \"can\" and \"cannot\" are not substitutes for \"may\" and
\"need not\".
**will** indicates that something is certain or expected to happen as a result
of action taken by an agency the behaviour of which is outside the scope of
the present document
**will not** indicates that something is certain or expected not to happen as
a result of action taken by an agency the behaviour of which is outside the
scope of the present document
**might** indicates a likelihood that something will happen as a result of
action taken by some agency the behaviour of which is outside the scope of the
present document
**might not** indicates a likelihood that something will not happen as a
result of action taken by some agency the behaviour of which is outside the
scope of the present document
In addition:
**is** (or any other verb in the indicative mood) indicates a statement of
fact
**is not** (or any other negative verb in the indicative mood) indicates a
statement of fact
The constructions \"is\" and \"is not\" do not indicate requirements.
# 1 Scope
This Technical Report studies and evaluates further enhancements to the 5G
Multicast/Broadcast Architecture in order to provide the following features.
\- Enabling UE\'s receiving Multicast MBS Session data in RRC Inactive state.
\- Study feasible and efficient resource utilization for the same broadcast
content to be provided to 5G MOCN network sharing scenarios (i.e. multiple CNs
are connected to the same NG-RAN).
\- Study whether and how to support on demand multicast MBS session triggered
by AF, and efficient resource utilization via 5GC choosing multicast and/or
unicast delivery for a certain service.
\- Study whether and how to support group message delivery for capability-
limited devices, including NEF enhancement, coexistence of existing power
saving mechanisms and MBS.
\- Study whether there are any identified performance issues for high number
of public safety UEs, and if yes study necessary enhancements to 5MBS for that
scenario.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".
[3] 3GPP TS 23.502: \"Procedures for the 5G system; Stage 2\".
[4] 3GPP TS 23.247: \"Architectural enhancements for 5G multicast-broadcast
services; Stage 2\".
[5] 3GPP TR 26.850: \"MBMS for Internet of Things (IoT)\".
[6] 3GPP TS 23.682: \"Architecture enhancements to facilitate communications
with packet data networks and applications\".
[7] 3GPP TS 23.280: \"Common functional architecture to support mission
critical services; Stage 2\".
[8] 3GPP TS 24.379: \"Mission Critical Push To Talk (MCPTT) call control;
Protocol specification\".
[9] 3GPP TS 22.179: \"Mission Critical Push To Talk (MCPTT); Stage 1\".
[10] 3GPP TS 23.288: \"Architecture enhancements for 5G System (5GS) to
support network data analytics services\".
[11] 3GPP TS 26.502: \"5G Multicast-Broadcast User Service Architecture\".
[12] 3GPP TS 23.468: \"Group Communication System Enablers for LTE (GCSE_LTE);
Stage 2\".
[13] 3GPP TS 38.300: \"NR; Overall description; Stage-2\".
[14] 3GPP TS 33.501: \"Security architecture and procedures for 5G system\".
[15] 3GPP TS 36.300: \"Evolved Universal Terrestrial Radio Access (E-UTRA) and
Evolved Universal Terrestrial Radio Access (E-UTRAN); Overall description;
Stage 2\".
[16] 3GPP TS 36.321: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
Medium Access Control (MAC) protocol specification\".
[17] 3GPP TS 29.532: \"5G System; 5G Multicast-Broadcast Session Management
Services; Stage 3\".
[18] 3GPP TS 29.522: \"5G System; Network Exposure Function Northbound APIs;
Stage 3\".
# 3 Definitions of terms and abbreviations
## 3.1 Terms
For the purposes of the present document, the terms given in TR 21.905 [1] and
the following apply. A term defined in the present document takes precedence
over the definition of the same term, if any, in TR 21.905 [1] and TS 23.247
[4].
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1] and the following apply. An abbreviation defined in the present document
takes precedence over the definition of the same abbreviation, if any, in TR
21.905 [1] and TS 23.247 [4].
# 4 Architectural Assumptions and Principles
## 4.1 Common architectural requirements and principles
Editor\'s note: This clause will document any architectural assumptions and
principles for the study.
\- Solutions shall build on the 5G System architectural principles as in TS
23.501 [2], including flexibility and modularity for newly introduced
functionalities.
\- The system shall provide an efficient transport for a variety of multicast
and broadcast services.
\- Only NR of NG-RAN connected to 5GC is considered as RAT.
\- Architecture reference models defined in clause 5.1 of TS 23.247 [4] are
used as the baseline architecture for this study. Enhanced Architecture and
Solutions in this study shall enable UEs with Rel-17 MBS capability to receive
MBS data from Rel-18 architecture/solutions.
Editor\'s note: The impact on RAN is to be analysed by and coordinated with
the relevant RAN WGs.
Editor\'s note: This study may also include the potential enhancements
identified by other WGs or other SIDs (e.g. FS_ 5GSAT_ARCH_Ph2) in their MBS
work that need SA WG2 cooperation.
## 4.2 Specific architectural requirements and principles for public safety
service in a cell with large number of UEs
Public Safety specific architectural requirements and principles:
\- Solutions shall enable simultaneous reception of MBS session data for a
higher number of UEs in a cell than can be operating in RRC_CONNECTED state,
to participate in public safety group calls using MBS-based service.
\- Solutions shall ensure that the pre-emption and admission control
mechanisms result in public safety UEs being able to complete the setup of the
MBS services and then operate according to regulation and operator policy,
when a mix of UEs participating in one or more services and/or one or more
sessions within each service is present in the cell.
NOTE 1: This issue, which involves other Working Groups, deals with aspects
like recognizing which UEs may be moved to RRC_INACTIVE (service continues via
MBS) vs. moved to RRC_IDLE (service may fail), not impacting the UE while the
UE is setting up connections or waiting for the floor (permission to talk),
ability to override user settings in order to be able to pre-empt, if
necessary, etc.
\- Solutions shall enable provision of assistance information to NG-RAN from
the application function (AF) via 5GC, if required/needed.
Editor\'s note: Solutions may require information to NG-RAN and application
function (AF) to enable proper provisioning. This includes, e.g. the SA6 and
RAN WGs deciding on, what information to be provided on, which members of a
public safety group should stay in RRC_CONNECTED and which one(s) are
candidates for being transitioned to RRC_INACTIVE.
\- If MBS sessions are temporarily deactivated and are subject to subsequent
(re)activation, resulting in UEs in e.g. RRC_INACTIVE state which need to be
(re)-awakened to receive MBS service, solutions may enable simultaneously wake
up (for MBS reception) for all the UEs associated with the session.
NOTE 2: For active MBS Session, it is assumed that public safety applications
(under the remit of SA6) will initiate minimum number and frequency of
requests to transition to RRC_CONNECTED state to perform uplink transmissions,
while Public Safety UEs are in RRC_INACTIVE state.
\- Whether there is a need for additional solutions to minimize packet loss
during MBS reception, this should be addressed together with RAN WGs.
# 5 Key Issues
## 5.1 Key Issue #1: Multicast MBS data reception in RRC Inactive state
### 5.1.1 Description
In order to provide MBS service to more UEs in a cell, NG RAN could enable UEs
within an MBS multicast session to receive MBS session data while in CM-
CONNECTED with RRC Inactive state.
The following aspect will be studied for multicast:
\- Whether, how and what MBS assistance information to provide from 5GC to RAN
for an MBS session allowing UEs in CM-CONNECTED with RRC Inactive state to
receive MBS content, including the aspect which 5GC NF(s) determine the MBS
assistance information and how they do so;
\- Whether and how to enhance the current procedures (including mobility
related procedures) for MBS session with member UEs in RRC Inactive state.
NOTE 1: During the study of this key issue, coordination with RAN WGs is
needed before final conclusion.
NOTE 2: RAN WG will determine how the switching for the UEs belonging to MBS
session from CM-CONNECTED state to CM-CONNECTED with RRC Inactive state (and
vice versa) is performed by the RAN node.
## 5.2 Key Issue #2: 5MBS MOCN Network Sharing
### 5.2.1 Description
According to clause 5.18 of TS 23.501 [2], in a 5G Multi-Operator Core Network
(5G MOCN), multiple CNs are connected to the same NG-RAN.
When the same broadcast content is to be delivered to multiple CNs, the AF
will set up multiple broadcast MBS sessions towards those CNs, each CN
delivering the same content towards the same shared NG-RAN node. Therefore,
for a broadcast MBS Session, the consumed radio resource will be (N-1) times
more than needed, where N is the number of CNs involved.
To investigate the feasibility of avoiding allocating more radio resource than
needed, the following aspects need to be considered:
\- Whether and how to assist NG-RAN node to determine the same content is
delivered by broadcast MBS Sessions from different 5G CNs?
\- Whether and how to assist NG-RAN node to determine which PLMN is used to
broadcast the MBS session data?
\- Which entity (e.g. AF or other NFs) could provide the assistance parameters
to the shared NG-RAN if needed?
\- Whether and how to enable the UE to receive the broadcast content from the
broadcast PLMN when the UE camps on cells of other PLMNs?
NOTE 1: The feasibility of radio resource utilization optimization will be
determined by RAN WGs.
NOTE 2: Collaboration with SA3 is required regarding the security issue.
## 5.3 Key Issue #3: On demand multicast MBS session
### 5.3.1 Description
For services shared by a group of users, e.g. background audio/video streams,
status/warning update during the game, shared streaming of collaborative
interactive application, enabling temporary multicast group for the service
would be beneficial for operators to be more flexible to provide services with
resource efficiency, i.e. dynamically creating multicast session when required
by the service, and releasing them when not required.
Based on the triggers provided by the AF, e.g. information or request provided
by the AF which allows multicast transport for a specific service, and other
factors, on demand multicast MBS session may be created by the 5GS for the
service. A similiar example in eMBMS is MBMS operation on Demand (MooD)
defined by SA4.
The following aspects are to be studied:
\- Use cases for on demand MBS multicast sessions and related requirements and
potential gaps in Rel-17 MBS multicast procedures.
\- Whether and how to enhance the Release-17 MBS procedures to enable the on-
demand multicast MBS session management. If needed, what information can be
exposed by the 5GC to the AF or be provided by the AF, to enable on demand
multicast MBS session management by AF.
NOTE: Coordination with SA4 is needed for study of this KI.
## 5.4 Key Issue #4: Group message delivery
### 5.4.1 Description
In previous Releases, group-based enhancements were introduced to enable an
optimised handling of groups of UEs/subscriptions. In clause 5.5 of TS 23.682
[6], the group message delivery is specified via MB2 and xMB interfaces over
eMBMS. This key issue will study whether and how to support Group Message
Delivery over MBS for feature parity.
For this key issue, the following aspects will be studied:
\- Whether and how to enhance the MBS functionality to provide a similar group
message delivery as available in eMBMS.
\- Whether group message delivery applies to MBS broadcast, MBS multicast, or
both.
\- Whether and how to provide a unified group message delivery applicable to
both 5GS using MBS and EPS using eMBMS.
NOTE 1: Collaboration with SA4 is needed.
NOTE 2: Control plane cell broadcast is not included.
## 5.5 Key Issue #5: Coexistence with existing power saving mechanisms for
capability-limited devices
### 5.5.1 Description
Capability-limited devices may use power-saving mechanisms to extend their
battery live. Existing power saving mechanisms include MICO (Mobile Initiated
Connection Only) mode, DRX (Discontinuous Reception), eDRX (Extended
Discontinuous Reception).
MBS content should be transmitted to all devices at the same time to save
transmission resources. However, the existing power saving mechanisms may
prevent devices from receiving MBS content (for instance group messages).
This KI will study the following issue:
\- Whether and how to support MBS content (for instance group message)
delivery for capability-limited devices by considering coexistence of existing
power saving mechanisms and MBS.
NOTE: In SA WG4, co-existence between power saving mechanism and eMBMS has
been studied in TR 26.850 [5]. The study result in TR 26.850 [5] could be
taken into consideration during the solution study of this KI.
## 5.6 Key Issue #6: Improvement for potential performance issues related to
high numbers of public safety UEs
### 5.6.1 Description
Public safety requirements are documented in TS 22.179 [9] and related
procedures are documented in TS 23.280 [7] and TS 24.379 [8].
Specific 5MBS requirements for public safety are documented in clause 4.2.
Based on the 5MBS requirements for public safety documented in clause 4.2,
this Key issue will study whether there are any performance issues for high
number of public safety UEs, and for identified performance issues related
enhancements to 5MBS.
NOTE: Coordination with RAN WGs and SA6 WG will be required.
# 6 Solutions
## 6.0 Mapping of Solutions to Key Issues
Editor\'s note: This clause describes the mapping between solutions and key
issues.
Table 6.0-1: Mapping of Solutions to Key Issues
+---------+---------+---------+---------+---------+---------+---------+ | | Key | | | | | | | | Issues | | | | | | +=========+=========+=========+=========+=========+=========+=========+ | So | 1 | 2 | 3 | 4 | 5 | 6 | | lutions | | | | | | | | | MBS | MOCN | On | Group | Coex | Impr | | | session | network | demand | Message | istence | ovement | | | re | sharing | mu | D | with | on | | | ception | | lticast | elivery | e | perf | | | in RRC | | MBS | | xisting | ormance | | | I | | session | | power | issues | | | nactive | | | | saving | for | | | | | | | mec | public | | | | | | | hanisms | safety | | | | | | | for | UEs | | | | | | | capa | | | | | | | | bility- | | | | | | | | limited | | | | | | | | devices | | +---------+---------+---------+---------+---------+---------+---------+ | 1 | X | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | 2 | | X | | | | | +---------+---------+---------+---------+---------+---------+---------+ | 3 | X | | | | | X | +---------+---------+---------+---------+---------+---------+---------+ | 4 | X | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | 5 | X | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | 6 | X | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | 7 | | X | | | | | +---------+---------+---------+---------+---------+---------+---------+ | 8 | | X | | | | | +---------+---------+---------+---------+---------+---------+---------+ | 9 | | X | | | | | +---------+---------+---------+---------+---------+---------+---------+ | 10 | | | X | | | | +---------+---------+---------+---------+---------+---------+---------+ | 11 | | | X | | | | +---------+---------+---------+---------+---------+---------+---------+ | 12 | | | | X | | | +---------+---------+---------+---------+---------+---------+---------+ | 13 | | | | X | | | +---------+---------+---------+---------+---------+---------+---------+ | 14 | | | | | X | | +---------+---------+---------+---------+---------+---------+---------+ | 15 | | | | | X | | +---------+---------+---------+---------+---------+---------+---------+ | 16 | | | | | | X | +---------+---------+---------+---------+---------+---------+---------+ | 17 | | | | | | X | +---------+---------+---------+---------+---------+---------+---------+ | 18 | X | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | 19 | X | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | 20 | X | | | | | X | +---------+---------+---------+---------+---------+---------+---------+ | 21 | X | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | 22 | X | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | 23 | X | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | 24 | | X | | | | | +---------+---------+---------+---------+---------+---------+---------+ | 25 | | | | | X | | +---------+---------+---------+---------+---------+---------+---------+ | 26 | X | | | | | X | +---------+---------+---------+---------+---------+---------+---------+ | 27 | X | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | 28 | X | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | 29 | | X | | | | | +---------+---------+---------+---------+---------+---------+---------+ | 30 | | | X | | | | +---------+---------+---------+---------+---------+---------+---------+ | 31 | | | | | | X | +---------+---------+---------+---------+---------+---------+---------+
## 6.1 Solution #1: Procedures for RRC Inactive MBS data reception
### 6.1.1 Introduction {#introduction-1}
This solution addresses Key Issue #1.
### 6.1.2 Functional description
It is assumed to reuse the current architecture defined in Rel-17 MBS work
(see TS 23.247 [4]). In other words, MB-SMF is used to handle MBS session-
level management while SMF performs per-UE MBS session management, e.g.
authorization, multicast session information provisioning, managing 5GC
Individual MBS traffic delivery.
An AF creating a multicast session should be able to influence the service
quality (more UEs vs. higher reliability) talking into consideration the
specific needs of the service it offers. Thus the AF can provide assistance
information to help the PLMN to enable or disable the transmission to UEs in
RRC-INACTIVE state. The AF may also, based on local configuration or triggered
by e.g. event report from the NEF (e.g. \"Number of UEs present in a
geographical area\" as specified in clause 4.15.3.1 of TS 23.502 [3]),
subscribe to or requests network analytics information (e.g. Observed Service
Experience analytics, NF load analytics, Network Performance analytics, User
Data Congestion analytics) from the NWDAF as specified in TS 23.288 [10], and
decide to enable or disable the transmission to UEs in RRC-INACTIVE state
based on the analytics information. For example, if the User Data Congestion
analytics information indicates that the congestion level of the network is
(predicted to be) high, then the AF can enable the transmission to UEs in RRC-
INACTIVE state (i.e. instructing the NG-RAN to switch the UE in RRC-CONNECTED
state to RRC-INACTIVE state); and later on when the analytics information
indicates that the congestion is relieved, the AF can disable the transmission
to UEs in RRC-INACTIVE state (i.e. instructing the NG-RAN to switch the UE in
RRC-INACTIVE state back to RRC-CONNECTED state). The AF provides the
indication of enabling or disabling the transmission to UEs in RRC-INACTIVE
state (i.e. an indication whether NG-RAN nodes may deliver the MBS session to
UEs in the inactive state) as part of the assistance information to the NG-
RAN. However, the decision whether to apply transmission to UEs in RRC-
INACTIVE state remains in the RAN nodes if transmission to UE in RRC-INACTIVE
state is enabled.
NOTE: If the AF provides assistance information to disable reception in RRC-
INACTIVE state, the number UEs in a cell that can receive the MBS session will
be more limited but the transmission will be more reliable.
Editor\'s note: Whether such behaviour is intended is FFS.
Procedures in the following clauses focus on the following functionalities:
\- 5GC provisioning necessary parameters to NG-RAN node(s).
\- Switching between RRC Connected and RRC Inactive modes.
There are two levels of priority as a part of 5GC-provided parameters, namely:
\- MBS session priority: the MBS session priority denotes the priority level
of an MBS session, and the priority level defines the relative importance of
an MBS session. This allows the NG-RAN nodes deciding (the members of) which
MBS session can be switched to RRC Inactive state, to free up resources of NG-
RAN node upon e.g. congestion. NG-RAN node may also use it to decide (the
members of) which MBS session can be switched to RRC Connected state, once the
resources are regarded as sufficient.
The details of how the 5GC provides MBS session priority to NG-RAN node are
further described in clause 6.1.3.2.
Editor\'s note: Whether the existing QoS parameters (e.g. ARP, 5QI) of the MBS
QoS Flow(s) can be used for the MBS Session priority is FFS.
\- UE session priority: the UE session priority denotes the priority level of
a certain UE within a certain MBS session, and the priority level defines the
relative importance of a UE for an MBS session. This allows the NG-RAN nodes
deciding if the UE of an MBS session can be switched to RRC Inactive state, to
free up resources of NG-RAN node upon e.g. congestion. NG-RAN node may also
use it to decide if the UE of an MBS session can be switched to RRC Connected
state, once the resources are regarded as sufficient.
The details of how the 5GC provides UE session priority to NG-RAN node are
further described in clause 6.1.3.2.
Editor\'s note Whether and how the NG-RAN use the assistant information will
be determined by RAN WGs.
Whether the transmission mode for inactive reception is applied depends on
multiple factors and determined by the NG-RAN node:
\- Backward compatibility with UEs supporting Rel-17 MBS but not capable of
receiving 5MBS data while in RRC-inactive state. If such UEs that joined a MBS
multicast session are in a cell, MBS data need to be transmitted using the
Rel-17 transmission mode for RRC-connected reception.
\- UE preferences: UEs could prefer to receive MBS data in RRC inactive state
to reduce their battery consumption, or in RRC connected state to increase the
service quality.
NOTE: If the UE indicates reception in RRC-INACTIVE state is not preferred and
if NG-RAN follows the UE preference, the number UEs in a cell that can receive
the MBS session will be more limited but the transmission will be more
reliable.
Editor\'s note: Whether such behaviour is intended is FFS.
\- MBS session priority.
Editor\'s note: How MBS Session priority could assist the NG-RAN in
determining whether to apply transmission for inactive reception is FFS.
\- UE session priority.
Editor\'s note: Detailed usage of combining UE priority and MBS session
priority requires more study.
\- Whether the transmission for inactive reception is allowed for specific
multicast MBS service(s).
\- Ongoing session of the UEs (e.g. UE has other PDU session activated).
Editor\'s note: Those assumptions need to be confirmed by RAN WGs.
AF provides the following information, and MB-SMF stores this information as a
part of Multicast MBS Session context, during MBS Session Creation procedures
defined in clauses 7.1.1.2 or 7.1.1.3 of TS 23.247 [4] and clause 6.1.3.2:
\- MBS session priority.
\- Whether the transmission for inactive reception is allowed for specific
multicast MBS service(s).
AF provides the following information, and UDM stores this information as a
part of MBS subscription data, during External Parameter Provisioning
procedures as defined in clause 6.4.2 of TS 23.247 [4]:
\- UE session priority.
### 6.1.3 Procedures
#### 6.1.3.1 General
NOTE: The message names in the procedures below are descriptive. It is assumed
that the names are updated with corresponding SBI based names where applicable
during the normative phase.
#### 6.1.3.2 MBS session creation, multicast session join and session
establishment procedure
Figure 6.1.3.2-1: Enhancement to current MBS procedures for session creation
and join
0\. When UE registers, it indicates its capability to receive MBS multicast
using the transmission mode for RRC inactive. It may also indicate a
preference regarding the connectivity state in which it wishes to receive MBS
session(s). If UE\'s preference changes (e.g. due to UE state change such as
power level etc.), then the UE performs registration update. This information
is propagated to NG-RAN via AMF.
1-2. When an AF requests the creation of a multicast MBS session, it indicates
whether inactive reception of multicast shall be enabled for that session. AF
also provides the MBS session priority to MB-SMF, optionally via NEF or MBSF.
Editor\'s note: Whether the existing QoS parameters (e.g. ARP, 5QI) of the MBS
QoS Flow(s) can be used for the MBS Session priority is FFS.
3\. The AF may also indicate in the service announcement towards the UE
whether inactive/idle reception of multicast is enabled.
4.-14 The information whether the inactive transmission mode is enabled for an
MBS session is propagated from MB-SMF towards NG-RAN, via PDU session and/or
via shared delivery of a multicast session.
SMF provides the UE session priority to NG-RAN node: In step 7, SMF includes
UE session priority as a part of N2 SM information in
Nsmf_PDUSession_UpdateSMContext response to AMF. In step 8, AMF sends the N2
SM information received from SMF to NG-RAN node during the shared tunnel
establishment procedure. AF provides the UE session priority, and UDM stores
this information as a part of MBS subscription data, during External Parameter
Provisioning procedures as defined in clause 6.4.2 of TS 23.247 [4]. During
PDU session establishment procedure, SMF fetches UE session priority from UDM.
MB-SMF provides the MBS session priority to NG-RAN node: In step 13, since MB-
SMF receives the MBS session priority in step 2, MB-SMF includes MBS session
priority in the N2 SM information of Nmbsmf_MBSSession_ContextUpdate response
message. And AMF sends N2 MBS Session response message to NG-RAN node in step
14.
15\. The NG-RAN decides the transmission mode to apply for the MBS multicast
session in a cell.
#### 6.1.3.3 Moving a UE to RRC Inactive state
Figure 6.1.3.3-1: NG-RAN node moves a UE to CM-CONNECTED with RRC Inactive
state
0\. 5GC provides assistance information of RRC Inactive multicast MBS data
reception to NG-RAN node, details see clause 6.1.3.2. UE receives multicast
MBS data in CM-CONNECTED mode.
Editor\'s note: Whether/what assistance information is needed is to be
coordinated with RAN WGs. It is ffs if some UEs in the same cell can receive
MBS data in RRC Inactive reception mode and other UEs can receive MBS data in
Rel-17 reception mode.
1\. RAN determines to move UE in multicast MBS session to RRC Inactive state
and the transmission mode to apply for the MBS multicast session in a cell
taking the assistance information into consideration.
Editor\'s note: Determination of switching to RRC Inactive will be confirmed
by the RAN WGs.
2\. NG-RAN node releases the RRC connection and moves the UE to CM-CONNECTED
with RRC Inactive state.
Editor\'s note: How to release the UEs belongs to multicast MBS session will
be determined by RAN WGs.
3\. UE receives multicast MBS data in CM-CONNECTED with RRC Inactive mode.
Editor\'s note: RAN WGs will determine the configuration of UE receiving
multicast MBS data in RRC Inactive.
#### 6.1.3.4 Moving a UE to RRC-CONNECTED from RRC Inactive state
Figure 6.1.3.4-1: NG-RAN node moves a UE to RRC-CONNECTED state
0\. 5GC provides assistance information of RRC Inactive multicast MBS data
reception to NG-RAN node, details see clause 6.1.3.2. UE receives multicast
MBS data in CM-CONNECTED with RRC Inactive mode.
Editor\'s note: Whether/what assistance information is needed is to be
coordinated with RAN WGs.
1\. RAN determines to move UE in multicast MBS session to RRC-CONNECTED state
based on the assistance information as described in clause 6.1.2.
Editor\'s note: Determination of switching to RRC Inactive will be confirmed
by the RAN WGs.
2\. NG-RAN node informs related UEs to RRC-CONNECTED state.
Editor\'s note: How to inform the related UEs belonging to multicast MBS
session will be determined by RAN WGs.
3\. UE receives multicast MBS data in RRC-CONNECTED mode.
Editor\'s note: RAN WGs will determine the configuration of UE receiving
multicast MBS data in RRC-CONNECTED mode.
### 6.1.4 Impacts on services, entities and interfaces.
Editor\'s note: This clause describes impacts to existing services, entities
and interfaces.
Functional entities defined in clause 5.3.2 of TS 23.247 [4] is reused.
AF:
\- The AF includes the MBS session priority and information whether the
transmission for inactive reception is enabled in the message sent to MB-SMF.
\- The AF includes the UE session priority during External Parameter
Provisioning procedure.
MB-SMF:
\- The MB-SMF stores MBS session priority and information whether the
transmission mode for inactive reception is enabled as a part of multicast
context, and provides MBS session priority and information whether the
transmission mode for inactive reception is enabled to the NG-RAN node.
SMF:
\- SMF fetches the UE MBS priority and provide to the NG-RAN node during PDU
Session modification/establishment procedure.
NG-RAN:
\- Determine the transmission mode for an MBS session in a cell and which UE
can be switched RRC Inactive/Connected mode based on the UE MBS priority and
MBS session priority from SMF/MB-SMF, respectively.
UDM:
\- Storing the UE session priority of a certain MBS session.
UE:
\- Indicate capability and preference for multicast reception in RRC inactive
state.
## 6.2 Solution #2: Procedures for MOCN network sharing
### 6.2.1 Introduction {#introduction-2}
This solution addresses Key Issue #2.
### 6.2.2 Functional description
#### 6.2.2.1 General
It is assumed to reuse the current architecture and TMGI definition in Rel-17
MBS work (see TS 23.247 [4]). In other words, MB-SMF is used to handle MBS
session-level management while SMF performs per-UE MBS session management,
e.g. authorization, multicast session information provisioning, managing 5GC
Individual MBS traffic delivery.
In general the proposal is based on the additional identifier (i.e. identifier
of the broadcast MBS service) provided by AF during MBS session Create
procedure. The identifier of the broadcast MBS service is non-PLMN specific,
which would be included and the same when AF sends requests for establishing
the broadcast MBS session for the same broadcast MBS service to different
PLMNs. The MB-SMF includes the received identifier in the N2 MB-SM container,
and provided to NG-RAN node. Figure 6.2.2.1-1 demonstrates an example of the
proposal.
Figure 6.2.2.1-1: MOCN network sharing using additional identifier
It is assumed that for the MBS sessions identified by the same \"identifier of
the broadcast MBS service\", the NG-RAN node will use the same radio
resources, but still broadcast the TMGIs for different PLMNs. In other words:
\- UE: UEs of different PLMNs behave the same as Rel-17, i.e. listen to the
control channel of the TMGIs broadcasted by the NG-RAN node and receive the
broadcast data.
\- NG-RAN node: NG-RAN node behave the same as Rel-17, i.e. broadcasts the
TMGIs of different PLMNs, but the NG-RAN node also use the same radio
resources for transmitting the MBS data of different TMGIs but with the same
\"identifier of the broadcast MBS service\".
#### 6.2.2.2 Identifier of the broadcast MBS service
The Identifier of the broadcast MBS service is used to denote the broadcast
communication service. When creating the MBS session, the AF may additionally
include the Identifier in the MBS session create request message. For the same
broadcast communication service but transmitted in different PLMNs, the
Identifier will be the same.
The Identifier of the broadcast MBS service is non-PLMN specific, it is used
for globally identify the broadcast service data at the NG-RAN node. The
Identifier is in the form of IP addresses, which is the target IP address and
optionally includes the source IP address. The source IP address is the source
IP address of the data provider, e.g. the address of the AS, and the target IP
address can be the destination IP address of the broadcast data, which might
be the IP multicast address.
EditorÂ´s note: It is ffs how a unique identifier can be provided if different
AFs act as data source against different core networks.
#### 6.2.2.3 Reception of the broadcast data by the UE
It is proposed to not change the Uu interface for the MOCN scenario, i.e.
MCCH/MTCH mechanisms defined by Rel-17 are reused. The sharing NG-RAN node
uses the same radio resources for the data transmission, since the data
service will be the same between/among different PLMNs.
NOTE: The above-mentioned parts needs confirmation by the RAN WGs.
### 6.2.3 Procedures
#### 6.2.3.1 General
NOTE: The message names in the procedures below are descriptive. It is assumed
that the names are updated with corresponding SBI based names where applicable
during the normative phase.
Editor\'s note: It will be confirmed by the RAN WG that whether the additional
identifier is needed.
Editor\'s note: Support of the encrypted content reception is FFS.
#### 6.2.3.2 Broadcast Session Establishment
Figure 6.2.3.2-1: Broadcast Session Establishment for MOCN network sharing
The following additions apply compared to clause 7.3.1 of TS 23.247 [4]:
1\. AF performs TMGI allocation and MBS session creation as specified in
clause 7.1.1.2 or clause 7.1.1.3 of TS 23.247 [4]. The AF further includes the
identifier of the broadcast MBS service in MBS session creation request.
2\. MB-SMF invokes Namf_MBSBroadcast_ContextCreate Request with further
including identifier of the broadcast MBS service in the N2 SM container
received in step 1.
4\. NG-RAN node creates a Broadcast MBS Session Context, stores the TMGI, the
QoS Profile and the identifier of the broadcast MBS service in the MBS Session
Context, if the Broadcast MBS Session Context does not exist (i.e. the other
PLMN network sharing the NG-RAN node has not requested for the same broadcast
MBS service to be established at the NG-RAN node).
If the NG-RAN node already exists, i.e. NG-RAN nodes stores the same
\"identifier of the broadcast MBS service\" in the MBS Session Context of
other MBS session, then the NG-RAN node reuses the previously allocated radio
resources of the MBS session identified by the same \"identifier of the
broadcast MBS service\", as the one for the newly requested MBS session. In
other words, all MBS sessions having the same \"identifier of the broadcast
MBS service\" shares the radio resources. When the NG-RAN node receives the DL
MBS data of the requested MBS session afterwards, it will not send the
received data in the air interface.
9\. NG-RAN broadcasts the TMGI representing the MBS service over radio
interface.
NOTE: This step is same as the session start procedure in TS 23.247 [4]; it is
included here for the sake of clarity.
Editor\'s note: Details will be confirmed by the RAN WGs.
#### 6.2.3.3 Broadcast Session Release
Figure 6.2.3.3-1: Broadcast Session Release for MOCN network sharing
The following additions apply compared to clause 7.3.2 of TS 23.247 [4]:
4\. After NG-RAN node receives multiple N2 message to release the MBS Session
for the TMGI (e.g. from several AMFs the NG-RAN is connected to), if there is
no other PLMN requesting to the broadcast MBS service, the NG-RAN node
performs step 5 and step 6.
If the MBS session is about to be released, and 1) the NG-RAN nodes uses its
MBS data as the one sending in the air interface, and 2) there are other MBS
sessions identified by the same \"identifier of the broadcast MBS service\",
then the NG-RAN node will select DL data of one other MBS session of the same
\"identifier of the broadcast MBS service\" and send its data using the
previous allocated radio resources.
Editor\'s note: Details will be confirmed by the RAN WGs.
### 6.2.4 Impacts on services, entities and interfaces
Functional entities defined in clause 5.3.2 of TS 23.247 [4] is reused
exception for the following additions:
AF, NEF:
\- Support to provide/process the identifier of the broadcast MBS service
during broadcast session establishment procedure.
MB-SMF:
\- Include the identifier of the broadcast MBS service to the N2 SM container
sent to NG-RAN node.
NG-RAN:
\- Support to identify the broadcast MBS service from 5GC and use the same
resources for the same broadcast MBS service.
\- Support to configure radio bearer of the MBS sessions with the same
\"identifier of the broadcast MBS service\" with the same radio resources.
\- Refrain from sending the data of the subsequently established MBS session
with the same \"identifier of the broadcast MBS service\" to the UEs.
## 6.3 Solution #3: AF providing assistance information
### 6.3.1 Introduction {#introduction-3}
This solution addresses the following bullet in Key Issue #1.
\- Whether, how and what MBS assistance information to provide from 5GC to RAN
for an MBS session allowing UEs in CM-CONNECTED with RRC Inactive state to
receive MBS content, including the aspect which 5GC NF(s) determine the MBS
assistance information and how they do so.
### 6.3.2 Functional description
After the multicast MBS session is created, the AF may provide to the 5GC the
group member information (e.g. whether a member belongs to a \"privileged\"
category in a multicast group) so that the group members\' UEs are not sent to
RRC_INACTIVE state and those members get the best possible service (e.g. voice
quality, response time, assurance of not getting pre-empted, etc.).
The 5GC then forward this information to NG-RAN to assist the RAN in the
decision which UEs can be sent to RRC_INACTIVE when needed.
The group member information consists of the following:
\- MBS Session ID;
\- group member category (e.g. privileged, non-privileged).
### 6.3.3 Procedures
The following existing procedures specified in TS 23.502 [3] are reused for
the AF to provide assistant information, i.e. group member information (e.g.
whether a member belongs to a \"privileged\" category in a multicast group):
\- 4.15.6.6 AF session with required QoS Create procedure.
\- 4.15.6.6a AF session with required QoS update procedure.
\- 4.16.5.2 PCF initiated SM Policy Association Modification.
\- 4.3.3.2 UE or network requested PDU Session Modification (non-roaming and
roaming with local breakout).
Compared to clause 4.15.6.6 AF session with required QoS Create procedure of
TS 23.502 [3], the additional group member information may be included in the
following service operations:
\- Step 1: Nnef_AFsessionWithQoS_Create request.
\- Step 3: Npcf_PolicyAuthorization_Create request.
Compared to clause 4.15.6.6a AF session with required QoS Update procedure of
TS 23.502 [3], the additional group member information may be included in the
following service operations:
\- Step 1: Nnef_AFsessionWithQoS_Update request.
\- Step 3: Npcf_PolicyAuthorization_Update request.
Compared to clause 4.16.5.2 PCF initiated SM Policy Association Modification,
there is following addition:
\- Step 4: In Npcf_SMPolicyControl_UpdateNotify service operation may include
group member information.
Compared to clause 4.3.3.2 UE or network requested PDU Session Modification
(non-roaming and roaming with local breakout), there are following additions:
\- Step 3b: PCF initiated SM Policy Association Modification, same as step 4
of clause 4.16.5.2.
\- If the UE has joined the MBS Session and the PDU Session UP activated, the
SMF provides the group member information via PDU Session Modification towards
the NG-RAN.
If the UE has not joined the MBS Session or the UE has joined the MBS Session
but does not have PDU Session UP activated, the SMF stores the group member
information. The SMF sends the information to NG-RAN next time when PDU
Session UP is activated for UE that has joined the MBS Session.
### 6.3.4 Impacts on services, entities and interfaces.
AF:
\- See clause 6.3.3.
NEF
\- See clause 6.3.3.
PCF:
\- See clause 6.3.3.
SMF:
\- See clause 6.3.3.
UPF:
\- No impact. The new parameter of MBS member priority is only used in NG-RAN.
NG-RAN:
\- The NG-RAN receives the group member information in PDU Session setup or
modification.
Editor\'s note: How the group member information is used by NG-RAN requires
collaboration with RAN WGs.
## 6.4 Solution #4: MBS session management for RRC Inactive MBS data receiving
UE
### 6.4.1 Introduction {#introduction-4}
This solution addresses Key Issue #1, especially on the enhancement of MBS
session management for RRC Inactive MBS data receiving UE.
### 6.4.2 Functional description
This solution builds on top of solution 1. The multicast session management
include following procedures:
\- MBS session activation, the group-based CN paging may be executed. If a UE
in RRC-INACTIVE state is allowed to receive multicast data in that state, a
paging reaction is not always needed due to it may not need to resume the RRC
connection for receiving the MBS data. But paging reaction for other group
member UE, which are in RRC-IDLE state or which need to receive the MBS data
in the RRC connected state, is still needed.
\- Multicast session deactivation/multicast session update, no impact to the
existing procedure as defined in TS 23.247 [4]. If the UE is in the CM-IDLE
state and need be notified, the paging is per UE paging.
\- Multicast session release, the group-based paging may be executed. As
defined in TS 23.247 [4] Paging reaction is needed for all UE as they all need
go back to CM-CONNECTED with RRC-CONNECTED state.
Per above consideration, it is suggested to focus on how to page UE due to the
MBS session activation and MBS session release. The intention is to avoid RRC-
INACTIVE group member UE, which supports receiving multicast service in RRC-
inactive state, always resume the RRC connection blindly if the paging event
is for activation and MBS session data can be received in RRC-INACTIVE state.
Editor\'s note: Paging procedures are under remit of the RAN groups and any
related enhancements need to be confirmed by RAN groups.
### 6.4.3 Procedures
Figure 6.4.3.1-1: Multicast Session Activation/Release Procedure.
1\. UE joins the multicast MBS session via the procedure as defined in clause
7.2.1.3 of TS 23.247 [4].
2\. In some cases, e.g. due to radio resource congestion, NG-RAN could move
one or multiple multicast group member UEs to RRC-INACTIVE state and those UEs
are still able to received multicast MBS data.
3\. The multicast MBS session becomes inactive via the procedure as defined in
clause 7.2.5.3 of TS 23.247 [4]. The group member UE can be moved to CM-IDLE
or CM-Connected with RRC Connected/Inactive state.
4\. After some time, MB-SMF triggers the multicast session activation or
multicast session release.
5\. MB-SMF sends Nmbsmf_MBSSession_ContextStatusNotify to SMF(s), same as step
2 of clause 7.2.5.2 or step 1a of clause 7.2.2.3 of TS 23.247 [4], which also
includes the MBS session status, i.e. activation or release, as event
information. In addition the RRC-inactive reception assistance information,
which assist NG-RAN to determine whether the MBS session is allowed to be
received in RRC-inactive state, is also included.
NOTE 1: Steps 1, 3-5 are same as the one defined in TS 23.247 [4].
6\. The SMF includes the event information and RRC-inactive reception
assistance information (if it is received) in Namf_MT_EnableGroupReachability
Request to AMF. Other parameters in the Namf_MT_EnableGroupReachability
Request to AMF are same as specified in TS 23.247 [4].
7\. If AMF determines that there are UEs in CM-IDLE state among the UEs
provided by the SMF in step 6, based on the event information received from
SMF, the AMF includes the MBS session ID and a paging cause in the paging
message sent to NG-RAN, the paging case is used to indicate the paging is for
the received MBS event, e.g. MBS session activation and RRC-inactive state
reception assistance information.
8\. The NG-RAN performs the group paging by sending the MBS session ID and
paging cause. If paging is for MBS session activation and allowed to be
received in RRC-inactive state, the NG-RAN node determines for each cell
whether transmission for RRC INACTIVE UE is enabled and includes a paging
cause if RRC INACTIVE UE do not need go back to the RRC-CONNECTED state.
For RRC-inactive UE(s) that joined the MBS session and receive multicast
service in RRC-INACTIVE state, if the UE(s) receives the group paging with the
paging cause indicating that the paging is for MBS session activation for MBS
session they are receiving and allowed to be received in RRC-inactive state,
those UE(s) may remain in RRC-INACTIVE state and do not perform RRC connection
resumption. Otherwise, e.g. group paging does not contain a paging cause, this
UE sends RRC connection resumption message to NG-RAN.
For the UE(s) joined the MBS session and need receive multicast service in
RRC-Connected state, the UE initiates the Service Request as usual.
9\. For MBS session activation, steps 6-15 of clause 7.2.5.2 of TS 23.247 [4]
is executed with the following difference:
\- For the UE(s) joined the MBS session and allowed to receive multicast
service in RRC-INACTIVE state, step 6-10 are skipped.
NOTE 2: It is to be decided by RAN WG on whether RAN initiated paging is
needed or not. If the RAN initiated paging is needed, different paging cause
can be included in the paging message for MBS session activation.
For MBS session release, steps 3-9 of clause 7.2.2.3 of TS 23.247 [4] is
executed.
### 6.4.4 Impacts on services, entities, and interfaces
UE:
\- Aware whether the group paging is for multicast session activation and
allowed to be received in RRC-inactive state.
AMF:
\- Support receive the event information from SMF and generate the
corresponding paging cause.
SMF:
\- Includes the event information and RRC-inactive reception assistance
information parameter sent to AMF.
MB-SMF
\- Notify the RRC-inactive reception assistance information to SMF.
NG-RAN:
\- Support adding paging cause for group paging per receiving paging cause and
whether the UE need go back to the RRC CONNECTED state.
## 6.5 Solution #5: Mobility Procedures for UE supporting RRC Inactive MBS
data reception
### 6.5.1 Introduction {#introduction-5}
This solution addresses Key Issue #1, especially on the mobility handling for
UE supporting RRC Inactive state MBS data receiving.
### 6.5.2 Functional description
The procedures in clause 6.5.3.1 and 6.5.3.2 are used for the UE receiving the
MBS data in RRC-inactive state, under the following mobility cases:
\- Moving within the RA.
NOTE 1: It is assumed that the NG-RAN node(s) within the same RNA have the
same MBS capability, i.e. all the NG-RAN nodes within the RNA are RRC-inactive
MBS data reception supporting.
\- Moving out of RNA and within the RA.
NOTE 2: The procedure includes a UE initiated service request handling, which
can also be used for the case without mobility.
\- Moving out of the RA.
NOTE 3: The target NG-RAN node could be either RRC-inactive MBS data reception
supporting NG-RAN or non RRC-inactive MBS data reception supporting Node.
The procedures in clause 6.5.3.3 is used for RRC-connected multicast group
member UE moves to RRC-inactive MBS reception supporting NG-RAN.
### 6.5.3 Procedures
#### 6.5.3.1 RRC-inactive multicast group member moves within RNA
Editor\'s note: The procedure of the mobility within RNA is under the
responsibility of RAN WG. It need be confirmed and defined by RAN WGs.
This clause describes the mobility procedure for the UE, which joined the MBS
session and is allowed to receive the multicast service in RRC-inactive state,
moves within RNA.
NOTE 1: It is assumed all the NG-RAN nodes within the same RNA have same RRC-
inactive MBS data reception supporting capability.
Editor\'s note: If this assumption is realistic needs to be confirmed by RAN
WGs
Editor\'s note: It is ffs how to deal with situations where the transmission
for inactive reception is nor applied everywhere, e.g. to support Rel-17 UEs
in some cells
Figure 6.5.3.1-1: Mobility procedure for multicast service received in RRC-
inactive
The UE(s) joined the multicast MBS session and is allowed to receive the
multicast service in RRC-inactive state.
1\. If due to mobility the UE finds NG-RAN is changed and no multicast data
received at the camping cell, the UE sends RRC message to target NG-RAN node.
NOTE 2: The details of what is contained in the RRC message will be decided by
RAN WG2.
Editor\'s note: How the UE determines no multicast data at the camping cell is
to be determined by RAN WGs.
Editor\'s note: Whether the target RAN node needs to obtain any information
about the MBS session and needs to broadcast any information about the
multicast session to aid the UE with the determination is ffs. How to deal
with transmission pauses is FFS.
2\. The target NG-RAN send Xn message to the source NG-RAN to get the related
multicast MBS session information. The source NG-RAN provides the related MBS
session information to target NG-RAN node.
3\. Based on the message in step 2, if the target NG-RAN has not established
the shared delivery for the indicated MBS session, the target NG-RAN trigger
to establish the shared delivery to MB-UPF as defined in clause 7.2.1.4 of TS
23.247 [4].
Editor\'s note: How to stop the MBS data transmission at the cell if there are
no RRC connected state UE and RRC inactive UE camp at that cell.
#### 6.5.3.2 RRC-inactive multicast group member UE move out of RNA and within
RA
RNA update procedures for UE in RRC_INACTIVE state are specified in TS 38.300
[13].
Editor\'s note: In this clause, the NG-RAN behaviour (e.g. interaction with
UE) is to be determined by RAN WGs, e.g. for the UE joined the multicast MBS
session and allowed receiving MBS data in RRC-inactive state, if the UE moves
out its RNA and within RA, whether the RNA update procedure is performed in
the same way as in Rel-17 is FFS.
For the UE joined the multicast MBS session and allowed receiving MBS data in
RRC-inactive state, if the UE moves out its RNA and within RA, it triggers the
RNA update procedure as specified in TS 38.300 [13]. Based on that procedure,
the UE may still in RRC Inactive state or enter RRC IDLE state per whether the
UE context can be retrieved successfully or not.
\- If the UE is in the RRC Inactive state and the network indicate support RRC
Inactive MBS data reception, the UE is aware that the multicast service can be
received in RRC Inactive state and not need perform Service Request.
Editor\'s note: How the RRC Inactive UE determines that network support RRC
Inactive reception is to be determined by RAN WGs.
\- If the UE is in the RRC Inactive state and the network does not support RRC
Inactive state MBS data reception, or in RRC Idle state, the UE invokes the
Service Request to activate the user plane of the associated PDU session ID.
During the user plane activation procedure, the SMF notifies the MBS session
ID UE joined and the RRC inactive assistance information for MBS data
receiving parameter in the N2SM Info to the NG-RAN. Per the received
information, the individual or shared delivery path between the NG-RAN node
and MB-UPF is established if needed. Later per NG-RAN configuration, the UE
may be changed to RRC Inactive state to receive the MBS data.
Editor\'s note: How the RRC Inactive UE determines that network does not
support RRC Inactive reception is to be determined by RAN WGs.
#### 6.5.3.3 RRC-connected multicast group member UE move to RRC-inactive MBS
reception supporting NG-RAN
For the UE joined the multicast MBS session and in RRC-connected state to
receive the MBS data, if the UE moves to a RRC inactive MBS reception
supporting NG-RAN, the following additions applies compared to clause 7.2.3 of
TS 23.247 [4]:
\- For Xn handover, after the SMF receives the path switch request transfer
information from target NG-RAN via AMF, the SMF includes the RRC inactive
assistance information for MBS data receiving parameter in path switch request
ACK (i.e. the N2SM Info) and sent to target NG-RAN.
\- For N2 handover, after the SMF receives the Handover Required information
from the source NG-RAN via the AMF, the SMF includes the RRC inactive
assistance information for MBS data receiving parameter in the N2SM Info and
sent to target NG-RAN within the Handover Request message via the AMF.
\- After the handover procedure, based on the received RRC inactive assistance
information for MBS data receiving parameter, the UE may be configured to RRC
inactive state to receive the multicast MBS data same as defined in solution
1.
### 6.5.4 Impacts on services, entities, and interfaces
UE:
\- When the UE receives the MBS data in RRC Inactive state and move to a new
cell but not receive the MBS data, the UE need activate the associated PDU
session via the service request or registration procedure.
SMF:
\- Include the RRC inactive assistance parameter in N2 SM Info and sent to
target NG-RAN during handover procedure.
Editor\'s note: Other impact will be determined by (and/or by collaboration
with) RAN WGs.
NG-RAN:
Editor\'s note: The impact of NG-RAN is to support the mobility within RNA. It
need be confirmed by RAN WGs.
\- Support trigger to establish the 5GC Shared MBS traffic delivery per the
received MBS session information.
Support provide the MBS session related information from source NG-RAN to
target NG-RAN.
## 6.6 Solution #6: Reusing the existing assistance info and Qos for RRC
Inactive MBS data reception decision
### 6.6.1 Introduction {#introduction-6}
This solution it to address the Key Issue #1: Multicast MBS data reception in
RRC Inactive state.
### 6.6.2 Functional description
Clause 5.3.3.2.5 of TS 23.501 [2] defines \"RRC Inactive Assistance
Information\" sent by AMF to NG-RAN. It includes DRX, eDRX, RA, Periodic
Registration Update timer, MICO mode, Information from the UE identifier,
Paging Cause Indication for Voice, PEIPS Assistance Information.
From the above Assistance information, there is no service related parameters
except voice. In this solution, it keeps the same principle, i.e. there is no
service related parameters added to the exist \"RRC Inactive Assistance
Information\".
NOTE 1: The transfer of a UE capability to receive the multicast MBS data in
RRC_INACTIVE state from UE to NG RAN is are assumed to be defined by RAN WGs.
When the UE receives the multicast data in the RRC inactive, the major impact
is the NG-RAN cannot receive the feedback, i.e. HARQ. It may cause the higher
PER. And ARP of MBS QoS flow also be used by NG-RAN to determine whether or
which MBS session can be put into RRC inactive, i.e. the member of multicast
MBS session can be moved to RRC inactive state to receive the MBS data.
Editor\'s note: Whether/how ARP of MBS Session QoS Flow can be used by NG-RAN
in determining what UEs can be moved to RRC_INACTIVE is to be determined by
NG-RAN.
So in addition to \"RRC Inactive Assistance Information\", the QoS parameters,
e.g. PER and ARP in the 5QI of MBS QoS flow can be used by NG-RAN to determine
whether the MBS session can be sent to RRC Inactive state to receives the
multicast MBS session data.
NOTE 2: The QoS parameters of MBS QoS flow is received by NG-RAN from MB-SMF
during establishment of shared delivery.
To support differentiate the UEs involving in one multicast MBS sessions, the
same mechanism can be used. During or after the UE join the multicast MBS
session, the AF may provide the PER to SMF which can be used for the
associated Qos flow. After the SMF receives the PER for the associated Qos
flow, it replaces the PER in the mapped Qos parameters of the associated Qos
flow. The PER in the 5QI and ARP of associated QoS flow can be used by NG-RAN
to determine whether the UE can be sent to RRC Inactive state to receives the
multicast MBS session data. There are two possible method to provide the
PER/ARP of associated QoS flow to SMF:
\- via PCF, in the R17, the associated QoS flow is not visible in PCF. But for
this feature, the AF need to provides the flow description (e. g, SSM), PER to
PCF, and PCF provides the rule to SMF. According to flow information (e.g.
SSM), the SMF know this is related to the associated Qos flow.
\- similar with UDM/UDR based solution, the AF provides the (PER/ARP and
related UE list) for the MBS session to UDM/UDM. The SMF obtain these
information.
NOTE 3: In the R18 SID FS_TRS_URLLC, the KI#4 \"How to enable an AF to
explicitly provide PER to NEF/PCF\" enable the AF provides the PER to PCF.
NOTE 4: The UDM/UDR based solution can refer to solution 1. AF provides the
PER, MBS session id, UE list, and UDM stores this information as a part of MBS
subscription data, during External Parameter Provisioning procedures as
defined in clause 6.4.2 of TS 23.247 [4].
NOTE 5: The NG-RAN can use the physical channel status load of the cell, or
any other logic to determine whether the UE can be sent to RRC Inactive state
meanwhile meeting the QoS requirement of the multicast service. Decision based
on the channel status is out of SA WG2 scope.
Editor\'s note: RAN WGs need to confirm the proposed NG RAN node behaviour.
### 6.6.3 Procedures
None.
### 6.6.4 Impacts on services, entities and interfaces.
AF:
\- Request PER for QoS.
PCF:
\- Map Requested PER to PCC Rule with a 5QI that reflects the Requested PER.
## 6.7 Solution #7: MOCN RAN Sharing
### 6.7.1 Introduction {#introduction-7}
This solution addresses Key Issue #2.
### 6.7.2 Functional description
This solution utilizes the associated session identifier (e.g. SSM used by AF)
to be the identifier to associate broadcast MBS sessions from different CNs
which transmitting the same content.
The AF provides the associated session ID when creating broadcast MBS sessions
with the same broadcast content. In all CNs, MB-SMF provides the associated
session ID to the NG-RAN via the AMF. And then, the NG-RAN can utilize the
associated session ID to associate those broadcast MBS sessions.
NG-RAN establishes the user planes for the first broadcast MBS session it
receives. The NG-RAN delivers the packets received from the established user
plane over the air. For the other broadcast MBS sessions which are associated
with the broadcast MBS session, the NG-RAN creates the broadcast MBS session
contexts, advertises the TMGIs, but does not establish the user planes.
In case there is a failure in the established user plane, the NG-RAN selects
another associated broadcast MBS session to establish the user plane and
continue to deliver the packets received from the newly established user plane
over the air.
Another option is to let AF select one allocated TMGI as the associated
session identifier when creating MBS sessions towards all CNs. In this case,
the NG-RAN includes only this selected TMGI in radio interface which points to
the configuration, regardless of whether the NG-RAN is dedicated or MOCN
shared. AF also includes only this selected TMGI in the service announcement,
so that UE use it to receive the broadcast MBS session data.
NOTE: The security mechanism for MBS traffic transmission specified in clause
W.4 of TS 33.501 [14] is not applicable, while the content protection in AF
can be applied for the content encryption and decryption.
### 6.7.3 Procedures
#### 6.7.3.1 General
NOTE: The message names in the procedures below are descriptive. It is assumed
that the names are updated with corresponding SBI based names where applicable
during the normative phase.
#### 6.7.3.2 MBS Session Creation
Figure 6.7.3.2-1: MBS Session Creation for MOCN RAN sharing
The following additions apply compared to clause 7.1.1.2 of TS 23.247 [4]:
8\. The AF provides the associated session ID (e.g. SSM used by AF or one TMGI
selected by AF) to the NEF/MBSF when invoking Nnef_MBSSession_Create Request.
If AF determines to use TMGI as associated session ID, it needs to select one
from those TMGIs which are to be used to create MBS sessions transmitting the
same content. The AF also uses this TMGI in the service announcement.
11\. The NEF/MBSF provides the associated session ID to the MB-SMF when
invoking Nmbsmf_MBSSession_Create Request. The MB-SMF stores the associated
session ID as a part of the MBS session context to be further distributed to
NG-RAN in clause 6.7.3.3.
The same updates apply to clause 7.1.1.3 of TS 23.247 [4].
#### 6.7.3.3 MBS Session Start for Broadcast
Figure 6.7.3.3-1: MBS Session Start for Broadcast for MOCN RAN sharing
The following additions apply compared to clause 7.3.1 of TS 23.247 [4]:
2-3. The MB-SMF provides the associated session ID in the N2 SM container to
the NG-RAN via AMF.
4\. The NG-RAN creates the Broadcast MBS Session context including the
associated session ID. If the NG-RAN determines there is already established
user plane of another broadcast MBS session which is associated (identified by
same associated session ID), the NG-RAN skips the user plane establishment of
this broadcast MBS session.
If multicast transport of N3mb applies, the NG-RAN skips step 5.
If unicast transport of N3mb applies, the NG-RAN does not allocate N3mb DL
Tunnel Info in step 6, and not include it in the N2 message towards MB-SMF in
step 6-7 or step 10-11, so that step 8 or step 12 can also be skipped.
9\. If the NG-RAN determines the radio resource of another broadcast MBS
Session is allocated which is associated (identified by the same associated
session ID), and if the associated session ID is SSM, the NG-RAN advertises
the TMGI of the broadcast MBS session and link the TMGI to the existing radio
resources.
If the associated session ID is TMGI, the NG-RAN uses the TMGI indicated in
the associated session ID in radio interface, instead of the TMGI of broadcast
MBS session.
14-15. In case the user plane of the broadcast MBS session is not established,
the NG-RAN will not receive the packets from the MB-UPF.
Editor\'s note: Details will be confirmed by the RAN WGs.
#### 6.7.3.4 MBS Session Release for Broadcast
Figure 6.7.3.4-1: MBS Session Release for Broadcast for MOCN RAN sharing
The following additions apply compared to clause 7.3.2 of TS 23.247 [4]:
5\. If the user plane of the broadcast MBS session has not been established,
the NG-RAN simply stops the advertisement of the TMGI without releasing the
user plane which hasn\'t been established. That is, step 6 is skipped for
multicast transport of N3mb, and for unicast transport of N3mb DL Tunnel Info
is not provided in steps 7-8.
If the user plane of the broadcast MBS session has been established, the NG-
RAN checks whether there are other associated broadcast MBS sessions. If there
are, the NG-RAN may trigger Broadcast MBS Session Transport Request as
specified in clause 6.7.3.5.
Editor\'s note: Details will be confirmed by the RAN WGs.
#### 6.7.3.5 Broadcast MBS Session Transport Request
When NG-RAN detects there is a failure in the user plane which causes the NG-
RAN cannot deliver the contents, the NG-RAN select another CN to trigger
Broadcast MBS Session Transport Request procedure to establish the user plane.
The selecting of CN can be up to NG-RAN implementation.
It may apply to the scenario when the broadcast MBS session is released in
that CN, whose user plane is used to content transmission, while there are
some other broadcast MBS sessions not released.
Figure 6.7.3.5-1: Broadcast MBS Session Transport Request
1\. NG-RAN select a CN to establish user plane, utilizing the broadcast MBS
session context stored in the NG-RAN.
2\. If multicast transport of N3mb applies, the NG-RAN performs join the
multicast group towards the LL SSM provided by the CN, and skip step 2 to step
5.
3\. If unicast transport of N3mb applies, the NG-RAN allocates N3mb DL Tunnel
Info, and sends N2 message (e.g. BROADCAST SESSION TRANSPORT REQUEST) to AMF,
including the MBS Session ID and the N3mb DL Tunnel Info.
4\. The AMF transfers the Namf_MBSBroadcast_ContextStatusNotify request to the
MB-SMF, which contains the N2 message.
5\. If unicast transport of N3mb applies, the MB-SMF sends an N4mb Session
Modification Request to the MB-UPF to allocate the N3mb point-to-point
transport tunnel for a replicated MBS stream for the MBS Session. The MB-UPF
sends N4mb Session Modification Response to the MB-SMF.
6\. The MB-SMF sends Namf_MBSBroadcast_ContextStatusNotify response to the
AMF, which contains the N2 information.
7\. The AMF forwards the received N2 information in N2 message (e.g. BROADCAST
SESSION TRANSPORT RESPONSE) to the NG-RAN
8\. The MB-UPF transmits the media stream to NG-RAN via N3mb multicast
transport or unicast transport.
9\. The NG-RAN brings the packets received over the air, reusing the existing
radio resource.
### 6.7.4 Impacts on services, entities and interfaces
Functional entities defined in clause 5.3.2 of TS 23.247 [4] are reused
exception for the following additions:
AF:
\- Provide the associated session ID (e.g. SSM used by AF or one TMGI selected
by AF) to 5GC when creating MBS session. If AF determines to use TMGI as
associated session ID, it needs to use this TMGI in the service announcement.
NEF:
\- Provides the associated session ID to the MB-SMF if received in MBS Session
Creation.
MB-SMF:
\- Provides the associated session ID to the NG-RAN if received in MBS Session
Start for Broadcast.
NG-RAN:
\- Support the associated session ID and understand the association among
those broadcast MBS sessions which delivers the same content. If the
associated session ID is TMGI, the NG-RAN uses the TMGI indicated in
associated session ID in radio interface, instead of the TMGI of broadcast MBS
session.
\- When broadcast MBS session start, if there is already established user
plane of associated broadcast MBS session, the NG-RAN skips the user plane
establishment of the broadcast MBS session.
\- When broadcast MBS session release, if the user plane hasn\'t been
established, the NG-RAN skips the user plane release of the broadcast MBS
session. If the user plane has been established and there are some other
associated broadcast MBS sessions, the NG-RAN may trigger Broadcast MBS
Session Release Require procedure for each associated broadcast MBS session or
trigger Broadcast MBS Session Transport Request procedure.
\- When NG-RAN detects there is a failure in the CN which causes the NG-RAN
cannot deliver the contents, the NG-RAN select another CN to trigger Broadcast
MBS Session Transport Request procedure to establish the user plane.
## 6.8 Solution #8: Allocating and using MOCN TMGI
### 6.8.1 Introduction {#introduction-8}
This solution addresses key issue #2 \"5MBS MOCN Network Sharing\".
### 6.8.2 Functional description
The proposed solution introduces a MOCN TMGI used for MBS session when the
related MBS service needs to be provided over PLMNs sharing NG-RANs. The MOCN
TMGI is identified by a shared PLMN ID it includes. A MOCN TMGI is allocated
by one of the PLMNs and the MBS session identified by the MOCN TMGI is
established only with the PLMN that has allocated the MOCN TMGI. The AF
transmits the DL media stream to the PLMN that the MBS session was
established. Therefore, the NG-RAN shared by the multiple PLMNs receives the
DL media stream only from the 5GC of the PLMN that the MBS session was
established and transmits the media stream by using the MOCN TMGI.
For the MOCN TMGI, a Shared PLMN ID needs to be created and used by the PLMNs
sharing NG-RANs. All the MB-SMFs in the PLMNs sharing NG-RANs are configured
with the Shared PLMN ID so that the MB-SMFs can allocate the MOCN TMGIs. The
MB-SMF understands whether a TAI is for shared NG-RAN or not by local
configuration.
Figure 6.8.2-1 shows an MBS example scenario including MOCN network sharing,
specifically:
\- The AF wants to provide MBS service over PLMN-A, PLMN-B, PLMN-C and PLMN-D,
i.e. to the UEs that are served by these PLMNs.
\- UE-A, UE-B, UE-C and UE-D are served by PLMN-A, PLMN-B, PLMN-C and PLMN-D,
respectively.
\- NG-RAN#1 is shared by PLMN-A, PLMN-B and PLMN-C while NG-RAN#2 belongs only
to PLMN-D.
\- NG-RAN#1 and NG-RAN#2 covers the MBS service area for the MBS service
provided by the AF.
\- The AF is configured about which PLMNs share the NG-RAN, i.e. PLMN-A,
PLMN-B and PLMN-C based on service level agreements with the PLMNs.
Figure 6.8.2-1: MBS example scenario including MOCN network sharing
The outline of the proposed solution for allocating and using MOCN TMGI is as
below:
\- The AF performs TMGI allocation with only one PLMN among PLMNs sharing the
NG-RANs to obtain a TMGI to identify new MBS session by indicating that MOCN
TMGI allocation is requested (e.g. with PLMN-A in Figure 6.8.2-1).
\- The MB-SMF allocates a MOCN TMGI and returns it to the AF.
\- The AF performs MBS session establishment with the PLMN that has allocated
the MOCN TMGI.
\- The AF transmits the DL media stream to the PLMN that the MBS session was
established.
### 6.8.3 Procedures
#### 6.8.3.1 Procedure for Broadcast using MOCN TMGI
Figure 6.8.3.1-1 shows the procedure for Broadcast using MOCN TMGI. This
procedure is based on the MBS example scenario depicted in Figure 6.8.2-1.
Figure 6.8.3.1-1: Procedure for Broadcast using MOCN TMGI
1\. The AF requests TMGI allocation with one of PLMNs that it wants to provide
broadcast service over. In this figure, the AF performs TMGI allocation with
PLMN-A to obtain a TMGI to identify new MBS session.
Steps 1 to 6 in clause 7.1.1.2 or clause 7.1.1.3 of TS 23.247 [4] are
performed with the following differences:
\- In step 1, the following information is provided by the AF when requesting
TMGI allocation.
a) A list of PLMNs that the AF wants to provide MBS service (i.e. PLMN-A,
PLMN-B, PLMN-C in this figure).
b) Indication that MOCN TMGI allocation is requested.
NOTE 1: In Rel-17, the MBS service area is provided by the AF to indicate the
possible service area for those TMGI(s) to be allocated, which may be needed
for local MBS. In this solution, the MBS service area from the AF can be used
for the MB-SMF to check whether all the MBS service area\'s NG-RANs are shared
by the PLMNs that the AF wants to provide MBS service.
\- In step 5, the MB-SMF allocates a MOCN TMGI based on the information
provided by the AF and local configuration related to MOCN network sharing. In
this figure, the local configuration related to MOCN network sharing is that
PLMN-A, PLMN-B and PLMN-C share NG-RANs. If some of the NG-RANs in the MBS
service area provided by the AF are not shared by all the PLMNs that the AF
wants to provide MBS service (i.e. some of the NG-RANs in the MBS service area
provided by the AF are dedicated to specific PLMN), the MB-SMF allocates a
MOCN TMGI only for the MBS service area served by the NG-RANs that are shared
by those PLMNs.
\- In step 5, the following information is provided by the MB-SMF when
returning the TMGI.
i) Indication that MOCN TMGI is allocated.
ii) MBS service area that the allocated MOCN TMGI applies, if the MOCN TMGI
does not apply to all the MBS service area that the AF provided when
requesting TMGI allocation.
If the MOCN TMGI allocated by the MB-SMF does not apply to all the MBS service
area that the AF wants to provide MBS service, the AF performs TMGI allocation
and MBS session creation with each PLMN for the MBS service area that the MOCN
TMGI does not apply. The AF also may perform a Service Announcement including
the TMGI dedicated to the PLMN to the UE in the PLMN.
2\. The AF may perform a Service Announcement including the MOCN TMGI towards
UE-A, UE-B and UE-C.
NOTE 2: When the UE receives Service Announcement including MOCN TMGI for
shared NG-RAN(s) and Service Announcement including non-MOCN TMGI for
dedicated NG-RAN(s) (i.e. TMGI dedicated to the PLMN) for same service from
the AF, the service layer (e.g. 5MBS client, MC service client) or the
application layer of the UE needs to understand these two TMGIs are for same
service based on the information in the Service Announcements, e.g. SDP info
with IP multicast address and port#, Service ID.
3\. The AF performs TMGI allocation with PLMN-D to obtain a TMGI to identify
new MBS session as specified in steps 1 to 6 in clause 7.1.1.2 or clause
7.1.1.3 of TS 23.247 [4].
The MBS session identified by the MOCN TMGI allocated in step 1 and the MBS
session identified by the TMGI allocated in this step are for the same
broadcast service.
Step 1 and step 3 can be performed in parallel.
4\. The AF may perform a Service Announcement towards UE-D.
5\. The AF performs MBS session creation with PLMN-A by providing description
for the MBS session for a previously allocated MOCN TMGI in step 1, as
specified in step 8 in clause 7.1.1.2 or clause 7.1.1.3 of TS 23.247 [4].
6-7. The MBS session is established in PLMN-A as specified in steps 9 to 20 in
clause 7.1.1.2 or steps 9 to 33 in clause 7.1.1.3 of TS 23.247 [4].
The AF may also perform a Service Announcement towards UE-A, UE-B and UE-C at
this stage.
8\. The AF performs MBS session creation with PLMN-D by providing description
for the MBS session for a previously allocated TMGI in step 3, as specified in
step 8 in clause 7.1.1.2 or clause 7.1.1.3 of TS 23.247 [4].
9-10. The MBS session is established in PLMN-D as specified in steps 9 to 20
in clause 7.1.1.2 or steps 9 to 33 in clause 7.1.1.3 of TS 23.247 [4].
The AF may also perform a Service Announcement towards UE-D at this stage.
11\. The AF starts transmitting the DL media stream to PLMN-A as specified in
step 13 in clause 7.3.1 of TS 23.247 [4].
12\. The MB-UPF of PLMN-A transmits the media stream to NG-RAN via N3mb
multicast transport or point-to-point transport.
13\. NG-RAN#1 shared by PLMN-A, PLMN-B and PLMN-C transmits the received DL
media stream using DL PTM resources.
UE-A, UE-B and UE-C can receive the media stream.
14\. The AF starts transmitting the DL media stream to PLMN-D as specified in
step 13 in clause 7.3.1 of TS 23.247 [4]. The DL media stream is same to that
in step 11 which means the AF transmits the same DL media stream to PLMN-A and
PLMN-D.
Step 11 and step 14 can be performed in parallel.
15\. The MB-UPF of PLMN-D transmits the media stream to NG-RAN via N3mb
multicast transport or point-to-point transport.
16\. NG-RAN#2 of PLMN-D transmits the received DL media stream using DL PTM
resources.
UE-D can receive the media stream.
### 6.8.4 Impacts on services, entities and interfaces
AF:
\- supports MOCN TMGI allocation request.
MB-SMF:
\- supports MOCN TMGI allocation.
NEF:
\- Nnef_MBSTMGI_Allocate service operation supports additional parameters
related to MOCN TMGI allocation.
UE:
\- supports MOCN TMGI.
NG-RAN:
\- supports MOCN TMGI.
## 6.9 Solution #9: Broadcast services considering MOCN RAN
### 6.9.1 Introduction {#introduction-9}
This solution addresses Key Issue #2.
### 6.9.2 Functional description
It is assumed to reuse the current architecture in Rel-17 MBS specification
(see TS 23.247 [4]).
A TMGI is assigned and used for a broadcast service in an operator\'s network.
However, if an NG-RAN is shared among operators, a primary TMGI may be
selected and used instead of the TMGI in the shared NG-RAN if MOCN operators
share a same broadcast service.
### 6.9.3 Procedures
#### 6.9.3.1 General
When a broadcast service is shared among operator\'s networks, the contents
provider may recognize the using TMGI for each operator. So that if the
operators share some NG-RAN(s) (call MOCN NG-RAN), AF/ contents provider may
provide the TMGI list for the broadcast service to 5GS.
Then, the MOCN NG-RAN decides to use a primary TMGI out of the TMGI list, and
the primary TMGI and its usage area (i.e. NG-RAN location or Cell IDs) is
notified to AF so that such information can be announced to the UEs.
NOTE: Security (i.e. en/decryption of content) is assumed to be not supported
in 5GS, but possible by application layer.
#### 6.9.3.2 Broadcast Session Start procedure
Figure 6.9.3.2-1: Broadcast Session start for MOCN NG-RAN
The following additions apply compared to clause 7.3.1 of TS 23.247 [4]:
0-3. AF performs TMGI allocation and MBS session creation as specified in
clause 7.1.1.2 or clause 7.1.1.3 of TS 23.247 [4]. The AF provides
additionally the TMGI list for the broadcast service which each operator uses
in MBS session creation request.
5-6. MB-SMF invokes Namf_MBSBroadcast_ContextCreate Request including AF may
provide the TMGI list for the broadcast service which each operator uses in
the N2 SM container.
7\. NG-RAN node creates a Broadcast MBS Session Context. If the NG-RAN is MOCN
NG-RAN, it selects a primary TMGI out of the TMGI list.
NOTE 1: How to select a primary TMGI follows local policy or NG-RAN
implementation.
8-12. NG-RAN responds additionally the primary TMGI and its location(e.g. Cell
ID(s)) if the NG-RAN is MOCN NG-RAN, where such information is delivered to
AF. At step 10 MB-SMF lets MB-UPF block and not deliver Broadcast service
media stream to the NG-RAN if TMGI is different from the primary TMGI.
13\. MOCN NG-RAN advertises the primary TMGI for the broadcast service instead
of using the TMGI for operator\'s network.
Editor\'s note: Details will be confirmed by the RAN WGs.
14\. Service announcement to UEs includes the primary TMGI and its usage area
(i.e. NG-RAN location or Cell IDs) as well as the TMGI for operator\'s
network.
Editor\'s note: Whether it is possible to prevent that each NG-RAN node
selects a different primary TMGI and a number of TMGIs with potentially
complicated location areas thus needs to be included in the service
announcement is FFS.
15\. Broadcast service media stream is delivered to MOCN NG-RAN.
NOTE 2: Broadcast service media stream is not delivered to MOCN NG-RAN via
each operator\'s TMGI which is different from the primary TMGI.
16\. MOCN NG-RAN uses the primary TMGI only instead of TMGI for the same
broadcast service.
17\. UE receives the broadcast service via the primary TMGI when it is in the
MOCN NG-RAN.
#### 6.9.3.3 Broadcast Session update and release procedure
The clause 7.3.3 of TS 23.247 [4] is used when the broadcast MBS session is
updated, which is triggered from AF or contents provider.
However, when the primary TMGI can not be used longer in the NG-RAN e.g. due
to the TMGI\'s PLMN becomes not to share the NG-RAN, NG-RAN should select
another valid TMGI as a primary TMGI and update the broadcast MBS session with
the new primary TMGI for the other PLMNs than the old primary TMGIs as in the
following figure.
Figure 6.9.3.3-1: NG-RAN triggered primary TMGI update procedure
0\. Broadcast service media stream is delivered to MOCN NG-RAN via the primary
TMGI.
1-2. When the primary TMGI is not valid any more, it selects a new primary
TMGI.
3\. For the old primary TMGI, NG-RAN performs the broadcast release
require(the clause 7.3.6 of TS 23.247 [4]) for the old primary TMGI.
For the other TMGIs than the old primary TMGI, steps 4 \~13 are applied.
4-5. The new primary TMGI is updated in the MBS Broadcast context in AMF and
MB-SMF.
6\. In case that the new primary TMGI only is used for broadcast traffic
delivery among the shared PLMNs, MB-SMF may update the forwarding rules in the
MB-UPF(e.g. for other PLMN than the primary TMGI, MB-UPF is allowed to block
the broadcast traffics to NG-RAN, which are duplicated with the primary TMGI)
9\. MOCN NG-RAN advertises the new primary TMGI for the broadcast service
instead of using the old primary TMGI.
10-11. Information on the primary TMGI update is notified to AF.
12-13. AF updates the primary TMGI and announces the UEs.
Editor\'s note: It is FFS whether there can be service interruptions until the
UEs receive the updated service announcement.
14-15. via the new primary TMGI the broadcast service is performed in the MONC
NG-RAN.
The following additions apply compared to clause 7.3.2 of TS 23.247 [4] when
the broadcast MBS session is released:
\- If the broadcast MBS session is used as the primary TMGI in the NG-RAN, NG-
RAN should select another valid TMGI as a primary TMGI, and for the other
PLMNs than the old primary TMGIs the broadcast MBS session should be updated
as above procedure.
### 6.9.4 Impacts on services, entities and interfaces
Editor\'s note: This clause describes impacts to existing services, entities
and interfaces.
Functional entities defined in clause 5.3.2 of TS 23.247 [4] is reused
exception for the following additions:
AF, NEF:
\- Support to provide the TMGI list for the broadcast service which each
operator uses in MBS session creation request only when there exists a MOCN
NG-RAN among operators.
\- Obtain a primary TMGI which will be used in the MOCN NG-RAN and announce to
UEs the primary TMGI and its usage area.
MB-SMF:
\- Send TMGI list of other networks for a same broadcast service to NG-RAN
node.
\- Let MB-UPF block and not deliver Broadcast service media stream to the NG-
RAN node if TMGI is different from the primary TMGI.
NG-RAN:
\- In the case of MOCN NG-RAN, decide the primary TMGI for a same broadcast
service, which will be used for the broadcast service in the MOCN NG-RAN.
\- NG-RAN does not receive broadcast service media stream for the TMGI of MBS
session establishment if TMGI is different from the primary TMGI.
UE:
\- Receive the broadcast service via the primary TMGI in the MOCN NG-RAN.
Editor\'s note: other additional impacts are FFS.
## 6.10 Solution #10: AF triggered MBS session management
### 6.10.1 Introduction {#introduction-10}
This solution addresses Key Issue #3.
This solution addresses the case that AF dynamically demands 5GC to use
multicast transport for the content delivery, e.g. due to publisher
dynamically provides the service and APP in UE interacts with AF for content
fetching of the service, and according to the response from 5GC to select
unicast mode for content delivery, e.g. UE does not support multicast
transport (out of the scope of this study). The service may contain multiple
media streams but only part of the media streams is demanded to use multicast
transport.
### 6.10.2 Functional description
It is most popular today that content provider provides video to users via APP
in UE, but in unicast transport style. Live stream dramatically grows today,
which also uses unicast transport. The video services provided by AF can not
only be published by the content provider, but also can be published by users
of the content provider dynamically. The consumer will not only be a receiver
in today\'s video stream services, but also a participant to interact with the
services, such as sending message to interact with the live stream
salesperson, sending message when watching a video to share with all the
viewers.
In most cases, the users visit the portal for requesting the content, and the
AF holds most business logic for providing the services, e.g. the location
related operations, the user authentication and authorization per the AF
instead of the service, etc. And the service, in most cases, will contain
multiple media streams that only part of the steams is demanded to be
delivered via multicast transport. This business model is consistent for
services provided by AF.
In order to use multicast transport for multicast streams of those services,
the 5GC needs to identify the multicast data and uses multicast transport for
the delivery and do not impact the AF service logic. And in order to not
limiting the consumers based on the UE capability, the 5GC and AF needs to
prepare unicast mode in case the UE does not support receiving data with
multicast transport (this is out of the scope of this study).
Editor\'s note: Further explanation is required why the use cases in this
clause cannot be addressed with Rel-17 MBS procedures.
The Rel-17 MBS AF may first request TMGIs (optional), creates the MBS session,
and may provision the authorization information for allowing UEs to join
(optional).
This solution provides a way for AF to deliver the traffic and knows who
really joins the session for starting the interactive data exchange.
Editor\'s note: Multicast traffic delivery is typically not started each time
a user joins a session. The AF could also know that a user requested to join a
session via the same application level interactions if the UE subsequently
sends the join request as in Rel-17.
This solution is based on the unicast business model that UE requests service
from AF and AF requests resources from 5GC both for unicast and multicast
transport for different flows.
Editor\'s note: For unicast delivery no AF interactions are required unless
sponsored connectivity or special QoS is envisioned.
Editor\'s note: Compared to the Rel-17 interactions, sending separate join
request for all UES may lead to far more signalling interactions between AF
and network.
### 6.10.3 Procedures
#### 6.10.3.1 General
Following figure 6.10.3.1-1 shows the general concept of the solution:
Figure 6.10.3.1-1: General concept
The AF delivers the multicast data of different multicast sessions to the 5GC,
which may be in a tunnel between the AF and the 5GC if the transport network
between the AF and 5GC does not support multicast. The AF can send multiple
MBS Session data in one tunnel, the 5GC distinguishes the multicast session
based on the mapping between the packet filters and the MBS Session ID. The
content delivery is requested by the UEs over application layer, and the AF
handles the service logic.
Besides service announcement, the content provider may use a portal, which is
out of 3GPP scope, to publish the services, which may be dynamically
published, e.g. a live stream arranged by a live streamer, a live interview
for breaking news, etc. The user may visit the portal via an APP in the UE and
request the content of an MBS service, which may be interactive MBS service,
i.e. contains multicast service data and unicast service data. Although
service announcement for MBS Session is supported, but currently most content
providers still want to use web portal, which is consistent as unicast service
announcement.
Editor\'s note: Rel-17 allows for application dependent service announcements.
Similar as unicast business model, the AF of the content provider sends the
flow descriptions per UE, which includes different multicast services, to the
5GC for asking transport for the services, but the flow descriptions includes
multicast information, which could be seen as AF proxies the UE join to 5GC.
Editor\'s note: For unicast delivery no AF interactions are typically
required.
Editor\'s note: For multicast, flow description will not depend on the UE and
it may be preferable to provide it only a single time for an MBS session to
avoid duplicated signalling.
#### 6.10.3.2 AF triggered MBS Session management procedures with PCC
This procedure is for AF triggered MBS Session Join or Leave when dynamic PCC
is deployed. If the transport network between the AF and the 5GC does not
support multicast transport, pre-configured tunnel is used for delivering
multicast data from the AF to the 5GC.
Figure 6.10.3.2-1: AF triggered MBS Session management procedures with PCC
1\. The UE established a PDU Session as described in clause 7.2.1.2 of TS
23.247 [4], during the PDU Session Establishment procedure, the UE indicates
the MBS capability to SMF. The content provider may use a portal to publish
the services, which may be dynamically published, e.g. a live stream arranged
by a live streamer, a live interview for breaking news, etc. The user may
visit the portal via an APP in the UE and request the content of an MBS
service or stops the content of an MBS service, which may be interactive MBS
service, i.e. contains multicast service data and unicast service data. The
APP sends UE address and the UDP port for receiving the multicast data to the
AF.
NOTE: In case the UE has multiple PDU Sessions, the URSP in the UE needs to
make sure that the APP uses the associated PDU Session for unicast traffic
delivery.
2-5. The steps are same as described in clauses 4.15.6.6 and 4.15.6.6a of TS
23.502 [3], with following differences:
\- The name of service operations exposed by NEF is different, and the flow
description(s), if included, includes some packet filters that additionally
contains IP multicast address to indicate that the data of the unicast flow
can be alternatively sent via multicast (in case unicast transport is used,
the network can know that it is for a multicast service), c.f. figure
6.10.3.1-1.
\- The flow description(s) sent to PCF includes some packet filters that
additionally contains IP multicast address.
\- If the MBS Session has not been created, the steps 10-17 in clause 7.1.1.2
or steps 10-26 in clause 7.1.1.3 of TS 23.247 [4] are performed to create the
MBS Session.
If the AF is in trust domain, the AF can perform steps 3, 5, and 11 directly.
6\. The PCF invokes Policy Update Notify towards the SMF, which includes
unicast QoS information and flow description(s) that additionally contains IP
multicast address (i.e. multicast flow descriptions).
7\. The SMF may initiate PDU Session Modification procedure for updating
unicast QoS flows.
8\. **MBS Session Join:** For multicast flow creation, the steps 2-4 in clause
7.2.1.3 of TS 23.247 [4] are performed with following differences:
\- If the authorization fails (feature level authorization is used for this
procedure, i.e. whether the UE is allowed to use 5MBS or not based on
subscription), go to step 10 and SMF indicates cause value to the PCF. The AF
can use unicast transport for the multicast data delivery.
**MBS Session Leave:** For multicast flow releasing, the steps 3-6 in clause
7.2.1.4 of TS 23.247 [4] are performed with following differences:
\- If the MB-SMF does not serve the MBS Session any more (i.e. all SMFs
unsubscribed the MBS Session Context Status), steps 6-8 in clause 7.1.1.4 or
7-11 in clause 7.1.1.5 of TS 23.247 [4] are performed to delete the MBS
Session.
9\. **MBS Session Join:** For multicast QoS information creation, steps 5-12
described in clause 7.2.1.3 of TS 23.247 [4] are performed with following
differences:
\- The step 5 is Namf_Communication_N1N2MessageTransfer. If the MBS capability
of UE is received and multicast streams are demanded, the SMF includes QoS
rules for DL only in the N1 Message Container in step 5, which will include
MBS Session ID as a parameter in the QoS rules for DL only. The QoS rules for
DL only can be used by the UE to perform NATP, i.e. transfer the IP multicast
address in the received multicast packets to the UE IP address, and to
transfer the destination UDP port in the received multicast packets to the UDP
port that the APP in the UE used to receive the data.
\- If the MBS capability of UE is not received, the SMF does not include MBS
Session related information in the N2 SM info send to NG-RAN (i.e. individual
delivery is selected), as well as instructs the UPF to perform NATP as
described in above bullet for the incoming multicast data of the MBS Session
towards the UE (i.e. unicast mode is selected).
\- If unicast QoS parameters are received in step 6, the SMF also update the
unicast QoS flows during the PDU Session Modification procedure.
\- If the UE denies the join, it can send a cause value to the SMF via PDU
Session Modification Ack, and MBS session leave for the UE is triggered by the
SMF then.
**MBS Session Leave:** For multicast QoS information removal, steps 3-11 and
13 described in clause 7.2.2.2 of TS 23.247 [4] are performed with following
differences:
\- The step 7 is Namf_Communication_N1N2MessageTransfer, and the SMF also
update the unicast QoS flows during the PDU Session Modification procedure if
unicast QoS flows need to be updated.
10\. The SMF notifies the PCF.
11\. The PCF Notifies the NEF with cause value related to MBS.
12\. The NEF notifies the AF with the cause value. If the PCF does not support
MBS (i.e. no corresponding cause value indicated), the corresponding unicast
QoS flow will be established, the AF can use unicast transport for the
multicast data delivery.
#### 6.10.3.3 AF triggered MBS Session management procedures without PCC
This procedure is for AF triggered MBS Session Join or Leave when dynamic PCC
is not deployed. If the transport network between the AF and the 5GC does not
support multicast transport, pre-configured tunnel is used for delivering
multicast data from the AF to the 5GC.
Figure 6.10.3.3-1: AF triggered MBS Session management procedures without PCC
0\. After the PDU Session Establishment procedure, the SMF creates the SMF-NEF
connection with the NEF similar as described in clauses 4.25.2 and 5.2.6.15 of
TS 23.502 [3], during which the SMF sends the UE address, i.e. IP address, to
the NEF. The difference is that the subscription of the UE includes the NEF ID
for MBS, the NIDD information in the request to the NEF is changed to MBS
information with same content, i.e. GPSI, AF ID, and additional UE address is
included.
1\. Same as steps 1-2 in clause 6.10.3.2.
2\. The NEF invokes the MBS On-demand Session Create/Update with SSM towards
the SMF.
3\. Same as steps 7-8 in clause 6.10.3.2.
4-5. The SMF responds to the NEF. The NEF responds to the AF.
6\. Same as step 9 in clause 6.10.3.2.
7-8. The SMF notifies to the NEF. The NEF notifies to the AF.
### 6.10.4 Impacts on services, entities and interfaces.
**UE:**
\- May support indicating MBS capability to SMF during PDU Session
Establishment.
\- May support NATP performance for incoming multicast data.
**NEF/MBSF:**
\- Support handling on-demand MBS Session service to AF (similar as AF Session
with QoS service).
\- May support additionally handling UE address during SMF-NEF connection
establishment procedure as described in TS 23.502 [3] clause 4.25.2, which is
used to find out the serving SMF.
**SMF:**
\- Support determining delivery method and instructs UPF to perform NATP for
multicast data based on UE MBS capability.
\- May support sending UE address during the SMF-NEF connection establishment
procedure to NEF after associated PDU Session Establishment.
**PCF:**
\- Support handling flow description(s) with SSM.
\- Support sending cause value for handling multicast flows to NEF/AF.
## 6.11 Solution #11: Solution on enabling the on-demand multicast MBS session
management
### 6.11.1 Introduction {#introduction-11}
This solution addresses Key Issue #3: On demand multicast MBS session.
### 6.11.2 Functional description
#### 6.11.2.1 Use cases
The use case for on demand MBS multicast session can be described as follows.
One typical use case for KI #3 is the content provider delivering its content.
Before a content provider (CP) delivers content, its subscriber needs to
firstly request the content by sending application level request (e.g.
clicking the \"view\" link). Such framework doesn\'t take into consideration
of the scale of the amount of subscribers.
As analysed by S2-2006311:
_if the requested content is real-time, popular, and high data rate (e.g.
World Cup Soccer matches, American Football games or Chinese Spring Festival
Gala), a huge number of viewers simultaneously watching will put a huge burden
on the network service providers (SPs)._
_As more and more people watch content on their UEs, this will also impact
MNOs because many duplicate copies of the same content will be delivered by
the MNOs._
One way to resolve the large scale delivery of real-time high data rate
content is to enable on-demand multicast MBS session management triggered by
the AF.
The trigger by the AF for enabling the on-demand multicast MBS session
management, can be further based on network analysis result. To this end, the
AF or CP subscribes to or requests the network analytics information from the
NWDAF as specified in TS 23.288 [10]. Based on the analytics information, e.g.
Observed Service Experience analytics defined in clause 6.4 of TS 23.288 [10],
the AF decides to set/update the multicast related service parameters.
For one AF session, the AF uses \"AF session with required QoS update\"
procedure\" defined in clause 4.15.6.6a to provide multicast related service
parameters, including a multicast indication which indicates that the service
data flows of the AF session can be transmitted over a multicast MBS session
identified by an MBS session ID, to the PCF via the NEF. Based on multicast
related service parameters, the PCF provides the multicast service related
policy in PCC rules to the SMF. Then the SMF decides to initiate a multicast
MBS session join/establishment procedure based on the multicast service
related policy.
The following procedures is on top of the procedures specified in clause
7.2.1.3 in TS 23.247 [4].
### 6.11.3 Procedures
#### 6.11.3.1 on-demand multicast MBS session management
Figure 6.11.3.1-1: On-demand multicast MBS session establishment
The key steps of the procedure for this solution are as follows:
1\. MBS Session Creation with PCC procedure is performed as specified in
clause 7.1.1.3 of TS 23.247 [4], where the AF may perform a Service
Announcement towards the UEs.
2\. The AF decides to set or update multicast related service parameters,
including the multicast indication, for specific services/applications. The AF
may, based on local configuration or triggered by e.g. event report from the
NEF, subscribe to or requests network analytics information (e.g. Observed
Service Experience analytics) from the NWDAF as specified in TS 23.288 [10],
and decide to update the multicast related service parameters based on the
analytics information.
The AF provides updated service parameters, which include the multicast
indication and a MBS Session ID for the multicast MBS session to be
established, to the PCF via the NEF by using Nnef_AFsessionWithQoS_Update
request (as defined in clause 4.15.6.6a of TS 23.502 [3]). The \"AF session
with required QoS update\" procedure continues as defined in TS 23.502 [3] and
the PCF receives the updated service parameters.
NOTE 1: Those procedures are meant for individual UE joining the MBS session,
and are not meant for an MBS session. If AF may send multiple requests in case
multiple UEs are involved. Legacy procedures including PCF selection will be
reused.
NOTE 2: It is assumed AF can have the private IP address by e.g. application
level interaction, public safety AF and so on.
3a. The PCF initiates SM Policy Association Modification procedure as defined
in clause 4.16.5.2 of TS 23.502 [3] to notify the SMF, with the multicast MBS
session ID.
4a. Steps 2-19 specified in clause 7.2.1.3 of TS 23.247 [4] are reused to
complete on-demand multicast MBS session establishment, for the UEs subscribed
to the multicast MBS Session and with an associated PDU Session established
for the multicast MBS Session, and Namf_Communication_N1N2MessageTransfer is
used in step 5 instead of Nsmf_PDUSession_UpdateSMContext response message.
The UE is informed of successfully joining the multicast MBS session upon
receiving the PDU Session Modification Command which contains the MBS Session
ID.
### 6.11.4 Impacts on services, entities and interfaces.
AF:
\- The AF needs to support triggering the on-demand multicast MBS Session
establishment, based on e.g. the network analytics information provided by the
NWDAF.
PCF:
\- The PCF is enhanced to provide to the SMF(s) the multicast service related
policy, i.e. MBS session ID that the AF request UE to join, for triggering the
SMF(s) to complete the on-demand multicast MBS session establishment.
## 6.12 Solution #12: Group Message Delivery
### 6.12.1 Introduction {#introduction-12}
This solution addresses the following aspect in Key Issue #4: Whether and how
to enhance the MBS functionality to provide a similar group message delivery
as available in eMBMS.
### 6.12.2 Functional description
This solution describes a NEF-based group message delivery via MBS method,
which is comparable to the SCEF-based group message delivery via MBMS.
This solution utilizes the Object Delivery Method in MBSTF specified in TS
26.502 [11] for the group message delivery via MBS. The Object Delivery Method
in MBSTF is equivalent to the File Delivery Method in eMBMS. The Object
Delivery Method can benefit from Application Layer Forward Error Correction
(AL-FEC) to achieve the reliable delivery, which is essential for group
message delivery.
The NEF is responsible to handle Group Message Delivery request from the AF.
It transforms the group message into a file and determine the meta data
information of the file. In control plane, it performs Application Service
Provisioning including MBS User Service creation and MBS User Data Ingest
Session creation, which triggers the MBS session creation and MBS session
start for broadcast towards 5GC and NR. In user plane, it is responsible for
ingesting the file to the MBSTF, so that MBSTF can deliver the file to UE via
5GC shared traffic delivery and NR broadcast.
### 6.12.3 Procedures
#### 6.12.3.1 General
NOTE: The message names in the procedures below are descriptive. It is assumed
that the names are updated with corresponding SBI based names where applicable
during the normative phase.
#### 6.12.3.2 Group Message Delivery via MBS Broadcast
Figure 6.12.3.2-1: Group Message Delivery via MBS Broadcast.
NOTE 1: In the procedures referred to the TS 26.502 [11], the NEF is the MBS
Application Provider.
1\. The AF sends Group Message Request to the NEF, containing the Group
Message Payload, MBS service area, Group Message Delivery Start Time, Stop
Time, External Group Identifier.
2\. The NEF checks authorization of AF. If geographical area information or
civic address information was provided by the AF as MBS service area, the NEF
translates the MBS service area to Cell ID list or TAI list.
NOTE 2: The NEF is mandated for group message delivery.
3\. The NEF transforms the group message payload into a file, and determines
the meta data information of the file (e.g. File URL, etc.). The NEF assigns a
TLTRI that identifies this Group Message Request.
If Application Service Provisioning hasn\'t been performed, step 4 to step 8
needs to be executed. Otherwise, they can be skipped.
4\. The NEF performs Application Service Provisioning towards the MBSF as
specified in step 1 in clause 5.2 of TS 26.502 [11], which including invoking
Nmbsf_MBSUserService_Create and Nmbsf_MBSUserDataIngestSession_Create on the
MBSF.
\- The Target service area is set to MBS Service Area.
\- The Distribution method is set to Object Distribution Method which is used
for file delivery.
\- The Distribution Operating Mode is set to File or Carousel depends on the
decision of the NEF.
\- The Object acquisition method is set to Push or Pull depends on the
decision of the NEF.
5\. The MBSF performs MBS Session Creation as specified in clause 7.1.1.2 or
clause 7.1.1.3 of TS 23.247 [4].
6\. The MBSF performs Distribution Session Provisioning as specified in step 2
in clause 5.2 of TS 26.502 [11]. The MBSF invokes
Nmbstf_MBSDistributionSession_Create on the MBSTF, passing the parameters of
the MBS Distribution Session received in step 4 to the MBSTF.
7\. The MB-SMF initiates the MBS Session Start for Broadcast procedure as
specified in step 2 to step 9 in clause 7.3.1 of TS 23.247 [4].
8\. If the MBSF performs the service announcement, it initiates the MBS User
Service Announcement as specified in step 3 in clause 5.2 of TS 26.502 [11].
The application may receive the appropriate information through the MBS-6 API
from the MBS Client (see TS 26.502 [11]). The NEF may receive the service
announcement information via Nmbsf_MBSUserDataIngestSession_StatusNotify
callback service operation (see TS 26.502 [11]).
9\. The NEF sends Group Message Response to the AF, containing TLTRI,
Acceptance Status, Cause. The Acceptance Status indicates whether the group
message request is accepted or not. If not, the Cause indicates the
appropriate failure reason. If the AF performs the service announcement, the
service announcement information containing the file meta data can be
optionally included in the Group Message Response.
10\. If the AF needs to perform the Service Announcement, the AF sends the
application service announcement to the UE as specified in step 4 in clause
5.2 of TS 26.502 [11].
11\. The NEF performs the User Data Ingestion towards the MBSTF as specified
in step 5 in clause 5.2 of TS 26.502 [11]. The NEF may push the file to the
MBSTF or let MBSTF pull the file from the NEF.
12\. The MBSTF performs packetization and optionally FEC encoding as specified
in clause 4.3.3.2 of TS 26.502 [11].
13\. The MBSTF delivers the packets to the MB-UPF to NG-RAN, and NG-RAN
broadcast to the UE as specified in step 13 to step 15 in clause 7.3.1 of TS
23.247 [4].
14\. Based on the service announcement information received in step 8 or step
10, the UE receives the packets, is required performs FEC decoding to restore
the file, and gets the group message from the file, using the MBS Client as
specified in clause 4.3.5 of TS 26.502 [11]. The MBS Client can expose the
file towards the application in the UE using the MBS-7 API (see TS 26.502
[11]).
15\. The NEF sends a Group Message Delivery to the AF, containing TLTRI,
Delivery Status. The Delivery Status indicates whether delivery of Group
Message Payload corresponding is successful or not. The delivery status
information is received by the NEF via
Nmbsf_MBSUserDataIngestSession_StatusNotify callback service operation (see TS
26.502 [11]).
#### 6.12.3.3 Modification of previously submitted Group message
Figure 6.12.3.3-1: Modify or Cancel Group Message Delivery via MBS Broadcast
NOTE: In the procedures referred to the TS 26.502 [11], the NEF is the MBS
Application Provider.
1\. The AF sends Modify Group Message Request to the NEF, containing the
TLTRI, Request Action, Group Message Payload, MBS service area, Group Message
Delivery Start Time, Stop Time, External Group Identifier. The NEF identifies
the associated MBS Service using the external Group Identifier. Requested
Action is either set to \"Modify\", or \"Cancel\". \"Modify\" indicates the
request is to modify the group message delivery transaction. \"Cancel\"
indicates the request is to cancel the group message delivery transaction. The
TLTRI indicates the transaction to be modified or cancelled.
2\. The NEF checks authorization of AF. If geographical area information or
civic address information was provided by the AF as MBS service area, the NEF
translates the MBS service area to Cell ID list or TAI list.
If Requested Action is \"Modify\" and Group Message Payload is updated, step 3
to step 6 are executed:
3\. The NEF transforms the group message payload into a file, and use the
determined file meta data (e.g. File URL, etc.) in clause 6.12.3.2.
4\. If Object acquisition method is set to Push, step 4 to step 5 can be
skipped. If Object acquisition method is set to Pull, the NEF updates MBS User
Data Ingest Session on the MBSF as specified in clause 7.2 of TS 26.502 [11].
The update service operation needs to indicate an update of the file
containing the updated group message.
5\. The MBSF updates MBS Distribution Session on the MBSTF as specified in
clause 7.3 of TS 26.502 [11]. The update service operation needs to indicate
an update of the file containing the updated group message.
6\. If Object acquisition method is set to Push, the NEF pushes the update
file to the MBSTF. If Object acquisition method is set to Pull, the MBSTF pull
the updated file from the NEF. And the MBSTF delivers the updated file towards
the MB-UPF in 5GC as specified in clause 4.3.3.2 of TS 26.502 [11].
If Requested Action is \"Modify\" and MBS service area is updated, step 7 to
step 8 are executed:
7\. The NEF updates MBS User Service on the MBSF as specified in clause 7.2 of
TS 26.502 [11]. The update service operation indicates MBS service area
update.
8\. The MBSF performs MBS Session Update as specified in clause 7.1.1.6 or
clause 7.1.1.7 of TS 23.247 [4] to update MBS service area, which triggers MBS
Session Update for Broadcast as specified in clause 7.3.3 of TS 23.247 [4].
If Requested Action is \"Cancel\", step 9 to step 14 are executed: step 9 to
step 11 are needed when the group message delivery has started and MBSF needs
to inform the MBS Client about the cancel of the file delivery. Otherwise,
they can be skipped.
9\. The NEF updates MBS User Data Ingest Session on the MBSF as specified in
clause 7.2 of TS 26.502 [11]. The update service operation needs to indicate
the cancel of the file delivery. The MBSF informs the MBS Client about the
cancel of the file delivery if needed.
10\. If Object acquisition method is set to Pull, the MBSF updates MBS
Distribution Session on the MBSTF as specified in clause 7.3 of TS 26.502
[11]. The update service operation indicates the cancel of the file delivery.
The MBSTF stops the file delivery.
11\. If Object acquisition method is set to Push, the NEF may send HTTP DELETE
to the MBSTF to cancel the file delivery. The MBSTF stops the file delivery.
12\. The NEF destroys MBS User Data Ingest Session on the MBSF as specified in
clause 7.2 of TS 26.502 [11].
13\. The MBSF destroys MBS Distribution Session on the MBSTF as specified in
clause 7.3 of TS 26.502 [11].
14\. The MBSF performs MBS Session Deletion as specified in clause 7.1.1.4 or
clause 7.1.1.5 of TS 23.247 [4], which triggers MBS Session Release for
Broadcast as specified in clause 7.3.2 of TS 23.247 [4].
15\. The NEF sends Modify Group Message Response to the AF, containing
Acceptance Status, Cause. The Acceptance Status indicates whether the group
message request is accepted or not. If not, the Cause indicates the
appropriate failure reason.
After the modified group message is delivered, the NEF sends a Group Message
Delivery to the AF as described in step 15 in clause 6.12.3.2.
### 6.12.4 Impacts on services, entities and interfaces
Functional entities defined in clause 5.3.2 of TS 23.247 [4] and clause 6.2 of
TS 23.501 [2] are reused exception for the following additions:
NEF:
\- Support group message delivery and modify group message interfaces towards
AF, and optionally include the service announcement information in the group
message delivery response to the AF.
\- Transform the group message into a file and determine the meta data
information of the file.
\- Create MBS User Service and MBS User Data Ingest Session to the MBSF in
group message delivery.
\- Update MBS User Service to the MBSF for MBS service area update. Update MBS
User Data Ingest Session to the MBSF when the group message is updated.
\- Optionally update MBS User Data Ingest Session to the MBSF to cancel the
file or DELETE the file to the MBSTF, when the group message delivery has
started and MBSF needs to inform the MBS Client about the cancel of the file
delivery. Destroy MBS User Data Ingest Session to the MBSF.
\- Ingest file to the MBSTF.
## 6.13 Solution #13: Group message delivery for broadcast
### 6.13.1 Introduction {#introduction-13}
This solution addresses Key Issue #4.
### 6.13.2 Functional description
It is assumed to reuse the current architecture and TMGI definition in Rel-17
MBS work (see TS 23.247 [4]). In other words, MB-SMF is used to handle MBS
session-level management while SMF performs per-UE MBS session management,
e.g. authorization, multicast session information provisioning, managing 5GC
Individual MBS traffic delivery.
For group message delivery, it mainly targeted for the Machine type
communication services. The group message delivery has limited applicability
and does not support all the scenarios, e.g. UEs not supporting MBS, UEs
located in areas where MBS is not deployed.
In TS 23.682 [6], features of group message delivery are highlighted as
follows:
_\- \"The specific procedure handling for group message delivery using MBMS is
described in clause 5.5.1. The group message delivery using MBMS has limited
applicability and does not support all the scenarios, e.g. UEs not supporting
MBMS, UEs located in areas where MBMS is not deployed. The SCS/AS may recall
or replace a previously submitted MBMS message; this is described in clause
5.5.2.\"_
This solution proposes how to use MBS for group message delivery for the case
when the UEs locate in the area where MBS is not deployed. This architecture
can be re-used for general group message delivery purposes (not limited to MTC
devices).
Compared with Rel-17 defined mechanism, the case that UEs located in areas
where MBS is not deployed needs to be considered for broadcast.
NOTE: This solution assumes that the AF is aware of the exact location of UEs.
### 6.13.3 Procedures
#### 6.13.3.1 General
NOTE: The message names in the procedures below are descriptive. It is assumed
that the names are updated with corresponding SBI based names where applicable
during the normative phase.
#### 6.13.3.2 Broadcast Session Establishment
Figure 6.13.3.2-1: Broadcast Session Establishment for Group message delivery
The procedure is based on clauses 7.3.1 and 7.1.1.1/7.1.1.2 of TS 23.247 [4],
and clause 5 of TS 26.502 [11], the delta parts is highlighted at following:
0\. AF optionally requests the 5GC to allocate the TMGI, details see steps 1-6
of TS 23.247 [4]. AF may send service announcement to the UEs.
1\. The AF later further request to establish the MBS session, with including
the requested MBS service area in Group message delivery request sent to NEF.
If the TMGI is available (step 0 is executed), AF also includes the TMGI in
the message. When included, Group Message Payload indicates the payload the AF
intends to deliver.
2\. NEF authorizes the request sent by AF, and the NEF may map the MBS service
area to TA list or a list of cell ID.
3\. NEF figures out the area which does not support MBS.
If Service Mode is used, or MBSF is not involved, step 4-6 are skipped:
4\. NEF invokes Nmbsmf_MBSSession_Create Request, and uses the area supporting
MBS as the MBS service area in the message.
5\. MB-SMF continues the MBS Session Creation procedure as defined in TS
23.247 [4].
6\. MB-SMF sends the response message to NEF. If MBSF is involved, the message
will go through MBSF.
NOTE: For Transport Only Mode, it is assumed 5GC will not processing the
ingested data therefore the AF is assumed to provide the functionalities e.g.
reliability if needed.
If Transport Only Mode is used, step 7-12 are skipped:
7\. If the Group Message Payload is included, and if Object Distribution
Method is used, the NEF transforms the group message payload into a file.
NEF invokes Nmbsf_MBSUserService_Create Request, and uses the area supporting
MBS as the MBS service area in the message. NEF also sends
Nmbsf_MBSUserDataIngestSession_Create Request message to the MBSF in which the
MBS service area is the area supporting MBS. If Object Distribution Method is
used, the \"PUSH\" mode may be used if the NEF is not assumed to support
buffering the DL data.
8\. MBSF invokes Nmbsmf_MBSSession_Create Request.
9\. Same as step 5.
10\. MB-SMF sends Nmbsmf_MBSSession_Create Response message to MBSF.
11\. MBS Distribution Session is created as defined in TS 26.502 [11].
12\. MBSF responses the messages from NEF in step 7.
13\. NEF responses AF with Group message delivery response. NEF includes the
areas in the requested MBS service area that do not support MBS. NEF may also
send the address to the AF.
14\. AF may send service announcement.
15\. For the UEs locating out of the supported area, AF uses unicast for
sending the data to the UE.
16\. If Group Message Payload was included in step 1, then the NEF delivers to
MBSTF/MB-UPF the Group Message Payload(s). If Group Message Payload was not
included in step 1, the AF transfers the content to be delivered to the group
to the NEF using the address received at step 13.
If Object Distribution Method is used, the NEF transforms the subsequent
message into a file and sends the file to MBSTF. If Object Distribution Method
is not used, the NEF will not process the message and directly delivers the
group message payload to MB-UPF. As mentioned in the NOTE of step 6, AF is
assumed to provide the reliability if needed.
#### 6.13.3.3 Modification of previously submitted group message
0\. The pre-condition for this flow is the successful completion of step 13
from clause 6.13.3.2.
1\. AF may send service announcement to the UEs, to enable UE to retrieve the
related service information, e.g. TMGI, start time, etc.
2\. The AF requests to modify the previously accepted Group Message Delivery
Request. The AF sends the Modify Group Message Request to the NEF. MBS service
area might be included in the message. When included, Group Message Payload
indicates the payload the AF intends to deliver. The Requested Action is
either set to \"Modify\", or \"Cancel\". \"Modify\" indicates the request is
to modify the transaction. \"Cancel\" indicates the request is to cancel the
transaction.
3\. NEF authorizes the request sent by AF. The NEF may map the MBS service
area to TA list or a list of cell ID.
If Requested Action was set to \"Cancel\":
4a. If Transport Only Mode is used: NEF invokes the MBS session deletion
procedures defined in clause 7.1.1.4 or 7.1.1.5 of TS 23.247 [4].
4b. If Service Mode is used: NEF invokes
Nmbsf_MBSUserDataIngestSession_Destroy, and Nmbsf_MBSUserService_Destroy
service operation to destroy the data ingest session and User service,
respectively. MBSF invokes Nmbstf_MBSDistribtutionSession_Destroy service
operation to destroy the distribution session.
If Requested Action was set to \"Modify\":
5a. If Transport Only Mode is used: NEF invokes the MBS session update
procedures defined in clause 7.1.1.6 or 7.1.1.7 of TS 23.247 [4].
5b. If Service Mode is used: NEF invokes Nmbsf_MBSUserService_Update service
operation to update the user service, if the AF requests to update the MBS
service area, or QoS. If the Group Message Payload is included, and if Object
Distribution Method is used, the NEF transforms the group message payload into
a file. NEF may invoke Nmbstf_MBSDistribtutionSession_Update service
operation, if the AF requests to update the QoS or file.
The NEF may further invoke MBS session update procedures defined in clause
7.1.1.6 or 7.1.1.7 of TS 23.247 [4].
6\. NEF responses AF with Group message delivery response.
### 6.13.4 Impacts on services, entities and interfaces
Functional entities defined in clause 5.3.2 of TS 23.247 [4] is reused
exception for the following additions:
**NEF** :
\- Support differentiating the area with supporting MBS and non-supporting
MBS.
\- Support responding AF with the information that not supporting MBS.
\- User plane handling of the group communication message.
## 6.14 Solution #14: MBS coexistence with power saving mechanisms of 5GS
### 6.14.1 Introduction {#introduction-14}
This is a solution for Key Issue #5.
Clause 4.5.18 of TS 23.682 [6] defines the mechanisms for co-existence between
eMBMS and the power saving mechanisms that exist in EPS. The basic premise is
that the time intervals the UE stays awake to receive MBMS user service or to
discover if there is any MBMS user service scheduled for delivery, should not
necessarily be the same as the reachable intervals negotiated for extended
idle mode DRX or PSM.
### 6.14.2 Functional description
Same as in EPS, for 5GS also this solution proposes that the time intervals
the UE needs to be awake for MBS service may not coincide with the wake up
time windows mandated by eDRX (PTW) and/or MICO with active time (periodic
Registration Update + active time) configuration.
For those intervals the UE needs to be awake for MBS user service, the
following cases can be identified:
**Scenario 1:**
When the UE needs to be awake due to MBS coinciding with the UE already being
in connected mode due to other reasons, the UE follows normal connected mode
procedures.
**Scenario 2:**
When the UE needs to be awake due to MBS coinciding with the UE already being
in idle mode and reachable (e.g. in active time for MICO or PTW for eDRX) the
UE follows normal idle mode procedures.
**Scenario 3:**
When the UE needs to be awake due to MBS coinciding with the UE being in idle
mode and in deep sleep, i.e. unreachable for paging to the network, the UE
leaves the deep sleep for MBS service only:
\- If the MBS service does not require the UE to transition to connected mode,
i.e. the UE can receive the specific MBS service in idle mode using MBS
broadcast, then the UE does not update the AMF to become reachable for paging.
In other words, the UE would still be considered unreachable for paging in the
core network. This minimizes the signalling between the UE and the network.
\- If the MBS service requires the UE to transition to connected mode (e.g.
MBS service that requires MBS multicast mode) then the UE performs regular
procedures for CM connected mode. This would therefore make the UE become
reachable.
**Scenario 4:**
When the UE is in the middle of an MBS data transfer, and the UE is scheduled
to move to deep sleep due to power saving, e.g. end of PTW for eDRX,
expiration of active time for MICO or the UE transitioning from CM-CONNECTED
to CM-IDLE in the case of MICO with no active time, then the UE does not go to
deep sleep during the remainder of the MBS data transfer:
\- If at the end of MBS data transfer, the UE knows there is another MBS data
transfer scheduled soon, in that case depending of the time between MBS data
transfers, the UE may not go to sleep between MBS data transfers.
\- The UE may in fact not go to deep sleep while in an MBS broadcast session.
### 6.14.3 Procedures
With extrapolation of the procedures defined in TS 23.682 [6] to 5GS power
saving mechanisms and MBS the following is defined:
1\. When the UE needs to be awake due to MBS coinciding with the UE already
being in connected mode due to other reasons, the UE follows normal connected
mode procedures.
2\. When the UE needs to be awake due to MBS coinciding with the UE already
being in idle mode and reachable (e.g. in active time in MICO or PTW for eDRX)
the UE follows normal idle mode procedure.
3\. When the UE needs to be awake due to MBS coinciding with the UE being in
idle mode and in deep sleep, i.e. unreachable for paging to the network, the
UE leaves the deep sleep state only to perform procedures related to MBS
service.
\- If the MBS service does not require the UE to transition to connected mode,
i.e. the UE receives MBS service in broadcast mode and therefore can be in
idle mode, then the UE does not update the AMF to become reachable for paging.
The UE would therefore still be considered unreachable for paging in the AMF.
This minimizes the signalling between the UE and the network.
\- If the MBS service requires the UE to transition to connected mode (e.g.
reception in MBS multicast mode) then the UE performs regular procedures for
MBS multicast mode defined in TS 23.247 [4]. This would therefore make the UE
become reachable in the network for other unicast services.
4\. When the UE is in the middle of an MBS data transfer, and the UE is
scheduled to move to deep sleep due to power saving, e.g. end of PTW for
extended idle mode DRX, expiration of active time for MICO or the UE
transitioning from CM-CONNECTED to CM-IDLE in the case of MICO with no active
time, then the UE does not go to deep sleep during the remainder of the
current MBS data transfer.
NOTE 1: If the NG-RAN node knows the UE is within a certain MBS session, the
NG-RAN node will not configure the eDRX >=10.24s for the UE upon transiting
the UE into CM-CONNECTED with RRC-Inactive state. The UE shall disable the
MICO mode, after it successfully joins the MBS session.
NOTE 2: If at the end of the current MBMS data transfer, the UE knows there is
another MBMS data transfer scheduled soon, in that case depending of the time
between MBS data transfers, the UE can decide to go to sleep between MBS data
transfers.
There are two possible ways the UE can be notified of an upcoming MBS
broadcast session start:
1\. If MBS User Services defined in TS 26.502 [11] is used, the UE needs to
receive MBS service announcement while awake (i.e. while in connected mode, or
while idle mode during PTW for extended idle mode DRX, or active time for
MICO). The UE wakes up if not already awake for MBS service reception based on
the schedule received in the service announcement. For this option, the MBS
service announcement may be provided via MBS broadcast service announcement or
via any of the possible unicast service announcement delivery mechanisms. In
case the MBS service announcement is provided in application layer, similar
mechanisms need to be provided.
NOTE 3: In order to allow all UEs using power saving function to receive the
service announcement in time to be able to receive the MBS broadcast data
delivery, the application server needs to be aware of the maximum unreachable
period of the UEs.
2\. The UE may be configured by the application server with specific times to
perform MBS procedures, and wakes up from deep-sleep if needed at those times.
The UE may also receive MBS service announcements and/or MBMS broadcast
delivery at those times (if needed).
NOTE 4: The configuration (e.g. TMGI, start time) is out of scope of 3GPP and
assumed to be performed between application server and UE at application
layer. The application server needs to initiate MBS bearer service procedures
during those time intervals.
### 6.14.4 Impacts on services, entities and interfaces.
In UE:
\- Handle potential wake up out of deep sleep due to power saving (e.g. eDRX,
MICO with active time) for MBMS user service session/data transfer when it
knows a scheduled broadcast it is interested in receiving.
\- Remain awake during reception of MBMS data transfer, even when power saving
function would trigger moving to deep sleep (e.g. end of PTW in eDRX, end of
active time in MICO).
\- (The UE can already be configured by application server with maximum
allowed delay tolerance, in this case it would be for MBMS service, which can
translate to UE requesting specific eDRX cycle or periodic TAU).
\- Configuration for periodic wake ups for MBMS and UE behaviour when waking
up only for MBMS service.
In NW:
\- No standards impacts.
\- Service announcement needs to be started at least an eDRX cycle or periodic
Registration Update length earlier than the actual data broadcast.
\- If UE belongs to some certain MBS sessions, RAN will not configure the long
eDRX parameter for the UE upon transiting the UE into CM-CONNECTED with RRC-
Inactive state.
In AS:
\- The application server needs to trigger start for service announcement at
least an eDRX cycle or periodic Registration Update length earlier than the
actual data broadcast.
## 6.15 Solution #15: Solution for coexistence of MBS delivery and power
saving mechanisms
### 6.15.1 Functional description
This solution addresses Key Issue #5 (Coexistence with existing power saving
mechanisms for capability-limited devices).
Capability-limited devices may use power-saving mechanisms to extend their
battery live. Existing power saving mechanisms include MICO (Mobile Initiated
Connection Only) mode, DRX (Discontinuous Reception), eDRX (Extended
Discontinuous Reception).
When an MBS Session data delivery is required (e.g. for software/firmware
update) is required, service announcement is needed. The service announcement
using MBS Session data delivery may not be efficient from the network
perspective since the capability-limited devices are not expected to be awake
throughout the day, but only infrequently. Furthermore, the capability-limited
devices do not wake-up at the same time and they are not reachable while being
in power saving mode.
This solution proposes to inform the capability-limited devices about a newly
scheduled MBS Session data delivery during their wake-up periods when the
devices are reachable. When MBS Session data delivery is required, the MBS
Session data delivery time can be scheduled as follows:
\- When a new MBS delivery schedule for capability-limited devices become
available, the network will send a service announcement to inform the UEs
about the new schedule when they are reachable.
\- The time interval from when MBS Session data delivery schedule is announced
to when the first MBS Session data delivery as announced by that schedule will
start can be shorter than the minimum power saving period of all capability-
limited devices.
\- The network may schedule multiple MBS deliveries. If at the end of the
current MBS Session data delivery, the UE knows there is another MBS Session
data delivery scheduled soon, in that case depending on the time between MBS
Session data deliveries, the UE can decide to go to power saving between MBS
Session data deliveries.
Editor\'s note: Regarding the coexistence of multicast MBS Session data
delivery with capability-limited devices, the dependency with KI#1 is FFS.
### 6.15.2 Procedures
Existing procedure for 5MBS is used.
Editor\'s note: SA WG4 collaboration is required.
### 6.15.3 Impacts Analysis
**UE:** The UE needs to wake up according to the time scheduled for MBS
delivery received in service announcement.
## 6.16 Solution #16: Public Safety services offered over both Broadcast and
Multicast transport
### 6.16.1 Description
#### 6.16.1.1 General
This is a solution for Key Issue #6.
5G Broadcast and 5G Multicast services cater and are optimal in different
scenarios:
\- The more sparse the UEs receiving a same content are, the larger the
service area, the more attractive using 5G Multicast is.
\- The more concentrated in an area the UEs receiving a same content are, the
more attractive using 5G Broadcast may become.
This solution consists on identifying areas of concentrated number of UEs for
which 5G Broadcast services would be the optimal transport, areas of sparse
UEs receiving the same public safety service for which multicast transport
would be useful. Configuring Broadcast service and Multicast service for the
same public safety service, and allow the UE to decide whether to receive the
public safety MBS content via broadcast service if available, or multicast
session.
The solution relies on GCS AS (MCX AS) activates MBS broadcast session in
broadcast service areas where MBS capable UEs are or are expected to be
located. For that, the GCS AS (MCX AS) shall use the MBS SAI(s) and/or cell
id(s) information to construct the MBS broadcast area parameter. LMS will
configure the LMC as defined in TS 23.280 [7] for the parameters to report and
determine the \"granularity\" and \"frequency\" of location reports.
NOTE This solution requires that UEs provide accurate location reports to the
GCS AS to enable the GCS AS to determine where UEs are concentrated. Those
location reports require that UEs are in connected state and may lead to
capacity bottlenecks. It is a trade-off between accuracy and frequency of the
location reports and how fast switching between broadcast and multicast can be
achieved.
#### 6.16.1.2 Functional description
NOTE 1: The use of GCS AS in reference to this solution refers to stage-2
procedures defined in TS 23.468 [12] and are used for public safety IMS
procedures defined in SA6 specifications for GC-1/MCPTT-1 interface. The
interface between GCS AS and 5GC is not restricted to be MB2 only. Possible
enhancements to other interfaces e.g. xMB, Nmb8 and Nmb10 are possible.
NOTE 2: The term GCS AS is currently used in EPS only and not same in the
context of this solution, the name to be used in 5GS only architecture is FFS.
The functional description of the solution is as follows:
1\. GCS AS requests to establish a Broadcast service in a \"Broadcast\"
Service Area to 5GC via MBS Session Start for Broadcast procedure (see TS
23.247 [4] clause 7.3.1), where the Broadcast Service Area is an identified
area where of concentrated large number of UEs.
2\. GCS AS also requests to establish a Multicast Service in a \"Multicast\"
Service Area to 5GC via MBS Session Creation Procedure (see TS 23.247 [4]
clause 7.1.1.2 or 7.1.1.3), where the Multicast Service Area is an identified
area for Public Safety service that is larger than the Broadcast Service Area.
Multicast and Broadcast service areas may overlap.
3\. GCS AS configures the UE with both the Multicast service information (with
its respective MBS session ID/TMGI) and the Broadcast service information
(with its respective MBS Session ID/TMGI) and indicates to the UE that they
correspond to the same public safety service. This can for example be done by
allowing to include 2 TMGIs instead of one in service description that is sent
to the UE in SIP. MESSAGE using the \ parameter. The exact
formatting and changes required to the XML format defined in TS 24.379 [8]
will be decided in stage-3.
4\. Both Broadcast Service Area (as in Service announcement) and Multicast
Service Area (as part of Service announcement or NAS signalling) may be known
to UE.
5\. The UE may join the Multicast session based on the received information
from the GCS AS.
6\. If UE based approach for the switching is used, when UE is in Broadcast
Service Area, and the UE detects the Broadcast Service is available, the UE
enables reception of Broadcast MBS session ID, and if already joined ignores
reception of Multicast MBS session ID internally.
If NG-RAN based approach for the switching is used, the procedure in clause
6.16.2.3b is followed.
7\. When the UE is outside Broadcast Service Area, and in Multicast Service
area the UE receives MBS service in multicast mode. If not already joined, the
UE initiates UE join procedure for the Multicast Session.
### 6.16.2 Procedures
#### 6.16.2.1 GCS AS configuration of both Broadcast and Multicast Services
Figure 6.16.2.1-1: GCS AS configuration of both Broadcast and Multicast
Services
Figure 6.16.2.1-1 shows the order of procedure execution for a GCS AS to
provide a same public safety service via broadcast session in a specific
service area and via Multicast session in a larger service area.
NOTE: In Figure 6.16.2.1-1 the 5GC CP (control plane) denotes for simplicity
all transport 5GC NFs relevant to MBS procedures, e.g. MB-SMF, MB-PCF, SMF,
AMF, NRF, etc.
1\. In order to establish a Multicast session, the GCS AS initiates MBS
Session Creation as defined in either clause 7.1.1.2 of TS 23.247 [4] (for
case without PCC) or clause 7.1.1.3 of TS 23.247 [4] (for case with PCC). The
GCS AS receives Multicast Session information.
2\. The GCS AS may provide to UE(s) the Multicast session information
necessary for the UE to join the Multicast session (i.e. TMGI for Multicast
session).
3\. UE may trigger UE join and Session establishment procedure (see clause
7.2.1 of TS 23.247 [4]) using the TMGI for Multicast provided by GCS AS.
4\. When there is MBS data the GCS AS initiates MBS Session Activation for the
Multicast TMGI (see clause 7.2.5.2 of TS 23.247 [4]). Step 4 may occur in
parallel with steps 5 to 7.
5\. The GCS AS may decide to establish a Broadcast session in a specific
service area, e.g. based on UE reports in GC1/MCPTT-1 interface and detection
of large number of UE receiving the same public safety service in a same area.
6\. Based on the decision of step 5, the GCS AS initiates MBS session start
for broadcast procedure as defined in TS 23.247 [4] for a Broadcast TMGI.
7\. The GCS AS provides to UEs the information for broadcast reception,
including the TMGI allocated for the Broadcast session.
8\. A UE that has received both the Broadcast session information (including
TMGI for Broadcast session) and Multicast session information (including TMGI
for Multicast session) for the same service, determines whether to receive the
public safety data via broadcast session or multicast session.
8.a. If the UE detects that the Broadcast session is available, UE enables
reception of Broadcast for the TMGI allocated for the broadcast session, and
if already joined ignores reception of Multicast internally. The UE may ignore
a paging with the TMGI allocated for the Multicast session.
8.b. If the UE does not detect that Broadcast session is available, and the UE
joined the multicast MBS session in step 3, when it receives paging during MBS
session activation for the TMGI allocated for Multicast, the UE follows the
behaviour defined in clause 7.2.5 of TS 23.247 [4].
#### 6.16.2.2 UE switching from Broadcast Reception to Multicast Reception
When a UE that is receiving public safety data via Broadcast session detects
that it has moved to a cell that is not providing the broadcast session i.e.
the UE detects it has stepped out of the Broadcast service data or if NG-RAN
based suspension and resumption is used the related multicast radio bearer is
\"resumed\", the UE proceeds as follows:
1\. If the UE had not joined yet the corresponding Multicast session, the UE
triggers MBS join and Session establishment procedure (see clause 7.2.1.3 of
TS 23.247 [4]) using the TMGI allocated for Multicast session.
2\. If the UE had already joined the corresponding Multicast session, the UE
follows the procedures defined in TS 23.247 [4].
#### 6.16.2.3 UE switching from Multicast Reception to Broadcast Reception (UE
based)
When a UE that is receiving public safety data via Multicast session detects
that it has moved to a cell that is providing the broadcast session, i.e. the
UE detects it has stepped inside of the Broadcast service area, the UE
proceeds as follows:
1\. While the UE is in CM-CONNECTED receiving the Multicast data, the UE
should maintain this Multicast reception if still available. This avoids ping
pongs when the UE steps in and out of the Broadcast service area.
2\. Following a CM-CONNECTED to CM-IDLE transition, the UE may decide to
receive public safety data via Broadcast session, e.g. at next Broadcast
Session Start.
#### 6.16.2.3b UE switching from Multicast Reception to Broadcast Reception
(NG-RAN based)
The UE based option for switching from multicast reception to broadcast
reception assumes that the same content is provided in the same cell using
both multicast and broadcast delivery modes.
In the case of congestion in multicast session, the related Multicast Radio
Bearer (MRB) may also be \'suspended\' by NG-RAN and the UE becomes aware
using AS signalling.
For example, the UE may receive an explicit indication broadcast from the NG-
RAN (similar to what is defined for E-UTRAN in MBMS Scheduling Information in
TS 36.300 [15] and TS 36.321 [16]), where it is informed that transmission for
the multicast MBS bearer is going to be, or has been, suspended or using other
mechanisms decided by RAN.
Editor\'s note: The details of the AS procedures e.g. whether these are the
only possible procedures or other procedures can be considered will be decided
in RAN WGs.
The procedure used by the UE in these scenarios is depicted in figure
6.16.2.3b-1.
Figure 6.16.2.3b-1: Switching MBS Delivery to Broadcast following bearer
suspension by NG-RAN
1\. The UE has an ongoing group communication using MBS multicast mode.
2\. The GCS AS decides to set up the Broadcast Delivery path for the downlink
data for this service following the procedure in clause 7.3.1 of TS 23.247
[4].
3\. NG-RAN (e.g. after detecting MBS congestion) decides to suspend one or
more MBS bearer(s) (based on e.g. the ARP and/or on the counting results for
the corresponding MBS service(s)), and trigger the migration of impacted UEs
to receive DL data MBS broadcast mode, by some AS signalling.
For example, explicitly informing those UEs that the MBS bearer has been, or
is going to be, suspended by broadcasting an indication similar to what is
defined for E-UTRAN in MBMS Scheduling Information in TS 36.300 [15] and TS
36.321 [16], or using other mechanism decided by RAN.
NOTE 1: The decision of suspend in NG-RAN is independent with the broadcast
session start from GCS AS, if NG-RAN suspends the MRB based on RAN congestion
situation, while the broadcast MBS session hasn\'t been started by AF based on
AF counting, it will cause service interruption for those joined UEs.
4\. The UE detects the suspension of the corresponding MBS bearer service, but
continues to monitor for MBS Multicast mode delivery.
5\. The UE receives DL data by broadcast delivery and continues to monitor for
resumption of the MBS bearer. RAN removes the radio resources for the
\"suspended\" MBS bearer(s).
NOTE 2: UE receiving \"suspend\" signalling for the MBS bearer does not affect
the UEs RRC state. For example, if the UE is RRC_CONNECTED for other unicast
services, continues to be in RRC_CONNECTED and switches to RRC_INACTIVE or
RRC_IDLE based on existing RAN triggers.
NOTE 3: The data associated with the suspended MBS bearer continues to be
delivered by the GCS AS on the corresponding multicast transport
infrastructure towards NG-RAN (e.g. because it is still delivered via MBS in
non-congested cells). This also allows a quicker resumption of the MBMS
service when congestion is over.
### 6.16.3 Impacts on services, entities and interfaces.
On GCS AS:
\- Decision of delivery method, between multicast, broadcast and unicast with
potentially different service areas:
\- Use of on UE reports in GC1/MCPTT-1 interface for decision.
\- Configuration of UE of both Broadcast and Multicast session for same
service.
On UE:
\- Receive configuration from GCS AS of both Broadcast session with a TMGI and
Multicast session with another TMGI for the same public safety service.
\- Decide between reception of public safety data over Broadcast session of
over Multicast session.
\- Trigger switch from broadcast reception of public safety data and multicast
reception of public safety data.
\- Trigger switch from multicast reception of public safety data and broadcast
reception of public safety data.
On 5GC and NG-RAN:
\- No impacts for the UE based switching option.
\- New procedure and signalling in NG-RAN to perform \"suspend\" and
\"resume\" of Multicast Radio Bearers for the NG-RAN based option as defined
in clause 6.16.2.3b.
## 6.17 Solution #17: Performance Improvements for Public Safety
### 6.17.1 Introduction {#introduction-15}
This solution addresses leverages the improvements in KI#1 and further
improves the call setup time for high number of public safety UEs for Key
Issue #6.
### 6.17.2 Functional description
This solution enables AMF to get UE join/leave information of a multicast MBS
session, so that AMF can maintain the complete group paging information (i.e.
list of UEs and the paging area) for the joined CM-IDLE UEs when multicast MBS
session is inactive. This solution focuses on the optimization on group
paging, which may help group call setup time.
When the MBS session activation request is received, AMF understands the
multicast MBS session is activated. The AMF sends group paging request to MBS
supporting NG-RAN nodes and individual paging request for non-MBS supporting
NG-RAN nodes for those joined CM-IDLE UEs in the AMF. Usually, the MBS session
activation request will reach the AMF prior to the enable group reachability
request. In case the enable group reachability request reaches the AMF before
the MBS session activation request, AMF can also trigger the group paging and
individual paging. The AMF triggers paging once for one multicast MBS session
activation procedure. The enable group reachability request or MBS session
activation request received afterwards will not trigger the paging again.
NOTE 1: RRC_Inactive UEs will be paged using the typically quicker MBS session
activation request. They will also not need to send a service request and will
thus not benefit from this solution in most cases.
NG-RAN triggers RAN paging based on MBS session activation request, which is
supported in Rel-17.
Editor\'s note: It is up to RAN WG to determine whether RAN paging can be
performed upon receiving group paging request, if the MBS session activation
request has not been received.
In this way, CM-IDLE UEs and CM-CONNECTED UEs with RRC_INACTIVE state can be
notified for the multicast MBS session activation as early as possible.
When multicast MBS session is activated, NG-RAN is expected to provide a
method for those CM-CONNECTED UEs with RRC_INACTIVE state to enable them to
receive multicast MBS session data without being RRC-CONNECTED.
Editor\'s note: It is up to RAN WG to determine how the method can provided
(e.g. NG-RAN updates SIBx/MCCH) when the multicast MBS session is activated.
When CM-CONNECTED UEs with RRC_INACTIVE state are notified by the RAN paging,
they can utilize the method provided by NG-RAN or locally stored RRC
configuration which was configured by NG-RAN before, to receive the multicast
MBS session data, in parallel with sending RRC RESUME to the network.
Editor\'s note: It is up to RAN WG to determine whether RRC RESUME is needed
for RRC_INACTIVE UE to receive the MBS data.
As AMF maintains CM-IDLE UEs which join the multicast MBS session, it may
constantly prepare the group paging information to avoid the processing of UE
list included in enable group reachability request, before sending the group
paging request. Besides benefits of earlier notification, this solution
further minimizes the number of the group paging signals between the AMF and
the NG-RANs. Regardless the number of involved SMFs, the AMF only needs to
send at most one group paging request to each NG-RAN node for one multicast
MBS session. However, compared to the subsequent per-UE service request, the
number of saved messages is not significant.
NOTE 2: It requires that SMFs provide UE join/leave information outside N2SM
information.
NOTE 3: The constant preparation of group paging information requires the
additional processing for UE CM state changes, when multicast MBS session is
inactive.
NOTE 4: The AMF needs to maintain backward compatibility with Rel-17 SMFs that
will not provide information about the MBS session for the AMF. And for those
Rel-17 SMFs, the AMF has to rely on the provided UE list from them for group
paging.
NOTE 5: In mixed deployments with Rel-17 AMFs and/ or SMFs, the benefit of
signalling reductions is not much.
### 6.17.3 Procedures
#### 6.17.3.1 General
NOTE: The message names in the procedures below are descriptive. It is assumed
that the names are updated with corresponding SBI based names where applicable
during the normative phase.
#### 6.17.3.2 UE join multicast MBS session
Figure 6.17.3.2-1: UE join multicast MBS session
The following additions apply compared to clause 7.2.1.3 of TS 23.247 [4]:
5\. In Nsmf_PDUSession_UpdateSMContext response, the SMF includes UE join
information including the associated PDU Session ID and MBS Session ID outside
the N2 SM information. The AMF stores the information and maintains the joined
UE list of the MBS session with its associated PDU Session ID.
NOTE: Different AMFs may interact with the same RAN nodes for different PDU
sessions. It is assumed that each such AMF only stores MBS session IDs and UE
join information for the UEs it serves. Different AMFs also store information
about the MBS session (MBS session ID and involver RAN nodes) when the shared
delivery is established. Thus different information about the same multicast
session may reside on multiple AMFs. It is assumed that no synchronisation is
performed.
#### 6.17.3.3 UE leave multicast MBS session
Figure 6.17.3.3-1: UE leave multicast MBS session
The following additions apply compared to clause 7.2.2.2 of TS 23.247 [4]:
7\. In Nsmf_PDUSession_UpdateSMContext response, the SMF includes UE leave
information outside the N2 SM information. The AMF remove the UE from the
joined UE list of the MBS session.
#### 6.17.3.4 Multicast session leave requested by the network or MBS session
release
Figure 6.17.3.4-1: Multicast session leave requested by the network or MBS
session release
The following additions apply compared to clause 7.2.2.3 of TS 23.247 [4]:
3\. In Namf_Communication_N1N2MessageTransfer request, the SMF includes UE
leave information outside the N2 SM information. The AMF remove the UE from
the joined UE list of the MBS session.
#### 6.17.3.5 MBS Session Activation
Figure 6.17.3.5-1: MBS Session Activation
The following additions apply compared to clause 7.2.5.2 of TS 23.247 [4]:
**Paging:**
\- At step 5 (enable group reachability request is received) or after step 11
(MBS session activation request is received), AMF performs group paging and
individual paging based on joined UE list in the AMF, , when receiving an
enable group reachability request from an SMF or MBS session activation
request from the MB-SMF (if the AMF is used for shared delivery
establishment), if the paging for the multicast MBS session hasn\'t been
performed. The paging will be requested from each involved AMF once per MBS
session activation procedure. A RAN node can receive paging request from
multiple AMFs. A possible enable group reachability request or MBS session
activation request received afterwards at the AMF from a different SMF will
not trigger the paging again.
NOTE 1: Considering the service request handling contribute most of the
latency for those CM-IDLE UEs, the early notification does not bring
significant improvement on the group call setup time. However, the improved
paging mechanism can reduce the signalling load between the AMF and the NG-
RANs effectively depending on how much SMF serving this MBS session.
In step 11, to utilize MBS session activation request to trigger paging in the
AMF, the MB-SMF needs to provide the MBS activation information to the AMF
outside the N2 container.
NOTE 2: Steps 11 to 14 are required to reach those RAN nodes handling CM-
CONNECTED UEs (including both RRC_CONNECTED and RRC_INACTIVE states).
Editor\'s note: It is up to RAN WG to determine whether RAN paging can be
performed upon receiving group paging request in step 5, if the MBS session
activation request has not been received.
**NG-RAN provide a method to allow UEs to receive multicast MBS session data
without being RRC-CONNECTED:**
\- After step 12, NG-RAN needs to provide a method for those CM-CONNECTED UEs
with RRC_INACTIVE state to enable them to receive multicast MBS session data
without being RRC-CONNECTED.
Editor\'s note: It is up to RAN WG to determine whether and how the method can
provided (e.g. NG-RAN updates SIBx/MCCH) when the multicast MBS session is
activated.
**UE receives multicast MBS Session data without being RRC-CONNECTED**
\- The CM-CONNECTED UE with RRC_INACTIVE state is notified by CN-Paging in
step 5 (if share the same Paging Occasion) or RAN-Paging in step 12. It
utilizes the method provided by NG-RAN or utilizes the locally stored RRC
configuration if it has such information and receives multicast MBS session
data, in parallel with sending RRC RESUME to NG-RAN.
#### 6.17.3.6 N2 based Handover and IDLE Mobility
For N2 based handover, the following additions apply compared to clause
7.2.3.3 of TS 23.247 [4]:
3\. In Nsmf_PDUSession_updateSMContext response, the SMF includes the UE join
information to the T-AMF. The AMF stores/updates the information and maintains
the joined UE list of the MBS session with its associated PDU Session ID.
For IDLE mobility, the following additions apply compared to the clause
4.2.2.2 of TS 23.502 [3]:
17\. In Nsmf_PDUSession_updateSMContext response, the SMF includes the UE join
information to the new AMF. The AMF stores/updates the information and
maintains the joined UE list of the MBS session with its associated PDU
Session ID.
### 6.17.4 Impacts on services, entities and interfaces.
Functional entities defined in clause 5.3.2 of TS 23.247 [4] are reused
exception for the following additions:
SMF:
\- Provide UE join information to the AMF when UE join the multicast MBS
session.
\- Provide UE leave information to the AMF when UE leave the multicast MBS
session or when multicast session leave requested by the network or MBS
session release.
\- Provide UE join information to the T-AMF in N2 based handover and to the
New AMF in IDLE mobility.
AMF:
\- Receive UE join/leave information from the SMF in signalling related to the
associated PDU session.
\- Receive information about the MBS sessions a UE is participating in during
N2 handover and IDLE mode mobility in signalling related to the associated PDU
session.
\- Maintain for each MBS session the joined UE list and the group paging
information of the multicast MBS session.
\- Trigger group paging and individual paging, when multicast MBS session
activation request or enable group reachability request is received, if the
paging for the MBS session activation hasn\'t been performed.
MB-SMF:
\- Provide MBS activation information to the AMF when sending multicast MBS
activation request.
NG-RAN:
\- NG-RAN provides a method to configure those CM-CONNECTED UEs with
RRC_INACTIVE state to enable UEs to receive multicast MBS session data without
being RRC-CONNECTED.
Editor\'s note: It is up to RAN WG to determine how the method can provided
(e.g. NG-RAN updates SIBx/MCCH) when the multicast MBS session is activated.
Editor\'s note: It is up to RAN WG to determine whether RAN paging should be
performed upon receiving group paging request, if the MBS session activation
request has not been received.
UE:
\- For CM-CONNECTED UEs with RRC_INACTIVE state, when they are notified upon
MBS session activation, they should utilize the method provided by NG-RAN or
utilize the locally stored RRC configuration to receive multicast MBS session
data, in parallel with sending RRC RESUME to NG-RAN.
## 6.18 Solution #18: MBS session management for RRC Inactive MBS data
receiving UE
### 6.18.1 Introduction {#introduction-16}
This solution addresses Key Issue #1, especially on the enhancement of MBS
session management for RRC Inactive MBS data receiving UE.
### 6.18.2 Functional description
This solution builds on top of solution 1. The multicast session management
include following procedures:
\- MBS session activation, for UEs in RRC-IDLE state, group paging may be
performed to bring the UE to RRC_CONNECTED as specified in TS 23.247 [4] for
Rel-17.
Editor\'s note: For UEs in RRC-INACTIVE state, the handling of MBS Session
Activation in NG-RAN is to be determined by RAN WGs.
\- Multicast session deactivation/multicast session update, the existing
procedure as defined in TS 23.247 [4] apply.
\- Multicast session release, the handling for UEs in CM-IDLE or CM-CONNECTED
with RRC-CONNECTED state follows clause 7.2.2.3 of TS 23.247 [4]. For UEs
without activated UP, the following _SMF behaviour in step 2 is assumed to
avoid paging the IDLE UEs:_
_Alternatively, for UEs without activated UP, the SMF does not trigger message
to the AMF, instead the SMF marks that the UE is to be informed of the MBS
Session release. In this case, the SMF initiates PDU Session Modification to
inform the UE of the MBS Session release at next UP activation of the
associated PDU Session, if needed._
Editor\'s note: Paging procedures are under remit of the RAN groups and any
related enhancements need to be confirmed by RAN groups.
### 6.18.3 Procedures
Figure 6.18.3.1-1: Multicast Session Activation/Release Procedure.
1\. UE joins the multicast MBS session via the procedure as defined in clause
7.2.1.3 of TS 23.247 [4].
2\. In some cases, e.g. due to radio resource shortage, NG-RAN could move one
or multiple multicast group member UEs to RRC-INACTIVE state and those UEs are
still able to received multicast MBS data.
3\. The multicast MBS session becomes inactive via the procedure as defined in
clause 7.2.5.3 of TS 23.247 [4]. The group member UE can be moved to any state
(i.e. CM-IDLE or CM-Connected with RRC Connected/Inactive state).
4\. After some time, MB-SMF triggers the multicast session activation or
multicast session release.
5\. MB-SMF sends Nmbsmf_MBSSession_ContextStatusNotify to SMF(s), same as step
2 of clause 7.2.5.2 or step 1a of clause 7.2.2.3 of TS 23.247 [4], which also
includes the MBS session status, i.e. activation or release.
NOTE: Steps 1, 3-5 are same as the one defined in TS 23.247 [4].
6\. Based on the event information, the SMF determines whether the event is
for MBS session activation or MBS session release. The SMF invokes
Namf_MT_EnableGroupReachability Request to AMF as specified in TS 23.247 [4].
Editor\'s note: Whether SMF needs to know that the function that RRC-INACTIVE
UE can receive the MBS data is supported or not is FFS.
7\. The AMF determines that there are UEs in CM-IDLE state among the UEs
provided by the SMF in step 6, and triggers group paging as specified in TS
23.247 [4].
Editor\'s note: When group paging for CM-IDLE UE is performed, whether/how the
RRC_INACTIVE UE(s) sharing the same PO will respond and whether related
signalling extensions are required is to be decided by RAN WGs.
8\. The NG-RAN performs the group paging by sending the MBS session ID.
Editor\'s note: How to handle RRC-inactive UE(s) that joined the MBS session
and is able to receive multicast service in RRC-INACTIVE state is to be
determined by RAN WGs.
Editor\'s note: It needs to be confirmed that RRC-INACTIVE UEs also listen to
the paging for RRC IDLE UEs, and not only to RAN paging.
Editor\'s note: It is FFS whether and how UEs, NG-RAN nodes, or AMF also need
to consider the transmission mode used in the cell where the UEs are comping
to decide whether they can remain in RRC-INACTIVE state.
For the UE(s) joined the MBS session and need receive multicast service in
RRC-Connected state, the handling specified in TS 23.247 [4] will apply.
9\. For MBS session activation, steps 6-15 of clause 7.2.5.2 of TS 23.247 [4]
applies.
Editor\'s note: After receive step 12 in clause 7.2.5.2 of TS 23.247 [4], it
is to be determined by RAN WGs whether the NG-RAN need page the UE if the UE
is in RRC Inactive state.
Editor\'s note: After receive step 12 in clause 7.2.5.2 of TS 23.247 [4], it
needs clarify the behaviour of RRC-inactive UE after it receives the group
paging of the related MBS session ID, e.g. whether it is allowed the UE to be
aware it can receive the MBS data in RRC inactive state.
For MBS session release, steps 3-9 of clause 7.2.2.3 of TS 23.247 [4] is
[not]{.underline} executed as for UEs without activated UP, the SMF does not
trigger message to the AMF, instead the SMF marks that the UE is to be
informed of the MBS Session release. In this case, the SMF initiates PDU
Session Modification to inform the UE of the MBS Session release at next UP
activation of the associated PDU Session, if needed.
### 6.18.4 Impacts on services, entities, and interfaces
UE:
\- For RRC_INACTIVE UEs, multicast session activation is to be determined by
RAN WGs.
Editor\'s note: Detailed impact will be determined by (and/or in collaboration
with) RAN WGs.
## 6.19 Solution #19: Procedures for Transmission mode tor inactive data
reception
### 6.19.1 Introduction {#introduction-17}
This solution addresses Key Issue #1.
### 6.19.2 Functional description
This solution builds on top of solution 1.
UEs that transition to RRC inactive mode can move freely in their RAN
notification area without notifying the RAN nodes. Their location is thus not
known at cell level. At the moment only the RAN node serving a UE is aware
that it is participating in an MBS multicast session. Additional RAN nodes not
handling RRC connected UEs within the multicast session but within RAN
notification areas of those UEs may need to be made aware of the multicast
session and perform procedures for the multicast session, such as deciding
whether to deliver data for the MBS session and choosing the delivery mode,
transmitting data of the multicast session and managing the related the shared
delivery path.
Editor\'s note: Related procedures need to be defined by RAN WGs. It also
needs to be studied by RAN WGs whether it is possible to determine the
presence of inactive UEs that desire to receive a multicast session in a cell.
and whether and how a RAN can decide whether to deliver multicast data in
cells without RRC connected UEs. Whether additional RAN nodes not handling RRC
connected UEs within the multicast session need to be made aware of the
multicast session and perform procedures for the multicast session needs to be
decided by RAN WGs.
RAN nodes not serving any connected UEs in the MBS sessions may thus need to
be aware of the MBS session. This solution describes two option to accomplish
that with CN impacts:
**Option A** : RAN nodes inform their peers serving parts of RAN notification
areas of UEs in an MBS session about the MBS session. The peer RAN nodes
request assistance information from the CN via shared delivery establishment.
**Option B** : The MB-SMF informs all RAN nodes in a service area of an MBS
session via the AMF about the MBS session
Editor\'s note: The RAN-centric option A is in scope of RAN WGs to a large
extent. Whether this option is selected thus depends on RAN WGs.
Editor\'s note: How the NG-RAN node determines transmission at one cell is not
needed due to no UE camped at that cell need be solved by RAN WG.As service
areas are optional for multicast MBS sessions, all RAN nodes in a PLMN are
possible affected by Option B.
NOTE 1: It may be preferable to only inform RAN nodes within RAN paging areas.
RRC_inactive UEs can move to cells where the transmission mode for RRC
connected state is applied and then need to transition to the RRC connected
state to receive MBS data.
The current MBS session activation procedures use paging for the MBS session
and trigger RRC-inactive UEs to transition to RRC-connected state. For the
delivery mode for RRC_inactive reception, RRC-inactive UEs should be made
aware that the MBS multicast session is activated but remain in RRC-inactive
state for multicast data reception.
NOTE 2: It is not assumed all the RAN node within the same RNA area have the
same capability and choose the same delivery mode.
Editor\'s note: This assumption needs to be confirmed by RAN WGs. Procedures
to support UEs that move between cells with different delivery mode need to be
agreed by RAN WGs.
### 6.19.3 Procedures
#### 6.19.3.1 Moving a UE to RRC Inactive state and providing assistance
information to additional RAN nodes (Option A)
Figure 6.19.3.1-1: NG-RAN node moves a UE in 5MBS session to RRC Inactive
state
0\. UE joined an MBS session and receives MBS data while in RRC connected
state
1\. NG-RAN 1 uses assistance information to decide whether to apply the
delivery mode for RRC-inactive reception for an MBS session, and whether to
move one or several UEs in MBS session to RRC inactive state.
2\. RAN internal procedures.
3\. NG-RAN 1 determines that part of the RAN notification areas of the UEs is
served by NG-RAN 2. It informs NG-RAN 2 that handling of the MBS session for
inactive UEs is required in that area,
Editor\'s note: Depending on RAN decision, assistance information for MBS
might be transferred in that step.
4\. The NG-RAN 2 establishes shared delivery with MB-SMF. The MB-SMF transmits
assistance information as defined in solution 1for inactive reception in the
shared delivery response.
5\. RAN internal procedures at NG-RAN 2 to handle MBS session.
NOTE: Transfer of assistance information and shared delivery to additional RAN
nodes has system impacts in SA WG2 scope.
#### 6.19.3.2 MBS service activation
Figure 6.19.3.2-1: MBS service activation
1\. When triggered according to step 11 of Figure 7.2.5.2-1 of TS 23.247 [4],
AMF sends NGAP activation request message to NG-RAN nodes.
2\. Related RAN procedures. RAN nodes decides whether to deliver in mode for
RRC inactive reception, and otherwise will perform RAN paging. For the
delivery mode for RRC_inactive reception, RRC-inactive UEs should be made
aware that the MBS multicast session is activated but remain in RRC-inactive
state for multicast data reception.
3\. NG-RAN 1 determines that part of the RAN notification areas of UEs in MBS
session is served by NG-RAN 2. It requests NG-RAN 2 to perform RAN paging for
MBS session,
NOTE: Depending on RAN decision, assistance information for MBS might be
transferred in that step.
4\. If not yet done, the NG-RAN 2 establishes shared delivery with MB-SMF. The
MB-SMF transmits assistance information (as defined in solution 1) for
inactive reception in the shared delivery response.
5\. RAN internal procedures at NG-RAN 2 similar to step 2.
#### 6.19.3.3 Triggering MBS service announcement by MB-SMF (Option B)
NOTE 1: Unlike the broadcast session start, the present procedure is only used
to make the RAN nodes aware that an MBS multicast session enabling delivery
for inactive reception is ongoing. RAN nodes can then apply appropriate
procedures to handle the MBS session, e.g. decide whether to transmit data and
whether to allow RRC_INACTIVE UE receiving MBS data.
NOTE 2: UEs still need to join the MBS multicast session as outlined in clause
7.2.1.3 of TS 23.247 [4].
Editor\'s note: How the NG-RAN node determines the MBS session data can be
transmitted due to UE is in RRC-inactive state need be solved by RAN WGs.
Figure 6.19.3.3-1: Triggering MBS service announcement by MB-SMF (Option B)
1\. Multicast MBS session suitable for delivery mode for inactive reception is
created is created at MB-SMF. The MB-SMF determines whether an MBS session is
suitable for inactive reception either based on an indication whether the
delivery mode for inactive reception is enabled received from the AF (see
solution 1) or based on the QoS of the MBS session.
2-5. MB-SMF informs RAN nodes in service area of multicast session via AMFs of
multicast session and asks them to announce multicast session. The MB-SMF may
defer step 2 until a Nmbsmf_MBSSession_ContextStatusSubscribe request is
received from an SMF. In step 4, AMFs only select NG-RAN nodes in service area
supporting delivery mode for RRC_inactive reception.
6\. RAN nodes decide delivery mode for MBS session in a cell and whether to
deliver data.
7\. RAN nodes may establish shared delivery as outlined in clause 7.2.1.4 of
TS 23.247 [4].
8\. RAN related procedures, e.g. indication of delivery mode or delivery of
data.
Editor\'s note: The steps 6 and 8 are to be decided by RAN WGs.
#### 6.19.3.4 MBS session release (Option A and B)
Figure 6.19.3.3-1: MBS session release
1\. The procedures in Figure 7.2.2.2-1 of TS 23.247 [4] are executed.
2\. After a grace period, the MB-SMF checks if shared delivery is still
established towards RAN nodes. If so, it sends a request to each related AMF
to release the MBS session.
Editor\'s note: It is to be clarified what is the criteria for MB-SMF to start
the guard timer.
3\. The AMF determines stored RAN nodes for the MBS session and forwards the
request to those RAN nodes.
### 6.19.4 Impacts on services, entities and interfaces.
Functional entities defined in clause 5.3.2 of TS 23.247 [4] are reused.
In addition to impacts for solution 1:
**NG-RAN:**
\- Decide transmission mode for a multicast session in a cell.
\- Receive assistance information either as part of request for service
announcement or within shared delivery Establishment.
**UE:**
\- Receive MBS data in indicated transmission mode while MBS data is active.
**MB-SMF:**
\- inform RAN nodes in service area of multicast session (Option B).
\- provide assistance information as part of shared delivery establishment.
\- inform RAN nodes of MBS session release.
## 6.20 Solution #20: Registration procedure enhancements for multicast
reception
### 6.20.1 Introduction {#introduction-18}
This solution addresses Key Issue #1 and #6.
Editor\'s note: Further evaluation whether this solution relates to those key
issues is required.
### 6.20.2 Functional description
When the UE moves to a new Tracking Area (TA) outside the UE\'s Registration
Area in CM-CONNECTED (including CM-CONNECTED with RRC Inactive state) or CM-
IDLE state, the UE needs to initiate an Mobility Registration Update procedure
towards the 5GS.
If the UE is in CM-CONNECTED with RRC Inactive state and receiving multicast
MBS session(s) before initiating the Mobility Registration Update procedure,
in order to avoid interruption in data reception of the multicast MBS
session(s), the UE should indicate to the network that the PDU Session(s)
associated with the multicast MBS session(s) remain established.
NOTE 1: As described in clause 7.2.2.2 of TS 23.247 [4], if the associated PDU
Session is released, the UE leaves MBS Session(s) associated with that PDU
session implicitly. To resume the reception of the related MBS service(s), the
UE needs to initiate the procedures as defined in clause 7.2.1 of TS 23.247
[4] to re-join the MBS Session(s).
In addition, since there can be more than one multicast MBS session associated
with one PDU Session, it would be beneficial for the UE to also provide the
(status) information of multicast MBS session(s) associated with the PDU
Session, i.e. whether the UE wants to join or leave (e.g. due to triggers from
the application layer) or remain joined an multicast MBS session, so that:
NOTE 2: The network already has information about the MBS sessions a UE joined
before. A UE might want to join a multicast if the boundary of the new TA
coincides with the boundary of the service area of the multicast session, but
the likelihood of that scenario is low.
\- the network will not trigger multicast MBS session establishment towards
the NG-RAN if the UE indicates leaving the multicast MBS session.
\- the multicast MBS session join/leave procedures is continued in the network
and multicast MBS session resources can be reserved or released (if not
reserved/released yet) during the registration procedure.
Compared to Rel-17 MBS specification in TS 23.247 [4] where the UE needs to
initiate PDU Session establishment or modification procedures to join/leave
the multicast MBS session after the registration, it would improve the
signalling efficiency and reduce the time for the UE to join/leave the
multicast MBS session(s) to allow the UE to initiate MBS session join/leave or
indicate join status in Registration procedures.
### 6.20.3 Procedures
#### 6.20.3.1 Registration procedures
The following enhancements are applied to registration procedure with the
following conditions:
\- the registration type is Mobility Registration Update, e.g. upon the UE
changing to a new Tracking Area (TA) outside the UE\'s Registration Area in
CM-CONNECTED (including CM-CONNECTED with RRC Inactive state) or CM-IDLE
state.
\- the UE has established the PDU Session(s) that is or can be associated with
the multicast MBS session(s) before the registration procedure.
The general registration procedure as defined in clause 4.2.2.2.2 of TS 23.502
[3] are used with the following enhancements:
\- In step 1, the UE includes/indicates also the following information in the
Registration Request:
\- the PDU Session status of the associated PDU session(s) is set as
established, if the UE remains joined or wants to join one or more multicast
MBS Session(s) associated with the PDU session(s).
\- MBS session information container, which contains the multicast MBS session
information associated with the PDU Session ID identifying the associated PDU
Session, as follows:
\- MBS Session ID(s) and an indication of \"join\" for the multicast MBS
session(s) that it wants to join, if any;
\- MBS Session ID(s) and an indication of \"leave\" for the multicast MBS
session(s) that it has joined and wants to leave, if any.
\- In step 17, the AMF invokes the Nsmf_PDUSession_UpdateSMContext towards the
SMF(s) serving the associated PDU Session(s). The
Nsmf_PDUSession_UpdateSMContext contains the MBS session information container
for the associated PDU Session. Then, based on the multicast MBS session
information in the MBS session information container:
\- if the multicast MBS session information contains the MBS Session ID(s) and
indication of \"join\" for the multicast MBS session(s) that the UE wants to
join, steps from step 2 onwards described in clause 7.2.1.3 of TS 23.247 [4]
are executed to complete the multicast MBS session join procedure for the UE
to join the multicast MBS session(s) identified by the MBS Session ID(s).
\- if the multicast MBS session information contains the MBS Session ID(s) and
an indication of \"leave\" for the multicast MBS session(s) that the UE wants
to leave, steps from step 3a onwards described in clause 7.2.2.2 of TS 23.247
[4] are executed to remove the UE from the multicast MBS session(s) identified
by the MBS Session ID(s).
\- if, according to the MBS session context in the SMF, there is/are multicast
MBS session(s) that the UE has joined but with MBS Session ID(s) not included
the MBS session information container, the SMF considers that the UE remains
joined in the multicast MBS session(s). If the network allows the UE to remain
in the multicast MBS session, steps from step 5 onwards described in clause
7.2.1.3 of TS 23.247 [4] are executed to complete the multicast MBS session
resource establishment procedure for the multicast MBS session(s); otherwise,
steps from step 3 onwards described in clause 7.2.2.3 of TS 23.247 [4] are
executed to remove the UE from the multicast MBS session(s).
### 6.20.4 Impacts on services, entities and interfaces
UE:
\- sets the PDU Session status of the associated PDU session(s) as
established, if the UE remains joined or wants to join one or more multicast
MBS Session(s) associated with the PDU session(s).
\- provides the information of multicast MBS session(s) associated with the
PDU Session, i.e. whether the UE wants to join or leave multicast MBS
session(s), in the MBS session information container in the Registration
Request to the AMF.
AMF:
\- sends the MBS session information container received in the Registration
Request towards the SMF(s) serving the associated PDU Session(s) in
Registration procedures.
SMF:
\- performs the corresponding multicast MBS session procedures based on the
information in the MBS session information container.
Editor\'s note: It is FFS whether there are RAN impacts due to a new SM
container in registration request. The NG-RAN behaviour is to be determined by
RAN WGs.
## 6.21 Solution #21: Mobility Procedures for UE supporting RRC Inactive MBS
data reception with the MBS session container
### 6.21.1 Introduction {#introduction-19}
This solution addresses Key Issue #1.
### 6.21.2 Functional description
For the UE joined the multicast MBS session(s) and allowed receiving MBS data
in RRC-inactive state, if it moves out its RNA and within RA, the UE triggers
the RNA update procedure. If the resumption of the RRC connection fails, the
UE may initiates the Mobility Registration Update procedure with the MBS
session information (i.e. whether the UE wants to join or leave a multicast
MBS session) in the MBS session information container together with the
associated PDU Session ID(s), to trigger the network to complete multicast MBS
session join and/or leave procedures.
NOTE: The UE may decide to join or leave a multicast session during the
Mobility Registration Update procedure when the resumption of the RRC
connection fails, e.g. due to pending application request.
Later on, if the network supports multicast MBS session transmission to the UE
in RRC Inactive state, the UE may be changed to RRC Inactive state to receive
the MBS data.
### 6.21.3 Procedures
#### 6.21.3.1 RRC-inactive multicast group member UE move out of RNA and
within RA
For the UE joined the multicast MBS session(s) and allowed receiving MBS data
in RRC-inactive state, if the UE moves out its RNA and within RA, it triggers
the RNA update procedure as usual. Based on that procedure, the network may:
\- keep the UE in the RRC Inactive state for MBS data reception, if the
network supports multicast MBS session transmission to the UE in RRC Inactive
state; or
\- move the UE to RRC Idle state if the UE context cannot be retrieved
successfully by the NG-RAN. In this case:
\- the UE may invoke the Mobility Registration Update procedure by sending a
Registration Request which contains the associated PDU session ID(s) and the
MBS session information container. The MBS session information container
contains the multicast MBS session information associated with the PDU Session
ID identifying the associated PDU Session, as follows:
\- MBS Session ID(s) and an indication of \"join\" for the multicast MBS
session(s) that it wants to join, if any;
\- MBS Session ID(s) and an indication of \"leave\" for the multicast MBS
session(s) that it has joined and wants to leave, if any.
The AMF forwards the MBS session information container towards the SMF serving
the associated PDU Session by invoking the Nsmf_PDUSession_UpdateSMContext
service operation. Then, based on the multicast MBS session information in the
MBS session information container, the SMF continues to perform multicast MBS
session join and/or leave procedures as specified in TS 23.247 [4]. Later on,
if the network supports multicast MBS session transmission to the UE in RRC
Inactive state, the UE may be changed to RRC Inactive state to receive the MBS
data.
### 6.21.4 Impacts on services, entities, and interfaces
UE:
\- When the UE receives the MBS data in RRC Inactive state and moves to a new
cell but the resumption of the RRC connection fails, the UE provides the MBS
session information (i.e. whether the UE wants to join or leave multicast MBS
session(s)) in the MBS session information container together with the
associated PDU Session ID(s), in the Mobility Registration Update procedure.
SMF:
\- Performs the corresponding multicast MBS session procedures based on the
information in the MBS session information container.
AMF:
\- Sends the MBS session information container received in the Registration
Request towards the SMF(s) serving the associated PDU Session(s).
Editor\'s note: It is FFS whether there are RAN impacts due to a new SM
container in registration request. The NG-RAN behaviour is to be determined by
RAN WGs.
## 6.22 Solution #22: Session management for RRC Inactive MBS data receiving
UE
### 6.22.1 Introduction {#introduction-20}
This solution addresses Key Issue #1, for the SM procedure handling for
handling UEs in CM-CONNECTED/RRC_INACTIVE state.
### 6.22.2 Functional description
This solution is alternative to solution #4 that is currently documented in
the TR. The multicast session management include following procedures:
\- When MBS session is de-activated as defined in clause 7.2.5.3 of TS 23.247
[4], the NG-RAN node keeps the multicast MBS session context and N3mb shared
tunnel for the multicast MBS session as long as the NG-RAN has UE context for
UEs in the MBS session context which may be in either RRC-CONNECED or
RRC_INACTIVE state. In other words, the NG-RAN does not trigger release of the
shared delivery as described in clause 7.2.2.4 of TS 23.247 [4] if it
maintains context for RRC_INACTIVE UEs.
\- During MBS session (re-)activation, the group-based paging is executed only
for UEs in CM-IDLE state as currently defined. A UE in RRC-INACTIVE state is
in CM-CONNECTED state in CN and therefore group paging is not needed for this
UE.
Editor\'s note: RAN paging procedures are under remit of the RAN groups.
### 6.22.3 Procedures
#### 6.22.3.1 Modification to the MBS session de-activation procedure
Figure 6.22.3.1-1: MBS session de-activation procedure to allow keeping the
UEs in CM-CONNECTED/RRC_INACTIVE state
1\. No changes to steps 1-4 compared to TS 23.247 [4] clause 7.2.5.3.
2-3. Steps 2 and 3 are shown in the figure for comparison with existing
procedure since MB-SMF does not request de-activation of the MBS session and
the AMF does not send NGAP deactivation request message (N2 SM information ())
to the NG-RAN nodes since the UEs are kept in CM-CONNECTED state. The NG-RAN
node keeps the multicast MBS session context and N3mb shared tunnel for the
multicast MBS session. NG-RAN can decide locally to change the RRC state of
some UEs to RRC_INACTIVE.
NOTE 1: Based on this procedure UEs are kept in CM-CONNECTED state while the
MBS session is deactivated, and they do not transit to CM-IDLE state (as in
Rel-17).
The MBS session context will never indicate that there are no UEs for the
multicast MBS session, and therefore the NG-RAN will never trigger release of
the shared delivery as described in clause 7.2.2.4.
NOTE 2: NG-RAN does not trigger release of the shared delivery if there are
UEs in CM-CONNECTED and RRC-Inactive.
#### 6.22.3.2 Modification to the MBS session (re-)activation procedure
Figure 6.22.3.2-1: MBS session re-activation procedure to allow keeping the
UEs CM-CONNECTED/RRC_INACTIVE state
1\. No changes to steps 1-4a compared to clause 7.2.5.2 of TS 23.247 [4].
After receiving the request, for each UE in the list, the AMF determines CM
state of the UE and determines that specific UEs are CM-CONNECTED (since they
are in RRC_INACTIVE state in NG-RAN). The AMF indicates those UEs to the SMF,
using Namf_MT_EnableGroupReachability Response (UE list).
2\. No changes to steps 11-15 compared to clause 7.2.5.2 of TS 23.247 [4]. The
shared tunnel has been established before, and therefore there is no need for
it to be established. When the service is re-activated and there are UEs in
RRC_INACTIVE state, the NG-RAN needs to notify the UEs of this activation.
NOTE: How the UEs are notified in this case is up to RAN2 to decide.
### 6.22.4 Impacts on services, entities, and interfaces
NG-RAN:
\- Keeps the MBS session context when it wants to allow reception in
RRC_INACTIVE.
MB-SMF:
\- Does not de-activate the shared tunnel.
## 6.23 Solution #23: MBS session activation for RRC Inactive MBS data
receiving UE
### 6.23.1 Introduction {#introduction-21}
This solution addresses Key Issue #1, especially on the MBS session activation
for RRC Inactive MBS data receiving UE.
This solution builds on top of solution 6, i.e. reuse the Qos information to
determine whether MBS session can be put into RRC inactive.
### 6.23.2 Functional description
This solution builds on top of solution 6. The solution is based on the
following principles:
\- For the MBS session deactivation procedure, there is no impact. After MBS
session deactivation, the NG-RAN can determine how to handle the RRC inactive
UE.
\- The AMF know the 5GS support receiving multicast data in RRC inactive
state. The AMF is aware of NG-RAN capability for supporting reception of MBS
data in RRC Inactive state.
\- When the AMF receives the Namf_MT_EnableGroupReachability from SMF, the AMF
figures out the paging area covering all the registration areas of those
UE(s), which need to be paged. This paging area includes the all the
registration areas of those UE in CM-IDLE mode, and NG-RAN node where the CM-
Connected mode UE(s) is camping on. For example, even all the UEs involved in
the MBS session are in CM-Connected mode, the AMF need to figure out the NG-
RAN node the UEs camp on, so the AMF need to inform these NG-RAN nodes to
handle the potential RRC inactive UE.
Editor\'s note: There is a need for further explanation of this procedure. RAN
paging will also be triggered by the MB-SMF, and this request is typically
faster as it does not need to be forwarded by SMFs.
\- When the NG-RAN receives the paging request from AMF with TMGI, it perform
the paging for the UE (e.g. UE in idle mode and RRC Inactive mode).
NOTE: How the NG-RAN handle the UE in the RRC inactive when receives the
paging request is in RAN scope.
Editor\'s note: When receiving the group paging, the behaviour of UE
supporting RRC inactive reception will be further defined by RAN WGs.
Editor\'s note: Whether the radio resource (MRB) for multicast MBS can be
established for the UE in RRC Inactive state depends on RAN WG decision.
### 6.23.3 Procedures
Figure 6.23.3.1-1: Multicast Session Activation Procedure
The procedure is on top of TS 23.247 [4] Figure 7.2.5.2-1, with following
enhancement.
Before step 1, the NG-RAN may move some UE into CM-Connected with RRC
Connected/Inactive state.
5\. The AMF figures out the paging area covering all the registration areas of
those UE(s), which need to be paged. This paging area includes the all the
registration areas of those UE in CM-IDLE mode, and NG-RAN node where the CM-
Connected mode UE(s) is camping on. The AMF sends a paging request message to
the NG-RAN node(s) belonging to this Paging Area with the TMGI as the
identifier to be paged if the related NG-RAN node(s) support MBS. If the NG-
RAN node(s) do not support MBS, the AMF sends initiate the normal CN paging.
6\. For the RRC inactive mode UE, the NG-RAN initiates the RAN paging.
For the UE(s) joined the MBS session and need receive multicast service in
RRC-Connected state, the UE initiates the Service Request as usual.
NOTE 1: How the NG-RAN handle the UE in the RRC inactive when receives the RAN
paging request is in RAN scope.
12\. If step received before step 5, for the RRC inactive mode UE, the NG-RAN
initiates the RAN paging. Which is similar with step 6.
NOTE 2: In most cases, the step 12 is before step 5.
Editor\'s note: The UE behaviour when received the group paging is to be
defined by RAN WG.
### 6.23.4 Impacts on services, entities, and interfaces
AMF:
\- The AMF figures out the paging area covering all the registration areas of
those UE(s), which need to be paged. This paging area includes the all the
registration areas of those UE in CM-IDLE mode, and NG-RAN node where the CM-
Connected mode UE(s) is camping on.
Editor\'s note: The NG-RAN behaviour is RAN scope.
## 6.24 Solution #24: Solution based on configuration in RAN to support MOCN
RAN Sharing
### 6.24.1 Introduction {#introduction-22}
This solution addresses Key Issue #2.
### 6.24.2 Functional description
This solution relies on RAN configuration does not need any new parameter as
proposed in existing solutions but the service-id part of the TMGI of the RAN
sharing partners that corresponds to the same content is configured in RAN.
For example, if PLMNs with MCC=234, MNC=15 (operator A) and MCC=234, MNC=10
(operator B) are doing MBS RAN sharing, the corresponding RAN nodes are
already configured with the PLMN-ids of each of the sharing partner and can be
configured with the specific respective service-id (6 digits numbers) of the
TMGIs of two PLMNs that correspond to the same content or even range of
service-ids. For instance, service-id=123456 (for operator A) and service-
id=001234 (for operator B) corresponds to content from \"TV channel X\". This
means that the corresponding MB-SMF in each PLMN will allocate the service ids
for the TMGI based on the specific range expected for the same content. Then
the RAN node can populate accordingly the MCCH with the respective TMGI of the
RAN sharing partners. Based on rel.17 RRC encoding, it is possible to have
common MTCH configuration and same G-RNTI mapped to different TMGIs. Based on
RAN OAM configuration, it is possible to identify which TMGIs (belonging to
different PLMNs in this case) providing same broadcast service.
In the service announcement for the broadcast MBS sessions delivering the same
content, the respective MBSFs of each PLMN can indicate the PLMN specific TMGI
to the UEs.
Editor\'s note: Support of the encrypted content reception is FFS.
### 6.24.3 Procedures
#### 6.24.3.1 General
#### 6.24.3.2 MBS Session Creation
As in clauses 7.1.1.2 and 7.1.1.3 of TS 23.247 [4] for each PLMN.
#### 6.24.3.3 MBS Session Start for Broadcast
Figure 6.24.3.3-1: Existing MBS Session Start for Broadcast for MOCN RAN
sharing (as in clause 7.3.1 of TS 23.247 [4])
The following modifications apply compared to clause 7.3.1 of TS 23.247 [4]
when MBS Session Start for the second and later broadcast MBS sessions:
1\. Each PLMN needs to allocate the TMGIs based on the specific service-ids or
ranges of service-ids. For example, MB-SMF of operator A allocates service-
id=123456 and MB-SMF of operator B service-id=001234. This can happen in
different ways:
a) NEF/MBSF will need to pass the afID defined in Nnef_TMGI_Allocate to MB-SMF
using Nmbsmf_TMGI_Allocate (i.e. afID needs to be added in TS 29.532 [17]) and
therefore allow MB-SMF to have a \"policy\" in TMGI allocation based on
identification of AF. The afID is currently encoded in \"string\" format
according to TS 29.522 [18], and it needs to provide enough information (e.g.
indicating specific content) to NEF/MBSF in order to allocate the TMGI
according to the required \"policy\".
b) MB-SMF can delegate a TMGI range to NEF to allocate for that purpose and
keep the afID so it can assign based on some policy
c) (if MBSF is used) MB-SMF can delegate a TMGI range to MBSF to allocate for
that purpose and it can assign the TMGI based on some \"policy\" depending on
the identification of AF
Editor\'s note: Whether the afID will be provided to MB-SMF will be coordinate
with CT WG4.
No changes required in steps 2-8.
9\. Since NG-RAN is configured with the list of the associated specific
service-ids or ranges of service-ids of the TMGIs of each RAN sharing partner
whose content has been delivered over the air, the NG-RAN propagates the TMGI
for the new PLMN for which the second or later broadcast session is
established.
For example, if the service-id=123456 (for operator A) and service-id=001234
(for operator B) corresponds to content from \"TV channel X\" and MCCH already
advertised TMGI= 123456 234 15, it also adds in MCCH TMGI= 001234 234 10.
NG-RAN configures the same MTCH for both TMGIs.
The UE from operator B, having received the service announcement is able to
read the TMGI (001234 234 10) and receive the content.
15\. Since NG-RAN understands the broadcast MBS Session is associated with
another Broadcast MBS Session identified by the corresponding TMGI whose
content has been delivered over the air, the NG-RAN can silently drop packets
received in this broadcast MBS session, and do not deliver them again.
Editor\'s note: Details will be confirmed by the RAN WGs.
Editor\'s note: It is FFS whether NG-RAN should avoid establishing UP
resources for the second and later broadcast MBS sessions for more saving.
#### 6.24.3.4 MBS Session Release for Broadcast
Figure 6.24.3.4-1: MBS Session Release for Broadcast for MOCN RAN sharing
The following modifications apply compared to clause 7.3.2 of TS 23.247 [4]
when MBS Session Release for the broadcast MBS session which is created
firstly:
5\. If the NG-RAN intends to perform MBS Session Release for operator A but
determines there are other corresponding broadcast MBS sessions for other
PLMNs available, it removes only the TMGI for operator A from the MCCH while
keeping the rest of the TMGIs. NG-RAN should switch to another MBS session to
receive data (e.g. MBS session for operator B).
Editor\'s note: Details will be confirmed by the RAN WGs.
### 6.24.4 Impacts on services, entities and interfaces.
Functional entities defined in clause 5.3.2 of TS 23.247 [4] are reused
exception for the following additions:
NG-RAN:
\- RAN is configured with specific service-ids or service-id ranges
corresponding to the same content for each of their RAN sharing partners.
\- During MBS Session starts for each of the MOCN PLMNs NG-RAN adds to the
MCCH the corresponding TMGI.
\- During MBS Sessions releases for each of the MOCN PLMNs NG-RAN removes from
the MCCH the corresponding TMGI.
\- RAN configures the same MTCH for each of the TMGI corresponding the same
content as allowed by existing Rel-17 RRC.
Depending on which option is used for TMGI allocation by the PLMN (a, b, or c)
different impacts apply:
In the case of a):
MB-SMF:
\- MB-SMF of each PLMN is configured with specific service-ids or service-id
ranges corresponding to the same content based on AF ID provide from NEF.
NEF:
\- NEF to provides AF Id to MB-SMF.
In the case of b):
NEF:
\- NEF to allocate TMGI and keep the afID so it can assign TMGI based on some
policy that applies per specific content from AF.
In the case of c):
MBSF:
\- MBSF to allocate TMGI and keep the afID so it can assign TMGI based on some
policy that applies per specific content from AF.
No other impacts in AF, and UE.
## 6.25 Solution #25: Triggering capability limited devices to receive MBS
data
### 6.25.1 Introduction {#introduction-23}
This solution addresses Key Issue #5.
### 6.25.2 Description
To enable capability limited devices using power-saving mechanisms (MICO
(Mobile Initiated Connection Only) mode, DRX (Discontinuous Reception), eDRX
(Extended Discontinuous Reception) to extend their battery live, those devices
need to wake up at coordinated times when the MBS data are being transmitted.
For MBS multicast reception, the UEs send service requests at those times when
being in idle state beforehand. While no MBS data are being transmitted, the
devices follow the power saving procedures and may thus not be reachable
If periodic transmissions are scheduled in an MBS session or the MBS session
is set up for a one-time delivery, the devices may be informed in advance via
service announcement or when it joins the MBS session about the time(s) when
MBS data transmission will take place. The AF provides information about the
time(s) when MBS data transmission will take place via NEF/MBSF to MB-SMF when
configuring the multicast session. MB-SMF activates/deactivates multicast
session based on configured times. The UEs start to receive MBS data at the
configured times.
If an MBS session is used to transmit data at irregular intervals, the devices
need to be informed about the data transmission while the MBS session is
ongoing. The AF sends a delayed activation request indicating the desired
activation time for an MBS session to the MB-SMF, and the MB-SMF request the
SMFs to perform a delayed activation. The SMFs in turn request the AMFs to
perform deferred paging. If UEs negotiated an eDRX cycle and joined the
multicast session, the AMF pages the UE in the Paging Hyperframes (PH) / time
intervals calculated according to eDRX procedures before the transmission
start and indicates the transmission start time.
NOTE: For a periodic transmission or a one-time transmission it is sufficient
to let the AF activate or deactivate the MBS Session based configured time.
For transmission at irregular intervals not known at service announcement
time, UEs need to be informed before the transmission can start and the
delayed activation request is required.
Editor\'s note: whether both scenarios will be supported will be assessed in
the evaluation phase.
### 6.25.3 Procedures
#### 6.25.3.1 Periodic or one time transmission of MBS data to capability-
limited devices
Figure 6.25.3.1-1: Periodic or one time transmission of MBS data to
capability-limited devices
If periodic transmissions are scheduled in an MBS session or the MBS session
is set up for a one-time delivery, the devices may be informed in advance via
service announcement or when it joins the MBS session about the time(s) when
MBS data transmission will take place. The AF provides information about the
time(s) when MBS data transmission will take place via NEF/MBSF to MB-SMF when
configuring the multicast session. MB-SMF activates/deactivates multicast
session based on configured times. The UEs start to receive MBS data at the
configured times.
#### 6.25.3.2 Deferred activation for aperiodic transmission of MBS data to
capability-limited devices
Figure 6.25.3.2-1: Deferred activation for aperiodic transmission of MBS data
to capability-limited devices
If an MBS session is used to transmit data at irregular intervals, the devices
need to be informed about the data transmission while the MBS session is
ongoing. The AF sends a delayed activation request indicating the desired
activation time for an MBS session to the MB-SMF, and the MB-SMF request the
SMFs to perform a delayed activation. The SMFs in turn request the AMFs to
perform deferred paging. If UEs negotiated an eDRX cycle and joined the
multicast session, the AMF pages the UE in the Paging Hyperframes (PH) / time
intervals calculated according to eDRX procedures before the transmission
start and indicates the transmission start time.
### 6.25.4 Impacts on services, entities and interfaces.
Editor\'s note: This clause describes impacts to existing services, entities
and interfaces.
AF:
\- Inform NEF about start times.
\- Send delayed activation request indicating start time.
\- Send MBS data at indicated times only.
UE:
\- Receive and store start times via service announcement, join, or NAS
transfer.
\- wake up at indicated times.
AMF:
\- For deferred activation, page UEs according to eDRX procedures and inform
them about wakeup time.
SMF:
\- Activate MBS session at indicated times.
\- Forward request for deferred activation.
## 6.26 Solution #26: AF selects UEs to be kept in connected mode
### 6.26.1 Introduction {#introduction-24}
This solution addresses Key Issues #1 and #6.
### 6.26.2 Description
This solution applies to active MBS sessions, and inactive MBS sessions.
Editor\'s note: It is to be clarified whether and how this solution will be
prevented to be applied to the UEs without joined MBS Sessions, due to no MBS
related call flows involved in this solution.
As outlined in clause 4.2, solutions shall enable simultaneous reception of
MBS session data for a higher number of UEs in a cell than can be operating in
RRC_CONNECTED state, to participate in public safety group calls using MBS-
based service. This requires that many such UEs transition to RRC-inactive
state. On the other hand there are requirements for short reaction times for
floor control requests and some participants in an MBS session may be so
frequent talkers that a very frequent transition between RRC-Connected state
and RRC_INACTIVE state would burden the network, and it is thus desirable to
keep such UEs in RRC_CONNECTED state.
For UEs in one or several MBS sessions, AF identifies UEs that should be kept
in connected state, e.g. UEs of likely talkers in an MBS session such as
dispatchers for public safety, and provides this information to CN as
assistance information. The AF does this via
Nnef_ParameterProvision_Create/Update service operations (see clause 4.15.6.2
of TS 23.502 [3]). The NEF only accepts related requests from authorized
trusted AFs, e.g. related to public safety.
Editor\'s note: It is FFS whether AF can identify UEs to be kept in
RRC_CONNECTED state or AF should provide priority information (which may
cooperate with solutions for KI#1) for NG-RAN to determine RRC states.
AF may use configuration or frequency of floor requests received from UE as
criterion to select UEs and should only keep a small fractions of the UEs
participating in an MBS session with many participants in connected state.
Editor\'s note: Details how the AF selects a small fraction of UEs will need
to be studied by SA6.
NOTE 1: If the AF selects an excessive number of UEs for the connected state,
this will limit the number of UEs that can receive an MBS multicast session
and will also negatively impact the overall admission control of a RAN node.
AF should remove information that UEs shall always be connected when related
MBS session(s) end. The AF may also remove MBS UEs while the session is
inactive for longer periods.
Editor\'s note: Specifications under the SA6 remit might require updates to
ensure that AF to remove information when related MBS session(s) ends. This
requires collaboration with SA6
NEF stores in UDM users that preferably shall be kept connected. The NEF may
restrict the number of UEs that an AF is allowed to suggest for connected
state by rejecting requests with the number of UEs exceeding a preconfigured
limit.
Editor\'s note: It is to be clarified how the preconfigured limit can be
determined in NEF.
For each indicated UE, the UDM stores as part of the UE subscription data that
user shall preferably be kept connected
SMFs are notified about changes in UE subscription data based on previous
subscription or inquire UE subscription data when PDU session is being
established. This includes information that user shall preferably be kept
connected.
SMF provides the information that UE shall preferably be kept connected as
part of the SM management information via AMF to NG RAN node handling the
user.
NG RAN nodes should keep UE for which such information was received and that
are participating in at least one active multicast MBS session in RRC and CM
connected state and may select to move other UEs to RRC Inactive or CM idle
states if experiencing higher load, as long as this is feasible in its
admission control.
NOTE 2: The RAN does not need check whether the UE is participating in any MBS
sessions, as the AF is expected to only select UEs in MBS sessions.
Editor\'s note: How the RRC state is handled is to be determined by RAN WGs.
As an additional improvement, UEs do not send \"listener reports\" while in
MBS service area and in RRC inactive mode. Listener reports can become a
problem in particular for UEs close to cell border moving frequently between
cells.
Editor\'s note: Coordination with SA6 is required on the implication that UEs
do not send \"listener reports\" while in MBS service area and in RRC inactive
mode.
### 6.26.3 Procedures
Figure 6.26.3.2-1: AF selects UEs to be kept in connected mode
1\. AF identifies UEs to be kept in RRC connected state.
2\. AF uses parameter provisioning procedure to provide UEs to be kept in
connected state to NEF.
3\. NEF stores in UDM users that preferably shall be kept connected. For each
indicated UE, the UDM stores as part of the UE subscription data that user
shall preferably be kept connected.
4\. SMFs are notified about changes in UE subscription data based on previous
subscription or inquire UE subscription data when PDU session is being
established. This includes information that user shall preferably be kept
connected.
5-6. SMF provides the information that UE shall preferably be kept connected
as part of the SM management information via AMF to NG RAN node handling the
user.
7\. NG RAN nodes preferably keep UE for which such information was received in
RRC and CM connected state.
### 6.26.4 Impacts on services, entities and interfaces.
**AF:**
\- Select UEs to be kept in connected mode and provide those UEs to CN via
parameter provisioning procedure
**NEF/UDM/SMF**
\- Updates to parameter provisioning procedure to transfer UEs to be kept in
connected mode
**SMF:**
\- Inform NG-RAN that UE shall be kept in connected state via PDU session
modification
**NG-RAN:**
\- Keep indicated UE in connected state
**UE:**
\- Do not send listener reports while in MBS service area and inactive state
## 6.27 Solution #27: AF providing list of prioritized UEs when creating
multicast MBS Session
### 6.27.1 Introduction {#introduction-25}
This solution addresses the following bullet in Key Issue #1.
\- Whether, how and what MBS assistance information to provide from 5GC to RAN
for an MBS session allowing UEs in CM-CONNECTED with RRC Inactive state to
receive MBS content, including the aspect which 5GC NF(s) determine the MBS
assistance information and how they do so.
### 6.27.2 Functional description
When the AF creates multicast MBS session, the AF may provide to the 5GC list
of UEs (represented by GPSI) whether they\'re privileged or not within the
multicast group.
NOTE 1: Compared to Solution#3 in clause 6.3.2, this solution carries the UE
list of privileged users in the existing MBS Session creation message, while
Solution#3 provide the privileged user information using PDU Session
signalling triggered by PCC.
NOTE 2: How to handle situations where different UEs are prioritized in
different multicast groups is to be determined by RAN WGs.
NOTE 3: The merits of providing a prioritized UE list related to a multicast
session need to be discussed in the evaluation phase.
NOTE 4: A UE involved in different multicast groups may be
prioritized/privileged in one multicast group, but not prioritized/privileged
in another group.
NOTE 5: When the MBS session is handed over to non-MBS supporting RAN node, if
the 5GC Individual Traffic delivery is applied, the MBS data will be
transferred via PDU Session which requires the UE to be in RRC_CONNECTED,
therefore the UE differentiation proposed in this solution does not apply to
non-supporting NG-RAN.
The number of UEs to differentiate provided by AF is expected to be small.
Exact number can be based on configuration, and in case the number exceeds the
limit, the MB-SMF can do a throttling and include the list of dropped UEs in
the response to the AF.
NOTE 6: The merits of selecting UEs to be dropped at the MB-SMF instead of the
AF needs to be discussed in the evaluation phase.
NOTE 7: For multicast MBS Session, in SMF, the list of UEs that have joined
the MBS Session is included in MBS Session context which is shared by all UEs.
In this solution, the SMF retrieves the list of prioritized UEs as part of MBS
Session context information. It is possible that some prioritized UEs in the
list are not handled by an SMF (if those UEs have not joined yet, or joined in
other SMF(s)). Due to that, later if the list of UE is updated, the unrelated
SMF also need be notified.
When the 5GC provides the UE join information to the NG-RAN at UE join or MBS
Session Activation, if the SMF has got information from MB-SMF that the UE is
prioritized within the multicast group, the SMF provides such information to
the NG-RAN to assist NG-RAN in its decision what UEs can be sent to
RRC_INACTIVE and continue receiving MBS data.
### 6.27.3 Procedures
In the existing procedure in clause 7.1.1.2 of TS 23.247 [4], step 8 & step 11
is enhanced as follows (**enhancement text in bold**):
_8\. AF of content provider may provide description for an MBS session
(possibly providing information for a previously allocated TMGI to NEF via a
Nnef_MBSSession_Create request (([MBS Session ID], service type, MBS
information, [TMGI allocation indication]). If step 1-6 has not been executed
before, the AF may provide a SSM or it may request that the network allocates
an identifier for the MBS session (i.e. TMGI). The AF provides the service
type (i.e. either multicast service or broadcast service). MBS session
information may further include QoS requirements and Any UE indication
(indicating whether a multicast MBS session is \"open to any UEs\"), MBS
service area, start and end time of the MBS session and MBS session state
(Active/Inactive). In addition, MBS information may also indicate whether the
allocation of an ingress transport address is requested._
_If geographical area information or civic address information was provided by
the AF as MBS service area, NEF/MBSF translates the MBS service area to Cell
ID list or TAI list._
_For broadcast communication, the AF may determine MBS FSA ID(s) for the
Broadcast MBS session based on business agreements and include them in the
description of the MBS session_
**For multicast MBS Session, the AF may provide a list of UEs that are to be
differentiated (or prioritized) and those UEs are represented by GPSI.**
. . .
_11\. NEF/MBSF sends Nmbsmf_MBSSession_Create Request (MBS Session ID, service
type, TMGI allocation indication, MBS service area information, ingress
transport address request indication) to MB-SMF, to request MB-SMF to reserve
ingress resources for a MBS distribution session, The NEF/MBSF provides MBS
Session ID or request allocation of a TMGI, and indicate the requested service
type (either multicast service or broadcast service) and MBS session state
(Active/Inactive). It also indicates that the allocation of an ingress
transport address is requested if this was requested in step 8, or if the MBSF
decides to insert an MBSTF into the user plane for the MBS session. The
request also includes the Any UE indication if provided in step 8._
_The MBS service area is provided by NEF/MBSF to the MB-SMF if provided by the
AF in step 8._
_MBS FSA ID(s) are provided by NEF/MBSF to the MB-SMF if provided by the AF in
step 8._
_If requested to do so, or if a source specific multicast is provided as MBS
Session ID in step 11, the MB-SMF allocates a TMGI._
_For broadcast communication, if no MBS FSA ID(s) have been received, the MB-
SMF selects MBS FSA ID(s) for the Broadcast MBS session based on local
configuration._
**For multicast MBS Session, the NEF/MBSF forward to the MB-SMF the list of
UEs that are to be differentiated (or prioritized) if provided by the AF.**
In the existing procedure in clause 7.2.1.3 of TS 23.247 [4], there is
following enhancement (**enhancement text in bold):**
_3\. [Conditional] For each MBS session in step 1, if the SMF has not
subscribed to the MBS Session Context, it invokes
Nmbsmf_MBSSession_ContextStatusSubscribe request (MBS Session ID) towards the
MB-SMF to subscribe to events notifications related to the multicast MBS
session and to request information about the MBS Session Context. The MB-SMF
responds with the information about the indicated multicast MBS session in
Nmbsmf_MBSSession_ContextStatusSubscribe response (multicast QoS flow
information (e.g. QoS profile(s) for the multicast MBS session), [start time],
[session state (Active/Inactive)], [Any UE indication], [multicast DL tunnel
info],_ **[List of prioritized UEs** _])._
_If it is the first time for the MB-SMF to receive
Nmbsmf_MBSSession_ContextStatusSubscribe request of the indicated MBS Session
from any SMF, the MB-SMF learns it is the first UE joining the multicast MBS
session. For multicast transport between MB-UPF and content provider, if it is
the first UE joining the multicast MBS session, and MB-UPF has not joined the
multicast tree in the MBS session creation procedure, described in clause
7.1.1, the MB-SMF requests the MB-UPF to join the multicast tree towards the
AF/MBSF, otherwise MB-SMF will not send the request to the MB-UPF._
_NOTE 2: The MB-SMF can answer the Nmbsmf_MBSSession_ContextStatusSubscribe
request either based on information received in the MBS session creation
procedures in clause 7.1.1 or based on preconfigured information. The pre-
configuration also includes information about the MBS session stored in the
NRF. If the MB-SMF uses preconfigured information, the pre-configuration also
includes MB-UPF configuration._
_4\. The SMF determines whether the user is authorized to join the Multicast
MBS session taking into account the MBS subscription data received from the
UDM and the Any UE indication if received from the MB-SMF. The SMF considers
the UE as authorized to the Multicast MBS session if the UE is authorized to
use multicast MBS services, and if the MBS Session ID(s) in the PDU Session
Modification Request is included in the MBS subscription data or Any UE
indication is received. If authorization check fails, the SMF rejects the join
request with a cause value. If a UE joins prior to the start time of the
multicast MBS session, the SMF may accept the join request and indicate to the
UE the start time, or it may reject the join request with an appropriate error
cause and optionally a back-off timer. If a UE joins while the multicast MBS
session is inactive, the SMF accepts the join request._
_5\. If the join request is accepted, the SMF responds to the AMF through
Nsmf_PDUSession_UpdateSMContext response (N2 SM information (PDU Session ID,
MBS Session ID, [updated PDU Session information], [mapping information
between unicast QoS flow(s) and multicast QoS flow (s)],_ **[assistant
information of UE differentiation/prioritization]**_), N1 SM container (PDU
Session Modification Command)) to:_
_\- create an MBS Session Context for the indicated MBS session in the RAN, if
it does not exist in the RAN already; and_
_\- inform the NG-RAN about the relation between the Multicast MBS Session
Context and the UE\'s PDU Session context by including the MBS Session ID and
the mapping between the multicast QoS flow(s) and associated QoS flow(s)._
**\- Inform NG-RAN the assistant information of UE differentiation (or
prioritization).**
_Based on operator policy, the SMF may prepare for 5GC Individual MBS traffic
delivery fall-back. The SMF maps the received QoS information of the multicast
QoS Flow into PDU Session\'s unicast QoS Flow information, and includes the
information of the QoS Flows and the mapping information about the QoS Flows
(termed \"associated QoS flow information\") in the SM information sent to
RAN. The SMF compares the QFIs of the multicast QoS Flows received from the
MB-SMF with QFIs in use for the PDU Session and assigns unused QFIs to the PDU
Session\'s unicast QoS Flows corresponding to multicast QoS Flows._
_. . ._
_6\. The N2 message, which includes the MBS Session ID(s) the UE has joined
and, if applicable, associated QoS Flow, is sent to the NG-RAN._ **The N2
message may also include information whether the UE is
differentiated/prioritized to assist the NG-RAN when deciding what UEs can be
sent to RRC_INACTIVE and continue receiving MBS data.**
_If the MBS is supported by NG-RAN, 5GC Shared MBS traffic delivery is
adopted. If the MBS is not supported by NG-RAN, 5GC Individual MBS traffic
delivery is used if the PDU Session\'s unicast QoS Flow include QoS Flows for
the multicast session._
_If the NG-RAN supports MBS, the NG-RAN uses the MBS Session ID to determine
that the PDU Session identified by the PDU Session ID is associated with the
indicated multicast MBS session._
_If the NG-RAN supports MBS, the associated unicast QoS flow information, if
provided, is not used to allocate the radio resource and CN resource for
corresponding QoS flows._
NOTE 6: UE join request via PDU Session signalling will fail if NG-RAN rejects
the PDU Session Resource setup request (e.g. due to the number of UEs reaching
a limit).
### 6.27.4 Impacts on services, entities and interfaces.
AF:
\- Include new parameter with list of prioritized UEs (represented by GPSIs)
that may assist the NG-RAN when determining to move the UEs when receiving MBS
data to RRC_INACTIVE.
NEF (if deployed)
\- Forward the parameter of list of prioritized UEs to MB-SMF.
MB-SMF:
\- Store the list of prioritized UEs (represented by GPSI) and provide the
list to SMF when UE joins the multicast MBS Session.
SMF:
\- If the UE differentiation information is provided by MB-SMF, the SMF
provides the information to NG-RAN.
NG-RAN:
\- The NG-RAN receives the UE differentiation information and may consider it
when the NG-RAN determines whether to move the UE receiving MBS to
RRC_INACTIVE in PDU Session setup or modification.
NOTE: How the group member information is used by NG-RAN is to be determined
by RAN WGs.
## 6.28 Solution #28: Session management and Mobility for RRC Inactive MBS
data reception
### 6.28.1 Introduction {#introduction-26}
This solution addresses Key Issue #1, especially on the session management and
mobility handling for RRC Inactive state UE MBS data reception.
There are several assumptions for this solution:
\- In the RAN Notification Aare for the UE, all the RAN node are homogeneously
supporting the UE receiving the MBS data in RRC-inactive state
\- The RAN Notification Aare may span multiple RAN nodes.
\- For the case, some RAN nodes within the RNA choose the delivery mode for
connected mode reception and other RAN nodes choose the delivery mode for
inactive mode reception for the MBS session:
\- If the UE move from source node which deliver data in connected mode to
target node which deliver the data in RRC Inactive mode, the target NG-RAN
determine whether move the UE to RRC inactive reception.
\- If the UE move from source node which deliver data in RRC inactive mode to
target node which deliver the data in connected mode, how to move the UE to
connected mode depend on the RAN WG decision.
Editor\'s note: The assumption need to be confirmed by RAN WGs.
### 6.28.2 Functional description
The session management for the RRC inactive state UE receiving the multicast
MBS session data, includes the following procedures/principle:
\- When the serving RAN node determines to move the UE into RRC Inactive
state, it keeps the UE context and interacts with other RAN nodes in the RAN
notification area. The serving RAN node forward the date received from shared
delivery tunnel to other RAN nodes in the RAN notification area. The other RAN
nodes need to send the multicast MBS session data in Uu.
NOTE 1: Whether and how to prevent that multicast data are also transmitted in
cells where no UE in the multicast session is located depend on RAN WG
decision.
NOTE 2: Whether and how the MBS RRC inactive assistant information is sent to
RAN depends on other solution.
\- If both RAN nodes in the same RAN notification area have established the
shared delivery tunnel for the multicast MBS session, they do not forward the
MBS session data to each other according to the interaction.
\- If RAN nodes in the same RNA area which does not establish the shared
delivery tunnel, may receive the MBS data from one RAN node or multiple RAN
nodes which have established the shared delivery tunnel .
NOTE 3: how to prevent that such a RAN node receives multiple copies of the
MBS data depend on RAN WG decision.
\- When the UE move to RRC connected mode, the procedure is specified in the
TS 23.247 [4].
Editor\'s note: RAN node procedures and The Xn interaction will be determined
by RAN WG.
The mobility for the RRC inactive state UE receiving the multicast MBS session
data, includes the following procedures/principle:
\- Moving within the RNA. The UE does not need to move into RRC connected
mode.
\- Moving out of RNA and within the RA. The UE perform the RNA update
procedure as specified in the R17.
\- Moving out of the RA. The UE perform mobility registration. The SMF
provides the MBS session information to the RAN to establish the shared
delivery tunnel or individual delivery tunnel.
Editor\'s note: The functionality of this solution needs to be discussed and
agreed in RAN WGs.
### 6.28.3 Procedures
#### 6.28.3.1 Moving the UE to RRC Inactive mode
Editor\'s note: The detailed solution will be defined by RAN WGs.
This clause describes the NG-RAN moves the UE to RRC Inactive state.
Figure 6.28.3.1-1: NG-RAN node moves a UE to RRC Inactive state
1\. The UE has joined the multicast MBS session and is receiving the MBS data
in CM-CONNECTED with RRC connected mode.
2\. NG-RAN determines to move the UE to RRC Inactive mode.
NOTE: Whether and how the MBS RRC inactive assistant information is sent to
RAN depends on other solution.
3\. The NG-RAN interact with other RAN nodes in the RNA area to handle the
multicast MBS session for inactive UEs in the RNA area.
When the NG-RAN receives the multicast MBS data, it forward to other RAN nodes
in the RNA area.
4\. All the NG-RAN nodes in the RNA area provide the Multicast MBS data in the
RNA.
#### 6.28.3.2 Mobility within/out of RNA area.
Editor\'s note: The detailed solution will be defined by RAN WGs.
When the UE moves within the RNA area, it does not need to access to the new
RAN node to receive the MBS data if the UE has joined the multicast MBS
session.
The UE may access to the new RAN node in several scenario:
\- Within RNA.
\- Out of RNA.
If the new RAN node retrieves the UE context successfully, it may established
the shared delivery tunnel and initiates the path switch to SMF.
If the new RAN node fails to retrieve the UE context, the new NG-RAN establish
the RRC connection with UE. The UE initiate the mobility registration or
service request. The SMF send the MBS session information to NG-RAN via N2 to
establish the shared delivery tunnel and radio resource.
Figure 6.28.3.2-1: retrieve the UE context successfully
The UE(s) joined the multicast MBS session and is receiving the multicast
service in RRC-inactive state.
1\. If UE need to access to the new RAN node, it initiate the RNA update to
target RAN.
2\. The target NG-RAN retrieve the UE context from source RAN including MBS
session information.
3\. The target NG-RAN may initiate the shared delivery method establishment
procedure as specified in TS 23.247 [4].
Steps 4\~6. The path switch procedure is triggered. The SMF provides the MBS
information to NG-RAN as specified in TS 23.247 [4].
NOTE: Whether and how the MBS RRC inactive assistant information is sent to
RAN depends on other solution.
Figure 6.28.3.2-2: fail to retrieve the UE context
The UE(s) joined the multicast MBS session and is receiving the multicast
service in RRC-inactive state.
1\. If UE need to access to the new RAN node, it initiate the RNA update to
target RAN.
2\. The target NG-RAN fail to retrieve the UE context from source RAN.
3\. RRC connection is established.
4\. The UE initiate the Registration or Service Request procedure with PDU
session status IE to activate the associated PDU session.
5-6. The SMF provides the MBS information to NG-RAN as specified in TS 23.247
[4].
NOTE: Whether and how the MBS RRC inactive assistant information is sent to
RAN depends on other solution.
### 6.28.4 Impacts on services, entities, and interfaces
UE:
\- When the UE receives the MBS data in RRC Inactive state and need to access
to a new RAN node, the UE need activate the associated PDU session via the
service request or registration procedure if RRC connection need to be
established.
NG-RAN:
\- The serving RAN interact with other RAN nodes in the RNA area to handle the
multicast MBS session for inactive UEs in the RNA area.
\- As the user plane anchoring point to forward the MBS data to other RAN node
in the RNA area.
Editor\'s note: The impact of NG-RAN need to be confirmed by RAN WGs.
## 6.29 Solution #29: MOCN network sharing with a single TMGI
### 6.29.1 Introduction {#introduction-27}
This solution addresses Key Issues #2.
The present solution aims to use a single TMGI to minimize the required
updates and to avoid that multiple TMGIs for the same multicast data are
broadcasted over the radio to save bandwidth.
TMGIs contain a mobile country code (MCC) and mobile network code (MNC). For
MOCN network sharing, if a single TMGI is used, core networks will need to
accept TMGIs with a MNC of a different CN. While existing stage 2 procedures
do not rule out such behaviour, many existing deployments will likely reject
MBS session creation requests with such TMGIs and it is suggested to use an
MOCN signalling flag to request a different behaviour.
### 6.29.2 Description
One TMGI is reserved for the MBS broadcast data for which MOCN network sharing
applies. It is selected by the involved AF(s) and made known to all AFs
performing service announcements for the MBS data and is used as part of those
service announcements. For instance, one AF can be tasked by configuration to
request the primary TMGI and share it with the other involved AFs.
If an AF contacts a NEF to create an MBS broadcast session for which MOCN
network sharing applies, it provides the TMGI and an indication that MOCN
network sharing applies. If the NEF/MBSF receives an MBS session create
request with an MOCN network sharing indicator and an TMGI including a MNC
(Mobile network code) that is not identical to the MNC of the network
including the NEF/MBSF, the NEF/MBSF checks configured data whether there is a
network sharing agreement with the network indicated by the MNC, and if so
accepts the request to create the MBS session, but selects the MB-SMF not
based on the TMGI but based on the service area.
The TMGI and the indication that MOCN network sharing applies are included in
messages to establish the broadcast session from MB-SMF via AMF towards the
NG-RAN node. Based on the indication that MOCN network sharing applies, the NG
RAN node checks whether there are additional MBS sessions with the same TMGI
and identifies the correlated MBS sessions via the same TMGI. For the
identified correlated sessions, the NG RAN broadcast related data only once
over the radio. the NG RAN nodes checks if it already receives data for the
broadcast session for any of the correlated sessions and if so does not
provide a downlink tunnel endpoint and does send a lower layer join request.
Editor\'s note: It is to be confirmed by RAN WGs whether different MBS
broadcast sessions from different CNs should share the same TMGI, which was
used to identify one MBS broadcast session in Rel-17, except for location
dependent MBS, area session ID needs be considered together.
If an MBS RAN node receives a request to release an MBS session for broadcast,
it checks whether there are still correlated MBS sessions. If so, the RAN node
continues to broadcast data for the MBS session over the radio. The NG RAN
checks if it requested to receive MBS data from the core for the MBS session
that is to be released. If so, the NG RAN node sends a request for another of
the correlated MBS sessions to receive the MBS data from the related core
network.
### 6.29.3 Procedures
Figure 6.29.3-1: MBS session creation for MOCN network sharing
1\. AF may request TMGI(s)
2\. The same TMGI is used for all related MBS broadcast sessions where MOCN
network sharing applies. If multiple AFs are involved and provide data for an
MBS broadcast session with MOCN network sharing, the AFs coordinate to use the
same TMGI. For instance, one AF may be tasked by configuration to request the
TMGI, and to share it with the other involved AFs. The TMGI may also be
provided as configuration to all involved AFs.
3\. The TMGI is provided as part of the service announcement for the MBS
session by all AFs performing service announcements for the MBS session.
The following steps are executed for each CN involved in the network sharing:
4\. AF sends a request to create an MBS session, which includes TMGI, MOCN
network sharing indicator, and a service area to NEF/MBSF and an identifier of
the broadcast MBS service.
5\. Due to the MOCN network sharing indicator, if the NEF/MBSF receives an
TMGI including a MNC (Mobile network code) that is not identical to the MNC of
the network including the NEF/MBSF, the NEF/MBSF checks configured data
whether there is a network sharing agreement with the network indicated by the
MNC, and if so accepts the request to create the MBS session. In addition, the
NEF/MBSF selects the MB-SMF not based on the TMGI but based on the service
area.
6\. The NEF/MBSF forwards the request to create an MBS session to the MB-SMF.
MB-SMF accepts TMGIs with external MNC based on network sharing indicator.
7\. Interactions as described in Figure 6.29.3-2.
Figure 6.29.3.2-2: Broadcast Session start for MOCN NG-RAN
1\. See Figure 6.29.3-1.
2\. Same as in Figure 7.3.1-1 of TS 23.247 [4]. A MOCN network sharing
indicator is included. AMF accepts TMGIs with external MNC based on network
sharing indicator.
3\. Same as in Figure 7.3.1-1 of TS 23.247 [4]. A MOCN network sharing
indicator is included.
4\. Based on the MOCN network sharing indicator, the NG RAN node checks
whether there are additional MBS sessions with the same TMGI and identifies
the correlated MBS sessions via the same TMGI.
5\. If the NG RAN node does not yet receive data for the broadcast session,
and if the NG-RAN node is configured to use multicast transport, NG-RAN node
sends an IGMP/MLD join request for the LL SSMA received in step 2.
6\. As in Figure 7.3.1-1 of TS 23.247 [4]. If the NG RAN node does not yet
receive data for the broadcast session, and if the NG-RAN node is configured
to use unicast transport, NG-RAN node provides a N3mb DL Tunnel endpoint in
the N2 message response.
Editor\'s note: Details will be confirmed by the RAN WGs.
7\. As in Figure 7.3.1-1 of TS 23.247 [4].
8\. As in Figure 7.3.1-1 of TS 23.247 [4].
9\. For the identified correlated sessions, the NG RAN broadcast related data
and the related TMGI only once over the radio.
10.-15. As in Figure 7.3.1-1 of TS 23.247 [4].
Figure 6.29.3.2-3 _: Broadcast Session release for MOCN NG-RAN_
If NG-RAN receives a request to release an MBS session for broadcast, NG-RAN
checks if there are other correlated MBS sessions. If there are correlated MBS
sessions, NG-RAN continues to broadcast data for the MBS session over the
radio. NG-RAN checks if it requested to receive MBS data from the core via the
MBS session that is to be released. IF so, NG-RAN sends a request via another
of the correlated MBS sessions to receive the MBS data to the related core
network. If the NG-RAN is configured to use unicast transport, it sends an N2
message indicating the TMGI and N3mb downlink (DL) tunnel information. If the
NG-RAN 430 is configured to use multicast transport, it may transmit an
IGMP/MLD join request for the IP SSMA received in a precious request of the
other correlated MBS session.
Editor\'s note: Details will be confirmed by the RAN WGs.
### 6.29.4 Impacts on services, entities and interfaces
**AF:**
\- Use same TMGI for all correlated MBS broadcast sessions with MOCN network
sharing;
\- Indicate network sharing in request to create MBS session.
**NEF/MBSF:**
\- Authorize create request for MOCN network sharing with TMGI with external
MNC;
\- Select MB-SMF based on service area instead of TMGI.
**MB-SMF and AMF:**
\- Accept TMGI with external MNC.
**NG RAN:**
\- identify correlated MBS sessions;
\- Broadcast TMGI and data for correlated MBS session only once;
\- Select one correlated session to request data for MBS session.
## 6.30 Solution #30: On demand multicast MBS session set up by MB-SMF
### 6.30.1 Introduction {#introduction-28}
This solution addresses Key Issues #3.
TS 23.247 [4] already provides some support for on-demand multicast sessions
in Rel-17:
\- An AF can create a multicast session at any time, e.g. when noticing
demand.
\- A multicast session may be established without prior creation by an AF when
a UEs tries to join it: If no MB-SMF is assigned for the MBS session ID (i.e.
the NRF provides empty MB-SMF profile), the SMF may select an MB-SMF and
request it to configure the multicast MBS session. However, details are left
to SMF implementation.
The present solution avoids the need for an AF to establish the multicast
session and fills related gaps that are left to implementation in Rel-17. It
allows to have preconfigured policies for such on-demand multicast sessions.
It allows to determine whether to establish a multicast session towards the
radio based on the number/frequency/location of join requests.
The present solution enables that an MBS session for an external IP multicast
session is established:
(a) either when the first UE within the PLMN request to join that IP multicast
session; or
(b) when multiple UE within the same PLMN have requested to join that IP
multicast session
NOTE 1: Whether Option (b) is required and its merits will be further
discussed as part of the evaluation.
The present solution also enables UEs to receive data from an IP multicast
session even if the network does not establish the multicast session towards
the radio:
Operators may want to enable UEs to join an external IP multicast session via
a normal PDU session while not setting up an MBS session in their network. An
application on the UE would likely send IGMP join requests to join such
external IP multicast sessions. As discussed in Rel-17, this IGMP join request
in the user plane will likely be converted to CP join request by the UE
protocol stack. If that join request is rejected, the UE is not able to join a
multicast session at all. To enable a UE to join, a user plane join request
would need to be generated by the UPF, and the UPF also needs to be configured
to forward received related multicast packets to the UE. (Even if a UPF
receives a UP IP join request and forwards the request, the UE would not
receive related multicast packets without special UPF procedures or
configuration to forward them.)
One could also consider a decentral solution to enable UEs to join an external
IP multicast session where each SMF configures the related UPF separately.
However, this complicates a subsequent full establishment of an MBS session
for the multicast IP session and also makes it hard for an operator to observe
that there are many UEs joining the same external IP multicast session. The
immediate assignment of an MB-SMF and MB-UPF is meant to enable a subsequent
conversion to a full IP multicast session and also provides means to monitor
whether many UEs join an external multicast session.
Editor\'s note: More clarification and evaluation is required on the benefits
of applying individual delivery versus immediately establishing the MBS
session towards the radio as in the Rel-17 existing mechanisms, especially in
the scenario of the second bullet above.
This solution focuses on IP multicast sessions (using the IGMP protocol for
joining and source specific multicast addresses as identifiers) provided by an
application server in the internet that does not directly interact with the
5GS. It enables the 5GS to dynamically detects that many UEs join the same IP
multicast sessions and based on that set up a related MBS multicast session to
save transmission resources.
The following related issues need to be resolved:
\- How to enable UEs to join multicast IP sessions if no related MBS session
exists in the network.
\- How to detect that multiple UEs join the same multicast IP session
(possibly at high rate or in proximity to each other).
\- How to establish a related on-demand MBS session based on the detection.
\- How to inform the UEs to join the on-demand MBS session established in step
3.
NOTE 2: This solutions is only applicable if a source specific IP multicast
address is used as MBS session ID.
NOTE 3: This solutions allows that QoS for a multicast session is
preconfigured by the operator, e.g. based on a SLA with a service provider. If
there is no such preconfigured information, only a default QoS will be
provided for the 5MBS session.
NOTE 4: Only CP join requests are supported. IP applications on the UE can
either use that join method, or the protocol stack in the UE can convert IGMP
join requests to CP join requests.
### 6.30.2 Description
If the SMF receives a join request for a source specific IP multicast address
with no MB-SMF assigned, the SMF assigns an MB-SMF and informs it that a join
request for the source specific multicast address was received and about the
location of the UE that issued a join request. The MB-SMF decides based on
operator policy and possibly based on PCF interactions to inquire predefined
information about policies for the source specific IP multicast address in the
UDR whether the join request shall be accepted and whether to establish the
MBS session towards the radio, and informs the SMF about those decisions.
Based on operator policy, the MB-SMF may immediately establish the MBS session
towards the radio when the first UE joins or wait until more UEs join the join
request for a source specific IP multicast address.
If the MB-SMF decides to accept the join request, the MB-SMF registers itself
at the NRF as handling the source specific multicast address, and configures
the MB-UPF to send an IGMP join request for the source specific IP multicast
address towards the external network and to receive related data, irrespective
of whether it decides whether to establish the MBS session towards the radio.
If the MB-SMF decides not to accept the join request, the SMF rejects the join
request.
If the MB-SMF decides to establish the MBS session towards the radio, normal
MBS multicast procedures apply from that point onwards.
If the MB-SMF decides not to establish the MBS session towards the radio, the
SMF also informs the MB-SMF about subsequent join request for the same IP
multicast request until the MB-SMF decides to establish the multicast session
towards the radio.
If the MBS session is not to be established towards the radio, the SMF does
not add MBS session information to the PDU session but still accepts the join
request. Individual delivery is then used towards that UE.
If the MB-SMF does not establish the MBS session towards the radio, it will
then be informed by SMFs about subsequent join attempts for this source
specific multicast address, and can then decide to establish the MBS session
towards the radio. The MB-SMF may count the number or log the join requests to
determine their frequency and/or whether the attempts are concentrated in a
specific area in order to decide whether to establish the MBS session, and in
order to determine a service area for the MBS session. It can interact with
the PCF to check whether the multicast session can be authorized. The PCF can
consider the area and the load in the area for a related decision. The PCF can
contact the UDR to check whether there is preconfigured policy for a multicast
session with the specific source specific multicast address.
The MB-SMF stores the SMFs that subscribed to info about the MBS session. It
notifies those SMFs when it decides to establish the MBS session towards the
radio. The SMFs then update the PDU sessions of related UEs with the MBS
session information.
Editor\'s note: It is to be clarified the benefit of applying individual
delivery, instead of shared delivery when the first (a few) UEs join the MBS
session.
To enable a UE to receive an IP multicast sessions within a PDU session if no
related MBS session towards the radio is established, an IGMP join requests
needs to be send towards the IP network. In Rel-17 it was assumed that a UE
would only send join request in the control plane signalling. It was
anticipated that the protocol stack in the UE could recognise IGMP join
requests in the user plane and convert them to control plane join requests. An
MB-SMF that it is informed about a join attempt for an IP SSMA with no related
MBS session and decides not to establish the MBS session configures the MB-UPF
to send an IGMP join request.
### 6.30.3 Procedures
Figure 6.30.3-1: UE join request when related MBS session is not yet created
1\. UE sends a join request for an IP SSMA.
2\. The SMF checks whether the UE is authorized to join 5MBS multicast
sessions. The SMF inquires MB-SMF handling the IP SSMA at the NRF and detects
that none is assigned. It inquires MB-SMF at NRF based on other criteria, e.g.
UE location and selects MB-SMF to handle IP SSMA.
3\. SMF requests MB-SMF to provide info about the MBS session for the IP SSMA
and provides UE location.
4\. MB-SMF may interact with PCF to check whether policies allow creation of
MBS session. It indicates that MBS session is not yet established and possibly
location(s) of UE(s) desiring to join or a service area selected by the MB-SMF
based on those locations.
5\. PCF may check at UDR whether there are preconfigured policies for IP SSMA.
6\. PCF decides whether an MBS radio session is permissible at the indicated
location(s) or a service area and selects QoS for the MBS session (e.g. based
on policies in the UDR) and indicates that to the MB-SMF.
7\. The MB-SMF decides whether to accept the join request and whether to
establish the MBS session towards the radio. The MB-SMF may count the number
or log the join requests to determine their frequency and/or whether the
attempts are concentrated in a specific area in order to decide whether to
establish the MBS session towards the radio and in order to determine a
possible service area for the MBS session.
The MB-SMF also stores SMFs that subscribed in step 3.
8\. The MB-SMF request the MB-UPF to create an N4 session of the MBS session
with IP SSMA and to send an IGMP join request for the IP SSMA.
9\. MB UPF sends IGMP join request for the IP SSMA.
10\. If the MB-SMF does not establish the MBS session towards the radio, it
still registers itself at the NRF as handling the source specific multicast
address, and will then be informed by SMFs about subsequent join attempts for
this source specific multicast address, and can then decide to establish the
MBS session towards the radio.
11\. The MB-SMF informs SMF whether the MBS session towards radio is to be
established and informs about QoS flow(s) for the MBS session. It may instead
request that the join request is rejected.
12.-14. SMF updates the PDU session with additional QoS flow unless that flow
can be transported via default QoS flow. The SMF provides no other information
about MBS session in N2 container if MB-SMF decided not to establish the MBS
session towards the radio. It indicates towards the UE that the join request
is accepted.
15\. Same as step 11 in Figure 7.2.1.3-1 of TS 23.247 [4].
16\. Same as step 13 in Figure 7.2.1.3-1 of TS 23.247 [4].
17-19. Same as in Figure 7.2.1.3-1 of TS 23.247 [4].
Figure 6.30.3-2: PDU Session modification when MB-SMF decides to establish MBS
session towards radio
1\. The MB-SMF decides to establish the MBS session towards the radio. The MB-
SMF may count the number or log the join requests to determine their frequency
and/or whether the attempts are concentrated in a specific area in order to
decide whether to establish the MBS session towards the radio.
2\. The MB-SMF notifies SMFs that subscribed to info about an MBS session when
the MB-SMF decides to establish the MBS session towards the radio.
3\. The SMFs then update the PDU sessions of related UEs with the MBS session
information.
4\. NG RAN nodes serving UEs within the MBS session request the MB-SMF to
deliver MBS data towards them and start multicasting those MBS data over the
radio.
### 6.30.4 Impacts on services, entities and interfaces.
**MB-SMF**
\- Decide whether to establish MBS session toward radio.
\- Inform SMFs when deciding to do so.
**SMF**
\- Select MB-SMF when UE request to join IP SSMA and no MB-SMF is assigned.
\- If MB-SMF decides not to establish MBS session toward radio, apply
individual delivery and do not provide MBS session information within PDU
session.
\- If MB-SMF subsequently decides not establish MBS session toward radio,
update PDU session with MBS session information.
**UDR**
\- Store preconfigured information about MBS policies for an IP SSMA.
## 6.31 Solution #31: Multicast access control for high number of public
safety UEs
### 6.31.1 Introduction {#introduction-29}
This solution addresses Key Issue #6. Considering the case that multiple
departments from the same mission critical organization served by different AS
may utilize the same PLMN network, as described in bullet 2 in clause 4.2, it
is important to support the multicast resource is fairly used be by the
different departments.
### 6.31.2 Functional description
During the UE join or the MBS session activation procedure, when the NG-RAN is
going to allocate resource for the join requesting UE, the NG-RAN needs to
check the resource availability for this UE who is mapped to a certain slice.
Different departments\' users may be mapped into different slices. If there
are available resource in the dedicated/shared multicast resource for that
slice, then the join/MBS session activation will success and continue, else
the NG-RAN reject the PDU Session Resource setup and informs the UE, which may
further reports the resource failure towards the AF to make further decision,
e.g. release some low priority group communications which is using the MBS.
### 6.31.3 Procedures
This solution is on top of the procedure in 7.2.1.3 of TS 23.247 [4]. The
enhancement are as follows:
In step 7, The NG-RAN checks the radio resource usage corresponding to the
S-NSSAI.
In step 8, if the NG-RAN determined that there is no available dedicated and
shared multicast resource for the slice. As part of the AN specific signalling
exchange with the UE, no radio resources for the UE to receive the multicast
MBS session is provided to the UE.
In step 9, a radio resource failure is included in N2 SM container and
provided to the SMF. After the SMF receive the failure, it may trigger the
network triggered multicast session leave as described in clause 7.2.2.3, and
step 11-19 will not performed.
Editor\'s note: It is FFS whether network triggered multicast session leave
can be triggered at this step.
After step 8, the UE(s) can report the failure events to the AF.
Editor\'s note: For public safety, related application level signalling is
defined by SA6 and coordination is required.
Editor\'s note: It is to be evaluated the benefits of this solution compared
with existing join failure event report from MCX Client to MCX Server.
NOTE 1: This UE signalling can cause extra overload and requires the UE to be
in RRC_Connected state.
Based on the reports from UE(s), the AF may release the multicast MBS session
and may instead use an existing MBS broadcast session or establish a new MBS
broadcast session for the group call, or the AF may release some low priority
group communications which is using the MBS if there is not enough radio
resource.
Editor\'s note: For public safety, related AF procedures are defined by SA6
and coordination is required.
Editor\'s note: More investigation whether a broadcast MBS session can avoid
overload in a better manner than a multicast MBS session with transmission
mode for inactive reception is required.
Editor\'s note: It is FFS why the broadcast MBS session can be established but
radio resource allocation fails for multicast MBS session.
NOTE 2: In order to avoid the uplink overload, the application layer can
provide mechanism to alleviate the overload, e.g. announcing to the UEs that
no report is needed any more, or dynamic specifying some UE to report this
event based on location. Or the application client can make the decision when
to report considering the load conditions.
The MBS session activation procedure defined in clause 7.2.5.2 of TS 23.247
[4] is also impacted. As the radio resource allocation interactions in step
10b is referred from the step 8-12 in clause 7.2.1.3 MBS session join
procedure. So the changes in above procedure is also applied to the MBS
session activation procedure.
Editor\'s note: It is FFS about the resource allocation failure when multicast
MBS session is activated in step 12 in clause 7.2.5.2 of TS 23.247 [4].
### 6.31.4 Impacts on services, entities, and interfaces
NG-RAN:
\- Send failure events related with MBS session join or MBS session activation
to the UE.
UE:
\- Receive failure events related with MBS session join or MBS session
activation from NG-RAN and report it to the AF.
Editor\'s note: Detailed impact will be determined by (and/or in collaboration
with) RAN WGs.
# 7 Evaluation
Editor\'s note: This clause will provide evaluation of different solutions.
## 7.1 Key Issue #1: MBS session reception in RRC Inactive
### 7.1.1 Overview over available solutions
For Key Issue #1 \"Multicast MBS data reception in RRC Inactive state\", there
are 14 solutions in the TR:
\- #1,#3,#4,#5,#6, #18, #19, #20, #21, #22, #23, #26, #27, #28.
A comparison of solutions covering RRC_Inactive MBS Multicast reception is
shown in Table 7.1.1-1.
Table 7.1.1-1: Comparison of multicast solutions for KI#1 RRC_Inactive mode
reception
+-----+---------+---------+---------+---------+---------+---------+ | Sol | CN | Ass | M | MBS | RAN | Remarks | | | Assist | istance | obility | session | selects | | | | ance/Re | Par | H | act | UEs | | | | commend | ameters | andling | ivation | d | | | | for | | | /releas | elivery | | | | I | | | e/deact | mode | | | | nactive | | | ivation | | | | | Re | | | | | | | | ception | | | | | | +=====+=========+=========+=========+=========+=========+=========+ | 1 | Y. AF | Y. MBS | | | Y. RAN | Per | | | p | pr | | | can | session | | | rovides | iority, | | | decide | allow/d | | | ass | UE | | | when to | isallow | | | istance | session | | | switch | RRC_I | | | to | pr | | | UE mode | nactive | | | NG-RAN | iority, | | | for MBS | re | | | | RRC_I | | | | ception | | | | nactive | | | | | | | | enable | | | | In | | | | | | | | place | | | | | | | | of MBS | | | | | | | | p | | | | | | | | riority | | | | | | | | ARP, | | | | | | | | 5QI can | | | | | | | | be | | | | | | | | used. | | | | | | | | | | | | | | | | Dis | | | | | | | | cussion | | | | | | | | whether | | | | | | | | UE | | | | | | | | p | | | | | | | | riority | | | | | | | | needs | | | | | | | | to be | | | | | | | | per MBS | | | | | | | | session | | | | | | | | is | | | | | | | | below | | | | | | | | Per | | | | | | | | user | | | | | | | | p | | | | | | | | riority | | | | | | | | may be | | | | | | | | di | | | | | | | | fficult | | | | | | | | to | | | | | | | | handle, | | | | | | | | per | | | | | | | | session | | | | | | | | allow/d | | | | | | | | isallow | | | | | | | | suf | | | | | | | | ficient | +-----+---------+---------+---------+---------+---------+---------+ | 3 | Y. AF | Y. MBS | | | | How | | | p | session | | | | paging | | | rovides | ID, | | | | is | | | ass | pr | | | | handled | | | istance | ivilege | | | | for | | | to | /non-pr | | | | pri | | | NG-RAN | ivilege | | | | vileged | | | | users | | | | UEs in | | | | in MBS | | | | case of | | | | s | | | | act | | | | ession. | | | | ivation | | | | If | | | | of MBS | | | | pr | | | | session | | | | ivilege | | | | is FFS | | | | tra | | | | | | | | nsition | | | | | | | | to | | | | | | | | RRC_I | | | | | | | | nactive | | | | | | | | should | | | | | | | | be | | | | | | | | avoided | | | | | +-----+---------+---------+---------+---------+---------+---------+ | 4 | | | | Y. | | Paging | | | | | | Group | | cause | | | | | | CN | | in | | | | | | paging | | dicates | | | | | | with | | the | | | | | | paging | | reason | | | | | | cause | | for | | | | | | | | paging | | | | | | | | to | | | | | | | | enable | | | | | | | | RRC_I | | | | | | | | nactive | | | | | | | | UEs to | | | | | | | | remain | | | | | | | | i | | | | | | | | nactive | | | | | | | | when | | | | | | | | MBS | | | | | | | | session | | | | | | | | is | | | | | | | | ac | | | | | | | | tivated | | | | | | | | and | | | | | | | | enable | | | | | | | | UE to | | | | | | | | receive | | | | | | | | the MBS | | | | | | | | session | | | | | | | | data in | | | | | | | | RRC | | | | | | | | I | | | | | | | | nactive | | | | | | | | state. | +-----+---------+---------+---------+---------+---------+---------+ | 5 | | Y. MBS | Y. | Y. | | Assumes | | | | context | Depends | Depends | | all the | | | | shared | on UE | on | | NG-RAN | | | | among | moves | whether | | nodes | | | | RAN | within | target | | are | | | | nodes | RNA, | cell | | homo | | | | in RNA | outside | has MBS | | geneous | | | | | RNA | session | | in | | | | | | support | | terms | | | | | | or not | | of | | | | | | | | RRC_I | | | | | | | | nactive | | | | | | | | re | | | | | | | | ception | | | | | | | | capa | | | | | | | | bility. | | | | | | | | | | | | | | | | RNA | | | | | | | | update | | | | | | | | pr | | | | | | | | ocedure | | | | | | | | may be | | | | | | | | used. | | | | | | | | Mostly | | | | | | | | RAN | | | | | | | | centric | +-----+---------+---------+---------+---------+---------+---------+ | 6 | N. | Ex | | | Y. RAN | 5QI, | | | E | isting. | | | can | PER, | | | xisting | PER, | | | decide | ARP, | | | QoS | 5QI, | | | when to | etc. | | | par | ARP | | | switch | may be | | | ameters | etc. | | | d | used to | | | for MBS | will | | | elivery | i | | | QoS | help | | | mode | ndicate | | | flows | RAN to | | | for MBS | a MBS | | | suf | decide | | | | level | | | ficient | e | | | | p | | | | nabling | | | | riority | | | | RRC_I | | | | to | | | | nactive | | | | NG-RAN | | | | re | | | | but may | | | | ception | | | | not | | | | | | | | imp | | | | | | | | licitly | | | | | | | | to | | | | | | | | decide | | | | | | | | to | | | | | | | | allow/d | | | | | | | | isallow | | | | | | | | I | | | | | | | | NACTIVE | | | | | | | | MBS | | | | | | | | rec | | | | | | | | eption. | | | | | | | | | | | | | | | | They | | | | | | | | also | | | | | | | | propose | | | | | | | | to use | | | | | | | | e | | | | | | | | xisting | | | | | | | | \"RRC | | | | | | | | I | | | | | | | | nactive | | | | | | | | Ass | | | | | | | | istance | | | | | | | | Inform | | | | | | | | ation\" | | | | | | | | sent by | | | | | | | | AMF to | | | | | | | | NG-RAN. | | | | | | | | But | | | | | | | | this | | | | | | | | info | | | | | | | | rmation | | | | | | | | may not | | | | | | | | have | | | | | | | | any | | | | | | | | co-r | | | | | | | | elation | | | | | | | | with | | | | | | | | MBS | | | | | | | | session | | | | | | | | and can | | | | | | | | only be | | | | | | | | used as | | | | | | | | add | | | | | | | | itional | | | | | | | | UE | | | | | | | | s | | | | | | | | pecific | | | | | | | | info | | | | | | | | rmation | | | | | | | | to be | | | | | | | | used by | | | | | | | | NG-RAN | | | | | | | | to | | | | | | | | decide | | | | | | | | the | | | | | | | | RRC_I | | | | | | | | nactive | | | | | | | | state | | | | | | | | for a | | | | | | | | UE | +-----+---------+---------+---------+---------+---------+---------+ | 18 | | | | Y. | | R | | | | | | Group | | equires | | | | | | paging | | RAN | | | | | | without | | input: | | | | | | paging | | Whet | | | | | | cause | | her/how | | | | | | | | RRC | | | | | | | | I | | | | | | | | nactive | | | | | | | | UE | | | | | | | | r | | | | | | | | esponds | | | | | | | | when | | | | | | | | the CN | | | | | | | | in | | | | | | | | itiated | | | | | | | | group | | | | | | | | paging | | | | | | | | is | | | | | | | | per | | | | | | | | formed, | | | | | | | | it go | | | | | | | | back to | | | | | | | | the RRC | | | | | | | | Co | | | | | | | | nnected | | | | | | | | state. | +-----+---------+---------+---------+---------+---------+---------+ | 19 | Y. When | Y. MBS | Y. UE | Y. RAN | Y. RAN | To | | | re | context | moves | then | can | enable | | | quested | related | to | decides | decide | RRC_I | | | by | info | NG-RAN | d | when to | nactive | | | target | | where | elivery | switch | UE to | | | NG-RAN, | | current | mode | d | c | | | MB-SMF | | MBS is | | elivery | ontinue | | | p | | not | | mode | re | | | rovides | | served | | for MBS | ception | | | ass | | | | | when | | | istance | | | | | moving | | | info | | | | | within | | | rmation | | | | | RNA, | | | | | | | | either | | | | | | | | source | | | | | | | | RAN | | | | | | | | node | | | | | | | | informs | | | | | | | | serving | | | | | | | | /target | | | | | | | | RAN | | | | | | | | node | | | | | | | | about | | | | | | | | MBS, or | | | | | | | | MB-SMF | | | | | | | | informs | | | | | | | | all RAN | | | | | | | | nodes | | | | | | | | in a | | | | | | | | service | | | | | | | | area | +-----+---------+---------+---------+---------+---------+---------+ | 20 | | | Y. Move | | | UE can | | | | | to new | | | join or | | | | | NG-RAN | | | leave | | | | | in a | | | mu | | | | | new TA. | | | lticast | | | | | I | | | session | | | | | nitiate | | | during | | | | | m | | | a | | | | | obility | | | r | | | | | pr | | | e-regis | | | | | ocedure | | | tration | | | | | | | | for TA | | | | | | | | u | | | | | | | | pdated. | +-----+---------+---------+---------+---------+---------+---------+ | 21 | | | Y. UE | | | Assumes | | | | | moves | | | that | | | | | out of | | | when UE | | | | | RNA but | | | in RRC | | | | | within | | | I | | | | | RA | | | nactive | | | | | | | | state | | | | | | | | moves | | | | | | | | out of | | | | | | | | the | | | | | | | | Regis | | | | | | | | tration | | | | | | | | Area or | | | | | | | | fails | | | | | | | | to | | | | | | | | perform | | | | | | | | the RRC | | | | | | | | Resume | | | | | | | | pr | | | | | | | | ocedure | | | | | | | | (e.g. | | | | | | | | when | | | | | | | | moving | | | | | | | | out of | | | | | | | | the | | | | | | | | RNA), | | | | | | | | UE | | | | | | | | invokes | | | | | | | | the | | | | | | | | m | | | | | | | | obility | | | | | | | | regis | | | | | | | | tration | | | | | | | | update | | | | | | | | pro | | | | | | | | cedure. | +-----+---------+---------+---------+---------+---------+---------+ | 22 | | | | Y. Page | | NG-RAN | | | | | | only | | keeps | | | | | | CM-Idle | | context | | | | | | UEs. | | of MBS | | | | | | Group | | and | | | | | | paging | | shared | | | | | | not | | tunnel | | | | | | needed | | live | | | | | | for | | even if | | | | | | R | | session | | | | | | RC_Con | | is | | | | | | nected, | | in | | | | | | RRC_I | | active. | | | | | | nactive | | R | | | | | | | | esource | | | | | | | | cons | | | | | | | | umption | | | | | | | | is not | | | | | | | | optimal | | | | | | | | | | | | | | | | RAN- | | | | | | | | centric | | | | | | | | d | | | | | | | | ecision | +-----+---------+---------+---------+---------+---------+---------+ | 23 | | | | Y. | | AMF | | | | | | Ind | | o | | | | | | ividual | | bserves | | | | | | paging | | and | | | | | | to | | takes | | | | | | RRC_I | | the | | | | | | nactive | | d | | | | | | and | | ecision | | | | | | RR | | (to | | | | | | C_Idle | | page | | | | | | UEs | | UEs) | | | | | | | | without | | | | | | | | the | | | | | | | | info | | | | | | | | rmation | | | | | | | | about | | | | | | | | SMF on | | | | | | | | MBS | | | | | | | | c | | | | | | | | ontext. | +-----+---------+---------+---------+---------+---------+---------+ | 26 | Y. CN | Y. List | | | Y. CN | Dis | | | sends | of UEs | | | list is | cussion | | | (to | reco | | | only | whether | | | RAN) | mmended | | | recomme | list of | | | list of | to be | | | ndation | reco | | | UEs | kept in | | | | mmended | | | reco | | | | | UEs/ UE | | | mmended | | | | | p | | | to be | | | | | riority | | | kept in | | | | | needs | | | RRC_Co | | | | | to be | | | nnected | | | | | per MBS | | | | | | | | session | | | | | | | | is | | | | | | | | below | +-----+---------+---------+---------+---------+---------+---------+ | 27 | Y. AF | Y. GPSI | | | Y. List | This | | | p | of list | | | of | s | | | rovides | of | | | shared | olution | | | list of | pri | | | UEs | r | | | pri | vileged | | | needs | equires | | | vileged | UEs | | | to be | that | | | UEs | | | | in | the AF | | | during | | | | RRC_Co | be | | | MBS-cr | | | | nnected | aware | | | eation. | | | | mode | of the | | | | | | | | UEs' | | | | | | | | GPSI. | | | | | | | | This | | | | | | | | s | | | | | | | | olution | | | | | | | | does | | | | | | | | not | | | | | | | | depend | | | | | | | | on PCC | | | | | | | | dep | | | | | | | | loyment | | | | | | | | and | | | | | | | | does | | | | | | | | not | | | | | | | | require | | | | | | | | per | | | | | | | | UE/PDU | | | | | | | | Session | | | | | | | | sig | | | | | | | | nalling | | | | | | | | as in | | | | | | | | case of | | | | | | | | Sol#3 | | | | | | | | | | | | | | | | Dis | | | | | | | | cussion | | | | | | | | whether | | | | | | | | list of | | | | | | | | reco | | | | | | | | mmended | | | | | | | | UEs/ UE | | | | | | | | p | | | | | | | | riority | | | | | | | | needs | | | | | | | | to be | | | | | | | | per MBS | | | | | | | | session | | | | | | | | is | | | | | | | | below. | +-----+---------+---------+---------+---------+---------+---------+ | 28 | | Y. MBS | Y. | Y. | | RNA | | | | context | di | Depends | | update | | | | and | fferent | on | | pr | | | | data | h | whether | | ocedure | | | | shared | andling | target | | is used | | | | among | if UE | cell | | if UE | | | | RAN | moves | has MBS | | moves | | | | nodes | within | UP | | outside | | | | in RNA | RNA, | already | | RNA and | | | | | outside | esta | | m | | | | | RNA, | blished | | obility | | | | | outside | or not | | pr | | | | | RA | | | ocedure | | | | | | | | is used | | | | | | | | if UE | | | | | | | | moves | | | | | | | | outside | | | | | | | | RA | | | | | | | | | | | | | | | | Pre | | | | | | | | vention | | | | | | | | of | | | | | | | | m | | | | | | | | ultiple | | | | | | | | data | | | | | | | | between | | | | | | | | source | | | | | | | | and | | | | | | | | target | | | | | | | | gNB has | | | | | | | | to be | | | | | | | | ensured | | | | | | | | | | | | | | | | Assumes | | | | | | | | all the | | | | | | | | NG-RAN | | | | | | | | nodes | | | | | | | | are | | | | | | | | homo | | | | | | | | geneous | | | | | | | | in | | | | | | | | terms | | | | | | | | of | | | | | | | | RRC_I | | | | | | | | nactive | | | | | | | | re | | | | | | | | ception | | | | | | | | cap | | | | | | | | ability | +-----+---------+---------+---------+---------+---------+---------+
### 7.1.2 Assistance Information
**Sol#1** : proposes to have assistance from AF:
\- Indication of whether multicast reception by UEs in RRC_Inactive state is
allowed for specific multicast MBS service(s)/session(s).
\- MBS session Priority.
\- UE priority within MBS session.
\- UE capabilities and preferences.
**Solution#3** : (Solution covers both KI#1 and KI#6) AF provides assistance
information with \"privileged\" UEs of an MBS session, which are preferably to
be kept in RRC_Connected state. In Sol#3, the use case is targeted to public
safety only and assuming that the private IP address of the UE is available
(as in IMS case). The assistant information is provided via PCF.
**Solution#6** : Proposes that existing \"RRC Inactive Assistance
Information\", and the existing QoS parameters, e.g. PER in the 5QI and ARP of
MBS QoS flow can be used by NG-RAN to determine whether the receiving of the
multicast MBS session data in RRC inactive state can be enabled and whether
UEs can be sent to RRC Inactive state to receive the multicast MBS session
data.
**Solution#26** : (Solution covers both KI#1 and KI#6) AF indicates for some
UEs recommended (that may be part of one or multiple MBS sessions) should to
be kept in RRC_Connected state. The indication is independent of an MBS
session.
**Solution#27** : (Solution covers both KI#1 and KI#6) This solution proposes
that AF sends a list of privileged UEs in MBS Session creation. This solution
requires that the AF be aware of the UEs' GPSI. This solution does not depend
on PCC deployment.
**Comparison of the solutions with assistance information:**
_Per MBS session assistance information_
Solution #1 proposes to have explicit assistance information (MBS priority
and/or recommendation whether to enable inactive MBS reception to be used to
decide which MBS sessions can be allowed RRC_Inactive reception). Solution #6
proposes that the existing QoS parameters, e.g. PER and ARP in the 5QI of MBS
QoS flow can be used to support the NG-RAN to decide which MBS can be allowed
RRC_Inactive reception. Whereas solution #6 advocates that that the existing
QoS parameters, e.g. PER and ARP in the 5QI of MBS QoS flow is sufficient and
can be used to support the NG-RAN to decide which MBS can be allowed
RRC_Inactive reception.
_Per UE assistance information._
Solution #1 proposes a UE session priority as assistance information to enable
RAN to decide which UEs in the MBS session can be switched to RRC_Inactive
state. Solution #3 and solution #27 also suggest that some UEs within an MBS
session can be marked as privileged to assist NG RAN to decide which UEs
should be kept in RRC_Connected state. Solution#26 proposes that a
recommendation can be provided for some UEs that they should be kept in
RRC_Connected state; this recommendation is not linked to an MBS session. In
all those solutions, it is assumed that an AF provides the related
information. Most of the solutions also address key issue 6 as a typical use
case could be that a public safety AF has knowledge of privileged or
frequently talking users. For such users frequent state transitions between
RRC_Connected and RRC_Inactive state can in this manner be avoided.
Only solution 1 suggest multiple priority levels.
Solutions 26 has the advantage that it is well suited for users in multiple
MBS sessions (as dispatcher for public safety) and that it avoids possible
conflicting state recommendations obtained for the same user via different MBS
sessions. If the UE is different role in different MBS session, the AF need
coordinate the UE role in different MBS session and depending on which MBS
session is in activate state, the AF may need give different information to
5GC.
The signalling procedure for the AF to provide the information also differ:
Solutions 27 extends the MBS session create procedure. Solution 3 extends AF
session with required QoS Create procedure and assumes that the information is
propagated via the PCF to the SMF. Solution 26 extends the parameter
provisioning procedure.
For UE level assistance information, one proposal (solution 6) is to reflect
the UE level assistance information via the QoS information of associated QoS
flow. This solution assumes that whether the UE can be moved into RRC Inactive
state depend on the UE QoS requirement, i.e. RRC Inactive UE has lower QoS
requirement because there is no HARQ.
_Parameter provision procedure_
For the MBS session level assistance information, it seems the only way to
transmit from AF to 5GC is via the MBS session creation procedure.
Sol#1/#26 propose the AF provides the parameter (list of UE) (same as solution
1 as part of the MBS subscription data) to the UDM. When the UE joins the MBS
session, the SMF fetches the data from UDM, which include the related UE level
assistance information. The difference between two solutions is on whether
this UE level assistance information is per MBS session or per UE granularity.
As mentioned in Sol#26 if the UE level assistance information is per UE level,
AF needs to consider whether the related MBS session is in active or inactive
state and update the UDM accordingly. However, if this information is per MBS
session level, this additional update per MBS session state is not needed. If
the UE joins multi MBS session, at the NG-RAN side it may receive different UE
level assistance information from different MBS session. NG-RAN nodes need to
reconcile the information, e.g. it can take the highest request, e.g. whether
the UE level assistance information in one of the MBS session prefer to be in
CONNECTED state, as input parameter to decide whether it need keep in
Connected state.
Sol#1 and Sol#26 (if Sol#26 is updated to be associated with MBS Session),
requires the AF to perform Nnef_ParameterProvision_Create/Update procedure
after the MBS Session in created.
Sol#3/#6 propose the AF provides the parameter as part of the QoS information
to the PCF and SMF gets the related information during the SM policy
association establishment/update procedure. By doing this, the deployment of
PCF is mandatory. The AF cannot inject the related information before the UE
activates the associated PDU session. Also this update need be done per UE
granularity, i.e. for a list of UE, the AF needs to update one by one per UE.
Sol#27 proposes the AF provides the parameter (list of UE) as one parameter
during the MBS session creation procedure. The MB-SMF store the received list
of UE information. The MB-SMF provides full list of the UE information to all
contacted SMF(s). It is possible that some prioritized UEs in the list are not
handled by an SMF (if those UEs have not joined yet, or joined in other
SMF(s)), and in case the list of UEs is changed, the MB-SMF needs to notify
all SMF(s) involved in this MBS session.
For the MBS session level assistance information, it is better to be conveyed
as other MBS session information parameter, e.g. QoS information. Then it is
proposed to be delivered to NG-RAN node as part of the shared delivery tunnel
establishment procedure.
For the UE level assistance information, all solution proposes to use the PDU
session level signaling to deliver the parameter to the NG-RAN node.
### 7.1.3 Activation of MBS multicast session
**Solution#4** : Proposes to use group based CN paging as the trigger for
activation and release of MBS session. If paging is for MBS session
activation, the NG-RAN node determines for each cell whether transmission for
RRC INACTIVE UE is enabled and includes a paging cause if RRC INACTIVE UE do
not need go back to the RRC-CONNECTED state.
**Solution#18** : Unlike Solution#4 (where paging cause is used), solution#18
proposes that no paging cause is required for MBS Session activation. It
follows existing Rel 17 paging procedures. It also proposes that, for
releasing of MBS session, RRC IDLE UEs (without active UP) get notified by SMF
only when they reconnect using PDU Session Modification procedure. In case
RRC_INACTIVE UE happens to share the same PO with any of the IDLE UEs and
responds to paging, the RRC_INACTIVE UE will be brought back to RRC_CONNECTED.
Editor\'s note Whether the RRC_INACTIVE UE need be aware the group paging is
CN initiated or RAN initiated is FFS.
**Solution#19** : Existing MBS session activation procedures are used from CN
towards RAN nodes. RAN nodes in RNA inform each other about MBS session
activation. RRC-Inactive UE in cell shall remain RRC-inactive during MBS
session activation when related delivery mode is used in that cell. RAN groups
will determine related signalling.
**Solution#22** : NG-RAN node keeps the multicast MBS session context and N3mb
shared tunnel for the multicast MBS session as long as the NG-RAN has UE
context for UEs in the MBS session context which may be in either RRC-CONNECED
or RRC_INACTIVE state. (this seems existing REl-17 behaviour) Because of this,
when the MBS session is (re-)activated, it should page only RRC_Idle UEs and
need not page RRC_Inactive UEs (group paging is not needed).
**Solution#23** : Suggests using CN paging also for RRC_Inactive UES. The
paging area includes all the registration areas of those UE in CM-IDLE mode,
and NG-RAN node where the CM-Connected mode UE(s) is camping. Unclear what the
benefits compared to RAN paging would be are quite debatable.
**Comparison of the solutions focusing on Activation/Release:**
_On how to efficiently page RRC_Inactive UEs during activation MBS session_
All the four solutions (#4, #18, #22, #23), propose group CN paging for
RRC_Idle UEs. However, they differ in the way they handle the RRC_Inactive
UEs.The overall view by all the solution are,
\- For activation, only RRC_Idle UEs should go to RRC_Connected state (after
paging) and RRC_Inactive UEs should not switch to RRC_Connected state.
\- While Sol#4 proposes to include paging cause to not let RRC_Inactive UEs to
switch to RRC_Connected state, sol#18 does not use paging cause. Not including
the paging cause may allow RRC_Inactive UEs switch to Connected state.
\- Solution #22 proposes that only RRC_Idle UEs should be group CN paged. And
for RRC_Inactive UEs, the NG-RAN node keeps the multicast MBS session context
and N3mb shared tunnel for the multicast MBS session and when the service is
re-activated and there are UEs in RRC_INACTIVE state, the NG-RAN needs to
notify the UEs of this activation. But they fail to explain that without using
RAN paging how NG-RAN node can notify UEs.
\- Solution 23 proposes that AMF will page all the NG-RAN where there are
CM_Idle UEs. For RRC_Inactive UEs, NG-RAN will use RAN paging. However, it is
unclear that how RRC_Inactive UEs will react to CN paging.
_On how to efficiently page RRC_Inactive UEs during release of MBS session_
Only solutions #4 and #18 talks about paging for release of MBS session. In
Sol #18, the Rel-17 solution is assumed how RRC_Inactive UEs can be notified
about the release of the MBS session, solution #4 states that RRC_Inactive UEs
to be paged to go to RRC_Connected state for release of the MBS session.
NOTE: Whether/how RRC_INACTIVE UEs behave when group paging for CM-IDLE UE(s)
is performed is to be determined by RAN WG(s).
_On whether the solution can able to differentiate between RRC_Inactive MBS
UEs than RRC_Idle MBS UEs?_
Only solution #4 is proposing to have differentiated paging (with paging cause
included) for RRC_Inactive UEs. Because, in case RRC_INACTIVE UE happens to
share the same paging occasions with any of the IDLE UEs and responds to
paging, the RRC_INACTIVE UE will be brought back to RRC_CONNECTED, which
should be avoided.
### 7.1.4 Mobility for RRC_Inactive UEs receiving MBS data
**Solution#5:** Proposes MBS session service continuity procedures in case of
RNA change, but most aspects of the solution will need to be decided by RAN.
If RRC_inactive UE moves within RNA and if the target NG-RAN node does not
deliver multicast data at target cell using delivery mode tor RRC_inactive
reception, the UE sends RRC message to transition to RRC_connected state to
target NG-RAN node. If target RAN node does not have UE context, it may fetch
it from source RAN. If the UE moves out its RNA and within RA, it triggers the
RNA update procedure as specified in TS 38.300 [13]. The evaluation will
require RAN feedback.
**Solution#19:** It focuses on how to inform RAN nodes not serving any
connected UEs in the MBS sessions? about the MBS session. This solution
describes two options to accomplish:
i) source RAN informs serving/target RAN about MBS;
ii) MB-SMF informs all RAN nodes in a service area.
RRC_inactive UEs can move to cells where the transmission mode for RRC
connected state is applied and then need to transition to the RRC connected
state to receive MBS data. The evaluation will require RAN feedback. Existing
MBS session activation procedures are used from CN towards RAN nodes. RRC-
Inactive UE in cell shall remain RRC-inactive during MBS session activation
when related delivery mode is used in that cell.
**Solution#20 and #21:** The two solutions propose to allow a UE to request
MBS session join/leave during mobility registration update procedure by using
a multicast session information container in the Registration Request message,
when the UE in Idle state or receiving multicast data in RRC Inactive state
moves out of the Registration Area or fails to performthe RRC Resume procedure
(e.g. when moving out of the RNA).
**Solution#28:** When the UE is moved into RRC Inactive state, the serving RAN
node acts the anchoring point, to inform the other RAN nodes in the RNA to
provide the Multicast MBS data. The UE performs the RNA update procedure as
specified in the R17, if it moves outside RNA. If UE moves out of RA, the UE
initiates mobility registration after the RNA update procedure fails. This
solution proposes that RAN nodes in the same RNA area may receive the MBS data
from one RAN node or multiple RAN nodes which have established the shared
delivery tunnel.
**Comparison of the solutions focusing on Mobility:**
_On how to manage RRC_Inactive UEs continuation of MBS data Outside RNA._
Most of the solutions propose to use RNA update procedure by the UE when it
moves outside RNA. Solutions #20 and #28 propose to use mobility registration
procedure when UE moves outside RA. Solution #21 also advocates that if UE in
Idle state or receiving multicast data in RRC Inactive state moves out of the
Registration Area or fails to perform the RRC Resume procedure (e.g. when
moving out of the RNA).
## 7.2 Key Issue #2: 5MBS MOCN RAN Sharing
Soln #2, #7. #8, #9, #24 and #29 are proposed to address Key Issue #2: 5MBS
MOCN Network Sharing.
Soln#2 proposes a solution of providing an additional identifier by the AF
towards the MB-SMF when creating MBS sessions. The MB-SMF passes it to the NG-
RANs. Based on the additional identifier, the shared NG-RAN can understand
multiple Broadcast MBS sessions are transferring the same content and deliver
packets from one session over the air.
Soln#7 proposes to use associated session ID to be passed from the AF to NG-
RANs via 5GCs, to enable shared NG-RAN to associate multiple Broadcast MBS
sessions. The shared NG-RAN associate multiple Broadcast MBS sessions and
deliver packets from one session over the air. The associated session ID can
be SSM or TMGI as two options. To further saving CN resources and NG-RAN
processing efficiency, Soln#7 proposes to establish one user plane within
those broadcast MBS sessions. In case there is a failure in the on-going user
plane, shared NG-RAN will initiate the establishment of another user plane
towards another 5GC.
Soln#8 proposes to use MOCN TMGI to create one broadcast MBS session towards
one 5GC for those shared NG-RANs, and if all NG-RANs under MBS service area
are not shared, also create one broadcast MBS session towards each 5GC for
each PLMN for those dedicated NG-RANs.
Soln#9 proposes pass all the associated TMGIs from the AF towards the MB-SMF
when creating MBS sessions. The MB-SMF pass the TMGI list to the NG-RANs. The
NG-RAN selects the primary TMGI and return the primary TMGI and its usage area
to the AF via the MB-SMF, so that AF can update service announcement to let
UEs to understand the TMGIs and their corresponding usage area. To further
saving CN resources and NG-RAN processing efficiency, Soln#9 also proposes not
to establish the user plane in case the TMGI of the broadcast MBS session is
not the primary TMGI.
Soln#24 proposes to configure the associated TMGIs in NG-RANs, so that shared
NG-RAN can associate multiple broadcast MBS sessions and delivery the content
of one broadcast MBS session over the air.
Soln#29 proposes to use the same TMGI to create broadcast MBS sessions towards
each 5GC together with a MOCN signalling flag to differentiate from normal
broadcast MBS sessions. Soln#29 also proposes to establish one user plane
within those broadcast MBS sessions. In case there is a failure, shared NG-RAN
will initiate the establishment of another user plane towards another 5GC.
The evaluation can be performed from the following aspects:
**Whether the solution can enable shared NG-RAN to optimize radio resource
utilization for MOCN network sharing deployment?**
These criteria can be used to evaluate whether the solution can address KI#2.
Soln#2 and Soln#7 introduce additional identifier and associated session ID to
be provided by the AF. The AF provide it to the MB-SMF in MBS session
creation. The MB-SMF passes it to the NG-RANs, so that shared NG-RAN can bring
data from one broadcast MBS session over the air.
Soln#8 proposes to create only one broadcast MBS session towards shared NG-
RAN, so the shared NG-RAN will only deliver the data from this broadcast MBS
session over the air.
Soln#9 passes all the relevant TMGIs to the NG-RAN, so that shared NG-RAN will
select the primary TMGI and deliver the data from the broadcast MBS session
identified by the primary TMGI.
Soln#24 configures the associated TMGIs in NG-RANs, so that shared NG-RAN can
bring data from one broadcast MBS session over the air.
Soln#29 proposes to create broadcast MBS sessions with the same TMGI and
additional MOCN signalling flag, so that the shared NG-RAN can determine and
bring one broadcast MBS session over the air.
All those solutions can address KI#2.
**Whether the solution can be applied to any deployments?**
In MOCN network sharing deployment, it is possible that not all NG-RAN nodes
are shared. There may be some NG-RAN nodes dedicated to specific PLMN which
connected to the corresponding 5GC. The assumption that all NG-RAN nodes are
shared in MOCN network sharing deployment cannot be made.
In Soln#2, Soln#7, Soln#9, Soln#24 and Soln#29, AF creates each broadcast MBS
session separately, so that the shared NG-RAN will receive multiple broadcast
session setup requests and offer the service, while the dedicated NG-RAN will
receive only the corresponding broadcast session setup request to offer the
service.
In Soln#8, AF creates one broadcast MBS session towards one 5GC for those
shared NG-RAN nodes, and if all NG-RAN nodes under MBS service area are not
shared, creates one broadcast MBS session towards each 5GC for those dedicated
NG-RAN nodes.
**Whether extra efforts are needed when introducing a new MBS service?**
To introduce a new MBS service (e.g. a TV channel), it is important to
evaluate whether extra efforts are needed.
In Soln#2, Soln#7, Soln#8 and Soln#29, AF can perform TMGI allocation and
broadcast MBS session creation as in Rel-17. Soln#9 requires all relevant
TMGIs to be allocated prior to the broadcast MBS session creation, which are
minor implications on the AF. For those solutions, the new MBS service can be
introduced by the invoking Nmbsmf or Nmbsf APIs, without additional efforts.
Soln#24 requires the coordination of the O&M configuration in NG-RANs
(provision relevant TMGIs) and service operation (TMGI allocation and
broadcast MBS session creation). The O&M configuration is done prior to TMGI
allocation, since the TMGI belongs on a pre-agreed service-id range amongst
the participating PLMNs. For example, if PLMNs with MCC=234, MNC=15 (operator
A) and MCC=234, MNC=10 (operator B) are doing MBS RAN sharing, the
corresponding RAN nodes are already configured with the PLMN-ids of each of
the sharing partner and can be configured with the specific respective
service-id (6 digits numbers) of the TMGIs of two PLMNs that correspond to the
same content or even range of service-ids. For instance, service-id=123456
(for operator A) and service-id=001234 (for operator B) corresponds to content
from \"TV channel X\".
For all solutions, prior to introducing new MBS services, the configuration in
all shared NG-RANs need to be done beforehand.
**How many TMGIs are advertised by a shared NG-RAN?**
The number of TMGIs advertised will cause some impacts on the radio resource
efficiency.
Soln#2, Soln#7 SSM option and Soln#24 propose to have all the relevant TMGIs
advertised, and those TMGIs point to the same radio resource for broadcast
data delivery. Soln#7 TMGI option only has one TMGI advertised.
Soln#8 only has one MOCN TMGI advertised.
Soln#9 only has the selected primary TMGI advertised.
Soln#29 only has one common TMGI advertised.
**Is it backward compatible (service announcement impacted)?**
The backward compatibility is an important aspect in the evaluation. If the
solution is backward compatible, it can benefit Rel-17 UEs to work in the
optimized way. All the solutions are backward compatible in radio interface,
but some are not in the service announcement.
In Soln#2, Soln#7 SSM option and Soln#24, there are no impacts on service
announcement. Each UE will get the service announcement with its own TMGI with
the PLMN ID it belongs to. In Soln#29 and Soln#7 TMGI option, each UE will get
the service announcement with a common TMGI, which may have different PLMN ID
from its network.
In Soln#8, there are no impacts on service announcement as well. Each UE may
get the one service announcement with MOCN TMGI and another one with its own
TMGI (i.e. TMGI dedicated to PLMN) if all NG-RAN nodes under MBS service area
are not shared.
In Soln#9, AF needs to consolidate the information it receives from all shared
NG-RANs and include TMGIs with their usage area in service announcement.
**How UE receives broadcast MBS session data?**
The complexity of the UE logic is not negligible.
In Soln#2, Soln#7 SSM option and Soln#24, a UE can receive the broadcast MBS
session data with its own TMGI, as indicated in the service announcement. In
Soln#29 and Soln#7 TMGI option, a UE receives the broadcast MBS session data
with a common TMGI in the service announcement.
In Soln#8, each UE may use the MOCN TMGI or its own TMGI to receive the
broadcast MBS session data, depends on whether it is served by a shared NG-RAN
or dedicated NG-RAN.
NOTE: When the UE receives Service Announcement including MOCN TMGI and
Service Announcement including its own TMGI (i.e. TMGI dedicated to the PLMN)
for same service from the AF, the service layer (e.g. 5MBS client, MC service
client) or the application layer of the UE needs to be able to understand the
MOCN TMGI and its own TMGI are for same service based on the information in
the service announcements, e.g. SDP info with IP multicast address and port#,
Service ID, and UE needs to be able to switch the listening TMGI when moving
to the new cell without broadcasting the currently used TMGI. However, the
lower layer does not have to be aware that these two TMGIs are for same
service.
In Soln#9, a UE needs to determine its location and find the appropriate TMGI
to be used. And then, it can use the selected TMGI to receive broadcast MBS
session data.
**Is the solution resource efficient in CN and NG-RAN processing?**
For those multiple broadcast MBS sessions, only the packets delivered over one
broadcast MBS session will be used. The packets over other broadcast MBS
sessions will be dropped, which wastes not only 5GC transportation resource,
but also NG-RAN processing resource.
Soln#2 and Soln#24 propose to establish all user planes which improves the
service reliability, but less resource efficient.
Soln#7, Soln#9 and Soln#29 propose to establish one user plane across those
broadcast MBS sessions. In case the on-going one fails, NG-RAN initiates the
establishment of another user plane, to improve the service reliability. In
this approach, there will be some additional service interruption time for the
user plane re-establishment (from MB-UPF to NG-RAN). However, compared with
the error detection period, the additional user plane establishment period is
small.
In Soln#8, each NG-RAN has only one broadcast MBS session. Note that there is
a trade-off between _\"resource efficient in CN and NG-RAN processing\"_ and
_\"the efforts to re-establish the shared tunnel when currently used N3mb
tunnel is released\"_. Having multiple shared tunnels could be beneficial for
that case.
**Are there signalling impact in 5GC and NG-RAN?**
All solutions require service operation update provided by MB-SMF, as it is a
new feature to be introduced. Some solutions avoid signalling impact in 5GC
and NG-RAN, while some require.
Soln#2 and Soln#7 require an additional identifier (associate session ID) to
be passed from the AF to NG-RAN via 5GC. Soln#9 requires the complete TMGI
list to be passed. Soln#29 requires a MOCN signalling flag to be passed and
the TMGI in use may have different PLMN ID.
Editor\'s note: It is to be confirmed by RAN WGs whether a shared NG-RAN can
use a TMGI with a different PLMN ID which is not shared PLMN ID.
Soln#8 requires MB-SMF return shared MBS service area to AF, but there is no
signalling impact in 5GC and NG-RAN.
Soln#24 avoids the signalling impact by the configuration in NG-RAN. However,
depends on the alternatives to be chosen, it may require TMGI allocation to be
delegated to NEF or MBSF.
Table 7.2-1 illustrate the comparison of the solutions for KI#2 5MBS MOCN
Network Sharing.
Table 7.2-1: Comparison of solutions for KI#2 5MBS MOCN Network Sharing
+------------+----------+----------+------------+-----+-----+-----+ | | Solution | | | | | | +============+==========+==========+============+=====+=====+=====+ | Evaluation | 2 | 7 | 8 | 9 | 24 | 29 | | Aspects | | | | | | | | | | (NOTE 3) | | | | | +------------+----------+----------+------------+-----+-----+-----+ | **Enable | Yes | Yes | Yes | Yes | Yes | Yes | | shared | | | | | | | | NG-RAN to | | | | | | | | optimize | | | | | | | | radio | | | | | | | | resource | | | | | | | | uti | | | | | | | | lization** | | | | | | | +------------+----------+----------+------------+-----+-----+-----+ | ** | Yes | Yes | Yes | Yes | Yes | Yes | | Applicable | | | | | | | | to any | | | | | | | | MOCN | | | | | | | | network | | | | | | | | sharing | | | | | | | | de | | | | | | | | ployment**| | | | | | | +------------+----------+----------+------------+-----+-----+-----+ | ** | No | No | No | No | Yes | Yes | | Additional | | | | | | | | efforts | | | | | | | | required | | | | | | | | when | | | | | | | | i | | | | | | | | ntroducing | | | | | | | | a new MBS | | | | | | | | service** | | | | | | | +------------+----------+----------+------------+-----+-----+-----+ | **Number | All | All/One | One | One | All | One | | of TMGIs | | | | | | | | ad | | | | | | | | vertised** | | | | | | | +------------+----------+----------+------------+-----+-----+-----+ | **Backward | Yes | Yes | Yes | No | Yes | Yes | | compatible | | | | | | | | (regarding | | | | | | | | no Service | | | | | | | | an | | | | | | | | nouncement | | | | | | | | impact)** | | | | | | | +------------+----------+----------+------------+-----+-----+-----+ | ** | No | No/No? | No? (NOTE | Yes | No | No | | Additional | | | 1) | | | | | logic in | | (NOTE 1) | | | | | | UE when | | | | | | | | receiving | | | | | | | | data**| | | | | | | +------------+----------+----------+------------+-----+-----+-----+ |** Resource | No | Yes | Yes | Yes | No | Yes | | Efficiency | | | | | | | | in 5GC and | | | | | | | | NG-RAN**| | | | | | | +------------+----------+----------+------------+-----+-----+-----+ | ** | No | Yes | NA | Yes | No | Yes | | Additional | | | | | | | | effort for | | | | | | | | recovering | | | | | | | | data | | | | | | | | tr | | | | | | | | ansmission | | | | | | | | (NOTE 2)** | | | | | | | +------------+----------+----------+------------+-----+-----+-----+ | ** | Yes | Yes | No | Yes | No | Yes | | Signalling | | | | | | | | impacts in | | | | | | | | 5GC and | | | | | | | | NG-RAN __| | | | | | | +------------+----------+----------+------------+-----+-----+-----+ | NOTE 1: | | | | | | | | The | | | | | | | | service | | | | | | | | layer or | | | | | | | | a | | | | | | | | pplication | | | | | | | | layer of | | | | | | | | the UE may | | | | | | | | be | | | | | | | | impacted | | | | | | | | as | | | | | | | | described | | | | | | | | in the | | | | | | | | NOTE under | | | | | | | |_ \"How UE | | | | | | | | receives | | | | | | | | broadcast | | | | | | | | MBS | | | | | | | | session | | | | | | | | data?\" It | | | | | | | | applies to | | | | | | | | Soln#8. | | | | | | | | It does | | | | | | | | not apply | | | | | | | | to Soln#7 | | | | | | | | SSM | | | | | | | | Option. It | | | | | | | | applies to | | | | | | | | Soln#7 | | | | | | | | TMGI | | | | | | | | option | | | | | | | | only when | | | | | | | | there are | | | | | | | | pre Rel-18 | | | | | | | | NG-RANs._ | | | | | | | | | | | | | | | | NOTE 2: | | | | | | | | The answer | | | | | | | | \"No\" | | | | | | | | means | | | | | | | | NG-RAN | | | | | | | | needs to | | | | | | | | detect the | | | | | | | | failure | | | | | | | | and switch | | | | | | | | the user | | | | | | | | plane | | | | | | | | locally, | | | | | | | | the | | | | | | | | \"Yes\" | | | | | | | | means | | | | | | | | NG-RAN | | | | | | | | needs to | | | | | | | | establish | | | | | | | | user plane | | | | | | | | towards | | | | | | | | another CN | | | | | | | | add | | | | | | | | itionally, | | | | | | | | and the | | | | | | | | "NA" means | | | | | | | | it is the | | | | | | | | same as | | | | | | | | the MBS | | | | | | | | session | | | | | | | | for | | | | | | | | non-MOCN | | | | | | | | scenario. | | | | | | | | | | | | | | | | NOTE 3: | | | | | | | | The first | | | | | | | | value | | | | | | | | refers to | | | | | | | | SSM option | | | | | | | | and the | | | | | | | | second | | | | | | | | value | | | | | | | | refers to | | | | | | | | TMGI | | | | | | | | option, | | | | | | | | when there | | | | | | | | are two | | | | | | | | values in | | | | | | | | the cell. | | | | | | | +------------+----------+----------+------------+-----+-----+-----+
Besides those criteria mentioned above, some other issues shall also need to
be taken into consideration:
**_Whether AF can release MBS sessions flexibly?_**
It is possible for the AF to request to trigger the MBS session deletion
procedure for one or several PLMNs after a while.
Soln#2 and Soln#7 SSM option use extra ID to identify the service, therefore
the release of one PLMN will not affect other PLMNs. Soln#24 assumes the
relationship is pre-configured therefore releasing will not affect others as
well.
Soln#8, Soln#29, and Soln#7 TMGI option propose to use MOCN TMGI (or same
TMGI). However, a TMGI can be allocated and released separately from an MBS
session, and thus the MOCN TMGI (or same TMGI) must be kept not deallocated
when the MBS session towards this PLMN is stopped, if it is still in use by
other PLMNs.
Soln#9 proposes to pass all the associated TMGIs from the AF towards the MB-
SMF when creating MBS sessions. When releasing the broadcast MBS session for
one PLMN, the MBS session context of the PLMNs needs to be updated as well,
which requires further clarification. Or the AF must keep holding the
associated TMGIs till all relevant MBS sessions are released.
**Whether the solution can be compatible with pre Rel-18 NG-RANs?**
With the compatibility of pre Rel-18 NG-RANs, operators can deploy the MBS
service freely. Otherwise, the optimization developed for KI#2 cannot be
applied, until all the NG-RAN nodes are upgraded.
In Soln#2, Soln#7 SSM Option and Soln#9, the additional information
(associated session ID, TMGI list) is sent to NG-RAN as an optional parameter.
Pre Rel-18 NG-RANs will ignore the parameter and continue to establish the
broadcast MBS sessions in legacy way. The optimization will not be applied to
pre Rel-18 NG-RANs, i.e. the same MBS content will be broadcasted several
times over the air interface. However, the Soln#9 brings additional
requirements on AF to construct the mapping of the primary TMGI and the usage
area manually.
In Soln#24, no additional information needs to be passed to NG-RAN, and thus
pre Rel-18 NG-RANs could work naturally.
In Soln#8 uses MOCN TMGI and native TMGI to separately target different NG-RAN
nodes. There are no issues for dedicated pre Rel-18 NG-RANs, but for those
shared pre Rel-18 NG-RANs, the MOCN TMGI may not be supported.
Soln#29 assumes the TMGI from one certain PLMN as the common TMGI and uses it
as the TMGI together with the MOCN signalling to create broadcast MBS sessions
in all of the PLMNs requested by the AF. The MCC/MNC (i.e. PLMN ID) field of
the common TMGI can be different from the current PLMN about to establish the
broadcast MBS session, and there is no standardized requirement to check those
fields or not. A dedicated pre Rel-18 NG-RAN nodes could not support the TMGI
if it checks the MCC/MNC. There are different views on whether Rel-17 will be
affected and whether the proprietary behavior can be ruled out. Depending on
implementation, a shared pre Rel-18 NG-RAN node may only accept the first
broadcast MBS session, while reject the later ones with the same TMGI. A
shared pre Rel-18 NG-RAN node may accept all broadcast session setup requests
with the same TMGI and only store the MBS session context of the latest one.
However, the UEs from all PLMNs will be able to receive the MBS session using
that TMGI and the MBS data will only be transmitted a single time.
Soln#7 TMGI option also uses a common TMGI to be associated session ID. Pre
Rel-18 NG-RANs will ignore it and continue to establish the broadcast MBS
sessions using the native TMGI (the TMGI in MBS session ID). The broadcast MBS
session establishment and content delivery work in the legacy way. However, it
also requires AF to use native TMGI in service announcement, which leads to
the similar service announcement issue as Soln#8 (multiple TMGIs are provided
to the UE for the same MBS service).
## 7.3 Key Issue #3: On demand multicast MBS session
There are three solutions proposed with the intention to address the objective
to regarding the on demand multicast MBS session: Solutions #10, #11 and #30.
\- Solution #10 proposes to reuses 4.15.6.6 and/or 4.15.6.6a, and includes
flow description(s) with unicast and IP multicast address (i.e. MBS Session
ID) to inform the PCF the MBS session that a certain UE wants to join. After
the PCF informs SMF (with including the MBS session ID), the residual parts
are similar as current defined procedure in TS 23.247 [4] with the following
additions: 1) inform the MBS session to the UE via NAS and UE may further
perform NATP for the received multicast data, and 2) associate the unicast
flow and multicast data to further perform NATP by UPF for pre Rel-18 UE.
\- Solution #11 proposes to reuse 4.15.6.6a, and includes MBS session ID to
inform the PCF the MBS session that a certain UE wants to join. After the PCF
informs SMF (with including the MBS session ID), the residual parts are
similar as current defined procedure in TS 23.247 [4]. This solution
alternative mandates deployment of dynamic PCC and assumes that UE\'s private
IP address is available over N33. Solution#11, Alt#2 has impact on AF, PCF,
SMF and UE. Besides, clause 4.15.6.6a of TS 23.502 [3] is intended for dynamic
QoS update but the AF request join is not related to QoS control.
\- Solution #30 proposes procedures for creation of an MBS multicast sessions
towards the NG-RAN when UEs request to join an ongoing multicast session in an
external IP network without the need of AF interactions. Based on operator
policy, the MB-SMF may immediately establish the MBS session towards the radio
when the first UE joins or wait until more UEs join. If the former, then this
is Rel-17 solution, and if the latter, it is still to be clarified that is the
benefit of applying individual delivery, instead of shared delivery when the
first UE(s) join the MBS session.
Solutions #10 and #11 have a substantial number of unresolved issues.
Editor\'s note: The advantages of enabling an AF to request the core network
to add users to an MBS session compared to the Rel-17 procedures where the AF
invites UEs via service announcement and then the UEs request to join the
session are FSS.
From the perspective of impact to 5GC, Solution #10 has the same part as
solution #11 with the addition that the 5GC configures the NATP in UE, and
optionally SMF uses individual delivery for pre Rel-18 UEs, and UPF performs
NATP for them. Solution #11 requires AF provide the MBS session ID, and PCF
initiate SM Policy Association Modification procedure with including MBS
session ID.
Both Solution #10 and Solution #11 enhance the \"AF session with required QoS
update procedure.
Compared to solutions #10 and #11, solution #30 addresses a different use case
and thus also proposes entirely different procedures, mainly enhancements to
the Nmbsmf_MBSSession_ContextStatusSubscribe and
Nmbsmf_MBSSession_ContextStatusNotify procedures between MB-SMF and SMF.
## 7.4 Key Issue #4: Group message delivery
Solutions #12 and #13 are proposed to address Key Issue #4.
Soln#12 proposes a solution on the NEF, which utilizing the Full-Service Mode
offered by the MBSF/MBSTF (Object Delivery method).
Soln#13 proposes a solution on the NEF, which utilizing both the Full-Service
Mode offered by the MBSF/MBSTF as well as the Transport-Only Mode offered by
the MB-SMF/MB-UPF directly.
Both solutions keep the backward compatibilities with the group message
delivery solution in eMBMS.
For the Full-Service Mode, Soln#12 and Soln#13 are aligned. The solutions
described in Soln#12 and Soln#13 contain the delivery of the group message, as
well as the cancel and the modification of the group message, which are
required from group message handling perspective. There are no contradictions
between those two solutions.
For the Transport-Only Mode, Soln#13 expects the reliability of the group
message delivery to be implemented in the AF, and 5GC provides a transparent
delivery bearer. In Transport-Only Mode, AF can interact with the MB-SMF/MB-
UPF directly without the involvement of the NEF, which is supported in Rel-17.
There are no additional benefits needs to include the NEF besides the existing
exposure functionality (i.e. utilize the service operations defined for group
message). Furthermore, the reliability delivery handling in AF does not fully
take the advantage of the MBS. It increases the complexity of the AF
implementation and requires each AF to implement the logic of reliable
delivery, while such reliable delivery logic has already been offered by 5GC.
It is an alternative option to let the NEF packetize the received group
message and deliver packets to the MB-UPF. However, without service layer
protection, the UEs are not able to deal with any errors during the
transmission (e.g. packet loss, packet disorder, etc.). And it is not
appropriate to introduce service layer protection to the NEF.
Soln#13 points out the solution shall be re-used for general group message
delivery purposes (not limited to MTC devices), which align with the proposal
in group message delivery solution in eMBMS.
Soln#13 further include the area which does not support MBS in the response
message towards the AF. Even though this function is not tightly coupled with
group message solution, it could benefit the AF and hide the deployment
complexity towards the AF. The solution proposes that the AF can then deliver
data to UEs outside the area via unicast, but the AF will in some cases not be
aware of the UE location
## 7.5 Key Issue #5: Coexistence with existing power saving mechanisms for
capability-limited devices
For Key Issue #5, there are following solutions:
\- Sol#14 is intended for both multicast and broadcast MBS Session.
\- Sol#15 covers only broadcast MBS Session.
\- Sol#25 is intended for multicast MBS Session.
For interaction between broadcast MBS and power saving mechanism, Sol#14 and
Sol#15 are aligned.
The table below is to provide an overview of the solutions of KI#5.
Table 7.5-1: Comparison of multicast solutions for KI#5
+-------------+-------------+-------------+-------------+-------------+ | | **Solution |** Solution | **Solution |** Solution | | | #14**| #15** | #25**| #25** | | | | | | | | | | | **(periodic |**(Deferred | | | | | or one time | ac | | | | | tran | tivation)**| | | | | smission)** | | +=============+=============+=============+=============+=============+ | **Inform UE | service | Service | Service | NAS message | | the | a | An | A | (built by | | scheduled | nnouncement | nouncement. | nnouncement | AMF) | | time** | | | or PDU | | | | | | session | | | | | | m | | | | | | odification | | | | | | command. | | +-------------+-------------+-------------+-------------+-------------+ | **Method to | DRX level - | SDP level | SDP level | SDP level | | control the | counted in | (NTP time | (NTP time | (NTP time | | \"awake\" | mi | values) - | values) - | values) - | | timing** | lliseconds. | counted in | counted in | counted in | | | | seconds. | seconds. | seconds. | +-------------+-------------+-------------+-------------+-------------+ | **5GC | N/A. | N/A | MB-SMF | MB-SMF: | | en | | | activates | provides | | hancement** | | | MBS session | wake-up | | | | | at start | time to | | | | | time | SMF(s) in | | | | | | delayed | | | | | | activation | | | | | | request. | | | | | | | | | | | | SMF: | | | | | | provides | | | | | | wake-up | | | | | | time in | | | | | | delayed | | | | | | activation | | | | | | request | | | | | | with UE | | | | | | list. | | | | | | | | | | | | AMF: finds | | | | | | the UE in | | | | | | power | | | | | | saving mode | | | | | | and paging | | | | | | them | | | | | | in | | | | | | dividually, | | | | | | and provide | | | | | | the wake-up | | | | | | time in NAS | | | | | | message. | +-------------+-------------+-------------+-------------+-------------+ | **UE | DRX for MBS | Provided | Provided | Provided | | behaviour** | takes | time takes | time takes | time takes | | | precedence | precedence | precedence | precedence | | | over the | over the | over the | over the | | | existing | existing | existing | existing | | | Power | Power | Power | Power | | | saving | saving | saving | saving | | | mechanism. | mechanism. | mechanism. | mechanism. | | | E.g. MICO, | | | | | | PSM, or | | | | | | eDRX. | | | | +-------------+-------------+-------------+-------------+-------------+ | **Use | MBS service | MBS service | MBS | Multicast | | cases** | | | service. | MBS | | | Suitable | Suitable | | service. | | | data | data | Suitable | | | | t | t | data | Suitable | | | ransmission | ransmission | t | for data | | | at times | at times | ransmission | t | | | known in | known in | at times | ransmission | | | advance, | advance, | known in | at not | | | e.g. for | e.g. for | advance, | previously | | | p | p | e.g. for | known times | | | eriodically | eriodically | p | | | | repeated | repeated | eriodically | | | | data | data | repeated | | | | tr | tr | data | | | | ansmissions | ansmissions | tr | | | | | | ansmissions | | +-------------+-------------+-------------+-------------+-------------+
NOTE: Note that the above-mentioned table may not exhaustively list the
proposal of the solutions. For example, Solution#14 also suggest to keep UE
connected for a while in the middle of an MBS data transfer.
In fact the main idea of DRX level control and SDP level control are not
against each other, they are, on the other hand, the complementary solutions
and therefore can be adopted at the same time. In addition, Solution #25,
option 1 also proposes to make use of service announcement to convey the
knowledge of session start/end time of the MBS session. Solution #25 option 2
proposes to provide such information via NAS message to UEs in the MBS session
and is therefore suited for multicast MBS service.
Solution 25 Option 2 enables data transmission at times which are not known
when the service announcement is performed.
For solution #25:
\- The idea of \"periodic or one time transmission\" is to use the start time
, which is already part of MBS session context, and provide the start time to
the UE either via PDU Session Modification or service announcement, and 5GC
triggers the session activation based on the start time.
This solution has impact on AF, MB-SMF, SMF and UE. The activation and
deactivation of an MBS session is a prerequisite for Rel-17 UEs to enter IDLE
state when no data transmission is ongoing.
\- The idea of \"Deferred activation\" is another alternative to provide the
time information, i.e. AF provides the wake-up time to 5GC whenever needed,
and such information will be provided to UE via individual paging. The
proposal uses session activation and provides the MBS information to UE by the
AMF. The UEs start to receive MBS data at the configured times. From system
impact perspective, the AMF is not supposed to be involved in the UE's
handling of MBS Session whenever possible (due to the SMF-centric multicast
solution chosen in Rel-17), however the new procedure of NAS Transfer in
Figure 6.25.3.2-1 is not aligned with that principle.
## 7.6 Key Issue #6: Improvement for potential performance issues related to
high numbers of public safety UEs
Editor\'s note: It may need to be revised, depending on the conclusion of the
updated solution and new solutions.
Solution #3, #16, #17, #20, #26 and #31 are proposed to address Key Issue #6:
Improvement for potential performance issues related to high numbers of public
safety UEs.
Below is a short summary of the solutions:
**Solution #3** proposes a solution to enable the AF to provide the group
member information to NG-RANs via 5GC, which could be utilized by NG-RAN as
assistance information when deciding which UEs can be sent to RRC_INACTIVE
when needed. The assistance information is provided via PCF.
**Solution #16** proposes a solution to enable AF to offer public safety
service via broadcast and/or multicast sessions, which allows the UE to decide
whether to receive the public safety MBS content via broadcast MBS Session if
available, and/or multicast session.
**Solution #17** proposes a solution to enable AMF to become aware of the list
of UEs that has joined a MBS sessions and get the UE list ready for group
paging. When requested, the AMF trigger group paging without having to going
through the UE list.
**Solution #20** proposes to allow the UE to request multicast MBS session
join/leave during mobility registration update procedure, by including the
associated PDU session status and the multicast session information container
in the Registration Request message. The UE can be in CM-IDLE state or in CM-
CONNECTED with RRC Inactive state.
**Solution #26** proposes a solution to let AF provide information to 5GC (via
parameter provisioning interface) and then to NG-RAN that a UEs should stay in
RRC_CONNECTED. It also contains proposals to reduce the cell load for public
safety UEs by reducing the amount of Listener Reports. However, it is to be
clarified how the Listener Reports are to be reduced.
**Solution #31** proposes that the NG-RAN indicates the resource allocation
failure (which can be per slice to the UE and then the UE reports the failure
towards the AF which may take further action, e.g. releasing low priority
group communications which is using the MBS, switching the group call to
broadcast MBS session.
Following is a detailed evaluation of the solutions:
**Solution #3:**
This solution enables an AF to provide group member information (e.g.
privileged or not) as part of the MBS session to assist NG-RAN when deciding
which UEs can be sent to RRC_INACTIVE. As there are similar proposals only
submitted for KI#1, this solution will be further evaluated in KI#1.
**Solution #26:**
This solution also enables an AF to provide information about UEs recommended
to be kept in RRC_Connected state. The information is provisioned independent
of the MBS session and thus applied for privileged users participating in
multiple MBS sessions. As there are similar proposals only submitted for KI#1,
this aspect of the solution will be further evaluated in KI#1.
The solution also contains proposals to reduce the cell load for public safety
UEs by reducing the amount of Listener Reports to avoid that UEs frequently
need to transition to RRC-Connected state to send such reports This needs to
be clarified and evaluated together with SA6.
NOTE: It is up to SA6 to determine if the amount of Listener Reports should be
reduced and how it can be achieved, which is independent from SA2.**Solution
#20,**
The solutions enables that the UE requests multicast MBS session join/leave
during mobility registration update procedure. In addition to the associated
PDU Session status, the multicast session information container is also
included in the Registration Request message to indicate whether the UE wants
to join or leave (e.g. due to triggers from the application layer) or remain
joined in one or more multicast MBS sessions associated with the PDU Session,
so that:
\- the multicast MBS session join/leave can be performed during the
registration procedure.
\- the network will not trigger multicast MBS session establishment towards
the NG-RAN if the UE indicates leaving the multicast MBS session.
Considering UE(s) in RRC Idle or RRC Inactive state can join the multicast MBS
session using mobility registration procedure, and then receive multicast data
in RRC Inactive state, it will bring the benefits of less signalling
interactions, time and radio resource consumption.
Utilizing the mobility registration to indicate "join" or "leave", it requires
the conditions for mobility registration update are met when UE requests
session join or leave (e.g. due to pending application layer request). Even if
such possibility for one UE may be low, it would be beneficial considering the
large number of UEs.
**Solution #16,**
The intention is that AF starts a broadcast MBS session in some dense area and
the UEs in that area receives MBS data via broadcast, and when moving out of
broadcast coverage, UEs receives data via multicast.
The decision to suspend the MRB of multicast MBS session in NG-RAN is based on
congestion situation in NG-RAN, and the decision of start broadcast session
logic in GCS AS is based on the counting of UEs in a specific area. A possible
misconfiguration is that in some areas, AF does not start the broadcast
session, but NG-RAN suspends the MRB of the multicast session, which may
require those joined UEs to fall back to unicast. It is also possible that in
some areas, AF started the broadcast and NG-RAN keeps the MRB of the multicast
session, which will cause double resource consumption.
Furthermore, to start broadcast MBS session effectively, accurate and frequent
location reports are required, which may also lead to capacity bottlenecks.
There is a trade-off between accuracy and frequency of the location reports
and how fast switching between broadcast and multicast can be achieved.
**Solution #17,**
The intention is to shorten the group call setup time by letting the AMF be
aware of UE join and get the list of UEs for group paging ready and constantly
calculating the group paging area, which can avoid processing of the UE list
when receiving enable group reachability requests. Whenever the multicast MBS
session is activated, the AMF can trigger the group paging when receiving the
first request (enable group reachability request or multicast session
activation request). Furthermore, the AMF triggers a group paging for all the
joined CM-IDLE UEs in the AMF, instead of trigging group paging per enable
group reachability request. This solution is not intended to address the
bottleneck in air interface.
As service request handling constitute most of the delay for a CM-IDLE UE in
MBS session activation, Solution #17 can reduce the group call setup time but
not significantly. The solution requires AMF constantly updates the group
paging area for UE CM state change when MBS session is inactive. This requires
the involved SMFs to include the joining/leaving message outside the N2SM
information.
Another aspect, it may minimize the number of group paging requests from the
AMF to the NG-RANs, which reduce the number of interactions between the AMF
and the NG-RANs. If the frequency of multicast MBS session activation is low,
the performance improvement will not be significant as well. Also, this
depends on how many SMFs are involved in the MBS session, e.g. if there is
only one SMF, the differences are not that much.
**Solution #31,**
This solution enables the AF to take actions (e.g. releasing low priority
group communications which is using the MBS, switching the group call to
broadcast MBS session, by the NG-RAN informs the UEs of the resource
allocation failure and then the UEs further informs the AF.
It is not clear how the solution works in MBS session activation procedure. It
requires further explanation on whether such application-level feedback works
when the cell is overloaded. And it is to be evaluated the benefits compared
with the solution using the join failure event report from the UE to the AF
which exist already.
# 8 Conclusions
Editor\'s note: This clause will list conclusions that have been agreed during
the course of the study item activities.
## 8.1 Key Issue #1: MBS session reception in RRC Inactive
### 8.1.1 Conclusions
The following conclusions is proposed for KI#1:
\- It is possible to keep some UEs within the same MBS session in
RRC_CONNECTED and some in RRC_INACTIVE state. NG-RAN nodes take the
responsibility to determine (e.g. during congestion) which UE(s) within an MBS
multicast session will be moved from CM-CONNECTED with RRC CONNECTED to CM-
CONNECTED with RRC Inactive state and still receive MBS session data.
\- The 5GC provides information about the MBS session as specified for Rel-17
and may provide additional assistance information to help NG-RAN to determine
whether to apply delivery enabling reception by UEs in RRC_Inactive state for
an MBS session and which UE(s) to be moved to RRC Inactive state.
\- The assistance information may include recommendations whether to enable
delivery for reception in RRC_Inactive state for an MBS session and
information about UEs that should preferably be kept in RRC_Connected state,
i.e. the MBS session level and UE level MBS assistance information, and may be
provided by the AF to 5GC and then to NG-RAN.
\- For MBS session level assistance information:
\- The existing MBS session QoS parameters (e.g. ARP, 5QI) can be used as the
MBS session level assistance information by NG-RAN to differentiate different
MBS sessions.
\- For UE level MBS assistance information:
\- The UE level MBS assistance information is an optional new parameter and
set per MBS session. It is indicated by the AF to inform the network whether
from the expected traffic pattern of the UE the indicated UE is preferred to
be kept in the RRC Connected state even if it is able according to its radio
capabilities to receive the MBS session data in RRC_INACTIVE state, e.g. a
frequent talker.
NOTE 1: The protocol detail and how the assistance information is formatted
(e.g. as a flag, multiple choices (high/low/medium) or multiple integer values
of the assistance information for the expected traffic pattern) is to be
defined in normative phase and requires RAN WG feedback.
\- The AF provides the UE level MBS assistance information as part of MBS
subscription data during External Parameter Provisioning procedures as defined
in clause 6.4.2 of TS 23.247 [4].
\- The SMF provides the received UE level MBS assistance information to NG-RAN
node as part of the PDU session information in N2 SM Info and sent to NG-RAN
via AMF.
\- NG-RAN use the MBS session level and UE level MBS assistance information as
help for the decisions on whether to enable delivery for reception in
RRC_INACTIVE state for an MBS session and/or on which UEs to keep in
RRC_CONNECTED or. RRC_INACTIVE state. How NG-RAN performs those decisions is
up to NG-RAN implementation.
NOTE 2: How the NG-RAN handles the situation without assistance information
for RRC Inactive multicast MBS data reception is to be determined by RAN WGs.
NOTE 3: What is defined in clause 5.3.3.2.5 of TS 23.501 [2] for \"RRC
Inactive Assistance Information\" is sent by AMF to NG-RAN and may be used by
NG-RAN together with any other MBS session level assistance information and UE
level MBS assistance information for deciding whether to send a UE to RRC
Inactive state.
\- When the MBS session is activated, the UEs in RRC Inactive state in cells,
where the MBS session is delivered allowing RRC-inactive reception, should be
able to remain in RRC Inactive state for receiving the MBS session data.
\- For group paging, the network notifies which MBS session is to be
activated. For the UE in RRC_INACTIVE state how the group paging is handled
will be decided by RAN WGs.
\- How NG-RAN notifies the UE that the MBS session is re-activated and whether
the MBS session is allowed to be received in RRC-inactive state will be
decided by RAN WGs.
\- When an RRC_INACTIVE UE is in the process of receiving ongoing MBS session
data and moves to a new cell within the RNA, the UE shall be able to receive
MBS session data.
\- When the UE moves outside the RNA, the UE performs UE Triggered Connection
Resume in RRC Inactive procedure to the target RAN node as per existing
procedures in TS 23.502 [3].
\- When the UE receives the MBS data in RRC Inactive state and move out of the
RNA area but Connection resume fails, it follows existing procedures and
transition to CM-IDLE. When the UE transition to CM-IDLE since is not able to
receive the MBS multicast data at the new cell, the UE initiates the mobility
registration update or Service Request procedure and activates the associated
PDU session, so that the shared tunnel (if not already established) or the
individual delivery can be established towards the NG-RAN node for multicast
data delivery to the UE.
\- When the UE moves outside the RA, the UE performs mobility registration
procedure and as per the existing procedure in clause 5.3.3.2.5 of TS 23.501
[2] for \"Mobile initiated NAS signalling procedure\" for UEs in CM-CONNECTED
with RRC Inactive state, the UE will resume the RRC Connection.
\- During the handover procedure, the SMF includes the \"MBS assistance
information for RRC Inactive\" if any in N2 SM Info and sent to NG-RAN via
AMF.
The following requirements, which need be supported by RAN WGs, are concluded:
\- Backward compatibility with Rel-17 UEs not supporting the RRC_Inactive
reception of MBS multicast data needs to be ensured.
\- RAN WG2 define UE radio capability for MBS reception in RRC_INACTIVE state.
\- NG-RAN nodes decide for which MBS sessions to apply delivery enabling
reception in RRC_Inactive state. The NG RAN nodes handling RRC-Connected UE in
an MBS multicast session also decides whether the UEs can transition to
RRC_Inactive state and may consider assistance information from the 5G core
network for that decision. How NG-RAN performs those decisions is up to NG-RAN
implementation.
\- When the MBS session is activated, the UE in RRC Inactive state in cells
where the MBS session is delivered in the delivery mode for RRC-inactive
reception should be able to remain in RRC Inactive state for receiving the MBS
session data.
\- When the UE is in RRC Inactive state and moves within the RNA, it shall be
able to continue receiving DL multicast MBS data unless it leaves the MBS
service area.
## 8.2 Key Issue #2: MOCN network sharing
For conclusions, the following aspects will be considered:
\- For solutions where the broadcast MBS sessions for different PLMNs are
established towards a NG-RAN node, the NG-RAN node shall be able to identify
the same MBS service and avoid multiple deliveries over radio.
\- A solution compatible with Rel-17 UEs is preferred.
\- A solution compatible with Rel-17 NG-RAN is preferred.
\- The AF may provide associated session identifier (SSM used by AF)
additionally to the NG-RAN nodes via 5GC so that the shared NG-RAN nodes can
determine that the multiple broadcast MBS sessions are transmitting same
content for the same MBS service (i.e. Soln#2 and Soln#7 SSM option), or
\- The association of MBS session identifiers may be configured in NG-RAN,
where there is no requirement on AF to provide associated session identifier.-
It should be possible not to establish all the shared delivery tunnels to the
same NG RAN from different PLMNs for the same MBS service.
\- The solution should support the scenario where all NG-RAN nodes are shared
by PLMNs and the scenario where only part of the NG-RAN nodes are shared by
PLMNs.
## 8.3 Key Issue #3: On demand multicast MBS session
The use case in KI#3 is already possible in Rel-17 and no further normative
work is needed in Rel-18.
## 8.4 Key Issue #4: Group message delivery
For group message delivery, the following principles have been agreed:
\- It shall support reliable delivery of group messages via MBS. Full-Service
Mode solution, which utilize the Object Delivery Method offered by the
MBSF/MBSTF, is adopted.
NOTE: The AF can invoke the Nmbsmf service operations offered by the MB-SMF
(optionally via the NEF) for Transport Only Mode, as supported in Rel-17.
\- It shall support group message delivery request from AF. The group message
is included in the group message delivery request.
\- It shall support the cancellation of a previously accepted group message
delivery request.
\- It shall support the modification of a previously accepted group message
delivery request.
\- It shall be applied for general group message delivery purposes (not
limited to MTC devices).
\- The AF may be informed about the areas where MBS is not supported. The
support of this feature is optional.
## 8.5 Key Issue #5: Coexistence with existing power saving mechanisms for
capability-limited devices
The following principles are applied for normative work to allow UEs to
receive multicast/broadcast MBS data when they are using power saving
mechanisms (e.g. eDRX, MICO with active time etc):
\- Solution #14 is used as the basis for normative work with the following
further clarifications:
\- The UE is configured by the AF via the service announcement about a session
start time and a possible sequence of scheduled activation times when the AF
may activate the MBS session and transmit MBS data.
\- At the session start time and the possible scheduled activation times, the
UEs apply the procedures of Solution #14 to receive MBS data. This means that
for an MBS multicast session, if the UE has already joined the MBS session as
defined in clause 7.2.1.3 of TS 23.247 [4], at the possible scheduled
activation times, IDLE UEs need to listen for paging requests and if paged by
the network with group paging follow the existing procedures in clause 7.2.5.2
of TS 23.247 [4]. In this case, how long the UE need to listen to paging is
left up to UE implementation.
\- If the UE has not previously joined the MBS multicast session, at the
possible scheduled activation time it performs MBS join procedure as currently
defined in clause 7.2.1.3 of TS 23.247 [4]. Whether the UE performs MBS join
procedure in advance and stays \"joined\" or every time at activation time is
left up to UE implementation.
\- How to support NR capability-limited (RedCap) UEs in MBS will be decided in
normative phase considering possible related decisions of RAN WGs
## 8.6 Key Issue #6: Improvement for potential performance issues related to
high numbers of public safety UEs
No normative work on this key issue will be performed by SA WG2 in Rel-18.
NOTE 1: Solutions addressing both key issue #6 and other key issues can be
selected in conclusions for other key issues.
NOTE 2: It is assumed that:
\- An AF e.g. MCX AS is able to create additional broadcast session for the
same service as per UE feedback;
\- An AF e.g. MCX server can create broadcast and multicast session for the
same service; and
\- Public Safety UE procedures can be enhanced to reduce uplink signalling
(e.g. location reports) without any further impacts in SA2 specifications. It
is up to SA6 to decide upon such procedures.
NOTE 3: For public safety services, based on existing QoS mechanisms, the NG-
RAN ensures that public safety UEs are able to complete the setup of the MBS
services and then operate according to regulation and operator policy, e.g.
pre-emption mechanisms can be activated for PDU sessions unrelated to MBS
sessions, resulting in some UEs already in RRC_CONNECTED state being
transitioned to RRC_IDLE or RRC_INACTIVE to \"make room\" for some of the
newly arrived mission critical enabled UEs to get to the RRC_CONNECTED state
necessary to start/complete their association with the public safety group of
interest. Normative work is not required.
###### ### Annex A: Public Safety use cases of large number of UEs in a single
cell
This Annex covers the case when the mission critical enabled UEs are
concentrated in a single cell.
A general public safety use case, for example, can assume that:
\- a cell with UEs receiving a mix of public safety and non public safety
services: some UEs receive only non public safety services, other UEs receive
only public safety services, being engaged in one or more mission critical
one-to-one call or on single or multiple simultaneous group calls (e.g. PTT
and video), and yet other UEs receive both public safety and non-public safety
services at the same time;
\- the number of UEs in RRC_CONNECTED state in the cell is at, or very near
to, the limit of the number of UEs in RRC_CONNECTED state that can be accepted
in that cell due to various limiting factors;
\- at that moment, a number of mission critical enabled UEs (e.g. the
occupants of a fire truck) interested in participating in group calls
associated with a specific public safety group arrive roughly simultaneously
in the cell with their UEs in various RRC states (or possibly, powered off)
and attempt to perform the necessary connection steps to the RAN, CN and AF,
to be able to connect and associate themselves to the public safety group of
interest;
\- this situation results in a larger number of UEs being or attempting to get
in RRC_CONNECTED state than can be admitted in the cell in that state. The
admission control to the cell and/or pre-emption mechanisms will be activated,
resulting in some UEs already in RRC_CONNECTED state being transitioned to
RRC_IDLE or RRC_INACTIVE to \"make room\" for some of the newly arrived
mission critical enabled UEs to get to the RRC_CONNECTED state necessary to
start/complete their association with the public safety group of interest;
\- some (or all) of the mission critical enabled UEs associated with public
safety group(s) of interest which use or intend to use MBS for downlink
communication may have to be transitioned to RRC_INACTIVE or RRC_IDLE state to
ensure that the total number of UEs in the cell in RRC_CONNECTED state does
not exceed the limit for that cell;
NOTE 1: The transition from RRC_CONNECTED state should not happen for just
arrived public safety UEs before their association with the public safety
group of interest is complete, which is needs to be ensured by public safety
applications. Some application-function (AF) provided information about
specific public safety participants in group calls (e.g. privilege status,
priority) may be used to identify which UEs should be kept in RRC_CONNECTED
state and which UEs are candidates for being transitioned to RRC_INACTIVE or
RRC_IDLE state.
\- whether an MBS Session for public safety is active or inactive, a UE in
RRC_INACTIVE or RRC_IDLE state, may request transition to RRC_CONNECTED state
to perform unicast uplink transmissions (e.g. to request the floor, send user
data, send location reports, etc.). Since the number of UEs already in
RRC_CONNECTED state in the cell may be at or near the cell admissibility
limit, one or more UEs already in RRC_CONNECTED state may need to first be
moved to RRC_INACTIVE or RRC_IDLE state, in order to \"make room\" for the UE
wanting to transmit;
\- while in RRC_INACTIVE state receiving user data via MBS under a session, a
mission critical enabled UE may request (see bullet above), and be able to
additionally start receiving public safety service via MBS, in parallel, under
another session.
NOTE 2: Treatment of failure by public safety UEs in RRC_INACTIVE state to
receive MBS downlink transmissions when expected to do so, is left to
implementation.
#