# Foreword
This Technical Report has been produced by the 3rd Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
In the present document, certain modal verbs have the following meanings:
**shall** indicates a mandatory requirement to do something
**shall not** indicates an interdiction (prohibition) to do something
NOTE 1: The constructions \"shall\" and \"shall not\" are confined to the
context of normative provisions, and do not appear in Technical Reports.
NOTE 2: The constructions \"must\" and \"must not\" are not used as
substitutes for \"shall\" and \"shall not\". Their use is avoided insofar as
possible, and they are not used in a normative context except in a direct
citation from an external, referenced, non-3GPP document, or so as to maintain
continuity of style when extending or modifying the provisions of such a
referenced document.
**should** indicates a recommendation to do something
**should not** indicates a recommendation not to do something
**may** indicates permission to do something
**need not** indicates permission not to do something
NOTE 3: The construction \"may not\" is ambiguous and is not used in normative
elements. The unambiguous constructions \"might not\" or \"shall not\" are
used instead, depending upon the meaning intended.
**can** indicates that something is possible
**cannot** indicates that something is impossible
NOTE 4: The constructions \"can\" and \"cannot\" shall not to be used as
substitutes for \"may\" and \"need not\".
**will** indicates that something is certain or expected to happen as a result
of action taken by an agency the behaviour of which is outside the scope of
the present document
**will not** indicates that something is certain or expected not to happen as
a result of action taken by an agency the behaviour of which is outside the
scope of the present document
**might** indicates a likelihood that something will happen as a result of
action taken by some agency the behaviour of which is outside the scope of the
present document
**might not** indicates a likelihood that something will not happen as a
result of action taken by some agency the behaviour of which is outside the
scope of the present document
In addition:
**is** (or any other verb in the indicative mood) indicates a statement of
fact
**is not** (or any other negative verb in the indicative mood) indicates a
statement of fact
NOTE 5: The constructions \"is\" and \"is not\" do not indicate requirements.
# 1 Scope
This study item shall address the following system enablers for 5GS and EPS to
support additional scenarios and requirements for UAV (Uncrewed Aerial
Vehicles) and UAM (Urban Air Mobility) by identifying how and whether existing
mechanisms can be re-used, and identifying architectural and functional
modifications required:
\- a mechanism to transport Broadcast Remote Identification and C2
communications via the 3GPP system;
\- a mechanism to support aviation applications such as Detect And Avoid
(DAA).
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or non‑specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.501: \"System architecture for the 5G System (5GS)\".
[3] 3GPP TS 23.502: \"Procedures for the 5G System (5GS)\".
[4] 3GPP TS 22.125: \"Uncrewed Aerial System (UAS) support in 3GPP\".
[5] 3GPP TS 23.256: \"Support of Uncrewed Aerial Systems (UAS) connectivity,
identification and tracking\".
[6] DEPARTMENT OF TRANSPORTATION Federal Aviation Administration 14 CFR Parts
1, 11, 47, 48, 89, 91, and 107 [Docket No.: FAA-2019-1100; Amdt. Nos. 1-75,
11-63, 47-31, 48-3, 89-1, 91-361, and 107-7] RIN 2120-AL31 Remote
Identification of Unmanned Aircraft.
[7] EASA NPA 2021-14: \"Notice of Proposed Amendment 2021-14\".
[8] 3GPP TS 23.304: \"Proximity based Services (ProSe) in the 5G System
(5GS)\".
[9] 3GPP TS 23.287: \"Architecture enhancements for 5G System (5GS) to support
Vehicle-to-Everything (V2X) services\".
[10] 3GPP TR 23.754: \"Study on supporting Unmanned Aerial Systems (UAS)
connectivity, Identification and tracking\".
[11] 3GPP TS 23.273: \"5G System (5GS) Location Services (LCS)\".
[12] ASTM F3411.19: \"Standard Specification for Remote ID and Tracking\".
[13] ASD-STAN prEN 4709-002:2022-03: \"Aerospace series - Unmanned Aircraft
Systems - Part 002: Direct Remote Identification\".
[14] 3GPP TS 23.303: \"Proximity-based services (ProSe)\".
[15] 3GPP TS 23.247: \"Architectural enhancements for 5G multicast-broadcast
services\".
[16] 3GPP TS 33.536: \"Security aspects of 3GPP support for advanced Vehicle-
to-Everything (V2X) services\".
[17] 3GPP TS 23.285: \"Architecture enhancements for V2X services\".
[18] 3GPP TS 23.700‑33: \"Study on System enhancement for Proximity based
Services (ProSe) in the 5G System (5GS); Phase 2\".
[19] 3GPP TR 36.885: \"Study on LTE-based V2X Services\".
[20] 3GPP TS 36.300: \"Evolved Universal Terrestrial Radio Access (E-UTRA) and
Evolved Universal Terrestrial Radio Access Network (E-UTRAN); Overall
description; Stage 2\".
[21] 3GPP TS 38.300: \"NR; NR and NG-RAN Overall Description; Stage 2\".
[22] 3GPP TR 37.985: \"Overall description of Radio Access Network (RAN)
aspects for Vehicle-to-everything (V2X) based on LTE and NR\".
# 3 Definitions of terms and abbreviations
## 3.1 Terms
For the purposes of the present document, the terms given in TR 21.905 [1], TS
23.256 [5] and the following apply. A term defined in the present document
takes precedence over the definition of the same term, if any, in TR 21.905
[1] or TS 23.256 [5].
**U2X communication:** A communication to support UAV-to-Everything (U2X)
services leveraging Uu and / or PC5 reference points. U2X services are
realized by various types of U2X applications, i.e. UAV-to-UAV (U2U) and UAV-
to-Network (U2N).
**U2X message:** A dedicated messaging type of U2X service, for example
Broadcast Remote ID messages.
**U2X service type:** A type of U2X service, which is identified by e.g. ITS-
AID (ITS Application Identifier), PSID (Provider Service Identifier) or AID
(Application Identifier).
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1] and the following apply. An abbreviation defined in the present document
takes precedence over the definition of the same abbreviation, if any, in TR
21.905 [1].
AAM Area Airspace Manager
BRID Broadcast Remote Identification
C2 Command and Control
DAA Detect And Avoid
RID Remote Identification
TPAE Third Party Authorized Entity
UAS Uncrewed Aerial System
UAV Uncrewed Aerial Vehicle
U2X UAV to everything
U2XP U2X Policy
# 4 Architectural Assumptions and Principles
## 4.1 Architectural Requirements
\- When applicable, existing UAV authentication and authorization procedures
specified in TS 23.256 [5] should be reused as much as possible for solutions.
\- When applicable, solutions that involve UAV to UAV communications should
apply to UAVs of different PLMNs.
\- Solutions should consider both UAVs in coverage and UAVs out of coverage,
though different solutions may apply to the two cases.
\- When applicable, solutions should be backward compatible with mechanisms
specified in TS 23.256 [5].
## 4.2 Architectural Assumptions
The following architectural assumptions apply:
\- Solutions for transport of broadcast remote identification shall support
existing regulations for remote identification, including FAA regulations
([6]) and U-Space regulations EASA NPA 2021-14 ([7]).
\- For solutions using PC5, the use of relay communications is not considered
in this study.
\- A UAV shall obtain authorization from 3GPP system and USS to perform direct
C2 communication as defined in TS 22.125 [4].
# 5 Key Issues
## 5.1 Key Issue #1 - Transport C2 communication over PC5 interface
This key issue focuses on the transport of C2 communications over PC5 in the
3GPP system. This includes studying how to enable the direct C2 communication
(as defined in TS 22.125 [4]) between a UAV and a UAV controller. The
following aspects are to be considered:
\- whether PC5 can support C2 communications between a UAV and a UAV
controller;
\- Whether any architectural modifications are required, and what they are,
with respect to the current solutions using PC5 (e.g. ProSe, C-V2X):
\- this includes studying both scenarios where both the UAV and the UAV
controller are registered to the 5GS, and scenarios where the UAV controller
may not be registered to the 5GS or may not have Uu capabilities;
\- this includes studying both scenarios where radio resources used for PC5
are configured and scheduled by the MNO (in coverage operation), and scenarios
where the radio resources used for PC5 are \"non-operator-managed\", as
defined in TS 23.304 [8] and TS 23.287 [9];
\- Whether and how the existing PC5-based Unicast communication can be reused
and/or extended to transport C2 communication;
\- how is the C2 communication over PC5 between a UAV and UAV controller
established;
\- how is the UAV authorized for setting up direct C2 communication over PC5
with a UAV controller, both for in-coverage and out of coverage scenarios, and
how is the authorization revoked;
\- whether the UAV needs to discover the UAV controller, or vice versa and if
so, how?
## 5.2 Key Issue #2 - Support of Broadcast Remote ID
This key issue focuses on the transport of Broadcast Remote Identification in
the 3GPP system. The following aspects are to be considered:
\- Whether and how PC5-based solutions can be reused and/or extended to
transport Broadcast Remote Identification, and whether any architectural
modifications are required, and what they are, with respect to the current
solutions using PC5 (e.g. ProSe, C-V2X):
\- This includes whether and how the existing PC5-based solutions, e.g.
broadcast over PC5 can be reused and/or extended to transport Broadcast Remote
ID;
\- Whether solutions based on Uu interface can be used to transport Broadcast
Remote Identification
For all solutions, study whether they support mandatory regional regulations
(e.g. see annex in TR 23.754 [10] and EASA NPA 2021-14 [7]).
## 5.3 Key Issue #3 - Support of Detect and Avoid Mechanism in 3GPP system
This key issue focuses on the support of detect and avoid mechanisms in the
3GPP system, based on requirements for DAA defined in TS 22.125 [4]. The
following aspects are to be considered:
\- Whether any architectural modifications are required, and what they are,
with respect to the current solutions using PC5 (e.g. ProSe, C-V2X), to
support direct UAV to UAV communication for the purpose of DAA:
\- For solutions based on direct UAV-to-UAV communication mechanisms, whether
only broadcast communications are required, or whether also unicast and/or
groupcast communications are required, and whether and how current solutions
can be re-used or extended;
\- Whether network-assisted (ground based) DAA solutions are applicable, what
solutions may be applicable, and whether a combination of network-assisted and
direct solutions should be defined;
\- What assumptions need to be made about considering security solutions
outside of 3GPP, e.g. similar to application layer security as in C-V2X. It is
assumed security discussion is to be coordinated with SA WG3.
# 6 Solutions
Editor\'s note: This clause is intended to document the agreed architecture
solutions. Each solution should clearly describe which of the key issues it
covers and how.
## 6.0 Mapping Solutions to Key Issues
Table 6.0-1: Mapping of Solutions to Key Issues
              Key Issues
* * *
Solutions 1 2 3  
1 X  
2 X  
3 X  
4 X  
5 X X  
6 X  
7 X
## 6.1 Solution #1: C2 Communication via PC5
### 6.1.1 Key Issue mapping
This solution addresses KI#1.
### 6.1.2 Description
#### 6.1.2.1 General assumptions
The solution is based on the below assumptions:
\- In a UAS system, that comprises of a UAV and a UAV-C, both the UAV and the
UAV-C use either \"operator managed\" or \"non-operator managed\" radio
resources for Direct Discovery and Communication.
\- In a geographical area whether \"operator managed\" or \"non-operator
managed\" frequency band is used for Direct Discovery and Communication is
defined by local regulations.
\- In one alternative it is possible that the UAV and UAV-C may come pre-
paired, i.e. the UAV is always controlled by a single permanent controller. In
this case both the UAV and the UAV-C may be configured with the Layer 2 ID of
paired device, to be used for Direct Communication.
\- In another alternative the UAV and UAV-C pairing may be dynamically done.
In this case the Direct Discovery method may be used to learn the Layer 2 ID
for Direct Communication.
\- Either the UAV or the UAV-C is configured to perform discovery and Direct
Communication Request.
\- Only IPv4/IPv6 or unstructured data unit types are supported for C2
communication using PC5.
\- For authorization of direct C2 communication over PC5, the existing
mechanism for authorization of Direct Discovery and Direct Communication apply
as explained in clause 6.1.3.1. The Authorization of C2 communication over a
PDU session as specified in TS 23.256 [5] is not applicable for direct C2
communication over PC5.
NOTE: Restricted Prose discovery requires Uu connection and is not supported
when UAV and/or UAVC is out of coverage.
\- Current limitations with respect to. range for direct communication over
PC5 interface apply for C2 communication using PC5 interface.
#### 6.1.2.1 Mapping of ProSe Architectural reference model to UAS
architecture
A ProSe Application Server that is used for ProSe restricted discovery may
provide a similar service operation to Naf_ProSe service as described in
clause 7.2.2 of TS 23.304 [8], but simplified (e.g. without ProSe Application
Code Suffix).
### 6.1.3 Procedures
#### 6.1.3.1 Authorization for Direct Discovery and Direct Communication
##### 6.1.3.1.1 Authorization of Direct Discovery
The UAV and the UAV-C are provisioned with following sets of information for
Direct Discovery over PC5 reference point:
\- Authorization policy for Restricted 5G ProSe Direct Discovery as described
in clause 5.1.2.1 of TS 23.304 [8].
\- The mapping of ProSe services (i.e. ProSe identifiers for C2) to
Destination Layer-2 ID for sending/receiving initial signalling of discovery
messages.
\- Application identifier for C2 communication to be used for Direct Discovery
over PC5 interface.
\- Security parameters used for direct discovery over PC5.
\- Radio parameters when the UAV/UAV-C is \"not served by NG-RAN\" as
explained in clause 5.1.2.1 of TS 23.304 [8].
\- Restricted ProSe Discovery UE ID for Restricted Direct Discovery.
\- Group Member Discovery parameters as explained in clause 5.1.2.1 of TS
23.304 [8] that is required for UAV/UAV-C to identify the which UAV can be
controlled by a Controller and vice versa.
\- Validity timer indicating the expiration time of the Policy/Parameter for
Direct Discovery.
The ProSe Application Server may enable authorization for dynamic pairing
using Restricted 5G ProSe Direct Discovery by performing some the of ProSe
Application Server functionality according to clause 4.3.8 of TS 23.304 [8]:
\- stores PDUID in the UAV context (along existing identifiers CAA level UAV
ID, 3GPP UAV ID).
\- maintains a mapping of UAV\'s PDUID, CAA Level UAV ID (RPAUID), 3GPP ID for
restricted discovery with authorized paired target UAV-C\'s similar
identifiers (i.e. 3GPP ID, PDUID, UAV-C ID/RPAUID).
Editor\'s note: It is FFS how the ProSe Application Server obtains
UAV/UAV-C\'s PDUID and the corresponding identifiers of the paired UAV/UAV-C
(PDUID, etc.).
DDNMF locates the Prose Application Server based on the Prose Application ID
(corresponding to a UAS Application ID) as in TS 23.303 [14].
The UAV and UAV-C may be pre-configured with the required provisioning
parameters for Direct Discovery, without the need for them to connect to the
5GC to get this initial configuration.
The UAV/UAV-C uses the principles defined in clause 5.1.2.2 of TS 23.304 [8]
for applying parameters for Direct Discovery.
##### 6.1.3.1.2 Authorization of Direct Communication
For Direct Communication the UAV and UAV-C shall comply with the principle
described in clause 5.1.3 of TS 23.304 [8] with following considerations
specific for UAS:
\- Only the mapping of ProSe services (i.e. ProSe identifiers for C2) to
default Destination Layer-2 ID(s) for initial signalling to establish unicast
connection is provisioned in the UAV-C. Mapping to Destination Layer-2 ID(s)
for broadcast and groupcast is not needed/provisioned.
\- Authorization for C2 communication shall comply with USS authorization
requirements defined in TS 22.125 [4]. If UAV and UAV-C pairing is done
dynamically, UAV requests USS authorization for Direct C2 via 5GC using a PDU
Session establishment/modification procedure.
Editor\'s note: It is FFS whether authorization for direct C2 communication
over PC5 can be supported using enhancement to existing authorization of C2
communication mechanism as specified in TS 23.256 [5] or via a separate
procedure.
#### 6.1.3.2 C2 communication using PC5 Unicast link in 5G
The PC5 based Unicast link for C2 communication between the UAV and the UAV
controller is only supported over NR based PC5 reference point. Figure
6.1.3.2-1 illustrates an example of PC5 unicast link for C2 communication.
Figure 6.1.3.2-1: C2 communication between UAV and UAV-C using PC5 Unicast
Link
For C2 communication over the PC5 unicast link, the principles of Unicast mode
5G ProSe Direct Communication as specified in clause 5.3.4 of TS 23.304 [8]
apply with following considerations specific to UAV and UAV-C:
\- A PC5 unicast link between the UAV and the UAV-C allows communication
between the Application (i.e. the C2 communication service) running in the UAV
and UAV-C. The Application used for C2 communication in Figure 6.1.3.1-1 is
named as \"C2 communication service\".
\- The Application Layer Identity identifies the UAV and the UAV-C uniquely in
the context of the C2 communication. The format of this identifier is outside
the scope of 3GPP.
\- The PC5 unicast link supports C2 communication using a single network layer
protocol e.g. IP or non-IP.
\- There may be multiple QoS flow in a single PC5 Unicast Link for C2
communication. This is based on the per-flow QoS model as specified in clause
5.6.1 of TS 23.304 [8].
##### 6.1.3.2.1 PC5 Unicast link establishment for C2 communication
This procedure is performed when the UAV is always controlled by a single
UAV-C. The Application Layer ID and the Layer-2 IDs of the peers are pre-
configured in the UAV and the UAV-C.
To perform unicast mode of Direct communication over PC5 reference point for
C2 communication, the UE is configured with the related information as
described in clause 6.1.3.1.1.
Figure 6.1.3.2.1-1 shows the PC5 Unicast Link establishment for C2
communication which is based the procedure for Layer-2 link establishment over
PC5 reference point as described in clause 6.4.3.1 of TS 23.304 [8].
For PC5 Unicast link established, only \"UE oriented Layer-2 link
establishment\" procedure as described in clause 6.4.3.1 if TS 23.304 [8]
(option A) is supported for UAV.
Editor\'s note: It is FFS whether a single UAV-C can control multiple UAVs at
the same time. If so, the UAV-C may broadcast Direct Communication Request and
\"ProSe Service oriented Layer-2 link establishment\" procedure as described
in clause 6.4.3.1 if TS 23.304 [8] (option B) may be supported.
The procedure for Layer-2 link establishment over PC5 reference point as
described in clause 6.4.3.1 of TS 23.304 [8] is followed with below
modification:
Figure 6.1.3.2.1-1: PC5 Unicast Link establishment for C2 communication
1\. The UAV determines the destination Layer-2 ID for reception of signalling
related to PC5 unicast link establishment for C2 communication.
2\. The application layer (i.e. the C2 communication service) of the UAV-C
provides application information for PC5 unicast communication. The
application information shall include the Service Info, UAV-C\'s Application
Layer ID and the target UAV\'s Application Layer ID.
3\. The UAV-C unicasts a Direct Communication Request message to the UAV using
the configured source Layer-2 ID and the destination Layer-2 ID.
4\. Same as step 4a in clause 6.4.3.1 of TS 23.304 [8].
5\. Same as step 5a in clause 6.4.3.1 of TS 23.304 [8].
6\. Same as step 6 in clause 6.4.3.1 of TS 23.304 [8]. C2 communication data
can be now transmitted over the established unicast link. The UAV-C sends the
C2 data using its own Layer-2 ID as the source Layer-2 ID and UAV\'s Layer-2
ID as the destination Layer-2 ID for this unicast link. Similarly, the UAV
uses its own Layer-2 ID as the source Layer-2 ID and the UAV-C\'s Layer-2 ID
as the destination Layer-2 ID when sending C2 communication data to the UAV-C.
##### 6.1.3.2.2 PC5 Unicast link establishment for C2 communication with
dynamic discovery
This procedure is performed when the UAV is controlled different UAV-C at
different time i.e. there is no fixed controller dedicated to a UAV. The UAV-C
learns the Layer-2 ID of the UAV using the Direct Discovery procedure and then
the UAV-C uses the Layer-2 ID for establishing the PC5 Unicast link.
Figure 6.1.3.2.2-1 shows the PC5 Unicast Link establishment for C2
communication with dynamic discovery of the UAV.
Figure 6.1.3.2.2-1: PC5 Unicast Link establishment for C2 communication with
dynamic discovery
1\. The UAV-C uses the Direct Discovery (wither Model A or Model B) as
described in clause 6.3 of TS 23.304 [8] to discover the UAV and the
associated Layer-2 ID. Restricted discovery mechanism is used for UAV
discovery. When model A is used the UAV-C acts as the announcing UE and the
UAV acts as the monitoring UE. In model B, the UAV-C acts as the discoverer
and the UAV acts as the Discoveree. USS/UTM may act as ProSe Application
Server to enable Restricted discovery on behalf of and transparently to USS as
described above.
2\. After the Layer-2 ID of the UAV is learnt by the UAV-C at step 1, it
follows the procedure described in clause 6.1.3.2.1 to establish the PC5
Unicast Link.
3\. C2 communication data can be now transmitted over the established unicast
link. The UAV-C sends the C2 data using its own Layer-2 ID as the source
Layer-2 ID and UAV\'s Layer-2 ID as the destination Layer-2 ID for this
unicast link. Similarly, the UAV uses its own Layer-2 ID as the source Layer-2
ID and the UAV-C\'s Layer-2 ID as the destination Layer-2 ID when sending C2
communication data to the UAV-C.
### 6.1.4 Impacts on Services, Entities, and Interfaces
Editor\'s note: This clause captures impacts on existing 3GPP services,
entities, and interfaces.
## 6.2 Solution #2: Network-assisted DAA
### 6.2.1 Key Issue mapping
This solution tries to solve the key issue that what network-assisted (ground
based) DAA solution may be applicable.
### 6.2.2 Description
USS knows the flight path of each UAV UE during the UAV Flight Authorization
procedure or Application layer report. In some case, the flight path of
different UAV UEs is overlapped or within the same area. USS can request to
the 5GS system to perform the DAA between any two UAV UEs whose flight path
may be overlapped or within the same area, i.e. network-assisted DAA solution
is used.
The network-assisted DAA is useful, for scenarios where regulations might not
consider a device to device solution sufficient or for scenarios where the
availability of PC5 connectivity in all UAVs cannot be assumed.
This proposes two options on network-assisted DAA:
\- Option A: network-assisted DAA with calculation functionality, where the
network calculates the relative position;
\- Option B: network-assisted DAA without calculation functionality, where the
network does not calculate the relative position and the USS does.
Option A applies to the UAV UEs belonging to the same PLMN. For the UAV UEs
belonging to the different PLMNs, USS can get the UAV location from the
network and check by itself.
UAV is served by single USS for the duration of the connectivity between the
USS and the UAV.
The solution applies to the request from one USS.
The solution applies only to support DAA for UAVs served by the same PLMN.
The solution assumes the UAVs are served by the same USS.
Option B applies to the UAV UEs belonging to the same PLMN or different PLMNs.
For the UAV UEs belonging to the different PLMNs, USS can get the UAV location
from different PLMNs. UAV is served by single USS for the duration of the
connectivity between the USS and the UAV. The solution applies to the request
from one USS. The solution assumes the UAVs are served by the same USS.
### 6.2.3 Procedures
Figure 6.2.3-1: High-level procedure for network-assisted DAA with calculation
functionality (Option A)
1\. USS as AF/LCS client sends the relative positioning request to GMLC,
including UAV UE1 ID (UE1 GPSI) and UAV UE2 ID (UE2 GPSI), time slot for
relative positioning and including a distance threshold. GMLC determines a
scheduled location, time, and frequency to get the location information of UE1
and UE2 at the same time within the given time slot.
2\. GMLC obtains UAV UE1 location using GMLC based procedure as described in
clause 6.1.2 of TS 23.273 [11], where the scheduled location time determined
in step 1 is used.
3\. GMLC obtains UAV UE2 location using GMLC based procedure as described in
clause 6.1.2 of TS 23.273 [11], where the scheduled location time determined
in step 1 is used.
4\. GMLC calculates the relative positioning result based on the UAV UE1
location and UAV UE2 location from step 2 and step 3.
5\. GMLC checks the relative position result is lower than the distance
threshold. GMLC reports the relative position result to USS within the given
time slot.
After the USS gets the relative position result, USS may send the DAA
notification to UAV or the corresponding UAV controller via application layer,
so that the UAV can change the flight path timely to avoid the collisions. The
specific action of USS is out of scope of this specification.
This Option A can be extended to cover the DAA between any two UAV UEs in a
UAV UE list, where USS provides a UAV UE list in the relative positioning
request of step 1.
This Option A also works for the request from TPAE, and the USS is replaced by
TPAE in the procedure.
Figure 6.2.3-2: High-level procedure for network-assisted DAA without
calculation functionality (Option B)
1\. USS as AF/LCS client obtains UAV UE1 location using GMLC based procedure
as described in clause 6.1.2 of TS 23.273 [11], where a scheduled location
time is used.
2\. USS as AF/LCS client obtains UAV UE2 location using GMLC based procedure
as described in clause 6.1.2 of TS 23.273 [11], where the same scheduled
location time is used.
3\. USS calculates the relative positioning result based on the UAV UE1
location and UAV UE2 location from step 1 and step 2. USS may send the DAA
notification to UAV or the corresponding UAV controller via application layer,
so that the UAV can change the flight path timely to avoid the collisions. The
specific action of USS is out of scope of this specification.
Option B applies to the UAV UEs belonging to the same PLMN or different PLMNs.
For the UAV UEs belonging to the different PLMNs, USS can get the UAV location
from the different PLMNs.
This Option B solution also works for the request from TPAE, and the USS is
replaced by TPAE in the procedure.
This Option B assumes the UAVs are served by the same USS.
### 6.2.4 Impacts on Services, Entities, and Interfaces
GMLC**:**
\- Support of calculate the relative positioning between any two UAV UEs.
## 6.3 Solution #3: MBS-based UAV remote ID broadcast
### 6.3.1 Key Issue mapping
This solution address key issue#2: Support of Broadcast Remote ID.
### 6.3.2 Description
When UAV UE registers to the network, based on TS 23.256 [5], the AMF is aware
of the UAV subscription, and interacts with the USS for authentication an
authorization.
NOTE 1: This solution applies only to UAVs that have a 3GPP subscription, have
Uu capability, are in coverage, and are registered to the 3GPP system.
NOTE 2: This solution applies only to receivers of remote ID broadcast that
have a 3GPP subscription, have Uu capability, are in coverage and are
registered to the 3GPP system.
NOTE 3: This solution does not assume all the gNBs belong to the same operator
within the MBS service area that UAV detects will support this UAV MBS
services.
NOTE 4: This solution allows USS/UTM to broadcast the same remote ID
information in a geographic area via one or more mobile operators\' network
and allows UAV UE to receive broadcast remote ID from RAN which is not UAV
UE\'s home network.
Overview of the solution:
\- USS/UTM knows the UAV location based on UAV location reporting, defined in
clause 5.3.2 of TS 23.256 [5]. In detail, USS/UTM triggers the deferred
location request indicating a location event, to subscribing for notification
when the UAV moves in/out of a geographic area.
\- USS/UTM to broadcast remote identification via MBS system in specific area.
USS/UTM may establish a single broadcast session to deliver all the broadcast
remote ID(s).
\- One or multiple Broadcast Session can be established by the USS/UTM. If
multiple Broadcast Sessions are established, the content for broadcast in each
session and the MBS service area for each broadcast session may be different.
The difference of content and the related MBS service area is determined by
the USS/UTM, e.g. only broadcasting the content for a certain MBS service area
which is the geographic area determined by the coordination between USS/UTM
and network operator with the consideration of cell coverage (i.e. using MBS
location dependent broadcast service).
NOTE 5: How to determine the MBS service area is up to implementation.
\- USS/UTM triggers location request to the 5G network for the UE location
reporting. This is used by the USS/UTM to n.
\- The broadcast session establishment may take place by the USS/UTM(server)
at any time, or triggered by a UAV registration (after UUAA procedure).
\- UAV UE also provides it paired UAV-C ID to the USS/UTM, in order to allow
the USS/UTM to combine the pairing information for broadcasting. It is assumed
UAV-C is also a UAV-type UE.
\- UAV UE selects the gNB of a mobile network in a geographic area to receive
broadcast remoted ID based on the stored configuration information.
### 6.3.3 Procedures
Figure 6.3.3-1 MBS-based UAV remote ID broadcast
Step 0 broadcast session is established using mechanism defined in TS 23.247
[15]. The USS/UTM (server) firstly requests to the NEF/UAS NF for the
broadcast session establishment.
Step 1 UAV UE registers to the network and establishes user plane connection
with USS/UTM (server).
Step 2 UAV UE reports its remote ID to the server, and paired UAV-C ID, via
user plane. Optionally, the report message includes its speed, heading, etc.
Step 3 if the broadcast session is not yet established, triggered by step 2,
USS/UTM requests the 5G network to establish a broadcast session using
mechanism defined in TS 23.247 [15]. USS/UTM (server) firstly requests to the
NEF/UAS NF for the broadcast session establishment.
After the broadcast session is established, USS/UTM (server) starts to
broadcast the remote ID of UAV.
### 6.3.4 Impacts on Services, Entities, and Interfaces
UAV UE:
\- provides it paired UAV-C ID to the USS/UTM, in order to allow the USS/UTM
to combine the pairing information for broadcasting.
## 6.4 Solution #4: Direct C2 communication over PC5
### 6.4.1 Key Issue mapping
This solution aims to address Key Issue #1.
### 6.4.2 Description
In this solution, a UAV and a UAV-C follows V2X (see TS 23.287 [9]) direct
communication procedure to establish a secure C2 communication link over PC5.
Both UAV and UAV-C supports PC5, but may or may not support Uu connection.
If the UAV is capable of Uu connection, it is authenticated and authorized by
the USS for C2 over PC5 prior to establishing C2 communication over PC5,
following existing Rel-17 procedures. The UAV may be provisioned with
necessary information for C2 over PC5 (identifiers, security info, etc.)
through these procedures. The UAV may also use this information for C2 if
preconfigured in the UAV.
Identifiers used for establishing PC5 direct communication for C2:
\- **UAS Service Identifier:** This is equivalent to V2X Service Type (see TS
23.287 [9]). The UAS Service Identifier can be used to derive Destination
Layer-2 ID as described in clause 5.6.1.4 of TS 23.287 [9].
\- **Source Layer-2 ID and Destination Layer-2 ID:** The L2 IDs can be
configured or derived using the existing mechanisms described in clause
5.6.1.4 of TS 23.287 [9].
### 6.4.3 Procedures
Figure 6.4.3-1: Establishing C2 communication over PC5
1\. If the UAV is capable of Uu communication, the UAV performs UUAA procedure
as described in clause 5.2.2 or clause 5.2.3 of TS 23.256 [5]. The UAV may
obtain a new CAA-Level UAV ID through this procedure. The UAV uses the new
CAA-Level UAV ID or a pre-configured CAA-Level UAV ID in the following steps.
2\. If the UAV is capable of Uu communication, the UAV performs C2
Authorization procedure as described in clause 5.2.5 of TS 23.256 [5]. Namely,
if the UE is pre-configured with pairing info, it may send the pre-configured
pairing info for C2 authorization or, if the UE is not pre-configured with
pairing info, the UAV may obtain the pairing information (UAV-C
identification/addressing information) and optionally security information for
C2 communication through this procedure according to existing Release 17
procedures. The obtained or pre-configured pairing info may be used for
discovery of UAV-C over PC5. Additionally, if the UAV is not preconfigured
with pairing info it may discover the UAV-C over PC5 before this step, and
then send the discovered UAV-C identifier as the pairing info for C2
authorization.
3\. To set up C2 communication over PC5, the UAV sends Direct Communication
Request to initiate the unicast layer-2 link establishment. The DCR includes:
\- Source User Info: the UAV\'s Application Layer ID (e.g. CAA-Level UAV ID or
other application layer ID assigned for C2 over PC5).
\- Target User Info: if the UAV-C identifier is available in the UAV, the UAV
uses it as the target user info. If the UAV-C identifier is not available,
Target User Info is not included in the DCR and service-oriented link
established as described in clause 6.3.3.1 of TS 23.287 [9] applies.
\- UAS Service Identifier: the service identifier may be preconfigured or
derived from the UAV\'s CAA-Level UAV ID to allow efficient discovery of the
communication peer (i.e. UAV-C) if service-oriented method is used (e.g. with
dynamic pairing).
\- Security Info.
4\. The UAV-C responds and establishes the security with the UAV, as described
in TS 33.536 [16].
5\. The UAV-C sends Direct Communication Accept over the established link.
6\. The UAV and UAV-C can start C2 communication over PC5.
### 6.4.4 Impacts on Services, Entities, and Interfaces
A UAV may need to support derivation of UAS Service ID using the CAA-Level UAV
ID.
## 6.5 Solution #5: U2X for support of Broadcast Remote ID and direct DAA via
PC5
### 6.5.1 Introduction
This solution applies to KI#2 and KI#3.
### 6.5.2 Functional Description
The high-level points of the proposed UAV-to-everything (U2X) solution are:
\- U2X leverages V2X mechanisms as defined in TS 23.287 [9] to support BRID
and direct DAA, with the differences described in this solution:
\- both LTE PC5 as defined in in TS 23.285 [17] and NR PC5 are supported, and
the RAT selection is based on the U2XP.
\- Communications modes:
\- Broadcast communication mode is used for BRID.
\- Broadcast communication mode is used for DAA to advertise UAV information.
Broadcast over PC5 or unicast over PC5 may be used between two or more UAVs
for DAA deconfliction. Unicast over Uu via the U2X AS is not supported in this
solution. Groupcast mode for NR based PC5 is not supported in this solution.
\- When NR PC5 is selected, connection-less groupcast communications may be
used for DAA. Application layer managed groupcast are not considered in this
release due to lack of clear requirements.
\- U2X is supported by an U2X Application Server which interfaces with the
operator network via NEF, as in the case of the V2X Application Server.
NOTE 1: It is expected a dedicated set of services will be defined.
NOTE 2: Multiple deployment scenarios need to be allowed where the U2X AS and
the USS serving a UAV are the same or different entities.
\- a U2X Policy (U2XP) is defined to provide configuration parameters to the
UE for U2X communication over the PC5 reference point or over the Uu reference
point:
\- The configuration parameters may be pre-configured in the ME, or configured
in the UICC, or preconfigured in the ME and configured in the UICC, or
provided/updated by the U2X Application Server via PCF and/or V1 reference
point, or provided/updated by the PCF to the UE.
\- The UE shall consider them in the following priority order:
provided/updated by the PCF, provided/updated by the U2X Application Server
via V1 reference point, configured in the UICC, pre-configured in the ME.
\- Deconflicting policy which indicates the communication mode (unicast or
broadcast) for deconflicting, frequency of communication for deconflicting,
etc.
\- Similar to V2X, Tx Profiles or NR Tx Profiles are determined based on U2XP
mapping ofU2X service types.
\- Both UAVs with UICC and UAVs without UICC (i.e. with no subscription to an
MNO) are supported.
\- UAVs with no UICC can only perform U2X communications when authorized for
\"not served by E-UTRA\" and \"not served by NR\".
\- U2X communications parameters from U2X Application Server or PCF may be
delivered via UAV-C UE:
\- The transmission method between the UAV and UAV-C UE is out of the scope of
the specification.
\- In addition to existing parameters for V2X, the radio parameters per PC5
RAT (i.e. LTE PC5, NR PC5) can be configured with Geographical Area, Altitude
Limitation, and Validity timer:
\- This additional information may be needed to enable policing the use of PC5
depending on the specific location of the UAV.
\- The definition of DAA/UAV service type is out of scope of 3GPP.
\- The use of PC5-based communications for BRID and DAA for UAV with UICC is
subjected to successful UUAA authentication/authorization of the UAV as
defined in TS 23.256 [5] and authorization via U2XP. However, no specific
authorization of the use of PC5 for either BRID or DAA is required by the USS.
For UAVs without UICC, the use of PC5-based communications for BRID and DAA is
authorized only by U2XP.
NOTE 2: The U2X services may be identified by anyone of ITS-AID (ITS
Application Identifier), PSID (Provider Service Identifier) or AID
(Application Identifier) according to values defined specifically for aviation
applications.
\- As in the case of TS 23.287 [9], the security for broadcast U2X
communication over PC5 reference point is supported in the U2X application
layer schemes developed in other SDOs.
### 6.5.3 Functional Architecture
#### 6.5.3.1 Non-roaming 5G System architecture for U2X communication over PC5
The non-roaming functional architecture is as follows:
Figure 6.5.2-1: Non-roaming 5G System architecture for U2X communication over
PC5 and Uu reference points
The reference points of TS 23.287 [9] apply, with the following differences:
**U2X1** : The reference point between the U2X applications in the UE and in
the UAV-C, and in the U2X Application Server. This reference point is out of
scope of this specification.
**U2X5** : The reference point between the U2X applications in the UEs. This
reference point is not specified in this release of the specification.
**N1** : In addition to the relevant functions defined in TS 23.501 [2] for
N1, in the case of U2X Service it is also used to convey the U2X policy and
parameters (including service authorization) from AMF to UE and to convey the
UE\'s U2X Capability and PC5 Capability for U2X information from UE to AMF.
**N2** : In addition to the relevant functions defined in TS 23.501 [2] for
N2, in the case of U2X Service it is also used to convey the U2X policy and
parameters (including service authorization) from AMF to NG-RAN.
The solution supports UAV UEs that utilize Uu connectivity and that do not
utilize Uu connectivity (i.e. either UAV UEs that are Uu capable and do not
use Uu). A UAV without utilizing Uu capabilities may use U2X for BRID and DAA
and be configured via U2X1 over a transport outside the scope of 3GPP.
NOTE: UAV UEs without utilizing Uu capabilities are part of the 3GPP ecosystem
since they use U2X1 for configuration by a U2X Application Server and
implement PC5 connectivity specified by 3GPP.
#### 6.5.3.2 Roaming 5G System architecture for U2X communication over PC5
For roaming scenarios, since U2X communication is based solely on PC5, there
is no local breakout or home routed scenario. The roaming functional
architecture is as follows:
Figure 6.5.3.2-1: Roaming 5G System architecture for U2X communication over
PC5 - Local breakout scenario
Figure 6.5.3.2-2: Roaming 5G System architecture for U2X communication over
PC5 - Home routed scenario
#### 6.5.3.3 Inter-PLMN 5G System architecture for U2X communication over PC5
reference point
In the case of inter-PLMN U2X communication over PC5 reference point, the PC5
parameters need to be configured in a consistent way among the UEs within a
certain region. The architecture for the Inter-PLMN PC5 case is similar to the
one defined in clause 6.5.3.1.
#### 6.5.3.4 AF-based service parameter provisioning for U2X communications
As defined in TS 23.287 [9], the 5G System provides NEF services to enable
communication between NFs in the PLMN and U2X Application Server. Figure
6.5.3.4-1 shows the high level view of AF-based service parameter provisioning
for U2X communications. The service parameters may also be pre-configured in
UAVs (e.g. those don\'t utilize Uu capabilities) using methods that are out of
3GPP scope.
Figure 6.5.3.4-1: 5G System architecture for AF-based service parameter
provisioning for U2X communications
### 6.5.4 U2X Scenarios
Use or U2X for BRID:
\- the content of the messages for BRID are defined according to the regional
regulations for BRID (e.g. message set of ASTM F3411.19 [12] or ASD-STAN prEN
4709-002 P1 [13]) and optionally according to regional mean of compliance
documents.
Use of U2X for DAA:
\- the content of the messages for DAA are defined according to the regional
regulations for DAA and is out of scope of this specification.
### 6.5.5 Procedures
Procedures and mechanisms in TS 23.287 [9] apply to U2X with the differences
highlighted in clause 6.5.4.
#### 6.5.5.1 Broadcast over PC5 for DAA deconfliction
Figure 6.5.5.1-1: Broadcast over PC5 for DAA deconfliction
Pre-requisite: the UAV are provisioned with a the U2X Policy which includes a
DAA deconflicting policy (e.g. unicast or broadcast communication for
deconflicting, communication frequency).
1\. UAV1 receives broadcast messages from UAV2, that may include application
layer DAA payload, e.g. CAA-level UAV ID, UAV2\'s USS address, velocity,
heading direction, position.
NOTE 1: The USS address is not needed if the conflict is resolved locally
between UAVs, but may be helpful if it requires the coordination of the USSes
of the UAVs involved in the conflict. The interaction between the USSes for
DAA deconfliction is out of scope of this study.
NOTE 2: The exact content of DAA payload is out of scope of this study.
2\. UAV1\'s passes the DAA payload to the upper layer. The application layer
detects a conflict, based on the broadcast messages received from UAV2, e.g.
by comparing it with its own trajectory and location. If the application layer
in the UAV1 detects a collision, it initiates a collision avoidance/conflict
resolution procedure with UAV2.
3\. Optionally, UAV1 may inform its own USS about the detected collision by
including peer UAV 2s\' ID(s).
4\. . UAV1 selects a communication mode (broadcast or unicast) for DAA
deconfliction based on the input received from the application layer and DAA
policy. If broadcast deconfliction method is selected then the following
messages are exchanges between the UAVs.
5\. UAV1 broadcasts a message (e.g. PC5-S message), e.g. deconfliction request
message and may include DAA capability, which is part of U2X capability and
indicates whether the UAV is able to engage in communication for deconflicting
protocol, DAA deconflicting policy (broadcast based, deconflicting message
frequency), collision detection alert, its CAA-level UAV IDs and the one(s)
from other detected conflicting UAV(s), and deconflicting specific parameters
(e.g. trajectory correction information to avoid collision).
NOTE 3: The deconflicting specific parameters are application layer content
and is out of scope of this study.
6\. UAV2 broadcasts a message (e.g. PC5-U message), to provide agreed DAA
deconflicting policy, its updated trajectory and other info, e.g. message
deconfliction status response, conflict resolved alert, CAA-level UAV IDs of
participating UAVs from the receiving UAV. Subsequent broadcast messages can
be exchanged between UAVs until traffic conflict resolution is reached (e.g.
for mutual position/trajectory monitoring) based on agreed message frequency.
### 6.5.6 Impacts on services, entities and interfaces
The following impacts have been identified:
1\. UE: In addition to the functions defined in TS 23.501 [2], the UE may
support the following functions:
\- Report the U2X Capability (including DAA Capability) and PC5 Capability for
U2X to 5GC over N1 reference point.
\- Indicate U2X Policy Provisioning Request in UE Policy Container for UE
triggered U2X Policy provisioning.
\- Receive the U2X parameters from 5GC over N1 reference point.
\- Procedures for U2X communication over PC5 reference point.
\- Configuration of parameters for U2X communication. These parameters can be
pre-configured in the UE, or, if in coverage, provisioned or updated by
signalling over the N1 reference point from the PCF in the HPLMN or over U2X1
reference point from the U2X Application Server.
2\. AMF: In addition to the functions defined in TS 23.501 [2], the AMF
performs the following functions:
\- Obtain from UDM the subscription information related to U2X and store them
as part of the UE context data.
\- Select a PCF supporting U2X Policy/Parameter provisioning and report the
PC5 Capability for U2X to the selected PCF.
\- Obtain from PCF the PC5 QoS information related to U2X and store it as part
of the UE context data.
\- Provision the NG-RAN with indication about the UE authorization status
about U2X communication over PC5 reference point.
\- Provision the NG-RAN with PC5 QoS parameters related to U2X communication.
\- PCF: In addition to the functions defined in TS 23.501 [2], the PCF
includes the functions described in 23.287 [9] to provision the UE and AMF
with necessary parameters in order to use U2X communication.
\- UDM: Subscription management for U2X communication over PC5 reference
point. The UE subscription data types are extended according to the following
table.
Table 6.5.6-1
U2X Subscription data NR U2X Services Authorization Indicates whether the UE
is authorized to use the NR sidelink for U2X services as UAV UE, UAV-C UE, or
Authority UE.
* * *
                          LTE U2X Services Authorization   Indicates whether the UE is authorized to use the LTE sidelink for U2X services as UAV UE, UAV-C UE, or Authority UE.
                          NR UE-PC5-AMBR                   AMBR of UE\'s NR sidelink (i.e. PC5) communication for U2X services.
                          LTE UE-PC5-AMBR                  AMBR of UE\'s LTE sidelink (i.e. PC5) communication for U2X services.
3\. U2X Application Server: implements a subset of the V2X AS functionality
specified in TS 23.287 [9]:
\- includes AF functionality, and may support at least the following
capabilities:
\- For U2X service parameters provisioning, the U2X AS provides the 5GC and
the UAV UE (possibly via the UAVC) with parameters for U2X communications over
PC5 and Uu reference points.
\- UDR: In addition to the functions defined in TS 23.501 [2], the UDR stores
U2X service parameters.
\- NRF: In addition to the functions defined in TS 23.501 [2], the NRF
performs PCF discovery by considering U2X capability.
\- NEF: for U2X AS, the NEF supports U2X service parameters.
## 6.6 Solution #6: Handling C2 connection over PC5
### 6.6.1 Key Issue mapping
This solution addresses KI#1 \"Transport C2 communication over PC5
interface\".
### 6.6.2 Description
UAV and UAV-C can communicate each other via C2 connection over PC5. There may
be the case that the signal strength/status of C2 connection over PC5 becomes
weak/bad, e.g. as two UEs get far from each other, due to some obstacle
between them, etc.
UE can measure the PC5 signal strength of the unicast link. Therefore, it is
considered useful to provide signal strength/status of C2 connection over PC5
(e.g. strong/good, weak/bad) to the application layer. In particular, this
information would be beneficial for UAV-C so that the user (i.e. a drone
pilot) can know C2 connection status and decide what to do for C2
communication, e.g. switching to C2 connection over network, C2 connection
release after landing UAV, etc. In order to help UAV-C (or its user) decide
what to do for C2 communication, indication whether C2 connection over network
is possible can be also provided to the application layer of UAV-C.
In this solution, the layer of UAV-C that collects the above information
related to C2 connection (i.e. C2 connection status information) and provides
it to the application is called \"UAS layer\". In the context of UAS, the UAS
layer can perform PC5 related operations that are performed by the V2X layer
specified in TS 23.287 [9] and the ProSe layer specified in TS 23.304 [8], in
the context of V2X and ProSe, respectively. The UAS layer is located between
the application layer and the AS (Access Stratum) layer.
The application layer of UAV-C may request switching to C2 connection over
network or C2 connection release to the UAS layer, e.g. based on the C2
connection status information provided by the UAS layer.
NOTE 1: This solution assumes that UAV and UAV-C support C2 communication over
network in addition to C2 communication over PC5.
NOTE 2: Differences from the solutions for KI#3 \"Support direct communication
path switching between PC5 and Uu (i.e. non-relay case)\" of FS_5G_ProSe_Ph2
described in TR 23.700-33 [18] are as below:
\- In this solution, UAV-C is proposed to collect C2 connection status
information and determine whether to perform switching to C2 connection over
network or C2 connection release. On the other hand, either UE can trigger
path switching for FS_5G_ProSe_Ph2.
\- In this solution, involvement of application layer and user interaction is
described for UAV-C to decide switching to C2 connection over network or C2
connection release. Although involvement of application layer of UE and user
interaction does not always happen, this solution assumes that describing
which information about C2 connection over PC5 is provided to the application
layer and considering the decision from the application layer are meaningful.
On the other hand, the solutions for FS_5G_ProSe_Ph2 do not describe/highlight
these aspects.
### 6.6.3 Procedures
#### 6.6.3.1 Procedure for handling C2 connection over PC5
Figure 6.6.3.1-1 shows the procedure for handling C2 connection over PC5.
Figure 6.6.3.1-1: Procedure for handling C2 connection over PC5
1\. For C2 communication over PC5 reference point (i.e. C2 connection over
PC5), UE-1 (UAV-C) and UE-2 (UAV) establish a Layer-2 link. UE-1 and UE-2 can
communicate each other via C2 connection over PC5.
NOTE 1: For Layer-2 link establishment, clause 6.3.3.1 of TS 23.287 [9],
clause 6.4.3.1 of TS 23.304 [8], or Layer-2 link establishment procedure
proposed by other solutions in this study can be used.
2\. The UAS layer of UE-1 provides C2 connection status information to the
application layer, e.g. periodically or based on event such that the measured
PC5 signal strength of the unicast link is below configured signal strength
threshold.
The C2 connection status information may include the following:
a) Signal strength/status of C2 connection over PC5, e.g. strong/good,
weak/bad.
If the measured PC5 signal strength of the unicast link is below configured
signal strength threshold, the signal strength/status of C2 connection over
PC5 can be set to weak/bad.
b) Indication whether C2 connection over network is possible. This information
can be provided to the application layer whenever a) is provided or only when
a) is weak/bad.
For determining a), UE-1 measures PC5 signal strength of the unicast link
established with UE-2, i.e. C2 connection over PC5, e.g. periodically.
For determining b), UE-1 may ask to UE-2 or UE-2 may provide to UE-1 whether
UE-2 can connect to the network for C2 communication. UE-1 determines whether
C2 connection over network is possible based on whether both UE-1 and UE-2 can
connect to the network.
Whether and how (e.g. periodically or based on event) for UE acting as UAV-C
to provide C2 connection status information to the application layer may be
provisioned in the UE as Policy/Parameter for C2 communication. The configured
signal strength threshold may be also provisioned in the UE as
Policy/Parameter for C2 communication or provided by RAN to the UE.
3\. The application layer of UE-1 may request switching to C2 connection over
network or C2 connection release to the UAS layer, e.g. based on the C2
connection status information provided by the UAS layer.
NOTE 2: In steps 2 and 3, user interaction can be involved and is out of scope
of this specification.
4\. UE-1 determines whether to perform switching to C2 connection over network
or C2 connection release, e.g. due to the request from the application layer
in step 3 or because the measured PC5 signal strength of the unicast link is
below configured signal strength threshold.
If the switching or release request from the application layer was not
provided in step 3 but the measured PC5 signal strength of the unicast link is
below configured signal strength threshold, UE-1 may determine whether to
perform switching to C2 connection over network or C2 connection release, e.g.
based on Policy/Parameter for C2 communication provisioned in UE-1 or UE
implementation.
If there was no request from the application layer in step 3 and the measured
PC5 signal strength of the unicast link is not below configured signal
strength threshold, C2 connection over PC5 is maintained and kept used.
When UE-1 determines to perform switching from C2 connection over PC5 to C2
connection over network, steps 5 to 6 are performed.
5\. UE-1 and UE-2 attach to EPC or register to 5GC if they have not done so.
In addition, UE-1 and UE-2 establish PDN connection or PDU Session for C2
communication if they have not done so. UUAA (USS UAV
Authorization/Authentication) and authorization for C2 are required for UE-2
as specified in TS 23.256 [5].
UE-1 and UE-2 perform switching from C2 connection over PC5 to C2 connection
over network. The path switching can be executed, e.g. by using PC5-S
messages.
NOTE 3: For steps themselves related to path switching from PC5 over network
(e.g. PC5-S messages), the corresponding steps in the solution to be concluded
for KI#3 \"Support direct communication path switching between PC5 and Uu
(i.e. non-relay case)\" of FS_5G_ProSe_Ph2 can be used and referred.
UE-1 and UE-2 can communicate each other via C2 connection over network.
NOTE 4: It is assumed that switching from C2 connection over PC5 to C2
connection over network can be made only when both UAV and UAV-C have network
connectivity.
6\. The unicast link between UE-1 and UE-2 is released.
When UE-1 determines to perform C2 connection release, step 7 is performed.
7\. The unicast link between UE-1 and UE-2 is released.
NOTE 5: For Layer-2 link release in steps 6 and 7, clause 6.3.3.3 of TS 23.287
[9], clause 6.4.3.3 of TS 23.304 [8], or Layer-2 link release procedure
proposed by other solutions in this study can be used.
### 6.6.4 Impacts on Services, Entities, and Interfaces
UE:
\- supports handling C2 connection over PC5.
## 6.7 Solution #7: Ground-based DAA for an Area
### 6.7.1 Introduction
This solution applies to KI#3.
This solution provides a network-assisted (ground based) DAA solution. It is
applicable for a specific area, such as a stadium or arena where drones are
used e.g. for filming an event. It describes how a ground-based entity detects
UAVs in areas such as stadium/arena and provides local policies to the UAS to
for example avoid crashing into each other, into roof, structures or providing
allowed flying zones etc. The solution may also apply to a specific outdoor
area, e.g. an event, where specific measures to avoid collision between drones
are established locally.
### 6.7.2 Functional Description
The high-level principles of the proposed network-assisted (ground based) DAA
solution are:
\- The arena/area has a ground-based entity Area Airspace Manager (AAM). The
AAM includes one or more UEs enabled for use of PC5. The AAM may also have a
direct connection to the Data Network. It acts as a TPAE having specific
abilities for direct communication with UAVs relevant for the applicable
airspace.
\- For the applicable airspace of the area/arena the AAM may define local DAA
rules for correspondingly located UAVs. The local DAA rules may e.g.be based
on detailed information on the facilities in and maps of the area/arena
together with an awareness of the current usage need for the airspace and
they.
\- The AAM local DAA rules must comply with the policies for PC5 operations
received from the 5GC or being preconfigured in the UE.
\- The ground-based system AAM is able to scan the airspace of the area/arena
for drones (UAVs) e.g. by making use of with upward pointing radars and
cameras.
\- Detected UAVs are identified by their coordinates and Remote ID as
retrieved by Broadcast Remote ID (BRID) or Network Remote ID (NRID) mechanisms
dependent on the method used by the UAV. The solution is not dependent on what
method that is used for transmitting the Remote ID from the UAV as long as it
is supported for retrieval by the AAM.
\- Based on the retrieved Remote ID, the AAM establishes PC5 communication
with each detected UAV. A UAV does not have to know the AAM address in
advance.
\- To discover the UAV to set up PC5 direct communication with the AAM uses
ProSe Direct Discovery over PC5 reference point using method B as described in
clause 6.3.2 of TS 23.304 [8] with an application-service indicating AAM-UAS-
control and providing the detected Remote-ID as Application-Layer-ID in the
solicitation message. As a result of this procedure the discovered UAV having
the specified Remote-ID it\'s Layer-2-ID to the AAM.
\- To establish the PC5 direct communication link with the discovered UAV the
AAM uses the \"UE-oriented link establishment procedure\" described in clause
6.4.3.1 of TS 23.304 [8] (option A) to connect to the discovered Layer-2-ID
(i.e. to the UAV with the detected Remote-ID).
\- For Direct Discovery over PC5 the UAV and AAM shall comply with the
authorization and provisioning principles described in clause 5.1.2 of TS
23.304 [8] including the following:
\- PLMNs in which UE is authorized to perform Model B Discoveree operation
shall be provided .
\- The destination Layer-2 ID to be used for initial signalling over PC5
interface of discovery message the
\"AAM-UAS-control\" service.
\- Security parameters used for direct discovery over PC5 shall provided.
\- For Direct Communication over PC5 the UAV and AAM shall comply with the
authorization and provisioning principles described in clause 5.1.3 of TS
23.304 [8] including the following considerations:
\- The service for \"AAM-UAS-control\" shall be included in the list of ProSe
services.
\- The destination Layer-2 ID to be used for initial signalling to establish a
unicast connection for the \"AAM-UAS-control\" service.
\- Parameters for Broadcast and Groupcast are not applicable.
\- The AAM uses PC5 to provide each UAS present in the arena/area with local
DAA policies. As an example, this might be used to prevent new drones from
running into each other or facility details.
\- A UAV that receives local DAA related policies from an the AAM over PC5 is
expected to forward the policies to its UAV-C.
NOTE: The policies may be provided as a transparent container to the UAV with
the UAV-C as final receiver.
\- A UAV-C that receives local policies for DAA from an AAM, is expected to
steer the UAV accordingly by use of C2 communication (e.g. over Uu, PC5, or
other means) in order to enforce the local policies and avoid collisions.
\- A UAV-C that receives local policies for DAA from an AAM, may inform the
AAM of its network address (e.g. IP address or URL) to enable direct AAM to
UAV-C communication via Data Network.
\- UAVs using different PLMNs shall be supported.
\- Both LTE PC5 and NR PC5 are supported.
\- This solution leverages mechanisms as defined in TS 23.287 [9] and TS
23.304 [8] with the differences described in this solution.
\- The UAS, i.e. the UAV and its UAV-C, may use any means for C2
communication. Direct communication over PC5 or Uu communication via the 3GPP
system may e.g. be used but also communication methods not specified by 3GPP.
For a case where the UAV have the control function (UAV-C) collocated to e.g.
act autonomously UAV internal communication may be used.
\- Reception of the BRID is the responsibility of the AAM.
\- It is assumed that the NRID information is retrieved from the UTM based on
the UAV position as detected by the AAM airspace scanning system, i.e. the
NRID information is not streamed directly to the AAM from the UAV. The ability
for the AAM to access NRID information should be from the UTM, rather than
from the individual UAV.
\- The NRID information is assumed to be fetched from the UTM (e.g. RID-USS
etc.) based on positioning information retrieved by the AAM using airspace
scanning systems like upward radars, cameras etc. Subscription from the UTM on
notification of NRID information for UAVs in the applicable area/airspace
might be an additional mechanism to use, if needed.
\- Local policies for DAA may be used to avoid collisions between drones or
prevent the drones from wandering into obstructions or off-limits areas. It
may for example be the owner of the arena that provides these local policies.
However, the existence of local policies does not release drones from also
following any general policies provided by authorities.
\- PC5 Unicast communication is used to provide local policies.
\- The same or different local policies may be provided to the drones in the
arena. Drones may for example, be given different fly zones in the arena just
like people have different seating in an arena.
\- The typical use case is that one company or organization is in control of
the arena or the event area. As such one AAM may be sufficient in the
arena/area. If there are multiple AAMs in the same arena/area, they are
assumed to be configured to provide the same policies. This solution does not
require any online coordination between potential multiple AAMs.
Figure 6.7.2-1: Logical architecture for ground based DAA
### 6.7.3 Procedures
Editor\'s note: This clause describes high-level procedures and information
flows for the solution.
Figure 6.7.3-1: High-level procedure for Ground-based DAA for Arena
1\. The ground-based system AAM scans the airspace over the area for drones
(UAVs) and detects their coordinates e.g. by using equipment such as upward
pointing radars and cameras.
2\. Detected UAVs are identified by their Remote ID which is retrieved either:
2a. Directly from the UAV as a Broadcast Remote ID using PC5 or other means;
or
2b. As a Network Remote ID by querying a USS RID repository based on the
coordinates of detected UAVs.
3\. The AAM determines local DAA policies for the detected UAV\'s based on the
current UAV traffic situation and local info and plans for the area/arena.
Based on the retrieved Remote ID, the AAM establishes PC5 communication with
each detected UAV.
4\. The AAM provides each UAS present in the arena/area with local policies
for DAA. The AAM sends the local policies over unicast PC5 to UAV which is
expected to forward the information to the UAV C.
NOTE: The policies may be provided as a transparent container to the UAV.
5\. The UAV-C considers the local policies received from the AAM and steers
the UAV accordingly via C2 communication.
6\. A UAV-C that receives local policies for DAA from an AAM, may inform the
AAM of its address (e.g. IP address or URL) to enable direct AAM to UAV-C
communication via Data Network.
### 6.7.4 Impacts on services, entities and interfaces
UE:
\- supports handling of connection between AAM and UAV over PC5.
# 7 Overall Evaluation
Editor\'s note: This clause will provide evaluation of different solutions.
## 7.1 Evaluation of solutions for Key Issue #1
There are three solutions: Solution #1, Solution #4 and Solution #6, that
address Key Issue #1.
Solution #6 focuses more on the aspect of switching C2 communication from PC5
link to Uu link.
Both Solution #1 and Solution #4 reuses Unicast mode 5G Prose/V2X
communication procedure as defined in clause 6.4.3.1 of TS 23.304 [8] or
clause 6.3.3.1 of TS 23.287 [9], with a few adaptations for UAS, to enable C2
communication over PC5 link.
The adaptations in Solution #1 include replacing \"Prose Service or V2X
Service\" with \"C2 communication service\" and introducing application layer
identities for C2 communication. The adaptations in Solution #4 includes
reusing CAA-level UAV ID as application layer identity and may derive C2
communication service identifier from the CAA-level UAV ID.
Two methods of authorization for C2 communication over PC5 are supported in
Solution #1 and Solution #4. The UAV may be provisioned with authorization
policy similar to 5G Prose authorization mechanisms, or the UAV may reuse C2
communication authorization procedure defined in TS 23.256 [5] if the UAV is
capable of Uu communication. Both methods are necessary for different
scenarios.
Solution #1 additionally proposes the dynamic discovery for C2 communication,
based on Restricted 5G Prose Direct Discovery procedure as defined in clause
6.3 of TS 23.304 [8]. The solution assumes that the USS can act as Prose
Application Server. This would require that the USS supports service-based
interface or DIAMETER based interface with the 5G DDNMF. It would also require
that the USS supports additional Prose discovery related functionalities such
as the management of Prose Restricted code suffixes, masks, etc. or interfaces
with such an AF. The aviation community has clearly expressed that such
interfaces or unnecessary complexities should be avoided in USS and clear
preference for interfacing with the 3GPP system via \"NEF\" (i.e. UAS NF)
(Please see ACJA LS in S2-2007776).
## 7.2 Evaluation of solutions for Key Issue #3
The description of KI#3 assumes that direct UAV to UAV communication via PC5
based on the enhancements of the existing PC5 direct communication is the
baseline mechanism for DAA solution. It also allows exploring network-assisted
or ground-based solutions.
There are three solutions: Solution #2, Solution #5 and Solution #7, that
address Key Issue #3.
Solution #2 doesn\'t cover the baseline mechanism and instead focuses on the
network-assisted DAA approach. Two Options are proposed, including network-
assisted DAA with calculation functionality (Option A) and network-assisted
DAA without calculation functionality (Option B). In Option A, the collision
detection is performed at the USS based on the \"relative location\" or
clearance calculation reported by the GMLC. The solution applies to UAV UEs
that register to the network and are in coverage. The solution applies to USS-
driven DAA scenarios where the USS triggers DAA deconfliction between pairs of
UAVs based on knowledge of flight paths. A significant limitation of Option A
is that it is only applicable to the UAVs controlled by the same USS and
served by the same PLMN. It also requires new functionalities in the GMLC to
support \"relative location\" calculation and report. . In Option B, USS as
AF/LCS client obtains UAV location using the legacy LCS procedure, and
calculates the relative positioning result by itself. Option B applies to the
UAV UEs belonging to the same PLMN or different PLMNs but still has the
limitation that UAVs belong to the same USS.
Solution #2 requires that the absolute location of all the UEs shall be
determined exactly at the same time. If the positioning of the UEs is not
performed at the same time, the relative distance measurement will not be
correct. Considering that the location determination takes several seconds and
also the time required varies from UE to UE, it is practically not possible to
have exact location of all the UEs at the same time. So, the solution does not
work in a real-world scenario. The GMLC or the AF shall also have knowledge
about the UAVs flight path in order to provide an accurate notification to the
USS.
Additionally, periodically obtaining location of all the UEs and performing
the relative distance between all the UEs is not at all a scalable solution.
For example, if the list contains 10 UEs, the GMLC (or AF in option B) will
have to first obtain absolute location of all the 10 UEs (all calculated at
the same time), and then determine the relative distance between all of them,
which will lead to determining total 45 relative distances (i.e.
9+8+7+6+5+4+3+2+1). As the number of UEs in the list will grow this number of
relative distance calculation will also exponentially increase. For example:
for 11 UEs 55 relative distances, for 12 UEs 66 relative distances, for 20 UEs
180 relative distances and so on. So the solution, if applied in practice,
will lead to huge amount of processing need the GMLC or the AF and will not
work for large number of UAVs that are expected to be served by the 3GPP
network.
Solution #7 doesn\'t address how collision is detected or deconflicted and
focuses more on how to enable UAV controllers to follow the \"local DAA
policies\" to avoid collisions. It introduces a new ground entity AAM which
scans and establishes communication with the UAVs within a local area and
passes the local DAA policies through the UAVs to its controllers. The
solution only applies to specific scenarios where local DAA policies and
ground AAMs are available. It is not clear how local DAA policies can
effectively enable the UAVs/UAV-Cs to avoid collisions. The solution assumes
local DAA policies are implemented by the UAV-C, and not the UAV. In scenarios
of high automation where a UAV-C may control a large number of UAVs, it is FFS
whether it is feasible to implement such policies in the UAV-C and not the
UAV. The AAM requires a level of thrust and authorization to be able to
retrieve NRID information from the UTM.
Solution #5 covers the baseline mechanism of using direct UAV to UAV
communication for DAA. It reuses the existing V2X framework with some
adaptations for DAA. The detection and deconflicting of collisions are fully
based on direct communication between UAVs over PC5. The solution does not
require the involvement of any UTM/USS functionality or knowledge of UAV
flight plans. The USS is optionally informed of the collision situation and
otherwise doesn\'t play a role in DAA. The solution re-uses the PC5-based
security mechanisms defined in 3GPP and can use an application-layer security
solution to be defined outside of 3GPP (as in the case of C-V2X). The solution
applies to both in-coverage UAV UEs and out-of-coverage UAV UEs, and whether
the solution applies to UAV UEs served by different PLMNs and with
subscriptions to different PLMNs depends on the 5G ProSe specification. It
applies to most common DAA scenarios and doesn\'t have the limitations listed
for the other solutions. This solution is only applicable to the UAVs with
ProSe capability.
Solution #5 may have the risk of a high potential amount of data that may need
to be transferred, since in case of large number of UAVs in an area the
solution needs to broadcast of a big amount of data. This issue may also
happen to transport Broadcast Remote ID for Key Issue#2 as described in clause
5.2. There may be the scenario that a large number of Vehicle UEs in an area
broadcast V2X messages over PC5, e.g. 10 messages per second from each UE.
Such scenario has been already investigated for V2X sidelink communication by
RAN WGs as in TR 36.885 [19] and can be managed by the AS layer, e.g. Sidelink
congestion control performed by RAN node for scheduled resource allocation
mode and performed by UE for UE autonomous resource selection mode as defined
in TS 36.300 [20], TS 38.300 [21] and TR 37.985 [22]. Therefore, it is
considered that there is no issue on the potential large amount of data
transfer related to PC5 based DAA mechanism and PC5 based BRID mechanism.
# 8 Conclusions
## 8.1 Conclusion for Key Issue #1
The UAV engaged in C2 communication over PC5 may or may not be capable of Uu
communication with the network.
Only Unicast mode C2 communication over PC5 is supported in this release.
For C2 communication over PC5, the UAV-C may be pre-paired or dynamically
paired.
Two types of authorization are supported for C2 communication over PC5:
\- Authorization based on provisioned policy in UAV similar to clause 5.1.3 of
TS 23.304 [8].
\- Authorization based on C2 communication authorization procedure defined in
TS 23.256 [5] if the UAV is capable of Uu communication with the network. In
this case the UAV UE performs C2 communication authorization following the
procedure define in TS 23.256 [5], before initiating UAV to UAV-C direct
communication over PC5.
The Unicast mode 5G Prose Direct Communication procedure as defined in clause
6.4.3 of TS 23.304 [8] is used as the baseline for establishing C2
communication over PC5, with the following enhancements and adaptations:
\- Prose Service info is replaced with \"C2 Communication Service\".
\- C2 Communication Service identifier may be pre-configured or derived from
the CAA-level UAV ID.
Both UE-oriented and service-oriented unicast link establishment are supported
as defined in clause 6.4.3.1 of TS 23.304 [8].
Editor\'s note: It is FFS whether restricted 5G ProSe Direct Discovery needs
to be supported and whether UAS NF can produce ProSe AF functionalities to
support restricted discovery.
## 8.2 Conclusions for Key Issue #2 - Support of Broadcast Remote ID
It is proposed to progress to normative phase the following:
\- a mechanism based on PC5 leveraging U2X (UAV-to-everything) as described by
the architectural enhancements identified in solution #5, applicable to both
UAV UE that registers to the MNO network, and to UAVs that operate out of
coverage
\- for scenarios that UAV UEs in coverage and register to the network, and to
UAV-C that are 3GPP UEs, a mechanism using MBS location dependent broadcast
service, based on solution #3.
It is assumed that security of the U2X solution will be addressed by SA WG3.
NOTE 1: It is expected that SA WG3 will perform a security analysis of
solution #5.
It is assumed that a combination of U2X and network-based solutions can be
deployed.
NOTE 2: It is expected that RAN will define necessary enhancements to support
PC5 for NR as described in solution #5.
## 8.3 Conclusions for Key Issue #3 - Support of Detect and Avoid Mechanism in
3GPP system
It is proposed to progress to normative phase the following:
\- a mechanism for DAA leveraging U2X (UAV-to-everything), with the
architectural enhancements identified in solution #5, with the following
principles:
\- The detection and resolution of collisions is locally performed between
UAVs using direct UAV to UAV communication over PC5.
\- The USS can (optionally) be informed of the collision situation.
NOTE 1: The UAV may inform the USS of the collision situation over application
layer communication. No normative work in SA WG2 is expected to enable this.
\- Both unicast and broadcast mode direct communication over PC5 is supported
for DAA.
\- Additionally, may support network-assisted (ground based) DAA solution #7.
It is applicable for a specific area, such as a stadium or arena where drones
are used.
NOTE 2: The content of \"local policies for DAA\" in Solution #7 and how it is
communicated between UAV, UAV-C and AAM is out of 3GPP scope.
NOTE 3: Coordination with RAN WG2 is needed regarding whether the UAV UEs
served by different PLMNs and with subscriptions to different PLMNs is
supported.
It is assumed that security of the U2X solution will be addressed by SA WG3.
It is assumed that all UAV UEs support ProSe/U2X capability in this Release.
#