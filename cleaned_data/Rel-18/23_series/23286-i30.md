# Foreword
This Technical Report has been produced by the 3rd Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# Introduction
In order to ensure efficient use and deployment of V2X applications on 3GPP
networks an architecture for V2X application layer consisting of V2X
application enabler is specified in this document.
The V2X application enabler capabilities takes into consideration the study in
3GPP TR 23.795 [9], the existing stage 1 and stage 2 work within 3GPP related
to V2X in 3GPP TS 22.185 [2], 3GPP TS 22.186 [3] and 3GPP TS 23.285 [5], as
well as V2X application standards defined outside 3GPP (e.g. ETSI, SAE).
# 1 Scope
The present document specifies the functional architecture, procedures and
information flows for V2X application enabler layer. This specification
includes the capabilities of the application layer support for V2X services
that are necessary to ensure efficient use and deployment of V2X services over
3GPP systems. The VAE capabilities applies to EPS and 5GS.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 22.185: \"Service requirements for V2X services; Stage 1\".
[3] 3GPP TS 22.186: \"Enhancement of 3GPP support for V2X scenarios; Stage
1\".
[4] 3GPP TS 23.280: \"Common functional architecture to support mission
critical services\".
[5] 3GPP TS 23.285: \"Architecture enhancements for V2X services\".
[6] 3GPP TS 23.434: \"Service enabler architecture layer for verticals;
Functional architecture and information flows\".
[7] 3GPP TS 23.468: \"Group Communication System Enablers for LTE (GCSE_LTE);
Stage 2\".
[8] 3GPP TS 23.682: \"Architecture enhancements to facilitate communications
with packet data networks and applications\".
[9] 3GPP TR 23.795: \"Study on application layer support for V2X services\".
[10] 3GPP TS 26.346: \"Multimedia Broadcast/Multicast Service (MBMS);
Protocols and codecs\".
[11] 3GPP TS 26.348: \"Northbound Application Programming Interface (API) for
Multimedia Broadcast/Multicast Service (MBMS) at the xMB reference point\".
[12] 3GPP TS 29.214: \"**Policy and Charging Control over Rx reference point**
\".
[13] 3GPP TS 29.468: \"Group Communication System Enablers for LTE (GCSE_LTE);
MB2 Reference Point; Stage 3\".
[14] 3GPP TS 36.300: \" Evolved Universal Terrestrial Radio Access (E-UTRA)
and Evolved Universal Terrestrial Radio Access Network (E-UTRAN); Overall
description; Stage 2\".
[15] ETSI EN 302 637-3 (V1.3.1): \"Intelligent Transport Systems (ITS);
Vehicular Communications; Basic Set of Applications; Part 3: Specifications of
Decentralized Environmental Notification Basic Service\".
[16] ETSI TS 102 894-2 (V1.2.1): \"Intelligent Transport Systems (ITS); Users
and applications requirements; Part 2: Applications and facilities layer
common data dictionaryMultimedia Broadcast/Multicast Service (MBMS); Protocols
and codecs\".
[17] ETSI TS 102 965 (V1.4.1): \"Intelligent Transport Systems (ITS);
Application Object Identifier (ITS-AID); Registration\".
[18] ISO TS 17419: \"Intelligent Transport Systems - Cooperative systems -
Classification and management of ITS applications in a global context\".
[19] 3GPP TS 23.287: \" Architecture enhancements for 5G System (5GS) to
support Vehicle-to-Everything (V2X) services\".
[20] 3GPP TS 23.501: \"System architecture for the 5G System (5GS)\".
[21] 3GPP TS 23.222: \"Functional architecture and information flows to
support Common API Framework for 3GPP Northbound APIs; Stage 2\".
[22] 3GPP TS 29.116: \"Representational state transfer over xMB reference
point between Content Provider and BM-SC\".
[23] 3GPP TS 23.003: \"Numbering, Addressing and Identification\".
[24] 3GPP TS 23.288: \"Architecture enhancements for 5G System (5GS) to
support network data analytics services\".
[25] 3GPP TS 23.558: \"Architecture for enabling Edge Applications\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
**V2X group:** A defined set of V2X UEs configured for specific purpose in V2X
service.
**V2X dynamic group:** A V2X group where the V2X UEs are determined
dynamically corresponding to a group criteria (e.g. proximity).
**V2X service:** A service offered by a V2X application which supports the
related communications between two entities (e.g. V2X UE and V2X UE, V2X UE
and V2X application server).
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply.\ An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
5GS 5G System
AS Application Server
AID Application Object Identifier
CAPIF Common API Framework for northbound APIs
E-UTRAN Evolved Universal Terrestrial Radio Access Network
EPS Evolved Packet System
ETSI European Telecommunications Standards Institute
GPSI Generic Public Subscription Identifier
LTE Long-Term Evolution
MBMS Multimedia Broadcast Multicast Service
PSID Provider Service Identifier
SAE Society of Automotive Engineers
SCEF Service Capability Exposure Function
SCS Services Capability Server
UE User Equipment
USD User Service Description
V2I Vehicle-to-Infrastructure
V2N Vehicle-to-Network
V2P Vehicle-to-Pedestrian
V2V Vehicle-to-Vehicle
V2X Vehicle-to-Everything
VAE V2X Application Enabler
# 4 Architectural requirements
## 4.1 General
### 4.1.1 Description
This subclause specifies the general requirements for V2X application layer
functional architecture.
### 4.1.2 Requirements
[AR-4.1.2-a] The VAE client and the VAE server shall support one or more V2X
applications.
[AR-4.1.2-b] The VAE capabilities should be offered as APIs to the V2X
applications.
[AR-4.1.2-c] The VAE capabilities shall enable V2X UEs to obtain the address
of available V2X application servers associated with served geographical area
information.
[AR-4.1.2-d] The VAE capabilities shall enable V2X UEs to obtain the
information of available V2X services (e.g. identified byV2X service ID).
[AR-4.1.2-e] The VAE capabilities shall support obtaining information of the
available V2X services (e.g. identified by V2X service ID) from the V2X
application.
[AR-4.1.2-f] The VAE capabilities shall support obtaining information of the
associated geographical area from the V2X application.
[AR-4.1.2-g] The VAE client shall be able to communicate to multiple VAE
servers.
## 4.2 V2X group communication
### 4.2.1 Description
This subclause specifies the V2X group communication related requirements.
### 4.2.2 Requirements
[AR-4.2.2-a] The VAE capabilities shall enable configuring ProSe group
communication parameters to the VAE clients.
[AR-4.2.2-b] The VAE capabilities shall enable broadcast of the group
communication parameters.
[AR-4.2.2-c] The VAE capabilities shall enable VAE clients to generate the
group communication parameters.
[AR-4.2.2-d] The VAE capabilities shall enable to prevent overlapping of group
communication.
## 4.3 V2X dynamic groups
### 4.3.1 Description
This subclause specifies the V2X dynamic groups related requirements.
### 4.3.2 Requirements
[AR-4.3.2-a] The VAE capabilities shall enable V2X dynamic groups formation.
[AR-4.3.2-b] The VAE capabilities shall enable configuring dynamic group
communication parameters to the VAE client.
[AR-4.3.2-c] The VAE capabilities shall enable switching from Uu to PC5-based
communication.
[AR-4.3.2-d] The VAE capabilities shall enable determining V2X UEs in the
proximity.
[AR-4.3.2-e] The VAE capabilities shall enable V2X dynamic group management
(e.g. joining, adding or removing V2X UEs, split or merge).
## 4.4 File distribution capability
### 4.4.1 Description
This subclause specifies the architectural requirements for file distribution.
### 4.4.2 Requirements
[AR-4.4.2-a] The VAE capabilities shall be able to support delivery of large
files using unicast.
[AR-4.4.2-b] The VAE capabilities shall be able to support delivery of large
files using MBMS.
[AR-4.4.2-c] The VAE server shall enable the re-use of MBMS capabilities for
file distribution.
[AR-4.4.2-d] The VAE capabilities shall be able to support local MBMS based
MBMS data delivery.
## 4.5 V2X application message distribution
### 4.5.1 Description
This subclause specifies the V2X (e.g. ETSI ITS, SAE) message distribution
requirements.
### 4.5.2 Requirements
[AR-4.5.2-a] The VAE server shall provide a mechanism to distribute V2X
messages to all registered receivers in targeted geographical areas.
[AR-4.5.2-b] The VAE server shall enable the delivery of several V2X messages
over the same connection.
[AR-4.5.2-c] The VAE client shall have the capability to register to V2X
messages within one or more geographical area.
[AR-4.5.2-d] The VAE server shall have the capability to only forward V2X
messages to authorized V2X UEs in target geographical areas.
[AR-4.5.2-e] The VAE server shall provide a mechanism for priority support of
different V2X messages (e.g. safety message).
[AR-4.5.2-f] The VAE capabilities shall support the transmission of V2X
messages from the V2X UE to the V2X application server.
[AR-4.5.2-g] The VAE layer shall provide a mechanism to support session-
oriented services.
[AR-4.5.2-h] The VAE layer shall support the delivery of V2X messages over
pre-established sessions.
## 4.6 Service continuity
### 4.6.1 Description
This subclause specifies the V2X service continuity related requirements.
### 4.6.2 Requirements
[AR-4.6.2-a] The VAE capabilities shall enable V2X UEs to continue receiving
V2X service when changing geographical area.
## 4.7 PC5 Provisioning in multi-operator V2X scenarios
### 4.7.1 Description
This subclause specifies the PC5 Provisioning for multi-operator V2X services
related requirements.
### 4.7.2 Requirements
[AR-4.7.2-a] The VAE capabilities shall support PC5 policy/parameter
provisioning for V2X services provided by a single V2X service provider; and
offered by more than one MNO (aka multi-operator V2X services).
## 4.8 Support for VRU zone configuration and operation
### 4.8.1 Description
This subclause specifies the VRU zone configuration and operation related
requirements.
### 4.8.2 Requirements
[AR-4.8.2-a] The VAE capabilities shall support VRU zone configurations (e.g.
distribution of VRU zone related configuration information) to the relevant
V2X UEs.
## 4.9 V2P communications requirements
### 4.9.1 Description
This subclause specifies the V2P communications related requirements.
### 4.9.2 Requirements
[AR-4.9.2-a] The VAE capabilities shall provide mechanisms (e.g.
configurations) to support V2P communications.
# 5 Involved business relationships
Figure 5-1 shows the business relationships that exist and that are needed to
support a single V2X user.
Figure 5-1: Business relationships for V2X services
The V2X user belongs to a V2X service provider based on a V2X service
agreement between the V2X user and the V2X service provider. The V2X service
provider can have V2X service agreements with several V2X users. The V2X user
can have V2X service agreements with several V2X service providers. The V2X
service provider can have V2X service provider agreements with several partner
V2X service providers.
The V2X service provider and the home PLMN operator can be part of the same
organization, in which case the business relationship between the two is
internal to a single organization.
The home PLMN operator can have PLMN operator service arrangements with
multiple V2X service providers and the V2X service provider can have PLMN
operator service arrangements with multiple home PLMN operators. As part of
the PLMN operator service arrangement between the V2X service provider and the
home PLMN operator, PLMN subscription arrangements can be provided which
allows the V2X UEs to register with home PLMN operator network.
The home PLMN operator can have PLMN roaming agreements with multiple visited
PLMN operators and the visited PLMN operator can have PLMN roaming agreements
with multiple home PLMN operators.
# 6 Functional model
## 6.1 General
The functional model for the V2X application layer is organized into
functional entities to describe a functional architecture which addresses the
application layer support aspects for V2X applications.
## 6.2 Functional model description
Figure 6.2-1 illustrates the simplified architectural model for the V2X
application layer. It utilizes the architectural reference model specified in
clause 4.2 in 3GPP TS 23.285 [5] and clause 4.2 in 3GPP TS 23.287 [19] which
have impact on the application layer support aspects.
Figure 6.2-1: Simplified architectural model for the V2X application layer
The V2X UE1 communicates with V2X application server over V1 reference point.
The V2X UE1 and V2X UE2 communicate over V5 reference point. V2X UE1 can also
act as a UE-to-network relay, to enable V2X UE2 to access the V2X application
server over V1 reference point.
The reference point V1 supports the V2X application related interactions
between V2X UE and V2X AS and is specified in 3GPP TS 23.285 [5] and 3GPP TS
23.287 [19]. This reference point is supported for both unicast and multicast
delivery modes. The reference point V5 supports the interactions between the
V2X UEs and is specified in 3GPP TS 23.285 [5] and 3GPP TS 23.287 [19].
Figure 6.2-2 illustrates the detailed V2X application layer functional model.
It enhances the simplified architectural model for the V2X application layer
by specifying the functional entities at the V2X application layer.
Figure 6.2-2: V2X application layer functional model
The V2X application layer functional entities for the V2X UE and the V2X
application server are grouped into the V2X application specific layer and the
VAE layer. The VAE layer offers the VAE capabilities to the V2X application
specific layer. The V2X application layer functional model utilizes the SEAL
services as specified in 3GPP TS 23.434 [6].
The VAE server is located in the VAE layer. The SEAL services utilized by VAE
layer are location management, group management, configuration management,
identity management, key management and network resource management. The V2X
application specific layer consists of the V2X application specific
functionalities.
NOTE 1: The functionalities of the V2X application specific layer are out of
scope of the present document.
The V2X application server consists of the VAE server, the SEAL servers and
the V2X application specific server. The VAE server provides the V2X
application layer support functions to the V2X application specific server
over Vs reference point. The SEAL server(s) provide the SEAL services to the
V2X application specific server over SEALâ€‘S reference point.
The V2X UEs consist of the VAE client, the SEAL clients and the V2X
application specific client. The VAE client provides the V2X application layer
support functions to the V2X application specific client over Vc reference
point. The SEAL client(s) provide the SEAL services to the V2X application
specific client over SEALâ€‘C reference point.
NOTE 2: In some deployments, the client and server entities of SEAL can be
part of VAE client and VAE server respectively.
The VAE client acts as a VAL client for its interaction with the SEAL clients
as specified in 3GPP TS 23.434 [6]. The VAE server acts as a VAL server for
its interaction with the SEAL servers as specified in 3GPP TS 23.434 [6].
In the VAE layer, the VAE client communicates with the VAE server over V1-AE
reference point. In the V2X application specific layer, the V2X application
specific client communicates with V2X application specific server over V1-APP
reference point.
NOTE 3: The V1-APP reference point is out of scope of the present document.
In the VAE layer, the VAE client of V2X UE2 communicates with VAE client of
V2X UE1 over V5-AE reference point. In the V2X application specific layer, the
V2X application specific client of V2X UE2 communicates with VAE client of V2X
UE1 over V5-APP reference point.
NOTE 4: The V5-APP reference point is out of scope of the present document.
The following SEAL services for V2X applications are supported:
\- Location management as specified in 3GPP TS 23.434 [6];
\- Group management as specified in 3GPP TS 23.434 [6];
\- Configuration management as specified in 3GPP TS 23.434 [6];
\- Identity management as specified in 3GPP TS 23.434 [6];
\- Key management as specified in 3GPP TS 23.434 [6]; and
\- Network resource management as specified in 3GPP TS 23.434 [6].
The VAE client interacts with SEAL clients over the SEAL-C reference point
specified for each SEAL service. The VAE server interacts with SEAL servers
over the SEAL-S reference point specified for each SEAL service. The
interaction between the SEAL clients is supported by SEAL-PC5 reference point
specified for each SEAL service. The interaction between a SEAL client and the
corresponding SEAL server is supported by SEAL-UU reference point specified
for each SEAL service.
NOTE 5: The SEAL-C, SEAL-S, SEAL-PC5, SEAL-UU reference points for each SEAL
service is specified in 3GPP TS 23.434 [6].
To support distributed VAE server deployments, the VAE server interacts with
another VAE server over VAE-E reference point.
V2X UE1 can also act as a UE-to-network relay,
\- to enable VAE client on V2X UE2 to access VAE server over V1-AE reference
point; and
\- to enable V2X application specific client on V2X UE2 to access V2X
application specific server over V1-APP reference point.
A V1-AE message can be sent over unicast, transparent multicast via xMB,
transparent multicast via MB2. The non-transparent multicast via xMB (as
specified in 3GPP TS 26.348 [11]) is triggered by a V1-AE message. Multicast
distribution can be supported by both transparent and non-transparent
multicast modes.
The VAE server interacts with the 3GPP network system over V2, MB2, xMB, Rx,
T8, N5 and N33 reference points. The EPS and 5GS are considered as the 3GPP
network system.
## 6.3 Functional entities description
### 6.3.1 General
Each subclause is a description of a functional entity corresponding to V2X
application layer and does not imply a physical entity.
### 6.3.2 V2X application specific client
The V2X application specific client provides the client side functionalities
corresponding to the V2X applications (e.g. platooning client). The V2X
application specific client utilizes the VAE client for the V2X application
layer support functions.
NOTE: The details of the V2X application specific client is out of scope of
the present document.
### 6.3.3 V2X application specific server
The V2X application specific server provides the server side functionalities
corresponding to the V2X applications (e.g. platooning server). The V2X
application specific server utilizes the VAE server for the V2X application
layer support functions. If CAPIF is supported, the V2X application specific
server acts as CAPIF\'s API invoker as specified in 3GPP TS 23.222 [21].NOTE:
The details of the V2X application specific server is out of scope of the
present document.
### 6.3.4 VAE client
The VAE client provides the client side V2X application layer support
functions as below:
\- registration of VAE clients for receiving V2X messages;
\- receiving V2X messages from the VAE server and the delivery to V2X
application specific client(s) according to the V2X service ID;
\- perform the role of the MBMS client for multicast file transfer using xMB
APIs;
\- receiving network monitoring reports from the VAE server;
\- supports switching the modes of operations for V2V communications (e.g.
between direct and in-direct V2V communications);
\- providing application level locations to the VAE server (e.g. tile, geo-
fence);
\- receiving 3GPP system configuration information (e.g. V2X USD, PC5
parameters) from the VAE server; and
\- supporting dynamic group management.
The VAE client supports interactions with the V2X application specific
client(s).
### 6.3.5 VAE server
The VAE server acts as a GCS AS as described in 3GPP TS 23.468 [7] or acts as
a content provider as described in 3GPP TS 26.346 [10]. If CAPIF is supported,
the VAE server acts as CAPIF\'s API exposing function to provide service APIs
to the V2X application specific server or another VAE server as specified in
3GPP TS 23.222 [21], or acts as CAPIF\'s API invoker to consume the service
APIs provided by another VAE server.
The VAE server provides the server side V2X application layer support
functions as below:
\- communicating with the underlying 3GPP network systems (EPS, 5GS) for
unicast and multicast network resource management;
\- receiving monitoring reports/events from the underlying 3GPP network
systems (EPS, 5GS) regarding network situation corresponding to RAN and core
network;
\- supporting registration of V2X UEs;
\- tracking the application level geographic location of the V2X UEs;
\- supporting V2X message distribution for the V2X applications;
\- supporting provisioning of 3GPP system configuration information (e.g. V2X
USD, PC5 parameters);
\- perform the role of content provider for multicast file transfer using xMB
APIs;
\- providing network monitoring reports to the V2X UEs;
\- communicating V2X service requirements to the underlying 3GPP network
systems (EPS, 5GS);
\- maintaining the mapping between the V2X user ID and the V2X UE ID;
\- providing V2X service discovery;
\- supporting V2X service continuity; and
\- supporting V2X application resource adaptation.
### 6.3.6 SEAL client
The following SEAL clients for V2X applications are supported:
\- Location management client as specified in 3GPP TS 23.434 [6];
\- Group management client as specified in 3GPP TS 23.434 [6];
\- Configuration management client as specified in 3GPP TS 23.434 [6];
\- Identity management client as specified in 3GPP TS 23.434 [6];
\- Key management client as specified in 3GPP TS 23.434 [6]; and
\- Network resource management client as specified in 3GPP TS 23.434 [6].
### 6.3.7 SEAL server
The following SEAL servers for V2X applications are supported:
\- Location management server as specified in 3GPP TS 23.434 [6];
\- Group management server as specified in 3GPP TS 23.434 [6];
\- Configuration management server as specified in 3GPP TS 23.434 [6];
\- Identity management server as specified in 3GPP TS 23.434 [6];
\- Key management server as specified in 3GPP TS 23.434 [6]; and
\- Network resource management server as specified in 3GPP TS 23.434 [6].
## 6.4 Reference points description
### 6.4.1 General
The reference points for the V2X application layer are described in the
following subclauses.
### 6.4.2 V1-AE
The interactions related to V2X application layer support functions between
VAE client and VAE server are supported by V1-AE reference point. This
reference point is an instance of V1 reference point as described in 3GPP TS
23.285 [5]. This reference point is supported for both unicast and multicast
delivery modes.
### 6.4.3 V1-APP
The interactions related to V2X applications between V2X application specific
client and V2X application specific server are supported by V1-APP reference
point. This reference point is an instance of V1 reference point described in
3GPP TS 23.285 [5]. The details of V1-APP reference point is out of scope of
the present document.
### 6.4.4 V5-AE
The interactions related to V2X application layer support functions between
the VAE clients are supported by V5-AE reference point. This reference point
is an instance of V5 reference point as described in 3GPP TS 23.285 [5].
### 6.4.5 V5-APP
The interactions related to V2X applications between V2X application specific
clients are supported by V5-APP reference point. This reference point is an
instance of V5 reference point described in 3GPP TS 23.285 [5]. The details of
V5-APP reference point is out of scope of the present document.
### 6.4.6 Vs
The interactions related to V2X application layer support functions between
the VAE server and the V2X application specific server are supported by Vs
reference point. If CAPIF is supported, this reference point is an instance of
CAPIF-2/2e reference point as specified in 3GPP TS 23.222 [21].
### 6.4.7 Vc
The interactions related to V2X application layer support functions between
the VAE client and the V2X application specific client are supported by Vc
reference point.
### 6.4.8 SEAL-C
The following SEAL-C reference points for V2X applications are supported:
\- LM-C reference point for location management as specified in 3GPP TS 23.434
[6];
\- GM-C reference point for group management as specified in 3GPP TS 23.434
[6];
\- CM-C reference point for configuration management as specified in 3GPP TS
23.434 [6];
\- IM-C reference point for identity management as specified in 3GPP TS 23.434
[6];
\- KM-C reference point for key management as specified in 3GPP TS 23.434 [6];
and
\- NRM-C reference point for network resource management as specified in 3GPP
TS 23.434 [6].
### 6.4.9 SEAL-S
The following SEAL-S reference points for V2X applications are supported:
\- LM-S reference point for location management as specified in 3GPP TS 23.434
[6];
\- GM-S reference point for group management as specified in 3GPP TS 23.434
[6];
\- CM-S reference point for configuration management as specified in 3GPP TS
23.434 [6];
\- IM-S reference point for identity management as specified in 3GPP TS 23.434
[6];
\- KM-S reference point for key management as specified in 3GPP TS 23.434 [6];
and
\- NRM-S reference point for network resource management as specified in 3GPP
TS 23.434 [6].
### 6.4.10 SEAL-PC5
The following SEAL-PC5 reference points for V2X applications are supported:
\- LM-PC5 reference point for location management as specified in 3GPP TS
23.434 [6];
\- GM-PC5 reference point for group management as specified in 3GPP TS 23.434
[6];
\- CM-PC5 reference point for configuration management as specified in 3GPP TS
23.434 [6];
\- IM-PC5 reference point for identity management as specified in 3GPP TS
23.434 [6];
\- KM-PC5 reference point for key management as specified in 3GPP TS 23.434
[6]; and
\- NRM-PC5 reference point for network resource management as specified in
3GPP TS 23.434 [6].
### 6.4.11 SEAL-UU
The following SEAL-UU reference points for V2X applications are supported:
\- LM-UU reference point for location management as specified in 3GPP TS
23.434 [6];
\- GM-UU reference point for group management as specified in 3GPP TS 23.434
[6];
\- CM-UU reference point for configuration management as specified in 3GPP TS
23.434 [6];
\- IM-UU reference point for identity management as specified in 3GPP TS
23.434 [6];
\- KM-UU reference point for key management as specified in 3GPP TS 23.434
[6]; and
\- NRM-UU reference point for network resource management as specified in 3GPP
TS 23.434 [6].
### 6.4.12 VAE-E
The interactions related to V2X application supports functions between the VAE
servers in a distributed deployment are supported by VAE-E reference point. If
CAPIF is supported, this reference point is an instance of CAPIF-2/2e
reference point as specified in 3GPP TS 23.222 [21].
## 6.5 External reference points
### 6.5.1 General
The reference points between the V2X application layer and the 3GPP network
systems (EPS, 5GS) are described in the following clauses.
### 6.5.2 V2
The reference point V2 supports the interactions between V2X AS and the V2X
control function of the EPS and is specified in 3GPP TS 23.285 [5].
### 6.5.3 Rx
The reference point Rx supports the interactions between the V2X AS and the
PCRF and is specified in 3GPP TS 29.214 [12]. The functions for Rx reference
point are supported by the network resource management server of the SEAL.
### 6.5.4 MB2-C
The reference point MB2-C supports the control plane interactions between the
V2X AS and the BM-SC and is specified in 3GPP TS 29.468 [13]. The functions
for MB2-C reference point are supported by the network resource management
server of the SEAL.
### 6.5.5 MB2-U
The reference point MB2-U supports the user plane interactions between the V2X
AS and the BM-SC and is specified in 3GPP TS 29.468 [13]. The functions for
MB2-U reference point are supported by the VAE server.
### 6.5.6 xMB-C
The reference point xMB-C supports the control plane interactions between the
V2X AS and the BM-SC and is specified in 3GPP TS 26.346 [10]. The functions
for xMB reference point are supported by the network resource management
server of the SEAL.
### 6.5.7 xMB-U
The reference point xMB-U supports the user plane interactions between the V2X
AS and the BM-SC and is specified in 3GPP TS 26.346 [10]. The functions for
xMB-U reference point are supported by the VAE server.
### 6.5.8 T8
The reference point T8 supports the interactions between the V2X AS and the
SCEF and is specified in 3GPP TS 23.682 [8]. The functions of T8 interface are
supported by VAE server and the functions related to location management of T8
are supported by the location management server.
### 6.5.9 N5
The reference point N5 supports the interactions between the V2X AS and the
PCF and is specified in 3GPP TS 23.501 [20]. The functions of N5 interface are
supported by VAE server.
### 6.5.10 N33
The reference point N33 supports the interactions between the V2X AS and the
NEF and is specified in 3GPP TS 23.501 [20]. The functions of N33 interface
are supported by VAE server and the functions related to location management
of N33 are supported by the location management server.
# 7 Deployment models
## 7.1 General
This clause describes deployments of the functional model specified in clause
6. The reference points utilized from underlying 3GPP network as specified in
clause 6.5 is represented as 3GPP interfaces in the deployment models.
NOTE: The representation of SEAL functionalities in the vertical deployment is
specified in 3GPP TS 23.434 [6].
## 7.2 Deployment of VAE server
The VAE server deployments can be centralized and distributed.
### 7.2.1 Centralized deployments
A centralized deployment is where a single VAE server offers the VAE
capabilities to one or more V2X application specific server. The VAE server
and the V2X application specific server may be co-located in a single physical
entity. The VAE server may be deployed either in the PLMN operator domain or
deployed in the V2X service provider domain. The VAE server connects with the
3GPP network systems (EPS, 5GS) in one or more PLMN operator domain. When VAE
server and V2X application specific server are co-located in a single physical
entity, the Vs reference point between the VAE server and the V2X application
enabler server may not be used.
Figure 7.2.1-1 illustrates a deployment of the VAE server and the V2X
application specific server in a single physical entity and deployed in V2X
service provider domain. The VAE server may be deployed in a separate physical
entity from the V2X application specific server in the V2X service provider
domain. In such deployments, the Vs reference point is used for the
communication between the VAE server and the V2X application specific server.
Figure 7.2.1-1: VAE server co-located with V2X application specific server in
a single physical entity
Figure 7.2.1-2 illustrates a deployment of the VAE server in the PLMN operator
domain and the V2X application specific server in the V2X service provider
domain. The Vs reference point is used for the communication between V2X
application specific server and the VAE server. The VAE server may support
multiple V2X application specific servers.
Figure 7.2.1-2: VAE server deployed in the PLMN operator domain
Figure 7.2.1â€‘3 illustrates a deployment of the VAE server which connects to
the 3GPP network systems (EPS, 5GS) in multiple PLMN operator domain. The VAE
server may be co-located with the V2X application specific server in a single
physical entity or deployed in different physical entities.
Figure 7.2.1-3: Deployment of VAE server with connections to 3GPP network
systems in multiple PLMN operator domains
Figure 7.2.1â€‘4 illustrates a deployment of the VAE server which provides VAE
capabilities to multiple V2X application specific servers over Vs reference
point and connects to the 3GPP network systems (EPS, 5GS) in multiple PLMN
operator domain.
Figure 7.2.1-4: Deployment of VAE server with connections to multiple V2X
application specific servers
### 7.2.2 Distributed deployment
The distributed deployment is where multiple VAE servers are deployed either
in the V2X service provider domain or in the PLMN operator domain. The
distributed deployment of the VAE servers provide geographical coverage or
support multiple PLMN operator domains in a geographical location. The VAE
servers interconnect via VAE-E and the Vs reference point is used for
interaction between V2X application specific server and the VAE server.
Figure 7.2.2-1 illustrates the deployment of VAE servers in multiple PLMN
operator domain and provides VAE capabilities to the V2X application specific
server deployed in the V2X service provider domain. The V2X application
specific server connects via Vs to the VAE servers.
Figure 7.2.2-1: Distributed deployment of VAE servers in multiple PLMN
operator domain without interconnection between VAE servers
Figure 7.2.2-2 illustrates the deployment of multiple VAE servers deployed in
multiple PLMN operator domains. The V2X application specific server connects
via Vs to the VAE server. The interconnection between VAE servers is via VAE-E
and supports the V2X applications for the V2X UEs connected to the VAE servers
in multiple PLMN operator domains.
Figure 7.2.2-2: Distributed deployment of VAE servers in multiple PLMN
operator domain with interconnection between VAE servers
Figure 7.2.2-3 illustrates the deployment of multiple VAE servers in PLMN
operator domain based on geographical coverage. The V2X application specific
server connects via Vs to the VAE server 1. The VAE servers interconnect via
VAE-E and support the V2X communications to the V2X UEs connected to the VAE
servers.
Figure 7.2.2-3: Distributed deployment of VAE servers in PLMN operator domain
Figure 7.2.2-4 illustrates the deployment of multiple VAE servers in the V2X
service provider domain where VAE server 1 and VAE server 2 connect with 3GPP
network system of PLMN operator domain 1 and PLMN operator domain 2
respectively. The PLMN operator domains provide coverage to different
geographical areas. The V2X application specific server connects via Vs to the
VAE server 1. The VAE servers interconnect via VAE-E and support the V2X
applications for the V2X UEs connected via both the PLMN operator domains.
Figure 7.2.2-4: Distributed deployment of VAE servers in V2X service provider
domain
# 8 Identities
## 8.1 V2X user identity (V2X user ID)
The V2X user ID can be an instance of the VAL user ID as specified in 3GPP TS
23.434 [6]. The V2X user ID is a globally unique identifier within the V2X
service that represents the V2X user. The V2X user ID shall be a URI. The V2X
user ID is used for authentication and authorization purposes for providing
the V2X service towards the V2X user via the V2X UE. The V2X user ID also
indicates the V2X service provider with whom the V2X user has a V2X service
agreement. The V2X user may have V2X service agreement with several V2X
service providers and thus will have obtained unique V2X user ID per V2X
service provider.
Based on the service agreement, each V2X user ID is mapped to a V2X UE ID.
## 8.2 V2X UE identity (V2X UE ID)
The V2X UE ID can be an instance of the VAL UE ID as specified in 3GPP TS
23.434 [6]. The V2X UE ID is a unique identifier within the V2X service that
represents the V2X UE. The V2X UE ID is mapped to an application specific UE
identity (e.g. StationID as specified in ETSI TS 102 894-2 [16] or GPSI as
specified in 3GPP TS 23.003 [23]). Due to privacy considerations, the V2X UE
ID may be changed. The V2X UE ID is used to address the V2X UE in order to
send V2X messages.
## 8.3 V2X service identity (V2X service ID)
The V2X service ID can be an instance of the VAL service ID as specified in
3GPP TS 23.434 [6]. The V2X service ID is a globally unique identifier that
represents the V2X service. A V2X application server provides a list of V2X
services towards the V2X UE. Each V2X service is uniquely identified by a V2X
service ID, which is an identifier of the V2X application. The V2X service ID
can be used for policy mapping, QoS handling for V2X communication and V2X
message distribution, as specified in 3GPP TS 23.285 [5]. An identifier of a
V2X service, e.g. ITS-AID or PSID specified in ETSI TS 102 965 [17] and ISO TS
17419 [18], can be used as a V2X service ID.
## 8.4 V2X group identity (V2X group ID)
The V2X group ID is a globally unique identifier within the V2X service that
represents a set of V2X users and the corresponding V2X UE. The set of V2X
users may belong to the same or different V2X service provider. It indicates
the V2X application server where the group is defined.
## 8.5 Geographical area identity (GEO ID)
The V2X service provider defined identity of a geographical area. The GEO ID
supports different representations of geographical area (e.g. geo-fence, tile
identifiers). The VAE server maintains the mapping of the GEO ID with the
location corresponding to one or more V2X UE IDs.
The GEO ID may support the format of a URI.
# 9 Procedures and information flows
## 9.1 Usage of SEAL services
### 9.1.1 Group management service
#### 9.1.1.1 General
The VAE capabilities (VAE client and VAE server) utilize the group management
service procedures (e.g. creation, join, leave) of SEAL based on the group
configuration information (e.g. group join policy, group leader) provided by
the V2X application specific layer. The decisions and corresponding triggers
(e.g. group creation, join, leave) for group management are responsibility of
the V2X application specific layer and the details of the group management are
abstracted by the VAE capabilities. The group management service of SEAL
provides support for platooning groups and pre-arranged groups for V2X
communications.
#### 9.1.1.2 Information flows
The following information flows of group management service of SEAL as
specified in 3GPP TS 23.434 [6] are applicable for the V2X applications:
\- Group creation request specified in subclause 10.3.2.1;
\- Group creation response specified in subclause 10.3.2.2;
\- Group creation notification specified in subclause 10.3.2.3;
\- Group information query request specified in subclause 10.3.2.4;
\- Group information query response specified in subclause 10.3.2.5;
\- Group membership update request specified in subclause 10.3.2.6;
\- Group membership update response specified in subclause 10.3.2.7;
\- Group membership notification specified in subclause 10.3.2.8;
\- Group deletion request specified in subclause 10.3.2.9;
\- Group deletion response specified in subclause 10.3.2.10;
\- Group deletion notification specified in subclause 10.3.2.11;
\- Group information request specified in subclause 10.3.2.12;
\- Group information response specified in subclause 10.3.2.13;
\- Group information subscribe request specified in subclause 10.3.2.14;
\- Group information subscribe response specified in subclause 10.3.2.15;
\- Group information notify request specified in subclause 10.3.2.16;
\- Group information notify response specified in subclause 10.3.2.17;
\- Store group configuration request specified in subclause 10.3.2.18;
\- Store group configuration response specified in subclause 10.3.2.19;
\- Get group configuration request specified in subclause 10.3.2.20;
\- Get group configuration response specified in subclause 10.3.2.21;
\- Subscribe group configuration request specified in subclause 10.3.2.22;
\- Subscribe group configuration response specified in subclause 10.3.2.23;
\- Notify group configuration request specified in subclause 10.3.2.24;
\- Notify group configuration response specified in subclause 10.3.2.25;
\- Configure VAL group request specified in subclause 10.3.2.26;
\- Configure VAL group response specified in subclause 10.3.2.27;
\- Group announcement specified in subclause 10.3.2.28;
\- Group registration request specified in subclause 10.3.2.29;
\- Group registration response specified in subclause 10.3.2.30;
\- Identity list notification specified in subclause 10.3.2.31;
\- Group de-registration request specified in subclause 10.3.2.32;
\- Group de-registration response specified in subclause 10.3.2.33;
\- Location-based group creation request specified in clause 10.3.2.34;
The usage of the above information flows are clarified as below:
\- The identity list is the list of V2X UE IDs.
\-- During group creation the identity list contains the list of V2X UE IDs
that are part of the group to be created. If the group member list is empty,
an empty group is created; and
\- The VAL service ID list is the list of V2X service IDs whose service
communications are to be enabled on the group.
\- Table 9.1.1.2.1-1 describes the VAL service specific information
corresponding to the V2X applications.
Table 9.1.1.2.1-1: V2X service specific information for group creation request
* * *
Information element Status Description V2X group ID O The group ID to be used
for the V2X group. If group ID is not provided then the group ID should be
allocated by group management server. Group join policy O (NOTE) The policy
information to be enforced by the group management server for members joining
the group. Group leader ID O (NOTE) The identity information of the V2X user
to be used for user controlled group join. NOTE: If the information elements,
identity list specified in 3GPP TS 23.434 [6] is empty and group leader ID is
not included, then group join policy information element must be included.
* * *
\- The VAL group ID is the V2X group ID.
\- The identity is the V2X UE ID;
\- The VAL server is the VAE server;
\- The VAL group configuration information is the V2X group configuration
information;
\- The VAL group configuration data is the V2X group configuration
information;
\- The VAL group information reference is the V2X group information reference;
and
\- The VAL services requested is the V2X service IDs.
#### 9.1.1.3 Procedures
The following procedures of group management service of SEAL as specified in
3GPP TS 23.434 [6] are applicable for the V2X applications:
\- Group creation specified in subclause 10.3.3;
\-- Group creation support is provided for the V2X applications (e.g.
platooning and cooperative short distance grouping) to provide a dedicated
group for the V2X UEs to communicate with each other. The group creation
supports group without any group members to enable group member joining.
\- Group information query specified in subclause 10.3.4;
\- Group membership specified in subclause 10.3.5;
\- Group configuration management specified in subclause 10.3.6;
\- Location-based group creation specified in clause 10.3.7;
\- Group announcement and join specified in subclause 10.3.8;
\- Group member leave specified in clause 10.3.9;
\- Temporary groups specified in clause 10.3.10;
### 9.1.2 Configuration management service
#### 9.1.2.1 General
The VAE capabilities (VAE client and VAE server) utilize configuration
management service procedures of SEAL to support V2X services for unicast and
multicast delivery over LTE-Uu. The configuration management service of SEAL
is utilized for offline configuration (before the V2X UE is receiving the V2X
service from the V2X application specific server) and online configuration
(during the V2X UE is receiving the V2X service from the V2X application
specific server).
#### 9.1.2.2 Information flows
The following information flows of configuration management service are
applicable for the V2X applications:
\- Get VAL UE configuration request specified in subclause 11.3.2.1 of 3GPP TS
23.434 [6];
\- Get VAL UE configuration response specified in subclause 11.3.2.2 of 3GPP
TS 23.434 [6];
The usage of the above information flows are clarified as below:
\- The VAL UE ID is the V2X UE ID;
\- VAL service ID is the V2X service ID; and
\- VAL UE configuration data is the V2X UE configuration data. The V2X UE
configuration data includes:
\-- V2X server USD information as specified in 3GPP TS 23.285 [5]; and
\-- V2X application server address information as specified in 3GPP TS 23.285
[5] and transport port for unicast.
#### 9.1.2.3 Procedures
The following procedures of configuration management service are applicable
for the V2X applications:
\- VAL UE configuration data specified in subclause 11.3.3 of 3GPP TS 23.434
[6].
\-- Once the V2X UEs are connected to the serving PLMN, the V2X UE is
configured with configuration data (e.g. local service information) for
receiving V2X services.
### 9.1.3 Location management service
#### 9.1.3.1 General
The VAE capabilities (VAE client and VAE server) utilize location management
(e.g. network location of UEs) service procedures of SEAL to support V2X
services.
#### 9.1.3.2 Information flows
The following information flows of location management service of SEAL as
specified in 3GPP TS 23.434 [6] are applicable for the V2X applications:
\- Location reporting configuration request specified in subclause 9.3.2.0;
\- Location reporting configuration response specified in subclause 9.3.2.1;
\- Location information report specified in subclause 9.3.2.2;
\- Location information request specified in subclause 9.3.2.3;
\- Location reporting trigger specified in subclause 9.3.2.4;
\- Location information subscription request specified in subclause 9.3.2.5;
\- Location information subscription response specified in subclause 9.3.2.6;
\- Location information notification specified in subclause 9.3.2.7;
\- Location reporting configuration cancel request specified in clause
9.3.2.8;
\- Get UE(s) information request specified in clause 9.3.2.9;
\- Get UE(s) information response specified in clause 9.3.2.10;
The usage of the above information flows are clarified as below:
\- The identity is the V2X UE ID or V2X group ID;
\- The set of identities is the V2X UE ID;
\- The identity list or identities list is the list of V2X UE IDs; and
\- The VAL server is the VAE server.
#### 9.1.3.3 Procedures
The following procedures of location management service of SEAL as specified
in 3GPP TS 23.434 [6] are applicable for the V2X applications:
\- Event-triggered location reporting procedure specified in subclause 9.3.3;
\- On-demand location reporting procedure specified in subclause 9.3.4;
\- Client-triggered or VAL server-triggered location reporting procedure
specified in clause 9.3.5;
\- Location reporting event triggers configuration cancel specified in
subclause 9.3.6;
\- Location information subscription procedure specified in subclause 9.3.7;
\- Event-trigger location information notification procedure specified in
subclause 9.3.8;
\- On-demand usage of location information procedure specified in subclause
9.3.9;
\- Obtaining UE(s) information at a location specified in clause 9.3.10;
### 9.1.4 Identity management service
#### 9.1.4.1 General
The VAE capabilities (VAE client and VAE server) utilizes identity management
service procedures (e.g. authentication and authorization of UEs) of SEAL to
support V2X services.
#### 9.1.4.2 Information flows
The information flows of identity management service are specified in
subclause 12.3.2 of 3GPP TS 23.434 [6] and are applicable for the V2X
applications.
#### 9.1.4.3 Procedures
The following procedures of identity management service are applicable for the
V2X applications:
\- General user authentication and authorization for VAL services specified in
subclause 12.3.3 of 3GPP TS 23.434 [6].
### 9.1.5 Key management service
#### 9.1.5.1 General
The VAE capabilities (VAE client and VAE server) utilizes key management
service procedures of SEAL to support V2X services.
#### 9.1.5.2 Information flows
The information flows of key management service are specified in subclause
13.3 of 3GPP TS 23.434 [6] and are applicable for the V2X applications.
#### 9.1.5.3 Procedures
The procedures of key management service are specified in subclause 13.3 of
3GPP TS 23.434 [6] and are applicable for the V2X applications.
### 9.1.6 Network resource management service
#### 9.1.6.1 General
The VAE capabilities (VAE client and VAE server) utilizes network resource
management service procedures of SEAL to support V2X services.
#### 9.1.6.2 Information flows
The following information flows of network resource management service of SEAL
specified in 3GPP TS 23.434 [6] are applicable for the V2X applications:
\- Network resource adaptation request specified in subclause 14.3.2.1;
\- Network resource adaptation response specified in subclause 14.3.2.2;
\- MBMS bearer announcement specified in subclause 14.3.2.3;
\- MBMS listening status report specified in subclause 14.3.2.4;
\- MBMS suspension reporting instruction specified in subclause 14.3.2.5;
\- Resource request specified in subclause 14.3.2.6;
\- Resource response specified in subclause 14.3.2.7;
\- Resource modification request specified in subclause 14.3.2.8;
\- Resource modification response specified in subclause 14.3.2.9;
\- MBMS bearers request specified in subclause 14.3.2.10;
\- MBMS bearers response specified in subclause 14.3.2.11; and
\- User plane delivery mode specified in subclause 14.3.2.12;
#### 9.1.6.3 Procedures
The following procedures of network resource management service of SEAL
specified 3GPP TS 23.434 [6] are applicable for the V2X applications:
\- Request for unicast resources at VAL service communication establishment
specified in subclause 14.3.3.2.1;
\- Request for modification of unicast resources specified in subclause
14.3.3.2.2;
> \- Network resource adaptation specified in subclause 14.3.3.3.1;
>
> \- Request for unicast resources at VAL service communication establishment
> specified in subclause 14.3.3.3.2;
>
> \- Request for modification of unicast resources specified in subclause
> 14.3.3.3.3;
\- Use of pre-established MBMS bearers specified in subclause 14.3.4.2;
\- Use of dynamic MBMS bearer establishment specified in subclause 14.3.4.3;
\- MBMS bearer announcement over MBMS bearer specified in subclause 14.3.4.4;
\- MBMS bearer quality detection specified in subclause 14.3.4.5;
\- Service continuity in MBMS scenarios specified in subclause 14.3.4.6;
\- MBMS suspension notification specified in subclause 14.3.4.7;
\- MBMS bearer event notification specified in subclause 14.3.4.8; and
\- Switching between MBMS bearer and unicast bearer specified in subclause
14.3.4.9.
## 9.2 V2X UE registration
### 9.2.1 General
The VAE capabilities provide support for registering V2X UEs at the VAE
server. The VAE server uses the registration information to distribute V2X
messages to the appropriate V2X UEs.
### 9.2.2 Information flows
#### 9.2.2.1 Registration request
Table 9.2.2.1-1 describes the information flow for a VAE client to register
for specific V2X messages at the VAE server.
Table 9.2.2.1-1: Registration request
* * *
Information element Status Description V2X UE ID M Identifier of the V2X UE
(e.g. StationID specified in ETSI TS 102 894-2 [16]) V2X service ID M V2X
service ID, the V2X UE is interested in receiving (e.g. PSID or ITS AID of
ETSI ITS DENM, ETSI ITS CAM) Supported RAT types O RAT types (e.g. NR, E-UTRA)
supported by the V2X UE
* * *
#### 9.2.2.2 Registration response
Table 9.2.2.2-1 describes the information flow for VAE server to respond for
registration request from the VAE client.
Table 9.2.2.2-1: Registration response
* * *
Information element Status Description Result M Result from the VAE server in
response to registration request indicating success or failure
* * *
#### 9.2.2.3 Deregistration request
Table 9.2.2.3-1 describes the information flow for a VAE client to deregister
from receiving specific V2X messages from the VAE server.
Table 9.2.2.3-1: Deregistration request
* * *
Information element Status Description V2X UE ID M Identifier of the V2X UE
V2X service ID M V2X service ID the V2X UE is no longer interested in
receiving (e.g. PSID or ITS AID of ETSI ITS DENM, ETSI ITS CAM)
* * *
#### 9.2.2.4 Deregistration response
Table 9.2.2.4-1 describes the information flow for VAE server to respond for
deregistration request from the VAE client.
Table 9.2.2.4-1: Deregistration response
* * *
Information element Status Description Result M Result from the VAE server in
response to the deregistration request
* * *
### 9.2.3 V2X UE registration for receiving V2X messages
#### 9.2.3.1 General
This subclause describes the procedures for V2X UE to register for receiving
V2X messages from the V2X AS. The process is triggered by the V2X UE who is
interested in receiving certain V2X messages.
#### 9.2.3.2 Procedure
Pre-condition:
\- The VAE client has discovered the VAE server and is aware of the address of
the VAE server (e.g. FDQN).
Figure 9.2.3.2-1: Procedure for registering the VAE client at the VAE server
1\. The VAE client sends a registration request to the VAE server.
2\. The VAE server sends an acknowledgement to the VAE client.
### 9.2.4 V2X UE deregistration from receiving V2X messages
#### 9.2.4.1 General
This subclause describes the procedures for V2X UE to deregister from
receiving V2X messages from the V2X AS. The process is triggered by the V2X UE
who is no longer interested in receiving certain V2X messages.
#### 9.2.4.2 Procedure
Pre-condition:
\- The VAE client has already registered with the VAE server as described in
subclause 9.2.3.
Figure 9.2.4.2-1: Procedure for deregistering the VAE client at the VAE server
1\. The VAE client sends a deregistration request to the VAE server.
2\. The VAE server sends a deregistration response to the VAE client.
## 9.3 Application level location tracking
### 9.3.1 General
The VAE capabilities provide support for location tracking of the VAE
client(s) as per the geographical information provided by the V2X application
specific layer.
### 9.3.2 Information flows
#### 9.3.2.1 Subscription request
Table 9.3.2.1-1 describes the information flow for a VAE client to subscribe
to a geographical area at the VAE server.
Table 9.3.2.1-1: Subscription request
* * *
Information element Status Description V2X UE ID M Identifier of the V2X UE
GEO ID M Geographical area identifier (e.g. URI, tile identifier, geo-fence
tile identifier)
* * *
#### 9.3.2.2 Subscription response
Table 9.3.2.2-1 describes the information flow for VAE server to respond for
geographical area subscription request from the VAE client.
Table 9.3.2.2-1: Subscription response
* * *
Information element Status Description Result M Result from the VAE server in
response to subscription request indicating success or failure
* * *
#### 9.3.2.3 Unsubscription request
Table 9.3.2.3-1 describes the information flow for a VAE client to unsubscribe
from a geographical area at the VAE server.
Table 9.3.2.3-1: Unsubscription request
* * *
Information element Status Description V2X UE ID M Identifier of the V2X UE
GEO ID M Geographical area identifier (e.g. URI, tile identifier, geo-fence
tile identifier)
* * *
#### 9.3.2.4 Unsubscription response
Table 9.3.2.4-1 describes the information flow for VAE server to respond for
geographical area unsubscription request from the VAE client.
Table 9.3.2.4-1: Unsubscription response
* * *
Information element Status Description Result M Result from the VAE server in
response to unsubscription request
* * *
### 9.3.3 Tracking geographical location at the VAE server
#### 9.3.3.1 General
This subclause describes the procedures for tracking V2X UEs geographical
location at the VAE server. The V2X UE provides geographical area information
to the VAE server upon moving to a new geographical area. This information is
used by the VAE server to create and update the mapping between the
geographical location and the identification of the V2X UE.
#### 9.3.3.2 Procedure
Pre-conditions:
1\. The VAE client is provisioned with GEO ID information;
2\. The VAE client has registered with the VAE server as described in
subclause 9.2.3; and
3\. The VAE client has subscribed to a certain geographical area identifier
(GEO ID A) in order to receive V2X messages for this area.
Figure 9.3.3.2-1: Procedure for tracking the client geographical area at the
VAE server
1\. Upon entering a new geographical area, the client subscribes to the
geographic area Geo ID B.
2\. The VAE server sends a subscription response to the VAE client.
3\. The VAE server stores the new geographical area information GEO ID B with
the client identification information V2X UE ID.
4\. The client unsubscribes from the old geographical area GEO ID A.
5\. The VAE server sends an unsubscription response to the VAE client.
6\. The VAE server removes the old geographical area information GEO ID A
associated with the client identification information V2X UE ID.
## 9.4 V2X message delivery
### 9.4.1 General
The VAE capabilities provide support for V2X message distribution originated
from the V2X application specific layer. The message communication
corresponding V2X applications and services are the responsibility of the V2X
application specific layer entities. The VAE capabilities abstract the message
distribution aspects from the V2X application specific layer.
### 9.4.2 Information flows
#### 9.4.2.1 V2X message
Table 9.4.2.1-1 describes the information flow for a VAE server to deliver a
V2X message to the VAE client.
Table 9.4.2.1-1: V2X message
* * *
Information element Status Description V2X UE ID M Identifier of the
destination V2X UE V2X message payload (see NOTE) M V2X message payload
carried by the V2X message (e.g. ETSI ITS DENM [15]) V2X service ID M The V2X
service ID to which the V2X message belongs to GEO ID O Geographical area
identifier Reception report required O Indicates whether a reception report is
required for the V2X message NOTE: The V2X message is V2X application/service
specific and is not specified in this specification.
* * *
#### 9.4.2.2 V2X message reception report
Table 9.4.2.2-1 describes the information flow for VAE client to respond to
reception of a V2X message from the VAE server.
Table 9.4.2.2-1: V2X message reception report
* * *
Information element Status Description Result M Result from the VAE client in
response to V2X message reception indicating success or failure
* * *
#### 9.4.2.3 V2X group message
Table 9.4.2.3-1 describes the information flow for a VAE server to deliver a
V2X message to a group of VAE clients.
Table 9.4.2.3-1: V2X group message
* * *
Information element Status Description V2X group ID M The group ID for which
the V2X message is addressed. V2X message payload (see NOTE) M V2X message
payload carried by the V2X message (e.g. ETSI ITS DENM [15]). V2X service ID M
The V2X service ID to which the V2X group message belongs to. Geo ID O
Geographical area identifier Reception report required O Indicates whether a
reception report is required for the V2X group message NOTE: The V2X message
is V2X application/service specific and is not specified in this
specification.
* * *
#### 9.4.2.4 V2X uplink message
Table 9.4.2.4-1 describes the information flow for a VAE client to transmit a
V2X message to the VAE server.
Table 9.4.2.4-1: V2X uplink message
* * *
Information element Status Description V2X UE ID M Identifier of the sender
V2X UE V2X message payload (see NOTE) M V2X message payload carried by the V2X
uplink message (e.g. ETSI ITS DENM [15]) V2X service ID M V2X service ID, the
V2X UE is sending to the V2X AS GEO ID (s) O Geographical area identifier of
the originating V2X message from the V2X UE Reception report required O
Indicates whether a reception report is required for the uplink V2X message
NOTE: The V2X message payload is V2X application/service specific and is not
specified in this specification.
* * *
#### 9.4.2.5 V2X uplink message reception report
Table 9.4.2.5-1 describes the information flow for a VAE server in response to
a received V2X message from the VAE client.
Table 9.4.2.5-1: V2X uplink message reception report
* * *
Information element Status Description Result M Result from the VAE server in
response to V2X message indicating success or failure
* * *
#### 9.4.2.6 Subscribe V2X message delivery request
Table 9.4.2.6-1 describes the information flow for a V2X application specific
server to subscribe with VAE server for V2X messages.
Table 9.4.2.6-1: Subscribe V2X message delivery request
* * *
Information element Status Description V2X application specific server
identity information M Identity information of the V2X application specific
server. V2X service ID M The V2X service ID to which the V2X application-
specific server registers to GEO ID O The geographical area identifier to
which the V2X application-specific server registers to Endpoint information M
Information of the endpoint of the V2X application specific server to which
the uplink messages have to be sent.
* * *
#### 9.4.2.7 Subscribe V2X message delivery response
Table 9.4.2.7-1 describes the information flow for a VAE server to provide a
response to the V2X application specific server for subscription request for
V2X uplink message delivery.
Table 9.4.2.7-1: Subscribe V2X uplink message delivery response
* * *
Information element Status Description Subscription identifier (NOTE) M The
subscription identifier corresponding to the request Result M Result from the
VAE server indicating subscription success or failure. NOTE: If Result
indicates failure, the value of the subscription identifier in the response is
ignored.
* * *
#### 9.4.2.8 Unsubscribe V2X message delivery request
Table 9.4.2.8-1 describes the information flow for a V2X application specific
server to unsubscribe with VAE server for V2X messages.
Table 9.4.2.8-1: Unsubscribe V2X message delivery request
* * *
Information element Status Description Subscription identifier M The
subscription identifier provided by the VAE server.
* * *
#### 9.4.2.9 Unsubscribe V2X message delivery response
Table 9.4.2.9-1 describes the information flow for a VAE server to provide a
response to the V2X application specific server for unsubscription request for
V2X uplink message delivery.
Table 9.4.2.9-1: Unsubscribe V2X uplink message delivery response
* * *
Information element Status Description Result M Result from the VAE server
indicating unsubscription success or failure.
* * *
### 9.4.3 Message delivery to target geographical areas from the VAE server
#### 9.4.3.1 General
This subclause describes the procedures for delivering V2X messages to
registered V2X UEs at the VAE server in targeted geographical areas.
#### 9.4.3.2 Procedure
Pre-conditions:
1\. One or more VAE clients have registered with the VAE server as described
in subclause 9.2.3;
2\. One or more VAE clients have subscribed to geographical area GEO ID;
3\. The VAE server has created a mapping between geographical area information
and client identification as described in subclause 9.3.3; and
4\. The V2X application-specific server has subscribed with the VAE server as
described in subclause 9.4.6.
Figure 9.4.3.2-1: Procedure for delivering messages to target geographical
areas from the VAE server
1\. The application-specific server sends a V2X message of a service with V2X
Service ID (e.g. ETSI ITS DENM, ETSI ITS CAM) with target geographical area
GEO ID.
2\. The VAE server retrieves the list of registered and subscribed clients for
the V2X message targeting geographical area GEO ID and determines the
clients\' identification V2X UE ID.
3\. The VAE server transmits the message to each VAE client using the client
identification.
4\. The VAE client provides the V2X message to the application-specific
client.
5\. The VAE client provides a V2X message reception report to the VAE server
if indicated in the V2X message.
### 9.4.4 V2X group message distribution
#### 9.4.4.1 General
This subclause describes the procedures for V2X group delivery from the VAE
server to the VAE clients.
#### 9.4.4.2 Procedure
Pre-conditions:
1\. The VAE client has registered for receiving V2X group messages as
described in in subclause 10.3.8 of 3GPP TS 23.434 [6].
2\. The V2X application-specific server has subscribed with the VAE server as
described in subclause 9.4.6.
Figure 9.4.4.2-1: Procedure for delivering V2X group messages to VAE clients
1\. The V2X application-specific server provides a V2X message for
distribution to V2X group with V2X Group ID.
2\. The VAE server delivers the V2X message to all registered VAE clients with
V2X Group ID.
3\. The VAE client provides the V2X message to the V2X application-specific
client.
4\. The VAE client may provide a V2X message reception report to the VAE
server.
### 9.4.5 Uplink V2X message delivery
#### 9.4.5.1 General
This subclause describes the procedures for delivering V2X messages from the
V2X UE to the V2X application server.
#### 9.4.5.2 Procedure for uplink message delivery
Pre-conditions:
1\. The VAE client has discovered the VAE server as described in subclause
9.1.2.
2\. The VAE client has registered to a V2X service identified by a V2X Service
ID as described in subclause 9.2.
3\. The V2X application specific server has performed the subscription as
specified in clause 9.4.6.
Figure 9.4.5.2-1: Procedure for delivering messages from V2X UE to the V2X
application server
1\. The V2X application-specific client sends a V2X uplink message to the VAE
client.
2\. The VAE client determines the VAE server for receiving the V2X uplink
message with V2X Service ID.
3\. The VAE client transmits the V2X uplink message to the VAE server.
4\. The VAE server provides the V2X uplink message to the endpoint of V2X
application-specific server(s).
5\. The VAE server may provide a V2X uplink message reception report to the
VAE client if indicated in the V2X uplink message.
### 9.4.6 Procedure for subscription to message delivery
Pre-condition:
\- The V2X application specific server is configured with the VAE server
information.
Figure 9.4.6-1: Procedure for subscription to message delivery
1\. The V2X application-specific server sends a subscribe V2X message delivery
request to the VAE server including the information of V2X service ID, GEO ID
and the end point address at which the uplink messages from the V2X UE to the
V2X application specific server are to be delivered.
2\. The VAE server stores the subscription information and provides an
acknowledgement via a subscribe V2X message delivery response message to the
V2X application specific server.
## 9.5 File Distribution
### 9.5.1 General
The VAE capabilities provide support for file distribution to the V2X
application specific layer. The VAE capabilities abstract the aspects like
file chunking, QoE management, file delivery from the V2X application specific
layer.
### 9.5.2 Use of MBMS \"files\" session type
The VAE server acts as a content provider and the VAE client acts as an MBMS
client in the xMB reference model (subclause 4.1 in 3GPP TS 26.348 [11]).
The VAE server makes use of the xMB procedures from 3GPP TS 26.348 [11] to
create MBMS sessions whose type is set to \"files\" and to request the
delivery of files over these sessions. Before provisioning files to the BMâ€‘SC,
the VAE server prepares the file for distribution, which may include partition
of large files into smaller files or encryption.
The VAE server is responsible for translating the parameters related to the
V2X application triggering the file delivery into corresponding xMB
parameters. Table 9.5.2-1 describes the mapping between the V2X parameters and
the xMB API properties specified in 3GPP TS 26.348 [11].
Table 9.5.2-1: Mapping between V2X parameters and xMB APIs
* * *
V2X parameter Corresponding xMB API property File transfer session indicator
Session Type: Files List of files to be sent by the VAE server and their
locations File List Target geographical area for the V2X Ues Geographical Area
Information about the V2X application (e.g., software update, HD map download)
Service Class Maximum bitrate for the V2X application Max Bitrate Maximum
delay for the V2X application Max Delay QoE metrics the VAE server is
interested in receiving about the V2X application QoE Reporting Local MBMS
information or local MBMS activation indication Local MBMS information (NOTE)
NOTE: The local MBMS information as the xMB API property is defined in 3GPP TS
29.116 [22].
* * *
NOTE: The list of V2X parameters needed for file delivery is not exhaustive
and can be updated based on the specific V2X application requirements.
## 9.6 Provisioning 3GPP system information by VAE server
### 9.6.1 General
The VAE server can provision network related information like multicast (e.g.
V2X USD) to the V2X UE to further enable V2X UE to consume V2X service based
on the location and connection with the VAE server.
### 9.6.2 Information flows
#### 9.6.2.1 V2X USD announcement
Table 9.6.2.1-1 describes the information flow V2X USD announcement from the
VAE server to the VAE client.
Table 9.6.2.1-1: V2X USD announcement
* * *
Information element Status Description V2X UE ID O Identity of the V2X UE to
which the configuration is required V2X USD configuration data M The V2X USD
configuration data as specified in 3GPP TS 23.285 [5]
* * *
#### 9.6.2.2 Set PC5 parameters request
Table 9.6.2.2-1 describes the information flow set PC5 parameters request from
the VAE server to the VAE client.
Table 9.6.2.2-1: Set PC5 parameters request
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | V2X UE ID | O | Identity of the V2X UE to | | | | which the configuration is | | | | required | +-----------------------------+--------+-----------------------------+ | PC5 parameters | M | The PC5 parameters | | configuration data | | configuration data as | | | | specified in | | | | 3GPP TS 23.285 [5] and | | | | 3GPP TS 23.287 [8]. | | | | | | | | For PC5 provisioning in | | | | multi-operator V2X services | | | | (as specified in clause | | | | 9.15), these parameters may | | | | be the joint provisioning | | | | policies/parameters to be | | | | used by the V2X-UEs within | | | | the V2X service. | +-----------------------------+--------+-----------------------------+
#### 9.6.2.3 Set PC5 parameters response
Table 9.6.2.3-1 describes the information flow set PC5 parameters response
from the VAE client to the VAE server.
Table 9.6.2.3-1: Set PC5 parameters response
* * *
Information element Status Description Result M The result whether setting the
PC5 parameters received by the VAE server was successful or not.
* * *
### 9.6.3 V2X USD provisioning
#### 9.6.3.1 General
This subclause describes the procedure for VAE server provisioning the V2X USD
information to V2X UE via V1-AE reference point for V2X communication using
MBMS.
#### 9.6.3.2 Procedure
Figure 9.6.3.2-1 illustrates the procedure for provisioning V2X USD to the V2X
UE via V1-AE reference point.
Pre-conditions:
1\. The V2X UE has connected to the VAE server.
2\. If multicast delivery mode is used, the MBMS bearer being used is
activated by the VAE server.
Figure 9.6.3.2-1: V2X USD provisioning
1\. The VAE server is triggered for providing V2X USD to V2X UE.
2\. The VAE server sends the V2X USD announcement to the VAE client in the V2X
UE with the information of the V2X USDs corresponding to the V2X applications.
The V2X USD information consists of TMGI, list of SAIs, frequency and SDP
information for V2X applications\' communication using MBMS. The details of
V2X USD are specified in subclause 4.4.7.2 in 3GPP TS 23.285 [5]. This message
can be sent via unicast or multicast.
3\. Upon receiving the V2X USD announcement, the VAE client of the V2X UE
stores the received V2X USDs.
NOTE: The principles for storing and applying precedence when V2X USD is
configured via different mechanisms (e.g. MBMS service announcement or pre-
configuration or by VAE server via V1â€‘AE reference point) is as per V2X
service provider\'s policy.
4\. The VAE client of the V2X UE provides an acknowledgement to the VAE server
of the V2X AS. This step is optional when the announcement is sent via
multicast.
### 9.6.4 PC5 parameters provisioning
#### 9.6.4.1 General
This subclause describes the procedure for the VAE server provisioning the PC5
parameter provisioning information to the V2X UE via V1-AE reference point for
V2X communication on PC5. The configuration information includes the
configuration parameters specified in 3GPP TS 23.285 [5], 3GPP TS 23.287 [8]
and additional application related configuration parameters.
#### 9.6.4.2 Procedure
Figure 9.6.4.2-1 illustrates the procedure for provisioning PC5 parameters to
the V2X UE via V1 reference point.
Pre-conditions:
1\. The V2X UE has discovered and connected to the VAE server.
2\. If multicast delivery mode is used, the MBMS bearer being used is
activated by the VAE server.
Figure 9.6.4.2-1: PC5 parameters provisioning
1\. The VAE server sends the set PC5 parameters request to the VAE client with
the information of the PC5 parameters. The PC5 parameters information are
specified in subclause 4.4.1.1.2 in 3GPP TS 23.285 [5] and in subclause
5.1.2.1 in 3GPP TS 23.287 [8]. This message can be sent via unicast or
multicast.
2\. Upon receiving the set PC5 parameters request, the VAE client stores the
received PC5 parameters in the V2X UE.
3\. The VAE client provides an acknowledgement by sending the set PC5
parameters response to the VAE server.
## 9.7 Network monitoring by the V2X UE
### 9.7.1 General
The V2X UE subscribes for network monitoring information from the VAE server.
Such network monitoring information may be used by the V2X UE for network
connectivity adaptations (e.g. switching between different modes of operations
for V2V communications).
### 9.7.2 Information flows
#### 9.7.2.1 Network monitoring information subscription request
Table 9.7.2.1-1 describes the information flow network monitoring information
subscription request from the VAE client to the VAE server.
Table 9.7.2.1-1: Network monitoring information subscription request
* * *
Information element Status Description V2X UE ID M Identity of the V2X UE
subscribing for the network monitoring information Subscription event M
Identify one or multiple network monitoring events (e.g. uplink degradation,
congestion, overload, coverage) Triggering criteria M Identify when the VAE
server will send the monitoring reports to the VAE client. Area information O
Identify the area where the event is subscribed. V2X UE ID(s) O Identify the
V2X UE(s) to be monitored. V2X service ID(s) O Identify the V2X service which
is related with the event.
* * *
#### 9.7.2.2 Network monitoring information subscription response
Table 9.7.2.2-1 describes the information flow network monitoring information
subscription response from the VAE server to the VAE client.
Table 9.7.2.2-1: Network monitoring information subscription response
* * *
Information element Status Description V2X UE ID M Identity of the V2X UE
Result M Indicates success or failure
* * *
#### 9.7.2.3 Network monitoring information notification
Table 9.7.2.3-1 describes the information flow network monitoring information
notification from the VAE server to the VAE client.
Table 9.7.2.3-1: Network monitoring information notification
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | V2X UE ID | M | Identity of the subscribed | | | | V2X UE | +-----------------------------+--------+-----------------------------+ | Network monitoring | M | This includes information | | information (NOTE 2) | | on network status for the | | | | triggering criteria, and | | | | may include the following | | | | parameters: | | | | | | | | - Uplink quality level | | | | | | | | - Congestion information | | | | (NOTE 1) | | | | | | | | - Geographical Area (cell | | | | area or TA for which the | | | | monitoring applies) | | | | | | | | - Time Validity (the | | | | period for which the | | | | monitoring applies) | | | | | | | | - Coverage level and | | | | bearer level events | | | | (optionally, for MBMS) | | | | | | | | - QoS Sustainability | +-----------------------------+--------+-----------------------------+ | V2X UE ID (NOTE 2) | O | Identify the V2X UE that | | | | the network monitoring | | | | information is related. | +-----------------------------+--------+-----------------------------+ | NOTE 1: With respect to the | | | | congestion information | | | | acquired from 5GC, it may | | | | be exact values for | | | | congestion status reported | | | | by NWDAF to NEF or | | | | abstracted values e.g. | | | | (High, Medium, Low) which | | | | can be reported by the NEF. | | | | | | | | NOTE 2: If subscription is | | | | for multiple V2X UE IDs, | | | | then multiple Network | | | | monitoring information IEs | | | | corresponding to V2X UE | | | | ID(s) can be present. | | | +-----------------------------+--------+-----------------------------+
### 9.7.3 V2X UE subscription for network monitoring information
#### 9.7.3.1 General
This subclause describes the procedure for V2X UE subscription for network
monitoring information.
#### 9.7.3.2 Procedure
Figure 9.7.3.2-1 illustrates the procedure where the V2X UE subscribes for the
network monitoring information from the VAE server.
Pre-condition:
\- The VAE client of the V2X UE is connected to the VAE server and is
authorized to access the network monitoring information.
Figure 9.7.3.2-1: V2X UE subscription for network monitoring information
1\. The VAE client sends a network monitoring information subscription request
to the VAE server. The area information and/or the V2X UE ID(s) (e.g., the
initiating V2X UE ID, the V2X UE ID(s)) is included to indicate whether per
area or per UE(s) networking monitoring information is subscribed.
2\. The VAE server checks for the authorization of the VAE client to access
the network monitoring information and if allowed, stores the subscription
information corresponding to the V2X UE.
3\. The VAE server sends a network monitoring information subscription
response to the VAE client including the result of the subscription (i.e.
success or failure).
### 9.7.4 Notifications for network monitoring information
#### 9.7.4.1 General
This subclause describes the procedure for notification of network monitoring
information from the VAE server.
#### 9.7.4.2 Procedure
Figure 9.7.4.2-1 illustrates the procedure where the VAE server sends
notification of the network monitoring information to the V2X UEs.
Pre-conditions:
1\. The VAE server acting as a SCS/AS is configured with the SCEF information
and is authorized to exchange information with the SCEF as specified in
subclause 4.9 in 3GPP TS 23.682 [8]. The VAE server has subscribed to QoS
notification service from 5GS (e.g. PCF/NWDAF). The notification may either
include the request for QoS sustainability events as specified in 3GPP TS
23.288 [24] or can include a QoS change notification requests as provided by
SMF and specified in 3GPP TS 23.287 [8];
2\. The V2X UE1 and V2X UE2 have subscribed for the network monitoring
information at the VAE server.
3\. The VAE server may be aware of the RAT type the V2X UE supports from the
registration of VAE client.
Figure 9.7.4.2-1: Notifications for network monitoring information
1\. The VAE server communicates with the SCEF to receive network monitoring
information as per the procedure in subclause 4.9 of 3GPP TS 23.682 [8],
and/or communicates with NEF or NWDAF to receive QoS monitoring information
and/or data analytics information of 5GS as defined in 3GPP TS 23.288 [24] for
the requesting area and/or the V2X UE(s). The VAE server may determine to
receive network monitoring information from EPC or 5GC or both considerting
the RAT type provided by the UE. The VAE server subscription to QoS monitoring
service from 5GS (e.g. PCF/NWDAF) may be active for a certain period of time
or a given geographical area and/or the V2X UE(s). The monitoring may either
include the request for QoS sustainability events as specified in 3GPP TS
23.288 [24], or can include a QoS change notification requests as provided by
SMF and specified in 3GPP TS 23.287 [8]. The reporting may be configured by
the application enabler layer for a given area, V2X UE(s), time, periodicity
etc taking into account the service requirement and other parameters (e.g.
expected congestion in certain area, time of the day, road conditions). Based
on the subscription, as specified in 3GPP TS 23.287 [8], 5GS provides the
extended QoS monitoring report, over N33 interface. This report may come
either from NWDAF or SMF via PCF/NEF.
2\. The network monitoring information (e.g. uplink or downlink link
degradations, congestions, etc.) available at the VAE server about the on-
going V2V session(s) and the network status is based on the original network
monitoring information provided by the SCEF in step 1, and/or based on QoS
monitoring report or data analytics from 5GS as specified in step 1. The VAE
server determines the network monitoring information to send to the UE.
3\. The monitoring information is sent to the subscribed V2X UEs via network
monitoring information notification.
## 9.8 Switching modes of operations for V2V communications
### 9.8.1 General
The V2X services need to support different modes of operation for V2V (PC5 and
Uu) communications. The V2X UE makes the decision to switch between different
modes of operation for V2V communications considering the V2V service KPIs as
specified in 3GPP TS 22.186 [3]. The V2X application layer may provide the
network monitoring information or recommendation for the communication mode to
assist the V2X UE in making the switching decision for the operation modes
selection.
The V2X UE determines switching of the mode of operation for V2V sessions
based on several factors including the received network monitoring information
as specified in subclause 9.7 and the PC5 communication quality information
and assistance information received from the VAE server. The V2X UE switches
the mode of operation and engages in either direct (PC5) or indirect (Uu)
session as specified in subclause 23.14 of 3GPP TS 36.300 [14].
### 9.8.2 Information flows
#### 9.8.2.1 Communication status request
Table 9.8.2.1-1 describes the information flow of communication status request
from the VAE server to the VAE client.
Table 9.8.2.1-1: Communication status request
* * *
Information element Status Description V2X UE ID M Identity of the V2X UE
requested for communication status V2X service ID O Identity of the V2X
service being requested
* * *
#### 9.8.2.2 Communication status response
Table 9.8.2.2-1 describes the information flow of communication status
response from the VAE client to the VAE server.
Table 9.8.2.2-1: Communication status response
* * *
Information element Status Description V2X UE ID M Identity of the V2X UE V2V
communication mode M V2V communication mode supported by the V2X UE (e.g. LTE
PC5, NR PC5) V2X service ID O Identify of the V2X service corresponding to the
communication status Cell information O Cell information (e.g. NR cell, E-UTRA
cell) of which the V2X UE is located Communication link status information O
Communication status of the V2X UE (e.g. uplink/downlink data rates, packet
loss and etc.)
* * *
#### 9.8.2.3 V2V communication assistance info
Table 9.8.2.3-1 describes the information flow of V2V communication assistance
info from the VAE server to the VAE client.
Table 9.8.2.3-1: V2V communication assistance info
* * *
Information element Status Description V2X UE ID M Identity of the V2X UE V2X
service ID O Identify of the V2X service corresponding to the recommendation
information V2V communication assistance information M Assistance information
for V2V communication mode switching to the V2X UE (e.g. recommended V2V
communication mode, location, V2X service type, time validity, V2X service
status, V2X application requirement, etc.)
* * *
### 9.8.3 Assistance for V2V communication mode switching
#### 9.8.3.1 General
The VAE server provides assistance information for V2V communication mode
switching to the V2X UE. To provide the assistance the VAE server may acquire
the application requirements, the communication staus of the V2X UEs and the
network monitoring information from the 3GPP network.
#### 9.8.3.2 Procedure
Figure 9.8.3.2-1 illustrates the procedure of assistance for V2V communication
mode switching.
Pre-conditions:
1\. The VAE server is aware of the RAT type the V2X UE supports.
Figure 9.8.3.2-1: Assistance for V2V communication mode switching
1\. The VAE server may have acquired the application requirement from the V2X
application specific server. The application requirements may include the
conditions corresponding to the V2V communication modes (e.g. network status,
UE\'s location, QoS, V2X service type, and other influential parameters for
V2V communication mode).
2\. The VAE server may send the communication status request to the VAE client
to acquire the current communication status of the UE.
3\. The VAE client responses to the VAE server with the communication status
information (e.g. the current V2V communication mode, communication link
quality and etc.)
4\. The VAE server may have received the network monitoring information from
the 3GPP network.
5\. Based on information acquired above the VAE server generates assistance
information (configuration or recommendation) for V2V communication mode
switching.
6\. The VAE server sends the V2V communication assistance information to the
VAE client.
## 9.9 V2X service discovery
### 9.9.1 General
The VAE server provides service information (e.g. available V2X services) to
the V2X UE to enable the V2X UE to register and receive V2X services over LTE-
Uu. The V2X services are identified by V2X service IDs.
### 9.9.2 Information flows
#### 9.9.2.1 Get V2X UE service discovery request
Table 9.9.2.1-1 describes the information flow get V2X UE service discovery
request from the VAE client to the VAE server and between VAE servers.
Table 9.9.2.1-1: Get V2X UE service discovery request
* * *
Information element Status Description V2X UE ID M Identity of the V2X UE
requesting the service discovery information. V2X UE location information O
Location information of the V2X UE
* * *
#### 9.9.2.2 Get V2X UE service discovery response
Table 9.9.2.2-1 describes the information flow get V2X UE service discovery
response from the VAE server to the VAE client and between VAE servers.
Table 9.9.2.2-1: Get V2X UE service discovery response
+----------------------------+----------+----------------------------+ | Information element | Status | Description | +----------------------------+----------+----------------------------+ | Result | M | Indicates the success or | | | | failure of getting the | | | | service discovery | | | | information | +----------------------------+----------+----------------------------+ | V2X UE service discovery | O (NOTE) | The V2X UE service | | information | | discovery data includes: | | | | | | | | - List of available V2X | | | | services identified by V2X | | | | service IDs | | | | | | | | - Mapping of the V2X | | | | services to V2X | | | | application server address | | | | as specified in | | | | 3GPP TS 23.285 [5] | +----------------------------+----------+----------------------------+ | NOTE: If the Result | | | | information element | | | | indicates failure then V2X | | | | UE service discovery | | | | information element is not | | | | included. | | | +----------------------------+----------+----------------------------+
### 9.9.3 V2X UE service discovery
#### 9.9.3.1 General
This subclause describes the procedure for providing V2X service information
to the V2X UE via V1-AE reference point for unicast V2X communication over
LTE-Uu.
#### 9.9.3.2 Procedure
The procedure for V2X UE obtaining the V2X UE service discovery information is
illustrated in figure 9.9.3.2â€‘1.
Pre-conditions:
1\. The V2X UE has connected to the VAE server.
2\. The VAE server has received information about available V2X services from
the V2X application-specific server.
Figure 9.9.3.2-1: V2X UE obtains the service discovery information
1\. The VAE client sends a get V2X UE service discovery request to the VAE
server for obtaining V2X UE service discovery information.
2\. The VAE server sends get V2X UE service discovery response to the VAE
client. This message carries the V2X UE service discovery information.
### 9.9.4 V2X service discovery across multiple V2X service providers
#### 9.9.4.1 General
This clause describes the procedure for V2X UE (having V2X application
subscription with V2X service provider A) obtaining the V2X UE service
discovery information (offered by V2X service provider B) while in the service
area of V2X service provider B.
#### 9.9.4.2 Procedure
The procedure for V2X UE obtaining the V2X UE service discovery across
multiple V2X service providers is illustrated in figure 9.9.4.2â€‘1.
Pre-conditions:
1\. The V2X UE has connected to the VAE server 1 of V2X service provider A
with whom the V2X UE has a V2X application subscription with.
2\. The V2X UE is in the service area of the VAE server 2 operated by V2X
service provider B.
3\. The service area and VAE server 2 mapping information of V2X service
provider B is available at VAE server 1 of V2X service provider A.
Figure 9.9.4.2-1: V2X service discovery across multiple V2X service providers
1\. The VAE client sends a get V2X UE service discovery request to the VAE
server 1 for obtaining V2X UE service discovery information with V2X UE ID and
current V2X UE location.
2\. The VAE server 1 determines, based on the V2X UE location that the V2X UE
is in the service area operated by the VAE server 2 of the V2X service
provider B. The VAE server 1 sends the get V2X UE service discovery request to
the VAE server 2 to get the V2X application server information for the V2X UE.
The V2X UE location is included in the request.
3\. The VAE server 2 determines the local V2X application server information
based on UE location, and sends get V2X UE service discovery response to the
VAE server 1. This message carries the local V2X application server
information.
4\. The VAE server 1 forwards the get V2X UE service discovery response to the
VAE client.
Editor\'s note: Whether and how to resolve user privacy issue for this
procedure is FFS.
## 9.10 V2X service continuity
### 9.10.1 General
The VAE server supports V2X service continuity by making available the local
service information based on geographical areas to the V2X UEs.
### 9.10.2 Information flows
#### 9.10.2.1 Service continuity request
Table 9.10.2.1-1 describes the information flow from a VAE server to issue a
service continuity request to other VAE servers.
Table 9.10.2.1-1: Service continuity request
* * *
Information element Status Description GEO ID M Geographical area identifier
(e.g. URI, tile identifier, geo-fence tile identifier) V2X service ID M PSID
or ITS-AID the V2X UE is interested in receiving (e.g. ETSI ITS DENM, ETSI ITS
CAM)
* * *
#### 9.10.2.2 Service continuity response
Table 9.10.2.2-1 describes the information flow for a VAE server to respond to
a service continuity request from other VAE server.
Table 9.10.2.2-1: Service continuity response
* * *
Information element Status Description VAE server ID M Identifier of the VAE
server (e.g., FQDN) Result M The result whether the VAE server can serve the
requested GEO ID and V2X Service ID
* * *
#### 9.10.2.3 Local service information request (VAE client to VAE server)
Table 9.10.2.3-1 describes the information flow local service information
request from the VAE client to the VAE server.
Table 9.10.2.3-1: Local service information request (VAE client to VAE server)
* * *
Information element Status Description V2X UE ID M Identity of the V2X UE
requesting the service discovery information. GEO ID M Geographical area
identifier for which the local service information is requested
* * *
#### 9.10.2.3a Local service information request (between VAE servers)
Table 9.10.2.3a-1 describes the information flow local service information
request between VAE servers.
Table 9.10.2.3a-1: Local service information request (between VAE servers)
* * *
Information element Status Description V2X UE ID O Identity of the V2X UE
requesting the service discovery information. V2X UE location M The V2X UE
location information for which the location service information is requested.
GEO ID M Geographical area identifier for which the local service information
is requested
* * *
#### 9.10.2.4 Local service information response
Table 9.10.2.4-1 describes the information flow local service information
response from the VAE server to the VAE client and between VAE servers.
Table 9.10.2.4-1: Local service information response
+----------------------------+----------+----------------------------+ | Information element | Status | Description | +----------------------------+----------+----------------------------+ | Result | M | Indicates the success or | | | | failure of getting the | | | | local service information | +----------------------------+----------+----------------------------+ | Local service information | O (NOTE) | The local service | | | | information: | | | | | | | | - V2X server USD | | | | information as specified | | | | in 3GPP TS 23.285 [5] | | | | | | | | - V2X application server | | | | address information as | | | | specified in | | | | 3GPP TS 23.285 [5] and | | | | transport port for unicast | | | | | | | | - V2X USD information as | | | | specified in | | | | 3GPP TS 23.285 [5] | +----------------------------+----------+----------------------------+ | NOTE: If the Result | | | | information element | | | | indicates failure then | | | | local service information | | | | IE is not included. | | | +----------------------------+----------+----------------------------+
### 9.10.3 V2X service continuity management
#### 9.10.3.1 General
This subclause describes the procedure to determine the VAE server for serving
a VAE client when moving to a new geographical area.
#### 9.10.3.2 Procedure
Pre-conditions:
1\. The VAE servers have been configured with the information of the other VAE
servers.
2\. The VAE servers have obtained information of the available V2X services
(e.g. identified by PSID or ITS-AIDs) and their corresponding geographical
area association from the V2X application.
3\. The VAE server 1 has received a geographic location update for a
geographic area outside its coverage, with GEO ID, from a VAE client as
described in subclause 9.3.
Figure 9.10.3.2-1: Procedure for V2X service continuity management
1\. VAE server 1 sends a service continuity request to other VAE servers (2
... n).
NOTE: The VAE server may send the service continuity request to all VAE
servers it is connected to or to a subset of VAE servers, e.g. within the same
PLMN.
2\. The VAE servers provide a service continuity response to VAE server 1.
### 9.10.4 Dynamic local service information
#### 9.10.4.1 General
For the V2X scenarios like extended sensors, platooning, the V2X UEs may be
connected to the serving PLMN, but the V2X application server information may
change as per the geographical location. Also it is not practically feasible
to provide all the V2X server USDs to the V2X UE via the initial V2X UE
configuration by the PLMN. It is hence required that the V2X server USDs may
be provided considering the mobility of the V2X UE. This subclause describes
the procedure for obtaining the local service information by the V2X UE via
V1-AE.
#### 9.10.4.2 Procedure
Figure 9.10.4.2-1 illustrates the procedure for obtaining the dynamic local
service information by the V2X UE via V1-AE.
Pre-conditions:
1\. The V2X UE is connected to the VAE server in geographical area A.
2\. The V2X UE has no local service information for geographical area B.
3\. If multicast delivery mode is used, the MBMS bearer being used is
activated by the VAE server.
Figure 9.10.4.2-1: Obtaining dynamic local service information by V2X UE via
V1-AE
1\. The VAE client sends a local service information request to the VAE server
(responsible for geographic location A) which may include mobility information
like the geographic locations (geographic location B).
2\. The VAE server determines the local service information (e.g. V2X server
USD(s), V2X USD) corresponding to the geographic locations information
received in step 1.
3\. The VAE server provides the local service information (e.g. V2X server
USD(s), V2X USD) with the corresponding geographic locations information to
the VAE client via a local service information response. The V2X USD
information consists of TMGI, list of SAIs, frequency and SDP information with
the local service information for local V2X application server discovery. The
details of V2X server USD are specified in subclause 4.4.7.3 in 3GPP TS 23.285
[5]. This message can be sent via unicast or multicast.
4\. Upon receiving the local service information in step 3, the VAE client
stores the received information.
Editor\'s note: The impact of edge application enabler study (FS_EDGEAPP) on
this procedure is FFS.
### 9.10.5 Procedure for dynamic local service information in multiple V2X
service provider scenario
The procedure for V2X UE (having V2X application subscription with V2X service
provider A) obtaining the dynamic local service information (offered by V2X
service provider B) while in the service area of V2X service provider B is
illustrated in figure 9.10.5â€‘1.
Pre-conditions:
1\. The V2X UE has connected to the VAE server of V2X service provider A with
whom the V2X UE has V2X application subscription with.
2\. The V2X UE is in the service area of the VAE server 2 operated by V2X
service provider B.
3\. The service area and VAE server 2 information of V2X service provider B
mapping is available at VAE server 1 of V2X service provider A.
Figure 9.10.5-1: Dynamic local service information in multiple V2X service
provider scenario
1\. The VAE client sends a local service information request to the VAE server
1 (responsible for geographic location A) with V2X UE ID and current V2X UE
location.
2\. The VAE server 1 determines the V2X UE is in the service area of VAE
server 2 of V2X service provider B, and the local service information
corresponding to the service area of VAE server 2 is not available at VAE
server 1. If the local service information corresponding to the service area
of VAE server 2 is available, then go to step 5.
3\. The VAE server 1 sends the local service information request to the VAE
server 2 to get the local service information information for the V2X UE. The
V2X UE location is included in the request.
4\. The VAE server 2 determines the local service information (e.g. V2X server
USD(s), V2X USD) with the corresponding geographic locations information based
on UE location, and sends local service information response to the VAE server
1. This message carries the local service information. Upon receiving the
local service information corresponding to the service area of VAE server 2,
the VAE server 1 stores the received information.
5\. The VAE server 1 provides the local service information to the VAE client.
Upon receiving the local service information, the VAE client stores the
received information.
## 9.11 V2X application resource management
### 9.11.1 General
The VAE server utilizes the NRM server of the SEAL to support the network
resource management aspects towards the V2X applications. The VAE server
supports the V2X UEs connected to EPS networks of different PLMN operators.
### 9.11.2 Information flows
#### 9.11.2.1 V2X application requirement request
Table 9.11.2.1-1 describes the information flow V2X application requirement
request from the V2X application specific server to the VAE server.
Table 9.11.2.1-1: V2X application requirement request
* * *
Information element Status Description V2X UE ID M (NOTE) Identity of the V2X
UE for which V2X application requirement is initiated. V2X group ID M (NOTE)
Identity of the V2X group for which the V2X application requirement is
initiated. V2X service ID M The V2X service ID for which application
requirement corresponds to. V2X application requirement M The requirement for
application change. E.g. service levels for application service. End point
information M The end point information to which the notification shall be
sent. NOTE: Either of the information element should be present.
* * *
#### 9.11.2.2 V2X application requirement response
Table 9.11.2.2-1 describes the information flow V2X application requirement
response from the VAE server to the V2X application specific server.
Table 9.11.2.2-1: V2X application requirement response
* * *
Information element Status Description Result M The result of the V2X
application requirement request.
* * *
#### 9.11.2.3 V2X application requirement notification
Table 9.11.2.3-1 describes the information flow V2X application requirement
notification from the VAE server to the V2X application specific server.
Table 9.11.2.3-1: V2X application requirement notification
* * *
Information element Status Description Result M The result of the network
resource adaptation corresponding to the V2X application requirement.
* * *
### 9.11.3 V2X application resource adaptation
#### 9.11.3.1 General
This subclause describes the procedure for V2X application resource adapation
where the VAE server maps the V2X application requirement to network resource
request for single or groups of V2X UEs.
#### 9.11.3.2 Procedure
Figure 9.11.3.2-1 illustrates the procedure where the VAE server supports V2X
application resource adaptation.
Pre-conditions:
1\. The VAE server has the KPI information for the V2X services.
2\. The VAE server is provided with the network monitoring information as per
the subclause A.3.
3\. The VAE server is configured with the NRM server information.
Figure 9.11.3.2-1: V2X application resource adaptation
1\. The V2X application specific server sends a V2X application requirement
request to the VAE server for an adaptation of the V2X service operation per
V2X UE or per group of UEs.
2\. The VAE server translates the V2X application requirement to different
network resource requirement for group of users, which may be a subset of V2X
UEs within the V2X group that will be affected by application adaptation.
3\. If the V2X application requirement is successfully translated to the
network resource requirement, the VAE server sends a V2X application
requirement response to the V2X application specific server.
4\. The VAE server performs network resource adaptation by interacting with
the NRM server as specified in the 3GPP TS 23.434 [6] for the V2X application
requirement received in step 1.
5\. Based on the result of the network resource adaptation in step 4
corresponding to step 1, the VAE server sends a V2X application requirement
notification to the V2X application specific server.
## 9.12 Dynamic group management
### 9.12.1 General
Some of the V2X scenarios require group-based communication (e.g. platooning).
Unlike V2X communication for safety scenarios where all V2X UEs in the
communication range receive broadcasted communication, the group-based
communication is expected to be received only by the V2X UEs of the members of
that group. However in some scenarios the V2X UEs are required to be
determined dynamically (with the assistance of the V2X application server or
independently by the V2X UEs when they are not connected to the network)
during the operation. Also each V2X application group has to be mapped to a
ProSe Layer-2 group ID in order to avoid any interference during PC5
communications for the V2X application groups. The ProSe Layer-2 Group ID is
only used in PC5 V2X group communication (without the involvement of the V2X
application server).
### 9.12.2 Information flows
#### 9.12.2.1 Push Layer-2 group ID mapping
Table 9.12.2.1-1 describes the information flow push layer-2 group ID mapping
from the VAE server to the VAE client and between the VAE clients.
Editor\'s note: Whether the procedures and information flows for dynamic group
management are to be moved to SEAL is FFS.
Table 9.12.2.1-1: Push Layer-2 group ID mapping
* * *
Information element Status Description Dynamic group information M Group
information including dynamic group ID, group definition, group leader ID
ProSe Layer-2 Group ID M ProSe Layer-2 Group ID corresponding to the dynamic
group information
* * *
#### 9.12.2.2 Configure dynamic group request
Table 9.12.2.2-1 describes the information flow for configure dynamic group
request from the V2X application specific sever to the VAE server.
Table 9.12.2.2-1: Configure dynamic group request
* * *
Information element Status Description Dynamic group information M Group
information including dynamic group ID, group definition, group leader ID
Endpoint information M End point information to which the configure dynamic
group notification has to be sent
* * *
#### 9.12.2.3 Configure dynamic group response
Table 9.12.2.3-1 describes the information flow for configure dynamic group
response from the VAE server to the V2X application specific sever.
Table 9.12.2.3-1: Configure dynamic group response
* * *
Information element Status Description Result M Result from the VAE server in
response to the configure dynamic group request.
* * *
#### 9.12.2.4 Configure dynamic group notification
Table 9.12.2.4-1 describes the information flow for configure dynamic group
notification from the VAE server to the V2X application specific sever.
Table 9.12.2.4-1: Configure dynamic group notification
* * *
Information element Status Description Dynamic group information M Group
information including dynamic group ID, UE ID (joined or left UE(s))
* * *
#### 9.12.2.5 Identity list notification
Table 9.12.2.5-1 describes the information flow identity list notification
from the VAE client to the VAE server.
Table 9.12.2.5-1: Identity list notification
* * *
Information element Status Description Dynamic group information M Group
information including dynamic group ID, UE ID (joined or left UE(s))
* * *
#### 9.12.2.6 Dynamic group information update request
Table 9.12.2.6-1 describes the information flow for dynamic group information
update request from the VAE Client to the VAE server.
Table 9.12.2.6-1: Dynamic group information update request
* * *
Information element Status Description Dynamic group information to update M
Dynamic group information to update, e.g. group leader ID Endpoint information
M End point information to which response has to be sent
* * *
#### 9.12.2.7 Dynamic group information update response
Table 9.12.2.7-1 describes the information flow for dynamic group information
update response from the VAE server to the VAE client.
Table 9.12.2.7-1: Dynamic group information update consent response
* * *
Information element Status Description Result M Result from the VAE server in
response to the Dynamic group information update request.
* * *
#### 9.12.2.8 Dynamic group information update consent request
Table 9.12.2.8-1 describes the information flow for dynamic group information
update consent request from the VAE Server to the VAE client from whom consent
is required.
Table 9.12.2.8-1: Dynamic group information update consent request
* * *
Information element Status Description Information for consent M Dynamic group
information for consent, e.g. group leader ID
* * *
#### 9.12.2.9 Dynamic group information update consent response
Table 9.12.2.9-1 describes the information flow for dynamic group information
update consent response from the VAE client to the VAE server.
Table 9.12.2.9-1: Dynamic group information update consent response
* * *
Information element Status Description Result M Result from the VAE server in
response to the Dynamic group information update consent request.
* * *
#### 9.12.2.10 Dynamic group information update notification
Table 9.12.2.10-1 describes the information flow for dynamic group information
update notification from the VAE server to the V2X application specific sever.
Table 9.12.2.10-1: Dynamic group information update notification
* * *
Information element Status Description Dynamic group information M Dynamic
group information which has been updated, e.g. group leader ID
* * *
#### 9.12.2.11 Dynamic group information update indication
Table 9.12.2.11-1 describes the information flow for group information update
indication from the VAE server to the VAE client.
Table 9.12.2.11-1: Dynamic group information update notification
* * *
Information element Status Description Dynamic group information M Dynamic
group information for which update request has been received, e.g. group
leader ID
* * *
#### 9.12.2.12 Dynamic group information update consent request (Off network)
Table 9.12.2.12-1 describes the information flow for group information update
request from the VAE client to the VAE client.
Table 9.12.2.12-1: Group information update request
* * *
Information element Status Description Information for consent M Dynamic group
information for consent, e.g. group leader ID
* * *
#### 9.12.2.13 Dynamic group information update consent response (Off network)
Table 9.12.2.13-1 describes the information flow for group information update
consent response from the VAE client to the VAE server.
Table 9.12.2.13-1: Dynamic group information update consent response
* * *
Information element Status Description Result M Result from the VAE server in
response to the Dynamic group information update consent request.
* * *
### 9.12.3 On-network dynamic group creation
#### 9.12.3.1 General
The V2X application specific server is responsible for V2X dynamic group
formation (including information like group ID assignment, group definition),
membership management (e.g. user authorization). VAE layer supports V2X UEs in
the Uu communication range assigning a ProSe Layer-2 Group ID for application
layer V2X dynamic group formation.
#### 9.12.3.2 Procedure
The procedure for on-network dynamic group creation is illustrated in figure
9.12.3.2-1.
Pre-condition:
1\. V2X application dynamic group is defined at the V2X application specific
server with V2X UE assigned as dynamic group leader.
2\. VAE server has a pool of the ProSe Layer-2 Group IDs that can be assigned
to dynamic groups
Figure 9.12.3.2-1: On-network dynamic group creation
1\. The V2X application specific server requests the VAE server to configure
dynamic group corresponding to the dynamic group information (e.g. dynamic
group ID, group definition, group leader).
2\. To enable PC5 communication, the VAE server assigns ProSe Layer-2 Group ID
to the received dynamic group information from the available ProSe Layer-2
Group ID pool.
3\. The VAE server responds to the V2X application specific server for the
request to configure dynamic group.
4\. The VAE server triggers a push request including ProSe Layer-2 Group ID
corresponding to the dynamic group information to the VAE client.
5\. The VAE client stores the received PC5 communication parameters
corresponding to the dynamic group information received from the VAE server.
NOTE 1: The VAE client may further announce the dynamic group information
including the corresponding ProSe Layer-2 Group ID to the other VAE clients
within the PC5 communication proximity on a PC5 channel dedicated for V5-AE
communications, enabling more V2X UEs to join the dynamic group.
NOTE 2: When there is loss of connectivity with the network by the V2X UEs,
service continuity is ensured by the V2X UEs switching to PC5 communication
using the VAE server assigned ProSe Layer-2 Group ID corresponding to the
dynamic group formation.
### 9.12.4 Off-network dynamic group creation
#### 9.12.4.1 General
The V2X application specific client is responsible for V2X dynamic group
information (including information like group ID assignment, group
definition). VAE layer on the client supports assigning a ProSe Layer-2 Group
ID for application layer V2X dynamic group formation.
#### 9.12.4.2 Procedure
The procedure for off-network dynamic group creation is illustrated in figure
9.12.4.2-1.
Pre-condition:
1\. VAE clients are provisioned ProSe Layer-2 Group ID(s) generation rules
corresponding to the group information or
2\. VAE client(s) are configured with the unique pool of ProSe Layer-2 Group
IDs, when they are in coverage area of the VAE server.
Figure 9.12.4.2-1: Off-network dynamic group creation
1\. The V2X application specific client 2 requests the VAE client 2 to
configure dynamic group corresponding to the dynamic group information (e.g.
dynamic group ID, group definition, group leader).
2\. Each VAE client generates ProSe Layer-2 Group ID independently based on
the provisioned ProSe Layer-2 Group ID(s) generation rules for its group
information or the VAE client 2 assigns ProSe Layer-2 Group ID from the pool
of configured ProSe Layer-2 Group IDs.
3\. VAE client may further announce the dynamic group information including
the corresponding ProSe Layer-2 Group ID to the other VAE clients within the
PC5 communication proximity on a PC5 channel dedicated for V5-AE
communications, enabling more V2X UEs to join the dynamic group.
4\. The VAE client stores the PC5 communication parameters corresponding to
the dynamic group information received from another VAE client.
### 9.12.5 On-network dynamic group notification
#### 9.12.5.1 General
Once the on-network dynamic group is created as defined in subclause 9.12.3,
the VAE client notifies the VAE server about changes in the group (i.e. UE
joins or leaves the group) and finally the V2X application specific server is
notified with such information.
#### 9.12.5.2 Procedure
The procedure for on-network dynamic group notification is illustrated in
figure 9.12.5.2-1.
Pre-condition:
1\. V2X application dynamic group is created as defined in subclause 9.12.3.
Figure 9.12.5.2-1: On-network dynamic group notification
1\. The VAE client sends identity list notification to the VAE server about
group member changes.
2\. Upon receipt of the identity list notification from the VAE client, the
VAE server further notifies the V2X application specific server about the
newly joined or left group member(s).
### 9.12.6 On network dynamic group information update procedure
#### 9.12.6.1 General
This subclause provides procedures to update dynamic group information of an
on-network V2X dynamic group.
#### 9.12.6.2 VAE client initiated on network dynamic group information update
procedure
The procedure for on-network dynamic group information (e.g. group leader)
update is illustrated in figure 9.12.6.2-1.
Pre-conditions:
1\. The on network dynamic group has already been defined and V2X UE A and V2X
UE B are members of the group;
2\. V2X UE A is the current group leader; and
3\. The V2X application specific client in V2X UE A has determined to update
the group information (e.g., update group leader ID from identity of V2X UE A
to identity of V2X UE B) and informed the updates and other relevant
information about the update (e.g. if the update is temporary, like time
bound, or permanent) to VAE client A to update the group information.
Figure 9.12.6.2-1: VAE client initiated on network dynamic group information
update procedure
1\. The VAE client A sends a Dynamic group information update request to the
VAE server. The request includes the group-ID of the group for which group
information update request is sent. The request also includes the updated
group information (e.g. identity of V2X UE B as group leader ID) and other
relevant information about the update (e.g. if the update to the group
information are temporary and time bound or permanent).
2\. Upon receiving the Dynamic group information update request from VAE
client A, the VAE server checks for the V2X user authorization to update the
group information. If required, the VAE server also checks validity of the
updated group information (e.g. if the request is to update the group leader
ID to V2X UE B, the VAE server checks with V2X application specific server
about the capabilities of the proposed group leader V2X UE B to ensure it is
capable of sufficient fuel, sensors and applications to communicate and
coordinate with other group members to act as group leader). If required, then
the VAE server consults with V2X application specific server to ratify the
updated group information or seek changes to the requested update (e.g. a
different V2X UE as group leader). If the authorization fails or if the
updated group information is not valid, then steps 3 to 6 are skipped.
3\. If the request from the VAE client is authorized and the updated group
information is valid, the VAE server acknowledges the VAE client A.
4\. If the update in group information requires consent from other group
member(s) (e.g. consent from the proposed new group leader, V2X UE B, to
accept the role of group leader), then the VAE server obtains the consent from
the user as specified in clause 9.12.6.4. This step is skipped if user consent
is not required.
5\. The VAE server sends the Dynamic group information update change response
to VAE client A indicating success or failure. If:
\- the request was authorized but the updated group information was not valid,
as determined in step 2; or
\- a reject response to the Dynamic group information update consent request
was received from VAE client B;
> then, the VAE server may include suggestions for the updated group
> information (e.g. identity of the V2X UE C as potential group leader). These
> suggestions are based on consultation with the V2X application specific
> server.
6\. If the group information update request was successful, the VAE server
updates the group document.
7\. Upon successful update of the group document, the VAE server triggers a
group information update notification to other group members and to the V2X
application specific server.
#### 9.12.6.3 VAE server initiated on network dynamic group information update
procedure
The procedure for on-network dynamic group information (e.g. group leader)
update is illustrated in figure 9.12.6.3-1.
Pre-conditions:
1\. The on network dynamic group has already been defined and V2X UE A and V2X
UE B are members of the group;
2\. V2X UE A is the current group leader; and
3\. The V2X application specific server has determined to update the group
information (e.g., update group leader ID from identity of V2X UE A to
identity of V2X UE B) and informed the updates and other relevant information
about the update (e.g. if the update is temporary, like time bound, or
permanent) to the VAE server to update the group information.
Figure 9.12.6.3-1: VAE server initiated on network dynamic group information
update procedure
1\. If the update in group information requires consent from the group
member(s) (e.g. consent from the proposed new group leader, V2X UE B, to
accept the role of group leader), then the VAE server obtains the consent from
the user as specified in clause 9.12.6.4. This step is skipped if user consent
is not required.
2\. If required (e.g. when group leader ID is being changed from V2X UE A to
V2X UE B), the VAE server sends Dynamic group information update indication to
the VAE client A about the possible update to group information.
NOTE: Step 1 and step 2 can happen in parallel.
3\. Upon receiving the indication from the VAE server, the VAE client A
notifies the V2X application specific client A about the possible update to
group information.
4\. If group leader information update request is successful, the VAE server
updates the group document.
5\. Upon successful update of the group document, the VAE server triggers a
Dynamic group information update notification to other group members and to
the V2X application specific server.
#### 9.12.6.4 VAE Server taking consent from user
The procedure for the VAE server to take consent form the user is illustrated
in figure 9.12.6.4-1.
Pre-conditions:
1\. VAE client A has initiated dynamic group information update procedure as
specified in clause 9.12.6.2, or the V2X application specific server has
determined to update the dynamic group information.
Figure 9.12.6.4-1: VAE Server taking consent from user procedure
1\. If the update in group information requires consent from other group
member(s) (e.g. consent from the proposed new group leader, V2X UE B, to
accept the role of group leader), then the VAE server sends a dynamic group
information update consent request to VAE client B. The request includes the
group-ID of the group for which the request is sent. The request also includes
other relevant information about the update (e.g. if the update to the group
information are temporary and time bound or permanent).
2\. The VAE client B notifies the V2X application specific client B about the
Dynamic group information update consent request. The V2X application specific
client or the V2X user decides to accept or reject the request.
3\. The VAE client B sends a Dynamic group information update consent response
to the VAE server. The response includes the decision whether the request is
accepted or rejected.
### 9.12.7 Off network dynamic group information update procedure
This subclause provides procedures to update dynamic group information of an
off-network V2X dynamic group.
The procedure for off-network dynamic group information update procedure is
illustrated in figure 9.12.7-1.
Pre-conditions:
1\. The off network dynamic group has already been defined and V2X UE A and
V2X UE B are members of the group;
2\. V2X UE A is the current group leader;
3\. The V2X application specific client in V2X UE A has determined to update
the group information (e.g., update group leader ID from identity of V2X UE A
to identity of V2X UE B) and informed the updates and other relevant
information about the update (e.g. if the update is temporary, like time
bound, or permanent) to the VAE client in V2X UE A to update the group
information.
Figure 9.12.7-1: Off network dynamic group information update procedure
1\. If the update in group information requires consent from other group
member(s) (e.g. consent from the proposed new group leader, V2X UE B, to
accept the role of group leader), then the VAE client sends a dynamic group
information update consent request to VAE client B. The request includes the
updated group information along with the group-ID of the group. The request
also includes other relevant information about the update (e.g. if the update
to the group information are temporary and time bound or permanent).
2\. The VAE client B notifies the V2X application specific client B about the
Dynamic group information update consent request and the V2X application
specific client or the V2X user decides to accept or reject the request.
3\. The VAE client B sends a Dynamic group information update response to the
VAE client A. The response includes the decision whether the request is
accepted or rejected.
4\. If the group information update consent request is successful, then the
VAE client A sends notification to other group members.
## 9.13 Network situation and QoS monitoring and reporting
### 9.13.1 General
The VAE server supports monitoring of 3GPP systems\' network situation for V2X
services. The VAE server receives and processes access network-related
monitoring events/reports from SCEF (EPS entity of the 3GPP network system) as
specified in 3GPP TS 23.682 [8]. The monitoring events/report may also include
RAN-related resource/traffic situation information and QoS related
notifications per UE or group of UEs. The VAE server initiates monitoring of
the QoS for single or aggregately for groups of vehicles (supporting a V2X
service and being in proximity) having ongoing sessions. The information from
V2X UE related to monitoring events (e.g. location, groups, resource usage)
can be available at the VAE server using the network resource management and
location management services of the SEAL.
### 9.13.2 Information flows
#### 9.13.2.1 Monitoring request
The information flow monitoring request from VAE server (acting as SCS/AS) to
SCEF over T8 reference point is specified in clause 5.6 and clause 5.8 (when
monitoring request comprises Network Status Request) in 3GPP TS 23.682 [8].
#### 9.13.2.2 Monitoring response
The information flow monitoring response from SCEF to VAE server (acting as
SCS/AS) over T8 reference point is specified in clause 5.6 and clause 5.8
(when monitoring request comprises Network Status Response) in 3GPP TS 23.682
[8].
#### 9.13.2.3 Monitoring report
The information flow monitoring report from the SCEF to the VAE server over T8
reference point is specified in clause 5.6, clause 5.8 (when monitoring report
comprises Network Status Information Report) and clause 5.11 (when monitoring
report comprises notification of QoS/bearer level events) in 3GPP TS 23.682
[8].
### 9.13.3 Procedure
The VAE server acts as SCS/AS and initiates the procedure for monitoring with
the SCEF as specified in the clause 5.6 and clause 5.8 in 3GPP TS 23.682 [8]
by including the V2X application information corresponding to one or many V2X
UEs.
The SCEF provides the monitoring reports (including the RAN related network
situation information and QoS notification information for the corresponding
V2X application, V2X UE or group of V2X UEs) to the VAE server as specified in
the clause 5.6, clause 5.8 and clause 5.11 in 3GPP TS 23.682 [8].
## 9.14 Service negotiation with underlying 3GPP network
### 9.14.1 General
This subclause describes the procedures for the VAE server to provide service
requirements to the 3GPP network system. The Service Capability Exposure
Function (SCEF) can be used for this purpose. As described in 3GPP TS 23.682
[8], the SCEF provides a means to expose the services and capabilities
provided by 3GPP network interfaces and provides a means for the discovery of
the exposed services and capabilities.
### 9.14.2 Information flows
#### 9.14.2.1 On-demand QoS request
The information flow On-demand QoS request from VAE server (acting as SCS/AS)
to SCEF over T8 reference point is specified in clause 5.11 (when setting up a
session with required QoS) in 3GPP TS 23.682 [8].
#### 9.14.2.2 On-demand QoS response
The information flow On-demand QoS response from SCEF to VAE server (acting as
SCS/AS) over T8 reference point is specified in clause 5.11 in 3GPP TS 23.682
[8].
#### 9.14.2.3 Background data transfer request
The information flow Background data transfer request from VAE server (acting
as SCS/AS) to SCEF over T8 reference point is specified in clause 5.9
(resource management for background data transfer) in 3GPP TS 23.682 [8].
#### 9.14.2.4 Background data transfer response
The information flow Background data transfer response from SCEF to VAE server
(acting as SCS/AS) over T8 reference point is specified in clause 5.9 in 3GPP
TS 23.682 [8].
#### 9.14.2.5 Network Status Request
The information flow Network Status Request from VAE server (acting as SCS/AS)
to SCEF over T8 reference point is specified in clause 5.8 in 3GPP TS 23.682
[8].
#### 9.14.2.6 Network Status Response
The information flow Network Status Response from SCEF to VAE server (acting
as SCS/AS) over T8 reference point is specified in clause 5.8 in 3GPP TS
23.682 [8].
#### 9.14.2.7 Network Status Report
The information flow Network Status Report from SCEF to VAE server (acting as
SCS/AS) over T8 reference point is specified in clause 5.8 in 3GPP TS 23.682
[8].
#### 9.14.2.8 Network Status Acknowledgment
The information flow Network Status Acknowledgment from VAE server (acting as
SCS/AS) to SCEF over T8 reference point is specified in clause 5.8 in 3GPP TS
23.682 [8].
### 9.14.3 Communication of service requirements from the VAE server
The procedure uses the APIs defined in subclauses 5.8, 5.9 and 5.11 in 3GPP TS
23.682 [8] for setting up an AS session with required QoS procedure. This
procedure defines the information elements that need to be exchanged between
the VAE server (acting as SCS/AS) and the SCEF function during service
negotiation.
### 9.14.4 Notification generation by the SCEF function
The procedure notification generation by the SCEF function in response to the
service requirements from the VAE server. The SCEF function notifies the VAE
server if the service requirements can be satisfied. This procedure uses the
APIs defined in subclause 5.8 in 3GPP TS 23.682 [8] for informing about
potential network issues.
## 9.15 PC5 Provisioning in multi-operator V2X scenarios
### 9.15.1 General
The VAE server provides PC5 provisioning for multi-operator V2X services,
based on the requirement received by the V2X application specific server.
### 9.15.2 Information flows
#### 9.15.2.1 V2X PC5 provisioning requirement
Table 9.15.2.1-1 describes the information flow V2X PC5 provisioning
requirement from the V2X application specific server to the VAE server.
Table 9.15.2.1-1: V2X PC5 provisioning requirement
* * *
Information element Status Description V2X UE ID M (NOTE) Identity of the V2X
UE for which V2X application requirement is initiated. V2X group ID M (NOTE)
Identity of the V2X group for which the V2X application requirement is
initiated. V2X service ID M The V2X service ID for which application
requirement corresponds to. PLMN ID list O The list of the PLMN identities for
the PLMNs which offer the V2X service V2X application QoS requirements O The
application QoS requirements (reliability, delay, jitter) for the V2X service
NOTE: Either of the information element should be present.
* * *
#### 9.15.2.2 PC5 provisioning status request
Table 9.15.2.2-1 describes the information flow PC5 provisioning status
request from the VAE server to the VAE client.
Table 9.15.2.2-1: PC5 provisioning status request
* * *
Information element Status Description VAE Server ID M Identity of the VAE
server which is requester of the PC5 parameters status. V2X service ID M The
V2X service ID for which the VAE server\'s request corresponds to. PC5
provisiong status report configuration O The configuration of the VAE-client
reporting related to the PC5 Policy/Parameters status, and optionally PC5
events like PC5 unavailability, PQI load/congestion info
* * *
#### 9.15.2.3 PC5 provisioning status response
Table 9.15.2.3-1 describes the information flow PC5 provisioning status
response from the VAE client to the VAE server.
Table 9.15.2.3-1: PC5 provisioning status response
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | Result | M | The result of the PC5 | | | | provisioning status | | | | request. | +-----------------------------+--------+-----------------------------+ | PC5 Policy/Parameters | M | The report based on the PC5 | | status report | | Policy/Parameters status | | | | request. This includes | | | | up-to-date | | | | policies/parameters: | | | | | | | | - selected PQI attributes | | | | for the V2X service | | | | | | | | - PQI load information | | | | | | | | - communication range for | | | | the V2X service | | | | | | | | - a RAT /interface | | | | (NR-PC5, LTE-PC5) | | | | preference | | | | | | | | - an expected RAT | | | | availability / | | | | unavailability indication | | | | | | | | - an expected V2X-UE | | | | moving out of coverage | | | | indication | +-----------------------------+--------+-----------------------------+
#### 9.15.2.4 Void
#### 9.15.2.5 Void
#### 9.15.2.6 V2X PC5 provisioning requirement notification
Table 9.15.2.6-1 describes the information flow V2X PC5 provisioning
requirement notification from the VAE server to the V2X application specific
server.
Table 9.15.2.6-1: V2X PC5 provisioning requirement notification
* * *
Information element Status Description Result M The result corresponding to
the V2X PC5 provisioning requirement.
* * *
### 9.15.3 PC5 provisioning for multi-operator V2X services
#### 9.15.3.1 General
This subclause describes the procedure for PC5 provisioning for multi-operator
V2X services.
#### 9.15.3.2 Procedure
Figure 9.11.3.2-1 illustrates the procedure where the VAE server supports the
PC5 provisioning for multi-operator V2X services.
Pre-conditions:
1\. The V2X UEs have connected to the V2X application server.
2\. The V2X UEs are authorized by their corresponding PLMNs to use PC5
communication.
Figure 9.15.3.2-1: PC5 provisioning for multi-operator V2X services
1\. The V2X application specific server provides a V2X PC5 provisioning
requirement to the VAE server.
2\. Optionally, the VAE Server sends a PC5 provisioning status request to the
VAE Client (within the multi-operator V2X service) to receive up-to-date
information on the per PLMN provisioning policies/ parameters.
3\. Optionally, upon receiving the request as in Step 2, the VAE Client sends
a PC5 provisioning status response to VAE server, which includes a report on
the up-to-date policies /parameters per PLMN (e.g. application QoS - to - PQI
mapping, range, radio parameters) and optionally PC5 related events (PC5
expected link downgrade).
4\. The VAE Server determines the updated PC5 provisioning policies/parameters
to be jointly used across the V2X-UEs within the multi-operator V2X service.
NOTE: How the VAE server derives a merged set of PC5 policies is
implementation dependent.
5\. The VAE Server provides the PC5 parameter provisioning information to the
V2X UE via V1-AE reference point for V2X communication on PC5 as specified in
clause 9.6.4.
NOTE: How the V2X UE selects which policy to apply is implementation
dependent.
> 6\. VAE Server sends a V2X PC5 provisioning requirement notification to the
> V2X application specific server to inform on the result of the multi-
> operator PC5 provisioning.
## 9.16 Support for HD map dynamic information
### 9.16.1 General
The V2X application specific server can be responsible for managing HD maps
and providing the HD map information to the V2X application specific client on
V2X UE (e.g host vehicle controlled by advanced/remote driving). As per a
proximity range set by the application layer, the VAE layer support providing
the dynamic information (i.e. location information) required for HD maps
management to the V2X application specific server.
This feature is feasible for scenarios where host vehicle (V2X UE) is in
advanced/remote driving mode with slow to moderate speed and deployed in areas
like campus (e.g. autonomous shuttle vehicles), factories or ports (e.g.
autonomous/remotely controlled guided vehicles).
This feature utilizes the following procedures:
\- V2X application specific server subscription for host vehicle\'s HD map
dynamic information with VAE server.
\- VAE server tracking host vehicle\'s UE location with support from SEAL\'s
location management server.
\- VAE server management of dynamic UE location based group.
\- VAE server obtaining dynamic information from the UEs in proximity range of
the host vehicle.
\- VAE server notification of host vehicle\'s HD map dynamic information to
V2X application specific server.
NOTE: The details of the usage (e.g. distribution to V2X UE) of HD maps by V2X
application specific server is out of scope of this specification.
### 9.16.2 Information flows
#### 9.16.2.1 Subscribe HD map dynamic information request
Table 9.16.2.1-1 describes the information flow for a V2X application specific
server to subscribe to HD map dynamic information at the VAE server.
Table 9.16.2.1-1: Subscribe HD map dynamic information request
* * *
Information element Status Description V2X UE ID M Identifier of the host V2X
UE. Application defined proximity range information M Description of the range
information over which the HD map dynamic information is required.
* * *
#### 9.16.2.2 Subscribe HD map dynamic information response
Table 9.16.2.2-1 describes the information flow for VAE server to respond for
HD map dynamic subscription request from the V2X application specific server.
Table 9.16.2.2-1: Subscribe HD map dynamic information response
* * *
Information element Status Description Result M Result from the VAE server in
response to subscription request indicating success or failure Subscription ID
(NOTE) O Identifier of a successful subscription. NOTE: This IE is included
when the Result indicates success
* * *
#### 9.16.2.3 Notify HD map dynamic information
Table 9.16.2.3-1 describes the information flow for a V2X application specific
server to receive notification about HD map dynamic information from the VAE
server.
Table 9.16.2.3-1: Notify HD map dynamic information
* * *
Information element Status Description Subscription ID M Identifier of the
subscription for this notification. Location of the host V2X UE M The location
of the host V2X UE during the HD map dynamic information subscription. List of
V2X UEs information M The information of the V2X UEs which were detected in
the application defined proximity range. >Nearby V2X UE ID M The identifier of
nearby V2X UE >Location information M Location information of the nearby V2X
UE within the application defined proximity range >Distance information M
Distance information of the nearby V2X UE, relative to the host V2X UE.
* * *
#### 9.16.2.4 Notification of dynamic information
Table 9.16.2.4-1 describes the information flow for notification of dynamic
information from VAE client to the VAE server.
Table 9.16.2.4-1: Notification of dynamic information
* * *
Information element Status Description Subscription ID M Identifier of the
subscription for this notification. List of V2X UEs information M The
information of the V2X UEs which were detected in the proximity area of the
reporting V2X UE. >Nearby V2X UE ID M The identifier of nearby V2X UE >Local
dynamic information M The local dynamic information of the nearby V2X UE (e.g.
location)
* * *
### 9.16.3 Subscription for HD map dynamic information
Figure 9.16.3-1 describes the procedure for subscription for HD map dynamic
information.
Pre-condition:
\- V2X application specific server has registered with VAE server 1 which is
responsible for the host vehicle.
Figure 9.16.3-1: Subscription for HD map dynamic information
1\. The V2X application specific server sends a subscribe HD map dynamic
information request to the VAE server 1. The request includes the V2X UE ID of
the host vehicle, application defined proximity range information.
2\. The VAE server 1 stores the subscription information.
3\. The VAE server 1 sends subscription response to the V2X application
specific server.
4\. The VAE server 1 obtains and initiates tracking the host vehicle location
from the location management server 1 as specified in 3GPP TS 23.434 [6].
### 9.16.4 Management of dynamic UE location based group
Figure 9.16.4-1 describes the procedure for management of dynamic UE location
based group.
Pre-condition:
\- VAE server 1 has received an updated location of the host vehicle as per
procedure specified in 3GPP TS 23.434 [6].
Figure 9.16.4-1: Management of dynamic UE location group
1\. Dynamic UE location based group creation or update is triggered (e.g.
notified of the UE location of host vehicle) via the step 4 in clause 9.16.3
for the V2X UE ID of the host vehicle.
2\. VAE server 1 uses its associated LMS 1 to obtain the dynamic UE list and
the corresponding location information in the proximity area of the host
vehicle by providing the application defined proximity range and the UE
location of the host vehicle as specified in clause 9.3.10 of 3GPP TS 23.434
[6].
3\. VAE server 1 determines the list of other VAE servers 2..N operating in
the same location as per clause 9.10.2.1.
4\. For each VAE server determined in step 4, VAE server 1 requests the
dynamic UE list and its corresponding location information for the application
defined proximity range by providing the UE location of the host vehicle.
5\. The VAE server(s) 2..N obtain UE information corresponding to the UE
location and application defined proximity range from its corresponding LMS
2..N as specified in 3GPP TS 23.434 [6].
6\. As per the agreement between the V2X SPs, if the V2X UE IDs are not
shareable, then VAE server(s) 2..N may replace the V2X UE IDs with temporary
V2X UE IDs.
7\. The VAE server(s) 2..N sends get response with UE list in the UE location
and application defined proximity range to VAE server 1.
8\. If VAE server 1 has no dynamic UE location group for the V2X UE ID, the
VAE server 1 creates a dynamic UE location based group with the UE list
received from its LMS and other VAE server(s) 2..N. Further VAE server 1
stores the dynamic UE location based group. Otherwise, the VAE server 1
updates the dynamic UE location group with the latest UE information. The V2X
UEs whose locations are no more within the application defined proximity range
are removed from the dynamic UE location group.
### 9.16.5 Obtaining dynamic information of the UEs in proximity range
#### 9.16.5.1 Subscription procedure within V2X SP
Figure 9.16.5.1-1 describes the subscription procedure within V2X SP to obtain
dynamic information from the UEs in application defined proximity range.
Pre-condition:
\- VAE server 1 is tracking the host vehicle and has created the dynamic UE
location based group as per procedure in clause 9.16.4.
Figure 9.16.5.1-1: Subscription procedure within V2X SP
1\. The VAE server 1 managing the dynamic UE location group sends subscribe
dynamic information request to the VAE clients who are part of the dynamic UE
location group. These VAE clients (V2X UEs) belong to the same V2X SP as the
host vehicle. The request consists of reporting configuration (e.g. frequency
of reporting, event based).
2\. The VAE client(s) store the subscription information.
3\. The VAE client(s) send a subscription response to the VAE server 1.
#### 9.16.5.2 Subscription procedure across V2X SPs
Figure 9.16.5.2-1 describes the subscription procedure across V2X SPs to
obtain dynamic information from the UEs in application defined proximity
range.
Pre-condition:
\- VAE server 1 has created the dynamic UE location based group as per
procedure in clause 9.16.4.
Figure 9.16.5.2-1: Subscription procedure across V2X SPs
1\. The VAE server 1 managing the dynamic UE location group sends subscribe
dynamic information request to the VAE server(s) who\'s V2X UEs are part of
the dynamic UE location group. The request consists of temporary V2X UE IDs,
reporting configuration (e.g. frequency of reporting, event based).
2\. As per the agreement between V2X SPs, if V2X UE IDs are not shareable,
then VAE server 2 determines the V2X UE IDs corresponding to the temporary V2X
UE IDs provided in step 1.
3\. The VAE server 2 performs subscription procedure as specified in clause
9.16.5.1 with the VAE client(s).
4\. The VAE server 2 sends a subscription response to the VAE server 1.
NOTE: VAE server 1 initiates this procedure with other VAE servers operating
in the area.
#### 9.16.5.3 Notification procedure
Figure 9.16.5.3-1 describes the notification procedure of dynamic information
from the UEs in application defined proximity range.
Pre-condition:
\- VAE server 2 has received the notification of dynamic information from its
subscribed VAE client(s).
Figure 9.16.5.3-1: Notification procedure
1\. As per subscription procedure in clause 9.16.5.1 and clause 9.16.5.2, the
VAE client(s) and VAE server 2 (of another V2X SP) send notification of
dynamic information to the VAE server 1. The notification includes the nearby
UE information (e.g. vehicles, pedestrians), distance with nearby UEs, UEs
location information. As per agreement between V2X SPs, if V2X UE IDs are not
shareable, then VAE server 2 includes the temporary V2X UE IDs in the
notification.
2\. The VAE server 1 aggregates information from different VAE clients to
create the HD map dynamic information.
### 9.16.6 Notification of HD map dynamic information
Pre-conditions:
\- V2X application specific server has performed subscription as per procedure
in clause 9.16.3 with VAE server 1.
\- VAE server 1 has prepared the HD map dynamic information as per procedure
in clause 9.16.5.3.
Figure 9.16.6: Notification for HD map dynamic information
1\. The VAE server 1 sends notification of HD map dynamic information to the
V2X application specific server. The notification includes the aggregated
information of all the UEs in the application defined proximity range of the
host vehicle and the location of the host vehicle.
2\. The V2X application specific server updates the HD map information with
the HD map dynamic information received in step 1.
## 9.17 V2X groupcast/broadcast configuration by VAE layer
### 9.17.1 General
The VAE client configures policies for the UE-to-UE broadcast/groupcast
delivery, based on the requirement received by the VAE server, to reduce V2X
broadcast flooding, while ensuring meeting the KPIs for one or more V2X
services in a service area.
Following procedures are provided for this feature:
\- the UE-to-UE broadcast/groupcast configuration by VAE client as specified
in clause 9.17.3; and
\- the UE-to-UE delivery which is handled by VAE clients over V5-AE as
specified in clause 9.17.4.
### 9.17.2 Information flows
#### 9.17.2.1 V2V configuration requirement request
Table 9.17.2.1-1 describes the information flow V2V configuration requirement
request from the V2X application specific server to the VAE server.
Table 9.17.2.1-1: V2V configuration requirement request
* * *
Information element Status Description V2X group ID M (NOTE) Identity of the
V2X group for which the V2X application requirement is initiated. V2X service
ID M (NOTE) The V2X service ID for which application requirement corresponds
to. Candidate Relay V2X-UE ID list O List of identities of the V2X UEs, which
are candidate to serve as application layer relays. V2X application QoS
requirements O The application QoS requirements (reliability, delay, jitter)
for the V2X service. NOTE: Either of the information element should be
present.
* * *
#### 9.17.2.2 V2V configuration requirement response
Table 9.17.2.2-1 describes the information flow V2V configuration requirement
response from the VAE server to the V2X application specific server.
Table 9.17.2.2-1: V2V configuration requirement response
* * *
Information element Status Description Result M The result corresponding to
the V2V configuration requirement request.
* * *
#### 9.17.2.3 V2X groupcast/broadcast configuration request
Table 9.17.2.3-1 describes the information flow V2X groupcast/broadcast
configuration request from the VAE server to the VAE client.
Table 9.17.2.3-1: V2X groupcast/broadcast configuration request
* * *
Information element Status Description VAE Server ID M Identity of the VAE
server which is requester of the V2X groupcast/broadcast configuration V2X
group ID M (NOTE) Identity of the V2X group for which the V2X
groupcast/broadcast configuration is requested. V2X service ID M (NOTE) The
V2X service ID for which the groupcast/broadcast configuration is requested
PC5 Provisioning policies/ parameters M PC5 provisioning policies/parameters
to be used by the V2X-UEs within the V2X service (list provided in TS 23.287)
Relay V2X-UE ID list O List of identities of the V2X UEs to serve as
application layer relays. Minimum number of re-transmissions O Minimum Number
of allowed re-transmissions for the V2X message delivery.
* * *
#### 9.17.2.4 V2X groupcast/broadcast configuration response
Table 9.17.2.4-1 describes the information flow V2X groupcast/broadcast
configuration response from the VAE client to the VAE server.
Table 9.17.2.4-1: V2X groupcast/broadcast configuration response
* * *
Information element Status Description Result M The result corresponding to
the V2X groupcast/broadcast configuration request.
* * *
#### 9.17.2.5 UE-to-UE groupcast/broadcast configuration request
Table 9.17.2.5-1 describes the information flow UE-to-UE groupcast/broadcast
configuration request from a VAE client to another VAE client within the group
or the V2X service.
Table 9.17.2.5-1: UE-to-UE groupcast/broadcast configuration request
+----------------------------+----------+----------------------------+ | Information element | Status | Description | +----------------------------+----------+----------------------------+ | VAE client ID | M | Identity of the VAE client | | | | which is requester of the | | | | UE-to-UE | | | | groupcast/broadcast | | | | configuration | +----------------------------+----------+----------------------------+ | V2X group ID | M (NOTE) | Identity of the V2X group | | | | for which the UE-to-UE | | | | groupcast/broadcast | | | | configuration is | | | | requested. | +----------------------------+----------+----------------------------+ | V2X service ID | M (NOTE) | The V2X service ID for | | | | which the UE-to-UE | | | | groupcast/broadcast | | | | configuration is requested | +----------------------------+----------+----------------------------+ | UE-to-UE | M | The requested | | groupcast/broadcast | | configuration policies to | | configuration policies/ | | be applied for the | | parameters | | UE-to-UE | | | | broadcast/groupcast | | | | communications. The | | | | policies / parameters may | | | | be the following: | | | | | | | | - activation / | | | | de-activation of the | | | | application relaying | | | | capability | | | | | | | | - adaptation of the | | | | application QoS parameters | | | | of the PC5 session | | | | | | | | - adaptation of the | | | | frequency and number of | | | | re-transmissions of the | | | | application messages | | | | | | | | - activation / | | | | de-activation of bundling | | | | of V2X messages to | | | | containers | +----------------------------+----------+----------------------------+ | NOTE: Either of the | | | | information element should | | | | be present. | | | +----------------------------+----------+----------------------------+
#### 9.17.2.6 UE-to-UE groupcast/broadcast configuration response
Table 9.17.2.6-1 describes the information flow UE-to-UE groupcast/broadcast
configuration response from a VAE client to another VAE client within the
group or the V2X service.
Table 9.17.2.6-1: UE-to-UE groupcast/broadcast configuration response
* * *
Information element Status Description Result M The result corresponding to
the UE-to-UE groupcast/broadcast configuration request.
* * *
#### 9.17.2.7 VAE message
Table 9.17.2.7-1 describes the information flow for a VAE client to deliver a
VAE message to another VAE client.
Table 9.17.2.7-1: VAE message
* * *
Information element Status Description VAE client ID M Identity of the VAE
client which provides the V2X message V2X group ID M (NOTE 1) Identity of the
V2X group (for groupcast delivery) V2X service ID M (NOTE 1) Identity of the
V2X service (for broadcast delivery) V2X Message ID(s) O Identity of the V2X
message(s) within the VAE message (CPM, PCM, MCM, DENM) Management Container O
Management Container provides basic information about the transmitter,
including the V2X-UE type (e.g. vehicle or RSU) and position VAE payload M
(NOTE 2) V2X message(s) payload carried by the VAE message. NOTE 1: Either of
the information element should be present.  
NOTE 2: One or more V2X messages may be carried within a VAE payload (e.g.
CPM, PCM, MCM, DENM) depending on whether V2X message bundling is activated
* * *
### 9.17.3 V2X groupcast/broadcast configuration by VAE layer
#### 9.17.3.1 General
This subclause describes the procedure for V2X groupcast/broadcast
configuration by the VAE layer.
#### 9.17.3.2 Procedure
Figure 9.17.3.2-1 illustrates the procedure where the VAE client configures
policies for the UE-to-UE broadcast/ groupcast delivery to other VAE clients
(within the V2X group or the V2X service), based on the requirement received
by the VAE server.
Pre-conditions:
1\. The V2X UEs have connected to the V2X application server.
2\. VAE client 1 is registered with VAE server.
Figure 9.17.3.2-1: V2V groupcast/broadcast configuration by VAE layer
1\. The V2X application specific server provides an V2V configuration
requirement request to the VAE server to manage the UE-to-UE
broadcast/groupcast communication. The VAE server may also provide within the
request the list of V2X-UEs which are capable to serve as application layer
relays.
2\. The VAE server sends a V2V configuration requirement response to the V2X
application specific server.
3\. The VAE server provides a V2V broadcast/groupcast configuration request to
VAE client 1. The VAE server may also provide within the request the list of
V2X-UEs to serve as application layer relays based on the candidate list of
relay V2X-UEs provided in step 1.
NOTE: How the V2X-UE 1 (or more V2X-UEs) is selected in step 3 is up to
implementation.
4\. The VAE client 1 selects and stores one or more UE-to-UE
groupcast/broadcast configuration policies per V2X application for the UE-to-
UE broadcast/groupcast communications.
5\. The VAE client 1 sends a V2V broadcast/groupcast configuration response to
VAE server to notify on the result.
6\. The VAE client 1 sends a request to VAE client N (can be any VAE client
within the V2X group or V2X service) with the requested UE-to-UE
groupcast/broadcast configuration policies for the UE-to-UE
broadcast/groupcast communications.
NOTE: When V2X-UE 1 distributes the UE-to-UE groupcast/broadcast configuration
message and how V2X-UE N (or more V2X UEs) is selected is up to
implementation.
7\. The VAE client 1 receives a response from the VAE client 2, which includes
either a positive or a negative acknowledgement of the message.
### 9.17.4 V2X groupcast/broadcast delivery by VAE layer
#### 9.17.4.1 General
This subclause describes the procedure for V2X groupcast/broadcast delivery by
the VAE layer.
#### 9.17.4.2 Procedure
Figure 9.17.4.2-1 illustrates the procedure where the VAE client delivers the
VAE message based on the configured policies (based on the procedure in clause
9.17.3).
Pre-conditions:
\- The VAE clients of the V2X-UEs have received and stored the UE-to-UE
broadcast/groupcast configuration policies per V2X application.
Figure 9.17.4.2-1: V2X groupcast/broadcast delivery by VAE layer
1\. The V2X application specific client of the V2X UE 1 sends to the VAE
client 1, the V2X message to be broadcasted/groupcasted. This message may be
for example a PCM, CPM, MCM, DENM.
2\. The VAE client 1 retrieves the mapping for the V2X service and
configuration policy related to the V2X message. The VAE client 1 forms a VAE
message, based on the V2X message(s) and the applied configuration policy.
3\. The VAE message is sent from the transmitting V2X-UE 1 to the receiving
V2X-UE N (which may be application relay or destination V2X-UEs). For the case
when a V2X-UE acts as application relay, the message is relayed towards the
destination VAE client.
4\. The V2X message is provided from the destination VAE client to the
corresponding V2X application specific client. In case of message bundling,
the receiving VAE client first un-bundles the V2X message and then sends to
the V2X application specific client.
## 9.18 Local MBMS support
For local MBMS based MBMS data delivery as defined in 3GPP TS 23.285 [5], the
BM-SC can be provided with the local MBMS information (i.e. M1 interface
information including transport network IP Multicast Address, IP address of
multicast source and C-TEID, as well as MB2-U or xMB-U interface information
including IP address and UDP port number for the user plane) from the V2X
application plane. Such local MBMS information can be pre-configured in the
VAE server based on service requirements or deployment needs. The VAE server
may request SEAL NRM server to establish the MBMS bearers by providing the
local MBMS information as described in subclause 14.3.4.3.2 and subclause
14.3.4.3.2 of TS 23.434 [6].
## 9.19 Session-oriented services
### 9.19.1 General
The VAE layer provides support at the application layer for V2X application
specific server and V2X UE to initiate session-oriented services by providing
mechanisms for establishing, updating and terminating sessions.
### 9.19.2 Information flows
#### 9.19.2.1 Session-oriented service trigger request
Table 9.19.2.1-1 describes the information flow session-oriented service
trigger request from the V2X application specific server to the VAE server.
Table 9.19.2.1-1: Session-oriented service trigger request
* * *
Information element Status Description Remote V2X UE ID M Identity of the V2X
UE (VAE client) which is the remote vehicle. V2X service ID M The V2X service
ID for which application requirement corresponds to. V2X application specific
server identity information M Identity information of the V2X application
specific server. Session ID O The session identifier to be used for the
session-oriented service. V2X application QoS requirements for the session O
The application QoS requirements (reliability, delay, jitter) for the session-
oriented service.
* * *
#### 9.19.2.2 Session-oriented service trigger response
Table 9.19.2.2-1 describes the information flow session-oriented service
trigger response from the VAE server to the V2X application specific server.
Table 9.19.2.2-1: Session-oriented service trigger response
* * *
Information element Status Description Acknowledgement M Acknowledgement for
the request
* * *
#### 9.19.2.3 Session-oriented service establishment notification
Table 9.19.2.3-1 describes the information flow session-oriented service
establishment notification from the VAE server to the V2X application specific
server.
Table 9.19.2.3-1: Session-oriented service establishment notification
* * *
Information element Status Description Result M The result indicating success
or failure to establish session-oriented service Remote V2X UE ID M Identity
of the V2X UE (VAE client) which is the remote vehicle. Session ID O (NOTE)
The session identifier to be used for the session-oriented service. NOTE: This
IE is present when Result is success. It is generated by the VAE server if not
provided by the requester.
* * *
#### 9.19.2.4 Session-oriented change trigger request
Table 9.19.2.4-1 describes the information flow session-oriented change
trigger request from the V2X application specific server to the VAE server.
Table 9.19.2.4-1: Session-oriented change trigger request
* * *
Information element Status Description Session ID M The session identifier of
the session-oriented service. V2X application QoS requirements for the session
M The application QoS requirements (reliability, delay, jitter) for the
session-oriented service that is to be updated.
* * *
#### 9.19.2.5 Session-oriented change trigger response
Table 9.19.2.5-1 describes the information flow session-oriented change
trigger response from the VAE server to the V2X application specific server.
Table 9.19.2.5-1: Session-oriented change trigger response
* * *
Information element Status Description Acknowledgement M Acknowledgement for
the request
* * *
#### 9.19.2.6 Session-oriented service change notification
Table 9.19.2.6-1 describes the information flow session-oriented service
change notification from the VAE server to the V2X application specific
server.
Table 9.19.2.6-1: Session-oriented service change notification
* * *
Information element Status Description Result M The result indicating success
or failure to change session-oriented service
* * *
#### 9.19.2.7 Session-oriented termination trigger request
Table 9.19.2.7-1 describes the information flow session-oriented termination
trigger request from the V2X application specific server to the VAE server.
Table 9.19.2.7-1: Session-oriented termination trigger request
* * *
Information element Status Description Session ID M The session identifier of
the session-oriented service.
* * *
#### 9.19.2.8 Session-oriented termination trigger response
Table 9.19.2.8-1 describes the information flow session-oriented termination
trigger response from the VAE server to the V2X application specific server.
Table 9.19.2.8-1: Session-oriented termination trigger response
* * *
Information element Status Description Acknowledgement M Acknowledgement for
the request
* * *
#### 9.19.2.9 Session-oriented service termination notification
Table 9.19.2.9-1 describes the information flow session-oriented service
termination notification from the VAE server to the V2X application specific
server.
Table 9.19.2.9-1: Session-oriented service termination notification
* * *
Information element Status Description Result M The result indicating success
or failure to terminate session-oriented service
* * *
### 9.19.3 UE initiated session-oriented service
#### 9.19.3.1 General
The VAE layer provides support at the application layer for V2X UE to initiate
session-oriented services by providing mechanisms for establishing, updating
and terminating sessions.
#### 9.19.3.2 UE initiated session-oriented service establishment
Pre-conditions:
\- The V2X UE (acting as remote controller) has been authenticated for using
session-oriented services and has connected to the VAE server.
\- The V2X application-specific client has triggered the VAE client to
establish a session with the remote V2X UE (vehicle).
Figure 9.19.3.2-1: Procedure for establishing a UE initiated session-oriented
service between the VAE client (remote controller) and the VAE client (remote
vehicle)
1\. The VAE client (acting as remote controller) sends a trigger request to
the VAE server to establish a session-oriented service with one or more V2X
UEs (remote vehicle). It may include the identity of the VAE client, the
identity of the service session, the V2X service ID, the \"type\" or \"QoS
requirements\" of the session, service information (e.g. geo-referenced
information for tele-operated driving service in the form of geographical area
where the service is expected to be delivered or in the form of
expected/planned vehicle trajectory, or time interval during which the service
is expected) and requirements (e.g. reporting configuration).
2\. The VAE server checks whether the VAE client is authorized to establish
session-oriented service with one or more V2X UEs (remote vehicles). The VAE
server provides a session-oriented service trigger response to the VAE client
indicating the ability or inability of VAE server to initiate a session-
oriented service with the VAE client. The VAE server performs the procedure to
establish session oriented service with VAE client (e.g. remote vehicle).
NOTE 1: The VAE server performs the procedure specified in clause 9.19.5.2 to
establish session oriented service with VAE client (e.g. remote vehicle).
NOTE 2: The resulting application session occurs over IP connectivity (Uu
based) between the remote controller and the remote vehicle.
#### 9.19.3.3 UE initiated session-oriented service update
Pre-condition:
\- The VAE client (remote controller) has established a session-oriented
service with a VAE client (remote vehicle) via the VAE server.
Figure 9.19.3.3-1: Procedure for updating an UE initiated session-oriented
service between the VAE client (remote controller) and the VAE client (remote
vehicle)
1\. The VAE client (acting as remote controller) sends a change trigger
request to the VAE server to update the session-oriented service to one or
more VAE clients (remote vehicle) including the identity of the service
session, updates to service information (e.g. activated services, updates to
vehicle trajectory), requirements (e.g. change of network/QoS requirements),
or server information (e.g. change of VAE server).
2\. The VAE server provides a session-oriented change trigger response to the
VAE client indicating the ability or inability of VAE server to continue the
session-oriented service with the VAE client with the updated conditions. The
VAE server performs the procedure to change session oriented service with VAE
client (e.g. remote vehicle).
NOTE: The VAE server performs the procedure specified in clause 9.19.5.3 to
change session oriented service with VAE client (e.g. remote vehicle).
#### 9.19.3.4 UE initiated session-oriented service termination
Pre-condition:
\- The VAE client (remote controller) has established a session-oriented
service with the VAE client (remote vehicle).
Figure 9.19.3.4-1: Procedure for terminating an UE initiated session-oriented
service between the VAE client (remote controller) and the VAE client (remote
vehicle)
1\. The VAE client (acting as remote controller) sends a session-oriented
termination trigger request to the VAE server to terminate the session (e.g.
end of session with VAE server or requirements for session-oriented service
not satisfied) with one or more V2X UEs (remote vehicles) including the
identity of the service session.
2\. The VAE server sends a session-oriented termination trigger response to
the VAE client indicating the result of the session-oriented service
termination with one or more V2X UEs (remote vehicles). The VAE server
performs the session-oriented service termination procedure to terminate
session oriented service with VAE client (e.g. remote vehicle).
NOTE: The VAE server performs the procedure specified in clause 9.19.5.4 to
terminate session oriented service with VAE client (e.g. remote vehicle).
### 9.19.4 V2X application specific server triggered session-oriented service
#### 9.19.4.1 General
The VAE layer provides support at the application layer for V2X application
specific server triggered session-oriented services by providing mechanisms
for establishing, updating and terminating sessions.
#### 9.19.4.2 Triggering of session-oriented service establishment
Pre-conditions:
\- The V2X application-specific server has decided to trigger the session-
oriented service.
NOTE: The reasons that the V2X application-specific server decides to trigger
the V2X application specific layer session are out of scope of the present
document.
Figure 9.19.4.2-1: Triggering of session-oriented service establishment
1\. The V2X application-specific server triggers the VAE server to initiate a
session-oriented service to the VAE client. This request can include
information such as the identity of the VAE client, the identity of the V2X
application specific server, the identity of the service session, the V2X
service ID and the \"type\" or \"QoS requirements\" of the session.
2\. The VAE server provides a session-oriented service trigger response to the
V2X application-specific server indicating the ability or inability of VAE
server to initiate a session-oriented service with the VAE client.
NOTE: The VAE server performs the procedure specified in clause 9.19.5.2 to
establish session oriented service with VAE client (e.g. remote vehicle).
#### 9.19.4.3 Triggering of session-oriented service update
Pre-conditions:
\- The VAE server has established a session-oriented service with the VAE
client as described in clause 9.19.5.2.
\- The V2X application-specific server needs to update parameters of the
session.
Figure 9.19.4.3-1: Triggering of session-oriented service update
1\. The V2X application-specific server provides the VAE server with the
identity of the session and the update of session parameters, e.g. change of
QoS requirements of the session.
2\. The VAE server provides a session-oriented service update response to the
V2X application specific server including the ability or inability to continue
the session-oriented service with the VAE client with the updated conditions.
NOTE: The VAE server performs the procedure specified in clause 9.19.5.3 to
change session oriented service with VAE client (e.g. remote vehicle).
#### 9.19.4.4 Triggering of session-oriented service termination
Pre-conditions:
\- The VAE server has established a session-oriented service with the VAE
client as described in clause 9.19.5.2.
\- The V2X application specific server has decided to terminate the session-
oriented service.
Figure 9.19.4.4-1: Triggering of session-oriented service termination
1\. The V2X application-specific server provides the VAE server with a request
to terminate the session-oriented service with the VAE client. It may include
the identity of the service session.
2\. The VAE server provides a session-oriented service termination response to
the V2X application-specific server that the session can be terminated.
NOTE: The VAE server performs the procedure specified in clause 9.19.5.4 to
terminate session oriented service with VAE client (e.g. remote vehicle).
### 9.19.5 Session-oriented service
#### 9.19.5.1 General
The VAE layer provides support at the application layer for session-oriented
services by providing mechanisms for establishing, updating and terminating
sessions.
#### 9.19.5.2 Session-oriented service establishment
Pre-conditions:
\- The V2X UE has been authenticated for using session-oriented services and
has connected to the V2X application server.
\- The VAE server has agreed to establish a session upon the request from the
V2X application specific server or from the VAE client.
\- The V2X application specific client has subscribed with the VAE client to
receive notifications related to session-oriented service and the V2X
application specific server has subscribed with VAE server to receive
notifications related to session-oriented service.
\- The V2X application specific client for the terminating V2X UE has been
informed about the already negotiated session oriented service to VAE client.
Figure 9.19.5.2-1: Procedure for establishing a session-oriented service
between the VAE server and the VAE client
1\. The VAE server sends a request to one or more VAE clients to establish a
session-oriented service including identity of the VAE client, identity of the
session, V2X service ID and reporting configuration.
2\. The VAE client sends a session-oriented service response to the VAE server
indicating approval of session establishment request by the VAE server.
3\. If V2X application specific server has triggered then, the VAE server
sends a session-oriented service establish notification to the V2X
application-specific server.
4\. The VAE client sends a session-oriented service establish notification to
the V2X application-specific client.
#### 9.19.5.3 Session-oriented service update
Pre-condition:
\- The VAE server has established a session-oriented service with the VAE
client.
\- The VAE server has received a session-oriented service update from the V2X
application-specific server or from the VAE client or a change in QoS and
network conditions from 3GPP network system.
\- The V2X application specific client has subscribed with the VAE client to
receive notifications related to session-oriented service and the V2X
application specific server has subscribed with VAE server to receive
notifications related to session-oriented service.
\- The VAE server has agreed to continue the session-oriented service with the
VAE client with the updated conditions upon the request from the V2X
application specific server or from the VAE client.
Figure 9.19.5.3-1: Procedure for updating a session-oriented service between
the VAE server and the VAE client
1\. The VAE server sends a change request to one or more VAE clients including
the identity of the session, updates requirements (e.g. change of network/QoS
requirements), or server information (e.g. change of VAE server).
2\. The VAE client sends a change response to the VAE server indicating
acceptance of the change request by the VAE server.
3\. If V2X application specific server has triggered then, the VAE server
sends a session-oriented service change notification to the V2X application-
specific server.
4\. The VAE client sends a session-oriented service change notification to the
V2X application-specific client.
#### 9.19.5.4 Session-oriented service termination
Pre-condition:
\- The VAE server has established a session-oriented service with the VAE
client.
\- The VAE server has received a session-oriented service termination request
from the V2X application-specific server or from the VAE client or a change in
QoS or network conditions from 3GPP network system that prevents the VAE
server from continuing the session-oriented service.
\- The V2X application specific client has subscribed with the VAE client to
receive notifications related to session-oriented service and the V2X
application specific server has subscribed with VAE server to receive
notifications related to session-oriented service.
\- The VAE server has indicated to terminate the session-oriented service with
the VAE client upon the request from the V2X application specific server or
from the VAE client.
Figure 9.19.5.4-1: Procedure for terminating a session-oriented service
between the VAE server and the VAE client
1\. The VAE server sends a session-oriented termination request to the VAE
client to terminate the session (e.g. end of session with VAE server or
requirements for session-oriented service not satisfied) including the
identity of the session.
2\. The VAE client sends a session-oriented termination response to the VAE
server indicating acceptance of the termination request by the VAE server.
3\. If V2X application specific server has triggered then, the VAE server
sends a session-oriented service termination notification to the V2X
application-specific server.
4\. The VAE client sends a session-oriented service termination notification
to the V2X application-specific client.
## 9.20 Monitoring and control of QoS for eV2X communications
### 9.20.1 General
5GS supports eV2X communications with extended QoS monitoring and
reporting.The VAE layer utilizes these monitoring and reporting mechanisms to
support control of QoS for eV2X communications. The V2X application specific
server subscribes to service adaptation and QoS control events from the VAE
layer and receives notifications about the relevant service requirement
adaptations and corresponding QoS changes.
### 9.20.2 Information flows
#### 9.20.2.1 Service adaptation and QoS control subscription request
Table 9.20.2.1-1 describes the information flow Service adaptation and QoS
control subscription request from the V2X application specific server to the
VAE server.
Table 9.20.2.1-1: Service adaptation and QoS control subscription request
+---------------------------+------------+---------------------------+ | Information element | Status | Description | +---------------------------+------------+---------------------------+ | V2X group ID | M | Identity of the V2X group | | | | for which the service | | | (see NOTE) | adaptation and QoS | | | | control subscription is | | | | initiated. | +---------------------------+------------+---------------------------+ | V2X service ID | M | The V2X service ID for | | | | which subscription | | | (see NOTE) | corresponds to. | +---------------------------+------------+---------------------------+ | V2X UE ID | M | The V2X UE ID for which | | | | subscription corresponds | | | (see NOTE) | to. | +---------------------------+------------+---------------------------+ | NOTE: Either of the | | | | information element | | | | should be present. | | | +---------------------------+------------+---------------------------+
#### 9.20.2.2 Service adaptation and QoS control subscription response
Table 9.20.2.2-1 describes the information flow for VAE server to respond for
Service adaptation and QoS control subscription request from the V2X
application specific server.
Table 9.20.2.2-1: Service adaptation and QoS control subscription response
* * *
Information element Status Description Result M Result from the VAE server in
response to subscription request indicating success or failure Subscription ID
(see NOTE) O Identifier of a successful subscription. NOTE: This IE is
included when the Result indicates success
* * *
#### 9.20.2.3 Service requirement adaptation notification request
Table 9.20.2.3-1 describes the information flow for service requirement
adaptation notification request from VAE server to the V2X application
specific server.
Table 9.20.2.3-1: Service requirement adaptation notification request
* * *
Information element Status Description Subscription ID M Identifier of the
subscription for this notification. List of V2X UEs information O The
information of the V2X UEs which are affected by this service requirement
adaptation notification > V2X UE ID M The identifier of V2X UE QoS change
information M The actual or expected QoS change information
* * *
#### 9.20.2.4 Service requirement adaptation notification response
Table 9.20.2.4-1 describes the information flow for service requirement
adaptation notification response from V2X application specific server to the
VAE server.
Table 9.20.2.4-1: Service requirement adaptation notification response
* * *
Information element Status Description Subscription ID M Identifier of the
subscription for this notification. Acknowledgement Result (see NOTE) M
Indicates positive or negative acknowledgement. List of V2X UEs information
(see NOTE) O The information of the V2X UEs which are affected by the service
requirement adaptation and requires QoS change to be applied. > V2X UE ID M
The identifier of V2X UE NOTE: If Acknowledgement Result IE indicates
positive, then List of V2X UEs information IE is included.
* * *
### 9.20.3 Subscription Procedure
Pre-conditions:
1\. The VAE server includes an Application Function (AF) functionality, as
defined in 3GPP TS 23.287 [8].
2\. The VAE server has subscriptions with SEAL servers to receive V2X service-
related information (e.g. UE IDs, location, group, configuration info, etc.).
Figure 9.20.3-1: Subscription for monitoring and control of QoS for eV2X
communications
1\. The V2X application specific server sends a service adaptation and QoS
control subscription request to the VAE server.
2\. The VAE server, who acts as an AF, subscribes to QoS monitoring service
from 5GS (e.g. PCF/NWDAF). This subscription may be active for a certain
period of time or a given geographical area. The monitoring may either include
the request for QoS sustainability events as specified in 3GPP TS 23.288 [24],
or can include a QoS change notification requests as provided by SMF and
specified in 3GPP TS 23.287 [8]. The reporting may be configured by the
application enabler layer for a given area, time, periodicity etc taking into
account the service requirement and other parameters (e.g. expected congestion
in certain area, time of the day, road conditions).
3\. The VAE server sends a service adaptation and QoS control subscription
response indicating success or failure of subscription.
### 9.20.4 Notification Procedure
Pre-condition:
1\. The subscription procedure specified in clause 9.20.3 is performed.
Figure 9.20.3-1: Notification for monitoring and control of QoS for eV2X
communications
1\. Based on the subscription, as specified in 3GPP TS 23.287 [8], 5GS
provides the extended QoS monitoring report, over N33 interface. This report
may come either from NWDAF or SMF via PCF/NEF.
2 The VAE server, based on the monitoring events (step 1) for one or multiple
V2X-UEs within one service or across multiple services, may trigger a service
requirement adaptation (step 3) based on the actual or expected QoS change for
one or more V2X services.
3\. The VAE server sends a service requirement adaptation notification request
to V2X application specific server to identify the action which is needed,
based on the actual or expected QoS change. This could be the adaptation of
the Level of Automation (LoA) for one or more V2X-UEs or V2X services.
4\. The V2X application specific server decides whether to adapt the service
requirement based on step 3.
5\. The V2X application specific server sends a response to VAE server with a
positive or negative acknowledgment. Optionally, this may include the list of
a sub-set of V2X-UEs within a service for which the requirement change should
be applied
6\. If no QoS adaptation is required, V2X application layer may adapt based on
the adapted service requirements; and steps 7-10 are optional.
7\. If a QoS adaptation is required, the VAE server, triggers the adaptation
of QoS for the affected V2X-UE(s) within the service or across multiple
services in close vicinity.
8\. The VAE server performs network resource adaptation by interacting with
the NRM server as specified in the 3GPP TS 23.434 [10].
9\. The VAE server also notifies about the QoS adaptation to the V2X
application specific server.
10\. The V2X application layer adapts based on the adapted service and QoS
requirements.
## 9.21 Support for VRU zone configuration and operation
### 9.21.1 General
This capability supports the configuration and provisioning of the VRU high
risk zone at the VAE layer based on a request from the V2X application
specific server (VASS).
### 9.21.2 Information flows
#### 9.21.2.1 VRU zone management subscription request
Table 9.21.2.1-1 describes information elements for the VRU zone management
subscription request from the VASS to the VAE server.
Table 9.21.2.1-1: VRU zone management subscription request
* * *
Information element Status Description Requestor ID M The identifier of the
service requestor (VASS, VAL server, App ID) VRU zone ID O The identifier of
the VRU zone which may be provided by the requestor. VRU zone information M
This information identifies, based on the VRUP scenario, which type of UEs
(V2X UEs, pedestrian UEs) are to be considered. Also, whether it is a static
or dynamic zone can be identified. VRU application requirements M This
includes requirements include the types of supported messages and requirements
(e.g. requirements for VAM messages), and application QoS requirement
dedicated for the VRU zone (e.g. URLLC like). List of VAL UE IDs O The
identifiers of the VAL UEs for which the VRU zone is applicable Area of
Interest O The geographical or service area for which the subscription request
applies Time validity O The time validity of the request
* * *
#### 9.21.2.2 VRU zone management subscription response
Table 9.21.2.2-1 describes information elements for the VRU zone management
subscription response from the VAE server to VASS.
Table 9.21.2.2-1: VRU zone management subscription response
* * *
Information element Status Description Result M The result of the VRU zone
management subscription request (positive or negative acknowledgement)
* * *
#### 9.21.2.3 VRU zone info notification
Table 9.21.2.3-1 describes information elements for the VRU zone info
notification from the VAE server to the VAE clients.
Table 9.21.2.3-1: VRU zone info notification
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | VRU zone ID | M | The identifier of the VRU | | | | zone | +-----------------------------+--------+-----------------------------+ | VRU zone information | M | This information identifies | | | | based on the VRUP scenario, | | | | which type of UEs (V2X UEs, | | | | pedestrians) are to be | | | | considered. Also, whether | | | | it is a static or dynamic | | | | zone. | +-----------------------------+--------+-----------------------------+ | VRU zone area | M | The geographical | | | | (coordinates) or | | | | topological area for the | | | | zone (cell IDs, TAs) | +-----------------------------+--------+-----------------------------+ | QoS requirements | M | The application QoS | | | | requirements for the | | | | services within the zone | +-----------------------------+--------+-----------------------------+ | VRU zone configuration | M | These parameters include: | | parameters | | | | | | - The list of value-add | | | | VAE services required | | | | within the zone (e.g. | | | | location tracking, V2X | | | | message bundling), | | | | | | | | - the supported | | | | transmission modes | | | | (unicast, groupcast, | | | | broadcast) within the | | | | applications within the | | | | zone, | | | | | | | | - the allowed interface | | | | selection within the | | | | zone (Uu, PC5), | | | | | | | | - the use of application | | | | relaying or not | +-----------------------------+--------+-----------------------------+ | VRU zone adaptation | O | If the VRU zone is dynamic, | | assistance info | | this IE provides assistance | | | | info on the configuration | | | | adaptation triggers or to | | | | provide the planning (e.g. | | | | based on a school bus | | | | route) to allow the network | | | | to adapt the configuration. | +-----------------------------+--------+-----------------------------+
#### 9.21.2.4 Enter/Leave Notification
Table 9.21.2.4-1 describes information elements for the Enter/Leave
Notification from the VAE server to the VASS or the VAE client(s) within the
zone.
Table 9.21.2.4-1: Enter/Leave Notification
* * *
Information element Status Description VAL UE ID M (NOTE) The identity of the
UE of interest (GPSI, or external ID) VAL group ID M (NOTE) The group UE
identity (if this applies to a group of UEs). VRU zone ID M The identifier of
the VRU zone VRU zone information M This information identifies based on the
VRUP scenario, which type of UEs (V2X UEs, pedestrians) are to be considered.
Also, whether it is a static or dynamic zone. Enter/Leave timing info M The
timing info for the UE enter / leave the zone. This includes for entering a
start time of VRUP and an expected duration, and for leaving an expected leave
time (if the UE is approaching the VRU zone boundaries) UE/group mobility info
O The expected mobility/speed/direction of the UE or group of interest NOTE:
One of these shall be present.
* * *
### 9.21.3 Procedure on VAL server - triggered VRU zone configuration
Figure 9.21.3-1 illustrates the procedure where the VAE server configures the
VRU zone based on application requirement; and supports the run-time operation
based on an expected UE entrance to the zone.
Pre-conditions:
1\. V2X application specific server or client has subscribed to VAE layer to
provide support for V2P communication.
Figure 9.21.3-1: VAL server - triggered VRU zone configuration
1\. The V2X application specific server sends a subscription request to manage
the configuration of a new high-risk area zone and requires the VAE server
support to translate it to a network-related zone configuration and
provisioning to the UEs within the requested area.
2\. The VAE server processes the request and stores the subscription. The
processing includes the translation of the zone requirement of step 1 and
determines a set of network-related zone parameters which indicates the
configuration parameters.
3\. The VAE sever sends a VRU zone management subscription response to VASS.
4\. The VAE server initiates the SEAL LMS service for location tracking both
for static location and dynamically changing location for all UEs within the
VRU zone area. VAE server obtains and initiates tracking the V2X UEs location
from the location management server 1 as specified in 3GPP TS 23.434 (clause
9.3.12) or, for static area, it obtains location area monitoring information
based on clause 9.3.10 of 3GPP TS 23.434.
5\. The VAE server sends a notification message including the VRU zone
configuration parameters. Parameters can be based on the parameters provided
in step 2. This configuration will be provided to the V2X-UEs (and
pedestrians) within the area that will be covered by the VRU zone.
6\. The VAE server keeps monitoring the VRU zone area based on monitoring SEAL
LMS events. This includes events on whether a UE (e.g. UE1) is moving in or
out a target area of interest.
The VAE server translates the UE1 mobility event to an expected entrance to a
VRU high risk zone, and based on the configuration of the zone, it identifies
whether to generate and send a notification to the VASS on the expected
entrance / leave of UE1.
7\. The VAE server alerts the VASS that the UE1 is expected to move to the VRU
zone area in a given time horizon and provides also information on its
mobility as well as the UE1 capabilities (e.g. VRU capable).
8\. The VAE server may also alert the VAE client (if deployed at the UE1) that
it is expected to enter the VRU zone and requests the confirmation for
allowing the push of VRU messages within the zone.
## 9.22 VAE support for Energy Efficient V2P communications
### 9.22.1 General
Vehicle to Pedestrian (V2P) is one of the V2X scenarios, which enables
communication between vehicles and pedestrians for both safety and traffic
efficiency related applications. One of the key V2P applications is the
Vulnerable Road User Protection (VRUP) as specified in ETSI TS 103 300-2 [13].
VRUP provides warning to vehicles of the presence of vulnerable road users,
e.g. pedestrian or cyclist, in case of dangerous situation. In VRUP, multiple
V2X messages need to be exchanged between the pedestrian and the vehicular
UEs, originating by one or more applications. Such messages can be standard
VRU messages (e.g. VAM) and other V2X messages (CAM, DENM, BSM, CPM) and can
be exchanged via different transmission modes (unicast, groupcast, broadcast).
In such scenario, one challenge is that a pedestrian UE might have a lower
battery capacity and limited radio capability, and therefore may have to work
in a low power consumption mode, e.g. not being able to send/receive V2X
messages with the same periodicity as a Vehicular UE. Continuous
sending/receiving V2X messages by the pedestrian UE would affect UE power
efficiency. A further challenge is that multiple applications related to VRU
may be deployed, which may have differentiated traffic/QoS requirements as
well as transmission/reception schedules.
The VAE layer may provide support functionality for enabling V2P applications,
by consolidating the V2P application requirements and aligning the
communication traffic pattern with the PC5 QoS setting and the AS layer
configurations (e.g. DRX cycles).
### 9.22.2 Information flows
#### 9.22.2.1 V2P application requirement request
Table 9.22.2.1-1 describes information elements for the V2P application
requirement request from the V2X Application Specific Server (VASS) to the VAE
server or from the V2X application specific client to the VAE client.
Table 9.22.2.1-1: V2P application requirement request
+---------------------------+------------+---------------------------+ | Information element | Status | Description | +---------------------------+------------+---------------------------+ | Requestor ID | M | The identifier of the | | | | service requestor (VASS, | | | | VAL server, App ID) | +---------------------------+------------+---------------------------+ | V2X service ID | M | The V2X service ID for | | | | which application | | | (see NOTE) | requirement corresponds | | | | to. | +---------------------------+------------+---------------------------+ | V2X group ID | M | Identity of the V2X group | | | | for which the V2P | | | (see NOTE) | application requirement | | | | is initiated. | +---------------------------+------------+---------------------------+ | V2P QoS requirements | M | The application QoS | | | | requirements | | | | (reliability, delay, | | | | jitter) for the V2P | | | | service | +---------------------------+------------+---------------------------+ | Application Traffic | M | The application | | Pattern | | transmission cycle or | | | | traffic schedule for the | | | | V2P service. This may be | | | | in form of a schedule of | | | | an expected | | | | transmission/reception of | | | | a V2X message over a | | | | pre-defined time window. | +---------------------------+------------+---------------------------+ | PC5 Provisioning | O | PC5 provisioning | | policies/ parameters | | policies/parameters to be | | | | used by the V2X-UEs | | | | within the V2X service | | | | (list provided in TS | | | | 23.287) | +---------------------------+------------+---------------------------+ | NOTE:One of these shall | | | | be present. | | | +---------------------------+------------+---------------------------+
#### 9.22.2.2 V2P application requirement response
Table 9.22.2.2-1 describes information elements for the V2P application
requirement response from the VAE server to V2X Application Specific Server or
from the VAE client to the V2X application specific client.
Table 9.22.2.2-1: V2P application requirement response
* * *
Information element Status Description Result M The result of the V2P
application requirement request (positive or negative acknowledgement)
* * *
#### 9.22.2.3 V2P schedule configuration request
Table 9.22.2.3-1 describes information elements for the V2P schedule
configuration request from the VAE server to the VAE clients.
Table 9.22.2.3-1: V2P schedule configuration request
+---------------------------+------------+---------------------------+ | Information element | Status | Description | +---------------------------+------------+---------------------------+ | VAE server ID | M | The identifier of the VAE | | | | server | +---------------------------+------------+---------------------------+ | V2X service ID | M | The V2X service ID for | | | | which the configuration | | | (see NOTE) | request applies. | +---------------------------+------------+---------------------------+ | V2X group ID | M | Identity of the V2X group | | | | for which the | | | (see NOTE) | configuration request | | | | applies. | +---------------------------+------------+---------------------------+ | Traffic Communication | M | The traffic communication | | pattern | | pattern includes the | | | | information for the V2P | | | | communication | | | | transmission/reception | | | | schedule, and optionally | | | | the inactivity period, | | | | sleep period | +---------------------------+------------+---------------------------+ | DRX cycle configuration | O | The DRX cycle | | | | configuration for out of | | | | coverage and | | | | groupcast/broadcast | | | | communications | +---------------------------+------------+---------------------------+ | V2P QoS requirements | O | The application QoS | | | | requirements | | | | (reliability, delay, | | | | jitter) for the V2P | | | | service | +---------------------------+------------+---------------------------+ | NOTE: One of these shall | | | | be present. | | | +---------------------------+------------+---------------------------+
#### 9.22.2.4 V2P schedule configuration response
Table 9.22.2.4-1 describes information elements for the V2P schedule
configuration response from the VAE client to the VAE server.
Table 9.22.2.4-1: V2P schedule configuration response
* * *
Information element Status Description Result M The result corresponding to
the V2P schedule configuration request.
* * *
#### 9.22.2.5 V2P schedule notification
Table 9.22.2.5-1 describes information elements for the V2P schedule
notification from the VAE client to the V2X app specific client.
Table 9.22.2.5-1: V2P schedule notify
* * *
Information element Status Description V2X service ID M The V2X service ID for
which the configuration corresponds to. Traffic Communication pattern M The
traffic communication pattern includes the information for the V2P
communication transmission/reception schedule, and optionally the inactivity
period, sleep period DRX cycle configuration O The DRX cycle configuration for
out of coverage and groupcast/broadcast communications
* * *
#### 9.22.2.6 V2P schedule update request
Table 9.22.2.6-1 describes information elements for the V2P schedule update
request from a first VAE client to a second VAE client.
Table 9.22.2.6-1: V2P schedule update request
+---------------------------+------------+---------------------------+ | Information element | Status | Description | +---------------------------+------------+---------------------------+ | VAE client ID | M | The identifier of the VAE | | | | client | +---------------------------+------------+---------------------------+ | V2X service ID | M | The V2X service ID for | | | | which the schedule update | | | (see NOTE) | applies. | +---------------------------+------------+---------------------------+ | V2X group ID | M | Identity of the V2X group | | | | for which the schedule | | | (see NOTE) | update applies. | +---------------------------+------------+---------------------------+ | Proposed Traffic | M | The proposed consolidated | | Communication pattern | | traffic communication | | | | pattern includes the | | | | information for the V2P | | | | communication | | | | transmission/reception | | | | schedule, and optionally | | | | the inactivity period, | | | | sleep period | +---------------------------+------------+---------------------------+ | NOTE: One of these shall | | | | be present. | | | +---------------------------+------------+---------------------------+
#### 9.22.2.7 V2P schedule update response
Table 9.22.2.7-1 describes information elements for the V2P schedule update
response from the second VAE client to the first VAE client.
Table 9.22.2.7-1: V2P schedule update response
* * *
Information element Status Description Result M The result corresponding to
the V2P schedule update request. Cause O The cause in case of negative result.
Updated Traffic Communication pattern O The updated (after negotiation)
traffic communication pattern.
* * *
#### 9.22.3.1 Procedure on VAE server enabled V2P communication schedule
configuration
This subclause describes the procedure for V2P communication schedule
configuration and update support by the VAE server.
Figure 9.22.3.1-1 illustrates the procedure where the VAE server configures
the traffic schedule for V2P communications based on application requirement;
and communicates with the VAE clients to trigger the translation to an AS
layer/ QoS configurations update.
Pre-conditions:
1\. V2X Application Specific Server has subscribed to VAE server to provide
support for V2P communication.
2\. VAE client of V2X UE #1 and V2X UE #2 are registered with VAE server.
Figure 9.22.3.1-1: VAE server - enabled V2P communication schedule
configuration
1\. A V2P application specific server provides the V2P application
requirements in form of a request to the VAE server, including application QoS
requirements for the V2P applications and provisioning policies and parameters
for the PC5 communication.
2\. The VAE server authorizes the request and sends a V2P application
requirement response.
3\. The VAE server generates a communication schedule for one or more involved
V2X UEs, so that the off duration is maximized. The determination of the
transmission schedule can be determined based on the V2P service KPIs. Such
communication schedule may include the transmission/reception schedule for the
application messages and may also include the DRX cycle configuration for out
of coverage and groupcast/broadcast communications.
4\. The VAE server sends a V2P communication schedule configuration request
message to the involved VAE clients. This includes the generated UE level
transmission schedules and may also include the DRX cycle configuration for
PC5 communication in out of coverage and groupcast/broadcast modes.
5\. V2X UE #1\'s and V2X UE #2\'s VAE clients provide the updated traffic
pattern as V2X Application Requirements to V2X layer, also including QoS
requirements such as delay requirements, priority, etc., for the PC5
communication for both applications, as specified in 3GPP TS 23.287 [19]
clause 5.4.1.1. VAE client may also indicate the transmission mode (unicast,
groupcast) per application. The V2X layer of UEs #1 and #2 process the
requirements from VAE client and generates a UE level DRX schedule. The AS
layer of UE #1 and #2 applies/configures the DRX schedule for the
corresponding V2X communication.
6\. VAE clients of V2X UEs #1 and #2 send a response to the configuration
request as positive or negative acknowledgement to the VAE server.
7\. VAE clients of V2X UEs #1 and #2 may send a notification to the V2X
application specific client(s) to inform on the communication traffic pattern.
#### 9.22.3.2 Procedure on VAE client enabled V2P communication schedule
configuration
This subclause describes the procedure for V2P communication schedule
configuration and update support by the VAE client.
Figure 9.22.3.2-1 illustrates the procedure where the VAE client configures
the traffic schedule for V2P communications based on application requirement;
and triggers the translation to an AS layer/ QoS configurations update.
Pre-conditions:
1\. VAE client 1 has been configured by the VAE server to configure the
communication schedule for V2P communications.
2\. V2X UE #1 and V2X UE#2 have discovered each other based upon V2P service
and established a unicast connection using the V2X Service oriented Layer-2
link establishment procedure as specified in 3GPP TS 23.287 [19] clause
6.3.3.1.
Figure 9.22.3.2-1: VAE client - enabled V2P communication schedule
configuration
1\. On V2X UE #1, one or more V2X application specific clients send V2P
application requirement request to the VAE client, including application QoS
requirements for the V2P applications and provisioning policies and parameters
for the PC5 communication.
2\. The VAE client sends a V2P application requirement response to the
requestor V2X application specific client (s).
3\. V2X UE #1\'s VAE client consolidates requirements (from one or more
application specific clients) and generates a UE level transmission schedule,
so that the off-duration is maximized. The determination of the transmission
schedule can be determined based on the configuration on the UE (energy
efficiency target) and the service KPIs.
4\. V2X UE #1\'s VAE client sends a V2P communication schedule update request
which includes the generated UE level transmission schedule to other VAE
client 2 (in vicinity, or in service-based group), in order to negotiate the
optimal transmission pattern or inform on the expected reception pattern.
5\. V2X UE #2\'s VAE client optionally generates or updates the communication
schedule for V2X UE #2, based on step 4, or negotiates the traffic pattern.
6\. VAE client of V2X UE #2 may send a V2P communication schedule update
response indicating the result or an expected/generated UE #2 transmission
pattern (in case of negotiation).
7\. V2X UE #1\'s and V2X UE #2\'s VAE clients provide the updated traffic
pattern as V2X Application Requirements to V2X layer, also including QoS
requirements such as delay requirements, priority, etc., for the PC5
communication for both applications, as specified in 3GPP TS 23.287 [x] clause
5.4.1.1. VAE client may also indicate the transmission mode (unicast,
groupcast) per application. The V2X layer of UEs #1 and #2 process the
requirements from VAE client and generates a UE level DRX schedule. The AS
layer of UE #1 and #2 applies/configures the DRX schedule for the
corresponding V2X communication.
8\. VAE clients of V2X UEs #1 and #2 may send a V2P schedule notification to
the V2X application specific client(s) to inform on the communication traffic
pattern.
# 10 VAE layer APIs
## 10.1 General
The following VAE capabilities are offered as APIs:
\- VAE server APIs;
The following SEAL service APIs are specified in 3GPP TS 23.434 [6]:
\- Group management server APIs;
\- Location management server APIs;
\- Configuration management server APIs;
\- Identity management server APIs; and
\- Key management server APIs.
## 10.2 VAE server APIs
### 10.2.1 General
Table 10.2.1-1 illustrates the VAE server APIs.
Table 10.2.1-1: List of VAE server APIs
* * *
API Name API Operations Known Consumer(s) Communication Type
VAE_MessageDelivery API Deliver_DL_Message V2X application specific server
Request/ Response Deliver_UL_Message V2X application specific server
Subscribe/notify VAE_FileDistribution API Distribute_File V2X application
specific server Request/ Response VAE_ApplicationRequirement API
Reserve_NetworkResource V2X application specific server Subscribe/notify
Notify_NetworkResource  
VAE_DynamicGroup API Configure_DynamicGroup V2X application specific server
Request/Response Notify_DynamicGroup  
VAE_ServiceContinuity API Query_ServiceContinuity VAE server Request/Response
VAE_HDMapDynamicInfo API Subscribe_HDMapDynamicInfo V2X application specific
server Subscribe/notify Notify_HDMapDynamicInfo  
VAE_SessionOrientedService API Establish_Session V2X application specific
server Subscribe/notify Notify_Establish_Session  
Update_Session  
Notify_Update_Session  
Terminate_Session  
Notify_Terminate_Session  
VAE_PC5ProvisioningRequirement API Config_PC5ProvisioningRequirement V2X
application specific server Subscribe/notify Notify_PC5ProvisioningRequirement  
VAE_V2VConfigRequirement API Request_V2VConfigRequirement V2X application
specific server Request/Response VAE_ServiceAdaptationQoSControlInfo API _
Subscribe_ ServiceandQoSControlInfo V2X application specific server
Subscribe/notify Notify_ ServicandQoSControlInfo  
VAE_ VRUzoneManagement API Subscribe_VRUzoneManagement operation V2X
application specific server Subscribe/notify Notify_ Enter/Leave  
VAE_V2PApplicationRequirement API Request_ V2PApplicationRequirement V2X
application specific server, V2X application specific client Request/Response
* * *
The SEAL server(s) APIs available via SEAL-S reference point as specified in
3GPP TS 23.434 [6] are consumed by the V2X application specific server via the
VAE server (acting as a VAL server) over the Vs reference point. When V2X
application specific server invokes a SEAL server API via the VAE server over
the Vs reference point, the VAE server shall interact with the corresponding
SEAL server over the SEAL-S reference point for the API invocation request and
response.
NOTE: When V2X application specific server invokes a SEAL server API directly,
the V2X application specific server acting as VAL server shall interact with
the corresponding SEAL server over the SEAL-S reference point for the API
invocation request and response as specified in 3GPP TS 23.434 [6].
Editor\'s note: Whether the VAE_DynamicGroup API is to be moved to SEAL is
FFS.
### 10.2.2 VAE_MessageDelivery API
#### 10.2.2.1 General
**API description:** This API enables the V2X application specific server to
subscribe/unsubscribe to the VAE server and communicate with the VAE server to
send and receive V2X messages to and from the V2X UEs (including V2X groups).
#### 10.2.2.2 Deliver_DL_Message operation
**API operation name:** Deliver_DL_Message
**Description:** Delivers the V2X messages to the V2X UEs.
**Known Consumers:** V2X application specific server.
**Inputs:** Refer subclause 9.4.2.1, 9.4.2.3.
**Outputs:** None.
See subclause 9.4.3 and subclause 9.4.4 for the details of usage of this API
operation.
#### 10.2.2.3 Deliver_UL_Message operation
**API operation name:** Deliver_UL_Message
**Description:** Delivers the uplink V2X messages from the V2X UEs to the V2X
application specific server.
**Known Consumers:** V2X application specific server.
**Inputs:** None
**Outputs:** Refer subclause 9.4.2.4.
See subclause 9.4.5 for the details of usage of this API operation.
#### 10.2.2.4 V2X_MessageDelivery_Subscribe operation
**API operation name:** V2X_MessageDelivery_Subscribe
**Description:** Subscribe to the VAE server for sending and receiving V2X
messages.
**Known Consumers:** V2X application specific server.
**Inputs:** Refer subclause 9.4.2.6.
**Outputs:** Refer subclause 9.4.2.7.
See subclause 9.4.6 for the details of usage of this API operation.
#### 10.2.2.5 V2X_MessageDelivery_Unsubscribe operation
**API operation name:** V2X_MessageDelivery_Unsubscribe
**Description:** Unsubscribe to the VAE server for sending and receiving V2X
messages.
**Known Consumers:** V2X application specific server.
**Inputs:** Refer subclause 9.4.2.8.
**Outputs:** Refer subclause 9.4.2.9.
See subclause 9.4.6 for the details of usage of this API operation.
### 10.2.3 VAE_FileDistribution API
#### 10.2.3.1 General
**API description:** This API enables the V2X application specific server to
communicate with the VAE server to initiate file distribution to the V2X UEs.
#### 10.2.3.2 Distribute_File operation
**API operation name:** Distribute_File
**Description:** Distributes files to the V2X UEs.
**Known Consumers:** V2X application specific server.
**Inputs:** Refer subclause 9.5.2.
**Outputs:** Refer subclause 9.5.2.
See subclause 9.5.2 for the details of usage of this API operation.
### 10.2.4 VAE_ApplicationRequirement API
#### 10.2.4.1 General
**API description:** This API enables the V2X application specific server to
communicate with the VAE server to provide V2X application requirement to the
underlying 3GPP network.
#### 10.2.4.2 Reserve_NetworkResource operation
**API operation name:** Reserve_NetworkResource
**Description:** Provides V2X application requirement to underlying 3GPP
network.
**Known Consumers:** V2X application specific server.
**Inputs:** Refer subclause 9.11.2.1
**Outputs:** Refer subclause 9.11.2.2
See subclause 9.11.3 for the details of usage of this API operation.
#### 10.2.4.3 Notify_NetworkResource operation
**API operation name:** Notify_NetworkResource
**Description:** Notify the result of network resource adaptation
corresponding to the V2X application requirement.
**Known Consumers:** V2X application specific server.
**Inputs:** Refer subclause 9.11.2.3
**Outputs:** None
See subclause 9.11.3 for the details of usage of this API operation.
### 10.2.5 VAE_DynamicGroup API
#### 10.2.5.1 General
**API description:** This API enables the V2X application specific server to
communicate with the VAE server to configure dynamic group information.
#### 10.2.5.2 Configure_DynamicGroup operation
**API operation name:** Configure_DynamicGroup
**Description:** Configures the dynamic group information at the VAE server.
**Known Consumers:** V2X application specific server.
**Inputs:** Refer subclause 9.12.2.2.
**Outputs:** Refer subclause 9.12.2.3.
See subclause 9.12.3 for the details of usage of this API operation.
#### 10.2.5.3 Notify_DynamicGroup operation
**API operation name:** Notify_DynamicGroup
**Description:** Notify the dynamic group information (i.e. group member joins
or leaves) at the VAE server.
**Known Consumers:** V2X application specific server.
**Inputs:** Refer subclause 9.12.2.4.
**Outputs:** None.
See subclause 9.12.5 for the details of usage of this API operation.
### 10.2.6 VAE_ServiceContinuity API
#### 10.2.6.1 General
**API description:** This API enables the VAE server to query whether the
target VAE server can serve the GEO ID and V2X Service ID for service
continuity.
#### 10.2.6.2 Query_ServiceContinuity operation
**API operation name:** Query_ServiceContinuity
**Description:** Query the service continuity information.
**Known Consumers:** VAE server.
**Inputs:** Refer subclause 9.10.2.1.
**Outputs:** Refer subclause 9.10.2.2.
See subclause 9.10.3 for the details of usage of this API operation.
### 10.2.7 VAE_HDMapDynamicInfo API
#### 10.2.7.1 General
**API description:** This API enables the V2X application specific server to
communicate with the VAE server to subscribe and receive notifications for HD
map dynamic information.
#### 10.2.7.2 Subscribe_HDMapDynamicInfo operation
**API operation name:** Subscribe_HDMapDynamicInfo
**Description:** Subscribes for the HD map dynamic information at the VAE
server.
**Known Consumers:** V2X application specific server.
**Inputs:** Refer subclause 9.16.2.1.
**Outputs:** Refer subclause 9.16.2.2.
See subclause 9.16.3 for the details of usage of this API operation.
#### 10.2.7.3 Notify_HDMapDynamicInfo operation
**API operation name:** Notify_HDMapDynamicInfo
**Description:** Notify the HD map dynamic information at the VAE server.
**Known Consumers:** V2X application specific server.
**Inputs:** Refer subclause 9.16.2.3.
**Outputs:** None.
See subclause 9.16.6 for the details of usage of this API operation.
### 10.2.8 VAE_SessionOrientedService API
#### 10.2.8.1 General
**API description:** This API enables the V2X application specific server to
communicate with the VAE server to trigger establishment, update and
termination of session-oriented service.
#### 10.2.8.2 Establish_Session operation
**API operation name:** Establish_Session
**Description:** Triggers the establishment of the session-oriented service by
the VAE server.
**Known Consumers:** V2X application specific server.
**Inputs:** Refer subclause 9.19.2.1.
**Outputs:** Refer subclause 9.19.2.2.
See subclause 9.19.4.2 for the details of usage of this API operation.
#### 10.2.8.3 Notify_Establish_Session operation
**API operation name:** Notify_Establish_Session
**Description:** Notification about the establishment of the session-oriented
service by the VAE server.
**Known Consumers:** V2X application specific server.
**Inputs:** Refer subclause 9.19.2.3.
**Outputs:** None.
See subclause 9.19.5.2 for the details of usage of this API operation.
#### 10.2.8.4 Update_Session operation
**API operation name:** Update_Session
**Description:** Triggers the update to the session-oriented service by the
VAE server.
**Known Consumers:** V2X application specific server.
**Inputs:** Refer subclause 9.19.2.4.
**Outputs:** Refer subclause 9.19.2.5.
See subclause 9.19.4.3 for the details of usage of this API operation.
#### 10.2.8.5 Notify_Update_Session operation
**API operation name:** Notify_Update_Session
**Description:** Notification about the update to the session-oriented service
by the VAE server.
**Known Consumers:** V2X application specific server.
**Inputs:** Refer subclause 9.19.2.6.
**Outputs:** None.
See subclause 9.19.5.3 for the details of usage of this API operation.
#### 10.2.8.6 Terminate_Session operation
**API operation name:** Terminate_Session
**Description:** Triggers the termination of the session-oriented service by
the VAE server.
**Known Consumers:** V2X application specific server.
**Inputs:** Refer subclause 9.19.2.7.
**Outputs:** Refer subclause 9.19.2.8.
See subclause 9.19.5.4 for the details of usage of this API operation.
#### 10.2.8.7 Notify_Terminate_Session operation
**API operation name:** Notify_Terminate_Session
**Description:** Notification about the termination of the session-oriented
service by the VAE server.
**Known Consumers:** V2X application specific server.
**Inputs:** Refer subclause 9.19.2.9.
**Outputs:** None.
See subclause 9.19.5.4 for the details of usage of this API operation.
### 10.2.9 VAE_PC5ProvisioningRequirement API
#### 10.2.9.1 General
**API description:** This API enables the V2X application specific server to
communicate with the VAE server to request from VAE server the PC5 provisionng
service in multi-operator V2X scenarios.
#### 10.2.9.2 Config_PC5ProvisioningRequirement operation
**API operation name:** Config_PC5ProvisioningRequirement
**Description:** The V2X application specific server provides a V2X PC5
provisioning requirement to the VAE server.
**Known Consumers:** V2X application specific server.
**Inputs:** Refer subclause 9.15.2.1
**Outputs:** Acknowledgement message.
See subclause 9.15.3 for the details of usage of this API operation.
#### 10.2.9.3 Notify_PC5ProvisioningRequirement operation
**API operation name:** Notify_ PC5ProvisioningRequirement
**Description:** Notify the result of multi operation PC5 provisioning
requirement to the V2X UEs.
**Known Consumers:** V2X application specific server.
**Inputs:** Refer subclause 9.15.2.6
**Outputs:** None
See subclause 9.15.3 for the details of usage of this API operation.
### 10.2.10 VAE_V2VConfigRequirement API
#### 10.2.10.1 General
**API description:** This API enables the V2X application specific server to
provide a V2V configuration requirement to the VAE server to manage the UE-to-
UE broadcast/groupcast communication.
#### 10.2.10.2 Request_V2VConfigRequirement operation
**API operation name:** Request_V2VConfigRequirement
**Description:** The V2X application specific server provides a V2V
configuration requirement request to the VAE server to manage the UE-to-UE
broadcast/groupcast communication.
**Known Consumers:** V2X application specific server.
**Inputs:** Refer subclause 9.17.2.1
**Outputs:** Refer subclause 9.17.2.2
See subclause 9.17.3 for the details of usage of this API operation.
### 10.2.11 VAE_ ServiceAndQoSControlInfo API
#### 10.2.11.1 General
**API description:** This API enables the V2X application specific server to
communicate with the VAE server to subscribe and receive notifications for
service adaptation and QoS control information.
#### 10.2.11.2 Subscribe_ ServiceAndQoSControlInfo operation
**API operation name:** Subscribe_ ServiceAndQoSControlInfo
**Description:** Subscribes for the service adaptation and QoS control
information at the VAE server.
**Known Consumers:** V2X application specific server.
**Inputs:** Refer subclause 9.20.2.1.
**Outputs:** Refer subclause 9.20.2.2.
See subclause 9.20.3 for the details of usage of this API operation.
This service operation also enables to update/delete an existing subscription
at the VAE server. For the update case, the parameters that may be updated are
V2X group ID, V2X service ID, and V2X UE ID.
#### 10.2.11.3 Notify_ ServiceAndQoSControlInfo operation
**API operation name:** Notify_ ServiceAndQoSControlInfo
**Description:** Notify the service adaptation and QoS control information at
the VAE server.
**Known Consumers:** V2X application specific server.
**Inputs:** Refer subclause 9.20.2.3.
**Outputs:** None.
See subclause 9.20.4 for the details of usage of this API operation.
### 10.2.12 VAE_ VRUzoneManagement API
#### 10.2.12.1 General
**API description:** This API enables the V2X application specific server to
communicate with the VAE server to subscribe and receive notifications for VRU
zone management.
#### 10.2.12.2 Subscribe_VRUzoneManagement operation
**API operation name:** Subscribe_VRUzoneManagement
**Description:** Subscribes for the VRU zone management / configuration at the
VAE server.
**Known Consumers:** V2X application specific server.
**Inputs:** Refer subclause 9.21.2.1.
**Outputs:** Refer subclause 9.21.2.2.
See subclause 9.21.3 for the details of usage of this API operation.
#### 10.2.12.3 Notify_ Enter/Leave operation
**API operation name:** Notify_ Enter/Leave
**Description:** Notify the entry or leave of the V2X UE to / from the VRU
zone area, based on the subscription.
**Known Consumers:** V2X application specific server.
**Inputs:** Refer subclause 9.21.2.4.
**Outputs:** None.
See subclause 9.21.3 for the details of usage of this API operation.
### 10.2.13 VAE_ V2PApplicationRequirement
#### 10.2.13.1 General
**API description:** This API enables the V2X application specific server or
the V2X application specific client to communicate with the VAE server to
provide a requirement to manage the support functionality for enabling V2P
applications.
#### 10.2.13.2 Request_V2PApplicationRequirement
**API operation name:** Request_V2PApplicationRequirement
**Description:** The V2X application specific server or client provides a V2P
application requirement request to the VAE server to provide the support
functionality for enabling V2P applications.
**Known Consumers:** V2X application specific server, V2X application specific
client.
**Inputs:** Refer subclause 9.22.2.1.
**Outputs:** Refer subclause 9.22.2.2.
See subclause 9.22.3.1 and 9.22.3.2 for the details of usage of this API
operation.
###### ### Annex A (informative): Detailed V2X application layer functional
model
Figure A-1 illustrates the detailed V2X application layer functional model
including all the functional entities of the VAE layer and the functional
entities of the SEAL as specified in 3GPP TS 23.434 [6].
Figure A-1: Detailed V2X application layer functional model
###### ## Annex B (informative): Functionalities with SA2 dependency
# B.1 Service negotiation with underlying 3GPP network
## B.1.1 General
The following information flows for service negotiation with the 3GPP network
are not supported in 3GPP TS 23.682 [8].
## B.1.2 Information flows
### B.1.2.1 Supporting information request
Table B.1.2.1-1 describes the information flow for a VAE server to provide the
network with supporting information for service negotitation with the 3GPP
network.
Table B.1.2.1-1: Supporting information request
* * *
Information element Status Description Supporting Information O Indicating
supporting information by the VAE server to increase the network awareness
related to the service. Example of supporting information is planned/expected
UE trajectory, which can be provided in the form of waypoints (GPS
coordinates) and associated timestamps.
* * *
Editor\'s note: Reference to the appropriate SA2 specification is needed and
corresponding information flow table can be removed.
Editor\'s note: Need to verify with SA2 specifications on the exact support
provided to this feature.
### B.1.2.2 Supporting information response
Table B.1.2.2-1 describes the information flow for a network to provide a
response associated to a supporting information request.
Table B.1.2.2-1: Supporting information response
* * *
Information element Status Description Result M Response from the network if
supporting information is supported by the 3GPP network.
* * *
Editor\'s note: Reference to the appropriate SA2 specification is needed and
corresponding information flow table can be removed.
### B.1.2.3 Void
### B.1.2.4 Void
## B.1.3 Void
## B.1.4 Void
# B.2 Void
###### ## Annex C (normative): V2X application enabler related configuration
data
# C.1 General
This Annex provides information about the static data needed for configuration
for the V2X application enabler service, which belongs to one of the following
categories:
\- VAE client configuration data (see subclause C.2); and
\- VAE server configuration data (see subclause C.3).
# C.2 VAE client configuration data
The procedure of VAE client related configuration are specified in 3GPP TS
23.434 [6]. Data in tables C.2-1 has to be known by the VAE client.
Data in table C.2-1 can be configured using the CM-UU reference point as
specified in 3GPP TS 23.434 [6].
Table C.2-1: VAE client related configuration data
* * *
Reference Parameter description Clause 8.1 and clause 9.1.2.2 V2X user/UE
identity Clause 9.1.2.2 V2X service ID Clause 9.1.2.2 V2X server USD Clause
9.2.3 and Clause 9.1.2.3 IP address and port information of the initial VAE
server serving the VAE client Clause 9.3.3 GEO ID information
* * *
# C.3 VAE server configuration data
The procedure of VAE server related configuration are specified in 3GPP TS
23.434 [6]. Data in tables C.3-1 has to be known by the VAE server.
Data in table C.3-1 can be configured using the CM-S reference point as
specified in 3GPP TS 23.434 [6].
Table C.3-1: VAE server related configuration data
* * *
Reference Parameter description Clause 8.1 List of V2X user identities Clause
9.7.4.2 IP address of the EPS entity SCEF Clause 9.10.3.2 List of IP addresses
of the neighboring VAE servers Clause 9.11.3.2 IP address of the NRM server
Clause 9.12.3.2 Unique pool of ProSe Layer-2 Group IDs Clause 9.5.2 BM-SC
information
* * *
###### ## Annex D (normative): Utilization of edge computing
The application architecture for supporting edge applications are specified in
3GPP TS 23.558 [25]. The V2X application layer functional model as specified
in clause 6 may be deployed in edge computing environment.
Figure D-1 illustrates a V2X application layer deployment in edge computing
environments.
Figure D-1: Utilization of edge computing
Figure D-1 illustrates the utilization of edge computing for V2X application
layer based on edge enabler layer specified in 3GPP TS 23.558 [25].
At UE side, V2X Application Specific client(s) and VAE client interact with
the Edge Enabler Client (EEC) via EDGEâ€‘5 reference point. In an Edge Data
Network (EDN), V2X Application Specific Server and VAE server assume the role
of EAS (Edge Application Server) and interacts with the Edge Enabler Server
(EES) via EDGE-3 reference point, for instance, to register its profile into
the EES. Upon service provisioning, the EEC interacts with the EES via EDGE-1
reference point, for instance, to discover V2X Application Specific Server(s)
and VAE Server and further the EEC provides the discovered V2X Application
Specific Server(s) and VAE server to the V2X Application Specific client and
VAE client respectively. The interactions between the entities and 5GS are not
shown for the sake of simplicity.
In an EDN, there could be several EES(s) provided by the same or different
ECSP. The V2X application specific server(s), VAE server(s) and SEAL servers
(e.g. GMS, NRMS, ADAES) shall be able to discover and register into an
appropriate EES. If CAPIF is used, this can be done by utilizing the AEF
serving area and/or the AEF location as described in 3GPP TS 23.222 [x];
otherwise, local configuration of the EES endpoint may be used.
The services provided by EES over EDGE-3 are not re-exposed by the VAE server
or SEAL servers to the V2X application specific server but are directly
consumed by the SEAL servers, VAE server and V2X application specific
server(s).
NOTE: This clause illustrates an example edge deployment using edge enabler
layer and there can be other valid edge deployments enabled for V2X
application layer.
#