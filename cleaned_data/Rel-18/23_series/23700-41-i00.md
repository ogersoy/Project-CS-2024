# Foreword
This Technical Report has been produced by the 3rd Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
In the present document, modal verbs have the following meanings:
**shall** indicates a mandatory requirement to do something
**shall not** indicates an interdiction (prohibition) to do something
The constructions \"shall\" and \"shall not\" are confined to the context of
normative provisions and do not appear in Technical Reports.
The constructions \"must\" and \"must not\" are not used as substitutes for
\"shall\" and \"shall not\". Their use is avoided insofar as possible and they
are not used in a normative context except in a direct citation from an
external, referenced, non-3GPP document, or so as to maintain continuity of
style when extending or modifying the provisions of such a referenced
document.
**should** indicates a recommendation to do something
**should not** indicates a recommendation not to do something
**may** indicates permission to do something
**need not** indicates permission not to do something
The construction \"may not\" is ambiguous and is not used in normative
elements. The unambiguous constructions \"might not\" or \"shall not\" are
used instead, depending upon the meaning intended.
**can** indicates that something is possible
**cannot** indicates that something is impossible
The constructions \"can\" and \"cannot\" are not substitutes for \"may\" and
\"need not\".
**will** indicates that something is certain or expected to happen as a result
of action taken by an agency the behaviour of which is outside the scope of
the present document
**will not** indicates that something is certain or expected not to happen as
a result of action taken by an agency the behaviour of which is outside the
scope of the present document
**might** indicates a likelihood that something will happen as a result of
action taken by some agency the behaviour of which is outside the scope of the
present document
**might not** indicates a likelihood that something will not happen as a
result of action taken by some agency the behaviour of which is outside the
scope of the present document
In addition:
**is** (or any other verb in the indicative mood) indicates a statement of
fact
**is not** (or any other negative verb in the indicative mood) indicates a
statement of fact
The constructions \"is\" and \"is not\" do not indicate requirements.
# 1 Scope
The Technical Report studies the gaps and performs evaluations of potential
architecture enhancements to support Network Slicing with the following
objectives:
1\. Study whether and how to address the following scenario in order to
provide service continuity: if an existing network slice or network slice
instance cannot serve the PDU session, or if the existing network slice
instance cannot meet the performance requirements of the applications. The
study should investigate whether deployment optimization is sufficient.
Minimized system optimisations can be considered if valuable.
2\. Study whether and how to initiate a registration for a rejected S-NSSAI
that was rejected in a first TA of the RA but may be available in another TA
of the RA.
3\. Study whether and how to support the following stage one Rel-18 EASNS
requirements related to roaming specified in TS 22.261 clause 6.1.2.1, i.e.
Requirement on enhancement the information available to the UE in roaming
scenarios regarding the availability of network slices in VPLMNs available in
the roaming country, in order to allow the UE to select and obtain services
from the VPLMN supporting the network slices which UE may wish to use.
4\. Study whether and how to enhance the system to ensure network controlled
behaviour of network slice usage including UE registration and PDU Session
establishment (e.g. so that when performing NSAC the network slice can serve
UEs/PDU Sessions with actual activity).
5 Study deployment considerations when a service provided has an area of
service that does not overlap with the already deployed Tracking Areas and/or
have a limited lifetime and how existing mechanisms including network slicing
can help support such scenarios. If existing mechanisms are concluded to be
not sufficient to achieve the scenarios, study whether and how additional
mechanisms can resolve the analysed gap.
6\. Study whether and how to enhance the support of NSAC when more than one
NSACF is involved in enforcing a shared maximum allowed number of the UEs or
PDU Sessions for a network slice in one PLMN or in roaming, in order to avoid
fragmentation of the shared maximum allowed number. This item depends on the
outcome of corresponding Rel-17 CRs.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.501: \"System architecture for the 5G System (5GS)\".
[3] 3GPP TR 38.832: \"Study on enhancement of Radio Access Network (RAN)
slicing\".
[4] 3GPP TS 22.261: \"Service requirements for next generation new services
and markets; Stage 1\".
[5] 3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".
[6] 3GPP TS 29.571: \"5G System; Common Data Types for Service Based
Interfaces; Stage 3\".
[7] 3GPP TS 23.122: \"Non-Access-Stratum (NAS) functions related to Mobile
Station (MS) in idle mode\".
[8] 3GPP TS 38.413: \"NG-RAN; NG Application Protocol (NGAP)\".
[9] 3GPP TS 38.304: \"User Equipment (UE) procedures in Idle mode and RRC
Inactive state\".
[10] 3GPP TS 22.071: \"Location Services (LCS); Service Description\".
[11] 3GPP TS 38.331: \"Radio Resource Control (RRC) protocol specification\".
[12] 3GPP TS 23.503: \"Policy and charging control framework for the 5G System
(5GS)\".
[13] 3GPP TS 28.541: \"Management and orchestration; 5G Network Resource Model
(NRM)\".
[14] 3GPP TS 33.501: \"Security architecture and procedures for 5G system\".
[15] 3GPP TS 23.273: \"5G System (5GS) Location Services (LCS); Stage 2\".
[16] 3GPP TS 24.501: \"Non-Access-Stratum (NAS) protocol for 5G System (5GS);
Stage 3\".
# 3 Definitions of terms and abbreviations
## 3.1 Terms
For the purposes of the present document, the terms given in TR 21.905 [1], TS
23.501 [2] and the following apply. A term defined in the present document
takes precedence over the definition of the same term, if any, in TR 21.905
[1] and TS 23.501 [2].
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1], TS 23.501 [2] and the following apply. An abbreviation defined in the
present document takes precedence over the definition of the same
abbreviation, if any, in TR 21.905 [1] and TS 23.501 [2].
# 4 Architectural Assumptions and Requirements
The following architectural requirements apply:
\- Solutions may include reuse (in part or totally) of existing mechanisms.
When reuse is deemed to be possible, whether new approaches shall also be
adopted or added shall be subject of evaluation. (i.e. it shall be considered
whether the reuse of existing system capabilities is sufficiently effective
and efficient in addressing the problem space).
# 5 Key Issues
## 5.1 Key Issue #1: Support of Network Slice Service continuity
### 5.1.1 Description
This Key issues is aiming to address WT#1. The following scenarios can happen:
**1) No mobility scenario:**
Scenario 1a): network slice is overloaded in NG-RAN.
Scenario 1b): network slice or network slice instance is overloaded or
undergoing planned maintenance in CN (e.g. network slice termination).
Scenario 1c): network performance of the network slice cannot meet the SLA.
**2) Inter RA Mobility scenario:**
Scenario 2a): network slice is not supported in the target RAN node.
Scenario 2b): network slice in target RAN node is overloaded.
Scenario 2c): network slice is not supported in the target CN.
Scenario 2d): network slice or network slice instance is overloaded in the
target CN.
This key issue is to study whether and how to provide service continuity for
PDU sessions in network slices in the above scenarios 1b), 1c) and 2d).
NOTE 1: PDU Session with different SSC modes will be considered during the
study.
NOTE 2: For scenario 1a) and 2b), TR 38.832 [3] already has conclusion.
However it doesn\'t preclude that solutions defined for this key issue can
also be used in these scenarios.
NOTE 3: For scenario 2a) and 2c), it is a deployment issue and assumed not to
be studied in SA WG2.
Editor\'s note: It is FFS whether there is a need to study 2a) and 2c).
NOTE 4: Coordination with RAN working groups may be needed to conclude the key
issue.
## 5.2 Key Issue #2: Support of providing VPLMN network slice information to a
roaming UE
### 5.2.1 Description
As an outcome of SA WG1 EASNS (Enhanced Access to and Support of Network
Slice) work, clause 6.1.2.1 of TS 22.261 [4] captures the following service
requirement for a roaming UE.
_For a roaming UE activating a service/application requiring a network slice
not offered by the serving network but available in the area from other
network(s), the HPLMN shall be able to provide the UE with prioritization
information of the VPLMNs with which the UE may register for the network
slice._
This key issue aims at addressing the following aspects for a roaming UE
requiring a network slice not offered by higher priority VPLMN(s) but
available from other network(s):
\- Study how and when the HPLMN provides the UE with information about slice
availability per VPLMN and prioritization information of the VPLMNs with which
the UE may register for the network slice. The study includes the content of
the information.
\- Study how and when to use the information received by the UE from the HPLMN
to influence automatic PLMN selection.
NOTE 1: For details on PLMN selection aspects and impacts on PLMN selection of
solutions of this key issue, coordination with CT1 is needed.
NOTE 2: Impacts to manual selection is not in scope of the key issue.
This key issue only considers the network selection procedure for the 3GPP
access type.
NOTE 3: Coordination with the Study Item FS_5WWC_Ph2 is required regarding the
VPLMN selection procedure when non-3GPP access type is used.
## 5.3 Key Issue #3: Network Slice Area of Service for services not mapping to
existing TAs boundaries and Temporary network slices
### 5.3.1 Description
Network Slices are deployed for services over an Area of Service which may
match the existing TAs or for which the Area of Service can be different.
Currently, the network slice availability (i.e. where the network slices are
defined to be supported) is designed to match deployed TA boundaries. In
addition, the UEs and network configuration can be impacted when network
slices are deployed and decommissioned over certain time interval (e.g. the
Configured NSSAI can change when a network slice is no longer available or
becomes available, this can affect the Allowed NSSAI and other parameters and
in turn the RA may need to change, etc.).
This Key Issue will study how to address the issues described above and
whether system level improvements are needed to mitigate e.g. the deployment
and control plane issues that arise due to the currently defined system
behaviour:
\- The support of services over network slices when the services have Area of
Service not matching the existing deployed TA boundaries.
\- The support of network slices which have a limited lifetime (including how
to gracefully terminate a network slice which can apply also to network slices
which have a longer lifespan in order to avoid abrupt PDU Session release).
NOTE: Coordination with SA WG5 can be needed for Network Slice Life Cycle
Management aspects.
## 5.4 Key Issue #4: Support of NSAC involving multi service Area
### 5.4.1 Description
For one S-NSSAI, there is only one configured global Maximum allowed number
value for NSAC. It is possible more than one service area is associated with
one S-NSSAI, e.g. to split a PLMN into multi-service areas. This impacts the
use cases below as there will be more than one NSACF handling the UE:
\- Multi NSACF deployed within one PLMN: For NSACF deployment more than one
service area are defined within one PLMN. For each service area one NSACF or
NSACF set is selected for slice admission control. This include the control of
the maximum allowed number of UE or PDU session.
\- Roaming: when one user resides at the visit PLMN, the NSAC (Maximum PDU
session) may be controlled by the NSACF in the VPLMN (e.g. for LBO PDU
session), or the NSACF in the HPLMN (e.g. for HR PDU session).
\- EPS interworking: when the user establishes a HR PDN connection at the EPS
network and move to 5GS later, the NSACF(Maximum UE number) selected by the
SMF+PGW-C and AMF may be different.
This key issue addresses the above cases, to ensure consistent NSAC handling
against the configured global Maximum allowed number. The following aspects
will be covered by the key issue:
\- UE Registration.
\- PDU Session establishment.
\- Session continuity when UE move across the service area.
## 5.5 Key Issue #5: Improved support of RAs including TAs supporting Rejected
S-NSSAIs
### 5.5.1 General description
When the AMF creates a Registration Area (RA) with one or more Tracking Areas
(TAs), all the S-NSSAIs of the S-NSSAIs in the Allowed NSSAI need to be
available in all the TAs of the RA. If the UE requests an S-NSSAI that is not
available in current TA, with current specifications this S-NSSAI is rejected
with an indication that the S-NSSAI is not available in the RA. This cause
code indicates to the UE that the UE is not allowed to try to register the
S-NSSAI again in any of the TAs of the RA. This restriction is placed on the
UE even if some of the TAs in the RA do support the S-NSSAI. This then creates
the need to choose between optimal RA (considering the trade-off between
paging load vs. the load generated due to Mobility Registration Update (MRU)
requests) and the goal to allow the UE to register as soon as possible with
the S-NSSAI that was not supported in the TA where the S-NSSAI was not
available and therefore not allowed.
This key issue will study whether and how to allow the UE to initiate a
registration for an S-NSSAI which was rejected for the RA when the UE enters a
TA that is part of the RA and the TA supports this S-NSSAI.
NOTE: When an RA is created considering the trade-off between paging load vs
the load generated due to Mobility Registration Update (MRU), without
considering the need of the UE to register with an S-NSSAI in these TAs, the
AMF can add to the RA TAs that support an S-NSSAI that was not available in
the TA where the S-NSSAI was not allowed.
## 5.6 Key Issue #6: Improved network control of the UE behaviour
### 5.6.1 Description
In the 5GS specifications up to rel-17, a UE Registers/Deregisters with a
Network Slice and establishes/tears down PDU sessions based on own policy
taking into account network provided information such as the URSPs. However,
this does not allow an operator e.g. to enforce that the UE only registers
with a S-NSSAI when it is actually needed to have connectivity in the related
network slice. A UE may in fact choose to register with all the Configured
NSSAIs and then use the URSP just to decide which DNNs to connect to at run
time. Also, it is not clear whether a UE can be requested by the operator to
establish connectivity with a DNN based on own logic and URSPs at any time
e.g. based on the UE configuration alone.
Operators currently do not have the ability to enforce when the UE can
register with network slices based on e.g. only on actual need of connectivity
in a network slice, or by configuration independent of detected need of
connectivity, etc. depending on e.g. what is best for the domain of
application (e.g. to save battery usage one may just register based on
configuration despite the URSPs are provisioned, or, when NSAC is applied on
the number of UEs, the operators may want the UE to deregister from the slice
subject to NSAC and register with it based on actual usage.)Operators also
cannot provide to the UE a policy for deregistration of a network slice or
tear down of a PDU session (e.g. the operator cannot control the time when a
PDU session is released after it is last needed by any application running in
the UE, nor can the operator define the earliest time a UE is allowed to
deregister from a network slice after there are no more PDU sessions
established over it).
There is also no way for the serving PLMN to steer a UE to a preferred slice
of the serving PLMN (i.e. the HPLMN or VPLMN) even if the UE may have the
related HPLMN slice included in the possible connectivity options (URSP) for
one application.
NOTE: for the purpose of this Key Issue, usage of a PDU session means there is
at least one application actually uses the connectivity of the PDU session.
This Key Issue will study how to enable network-controlled behaviour and
ensure the proper utilization of Slices in the system (e.g. what the network
can request to the UE and how and what additional policies the network can
provide to the UE) taking into account the above aspects (e.g. actual slice
usage, UE activity, etc.).
# 6 Solutions
## 6.0 Mapping of Solutions to Key Issues
Table 6.0-1: Mapping of Solutions to Key Issues
Solutions Key Issues
* * *
                                                                                                                             KI\#1        KI\#2   KI\#3   KI\#4   KI\#5   KI\#6
Solution #1: Additional S-NSSAI associated with the PDU session X  
Solution #2: Slice Re-mapping Capabilities for Network Slice Service
Continuity X  
Solution #3: Support of Network Slice Service continuity using SSC mode 3 X  
Solution #4: PDU Session on compatible network slice X  
Solution #5: PDU session handover to a target CN with an alternative S-NSSAI
support X  
Solution #6: Extended SoR VPLMN Slice Information transfer to UEs X  
Solution #7: Enabling awareness of Network Slice availability in VPLMNs X  
Solution #8: Gracefully network slice termination X  
Solution #9: Support of a Network Slice with an AoS not matching existing TA
boundaries X  
Solution #10: Associating a validity timer with a temporary slice X  
Solution #11: Enabling UEs to Request S-NSSAIs not uniformly available X X  
Solution #12: Solution for Centralized Counting for Multiple Service Areas and
5GS-EPS Interworking X  
Solution #13: Hierarchical NSACF Architecture for Maximum UE/PDU Session
number control X  
Solution #14: Maximum Number Distribution in multiple NSACFs X  
Solution #15: Service continuity in case of Network Slice instance overload X  
Solution #16: UE assisted slice based VPLMN prioritization for Extended SoR X  
Solution #17: Slice based VPLMN Selection Policy X  
Solution #18: Sending rejected NSSAI to the UDM to assist the UDM to steer the
UE to the PLMN supporting rejected NSSAI X  
Solution #19: configuring the UE with network slice aware preferred PLMNs
lists X  
Solution #20: VPLMN Selection following existing SoR information X  
Solution #21: Temporary slice based on URSP X  
Solution #22: Enabling graceful slice termination with support of UE policies
X  
Solution #23: UE registration for conditional network slices X X  
Solution #24: On the handling temporary network slices X  
Solution #25: Handling Rejected S-NSSAIs in some TAs of RA X  
Solution #26: Multiple areas and resource partitioning X X  
Solution #27: Exception to the rejected NSSAI handling X  
Solution #28: **Support of network slices with TA granularity within a RA** X  
Solution #29: On handling S-NSSAIs not supported in certain TAs of a RA during
a registration X X  
Solution #30: Rejected S-NSSAI with new cause value X  
Solution #31: Enabling Flexible RAs with Slice Service Area X  
Solution #32: Solution for Network Control for UE Slice Use X X Solution #33:
Slice-specific implicit deactivation timers X Solution #34: **On-demand
slices** X Solution #35: Network Slice usage control by the network X Solution
#36: UE provided reason for registration to S-NSSAI X Solution #37: Actual UE
Activity-based Slice Admission Control X Solution #38: On configuring the UE
with UE behaviour policies X Solution #39: Serving PLMN steering UE to
preferred slice for selection of PDU session X Solution #40: S-NSSAI change
decided by PCF X  
Solution #41: Network Slice change without service interruption X  
Solution #42: Network controlled change to an alternative S-NSSAI X  
Solution #43: Allowed NSSAI Determination in Initial Registration to Support
Network Slice Service Continuity X  
Solution #44: Controlling UE access to the network per Network Slice on a per
cell level granularity X  
Solution #45: Constrained Service Area for the Network Slice X  
Solution #46: Controlling network slice based on UE\'s inactive PDN connection
X
## 6.1 Solution #1: Additional S-NSSAI associated with the PDU session
### 6.1.1 Introduction {#introduction-1}
This solution aims to address the key issues#1: Support of Network Slice
Service continuity, particularly it reuses the concept that the PDU session
can be associate with two S-NSSAIs (based on values provided in mapping of
Allowed NSSAI in case of e.g. roaming). The scenario covers the case where NFs
(e.g. AMF, SMF, UPF...) in a network slice instance support multiple S-NSSAIs.
How to split the resource depends on implementation. It is possible that the
resource of one S-NSSAI is getting congested, while other S-NSSAI is not (e.g.
there is a fixed allocation of resources to each S-NSSAI in the NF instances).
This solution proposes that when one S-NSSAI is congested, the network can
associate the PDU session with additional S-NSSAI in order to provide service
continuity during mobility scenario (scenario 2d), so the resource allocated
in SMF and/or UPF for one S-NSSAI can be shared by other S-NSSAI if other
S-NSSAI is getting congested. This solution can also be used for PDU Session
establishment procedure in scenario 1b.
Editor\'s note: The validity of the scenario that this solution covers is to
be further assessed.
NOTE: This solution may be extended to cover no mobility scenarios 1b and 1c
described in clause 5.1.1
Editor\'s note: It is FFS whether and how the PDU Session can be associated
with more than one S-NSSAI within a PLMN
### 6.1.2 Functional Description
In this solution it is assumed that a network slice instance may be associated
with multiple S-NSSAIs in the PLMN and each S-NSSAI may use different network
resources. The AMF, SMF and UPF is configured with which S-NSSAIs are
associated with the network slice instance. When the UE establishes PDU
session it determines the requested S-NSSAI based on the URSP rules. The PDU
Session is initially associated with this requested S-NSSAI. When this
requested S-NSSAI become congested in the area of interest, the network may
associate the PDU session with an additional S-NSSAI which can be associated
with the network slice instance and is not congested in this area. The network
then sends during the PDU Session establishment this additional S-NSSAI
associated with the PDU session to the NG-RAN, instead of the original
requested S-NSSAI. After the S-NSSAI congestion is mitigated, the network may
remove the additional S-NSSAI of the PDU Session locally in the CN.
The AMF may determine the S-NSSAI is congested in the area of interest and the
impacted PDU sessions based on the load level information or service
experience for a Network Slice or network slice instance provided by the
NWDAF.
When the AMF determines to associate the PDU session with an additional
S-NSSAI and if there is an I-SMF, the AMF provides the additional S-NSSAI to
the I-SMF and the I-SMF provides the additional S-NSSAI to the SMF. If there
is no I-SMF, the AMF provides the additional S-NSSAI to SMF. The I-SMF/SMF
uses this additional S-NSSAI in the N2 information and send it to NG-RAN. The
I-SMF/SMF may also send the additional S-NSSAI to the UPF.
This additional S-NSSAI is not provided to the UE, so from UE perspective the
PDU session is still associated with the original requested S-NSSAI and
therefore no impact on the UE side. Since the PDU session is still associated
with the original requested S-NSSAI, the anchor SMF/UPF and the IP address is
not changed so service continuity is ensured.
NOTE 1: From RAN perspective, the PDU session is only associated with single
S-NSSAI
Editor\'s note: In this solution PDU session can be associated with different
S-NSSAIs in UE and RAN node. The impact on the RAN is FFS.
NOTE 2: It is not necessary that the additional S-NSSAI is part of Allowed
NSSAI.
For PDU Session with home routed scenario, the AMF may determine to associate
this PDU session with additional S-NSSAI in the VPLMN. The AMF doesn\'t update
the slice mapping between VPLMN and HPLMN in the UE.
NOTE 3: When the AMF detects that the original requested S-NSSAI is not
congested, the AMF may remove the additional S-NSSAI associated with the PDU
session.
During PDU Session establishment procedure, if the requested S-NSSAI is
congested in this area, the AMF may also determine to associate both the
requested S-NSSAI and the additional S-NSSAI with the PDU session.
### 6.1.3 Procedures
#### 6.1.3.1 Additional S-NSSAI handling during Handover Procedure
The target AMF is configured that both S-NSSAI#1 and S-NSSAI#2 are associated
with one network slice instance.
Figure 6.1.3.1-1: Additional S-NSSAI handling during Handover Procedure
1\. The UE establishes a PDU session with the requested S-NSSAI#1 via S-RAN.
2\. S-RAN performs a UE measurement and determines that a handover to the
T-RAN is needed. The S-RAN sends a handover required message(T-RAN node
information, a source to target transparent container, an SM N2 information
list, PDU session ID(s)) to the AMF via the N2 interface.
3\. The source AMF selects a target AMF based on the T-RAN node information
and create UE context in the target AMF.
4\. If the target AMF is notified that the S-NSSAI#1 is under congestion in
the CN and the service continuity of the PDU session is required, the target
AMF checks if the S-NSSAI#2 is supported in the T-RAN node. If it is supported
the target AMF determines to associate the PDU session with additional
S-NSSAI#2.
5\. The target AMF sends an Nsmf_PDUSession_UpdateSMContext request message
(the PDU session ID, the S-NSSAI#2, N2 SM Information) to the SMF. The SMF
associates the S-NSSAI#2 with the PDU session.
6\. The SMF may modify the N4 session to update the N4 session information in
the UPF.
7\. The SMF sends a Nsmf_PDUSession_UpdateSMContext response message (PDU
session ID, N2 SM Information) to the target AMF. The N2 SM information
includes the S-NSSAI#2 received from the AMF.
8\. The rest steps in N2 based handover procedure are performed.
#### 6.1.3.2 Additional S-NSSAI handling during PDU Session Establishment
Procedure
The target AMF is configured that both S-NSSAI#1 and S-NSSAI#2 are associated
with one network slice instance.
Figure 6.1.3.2-1: Additional S-NSSAI handling during PDU Session establishment
Procedure
1\. The UE establishes a PDU session with the requested S-NSSAI#1 via RAN.
2\. The AMF is notified that the S-NSSAI#1 is under congestion in the CN, the
AMF checks if the S-NSSAI#2 is supported in the RAN node. If it is supported
the AMF determines to associate the PDU session with additional S-NSSAI#2.
3\. The AMF sends an Nsmf_PDUSession_CreateSMContext request message (the PDU
session ID, requested S-NSSAI#1, S-NSSAI#2, SM NAS container) to the SMF. The
SMF determines that the PDU session is associated with both S-NSSAI#1 and
S-NSSAI#2.
4\. The SMF creates the N4 session to update the N4 session information in the
UPF.
5\. The SMF sends a Nsmf_PDUSession_CreateSMContext response message to AMF.
6\. The SMF sends Namf_Communication_N1N2MessageTransfer(PDU session ID, N2 SM
Information) to the AMF. The N2 SM information includes the S-NSSAI#2 received
from the AMF.
7\. The AMF sends the N2 message to the RAN node, including the N2 SM
information.
8\. The rest steps in PDU Session establishment procedure are performed.
### 6.1.4 Impacts on existing entities and interfaces
AMF:
\- support two S-NSSAIs associated with one PDU session for non roaming case
SMF/I-SMF:
\- support two S-NSSAIs associated with one PDU session for non roaming case
UPF:
\- support two S-NSSAIs associated with one PDU session for non roaming case
NG-RAN: (TBD)
UE: None
## 6.2 Solution #2: Slice Re-mapping Capabilities for Network Slice Service
Continuity
### 6.2.1 Introduction {#introduction-2}
The solution addresses the Key Issue #1: Support of network slice service
continuity.
### 6.2.2 Functional Description
The solution provides a mechanism to determine a re-mapped slice for a network
slice that requires slice re-mapping due to an overload, planned maintenance,
etc. and to move ongoing PDU sessions to the re-mapped slice. The solution can
be applied to the scenario 1b) and 1c).
### 6.2.3 Procedures
#### 6.2.3.1 General
During a registration procedure, AMF selects PCF that supports slice re-
mapping and obtain an information for slice re-mapping. A call flow for slice
re-mapping policy at registration procedure is shown in Figure 6.2.3.2-1.
When a network slice that requires slice re-mapping occurs, AMF obtain a
remapped S-NSSAI for each PDU session that is associated with a network slice
that requires slice re-mapping either via PCF or via AMF itself. Once a re-
mapped slice is selected for the network slice that requires slice re-mapping,
for each old PDU session associated with the network slice that requires slice
re-mapping, AMF may interact with SMF to change the S-NSSAI of the PDU
session. A call flow for changing S-NSSAI of PDU session is shown in Figure
6.2.3.3-1.
#### 6.2.3.2 Registration
Figure 6.2.3.2-1: Slice re-mapping policy at registration **procedure**
1\. A UE triggers registration with the network.
2\. The AMF may interact with AUSF and UDM according to clause 4.2.2.2.2 in TS
23.502 [5].
3\. If the AMF decides to perform PCF discovery and selection and if the AMF
supports slice re-mapping, the AMF may select PCF that supports slice re-
mapping by utilizing NRF or local configuration.
4\. The AMF may request PCF to obtain AM policy.
5\. The PCF provides a policy including a PCR trigger of slice re-mapping
required that instructs the AMF to interact with PCF when a network slice that
requires slice re-mapping occurs to AMF.
6\. In the UE policy association procedure, the PCF provides a PCR trigger of
change of re-mapped slice that instructs the AMF to interact with PCF when a
new network slice for a slice that requires slice re-mapping is selected.
7\. A rest of the UE registration procedure according to clause 4.2.2.2.2 in
TS 23.502 [5].
#### 6.2.3.3 Change of S-NSSAI of a PDU Session
PCF is configured with information that pairs of network slices can be used as
an alternative for each other (both slices support the same services with the
same DNNs and same DNAIs pointing to the same DNs, hosting the same services,
etc.).
Figure 6.2.3.3-1: Change of S-NSSAI of a PDU Session
1\. The AMF determines that a network slice that requires slice re-mapping
occurs.
2\. From AMF to PCF: AM Policy Association ID, S-NSSAI that requires slice re-
mapping.
If the AMF has received a PCR trigger that instructs the AMF to interact with
PCF when a network slice that requires slice re-mapping occurs and the AMF
determined in step 1 that a network slice that requires slice re-mapping
occurs, the AMF triggers AM Policy Association modification procedure to PCF.
3\. From PCF to AMF: AM Policy Association ID, selected S-NSSAI.
The PCF selects re-mapped S-NSSAI and provides it to the AMF based on the
S-NSSAI that requires slice re-mapping received from AMF in step 2. The re-
mapped S-NSSAI is selected within Allowed NSSAI. The AMF considers the
selected S-NSSAI as a new slice for the S-NSSAI that requires slice re-
mapping.
4\. From AMF to PCF: UE Policy Association ID, S-NSSAI that requires slice re-
mapping, selected S-NSSAI.
If the AMF has received a PCR trigger of a change of re-mapped slice and the
AMF determined a new selected S-NSSAI for the S-NSSAI that requires slice re-
mapping, the AMF triggers UE Policy Association modification procedure to PCF.
The AMF includes S-NSSAI that requires slice re-mapping and selected S-NSSAI
for the S-NSSAI that requires slice re-mapping in the message towards PCF.
The PCF may update URSP rules and triggers UE Configuration Update procedure
based on the S-NSSAI that requires slice re-mapping and the selected re-mapped
S-NSSAI. In roaming scenario, the AMF sends the message towards H-PCF via
V-PCF and the message may include S-NSSAI mapped to HPLMN. On receiving the
message from AMF, the H-PCF may update URSP rules and triggers UE
Configuration Update procedure.
5\. The PCF sends the response message to the AMF.
6\. For each old PDU session and associated with the network slice that
requires slice re-mapping, AMF may trigger a change of the slice of the old
PDU session to the selected re-mapped S-NSSAI received in step 3 according to
the procedure shown in clause 6.2.3.4.
#### 6.2.3.4 AMF-triggered PDU Session Modification to change of S-NSSAI of
PDU Session
Figure 6.2.3.4-1: AMF-triggered PDU session modification
1\. From AMF to SMF: SM Context ID, selected S-NSSAI
The AMF triggers AMF-initiated PDU session modification procedure to change
the S-NSSAI of the PDU session with the selected S-NSSAI. In home-routed
scenario, corresponding HPLMN S-NSSAI for the selected S-NSSAI is provided to
H-SMF.
2\. From SMF to AMF: Result Indication
For the SSC mode 1 PDU Session, the result indication may indicate failure if
the SMF and the UPF for the PDU Session does not support the selected S-NSSAI.
3\. Steps 1 to 6 as in Figure 4.3.5.2-1 in clause 4.3.5.2 of TS 23.502 [5] are
performed with the following differences:
\- In step 1, if the SMF has received the Nsmf_PDUSession_SMContextUpdate
request message (SM Context ID, selected S-NSSAI) from the AMF and the
selected S-NSSAI is different from the S-NSSAI of the PDU session for the SM
Context ID, the SMF decides to change the S-NSSAI of the PDU session to the
selected S-NSSAI.
\- In step 2, if the SMF invokes the Namf_Communication_N1N2MessageTransfer
due to the change of the S-NSSAI. If the SMF determines to change the S-NSSAI
without UPF relocation (e.g. for the PDU session of SSC mode 1), Cause
indicates that a change of S-NSSAI of the PDU session is required without UPF
relocation and the selected S-NSSAI received from the AMF is included in the
PDU Session Modification Command. If the SMF determines to change the S-NSSAI
with the UPF relocation, Cause indicates that a PDU Session re-establishment
to the same DN is required and the selected S-NSSAI is included in the PDU
Session Modification Command.
\- In step 3d, if the SMF1 has set Cause to the change of S-NSSAI of the PDU
session is required in step 2 in the PDU session Modification Command and the
SMF received the acknowledgement from the UE in step 3c, the SMF1 includes the
selected S-NSSAI in the N4 Session Modification request towards the UPF. The
UPF changes the S-NSSAI of the N4 session to the selected S-NSSAI in the N4
Session Modification request and sends response message to SMF1.
\- In step 4, if the UE receives PDU Session Modification Command that
includes the Cause indicating the change of S-NSSAI of the PDU session is
required, the UE changes the S-NSSAI of the corresponding PDU session to the
selected S-NSSAI in the PDU Session Modification Command.
\- In step 4, if the UE receives PDU Session Modification Command that
includes the Cause indicating the same DN and the S-NSSAI, the UE may decide
to initiate the PDU Session Establishment procedure described in clause
4.3.2.2 of TS 23.502 [5], to the same DN with the new S-NSSAI the following
differences:
\- In step 1 of clause 4.3.2.2.1, the new PDU Session ID is included as PDU
Session ID in the NAS request message and the Old PDU Session ID which
indicates the existing PDU Session to be released is also provided to AMF in
the NAS request message.
### 6.2.4 Impacts on services, entities and interfaces
AMF:
\- Support slice re-mapping.
\- send a message to SMF to trigger a change of S-NSSAI.
SMF:
\- trigger SSC mode operation with a S-NSSAI received from AMF as a new PDU
session.
NRF:
\- Support discovery of PCF that support slice re-mapping.
PCF:
\- Support slice re-mapping.
UE:
\- Handle the PDU session modification command message that includes S-NSSAI.
## 6.3 Solution #3: Support of Network Slice Service continuity using a SSC
mode 3 type of Service continuity
### 6.3.1 Introduction {#introduction-3}
This solution addresses KI#1 scenarios of mobility.
### 6.3.2 Functional Description
This solution, for generality (as this solution can apply also without any
mobility in a totally AMF initiated approach), considers a UE which is in CM-
CONNECTED mode and arrives at an area where it needs to be handed over to a
cell outside the current RA where a PDU session in a certain slice cannot
continue as the slice is no longer available for any of the reasons documented
in the KI#1. Specifically, the RAN is based on local information detecting the
target RAN node cannot serve the current slice and it is configured with a
valid replacement so it can continue the sessions associated with the replaced
slice temporality till they are replaced by session with the correct slice.
This may be dues to e.g. the AMFs in target RAN node region not supporting the
S-NSSAI any more for e.g. maintenance or other causes so they provide an AMF
configuration update to tell the RAN a S-NSSAI no longer is supported and a
replacement is defined for it.
This solution relies on using SSC mode 3 type of service continuity in a
network-controlled manner across network slices (SSC3 only operates for same
DNN and S-NSSAI today so strictly speaking this is not the existing SSC mode
3). The next clause provides the necessary details.
### 6.3.3 Procedures
The call flow below in figure 6.3.3-1 proposes using SSC mode 3 type of
mobility across network slices to provide the service continuity solution. A
single NG-RAN node may also be involved, two NG-RAN nodes are shown for
generality and only the Xn Handover case is shown but this can apply also to
NG Handover. Also, more than one AMF can be involved but for simplicity only
one is considered (if more than one is involved there is an extra AMF
reallocation step to be added where the context is transferred alongside the
slice remapping information).
Figure 6.3.3-1: service continuity upon slice change
1\. AMF has sent the UE Allowed NSSAI to the serving NG-RAN node as part of
the registration and the UE per existing procedures. The UE had indicated to
the AMF it supports this new feature in the registration request.
2\. UE has ongoing PDU session 1 of slice 10 where the SMF has indicated to
the AMF is support this SSC mode 3 like type of behaviour across slices.
3\. Source NG-RAN triggers Handover to target NG-RAN. The target NG-RAN node 2
informs during the HO procedure the source NG-RAN node 1 that it accepts the
PDU session 1 of slice 10 temporarily due to slice re-mapping action which it
has been configured with for slice 10. It also indicates the new slice 11 for
the PDU session. It is assumed that the AMF provided this information to
impacted NG-RAN nodes by indication of the alternative slice is replacing the
overloaded slice by a NG-AP AMF Configuration Update procedure.
4\. At handover completion, the target NG-RAN indicates to AMF in Path Switch
Request that PDU session 1 of slice 10 needs to be terminated and a new PDU
session is to be setup with slice 11.
5\. The AMF provides a new Allowed NSSAI including both S-NSSAI 10 and
S-NSSAI11 in the UE Configuration Update command and may include S-NSSAI 11 in
the Configured NSSAI as temporary S-NSSAI replacing S-NSSAI 10. Because the
AMF has received (end slice 10) at step 4, the AMF still includes the slice 10
in the Allowed NSSAI towards the UE at this step (the slice is indeed still
temporarily available until it receives from SMF notification of the final
release of PDU session 1 of slice 10 at step 9). This is just a temporary
allowed NSSAI that will be soon replaced and may include two S-NSSAIs in the
serving PLMN supporting same HPLMN S-NSSAI exceptionally. The Allowed NSSAI
information element is indicating that a S-NSSAI is Allowed to replace another
S-NSSAI in the Allowed S-NSSAI. In roaming case, this additional allowed
S-NSSAI maps to the same HPLMN slice(s) (temporarily). This should be possible
as what slice maps to HPLMN slice(s) is a VPLMN decision (whether permanently
or temporarily). The Configured NSSAI update may not be required if SA2 will
specify this is not updated for this case and the UE shall ignore
inconsistencies. The AMF may include back off timer for the original slice
and/or includes the original slice in the Rejected NSSAI to prevent the UE
requesting the slice due to URSP rule re-evaluation.
6\. AMF sends an Update message to SMF indicating end of PDU session 1 of
slice 10 and remapping to slice 11. The SMF triggers step 7 as the UE has
indicated SSC mode 3.
7\. In reaction to step 5, the SMF triggers towards the UE the NAS PDU Session
Modification Command (Cause, PCO (PDU Session Address Lifetime value), end
slice 10, new slice 11) to invoke SSC mode 3 type of behaviour. The (end slice
10, new 11) may be included towards the UE to prompt the UE to setup the new
PDU session 2 with slice 11. By this feature the possibility that SSC mode 3
type of behaviour applies across slices is introduced even if the UE had not
indicated the existing SSC mode 3 when the PDU session was established.
8\. The UE triggers the establishment of PDU session 2 with slice 11 according
to SSC mode 3 procedure as per existing procedures described in clause
4.3.2.2.1 of TS 23.502 [5]. The S-NSSAI requested is S-NSSAI 11, the DNN is
the same as used for the existing PDU session.
9\. At the expiry of SSC mode 3 timer, the SMF triggers the release of the PDU
session 1 of slice 10 according to SSC mode 3 procedures (existing procedures
described in clause 4.3.2.2.1 of TS 23.502 [5]).
10\. Upon notification from the SMF that PDU session of no longer supported
slice 10 has been released, the AMF sends a final the UCU (UE Configuration
Update) message in order to update the Allowed NSSAI towards the NG-RAN and
the UE. In this example, the new Allowed NSSAI is slice 11. When the slice 10
can be resumed the inverse procedure can take place by swapping slice 11 with
slice 10 using the same method.
### 6.3.4 Impacts on services, entities and interfaces
The solution has the following impacts:
NG-RAN node:
\- configuration to perform slice remapping for certain slices and related
behaviour as per above procedure.
AMF:
\- temporarily allow slices while SSC3 type of behaviour completes for the PDU
session and do UE configuration update to provide the final allowed NSSAI when
the new PDU session is up and running and old PDU session leg released.
\- The AMF may include back off timer for the original slice and/or includes
the original slice in the Rejected NSSAI to prevent the UE requesting the
slice due to URSP rule re-evaluation.
UE:
\- performs SSC mode 3 type of behaviour with the slice indicated to replace
the ongoing slice when requested by step 7.
## 6.4 Solution #4: PDU Session on compatible network slice
### 6.4.1 Introduction {#introduction-4}
This solution addresses the bellow requirements from Key Issue #1: Support of
Network Slice Service continuity.
**1) No mobility scenario:**
Scenario 1b): network slice or network slice instance is overloaded.
### 6.4.2 Functional description
This solution allows for a PDU Session establishment on a compatible network
slice if the network slice on which the PDU Session is initially required is
not available or is overloaded. The assumption in this solution is that an
Application in the UE may be allowed to get a service from more than one
network slice as per the network slice selection criteria (NSSP) within the
URSP rules in the UE. In such a case the UE may include a compatible S-NSSAI
as an extra parameter in the PDU Session Establishment Request message along
with the S-NSSAI on which the PDU Session is required and the PDU Session
establishment procedure can continue on the compatible S-NSSAI in case the
initially required S-NSSAI is not available or is overloaded.
### 6.4.3 Procedures
Figure 6.4.3-1: PDU Session on compatible network slice
1\. When an Application in the UE requires service, the UE triggers PDU
Session Establishment Request to the AMF in which the UE includes the S-NSSAI
and the DNN on which the service is available based on the S-NSSAI selection
and DNN selection criteria within the URSP rules in the UE. Optionally, the UE
may include in the PDU Session Establishment Request a compatible S-NSSAI, if
available. The compatible S-NSSAI is an alternative S-NSSAI from the network
slice selection criteria within the URSP if the network slice selection
criteria within the URSP rules in the UE allows the Application requiring
service to use more than one S-NSSAI. The UE includes a compatible S-NSSAI in
the PDU Session Establishment Request if one is available in the network slice
selection criteria within the URSP and it is in the Allowed NSSAI list for the
UE.
2\. If the S-NSSAI on which a PDU Session is required by the UE is overloaded
or not available and the UE has included a compatible S-NSSAI in the PDU
Session Establishment Request message, the AMF selects an SMF based on the
compatible S-NSSAI and the AMF continues the PDU Sessions Establishment
procedure on the compatible S-NSSAI instead of the initially requested
S-NSSAI.
3\. The AMF sends Nsmf_PDUSession_CreateSMContext Request message to the SMF
in which the AMF includes the compatible S-NSSAI received by the UE.
4\. Continue PDU Session Establishment on the compatible S-NSSAI according to
clause 4.3.2.2.1 of TS 23.502 [5]. The SMF may notify the UE that the PDU
Session is established on the compatible S-NSSAI and the AMF may indicate to
the UE the reason for the network slice switch to a compatible S-NSSAI. In the
PDU Session Establishment Accept, the SMF may provide back off timer for the
original S-NSSAI so that the UE cannot request a PDU Session according to the
existing URSP rule until the back off timer is expired.
After PDU Session is established, the AMF may include back off timer for the
original slice and/or includes the original slice in the Rejected NSSAI to
prevent the UE requesting the slice due to URSP rule re-evaluation.
### 6.4.4 Impacts on services, entities and interfaces
UE:
\- new compatible S-NSSAI parameter in the PDU Session Establishment Request.
AMF:
\- PDU Session switch to a compatible S-NSSAI.
\- new cause to indicate the network slice switch to a compatible S-NSSAI.
\- After PDU Session is established, the AMF may include back off timer for
the original slice and/or includes the original slice in the Rejected NSSAI to
prevent the UE requesting the slice due to URSP rule re-evaluation.
## 6.5 Solution #5: PDU session handover to a target CN with an alternative
S-NSSAI support
### 6.5.1 Introduction {#introduction-5}
This solution addresses the bellow requirements from Key Issue #1: Support of
Network Slice Service continuity.
**2) Inter RA Mobility scenario:**
Scenario 2d): network slice or network slice instance is overloaded in the
target CN.
### 6.5.2 Functional description
This solution allows for a PDU Session handover to an alternative network
slice when the current network slice is not supported by the target CN or it
is overloaded in the target CN. At PDU Session establishment the UE may
include in the PDU Session Establishment Request an alternative S-NSSAI, if
available. The alternative S-NSSAI is another S-NSSAI from the network slice
selection criteria within the URSP rules in the UE in case the URSP rules
allow the Application requiring the service to use more than one S-NSSAI. Then
this alternative S-NSSAI is included by the UE in the PDU Session
Establishment Request and is stored in the UE context within the AMF and used
for PDU Session handover to this alternative S-NSSAI if the current S-NSSAI is
not supported in the target CN or the current S-NSSAI is overloaded in the
target CN.
### 6.5.3 Procedures
Figure 6.5.3-1: PDU session handover to a target CN with an alternative
S-NSSAI support
1\. An Application in the UE requires service on S-NSSAI. The UE initiates PDU
Session Establishment procedure on that S-NSSAI to the S-AMF. Optionally, the
UE may include in the NAS message an alternative S-NSSAI, if available. The
alternative S-NSSAI is another S-NSSAI from the network slice selection
criteria within the URSP if the URSP rules allow the Application requiring the
service to use more than one S-NSSAI. The UE includes an alternative S-NSSAI
in the NAS message if one is available in the network slice selection criteria
within the URSP.
2\. The S-AMF may perform some further checks for the eligibility of the
alternative S-NSSAI(s) received from the UE before the S-AMF stores the
alternative S-NSSAI in the UE context.
3\. Continue and complete the PDU Session establishment procedure on S-NSSAI
according to clause 4.3.2.2.1 of TS 23.502 [5].
4\. At some stage the S-RAN triggers handover request to the S-AMF.
5\. The S-RAN selects a T-RAN supporting the current S-NSSAI and possibly
supporting the alternative S-NSSAI if provided by the UE. The S-AMF proceeds
with the N2 handover procedure to T-RAN and T-AMF supporting the current
S-NSSAI and/or the alternative S-NSSAI.
6\. UE registration with the T-AMF. The current and the alternative S-NSSAI
received from the S-AMF during theN2 handover is supported and allowed in the
T-AMF after the UE registration.
7\. If at step 5 the UE did handover to a T-RAN supporting the current S-NSSAI
and the alternative S-NSSAI however, the T-AMF is overloaded for the current
S-NSSAI, then the PDU Session switches to the alternative S-NSSAI via PDU
Session modification to the alternative S-NSSAI procedure as per clause
4.3.3.2.1 of TS 23.502 [5]. The T-AMF may select another SMF if the PDU
Session switches to an alternative S-NSSAI.
8\. The T-RAN forwards the PDU Session Modification Command received from the
T-AMF to the UE with the alternative S-NSSAI included in case of PDU Session
switch to an alternative S-NSSAI.
After HO, the AMF may include back off timer for the original slice and/or
includes the original slice in the Rejected NSSAI to prevent the UE requesting
the slice due to URSP rule re-evaluation.
### 6.5.4 Impacts on services, entities and interfaces
UE:
\- new alternative S-NSSAI parameter in the PDU Session Establishment Request
message.
AMF:
\- alternative S-NSSAI(s) handling.
\- AMF may include back off timer for the original slice and/or includes the
original slice in the Rejected NSSAI to prevent the UE requesting the slice
due to URSP rule re-evaluation.
## 6.6 Solution #6: Extended SoR VPLMN Slice Information transfer to UEs
### 6.6.1 Introduction {#introduction-6}
This solution targets KI#2, namely the issues of:
\- \"how and when the HPLMN provides the UE with information about slice
availability per VPLMN\"; and
\- \"study how and when to use the information received by the UE from the
HPLMN to influence automatic PLMN selection\".
### 6.6.2 Functional Description
In this solution the SoR AF verifies if the Subscribed S-NSSAIs are available
in the VPLMN where the UE is currently trying to register. If some of the
Subscribed S-NSSAIs or all are not available, depending on operator policy,
the SoR AF may provide additional information that can be sent to the UE
regarding VPLMNs and/or other networks that do support the Subscribed S-NSSAIs
or a subset of them (e.g. called slice-based SoR).
The decision by the UDM to request the SoR AF to verify if slice-based SoR
information is required depends on the UE capabilities to handle this
additional information, the UE current location (e.g. the current serving
network ID) and on the Subscribed S-NSSAIs. The slice-based SoR information
contains a list of one or more VPLMNs which with available S-NSSAIs from the
Subscribed S-NSSAIs or a subset of them, as per operator\'s policy.
Two options are proposed for the UDM to obtain UE capabilities; a network
based approach and a UE based approach.
\- In the UE based approach, the UE includes at 5GC Registration a transparent
container intended for the UDM. The AMF in the VPLMN transparently sends this
container to the UDM. The UDM in turn can forward the received information
from the SoR AF to the UE in the Registration Response.
\- In the network based approach, the UDM fetches the UE capabilities using an
extended UE Parameter Update procedure. The UE includes its capabilities in
the UPU acknowledgment sent to UDM via the AMF in an UL NAS TRASNPORT.
The AMF sends the received information from the SoR AF via the UDM in a DL NAS
TRANPORT message to the UE.
The following UE behaviour applies:
\- Initially when the UE roams to a different country, the UE selects PLMN
(automatic or manual selection) according to the existing mechanism, e.g. by
using \"Operator controlled PLMN selector with Access Technology\" list.
\- If the UE wants to use an S-NSSAI which is not available in the current
serving PLMN or in the current Registration Area (RA) and the UE is configured
with slice-based SoR, the UE triggers network selection procedure by
considering the slice-based network selection information.
### 6.6.3 Procedures
#### 6.6.3.1 Extended SoR VPLMN Slice Information transfer to UE
The procedure below is a high level solution to provide the slice-based SoR to
the UE.
Figure 6.6.3.1-1: UE Initiated for Extended SoR Information
The steps in the call flow are described briefly below:
1\. A trigger is detected in the UDM for a roaming UE to provide slice-based
SoR information, e.g. the UDM is preconfigured (e.g. via the OAM or OSS based
on Service Level Agreements with the roaming partners) that one or more of the
UE\'s Subscribed S-NSSAIs are not available in specific visited country or
networks (VPLMNs). The UDM may retrieve the UE capabilities to handle the
slice-based SoR information. The slice-based SoR information may be either
generated in the UDM or the UDM may request the SoR AF to create it.
If the UDM can create the slice-based SoR information itself, the UDM proceeds
further with step 5.
After the UE\'s UPU/SoR capabilities are retrieved, they may be stored in the
UDM on per IMEI basis.
NOTE: The conclusion clause for this KI to explicitly mentions that the
procedure includes the functions performed by UDM, SoR AF independently.
2\. The UDM initiates towards the SoR AF an Nsoraf_SoR_Get Request (VPLMN ID),
SUPI of the UE, access type (see TS 29.571 [6], subscribed S-NSSAIs, UE
location, UE capability to receive enhanced information). The UDM passes
transparently information included in the container and relevant for the SoR
AF to consider.
3\. SoR AF creates slice-based SoR information taking into account the
information provided by the UDM and availability of the Subscribed S-NSSAIs in
the possible VPLMNs. To enable the SoR AF to create the slice-based SoR
information, the SoR AF scans the possible list of VPLMNs and for each one
determines the extent to which the Subscribed NSAAIs are supported. The SoR AF
may then order the information as an example as shown below:
\- VPLMNs supporting all the Subscribed NSSAIs in any order preferred by
HPLMN.
\- VPLMN supporting a subset of the Subscribed NSSAIs in any order preferred
by HPLMN.
\- List of additional networks supporting the Subscribed NSSAIs or Requested
NSSAIs not preferred by HPLMN.
Editor\'s note: Additional information to be included is FFS.
4\. SoR AF sends the slice-based SoR information to the UDM in a
Nsoraf_SoR_Get Response.
5\. UDM sends the slice-based \"steering of roaming information\" to the UE
via the AMF.
6\. UE uses the slice-based SoR info and if the Allowed NSSAI doesn\'t include
all slices desired by the UE then the UE scans for VPLMN supporting the
S-NSSAIs not in Allowed NSSAI and selects and registers accordingly.
The two options for UDM detection of UE capabilities are described below. Both
options incorporate the common aspects between them for completeness and
clarity. Steps 2 to 4 and step 6 are common for both options.
##### 6.6.3.1.1 UE Initiated capability indication
The procedure below implements the UE initiated option to indicate the UPU/SoR
capabilities.
Figure 6.6.3.1.1-1: UE Initiated for Extended SoR Information
The steps in the call flow are described briefly below:
1\. While roaming, the UE includes a new transparent container in a 5GC
Registration Request, when UE performs Initial Registration or when the UE
wants HPLMN to be aware of UE changes e.g. UE capability changes or UE
requests new network slices. This new container is an indication that the UE
wants the UDM to provide the UE with information relevant to
Subscribed/Requested NSSAIs in the current VPLMN as well as other VPLMNs where
the UE is currently located. The container includes the requested information
and includes UE information that is pertinent to the request. The UE may send
a protected container (transparent for AMF i.e. container is protected with
home network security information) that includes info relevant for UDM e.g. UE
capabilities, UE location, Requested NSSAI, etc.
NOTE: Security aspects on how to protect the UE capabilities provided by the
UE are to be discussed in SA WG3.
2\. new info: AMF forwards the received container transparently from the UE in
the Nudm_UECM_Reg Request towards the UDM.
3\. UDM uses UE capabilities to check that UE supports ability to handle the
additional information and if the UE does support the additional information,
then UDM initiates a request to the SoR AF and indicates in such a request the
UE capabilities.
4\. This is identical to step 2 in clause 6.6.3.1.
5\. This is identical to step 3 in clause 6.6.3.1.
6\. This is identical to step 4 in clause 6.6.3.1.
7\. HPLMN (or CH) sends SoR information within the Access and Mobility
Subscription data i.e. AMF is transparent to the content of such data.
8\. AMF forwards the \"steering of roaming information\" within the
Registration Accept as per current specification.
9\. This is identical to step 6 in clause 6.6.3.1.
##### 6.6.3.1.2 Network Triggered capability indication
The procedure below implements the Network triggered option to retrieve the
UPU/SoR capabilities.
Figure 6.6.3.1.2-1: Network Initiated for Extended SoR Information
The steps in the call flow are briefly described below:
1\. The UE performs a regular Registration. During that procedure, the UDM may
interact with the SoR AF to provide SoR info to the UE during initial
registration (e.g. based on local configuration)
2\. UDM decides to fetch the UE capabilities to see if the UE supports slice-
based SoR information. The UDM may determine to trigger this step based on
e.g. local configuration, UE location in specific PLMN or a new indication
provided by the SoR AF to the UDM in step 1.
3\. The UDM triggers an extended UPU procedure requesting the UE to send its
UPU capabilities in the response. Hence, UDM sends to the AMF, an Nudm SDM
Notification including a UPU transparent container to trigger the UE to return
its UPU capabilities.
NOTE: Security aspects of the protection of the UPU transparent container are
to be discussed in SA WG3.
4\. The AMF sends a DL NAS TRANSPORT message to the UE, where this DL NAS
TRANSPORT message including the UPU transparent container where the UDM
requests the UE capabilities of the UE to handle enhanced SoR information
(e.g. a list of VPLMNs and optional supported network slices and/or
applicability/validity info, as described herein).
5\. The UE returns its capabilities within an UPU ACK transparent container in
an NAS UL TRANSPORT message to the AMF.
6\. The AMF sends, to the UDM, an Nudm_SDM_Info including the UPU ACK
transparent container indicating that the UE has the capabilities to receive
enhanced SoR information.
7\. This is identical to step 2 in clause 6.6.3.1.
8\. This is identical to step 3 in clause 6.6.3.1.
9\. This is identical to step 4 in clause 6.6.3.1.
10\. The UDM sends, to the AMF, a Nudm_Notify and includes the enhanced SoR
information.
11\. The AMF sends a DL NAS TRANSPORT message including the enhanced SoR
information to the UE. Optionally, an ID of the enhanced SoR information may
be included in the message. The UE stores the enhanced SoR information.
12\. The UE returns UPU ACK in an NAS UL TRANSPORT message to the AMF.
13\. The AMF sends to the UDM an Nudm_SDM_Info UPU to acknowledge UE reception
of the enhanced SoR info including the VPLMN List.
14\. This is identical to step 6 in clause 6.6.3.1.
### 6.6.4 Impacts on Existing Nodes and Functionality
UE
\- supports the slice-based SoR information.
UDM
\- handles the new UE capabilities. Creates the slice-based SoR information
based on incoming data from the UE only if co-located with SoR-AF, or
transparently pass the UE needed information to the SoR AF. Transport the
slice- based SoR information to the UE.
AMF
\- To convey the transparent container to UDM.
SoR AF
\- Creates the slice-based SoR information based on incoming data from the UE.
## 6.7 Solution #7: Enabling awareness of Network Slice availability in VPLMNs
### 6.7.1 Introduction {#introduction-7}
This solution addresses KI#2 from TR 23.700-41, clause 5.2 and explains how
the UE may use information about slice availability per VPLMN and
prioritization information, received from the HPLMN to influence automatic
PLMN selection.
### 6.7.2 Functional Description
During the Registration procedure, **if the AMF does not have subscription
data for the UE, the AMF invokes Nudm_SDM_Get service operation to HPLMN UDM
to get Access and Mobility subscription Data for the UE. Upon receipt of a
Nudm_SDM_Get message and as part of the Steering of Roaming procedure, the UDM
includes in the list of preferred VPLMN/Access Technology combinations, a list
of supported S-NSSAIs**.
**The AMF relays the Steering of Roaming information, including the S-NSSAI
information associated with the VPLMN/Access Technology combination.**
**When the Steering of Roaming information, including the S-NSAAI information
is received, the UE determines, based on the list of VPLMNs available in the
area and the S-NSSAIs supported in these VPLMNs, whether the UE may attempt to
obtain service on a higher priority VPLMN as specified in the received
Steering of Roaming information.**
The solution considers two cases:
\- Option 1: The UE\'s USIM is not configured to receive a Slice-Aware SoR. If
the UE is not configured to receive Slice-Aware SoR information and the
current VPLMN has rejected S-NSSAIs the UE has requested, then the UE, as an
implementation option, may determine to execute a Deregistration procedure.
The UE may indicate in the Deregistration Request message, within the
Deregistration Type, that the Deregistration procedure has been triggered due
to lack of S-NSSAI support. When the Deregistration Type indicates, \"Required
S-NSSAI not supported/available\", the AMF informs the UDM that the UE has
Deregistered due to lack of S-NSSAI in this VPLMN.
**If during the Deregistration procedure the UDM received an indication that
the UE has requested Deregistration due to lack of S-NSSAI support in a VPLMN,
the UDM may keep a \"Slice-Aware SoR pending\" flag in the UE subscription
information indicating that the UE may re-register in a different VPLMN to
seek S-NSSAI support and that Slice-Aware SoR information shall be sent to the
UE upon a subsequent Registration attempt.**
**During a subsequent Registration, if the AMF does not have subscription data
for the UE, the AMF invokes Nudm_SDM_Get service operation to HPLMN UDM to get
Access and Mobility subscription Data for the UE. If the \"Slice-Aware SoR
pending\" flag is set, upon receipt of a Nudm_SDM_Get message and as part of
the Steering of Roaming procedure, the UDM may include in the list of
preferred VPLMN/Access Technology combinations, a list of supported S-NSSAIs**
\- Option 2: The UE is capable and configured to receive Slice-Aware SoR
information. The UE indicates in the Registration Request that the UE shall
receive Slice-aware SoR information, e.g. including VPLMN, location (e.g.
geographical coordinates or specific TA) and S-NSSAI combination.
**During a registration procedure, if the AMF does not have subscription data
for the UE, the AMF invokes Nudm_SDM_Get service operation to HPLMN UDM to get
Access and Mobility subscription Data for the UE. Upon receipt of a
Nudm_SDM_Get message and as part of the Steering of Roaming procedure, the UDM
may include in the list of preferred VPLMN/Access Technology combinations, a
list of supported S-NSSAIs.**
### 6.7.3 Procedures
#### 6.7.3.1 Option 1 - UE\'s USIM is NOT configured to receive a Slice-Aware
SoR
This option is characterized in that the HPLMN relies on the Slice-Aware SoR
pending flag to provide the UE with Slice-Aware SoR information.
A UE may request access Registration to a VPLMN from its current VPLMN/access
technology list, while roaming in a visited network. Following existing
procedures, the UE constructs the Requested NSSAI based on the NSSP and
Configured NSSAI, which the UE uses to associate applications to specific
S-NSSAIs.
The visited network accepts the Registration request, via a Registration
Accept message, but it may reject the UE\'s request for an S-NSSAI, the UE
included in the Requested NSSAI. In this option, as the UE is not configured
to expect to receive Slicer-Aware SoR, the HPLMN may not deliver the Slice-
Aware SoR, i.e. the slice-based SoR in the UDM subscription is not set.
If no Slice-Aware SoR information is provided, the UE may decide, in an
implementation specific manner, that it does not want to remain in a VPLMN
that does not provide the entire Requested S-NSSAI, or S-NSSAIs the UE
requires for specific applications and the UE triggers a Deregistration
procedure and it provides a new Deregistration Type: \"S-NSSAI not available\"
and it provides which S-NSSAI(s) was/were not available. The including of the
new De-Registration type indicates to the UDM that the UE is capable and
configured to receive the \"Slide-Aware SoR\" information.
The VPLNN AMF accepts the Deregistration Request and if the UE indicated
Deregistration Type as \"S-NSSAI not available\", the AMF notifies the UDM the
UE has Deregister and it provides the Deregistration Type as: \"S-NSSAI not
available\".
The UDM interprets the receipt of the new Registration type as an implicit
indication that the UE is configured to receive the Slice-Aware SoR
information and it may set the slice-based SoR Flag to indicate that the UE
may attempt to re-register and that a slice-based SoR container may be sent to
the UE to provide information about available S-NSSAI in VPLMNs the UE may
access, in the area the UE is currently located.
The UDM may request SoR information from the SOR-AF and it may indicate that
the S-NSSAI associated to the VPLMN/access technology are required.
The SOR-AF may use analytics and/or information from AMF VPLMN and possible
NSSF at the VPLMN to derive S-NSSAI information in TA from relevant VPLMNs.
The AMF gathers this information with the help of the NSSF and the AN, when
the 5G-AN nodes establish or update the N2 connection with the AMF. The SOR-
AF, may obtain analytics or per VPLMN S-NSSAI information, e.g. by subscribing
to a new event through the V-NEF and derive the list of S-NSSAI available in
the VPLMN in a particular area, using NEF operations (i.e.
Nnef_EvantExposure_Notify service operation). The SOR-AF may provide a Slice-
Aware SoR container to the UDM and the UDM can include it during the next
Registration for UE for which a \"Slice-Aware SoR\" flag is set, or if local
configuration warrants it.
Alternatively, the UDM may decide to include the Slice-Aware SoR container in
the Deregistration service operation Output. If the UDM includes the Slice-
Aware SoR container in the Deregistration service operation Output, the AMF
relays it to the UE in the Deregistration accept message.
If the UE does not get the Slice-Aware SoR container in the Deregistration
accept message, the UE may decide to attempt a new Registration to attempt
access to a specific S-NSSAI and it may decide to deprioritize this VPLMN.
If this is an initial registration or if the UE indicates that is capable and
configured to received Slice-Aware SoR information, the AMF triggers a SoR
operation through a Nudm_SDM_Get request message, indicating that the S-NSSAI
information is also required. The UDM may request SoR information from the
SOR-AF, if not already requested. Note that such request could be executed
either because of a Nudm_SDM_Get request message or as a result of a
Nudm_UECM_DeregistrationNotification message.
The UDM may use information from the SOR-AF to provides the list of
VPLMN/access technologies and associated S-NSSAIs in the Nudm_SDM_Get_response
message.
The AMF may provide to the UE in the Registration Accept message as part of
the SOR container, the list of VPLMN/access technologies and associated
S-NSSAIs.
The UE may reselect to a higher priority VPLMN that may support S-NSSAI
according to the information receive in the SoR container.
#### 6.7.3.2 Option 2 - UE\'s USIM is configured to receive a Slice-Aware SoR
This option is characterized in that the HPLMN relies on the indication in the
UDM that the UE is expected to receive the Slice-Aware SoR information. This
is based on existing SoR principles as described in TS 23.122 [7] and does not
rely on URSP rules.
A UE request access Registration to a VPLMN in its current VPLMN/access
technology list, while roaming in a visited network. The UE constructs the
Requested NSSAI based on the NSSP.
The visited network accepts the Registration request, via a Registration
Accept message, but it may reject the UE\'s request for an S-NSSAI, the UE
included in the Requested NSSAI.
If this is an initial registration or if the UE indicates that is capable and
configured to received Slice-Aware SoR information, the AMF triggers a SoR
operation through a Nudm_SDM_Get request message, indicating that the S-NSSAI
information is also required. The UDM may request SoR information from the
SOR-AF, if not already requested.
The UDM may use information from the SOR-AF to provides the list of
VPLMN/access technologies and associated S-NSSAIs.
In this option, since UE\'s USIM is configured to receive a Slice-Aware SoR,
the Slice-Aware SoR information is provided to the UE in the Registration
Accept message, therefore a list of VPLMN/access technologies and associated
S-NSSAIs may be provided to the UE as part of the SOR container. If the UE did
not receive Slice-Aware SoR information in the Registration Accept message,
the UE may trigger reselection as per regular PLMN selection procedure, the UE
may consider this PLMN as low priority.
The UE may reselect to a higher priority VPLMN that may support S-NSSAI
according to the information receive in the SoR container.
### 6.7.4 Impacts on services, entities and interfaces
UE:
\- The UE triggers a Deregistration procedure and it provides a new
Deregistration Type: \"S-NSSAI not available\" and it may provide which
S-NSSAI(s) was/were not available.
\- The UE receives, in the Registration Accept message, Slice-Aware SoR
information including a list of VPLMN/access technologies and associated
S-NSSAIs provided to the UE as part of the SOR container.
\- The UE reselects to a higher priority VPLMN that may support S-NSSAI
according to the information receive in the SoR container.
AMF:
\- The AMF provides information to the SOR-AF on available S-NSSAIs for
certain VPLMN/access technology combination, if the SOR-AF is not in the
operator\'s trusted domain, the AMF communicates with SOR-AF via NEF. The AMF
gathers this information with the help of the NSSF and the AN, when the 5G-AN
nodes establish or update the N2 connection with the AMF.
\- During a Deregistration Request procedure, the AMF notifies the UDM that UE
has Deregistered and it provides the Deregistration Type as: \"S-NSSAI not
available\".
UDM:
\- The UDM is notified in the Nudm_UECM_DeregistrationNotifiy, that the UE has
Deregistered and the UDM gets the Deregistration Type as: \"S-NSSAI not
available\".
\- The UDM interprets the receipt of the new Registration type as an implicit
indication that the UE is configured to receive the Slice-Aware SoR
information and it may set a new Flag to indicate that the UE may attempt to
re-register and that SoR may be used to provide information about available
S-NSSAI in VPLMNs the UE may access in the area the UE is currently located.
\- The UDM requests SoR information from the SOR-AF and it indicates that the
S-NSSAI(s) associated to the VPLMN/access technology are required.
\- The UDM uses information from the SOR-AF to provide the list of
VPLMN/access technologies and associated S-NSSAIs in the Nudm_SDM_Get_response
message.
SOR-AF:
\- The SOR-AF uses analytics and information from AMF VPLMN and possible NSSF
at the VPLMN to derive S-NSSAI information in TA from relevant VPLMNs.
\- The SOR-AF gets a request from the UDM, via a Nsoraf_SoR_request message,
indicating that the S-NSSAI associated to the VPLMN/access technology are
required.
\- If the SOR-AF is not in the operator\'s trusted domain, the SOR-AF may
communicate with the AMF and possibly NSSAF at the VPLMN via NEF. The SOR-AF
uses analytics and information from AMF VPLMN and possible NSSF at the VPLMN
to derive S-NSSAI information in TA from relevant VPLMNs.
## 6.8 Solution #8: Gracefully network slice termination
### 6.8.1 Introduction {#introduction-8}
The solution addresses the Key Issue#3 and in particular how to avoid service
disruption due to an abrupt PDU Session release, when a network slice is
terminated due to an undergoing planned maintenance in CN or due to the end of
network slice\'s lifetime.
The scenario, where the solution is addressing, is the following:
\- An operator would like to terminate a network slice (S-NSSAI) either for
the whole PLMN or for a particular region in the PLMN for maintenance purpose
or due to the end of network slice\'s lifetime, while there are still some UEs
being registered to the network slice and some PDU Sessions including the PDU
Session for Emergency, Critical and Priority services, which are established
in the network slice. This leads to a removal of UEs and to release of
existing PDU Sessions from the network slice and hence resulting to an abrupt
service disruption and a degradation of service quality experience by a user.
This solution makes the following assumptions:
\- OAM is configured with the information about when and which network slice
is to be terminated.
NOTE: Solution #8 can coexist with other solutions in the TR, which handle the
issue of temporary network slice and have an impact on the UE.
### 6.8.2 Functional Description
The solution is based on the following principles:
\- To achieve a graceful network slice termination, prior to the time for
terminating the S-NSSAI, based on operator\'s policy, it is proposed that the
CN should consider the following criteria/condition for tearing down PDU
Sessions associated with the network slice subject to be terminated.
\- first is to check whether the PDU Session is active or inactive. CN
releases all inactive PDU Session first;
\- second is to check whether the active PDU Session are for emergency,
critical and priority service; If active PDU Sessions are not for emergency,
critical and priority service, the CN further releases these PDU Sessions even
they are active PDU Sessions after a certain operator\'s pre-defined period of
time. If active PDU Session are for emergency, critical and priority service,
it is recommended to keep such PDU Session at least for another operator\'s
pre-defined period of time.
\- To trigger the CN NF (AMF) to start tearing down PDU sessions, OAM
configures the UDM with the information that the network slice is to be
terminated and when to be terminated. The UDM sends an update notification to
the AMF on the subscription data related to the Access and Mobility.
NOTE 1: It is possible that OAM configures directly the AMF(s) affected by the
S-NSSAI to be terminated. In this case, UDM will not trigger the affected
AMF(s) as depicted in Figure 6.8.3-1. However, once all PDU Sessions
associated with the S-NSSAI to be terminated are released, OAM should inform
the UDM to remove the S-NSSAI from the UE\'s subscription data. In case, an
operator wants to terminate a S-NSSAI in a specific region and not for the
whole PLMN, OAM can configure directly the AMF(s) in that region, where the
S-NSSAI is to be terminated.
\- In roaming scenario, where a VPLMN plans to terminate a network slice in
its network, it is assumed that OAM in VPLMN configures network functions
(i.e. AMF) associated with the network slice to be terminated with the
information about when and which network slice is to be terminated. This
enables the affected AMF(s) to gradually release roaming UE\'s PDU Session(s)
and to update the Allowed NSSAI to the UE.
NOTE 2: For the roaming UE, the update of Allowed NSSAI could potentially
consist of associating the mapping of subscribed S-NSSAI to another S-NSSAI in
the serving network.
### 6.8.3 Procedures
Figure 6.8.3-1 describes an overview of the procedure how the network slice is
terminated while minimizing abrupt service disruption as much as possible.
Figure 6.8.3-1: Updating session management subscriber data in AMF
1\. The UDM is configured by the OAM with the information of which S-NSSAI is
subject to be terminated and when the S-NSSAI will be terminated. This
information is part of the Access and Mobility Subscription data. In addition,
if the S-NSSAI termination is only applicable within a specific region within
the PLMN, OAM configures UDM with the location information such as TAI list
along with the S-NSSAI that is subject to be terminated.
NOTE 1: The information about \"when the S-NSSAI will be terminated\" can be
in different forms, e.g. \"to be terminated in a due time, like in 1 hour\",
or \"to be terminated at a specific date and time\".
2\. Based on the implicit subscription during registration procedure, the UDM
notifies the update of the Access and Mobility Subscription data to the
affected AMF(s) by the means of invoking Nudm_SDM_Notification service
operation. The Nudm_SDM_Notification Request message includes the S-NSSAI(s)
subject to be terminated, and optionally, the time period indicating when the
S-NSSAI is to be terminated.
3\. The AMF responds to the UDM with the Nudm_SDM_Notification Response
message.
4\. The AMF modifies the Access and Mobility Subscription data in the UE
context that is stored in the AMF.
The AMF performs the following for a PDU Session associated with the S-NSSAI
marked as \"subject to be terminated\":
NOTE 2: This step 3 is performed for all UEs that are affected by the S-NSSAI
marked as \"subject to be terminated\".
\- If a PDU Session is already established but inactive, the AMF triggers the
respective SMF to releases the PDU Session. Similar to step 1a in clause
4.3.4.2 of TS 23.502 [5].
\- If a PDU Session is already established and still active, the AMF does not
trigger the respective SMF to release the PDU Session. When the PDU Session
becomes inactive, the AMF triggers the SMF to release the PDU Session. Similar
to step 1a in clause 4.3.4.2 of TS 23.502 [5]. Subject to operator\'s policy,
the AMF may check if the PDU Session is used for Emergency, Critical and
Priority services.
NOTE 3: Based on step 4 in clause 4.2.3.2 of TS 23.502 [5], for NB-IoT RAT
Type, it is possible that AMF is aware of active/inactive status of PDU
Session. One possible way is that the AMF subscribes to an event report from
SMF on when the PDU Session is activated or is deactivated via an existing
Nsmf_EventExposure_Subscribe service operation.
Editor\'s note: It is FFS whether and how the AMF is aware of PDU Session
Status (active/inactive).
\- In case the PDU Session is not used for Emergency, Critical and Priority
services, subject to operator\'s policy, the AMF triggers the SMF to release
the active PDU Session after an operator\'s pre-defined period of time
expires. Similar to step 1a in clause 4.3.4.2 of TS 23.502 [5].
\- In case the PDU Session is used for Emergency, Critical and Priority
services, subject to operator\'s policy, the AMF may keep the PDU Session for
an operator\'s pre-defined period of time. After that, the AMF triggers the
SMF to release the active PDU Session for Emergency, Critical and Priority
services. Similar to step 1a in clause 4.3.4.2 of TS 23.502 [5].
\- If the AMF receives a new PDU Session Establishment Request or any requests
(e.g. Registration Request) for the S-NSSAI subject to be terminated, the AMF
rejects the request or does not include the S-NSSAI subject to be terminated
in the Allowed NSSAI.
5\. When AMF has released all PDU Sessions associated with the S-NSSAI subject
to be terminated, the AMF informs the UDM of the result accordingly. This can
be done with Nudm_SDM_Info service operation or a new message,
6\. When UDM receives a response from all affected AMF(s) associated with the
S-NSSAI subject to be terminated, the UDM deletes the S-NSSAI from the UE\'s
subscription data, which triggers an update towards the AMF to remove the
S-NSSAI from the Configured NSSAI and from the Allowed NSSAI.
After this, the network operator can safely terminate the corresponding
network slice at the point in time according to the schedule known by the OAM.
NOTE 4: For any RAN, which are affected by terminating the network slice, the
OAM removes the supported S-NSSAI from the RAN. For interoperability between
the RAN and the AMF, the affected RAN uses RAN Configuration Update procedure
as specified in clause 8.7.2 of TS 38.413 [8] to inform the AMF about updating
S-NSSAI(s) supported by the RAN. In addition, the affected AMF also informs
the RAN about updating S-NSSAI(s) supported by the AMF by using the AMF
Configuration Update procedure in clause 8.7.3 of TS 38.413 [8].
### 6.8.4 Impacts on services, entities and interfaces
UDM:
\- UDM is enhanced to support which S-NSSAI is subject to be terminated and
when the S-NSSAI will be terminated and to inform SMF by invoking the
Nudm_SDM_Notification service.
AMF:
\- AMF is enhanced to gracefully release PDU Session(s) associated with the
S-NSSAI subject to be terminated based on the operator\'s policy and
optionally to inform the UDM about the results of terminating PDU Session(s).
\- AMF is enhanced to know active/inactive status of all PDU Session(s), and
not just for PDU Session established with the NB-IoT RAT Type.
## 6.9 Solution #9: Support of a Network Slice with an AoS not matching
existing TA boundaries.
### 6.9.1 Introduction {#introduction-9}
This solution aims to address the key issues#3 by proposing that the RAN is
enhanced to support additional TAC broadcast (secondary TACs) that supporting
UEs can use. This will require RAN2/3 and CT1 to update their specifications
accordingly.
### 6.9.2 Description
As the use cases for network slicing become more and more advanced and permit
addressing private networking and industrial IoT applications, the Area of
Service (AoS) of network slice can become limited to small areas of a PLMN
which may not map to already existing TA boundaries. In order to accommodate
this, with the current set of specification the way to achieve this would be
to redesign the TAs topology of the network.
Indeed, if the goal of an operator is to support legacy UEs while using such
slices, the only possible solution is to redesign the TA boundaries and
potentially add new and smaller TAs.
So, it can be concluded that to support legacy UEs, the only solution possible
to address the problem space is to redesign the TAs to enable matching the
needs to deploy limited AoS network slices not matching already deployed TAs
topology.
While this can be a solution, this implies that even users that do not have
interest in the specific limited AoS slices may end up having to be allocated
to such smaller tracking area and/or the TAI list can become rather
complicated to form or even in some cases exceed the limit of 16 TAs in the
TAI-list. It may in some situations cause also additional signalling traffic
due to mobility management and needs of UE configuration update even if the
UEs are not interested at all by the use of these specific slices. So, for
rel-18 and beyond, improvements can be considered.
If there are network slices that the operator knows the customer has full
control on the UE population of and the specification of the supported UEs
capabilities is part of the SLA, we can explore alternative option that is
presented here.
The solution is based on allowing the broadcast on SIB of additional TACs (we
expect only a small number if not just one additional to be only needed to
cover most cases, RAN2 to define how many can be configured) that supporting
UEs can read. These additional/secondary TAC values are passed to the CN with
the associated slices supported in NG-AP messages uses to maintain the
supported slices and explicitly indicated as \"Secondary TACs\" in UE specific
signalling when the TAC is included today to signal the UE location in the
Initial UE message, The AMF then forms the RA by considering the support of
slices as today, but it can only include in the Allowed NSSAI network slices
requiring TAs that are broadcasted as secondary TAs in the RA for the
supporting UEs (so e.g. Note well that the support of slices that are not
fully supported in a TA is not signalled, as per today\'s specifications (so,
e.g. TA4 only uniformly supports S-NSSAI 1 and S-NSSAI 4). See figure 6.9.2-1.
These slices whose AoS also requires some secondary TAs, can be allowed in the
in the secondary TAs indicated in the RA only for supporting UEs - so, if the
RA includes secondary TAs, then only supporting UEs can received these slices
S-NSSAIs in the Allowed NSSAI. Primary TAs may be included in the RA for these
slices in addition to secondary TAs only if the S-NSSAIs is uniformly
supported in the primary TA that are indicated in the RA. Of course these
capable UEs are as capable as the legacy UEs to be allowed to use slices that
fully match existing deployed TAs (so if the supporting UE requests S-NSSAI 1
only, it can be indicated a RA=(TAI1,TAI5).
Figure 6.9.2-1: Example TA topology including Primary and Secondary TAs
Based on the uniform support of network slices per TA in figure 6.9.2-1, if,
the UE requests S-NSSAI 3 and S-NSSAI 1 only, then the RA includes TAI 3 but
not TAI1. It is not permitted to add TA4 as cells broadcasting TA4 do not
always support S-NSSAI 3 (see above in figure 6.9.2-1 that the cells
broadcasting TA4 under primary TA5 do not support S-NSSAI 3).
In other words, the uniform support of slices is assumed also at the secondary
TAI level.
Since a gNB only provides the supported slices under the TAC it administers,
S-NSSAI(s) uniform support by a secondary TA shall be configured in each gNB
even though for the cells under its scope support may be considered uniform
(e.g. in figure 6.9.2-1 the TA5 and TA1 may be under different gNBs and so TA4
may be considered uniformly supporting S-NSSAI 3 from the gNB supporting TAI1
and not supporting S-NSSAI 3 in gNB supporting TAI5). The alternative is that
the AMF or NSSF determine the uniform support based on the received
information from the RAN by combining the support indication received by
different NG-AP sources (i.e. if gNB 1 declares S-NSSAI3 is supported by TAI4
and gNB5 does not indicate support of S-NSSAI3 by TAI4, then TAI4 does not
support S-NSSAI 3 uniformly and the NSSF/AMF can summarize this when they
combine the indication by different gNBs).
### 6.9.3 Procedures
When the UE performs a MRU, it includes support secondary TAs in UE 5GMM
capabilities. The Initial UE message or the UL NAS transport message where the
Registration Request is carried, convey the User Location Information IE with
the primary TAC and the secondary TACs of the Cell Id to determine the
S-NSSAIs that are supported in the cell where the UE is.
Figure 6.9.3-1: enhanced ULI in INITIAL UE/ UL NAS TRANSPORT MESSAGEs
Indicatively, we propose to modify the \"User Location Information IE\" in
clause 9.3.1.16 of TS 38.413 [8]:
**From:**
This IE is used to provide location information of the UE.
+---------+---------+-------+---------+---------+---------+---------+ | I | P | Range | IE type | Se | Crit | A | | E/Group | resence | | and | mantics | icality | ssigned | | Name | | | re | desc | | Crit | | | | | ference | ription | | icality | +=========+=========+=======+=========+=========+=========+=========+ | CHOICE | M | | | | - | | | User | | | | | | | | L | | | | | | | | ocation | | | | | | | | Info | | | | | | | | rmation | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | \ | | | | | | | | >E-UTRA | | | | | | | | user | | | | | | | | l | | | | | | | | ocation | | | | | | | | info | | | | | | | | rmation | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | >\ | M | | 9.3.1.9 | | - | | | >E-UTRA | | | | | | | | CGI | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | **> | **M**| |** 9.3 | | **-** | | | >TAI**| | | .3.11** | | | | +---------+---------+-------+---------+---------+---------+---------+ | >>Age | O | | Time | In | - | | | of | | | Stamp | dicates | | | | L | | | | the UTC | | | | ocation | | | 9 | time | | | | | | | .3.1.75 | when | | | | | | | | the | | | | | | | | l | | | | | | | | ocation | | | | | | | | info | | | | | | | | rmation | | | | | | | | was | | | | | | | | gen | | | | | | | | erated. | | | +---------+---------+-------+---------+---------+---------+---------+ | >\ | O | | NG-RAN | | YES | ignore | | >PSCell | | | CGI | | | | | Info | | | | | | | | rmation | | | 9 | | | | | | | | .3.1.73 | | | | +---------+---------+-------+---------+---------+---------+---------+ | >NR | | | | | | | | user | | | | | | | | l | | | | | | | | ocation | | | | | | | | info | | | | | | | | rmation | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | >>NR | M | | 9.3.1.7 | | - | | | CGI | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | **> | **M**| |** 9.3 | | **-** | | | >TAI**| | | .3.11** | | | | +---------+---------+-------+---------+---------+---------+---------+ | >>Age | O | | Time | In | - | | | of | | | Stamp | dicates | | | | L | | | | the UTC | | | | ocation | | | 9 | time | | | | | | | .3.1.75 | when | | | | | | | | the | | | | | | | | l | | | | | | | | ocation | | | | | | | | info | | | | | | | | rmation | | | | | | | | was | | | | | | | | gen | | | | | | | | erated. | | | +---------+---------+-------+---------+---------+---------+---------+ | >\ | O | | NG-RAN | | YES | ignore | | >PSCell | | | CGI | | | | | Info | | | | | | | | rmation | | | 9 | | | | | | | | .3.1.73 | | | | +---------+---------+-------+---------+---------+---------+---------+
**To:**
This IE is used to provide location information of the UE.
+---------+---------+-------+---------+---------+---------+---------+ | I | P | Range | IE type | Se | Crit | A | | E/Group | resence | | and | mantics | icality | ssigned | | Name | | | re | desc | | Crit | | | | | ference | ription | | icality | +=========+=========+=======+=========+=========+=========+=========+ | CHOICE | M | | | | - | | | User | | | | | | | | L | | | | | | | | ocation | | | | | | | | Info | | | | | | | | rmation | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | \ | | | | | | | | >E-UTRA | | | | | | | | user | | | | | | | | l | | | | | | | | ocation | | | | | | | | info | | | | | | | | rmation | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | >\ | M | | 9.3.1.9 | | - | | | >E-UTRA | | | | | | | | CGI | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | ** | **M** | | **9.3 | |** -**| | | >>TAI | | | .3.11** | | | | | LIST**| | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | >>Age | O | | Time | In | - | | | of | | | Stamp | dicates | | | | L | | | | the UTC | | | | ocation | | | 9 | time | | | | | | | .3.1.75 | when | | | | | | | | the | | | | | | | | l | | | | | | | | ocation | | | | | | | | info | | | | | | | | rmation | | | | | | | | was | | | | | | | | gen | | | | | | | | erated. | | | +---------+---------+-------+---------+---------+---------+---------+ | >\ | O | | NG-RAN | | YES | ignore | | >PSCell | | | CGI | | | | | Info | | | | | | | | rmation | | | 9 | | | | | | | | .3.1.73 | | | | +---------+---------+-------+---------+---------+---------+---------+ | >NR | | | | | | | | user | | | | | | | | l | | | | | | | | ocation | | | | | | | | info | | | | | | | | rmation | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | >>NR | M | | 9.3.1.7 | | - | | | CGI | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | ** | **M**| |** 9.3 | | **-** | | | >>TAI | | | .3.11**| | | | | LIST** | | | | | | | +---------+---------+-------+---------+---------+---------+---------+ | >>Age | O | | Time | In | - | | | of | | | Stamp | dicates | | | | L | | | | the UTC | | | | ocation | | | 9 | time | | | | | | | .3.1.75 | when | | | | | | | | the | | | | | | | | l | | | | | | | | ocation | | | | | | | | info | | | | | | | | rmation | | | | | | | | was | | | | | | | | gen | | | | | | | | erated. | | | +---------+---------+-------+---------+---------+---------+---------+ | >\ | O | | NG-RAN | | YES | ignore | | >PSCell | | | CGI | | | | | Info | | | | | | | | rmation | | | 9 | | | | | | | | .3.1.73 | | | | +---------+---------+-------+---------+---------+---------+---------+
**where the definition of TAI LIST can be like:**
TAI LIST
This IE indicates the list of TAIs broadcast by the NG RAN node and can be
accessed by the UE.
IE/Group Name Presence Range IE type and reference Semantics description
Criticality Assigned Criticality
* * *
TAI Item _1..\ _ \- >TAC M * * 9.2.2.5 Broadcast TAC -
>Broadcast PLMNs _1..\ _ \- >>PLMN Identity M * *
9.2.2.4 Broadcast PLMN - >>TAI Type M ENUMERATED (primary, secondary, ...)
slice categorization -
The _TAI Type_ information shall also be conveyed alongside the TAI in the NG-
AP NG SETUP REQUEST, RAN CONFIGURATION UPDATE messages. similarly, the same
applies on Xn-AP Xn SETUP REQUEST and NG-RAN CONFIGURATION UDPATE message and
in the F1-AP F1 SETUP REQUEST and GNB-DU CONFIGURATION UDATE messages.
**In the registration Request message itself, the gNB also includes:**
In the UE Registration Request step 1 of Figure 4.2.2.2.2-1: \"Registration
procedure\" the registration request includes the \"last visited TAI\"
information.
* * *
_[...] UE to (R)AN: AN message (AN parameters, Registration Request
(Registration type, SUCI or 5G-GUTI or PEI,__[last visited TAI (if
available)]__, [__...]_ **
* * *
**It is proposed that now it is augmented with the \"Last visited secondary
TAIs\" by supporting UEs because these TAIs have to be detected in the AMF as
additional to the primary TAI to have complete information.**
* * *
_[...] UE to (R)AN: AN message (AN parameters, Registration Request
(Registration type, SUCI or 5G-GUTI or PEI,__[last visited TAI (if
available)]__,__[last visited secondary TAIs(if available and supported by the
UE]__] [__...]_ **
* * *
### 6.9.4 Impacts on services, entities and interfaces
The solution has the following impacts:
NG-RAN node:
\- Broadcast one or more additional TAIs via a new information element in SIB.
\- Support new messages in the NG-AP and Xn-AP as well as F1AP procedures to
share support of additional secondary TAI, or indicating the cell where the UE
is support >1 TAC and what the TAC and which ones the primary/secondary values
are.
AMF:
\- Obtain information on the slice support for primary and secondary TAIs via
NGAP procedures.
\- Assign the registration area considering the primary and secondary TACs and
whether the UE is a legacy UE or new UE.
\- Page UEs considering the primary and secondary TAC if informed via NGAP
procedures as well as the corresponding registration areas of the UEs.
\- Obtain UE\'s primary TAC and secondary TACs via initial UE message.
UE:
\- When multiple TACs are available for the selected PLMN, the UE selects (all
things being equal) a primary or secondary TAC inside the RA.
\- perform registration procedure by taking into account the secondary TAC
broadcasted.
## 6.10 Solution #10: Associating a validity timer with a temporary slice
### 6.10.1 Introduction {#introduction-10}
The solution addresses second part of the key issue #3 \" Network Slice Area
of Service for services not mapping to existing TAs boundaries and Temporary
network slices \" which states that there can be case where a network slice is
deployed temporarily for a particular time period
The network (e.g. AMF, SMF, NSSF or other NFs) associates a validity timer for
each S-NSSAI which is deployed temporarily either by explicit signalling (e.g.
the NFs gets validity timer from the UDM) or through O&M procedure. This
validity timer for each temporary S-NSSAI is sent to the UE e.g. in the
configured NSSAI list during the registration procedure. When the UE receives
the S-NSSAI with a validity timer in the configured NSSAI, the UE runs a
validity timer. The UE will register to the S-NSSAI when the validity timer is
running. In CM-IDLE once the validity timer expires the UE locally removes the
S-NSSAI from the allowed NSSAI list and the UE locally release the PDU session
associated with the S-NSSAI. The network (e.g. AMF) also runs the validity
timer for the S-NSSAI, once the validity timer expires the network removes the
S-NSSAI from the allowed NSSAI list and locally release the PDU sessions
associated with the S-NSSAI. In CM-CONNECTED state, on expiry of the validity
timer, the AMF initiates PDU session release procedure. The network may also
associate a S-NSSAI with validity timer if the S-NSSAI was not associated with
any validity timer. The UE provides the capability to the AMF which provides
to the UDM or other network function that it support configured NSSAI with
validity timer. The UE not supporting the timer doesn\'t get the validity
timer in the configured NSSAI. In addition of UDM other entities can also
provide the validity timer. This covers both the case where the timer is set
in the serving network (for the serving S-NSSAI) and from the subscription
(UDM-based, for the subscribed S-NSSAI).
Editor\'s note: whether O&M or UDM configures validity timer in the roaming
case is FFS.
### 6.10.2 Procedures
Figure 6.10.2-1: Handling of a temporary network slice
The detailed procedure are as described below:
0\. The UE can be preconfigured with configured NSSAI with validity timer.
Configured NSSAI can also come in UE Configuration Update message.
NOTE 1: A S-NSSAI can be added or removed dynamically as per the current
procedure.
1\. The UE initiates registration procedure and sends registration request
message.
2-3. The network may trigger authentication procedure and security mode
command procedure.
4-6. The AMF registers to the UDM for the UE. the UDM provides the subscribed
NSSAI to the AMF. In the subscribed NSSAI the UDM associate a validity time
for each temporary S-NSSAI.
NOTE 2: The validity timer for a temporary S-NSSAI can also be provided by
other NSSF.
7\. The AMF sends configured NSSAI = Subscribed NSSAI to the UE in the
registration accept message.
8\. The UE stores the configured NSSAI.
9\. The sends registration complete message to the AMF.
10a. The UE starts t1. The UE initiates registration to the S-NSSAI 1 while
the timer t1 is running. Once the t1 expires the UE removes the S-NSSAI 1 from
the allowed list locally. The UE removes the S-NSSAI 1 from the configured
NSSAI list.
10b. AMF starts t1 is. The AMF accepts registration to the S-NSSAI 1 while the
timer t1 is running. Once the t1 expires the UE removes the S-NSSAI 1 from the
allowed list locally.
NOTE 3: The value of the timer can be hours, days or months and details can be
captured in stage 3.
### 6.10.3 Impacts on services, entities and interfaces
UE
\- Handling of validity timer for a S-NSSAI.
AMF, SMF, NSSF,PCF
\- Handling of validity timer for a S-NSSAI.
UDM
\- UDM needs to provide the validity timer for a temporary S-NSSAI for a UE to
the AMF.
## 6.11 Solution #11: Enabling UEs to Request S-NSSAIs not uniformly available
### 6.11.1 Introduction {#introduction-11}
This solution applies to KI#5 and KI#3. This applies to S-NSSAIs that are:
\- either available only temporarily or at specific times, or
\- valid in Area of Service that does not match the deployed TA boundaries, or
\- valid only in some TAs of the current RA assigned to the UE.
### 6.11.2 Functional Description
The high-level points of the proposed solution are:
\- The AMF creates an RA for the UE as per current mechanisms ensuring the
optimal size of the RA with respect to the S-NSSAIs that can be allowed.
\- Temporary Slices for which the UE has a subscription are provided in the
Configured NSSAI provided to the UE.
\- The Allowed NSSAI contains only S-NSSAIs that the UE has requested and that
are allowed in the whole RA (i.e. each TA of the RA) and, in case of temporary
slices, are currently available.
\- for temporary slices, the Allowed NSSAI may be augmented to contain a
validity time for the S-NSSAI(s) corresponding to temporary slices. When
receiving the Allowed NSSAI containing a validity time for the S-NSSAI(s)
corresponding to temporary slices, the UE runs a timer and, when the validity
timer expires, the UE locally removes the S-NSSAI from the allowed NSSAI list
and the UE release the PDU session associated with the corresponding S-NSSAI.
\- The AMF provides a set of conditions to the UE for the S-NSSAIs (here
called Conditional S-NSSAI) that are valid only under specific conditions
(e.g. only in specific TAs, or that have a validity time associated) and
therefore cannot be placed in the Allowed NSSAI (here called Conditional
S-NSSAI):
\- the conditions may include a list of TAs (not included in the present RA)
where the S-NSSAI is allowed.
\- the conditions may include an Area of Service (as defined in KI#3) for the
S-NSSAI. The Area of Service may be defined as a set of TAs or a set of cells.
If the Area of Service of an S-NSSAI does not match exactly one or a set of
TAs, the RA selected for the UE may not include the TAs that overlap with the
area of service and the S-NSSAI corresponding to the Area of Service may be
provided as a Conditional S-NSSAI to the UE with the Area of Service
information. The Conditional S-NSSAI may be supported in one or more TAs of
the RA but not in all of the TAs of the RA.
\- it is assumed that the AMF is informed about a slice availability on a per-
cell basis from the NG-RAN.
\- it is assumed that the AMF is informed about a slice availability in terms
of validity time based on OAM or subscription information.
\- the conditions may include \"time-related conditions\" (e.g. specific times
at which an S-NSSAI is available or the time period in which the S-NSSAI is
available) to support the use cases associated with KI#3.
\- multiple conditions may be associated to an S-NSSAI (e.g. list of TAs and
\"time-related conditions\").
NOTE 1: An S-NSSAI that is allowed in the whole RA or part of the RA but only
under specific time conditions would be placed in the Conditional S-NSSAI.
\- the conditions are provided by placing the S-NSSAI in a new Conditionally
Allowed NSSAI IE which contains all the S-NSSAIs the UE requested and that
cannot be placed in the Allowed NSSAI since they are not available in the
whole RA, but that may be available under different conditions (other TAs,
other times, etc.). The UE is allowed to request resources (e.g. establish a
PDU session) for the S-NSSAI in the Conditionally Allowed NSSAI without
requiring the UE to re-register. If the UE supports the Conditionally Allowed
S-NSSAI feature, the UE shall indicate its support for it in the Registration
Request message and the AMF shall provide the Conditionally Allowed NSSAI to
the UE only if the UE indicated support for it.
Editor\'s note: The exact impact of allowing the UE to request resources for
S-NSSAIs in the Conditionally Allowed NSSAIs without allowing the UE to re-
register is FFS.
Editor\'s note: The impact of using the Conditionally Allowed NSSAI as
described above on NSCAF mechanisms is FFS.
NOTE 2: The decision with respect to which IE is used to convey the additional
information should be taken in CT WG1.
NOTE 3: S-NSSAIs that are placed in the Pending NSSAI may be considered
Conditional NSSAIs once the NSSAA procedure is completed successfully.
\- The AMF provides the conditions to the UE anytime the AMF provides, or
updates, the Allowed NSSAI and Rejected NSSAI to the UE (e.g. registration
procedure, UCU procedure).
Editor\'s note: How the AMF is provided such condition information, e.g. via
OAM or other mechanisms, is FFS.
\- The UE shall not request resources for a Conditional S-NSSAI unless the
associated conditions indicate the S-NSSAI is available (e.g. specific TA or
time).
\- When the UE determines that one or more Conditional S-NSSAI(s) are
available and that the applications in the UE require connectivity with the
Conditional S-NSSAI(s), the UE and may request a PDU session for such
S-NSSAI(s).
\- when the UE is in a TA corresponding to the set of TAs where a Conditional
S-NSSAI is available, the UE may request the establishment of a PDU session
for the Conditional S-NSSAI.
\- when the validity time associated with a Conditional S-NSSAI applies (i.e.
the slice is currently available according to the validity time), then the UE
may request the establishment of a PDU session for the Conditional S-NSSAI.
\- when the UE is in the Serving Area where a Conditional S-NSSAI is
available, the UE may request the establishment of a PDU session for the
Conditional S-NSSAI.
\- When the UE performs a Service Request for an S-NSSAI that is no longer
available (e.g. the UE has moved outside the TA or Serving Area where the
S-NSSAI is available or the time conditions have changed), the request for the
resources associated to the S-NSSAI is rejected and an indication is provided
to the UE as to why. If the S-NSSAI was in the Allowed NSSAI, the AMF may
provide a new Allowed NSSAI and a Conditionally Allowed NSSAI to the UE.
\- Not all AMFs in a network may support this extension, thus to enable
compatibility a UE receiving the additional information regarding Conditional
S-NSSAIs shall ignore it and no capability indication to the AMF is required.
\- With this solution, non-supporting AMFs cannot support S-NSSAIs with
Serving Area or time constraints.
### 6.11.3 Procedures
#### 6.11.3.1 Registration Procedure
The Registration procedure in clause 4.2.2.2.2 of TS 23.502 [5] is enhanced as
follows:
\- Step 21: the AMF may include information about Conditional S-NSSAI in the
Conditionally Allowed NSSAI in the Registration Accept message.
#### 6.11.3.2 UE Configuration Update Procedure
The UE Configuration Update procedure in clause 4.2.4.2 of TS 23.502 [5] is
enhanced as follows:
\- Step 1: the AMF may include information about Conditional S-NSSAI in the
Conditionally Allowed NSSAI in the UE Configuration Update Command message.
When a temporary network slice is deployed, the AMF may update the Configured
NSSAI of UE by adding the corresponding S-NSSAI and when the temporary network
slice is decommissioned, the AMF updates the Configured NSSAI and optionally
the Allowed NSSAI and the Conditionally Allowed NSSAI, to remove the
corresponding S-NSSAI.
#### 6.11.3.3 UE Requested PDU Session Establishment Procedure
The UE Requested PDU Session Establishment procedures in clause 4.3.2.2.1
(non-roaming and roaming with local breakout) and clause 4.3.2.2.2 (home-
routed roaming) of TS 23.502 [5] are enhanced as follows:
\- Step 1: the UE can request PDU Session Establishment for a Conditional
S-NSSAI only if the conditions associated to the Conditional S-NSSAI are
valid.
\- Step 2: the AMF verifies whether the conditions associated to the
Conditional S-NSSAI are valid and, if not, the AMF rejects the request.
#### 6.11.3.4 Service Request
The Service Request procedure in clause 4.2.3.2 of TS 23.502 [5] if enhanced
as follows:
\- when the UE performs a Service Request for a Conditional S-NSSAI whose
associated conditions are no longer valid and therefore is no longer available
(e.g. the UE has moved outside the TA or Serving Area where the S-NSSAI is
available or the time conditions have changed), the request for the resources
associated to the S-NSSAI is rejected and an indication is provided to the UE
as to why. If the S-NSSAI was in the Allowed NSSAI, the AMF may provide a new
Allowed NSSAI and a Conditionally Allowed NSSAI to the UE.
#### 6.11.3.5 PDU Session Release
The PDU Session Release procedures in clause 4.3.4.2 (non-roaming and roaming
with local breakout) and clause 4.3.4.3 (home-routed roaming) of TS 23.502 [5]
are modified as follows:
\- Step 1a in clauses 4.3.4.2 and 4.3.4.3: the UE initiates the PDU Session
release when it detects that it moves out of the TA or Area of Service of the
Conditional S-NSSAI associated with the PDU Session.
\- Step 1c in clause 4.3.4.2: the AMF verifies whether the UE moves out of the
TA(s) or Area of Service where a Conditional S-NSSAI associated with the PDU
Session is available, e.g. based on the serving cell of the UE, the
geographical UE location or the area type event report from LMF as described
in clause 4.1a.5.1 of TS 23.273 [15] and the AMF requests the release of the
PDU Session corresponding to the Conditional S-NSSAI.
\- Step 1b in clause 4.3.4.3: the AMF verifies whether the UE moves out of the
TA(s) or Area of Service where a Conditional S-NSSAI associated with the PDU
Session is available, e.g. based on the serving cell of the UE, the
geographical UE location or the area type event report from LMF as described
in clause 4.1a.5.1 of TS 23.273 [15] and the AMF requests the release of the
PDU Session corresponding to the Conditional S-NSSAI.
### 6.11.4 Impacts on services, entities and interfaces
The following impacts have been identified:
\- UE:
\- interpreting and processing new information in Rejected NSSAI or new
Conditional S-NSSAI IE.
\- support for the Conditional S-NSSAI feature indication at registration.
\- AMF:
\- providing new information in Rejected NSSAI or new Conditional S-NSSAI IE.
\- providing rejection cause at Service Request.
\- RAN:
Editor\'s note: exact impacts on RAN and impacts on other NFs are to be
identified.
## 6.12 Solution #12: Solution for Centralized Counting for Multiple Service
Areas and 5GS-EPS Interworking
### 6.12.1 Description
In this solution and in support of 5GS only slices, when multiple Service
Areas are deployed, it is proposed that a single central NSACF NF performs the
PLMN global counting and admission to ensure a consistent counting, e.g. such
that during handover between different Service Areas no additional admission
needs to be performed. The admission request includes all necessary
information to enable the central NSACF NF to collect all pertinent
information per Service Area. Interaction between the NF performing the
admission, be it the SMF or the AMF, occurs with the designated central NSCAF
for that purpose. The central NSACF NF responsible for PLMN global count is
discovered via NRF as per clause 6.12.2.4 or can be pre-configured.
Two options are proposed to enable a Service Area to perform some local tasks;
e.g. keeping local statistics in conjunction with centralized counting with a
single central NSACF NF:
**Option 1: Transparent Proxying to central NSACF NF Via an intermediate NF**
Based on policy, an NF, e.g. SMF or AMF performing the admission with the
central NSACF NF may additionally and optionally interact with a local NF
associated with the Service Area, for any additional capabilities not
supported by the central NSACF NF. Such additional capabilities are not
specified. but can be e.g. to keep local statistics.
The interaction with such a local NF is such, that the local NF in the Service
Area proxies the original request, as is, to the central NSACF NF, after
performing the tasks it desires upon receipt of the admission Request intended
for the central NSACF NF. Hence, in this option1, the interaction with the
central NSACF server is proxied via an intermediate NF to the central NF, as
long as it is transparent to the central NSACF NF. Transparent means that the
central NSACF NF cannot distinguish whether the Request is direct from the
AMF/SMF or proxied via an intermediate NF. It also need ensure the response
message from central NSACF go through the intermediate NF. The local NF can be
configured in this option with the central NSACF, can discover the central
NSACF as per clause 6.12.2.4, or can receive the information from the AMF/SMF.
**Option 2: Dual Interaction with Local NF and central NSACF NF**
Based on policy, an NF, e.g. SMF or AMF performing the admission with the
central NSACF NF may additionally and optionally interact with a local NF
associated with the Service Area, for any additional capabilities not
supported by the central NSACF NF. Such additional capabilities are not
specified. but can be e.g. to keep local statistics
Hence the AMF/SMFs performs dual interactions in parallel; once towards the
central NSACF NF and an additional one towards a local NF in the Service Area.
For both options 1 or 2, AMFs/SMFs are configured with a service area to be
used for a local NF selection and a service area to be used for central NSACF
selection.
NOTE 1: These two-service areas are for two different NF discovery and
selection. It can be different.
As an additional option, the AMFs/SMFs can be configured with the local NFs to
be used. The central NSACF to be used can be discovered by the appropriate NF
or be configured in the appropriate NFs depending on the selected option by
the PLMN.
In support of roaming and to enable such a central NF to handle roaming UEs,
as well as home bound UEs, the admission query to the central NF includes the
PLMN-ID where the UE is roaming.
To support EPS counting while interworking with 5GS when activated and where
home routing is the only option for attachment to EPS, a central NSCAF NF
could be optionally dedicated for 5GS-EPS interworking shared count as per
clause 6.12.2.4. In this case, such a dedicated NF is discovered. The PLMN can
also reuse a single NSACF NF for all admissions.
Similar to the 5GS case and based on policy, a NF performing admission with
the central NSACF responsible for the shared 5GS-EPS count may additionally
and optionally interact with a local NF associated with the Service Area, for
any additional capabilities not supported by the central NSACF NF. Such
additional capabilities are not specified. Hence, in this case as well, both
options 1 and 2 above for 5GS only slices are supported for the 5GS-EPS
interworking case.
With central count regardless of any interactions with a local NF based on
either option 1 or option 2, admission is solely based on the central NSACF,
even if these local NFs are local NSACFs maintaining count. Given that the
service area is included in the interaction with the central NSACF for all
cases, see clause 6.12.2.1.1, as one example, the central NSACF is able to
determine when a UE, who has a stored state in it as being registered in one
service area, has moved to a new service area when a new admission request
arrives from a new service area and as such the central NSACF does not perform
an admission in this case.
NOTE 2: As stated before functions performed in the local NF are out of scope.
A Release 17 NSACF, as currently specified, is not expected to be used in this
case as a local NF. This solution defines access to a central NSACF and any
local NF must adapt to ensure compliance, depending on the adopted option.
Indeed, implementations may choose not to support any local NF option for a
centralized NSACF as all information is available there. However, a Release 17
NSACF is enhanced, as detailed in the procedures below, to become a
centralized NSACF.
### 6.12.2 Procedures
#### 6.12.2.1 UE Registration Admission
##### 6.12.2.1.1 5GS only slices
In this procedure, there is a single central NSACF NF performing the count for
the entire PLMN. The AMF discovers the central NSACF NF performing the PLMN
global counting. The NF profile for the NSACF is updated to indicate that the
NSACF is the central NSACF for the S-NSSAI handling the PLMN global count for
5GS slices, i.e. discovery procedure in clause 5.2.7.2.2 of TS 23.502 [5] is
updated and clause 6.3.22 of TS 23.501 [2] is updated and the central NSACF
information can be encoded as part of the NSACF service capabilities as a
specific capability or as part of the NSACF Serving Area information.
The AMF performs admission as in clause 4.2.11.2 of TS 23.502 [5] with the
following changes:
\- The AMF includes the Service Area and the PLMN ID in its request to the
central NSACF NF.
\- AMF performs either option 1 or option 2 below:
\- In support of **option 1** , the AMF, based on policy, communicates
directly with central NSACF NF or via an intermediate NF that proxies the
original request unaltered to the central NSACF. The actions performed in the
intermediate NF are out of scope.
\- In support of **option 2** , the AMF, based on policy, sends the admission
request to the central NSACF NF and sends the admission request as well to a
local NF in the Service Area. The local NF performs tasks out of scope of
standardization.
\- The central NSACF NF does not change the number of registered UE for a UE
that is moving between multiple Service Areas given that the UE has already
been admitted and successfully registered in an old Service Area. In this
case, the central NSACF NF performing the PLMN global counting only updates
the UE stored information.
The AMF, in case the policy is to communicate additionally with local NSACFs
(option 2), updates the applicable local NSACF with the change i.e. UE leaving
one Service Area and entering the new Service Area.
With central count regardless of any interactions with a local NSACF based on
either option 1 or option 2, admission is solely based on the central NSACF,
even if these local NSACFs maintaining count.
##### 6.12.2.1.2 5GS-EPS Interworking with EPS Counting Active
In this solution, there is a shared count for maximum number of Registered UEs
for interworking between 5GS and EPS. The count can be performed by a central
NSACF NF dedicated for 5GS-EPC interworking, or the central NSACF NF used for
5GS slices can be used. The count can be separate or bundled with the 5GC only
slices count.
If a dedicated 5GS-EPS central NSACF NF is used, the AMF/SMF+PGW-C discovers
the central NSACF NF handling the shared 5GS-EPS count for the number of
Registered UEs. The NF profile for the NSACF is updated to indicate that the
NSACF is the central NSACF for the for shared 5GS-EPS count for number of
Registered UEs. i.e. clause 5.2.7.2.2 of TS 23.502 [5] is updated and clause
6.3.22 of TS 23.501 [2] is updated and the central NSACF information can be
encoded as part of the NSACF service capabilities as a specific capability or
as part of the shared 5GS-EPS count.
The AMF/SMF+PGW-C performs admission as in clause 4.2.11.2 of TS 23.502 [5]
with the following changes:
\- The AMF/ SMF+PGW-C includes the Service Area, the PLMN ID where the UE is
currently in its request to the central NSACF responsible for shared 5GS-EPS
count for number of Registered UEs
\- AMF/SMF+PGW-C performs either option 1 or option 2 below:
\- In support of **option 1** , the AMF/SMF+PGW-C, based on policy,
communicates directly with central NSACF NF or via an intermediate NF that
proxies the original request unaltered to the central NSACF. The actions
performed in the intermediate NF are out of scope.
\- In support of **option 2** , the AMF/SMF+PGW-C, based on policy, sends the
admission request to the central NSACF NF and sends the admission request as
well to a local NF in the Service Area. The local NF performs tasks out of
scope of standardization.
The NSACF NF responsible for the shared 5GS-EPS count or number of Registered
UEs does not change the number of registered UE for a UE that is moving
between multiple Service Areas given that the UE has already been admitted and
registered in an old Service Area and counted for. The NSACF NF handling the
shared 5GS-EPS count simply updates the UE stored information.
The AMF/SMF+PGW-C, in case the policy is to communicate additionally with
local NSACFs (option 2), updates the applicable local NSACF with the change
i.e. UE leaving one access to another access.
#### 6.12.2.2 Roaming
Roaming is covered by the above solution as the PLMN ID is included in an
admission request, enabling the NSACF NF to identify roaming UEs.
#### 6.12.2.3 UE PDU Session Admission
##### 6.12.2.3.1 5GS only slices
In this procedure, the SMF discovers the central NSACF NF performing the PLMN
global counting for number of PDU sessions for network slices subject to NSAC.
The NF profile for the NSACF is updated to indicate that the NSACF is the
central NSACF for the S-NSSAI handling the PLMN global count for the number of
PDU sessions, i.e. clause 5.2.7.2.2 of TS 23.502 [5] is updated and clause
6.3.22 of TS 23.501 [2] is updated and the central NSACF information can be
encoded as part of the NSACF service capabilities as a specific capability or
as part of the NSACF Serving Area information.
The SMF performs admission as in clause 4.2.11.4 of TS 23.502 [5] with the
following changes:
\- The SMF includes the Service Area and the PLMN ID in its request to the
central NSACF NF.
\- SMF performs either option 1 or option 2 below:
\- In support of **option 1** , the SMF, based on policy, communicates
directly with central NSACF NF or via an intermediate NF that proxies the
original request unaltered to the central NSACF. The actions performed in the
intermediate NF are out of scope.
\- In support of **option 2** , the SMF, based on policy, sends the admission
request to the central NSACF NF and sends the admission request as well to a
local NF in the Service Area. The local NF performs tasks out of scope of
standardization.
When a PDU session is handed over between two Service Areas, the central NSACF
NF handling the number of PDU session does not change the number of PDU
sessions if the session is successfully handed over. In case of a successful
handover, the central NSACF NF performing the PLMN global counting simply
updates the UE stored information. The SMF, in case the policy is to
communicate additionally with local NSACFs (option 2), updates the applicable
local NSACFs with the change i.e. UE leaving one Service Area and entering the
new Service Area.
With central count regardless of any interactions with a local based on either
option 1 or option 2, admission is solely based on the central NSACF, even if
these local NFs are local NSACFs maintaining count.
##### 6.12.2.3.2 5GS-EPS Interworking with EPS Counting Active
In this solution, there is a shared count for maximum number of PDU sessions
between 5GS and EPS performed by a central NSACF NF dedicated for that
purpose, or the central NSACF NF used for 5GS slices can be used.
If a dedicated 5GS-EPS central NSACF NF is used, the SMF/SMF+PGW-C discovers
the central NSACF NF handling the shared 5GS-EPS count for the number of PDU
sessions for a slice subject to NSACF. The NF profile for the NSACF is updated
to indicate that the NSACF is the central NSACF for the for shared 5GS-EPS
count for number of PDU sessions i.e. TS 23.502 [5] clause 5.2.7.2.2 is
updated and clause 6.3.22 of TS 23.501 [2] is updated and the central NSACF
information can be encoded as part of the NSACF service capabilities as a
specific capability or as part of the shared 5GS-EPS count.
The SMF/SMF+PGW-C performs admission as in clause 4.2.11.2 of TS 23.502 [5]
with the following changes:
\- The SMF/ SMF+PGW-C includes the Service Area, the PLMN ID in its request to
the central NSACF NF responsible for shared 5GS-EPS count for maximum number
of PDU sessions.
\- SMF/SMF+PGW-C performs either option 1 or option 2 below:
\- In support of **option 1** , the SMF/SMF+PGW-C, based on policy,
communicates directly with central NSACF NF or via an intermediate NF that
proxies the original request unaltered to the central NSACF. The actions
performed in the intermediate NF are out of scope.
\- In support of **option 2** , the SMF/SMF+PGW-C, based on policy, sends the
admission request to the central NSACF NF and sends the admission request as
well to a local NF in the Service Area. The local NF performs tasks out of
scope of standardization.
When a PDU session is handed over between 5GS and EPS, the central NSACF NF
handling the number of PDU session does not change the number of PDU sessions
if the session is successfully handed over between 5GS and EPS. In case of a
successful handover, the NSACF NF handling the shared 5GS-EPS count simply
updates the UE stored information.
The SMF/SMF+PGW-C, in case the policy is to communicate additionally with
local NSACFs (option 2), updates the applicable local NSACF with the change
i.e. UE leaving one access to another access.
#### 6.12.2.4 Discovery of Central NSACF
Currently following factors may be considered by the NF consumer for NSACF
selection:
\- S-NSSAI(s).
\- NSACF Serving Area information. The NSACF service area is related to the
location of the NF consumer.
NOTE: Each Serving Area is unique and unambiguously identified.
For central counting, a PLMN shall include a service area unambiguously
identified for that purpose. This could be as an example, the PLMN ID. In
roaming case the PLMN ID is the HPLMN ID. Stage 3 makes the final
determination This enables an AMF/SMF utilizing centralized counting to be
able to select the appropriate NSACF.
If applicable an NSACF can be utilized exclusively for 5GC EPC interworking,
when EPC and 5GC have a joint admission counting between them. In this case,
there shall be an NSACF service area distinctly and unambiguously identified
for that purpose. A PLMN can only have only one NSACF for that purpose used by
both EPC and 5GC for admission purposes in this case. This NSACF is also
utilized for home and outbound roamers in all VPLMNs.
### 6.12.3 Impacts on services, entities and interfaces
NSACF: Enhanced to support reception of service area in an incoming request,
detecting a UE moving between service areas to avoid admission, as well as
registering its capabilities in NRF.
AMF:
\- To perform discovery and may support either option 1 or option 2.
\- Include the service area and PLMN ID for admission control.
SMF:
\- To perform discovery and may support either option or option 2.
\- Include the service area and PLMN ID for admission control.
Local NF: Optional NF. The functionality provided by this local NF is out of
scope. However, it need be able to discover the central NSACF. If this NF is
deployed in support of option1, it must ensure that it can proxy a received
request from an AMF /SMF in the service area served by this local NF
transparently to the central NSACF as well as the received responses back to
the corresponding request in the initiating AMF/SMF.
NOTE: The local statistics is to be executed at the local NF is out of scope.
## 6.13 Solution #13: Hierarchical NSACF Architecture for Maximum UE/PDU
Session number control
### 6.13.1 Introduction {#introduction-12}
This is a solution to Key Issue #4, \"Support of NSAC involving multi service
Area\".
As defined in Rel-17 an NSACF is deployed on a service area basis, which can
be one NSACF instance or one NSACF Set. Each NSACF performs maximum number of
registered UE or established PDU session number control independently. It is
possible that UE registration or PDU session establishment is rejected by the
network due to the maximum number of UE/PDU session is reached at the current
serving NSACF even the maximum number may still be available at other NSACF.
This also impacts the session continuity when the UE moves across the service
area.
Thus how to enhance the NSAC mechanism when multi NSACFs are deployed at the
network needs to be considered. In addition, a particular case of Multiple
NSACFs may be in a roaming use case and this should also be covered.
### 6.13.2 Functional Description
The hierarchical NSACF architecture for the control of the maximum number of
registered UEs is shown as the Figure 6.13.2-1. For an S-NSSAI, one NSACF
acting as Primary NSACF is introduced. Other NSACFs take the same role as the
existing NSACF, i.e. serving one service area. The Primary NSACF and NSACF is
the enhancement of the NSACF defined in Rel-17 to support centralized
management of a single maximum number of UEs or PDU sessions.
The slice SLA attribute (e.g. Maximum number of UEs), i.e. the global maximum
number value valid across Service Areas, is only configured at the Primary
NSACF. The global maximum number value is shared among different service
area(s). The Primary NSACF registers its NF profile to the NRF, which can be
discovered by other NF. The NF profile of the Primary NSACF includes the
information that for the indicated S-NSSAI it manages for all service areas,
i.e. the global service area.
**Nxx:** Reference point between Primary NSACF and NSACF.
Figure 6.13.2-1: Hierarchical NSACF Architecture for UE number control(non-
roaming case)
**Nyy:** Reference point between Primary NSACF and NSACF.
Figure 6.13.2-2: Hierarchical NSACF Architecture (Roaming case)
With the replacement of the AMF with SMF or SMF+PGW-c, the same architecture
is used for the enforcement of a maximum number of PDU session. In roaming
cases the NSACF interacting with primary NSACF, which is located at the HPLMN,
for the mapped S-NSSAI of the VPLMN.
To improve the signalling efficiency the Primary NSACF may allocate to each of
the NSACF a partial amount of the global maximum number that is required to be
enforced. When the AMF or SMF(+PGW-C) interact with a NSACF, if the local
maximum number at the NSACF is reached, the NSACF interacts with the Primary
NSACF to check whether there is more allowance for the specific S-NSSAI.
For the NEF subscription on the value of the registered UE number or PDU
session number or UEs with at least one PDU session number, same handling as
the multi NSACF defined in TS 23.502 [5] is executed, i.e. the NRF return the
primary NSACF and other NSACFs to the NEF and NEF subscribes and get
notification from primary NSACF and other NSACFs as before.
As an alternative mechanism, the subscription from NEF can be only point to
the primary NSACF. In this case the NEF invoke the subscription with the
primary NSACF and Primary NSACF collect the information from the NSACFs. Per
the subscription event filter, the primary NSACF notify the NEF when the event
if fulfilled.
### 6.13.3 Procedures
#### 6.13.3.1 Registration management Procedures
Figure 6.13.3.1-1: NSAC check of the maximum number of UEs
If a S-NSSAI is subject to counting of registered UEs, it can be determined
based on subscription. This simplifies the configuration in roaming and non-
roaming cases. Also, this enables to indicate per VPLMN whether the feature is
activated for a S-NSSAI to the VPLMN.
For a S-NSSAIs subject to counting of the number of registered UEs, the
enforcement of maximum number of UEs registered for an S-NSSAI is performed as
follow:
1-2. Same as the steps 1-2 defined in clause 4.2.11.2 of TS 23.502 [5].
3\. The NSACF performs NSAC for the indicated S-NSSAI.
If the update flag parameter from the AMF indicates increase,
\- If the local maximum number of UEs is not yet reached, the NSACF execute
same as step 3 defined in clause 4.2.11.2 of TS 23.502 [5]. Steps 4-8 are
skipped.
\- If the local maximum number of UEs is reached by admitting the UE and the
Primary NSACF does not indicate to reject the further admission in an earlier
interaction, the NSACF interact with the Primary NSACF. Step 4-8 are executed.
If the update flag parameter from the AMF indicates decrease,
\- If the UE entry to be deleted is stored at the NSACF, i.e. the UE entry
with the same UE ID, NF ID and Access type is stored at the NSACF, the NSACF
execute same as step 3 defined in clause 4.2.11.2 of TS 23.502 [5]. Steps 4-8
are skipped.
\- If the UE entry to be deleted is not stored at the NSACF, the NSACF
interact with the Primary NSACF. Steps 4-8 are executed.
4\. If the Primary NSACF has not been discovered before, the NSACF discovers
and selects the Primary NSACF, which manages the global service area.
5\. The NSACF invokes Nnsacf_NSAC_NumberOfUEsUpdate_Request to the Primary
NSACF.
The NSACF forwards the update request to the Primary NSACF. If the update flag
parameter from the AMF indicates increase, the NSACF also include the current
local maximum number of UEs, which is the last received from the Primary
NSACF, i.e. the configured one before.
6\. The Primary NSACF performs NSAC for the indicated S-NSSAI.
If the update flag parameter from the NSACF indicates increase and the local
maximum number is received by the Primary NSACF from the NSACF, per
operator\'s policy, the Primary NSACF may delegate the subsequent NSAC update
request to the NSACF. If the following NSAC update request is delegated to the
NSACF, the Primary NSACF increases the local maximum number of UEs allocated
to the NSACF and does not store the received UE ID information.
If the update flag parameter from the NSACF indicates increase and the
subsequent NSAC update request is expected to be handled at the Primary NSACF
due to local maximum number is reached:
\- If the Primary NSACF has not allocated the complete range of the global
maximum number, per the received UE ID information the UE entry stored at the
Primary NSACF is updated for the related UE ID, including the NF ID and Access
type.
\- If the Primary NSACF has allocated the complete range of the global maximum
number , then the UE cannot be granted admission if the UE does the initial
registration. However SC can still be supported if the UE ID was managed by
the primary NSACF when the UE first registered for admission in an old SA
served by a local NSACF that forwarded the requested to the primary NSACF.
NOTE 1: For the whole global maximum number, the maximum number managed by the
primary NSACF is the last one to be reached. Before the maximum number managed
by Primary NSACF is nearly to be consumed, the primary NSACF can decrease the
local maximum number of registered UEs according to step 4 of clause 6.13.3.3
for those local NSACFs that are below a configured usage threshold.
If the update flag parameter from the NSACF indicates decrease and the UE
entry is managed by the primary NSACF, per the received UE ID information the
UE entry stored at the Primary NSACF is updated for the related UE ID,
including the NF ID and Access type.
NOTE 2: The UE entry managed by the Primary NSACF is used to support the
session continuity when the UE moves to the new service area and the local
maximum number is reached at the target NSACF.
If the update flag parameter from the NSACF indicates decrease, the Primary
NSACF updates the UE entry for the related UE ID, NF ID and Access type.
7\. The Primary NSACF returns the Nnsacf_NSAC_NumberOfUEsUpdate_Response. If
the local maximum number of UEs is increased by the Primary NSACF, the updated
local maximum number of UEs is also included, i.e. the updated configured
value at the NSACF.
8\. The NSACF checks the response from primary NSACF and determines whether it
need update the UE entry stored at the NSACF.
If a new local maximum number of UEs is received from Primary NSACF, the NSACF
replaces the local maximum number of UEs with the received updated value and
update the UE entry for the related UE ID, NF ID and Access type. In other
case the NSACF forwards the response to the AMF.
9\. Same as the step 4 defined in clause 4.2.11.2 of TS 23.502 [5].
#### 6.13.3.2 PDU Session management Procedures
Figure 6.13.3.2-1: NSAC check of the maximum number of PDU Sessions
If a S-NSSAI is subject to counting of PDU sessions, it can be determined
based on subscription information. This simplifies the configuration in
roaming and non-roaming cases. Also, this enables to indicate per VPLMN
whether the feature is activated for a S-NSSAI to the VPLMN.
For a S-NSSAIs subject to counting of the number of PDU sessions, the
enforcement of maximum number of PDU Session established for an S-NSSAI is
performed as follow:
1-2. Same as the steps 1-2 defined in clause 4.2.11.4 of TS 23.502 [5].
3\. The NSACF performs NSAC for the indicated S-NSSAI.
If the UE entry update at the NSACF is possible, e.g. Adding the associated
PDU session ID for increase case or removing the associated PDU session ID for
decrease case, same as step 3 defined in clause 4.2.11.4 of TS 23.502 [5] is
executed. Steps 4-8 are skipped.
If the UE entry update at the NSACF is impossible, i.e. the update flag
parameter from the SMF(+PGW-C) indicates increase and by admitting the PDU
session the local maximum PDU session number is reached, the NSACF interacts
with the Primary NSACF unless the Primary NSACF indicated to reject further
PDU sessions in earlier interaction with a cause code (e.g. maximum number of
PDU sessions reached). Step 4-8 are executed.
If the Primary NSACF indicates to reject the further admission before, the
NSACF reject the admission of the new established PDU session. Step 4-8 are
skipped.
4\. If the Primary NSACF has not been discovered before, the NSACF discovers
and selects the Primary NSACF, which manages the global service area.
5\. The NSACF invokes Nnsacf_NSAC_NumberUpdate_Request to the Primary NSACF.
The message includes the S-NSSAI, requested local maximum PDU session number,
i.e. increasing the local maximum PDU session number.
6\. The Primary NSACF checks the global maximum PDU session number and
determine whether accept or reject the requested the local maximum PDU session
number from NSACF, i.e. whether the update of the local maximum PDU session
number of NSACF is accepted or not. If the Primary NSACF has no more available
allowance for maximum number of PDU sessions, the Primary NSACF may indicate
to NSACF to reject any new increase request. At any time, the Primary NSACF
may notify NSACF to remove the indication of reject any new increase request
if it has been notified to NSACF in earlier interaction.
7\. The Primary NSACF returns the Nnsacf_NSAC_NumberUpdate_Response. The
response may include a new allocated local maximum PDU session number, or it
may return indication to reject any further new PDU sessions with a cause
code.
8\. If the primary NSACF provides a new allowance e.g. for the number of PDU
sessions, the NSACF replaces the local maximum PDU session number with the
received allocated local maximum PDU session number value. If the allocated
local maximum PDU session number is increasing, the NSACF creates or adds the
associated PDU session ID into the UE entry. Otherwise the NSACF rejects the
permission to establish the PDU session as indicated.
9\. Same as the step 4 defined in clause 4.2.11.4 of TS 23.502 [5].
#### 6.13.3.3 Redistribution of local maximum number
Figure 6.13.3.3-1: Redistribution of local maximum number
At any time the Primary NSACF may update the allocated local Maximum number of
UE or PDU session configured at the NSACF as follow:
1-2. The Primary NSACF subscribes the slice event exposure service from the
NSACF. This is to get the status of the current registered number of UE or
established PDU session number. Per the subscription, the NSACF notifies the
status of the current registered number of UE or established PDU session
number based on the configured value to the Primary NSCAF periodically or when
above or below the configured threshold per the event subscribed.
3\. Per the received current registered UE/PDU session number at NSACFs and
operator\'s policy, the Primary NSACF decides to update the local maximum
UE/PDU session number values at the NSACF(s), i.e. the configured value.
4\. The Primary NSACF invokes Nnsacf_NSAC_NumberUpdate_Request to the NSACF.
The message includes the allocated new local maximum number.
5\. The NSACF replaces the local maximum number with the received new local
maximum number value.
6\. The NSACF returns the Nnsacf_NSAC_NumberUpdate_Response.
#### 6.13.3.4 Session continuity handling
For maximum number of PDU session control, there is no impact on PDU session
handling in case of UE mobility across service area.
For maximum number of UE control, the NSACF discovered by the AMF (or
SMF+PGW-C) is deployed as the following:
\- Different service area within one PLMN: the NSACF is deployed in each
service area.
\- Roaming: the NSACF is located at the VPLMN.
â€ EPS interworking: when the UE camps at the EPS network, the SMF+PGW-C select
the NSACF at the serving PLMN or the NSACF at the HPLMN depending on whether
the PDU session is LBO PDU session or HR PDU session. When the UE camps at the
5GS network, the AMF selects the NSACF at the camping service area of the
serving PLMN.
In all above cases there is only one Primary NSACF instance or one NSACF Set,
which is located at the HPLMN.
When UE moves across different service area, different NSACF may be interacted
to perform the maximum UE number control. If local Maximum number is not
reached at the target NSACF, the NSACF accepts the UE registration at the new
service area. If local Maximum number is reached, the target NSACF delegates
the NSAC request to the Primary NSACF. The Primary NSACF updates the UE ID
entry per the received UE ID information until the maximum number at the
Primary NSACF is reached. Thus even if the local maximum number at one NSACF
is reached, the session continuity is still supported.
As the Primary NSACF can balance the maximum number among different NSACFs and
also manage the UE ID directly, in general, the support of session continuity
when UE move to a new service area should be no issue.
#### 6.13.3.5 HPLMN control and EPS counting support
Per the S2-2202800, GSMA has sent the new NSAC requirement. It includes two
parts:
1\. NSAC controlled by the HPLMN for UE/PDU session number control.
This is supported with the Primary NSACF located at the HPLMN.
### 6.13.4 Impacts on services, entities and interfaces
The following impacts are foreseen by this solution:
NSACF:
\- A new NSACF type, i.e. Primary NSACF, is introduced. Compare to the Rel-17
NSACF function, it manages the global Maximum number value and distribute
global Maximum number to NSACF additionally.
\- Support the update of the local Maximum number per the instruction from
Primary NSACF.
\- Determines whether the UE ID entry update is to be performed at the NSACF
or Primary NSACF.
\- Support the update of PDU session number.
UDM/AMF/SMF:
\- New subscription data to support the NSAC control, EPS counting, EPS
counting with at least one PDU session.
NEF:
\- For the slice status subscription, only do the subscription with the
Primary NSACF.
## 6.14 Solution #14: Maximum Number Distribution in multiple NSACFs
### 6.14.1 Introduction {#introduction-13}
This solution aims to address the KI#4: Support of NSAC involving multi
service Area. This solution can be applicable to both non roaming scenario and
roaming scenario.
NOTE: This solution doesn\'t resolve the service continuity issue.
### 6.14.2 Functional Description
In this solution, there is one centralized NSACF controlling the overall
maximum number of UEs and maximum number of PDU Sessions of the S-NSSAI. The
distributed NSACF requests the local maximum number from the centralized
NSACF. The centralized NSACF may also update the local maximum number to the
related NSACFs,
In roaming case the NSACF in VPLMN interacts with the centralized NSACF in the
HPLMN to retrieve the local maximum number and perform the NSAC locally.
The central NSACF may invoke Nnsacf_SliceEventExposure service to request the
number of UE and number of PDU session in each distributed NSACF.
Editor\'s note: It is FFS whether the central NSACF is a new node and resolve
it at next meeting.
### 6.14.3 Procedure
Figure 6.14.3-1: Procedure for Maximum Number Distribution in multiple NSACFs
1\. When there is no local maximum number in NSACF, or the number of UE or
number of PDU session of the S-NSSAI will reach the local maximum number in
the NSACF , it sends Local Maximum Number Request to centralized NSACF to
request a new local maximum number.
2\. If the request is accepted, the central NSACF sends a new maximum number
to the NSACF. The NSACF stores the new local maximum number of the S-NSSAI.
3\. At any time the centralized NSACF may send Local Maximum Number update
message to update the local maximum number in the NSACF which has requested
the local maximum number.
4\. The NSACF stores the new local maximum value and send response message to
the centralized NSACF.
### 6.14.4 Impacts on services, entities and interfaces
**NSACF:**
\- new interaction between NSACFs for maximum number distribution.
## 6.15 Solution #15: Service continuity in case of Network Slice instance
**overload**
### 6.15.1 Introduction {#introduction-14}
Based on the operator\'s operational or deployment needs, an S-NSSAI can be
associated with one or more Network Slice instances. Based on the clause
5.15.2.1 of TS 23.501 [2], for any S-NSSAI, the network may at any one time
serve the UE with only one Network Slice instance associated with this S-NSSAI
until cases occur where e.g. this Network Slice instance is no longer valid in
a given Registration Area, or a change in UE\'s Allowed NSSAI occurs, etc.
The overall concept of Early Binding and Late Binding for Network Slice
instance selection are as follows since Rel-15:
\- Early Binding (EB) - Associating the UE with the selected NSI(s) according
to the UE\'s Allowed S-NSSAI(s) upon the successful UE registration. The
identification of the selected target serving NSI corresponding to the Allowed
S-NSSAI and the serving NRF for the target NSI are identified and responded to
the serving AMF to support future PDU session establishment.
\- Late Binding (LB) - Associating the UE with Allowed S-NSSAI upon the
successful UE registration, however, the selection of the target NSI happens
only when receiving the first PDU session establishment request for the
specific Allowed S-NSSAI. Once the target NSI is selected, the serving NRF for
the target NSI is also selected to progress the PDU session establishment
procedure.
As a consequence of only one Network Slice instance associated with a given
S-NSSAI to serve UE, the **AMF is constrained to discover SMF using the same
Network Slice instance for a given S-NSSAI, once the Network Slice instance is
selected by NSSF to serve UE that is allowed to use this S-NSSAI. Therefore,**
the case where this Network Slice instance is overloaded occurs.
This is a solution to Key Issue#1, \"Support of Network Slice Service
continuity\", which proposes Network Slice instance reselection for a given
S-NSSAI, in order to alleviate current load status of selected Network Slice
instance.
This solution applies to both no mobility scenario and inter RA Mobility
scenario.
### 6.15.2 Functional Description
This solution is applied as follows:
\- It is assumed that the SMFs within the Network Slice instance are aware
whether the Network Slice instance is overloaded. When the existing PDU
session is decided as to be migrated to another Network Slice instance, the
SMF performs PDU Session re-establishment by using the mechanism of SSC mode#2
or SSC mode#3.
\- If there are multiple existing PDU sessions associated with the Network
Slice instance, the SMF decides which existing PDU sessions need to be
migrated to another Network Slice instance based on, e.g. SSC mode and other
local policy. In order to prevent resource overload within the new Network
Slice instance, the SMF may select parts of existing PDU sessions to be
migrated.
\- The AMF is notified that the event that the Network Slice instance for a
given S-NSSAI is overloaded, e.g. from OAM. The stored NSI ID that identifies
the Network Slice instance that is overloaded is deleted by AMF from the UE
context. Then AMF will query NSSF to select a suitable Network Slice instance
for the new PDU session requested by UE.
### 6.15.3 Procedures
Figure 6.15.3-1: Procedure of PDU Session re-establishment due to Network
Slice instance overload
1\. The AMF and SMF are aware of the event that the Network Slice instance for
a given S-NSSAI is overloaded, e.g. based on OAM.
2\. If this overloaded Network Slice instance is previously selected for UE,
the stored NS ID that identifies the Network Slice instance that is overloaded
is deleted by AMF from the UE context. For existing PDU sessions associated
with the Network Slice instance, the SMF performs PDU Session re-establishment
by using the mechanism of SSC mode#2 or SSC mode#3 as defined in clause 4.3.5
of TS 23.502 [5]. If there are multiple existing PDU sessions associated with
the Network Slice instance, the SMF decides which existing PDU sessions need
to be migrated to the new Network Slice instance based on, e.g. SSC mode and
other local policy.
3\. The UE initiates PDU Session Establishment procedure as indicated by SMF,
which requests to establish a new PDU session associated with same S-NSSAI as
the existing PDU session.
4\. Existing procedure as described in clause 4.3.2.2.3 of TS 23.502 [5] for
SMF selection is performed, where new NSI ID is determined for the same
S-NSSAI.
5\. Other steps of the PDU Session Establishment procedure. A new SMF within
the new Network Slice instance serves current PDU session. The old PDU Session
is released as described in the TS 23.502 [5].
### 6.15.4 Impacts on services, entities and interfaces
AMF:
\- Deleting the NSI ID that identifies the Network Slice instance that is
overloaded.
SMF:
\- A new condition to trigger PDU Session re-establishment by using the
mechanism of SSC mode#2 or SSC mode#3.
## 6.16 Solution #16: UE assisted slice based VPLMN prioritization for
Extended SoR
### 6.16.1 Introduction {#introduction-15}
Solution # 6 proposes a solution to KI #2. The solution relies on the UE
indicating its location to HPLMN and makes the following assumption: \"A
trigger is detected in the UDM for a roaming UE to provide slice-based SoR
information, e.g. the UDM is preconfigured (e.g. via the OAM or OSS based on
Service Level Agreements with the roaming partners) that one or more of the
UE\'s Subscribed S-NSSAIs are not available in specific visited country or
networks (VPLMNs).\"
However, there may be limitations with these assumptions:
a) Network Slice support may vary (statically or dynamically) at cell level
within the same RAN belonging to a VPLMN. It is impractical to assume that all
VPLMNs will provide up-to-date geographical network slice support information
to HPLMN under the SLA.
b) HPLMN may not be aware of the availability (visibility or suitability for
camping) of all VPLMNs in the UE\'s current location.
c) In some cases, the UE itself may be unable to report its detailed location.
E.g. not all mMTC devices can be expected to have positioning capabilities
(i.e. equipped with a GNSS or A-GNSS receiver) or privacy permissions as
described in TS 22.071 [10].
To overcome these limitations, this solution adds a UE assisted enhancement to
the VPLMN prioritization in solution #6.
### 6.16.2 High Level Description
A UE performs PLMN selection as described in TS 23.122 [7]. \"PLMN Search\" is
a procedure to support the PLMN selection as detailed in clause 5.1.1 of TS
38.304 [9]. \"PLMN Search\" is triggered in several scenarios like the switch-
on, recovery from lack of coverage or periodic attempt to obtain service on
HPLMN (while roaming).
From Release 17 of TS 38.331 [11], the supported slice info of the current
cell and neighbour cells is optionally broadcast in SIB 16 (this was agreed in
RP-220490 and then subsequently became part of V17.0.0). Under these
conditions, during PLMN Search the UE can additionally read the supported
slice information and provide it to the network for prioritizing the available
VPLMNs for selection.
The solution is based on the following high-level assumptions and principles:
\- The UE is configured with S-NSSAIs which are supported by some cells
(strongest cell or neighbour cells) in the Registration area.
\- The NG-RAN is broadcasting the supported slice info of the current cell and
neighbour cells.
\- If a roaming UE activates a service/application requiring a network slice
not offered by the serving network, it may deregister and trigger a PLMN
Search followed by re-registration.
Editor\'s note: This solution is applicable only when there is a need for PLMN
(re)selection. In mobility cases, a deregistration and PLMN Search is not
needed if the UE can find another cell that supports the network slice within
the serving PLMN, using cell reselection (TR 38.832 [3]) or solutions for KI
#1. It is FFS whether any UE assistance is needed by HPLMN for updated slice
info in such cases.
### 6.16.3 Procedures
Existing PLMN search and selection procedures are used with some changes shown
in Figure 6.16.3-1. In this figure, three RANs belonging to three different
PLMNs are represented for illustration purpose.
Figure 6.16.3-1: UE assisted slice based VPLMN prioritization for Extended
SoR.
The various steps of Figure 6.16.3-1 are described below:
1\. The UE has been configured with S-NSSAI and needs to do a PLMN Search due
to e.g.:
a) Switch on/recovery from lack of coverage; or
b) Activation of a service/application requiring a network slice not offered
by the serving network.
2\. The UE performs a PLMN Search as described in clause 5.1.1 of TS 38.304
[9].
3\. a) and b). During PLMN Search, the UE reads system information of the
strongest cell in particular band, in order to find out which PLMN(s) the cell
belongs to and any associated CAG(s). Additionally, it reads system
information (SIB16) for the supported slice info of the current cell and
neighbour cells (if broadcast).
NOTE 1: For illustration purposes, in Figure 6.16.3-1, two out of three VPLMNs
are broadcasting the supported slice info.
NOTE 2: In Figure 6.16.3-1, steps 2 and 3 are labelled as \'Extended PLMN
Search\'.
4\. The UE builds a list of available VPLMN ids and the corresponding slice
info (if broadcast).
5\. The UE proceeds with registration as in clause 6.6.3.1.1 and includes the
{available VPLMN + slice info} list in the transparent container (steps 1 \~ 4
of Figure 6.6.3.1.1-1).
6\. a) and/or b). Optionally, if the slice mapping info for some VPLMNs is not
known, SoR AF in the HPLMN (Figure 6.6.3.1.1-1) may first inquire the AMF
belonging to that VPLMN.
7\. The UE proceeds with steps 5 \~ 9 of Figure 6.6.3.1.1-1. In step 5, SoR AF
takes into account the {available VPLMN + slice info} list before generating
the prioritized list of VPLMNs.
### 6.16.4 Impacts on services, entities and interfaces
The impacts to the 5GS entities are the following:
UE:
\- PLMN Search procedure in clause 5.1.1 of TS 38.304 [9] is modified to
additionally read supported slice info of the serving and neighbour cells. The
rest of PLMN selection, cell selection and registration procedures remain
unchanged.
NG-RAN:
\- Broadcast system information is modified to include supported slice info of
the serving and neighbour cells, as recommended in TR 38.832 [3].
AMF:
\- AMF is modified to provide configured NSSAI, rejected NSSAI and any Direct
AMF selection info to the NG-RAN, as recommended in TR 38.832 [3].
## 6.17 Solution #17: Slice based VPLMN Selection Policy
### 6.17.1 Introduction {#introduction-16}
This solution addresses key issue #2: Support of providing VPLMN network slice
information to a roaming UE. This solution proposes a solution that can
control in which condition the UE can trigger VPLMN selection by providing
operator controlled policy. This solution is not a stand-alone solution and
expected to be used together with other solutions such as solution #6.
NOTE: This solution can be used together with any other solutions that
provides available slice information to the UE.
### 6.17.2 Functional Description
A UE can determine to trigger VPLMN selection if the UE knows which network
slices are supported in a VPLMN and the registered VPLMN does not support
slice the UE want to use. The UE determines to use a network slice for an
application by using URSP rules.
However, current specification allows the network to provide multiple RSDs for
a traffic descriptor, i.e. the network can use multiple slices for an
application. Also network can provide \"match all\" traffic descriptor to the
UE. In this case, the UE may use a slice in the RSD of \"match all\" traffic
descriptor if the UE fails to establish a PDU Session using the slice with
traffic descriptor for the specific application. From the UE perspective, all
slices (e.g. slice in the RSD of matched traffic descriptor with higher
priority, slice in the RSD of matched traffic descriptor with lower priority
and slice in the RSD of \"match all\" traffic descriptor) are allowed for the
application. So the UE can choose whether to trigger VPLMN selection when a
slice in the higher priority URSP rule is in not available in the registered
VPLMN. For example, some UEs may not triggers VPLMN selection at all since the
slice in the \"match all\" traffic descriptor is expected to be supported in
all VPLMNs. But operator may prefer to use a slice in the higher priority URSP
rule if it is available by triggering VPLMN selection.
In addition to above case, there are some cases that a slice the UE wants to
use is supported in the VPLMN but temporally rejected by the network due to
some reasons. For example, the network may not allow using the slice due to
NSAC failure, congestion control, not allowed in the current registration
area. In these cases, each operator may have different preference, e.g. as
those conditions are temporal restriction some operators may want to keep the
UE in the registered PLMN while some operators may want to trigger VPLMN
selection.
In order to control the UE behaviour in above cases, this solution proposes
that the HPLMN may provide Slice based VPLMN Selection Policy (SVSP) to the
UE. The policy indicates in which condition the UE is allowed to trigger VPLMN
selection to find a network that supports slices the UE want to use. The
operator may provide different policy depending on the UE. For example, the
PCF or UDM (adding the policy to SoR Info) may consider subscription of the
UE, location, etc. to generate SVSP. The SVSP contains following information
for each S-NSSAI:
\- Whether the UE can trigger VPLMN selection when the S-NSSAI the UE wants to
use is not available due to
\- Not allowed in the current registration area
\- Whether the UE can trigger VPLMN selection before using a slice in the URSP
rule with \"match all\" traffic descriptor.
NOTE: It is expected that SA WG3 will define end-to-end security-mechanism to
ensure that VPLMN does not modifies UE policy if this policy is conveyed by
PCF and not by SoR container.
### 6.17.3 Procedures
This procedure is used to deliver SVSP to the UE and supports both roaming and
non-roaming scenarios. SoR information can be used as alternative mechanism to
deliver this policy (see TS 23.122 [7]).
Figure 6.17.3-1: Overall procedure
In the non-roaming case, the V-PCF is not involved and the role of the H-PCF
is performed by the PCF. For the roaming scenarios, the V-PCF interacts with
the AMF and the H-PCF interacts with the V-PCF:
1\. The UE performs Registration procedure. The UE indicates that it supports
SVSP in the Registration request.
NOTE: During the Registration procedure, the UE also indicates whether it
supports slice aware SoR.
2\. The AMF creates UE policy association with PCF. The AMF provides the UE\'s
capability, i.e. support of SVSP to the PCF.
3\. The AMF provides Registration accept to the UE.
4\. The H-PCF may provide the UE policy container including SVSP. The policy
is delivered to the UE by using the UE Configuration Update procedure for
transparent UE Policy delivery as described in TS 23.502 [5].
5\. The UE wants to use a slice but the VPLMN does not allows the slice due to
some reason. The UE checks the stored SVSP and determine that the SVSP allows
triggering VPLMN selection. The UE triggers VPLMN selection by using SoR AF or
UDM provided information e.g. as described in solution 6.
### 6.17.4 Impacts on services, entities and interfaces
UE:
\- The UE supports receiving SVSP from the PCF.
\- The UE determines whether to trigger PLMN selection based on SVSP.
\- The UE indicates SVSP capability during the registration.
AMF:
\- The AMF provides UE\'s SVSP capability to the PCF during the UE Policy
Association Establishment.
PCF:
\- The PCF supports providing SVSP to the UE.
## 6.18 Solution #18: Sending rejected NSSAI to the UDM to assist the UDM to
steer the UE to the PLMN supporting rejected NSSAI
### 6.18.1 Introduction {#introduction-17}
The solution addresses KI#2 Support of providing VPLMN network slice
information to a roaming UE.
During the registration procedure in a VPLMN, if the AMF determines that a
S-NSSAI is not allowed e.g. the S-NSSAI is not supported by the VPLMN or the
S-NSSAI is not available e.g. the no. of UE reached for the S-NSSAI, the AMF
sends the rejected NSSAI and requested NSSAI to the UDM. When the UDM receives
the rejected NSSAI and the requested NSSAI, the UDM can determine which other
VPLMN can support the rejected NSSAI. The UDM will prioritize the VPLMN
supporting the rejected NSSAI and initiates SoR procedure with the VPLMN
supporting the prioritized VPLMN as highest priority PLMN.
When the UE receives the SoR, the UE may selects the VPLMN which supports the
rejected NSSAI as this VPLMN is highest priority PLMN.
### 6.18.2 Procedures
Figure 6.18.2-1: Steering of roaming to a VPLMN supporting the network slice
which is not available in the current PLMN
The detailed steps of the procedure are defined below:
0\. The UE selects a VPLMN as defined in the TS 23.122 [7]. The VPLMN sends
configured NSSAI when it is registering to the. VPLMN for the first time.
1\. The UE initiates the registration procedure (e.g. Initial Registration,
mobility registration) to VPLMN 1 for the S-NSSAIs present in the requested
NSSAI. The UE sends a capability that it supports Slice based SoR procedure to
the AMF.
2\. The AMF determines that some S-NSSAI(s) are allowed and some S-NSSAI(s)
are rejected (e.g. the S-NSSAI is not supported in the TA or the PLMN). The
AMF sends Registration accept message containing the allowed NSSAI and
rejected NSSAI.
3-4. Upon reception of the Registration accept message, the UE sends
Registration complete message. The registration complete message contains
secured assistance information e.g. rejected NSSAI and allowed NSSAI which is
passed transparently to the UDM via AMF. The UE may also send secured
assistance information in the UL NAS TRANSPORT message e.g. Registration
complete message is not required to send.
The UE sends the assistance information only when the UE receives rejected
NSSAI from the AMF (i.e. rejected S-NSSAI due to no support in the RA or in
the PLMN or other reject values).
5\. The AMF sends Nudm_UECM_Update containing assistance information e.g.
allowed NSSAI and rejected NSSAI to the UDM.
6\. The UDM sends Nudm_UECM_Update response message. When the UDM receives
assistance information it will follow step 7.
7\. UDM determines to trigger SoR procedure based on assistance information
(e.g. the Rejected NSSAI and allowed NSSAI) as described below.
8a. The UDM sends Nsoraf_SoR_Get request (VPLMN ID, allowed NSSAI, Rejected
NSSAI) to the SoR-AF.
NOTE: When the UDM triggers SoR is totally based on operator policies. The
allowed NSSAI and rejected NSSAI is provided as assistance information to the
HPLMN. For example, if the rejected NSSAI indicates a S-NSSAI is rejected with
cause \"S-NSSAI not available in the current PLMN\" then the UDM may steer the
UE to another VPLMN.
8b. The SoR-AF calculate preferred PLMN list depending on the allowed NSSAI
and rejected NSSAI and sends it in the Nsoraf_SoR_Get response message
(Preferred PLMN list). The preferred PLMN list consists of PLMN IDs and the
S-NSSAIs supported by the PLMN in the preferred PLMN list.
9\. The UDM send SoR as defined in TS 23.122 [7]. The content of SoR can be
10\. After the completion of the SoR procedure, the UE may selects the a VPLMN
(e.g. VPLMN 2) according to the PLMN list received in step 9.
### 6.18.3 Impacts on services, entities and interfaces
UE:
\- sending secured assistance information (e.g. rejected and allowed NSSAI) to
the UDM via AMF.
AMF:
\- Sending of allowed NSSAI and rejected NSSAI to the UDM.
UDM:
\- determines to trigger SoR based on rejected NSSAI and allowed NSSAI.
SoR-AF:
\- SoR AF preparing the preffered PLMN list based on the rejected NSSAI and
Allowed NSSAI.
## 6.19 Solution #19: Configuring the UE with network slice aware preferred
PLMNs lists
### 6.19.1 Introduction {#introduction-18}
This solution aims to address the key issues#2: Support of providing VPLMN
network slice information to a roaming UE by enhancing SoR with slice aware
preferred PLMN lists.
This solution relies on (e.g. existing) SoR or UE configuration methods that
enable delivery of SoR information to the UE.
### 6.19.2 Functional Description
It is normal practice for operators to configure the UE with a (set of)
preferred PLMN(s) in a certain country while the UEs are roaming. In the 5GS
this set of preferences may e.g. be configured or updated in the UE using the
SoR (Steering of Roaming) procedure defined in TS 23.502 [5] and TS 33.501
[14].
TS 23.502 [5] reads:
\"During registration the Home Network can provide Steering of Roaming
information to the UE via the AMF (i.e. a list of preferred PLMN/access
technology combinations or HPLMN indication that \'no change of the \"Operator
Controlled PLMN Selector with Access Technology\" list stored in the UE is
needed). The Home Network can include an indication for the UE to send an
acknowledgement of the reception of this information. Details regarding the
handling of Steering of Roaming information including how this information is
managed between the AMF and the UE are defined in TS 23.122 [7].\"
The home operator may want the UE to remain with a list of preferred PLMNs
(i.e. PLMNs in the \"User Controlled PLMN Selector with Access Technology\"
and the \"Operator Controlled PLMN Selector with Access Technology\"), unless
the UE requires to use a network slice which these PLMNs do not support. Also,
the home operator may have specific preferred PLMN list when specific network
slices are used. This is not possible today with the current PLMN selection
mechanisms as the UE will, in automatic PLMN selection, always remain with the
preferred PLMNs (in respective priority order) if they are available.
This solution proposes to configure the UE with additional network slice aware
PLMN selection information, in the form of one or more lists of PLMNs that are
preferred when the UE requires to use a respective S-NSSAI of the HPLMN. The
S-NSSAI values in this information are the HPLMN S-NSSAIs (i.e. the mapped
value of the S-NSSAIs in the V-PLMN are not considered and so there is no
impact on this solution if the VPLMNs decide to change the value of S-NSSAI
they use to identify the network slice locally). The UE therefore can be
configured with the preferred PLMN list as today and additional Network-Slice-
Aware PLMN lists per S-NSSAI which may take precedence as an exception over
the preferred PLMN list. In other words, the UE may be configured with:
\- nothing (i.e. neither \"Operator Controlled PLMN Selector with Access
Technology\" nor Network Slice Aware PLMN list);
\- just a preferred PLMNs list (e.g. \"Operator Controlled PLMN Selector with
Access Technology\");
\- a mix of preferred PLMN list and at least one Network-Slice-Aware PLMN
list; or
\- at least one Network-Slice-Aware PLMN list.
The UE is configured with a Network-Slice-Aware PLMN list of alternate
(potentially ordered by a priority value) PLMN IDs associated with the
supported S-NSSAIs. Some of the S-NSSAIs may not be supported (or are
preferred instead of) by the PLMNs in the \"Operator Controlled PLMN Selector
with Access Technology\" list.
When the Network-Slice-Aware PLMN list is provided for an S-NSSAI and this
S-NSSAI is required but not yet allowed or rejected, this is a trigger for
evaluation by the UE whether to consider the Network-Slice-Aware PLMN list to
perform PLMN selection.
The Network-Slice-Aware PLMN list may be associated with validity parameters
(e.g. location in particular country or time period restriction). If so, the
UE applies the configuration when the validity restriction is fulfilled.
When attempting to use/register with a S-NSSAI associated with a Network-
Slice-Aware PLMN list, the UE prefers and selects one of the PLMNs identified
in the Network-Slice-Aware PLMN list if a PLMN ID is present in such list for
this S-NSSAI that is of higher priority of the current PLMN, or if the PLMN ID
of the current PLMN is not among the PLMN IDs in the Network-Slice-Aware PLMN
list for the S-NSSAI. The UE may return to using the ordinary list of
preferred PLMNs when it deregisters from all S-NSSAIs associated to any
Network-Slice-Aware PLMN lists it is configured with, so in a sense the UE
uses the Network Slice Aware PLMN list when an S-NSSAI is not available in
currently registered PLMN or to find a PLMN which is preferable when some
S-NSSAIs are associated to a Network Slice Aware PLMN list..
It is assumed that the UE at any time selects the PLMN ID which maximises the
number of S-NSSAIs that the UE can use. If all S-NSSAIs can be used in a set
of PLMNs, the UE selects the common PLMN ID across all the Network-Slice-Aware
PLMN list which ranks higher on average. This average may also consider
predefined weighted factors assigned to each Network Slice. In case a UE needs
to use a network slice which is present in the Network-Slice-Aware PLMN list
and another network slice which is not present in the Network Slice Aware PLMN
list, then the UE shall give preference to the PLMNS in the order of the
Network Slice Aware PLMN list. If there are no common PLMNs where both can be
supported, then the UE will decide which slice to use based on local policy.
An example of a UE configuration with set of Network-Slice-Aware PLMN list is
in figure 6.19.2-1. Alternatively, if the HPLMN does not provide a weight
factor per S-NSSSAI with a Network-Slice-Aware PLMN list the UE can create
internally a list of preferred S-NSSAIs, generate locally the weights
accordingly and can select a PLMN ID (from the Network-Slice-Aware PLMN list)
which serves the preferred S-NSSAIs.
Editor\'s note: The use of weight factors or some other means is FFS.
NOTE How the HPLMN generates these weight factors and in general the PLMN
lists is outside the scope of 3GPP (as for existing SoR info).
Table 6.19.2-1: Example of a UE configuration with 3 Network-Slice-Aware PLMN
lists
+--------+-------------+----------------------------+ | Weight | S-NSSAI | PLMN ID list with priority | +========+=============+============================+ | 0.5 | S-NSSA1 1 | PLMN1 prio 1 | | | | | | | | PLMN3 prio 2 | | | | | | | | PLMN4 prio 3 | +--------+-------------+----------------------------+ | 0.3 | S-NSSA1 22 | PLMN1 prio 1 | | | | | | | | PLMN2 prio 2 | | | | | | | | PLMN3 prio 3 | +--------+-------------+----------------------------+ | 0.2 | S-NSSA1 378 | PLMN2 prio 1 | | | | | | | | PLMN3 prio 2 | | | | | | | | PLMN1 prio 3 | +--------+-------------+----------------------------+
Based on the configuration in Figure 6.19.2-1, let\'s suppose the UE needs to
request S-NSSAI1, S-NSSAI2 and S-NSSA3. If the UE needs to perform PLMN
selection (as e.g. it may be on a PLMN which does not support all 3 S-NSSAIs),
then the UE computes the average PLMN priority of the common PLMNs where all
three S-NSSAIs can be supported this way:
+-----------------------------------------------------------------+ | PLMN1 = 0.5*1+0.3*1+0.2*3= 0.5+0.3+0.6=1.4 weighted priority | | | | PLMN3=0.5*2+0.3*3+0.2*2 =1+0.9+0.4= 2.3 weighted priority | +-----------------------------------------------------------------+
This example shows that PLMN1 is the PLMN to be used as it has the highest
priority.
In the event that there were no common PLMNs in the Network-Slice-Aware PLMN
lists for two S-NSSAIs and the UE needs to request both, the UE would restrict
the selection to the S-NSSAIs associated with the highest weight factor. If
none of the two has highest weight factor, local policy applies. By extension,
if there are S-NSSAIs that have common PLMNs in the Network-Slice-Aware PLMN
lists but are incompatible with other S-NSSAIs Network-Slice-Aware PLMN lists,
then the groups for S-NSSAIs with common PLMNs with the highest total weight
factor are considered for PLMN selection.
### 6.19.3 Procedures
It is assumed that a UE is configured with both a preferred PLMN list and one
or more Network-Slice-Aware PLMN lists. This is the starting point in step 0
(if this is not yet achieved, then e.g. SoR configuration procedure steps
could be followed to obtain such configuration as per existing specification
procedures)
Figure 6.19.3-1: example of usage of Network Slice Aware PLMN lists
In step 0, the UE has been already configured with the suitable ordinary
preferred PLMN list (e.g. Operator Controlled PLMN Selector with Access
Technology) and any Network-Slice-Aware PLMN lists by e.g. using the existing
SoR interactions for UEs that indicate support of receiving the Network-Slice-
Aware PLMN lists in SoR interactions.
In step 1 the UE detects it is in a country for which it is configures with a
preferred PLMNs configuration.
In step 2/3 the UE detects that none of the S-NSSAI for which it has Network-
Slice-Aware PLMN lists needs to be used, so, it behaves according to the
ordinary preferred PLMN list behaviour.
In step 4 the UE detects the need to register with one or more S-NSSAIs that
have a Network-Slice-Aware PLMN list associated with them. How this \"need\"
is detected is based on UE implementation (e.g. an application needs a
specific slice based on the UE configuration including URSP information).
In step 5 the UE detects that the current PLMN is not preferred based on the
S-NSSAI(s) it needs to use so it proceeds to select the suitable PLMN
according to the Network-Slice-Aware PLMN list.
In step 6 the UE detects that none of the S-NSSAIs with a Network-Slice-Aware
PLMN list is registered, so it returns to operate based on the ordinary
preferred PLMN list.
In step 7 the UE selects a PLMN, if that is needed, based on the ordinary
preferred PLMN list.
### 6.19.4 Impacts on services, entities and interfaces
The solution has the following impacts:
UE:
\- ability to be configured with Network-Slice-Aware PLMN lists and ability to
perform PLMN selection taking this also into account the Network-Slice-Aware
PLMN lists. Further, the UE is able to indicate the support of this feature to
UDM.
SOR-AF/UDR:
\- ability to provide Network-Slice-Aware PLMN lists for supporting UEs.
UDM:
\- ability to send Network-Slice-Aware PLMN lists via a SOR transparent
container to a supporting UE and to forward the indication of support of
feature to SOR-AF.
## 6.20 Solution #20: PLMN Selection following existing SoR information
### 6.20.1 Introduction {#introduction-19}
This solution will address KI#2: Support of providing VPLMN network slice
information to a roaming UE. This solution lets the UE reuse the current
Steering of Roaming information. Thus, it could be used for legacy UEs and
bring little impact to the VPLMN.
### 6.20.2 Functional Description
Currently the UE will get SoR (Steering of Roaming) information as described
in TS 23.122 [7]. But the current SoR does not consider the expected S-NSSAIs
of the UE, so the PLMN which does not contain any S-NSSAIs the UE want to use
may have a higher priority but the PLMN which contains many S-NSSAIs the UE
want to use may have a lower priority. Then the UE will access to a non-
optimized PLMN.
It is proposed that the UDM should generate the SoR information based on the
expected S-NSSAIs (i.e. the S-NSSAIs the UE expects to include in the Request
NSSAI in the next Registration) if SoR-AF is collocated with the UDM. The
expected S-NSSAIs are the S-NSSAIs in the Subscribed S-NSSAIs, thus UDM could
understand the meaning of the expected S-NSSAIs. The UE can generate the
expected S-NSSAIs in the same way as generating Requested NSSAI as described
in TS 23.501 [2] The S-NSSAIs use the HPLMN values, not the values of the
visited network(s), and there is no restriction regarding their presence in
the Configured NSSAI of the visited network(s) if any, or in default
Configured NSSAI. The UE may send the expected S-NSSAIs in a container. The
AMF should transfer the container to the UDM and shall not change the context
of the container, i.e. the AMF shall transfer the expected S-NSSAIs
transparently. The UDM will generate SoR based on the expected S-NSSAI. If
there is no expected S-NSSAIs (e.g. for legacy UEs), the UDM could generate
SoR based on the Subscribed S-NSSAI. In particular, the PLMNs supporting more
Expected/Subscribed S-NSSAIs will have higher priority. The UDM should get the
mapping between corresponding PLMNs and supporting S-NSSAIs based on
configuration or from NSSF.
If SoR-AF is not collocated with the UDM, UDM needs to send the expected
S-NSSAIs in the container or Subscribed S-NSSAIs to the SoR-AF. The SoR-AF
will generate SoR based on the expected S-NSSAI. If there is no expected
S-NSSAIs (e.g. for legacy UEs), the SoR-AF could generate SoR based on the
Subscribed S-NSSAI. In particular, the PLMNs supporting more
Expected/Subscribed S-NSSAIs will have higher priority. The SoR-AF should get
the mapping between corresponding PLMNs and supporting S-NSSAIs based on
configuration or from NSSF.
The UE will follow the current SoR handling as described in TS 23.122 [7].
### 6.20.3 Procedures
Figure 6.20.3-1 describe the procedure for this solution:
Figure 6.20.3-1: procedure for PLMN Selection following existing SoR
information
1\. During registration in roaming case, when the UE finds out it needs a
service provided by a slice that is not available in the current visited PLMN,
the UE may send expected S-NSSAIs as a container.
2\. The AMF forwards the container to the UDM by invoking Nudm_SDM_Get
request. The AMF shall not change the content of the container.
3\. If the UDM and SoR-AF are collocated, the UDM generates SoR information
further based on expected S-NSSAIs of the UE and the supporting S-NSSAIs of
the VPLMN other than the description in TS 23.122 [7]. If there is no expected
S-NSSAIs, the UDM could generate SoR information further based on Subscribed
S-NSSAIs of the UE. If SoR-AF is not collocated with the UDM,, UDM needs to
send the expected S-NSSAIs in the container/Subscribed S-NSSAIs to the SoR-AF.
The SoR-AF will generate the SoR information accordingly and send the SoR
information to the UDM.
NOTE: If the UDM or SoR-AF generates SoR information based on Subscribed
S-NSSAIs of the UE, it could send the SoR information in both roaming and non-
roaming scenario. The SoR information could also be sent after registration.
4-6. The UDM sends the SoR information as described in TS 23.122 [7]. The UE
will use the SoR based on the current description in TS 23.122 [7].
### 6.20.4 Impacts on services, entities and interfaces
UE:
\- may send Expected S-NSSAI container to the HPLMN (i.e. UDM).
NOTE: The Solution is also applicable to legacy UEs.
AMF:
\- may transfer the Expected S-NSSAI container to the UDM transparently. VPLMN
does not need to change any other logic.
UDM/SoR-AF:
\- generates SoR information based on expected S-NSSAI of the UE and the
supporting S-NSSAIs of the VPLMN. For legacy UEs, it can generate the SoR
information based on Subscribed S-NSSAI.
## 6.21 Solution #21: Temporary slice based on URSP
### 6.21.1 Introduction {#introduction-20}
This solution is for KI#3. It covers the following aspects by reusing the
current URSP mechanism:
\- The support of services over network slices when the services have Area of
Service not matching the existing deployed TA boundaries
\- The support of network slices which have a limited lifetime (including how
to gracefully terminate a network slice which can apply also to network slices
which have a longer lifespan in order to avoid abrupt PDU Session release).
### 6.21.2 Functional Description
The PCF should get the information of the temporary slice, (i.e. serving time
window of a slice or serving area of a slice) from the UDR. If there is only
one PCF in the network or OAM can consistently update more than one PCF, the
PCF could get the information based on OAM. The PCF should generate the Route
Selection Validation Criteria in the URSP based on the information of the
temporary slice. For example, the Time window or Location Criteria could be
exactly the one received from the UDR or a little bit more limited than the
one received from UDR. The UE will release the PDU Session gracefully based on
URSP and its implementation as described in TS 23.503 [12].
On other aspects related to slicing, the current mechanism described in clause
5.15 of TS 23.501 [2] is not changed. The NSSF/AMF could remove the S-NSSAI in
the Allowed NSSAI when it is not in the valid duration based on configuration.
In particular, when the operator removes the S-NSSAI (i.e. the S-NSSAI is
removed from Subscribed S-NSSAIs of a UE via OAM), the AMF should set the
S-NSSAI as rejected S-NSSAI if it is in Allowed NSSAI for a UE via UCU
procedure as described in clause 4.2.4.2 of TS 23.502 [5]. And the AMF trigger
PDU Session Release as described in clause 4.3.4.2 of TS 23.502 [5] if the UE
does not release the PDU Session in time. Besides, the AMF may also configure
the serving area/time window of the S-NSSAI (or from NSSF) and subscribe the
UE location. When UE is in Connected Mode and does not release the PDU Session
in time if the UE is out of the serving area, the AMF should trigger the PDU
Session Release as described in clause 4.3.4.2 of TS 23.502 [5] if the
operator wants to control it strictly based on operator policy. If the
operator wants to control is in a soft way based on operator policy, i.e. can
wait for UE entering CM-IDLE state, there is no additional action needed.
NOTE: As described in TS 23.503 [12], if the re-evaluation of RSD in the URSP
leads to a change of the application to PDU Session association, the UE can
enforce such changes in a timely manner based on implementation, e.g.
immediately or when UE enters CM-IDLE state.
Editor\'s note: with this approach, the time-based validity is totally taken
away from the route selection and used to support the temporary slice. this
means this solution needs to explain how the current use of thee time-based
validity independent of the slice availability is supported.
### 6.21.3 Procedures
There is no impact on the current procedure. Only involve the information of
the temporary slice as UE context policy control subscription information as
defined in clause 6.2.1.3 of TS 23.503 [12].
### 6.21.4 Impacts on services, entities and interfaces
PCF:
\- Needs to get the information of the temporary slice from UDR or based on
configuration.
UDR:
\- Store the information of the temporary slice
AMF:
\- May need to get the serving area/time window of temporary slice from NSSF
or based on configuration and check UE location.
## 6.22 Solution #22: Enabling graceful slice termination with support of UE
policies
### 6.22.1 Introduction {#introduction-21}
This solution applies to KI#3.
This solution enables a graceful replacement and removal of network slices.
NOTE: As temporary network slice instances are not part of the KI#3 the
removal of a network slice means the removal of one or more S-NSSAIs.
### 6.22.2 Functional Description
The basic principles of this solution are the following for HPLMN S-NSSAIs:
1\. The \"time\" or area where a network slice is to be terminated is known in
advance
2\. If a network slice is to be replaced by a new network slice then:
\- First a new network slice is created i.e. NFs and resources etc and then
add the S-NSSAI to subscriptions and then use PCF to update the UE policies
(URSP)
\- Update UEs URSP rules such that the UEs use the new S-NSSAI for new access
attempts;
\- Update UEs URSP rules Route Selection Validation Criteria with appropriate
Time Window and Location Criteria;
\- The UE is assumed to try and use the Time Window and use higher priority
rules when the Time Window is no longer valid.
\- Update the UE URSP rules such that PCF can enforce/command the UE to re-
apply the URSP rules i.e. triggers the UE to move the user data from S-NSSAI
to be removed to the new S-NSSAI e.g. using SSC 3 etc immediately.
3\. OAM knows when and which network slice is to be terminated and configures
NFs
1.- UDR/UDM are updated such that Network Slices are added and UDM notifies
AMFs about the added Subscribed S-NSSAIs.
2\. NFs of network slice to be replaced updates NF profile such that load is
reduced e.g. no new entrants
3.- PCF updated as per bullet 2
4.- At a suitable time, UDR/UDM are updated such that the to be removed
Subscribed S-NSSAIs are removed and UDM notifies AMFs.
5\. After all subscriptions been updated, OAM removes any remaining usage of
the S-NSSAI in the 5GC and 5G-AN.
4\. AMFs follows current logic i.e.
\- AMF updates NSSAI information towards the UE
\- AMF enforces removal of S-NSSAIs e.g. initiates release of PDU Sessions
within the network.
The basic principles of this solution are the following for serving PLMN
S-NSSAIs:
1\. The \"time\" or area where a network slice is to be terminated is known in
advance
2\. If a network slice is to be replaced by a new network slice then:
\- First a new network slice is created i.e. NFs and resources etc
3\. OAM knows when and which network slice is to be terminated and configures
NFs
1\. NFs of network slice to be replaced updates NF profile such that load is
reduced e.g. no new entrants
2\. OAM removes any remaining usage of the S-NSSAI in the 5GC and 5G-AN.
4\. AMFs follows current logic i.e.
\- After AMF got updated by OAM at step 3, the AMF updates NSSAI information
towards the UEs i.e.
\- New UE requests uses the new S-NSSAI for the serving PLMN
\- For UEs with registered S-NSSAIs without PDU Sessions, the AMF issues UE
Configuration Updates changing the NSSAI information with the new S-NSSAI for
the serving PLMN
Editor\'s note: It is FFS how to gracefully re-establish current established
PDU Sessions with a new S-NSASAI for the serving PLMN
\- Before the S-NSSAI is removed the AMF enforces removal of S-NSSAIs e.g.
initiates release of PDU Sessions within the network.
### 6.22.3 Procedures
The existing procedures are used as is with minimal impacts to the content of
the URSP rules.
### 6.22.4 Impacts on services, entities and interfaces
The following impacts have been identified:
UE:
\- UE supports the new conditions in the URSP rules such that PCF can
enforce/command the UE to re-apply the URSP rules as above.
NOTE: The functionality works also without UE support, but there can then be a
service interruption when changing network slice e.g. when UDM notifies AMF
that a subscribed S-NSSAI been removed the AMF updates the UE and the AMF also
de-registers the S-NSSAI
PCF:
\- supports the new conditions in the URSP rules such that PCF can
enforce/command the UE to re-apply the URSP rules for also existing usage.
Editor\'s note: It is FFS whether the UEs are already required to re-evaluate
the URSP rules for existing registered S-NSSAI and PDU Sessions when the UE is
updated with new URSP rules or an existing rule used to register the S-NSSAI
or for the PDU Session Establishment no longer is valid. If that is the case,
then there is no need to update the URSP rules but the solution can be used to
describe how to support the temporary network slices with existing 5GS
functionality.
## 6.23 Solution #23: UE registration for conditional network slices
### 6.23.1 Introduction {#introduction-22}
This solution addresses the use case where a network slice is not supported in
the whole RA of the UE, i.e. the network slice is supported only in some of
the TAs of the UE\'s RA. The solution is related to the requirements of KI#3
and KI#5.
### 6.23.2 Functional description
The solution allows for UE registration for a network slice which is not
homogeneously supported in all of the TAs of the RA. Such a network slice is
called conditional network slice as the UE can request a service on it only
when this network slice is supported by the network in the UE\'s location.
When a UE supporting registration to a conditional network slice feature
initiates the registration procedure, the UE shall indicate its support for
registration for a conditional network slices feature. Then the AMF may
allocate to the UE a RA where not all of the requested by the UE network
slices are homogeneously supported. The network slices that are supported
homogeneously in the UE\'s RA (i.e. in all TAs of the RA) are included in the
Allowed NSSAI for the UE while the network slices that are not supported in
all the TAs of the RA are included in a new Conditional NSSAI parameter for
the UE. The UE is allowed to initiate a service on a conditional S-NSSAI only
when the UE is in a location where the conditional S-NSSAI is supported.
During the UE registration the network provides for each conditional S-NSSAI a
list of TAs where the conditional S-NSSAI is supported.
If a UE initiates a service on conditional S-NSSAI that is not available in
the TA of UE\'s location, the request is rejected and an indication is
provided to the UE as to why.
If a UE with active session(s) on conditional S-NSSAI moves to TA where the
conditional S-NSSAI is not supported, session(s) on the conditional S-NSSAI
are deactivated, however, the context may be preserved so that the sessions(s)
are re-activated when the UE moves to TA which supports the conditional
S-NSSAI.
### 6.23.3 Procedures
Figure 6.23.3-1: UE registration for conditional network slices
1\. A UE requests registration for S-NSSAI-1, S-NSSAI-2 and S-NSSAI-3. If the
UE supports the registration for conditional network slice feature, the UE
shall indicate in the Registration Request message its support for conditional
network slices.
2\. The UE registration procedure continues as in clause 4.2.2.2.2 of TS
23.502 [5].
3\. If the UE indicated support for conditional S-NSSAI, the AMF may assign
the UE a RA where not all of the requested by the UE network slices are
supported. For example, the AMF may register the UE for a RA where S-NSSAI-1
and S-NSSAI-2 are supported homogeneously in all TAs of the RA and S-NSSAI-3
is supported only in one or limited number of TAs of the RA. In this case the
AMF includes the network slices S-NSSAI-1 and S-NSSAI-2 in the Allowed NSSAI
for the UE and includes the S-NSSAI-3 in the Conditional NSSAI for the UE.
Optionally, the AMF may provide to the UE a list of TAs where the conditional
S-NSSAI is supported.
4\. AMF confirms the UE registration with Registration Accept message in which
the AMF includes the Allowed NSSAI parameter and if the UE indicated support
for conditional S-NSSAI, the AMF also includes the new Conditional NSSAI
parameter and optionally a list of TA(s) per each conditional S-NSSAI where
the conditional S-NSSAI is supported.
5\. If the UE was provided with conditional S-NSSAI(s) withing the Conditional
NSSAI parameter, the UE is allowed to initiate service on a conditional
S-NSSAI only when the conditional S-NSSAI is supported in the TA of the UE\'s
current location. The UE knows about the conditional S-NSSAI availability in
its current location from the list of TA(s) where the conditional S-NSSAI is
supported and which is provided by the AMF during the registration.
NOTE: This solution allows for conditional S-NSSAI support with TA(s)
granularity. However, it can work also when the conditional S-NSSAI is
supported with cell(s) granularity in which case the RAN has to report the
S-NSSAI(s) support per cell level and the AMF provides to the UE the area,
where the conditional S-NSSAI is supported, with TA(s) and cell(s)
granularity.
### 6.23.4 Impacts on services, entities and interfaces
UE, AMF:
\- support for conditional S-NSSAI feature
\- conditional S-NSSAI feature support indication in the Registration Request
message.
\- conditional S-NSSAI parameter in the Registration Accept message.
RAN (only impacted if conditional S-NSSAI is supported with cell granularity):
\- If the solution is implement with conditional S-NSSAI support per cell
granularity, the RAN needs to report the S-NSSAI(s) support to the AMF per
cell level.
## 6.24 Solution #24: On the handling of temporary network slices
### 6.24.1 Introduction {#introduction-23}
This solution addresses KI#3.
This solution addresses the case where it is necessary to deploy network
slices which have a known limited lifetime or a periodic lifetime. It
addresses from RM and SM standpoint the support of Temporary/Periodic Network
Slices and, when necessary, of the Temporary/Periodic TAs supporting these
Network Slices.
### 6.24.2 Functional Description
This proposal is optimizing the system behaviour when Temporary or Periodic
Network Slices an any related temporary or periodic TAs are deployed, in a
Serving PLMN. In addition, the HPLMN can provide for the S-NSSAI is
subscription information timing information which may or may not be the same
as any absolute timing information for the corresponding slices in the VPLMN.
The AMF in the serving PLMN combines any timing information received from UDM
and in the Serving PLMN to derive the combined timing information.
If a UE is capable of supporting optimizations for temporary/periodic Network
Slice and TAs support, it signals in the UE MM capabilities that it can
support the related RM and MM optimisation for temporary/periodic Network
Slices.
NOTE: whether/temporary/periodic TAs support can be considered a standalone
capability can be evaluated, but in principle one could deploy temporary TAs
just to optimize the RM/Paging trade off at certain time of day, irrespective
of the need to support temporary/periodic Network Slices with a AoS that does
not match existing/permanent TA boundaries.
For UEs that can support the temporary/periodic Network Slices optimizations,
the UE can be provided with the timing information for the S-NSSAIs and any
temporary/periodic TAs that are needed to support these slices. Otherwise, for
non-supporting UEs, the network must provide at any time the information
Configured NSSAI, Allowed NSSAI and TAI in the RA to UE that is consistent
with the timing information.
It is proposed that the timing information for Temporary/Periodic network
slices and TAs is configured in the (R)AN and that the (R)AN can indicate it
to the AMF alongside the related S-NSSAIs for the TAs where these
temporary/periodic network slices are supported.
The timing information can be passed to SMF also when PDU sessions are
established to cause the local release of PDU sessions without additional
signalling being needed. For periodic slices, the timing information allows
the periodic deactivation and reactivation of PDU sessions without additional
system wide signalling also.
The timing information can be of the forms:
\- {Ts, Te} indicating an absolute time of start (Ts) and end (Te).
\- {Ts, [Tu, Td]}, indicating an absolute time of start Ts and an up time
period (Tu) and a down time period (Td) with the first uptime starting at time
Ts.
### 6.24.3 Procedures
#### 6.24.3.1 RM aspects
Figure 6.24.3.1-1: Registration Management aspects
Figure 6.24.3.1-1 above provides a synopsis of the RM impact for supporting
and non-supporting UEs. Additionally, it shows which network entities are
configured with the timing information and how the timing information is
provides to the AMF and NSSF. the timing information in NSSF is the serving
PLMN timing information for TAs and Network slices of the serving PLMN. in
roaming case, the AMF provides to the NSSF the timing information for the
mapped S-NSSAIs of HPLMN if any applies as received from the UDM.
0\. The timing information for the S-NSSAIs in the serving PLMN is configured
in the (R)AN, as well as any timing information for the TAs. The UDM can also
be configured with timing information for S-NSSAIs in the UE subscriptions
information.
1\. The (R)AN provides any per S-NSSAIs and any per TA timing information to
the AMF using NG-Set up. the AMF also provides this information to the NSSF
using the Nnssf_NSSAIAvailability_Update service operation.
2a. The AMF and NSSF provide in a Registration Accept (and update, when
necessary, by a UE Configuration Update Command ) a **non-supporting UE** with
the Configured NSSAI, allowed NSSAI and RA that are based on taking into
account the combined timing information for the S-NSSAIs and the corresponding
mapped S-NSSAIs of the HPLMN and also any timing information that is
associated to the TAIs received from the (R)AN at NG Setup.
2b. The AMF and NSSF provide in a Registration Accept (and update, when
necessary, by a UE Configuration Update Command) a **supporting UE** with the
Configured NSSAI with the combined timing information for S-NSSAIs (based on
serving PLMN and HPLMN information) and any timing information for the TAIs in
the RA. The allowed NSSAI may include periodically available S-NSSAIs even
when these are in the time period when these are not available.
3\. A supporting UE which has received at step 2b timing information, can use
it locally to adapt the Allowed NSSAI, Configured NSSAI and RA. For the
S-NSSAI in the Configured NSSAI that are periodic, these can be used in the
registration request in the Requested NSSAI even when the timing information
indicates they are in the period when they are not available. The (R)AN and
AMF/NSSF locally adapt without further signally as the (R)AN is the source of
the timing information and the AMF receives the information from the (R)AN at
step 1a.
#### 6.24.3.2 Session Management aspect
In order to ensure that there is a coherent end to end handling of the timing
information, the UE may include this in the PDU Session Establishment Request
(and update the timing information by PDU Session Modification request, if
necessary). The UE can request explicitly that the PDU sessions are
automatically released (e.g. if the respective network slices have an end of
life timing information) or retained and restored (e.g. if the respective
network slices have a periodic timing information). Alternatively, e.g. when
the UE indicates no S-NSSAI when it establishes a PDU session, the UE
indicated in the UE MM capabilities that it supports the SM timing information
and the AMF can include this based on the combined S-NSSAIs timing information
for the S-NSSAI (which may be also determined b the AMF) of the PDU session in
the request towards the SMF that PDU sessions are automatically released (e.g.
if the respective network slices have an end of lifecycle) or retained and
restored (e.g. if the respective network slices are periodic). In all cases,
the SMF that supports the feature then returns in the PDU session
Establishment/Modification Accept and in the N1N2 the acceptance of the
requested behaviour so that the UE and AMF and (R)AN can adapt locally the
behaviour without any further signalling. In addition, the AMF provides the
confirmed timing information for the PDU session to the (R)AN in N2 message
transporting the PDU session Accept message to the (R)AN and triggering the
DRBs configuration for the PDU session. The two behaviours are indicated in
figures 6.24.3.2-1 and 6.24.3.2-2 respectively, where the new aspects of the
procedure from TS 23.502 [5] are highlighted in boldface. The NAS message is a
PDU session Request or a PDU session Accept as it can be understood from the
context.
Figure 6.24.3.2-1 UE-requested PDU Session Establishment with timing
indication from UE
Figure 6.24.3.2-2: UE-requested PDU Session Establishment without timing
indication from UE
Figure 6.24.3.2-3 here below shows the procedure for PDU session modification.
it should be noted that this figure shows the UE providing the updated timing
information because it has received an updated timing information from the AMF
for the related network slice S-NSSAI. However, it is also possible for the
AMF to initiate this if the RAN is providing the updated PDU session related
modification to the AMF for capable UEs (for which timing information was
provided to the RAN for the PDU session). which approach to select can be
further studied.
Figure 6.24.3.2-3: UE-requested PDU Session Modification with timing
indication from UE
### 6.24.4 Impacts on services, entities and interfaces
The following impacts are foreseen by this solution:
UE:
\- indication of support of the feature(s) in this proposal
\- supports handling of timing information for S-NSSAIs and TAIs in RM and in
SM
\- locally adapt the behaviour based on timing information received.
(R)AN:
\- supports configuration of temporarily/periodically available s-NSSAIs and
TAIs.
\- Provides the indication per TAI of the Temporarily/Periodically available
S-NSSAIs, including for TAIs which are temporarily available, to the aMF in NG
setup.
\- determines when certain DRBs are no longer active for certain sessions and
release them (or deactivates, for periodic slices) them when UE when timing
information is requesting that, upon receiving confirmation from the AMF that
it can do so based on the capability of UE and the SMF capabilities (i.e when
it receives the timing information for the PDU session). The (R)AN may also
initiate modification of the PDU session when new timing information is
provided to the (R)AN (TBD whether the UE of the (R)AN should initiate the
modification)
AMF:
\- handle the timing information for S-NSSAIs coming from (R)AN and UDM and
combine it into a timing information for the UE subscribed S-NSSAIs.
\- handle any timing information for TAIs received from the (R)AN
\- update NSSF with timing information for S-NSSAIs and TAI received from the
(R)AN
\- provide the non-supporting UEs with Configured NSSAI, Allowed NSSAIs and RA
based on the combined timing information
\- provide the supporting UEs with Configured NSSAI including combined timing
information for some S-NSSAIs if any and RA including TAIs with timing
information if any.
\- locally adapt the Allowed NSSAI and RA for the UE based on the respective
provided combined timing information
NSSF:
\- handle the timing information for S-NSSAIs coming from AMF.
\- handle any timing information for TAIs received from the AMF
\- receive update from AMF with timing information for S-NSSAIs and TAI
received from the (R)AN
\- provide the non-supporting UEs with Configured NSSAI, Allowed NSSAIs and RA
based on the combined timing information
\- provide the supporting UEs with Configured NSSAI including combined timing
information for some S-NSSAIs if any and RA including TAIs with timing
information if any.
SMF:
\- support of the timing information-based automatic release or retention and
restoration of PDU sessions
UDM
\- Support the indication of timing information to AMFs for S-NSSAIs in the
subscription information.
## 6.25 Solution #25: Handling Rejected S-NSSAIs in some TAs of RA
### 6.25.1 Key Issue mapping
This solution is related to KI#5 regarding improved support of RAs including
TAs supporting Rejected S-NSSAIs.
### 6.25.2 Functional Description
This solution proposes AMF to provide additional slice information in TA
granularity to UE related to UE\'s current RA. The additional slice
information is based on UE requested S-NSSAI which is only available in some
TAs of UE\'s RA. The additional slice information comprises the mapping
between an S-NSSAI within the rejected S-NSSAIs and TAIs that can support/or
cannot support such S-NSSAI. e.g. the information can be either S-NSSAI 1 in
the rejected S-NSSAI together with the TAI(s) supporting it, or indicating
S-NSSAI 1 is rejected for TA1, TA2, TA3.The current cause value \"rejected
S-NSSAI in the RA\" can be changed to \"rejected S-NSSAI in current TA\".
Thus, when UE moves out of the current TA, it can start registration update to
get updated allowed NSSAI including also the rejected S-NSSAI in the previous
TA and potentially also a new RA. AMF can also provide additional slice
information to UE, so that UE can start registration update only when moves to
a TA where the rejected S-NSSAI can be supported.
In both options, UE can initiate the service request with new allowed NSSAI
after the registration update in the new TA. The difference is just the number
of rejected S-NSSAI and TAI pairs to be included in the signalling to the UE.
NOTE: Such registration update is based on the application requirements, UE
can also decide not to perform registration update when changes to a new TA.
### 6.25.3 Procedures
The provision of rejected S-NSSAI of a TA to UE uses the existing UE
registration procedure or UE configuration update procedure. Each rejected
S-NSSAI should also indicate the correspondent TAI.
Figure 6.25.3-1: UE registration and registration update procedure
1\. UE sends registration request to AMF. The UE shall indicate the capability
support of receiving additional slice information in the registration request.
2\. AMF decides the Registration Area, Allowed NSSAI, additional slice
information in TA granularity (e.g. rejected S-NSSAI with the
rejected/supported TAI(s)) for this RA with the help of UDM/NSSF. For UEs with
the capability indicated in step 1, AMF decides the Registration Area
including the TA supporting Rejected S-NSSAI and sends the additional slice
information to the UE.
NOTE 1: The Allowed NSSAI is still homogeneously supported in the RA.
NOTE 2: For UEs without the capability, AMF decides the Registration Area as
specified in clause 5.3.4.3.3 of TS 23.501 [2] (i.e. the AMF shall set the RA
so that the RA does not include TAs supporting the S-NSSAIs rejected for the
RA).
NOTE 3: The rejected S-NSSAI here is limited to the one with the rejection
cause of slice not available in the current TA.
3\. AMF includes the Allowed NSSAI, additional slice information in TA
granularity and Registration Area in Registration response to UE.
4\. UE detects that it enters a new TA, where one of the previously rejected
S-NSSAIs can be supported.
5\. UE can send registration update with the previously rejected S-NSSAI in
step 4 in the Requested NSSAI to AMF
NOTE 4: UE can decide not to perform registration update when changes to a new
TA based on the application requirements.
6\. AMF response to UE with updated allowed NSSAI, updated additional slice
information in TA granularity as well as the updated Registration Area. The
interaction with UDM and NSSF is not needed in this step since the rejected
S-NSSAI is only due to the slice availability in the previous TA.
7\. If the previously rejected S-NSSAI is included in the updated allowed
NSSAI from the AMF, UE can request service of that S-NSSAI.
Figure 6.25.3-2: UE configuration update procedure
1\. Network may decide to update UE on the slice support information of a TA
in UE\'s RA, e.g. due to the change of slice load in a certain TA.
2\. In such cases, AMF provides UE with additional slice information in TA
granularity in the UE configuration update procedure.
3-6. is the same as steps 4-7 in previous case.
### 6.25.4 Impacts on services, entities and interfaces
AMF:
\- Provide additional slice information in TA granularity to UE.
UE:
\- Storage of additional slice information in TA granularity.
\- Initiate registration update procedure based on additional slice
information when needed.
\- Indicate the capability support of receiving additional slice information
in the registration request.
## 6.26 Solution #26: Multiple areas and resource partitioning
### 6.26.1 Introduction {#introduction-24}
This solution applies to KI#5 and KI#3.
### 6.26.2 Functional Description
#### 6.26.2.1 Support of multiple areas
As TACs in 5GS uses 3 octets compared to 2 octets in EPS allows to define more
and smaller TAs. In fact, KI#5 drives the need to define smaller TAs as to
maintain a uniform support of network slice availability per TA. Defining
smaller TAs and supporting moving UEs will likely challenge the current
maximum of 16 TAs within an RA and supporting TAs with different capabilities
and network slice availability will also drive the need for enabling the UE
being registered with multiple network slices while some are only available in
a subset of the TAs of the UE\'s RA.
The following principles are proposed as to address the above aspects:
\- The total number of TAs of the RA is increased;
\- S-NSSAIs can be available and registered for all of the TAs of the RA or
for a subset of the RA;
\- The AMF/NSSF can provide S-NSSAIs and TAIs to the UE as follows:
\- Allowed NSSAI includes S-NSSAIs that are registered in the whole RA;
\- List of Secondary Allowed NSSAI and associated Secondary RA:
\- A Secondary Allowed NSSAI includes S-NSSAIs that are registered and
available in the associated Secondary RA;
Editor\'s note: It is FFS whether the associated Secondary RA needs to be a
set of TAIs that are a subset of the RA, or if it is possible to include TAIs
that are not part of the RA.
Editor\'s note: It is FFS whether information like network capabilities, IMS
voice support indication etc are to be kept per RA or adding the possibility
to indicate Secondary RA.
Editor\'s note: It is FFS whether slicing functionality like NSSAA, NSAC and
NSSRG are to be set for the RA or per Secondary RA.
\- The UE is not allowed to register an S-NSSAI in a TA where the S-NSSAI is
not defined to be available;
\- If an S-NSSAI is registered and the UE moves to a TA where the S-NSSAI is
not defined to be available then:
\- UP for any PDU Sessions for the S-NSSAI will be deactivated;
\- The UE is not allowed to request to activate UP for a PDU Session for such
S-NSSAI;
\- If the UE is paged for an S-NSSAI and the UE is located in a TA where the
S-NSSAI is not defined to be available, then the UE replies to the paging but
the AMF/SMF ensures that the UP is not activated.
#### 6.26.2.2 Reducing resources for cells outside service area
While maintaining the network slice availability uniform per TA it means that
some cells can be located outside the service area i.e. there is no need for
the operator to serve the customer services (e.g. meeting the KPIs) using the
network slice in those cells.
A TA with cells within a customer provided service area and cells outside the
customer provided service area while is visualized in Figure 6.26.2.2-1.
Figure 6.26.2.2-1: Example of customer provided service area relation to cells
The following principles are used for cells inside and outside the customer
defined service area while maintaining uniform support of network slices
within the TA:
\- Customer wants service in a specific area i.e. the customer provided area.
\- Operator uses a network slice with S-NSSAI-1 for the customer
\- When UE uses cell A-C the user will get service as specified in agreed
KPI\'s.
\- S-NSSAI-1 is defined to be available in TA-1 (i.e. available in cells A-E)
\- When UE is in cell D,E, the S-NSSAI is available, but only shared resources
are allocated to the S-NSSAI-1 i.e. cannot expect to get the KPI\'s as agreed
to be available within the customer provided area.
\- When user moves out of TA to Cell-F the S-NSSAI-1 is not available.
For the cells outside the service area, but within the TA i.e. cells D and E,
the operator defines that the network slice is available but defines the RRM
policies such that the network slice uses shared resources, see figure
4.3.36-2 from TS 28.541 [13]. As the network slice only get shared resources
outside the service area means that the network slice does not compete with
other network slices requiring dedicated resources in that cell and also means
that uniform support of network slices can be maintain by re-using existing
OAM mechanisms.
Figure 6.26.2.2-2: Structure of RRM Policy Ratio
### 6.26.3 Procedures
Figure 6.26.3-1 shows a high-level description of the proposed impacts to the
registration procedure.
Figure 6.26.3-1: Registration procedure
The Registration procedure in TS 23.502 [5] is used with following
modifications:
1\. The UE provides Requested NSSAI in Registration Request based on available
information;
2\. The AMF provides NSSAI information to NSSF as per existing procedures;
3\. The AMF creates an RA and Allowed NSSAI as per existing procedures and the
AMF can in addition create a list of Secondary Allowed NSSAI and associated
Secondary RA. The S-NSSAIs in the Secondary Allowed NSSAI can be S-NSSAIs that
NSSF rejected for the RA or S-NSSAIs that are available in the UE\'s current
TA while not available in all TAs of the RA.
4\. The AMF provides the Registration Accept with the additional list of
Secondary Allowed NSSAI and associated Secondary RA.
5\. If the UE moves to a different cell in a different TA within the RA, the
UE checks such that the S-NSSAI is available for the TA before trying to e.g.
activate UP for a PDU Session using the S-NSSAI.
6\. The UE is allowed to establish PDU Sessions for S-NSSAIs that are defined
to be available in the UE\'s current TA.
### 6.26.4 Impacts on services, entities and interfaces
The following impacts have been identified:
UE:
\- Support of Secondary Allowed NSSAI and associated Secondary RA and logic to
avoid activating UP outside the TAs defined for the S-NSSAI.
AMF:
\- Support of Secondary Allowed NSSAI and associated Secondary RA and logic to
enforce such that UP cannot be activated outside the TAs defined for the
S-NSSAI;
\- Create RA including TAs where some requested S-NSSAIs are not available.
## 6.27 Solution #27: Exception to the rejected NSSAI handling
### 6.27.1 Introduction {#introduction-25}
This solution applies to KI#5 i.e. how to allow the UE to initiate a
registration for an S-NSSAI which was rejected for the RA when the UE enters a
TA that is part of the RA and the TA supports this S-NSSAI.
The issue scenario is that initially UE receives a rejected S-NSSAI for the
current Registration Area. Then UE enters another TA that is part of the RA
and the TA \"may\" support this S-NSSAI.
### 6.27.2 Functional Description
This solution outlines are as follows:
The AMF
\- provides the rejected S-NSSAIs for the current RA per current mechanism
i.e. no new cause value.
\- associates an indication to rejected S-SNSAI(s) for an exceptional handling
that UE can use the S-NSSAI even if UE stores the S-NSSAI in the rejected
NSSAI storage for the current RA when the UE enters another TA in the current
RA and provides the associated indication to the UE.
\- may associate a list of TA (included in the current RA) where the rejected
S-NSSAI is supported and provide it to the UE.
The UE
\- stores the received rejected NSSAI per current mechanism.
\- sends a 5GMM capability of support of new slice granularity i.e. per
tracking area in Registration Request message.
\- can use the S-NSSAI stored in rejected NSSAI storage if the received
exception indication indicates that it is allowed to use the S-NSSAI when the
UE enters another TA in the current RA.
\- shall not use the S-NSSAI stored in rejected NSSAI storage if the received
indication indicates that it is not allowed to use the S-NSSAI when the UE
enters another TA in the current RA.
### 6.27.3 Procedures
Figure 6.27.3-1: Exceptional handling of Rejected NSSAI
1\. The UE initiates Registration procedure. The Registration Request message
includes a 5GMM capability of support of new slice granularity i.e. per
tracking area.
2\. The AMF continues with Registration procedure.
3\. The AMF sends Rejected S-NSSAI(s) with the cause value \"S-NSSAI not
available in the current registration area\" and an associated exception
indication. The exception indication indicates the exception to the Rejected
S-NSSAI handling. If operator and implementation policy require, the AMF may
also provide a list of TA (included in the current RA) where the rejected
S-NSSAI(s) is supported and associated the list of TA to each rejected
S-NSSAI.
4\. The UE continues with Registration procedure.
When the UE moves to another TA in current RA where the UE received the
Rejected S-NSSAI and the cause value indicates \"S-NSSAI not available in the
current registration area\", if the exception indication indicates that the
Rejected S-NSSAI(s) is TA granularity so that it is allowed to use the
Rejected S-NSSAI in anther TA, the UE is allowed to use the Rejected S-NSSAI
in the Registration procedure. If the previously Rejected S-NSSAI is included
in the Allowed NSSAI, UE can request the service for the S-NSSAI. If the AMF
provides a list of TA associated with the rejected S-NSSAI(s) to the UE, the
UE will send Registration Request for the rejected S-NSSAI when the UE moves
into a new TA that is in the list of TA.
For example, the simple implementation of the exception indication can be
realized by adding 1 bit indication in octet 3 bit8 of TS 24.501 [16] Figure
9.11.3.75.2 Extended rejected NSSAI information element.
NOTE: It is left to Stage-3 specifications to define the exact format of how
the exception indication information would be provided to the UE. Here, for
the purpose clarifying the aspect of \"simple implementation\", the example
format is shown.
+--------------------+--------------+--------------------+---------+---+---+---+---+---+ | 8 | 7 | 6 | 5 | 4 | 3 | 2 | 1 | | +====================+==============+====================+=========+===+===+===+===+===+ | spare | Type of list | Number of elements | octet 3 | | | | | | | | | | | | | | | | | NST | | | | | | | | | +--------------------+--------------+--------------------+---------+---+---+---+---+---+ | Rejected S-NSSAI 1 | octet 4 | | | | | | | | | | | | | | | | | | | | octet j | | | | | | | | +--------------------+--------------+--------------------+---------+---+---+---+---+---+ | Rejected S-NSSAI 2 | octet j+1* | | | | | | | | | | | | | | | | | | | | octet k* | | | | | | | | +--------------------+--------------+--------------------+---------+---+---+---+---+---+ | ... | octet k+1 | | | | | | | | | | | | | | | | | | | | octet p* | | | | | | | | +--------------------+--------------+--------------------+---------+---+---+---+---+---+ | Rejected S-NSSAI n | octet p+1* | | | | | | | | | | | | | | | | | | | | octet m* | | | | | | | | +--------------------+--------------+--------------------+---------+---+---+---+---+---+
Network Slice per TA (octet 3, bit 8)
* * *
This bit indicates if it is allowed to use the associated S-NSSAIs when the UE
enters a new TA in current registration area  
0 Network Slice per TA not allowed 1 Network Slice per TA allowed
### 6.27.4 Impacts on services, entities and interfaces
The following impacts have been identified:
UE:
\- sending a 5GMM capability of support of new slice granularity i.e. per
tracking area in Registration Request message.
\- performing the exceptional handling of Rejected S-NSSAI.
AMF:
\- providing an exception indication indicates that the Rejected S-NSSAI(s) is
TA granularity so that it is allowed to use the Rejected S-NSSAI in anther TA.
\- providing a list of TA associated to the rejected S-NSSAI.
## 6.28 Solution #28: **Support of network slices with TA granularity within a
RA**
### 6.28.1 Functional Description
If the Requested NSSAI contains S-NSSAI(s) that is (are) available only in
some specific TA(s), the UE should be allowed to request the rejected
S-NSSAI(s) again once it moves to a new TA within the RA.
In order to achieve this, the AMF includes a new rejection cause value for the
list of Rejected S-NSSAIs that are rejected due to not being available in the
current TA. The new rejection cause value is defined as the following:
\"S-NSSAI not available in the current tracking area\".
If all the Requested NSSAI(s) are rejected in the current TA, the AMF includes
a new cause code in Registration Reject message. This cause code will give a
hint to the UE that Requested NSSAI(s) is (are) rejected only in the current
tracking area. The new rejection cause code is defined as the following:
\"No S-NSSAI available in the current tracking area\".
When the UE moves to a different TA within the same RA and the UE has received
at least one Rejected NSSAI with \"S-NSSAI not available in the current
tracking area\" rejection cause value, then the UE can perform a Mobility
Registration Update procedure and include any of the Rejected S-NSSAIs in the
Requested NSSAI of the Registration Request that were rejected in the previous
TA with \"S-NSSAI not available in the current tracking area\" rejection cause
value.
When the UE moves to a different TA within the same RA and the UE has received
the \"No S-NSSAI available in the current tracking area\" rejection cause code
in the Registration Reject message, then the UE can perform the initial
Registration procedure and include any Requested NSSAI(s) in the Registration
Request that were rejected in the previous TA.
In order to decrease the number of Mobility Registration Update requests at
every TA change, the AMF, optionally, should also generate a Supported TAI
list for each Rejected NSSAI(s) including the TAs where the Requested NSSAI(s)
is (are) supported within the RA and include such list together with the
Rejected NSSAI(s) along with the new rejection cause value.
Using the Supported TAI list, the UE only triggers the Mobility Registration
Update procedure when it enters a TA that is part of the Supported TAI list.
### 6.28.2 Procedures
The solution relies on existing registration procedures defined in clause
4.2.2.2.2 of TS 23.502 [5] with the exception that Mobility Registration
Update at step 1 can also be generated upon changing to a new TA inside the
RA. Optionally, the trigger to generate Mobility Registration Update can be
restricted to the case when the UE enters a TA that is part of the Supported
TAI list.
### 6.28.3 Impacts on Existing Nodes and Functionality
UE:
\- Processes \"S-NSSAI not available in the current tracking area\" rejection
cause value.
\- Processes \"No S-NSSAI available in the current tracking area\" rejection
cause code.
\- Performs Mobility Registration Update procedure at every TA change within
the RA until the Requested NSSAI is allowed. Optionally, the UE performs
Mobility Registration Update procedure when the UE enters a TA that is part of
the Supported TAI list.
AMF:
\- Includes \"S-NSSAI not available in the current tracking area\" rejection
cause value for the Rejected S-NSSAI in Registration Accept message if the
Requested NSSAI is not available in the current TA.
\- Includes \"No S-NSSAI available in the current tracking area\" rejection
cause code in the Registration Reject message if none of the Requested
NSSAI(s) is (are) available in the current TA.
\- Includes a Supported TAI list for each Rejected NSSAI(s) including the TAs
where the Requested NSSAI(s) is (are) supported within the RA.
## 6.29 Solution #29: On handling S-NSSAIs not supported in certain TAs of a
RA during a registration
### 6.29.1 Introduction {#introduction-26}
This solution addresses KI#5 and also benefits KI#3 solutions like solution in
clause 6.9.
Specifically: The Secondary TAIs in the solution are conceivably supporting
additional slices that are not supported in the whole primary TA. It can often
happen that the primary TAs support commonly used slices like eMBB and the
Secondary TAIs are related to the Area of Service (AoS) of more specific
slices like those associated with venues, enterprise slices with a smaller AoS
that often would not map to any deployed TA perfectly. So, a UE supporting
solution in 6.9 can be given an RA including both primary and Secondary TAIs
in the RA TAI list and the Secondary TAIs are typically associated to e.g.
Partially Allowed or Partially rejected S-NSSAIs in the RA.
This Solution proposes optimizations of the RA formation while taking into
account the S-NSSAIs of the requested NSSAI.
### 6.29.2 Functional Description
This solution covers the case a UE is registering with a S-NSSAI from a TA
where at least one of the S-NSSAIs in the Requested NSSAIs is not supported.
In rel-17 the only possible solution to let the UE attempt to register again
with any such S-NSSAI would be to indicate a RA which only includes the TAIs
where allowed S-NSSAIs are supported, but then exclude from the RA any TAIs
where at least one of the rejected S-NSSAIs is supported. This however was
limiting the RA formation optimality. In Rel-18 we propose to resolve this by
proposing that two options can be supported by a network for supporting UEs:
1) the UE is provided with a RA including TAIs where the S-NSSAIs which are
not supported in the current TA are also included, but for each rejected
S-NSSAI the AMF provides a list of TAIs in the RA where the rejected S-NSSAI
is supported (or, alternately, a list of TAIs in the RA where the rejected
S-NSSAI is known to be not supported). This allows the UE, when it is camping
in a cell of a TAI where the rejected S-NSSAI is known to be supported, to be
able to trigger registration with such S-NSSAI if needed. The AMF provides for
S-NSSAIs that are rejected in the whole RA the existing cause code (\"Not
supported in the RA\") and for S-NSSAIs that are rejected in a subset of the
RA TAIs a new cause code \" Partially Rejected/supported in the RA\" or some
similar cause code
2) the alternative is that the AMF provides an Allowed NSSAI that is known to
be supported in the whole RA (if any) and then one or more \"Partially Allowed
S-NSSAI in the RA\" including for each the Partial RA (subset of the RA) where
these are supported. the advantage of this approach is that the UE can avoid
further registrations as it moves in the RA among TAIs where the support of
the Slices changes. This solution option shows also how the MO/MT transaction
in idle mode happen and how the connected mode mobility is supported.
Both options can be supported in the same network as for instance the option
1) is optimal for the case where the AMF does not support both S-NSSAIs
indicated in Requested NSSAI (so redirection to a AMF supporting both happens
only if the UE lands at some point in a TA supporting both S-NSSAIs and the UE
does still request both). Option 2) is more convenient when the AMF supports
all the requested S-NSSAIs that it indicates in the Allowed NSSAI and in
partially allowed S-NSSAIs. Also, it is possible to combine the two approaches
in one procedure (e.g. let\'s suppose that there is a third S-NSSAI3 that is
partially supported in the RA but not in the AMF in case 2), then this third
S-NSSAI could be rejected with indication of where this S-NSSAI3 works).
In addition. if a S-NSSAI is subject to NSSAA and the UE is not yet authorised
(NSSAA has not already occurred earlier) but not supported in current TA, the
AMF behaviour is to indicate it is \"Partially rejected in the RA\" so NSSAA
is executed upon the UE registering in the TA where the S-NSSAI is supported
(if the S-NSSAI was partially allowed this means the UE would not cause the
triggering of NSSAA).
For slices subject to simultaneous use constraints, the operator can only
include in the same registration accept Allowed NSSAI and/or Partially allowed
S-NSSAIs which can work together in the same TAIs for all the TAIs where the
S-NSSAIs are allowed to be used together simultaneously.
If a S-NSSAI is subject to NSAC, the operator indicates the S-NSSAI not
supported in the current TA is \"Partially rejected in the RA\", so that the
counting of Allowed S-NSSAIs is matching exactly what is allowed at any time.
Whether it could be desirable to enable operators to also support the
behaviour where the Partially allowed S-NSSAIs is counted (so that the
additional registration is avoided upon mobility inside the RA) can be further
discussed in normative phase.
When there are overlapping TAs with TA(s) where a S-NSSAI which is partially
rejected is supported, which however do not support the S-NSSAI, a further
optimization is to indicate to the UE the TAs where the UE is allowed
attempting to register with a Partially Rejected S-NSSAI, even if it is not in
the list of TAs where the slice is actually supported. Similarly, for the case
of Partially Allowed S-NSSAI, a further optimization is to indicate to the UE
the TAs where the UE is allowed attempting to e.g perform a SR or establish a
session within a Slice that was indicated as partially allowed, even if it is
not in the list of TAs where the slice is actually supported. This type of
optimization enables avoiding blind attempts to use the slice.
This indication of TAs where the UE can initiate registration (or,
respectively, service request and PDU session establishment/modification) can
be done with an explicit indication of such TAs in the Registration accept/UE
configuration update when the Partially rejected/Allowed S-NSSAI is provided.
In the message flows in the following clauses, we do not show this particular
optimization for overlapping TAs and rather show for the partially allowed TA
the case without such optimization.
### 6.29.3 Procedures
#### 6.29.3.1 Indication to UE of TAIs where the rejected S-NSSAI is supported
(or is not supported) in the RA
Figure 6.29.3.1-1: Registration with rejected S-NSSAI with indication of which
TA in RA it is supported.
0\. The UE is camping on a cell in TAI 1 where S-NSSAI1 is supported but not
S-NSSAI2
1\. The UE request S-NSSAI1 and S-NSSAI1 while in TAI 1
2\. The AMF determines TAI1 does not support S-NSSAI 2 and forms the RA and
detects S-NSSAI 2 is supported in TAI2 in the RA.
3\. The AMF allows S-NSSAI1, rejects S-NSSAI 2 indicating it is supported in
TAI2 (or, alternatively, another encoding option is indicating that it is not
supported in TAI1) and a new cause code \"Partiallly rejected in the RA\" and
provides RA= (TAI1, TAI2).
4\. The UE now camps on TAI2 cell
5\. From TAI2 cell the UE registers with S-NSSAI1 and S-NSSAI 2
6\. The AMF provides Allowed S-NSSAI = (S-NSSAI1, S-NSSAI2) and RA = TAI2
#### 6.29.3.2 Indication to UE of Allowed NSSAI in RA and of Partially Allowed
S-NSSAIs in RA with TAIs of RA where the Partially Allowed S-NSSAIs is
supported.
##### 6.29.3.2.1 Registration
Figure 6.29.3.2.1-1: Registration with partially allowed S-NSSAI
0\. The UE is camping on a cell in TAI 1 where S-NSSAI1 is supported but not
S-NSSAI2
1\. The UE request S-NSSAI1 and S-NSSAI1 while in TAI 1
2\. The AMF determines TAI1 does not support S-NSSAI 2 and forms the RA =
(TAI1, TAI2) and detects S-NSSAI 2 is supported in TAI2 in the RA.
3\. The AMF allows S-NSSAI1, Indicates that S-NSSAI 2 is partially allowed in
RA indicating it is supported in TAI2 (or, alternatively, another encoding
option is indicating that it is not supported in TAI1) and a new cause code
and provides RA= (TAI1, TAI2).
4\. The UE now camps on TAI1 cell and can only use S-NSSA1
5\. The UE now camps on TAI2 cell and can use both S-NSSA1 and S-NSSAI2.
##### 6.29.3.2.2 MO Procedure from idle mode
Figure 6.29.3.2.2-1: MO service request: success case with TAs supported by
different gNBs
Figure 6.29.3.2.2-1 s shows the service request with the UE which is
registered in TAI, TAI2 with allowed NSSAI S-NSSAI1 and Partially allowed
S-NSSAI in TAI2 S-NSSAI2.This MO SR may apply to just S-NSSAI2 PDU session(s)
or all S-NSSAIs PDU Session(s). If it does apply to all S-NSSAIs, step 7
includes contacting the SMFs for s-NSSAI 1 to enable the applicable
connectivity for S-NSSAI1.
It should be noted that the AMF detects in step 3 that the S-NSSAI2
connectivity is only possible if a HO is executed to a cell supporting
S-NSSAI2 so this is requested by the AMF to the RAN. if this is successful,
like in this case, step 11 enables connectivity for S-NSSAI2 PDU session.
Figure 6.29.3.2.2-2: MO service request: failure case with TAs supported by
different gNBs
Figure 6.29.3.2.2-2 shows the service request with the UE which is registered
in TAI, TAI2 with Allowed NSSAI S-NSSAI1 and Partially allowed S-NSSAI in TAI2
S-NSSAI2.This may apply to just S-NSSAI2 PDU session(s) or all s-NSSAIs PDU
Session(s). If it does apply to all S-NSSAIs, step 7 includes contacting the
SMFs for s-NSSAI 1 to enable the applicable connectivity for S-NSSAI1 and
since it was not possible to handover to a TA supporting S-NSSAI2, the PDU
session for S-NSSAI2 are set as deactivated so DL data is not sent till the UE
moves in connected mode to a cell supporting S-NSSAI2 (in TAI2).
Figure 6.29.3.2.2-3: MO service request: success case with TAs supported by
single gNB
Figure 6.29.3.2.2-3 shows the service request with the UE which is registered
in TAI, TAI2 with Allowed NSSAI S-NSSAI1 and Partially allowed S-NSSAI in TAI2
S-NSSAI2 where the TAI1 and TAI2 are supported by cells under the same gNB.
This may apply to just S-NSSAI2 PDU session(s) or all s-NSSAIs PDU Session(s).
If it does apply to all S-NSSAIs, step 8 includes contacting the SMFs for
s-NSSAI 1 to enable the applicable connectivity for S-NSSAI1 and since it was
possible to handover to TA2 supporting S-NSSAI2, SMFs for PDU sessions for
S-NSSAI2 are also contacted to enable connectivity at step 8.
##### 6.29.3.2.3 MT Procedure from idle mode
Two options are considered:
**OPTION A:**
Figure 6.29.3.2.3-1: MT service request: success case with TAs supported by
different gNBs
Figure 6.29.3.2.3-1 shows the MT service request with the UE which is
registered in RA= TAI, TAI2 with Allowed NSSAI S-NSSAI1 and Partially allowed
S-NSSAI in TAI2 S-NSSAI2 where the TAI1 and TAI2 are supported by cells under
different gNBs. This DL paging applies to a PDU session for S-NSSAI2. the UE
replies to paging and the AMF at step 4 detect the UE replied for TAI1 not
supporting the Slice. This triggers a Initial UE context setup including
indication the S-NSSAI2 PDU session is conditionally activated subject to
successful Handover to a cell of a supporting TA (TA2 in this example). At
step 7, the AMF delays contacting the SMFs for the PDU sessions as it has
received indication that the S-NSSAI2 PDU session activation is pending
handover completion. Since it was possible to handover to TA2 supporting
S-NSSAI2, as detected at the AMF when it receives the confirmation at step 9,
SMF for the PDU session for S-NSSAI2 is contacted to enable connectivity at
step 10. The triggering data is received at step 11. Otherwise, if the gNB
cannot handover to a TA supporting the S-NSSAI2, the gNB updated the AMF with
a NG-AP message (not shown in the figure above as it is describing only the
success case) indicating the requested HO is not possible and the AMF may
trigger AN connection release.
**OPTION B:**
Figure 6.29.3.2.3-2: MT service request: success case with TAs supported by
different gNBs
Figure 6.29.3.2.3-2 shows the MT service request with the UE which is
registered in RA= TAI, TAI2 with Allowed NSSAI S-NSSAI1 and Partially allowed
S-NSSAI in TAI2 S-NSSAI2 where the TAI1 and TAI2 are supported by cells under
different gNBs. This DL paging applies to a PDU session for S-NSSAI2 and
noticing the S-NSSAI 2 is partially allowed in the RA at step 2 the paging
request includes the S-NSSAI 2. The RAN receives S-NSSAI 2 in the paging
request and selects a preferred band from one of the TA2 cells bands (i.e. the
preferred band for S-NSSAI2 is indicated). For paging messages sent to cells
in TA1, the gNB1 sends to the UE a paging message with the indication of the
preferred band (how this is done needs to be decided by RAN2) and the UE shall
trigger cell reselection to this preferred band only considering cells in the
RA. Regardless of the outcome of cell reselection, the UE issues then a
service request. If the cell reselection had positive outcome, like in the
figure 6.29.3.2.3-2, the SR is received at the AMF and the AMF detects it is
from TA2 where the S-NSSAI2 is supported. This then allows the SR to
successfully complete. The triggering downlink data is received at step 11.
Otherwise, if the SR is received from TAI1, the AMF may trigger AN connection
release.
##### 6.29.3.2.4 Connected Mode system behaviour
Figure 6.29.3.2.4-1: CONNECTED mobility with deactivation of S-NSSAI2 sessions
upon entering TAI1 (different gNB)
Figure 6.29.3.2.4-1 shows mobility of UE which is CM-CONNECTED with RA= TAI,
TAI2 with Allowed NSSAI S-NSSAI1 and Partially allowed S-NSSAI in TAI2
S-NSSAI2 where the TAI1 and TAI2 are supported by cells under different gNBs
and where the UE has PDU sessions activated for both S-NSSAI1 and S-NSSAI2.
Upon mobility to TAI1, the PDU session(s) for S-NSSAI2 are deactivated,
meaning the context is preserved but the DL data is dropped and is not
accounted for. the related DRBs are also reconfigured to be deactivated during
the HO. The trigger for deactivation at AMF is the reception of a Path switch
indicating S-NSSAI2 is now not supported (whether this is explicitly
indicated, or the ULI allows the AMF to detect that, can be decided in
normative phase).
Figure 6.29.3.2.4-2: CONNECTED mobility with reactivation of S-NSSAI2 sessions
upon entering TAI2 (different gNB)
Figure 6.29.3.2.4-2 shows mobility of UE which is CM-CONNECTED with RA= TAI,
TAI2 with Allowed NSSAI S-NSSAI1 and Partially allowed S-NSSAI in TAI2
S-NSSAI2 where the TAI1 and TAI2 are supported by cells under different gNBs
and where the UE has PDU sessions activated for S-NSSAI1 and deactivated for
S-NSSAI2. Upon mobility to TAI2, the PDU session(s) for S-NSSAI2 are
reactivated, meaning the context now set in SMF/UPF to enable data forwarding
for the PDUs sessions for S-NSSAI2. The related DRBs are also reconfigured to
be activated during the HO. The trigger for reactivation at AMF is the
reception of a Path switch indicating S-NSSAI2 is now supported (whether this
is explicitly indicated, or the ULI allows the AMF to detect that, can be
decided in normative phase).
Figure 6.29.3.2.4-3: CONNECTED mobility with reactivation of S-NSSAI2 sessions
upon entering TAI1 (same gNB)
Figure 6.29.3.2.4-3 shows mobility of UE which is CM-CONNECTED with RA= TAI,
TAI2 with Allowed NSSAI S-NSSAI1 and Partially allowed S-NSSAI in TAI2
S-NSSAI2 where the TAI1 and TAI2 are supported by cells under different gNBs
and where the UE has PDU sessions activated for S-NSSAI1 and deactivated for
S-NSSAI2. Upon mobility to TAI2, the PDU session(s) for S-NSSAI2 are
reactivated, meaning the context now set in SMF/UPF to enable data forwarding
for the PDUs sessions for S-NSSAI2. The related DRBs are also reconfigured to
be activated during the HO. The trigger for reactivation at AMF is the
reception of a NG-AP message indicating S-NSSAI2 is now supported (whether
this is explicitly indicated, or the ULI allows the AMF to detect that, can be
decided in normative phase). which NG-AP message is used is up to RAN3 to
decide, but in this case a path Switch seems not sent based on current
standards.
Figure 6.29.3.2.4-4: CONNECTED mobility with deactivation of S-NSSAI2 sessions
upon entering TAI1 (different gNB) with no deactivation at SMF option
Figure 6.29.3.2.4-4 shows mobility of UE which is CM-CONNECTED with RA= TAI,
TAI2 with Allowed NSSAI S-NSSAI1 and Partially allowed S-NSSAI in TAI2
S-NSSAI2 where the TAI1 and TAI2 are supported by cells under different gNBs
and where the UE has PDU sessions activated for both S-NSSAI1 and S-NSSAI2.
Upon mobility to TAI1, as an alternative to the approach followed in figure
6.29.32.3.4-1, the DL for the PDU session(s) for S-NSSAI2 data is dropped in
the RAN. The related DRBs are also reconfigured to be deactivated during the
HO. Since there is DL dropped data at the RAN, this data is accounted for so a
report of the dropped data volume may need to be sent periodically and when
the AN connection is released as per configuration in the RAN. this may be
sent to HPLMN SMF based on roaming agreement. the advantage of this
configuration is that the activation/deactivation of sessions is local event
in the RAN based on the TA where the UE is. It may also be more beneficial
when RRC inactive is enabled. whether this option of the one requiring end to
end modification of the state of PDU sessions is pursued is subject to
evaluation in this study.
##### 6.29.3.2.5 Session management
Figure 6.29.3.2.5-1: PDU session Establishment for S-NSSAI 2 from TAI1, TAs
supported by different gNBs
Figure 6.29.3.2.5-1 shows mobility of UE which is registered with RA= TAI,
TAI2 with Allowed NSSAI S-NSSAI1 and Partially allowed S-NSSAI in TAI2
S-NSSAI2 where the TAI1 and TAI2 are supported by cells under different gNBs
and where the UE attempts to establish a PDU session for S-NSSAI 2 while in a
cell in TAI1 which does not support the S-NSSAI2. The PDU session is
established but it is marked as deactivated. Upon connected mode mobility it
is reactivated in step 8 when the UE moves to TAI2.
##### 6.29.3.2.6 AN Release
During the AN release procedure, the Inactive PDU session are all marked as
active so the data can be delivered to the RAN upon paging the UE.
### 6.29.4 Impacts on services, entities and interfaces
The following impacts are foreseen by this solution:
UE:
\- supports registration for partially allowed S-NSSAIs in partial RAs subset
of the RA.
\- can determine which PDU sessions are activated or deactivated based on TAI
where the UE is.
\- can support partially rejected S-NSSAI
RAN:
\- supports the intelligent activation/reactivation of PDU sessions and DRBs
based on the TAI where the UE is in connected mode.
\- Attempts to trigger HO to a supporting TAI when UE is using certain
S-NSSAIs upon transition from Idle mode to connected mode upon SR.
\- can determine which PDU sessions are activated or deactivated based on TAI
where the UE is.
\- depending on the chosen solution, when the AN connection is released (and
periodically, if configured to do so), can issue DL dropped data volume
reports per PDU session to the AMF so it can be discounted when a PDU session
is deactivated
\- depending on the chosen solution, can issue a NG-AP update information to
AMF so the AMF detects when PDU session for a S-NSSAI are
deactivated/reactivated and report this to SMF(s)
AMF:
\- can handle the Partially allowed S-NSSAIs or the partially rejected
S-NSSAIs in the RA as described above.
SMF:
\- can handle the Activated/Deactivated sessions status, with the retention of
the UE context while in deactivated status and the drop of DL data in
deactivated status. Activated/Deactivated status is removed when the UE enters
CM-IDLE.
## 6.30 Solution #30: Rejected S-NSSAI with new cause value
### 6.30.1 Introduction {#introduction-27}
This solution aims to address the KI#5: Improved support of RAs including TAs
supporting Rejected S-NSSAIs. In particular, this solution proposes new cause
value for the Rejected NSSAI so the UE can differentiate the rejection cause
and initiate a registration for an S-NSSAI when the UE enters a TA that is
part of the RA and the TA supports this S-NSSAI.
### 6.30.2 Functional Description
During UE registration, the UE sends Requested NSSAI in RRC message to the
RAN. The RAN selects the AMF based on the Requested NSSAI. The NSSF may
further reselect a different AMF. The selected AMF may not support all
S-NSSAIs in the Requested NSSAI. In previous releases, the AMF rejects the
unsupported S-NSSAI with cause value \"rejected for the RA\" and the UE shall
not request this S-NSSAI again before the UE moves outside of the RA. This
solution introduces a new cause value \"rejected due to AMF not support\", so
the UE can still request the rejected S-NSSAI in UE registration procedure
without moving outside of the RA and the RAN may select a new AMF, which
supports this S-NSSAI.UE may provide new UE capability indication for this
feature to AMF
NOTE: If the AMF detects that the UE continuously triggers registration for
the S-NSSAI and the AMF rejects it with cause value \"rejected due to AMF not
support\", the AMF may use different cause value \"rejected due to AMF not
support\" for the rejected S-NSSAI so the UE will not try again before it
moves outside of the RA.
### 6.30.3 Procedure
During UE registration procedure, the AMF provides new cause values for the
rejected S-NSSAI in the Registration Accept/Reject message to UE
### 6.30.4 Impacts on services, entities and interfaces
**AMF:**
\- providing one new cause value \"rejected due to AMF not support\" for the
rejected S-NSSAI
**UE:**
\- send new UE capability indication to AMF
\- support handling of new cause value
## 6.31 Solution #31: Enabling Flexible RAs with Slice Service Area
### 6.31.1 Introduction {#introduction-28}
This solution addresses key issue #5 as described in clause 5.5 and explains
how the UE may initiate a registration for an S-NSSAI that was not allowed in
a first TA of the RA but may be available in another TA of the RA.
### 6.31.2 Functional Description
A building block of the solution is that when the network does not allow a
requested slice, the network can also provide the UE with a new information
element, called Slice-Specific Service Area. The Slice-Specific Service Area
information element is a list of TA(s) in the RA where the slice that was not
allowed is available, The Slice-Specific Service Area information element can
be provided for a requested slice that is not allowed and is not available in
the current TA, but is available in some TA(s) of the RA.
During Registration, the UE may indicate to the AMF, in the UE 5GMM Core
Network Capability information element, that the UE is able to receive the
Slice-Specific Service Area information element. The AMF can consider the
UE\'s capability when forming the RA. For example, if the UE is capable of
receiving the Slice-Specific Service Area information element, then the AMF
may choose to include TA(s) in the RA where a slice that was not allowed is
available. If the UE does not indicate that it is capable of receiving the
Slice-Specific Service Area, the AMF may choose to avoid including TA(s) in
the RA where a slice that was not allowed is available.
This solution includes two options.
\- Option A reuses the existing slice rejection cause code value of \"S-NSSAI
not available in the current registration area\". However, compared to a
Rel-17 UE, the solution proposes that a UE will interpret this cause code
differently if the Slice-Specific Service Area information element is provided
for the rejected slice. The solution explains how the UE may request rejected
S-NSSAI again only if it is in a TA of the RA where the slice is available
i.e. based on Slice-Specific Service Area information. The UE can then be sent
a new RA when it performs a new registration.
\- Option B proposes to reuse the existing Rel-17 option to neither reject nor
allow slices that are available in only some TAs of the RA. In Rel-17 it is
already possible to neither allow nor reject a slice. However, in this
scenario, the Rel-17 UE would not be prevented from attempting again to
register to a slice that is not available in the TA. The solution proposes
that if the Slice-Specific Service Area information element is provided to the
UE for a slice that is not rejected or allowed, then the UE may request the
not allowed S-NSSAI again only if it is in a TA of the RA where the slice is
available i.e. based on Slice-Specific Service Area information. The UE can
then be sent a new RA when it performs a new registration.
### 6.31.3 Procedures
#### 6.31.3.1 Option A - Reject Slices that are Not Available in the current
TA
In this option, the network will reject a requested slice that is not
available in the UE\'s current TA.
The UE sends a Registration Request and indicates in the UE 5GMM Core Network
Capability information element that it supports receiving the Slice-Specific
Service Area information element.
The AMF sends a Registration Accept message to the UE. The Requested NSSAI
includes slices that are not available in the current TA, thus the
Registration Accept message includes Rejected S-NSSAI(s). The AMF includes
TA(s) in the RA where one or more of the Rejected S-NSSAI(s) are available.
The AMF also includes a Slice-Specific Service Area information element in the
Registration Accept message for each Rejected S-NSSAI that is available in
some TA(s) of the RA.
The slice rejection cause is set to the existing cause code value of \"S-NSSAI
not available in the current registration area\". A UE that receives this
cause code and a Slice-Specific Service Area information element for the
rejected S-NSSAI shall not attempt to use this S-NSSAI(s) in the current
registration area unless UE\'s current TA is included in the Slice-Specific
Service Area information element that is associated with the slice. If the
UE\'s current TA is included in the Slice-Specific Service Area information
element that is associated with the slice, then the UE may attempt to register
for this S-NSSAI(s) again.
In this option, if the AMF later wants to reject an allowed S-NSSAI, the AMF
may send the UE Configuration Update command with an RA that includes TA(s)
where the rejected slice is available and a Slice-Specific Service Area
information element for the rejected slice.
#### 6.31.3.2 Option B - Neither Reject nor Allow Slices that are Not
Available in the current TA
In this option, the network may choose to neither allow nor reject a requested
slice that is not available in the UE\'s current TA.
The UE sends a Registration Request and indicates in the UE 5GMM Core Network
Capability information element that it supports receiving the Slice-Specific
Service Area information element.
The AMF sends a Registration Accept message to the UE. The Requested NSSAI
includes slices that are not available in the current TA, thus the
Registration Accept message does not include these slices in the Allowed
NSSAI. However, since the slice(s) are available in some TA(s) of the RA, the
network chooses to also not include these slices in the Rejected S-NSSAIs and
the AMF includes a Slice-Specific Service Area information element in the
Registration Accept message for each of the slices that are only available in
some TA(s) of the RA.
When the UE receives a Slice-Specific Service Area information element, the UE
shall not attempt to register for the associated S-NSSAI in the current
registration area unless the UE\'s current TA is included in the Slice-
Specific Service Area information element that is associated with the slice.
The UE may then attempt to register for this S-NSSAI(s) again when it is in a
TA where the slice is available (i.e. based on Slice-Specific Service Area
information) and thus obtain a new RA.
In this option, if the AMF later wants to remove a slice from the UE\'s
Allowed NSSAI, but not reject the slice, the AMF may send the UE Configuration
Update command with an RA that includes TA(s) where the slice that is no
longer allowed is available and a Slice-Specific Service Area information
element for that slice.
### 6.31.4 Impacts on services, entities and interfaces
UE:
\- Indicates support for Slice-Specific Service Area in the UE 5GMM Core
Network Capability information element of the Registration Request.
\- Receives the Slice-Specific Service Area information element in the
Registration Accept and UE Configuration Update Command.
\- Determines slice availability for registration in a TA of the RA based on
the provided Slice-Specific Service Area information associated with the
slice.
\- Option A only: Interpretation of the \"S-NSSAI not available in the current
registration area\" slice rejection cause is different if the UE receives the
Slice-Specific Service Area information element (i.e. the UE is allowed to try
to register again in a TA that is part of the slice\'s Slice-Specific Service
Area).
AMF:
\- Receives the Slice-Specific Service Area support indication in the UE 5GMM
Core Network Capability information element of the Registration Request.
\- May consider the UE\'s support for the feature when forming the RA.
\- Sends the Slice-Specific Service Area information element in the
Registration Accept and UE Configuration Update Command.
\- Option A only: Interpretation of the \"S-NSSAI not available in the current
registration area\" slice rejection cause by the UE will be different if the
UE receives the Slice-Specific Service Area information element (i.e. the UE
is allowed to try to register again in a TA that is part of the slice\'s
Slice-Specific Service Area).
## 6.32 Solution #32: Solution for Network Control for UE Slice Use
### 6.32.1 Description
Operators would like to control the use of a network slice so as to optimize
the performance of their network. In addition to that, there can be other
reasons for a capability to enforce a certain usage of network slices, e.g. an
operator may like to pull a network slice out of service for maintenance or
other reasons and would like to let the UE use another network slice instead.
Also, the operator may experience congestion in a network slice due to some
unforeseen circumstance for example due to Network Slice Admission Control
(NSAC) there may a need to off-load a network slice, or simply due to a large
amount of other UEs using the network slice (e.g. to access higher prioritized
services or the other UEs are considered to be of higher priority) and
therefore the network would like to control the use of the slice so as to
alleviate e.g. the congestion.
Irrespective of the reasons, in this solution different actions are proposed
depending on the level of control required by the operator. The following
network initiated capabilities are proposed to be supported:
**Action 1:** Deregistering network slices for UEs or deregistering the UEs
that are registering in network slices without establishing any PDUs.
**Action 2:** Deregistering network slices for UEs or deregistering the UEs
that have PDU sessions that are not active.
**Action 3:** Enabling PDU sessions to be transferred from one network slice
to another network slice, the other network slice can be previously included
in the Allowed NSSAI or will be added to the Allowed NSSAI. This action 3
applies to KI#1 as well
The above capabilities can be applied in the context of deregistering the
network slice for a limited number of UEs with progressively applying one or
more of the above capabilities, as required, or applying all of the above
capabilities in case of a network slice being taken out of service permanently
or for a limited time (i.e. in such case the capabilities of case 3 is done
first and then subsequently applying the deregistration).
For case 1 and case 2, the AMF can deregister a UE (e.g. when the UE is only
registered to one network slice) using existing procedure \"network initiated
deregistration\" as specified in clause 4.2.2.3.3 of TS 23.502 [5] or
deregistering a network slice for a UE by removing the S-NSSAI from the
Allowed NSSAI using the UE Configuration Update procedure as specified in
clause 4.2.4.2 of TS 23.502 [5]. The AMF monitors/acquires the needed
information regarding the usage of the network slice, e.g. if no PDU Session
is established for the slice according to the network policy and/or if not
complying with the network policy the AMF deregisters the UE from the network
slice. As stated before, the means of detecting non-compliance are out of
scope as well as triggers can be initiated by other NFs such as PCF, NSACF.
For case 3, there are several options:
Option 1.The AMF initiates UE Configuration Update procedure towards the UE.
The procedure is extended to support a PDU session transfer request from a
source (network slice to be removed) network slice to a new target network
slice if the AMF can locate another suitable network slice in the Allowed
NSSAI or a new network slice is to be requested. If the target network slice
is already in the Allowed NSSAI (before the UE Configuration Update procedure
or is added to the Allowed NSSAI by the UE Configuration Update procedure, the
UE then uses existing procedures to initiate a new PDU session using the
target network slice for that purpose and tears down the PDU session on the
source slice. If the target network slice is required to be registered by the
UE, i.e. needs to be added to the Allowed NSSAI, the UE first requests the
network slice by issuing a registration request and including the target
network slice in the Requested NSSAI and then when the target NSSAI is in the
Allowed NSSAI the UE establish PDU Session(s) using the target network slice.
Option 2. The AMF initiates a request towards the SMF for a PDU session
transfer, extending the existing service Nsmf_PDUSession_UpdateSM Context to
support transfer of a PDU session from source slice to target slice. The SMF
uses existing session management procedures extended with the necessary
information to notify the UE to initiate a new PDU session towards the target
slice and to tear down the old PDU sessions on the source slice.
Option 3. The PCF initiates SM Policy Control Update Notify to SMF. The
procedure is extended to include the target network slice. Then, as option 2,
the SMF uses existing session management procedures with extensions to notify
the UE to initiate a new PDU session towards the target slice and to tear down
the old PDU sessions on the source slice. The PCF selection of UEs whose PDU
sessions need to be transferred is use case dependent and relies on the
existing mechanisms. In this option, the target network slice selection is per
operator's policy. To ensure that selected target S-NSSAI is part of the
subscribed NSSAI, the PCF selects a target NSSAI based on per NSSAI policy
data received from UDR. When the target S-NSSAI is not in the cell the UE is
camped on, the transfer will not take place.
### 6.32.2 Procedures
#### 6.32.2.1 PDU session Transfer from Source Slice to Target Slice, UE
Initiated approach
In this UE Initiated approach, the UE Configuration Procedure is updated to
remove in the Allowed Slice the source slice that needs to be removed. There
will be a new control information element (IE) to describe the handling of PDU
sessions established on a slice that is now removed from the Allowed Slices.
The IE instructs the UE to transfer the PDU session from the removed network
slice or to be removed network slice in Allowed NSSAI to a new target network
slice in the Allowed NSSAI. The to be removed network slice can either be kept
in the Allowed NSSAI for the duration of the UCU procedure and later removed,
or directly removed by the UE Configuration Update command, but regarded as
still allowed until the transfer to the target network slice has been
completed.
The call flow in Figure 6.32.2.1-1 illustrates the procedure depicted above.
The following is a brief description of the steps in the call flow.
The assumption in the call flow is a UE that has some PDU Sessions already
established on a network slice and these PDU sessions have to be transferred
to another network slice.
\- In step 1, the AMF initiates a UE Configuration Update Command, marking in
(or in relation to) the Allowed NSSAI the network slice to be removed and
including a new IE information to instruct the UE regarding the removed slice
(or to be removed network slice) and the new target network slice that
replaces it. As stated before, if the target network slice is not added by the
UCU procedure to the Allowed NSSAI, the UE first requests the network slice to
be registered by issuing a registration request and including the target
network slice in the Requested NSSAI and then when the target NSSAI is
included in the Allowed NSSAI the UE establishes PDU Session(s) using the
target network slice. Note that the Figure below does not show the aspect of
UE registering to request the target slice to be used. In the UE Configuration
Update Command, the AMF may provide back off timer for the source S-NSSAI
and/or includes the original slice in the Rejected NSSAI so that the UE cannot
request a PDU Session according to the existing URSP rule until the back off
timer is expired.
Editor\'s note: It is FFS if additional information is to be included in the
new IE to perform PDU Session Transfer.
\- In step 2 the UE acknowledges the reception of the Configuration Update
Command.
The remaining steps are based on existing procedures per clause 4.3.5.2 of TS
23.502 [5].
Figure 6.32.2.1-1: PDU Session Transfer - UE Initiated Procedure
#### 6.32.2.2 PDU Session Transfer from Source Slice to Target Slice - Network
Initiated Approach
##### 6.32.2.2.1 AMF Initiated Approach
In this solution, the Slices in Allowed NSSAI are not changed but one of the
slices for example is temporarily taken out of service and should not be used.
The AMF, per operator\'s policy or by learning from other NFs that a slice
shouldn\'t be used instructs the SMF used for the source network slice (i.e.
network slice to not be used), to initiate a PDU Session Transfer from the
source network slice to the target network slice (new network slice to be
used). The Nsmf_PDUSession_UpdateSMContext service is extended to support such
a capability e.g. the AMF indicates a Target network slice to the SMF. The SMF
in turn sends a PDU Session Modification Request to the UE to initiate a PDU
Session transfer. The PDU Modification Session Request can be extended to
support this new capability (e.g. adding target slice and optionally source
slice that otherwise could be derived from existing PDU Session, either in PCO
together with existing \"PDU Session Address Lifetime value\" or in a new IE.
The UE uses existing procedures to establish the PDU session using the new
target slice and usually the same DNN and releases the old PDU sessions used
with the source network slice.
The call flow in Figure 6.32.2.2-1 illustrates the procedure depicted above.
The following is a brief description of the steps in the call flow.
The assumption in the call flow is that a UE has some PDU Sessions already
established on a network slice and these PDU sessions have to be transferred
to another network slice.
\- In step 1, the AMF initiates a Nsmf_PDUSession_UpdateSMContext Request to
initiate a PDU session transfer from a source slice to a target slice. The
Request is extended to support this new capability e.g. the Target network
slice to the SMF and possible an indication that a transfer is to be
initiated. The Request is now extended with the following optional information
so that the SMF can inform the UE to perform a PDU Session transfer from
source slice to a target slice:
\- Source network Slice,
\- Target network Slice,
\- Action: Perform Session transfer for all PDU sessions immediately or at a
scheduled tie time applicable to the UE location.
\- In step 2, the SMF initiates action to notify the UE about a PDU session
transfer from a source slice to a target slice as indicated above is extending
the PDU Session Modification Request sent to the UE to include the needed
information.
\- In step 3, SMF returns Nsmf_PDUSession_UpdateSMContext response to the AMF.
\- In step 4, the SMF invokes the Namf_Communication_N1N2MessageTransfer to
include an SM container towards the UE with a PDU Session Modification Command
extended (e.g. with target S-NSSAI) to inform the UE of a PDU Session
Transfer.
\- In step 5 the AMF forwards the SM Container content to the UE.
The AMF may include back off timer for the original slice and/or includes the
original slice in the Rejected NSSAI to prevent the UE requesting the slice
due to URSP rule re-evaluation.
The remaining steps are based on existing procedures per clause 4.3.5.2 of TS
23.502 [5].
The call flow does not show the aspect of UE registering to request the target
slice to be used if this step is required, when the target slice is not in the
Allowed slices.
Figure 6.32.2.2.1-1: AMF initiated PDU Session Transfer - Session Management
Procedure
Editor\'s note: the impact of overriding of the SSC mode need be evaluated.
##### 6.32.2.2.2 PCF Initiated Approach
In this solution the PCF initiates the PDU session transfer. The flow is the
same as the one described in clause 6.32.2.2.1 with the exception of Step 1.
In this solution the PCF sends a Npcf_SMPolicyControl_UpdateNotify to initiate
a PDU session transfer from a source slice to a target slice. The update
notify is extended to indicate the SMF, the Target network slice and
indication that a PDU transfer is to be initiated. The Update Notify message
sent from the PCF is extended with the following information to enable the SMF
to request the UE to perform a PDU Session transfer from source slice to a
target slice:
\- Source network Slice;
\- Target network Slice;
\- Action: Perform Session transfer for all PDU sessions immediately or at a
scheduled time applicable to the UE location.
Figure 6.32.2.2.2-1: PCF Initiated PDU Session Transfer - Session Management
Procedure
#### 6.32.2.3 SSC Mode and PDU Session Transfer from Source Network Slice to
Target Network Slice
It is desirable that SSC mode 3 is employed for performing PDU session
transfer from a source network slice to a target network slice. This is
critically important for emergency PDU sessions and PDU sessions used for MC
applications and which cannot be disconnected before completion or otherwise
have to be handled with SSC mode 3. It is thus possible for either of the
above solutions that the UE may receive the SSC mode 3 to be used during the
PDU session transfer. This implies that the UE overrides the SSC mode
currently used for the PDU session to be transferred.
More specifically, in the UE initiated approach, the target NSSAI in the UE
Configuration Update Command can indicate that the UE can apply SSC mode 3
logic for the PDU session transfer.
For the network initiated approach, the PDU Modification Session Request can
be extended to include the SSC mode 3 logic to be used for PDU session
transfer.
### 6.32.3 Impacts on Existing Nodes and Functionality
AMF:
\- provide back off timer for the source slice so that the UE cannot request a
PDU Session according to the existing URSP rule until the back off timer is
expired.
PCF:
\- Support S-NSSAI change determination.
\- In case of separated PCFs (i.e. SM PCF and UE PCF), an extension of N43 to
obtain UE information (e.g. allowed NSSAI).
\- Support Npcf_SMPolicyControl_UpdateNotify extension.
## 6.33 Solution #33: Slice-specific implicit deactivation timers
### 6.33.1 Functional Description
#### 6.33.1.1 Registration control
During registration procedure, the UE indicates support for **slice-specific
implicit registration deactivation timer** capability in 5GMM Core Network
Capability. On receiving the Registration Request from the UE with this
capability, AMF chooses a value for slice-specific implicit registration
deactivation timer based on subscription and/or current load on the S-NSSAI
and sets the Allowed NSSAI list along with slice specific implicit
registration deactivation timer duration values for those slices that are high
in demand or resource constrained. Based on subscription, different UEs may
get assigned different values for the timer (e.g. premium subscribers can get
assigned a longer value).
Both the UE and AMF start the slice-specific implicit registration
deactivation timer when there are no PDU sessions with active user plane
resources on the slice that is associated with the implicit timer.
When the UE establishes a PDU session with active user plane resources or
activates a user plane connection for an established PDU Session, the slice-
specific implicit registration deactivation timer is stopped.
When the timer expires at UE and AMF, both UE and AMF perform Implicit
Deregistration procedure locally for the slice without any explicit
deregistration procedure.
If necessary, AMF can adjust the slice-specific implicit registration
deactivation timer duration using the UE Configuration Update procedure
(clause 4.2.4 of TS 23.502 [5]) depending on the network resource usage/load
balance.
#### 6.33.1.2 PDU session control
During PDU session establishment procedure, the UE indicates support for
**slice-specific implicit PDU session deactivation timer** capability in 5GSM
Core Network Capability. On receiving the PDU Session Establishment Request
from the UE with this capability, the SMF chooses a value for slice-specific
implicit PDU session deactivation timer based on subscription and/or current
load on the S-NSSAI and sets the slice specific implicit PDU session
deactivation timer duration values for those slices that are high in demand or
resource constrained. Based on subscription, different UEs may get assigned
different values for the timer (e.g. premium subscribers can get assigned a
longer value).
Both the UE and SMF start the slice-specific implicit PDU session deactivation
timer when the user plane connection is deactivated for the PDU session.
When the UE activates a user plane connection for the PDU Session, the slice-
specific implicit PDU session deactivation timer is stopped.
When the timer expires at UE and SMF, both UE and SMF locally release the PDU
session without any explicit PDU session release procedure.
If necessary, SMF can adjust the slice-specific implicit PDU session
deactivation timer duration via network requested PDU Session Modification
procedure (clause 4.3.3.2 of TS 23.502 [5]) depending on the network resource
usage/load balance.
### 6.33.2 Procedures
The solution relies on existing procedures defined in TS 23.502 [5].
### 6.33.3 Impacts on Existing Nodes and Functionality
UE:
\- Supports slice-specific implicit registration deactivation timer.
\- Supports slice-specific implicit PDU session deactivation timer.
AMF:
\- Supports slice-specific implicit registration deactivation timer, sets
value via Registration procedure, adjusts value via UE Configuration Update
procedure.
SMF:
\- Supports slice-specific implicit PDU session deactivation timer, sets value
via PDU session establishment procedure, adjusts value via network requested
PDU Session Modification procedure.
## 6.34 Solution #34: **On-demand slices**
### 6.34.1 Functional Description
When the Serving PLMN configures the UE with Configured NSSAIs, the Serving
PLMN may include an additional indication whether each S-NSSAI in the list of
Configured NSSAI is an on-demand S-NSSAI. The Serving PLMN is aware whether a
slice is resource-constrained and in that case, it configures the
corresponding S-NSSAI in the UE as on-demand.
The UE, upon receiving the list of Configured NSSAI for the Serving PLMN, will
not attempt to register for any of the Configured NSSAI that are indicated as
on-demand S-NSSAI. Rather, when the UE evaluates URSP rules and an on-demand
S-NSSAI appears in the Route Selection Descriptor of a URSP rule, the UE will
attempt to register the on-demand S-NSSAI with the AMF. If the S-NSSAI is
returned among the Allowed NSSAI in the Registration Accept message, the UE
will then further evaluate the Route Selection Descriptor of the URSP rule and
establish a PDU session for the on-demand slice accordingly. This results in
the UE only registering with a S-NSSAI when it needs to have connectivity to
the related network slice.
### 6.34.2 Procedures
The solution relies on existing procedures defined in TS 23.502 [5].
### 6.34.3 Impacts on Existing Nodes and Functionality
UE:
\- Registers with Configured NSSAI marked as on-demand NSSAI only when
triggered by a corresponding URSP rule.
AMF/NSSF:
\- Able to mark Configured NSSAI as on-demand NSSAI to ensure the proper
utilization of slices in the system.
## 6.35 Solution #35: Network Slice usage control by the network
### 6.35.1 Introduction {#introduction-29}
This solution addresses the bellow requirement from Key Issue #6: Improved
network control of the UE behaviour:
This Key Issue will study how to enable network-controlled behaviour and
ensure the proper utilization of Slices in the system (e.g. what the network
can request to the UE and how and what additional policies the network can
provide to the UE) taking into account the above aspects (e.g. actual slice
usage, UE activity, etc.).
### 6.35.2 Functional description
The solution allows for network slice usage control by the network. If a UE is
registered for a network slice that is subject to a slice usage control and
the network slice is not used by the UE for a specific time duration (e.g. no
PDU Session is established on the network slice for a time duration defined by
the operator via operator policy configuration), the network deregisters the
UE from the network slice. The UE can still get a service on such network
slice however, the UE shall register for it first as it has been removed from
the Allowed NSSAI of the UE. The solution re-uses the existing NSAC service
operations Nnsacf_NumOfUEsUpdate_Request by adding a new parameter \'slice
usage control\' which indicates to the NSACF that the network slice is subject
to slice usage control. If a network slice is subject to slice usage control,
the NSACF starts a slice usage control timer per each network slice subject to
slice usage control and if the network slice is not utilised for the duration
of the slice usage control timer (e.g. no PDU Session on the network slice by
the UE), the UE is deregistered from the network slice. The slice usage
control timers can be configured with values based on the operator policy. The
slice usage control timers are re-started each time the network slice becomes
not used by the UE, i.e. no established PDU session on the network slice.
NOTE: Stage 3 may decide to define designated service operations for the
network slice usage control instead re-using the existing NSAC service
operation in step 2.
### 6.35.3 Procedures
Figure 6.35.3-1: Network Slice usage control by the network
1\. A UE registers for network slices S-NSSAI-1 and S-NSSAI-2 as per clause
4.2.2.2.2 of TS 23.502 [5].
2\. If the network slices S-NSSAI-1 and S-NSSAI-2 are subject to slice usage
control, the AMF sends Nsacf_NSAC_NumOfUEsUpdate_Request message to the NSACF
in which the AMF includes the network slices that are subject to slice usage
control (e.g. S-NSSAI-1 and S-NSSAI-2) and a slice usage control parameter to
indicate that the network slices are subject to slice usage control.
3\. When the NSACF receives a request for network slice usage control from the
AMF, the NSACF starts a slice usage control timer per each network slice
requiring network slice usage control. The slice usage control timer value can
be configured in the NSACF based on the operator policy.
4\. At some stage the UE initiates a service (e.g. PDU Session) on network
slice S-NSSAI-1, for example.
5\. The AMF notifies the NSACF for the PDU Session establishment on S-NSSAI-1
via Nsacf_PDUSessionNotification where the PDU_Session_Status parameter
indicates whether the PDU Session is established or released.
6\. If network slice S-NSSAI-1 is subject to slice usage control and a slice
usage control timer is running in the NSACF for the UE for S-NSSAI-1, the
NSACF stops the slice usage control timers for S-NSSAI-1 as S-NSSAI-1is being
used by the UE, i.e. a PDU Session is established on the S-NSSAI-1 by the UE .
The NSACF will restart the slice usage timer for S-NSSAI-1 as soon as the UE
releases the PDU Session(s) on S-NSSAI-1, i.e. it becomes unused.
7\. The slice usage control timer for S-NSSAI-2 for the UE expires as the UE
has not used the S-NSSAI-2 for the duration of the slice usage control timer
for S-NSSAI-2.
8\. The NSACF sends Nnsacf_NSAC_DeregistrationNotification message to the AMF
including UE_Id, S-NSSAI-2 and optionally a cause which is set to slice usage
control timer expired. The NSACF also updates the number of the UEs registered
with the S-NSSAI-2 by decreasing the number of the registered UEs with
S-NSSAI-2 by 1 and also the NSACF removes the UE identity from the list of the
UEs registered with S-NSSAI-2.
9\. Upon receiving the Nnsacf_NSAC_DeregistrationNotification message, the AMF
deregisters the UE for S-NSSAI-2 via the UE Configuration Update procedure by
removing the S-NSSAI-2 from the Allowed NSSAI list for the UE. Optionally, the
AMF may include in the UCU message a cause parameter set to slice usage
control timer expired. Alternatively, the AMF may use UE Deregistration
procedure in order to remove the S-NSSAI-2 from the Allowed NSSAI for the UE.
### 6.35.4 Impacts on services, entities and interfaces
UE, AMF, NSACF:
\- A new slice usage control timer expired cause parameter (optional).
AMF:
\- New slice usage control parameter in the Nnsacf_NumOfUEsUpdate_Request
message in order to re-use it for slice usage control purpose.
\- Notification towards the NSACF when a PDU Session is created and released.
NSACF:
\- Running slice usage control timer per network slice subject to slice usage
control.
## 6.36 Solution #36: UE provided reason for registration to S-NSSAI
### 6.36.1 Introduction {#introduction-30}
This solution targets KI#6 on \"Improved network control of the UE
behaviour\". Particularly the issue is that the network has to assure proper
utilization of the network slices in the 5GS.
It is assumed that the network is aware about the policies and conditions how
a UE is allowed to register with the requested Network Slices.
### 6.36.2 Functional Description
It is proposed that during Registration procedure the UE provides assistance
information associated with the S-NSSAIs of the Requested NSSAI. This solution
can be used during the Registration procedure and work in addition to other
solution which monitor the usage of a Network Slice after the Registration
procedure. The assistance information is basically the reason for registration
with the S-NSSAI. The reason for registration with the S-NSSAI can be one of
the following:
a) The S-NSSAI is requested due to need for \'immediate use\': an application
in the UE requests connectivity and a matching URSP rule or UE Local Policy
determined to use an S-NSSAI (e.g. as part of the URSP rule\'s RSD). In this
sense, the UE needs the slice registration for (immediate) usage. In another
example, if there are already established PDU Sessions (with active or
inactive UP resources) in the S-NSSAI, the UE can use this reason for
registration.
b) The S-NSSAI is requested due to a match to \'default applications\': based
on local configuration, the UE is aware about the default applications and can
determine the corresponding S-NSSAI (which can be identified as \"always on\"
S-NSSAIs). For example, a voice-centric UE knows that IMS voice application is
needed at any time, i.e. the IMS voice application is a default application.
The corresponding S-NSSAI falls into this category.
c) The S-NSSAI is requested due to a \'proactive registration\': based on UE
implementation, the UE may want to register to an S-NSSAI in order to be able
to immediately establish a PDU Session in this network slice when needed at
some point of time.
The network (e.g. the AMF) may configure the UE whether to include the reason
for registration with the S-NSSAI.
When the network (e.g. AMF or NSSF) receives a reason for registration with
S-NSSAI, the network determines, based on internal policies and the received
reason for registration with each S-NSSAI of the Requested NSSAIs, which
S-NSSAI of the Requested NSSAI are included in the Allowed NSSAI.
The AMF can optionally include a requested S-NSSAI with reason for
registration \'proactive registration\' in the list of rejected S-NSSAIs with
an appropriate reject cause (e.g. rejected due to \'proactive registration\').
The UE may request the S-NSSAI at any time later if there is application which
needs this S-NSSAI.
Regarding the UE behaviour, if an application request data connectivity and
the matching URSP rule includes an S-NSSAI which is not in the Allowed NSSAI
(but also not rejected due unavailability in the PLMN, RA, or NSAC), the UE
can first sends a request to register with the S-NSSAI before processing
further RSDs or before the UE concludes that the RSD is invalid.
### 6.36.3 Procedures
The Figure 6.36.3-1 shows the procedure how the UE provides the reason for
registration with S-NSSAI and how the AMF (or NSSF) determines the Allowed
NSSAI by considering the information received from the UE and UE Subscription
Data from the UDM.
Figure 6.36.3-1: Procedure for UE registration with S-NSSAI having different
reasons
The detailed description of the steps is provided as follows:
0\. The network (e.g. the AMF) may configure the UE whether to indicate the
reason for registration with S-NSSAI. This step is shown as optional because
indicating the reason for registration with S-NSSAI may be a default/mandatory
behaviour and the configuration may be not needed.
1\. The UE determines the reason for registration for each S-NSSAI which is to
be included in the Requested NSSAI.
The details for the reason for registration for each S-NSSAI are described in
clause 6.36.2.
2\. The UE sends NAS Registration Request message. The Requested NSSAI
includes information about the reason for registration for each S-NSSAI.
3\. The network continues with the registration procedure, e.g. steps 2-19
from Figure 4.2.2.2.2-1 in TS 23.502 [5].
4a. During the UE Subscription Data retrieval from the UDM, the AMF may
receive a list of Subscribed S-NSSAIs indicating whether a UE is allowed to
register with the S-NSSAI when the S-NSSAI is needed for use.
4b. The AMF (or the NSSF) determines the Allowed NSSAI by considering the
following information: (1) the reason for S-NSSAI registration from step 1;
(2) the S-NSSAI type as per step 4a; and (3) current network conditions for
each S-NSSAI from the Requested NSSAI (e.g. slice load, whether the S-NSSAI is
subject to NSAC for maximum number of UEs, etc.).
For example, if due to configuration or load conditions the AMF determines to
allow only S-NSSAI registrations when the S-NSSAI is to be used or already in
use, the AMF includes in the Allowed NSSAI only S-NSSAIs having a reason for
registration \'immediate use\' or \'default applications\'. When the AMF is
not configured to limit the registrations for an S-NSSAI, the AMF can include
the S-NSSAI in the Allowed NSSAI independent on the reason for registration
sent from the UE.
The AMF can optionally include an S-NSSAI with reason for registration
\'proactive registration\' in the list of rejected S-NSSAIs in order to avoid
the UE to continue requesting this S-NSSAI.
5\. The AMF sends Registration Accept message to the UE including the Allowed
NSSAI as determined in step 4b.
6\. The UE processes the Registration Accept message as known (e.g. step 21
from Figure 4.2.2.2.2-1 in TS 23.502 [5]).
Additionally, if an application request data connectivity and the
corresponding S-NSSAI is not in the Allowed NSSAI, the UE first sends a
request to register with the S-NSSAI before processing further RSDs or before
the UE concludes that the RSD is invalid.
### 6.36.4 Impacts on services, entities and interfaces
Impacts to the UE:
\- ability to determine the reason for registration with an S-NSSAI.
\- sending the reason for registration for each S-NSSAI part of the Requested
NSSAI.
\- receiving an S-NSSAI reject cause (e.g. rejected due to \'proactive
registration\').
\- triggering a registration with an S-NSSAI which is outside the Allowed
NSSAI (and also not in the rejected S-NSSAIs different from rejected due to
\'proactive registration\') based on the URSP rules evaluation.
Impacts to the AMF:
\- Configuring the UE whether to send the reason for registration with an
S-NSSAI.
\- Determining the Allowed NSSAI based on internal policies and the received
reason for registration with each S-NSSAI of the Requested NSSAIs.
\- Providing to the UE an S-NSSAI reject cause (e.g. rejected due to
\'proactive registration\').
## 6.37 Solution #37: Actual UE Activity-based Slice Admission Control
### 6.37.1 Introduction {#introduction-31}
This solution is to extend the _CN-initiated selective deactivation of UP
connection of an existing PDU Session_ as specified in clause 4.3.7 of TS
23.502 [5]. In case of an unreasonable inactivity, i.e. the configured timer,
is detected, the SMF can release the PDU Session. Subsequently, the serving
AMF can deregister a UE from a given S-NSSAI if the released PDU Session is
the only PDU session that used a given S-NSSAI.
Further optimization in terms of cutting down monitoring effort of a PDU
Session inactivity or UE inactivity on a Serving SMF and Serving AMF
respectively is possible if UE is supposed to be configured with policies
letting a UE manage releasing inactive PDU Sessions and deregistering from an
unused S-NSSAI after configured timers. Such a policy that helps a UE manage
releasing an inactive PDU Session or deregistering from an unused S-NSSAI is
termed \"_UE behaviour control policies\"_.
NOTE: It is assumed if the UE is configured with the UE behaviour control
policy, when the PDU session need be released or S-NSSAI need be deregistered,
the UE initiates the explicit PDU session release or registration update
procedure as defined in TS 23.502 [5].
### 6.37.2 Functional Description
Unless a serving AMF gets notified in terms of a UE\'s ability to support _UE
behaviour control policies_ , when UEs get successfully registered for a
network slice, AMF should monitor for a configured time duration whether these
UEs are making any PDU sessions using the same slice. If AMF finds that some
of the UEs do not have any PDU sessions and the timer is expired, then it
deregisters the slice by removing the slice from the Allowed NSSAI. If the
same slice is present in the Allowed NSSAI of both 3GPP and N3GPP access and
AMF finds no PDU session only for one of the access, then it deregisters the
slice for the corresponding access.
Unless a serving SMF gets notified in terms of a UE\'s ability to support _UE
behaviour control policies_ , for an already established PDU sessions, when an
SMF receives an indication from UPF after a configured time duration that UE
is not transferring any user plane packets and the established session is
inactive then based on operator policy the SMF may release the session. SMF
may give an indication to AMF while releasing the session, based on which AMF
will trigger to deregister the UE from the related slice. If AMF finds out
that the same UE is having active PDU sessions through other SMFs then it
shall not proceed with deregistration of the slice.
The duration where AMF monitors to define the slice inactivity and UPF
monitors to define the PDU session inactivity can be configured from AF or can
be configured by MNO and stored in UDM as well. These monitoring activities by
a serving SMF or AMF can be restricted to the case if a UE does not support
_UE behaviour control policies_. If, on the other hand, UE supports such a
policy, a serving SMF or AMF having to monitor for inactivity, may not always
be necessary.
### 6.37.3 Procedures
Figure 6.37.3-1: Network controlled slice usage based on UE activity
Depending on operator policy with regard to UEs\' support of for _UE behaviour
control policies_ , based on inactivity of the UE, the network can release the
PDU session and/or remove the S-NSSAI from the Allowed NSSAI. The procedure is
executed as following:
1\. The AF which uses the indicated slice provides the UE inactivity time
parameter to the UDM as defined in the clause 4.15.6.2 of TS 23.502 [5]. The
UE inactivity time includes two parts, i.e. the PDU session inactivity time
and S-NSSAI inactivity time.
The defined PDU session inactivity time is associated with a DNN and S-NSSAI
combination pair and optional UE type (e.g. factory UE, Vehicular UE which can
be identified as group of UE). It indicates exactly when a given PDU session
can be released after an observed inactivity.
The S-NSSAI inactivity time is associated with a S-NSSAI and optional UE type
(e.g. factory UE, Vehicular UE which can be identified as group of UE). It
defines exactly when the serving AMF can remove that S-NSSAI from the Allowed
NSSAI after an observed inactivity of a UE that has registered to a given
S-NSSAI but has not established any PDU session associated with that indicated
S-NSSAI.
It is also possible that the UE inactivity time is set by a mobile network
operator and stored in the UDM even without any AF provisioning.
2\. A UE performs registration procedure as defined in clause 4.2.2.2.2 of TS
23.502 [5]. As part of that procedure, the serving AMF get the S-NSSAI
inactivity time from the UDM.
Once the UE has registered on a given S-NSSAI, the serving AMF gets notified
whether a given UE supports _UE behaviour control policies_.
\- If the UE does not support that policy handling, the AMF will starts
monitoring the S-NSSAI inactivity time. For each UE this S-NSSAI inactivity
time is per each given S-NSSAI if the given S-NSSAI is in the Allowed NSSAI.
\- If UE supports _UE behaviour control policies_ and there is no additional
configuration that requires an AMF to still keep network control in terms of
dealing with UE inactivity, the serving AMF may not configure inactivity
timers for those UEs and subsequently monitor those UEs for their inactiveness
before deregistering them from an unused S-NSSAI.
3\. A UE performs PDU session establishment procedure as defined in clause
4.3.2.2 of TS 23.502 [5]. As part of that procedure, the serving SMF gets the
PDU session inactivity time from the UDM and also whether UE supports **_UE
behaviour control policies_**.
If the UE does not support that policy handling, the SMF configures the
indicated time value at the UPF.
A Serving SMF will configure inactivity timer and monitor PDU Sessions
belonging to those UEs in case the support for _UE behaviour control policies_
is not available for those UEs. However, a serving SMF may still keep the
control of having to release PDU Sessions after an inactivity has been
monitored over a configured inactivity timer even for UEs that support _UE
behaviour control policies_ , e.g. monitoring of misbehaving UEs.
4\. When the UPF detects no traffic on the related PDU session at least over
the configured PDU session inactivity time, it will report to the serving SMF.
The serving SMF determines that the PDU session can be released unless this
PDU session is related to MPS or Emergency service.
5\. The serving SMF triggers the PDU session release procedure as defined in
clause 4.3.4 of TS 23.502 [5].
The serving SMF may give an indication to AMF while releasing the PDU session
due to inactivity.
6\. If the serving AMF detects that no established PDU session associated with
the indicated S-NSSAI over the related access type and the S-NSSAI inactivity
timer (if configured at step 2) is expired, it determines that the UE\'s
S-NSSAI can be deregistered from a given Allowed S-NSSAI for the given access
type.
For established PDU session the AMF may deregister the UE from indicated
S-NSSAI if the AMF receives the PDU session release indication which is set by
SMF at step 5 and the PDU session is the last PDU session associated with
S-NSSAI.
7\. The serving AMF initiates the UE configuration update procedure as defined
in clause 4.2.4.2 of TS 23.502 [5] to remove the indicated S-NSSAI from
Allowed NSSAI of the UE.
### 6.37.4 Impacts on services, entities and interfaces
The following impacts are foreseen by this solution:
NEF:
\- A new UE inactivity time is to be provisioned to the network.
UDM:
\- A new UE inactivity time is to be stored and provisioned to the AMF/SMF.
SMF:
\- A new trigger for the PDU session release procedure is added, which can be
per operator\'s policy and UE capability.
\- Receiving the PDU session inactivity time and configuring it at the UPF.
\- Providing one indication to AMF to deregister the associate slice because
of inactive PDU Session.
AMF:
\- A new trigger for UE Configuration Update procedure is added, which can be
per operator\'s policy and UE capability.
\- For each UE monitor the S-NSSAI usage based on the received S-NSSAI
inactivity time from an UDM for each given S-NSSAI, which is in the Allowed
NSSAI.
\- Deregistering the slice based on the Inactivity timer or indication from
SMF for inactive PDU session.
## 6.38 Solution #38: On configuring the UE with UE behaviour policies
### 6.38.1 Introduction {#introduction-32}
This solution addresses KI#6.
It proposes that the UE can receive from the HPLMN and, if allowed, by the
VPLMN, UE behaviour control policies which address the need to improve the
degree of control the network operators can have of the UE behaviour in
registering with network slices and establishing PDU sessions.
### 6.38.2 Functional Description
This solution requires the UE to support the handling of UE behaviour control
policies received from the network. The UE can receive policies from both the
VPLMN and the HPLMN. The policies are subject to HPLMN control, or, only if
allowed by the HPLMN, to VPLMN control. Whether there are VPLMN-only policies
or V-PLMN driven policies that require no HPLMN authorization can be studied
(e.g. whether some policies can condition the UE behaviour only based on
information available in the VPLMN or VPLMN decision is FFS).
Each policy is associated to an indication of whether it is a VPLMN policy or
a HPLMN policy. A Version number of the policy is also provided to the UE (a
version number can apply to a VPLMN policies and one for HPLMN policy). When
the UE is powered off it should be able to store the policies for the last N
visited PLMNs with N based on UE implementation, if any serving VPLMN policy
applies. The UE shall store the HPLMN policies in permanent memory when
received and use these unless an overriding VPLMN policy is received.
When the UE registers, it indicates to the network it supports this feature,
the Version identifier of any VPLMN policies it stores and the version
identifier of the HPLMN policies. Based on information the AMF receives from
the UDM and based on local policy and based on checking whether the versions
of the policies are up to date, the AMF decides whether and with which
policies to update the UE.
The policies that the UE can receive can indicate:
1) Whether to register with all the Slices in the Configured NSSAI for the
PLMN or whether to register when a PDU session needs to be established in the
network slices or whether to register with a list/subset of slices from
configured-NSSAI irrespective of whether a PDU session is established or not.
2) Whether to establish all the PDU sessions configured in the RSDs or to
establish them based on the _need to use_ these by applications or whether to
establish PDU sessions to specific set of DNNs irrespective of whether an
application needs it or not. Additional conditions for establishing a PDU
session for a slice, may include time of the day or time interval of the day,
and/or geographical location, and/or total duration in time for a PDU session
regardless of activity.
If the UE is configured to operate on a \"need\" basis, rather than on a
\"configuration\" basis, then the UE can additionally be provided with this
information:
3) Time to release a PDU session after no application is detected in the UE to
need to use the PDU session This time, for example, can be immediately after
use is over, or the PDU session can remain Idle up to a maximum time.
4) Time to deregister from a network slice since the last PDU session is
releases which was using the network slice.
In addition: the URSP rules can be augmented with an indication of which RSD
is mandatory to be established (which implies that the corresponding network
slice must remain registered and the corresponding PDU session must remain
established if possible and allowed in the serving PLMN. The URSP rule can
also indicate whether an application matching a certain TD needs to be served
always by the highest priority of an alternative set of RSDs which differ only
for the S-NSSAI part, so as to implement the behaviour of always steering the
UE to the highest priority slice among alternative slices whenever the higher
priority slices are available, without compromising the connectivity to the
same DNN of the same network.
Additionally, Configured-NSSAI can be augmented with an indication which
implies that the corresponding network slice must remain registered if
possible and allowed in the serving PLMN.
### 6.38.3 Procedures
#### 6.38.3.1 USIM default configuration.
The UE behaviour polices may be preconfigured in the UE USIM and apply to all
PLMNs, unless they are overridden by information configured in the control
plane. The HPLMN policies apply across all PLMNs and may be updated by some
VPLMN-specific policy, the HPLMN and VPLMN can configure the UE behaviour by
the following procedures.
#### 6.38.3.2 Control plane procedures
##### 6.38.3.2.1 UDM Option
Figure 6.38.3.2.1-1: Registration with UE behaviour control assistance
information (UE initially not yet configured)
In Figure 6.38.3.2.1-1 the UE is getting configured with UE behaviour control
policies
0\. Starting from a state where the UE has no HPLMN nor VPLMN policies.
1-2. The HPLMN detects the UE can be provided with such policies based on the
information it receives at step 2 during the registration of the UE.
3\. If the HPLMN has any UE behaviour control policies, the HPLMN provides
them to the VPLMN and also an indication that on whether the PLMN is allowed
to update the policies with local policy. If the HPLMN has no policy, it may
still indicate whether the VPLMN is allowed to set policies in the UE.
4-5. after the AMF receives the information it updates the UE in the
registration accept including any applicable HPLMN and/or VPLMN policy in the
registration accept alongside its version number.
6-7. The UE configuration with the policies is confirmed. At reception of step
6 message, the AMF stores the applicable HPLMN and the VPLMN version number of
policy. Step 7 is required only if HPLMN policies were provided.
Figure 6.38.3.2.1-2: Registration with UE behaviour control assistance
information (UE initially configured)
In Figure 6.38.3.2.1-2 the UE is getting configured with UE behaviour control
policies:
0\. Starting from a state where the UE has already some HPLMN and/or VPLMN
policies.
1-2. The HPLMN detects the UE can be provided with such policies based on the
information it receives at step 2 during the registration of the UE and also
the versions of the HPLMN policy the UE is configured with.
3\. If the HPLMN has any new UE behaviour control policies (i.e. a new version
of the policies for the UE), the HPLMN provides them to the VPLMN and also an
indication that on whether the VPLMN is allowed to update the policies with
local policy. If the HPLMN has no policy, it may still indicate whether the
VPLMN is allowed to set policies in the UE.
4-5. After the AMF receives the information it updates the UE in the
registration accept including any applicable HPLMN and/or VPLMN policy in the
registration accept alongside its version number.
6-7. The UE configuration with the policies is confirmed. At reception of step
6 message, the AMF stores the applicable HPLMN and VPLMN version number of
policy. Step 7 is required only if HPLMN policies were provided.
Figure 6.38.3.2.1-3: Update of UE behaviour control assistance information
In figure 6.38.3.2.1-3, the UE behaviour policy is updated if a new version of
HPLMN or VPLMN policy is available for a capable UE that is already configured
with some policy.
1\. If, the UDM detects a new version of policy is available for the UE, it
updates the AMF with this updated subscription information.
2-3. After the AMF receives any updated UE behaviour control policies from the
HPLMN in step 1, or, if it was allowed to do so by the HPLMN, it has new VPLMN
policy for the UE, it updates the UE including any applicable HPLMN and/or
VPLMN policy in the registration accept alongside its version number in a UE
Configuration Update Command message.
4-5. The UE configuration with the policies is confirmed. At reception of step
4 message, the AMF stores the applicable HPLMN and VPLMN version number of UE
behaviour control policy. Step 5 is required only if HPLMN policies were
provided.
##### 6.38.3.2.2 NSSF/PCF Option 2
In this solution UE policies applicable to Network Slice usage in a
VPLMN/HPLMN are included as an additional element in the Registration Accept
or UE Configuration Update Command. These policies include rules for using the
network slices subject to applicable conditions to the rules. These rules are
configured either in the NSSF or the PCF, and are provided to AMF for
inclusion the Registration Accept or UPU procedure. Figure 6.38.3.2.2-1
depicts the procedure.
NOTE 1 The NSSF based solution does not allow per UE policies.
NOTE 2: In roaming case this means also querying the HPLMN NSSF /PCF to get
the HPLMN policies and to check whether the VPLMN can set the policies.
NOTE 3: This option proposes 2 sub-options but only one sub-option is expected
to be selected if this sub option is selected.
Figure 6.38.3.2.2-1: NSSF/PCF Option for Update of UE behaviour Slice Usage
policies
The steps in the call flow are as shown below.
1\. In step 1, the UE registers in 5GS. The UE includes its capabilities to
support handling and processing of network slice (and DNN/PDU Session) usage
policies/rules. The UE MM Core Network Capability (i.e. in the UE 5GMM Core
Network Capability ) is extended to include this information.
2\. In step 2 Registration procedure steps 2-19c are performed according to TS
23.502 [5] with the additional need to store the new UE capabilities. In case,
the **V-PCF** sub-option is selected to provide the policies, the Access and
mobility related policy information is extended such that AMF provides to
V-PCF the Configured NSSAI and DNNs in the Npcf_AMPolicyControl_Create (see TS
23.502 [5] step 2 of figure 4.16.1.2-1) or the Npcf_AMPolicyControl_Update
(see TS 23.502 [5] step 1 of figure 4.16.2.1.1-1) and the V-PCF derives the
related policies and provides them in the response. V-PCF can later on update
the policies in Npcf_AMPolicyControl_UpdateNotify (see TS 23.502 [5] step 3 of
Figure 4.16.2.2-1).
3\. In step 3 if the AMF is not configured for the policies for the Allowed
slices (and V-PCF sub-option of step 2 is not used), the AMF sends a
Nnssf_NSSelection_Get Request to the NSSF to either fetch Network Slice
selection information and policies or just the policies applicable to usage of
allowed slices (e.g. all S-NSSAIs of Configured NSSAI). The
Nnssf_NSSelection_Get Request is extended to include the request of network
slice usage policies for Allowed slices/Configured Slices. Alternatively, a
new NSSF service operation is used to retrieve the policies in which case the
AMF provides the applicable S-NSSAIs e.g. all S-NSSAIs of the Configured
NSSAI, PLMN ID of the UE or complete UE ID (e.g. SUPI) and the related DNNs of
the S-NSSAIs.
4\. In step 4 the Nnssf_NSSelection_Get Response is extended to include this
additional network slice usage policies/rules information, or a response of
the new service operation.
5\. In step 5, the AMF stores the received information, and checks if the UE
supports the ability to store and process network slice usage policies/rules,
unless that was done before in step 2 or before step 3.
6\. In step 6 assuming UE supports the policies, the AMF includes this
information in the Registration Accept response to the UE.
7\. In step 7, the UE applies the received network slice rules/policies.
8\. In step 8 the AMF enforces the policies. The AMF action in case of policy
violation could be based on policy but is out of scope.
If the network wants to update the polices, the AMF provides the updated
policies to the UE using UE Configuration Update Command (see Figure 4.2.4.2-1
in TS 23.502 [5]).
The above procedure is performed in the visited network.
#### 6.38.3.3 URSP possible impact
Separately from the generic UE behaviour control provided by the UE behaviour
control policies by HPLMN and VPLMN, it should be possible via the URSPs to
control additional aspects of UE behaviour. The URSP can be augmented with
information indicating whether certain RSD S-NSSAI registration is mandatory
or whether certain RSD DNN+S-NSSAI PDU session establishment is mandatory.
Also, if the RSDs matching a TD share the DNN but have different priority
order due to respective S-NSSAIs, the related PDU connection can be used
interchangeably to serve the application in priority order. If an indication
is provided to the UE to do so in the URSP, meaning that the UE is indicated
explicitly to always attempt use the highest priority S-NSSAI RSD even if one
RSD related to a lower Priority S-NSSAI is already being used and the higher
priority RSD slice is not yet allowed.
### 6.38.4 Impacts on services, entities and interfaces
The following impacts are foreseen by this solution:
UE:
\- Supports the processing of the UE behaviour control policies.
\- Can receive configuration from the AMF and story it for the VPLMN and
HPLMN.
\- Reports the version number of policies and indicates support of the
feature.
AMF UDM Option 1:
\- Can handle UE behaviour control policies and the indications of support
from UE. can store the policy versions and confirm to HPLMN the configuration
of policies received from HPLMN.
PCF-UDM Option 1:
\- Can provide URSP including additional indications to control UE behaviour.
AMF - NSSF/PCF Option 2:
\- Can handle UE behaviour control policies and the indications of support
from UE. Can handle policies according to either PCF or NSSF option. Enforces
received policies
PCF - NSSF/PCF Option 2:
\- If the PCF sub-option of option 2 is supported then then PCF provides the
UE usage policies to the AMF with impacts to Npcf_AMPolicyControl_Create,
Npcf_AMPolicyControl_Update, and Npcf_AMPolicyControl_UpdateNotify.
NSSF-NSSF/PCF Option 2:
\- If the NSSF sub-option of option 2 is supported then then NSSF provides the
UE usage policies to the AMF with impacts to Nnssf_NSSelection_Get Request or
a new Request.
UDM - UDM Option 1:
\- Can detect support of the UE behaviour control policies support by the UE
and if so provide related information to the AMF as indicated. if the AMF is
belonging to a VPLMN it may indicated whether the AMF in VPLMN can generate
local policies.
Nudm_UECM_Registration - UDM Option:
\- Input to optionally include \"UE behaviour control support\" and \"version
of HPLMN UE behaviour control policy\".
Nudm_SDM_Get - UDM Option:
\- Output to optionally include UE behaviour control policy incl. version and
whether VPLMN can update.
## 6.39 Solution #39: Serving PLMN steering UE to preferred slice for
selection of PDU session
### 6.39.1 Description
UE use preconfigured or network provided URSP to select any particular slice
while initiating any PDU session with network. But the Rel17 NSAC feature
increase the probability for the UE\'s PDU session to get rejected if the
quota for the concurrent established PDU session for the given slice is about
to exhaust. Hence there is a need for serving network to steer to some other
preferred slice by updating the URSP and sending to those UEs.
The following are the main principles of the solution:
\- PCF will subscribe using the Nnsacf_SliceEventExposure_Subscribe service
operation with NSACF to the event \'the number of PDU Sessions established on
a network slice\' and the threshold can be set as per the configuration. PCF
will NSACF discovery as in clause 6.3.22 of TS 23.501 [2].
\- NSACF will notify to the PCF.
\- PCF will derive the list of UEs for which the slice is applicable. Then PCF
will update the URSP by replacing that slice or lowering the precedence of
that slice with some other preferred slice for the DNN/Application and send to
UEs. **In case of replacement, the PCF can select one available slice from at
least one of Allowed NSSAI, subscribed S-NSSAI and/or Configured NSSAI and
replace the exhausted slice with the selected slice.**
Figure 6.39.1-1: Example of URSP rule modification
### 6.39.2 Procedures
Figure 6.39.2-1: PCF steering to a preferred slice
The detailed procedure is described in Figure 6.39.2-1.
1\. The UE registers to 5GC as in clause 4.2.2.2.2 of TS 23.502 [5].
2\. The UE has preconfigured URSP or been updated with network provided URSP.
3\. PCF subscribe to the event \"the number of PDU Sessions established on a
network slice\" by sending Nnsacf_SliceEventExposureSubscribe to the NSACF as
in clause 5.2.21.4.2 of TS 23.502 [5] and PCF will set the threshold as per
the configuration.
4\. NSACF will notify when the event is occurred using
Nnsacf_SliceEventExposure_Notify service operation as in clause 5.2.21.4.4 of
TS 23.502 [5]
5\. PCF will update the URSP rules either by replacing the slice or lowering
the precedence of the slice for which quota has been exceeded the threshold
with a preferred slice and send to the UE as in clause 4.2.4.3 of TS 23.502
[5].
Editor\'s note: How the URSP will be updated in VPLMN is FFS.
### 6.39.3 Impacts on Existing Nodes and Functionality
This solution may have the following impacts to existing entities and
interfaces:
PCF:
\- PCF will use Slice Event exposure service offered by NSACF to steer to UE
with a preferred slice by replacing the slice which has been exhausted the
threshold.
## 6.40 Solution #40: S-NSSAI change decided by PCF
### 6.40.1 Introduction {#introduction-33}
This solution aims to address the scenario 1b) and 1c) in the Key Issue #1:
Support of network slice service continuity.
Scenario 1b): network slice or network slice instance is overloaded or
undergoing planned maintenance in CN (e.g. network slice termination).
Scenario 1c): network performance of the network slice cannot meet the SLA.
On scenario 1b), it could be a SMF or a NWDAF finds the related network slice
or network slice instance is overloaded or receives a maintenance command
about a network slice termination.
### 6.40.2 Functional Description
This solution proposes the PCF to determine whether the S-NSSAI associated to
an ongoing PDU session needs to be changed and which one is the replacement,
triggered by a SMF or NWDAF. After determination, the PCF provides the
suggested new S-NSSAI to the SMF, and the SMF initiates the modification of
the PDU session and notifies the AMF.
The corresponding procedures are per PDU session granularity and related to
session management.
### 6.40.3 Procedures
#### 6.40.3.1 The S-NSSAI change determination by PCF for an ongoing PDU
session on non-roaming and local breakout roaming scenario
{width="6.690972222222222in" height="3.8569444444444443in"}
Figure 6.40.3.1-1: The S-NSSAI change determination for a ongoing PDU session
triggered by an SMF report
1a. From SMF1 to PCF: The SMF1 invokes Npcf_SMPolicyControl_Update service to
send the information on the policy control request trigger condition that has
been met. The policy control request trigger condition contains network slice
or network slice instance overloaded or undergoing planned maintenance.
Npcf_SMPolicyControl_Update request contains the information the S-NSSAI
associated to the PDU session is overloaded or undergoing planned maintenance.
1b. From NWDAF to PCF: The NDWAF invokes Nnwdaf_AnalyticsSubscription_Notify
service operation to notify the PCF that the S-NSSAI associated to the PDU
session is overloaded or undergoing planned maintenance.
In local breakout roaming cases, all the NFs in this procedure are from
visited network and the S-NSSAI included in the information from V-SMF1 to
V-PCF is an S-NSSAI in VPLMN.
1c. From AF to PCF: AF is notified that the QoS performance of the UE is
changed, e.g. because the resource of the current S-NSSAI becomes congested.
AF sends Nnef_ParameterProvision_Update request, including GPSI and QoE
improvement indication, which reflects the requirement of application
services, to the NEF.
2c. From NEF to PCF: ENF sends Npcf_PolicyAuthorization_Update request,
including GPSI and QoE improvement indication to the PCF.
3\. The PCF determines the new S-NSSAI of the PDU session within the allowed
NSSAI.
The PCF makes the determination based on the information related to the SM
policy, the network slice SLA and the UE (e.g. UE policy and the allowed NSSAI
of the UE.). The allowed NSSAI can be obtained from AMF according to TS 23.503
[12] clause 6.1.2.5. If the PCF for the PDU session and the PCF for the UE are
deployed separately, the former gets the information related to the UE via the
N43 reference point.
In local breakout roaming case, the allowed NSSAI is the allowed NSSAI of
VPLMN.
If no new S-NSSAI can be selected within the allowed NSSAI for the PDU
session, the PCF rejects the requests of changing the PDU session in step 1.
4\. From PCF to SMF: updated Policy information for the PDU Session and new
S-NSSAI.
The PCF performs a PCF initiated SM Policy Association Modification procedure
as defined in clause 4.16.5.2 to notify SMF about the modification.
Npcf_SMPolicyControl_UpdateNotify request contains the new S-NSSAI. In local
breakout roaming case, V-PCF provides V-SMF1 the new S-NSSAI of VPLMN.
5\. From SMF to PCF: The SMF acknowledges the PCF request with a
Npcf_SMPolicyControl_UpdateNotify response.
6\. The SMF1 determines whether UPF/SMF Relocation needs to be performed.
The SMF1 makes the determination upon the capabilities of itself and the
associated UPF. If UPF/SMF Relocation needs not to be performed, step 6a/7a/8a
applies; while if UPF/SMF Relocation needs to be performed, step 6b applies.
7a. From the SMF1 to AMF: SMF1 notifies the AMF the network slice associated
to the PDU session is changed to the new S-NSSAI.
8a. From the SMF1 to AMF: SMF1 invokes Namf_Communication_N1N2MessageTransfer
including N1/N2 SM message.
9a. From the AMF to UE: AMF transports PDU Session Modification Command
transparently to the UE. PDU Session Modification Command contains the new
S-NSSAI. In home routed roaming case, the new HPLMN S-NSSAI is included.
The UE replace the S-NSSAI associated to the PDU session.
7b. Steps 1 to 6 as in Figure 4.3.5.2-1 in clause 4.3.5.2 of TS 23.502 [5] are
performed.
In step 1a, SMF1 notifies the AMF the network slice associated to the PDU
session is changed to the new S-NSSAI.
In step 3a, the new S-NSSAI is included in the PDU Session Modification
Command.
In step 4, the UE initiate the PDU Session Establishment procedure described
in clause 4.3.2.2 of TS 23.502 [5], to the new S-NSSAI.
#### 6.40.3.2 The S-NSSAI change determination by PCF for an ongoing PDU
session triggered by an SMF report on home-routed roaming cases
Figure 6.40.3.2-1: The S-NSSAI change determination by PCF for a ongoing PDU
session on home-routed roaming cases
1a. This step is the same with step 1a in clause 6.40.3.1.
1b. The V-SMF1 invokes Nsmf_PDUSession_StatusNotify service operation to
notify H-SMF1 the policy control request trigger condition has been met. H-SMF
subsequently invokes Npcf_SMPolicyControl_Update service to. H-PCF for policy
control. Npcf_SMPolicyControl_Update request contains the information the
HPLMN S-NSSAI associated to the PDU session is overloaded or undergoing
planned maintenance.
1c. This step is the same with step 1b in clause 6.40.3.1.
In home-routed roaming case, H-SMF1 reports the network slice instance
overloaded or undergoing planned maintenance to H-PCF, and the S-NSSAI
included in the information is an S-NSSAI in HPLMN.
2\. The H-PCF determines the new S-NSSAI of the PDU session within the allowed
NSSAI.
The H-PCF makes the determination based on the information related to the SM
policy, the network slice SLA and the UE (e.g. UE policy and the allowed NSSAI
of the UE). If the PCF for the PDU session and the PCF for the UE are deployed
separately, the former gets the information related to the UE via the N43
reference point.
In home-routed roaming case, the allowed NSSAI is queried from V-PCF by H-PCF
via N24. If no new S-NSSAI can be selected within the allowed NSSAI for the
PDU session, the PCF rejects the requests of changing the PDU session in step
1.
3\. From PCF to SMF: updated Policy information for the PDU Session and new
S-NSSAI.
The PCF performs a PCF initiated SM Policy Association Modification procedure
as defined in clause 4.16.5.2 to notify SMF about the modification.
Npcf_SMPolicyControl_UpdateNotify request contains the new S-NSSAI. In home-
routed roaming case, H-PCF provides H-SMF1 the new S-NSSAI of HPLMN.
4\. From SMF to PCF: The H-SMF acknowledges the PCF request with
Npcf_SMPolicyControl_UpdateNotify response.
5\. The H-SMF1 determines whether UPF/SMF Relocation needs to be performed at
HPLMN based on the capabilities of itself and the associated UPF.
6\. H-SMF1 invokes Nsmf_PDUSession_Update to indicate the S-NSSAI associated
to the PDU session is changed and send the new S-NSSAI to V-SMF1. If UPF/SMF
Relocation is needed in step 5, the indication of UPF/SMF Relocation is also
included.
7\. The V-SMF1 determines whether UPF/SMF Relocation needs to be performed at
VPLMN based on the capabilities of itself and the associated UPF.
8a. If the UPF/SMF Relocation is not needed, step 6a to 8a in clause 6.40.3.1
applies.
8b. If the UPF/SMF Relocation is needed, Steps 1 to 6 as in Figure 4.3.5.2-1
in clause 4.3.5.2 of TS 23.502 [5] are performed.
### 6.40.4 Impacts on services, entities and interfaces
PCF:
\- Support S-NSSAI change determination based on AF request or SMF report.
\- (optional) N43 extended to get information of the UE(e.g. UE policy, the
allowed NSSAI).
\- Support Npcf_SMPolicyControl service extension.
\- H-PCF supports query of Allowed NSSAI from V-PCF via N24.
SMF:
\- Support notifying the AMF and UE the S-NSSAI change.
\- Support Nsmf_PDUSession service and PDU Session Modification Command
extension.
\- Support Nsmf_PDUSession_Update extension to support indicating the S-NSSAI
associated to the PDU session is changed, the new S-NSSAI and the indication
of UPF/SMF Relocation.
AMF:
\- Support Nsmf_PDUSession service extension.
UE:
\- Support PDU Session Modification Command extension.
N7/Npcf_SMPolicyControl service:
\- Add a new policy control request trigger condition(i.e. network slice or
network slice instance overloaded or undergoing planned maintenance).
\- Add the new S-NSSAI in UpdateNotify service operation.
N11/Nsmf_PDUSession service:
\- Add the new S-NSSAI in SMContextStatusNotify service operation.
N1/PDU Session Modification Command.
\- Add the new S-NSSAI.
## 6.41 Solution #41: Network Slice change without service interruption
### 6.41.1 Introduction {#introduction-34}
The solution addresses the Key Issue #1: Support of network slice service
continuity.
### 6.41.2 Functional Description
The solution provides a mechanism to determine the need to change a network
slice, and to allow a change of network slice while maintaining the PDU
Sessions.
The AMF determines that a PDU Session allows a change of S-NSSAI by:
\- UE indicates the support for the capability.
\- SMF indicates the additionally supported S-NSSAIs and the capability to
change S-NSSAI.
The scenarios supported by this solution are 1b, 1c, 2d.
NOTE: whether there is a need for any new S-NSSAI when same SMF/UPF is used
and address is preserved is unclear as repartitioning may also work like done
in the RAN for similar issue.
### 6.41.3 Procedures
#### 6.41.3.1 General
For 1b, 1c, 2d, the AMF determines that there is a need to change S-NSSAI. For
scenario 1b and 2d this is determined by information from OAM, including the
case that resource re-partitioning cannot be done as to enable the existing
S-NSSAI to be maintained. For scenario 1c, this is determined by NWDAF.
The AMF determines the new S-NSSAI to use e.g. by NSSF, by PCF (as in solution
#2) or by OAM.
The principles for the change of S-NSSAI for the above scenarios are as
follows:
\- AMF determines that a S-NSSAI need to be changed as per above logic.
\- AMF determines the S-NSSAI to use, and if SMF (PSA) supports the new
S-NSSAI and the capability to change S-NSSAI, then AMF requests SMF to change
to the new S-NSSAI, and initiate procedure towards the UE that the S-NSSAI has
been changed.
\- If the SMF (PSA) does not support the new S-NSSAI and/or the capability to
change S-NSSAI then AMF invokes procedure to initiate PDU Session transfer
using any SSC mode as described by other solutions.
If it is not possible to change to a new S-NSSAI without changing SMF, then
AMF invokes procedure to initiate PDU Session transfer using any SSC mode as
described by other solutions.
#### 6.41.3.2 Change of network slice
**Network Slice change for scenarios 1b, 1c, 2d.**
Figure 6.41.3-1: Network Slice change while maintaining the PDU Session
1\. AMF determines that a S-NSSAI need to be changed. For scenario 1b and 2d
this is determined by information from OAM. For scenario 1c, this is
determined by NWDAF.
AMF then determines the new S-NSSAI to use e.g. by NSSF or by PCF (as in
solution #2).
The solution assume that UE\'s URSP include rules for the new HPLMN S-NSSAI if
the HPLMN S-NSSAI is changed.
2\. If SMF (PSA) supports the new S-NSSAI and the capability to change S-NSSAI
(this the SMF indicates to the AMF during PDU Session Establishment), then AMF
requests SMF to change to the new S-NSSAI, and initiate procedure towards the
UE that the S-NSSAI has been changed.
If the SMF (PSA) does not support the new S-NSSAI and/or the capability to
change S-NSSAI then AMF invokes procedure to initiate PDU Session transfer
using any SSC mode as described by other solutions i.e. indicating to SMF to
request the UE to change S-NSSAI by establishing a new PDU Session.
3\. The AMF informs the UE, e.g. using UCU, the new Allowed NSSAI (new S-NSSAI
can either by set as an S-NSSAI for the Serving network/PLMN or the HPLMN
S-NSSAI is changed). The AMF may need to separately indicate to the UE that
PDU Sessions will be modified as to avoid the UE to locally release the PDU
Sessions before they are changed. To avoid a new indication in UCU, the AMF
can add the new S-NSSAI in Allowed NSSAI and then trigger a new UCU after step
4, under the assumption that the UE will not start to use the to be removed
S-NSSAI e.g. establishing a new PDU Session, etc.
For the PDU Sessions that can be changed without re-establishment, the SMF
performs PDU Session Modification procedure towards the UE and the NG-RAN
indicating the new S-NSSAI for the PDU Session. For the PDU Sessions that
require the UE to re-establish them, the AMF/SMF indicates to the UE to
perform the re-establishment according to other solutions.
4\. The UE performs PDU Session re-establishment for the PDU Sessions that
could not be changed directly.
### 6.41.4 Impacts on services, entities and interfaces
NG-RAN:
\- No impact.
AMF:
\- Support slice re-mapping.
\- send a message to SMF to trigger a change of S-NSSAI.
SMF:
\- trigger change of S-NSSAI for the PDU Sessions based on AMF request.
NRF:
\- Support discovery of PCF that support slice re-mapping.
PCF:
\- Support slice re-mapping.
UE:
\- Support change of S-NSSAI for serving network while maintaining the PDU
Sessions.
## 6.42 Solution #42: Network controlled change to an alternative S-NSSAI
### 6.42.1 Introduction {#introduction-35}
This solution addresses the bellow requirements from Key Issue #1 \"Support of
Network Slice Service continuity\".
1) No mobility scenario:
Scenario 1b): network slice or network slice instance is overloaded or
undergoing planned maintenance in CN (e.g. network slice termination).
Scenario 1c): network performance of the network slice cannot meet the SLA.
2) Inter RA Mobility scenario:
Scenario 2d): network slice or network slice instance is overloaded in the
target CN.
In any of the scenarios above, it is assumed that a new S-NSSAI (called
alternative S-NSSAI or S-NSSAI-2), which is meant to replace the old S-NSSAI,
is identified to serve the traffic which is currently carried on the old
network slice (e.g. S-NSSAI-1).
NOTE: This solution targets the use case where change of S-NSSAI is required.
The following use cases are not targeted: (a) the same S-NSSAI can be used and
the change of NSI within the S-NSSAI is required or (b) the S-NSSAI change
within a network internal network resource partitioning is required.
If the user traffic from the S-NSSAI-1 can be served over the alternative
network slice (e.g. S-NSSAI-2), then there are several cases how the
alternative S-NSSAI-2 relates to the UE\'s Subscribed S-NSSAI(s) list:
Case A: The S-NSSAI-2 is part of the Subscribed S-NSSAIs and already part of
the Allowed NSSAI.
Case B: The S-NSSAI-2 is part of the Subscribed S-NSSAIs, but not part of the
allowed NSSAI. The Sâ€‘NSSAIâ€‘2 can be added to the Allowed NSSAI, as the
S-NSSAI-2 is supported in the current tracking area (TA).
Case C: The S-NSSAI-2 is not part of the Subscribed S-NSSAIs (in non-roaming
case) or not part of the Configured NSSAI (in roaming case). The UE cannot
request and use S-NSSAI-2 unless the S-NSSAI-2 is not part of the UE\'s
Configured NSSAI.
\- The Case C is also possible when an initial alternative S-NSSAI is part of
the Subscribed S-NSSAIs, but the initial alternative S-NSSAI cannot be added
to the Allowed NSSAI, as the initial alternative S-NSSAI-2 is not supported in
the UE\'s current TA or rejected due to some reason (e.g. due to NSSAA
failure). Then the AMF/NSSF determine another alternative S-NSSAI (e.g.
S-NSSAI-2).
This solution attempts to cover all use cases from above.
### 6.42.2 Functional Description
The solution proposes that the AMF (or together with the NSSF or OAM system)
determines that an old S-NSSAI (e.g. Sâ€‘NSSAIâ€‘1) is unavailable and the
alternative S-NSSAI (e.g. S-NSSAI-2) is available in the current TA and should
be used to replace the S-NSSAI-1. The AMF internally checks the UE network
slice configuration (e.g. Subscribed S-NSSAIs, Allowed NSSAI, Rejected NSSAI)
against the S-NSSAI-2 and the AMF applies one of the following procedures:
1) When the S-NSSAI-2 is part of the UE\'s subscribed S-NSSAIs and S-NSSAI-2
is not part of the rejected NSSAI for the UE (e.g. in the Cases A and B from
clause 6.42.1), it is assumed that the S-NSSAI-2 would be also configured in
the UE\'s URSP rules. Specifically, the URSP rule which is used to establish
the existing PDU Session on S-NSSAI-1 would also include further RSD including
S-NSSAI-2. Therefore, the AMF deduces that the UE configuration with URSP
rules (and Configured NSSAI) allows the UE to use S-NSSAI-2; or in other words
the AMF determines that UE Network Slice reconfiguration is not needed, i.e.
NAS SM procedure can be applied. When the AMF determines that the S-NSSAI-1
becomes unavailable, the AMF triggers SM procedure towards the SMF to indicate
that the PDU Session on S-NSSAI-1 should be released and alternative S-NSSAI
may be used. The SMF indicates to the UE in the NAS SM signalling for PDU
Session release procedure that a new PDU Session can be establish on an
S-NSSAI different from S-NSSAI-1. The UE re-evaluates the URSP rule determines
to use Sâ€‘NSSAIâ€‘2 (as part of a further RSD) for the new PDU Session
establishment. If the S-NSSAI-2 is not part of the Allowed NSSAI, the UE first
performs Registration procedure to request the registration to S-NSSAI-2 and
afterwards the PDU Session establishment procedure.
NOTE: The assumption that the UE is configured with a URSP rule containing an
RSD with S-NSSAI-1 and an RSD with S-NSSAI-2 is justified by the fact that the
UE is subscribed with both S-NSSAI-1 and S-NSSAI-2: Furthermore, the network
is configured/aware that both Sâ€‘NSSAIâ€‘1 and Sâ€‘NSSAIâ€‘2 can server the same user
traffic, but with different slice preferences, at the time of URSP creation in
the PCF.
2) When a first determined alternative S-NSSAI is part of the UE\'s subscribed
S-NSSAIs, but part of the Rejected NSSAI (e.g. due to NSSAA failure), the AMF
may determine another alternative Sâ€‘NSSAI (e.g. Sâ€‘NSSAIâ€‘2) which the UE can
use in the current TA. Furthermore, the S-NSSAI-2 may not be part of the
Subscribed S-NSSAIs of the UE, which means that the S-NSSAI-2 is not part of
the Configured NSSAI. In other words, the UE cannot request, register with,
and use the alternative S-NSSAI-2 which is according to the Case C from clause
6.42.1. When the AMF determines that the S-NSSAI-1 becomes unavailable, the
AMF triggers UE network slice reconfiguration procedure (e.g. UCU procedure)
in order to send a new Configured NSSAI with a corresponding Mapping of the
Configured NSSAI information containing the mapping of S-NSSAI-2 to S-NSSAI-1.
Such slice mapping information can be also applicable in the HPLMN.
Please note that in case the S-NSSAI-1 becomes unavailable and there is
already established PDU Session on S-NSSAI-1, the network anyhow needs to
release the PDU Session independent of the SSC mode of the PDU Session. In
case of PDU Session in SSC modes 1 or 2, the SMF initiates PDU Session release
procedure and may indicate to the UE that an alternative S-NSSAI can be used.
In case of PDU Session in SSC modes 3, the SMF initiates PDU Session
modification procedure and indicates to the UE that an alternative S-NSSAI
should be used. In any of the cases, the service continuity on the application
layer is provided if the application using the PDU Session can manage IP
address change.
### 6.42.3 Procedures
When the old S-NSSAI (e.g. S-NSSAI-1) is not any longer available and the
alternative S-NSSAI (e.g. S-NSSAI-2) is to be used, the Figure 6.42.3-1 shows
how the AMF (or together with NSSF) initiates one of the following procedures:
\- option 1) from the Functional Description which is based on SM procedure in
Cases A and B from clause 6.42.1;
\- option 2) from the Functional Description which is based on MM procedure in
Case C from clause 6.42.1.
Figure 6.42.3-1: Signalling flow for replacing the S-NSSAI-1 with S-NSSAI-2 by
using either SM or MM procedures
The detailed description of the steps is provided as follows:
0a. The UE requests registration with the network and with a network slice
Sâ€‘NSSAIâ€‘1.
0b. The UE initiates the establishment of a PDU Session on S-NSSAI-1. The SMF1
is selected by the AMF to be the serving SMF for the PDU Session.
1\. The AMF determines at least one of: (a) S-NSSAI-1 becomes unavailable and
(b) an alternative S-NSSAI (e.g. S-NSSAI-2) can be used to replace S-NSSAI-1.
The reason why S-NSSAI-1 becomes unavailable can be one of: non-mobility event
(e.g. OAM or NSSF/NF reconfiguration, S-NSSAI-1 will be down due to network
maintenance); or UE mobility event (e.g. the T-AMF does not support
S-NSSAI-1).
The AMF proceeds either with Option 1) in step 2 or with Option 2) in step 4
as described below.
Option 1) (using SM procedure and existing URSP rules):
2a. If the AMF determines that the S-NSSAI-2 is part of the UE\'s subscribed
S-NSSAIs or part of the Configured NSSAI, the AMF assumes that the UE has been
provided with the URSP rules including the use of the Sâ€‘NSSAIâ€‘2. If there is
at least one established PDU Session on S-NSSAI-1, the AMF triggers Session
Management procedure to sends a request to the SMF1 to release the PDU
Session.
2b. The AMF sends to the SMF1 Nsmf_PDUSession_ReleaseSMContext request message
including one or more indications that the S-NSSAI-1 is unavailable and
alternative S-NSSAI may be used.
2c. The SMF1 initiates the PDU Session release procedure in case of SSC mode 1
and 2. In case of SSC mode 3, the SMF1 may trigger PDU Session modification
procedure to trigger the UE to initiate the establishment of a new PDU
Session. In any of the procedures (e.g. PDU Session release/modification
procedure), the SMF includes an indication that the PDU Session may be re-
established on an S-NSSAI different from S-NSSAI-1.
2d. The SMF1 acknowledges to the AMF the release of the PDU Session.
3a. If the S-NSSAI-2 is not part of the Allowed NSSAI (e.g. Case B from clause
6.42.1), the UE first performs Registration procedure to request the
registration to S-NSSAI-2.
3b. The UE re-evaluates the URSP rule and determines a further RSD having an
S-NSSAI different from Sâ€‘NSSAIâ€‘1, i.e. Sâ€‘NSSAIâ€‘2. In Case A from clause 6.42.1
or after step 3a, the UE triggers a new PDU Session(s) establishment according
to the further RSD which contains S-NSSAI-2. The UE sends a NAS message to the
AMF including S-NSSAI-2, and in case of SSC mode 3, the UE includes the old
PDU Session ID.
Option 2) (using MM procedure for UE network slice reconfiguration):
4a. If the determined alternative S-NSSAI cannot be potentially included in
the Allowed NSSAI for the UE (e.g. due to stored NSSAA failure result or
available S-NSSAIs in the current UE\'s TA) as per Case C from clause 6.42.1,
the AMF may determine yet another alternative S-NSSAI (e.g. S-NSSAI-2) not
part of the UE\'s Subscribed S-NSSAIs; or the AMF simply determines an
alternative Sâ€‘NSSAI-2 which is not part of the UE\'s Subscribed S-NSSAIs. Then
the AMF determines to configure the UE to use the S-NSSAI-2 in addition to
S-NSSAI-1, i.e. by applying the network slice mapping mechanisms to configure
the UE to use S-NSSAI-2 wherein the S-NSSAI-2 is mapped to the S-NSSAI-1.
If the NSSF is responsible to determine the Configured NSSAI, Allowed NSSAI
and/or Rejected NSSAI, the AMF sends a Nnssf_NSSelection_Get request service
operation to the NSSF including an additional indication that an alternative
S-NSSAI to S-NSSAI-1 is required. The NSSF may determine the S-NSSAI-2 to
replace S-NSSAI-1, the NSSF may create the Configured NSSAI and Allowed NSSAI
with the corresponding mapping information and send them to the AMF.
4b. The AMF triggers the UE Configuration Update (UCU) Command procedure where
the AMF may include a new Configured NSSAI containing S-NSSAI-2 and in
addition mapping information of S-NSSAI-2- to S-NSSAI-1; and new Allowed NSSAI
with corresponding mapping of Allowed NSSAI information.
NOTE: The AMF can wait with step 4b until the established PDU Session on
S-NSSAI-1 is not in active state (e.g. the user plane resources are not
activated). This would allow the UE to establish new PDU Session(s) and
terminate the existing PDU Session(s) while there is no user traffic to be
sent over the PDU Session(s).
5a. The UE internally determines to trigger the establishment of new PDU
Session(s) for the user traffic which is currently routed to the S-NSSAI-1. If
the S-NSSAI-2 is not part of the Allowed NSSAI, the UE first performs
Registration procedure to request the registration to S-NSSAI-2.
5b. The UE applies the same URSP rule and same RSD, but the UE includes the
S-NSSAI-2 and the mapping information of S-NSSAI-2 to Sâ€‘NSSAIâ€‘1 in the NAS
message to the AMF. The UE creates the PDU Session establishment request
according the matching URSP and the UE includes it the N1 SM container in the
NAS message to the AMF.
5c. The SMF2 uses the mapped S-NSSAI value (e.g. S-NSSAI-1) from the slice
mapping information received from the UE to retrieve the UE subscription data
from the UDM.
After some time when the AMF may determines that S-NSSAI 1 can be used again,
the AMF would perform the UCU procedure to configure the UE to use the
S-NSSAI-1 again.
### 6.42.4 Impacts on services, entities and interfaces
Impacts to the AMF:
\- Determine whether to trigger (a) Session Management procedure (if the
S-NSSAI-2 is configured in the UE), or (2) Mobility Management procedure (if
the S-NSSAI-2 is not configured in the UE).
\- The AMF is able to determine whether a potentially alternative S-NSSAI can
be included in the Allowed NSSAI for the UE (e.g. by checking the stored
results of NSSAA procedure).
\- In case of option 1), i.e. SM procedure, the AMF indicates to the SMF that
PDU Session re-establishment on S-NSSAI different from the S-NSSAI-1.
Impacts to the NSSF:
\- In case of option 2), i.e. MM procedure, and NSSF is involved, the ability
to create alternative S-NSSAI to an original S-NSSAI, e.g. creating a new
mapped S-NSSAI information.
Impacts to the SMF:
\- In case of option 1), i.e. SM procedure, the ability to indicate to the UE
in the PDU Session release/modification procedure that the PDU Session can be
re-established on S-NSSAI different from the S-NSSAI-1.
Impacts to the UE:
\- In case of option 1), if another RSD of the same URSP rule is available
containing an S-NSSAI different from S-NSSAI-1, the UE uses such RSD to re-
establish the PDU Session.
\- In case of option 2), there are impacts to the 5GC Network Functions but
**no impacts** to the UE as the current UE specification supports the
\"Mapping Of Allowed NSSAI\", \"Mapping Of Configured NSSAI\" and the change
of them.
## 6.43 Solution #43: Allowed NSSAI Determination in Initial Registration to
Support Network Slice Service Continuity
### 6.43.1 Introduction {#introduction-36}
The solution aims to address Key Issue #1: Support of network slice service
continuity.
1) No mobility scenario:
Scenario 1b): network slice or network slice instance is overloaded or
undergoing planned maintenance in CN (e.g. network slice termination).
Scenario 1c): network performance of the network slice cannot meet the SLA.
2) Inter RA Mobility scenario:
Scenario 2d): network slice or network slice instance is overloaded in the
target CN.
### 6.43.2 Functional Description
This solution allows AMF to obtain a secondary NSSAI related to each S-NSSAI
in Allowed S-NSSAI during registration procedure. The value of secondary NSSAI
is decided by the AMF through querying NSSF. NSSF determines secondary NSSAI
based on the slice load, UE subscription, etc. The AMF then stores the mapping
between the secondary NSSAI and Allowed NSSAI that UE can access in current
registration area, and UE will not need to re-visit the NSSF every time the
value of secondary NSSAI needed unless the stored information in AMF cannot
determine the secondary NSSAI in the current situation, e.g. the access type
changes, the mapping information stored in the AMF is missing/expired, UE
subscription changes or UE has moved out of current registration area, etc.
The secondary NSSAI is also part of Allowed S-NSSAI, so the Allowed S-NSSAI
consists two parts: S-NSSAIs of network slices which UE can access in current
registration area and S-NSSAIs (i.e. secondary S-NSSAI) which network operator
deploy to support slice continuity. USRP provided to UE contains only first
part.
In no mobility scenario, AMF will trigger network slice PDU session change to
the new secondary NSSAI.
In mobility scenario, the mapping information is provided from the source AMF
to the target AMF during handover procedure, if the target AMF cannot support
all the allowed NSSAI and secondary NSSAI, it will request to the NSSF in the
registration procedure to ask for a new mapping information in current
tracking area, make sure the new target AMF can also support the service
continuity.
### 6.43.3 Procedures
#### 6.43.3.1 Secondary NSSAI Determination
Figure 6.43.3.1-1: Secondary NSSAI information obtained during initial
registration procedure
1: UE carries the Requested NSSAI to initiate the initial registration
process.
2: If the current Initial AMF needs to obtain the UE subscription information
to perform the redirection/reroute process, the AMF initiates a Nudm_SDM_Get
request to obtain the UE subscription information.
3: UDM returns the subscription information of the UE.
4: Initial AMF carries the Requested NSSAI, Subscribed NSSAI, TAI and other
information to initiate a Nnssf_NSSelection_Get request to obtain relevant
network slice selection information.
5: NSSF returns Initial AMF related information, including: Allowed NSSAI,
Secondary NSSAI mapping with Allowed NSSAI UE can access in current
registration area, AMF Set or AMF address list, NSI-ID. NSSF can determine a
secondary NSSAI for each Subscribed NSSAI by considering UE location,
subscription and some other information.
6: Initial AMF performs AMF redirection, and transmits the network slice
selection information to the target AMF, including: Allowed NSSAI, Secondary
NSSAI mapping corresponding to Allowed NSSAI UE can access in current
registration area, AMF Set or AMF address list, NSI-ID. In this step, Target
AMF stores the mapping messages of Allowed NSSAI UE can access in current
registration area and Secondary NSSAI returned by NSSF, avoiding query NSSF
every time UE registered into the network.
7,8: The rest of the registration procedure.
#### 6.43.3.2 PDU Session Transferred to a New Network Slice in No Mobility
Scenario
Figure 6.43.3.2-1: PDU Session transferred to a new network slice in no
mobility scenario
1: AMF decides to trigger PDU session handover to secondary NSSAI when the SLA
cannot meet or the CN in overloaded. The determination of Secondary NSSAI is
according to the relationship stored inside AMF during registration procedure.
2: AMF triggers the PDU session Modification process, the AMF send secondary
NSSAI to S-SMF in smf_PDUSession_UpdateSMContext request.
4-10. The rest of PDU session management procedures in different SSC mode in
clause 4.3.5 of TS 23.502 [5].
#### 6.43.3.3 PDU session transferred to a new network slice in mobility
scenario
Figure 6.43.3.3-1: PDU Session transferred to a new network slice in no
mobility scenario
1: S-RAN determines to execute the N2 relocation process
2: S-RAN sends a handover request to S-AMF
3: During the T-AMF selection process, the corresponding relationship between
the Secondary NSSAI and the Allowed NSSAI originally stored in the S-AMF is
sent to the T-AMF.
After the information is received by T-AMF, it compares with the corresponding
relationship stored by itself. If it is consistent with the corresponding
relationship stored in the current T-AMF, then continue the rest of handover
procedure; if it is inconsistent with the corresponding relationship stored in
the current T-AMF, there are following possibilities:
Existed relationship inside T-AMF includes all the Allowed NSSAI in S-AMF but
the value of Secondary NSSAI is different, the T-AMF will perform following
service continuity process according to the existed relationship and delete
the received information from S-AMF;
Existed relationship in T-AMF does not include all the Allowed NSSAI in S-AMF,
T-AMF will query NSSF in the following registration procedure after handover
complete as described in clause 4.9.1.3.3 of TS 23.502 [5], even if AMF re-
allocation is not needed any more, to obtain the latest Secondary NSSAI and
Allowed NSSAI related information at UE\'s current location area.
4: Rest of the RAN handover procedures.
5, 6: Similar to the No mobility scenario, AMF triggers the migration of
network slices when it finds that the current SLA is not satisfied or the CN
load is insufficient as described in clause 6.43.3.2.
### 6.43.4 Impacts on services, entities and interfaces
The following impacts have been identified:
AMF:
\- Support storage of secondary NSSAI information obtained in initial
registration procedure;
\- Send original secondary NSSAI information from S-AMF to T-AMF during RAN
handover and related processing.
NSSF:
\- Decide value of secondary NSSAI during initial registration procedure.
SMF:
\- Trigger PDU session modification when receiving secondary NSSAI from AMF.
UE, NG-RAN:
\- Handling PDU session modification which related to the secondary NSSAI.
## 6.44 Solution #44: Controlling UE access to the network per Network Slice
on a per cell level granularity
### 6.44.1 Introduction {#introduction-37}
The solution addresses the \"Network Slice Area of Service for services not
mapping to existing TAs boundaries\" of the Key Issue #3: Network Slice Area
of Service for services not mapping to existing TAs boundaries and Temporary
network slices.
### 6.44.2 Functional Description
The solution provides two mechanisms to select among for addressing the case
when Network Slice Area of Service for services not mapping to existing TAs
boundaries.
The two mechanisms are summarized as follows:
1\. Extend Access and mobility related policy information such that Service
Area Restrictions can be set per S-NSSAI on a per cell level granularity. UDM
can set Service Area Restrictions per subscribed S-NSSAI and also indicate the
geographical information (e.g. longitude/latitude, zip code, etc) or (for non-
roaming) list of cells, As per current logic the PCF can adjust the Service
Area Restrictions, and then AMF sends the Service Area Restrictions to the UE.
The UE then applies the Service Area Restrictions possibly on a per network
slice and cell granularity.
### 6.44.3 Procedures
#### 6.44.3.1 General
During initial registration the UE indicates that the UE is supporting the
extended functionality i.e. URSP, Service Area Restrictions The AMF applies
current logic and if the UE requests or subscribes to S-NSSAIs that are
applicable for the extended location restriction and the UE does not support
the extended functionality, the network decides whether to provide the
applicable S-NSSAI in Allowed NSSAI and Configured NSSAI to the UE. The
decision can be implemented as operator policy in AMF, or decided by another
NF e.g. UDM, NSSF or PCF in which case the UE support needs to be forwarded to
the NF.
Figure 6.44.3.1-1. Registration procedure for Service Area Restrictions
The initial registration procedure is executed as in clause 4.2.2.2.2 of TS
23.502 [5] with the following differences.
1\. The UE indicates the UE\'s capability to support the extended location
restriction functionality in the Registration message e.g. in the UE 5GMM Core
Network Capability.
2\. No changes to steps 2 to 14a in clause 4.2.2.2.2 of TS 23.502 [5].
3\. If UDM is to be able to decide whether to provide S-NSSAIs applicable for
extended location restriction to the UE, then AMF indicates whether the UE and
serving network supports the extended location restriction functionality.
4\. The UDM can provide Service Area Restrictions with per S-NSSAI
restrictions. The location information can be as currently, geographical
information (e.g. longitude/latitude, zip code, etc) or list of cells. The UDM
can adapt the content based on the knowledge whether the UE and serving
network supports the extended location restrictions.
5\. For the Service Area Restrictions option, the AMF provides the subscribed
Service Area Restrictions to the PCF and the PCF can adapt the content.
6\. No changes to steps 14c to 20 in clause 4.2.2.2.2 of TS 23.502 [5].
7\. AMF provides the extended Service Area Restrictions to the UE.
8\. The UE stores the extended location restrictions and enforces the
information.
For the extended Service Area Restrictions option, the UE applies the Allowed
or Non-Allowed Area per S-NSSAI and the granularity per list of cells
The NG-RAN enforces the extended location restrictions for Service Area
Restrictions. The AMF enforces the extended location restrictions for the
Service Area Restrictions option
10\. In step 22 the UE can additionally report that the extended location
restrictions been stored. No additional changes to steps 21b to 25 in clause
4.2.2.2.2 of TS 23.502 [5].
#### 6.44.3.2 Mobility procedures
The NG-RAN gets the extensions as part of the Mobility Restriction List (that
is extended with per S-NSSAI and per cell restrictions) and the Mobility
Restrictions for CM-CONNECTED state when in RRC-Connected state are executed
by the radio access network and the core network such that UP for the
associated S-NSSAIs are not allowed to be activated (as per current
procedures).
### 6.44.4 Impacts on services, entities and interfaces
NG-RAN:
\- Support extended location restrictions for the Service Area Restrictions
option.
AMF:
\- Support extended location restrictions.
PCF:
\- Support extension with a per cell level granularity per network slice for
Service Area Restrictions.
UE:
\- Support extended location restrictions and indicate the UE\'s support for
e.g. support Service Area Restrictions on a per S-NSSAI and cell level
granularity.
UDM:
\- Service Area Restrictions per subscribed S-NSSAI.
## 6.45 Solution #45: Constrained Service Area for the Network Slice
### 6.45.1 Introduction {#introduction-38}
This solution addresses KI#3: Network Slice Area of Service for services not
mapping to existing TAs boundaries, and temporary network slices.
When the area of services over a network slice does not match the existing
Tracking Area boundaries, the Constrained Service Area for Network Slice
(CSANS) with cell granularity per S-NSSAI is proposed to improve the radio
resources usage and avoid the complexity of TA reallocation for the network
slice with a limited lifetime. Dedicated resources may not be allocated for
the network slice in the cell(s) belonging to the CSANS in which the services
related to the user plane are allowed without SLA guarantee, according to the
operator\'s policy**.**
### 6.45.2 Functional Description
The Constrained Service Area information for the network slice is configured
in NG-RAN by the OAM. The Constrained Service Area per S-NSSAI includes the
Cell IDs of the cell(s), which belong to the CSANS. The uniform support of the
network slice within a TA is not changed. For the cells both in the TA and the
CSANS, the network slice is available, but without dedicated resources. For
the cells within the TA but outside the CSANS, dedicated resources are
allocated for the network slice to guarantee the SLA of the services.
After the network slice with corresponding CSANS is deployed and subscribed by
the UE, the UE includes the S-NSSAI in the Requested NSSAI and obtains an
Allowed NSSAI including the S-NSSAI after registration procedure, when the UE
is in a Tracking Area supporting the S-NSSAI, no matter the UE is currently in
a cell belonging to the CSANS or not. To avoid protocol impact on the UE, the
CSANS information is not to be sent to the UE.
To avoid unnecessary service interruption or experience deterioration, the NG-
RAN should prevent the UE with active PDU session related to the S-NSSAI from
entering into the CSANS unnecessarily.
### 6.45.3 Procedures
#### 6.45.3.1 Configuration of Constrained Service Area information
When the area of services over the network slice does not match the existing
deployed TA boundaries, the Constrained Service Area information is configured
in the NG-RAN.
The uniform support of the network slice within a TA is not changed. If in the
TA there is any cell not in the area of services over a specific network
slice, the NG-RAN is configured with the Constrained Service Area information
of the network slice.
NOTE: There may be two ways to indicate the Constrained Service Area
information: Either using Constrained Service Area per S-NSSAI as a list of
cell(s) out of the area of services, or vice visa, using Service Area per
S-NSSAI as a list of cell(s) in the area of services.
#### 6.45.3.2 UE mobility
When the UE is in a Tracking Area supporting the S-NSSAI, no matter whether
the UE is currently in a cell belonging to the CSANS or not, the UE obtains
Allowed NSSAI including the S-NSSAI after registration with the Requested
NSSAI, which may include the S-NSSAI related to the CSANS.
In order to avoid unnecessary service interruption or experience
deterioration, the handover procedure should be optimized for the PDU session
in the network slice related to the CSANS. If the radio quality of any cell
out of the CSANS is acceptable, the NG-RAN removes the neighbour cell
belonging to the CSANS from the target cell list for handover to prevent the
UE with active PDU session related to the S-NSSAI from unnecessarily entering
into a cell belonging to the CSANS.
NOTE: The handover optimization procedure depends on the RAN WG.
### 6.45.4 Impacts on services, entities and interfaces
RAN:
\- Prevent the UE from entering into a cell belonging to the CSANS
unnecessarily when any PDU session related to the S-NSSAI has an active user
plane.
\- Keep the configuration of the Constrained Service Area information.
## 6.46 Solution #46: Controlling network slice based on UE\'s inactive PDN
connection
### 6.46.1 Introduction {#introduction-39}
This solution is an additional enhancement to all the solutions where the
network will release the existing PDN connection on the detection of PDN
inactivity.
### 6.46.2 Functional Description
**Implicit deactivation approach:**
In this approach all the existing solution suggests that PDU session
inactivity timer will run at both UE & SMF. After expiry of this timer both UE
& SMF implicitly release the existing PDU session upon detection of PDU
inactivity.
Now it is suggested that when UE is attached to EPC and having one established
PDN connections then both UE and SMF+PGW-C release the existing PDN connection
upon detection of PDN inactivity.
**Explicit deactivation approach:**
In this approach all the existing solution suggests that PDU session
inactivity timer will run only at SMF. After expiry of this timer SMF will
release the existing PDU session by explicitly informing to UE upon detection
of PDU inactivity.
Now it is suggested that when UE is attached to EPC and having one established
PDN connections then SMF+PGW-C release the existing PDN connection upon
detection of PDN inactivity by explicitly informing to UE.
### 6.46.3 Procedures
There is no new procedures for this solution. The existing solution procedures
applicable with below difference:
SMF -> SMF+PGW-C.
UPF -> UPF+PGW-U.
PDU Session -> PDN Connections.
5GS -> EPS.
### 6.46.4 Impacts on services, entities and interfaces
SMF+PGW-C:
\- A new trigger for the PDN connection release procedure is added.
\- Providing implicit PDN connection deactivation timer to UE during PDN
connection establishment procedure in the case of implicit deactivation
approach.
\- Configuring the PDN connections inactivity timer at the UPF+PGW-U for the
explicit deactivation approach.
# 7 Overall Evaluation
## 7.1 Evaluation for KI#1
Solutions #1, #2, #3, #4, #5, #15, #32, #40, #41, #42 and #43 are documented
to address all or some of the scenarios 1b), 1c) and 2d) from the KI#1
description.
The Table 7.1-1 shows the evaluation of the solutions.
Editor\'s note: The evaluation in Table 7.1-1 is based on the TR 23.700-41
version V1.0.0. Updates to the solutions in future TR versions can result in
update to the evaluation in the Table 7.1-1.
Table 7.1-1: Evaluation of solutions for Key Issue 1
+----------------------------------+----------------------------------+ | Solution #1 | The main principle is that a PDU | | | session can be associated with | | Additional S-NSSAI associated | multiple S-NSSAIs in the network | | with the PDU session | (i.e. NG-RAN, AMF, SMF, UPF). | | | During PDU session establishment | | | or HO procedure, the AMF | | | notifies the new S-NSSAI to SMF. | | | The SMF provides the new S-NSSAI | | | to the NG-RAN. The network does | | | not notify the change of S-NSSAI | | | in the UE while NG-RAN, AMF, SMF | | | and UPF update the S-NSSAI of | | | the PDU Session. | | | | | | The solution applies to certain | | | deployments where the old | | | S-NSSAI and the new S-NSSAI are | | | associated with the same NSI | | | (e.g. the new S-NSSAI uses | | | shared resource of the NSI, | | | whereas the old S-NSSAI uses | | | dedicated resource of the NSI). | | | One benefit is that the network | | | can apply the procedure of PDU | | | Session transfer to the new | | | S-NSSAI for legacy UEs, as there | | | are no UE impacts. | | | | | | This solution requires that the | | | new S-NSSAI is part of the | | | Allowed NSSAI. | | | | | | The solution assumes that all | | | the S-NSSAIs supporting slice | | | remapping establish end-to-end | | | availability in the combination | | | of OAM and signalling among | | | network functions, i.e. the SMF | | | and the UPF shall always support | | | both original S-NSSAI and new | | | S-NSSAI. | | | | | | This solution uses different | | | S-NSSAI towards the UE compared | | | to S-NSSAI used in the network. | +==================================+==================================+ | Solution #2 | The main principle is that the | | | AMF derive a new/alternative | | Slice Re-mapping Capabilities | S-NSSAI for a congested S-NSSAI | | for Network Slice Service | optionally requesting the AM PCF | | Continuity | (which specifically supports | | | slice re-mapping), where the | | | new/alternative S-NSSAI has to | | | support the same DNN, DNAI and | | | selected within Allowed NSSAI. | | | Then, the AMF requests the | | | current SMF to change the PDU | | | Session to the new S-NSSAI. The | | | SMF triggers the PDU session | | | transfer to the new S-NSSAI | | | without UPF relocation (i.e. | | | Option 1, re-use the existing | | | PDU session) and with UPF | | | relocation (i.e., Option 2, new | | | PDU session established similar | | | to SSC mode 3) based on the SSC | | | mode of the PDU session and | | | sends to the UE a PDU Session | | | Modification Request including | | | the corresponding cause value | | | and the new S-NSSAI. | | | | | | The solution also proposes to | | | update the URSP rules of the UE | | | by means of UE Policy PCF | | | trigger of slice re-mapping | | | event. Further, in the solution, | | | AM PCF based new S-NSSAI | | | selection requires that the AM | | | PCF has knowledge about the | | | S-NSSAIs configuration. | | | | | | It is not specified when the AMF | | | triggers the slice remapping | | | procedure. | | | | | | Besides, the UE may not use | | | updated URSP immediately. It is | | | unclear how the service | | | continuity is supported in this | | | case. | +----------------------------------+----------------------------------+ | Solution #3 | The main principle is that the | | | AMF determines the need to | | Support of Network Slice Service | exchange old/original S-NSSAI 1 | | continuity using a SSC mode 3 | with a new/alternative S-NSSAI 2 | | type of Service continuity | (and in case of mobility to | | | T-RAN, the T-RAN temporarily | | | accepts the PDU Session of | | | Sâ€‘NSSAI 1 and indicates in the | | | Path Switch Request to the AMF | | | an alternative S-NSSAI 2). The | | | AMF triggers UCU procedure to | | | the UE to include both Sâ€‘NSSAI 1 | | | and Sâ€‘NSSAI 2 in the Allowed | | | NSSAI, and afterwards the AMF | | | notifies the SMF about the end | | | of usage of Sâ€‘NSSAI 1 and to use | | | the new Sâ€‘NSSAI 2. | | | | | | The solution proposes to notify | | | the UE of slice re-mapping by | | | enhancing the Allowed NSSAI | | | format and using the NAS MM | | | signalling, and in addition, the | | | solution proposes to also use SM | | | signalling from the SMF (SSC | | | mode 3 like procedure) to update | | | the UE about the Sâ€‘NSSAI | | | change/remapping. The question | | | is whether a single NAS | | | signalling is not enough to | | | reconfigure the UE about the | | | S-NSSAI change, i.e. either | | | using NAS MM or NAS SM | | | signalling may be sufficient. As | | | the network slice configuration | | | is performed in the NAS | | | MM-sublayer, it would aligned | | | with the existing network slice | | | configuration to use the NAS MM | | | signalling from the AMF to the | | | UE. | | | | | | Additionally, it is not clear | | | whether the impacts to the | | | NG-RAN (notification about slice | | | re-mapping) are required, since | | | there is no NG-RAN specific | | | behaviour to support slice | | | re-mapping. The AMF itself can | | | determine the alternative | | | S-NSSAI 2 as in other solutions | | | (e.g. solution #1, 32, 42, | | | etc.). | | | | | | How to do slice remapping for N2 | | | based handover is FFS. | +----------------------------------+----------------------------------+ | Solution #4 | [Non-mobility use case] During | | | new PDU Session Establishment, | | PDU Session on compatible | if there are further RSDs for | | network slice | the matching URSP rule, the UE | | | includes in the NAS message to | | | the AMF an alternative S-NSSAI | | | (which is stored in the UE\'s | | | context in the AMF). If the | | | original S-NSSAI is congested, | | | the AMF may use the alternative | | | S-NSSAI to select an SMF and | | | continue with the PDU Session | | | establishment on the alternative | | | S-NSSAI. | | | | | | The solution covers the use case | | | of a new PDU Session | | | establishment. The following | | | analysis is provided: | | | | | | - If the alternative S-NSSAI | | | (sent from the UE to the AMF) is | | | part of the Rejected NSSAI or | | | not available in the current TA, | | | the AMF cannot use such | | | UE-indicated alternative | | | S-NSSAI. Therefore, the AMF | | | itself is required to have the | | | ability to determine an | | | appropriate alternative S-NSSAI. | | | As result, the indication of the | | | alternative S-NSSAI from the UE | | | to the AMF applies to limited | | | scenarios and it is not | | | necessarily needed. | | | | | | - It is proposed that for a new | | | PDU Session establishment on the | | | old/current S-NSSAI, the AMF | | | determines to apply the | | | new/alternative S-NSSAI and | | | select an SMF accordingly. It is | | | not clear what is the UE | | | behaviour when the UE receives | | | the PDU Session Establishment | | | Accept message with an S-NSSAI | | | different from the requested | | | S-NSSAI. Also, the UE may have | | | applied cell selection using | | | NSAG feature for the old | | | S-NSSAI, however, the new | | | S-NSSAI may be served preferably | | | on another cell/frequency layer. | | | Therefore, it may be more | | | efficient if the AMF rejects the | | | new PDU Session establishment | | | request with an indication to | | | the UE to use the | | | new/alternative S-NSSAI | | | replacing the old S-NSSAI; and | | | then the UE would apply the new | | | S-NSSAI for the PDU Session | | | establishment appropriately. | | | | | | This solution is not applicable | | | when the matching URSP rule, | | | which triggers the PDU Session | | | establishment, is associated | | | with a single S-NSSAI in the | | | URSP rule. | +----------------------------------+----------------------------------+ | Solution #5 | [Mobility use case, scenario | | | 2d] This solution is similar to | | PDU session handover to a target | solution #4 with the addition | | CN with an alternative S-NSSAI | that the T-AMF may select a | | support | different SMF based on the | | | alternative S-NSSAI, if the PDU | | | Session switches to an | | | alternative S-NSSAI. The old SMF | | | triggers PDU Session | | | modification procedure. | | | | | | It is unclear how (e.g. in step | | | 7) the T-AMF selects a new SMF | | | and in parallel the old SMF | | | triggers PDU Session | | | modification procedure, i.e. it | | | seems there is concurrent SM | | | signalling for the same PDU | | | Session. Also, during the | | | Registration procedure with the | | | T-AMF, it is not clear whether | | | and how the UE includes the | | | alternative S-NSSAI in the | | | Requested NSSAI. | | | | | | This solution is not applicable | | | when the matching URSP rule, | | | which triggers the PDU Session | | | establishment, is associated | | | with a single S-NSSAI in the | | | URSP rule. | +----------------------------------+----------------------------------+ | Solution #15 | It is assumed that multiple NSIs | | | are deployed for the same | | Service continuity in case of | S-NSSAI. The current NSI | | Network Slice instance overload | selection is done without being | | | able to consider load balancing | | | after the UE registration/PDU | | | Session Establishment. The | | | solution describes how the NSI | | | can be changed. When the | | | existing PDU session is decided | | | as to be migrated to another | | | Network Slice instance, the SMF | | | performs PDU Session | | | re-establishment by using the | | | mechanism of SSC mode#2 or SSC | | | mode#3. Then the PDU session | | | establishment request arrives at | | | the AMF, the AMF removes from | | | the UE context the old NSI ID | | | and the AMF can select another | | | NSI. | | | | | | This solution is not applicable | | | for SSC mode#1. The service | | | continuity is ensured at | | | application layer. | +----------------------------------+----------------------------------+ | Solution #32 | Three options are described in | | | this solution: | | Solution for Network Control for | | | UE Slice Use | - Option 1: the UE-initiated | | | procedure, i.e. when the UE | | | establishes a new PDU Session | | | the UE is configured to use the | | | new S-NSSAI. The new S-NSSAI is | | | provided to the UE by the AMF | | | during enhanced UCU procedure | | | indicating that PDU session | | | transfer is requested from an | | | old S-NSSAI (i.e. to be removed) | | | to the new S-NSSAI. | | | | | | - Option 2: AMF-initiated | | | procedure towards SMF, i.e. the | | | AMF notifies the SMF to initiate | | | SSC mode 3 like procedure so | | | that the UE triggers PDU Session | | | Establishment by using target | | | slice. This option is similar to | | | solutions # 2, 3, 4, 5. | | | | | | - Option 3: PCF-initiated | | | procedure, i.e. the PCF notifies | | | the SMF that an alternative | | | S-NSSAI is to be used. As in | | | Option 2, the SMF uses enhanced | | | NAS SM procedure to notify the | | | UE to initiate a new PDU session | | | towards the alternative S-NSSAI. | | | | | | For the UE-initiated option, it | | | is not clear how to apply the | | | procedure for existing PDU | | | Sessions. If Option 1 and | | | Option 2 are combines, then the | | | result would be similar to | | | Solution #3. Please refer to | | | the evaluation of solution #3. | | | | | | Option 3 is similar to and | | | solution #40. Therefore similar | | | evaluation would apply as to | | | solution #2 and solution #40. | | | | | | The impact of overriding of the | | | SSC mode is FFS. | +----------------------------------+----------------------------------+ | Solution #40 | The main principle is that the | | | PCF determines (e.g. triggered | | S-NSSAI change decided by PCF | by a SMF or NWDAF) whether the | | | S-NSSAI associated to an ongoing | | | PDU session needs to be changed | | | and which is the | | | alternative/replacement S-NSSAI. | | | Then, the PCF provides the | | | suggested new S-NSSAI to the | | | SMF, and the SMF initiates the | | | modification of the PDU session | | | and notifies the AMF. | | | | | | The solution addresses scenarios | | | 1b) and 1c). | | | | | | The PCF for a Session may only | | | serve the original S-NSSAI. It | | | is not clear how the PCF can | | | determine the new S-NSSAI in the | | | roaming case and how the PCF can | | | decide the mapped new S-NSSAI. | +----------------------------------+----------------------------------+ | Solution #41 | The main principle is that the | | | AMF determines the | | Network Slice change without | new/alternative S-NSSAI to be | | service interruption | used to replace the congested | | | S-NSSAI and: | | | | | | - (option 1) if the current SMF | | | (PSA) supports the new S-NSSAI | | | and the capability to change | | | S-NSSAI, then AMF requests SMF | | | to change to the new S-NSSAI. | | | The SMF initiates SM procedure | | | towards the UE to notify the UE | | | that the S-NSSAI has been | | | changed. This case is similar to | | | solution #2, but solution #41 | | | informs the UE about the S-NSSAI | | | change. | | | | | | - (option 2) if the current SMF | | | (PSA) does not support the new | | | S-NSSAI and/or the capability to | | | change S-NSSAI, the AMF invokes | | | procedure to initiate PDU | | | Session transfer using any SSC | | | mode as described by other | | | solutions (e.g. solutions 3, 4). | | | | | | The solution addresses scenarios | | | 1b, 1c, 2d. | | | | | | In option 1, similar as Solution | | | #2, it is not clear what is the | | | behaviour of the UE after | | | receiving the PDU Session | | | Modification request from the | | | SMF indicating change of the | | | S-NSSAI. | +----------------------------------+----------------------------------+ | Solution #42 | The main principle is that the | | | AMF (or together with the NSSF | | Network controlled change to an | or OAM system) determines an | | alternative S-NSSAI | alternative S-NSSAI (e.g. | | | S-NSSAI-2) which is available in | | | the current TA and can be used | | | by the UE (e.g. S-NSSAI is not | | | part of the Rejected NSSAI, or | | | NSSAA has failed, etc.). If the | | | NSSF is used to determine the | | | alternative S-NSSAI, the AMF may | | | include a new indication to the | | | NSSF that an alternative S-NSSAI | | | to S-NSSAI-1 is required (this | | | is similar to solution #43). | | | Two options are proposed: | | | | | | - (Option 1) If the S-NSSAI-2 | | | is part of the UE\'s subscribed | | | S-NSSAIs, it is assumed that the | | | Sâ€‘NSSAI-2 is part of further RSD | | | the same URSP rule which is used | | | for established PDU Session. The | | | AMF triggers SM procedure | | | towards the SMF to indicate that | | | the PDU Session on S-NSSAI-1 | | | should be released and | | | alternative S-NSSAI may be used. | | | The SMF releases the PDU Session | | | with an indication to the UE to | | | establish the PDU Session on an | | | alternative S-NSSAI. | | | | | | - (Option 2) If the S-NSSAI-2 | | | is not part of the UE\'s | | | Subscribed S-NSSAIs, the AMF | | | triggers UE network slice | | | reconfiguration procedure (e.g. | | | UCU procedure) in order to send | | | a new Configured NSSAI with a | | | corresponding Mapping of the | | | Configured NSSAI information | | | containing the mapping of | | | S-NSSAI-2 to S-NSSAI-1 (and | | | Mapping Of the Allowed NSSAI). | | | The AMF may wait with the UE | | | reconfiguration when the PDU | | | Session(s) on the old S-NSSAI | | | are inactive. | | | | | | In Option 1, it is not assured | | | that the URSP rule includes an | | | RSD with S-NSSAI-2 and also, the | | | Option 1 works only when the RSD | | | with S-NSSAI-2 in the URSP rule | | | is configured to match the | | | traffic to be moved in | | | S-NSSAI-1. Therefore, it may be | | | more deterministic if the option | | | 2 is always performed, i.e. the | | | UE should be updated to include | | | in the Allowed NSSAI the | | | S-NSSAI-2 and the mapping of | | | S-NSSAI-2 to S-NSSAI-1. There | | | can be another alternative that | | | S-NSSNI-2 is part of Configured | | | S-NSSAI then legacy behaviour | | | can be used. | | | | | | In Option 2, in addition to the | | | MM reconfiguration in the UE, in | | | case of existing PDU Session(s) | | | on the old S-NSSAI-1, the AMF | | | may indicate to the SMF that an | | | explicit PDU Session release is | | | required and the SMF releases | | | the current PDU Session with | | | re-establishment indication. | | | This results in more | | | deterministic behaviour that the | | | UE riggers a new PDU Session | | | establishment to the old S-NSSAI | | | with a mapped new S-NSSAI value, | | | i.e. not relying on the UE | | | implicit trigger of PDU Session | | | re-establishment after receiving | | | the new Allowed NSSAI. | | | | | | Option 2 describes that the | | | S-NSSAI-2 is provided to the UE | | | in the Mapping Of | | | Configured/Allowed NSSAI\" | | | information when the S-NSSAI-2 | | | is not within the Subscribed | | | S-NSSAI to UE. However, if the | | | S-NSSAI-2 is part of the | | | Subscribed S-NSSAIs, the Mapping | | | of the Allowed NSSAI information | | | can be also provided to the UE, | | | similar to solutions #3 and | | | #32. | | | | | | The S-NSSAI-2 may not be part of | | | the Subscribed S-NSSAIs in the | | | scenarios where the UE has a | | | single Subscribed S-NSSAI, | | | namely S-NSSAI-1. | +----------------------------------+----------------------------------+ | Solution #43 | The AMF queries the NSSF to | | | obtain alternative S-NSSAI for | | Allowed NSSAI Determination in | each S-NSSAI of the Allowed | | Initial Registration to Support | NSSAI. The Allowed NSSAI, which | | Network Slice Service Continuity | is sent to the UE, contains two | | | parts: (1) S-NSSAIs of network | | | slices which UE can access and | | | (2) alternative S-NSSAIs to | | | support slice continuity. The | | | USRP provided to UE contains | | | only the part (1). | | | | | | It may be inefficient to always | | | query the NSSF about the | | | alternative S-NSSAI for each | | | S-NSSAI from the Allowed NSSAI, | | | since the cases to use the | | | alternative S-NSSAI are rather | | | rare, and therefore, it is | | | considered more efficient to | | | query the alternative S-NSSAI | | | from the NSSF on demand. | | | | | | This solution does not describe | | | how the UE uses this secondary | | | S-NSSAI in the allowed NSSAI, | | | i.e. whether the existing \" | | | Mapping Of Allowed NSSAI\" | | | information is used. | +----------------------------------+----------------------------------+
Regarding the Network Function, which determines the alternative S-NSSAI to
replace the old S-NSSAI, the solutions can be categorized into 2 groups:
\- The AMF determines the alternative S-NSSAI (e.g. solutions #1, #2, #3, #4,
#5, #32, #42, #43, etc.). The AMF may optionally use the NSSF services to
determine the alternative S-NSSAI (e.g. solutions #42, #43). The AMF may
optionally use the PCF services to determine the alternative S-NSSAI (e.g.
solutions #2, #41). The AMF may be triggered by the RAN (solution #3) or by
the NWDAF.- The PCF determines the alternative S-NSSAI (e.g. solution #40). As
documented in the#40 in Table 7.X-1, it is unclear how the PCF knows whether
the alternative S-NSSAI is supported in the current TA and the RAN node.
Regarding the impacts to the UE, the solutions can be categorized into the
following groups:
\- Solutions without impact to the UE:
\- For scenarios where the same S-NSSAI is deployed on multiple NSIs and NSI
change is performed (e.g. solution #15): the NSI change is performed
seamlessly to the UE, although there is signalling to the UE, but it uses
legacy signalling.
\- For scenarios where the old and alternative S-NSSAIs are deployed on the
same NSI (e.g. solution #1): the principle is that the change of the old
S-NSSAI to alternative S-NSSAI is handled within the 5GC and NG-RAN and
transparent to the UE.
\- Solutions with impact to the UE (e.g. solutions #2, #3, #4, #5, #32, #41,
#42, etc.): the UE is informed either by using NAS MM signalling from AMF
and/or by using NAS SM signalling from the SMF that the old S-NSSAI is to be
replaced by an alternative S-NSSAI. It is beneficial if only a single
configuration is performed to the UE. Usually, the NAS SM signalling is meant
to influence a single PDU. It appears beneficial to use both:
\- NAS MM signalling to include the alternative S-NSSAI in the Allowed NSSAI,
the alternative S-NSSAI replaces the old S-NSSAI.
\- NAS SM signalling is used to release the PDU Session with an indication to
use an alternative S-NSSAI (e.g. as per NAS MM configuration).
In solutions #4, #5 and #32, it is described that the AMF may provide back off
timer for the old S-NSSAI and/or includes the old S-NSSAI in the Rejected
NSSAI to prevent the UE requesting the old S-NSSAI due to URSP rule re-
evaluation. However, if the old S-NSSAI is included in the Rejected NSSAI or
back-off timer is configured, and the URSP rules have only the old S-NSSAI in
the RSDs, the UE will not be able to establish a new PDU Session for the
matching URSP rule, as the RSDs will be determined as invalid. Such solution
is only applicable if the URSP rule(s) or local configuration contains
multiple RSDs including the old S-NSSAI and the alternative S-NSSAI.
NOTE: Given the limitation of this solution (i.e. include the old S-NSSAI in
the Rejected NSSAI or using of BOT), it would be beneficial if the old S-NSSAI
is excluded from the Allowed NSSAI but included as replaced (or mapped)
S-NSSAI value in the Mapping OF Allowed NSSAI (or a new IE), i.e. similar to
the mapped S-NSSAI value sent in the existing mapping of Allowed NSSAI.
## 7.2 Evaluation for KI#2
Solutions #6, #7, #16, #17, #18, #19, and #20 proposed for KI#2 can be
classified as those based on SoR procedures (#6, #7, #19) and those that are
not (#16, #18). Given that this KI is related to a roaming UE, where SoR is
already invoked, it is recommended that reuse of existing SoR procedures
should be an important evaluation criterion.
Solution #19 proposes some new SoR information that is slice aware is provided
to the UE proactively from the HPLMN in addition to the existing SoR info, to
trigger the Slice aware behaviour for specific S-NSSAIs and enable indication
of specific separate preferred PLMN lists per S-NSSAI and a way to weight the
PLMN selection when multiple such S-NSSAI are impacted. Solutions #17,
represent supplemental capabilities that rely on the slice-aware information
being already available at the UE. Solution #20 assumes the same existing
procedure can be reused.
Solutions based on SoR procedure impact the UDM in various ways to trigger the
UDM to fetch the slice-based SoR information from the SoR AF. These triggers
are not compatible in some solutions with the currently specified behaviour of
the UDM within the SoR procedure. UDM is currently triggering the interactions
with the SoR AF during the UE registration procedure while some of the
proposed solutions require the UDM to trigger SoR also after the registration
procedure has been completed from UDM point of view based on further new
indication from the AMF (#7 option 1).
The SoR-AF may need to be aware of the subscribed slices.
## 7.3 Evaluation for KI#3
**Solutions related to the improved support of limited AoS not matching
deployed TAs:**
Solution 9 proposes that the limited AoS slices may be based on the
configuration of additional secondary TAIs in addition to the existing Primary
TAIs. This requires RAN2/3 to agree defining this concept as outlined in the
solution in detail. The companion solution 29 then helps with UEs that need
also to be allowed slices associated with AoS matching the existing TAs, then
with the partially rejected or partially Allowed S-NSSAIs approach there is
good way to form a RA that is encompassing a mix of Primary and Secondary TAs
and optimally support this use case.
Solution 11 bases the limited-service area support on the awareness of slice
support at cell level in the system. This requires RAN3 impact as NG-RAN
informs slice availability on per-cell basis. The AMF provides Conditional
S-NSSAI (i.e. S-NSSAI with TA info the S-NSSAI is available) to the UE. The UE
can use the Conditional S-NSSAI without further Registration if location
condition is fulfilled.
Solution 21 uses the validity rules of URSP to indicate only some area can
support the service. The AMF does not removes slices from the Allowed NSSAI
when the UE is outside of the service area of the slices if the UE is remains
current Registration area.
Solution 23 proposes inclusion of conditional slices in Registration Area
Accept response to the UE. This solution is similar to solution 11 when cell
level granularity is assumed.
Solution 26 proposes to use the existing per cell RRM Policy Ratio logic such
that cells outside the wanted service area are given only shared/limited or no
resources for the concerned network slice, while slice support is maintained
on a per TA level. This enables the KPIs to be met while the UE is within the
defined service area while when the UE is outside the defined service area
still within the TA supporting the S-NSSAI the S-NSSAI is supported but with
reduced capabilities and that also enables the possibility to steer the UE
back to the defined service area as soon as possible with using existing
mechanisms. The solution enables the users to get the requested services and
KPIs as per defined SLA, and efficiently get back to service if the UE
temporary needs to access a cell outside of the area. The solution does allow
the UE to access cells also outside the defined service area if there are
resources i.e. it does not prohibit a complete access to the cell.
Solution 29 is mainly oriented to KI#5 but it potentially with
clarifications/changes supports solutions like Solution 9 where additional
smaller secondary TA are deployed as it can allow these to be more flexibly
added to the RA. This solution proposes procedure enhancements when Partially
Allowed / Rejected S-NSSAIs is supported in the network.
Solution 44 proposes to apply per S-NSSAI Service Area Restrictions. The UDM,
RAN and UE needs to support such Service Area Restrictions per S-NSSAI.
Solution 45 assumes the RAN is configured fit cells in TAs outside the AoS of
a S-NSSAI as belonging to a CSAN (constrained service area) where the SLA is
not met in the TA. This then results in a differentiated handling of UEs
inside and outside the CSAN in the TA. There is no awareness in the UE and CN
about the CSAN so this can result in the UE and CN behaving as if the network
slice is supported inside the whole TA.
**Solutions related to the support of temporary network slices:**
Solution 10 that indicates network slices timing information, but this does
not remove the need to update sessions with explicit signalling despite the
timing information was known in advance. Also, this is driven by UDM or NSSF
but there is no signalling instructing the RAN or the RAN itself cannot be the
root cause of a slice termination if some slice support is time based in the
RAN.
Solution 11 proposes new temporary slices to be supported conditionally based
on timing conditions. The AMF provides Conditional S-NSSAI (i.e. S-NSSAI with
timing info the S-NSSAI is available) to the UE. The UE can use the
Conditional S-NSSAI if timing condition is fulfilled.
Solution 21 uses the validity criteria of URSP to indicate when some
connections of a slice are no longer available. The UE to re-evaluate these
conditions based on existing mechanism.
Solution 24 proposes to associate a \"timing information\" allowing per
S-NSSAI and per any associated limited time TAs to indicate a start and end
time and also a periodicity. It is then proposed that the slices that are
associated with time info are released from allowed NSSAI with their PDU
sessions at the indicated time silently (i.e. without additional signalling
needed) in the system and the UE as applicable (in roaming case only the UE
and the used SMF/UPF in HPLMN are impacted if the slices are not actually
terminated in the VPLMN network). in addition, this also triggers PDU session
level indication of timing, so the sessions are silently released in SMF/UPF
without signalling.
**Solutions related to the support of how to gracefully terminate sessions** :
Solution 8 provides a mechanism to trigger AMF (either via OAM to UDM and then
to AMF or via OAM to AMF directly) to terminate PDU Sessions associated with
the S-NSSAI subject to be terminate. An order of termination of PDU sessions
and specific timing to terminate PDU Sessions are subject to operator's
policy.
Solution 11 proposes new temporary slices to be supported conditionally based
on timing conditions. The AMF provides Conditional S-NSSAI (i.e. S-NSSAI with
timing info the S-NSSAI is available) to the UE. The UE can use the
Conditional S-NSSAI if timing condition is fulfilled.
Solution 22 is similar to solution 21 but applies to graceful termination.
Slice termination time is provided to the UE via validity criteria of URSP.
The UE re-evaluate these conditions based on re-evaluation indication provided
with the URSP.
## 7.4 Evaluation for KI#4
**Centralized vs. Hierarchical NSACF**
For solution #12, the counting and admission is always handled at ONE central
NSACF although the admission requests from users come from different service
areas. The central NSACF is able to determine the Number of registrations per
service area through configuration of the different service areas in the
central NSACF. This enables the central NSACF to distinguish new UE
registrations vs UE registrations related to a UE already admitted in another
service area. Optionally the information about service area is passed as
additional attributes to the NSACF together with the PLMN where the UE is
registering.
For solution #13, the two-tier NSACF architecture enables counting and
admission at the NSACF or Primary NSACF.
**UE registration/ PDU Session establishment handling**
For solution #12 NSAC handling is always at the central NSACF regardless of
which service area UE is attached to.
For solution #13 NSAC handling can be at the local NSACF associated with a
service area where UE is attached to.
**UE Mobility**
For solution #12 as the NSAC is always handled at the central NSACF there is
no UE mobility issue.
For solution #13, two-layer NSACF supports UE mobility. In particular, for the
PDU session handling in case of UE mobility, there is no additional request to
or check since the PDU session is anchored at the same SMF as before hence no
need to interact with NSACF. For the UE counting handling in case of UE
mobility, the NSACF associated with a new service area performs the admission
together with the primary NSACF to update UE's status if needed. Session
continuity is supported.
For the interaction between NSACF and Primary NSACF, there are two options on
how to handle NSAC if the NSACF cannot admit the new UE registration request
by itself:
1\. Option 1: Quota based control. The Primary NSACF updates the quota at the
NSACF.
2\. Option 2: Threshold based control. Threshold is used to control how much
percentage of local quota can be used for admission of UEs for initial
registration at the NSACF. The primary NSACF can adjust the threshold setting
at the NSACF.
It is proposed to include support for both options and operator can configure
which option to use.
\- Solution #14 addresses KI#4 in a proprietary manner. The solution assumes
the node handling the quota distribution will be able to distribute quota in a
way to ensure that there is never an issue during mobility between multiple
services areas. This proprietary solution is similar to what currently exists
in Release 17 and for which specific key issue is created to resolve in a more
predictable and standardized manner.
## 7.5 Evaluation for KI#5
The related solutions are #11, #23, #25, #26, #27, #28, #29, #30, #31.
Category 1 is **based on** **allowed S-NSSAI that is indicated to be supported
not fully within the RA (hence Partially/ Conditionally allowed)** , where AMF
provides for the S-NSSAI a list of TAI(s) where the S-NSSAI is
partially/conditional allowed to UE (solution #11, #23, #25, #26, #29).
Category 2 is **based on rejected S-NSSAI that however are supported in some
TAIs of the RA (hence Partially/conditionally Rejected)** , where AMF provides
the (Partially/conditionally) rejected S-NSSAI with a list of TAs TA or new
cause to UE (solution #25, #27, #28, #29, #30, #31) with TA(s) where it is
supported (or not supported, whichever is applicable) in the RA to the UE
(solution #25, #27, #28, #29, #30, #31).
Table 7.5-1: Evaluation of KI#5 related principles
+------+------------------------------+------------------------------+ | | Category 1: | Category 2: | +======+==============================+==============================+ | Pros | 1. Does not require UE to | 1. Reuse most of the | | | perform registration update | current procedures. (only | | | for using a requested | Registration procedure is | | | S-NSSAI not supported in the | impacted). | | | previous TA. | | | | | 2. Aligned with the current | | | 2. PDU sessions need not be | slice management features, | | | re-established and | where the network determines | | | disconnected (see solution | and updates UE on the | | | 29). | Allowed NSSAI, rejected | | | | S-NSSAIs, target NSSAI and | | | 3. provides the support, in | so on. | | | MO case, the UE can avoid | | | | causing MO access attempts | | | | for the slices that are not | | | | supported in current TA or | | | | provide the TAs where the | | | | access attempt can be | | | | enabled even without support | | | | (assuming UE can be | | | | redirected in overlapping | | | | TAs). | | +------+------------------------------+------------------------------+ | Cons | 1. Features related to | 1. Require UE to perform | | | slice management such as | registration update for | | | NSAC will be impacted. (e.g. | using a requested S-NSSAI | | | Cannot be used together if | not supported in the | | | perfect accuracy is | previous TA. | | | required). | | | | | 2. Requires to release and | | | 2. Procedures related to | re-establish sessions at | | | PDU Session management will | mobility in an out the areas | | | be impacted. | where the slice is | | | | supported. | | | 3. Have impact on | | | | Homogenous slice support in | 3. When entering the area | | | RA. AMF will allow the UE to | of support of S-NSSAI, the | | | access an S-NSSAI which is | RA size may need to be | | | only supported in part of | reduced to fit the addition | | | the TAs unless additional | of new S-NSSAIs in the | | | information is provided | Allowed NSSAI. | | | where there is overlapping | | | | TA and the network can | | | | redirect upon a MO access | | | | attempt. | | | | | | | | 4. The AMF in connected | | | | mode can detect when the | | | | connectivity of a slice is | | | | available or not, but in | | | | idle mode the MT services | | | | cannot assume where in the | | | | RA the UE is so the AMF | | | | would page anyhow. There can | | | | be RAN impact (e.g. as | | | | illustrated by Solution | | | | #29) to treat the PDU | | | | Sessions. | | +------+------------------------------+------------------------------+
## 7.6 Evaluation for KI#6
There are 9 solutions proposed for the KI#6.
**1\. Solution #32 (The applicable part for KI#6):**
\- Network to deregister network slices for UEs or deregistering the UEs that
have PDU sessions that are not active.
\- Network to deregister slices for UEs or deregister the UEs that are
registering in network slices without establishing any PDUs.
\- Enabling network controlled transfer of PDU session from one network slice
to another network slice.
**Comment:** In top two cases it is proposed that UE\'s slice need to be
removed from the allowed list once slice inactivity is detected and the 3rd
case enables network controlled transfer of PDU session from one network slice
to another network slice addressing the \"what\" and \"how\" of the following
KI#6 objective: \"what the network can request from the UE and how\".
**2\. Solution #33:**
\- UE indicates its implicit slice registration deactivation capability during
registration and timer is set by network. UE and AMF start the slice-specific
implicit registration deactivation timer when there are no PDU sessions with
active user plane resources on the slice that is associated with the implicit
timer. On the expiry of the timer both UE and AMF will remove the slice
implicitly.
\- UE indicates its implicit PDU deactivation capability during registration
and timer is set by network UE and SMF start the slice-specific implicit PDU
session deactivation timer when the user plane connection is deactivated for
the PDU session. On the expiry of the timer both UE and SMF will release the
PDU session implicitly.
**Comment:** Both UE and AMF can remove the slice from allowed list when
inactivity is detected in case of no PDU session. But for PDU session with no
data transfer only releasing PDU session is not sufficient. UE can remove the
slice from allowed list here as well but SMF need to indicate AMF so that AMF
will remove the slice as suggested in solution 37.
**3\. Solution #34: on-demand S-NSSAI.**
\- When the Serving PLMN configures the UE with Configured NSSAIs, the Serving
PLMN may include an additional indication whether each S-NSSAI in the list of
Configured NSSAI is an on-demand S-NSSAI. The UE, upon receiving the list of
Configured NSSAI for the Serving PLMN, will not attempt to register for any of
the Configured NSSAI that are indicated as on-demand S-NSSAI. Rather, when the
UE evaluates URSP rules and an on-demand S-NSSAI appears in the Route
Selection Descriptor of a URSP rule, the UE will attempt to register the on-
demand S-NSSAI with the AMF.
**Comment:** Only guiding the UE about when to register a particular slice
won\'t help completely because the same PDU can be inactive. Hence to release
the inactive session belong to on-demand slice also need implicit/explicit
deactivation mechanism. Another comment is the network can not verify whether
the slice registration request sent by the UE is really on demand.
**4\. Solution #35: propose for the network to deregister the UE from the
network slice if the network slice is not utilised for the duration of the
slice usage control timer (e.g. no PDU Session on the network slice by the
UE).**
\- This timer is started at NSACF defined by the operator policy and updates
AMF when to deregister the slice.
**Comment:** This solution may not work completely as the same NSACF may not
support both the UE count and PDU count. Also NSACF will not be able to
identify the case when PDU session becomes inactive (no data transfer) and it
will still treat as PDU established, hence will never indicate to release the
slice. Also all the slices may not be subject to NSAC.
**5\. Solution #36 provides assistance information (e.g. like the kind of
registration) for each slice which means whether this slice will be used
immediately (immediate registration) or after some duration (proactive
registration) or because of default application.**
\- The network may reject a S-NSSAIs due to \'proactive registration\'. In
such case, the UE will only request registration to this S-NSSAI when there is
application traffic which needs this S-NSSAI, i.e. URSP rules evaluation
process is modified: if an application request data connectivity and the
matching URSP rule includes an S-NSSAI which is not in the Allowed NSSAI (but
also not rejected due unavailability in the PLMN, RA, or NSAC), the UE can
first sends a request to register with the S-NSSAI before processing further
RSDs or before the UE concludes that the RSD is invalid. Once the UE is
registered with a slice (e.g. due to immediate use), the release of slice and
PDU session may be done as suggested in other solutions.
**Comment:** This solution applies to scenarios where the network dynamically
determines (e.g. based on current load or current number of slices/PDU Session
close to the threshold when S-NSSAI is subject to NSAC) whether to apply
network controlled UE behaviour for the registration to a particular S-NSSAI.
This solution avoids the applicability of implicit/explicit deactivation
solution when the UE requests e.g. proactive registration, especially when
NSSAA or NSAC applies to an S-NSSAI and the inclusion of that S-NSSAI in the
Allowed NSSAI would cause additional signalling.
In scenarios where the network is statically configured that an S-NSSAI is to
be used \"on-demand\", then solution #34 and solution #38 may be more
efficient in term of avoiding the UE to request registration to S-NSSAI(s) for
\'proactive registration\'.
Another comment is the information sent from the UE may not be trustable so
the decision made based on this information may not accurate. \"immediate
registration\" may get higher possibility to be accepted by the network so the
UE may always set \"immediate registration\" and the network cannot verify it
is real situation.
**6\. Solution #37: This solution proposes to deregister the slice once slice
inactive is detected by AMF (no PDU session is for certain duration).**
\- Similarly to release the PDU session once slice inactive is detected by SMF
(PDU inactive case) and then inform AMF so that same slice can be removed as
well. This is network based approach where timer is running at AMF & SMF.
\- Another approach is provided where timer may be only running at UE and it
will indicate to network to remove the slice and release the PDU session once
inactivity is detected at UE end. The UE PDU session status and Allowed NSSAI
will be always synchronized with network later.
**Comment:** Solution #37 which is an extension of CN-initiated selective
deactivation of UP connection of an existing PDU Session as specified in
clause 4.3.7 of TS 23.502 [5] has a unique feature of getting appropriate
timers from an AF. With this, the 5GC can learn what a reasonable inactivity
time of a given UE type or a UE group using a specific S-NSSAI. By doing this
way abrupt releasing or deregistration can be minimized. Solution #37 also
supports passing the control of having to deal with a UE inactivity on to a UE
which has a required support (e.g., UE behaviour control policies). This way
it relieves a serving AMF or SMF load. Further, network can still monitor the
UE slice usage if needed, e.g. for malformed UE.
**7\. Solution #38:**
1\. Whether to register with all the Slices in the Configured NSSAI for the
PLMN or whether to register when a PDU session needs to be established in the
network slices or whether to register with a list/subset of slices from
configured-NSSAI irrespective of whether a PDU session is to be established or
not.
2\. Whether to establish all the PDU sessions configured in the RSDs or to
establish them based on the need to use these by applications or whether to
establish PDU sessions to specific set of DNNs irrespective of whether an
application needs it or not.
3\. Time to release a PDU session after no application is detected in the UE
to need to use the PDU session This time, for example, can be immediately
after use is over, or the PDU session can remain Idle up to a maximum time.
4\. Time to deregister from a network slice since the last PDU session is
released which was using the network slice.
5\. Policy can be configured by HPLMN and VPLMN authorized by HPLMN.
**Comment:** UE support is needed for this solution to work. This solution is
not requiring an implicit deactivation timer based on traffic monitoring as
the UE releases the session when no Application is detected to need a PDU
sessions. how this is detected can be left to implementation of the UE (e.g.
no application has a socked on the IP address of a PDU session or a logical
association with the PDU sessions. the Modem layer is expected to be able to
receive such indications from the OS layer). the release is explicit (i.e.
with signalling). the advantage of this approach is that some applications may
not be active for a long time if they are just expecting notifications. with
an explicit timer approach the PDU session may be releases needlessly and with
that the related slice if this was the last PDU session on the slice.
**8\. Solution #39 It proposes to steer the UE to another preferred slice by
PCF updating the URSP rules once the originally intended slice is reaching
quota limit. Based on the operator policy, the URSP will be updated only for
the list of UEs configured at PCF.**
**Comment:** This solution works only for slices which are subject to NSAC.
**9\. Solution #40 It extends the PDU session inactivity mechanism in 5GS to
PDN connection in EPS.**
\- This solution works for both implicit deactivation/explicit deactivation
based solution.
**Comment:** This is not a standalone solution and complement any supported
solution (be it implicit deactivation or explicit deactivation or both).
There are broadly two categories of solutions which addresses the KI#6 of
proper utilization of network slices by UE.
**In the first category,** the usage of slices by UEs are considered and then
based on whether slices are in use or not deactivation is triggered.
**1\. UE impacting with UE configuration:** In this case the UE indicates its
capability of handling the configuration information or implicit deactivation
to network and then network updates the corresponding configuration
information or implicit timers to UE. the UE configuration runs at UE only and
causes sessions to be released and slices to be deregistered explicitly based
on the configuration information. the configuration information may also
indicate which slices are to be kept registered at all times and which can be
activated based on need/demand. The implicit registration slice deactivation
timer runs at both UE & AMF and after the expiry of the timer both will remove
the slice from the allowed list (no PDU session is established during this
time period). Similarly implicit PDU session deactivation timer runs at both
UE & SMF/SMF+PGW-C and after the expiry of the timer (PDU session is inactive)
both will release the PDU session/PDN connections.
**2\. Network based on slice deactivation and explicit PDU session
deactivation:** In this case the UE does not need any new capabilities. The
explicit registration slice deactivation timer runs at AMF and after the
expiry of the timer it will remove the slice from the allowed list (no PDU
session is established during this time period). Similarly explicit PDU
session deactivation timer runs at both UE & SMF/SMF+PGW-C and after the
expiry of the timer (PDU session is inactive) it will release the PDU
session/PDN connections.
**3\. Timer setting,** the timer is used to monitor the PDU session/Allowed
NSSAI usage as per point 2. To avoid abrupt PDU Session release or slice
deregistration (i.e., removing an S-NSSAI form Allowed-NSSAI), the timer is
set by the AF and stored at the UDM.
**In the second category,** network will configure policy for some slices
which will indicate whether the slice need to be registered and present all
the time irrespective of the any corresponding PDU session is there or not.
The following sub-categories may apply:
1\. Static configuration per some slices: the network may indicate to the UE
whether to register whenever the UE wants or only when it wants make one PDU
session using that slice. This indication can be provided by the network
either in the configured NSSAI or in URSP.
2\. Dynamic configuration per network slice: the network may determine based
on current conditions whether to apply network controlled UE behaviour for the
registration to a particular S-NSSAI. The UE indicates the type of
registration to an S-NSSAI (e.g. immediate use, proactive or default). The
network can reject network slices for \'proactive registration\' and the UE
will initiate registration to such slices only when there is matching
application traffic.
Solutions to address the aspect of KI#6 to enable network-controlled behaviour
for the scenario where there is an existing PDU session, can be categorized as
AMF initiated and PCF initiated mechanisms. In both approaches the network
controls the transfer of PDU session from one network slice to another network
slice and the difference is in the core network NF that triggers the transfer.
# 8 Conclusions
## 8.1 Conclusions for KI#1
The following principles are concluded for the normative work.
NOTE 0: The IE names for the alternative S-NSSAI and other new information in
the conclusion is to be determined during normative phase.
0) The trigger in the AMF to replace a currently used S-NSSAI with an
alternative S-NSSAI is either based on local configuration (e.g. based on
trigger from OAM) or based on AM PCF/NSSF notification. The UE capability to
support this feature is a prerequisite for the execution of the optimizations
in this conclusions.
NOTE 1: The SBI service used for AM-PCF notification will be determined in
normative phase.
1) The AMF determines the alternative S-NSSAI to be used to replace the old
S-NSSAI. The AMF may interact with the AM PCF and/or with the NSSF to
determine the alternative S-NSSAI. The alternative S-NSSAI may or may not be
part of the Subscribed S-NSSAIs of the UE. The Subscribed S-NSSAIs of the UE
are not updated for the purpose of KI#1.
NOTE 2: The SBI service used for AM-PCF notification will be determined in
normative phase.
2) In case of a same S-NSSAI associated with multiple NSIs and a NSI can no
longer be used, the NSI is no longer considered for binding S-NSSAI at the AMF
and NSSF and when a PDU session establishment request from the UE arrives at
the AMF, the AMF and NSSF performs NSI re-selection without considering the
old NSI as candidate NSI and the AMF selects another NSI
3) In cases where the old S-NSSAI and the alternative S-NSSAI are associated
with the same NSI, the mechanisms in bullet 4) is reused to transfer the PDU
session to alternative S-NSSAI.
4) In cases where the old S-NSSAI is replaced by an alternative S-NSSAI
deployed on a different NSIs, the following principles apply:
a) The AMF performs UE MM configuration update (e.g. UCU procedure) to include
the alternative S-NSSAI in the Allowed NSSAI and/or in the Configured NSSAI,
if not included yet. The AMF provides information that the alternative S-NSSAI
is associated with a replaced/mapped value to the old S-NSSAI in both roaming
or non-roaming case; and independent whether the alternative S-NSSAI is part
or not part of the Subscribed S-NSSAIs.
NOTE 3: Whether to use existing Mapping Of Allowed NSSAI or use an alternative
IE is to be determined at normative phase.
b) For a new PDU Session establishment request from the UE only on the old
S-NSSAI (for UEs without existing PDU session and not updated with alternative
S-NSSAI in step 4a):
\- The AMF proceeds with the PDU Session establishment to the SMF of the
alternative S-NSSAI, and the AMF indicates the alternative S-NSSAI to the SMF
and the SMF proceeds with the PDU Session establishment on the alternative
S-NSSAI. The SMF sends the alternative S-NSSAI in the PDU Session
Establishment Accept message so the UE knows the PDU session is associated
with both the alternative S-NSSAI and old S-NSSAI.
\- The AMF update the UE configuration according to 4a).
c) For an existing PDU Session transfer from the old S-NSSAI to an alternative
S-NSSAI, in order to ensure service continuity:
\- The AMF update the UE configuration according to 4a).
\- The AMF notifies the current SMF, e.g. by triggering
Nsmf_PDUSession_UpdateSMContext service operation, that the PDU Session is to
be relocated to an alternative S-NSSAI and indicates the alternative S-NSSAI.
\- The SMF may determine that the PDU session needs to be retained and the
slice resource cannot be repartitioned. In this case the SMF may send the
alternative S-NSSAI to the UE in the PDU Session Modification Command, to the
UPF in the N4 message and to the RAN in N2 message.
\- The SMF may determine that the PDU session needs to be re-established, In
this case, the SMF sends to the UE either PDU Session Modification Command (if
the PDU Session is of SSC mode 3) or PDU Session Release/Modification Command
(if the PDU Session is of SSC mode 1 or 2) and indicates the alternative
S-NSSAI to the UE to trigger the re-establishment of the PDU Session the
alternative S-NSSAI.
\- The UE triggers a new PDU Session Establishment procedure to establish a
PDU Session as follows:
\- The PDU Session establishment request includes the alternative Sâ€‘NSSAI
together with the old Sâ€‘NSSAI (similar as to use the mapped S-NSSAI value of
the VPLMN when applying the RSD matched to the HPLMN S-NSSAI).
## 8.2 Conclusions for KI#2
The following principles are concluded for KI#2.
1\. A slice based SoR mechanism to deliver enhanced slice-aware SoR
information will reuse the current SoR mechanism defined in TS 23.122 [7] for
SoR information delivery. The encoding of the enhanced slice-aware SoR
information is in the CT1 remit.
2\. The SoR container (which is used also to carry the enhanced slice-aware
SoR information) from the UDM to the UE is security protected.
NOTE 1: SA WG3 may further define any upgrade of security protection mechanism
of the SoR mechanism, if it was needed.
3\. UDM requires knowing the support of the enhanced SoR information by theUE
to deliver the enhanced slice-aware SoR information to the UE.
NOTE 2: Whether the UE provides additional assistance information (refer TR
23700-41) and which kind of additional assistance information need to be
discussed in CT1. Any UE assistance information is transparently forwarded by
UDM to SoR-AF during the triggering procedure by UDM. The SoR-AF should not
attempt to fetch any assistance information if not provided by the UE. UE
assistance information can either implicitly or explicitly indicate that the
UE supports slice based SoR feature.
4\. Only a UE supporting slice based SoR feature can receive the enhanced
slice-aware SoR information via UDM, the enhanced slice aware information
include preferred PLMNs for specific S-NSSAIs in the UE subscription (a
preferred PLMN list may be also be a single PLMN that is known by HPLMN to
support the S-NSSAI, or a list of PLMNs in preference order that differs from
the order of the basic SoR information that is also provided).
NOTE 3: It is left to CT1 to decide whether to apply weighted approach or
alternative approach for the PLMN selection procedure, when more than one
S-NSSAI has slice aware information and all these S-NSSAIs are needed by the
UE
5\. The UE will perform the PLMN selection based on the received enhanced
slice-aware SoR information.
6\. As for the current SoR information, It shall be possible for the HPLMN to
update the enhanced slice-aware SoR information when it is required by HPLMN,
e.g., change in the UE subscription or other HPLMN trigger.
7\. The SoR AF can take into account Subscribed S-NSSAIs of the UE. the SoR AF
can get Subscribed S-NSSAIs using existing UDM services. This can also be used
to generate enhanced slice-aware SoR information and legacy SoR information.
## 8.3 Conclusions for KI#3
**For support of limited AoS slices not matching deployed TAs it is proposed
that:**
\- Reconfiguration of TAs while keeping the uniform support of S-NSSAIs in
cells within the TA unchanged, but if an operator do not want to change the TA
borders, the operator configures the cells of a TA that are outside AoS to
have no or limited resources using existing NG-RAN OAM configuration.
\- S-NSSAI availability policies with the validity set to location information
(e.g. a set of cells, or combination of cells and TAs), that are sent to the
UE. The UE uses the policies and when the availability are not valid, the UE
considers the S-NSSAI to be 1) not registered or 2) registered while no UP are
allowed to be activated based on information in the received policy.
NOTE 1: Whether S-NSSAI validity policies is sent to the UE in the Configured
NSSAI or separate is to be determined during normative phase.
NOTE 2: How the handover can be optimized to prevent the UE from leaving the
slice service area (or entering into the slice service area) will be
considered during normative phase based on RAN WG feedback.
NOTE 3: The AMF enforcement of the S-NSSAI availability policies e.g. when the
UE does not support the policies will be described during normative phase
based on AMF subscribing to AoI.
**For improved support of temporary network slices:**
**Option 4: AMF is configured with S-NSSAI availability policies that the AMF
sends to the UE:**
\- AMF is configured with S-NSSAI availability policies that the AMF sends to
the UE. Availability validity can be time and location. The UE uses the
policies and when the availability are not valid, the UE considers the S-NSSAI
to be 1) not registered or 2) registered while no UP are allowed to be
activated based on information in the received policy.
NOTE 4: Whether S-NSSAI validity policies is sent to the UE in the Configured
NSSAI or separate is to be determined during normative phase.
NOTE 5: The AMF enforcement of the S-NSSAI availability policies e.g. when the
UE does not support the policies will be described during normative phase.
NOTE 6: relationship with KI#5 will be determined during the normative phase.
NOTE 7: Temporary network slices does not mean that the network slices are
decommissions and created as per the timing information, but the network
slices are not meant to be available for use by the UE.
**For the graceful and gradual termination aspect:**
\- When a slice is to be decommissioned, and become no longer available for
UEs in a network slice by a known time the operator determines, the PDU
Sessions of the slice should be gracefully (for supporting UEs of the timing
information) and gradually released (for no supporting UEs of the timing
information):
\- If the UE supports the handling of timing information indicating
information on time of network slice availability, the network may provide the
timing information to the UEs so the UE knows in advance when a network slice
ceases to be supported. In this case, the UE can take the necessary actions to
prepare for the slice not becoming available.
NOTE 8: Normative phase will determine whether the timing information is sent
as information to the UE or the UE is expected to apply explicit logic.
\- In addition, the AMF, for non-supporting UEs and for the case of UE not
performing any actions despite of the timing information provided by the
network, may be triggered by the OAM to start gradually terminating PDU
Session(s) associated with S-NSSAI subject to be terminated. The AMF releases
PDU Session(s), associated with the S-NSSAI subject to be terminated, based on
operator's policy available at the AMF.
NOTE 9: Coordination with SA5 is required during normative phase.
NOTE 10: Whether graceful release can also be achieved for non supporting UEs
is left for normative phase.
## 8.4 Conclusions for KI#4
For operators implementing a single centralized solution, solution 12 is
proposed. The central NSACF reuses the Release 17 NSACF extended with optional
attributes for the AMF to convey the Service Area and PLMN during the Update
operation. The Release 17 NRF discovery procedure is to be extended to allow
the central NSACF to register multiple Service Areas to be supported by
central NSACF
For operators implementing hierarchical NSACF architecture as defined in
solution13, there are two types of NSACF, i.e. the Primary NSACF and NSACF. An
NSCAF can be configured to support quota-based control (option 1), or UE
admission threshold based control (options 2) as described below
\- Option 1: UE admission quota based control, admission of any UE is accepted
up to the local maximum number.
\- Option 2: UE admission threshold based control, admission of new UEs
registering in for the first is accepted only below UE admission threshold.
The following applies to both options:
\- The Primary NSACF handles overall NSAC for an S-NSSAI at the global level
(i.e. it is ultimately responsible for the NSAC for an S-NSSAI).
\- The Primary NSACF registers its NF profile to the NRF with the service area
information as the global service Area. A consumer NF may utilise the NRF to
discover the central NSACF by using the serving area information set to
\"global\", and additional home PLMN ID information in roaming case.
\- To enable Primary NSACF to update the local maximum number and established
PDU session for NSCAFs configured with option (1), NSACFs subscribes to
Primary NSCAF for that purpose. The primary NSACFs updates the NSACFs with the
needed information via an explicit NOTIFY or in responses to requests
initiated from the NSACF.
\- To enable Primary NSACF to update the new UE admission threshold for NSCAFs
configured with option (2), NSACFs subscribes to Primary NSCAF for that
purpose. The primary NSACFs updates the NSACFs with the needed information via
an explicit NOTIFY or in responses to requests initiated from the NSACF.
\- The Primary NSACF subscribes from the NACFs that it is in contact with to
obtain the number of registered UEs or established PDU sessions admitted at
the NSACF.
**NSAC for the maximum number of UEs**
For NSACF supporting option 1, if the local maximum number has been reached,
or the UE entry is managed by the Primary NSACF, the NSACF interacts with the
Primary NSACF for the delegation of NSAC request for a UE.
For NSACF supporting option 2, if UE admission is at or above the threshold
level stored at the NSACF, NSACF immediately rejects UEs registering in for
the first time. If the local maximum number has been reached but the
registering UE already admitted in a previous service area, or the UE entry is
managed by the Primary NSACF, the NSACF interacts with the Primary NSACF for
the delegation of NSAC request for a UE.
The Primary NSACF supports the following capabilities depending on the NSACF
configuration it interacts with:
\- Returning a new updated local maximum number for the NSACF if the NSACF is
configured to support that feature. Or
\- Returning a new updated UE admission threshold if the NSACF is configured
to support that feature.
The Primary NSACF handles and stores entries only related to UEs that are
already admitted in an existing service area but cannot be admitted in the new
service area due to no remaining local maximum number.
**NSAC for the maximum number of PDU session**
The NSACF interacts with the Primary NSACF when the local maximum number is
exceeded.
The Primary NSACF supports the following capabilities:
\- Returning a new updated local maximum number for the NSACF.
To enable Primary NSACF to update the local maximum number PDU session, NSACFs
subscribes to Primary NSCAF for that purpose. At any time, in the response to
a request from NSACF, or via a Notification, the Primary NSACF can update the
local maximum number of PDU sessions per the current registered number of PDU
session.
**Support for NSAC with HPLMN while Roaming**
VPLMNs shall support NSAC with HPLMN if the SLA requires that. A VPLMN can be
configured or can fetch the applicable NSAC admission mode from HPLMN (UDM).
If the NSAC admission mode is VPLMN, NSAC admission is determined by the
VPLMN. Otherwise if the NSAC admission mode is HPLMN, NSAC admission is
determined by the HPLMN.
In this case every AMF in this VPLMN performs NSAC admission for the number of
registered UEs with the HPLMN central or primary NSACF for all related inbound
roamers from that HPLMN when they register in this VPLMN. The AMF discovers
the HPLMN primary or central NSACF or optionally be configured with the needed
information.
Additionally, every SMF in this VPLMN performs NSAC admission for the number
of LBO PDU sessions with the HPLMN central or primary NSACF for all related
inbound roamers from that HPLMN when they initiate an LBO PDU session. The
SMFs discovers the HPLMN primary or central NSACF or optionally be configured
with the needed information.
As mentioned before, AMFs and SMFs identifies the NSAC mode at UE registration
and PDU session establishment from the UDM AMF and SMF data respectively.
**Support for HPLMN Delegated NSAC Mode while Roaming**
In this HPLMN delegated NSAC mode, HPLMN delegates NSAC to the VPLMN, both for
number of registered UEs and the number of LBO sessions.
NSAC NFs, i.e. NSACF, performing admission in the VPLMN need to acquire from
the HPLMN central or primary NSACF the applicable quota for the number of
registered UEs and/or the number of LBO sessions before or triggered by the
NSAC admission request. In order to acquire the maximum number of registered
UEs, and maximum number of LBO PDU sessions for admission for inbound roamers
for an HPLMN, every NSAC in this VPLMN subscribes to the VPLMN primary NSACF
for this information. Subsequently, the VPLMN primary or central NSACF
subscribes to the HPLMN central or primary NSACF for this information. If re-
distribution of quota is required in the VPLMN amongst multiple NSACs than
this is handled by the primary NSACF in VPLMN with no involvement from the
HPLMN.
In this case every AMF in this VPLMN performs NSAC admission for the number of
registered UEs with NSACF serving that service area in VPLMN for all related
inbound roamers when they register in this VPLMN.
Additionally, every SMF in this VPLMN performs NSAC admission for the number
of LBO PDU session with NSACF serving that service area in VPLMN for all
related inbound roamers when they initiate an LBO PDU session.
If the NSAC admission mode is determined in the HPLMN, when the applicable
quota to the VPLMN is exceeded, the primary or central NSACF in VPLMN interact
with HPLMN Primary NSACF to determine whether the NSAC admission is accepted
or rejected unless forbidden by the SLA. This applies the same principles as
in the non-roaming case.
As mentioned before, AMFs and SMFs identifies the NSAC mode at UE registration
and PDU session establishment from the UDM AMF and SMF data respectively. This
information is passed subsequently to the NSACF during NSAC admission.
**Support for NSAC in VPLMN while Roaming**
Release 18 enables NSACs in the VPLMN, in this mode, where the VPLMN performs
admission, by fetching from the HPLMN primary or central NSACF the maximum
number of registered UEs as well as the maximum number of PDU sessions to
enforce. However, in this case, the VPLMN rejects any additional requests when
the applicable quota is consumed.
NOTE: NSACs in VPLMN can also be preconfigured with the maximum number of
registered UEs as well as the maximum number of PDU sessions to enforce with
no fetching required.
## 8.5 Conclusions for KI #5
The following principle is proposed to be the conclusion for normative work:
**Partly rejected S-NSSAI** :
\- AMF can provide information to the UE enabling the UE to be able to
register an S-NSSAI that is rejected S-NSSAI for the RA, when the UE moves to
a TA supporting the S-NSSAI. The AMF can provide additional IE to the UE e.g.
Partially rejected S-NSSAI in the registration procedure and the UE
configuration update procedure if the UE indicates that it supports this
feature. The UE shall be able to request a rejected S-NSSAI, by initiating a
registration update procedure, in a supported TA based on the supported/not
supported TA information associated with this S-NSSAI. The current concept of
Allowed NSSAI and uniform support of it in UE's RA is not impacted by this
feature based on indication of where in the RA certain rejected S-NSSAIs are
supported/not supported. In this approach, the Allowed NSSAI is still
uniformly supported in the RA.
NOTE 1: IE name to use is to be determined during normative phase.
**Partly** **allowed S-NSSAI** :
\- If a requested S-NSSAI is not supported in the current TA but supported in
other TAs part of the RA, or the requested S-NSSAI is supported in the current
TA but not supported in all other TAs of the RA, the AMF (for supporting UEs)
may indicate to the UE that some S-NSSAIs are allowed only in some TAs of the
RA by indicating the TAs where these are supported and also registered. If so,
the UE assumes it can use the connectivity for the slices in the TAs where it
is indicated to be supported. In this approach, the Allowed NSSAI is still
uniformly supported in the RA but the additional IE sent to the UE e.g.
Partially Allowed S-NSSAI is not uniformly supported in the RA. The AMF sends
the Partially/Conditionally Allowed S-NSSAI to NG-RAN in the same messages as
the Allowed NSSAI is sent.
NOTE 2: The RAN impacts will coordinated with RAN3 during the normative phase.
NOTE 3: IE name to use is to be determined during normative phase.
\- Whether to apply one of the two options is a per S-NSSAI decision based on
AMF policy, both options can be supported in a PLMN and can be applied
simultaneously for one UE for different S-NSSAIs.
NOTE 4: Whether to enable Partially/Conditionally Allowed S-NSSAI is based on
network configuration and operator policies configured in the AMF and the AMF
can also consider whether S-NSSAI is subject to e.g. NSAC.
## 8.6 Conclusions for KI #6
The following conclusions are proposed for KI#6:
For a supporting UE, the following principles are agreed for normative work:
\- The network can configure slice-specific polices; more specifically, it is
proposed to use PCF or local AMF configuration/policy for handling network
policies related to S-NSSAIs subject to network control during the
registration procedure. These policies can include one or more of the
following components:
\- Whether the registration needs to be performed based on demand/usage or
configuration. This indication can be configured by HPLMN and/or VPLMN (if
authorized by HPLMN, based on e.g. UDM indication) and can be provided via
existing UE configuration procedures e.g. together with the Configured NSSAI.
\- Inactivity timer after a slice is implicitly deregistered if no PDU
sessions are present. his applies only for slices that are established on-
demand. The timer runs at both the UE and the AMF. The timer is provided by
the HPLMN or the VPLMN (AMF policy) during the Registration procedure together
with the Configured NSSAI. The timer can be per S-NSSAI.
NOTE: In normative phase it will be checked whether problems of misalignment
between UE and network can occur and if so whether explicit release should be
used instead.
\- For EPS case, the PDN connections have similar handling to PDU sessions in
5GS.
\- If the UE indicates it support this specific feature as defined in KI#1, it
is proposed to enable the network to request the UE to transfer all PDU
sessions from one S-NSSAI to another S-NSSAI.
\- In normative phase any reuse of Rel-18 UE policy work outcomes will be
explored.
In addition to the above, the following is also agreed to proceed to normative
work:
\- The AMF determines to deregister the network slice if no PDU session is
using the slice for a determined network slice deregistration time which runs
only at the AMF.
\- The SMF determines to release the PDU session if no user data is sent over
the PDU session for a determined PDU session inactivity timer which runs only
at the UPF. The AMF may also removes the S-NSSAI from the Allowed NSSAI based
on indication from the SMF after completion of the PDU Session Release
procedure if it does not find any other PDU session for the same slice over
related access type.
\- PDU session inactivity timer, which cause the release of a PDU session if
no data was transmitted or received for the duration of the inactivity timers,
or Network slice Deregistration timer which cause the removal of a given
S-NSSAI from an Allowed NSSAI after the last PDU session in the network slice
was released, may be set by authorized AF (if PLMN allows and for slices
solely dedicated for the AF and not shared with others) and stored in the
network (e.g. UDM or PCF per S-NSSAI/DNN. The timer from network can be
obtained by an AMF and SMF respectively at the time of UE registration and PDU
session establishment.
\- For EPS case, the PDN connections have similar handling to PDU sessions in
5GS.
#