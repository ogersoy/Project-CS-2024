# Foreword
This Technical Report has been produced by the 3rd Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
In the present document, modal verbs have the following meanings:
**shall** indicates a mandatory requirement to do something
**shall not** indicates an interdiction (prohibition) to do something
The constructions \"shall\" and \"shall not\" are confined to the context of
normative provisions, and do not appear in Technical Reports.
The constructions \"must\" and \"must not\" are not used as substitutes for
\"shall\" and \"shall not\". Their use is avoided insofar as possible, and
they are not used in a normative context except in a direct citation from an
external, referenced, non-3GPP document, or so as to maintain continuity of
style when extending or modifying the provisions of such a referenced
document.
**should** indicates a recommendation to do something
**should not** indicates a recommendation not to do something
**may** indicates permission to do something
**need not** indicates permission not to do something
The construction \"may not\" is ambiguous and is not used in normative
elements. The unambiguous constructions \"might not\" or \"shall not\" are
used instead, depending upon the meaning intended.
**can** indicates that something is possible
**cannot** indicates that something is impossible
The constructions \"can\" and \"cannot\" are not substitutes for \"may\" and
\"need not\".
**will** indicates that something is certain or expected to happen as a result
of action taken by an agency the behaviour of which is outside the scope of
the present document
**will not** indicates that something is certain or expected not to happen as
a result of action taken by an agency the behaviour of which is outside the
scope of the present document
**might** indicates a likelihood that something will happen as a result of
action taken by some agency the behaviour of which is outside the scope of the
present document
**might not** indicates a likelihood that something will not happen as a
result of action taken by some agency the behaviour of which is outside the
scope of the present document
In addition:
**is** (or any other verb in the indicative mood) indicates a statement of
fact
**is not** (or any other negative verb in the indicative mood) indicates a
statement of fact
The constructions \"is\" and \"is not\" do not indicate requirements.
# Introduction
Rel-17 TS 23.558 [2] defines the application layer architecture to enable edge
applications over 3GPP networks. It includes features such as ECS discovery,
service provisioning, EAS discovery, EEC/EAS/EES registration, network and
Edge Enabler Layer capability exposure, service continuity support with
seamless service continuity and EEC context continuity etc. along with
cardinality rules, deployment options, involved relationships and mapping with
ETSI MEC [3] and GSMA OP [4] architectures.
This TR documents a study on architecture and procedure enhancements to
improve the Rel-17 architecture for enabling edge applications, and to support
emerging industry requirements.
# 1 Scope
The present document is a technical report capturing the study on enhanced
architecture for enabling edge applications over 3GPP networks. The study
bases the enhancements on the work done in 3GPP TS 23.558 [2] and takes into
consideration other related work done within and outside 3GPP i.e. ETSI MEC
[3] and GSMA OP [4].
The aspects of the study include identifying new key issues, architecture
requirements, related architecture enhancements and solutions, cardinality
rules, deployment options, and involved entities and relationships to enhance
the Rel-17 architecture for enabling edge applications.
# 2 References {#references-1}
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TR 23.558: \"Architecture for enabling Edge Applications\".
[3] ETSI ISG MEC ETSI GS MEC 003, \"Multi-access Edge Computing (MEC);
Framework and Reference Architecture\".
[4] GSMA OPG.02: \"Operator Platform Telco Edge Requirements\",
https://www.gsma.com/futurenetworks/resources/gsma-operator-platform-telco-
edge-requirements-2022
[5] 3GPP TS 23.501: \"System Architecture for the 5G System; Stage 2\".
[6] 3GPP TR 23.758: \"Study on application architecture for enabling Edge
Applications\".
[7] 3GPP TR 23.721: \"Study on Sponsored Data Connectivity Improvements\".
[8] 3GPP TS 23.502: \"Procedures for the 5G System; Stage 2\".
[9] 3GPP TS 23.203: \"Policies and Charging control architecture; Stage 2\".
[10] 3GPP TS 23.682: \"Architecture enhancements to facilitate communications
with packet data networks and applications\".
[11] 3GPP TS 23.503: \"Policies and Charging control architecture; Stage 2\".
[12] 3GPP TS 22.261: \"Service requirements for the 5G system; Stage 1\".
[13] ETSI GS MEC 010-2: \"Multi-access Edge Computing (MEC); MEC Management;
Part 2: Application lifecycle, rules and requirements management\".
[14] ETSI GS MEC 011 v3.0.5: \"Multi-access Edge Computing [ ]{dir="rtl"}
(MEC); Edge Platform Application Enablement\".
[15] ETSI GS MEC 001: \"Multi-access Edge Computing (MEC); Terminology \".
[16] 3GPP TS 23.222: \"Common API Framework for 3GPP Northbound APIs; Stage
2\".
[17] 3GPP TS 29.522: \"Network Exposure Function Northbound APIs; Stage 3\".
[18] 3GPP TS 29.122: \"T8 reference point for Northbound APIs\".
[19] 3GPP TS 23.548: \"5G System Enhancements for Edge Computing; Stage 2\".
[20] 3GPP TS 28.538: \"Management and orchestration; Edge Computing
Management\".
[21] 3GPP TR 22.944: \"Report on service requirements for UE functionality
split\".
[22] ETSI GS MEC 021 V2.2.1 (2022-00), \"Multi-access Edge Computing (MEC);
Application Mobility Service API\".
[23] 3GPP TS 23.434: \"Service Enabler Architecture Layer for Verticals
(SEAL); Functional architecture and information flows\".
# 3 Definitions of terms, symbols and abbreviations
## 3.1 Terms
For the purposes of the present document, the terms given in 3GPP TR 21.905
[1], 3GPP TS 23.558 [2] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1] and 3GPP TS 23.558 [2].
**Cloud data network:** A data network having a set of servers deployed in a
central place and capable of serving UEs from wider coverage area, as opposed
to the edge data network.
**Primary ECS:** An ECS whose address information is configured with the EEC.
EEC is authorized to communicate with the Primary ECS directly.
NOTE: The term 'Primary ECS' can be replaced with 'Configured ECS' during the
normative phase.
**Primary ECSP:** An ECSP for which the UE has authorization to obtain
service.
**Partner ECS:** A federation partner of the Primary ECS. EEC is not
configured with the address information of Partner ECSs.
**Partner ECSP:** An ECSP with whom the Primary ECSP has a service level
agreement for resource sharing i.e. a federation partner of the Primary ECSP.
## 3.2 Symbols
None.
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1], 3GPP TS 23.558 [2] and the following apply. An abbreviation
defined in the present document takes precedence over the definition of the
same abbreviation, if any, in 3GPP TR 21.905 [1] and 3GPP TS 23.558 [2].
ADAES Application Data Analytics Enablement Services
AEF API Exposing Function
AMBR Aggregate Maximum Bit Rate
AMF API Management Function
APF API Provider Function
APN Access Point Name
APNS Apple Push Notification Service
BS Binding Server
CAAR Central AC Association Repository
CAPIF Common API Framework
CAS Cloud Application Server
CBS Central Binding Server
CCF CAPIF Core Function
CES Cloud Enabler Server
EDGEAPP Edge Application
EHE Edge Hosting Environment
ENS Edge Notification Server
ER Edge Repository
ETSI European Telecommunications Standards Institute
FCM Firebase Cloud Messaging
HR Home Routed
KI Key Issue
LBO Local Break Out
LCM Life Cycle Management
MANO MANagement and Orchestration
MEC Multi-access Edge Computing
MECAPP MEC Application
MEP MEC Platform
MEF MEC Federator
NAT Network Address Translators
NFV Network Function Virtualization
NSSAI Network Slice Selection Assistance Information
NWDAF Network Data Analytics Function
OAM Operations, Administration and Management
OMA Open Mobile Alliance
PCF Policy Control Function
PFD Packet Flow Description
PSA PDU Session Anchor
RFSP RAT/Frequency Selection Priority
SEAL Service Enabler Layer Architecture
SMF Session Management Function
UDM User Data Management
URSP UE Route Selection Policy
UUID Universally Unique IDentifier
# 4 Key issues
## 4.1 Key issue #1: Enhanced notification service to the EEC
The EEC can be notified with the updated information for edge computing
service by EES and ECS over EDGE-1 and EDGE-4, respectively. The notification
services available to the EEC (i.e. service provisioning notification, EAS
discovery notification, ACR information notification) are specified in release
17, but the details on the notification mechanism is not addressed. In this
regard, additional ways (e.g. push notification mechanism and application
triggering specified in 3GPP TS 23.501 [5], etc.) of providing the updates to
the EEC in real time need to be studied.
Open issues:
1\. Whether and how the EEC acquires the notification target address or a
notification channel URI to receive the notifications?
2\. Whether and how EEC, ECS and EES support push notification mechanism.
Whether and what additional functional entity is necessary for this?
3\. How are the EEC subscriptions and/or notification targets treated in
mobility scenario (e.g. during ACR scenario)?
4\. Whether and how to utilize application triggering method specified in 3GPP
TS 23.501 [5] to provide notifications to the EEC?
## 4.2 Key issue #2: Enablement of Service APIs exposed by EAS
As specified in 3GPP TS 23.558 [2] (Rel-17), the Edge Enabler Layer exposes
Service APIs towards the EASs. The exposed Service APIs include the
capabilities provided by EES as specified in the clause 8.6 of 3GPP TS 23.558
[2] (Rel-17) and the capabilities provided by the 3GPP core network as
specified in the clause 8.7 of 3GPP TS 23.558 [2] (Rel-17).
However, there are several use cases and requirements to exploit Service APIs
exposed by EASs (provided by Application service providers) which can be
invoked by the other EASs such as Cloud/Edge/Split Rendering in AR/VR use
cases; and video content delivery exploiting separate services such as content
caching, video encoding/decoding, and video analytics.
With the enablement of Service APIs exposed by EASs in the Edge Enabler Layer,
there may expect several benefits to the involved business roles in the edge
computing services. For example, Application service providers may simplify
the Edge Application logic by composing the service components provided by the
other EASs at the network edge; and open a new business to provide one or more
service components to be executed and invoked by the other EASs at the network
edge.
In order to enable the use of Service APIs exposed by EASs in the Edge Enabler
Layer, there have been relevant studies in 3GPP TR 23.758 [6] (Rel-17), which
result in Sol#15 as follows:
\- Solution #15: Edge Application Server\'s service APIs publish and discovery
using CAPIF:
\- The Edge Enabler Server can support edge application (owned by 3rd party or
by PLMN operator) access to the service APIs offered by other Edge Application
Servers within and across the Edge Data Network by providing CAPIF functions
in a distributed or centralized manner.
Based on the Rel-17 study result, this key issue focuses on addressing the
following open issues.
Open issues:
1\. Identify any gaps in CAPIF to enable EAS Service APIs in the EDGEAPP
architecture based on the Sol#15 of 3GPP TR 23.758 [6] (Rel-17).
\- In terms of e.g. service-specific attributes for API publish/discovery, API
availability subscription/notification across EES/CCF
2\. If any, whether and how to enhance CAPIF capabilities to address the gap
identified as above?
## 4.3 Key issue #3: Enhancements to service continuity planning
In 3GPP TS 23.558 [2], the service continuity planning was specified as part
of the Edge Enabler Layer value-add features for supporting seamless service
continuity, when information about planned, projected, or anticipated
behaviour is available at EESs or provided by EECs.
This key issue studies potential enhancements to the service continuity
planning feature, based on additional criteria for detecting a planned ACR,
e.g. the network conditions / analytics monitoring, the DN performance
monitoring, the expected/predicted UE route etc. This key issue also studies
potential enhancements to the service continuity planning feature to allow the
EEC to send a timely ACR request. Finally, the key issue studies scenarios
when the planned UE behavior changes after the launch of the service and the
ACR needs to be modified due to these changes, e.g. due to UE mobility change.
Open Issues:
1\. How to rely on the capability of EES/EEC to detect whether the UE moves to
the predicted location or not for service continuity planning?
2\. Whether and how the EEL can support the determination of the ACR request
trigger timing in case of service continuity planning?
3\. How to deal with scenarios when the ACR needs to be modified, e.g. due to
UE mobility?
4\. Whether and what additional capability exposure is required from the 5GS
(e.g. NWDAF, OAM) to enhance the service continuity planning?
5\. Potential impact on information exchanged between EAS and EEL.
6\. Potential impact on information to communicate within the EEL.
## 4.4 Key issue #4: EDGE-5
According to the latest version of the EDGEAPP specification in 3GPP TS 23.558
[2]:
\"EDGE-5 reference point enables interactions between AC(s) and the EEC.\"
That specification also notes:
\"NOTE: Detailed specification of this reference point is out of scope of this
release of this specification.\"
According to the latest version of the FS_EDGEAPP specification in 3GPP TR
23.758 [6]:
\"The interactions between Application Client(s) and the Edge Enabler Client
in the UE are supported by the EDGE-5 reference point. This reference point
supports:
\- Obtaining information about Edge Application Servers that Application
Client require to connect;
\- Notifications about events related to the connection between Application
Clients and their corresponding Edge Application Servers, such as: when an
Application Client needs to reconnect to a different Edge Application Server;
\- Providing Application Client information (such as its profile) to be used
for various tasks such as, identifying the appropriate Edge Application Server
instance to connect to; and
\- Provide the identity of the desired Edge Application Server to the Edge
Enabler Client to enable it to use that identity as a filter when requesting
information about Edge Application Servers.\"
The necessary functionality of the EDGE-5 interface needs to be studied for
Release 18:
\- What functionality should an EEC provide to an AC (see the interactions
copied from 3GPP TR 23.758 [6] and the procedures and information flows
specified in 3GPP TS 23.558 [2])?
The following aspects may also need to be studied for Release 18 based upon
the provided functionality of the EDGE-5 interface:
1\. Whether the cardinality as currently captured in 3GPP TS 23.558 [2] is to
be modified:
\"The following cardinality rules apply for EDGE-5:
a) One AC may communicate with only one EEC; and
b) One EEC may communicate with one or more AC(s) concurrently.\"
2\. Whether and how an AC can discover available EEC(s)?
3\. Whether mutual authentication and authorization between an AC and an EEC
is necessary, and if so, how is that accomplished?
4\. What APIs should be exposed from an EEC to an AC to support that
functionality?
5\. Whether a notification mechanism is necessary from an EEC to an AC?
6\. Whether and how an AC registers to an EEC?
7\. Whether and how an AC de-registers from an EEC?
8\. Whether and how an AC detects an abnormal termination of an EEC?
9\. Whether and how an EEC detects an abnormal termination of an AC?
10\. Whether user\'s consent is necessary to either AC or EEC operation, and
if so, how is it provided?
11\. Whether and how can EDGE-5 support constrained devices with limited
capabilities (such as a terminal equipment as defined in TR 21.905) over
EDGE-5? One use case may include, for example TE (terminal equipment) has a
role of edge device such as AI cameras for object detections or IoT sensors
and UE has a role of gateway such as IoT gateway, if UE is vehicle or robotic
surgery equipment to operate on a patient. In that case, constrained devices
may be connected in large numbers to UE.
NOTE 1: The aspects of defining end-user consent/authorization over APIs and
aspects of mutual authentication and authorization between an AC and an EEC
are in the scope of SA3.
NOTE 2: The aspects of the usage of end-user consent/authorization over APIs
is in the scope of SA6.
## 4.5 Key issue #5: Alignment of EDGEAPP and ETSI MEC
As described in Annex C of 3GPP TS 23.558 [2] (Rel-17), both EDGEAPP and ETSI
MEC can provide support for hosting different edge applications. According to
Annex C: \"Both EAS and MEC application are application servers and can
provide similar application specific functionalities. EAS utilizes the
services of EES as specified in this document whereas MEC application utilizes
the services provided by MEC platform as specified in ETSI GS MEC 003.\" As
discussed in Annex B.2 of draft GS MEC 003 [3] (v3.0.4), the EES and MEC
platform can also be collocated in an implementation.
While the 3GPP TS 23.558 [2] and ETSI GS MEC 003 [3] provide an initial view
about the alignment of the two platforms, this KI intends to address the
following:
1\. Study and analyse different deployment options of EDGEAPP and ETSI MEC
platforms.
2\. Functional architecture and gap analysis between EDGEAPP and ETSI MEC to
determine complementary and possibly overlapping APIs and other related
functionalities. Annex A captures a comparison of the architectures to
facilitate the gap analysis.
3\. Recommendation and enhancements based upon the outcome of (1) and (2).
NOTE 1: Backward compatibility is an important aspect of any recommendations &
enhancements and will be considered during the study of this KI.
NOTE 2: This KI is limited to alignment aspects within 3GPP capabilities.
## 4.6 Key issue #6: Edge services support across ECSPs
An edge service or an EAS (e.g. V2X server) can be provided via different EDNs
deployed by different ECSPs. Each ECSP may not have the required
infrastructure to install the EAS in every EDN due to financial, regulatory
and operation constraints. It is assumed that a UE can access the same edge
service served by different EASs which are registered to different EESs and
deployed by different ECSPs, which have a service level agreement to share
edge services. These ECSPs can deploy EESs to serve different PLMNs or
different coverages of the same PLMN. A typical scenario is depicted in Figure
4.6-1.
Figure 4.6-1 EAS deployed by different ECSPs
In Figure 4.6-1, the EAS2 resident in EDN1 and EDN2 provides the same service.
The UE may be configured with the ECS1 configuration information (e.g. if the
UE is a subscriber of ECSP_1). It is not clear how to provision the ECS2
configuration information, deployed by ECSP_2 (a partner of ECSP_1), to the UE
when the UE is out of the service area of EAS2 in ECSP1 and cannot find a
suitable EES within ECSP1 to discover and connect to EAS2. The same issue
exists when EAS2 becomes unavailable due to other reasons, e.g. overload, or
in cases where ECSP_1 does not deploy EAS2 at all and relies on partner ECSP_2
to provide the edge service.
Besides, the UE may have already accessed the EAS2 in the EDN1 and is getting
service from that EAS. In that case, it is not clear how to support service
continuity due to UE mobility when the UE moves out of the service area of the
EAS2 in EDN1 and goes to the service area of the EAS2 in EDN2.
Furthermore, the target EDN and source EDN are operated by different ECSP
which may not have SLA with each other, then the S-EES may not be able to
communicate with a T-EES (discovered from ECS) due to lack of SLA.
Unfortunately, in Rel17 this failure may only be detect upon EDGE-9
interaction.
The following study is needed:
1\. Identify potential enhancements to the existing architecture defined in
Rel-17 to enable inter-ECSP interactions.
2\. Study potential impact to support ECS discovery and service provisioning
based on UE location.
3\. Whether and how EEC registers with an EES deployed by a partner ECSP?
4\. Study potential impact to support service continuity.
5\. How is EEC context continuity maintained across ECSPs with or without ACR?
6\. How the ECS can discover a T-EES having SLA with S-EES based on the
federation agreements between ECSPs before EDGE-9 interaction?
## 4.7 Key issue #7: Application traffic filter exposure
3GPP TS 23.558 [2] has specified EDGE-3 exposure with different APIs. The
session with QoS API provides the capability for the EAS to influence the QoS
for the application traffic via EES. The ACR management event API supports
\"User plane path change\", \"ACR monitoring\" and \"ACR facilitation\" and
all events support to detect user plane path change for the application
traffic.
The current definition of session with QoS API and ACR management event API
only supports simple IP flow description. E.g. in 3GPP TS 23.558 [2], table
8.6.6.3.2-1 IP flow description identifies the application traffic by 3 or 5
tuples.
Table 8.6.6.3.2-1: Session with QoS create request
Information element Status Description
* * *
EASID M The identifier of the EAS Security credentials M Security credentials
of the EAS UE IP address (NOTE 1) O The UE IP address. UE ID (NOTE 1) O The
identifier of the UE (i.e. GPSI) UE Group ID (NOTE 1) O Identifies a group of
UEs (i.e. internal group ID or external group ID) IP flow description M The IP
flow description for the application traffic. Requested QoS reference (NOTE 2)
O Refers to pre-defined QoS information for the data session between AC and
EAS (NOTE 3). ... ... ...
Only supporting IP flow description in EDGE-3 exposure APIs is not enough. EPS
already supported the application traffic (e.g. encrypted application traffic)
detection by more filters than IP flow description for the application (e.g.
considering in Rel-14 study 3GPP TR 23.721 [7]) and more traffic filters are
supported via PFD management procedure as described in 3GPP TS 23.682 [10] and
3GPP TS 23.203 [9], and such capability is also supported in 5GS in 3GPP TS
23.502 [8] and 3GPP TS 23.503 [11] correspondingly. The EEL should provide the
same level of traffic filter for identifying the application traffic.
Open issues:
1\. How to support more application traffic filter for session with QoS API.
2\. How to support more application traffic filter for ACR management event
API.
## 4.8 Key issue #8: EAS selection synchronization
Currently, EAS discovery may result in multiple EASs being discovered for a
specific AC. The discovery request may trigger at the EES operations such as
dynamic instantiation (3GPP TS 23.558 [2] clause 8.12). However, the EEC may
select only one or some of the discovered EASs to enable AC communications or
may not begin communications right after a discovery. For a discovered but
unselected EAS, operations such as EAS instantiation or state change are
unnecessary and inefficient,
From a different perspective, the registration procedure results in EEC
context establishment at EES, with associated service session management. The
EES process for determining EAS selection for service sessions is not
specified, and there is no method to synchronize this information with the
EEC. Moreover, following a registration the EEC does not have EAS endpoint
information which could be leveraged for initiating service sessions, although
the registration results in reservation of resources in the EDN.
In another case, many IoT devices are configured for bursty communications at
large intervals of time, without service continuity requirements and with many
semi-static (e.g. provisioned over-the-top) parameters. For example, a set of
EASs may be maintained at the EEC with the expectation of providing signalling
optimizations. However, this EEC information cannot be currently leveraged by
the system as intended.
While basic edge functionality can be enabled assuming ideal implementations
of an algorithm through which the EES determines that a registered EAS is
providing services to an AC, inefficiencies in EAS capability use and enabling
service session functionality immediately after registration remain. Hence, it
is required to study:
1\. How to enable the EES to accurately determine the EAS(s) capabilities
needed by EEC for service sessions in order to perform optimal EAS
instantiation operations.
2\. Whether and how the service session communications between ACs and EASs
can be enabled by the EEC as soon as the EDN capabilities are available after
registration.
3\. Whether and how to enable the EES to leverage pre-existent EAS information
at the EEC in order to enable service session communications efficiently for
IoT devices.
## 4.9 Key issue #9: Enhancement of dynamic EAS instantiation triggering
In order to ensure efficient utilization of EDN resources for EAS deployment,
it should be possible to have the proper number of EAS instances in the EDN to
accommodate the load for applications. The dynamic EAS instantiation triggered
by the EES is supported in release 17, but further details are not addressed.
The EES may invoke EAS dynamic instantiation triggering to the EAS management
system, e.g. for considering the service load/capacity of EAS (e.g. number of
service session); and for considering the EEC\'s requesting service
characteristics (e.g. location, latency). In this regard, the followings need
to be studied further.
Open issues:
1\. What kind of information can be acquired by edge enabling layer and
utilized by an EES to decide to trigger dynamic EAS instantiation and which
entities can provide such information to an EES
2\. Whether and how to support dynamic EAS termination triggering in order to
enable dynamic scaling of EAS (i.e. scale in as needed).
NOTE: The aspects of the interaction between EES and EAS management system is
in the scope of SA5.
## 4.10 Key issue #10: Support for roaming UEs
When a UE is roaming in VPLMN, EDN configuration information for edge
computing service in VPLMNs may not be available at all ECS deployed in HPLMN
(termed H-ECS. The EEC in the UE thus needs to obtain information for V-ECSs
(ECS available in VPLMN) to obtain service provisioning information in VPLMN
based on the business relationship between HPLMN operator, VPLMN operator, and
related ECSP(s).
In one scenario, the EEC in the roaming UE needs to discover the availability
of edge computing services via ECS(s) available in VPLMN.
In Rel-17, ECS discovery based on VPLMN ID addressed in clause 8.3.2 of 3GPP
TS 23.558 [2] do not cover some cases, e.g. when there are multiple available
ECSs via the VPLMN for the roaming UE. Therefore, it is required to study ECS
discovery in VPLMN and subsequent service provisioning for all relevant
deployment models.
Additionally, it is required to clarify how an EEC hosted in the roaming UE
can be authenticated and authorized to access the edge computing services
available in the VPLMN. The related requirement is described in GSMA OPG as
follows: \"Access of roaming subscribers to edge applications in the visited
network shall be subject to authorisation by the subscriber\'s Home OP and the
Visited OP\". Note that EEC authentication/authorization in Rel-17 is not
clarified in roaming situation. It is thus required to study the architectural
support necessary for SA3-defined procedures for EEC authentication/
authorization in roaming scenarios.
The following aspects shall be studied to support roaming UEs:
1\. Roaming-related deployment scenarios (if any) to be supported, and which
may be differentiated by: (i) the relationship between the ECS provider and
the PLMN operators, (ii) whether connectivity to an ECS can be established in
both involved PLMNs.
2\. How the EEC in the roaming UE knows the availability of ECS(s) and/or
EES(s) and discovers them in the VPLMN?
3\. Whether and how edge computing service continuity is supported when
transitioning between an HPLMN and VPLMN.
4\. How to support authentication and authorization for an EEC hosted in the
roaming UE.
5\. Whether and how to support topology hiding on inter-PLMN/ECSP interfaces
on the edge enabler layer.
## 4.11 Key issue #11: ACR between EAS and Cloud Application Server
When a UE moves to a new location, different EASs or Cloud Application Server
(CAS) can be more suitable for serving the ACs in the UE. Such transitions can
result from a non-mobility event also, requiring support to maintain the
continuity of the service.
This key issue is to support service continuity for ACs in the UE to minimize
service interruption while switching the application server between Edge and
Cloud. To support service continuity, the application context is transferred
between EAS and CAS.
Rel-17 Edge Computing work is limited to the service continuity between the
EAS(s) and identified several scenarios for service continuity. Detailed study
is required to enable service continuity between EAS and CAS, covering the
following open issues:
1\. Whether and how to detect that ACR is required between EAS and CAS
2\. Whether and how to decide that ACR is required between EAS and CAS
3\. Whether and how to perform ACR between EAS and CAS
4\. Whether and how to perform post ACR actions
5\. Whether EEL is required on the cloud deployment and what are the potential
impacts to the CAS architecture
6\. Whether and what are the impacts of CAS initiated ACR.
## 4.12 Key issue #12: EEL service differentiation
The service differentiation in Rel-17 is very general and not detailed (e.g.
ECS use local policy to determine service provisioning). Details to enable an
ECSP to provide different service quality levels should be specified. Such as
a principle based on the role of service consumer. For example, a premium user
must get the nearest available edge, or there should be certain applications
available only to the premium users and so on.
Open issues:
\- What service differentiation should be enabled by the EEL?
\- Which procedure should be enhanced to support service differentiation?
\- Which functional entity is responsible for defining or managing the service
differentiation?
## 4.13 Key issue #13: Edge enabler layer support for EAS synchronization
It is possible for the ASP to provide EAS (with same service) in different
EDNs. For example, a gaming service provider may have deployed game servers in
different EDNs to serve its users. It is required for an EAS to synchronize
the particular communication session among other EAS(s). In figure 4.13-1,
consider:
1) a multi-user gaming session-1 is active between 5 gaming users where 2
users are in EDN1 served by EAS-1X (ASP1), while other 3 users are in EDN2
served by EAS-2X (ASP1);
2) at same time (when gaming session-1 is active), another gaming session-2 is
also active between different set of users, where some users are in EDN2
served by EAS-2X (ASP1), while other users are in EDN3 served by EAS-3X
(ASP1).
It is required for EAS(s) to synchronize among each other for specific
communication session (e.g. multi-user game session) in order to serve the
users properly. It is required to study how Edge enabler layer can support EAS
from EDN1 to find other EAS(s) in other EDN(s) to synchronize with.
Figure 4.13-1 EAS (with same service) deployed by same ASP in different EDNs
Further, referring to 3GPP TS 23.558 Annex A.4, the application architecture
supports SEAL application server functions and Application Enabler Server
functions available at the edge. While SEAL application server functions can
be made available as an EAS at the edge, it is also possible that certain SEAL
application server functions are available either or both at the edge and at
the cloud. When the server functions of an application are available both at
the edge and at the cloud, there may be a need for interaction between the two
corresponding application servers.
This key issue is to support interaction between the two application server
functions deployed at the edge or both at the edge and at the cloud.
Open issues:
1) Whether and how to enable EAS to find other EAS(s) with multi-user
communication session to synchronize?
2) Whether and how to enable EAS to find other interested EAS(s) with specific
service to synchronize?
3) Whether and how to enable EAS to discover and interact with another
application server function deployed on the cloud for context synchronization?
4) Whether and how edge enabler layer could provide support to EAS
synchronization?
## 4.14 Key issue #14: Application traffic influence for initially selected
EAS
The application traffic is between the AC and EAS and 3GPP CN provides the
underlying connectivity for the application traffic. The EEC starts with EAS
discovery first in order to offer EAS(s) to AC to start communication with the
initially selected EAS. Later on, if the EAS relocation criteria is met, the
EAS relocation procedure happens, which consists of EAS discovery, application
traffic influence, application context transfer and AC communication with the
new EAS.
Currently, it is not clear in the specification how to influence the
application traffic with best optimal user plane routing when initial EAS
discovery is completed in the application layer.
Open issues:
\- Whether and how the EEL can be involved to influence the application
traffic routing in AC communication with the initially selected EAS.
\- Whether and how EEL configuration information that may influence
application traffic routing.
\- Which entities can configure or provide information for application traffic
influence routing.
## 4.15 Key issue #15: Support of constrained devices for Edge
Energy efficiency requirements are relevant for battery driven low-power IoT
devices. Those devices may require edge computing services in a local DN for
low-latency and employ the SA6 specified edge enablers.
Clause 6.15 of 3GPP TS 22.261 [12] has provided requirements for energy
efficiency for devices, for instance: the 5G system shall support UEs using
small rechargeable and single coin cell batteries; and shall support
mechanisms to improve battery life for a UE over what is possible in EPS.
In the existing EDGEAPP architecture as described in TS 23.558 [2], many
procedures and services are defined for EEC to interaction with EES/ECS. It is
needed to study what impact the support for constrained UE may have on EDGEAPP
architecture and what procedure can be improved.
Open issues:
\- Whether there are any impacts on the EDGEAPP architecture for constrained
UE.
\- Whether and how the existing EDGEAPP architecture and procedures, for
constrained UE to network communication (i.e. EDGE-1 and EDGE-4), e.g. can be
improved to reduce power consumption.
## 4.16 Key issue #16: support of NAT deployed within the edge data network
In operational deployments of cloud infrastructures including at the edge,
Network Address Translation (NAT) are oftentimes deployed.
Such an operational constraint will prevent the EES to have an IP address of
the UE that is known by the underlying 3GPP network.
Open issue:
\- How the EES can access 3GPP network services pertaining to a UE when the
edge data network employs Network Address Translators (NATs).
\- How AF specific and temporary UE IDs can be managed at the Edge Enabler
Layer?
## 4.17 Key issue #17: Discovery of a common EAS
An ASP can deploy several EASs providing the same service in different
locations within the EDN.
For certain use cases involving real-time communication in a multi-user
session, both between AC and EAS and between different ACs via the EAS, it may
be necessary or beneficial to use services from a single common EAS to meet
the strict latency requirements and to avoid the need for inter-EAS
synchronization. The use cases may include, for example, a team of robots
coordinating together on a manufacturing floor, a team of surgeons using VR
headsets and robotic surgery equipment to operate together on a patient, or a
group of trucks using V2X for platooning.
Dependent on the use case, the EEL may apply different additional criteria to
determine this common EAS. E.g. it could be desirable to determine the EAS so
that the latency for all the ACs in the session is approximately the same or
that the latency for a specific AC is minimized.
Figure 4.17-1 Several EASs (with same service) deployed in different locations
in the same EDN
Open issues:
1) Whether and how the ACs/EECs of different users can select or be
provisioned the same EAS within an EDN?
NOTE: This open issue is dealing with the issue how different EECs can perform
EAS discovery so that they select the same EAS within an EDN, whereas KI#13 is
dealing with the issue how, after different EECs have selected different EASs
located in different EDNs, these EASs can synchronize their contexts.
2) Whether and how the ACs/EECs of different users can select or be
provisioned a common EAS, even if initially the EECs are communicating with
different EDNs?
3) Whether and how the EEL can support service continuity to ensure that when
ACs require the use of service from a common EAS and an ACR operation is
needed, ACR operations can be coordinated so that upon completion of the ACR
operations the ACs again have services provided by a common EAS.
## 4.18 Key issue #18: EAS bundles
Rel-17 EEL procedures are designed such that services like EAS discovery and
service continuity support are performed per EAS, where individual EASs are
uniquely identified using EAS endpoints (e.g. URI, FQDN, IP address).
However, to provide services to the end user a typical AC communicates with
multiple endpoints i.e. multiple EASs. This creates an EAS bundle, which
impacts the support provided by the Edge Enabler Layer. Taking an example of
an online game where to support large number of users, different game
functions are split across multiple servers; like, a game engine for game
state and user input management, in-game chat server for communication between
players and a capture server for capturing rendered images, encoding, and
transporting them to the player\'s device. If each of these EASs are
discovered, controlled, and relocated individually, it may impact the overall
quality of service. For e.g. ACR failing for the game engine should cancel the
ACR of the capture server to maintain their proximity.
This key issue is to study the impacts on the EEL\'s support functions created
by such EAS bundles or dependencies between the EASs.
{width="1.8909722222222223in" height="1.5in"}
Figure 4.18-1 EAS bundle example
NOTE: This KI does not focus on enabling communication between the EASs,
rather, it focuses on coordination at the EEL.
Open issue:
\- How can the EEL identify EAS bundles?
\- What are the impacts on EEL procedures due to EAS bundles e.g. when the
bundled EASs are served by the same EES and require ACR due to UE mobility?
## 4.19 Key issue #19: ACR scenario combination
Multiple ACR scenarios are specified in 3GPP TS 23.558[2] clause 8.8.
Applications can utilize one or more ACR scenarios. Different combinations of
utilizing ACR scenarios by Applications should be enabled by the Edge Enabler
Layer (e.g. only one ACR scenario allowed or several ACR scenarios allowed).
Open issues:
\- Whether and how the EEL can support the determination of the ACR scenario
for one AC?
## 4.20 Key issue #20: Supporting composite EASs
In order for EAS to provide services (weather, transportation, maps, etc.) in
partnership with other EASs, EAS context processing and composite EAS support
may be required at edge-compatible layers. When ACR occurs due to UE mobility,
a method of rearranging the composite EAS context may be required to provide
continuous service of the composite EASs. In addition, there may be a need for
a method for finding an EAS that provides services to composite EASs within
the EDN in which the UE has moved.
Although EAS can discover and communicate other EAS APIs through CAPIF\'s
functions, but for service continuity, it may be necessary to discover EASs
providing composite EASs and relocation the context of EASs that provided
composite capabilities.
{width="3.0in" height="0.9798611111111111in"}
Figure 4.20-1 Composite EAS example
> NOTE: This KI focuses on coordination at the EEL when the composite EASs
> provide services to the AC on a UE.
Open issues:
\- Whether and how the EEL can support to composite EAS context management.
\- Whether and how the EEL can support the relocation of the composite EAS
context for service continuity.
\- Whether and how the EEL can discover EAS that provides the services of the
composite EASs.
## 4.21 Key issue #21: Simultaneously EAS connectivity in ACR
In 3GPP TS 23.548 [19], there is a use case where application client needs to
connect to both S-EAS and T-EAS during service continuity. Details are
specified in clause 6.3.4 and Annex F of 3GPP TS 23.548 [19].
For AC triggered application context relocation, clause 8.8.2.2 of 3GPP TS
23.558 [2] describes the scenario for the service continuity initiated by EEC
using regular EAS discovery. In step 5, the EEC and AC jointly decides the
T-EAS to be used and in step 8 the AC is triggered by the EEC to start ACT.
Figure 4.21-1: ACR initiated by the EEC and ACs
Figure 4.21-1 illustrates one ACR scenario example in SA6 EDGEAPP. If the AC
needs to connect to the T-EAS first to trigger ACT, the AC has two application
sessions simultaneously during the service continuity. There could be more ACR
scenarios applicable for this type of ACT. There are potential improvements in
EEL to facilitate such simultaneous connectivity. For example, whether and how
to influence the application traffic to maintain both S-PSA and T-PSA during
the service continuity and the feature interaction between simultaneous EAS
connectivity and service continuity. NOTE: In Rel-17, EES can optimize the
user plane routing before AC starts the application signalling with the T-EAS,
but that does not consider the need for simultaneous EAS connectivity.
Open issues:
\- Whether and how EEL can influence the application traffic routing
considering the need to maintain both S-PSA and T-PSA for simultaneous
connectivity with both S-EAS and T-EAS, during the service continuity.
\- What the feature interaction is for simultaneous EAS connectivity and
service continuity (including planning).
## 4.22 Key issue #22: EAS discovery in Edge Node sharing scenario
Based on GSMA OPG.02 [4] Operator Platform Telco Edge Requirements, Edge Node
sharing scenario has been identified in GSMA OPG.02 [4] clause 3.3.5.
The deployment case is as follows:
1\. OP B deploys application in the OP A (partner OP). OP B wants to scale its
services for the region covered by OP A by using OP A\'s edge infrastructure.
2\. User belongs to the OP B.
3\. If OP B finds that the most suitable application that can serve the user
is available in OP A (partner OP), then OP B requests the edge computing
service from OP A (partner OP).
NOTE 1: The user is referred to the subscribers who have edge service
authorizations.
Based on the deployment case, it is not clear how to discover and determine
the EAS(s) deployed in OP A for OP B users.
Figure 4.22-1 Edge Node sharing scenario
The following study is needed:
1\. How can EES discover and determine a EAS which allows (subscribers of OP
B) to avail its services?
2\. Whether EES and EAS of OP A can use OP B\'s network functions.
NOTE 2: The key issue assumes OP A and OP B has the same Edge Computing
Architecture (i.e. EDGEAPP).
## 4.23 Key issue #23: Reliable Edge service
When the Edge services are deployed in a **virtualized environments (i.e.
built for cloud)** , it is expected that the overall reliability of the system
shall be at least the same as the reliability of non-virtualized system.
Therefore, the EDGEAPP service-based architecture as depicted in figure 6.2-1
of 3GPP TS 23.558 [2] should be designed in a way that seamless replacement,
addition or removal of services is possible and does not require specific
(re-)configuration of both the running and the new component(s).
The ECS/EES may experience unexpected events (e.g. hardware/link issue in
nature disaster) and expected events (e.g. graceful shutdown for maintenance)
in service.
The highly reliable edge computing aims to provide fault tolerance, high
availability and service resilience for the application services as well as
the application supporting layer.
This KI focuses on how edge computing (EDGEAPP in SA6) can provide high
reliability in EES/ECS and to support highly reliable EAS in SA6 application
layer.
NOTE: SA5 is responsible for the management of 3GPP functions including edge
entity LCM and the interactions with ETSI NFV MANO. This is, however, not in
the scope of this KI.
Open issues:
\- Whether and what mechanisms the EES/ECS can use for high reliability in
EES/ECS services during expected events and unexpected events in the service.
\- Whether and what mechanisms the EES/ECS can provide to support highly
reliable EAS during expected events and unexpected events in the service.
NOTE: The reliability mechanism should make the network changes due to events
transparent to the User.
## 4.24 Key issue #24: SEAL capability access for EEL support
Annex A.4 of 3GPP TS 23.558 describes deployments of EES with SEAL services
and Application Enabler Services as consumers. Based on this description, EES
capabilities are available to SEAL servers over the EDGE-3 reference point.
Annex A.4.2 of 3GPP TS 23.558 describes deployments of SEAL services at the
edge, with EASs as consumers. For this case, the re-exposure of SEAL services
is designed based on CAPIF implementation by EES.
EESs may also be a consumers of SEAL services such as location reporting,
group management, event monitoring, etc. which are currently exposed via
SEAL-S and SEAL-E reference points. New services under development (e.g.
ADAES) may also be adopted as SEAL services and may be both consumers and
producers of services at the EES.
Open issues:
\- How EEL accesses and utilizes SEAL capabilities deployed within the EDN.
# 5 Architectural requirements
## 5.1 General requirements
### 5.1.1 General
NOTE: Any additional general architecture requirements shall be added to
clause 5.2.1 of 3GPP TS 23.558 [2].
## 5.2 Enablement of Service APIs exposed by EAS
### 5.2.1 General
This clause specifies the requirements for EAS Service API enablement in the
EDGEAPP architecture to address the KI#2 in the clause 4.2.
### 5.2.2 Requirements
The following are the architectural requirements to support EAS Service APIs
in the EDGEAPP Rel-18 architecture.
1) EAS capability exposure
\- The application layer architecture shall support exposure of EAS\'s
capabilities to the other EASs.
2) EAS Service API publication
\- The application layer architecture shall support EAS to publish its
exposing Service API information to EES
\- The application layer architecture shall support EAS to update the
published EAS Service API information on the EES.
\- The application layer architecture shall provide mechanisms for the EAS to
publish and update KPIs of its Service APIs when available.
3) EAS Service API discovery
\- The application layer architecture shall provide mechanisms for an EAS to
discover available EAS Service APIs.
4) Subscription service
\- The application layer architecture shall provide subscription and
notification mechanisms enabling an EAS to receive changes in dynamic
information of EAS Service APIs from an EES.
\- The application layer architecture shall provide subscription and
notification mechanisms enabling an EAS to receive changes in availability of
EAS Service APIs from an EES.
## 5.3 ECS discovery
### 5.3.1 General
This clause specifies the requirements for ECS discovery to address the key
issue #6 on edge services support across ECSPs in clause 4.6 and to the key
issue #10 on support for roaming UEs in clause 4.10.
### 5.3.2 Requirements
The following is the architectural requirement to support ECS discovery in the
EDGEAPP Rel-18 architecture.
\- The application layer architecture shall provide mechanisms for ECS to
discover available ECS(s) which may have suitable EES(s), to support UE
mobility between ECSPs.
\- The Edge Enabler Layer architecture shall provide mechanisms for
provisioning the EEC with available ECS(s) which may have suitable EES(s), to
support UE mobility between ECSPs.
## 5.4 Alignment of EDGEAPP and ETSI MEC
### 5.4.1 General
This clause specifies the architecture requirements for alignment of EDGEAPP
and ETSI MEC to address the key issue #4.
### 5.4.2 Requirements
The following requirements will serve as the guiding principles for the
alignment of EDGEAPP and ETSI MEC architectures.
> 1\. The scope of 3GPP alignment efforts between EDGEAPP and ETSI MEC shall
> be limited to architecture enhancements that apply only to EDGEAPP.
NOTE: 3GPP will liaise with ETSI ISG MEC for architecture recommendation (if
any).
> 2\. The architecture enhancements to support alignment shall ensure
> backwards compatibility with the existing EDGEAPP architecture.
>
> 3\. The architecture enhancements shall not consider to align features
> exclusive to the each of the EDGEAPP and ETSI MEC architectures, i.e. the
> architecture enhancements shall only focus on the overlapping aspects
> between the EDGEAPP and ETSI MEC architectures. The alignment aspects in the
> present release of this specification includes the following:
a. alignment of EAS profile (EDGEAPP) and appInfo (ETSI MEC),
b. alignment of EDGE-3/Mp1 reference points
c. alignment of EDGE-9/Mp3 reference points
d. usage of CAPIF between the two architectures
NOTE: The term alignment does not imply that the reference points will be
exact equivalents.
4\. The architecture enhancements shall ensure that EDGEAPP architecture can
remain as a standalone or a complete system i.e. EDGEAPP can be deployed
independent of the ETSI MEC architecture.
5\. The architecture enhancements shall analyse impacts to other working
groups e.g. SA2, SA3 and SA5.
## 5.5 Common EAS
### 5.5.1 General
This clause specifies requirements for common EAS discovery, such that a group
of ACs can get service from the same EAS.
### 5.5.2 Requirements
1\. Edge Enabler Layer shall enable a group of application clients to discover
a common EAS i.e. same EASID, EAS endpoint and EDN.
a. The Edge enabler layer shall provide a mechanism to support common EAS
selection for a dynamic group.
b. The Edge enabler layer shall provide a common EAS selection mechanism for a
static group.
2\. Edge Enabler Layer shall enable a group of application clients to be
relocated to a different common EAS.
NOTE: Relocation to a different common EAS can happen due to several reasons
such as EAS unavailability, relocation of all UEs to a new EDN due to mobility
etc.
# 6 Enhanced Application Architecture
## 6.1 Option #1: Roaming architecture
This clause describes the architecture for roaming UEs, addressing Key Issue
#10.
### 6.1.1 Architecture enhancements
#### 6.1.1.1 Local breakout roaming architecture: Local breakout to access
H-ECS
This architecture uses ECSs provided in HPLMN and VPLMN, in which the EEC in
the UE obtains services from V-ECS and V-EES. In this architecture, the H-ECS
is associated with HPLMN, while the V-ECS and the EDN which the UE accesses is
associated with VPLMN. A new reference point EDGE-10 is defined between ECSs.
Figure 6.1.1.1-1 shows the architecture for this model.
NOTE: H-ECS and V-ECS can be provided by the same ECSP.
Figure 6.1.1.1-1: Local breakout roaming architecture: Local breakout to
access H-ECS
#### 6.1.1.2 Home-routed EDGE-4 access to H-ECS
This architecture uses ECSs provided in HPLMN and VPLMN, in which the EEC in
the UE obtains services from V-ECS and V-EES. Figure 6.1.1.2-1 shows the
architecture for home routed roaming architecture for this model.
Figure 6.1.1.2-1: Home-routed access to H-ECS
In the HR roaming scenario, the roaming architecture is valid if the UE is
supported to access the EDN in the VPLMN (i.e. the local access to the EDN of
the VPLMN is supported in the HR roaming scenario). The traffic toward the EDN
in the VPLMN (i.e. EDGE-1 traffic and application data traffic between AC and
EAS) is not home routed to the HPLMN while the traffic between the EEC and
H-ECS over is home routed via VPLMN and HPLMN.
NOTE: How to support local access to the EDN for the VPLMN in HR roaming
scenarios is SA2\'s responsibility.
### 6.1.2 Identities
None.
### 6.1.3 Cardinality rules
None.
## 6.2 Option #2: Non-roaming architecture
This clause describes the architecture for non-roaming UEs.
### 6.2.1 Architecture enhancements
Compared with the Rel-17 EDGEAPP architecture for the non-roaming scenario, a
new reference point EDGE-10 is defined between ECSs. Figure 6.2.1-1 shows the
architecture for this model.
NOTE: ECSs communicating via EDGE-10 may be provided by different ECSPs.
Figure 6.2.1-1: Non-roaming architecture
### 6.2.2 Identities
None.
### 6.2.3 Cardinality rules
None.
## 6.3 Option #3: Edge Notification Server architecture
This clause provides an enhanced application architecture based on Rel-17
architecture by incorporating an Edge Notification Server addressing Key Issue
#1, \"Enhanced notification service to the EEC\".
### 6.3.1 Architecture enhancements
This clause describes the new Edge Notification Server (ENS) functional
element and the new interfaces (i.e EDGE-11, EDGE-12 and EDGE-13) needed to
enable interactions in between EEC-ENS, EES-ENS and ECS-ENS respectively.
Figure 6.3.1-1 illustrates the reference point representation of the
architecture for Edge Enabling Application with the inclusion of the Edge
Notification Server and the reference points EDGE-11, EDGE-12 and EDGE-13. The
Figure also shows an OEM Push sever which is outside of the PLMN.
NOTE 1: The OEM Push sever and the Push Function in the UE, as shown in Figure
6.3.1-1, are outside the scope of this TR and SA6.
NOTE 2: The details of communication between the ENS and the OEM Push sever is
outside the scope of this TR and SA6.
Figure 6.3.1-1: Enhanced architecture using an Edge Notification Server
NOTE 3: ENS is an optional feature of the EDGEAPP architecture.
#### 6.3.1.1 Edge Notification Server (ENS)
ENS is the optional central notification server which receives notifications
from EES (EDGE-12) and ECS (EDGE-13) and based on the preferred notification
delivery method indicated by EEC (over EDGE-11), delivers the notifications to
EEC through either a Pull or a Push delivery method.
Functionalities of ENS are:
a) Enabling EEC to request for a Callback URL to be used in its event
subscription creation with EES and ECS;
b) Enabling EEC to request for an optional Channel URL to receive
notifications from the ENS directly (e.g. via Long-polling or WebSocket);
c) Enabling EEC to request receiving notifications from the ENS indirectly
through a preferred Push server (e.g. FCM, APNS, OMA Push);
d) Setting up a Pull or Push notification channel with EEC based on EEC\'s
preferred notification delivery method (e.g. Long-polling, WebSocket)
requested;
e) Receiving Notifications from EES and ECS at the CallBack URL and passing
them onto the EEC either over a notification Channel (e.g. Long-polling,
WebSocket) which is setup directly with the EEC or indirectly (i.e. an
implicit notification channel) via a Push server (e.g. FCM, APNS, OMA Push);
#### 6.3.1.2 ENS Discovery
For a given EEC, the associated ENS\'s information (e.g. URI(s), FQDN(s), IP
address(es)) and optionally the ENS Provider Identifier are obtained from the
ECS as part of the initial provisioning activity (see clause 8.3 in 23.558).
This approach ensures regardless of how many EECs a UE has or how many ENSs
are deployed in the network (e.g. one ENS per ECSP or a single ENS by MNO), a
given EEC would always receive the appropriate ENS endpoint to communicate and
open a notification channel with.
NOTE 1: Depending on the number of EECs (in the UE) and the number of
associated ENS(s) in the network (i.e. one ENS per ECSP or a single ENS by
MNO), an UE may simultaneously interact with multiple ENSs (one per ECSP) or a
single ENS deployed by the MNO.
## 6.4 Option #4: Constrained devices with limited capabilities
### 6.4.1 Architecture enhancements
#### 6.4.1.1 General
This architecture option adds support for certain constrained devices which
either don\'t have enough capabilities to execute its own EEC (e.g. the
constrained device may not have a Mobile Termination entity) or do not execute
its own EEC to save essential resources such as processing power and battery.
Such constrained devices (e.g. terminal equipments as defined in TR 22.944
[21]) will benefit by being able to utilize services of an EEC running on a
different UE, using EDGE-5.
#### 6.4.1.2 Architecture
Figure 6.4.1.2-1: Architecture supporting constrained devices
NOTE 1: The architecture option should utilize existing functionalities
specified by SA2 and avoid creating new requirements for system architecture.
NOTE 2: How the TE communicates with the UE (e.g. Bluetooth, Wi-Fi, Cellular,
ProSe, LPWA, zigBee, wired connection etc.) is out of scope of SA6.
### 6.4.2 Identities
None.
### 6.4.3 Cardinality rules
None.
## 6.5 Option #5: Architecture for ACR between EAS and CAS without CES
This clause describes the architecture for enabling interactions between EAS
and Cloud Application Server (CAS), addressing Key Issue #11.
### 6.5.1 Architecture enhancements
Figure 6.5.1-1 shows the architecture enabling interactions between EAS and
CAS, without Cloud Enabler Server (CES). Compared to the EDGEAPP (Rel-17)
architecture, new entity Cloud Application Server is proposed along with the
new reference points EDGE-14 (between EES and CAS), EDGE-15 (between ECS and
CAS) and EDGE-16 (between 3GPP Core Network and CAS).
Figure 6.5.1-1: Architecture with Cloud Application Server (CAS) and without
CES
In this solution, the Cloud Application Server (CAS) interaction with EES is
supported via EDGE-14 reference point and CAS is supported by ECS via EDGE-15
reference point. The CAS and EAS interaction is supported as Application Data
Traffic, which is out-of-scope of this specification. The CAS interaction with
the 3GPP core network happens over EDGE-16 reference point, which is similar
to EDGE-7 reference point.
NOTE: What functionalities of EDGE-9 and EDGE-6 are to be reused for EDGE-14
and EDGE-15 respectively will be addressed in normative phase.
Since the EAS may have service area restriction, once the UE is moving out of
the current edge coverage, to keep service continuity, the application client
needs to connect to either another EAS in new EDN or the CAS.
The architecture supports ACR between edge and cloud deployments for the
following conditions:
> \- Condition 1: For the locations where EDN is not available, the ACR
> support is based on the failed Service provisioning response (i.e. the non-
> availability of the EDN at a particular location) from the ECS.
>
> \- Condition 2: When AC profiles are sent in Service provisioning request
> and particular EAS is not available then EDN non-availability for that EAS
> is inferred through Service provisioning response.
>
> \- Condition 3: For the locations where EDN is available but the EAS is not
> available, the ACR support is based on the indication from the EES (in the
> EAS discovery response) about the non-availability of the EAS at that
> particular location.
>
> \- Condition 4: EAS and EDN are available but EAS is overloaded or not in a
> position to serve the EEC/UE due to any reason.
>
> \- Condition 5: For a UE location, when CAS is serving and a suitable EAS is
> available at the edge, ACR can be initiated for continuing the service
> delivery via EAS.
### 6.5.2 Identities
None.
### 6.5.3 Cardinality rules
None.
## 6.6 Option #6: Architecture for ACR between EAS and CAS with CES
### 6.6.1 Architecture enhancements
Figure 6.6.1-1: Illustration of application architecture with Edge and Cloud
server deployment
In this solution, the Cloud Application Server (CAS) is supported by Cloud
Enabler Server (CES) via EDGE-3\' reference point and CES is supported by ECS
via EDGE-6\' reference point. The CES communicates with EES or another CES via
EDGE-9\' reference point. The EEC utilizes EDGE-1\' reference point to
communicate with the CES. The CES and CAS interact with 3GPP Core Network via
EDGE-7\' reference point and EDGE-2\' reference point, respectively.
From concept wise, the CAS and CES are servers deployed in a cloud data
network and EAS and EES are servers deployed in an edge data network. If
certain EAS and EES in the edge data network are capable of supporting more
UEs than regular edge server and can serve UE from anywhere (N6 routable),
their roles become those of CAS and CES, respectively.
The EDGE prime reference points have the similar functions as the existing
EDGE reference points. For instance, CASs are registered via EDGE-3\' in CES
to enable CES to offer suitable CAS via EDGE-1\' to EEC; and CESs are
registered via EDGE-6\' in ECS to enable ECS to offer suitable CES via EDGE-4
to EEC.
The differences in EDGE prime reference points comparing to existing EDGE
reference points are:
\- The CAS does not have service area restriction in CAS profile when
registered into CES.
\- The CES does not have service area restriction in CES profile when
registered into ECS.
NOTE: The detailed differences for EDGE prime reference points and the
cardinality rules will be addressed in normative phase.
### 6.6.2 Identities
None.
### 6.6.3 Cardinality rules
None.
## 6.7 Option #7: Architecture for Common EAS selection with central binding
server
### 6.7.1 Architecture enhancements
Figure 6.7.1-1: EDGEAPP architecture enhanced with binding server
The EDGE-17 reference point is introduced to support EES interaction with
binding server. The EES can store, update and remove the binding information
via EDGE-17 reference point.
The binding server is deployed in a central cloud and it is a single server
maintaining binding information.
NOTE 1: Whether binding server can be deployed in EDN can be considered during
normative.
NOTE 2: CBS can be co-located with an ECS in a deployment.
### 6.7.2 Identities
None.
### 6.7.3 Cardinality rules
None.
## 6.8 Option #8: Architecture for ACR update in service continuity planning
### 6.8.1 Architecture enhancements
Enhancement of the service continuity planning capability is expected to
support update of ACR. As can be seen at the Figure 7.6.1-1, this solution
proposes the ACR update capabilities as enhancements after the ACR launch to
deal with UE behavior changes. This includes a Detection entity, a Decision
Update entity and an ACR update execution entity. These entities can be
different based on the scenarios identified in TS 23.558, clause 8.8.2.
Figure 6.8.1-1: high level illustration of proposed service continuity
planning enhancements
### 6.8.2 Identities
None.
### 6.8.3 Cardinality rules
None.
## 6.9 Option #9: EEL utilization of SEAL services deployed in EDN
### 6.9.1 Architecture enhancements
Figure 6.9.1-1: EEL utilization of SEAL services deployed in EDN
This architecture illustrates the deployment scenario specified in key issue
#24. Vertical application layer server(s) and SEAL server(s) are deployed in
EDN. The EES consumes SEAL services deployed in EDN over SEAL-S reference
point. The EEC consumes the services from SEAL client(s) over SEAL-C reference
point.
### 6.9.2 Identities
None.
### 6.9.3 Cardinality rules
None.
## 6.10 Option #10: EDGEAPP architecture in edge node sharing
### 6.10.1 Architecture enhancements
The solution addresses how to discover an EAS that is deployed in the
partner's OP (i.e. OP-A) in edge node sharing case and is based on
architecture enhancement in EDGEAPP with ECS-ER (Edge Repository).
Figure 6.10.1-1 shows two operator platforms can communicate with each other
via EDGE-9 and EDGE-18, EEC in UE communicates with EES and ECS of OP-B and
EAS is registered in EES of OP-A via EDGE-3. EDGE-18 is a new reference point
used between ECS-ERs.
Figure 6.10.1-1: EDGEAPP architecture in edge node sharing
### 6.10.2 Identities
None.
### 6.10.3 Cardinality rules
None.
## 6.11 Option #11: EDGEAPP architecture enhanced with Central AC Association
Repository
### 6.11.1 Architecture enhancements
As described in clause 7.27.0, multiple options for the implementation of this
solution are provided. Option (ii) relies on the introduction of new
functionality termed Central AC Association Repository (CAAR). CAAR
functionality can be implemented by ECS or as an independent CAAR server.
This clause introduces architectural enhancements based on the assumption that
the SP deploys an independent server which hosts the CAAR functionality, and
which communicates with multiple ECSs and each of the EESs serving Common EAS
groups.
NOTE 1: The architectural enhancement introduced in this clause is optional.
It can be used for the option \"with CAAR\" (ii) (as described in clause
7.27.0). CAAR functionality can be integrated with ECS.
Figure 6.11.1-1: EDGEAPP architecture enhanced with Central AC Association
Repository
The EDGE-19 reference point is introduced to support EES interaction with a
Central AC Association Repository (CAAR). The EES can store, update, and
remove information about the AC associations it provides services to via
EDGE-19 reference point.
The EDGE-20 reference point is introduced to support ECS interaction with
CAAR. The ECS can query the AC association information via EDGE-20 reference
point.
NOTE 2: It is to be determined in the normative phase whether CAAR and Binding
Server from solution #30 can be merged.
### 6.11.2 Identities
None.
### 6.11.3 Cardinality rules
None.
## 6.12 Option #12: Architecture for Federation and Roaming
### 6.12.0 Assumptions
This solution assumes the following:
1\. PLMN subscription for edge computing services between the user and the MNO
may not be restricted to only certain edge services or applications.
2\. Edge service authorization(s) between the user and the ECSP may not be
restricted to only certain edge services or applications.
3\. Agreements between ECSPs are to share edge computing infrastructure and
applications with other ECSP partners and their subscribers. These agreements
are not restricted to only certain edge services or applications.
4\. ASP may not have sufficient means or information to configure the UE with
respect to the federation (e.g. the AC cannot be pre-configured with the ECS
information, the AC is not edge-aware, the ASP does not provide AC to the UE,
there is no CAS available or the CAS cannot redirect the UE to the partner
ECSP).
### 6.12.1 Architecture enhancements
A federation can include multiple ECSP(s) where both, MNOs and the ECSPs can
deploy multiple ECSs each. ECSs provide EES and EAS deployment information to
the requestor. ECSs, EESs and EASs can be enabled or disabled dynamically
based on prevailing requirements, available resources etc. so relying on pre-
configuration or policy-based federation may result in use of stale pre-
configurations and policies. Therefore, it is essential to maintain this
information in real-time and enable an ECS to discover it on a need basis.
This architecture option requires that the each ECSP in the federation of
ECSPs designate one ECS as the center of information for that federation. This
designated ECS acts as the edge repository (ECS-ER) of the federation. It
stores and maintains up to date information about edge deployments of the
federation. ECSs deployed by the ECSPs of the federation register and provide
edge deployment information to this designated ECS. The designated ECSs of
each ECSPs shares the information about the edge deployment to each other.
Following figure illustrates the enhanced architecture:
Figure 6.12.1-1: Architecture enhanced with Edge repository
NOTE 1: There can be an EDGE-4 interface between the EEC and the Edge
Configuration Server (Edge Repository).
NOTE 2: ECS-ER does not perform resource management. Resource management is
SA5\'s responsibility.
There can be alternate deployments for this edge repository, for e.g.:
\- each ECSP can deploy its own edge repository; or
\- multiple ECSPs can use the same ECS-ER as their edge repository; or
\- each MNO can deploy an edge repository for all ECSPs associated with the
MNO.
NOTE 3: The interface and the interactions (e.g. ECS discovery, registration
etc.) required between the ECS-ERs, and their potential alignment with ETSI
MEC will be considered during the normative work.
NOTE 4: Address information of partner ECSs in a federation can be locally
configured in the primary ECS.
NOTE 5: Possible mapping of the interfaces and roles of new entities with GSMA
PRD will be considered in the normative work.
### 6.12.2 Enhanced functional entities
#### 6.12.2.1 Edge Configuration Server (Edge Repository)
ECS that acts as edge repository (ECS-ER) provides supporting functions needed
for roaming and federation.
Functionalities of ECS-ER are:
a) Receiving and storing information about edge computing resources from other
ECS(s) of the ECSP;
b) Receiving and storing information about edge computing resources from other
ECS-ER(s) of the federation;
c) Providing information about Edge computing resources to other ECS-ER(s) of
the federation.
Editor\'s Note: Comparison and alignment of ECS-ER definition with the MEC
Federator (MEF) as defined by ETSI MEC GS 040, which is aimed to host EWBI as
defined by GSMA OPG, is FFS.
### 6.12.3 Reference point
#### 6.12.3.1 EDGE-10
EDGE-10 reference point enables interactions between the ECS and the ECS
acting as edge repository. It supports:
a) registration and de-registration of the ECS to the ECS acting as edge
repository; and
b) retrieval or discovery of information about other ECS(s) of the federation.
NOTE: Comparison and potential alignment of interactions between ECS and ECS-
ER e.g. ECS discovery, registration etc. with corresponding ETSI MEC
procedures will be considered in the normative work.
### 6.12.4 Cardinality rules
Following cardinality rules apply to the ECS-ER that acts as edge repository:
a) One ECS-ER per ECSP may be deployed to support the federation;
Following cardinality rules apply for EDGE-10:
a) One or more ECS may communicate with the ECS that acts as edge repository.
# 7 Solutions
## 7.0 Mapping of solutions to key issues
Table 7.0-1 Mapping of solutions to key issues
* * *
             KI \# 1   KI \# 2   KI \# 3   KI \# 4   KI \# 5   KI \# 6   KI \# 7   KI \# 8   KI \# 9   KI \# 10   KI \# 11   KI \# 12   KI \# 13   KI \# 14   KI \# 15   KI \# 16   KI \# 17   KI \# 18   KI \# 19   KI \# 20   KI \# 21   KI \# 22   KI \# 23   KI \# 24
* * *
Sol #1 **X**
Sol #2 **X**
Sol #3 **X**
Sol #4 **X** **X**
Sol #5 **X** **X**
Sol #6 **X**
Sol #7 **X**
Sol #8 **X**
Sol #9 **X**
Sol #10 **X**
Sol #11 **X** **X**
Sol #12 **X** **X**
Sol #13 **X** **X**
Sol #14 **X**
Sol #15 **X** **X**
Sol #16 **X**
Sol #17 **X**
Sol #18 **X**
Sol #19 **X**
Sol #20 **X**
Sol #21 **X**
Sol #22 **X** **X**
Sol #23 **X**
Sol #24 **X**
Sol #25 **X**
Sol #26 **X**
Sol #27 **X**
Sol #28 **X**
Sol #29 **X**
Sol #30 **X**
Sol #31 **X** **X**
Sol #32 **X**
Sol #33 **X**
Sol #34 **X**
Sol #35 **X**
Sol #36 **X**
Sol #37 **X**
Sol\ **X**  
#38
Sol #39 X
Sol #40 **X**
Sol #41 X
Sol #42 **X**
Sol #43 **X** **X**
Sol #44 **X**
Sol #45 **X**
Sol #46 **X**
Sol #47 **X**
Sol #48 **X**
Sol #49 **X**
Sol #50 **X** **X**
Sol #51 **X**
Sol #52 **X**
Sol #53 **X**
Sol #54 **X**
Sol #55 **X**
* * *
## 7.1 Solution #1: Service provisioning via push notification
### 7.1.1 Architecture enhancements
None.
### 7.1.2 Solution description
#### 7.1.2.1 General
The following solution corresponds to the key issue #1 on enhanced
notification service to the EEC in clause 4.1.
In this solution, push notification mechanism is utilized to enhance the
service provisioning procedure. It is assumed that at least one push server is
available to ECS and the UE has push function supporting the interaction with
the push server.
#### 7.1.2.2 Procedure
Pre-conditions:
1\. The UE supports push notification service and the associated push server
can be accessed by the ECS.
2\. The address of push server is pre-configured in the Push function.
Figure 7.1.2.2-1: Service provisioning via push notification
1\. The EEC registers with the push function within the UE. The EEC acquires a
push token and push server information from the push function.
NOTE: The push server provides the push function in the UE with a push token,
which is delivered to the EEC.
2\. The EEC sends a service provisioning subscribe request to the ECS. The
service provisioning request includes push token, push server information
(e.g. address) in addition to information elements in clause 8.3.3.3.4 of 3GPP
TS 23.558 [2] v17.0.0. The push server address is included as Notification
Target Address.
3\. Upon receiving the request, the ECS performs an authorization check as in
clause 8.3.3.2.3.2 of 3GPP TS 23.558 [2] and further verify if push
notification can be used. If the request is authorized and push server can be
used for notification, the ECS creates and stores subscription resource for
service provisioning.
4\. If the processing of the request was successful, the ECS responds with a
service provisioning subscription response.
5\. If an event occurs at the ECS that satisfies trigger conditions for
updating service provisioning of a subscribed EEC and the corresponding
subscription is for push notification, the ECS sends push notification request
to the push server that is identified by the push server information provided
by the EEC in the step 2. The push notification request sent from the ECS to
the push server contains the push token, EEC information (e.g. identification
or port ID) and service provisioning notification message.
6\. The push server sends the service provisioning notification message to the
EEC via the push function, which in turn and delivers the notification message
to the corresponding EEC.
### 7.1.3 Solution evaluation
The proposed solution addresses Key Issue #1. The solution is based on Rel-17
service provisioning subscribe procedure and the push notification mechanism
supported in a UE. This approach does not require EEC to persistently keep the
session with ECS for receiving notification message. Instead, the UE reuses
the session kept by the push function and push notification server.
This solution does not introduce impact on Rel-17 architecture.
## 7.2 Solution #2: Traffic filter support for EDGE-3 API addressing
application traffic detection
### 7.2.1 Architecture enhancements
None.
### 7.2.2 Solution description
The EAS can provide the domain name to the EES as traffic descriptor and EES
can further provision the domain name to the 3GPP CN. The following figure
7.2.2-1 depicts the solution sketch for the Session with QoS create operation
with **bold** text showing the enhancement to the existing procedure in 3GPP
TS 23.558 [2], clause 8.6.6.2. Such solution allows the EAS to provide
fruitful traffic filters to be applied for the intended session with requested
QoS.
Figure 7.2.2-1: Session with QoS API: create operation
In step 1, the EAS requests establishment of a data session between the AC and
the EAS with a specific QoS, the EAS sends the domain name as traffic
descriptor which also indicates the applicable protocol and matching criteria
(e.g. TLS SNI). In step 2a, the EES invokes the PFD management procedure with
the 3GPP CN as described in 3GPP TS 23.682 [10] and 3GPP TS 23.502 [8] with an
application id that may be derived from the EASID according to local policy.
Further the EES provides the same application id for requesting data session
with specific QoS in step 2c or step 4.
NOTE: PFD management is optionally supported in MNO, if EES cannot invoke step
2a, it responds EAS with appropriate error.
If the EAS provides only IP flow description as the traffic filter, the EES
can provide the application id (which may be derived from the EASID) to the
3GPP CN when requesting data session with specific QoS and rely on further
traffic classification mechanism in MNO to apply specific QoS for the
application traffic. In that case, the EES skips the PFD management procedure
in step 2a.
Similar approach can be applied for the ACR management event API for EAS to
consume EES service.
The EAS can also send other specific filters (e.g. URI) to the EEL allowing a
fruitful application traffic detection in the 3GPP CN, such filters will be
used by the EES in the PFD management procedure in step 2a.
### 7.2.3 Solution evaluation
This solution address KI#7. It enhances the existing Session with QoS API and
ACR management event API in 3GPP TS 23.558 [2] with support for traffic
filters more than IP flow description.
## 7.3 Solution #3: Service provisioning triggering via SMS over NAS
### 7.3.1 Architecture enhancements
None.
### 7.3.2 Solution description
#### 7.3.2.1 General
The following solution corresponds to the key issue #1 on enhanced
notification service to the EEC.
In this solution, application triggering (device triggering) via SMS over NAS
method specified in 3GPP TS 23.501 [5] is utilized to provide the updated EDN
configuration information to the EEC.
The EEC indicates to the ECS that SMS over NAS is supported. Then, the ECS
checks if the SMS over NAS can be utilized and perform EEC triggering by using
SMS over NAS.
#### 7.3.2.2 Procedure
Pre-conditions:
1\. The EEC is able to check if the UE supports the SMS over NAS;
2\. The EEC is able to decode the need to trigger the operation indicated in
the SMS; and
3\. The ECS is allowed to use Nnef_Trigger_Delivery service.
Figure 7.3.2.2-1: EEC triggering via SMS over NAS to perform service
provisioning
1\. The EEC determines that the UE supports the SMS over NAS by checking if
the UE capability support the SMS delivery over NAS and if the UE is allowed
by the core network to use SMS delivery over NAS (e.g. whether the UE is
indicated by the core network that SMS over NAS is allowed during Registration
procedure or UE Configuration Update procedure as specified in TS 23.502 [8]).
If the SMS over NAS is supported and allowed in the UE, the EEC sends an
indication of SMS over NAS supported to the ECS. This indication may be
included in the service provisioning request message and sent to the ECS.
2\. The ECS acknowledges to the EEC by sending a message including whether the
EEC triggering via SMS over NAS is available for service provisioning or not.
When the EDN configuration information in the ECS is updated, the ECS triggers
EEC to initiate service provisioning request by utilizing the SMS over NAS as
described in the below figure 7.3.2.2-2.
Figure 7.3.2.2-2: EEC triggering via SMS over NAS to perform service
provisioning
1\. The ECS determines to perform EEC triggering via SMS over NAS for service
provisioning (e.g. when the EDN configuration information is updated).
2\. The ECS invokes Nnef_Trigger_Delivery service to send a trigger delivery
request message to the NEF as described in clause 4.13.2 of 3GPP TS 23.502
[8]. The message includes indication to trigger service provisioning, EEC ID,
UE ID, and ECS information (e.g. address).
3\. The NEF delivers the triggering information via MT SMS Delivery procedure
as specified in TS 23.502 [8]. The indication to trigger service provisioning,
EEC ID, ECS information are included as the triggering payload in the
triggering information
4\. The NEF sends Nnef_Trigger_Delivery service response message to the ECS to
inform that the ECS-provided information in step 2 is successfully delivered
to the SMS-SC as in clause 4.13.2 of 3GPP TS 23.502 [8].
5\. The NEF sends Nnef_Trigger_Delivery Notify message to the ECS to inform
that the SMS message is successfully delivered to the UE as in clause 4.13.2
of 3GPP TS 23.502 [8].
6\. The UE receives the SMS message containing the ECS-provided triggering
information (indication to trigger service provisioning, EEC ID, ECS
information) from the 5GC via Mobile Terminated SMS Delivery as in clause
4.13.3 of 3GPP TS 23.502 [8] and the EEC is triggered to perform service
provisioning request toward the ECS identified by the ECS information
contained in the SMS message.
7\. The EEC may send a service provisioning request to the ECS identified by
the triggering information contained in the SMS.
### 7.3.3 Solution evaluation
The solution addresses Key Issue #1: Enhanced notification service to the EEC.
The solution utilizes application triggering (device triggering) via SMS over
NAS method specified in 3GPP TS 23.501 [5]. This solution does not require EEC
to persistently keep the session with ECS for receiving the updated EDN
configuration information.
This solution has the following impact on the EEC and ECS:
\- EEC supports to perform service provisioning when receiving application
triggering SMS containing ECS-provided triggering information;
\- ECS supports application triggering service provided by the core network
(e.g. Nnef_Trigger_Delivery service).
This solution does not introduce any impact on Rel-17 architecture.
NOTE: This solution can be extended to enhance EDGE-1 notification service.
## 7.4 Solution #4: ECS discovery through serving ECS to support edge services
across ECSPs
### 7.4.1 Architecture enhancements
For a roaming scenario, Option #1 in the clause 6.1 is the basis for this
solution.
### 7.4.2 Solution description
#### 7.4.2.1 General
The following solution corresponds to the key issue #6 on edge services
support across ECSPs in clause 4.6 and to the key issue #10 on support for
roaming UEs.
The scenario assumption of this solution is that the ECS1 may determine a
potential ECS information (e.g. address, endpoint or service API information)
based on pre-configuration or may discover service API information exposed by
that ECS via CAPIF discovery procedure as specified in TS 23.222 [16]. In this
solution, it is assumed that the ECSP1 and ECSP2 have a service level
agreement to share edge services. If the ECS1 cannot discover a suitable EES
to serve the UE at the current location (e.g. all the EESs registered on the
ECS1 do not cover the given UE location), the ECS1 discovers another ECS2
which may have suitable EES based on UE location and provides it to the
requesting EEC or EES.
NOTE: To configure sufficient information to the ECS, the ECS(s) information
related to other ECSPs may be available at the OAM system due to the inter-
ECSP relationship establishment, which is then used by the OAM system of an
ECSP to configure its ECS. If required, the information of available
applications in a partner ECSP and the corresponding service areas are
included in the configured information. Inter-ECSP relationship establishment
is according to the business relationship between the ECSPs and is out of the
scope of SA6. The OAM to configure its ECS for inter-ECSP relationship is
under the scope of SA5.
In a roaming scenario, after a UE selects a PLMN and performs the registration
procedure, the EEC gets ECS information to use edge computing service in the
VPLMN as follows:
\- The EEC may have been pre-configured or provisioned with V-ECS information.
\- The EEC may try to send a service provisioning request message including
service PLMN ID to the H-ECS and retrieves V-ECS information or, if possible,
EDN configuration information for VPLMN. The EEC may perform service
provisioning procedure with the V-ECS if the H-ECS provides V-ECS information
to the EEC as show in figure 7.4.2.2-1. This solution provides a procedure for
this aspect.
\- The EEC may try to derive V-ECS address information from the VPLMN
identifier. For example, an EEC can combine the VPLMN identifier and an ECSP
code (or ECSP ID) assigned to an edge computing service provider (e.g. \"ECS
\.ECS.MNC \ .mcc \ .3gppNetwork.org \").
In a roaming scenario, if a V-ECS information is provided by 5GC, the EEC
shall use the provided information for the subsequent service provisioning
request.
NOTE: In a roaming scenario, current solution provides a procedure to one
method for the EEC gets ECS information to use edge computing service in the
VPLMN. The precedence among different methods is not the scope of this
solution.
#### 7.4.2.2 Procedure
In this solution, when the ECS1 receives the request of EES from the EEC or
source EES, the ECS1 discovers another ECS2 which may have suitable EES and
responds with the ECS2 information. After that, the EEC or source EES sends
the request of EES to the ECS2.
Pre-conditions:
1\. ECSP1 and ECSP2 have a service level agreement to share edge services.
2\. The EEC has a business relationship/subscription to the ECSP1.
3\. The EEC has ECS1 address information and can access to the ECS1 (in
roaming scenario, ECS1 and ECS2indicate the H-ECS and the V-ECS,
respectively).
Figure 7.4.2.2-1: Solution 4 for edge services support across ECSPs
1\. The ECS1 receives request for obtaining EES information, this procedure
may be triggered by following events:
1a. The EEC sends a service provisioning request to the ECS. It is assumed
that the EEC has been pre-configured or has provisioned with the address (e.g.
URI) of the ECS1. The request may include the UE location. For roaming
scenario, the request may also include serving PLMN ID of the UE hosting the
EEC.
1b. The S-EES (EES1) sends the retrieve EES request to the ECS in order to
identify the T-EES which has an EAS available to serve the UE.
2\. If the request does not contain the UE location information, the ECS1
interacts with 3GPP core network to retrieve the UE location. If the ECS1
cannot discover a suitable EES to serve the UE at the received or retrieved UE
location based on the received information (e.g. all the EESs registered on
the ECS1 do not cover the given UE location), the ECS1 discovers potential
ECSs which may have suitable EES based on the information such as the UE
location.
For roaming scenario, if the request does not contain the serving PLMN ID, the
ECS1 may interacts with 3GPP core network to retrieve serving PLMN ID. The
H-ECS checks if the edge computing service for the EEC can be supported in the
VPLMN identified by serving PLMN ID according to the roaming agreement with
VPLMN operator for given ECSPs. The ECS1 discovers the potential ECSs, e.g.
ECS2 which have suitable EES based on the serving PLMN ID. Optionally, the
ECS1 may send a request to ECS2 to verify whether the ECS2 is available. If
yes, ECS2 returns the success response to the ECS1. Otherwise, a failure
response/code is returned.
The H-ECS can check if the edge computing service for the EEC can be supported
in the VPLMN based on the roaming agreement on edge computing services between
PLMNs or service agreement between ECSPs. In the roaming scenario, roaming
agreement on edge computing service can be addressed by SA2 based on the
principles in clause 9.1.
NOTE 1: The ECS1 can filter the list of the discovered ECSs based on the
information elements provided vis the service provisioning request, ECSP
policy configured in ECS, or UE-specific service information. Details of ECSP
and UE-specific service information is out of scope.
NOTE 2: This solution does not exclude other ways for ECS 1 to determine ECS
2. Other solution for determining ECS2 by ECS1 can be utilized in this
procedure when the multiple ECSs are available for an EEC.
3\. ECS1 sends a response message including the list of ECSs information and
failure cause indicating redirection to another ECS (for service provisioning
request or retrieve EES request) to the requester of step 1 if the ECS1 cannot
discover a EES:
3a. In response to the request in step 1a, the ECS1 sends the response message
to the EEC.
3b. In response to the request in step 1b, the ECS1 sends the response message
to the S-EES.
4\. The EEC or source EES can send the request (e.g. resends a service
provisioning request or retrieve EES request) to one of the ECSs received from
the ECS1 e.g. the ECS2. Correspondingly, the EEC or source EES receives
response from the ECS2.
### 7.4.3 Solution evaluation
Solution 4 solves the problems of KI#10 and KI#6. After discovering another
ECS2 which may have suitable EES, the ECS1 sends respond to the EEC or source
EES with the ECS2 information. Then the EEC or source EES can send the request
to the ECS2 directly to retrieve suitable EES. It is possible that some
enhancements on ECS are needed to support ECS discovery.
This solution relies on having sufficient information (e.g. ECSP policy, UE-
specific service information, or ECSs information) configured or available in
an ECS to determine candidate ECSs in step 2.
The Solution #4 will use any agreed solution for determining ECS2 by ECS1.
## 7.5 Solution #5: ECS enhancement to discover EESs via other ECSs to support
edge services across ECSPs
### 7.5.1 Architecture enhancements
A new reference point is required between ECSs, which is described as EDGE-10
in the clause 6.1.1.1.
For a roaming scenario, Option #1 in the clause 6.1 is the basis for this
solution.
### 7.5.2 Solution description
#### 7.5.2.1 General
The following solution corresponds to the key issue #6 on edge services
support across ECSPs in clause 4.6 and to the key issue #10 on support for
roaming UEs in clause 4.10.
The scenario assumption of this solution is that the ECS1 may determine the
ECS2 information (e.g. address, endpoint or service API information) based on
pre-configuration or may discover service API information exposed by that ECS
via CAPIF discovery procedure as specified in TS 23.222 [16].
In this solution, it is assumed that the ECSP1 and ECSP2 have a service level
agreement to share edge services. If the ECS1 cannot discover a suitable EES
to serve the UE at the current location (e.g. all the EESs registered on the
ECS1 do not cover the given UE location), the ECS1 discovers another ECS2
which may have suitable EES and discovers the EES via the ECS2.
NOTE: To configure sufficient information to the ECS, the ECS(s) information
related to other ECSPs may be available at the OAM system due to the inter-
ECSP relationship establishment, which is then used by the OAM system of an
ECSP to configure its ECS. If required, the information of available
applications in a partner ECSP and the corresponding service areas are
included in the configured information. Inter-ECSP relationship establishment
is according to the business relationship between the ECSPs and is out of the
scope of SA6. The OAM to configure its ECS for inter-ECSP relationship is
under the scope of SA5.
#### 7.5.2.2 Procedure
In this solution, when the ECS1 receives the request of EES from the EEC /
source EES, the ECS1 discovers another ECS2 which may have suitable EES and
discovers the EES via the ECS2. The ECS1 then provides the EES information to
the EEC / source EES in the response.
Pre-conditions:
1\. ECSP1 and ECSP2 have a service level agreement to share edge services.
2\. The EEC has a business relationship/subscription to the ECSP1.
3\. The EEC has ECS1 address information and can access to the ECS1 (in
roaming scenario, ECS1 and ECS2 indicate the H-ECS and the V-ECS
respectively).
Figure 7.5.2.2-1: Solution 5 for edge services support across ECSPs
1\. The ECS1 receives request for obtaining EES information, this procedure
may be triggered by following events:
1a. The EEC sends a service provisioning request to the ECS. It is assumed
that the EEC has been pre-configured or has provisioned with the address (e.g.
URI) of the ECS1. The request may include the UE location. For roaming
scenario, the request may also include serving PLMN ID of the UE hosting the
EEC.
1b. The S-EES (EES1) sends the Retrieve EES request to the ECS in order to
identify the T-EES which has an EAS available to serve the UE.
2\. If the request does not contain the UE location information, the ECS1
interacts with 3GPP core network to retrieve the UE location. If the ECS1
cannot discover a suitable T-EES to serve the UE at the received or retrieved
UE location based on the received information (e.g. all the EESs registered on
the ECS1 do not cover the given UE location), the ECS1 discovers another ECS2
which may have suitable EES based on the information such as the UE location.
For roaming scenario, if the request does not contain the serving PLMN ID, the
ECS1 may interacts with 3GPP core network to retrieve serving PLMN ID. The
H-ECS checks if the edge computing service for the EEC can be supported in the
VPLMN identified by serving PLMN ID according to the roaming agreement with
VPLMN operator for given ECSPs. The ECS1 discovers the ECS2 which have
suitable EES based on the serving PLMN ID.
The H-ECS can check if the edge computing service for the EEC can be supported
in the VPLMN based on the roaming agreement on edge computing services between
PLMNs or service agreement between ECSPs. In the roaming scenario, roaming
agreement on edge computing service can be addressed by SA2 based on the
principles in clause 9.1.
3\. The ECS1 further discovers a target EES whose service area can cover the
UE location via the ECS2. The ECS1 may interact with the ECS2 directly or
indirectly via e.g. a Federation manager.
4\. ECS sends the response to the requester of step 1:
4a. In response to the request in step 1a, ECS1 sends the EES information to
the EEC.
4b. In response to the request in step 1b, ECS1 sends the Retrieve EES
response to the requesting EES (EES1).
### 7.5.3 Solution evaluation
This solution addresses KI#6 and KI#10. The EEC or the EES gets the requested
EES information from ECS2 via ECS1. It is possible that some enhancements on
ECS are needed to support service provisioning and EES retrieval request
across the ECSPs.
This relies on preconfigured information of ECS2 at ECS1. The solution will
use any agreed solution for determining ECS2 by ECS1.
## 7.6 Solution #6: ACR update in service continuity planning
### 7.6.1 Architecture enhancements
Option #8 in the clause 6.8 is the basis for this solution.
### 7.6.2 Solution description
The solution addresses the key issue #3 and the open issue on how to deal with
scenarios when the ACR needs to be modified, e.g. due to UE mobility.
The solution can have two different solution variants based on the type of
service continuity planning update. One possible solution is to modify the ACR
service after the launch (described in 7.6.2.1) and another possible solution
is the pause of the ACR services for a pre-defined time or till the detection
entity decides to resume the ACR (described implicitly in 7.6.2.1 as part of
EEC-based modification procedure). ACR pause allows the EEC after the
detection of an expected/predicted UE location and/or mobility change with low
confidence level, to decide on pausing the ACR and to send to S-EES/T-EES the
pause decision and the required time for the pause, or under which criteria
the ACR will resume (or a further ACR modification request may follow after
some time period if EEC identifies that ACR can continue).
#### 7.6.2.1 ACR modification solution
##### 7.6.2.1.1 EEC-based ACR modification procedure
Pre-conditions:
1\. The ACR has been launched.
Figure 7.6.2.1.1-1: EEC-based ACR modification procedure
1\. The EEC detects a change of the expected UE behaviour. In particular, it
may receive from the AC (over EDGE-5) an indication that the
expected/predicted UE location and/or mobility changed. Such message can
include the current and new expected/predicted location or current and new
expected mobility/speed/direction/velocity, and/or an expected change of the
UE route/trajectory.
2\. The EEC identifies that one or more ACR updates are needed based on the
change of the UE behaviour and decides the type of the ACR update to be an ACR
modification or an ACR pause/resume. ACR pause or resume can be a variant of
ACR modification and indicates that the ACR needs to be halted for a given
time or till further notice (e.g. an ACR resume as ACR update may be decided
after some time period if EEC identifies that ACR can continue).
3\. The EEC sends an ACR modification request to the S-EES or T-EES (for EEC
executed ACR via T-EES scenario) to indicate an ACR modification and to
provide the updated parameters, such as the expected completion time. The
request also includes the necessary parameters (e.g. IDs) to indicate the ACR
that is requested to be updated. In case of ACR pause, this message indicates
the request for an ACR pause and can provide the duration for the pause (time
to wait) or under which criteria the ACR is expected to resume. In case of ACR
resume, this message indicates the request for an ACR to be resumed after a
pause.
4\. S-EES or T-EES determines the ACR to be modified based on the request in
step 3. The ACR modification, is executed by the execution entity as described
in clause 7.6.2.1.3.
5\. The S-EES (or T-EES for EEC executed ACR via T-EES scenario) sends an ACR
modification response to the EEC to notify on the result.
6\. The EEC may optionally provide a notification to the AC (over EDGE-5) to
inform on the ACR modification result.
NOTE: This procedure has impacts on EDGE-5 interface.
##### 7.6.2.1.2 EES-based modification procedure
Pre-conditions:
1\. The ACR has been launched.
Figure 7.6.2.1.2-1: S-EES-based ACR modification procedure
1\. The S-EES detects a change of the expected UE behaviour. In particular,
S-EES acting as AF, may receive a UE location report or a monitoring event
report from 5GC (assuming that S-EES has subscribed to consume 5GC services
like LCS or NEF monitoring events). Such UE location report or monitoring
event report may help indicating that the UE is not going to be at the
predicted location at the given time and is expected to deviate by the
original planning.
2\. The S-EES identifies that one or more ACR updates are needed based on the
information on the change of the UE behaviour. The S-EES then decides for each
ACR, the type of the ACR update to be an ACR modification and the parameters
that need to be updated, such as the expected completion time.
3\. S-EES or T-EES determines the ACR(s) to be modified based on the decision
in step 2. For each ACR identified to be updated in step 2, the ACR
modification is executed by the execution entity as described in clause
7.6.2.1.3.
4\. The S-EES sends an ACR modification notification to EEC to notify on the
result.
5\. The EEC may optionally provide a notification to the AC (over EDGE-5) to
inform on the ACR that is modified.
##### 7.6.2.1.3 ACR modification execution procedure
Figure 7.6.2.1.3-1 illustrates the ACR modification execution procedure as
used in the procedures in 7.6.2.1.1 and 7.6.2.1.2.
Pre-condition:
1\. An ACR has been launched between EEC, S-EES, S-EAS, T-EES and S-EAS, where
S-EES and T-EES can be the same or different; and one of the following
preconditions holds:
1.1 The S-EES or T-EES has received an ACR modification request from EEC, e.g.
according to the step 3 of the EEC-based ACR modification procedure in
solution 6 in clause 7.6.2.1.1; or
1.2 The S-EES has decided an ACR modification, e.g. according to step 3 of
EES-based modification procedure in solution 6 in clause 7.6.2.1.2.
Figure 7.6.2.1.3-1: ACR modification execution procedure
1\. If the EAS has subscribed to receive ACR notify for modification, the EES
shall notify the EAS about the need to update the ACR. The EES shall include
the updated parameters in the notification to the EAS.
Depending on the ACR scenario, the EES can be either of S-EES or T-EES. If it
is S-EES, the EAS will be S-EAS. Otherwise if the EES is T-EES, the EAS will
be T-EAS.
2\. The EES processes the updated parameters. The EES sends the updated
parameters to the remote EES, if the updated parameter can be used by the
remote EES to handle the messages from the corresponding EAS, e.g. expected
completion time if provided in step 3 of clause 7.6.2.1.1 for the waiting time
for the ACR status update.
When EES from step 1 is S-EES the remote EES will be the T-EES. Otherwise if
the EES is T-EES, the remote EES will be S-EES.
3\. In response to the message in step 2, the remote EES responds and confirms
the reception and acceptance of the updated parameters.
NOTE: It is assumed that the updated parameters (e.g. updated completion time)
do not require the update of any of the EEC context information.
4\. If in step 1 the S-EAS receives the ACR notify for modification, it may
initiate ACT update process with the T-EAS. Otherwise if in step 1, T-EAS
receives the ACR notify for modification, it may initiate the ACT update
process. S-EAS and T-EAS may perform step 4 in an application specific time
and manner any time after the notification in step 1.
### 7.6.3 Solution evaluation
This solution provides the procedures to update the parameters of an ACR in
service continuity planning. It addresses the third open issue of the KI#3, to
handle scenarios when the ACR needs to be modified, e.g. due to UE mobility.
The solution does not require enhancement to the existing architecture in
Release 17.
## 7.7 Solution #7: EES monitors UE mobility for service continuity planning
### 7.7.1 Architecture enhancements
None.
### 7.7.2 Solution description
#### 7.7.2.1 General
The following solution corresponds to the key issue#3 on enhancements to
service continuity planning in clause 4.3
#### 7.7.2.2 Procedure
In this solution, the EES is responsible to identify the ACR type in ACR
detection part or receive the ACR type from the EAS and the EEC. When
application context transmission is complete, the EAS will send ACR status
update message to the EES, once EES detects that UE moves to the
predicted/expected location, the EES will notify EEC ACR complete message,
then the EEC can be aware of the compeletion of ACR. With this solution the
EAS will not need to monitor the UE mobility and determine when to send the
ACR status update message to the EES.
Compared to the procedure specified in 3GPP TS 23.558 clause 8.8.2.5, the
following differences are captured below:
2\. The detection entities (EEC, S-EAS, S-EES) detect the ACR may be required
and identify the ACID and related ACR type (normal ACR or service continuity
planning).
3\. If the EEC or S-EAS detect the ACR event, the EEC or S-EAS should inform
S-EES with ACID, ACR type and predicted/expected UE location or EAS service
area in the ACR launching procedure.
10\. when S-EAS detects application context transmission is complete, the
S-EAS sends ACR status update request message to the S-EES with ACID.
11\. Once S-EES detects the UE has moved to the predicted/expected UE location
or EAS service area, then the S-EES sends ACR complete notify message to the
EEC.
Compared to the procedure specified in 3GPP TS 23.558 clause 8.8.2.3, the
following differences are captured below:
4\. The EEC performs ACR lauching procedure indicating S-EES with ACR type
(normal ACR or service continuity planning) and predicted/expected UE location
or EAS service area.7. When S-EAS detects application context transmission is
complete, the S-EAS sends ACR status update request message to the S-EES with
ACID.
9\. Once S-EES detects the UE has moved to the predicted/expected UE location
or EAS service area, then the S-EES sends ACR complete notify message to the
EEC indicating that UE has moved to the predicted location.
Enhancements to 3GPP TS 23.558 clause 8.8.3.4 ACR launching procedure
Figure 8.8.3.4-1 illustrates the ACR launching procedure by the EEC or the
Sâ€‘EAS. If this procedure is triggered by the EEC, depending on the ACR action
indicated in the ACR request, the procedure is used for either ACR initiation
or ACR determination. If this procedure is triggered by the Sâ€‘EAS, the
procedure is used for ACR determination.
Pre-condition:
1\. The EEC has been authorized to communicate with the EES as specified in
clause 8.11, if the procedure is triggered by the EEC; and
2\. Information related to the Sâ€‘EES is available with the S-EAS, if the
procedure is triggered by the Sâ€‘EAS.
Figure 8.8.3.4-1: ACR launching procedure
1\. The EEC or the Sâ€‘EAS sends an ACR request message to the EES in order to
start ACR. The ACR request message includes ACR type to indicate whether the
ACR is for normal ACR or service continuity planning. The ACR request message
includes Predicted/Expected UE location or EAS service area to indicate that
the EES should detect whether the UE has moves to the Predicted/Expected UE
location or EAS service area or not in ACR clean-up phase. The ACR request
message includes ACR action to indicate either ACR initiation request or ACR
determination request. If the procedure is triggered by the Sâ€‘EAS, the ACR
request message is only for ACR determination.
An ACR request for ACR initiation:
\- includes an indication of whether the EEC requests the EES to perform EAS
notification; and
\- provides information used by EES to perform AF traffic influence as in 3GPP
TS 23 501 [2].
An ACR request for ACR determination informs the EES that the need for ACR has
been detected at EEC.
2\. The EES checks if the requestor is authorized for this operation. If
authorized, the EES processes the request and performs the required
operations.
If the request in step 1 is for ACR initiation:
\- the EES may use information provided in the request to apply the AF traffic
influence with the N6 routing information of the T-EAS in the 3GPP Core
Network (if applicable), as described in 3GPP TS 23.501 [2], clause 5.6.7.1;
and
\- if the EAS notification indication is provided in the step 1 request and
the EAS has subscribed to receive such notification, the EES shall notify the
EAS about the need to start ACR.
If the request in step 1 is for ACR determination, the EES decides to execute
ACR as described in clause 8.8.2.5.
3\. The EES responds to the requestor\'s request with an ACR response message.
Enhancements to 3GPP TS 23.558 clause 8.8.4.4 ACR request
Table 8.8.4.4-1 describes information elements for the ACR request sent from
the EEC either to the S-EES or T-EES.
Table 8.8.4.4-1: ACR request
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | Requestor Identifier | M | Unique identifier of the | | | | requestor (i.e. EECID or | | | | EASID). | +-----------------------------+--------+-----------------------------+ | Security credentials | M | Security credentials | | | | resulting from a successful | | | | authorization for the edge | | | | computing service. | +-----------------------------+--------+-----------------------------+ | UE identifier (NOTE 4) | O | The identifier of the UE | | | | (i.e. GPSI). | +-----------------------------+--------+-----------------------------+ | ACR type | M | Indicates whether the ACR | | | | is for normal ACR or | | | | service continuity planning | +-----------------------------+--------+-----------------------------+ | Predicted/Expected UE | O | The predicted/expected | | location or EAS service | | location information of the | | area (NOTE 5) | | UE. The UE location is | | | | described in clause 7.3.2 | | | | or the predicted/expected | | | | EAS service area as | | | | described in clause 7.3.3.3 | +-----------------------------+--------+-----------------------------+ | **Prediction expiration |** O**|** The time the UE reaches | | time (NOTE 6)**| | the Predicted/Expected UE | | | | location or EAS service | | | | area at the latest** | +-----------------------------+--------+-----------------------------+ | ACR action (NOTE 3) | M | Indicates the ACR action | | | | (ACR initiation or ACR | | | | determination) | +-----------------------------+--------+-----------------------------+ | ACR initiation data | O | ACR initiation IEs to be | | (NOTE 2) | | included in an ACR request | | | | message when ACR action | | | | indicates it is ACR | | | | initiation request. | +-----------------------------+--------+-----------------------------+ | > T-EAS Endpoint | M | Endpoint information (e.g. | | | | URI, FQDN, IP 3-tuple) of | | | | the T-EAS. | +-----------------------------+--------+-----------------------------+ | > DNAI of the T-EAS | O | DNAI information associated | | | | with the T-EAS. | +-----------------------------+--------+-----------------------------+ | > N6 Traffic Routing | O | The N6 traffic routing | | requirements | | information and/or routing | | | | profile ID corresponding to | | | | the T-EAS DNAI. | +-----------------------------+--------+-----------------------------+ | > EAS notification | M | Indicates whether to notify | | indication | | the EAS about the need of | | | | ACR. | +-----------------------------+--------+-----------------------------+ | > S-EAS endpoint (NOTE 1) | O | Endpoint information of the | | | | S-EAS | +-----------------------------+--------+-----------------------------+ | ACR determination data | O | ACR determination IEs to be | | (NOTE 2) | | included in an ACR request | | | | message when ACR action | | | | indicates it is ACR | | | | determination request. | +-----------------------------+--------+-----------------------------+ | > S-EAS endpoint | M | Endpoint information of the | | | | S-EAS | +-----------------------------+--------+-----------------------------+ | NOTE 1: This IE shall be | | | | present if the EAS | | | | notification indication | | | | indicates that the EAS | | | | needs to be informed. | | | | | | | | NOTE 2: Either ACR | | | | initiation or ACR | | | | determination shall be | | | | included corresponding to | | | | the ACR action. | | | | | | | | NOTE 3: This IE shall | | | | indicate ACR determination | | | | if the request originates | | | | from the Sâ€‘EAS. | | | | | | | | NOTE 4: This IE shall be | | | | present if the request | | | | originates from the EEC. | | | | | | | | NOTE 5: This IE shall be | | | | present if the ACR type | | | | indicates the ACR procedure | | | | is for service continuity | | | | planning. | | | | | | | | **NOTE 6: This IE may be | | | | present if the request is | | | | from EEC and the ACR type | | | | indicates the ACR procedure | | | | is for service continuity | | | | planning.** | | | +-----------------------------+--------+-----------------------------+
NOTE: \"Prediction expiration time\" and \"expected completion time\" in
solution #6 are the same IE.
NOTE: The ACR cancellation can be triggered when UE doesn\'t move to the
location monitored by the EES.
### 7.7.3 Solution evaluation
This clause provides an evaluation of the solution.
This solution address KI#3. It enhances the existing service continuity
procedure in 3GPP TS 23.558 [2] with support for the EES monitoring UE
mobility for service continuity planning. With this solution, the EAS will not
need to monitor the UE mobility and determine when to send the ACR status
update message to the EES.
## 7.8 Solution #8: EAS Service API enablement using CAPIF
### 7.8.1 Architecture enhancements
None.
### 7.8.2 Solution description
#### 7.8.2.1 General
This solution addresses the Key issue #2: Enablement of Service APIs exposed
by EAS as specified in the clause 4.2 by supporting for an EAS to expose its
Service APIs towards the other EASs.
As specified in TS 23.558 (Rel-17), the Edge Enabler Layer exposes Service
APIs towards the EASs. The exposed Service APIs include the capabilities
provided by EES (clause 8.6 of TS 23.558); the capabilities provided by the
3GPP core network (clause 8.7 of TS 23.558); and SEAL service APIs (clause A.4
of TS 23.558).
In this solution, the Edge Enabler Layer also supports for an EAS to expose
its Service APIs (i.e. EAS Service APIs) towards the other EASs in order to
fulfil the architectural requirements specified in the clause 5.2. This
solution exploits CAPIF specified in 3GPP TS 23.222 [16] to support
publication/discovery, and change subscription of EAS Service APIs as studied
in Sol#15 of TR 23.758 (Rel-17) with the following architectural assumptions
within the CAPIF architecture:
\- An EAS may act as an API provider by implementing API provider domain
functions (i.e. API exposing function, API publishing function, and API
management function)
\- An EAS may act as an API invoker
\- An EES may act as a CAPIF provider by implementing CAPIF core function
(CCF)
Note:
\- EES provides support for the logging and audit of EAS API invocation as
described in 3GPP TS 23.222[16], clause 8.19 and clause 8.22.
\- EES control the service API access as specified in clause 8.12 of 3GPP TS
23.222 [16].
Based on the architectural assumption above, the essential operations
regarding EAS Service APIs complying with CAPIF are as follows:
\- An EAS (acting as API provider) may publish its EAS Service APIs to EES
(acting as CAPIF provider) and EES may further publish the EAS service APIs to
remote EES via CCF interconnection.
\- An EAS (acting as API invoker) may discover EAS Service APIs from EES
(acting as CAPIF provider) and EAS Service APIs from remote EES via CCF
interconnection
\- An EAS (acting as API invoker) may subscribe to be notified of dynamic
information or availability of EAS Service APIs from EES (acting as CAPIF
provider)
\- As EAS1(acting as API invoker) discovers EAS2 (acting as API provider) from
EES, it can invoke the Service APIs directly from EAS2
#### 7.8.2.2 CAPIF operations in Edge Enabler Layer
The Figure 7.8.2.2-1 depicts the essential operational steps for EAS Service
API enablement using the CAPIF operations as shown in Annex A of TS 23.222
[16].
Pre-conditions:
1\. The EAS #A-1 and EAS #A-2 have completed the EAS registration with the EES
#A.
Figure 7.8.2.2-1: CAPIF operations in Edge Enabler Layer for EAS Service API
enablement
1\. The EAS #A-2 (AMF) registers its API provider domain functions to the EES
#A (CCF) via CAPIF-5.
2\. The EAS #A-2 (APF) publishes its exposing Service API(s) to the EES #A
(CCF) via CAPIF-4.
3\. The EAS #A-1 (API invoker) performs onboarding process with the EES #A
(CCF) via CAPIF-1.
4\. The EAS #A-1 (API invoker) discovers from the EES #A (CCF) a Service API
required to run via CAPIF-1.
5\. The EAS #A-1 (API invoker) invokes the Service API provided by EAS #A-2
(AEF) via CAPIF-2 as discovered from the EES #A (CCF).
6\. The EAS #A-1 (API invoker) subscribes to notifications of any updates of
target Service APIs on the EES #A (CCF) via CAPIF-1.
7\. The EES #A (CCF) and EES #B (CCF) inter-operate with each other via
CAPIF-6 for interconnection operations for publication and discovery of
Service APIs managed by each EES.
The Figure 7.8.2.2-2 depicts the distributed deployment of EESs (CCFs) as
shown in clause 7.4 of TS 23.222 [16].
Figure 7.8.2.2-2 Distributed EES (CCF) deployment for API invocation across
EES
The essential operations regarding EES deployment and across EES API
invocation complying with CAPIF are as follows
\- In the distributed deployment, EES#A (acting as CCF#A) and EES#B (acting as
CCF#B) interact with CCF#C via CAPIF-6 reference point. The CCF#C assumes the
role of a centralized repository of the service APIs in the PLMN trust
domain.(e.g. Service APIs exposed by EAS #A-2 and EAS #B in the Figure)
\- The EES#A and EES#B publishes the service API(which are published by EAS
#A-2 and EAS #B respectively) provided by its connected API exposing
function(s) to CCF#C, and obtains the service API information provided by
other EES from centralized CCF#C
\- EAS#A-1 (acting as API invoker) is able to discover and invoke the service
APIs provided by EAS#B connected to CCF#B
#### 7.8.2.3 Service KPIs in CAPIF for EAS Service APIs
In TS 23.558, \"Service KPI\" IEs are specified to provide information about
service characteristics provided by EASs; or required by ACs. This is used for
discovery or provisioning of EASs which meet the Service KPIs required by ACs.
In the similar manner, Service KPIs of EASs (as API Providers) need to be
specified in CAPIF to be used for discovery or provisioning of EAS Service
APIs which meet the Service KPIs required by EASs (as API Invokers).
The proposed IEs in CAPIF as specified in 3GPP TS 23.222 [16] related to
Service KPIs can be summarized as follows:
1) Service KPIs provided by EAS as API Provider
a. Service API publish request
i. Service API information
\- Service KPI (new IE): information about service characteristics provided by
the Service API; can be mapped to EAS Service KPIs in EAS Profile [TS 23.558]
of the EAS providing the Service API
2) Service KPIs required by EAS as API Invoker
a. Onboard API invoker response
i Service API information
\- Service KPI per API (new IE): information about service characteristics
provided by the Service API which is allowed to access
b. Service API discover request
i Query information
\- Service KPI (new IE): information about service characteristics as a
criterion for discovering matching Service APIs required by the API invoker
c. Service API discover response
i Service API information
\- Service KPI per API (new IE): information about service characteristics
provided by the Service API corresponding to the discovery request
3) Service KPIs for CAPIF interconnection between EESs
a. Interconnection API publish request
i. Service API information
\- Service KPI (new IE): information about service characteristics provided by
the Service API which is published across CCFs (i.e. implemented in EESs)
b. Interconnection service API discover request
i Query information
\- Service KPI (new IE): information about service characteristics as a
criterion for discovering matching Service APIs across CCFs (i.e. implemented
in EESs)
The relevant information elements of CAPIF are listed as follows. The
highlighted with bold text is proposed to add for supporting the Service KPIs.
Table 7.8.2.3-1: Service API publish request (Table 8.3.2.1-1 of TS 23.222
[16])
* * *
Information element Status Description API publisher information M The
information of the API publisher may include identity, authentication and
authorization information Service API information M The service API
information includes the service API name, service API type, communication
type, description, Serving Area Information (optional), AEF location
(optional), interface details (e.g. IP address, port number, URI), protocols,
version numbers, and data format, **(new) Service KPI**. Shareable information
O (see NOTE) Indicates whether the service API or the service API category can
be published to other CCFs. And if sharing, a list of CAPIF provider domain
information where the service API or the service API category can be published
is contained. NOTE: If the shareable information is not present, the service
API is not allowed to be shared.
* * *
Table 7.8.2.3-2: Onboard API invoker response (Table 8.1.2.2-1 of TS 23.222
[16])
+--------------------------+--------------+--------------------------+ | Information element | Status | Description | +--------------------------+--------------+--------------------------+ | Onboarding status | M | The result of onboarding | | | | request i.e. success | | | | indication is included | | | | if the API invoker is | | | | granted permission | | | | otherwise failure. | +--------------------------+--------------+--------------------------+ | Enrolled information | O | Information from the | | | | provisioned API invoker | | | (see NOTE 1) | profile which may | | | | include information to | | | | allow the API invoker to | | | | be authenticated and to | | | | obtain authorization for | | | | service APIs | +--------------------------+--------------+--------------------------+ | Service API information | O | The service API | | | | information includes the | | | (see NOTE 2) | service API name, | | | | service API type, | | | | communication type, | | | | description, Serving | | | | Area Information | | | | (optional), AEF location | | | | (optional), interface | | | | details (e.g. IP | | | | address, port number, | | | | URI), protocols, version | | | | numbers, and data | | | | format, **(new) Service | | | | KPI**. | +--------------------------+--------------+--------------------------+ | Reason | O | This element indicates | | | | the reason when | | | (see NOTE 3) | onboarding status is | | | | failure. | +--------------------------+--------------+--------------------------+ | NOTE 1: Information | | | | element shall be present | | | | when onboarding status | | | | is successful. | | | | | | | | NOTE 2: Information | | | | element may be present | | | | when onboarding status | | | | is successful. | | | | | | | | NOTE 3: Information | | | | element shall be present | | | | when onboarding status | | | | is failure. | | | +--------------------------+--------------+--------------------------+
Table 7.8.2.3-3: Service API discover request (Table 8.7.2.1-1 of TS 23.222
[16])
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | API invoker identity | M | Identity information of the | | information | | API invoker discovering | | | | service APIs | +-----------------------------+--------+-----------------------------+ | Query information | M | Criteria for discovering | | | | matching service APIs (e.g. | | | | service API type, Serving | | | | Area Information | | | | (optional), preferred AEF | | | | location (optional), | | | | interfaces, protocols, | | | | **(new) Service KPI**) | | | | | | | | (see NOTE) | +-----------------------------+--------+-----------------------------+ | NOTE: It should be possible | | | | to discover all the service | | | | APIs. | | | +-----------------------------+--------+-----------------------------+
Table 7.8.2.3-4: Service API discover response (Table 8.7.2.2-1 of TS 23.222
[16])
+--------------------------+--------------+--------------------------+ | Information element | Status | Description | +--------------------------+--------------+--------------------------+ | Result | M | Indicates the success or | | | | failure of the discovery | | | | of the service API | | | | information | +--------------------------+--------------+--------------------------+ | Service API information | O | List of service APIs | | | | corresponding to the | | (see NOTE 2) | (see NOTE 1) | request, including API | | | | description such as | | | | service API name, | | | | service API type, | | | | Serving Area Information | | | | (optional), interface | | | | details (e.g. IP | | | | address, port number, | | | | URI), protocols, | | | | version, data format, | | | | **(new) Service KPI** | +--------------------------+--------------+--------------------------+ | CAPIF core function | O | Indicates the CAPIF core | | identity information | | function serving the | | | (see NOTE 1) | service API category | | | | provided in the query | | | | criteria | +--------------------------+--------------+--------------------------+ | NOTE 1: The service API | | | | information or the CAPIF | | | | core function identity | | | | information or both | | | | shall be present if the | | | | Result information | | | | element indicates that | | | | the service API discover | | | | operation is successful. | | | | Otherwise both shall not | | | | be present. | | | | | | | | NOTE 2: If topology | | | | hiding is enabled for | | | | the service API, the | | | | interface details shall | | | | be the interface details | | | | of AEF acting as service | | | | communication entry | | | | point for the service | | | | API. | | | +--------------------------+--------------+--------------------------+
Table 7.8.2.3-5: Interconnection API publish request (Table 8.25.2.1-1 of TS
23.222 [16])
+--------------------------+--------------+--------------------------+ | Information element | Status | Description | +--------------------------+--------------+--------------------------+ | CCF information | M | The information of the | | | | CAPIF core function | | | | which publishes APIs, | | | | may include identity, | | | | authentication and | | | | authorization | | | | information | +--------------------------+--------------+--------------------------+ | Service API information | O | The service API | | | | information includes the | | | (see NOTE 1) | service API name, | | | | service API type, | | | | communication type, | | | | description, Serving | | | | Area Information | | | | (optional), AEF location | | | | (optional), interface | | | | details (e.g. IP | | | | address, port number, | | | | URI), protocols, version | | | | numbers, and data | | | | format, **(new) Service | | | | KPI**. | +--------------------------+--------------+--------------------------+ | Service API category | O | The category of the | | | | service APIs to be | | | (see NOTE 1) | published, (e.g. V2X, | | | | IoT) | +--------------------------+--------------+--------------------------+ | Shareable information | O | Indicates whether the | | | | service API or the | | | (see NOTE 2) | service API category can | | | | be published to other | | | | CCFs. And if sharing, a | | | | list of CAPIF provider | | | | domain information where | | | | the service API or the | | | | service API category can | | | | be published is | | | | contained. | +--------------------------+--------------+--------------------------+ | NOTE 1: At least one of | | | | the Service API | | | | information or Service | | | | API category shall be | | | | present. | | | | | | | | NOTE 2: If the shareable | | | | information is not | | | | present, the service API | | | | is not allowed to be | | | | shared. There is one and | | | | only one CAPIF provider | | | | domain information | | | | sharable via the | | | | CAPIF-6e interface. | | | +--------------------------+--------------+--------------------------+
Table 7.8.2.3-6: Interconnection service API discover request (Table
8.25.2.3-1 of TS 23.222 [16])
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | CAPIF core function | M | Identity information of the | | identity information | | CAPIF core function | | | | discovering service APIs | +-----------------------------+--------+-----------------------------+ | Query information | M | Criteria for discovering | | | | matching service APIs or | | | | CAPIF core function (e.g. | | | | service API type, Serving | | | | Area Information | | | | (optional), preferred AEF | | | | location (optional), | | | | interfaces, protocols, | | | | service API category, | | | | **(new) Service KPI**) | | | | | | | | (see NOTE) | +-----------------------------+--------+-----------------------------+ | NOTE: It should be possible | | | | to discover all the service | | | | APIs. | | | +-----------------------------+--------+-----------------------------+
The EAS Service KPIs is defined as below
Table 7.8.2.3-7: EAS Service KPIs
* * *
Information element Status Description Maximum Request rate O Maximum request
rate from the API Invoker supported by the server. Maximum Response time O The
maximum response time advertised for the API Invoker\'s service requests.
Availability O Advertised percentage of time the server is available for the
API Invoker\'s use. Available Compute O The maximum compute resource available
for the API Invoker. Available Graphical Compute O The maximum graphical
compute resource available for the API Invoker. Available Memory O The maximum
memory resource available for the API Invoker. Available Storage O The maximum
storage resource available for the API Invoker. Connection Bandwidth O The
connection bandwidth in Kbit/s advertised for the API Invoker\'s use. NOTE: If
API invoker is on UE then the maximum response time includes the round-trip
time of the request and response packet, the processing time at the server and
the time required by the server to consume 3GPP Core Network capabilities, if
any.
* * *
In TS 23.222 [16], the Service KPIs can be specified as a part of _Query
information_ and _Service API information_ in abstract, so that the Service
KPI IE can be implemented as one or more new attributes of
_ServiceAPIDescription_ data type in TS 29.222 (but it\'s up to the CT3\'s
work).
### 7.8.3 Solution evaluation
This solution allows for an EAS to expose its Service APIs towards the other
EASs. It exploits CAPIF as specified in 3GPP TS 23.222 [16] for
publication/discovery, and change subscription of EAS Service APIs.
This solution addresses the key issue #2: enablement of service APIs exposed
by EAS as specified in the clause 4.2; and fulfils the architectural
requirements for enablement of service APIs exposed by EAS as specified in the
clause 5.2.
This solution relies on the EDGEAPP architecture as specified in TS 23.558 [2]
with extended capabilities of EAS and EES for publication/discovery of EAS
Service APIs but there is no impact to the APIs and procedures of EDGAPP since
the extended capabilities can be realized using CAPIF.
This solution relies on the CAPIF as specified in TS 23.222 [16] with some
updates on the information elements of the CAPIF APIs for publish/discovery.
## 7.9 Solution #9: Application traffic influence trigger from EAS
### 7.9.1 Architecture enhancements
None.
### 7.9.2 Solution description
#### 7.9.2.1 General
This solution addresses key issue 14. An EAS can explicitly request EES
including necessary information to influence the EAS traffic from UE(s). Then
the EES can trigger the AF request to influence traffic routing towards the
3GPP CN for one or more UE(s) accessing the EAS.
#### 7.9.2.2 Procedure
Figure 7.9.2.2: AF influence the traffic for EAS
1\. The EAS sends an EAS traffic influence request.
2\. The EES performs an authorization check to verify whether the EAS has the
authorization to request application traffic influence. The EES includes
target DNAI, traffic descriptor information and N6 routing information at
target DNAI in the Nnef_TrafficInfluence_Create/Update Request to the NEF, or
Npcf_PolicyAuthorization_Create/Update Request to the PCF.
3\. Upon successful authorization, the EES sends the traffic influence request
to 5GC to influence the traffic for EAS as described in 3GPP TS 23.501, clause
5.6.7.1.
4\. The EES sends the EAS traffic influence response.
Table 7.9.2.2-1: EAS traffic influence request
* * *
Information element Status Description EASID M Identifier of the EAS Security
credentials M Security credentials resulting from a successful authorization
for the edge computing service.
* * *
Table 7.9.2.2-2: EAS traffic influence response
* * *
Information element Status Description Successful response O Indicates that
the traffic influence request was successful. Failure response O Indicates
that the traffic influence request has failed. > Cause O Indicates the cause
of failure
* * *
7.9.3 Solution evaluation
This solution addresses key issue 14, it is applicable to the scenario where
the EAS triggers the EES to perform traffic influence. This solution has no
impact to the R17 EDGEAPP architecture.
## 7.10 Solution #10: low power mode support
### 7.10.1 Architecture enhancements
None.
### 7.10.2 Solution description
#### 7.10.2.1 General
The following solution corresponds to the key issue #15 on supporting of
constrained devices for Edge.
For the constrained UEs, there are two aspects should be considered to reduce
the power consumption, one is help UE turn into idle mode or DRX mode when
there is no traffic transmitting between UE and network, another one is help
to reduce the traffic data rate when UE is connected to the network with
transmitting packets.
EEC can get the knowledge about the constrained UE. When the applications are
running with high power consumption, or the UE decides that the battery level
is low and should start power saving, the EEC should send messages to EES with
carrying such indication for low-power consumption requirement and specific
application identifier.
When EES gets low-power consumption indication from EEC, the EES should
trigger two methods to satisfy the constrained UE requirement.
Method1: EES should send the message to corresponding EAS through EDGE-3 that
the data rate should be reduced, so that the downlink data will be reduced and
UE do not need to process high-bandwidth traffic. How to balance the low-power
consumption requirement and the UE experience is based on the EAS
implementation.
Method2: EES should send the UE\'s low-power consumption indication to 3GPP
core network. The 3GPP system may trigger some specific policies or treatment
for such applications and UEs e.g. changing the QoS profile AM policies e.g.
update UE-AMBR, UE- slice MBR, RFSP index and/or service area restriction, for
those UEs as specified in TS 23.502 clause 4.15.6.9, and changing the SM
policies e.g. downgrade the QoS (e.g. reducing Requested Guaranteed Bitrate,
Requested Maximum Bitrate) as specified in TS 23.502 clause 4.15.6.6.
This method may not satisfy the high-level experience of the application but
can support the application running basically.
#### 7.10.2.2 Procedure
Pre-condition:
1\. The AC-EAS cannot handle the negotiation at the application layer.
Figure 7.10.2.2-1: low power mode support
1\. The EEC sends low-power consumption indication to EES with UE Identifier,
EEC ID, AC ID, low-power consumption indicator, which indicating a constrained
UE, and triggers the low power consumption enhancement.
2a. When EES gets the low-power consumption indication, the EES may send low
power indication to EAS to request corresponding EAS to reduce the downlink
packets, which can help constrained UE process the application with
constrained power consumption. The request could provide the UE Identifier(s).
2b. When EES gets the low-power consumption indication, the EES may request
3GPP core network to update the QoS policy to support constrained UE, e.g. EES
could act as an AF to set up a session with required QoS procedure as
specified in TS 23.502 clause 4.15.6.6.
3a. The EAS responds to EES to indicate the low-power processing is successful
or failure.
3b. the 3GPP core network responds to EES with successful or failure.
4\. EES response to EEC.
7.10.3 Solution evaluation
This solution addresses KI#15 by either sending the message to corresponding
EAS to reduce data rate, or triggering some specific policies or treatment for
such applications and UEs to reduce the Requested Guaranteed Bitrate,
Requested Maximum Bitrate.
Editor\'s note: Whether this solution works for all scenarios and should it be
considered in the normative work is FFS.
Editor\'s note: It is FFS whether downgrade the QoS can achieve the UE power
saving.
## 7.11 Solution #11: A deployment option for alignment with ETSI MEC using
CAPIF
### 7.11.1 Architecture enhancements
None.
### 7.11.2 Solution description
#### 7.11.2.1 General
This solution addresses \"KI#5: Alignment of EDGEAPP and ETSI MEC\" in
alignment with ETSI MEC using CAPIF for exposing and invoking Service APIs as
well as \"KI#2: Enablement of Service APIs exposed by EAS\" for exposing EAS
Service APIs to ETSI MEC entities. It specifies a CAPIF deployment option for:
1\. allowing EASs to invoke MEC services, and
2\. exposing Service APIs provided by EES or EAS (as described in KI#2) to MEC
Applications
The following architecture is proposed to use CAPIF for alignment with ETSI
MEC in terms of exposing EAS\|EES Service APIs and invoking MEC Services as a
deployment option.
Based on the proposed deployment option, the alignment of EDGEAPP and ETSI MEC
could be done by mapping or complementing their own APIs to CAPIF APIs,
especially for invoking/exposing Service APIs and MEC Services.
Note that Figure 7.11.2.1-1 below is to illustrate what EDGEAPP and ETSI MEC
could look like when they exploit CAPIF for invoking and exposing their APIs.
There is no such architecture defined in EDGEAPP or ETSI MEC as shown in
Figure 7.11.2.1-1.
Figure 7.11.2.1-1: A deployment option for alignment with ETSI MEC using CAPIF
The proposed deployment option can be realized with the following
implementations:
1) 3GPP EDGEAPP
a. EES may implement CAPIF Core Function to manage the Service APIs exposed by
EAS and EES;
b. EES may implement CAPIF Core Function to interconnect with CCF of ETSI MEC
via CAPIF-6
c. EAS may implement CAPIF API Provider functions in order to expose EAS
Service APIs to EDGEAPP EASs or ETSI MEC Applications
d. EAS may implement CAPIF API Invoker function to invoke EAS Service APIs or
ETSI MEC Services
e. EAS may invoke EES Service APIs via EDGE-3
f. EES may implement CAPIF API Provider functions in order to expose EES
Service APIs (e.g. UE location API, AC information exposure API, etc.) to API
invokers (e.g. EASs, ETSI MEC Applications)
\- i.e. EES Service APIs (as well as EAS Service APIs) need to be published to
CAPIF Core Function
2) ETSI MEC (out of the SA6 scope)
a. ETSI MEC (e.g. MEP) may implement CAPIF Core Function to manage the MEC
Services exposed by MEP and MEC App.
b. ETSI MEC (e.g. MEP) may implement CAPIF Core Function to interconnect with
CCF of EDGEAPP EES via CAPIF-6
c. ETSI MEC (e.g. MEP, MEC App.) may implement CAPIF API Provider functions in
order to enable EDGEAPP EASs to invoke MEC Services via CAPIF-2
d. ETSI MEC (e.g. MEC App.) may implement CAPIF API Invoker function to invoke
EDGEAPP EAS\|EES Service APIs
NOTE: Refer to Annex B.2 of ETSI GS MEC 011 [14] for mapping MEC service
management API to CAPIF APIs.
#### 7.11.2.2 Procedure
The procedures for API publication, API discovery, API invocation, and CCF
interconnection are as specified in TS 23.222 [16].
### 7.11.3 Solution evaluation
This solution provides a deployment option for alignment with ETSI MEC using
CAPIF.
This solution addresses KI#5: Alignment of EDGEAPP and ETSI MEC as specified
in the clause 5.5; and KI#2: Enablement of Service APIs exposed by EAS as
specified in the clause 5.2.
This solution relies on the EDGEAPP architecture as specified in TS 23.558 [2]
with extended roles of EAS and EES as CAPIF entities and extended roles of
ETSI MEC entities like MEP as CAPIF entities to support the alignment of
discovery and invocation of EES\|EAS Service APIs and MEC Services by ETSI MEC
and EDGEAPP entities, respectively.
This solution also relies on the CAPIF as specified in TS 23.222 [16].
## 7.12 Solution #12: Service continuity planning permission
### 7.12.1 Architecture enhancements
None.
### 7.12.2 Solution description
#### 7.12.2.1 General
This solution addresses the key issue #3 on enhancements to service continuity
planning and the key issue #12 on EEL service differentiation.
In this solution, the EEC provides its capability to perform service
continuity planning and the EES can provide information about allowing the
service continuity planning.
#### 7.12.2.2 Procedure
Pre-conditions:
1\. EEC knows whether the planned or predicted UE mobility behaviour is
available.
2\. The EES is locally configured with the UE-specific service information (as
specified in the NOTE 2 in clause 8.5.2.2 of TS 23.558) and the ECSP policy
indicating whether the service continuity planning is allowed or not for each
EAS(s).
NOTE: Details of the ECSP policy and how to configure such ECSP policy into
the EES is not the scope of this solution
Figure 7.12.2.2-1: Service continuity planning permission during EEC
Registration procedure
1\. The EEC provides EEC Service Continuity Support or indication to request
service continuity planning permission when sending EEC Registration request.
The request message may contain the capability of EEC to detect and provide
information about planned or predicted UE mobility behaviour (e.g. including
whether the UE moves to the expected/predicted location or not).
2\. If the EEC Registration request message includes EEC Service Continuity
Support or indication to request service continuity planning permission, the
EES verifies if the service continuity planning is allowed or not for the EEC
based on the ECSP policy or the request from the EAS provider. If the EEC
indicates to the EES in step1 that it cannot detect information about
predicted UE mobility behaviour, then the EES monitors predicted UE mobility
(e.g. including whether the UE moves to the expected/predicted location or not
for service continuity planning.).
If AC profile(s) is provided in step 1, the EES may verify whether the service
continuity planning is allowed or not for each EAS(s) matched with the AC
profile(s) based on the ECSP policy or the request from the EAS provider.
3\. The EES sends EEC Registration response including indication on whether
service continuity planning is allowed or not.
If the EEC receives the indication that service continuity planning is allowed
in step 3, and after the available ACR scenarios are determined for the EEC,
the EEC detects or acquires the planned or predicted UE mobility behaviour
according to the determined ACR scenarios. If the EES verifies and indicates
the service continuity planning permission per application to the EEC in step
2-3, the EEC performs the required detection or acquisition of the planned or
predicted UE mobility behaviour for the EASs allowed for service continuity
planning according to the determined ACR scenarios.
If the EEC is indicated that service continuity planning is not allowed, the
EEC does not issue the application context relocation request for service
continuity planning.
NOTE: If the EEC is indicated that service continuity planning is not allowed,
the EEC does not perform detecting or acquiring the planned or predicted UE
mobility behaviour for the purpose of service continuity planning.
### 7.12.3 Solution evaluation
This solution addresses the key issue #3 on enhancements to service continuity
planning and the key issue #12 on EEL service differentiation. The proposed
solution enables ECSP(s) to allow the service continuity planning selectively
for UEs or for applications. For example, the service continuity will be
enabled only if the resources are sufficient and if the UE (e.g. of a premium
user) is allowed for the predicted application context relocation. In this
regard, the solution #13 proposes potential impact on information to
communicate within EEL in order to enable service differentiation of the
service continuity planning. Specifically, the solution introduces the
following impacts on the EEC and the EES:
\- The EEC supports to provide indication to request service continuity
planning permission and its capability to perform service continuity planning;
and
\- The EES supports to verify if the service continuity planning is allowed
and provide information about the permission of the service continuity
planning to the EEC.
## 7.13 Solution #13: Update ECS configuration information
### 7.13.1 Architecture enhancements
None.
### 7.13.2 Solution description
This solution addresses key issue #6 on edge services support across ECSPs and
key issue #10 on support for roaming UEs in the case where the ECS manages
other ECSP\'s EES information.
This solution proposes to include supported PLMN ID(s) and optionally
supported ECSP ID(s) in the ECS in the ECS configuration information as
described in the following table:
Table 7.13.2-1: ECS configuration information per ECS
Information element Status Description
* * *
... ... ... Supported PLMN ID(s) O The identifier of the PLMNs of which EDN
configuration information can be provided by the ECS as spatial validity
condition. >Supported ECSP List (NOTE) O The identifier of the ECSP(s) that is
contracted with the ECS Provider and its information is available at the ECS,
i.e. EES provider ID(s) >> ECSP ID M Identifier of the ECSP NOTE: If the ECSP
providing EESs does not want to expose its EES deployment information or
business relationship-related information to other ECSPs, this IE is not be
included.
NOTE 1: In Table 7.13.2-1, the Supported ECSP List information can be
associated per PLMN based on the relationships in clause 9.1.1. If ECSPs and
PLMN operators do not want to explicitly expose their relationship in the ECS
configuration information, the Supported ECSP List information may either not
be associated with the Supported PLMN ID or not be included.
NOTE 2: Except in LBO roaming scenario, when the ECS configuration in Table
7.13.2-1 is successfully stored in the UDM, the H-SMF can provide ECS
Configuration Information including a VPLMN ID. In this case, UE can use the
ECS Configuration Information to get EDN configuration information of the
VPLMN only when the UE is registered via a cell of the VPLMN.
The above ECS configuration information may be provisioned to the 5GC
procedure (see 3GPP TS 23.502 [8]) or configured in an ECS so that it can be
used to select proper other ECS in solution #4 of clause 7.4.
NOTE 3: How to provision the updated ECS configuration information via the 5GC
is SA2\'s responsibility.
### 7.13.3 Solution evaluation
This solution addresses key issue #10 on support for roaming UEs.
This solution proposes to include additional information in the ECS
configuration information in order to provide the 5G core network and the EEC
with PLMN ID(s), which can be used to select ECS to be used in scenarios of
roaming.
This solution has no architectural enhancements.
## 7.14 Solution #14: V-ECS Discovery via the H-ECS
### 7.14.1 Architecture enhancements
The EDGE-10 reference point, which is shown in clause 6.1.1.1, may be used
between the V-ECS and H-ECS.
### 7.14.2 Solution description
#### 7.14.2.1 General
This solution addresses aspects of Key Issue #10. Specifically, the solution
explains how the EEC in the roaming UE knows the availability of ECS(s) and/or
EES(s) and discovers them in the VPLMN.
The principle of this solution is that, when roaming, the H-ECS provides
information to the UE so that the EEC can communicate with an ECS in the VPLMN
(i.e. a V-ECS). The UE can then use a home routed PDU Session to communicate
with an H-ECS and an LBO PDU Session to communicate with a V-ECS. In this
solution, the home network does not need to provide V-EES information to the
EEC. The EEC can discover V-EES information by interacting directly with the
V-ECS.
As explained in 3GPP TS 23.501 [5]: _\"The HPLMN can control via subscription
data per DNN and per S-NSSAI whether a PDU Session is to be set-up in HR or in
LBO mode.\"_ This solution explains how the H-ECS can provide information to
the UE that can be used to establish an LBO PDU Session that is used to reach
a V-ECS.
As one option, the H-ECS can provide an FQDN or an IP Address of a V-ECS to
the EEC. When the UE accesses the provided FQDN or IP Address, URSP rules may
steer the UE to use a DNN/S-NSSAI combination that can be used to reach the
V-ECS (e.g. an LBO Session).
As a second option, the H-ECS can provide a DNN / S-NSSAI combination to the
EEC. In this case, the DNN / S-NSSAI combination may be used to send a PDU
Session Establishment Request that will result in an LBO PDU Session. The SMF
in the VPLMN may then send ECS Address Configuration Information to the UE as
described in 3GPP TS 23.548 [19]. The EEC may then use the ECS FQDN or IP
Address from the ECS Address Configuration Information to reach the V-ECS.
#### 7.14.2.2 Procedure
The procedures present high-level overview of Solution #14.
##### 7.14.2.2.1 V-ECS Discovery via the H-ECS by request-response
Figure 7.14.2.2.1-1: V-ECS Discovery via the H-ECS by request-response
1\. The EEC sends a Service Provisioning Request to an ECS in the home network
via a home routed PDU session. As described in 3GPP TS 23.558 [2], clause
8.3.3.3.7, the Service Provisioning Request may include the identity of the
PLMN that the UE is currently registered to.
2\. If the Service Provisioning Request from the EEC did not include a PLMN
ID, then the ECS may invoke the NEF\'s monitoring event API with the
monitoring type set to ROAMING_STATUS and the plmnIndication set to TRUE as
described in 3GPP TS 29.522 [17] and 3GPP TS 29.122 [18]. The ECS receives a
response from the NEF. The response indicates if the UE is roaming and the
identity of the UE\'s serving PLMN.
3\. If the H-ECS is already provisioned with ECS Discovery Information that
can be sent to the UE (e.g. via OAM), then steps 3 and 4 may be skipped. In
this step, the H-ECS may send a V-ECS Information Request to a V-ECS of the
PLMN that the UE is currently registered in order to obtain the information
that should be sent to the UE so that the UE can establish an LBO PDU Session
in the VPLMN. The V-ECS Information Request can include the UE\'s location
information.
The H-ECS can use the PLMN ID to determine the V-ECS to contact. For example,
this can be based on a DNS lookup or the addresses of V-ECSs may have been
pre-configured in the H-ECS (e.g. via OAM). If the VPLMN hosts multiple
V-ECSs, then which V-ECS is resolved can be based on configuration.
4\. The V-ECS responds to the H-ECS with a V-ECS Information Response. The
V-ECS Information Response can include a DNN (O), and S-NSSAI (O) that can be
used by the UE to establish an LBO PDU Session in the VPLMN. The V-ECS can use
the UE\'s location to determine what DNN (O), and S-NSSAI (O) should be sent
to the UE in order to cause the UE to establish an LBO PDU Session with a
suitable DNN/S-NSSAI combination.
NOTE: The information that is used by the H-ECS to contact the V-ECS can be
different than the information that is used by the EEC to contact a V-ECS. As
shown in Figure 7.14.2.2-1, the ECS that is contacted by the UE may be
different.\ Example 1: The UE only requires a DNN/S-NSSAI combination to
establish an LBO PDU Session and get provisioned with a V-ECS FQDN during PDU
Session Establishment.
4\. The ECS sends a Service Provisioning Response. The Service Provisioning
Response may include a new information element called ECS Discovery
Information. The ECS Discovery Information may include ECS Contact Information
(O, i.e. an FQDN of an ECS in the VPLMN), ECS Provider ID (O), DNN (O), and
S-NSSAI (O).
6\. The UE establishes an LBO PDU Session that will be used to communicate
with a V-ECS and/or to obtain ECS Contact Information from the VPLMN.
The ECS Discovery Information from step 5 may include only ECS Contact
Information. In this case, URSP rules may steer the UE to use a DNN/S-NSSAI
combination that can be used to reach the ECS (e.g. an LBO Session).
The ECS Discovery Information from step 5 may include a DNN / S-NSSAI
combination. In this case, the combination may be used to send a PDU Session
Establishment Request that will result in an LBO session. The SMF in the VPLMN
may then send ECS Address Configuration Information to the UE as described in
3GPP TS 23.548 [19].
7\. The EEC sends a Service Provisioning Request to an ECS in the visited
network. The ECS that is contacted in this step (i.e. V-ECS-2) may be
different than the ECS that was contacted in steps 3 and 4 (i.e. V-ECS-1). The
ECS address was obtained in step 5 or step 6.
8\. The EEC receives a Service Provisioning Response via the LBO PDU session
that was established in step 6. As described in step 5, the ECS service
provisioning response may include ECS Contact Information for other ECS(s) in
the VPLMN. For example, the ECS that was contacted in step 7 may be a
\"primary\" ECS of the VPLMN and the \"primary\" ECS of the VPLMN may provide
the UE with ECS Contact Information for other ECS(s) in this step.
##### 7.14.2.2.2 V-ECS Discovery via the H-ECS by subscribe-notify
Figure 7.14.2.2.2-1: V-ECS Discovery via the H-ECS by subscribe-notify
1\. The EEC sends a Service Provisioning Subscription Request to an ECS in the
home network via a home routed PDU session. As described in 3GPP TS 23.558
[2], clause 8.3.3.3.7, the Service Provisioning Subscription Request may
include the identity of the PLMN that the UE is currently registered to.
2\. The ECS invokes the NEF\'s monitoring event API with the monitoring type
set to ROAMING_STATUS and the plmnIndication set to TRUE as described in 3GPP
TS 29.522 [17] and 3GPP TS 29.122 [18]. The H-ECS receives a response from the
NEF.
3\. The ECS sends Service Provisioning Subscribe Response to the EEC.
4\. If the UE is roaming and is detected by the 5GC network, the 5GC sends
notification to the H-ECS. The notification indicates if the UE is roaming and
the identity of the UE\'s serving PLMN.
Steps 5 and 6 are the same as steps 3 and 4 of Figure 7.14.2.2.1-1. If the
H-ECS is already provisioned with ECS Discovery Information that can be sent
to the UE (e.g. via OAM), then steps 5 and 6 may be skipped.
7\. The ECS sends Service Provisioning Notify to the EEC. The Service
Provisioning Notify may include a new information element called ECS Discovery
Information. The ECS Discovery Information may include ECS Contact Information
(i.e. an FQDN of an ECS in the VPLMN, O), ECS Provider ID (O), DNN (O), and
S-NSSAI (O).
Steps 8-10 is the same as steps 6-8 of Figure 7.14.2.2.1-1.
### 7.14.3 Solution evaluation
Solution #4 and this solution share the principle that the home network can
provide the UE with information that is used to contact a V-ECS. In solution
#4 the V-ECS information may be an address, endpoint or service API
information. In this solution, the V-ECS information can include a DNN (O)
and/or S-NSSAI (O). The DNN / S-NSSAI can be used to establish an LBO PDU
Session. Once the UE establishes an LBO PDU Session, Rel-17 procedures can be
used to discover the V-ECS address. This solution and Solution #5 both include
an option where EDGE-10 is used between the H-ECS and V-ECS to obtain the
V-ECS information that can be sent to the UE. For example, the V-ECS may
provide the H-ECS with a DNN/S-NSSAI combination that can be used by the UE to
establish an LBO PDU Session. This solution additionally includes an option
where OAM provisioning is used to provide the H-ECS with the V-ECS
information.
## 7.15 Solution #15: Initial EAS selection declaration
### 7.15.1 Architecture enhancements
None.
### 7.15.2 Solution description
This solution addresses KI#8 and KI#14. In this solution, the EES can know the
selected EAS and the EES is enabled to trigger the EAS traffic influence after
initial EAS is being determined.
Figure 7.15.2-1: Initial EAS selection declaration
In Figure 7.15.2-1 step 1 and 2, the EEC performs the start-up procedures for
initial service provisioning and EAS discovery. EEC may send EAS discovery to
multiple EESs. If registration is required by an EES, EEC registers into the
EES before EAS discovery.
In step 3, the EEC (or AC and EEC) selects the initial EAS from the discovered
EAS candidates.
In step 4, the EEC sends Selected EAS declaration request with AC ID, EAS ID,
EAS endpoint and UE ID to the selected EES (which is determined based on the
selected EAS).
The EES, in step 5:
\- may apply the EAS traffic influence with the N6 routing information of the
EAS in the 3GPP Core Network, based on application KPIs and if the EAS traffic
influence was not done before.
NOTE 1: EES can also influence the EAS traffic in advance.
The EEC is then responded by the selected EES with success/failure of the
request in step 6.
NOTE 2: It is up to the AC to decide when to connect to the selected EAS
(either immediately or wait for a while) once the AC knows the selected EAS.
NOTE 3: The AC is not depicted in above figure for simplicity and solution to
address interaction between AC and EEC is related to KI#4 for step 1 to 3.
Table 7.15.2-1 describes information elements for the selected EAS
announcement request sent from the EEC to the serving EES.
Table 7.15.2-1: Selected EAS announcement request
* * *
Information element Status Description UE ID M The identifier of the UE. AC ID
O The Application Client ID. Security credentials M Security credentials.
Selected EAS ID M Selected EAS identifier. Selected EAS Endpoint M Endpoint of
the selected EAS.
* * *
Currently, the EES can be aware of ongoing AC-EAS session if EAS uses EDGE-3
exposure APIs with UE IP address as input. The APIs are Eees_UEIdentifier and
Eees_SessionWithQoS.
NOTE 4: SSC creation requires EEC Context existence. It can be determined in
the normative phase whether the timing for SSC creation depends on when
Eees_UEIdentifier or Eees_SessionWithQoS is invoked. It can also be possible
that the SSC is not created at all during the entire AC-EAS communication
period.
As an alternative to sending the Selected EAS announcement request, registered
EECs can provide an EEC registration update providing or updating the Selected
EAS Endpoint IE, as introduced by solution #39.
### 7.15.3 Solution evaluation
This solution addresses KI#14. It allows the EES to be aware of the selected
EAS in initial service start so that the EES can control application traffic
influence for the initial application traffic. This solution also addresses
KI#8 about how the EES is aware of the application session information. It is
a viable solution.
## 7.16 Solution #16: EAS discovery for different users
### 7.16.1 Architecture enhancements
None.
### 7.16.2 Solution description
#### 7.16.2.1 General
The following solution corresponds to the key issue #12 on service
differentiation for users.
In this solution, the User information corresponding to service permission
level is introduced to achieve service differentiation.
The User information corresponding to service permission level could be a list
of UE identifier(s) associated with service permission level. It enables EES
support to handle the information of user priority or something like
\"allowed-list\", or EAS deployment segmentation in EDN. And it is provided to
EES by EAS during the EAS registration or EAS registration update.
#### 7.16.2.2 Procedure
In this solution, when EES receives the EAS discovery request, in addition to
service permission level filter, the EES identifies the EAS based on received
User information.
### 7.16.3 Solution evaluation
This solution addresses KI#12. This requires the EAS to provide its
subscription information (e.g. which users are gold-plan users) to the EEL and
let EEL handle the service differentiation, which is not reasonable in the
real use cases, especially when the ASP and the ECSP are different
organizations. In addition, the User information, or a list of UE identifiers,
are dynamic information and can be too large to send in the EAS profile and to
store in the EES. Therefore, this solution based on the User information from
the EAS is not viable.
## 7.17 Solution #17: Traffic influence for initial EAS discovery
### 7.17.1 Architecture enhancements
None.
### 7.17.2 Solution description
#### 7.17.2.1 General
The following solution corresponds to the key issue#14 on application traffic
influence for initial EAS discovery clause 4.14.
#### 7.17.2.2 Procedure
In this solution, the EES will decide whether to perform traffic influence for
the AC before the real data transmission between the AC and the EAS
considering the AC type, requirement of the AC and so on, since AC may not
connect to the EAS immediately after obtain the EAS information, in this case,
the execution of traffic influence is unnecessary.
Figure 7.17.2.2-1: Traffic influence for initial EAS discovery
1\. The EEC determines to perform EAS discovery before the real data
transmission between the AC and the EAS based on the response time in the AC
profile. The EEC sends the EAS discovery request to the EES. The request
contains the AC type, AC Service KPIs.
2\. Upon receiving the request from the EEC, if the AC has high requirement on
response time, then the EES will select one EAS and determine to perform
application traffic influence for this AC before the real data transmission
between the AC and the EAS, based on the AC type, AC Service KPIs, response
time. If the AC does not have high requirement on response time, then the EES
will not perform application traffic influence immediately.
3\. The EES sends the AF request to the 5GC optimizing the user plane path
between the UE and the EAS, if the EES determines to perform application
traffic influence immediately.
4\. The EES sends the EAS discovery response to the EEC. The response contains
the discovered EAS list with EAS being traffic influenced. The EEC sends the
EAS discovery response to the AC.
### 7.17.3 Solution evaluation
The solution #17 is applicable to the scenario where the EES selects the EAS
and performs the traffic influence immediately for the selected EAS after EEC
sent EAS discovery request. It is a viable solution.
NOTE: The EES may only be able to use the Service KPIs to determine whether to
perform traffic influence immediately or not.
## 7.18 Solution #18: Constraint device in EDGEAPP
### 7.18.1 Architecture enhancements
None.
### 7.18.2 Solution description
This solution addresses KI#15. In this solution, in order to reduce power
consumption in the UE, it specifies the EEC with Reduced Capabilities
(RedEEC). The RedEEC skips EEC registration and the EAS discovery procedure is
enhanced to delegate the EAS selection to EES. Figure 7.18.2-1 illustrates the
details interactions.
Figure 7.18.2-1: service provisioning and EAS discovery for constraint device
In step 1, EEC performs service provisioning. For EAS discovery, the EEC sends
the request to a selected EES from the candidate EES(s) and indicates UE type
to EES in step 2. In step 3, the EES performs EAS discovery as described in
clause 8.5.2.2 of 3GPP TS 23.558 [2] and in addition selects a suitable EAS
from discovered candidate EAS(s) if UE type indicates constraint device, then
the EES sends EAS discovery response to the EEC including the selected EAS
information in the Discovered EAS list. In step 5, if the EAS discovery
response contains successful result, the EEC sends to AC the received selected
EAS information and the EAS discovery and selection procedure ends; otherwise,
the EEC repeats step 2 with next selected candidate EES.
NOTE: The EEC can interact with each candidate EES if no appropriate EAS can
be selected by EES.
Table 7.18.2-1 and table 7.18.2-1 below show the detailed impact (highlighted
with **bold** text) for EAS discovery request and response.
Table 7.18.2-1: EAS discovery request
* * *
Information element Status Description Requestor identifier M The ID of the
requestor (e.g. EECID) UE Identifier O The identifier of the UE (i.e. GPSI or
identity token) Security credentials M Security credentials resulting from a
successful authorization for the edge computing service. EAS discovery filters
O Set of characteristics to determine required EASs, as detailed in Table
8.5.3.2-2. UE location O The location information of the UE. The UE location
is described in clause 7.3.2. Target DNAI (NOTE) O Target DNAI information
which can be associated with potential T-EAS(s) EEC Service Continuity Support
O Indicates if the EEC supports service continuity or not. The IE also
indicates which ACR scenarios are supported by the EEC or, if this message is
sent by the EEC to discover a Tâ€‘EAS, which ACR scenario(s) are intended to be
used for the ACR. EES Service Continuity Support (NOTE) O The IE indicates if
the S-EES supports service continuity or not. The IE also indicates which ACR
scenarios are supported by the S-EES or, if the EAS discovery is used for an
Sâ€‘EES executed ACR according to clause 8.8.2.5, which ACR scenario is to be
used for the ACR. EAS Service Continuity Support (NOTE) O The IE indicates if
the S-EAS supports service continuity or not. The IE also indicates which ACR
scenarios are supported by the S-EAS or, if the EAS discovery is used for an
Sâ€‘EAS decided ACR according to clause 8.8.2.4, which ACR scenario is to be
used for the ACR. **UE type** **O** **Indicates UE or device type (e.g.
constraint device)** NOTE: This IE shall not be included when the request
originates from the EEC.
* * *
Table 7.18.2-2: EAS discovery response
* * *
Information element Status Description Successful response O Indicates that
the EAS discovery request was successful. > Discovered EAS list O List of
discovered EAS(s). Each element includes the information described below.
**Based on UE type, only one EAS may be included.** >> EAS profile M Profile
of the EAS. Each element is described in clause 8.2.4 >> Lifetime O Time
interval or duration during which the information elements in the EAS profile
is valid and supposed to be cached in the EEC (e.g. time-to-live value for an
EAS Endpoint) Failure response O Indicates that the EAS discovery request
failed. > Cause O Indicates the cause of EAS discovery request failure.
* * *
In service continuity, to offload UE from monitoring triggers (e.g. location
change) to start ACR, EEC can announce its support for EDN side decided ACR
scenarios (clause 8.8.2.4 and clause 8.8.2.5 of 3GPP TS 23.558 [2]) so that
EEC only need to passively receive ACR information notifications.
### 7.18.3 Solution evaluation
This solution addresses KI#15 with EAS discovery and selection procedure for
constrained device using EDGEAPP. The EEC relies on EES to select an
appropriate EAS (the EEC does not need to select an EAS among discovered EAS
list from candidate EESs).
## 7.19 Solution #19: EES determines the selected ACR scenario
### 7.19.1 Architecture enhancements
None.
### 7.19.2 Solution description
#### 7.19.2.1 General
The following solution corresponds to the Key issue #19: ACR scenario
combination.
#### 7.19.2.2 Procedure
In this solution, the EES is responsible to determine the selected ACR
scenario for each AC based on the ACR scenarios supported by AC, EEC, EES and
EAS. When the EES determines the selected ACR scenario for one AC, the EES
will send the selected ACR scenario for the AC to the EEC and the EAS, then
the EEC will notify the AC with the selected ACR scenario. With this solution
the EES can determine which ACR approach can be enabled for the AC and EAS
considering the detailed information (e.g EAS features, KPIs) of both the AC
and the EAS and thus also avoiding the overlapping of ACR initiations by
multiple entities which introduce unnecessary signalling to resolve co-
existence issues.
Furthermore, the EES can determine the ACR mode (single-ACR scenario or multi-
ACR scenarios) for each AC considering the AC service KPI (e.g. Connection
bandwidth, Request rate, Response time). Using single ACR scenario to detect
the ACR can save the signalling interaction for ACR detect, ACR decision and
ACR excution but may not be able to detect ACR event timely. Using multiple
ACR scenarios to detect the ACR can detect ACR event more timely but may
increase the signalling interaction for ACR detect, ACR decision and ACR
excution.
Figure 7.19.2.2-1: EES determines the selected ACR scenario
1\. The EAS sends an ACR scenario selection subscription request to the EES.
2\. The EES sends an ACR scenario selection subscription response to the EAS
with the subscription result.
3\. The EEC sends ACR scenario selection request to the EES, the request
contains the AC service continuity support and EEC service continuity support
indicating which ACR scenarios are supported by the AC and the EEC.
4\. The EES obtains the AC service continuity support and EEC service
continuity support from UE and EAS service continuity support, then the EES
determines the ACR mode (single-ACR scenario or multi-ACR scenarios) for the
AC and may be based on the ACR scenarios supported by AC, EEC, EES and EAS.
The EES can select appropriate ACR scenario(s) for the AC from the
intersection of the ACR scenarios supported by AC, EEC, EES and EAS.
NOTE 1: The EES can also determine the ACR mode considering AC service KPI
(e.g. Connection bandwidth, Request rate, Response time), which is
implementation specific.
NOTE 2: ACR mode including single-ACR scenario or multi-ACR scenario for one
specific AC.
NOTE 3: The ACR mode, if required or not, will be considered in normative
work.
NOTE 4: The ACR scenario supported by the EAS is available in the EAS service
continuity support of the EAS profile.
Editor\'s note: It is FFS how the EES can know the supported service
continuity scenarios of the T-EES and T-EAS.
5\. The EES sends the ACR scenario selection notification to the EAS, the
notification contains one or more selected ACR scenario(s) and related ACID.
6\. The EES sends the ACR scenario selection response to the EEC including the
selected ACR scenario and related ACID, then the EEC may notify the AC with
the selected ACR scenario.
NOTE 5: Using multiple ACR scenario can detect ACR timely.
### 7.19.3 Solution evaluation
It allows the EES to determine the selected ACR scenario. It is a viable
solution. A new API (ACR scenario selection procedure) is used in this
solution.
NOTE: The selection of a single ACR scenario and therefore single ACR
detection entity may not be suitable for time sensitive applications.
## 7.20 Solution #20: Propagation of EEL notifications to EEC using Edge
Notification Server
### 7.20.1 Architecture enhancements
Architecture enhancement in clause 6.3 is the basis for this solution.
### 7.20.2 Solution description
#### 7.20.2.1 General
The following solution corresponds to the key issue #1, \"enhanced
notification service to the EEC\" as described in clause 4.1.
In this solution, ENS is used as a centralized notification server enhancing
EEL\'s notifications delivery mechanism to EEC. Such an architectural
enhancement allows the EEC to inform EEL of its preferred method (e.g. Long-
polling, WebSocket, FCM, APNS, OMA Push) of receiving notifications and
enables Edge Application architecture to flexibly provide a diverse set of
methods for notifications delivery to EEC.
#### 7.20.2.2 Notification delivery over a direct Notification Channel
Procedure
In this procedure, based on EEC\'s request on the preferred method of
notification delivery (i.e. Log-polling or WebSocket), a direct notification
channel in between the EEC and ENS is established.
NOTE: Notification delivery method using a Push server is described in clause
7.20.2.3.
Pre-conditions:
1\. EEC is aware of the ENS\'s endpoint through provisioning
2\. EES and ECS are authorized to interact with the ENS
3\. EEC is authorized to interact with the ENS, EES and ECS
Figure 7.20.2.2-1: Notification delivery over a direct Notification Channel
1\. The EEC sends a request to ENS for a direct notification channel (e.g. by
indicating either a Long-polling (Pull) or a WebSocket (Push) notification
delivery method).
2\. Upon receiving the request, the ENS performs an authorization check and
further verifies if the requested notification delivery method (e.g. Long-
polling or WebSocket ) can be used. If the request is authorized and the
requested notification delivery method can be used, the ENS assigns a CallBack
URL and an associated Channel URL for the EEC and stores the information for
its subsequent use (i.e. any notification received at the assigned Callback
URL will be made available over the associated Channel for consumption by the
EEC).
3\. If the processing of the request was successful, the ENS responds with the
assigned Callback URL and Channel URL
4\. EEC, upon receiving the Callback URL and Channel URL, based on the type of
direct notification channel (e.g. Long-polling or WebSocket) it wishes to have
with ENS, would either starts polling the Channel URL (e.g. HTTP GET Channel
URL)f or events or uses the Channel URL and prepares it for the Push delivery
(e.g. uses the channel URL and upgrades it to a WebSocket notification channel
as per WebSocket protocol and in essence opens the notification channel for
the flow of notifications as they arrive at ENS).
5\. The EEC sends a EAS discovery subscription request and/or ACR information
subscription request (as described in clauses 8.5.3.4 and 8.8.4.8 of 3GPP TS
23.558 v17.0.0 respectively) to the EES with the Notification Target Address
IE set to the CallBack URL received from the ENS in step 3 above.
6\. Upon receiving the request, the EES performs an authorization check (as
described in clauses 8.5.2.3.2 or 8.8.3.5.2 of TS 23.558 depending on the
subscription request in step 5) and if the request is authorized, the EES
creates the associated subscription resource.
7 EES responds to EEC with the subscriptionId of the created resource.
8 The EEC sends a service provisioning subscribe request (as described in
clause 8.3.3.3.4 of 3GPP TS 23.558 v17.0.0) to the ECS with the Notification
Target Address IE set to the CallBack URL received from the ENS in step 3
above.
9 Upon receiving the request, the ECS performs an authorization check as
described in clause 8.3.3.2.3.2 of TS 23.558 and if the request is authorized,
the ECS creates the associated subscription resource.
10\. ECS responds to EEC with the subscriptionId of the created resource.
11\. Some events of interest to EEC occurs in ECS that satisfies trigger
conditions for updating service provisioning of a subscribed EEC and the
corresponding subscription directs the ECS to push the event to the CallBack
URL which is terminated at the ENS.
12\. ECS pushes the notification to the CallBack URL
13\. ENS, upon receiving an event at the given CallBack URL, identifies the
associated Channel URL (which it created and assigned to the EEC in step 2
above) and determines which notification delivery method was requested by the
EEC (as per step 1 above). ENS forwards the notification to EEC either by
responding to the Long-polling request (if EEC is using the Long-polling
method) or pushes the notification to the EEC (if EEC is using a Push method
such as the WebSocket delivery method),
14\. Some events of interest to EEC occurs in EES that satisfies trigger
conditions for updating a subscribed EEC with the EAS discovery information or
ACR related information (e.g. ACR complete event) and the corresponding
subscription directs the EES to push the event to the CallBack URL which is
terminated at the ENS.
15\. EES pushes the notification to the CallBack URL
16\. ENS, upon receiving an event at the given CallBack URL, identifies the
associated Channel URL (which it created and assigned to the EEC in step 2
above) and determines which notification delivery method was requested by the
EEC (as per step 1 above). ENS forwards the notification to EEC either by
responding to the Long-polling request (if EEC is using the Long-polling
method) or pushes the notification to the EEC (if EEC is using a Push method
such as the WebSocket delivery method).
#### 7.20.2.3 Notification delivery using a Push Server Procedure (indirect
Notification Channel)
In this procedure, based on EEC\'s request that the preferred method of
notification delivery being via a Push server, there is no need for a direct
notification channel between the EEC and ENS. Instead, ENS forwards the
notifications through an identified Push server to the EEC. In other words,
based on EEC\'s request, an indirect notification channel between the EEC and
ENS with the Push server as an intermediary is established.
NOTE 1: This procedure reuses the Push function setup steps 1a, 1b and 1c
described in solution #1 (see clause 7.1.2.2).
Pre-conditions:
1\. EEC is aware of the ENS\'s endpoint through provisioning
2\. EES and ECS are authorized to interact with the ENS
3\. EEC is authorized to interact with the ENS, EES and ECS
4\. ENS is aware of the Push server endpoint and is authorized to interact
with it
Figure 7.20.2.3-1: Notification delivery using a Push Server
1\. The EEC registers with the push function within the UE. The EEC acquires a
push token and push server information from the push function. This step is
depicted as sub-steps 1a, 1b and 1c in Figure 7.20.2.2-1.
NOTE 2: The push server provides the push function in the UE with a push
token, which is delivered to the EEC.
2\. The EEC sends a request to ENS for an indirect notification channel via
the identified Push server. The request contains the Push server information
as well as the EEC\'s push token (see step 1)
3\. Upon receiving the request, the ENS performs an authorization check and
further verifies if the requested notification delivery method (i.e. Push
server) can be used. If the request is authorized and the requested
notification delivery method can be used, the ENS assigns a CallBack URL for
the EEC and stores the information for its subsequent use (i.e. any
notification received at the assigned Callback URL will be forwarded to the
associated Push server for consumption by the EEC).
4\. If the processing of the request was successful, the ENS responds with the
assigned Callback URL.
5\. The EEC sends a EAS discovery subscription request and/or ACR information
subscription request (as described in clauses 8.5.3.4 and 8.8.4.8 of 3GPP TS
23.558 v17.0.0 respectively) to the EES with the Notification Target Address
IE set to the CallBack URL received from the ENS in step 4 above.
6\. Upon receiving the request, the EES performs an authorization check (as
described in clauses 8.5.2.3.2 or 8.8.3.5.2 of TS 23.558 depending on the
subscription request in step 5) and if the request is authorized, the EES
creates the associated subscription resource.
7\. EES responds to EEC with the subscriptionId of the created resource.
8\. The EEC sends a service provisioning subscribe request (as described in
clause 8.3.3.3.4 of 3GPP TS 23.558 v17.0.0) to the ECS with the Notification
Target Address IE set to the CallBack URL received from the ENS in step 4
above.
9\. Upon receiving the request, the ECS performs an authorization check as
described in clause 8.3.3.2.3.2 of TS 23.558 and if the request is authorized,
the ECS creates the associated subscription resource.
10\. ECS responds to EEC with the subscriptionId of the created resource.
11\. Some events of interest to EEC occurs in ECS that satisfies trigger
conditions for updating service provisioning of a subscribed EEC and the
corresponding subscription directs the ECS to push the event to the CallBack
URL which is terminated at the ENS.
12\. ECS pushes the notification to the CallBack URL
13\. ENS, upon receiving an event at the given CallBack URL, identifies the
associated Push server and the EEC\'s push token (which it received from EEC
in step 2 above) and pushes the notification to the identified Push server
using the given EEC\'s push token notification.
14\. Push server forwards the notification to the EEC via the push function.
15\. Some events of interest to EEC occurs in EES that satisfies trigger
conditions for updating a subscribed EEC with the EAS discovery information or
ACR related information (e.g. ACR complete event) and the corresponding
subscription directs the EES to push the event to the CallBack URL which is
terminated at the ENS.
16\. ECS pushes the notification to the CallBack URL
17\. ENS, upon receiving an event at the given CallBack URL, identifies the
associated Push server and the EEC\'s push token (which it received from EEC
in step 2 above) and pushes the notification to the identified Push server
using the given EEC\'s push token notification.
18\. Push server forwards the notification to the EEC via the push function.
### 7.20.3 Solution evaluation
The proposed solution addresses Key Issue #1.
The Edge Notification Server enables an EDGEAPP architectural mechnism via
which many different ways of pushing notifications to the EEC would become
possible. Hence, the best notification delivery method can be offered to the
EEC/UE for the use case at hand as per EEC\'s request based on the given UE\'s
limitations.
The Edge Notification Server should be viewed as an umbrella for different
notification deliver methods to the EEC, one of which is solution #1 as per
clause 7.1. Such an EDGEAPP architectural enhancement provides the needed
flexibilty to handel different use cases while considering varrying UE\'s
limitations.
The Edge Notification Server is considered an optional feature of the EDGEAPP
architecture.
## 7.21 Solution #21: Prediction expiration time for service continuity
planning enhancement
### 7.21.1 Architecture enhancements
None.
### 7.21.2 Solution description
#### 7.21.2.1 General
The following solution corresponds to the key issue #3 Enhancements to service
continuity planning in clause 4.3.
In service continuity planning, the ACR is performed for a predicted or
expected location of the UE in the future. Since the prediction is for a
future location in a future time, a prediction expiration time is introduced
to take account for the future time window in which the prediction is expected
to happen. Therefore, in this solution, EEC includes its expectation or
knowledge of the time that it expects the prediction to happen within the ACR
request at latest. This is the time that the EEC requests the T-EAS to wait
for the AC to connect at latest. The EESs can consider this time in deciding
the time that they will wait for the ACR status update from the corresponding
EASs.
EES can take into account the prediction expiration time in processing the ACR
request message, e.g. accepting or rejecting the request. In case that the
request is authorized and accepted by the EES, it also includes it in the
notification (if any) to the EAS. Similarly, EAS can take into account the
prediction expiration time in performing ACT. T-EAS and T-EES will receive the
prediction expiration time and may consider it in deciding whether and for how
long to wait for the UE to connect to them.
#### 7.21.2.2 Procedure
Figure 7.21.2.2-1 illustrates the EEC triggered ACR scenario for service
continuity planning.
Pre-condition:
1\. The EEC has been authorized to communicate with the EES.
2\. EEC has detected the need for ACR for an expected/predicted location in
the future.
Figure 7.21.2.2-1: EEC triggered ACR scenario for service continuity planning
1\. The EEC sends an ACR request message to the EES with initiation or
determination action. Depending on the ACR scenario, the EES can be either of
S-EES or T-EES.
In case of service continuity planning the ACR request message may include
also the prediction expiration time to indicate the time that the EEC expects
the prediction takes place at latest. This is the time that the EEC requests
the T-EAS to wait for the AC to connect at latest.
2\. The EES checks if the requestor is authorized for this operation. If
authorized, the EES processes the request and performs the required
operations.
2a. If authorized and if EES decides to continue the ACR, if the EAS
notification indication is provided in the step 1 request and the EAS has
subscribed to receive such notification, the EES shall notify the EAS about
the need to start ACR. In that case, if the request in step 1 includes a
prediction expiration time, the EES includes it in the notification to EAS.
If the request in step 1 is to S-EES this EAS is the S-EAS. Otherwise if the
request of step 1 is to T-EES, this EAS is the T-EAS.
3\. The EES responds to the requestor\'s request, i.e. EEC, with an ACR
response message.
4\. (a) If the action in the request in step 1 is initiation, the EES sends
the information and parameters of the ACR to the remote EES. Otherwise if the
action is determination the EES first discovers the T-EES and T-EAS, and then
sends the information and parameters of the ACR to the T-EES.
(b) If the remote EAS has subscribed to receive such notification, the remote
EES shall notify the EAS about the need to ACR and includes corresponding
parameters of the ACR, e.g. prediction expiration time if it is provided in
the request in step 1.
(c) The remote EES sends the response back to the EES to confirm it has
received the ACR parameters.
If the request in step 1 is to S-EES the remote EES is the T-EES. Otherwise if
the request of step 1 is to T-EES, the remote EES is the S-EES.
If the \"Prediction expiration time\" is not acceptable for the T-EAS, e.g.
due to resource status, the EAS can reject the ACT. In that case the ACT
fails.
5\. The ACR is executed depending on the ACR scenario. S-EAS and T-EAS perform
application context transfer (ACT) in an application specific time and manner.
The EAS may use the prediction expiration time received in step 2a to decide
on whether and how to perform the ACT. The T-EAS may also consider it in
deciding whether and for how long to wait for the AC of the UE to connect to
it.
6\. The EAS sends the failure or success message in the ACR status update
based on the results of step 5b. EAS can consider the prediction expiration
time received in step 2a, if provided, to send the message in step 6.
If the request in step 1 is to S-EES this EAS is the S-EAS. Otherwise if the
request of step 1 is to T-EES, this EAS is the T-EAS.
If the ACT as per step 5 is performed, and the AC (UE) does not connect to the
T-EAS by \"Prediction expiration time\", the EAS can send ACT failure with the
appropriate cause to the EES. In that case, the T-EAS can delete the
transferred application context.
7\. The EES sends the ACR complete notify to the EEC with failure or success
result. The EES also considers the failure or success message received in step
6 in the ACR complete notification.
NOTE: The \"Prediction expiration time\" is not processed by the EES in this
solution. Whether and how the EES can use this IE is out of the scope of this
solution.
### 7.21.3 Solution evaluation
The Solution addresses KI#3 by including a prediction expiration time withing
ACR request from the EEC. This information can be used by T-EAS to adjust its
waiting time for the UE to reach the service area.
## 7.22 Solution #22: Support simultaneous EAS connectivity in ACR
### 7.22.1 Architecture enhancements
None.
### 7.22.2 Solution description
#### 7.22.2.1 Solution for traffic influence
To solve the issue about traffic influence to maintain both S-PSA and T-PSA to
support simultaneous connectivity with both S-EAS and T-EAS during the service
continuity, the AC includes the need for simultaneous EAS connectivity in the
AC profile and the AC profile is sent to EEC via EDGE-5 reference point so
that the EEC can request such need in the ACR request sent to EES. Then the
EES, at the time of requesting traffic influence towards 3GPP CN, provides
additional requirement for simultaneous PSA connectivity as described in
clause 6.3.4 of 3GPP TS 23.548 [19].
Figure 7.22.2.1-1 describes the detailed interaction between the AC and EEC
for AC registration procedure (a possible way to provide AC profile to EEC).
Figure 7.22.2.1-1: AC Registration procedure
1\. The AC sends AC registration request to EEC, the request includes the AC
profile (see table 7.22.2.1-1).
2\. The EEC authorizes the AC registration request and stores the AC profile.
3\. The AC is responded with AC registration response (success/failure).
Table 7.22.2-1: AC Profile
* * *
Information element Status Description ACID M Identity of the AC. AC Type O
The category or type of AC (e.g. V2X). This is an implementation specific
value. Preferred ECSP list O When used in a service provisioning request, this
IE indicates to the ECS which ECSPs are preferred for the AC. The ECS may use
this information in the selection of EESs. AC Schedule O The expected
operation schedule of the AC (e.g. time windows) Expected AC Geographical
Service Area O The expected location(s) (e.g. route) of the hosting UE during
the AC\'s operation schedule. This geographic information can express a
geographic point, polygon, route, signalling map, or waypoint set. AC Service
Continuity Support O Indicates if service continuity support is required or
not for the application. The IE also indicates which ACR scenarios are
supported by the AC and which of these are preferred by the AC. **Simultaneous
EAS connectivity information in service continuity** **O** **Indicates if
simultaneous EAS connectivity is needed and the inactive time guidance for
keeping connectivity towards the S-EAS.** List of EASs O List of EAS that
serve the AC along with the service KPIs required by the AC > EASID M
Identifier of the EAS > Expected AC Service KPIs O KPIs expected in order for
ACs to receive currently required services from the EAS > Minimum required AC
Service KPIs O Minimum KPIs required in order for ACs to receive meaningful
services from the EAS
* * *
Figure 7.22.2.1-2 describes the detailed interaction between the EEC and EES
during service continuity (i.e. ACR).
Figure 7.22.2.1-2: ACR initiation procedure
0\. The EEC is informed about AC profiles (e.g. during AC registration
procedure as depicted in Figure 7.22.2.1-1).
1\. The EEC triggers ACR request (type: initiation) to EES, the request
includes the simultaneous EAS connectivity information in service continuity
(see table 7.22.2.1-2) which was previously received as part of the AC profile
(see table 7.22.2.1-1).
2\. The EES authorizes the ACR request. Then the EES may use information
provided in the request to apply the AF traffic influence with the N6 routing
information of the T-EAS and Simultaneous EAS connectivity information in the
3GPP Core Network (if applicable), as described in clause 5.6.7.1 of 3GPP TS
23.501 [5] and clause 6.3.4 of 3GPP TS 23.548 [19].
Editor\'s note: Since the 3GPP CN only supports simultaneous PSA connectivity
in SSC mode 3 or session breakout, it is FFS whether EES should firstly know
PDU session capability before invoking AF traffic influence API.
3\. The EEC is responded with ACR response (success/failure).
Table 7.22.2.1-2: ACR request
* * *
Information element Status Description Requestor Identifier M Unique
identifier of the requestor (i.e. EECID or EASID). Security credentials M
Security credentials resulting from a successful authorization for the edge
computing service. EASID O Identifier of the EAS UE identifier O The
identifier of the UE (i.e. GPSI). ACID O The identifier of the AC. ACR action
M Indicates the ACR action (ACR initiation or ACR determination) ACR
initiation data O ACR initiation IEs to be included in an ACR request message
when ACR action indicates it is ACR initiation request. > T-EAS Endpoint M
Endpoint information (e.g. URI, FQDN, IP 3-tuple) of the T-EAS. > Previous
T-EAS Endpoint (NOTE 7) O Endpoint information (e.g. URI, FQDN, IP 3-tuple) of
the T-EAS of the previous ACR. > DNAI of the T-EAS O DNAI information
associated with the T-EAS. > N6 Traffic Routing requirements O The N6 traffic
routing information and/or routing profile ID corresponding to the T-EAS DNAI.
**> Simultaneous EAS connectivity information** **O** **Indicates if
simultaneous EAS connectivity is needed and the inactive time guidance for
keeping connectivity towards the S-EAS.** > EAS notification indication M
Indicates whether to notify the EAS about the need of ACR. ... ... ... > S-EAS
endpoint O Endpoint information of the S-EAS ACR determination data O ACR
determination IEs to be included in an ACR request message when ACR action
indicates it is ACR determination request. > S-EAS endpoint M Endpoint
information of the S-EAS
* * *
### 7.22.3 Solution evaluation
This solution addresses KI#4 about \"Whether and how an AC registers to an
EEC\". During the AC registration, the AC is able to indicate its desire for
keeping Simultaneous EAS Connectivity. This solution addresses KI#21 about
traffic influence. The EES interacts with 3GPP CN to satisfy AC need during
ACR request processing.
## 7.23 Solution #23: UE identification with NAT
### 7.23.1 Architecture enhancements
None.
### 7.23.2 Solution description
#### 7.23.2.1 General
This solution corresponds to KI#16 on support of NAT deployed within the edge
data network.
In this solution, the EEC provides either the CN network assigned IP address
(i.e. the private IP address of the UE) or its UE ID (if it already has one)
to the EES to obtain the UE identifier (Edge UE ID) from the EES. If the UE ID
is not provided, EES uses the private IP address of the UE provided by the EEC
to invoke the CN capability to translate UE\'s IP address to its UE ID (e.g.
UE\'sExternal UE ID).
Once obtained, the EEC passes the Edge UE ID to the AC, which provides it to
the EAS for use over EDGE-3 interface. This also allows the UE to protect its
privacy by providing an option to obtain from the EES an Edge UE ID to share
with the EAS(s) via the AC(s) instead of exposing its UE ID (if it already has
one) to the AC(s). With EAS and EES both being aware of the Edge UE ID, issues
pertaining to NAT and UE identification with privacy are resolved.
NOTE 1: The UE ID provided by EEC is in the form of MSISDN.
NOTE 2: SA3 coordination may be needed corresponding to privacy.
#### 7.23.2.2 Procedure
Figure 7.23.2.2 illustrates the procedure for the EEC to obtain the Edge UE ID
from the EES and provide to the AC.
Figure 7.23.2.2-1: EEC obtaining UE ID from the EES
1\. AC sends an Edge UE ID request to the EEC. The request may include the
list of EASIDs for which the AC is requesting the Edge UE ID information.
2\. The EEC upon receiving the request validates if AC is authorized to
request this information. If AC is authorised, the EEC sends the Edge UE ID
request to the EES. The request includes either the CN assigned private IP
address of the UE or its UE ID (if it already has one) and may include the
list of EASIDs if provided by the AC.
NOTE 1: EEC can also send this request without receiving a request from AC in
step 1.
NOTE 2: Private IP address used by AC and private IP address used by EEC can
be the same or different (if different PDU sessions are used). The request
from EEC can include either of the IP addresses.
3\. Upon receiving the request from EEC, the EES authorizes the EEC. If
authorized and the UE ID is not included in the request the EES invokes the CN
capability APIs. There are three alternate approaches:
a. EES invokes Nnef_UEId_Get for translating the UE\'s Private IP address to
its UE ID as defined in 3GPP TS 23.502 [08] clause 4.15.10. If the request
from EEC includes a list of EASIDs, the EES may invoke the Nnef_UEId_Get API
for each EAS individually to obtain EAS specific UE ID(s); OR
b. Alternatively (to step 3a), EES invokes the CN capability APIs for
translating UE's NATed IP Address and the port number to its UE ID.
Optionally, EAS may also provide UE's NATed IP address and port number to EES
to obtain UE ID; OR
c. Alternatively (to step 3.a. or step 3.b.), EES invokes the CN capability
APIs for translating UE's EECID to its UE ID.
NOTE 3: For step 3.a., coordination with SA2 is required if SA2 supports to
check whether EEC could get the IP domain information and expose it to EES to
solve the IP address overlapping issue.
NOTE 4: For step 3.b. and 3.c., the request from EEC in Step 2 may not include
UE's Private IP address.
NOTE 5: For step 3.b. and 3.c., coordination with SA2 is required to check
whether this can be implemented as alignment work in Rel-18.
The EES generates temporary Edge UE ID(s) which may be the same as the 3GPP CN
provided UE ID or may be assigned by the EES itself. If UE ID is included in
the request received from EEC, the EES generates temporary Edge UE ID. The
temporary Edge UE ID may be specific for the EASs included in request received
from EEC in step 2, in which case upon receiving a request on EDGE-3
interface, the EES matches the EASID in the request with EASIDs to which the
Edge UE ID was assigned before processing the request.
4\. The EES sends the Edge UE ID response to the EEC including the Edge UE
ID(s).
5\. Upon receiving the response from the EES, the EEC provides the Edge UE ID
information to the AC by sending the Edge UE ID response.
6\. The AC provides the Edge UE ID information to the EAS.
NOTE 6: Details on how the AC provides the information to the EAS is out of
scope.
7\. Once received from the AC, the EAS uses the Edge UE ID to invoke the APIs
provided by the EES over EDGE-3 interface (e.g. T-EAS Discovery, UE location
request, ACR request, and EELManangedACR services).
8\. Once received from the EES, the EEC uses the Edge UE ID to invoke API
provided by the EES over EDGE-1 interface (e.g. EAS Discovery and ACR request
services).
9\. The EES uses the UE ID received from the EEC or obtained from the CN in
step 3 to invoke the 3GPP CN capabilities as in TS 23.558, Clause 8.10.3. This
step can be performed following triggers that require 3GPP CN capabilities to
be invoked (e.g. on receiving a request over EDGE-1 or EDGE-3), in which case,
to invoke the 3GPP CN capabilities the EES uses the UE ID associated with the
Edge UE ID included in the trigger.
NOTE 7: This procedure has impacts on EDGE-5 interface.
### 7.23.3 Solution evaluation
This solution solves open issues of KI#16. The solution provides three
approaches to obtain UE ID. In the first approach of this solution EES
translates the EEC provided UE\'s private IP address to its UE ID using the CN
provided capability (Nnef_UEId_Get). This UE ID is then shared back to the
EEC, which provides it to the AC. AC can then share the UE ID with the EAS for
use over EDGE-3 interface.
In some network deployments, there may be a private IP address overlap issue
where more than one UE is assigned the same private IP address. Support from
SA2 is required in such cases.
In second approach (as captured in step 3.b. of clause 7.23.2.2), EES uses
NATed/public IP of the UE to obtain the UE ID. In a third approach (as
captured in step 3.c. of clause 7.23.2.2), EES uses the globally unique EECID
to obtain the UE ID. These approaches require enhancement of 3GPP CN.
NOTE: These two additional approaches require coordination with SA2 to handle
this as part of the alignment work in Rel-18. In particular, the third
approach would additionally require enhancement of the 3GPP CN to maintain an
association between the EECID and UE ID, which also requires coordination with
SA2. Furthermore, additional coordination is required with SA3 in determining
whether there is any security issue in using an identifier, i.e. the EECID,
which is not provided by the 3GPP CN to map to a UE ID.
In all approaches, the solution also allows the EES to convert the CN or EEC
provided UE ID to Edge UE ID, which is managed by the EES. Edge UE ID ensures
privacy of the UE ID and allows the EES to assign EAS specific IDs for
controlled access over EDGE-3 interface. EEC can request the Edge UE ID on its
own, this allows the EEC to use the received Edge UE ID over EDGE-1 interface.
Coordination with SA3 is required to check whether there is a security issue
if the EEC shares its private IP address or MSISDN with a trusted 3rd party
EES.
In this solution, whether EESs use the same or different algorithms to
generate Edge UE ID and whether the Edge UE ID should be unique should be
specified in normative work.
## 7.24 Solution #24: ACR between EAS and CAS with CES
### 7.24.1 Architecture enhancements
Architecture enhancements in clause 6.6 is the basis for this solution.
### 7.24.2 Solution description
#### 7.24.2.0 General
Figure 7.24.2-2: UE moves from one EDN to Cloud DN then to another EDN
As depicted in figure 7.24.2-2, since the EAS may have service area
restriction, once the UE is moving out of the current edge coverage, to keep
service continuity, the application client needs to connect to either another
EAS in new EDN or the CAS. For the latter case, when CES is deployed, the EES
may interact with the CES via EDGE-9\' reference point and application context
is transferred between the EAS and CAS. Later, if the UE is moving to an area
with edge coverage, the CES interacts with the EES via EDGE-9\' reference
point and application context is transferred between the CAS and EAS.
#### 7.24.2.1 ACR Scenarios
The ACR scenarios in TS 23.558 can be extended to include ACR between EAS and
CAS. The extension would also include extensions to relevant procedures used
in the ACR Scenarios (e.g. Service provisioning, T-EAS discovery, ACR
request).
##### 7.24.2.1.1 CAS decided ACR scenario
TS 23.558 clause 8.8.2.4 \"S-EAS decided ACR scenario\" can be updated to
allow \"CAS decided ACR scenario\". The S-EAS can be the CAS, the S-EES can be
the CES when ACR happens between CAS and EAS. The CES will, therefore, need to
be part of the EEL that facilitate the discovery of the T-EAS by interacting
with the ECS.
Since in this procedure T-EAS discovery is used by the CAS -- in step 3 \-- to
discover the T-EAS the procedure in TS 23.558 clause 8.8.3.2 \"Discover
T-EAS\" is also updated as described in clause 7.25.2.2.2.
##### 7.25.2.2.2 \"Discover T-EAS\" for CAS
TS 23.558 clause 8.8.3.2 \"Discover T-EAS\" can be updated to allow CAS to
discover T-EAS. The S-EAS can be the CAS, the S-EES can be the CES when ACR
happens between CAS and EAS. Therefore, the CES has to be part of the EEL to
facilitate the discovery of the T-EAS by interacting with the ECS.
### 7.24.3 Solution evaluation
This solution addresses KI#11. The introduction of CES deployed in the central
DN enables application service continuity using EDGEAPP mechanisms.
The solution provides ACR scenario parity support for relocating application
session between EAS and CAS, existing 5 ACR scenarios (including service
continuity planning) can be supported with introduction of CES.
## 7.25 Solution #25: ACR between EAS and CAS without CES
### 7.25.1 Architecture enhancements
Architecture enhancements in clause 6.5 is the basis for this solution.
### 7.25.2 Solution description
#### 7.25.2.1 General
The following solution addresses open issues of key issue #11, ACR between EAS
and Cloud Application Server.
#### 7.25.2.2 Procedure
The scenarios specified in 3GPP TS 23.558 (Rel-17) clause 8.8 have been
updated to consider the ACR between EAS and Cloud Application Server.
##### 7.25.2.2.1 Updated 3GPP TS 23.558 clause 8.8.2.2 Initiation by EEC using
regular EAS Discovery
The scenario handles ACR as a result of the UE moving to, or the UE expecting
to move to, a new location which is outside the service area of the serving
EAS. It further relies on the EEC being triggered as a result of the UE\'s
movement.
This scenario is based on Service Provisioning (as specified in TS 23.558) and
DNS procedures to discover the CAS that shall serve the AC as a result of the
UE\'s new location, and that shall receive the Application Context from the
serving EASs. The scenario below describes the relocation of a single
application context to a CAS. However, it should be repeated for each active
AC in the UE for which EAS or EDN is not available on that UE location.
Figure 7.25.2.2.1-1: Updated 3GPP TS 23.558 Figure 8.8.2.2-1: ACR initiated by
the EEC and AC
The pre-conditions:
1\. The AC in the UE already has a connection to a corresponding S-EAS;
2\. The preconditions for the Service provisioning - Request/Response model as
specified in TS 23.558 with regards to the EEC are fulfilled; and
3\. The EEC is triggered when it obtains the UE\'s new location or is
triggered by another entity such as an ECS notification.
Phase I: ACR Detection
1\. The EEC detects the UE location update as a result of a UE mobility event
and is provided with the UE\'s new location as described in TS 23.558. The EEC
can also detect an expected or predicted UE location in the future as
described in TS 23.558.
NOTE 1: If the EEC is triggered by an external entity such as by a
notification from the ECS, unavailability of new EESs (to be used as T-EESs)
is provided by that notification and step 3 below is skipped.
Phase II: ACR Decision
2\. Either the AC or the EEC makes the decision to perform the ACR.
NOTE 2: Which applications require ACR can be decided based on the application
profile, e.g. requirement of service continuity of the application.
Phase III: ACR Execution
3\. The EEC performs Service Provisioning (as specified in TS 23.558) for all
active applications that require ACR. Since the location of the UE has
changed, this procedure results in unavailability of T-EESs that are relevant
to the supplied applications and the new location of the UE. If the service
provisioning is done without supplying the application information but EES
information is provisioned, the EEC attempts discovering relevant T-EAS with
the EES provisioned in the service provisioning response, if any. Service
provisioning or discovery of relevant T-EAS may not result in EES
configuration or T-EAS is not discovered respectively.
If the change in UE\'s location does not trigger a need to change the serving
EAS, the subsequent steps will not take place. The EEC remains connected to
the serving EESs and the ACs remain connected to their corresponding serving
EASs.
4\. If the change in the UE\'s location triggers a need to change the S-EAS
but the EEC is not provided with a T-EAS, the EEC informs the AC of the
unavailability of a suitable EDN for the new location of the UE.
5\. The AC triggers the UE to perform DNS resolution for the CAS relevant for
the AC. The UE may need to establish a new PDU connection to the CAS.
6a. The AC sends ACR request to the EEC and the EEC responds ACR response to
the AC.
6b. The EEC performs ACR launching procedure (as described in TS 23.558) to
the S-EES with the ACR action indicating ACR initiation and the corresponding
ACR initiation data (along with the details of the CAS and without the need to
notify the EAS). The S-EES may apply the AF traffic influence with the N6
routing information of the CAS in the 3GPP Core Network (if applicable), as
described in TS 23.558.
7\. The AC is triggered by the EEC to start ACT. The AC decides to initiate
the transfer of application context from the S-EAS to the CAS.
After the ACT is completed, the AC remains connected to the CAS and
disconnects from the S-EAS; the EEC is informed of the completion of the ACT.
The S-EAS or CAS can further decide to terminate the ACR, and the CAS can
discard the application context (e.g. based on monitoring the location of the
UE). It is up to the implementation of the S-EAS and CAS whether and how to
make such a decision.
Phase IV: Post-ACR Clean up
8\. The S-EAS sends the ACR status update message to the S-EES as specified in
TS 23.558.
9\. If the status in step 8 indicates a successful ACT, the S-EES sends the
ACR information notification (ACR complete) message to the EEC to confirm that
the ACR has completed as specified in TS 23.558.
The CAS can perform the required CN capability exposure subscriptions upon
receiving the application context.
##### 7.25.2.2.2 Updated 3GPP TS 23.558 clause 8.8.2.3 EEC executed ACR via
S-EES
In this scenario, the EEC is triggered as a result of the UE\'s movement as
described in 8.8.1.1 of TS 23.558. Figure 7.25.2.2.2-1 illustrates the EEC
executing ACR via the S-EES.
Pre-condition:
1\. The AC at the UE already has a connection to the S-EAS; and
2\. The EEC is able to communicate with the S-EES.
Figure 7.25.2.2.2-1: Updated 3GPP TS 23.558 Figure 8.8.2.3-1: EEC executed ACR
Phase I: ACR Detection
1\. The EEC detects that ACR may be required as described in clause 8.8.1.1 of
TS 23.558. The EEC may detect that ACR may be required for an expected or
predicted UE location in the future as described in clause 8.8.1.1 of TS
23.558.
Phase II: ACR Decision
2\. The EEC decides to proceed required procedures for triggering ACR.
Phase III: ACR Execution
3\. The EEC performs Service Provisioning (as specified in TS 23.558) for all
active applications that require ACR. Since the location of the UE has
changed, this procedure results in unavailability of T-EESs that are relevant
to the supplied applications and the new location of the UE, as per the
assumption of this scenario. Service provisioning or discovery of relevant
T-EAS may not result in EES configuration or T-EAS is not discovered
respectively. The AC triggers the UE to perform DNS resolution for the cloud
application server relevant for the AC. The UE may need to establish a new PDU
connection to the CAS.
NOTE 1: Several EEC registrations with different EESs may result from T-EAS
discovery process during a single ACR operation.
NOTE 2: The EEC before determining to execute step 4 tries to discover T-EAS
from one or more EESs (received in the service provisioning response). If none
of the contacted EES(s) have required T-EAS then proceed with step 4.
4\. The EEC performs ACR launching procedure (as described in clause 8.8.3.4
of TS 23.558) to the S-EES with the ACR action indicating ACR initiation and
the corresponding ACR initiation data (along with the details of the CAS and
with the need to notify the EAS). The S-EES authorises the request from the
EEC. The S-EES decides to execute ACR based on the information received from
the EEC and/or EAS profile. The S-EES may apply the AF traffic influence with
the N6 routing information of the CAS in the 3GPP Core Network (if applicable)
and sends the ACR management notification for the \"ACT start\" event to the
S-EAS, as described in clause 8.6.3, to initiate ACT between the S-EAS and the
CAS. If the EEC has not subscribed to receive ACR information notifications
for ACR complete events from the S-EES, the EEC subscribes for the
notifications as described in clause 8.8.3.5.2 of TS 23.558.
5\. The S-EAS transfers the application context to the CAS at implementation
specific time. This process is out of scope of the present specification.
NOTE 3: The S-EAS or CAS can further decide to terminate the ACR, and the CAS
can discard the application context based on information received from EEL
and/or other methods (e.g. monitoring the location of the UE). It is up to the
implementation of the S-EAS and CAS whether and how to make such a decision.
Phase IV: Post-ACR Clean up
6\. The S-EAS sends the ACR status update message to the S-EES as specified in
clause 8.8.3.8 of TS 23.558.
7\. If the status in step 7 indicates a successful ACT, the S-EES sends the
ACR information notification (ACR complete) message to the EEC to confirm that
the ACR has completed as specified in clause 8.8.3.5.3 of TS 23.558.
NOTE 4: The CAS can perform capability exposure subscription with 3GPP CN
directly, upon receiving the application context, which may be helpful for
handling future ACR scenarios e.g. ACR from cloud to edge.
##### 7.25.2.2.3 Updated 3GPP TS 23.558 clause 8.8.2.4 S-EAS decided ACR
scenario
In this scenario, the S-EAS may detect the need of ACR locally or is notified
by the S-EES via ACR management notifications for \"ACR monitoring\" events.
The S-EAS make the decision about whether to perform the ACR, and starts the
ACR at a proper time.
Pre-conditions:
1\. The S-EAS may depend on the receipt of certain User plane path management
events from the S-EES, e.g. \"user plane path change\" events or \"ACR
monitoring\" events, to detect the need for an ACR. For the following
procedure it is assumed that the S-EAS has subscribed to continuously receive
the respective events from the S-EES; and
2\. The EEC has subscribed to receive ACR information notifications for target
information notification events and ACR complete events from the S-EES, as
described in clause 8.8.3.5.2 of TS 23.558.
Figure 7.25.2.2.3-1: Updated 3GPP TS 23.558 Figure 8.8.2.4-1: S-EAS decided
ACR
S-EAS decided ACR is outlined with four main phases: detection, decision,
execution and clean up.
Phase I: ACR Detection
1\. The S-EAS either receives ACR management notifications from source Edge
Enabler Sever indicating that ACR may be required (\"ACR monitoring\" event),
or self detects the need for ACR (e.g. upon receipt of a \"user plane path
change\" event). If the ACR management notification indicates \"ACR
monitoring\" event, then the notification will also contain the CAS
information (see clause 8.6.3.2.3 of TS 23.558). The S-EAS may detect that ACR
may be required for an expected or predicted UE location in the future as
described in clause 8.8.1.1 of TS 23.558.
NOTE 1: How the S-EAS self detects the local need for ACR is outside the scope
of this specification.
Phase II: ACR Decision
2\. The S-EAS makes the decision to perform the ACR
NOTE 2: How the S-EAS determines when to start the ACR is outside the scope of
this specification.
Phase III: ACR Execution
3\. If the ACR required is self detected, the S-EAS requests the S-EES to
discover the targets as described in TS 23.558. When S-EES determines that no
relevant EAS is available for the UE\'s location it finds out the details of
the CAS, e.g. via DNS query/discovery, and provides the details of the CAS to
the S-EAS. After S-EAS determines to use CAS, the S-EAS may apply the AF
traffic influence with the N6 routing information of the CAS in the 3GPP Core
Network (if applicable).
NOTE 3: EAS endpoint in discovery could be a FQDN of CAS, identical with the
FQDN used in DNS query.
4\. The S-EAS sends selected CAS declaration message to S-EES, to inform S-EES
the determined CAS to use as described in clause 8.8.3.7 of TS 23.558.
5\. Based on the CAS selection information received from the S-EAS, the S-EES
sends the target information notification to the EEC as described in clause
8.8.3.5.3 of TS 23.558.
6\. The S-EAS transfers the application context to the CAS selected in step 3.
This process is out of scope of the present specification.
NOTE 4: The S-EAS or CAS can further decide to terminate the ACR, and the CAS
can discard the application context based on information received from EEL
and/or other methods (e.g. monitoring the location of the UE). It is up to the
implementation of the S-EAS and CAS whether and how to make such a decision.
Phase IV: Post-ACR clean up
7\. The S-EAS sends the ACR status update message to the S-EES as specified in
clause 8.8.3.8 of TS 23.558.
8\. If the status in step 8 indicates a successful ACT, the S-EES sends the
ACR information notification (ACR complete) message to the EEC to confirm that
the ACR has completed as specified in clause 8.8.3.5.3 of TS 23.558.
NOTE 5: The CAS can perform capability exposure subscription with 3GPP CN
directly, upon receiving the application context, which may be helpful for
handling future ACR scenarios e.g. ACR from cloud to edge.
##### 7.25.2.2.4 Updated 3GPP TS 23.558 clause 8.8.2.5 S-EES executed ACR
Figure 7.25.2.2.4-1 illustrates the S-EES detecting, deciding and executing
ACR from the S-EAS to the CAS. This may include EELManagedACR by S-EES when
initiated by S-EAS as per clause 8.8.3.6 of TS 23.558.
Pre-condition:
1\. The AC at the UE already has a connection to the S-EAS;
2\. The EEC is able to communicate with the S-EES;
3\. The EEC has subscribed to receive ACR information notifications for target
information notification events and ACR complete events from the S-EES, as
described in clause 8.8.3.5.2 of TS 23.558;
4\. The S-EAS optionally subscribed to receive ACR management notifications
for \"ACR facilitation\" events to the S-EES, in order to enable detection at
S-EAS.
5\. In case of EELManagedACR, the CAS has subscribed to receive ACT status
notifications as described in clause 8.8.3.6.2.3 of TS 23.558.
Figure 7.25.2.2.4-1: Updated 3GPP TS 23.558 Figure 8.8.2.5-1: S-EES executed
ACR
1\. The S-EAS may initiate EELManagedACR with S-EES as specified in clause
8.8.3.6 of TS 23.558. In this step, the S-EAS and S-EES negotiate an address
of the Application Context storage to S-EES. The S-EAS puts the Application
Context at this address which can be further accessed by the S-EES when the
ACT is required.
In this case, the S-EES executes steps 2 (i.e. S-EES detection), 4, 5, 6, 7,
8, 9 and 11. Rest of steps are skipped.
Phase I: ACR Detection
2\. Detection entities (S-EAS, S-EES, EEC) detect that ACR may be required as
described in clause 8.8.1.1 of TS 23.558. The detection by the S-EES may be
triggered by the User Plane path change notification received from the 3GPP
Core Network due to S-EAS request for \"ACR facilitation\" event (see clause
8.6.3 of TS 23.558) or due to step 1.
The detection entity may detect that ACR may be required for an expected or
predicted UE location in the future as described in clause 8.8.1.1 of TS
23.558.
Phase II: ACR Decision
3\. The detection entity performs ACR launching procedure (as described in
clause 8.8.3.4 of TS 23.558) with the ACR action indicating ACR determination
and the corresponding ACR determination data.
4\. The S-EES authorises the message if received. The S-EES decides to execute
ACR based on the information received or local detection, and the information
of EEC context or EAS profile, and then proceed the below steps.
Phase III: ACR Execution
5\. The S-EES determines the targets via the Discover T-EAS procedure in
clause 8.8.3.2 of TS 23.558. When S-EES determines that no relevant EAS is
available for the UE\'s location it finds out the details of the CAS, e.g. via
DNS query/discovery.
6\. The S-EES sends the target information notification to the EEC as
described in clause 8.8.3.5.3 of TS 23.558.
7\. The S-EES may apply the AF traffic influence with the N6 routing
information of the CAS in the 3GPP Core Network (if applicable).
8\. The S-EES sends the ACR management notification (e.g. as notification for
\"ACR facilitation\" event or \"ACT start\" event as described in clause 8.6.3
or due to step 1) to the S-EAS to initiate ACT between the S-EAS and the CAS.
9\. The Application Context is transferred from S-EAS to the CAS at
implementation specific time. In the case of EELManagedACR, the S-EES accesses
the Application Context from the address as per step 1 and the S-EES either
engage in the ACT from S-EAS to the CAS (obtained as per step 5) in a secure
way or S-EES shares the storage location of the Application Context with the
CAS. Further the CAS accesses the Application Context. The S-EAS may also
perform the ACT directly with CAS, the specification of such process is out of
scope of the present document.
NOTE 1: The Application Context is encrypted and protected by the application
layer. The S-EES engages in the packet level transport of the Application
Context and has no visibility to the content of the Application Context.
NOTE 2: The S-EAS or CAS can further decide to terminate the ACR, and the CAS
can discard the application context based on information received from EEL
and/or other methods (e.g. monitoring the location of the UE). It is up to the
implementation of the S-EAS and CAS whether and how to make such a decision.
Phase IV: Post-ACR Clean up
10\. The S-EAS sends the ACT status update message to the S-EES as specified
in clause 8.8.3.8 of TS 23.558.
11\. If the status in step 10 indicates a successful ACT, the S-EES sends the
ACR information notification (ACR complete) message to the EEC to confirm that
the ACR has completed as specified in clause 8.8.3.5.3 of TS 23.558.
NOTE 3: The Application Client mechanism to support switchover of the
application traffic to CAS is out of scope of the specification.
##### 7.25.2.2.5 EEC initiated ACR
In this case, when AC is currently served by a CAS, the EEC detects the need
for ACR and makes the decision about whether to perform the ACR and starts the
ACR at a proper time.
The EEC detects the need for ACR and decides to trigger ACR. If the EEC has a
valid S-EES information (i.e. AC connected to an EAS before connecting to the
CAS), the procedure is similar to the \"Initiation by EEC using regular EAS
Discovery\" and \"EEC executed ACR scenario via S-EES\" as specified in TS
23.558 [2], clause 8.8.2.2 and clause 8.8.2.3; otherwise, the procedure is
similar as \"EEC executed ACR scenario via T-EES\" as specified in TS 23.558
[2] clause 8.8.2.6. The procedures are with the difference that the CAS
replaces the S-EAS.
##### 7.25.2.2.6 CAS initiated ACR
In this scenario, the CAS detects the need for ACR and makes the decision
about whether to perform the ACR and starts the ACR at a proper time.
When ACR happens between EAS and CAS, the S-EAS can be the CAS. During the ACR
execution phase, the CAS needs to know the EES before continuing with T-EAS
discovery. Once the CAS knows the EES, the T-EAS discovery and the remaining
steps are similar to the \"S-EAS decided ACR scenario\" as specified in TS
23.558 clause 8.8.2.4, where the CAS acts like the S-EAS.
###### 7.25.2.2.6.1 EES discovery via service provision triggering
Assumptions:
1\. The ASP of the CAS or the CAS provider has a business relationship with
the ECSP.
2\. The ASP of the CAS or the CAS provider can validate the received EES
endpoint received from the UE. This process is out of scope of 3GPP.
3\. The EES can perform an authorization check to verify the CAS, similar to
the EES can perform an authorization check on the EAS for registration and
discovery.
4\. It is assumed that in some cases the UE Identifier may not be shared with
the CAS for privacy reasons (e.g. the user may not want to share its MSISDN
outside of the EEL).
Figure 7.25.2.2.6.1-1: EES discovery via service provision triggering
1\. The CAS detects the need for ACR. The CAS can detect ACR due to the UE
location change to select and perform ACR to a suitable EAS in the service
area.
NOTE 1: How the CAS detects need for ACR is outside the scope of this
specification.
2\. The CAS makes the decision to perform the ACR.
NOTE 2: How the CAS determines when to start the ACR is outside the scope of
this specification.
3\. The CAS triggers the EEC via the AC to perform service provisioning.
NOTE 3: How the CAS triggers service provisioning is out of scope.
4\. The EEC performs service provisioning as described in TS 23.558 clause
8.3.3.
5\. The CAS receives EES endpoint information and optionally the UE Identifier
from the AC. To preserve the privacy of the UE, the EEC can forward the Edge
UE ID obtained from the EES as in Solution#23 as a UE Identifier. If the
service provisioning in step 4 fails the CAS will not continue with ACR.
NOTE 4: Detail on how the AC provides this information to the CAS is out of
scope.
NOTE 5: When the CAS performs the EAS discovery operation, the EES checks
whether the requesting CAS is authorized to perform the discovery operation
and may decide to reject or accept the request.
NOTE 6: How the CAS determines when to start the ACR is outside the scope of
this specification.
###### 7.25.2.2.6.2 CAS initiated ACR via ECS
Assumptions:
> 1\. The CAS has the business relationship with the ECSP.
>
> 2\. The CAS can obtain the UEID information.
Figure 7.25.2.2.6.2-1: CAS initiated ACR via ECS
> 1\. The CAS detects the ACR event.
>
> 2\. The CAS determines the ACR is required which the service can be
> relocated to the edge.
>
> 3\. The CAS can perform the Retrieve T-EES procedure to the ECS for the
> T-EES information as specified in TS 23.558 clause 8.8.3.3.
>
> 4\. The CAS can perform the T-EAS discovery procedure to the T-EES for the
> T-EAS information as specified in TS 23.558 clause 8.8.3.3.
>
> 5\. The application context is transferred between CAS and the T-EAS which
> is up to application layer's implementation.
>
> 6\. The CAS can send the target information via the ACR complete notify to
> the AC which is up to application layer's implementation, the target
> information including the T-EAS information.
NOTE 1: An update of EEC context relocation procedure is to be specified in
order to enable context transfer from the previous EDNs to the target EDN. Or
without EEC context transfer, new registration with T-EES may be performed.
NOTE 2: The EEC registration to the T-EES may be required after the ACR.
NOTE 3: To preserve privacy, how the Edge UE ID can be obtained and used
instead of the UE ID will be addressed during normative.
### 7.25.3 Solution evaluation
The procedures described in solution #25 has a mixed use of regular DNS query
and EDGEAPP EAS discovery. When a T-EAS cannot be discovered using the EDGEAPP
mechanism, EDGEAPP entities (e.g. AC) falls back to regular DNS query. It
supports ACR scenarios for ACR from EAS to CAS, and it also supports ACR
scenarios for ACR from CAS to EAS. For ACR from CAS to EAS, the solution
requires the CAS and AC interactions, which is out of scope of this
specification. Whether the scenario assumptions are valid requires further
evaluation.
## 7.26 Solution #26: Bundled EASs
### 7.26.1 Architecture enhancements
None.
### 7.26.2 Solution description
#### 7.26.2.1 General
This solution corresponds to KI#18 on EAS bundles.
NOTE: Overlap with any solution for KI#20 must be considered during normative.
The solution extends the AC profile, EAS profile and EES profile to introduce
the following new IEs and their handling by different EEL functions:
\- EAS bundle information: EAS bundle information (e.g. EAS bundle ID,
information of associated EASs) establishes an association between the EASs.
Edge Enabler Layer handles the Edge Application Servers belonging to the same
bundle as required by the bundle requirements. When included in the EAS
profile, EAS Bundle information denotes the bundle to which the EAS belongs.
When included in the AC profile EAS Bundle information is used to perform
different Edge Enabler Layer operations, such as EAS discovery.
\- EAS bundle requirements: This IE provides the Edge Enabler Layer the
requirements that apply to the bundle of EAS. The requirements may include
combined discovery and combined ACR.
Both, EAS bundle information and EAS bundle requirements, are provided by the
ASP. EAS bundle information can be a list of EASs or a bundle ID, however,
detailed format of the EAS bundle ID is out of scope.
Table 7.26.2.1-1: AC Profile
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | ACID | M | Identity of the AC. | +-----------------------------+--------+-----------------------------+ | AC Type | O | The category or type of AC | | | | (e.g. V2X). This is an | | | | implementation specific | | | | value. | +-----------------------------+--------+-----------------------------+ | Preferred ECSP list | O | When used in a service | | | | provisioning request, this | | | | IE indicates to the ECS | | | | which ECSPs are preferred | | | | for the AC. The ECS may use | | | | this information in the | | | | selection of EESs. | +-----------------------------+--------+-----------------------------+ | AC Schedule | O | The expected operation | | | | schedule of the AC (e.g. | | | | time windows) | +-----------------------------+--------+-----------------------------+ | Expected AC Geographical | O | The expected location(s) | | Service Area | | (e.g. route) of the hosting | | | | UE during the AC\'s | | | | operation schedule. This | | | | geographic information can | | | | express a geographic point, | | | | polygon, route, signalling | | | | map, or waypoint set. | +-----------------------------+--------+-----------------------------+ | AC Service Continuity | O | Indicates if service | | Support | | continuity support is | | | | required or not for the | | | | application. The IE also | | | | indicates which ACR | | | | scenarios are supported by | | | | the AC and which of these | | | | are preferred by the AC. | +-----------------------------+--------+-----------------------------+ | List of EASs | O | List of EAS that serve the | | | | AC along with the service | | | | KPIs required by the AC | +-----------------------------+--------+-----------------------------+ | > EASID | M | Identifier of the EAS | +-----------------------------+--------+-----------------------------+ | > Expected AC Service KPIs | O | KPIs expected in order for | | | | ACs to receive currently | | | | required services from the | | | | EAS, as described in | | | | Table 8.2.3-1 | +-----------------------------+--------+-----------------------------+ | > Minimum required AC | O | Minimum KPIs required in | | Service KPIs | | order for ACs to receive | | | | meaningful services from | | | | the EAS, as described in | | | | Table 8.2.3-1 | +-----------------------------+--------+-----------------------------+ | **EAS bundle information** | **O** | **Information of the EAS | | | | bundle which AC requires.** | +-----------------------------+--------+-----------------------------+ | **EAS bundle requirements** | **O** | **Requirements associated | | | | with the EAS bundle.** | +-----------------------------+--------+-----------------------------+ | **> Coordinated EAS | **O**|** Indicates if AC requires | | discovery**| | coordinated EAS | | | | discovery.** | +-----------------------------+--------+-----------------------------+ | **> Coordinated ACR** | **O** | **Indicates if AC requires | | | | coordinated ACR.** | | | | | | | | **The IE may further | | | | indicate what actions must | | | | be taken if ACR for one or | | | | more bundled EAS fails e.g. | | | | ACR for all other EAS that | | | | are part of the bundle must | | | | be cancelled or not.** | +-----------------------------+--------+-----------------------------+
Table 7.26.2.1-2: EAS Profile
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +=============================+========+=============================+ | EASID | M | The identifier of the EAS | +-----------------------------+--------+-----------------------------+ | EAS Endpoint | M | Endpoint information (e.g. | | | | URI, FQDN, IP address) used | | | | to communicate with the | | | | EAS. This information maybe | | | | discovered by EEC and | | | | exposed to ACs so that ACs | | | | can establish contact with | | | | the EAS. | +-----------------------------+--------+-----------------------------+ | **List of EAS bundle |** O**|** List of EAS bundles to | | information**| | which the EAS belongs and | | | | related bundling | | | | requirements.** | +-----------------------------+--------+-----------------------------+ | **> EAS bundle | **M**|** Information of the bundle | | information**| | to which EAS belongs.** | +-----------------------------+--------+-----------------------------+ | **> EAS bundle | **O**|** Requirements associated | | requirements**| | with the bundle** | +-----------------------------+--------+-----------------------------+ | **> > Coordinated EAS | **O**|** Indicates if EAS | | discovery**| | discovery request for one | | | | of the bundled EAS is | | | | received, then EAS | | | | discovery response should | | | | include information of all | | | | the EASs belonging to the | | | | bundle.** | +-----------------------------+--------+-----------------------------+ | **> > Coordinated ACR** | **O** | **Indicates if EAS ACR is | | | | initiated for one of the | | | | bundled EAS, then ACR | | | | should be initiated for all | | | | the EASs belonging to the | | | | bundle.** | | | | | | | | **The IE may further | | | | indicate what actions must | | | | be taken if ACR for one or | | | | more bundled EAS fails e.g. | | | | ACR for all other EAS that | | | | are part of the bundle must | | | | be cancelled or not.** | +-----------------------------+--------+-----------------------------+ | ACID(s) | O | Identifies the AC(s) that | | | | can be served by the EAS | +-----------------------------+--------+-----------------------------+ | EAS Provider Identifier | O | The identifier of the ASP | | | | that provides the EAS. | +-----------------------------+--------+-----------------------------+ | EAS Type | O | The category or type of EAS | | | | (e.g. V2X) | +-----------------------------+--------+-----------------------------+ | EAS description | O | Human-readable description | | | | of the EAS | +-----------------------------+--------+-----------------------------+ | EAS Schedule | O | The availability schedule | | | | of the EAS (e.g. time | | | | windows) | +-----------------------------+--------+-----------------------------+ | EAS Geographical Service | O | The geographical service | | Area | | area that the EAS serves. | | | | ACs in UEs that are located | | | | outside that area shall not | | | | be served. | +-----------------------------+--------+-----------------------------+ | EAS Topological Service | O | The EAS serves UEs that are | | Area | | connected to the Core | | | | Network from one of the | | | | cells included in this | | | | service area. ACs in UEs | | | | that are located outside | | | | this area shall not be | | | | served. See possible | | | | formats in Table 8.2.7-1. | +-----------------------------+--------+-----------------------------+ | EAS Service KPIs | O | Service characteristics | | | | provided by EAS, detailed | | | | in Table 8.2.5-1 | +-----------------------------+--------+-----------------------------+ | EAS service permission | O | Level of service | | level | | permissions e.g. trial, | | | | gold-class supported by the | | | | EAS | +-----------------------------+--------+-----------------------------+ | EAS Feature(s) | O | Service features e.g. | | | | single vs. multi-player | | | | gaming service supported by | | | | the EAS | +-----------------------------+--------+-----------------------------+ | EAS Service continuity | O | Indicates if the EAS | | support | | supports service continuity | | | | or not. This IE also | | | | indicates which ACR | | | | scenarios are supported by | | | | the EAS. | +-----------------------------+--------+-----------------------------+ | List of EAS DNAI(s) | O | DNAI(s) associated with the | | | | EAS. This IE is used as | | | | Potential Locations of | | | | Applications in | | | | clause 5.6.7 of | | | | 3GPP TS 23.501 [2]. | | | | | | | | It is a subset of the | | | | DNAI(s) associated with the | | | | EDN where the EAS resides. | +-----------------------------+--------+-----------------------------+ | List of N6 Traffic Routing | O | The N6 traffic routing | | requirements | | information and/or routing | | | | profile ID corresponding to | | | | each EAS DNAI. | +-----------------------------+--------+-----------------------------+ | EAS Availability Reporting | O | The availability reporting | | Period | | period (i.e. heartbeat | | | | period) that indicates to | | | | the EES how often it needs | | | | to check the EAS\'s | | | | availability after a | | | | successful registration. | +-----------------------------+--------+-----------------------------+ | EAS Status | O | The status of the EAS (e.g. | | | | enabled, disabled, etc.) | +-----------------------------+--------+-----------------------------+
Table 7.26.2.1-3: EES Profile
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +=============================+========+=============================+ | EESID | M | The identifier of the EES | +-----------------------------+--------+-----------------------------+ | EES Endpoint | M | Endpoint information (e.g. | | | | URI, FQDN, IP address) used | | | | to communicate with the | | | | EES. This information is | | | | provided to the EEC to | | | | connect to the EES. | +-----------------------------+--------+-----------------------------+ | EASIDs | M | List of EASIDs registered | | | | with the EES. | +-----------------------------+--------+-----------------------------+ | **> EAS bundle | **O**|** Information of the bundle | | information**| | to which EAS belongs.** | +-----------------------------+--------+-----------------------------+ | EEC registration | M | Indicates whether the EEC | | configuration | | is required to register on | | | | the EES to use edge | | | | services or not. | +-----------------------------+--------+-----------------------------+ | EES Provider Identifier | O | The identifier of the ECSP | | | | that provides the EES | | | | Provider. | +-----------------------------+--------+-----------------------------+ | EES Topological Service | O | The EES serves UEs that are | | Area | | connected to the Core | | | | Network from one of the | | | | cells included in this | | | | service area. EECs in UEs | | | | that are located outside | | | | this area shall not be | | | | served. See possible | | | | formats in Table 8.2.7-1. | +-----------------------------+--------+-----------------------------+ | EES Geographical Service | O | The area being served by | | Area | | the EES in Geographical | | | | values (as specified in | | | | clause 7.3.3.3) | +-----------------------------+--------+-----------------------------+ | List of EES DNAI(s) | O | DNAI(s) associated with the | | | | EES. This IE is used as | | | | Potential Locations of | | | | Applications in | | | | clause 5.6.7 of | | | | 3GPP TS 23.501 [2]. | | | | | | | | It is a subset of the | | | | DNAI(s) associated with the | | | | EDN, where the EES resides. | +-----------------------------+--------+-----------------------------+ | EES Service continuity | O | Indicates if the EES | | support | | supports service continuity | | | | or not. This IE also | | | | indicates which ACR | | | | scenarios are supported by | | | | the EES. | +-----------------------------+--------+-----------------------------+
Table 7.26.2.1-4: EAS discovery filters
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | List of AC characteristics | O | Describes the ACs for which | | (NOTE 1) | | a matching EAS is needed. | +-----------------------------+--------+-----------------------------+ | > AC profile (NOTE 2) | M | AC profile containing | | | | parameters used to | | | | determine matching EAS. AC | | | | profiles are further | | | | described in Table 8.2.2-1. | +-----------------------------+--------+-----------------------------+ | List of EAS characteristics | O | Describes the | | (NOTE 1, NOTE 3) | | characteristic of required | | | | EASs. | +-----------------------------+--------+-----------------------------+ | > EASID | O | Identifier of the required | | | | EAS. | +-----------------------------+--------+-----------------------------+ | **> EAS bundle | **O**|** Information of the EAS | | information**| | bundle which AC requires.** | +-----------------------------+--------+-----------------------------+ | > EAS provider identifier | O | Identifier of the required | | | | EAS provider | +-----------------------------+--------+-----------------------------+ | > EAS type | O | The category or type of | | | | required EAS (e.g. V2X) | +-----------------------------+--------+-----------------------------+ | > EAS schedule | O | Required availability | | | | schedule of the EAS (e.g. | | | | time windows) | +-----------------------------+--------+-----------------------------+ | > EAS Geographical Service | O | Location(s) (e.g. | | Area | | geographical area, route) | | | | where the EAS service | | | | should be available. | +-----------------------------+--------+-----------------------------+ | > EAS Topological Service | O | Topological area (e.g. cell | | Area | | ID, TAI) for which the EAS | | | | service should be | | | | available. See possible | | | | formats in Table 8.2.7-1. | +-----------------------------+--------+-----------------------------+ | > Service continuity | O | Indicates if the service | | support | | continuity support is | | | | required or not. | +-----------------------------+--------+-----------------------------+ | > Service permission level | O | Required level of service | | | | permissions e.g. trial, | | | | gold-class | +-----------------------------+--------+-----------------------------+ | > Service feature(s) | O | Required service features | | | | e.g. single vs. | | | | multi-player gaming service | +-----------------------------+--------+-----------------------------+ | NOTE 1: Either \"List of AC | | | | characteristics\" or \"List | | | | of EAS characteristics\" | | | | shall be present. | | | | | | | | NOTE 2: \"Preferred ECSP | | | | list\" IE shall not be | | | | present. | | | | | | | | NOTE 3: The \"List of EAS | | | | characteristics\" IE must | | | | include at least one | | | | optional IE, if used as an | | | | EAS discovery filter. | | | +-----------------------------+--------+-----------------------------+
Table 7.26.2.1-5: Retrieve EES request
Information element Status Description
* * *
EESID M Unique identifier of the EES. Security credentials M Security
credentials resulting from a successful authorization for the edge computing
service. EASID M The EASID. **EAS bundle information** O **Information of the
EAS bundle which AC requires.** Target DNAI O The target DNAI information
which can be associated with potential T-EES(s) and/or T-EAS(s). UE Identifier
O The identifier of the UE (i.e. GPSI or identity token) UE location O The
location information of the UE. The UE location is described in clause 7.3.2.
#### 7.26.2.2 Handling of EAS bundle information by the EEC
If AC profile contains an EAS bundle information, the EEC uses it while
performing operations on EDGE-1 interface.
#### 7.26.2.3 Handling of EAS bundle information and EAS bundle requirements
by the EES
The EES may receive the EAS bundle information from the EEC, EAS or another
EES and the EAS bundle requirements from the EAS.
Upon receiving the EAS bundle information and EAS bundle requirements as part
of the EAS registration request from the EAS, the EES stores the information
and associates the EAS with other EASs providing the same EAS bundle
information. The EAS bundle requirements are used by the EES while providing
services on EDGE-1, EDGE-3 and EDGE-9 interfaces.
Upon receiving the EAS bundle information as part of the:
\- EAS discovery request from the EEC, EAS or another EES, and depending on
the EAS bundle requirements the EES provides in the EAS discovery response
information of all the EASs which are part of the EAS bundle.
\- ACR request from the EEC or the EAS, and depending on the EAS bundle
requirements the EES takes appropriate ACR related action (e.g. initiate ACR,
cancel ACR etc.) for all the EASs which are part of the EAS bundle.
\- Retrieve T-EES request from the S-EES, and depending on the EAS bundle
information, the ECS provides in the Retrieve T-EES response information of
the T-EES(s) within the same EDN for the bundle EAS.
#### 7.26.2.4 Handling of EAS bundle information by the ECS
Editor\'s note: Changes to the EES profile and handling by ECS may not be
required depending on the feedback from SA4 on requirements (e.g. similar
latency) for EAS bundles.
Editor\'s note: Changes to the EES profile and handling by ECS may not be
required or should be enhanced if SA5 cannot guarantee a deployment with EASs
deployed in different EDNs satisfying EAS bundle requirements (i.e. similar
latency, if it exists).
The ECS may receive the EAS bundle information from the EES during EES
registration.
Upon receiving the EAS bundle information as part of the EES registration, the
ECS stores the information and associates the EES with other EESs providing
the same EAS bundle information.
Upon receiving the EAS bundle information as part of the:
\- Service provisioning request from the EEC or Retrieve EES request from the
EES, the ECS in response provides information of all the EESs which provided
the same EAS bundle information.
#### 7.26.2.5 Handling of EAS bundle when the bundle EAS are registered on the
multiple EESs in the same EDN
The scenario assumption of this solution is that there is a coordinated ACR
requirement for KI#18, i.e. the bundled EAS may need to be relocated together.
Editor\'s note: This solution will not be used if SA4 don't have requirement
for coordinated ACR in EAS bundle case; and solution needs to be revisited if
SA4 clarifies such requirement existence.
The EES may receive the EAS bundle information from the EEC. The EEC may
receive the one or more EES information from the ECS when the bundle EAS
located on multiple EES from same Edge Hosting Environment.
NOTE 1: The Edge Hosting Environment is an environment providing support
required for Edge Application Server\'s execution, which can be seen as the
data center
NOTE 2: The terminology of bundled EAS will be aligned with the meeting
conclusion.
NOTE 3: EDN may have one or more discrete data centers/EHE with the common
outbound entry point of transport network, multiple EASs in one data
centers/EHE has the same transport network performance.
Editor\'s note: This solution will not be used for the case where SA5 can
ensure that all EASs of the bundle are registered on the same EES when the EAS
bundle is in the same EDN. Coordination with SA5 is required.
Upon receiving the EAS bundle information as part of the:
\- Service provisioning request from the EEC, the ECS can determine the EES
based on the bundled EAS information e.g. EAS bundle requirements, the ECS may
select one or more EES which support all of the bundled EAS within the same
EHE based on the EES EHE information obtained in the EES profile. Then the ECS
provides associated EES(s) information (one ore more EES information) in the
service provisioning response.
\- The EAS discovery request or selected EAS announcement request from the EEC
contains bundled EAS distribution information (e.g. associated EES(s)
information)
\- When ACR happens on one of the bundled EAS, the associated EES can trigger
the ACR for all the EAS in the bundled EAS by coordinated with other S-EES as
per bundled EAS distribution information.
##### 7.26.2.5.1 ACR procedure for bundled EAS located on multiple EES within
EHE for S-EES executed ACR
In this procedure, the EES#1 is responsible to notify the associated EES#2
with the need of application context relocation. To ensure that the associated
target EES(s) are in the same EHE, EES#1 may perform retrieve T-EES procedure
and T-EAS discovery procedure considering the bundled EAS information and
notify the associated EES2 with the target EHE information.
Pre-conditions:
1\. The S-EES can obtain the associated EES information.
Figure 7.26.2.5.1-1: ACR for bundled EAS located on multiple EES within same
EHE
1\. The S-EAS#1 or the S-EES#1 detect the ACR event and determine to perform
the application context relocation.
2\. If the S-EES#1 obtain the associated EES(s) information which containing
multiple EESs, the S-EES#1 send the ACR requirement for bundled EAS request to
the associated EES (e.g. EES#2) obtained in the EAS discovery request or
selected EAS announcement request from the EEC, indicating that there is a
need for ACR and the S-EES#1 will determine target EHE for the bundled EAS.
3\. The S-EES#2 may notify the EAS#2 that there is a need for ACR.
4\. The S-EES#2 sends the ACR requirement for bundled EAS response.
5\. The S-EES#1 send Retrieve T-EES request message to the ECS, the request
message contains the all bundled EAS information. Upon receiving the request,
the ECS can determine the T-EES and target EHE for the bundled EAS based on
the bundled EAS information to ensure that the all the T-EES and T-EAS are
within the same EHE. Then the ECS return the T-EES information and the target
EHE for the bundled EAS to the S-EES#1.
6\. S-EES#1 send the Target EHE announcement request message to the S-EES#2
including the target EHE information.
7\. S-EES#2 will return the target EHE announcement response to the S-EES #1.
8\. The S-EES#2 will send the Retrieve T-EES request message to the ECS, the
request message contains the target EHE information. Upon receiving the
request, the ECS can determine the T-EES for S-EES#2 based on the target EHE
information.
9\. The S-EES#1 will perform the T-EAS discovery for the S-EAS#1; the S-EES#2
will perform the T-EAS discovery for the S-EAS#2.
10\. The application context transmission is performed between S-EAS and
T-EAS.
##### 7.26.2.5.2 ACR procedure for bundled EAS located on multiple EES within
same EHE for S-EAS decided ACR scenario
Figure 7.26.2.5.2-1: ACR for bundled EAS located on multiple EES within same
EHE
1\. The S-EAS#1 or the S-EES#1 detect the ACR event and determine to perform
the application context relocation.
2\. The S-EAS#1 send the ACR requirement for bundled EAS request indicating
that there is a need for ACR to the S-EES#1, and the S-EES#1 will determine
the target EHE for the bundled EAS. If the S-EES#1 obtain the associated
EES(s) information which containing multiple EESs (e.g. EES#2) obtained in the
EAS discovery request or selected EAS announcement request from the EEC, the
S-EES#1 will notify the associated S-EES#2 with the ACR requirement for
bundled EAS.
3\. The S-EES#2 may notify the EAS#2 that there is a need for ACR.
4\. The S-EES#2 sends the corresponding response message of ACR requirement
for bundled EAS request. Furthermore, the S-EES#1 will send the corresponding
response message of ACR requirement for bundled EAS request to the S-EAS#1.
5\. S-EAS#1 send the EAS discovery request message to the S-EES#1. S-EAS#2
send the EAS discovery request message to the S-EES#2
6\. The S-EES#1 send Retrieve T-EES request message to the ECS, the request
message contains the all bundled EAS information. Upon receiving the request,
the ECS can determine the T-EES and target EHE for the bundled EAS based on
the all bundled EAS to ensure that the all the T-EES and T-EAS are within the
same EHE. Then the ECS return the T-EES information and the target EHE for the
bundled EAS to the S-EES#1.
7\. S-EES#1 send the Target EHE announcement request message to the S-EES#2
including the target EHE information.
8\. S-EES#2 will return the target EHE announcement response to the S-EES #1.
9\. The S-EES#2 will send the Retrieve T-EES request message to the ECS, the
request message contains the target EHE information. Upon receiving the
request, the ECS can determine the T-EES for S-EES#2 based on the target EHE
information.
10\. The S-EES#1 will perform the T-EAS discovery for the S-EAS#1; the S-EES#2
will perform the T-EAS discovery for the S-EAS#2.
11\. The S-EES#1 will send the EAS discovery response message to the S-EAS#1;
the S-EES#2 will send the EAS discovery response message to the S-EAS#2;
12\. The application context transmission is performed between S-EAS and
T-EAS.
Enhancements to 3GPP TS 23.558 clause 8.3.3.3.3
+----------------------------------------------------------------------+ | 8.3.3.3.3 Service provisioning response | | | | Table 8.3.3.3.3-1: Service provisioning response | | | | ------------------------------------------ -------- ---------- | | -------------------------------------------------------------------- | | Information element Status Description | | Successful response O | | Indicates that the service provisioning request was successful. | | > List of EDN configuration information M Li | | st of EDN configuration information as defined in Table 8.3.3.3.3-2. | | **Associated EES information** **O** **EES in | | formation which support all of the bundled EAS within the same EHE** | | Failure response | | O Indicates that the service provisioning request failed. | | > Cause O | | Indicates the cause of service provisioning request failure. | | ------------------------------------------ -------- ---------- | | -------------------------------------------------------------------- | +----------------------------------------------------------------------+
Enhancements to 3GPP TS 23.558 clause 8.2.6
+----------------------------------------------------------------------+ | ### 8.2.6 EES Profile {#ees-profile} | | | | The EES profile includes information about the EES and the services | | it provides. | | | | Table 8.2.6-1: EES Profile | | | | +--------------------------+--------+--------------------------+ | | | Information element | Status | Description | | | +==========================+========+==========================+ | | | EESID | M | The identifier of the | | | | | | EES | | | +--------------------------+--------+--------------------------+ | | | EES Endpoint | M | Endpoint information | | | | | | (e.g. URI, FQDN, IP | | | | | | address) used to | | | | | | communicate with the | | | | | | EES. This information is | | | | | | provided to the EEC to | | | | | | connect to the EES. | | | +--------------------------+--------+--------------------------+ | | | EASIDs | M | List of EASIDs | | | | | | registered with the EES. | | | +--------------------------+--------+--------------------------+ | | | EEC registration | M | Indicates whether the | | | | configuration | | EEC is required to | | | | | | register on the EES to | | | | | | use edge services or | | | | | | not. | | | +--------------------------+--------+--------------------------+ | | | EES Provider Identifier | O | The identifier of the | | | | | | ECSP that provides the | | | | | | EES Provider. | | | +--------------------------+--------+--------------------------+ | | | EES Topological Service | O | The EES serves UEs that | | | | Area | | are connected to the | | | | | | Core Network from one of | | | | | | the cells included in | | | | | | this service area. EECs | | | | | | in UEs that are located | | | | | | outside this area shall | | | | | | not be served. See | | | | | | possible formats in | | | | | | Table 8.2.7-1. | | | +--------------------------+--------+--------------------------+ | | | EES Geographical Service | O | The area being served by | | | | Area | | the EES in Geographical | | | | | | values (as specified in | | | | | | clause 7.3.3.3) | | | +--------------------------+--------+--------------------------+ | | | List of EES DNAI(s) | O | DNAI(s) associated with | | | | | | the EES. This IE is used | | | | | | as Potential Locations | | | | | | of Applications in | | | | | | clause 5.6.7 of | | | | | | 3GPP TS 23.501 [2]. | | | | | | | | | | | | It is a subset of the | | | | | | DNAI(s) associated with | | | | | | the EDN, where the EES | | | | | | resides. | | | +--------------------------+--------+--------------------------+ | | | **EES EHE** | **O** | **EHE associated with | | | | | | the EES.** | | | +--------------------------+--------+--------------------------+ | | | EES Service continuity | O | Indicates if the EES | | | | support | | supports service | | | | | | continuity or not. This | | | | | | IE also indicates which | | | | | | ACR scenarios are | | | | | | supported by the EES. | | | +--------------------------+--------+--------------------------+ | | | | NOTE: The list of EES DNAI(s) can include the DNAI(s) of the EAS(s) | | registered with the EES. | +----------------------------------------------------------------------+
Enhancements to 3GPP TS 23.558 clause 8.5.3.2
+----------------------------------------------------------------------+ | #### 8.5.3.2 EAS discovery request {#eas-discovery-request} | | | | Table 8.5.3.2-1 describes information elements for the EAS discovery | | request. Table 8.5.3.2-2 provides further detail about the EAS | | Discovery Filter information element. | | | | Table 8.5.3.2-1: EAS discovery request | | | | ------------------- | | ------------------------------------------------------------ ------- | | - ------------------------------------------------------------------ | | -------------------------------------------------------------------- | | -------------------------------------------------------------------- | | -------------------------------------------------------------------- | | Information element | | Status Description | | Requestor identifier | | M The ID of the requestor (e.g. EECID) | | UE Iden | | tifier | | O The identifier of the UE (i.e. GPSI or identity token) | | Security credentials | | M Security credentials resul | | ting from a successful authorization for the edge computing service. | | EAS discovery filters | | O Set of charact | | eristics to determine required EASs, as detailed in Table 8.5.3.2-2. | | UE location | | O The location | | information of the UE. The UE location is described in clause 7.3.2. | | Target DNAI (NOTE) | | O Tar | | get DNAI information which can be associated with potential T-EAS(s) | | EEC Service Continuity Support | | O Indicates if the EEC supports service | | continuity or not. The IE also indicates which ACR scenarios are sup | | ported by the EEC or, if this message is sent by the EEC to discover | | a Tâ€‘EAS, which ACR scenario(s) are intended to be used for the ACR. | | EES Service Conti | | nuity Support (NOTE) O | | The IE indicates if the S-EES supports service continuity or not | | . The IE also indicates which ACR scenarios are supported by the S-E | | ES or, if the EAS discovery is used for an Sâ€‘EES executed ACR accord | | ing to clause 8.8.2.5, which ACR scenario is to be used for the ACR. | | EAS Service Cont | | inuity Support (NOTE) O | | The IE indicates if the S-EAS supports service continuity or no | | t. The IE also indicates which ACR scenarios are supported by the S- | | EAS or, if the EAS discovery is used for an Sâ€‘EAS decided ACR accord | | ing to clause 8.8.2.4, which ACR scenario is to be used for the ACR. | | **Associated EES information* | | *** O**** EES in | | formation which support all of the bundled EAS within the same EHE**| |** > EES ID**| |** O**** The identifier of the EES**| |** > EES Endpoint**| |** O**** Endpoint inf | | ormation (e.g. URI, FQDN, IP address) used to communicate with the E | | ES. This information is provided to the EEC to connect to the EES.**| |** >> Bu | | ndled EAS information**| |** O**** Bundled EAS registered to this EES which AC requires** | | NOTE: This IE shall n | | ot be included when the request originates from the EEC. | | ------------------- | | ------------------------------------------------------------ ------- | | - ------------------------------------------------------------------ | | -------------------------------------------------------------------- | | -------------------------------------------------------------------- | | -------------------------------------------------------------------- | +----------------------------------------------------------------------+
### 7.26.3 Solution evaluation
This solution addresses the open issues of KI#18.
To identify the EAS bundles, the solution introduces EAS bundle information in
the EAS profiles, allowing an EAS to be part of one or more EAS bundles. This
information is then used by the ECS and the EES at the time of service
provisioning and EAS discovery. To support the queries from the EEC, the EAS
bundle information is also added in the AC profiles.
The solution also allows EASs to indicate requirements related to the bundle,
such as requesting coordinated EAS discovery or coordinated ACR (considering
all scenarios).
The solution also identifies the impacts on several EEL information flows and
procedures to handle the EAS bundle information and related requirements.
## 7.27 Solution #27: Enabling AC Association Aware services by selecting
common EASs
7.27.0 General
This clause proposes solutions for KI#17 based on two distinct assumptions for
achieving a common EES (which is necessary before determining a common EAS).
The options corresponding to the two assumptions are termed \"assumed common
EES\" and \"with CAAR\". CAAR functionality and deployment options are
described as part of this solution.
These two alternatives can be summarized as follows:
(i) Determine common EAS based on the assumption that common EES has been
achieved/ pre-provisioned (option termed \"assumed common EES\").
NOTE 1: The requirements and underlying assumptions for this option are to be
detailed in the normative phase.
(ii) Determine common EAS based on the assumption that ACs to be associated
are mobile and may span multiple EDNs. This option uses a new functionality
for maintaining information on AC Association serviced per EES (i.e. option
\"with CAAR\" functionality), in order to optimize common EES discovery.
The following descriptions apply to both alternatives for determining Common
EES, unless sub-clause titles or clarifying NOTEs specify otherwise.
This solution also relies upon the following assumption:
\- The ACID definition from TS 23.558 [2] v17.5.0 clause 7.2.5 applies,
allowing ACs with the same or different ACIDs (which belong to different
applications) to discover and use a common EAS.
### 7.27.1 Architecture enhancements
This solution uses the architecture option specified in clause 6.11.
### 7.27.2 Solution description
#### 7.27.2.1 General
This solution addresses key issue #17 on discovery of a common EAS in clause
4.17.
The solution describes enhancements to several edge procedures that enable
ACs/EECs of different UEs to share AC association information with the EEL.
This AC association is formed such that the services for the associated ACs
are optimized by selecting a common EAS.
NOTE: In the following descriptions within this solution, the term
\"Associated ACs\" is used to denote a set of ACs on different UEs for which
the association described above has been configured via an AC association
Profile. How the AC association Profile is determined is out of scope of the
current specification.
#### 7.27.2.2 New Information Elements
##### 7.27.2.2.1 AC Association Profile
###### 7.27.2.2.1.1 Description
The AC association Profile (AAP) is proposed as a new IE in TS 23.558:
Table 7.27.2.2.1.1-1: AC association Profile
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | Association ID (NOTE 1) | M | Identifier of the | | | | Association | +-----------------------------+--------+-----------------------------+ | AC association type | M | Choice of dynamic grouping | | | | (multi-user multi-session, | | | | etc.), pre-grouped or none | | | | (default) | +-----------------------------+--------+-----------------------------+ | List of UE filter criteria | O | Information for filtering | | | | the UEs with associated | | | | ACs. | +-----------------------------+--------+-----------------------------+ | > UE group ID | O | If present, it indicates a | | | | 3GPP Group ID | | | | pre-provisioned (e.g. as | | | | External Group ID) to the | | | | UEs with ACs in the | | | | associated | | | | group/association. | +-----------------------------+--------+-----------------------------+ | > UEs service area | O | If provided, it indicates | | | | the Service area for | | | | determining other UEs in | | | | the association. | | | | | | | | The UE location is | | | | described in clause 7.3.2. | | | | The optional additional EAS | | | | selection criteria describe | | | | criteria for the EAS | | | | selection (e.g. \"same | | | | latency for all\" or | | | | \"lowest latency for the | | | | own UE location\"). | +-----------------------------+--------+-----------------------------+ | List of associated ACs | O | Information for determining | | characteristics | | the associated ACs. | +-----------------------------+--------+-----------------------------+ | > common ACID | O | If provided, all ACs in the | | | | association have the same | | | | AC ID as indicated | +-----------------------------+--------+-----------------------------+ | > common ACs Type | O | If provided, all ACs in the | | | | association have the same | | | | AC Type as indicated | +-----------------------------+--------+-----------------------------+ | > common ACs Schedule | O | If provided, all ACs in the | | | | association have the same | | | | AC Schedule as indicated | +-----------------------------+--------+-----------------------------+ | > List of Common EAS | O | Service characteristics | | aggregate Service KPIs | | provided by the common EAS, | | | | detailed in Table 8.2.5-1. | | | | The characteristics are | | | | described to meet the | | | | requirements for the AC | | | | association. | +-----------------------------+--------+-----------------------------+ | NOTE 1: It is to be | | | | determined in the normative | | | | phase whether and how this | | | | IE can also include an | | | | Association ID type, format | | | | or numbering (e.g. | | | | system-wide unique | | | | numbering, etc.) | | | +-----------------------------+--------+-----------------------------+
NOTE: The list of IEs in Table 7.27.2.2.1.1-1 and whether AC association
information should be provided in a new AC association Profile IE, or via
existing IEs, is to be determined in the normative phase.
###### 7.27.2.2.1.2 Determining grouping based on AC Association type
AC Association Profiles (AAPs) are assumed to be provisioned using procedures
out of scope of the current document.
**\- [AC associations of type _pre-grouped_]{.underline}** are those for which
the application of grouping criteria is done out-of-band (i.e. via an external
group ID). Each of the association members is provided with an AAP which
includes AC Association type (i.e. pre-grouped), UE group ID (same for all the
ACs and equal to the external group ID) and List of Common EAS aggregate
Service KPIs. This allows pre-grouped associations to be used for a variety of
usecases. The AC grouping is then performed at EEL based only on this, limited
AAP information.
**\- [AC associations of type _dynamic grouping_]{.underline}** are those for
which the AAP provides characteristics/ criteria of the individual ACs (or
corresponding UEs) within the association, with the AC grouping being
performed at EEL based on the entire AAP information.
> The \"List of associated AC characteristics\" and the \"UE filter criteria\"
> IEs are used as characteristics for filtering the ACs in the dynamic
> association.
>
> Therefore, for AC associations of type dynamic grouping, the possibilities
> for EEL-based grouping are:
>
> 1\. Based on a matching associated ACs characteristics
>
> 2\. Based on UE service area
>
> 3\. Combinations of the above
For all AC association types, if the \"List of Common EAS aggregate Service
KPIs\" IEs is present in the AAP, it is used to determine the EAS(s) suitable
to act as common EAS for the association, in addition to the EAS discovery
filters. If the IE is not present in the AAP, common EAS determination relies
upon other parameters provided, e.g. EAS discovery filters.
AC Association ID is a unique identifier of an association within the EEL
deployment or the system. The ID is necessary for uniquely identifying AC
associations in the absence of the full AAP information.
#### 7.27.2.3 Enhancements to existing Information Elements
The enhancements captured (marked with bold text) in tables within this clause
are proposed to Information Element tables in 3GPP TS 23.558 [2]. Enhancements
to requests, responses and notifications are described in the following
clauses via procedural descriptions.
Table 7.27.2.3-1: EAS discovery filters
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | List of AC characteristics | O | Describes the ACs for which | | (NOTE 1) | | a matching EAS is needed. | +-----------------------------+--------+-----------------------------+ | > AC profile (NOTE 2) | M | AC profile containing | | | | parameters used to | | | | determine matching EAS. AC | | | | profiles are further | | | | described in Table 8.2.2-1. | +-----------------------------+--------+-----------------------------+ | List of EAS characteristics | O | Describes the | | (NOTE 1, NOTE 3) | | characteristic of required | | | | EASs. | +-----------------------------+--------+-----------------------------+ | > EASID | O | Identifier of the required | | | | EAS. | +-----------------------------+--------+-----------------------------+ | > EAS provider identifier | O | Identifier of the required | | | | EAS provider | +-----------------------------+--------+-----------------------------+ | > EAS type | O | The category or type of | | | | required EAS (e.g. V2X) | +-----------------------------+--------+-----------------------------+ | > EAS schedule | O | Required availability | | | | schedule of the EAS (e.g. | | | | time windows) | +-----------------------------+--------+-----------------------------+ | > EAS Geographical Service | O | Location(s) (e.g. | | Area | | geographical area, route) | | | | where the EAS service | | | | should be available. | +-----------------------------+--------+-----------------------------+ | > EAS Topological Service | O | Topological area (e.g. cell | | Area | | ID, TAI) for which the EAS | | | | service should be | | | | available. See possible | | | | formats in Table 8.2.7-1. | +-----------------------------+--------+-----------------------------+ | > Service continuity | O | Indicates if the service | | support | | continuity support is | | | | required or not. | +-----------------------------+--------+-----------------------------+ | > Service permission level | O | Required level of service | | | | permissions e.g. trial, | | | | gold-class | +-----------------------------+--------+-----------------------------+ | > Service feature(s) | O | Required service features | | | | e.g. single vs. | | | | multi-player gaming service | +-----------------------------+--------+-----------------------------+ | **AC association profile** | **O** | **Describes an association | | | | between ACs and an | | | | association between ACs and | | | | a common EAS.** | +-----------------------------+--------+-----------------------------+ | NOTE 1: Either \"List of AC | | | | characteristics", "List of | | | | EAS characteristics\" **or | | | | AC association profile** | | | | shall be present. | | | | | | | | NOTE 2: \"Preferred ECSP | | | | list\" IE shall not be | | | | present. | | | | | | | | NOTE 3: The \"List of EAS | | | | characteristics\" IE must | | | | include at least one | | | | optional IE, if used as an | | | | EAS discovery filter. | | | +-----------------------------+--------+-----------------------------+
**NOTE 1: The enhancement to EEC Context shown in table 7.27.2.3-2 is
necessary for the option** \"**with CAAR** \" **(ii) as described in clause
7.27.0. It is to be determined in the normative phase whether this
functionality is necessary for the** \"**assumed common EES** \" **(i) as
described in clause 7.27.0.**
**Table 7.27.2.3-2: EEC Context**
+---------------------------+------------+---------------------------+ | **Information element** | **Status** | **Description** | +---------------------------+------------+---------------------------+ | EEC ID | M | Unique identifier of the | | | | EEC. | +---------------------------+------------+---------------------------+ | EEC Context ID | M | Identifier assigned to | | | | the EEC Context | +---------------------------+------------+---------------------------+ | Source EES Endpoint | M | The endpoint address | | | | (e.g. URI, IP address) of | | | | the EES that provided EEC | | | | context ID. | +---------------------------+------------+---------------------------+ | UE Identifier | O | The identifier of the | | | | hosting UE (i.e. GPSI or | | | | identity token) | +---------------------------+------------+---------------------------+ | List of EDGE-1 | O | List of subscriptions IDs | | subscriptions | | for capability exposure | | | | to the EEC ID (NOTE 1). | +---------------------------+------------+---------------------------+ | UE location | O | Latest UE location of the | | | | UE hosting the EEC which | | | | was available at the EES. | +---------------------------+------------+---------------------------+ | List of AC Profiles | O | Information about the ACs | | | | as described in | | | | Table 8.2.2-1. | +---------------------------+------------+---------------------------+ | **List of AC association |** O**|** List of all AC | | profiles**| | associations applicable | | | | to the EEC** | +---------------------------+------------+---------------------------+ | List of Service Session | O | List of associated | | Contexts | | Service Session Context | | | | IEs. Each Service Session | | | | Context includes | | | | information maintained by | | | | the EES for the services | | | | (involving UE related | | | | resources) received from | | | | an EAS registered to the | | | | EES. | +---------------------------+------------+---------------------------+ | > Service Session | M | Service Session Context | | Context | | is described in | | | | Table 8.2.8-2 (NOTE 2) | +---------------------------+------------+---------------------------+ | NOTE 1: The corresponding | | | | EDGE-1 subscription | | | | information may include | | | | 3GPP CN subscription | | | | information such as | | | | subscription correlation | | | | ID | | | | | | | | **NOTE 2: Whether the | | | | Service Session Context | | | | IE needs to contain AC | | | | Association ID as | | | | optional element, is to | | | | be determined in the | | | | normative phase.** | | | +---------------------------+------------+---------------------------+
NOTE 2: The enhancement to EDN configuration information shown in table
7.27.2.3-3 is necessary for the option \"with CAAR\" (ii) as described in
clause 7.27.0. only.
The IE enhancement is used to provide EECs in the service provisioning phase
with information about which EESs already act as common EESs serving AC
associations, and which are candidates. This enables the EEC to determine
which EES to choose if common EAS association services are needed. Note that
the service provisioning response can also be limited by ECS policies to
include only the EDNs/EESs which provide such services. The information about
served AC Associations per EES is provided by EESs to ECS using CAAR
functionality.
**Table****7.27.2.3-3: EDN configuration information**
+---------------------------+------------+---------------------------+ | **Information element** | **Status** | **Description** | +---------------------------+------------+---------------------------+ | EDN connection | M | Information required by | | information (NOTE 1) | | the UE to establish | | | | connection with the EDN. | +---------------------------+------------+---------------------------+ | > DNN/APN | M | Data Network Name/Access | | | | Point Name | +---------------------------+------------+---------------------------+ | > S-NSSAI | O | Network Slice information | +---------------------------+------------+---------------------------+ | > EDN Topological | O | The EDN serves UEs that | | Service Area | | are connected to the Core | | | | Network from one of the | | | | cells included in this | | | | service area. See | | | | possible formats in Table | | | | 8.2.7-1. | +---------------------------+------------+---------------------------+ | List of EESs | M | List of EESs of the EDN. | +---------------------------+------------+---------------------------+ | > EESID | M | The identifier of the EES | +---------------------------+------------+---------------------------+ | > EES Endpoint | M | The endpoint address | | | | (e.g. URI, IP address) of | | | | the EES | +---------------------------+------------+---------------------------+ | > EASIDs (NOTE 2) | O | List of EASIDs registered | | | | with the EES. | +---------------------------+------------+---------------------------+ | > EES Provider | O | The identifier of the EES | | identifier | | Provider (such as ECSP) | +---------------------------+------------+---------------------------+ | > EES Topological | O | The EES serves UEs that | | Service Area | | are connected to the Core | | | | Network from one of the | | | | cells included in this | | | | service area. EECs in UEs | | | | that are located outside | | | | this area shall not be | | | | served. See possible | | | | formats in Table 8.2.7-1. | +---------------------------+------------+---------------------------+ | > EES Geographical | O | The area being served by | | Service Area | | the EES in Geographical | | | | values (as specified in | | | | clause 7.3.3.3) | +---------------------------+------------+---------------------------+ | > List of EES DNAI(s) | O | DNAI(s) associated with | | | | the EES/EAS. This IE is | | | | used as Potential | | | | Locations of Applications | | | | in clause 5.6.7 of | | | | 3GPP TS 23.501 [2]. | +---------------------------+------------+---------------------------+ | > EES Service continuity | O | Indicates if the EES | | support | | supports service | | | | continuity or not. This | | | | IE also indicates which | | | | ACR scenarios are | | | | supported by the EES. | +---------------------------+------------+---------------------------+ | > EEC registration | M | Indicates whether the EEC | | configuration | | is required to register | | | | on the EES to use edge | | | | services or not. | +---------------------------+------------+---------------------------+ | **> List of association | **O**|** List of association IDs | | IDs (NOTE 3)**| | of the AC associations | | | | the EES is serving** | +---------------------------+------------+---------------------------+ | Lifetime | O | Time duration for which | | | | the EDN configuration | | | | information is valid and | | | | supposed to be cached in | | | | the EEC. | +---------------------------+------------+---------------------------+ | NOTE 1: If the UE is | | | | provisioned or | | | | pre-configured with URSP | | | | rules by the HPLMN, the | | | | UE handles the precedence | | | | between EDN connection | | | | info and URSP rules as | | | | defined in | | | | 3GPP TS 23.503 [12] | | | | clause 6.1.2.2.1. EDN | | | | connection info is | | | | considered to be part of | | | | UE Local Configurations. | | | | | | | | NOTE 2: EAS information | | | | is limited to the EEC | | | | requested applications. | | | | If no AC profiles were | | | | present in the service | | | | provisioning request, the | | | | EAS information is | | | | subject to the ECSP | | | | policy (e.g. no EAS | | | | information or a subset | | | | of EAS information | | | | related to the EES). | | | | | | | | **NOTE 3: Whether the | | | | list needs to contain the | | | | entire AC association | | | | Profile, or the IDs are | | | | sufficient, is to be | | | | determined in the | | | | normative phase.** | | | +---------------------------+------------+---------------------------+
#### 7.27.2.4 Enhancements to Service Provisioning for determining common EES
##### 7.27.2.4.1 Using the \"assumed common EES\" option (option i)
If the \"assumed common EES\" option is used, procedures for determining
common EES are not necessary.
##### 7.27.2.4.2 Determining common EES with CAAR (option ii)
During the service provisioning procedure defined in 3GPP TS 23.558 [2], the
presence of an AC association Profile in the request triggers the use of the
enhancements detailed in this clause.
The service provisioning response is used to provide information about which
EESs already act as Common EESs, i.e. providing services to AC associations,
as well as candidates. In this option, the EES information is provided to EECs
via the EDN Configuration Information in the service provisioning response,
and it can be obtained by ECS using CAAR queries.
**Enhancements to 3GPP TS 23.558 clause 8.3.3 Service Provisioning:**
Steps:
> 1\. The service provisioning request (3GPP TS 23.558 [2] Table 8.3.3.3.2-1)
> from EEC to ECS is enhanced to include an AC association Profile.
>
> 2\. Upon receiving the request, the ECS uses the AC association Profile
> information (e.g. association IDs) to query the (EES ID, AC association ID
> list) tuples stored by CAAR to determine whether an EES is already serving
> the AC association(s). The ECS uses the AC association ID(s) to query the
> CARR using the procedure in 7.27.2.8.
>
> 3\. If the processing of the request with AC association Profile information
> was successful, the ECS responds to the EEC with a service provisioning
> response. The ECS uses the EES(s) obtained from the step 2 CAAR query to
> update the enhanced EDN configuration information (Table 7.27.2.3-4) with
> EES(s) already serving the AC association and sends it in the provisioning
> response.
#### 7.27.2.5 Enhancements to EAS Discovery for determining common EAS
During the EAS discovery procedure defined in 3GPP TS 23.558 [2], if the EEC
sends an EAS discovery request to an EES including AC association Profile it
triggers the use of the enhancements detailed in this clause. Based on the AC
association Profile, the EES determines an EAS discovery result that includes
a common EAS for the AC association.
**Enhancements to 3GPP TS 23.558 [2] clause 8.5.2.2 EAS Discovery (request-
response model)**
Additional pre-condition:
1\. An AC association Profile has been provided to the EEC.
Steps:
1\. The EEC sends an EAS discovery request to the EES. The EAS discovery
request includes an AC association Profiles. Included in the AC association
Profile is information regarding an association between AC(s) on this UE and
other ACs indicating that the use of a common EAS is required.
2\. Upon receiving the request, the EES determines whether a common EAS is
available to provide services to the associated ACs that meet the criteria
specified in the AC association Profile (i.e. List of Common EAS aggregate
Service KPIs).
3\. If the processing of the request was successful, the EES responds to the
EEC with an EAS discovery response which includes information about the
discovered common EAS able to provide services to the associated ACs.
#### 7.27.2.6 Enhancements to ACR
During the detection, decision-making and execution phases of the ACR
procedures defined in 3GPP TS 23.558 [2], an AC association Profile can be
used to identify ACs requiring a common EAS. This information can be used in
the ACR procedures to coordinate the transitioning of an AC to a common EAS or
transitioning a group of already associated ACs from a common S-EAS to a
common T-EAS.
NOTE 1: Coordination of the ACRs for AC association members is to be addressed
in the normative phase.
**Enhancements to 3GPP TS 23.558[2] clause 8.8.3.2 Discover T-EAS procedure**
Steps:
1\. The S-EES checks if a registered or cached T-EAS satisfies the AC
association Profile (e.g. Common EAS aggregate Service KPIs) stored in the EEC
context and can serve as a common EAS for the associated ACs.
2\. The EAS discovery filter (Table 7.27.2.3-1) within the EAS discovery
request issued from the S-EES to the T-EES includes AC association Profile
information (e.g. Common EAS aggregate Service KPIs).
3\. The T-EES discovers the T-EAS(s) utilizing the Common EAS aggregate
Service KPIs of the AC association profile, such that a common EAS able to
serve the associated ACs is provided in the response.
**Enhancements to 3GPP TS 23.558 clause 8.8.3.3 Retrieve T-EES procedure:**
NOTE 2: In the \"assumed common EES\" (i) option, T-EES equals S-EES, so no
enhancements are required for 3GPP TS 23.558 clause 8.8.3.3.
Steps:
1\. The T-EES retrieve request (3GPP TS 23.558 [2] Table 8.8.4.6-1) from the
S-EES to the ECS is enhanced to optionally include AC association Profile.
2\. The ECS interacts with the 3GPP core network to retrieve the UE locations.
> The ECS determines a common T-EES for the AC association.
NOTE 3: The ECS uses AC association Profile, UE location, as well as CAAR
query as detailed in clause 7.27.2.8 to make this determination.
> In addition, if an \"associated UE group ID\" is provided in the AC
> association Profile, the ECS can interact with the 3GPP core network to
> determine the number of UEs present in candidate EES(s) service area(s).
> Alternatively, the ECS uses \"Associated UEs service area\" in the AC
> association Profile to determine whether the candidate EES service area
> meets the needs of the AC association. The ECS uses the associated UE group
> ID and UE locations to determine whether T-EESs are candidates for serving
> the AC association.
**Enhancements to 3GPP TS 23.558 clause 8.8.3.4 ACR launching procedure**
Steps:
1\. The ACR request message (3GPP TS 23.558 [2] Table 8.8.4.4-1) sent to the
EES by EEC is enhanced to optionally include an AC association ID.
2\. If the request in step 1 is for ACR initiation and if the EAS notification
indication in ACR initiation data is provided in the step 1 request and the
EAS has subscribed to receive such notification, the EES includes the
association ID of the AC association in the notification.
The notified EAS uses the AC association ID during the ACR status update
procedure and stores it with the Application context maintained. The content
of the application content maintained by EAS is out of scope of the current
document.
**Enhancements to 3GPP TS 23.558 [2]** **clause 8.8.3.8** **ACR status update
procedure**
Steps:
1\. The EAS sends the ACR status update request message (3GPP TS 23.558 [2]
Table 8.8.4.19-1) to the S-EES that is enhanced to include an association ID
of the AC association for which the ACR has been performed.
NOTE 4: S-EAS obtains the association ID via pre-provisioning, from an ACR
management event notification or directly from the AC and stores it in the
Application Context. T-EAS obtains the association ID via pre-provisioning or
via ACT.
2\. If ACR is successful, the receiving EES uses the association ID
information to update the information about the AC associations served.
> In the option \"with CAAR\" (ii) the EES update is to the information
> available at CAAR. The S-EES removes its corresponding (association ID, EES
> ID) tuple from CAAR. The T-EES adds its corresponding (association ID, EES
> ID) tuple to CAAR.
NOTE 5: In the \"assumed common EES\" (i) option, no enhancement to step 2 is
required.
#### 7.27.2.7 Other procedural enhancements
**Enhancements to 3GPP TS 23.558[2] clause 8.9.1.1 EEC Context handling at EEC
registration**
If the EEC registration request does not include a previously assigned EEC
Context ID value, the receiver EES creates an EEC Context. The receiver EES
assigns an EEC context ID and sets the source EES Endpoint to its own
Endpoint. The EEC ID, UE Identifier and List of AC association profiles are
set based on the corresponding registration request parameters.
**Enhancements to 3GPP TS 23.558[2]** **clause 8.9.1.5 Other EEC Context
handling**
When the EES determines that a registered EAS is providing services to an AC
which is part of an AC association Profile, the EES updates the corresponding
Service Session context with the Association ID. Conversely, when the EES
determines that a Service Session is no longer used within an AC association,
the EES removes the Association ID from the corresponding Service Session
context.
In the option \"with CAAR\" (ii) the EES also updates the information about
served AC Associations available at CAAR accordingly. During ACR, the S-EES
removes its corresponding (association ID, EES ID) tuple from CAAR. The T-EES
adds its corresponding (association ID, EES ID) tuple to CAAR.
#### 7.27.2.8 New procedures
##### 7.27.2.8.1 New procedures for option ii
###### 7.27.2.8.1.1 General
The new procedures described in clauses 7.27.2.8.1.2 and 7.27.2.8.1.3 are
necessary for option (ii)
The CAAR function is that of maintaining information on AC Association
serviced per EES and can also be integrated in ECS functionality.
###### 7.27.2.8.1.2 EES Update of AC Associations with CAAR (option ii)
The EES procedure for updating AC Association information available at CAAR
uses an update request in which the following information is provided to the
CAAR: EES ID, list of association IDs of the associations being served,
registrar ECS information including list of EDNs. This information is updated
by EES when any of this information changes or is about to change (e.g. in
advance of EES de-registration).
###### 7.27.2.8.1.3 ECS Query of AC Associations with CAAR (option ii)
The ECS procedure for querying the AC Association information at CAAR uses the
association IDs received (e.g. in a service provisioning request) and its own
ECS information. The response provides a list of its registered EESs which
serve the AC Association Profiles IDs being queried for.
NOTE: Whether and how CAAR queries are used to direct EECs to a different ECS
for the purpose of receiving services consistent with the AC Association is to
be addressed in the context of enabling inter-ECSP deployments.
### 7.27.3 Solution evaluation
This solution addresses Key Issue #17, discovery of a common EAS, while
providing the following functionality addressing the first two open issues of
KI #17:
1\. Introduces specific, clarifying, and consistent terminology for use in the
common EAS scenario, e.g. \"AC association\", \"pre-grouped\" (AC
Association), \"dynamic grouping\" (AC Association), etc.
2\. Harmonizes support for usecases in which determining a common EES is not
necessary (i.e. \"assumed common EES\" option) with support for usecases in
which determining a common EES is necessary (i.e. option \"with CAAR\") as
described in clause 7.27.0.
3\. Provides support for various types of AC associations, i.e. \"pre-
grouped\" and \"dynamic grouping\", as described in clause 7.27.2.2.1.2. as
well as details on determining grouping (in clause 7.27.2.2.1.2)
4\. Describes (in clause 7.27.2.8) new procedures for interaction with CAAR
5\. Specifies the impact of introducing this functionality on the following
existing procedures: Service provisioning, EAS discovery and EEC context
handling.
The usage of common AC types and common AC schedule as the criteria for
determining group of UEs should be validated further.
The usage of UEs service area as the standalone criteria for determining group
of UEs without any associated AC information should be validated further.
Solution #27 provides the following functionality addressing the last open
issue of KI #17:
1\. Description of ACR-related procedures. Specifically, impacts on all the
following ACR-related procedures are detailed: Discover T-EAS, Retrieve T-EES,
ACR launching, ACR status update.
2\. Coordination of ACR operations is partly addressed in clause 7.27.2.6 by
indicating the information which can be used to address this issue. The clause
includes a NOTE clarifying that based on this information, the procedures for
coordination of the ACRs for AC association members are to be addressed in the
normative phase.
This solution can impact Rel-17 architecture though through the introduction
of CAAR as a new entity.
To solve any potential issues resulting from the un-synchronized CAAR query
and update leading to a race condition, an ACR procedure may be used to steer
UEs to one common EAS.
## 7.28 Solution #28: Common EAS discovery using EAS selection information
### 7.28.1 Architecture enhancements
None
### 7.28.2 Solution description
#### 7.28.2.1 General
The following solution corresponds to the key issue #17 on Discovery of a
common EAS.
#### 7.28.2.2 Procedure
This solution is based on the following principles:
1\. Each EAS instance can be identified uniquely across EDNs.
2\. EAS Selection Information can be stored in the AC profile as the EAS
selection information.
3\. For service provisioning, the EEC can include EAS selection information in
the AC profile to discover the EES / EDN where a common EAS is available
4\. For EAS discovery, the EEC can include the EAS selection information in
the AC profile to discover a common EAS.
This solution assumes that an EAS can only register to a single EES within an
EDN, as per Rel-17 version of TS 23.558 [2] clause 6.6.3.3 on reference point
cardinality for EDGE-3. Therefore, it is assumed that all UEs discovering the
common EAS must do so via the EES where the common EAS is registered.
Additionally, requirements such as EEC registration must be followed by the
UEs discovering a common EAS.
This solution is compliant with ACID definition as per Rel-17 version of TS
23.558 [2] clause 7.2.5 and allows ACs with the same or different ACID (which
belong to applications) to discover and use a common EAS.
Figure 7.28.2.2-1 presents an overview of the procedures for discovery of a
common EAS; the scenario represented involves a first UE (e.g.
UE-1/AC-1/EEC-1) discovering and using an EAS and a second UE (e.g.
UE-2/AC-2/EEC-2) discovering the same EAS used by the first UE-1.
Figure 7.28.2.2-1: Common EAS discovery using EAS selection information
Pre-conditions:
\- The EAS has registered to the EES
1\. The AC-1 registers to EEC-1, and according to Rel-17 procedures defined in
TS 23.558, the EEC-1 performs service provisioning with the ECS and performs
EAS discovery with the EES. Additionally, the EEC can perform EAS selection
declaration if required.
2\. The EEC-1 selects one of the discovered EAS to be used as the common EAS.
The EEC-1 uses the EAS Selection Information to form the EAS selection
information which can be used to uniquely identify the common EAS within and
across EDNs. The EEC-1 can provide the EAS selection information to AC-1.
3\. Not shown on figure 7.28.2.2-1, AC-2 residing on UE-2 can be provided with
EAS selection information. How AC-2 obtains the EAS selection information is
out of SA6 scope, for example it may be obtained via direct interaction
between AC-1 and AC-2 or interaction between AC-2 and the service provider of
the EAS.
The AC-2 includes the EAS selection information in its AC profile and then
registers with EEC-2, or alternatively updates its existing AC registration
with EAS selection information.
NOTE: If an EAS was discovered prior to receiving EAS selection information,
the AC can update its AC profile to trigger step 4 and step 5 to discover the
common EAS.
4\. The EEC-2 can perform a service provisioning procedure and includes the AC
profile that contains the EAS selection information. The ECS considers the EAS
selection information (e.g. the EESID) when selecting the EES and chooses the
EES with a matching EESID. The service provisioning response includes the EDN
configuration information that contains the EES where the common EAS is
registered. Step 4 is optional if the EESID included in the EAS selection
information is already known by EEC-2, in such case the EEC-2 can proceed to
step 5. Not shown on the figure, the EEC may need to register to the EES if
required by service provisioning.
5\. The EEC-2 selects the EES according to the EAS selection information. If
the EAS profile of the common EAS is not known at the EEC-2, the EEC-2 can
perform the EAS discovery with the selected EES, and includes the AC profile
in the EAS discovery request. The EEC-2 performs the EAS selection declaration
with the EES; the EES considers if the EEC-2 can use the common EAS. The EAS
selection declaration response received at the EEC-2 indicates
success/failure; if successful, the AC-2 can access the same common EAS as
AC-1.
### 7.28.3 Solution evaluation
The KI #17 has the following open issues:
1) Whether and how the ACs/EECs of different users can select or be
provisioned the same EAS within an EDN?
NOTE: This open issue is dealing with the issue how different EECs can perform
EAS discovery so that they select the same EAS within an EDN, whereas KI#13 is
dealing with the issue how, after different EECs have selected different EASs
located in different EDNs, these EASs can synchronize their contexts.
2) Whether and how the ACs/EECs of different users can select or be
provisioned a common EAS, even if initially the EECs are communicating with
different EDNs?
3) Whether and how the EEL can support service continuity to ensure that when
ACs require the use of service from a common EAS and an ACR operation is
needed, ACR operations can be coordinated so that upon completion of the ACR
operations the ACs again have services provided by a common EAS.
Overall evaluation of Solution #28:
a) Enables an AC/EEC to select the same EAS as another EEC within an EDN by
extending EAS discovery procedure with EAS selection information.
b) Enables ACs/EECs of different users to select or be provisioned a common
EAS, even if initially the EECs are communicating with different EDNs, by
firstly extending service provisioning procedure with EAS selection
information, and secondly performing the EAS discovery procedure within that
common EDN.
c) Maintains compatibility with ACR operations by extending pre-existing
service provisioning and EAS discovery procedures which are used by ACR
procedures.
Editor\'s note: It is FFS whether this solution requires detailed procedure
updates to show the common EAS selection information.
Editor\'s note: This solution requires detailed procedure updates as per
bullets a), b) and c) and it is FFS to show the enhancements to existing
procedures.
Editor\'s note: In the race condition situation (multiple UEs selects
different EASs during step 2), how to coordinate common EAS selection is FFS.
## 7.29 Solution #29: Discovery of a common EAS
### 7.29.1 Architecture enhancements
None.
### 7.29.2 Solution description
#### 7.29.2.1 General
The following solution addresses open issues 1 and 2 of key issue #17,
discovery of a common EAS.
Editor\'s note: The solution for open issue 3, support of service continuity,
is FFS.
NOTE: The communication between AC and AS and between ACs is out of scope of
SA6. In the following, some of this communication is only described to enable
a better understanding of how the procedures under SA6 responsibility may be
embedded in the overall procedure. The description is not intended to exclude
scenarios using a different application level communication.
It is assumed that when users want to participate in a real-time multi-user
session, their ACs will register with an application server (AS) in the cloud.
The AS configures the ACs to form an AC group to which the AS assigns a
globally unique Group ID (e.g. a UUID as described in RFC 4122).
During the registration with the AS, users will provide their UE location
information to the AS. Dependent on the use case, the location information can
be given, e.g. in the format of GPS coordinates, a Cell Identity or a Tracking
Area Identity. Furthermore, dependent on the application, during the
registration the users may be asked to consent to exchanging the location of
their UEs with each other. If users consent, then the UE location information
is exchanged between the ACs via application level signalling via the AS in
the cloud.
Based on the UE location information received from the ACs, the AS determines
the Expected group geographical service area. Dependent on the use case this
can be a single coordinate, e.g. the center of mass of the UE/AC locations or
the location of a UE/AC taking a specific role in the group (e.g. in a V2X
scenario the first truck in platoon), or it can be a geographical area
including the current UE/AC locations (without disclosing individual UE/AC
locations). The AS provides Group ID, Expected group geographical service area
and, if applicable, the locations of the other ACs to each of the ACs.
Dependent on the application, the distribution of the Group ID and the other
parameters by the AS can be triggered by different events, e.g. upon explicit
request of a user or when a certain minimum number of users have registered.
Upon receipt of the Group ID, together with the other parameters, each AC
requests its EEC to perform EAS discovery.
During service provisioning, the Requested EES geographical service area is
received by the ECS and used by it to determine a common EES, by comparing it
with the EES geographical service area received from each EES during EES
registration.
**EAS discovery based on individual UE locations**
Later, during EAS discovery, the EEC-1 of user 1 provides the common EES with
its own location and with the locations of the other UEs/EECs. Based on the
location information of all EECs involved in the session and possibly other
information included in the EAS discovery request, e.g. Group ID, the EES
determines a common EAS and indicates it to the EEC-1.
When EEC-2 of user 2 provides the EES with the same set of location
information for all the EECs, then the EES will determine the same EAS again.
**EAS discovery based on other information**
If users do not consent to share their individual UE location information with
other users, then only the Expected group geographical service area is
distributed by the AS to the ACs via application level signalling.
Additionally, the AS may send a \"group size for EAS discovery\" parameter to
each AC.
Later, during EAS discovery, each EEC provides the common EES with its own
location and optionally, in the Group profile IE, the Expected Group
geographical service area or the \"group size for EAS discovery\" parameter or
both.
The EES may initiate determination of a common EAS for the EECs based on
different criteria, dependent the received parameters and the application,
e.g.:
\- immediately upon receipt of the first EAS discovery request, based on the
Expected Group geographical service area, if available;
\- when the number of EAS discovery request is greater or equal to the \"group
size for EAS discovery\" parameter; or
\- a certain time after receipt of the first EAS discovery request,
taking into account the UE location information received from the EECs by this
point in time and possibly other information included in the EAS discovery
request, e.g. Group ID.
**Handling of \"late-coming\" ACs**
If a late-coming AC wants to join the multi-user group session after the
initial EAS discovery was initiated, it may register with the AS. After
registration it will receive from another AC in application layer signalling,
e.g. via the AS, the EDN configuration information necessary to connect to the
common EES. The details of this signalling are out-of-scope of SA6. The AC can
then register with the EES and perform EAS discovery, providing its Group ID.
The EES determines the EAS based on the Group ID.
#### 7.29.2.2 Procedure
The following procedure demonstrates the signalling for 2 UEs only, but the
same principles can be applied to a larger number of UEs.
Pre-conditions:
1\. ACs have registered with an AS in the cloud to participate in a real-time
multi-user session. During the registration, the AS provided the ACs with the
Group ID and the Expected group geographical service area (which may be a
single coordinate or an area including the UE locations, see clause 7.29.2.1).
Dependent on user consent, the AS also forwards the location information of
the other UE(s) to each of the ACs. If user consent is not available, the AS
may send a \"group size for EAS discovery\" parameter to the ACs.
Figure 7.29.2.2-1: Discovery of a common EAS
1.-2. Each AC requests its EEC to perform EAS discovery. The request includes
the AC profile, the Group profile IE, including optionally, the Expected group
geographical service area, or the location information of the other UEs
involved in the multi-user session in the request.
3.-4. EEC1 and EEC2 initiate service provisioning, including the AC profile,
the Group profile IE including the Expected group geographical service area.
5.-6. Based on the AC profile, Group profile including the Expected group
geographical service area and the other information provided by the EEC, the
ECS determines a suitable common EES and includes it in the service
provisioning response. If more than one suitable EES is available, the ECS can
use additional information as input parameter to determine a unique EES.
NOTE 1: For example, the ECSs can use the Group ID and an algorithm shared
between the ECSs to derive the common EES from the list of available EESs.
If the ECS wants to provision the EECs with additional EESs, e.g. for service
continuity, then the common EES is included as first EES in the first entry of
the list of EDN configuration information.
7.-8. EEC1 and EEC2 initiate EAS discovery towards the common EES, including
the AC profile, the Group profile IE which optionally includes the Expected
group geographical service area or the location information of all UEs
involved in the multi-user session.
9.-10. The EES initiates determination of a common EAS for the EECs based on
different criteria, dependent the received parameters and the application,
e.g.:
i) immediately upon receipt of the first EAS discovery request, based on the
Expected Group geographical service area or the location information of all
UEs involved in the multi-user session, if received;
ii) when the number of EAS discovery request is greater or equal to the
\"group size for EAS discovery\" parameter; or
iii) a pre-defined time after receipt of the first EAS discovery request,
taking into account the Expected Group geographical service area or the UE
location information received by this point in time and possibly other
information included in the EAS discovery request, e.g. Group ID.
NOTE 2: The EES can also utilize the capabilities of the 3GPP core network to
determine a UE location.
The EES includes the determined common EAS, e.g. EAS-1(A), in the EAS
discovery response.
#### 7.29.2.3 Enhanced Service provisioning request
The following enhancement (highlighted with bold text) to the Service
provisioning request in 3GPP TS 23.558 [2] is proposed:
Table 7.29.2.3-1 (TS 23.558: Table 8.3.3.3.2-1): Service provisioning request
* * *
Information element Status Description EECID M Unique identifier of the EEC.
Security credentials M Security credentials resulting from a successful
authorization for the edge computing service. AC Profile(s) O Information
about services the EEC wants to connect to, as described in Table 8.2.2-1. EEC
Service Continuity Support O Indicates if the EEC supports service continuity
or not. The IE also indicates which ACR scenarios are supported by the EEC. UE
Identifier O The identifier of the UE (i.e. GPSI or identity token)
Connectivity information O List of connectivity information for the UE, e.g.
PLMN ID, SSID. UE location O The location information of the UE. The UE
location is described in clause 7.3.2. **AC Group profile(s)** **O** **List of
AC group profiles of the multi-user session that an AC wants to join.**
* * *
#### 7.29.2.4 Enhanced EAS discovery filters
The following enhancement (highlighted with bold text) to the EAS discovery
filters in 3GPP TS 23.558 [2] is proposed:
Table 7.29.2.4-1 (TS 23.558: Table 8.5.3.2-2): EAS discovery filters
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | List of AC characteristics | O | Describes the ACs for which | | (NOTE 1) | | a matching EAS is needed. | +-----------------------------+--------+-----------------------------+ | > AC profile (NOTE 2) | M | AC profile containing | | | | parameters used to | | | | determine matching EAS. AC | | | | profiles are further | | | | described in Table 8.2.2-1. | +-----------------------------+--------+-----------------------------+ | **> AC Group profile** | **O** | **AC group profile of the | | | | multi-user session that the | | | | AC wants to join.** | +-----------------------------+--------+-----------------------------+ | List of EAS characteristics | O | Describes the | | (NOTE 1, NOTE 3) | | characteristic of required | | | | EASs. | +-----------------------------+--------+-----------------------------+ | > EASID | O | Identifier of the required | | | | EAS. | +-----------------------------+--------+-----------------------------+ | > EAS provider identifier | O | Identifier of the required | | | | EAS provider | +-----------------------------+--------+-----------------------------+ | > EAS type | O | The category or type of | | | | required EAS (e.g. V2X) | +-----------------------------+--------+-----------------------------+ | > EAS schedule | O | Required availability | | | | schedule of the EAS (e.g. | | | | time windows) | +-----------------------------+--------+-----------------------------+ | > EAS Geographical Service | O | Location(s) (e.g. | | Area | | geographical area, route) | | | | where the EAS service | | | | should be available. | +-----------------------------+--------+-----------------------------+ | > EAS Topological Service | O | Topological area (e.g. cell | | Area | | ID, TAI) for which the EAS | | | | service should be | | | | available. See possible | | | | formats in Table 8.2.7-1. | +-----------------------------+--------+-----------------------------+ | > Service continuity | O | Indicates if the service | | support | | continuity support is | | | | required or not. | +-----------------------------+--------+-----------------------------+ | > Service permission level | O | Required level of service | | | | permissions e.g. trial, | | | | gold-class | +-----------------------------+--------+-----------------------------+ | > Service feature(s) | O | Required service features | | | | e.g. single vs. | | | | multi-player gaming service | +-----------------------------+--------+-----------------------------+ | NOTE 1: Either \"List of AC | | | | characteristics\" or \"List | | | | of EAS characteristics\" | | | | shall be present. | | | | | | | | NOTE 2: \"Preferred ECSP | | | | list\" IE shall not be | | | | present. | | | | | | | | NOTE 3: The \"List of EAS | | | | characteristics\" IE must | | | | include at least one | | | | optional IE, if used as an | | | | EAS discovery filter. | | | +-----------------------------+--------+-----------------------------+
#### 7.29.2.5 New Group profile common information element
The following new common EAS AC Group profile information element is proposed
to 3GPP TS 23.558 [2]:
Table 7.29.2.5-1: AC Group profile IE
* * *
Group ID M Identity of the group of ACs. ACID M Identity of the AC that wants
to join the multi-user session. List of EASs O List of EAS that serve the AC
group along with the service KPIs required by the AC group. > EASID M
Identifier of the EAS > Expected AC Service KPIs O KPIs expected in order for
the ACs in the AC group to receive currently required services from the EAS,
as described in Table 8.2.3-1. > Minimum required AC Service KPIs O Minimum
KPIs required in order for ACs in the AC group to receive meaningful services
from the EAS, as described in Table 8.2.3-1 Expected Group Geographical
Service Area (NOTE) O Dependent on the application, this IE can indicate, e.g.
a small circle around the centre of mass of the UE/AC locations or around the
location of a specific UE/AC for which certain service KPIs are to be
optimised, or an area including the own UE location and the locations of one
or more other UEs that want to join the multi-user session. Other UE locations
(NOTE) O The location information of other UEs involved in a multi-user
session. The UE location is described in TS 23.558, clause 7.3.2. NOTE: Only
one of the parameters \"Expected Group Geographical Service Area\" and \"Other
UE locations\" may be included. "Other UE locations" shall only be included if
users have consented to share their individual UE location information with
other users at the application level.
* * *
#### 7.29.2.6 Enhanced EDN configuration information
The following enhancement (highlighted with bold text) to the EDN
configuration information in 3GPP TS 23.558 [2] is proposed:
Table 7.29.2.6-1 (TS 23.558: Table 8.3.3.3.3-2): EDN configuration information
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +-----------------------------+--------+-----------------------------+ | EDN connection information | M | Information required by the | | (NOTE 1) | | UE to establish connection | | | | with the EDN. | +-----------------------------+--------+-----------------------------+ | > DNN/APN | M | Data Network Name/Access | | | | Point Name | +-----------------------------+--------+-----------------------------+ | > S-NSSAI | O | Network Slice information | +-----------------------------+--------+-----------------------------+ | > EDN Topological Service | O | The EDN serves UEs that are | | Area | | connected to the Core | | | | Network from one of the | | | | cells included in this | | | | service area. See possible | | | | formats in Table 8.2.7-1. | +-----------------------------+--------+-----------------------------+ | List of EESs | M | List of EESs of the EDN. | +-----------------------------+--------+-----------------------------+ | > EESID | M | The identifier of the EES | +-----------------------------+--------+-----------------------------+ | > EES Endpoint | M | The endpoint address (e.g. | | | | URI, IP address) of the EES | +-----------------------------+--------+-----------------------------+ | > EASIDs (NOTE 2) | O | List of EASIDs registered | | | | with the EES. | +-----------------------------+--------+-----------------------------+ | > EES Provider identifier | O | The identifier of the EES | | | | Provider (such as ECSP) | +-----------------------------+--------+-----------------------------+ | > EES Topological Service | O | The EES serves UEs that are | | Area | | connected to the Core | | | | Network from one of the | | | | cells included in this | | | | service area. EECs in UEs | | | | that are located outside | | | | this area shall not be | | | | served. See possible | | | | formats in Table 8.2.7-1. | +-----------------------------+--------+-----------------------------+ | > EES Geographical Service | O | The area being served by | | Area | | the EES in Geographical | | | | values (as specified in | | | | clause 7.3.3.3) | +-----------------------------+--------+-----------------------------+ | > List of EES DNAI(s) | O | DNAI(s) associated with the | | | | EES/EAS. This IE is used as | | | | Potential Locations of | | | | Applications in | | | | clause 5.6.7 of | | | | 3GPP TS 23.501 [2]. | +-----------------------------+--------+-----------------------------+ | > EES Service continuity | O | Indicates if the EES | | support | | supports service continuity | | | | or not. This IE also | | | | indicates which ACR | | | | scenarios are supported by | | | | the EES. | +-----------------------------+--------+-----------------------------+ | > EEC registration | M | Indicates whether the EEC | | configuration | | is required to register on | | | | the EES to use edge | | | | services or not. | +-----------------------------+--------+-----------------------------+ | > Security Credential | O | Indicates the security | | | | credential sent by the ECS. | | | | The security credential is | | | | used by EEC to communicate | | | | with the EES as specified | | | | in 3GPP TS 33.558 [23], | | | | clause 6.2. | +-----------------------------+--------+-----------------------------+ | Lifetime | O | Time duration for which the | | | | EDN configuration | | | | information is valid and | | | | supposed to be cached in | | | | the EEC. | +-----------------------------+--------+-----------------------------+ | NOTE 1: If the UE is | | | | provisioned or | | | | pre-configured with URSP | | | | rules by the HPLMN, the UE | | | | handles the precedence | | | | between EDN connection info | | | | and URSP rules as defined | | | | in 3GPP TS 23.503 [12] | | | | clause 6.1.2.2.1. EDN | | | | connection info is | | | | considered to be part of UE | | | | Local Configurations. | | | | | | | | NOTE 2: EAS information is | | | | limited to the EEC | | | | requested applications. If | | | | no AC profiles **or AC | | | | Group profiles** were | | | | present in the service | | | | provisioning request, the | | | | EAS information is subject | | | | to the ECSP policy (e.g. no | | | | EAS information or a subset | | | | of EAS information related | | | | to the EES). | | | +-----------------------------+--------+-----------------------------+
### 7.29.3 Solution evaluation
The proposed solution addresses Key Issue #17, discovery of a common EAS. It
introduces a new AC Group profile IE, with group specific attributes that
provide information that can enable the Edge Enabler Layer to select an
appropriate common EES (as part of service provisioning) and then common EAS
(as part of EAS discovery) based on the application layer requirements.
The dynamic information contained in the AC Group profile IE would be made
available at runtime through an AC's interaction with the AS to which it is
registered. The information provided by the AS may include either an expected
group geographical service area or location information of other UEs involved
in the multi-user session. It is assumed that if this geographical information
(i.e. expected group geographical service area or location information of
other UEs) is provided by the AC(s)/EEC(s) to the EEL during service
provisioning and EAS discovery, and more than one EAS is available to provide
the same service in different locations, the geographical information can
assist the ECS with determining the common EES and the EES with determining
the common EAS most suitable to meet the latency requirements of the multi-
user session.
Location information of other UEs involved in the multi-user session will not
be provided to each AC by the AS unless the users involved in the multi-user
session have consented to sharing of their individual UE location information.
The application layer mechanism for a user to share consent with the AS is
outside the scope of SA6.
This solution does not introduce impact on Rel-17 architecture.
## 7.30 Solution #30: Common EAS selection
### 7.30.1 Architecture enhancements
Architecture enhancements in clause 6.7 is the basis for this solution.
### 7.30.2 Solution description
This solution addresses KI#17.
The UEs can be grouped together to consume EAS services on the same EAS
endpoint.
The group information (e.g. group id) can be used as part of the binding
information to support anchor those UEs to the same EAS. The binding
information are maintained on a Binding Server (BS). When an EES is aware of
the selected EAS (e.g. via EEC sent EAS selection declaration), the BS is
contacted by the EES and the BS can decide whether to proceed the currently
selected EAS or instruct to use another EAS (which already has other
established session(s) for the group).
The EDN id is used to identify EDN and is also part of the binding
information. Figure 7.30.2-1 show the detailed procedure with a Central
Binding Server (CBS) for common EAS pre-selection in EES.
In the following figures, ACs with same AC ID on different UEs is shown as
example, it is also possible that ACs with different AC IDs supplied by the
same AC provider (e.g. AC developed for iphone and AC developed for Android
phone) need to communicate with each other via EAS. It is assumed that the CBS
can be accessed by all EESs deployed in different EDNs.
Pre-conditions:
1\. The EEC is aware of the group info from AC via EDGE-5 reference point.
Figure 7.30.2-1: select a common EAS for UEs, common EAS pre-selection in EES
In EDN1:
1\. During EAS discovery, EEC 1 sends EAS discovery request to EES 1 including
EAS ID, UE ID (of UE1), AC ID (of AC1) and group info (e.g. group id x).
2\. The EES 1 pre-selects an EAS and sends group binding request message to
CBS with the received information from EEC 1 and in addition the EDN id (of
EDN 1).
3\. There is no existing binding information found so that the CBS creates a
new binding information for the UE group.
4\. The CBS responds group binding request with a result indicating OK to
proceed with the requested EAS.
5-7. With the received EAS information, the EES 1 responds the EAS discovery
request with the selected EAS to the EEC 1 and consequently AC1 connects to
the selected EAS after being informed by EEC 1.
In the same EDN (i.e. EDN1):
8\. During EAS discovery, EEC 2 sends EAS discovery request to EES 2 with the
selected EAS information including EAS ID, UE ID (of UE2), AC ID (of AC1) and
group info (e.g. group id x).
9\. The EES 2 pre-selects an EAS and sends group binding request message to
CBS with the received information from EEC 2 and in addition the EDN id (of
EDN 1).
10\. The CBS finds existing binding information for the UE group based on
group info.
11\. The CBS responds with a result indicating recommendation to use common
EAS (including the associated EES info) which is EES 1 selected EAS.
12-14. With the received EAS information, the EES 2 responds the EAS selection
to the EEC 2 and consequently AC1 connects to the common EAS. EEC 2 may
contact EES 1 for subsequent procedures (e.g. EEC registration, ACR
subscription).
NOTE: It is assumed that within an EDN (with proper dimensioning for the
service area), the EAS service experience is almost the same for all ACs
distributed in the EDN. For instance, the EAS can measure the RTT for
connected AC with consideration of the user plane routing optimization in CN
and DN so that the EAS can estimate its service area during deployment stage
to ensure relative fairness for all ACs distributed in the EDN (e.g. > 95% ACs
having RTT \ _multi-user session |**O** | **Indicates application | | (NOTE 1)_** | | requires _multi-user | | | | session_**| +-----------------------------+--------+-----------------------------+ |** > multi-AC session | **O** | **Indicates multiple ACs | |_(NOTE 1)_** | | would be part of the | | | | session**| +-----------------------------+--------+-----------------------------+ |** >> List of ACIDs _(NOTE |__O_ _|__Indicates one or more | | 2)_**| | ACIDs need to be served by | | | | the same EAS, to be part of | | | | the session** | +-----------------------------+--------+-----------------------------+ | Preferred ECSP list | O | When used in a service | | | | provisioning request, this | | | | IE indicates to the ECS | | | | which ECSPs are preferred | | | | for the AC. The ECS may use | | | | this information in the | | | | selection of EESs. | +-----------------------------+--------+-----------------------------+ | AC Schedule | O | The expected operation | | | | schedule of the AC (e.g. | | | | time windows) | +-----------------------------+--------+-----------------------------+ | Expected AC Geographical | O | The expected location(s) | | Service Area | | (e.g. route) of the hosting | | | | UE during the AC\'s | | | | operation schedule. This | | | | geographic information can | | | | express a geographic point, | | | | polygon, route, signalling | | | | map, or waypoint set. | +-----------------------------+--------+-----------------------------+ | AC Service Continuity | O | Indicates if service | | Support | | continuity support is | | | | required or not for the | | | | application. The IE also | | | | indicates which ACR | | | | scenarios are supported by | | | | the AC and which of these | | | | are preferred by the AC. | +-----------------------------+--------+-----------------------------+ | List of EASs | O | List of EAS that serve the | | | | AC along with the service | | | | KPIs required by the AC | +-----------------------------+--------+-----------------------------+ | > EASID | M | Identifier of the EAS | +-----------------------------+--------+-----------------------------+ | > Expected AC Service KPIs | O | KPIs expected in order for | | | | ACs to receive currently | | | | required services from the | | | | EAS, as described in | | | | Table 8.2.3-1 | +-----------------------------+--------+-----------------------------+ | > Minimum required AC | O | Minimum KPIs required in | | Service KPIs | | order for ACs to receive | | | | meaningful services from | | | | the EAS, as described in | | | | Table 8.2.3-1 | +-----------------------------+--------+-----------------------------+ | **NOTE 1: Either one of | | | | these or both are present | | | | depending on the | | | | application scenario.** | | | | | | | | **NOTE 2: Atleast one ACID | | | | is mandatory when multi-AC | | | | session IE is present.** | | | +-----------------------------+--------+-----------------------------+
#### 7.31.2.6 Enhancements to 3GPP TS 23.558 8.3.3.2.2
Service provisioning procedure in clause 8.3.3.2.2 based on request/response
model is enhanced with the following:
Step 1 is enhanced with -The request message may contains the group
information for common EAS selection (e.g. group ID, expected service area)
can be provided by the EES within the service provisioning request.
Step 2 is enhanced with -For the common EAS case, the ECS can determines the
alternative EESs for the certain group based on the group information for
common EAS selection (e.g. group ID, expected service area) in step 1
NOTE: The same EES list will be provided to all the UE in the same group.
### 7.31.3 Solution evaluation
The proposed solution addresses Key Issue #17 and Key Issue #13.
For Key Issue #17: Proposes EAS discovery method enhanced with information
required for discovering a common EAS when the same ACID on UEs of different
Users (aware or unaware of each other) are within the same EDN, group of ACIDs
on UEs of same User are within the same EDN, per group within the same EDN for
the same ACID(s), new UEs joining late.
Proposal covers two main cases -- when EEC(s) are registered to same EES and
when EEC(s) are registered to different EES(s).
When EEC(s) are registered to different EES(s) and each EES can select their
own common EAS as in Figure 7.31.2.3-1, sync may be performed between EAS-EAS
as per application requirement.
When EEC(s) are registered to different EES(s) and a common EAS is selected
across multiple EES as in Figure 7.31.2.2-1, race condition can occur, which
is not resolved.
For Key Issue #13: In order for EAS to know which other EAS to perform
synchronization with, EES(s) share their common EAS selection information to
other EES(s) as in Figure 7.31.2.4-1, without the involvement of centralized
server. The mechanism for EEL to announce common EAS information within EDN
and across EDN requires further technical evaluation and discussion during
normative.
This solution does not introduce impact on Rel-17 architecture.
## 7.32 Solution #32: Dynamic EAS instantiation triggering and notification
### 7.32.1 Architecture enhancements
None.
### 7.32.2 Solution description
#### 7.32.2.1 General
This solution addresses the Key issue #9: Enhancement of dynamic EAS
instantiation triggering for efficient utilization of EDN resources for EAS
deployment.
As specified in TS 23.558 (Rel-17), EES may trigger the EAS instantiation
dynamically if there is no instantiated EAS that matches the requesting
service characteristics during EAS discovery.
By collecting one or more of these triggering input events, EES may determine
if there is a need for EAS instantiation based on the pre-configured
information about instantiable EASs with further considering the requesting
service characteristics (e.g. location, latency) by EEC or service
load/capacity (e.g. number of service sessions) of EAS. If such a need for EAS
instantiation determined, EES may sends a report for a need of the EAS
instantiation to the ECSP management system (which is specified in TS 28.538
[20]) to consider instantiating the target EAS that is determined to
instantiate by invoking an MnS API of the ECSP management system.
When the target EAS has been instantiated, the EES may obtain the EAS profile
based on the updated configuration information by the ECSP management system.
Then EES may further notify the instantiation result of the target EAS with
the EAS profile to the corresponding EECs in order to inform the EECs of the
availability of the EAS instance.
In this solution, the EAS discovery subscribe-notify procedures are re-used as
specified in the clause of 8.5.2.3 of TS 23.558 [2]. EEC may request EES for
subscribing to EAS discovery. When the EES gets informed of the EAS
instantiation, the EES notifies the EECs whose EAS discovery filters match
with the EAS instance.
NOTE 1: How and when a triggering is determined by EES is upon implementation
and out the scope of this solution.
NOTE 2: The pre-configured information about instantiable EASs may be provided
by the ECSP management system but such a mechanism is out of the SA6 scope.
NOTE 3: With the EAS instantiation request, EES just provides its indication
for demanding instantiation of the target EAS to the ECSP management system.
Any decision or further actions to the requests are up to the ECSP management
system.
NOTE 4: The MnS APIs for EAS instantiation request/notification should be
provided by the ECSP management system and should be consulted with SA5.
The solution can be summarized as follows:
Dynamic EAS instantiation triggering and notification
a. Triggering inputs events:
i. No available EAS instances matched during EAS discovery
b. Triggering determination:
i. Up to EES implementation
ii. Based on the triggering input events and pre-configured information about
instantiable EASs
iii. Further considerations:
\- EEC\'s requesting service characteristics (e.g. location, latency) as
specified in EAS discovery filters
\- EAS\'s service load/capacity (e.g. number of service sessions) maintained
by EES
c. Triggering actions
i. Invoking an MnS API of the ECSP management system for reporting a need of
instantiation of a target EAS
d. Post-triggering actions
i. Receiving a notification for instantiation result from the ECSP management
system by configuration update
ii. Notifying the EAS instantiation to the corresponding EECs which have
initiated the triggering input events for EAS availability change.
#### 7.32.2.2 Dynamic EAS instantiation triggering and notification procedures
The Figure 7.32.2.2-1 depicts the essential operational steps for dynamic EAS
instantiation triggering and notification procedures.
Pre-conditions:
1\. EES is pre-configured with the information about instantiable EASs which
may be provided by the ECSP management system.
Figure 7.32.2.2-1: Dynamic EAS instantiation triggering and notification
procedures
1a-1b. EECs proceed EAS discovery subscription request with EES, which are
triggering input events for dynamic EAS instantiations.
2a-2b. EES sends an EAS discovery subscription response to the EEC.
3\. Based on the triggering input events, the EES determines if there is a
need for EAS instantiation considering the requesting service characteristics
provided by EAS discovery filters; or service load/capacity (e.g. number of
service sessions) of EAS maintained by the EES.
4\. If such a need for EAS instantiation determined, EES sends a report for a
need of the EAS instantiation to the ECSP management system for considerations
to instantiate the target EAS by invoking an MnS API of the ECSP management
system.
5\. The MnS of the ECSP management system responds to the EES with indicating
that the requesting EAS instantiation will be considered.
6\. The ECSP management system determines if the requested EAS instantiation
is acceptable by analyzing the deployment requirements and available
resources; and proceeds the corresponding actions. (out the scope of this
specification)
7\. If the target EAS is instantiated successfully, the EES gets informed by
an EAS registration procedure of the instantiated EAS with the EAS information
(e.g. EAS profile).
8a-8b. The EES notifies the EAS instantiation result with EAS discovery
notification including the EAS profile to the relevant EECs which have already
initiated the triggered input events for the target EAS instance.
### 7.32.3 Solution evaluation
This solution allows for an EES to dynamically trigger the EAS instantiation
using 1) indication of a need for EAS instantiation to the ECSP management
system; and 2) the EAS discovery notification for informing EEC of the result
of the EAS instantiation with the EAS profile.
This solution addresses the key issue #9: enhancement of dynamic EAS
instantiation triggering as specified in the clause 4.9.
This solution relies on the EDGEAPP architecture as specified in TS 23.558 [2]
with extended capabilities of EES to determine if there is a need for EAS
instantiation considering the requesting service characteristics by EEC or
service load/capacity of EAS.
This solution also relies on an MnS API for indication of a need for EAS
instantiation, which shall be provided by the ECSP management system by
consulting with SA5.
## 7.33 Solution #33: Support for EEC Discovery of EAS(es) before
instantiation
### 7.33.1 Architecture enhancements
None.
### 7.33.2 Solution description
#### 7.33.2.1 General
The following solution corresponds to key issue #9 on enhancements of dynamic
EAS instantiation triggering. This solution helps ensure that the proper
number of EAS instances are instantiated in the EDN and the solution addresses
what information may be utilized by an EES to decide to trigger dynamic EAS
instantiation.
In this solution, the EES is configured by the Management Service (MnS) with
information on EAS(s) that can be dynamically instantiated in an EDN; this
list provides the information elements needed for requesting EAS
instantiation.
This solution updates the discovery procedure so that EEC can discover EAS(es)
executable in an EDN, wether they are instantiated or not. The solution then
introduces a new EAS selection procedure so that the EEC can indicate to the
EES that it wants to access the services of an EAS that is not yet
instantiated. The benefit of this procedure is that EAS instantiation happens
after an EEC has selected an EAS, and only at the EES associated with the
selected EAS.The solution dissociates EAS discovery, which can be performed
with multiple EESes, or can have been performed in a distant past (e.g. relies
on caching), from the EAS selection performed at the EEC by providing
information elements to the EES about the selection and imminent use of an
EAS.
#### 7.33.2.2 Procedure
This procedure presents a high-level overview of Solution #33.
Figure 7.33.2.2-1: High-level overview of solution #33
1\. On initial deployment, the Management Service (MnS) is requested to
perform EES deployment and can additionally be requested to perform initial
EAS deployment. Details on requesting EES and EAS instantiation is specified
in 3GPP TS 28.538 [20].
To support the dynamic EAS instantiation functionality, the EES needs a list
of EAS that it is allowed to dynamically instantiate and corresponding EAS
information elements needed for requesting EAS instantiation.
NOTE 1: How the dynamic EAS instantiation information is made available to the
EES is implementation specific in Rel-17 and in the scope of SA5 for Rel-18.
2\. EES registers to the ECS following the procedures described in 3GPP TS
23.558 [2] clause 8.4.4. The EES profile may include EAS that the EES is
allowed to instantiate.
3\. EEC performs the service provisioning following the procedures described
in 3GPP TS 23.558 [2] clause 8.3.3.
4\. When the AC requests application server access, the EEC can perform EAS
discovery with one or more EES, or alternatively the EEC can use cached EAS
information following the procedures described in 3GPP TS 23.558 [2] clause
8.5. In this solution, the EES may suspend the EAS instantiation and the EAS
discovery response may include information about EAS(s) that are not currently
instantiated (e.g. EAS discovery response may be updated with Instantiable EAS
List (O) information element or EAS Endpoint may be optional in EAS Profile to
infer uninstantiated EAS).
NOTE 2: Due to new behaviour in EES and EAS discovery response message change,
stage 3 should consider backward compatibility with R17 EES behaviour for EEC
without such enhanced capability as step 6.
5\. The EEC performs EAS selection and can select an EAS that is not currently
instantiated.
6\. If the EEC selects an EAS that is not currently instantiated, then the EEC
informs the EES of the selected EAS by sending an EAS selection request to the
EES. Otherwise, the procedure continues to step 10.
EAS selection request is a new message that contains the following information
elements: Requestor identifier (M), UE identifier (O), Security credentials
(M), Selected EAS ID (M).
7\. The EAS selection request triggers the EES to verify if the instantiation
of the selected EAS is required; since the selected EAS is not instantiated,
the EES requests the MnS to perform EAS instantiation for the selected EAS.
Upon reception of the EAS instantiation request, MnS verifies EAS
instantiation requirements and performs EAS instantiation as specified in 3GPP
TS 28.538 [20].
Upon instantiation of the EAS by the MnS, the EES is informed by MnS of the
result of EAS instantiation.
NOTE 3: The instantiated EAS can be discovered by other EECs and used by other
ACs.
8\. Step 7 happens only if EAS instantiation triggered in step 6 was
successful. At start-up, newly instantiated EAS registers to the EES following
procedures described in 3GPP TS 23.558 [2] clause 8.4.3.
9\. Using the EAS instantiation result received from the MnS in step 6 and the
registration information provided at EAS registration in step 7; the EES sends
the EAS selection response to the EEC to provide EAS connectivity information.
EAS selection response is a new message that contains the following
information elements: Response Status (M), EAS Profile (O), Failure cause (O).
If the EAS instantiation result received from the MnS in step 8 indicates
failure, the EES shall reject the EAS selection request and respond with an
appropriate failure cause.
10\. The AC accesses the selected EAS.
If the EAS selection request failed, the EEC may retry the EAS selection
request taking into account the received failure cause.
### 7.33.3 Solution evaluation
Overall evaluation of Solution #33:
a) Enables the EES to inform the ECS at EES registration about available
EASID(s), regardless of instantiated and instantiable EAS(es).
b) Enables an EEC to discover uninstantiated EAS(s) by updating the EAS
discovery response to allow the EES to additionally include EAS(s) that are
not instantiated but can be instantiated by the EES. This allows to keep
instantiated EAS to a minimum.
c) Enables the EEC to inform the EES of the EAS selected by the EEC by sending
an EAS selection request. This provides insights to the EES about imminent EAS
usage and helps the EES in performing efficient EAS management.
> d) Enables the EES to evaluate if EAS instantiation is needed upon receving
> the EAS selection request. This allows the EES to evaluate if an EAS has
> become available, and otherwise trigger EAS instantiation only if needed.
## 7.34 Solution #34: EDGE-5 APIs
### 7.34.1 Architecture enhancements
None.
### 7.34.2 Solution description
#### 7.34.2.1 General
This solution corresponds to key issue #4 on EDGE-5 reference point between
ACs and the EEC.
The solution provides an API for the AC to request for EEC\'s services for
edge enablement corresponding to EEC\'s capabilities. Using this API, AC may
request the EEC for EEL services. The solution defines APIs for one-time
request/response operations for EAS discovery and ACR operations.
Additionally, The AC can request an AC subscription. The EEC creates the
subscription and when required, performs necessary operations such as EAS
discovery, ACR etc. delivering notifications to the AC as required.
NOTE: EEC can initiate any EDGE-1 or EDGE-4 operation without receiving a
request or without receiving AC related information from the AC.
#### 7.34.2.2 Procedure
##### 7.34.2.2.1 General
The solution provides the following procedures:
\- AC registration request;
\- EAS discovery request;
\- ACR request;
\- AC subscription; and
\- AC notification.
NOTE: Details on how the AC and EEC communicate with each other is out of
scope.
##### 7.34.2.2.2 AC registration request
Pre-conditions:
1\. The AC can communicate with the EEC.
NOTE 1: Details on how the AC and EEC communicate with each other is out of
scope.
Figure 7.34.2.2.2-1: AC registration request procedure
1\. The AC sends an AC registration request to the EEC. The request includes
the AC profile, AC\'s security credentials and optionally the EAS
characteristics and EAS discovery filters. The request may also include a list
of EEC\'s services that AC requires the EEC to handle. The request
additionally includes ECS configuration information if the AC is edge-aware
and configured with the ECS configuration information.
NOTE 2: The ASP providing the AC and the ECSP providing the ECS can have edge
computing service provider service agreement as in clause 9. The ECS
configuration information configured in the AC is based on the service
agreement.
2\. The EEC checks AC\'s security credentials and validates the request.
3\. If the request is successfully validated, the EEC registers the
information provided in the request and responds back to the AC with AC
registration response. The AC registration response includes the list of
capabilities supported by the EEC e.g. which service continuity scenarios are
supported by the EEC. If the request in step 1 included a list of EEC\'s
services AC requires from the EEC, the response also includes a list of EEC\'s
services that AC is authorized for.
NOTE 3: The mechanisms used for authentication and authorization between AC
and EEC is out of scope of this specification. EEC can use local policies,
user preferences, ASP services agreement(s) (see clause 9) to authorize the
request from the AC.
NOTE 4: Additional procedures between AC and EEC to update the registration or
deregister are necessary.
NOTE 5: When the ECS configuration information is provided from an AC, the EEC
can use the ECS configuration for initial service provisioning for the AC that
provided the ECS configuration information if there is no ECS configuration
information is provided from the 5GC.
##### 7.34.2.2.3 EAS discovery request {#eas-discovery-request-1}
Pre-conditions:
1\. The AC can communicate with the EEC.
Figure 7.34.2.2.3-1: EAS discovery request procedure
1\. The AC sends an EAS discovery request to the EEC. The request includes
AC\'s security credentials and may include AC profile and EAS discovery
filters.
2\. The EEC checks AC\'s security credentials and validates the request.
3\. If the request is successfully validated, the EEC determines if the
required EAS is available or not. The EEC may use information cached or
preconfigured at the EEC or may use the EAS discovery procedures to query the
EES. If step 1 includes the AC profile or EAS discovery filters, then the EEC
may utilize the provided AC profile and filters, to form the EAS discovery
request towards EES. If step 1 does not include AC profile and EAS discovery
filters, and AC registration was performed, the EEC may utilize the AC profile
provided by the AC during AC registration. The EEC also needs to take user
privacy requirements, e.g. regarding the disclosure of location information
towards the network into account. If required, e.g. when EAS discovery
procedures returns a list of EASs, the EEC performs EAS selection based on the
information received in step 1 and the AC profile. The EEC can perform EAS
discovery with different EESs before selecting an EAS.
NOTE 1: SA3 recommendations, if any, on how the user or the AC can consent,
e.g. to the disclosure of location information and the use of the AC ID in the
signalling towards the network must be considered during normative.
NOTE 2: If required, the EEC can perform service provisioning procedure, or
EEC registration procedure or both, before performing the EAS discovery
procedures. EEC may already have captured EESs and EASs availability for
present location; so that the AC\'s request (step #1) can be replied to
quickly and efficiently.
NOTE 3: The EEC can include AC profiles of more than one AC in the EAS
discovery request sent to the EES.
4\. The EEC responds back to the AC with the EAS discovery response. The
response includes the EAS profile(s) of the available EAS(s).
##### 7.34.2.2.4 ACR request
Pre-conditions:
1\. The AC can communicate with the EEC.
Figure 7.34.2.2.4-1: ACR request procedure
1\. The AC sends an ACR request to the EEC. The request includes AC\'s
security credentials, type of requested operation (i.e. ACR detection, ACR
initiation) and AC profile. If the request is to initiate the ACR, the request
may also include the target EAS information.
2\. The EEC checks AC\'s security credentials and validates the request.
3\. If the request is successfully validated, the EEC process the request from
the AC. If the type of requested operation in the request received in step 1
is:
\- ACR detection, then the EEC determines if ACR is required or not. If it is
required, the EEC uses one of the EEC initiated ACR scenarios or launches ACR
with action \"determination\", leading to S-EES executed ACR;
\- ACR initiation, then the EEC uses one of the EEC initiated ACR scenarios
and initiate ACR. If the request in step 1 also includes target information,
the EEC uses it to select the ACR targets;
##### 7.34.2.2.5 AC subscription request
Pre-conditions:
1\. The AC can communicate with the EEC.
Figure 7.34.2.2.5-1: AC subscription request procedure
1\. The AC sends an AC subscription request to the EEC. The request includes
AC\'s security credentials, a list of EEC\'s services that AC requires the EEC
to handle, and related parameters such as AC profile. If the subscription
request includes:
\- EAS discovery or EAS dynamic information subscription, then the request may
include EAS discovery filters
\- ACR management, then the request may include type of ACR operations:
\- ACR monitoring, where the EEC monitors the need for ACR and notifies the AC
as and when required e.g. on receiving ACR related notifications on EDGE-1
interface.
\- EEC managed ACR, where the EEC monitors the need for ACR. If need for ACR
is detected, then the EEC decides and initiates ACR using one of the EEC
initiated ACR scenarios. The EEC notifies the AC about the imminent ACR and
may include the target information.
2\. The EEC checks AC\'s security credentials and validates the request.
3\. If the request is successfully validated, the EEC creates the subscription
and sends an AC subscription response message to the AC. The response includes
the list of services that the EEC will handle and related details.
4\. The EEC executes the services e.g. EAS discovery, ACR management, and
notifies the AC with information as necessary. The EEC may use locally cached
information or configurations while providing services to the AC.
NOTE: Additional procedures between AC and EEC to update the subscription or
to unsubscribe are necessary.
##### 7.34.2.2.6 AC notification
Pre-conditions:
1\. The AC has subscribed to the EEC.
Figure 7.34.2.2.6-1: EAS discovery notification procedure
1\. An event occurs at the EEC that satisfies trigger conditions for notifying
a AC e.g. EEC detects a need for Application Context Relocation.
2\. The EEC sends an AC notification to the AC with relevant information
related to the event triggered in step 1.
### 7.34.3 Solution evaluation
This solution relates to KI#4 on EDGE-5 interface. The solution provides
multiple procedures to allow uniform interaction of ACs with the EECs. The
solution specifies procedures for AC registration, EAS discovery
requests/response, ACR related request/response and AC\'s subscription to EEC.
The solution has no impacts on Rel-17 cardinalities defined for EDGE-5.
Aspects related to mutual authentication, authorization and user consent
require inputs from SA3.
## 7.35 Solution #35: EEC selected ACR scenarios
### 7.35.1 Architecture enhancements
None
### 7.35.2 Solution description
#### 7.35.2.1 General
The following solution corresponds to the key issue #19 on ACR scenario
combination.
#### 7.35.2.2 Procedure
In this solution, the EEC is responsible to determine the ACR scenario(s) that
should be used for an AC and EAS pair. The EEC performs ACR selection at EAS
selection time.
The following ACR selection outcomes are possible:
\- The EEC can select no ACR scenario which indicates that service continuity
is not supported or needed.
\- The EEC can select one ACR scenario which indicates that service continuity
is supported and needed, but that ACR coordination is not needed.
\- The EEC can select two or more ACR scenarios which indicates that service
continuity is supported and needed, and that ACR coordination is needed.
ACR coordination ensures that only one of the selected ACR scenarios proceeds
through the ACR execution phase. Coordination of concurrent ACR execution is
out of scope of this solution.
Figure 7.35.2.2-1 presents an overview of the procedures for ACR selection at
the EEC.
Pre-condition:
\- EEC has performed service provisioning procedure with the ECS.
Figure 7.35.2.2-1 EEC selected ACR scenarios
> 1\. The EEC performs EAS discovery using procedures defined in 3GPP TS
> 23.558 [2] clause 8.5 to obtain a list of discovered EAS(s).
>
> The discovered EAS list contains EAS(s) that are compatible with the AC and
> EEC ACR capabilities provided in the EAS discovery request or subscription.
>
> 2\. The EEC (or AC and EEC) selects one EAS from the discovered EAS list.
>
> Additionally, the EEC selects the ACR scenario(s) that should be used for
> the given AC and selected EAS. ACR selection can result in zero or more ACR
> scenarios being selected. For selecting the ACR, the EEC minimally considers
> the ACR capabilities of the AC from AC Profile, of the EEC (known locally),
> of the EES from service provisioning response received from the ECS (pre-
> requisite), and of the EAS from EAS Profile and obtained at EAS discovery.
NOTE: ACR selection criteria minimally can include ACR capabilities of the
AC/EEC/EES/EAS; other criterias are possible and left out of scope of the
current solution.
Editor\'s note: Whether AC service KPI also will be considered by the EEC to
decide on the ACR scenario(s) is FFS.
> 3\. The EES uses the list of selected ACR scenarios to determine if it
> should perform ACR detection and/or ACR decision.
>
> 4\. The EES sends an ACR selection notification to the selected EAS
> providing the selected ACR scenario list. Not shown on the figure, the EAS
> previously subscribed to receive ACR notifications. The EAS uses the
> selected ACR scenarios list to determine if it should perform ACR detection
> and/or ACR decision.
>
> 5\. The EES sends the selected EAS declaration response to the EEC
> indicating success or failure of the EAS announcement request.
### 7.35.3 Solution evaluation
Solution #35 enables the following aspects for ACR scenario(s) selection for
one AC:
a) ACR scenario(s) selection is performed at the EEC and happens after EAS
selection has been performed at the EEC (or AC and EEC). This ensures that the
service session (e.g. AC/EAS pair) are known by the EEC before it selects ACR
scenario list.
b) the EEC minimally considers each of the AC/EEC/EES/EAS ACR capabilities in
order to form an ACR scenario list; the list can include zero ACR scenarios
(e.g. ACR not needed) or more. This provides the benefit of covering all
possible ACR combinations; expressed differently, it is possibe to not use ACR
and it is possible to involve multiple participants to perform ACR detection.
> c) the EEC propagates the ACR scenario list to the selected EES by sending a
> selected EAS announcement request; and the EES propagates the ACR scenario
> list to the selected EAS by sending an ACR selection notification. This
> allows every ACR participant to learn which ACR scenarios have been
> selected, and allows every participant to initiate ACR detection according
> the selected ACR scenario list. Additionally, only the EES and selected EAS
> are informed of the ACR selection list.
## 7.36 Solution #36: Alignment of EDGEAPP and ETSI MEC
### 7.36.1 Architecture enhancements
Architecture requirements in clause 5.4 will serve as the guiding principles
for the alignment of EDGEAPP and ETSI MEC architectures.
### 7.36.2 Solution description
#### 7.36.2.1 General
This solution is to address KI# 5: Alignment of EDGEAPP and ETSI MEC.
In particular, the solution addresses the third open issue, which is providing
solutions based on the observations, study, and comparison of ETSI MEC and
EDGEAPP specifications.
#### 7.36.2.2 Alignment of EAS registration and MEC application registration
According to Annex C of 3GPP TS 23.558 [2] MEC application and MEC platform in
ETSI MEC correspond respectively to EAS and EES in 3GPP specification.
Similarly, Mp1 interface corresponds to EDGE-3. According to observation A.3-1
in Annex A, registration of an instance of an application is supported by both
ETSI MEC and 3GPP. Additionally, observation A.3-2 further clarifies that some
of the IEs of the EAS profile may overlap with the ones defined in AppInfo,
while some other IEs are specific to each of the EAS profile or AppInfo.
In order to support registration of an application on EES it is required that
the registration request includes at least the mandatory IEs that are required
for EAS registration, i.e. EAS ID and EAS endpoint. On the other hand,
according to ETSI GS MEC 011 [14] the application registration request must
include AppName and App Provider.
AppInfo which is defined in ETSI GS MEC 011 [14] includes AppName and App
Provider as mandatory IEs and endpoint as an optional IE. AppName can be
considered equivalent to EAS ID. Similarly, App Provider corresponds to EAS
Provider Identifier. Endpoint in ETSI GS MEC 011 [14] can be directly mapped
to EAS endpoint. See Table 7.36.2.2-1 for a comparison between the EAS profile
and appInfo.
Table 7.36.2.2-1: Comparison between EAS Profile and appInfo
+-------------+------------+-------------+-------------+-------------+ | **IE in EAS |** Status**|** IE in | **Status |** Remarks**| | profile** | | appInfo | [14]**| | | | | [14]** | | | +=============+============+=============+=============+=============+ | EASID | M | appName | M | **3GPP | | | | | | sp | | | | | | ecification | | | | | | [2]:** | | | | | | The EASID | | | | | | identifies | | | | | | a | | | | | | particular | | | | | | application | | | | | | for e.g. | | | | | | SA6Video, | | | | | | SA6Game | | | | | | etc. For | | | | | | example, | | | | | | all Edge | | | | | | SA6Video | | | | | | Servers | | | | | | will share | | | | | | the same | | | | | | EASID. | | | | | | NOTE: The | | | | | | definition | | | | | | of the | | | | | | EASID is | | | | | | out of | | | | | | scope of | | | | | | this | | | | | | spe | | | | | | cification. | | | | | | | | | | | | **ETSI MEC | | | | | | sp | | | | | | ecification | | | | | | [14]:** | | | | | | Name of the | | | | | | a | | | | | | pplication. | | | | | | It shall be | | | | | | consistent | | | | | | with the | | | | | | appName in | | | | | | the AppD, | | | | | | if an AppD | | | | | | is | | | | | | available. | | | | | | In AppD, it | | | | | | is defined | | | | | | as: Name to | | | | | | identify | | | | | | the MEC | | | | | | a | | | | | | pplication. | | | | | | | | | | | | In both | | | | | | spec | | | | | | ifications, | | | | | | the IE is | | | | | | used to | | | | | | identify a | | | | | | particular | | | | | | a | | | | | | pplication. | | | | | | The purpose | | | | | | of the IE | | | | | | is the same | | | | | | in both | | | | | | spec | | | | | | ifications, | | | | | | and can be | | | | | | considered | | | | | | equivalent. | +-------------+------------+-------------+-------------+-------------+ | EAS | M | endpoint | O | **3GPP | | Endpoint | | | | sp | | | | | | ecification | | | | | | [2]:** | | | | | | Endpoint | | | | | | information | | | | | | (e.g. URI, | | | | | | FQDN, IP | | | | | | address) | | | | | | used to | | | | | | communicate | | | | | | with the | | | | | | EAS. | | | | | | | | | | | | **ETSI MEC | | | | | | sp | | | | | | ecification | | | | | | [14]:** | | | | | | Endpoint | | | | | | information | | | | | | (e.g. URI, | | | | | | FQDN, IP | | | | | | address) of | | | | | | the | | | | | | application | | | | | | server, | | | | | | which is | | | | | | part of the | | | | | | application | | | | | | funct | | | | | | ionalities. | | | | | | | | | | | | The purpose | | | | | | of the IE | | | | | | is the same | | | | | | in both | | | | | | spec | | | | | | ifications, | | | | | | and can be | | | | | | considered | | | | | | equivalent. | +-------------+------------+-------------+-------------+-------------+ | ACID(s) | O | | | The IE is | | | | | | not | | | | | | applicable | | | | | | in | | | | | | application | | | | | | r | | | | | | egistration | | | | | | in ETSI | | | | | | MEC. | +-------------+------------+-------------+-------------+-------------+ | EAS | O | App | M | **3GPP | | Provider | | Provider | | sp | | Identifier | | | | ecification | | | | | | [2]:** | | | | | | The | | | | | | identifier | | | | | | of the ASP | | | | | | that | | | | | | provides | | | | | | the EAS. | | | | | | | | | | | | **ETSI MEC | | | | | | sp | | | | | | ecification | | | | | | [14]:** | | | | | | Provider of | | | | | | the | | | | | | a | | | | | | pplication. | | | | | | It shall be | | | | | | consistent | | | | | | with the | | | | | | appProvider | | | | | | in the | | | | | | AppD, if an | | | | | | AppD is | | | | | | available. | | | | | | | | | | | | The purpose | | | | | | of the IE | | | | | | is the same | | | | | | in both | | | | | | spec | | | | | | ifications, | | | | | | and can be | | | | | | considered | | | | | | equivalent. | +-------------+------------+-------------+-------------+-------------+ | EAS Type | O | appCategory | O | **3GPP | | | | | | sp | | | | | | ecification | | | | | | [2]:** | | | | | | The | | | | | | category or | | | | | | type of EAS | | | | | | (e.g. V2X) | | | | | | | | | | | | **ETSI MEC | | | | | | sp | | | | | | ecification | | | | | | [14]:** | | | | | | Category of | | | | | | the | | | | | | a | | | | | | pplication. | | | | | | | | | | | | The purpose | | | | | | of the IE | | | | | | is the same | | | | | | in both | | | | | | spec | | | | | | ifications, | | | | | | and can be | | | | | | considered | | | | | | equivalent. | +-------------+------------+-------------+-------------+-------------+ | EAS | O | AppD | O | **3GPP | | description | | | | sp | | | | > | | ecification | | | | app | | [2]:** | | | | Description | | Hum | | | | | | an-readable | | | | | | description | | | | | | of the EAS. | | | | | | | | | | | | **ETSI MEC | | | | | | sp | | | | | | ecification | | | | | | [14]:** | | | | | | Human | | | | | | readable | | | | | | description | | | | | | of the MEC | | | | | | a | | | | | | pplication. | | | | | | | | | | | | The purpose | | | | | | of the IE | | | | | | is the same | | | | | | in both | | | | | | spec | | | | | | ifications, | | | | | | and can be | | | | | | considered | | | | | | equivalent. | +-------------+------------+-------------+-------------+-------------+ | EAS | O | | | The IE is | | Schedule | | | | not | | | | | | applicable | | | | | | in | | | | | | application | | | | | | r | | | | | | egistration | | | | | | in ETSI | | | | | | MEC. | +-------------+------------+-------------+-------------+-------------+ | EAS | O | | | The IE is | | G | | | | not | | eographical | | | | applicable | | Service | | | | in | | Area | | | | application | | | | | | r | | | | | | egistration | | | | | | in ETSI | | | | | | MEC. | +-------------+------------+-------------+-------------+-------------+ | EAS | O | | | The IE is | | Topological | | | | not | | Service | | | | applicable | | Area | | | | in | | | | | | application | | | | | | r | | | | | | egistration | | | | | | in ETSI | | | | | | MEC. | +-------------+------------+-------------+-------------+-------------+ | EAS Service | O | | | The IE is | | KPIs | | | | not | | | | | | applicable | | | | | | in | | | | | | application | | | | | | r | | | | | | egistration | | | | | | in ETSI | | | | | | MEC. | +-------------+------------+-------------+-------------+-------------+ | EAS service | O | | | The IE is | | permission | | | | not | | level | | | | applicable | | | | | | in | | | | | | application | | | | | | r | | | | | | egistration | | | | | | in ETSI | | | | | | MEC. | +-------------+------------+-------------+-------------+-------------+ | EAS | O | | | The IE is | | Feature(s) | | | | not | | | | | | applicable | | | | | | in | | | | | | application | | | | | | r | | | | | | egistration | | | | | | in ETSI | | | | | | MEC. | +-------------+------------+-------------+-------------+-------------+ | EAS Service | O | | | The IE is | | continuity | | | | not | | support | | | | applicable | | | | | | in | | | | | | application | | | | | | r | | | | | | egistration | | | | | | in ETSI | | | | | | MEC. | +-------------+------------+-------------+-------------+-------------+ | List of EAS | O | | | The IE is | | DNAI(s) | | | | not | | | | | | applicable | | | | | | in | | | | | | application | | | | | | r | | | | | | egistration | | | | | | in ETSI | | | | | | MEC. | +-------------+------------+-------------+-------------+-------------+ | List of N6 | O | | | The IE is | | Traffic | | | | not | | Routing | | | | applicable | | r | | | | in | | equirements | | | | application | | | | | | r | | | | | | egistration | | | | | | in ETSI | | | | | | MEC. | +-------------+------------+-------------+-------------+-------------+ | EAS | O | | | The IE is | | A | | | | not | | vailability | | | | applicable | | Reporting | | | | in | | Period | | | | application | | | | | | r | | | | | | egistration | | | | | | in ETSI | | | | | | MEC. | +-------------+------------+-------------+-------------+-------------+ | EAS Status | O | | | The IE is | | | | | | not | | | | | | applicable | | | | | | in | | | | | | application | | | | | | r | | | | | | egistration | | | | | | in ETSI | | | | | | MEC. | +-------------+------------+-------------+-------------+-------------+ | | | appDId | O | **ETSI MEC | | | | | | sp | | | | | | ecification | | | | | | [14]:** | | | | | | The | | | | | | application | | | | | | descriptor | | | | | | identifier. | | | | | | It is | | | | | | managed by | | | | | | the | | | | | | application | | | | | | provider to | | | | | | identify | | | | | | the | | | | | | application | | | | | | descriptor | | | | | | in a | | | | | | globally | | | | | | unique way. | | | | | | Shall be | | | | | | present if | | | | | | the | | | | | | application | | | | | | instance is | | | | | | i | | | | | | nstantiated | | | | | | by the MEC | | | | | | Management. | +-------------+------------+-------------+-------------+-------------+ | | | ap | O | **ETSI MEC | | | | pInstanceId | | sp | | | | | | ecification | | | | | | [14]:** | | | | | | Identifier | | | | | | of the | | | | | | application | | | | | | instance. | | | | | | Shall be | | | | | | present if | | | | | | the | | | | | | application | | | | | | instance is | | | | | | i | | | | | | nstantiated | | | | | | by the MEC | | | | | | Management. | +-------------+------------+-------------+-------------+-------------+ | | | appServ | O | **ETSI MEC | | | | iceRequired | | sp | | | | | | ecification | | | | | | [14]:** | | | | | | Describes | | | | | | services a | | | | | | MEC | | | | | | application | | | | | | requires to | | | | | | run. | | | | | | Servic | | | | | | eDependency | | | | | | is defined | | | | | | in ETSI GS | | | | | | MEC 010-2 | | | | | | [13]. It | | | | | | shall shall | | | | | | not be | | | | | | provided if | | | | | | an AppD is | | | | | | available. | +-------------+------------+-------------+-------------+-------------+ | | | appServ | O | **ETSI MEC | | | | iceOptional | | sp | | | | | | ecification | | | | | | [14]:** | | | | | | Describes | | | | | | services a | | | | | | MEC | | | | | | application | | | | | | may use if | | | | | | available. | | | | | | Servic | | | | | | eDependency | | | | | | is defined | | | | | | in ETSI GS | | | | | | MEC 010-2 | | | | | | [13]. It | | | | | | shall shall | | | | | | not be | | | | | | provided if | | | | | | an AppD is | | | | | | available. | +-------------+------------+-------------+-------------+-------------+ | | | appFeat | O | **ETSI MEC | | | | ureRequired | | sp | | | | | | ecification | | | | | | [14]:** | | | | | | Describes | | | | | | features a | | | | | | MEC | | | | | | application | | | | | | requires to | | | | | | run. | | | | | | Featur | | | | | | eDependency | | | | | | is defined | | | | | | in ETSI GS | | | | | | MEC 010-2 | | | | | | [13]. It | | | | | | shall shall | | | | | | not be | | | | | | provided if | | | | | | an AppD is | | | | | | available. | +-------------+------------+-------------+-------------+-------------+ | | | appFeat | O | **ETSI MEC | | | | ureOptional | | sp | | | | | | ecification | | | | | | [14]:** | | | | | | Describes | | | | | | features a | | | | | | MEC | | | | | | application | | | | | | may use if | | | | | | available. | | | | | | Featur | | | | | | eDependency | | | | | | is defined | | | | | | in ETSI GS | | | | | | MEC 010-2 | | | | | | [13]. It | | | | | | shall shall | | | | | | not be | | | | | | provided if | | | | | | an AppD is | | | | | | available. | +-------------+------------+-------------+-------------+-------------+
NOTE 1: The appInfo currently appears in the draft version of ETSI GS MEC 011
V3.0.6 (2022-03) [14]. In the current draft version, two additional IEs, isEAS
and easProfile, are included in the appInfo to hold the place for providing
EAS profile. These two IEs are not applicable to this solution, which analyses
correspondence between IEs in EAS profile and appInfo.
This solution proposes to enable the application to perform registration on
EES according to the mapping between appInfo and EAS profile.
NOTE 2: The solution does not impact the procedures.
#### 7.36.2.3 Alignment of EDGE-9 and Mp3
EDGE-9 interface in EDGEAPP architecture is used to support mobility of user
from one EES to another EES. On the other hand, ETSI MEC has not specified
APIs over Mp3. Mp3 reference point between MEC platforms is used for control
communication between MEC platforms [3] with a separate application mobility
service [22] being provided in support of mobility of users between MEC hosts
within a MEC system. The present study does not identify overlap or equivalent
functionality between the APIs on EDGE-9 and Mp3 interfaces; therefore,
currently no alignment is required.
### 7.36.3 Solution evaluation
This solution is based on the principles set in clause 5.4 and addresses
alignment by mapping between overlapping APIs in EDGEAPP and ETSI MEC. In that
regard, for EDGE-3 and Mp1 the solution enables the application to perform
registration on EES according to the mapping between appInfo [14] and EAS
profile.
The present study does not identify overlap or equivalent functionality
between the APIs on EDGE-9 and Mp3 interfaces; therefore, currently no
alignment is required.
The solution does not require changes in architecture and procedures.
## 7.37 Solution #37: ACR request trigger timing
### 7.37.1 Architecture enhancements
None.
### 7.37.2 Solution description
This solution corresponds to the key issue #3 on enhancements to service
continuity planning.
To support the determination of the ACR request trigger timing in case of
service continuity planning, this solution proposes to introduce \"General
context holding time\" as shown in table 7.37.2-2. This IE is an indication of
the maximum time the EAS holds the application context for a UE to move to its
service area after receiving an ACR notification from the EES following an ACR
request from the EEC. \"General context holding time\" can be provided to the
EES during the EAS registration request or EAS registration update (when there
is a change).
Since the EASID of the EAS identifies the type of the application context
(e.g. SA6Video, SA6Game etc) as described in TS 23.558 clause 7.2.4, \"General
context holding time\" determined can depend on the EASID (type of the
application context).
This IE can then be provided to the EEC during the discovery so that the EEC
can use the time to decide when to make an ACR request. The EEC may provide
\"prediction expiration time\" as in Solution#21 in the ACR request as per its
predictions by making sure it does not exceed the \"General context holding
time\".
\"General context holding time\" can be determined or updated due to factors
such as resource usage and policy setting such as the policy of the ECSP
providing the EHE where the EAS is hosted. In such a case, the T-EAS sends the
EAS registration update request and the EES updates the \"General context
holding time\" in the EAS profile.
Table 7.37.2-2: EAS Profile
Information element Status Description
* * *
EASID M The identifier of the EAS EAS Endpoint M Endpoint information (e.g.
URI, FQDN, IP address) used to communicate with the EAS. This information
maybe discovered by EEC and exposed to ACs so that ACs can establish contact
with the EAS. **General context holding time** O The time that the EAS holds
the context before the AC connects to the EAS in case of ACR for service
continuity planning. It is an indication of the time the EAS holds the
application context for a UE to move to its service area after receiving an
ACR notification from the EES following an ACR request from the EEC. ACID(s) O
Identifies the AC(s) that can be served by the EAS
#### 7.37.2.1 Procedure
#### 7.37.2.2 Enhancements to procedures in TS 23.558
The EEC can use the \"General context holding time\" to make a timely ACR
request by performing an ACR launching procedure when it predicts to move to
the service area of the discovered EAS within the time indicated in the IE. To
reflect this, the procedures in service continuity scenarios in clause
8.8.2.2, clause 8.8.2.3, and clause 8.8.2.6 of 3GPP TS 23.558 [2] --
Initiation by EEC using regular EAS Discovery, EEC executed ACR via S-EES, and
EEC executed ACR via T-EES -- are enhanced as follows:
##### 7.37.2.2.1 Enhancements to \'Initiation by EEC using regular EAS
Discovery\' in clause 8.8.2.2
4\. The EEC performs EAS discovery (as specified in clause 8.5) for the
desired T-EASs by querying the T-EESs that were established in step 3 (or
provided in the notification from the ECS -- if it was the trigger). If EEC
registration configuration for the EESs established in step 2 indicates that
EEC registration is required, the EEC performs EEC registration with the EESs
(as specified in clause 8.4.2.2.2) before sending the EAS discovery request.
Step 5 is skipped if EAS discovery procedure results in only one discovered
T-EAS.
**When in step 1 the ACR for service continuity planning is triggered, and the
\"General context holding time\" is included in the replied EAS discovery
response, the EEC can make ACR request before it reaches respective T-EAS
service area within the time period indicated by the IE.**
5\. The AC and EEC select the T-EAS to be used for the application traffic.
NOTE 1: Several EEC registrations with different EESs may result from T-EAS
discovery process during a single ACR operation.
6\. The EEC performs ACR launching procedure (as described in clause 8.8.3.4)
to the S-EES with the ACR action indicating ACR initiation and the
corresponding ACR initiation data (without the need to notify the EAS). The
S-EES may apply the AF traffic influence with the N6 routing information of
the T-EAS in the 3GPP Core Network (if applicable), as described in clause
8.8.3.4. If the EEC has not subscribed to receive ACR information
notifications for ACR complete events from the S-EES, the EEC subscribes for
the notifications as described in clause 8.8.3.5.2.
##### 7.37.2.2.2 Enhancements to \'EEC executed ACR via S-EES\' in clause
8.8.2.3
Phase I: ACR Detection
1\. The EEC detects that ACR may be required as described in clause 8.8.1. The
EEC may detect that ACR may be required for an expected or predicted UE
location in the future as described in clause 8.8.1.
Phase II: ACR Decision
2\. The EEC decides to proceed required procedures for triggering ACR.
Phase III: ACR Execution
3\. The EEC determines the T-EES by using the provisioned information or
performing service provisioning procedure per clause 8.3 of the present
document. When in step 1 the ACR for service continuity planning is triggered,
then the Connectivity information and UE Location in the Service Provisioning
(as specified in clause 8.3) procedure contains the expected Connectivity
information and expected UE Location. If the UE is within the service area of
the T-EES, upon selecting T-EES the UE may need to establish a new PDU
connection to the target EDN. If EEC registration configuration for the T-EES
indicates that EEC registration is required, the EEC performs EEC registration
with the selected T-EES as specified in clause 8.4.2.2.2. The EEC can then
discover and select T-EAS by performing EAS Discovery with the T-EES per
clause 8.5.2 of the present document.
**When in step 1 the ACR for service continuity planning is triggered, and the
\"General context holding time\" is included in the replied EAS discovery
response, the EEC can make ACR request before it reaches respective T-EAS
service area within the time period indicated by the IE.**
NOTE 1: Several EEC registrations with different EESs may result from T-EAS
discovery process during a single ACR operation.
4\. The EEC performs ACR launching procedure (as described in clause 8.8.3.4)
to the S-EES with the ACR action indicating ACR initiation and the
corresponding ACR initiation data (with the need to notify the EAS). The S-EES
authorises the request from the EEC. The S-EES decides to execute ACR based on
the information received from the EEC, EEC context and/or EAS profile. The
S-EES may apply the AF traffic influence with the N6 routing information of
the T-EAS in the 3GPP Core Network (if applicable) and sends the ACR Notify
message to the S-EAS to initiate ACT between the S-EAS and the T-EAS. If the
EEC has not subscribed to receive ACR information notifications for ACR
complete events from the S-EES, the EEC subscribes for the notifications as
described in clause 8.8.3.5.2.
##### 7.37.2.2.3 Enhancements to \'EEC executed ACR via T-EES\' in clause
8.8.2.6
Phase I: ACR Detection
1\. The EEC detects that ACR may be required as described in clause 8.8.1. The
EEC may detect that ACR may be required for an expected or predicted UE
location in the future as described in clause 8.8.1.
Phase II: ACR Decision
2\. The EEC decides to proceed with required procedures for ACR.
NOTE 1: If supported, the AC can be involved in the decision. It is out of
scope of the present document how the AC is involved.
Phase III: ACR Execution
3\. The EEC determines the T-EES by using the provisioned information or
performing service provisioning procedure per clause 8.3. When in step 1 the
ACR for service continuity planning is triggered, then the Connectivity
information and UE Location used in the service provisioning procedure contain
the expected Connectivity information and expected UE Location. If the UE is
within the service area of the T-EES, upon selecting the T-EES the UE may need
to establish a new PDU connection to the target EDN. If EEC registration
configuration for the T-EES indicates that EEC registration is required, the
EEC performs registration with the selected T-EES as specified in clause
8.4.2.2.2. The EEC performs EAS Discovery with the T-EES per clause 8.5.2.
**When in step 1 the ACR for service continuity planning is triggered, and the
\"General context holding time\" is included in the replied EAS discovery
response, the EEC can make ACR request before it reaches respective T-EAS
service area within the time period indicated by the IE.**
NOTE 2: Several EEC registrations with different EESs may result from T-EAS
discovery process during a single ACR operation.
4\. The EEC performs ACR launching procedure (as described in clause 8.8.3.4)
to the T-EES with the ACR action indicating ACR initiation and the
corresponding ACR initiation data (with the need to notify the EAS). If the
received ACR initiation request contains an EEC context ID and the S-EES
Endpoint, the T-EES performs an EEC Context Pull relocation (clause 8.9.2.2).
The T-EES may apply the AF traffic influence with the N6 routing information
of the T-EAS in the 3GPP Core Network (if applicable). Then the T-EES sends
the ACR Notify message to the T-EAS. The EEC also subscribes to receive ACR
information notifications for ACR complete events from the T-EES, as described
in clause 8.8.3.5.2.
### 7.37.3 Solution evaluation
This solution addresses open issue #2, open issue #5, and open issue #6 of
KI#3.
This solution introduces a \"General Context Holding Time\" IE in the EAS
profile which can be determined based on the EASID of the EAS which identifies
the type of application context, ECSP policy setting, and other factors such
as resource usage. The \"General Context Holding Time\" is the time the EAS
holds the application context before the UE reaches the T-EAS service area
following an ACR request.
The solution allows this \"General Context Holding Time\" to be sent from the
EES to the EEC in the EAS discovery response. Therefore, the EEC can make an
ACR request before it reaches the respective T-EAS service area when it is
predicted or planned to move to the T-EAS service area within the time
indicated by the IE. With this, the issue of the determination of the ACR
request trigger timing in case of service continuity planning is addressed.
The potential impact on the information to communicate within the EEL is only
by introducing a \"General Context Holding Time\" IE in the EAS profile.
Accordingly, clause 8.8.2.2, clause 8.8.2.3, and clause 8.8.2.6 need to be
updated to use the \"General Context Holding Time\" for ACR triggering.
## 7.38 Solution #38: ACR coordination
### 7.38.1 Architecture enhancements
None
### 7.38.2 Solution description
#### 7.38.2.1 General
The following solution corresponds to the key issue #19 on ACR scenario
combination.
#### 7.38.2.2 Procedure
Multiple ACR scenarios can be selected and the detection entity can start
detecting the need for ACR. In this solution, the decision-making entity (e.g.
EEC, EES, EAS) of any selected scenario triggers the ACR. However, once the
ACR procedure is triggered, the EES notifies the decision-making entities of
other scenario(s) about the start of the ACR. Once the ACR procedure is
completed, the EES notifies the decision-making entities of other scenario(s)
about the completion of the ACR (success or failure). The decision-making
entities of other scenario(s) may avoid triggering another ACR till one ACR
procedure is in progress and notification about the completion of the ACR is
received.
The solution proposes to enhance ACT status subscription procedure as
specified in clause 8.8.3.6.2.3 of 3GPP TS 23.558 [2] and ACR information
subscription as specified in clause 8.8.3.5.2 of 3GPP TS 23.558 [2] to
subscribe for ACR execution start event.
Further, the solution proposes to enhance all scenarios specified in clause
8.8.2 of 3GPP TS 23.558 [2] to send notification of start of ACR execution
phase as follows:
Pre-condition:
1) More than one ACR scenarios are selected as specified in solution#19 or
solution#35.
Figure 7.38.2.2-1: ACR coordination
1) The ACR is triggered by one of the decision making entity (i.e. EAS or EES
or EEC) and T-EAS is discovered.
2a) If EEC or EES has initiated ACR, then the EES sends ACR management event
notification (ACT Start) to the S-EAS indicating the start of the ACR
execution. The notification message includes ACR identity (ACID, EEC ID (or UE
ID), S-EAS endpoint and T-EAS endpoint).
2b) If S-EAS or EES has initiated ACR, then the EES sends ACR information
notification to EEC indicating the start of the ACR execution. The
notification message includes ACR identity (ACID, EEC ID (or UE ID), S-EAS
endpoint and T-EAS endpoint).
NOTE: ACT initiation can be considered as a start of the execution phase.
3) The ACR procedure is performed as specified in the scenario (in clause
8.8.2 of 3GPP TS 23.558 [2])
If concurrent ACR requests happens the EES rejects the additional ACR
requests.
**Enhancements to clause 8.8.3.5.3 ACR information notification procedure**
Step 2 of the procedure will be modified as follows (**in bold**)
2\. The EES sends an ACR information notification to the EEC with the ACR
information determined in step 1. The ACR information notification may include
ACID to indicate the application context relocation of the AC is complete. If
the S-EES has received the successful EEC Context Push response from T-EES,
along with registration ID and the registration expiration time in the EEC
Context Push relocation procedure, then the ACR information notification
towards EEC also includes the registration ID and registration expiration time
under EEC context relocation status (for successful status). **Upon receiving
the target information notification to indicate about start of the ACR
execution, the EEC prevents triggering a second ACR execution for the same
identity (ACID, EEC ID (or UE ID), S-EAS endpoint and T-EAS endpoint) until
the current ACR execution is completed.**
**Enhancements to clause 8.6.3.2.3 Notify (for ACR management event
notification)**
Step 1-d will be modified as follows (**bold**):
d. If \"ACT start/stop\" event is subscribed, during the ACR launch if the EEC
indicates the need to notify the EAS in the ACR request as described in clause
8.8.3.4, the EES shall send notification to the EAS to inform it about the
need to start or stop the ACT to or from another EAS. **The notification
message includes ACR identity (ACID, EEC ID (or UE ID), S-EAS endpoint and
T-EAS endpoint).**
2\. The EES sends ACR management event notification to the EAS. The EES
includes the ACR management event notification information of the UE(s) and
optionally the timestamp. If the event triggering the notification is DNAI
change, the timestamp can be included to indicate the age of the user plane
path management event notification information. The EES may only provide part
of information included in the user plane path management event notification
from 3GPP network (e.g. target DNAI). If the EAS had provided \"Indication of
EAS acknowledgement\", the EES waits for acknowledgement from the EAS before
it sends AF acknowledgement to the 3GPP core network.
If the event is \"ACT start/stop\", the notification shall include the
endpoint address of the other EAS and the UE ID. **Upon receiving the
notification about the start of the ACR execution with \"ACT start\" event,
The S-EAS prevents triggering a second ACR execution for the same identity
(ACID, EEC ID (or UE ID), S-EAS endpoint and T-EAS endpoint) until the current
ACR execution is completed.**
### 7.38.3 Solution evaluation
The solution addresses Key issue #19. The solution proposes to coordinate
among decision making entities to make sure single ACR remains in execution
phase while allowing multiple entities to detect ACR for different scenarios.
The solution proposes modify existing ACR scenarios to utilize existing event
notifications to S-EAS or EEC at start of the execution phase. The solution
also proposes to modify ACR information notification and ACR management event
notification procedures. The solution is a viable solution.
## 7.39 Solution #39: EAS selection synchronization at registration
### 7.39.1 Architecture enhancements
None.
### 7.39.2 Solution description
#### 7.39.2.1 General
The following solution addresses Key Issue #8.
In this solution, the EES leverages pre-existent EAS information at the EEC to
enable EAS selection and the synchronization/ alignement of the information
about selected EAS(s) between the EEC and EES. This information is provided in
the EEC registration request and includes the AC Profiles and an optional list
of pre-configured EAS endpoints (e.g. for constrained IoT devices).
The solution also enables EES to use this information to make a determination
of the EASs available for service session communications as soon as the EDN
capabilities are available after registration. The EES may then determine
whether dynamic EAS instantiation triggering should be performd. The EEC is
then provided with EAS information in the registration response. With this
solution, ACs can establish communications with the EASs immediately after an
initial registration.
#### 7.39.2.2 Procedure
The following text captures the solution by describing the neccesary 3GPP TS
23.558 changes (relative to v17.1.0 in bold font) as shown below:
* * * Enhancement based on TS 23.558 v. 17.4.0 * * * *
8.2.2 AC Profile
An AC Profile includes information about AC used to determine services and
service characteristics required.
Table 8.2.2-1: AC Profile
* * *
**Information element** **Status** **Description** ACID M Identity of the AC.
AC Type O The category or type of AC (e.g. V2X). This is an implementation
specific value. Preferred ECSP list O When used in a service provisioning
request, this IE indicates to the ECS which ECSPs are preferred for the AC.
The ECS may use this information in the selection of EESs. AC Schedule O The
expected operation schedule of the AC (e.g. time windows) Expected AC
Geographical Service Area O The expected location(s) (e.g. route) of the
hosting UE during the AC\'s operation schedule. This geographic information
can express a geographic point, polygon, route, signalling map, or waypoint
set. AC Service Continuity Support O Indicates if service continuity support
is required or not for the application. The IE also indicates which ACR
scenarios are supported by the AC and which of these are preferred by the AC.
List of EASs O List of EAS that serve the AC along with the service KPIs
required by the AC > EASID M Identifier of the EAS **> Selected EAS Endpoint
(NOTE)** **O** **Endpoint information (e.g. URI, FQDN, IP 3-tuple) of a pre-
provisioned or EEC selected EAS.** > Expected AC Service KPIs O KPIs expected
in order for ACs to receive currently required services from the EAS, as
described in Table 8.2.3-1 > Minimum required AC Service KPIs O Minimum KPIs
required in order for ACs to receive meaningful services from the EAS, as
described in Table 8.2.3-1 **NOTE: Endpoint information shall be provided only
for pre-provisioned or EEC selected EASs.**
* * *
Editor\'s note: It is FFS whether more information other than Selected EAS
endpoint is required and whether a new information table can used to represent
it instead of AC profile.
* * * Enhancement based on TS 23.558 v. 17.4.0 * * * *
8.4.2.2.2 EEC registration
Figure 8.4.2.2.2-1 illustrates EEC registration procedure.
Pre-conditions:
1\. The EEC is authorized to access the EES for the purpose of performing
registration and has received relevant security credentials as specified in
clause 8.11; and
2\. The EEC has received service provisioning information from the ECS,
including information for accessing the EES.
Figure 8.4.2.2.2-1: EEC registration procedure
> 1\. The EEC sends EEC registration request to the EES. The request from the
> client includes the security credentials received after successful
> authorization for edge computing services and may include a proposed
> expiration time. The request also optionally includes information indicating
> to the EES how the EEC expects to use the services of the EES.
>
> If the EEC is moving to this EES from the purview of another EES, called
> S-EES, the request from the EEC may include the identity and endpoint of the
> S-EES and an EEC context ID that was provided by the S-EES to maintain
> continuity of the EEC context and to authorize EEC context relocation. If
> the EEC registration is being performed as part of ACR, the EEC shall not
> include the S-EES endpoint and the EEC context ID.
>
> 2\. Upon receiving the request from the EEC, the EES validates the
> registration request and verifies the security credentials. The EES further
> determines whether the requirements that were indicated in the AC Profile(s)
> can be fulfilled **e.g. without failing to meet the requirements of the
> already registered EECs** , and reserves corresponding resources **(e.g. for
> EASs).**
>
> **If the EEC provides in the registration request the EAS selection request
> indicator and based on EES local policies, the EES selects EASs providing
> the capabilities required by the AC Profile(s), reserves the corresponding
> resources and provides the information to the EEC in the registration
> response. If an AC Profile includes the** \"**Selected EAS Endpoint** \"
> **IE, the AC Profile is ignored in the EAS selection process.**
>
> **If the EEC provides in the registration request a UE type, the EES may use
> this information to apply UE-type-specific local policies.**
>
> **NOTE 1: This functionality is to be aligned with how a** \"**constrained
> device** \" **is identified by the EES. The alignment is to be determined in
> the normative phase considering other solutions.**
>
> **NOTE 2: Without any indication from UE (either EAS selection request
> indication or UE type), the EES handling is as per R17 procedure.**
>
> 3\. Upon successful validation of the request, if the received EEC
> registration request contains an EEC context ID and a S-EES Endpoint, the
> EES performs a EEC Context Pull relocation (clause 8.9.2.2) from the S-EES.
> The source and target EES perform EEC Context handling as detailed in clause
> 8.9.1.
>
> NOTE **3** : Only a single EEC Context ID may be provided in the EEC
> registration request.
>
> NOTE **4** : In this version of specification, each registration procedure
> relocates a single EEC context.
>
> NOTE **5** : Step 3 is executed when EEC determines to change its connection
> from S-EES to T-EES and ACR is not required.
>
> If the EEC registration request fails after the EEC Context Pull relocation,
> e.g. the EES cannot reserve the necessary resources while meeting the
> capability requirements of the existing registered EECs, the EES shall
> determine the EEC Context information stale and send a failure response with
> a corresponding cause.
>
> 4\. The EES sends a successful EEC registration response, which includes the
> registration ID and may include a newly assigned EEC context ID. If step 3
> was executed, the EEC registration response also includes EEC context
> retrieval result. The EEC stores the new EEC context ID and uses it if and
> when it registers with another EES. The EES may also provide an expiration
> time to indicate to the EEC when the registration will automatically expire.
> To maintain the registration, the EEC shall send a registration update
> request prior to the expiration. If a registration update request is not
> received prior to the expiration time, the EES shall treat the EEC as
> implicitly de-registered.
>
> If the EEC context relocation status indicates that the EEC context
> relocation was not successful, then the EEC performs the required EDGE-1
> subscriptions at the T-EES.
8.4.2.2.3 EEC registration update
Figure 8.4.2.2.3-1 illustrates EEC registration update procedure.
Pre-conditions:
> 1\. EEC has already registered with the EES.
Figure 8.4.2.2.3-1: EEC registration update procedure
> 1\. The EEC sends EEC registration update request to the EES. The request
> from the client includes the security credentials received after successful
> authorization for edge computing services and may include a proposed
> expiration time and AC profile(s) **parameters, including new or updated
> selected EAS information**.
>
> 2\. Upon receiving the request from the EEC, the EES validates the
> registration update request and verifies the security credentials.
>
> 3\. Upon successful validation of the request, the EES sends a successful
> registration update response, which may include updated expiration time to
> indicate to the EEC when the updated registration will automatically expire.
> To maintain the registration, the EEC shall send a registration update
> request prior to the expiration time. If a registration update request is
> not received prior to the expiration time, the EES shall treat the EEC as
> implicitly de-registered.
* * * Enhancement based on TS 23.558 v. 17.4.0 * * * *
8.4.2.3.2 EEC registration request
Table 8.4.2.3.2-1 describes information elements in the EEC registration
request from the EEC to the EES.
Table 8.4.2.3.2-1: EEC registration request
+---------------------------+------------+---------------------------+ | **Information element** | **Status** | **Description** | +---------------------------+------------+---------------------------+ | EECID | M | Unique identifier of the | | | | EEC. | +---------------------------+------------+---------------------------+ | UE Identifier | O | The identifier of the | | | | hosting UE (i.e. GPSI or | | | | identity token) | +---------------------------+------------+---------------------------+ | Security credentials | M | Security credentials | | | | resulting from a | | | | successful authorization | | | | for the edge computing | | | | service. | +---------------------------+------------+---------------------------+ | AC Profile(s) | O | Profiles of ACs for which | | | | the EEC provides edge | | | | enabling services. AC | | | | Profiles are further | | | | described in | | | | Table 8.2.2-1. | +---------------------------+------------+---------------------------+ | EEC Service Continuity | O | Indicates if the EEC | | Support | | supports service | | | | continuity or not. The IE | | | | also indicates which ACR | | | | scenarios are supported | | | | by the EEC. | +---------------------------+------------+---------------------------+ | **EAS selection request |** O**|** Indicates the request | | indicator**| | for EAS selection support | | | | from the EES (e.g. for | | | | constrained device)\".** | +---------------------------+------------+---------------------------+ | **UE type** | **O** | **Indicates UE or device | | | | type (e.g. constrained | | | | device) (NOTE 1)** | +---------------------------+------------+---------------------------+ | Proposed expiration time | O | Proposed expiration time | | | | for the registration. | +---------------------------+------------+---------------------------+ | EEC context ID (NOTE | O | Identifier of the EEC | | **2**) | | context obtained from a | | | | previous registration. | +---------------------------+------------+---------------------------+ | Source EESID (NOTE **2** | O | Identifier of the EES | | ) | | that provided EEC context | | | | ID. | +---------------------------+------------+---------------------------+ | Source EES Endpoint (NOTE | O | The endpoint address | | **2**) | | (e.g. URI, IP address) of | | | | the EES that provided EEC | | | | context ID. | +---------------------------+------------+---------------------------+ | **NOTE 1: The EES may use | | | | this information when | | | | applying | | | | implementation-dependent | | | | policies, such as EAS | | | | discovery or EAS | | | | selection policies | | | | complying to Release-17 | | | | specified behaviour.** | | | | | | | | NOTE: **2** This IE shall | | | | not be present when EEC | | | | registration is performed | | | | as part of ACR. | | | +---------------------------+------------+---------------------------+
8.4.2.3.3 EEC registration response
Table 8.4.2.3.3-1 describes information elements in the EEC registration
response from the EES to the EEC.
Table 8.4.2.3.3-1: EEC registration response
* * *
**Information element** **Status** **Description** Successful response O
Indicates that the registration request was successful. > Registration ID M
Identifier of the EEC registration. > Expiration time M Indicates the
expiration time of the registration. To maintain an active registration
status, a registration update is required before the expiration time. > EEC
context ID O Identifier of the EEC Context information available at the EES
that performed the registration. > EEC Context Relocation status O Indicates
whether the EEC context retrieval from the S-EES was successful or not. **>
Discovered EAS list** **O** **List of EASs discovered to provide the
capabilities required by the AC Profiles. If the request includes the EAS
selection request indicator, then Discovered EAS list shall contain only one
selected EAS. If the EES selects no EASs, the list may be empty.** **> > EAS
profile** **M** **Profile of the EAS. Each element is described in clause
8.2.4. Only includes the mandatory IEs in the EAS Profile.** Failure response
O Indicates that the registration request failed. > Cause M Provides the cause
for registration request failure.
* * *
* * * End of TS 23.558 enhancements * * * *
### 7.39.3 Solution evaluation
_This solution addresses all KI#8 issues by enabling EECs to obtain EES
selection assistance or to leverage pre-existent EAS information at the EEC
and top indicate its EAS selection via EEC regitrsation update. In turn,
service session communications can be enabled as soon as the EDN capabilities
are available after registration and the EES is better enabled to perform
optimal EAS instantiation after registration, if needed._
_In addition, the solution addresses KI#15 by minimizing EDGE-1 interactions
for EECs for which EAS selection assistance is provided by EEL._
## 7.40 Solution #40: EAS instantiation status provisioned by ECS
### 7.40.1 Architecture enhancements
None.
### 7.40.2 Solution description
#### 7.40.2.1 General
The following solution corresponds to key issue #9 on enhancements of dynamic
EAS instantiation triggering. This solution helps ensure that the proper
number of EAS instances are instantiated in the EDN and the solution addresses
what information may be utilized by an EES to decide to trigger dynamic EAS
instantiation.
In this solution, the EES is configured by the Management Service (MnS) with
information on EAS(s) that can be dynamically instantiated in an EDN; this
list provides the information elements needed for requesting EAS
instantiation.
This solution updates the EES profile provided to the ECS in the EES
registration request and provided to the EEC in the service provisioning
response. The EES profile provides the EASID(s) available at the EES and for
each EASID an EAS instantiation status indicating whether the EES has the
EAS(es) instantiated or instantiable, but not yet instantiated. This
information can be used by the EEC when choosing the EES(es) for performing
EAS discovery.
The solution then relies on existing Rel-17 EAS discovery request sent to the
selected EES to trigger EAS instantiation if needed. The benefit of this
solution is that the EEC can learn the EAS instantiation status at service
provisioning time which may influence the EES selection. Rel-17 EAS
instantiation methodology is unchanged.
#### 7.40.2.2 Procedure
This procedure presents a high-level overview of Solution #40.
Figure 7.40.2.2-1: High-level overview of solution #40
1\. On initial deployment, the Management Service (MnS) is requested to
perform EES deployment and can additionally be requested to perform initial
EAS deployment. Details on requesting EES and EAS instantiation is specified
in 3GPP TS 28.538 [20].
To support the dynamic EAS instantiation functionality, the EES needs a list
of EAS that it is allowed to dynamically instantiate, and corresponding EAS
information elements needed for requesting EAS instantiation.
NOTE 1: How the dynamic EAS instantiation information is made available to the
EES is implementation specific in Rel-17 and in the scope of SA5 for Rel-18.
2\. The EES registers to the ECS following the procedures described in 3GPP TS
23.558 [2] clause 8.4.4. The EES profile included in the EES registration
request may include the EAS instantiation status of each EASIDs, indicating
whether each EASID available at the EES is instantiated or instantiable, but
not yet instantiated.
3\. The EEC performs the service provisioning following the procedures
described in 3GPP TS 23.558 [2] clause 8.3.3.
4\. When the AC requests application server access, if the EES profile(s)
include EAS instantiation status, the EEC can select one or more EES(s) for
EAS discovery considering the EAS instantiation status. The EAS discovery
procedure is unchanged from 3GPP TS 23.558 [2] clause 8.5. To mitigate the
waste of EDN resources, the EEC can select one EES for EAS discovery
considering the EAS instantiation status.
NOTE 2: The EEC can select one EES from the EES list, if the EAS instantiation
status corresponding to the EASID requested by AC/EEC is instantiable (but not
yet instantiated)
NOTE 3: The EEC may prefer to select EES(s) for EAS discovery with EAS already
instantiated over other EES(s) with uninstantiated EAS, based on EAS
instantiation status per EAS ID.
5\. The EAS discovery request triggers the EES to verify if the instantiation
of the EAS indicated in the request is required per 3GPP TS 23.558 [2] clause
8.12.1.
6\. If the EES determines that EAS instantiation is needed, the EES may
request the MnS to perform EAS instantiation for the selected EAS. Upon
reception of the EAS instantiation request, MnS verifies EAS instantiation
requirements and performs EAS instantiation as specified in 3GPP TS 28.538
[20].
Upon instantiation of the EAS by the MnS, the EES is informed by MnS of the
result of EAS instantiation.
NOTE 3: The instantiated EAS can be discovered by other EECs and used by other
ACs.
7\. Step 7 happens only if EAS instantiation triggered in step 6 was
successful. At start-up, the newly instantiated EAS registers to the EES
following procedures described in 3GPP TS 23.558 [2] clause 8.4.3.
8\. Using the EAS instantiation result received from the MnS in step 6 and the
registration information provided at EAS registration in step 7; the EES sends
the EAS discovery response to the EEC to provide EAS connectivity information.
If the EAS instantiation result received from the MnS in step 6 indicates
failure, the EES shall reject the EAS discovery request and respond with an
appropriate failure cause.
9\. If the EAS discovery succeeded, the EEC performs EAS selection and informs
the AC of the selected EAS; otherwise, the EEC may retry the EAS discovery
taking into account the received failure cause.
10\. The AC accesses the selected EAS.
### 7.40.3 Solution evaluation
Solution evaluation of Solution #40:
a) Enables the EES to inform the ECS at EES registration about available
EASID(s), including the instantiated and instantiable EAS(es). During service
provisioning, this allows the EEC to retrieve the EAS instantiation status at
EES(es).
b) Enables an EEC to use the EAS instantiation status when selecting EES(es)
prior to performing EAS discovery, this allows to keep instantiated EAS to a
minimum.
c) Enables the EES to evaluate if EAS instantiation is needed upon receiving
the EAS discovery request. This allows the EES to evaluate if an EAS has
become available, and otherwise trigger EAS instantiation only if needed.
## 7.41 Solution #41: Interaction with ADAES for edge load analytics
### 7.41.1 Architecture enhancements
None
### 7.41.2 Solution description
#### 7.41.2.1 General
The following solution corresponds to the key issue #24 on SEAL capability
access for EEL support.
#### 7.41.2.2 Procedure
FS_ADAES (TR 23.700-36) is discussing edge load analytics service to provide
insight on the operation and performance of an EDN and in particular
statistics or prediction on parameters related to the EAS / EES load for one
or more EAS/EES.
Such analytics can improve edge support services by allowing the pro-active
edge service operation changes to deal with possible edge overload scenarios.
For example, this can trigger EAS migration to a different EDN / central DN,
or pro-active EAS reselection for a target UE or group of UEs.
Some EEL services may benefit from using ADAES analytics related to the EDN or
EAS service load. In TS 23.558, one of the conditions for service continuity
is the EAS/EDN overload situations. In this direction, edge load analytics
(predictions, stats) may help pro-actively trigger actions to prevent loss of
service due to expected overload.
Pre-condition:
1) SEAL ADAES services are available at the edge data network and accessible
to the EES.
Figure 7.41.2.2-1 interaction with ADAES for edge load analytics
1) The EES subscribes to ADAES (as described in TR 23.700-36 steps 1, 2 in
procedure in clause 6.4.1).
2) The ADAES derives analytics for the edge load using also offline stats from
A-ADRF and edge platform load data (as indicated in TR 23.700-36 6.4.1 step 9)
and sends the derived analytics output to the requestor EES (as indicated in
TR 23.700-36 6.4.1 step 10).
3) The EES can optionally provide the edge load analytics related to the EAS
load.
4) The EES or EAS generates a trigger event indicating a predicted or expected
EES/EAS overload and a possible action which can be the ACR detection. Such
step can be either performed at EAS or EES depending on the service continuity
scenario (as captured in clauses 8.8.2.4 and 8.8.2.5 of TS 23.558). It shall
be noted that the entity (EAS or EES) that indicates EAS or EES expected
overload based on the received load analytics shall be responsible for
triggering the action (e.g. ACRs).
### 7.41.3 Solution evaluation
This solution provides the procedures to utilize ADAES for enhancing EEL
operations based on edge load analytics. It addresses the key issue #24 and
the solution feasibility is dependent on the conclusion of the edge load
analytics capability in FS_ADAES (TR 23.700-36) and its specification in SEAL.
## 7.42 Solution #42: EAS selection and instantiation in EES
### 7.42.1 Architecture enhancements
None.
### 7.42.2 Solution description
This solution is based on solution #18, with UE type (e.g. constraint device),
the EES triggers EAS selection and instantiation for the AC.
This solution also uses the same principle of instantiable EAS configuration
in the EES (provisioned by MnS) as in solution #33.
Below procedure presents a high-level overview of this solution.
Figure 7.42.2-1: High-level overview of solution #42
1-3. Same as solution #33, procedure part step 1 to 3.
4\. Same as solution #18, step 2 in procedure part.
5\. EES selects an appropriate EAS from the instantiable list. If there is
already instantiated EAS in EES satisfying AC requirement, EES proceeds with
step 8.
6-7. Same as solution #33, procedure part step 7 to 8.
8\. Same as solution #18, step 3 in procedure part. In case of EAS
instantiation failure or no matched instantiable EAS can be found, the EEC
repeats step 4 with another EES.
9\. AC connects to the selected EAS.
### 7.42.3 Solution evaluation
During the EAS discovery, the EES selects and requests MnS to instantiate an
EAS based on the following info:
\- Instantiable EAS information provisioned by MnS;
\- UE type (e.g. constraint device) sent from the EEC.; and
\- AC requirement.
This solution improves the dynamic EAS instantiation and addresses open issues
in KI #9.
NOTE: This solution utitlizes the UE type as described in solution #18 and the
EAS instantiation is done during EAS discovery.
## 7.43 Solution #43: EAS discovery for Edge node sharing
### 7.43.1 Architecture enhancements
This solution uses the architecture option specified in clause 6.10.
### 7.43.2 Solution description
#### 7.43.2.1 General
As specified in clause 3.5.4.3.3 of GSMA OPG.02 [4], Edge node sharing is a
scenario wherein an OP, when serving the UNI requests originating from (its
own) UCs (i.e. EEC in EDGEAPP term), decides to provide the application from
the Edge nodes of a partner OP.
Scenario is that the EEC in UE does not have access directly to
enabler/configuration server in the OP-A (e.g. the EEC is not authorized to
access ECS and EES in OP-A, or there is no connectivity between the EEC and
OP-A), the OP-B has SLA with OP-A and servers in OP-B can serve the EEC
directly (e.g. the EEC has connectivity with OP-B and is authorized to access
ECS and EES in OP-B). For the AC in UE, it can access EAS(s) deployed in OP-A.
Assumption is that OP-B's EESs are deployed everywhere in a region (possibly
utilizing/leasing the IaaS offered by partners) and the EAS can be shared to
both OP A and OP B.
Editor\'s note: The scenario assumption in this solution needs to be verified
with GSMA before considering this solution in conclusion.
For the case where there are several partner EDNs coverage for the current UE
location and the contracted OP for the EEC cannot provide a desired EAS in its
EDN, this solution offers an option so that the EEC contracted OP can use its
partner's OP to discover the desired EAS in the partner's EDN for the UE.
#### 7.43.2.2 Publish/unpublish and fetch application
It is assumed that EAS deployed in OP-A is shared with OP-B (i.e. ECS-ER of
OP-A can share EAS information and associated EES information with ECS-ER of
OP-B) in this clause.
Since the application instance is deployed in the partner's data network, when
the leading OP (OP-B) receives a request from the UC, the leading OP (OP-B)
needs to contact the partner OP (OP-A) to discover the application instance.
In EDGEAPP architecture, the EES, ECS and ECS-ER are entities within the OP.
This clause provides ways for the leading OP to discover adequate EES(s) of
the partner OP for subsequent communication with the partner OP's EES.
Figure 7.43.2.2-1: publish and unpublish application information between ECS
via ECS-ER
In step 1, the EES of OP-A is registered in ECS of OP-A over EDGE-6 reference
point. Based on the information sharing policy in the ECS of OP-A, the ECS of
OP-A sends Application info publish request with a list of EAS IDs and
optionally EES information of OP-A in step 2. The EES information of OP-A
includes EES endpoint and may include EES provider ID, EES service area and/or
EES Service continuity support. Then ECS of OP-B stores the received
information and responds with Application info publish response in step 3.
Step 2 and 3 are sent via corresponding ECS-ERs (ECS-ER (OP-A) and ECS-ER
(OP-B)).
The ECS of OP-A may receive EES registration update from the EES of OP-A in
step 4, then the ECS of OP-A updates the previously published information (EAS
ID list and/or EES info of OP-A) towards the ECS of OP-B in step 5. The ECS of
OP-B updates the previously stored information and responds with Application
info publish update response in step 6. Step 5 and 6 are sent via
corresponding ECS-ERs (ECS-ER (OP-A) and ECS-ER (OP-B)).
The ECS of OP-A may receive EES de-registration from the EES of OP-A in step
7, then the ECS of OP-A requests to remove all previously published
information towards the ECS of OP-B in step 8. The ECS of OP-B removes all
previously stored information and responds with Application info unpublish
response in step 9. Step 8 and 9 are sent via corresponding ECS-ERs (ECS-ER
(OP-A) and ECS-ER (OP-B)).
NOTE 1: The application information published/shared to OP-B can also be done
in a notification message under subscribe-notify communication model.
Figure 7.43.2.2-2: Fetch application information from partner
The ECS (OP-B) may fetch application information from its partner OP (e.g.
OP-A) via corresponding ECS-ERs (ECS-ER (OP-A) and ECS-ER (OP-B)) as shown in
figure 7.43.2.2-2, periodically. In such a fetch operation, the fetched
information includes a list of EAS IDs and EES information of OP-A.
NOTE 2: If the ECS (OP-B) does not receive EES information of OP-A from the
published/notified application information, the ECS (OP-B) can also fetch it
from the ECS (OP-A) via the fetch operation.
NOTE 3: Procedures in this clause is applicable when leading OP's OAM
provisioned application sharing info (EAS IDs and EES info) of OP partners is
not available in ECS.
NOTE 4: ECS (OP-B) can also subscribe to application info changes from ECS
(OP-A).
NOTE 5: For message name \"application info publish\" and \"Fetch application
info\", whether alternate name should be used can be decided in normative
work.
#### 7.43.2.3 EAS discovery without published application info
It is assumed that EAS deployed in OP-A is shared with OP-B (i.e. EES of OP-A
can share EAS information with EES of OP-B) in this clause.
This procedure is applicable for EAS discovery without published application
information between ECSs as described in clause 7.43.2.2.
Figure 7.43.2.3-1: EAS discovery for edge node sharing, without published
application info
In step 0, the EAS may be registered in EES of OP-A over EDGE-3 reference
point.
NOTE 0: The EES (OP-A) also registers into the ECS (OP-A) via EDGE-6 reference
point, which is not shown for simplicity.
In step 1, the service provisioning request happens over EDGE-4 reference
point.
In step 2, the ECS (OP-B) cannot find any desired EAS ID in the EES profile
being registered so it determines to use edge service from its partner OP-A.
In step 3, based on SLA between OPs, the T-EES discovery procedure happens as
described in step 3 of solution#5 via EDGE-10 reference point.
NOTE 1: The ECS (OP-B) can have SLA with other multiple OPs and need to repeat
step 3 with more than one partner OP in order to discover T-EES.
In step 4, the service provisioning response includes the EES (OP-A) endpoint
and the ECS (OP-B) determined EES (OP-B) endpoint. The endpoint of EES (OP-B)
is determined based on SLA with OP-A so that any EES (OP-B) can be authorized
by the EES (OP-A). The endpoint of EES (OP-A) is sent by EES in a way that is
transparent to EEC.
In step 5, the EEC sends EAS discovery request to EES (OP-B) over EDGE-1
reference point and include the endpoint of EES (OP-A) in the request. The
endpoint of EES (OP-A) is transferred between the ECS (OP-B) and the EES
(OP-B) transparently to the EEC.
NOTE 2: How the EES (OP-A) endpoint is transferred in a transparent way to EEC
between the ECS (OP-B) and the EES (OP-B) is in the scope of SA3.
In step 6, the EES (OP-B) validates the edge service SLA and sends EAS
discovery request over EDGE-9 reference point to the EES (OP-A).
In step 7, the EES (OP-A) validates the edge service SLA and returns EAS
discovery response including the discovered candidate EAS(s) to the EES
(OP-B).
In step 8, the EEC receives the EAS discovery response sent by the EES (OP-B).
The EEC may select an EAS for the AC.
#### 7.43.2.4 EAS discovery with published application info
It is assumed that EAS deployed in OP-A is shared with OP-B (i.e. EES of OP-A
can share EAS information with EES of OP-B) in this clause.
This procedure is applicable for EAS discovery with published application
information between ECSs as described in clause 7.43.2.2.
Figure 7.43.2.4-1: EAS discovery for edge node sharing, with published
application info
In step 0, the EAS may be registered in EES of OP-A over EDGE-3 reference
point.
NOTE 1: The EES (OP-A) also registers into the ECS (OP-A) via EDGE-6 reference
point, which is not shown for simplicity.
In step 1, the service provisioning request happens over EDGE-4 reference
point.
In step 2, the ECS (OP-B) cannot find any desired EAS ID in the EES profile
being registered so it determines to use edge node sharing service from its
partner OP-A based on its partner's published application information.
NOTE 2: Step 1 to 3 are optional since EEC may cache the result from the
initial service provisioning as described in Rel-17.
In step 3, the service provisioning response includes the ECS (OP-B)
determined EES (OP-B) endpoint. The endpoint of EES (OP-B) is determined based
on SLA with OP-A so that any EES (OP-B) can be authorized by the EES (OP-A).
In step 4, the EEC sends EAS discovery request to EES (OP-B) over EDGE-1
reference point.
In step 5, since step 4 EAS discovery request doesn't include any additional
information about the determination of using edge node sharing in step 2, the
EES (OP-B) executes the Rel-17 handling for EAS discovery but cannot find any
EAS profile being registered so it determines to use edge node sharing service
based on edge service SLA.
In step 6, the EES (OP-B) sends Retrieve EES request over EDGE-6 reference
point to the ECS (OP-B). The request may include an edge node sharing flag
indicating edge node sharing is requested so that the ECS (OP-B) can skip
checking T-EES(s) registered in the ECS (OP-B).
For the received EAS ID, since the ECS (OP-B) has EES information that was
published by partner OP, the ECS (OP-B) discovers T-EES (i.e. EES(s) from
partner) in step 7 and returns discovered EES(s) of OP-A in the Retrieve EES
response to the ECS (OP-B) in step 8.
NOTE 3: The published information shared by the OP partner can be provisioned
by OAM of the leading OP.
In step 9 and 10, the EAS discovery procedure happens over EDGE-9 reference
point, which is triggered by the EES (OP-B) and the EES (OP-B) receives the
discovered candidate EAS(s).
NOTE 4: The OP-B can have SLA with other multiple OPs so that step 9 can be
executed with more than one partner OP in order to discover candidate EAS(s).
Finally, the EEC receives the EAS discovery response sent by the EES (OP-B) in
step 11. The EEC may select an EAS for the AC.
### 7.43.3 Solution evaluation
This solution addresses KI#22 for the EAS discovery in edge node sharing case.
If the application information is not shared between the ECS of two OPs having
partnership, during service provisioning, the partner (i.e. OP-A) EES is
provided then EEC triggers EAS discovery towards the EES of the contracted OP
(i.e. OP-B) in order to obtain EAS information. Any partner information is
transparent to the EEC so that the EEC is not aware of the presence of Partner
OP (i.e. OP-A).
If the application information is shared between the ECS of two OPs having
partnership, during service provisioning, the EEC obtains an EES (OP-B) from
its OP (i.e. OP-B) and triggers EAS discovery toward the EES (OP-B), then the
EES (OP-B) further obtains EESs of a partner OP (OP-A) from its registered ECS
(OP-B), continues EAS discovery towards partner OP and returns the discovered
EASs to the EEC.
This solution also addresses KI#6 for Edge services support across ECSPs,
specifically the open issue about how the ECS can discover a T-EES having SLA
with S-EES based on the federation agreements between ECSPs before EDGE-9
interaction.
Editor\'s note: Further updates to solution and solution evaluation may be
needed which is FFS, e.g. whether ECS-ER is needed to convey the shared
application info and if needed whether ECS-ER communication between OPs can be
mapped to E/WBI in GSMA OPG.
## 7.44 Solution #44: EAS discovery for Edge node sharing
### 7.44.1 Architecture enhancements
This solution uses the architecture option specified in clause 6.12.
### 7.44.2 Solution description
#### 7.44.2.1 General
This procedure works for a solution assumption, where EES of OP-B is available
in the region however the required application is not available/registered
with OP-B. In such case, the EES (OP-B) interacts with EES (OP-A) where the
application is deployed and shared. The EES (OP-B) provides EASID and EAS
Geographical Service) of the discovered EAS to EEC. The EAS can be shared to
both OP A and OP B.
Editor\'s note: The scenario assumption in this solution needs to be verified
with GSMA before considering this solution in conclusion.
#### 7.44.2.2 Publish/unpublish and fetch application
Since the application instance is deployed in the partner's data network, when
the leading OP (OP-B) receives a request from the UC, the leading OP (OP-B)
needs to contact the partner OP (OP-A) to discover the application. In EDGEAPP
architecture, the EES and ECS are entities within the OP. This clause provides
ways for the leading OP to discover EAS of the partner OP for subsequent
communication.
Figure 7.44.2.2-1: publish and unpublish application information between ECS
0) Once EAS(s) are instantiated in OP-B, the EAS(s) are registered with EES
(of OP-B). Upon EAS registration, the EES determines whether the registered
EAS is to be shared with other OP(s) or not.
1) Based on service level agreement between ECSP-A and ECSP-B if EAS is shared
to ECSP-A and also based on EAS registration status, the EES (of OP-B) sends
registered EAS information publish or unpublish request to an Edge repository
(designated ECS of OP-B). The request includes the registered and allowed EAS
for sharing between ECSP-1 and ECSP-2, EASID and EAS Geographical Service.
2) The Edge repository checks whether EES is authorized to publish or
unpublish registered EAS list or not based on service level agreement.
3) If authorized, the Edge repository stores the EAS information and sends
registered EAS information publish or unpublish response.
Editor\'s note: It is FFS whether registered EAS publish should to be done by
EES or ECS to ECS-ER.
Editor\'s note: Comparison/alignment of ECS-ER's definition with the MEC
Federator (MEF) and the interface required between the ECS-ERs with ETSI MEC
(e.g. ETSI MEC GS 040) and GSMA OPG's PRD is FFS.
Figure 7.44.2.2-2: publish and unpublish application information between ECS
1) Based on service level agreement between ECSP-1 and ECSP-2, the Edge
repository of OP-A (i.e. designated ECS of OP-A) sends subscription request to
receive registered EAS information (including service area) to Edge repository
of OP-B (i.e. designated ECS of OP-B). The request includes required
parameters like ECSP identifier, ECS identifier and security parameters.
2) Upon receiving the request from Edge repository (of OP-A), the Edge
repository (of OP-B) checks whether Edge repository (of OP-A) is authorized to
receive registered EAS list or not based on service level agreement.
3) The Edge repository (of OP-B) sends subscription response -- which
indicates result of the subscription (success or failure) and subscription
identity (if the result is success).
4) The list of registered and allowed EAS is changed on the Edge repository
(of OP-B) -- that is either new EAS is registered or EAS registration is
updated or EAS is deregistered or new EAS is published or already published
EAS is unpublished.
5) The Edge repository (of OP-B) sends notification to the Edge repository (of
OP-A). The notification includes the registered and allowed EAS for edge node
sharing service between ECSP-1 and ECSP-2, EASID and EAS Geographical Service.
Upon receiving the notification, the Edge repository (of OP-A) stores the
information to be used in other procedures (for EAS discovery or get
registered EAS information request).
Figure 7.44.2.2-3: Getting registered EAS information
The ECS (OP-A) may fetch application information from its partner OP (e.g.
OP-B) as shown in figure 7.44.2.2-3, periodically. In such a fetch operation,
the response from ECS-ER (of OP-B) includes a list of EAS IDs (which are
registered within OP-A and shared to OP-B) and EES information of OP-B.
NOTE 2: If the ECS (OP-B) does not receive EES information of OP-A from the
published/notified application information, the ECS (OP-B) can also fetch it
from the ECS (OP-A) via the fetch operation.
NOTE 3: Procedures in this clause is applicable when leading OP's OAM
provisioned application sharing info (EAS IDs and EES info) of OP partners is
not available in ECS.
#### 7.44.2.3 EAS discovery for edge node sharing Procedure
Figure 7.44.2.3-1 illustrates the procedure for EAS discovery for Edge Node
Sharing scenario, where the EES-B requests list of all registered EASs from
partner OP's EES-A or perform EAS discovery based on the discovery filters
provided by the EEC.
Pre-conditions:
1\. ECSP-1 and ECSP-2 have a service level agreement to share edge services.
Figure 7.44.2.3-1: EAS discovery for edge node sharing
1) The EAS may be registered in EES of OP-A over EDGE-3 reference point. The
EAS may be dynamically instantiated during EAS discovery processing on the EES
(OP-A) and then registered in the EES (OP-A).
NOTE 1: The EES (OP-A) also registers into the ECS (OP-A) via EDGE-6 reference
point, which is not shown for simplicity.
2) if required, EEC performs service provisioning from ECS-B as specified in
3GPP TS 23.558 [2].
Editor\'s note: If service provisioning procedure is performed, how ECS finds
EES, as there may not be desired EAS registered at EES, is FFS.
3) if required, EEC performs registration to EES-B as specified in 3GPP TS
23.558 [2].
4) The EEC sends EAS discovery request. The EES-A determines that the required
EAS(s) is(are) not registered with the EES, and decides to provide service
from partner OP's EAS.
5) the EES-B sends EAS discovery request over EDGE-9 reference point to the
EES-A.
NOTE 2: If required, the EES-B may perform Retrieve T-EES procedure as
specified in clause 8.8.3.3 of 3GPP TS 23.558 [2] to retrieve information
about EES-A.
6) the EES-A validates the edge service SLA and returns EAS discovery response
including the discovered candidate EAS(s) to the EES-B.
7) Upon receiving registered EAS information from EES-A (either via
notification or request to get all registered EAS information or EAS discovery
procedure), the EES sends the EAS discovery response to EEC including matching
EAS details.
NOTE 3: It is up to implementation to decide which option to use to get list
of registered EAS(s) from partner OP.
#### 7.44.2.4 Get list of all registered EAS from partner OP
Based on service provider policy, the EES-B either requests list of all
registered EASs from partner OP's EES-A as specified in this clause, or
perform EAS discovery based on the discovery filters provided by the EEC as
specified in clause 7.44.2.3.
NOTE 1: The EES-B may contact Edge Repository (of OP B) to identify EES (of OP
A) to trigger request to get all registered EASs or EAS discovery.
Figure 7.44.2.4-1: Get list of all registered EASs from partner OP
Following steps shows procedure to request list of all registered EASs from
EES-A.
1) If the EES-B does not have full application knowledge at the time of EAS
discovery request from the EEC, the EES triggers request to EES-A to provide
list of all registered and allowed EAS information. The request includes
required parameters like ECSP identifier, EESID and security parameters.
2) Upon receiving the request from EES-1, the EES-2 checks whether EES-1 is
authorized to receive registered EAS list or not based on service level
agreement.
3) If authorized, the EES-A sends registered EAS information response. The
response includes the registered and allowed EAS for edge node sharing service
between OP-A and OP-B, EASID and EAS Geographical Service. Otherwise, the
EES-A sends the failure response. Upon receiving the success response, the
EES-B stores the information to be used during EAS discovery procedure.
NOTE 2: The request to get list of all registered EASs from EES-A to EES-B can
be triggered anytime based on implementation.
### 7.44.3 Solution evaluation
This solution addresses KI#22 for the EAS discovery in edge node sharing case.
This solution requires architecture enhancement to have a dedicated ECS (i.e.
ECS-ER) in order to exchange the required information among partner OPs. This
solution enables EAS discovery for edge node sharing scenario, where the EES-B
either requests list of all registered EASs from partner OP's EES-A or perform
EAS discovery based on the discovery filters provided by the EEC. Based on
received registered EAS information from EES-A, the EES-B uses the information
while providing the EAS discovery response to the EEC. This solution is a
viable solution.
## 7.45 Solution #45: EAS discovery in Edge Node sharing scenario
### 7.45.1 Architecture enhancements
None.
### 7.45.2 Solution description
#### 7.45.2.1 General
The following solution corresponds to the key issue#22 on EAS discovery in
Edge Node sharing scenario in clause 4.22. The scenario assumption is that the
EES service (OP A) can be shared to the Operator B. The Operator B can rent
the edge resource from the Operator A for the EAS deployment and also rent the
EES service from the Partner A.
Editor\'s note: The scenario assumption in this solution needs to be verified
with GSMA before considering this solution in conclusion.
#### 7.45.2.2 EAS discovery Procedure
In this solution, the EES is responsible to determine the EAS base on the
desired ECSP information of the UE and the ECSP information of the EAS. With
this solution, the EES can discovery and determine the considering the ECSP
information of both the UE and the EAS, and thus UE can get edge computing
service from the EAS deployed by ECSP serving its UE.
Pre-conditions:
> 1\. OP A and OP B have a service level agreement to share edge EES services.
>
> 2\. EAS deployed by the OP B in OP A.
>
> 3\. The EAS register to the EES (OP A) with EAS ECSP ID (e.g. OP B).
>
> 4\. EES (OP A) which is deplyed by OP A but shared to OP B can register to
> ECS (OP B)
Editor\'s note: It is FFS whether the EES (OP A) which is deployed by OP A but
shared to OP B can register to ECS (OP B) is required or not.
> **Enhancement on the 3GPP TS 23.558 clause 8.3.3 Service Provisioning and
> 8.5 EAS discovery**
{width="5.690972222222222in" height="3.142361111111111in"}
Figure 7.45.2.2-1: service provisioning and EAS discovery procedure
1\. The EEC send the service provisioning request message to the ECS (OP B),
the request message may contain the required EASID information
2\. Unpon receiving the request message, the ECS (OP B) determine the EES (OP
A), when the required EAS is avaliable in the OP A
3\. The EEC sends the EAS discovery request to the EES (OP A) in the OP A
which is shared to the Operator Bï¼Œ the request message contains the UE home
ECSP (e.g OP B's information ) information.
4\. Then the EES (OP A) in the OP A determines the EAS considering the ECSP
information of both the UE and the EAS, e.g. UE home ECSP, ECSP of the EAS.
#### 7.45.2.3 T-EAS discovery Procedure
In this solution, the T-EES is responsible to determine the T-EAS base on the
desired ECSP information of the UE and the ECSP information of the EAS. With
this solution, the T-EES can discover and determine the T-EAS considering the
ECSP information of both the UE and the EAS, and thus UE can get edge
computing service from the T-EAS deployed by ECSP serving its UE.
NOTE: The EEC's home ECSP ID (identifying OP) information is used to indicate
which ECSP (e.g. OP)'s service is subscribed by the EEC.
Pre-conditions:
> 1\. OP A and OP B have a service level agreement to share edge EES services.
>
> 2\. EAS deployed by the OP B in OP A.
>
> 3\. The T-EAS register to the T-EES (OP A) with EAS ECSP ID (e.g. OP B).
>
> 4\. S-EES (OP A) and T-EES (OP A) which is deplyed by OP A but shared to OP
> B can register to ECS (OP B)
>
> 5\. The ECS (OP B) will only return the OP A's T-EES for edge node sharing
> case..
>
> **Enhancement on the 3GPP TS 23.558 clause 8.8.3.3 retrieve T-EES and 8.5
> EAS discovery**
{width="5.674305555555556in" height="3.3631944444444444in"}
Figure 7.45.2.X-1: Retrieve T-EES and EAS discovery procedure
1\. The S-EAS send the EAS discovery request message to the S-EES (OP A), the
request message may contain the EEC's home ECSP ID (e.g. identifying OP B's
information).
2\. The S-EES (OP A) perform the Retrieve T-EES procedure to the ECS (OP B)
3\. Upon receiving the T-EES(OP A) information, the S-EES (OP A) sends the EAS
discovery request message to the T-EES (OP A) which is shared to the Operator
B, the request messagse contains the EEC's home ECSP ID (e.g. identifying OP
B's information)
Editor\'s note: It is FFS whether other OP's EES will be returned to the S-EES
of OP A
4\. Then the T-EES (OP A) in the OP A determines the T-EAS considering the
ECSP information of both the EEC and the EAS, e.g. EEC's home ECSP ID (e.g.
identifying OP B's information), ECSP of the EAS. Then the T-EES (OP A) send
the EAS discovery response message to the S-EES(OP A), the response message
contains the T-EAS (OP B) information.
5\. The S-EES (OP A) in the OP A send the EAS discovery response message to
the S-EAS(OP B), the response message contains the T-EAS (OP B) information.
### 7.45.3 Solution evaluation
This solution addresses KI#22 for the EAS discovery in edge noed sharing case.
This solution is applicatble to the case where the EES (OP A) can be shared to
the OP B, and the EAS deployed by OP-B in the OP A can only provide the
service to the OP B's UE. The EES can determine the EAS or T-EAS based on the
EEC's ECSP ID (e.g. identifying OP B's information) information and EAS\'s
ECSP (e.g. OP) information. And this solution is a viable solution.
NOTE: The EEC's ECSP ID (e.g. identifying OP's information) information is
used to indicate which ECSP (e.g. OP)'s service is subscribed by the EEC.
## 7.46 Solution #46: EEC selected ACR scenario for EAS bundles
### 7.46.1 Architecture enhancements
None.
### 7.46.2 Solution description
#### 7.46.2.1 General
This solution corresponds to the key issue #18 on EAS bundles, and is proposed
to make decisions on ACR scenarios for EAS bundles based on solution #35 of
EEC selected ACR scenarios, to avoid the misaligned relocation between bundled
EAS(s), by considering the AC/EEC/EES(s)/EAS(s) ability of handling bundled
EAS ACR.
The scenario assumption of this solution is that there is a coordinated ACR
requirement for KI#18, i.e. the bundled EAS may need to be relocated together.
Editor\'s note: This solution will not be used if SA4 don't have requirement
for coordinated ACR in EAS bundle case; and solution needs to be revisited if
SA4 clarifies such requirement existence.
Editor\'s note: This solution may not be required depending on the feedback
from SA5, e.g. if the bundled EASs register to the same EES.
Compared with solution #35, this solution:
\- focus on the EAS bundles scenario where bundled EAS(s) for one AC
associated with one EES or multiple EES(s)
\- additionally considering the AC/EEC/EES(s)/EAS(s) ability of handling
bundled EAS ACR to determined ACR scenario for EAS bundles.
NOTE: This solution is based on existence of bundled EAS ACR in solution #26,
the AC/EEC/EAS/EES capability to support EAS bundle ACR will use any agreed
name for bundled ACR scenario in solution #26.
#### 7.46.2.2 Procedure
In this solution, the bundled EAS list is introduced in AC profile, to
represent that the multiple EAS(s) are to serve the same AC. The associated
EES list is introduced to describe the EES(s) where the bundled EAS(s) is
registered in. The EEC can be responsible to make decisions on ACR scenarios
selection for EAS bundles. In the following procedure, the bundled EAS list
consists of EAS#1 and EAS#2, and the associated EES list includes EES#1 and
EES#2, where EAS#1 and EAS#2 are registered in EES#1 and EES#2, respectively.
{width="5.0881944444444445in" height="4.735416666666667in"}
Figure 7.46.2.2-1: EEC selected ACR scenarios for EAS bundles
1-2. The EAS sends an EAS registration request to the EES, the request
includes the EAS ability of handling bundled EAS ACR (e.g. bundled EAS list)
in EAS profile (as extension in EAS service continuity support).
3-4. The EES sends an EES registration request to the ECS, the request
includes the EES ability of handling bundled EAS ACR (e.g. bundled EAS list,
and/or notify other bundled EAS(s) to perform ACR) in EES profile (as
extension in EES service continuity support).
5\. EEC performs service provisioning with ECS, and ECS returns the EES list
with the EES ability of handling bundled EAS ACR and the EES service
continuity support to EEC.
6-7. The EEC performs EAS discovery using procedures defined in 3GPP TS 23.558
[2] clause 8.5 to obtain a list of discovered EAS(s), with the EAS ability of
handling bundled EAS ACR.
8\. The EEC (or AC) selects bundled EAS(s) from the discovered EAS list. The
EEC selects the ACR scenario(s) for EAS bundles that should be used for the
given AC and selected EAS(s) by considering the ACR scenarios support by AC,
EEC, EES(s) and EAS(s), and the AC/EEC/EES(s)/EAS(s) abilities of handling
bundled EAS ACR. ACR selection can result in zero or more ACR scenarios being
selected. For selecting the ACR, the EEC minimally considers the ACR
capabilities of the AC from AC Profile, of the EEC (known locally), of the
EES(s) from service provisioning response received from the ECS (pre-
requisite), and of the EAS(s) from EAS Profile and obtained at EAS discovery.
NOTE: The enhancement of ACR scenario, if required, will be considered in
normative work.
9\. The EEC sends the selected ACR scenario(s) to EES in selected EAS
announcement request, the EES uses the list of selected ACR scenarios to
determine if it should perform ACR detection and/or ACR decision.
10\. The EES sends an ACR selection notification to its registered EAS(s)
which are part of the bundled EAS(s), providing the selected ACR scenario
list. Not shown on the figure, the EAS previously subscribed to receive ACR
notifications. The EAS uses the selected ACR scenarios list to determine if it
should perform ACR detection and/or ACR decision.
11\. The EES sends the selected EAS declaration response to the EEC indicating
success or failure of the EAS announcement request.
12-14: The EEC sends the selected ACR scenario(s) with related ACID and EASID
to other associated EES(s) and the other bundled EAS(s).
### 7.46.3 Solution evaluation
This solution addresses KI#18. To satisfy the coordinated ACR requirements
(i.e. the bundled EAS may need to be relocated together), the EEC can act as
decision entity to select ACR scenario(s) for EAS bundles, based on the
AC/EEC/EES(s)/EAS(s) abilities of handling bundled EAS ACR.
## 7.47 Solution #47: EES determines the selected ACR scenario for EAS bundles
### 7.47.1 Architecture enhancements
None.
### 7.47.2 Solution description
#### 7.47.2.1 General
This solution corresponds to the key issue #18 on EAS bundles where multiple
EES(s) are involved, and is proposed to make decisions on ACR scenarios for
EAS bundles based on solution #19 of EES determined ACR scenarios, to avoid
the misaligned relocation between bundled EAS(s), by considering the
AC/EEC/EES(s)/EAS(s) ability of handling bundled EAS ACR.
The scenario assumption of this solution is that there is a coordinated ACR
requirement for KI#18, i.e. the bundled EAS may need to be relocated together.
Editor\'s note: This solution will not be used if SA4 don't have requirement
for coordinated ACR in EAS bundle case; and solution needs to be revisited if
SA4 clarifies such requirement existence.
Editor\'s note: This solution may not be required depending on the feedback
from SA5, e.g. if the bundled EASs register to the same EES.
Compared with solution #19, this solution:
\- focus on the EAS bundles scenario where bundled EAS(s) for one AC
associated with multiple EES(s)
\- additionally considering the AC/EEC/EES(s)/EAS(s) ability of handling
bundled EAS ACR to determined ACR scenario for EAS bundles.
NOTE: This solution is based on existence of bundled EAS ACR in solution #26,
the AC/EEC/EAS/EES capability to support EAS bundle ACR will use any agreed
name for bundled ACR scenario in solution #26.
#### 7.47.2.2 Procedure
In this solution, the bundled EAS list is introduced in AC profile, to
represent that the multiple EAS(s) serve the same AC. The associated EES list
is introduced to describe the EES(s) where the EAS(s) in the bundled EAS(s)
are registered in. An EES can be responsible to make decisions on ACR
scenarios selection for EAS bundles. In the following procedure, the bundled
EAS list consists of EAS#1 and EAS#2, and the associated EES list includes
EES#1 and EES#2, where EAS#1 and EAS#2 registered in EES#1 and EES#2,
respectively.
{width="5.029166666666667in" height="4.799305555555556in"}
Figure 7.47.2.2-1 EES determines the selected ACR scenario for EAS bundles
0\. The EEC performs service provisioning procedure and EAS discovery
procedure, obtains the discovered bundled EAS list, the associated EES list,
the EAS ability of handling bundled EAS ACR (e.g. bundled EAS list) in EAS
profile (as extension in EAS service continuity support), and the EES ability
of handling bundled EAS ACR (e.g. bundled EAS list, and/or notify other
bundled EAS(s) to perform ACR) in EES profile (as extension in EES service
continuity support).
1-2. The EAS sends an ACR scenario selection subscription request to the EES,
the EES sends an ACR scenario selection subscription response to the EAS with
the subscription result.
3\. The EEC sends ACR scenario selection request to one of EES, the request
contains the AC service continuity support and EEC service continuity support
indicating which ACR scenarios are supported by the AC and the EEC. The
request also contains the bundled EAS list, the associated EES list, the
AC/EEC/EES(s)/EAS(s) ability of handling bundled EAS ACR (e.g. bundled EAS
list, and/or notify other bundled EAS(s) to perform ACR).
4\. Based on the AC service continuity support, EEC service continuity
support, the bundled EAS list, the AC/EEC/EES(s)/EAS(s) abilities of handling
bundled EAS ACR and EAS service continuity support, the EES determines the
suitable ACR scenario(s) for the bundled EAS(s) scenario. The EES can select
the appropriate ACR scenario(s) for the bundled EAS(s) scenario from the
intersection of the ACR scenarios supported by AC, EEC, EES(s) and EAS(s).
NOTE: The enhancement of ACR scenario, if required, will be considered in
normative work.
5\. The EES sends the ACR scenario selection response to the EEC, including
the selected ACR scenario with related ACID and EASID, then EEC may notify the
AC with the selected ACR scenario.
6\. The EES sends the ACR scenario selection notification to its registered
EAS(s) which are part of the bundled EAS(s), including the selected ACR
scenario with related ACID and EASID.
7\. The EES sends the selected ACR scenario selection announcement request to
other associated EES(s), including the selected ACR scenario with related ACID
and EASID.
8\. The other associated EES(s) send the selected ACR scenario announcement
response to the EES.
9\. The other associated EES(s) sends the ACR scenario selection notification
to its registered EAS(s) which are part of the bundled EAS(s), including the
selected ACR scenario with related ACID and EASID.
### 7.47.3 Solution evaluation
This solution addresses KI#18. To satisfy the coordinated ACR requirements
(i.e. the bundled EAS may need to be relocated together), the EES can act as
decision entity to determine ACR scenario(s) for EAS bundles, based on the
AC/EEC/EES(s)/EAS(s) abilities of handling bundled EAS ACR.
## 7.48 Solution #48: Edge server set and edge service set
### 7.48.1 Architecture enhancements
None.
### 7.48.2 Solution description
#### 7.48.2.1 General
This solution is related to KI#23 on Reliable Edge service.
NOTE: The reference to 3GPP TS 23.501 [5] is used in the study to avoid
repeating the text in set-based service resilience. In normative work all the
procedures and concepts need to be specified based on EDGEAPP terms and
EES/ECS-based information transfer procedures.
#### 7.48.2.2 Reliability support with Sets
By adopting the NF set and NF service set approach, as specified in clause
5.21.3 of 3GPP TS 23.501 [5], an edge server set and edge service set can be
introduced to enable an EES/ECS to provide reliable services to the edge
service consumers (e.g. EAS, EEC).
Equivalent Edge servers may be grouped into Edge server sets, e.g. several EES
instances are grouped into an EES set. Edge servers within an Edge server set
are interchangeable because they share the same context data, and may be
deployed in different locations, e.g. different data centres. An Edge server
(e.g. EES) is composed of one or multiple Edge Services. Within an Edge
server, an Edge service may have multiple instances. These multiple Edge
Service instances can be grouped into Edge Service Set if they are
interchangeable with each other because they share the same context data.
NOTE 1: How equivalent EESs are determined (e.g. based on KPIs, service area)
to group into an EES set (e.g. by O&M or other means) will be considered in
normative work.
UE is not required to host multiple instances of the same EEC but the EEC is
able to perform re-connection due to ECS/EES service failure.
Likewise, for service binding, it can be used by edge service producer and
consumer to indicate a particular context (e.g. EEC context, EDGE-3
subscription context) that is bound to an edge service instance, edge server
instance, edge service set or edge server set. The basic principle for binding
is to exchange binding information between consumer and producer so that they
know how to connect to alternative in case of service failure depending on
level of binding (e.g. edge server set level, edge service set level).
For subscribe-notify type of interaction, the binding is needed between the
edge service consumer and edge service producer. As an example, the EDGE-3 API
operation Eees_UELocation_Subscribe is used to depict the impact:
Figure 7.48.2.2-1: UE location API: Subscribe operation
To create a binding for UE location notification, in step 1, the UE location
subscribe request may include a Binding Indication 1 referring to EAS service
instance, EAS service set, EAS instance or EAS set and additionally includes a
service name of the EAS as specified in Table 6.3.1.0-1 of TS 23.501 [5]. The
EAS service set ID, EAS service instance ID and service name relate to the
service of EAS that will handle the notification. The EES selects the target
for the related notifications using the notification endpoint received in the
subscription request. If the notification endpoint included in the
subscription is not reachable, the Binding Indication received is used to
discover an alternative notification endpoint, as specified in Table 6.3.1.0-1
of TS 23.501 [5].
NOTE 2: SCP related description in TS 23.501 [5] is out of the scope of
current study and therefore not applicable for EDGEAPP. The routing binding
indication described in TS 23.501 [5] is not applicable for EDGEAPP,
consequently.
If the Binding Indication for Notifications needs to be updated, the EAS may
initiate a location subscription update request (step 8) to the NF service
producer with an updated Binding Indication 1 or may include the updated
Binding Indication 1 in the acknowledgment of a Notification.
Binding for the subscription resource at the EES can also be created. In step
4, the UE location subscribe response message may contain a Binding Indication
2 referring to EES service instance, EES instance or EES Set. The EAS selects
the target for the related request to the EES, such as the request to update
the subscription shown in step 8 of Figure 7.48.2.2-1, using the received
Binding Indication 2 as specified in Table 6.3.1.0-1 of TS 23.501 [5].
If the Binding Indication for Subscription needs to be updated, the EES may
provide an updated binding indication 2 in a notification request (step 6) to
the EAS or in the response (step 10) to a subsequent location subscription
update request from the EAS.
For request-response type of interaction, as another example to provide
reliable service, the EES registration procedure is enhanced with binding
indication sent by the ECS. The EES uses the binding indication in the EES
registration response to select the target for subsequent interaction (e.g.
EES registration update request). The ECS may update the binding in EES
registration update response.
NOTE 3: For stateless request-response (e.g. Eees_UELocation_Get operation),
there is no need to include binding information in response message.
NOTE 4: More EEL specific procedure adaptation with Edge service set and Edge
server set can be done in normative work by following above principle.
#### 7.48.2.3 EES binding update
In case when ECSP has decided to gracefully shutdown the EES due to
maintenance (or any other reason), the EES, as a service producer, may inform
its consumers (e.g. EEC, EAS) about the EES instance unavailability via
binding update as specified in clause 6.5.3.3 of 3GPP TS 29.500 [2]. The
consumer (e.g. EEC, EAS), re-connects to another EES instance within the same
EES set for subsequent communication.
An EES can be taken graciously out of service as follows:
a) the EES instance pushes all related context to the selected alternate EES
instance as specified in clause 7.48.2.4; and
b) the EES instance notifies all its consumers like EECs and EASs (which are
subscribed for binding update information).
The consumer may also detect the EES unavailability by itself (e.g. request is
not responded) that the EES instance is not available anymore, another
available EES instance within the same EES set is connected by the consumer.
NOTE 1: Whether re-selection of the EES is required and the procedure for re-
selection of edge service instance can be addressed in the normative work.
For EES sent notification, it is assumed that the consumer(s) are subscribed
to receive the binding update notification.
NOTE 2: Whether consumers need to have a dedicated subscription per EES
instance level or existing service subscription in EES can be re-used is to be
decided in normative work. Any further consumer action upon receiving the
binding update information or upon detecting the EES unavailability by itself
can be specified during normative work.
NOTE 3: In this solution, the EES service end point in a set is different.
Multiple EESs using the same virtual IP address is out of the scope.
#### 7.48.2.4 Context Transfer procedure
Network Function/NF Service Context Transfer procedure as specified in clause
5.21.4 of 3GPP TS 23.501 [5], can be adopted for EES. The EEC Context Transfer
Procedures allow transfer of EEC and EAS Contexts from a EES instance (as a
S-EES) to another EES instance (as a T-EES) within the same EES set, e.g.
before the Source EES can gracefully close its service.
a) The EES instance can push all registered EEC and EAS contexts to another
EES instance within the same EES Set. In order to push all registered EEC and
EAS contexts to the T-EES, the S-EES sends EEC Context Push request as
specified in clause 8.9.2.3 of 3GPP TS 23.558 [2]. The request further
includes additional information elements as specified in Table 7.48.2.2-1.
Table 7.48.2.2-1: Additional IEs for EEC Context Push request
* * *
Information element Status Description List of EEC Contexts O List of
registered EEC Contexts to sync with target EES from the same EES Set. List of
EAS Profiles O List of registered EAS profiles to sync with target EES from
the same EES Set. List of EDGE-3 subscriptions O List of subscriptions IDs
over EDGE-3. Identifier M Identifies EES Set.
* * *
NOTE: If list of EAS profiles information element is present, then the T-EES
considers it as an indication for the content synchronization between EESs
within same EES Set.
b) Upon receiving context push request, the T-EES validates and authorizes the
S-EES. If the S-EES is authorized and both S-EES and T-EES are part of same
EES Set, then the T-EES stores the information for synchronization -- e.g.
list of EEC contexts and list of EAS profiles.
### 7.48.3 Solution evaluation
The solution addresses KI#23 related to Reliable Edge service. The solution
proposes to adopt a mechanism like Network Reliability support with Sets as
specified in 3GPP TS 23.501 [5] for EDGEAPP. The binding mechanism is
described for subscription request and service response in EEL. The solution
also provides EEL procedures to support reliability in EEL -- like EES planned
removal, context transfer between EES instances of same EES Set.
## 7.49 Solution #49: ACR for EAS composition
### 7.49.1 Architecture enhancements
None.
### 7.49.2 Solution description
This solution addresses the case of a single AC-EAS session where the EAS
consumes other edge services, therefore acting as (or forming) a composite
EAS. In this use case the AC is not aware of the EAS being part of a composite
service, therefore ACRs can be initiated by the EEC or servers (EES, EAS) in
DN as described in all Rel-17 ACR scenarios.
NOTE: The single EAS to which the AC is connected is termed \"connecting
EAS\", while the other EASs within the composite service are termed
\"component EASs\". The \"connecting EAS\" and \"component EASs\" form an EAS
composition.
After the initial AC-EAS connection, the connecting EAS may utilize the
EDGEAPP discovery mechanisms to find the other services (component EASs)
necessary to provide the composite service, and communicates with them. During
ACR of the single AC-EAS session, once the connecting EAS is aware of ACR
happening, it is the connecting EAS's responsibility to find target EASs (e.g.
using EDGEAPP discovery mechanism) for the component EASs, and to trigger ACT,
if needed. The component EASs may be served by the same EES as the connecting
EAS, or by different EESs.
NOTE: In order to trigger ACT for the other component EASs, after discovery
the connecting EAS can send the endpoints of the targets to the sources, or
can send the endpoints of sources to the targets. This is out of the scope of
the current study.
### 7.49.3 Solution evaluation
This solution addresses KI#20 and there is no impact identified in EEL for EAS
composition.
## 7.50 Solution #50: Enhanced ECS for federation of services
### 7.50.1 Architecture enhancements
This solution uses the architecture option [#12 and relates to the
assumptions]{.underline} specified in clause 6.12.
### 7.50.2 Solution description
#### 7.50.2.1 ECS registration with the ECS-ER
ECS registers with the ECS-ER and provides the information such as EDN
configuration information, applications available via the ECS etc. Figure
7.50.2.1-1 illustrates the procedure.
Pre-conditions:
1\. The ECS has the address (e.g. URI) of the ECS-ER.
Figure 7.50.2.1-1: ECS registration with ECS-ER
1\. The ECS sends the ECS registration request to the ECS-ER. The request from
the ECS includes the ECS configuration information (ECS address and the ECS
provider information) along with its security credentials. EDN configuration
information etc. The request also includes a list of EES/EASs available via
the ECS in order to publish the information to other ECS-ER(s). The request
may include a proposed expiration time for the registration, and may include
list of partner ECSPs that are allowed to receive its information.
2\. Upon receiving the request from the ECS, the ECS-ER verifies the security
credentials of the ECS and stores the ECS registration information obtained in
step 1.
3\. The ECS-ER sends an ECS registration response indicating success or
failure of the registration operation. The ECS-ER may provide an expiration
time to indicate to the ECS when the registration will automatically expire.
To maintain the registration, the ECS sends a registration update request
prior to the expiration time. If a registration update request is not received
prior to the expiration time, the ECS-ER treats the ECS as implicitly de-
registered.
NOTE 1: ECS registration update and ECS deregistration procedures are
required.
NOTE 2: Name of the message flows will be determined during normative.
#### 7.50.2.2 ECS querying ECS-ER
When required to find a partner ECS, the ECS queries the ECS-ER by providing
information such as the location of the UE, application required by the UE
etc. In response the ECS-ER provides ECS configuration information of partner
ECS(s) providing the required application at the location indicated by the
primary ECS. Figure 7.50.2.2-1 illustrates the procedure.
Pre-conditions:
1\. The ECS is part of a federation and has the address information of the
ECS-ER.
2\. The ECS has received a service provisioning request from an EEC or a T-EES
discovery request from an EES, where EDN information for the requested
application is not available at the ECS.
Figure 7.50.2.2-1: ECS querying ECS-ER
1\. The ECS sends a ECS discovery request to the ECS-ER. The request contains
information of the ECS, Service Provisioning filters received from the EEC or
the EES and UE's current location. If the UE hosting the EEC is roaming in a
V-PLMN (determined using the serving PLMN information in the received service
provisioning request, or by interacting with the H-PLMN), then the ECS
discovery request includes the information of the serving PLMN i.e. the
V-PLMN.
2\. The ECS-ER authorizes the received request. If authorized, the ECS-ER
processes the request and gathers the information of partner ECS(s) that can
satisfy the query parameters received in step 1.
3\. The ECS-ER sends a ECS discovery response to the ECS. The response
includes ECS configuration information of the Partner ECS(s) available in the
H-PLMN and/or the V-PLMN, depending on the serving PLMN of the UE as indicated
in step 1. The Primary ECS caches the received information for further use.
NOTE 1: In addition to the request/response model, a subscribe/notify model
will also be provided by the ECS-ER, where ECS-ER will notify subscribed ECSs
based on local policies, subscription filters and ECSP partnership information
provided by the registered ECSs.
NOTE 2: To process the service provisioning requests from the EEC or retrieve
T-EES request from the S-EES, the ECS can use preconfigured information or
information configured via OAM, or a discovery mechanism as specified in
clause 7.50.2.2.
#### 7.50.2.3 Service provisioning for Federation and/or Roaming
If the Primary ECS is unable to fulfil Service Provisioning request of an EEC
it retrieves information of the partner ECS(s) that provide the required
application at UE's location and provide the list of retrieved partner ECS
configuration information to the EEC in the Service provisioning response.
Figure 7.50.2.3-1 illustrates the procedure.
Figure 7.50.2.3-1: ECS discovery for Federation and/or Roaming
1\. The EEC sends a service provisioning request to the Primary ECS. This
request is same as the service provisioning request specified in 3GPP TS
23.558 [2]. Additionally, in case the UE hosting the EEC is roaming to a
V-PLMN, the service provisioning request may include the V-PLMN ID.
2\. Upon receiving the request, the Primary ECS performs authorization and
policy enforcement as specified in 3GPP TS 23.558 [2].
3\. The Primary ECS identifies required EDN configuration information based on
the received request in step 1 and checks in step 2. The Primary ECS
determines that EDN configuration information for at least one of the required
applications (i.e. EAS) is not available.
4\. Based on the determination in step 3, the Primary ECS retrieves ECS
configuration information of partner ECS(s) that provide the required
application(s) at the UE's location. The Primary ECS can use for e.g.
preconfigured information, information configured via OAM, or a discovery
mechanism (see clause 7.50.2.2) as available.
NOTE: The Primary ECS can use for preconfigured information, information
configured via OAM, or a discovery mechanism as available in any order.
5\. On retrieving the ECS configuration information of partner ECS(s), the
Primary ECS applies any local policy or EEC profile-based filtering for
service differentiation.
6\. The Primary ECS sends service provisioning response to the EEC. The
response is same as specified in 3GPP TS 23.558 [2]. Additionally, it includes
a list of Partner ECS(s) which provide the applications required by the EEC.
The information includes ECS provider information, list of EAS(s) available
via the EES's registered with Partner ECS etc. The response either includes
the ECS address information, if the EEC is authorized to communicate directly
with the Partner ECS, or it includes an indication that the Partner ECS must
be reached via the Primary ECS. For the Partner ECS(s) that may be
communicated directly, the response also includes authorization information
required by the EEC to communicate with the Partner ECS.
The response may also include EDN configuration information for the EAS(s)
available via the Primary ECS, if any.
## 7.51 Solution #51: EEC sharing UE Mobility requirement
### 7.51.1 Architecture enhancements
None.
### 7.51.2 Solution description
The solution addresses KI#12.
#### 7.51.2.1 Enhancements to EEC Registration
The solution proposes the EEC to share indication for mobility support
requirement (e.g. whether the UE is fixed or not) in EEC registration request
message. The solution proposes to enhance EEC registration procedure specified
in clause 8.4.2.2.2 and EEC registration update procedure as specified in
clause 8.4.2.2.3 as follows:
a) The EEC registration request or EEC registration update request from the
EEC may include indication for mobility support requirement (e.g. whether UE
is fixed or not) to the EES.
b) Upon receiving the request from EEC, the EES stores the information as part
of EEC context for future usage.
NOTE: When the information received in the EEC registration request indicates
the mobility support requirement, the EES may decide not to subscribe to NEF
or NWDAF for UE location information or its analytics, but rather perform one
time location or less frequent fetch of the UE and store it.
##### 7.51.2.1.1 Enhancements to EEC registration request
Table 7.51.2.1.1-1 describes the additional information elements in the EEC
registration request and EEC registration update request from the EEC to the
EES.
Table 7.51.2.1.1-1: additional IE for EEC registration request and EEC
registration update request
* * *
Information element Status Description mobility support requirement O
**Indicates UE or device requires mobility support or not**
* * *
NOTE: How EEC gets information about UE being fixed is out of scope of
specification.
### 7.51.3 Solution evaluation
The solution addresses KI#12. The solution proposes to enhance the EEL
specifically EEC registration and EEC registration update procedures to
provide indication whether the UE requires mobility support or not to the EES.
The EES may use this information to decide whether or not to subscribe to NEF
or NWDAF for UE location information or its analytics, but rather perform one
time location or less frequent fetch of the UE **location** and store it. Such
a decision is up to EES implementation.
The solution is viable solution.
## 7.52 Solution #52: EES policy differentiation
### 7.52.1 Architecture enhancements
None.
### 7.52.2 Solution description
The KI#12 is about EEL service differentiation. EEL includes EEC, EES and ECS
(and possibly new entities in Rel-18 study) to support the applications over
the top.
In TS 23.558, Annex B.1, it says:
The edge computing service provider and the PLMN operator can be part of the
same organization.
In this solution, the scenario assumption is that:
\- the ECSP providing the EES and PLMN operator are the same organization.
\- the ECSP/EES provider (e.g. ECSP#1, EES provider#1) will only deploy its
EES in the edge and not deploy its own ECS for its EES, and the ECSP/EES
provider (e.g. ECSP#1, EES provider#1) will rely on another ECSP/ECS provider
(e.g. ECSP#2, ECS provider#2) to register its EES based on service agreement.
NOTE 1: Whether this solution also applies for ECSP providing both its EES and
its ECS (with EES registered in the ECS) can be determined in the normative
work.
Editor\'s note: Whether ASP only has service agreement with ESCP/ECS provider,
or both ESCP/ECS provider and ECSP/ECS provider is FFS.
Editor\'s note: Whether EEC only has service agreement with EES/ECS provider,
or both ESCP/ECS provider and ECSP/ECS provider is FFS.
For instance, the EES, after receiving EAS discovery request, obtains the PLMN
subscription data for the user. Then the EES acts differently when
provisioning EAS candidates to the service consumer (e.g. EEC) based on PLMN
subscription data for the user. For instance, policy can be the max. number of
applications for edge computing, e.g. EES can only support max. 5 applications
for a user without payment (for trial purpose in edge computing service).
Another example is temporal and spatial conditions for providing edge service
like EAS discovery under different Edge service levels. More detailed PLMN
subscription data for a user is implementation specific in EES and out of the
scope of the study.
NOTE 2: EEC is an application in the UE, which can be used by different users.
For instance, Alice pays 10 dollars per month to ECSP company X as EES
provider to enjoy VIP service for facilitating edge computing. While Bob is a
free user to ECSP company X who just wants to try company X provided EES
service. Company X's EES can provide differentiated service to different users
based on PLMN subscription data. In addition, in a deployment it is possible
that the company X's EES is one of many EESs managed by company Y's ECS (which
also manages other company's EES).
Editor\'s note: Whether the edge service related information in PLMN
subscription is stored in each EES or a central place by the EES provider is
FFS.
Since this is a user contract subscription with EES providers and ECS may host
multiple EESs provided by different ECSPs, the EEC needs to contact the EES(s)
which is provided by EES service provider(s) holding valid PLMN subscription
data for the user. This requires the EEC to provide its desired EES service
provider(s) in the service provisioning procedure as depicted in figure
7.52.2-2. With such information, the ECS is able to provision the EEC with
EES(s) based on EES registered provider information, i.e. if available, the
ECS identifies the EES(s) based on the UE-specific service information (e.g.
EES provider ID) at the ECS and the UE location.
Figure 7.52.2-2: Service provisioning -- Request/Response
Table 7.52.2-1 shows the additional impact for the information flow of the
service provisioning request.
Table 7.52.2-1: Service provisioning request
* * *
Information element Status Description EECID M Unique identifier of the EEC.
Security credentials M Security credentials resulting from a successful
authorization for the edge computing service. AC Profile(s) O Information
about services the EEC wants to connect to, as described in Table 8.2.2-1. EEC
Service Continuity Support O Indicates if the EEC supports service continuity
or not. The IE also indicates which ACR scenarios are supported by the EEC. UE
Identifier O The identifier of the UE (i.e. GPSI or identity token)
Connectivity information O List of connectivity information for the UE, e.g.
PLMN ID, SSID. UE location O The location information of the UE. The UE
location is described in clause 7.3.2. **EES provider identifiers** **O**
**The list of desired EES provider IDs, by the EEC.**
* * *
NOTE 3: The EES provider identifier is also applicable for the subscribe-
notify model of service provisioning procedure (i.e. included in the service
provisioning subscription request). This can be considered in the normative
work.
### 7.52.3 Solution evaluation
This solution addresses KI#12 which enables EEL service differentiation. The
EES is able to distinguish different users and applies different policies for
the user based on subscription information. In order to address the correct
EES having the corresponding PLMN subscription data for the user, the ECS is
able to identify the EES(s) during service provisioning procedure based on EEC
supplied EES provider identifier and registered EES provider identifier.
## 7.53 Solution #53: Support for EAS synchronization
### 7.53.1 Architecture enhancements
None.
### 7.53.2 Solution description
#### 7.53.2.1 EAS Discovery to request support for content synchronization
Figure 7.53.2.1-1 illustrates a scenario of EAS Discovery to request support
for content synchronization. To indicate support for content synchronization,
the EAS may include an indication in EAS registration request. The EES
requests the EES to discover other EASs who are involved in same group. The
EES discovers EASs with same EASID and checks whether required group is
available or not.
Pre-conditions:
1) EAS-1 and EAS-2 are from different service providers and are registered
with EES.
2) EAS-1 and EAS-2 support content synchronization.
Figure 7.53.2.1-1: EAS Discovery to request for content synchronization
1) The EAS-2 performs EAS registration with EES as specified in 3GPP TS
23.558. In the registration request, the EAS includes indication to support
content synchronization;
2) The EAS-1 sends EAS discovery request to discover EAS as specified in
clause 8.8.3.2 of 3GPP TS 23.558 to EES indicating the request is to initiate
content sharing with discovered EAS(s). The request may include group
identity.
3) Upon receiving the request, the EES authorizes the EAS, and if the EAS is
authorized to discover the EAS information, the EES identifies the EAS(s)
based on the provided EAS discovery filters and EAS(s) supporting content
synchronization. To apply discovery filters, the EES matches the ACID(s),
schedule of the EAS, EAS Geographical Service Area, EAS Topological Service
Area, etc.
NOTE 1: How group id and interaction between EES and EAS to discover EAS will
be considered in normative work.
4) The EES sends the EAS discovery response to EAS-1 including list of EAS(s)
which supports content synchronization.
5) EAS-1 and EAS-2 synchronizes the content which is out of scope of this
specification.
### 7.53.3 Solution evaluation
The solution address the KI#13 and specifically to open issue 2. The solution
enhances the EAS registration and Target EAS discovery procedure. The solution
enables the EAS to discover another EAS(s) with support for content
synchronization.
## 7.54 Solution #54: EEL assist the application layer to determine the common
EAS
### 7.54.1 Architecture enhancements
This solution is based on architecture option in clause 6.5.1.
### 7.54.2 Solution description
#### 7.54.2.1 General
The following solution corresponds to the key issue#17: Discovery of a common
EAS.
The scenario assumption is the Edge enabler layer can provide a mechanism to
support common EAS selection for the centralized group management server, and
the group information is created by a centralized group management server
(e.g. login server for gaming), meanwhile the association between the user and
group is also managed by the centralized group management server. The EEL
should provide the supporting service to assist the centralized group
management server for the EAS selection. This solution is used for the dynamic
group to discover a common EAS.
{width="4.540277777777778in" height="2.466666666666667in"}
Figure 7.54.2.1-1: Scenario for EEL assisting the application layer
#### 7.54.2.2 Procedure
In this solution, the centralized group management server (e.g. login server
for gaming) is responsible to determine the group, and the group information
is also maintained by the centralized group management server. The EEL only
provide the Edge deployment information to the centralized group manamgement
server. Furthermore, this solution is intend to provide the assist for the
centrailize group management server (e.g. login server for gaming) and this
solution will not impact the R17 EDGEAPP architecutre. Besides, the
centralized group management server can be the CAS which has the capability to
allocate and manage the group.
Pre-conditions:
1\. CAS allocated the group and manage the association between the user and
group based on the service request from AC.
2\. CAS can be pre-configured with the ECS address information based on the
business relationship between ECSP and ASP.
{width="4.2652777777777775in" height="1.9395833333333334in"}
Figure 7.54.2.2-1: EEL assisting the application layer
> 1\. The CAS send the sevice provisioning request message to the ECS. The
> request message contains the group location information based on the UE
> location of the certain group. The ECS can return the EES information based
> on the group location information.
>
> 2\. Then the CAS send the EAS discovery request message to the EES. The
> request message contains AC information and the group location information
> based on the UE location of the certain group. The EES can return the EAS
> information based on the AC information and the group location information.
>
> 3\. Upon receiving the EAS information, the CAS send the common EAS
> information to the AC which in the certain group.
NOTE 1: When UE group location changed due to UE join/leave, the CAS can
determine whether the common EAS need to be changed.
NOTE 2: CAS can perform the service provisioning and EAS discovery procedure.
NOTE 3: Any impacts due to new entity CAS triggering service provisioning and
EAS discovery shall be considered during the normative phase.
NOTE 4: The interaction between AC and EAS is out of 3GPP scope.
### 7.54.3 Solution evaluation
This clause provides an evaluation of the solution.
This solution address KI#17. This solution is used for the dynamic group case,
the EEL provide the service provisioning service and EAS discovery service to
the application layer (e.g. centralized group management server). The EEL
implementation will not be impacted in this solution. This is a viable
solution.
## 7.55 Solution #55: Non-roaming UE location invocation
### 7.55.1 Architecture enhancements
None.
### 7.55.2 Solution description
#### 7.55.2.1 General
This solution addresses key issue 22
The edge resource of OP A need to know OP B's information to invoke UE
location information. The OP A's EES or EAS should receive OP B's information
by EAS discovery request or pre configure by agreement OP A with OP B.
Operator A's entities can invoke operator B\'s NEF using the PLMN information
provided from the EAS discovery request message. The EES A can obtain the
PLMNID of the service provider B from the EAS discovery request of the EES B.
The EES A may request the terminal location from the NEF B by utilizing the
obtained PLMNID of the business operator B.
Editor's note: It is FFS whether the solution is used to solve the
solution#43, 44, 45.
Editor's note: It is FFS whether the EES#a need to obtain this information
from OP B's NEF in solution #43 and 44.
Table 7.26.2.1-2: EAS discovery request
* * *
Information element Status Description Requestor identifier M The ID of the
requestor (e.g. EECID) UE Identifier O The identifier of the UE (i.e. GPSI or
identity token) Security credentials M Security credentials resulting from a
successful authorization for the edge computing service. EAS discovery filters
O Set of characteristics to determine required EASs, as detailed in Table
8.5.3.2-2. UE location O The location information of the UE. The UE location
is described in clause 7.3.2. Connectivity information O List of connectivity
information for the UE, e.g.PLMN ID Target DNAI (NOTE) O Target DNAI
information which can be associated with potential T-EAS(s) EEC Service
Continuity Support O Indicates if the EEC supports service continuity or not.
The IE also indicates which ACR scenarios are supported by the EEC or, if this
message is sent by the EEC to discover a Tâ€‘EAS, which ACR scenario(s) are
intended to be used for the ACR. EES Service Continuity Support (NOTE) O The
IE indicates if the S-EES supports service continuity or not. The IE also
indicates which ACR scenarios are supported by the S-EES or, if the EAS
discovery is used for an Sâ€‘EES executed ACR according to clause 8.8.2.5, which
ACR scenario is to be used for the ACR. EAS Service Continuity Support (NOTE)
O The IE indicates if the S-EAS supports service continuity or not. The IE
also indicates which ACR scenarios are supported by the S-EAS or, if the EAS
discovery is used for an Sâ€‘EAS decided ACR according to clause 8.8.2.4, which
ACR scenario is to be used for the ACR. NOTE: This IE shall not be included
when the request originates from the EEC.
* * *
#### 7.55.2.2 Non-roaming UE location invocation of EES
Pre-conditions:
> 1\. OP A may have a PLMN address of OP B as a network agreement with OP B;
>
> 2\. When the EEC requests service provisioning to the ECS, it may include
> PLMN information serving the UE;
>
> NOTE 1: At least one of the above operations shall be performed.
Figure 7.55.2-1: UE location invocation to the OPB's NEF
In Figure 7.55.2-2, The EES A or EAS A may obtain an NEF B address through an
edge node sharing agreement between OP A and OP B. The EES A may also receive
an EAS A discovery request message from the EES B, including OP B
information.This enhances the UE location API, one of the EES exposure
function to EAS in TS 23.558 8.6.2.
1 EES A can receive UE location API call messages from EAS A or capture
services that require UE location (e.g. UE location tracking, UP route
management event notification, traffic impact, etc.) EES A may generate UE
location request messages using PLMN ID,, and UEID.
2\. The EES A may check or subscription UE location information to the NEF B.
If EAS A can use NEF B\'s API, it may directly send a UE location information
request message or a UE location subscription request message.
NOTE: The EES utilizes the capabilities of the 3GPP core network as specified
in clause TS 23.558 8.10.3.
The NEF B can perform a procedure to authenticate the requested edge entity
and UE by checking the UEID and PLMN ID in the message sent by EES A.
The NEF B may send UE location information in the notification.
If EES A receives a UE location invoke message from EAS A, EES A may provide
UE location information to EAS A. or;
When the NEF B receives a request for UE location information from the EAS A,
the NEF B may send the UE location information in the notification message and
provide the UE location to the EAS A.
### 7.55.3 Solution evaluation
This solution introduces how OP B\'s EAS and EES acquire UE location
information using OP A\'s network functions of when using edge resources of
service providers that are not subscribed by UE in ENS scenarios.
# 8 Deployment scenarios
NOTE: Deployment models based on conclusions of Key issues will be considered
in the normative work.
# 9 Involved entities and relationships
## 9.1 Federation and Roaming
### 9.1.1 General
This clause describes the relationship of edge computing service providers,
PLMN operators, application service providers and end users, taking federation
and roaming into account.
Figure 9.1.1: Relationships involved in edge computing service -- federation
and roaming
The end user is the consumer of the applications provided by the application
service provider (ASP). End user:
\- can have ASP service agreement with a single or multiple application
service providers.
\- has a PLMN subscription arrangement with a PLMN operator (HPLMN). The UE
used by the end user can register on the HPLMN network and network of its
roaming partners.
\- can have authorization to access edge services of a single or multiple
ECSPs.
The ASP consumes the edge services (e.g. infrastructure, platform) provided by
the ECSP. ASP:
\- can have edge computing service provider service agreement with a single or
multiple ECSPs.
The PLMN operator provides connectivity between the end user and the edge
services provided by the ECSP. PLMN operator:
\- can have the PLMN operator service agreement with a single or multiple
ECSPs.
\- can have service agreement for roaming including agreements for Edge
Computing services, and/or federation with a single or multiple PLMN
operators.
The ECSP provides the edge services. ECSP:
\- can have PLMN operator service agreement with a single or multiple PLMN
operators which provide edge computing support.
\- can have federation partnership to share edge services with a single or
multiple ECSPs.
The ECSP and the PLMN operator can be part of the same organization.
# 10 Overall evaluation
## 10.0 General
This clause provides a summary of architecture enhancements and solution
evaluations and related solution assumptions. The evaluations and solutions
are applicable only for the corresponding scenario assumptions..
## 10.1 Architecture enhancements
### 10.1.1 Support for Terminal Equipment (TE)
The architecture enhancement captured as option#4 introduces support for TEs
in the EdgeApp architecture. The interface between the TEs and the UEs running
the EEC is out of scope of SA6.
With this enhancements ACs running on a TE will be able to communicate with
the EEC running on a UE to avail services of the EEC over EDGE-5 interface. No
specific enhancement over EDGE-5 is identified during the study to support
this functionality.
### 10.1.2 Roaming architecture
The architecture enhancement captured as option#1 introduces two ways to
support roaming UEs hosting the EEC in the EdgeApp architecture as follows:
\- Local breakout roaming architecture: Local breakout to access H-ECS
> This architecture uses H-ECS and V-ECS associated with HPLMN and VPLMN,
> respectively. In the LBO roaming scenario, the EEC is able to communicate
> with the H-ECS to obtain the information for V-ECS via Local Breakout
> Session. Likewise, the EEC accesses V-ECS and V-EES via Local Breakout
> Session.
>
> A new reference point EDGE-10 is defined between H-ECS and V-ECS to support
> for the EEC in the roaming UE to access V-ECS.
\- Home-routed roaming architecture: Home routed EDGE-4 access to H-ECS
> In the HR roaming scenario, the roaming architecture assumes that the local
> access to the EDN of the VPLMN is supported for the UE hosting the EEC via
> HR roaming session. The traffic toward the EDN of the VPLMN (i.e. EDGE-1
> traffic and application data traffic) is not routed via the HPLMN while the
> traffic between the EEC and H-ECS is routed via VPLMN toward HPLMN. Such a
> local access to the EDN of the VPLMN in the scenario where HR roaming
> session is used requires enhancements in 5G core networks, which in the
> scope of SA2.
>
> A new reference point EDGE-10 is defined between H-ECS and V-ECS to support
> for the EEC in the roaming UE to access V-ECS.
### 10.1.3 Architecture for Federation and Roaming
The architecture enhancement captured as option#12 enhances the ECS with a new
functionality of an Edge Repository. The enhanced ECS accepts registration of
other ECSs of the ECSP. The ECS registration also enables ECS to publish their
registered EASs information and the enhanced ECS maintains information of
which application is available via which ECS for the ECSP.
With this enhancement, an ECS can query the ECS-ER to find partner ECS(s) that
provide the required application. This improves the accuracy and reduces the
time taken to generate the service provisioning response sent to the EEC or
the EES; therefore improving the chances of service continuity during ACR
procedures.
## 10.2 Key issue evaluations
### 10.2.0 General
All the key issues and solutions specified in this technical report are listed
in Table 10.2.0-1.
The table provides a mapping of the key issues to the related solutions. It
also lists the dependencies on other working groups.
Table 10.2.0-1 Key issue and solutions
+--------------+--------------+--------------+-------+--------------+ | Key issues\ | Solution | Solution | | Dependency | | (evaluation | | | | on other | | clause | | (clause | | working | | reference) | | reference) | | groups | +--------------+--------------+--------------+-------+--------------+ | _Key issue |_ Solution | _7.1_ | | | | #1: | #1: Service | | | | | Enhanced | provisioning | | | | | notification | via push | | | | | service to | n | | | | | the EEC _| otification_ | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.3 _| | | | | #3: Service | | | | | | provisioning | | | | | | triggering | | | | | | via SMS over | | | | | | NAS_ | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.20 _| | | | | #20: | | | | | | Propagation | | | | | | of EEL | | | | | | n | | | | | | otifications | | | | | | to EEC using | | | | | | Edge | | | | | | Notification | | | | | | Server_ | | | | +--------------+--------------+--------------+-------+--------------+ | _Key issue |_ Solution | _7.8_ | | | | #2: | #8: EAS | | | | | Enablement | Service API | | | | | of Service | enablement | | | | | APIs exposed | using CAPIF _| | | | | by EAS_ | | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.11 _| | | | | #11: A | | | | | | deployment | | | | | | option for | | | | | | alignment | | | | | | with ETSI | | | | | | MEC using | | | | | | CAPIF_ | | | | +--------------+--------------+--------------+-------+--------------+ | _Key issue |_ Solution | _7.6_ | | | | #3: | #6: ACR | | | | | Enhancements | update in | | | | | to service | service | | | | | continuity | continuity | | | | | planning _| planning_ | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.7 _| | | | | #7: EES | | | | | | monitors UE | | | | | | mobility for | | | | | | service | | | | | | continuity | | | | | | planning_ | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.12 _| | | | | #12: | | | | | | Service | | | | | | continuity | | | | | | planning | | | | | | permission_ | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.21 _| | | | | #21: | | | | | | Prediction | | | | | | expiration | | | | | | time for | | | | | | service | | | | | | continuity | | | | | | planning | | | | | | enhancement_ | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.37 _| | | | | #37: ACR | | | | | | request | | | | | | trigger | | | | | | timing_ | | | | +--------------+--------------+--------------+-------+--------------+ | _Key issue |_ Solution | _7.22_ | | _SA3_ | | #4: EDGE-5 _| #22: | | | | | | Support | | | | | | simultaneous | | | | | | EAS | | | | | | connectivity | | | | | | in ACR_ | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.34 _| | | | | #34: EDGE-5 | | | | | | APIs_ | | | | +--------------+--------------+--------------+-------+--------------+ | _Key issue |_ Solution | _7.11_ | | _SA5_ | | #5: | #11: A | | | | | Alignment of | deployment | | | | | EDGEAPP and | option for | | | | | ETSI MEC _| alignment | | | | | | with ETSI | | | | | | MEC using | | | | | | CAPIF_ | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.36 _|_ SA5 _| | | | #36: | | | | | | Alignment of | | | | | | EDGEAPP and | | | | | | ETSI MEC_ | | | | +--------------+--------------+--------------+-------+--------------+ | _Key issue |_ Solution | _7.4_ | | | | #6: Edge | #4: ECS | | | | | services | discovery | | | | | support | through | | | | | across | serving ECS | | | | | ECSPs _| to support | | | | | | edge | | | | | | services | | | | | | across | | | | | | ECSPs_ | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.5 _| | | | | #5: ECS | | | | | | enhancement | | | | | | to discover | | | | | | EESs via | | | | | | other ECSs | | | | | | to support | | | | | | edge | | | | | | services | | | | | | across | | | | | | ECSPs_ | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.13 _| |_ SA2 _| | | #13: Update | | | | | | ECS | | | | | | c | | | | | | onfiguration | | | | | | information_ | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.43 _| | | | | #43: EAS | | | | | | discovery | | | | | | for Edge | | | | | | node | | | | | | sharing_ | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.50 _| |_ SA3 _| | | 50: Enhanced | | | | | | ECS for | | | | | | federation | | | | | | of services_ | | | | +--------------+--------------+--------------+-------+--------------+ | _Key issue |_ Solution | _7.2_ | | | | #7: | #2: Traffic | | | | | Application | filter | | | | | traffic | support for | | | | | filter | EDGE-3 API | | | | | exposure _| addressing | | | | | | application | | | | | | traffic | | | | | | detection_ | | | | +--------------+--------------+--------------+-------+--------------+ | _Key issue |_ Solution | _7.15_ | | | | #8: EAS | #15: | | | | | selection | Initial EAS | | | | | sync | selection | | | | | hronization _| declaration_ | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.39 _| | | | | #39: EAS | | | | | | selection | | | | | | syn | | | | | | chronization | | | | | | at | | | | | | r | | | | | | egistration_ | | | | +--------------+--------------+--------------+-------+--------------+ | _Key issue |_ Solution | _7.32_ | | _SA5_ | | #9: | #32: | | | | | Enhancement | Dynamic EAS | | | | | of dynamic | i | | | | | EAS | nstantiation | | | | | i | triggering | | | | | nstantiation | and | | | | | triggering _| n | | | | | | otification_ | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.33 _| |_ SA5 _| | | #33: | | | | | | Support for | | | | | | EEC | | | | | | Discovery of | | | | | | EAS(es) | | | | | | before | | | | | | in | | | | | | stantiation_ | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.40 _| |_ SA5 _| | | #40: EAS | | | | | | i | | | | | | nstantiation | | | | | | status | | | | | | provisioned | | | | | | by ECS_ | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.42 _| |_ SA5 _| | | #42: EAS | | | | | | selection | | | | | | and | | | | | | i | | | | | | nstantiation | | | | | | in EES_ | | | | +--------------+--------------+--------------+-------+--------------+ | _Key issue |_ Solution | _7.4_ | | _SA3_ | | #10: | #4: ECS | | | | | Support for | discovery | | | | | roaming UEs _| through | | | | | | serving ECS | | | | | | to support | | | | | | edge | | | | | | services | | | | | | across | | | | | | ECSPs_ | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.5 _| |_ SA3 _| | | #5: ECS | | | | | | enhancement | | | | | | to discover | | | | | | EESs via | | | | | | other ECSs | | | | | | to support | | | | | | edge | | | | | | services | | | | | | across | | | | | | ECSPs_ | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.13 _| |_ SA2 _| | | #13: Update | | | | | | ECS | | | | | | c | | | | | | onfiguration | | | | | | information_ | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.14 _| |_ SA3 _| | | #14: V-ECS | | | | | | Discovery | | | | | | via the | | | | | | H-ECS_ | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.50 _| |_ SA3 _| | | 50: Enhanced | | | | | | ECS for | | | | | | federation | | | | | | of services_ | | | | +--------------+--------------+--------------+-------+--------------+ | _Key issue |_ Solution | _7.24_ | | | | #11: ACR | #24: ACR | | | | | between EAS | between CAS | | | | | and Cloud | and EAS _| | | | | Application | | | | | | Server_ | | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.25 _| | | | | #25: ACR | | | | | | between EAS | | | | | | and Cloud | | | | | | Application | | | | | | Server_ | | | | +--------------+--------------+--------------+-------+--------------+ | _Key issue |_ Solution | _7.12_ | | | | #12: EEL | #12: | | | | | service | Service | | | | | diff | continuity | | | | | erentiation _| planning | | | | | | permission_ | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.16 _| | | | | #16: EAS | | | | | | discovery | | | | | | for | | | | | | different | | | | | | users_ | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.51 _| | | | | #51: EEC | | | | | | sharing UE | | | | | | Mobility | | | | | | requirement_ | | | | +--------------+--------------+--------------+-------+--------------+ | _Key issue |_ Solution | _7.31_ | | | | #13: Edge | #31: | | | | | enabler | Discover | | | | | layer | common EAS _| | | | | support for | | | | | | EAS | | | | | | sync | | | | | | hronization_ | | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.53 _| | | | | #53: | | | | | | Support for | | | | | | EAS | | | | | | sync | | | | | | hronization_ | | | | +--------------+--------------+--------------+-------+--------------+ | _Key issue |_ Solution | _7.9_ | | | | #14: | #9: | | | | | Application | Application | | | | | traffic | traffic | | | | | influence | influence | | | | | for | trigger from | | | | | initially | EAS _| | | | | selected | | | | | | EAS_ | | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.15 _| | | | | #15: | | | | | | Initial EAS | | | | | | selection | | | | | | declaration_ | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.17 _| | | | | #17: | | | | | | Traffic | | | | | | influence | | | | | | for initial | | | | | | EAS | | | | | | discovery_ | | | | +--------------+--------------+--------------+-------+--------------+ | _Key issue |_ Solution | _7.10_ | | | | #15: | #10: low | | | | | Support of | power mode | | | | | constrained | support _| | | | | devices for | | | | | | Edge_ | | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.18 _| | | | | #18: | | | | | | Constraint | | | | | | device in | | | | | | EDGEAPP_ | | | | +--------------+--------------+--------------+-------+--------------+ | _Key issue |_ Solution | _7.23_ | | _SA2, SA3_ | | #16: | #23: UE | | | | | support of | id | | | | | NAT deployed | entification | | | | | within the | with NAT _| | | | | edge data | | | | | | network_ | | | | | +--------------+--------------+--------------+-------+--------------+ | _Key issue |_ Solution | _7.27_ | | | | #17: | #27: | | | | | Discovery of | Enabling AC | | | | | a common | Association | | | | | EAS _| Aware | | | | | | services by | | | | | | selecting | | | | | | common EASs_ | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.28 _| | | | | #28: Common | | | | | | EAS | | | | | | discovery | | | | | | using EAS | | | | | | selection | | | | | | information_ | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.29 _| | | | | #29: | | | | | | Discovery of | | | | | | a common | | | | | | EAS_ | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.30 _| | | | | #30: Common | | | | | | EAS | | | | | | selection_ | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.31 _| | | | | #31: | | | | | | Discover | | | | | | common EAS_ | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.54 _| | | | | #54: EEL | | | | | | assist the | | | | | | application | | | | | | layer to | | | | | | determine | | | | | | the common | | | | | | EAS_ | | | | +--------------+--------------+--------------+-------+--------------+ | _Key issue |_ Solution | _7.26_ | | | | #18: EAS | #26: | | | | | bundles _| Bundled | | | | | | EASs_ | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.46 _| | | | | #46: EEC | | | | | | selected ACR | | | | | | scenario for | | | | | | EAS bundles_ | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.47 _| | | | | #47: EES | | | | | | determines | | | | | | the selected | | | | | | ACR scenario | | | | | | for EAS | | | | | | bundles_ | | | | +--------------+--------------+--------------+-------+--------------+ | _Key issue |_ Solution | _7.19_ | | | | #19: ACR | #19: EES | | | | | scenario | determines | | | | | combination _| the selected | | | | | | ACR | | | | | | scenario_ | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.35 _| | | | | #35: EEC | | | | | | selected ACR | | | | | | scenarios_ | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.38 _| | | | | #38: ACR | | | | | | c | | | | | | oordination_ | | | | +--------------+--------------+--------------+-------+--------------+ | _Key issue |_ Solution | _7.49_ | | | | #20: | #49: ACR | | | | | Supporting | for EAS | | | | | composite | composition _| | | | | EASs_ | | | | | +--------------+--------------+--------------+-------+--------------+ | _Key issue |_ Solution | _7.22_ | | | | #21: | #22: | | | | | Si | Support | | | | | multaneously | simultaneous | | | | | EAS | EAS | | | | | connectivity | connectivity | | | | | in ACR _| in ACR_ | | | | +--------------+--------------+--------------+-------+--------------+ | _Key issue |_ Solution | _7.43_ | | | | #22: EAS | #43: EAS | | | | | discovery in | discovery | | | | | Edge Node | for Edge | | | | | sharing | node | | | | | scenario _| sharing_ | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.44 _| | | | | #44: EAS | | | | | | discovery | | | | | | for Edge | | | | | | node | | | | | | sharing_ | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.45 _| | | | | #45: EAS | | | | | | discovery in | | | | | | Edge Node | | | | | | sharing | | | | | | scenario_ | | | | +--------------+--------------+--------------+-------+--------------+ | | _Solution |_ 7.55 _| | | | | #55: | | | | | | Non-roaming | | | | | | UE location | | | | | | invocation_ | | | | +--------------+--------------+--------------+-------+--------------+ | _Key issue |_ Solution | _7.48_ | | | | #23: | #48: Edge | | | | | Reliable | server set | | | | | Edge | and edge | | | | | service _| service set_ | | | | +--------------+--------------+--------------+-------+--------------+ | _Key issue |_ Solution | _7.41_ | | | | #24: SEAL | #41: | | | | | capability | Interaction | | | | | access for | with ADAES | | | | | EEL support _| for edge | | | | | | load | | | | | | analytics_ | | | | +--------------+--------------+--------------+-------+--------------+
### 10.2.1 Key issue #1: Enhanced notification service to the EEC
The open issues studied in the key issue #1 are as follows:
1\. Whether and how the EEC acquires the notification target address or a
notification channel URI to receive the notifications?
2\. Whether and how EEC, ECS and EES support push notification mechanism.
Whether and what additional functional entity is necessary for this?
3\. How are the EEC subscriptions and/or notification targets treated in
mobility scenario (e.g. during ACR scenario)?
4\. Whether and how to utilize application triggering method specified in 3GPP
TS 23.501 [5] to provide notifications to the EEC?
To address the open issues aforementioned, there are three solutions proposed
as follows:
\- Solution #1: Service provisioning via push notification
\- It utilizes the push notification mechanism to enhance the service
provisioning procedure, assuming that at least one push server is available to
ECS and the UE has push function supporting the interaction with the push
server.
\- Solution #3: Service provisioning triggering via SMS over NAS
\- It utilizes application triggering (device triggering) via SMS over NAS
method specified in 3GPP TS 23.501 [5] to inform the EEC of the need to
perform service provisioning.
\- Solution #20: Propagation of EEL notifications to EEC using Edge
Notification Server
\- It proposes a centralized notification server, called Edge Notification
Server, to enhance EEL\'s notifications delivery mechanism to EEC. The
proposed Edge Notification Server interacts with EEC, EES and ECS respectively
via the newly proposed interfaces as described in the clause 6.3.
The Solution #1 provides detailed operations of EEC and ECS to enable the
service provisioning via the push notification mechanism.
The Solution #3 provides a detailed interaction between EEC and ECS to check
if the SMS over NAS is supported and accompanied EDGE-8 operation of ECS for
triggering EEC to perform service provisioning request.
The Solution #20 provides architecture enhancements using an Edge Notification
Server, which is an optional functional entity. It also proposes a detailed
role of the Edge Notification Server and procedures between ENS and other
functional entities (EEC, EES and ECS). The Edge Notification Server
functionality will be specified as generic notification service in SEAL TS
23.434 [23] by generalizing to vertical applications. Edge Notification Server
functionality leverages generic notification service from SEAL TS 23.434 [23].
The above enhanced notification services utilizing push notification,
application triggering via SMS over NAS and leveraging generic notification
service from SEAL in lieu of Edge Notification Server will be addressed in the
normative phase.
Push notification service in Solution #20 will be leveraged (including generic
notification service from SEAL TS 23.434) by Solution #1, during service
provisioning.
### 10.2.2 Key issue #2: Enablement of Service APIs exposed by EAS
The open issues studied in the key issue #2 are as follows:
1\. Identify any gaps in CAPIF to enable EAS Service APIs in the EDGEAPP
architecture in terms of e.g. service-specific attributes for API
publish/discovery, API availability subscription/notification across EES/CCF
2\. If any, whether and how to enhance CAPIF capabilities to address the gap
identified as above
In order to address the open issues aforementioned, there are two solutions
proposed as follows:
\- Solution #8: EAS Service API enablement using CAPIF
\- It exploits CAPIF as specified in 3GPP TS 23.222 [16] to support
publication/discovery, and change subscription of EAS Service APIs for API
invoking by the other EASs
\- Solution #11: A deployment option for alignment with ETSI MEC using CAPIF
\- It exploits CAPIF as specified in 3GPP TS 23.222 [16] as a deployment
option for exposing EAS Service APIs to ETSI MEC entities (i.e. MEP and MEC
applications)
The Solution #8 provides 1) a detailed role of EAS and EES as CAPIF entities
in order to support publication/discovery, and change subscription of EAS
Service APIs; and 2) a new IE, Service KPIs, for CAPIF APIs.
The Solution #11 provides a detailed role of EAS and EES as CAPIF entities in
order to support discovery and invocation of EAS Service APIs for ETSI MEC
entities.
EES supporting EAS\'s and other entity\'s (e.g. ETSI MEP or MEC App.) access
to service APIs exposed by other EAS, in the context of CAPIF, will be
addressed in the normative phase. The newly identified IE for CAPIF APIs has
an impact to 3GPP TS 23.222 [16] to be addressed in the normative phase.
### 10.2.3 Key issue #3: Enhancements to service continuity planning
The open issues studied in the Key Issue#3 are as follows:
Open Issues:
1\. How to rely on the capability of EES/EEC to detect whether the UE moves to
the predicted location or not for service continuity planning?
2\. Whether and how the EEL can support the determination of the ACR request
trigger timing in case of service continuity planning?
3\. How to deal with scenarios when the ACR needs to be modified, e.g. due to
UE mobility?
4\. Whether and what additional capability exposure is required from the 5GS
(e.g. NWDAF, OAM) to enhance the service continuity planning?
5\. Potential impact on information exchanged between EAS and EEL.
6\. Potential impact on information to communicate within the EEL.
This clause provides an overall evaluation of the key issue #3: Enhancements
to service continuity planning. The solution #6, solution #7, solution#12,
solution#21, solution#37 cover different aspects for the open issue in the
KI#3.
Solution#6 addresses the open issue #3 by introducing a new procedure to
modify ACR parameters. Specifying the signaling required for the procedure are
to be addressed in the normative phase (without impacting AC).
The solution #7 is used for solving the open issue#6. And solution #7 is
applicable to the scenario where the EAS may not have the capability of
monitoring the UE mobility for service continuity planning. Solution #7 will
not impact the EDGEAPP architecture defined in the Rel-17.
The Solution #12 enables to allow the service continuity planning selectively
for a given UE or an application. This principle of Solution # 12 is that the
permission of service continuity planning can be determined by the EES for the
purpose of service differentiation, then the EEC performs the required
detection or acquisition of the planned or predicted UE mobility behaviour for
the EASs allowed for service continuity planning according to the determined
ACR modes. The principle of solution #12 is to be addressed in the normative
work. Further investigation in normative work is required for sol#12 to
evaluate backward compatibility issue inthis solution.
Solution #21 addresses KI#3 by including a prediction expiration time within
ACR request from the EEC. This information can be used by T-EAS to adjust its
waiting time for the UE to reach the service area. It is proposed to update
the ACR request in normative phase to include prediction expiration time.
Solution #37 covers open issue #2, open issue #5, and open issue #6 of KI#3.
It introduces \"General context holding timing\" IE in the EAS profile. This
information can be used by the EEC to trigger ACR request before reaching
T-EAS service area when predicted or planned to move to the service area
within the time provided in the IE. It is proposed to update TS 23.558
according to what is proposed in solution #37 in the normative phase.
### 10.2.4 Key issue #4: EDGE-5
KI#4 required study of multiple open issues related to the interface between
the Application Client and the Edge Enabler Client.
Solution #34 provides a set of procedures that fulfil the open issues. No need
to modify the cardinalities of EDGE-5 interface were identified during the
study. The solution provides methods for an AC to register to an EEC, perform
EAS discovery, perform ACR related requests in different modes and subscribe
for EEC capabilities. Architecture enhancement option#4 depicts how
constrained devices such as TEs can utilize EDGE-5 to communicate with an EEC
running on a UE.
No need was identified during the study to provide methods for discovery of
EECs by the AC or for detection of abnormal termination of EEC or ACs.
Aspects related to mutual authentication, authorization and user consent are
SA3\'s responsibility. Any recommendation from SA3 shall be considered during
normative phase.
NOTE: Coordination with CT groups is required for this KI.
### 10.2.5 Key issue #5: Alignment of EDGEAPP and ETSI MEC
The open issues of this KI are as follows:
1\. Study and analyse different deployment options of EDGEAPP and ETSI MEC
platforms.
2\. Functional architecture and gap analysis between EDGEAPP and ETSI MEC to
determine complementary and possibly overlapping APIs and other related
functionalities. Annex A captures a comparison of the architectures to
facilitate the gap analysis.
3\. Recommendation and enhancements based upon the outcome of (1) and (2).
The principle and requirements for the alignment of EDGEAPP and ETSI MEC have
been captured in clause 5.4, where the following alignment aspects have been
listed:
a. alignment of EAS profile (EDGEAPP) and appInfo (ETSI MEC),
b. alignment of EDGE-3/Mp1 reference points
c. alignment of EDGE-9/Mp3 reference points
d. usage of CAPIF between the two architectures
Additionally, two solutions have been proposed to address the above open
issues:
\- Solution #11: This solution relies on the EDGEAPP architecture as specified
in TS 23.558 [2] and CAPIF as specified in TS 23.222 [16].
\-- The solution extends the roles of EAS, EES and ETSI MEC entities like MEP
as CAPIF entities to support the alignment of discovery and invocation of
EES/EAS Service APIs and MEC Services by ETSI MEC and EDGEAPP entities,
respectively.
\-- The solution addresses alignment aspect d in clause 5.4.
\- Solution #36: This solution is based on the principles set in clause 5.4
and provides a mapping between overlapping APIs in EDGEAPP and ETSI MEC.
\-- The solution addresses the alignment aspects a, b and c in clause 5.4.
\-- The solution enables the application to perform registration on EES
according to the mapping between appInfo [14] and EAS profile. This aspect of
the solution addresses the alignment aspects a and b in clause 5.4.
\-- The solution in the present study does not identify overlap or equivalent
functionality between the APIs on EDGE-9 and Mp3 interfaces; therefore,
currently no alignment is required. This aspect of the solution addresses the
alignment aspect c in clause 5.4.
The solutions do not require changes in architecture and procedures.
### 10.2.6 Key issue #6: Edge services support across ECSPs
The open issues of this KI are as follows:
1\. Identify potential enhancements to the existing architecture defined in
Rel-17 to enable inter-ECSP interactions.
2\. Study potential impact to support ECS discovery and service provisioning
based on UE location.
3\. Whether and how EEC registers with an EES deployed by a partner ECSP?
4\. Study potential impact to support service continuity.
5\. How is EEC context continuity maintained across ECSPs with or without ACR?
6\. How the ECS can discover a T-EES having SLA with S-EES based on the
federation agreements between ECSPs before EDGE-9 interaction?
To address the open issues the following solutions has been proposed:
\- Solution #4: ECS discovery through serving ECS to support edge services
across ECSPs
\- After discovering another ECS2 which may have suitable EES, the ECS1 sends
respond to the EEC or source EES with the ECS2 information. Then the EEC or
source EES can send the request to the ECS2 directly to retrieve suitable EES.
\- Solution #4 relies on having sufficient information (e.g. ECSP policy, UE-
specific service information, or ECSs information) configured or available in
an ECS to determine candidate.
\- Solution #5: ECS enhancement to discover EESs via other ECSs to support
edge services across ECSPs
\- The EEC or the EES gets the requested EES information from ECS2 via ECS1.
If the ECS1 cannot discover a suitable EES to serve the UE at the current
location (e.g. all the EESs registered on the ECS1 do not cover the given UE
location), the ECS1 contacts another ECS2 which may have suitable EES and
discovers the EES via ECS2.
\- Solution #5 relies on preconfigured information of ECS2 at ECS1.
> NOTE: In Solutions #4 and #5, to configure sufficient information to the
> ECS, the ECS(s) information related to other ECSPs may be available at the
> OAM system due to the inter-ECSP relationship establishment, which is then
> used by the OAM system of an ECSP to configure its ECS. If required, the
> information of available applications in a partner ECSP and the
> corresponding service areas are included in the configured information.
> Inter-ECSP relationship establishment is according to the business
> relationship between the ECSPs and is out of the scope of SA6. The OAM to
> configure its ECS for inter-ECSP relationship is under the scope of SA5.
\- Solution #13: Update ECS configuration information
\- This solution proposes to include additional optional IEs in the ECS
configuration information. The information can be used in solutions 4 and 5 to
find and select ECS2. ECS information shared in Solution 13 is limited to the
ECSs whose information is available through H-PLMN.
\- Solution #50: Enhanced ECS for federation of services
\- When configured information is not available with the ECS, with the
enhancement proposed in this solution ECS can query an ECS-ER to obtain
information of partner ECS that provide service provisioning for a particular
application. This allows to reduce the time required to provide service
provisioning response while ensuring that the required application is
available.
Solution #5 is applicable to scenarios where the UE has home routing agreement
with its service provider for service provisioning.
Solution #13 provides additional optional IEs to be used within solution #4
and #5 to find and select ECS2.
Solution #50 can be used along with solution #4, solution #5 and solution #13.
All the above solutions will use any agreed solution for determining ECS2 by
ECS1.
Detailed signalling to provide ECS2 address to the requesting EEC or EES based
on solution #4 is to be addressed in normative phase. Signalling between ECS1
and ECS2 to discover and retrieve provisioning to the requesting EEC or T-EES
for the requesting EES will be addressed in normative phase according to
solution #5. A new interface EDGE-10 between ECS1 and ECS2 is used in Solution
#5. Also, in normative phase, if required, the additional optional IEs are
added to ECS configuration information provided by ECS to 5GC according to
Solution #13.
10.2.7 Key issue #7: Application traffic filter exposure
The open issues studied in the key issue #7 are as follows:
1\. How to support more application traffic filter for session with QoS API.
2\. How to support more application traffic filter for ACR management event
API.
To address the open issues aforementioned, solution 2 is proposed as follows:
\- Solution #2: Traffic filter support for EDGE-3 API addressing application
traffic detection
\- Allows the EAS to provide the domain name as traffic descriptor (indicates
the applicable protocol and matching criteria) to the EES, which further
invokes the PFD management procedure with the 3GPP CN as described in 3GPP TS
23.682 [10] and 3GPP TS 23.502 [8].
The Solution #2 provides detailed operation between EAS and EES for specific
filters, and the EES invoking the PFD management procedure with the 3GPP CN.
### 10.2.8 Key issue #8: EAS selection synchronization
Solution #39 addresses KI#8 about how to enable the EES to leverage pre-
existent EAS information at the EEC in order to enable service session
communications efficiently for IoT devices. The solution proposes EAS
selection request indicator to be sent in EEC registration request (for
constrained device) to request the EES for EAS selection support. If the
indication is present, the EES includes discovered EAS list along with EAS
profile in the response.
Solution #15 allows the EES to be informed of the EAS selected by EEC when the
initial EAS services start, so that the EAS selection information is
synchronized between the EEC and EES. This solution provides the option for
registered EECs to use the existing EEC registration update to provide this
information. It also provides the option, for any EEC, to use a new proposed
API to provide this information to the EES.
Solutions #39 and #15 are complementary and are both viable.
### 10.2.9 Key issue #9: Enhancement of dynamic EAS instantiation triggering
The open issues studied in the key issue #9 are as follows:
1\. What kind of information can be acquired by edge enabling layer and
utilized by an EES to decide to trigger dynamic EAS instantiation and which
entities can provide such information to an EES
2\. Whether and how to support dynamic EAS termination triggering in order to
enable dynamic scaling of EAS (i.e. scale in as needed).
To address the first open issue, the following solutions have been proposed:
\- Solution #32: Dynamic EAS instantiation triggering and notification
\- proposes that the EES determines if EAS instantiation triggering is needed
when EAS discovery subscription request is received from the EEC and no
available EAS instances are matched.
\- proposes that the triggering determination is based on the EAS
availability, according to the EAS discovery filter and EAS service
load/capacity
\- Solution #33: Support for EEC Discovery of EAS(es) before instantiation
\- the pre-condition is that EAS instantion status (e.g. instantiated or
instantiable, but not yet instantiated) is not included in EES profile.
\- proposes that the EEC obtains the EAS instantiation status in EAS profile
through EAS discovery procedure.
\- has the different EES behavior with R17 when receiving the EAS discovery
request message, i.e. the EAS instantiation is suspended.
\- proposes that the EES determines if EAS instantiation triggering is needed
when it receives an EAS selection message from the EEC indicating the
intention of the EEC to use an EAS.
\- proposes that the triggering determination is based on the EEC intention of
using an EAS and on the EAS availability.
\- Solution #40: EAS instantiation status provisioned by ECS
\- the pre-condition is that EAS instantiation status (e.g. instantiated or
instantiable, but not yet instantiated) is included in EES profile.
\- proposes that the EEC obtains the EAS instantiation status in EES profile
through service provisioning procedure.
\- proposes that the EEC performs EES selection according to the EAS
instantiation status.
\- proposes that the EES determines if EAS instantiation triggering is needed
when it receives an EAS discovery message from EEC, this is consistent with
R17, and no new message is introduced.
\- proposes that the triggering determination is based on the EAS
availability.
\- Solution #42: EAS selection and instantiation in EES
\- the pre-condition is that EAS instantiation status (e.g. instantiated or
instantiable, but not yet instantiated) is not included in EES profile.
\- proposes that the EEC indicates EES (e.g. via UE type) to request EES to
select and instantiate (if needed) EAS.
\- proposes that the triggering determination is based on the the EAS
availability.
Solutions high level overview:
\- Solution #32 clarifies aspects of EAS instantiation present in Rel-17 TS
23.558 and does not introduce new functionality.
\- Solution #33, solution #40 and solution #42 introduce changes for making
uninstantiated EAS identified before selecting one to minimize EAS resources
usage in the EDN for use cases with different pre-conditions (e.g. whether the
EAS instantiation status is included in the EES profile).
An aspect cited in Key Issue #9 is how to \"ensure efficient utilization of
EDN resources for EAS deployment, it should be possible to have the proper
number of EAS instances in the EDN to accommodate the load for applications\"
> Solution #32 on EDN resource utilization
\- has the limitations of Rel-17: every possible EAS type (e.g. EASID) needs
to be instantiated in every EDNs where they are offered to be discoverable,
and every EES instance offering an EAS type must have at least one EAS
instance registered to be discoverable.
> Solution #33, solution #40 and solution #42 on EDN resource utilization
\- improves Rel-17: all possible EAS types (e.g. EASIDs) do not need to be
instantiated to be discoverable.
Another aspect is the difference in EEC obtaining EAS instance.
\- In solution #33, EAS discovery procedure is enhanced to identify the EAS
before instantiation, and introduce a new EAS selection message to obtain the
instantiated EAS instance after successful instantiation.
\- In solution #40 and solution #42, instantiated EAS instance is discovered
in EAS discovery response after successful instantiation.
The second open issue is not addressed by the above solutions. Thus, the
second open issue will not be pursed in this release. It is not resolved how
to address the issue that dynamic termination triggering may be triggerd
unexpectedly for an operator and has a significant impact on operational
management. Scaling is also an operational aspect and is included in the scope
of SA5. Main purpose of using scaling is to ensure a stable operation of a
system or service.
### 10.2.10 Key issue #10: Support for Roaming UEs
This clause provides an overall evaluation for Key Issue #10, \"Support for
roaming UEs\".
Solution #4, Solution #5, Solution #13, and Solution #14 and Solution #50 all
address aspects of Key Issue #10.
One aspect of Key Issue #10 is how the EEC in the roaming UE knows the
availability of ECS(s) and discovers them in the VPLMN.
\- Solution #4 and Solution #14 share the principle that the home network can
provide the EEC in the UE with information that is used to contact a V-ECS. In
both solutions, this information is provided in the Service Provisioning
Response.
\- In solution #4, the V-ECS information can be an address, endpoint or
service API information.
\- In Solution #14, the V-ECS information can include an FQDN or an IP Address
of a V-ECS.
\- In Solution #14, the V-ECS information can include a DNN (O) and/or S-NSSAI
(O). The DNN / S-NSSAI can be used to establish an LBO PDU Session. Once the
UE establishes an LBO PDU Session, Rel-17 procedures can be used to discover
the V-ECS address.
\- In Solution #13, it is proposed that PLMN ID(s) can be sent with ECS
Address Configuration Information. As in Rel-17, ECS Address Configuration
Information is sent to the UE by the SMF during PDU Session Establishment
and/or PDU Session Modification.
\- In Solution #5, V-ECS address information is not sent to the UE.
Another aspect of Key Issue #10 is how the EEC in the roaming UE knows the
availability of EES(s) and discovers them in the VPLMN.
\- Solution #4, Solution #14, and Solution #13 share the principle that the
EEC in the UE is provided with information to contact ECS(s) in the VPLMN. The
EEC can then contact an ECS in the VPLMN to discover EES(s) in the VPLMN.
\- In Solution #5, the H-ECS uses the EDGE-10 interface to obtain information
from the V-ECS about what EES(s) are available in the VPLMN. The H-ECS then
sends the information about the EES(s) in the VPLMN to the EEC in the Service
Provisioning Response.
Another aspect, which is addressed by all Key Issue #10 solutions, is what
information the HPLMN uses to determine what information about edge computing
services in the VPLMN to send to the UE.
\- In Solution #13, ECS Address Configuration Information(s) can be stored in
the UE\'s subscription and PLMN ID(s) can be stored with each ECS Address
Configuration Information. The SMF sends all ECS Address Configuration
Information(s) and PLMN ID(s) from the UE\'s subscription to the UE. The UE
can determine what ECS Address Configuration Information(s) to use based on
what PLMN it is registered to.
\- Solution #4, Solution #5, and Solution #14 share the principle that the ECS
uses the PLMN ID of the PLMN where the UE is currently registered to determine
what information about edge computing services in the VPLMN to send to the UE.
\- The Rel-17 Service Provisioning Request can already include the UE
Location. The UE Location can be expressed as a Tracking Area Identity. The
Tracking Area Identity includes a PLMN ID.
\- Solution #4 and Solution #5 share the principle that, if location is not
included in the Service Provisioning Request, the ECS interacts with the Core
Network to obtain the UE\'s location. Allowing the ECS to obtain the UE\'s
location in this manner can be done with minimal impact to normative
specifications. For example, the ECS can obtain the UE\'s location by invoking
existing NEF API(s).
\- In Solution #4, Solution #5 and Solution #14, if a VPLMN ID is not included
in the Service Provisioning Request, the ECS obtains the PLMN ID by
interacting with the Core Network. Solution #14 explains that the ECS can do
this by invoking the NEF\'s monitoring event API with the monitoring type set
to ROAMING_STATUS and the plmnIndication set to TRUE as described in 3GPP TS
29.522 [17] and 3GPP TS 29.122 [18]. Allowing the ECS to obtain the UE\'s PLMN
ID in this manner can be done with minimal impact to normative specifications.
For example, the ECS can obtain the UE\'s location by invoking the existing
NEF monitoring event API.
\- Solution #4 relies on having sufficient information (e.g. ECSP policy, or
UE-specific service information, or ECSs information) configured or available
in an ECS to determine candidate ECSs.
\- Solution #5 relies on preconfigured information of ECS2 at ECS1.
NOTE 1: In Solutions #4 and #5, to configure sufficient information to the
ECS, the ECS(s) information related to other ECSPs may be available at the OAM
system due to the inter-ECSP relationship establishment, which is then used by
the OAM system of an ECSP to configure its ECS. If required, the information
of available applications in a partner ECSP and the corresponding service
areas are included in the configured information. Inter-ECSP relationship
establishment is according to the business relationship between the ECSPs and
is out of the scope of SA6. The OAM to configure its ECS for inter-ECSP
relationship is under the scope of SA5.
NOTE 2: It cannot be assumed that all ECS(s) will have access to NEF API(s).
Another aspect, which is addressed by all Key Issue #10 solutions, is how the
HPLMN obtains the information about edge computing services in the VPLMN to
send to the UE. Solution #4, Solution #5, Solution #13, and Solution #14 all
require that the home network (i.e. the H-ECS or H-SMF) determine what
V-ECS(s) that are used by the EEC. In Solution #4, Solution #13, and Solution
#14 the information about the V-ECS(s) is sent to the EEC. In Solution #5, the
V-ECS(s) are contacted by the H-ECS to obtain EES information to the send to
the EEC. In Solution #4, Solution #5, Solution #13, and Solution #14, the home
network (i.e. the H-ECS or H-SMF) must determine what V-ECS(s) that are used
by the UE.
\- In Solution #13, ECS Address Configuration Information(s) is stored in the
UE\'s subscription as is done in Rel-17. The information for each V-ECS that
the UE can use would need to be stored in the UE\'s subscription. ECS
information shared in Solution 13 is limited to the ECSs whose information is
available through H-PLMN.
\- In Solution #4, the ECS of the HPLMN uses the location information and/or
VPLMN ID to discover what V-ECS information (e.g. address, endpoint or service
API information) to send to the UE. The discovery can be based on pre-
configuration or the H-ECS can discover service API information exposed by
that ECS via CAPIF discovery procedure as specified in TS 23.222 [16]
\- In Solution #5, the ECS of the HPLMN uses the location information and/or
VPLMN ID to discover V-ECS information (e.g. address, endpoint or service API
information). The discovery can be based on pre-configuration or the H-ECS can
discover service API information exposed by that ECS via CAPIF discovery
procedure as specified in TS 23.222 [16]. The H-ECS then queries the V-ECS to
obtain EES information to send to the UE. It is assumed that the ECS uses
existing Rel-17 mechanisms from TS 23.558 [2] to determine what EES
information to send to the EEC. For example, the ECS can identify the EES(s)
based on the provided AC profile(s), the UE location, UE-specific service
information, or an ECSP policy.
\- In Solution #14, the ECS of the HPLMN uses the VPLMN ID to discover V-ECS
information (e.g. address, endpoint or service API information). The H-ECS
then uses the EDGE-10 interface to query the V-ECS to obtain information to
send to the UE. The query can include the UE\'s location and the information
that is sent to the UE can be a DNN / S-NSSAI combination that can be used by
the UE to establish an LBO PDU Session in the VPLMN. The V-ECS can use the
UE\'s location to determine what DNN / S-NSSAI combination that is sent to the
UE in order to cause the UE to establish an LBO PDU Session. The H-ECS can use
the PLMN ID to determine the V-ECS to contact. For example, this can be based
on a DNS lookup or the addresses of V-ECSs can have been pre-configured in the
H-ECS (e.g. via OAM). If the VPLMN hosts multiple V-ECSs, then which V-ECS is
resolved can be based on configuration.
\- In solution #14, H-ECS uses UE location, in its request towards V-ECS.
\- Solution #5 and Solution #14 both involve interaction between the V-ECS and
H-ECS and both solutions largely rely on pre-configuration for how the H-ECS
determines what V-ECS to contact. Since there can be multiple ECSs (e.g. from
different ECSPs) deployed in the V-PLMN, it can be crucial to contact
appropriate ECS based on EEC\'s requirements provided in the service
provisioning request or EES\'s requirements provided in the retrieve T-EES
request, e.g. in case of service continuity situation. Also, EDGE-10
enhancements based on solutions to other key issues (e.g. Key Issue #6) might
be considered in order to allow the H-ECS to perform a more dynamic discovery,
or determination, of the V-ECS to contact.
Information of the V-ECS associated with the V-PLMN is assumed to be available
at the H-ECS e.g. through pre-configurations.
NOTE 3: One V-ECS can be shared across multiple PLMNs for roaming related
service provisioning.
An important point of Key issue #10 is that the UE needs to obtain information
for V-ECSs (ECS available in VPLMN) to obtain service provisioning information
in VPLMN.
\- In solution #13, the new information that is sent to the UE is the PLMN
ID(s) with ECS Address Configuration Information.
\- In solution #4, the new information that is sent to the EEC in the UE is
V-ECS address, endpoint or service API information.
\- In solution #5, the new information that is sent to the EEC in the UE is
VPLMN EES Information in the Service Provisioning Response from the H-ECS.
\- In solution #14, the new information that is sent to the EEC in the UE is a
V-ECS address or a DNN / S-NSSAI combination that can be used by the EEC to
establish an LBO Session in the VPLMN.
Solution #50 provides enhancements so that an ECS can query an ECS-ER to
obtain information of partner ECS that provide service provisioning for a
particular application. This allows to reduce the time required to provide
service provisioning response while ensuring that the required application is
available with the V-ECS when configured information is not available with the
ECS. Solution #50 can be used along with Solution 4, Solution 5, Solution 13
and Solution 14.
When the EEC contacts an H-ECS, there are cases where the H-ECS can detect
that the UE is roaming and can obtain service provisioning from a V-ECS. In
Rel-18, the Service Provisioning Response will be updated to allow the H-ECS
to provide a V-ECS information to the EEC on EDGE-4. As described in Solutions
#4 and #14, the V-ECS information sent to the EEC can include address (FQDN or
an IP Address), endpoint or service API information of a V-ECS.
There are deployment scenarios where the EEC needs to access the ECS via an
LBO session. There are cases where the UE is not pre-configured with an DNN /
S-NSSAI combination that can be used to establish an LBO PDU session that can
be used to reach the V-ECS. Thus, as described in Solution #14, the Service
Provisioning Response will be updated to allow the H-ECS to provide a DNN /
S-NSSAI combination to the EEC. The DNN / S-NSSAI combination can be used by
the EEC to establish an LBO PDU Session in the VPLMN. Per existing Rel-17
behaviour and as defined in TS 23.548 [19], if the EEC does not have contact
information for a V-ECS, the EEC can obtain V-ECS Address Configuration
information from the V-SMF during PDU Session Establishment.
In Rel-17, it is already possible for an H-SMF to provide ECS Address
Configuration information to the UE during PDU Session Establishment or in a
PDU Session Modification Command. As explained in TS 23.548 [19] \"The UDM in
the HPLMN can provide the SMF (in HPLMN in HR case, in VPLMN in LBO case) with
ECS address configuration information that depends on the serving PLMN of the
UE.\" The Rel-17 approach requires that the UDM detect when the UE\'s serving
PLMN changes and only sends the UE ECS Address Configuration information that
is associated with the PLMN that is currently serving the UE. In Rel-18, the
principles of Solution #13 will be followed so that the UE ECS Address
Configuration information that is sent to the UE during PDU Session
Establishment and PDU Session Modification can include PLMN ID(s).
As described in Solution #5, there are cases where the H-ECS is able to
provision the EEC with information about EES(s) that are in the VPLMN. The
H-ECS can use the EDGE-10 to obtain information from the V-ECS about what
EES(s) are available in the VPLMN. The principles of Solution #5 will be
followed to enhance the Service provisioning procedure to allow the H-ECS to
provide the EEC with information about EES(s) in the VPLMN.
### 10.2.11 Key issue #11: ACR between EAS and Cloud Application Server
There are two solutions in the TR, CES-less solution is described in solution
#25, and solution with CES is described in solution #24.
With CES, ACR feature parity can be supported in the ACR between CAS and EAS
utilizing all EDGEAPP developed features (e.g. AS discovery, AS registration).
Comparing to CES-less solution, it needs a new function entity in the central
DN to support CAS, and CES is part of the EEL. The CES has the same functions
as the EES without having service area restriction. The CAS registers in CES
in order to be discoverable by the EEC using EDGEAPP EAS discovery mechanism,
the CES registers in ECS in order to be discoverable by the EEC using EDGEAPP
service provisioning procedure. CAS registration to CES is an additional
functionality that need to be supported for all CAS(s).
For CES-less solution as described in solution #25, it has a mixed use of
regular DNS query and EDGEAPP EAS discovery. When a T-EAS cannot be discovered
using the EDGEAPP mechanism, EDGEAPP entities (e.g. AC) falls back to regular
DNS query. It supports ACR scenarios as described in solution #25 for ACR from
EAS to CAS, it also supports ACR scenarios for ACR from CAS to EAS.
Both solutions can be considered in the normative work, the CES can be
considered as an optional entity in the EDGEAPP architecture. They share the
same EDGEAPP EAS discovery/service provisioning procedure when trying to
discover appropriate EAS. If there is CES available and registered in the ECS
in the network, the EDGEAPP mechanism returns CES in service provisioning
response to the EEC/S-EES or the S-EAS obtains CAS from CES via S-EES based on
the request from EEC/S-EES or the S-EAS to initiate ACR to Cloud and EDGEAPP
mechanism follows; otherwise, regular DNS is used to find CAS due to EDGEAPP
mechanism failure (no EES configuration or T-EAS is not discoverable).
What functionalities of EDGE-9 and EDGE-6 are to be reused for EDGE-14 and
EDGE-15 respectively in clause 6.5 and the detailed differences for EDGE prime
reference points and the cardinality rules in clause 6.6, will be addressed in
the normative phase.
### 10.2.12 Key issue #12: EEL service differentiation
Solution #12 (Service continuity planning permission) address KI #12.
Solution #12 allows ECSPs to selectively enable service continuity planning
based on policy authorization for EEC's service continuity capability. The EEC
provides its capability to perform service continuity planning and request
permission for service continuity planning. The EES verifies the use and
provides the response whether service continuity planning is allowed for the
EEC or not.
The solution#51 addresses KI#12. The solution proposes to enhance the EEL
specifically EEC registration and EEC registration update procedures to
provide indication whether the UE requires mobility support or not to the EES.
Solution #52 provides an option to provide service differentiation for EES
users to address KI #12. It also provides a way to address the corresponding
EES having valid PLMN subscription data for the EES users which improves the
service provisioning procedure.
### 10.2.13 Key issue #13: Edge enabler layer support for EAS synchronization
This clause provides an overall evaluation for the key issue #13 Edge enabler
layer support for EAS synchronization.
The open issues include:
1) Whether and how to enable EAS to find other EAS(s) with multi-user
communication session to synchronize?
2) Whether and how to enable EAS to find other interested EAS(s) with specific
service to synchronize?
3) Whether and how to enable EAS to discover and interact with another
application server function deployed on the cloud for context synchronization?
4) Whether and how edge enabler layer could provide support to EAS
synchronization?
Open issues 1) and 2) requires discovering of another EAS for specific service
to synchronize. Clause 7.31.2.4 of solution #31 (Discover common EAS)
addresses these two open issues by determining other EESes for announcing
selected EAS information for specific service.
Further, regarding open issue 4) about edge enabler layer providing support to
EAS synchronization, clause 7.31.2.4 of solution #31 specifies selected EAS
notification to relevant EASs via EDGE-3. However, the details of actual EAS
to EAS synchronization itself is out of scope of this solution.
Solution #53 (Support for EAS synchronization) addresses KI#13. The solution
enhances the EAS registration and Target EAS discovery procedure. The solution
enables the EAS to discover another EAS(s) with support for content
synchronization.
### 10.2.14 Key issue #14: Application traffic influence for initially
selected EAS
This clause provides an overall evaluation of the key issue #14 Application
traffic influence for initially selected EAS. The solution #9, solution #15
and solution #17 are complementary to each other.
The solution #9 is applicable to the scenario where the EAS triggers the EES
to perform traffic influence without necessitating requests to be made on a
per UE basis.
The solution #15 is applicable to the scenario where the EEC (or AC and EEC)
selects the EAS after EAS discovery and then provides a selected EAS
declaration request to the EES, which may be used by the EES to make traffic
influence decisions if those haven\'t already been performed.
The solution #17 is applicable to the scenario where the EES selects the EAS
and performs traffic influence immediately for the selected EAS after EEC sent
EAS discovery request based on attributes in the EEC provided AC profile,
providing the selected EAS to the EEC in the EAS discovery response.
All 3 solutions result in network resources being reserved to varying degrees
before actual use, where this may be lower in the UE specific solutions of
solution 15 and 17.
### 10.2.15 Key issue #15: Support of constrained devices for Edge
The open issues of key issue #15 are as follows:
\- Whether there are any impacts on the EDGEAPP architecture for constrained
UE.
\- Whether and how the existing EDGEAPP architecture and procedures, for
constrained UE to network communication (i.e. EDGE-1 and EDGE-4), e.g. can be
improved to reduce power consumption.
To address the first open issue, architecture enhancement evaluation in clause
10.1.1 will be considered in the normative work.
To address the second open issue, solution #18 provides EAS discovery
procedure enhancement and the minimum supported procedures for ACR to reduce
power consumption in UE with EEC with reduced capabilities.
### 10.2.16 Key issue #16: support of NAT deployed within the edge data
network
The open issues of key issue #16 are as follows:
\- How the EES can access 3GPP network services pertaining to a UE when the
edge data network employs Network Address Translators (NATs).
\- How AF specific and temporary UE IDs can be managed at the Edge Enabler
Layer?
Solution #23 solves these open issues by reusing SA2 defined CN capability
(Nnef_UEId_Get) to translate UE's private IP address to it UE ID. The solution
also allows the EES to convert the CN or EEC provided UE ID to Edge UE ID,
which is managed by the EES. The Edge UE ID can be specific to the EAS and can
be temporary as required. Support from SA2 is required to address potential IP
address overlap issues in some network deployments. Support from SA3 is
required for any security related issues. As an alternative, if SA2 supports
translation of the globally unique EECID to UE ID, then the EEC would not be
required to provide either its private IP address or MSISDN and the potential
IP address overlap issue is avoided.
As a further alternative, if SA2 supports translation of UE's public IP
address to its UE ID, EES can use the public IP address for translation. In
this case, EAS can also provide UE's public IP address to the EES over EDGE-3
UE ID API defined in Rel-17 TS 23.558 [2].
### 10.2.17 Key issue #17: Discovery of a common EAS
The open issues of key issue #17 are as follows:
1) Whether and how the ACs/EECs of different users can select or be
provisioned the same EAS within an EDN?
NOTE: This open issue is dealing with the issue how different EECs can perform
EAS discovery so that they select the same EAS within an EDN, whereas KI#13 is
dealing with the issue how, after different EECs have selected different EASs
located in different EDNs, these EASs can synchronize their contexts.
2) Whether and how the ACs/EECs of different users can select or be
provisioned a common EAS, even if initially the EECs are communicating with
different EDNs?
3) Whether and how the EEL can support service continuity to ensure that when
ACs require the use of service from a common EAS and an ACR operation is
needed, ACR operations can be coordinated so that upon completion of the ACR
operations the ACs again have services provided by a common EAS.
Solution#31 complements solution#27, when there is a centralized repository
deployed in an ECSP provider (common to solution #27 and solution#30).
Solution#31 complements solution#29 when there is no centralized repository
deployed by an ECSP provider.
Solution#28 is mostly application layer implementation, with minimum
enhancements to the mechanisms in Rel-17.
### 10.2.18 Key issue #18: EAS bundles
The open issues of key issue #18 are as follows:
\- How can the EEL identify EAS bundles?
\- What are the impacts on EEL procedures due to EAS bundles e.g. when the
bundled EASs are served by the same EES and require ACR due to UE mobility?
Solution #26 solves these open issues by enhancing the AC, EAS and EES
profiles. Enhancements include adding EAS bundle information and EAS bundle
requirements in the identified profiles. The solution also enhances EAS
discovery filters and Retrieve EES request. Further, handling of these IEs at
the EEC, EES and ECS is also described.
Solution #46 and solution #47 address the KI#18. To satisfy the coordinated
ACR requirements (i.e. the bundled EAS may need to be relocated together), the
EEC or the EES can act as decision entity to dertermine ACR scenario selection
for EAS bundles, based on the AC/EEC/EES(s)/EAS(s) abilities of handling
bundled EAS ACR.
### 10.2.19 Key issue #19: ACR scenario combination
This clause provides an overall evaluation of Key issue #19, \"ACR scenario
combination\".
Solution #19, Solution #35 and Solution #38 address aspects of Key issue #19.
An open issue that is cited in Key Issue #19 is whether \"Different
combinations of utilizing ACR scenarios by Applications should be enabled by
the Edge Enabler Layer (e.g. only one ACR scenario allowed or several ACR
scenarios allowed).\". All solutions agree that ACR scenario(s) combination
should be allowed.
\- Solution #19 has the following notes which suggest that a single ACR
scenario or multi-ACR scenarios are allowed.
\- \"NOTE 1: Using multiple ACR scenario can detect ACR timely\"
\- \"NOTE 2: The selection of a single ACR scenario and therefore single ACR
detection entity may not be suitable for time sensitive applications\"
\- Solution #35 proposes to establish an ACR scenarios list which can include
zero ACR scenario or a single ACR scenario or multi-ACR scenarios.
\- Solution #38 proposes to coordinate multiple ACR decision making-entities
suggesting that multi-ACR scenarios are allowed.
Which EEL entity selects the ACR scenario(s) combination? Solution #19 and
Solution #35 take a different approach.
\- Solution #19 proposes the EES to select a single ACR scenario or multi-ACR
scenarios when requested by the EEC. Solution#19 is applicable to the scenario
where the EES determines the ACR scenario for the AC based on the EAS, EES,
EEC, AC service continuity support.
\- A new ACR scenario selection request is needed to provide AC and EEC
service continuity information to the EES, and the EES already knows EES/EAS
service continuity information
\- Solution #35 proposes the EEC to select zero ACR scenario or a single ACR
scenario or multi-ACR scenarios when the EAS is selected at the EEC.
Solution#35 is applicable to the scenario where the EEC determines the ACR
scenario based on the EAS, EES, EEC, AC service continuity support.
\- Per Rel-17, the EEC already has the service continuity information from the
EES/EAS/AC/EEC, and no new message is needed to make the ACR selection.
> \- Whether Solution #19 and Solution #35 are also applicable for subsequent
> ACR and necessary improvement require further study in normative work.
>
> \- Solution #38 relies on Solution #19 or Solution #35 for ACR scenario(s)
> selection.
How is the ACR scenario(s) list communicated to the ACR decision-making
entities? Solution #19 and Solution #35 partially differ in how the ACR
scenario(s) list is communicated to ACR decision-making entities (e.g.
EEC/EES/EAS).
\- Solution #19 proposes that the EES informs the EEC of the selected ACR
scenario(s) via a new ACR scenario selection notification, which contains the
selected ACR scenario(s) list.
\- Solution #35 proposes that the EEC informs the EES of the selected ACR
scenario(s) list via a new selected EAS announcement request.
\- Both Solutions #19 and Solution #35 propose that the EAS subscribes to ACR
scenario selection, and that the EES informs the EAS via a new ACR selection
notification.
\- Solution #38 relies on Solution #19 or Solution #35 for communicating the
ACR scenario selection to the ACR decision-making entities.
How do EEL ACR decision-making entities (e.g. EEC/EES/EAS) use the selected
ACR scenario(s) list?
> \- Solution #19 and Solution #35 indicate that each ACR decision-making
> entity (e.g. EEC/EES/EAS) uses the ACR scenario list to decide if ACR
> detection needs to be initiated.
>
> \- Solution #38 relies on Solution #19 or Solution #35 for initiating ACR
> detection at the decision-making entities.
How is ACR execution coordinated after ACR detection happens?
\- Solution #19 and Solution #35 do not specify how ACR execution is
coordinated
> \- Solution #38 proposes to extend existing ACR management event
> notification (EES/EAS) and the ACR information notification (EES/EEC) to
> explicitly indicate that an ACR has started executing to prevent other ACR
> decision-making entities from initiating ACR execution. Solution #38 is not
> dependent on Solution #19 and Solution #35; Solution. #38 is only required
> when multi-ACR scenarios are selected.
### 10.2.20 Key issue #20: Supporting composite EASs
The open issues of key issue #20 are as follows:
\- Whether and how the EEL can support to composite EAS context management.
\- Whether and how the EEL can support the relocation of the composite EAS
context for service continuity.
\- Whether and how the EEL can discover EAS that provides the services of the
composite EASs.
Solution #49 addresses the 3^rd^ open issue. The EEL provides discovery
service to AC connected EAS so that other component EASs can be discovered and
selected by the AC connected EAS based on need.
### 10.2.21 Key issue #21: Simultaneously EAS connectivity in ACR
Solution #22 enhances AC profile and EDGE-1 ACR procedure to enable EES to
influence the traffic for simultaneous EAS connectivity during service
continuity. The detailed impact to 3GPP TS 23.558 [2] and remaining EN in
clause 7.22.2.1 for SA2 coordination will be addressed in the normative phase.
### 10.2.22 Key issue #22: EAS discovery in Edge Node sharing scenario
This clause provides an overall evaluation of Key issue #22, \"EAS discovery
in Edge Node sharing scenario\".
1) Solution #43 and #44 works for a scenario where EESs from OP B are deployed
and available everywhere in a region, the required EAS is not available with
OP B, the EAS can be shared to all operators in the federation and OP B
identifies that the most suitable EAS is in Partner OP.
a) Solution #43 proposes to use ECS-ER entity (as defined in clause 6.x),
where Application info is published from ECS-ER (OP-A) to ECS-ER (OP-B). And
when required ECS (OP-B) fetches application information from ECS-ER (OP-B).
In case, if application information is not published, EEC sends service
provisioning request to ECS (OP-B) which discovers T-EES and shares the T-EES
information to EEC in a transparent way. EEC in turn includes T-EES
information in EAS discovery request towards EES which contact T-EES to fetch
application information.
b) Solution #44 proposes to use ECS-ER entity (as defined in clause 6.x),
where EES publishes the registered EAS information to ECS-ER. ECS-ER of
different operators in federation can subscribe to each other to get
registered EAS information. Alternatively, ECS-ER (OP-A) can get the
registered EAS information directly from ECS-ER (OP-B). When EEC sends EAS
discovery request, the EES (OP-B) can get EES (OP-A) information from ECS-ER
and performs ES discovery towards EES (OP-A). Upon receiving the EAS discovery
response from EES (OP-A), the EES (OP-B) shares the EAS details to EEC.
2) Solution #45 works for a scenario that EES service (OP A) can be shared to
the Operator B. The OP B can access the edge resource from the Partner OP for
the EAS deployment and also access the EES service from the Partner OP.
a) Solution #45 proposes to enhance service provisioning and EAS discovery
procedures. The ECS (OP-B) determines that the requried EAS is available with
EES (OP-A), and includes EES (OP-A) in the rservice provisioning response. EEC
(OP-B) sends the EAS discovery request to EES (OP-A) which provides EAS
details to EEC.
Solutions are to be considered during the normative work based on GSMA
feedback.
### 10.2.23 Key issue #23: Reliable Edge service
The open issues of key issue #23 are as follows:
\- Whether and what mechanisms the EES/ECS can use for high reliability in
EES/ECS services during expected events and unexpected events in the service.
\- Whether and what mechanisms the EES/ECS can provide to support highly
reliable EAS during expected events and unexpected events in the service.
Solution #48 addresses all open issues by providing support for reliable edge
service with service set.
The principle used in solution #48 can also be applicable to other application
enabling services (e.g. SEAL) and detailed solution can be discussed in
respective work item.
### 10.2.24 Key issue #24: SEAL capability access for EEL support
The open issue in Key Issue #24 is:
\- How EEL accesses and utilizes SEAL capabilities deployed within the EDN.
Solution #41 solves this issue by utilizing SEAL ADAES for enhancing EEL
operations based on edge load analytics. The ADAES capability in TR 23.700-36
was concluded and provides a mechanism which allows EES and EAS to receive
EES/EAS edge load measurements to enhance operations like service continuity.
This solution is feasible, and the only dependency is the expected
specification of the ADAES feature related to edge analytics (expected in TS
23.436).
NOTE: Whether EEC can also use SEAL ADAE layer to receive overload condition
of EAS/EES can be considered in normative work.
# 11 Conclusions
## 11.1 General
This technical report fulfils the objectives of the study on application
architecture for enabling Edge Applications. The report includes the
following:
1\. Definition of terms and abbreviations used in the study (clause 3);
2\. Key issues identified by the study (clause 4) and corresponding
architectural requirements (clause 5);
3\. Enhancements to edge application architecture specified in 3GPP TS 23.558,
corresponding to the key issues and architectural requirements (clause 6);
4\. Individual solutions addressing the key issues (clause 7);
5\. Set of deployment options (clause 8) and updated business relationships
considering Federation and Roaming support (clause 9); and
7\. Overall evaluations of all the solutions (clause 10).
Some of the individual solutions have dependency on other working groups
within 3GPP. This dependency is summarized in overall evaluations (clause 10).
NOTE: For the objectives with dependency on other SA WGs, the solution(s) for
the normative work can be progressed with close coordination with the
dependent WGs. If the dependencies are not resolved within the release
timeframe, the solutions will be removed or down-scoped to avoid the
dependencies.
## 11.2 Conclusions for normative work
### 11.2.1 General conclusions
The study concludes with following general considerations for the normative
work:
1\. Definition of terms and abbreviations captured in clause 3 will be reused;
2\. Architectural requirements identified in clause 5 will be used for updated
baseline architectural requirements; and
3\. Deployment scenarios and involved business relationships will be
considered as captured in clause 8 and clause 9 respectively. Additional
deployment models and their implications on the solutions will be considered.
4\. The solutions are applicable only for the corresponding scenario
assumptions.
### 11.2.2 Architecture enhancement conclusions
The study concludes with following architectural enhancements considerations
for the normative work:
1\. Architecture enhancements from clause 6 corresponding to the concluded
solutions will be used for updating baseline edge application architecture
specified in 3GPP TS 23.558:
a. architecture corresponding to solution #20 as specified in clause 6.3 and
additionally leveraging generic notification service from SEAL.
b. architecture enhancement as specified in clause 6.4
c. architecture enhancement to support service provisioning in LBO and HR
roaming scenarios as specified in clause 6.1
### 11.2.3 Solution conclusions
The study concludes with following solution considerations for the normative
work:
1\. Following individual solutions, corresponding to the key issues, will be
considered as candidate solutions:
i. for Key issue #1 (Enhanced notification service to the EEC):
a. Solution #1: Service provisioning via push notification
\- SEAL Notification Service will be specified in TS 23.434 [23] to support
the Solution #1
\- The usage of SEAL Notification Service in TS 23.558 [2] will be captured to
Solution #1
b. Solution #3: Service provisioning triggering via SMS over NAS
\- The usage of SMS over NAS to trigger service provisioning procedure will be
specified in TS 23.558 [2] as per Solution #3.
c. Solution #20: Propagation of EEL notifications to EEC using Edge
Notification Server
\- SEAL Notification Service will be specified in TS 23.434 [23] to support
the Solution #20
\- The usage of SEAL Notification Service in TS 23.558 [2] will be captured to
Solution #20
ii. for Key issue #2 (Enablement of Service APIs exposed by EAS):
a. Solution #8: EAS Service API enablement using CAPIF
iii. for Key issue #3 (Enhancements to service continuity planning):
a. Solution #6: ACR update in service continuity planning
b. Solution #7: EES monitors UE mobility for service continuity planning
c. Solution #12: Service continuity planning permission
d. Solution #21: Prediction expiration time for service continuity planning
enhancement
e. Solution#37: ACR request trigger timing
iv. for Key issue #4 (EDGE-5):
a. Solution #34 (EDGE-5 APIs)
v. for Key issue #5 (Alignment of EDGEAPP and ETSI MEC):
a. Solution #11: This solution relies on the EDGEAPP architecture as specified
in TS 23.558 [2] and CAPIF as specified in TS 23.222 [16]. The solution does
not require changes in architecture and procedures.
b. Solution #36: This solution is based on the principles set in clause 5.4
and provides a mapping between overlapping APIs in EDGEAPP and ETSI MEC. The
solution does not require changes in architecture and procedures.
c. The different aspects of alignment of EDGEAPP and ETSI MEC covered by the
Solution #11 and #36, may be captured as informative annex(es) in TS 23.558.
vi. for Key issue #6 (Edge services support across ECSPs):
a. Solution #4 ECS discovery through serving ECS to support edge services
across ECSPs: Detailed signalling to provide ECS2 address to the requesting
EEC or EES based on solution #4 is to be specified in normative phase.
b. Solution #5: ECS enhancement to discover EESs via other ECSs to support
edge services across ECSPs: Signalling between ECS1 and ECS2 to discover and
retrieve provisioning to the requesting EEC or T-EES for the requesting EES
will be specified in normative phase according to solution #5. A new interface
EDGE-10 between ECS1 and ECS2 is used in Solution #5.
c. Solution #13: Update ECS configuration information: if required, the
additional optional IEs are added to ECS configuration information provided by
ECS to 5GC according to Solution #13.
d. Solution #50: Enhanced ECS for federation of services: enhancements will be
specified in the normative phase so that an ECS can query an ECS-ER to obtain
information of partner ECS that provide service provisioning for a particular
application.
vii. for Key issue #7 (Application traffic filter exposure):
a. Solution #2: Traffic filter support for EDGE-3 API addressing application
traffic detection
viii. for Key issue #8 (EAS selection synchronization):
a. Solution #39 (EAS selection synchronization at registration)
> b. Solution #15 (Initial EAS selection)
ix. for Key issue #9 (Enhancement of dynamic EAS instantiation triggering):
a. Solution #32 (Dynamic EAS instantiation triggering and notification)
b. Solution #33 (Support for EEC Discovery of EAS(es) before instantiation)
c. Solution #40 (EAS instantiation status provisioned by ECS)
d. Solution #42 (EAS selection and instantiation in EES)
x. for Key issue #10 (Support for roaming UEs):
a. Solution #4 ECS discovery through serving ECS to support edge services
across ECSPs: Detailed signalling to provide V-ECS address to the requesting
EEC or EES based on solution #4 is to be specified in normative phase.
b. Solution #5: ECS enhancement to discover EESs via other ECSs to support
edge services across ECSPs: Signalling between H-ECS and V-ECS to discover and
retrieve provisioning to the requesting EEC or T-EES for the requesting EES
will be specified in normative phase according to solution #5. A new interface
EDGE-10 between H-ECS and V-ECS is used in Solution #5.
c. Solution #13: Update ECS configuration information: if required, the
additional optional IEs are added to ECS configuration information provided by
ECS to 5GC according to Solution #13.
d. Solution #14: V-ECS Discovery via the H-ECS: the Service Provisioning
Response will be updated to allow the H-ECS to provide a DNN / S-NSSAI
combination to the EEC. The DNN / S-NSSAI combination can be used by the EEC
to establish an LBO PDU Session in the VPLMN.
e. Solution #50: Enhanced ECS for federation of services: enhancements will be
specified in the normative phase so that an ECS can query an ECS-ER to obtain
information of partner ECS that provide service provisioning for a particular
application.
xi. for Key issue #11 (ACR between EAS and Cloud Application Server):
a. Solution #24 (ACR between EAS and CAS with CES)
b. Solution #25 (ACR between EAS and CAS without CES)
xii. for Key issue #12 (EEL service differentiation):
a. Solution #12 (Service continuity planning permission)
b. Solution #51 (EEC sharing UE Mobility requirement)
c. Solution #52 (EES policy differentiation)
xiii. for Key issue #13 (Edge enabler layer support for EAS synchronization):
a. Solution #31 (Discover common EAS) clause 7.31.2.4
b. Solution #53 (Support for EAS synchronization)
xiv. for Key issue #14 (Application traffic influence for initially selected
EAS):
a. Solution #9 (Application traffic influence trigger from EAS)
b. Solution #15 (Initial EAS selection declaration)
c. Solution #17 (Traffic influence for initial EAS discovery)
xv. for Key issue #15 (Support of constrained devices for Edge):
a. Solution #18: Constraint device in EDGEAPP
xvi. for Key issue #16 (Support of NAT deployed within the edge data network):
a. Solution #23 (UE identification with NAT)
xvii. for Key issue #17 (Discovery of a common EAS):
a. Solution #27 (Enabling AC Association Aware services by selecting common
EASs)
b. Solution #28 (Common EAS discovery using EAS selection information)
c. Solution #29 (Discovery of a common EAS)
d. Solution #30 (Common EAS selection)
e. Solution #31 (Discover common EAS)
NOTE 1: Selecting one of the solutions or merging into one or more solutions
shall be considered during the normative phase.
xviii. for Key issue #18 (EAS bundles):
a. Solution #26 (Bundled EASs)
b. Solution #46 (EEC selected ACR scenario for EAS bundles)
c. Solution #47 (EES determines the selected ACR scenario for EAS bundles)
xix. for Key issue #19 (ACR scenario combination), see also clause 10.2.19:
a. The principle of Solution #19, #35, #38 that the EEL will offer support for
utilizing a combination of ACR scenario(s) will be followed.
b. The principle of Solution #35 that the EAS selection entity performs
selection of the ACR scenario combination will be followed; the EEC will
select zero ACR scenario or a single ACR scenario or multi-ACR scenarios in
the ACR scenario list according to the EEL participants service continuity
capabilities and AC requirements.
c. The principle of Solution #35 that the ACR scenario list is communicated to
the EES via the selected EAS announcement request will be followed, the EAS
announcement request will be enhanced with the ACR scenario list.
d. The principle of Solution #19 and #35 that the ACR scenario list is
communicated to the EAS via the ACR selection notification and that the EAS
will subscribe to such notification will be followed; the ACR selection
notification will provide the selected ACR scenario list.
e. The principle of Solution #19 and #35 that each ACR decision-making entity
(e.g. EEC/EES/EAS) will use the ACR scenario list to decide if ACR detection
needs to be performed will be followed; a gating condition that the ACR
scenario is present in the ACR selected scenario list will be added to the ACR
detection phase of every ACR scenario.
f. The principle of Solution #38 that ACR execution will be coordinated after
ACR detection happens will be followed; the ACR management event notification
and the ACR information notification will be enhanced with information about
start of ACR execution.
xx. for Key issue #20 (Supporting composite EASs):
a. Solution #49 (Supporting EAS composition) There is no impact identified in
Rel-18 EDGEAPP for solution #49 but the use case can be captured in
informative annex of TS 23.558 [2] to provide usage guideline for EAS
developers.
xxi. for Key issue #21 (Simultaneously EAS connectivity in ACR):
a. Solution #22: Support simultaneous EAS connectivity in ACR
xxii. for Key issue #22 (EAS discovery in Edge Node sharing scenario):
> a. Solution #43 (EAS discovery for Edge node sharing)
b. Solution #44 (EAS discovery for Edge node sharing)
c. Solution #45 (EAS discovery in Edge Node sharing scenario)
NOTE 2: One or more solutions or merged solution from above solution will be
considered during the normative work based on GSMA feedback.
> a. Solution #55 (Non-roaming UE location invocation)
xxiii. for Key issue #23 (Reliable Edge service):
a. Solution #48 (Edge server set and edge service set)
xxiv. for Key issue #24 (SEAL capability access for EEL support):
a. Solution #41 (Interaction with ADAES for edge load analytics)
2\. Individual solutions, not listed under bullet 1 may be adopted in
technical specification with appropriate enhancements.
###### ## Annex A (Informative): ETSI MEC and EDGEAPP system comparison
# A.1 General
This Annex compares EDGEAPP architecture R17 as defined in 3GPP TS 23.558 [2]
and ETSI MEC architecture [3] and provides a gap analysis, addressing the
objective in Key issue #5 in clause 4.5.
# A.2 Service consumer and service provider
The functionalities enabled via the Mp1 reference point between MEC
applications and MEC platform is mainly described in ETSI GS MEC011 [14]. The
related functionality includes MEC service registration/deregistration, MEC
service discovery and event notifications. Other functionality includes MEC
service availability, traffic rules, DNS and time of day.
From ETSI MEC\'s perspective, there are two types of MEC Applications, i.e.
MEC Application that consumes MEC Services and MEC Application that provides
MEC service(s). For the MEC Application that provides MEC service(s), the MEC
Application sends a service registration request to the MEC platform to
register the MEC service during the MEC Application start-up procedure. As for
the MEC Application that consumes MEC Services, the MEC Application can send a
service query request to the MEC platform to discover a MEC service. It should
be noted that the API of registration and discovery is defined for MEC
service.
In R17 of SA6, the EES can take the role of the CAPIF core function, and the
vertical application enabler server acting the AEF and publish the vertical
application enabler server APIs to the EES. Further, the vertical application
enabler server APIs is discovered by the EASs acting as the API invoker during
the service API discover procedure as specified in 3GPP TS 23.222 [16].
In clause 4.2, the Key issue #2 plans to study Enablement of Service APIs
exposed by EAS. The R17 of EDGEAPP only defines the functionality of EAS
acting as an invoker, which is similar to MEC Application that consumes MEC
Services defined in ETSI MEC:
> **[Observation A.2-1]** The R17 of EDGEAPP only defines the functionality of
> EAS acting as an invoker, which is similar to MEC Application that consumes
> MEC Services defined in ETSI MEC. According to the Key issue #2 in clause
> 4.2, The EAS acting as a service provider is expected to be defined in R18
> and expose service APIs.
>
> **[Observation A.2-2] According to the Key issue #2 in clause 4.2, the EAS
> can act as a service provider and EES can act as CAPIF core function so
> different services will be discoverable at different EESs. How the
> information of a service registered at one MEC platform is made available to
> other platforms in the same MEC system is not explicitly specified within
> ETSI MEC, while in EDGEAPP, as EES supports CAPIF core function, the EAS
> service published on EES1 can be discovered by EAS registered on EES2
> through CAPIF-6 or CAPIF-6e.**
# A.3 EAS/MEC application profile provisioning
ETSI MEC and EDGEAPP defined different style of EAS/MEC application profile
provisioning. The information flows for lifecycle management of MEC
applications is described in ETSI GS MEC010-2 [13]. The informational flows
for the optional MEC Application registration are described in ETSI GS MEC 011
[14]. The MEC application can start producing or consuming MEC Services after
the MEC Application is instantiated and running. The application information
(AppInfo), which can be regarded as the MEC application profile, represents
the information provided by the MEC application instance as part of the
\"application registration request\" message. The attributes of the AppInfo
are available from the clause 7.1.2.6 of ETSI GS MEC011 [14]:
Some fields in AppInfo are intentionally not duplicating the EAS profile (if
present) with conflicting parameters but should be consistent with them. This
is highlighted in NOTE 1 and NOTE 2, for example. It can be seen that unlike
AppD [13], which is mainly used in the management plane for instantiating an
application, and is static in nature, AppInfo carries the runtime information
about the MEC application instance.
**In EDGEAPP, the EAS profile is provided in the EAS registration request.
According to clause 8.2.4 of** 3GPP TS 23.558 **[2]** the information element
of the EAS profile is listed as below:
Table A.3-2: EAS Profile
+-----------------------------+--------+-----------------------------+ | Information element | Status | Description | +=============================+========+=============================+ | EASID | M | The identifier of the EAS | +-----------------------------+--------+-----------------------------+ | EAS Endpoint | M | Endpoint information (e.g. | | | | URI, FQDN, IP address) used | | | | to communicate with the | | | | EAS. This information maybe | | | | discovered by EEC and | | | | exposed to ACs so that ACs | | | | can establish contact with | | | | the EAS. | +-----------------------------+--------+-----------------------------+ | ACID(s) | O | Identifies the AC(s) that | | | | can be served by the EAS | +-----------------------------+--------+-----------------------------+ | EAS Provider Identifier | O | The identifier of the ASP | | | | that provides the EAS. | +-----------------------------+--------+-----------------------------+ | EAS Type | O | The category or type of EAS | | | | (e.g. V2X) | +-----------------------------+--------+-----------------------------+ | EAS description | O | Human-readable description | | | | of the EAS | +-----------------------------+--------+-----------------------------+ | EAS Schedule | O | The availability schedule | | | | of the EAS (e.g. time | | | | windows) | +-----------------------------+--------+-----------------------------+ | EAS Geographical Service | O | The geographical service | | Area | | area that the EAS serves. | | | | ACs in UEs that are located | | | | outside that area shall not | | | | be served. | +-----------------------------+--------+-----------------------------+ | EAS Topological Service | O | The EAS serves UEs that are | | Area | | connected to the Core | | | | Network from one of the | | | | cells included in this | | | | service area. ACs in UEs | | | | that are located outside | | | | this area shall not be | | | | served. See possible | | | | formats in Table 8.2.7-1. | +-----------------------------+--------+-----------------------------+ | EAS Service KPIs | O | Service characteristics | | | | provided by EAS, detailed | | | | in Table 8.2.5-1 | +-----------------------------+--------+-----------------------------+ | EAS service permission | O | Level of service | | level | | permissions e.g. trial, | | | | gold-class supported by the | | | | EAS | +-----------------------------+--------+-----------------------------+ | EAS Feature(s) | O | Service features e.g. | | | | single vs. multi-player | | | | gaming service supported by | | | | the EAS | +-----------------------------+--------+-----------------------------+ | EAS Service continuity | O | Indicates if the EAS | | support | | supports service continuity | | | | or not. This IE also | | | | indicates which ACR | | | | scenarios are supported by | | | | the EAS. | +-----------------------------+--------+-----------------------------+ | List of EAS DNAI(s) | O | DNAI(s) associated with the | | | | EAS. This IE is used as | | | | Potential Locations of | | | | Applications in | | | | clause 5.6.7 of | | | | 3GPP TS 23.501 [14]. | | | | | | | | It is a subset of the | | | | DNAI(s) associated with the | | | | EDN where the EAS resides. | +-----------------------------+--------+-----------------------------+ | List of N6 Traffic Routing | O | The N6 traffic routing | | requirements | | information and/or routing | | | | profile ID corresponding to | | | | each EAS DNAI. | +-----------------------------+--------+-----------------------------+ | EAS Availability Reporting | O | The availability reporting | | Period | | period (i.e. heartbeat | | | | period) that indicates to | | | | the EES how often it needs | | | | to check the EAS\'s | | | | availability after a | | | | successful registration. | +-----------------------------+--------+-----------------------------+ | EAS Required Service APIs | O | A list of the Service APIs | | | | that are required by the | | | | EAS | +-----------------------------+--------+-----------------------------+ | EAS Status | O | The status of the EAS (e.g. | | | | enabled, disabled, etc.) | +-----------------------------+--------+-----------------------------+
Comparison of AppInfo in 7.1.2.6 of ETSI GS MEC 011 [14] and EAS Profile in
Table A.3.2 shows that:
> **[Observation A.3-1]** Both ETSI MEC and EDGEAPP provides similar types of
> EAS/MEC application profile provisioning. Both the EAS Profile and MEC
> Application Instance (AppInfo) is provided during the application
> registration request.
>
> **[Observation A.3-2]** Some IEs of the EAS profile may overlap with the
> ones defined in AppInfo (e.g. EAS ID vs. appName, EAS Provider Identifier
> vs. appProvider, EAS Endpoint vs. endpoint). Both AppInfo and EAS Profile
> has many optional IEs, whether and how to address their differences in SA6
> is FFS.
# A.4 EAS registration and EAS discovery
In R17 of EDGEAPP, the EAS Registration procedure is defined to allow an EAS
to provide its information to an EES in order to enable its discovery as
defined in clause 8.4.3 of 3GPP TS 23.558 [2]. The EAS discovery procedure is
used to provide EAS information to the EEC. After the EEC is provisioned with
the EAS information, it can establish a connection to the EAS. Besides, in the
service continuity scenario, the source EAS may send an EAS discovery request
to the EES to discover a target EAS (providing same functionality as the
source EAS) to serve the UE as defined in clause 8.8.3.2 of 3GPP TS 23.558
[2].
However, in current ETSI MEC specification, no APIs for MEC Application
registration is defined because it is assumed that all MEC Application are on-
boarded and managed by MEC Orchestrator, which was specified in ETSI GS MEC
010-2 [13]. API for MEC Application discovery is not defined since the
existing MEC service is either defined from the MEC Application\'s perspective
or it is consumed by the MEC Application rather than the UE.
Therefore, the comparison EAS registration and EAS discovery of EDGEAPP [2]
and ETSI MEC specification [13] shows that:
**[Observation A.4-1]** The EAS registration and EAS discovery mechanism is
defined in R17 of SA6 and ETSI MEC introduced MEC application registration
(ETSI GS MEC 011 v3.0.6). It is FFS whether and how to address such
differences in SA6, e.g. in support of ETSI MEC.
**[Observation A.4-2]** ETSI MEC platform(MEP) supports service registration.
In the registration parameter \"ServiceInfo\"ï¼Œthere is a mandatory field
\"consumedLocalOnly\" used to indicate that the service can only be consumed
by the MEC applications located in the same locality, which means ETSI MEC
services (produced by Authorized MEC APPs) registered and exposed on MEP can
be invoked by MEC consumer APPs deployed on the same or another MEC host.
###### ## Annex B (Informative): Deployment and Evolution options of EDGEAPP
and ETSI MEC platforms
# B.1 General
This clause provides the analysis to address the first open issue of KI#5,
which intends to study and analyse different deployment options of EDGEAPP and
ETSI MEC platforms. In that regard, this clause describes the following
foreseen types of deployment and evolution scenarios for deployment of EDGEAPP
and ETSI MEC.
Annex C of TS 23.558 provides a relationship between EDGEAPP and ETSI MEC
architectures as in figure below.
Figure B.1-1: Relationship in EDGEAPP and ETSI MEC architecture
Editor\'s note: Whether and how to enhance EDGE-9 or Mp3 is FFS.
# B.2 Deployment options
## B.2.1 Deployment Option-1: Collocated Platforms
Based on Figure B.1-1, the two platforms (EES and MEC Platform) are co-
located, and made by a single (unique) equipment, which is compliant with both
standards. However, the actual deployment details of two platforms is
implementation specific (Figure B.2.1-1).
Figure B.2.1-1: EES and MEC Platform as two different AFs on a single
Physical/NFV Infrastructure
## B.2.2 Deployment Option-2: Converged architecture
### B.2.2.1 General
From the practical and business perspective, it is possible that an operator
has deployed ETSI MEC architecture in its MEC sites to provide edge service
since the stage 1 work of ETSI MEC has been already finished for a period of
time. At the same time, the operator still cannot deploy EDGEAPP architecture
since the stage 3 work of EDGEAPP is still not completed at the time being.
On the other hand, it is assumed that an enhanced architecture, including a
converged architecture as depicted in Figure B.2.2-1, will be introduced after
completion of release 18. The converged architecture is expected to satisfy
the following requirement:
\- The MEP+EES is able to satisfy all the functionalities of MEP defined in
ETSI and EES defined in SA6.
\- A uniform API is defined for the EAS and MEC app, i.e. EDGE-3 and Mp1 are
unified into one interface and the EAS and MEC app will consume the same
service from the MEP+EES.
\- EDGE-9 and Mp3 are unified into one interface.
NOTE: Management of MEP+EES is under the scope of SA5.
Figure B.2.2.1-1 Converged architecture for EDGEAPP and ETSI MEC alignment
The two platforms (EES and MEC Platform) are co-located which can be
implemented as a single AF (e.g. realized as one VNF) compliant with both
standards (Figure B.2.2-2).
Figure B.2.2.1-2: EES and MEC Platform as a single AF on a single NFV
Infrastructure (NFVI)
### B.2.2.2 Evolution Options
#### B.2.2.2.1 General
In this clause the converged architecture is the architecture described in
clause B.2.2 and satisfies the requirements listed in that clause.
#### B.2.2.2.2 Evolution Option #1- Enhancement of a deployed MEP to support
the functionality of EES
After the completion of Release 18, an operator may determine to
upgrade/evolve the ETSI MEC architecture to the converged architecture if the
operator deployed ETSI MEC architecture in its MEC sites to provide edge
service in the early stage. The MEP needs to be upgraded to the MEP+EES for
supporting the functionality of EES defined in 3GPP SA6. The deployment and
evolution scenario is depicted in Figure B.2.2.2.2-1.
Figure B.2.2.2.2-1 Evolution Option #1- An early stage deployed MEP is
enhanced to support the functionality of EES in a later stage.
In Figure B.2.2.2.2-1, the EDN_1 and EDN_2 are deployed by the same operator.
#### B.2.2.2.3 Evolution Option #2 Enhancement of a deployed EES to support
the functionality of MEP
After the completion of Release 18, an operator may opt to upgrade/evolve the
EDGEAPP architecture to the converged architecture if the operator deployed
EDGEAPP architecture in its EDNs to provide edge service in the early stage.
The deployment and evolution scenario is depicted in Figure B.2.2.2.3-1.
Figure B.2.2.2.3-1 Evolution Option #2- Enhancement of a deployed EES to
support the functionality of MEP
## B.2.3 Deployment Option-3: non-Collocated Platforms
The two platforms are non-collocated, and reside in two different data
networks, where EES is in the Mobile Network Operator (MNO) domain while the
ETSI MEC platform is in another MNO domain (Figure B.2.3-1).
Figure B.2.3-1: EES and MEC Platform as two different AFs in two different
EDNs
#