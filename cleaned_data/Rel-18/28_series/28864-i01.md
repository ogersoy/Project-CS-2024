# Foreword
This Technical Report has been produced by the 3rd Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
In the present document, modal verbs have the following meanings:
**shall** indicates a mandatory requirement to do something
**shall not** indicates an interdiction (prohibition) to do something
The constructions \"shall\" and \"shall not\" are confined to the context of
normative provisions, and do not appear in Technical Reports.
The constructions \"must\" and \"must not\" are not used as substitutes for
\"shall\" and \"shall not\". Their use is avoided insofar as possible, and
they are not used in a normative context except in a direct citation from an
external, referenced, non-3GPP document, or so as to maintain continuity of
style when extending or modifying the provisions of such a referenced
document.
**should** indicates a recommendation to do something
**should not** indicates a recommendation not to do something
**may** indicates permission to do something
**need not** indicates permission not to do something
The construction \"may not\" is ambiguous and is not used in normative
elements. The unambiguous constructions \"might not\" or \"shall not\" are
used instead, depending upon the meaning intended.
**can** indicates that something is possible
**cannot** indicates that something is impossible
The constructions \"can\" and \"cannot\" are not substitutes for \"may\" and
\"need not\".
**will** indicates that something is certain or expected to happen as a result
of action taken by an agency the behaviour of which is outside the scope of
the present document
**will not** indicates that something is certain or expected not to happen as
a result of action taken by an agency the behaviour of which is outside the
scope of the present document
**might** indicates a likelihood that something will happen as a result of
action taken by some agency the behaviour of which is outside the scope of the
present document
**might not** indicates a likelihood that something will not happen as a
result of action taken by some agency the behaviour of which is outside the
scope of the present document
In addition:
**is** (or any other verb in the indicative mood) indicates a statement of
fact
**is not** (or any other negative verb in the indicative mood) indicates a
statement of fact
The constructions \"is\" and \"is not\" do not indicate requirements.
# 1 Scope
The present document studies the management enhancement for NWDAF (Network
Data Analytics Function).
In the present document, with regarding to the analytic, data management and
trained ML model provisioning services provided by the NWDAF, also considering
different NWDAF deployment scenarios, some fundamental key issues related the
management enhancement for NWDAF are discussed. And the corresponding
potential solutions are provided and evaluated.
The present document also provides recommendations for the normative
specifications work.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or non‑specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.288: \"Architecture enhancements for 5G System (5GS) to support
network data analytics services\".
[3] 3GPP TS 28.541: \"5G Network Resource Model (NRM)\".
[4] 3GPP TS 28.552: \"Management and orchestration; 5G performance
measurements\".
[5] 3GPP TS 28.554: \"Management and orchestration; 5G end to end Key
Performance Indicators (KPI)\".
[6] 3GPP TS 23.501: \"System Architecture for the 5G System (5GS); Stage 2\".
# 3 Definitions of terms, symbols and abbreviations
## 3.1 Terms
For the purposes of the present document, the terms given in TR 21.905 [1] and
the following apply. A term defined in the present document takes precedence
over the definition of the same term, if any, in TR 21.905 [1].
## 3.2 Symbols
Void.
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1] and the following apply. An abbreviation defined in the present document
takes precedence over the definition of the same abbreviation, if any, in TR
21.905 [1].
# 4 Key Issues and potential solutions
## 4.1 Key Issue #1: NWDAFFunction IOC enhancement to support Multiple NWDAF
Deployment
### 4.1.1 Description
According to [2], in the case where multiple NWDAF instances are deployed, an
NWDAF can act as Aggregator NWDAF, while the other NWDAFs may play the role
that provides analytics information to this Aggregator NWDAF.
For the Aggregator NWDAF in multiple NWDAF deployment, it has the \"analytics
aggregation capability\", with which the Aggregator NWDAF is able to perform
some extra tasks comparing to the normal NWDAF (i.e., the NWDAF without
\"analytics aggregation capability\"), such as:
\- divide the area-of-interest and act as the service consumer to interact
with the other NWDAF(s) supporting \"analytics metadata provisioning
capability\" to request \"Analytics Metadata Information\" corresponding to
multiple divided area-of-interests.
\- aggregate the output analytics for the requested Analytics ID(s).
If the NWDAF with \"analytics aggregation capability\" is deployed, it is
better for the operators to have the NWDAFs with \"analytics metadata
provisioning capability\" deployed as well, so that these NWDAFs can work co-
ordinately, and operator may get more performance benefit from this
coordination.
Moreover, the NWDAFs with and without \"analytics aggregation capability\"
behave differently. Comparing to the NWDAF without such capability, the NWDAF
with \"analytics aggregation capability\" needs to perform the additional
interactions with other NWDAFs and the additional aggregation operation, too.
In the multiple NWDAF deployment scenario, the operator needs to monitor the
performance related to the additional operations of a NWDAF with \"analytics
aggregation capability\" and take the result as a necessary part of the
performance of this NWDAF instance. However, for a NWDAF without \"analytics
aggregation capability\", it is meaningless and even misleading to consider
and monitor the performance related to those additional operations.
As a result, when multiple NWDAFs are deployed, the operator may want to
distinguish the NWDAF instances based on these differences, so that the
management can be performed accordingly.
However, the current NWDAFFunction IOC defined in [3] cannot reflect the
differences on the NWDAF capability aspect.
In this Key Issue, the potential solution(s) is provided to enhances the
NWDAFFunction IOC to support reflecting the differences on the NWDAF
capability aspect in multiple NWDAF deployment.
### 4.1.2 Potential requirements
REQ-NWDAF-NRM-1: the NWDAFFunction IOC should support reflecting the
differences on the NWDAF capability aspect in multiple NWDAF deployment.
### 4.1.3 Potential solutions
#### 4.1.3.1 Potential solution #1: the attribute for NWDAF capability
##### 4.1.3.1.1 Introduction
This solution is provided on how to enhance the NWDAFFunction IOC to support
reflecting the differences on the NWDAF capability aspect in multiple NWDAF
deployment. The proposed attribute indicating the different NWDAF capability
is defined in the NWDAFFunction IOC.
The proposed solution can be a potential solution for the NWDAFFunction IOC
enhancement to support multiple NWDAF deployment.
##### 4.1.3.1.2 Description
These proposed attributes indicating the \"analytics aggregation capability\"
and \"analytics metadata provisioning capability\" of NWDAF are defined in
NWDAFFunction IOC as follows:
Attribute name: analyticsAggregation;
Documentation: It represents the \"analytics aggregation capability\"
identifier, which indicates whether the NWDAF has the \"analytics aggregation
capability\".
Allowed Values: The allowed value can be \"0\"and \"1\", where \"1\" indicates
the NWDAF has the \"analytics aggregation capability\" and \"0\" indicates the
NWDAF does not support the \"analytics aggregation capability\".
Attribute name: analyticsMetadataProvisioning;
Documentation: It represents the \"analytics metadata provisioning
capability\" identifier, which indicates whether the NWDAF has the \"analytics
metadata provisioning capability\".
Allowed Values: The allowed value can be \"0\" and \"1\", where \"1\"
indicates the NWDAF has the \"analytics metadata provisioning capability\" and
\"0\" indicates the NWDAF does not support the \"analytics metadata
provisioning capability\".
### 4.1.4 Evaluation
There is one potential solution for the NWDAFFunction IOC enhancement to
support Multiple NWDAF Deployment.
In the case where multiple NWDAF instances are deployed, the NWDAFs can be
deployed as different NWDAF instances with different capabilities. In the
potential solution #1, the attribute analyticsAggregation is defined to
indicate whether the NWDAF has the analytics aggregation capability, and the
attribute analyticsMetadataProvisioning is defined to indicate whether the
NWDAF has the analytics metadata provisioning capability. This solution can be
used to distinguish the NWDAF instances based on the NWDAF capability in
multiple NWDAF deployment, so that the management can be performed
accordingly.
Consequently, this potential solution can satisfy the requirements to enhance
the NWDAFFunction IOC to support multiple NWDAF deployment. This solution is a
feasible candidate as input to the normative phase on the NWDAFFunction IOC
enhancement to support multiple NWDAF deployment.
### 4.1.5 Conclusion for KI#1
The potential solution #1 can provide attributes to distinguish the NWDAF
instances based on the NWDAF capability in multiple NWDAF deployment. This
solution can satisfy the requirements to enhance the NWDAFFunction IOC to
support multiple NWDAF deployment. This solution is a feasible candidate as
input to the normative phase on the NWDAFFunction IOC enhancement to support
multiple NWDAF deployment.
## 4.2 Key Issue #2: NWDAFFunction IOC enhancement to support the logical
decomposition of NWDAF
### 4.2.1 Description
As described in TS 23.288 [2], an NWDAF can be decomposed into Analytics
logical function (AnLF) and Model Training logical function (MTLF). And an
NWDAF can contain AnLF only, MTLF only, or both.
From the operator\'s point of view, the logical decomposition provides the
operators with the flexibility to deploy three sub-types of NWDAF instances,
i.e., NWDAF containing AnLF, NWDAF containing MTLF and NWDAF containing both
AnLF and MTLF. NWDAFs containing different logical function supports different
sets of service, for example, the \"ML model provisioning service\" is only
provided by the NWDAF containing the MTLF, and the analytic related services
are only provided by NWDAF containing AnLF.
The information of the logical decomposition provides necessary indication to
the operators on how to monitor and consider the performance of a NWDAF
instances. For example, it is necessary to monitor the performance related to
the analytics if a NWDAF instance contains AnLF. However, if the operator
knows that this NWDAF instance under observation also contains MTLF, the
operator needs additionally monitor the performance related to the model
training and take both parts of performance together into account.
From the operator\'s point of view, the NWDAF instances which train ML model
only is different from the NWDAF instances which perform inference only.
However, the NWDAFFunction IOC defined in [3] cannot reflect this difference.
As a result, the performance related to the services or the functionalities of
NWDAF instances containing different logical function cannot be provided
correctly.
In this key issue, the potential solution(s) is provided to enhance the
NWDAFFunction IOC to reflect the logical decomposition of NWDAF.
### 4.2.2 Potential requirements
REQ-NWDAF-NRM-2: the NWDAFFunction IOC should be able to reflect the logical
decomposition of NWDAF, i.e., differentiate the NWDAF contains AnLF and/or
MTLF.
### 4.2.3 Potential solutions
#### 4.2.3.1 Potential solution #1: the attribute for NWDAF logical
decomposition
##### 4.2.3.1.1 Introduction
This solution is provided on how to enhance the NWDAFFunction IOC to support
reflecting the logical decomposition of NWDAF. The proposed attribute
indicating the different NWDAF logical function is defined in the
NWDAFFunction IOC.
The proposed solution can be a potential solution for the NWDAFFunction IOC
enhancement to support logical decomposition of NWDAF.
##### 4.2.3.1.2 Description
These proposed attributes indicating the \"Analytics logical function (AnLF)\"
and \"Model Training logical function (MTLF)\" of NWDAF are defined in
NWDAFFunction IOC as follows:
Attribute name: nWDAFAnLFId;
Documentation: It represents the \"Analytics logical function (AnLF)\"
identifier, which indicates whether the NWDAF has \"Analytics logical function
(AnLF)\" supporting the analytics services.
Allowed Values: The allowed value can be \"0\" and \"1\", where \"1\"
indicates the NWDAF has AnLF and \"0\" indicates the NWDAF does not support
AnLF.
Attribute name: nWDAFMTLFId;
Documentation: It represents the \"Model Training logical function (MTLF)\"
identifier, which indicates whether the NWDAF has \"Model Training logical
function (MTLF)\" supporting the ML model related services.
Allowed Values: The allowed value can be \"0\" and \"1\", where \"1\"
indicates the NWDAF has MTLF and \"0\" indicates the NWDAF does not support
MTLF.
### 4.2.4 Evaluation
There is one potential solution for the NWDAFFunction IOC enhancement to
support the logical decomposition of NWDAF.
The NWDAF can be decomposed into Analytics Logical Function (AnLF) and Model
Training Logical Function (MTLF), and an NWDAF can contain AnLF only, MTLF
only, or both. In the potential solution #1, the attribute nWDAFAnLFId is
defined to indicate whether the NWDAF has AnLF supporting the analytics
services, and the attribute nWDAFMTLFId is defined to indicate whether the
NWDAF has MTLF supporting the ML model related services. This solution can be
used to distinguish the NWDAF instances based on the logical decomposition, so
that the management can be performed accordingly.
Consequently, this potential solution can satisfy the requirements to enhance
the NWDAFFunction IOC to support the logical decomposition of NWDAF. This
solution is a feasible candidate as input to the normative phase on the
NWDAFFunction IOC enhancement to support the logical decomposition of NWDAF.
### 4.2.5 Conclusion for KI#2
The potential solution #1 can provide attributes to distinguish the NWDAF
instances based on the logical decomposition. This solution can satisfy the
requirements to enhance the NWDAFFunction IOC to support the logical
decomposition of NWDAF. This solution is a feasible candidate as input to the
normative phase on the NWDAFFunction IOC enhancement to support the logical
decomposition of NWDAF.
## 4.3 Key Issue #3: Performance Measurement of the NWDAF on the Interaction
Aspect
### 4.3.1 Description
The NWDAF was firstly introduced in Rel-15 and it follows the SBA concept. The
interaction between the producer and consumer of the services provided by
NWDAF are defined in TS 23.288 [2].
As the requirement on network automation kept increasing, the NWDAF is
expected to provide a variety of services to the other NFs and play a very
important role in the future. Moreover, in the scenario where multiple NWDAFs
are deployed, the NWDAF is also able to act as an Aggregator NWDAF to interact
with one to multiple other NWDAFs.
From the perspective of management, it is necessary for the operator to
monitor the performance of NWDAF based on the interaction between the producer
and consumer of the services provided by the NWDAF. The performance
measurements of NWDAF on the interaction aspect can be used to estimate how
busy the NWDAF is on specific services. The interaction may include the
requests, subscriptions, responses and notifications received and/or generated
by NWDAF.
However, in the management domain, the performance measurement of NWDAF on
this aspect is missing.
In this key issue, the potential solution(s) is provided on the metrics and
KPIs for performance measurement of the NWDAF based on the interaction between
the producer and consumer of the analytics services provided by the NWDAF.
### 4.3.2 Potential requirements
**REQ-NWDAF-SERV-COUNT-1：** the 3GPP management system should have a
capability to provide the statistic information of the analytic services
provided by NWDAF, if applicable, about how frequently a specific analytic is
requested and the service successful rate.
**REQ-NWDAF-SERV-COUNT-2：** the 3GPP management system should have a
capability to provide the statistic information of the ML model provisioning
services provided by NWDAF, if applicable, about how frequently a ML model
which specified for an analytic is requested and the service successful rate.
**REQ-NWDAF-SERV-AGG-COUNTER-1:** the 3GPP management system should have a
capability to provide the statistic information of the analytic services
requested by the Aggregator NWDAF for aggregating the analytics information
from the other NWDAFs. The provided statistic information should be about how
frequently a specific analytic is requested and the service successful rate
**REQ-NWDAF- SERV-KPI-1:** the 3GPP management system may have a capability to
provide the NWDAF service usage based on the measurement of the interaction
between the producer and consumer of the services provided by the NWDAF.
### 4.3.3 Potential solutions
#### 4.3.3.1 Potential solution #1: number of subscriptions and/or requests
##### 4.3.3.1.1 Introduction
This solution is proposed on how to provide the performance measurements of
the NWDAF based on the subscriptions and/or requests received by NWDAF. The
proposed performance measurements are defined as the number of subscriptions
and/or requests received by NWDAF.
The proposed solution can be a potential solution for the performance
measurement of the NWDAF supporting analytics services, such as NWDAF
containing Analytics Logical Function (AnLF), based on the interaction aspect.
##### 4.3.3.1.2 Description
This proposed performance measurements of the NWDAF are defined as the number
of subscriptions and/or requests received by NWDAF.
Moreover, since different type of analytics, network slices and 5G VN group
may consume different resource (e.g., virtual CPU resource, virtual memory
resource or virtual disk resource) of NWDAF, it is necessary to define the
performance measurements of NWDAF based on the granularity of analytics, slice
or 5G VN group.
Therefore, this proposed performance measurements are also defined as the
number of subscriptions and/or requests received by NWDAF based on the
analytics ID, S-NSSAI or 5G VN group ID. The analytics ID identifies the
requested analytics and the S-NSSAI identifies the network slice. The 5G VN
group ID use External Group ID and Internal Group ID to identify the 5G VN
group. The analytics ID, S-NSSAI and Internal or External Group ID can be
obtained from the NWDAF service consumer (see TS 23.288 [2]).
The number of subscriptions received by NWDAF can be measured as follows:
\- When the NWDAF receives the Nnwdaf_AnalyticsSubscription_Subscribe service
operation (See TS 23.288 [2]) from the NWDAF service consumer, each accepted
subscription is added to the relevant counter.
The number of requests received by NWDAF can be measured as follows:
\- When the NWDAF receives the Nnwdaf_AnalyticsInfo_Request service operation
(See TS 23.288 [2]) from the NWDAF service consumer, each accepted request is
added to the relevant counter.
The number of subscriptions received by NWDAF based on the analytics ID(s) can
be measured as follows:
\- When the NWDAF receives the Nnwdaf_AnalyticsSubscription_Subscribe service
operation (See TS 23.288 [2]) from the NWDAF service consumer, each accepted
subscription is added to the relevant subcounter per analytics ID.
The number of subscriptions received by NWDAF based on the S-NSSAI can be
measured as follows:
\- When the NWDAF receives the Nnwdaf_AnalyticsSubscription_Subscribe service
operation (See TS 23.288 [2]) from the NWDAF service consumer, each accepted
subscription is added to the relevant subcounter per S-NSSAI.
The number of subscriptions received by NWDAF based on the 5G VN group can be
measured as follows:
\- When the NWDAF receives the Nnwdaf_AnalyticsSubscription_Subscribe service
operation (See TS 23.288 [2]) from the NWDAF service consumer, each accepted
subscription is added to the relevant subcounter per Internal or External
Group ID.
The number of requests received by NWDAF based on the analytics ID(s) can be
measured as follows:
\- When the NWDAF receives the Nnwdaf_AnalyticsInfo_Request service operation
(See TS 23.288 [2]) from the NWDAF service consumer, each accepted request is
added to the relevant subcounter per analytics ID.
The number of requests received by NWDAF based on the S-NSSAI can be measured
as follows:
\- When the NWDAF receives the Nnwdaf_AnalyticsInfo_Request service operation
(See TS 23.288 [2]) from the NWDAF service consumer, each accepted request is
added to the relevant subcounter per S-NSSAI.
The number of requests received by NWDAF based on the 5G VN group can be
measured as follows:
\- When the NWDAF receives the Nnwdaf_AnalyticsInfo_Request service operation
(See TS 23.288 [2]) from the NWDAF service consumer, each accepted request is
added to the relevant subcounter per Internal or External Group ID.
#### 4.3.3.2 Potential solution #2: number of notifications and/or responses
##### 4.3.3.2.1 Introduction
This solution is proposed on how to provide the performance measurements of
the NWDAF based on the notifications and/or responses generated by NWDAF. The
proposed performance measurements are defined as the number of notifications
and/or responses generated by NWDAF.
The proposed solution can be a potential solution for the performance
measurement of the NWDAF supporting analytics services, such as NWDAF
containing Analytics Logical Function (AnLF), based on the interaction aspect.
##### 4.3.3.2.2 Description
This proposed performance measurements of the NWDAF are defined as the number
of notifications and/or responses generated by NWDAF.
Moreover, since different type of analytics, network slices and 5G VN group
may consume different resource (e.g., virtual CPU resource, virtual memory
resource or virtual disk resource) of NWDAF, it is necessary to define the
performance measurements of NWDAF based on the granularity of analytics, slice
or 5G VN group.
Therefore, this proposed performance measurements are also defined as the
number of notifications and/or responses generated by NWDAF based on the
analytics ID(s), S-NSSAI or 5G VN group ID. The analytics ID identifies the
requested analytics and the S-NSSAI identifies the network slice. The 5G VN
group ID use External Group ID and Internal Group ID to identify the 5G VN
group. The analytics ID(s), S-NSSAI and Internal or External Group ID can be
obtained from the NWDAF service consumer (see TS 23.288 [2]).
The number of notifications generated by NWDAF can be measured as follows:
\- When the NWDAF generates the Nnwdaf_AnalyticsSubscription_Notify service
operation to NWDAF service consumer (See TS 23.288 [2]), each generated
notification is added to the relevant counter.
The number of responses generated by NWDAF can be measured as follows:
\- When the NWDAF generates the Nnwdaf_AnalyticsInfo_Request Response service
operation to NWDAF service consumer (See TS 23.288 [2]), each generated
response is added to the relevant counter.
The number of notifications generated by NWDAF based on the analytics ID(s)
can be measured as follows:
\- When the NWDAF generates the Nnwdaf_AnalyticsSubscription_Notify service
operation to NWDAF service consumer (See TS 23.288 [2]), each generated
notification is added to the relevant subcounter per analytics ID.
The number of notifications generated by NWDAF based on the S-NSSAI can be
measured as follows:
\- When the NWDAF generates the Nnwdaf_AnalyticsSubscription_Notify service
operation to NWDAF service consumer (See TS 23.288 [2]), each generated
notification is added to the relevant subcounter per S-NSSAI.
The number of notifications generated by NWDAF based on the 5G VN group can be
measured as follows:
\- When the NWDAF generates the Nnwdaf_AnalyticsSubscription_Notify service
operation to NWDAF service consumer (See TS 23.288 [2]), each generated
notification is added to the relevant subcounter per Internal or External
Group ID.
The number of responses generated by NWDAF based on the analytics ID(s) can be
measured as follows:
\- When the NWDAF generates the Nnwdaf_AnalyticsInfo_Request Response service
operation to NWDAF service consumer (See TS 23.288 [2]), each generated
response is added to the relevant subcounter per analytics ID.
The number of responses generated by NWDAF based on the S-NSSAI can be
measured as follows:
\- When the NWDAF generates the Nnwdaf_AnalyticsInfo_Request Response service
operation to NWDAF service consumer (See TS 23.288 [2]), each generated
response is added to the relevant subcounter per S-NSSAI.
The number of responses generated by NWDAF based on the 5G VN group can be
measured as follows:
\- When the NWDAF generates the Nnwdaf_AnalyticsInfo_Request Response service
operation to NWDAF service consumer (See TS 23.288 [2]), each generated
response is added to the relevant subcounter per Internal or External Group
ID.
#### 4.3.3.3 Potential solution #3: number of subscriptions/requests generated
by Aggregator NWDAF
##### 4.3.3.3.1 Introduction
In the cases where a NWDAF service consumer requests Analytics ID(s) that
requires multiple NWDAFs to collectively serve the request, the Aggregator
NWDAF (i.e. the NWDAF with analytics aggregation capability) may be deployed
to support requesting the analytics information from other NWDAFs and
aggregating this analytics information.
This solution is proposed on how to provide the performance measurements of
the NWDAF based on the subscriptions and/or requests sent by Aggregator NWDAF.
The proposed performance measurements are defined as the number of
subscriptions and/or requests sent by Aggregator NWDAF.
The proposed solution can be a potential solution for the performance
measurement of the NWDAF based on the interaction aspect.
##### 4.3.3.3.2 Description
These proposed performance measurements of the NWDAF are defined as the number
of subscriptions/requests sent by Aggregator NWDAF. Moreover, since different
type of analytics may consume different resource (e.g., virtual CPU resource,
virtual memory resource or virtual disk resource) of NWDAF, it is necessary to
define the performance measurements of NWDAF based on the granularity of
analytics. Therefore, this proposed performance measurements are also defined
as the number of subscriptions/requests generated by Aggregator NWDAF based on
the analytics ID(s). The analytics ID identifies the requested analytics,
which can be obtained from the NWDAF service consumer (see TS 23.288 [2]).
The number of subscriptions sent by the Aggregator NWDAF to the other NWDAFs
to subscribe analytics information for analytics aggregation can be measured
as follows:
\- When the Aggregator NWDAF sends the Nnwdaf_AnalyticsSubscription_Subscribe
service operations (See TS 23.288 [2]) to the other NWDAFs to subscribe
analytics information for analytics aggregation, each subscription is added to
the relevant counter.
The number of subscriptions sent by the Aggregator NWDAF to the other NWDAFs
to subscribe analytics information for analytics aggregation, based on the
analytics ID(s), can be measured as follows:
\- When the Aggregator NWDAF sends the Nnwdaf_AnalyticsSubscription_Subscribe
service operations (See TS 23.288 [2]) to the other NWDAFs to subscribe
analytics information for analytics aggregation, each subscription is added to
the relevant subcounter per analytics ID.
The number of requests sent by the Aggregator NWDAF to the other NWDAFs to
request analytics information for analytics aggregation can be measured as
follows:
\- When the Aggregator NWDAF sends the Nnwdaf_AnalyticsInfo_Request service
operation (See TS 23.288 [2]) to the other NWDAFs to request analytics
information for analytics aggregation, each request is added to the relevant
counter.
The number of requests sent by the Aggregator NWDAF to the other NWDAFs to
request analytics information for analytics aggregation, based on the
analytics ID(s), can be measured as follows:
\- When the Aggregator NWDAF sends the Nnwdaf_AnalyticsInfo_Request service
operation (See TS 23.288 [2]) to the other NWDAFs to request analytics
information for analytics aggregation, each request is added to the relevant
subcounter per analytics ID.
#### 4.3.3.4 Potential solution #4: number of notifications/responses received
by Aggregator NWDAF
##### 4.3.3.4.1 Introduction
In the cases where a NWDAF service consumer requests Analytics ID(s) that
requires multiple NWDAFs to collectively serve the request, the Aggregator
NWDAF (i.e. the NWDAF with analytics aggregation capability) may be deployed
to support requesting the analytics information from other NWDAFs and
aggregating this analytics information.
This solution is proposed on how to provide the performance measurements of
the NWDAF based on the notifications and/or responses received by Aggregator
NWDAF. The proposed performance measurements are defined as the number of
notifications and/or responses received by Aggregator NWDAF.
The proposed solution can be a potential solution for the performance
measurement of the NWDAF based on the interaction aspect.
##### 4.3.3.4.2 Description
These proposed performance measurements of the NWDAF are defined as the number
of notifications/responses received by Aggregator NWDAF. Moreover, since
different type of analytics may consume different resource (e.g., virtual CPU
resource, virtual memory resource or virtual disk resource) of NWDAF, it is
necessary to define the performance measurements of NWDAF based on the
granularity of analytics. Therefore, this proposed performance measurements
are also defined as the number of notifications/responses received by
Aggregator NWDAF based on the analytics ID(s). The analytics ID identifies the
requested analytics, which can be obtained from the NWDAF service consumer
(see TS 23.288 [2]).
The number of notifications received by the Aggregator NWDAF from the other
NWDAFs to get analytics information for analytics aggregation can be measured
as follows:
\- When the Aggregator NWDAF receives the Nnwdaf_AnalyticsSubscription_Notify
service operation (See TS 23.288 [2]) from the other NWDAFs to get analytics
information for analytics aggregation, each notification is added to the
relevant counter.
The number of notifications received by the Aggregator NWDAF from the other
NWDAFs to get analytics information for analytics aggregation, based on the
analytics ID(s), can be measured as follows:
\- When the Aggregator NWDAF receives the Nnwdaf_AnalyticsSubscription_Notify
service operation (See TS 23.288 [2]) from the other NWDAFs to get analytics
information for analytics aggregation, each notification is added to the
relevant subcounter per analytics ID.
The number of responses received by the Aggregator NWDAF from the other NWDAFs
to get analytics information for analytics aggregation can be measured as
follows:
\- When the Aggregator NWDAF receives the Nnwdaf_AnalyticsInfo_Request
Response service operation (See TS 23.288 [2]) from the other NWDAFs to get
analytics information for analytics aggregation, each response is added to the
relevant counter.
The number of responses received by the Aggregator NWDAF from the other NWDAFs
to get analytics information for analytics aggregation, based on the analytics
ID(s), can be measured as follows:
\- When the Aggregator NWDAF receives the Nnwdaf_AnalyticsInfo_Request
Response service operation (See TS 23.288 [2]) from the other NWDAFs to get
analytics information for analytics aggregation, each response is added to the
relevant subcounter per analytics ID.
#### 4.3.3.5 Potential solution #5: correctness of service usage
##### 4.3.3.5.1 Introduction
This solution is proposed on how to provide the performance measurements of
the NWDAF **service usage**. The proposed key performance indicator is defined
as a Boolean that expresses whether the NWDAF is observing the \"**Expected
service usage** \" or \"**Abnormal service usage** \". \"Expected service
usage\" represents the case where the distribution of requests is similar
distribution of requests observed during normal operations, otherwise
\"Abnormal service usage\" represents the case where their mare major
variations in the number of requests.
##### 4.3.3.5.2 Description
The solution proposes to use as input the requests received by an NWDAF
service producer, and to produces an analysis of the expected incoming
requests distribution. For this the MnS producer is given an indication of a
period of normal operations, e.g., one where the operator monitors the
incoming requests to confirm that they are normal and expected requests. Based
on those requests, the MnS producer computes this \"expected distribution of
incoming requests\" parameterised by different characteristics like time,
location, requesting function, etc.
Then at any point during operations, the MnS producer computes a
\"distribution of the arriving service requests\" which is computed the same
way as the \"expected distribution of incoming requests\" but from requests
received at that time (i.e., when the operator does not monitor the requests).
The MnS producer may take as input the expected behaviour of the service
producers\' incoming requests as the specific \"expected distribution of
incoming requests \" e.g. for a specific requesting function and provides a
comparison between these expected distribution of incoming requests \" and the
distribution of the arriving service requests.
The outcome is an indication whether the service is used as expected or is
being used abnormally.
Note: The service usage performance indication can be computed for any of the
services of the NWDAF.
#### 4.3.3.6 Potential solution #6: number of subscriptions and/or requests
received by NWDAF supporting ML model provision services
##### 4.3.3.6.1 Introduction
In order to measure the performance of the NWDAF related to the Model Training
Logical Function (MTLF) on the interaction aspect, this solution is proposed
to provide the performance measurements based on the subscriptions and/or
requests received by NWDAF. The proposed performance measurements are provided
as the number of subscriptions and/or requests received by NWDAF.
The proposed solution can be a potential solution for the performance
measurement of the NWDAF supporting ML model provision services, such as NWDAF
containing Model Training Logical Function (MTLF), based on the interaction
aspect.
##### 4.3.3.6.2 Description
These performance measurements of the NWDAF related to the MTLF on the
interaction aspect are provided as the number of subscriptions and/or requests
received by NWDAF supporting model provision services. Moreover, the ML model
is associated with the analytics ID. Therefore, these proposed performance
measurements are also provided as the number of subscriptions and/or requests
received by NWDAF based on the analytics ID. The analytics ID identifies the
analytics for which the ML model is used and can be obtained from the NWDAF
service consumer (see TS 23.288 [2]).
The number of subscriptions received by NWDAF can be measured as follows:
\- When the NWDAF receives the Nnwdaf_MLModelProvision_Subscribe service
operation (See TS 23.288 [2]) from the NWDAF service consumer, each accepted
subscription is added to the relevant counter.
The number of requests received by NWDAF can be measured as follows:
\- When the NWDAF receives the Nnwdaf_MLModelInfo_Request service operation
(See TS 23.288 [2]) from the NWDAF service consumer, each accepted request is
added to the relevant counter.
The number of subscriptions received by NWDAF based on the analytics ID(s) can
be measured as follows:
\- When the NWDAF receives the Nnwdaf_MLModelProvision_Subscribe service
operation (See TS 23.288 [2]) from the NWDAF service consumer, each accepted
subscription is added to the relevant subcounter per analytics ID.
The number of requests received by NWDAF based on the analytics ID(s) can be
measured as follows:
\- When the NWDAF receives the Nnwdaf_MLModelInfo_Request service operation
(See TS 23.288 [2]) from the NWDAF service consumer, each accepted request is
added to the relevant subcounter per analytics ID.
#### 4.3.3.7 Potential solution #7: number of notifications and/or responses
generated by NWDAF supporting ML model provision services
##### 4.3.3.7.1 Introduction
In order to measure the performance of the NWDAF related to the Model Training
Logical Function (MTLF) on the interaction aspect, this solution is proposed
to provide the performance measurements based on the notifications and/or
responses generated by NWDAF. The proposed performance measurements are
provided as the number of notifications and/or responses generated by NWDAF.
The proposed solution can be a potential solution for the performance
measurement of the NWDAF supporting ML model provision services, such as NWDAF
containing Model Training Logical Function (MTLF), based on the interaction
aspect.
##### 4.3.3.7.2 Description
These performance measurements of the NWDAF related to the MTLF on the
interaction aspect are provided as the number of notifications and/or
responses generated by NWDAF supporting ML model provision services. Moreover,
the ML model is associated with the analytics. Therefore, this proposed
performance measurements are also provided as the number of notifications
and/or responses generated by NWDAF based on the analytics ID(s). The
analytics ID identifies the analytics for which the ML model is used and can
be obtained from the NWDAF service consumer (see TS 23.288 [2]).
The number of notifications generated by NWDAF can be measured as follows:
\- When the NWDAF generates the Nnwdaf_MLModelProvision_Notify service
operation to NWDAF service consumer (See TS 23.288 [2]), each generated
notification is added to the relevant counter.
The number of responses generated by NWDAF can be measured as follows:
\- When the NWDAF generates the Nnwdaf_MLModelInfo_Request Response service
operation to NWDAF service consumer (See TS 23.288 [2]), each generated
response is added to the relevant counter.
The number of notifications generated by NWDAF based on the analytics ID(s)
can be measured as follows:
\- When the NWDAF generates the Nnwdaf_MLModelProvision_Notify service
operation to NWDAF service consumer (See TS 23.288 [2]), each generated
notification is added to the relevant subcounter per analytics ID.
The number of responses generated by NWDAF based on the analytics ID(s) can be
measured as follows:
\- When the NWDAF generates the Nnwdaf_MLModelInfo_Request Response service
operation to NWDAF service consumer (See TS 23.288 [2]), each generated
response is added to the relevant subcounter per analytics ID.
### 4.3.4 Evaluation
In order to measure how busy the NWDAF is on specific services, there are
multiple potential solutions proposed for the performance measurement of the
NWDAF on the interaction aspect.
In the potential solution #1, the performance measurements of NWDAF on the
interaction aspect are provided as the number of subscriptions and/or requests
received by NWDAF. In the potential solution #2, the performance measurements
of NWDAF on the interaction aspect are provided as the number of notifications
and/or responses generated by NWDAF.
In the potential solution #3, the performance measurements of Aggregator NWDAF
on the interaction aspect are provided as the number of subscriptions and/or
requests invoked by the Aggregator NWDAF to subscribe and/or request the
analytics information for analytics aggregation. In the potential solution #4,
the performance measurements of Aggregator NWDAF on the interaction aspect are
provided as the number of notifications and/or responses received by
Aggregator NWDAF to get analytics information for analytics aggregation.
The potential solution #1 and #2 can support the performance measurement of
the NWDAF on the interaction aspect for performing the normal task (i.e., the
analytics services). The potential solution #3 and #4 can support the
performance measurement of the Aggregator NWDAF on the interaction aspect for
performing the extra tasks (i.e., subscribe/request the analytics information
from the other NWDAFs and aggregate the analytics output) compared to the
normal task. These proposed performance measurements on the interaction aspect
can indicate how busy the NWDAF is on analytics related services.
The potential solution #5 introduces the idea that a MnS producer will provide
statistic information such as \"distribution of the arriving service
requests\" and \"expected distribution of incoming requests\" and based on
which, whether the NWDAF is observing the \"Expected service usage\" or
\"Abnormal service usage\" can be provided as performance measurements of the
NWDAF service usage.
However, the potential solution #5 is not complete, since it is not clear
which NFs/MFs will be the MnS producer used to provide the results
corresponding the \"expected distribution of incoming requests\" and/or
\"distribution of the arriving service requests\" and how.
In the potential solution #6, the performance measurements of NWDAF related to
MTLF on the interaction aspect are provided as the number of subscriptions
and/or requests received by NWDAF supporting model provisioning services. In
the potential solution #7, the performance measurements of NWDAF related to
MTLF on the interaction aspect are provided as the number of notifications
and/or responses generated by NWDAF supporting model provisioning services.
The potential solution #6 and #7 can support the performance measurements of
the NWDAF on the interaction aspect for performing the model provisioning
related services. These proposed measurements on the interaction aspect are
basic statistic information which can be used to indicate how busy the NWDAF
is on model provisioning related services. Moreover, with these basic
measurements, other performance of NWDAF such as successful rate of model
provisioning related services can be derived.
Consequently, the potential solutions #1, #2, #3, #4, #6 and #7 can provide
the performance measurement of the NWDAF on the interaction aspect. These
potential solutions are feasible candidates as input to the normative phase on
the performance measurement of the NWDAF performing the normal task and extra
task.
### 4.3.5 Conclusion for KI#3
The potential solutions #1, #2, #3, #4, #6 and #7 can provide the performance
measurement of the NWDAF on the interaction aspect. These potential solutions
are feasible candidates as input to the normative phase on the performance
measurement of the NWDAF performing the normal task and extra task.
## 4.4 Key Issue #4: Performance Measurement for NWDAF Data Collection
### 4.4.1 Description
The Data Collection feature permits NWDAF to retrieve data from various data
sources (e.g., NF such as AMF, SMF, PCF, UDM and AF; OAM), as a basis of the
computation of network analytics [2].
The retrieval of data has impacts on the performance of both the data source
and NWDAF. For the data source, all the data required by NWDAF needs to be
generated or prepared accordingly before they are retrieved by NWDAF. And for
the NWDAF, it needs to distinguish every piece of data received from different
data sources and of data received from the same data source but for different
network analytic purposes.
The operator may notice that the data collection is the major task of one
NWDAF instance, therefore, less computation resource can be allocated to that
NWDAF instance, and more storage and network resources may be allocated if
necessary. Or on the extreme cases, a new NWDAF instance needs to be provided
or it may be found out that deploying a DCCF is the optimum solution. For
making a decision, the measurement data is needed, such as how many data is
collected by a NWDAF instance or by all NWDAF instances related to some areas
of interests, so that the operator could have the understanding and estimation
of the working load and working status of the NWDAF instance.
Moreover, it is also beneficial to have the granular measurement of data
collection, such as measuring the data collected from different type of data
sources. This measurement may provide information about if it is possible to
optimize the deployment of NWDAF. For example, the NWDAF instance may be
geographically deployed closer to its major data source to reduce the latency
and save network resources.
In the other case, the monitoring of data collection will help improve the
other services provided by NWDAF. For example, for model training, the
training data are expected to be collected periodically. However, in
practical, not all of the data are collected successfully, some of them can be
missing which is probably caused the malfunctioning of the data source or
network transmission issue. The more the data is missing the worse the
degradation of the quality of the training data will be. And it will bring
negative effect to the model training, such as a slow converging rate. Similar
situation may also happen to input data of analytic services and analytic
results.
By monitoring the periodical notification which is used for data collection
expected and actually received by the NWDAF, it is possible to estimate the
quality of the data collected in a period which will indicate whether the data
collected in this period is able to reflect the network correctly and
sufficiently and whether some additional data cleansing or data augmentation
are needed before the they are used for model training or analytics.
In this key issue, the potential solutions are provided to define the new
performance measurement reflecting the data collection performed by NWDAF to
fulfil the following potential requirements:
**REQ-NWDAF_COUNT-1** the 3GPP management system shall have a capability to
allow an authorized consumer to configure the NWDAF to monitoring the data
collection actions initiated by the NWDAF and the corresponding result,
respectively. And the monitoring shall be able to distinguish the data
collection from different type of data sources.
**REQ-NWDAF_COUNT-2** the 3GPP management system shall have a capability to
allow an authorized consumer to configure the NWDAF to monitoring the
periodical notification which is used for data collection expected and
received by the NWDAF, respectively.
### 4.4.2 Potential requirements
**REQ-NWDAF-DC-SERV-COUNT-1:** the 3GPP management system should have the
capability to allow an authorized consumer to configure the NWDAF to provide
statistic information of the data collection actions initiated by the NWDAF
and the corresponding result, respectively. The provided statistic information
should be about how frequently the NWDAF collects data and should be able to
distinct different data sources.
**REQ-NWDAF-DC-SERV-COUNT-2:** the 3GPP management system should have a
capability to allow an authorized consumer to configure the NWDAF to provide
statistic information of the periodical data collection requested by the
NWDAF.
### 4.4.3 Potential solutions
#### 4.4.3.1 Potential solution #1: number of subscriptions for NWDAF Data
Collection
##### 4.4.3.1.1 Introduction
Data collection may be performed via NWDAF by using at least one of the
following services from OAM, and NFs (including AFs directly or via NEF) to
collect data. The services includes (see TS 23.288 [2]):
\- the Generic management services, the Performance Management services or the
Fault Supervision services, offered by OAM in order to collect OAM global NF
data.
\- the Exposure services offered by NFs in order to retrieve data and other
non-OAM pre-computed metrics available in the NFs.
\- Other NF services in order to collect NF data (e.g. NRF)
The number of subscriptions generated by NWDAF for the services can be a
potential performance metric for NWDAF Data Collection. If the NWDAF sends
subscriptions with different Analytics IDs to the same data sources for data
collection, then more storage resources may be recommended to be allocate to
the NWDAF to store these data and prevent data sources from having to handle
multiple subscriptions containing the same information.
##### 4.4.3.1.2 Description
This proposed performance measurements of the NWDAF are defined as the number
of subscriptions generated by NWDAF. Since the Data Source and the services
used are different, the number of subscriptions is defined based on the Data
Source.
The number of subscriptions generated by NWDAF from NFs for Data Collection
can be measured as follows:
\- When the NWDAF generates the Nnf_EventExposure_Subscribe service operation
to NF (See TS 23.288 [2]), each generated subscription is added to the
relevant subcounter per data source.
The number of subscriptions generated by NWDAF from AF via NEF for Data
Collection can be measured as follows:
\- When the NWDAF generates the Nnef_EventExposure_Subscribe service operation
to NEF (See TS 23.288 [2]), each generated subscription is added to the
relevant subcounter per data source.
#### 4.4.3.2 Potential solution #2: number of notifications for NWDAF Data
Collection
##### 4.4.3.2.1 Introduction
The number of notifications received by NWDAF for these services can be a
potential performance metric for NWDAF Data Collection, which can reflect the
amount of data and how often data is received. If the NWDAF receives
notifications with the same or different Analytics ID(s) from the same data
sources for data collection, then more storage resources may be recommended to
be allocated to the NWDAF to store these data and to prevent data sources from
having to send multiple notifications.
##### 4.4.3.2.2 Description
This proposed performance measurements of the NWDAF are defined as the number
of notifications received by NWDAF. Since the Data Source and the services
used are different, the number of notifications is defined based on the Data
Source.
The number of notifications received by NWDAF from NFs for Data Collection can
be measured as follows:
\- When the NWDAF receives the Nnf_EventExposure_Notify service operation from
NF (See TS 23.288 [2]), each received notifications is added to the relevant
subcounter per data source.
The number of notifications received by NWDAF from AF via NEF for Data
Collection can be measured as follows:
\- When the NWDAF receives the Nnef_EventExposure_Notify service operation
from NEF (See TS 23.288 [2]), each received notifications is added to the
relevant subcounter per data source.
### 4.4.4 Evaluation
There are two potential solutions for the performance measurement for NWDAF
data collection. In the potential solution #1, the performance measurement for
NWDAF data collection is provided as the number of subscriptions generated by
NWDAF. In the potential solution #2, the performance measurement for NWDAF
data collection is provided as the number of notifications received by NWDAF.
These measurements can reflect how often the NWDAF collect data. Moreover,
these measurements can be also used to infer the quality of the data collected
in a period which can indicate whether the data requested is missing or
collected successfully, so that the additional data cleansing or data
augmentation action can be performed accordingly before these data are used
for model training or analytics. However, there is still an Editor\'s note
which describes that the potential solutions can not reflect the amount of
data collected by NWDAF. So how to measure the amount of data is FFS.
Consequently, the potential solutions #1 and #2 can provide the performance
measurement of NWDAF on the data collection aspect. These two potential
solutions can reflect how often the NWDAF collect data and can be used to
infer the performance of NWDAF on data collection (e.g., the quality of the
data collected). These two potential solutions can satisfy requirements
proposed before. These potential solutions are feasible candidates as input to
the normative phase on the performance measurement for NWDAF data collection.
How to accurately quantify the amount of data collected by NWDAF is FFS.
### 4.4.5 Conclusion for KI#4
The potential solutions #1 and #2 can provide the performance measurement of
NWDAF on the data collection aspect. These two potential solutions can reflect
how often the NWDAF collect data and can be used to infer the performance of
NWDAF on data collection (e.g., the quality of the data collected). These
potential solutions are feasible candidates as input to the normative phase on
the performance measurement for NWDAF data collection. How to accurately
quantify the amount of data collected by NWDAF is FFS.
## 4.5 Key Issue #5: Performance Measurement on Data Collection Exposed by
NWDAF
### 4.5.1 Description
Data collection play an important role for the NWDAF providing analytic
services and model training services.
Enhanced data collection feature was introduced, with which the data
collection may be performed via Nnwdaf DataManagement services provided by
NWDAF.
The Nnwdaf_DataManagement services enable the consumer to
subscribe/unsubscribe, be notified about data exposed by NWDAF, or fetch the
subscribed data. The consumer of the Nnwdaf_DataManagement services can be the
other NWDAF instances.
The operator may be interested in the how often the Nnwdaf_DataManagement
services are requested or how many data are provided via Nnwdaf_DataManagement
services.
On one hand, the service provider NWDAF will prepare the data before they are
provided to consumer, and since the preparation includes both collection and
processing of the data from the other data sources and historical data having
been collected by NWDAF, this measurement will indicate how busy the NWDAF is
on data collection related services which can be taken as a reflection of the
overhead variation of NWDAF. This measurement will also lead to adjusting the
network resource allocated to the service provider NWDAF instance to support
data exchange with other consumers. And on some other cases, this measurement
may indicate that deploying a dedicated DCCF is necessary.
On the other hand, as the enhanced data collection feature is introduced NWDAF
to increases data collection efficiency, this measurement will be a
complimentary for the performance measurement of the NWDAFs which does not
support DataManagement services. This measurement will also provide
information on how many data collection is performed with the more effective
manner, which can contribute the potential reduction of the CAPEX.
In this key issue, the potential solutions are provided on the performance
measurement about the Nnwdaf_DataManagement services provided by NWDAF.
### 4.5.2 Potential requirements
**REQ-NWDAF-DM-SERV-COUNT-1：** the 3GPP management system should have a
capability to provide the statistic information of the Nnwdaf_DataManagement
services provided by NWDAF about how frequently the services are requested and
about the service successful rate.
### 4.5.3 Potential solutions
#### 4.5.3.1 Potential solution #1: number of Nnwdaf_DataManagement service
subscriptions and/or requests
##### 4.5.3.1.1 Introduction
This solution is proposed on how to provide the performance measurement about
the Nnwdaf_DataManagement service provided by NWDAF. In this solution, the
proposed performance measurements are defined as the number of
Nnwdaf_DataManagement service subscriptions and/or requests received by NWDAF.
The proposed solution can be a potential solution for the performance
measurement about the Nnwdaf_DataManagement services provided by NWDAF.
##### 4.5.3.1.2 Description
The proposed performance measurements about the Nnwdaf_DataManagement service
are defined as the number of Nnwdaf_DataManagement service subscriptions
and/or requests received by NWDAF.
The number of Nnwdaf_DataManagement service subscriptions received by NWDAF
can be measured as follows:
\- When the NWDAF receives the Nnwdaf_DataManagement_Subscribe service
operation (See TS 23.288 [2]) from the NWDAF service consumer, each accepted
subscription is added to the relevant counter.
\- When the NWDAF receives the Nnwdaf_DataManagement_Subscribe service
operation (See TS 23.288 [2]) from the NWDAF service consumer, each rejected
subscription is added to the relevant counter.
The number of Nnwdaf_DataManagement service requests received by NWDAF can be
measured as follows:
\- When the NWDAF receives the Nnwdaf_DataManagement_Fetch service operation
(See TS 23.288 [2]) from the NWDAF service consumer, each accepted request is
added to the relevant counter.
\- When the NWDAF receives the Nnwdaf_DataManagement_Fetch service operation
(See TS 23.288 [2]) from the NWDAF service consumer, each rejected request is
added to the relevant counter.
#### 4.5.3.2 Potential solution #2: number of Nnwdaf_DataManagement service
notifications and/or responses
##### 4.5.3.2.1 Introduction
This solution is proposed on how to provide the performance measurement about
the Nnwdaf_DataManagement service provided by NWDAF. In this solution, the
proposed performance measurements are defined as the number of
Nnwdaf_DataManagement service notifications and/or responses generated by
NWDAF.
The proposed solution can be a potential solution for the performance
measurement about the Nnwdaf_DataManagement services provided by NWDAF.
##### 4.5.3.2.2 Description
The proposed performance measurements of the NWDAF are defined as the number
of Nnwdaf_DataManagement service notifications and/or responses generated by
NWDAF.
The number of Nnwdaf_DataManagement service notifications generated by NWDAF
can be measured as follows:
\- When the NWDAF generates the Nnwdaf_DataManagement_Notify service operation
to NWDAF service consumer (See TS 23.288 [2]), each generated notification is
added to the relevant counter.
\- When the NWDAF generates the Nnwdaf_DataManagement_Notify service operation
to NWDAF service consumer (See TS 23.288 [2]), each generated error
notification is added to the relevant counter.
The number of Nnwdaf_DataManagement service responses generated by NWDAF can
be measured as follows:
\- When the NWDAF generates the Nnwdaf_DataManagement_Fetch Response service
operation to NWDAF service consumer (See TS 23.288 [2]), each generated
response is added to the relevant counter.
\- When the NWDAF generates the Nnwdaf_DataManagement_Notify service operation
to NWDAF service consumer (See TS 23.288 [2]), each generated error response
is added to the relevant counter.
### 4.5.4 Evaluation
In order to measure how busy the NWDAF is on data collection related services,
there are multiple potential solutions for the performance measurement on data
collection exposed by NWDAF. The data collection may be performed via Nnwdaf
DataManagement services provided by NWDAF.
In the potential solution #1, the performance measurements on data collection
exposed by NWDAF are provided as the number of Nnwdaf_DataManagement service
subscriptions and/or requests received by NWDAF. In the potential solution #2,
the performance measurements on data collection exposed by NWDAF are provided
as the number of Nnwdaf_DataManagement service notifications and/or responses
generated by NWDAF.
These two proposed performance measurements can indicate how often the
Nnwdaf_DataManagement services are requested and how busy the NWDAF is on data
collection related services.
Consequently, these two potential solutions are feasible candidates as input
to the normative phase on the performance measurement on data collection
exposed by NWDAF.
### 4.5.5 Conclusion for KI#5
The potential solution #1 and #2 can provide the performance measurements on
data collection exposed by NWDAF which can satisfy the requirements. These two
potential solutions are feasible candidates as input to the normative phase on
the performance measurement on data collection exposed by NWDAF.
## 4.6 Key Issue #6: Performance measurement of the NWDAF related to the
analytics result generation
### 4.6.1 Description
The analytic result provided by the NWDAF may be time sensitive. For those
analytics, the consumers of analytics services may indicate to the NWDAF the
latest time that they expect to receive the analytics result provided by the
NWDAF, e.g., \"in 10 minutes\". And at the same time, this time should not be
set to a value less than the Supported Analytics Delay of the selected NWDAF,
if applicable. Otherwise, after NWDAF receives the service
requests/subscriptions, the NWDAF does not have enough time to perform the
actions related to the analysing.
Not only the service consumers have additional requirements on the time used
by NWDAF to generate the analytic result, but the operators may also want to
have a close look at how much time is consumed by a NWDAF instance to generate
the analytics result. For example, an increasing average time consumed by a
NWDAF instance to provide a specific type of analytic, e.g., a specific
Analytics ID or a group of Analytics IDs, may indicate efficiency problems
which may be caused by inefficient data collection, insufficient resource
allocation or even worse: something wrong within the NWDAF instance.
With this information, the operators are able to understand the working status
of the NWDAF instance under monitoring and make correct decisions on whether
they need to provide the management actions to solve the problem or to
optimize the situation.
The time consumed by the NWDAF to provide the analytic services reflects the
performance of the NWDAF. Monitoring this information is a specific and unique
requirement which is particularly important for NWDAF.
In this key issue, the potential solution(s) is provided on the performance
measurements of the NWDAF related to the time consumed by the NWDAF to provide
the analytics services.
### 4.6.2 Potential requirements
**REQ-NWDAF_DELAY-1: the 3GPP management system** shall have a capability to
measure the time consumed by the NWDAF to perform the analytics subscription
service.
**REQ-NWDAF_DELAY-2: the 3GPP management system** shall have a capability to
measure the time consumed by the NWDAF to perform the analytics request
service.
### 4.6.3 Potential solutions
#### 4.6.3.1 Potential solution #1: time consumption of NWDAF generating
analytics result
##### 4.6.3.1.1 Introduction
This solution is proposed on how to provide the performance measurement of the
NWDAF based on the time consumed by the NWDAF to provide the analytics
services. In this solution, the proposed performance measurements are defined
as the time consumption of NWDAF generating analytics result.
The proposed solution can be a potential solution for the performance
measurement of the NWDAF related to the analytics result generation.
##### 4.6.3.1.2 Description
These proposed performance measurements of the NWDAF are defined as the time
consumption of the NWDAF generating analytics result.
The time consumption of the NWDAF generating analytics result can be measured
as follows:
\- The time when the NWDAF receives the Nnwdaf_AnalyticsSubscription_Subscribe
service operation (See TS 23.288 [2]) from the NWDAF service consumer, minus
the time when the NWDAF invokes the Nnwdaf_AnalyticsSubscription_Notify
service operation (See TS 23.288 [2]) to notify the NWDAF service consumer,
\- or the time when the NWDAF receives the Nnwdaf_AnalyticsInfo_Request
service operation (See TS 23.288 [2]) from the NWDAF service consumer, minus
the time when the NWDAF sends the corresponding response to the NWDAF service
consumer.
### 4.6.4 Evaluation
The performance measurements of NWDAF include many aspects, such as time
performance of NWDAF (i.e., time consumed by the NWDAF to perform services).
In order to measure how much time is consumed by a NWDAF to generate the
analytics result, there is one potential solution for the performance
measurement of the NWDAF on the time aspect for the analytics result
generation.
In the potential solution #1, the performance measurements of the NWDAF on the
time aspect are provided as the time consumption of NWDAF generating analytics
result. This performance measurement can indicate the time consumed by the
NWDAF to perform the analytics subscription and or request service.
Consequently, this potential solution can satisfy the REQ1 and REQ2 to provide
the performance measurement of the NWDAF on the time aspect for the analytics
result generation. This potential solution is a feasible candidate as input to
the normative phase on the performance measurement of the NWDAF on the time
aspect for the analytics result generation.
### 4.6.5 Conclusion for KI#6
This potential solution #1 can satisfy the REQ1 and REQ2 to provide the
performance measurement of the NWDAF on the time aspect for the analytics
result generation. This potential solution is a feasible candidate as input to
the normative phase on the performance measurement of the NWDAF on the time
aspect for the analytics result generation.
## 4.7 Key Issue #7: Performance Management of the NWDAF Analytics-related
Timing
### 4.7.1 Description
One area for NWDAF performance management is to study NWDAF\'s performance in
case of errors due to timer expiration. The optional time \"Time when
analytics information is needed\" could be specified during the analytics
subscription/request by the consumer. It indicates to the NWDAF the latest
time at which the analytics consumer expects to receive the requested
analytics data. Meanwhile, the NWDAF has a delay per Analytics ID, called
\"Supported Analytics Delay\", that is specified in the NWDAF profile and
indicates the amount of time per Analytics ID that is expected to lapse
between the instant that the NWDAF receives a request for analytics and the
time point at which the NWDAF delivers the corresponding analytics report.
Ideally, the time \"Time when analytics information is needed\" should not be
set to a value lower than \"Supported Analytics Delay\". Otherwise, if the
time \"Time when analytics information is needed\" is reached but the
analytics information is not ready, the UNSATISFIED_REQUESTED_ANALYTICS_TIME
error message might be returned, while if the time \"Time when analytics
information is needed\" is set to a value lower than \"Supported Analytics
Delay\", it is expected that the NWDAF might not be able to treat the
Analytics ID on time.
On the other hand, the specifications indicate that NWDAF should trigger ML
model training, but the time required for that operation (which can be
significantly long under certain circumstances) is not considered in the
\"Supported Analytics Delay\" attribute. In addition, the performance
management of NWDAF related to errors generated by expiration of \"Time when
analytics information is needed\" is missing. Thus, there is the need of
introducing performance measurement and KPI for performance management of the
NWDAF based on this aspect.
The 3GPP management system should introduces the enablers to manage NWDAF
performance based on expiration of \"Time when analytics information is
needed\" specified by analytics consumer in the analytics
subscription/request. In particular, the 3GPP management system should
introduce a mechanism to keep track of analytics production failures due to
infringement of timing attributes specified in the analytics
subscription/request.
### 4.7.2 Potential requirements
**REQ-NWDAF_TIMER-1:** the 3GPP management system shall have a capability to
allow an authorized consumer to configure the NWDAF to track the number of
events/scenarios for which all the times are appropriately configured, which
is the case when the \" Time when Analytics is delivered to the consumer\" is
lower than \"Supported Analytics Delay\" and the \"Supported Analytics Delay\"
is lower than the \"Time when Analytics information is needed\".
**REQ-NWDAF_TIMER-2:** the 3GPP management system shall have a capability to
allow an authorized consumer to configure the NWDAF to track the number of
events/scenarios for which the analytics is delivered after the supported
delay but before the deadline, which is the case when the \"Supported
Analytics Delay\" is lower than \" Time when Analytics is delivered to the
consumer\" and \"time within which Analytics is delivered to the consumer\" is
lower than \"Time when Analytics information is needed\".
**REQ-NWDAF_TIMER-3** : the 3GPP management system shall have a capability to
allow an authorized consumer to configure the NWDAF to track the number of
events/scenarios for which analytics computation is too late. which is the
case when \"Supported Analytics Delay\" is lower than \" Time when Analytics
is delivered to the consumer\".
**REQ-NWDAF_TIMER-4:** the 3GPP management system shall have a capability to
allow an authorized consumer to configure the NWDAF to track the number of
events/scenarios for which the consumer request is misconfigured, which is the
case when the \" Time when Analytics is delivered to the consumer\", is lower
than \"Time when Analytics information is needed\" but \"Time when Analytics
information is needed\" is itself lower than the \"Supported Analytics Delay
**REQ-NWDAF_TIMER-5:** the 3GPP management system shall have a capability to
allow an authorized consumer to configure the NWDAF to track the number of
events/scenarios for which the analytics is delivered before the supported
delay but not by the deadline, analytics deadline is misconfigured configured,
which is the case when the \" Time when Analytics is delivered to the
consumer\" is lower than \"Supported Analytics Delay\" but not lower than
\"Time when Analytics information is needed\".
**REQ-NWDAF_TIMER-6:** the 3GPP management system shall have a capability to
allow an authorized consumer to configure the NWDAF to track the number of
events/scenarios for which the analytics is delivered after both the supported
delay and the deadline, but the deadline is misconfigured, which is the case
when the \" Time when Analytics is delivered to the consumer\" is lower \"Time
when Analytics information is needed\" and lower than \"Supported Analytics
Delay\" but, \"Supported Analytics Delay\" is greater than the \"Time when
Analytics information is needed\".
### 4.7.3 Potential solutions
#### 4.7.3.1 Potential solution #1: the number of events/scenarios for which
all the times are appropriately configured
##### 4.7.3.1.1 Introduction
This potential solution is proposed on how to provide the performance
management of the NWDAF analytics-related timing in the case where all the
time are appropriately configured, which is the case when the \"Time when
Analytics is delivered to the consumer\" is lower than \"Supported Analytics
Delay\" and the \"Supported Analytics Delay\" is lower than the \"Time when
Analytics is needed\".
In this solution, the number of events/scenarios for which all the times are
appropriately configured are defined. This proposed solution is used to
satisfy the REQ-NWDAF_TIMER_1 and can be a potential solution for the
performance management of the NWDAF analytics-related timing.
##### 4.7.3.1.2 Description
This proposed solution defined the number of events/scenarios for which all
the times are appropriately configured.
The number of events/scenarios for which all the times are appropriately
configured can be measured as follows:
\- Calculate the difference between the \"Time when Analytics is delivered to
the consumer\" and the \"Supported Analytics Delay\", and calculate the
difference between the \"Supported Analytics Delay\" and the \"Time when
Analytics is needed\". If both results are less than 0, the related events
will be added to the relevant counter.
#### 4.7.3.2 Potential solution #2: the number of events/scenarios for which
the analytics is delivered after the supported delay but before the deadline
##### 4.7.3.2.1 Introduction
This potential solution is proposed on how to provide the performance
management of the NWDAF analytics-related timing in the case where the
analytics is delivered after the supported delay but before the deadline,
which is the case when the \"Supported Analytics Delay\" is lower than \"Time
when analytics is delivered to the consumer\" and \"Time when analytics is
delivered to the consumer\" is lower than \"Time when Analytics is needed\".
In this solution, the number of events/scenarios for which the analytics is
delivered after the supported delay but before the deadline are defined. This
proposed solution is used to satisfy the REQ-NWDAF_TIMER_2 and can be a
potential solution for the performance management of the NWDAF analytics-
related timing.
##### 4.7.3.2.2 Description
This proposed performance measurements of the NWDAF are defined as the number
of events/scenarios for which the analytics is delivered after the supported
delay but before the deadline.
The number of events/scenarios for which the analytics is delivered after the
supported delay but before the deadline can be measured as follows:
\- Calculate the difference between the \"Supported Analytics Delay\" and the
\"Time when analytics is delivered to the consumer\", and calculate the
difference between the \"Time when analytics is delivered to the consumer\"
and \"Time when analytics is needed\". If both results are less than 0, the
related events will be added to the relevant counter.
#### 4.7.3.3 Potential solution #3: the number of events/scenarios for which
analytics computation is too late
##### 4.7.3.3.1 Introduction
This potential solution is proposed on how to provide the performance
management of the NWDAF analytics-related timing in the case where analytics
computation is too late, which is the case when the \"Supported Analytics
Delay\" is lower than \"Time when Analytics is delivered to the consumer\".
In this solution, the number of events/scenarios for which analytics
computation is too late are defined. This proposed solution is used to satisfy
the REQ-NWDAF_TIMER_3 and can be a potential solution for the performance
management of the NWDAF analytics-related timing.
##### 4.7.3.3.2 Description
This proposed performance measurements of the NWDAF are defined as the number
of events/scenarios for which analytics computation is too late.
The number of events/scenarios for which analytics computation is too late can
be measured as follows:
\- Calculate the difference between the \"Supported Analytics Delay\" and the
\"Time when Analytics is delivered to the consumer\". If the result is less
than 0, the related events will be added to the relevant counter.
#### 4.7.3.4 Potential solution #4
Let denote with $D_{S}$ the \"Supported Analytics Delay\", with T~A~$T_{A}$
the \"Time when Analytics information is needed\" and with T~D~ $T_{D}$ the
\"Time when Analytics is delivered to the consumer\". Then the following
measurements and or counters for NWDAF timing performance may be introduced in
one of the specifications TS 28.552 [4], TS 28.554 [5], TS 23.501[6], TS
23.288 [2]:
\- **NbrAnalSuccNWDAFTimeAn (T~D~≤D~S~≤T~A~):** This measurement provides the
number of analytics produced in time when \"Time when analytics information is
needed\" timer is correctly sets higher than \"Supported Analytics Delay\".
\- **NbrAnalWarnSuccNWDAFTimeAn (D~S~\  3GPP management enhancement related to the NWDAF for conditionally managing
> NWDAF to the specific deployment scenarios, based on the key issues studied,
> evaluated and concluded in TR 28.864, which includes the following issues:
>> For the NWDAF applying for all deployment scenarios,
\- Specifying enhancement to support monitoring the data collection
performance of NWDAF;
>> For the deployment scenario supporting multiple NWDAFs and coordination
between multiple NWDAFs:
\- Specifying enhancement to 3GPP NRMs to support management of NWDAF deployed
with different capabilities including the \"analytics aggregation capability\"
and \"analytics metadata provisioning capability\";
\- Specifying enhancement to support monitoring the performance of NWDAF which
support the \"analytics aggregation capability\".
>> For the deployment scenario including NWDAF with logical decomposition:
\- Specifying enhancement to 3GPP NRMs to support management of NWDAF deployed
with different logical functions including the MTLF (Model Training Logical
Function) and AnLF (Analytics Logical Function);
\- Specifying enhancement to support monitoring the performance of NWDAF which
contain AnLF;
\- Specifying enhancement to support monitoring the performance of NWDAF which
contain MTLF;
Note: The NWDAF containing AnLF and/or MTLF is the NWDAF supporting logical
decomposition.
#