# Foreword
This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
In the present document, modal verbs have the following meanings:
**shall** indicates a mandatory requirement to do something
**shall not** indicates an interdiction (prohibition) to do something
The constructions \"shall\" and \"shall not\" are confined to the context of
normative provisions, and do not appear in Technical Reports.
The constructions \"must\" and \"must not\" are not used as substitutes for
\"shall\" and \"shall not\". Their use is avoided insofar as possible, and
they are not used in a normative context except in a direct citation from an
external, referenced, non-3GPP document, or so as to maintain continuity of
style when extending or modifying the provisions of such a referenced
document.
**should** indicates a recommendation to do something
**should not** indicates a recommendation not to do something
**may** indicates permission to do something
**need not** indicates permission not to do something
The construction \"may not\" is ambiguous and is not used in normative
elements. The unambiguous constructions \"might not\" or \"shall not\" are
used instead, depending upon the meaning intended.
**can** indicates that something is possible
**cannot** indicates that something is impossible
The constructions \"can\" and \"cannot\" are not substitutes for \"may\" and
\"need not\".
**will** indicates that something is certain or expected to happen as a result
of action taken by an agency the behaviour of which is outside the scope of
the present document
**will not** indicates that something is certain or expected not to happen as
a result of action taken by an agency the behaviour of which is outside the
scope of the present document
**might** indicates a likelihood that something will happen as a result of
action taken by some agency the behaviour of which is outside the scope of the
present document
**might not** indicates a likelihood that something will not happen as a
result of action taken by some agency the behaviour of which is outside the
scope of the present document
In addition:
**is** (or any other verb in the indicative mood) indicates a statement of
fact
**is not** (or any other negative verb in the indicative mood) indicates a
statement of fact
The constructions \"is\" and \"is not\" do not indicate requirements.
# 1 Scope
The present document specifies the coding, multiplexing and mapping to
physical channels for 5G NR.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or non‑specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 38.201: \"NR; Physical Layer; General description\".
[3] 3GPP TS 38.202: \"NR; Services provided by the physical layer\".
[4] 3GPP TS 38.211: \"NR; Physical channels and modulation\".
[5] 3GPP TS 38.213: \"NR; Physical layer procedures for control\".
[6] 3GPP TS 38.214: \"NR; Physical layer procedures for data\".
[7] 3GPP TS 38.215: \"NR; Physical layer measurements\".
[8] 3GPP TS 38.321: \"NR; Medium Access Control (MAC) protocol
specification\".
[9] 3GPP TS 38.331: \"NR; Radio Resource Control (RRC) protocol
specification\".
[10] 3GPP TS 38.473: \"NG-RAN; F1 Application Protocol (F1AP)\".
[11] 3GPP TS 36.212: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
Multiplexing and channel coding\".
[12] 3GPP TS 23.287: \"Architecture enhancements for 5G System (5GS) to
support Vehicle‑to‑Everything (V2X) services\".
[13] 3GPP TS 38.101-1: \"NR; User Equipment (UE) radio transmission and
reception; Part 1: Range 1 Standalone\".
[14] 3GPP TS 37.213: \"Physical layer procedures for shared spectrum channel
access\".
# 3 Definitions of terms, symbols and abbreviations
## 3.1 Terms
For the purposes of the present document, the terms given in 3GPP TR 21.905
[1] and the following apply. A term defined in the present document takes
precedence over the definition of the same term, if any, in 3GPP TR 21.905
[1].
## 3.2 Symbols
Void.
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
BCH Broadcast Channel
CAPC Channel Access Priority Class
CBG Code Block Group
CBGTI Code Block Group Transmission Information
CG Configured Grant
CG-DFI CG - Downlink Feedback Information
CG-UCI CG - Uplink Control Information
CORESET Control Resource Ret
COT Channel Occupancy Time
CQI Channel Quality Indicator
CRC Cyclic Redundancy Check
CRI CSI-RS Resource Indicator
CSI Channel State Information
CSI-RS CSI - Reference Signal
DAI Downlink Assignment Index
DCI Downlink Control Information
DL Downlink
DL-SCH Downlink - Shared Channel
DMRS Demodulation Reference Signal
HARQ Hybrid Automatic repeat Request
HARQ-ACK Hybrid Automatic repeat Request - Acknowledgement
LDPC Low Density Parity Check
LI Layer Indicator
MBS Multicast Broadcast Services
MCS Modulation and Coding Scheme
OFDM Orthogonal Frequency Division Multiplex
PBCH Physical Broadcast Channel
PCH Paging Channel
PDCCH Physical Downlink Control Channel
PDSCH Physical Downlink Shared Channel
PMI Precoding Matrix Indicator
PRB Physical Resource Block
PRACH Physical Random Access Channel
PSBCH Physical Sidelink Broadcast Channel
PSCCH Physical Sidelink Control Channel
PSFCH Physical Sidelink Feedback Channel
PSSCH Physical Sidelink Shared Channel
PTRS Phase-Tracking Reference Signal
PUCCH Physical Uplink Control Channel
PUSCH Physical Uplink Shared Channel
RACH Random Access Channel
RI Rank Indicator
RSRP Reference Signal Received Power
SCI Sidelink Control Information
SFCI Sidelink Feedback Control Information
SFN System Frame Number
SL Sidelink
SL-BCH Sidelink - Broadcast Channel
SL PRS Sidelink Positioning Reference Signal
SL-SCH Sidelink - Shared Channel
SR Scheduling Request
SRS Sounding Reference Signal
SS Synchronisation Signal
SUL Supplementary Uplink
TCI Transmission Configuration Indicator
TPC Transmit Power Control
TrCH Transport Channel
UCI Uplink Control Information
UE User Equipment
UL Uplink
UL-SCH Uplink Shared Channel
UTO-UCI Unused Transmission Occasion - Uplink Control Information
VRB Virtual Resource Block
ZP CSI-RS Zero power CSI-RS
# 4 Mapping to physical channels
## 4.1 Uplink
Table 4.1-1 specifies the mapping of the uplink transport channels to their
corresponding physical channels. Table 4.1-2 specifies the mapping of the
uplink control channel information to its corresponding physical channel.
Table 4.1-1
**TrCH** **Physical Channel**
* * *
UL-SCH PUSCH RACH PRACH
Table 4.1-2
**Control information** **Physical Channel**
* * *
UCI PUCCH, PUSCH
## 4.2 Downlink
Table 4.2-1 specifies the mapping of the downlink transport channels to their
corresponding physical channels. Table 4.2-2 specifies the mapping of the
downlink control channel information to its corresponding physical channel.
Table 4.2-1
**TrCH** **Physical Channel**
* * *
DL-SCH PDSCH BCH PBCH PCH PDSCH
Table 4.2-2
**Control information** **Physical Channel**
* * *
DCI PDCCH
## 4.3 Sidelink
Table 4.3-1 specifies the mapping of the sidelink transport channels to their
corresponding physical channels. Table 4.3-2 specifies the mapping of the
sidelink control information and sidelink feedback control information to
their corresponding physical channels.
Table 4.3-1
**TrCH** **Physical Channel**
* * *
SL-SCH PSSCH SL-BCH PSBCH
Table 4.3-2
**Control information** **Physical Channel**
* * *
1^st^-stage SCI PSCCH 2^nd^-stage SCI PSSCH SFCI PSFCH
# 5 General procedures
Data and control streams from/to MAC layer are encoded /decoded to offer
transport and control services over the radio transmission link. Channel
coding scheme is a combination of error detection, error correcting, rate
matching, interleaving and transport channel or control information mapping
onto/splitting from physical channels.
## 5.1 CRC calculation
Denote the input bits to the CRC computation by , and the parity bits by ,
where is the size of the input sequence and is the number of parity bits. The
parity bits are generated by one of the following cyclic generator
polynomials:
\- for a CRC length ;
\- for a CRC length ;
\- for a CRC length ;
\- for a CRC length ;
\- for a CRC length ;
\- for a CRC length .
The encoding is performed in a systematic form, which means that in GF(2), the
polynomial:
yields a remainder equal to 0 when divided by the corresponding CRC generator
polynomial.
The bits after CRC attachment are denoted by , where . The relation between
and is:
for
for .
## 5.2 Code block segmentation and code block CRC attachment
### 5.2.1 Polar coding
The input bit sequence to the code block segmentation is denoted by , where .
if
Number of code blocks: ;
else
Number of code blocks:
end if
;
for to
;
end for
for to
;
end for
;
for to
for to
;
;
end for
The sequence is used to calculate the CRC parity bits according to Clause 5.1
with a generator polynomial of length .
for to
;
end for
end for
The value of is no larger than 1706.
### 5.2.2 Low density parity check coding
The input bit sequence to the code block segmentation is denoted by , where .
If is larger than the maximum code block size , segmentation of the input bit
sequence is performed and an additional CRC sequence of bits is attached to
each code block.
For LDPC base graph 1, the maximum code block size is:
\- .
For LDPC base graph 2, the maximum code block size is:
\- .
Total number of code blocks _C_ is determined by:
if
Number of code blocks:
else
Number of code blocks: .
end if
The bits output from code block segmentation are denoted by , where is the
code block number, and is the number of bits for the code block number .
The number of bits in each code block is calculated as:
;
For LDPC base graph 1,
.
For LDPC base graph 2,
if
;
elseif
;
elseif
;
else
;
end if
> find the minimum value of in all sets of lifting sizes in Table 5.3.2-1,
> denoted as , such that , and set for LDPC base graph 1 and for LDPC base
> graph 2;
The bit sequence is calculated as:
;
for to
for to
;
;
end for
if
> The sequence is used to calculate the CRC parity bits according to Clause
> 5.1 with the generator polynomial .
for to
;
end for
end if
for to -- Insertion of filler bits
;
end for
end for
## 5.3 Channel coding
Usage of coding scheme for the different types of TrCH is shown in table
5.3-1. Usage of coding scheme for the different control information types is
shown in table 5.3-2.
Table 5.3-1: Usage of channel coding scheme for TrCHs
TrCH Coding scheme
* * *
UL-SCH LDPC DL-SCH  
PCH  
BCH Polar code
Table 5.3-2: Usage of channel coding scheme for control information
Control Information Coding scheme
* * *
DCI Polar code UCI Block code Polar code
### 5.3.1 Polar coding
The bit sequence input for a given code block to channel coding is denoted by,
where is the number of bits to encode. After encoding the bits are denoted by,
where and the value of is determined by the following:
Denote by the rate matching output sequence length as given in Clause 5.4.1;
If and
;
else
;
end if
;
;
where .
UE is not expected to be configured with , where is the number of parity check
bits defined in Clause 5.3.1.2.
#### 5.3.1.1 Interleaving
The bit sequence is interleaved into bit sequence as follows:
,
where the interleaving pattern is given by the following:
if
,
else
;
for to
if
;
;
end if
end for
end if
where is given by Table 5.3.1.1-1 and .
Table 5.3.1.1-1: Interleaving pattern
* * *
0 0 28 67 56 122 84 68 112 33 140 38 1 2 29 69 57 123 85 73 113 36 141 144 2 4
30 70 58 126 86 78 114 44 142 39 3 7 31 71 59 127 87 84 115 47 143 145 4 9 32
72 60 129 88 90 116 64 144 40 5 14 33 76 61 132 89 92 117 74 145 146 6 19 34
77 62 134 90 94 118 79 146 41 7 20 35 81 63 138 91 96 119 85 147 147 8 24 36
82 64 139 92 99 120 97 148 148 9 25 37 83 65 140 93 102 121 100 149 149 10 26
38 87 66 1 94 105 122 103 150 150 11 28 39 88 67 3 95 107 123 117 151 151 12
31 40 89 68 5 96 109 124 125 152 152 13 34 41 91 69 8 97 112 125 131 153 153
14 42 42 93 70 10 98 114 126 136 154 154 15 45 43 95 71 15 99 116 127 142 155
155 16 49 44 98 72 21 100 121 128 12 156 156 17 50 45 101 73 27 101 124 129 17
157 157 18 51 46 104 74 29 102 128 130 23 158 158 19 53 47 106 75 32 103 130
131 37 159 159 20 54 48 108 76 35 104 133 132 48 160 160 21 56 49 110 77 43
105 135 133 75 161 161 22 58 50 111 78 46 106 141 134 80 162 162 23 59 51 113
79 52 107 6 135 86 163 163 24 61 52 115 80 55 108 11 136 137  
25 62 53 118 81 57 109 16 137 143  
26 65 54 119 82 60 110 22 138 13  
27 66 55 120 83 63 111 30 139 18
* * *
#### 5.3.1.2 Polar encoding
The Polar sequence is given by Table 5.3.1.2-1, where denotes a bit index
before Polar encoding for and . The Polar sequence is in ascending order of
reliability , where denotes the reliability of bit index .
For any code block encoded to bits, a same Polar sequence is used. The Polar
sequence is a subset of Polar sequence with all elements of values less than ,
ordered in ascending order of reliability .
Denote as a set of bit indices in Polar sequence , and as the set of other bit
indices in Polar sequence , where and are given in Clause 5.4.1.1, , , and is
the number of parity check bits.
Denote as the -th Kronecker power of matrix , where .
For a bit index with , denote as the -th row of and as the row weight of ,
where is the number of ones in . Denote the set of bit indices for parity
check bits as , where . A number of parity check bits are placed in the least
reliable bit indices in . A number of other parity check bits are placed in
the bit indices of minimum row weight in , where denotes the most reliable bit
indices in ; if there are more than bit indices of the same minimum row weight
in , the other parity check bits are placed in the bit indices of the highest
reliability and the minimum row weight in .
Generate according to the following:
;
if
> ; ; ; ; ;
for to
; ; ; ; ; ;
if
if
;
else
;
;
;
end if
else
;
end if
end for
else
> for to
if
;
;
else
;
end if
> end for
end if
The output after encoding is obtained by . The encoding is performed in GF(2).
Table 5.3.1.2-1: Polar sequence and its corresponding reliability
* * *
0 0 128 518 256 94 384 214 512 364 640 414 768 819 896 966 1 1 129 54 257 204
385 309 513 654 641 223 769 814 897 755 2 2 130 83 258 298 386 188 514 659 642
663 770 439 898 859 3 4 131 57 259 400 387 449 515 335 643 692 771 929 899 940
4 8 132 521 260 608 388 217 516 480 644 835 772 490 900 830 5 16 133 112 261
352 389 408 517 315 645 619 773 623 901 911 6 32 134 135 262 325 390 609 518
221 646 472 774 671 902 871 7 3 135 78 263 533 391 596 519 370 647 455 775 739
903 639 8 5 136 289 264 155 392 551 520 613 648 796 776 916 904 888 9 64 137
194 265 210 393 650 521 422 649 809 777 463 905 479 10 9 138 85 266 305 394
229 522 425 650 714 778 843 906 946 11 6 139 276 267 547 395 159 523 451 651
721 779 381 907 750 12 17 140 522 268 300 396 420 524 614 652 837 780 497 908
969 13 10 141 58 269 109 397 310 525 543 653 716 781 930 909 508 14 18 142 168
270 184 398 541 526 235 654 864 782 821 910 861 15 128 143 139 271 534 399 773
527 412 655 810 783 726 911 757 16 12 144 99 272 537 400 610 528 343 656 606
784 961 912 970 17 33 145 86 273 115 401 657 529 372 657 912 785 872 913 919
18 65 146 60 274 167 402 333 530 775 658 722 786 492 914 875 19 20 147 280 275
225 403 119 531 317 659 696 787 631 915 862 20 256 148 89 276 326 404 600 532
222 660 377 788 729 916 758 21 34 149 290 277 306 405 339 533 426 661 435 789
700 917 948 22 24 150 529 278 772 406 218 534 453 662 817 790 443 918 977 23
36 151 524 279 157 407 368 535 237 663 319 791 741 919 923 24 7 152 196 280
656 408 652 536 559 664 621 792 845 920 972 25 129 153 141 281 329 409 230 537
833 665 812 793 920 921 761 26 66 154 101 282 110 410 391 538 804 666 484 794
382 922 877 27 512 155 147 283 117 411 313 539 712 667 430 795 822 923 952 28
11 156 176 284 212 412 450 540 834 668 838 796 851 924 495 29 40 157 142 285
171 413 542 541 661 669 667 797 730 925 703 30 68 158 530 286 776 414 334 542
808 670 488 798 498 926 935 31 130 159 321 287 330 415 233 543 779 671 239 799
880 927 978 32 19 160 31 288 226 416 555 544 617 672 378 800 742 928 883 33 13
161 200 289 549 417 774 545 604 673 459 801 445 929 762 34 48 162 90 290 538
418 175 546 433 674 622 802 471 930 503 35 14 163 545 291 387 419 123 547 720
675 627 803 635 931 925 36 72 164 292 292 308 420 658 548 816 676 437 804 932
932 878 37 257 165 322 293 216 421 612 549 836 677 380 805 687 933 735 38 21
166 532 294 416 422 341 550 347 678 818 806 903 934 993 39 132 167 263 295 271
423 777 551 897 679 461 807 825 935 885 40 35 168 149 296 279 424 220 552 243
680 496 808 500 936 939 41 258 169 102 297 158 425 314 553 662 681 669 809 846
937 994 42 26 170 105 298 337 426 424 554 454 682 679 810 745 938 980 43 513
171 304 299 550 427 395 555 318 683 724 811 826 939 926 44 80 172 296 300 672
428 673 556 675 684 841 812 732 940 764 45 37 173 163 301 118 429 583 557 618
685 629 813 446 941 941 46 25 174 92 302 332 430 355 558 898 686 351 814 962
942 967 47 22 175 47 303 579 431 287 559 781 687 467 815 936 943 886 48 136
176 267 304 540 432 183 560 376 688 438 816 475 944 831 49 260 177 385 305 389
433 234 561 428 689 737 817 853 945 947 50 264 178 546 306 173 434 125 562 665
690 251 818 867 946 507 51 38 179 324 307 121 435 557 563 736 691 462 819 637
947 889 52 514 180 208 308 553 436 660 564 567 692 442 820 907 948 984 53 96
181 386 309 199 437 616 565 840 693 441 821 487 949 751 54 67 182 150 310 784
438 342 566 625 694 469 822 695 950 942 55 41 183 153 311 179 439 316 567 238
695 247 823 746 951 996 56 144 184 165 312 228 440 241 568 359 696 683 824 828
952 971 57 28 185 106 313 338 441 778 569 457 697 842 825 753 953 890 58 69
186 55 314 312 442 563 570 399 698 738 826 854 954 509 59 42 187 328 315 704
443 345 571 787 699 899 827 857 955 949 60 516 188 536 316 390 444 452 572 591
700 670 828 504 956 973 61 49 189 577 317 174 445 397 573 678 701 783 829 799
957 1000 62 74 190 548 318 554 446 403 574 434 702 849 830 255 958 892 63 272
191 113 319 581 447 207 575 677 703 820 831 964 959 950 64 160 192 154 320 393
448 674 576 349 704 728 832 909 960 863 65 520 193 79 321 283 449 558 577 245
705 928 833 719 961 759 66 288 194 269 322 122 450 785 578 458 706 791 834 477
962 1008 67 528 195 108 323 448 451 432 579 666 707 367 835 915 963 510 68 192
196 578 324 353 452 357 580 620 708 901 836 638 964 979 69 544 197 224 325 561
453 187 581 363 709 630 837 748 965 953 70 70 198 166 326 203 454 236 582 127
710 685 838 944 966 763 71 44 199 519 327 63 455 664 583 191 711 844 839 869
967 974 72 131 200 552 328 340 456 624 584 782 712 633 840 491 968 954 73 81
201 195 329 394 457 587 585 407 713 711 841 699 969 879 74 50 202 270 330 527
458 780 586 436 714 253 842 754 970 981 75 73 203 641 331 582 459 705 587 626
715 691 843 858 971 982 76 15 204 523 332 556 460 126 588 571 716 824 844 478
972 927 77 320 205 275 333 181 461 242 589 465 717 902 845 968 973 995 78 133
206 580 334 295 462 565 590 681 718 686 846 383 974 765 79 52 207 291 335 285
463 398 591 246 719 740 847 910 975 956 80 23 208 59 336 232 464 346 592 707
720 850 848 815 976 887 81 134 209 169 337 124 465 456 593 350 721 375 849 976
977 985 82 384 210 560 338 205 466 358 594 599 722 444 850 870 978 997 83 76
211 114 339 182 467 405 595 668 723 470 851 917 979 986 84 137 212 277 340 643
468 303 596 790 724 483 852 727 980 943 85 82 213 156 341 562 469 569 597 460
725 415 853 493 981 891 86 56 214 87 342 286 470 244 598 249 726 485 854 873
982 998 87 27 215 197 343 585 471 595 599 682 727 905 855 701 983 766 88 97
216 116 344 299 472 189 600 573 728 795 856 931 984 511 89 39 217 170 345 354
473 566 601 411 729 473 857 756 985 988 90 259 218 61 346 211 474 676 602 803
730 634 858 860 986 1001 91 84 219 531 347 401 475 361 603 789 731 744 859 499
987 951 92 138 220 525 348 185 476 706 604 709 732 852 860 731 988 1002 93 145
221 642 349 396 477 589 605 365 733 960 861 823 989 893 94 261 222 281 350 344
478 215 606 440 734 865 862 922 990 975 95 29 223 278 351 586 479 786 607 628
735 693 863 874 991 894 96 43 224 526 352 645 480 647 608 689 736 797 864 918
992 1009 97 98 225 177 353 593 481 348 609 374 737 906 865 502 993 955 98 515
226 293 354 535 482 419 610 423 738 715 866 933 994 1004 99 88 227 388 355 240
483 406 611 466 739 807 867 743 995 1010 100 140 228 91 356 206 484 464 612
793 740 474 868 760 996 957 101 30 229 584 357 95 485 680 613 250 741 636 869
881 997 983 102 146 230 769 358 327 486 801 614 371 742 694 870 494 998 958
103 71 231 198 359 564 487 362 615 481 743 254 871 702 999 987 104 262 232 172
360 800 488 590 616 574 744 717 872 921 1000 1012 105 265 233 120 361 402 489
409 617 413 745 575 873 501 1001 999 106 161 234 201 362 356 490 570 618 603
746 913 874 876 1002 1016 107 576 235 336 363 307 491 788 619 366 747 798 875
847 1003 767 108 45 236 62 364 301 492 597 620 468 748 811 876 992 1004 989
109 100 237 282 365 417 493 572 621 655 749 379 877 447 1005 1003 110 640 238
143 366 213 494 219 622 900 750 697 878 733 1006 990 111 51 239 103 367 568
495 311 623 805 751 431 879 827 1007 1005 112 148 240 178 368 832 496 708 624
615 752 607 880 934 1008 959 113 46 241 294 369 588 497 598 625 684 753 489
881 882 1009 1011 114 75 242 93 370 186 498 601 626 710 754 866 882 937 1010
1013 115 266 243 644 371 646 499 651 627 429 755 723 883 963 1011 895 116 273
244 202 372 404 500 421 628 794 756 486 884 747 1012 1006 117 517 245 592 373
227 501 792 629 252 757 908 885 505 1013 1014 118 104 246 323 374 896 502 802
630 373 758 718 886 855 1014 1017 119 162 247 392 375 594 503 611 631 605 759
813 887 924 1015 1018 120 53 248 297 376 418 504 602 632 848 760 476 888 734
1016 991 121 193 249 770 377 302 505 410 633 690 761 856 889 829 1017 1020 122
152 250 107 378 649 506 231 634 713 762 839 890 965 1018 1007 123 77 251 180
379 771 507 688 635 632 763 725 891 938 1019 1015 124 164 252 151 380 360 508
653 636 482 764 698 892 884 1020 1019 125 768 253 209 381 539 509 248 637 806
765 914 893 506 1021 1021 126 268 254 284 382 111 510 369 638 427 766 752 894
749 1022 1022 127 274 255 648 383 331 511 190 639 904 767 868 895 945 1023
1023
* * *
### 5.3.2 Low density parity check coding
The bit sequence input for a given code block to channel coding is denoted by
, where is the number of bits to encode as defined in Clause 5.2.2. After
encoding the bits are denoted by , where for LDPC base graph 1 and for LDPC
base graph 2, and the value of is given in Clause 5.2.2.
For a code block encoded by LDPC, the following encoding procedure applies:
1) Find the set with index in Table 5.3.2-1 which contains .
2) for to
if
;
else
;
;
end if
end for
3) Generate parity bits such that , where ; is a column vector of all elements
equal to 0. The encoding is performed in GF(2).
For LDPC base graph 1, a matrix of has 46 rows with row indices and 68 columns
with column indices . For LDPC base graph 2, a matrix of has 42 rows with row
indices and 52 columns with column indices . The elements in with row and
column indices given in Table 5.3.2-2 (for LDPC base graph 1) and Table
5.3.2-3 (for LDPC base graph 2) are of value 1, and all other elements in are
of value 0.
The matrix is obtained by replacing each element of with a matrix, according
to the following:
\- Each element of value 0 in is replaced by an all zero matrix of size ;
\- Each element of value 1 in is replaced by a circular permutation matrix of
size , where and are the row and column indices of the element, and is
obtained by circularly shifting the identity matrix of size to the right
times. The value of is given by . The value of is given by Tables 5.3.2-2 and
5.3.2-3 according to the set index and LDPC base graph.
4) for to
;
end for
Table 5.3.2-1: Sets of LDPC lifting size
_Set index ()_ _Set of lifting sizes ()_
* * *
0 {2, 4, 8, 16, 32, 64, 128, 256} 1 {3, 6, 12, 24, 48, 96, 192, 384} 2 {5, 10,
20, 40, 80, 160, 320} 3 {7, 14, 28, 56, 112, 224} 4 {9, 18, 36, 72, 144, 288}
5 {11, 22, 44, 88, 176, 352} 6 {13, 26, 52, 104, 208} 7 {15, 30, 60, 120, 240}
Table 5.3.2-2: LDPC base graph 1 () and its parity check matrices ()
Row index | Column index | Set index | Row index | Column index | Set index |  |  |  |  |  |  |  |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---  
|  | **0** | **1** | **2** | **3** | **4** | **5** | **6** | **7** |  |  | **0** | **1** | **2** | **3** | **4** | **5** | **6** | **7**  
0 | 0 | 250 | 307 | 73 | 223 | 211 | 294 | 0 | 135 | 15 | 1 | 96 | 2 | 290 | 120 | 0 | 348 | 6 | 138  
| 1 | 69 | 19 | 15 | 16 | 198 | 118 | 0 | 227 |  | 10 | 65 | 210 | 60 | 131 | 183 | 15 | 81 | 220  
| 2 | 226 | 50 | 103 | 94 | 188 | 167 | 0 | 126 |  | 13 | 63 | 318 | 130 | 209 | 108 | 81 | 182 | 173  
| 3 | 159 | 369 | 49 | 91 | 186 | 330 | 0 | 134 |  | 18 | 75 | 55 | 184 | 209 | 68 | 176 | 53 | 142  
| 5 | 100 | 181 | 240 | 74 | 219 | 207 | 0 | 84 |  | 25 | 179 | 269 | 51 | 81 | 64 | 113 | 46 | 49  
| 6 | 10 | 216 | 39 | 10 | 4 | 165 | 0 | 83 |  | 37 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 9 | 59 | 317 | 15 | 0 | 29 | 243 | 0 | 53 | 16 | 1 | 64 | 13 | 69 | 154 | 270 | 190 | 88 | 78  
| 10 | 229 | 288 | 162 | 205 | 144 | 250 | 0 | 225 |  | 3 | 49 | 338 | 140 | 164 | 13 | 293 | 198 | 152  
| 11 | 110 | 109 | 215 | 216 | 116 | 1 | 0 | 205 |  | 11 | 49 | 57 | 45 | 43 | 99 | 332 | 160 | 84  
| 12 | 191 | 17 | 164 | 21 | 216 | 339 | 0 | 128 |  | 20 | 51 | 289 | 115 | 189 | 54 | 331 | 122 | 5  
| 13 | 9 | 357 | 133 | 215 | 115 | 201 | 0 | 75 |  | 22 | 154 | 57 | 300 | 101 | 0 | 114 | 182 | 205  
| 15 | 195 | 215 | 298 | 14 | 233 | 53 | 0 | 135 |  | 38 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 16 | 23 | 106 | 110 | 70 | 144 | 347 | 0 | 217 | 17 | 0 | 7 | 260 | 257 | 56 | 153 | 110 | 91 | 183  
| 18 | 190 | 242 | 113 | 141 | 95 | 304 | 0 | 220 |  | 14 | 164 | 303 | 147 | 110 | 137 | 228 | 184 | 112  
| 19 | 35 | 180 | 16 | 198 | 216 | 167 | 0 | 90 |  | 16 | 59 | 81 | 128 | 200 | 0 | 247 | 30 | 106  
| 20 | 239 | 330 | 189 | 104 | 73 | 47 | 0 | 105 |  | 17 | 1 | 358 | 51 | 63 | 0 | 116 | 3 | 219  
| 21 | 31 | 346 | 32 | 81 | 261 | 188 | 0 | 137 |  | 21 | 144 | 375 | 228 | 4 | 162 | 190 | 155 | 129  
| 22 | 1 | 1 | 1 | 1 | 1 | 1 | 0 | 1 |  | 39 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 23 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 18 | 1 | 42 | 130 | 260 | 199 | 161 | 47 | 1 | 183  
1 | 0 | 2 | 76 | 303 | 141 | 179 | 77 | 22 | 96 |  | 12 | 233 | 163 | 294 | 110 | 151 | 286 | 41 | 215  
| 2 | 239 | 76 | 294 | 45 | 162 | 225 | 11 | 236 |  | 13 | 8 | 280 | 291 | 200 | 0 | 246 | 167 | 180  
| 3 | 117 | 73 | 27 | 151 | 223 | 96 | 124 | 136 |  | 18 | 155 | 132 | 141 | 143 | 241 | 181 | 68 | 143  
| 4 | 124 | 288 | 261 | 46 | 256 | 338 | 0 | 221 |  | 19 | 147 | 4 | 295 | 186 | 144 | 73 | 148 | 14  
| 5 | 71 | 144 | 161 | 119 | 160 | 268 | 10 | 128 |  | 40 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 7 | 222 | 331 | 133 | 157 | 76 | 112 | 0 | 92 | 19 | 0 | 60 | 145 | 64 | 8 | 0 | 87 | 12 | 179  
| 8 | 104 | 331 | 4 | 133 | 202 | 302 | 0 | 172 |  | 1 | 73 | 213 | 181 | 6 | 0 | 110 | 6 | 108  
| 9 | 173 | 178 | 80 | 87 | 117 | 50 | 2 | 56 |  | 7 | 72 | 344 | 101 | 103 | 118 | 147 | 166 | 159  
| 11 | 220 | 295 | 129 | 206 | 109 | 167 | 16 | 11 |  | 8 | 127 | 242 | 270 | 198 | 144 | 258 | 184 | 138  
| 12 | 102 | 342 | 300 | 93 | 15 | 253 | 60 | 189 |  | 10 | 224 | 197 | 41 | 8 | 0 | 204 | 191 | 196  
| 14 | 109 | 217 | 76 | 79 | 72 | 334 | 0 | 95 |  | 41 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 15 | 132 | 99 | 266 | 9 | 152 | 242 | 6 | 85 | 20 | 0 | 151 | 187 | 301 | 105 | 265 | 89 | 6 | 77  
| 16 | 142 | 354 | 72 | 118 | 158 | 257 | 30 | 153 |  | 3 | 186 | 206 | 162 | 210 | 81 | 65 | 12 | 187  
| 17 | 155 | 114 | 83 | 194 | 147 | 133 | 0 | 87 |  | 9 | 217 | 264 | 40 | 121 | 90 | 155 | 15 | 203  
| 19 | 255 | 331 | 260 | 31 | 156 | 9 | 168 | 163 |  | 11 | 47 | 341 | 130 | 214 | 144 | 244 | 5 | 167  
| 21 | 28 | 112 | 301 | 187 | 119 | 302 | 31 | 216 |  | 22 | 160 | 59 | 10 | 183 | 228 | 30 | 30 | 130  
| 22 | 0 | 0 | 0 | 0 | 0 | 0 | 105 | 0 |  | 42 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 23 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 21 | 1 | 249 | 205 | 79 | 192 | 64 | 162 | 6 | 197  
| 24 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 5 | 121 | 102 | 175 | 131 | 46 | 264 | 86 | 122  
2 | 0 | 106 | 205 | 68 | 207 | 258 | 226 | 132 | 189 |  | 16 | 109 | 328 | 132 | 220 | 266 | 346 | 96 | 215  
| 1 | 111 | 250 | 7 | 203 | 167 | 35 | 37 | 4 |  | 20 | 131 | 213 | 283 | 50 | 9 | 143 | 42 | 65  
| 2 | 185 | 328 | 80 | 31 | 220 | 213 | 21 | 225 |  | 21 | 171 | 97 | 103 | 106 | 18 | 109 | 199 | 216  
| 4 | 63 | 332 | 280 | 176 | 133 | 302 | 180 | 151 |  | 43 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 5 | 117 | 256 | 38 | 180 | 243 | 111 | 4 | 236 | 22 | 0 | 64 | 30 | 177 | 53 | 72 | 280 | 44 | 25  
| 6 | 93 | 161 | 227 | 186 | 202 | 265 | 149 | 117 |  | 12 | 142 | 11 | 20 | 0 | 189 | 157 | 58 | 47  
| 7 | 229 | 267 | 202 | 95 | 218 | 128 | 48 | 179 |  | 13 | 188 | 233 | 55 | 3 | 72 | 236 | 130 | 126  
| 8 | 177 | 160 | 200 | 153 | 63 | 237 | 38 | 92 |  | 17 | 158 | 22 | 316 | 148 | 257 | 113 | 131 | 178  
| 9 | 95 | 63 | 71 | 177 | 0 | 294 | 122 | 24 |  | 44 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 10 | 39 | 129 | 106 | 70 | 3 | 127 | 195 | 68 | 23 | 1 | 156 | 24 | 249 | 88 | 180 | 18 | 45 | 185  
| 13 | 142 | 200 | 295 | 77 | 74 | 110 | 155 | 6 |  | 2 | 147 | 89 | 50 | 203 | 0 | 6 | 18 | 127  
| 14 | 225 | 88 | 283 | 214 | 229 | 286 | 28 | 101 |  | 10 | 170 | 61 | 133 | 168 | 0 | 181 | 132 | 117  
| 15 | 225 | 53 | 301 | 77 | 0 | 125 | 85 | 33 |  | 18 | 152 | 27 | 105 | 122 | 165 | 304 | 100 | 199  
| 17 | 245 | 131 | 184 | 198 | 216 | 131 | 47 | 96 |  | 45 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 18 | 205 | 240 | 246 | 117 | 269 | 163 | 179 | 125 | 24 | 0 | 112 | 298 | 289 | 49 | 236 | 38 | 9 | 32  
| 19 | 251 | 205 | 230 | 223 | 200 | 210 | 42 | 67 |  | 3 | 86 | 158 | 280 | 157 | 199 | 170 | 125 | 178  
| 20 | 117 | 13 | 276 | 90 | 234 | 7 | 66 | 230 |  | 4 | 236 | 235 | 110 | 64 | 0 | 249 | 191 | 2  
| 24 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 11 | 116 | 339 | 187 | 193 | 266 | 288 | 28 | 156  
| 25 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 22 | 222 | 234 | 281 | 124 | 0 | 194 | 6 | 58  
3 | 0 | 121 | 276 | 220 | 201 | 187 | 97 | 4 | 128 |  | 46 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 1 | 89 | 87 | 208 | 18 | 145 | 94 | 6 | 23 | 25 | 1 | 23 | 72 | 172 | 1 | 205 | 279 | 4 | 27  
| 3 | 84 | 0 | 30 | 165 | 166 | 49 | 33 | 162 |  | 6 | 136 | 17 | 295 | 166 | 0 | 255 | 74 | 141  
| 4 | 20 | 275 | 197 | 5 | 108 | 279 | 113 | 220 |  | 7 | 116 | 383 | 96 | 65 | 0 | 111 | 16 | 11  
| 6 | 150 | 199 | 61 | 45 | 82 | 139 | 49 | 43 |  | 14 | 182 | 312 | 46 | 81 | 183 | 54 | 28 | 181  
| 7 | 131 | 153 | 175 | 142 | 132 | 166 | 21 | 186 |  | 47 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 8 | 243 | 56 | 79 | 16 | 197 | 91 | 6 | 96 | 26 | 0 | 195 | 71 | 270 | 107 | 0 | 325 | 21 | 163  
| 10 | 136 | 132 | 281 | 34 | 41 | 106 | 151 | 1 |  | 2 | 243 | 81 | 110 | 176 | 0 | 326 | 142 | 131  
| 11 | 86 | 305 | 303 | 155 | 162 | 246 | 83 | 216 |  | 4 | 215 | 76 | 318 | 212 | 0 | 226 | 192 | 169  
| 12 | 246 | 231 | 253 | 213 | 57 | 345 | 154 | 22 |  | 15 | 61 | 136 | 67 | 127 | 277 | 99 | 197 | 98  
| 13 | 219 | 341 | 164 | 147 | 36 | 269 | 87 | 24 |  | 48 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 14 | 211 | 212 | 53 | 69 | 115 | 185 | 5 | 167 | 27 | 1 | 25 | 194 | 210 | 208 | 45 | 91 | 98 | 165  
| 16 | 240 | 304 | 44 | 96 | 242 | 249 | 92 | 200 |  | 6 | 104 | 194 | 29 | 141 | 36 | 326 | 140 | 232  
| 17 | 76 | 300 | 28 | 74 | 165 | 215 | 173 | 32 |  | 8 | 194 | 101 | 304 | 174 | 72 | 268 | 22 | 9  
| 18 | 244 | 271 | 77 | 99 | 0 | 143 | 120 | 235 |  | 49 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 20 | 144 | 39 | 319 | 30 | 113 | 121 | 2 | 172 | 28 | 0 | 128 | 222 | 11 | 146 | 275 | 102 | 4 | 32  
| 21 | 12 | 357 | 68 | 158 | 108 | 121 | 142 | 219 |  | 4 | 165 | 19 | 293 | 153 | 0 | 1 | 1 | 43  
| 22 | 1 | 1 | 1 | 1 | 1 | 1 | 0 | 1 |  | 19 | 181 | 244 | 50 | 217 | 155 | 40 | 40 | 200  
| 25 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 21 | 63 | 274 | 234 | 114 | 62 | 167 | 93 | 205  
4 | 0 | 157 | 332 | 233 | 170 | 246 | 42 | 24 | 64 |  | 50 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 1 | 102 | 181 | 205 | 10 | 235 | 256 | 204 | 211 | 29 | 1 | 86 | 252 | 27 | 150 | 0 | 273 | 92 | 232  
| 26 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 14 | 236 | 5 | 308 | 11 | 180 | 104 | 136 | 32  
5 | 0 | 205 | 195 | 83 | 164 | 261 | 219 | 185 | 2 |  | 18 | 84 | 147 | 117 | 53 | 0 | 243 | 106 | 118  
| 1 | 236 | 14 | 292 | 59 | 181 | 130 | 100 | 171 |  | 25 | 6 | 78 | 29 | 68 | 42 | 107 | 6 | 103  
| 3 | 194 | 115 | 50 | 86 | 72 | 251 | 24 | 47 |  | 51 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 12 | 231 | 166 | 318 | 80 | 283 | 322 | 65 | 143 | 30 | 0 | 216 | 159 | 91 | 34 | 0 | 171 | 2 | 170  
| 16 | 28 | 241 | 201 | 182 | 254 | 295 | 207 | 210 |  | 10 | 73 | 229 | 23 | 130 | 90 | 16 | 88 | 199  
| 21 | 123 | 51 | 267 | 130 | 79 | 258 | 161 | 180 |  | 13 | 120 | 260 | 105 | 210 | 252 | 95 | 112 | 26  
| 22 | 115 | 157 | 279 | 153 | 144 | 283 | 72 | 180 |  | 24 | 9 | 90 | 135 | 123 | 173 | 212 | 20 | 105  
| 27 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 52 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
6 | 0 | 183 | 278 | 289 | 158 | 80 | 294 | 6 | 199 | 31 | 1 | 95 | 100 | 222 | 175 | 144 | 101 | 4 | 73  
| 6 | 22 | 257 | 21 | 119 | 144 | 73 | 27 | 22 |  | 7 | 177 | 215 | 308 | 49 | 144 | 297 | 49 | 149  
| 10 | 28 | 1 | 293 | 113 | 169 | 330 | 163 | 23 |  | 22 | 172 | 258 | 66 | 177 | 166 | 279 | 125 | 175  
| 11 | 67 | 351 | 13 | 21 | 90 | 99 | 50 | 100 |  | 25 | 61 | 256 | 162 | 128 | 19 | 222 | 194 | 108  
| 13 | 244 | 92 | 232 | 63 | 59 | 172 | 48 | 92 |  | 53 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 17 | 11 | 253 | 302 | 51 | 177 | 150 | 24 | 207 | 32 | 0 | 221 | 102 | 210 | 192 | 0 | 351 | 6 | 103  
| 18 | 157 | 18 | 138 | 136 | 151 | 284 | 38 | 52 |  | 12 | 112 | 201 | 22 | 209 | 211 | 265 | 126 | 110  
| 20 | 211 | 225 | 235 | 116 | 108 | 305 | 91 | 13 |  | 14 | 199 | 175 | 271 | 58 | 36 | 338 | 63 | 151  
| 28 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 24 | 121 | 287 | 217 | 30 | 162 | 83 | 20 | 211  
7 | 0 | 220 | 9 | 12 | 17 | 169 | 3 | 145 | 77 |  | 54 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 1 | 44 | 62 | 88 | 76 | 189 | 103 | 88 | 146 | 33 | 1 | 2 | 323 | 170 | 114 | 0 | 56 | 10 | 199  
| 4 | 159 | 316 | 207 | 104 | 154 | 224 | 112 | 209 |  | 2 | 187 | 8 | 20 | 49 | 0 | 304 | 30 | 132  
| 7 | 31 | 333 | 50 | 100 | 184 | 297 | 153 | 32 |  | 11 | 41 | 361 | 140 | 161 | 76 | 141 | 6 | 172  
| 8 | 167 | 290 | 25 | 150 | 104 | 215 | 159 | 166 |  | 21 | 211 | 105 | 33 | 137 | 18 | 101 | 92 | 65  
| 14 | 104 | 114 | 76 | 158 | 164 | 39 | 76 | 18 |  | 55 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 29 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 34 | 0 | 127 | 230 | 187 | 82 | 197 | 60 | 4 | 161  
8 | 0 | 112 | 307 | 295 | 33 | 54 | 348 | 172 | 181 |  | 7 | 167 | 148 | 296 | 186 | 0 | 320 | 153 | 237  
| 1 | 4 | 179 | 133 | 95 | 0 | 75 | 2 | 105 |  | 15 | 164 | 202 | 5 | 68 | 108 | 112 | 197 | 142  
| 3 | 7 | 165 | 130 | 4 | 252 | 22 | 131 | 141 |  | 17 | 159 | 312 | 44 | 150 | 0 | 54 | 155 | 180  
| 12 | 211 | 18 | 231 | 217 | 41 | 312 | 141 | 223 |  | 56 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 16 | 102 | 39 | 296 | 204 | 98 | 224 | 96 | 177 | 35 | 1 | 161 | 320 | 207 | 192 | 199 | 100 | 4 | 231  
| 19 | 164 | 224 | 110 | 39 | 46 | 17 | 99 | 145 |  | 6 | 197 | 335 | 158 | 173 | 278 | 210 | 45 | 174  
| 21 | 109 | 368 | 269 | 58 | 15 | 59 | 101 | 199 |  | 12 | 207 | 2 | 55 | 26 | 0 | 195 | 168 | 145  
| 22 | 241 | 67 | 245 | 44 | 230 | 314 | 35 | 153 |  | 22 | 103 | 266 | 285 | 187 | 205 | 268 | 185 | 100  
| 24 | 90 | 170 | 154 | 201 | 54 | 244 | 116 | 38 |  | 57 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 30 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 36 | 0 | 37 | 210 | 259 | 222 | 216 | 135 | 6 | 11  
9 | 0 | 103 | 366 | 189 | 9 | 162 | 156 | 6 | 169 |  | 14 | 105 | 313 | 179 | 157 | 16 | 15 | 200 | 207  
| 1 | 182 | 232 | 244 | 37 | 159 | 88 | 10 | 12 |  | 15 | 51 | 297 | 178 | 0 | 0 | 35 | 177 | 42  
| 10 | 109 | 321 | 36 | 213 | 93 | 293 | 145 | 206 |  | 18 | 120 | 21 | 160 | 6 | 0 | 188 | 43 | 100  
| 11 | 21 | 133 | 286 | 105 | 134 | 111 | 53 | 221 |  | 58 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 13 | 142 | 57 | 151 | 89 | 45 | 92 | 201 | 17 | 37 | 1 | 198 | 269 | 298 | 81 | 72 | 319 | 82 | 59  
| 17 | 14 | 303 | 267 | 185 | 132 | 152 | 4 | 212 |  | 13 | 220 | 82 | 15 | 195 | 144 | 236 | 2 | 204  
| 18 | 61 | 63 | 135 | 109 | 76 | 23 | 164 | 92 |  | 23 | 122 | 115 | 115 | 138 | 0 | 85 | 135 | 161  
| 20 | 216 | 82 | 209 | 218 | 209 | 337 | 173 | 205 |  | 59 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 31 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 38 | 0 | 167 | 185 | 151 | 123 | 190 | 164 | 91 | 121  
10 | 1 | 98 | 101 | 14 | 82 | 178 | 175 | 126 | 116 |  | 9 | 151 | 177 | 179 | 90 | 0 | 196 | 64 | 90  
| 2 | 149 | 339 | 80 | 165 | 1 | 253 | 77 | 151 |  | 10 | 157 | 289 | 64 | 73 | 0 | 209 | 198 | 26  
| 4 | 167 | 274 | 211 | 174 | 28 | 27 | 156 | 70 |  | 12 | 163 | 214 | 181 | 10 | 0 | 246 | 100 | 140  
| 7 | 160 | 111 | 75 | 19 | 267 | 231 | 16 | 230 |  | 60 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 8 | 49 | 383 | 161 | 194 | 234 | 49 | 12 | 115 | 39 | 1 | 173 | 258 | 102 | 12 | 153 | 236 | 4 | 115  
| 14 | 58 | 354 | 311 | 103 | 201 | 267 | 70 | 84 |  | 3 | 139 | 93 | 77 | 77 | 0 | 264 | 28 | 188  
| 32 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 7 | 149 | 346 | 192 | 49 | 165 | 37 | 109 | 168  
11 | 0 | 77 | 48 | 16 | 52 | 55 | 25 | 184 | 45 |  | 19 | 0 | 297 | 208 | 114 | 117 | 272 | 188 | 52  
| 1 | 41 | 102 | 147 | 11 | 23 | 322 | 194 | 115 |  | 61 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 12 | 83 | 8 | 290 | 2 | 274 | 200 | 123 | 134 | 40 | 0 | 157 | 175 | 32 | 67 | 216 | 304 | 10 | 4  
| 16 | 182 | 47 | 289 | 35 | 181 | 351 | 16 | 1 |  | 8 | 137 | 37 | 80 | 45 | 144 | 237 | 84 | 103  
| 21 | 78 | 188 | 177 | 32 | 273 | 166 | 104 | 152 |  | 17 | 149 | 312 | 197 | 96 | 2 | 135 | 12 | 30  
| 22 | 252 | 334 | 43 | 84 | 39 | 338 | 109 | 165 |  | 62 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 23 | 22 | 115 | 280 | 201 | 26 | 192 | 124 | 107 | 41 | 1 | 167 | 52 | 154 | 23 | 0 | 123 | 2 | 53  
| 33 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 3 | 173 | 314 | 47 | 215 | 0 | 77 | 75 | 189  
12 | 0 | 160 | 77 | 229 | 142 | 225 | 123 | 6 | 186 |  | 9 | 139 | 139 | 124 | 60 | 0 | 25 | 142 | 215  
| 1 | 42 | 186 | 235 | 175 | 162 | 217 | 20 | 215 |  | 18 | 151 | 288 | 207 | 167 | 183 | 272 | 128 | 24  
| 10 | 21 | 174 | 169 | 136 | 244 | 142 | 203 | 124 |  | 63 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 11 | 32 | 232 | 48 | 3 | 151 | 110 | 153 | 180 | 42 | 0 | 149 | 113 | 226 | 114 | 27 | 288 | 163 | 222  
| 13 | 234 | 50 | 105 | 28 | 238 | 176 | 104 | 98 |  | 4 | 157 | 14 | 65 | 91 | 0 | 83 | 10 | 170  
| 18 | 7 | 74 | 52 | 182 | 243 | 76 | 207 | 80 |  | 24 | 137 | 218 | 126 | 78 | 35 | 17 | 162 | 71  
| 34 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 64 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
13 | 0 | 177 | 313 | 39 | 81 | 231 | 311 | 52 | 220 | 43 | 1 | 151 | 113 | 228 | 206 | 52 | 210 | 1 | 22  
| 3 | 248 | 177 | 302 | 56 | 0 | 251 | 147 | 185 |  | 16 | 163 | 132 | 69 | 22 | 243 | 3 | 163 | 127  
| 7 | 151 | 266 | 303 | 72 | 216 | 265 | 1 | 154 |  | 18 | 173 | 114 | 176 | 134 | 0 | 53 | 99 | 49  
| 20 | 185 | 115 | 160 | 217 | 47 | 94 | 16 | 178 |  | 25 | 139 | 168 | 102 | 161 | 270 | 167 | 98 | 125  
| 23 | 62 | 370 | 37 | 78 | 36 | 81 | 46 | 150 |  | 65 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 35 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 44 | 0 | 139 | 80 | 234 | 84 | 18 | 79 | 4 | 191  
14 | 0 | 206 | 142 | 78 | 14 | 0 | 22 | 1 | 124 |  | 7 | 157 | 78 | 227 | 4 | 0 | 244 | 6 | 211  
| 12 | 55 | 248 | 299 | 175 | 186 | 322 | 202 | 144 |  | 9 | 163 | 163 | 259 | 9 | 0 | 293 | 142 | 187  
| 15 | 206 | 137 | 54 | 211 | 253 | 277 | 118 | 182 |  | 22 | 173 | 274 | 260 | 12 | 57 | 272 | 3 | 148  
| 16 | 127 | 89 | 61 | 191 | 16 | 156 | 130 | 95 |  | 66 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 17 | 16 | 347 | 179 | 51 | 0 | 66 | 1 | 72 | 45 | 1 | 149 | 135 | 101 | 184 | 168 | 82 | 181 | 177  
| 21 | 229 | 12 | 258 | 43 | 79 | 78 | 2 | 76 |  | 6 | 151 | 149 | 228 | 121 | 0 | 67 | 45 | 114  
| 36 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 10 | 167 | 15 | 126 | 29 | 144 | 235 | 153 | 93  
15 | 0 | 40 | 241 | 229 | 90 | 170 | 176 | 173 | 39 |  | 67 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
Table 5.3.2-3: LDPC base graph 2 () and its parity check matrices ()
Row index | Column index | Set index | Row index | Column index | Set index |  |  |  |  |  |  |  |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---  
|  | **0** | **1** | **2** | **3** | **4** | **5** | **6** | **7** |  |  | **0** | **1** | **2** | **3** | **4** | **5** | **6** | **7**  
0 | 0 | 9 | 174 | 0 | 72 | 3 | 156 | 143 | 145 | 16 | 26 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 1 | 117 | 97 | 0 | 110 | 26 | 143 | 19 | 131 | 17 | 1 | 254 | 158 | 0 | 48 | 120 | 134 | 57 | 196  
| 2 | 204 | 166 | 0 | 23 | 53 | 14 | 176 | 71 |  | 5 | 124 | 23 | 24 | 132 | 43 | 23 | 201 | 173  
| 3 | 26 | 66 | 0 | 181 | 35 | 3 | 165 | 21 |  | 11 | 114 | 9 | 109 | 206 | 65 | 62 | 142 | 195  
| 6 | 189 | 71 | 0 | 95 | 115 | 40 | 196 | 23 |  | 12 | 64 | 6 | 18 | 2 | 42 | 163 | 35 | 218  
| 9 | 205 | 172 | 0 | 8 | 127 | 123 | 13 | 112 |  | 27 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 10 | 0 | 0 | 0 | 1 | 0 | 0 | 0 | 1 | 18 | 0 | 220 | 186 | 0 | 68 | 17 | 173 | 129 | 128  
| 11 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 6 | 194 | 6 | 18 | 16 | 106 | 31 | 203 | 211  
1 | 0 | 167 | 27 | 137 | 53 | 19 | 17 | 18 | 142 |  | 7 | 50 | 46 | 86 | 156 | 142 | 22 | 140 | 210  
| 3 | 166 | 36 | 124 | 156 | 94 | 65 | 27 | 174 |  | 28 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 4 | 253 | 48 | 0 | 115 | 104 | 63 | 3 | 183 | 19 | 0 | 87 | 58 | 0 | 35 | 79 | 13 | 110 | 39  
| 5 | 125 | 92 | 0 | 156 | 66 | 1 | 102 | 27 |  | 1 | 20 | 42 | 158 | 138 | 28 | 135 | 124 | 84  
| 6 | 226 | 31 | 88 | 115 | 84 | 55 | 185 | 96 |  | 10 | 185 | 156 | 154 | 86 | 41 | 145 | 52 | 88  
| 7 | 156 | 187 | 0 | 200 | 98 | 37 | 17 | 23 |  | 29 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 8 | 224 | 185 | 0 | 29 | 69 | 171 | 14 | 9 | 20 | 1 | 26 | 76 | 0 | 6 | 2 | 128 | 196 | 117  
| 9 | 252 | 3 | 55 | 31 | 50 | 133 | 180 | 167 |  | 4 | 105 | 61 | 148 | 20 | 103 | 52 | 35 | 227  
| 11 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 11 | 29 | 153 | 104 | 141 | 78 | 173 | 114 | 6  
| 12 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 30 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
2 | 0 | 81 | 25 | 20 | 152 | 95 | 98 | 126 | 74 | 21 | 0 | 76 | 157 | 0 | 80 | 91 | 156 | 10 | 238  
| 1 | 114 | 114 | 94 | 131 | 106 | 168 | 163 | 31 |  | 8 | 42 | 175 | 17 | 43 | 75 | 166 | 122 | 13  
| 3 | 44 | 117 | 99 | 46 | 92 | 107 | 47 | 3 |  | 13 | 210 | 67 | 33 | 81 | 81 | 40 | 23 | 11  
| 4 | 52 | 110 | 9 | 191 | 110 | 82 | 183 | 53 |  | 31 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 8 | 240 | 114 | 108 | 91 | 111 | 142 | 132 | 155 | 22 | 1 | 222 | 20 | 0 | 49 | 54 | 18 | 202 | 195  
| 10 | 1 | 1 | 1 | 0 | 1 | 1 | 1 | 0 |  | 2 | 63 | 52 | 4 | 1 | 132 | 163 | 126 | 44  
| 12 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 32 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 13 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 23 | 0 | 23 | 106 | 0 | 156 | 68 | 110 | 52 | 5  
3 | 1 | 8 | 136 | 38 | 185 | 120 | 53 | 36 | 239 |  | 3 | 235 | 86 | 75 | 54 | 115 | 132 | 170 | 94  
| 2 | 58 | 175 | 15 | 6 | 121 | 174 | 48 | 171 |  | 5 | 238 | 95 | 158 | 134 | 56 | 150 | 13 | 111  
| 4 | 158 | 113 | 102 | 36 | 22 | 174 | 18 | 95 |  | 33 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 5 | 104 | 72 | 146 | 124 | 4 | 127 | 111 | 110 | 24 | 1 | 46 | 182 | 0 | 153 | 30 | 113 | 113 | 81  
| 6 | 209 | 123 | 12 | 124 | 73 | 17 | 203 | 159 |  | 2 | 139 | 153 | 69 | 88 | 42 | 108 | 161 | 19  
| 7 | 54 | 118 | 57 | 110 | 49 | 89 | 3 | 199 |  | 9 | 8 | 64 | 87 | 63 | 101 | 61 | 88 | 130  
| 8 | 18 | 28 | 53 | 156 | 128 | 17 | 191 | 43 |  | 34 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 9 | 128 | 186 | 46 | 133 | 79 | 105 | 160 | 75 | 25 | 0 | 228 | 45 | 0 | 211 | 128 | 72 | 197 | 66  
| 10 | 0 | 0 | 0 | 1 | 0 | 0 | 0 | 1 |  | 5 | 156 | 21 | 65 | 94 | 63 | 136 | 194 | 95  
| 13 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 35 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
4 | 0 | 179 | 72 | 0 | 200 | 42 | 86 | 43 | 29 | 26 | 2 | 29 | 67 | 0 | 90 | 142 | 36 | 164 | 146  
| 1 | 214 | 74 | 136 | 16 | 24 | 67 | 27 | 140 |  | 7 | 143 | 137 | 100 | 6 | 28 | 38 | 172 | 66  
| 11 | 71 | 29 | 157 | 101 | 51 | 83 | 117 | 180 |  | 12 | 160 | 55 | 13 | 221 | 100 | 53 | 49 | 190  
| 14 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 13 | 122 | 85 | 7 | 6 | 133 | 145 | 161 | 86  
5 | 0 | 231 | 10 | 0 | 185 | 40 | 79 | 136 | 121 |  | 36 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 1 | 41 | 44 | 131 | 138 | 140 | 84 | 49 | 41 | 27 | 0 | 8 | 103 | 0 | 27 | 13 | 42 | 168 | 64  
| 5 | 194 | 121 | 142 | 170 | 84 | 35 | 36 | 169 |  | 6 | 151 | 50 | 32 | 118 | 10 | 104 | 193 | 181  
| 7 | 159 | 80 | 141 | 219 | 137 | 103 | 132 | 88 |  | 37 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 11 | 103 | 48 | 64 | 193 | 71 | 60 | 62 | 207 | 28 | 1 | 98 | 70 | 0 | 216 | 106 | 64 | 14 | 7  
| 15 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 2 | 101 | 111 | 126 | 212 | 77 | 24 | 186 | 144  
6 | 0 | 155 | 129 | 0 | 123 | 109 | 47 | 7 | 137 |  | 5 | 135 | 168 | 110 | 193 | 43 | 149 | 46 | 16  
| 5 | 228 | 92 | 124 | 55 | 87 | 154 | 34 | 72 |  | 38 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 7 | 45 | 100 | 99 | 31 | 107 | 10 | 198 | 172 | 29 | 0 | 18 | 110 | 0 | 108 | 133 | 139 | 50 | 25  
| 9 | 28 | 49 | 45 | 222 | 133 | 155 | 168 | 124 |  | 4 | 28 | 17 | 154 | 61 | 25 | 161 | 27 | 57  
| 11 | 158 | 184 | 148 | 209 | 139 | 29 | 12 | 56 |  | 39 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 16 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 30 | 2 | 71 | 120 | 0 | 106 | 87 | 84 | 70 | 37  
7 | 1 | 129 | 80 | 0 | 103 | 97 | 48 | 163 | 86 |  | 5 | 240 | 154 | 35 | 44 | 56 | 173 | 17 | 139  
| 5 | 147 | 186 | 45 | 13 | 135 | 125 | 78 | 186 |  | 7 | 9 | 52 | 51 | 185 | 104 | 93 | 50 | 221  
| 7 | 140 | 16 | 148 | 105 | 35 | 24 | 143 | 87 |  | 9 | 84 | 56 | 134 | 176 | 70 | 29 | 6 | 17  
| 11 | 3 | 102 | 96 | 150 | 108 | 47 | 107 | 172 |  | 40 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 13 | 116 | 143 | 78 | 181 | 65 | 55 | 58 | 154 | 31 | 1 | 106 | 3 | 0 | 147 | 80 | 117 | 115 | 201  
| 17 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 13 | 1 | 170 | 20 | 182 | 139 | 148 | 189 | 46  
8 | 0 | 142 | 118 | 0 | 147 | 70 | 53 | 101 | 176 |  | 41 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 1 | 94 | 70 | 65 | 43 | 69 | 31 | 177 | 169 | 32 | 0 | 242 | 84 | 0 | 108 | 32 | 116 | 110 | 179  
| 12 | 230 | 152 | 87 | 152 | 88 | 161 | 22 | 225 |  | 5 | 44 | 8 | 20 | 21 | 89 | 73 | 0 | 14  
| 18 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 12 | 166 | 17 | 122 | 110 | 71 | 142 | 163 | 116  
9 | 1 | 203 | 28 | 0 | 2 | 97 | 104 | 186 | 167 |  | 42 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 8 | 205 | 132 | 97 | 30 | 40 | 142 | 27 | 238 | 33 | 2 | 132 | 165 | 0 | 71 | 135 | 105 | 163 | 46  
| 10 | 61 | 185 | 51 | 184 | 24 | 99 | 205 | 48 |  | 7 | 164 | 179 | 88 | 12 | 6 | 137 | 173 | 2  
| 11 | 247 | 178 | 85 | 83 | 49 | 64 | 81 | 68 |  | 10 | 235 | 124 | 13 | 109 | 2 | 29 | 179 | 106  
| 19 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 43 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
10 | 0 | 11 | 59 | 0 | 174 | 46 | 111 | 125 | 38 | 34 | 0 | 147 | 173 | 0 | 29 | 37 | 11 | 197 | 184  
| 1 | 185 | 104 | 17 | 150 | 41 | 25 | 60 | 217 |  | 12 | 85 | 177 | 19 | 201 | 25 | 41 | 191 | 135  
| 6 | 0 | 22 | 156 | 8 | 101 | 174 | 177 | 208 |  | 13 | 36 | 12 | 78 | 69 | 114 | 162 | 193 | 141  
| 7 | 117 | 52 | 20 | 56 | 96 | 23 | 51 | 232 |  | 44 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 20 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 35 | 1 | 57 | 77 | 0 | 91 | 60 | 126 | 157 | 85  
11 | 0 | 11 | 32 | 0 | 99 | 28 | 91 | 39 | 178 |  | 5 | 40 | 184 | 157 | 165 | 137 | 152 | 167 | 225  
| 7 | 236 | 92 | 7 | 138 | 30 | 175 | 29 | 214 |  | 11 | 63 | 18 | 6 | 55 | 93 | 172 | 181 | 175  
| 9 | 210 | 174 | 4 | 110 | 116 | 24 | 35 | 168 |  | 45 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 13 | 56 | 154 | 2 | 99 | 64 | 141 | 8 | 51 | 36 | 0 | 140 | 25 | 0 | 1 | 121 | 73 | 197 | 178  
| 21 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 2 | 38 | 151 | 63 | 175 | 129 | 154 | 167 | 112  
12 | 1 | 63 | 39 | 0 | 46 | 33 | 122 | 18 | 124 |  | 7 | 154 | 170 | 82 | 83 | 26 | 129 | 179 | 106  
| 3 | 111 | 93 | 113 | 217 | 122 | 11 | 155 | 122 |  | 46 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 11 | 14 | 11 | 48 | 109 | 131 | 4 | 49 | 72 | 37 | 10 | 219 | 37 | 0 | 40 | 97 | 167 | 181 | 154  
| 22 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 13 | 151 | 31 | 144 | 12 | 56 | 38 | 193 | 114  
13 | 0 | 83 | 49 | 0 | 37 | 76 | 29 | 32 | 48 |  | 47 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 1 | 2 | 125 | 112 | 113 | 37 | 91 | 53 | 57 | 38 | 1 | 31 | 84 | 0 | 37 | 1 | 112 | 157 | 42  
| 8 | 38 | 35 | 102 | 143 | 62 | 27 | 95 | 167 |  | 5 | 66 | 151 | 93 | 97 | 70 | 7 | 173 | 41  
| 13 | 222 | 166 | 26 | 140 | 47 | 127 | 186 | 219 |  | 11 | 38 | 190 | 19 | 46 | 1 | 19 | 191 | 105  
| 23 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |  | 48 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
14 | 1 | 115 | 19 | 0 | 36 | 143 | 11 | 91 | 82 | 39 | 0 | 239 | 93 | 0 | 106 | 119 | 109 | 181 | 167  
| 6 | 145 | 118 | 138 | 95 | 51 | 145 | 20 | 232 |  | 7 | 172 | 132 | 24 | 181 | 32 | 6 | 157 | 45  
| 11 | 3 | 21 | 57 | 40 | 130 | 8 | 52 | 204 |  | 12 | 34 | 57 | 138 | 154 | 142 | 105 | 173 | 189  
| 13 | 232 | 163 | 27 | 116 | 97 | 166 | 109 | 162 |  | 49 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 24 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 40 | 2 | 0 | 103 | 0 | 98 | 6 | 160 | 193 | 78  
15 | 0 | 51 | 68 | 0 | 116 | 139 | 137 | 174 | 38 |  | 10 | 75 | 107 | 36 | 35 | 73 | 156 | 163 | 67  
| 10 | 175 | 63 | 73 | 200 | 96 | 103 | 108 | 217 |  | 13 | 120 | 163 | 143 | 36 | 102 | 82 | 179 | 180  
| 11 | 213 | 81 | 99 | 110 | 128 | 40 | 102 | 157 |  | 50 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 25 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 41 | 1 | 129 | 147 | 0 | 120 | 48 | 132 | 191 | 53  
16 | 1 | 203 | 87 | 0 | 75 | 48 | 78 | 125 | 170 |  | 5 | 229 | 7 | 2 | 101 | 47 | 6 | 197 | 215  
| 9 | 142 | 177 | 79 | 158 | 9 | 158 | 31 | 23 |  | 11 | 118 | 60 | 55 | 81 | 19 | 8 | 167 | 230  
| 11 | 8 | 135 | 111 | 134 | 28 | 17 | 54 | 175 |  | 51 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0  
| 12 | 242 | 64 | 143 | 97 | 8 | 165 | 176 | 202 |  |  |  |  |  |  |  |  |  |   
### 5.3.3 Channel coding of small block lengths
The bit sequence input for a given code block to channel coding is denoted by
, where is the number of bits to encode**.** After encoding the bits are
denoted by .
#### 5.3.3.1 Encoding of 1-bit information
**For** , the code block is encoded according to Table 5.3.3.1-1, where and is
the modulation order for the code block.
Table **5.3.3.1-1: Encoding of 1-bit information**
* * *
      Encoded bits
1  
2  
4  
6  
8
* * *
The \"x\" and \"y\" in Table 5.3.3.1-1 are placeholders for Clauses 6.3.1.1,
6.3.2.5.1, 6.3.2.6.1 of [4, TS 38.211] to scramble the information bits in a
way that maximizes the Euclidean distance of the modulation symbols carrying
the information bits.
#### 5.3.3.2 Encoding of 2-bit information
**For** , the code block is encoded according to Table 5.3.3.2-1, where , ,
and is the modulation order for the code block.
Table **5.3.3.2-1: Encoding of 2-bit information**
* * *
          Encoded bits
**1**  
2  
4  
6  
8
* * *
The \"x\" in Table 5.3.3.2-1 are placeholders for Clause 6.3.1.1 of [4, TS
38.211] to scramble the information bits in a way that maximizes the Euclidean
distance of the modulation symbols carrying the information bits.
#### 5.3.3.3 Encoding of other small block lengths
**For** , the code block is encoded by , where , , and represents the basis
sequences as defined in Table 5.3.3.3-1.
Table **5.3.3.3-1:** Basis sequences for (32, ) code
* * *
i M~i,0~ M~i,1~ M~i,2~ M~i,3~ M~i,4~ M~i,5~ M~i,6~ M~i,7~ M~i,8~ M~i,9~
M~i,10~ 0 1 1 0 0 0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0 0 1 1 2 1 0 0 1 0 0 1 0 1 1
1 3 1 0 1 1 0 0 0 0 1 0 1 4 1 1 1 1 0 0 0 1 0 0 1 5 1 1 0 0 1 0 1 1 1 0 1 6 1
0 1 0 1 0 1 0 1 1 1 7 1 0 0 1 1 0 0 1 1 0 1 8 1 1 0 1 1 0 0 1 0 1 1 9 1 0 1 1
1 0 1 0 0 1 1 10 1 0 1 0 0 1 1 1 0 1 1 11 1 1 1 0 0 1 1 0 1 0 1 12 1 0 0 1 0 1
0 1 1 1 1 13 1 1 0 1 0 1 0 1 0 1 1 14 1 0 0 0 1 1 0 1 0 0 1 15 1 1 0 0 1 1 1 1
0 1 1 16 1 1 1 0 1 1 1 0 0 1 0 17 1 0 0 1 1 1 0 0 1 0 0 18 1 1 0 1 1 1 1 1 0 0
0 19 1 0 0 0 0 1 1 0 0 0 0 20 1 0 1 0 0 0 1 0 0 0 1 21 1 1 0 1 0 0 0 0 0 1 1
22 1 0 0 0 1 0 0 1 1 0 1 23 1 1 1 0 1 0 0 0 1 1 1 24 1 1 1 1 1 0 1 1 1 1 0 25
1 1 0 0 0 1 1 1 0 0 1 26 1 0 1 1 0 1 0 0 1 1 0 27 1 1 1 1 0 1 0 1 1 1 0 28 1 0
1 0 1 1 1 0 1 0 0 29 1 0 1 1 1 1 1 1 1 0 0 30 1 1 1 1 1 1 1 1 1 1 1 31 1 0 0 0
0 0 0 0 0 0 0
* * *
## 5.4 Rate matching
### 5.4.1 Rate matching for Polar code
The rate matching for Polar code is defined per coded block and consists of
sub-block interleaving, bit collection, and bit interleaving. The input bit
sequence to rate matching is . The output bit sequence after rate matching is
denoted as .
#### 5.4.1.1 Sub-block interleaving
The bits input to the sub-block interleaver are the coded bits . The coded
bits are divided into 32 sub-blocks. The bits output from the sub-block
interleaver are denoted as , generated as follows:
for to
;
;
;
end for
where the sub-block interleaver pattern is given by Table 5.4.1.1-1.
Table 5.4.1.1-1: Sub-block interleaver pattern
* * *
0 0 4 3 8 8 12 10 16 12 20 14 24 24 28 27 1 1 5 5 9 16 13 18 17 20 21 22 25 25
29 29 2 2 6 6 10 9 14 11 18 13 22 15 26 26 30 30 3 4 7 7 11 17 15 19 19 21 23
23 27 28 31 31
* * *
The sets of bit indices and are determined as follows, where , , and are
defined in Clause 5.3.1
if
if -- puncturing
for to
;
end for
if
;
else
;
end if
else -- shortening
for to
;
end for
end if
end if
;
comprises most reliable bit indices in ;
;
#### 5.4.1.2 Bit selection
The bit sequence after the sub-block interleaver from Clause 5.4.1.1 is
written into a circular buffer of length .
Denoting by the rate matching output sequence length, the bit selection output
bit sequence , , is generated as follows:
if -- repetition
for to
;
end for
else
if -- puncturing
for to
;
end for
else -- shortening
for to
;
end for
end if
end if
#### 5.4.1.3 Interleaving of coded bits
The bit sequence is interleaved into bit sequence , as follows:
If
Denote as the smallest integer such that ;
;
for to
for to
if
;
else
;
end if
;
end for
end for
;
for to
for to
if
;
end if
end for
end for
else
for to
;
end for
end if
The value of is no larger than 8192.
### 5.4.2 Rate matching for LDPC code
The rate matching for LDPC code is defined per coded block and consists of bit
selection and bit interleaving. The input bit sequence to rate matching is .
The output bit sequence after rate matching is denoted as .
#### 5.4.2.1 Bit selection
The bit sequence after encoding from Clause 5.3.2 is written into a circular
buffer of length for the -th coded block, where is defined in Clause 5.3.2.
For the -th code block, let if and otherwise, where, , is determined according
to Clause 6.1.4.2 in [6, TS 38.214] for UL-SCH and Clause 5.1.3.2 in [6, TS
38.214] for DL-SCH/PCH, assuming the following:
For one TB for DL-SCH with PDSCH scheduled by DCI format 4_0/4_1/4_2:
\- if the PDSCH is scheduled by DCI format 4_1/4_2:
\- maximum number of layers is given by X, where:
\- if the higher layer parameter _maxMIMO-Layers_ of _pdsch-ConfigMulticast_
is configured _,_ X is given by that parameter;
\- otherwise, X equals to 1;
\- if the higher layer parameter _mcs-Table_ given by a _pdsch-
ConfigMulticast_ for at least one common frequency resource (CFR) is set to
\'qam256\', maximum modulation order $Q_{m} = 8$ is assumed for DL-SCH;
otherwise a maximum modulation order $Q_{m} = 6$ is assumed for DL-SCH;
\- if the PDSCH is scheduled by DCI format 4_0:
\- maximum number of layers is 1;
\- if the higher layer parameter _mcs-Table_ given by a _pdsch-ConfigMCCH_ is
set to \'qam256\', maximum modulation order $Q_{m} = 8$ is assumed for DL-SCH;
otherwise a maximum modulation order $Q_{m} = 6$ is assumed for DL-SCH;
\- if the higher layer parameter _mcs-Table_ given by a _pdsch-ConfigMTCH_ is
set to \'qam256\', maximum modulation order $Q_{m} = 8$ is assumed for DL-SCH;
otherwise a maximum modulation order $Q_{m} = 6$ is assumed for DL-SCH;
\- $n_{\text{PRB}} = n_{PRB,LBRM}$ is given by Table 5.4.2.1-1, where the
value of $n_{PRB,LBRM}$ for DL-SCH is determined according to the size of the
CFR if only one CFR is configured to the UE;
\- maximum coding rate of 948/1024;
\- $N_{\text{RE}} = 156 \bullet n_{\text{PRB}}$;
\- $C$ is the number of code blocks of the transport block determined
according to Clause 5.2.2.
For one TB for UL-SCH, or for one TB for DL-SCH/PCH except for DL-SCH with
PDSCH scheduled by DCI format 4_0/4_1/4_2:
\- maximum number of layers for one TB for UL-SCH is given by X, where:
\- if the higher layer parameter _maxMIMO-Layers of PUSCH-ServingCellConfig_
of the serving cell is configured, X is given by that parameter;
\- elseif the higher layer parameter _maxRank of pusch-Config of the serving
cell_ is configured, X is given by the maximum value of _maxRank_ across all
BWPs of the serving cell;
\- otherwise, X is given by the maximum number of layers for PUSCH supported
by the UE for the serving cell;
\- maximum number of layers for one TB for DL-SCH/PCH is given by the minimum
of X and 4, where:
\- if the higher layer parameter _maxMIMO-Layers of PDSCH-ServingCellConfig_
of the serving cell is configured, X is given by that parameter;
\- otherwise, X is given by the maximum number of layers for PDSCH supported
by the UE for the serving cell;
> \- if the higher layer parameter _mcs-Table-r17_ or _mcs-TableDCI-1-2-r17_
> given by a _pdsch-Config_ for at least one DL BWP of the serving cell is set
> to \'qam1024\', maximum modulation order $Q_{m} = 10$ is assumed for DL-SCH,
> else if the higher layer parameter _mcs-Table_ or _mcs-TableDCI-1-2_ given
> by a _pdsch-Config_ for at least one DL BWP of the serving cell is set to
> \'qam256\', maximum modulation order is assumed for DL-SCH; otherwise a
> maximum modulation order is assumed for DL-SCH;
>
> \- if the higher layer parameter _mcs-Table_ or _mcs-TableTransformPrecoder_
> or _mcs-TableDCI-0-2_ or _mcs-TableTransformPrecoderDCI-0-2_ given by a
> _pusch-Config_ or the higher layer parameter _mcs-Table_ or _mcs-
> TableTransformPrecoder_ given by _configuredGrantConfig_ for at least one UL
> BWP of the serving cell is set to \'qam256\', maximum modulation order is
> assumed for UL-SCH; otherwise a maximum modulation order is assumed for UL-
> SCH;
\- maximum coding rate of 948/1024;
\- is given by Table 5.4.2.1-1, where the value of for DL-SCH is determined
according to the initial downlink bandwidth part if there is no other downlink
bandwidth part configured to the UE;
\- ;
\- is the number of code blocks of the transport block determined according to
Clause 5.2.2.
Table 5.4.2.1-1: Value of
+---------------------------------------------------------------+-----+ | Maximum number of PRBs across all configured DL BWPs and UL | | | BWPs of a carrier for DL-SCH and UL-SCH, respectively, | | | | | | or | | | | | | Maximum number of PRBs across all CFRs of a carrier for | | | DL-SCH with PDSCH scheduled by DCI format 4_0/4_1/4_2 | | +===============================================================+=====+ | Less than 33 | 32 | +---------------------------------------------------------------+-----+ | 33 to 66 | 66 | +---------------------------------------------------------------+-----+ | 67 to 107 | 107 | +---------------------------------------------------------------+-----+ | 108 to 135 | 135 | +---------------------------------------------------------------+-----+ | 136 to 162 | 162 | +---------------------------------------------------------------+-----+ | 163 to 217 | 217 | +---------------------------------------------------------------+-----+ | Larger than 217 | 273 | +---------------------------------------------------------------+-----+
Denoting by the rate matching output sequence length for the -th coded block,
where the value of is determined as follows:
Set
for to
> if the -th coded block is not scheduled for transmission as indicated by
> CBGTI according to Clause 5.1.7.2 for DL-SCH and 6.1.5.2 for UL-SCH in [6,
> TS 38.214]:
;
else
if
;
else
;
end if
;
end if
end for
where:
\- is the number of transmission layers that the transport block is mapped
onto;
\- is the modulation order;
\- is the total number of coded bits available for transmission of the
transport block;
\- if CBGTI is not present in the DCI scheduling the transport block and is
the number of scheduled code blocks of the transport block if CBGTI is present
in the DCI scheduling the transport block.
Denote by the redundancy version number for this transmission ( = 0, 1, 2 or
3), the rate matching output bit sequence , , is generated as follows, where
is given by Table 5.4.2.1-2 according to the value of and LDPC base graph:
;
;
while
if
;
;
end if
;
end while
Table 5.4.2.1-2: Starting position of different redundancy versions,
* * *
      LDPC base graph 1   LDPC base graph 2
0  
1  
2  
3
* * *
#### 5.4.2.2 Bit interleaving
The bit sequence is interleaved to bit sequence , according to the following,
where the value of is the modulation order:
for to
for to
;
end for
end for
### 5.4.3 Rate matching for channel coding of small block lengths
The input bit sequence to rate matching is . The output bit sequence after
rate matching is denoted as , where is the rate matching output sequence
length. The bit sequence is obtained by the following:
for to
;
end for
## 5.5 Code block concatenation
The input bit sequence for the code block concatenation block are the
sequences , for and , where is the number of rate matched bits for the -th
code block. The output bit sequence from the code block concatenation block is
the sequence for .
The code block concatenation consists of sequentially concatenating the rate
matching outputs for the different code blocks. Therefore:
Set and
while
Set
while
end while
end while
# 6 Uplink transport channels and control information
## 6.1 Random access channel
The sequence index for the random access channel is received from higher
layers and is processed according to [4, TS 38.211].
## 6.2 Uplink shared channel
### 6.2.1 Transport block CRC attachment
Error detection is provided on each UL-SCH transport block through a Cyclic
Redundancy Check (CRC).
The entire transport block is used to calculate the CRC parity bits. Denote
the bits in a transport block delivered to layer 1 by, and the parity bits by,
where is the payload size and is the number of parity bits. The lowest order
information bit is mapped to the most significant bit of the transport block
as defined in Clause 6.1.1 of [TS38.321].
The parity bits are computed and attached to the UL-SCH transport block
according to Clause 5.1, by setting to 24 bits and using the generator
polynomial if ; and by setting to 16 bits and using the generator polynomial
otherwise.
The bits after CRC attachment are denoted by , where .
### 6.2.2 LDPC base graph selection
For initial transmission of a transport block with coding rate indicated by
the MCS index according to Clause 6.1.4.1 in [6, TS 38.214] and subsequent re-
transmission of the same transport block, each code block of the transport
block is encoded with either LDPC base graph 1 or 2 according to the
following:
\- if , or if and , or if , LDPC base graph 2 is used;
\- otherwise, LDPC base graph 1 is used,
where is the payload size as described in Clause 6.2.1.
### 6.2.3 Code block segmentation and code block CRC attachment
The bits input to the code block segmentation are denoted by where is the
number of bits in the transport block (including CRC).
Code block segmentation and code block CRC attachment are performed according
to Clause 5.2.2.
The bits after code block segmentation are denoted by, where is the code block
number and is the number of bits for code block number according to Clause
5.2.2.
When the value of _numberOfSlotsTBoMS_ in the row indicated by the Time domain
resource assignment field in DCI is larger than 1, the value of _B_ is no
larger than 3840 if $R \leq 0.25$ and no larger than 8448 otherwise, where
coding rate $R$ is indicated by the MCS index according to Clause 6.1.4.1 in
[6, TS 38.214].
### 6.2.4 Channel coding of UL-SCH
Code blocks are delivered to the channel coding block. The bits in a code
block are denoted by , where is the code block number, and is the number of
bits in code block number . The total number of code blocks is denoted by and
each code block is individually LDPC encoded according to Clause 5.3.2.
After encoding the bits are denoted by , where the values of is given in
Clause 5.3.2.
### 6.2.5 Rate matching
Coded bits for each code block, denoted as , are delivered to the rate match
block, where is the code block number, and is the number of encoded bits in
code block number . The total number of code blocks is denoted by and each
code block is individually rate matched according to Clause 5.4.2 by setting
if higher layer parameter _rateMatching_ is set to _limitedBufferRM_ and by
setting otherwise, if _numberOfSlotsTBoMS_ is not present in the resource
allocation table, or if _numberOfSlotsTBoMS_ is present in the resource
allocation table and the value of _numberOfSlotsTBoMS_ in the row indicated by
the Time domain resource assignment field in DCI is equal to 1. When the value
of _numberOfSlotsTBoMS_ in the row indicated by the Time domain resource
assignment field in DCI is larger than 1, each code block is individually rate
matched per slot according to Clause 5.4.2 by setting:
\- $I_{\text{LBRM}} = 1$ if higher layer parameter _rateMatching_ is set to
_limitedBufferRM_ and by setting $I_{\text{LBRM}} = 0\ $otherwise;
\- $G$ as the total number of coded bits available for transmission of the
transport block in the slot;
\- $k_{0}$ as given by Table 5.4.2.1-2 according to the value of
$\text{rv}_{\text{id}}$ and LDPC base graph if the slot is the first slot
within the $N_{s}$ slots allocated for the transmission of TB processing over
multiple slots, and setting $k_{0} = \left( k_{0}^{'} + H + \tau
\right)\text{mod}N_{\text{cb}}\ $if the slot is a slot except for the first
one within the $N_{s}$ slots, where $N_{s}$ is the value of
_numberOfSlotsTBoMS_ in the row indicated by the Time domain resource
assignment field in DCI, $k_{0}^{'}$ denotes the index of starting coded bit
in the previous slot within the $N_{s}$ slots, $H$ is the total number of
coded bits available for transmission of the transport block in the previous
slot within the $N_{s}$ slots assuming no UCI multiplexing, and $\tau$ denotes
the number of skipped filler bits if any in the previous slot within the
$N_{s}$ slots according to Clause 5.4.2.1 by assuming no UCI multiplexing.
After rate matching, the bits are denoted by, where is the number of rate
matched bits for code block number .
### 6.2.6 Code block concatenation
The input bit sequence for the code block concatenation block are the
sequences , for and where is the number of rate matched bits for the -th code
block.
Code block concatenation is performed according to Clause 5.5.
The bits after code block concatenation are denoted by, where is the total
number of coded bits for transmission.
### 6.2.7 Data and control multiplexing
In case where there are more than one UL-SCH transport blocks for the PUSCH
transmission, the UCI information is multiplexed only on the UL-SCH transport
block with highest _I~MCS~_ value for the initial PUSCH, where _I~MCS~_ is as
defined in Clause 6.1.4.1 in [6, TS 38.214]. In case the two transport blocks
have the same _I~MCS~_ value for the initial PUSCH, the UCI information is
multiplexed with data only on the first transport block. The PUSCH for UCI
multiplexing in this Clause referes to the UL-SCH transport block for UCI
multiplexing.
If the higher layer parameter _nrof_UTO_UCI_ is configured, the procedure in
this clause 6.2.7 applies by replacing CG‑UCI with UTO-UCI in all the
notations and texts, and replacing \"when higher layer parameter _cg-UCI-
Multiplexing_ is configured\" with \"when UTO-UCI and HARQ-ACK are transmitted
on a PUSCH\".
Denote the coded bits for UL-SCH as .
Denote the coded bits for HARQ-ACK or jointly coded bits for HARQ-ACK and CG-
UCI when the high layer parameter _cg-UCI-Multiplexing_ is configured, if any,
as .
Denote the coded bits for CSI part 1, if any, as .
Denote the coded bits for CSI part 2, if any, as .
Denote the coded bits for CG-UCI without HARQ-ACK, if any, as $g_{0}^{CG -
UCI},\ \ g_{1}^{CG - UCI},\text{\ \ }g_{2}^{CG - UCI},\ g_{3}^{CG - UCI},\
\ldots,\ g_{G^{CG - UCI} - 1}^{CG - UCI}$.
Denote the multiplexed data and control coded bit sequence as .
Denote as the OFDM symbol index of the scheduled PUSCH, starting from 0 to ,
where is the total number of OFDM symbols of the PUSCH, including all OFDM
symbols used for DMRS.
Denote as the subcarrier index of the scheduled PUSCH, starting from 0 to ,
where is expressed as a number of subcarriers.
Denote as the set of resource elements, in ascending order of indices ,
available for transmission of data in OFDM symbol , for .
Denote as the number of elements in set . Denote as the -th element in .
Denote as the set of resource elements, in ascending order of indices ,
available for transmission of UCI in OFDM symbol , for . Denote as the number
of elements in set . Denote as the -th element in . For any OFDM symbol that
carriers DMRS of the PUSCH, . For any OFDM symbol that does not carry DMRS of
the PUSCH, .
If frequency hopping is configured for the PUSCH,
\- denote as the OFDM symbol index of the first OFDM symbol after the first
set of consecutive OFDM symbol(s) carrying DMRS in the first hop;
\- denote as the OFDM symbol index of the first OFDM symbol after the first
set of consecutive OFDM symbol(s) carrying DMRS in the second hop;
\- denote as the OFDM symbol index of the first OFDM symbol that does not
carry DMRS in the first hop;
\- denote as the OFDM symbol index of the first OFDM symbol that does not
carry DMRS in the second hop;
\- if HARQ-ACK is present for transmission on the PUSCH with UL-SCH or if both
HARQ-ACK and CG-UCI are present on the same PUSCH with UL-SCH, let:
\- and ;
\- if CSI is present for transmission on the PUSCH with UL-SCH, let:
\- ;
\- ;
\- ; and
\- ;
\- if CG-UCI is present for transmission on the PUSCH with UL-SCH and without
HARQ-ACK, let:
\- $G^{\text{CG} - \text{UCI}}\left( 1 \right) = N_{L} \bullet Q_{m} \bullet
\left\lfloor \frac{G^{\text{CG} - \text{UCI}}}{\left( 2{\bullet N}_{L} \bullet
Q_{m} \right)} \right\rfloor$ and $G^{\text{CG} - \text{UCI}}\left( 2 \right)
= N_{L} \bullet Q_{m} \bullet \left\lceil \frac{G^{\text{CG} -
\text{UCI}}}{\left( 2{\bullet N}_{L} \bullet Q_{m} \right)} \right\rceil$
\- if only HARQ-ACK and CSI part 1 are present for transmission on the PUSCH
without UL-SCH, let:
\- ;
\- ;
\- ; and
\- ;
\- if HARQ-ACK, CSI part 1 and CSI part 2 are present for transmission on the
PUSCH without UL-SCH, let:
\- ;
\- ;
\- if the number of HARQ-ACK information bits is more than 2,; otherwise,
\- ;
\- if the number of HARQ-ACK information bits is no more than 2, and
otherwise; and
\- if the number of HARQ-ACK information bits is no more than 2, and
otherwise;
\- if only CSI part 1 and CSI part 2 are present for transmission on the PUSCH
without UL-SCH, let:
\- ;
\- ;
\- ; and
\- ;
\- let , and denote , as the number of OFDM symbols of the PUSCH in the first
and second hop, respectively;
\- is the number of transmission layers of the PUSCH;
\- is the modulation order of the PUSCH;
\- ;
\- ;
\- .
If frequency hopping is not configured for the PUSCH,
\- denote as the OFDM symbol index of the first OFDM symbol after the first
set of consecutive OFDM symbol(s) carrying DMRS;
\- denote as the OFDM symbol index of the first OFDM symbol that does not
carry DMRS;
\- if HARQ-ACK is present for transmission on the PUSCH or if both HARQ-ACK
and CG-UCI are present on the same PUSCH with UL-SCH, let ;
\- if CSI is present for transmission on the PUSCH, let and ;
\- if CG-UCI is present for transmission on the PUSCH without HARQ-ACK, let
$G^{CG - UCI}\left( 1 \right) = G^{CG - UCI}$;
\- let and .
The multiplexed data and control coded bit sequence is obtained according to
the following:
**[Step 1:]{.underline}**
Set for ;
Set for ;
Set for ;
Set for ;
if the number of HARQ-ACK information bits to be transmitted on PUSCH is 0, 1
or 2 bits and without CG-UCI:
> the number of reserved resource elements for potential HARQ-ACK transmission
> is calculated according to Clause 6.3.2.4.2.1, by setting ;
>
> denote as the number of coded bits for potential HARQ-ACK transmission using
> the reserved resource elements;
>
> if frequency hopping is configured for the PUSCH, let and ;
>
> if frequency hopping is not configured for the PUSCH, let ;
>
> denote as the set of reserved resource elements for potential HARQ-ACK
> transmission, in OFDM symbol , for ;
Set ;
Set ;
for ;
for to
;
while
if
if
;
;
end if
if
;
;
end if
for to
;
end for
end if
;
end while
end for
else
for ;
end if
Denote as the number of elements in .
**Step 2:**
if HARQ-ACK is present for transmission on the PUSCH and the number of HARQ-
ACK information bits is more than 2 or if both HARQ-ACK and CG-UCI are present
on the same PUSCH with UL-SCH:
Set ;
Set ;
Set ;
for to
;
while
if
if
;
;
end if
if
;
;
end if
for to
;
for to
> ;
>
> ;
>
> ;
end for
end for
;
for to
;
end for
;
;
;
;
end if
;
end while
end for
end if
**Step 2A:**
If CG-UCI is present for transmission on the PUSCH without HARQ-ACK:
Set $m_{\text{count}}^{CG - UCI}\left( 1 \right) = 0$;
Set $m_{\text{count}}^{CG - UCI}\left( 2 \right) = 0$;
Set $m_{count,all}^{CG - UCI} = 0$;
for $i = 1$ to $N_{\text{hop}}^{\text{PUSCH}}$
$l = l^{(i)}$;
while $m_{\text{count}}^{CG - UCI}\left( i \right)  0$
if ${G^{\text{CG} - \text{UCI}}(i)\ - m}_{\text{count}}^{\text{CG} -
\text{UCI}}\left( 1 \right) \geq {\overline{M}}_{\text{sc}}^{\text{UCI}}\left(
l \right).N_{L}.Q_{m}$
$d = 1$;
$m_{\text{count}}^{\text{RE}} = {\overline{M}}_{\text{sc}}^{\text{UCI}}\left(
l \right)$;
end if
if ${G^{CG - UCI}(i)\ - m}_{\text{count}}^{CG - UCI}\left( 1 \right)  ;
>
> ;
>
> ;
end for
end for
;
for to
;
end for
;
;
;
;
end if
;
end while
end for
Set ;
Set ;
Set ;
for to
;
while
;
end while
while
if
if
;
;
end if
if
;
;
end if
for to
;
for to
> ;
>
> ;
>
> ;
end for
end for
;
for to
;
end for
;
;
;
;
end if
;
end while
end for
end if
**Step 4:**
if UL-SCH is present for transmission on the PUSCH:
Set ;
for to
if
for to
;
for to
;
;
end for
end for
end if
end for
end if
**Step 5:**
if HARQ-ACK is present for transmission on the PUSCH without CG-UCI and the
number of HARQ-ACK information bits is no more than 2:
Set ;
Set ;
Set ;
for to
;
while
if
if
;
;
end if
if
;
;
end if
for to
;
for to
> ;
>
> ;
>
> ;
end for
end for
end if
;
end while
end for
end if
**Step 6:**
Set ;
for to
for to
;
for to
;
;
end for
end for
end for
## 6.3 Uplink control information
### 6.3.1 Uplink control information on PUCCH
The procedure in this clause applies to PUCCH formats 2/3/4.
The following clauses 6.3.1.2, 6.3.1.3 and 6.3.1.5 apply regardless of whether
the higher layer parameter _uci-MuxWithDiffPrio_ is configured or not. The
following clauses 6.3.1.1, 6.3.1.4 and 6.3.1.6 apply by assuming _uci-
MuxWithDiffPrio_ is not configured, or _uci-MuxWithDiffPrio_ is configured and
the UCIs for transmission on a PUCCH are of the same priority index, unless
stated otherwise.
If the UE is configured with a PUCCH-SCell, _uci-MuxWithDiffPrio_ is replaced
by _uci-MuxWithDiffPrioSecondaryPUCCHgroup_ for the secondary PUCCH group in
this clause _._
#### 6.3.1.1 UCI bit sequence generation
##### 6.3.1.1.1 HARQ-ACK/SR only
If only HARQ-ACK bits are transmitted on a PUCCH, the UCI bit sequence
{width="1.2152777777777777in" height="0.20833333333333334in"} is determined by
setting {width="0.5972222222222222in" height="0.2361111111111111in"} for
{width="1.1388888888888888in" height="0.2152777777777778in"} and
{width="0.5972222222222222in" height="0.19444444444444445in"}, where the HARQ-
ACK bit sequence {width="1.2152777777777777in" height="0.2708333333333333in"}
is given by Clause 9.1 of [5, TS38.213].
If only HARQ-ACK and SR bits are transmitted on a PUCCH, the UCI bit sequence
{width="1.2152777777777777in" height="0.20833333333333334in"} is determined by
setting {width="0.5972222222222222in" height="0.2361111111111111in"} for
{width="1.1388888888888888in" height="0.2152777777777778in"}, $a_{i} =
{\widetilde{o}}_{i - O^{\text{ACK}}}^{\text{SR}}$ for
{width="2.173611111111111in" height="0.2152777777777778in"}, and
{width="0.9791666666666666in" height="0.19444444444444445in"}, where the HARQ-
ACK bit sequence {width="1.2152777777777777in" height="0.2708333333333333in"}
is given by Clause 9.1 of [5, TS 38.213], and the SR bit sequence
{width="1.1736111111111112in" height="0.2916666666666667in"} is given by
Clause 9.2.5.1 of [5, TS 38.213].
##### 6.3.1.1.2 CSI only
If _cqi-BitsPerSubband_ is configured, this Clause 6.3.1.1.2 applies by taking
Subband CQI as Subband differential CQI and replacing the corresponding number
of bits 2 by 4.
If _csi-ReportSubConfig_ is configured, for a corresponding CSI sub-report,
the bitwidth of a CSI field of the CSI sub-report is determined following the
procedure in this clause 6.3.1.1.2 by taking configurations in _CSI-
ReportSubConfig_ when applicable. If _csi-ReportSubConfig_ configures a list
of CSI-RS resource IDs, for the determination of the bitwdith of a CRI field,
the value of $K_{s}^{CSI - RS}$ is the number of CSI-RS resources configured
in the corresponding _csi-ReportSubConfig_.
The bitwidth for PMI of _codebookType=typeI-SinglePanel_ with 2 CSI-RS ports
is 2 for Rank=1 and 1 for Rank=2, according to Clause 5.2.2.2.1 in [6, TS
38.214].
The bitwidth for PMI of _codebookType=typeI-SinglePanel_ with more than 2 CSI-
RS ports is provided in Table 6.3.1.1.2-1, where the values of
{width="0.5138888888888888in" height="0.2152777777777778in"}and
{width="0.4861111111111111in" height="0.2152777777777778in"} are given by
Clause 5.2.2.2.1 in [6, TS 38.214].
Table 6.3.1.1.2-1: PMI of _codebookType=typeI-SinglePanel_
* * *
                                           Information field for wideband PMI   Information field for wideband PMI\                            
                                                                                or per subband PMI
* * *
                                           (,)
                                           *codebookMode*=1                     *codebookMode*=2                            *codebookMode*=1   *codebookMode*=2
Rank = 1 with >2 CSI-RS ports, (,) (,) N/A 2 4
Rank = 1 with >2 CSI-RS ports, (,) (, 0) N/A 2 4
Rank=2 with 4 CSI-RS ports, (,) (, 0) 1 1 3
Rank=2 with >4 CSI-RS ports, (,) (,) 2 1 3
Rank=2 with >4 CSI-RS ports, (,) (, 0) 2 1 3
Rank=3 or 4, with 4 CSI-RS ports (,) 0 1
Rank=3 or 4, with 8 or 12 CSI-RS ports (,) 2 1
Rank=3 or 4 , with >=16 CSI-RS ports (, ) 2 1
Rank=5 or 6 (,) N/A 1
Rank=7 or 8, (, ) N/A 1
Rank=7 or 8, (,) N/A 1
Rank=7 or 8, with or or (,) N/A 1
* * *
The bitwidth for PMI of _codebookType=_ _typeI-MultiPanel_ is provided in
Table 6.3.1.1.2-2, where the values of and are given by Clause 5.2.2.2.2 in
[6, TS 38.214].
Table 6.3.1.1.2-2: PMI of _codebookType=_ _typeI-MultiPanel_
* * *
                             Information fields for wideband   Information fields for wideband\                                     
                                                               or per subband
* * *
                             (,)
Rank=1 with\ (,) N/A 2 N/A N/A 2 N/A N/A N/A _codebookMode=1_
Rank=1 with\ (,) N/A 2 2 2 2 N/A N/A N/A _codebookMode=1_
Rank=2 with ,\ (,) 1 2 N/A N/A 1 N/A N/A N/A _codebookMode=1_
Rank=3 or 4 with ,\ (,) 0 2 N/A N/A 1 N/A N/A N/A _codebookMode=1_
Rank=2 or 3 or 4 with ,\ (,) 2 2 N/A N/A 1 N/A N/A N/A _codebookMode=1_
Rank=2 with ,\ (,) 1 2 2 2 1 N/A N/A N/A _codebookMode=1_
Rank=3 or 4 with ,\ (,) 0 2 2 2 1 N/A N/A N/A _codebookMode=1_
Rank=2 or 3 or 4 with ,\ (,) 2 2 2 2 1 N/A N/A N/A _codebookMode=1_
Rank=1 with\ (,) N/A 2 2 N/A N/A 2 1 1 _codebookMode=2_
Rank=2 with ,\ (,) 1 2 2 N/A N/A 1 1 1 _codebookMode=2_
Rank=3 or 4 with ,\ (,) 0 2 2 N/A N/A 1 1 1 _codebookMode=2_
Rank=2 or 3 or 4 with ,\ (,) 2 2 2 N/A N/A 1 1 1 _codebookMode=2_
* * *
The bitwidth for PMI with 1 CSI-RS port is 0.
The bitwidth for RI/LI/CQI/CRI of _codebookType=typeI-SinglePanel_ or
_reportQuantity_ set to \'cri-RI-CQI\' is provided in Table 6.3.1.1.2-3.
Table 6.3.1.1.2-3: RI, LI, CQI, and CRI of _codebookType=typeI-SinglePanel,
or\ reportQuantity_ set to \'cri-RI-CQI\'
**Field** **Bitwidth**
* * *
                                                               **1 antenna port**   **2 antenna ports**   **4 antenna ports**   **\>4 antenna ports**   
                                                                                                                                **Rank1\~4**            **Rank5\~8**
Rank Indicator when _codebookType=typeI-SinglePanel_ 0  
Rank Indicator when _reportQuantity_ set to \'cri-RI-CQI\' 0 1 2 3 3 Layer
Indicator 0  
Wide-band CQI for the first TB 4 4 4 4 4 Wideband CQI for the second TB 0 0 0
0 4 Subband differential CQI for the first TB 2 2 2 2 2 Subband differential
CQI for the second TB 0 0 0 0 2 CRI
in Table 6.3.1.1.2-3 is the number of allowed rank indicator values according
to Clause 5.2.2.2.1 [6, TS 38.214]. is the value of the rank. The value of is
the number of CSI-RS resources in the corresponding resource set. The values
of the rank indicator field are mapped to allowed rank indicator values with
increasing order, where \'0\' is mapped to the smallest allowed rank indicator
value. For higher layer parameter _reportQuantity_ set to \'cri-RI-CQI\', the
values of the rank indicator field are mapped to rank indicator values with
increasing order, where \'0\' is mapped to rank-1.
Table 6.3.1.1.2-3A: RI, LI, CQI, and CRI associated with one CSI-RS resource
pair and\ _csi-ReportMode= Mode 1_ or _Mode 2_
**Field** **Bitwidth**
* * *
                                              **1 antenna port per Resource**                                         **\> 1 antenna ports per Resource**
Rank Combination Indicator 0 $$min(2,\left\lceil \log_{2}\ n_{RI,NCJT}
\right\rceil)$$ The first Layer Indicator 0 $$\left\lceil \log_{2}\left( v_{1}
\right) \right\rceil$$ The second Layer Indicator 0 $$\left\lceil
\log_{2}\left( v_{2} \right) \right\rceil$$ Wide-band CQI for the first TB 4 4
Subband differential CQI for the first TB 2 2 CRI if _csi-ReportMode= Mode 1_
$$\left\lceil \log_{2}N \right\rceil$$ $$\left\lceil \log_{2}N \right\rceil$$
CRI if _csi-ReportMode= Mode 2_ $$\left\lceil \log_{2}\left( M_{1} + M_{2} + N
\right) \right\rceil$$ $$\left\lceil \log_{2}\left( M_{1} + M_{2} + N \right)
\right\rceil$$
Table 6.3.1.1.2-3B: RI, LI, CQI, and CRI associated with one CSI-RS resource
_and\ csi-ReportMode= Mode 1 or Mode 2_
+----------+----------+----------+----------+----------+----------+ | * | **Bi | | | | | | *Field** | twidth**| | | | | +==========+==========+==========+==========+==========+==========+ | |** 1 | **2 |** 4 | **> 4 | | | | antenna | antenna | antenna | antenna | | | | port** | ports**| ports** | ports**| | +----------+----------+----------+----------+----------+----------+ | | | | |** Ra | **Ra | | | | | | nk1\~4** | nk5\~8 __| +----------+----------+----------+----------+----------+----------+ | Rank | 0 | $$min(1 | $$min(2 | $$\left\ | $$\left\ | | I | | ,\left\l | ,\left\l | lceil \l | lceil \l | | ndicator | | ceil \lo | ceil \lo | og_{2}\ | og_{2}\ | | | | g_{2}\ n | g_{2}\ n | n_{\text | n_{\text | | | |_{\text{ |_{\text{ | {RI},\te | {RI},\te | | | | RI},\tex | RI},\tex | xt{sTRP} | xt{sTRP} | | | | t{sTRP}} | t{sTRP}} | } \right | } \right | | | | \right\ | \right\ | \rceil$$ | \rceil$$ | | | | rceil)$$ | rceil)$$ | | | +----------+----------+----------+----------+----------+----------+ | Layer | 0 | $$\le | $$min( | $$min( | $$min( | | I | | ft\lceil | 2,\ \lef | 2,\ \lef | 2,\ \lef | | ndicator | | \log_{2 | t\lceil | t\lceil | t\lceil | | | | }\left( | \log_{2} | \log_{2} | \log_{2} | | | | v \right | \left( v | \left( v | \left( v | | | | ) \right | \right) | \right) | \right) | | | | \rceil$$ | \right\ | \right\ | \right\ | | | | | rceil)$$ | rceil)$$ | rceil)$$ | +----------+----------+----------+----------+----------+----------+ | W | 4 | 4 | 4 | 4 | 4 | | ide-band | | | | | | | CQI for | | | | | | | the | | | | | | | first TB | | | | | | +----------+----------+----------+----------+----------+----------+ | Wideband | 0 | 0 | 0 | 0 | 4 | | CQI for | | | | | | | the | | | | | | | second | | | | | | | TB | | | | | | +----------+----------+----------+----------+----------+----------+ | Subband | 2 | 2 | 2 | 2 | 2 | | diff | | | | | | | erential | | | | | | | CQI for | | | | | | | the | | | | | | | first TB | | | | | | +----------+----------+----------+----------+----------+----------+ | Subband | 0 | 0 | 0 | 0 | 2 | | diff | | | | | | | erential | | | | | | | CQI for | | | | | | | the | | | | | | | second | | | | | | | TB | | | | | | +----------+----------+----------+----------+----------+----------+ | CRI if | $ | $ | $ | $ | $ | | _csi-Rep | $\left\l | $\left\l | $\left\l | $\left\l | $\left\l | | ortMode= | ceil \lo | ceil \lo | ceil \lo | ceil \lo | ceil \lo | | Mode 1_ | g_{2}\le | g_{2}\le | g_{2}\le | g_{2}\le | g_{2}\le | | and | ft( M_{1 | ft( M_{1 | ft( M_{1 | ft( M_{1 | ft( M_{1 | | _num | } + M_{2 | } + M_{2 | } + M_{2 | } + M_{2 | } + M_{2 | | berOfSin | } \right | } \right | } \right | } \right | } \right | | gleTRP-C | ) \right | ) \right | ) \right | ) \right | ) \right | | SI-Mode1 | \rceil$$ | \rceil$$ | \rceil$$ | \rceil$$ | \rceil$$ | | = 1_ | | | | | | +----------+----------+----------+----------+----------+----------+ | CRI if | $\left\ | $\left\ | $\left\ | $\left\ | $\left\ | | _csi-Rep | lceil \l | lceil \l | lceil \l | lceil \l | lceil \l | | ortMode= | og_{2}\l | og_{2}\l | og_{2}\l | og_{2}\l | og_{2}\l | | Mode 1_ | eft( M_{ | eft( M_{ | eft( M_{ | eft( M_{ | eft( M_{ | | and | 1} \righ | 1} \righ | 1} \righ | 1} \righ | 1} \righ | | _num | t) \righ | t) \righ | t) \righ | t) \righ | t) \righ | | berOfSin | t\rceil$ | t\rceil$ | t\rceil$ | t\rceil$ | t\rceil$ | | gleTRP-C | for the | for the | for the | for the | for the | | SI-Mode1 | first | first | first | first | first | | = 2_ | CRI; | CRI; | CRI; | CRI; | CRI; | | | | | | | | | | $\left\ | $\left\ | $\left\ | $\left\ | $\left\ | | | lceil \l | lceil \l | lceil \l | lceil \l | lceil \l | | | og_{2}\l | og_{2}\l | og_{2}\l | og_{2}\l | og_{2}\l | | | eft( M_{ | eft( M_{ | eft( M_{ | eft( M_{ | eft( M_{ | | | 2} \righ | 2} \righ | 2} \righ | 2} \righ | 2} \righ | | | t) \righ | t) \righ | t) \righ | t) \righ | t) \righ | | | t\rceil$ | t\rceil$ | t\rceil$ | t\rceil$ | t\rceil$ | | | for the | for the | for the | for the | for the | | | second | second | second | second | second | | | CRI | CRI | CRI | CRI | CRI | +----------+----------+----------+----------+----------+----------+ | CRI if | $$\le | $$\le | $$\le | $$\le | $$\le | | _csi-Rep | ft\lceil | ft\lceil | ft\lceil | ft\lceil | ft\lceil | | ortMode= | \log_{2 | \log_{2 | \log_{2 | \log_{2 | \log_{2 | | Mode 2_ | }\left( | }\left( | }\left( | }\left( | }\left( | | | M_{1} + | M_{1} + | M_{1} + | M_{1} + | M_{1} + | | | M_{2} + | M_{2} + | M_{2} + | M_{2} + | M_{2} + | | | N \right | N \right | N \right | N \right | N \right | | | ) \right | ) \right | ) \right | ) \right | ) \right | | | \rceil$$ | \rceil$$ | \rceil$$ | \rceil$$ | \rceil$$ | +----------+----------+----------+----------+----------+----------+
$n_{\text{RI},\text{NCJT}}$ in Table 6.3.1.1.2-3A is the number of allowed
rank combination indicator values associated with one CSI-RS resource pair
according to Clause 5.2.1.4.2 [6, TS 38.214]. The values of the rank
combination indicator field are mapped to allowed rank combinations in the
following order: {1,1}, {1,2}, {2,1},{2,2}, where \'0\' is mapped to the first
allowed rank combination. $v_{1}$ and $v_{2}$ are the values of the first and
the second rank associated with two CSI‑RS resources of the CSI-RS resource
pair respectively.
$n_{RI,\ sTRP}$ in Table 6.3.1.1.2-3B is the number of allowed rank indicator
values associated with one CSI-RS resource according to Clause 5.2.1.4.2 [6,
TS 38.214]. _v_ is the value of the rank associated with the CSI-RS resource.
The values of the rank indicator field are mapped to allowed rank indicator
values with increasing order, where \'0\' is mapped to the smallest allowed
rank indicator value.
The value of _N_ in Table 6.3.1.1.2-3A and Table 6.3.1.1.2-3B is the number of
CSI-RS resource pairs configured within a CSI-RS resource set. The values of
M~1~ and M~2~ in Table 6.3.1.1.2-3A and Table 6.3.1.1.2-3B are given by
\- If _sharedCMR_ = \"Enabled\", _M_ ~1~ = _K_ ~1~ and _M_ ~2~ = _K_ ~2~
\- If _sharedCMR_ is absent and _N_ = 1, _M_ ~1~ = _K_ ~1~ - 1 and _M_ ~2~ =
_K_ ~2~ - 1
\- If _sharedCMR_ is absent and _N_ = 2,
_\- M_ ~1~ = _K_ ~1~ - 2 and _M_ ~2~ = _K_ ~2~ - 2, if the two resource pairs
do not share any CSI-RS resource
_\- M_ ~1~ = _K_ ~1~ - 1 and _M_ ~2~ = _K_ ~2~ - 2, if the two resource pairs
share the same CSI-RS resource from the first CSI-RS resource group
_\- M_ ~1~ = _K_ ~1~ - 2 and _M_ ~2~ = _K_ ~2~ - 1, if the two resource pairs
share the same CSI-RS resource from the second CSI-RS resource group
where the values of _K_ ~1~ and _K_ ~2~ are the numbers of CSI-RS resources in
the first and second CSI-RS resource groups within the CSI-RS resource set
respectively.
The bitwidth for RI/LI/CQI/CRI of _codebookType= typeI-MultiPanel_ is provided
in Table 6.3.1.1.2-4.
Table 6.3.1.1.2-4: RI, LI, CQI, and CRI of _codebookType=typeI-MultiPanel_
Field Bitwidth
* * *
Rank Indicator  
Layer Indicator  
Wide-band CQI 4 Subband differential CQI 2 CRI
where is the number of allowed rank indicator values according to Clause
5.2.2.2.2 [6, TS 38.214], is the value of the rank, and is the number of CSI-
RS resources in the corresponding resource set. The values of the rank
indicator field are mapped to allowed rank indicator values with increasing
order, where \'0\' is mapped to the smallest allowed rank indicator value.
The bitwidth for RI/LI/CQI of _codebookType= typeII_ or _codebookType=typeII-
PortSelection_ is provided in Table 6.3.1.1.2-5.
Table 6.3.1.1.2-5: RI, LI, and CQI of _codebookType=typeII or typeII-
PortSelection_
* * *
Field Bitwidth
* * *
Rank Indicator
Layer Indicator
Wide-band CQI 4
Subband differential CQI 2
Indicator of the number of non-zero\  
wideband amplitude coefficients for layer
* * *
where is the number of allowed rank indicator values according to Clauses
5.2.2.2.3 and 5.2.2.2.4 [6, TS 38.214] and is the value of the rank. The
values of the rank indicator field are mapped to allowed rank indicator values
with increasing order, where \'0\' is mapped to the smallest allowed rank
indicator value.
The bitwidth for CRI, SSBRI, RSRP, differential RSRP, and CapabilityIndex are
provided in Table 6.3.1.1.2-6.
Table 6.3.1.1.2-6: CRI, SSBRI, RSRP, and CapabilityIndex
Field Bitwidth
* * *
CRI  
SSBRI  
RSRP 7 Differential RSRP 4 CapabilityIndex 2
where is the number of CSI-RS resources in the corresponding resource set, and
is the configured number of SS/PBCH blocks in the corresponding resource set
for reporting \'ssb-Index-RSRP\'.
The bitwidth for CRI, SSBRI, SINR, differential SINR, and CapabilityIndex are
provided in Table 6.3.1.1.2-6A.
Table 6.3.1.1.2-6A: CRI, SSBRI, SINR, and CapabilityIndex
**Field** **Bitwidth**
* * *
CRI $$\left\lceil \log_{2}\left( K_{s}^{\text{CSI} - \text{RS}} \right)
\right\rceil$$ SSBRI $$\left\lceil \log_{2}\left( K_{s}^{\text{SSB}} \right)
\right\rceil$$ SINR 7 Differential SINR 4 CapabilityIndex 2
where $K_{s}^{CSI - RS}$ is the number of CSI-RS resources in the
corresponding resource set, and $K_{s}^{\text{SSB}}$ is the configured number
of SS/PBCH blocks in the corresponding resource set for reporting \'ssb-Index-
SINR\'.
If _csi-ReportSubConfig_ is configured, for a corresponding CSI sub-report,
the mapping order of CSI fields of one CSI sub-report is determined following
the procedure in this clause 6.3.1.1.2, by replacing CSI report #n in the
following Tables X, Y, Z with CSI sub-report #n.
Table 6.3.1.1.2-7: Mapping order of CSI fields of one CSI report,\ _pmi-
FormatIndicator=widebandPMI_ and _cqi-FormatIndicator=widebandCQI or
reportQuantity\_ set to \'cri-RI-CQI\' and _cqi-FormatIndicator=widebandCQI_
CSI report number CSI fields
* * *
CSI report #n CRI as in Tables 6.3.1.1.2-3/4, if reported Rank Indicator as in
Tables 6.3.1.1.2-3/4, if reported Layer Indicator as in Tables 6.3.1.1.2-3/4,
if reported Zero padding bits , if needed PMI wideband information fields ,
from left to right as in Tables 6.3.1.1.2-1/2, if reported PMI wideband
information fields , from left to right as in Tables 6.3.1.1.2-1/2, or
codebook index for 2 antenna ports according to Clause 5.2.2.2.1 in [6,
TS38.214], if reported Wideband CQI for the first TB as in Tables
6.3.1.1.2-3/4, if reported Wideband CQI for the second TB as in Tables
6.3.1.1.2-3/4, if reported
The number of zero padding bits in Table 6.3.1.1.2-7 is 0 for 1 CSI-RS port
and for more than 1 CSI-RS port, where:
\- and is the set of rank values that are allowed to be reported;
\- , where is the reported rank;
\- For 2 CSI-RS ports, ;
\- For more than 2 CSI-RS ports, ;
\- if PMI is reported, and ; otherwise, ;
\- if PMI is reported, is obtained according to Tables 6.3.1.1.2-1/2;
otherwise, ;
\- if PMI is reported, is obtained according to Tables 6.3.1.1.2-1/2;
otherwise, ;
\- if CQI is reported, is obtained according to Tables 6.3.1.1.2-3/4;
otherwise, ;
\- if LI is reported, is obtained according to Tables 6.3.1.1.2-3/4;
otherwise, .
Table 6.3.1.1.2-7A: Mapping order of CSI fields of one CSI report, _pmi-
FormatIndicator=widebandPMI_ , _cqi-FormatIndicator=widebandCQI, csi-
ReportMode= Mode 1_ and _numberOfSingleTRP-CSI-Mode1=0_
CSI report number CSI fields
* * *
CSI report #n CRI as in Tables 6.3.1.1.2-3A, if reported Rank Combination
Indicator as in Tables 6.3.1.1.2-3A, if reported Two Layer Indicators as in
Table 6.3.1.1.2-3A, where the first Layer Indicator and the second Layer
Indicator are associated with the first resource and the second resource
within the resource pair respectively and if reported; Zero padding bits
$O_{P}$, if needed PMI wideband information fields _X~1~_ , from left to right
as in Tables 6.3.1.1.2-1 associated with the first resource within the CSI-RS
resource pair, if reported PMI wideband information fields _X~2~_ , from left
to right as in Tables 6.3.1.1.2-1, or codebook index for 2 antenna ports
according to Clause 5.2.2.2.1 in [6, TS38.214] associated with the first CSI-
RS resource within the CSI-RS resource pair, if reported PMI wideband
information fields _X~1~_ , from left to right as in Tables 6.3.1.1.2-1
associated with the second resource within the CSI-RS resource pair, if
reported PMI wideband information fields _X~2~_ , from left to right as in
Tables 6.3.1.1.2-1, or codebook index for 2 antenna ports according to Clause
5.2.2.2.1 in [6, TS38.214] associated with the second CSI-RS resource within
the CSI-RS resource pair, if reported Wideband CQI for the first TB as in
Tables 6.3.1.1.2-3A, if reported
The number of zero padding bits $O_{P}$ in Table 6.3.1.1.2-7A is 0 for 1 CSI-
RS port and $O_{P} = N_{\max} - N_{\text{reported}}$ for more than 1 CSI-RS
port, where:
\- $N_{\max} = \max_{r \in S_{\text{Rank}}}{B(r)}\ $ and $S_{\text{Rank}}$ is
the set of rank combination values of $r = { r_{1},r_{2}}$ that are allowed to
be reported;
\- $N_{\text{reported}} = B(R)$ where R is the reported rank combination;
\- For 2 CSI-RS ports, $B\left( r \right) = N_{\text{PMI}}(r_{1}) +
N_{\text{PMI}}(r_{2}) + N_{\text{CQI}}\left( r \right) + N_{\text{LI}}(r_{1})
+ N_{\text{LI}}(r_{2})$;
\- For more than 2 CSI-RS ports,$\text{\ B}\left( r \right) =
N_{PMI,i_{1}}(r_{1}) + N_{PMI,i_{1}}(r_{2}) + N_{PMI,i_{2}}(r_{1}) +
N_{PMI,i_{2}}(r_{2}) + N_{\text{CQI}}\left( r \right) + N_{\text{LI}}(r_{1}) +
N_{\text{LI}}(r_{2})$ ;
\- if PMI is reported, $N_{\text{PMI}}\left( 1 \right) = 2$ and
$N_{\text{PMI}}\left( 2 \right) = 1$; otherwise,$\ N_{\text{PMI}} = 0$;
\- if PMI $i_{1}$ is reported,$\ N_{PMI,i_{1}}(r_{1})$ and
$N_{PMI,i_{1}}(r_{2})$ are obtained according to Tables 6.3.1.1.2-1;
otherwise, $N_{PMI,i_{1}} = 0$;
\- if PMI $i_{2}$ is reported, $N_{PMI,i_{2}}(r_{1})$ and
$N_{PMI,i_{2}}(r_{2})$ are obtained according to Tables 6.3.1.1.2-1;
otherwise, $\ N_{PMI,i_{2}} = 0$;
\- if CQI is reported, $N_{\text{CQI}}\left( r \right)$ is obtained according
to Tables 6.3.1.1.2-3A; otherwise,$\ N_{\text{CQI}}\left( r \right) = 0$;
\- if LI is reported, $N_{\text{LI}}(r_{1})$ and $N_{\text{LI}}(r_{2})$ are
obtained according to Tables 6.3.1.1.2-3A; otherwise , $N_{\text{LI}} = 0$.
Table 6.3.1.1.2-8: Mapping order of CSI fields of one report for CRI/RSRP or
SSBRI/RSRP or CRI/RSRP/CapabilityIndex or SSBRI/RSRP/CapabilityIndex
reporting, or mapping order of CSI fields of one report for inter-cell
SSBRI/RSRP reporting
CSI report number CSI fields
* * *
CSI report #n CRI or SSBRI #1 as in Table 6.3.1.1.2-6, if reported CRI or
SSBRI #2 as in Table 6.3.1.1.2-6, if reported CRI or SSBRI #3 as in Table
6.3.1.1.2-6, if reported CRI or SSBRI #4 as in Table 6.3.1.1.2-6, if reported
RSRP #1 as in Table 6.3.1.1.2-6, if reported Differential RSRP #2 as in Table
6.3.1.1.2-6, if reported Differential RSRP #3 as in Table 6.3.1.1.2-6, if
reported Differential RSRP #4 as in Table 6.3.1.1.2-6, if reported
CapabilityIndex #1 as in Table 6.3.1.1.2-6, if reported CapabilityIndex #2 as
in Table 6.3.1.1.2-6, if reported CapabilityIndex #3 as in Table 6.3.1.1.2-6,
if reported CapabilityIndex #4 as in Table 6.3.1.1.2-6, if reported
Table 6.3.1.1.2-8A: Mapping order of CSI fields of one report for CRI/SINR or
SSBRI/SINR or CRI/SINR/CapabilityIndex or SSBRI/SINR/CapabilityIndex reporting
CSI report number CSI fields
* * *
CSI report #n CRI or SSBRI #1 as in Table 6.3.1.1.2-6A, if reported CRI or
SSBRI #2 as in Table 6.3.1.1.2-6A, if reported CRI or SSBRI #3 as in Table
6.3.1.1.2-6A, if reported CRI or SSBRI #4 as in Table 6.3.1.1.2-6A, if
reported SINR #1 as in Table 6.3.1.1.2-6A, if reported Differential SINR #2 as
in Table 6.3.1.1.2-6A, if reported Differential SINR #3 as in Table
6.3.1.1.2-6A, if reported Differential SINR #4 as in Table 6.3.1.1.2-6A, if
reported CapabilityIndex #1 as in Table 6.3.1.1.2-6, if reported
CapabilityIndex #2 as in Table 6.3.1.1.2-6, if reported CapabilityIndex #3 as
in Table 6.3.1.1.2-6, if reported CapabilityIndex #4 as in Table 6.3.1.1.2-6,
if reported
Table 6.3.1.1.2-8B: Mapping order of CSI fields of one report for group-based
CRI/RSRP or SSBRI/RSRP reporting
**CSI report number** **CSI fields**
* * *
CSI report #n Resource set indicator CRI or SSBRI #1 of 1st resource group as
in Table 6.3.1.1.2-6, if reported CRI or SSBRI #2 of 1st resource group as in
Table 6.3.1.1.2-6, if reported CRI or SSBRI #1 of 2nd resource group as in
Table 6.3.1.1.2-6, if reported CRI or SSBRI #2 of 2nd resource group as in
Table 6.3.1.1.2-6, if reported CRI or SSBRI #1 of 3rd resource group as in
Table 6.3.1.1.2-6, if reported CRI or SSBRI #2 of 3rd resource group as in
Table 6.3.1.1.2-6, if reported CRI or SSBRI #1 of 4th resource group as in
Table 6.3.1.1.2-6, if reported CRI or SSBRI #2 of 4th resource group as in
Table 6.3.1.1.2-6, if reported RSRP of CRI or SSBRI #1 of 1st resource group
as in Table 6.3.1.1.2-6 Differential RSRP of CRI or SSBRI #2 of 1st resource
group as in Table 6.3.1.1.2-6 Differential RSRP of CRI or SSBRI #1 of 2nd
resource group as in Table 6.3.1.1.2-6, if reported Differential RSRP of CRI
or SSBRI #2 of 2nd resource group as in Table 6.3.1.1.2-6, if reported
Differential RSRP of CRI or SSBRI #1 of 3rd resource group as in Table
6.3.1.1.2-6, if reported Differential RSRP of CRI or SSBRI #2 of 3rd resource
group as in Table 6.3.1.1.2-6, if reported Differential RSRP of CRI or SSBRI
#1 of 4th resource group as in Table 6.3.1.1.2-6, if reported Differential
RSRP of CRI or SSBRI #2 of 4th resource group as in Table 6.3.1.1.2-6, if
reported
where the 1-bit resource set indicator, with value of 0 or 1, indicates the
1^st^ or the 2^nd^ channel measurement resource set respectively, from which
CRI or SSBRI #1 of 1^st^ resource group is reported from; and all remaining
resource groups, if reported, follow the same mapping order as the 1^st^
resource group where CRI or SSBRI #1 of all remaining resource groups is
reported from the indicated channel measurement resource set. For all reported
resource groups, CRI or SSBRI #1 and CRI or SSBRI #2 are reported from
different channel measurement resource sets.
Table 6.3.1.1.2-8C: Mapping order of CSI fields of one report for SSBRI/RSRP
reporting for L1/L2‑triggered mobility
**CSI report number** **CSI fields**
* * *
CSI report #n SSBRI #1 as in Table 6.3.1.1.2-6, if reported SSBRI #2 as in
Table 6.3.1.1.2-6, if reported ... SSBRI # $L \times M$ as in Table
6.3.1.1.2-6, if reported RSRP #1 as in Table 6.3.1.1.2-6, if reported
Differential RSRP #2 as in Table 6.3.1.1.2-6, if reported ... Differential
RSRP # $L \times M$ as in Table 6.3.1.1.2-6, if reported NOTE: _L_ is the
number of reported cells provided by higher layer parameter _noOfReportedCell_
and _M_ is the number of reported SSBRI/RSRP pairs per cell and equal to the
value provided by higher layer parameter _nrofReportedRSPerCell._
Table 6.3.1.1.2-9: Mapping order of CSI fields of one CSI report, CSI part 1,
_pmi-FormatIndicator=_ _subbandPMI_ or _cqi-FormatIndicator=subbandCQI_
+----------------------------------+----------------------------------+ | CSI report number | CSI fields | +==================================+==================================+ | CSI report #n | CRI as in Tables 6.3.1.1.2-3/4, | | | if reported | | CSI part 1 | | +----------------------------------+----------------------------------+ | | Rank Indicator as in Tables | | | 6.3.1.1.2-3/4/5, if reported | +----------------------------------+----------------------------------+ | | Wideband CQI for the first TB as | | | in Tables 6.3.1.1.2-3/4/5, if | | | reported | +----------------------------------+----------------------------------+ | | Subband differential CQI for the | | | first TB with increasing order | | | of subband number as in | | | Tables 6.3.1.1.2-3/4/5, if | | | reported | +----------------------------------+----------------------------------+ | | Indicator of the number of | | | non-zero wideband amplitude | | | coefficients $M_{0}$ for layer 0 | | | as in Table 6.3.1.1.2-5, if | | | reported | +----------------------------------+----------------------------------+ | | Indicator of the number of | | | non-zero wideband amplitude | | | coefficients $M_{1}$ for layer 1 | | | as in Table 6.3.1.1.2-5 (if the | | | rank according to the reported | | | RI is equal to one, this field | | | is set to all zeros), if 2-layer | | | PMI reporting is allowed | | | according to the rank | | | restriction in Clauses 5.2.2.2.3 | | | and 5.2.2.2.4 [6, TS 38.214] | | | and if reported | +----------------------------------+----------------------------------+ | NOTE: Subbands for given CSI | | | report _n_ indicated by the | | | higher layer parameter | | | _csi-ReportingBand_ with value | | | set to \'1\' are numbered | | | continuously in the increasing | | | order with the lowest subband of | | | _csi-ReportingBand_ with value | | | set to \'1\' as subband 0. | | +----------------------------------+----------------------------------+
Table 6.3.1.1.2-9A: Mapping order of CSI fields of one CSI report, CSI part 1,
_csi-ReportMode= Mode 1_
+----------------------------------+----------------------------------+ | CSI report number | CSI fields | +==================================+==================================+ | CSI report #n | CRI as in Tables 6.3.1.1.2-3A, | | | if associated with one CSI-RS | | CSI part 1 | resource pair and if reported | +----------------------------------+----------------------------------+ | | Rank Combination Indicator as in | | | Tables 6.3.1.1.2-3A, if reported | +----------------------------------+----------------------------------+ | | Wideband CQI for the first TB as | | | in Tables 6.3.1.1.2-3A, if | | | reported | +----------------------------------+----------------------------------+ | | Subband differential CQI for the | | | first TB with increasing order | | | of subband number as in Tables | | | 6.3.1.1.2-3A, if reported | +----------------------------------+----------------------------------+ | | CRI as in Tables 6.3.1.1.2-3B, | | | if associated with one CSI-RS | | | resource, | | | _numberOfSingleTRP-CSI-Mode1 = | | | 1_ and if reported; | | | | | | First CRI as in Tables | | | 6.3.1.1.2-3B, if associated with | | | one CSI-RS resource, | | | _numberOfSingleTRP-CSI-Mode1 = | | | 2_ and if reported | +----------------------------------+----------------------------------+ | | Rank Indicator associated with | | | CRI as in Tables 6.3.1.1.2-3B, | | | if _numberOfSingleTRP-CSI-Mode1 | | | =_ 1 and if reported; | | | | | | Rank Indicator associated with | | | the first CRI as in Tables | | | 6.3.1.1.2-3B, if | | | _numberOfSingleTRP-CSI-Mode1 =_ | | | 2 and if reported | +----------------------------------+----------------------------------+ | | Wideband CQI associated with CRI | | | for the first TB as in Tables | | | 6.3.1.1.2-3B, if | | | _numberOfSingleTRP-CSI-Mode1 =_ | | | 1 and if reported; | | | | | | Wideband CQI associated with the | | | first CRI for the first TB as in | | | Tables 6.3.1.1.2-3B, if | | | _numberOfSingleTRP-CSI-Mode1 = | | | 2_ and if reported | +----------------------------------+----------------------------------+ | | Subband differential CQI | | | associated with CRI for the | | | first TB with increasing order | | | of subband number as in Tables | | | 6.3.1.1.2-3B, if | | | _numberOfSingleTRP-CSI-Mode1 =_ | | | 1 if reported; | | | | | | Subband differential CQI | | | associated with the first CRI | | | for the first TB with increasing | | | order of subband number as in | | | Tables 6.3.1.1.2-3B, if | | | _numberOfSingleTRP-CSI-Mode1 =_ | | | 2 and if reported | +----------------------------------+----------------------------------+ | | Second CRI as in Tables | | | 6.3.1.1.2-3B, if associated with | | | one CSI-RS resource, | | | _numberOfSingleTRP-CSI-Mode1 =_ | | | 2 and if reported | +----------------------------------+----------------------------------+ | | Rank Indicator associated with | | | the second CRI as in Tables | | | 6.3.1.1.2-3B, if | | | _numberOfSingleTRP-CSI-Mode1 =_ | | | 2 and if reported | +----------------------------------+----------------------------------+ | | Wideband CQI associated with the | | | second CRI for the first TB as | | | in Tables 6.3.1.1.2-3B, if | | | _numberOfSingleTRP-CSI-Mode1 =_ | | | 2 and if reported | +----------------------------------+----------------------------------+ | | Subband differential CQI | | | associated with the second CRI | | | for the first TB with increasing | | | order of subband number as in | | | Tables 6.3.1.1.2-3B, if | | | _numberOfSingleTRP-CSI-Mode1 =_ | | | 2 and if reported | +----------------------------------+----------------------------------+ | NOTE: Subbands for given CSI | | | report _n_ indicated by the | | | higher layer parameter | | | _csi-ReportingBand_ with value | | | set to \'1\' are numbered | | | continuously in the increasing | | | order with the lowest subband of | | | _csi-ReportingBand_ with value | | | set to \'1\' as subband 0. | | +----------------------------------+----------------------------------+
Table 6.3.1.1.2-9B: Mapping order of CSI fields of one CSI report, CSI part 1,
_csi-ReportMode= Mode 2_
+----------------------------------+----------------------------------+ | CSI report number | CSI fields | +==================================+==================================+ | CSI report #n | CRI as in Tables 6.3.1.1.2-3A, | | | if associated with one CSI-RS | | CSI part 1 | resource pair and if reported; | | | | | | CRI as in Tables 6.3.1.1.2-3B, | | | if associated with one CSI-RS | | | resource and if reported | +----------------------------------+----------------------------------+ | | Rank Combination Indicator as in | | | Tables 6.3.1.1.2-3A, if | | | associated with one CSI-RS | | | resource pair and if reported; | | | | | | Rank Indicator as in Tables | | | 6.3.1.1.2-3B, if associated with | | | one CSI-RS resource and if | | | reported; | | | | | | Zero padding bits $O_{P}$, if | | | needed | +----------------------------------+----------------------------------+ | | Wideband CQI for the first TB as | | | in Tables 6.3.1.1.2-3A, if | | | associated with one CSI-RS | | | resource pair and if reported; | | | | | | Wideband CQI for the first TB as | | | in Tables 6.3.1.1.2-3B, if | | | associated with one CSI-RS | | | resource and if reported | +----------------------------------+----------------------------------+ | | Subband differential CQI for the | | | first TB with increasing order | | | of subband number as in Tables | | | 6.3.1.1.2-3A, if associated with | | | one CSI-RS resource pair and if | | | reported; | | | | | | Subband differential CQI for the | | | first TB with increasing order | | | of subband number as in Tables | | | 6.3.1.1.2-3B, if associated with | | | one CSI-RS resource and if | | | reported | +----------------------------------+----------------------------------+ | NOTE: Subbands for given CSI | | | report _n_ indicated by the | | | higher layer parameter | | | _csi-ReportingBand_ with value | | | set to \'1\' are numbered | | | continuously in the increasing | | | order with the lowest subband of | | | _csi-ReportingBand_ with value | | | set to \'1\' as subband 0. | | +----------------------------------+----------------------------------+
The number of zero padding bits $O_{P}$ in Table 6.3.1.1.2-9B is 0 for 1 CSI-
RS port and $O_{P} = N_{\max} - N_{\text{reported}}(R)$ for more than 1 CSI-RS
port, where:
\- $N_{\max} = \max_{r \in S_{\text{Rank}}}{N(r)}\ $. $S_{\text{Rank}}\ $is
the set of rank and rank combination values _r_ that are allowed to be
reported. $N\left( r \right)$ is obtained according to Tables 6.3.1.1.2-3A/3B
for rank combination indicator and rank indicator respectively.
\- $N_{\text{reported}}\ \left( R \right)\ $is obtained according to Tables
6.3.1.1.2-3A for rank combination indicator and _R_ is the reported rank
combination.
\- $N_{\text{reported}}\ (R)$ is obtained according to Tables 6.3.1.1.2-3B for
rank indicator and _R_ is the reported rank.
Table 6.3.1.1.2-10: Mapping order of CSI fields of one CSI report, CSI part 2
wideband, _pmi-FormatIndicator=_ _subbandPMI_ or _cqi-
FormatIndicator=subbandCQI_
+---------------------+-----------------------------------------------+ | CSI report number | CSI fields | +=====================+===============================================+ | CSI report #n | Wideband CQI for the second TB as in Tables | | | 6.3.1.1.2-3/4/5, if present and reported | | CSI part 2 wideband | | +---------------------+-----------------------------------------------+ | | Layer Indicator as in Tables 6.3.1.1.2-3/4/5, | | | if reported | +---------------------+-----------------------------------------------+ | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1/2, if | | | reported | +---------------------+-----------------------------------------------+ | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1/2, or | | | codebook index for 2 antenna ports according | | | to Clause 5.2.2.2.1 in [6, TS38.214], if | | | _pmi-FormatIndicator=_ _widebandPMI_ and if | | | reported | +---------------------+-----------------------------------------------+
Table 6.3.1.1.2-10A: Mapping order of CSI fields of one CSI report,\ CSI part
2 wideband, _csi-ReportMode= Mode 1_
+---------------------+-----------------------------------------------+ | CSI report number | CSI fields | +=====================+===============================================+ | CSI report #n | Two Layer Indicators as in Table | | | 6.3.1.1.2-3A, where the first Layer Indicator | | CSI part 2 wideband | and the second Layer Indicator are associated | | | with the first resource and the second | | | resource within the resource pair | | | respectively and if reported; | +---------------------+-----------------------------------------------+ | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1 associated | | | with the first resource within the CSI-RS | | | resource pair, if reported | +---------------------+-----------------------------------------------+ | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1, or | | | codebook index for 2 antenna ports according | | | to Clause 5.2.2.2.1 in [6, TS38.214] | | | associated with the first CSI-RS resource | | | within the CSI-RS resource pair, if | | | _pmi-FormatIndicator=_ _widebandPMI_ and if | | | reported | +---------------------+-----------------------------------------------+ | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1 associated | | | with the second resource within the CSI-RS | | | resource pair, if reported | +---------------------+-----------------------------------------------+ | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1, or | | | codebook index for 2 antenna ports according | | | to Clause 5.2.2.2.1 in [6, TS38.214] | | | associated with the second CSI-RS resource | | | within the CSI-RS resource pair, if | | | _pmi-FormatIndicator=_ _widebandPMI_ and if | | | reported | +---------------------+-----------------------------------------------+ | | Wideband CQI for the second TB as in Tables | | | 6.3.1.1.2-3B, if associated with CRI in CSI | | | part 1, _numberOfSingleTRP-CSI-Mode1 =_ 1 and | | | if reported; | | | | | | Wideband CQI for the second TB as in Tables | | | 6.3.1.1.2-3B, if associated with the first | | | CRI in CSI part 1, | | | _numberOfSingleTRP-CSI-Mode1 =_ 2 and if | | | reported | +---------------------+-----------------------------------------------+ | | Layer Indicator as in Table 6.3.1.1.2-3B, if | | | associated with CRI in CSI part 1, | | | _numberOfSingleTRP-CSI-Mode1 =_ 1 and if | | | reported; | | | | | | Layer Indicator as in Table 6.3.1.1.2-3B, if | | | associated with the first CRI in CSI part 1, | | | _numberOfSingleTRP-CSI-Mode1 =_ 2 and if | | | reported | +---------------------+-----------------------------------------------+ | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1, if | | | associated with CRI in CSI part 1, | | | _numberOfSingleTRP-CSI-Mode1 =_ 1 and if | | | reported; | | | | | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1, if | | | associated with the first CRI in CSI part 1, | | | _numberOfSingleTRP-CSI-Mode1 =_ 2 and if | | | reported | +---------------------+-----------------------------------------------+ | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1, or | | | codebook index for 2 antenna ports according | | | to Clause 5.2.2.2.1 in [6, TS38.214], if | | | associated with CRI in CSI part 1, | | | _pmi-FormatIndicator=_ _widebandPMI_ , | | | _numberOfSingleTRP-CSI-Mode1 =_ 1 and if | | | reported; | | | | | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1, or | | | codebook index for 2 antenna ports according | | | to Clause 5.2.2.2.1 in [6, TS38.214], if | | | associated with the first CRI in CSI part 1, | | | _pmi-FormatIndicator=_ _widebandPMI,_ | | | _numberOfSingleTRP-CSI-Mode1 =_ 2 and if | | | reported | +---------------------+-----------------------------------------------+ | | Wideband CQI for the second TB as in Tables | | | 6.3.1.1.2-3B, if associated with the second | | | CRI in CSI part 1, | | | _numberOfSingleTRP-CSI-Mode1 =_ 2 and if | | | reported | +---------------------+-----------------------------------------------+ | | Layer Indicator as in Table 6.3.1.1.2-3B, if | | | associated with the second CRI in CSI part 1, | | | _numberOfSingleTRP-CSI-Mode1 =_ 2 and if | | | reported | +---------------------+-----------------------------------------------+ | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1, if | | | associated with the second CRI in CSI part 1, | | | _numberOfSingleTRP-CSI-Mode1 =_ 2 and if | | | reported | +---------------------+-----------------------------------------------+ | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1, or | | | codebook index for 2 antenna ports according | | | to Clause 5.2.2.2.1 in [6, TS38.214], if | | | associated with the second CRI in CSI part 1, | | | _pmi-FormatIndicator=_ _widebandPMI_ , | | | _numberOfSingleTRP-CSI-Mode1 =_ 2 and if | | | reported | +---------------------+-----------------------------------------------+
Table 6.3.1.1.2-10B: Mapping order of CSI fields of one CSI report,\ CSI part
2 wideband, _csi-ReportMode= Mode 2_
+---------------------+-----------------------------------------------+ | CSI report number | CSI fields | +=====================+===============================================+ | CSI report #n | Wideband CQI for the second TB as in Tables | | | 6.3.1.1.2-3B, if reported part 1 is | | CSI part 2 wideband | associated with one CSI-RS resource and if | | | reported | +---------------------+-----------------------------------------------+ | | Two Layer Indicators as in Table | | | 6.3.1.1.2-3A, if reported part 1 is | | | associated with one CSI-RS resource pair, | | | where the first Layer Indicator and the | | | second Layer Indicator are associated with | | | the first resource and the second resource | | | within the resource pair respectively and if | | | reported; | | | | | | Layer Indicator as in Table 6.3.1.1.2-3B, if | | | reported part 1 is associated with one CSI-RS | | | resource and if reported | +---------------------+-----------------------------------------------+ | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1 associated | | | with the first resource within the CSI-RS | | | resource pair, if reported part 1 is | | | associated with one CSI-RS resource pair and | | | if reported | +---------------------+-----------------------------------------------+ | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1, or | | | codebook index for 2 antenna ports according | | | to Clause 5.2.2.2.1 in [6, TS38.214] | | | associated with the first CSI-RS resource | | | within the CSI-RS resource pair, if | | | _pmi-FormatIndicator=_ _widebandPMI_ and | | | reported part 1 is associated with one CSI-RS | | | resource pair and if reported | +---------------------+-----------------------------------------------+ | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1 associated | | | with the second CSI-RS resource within the | | | CSI-RS resource pair, if reported part 1 is | | | associated with one CSI-RS resource pair and | | | if reported | +---------------------+-----------------------------------------------+ | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1, or | | | codebook index for 2 antenna ports according | | | to Clause 5.2.2.2.1 in [6, TS38.214] | | | associated with the second CSI-RS resource | | | within the CSI-RS resource pair, if | | | _pmi-FormatIndicator=_ _widebandPMI_ and | | | reported part 1 is associated with one CSI-RS | | | resource pair and if reported | +---------------------+-----------------------------------------------+ | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1, if | | | reported part 1 is associated with one CSI-RS | | | resource and if reported | +---------------------+-----------------------------------------------+ | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1, or | | | codebook index for 2 antenna ports according | | | to Clause 5.2.2.2.1 in [6, TS38.214], if | | | _pmi-FormatIndicator=_ _widebandPMI_ and | | | reported part 1 is associated with one CSI-RS | | | resource and if reported | +---------------------+-----------------------------------------------+
Table 6.3.1.1.2-11: Mapping order of CSI fields of one CSI report, CSI part 2
subband,\ _pmi-FormatIndicator=_ _subbandPMI_ or _cqi-
FormatIndicator=subbandCQI_
+----------------------------------+----------------------------------+ | CSI report #n | Subband differential CQI for the | | | second TB of all even subbands | | Part 2 subband | with increasing order of subband | | | number, as in Tables | | | 6.3.1.1.2-3/4/5, if | | | _cqi-FormatIndicator=subbandCQI_ | | | and if reported | +==================================+==================================+ | | PMI subband information fields | | | of all even subbands with | | | increasing order of subband | | | number, from left to right as in | | | Tables 6.3.1.1.2-1/2, or | | | codebook index for 2 antenna | | | ports according to Clause | | | 5.2.2.2.1 in [6, TS38.214] of | | | all even subbands with | | | increasing order of subband | | | number, if | | | _pmi-FormatIndicator=_ | | | _subbandPMI_ and if reported | +----------------------------------+----------------------------------+ | | Subband differential CQI for the | | | second TB of all odd subbands | | | with increasing order of subband | | | number, as in Tables | | | 6.3.1.1.2-3/4/5, if | | | _cqi-FormatIndicator=subbandCQI_ | | | and if reported | +----------------------------------+----------------------------------+ | | PMI subband information fields | | | of all odd subbands with | | | increasing order of subband | | | number, from left to right as in | | | Tables 6.3.1.1.2-1/2, or | | | codebook index for 2 antenna | | | ports according to Clause | | | 5.2.2.2.1 in [6, TS38.214] of | | | all odd subbands with increasing | | | order of subband number, if | | | _pmi-FormatIndicator=_ | | | _subbandPMI_ and if reported | +----------------------------------+----------------------------------+ | NOTE: Subbands for given CSI | | | report _n_ indicated by the | | | higher layer parameter | | | _csi-ReportingBand_ with value | | | set to \'1\' are numbered | | | continuously in the increasing | | | order with the lowest subband of | | | _csi-ReportingBand_ with value | | | set to \'1\' as subband 0. | | +----------------------------------+----------------------------------+
Table 6.3.1.1.2-11A: Mapping order of CSI fields of one CSI report, CSI part 2
subband,\ _csi-ReportMode= Mode 1_
+----------------+----------------------------------------------------+ | CSI report #n | PMI subband information fields of all even | | | subbands with increasing order of subband number, | | Part 2 subband | from left to right as in Tables 6.3.1.1.2-1, or | | | codebook index for 2 antenna ports associated with | | | the first resource within the CSI-RS resource | | | pair, according to Clause 5.2.2.2.1 in [6, | | | TS38.214] of all even subbands with increasing | | | order of subband number, if _pmi-FormatIndicator=_ | | | _subbandPMI_ and if reported | +================+====================================================+ | | PMI subband information fields of all even | | | subbands with increasing order of subband number, | | | from left to right as in Tables 6.3.1.1.2-1, or | | | codebook index for 2 antenna ports associated with | | | the second resource within the CSI-RS resource | | | pair, according to Clause 5.2.2.2.1 in [6, | | | TS38.214] of all even subbands with increasing | | | order of subband number, if _pmi-FormatIndicator=_ | | | _subbandPMI_ and if reported | +----------------+----------------------------------------------------+ | | Subband differential CQI for the second TB of all | | | even subbands with increasing order of subband | | | number associated with CRI in CSI part 1, as in | | | Tables 6.3.1.1.2-3B, if | | | _cqi-FormatIndicator=subbandCQI_ , | | | _numberOfSingleTRP-CSI-Mode1 =_ 1 and if reported; | | | | | | Subband differential CQI for the second TB of all | | | even subbands with increasing order of subband | | | number associated with the first CRI in CSI part | | | 1, as in Tables 6.3.1.1.2-3B, if | | | _cqi-FormatIndicator=subbandCQI_ , | | | _numberOfSingleTRP-CSI-Mode1 =_ 2 and if reported | +----------------+----------------------------------------------------+ | | PMI subband information fields of all even | | | subbands with increasing order of subband number, | | | from left to right as in Tables 6.3.1.1.2-1, or | | | codebook index for 2 antenna ports associated with | | | CRI in CSI part 1 according to Clause 5.2.2.2.1 in | | | [6, TS38.214] of all even subbands with | | | increasing order of subband number, if | | | _pmi-FormatIndicator=_ _subbandPMI_ , | | | _numberOfSingleTRP-CSI-Mode1 =_ 1 and if reported; | | | | | | PMI subband information fields of all even | | | subbands with increasing order of subband number, | | | from left to right as in Tables 6.3.1.1.2-1, or | | | codebook index for 2 antenna ports associated with | | | the first CRI in CSI part 1 according to Clause | | | 5.2.2.2.1 in [6, TS38.214] of all even subbands | | | with increasing order of subband number, if | | | _pmi-FormatIndicator=_ _subbandPMI_ , | | | _numberOfSingleTRP-CSI-Mode1 =_ 2 and if reported | +----------------+----------------------------------------------------+ | | Subband differential CQI for the second TB of all | | | even subbands with increasing order of subband | | | number associated with the second CRI in CSI part | | | 1, as in Tables 6.3.1.1.2-3B, if | | | _cqi-FormatIndicator=subbandCQI_ , | | | _numberOfSingleTRP-CSI-Mode1 =_ 2 and if reported | +----------------+----------------------------------------------------+ | | PMI subband information fields of all even | | | subbands with increasing order of subband number, | | | from left to right as in Tables 6.3.1.1.2-1, or | | | codebook index for 2 antenna ports associated with | | | the second CRI in CSI part 1 according to Clause | | | 5.2.2.2.1 in [6, TS38.214] of all even subbands | | | with increasing order of subband number, if | | | _pmi-FormatIndicator=_ _subbandPMI_ , | | | _numberOfSingleTRP-CSI-Mode1 =_ 2 and if reported | +----------------+----------------------------------------------------+ | | PMI subband information fields of all odd subbands | | | with increasing order of subband number, from left | | | to right as in Tables 6.3.1.1.2-1, or codebook | | | index for 2 antenna ports associated with the | | | first resource within the CSI-RS resource pair, | | | according to Clause 5.2.2.2.1 in [6, TS38.214] | | | of all odd subbands with increasing order of | | | subband number, if _pmi-FormatIndicator=_ | | | _subbandPMI_ and if reported | +----------------+----------------------------------------------------+ | | PMI subband information fields of all odd subbands | | | with increasing order of subband number, from left | | | to right as in Tables 6.3.1.1.2-1, or codebook | | | index for 2 antenna ports associated with the | | | second resource within the CSI-RS resource pair, | | | according to Clause 5.2.2.2.1 in [6, TS38.214] | | | of all odd subbands with increasing order of | | | subband number, if _pmi-FormatIndicator=_ | | | _subbandPMI_ and if reported | +----------------+----------------------------------------------------+ | | Subband differential CQI for the second TB of all | | | odd subbands with increasing order of subband | | | number associated with CRI in CSI part 1, as in | | | Tables 6.3.1.1.2-3B, if | | | _cqi-FormatIndicator=subbandCQI_ , | | | _numberOfSingleTRP-CSI-Mode1 =_ 1 and if reported; | | | | | | Subband differential CQI for the second TB of all | | | odd subbands with increasing order of subband | | | number associated with the first CRI in CSI part | | | 1, as in Tables 6.3.1.1.2-3B, if | | | _cqi-FormatIndicator=subbandCQI_ , | | | _numberOfSingleTRP-CSI-Mode1 =_ 2 and if reported | +----------------+----------------------------------------------------+ | | PMI subband information fields of all odd subbands | | | with increasing order of subband number, from left | | | to right as in Tables 6.3.1.1.2-1, or codebook | | | index for 2 antenna ports associated with CRI in | | | CSI part 1 according to Clause 5.2.2.2.1 in [6, | | | TS38.214] of all odd subbands with increasing | | | order of subband number, if _pmi-FormatIndicator=_ | | | _subbandPMI_ , _numberOfSingleTRP-CSI-Mode1 =_ 1 | | | and if reported; | | | | | | PMI subband information fields of all odd subbands | | | with increasing order of subband number, from left | | | to right as in Tables 6.3.1.1.2-1, or codebook | | | index for 2 antenna ports associated with the | | | first CRI in CSI part 1 according to Clause | | | 5.2.2.2.1 in [6, TS38.214] of all odd subbands | | | with increasing order of subband number, if | | | _pmi-FormatIndicator=_ _subbandPMI_ , | | | _numberOfSingleTRP-CSI-Mode1 =_ 2 and if reported | +----------------+----------------------------------------------------+ | | Subband differential CQI for the second TB of all | | | odd subbands with increasing order of subband | | | number associated with the second CRI in CSI part | | | 1, as in Tables 6.3.1.1.2-3B, if | | | _cqi-FormatIndicator=subbandCQI_ , | | | _numberOfSingleTRP-CSI-Mode1 =_ 2 and if reported | +----------------+----------------------------------------------------+ | | PMI subband information fields of all odd subbands | | | with increasing order of subband number, from left | | | to right as in Tables 6.3.1.1.2-1, or codebook | | | index for 2 antenna ports associated with the | | | second CRI in CSI part 1 according to Clause | | | 5.2.2.2.1 in [6, TS38.214] of all odd subbands | | | with increasing order of subband number, if | | | _pmi-FormatIndicator=_ _subbandPMI_ , | | | _numberOfSingleTRP-CSI-Mode1 =_ 2 and if reported | +----------------+----------------------------------------------------+
Table 6.3.1.1.2-11B: Mapping order of CSI fields of one CSI report, CSI part 2
subband,\ _csi-ReportMode= Mode 2_
+----------------+----------------------------------------------------+ | CSI report #n | PMI subband information fields of all even | | | subbands with increasing order of subband number, | | Part 2 subband | from left to right as in Tables 6.3.1.1.2-1, or | | | codebook index for 2 antenna ports associated with | | | the first resource within the CSI-RS resource | | | pair, according to Clause 5.2.2.2.1 in [6, | | | TS38.214] of all even subbands with increasing | | | order of subband number, if _pmi-FormatIndicator=_ | | | _subbandPMI_ and reported part 1 is associated | | | with one CSI-RS resource pair and if reported | +================+====================================================+ | | PMI subband information fields of all even | | | subbands with increasing order of subband number, | | | from left to right as in Tables 6.3.1.1.2-1, or | | | codebook index for 2 antenna ports associated with | | | the second resource within the CSI-RS resource | | | pair, according to Clause 5.2.2.2.1 in [6, | | | TS38.214] of all even subbands with increasing | | | order of subband number, if _pmi-FormatIndicator=_ | | | _subbandPMI_ and reported part 1 is associated | | | with one CSI-RS resource pair and if reported | +----------------+----------------------------------------------------+ | | PMI subband information fields of all odd subbands | | | with increasing order of subband number, from left | | | to right as in Tables 6.3.1.1.2-1, or codebook | | | index for 2 antenna ports associated with the | | | first resource within the CSI-RS resource pair, | | | according to Clause 5.2.2.2.1 in [6, TS38.214] | | | of all odd subbands with increasing order of | | | subband number, if _pmi-FormatIndicator=_ | | | _subbandPMI_ and reported part 1 is associated | | | with one CSI-RS resource pair and if reported | +----------------+----------------------------------------------------+ | | PMI subband information fields of all odd subbands | | | with increasing order of subband number, from left | | | to right as in Tables 6.3.1.1.2-1, or codebook | | | index for 2 antenna ports associated with the | | | second resource within the CSI-RS resource pair, | | | according to Clause 5.2.2.2.1 in [6, TS38.214] | | | of all odd subbands with increasing order of | | | subband number, if _pmi-FormatIndicator=_ | | | _subbandPMI_ and reported part 1 is associated | | | with one CSI-RS resource pair and if reported | +----------------+----------------------------------------------------+ | | Subband differential CQI for the second TB of all | | | even subbands with increasing order of subband | | | number associated with one CSI-RS resource, as in | | | Tables 6.3.1.1.2-3B, if | | | _cqi-FormatIndicator=subbandCQI_ and reported part | | | 1 is associated with one CSI-RS resource and if | | | reported | +----------------+----------------------------------------------------+ | | PMI subband information fields of all even | | | subbands with increasing order of subband number, | | | from left to right as in Tables 6.3.1.1.2-1, or | | | codebook index for 2 antenna ports associated with | | | one CSI-RS resource according to Clause 5.2.2.2.1 | | | in [6, TS38.214] of all even subbands with | | | increasing order of subband number, if | | | _pmi-FormatIndicator=_ _subbandPMI_ and reported | | | part 1 is associated with one CSI-RS resource and | | | if reported | +----------------+----------------------------------------------------+ | | Subband differential CQI for the second TB of all | | | odd subbands with increasing order of subband | | | number associated with one CSI-RS resource, as in | | | Tables 6.3.1.1.2-3B, if | | | _cqi-FormatIndicator=subbandCQI_ and reported part | | | 1 is associated with one CSI-RS resource and if | | | reported | +----------------+----------------------------------------------------+ | | PMI subband information fields of all odd subbands | | | with increasing order of subband number, from left | | | to right as in Tables 6.3.1.1.2-1/2, or codebook | | | index for 2 antenna ports associated with one | | | CSI-RS resource according to Clause 5.2.2.2.1 in | | | [6, TS38.214] of all odd subbands with | | | increasing order of subband number, if | | | _pmi-FormatIndicator=_ _subbandPMI_ and reported | | | part 1 is associated with one CSI-RS resource and | | | if reported | +----------------+----------------------------------------------------+
If none of the CSI reports for transmission on a PUCCH is of two parts, the
CSI fields of all CSI reports, in the order from upper part to lower part in
Table 6.3.1.1.2-12, are mapped to the UCI bit sequence starting with . The
most significant bit of each field is mapped to the lowest order information
bit for that field, e.g. the most significant bit of the first field is mapped
to.
Table 6.3.1.1.2-12: Mapping order of CSI reports to UCI bit sequence ,\
without two-part CSI report(s)
+-----------------------------------+---------------------------------+ | UCI bit sequence | CSI report number | +===================================+=================================+ | | CSI report #1 | | | | | | as in Table 6.3.1.1.2-7/7A/8/8B | +-----------------------------------+---------------------------------+ | | CSI report #2 | | | | | | as in Table 6.3.1.1.2-7/7A/8/8B | +-----------------------------------+---------------------------------+ | | ... | +-----------------------------------+---------------------------------+ | | CSI report #n | | | | | | as in Table 6.3.1.1.2-7/7A/8/8B | +-----------------------------------+---------------------------------+ | NOTe: For a CSI report #i | | | containing CSI sub-reports, where | | | i=1,2,...,n, all CSI sub-reports | | | within the CSI report #i are | | | mapped to the corresponding part | | | of UCI bit sequence of CSI report | | | #i, from upper part to lower | | | part in increasing order of CSI | | | sub-report number. CSI sub-report | | | #1, CSI sub-report #2, ..., CSI | | | sub-report #n correspond to the | | | CSI sub-reports in increasing | | | order of CSI-ReportSubConfigID. | | +-----------------------------------+---------------------------------+
If at least one of the CSI reports for transmission on a PUCCH is of two
parts, two UCI bit sequences are generated, and . The CSI fields of all CSI
reports, in the order from upper part to lower part in Table 6.3.1.1.2-13, are
mapped to the UCI bit sequence starting with . The most significant bit of
each field is mapped to the lowest order information bit for that field, e.g.
the most significant bit of the first field is mapped to. The CSI fields of
all CSI reports, in the order from upper part to lower part in Table
6.3.1.1.2-14, are mapped to the UCI bit sequence starting with . The most
significant bit of each field is mapped to the lowest order information bit
for that field, e.g. the most significant bit of the first field is mapped to
. If the length of UCI bit sequence is less than 3 bits, zeros shall be
appended to the UCI bit sequence until its length equals 3.
Table 6.3.1.1.2-13: Mapping order of CSI reports to UCI bit sequence ,\ with
two-part CSI report(s)
+----------------------------------+----------------------------------+ | UCI bit sequence | CSI report number | +==================================+==================================+ | | CSI report #1 if CSI report #1 | | | is not of two parts, or | | | | | | CSI report #1, CSI part 1, if | | | CSI report #1 is of two parts, | | | | | | as in Table | | | 6.3.1.1.2-7/7A/8/8B/9/9A/9B | +----------------------------------+----------------------------------+ | | CSI report #2 if CSI report #2 | | | is not of two parts, or | | | | | | CSI report #2, CSI part 1, if | | | CSI report #2 is of two parts, | | | | | | as in Table | | | 6.3.1.1.2-7/7A/8/8B/9/9A/9B | +----------------------------------+----------------------------------+ | | ... | +----------------------------------+----------------------------------+ | | CSI report #n if CSI report #n | | | is not of two parts, or | | | | | | CSI report #n, CSI part 1, if | | | CSI report #n is of two parts, | | | | | | as in Table | | | 6.3.1.1.2-7/7A/8/8B/9/9A/9B | +----------------------------------+----------------------------------+ | NOTE: For a CSI report #i | | | containing CSI sub-reports, | | | where i=1,2,...,n, all CSI | | | sub-reports, either a CSI | | | sub-report without two-part, or | | | CSI part 1 of a CSI sub-report | | | with two-part CSI, are mapped to | | | the corresponding part of UCI | | | bit sequence of CSI report #i, | | | from upper part to lower part in | | | increasing order of CSI | | | sub-report number. CSI | | | sub-report #1, CSI sub-report | | | #2, ..., CSI sub-report #n | | | correspond to the CSI | | | sub-reports in increasing order | | | of CSI-ReportSubConfigID. | | +----------------------------------+----------------------------------+
where CSI report #1, CSI report #2, ..., CSI report #n in Table 6.3.1.1.2-13
correspond to the CSI reports in increasing order of CSI report priority
values according to Clause 5.2.5 of [6, TS38.214].
Table 6.3.1.1.2-14: Mapping order of CSI reports to UCI bit sequence ,\ with
two-part CSI report(s)
+----------------------------------+----------------------------------+ | UCI bit sequence | CSI report number | +==================================+==================================+ | | CSI report #1, CSI part 2 | | | wideband, as in Table | | | 6.3.1.1.2-10/10A/10B\ | | | if CSI part 2 exists for CSI | | | report #1 | +----------------------------------+----------------------------------+ | | CSI report #2, CSI part 2 | | | wideband, as in Table | | | 6.3.1.1.2-10/10A/10B\ | | | if CSI part 2 exists for CSI | | | report #2 | +----------------------------------+----------------------------------+ | | ... | +----------------------------------+----------------------------------+ | | CSI report #n, CSI part 2 | | | wideband, as in Table | | | 6.3.1.1.2-10/10A/10B\ | | | if CSI part 2 exists for CSI | | | report #n | +----------------------------------+----------------------------------+ | | CSI report #1, CSI part 2 | | | subband, as in Table | | | 6.3.1.1.2-11/11A/11B\ | | | if CSI part 2 exists for CSI | | | report #1 | +----------------------------------+----------------------------------+ | | CSI report #2, CSI part 2 | | | subband, as in Table | | | 6.3.1.1.2-11/11A/11B\ | | | if CSI part 2 exists for CSI | | | report #2 | +----------------------------------+----------------------------------+ | | ... | +----------------------------------+----------------------------------+ | | CSI report #n, CSI part 2 | | | subband, as in Table | | | 6.3.1.1.2-11/11A/11B\ | | | if CSI part 2 exists for CSI | | | report #n | +----------------------------------+----------------------------------+ | NOTE: For a CSI report #i | | | containing CSI sub-reports, | | | where i=1,2,...,n: | | | | | | > \- all the CSI part 2 | | | > widebands of CSI sub-reports | | | > are mapped to the | | | > corresponding part of UCI bit | | | > sequence of CSI report #i, | | | > from upper part to lower part | | | > in increasing order of CSI | | | > sub-report number; | | | > | | | > \- CSI sub-report #1, CSI | | | > sub-report #2, ..., CSI | | | > sub-report #n correspond to | | | > the CSI sub‑reports in | | | > increasing order of | | | > _CSI-ReportSubConfigID_. | | +----------------------------------+----------------------------------+
where CSI report #1, CSI report #2, ..., CSI report #n in Table 6.3.1.1.2-14
correspond to the CSI reports in increasing order of CSI report priority
values according to Clause 5.2.5 of [6, TS38.214].
##### 6.3.1.1.3 HARQ-ACK/SR and CSI
If none of the CSI reports for transmission on a PUCCH is of two parts, the
UCI bit sequence is generated according to the following, where :
\- if there is HARQ-ACK for transmission on the PUCCH, the HARQ-ACK bits are
mapped to the UCI bit sequence , where for , the HARQ-ACK bit sequence is
given by Clause 9.1 of [5, TS38.213], and is number of HARQ-ACK bits; if there
is no HARQ-ACK for transmission on the PUCCH, set ;
\- if there is SR for transmission on the PUCCH, set $a_{i} =
{\widetilde{o}}_{i - O^{\text{ACK}}}^{\text{SR}}$ for , where the SR bit
sequence is given by Clause 9.2.5.1 of [5, TS 38.213]; if there is no SR for
transmission on the PUCCH, set ;
\- the CSI fields of all CSI reports, in the order from upper part to lower
part in Table 6.3.1.1.2-12, are mapped to the UCI bit sequence starting with ,
where is the number of CSI bits.
If at least one of the CSI reports for transmission on a PUCCH is of two
parts, two UCI bit sequences are generated, and , according to the following,
where and :
\- if there is HARQ-ACK for transmission on the PUCCH, the HARQ-ACK bits are
mapped to the UCI bit sequence , where for , the HARQ-ACK bit sequence is
given by Clause 9.1 of [5, TS38.213], and is number of HARQ-ACK bits; if there
is no HARQ-ACK for transmission on the PUCCH, set ;
\- if there is SR for transmission on the PUCCH, set $a_{i} =
{\widetilde{o}}_{i - O^{\text{ACK}}}^{\text{SR}}$ for , where the SR bit
sequence is given by Clause 9.2.5.1 of [5, TS 38.213]; if there is no SR for
transmission on the PUCCH, set ;
\- the CSI fields of all CSI reports, in the order from upper part to lower
part in Table 6.3.1.1.2-13, are mapped to the UCI bit sequence starting with ,
where is the number of CSI bits in CSI part 1 of all CSI reports;
\- the CSI fields of all CSI reports, in the order from upper part to lower
part in Table 6.3.1.1.2-14, are mapped to the UCI bit sequence starting with ,
where is the number of CSI bits in CSI part 2 of all CSI reports. If the
length of UCI bit sequence is less than 3 bits, zeros shall be appended to the
UCI bit sequence until its length equals 3.
##### 6.3.1.1.4 UCI with different priority indexes
If _uci-MuxWithDiffPrio_ is configured, and HARQ-ACK bits associated with
priority index 0, HARQ-ACK bits associated with priority index 1, and SR
associated with priority index 1 if any are transmitted on a PUCCH, two UCI
bit sequences are generated, $a_{0}^{(1)},\ a_{1}^{(1)},\ a_{2}^{(1)},\
a_{3}^{(1)},\ \ldots,a_{A^{(1)} - 1}^{\left( 1 \right)}$ and $a_{0}^{(2)},\
a_{1}^{(2)},\ a_{2}^{(2)},\ a_{3}^{(2)},\ \ldots,a_{A^{(2)} - 1}^{\left( 2
\right)}$, according to the following, where $A^{(1)} = O^{ACK - HP} + O^{SR -
HP}$ and $A^{(2)} = O^{ACK - LP}$:
\- the HARQ-ACK bits associated with priority index 1 are mapped to the UCI
bit sequence $a_{0}^{(1)},\ a_{1}^{(1)},\ a_{2}^{(1)},\ a_{3}^{(1)},\
\ldots,a_{O^{ACK - HP} - 1}^{\left( 1 \right)}$, where $a_{i}^{(1)} =
{\widetilde{o}}_{i}^{ACK - HP}$ for $i = 0,1,\ldots,O^{ACK - HP} - 1$, the
HARQ-ACK bit sequence ${\widetilde{o}}_{0}^{ACK - HP},\
{\widetilde{o}}_{1}^{ACK - HP},\ \ldots,\ {\widetilde{o}}_{O^{ACK - HP} -
1}^{ACK - HP}$ is given by Clause 9.1 of [5, TS 38.213], and $O^{ACK - HP}$ is
the number of HARQ-ACK bits associated with priority index 1;
\- if there is SR associated with priority index 1 for transmission on the
PUCCH, set $a_{i}^{(1)} = {\widetilde{o}}_{i - O^{ACK - HP}}^{SR - HP}$ for $i
= O^{ACK - HP},O^{ACK - HP} + 1,\ldots,O^{ACK - HP} + O^{SR - HP} - 1$, where
the SR bit sequence ${\widetilde{o}}_{0}^{SR - HP},\ {\widetilde{o}}_{1}^{SR -
HP},\ \ldots,{\widetilde{o}}_{O^{SR - HP} - 1}^{SR - HP}$ is given by Clause
9.2.5.1 of [5, TS 38.213]; if there is no SR associated with priority index 1
for transmission on the PUCCH, set $O^{SR - HP} = 0$;
\- the HARQ-ACK bits associated with priority index 0 are mapped to the UCI
bit sequence $a_{0}^{(2)},\ a_{1}^{(2)},\ a_{2}^{(2)},\ a_{3}^{(2)},\
\ldots,a_{O^{ACK - LP} - 1}^{\left( 2 \right)}$, where $a_{i}^{(2)} =
{\widetilde{o}}_{i}^{ACK - LP}$ for $i = 0,1,\ldots,O^{ACK - LP} - 1$, the
HARQ-ACK bit sequence ${\widetilde{o}}_{0}^{ACK - LP},\
{\widetilde{o}}_{1}^{ACK - LP},\ \ldots,\ {\widetilde{o}}_{O^{ACK - LP} -
1}^{ACK - LP}$ is given by Clause 9.1 of [5, TS 38.213], and $O^{ACK - LP}$ is
the number of HARQ-ACK bits associated with priority index 0.
#### 6.3.1.2 Code block segmentation and CRC attachment
The UCI bit sequence from clause 6.3.1.1 is denoted by , where is the payload
size. The procedure in Clause 6.3.1.2.1 applies for and the procedure in
Clause 6.3.1.2.2 applies for .
##### 6.3.1.2.1 UCI encoded by Polar code
If the payload size , code block segmentation and CRC attachment is performed
according to Clause 5.2.1. If ( and ) or if , ; otherwise , where is the rate
matching output sequence length as given in Clauses 6.3.1.4.1 and 6.3.1.4.3.
If , the parity bits in Clause 5.2.1 are computed by setting to 6 bits and
using the generator polynomial in Clause 5.1, resulting in the sequence where
is the code block number and is the number of bits for code block number .
If , the parity bits in Clause 5.2.1 are computed by setting to 11 bits and
using the generator polynomial in Clause 5.1, resulting in the sequence where
is the code block number and is the number of bits for code block number .
##### 6.3.1.2.2 UCI encoded by channel coding of small block lengths
If the payload size , CRC bits are not attached.
The output bit sequence is denoted by , where for and .
#### 6.3.1.3 Channel coding of UCI
##### 6.3.1.3.1 UCI encoded by Polar code
Information bits are delivered to the channel coding block. They are denoted
by , where is the code block number, and is the number of bits in code block
number . The total number of code blocks is denoted by and each code block is
individually encoded by the following:
If , the information bits are encoded via Polar coding according to Clause
5.3.1, by setting , , , if and if , where is the rate matching output sequence
length as given in Clauses 6.3.1.4.1 and 6.3.1.4.3.
If , the information bits are encoded via Polar coding according to Clause
5.3.1, by setting , , , and .
After encoding the bits are denoted by , where is the number of coded bits in
code block number .
##### 6.3.1.3.2 UCI encoded by channel coding of small block lengths
Information bits are delivered to the channel coding block. They are denoted
by , where is the number of bits.
The information bits are encoded according to Clause 5.3.3.
After encoding the bits are denoted by , where is the number of coded bits.
#### 6.3.1.4 Rate matching
For PUCCH formats 2/3/4, the total rate matching output sequence length is
given by Table 6.3.1.4-1, where , , and are the number of symbols carrying UCI
for PUCCH formats 2/3/4 respectively; , and $N_{\text{PRB}}^{PUCCH,4}\ $are
the number of PRBs that are determined by the UE for PUCCH formats 2/3/4
transmission respectively according to Clause 9.2 of [5, TS38.213]; and
$N_{\text{SF}}^{PUCCH,2}$, $N_{\text{SF}}^{PUCCH,3}$, and are the spreading
factors for PUCCH format 2, PUCCH format 3, and PUCCH format 4, respectively.
Table 6.3.1.4-1: Total rate matching output sequence length
_PUCCH format_ _Modulation order_
* * *
                   QPSK                                                                                                     π/2-BPSK
PUCCH format 2 $$16 \bullet N_{symb,UCI}^{PUCCH,2} \bullet
N_{\text{PRB}}^{PUCCH,2}/N_{\text{SF}}^{PUCCH,2}$$ N/A PUCCH format 3 $$24
\bullet N_{symb,UCI}^{PUCCH,3} \bullet
N_{\text{PRB}}^{PUCCH,3}/N_{\text{SF}}^{PUCCH,3}$$ $$12 \bullet
N_{symb,UCI}^{PUCCH,3} \bullet
N_{\text{PRB}}^{PUCCH,3}/N_{\text{SF}}^{PUCCH,3}$$ PUCCH format 4 $$\frac{24
\bullet N_{symb,UCI}^{PUCCH,4} \bullet
N_{\text{PRB}}^{PUCCH,4}}{N_{\text{SF}}^{PUCCH,4}}$$ $$\frac{12 \bullet
N_{symb,UCI}^{PUCCH,4} \bullet
N_{\text{PRB}}^{PUCCH,4}}{N_{\text{SF}}^{PUCCH,4}}$$
##### 6.3.1.4.1 UCI encoded by Polar code
The input bit sequence to rate matching is where is the code block number, and
is the number of coded bits in code block number .
Table 6.3.1.4.1-1: Rate matching output sequence length
+------------------------------------+--------------------------+----------+ | UCI(s) for transmission on a PUCCH | UCI for encoding | Value of | +====================================+==========================+==========+ | HARQ-ACK | HARQ-ACK | | +------------------------------------+--------------------------+----------+ | HARQ-ACK, SR | HARQ-ACK, SR | | +------------------------------------+--------------------------+----------+ | CSI | CSI | | | | | | | (CSI not of two parts) | | | +------------------------------------+--------------------------+----------+ | HARQ-ACK, CSI | HARQ-ACK, CSI | | | | | | | (CSI not of two parts) | | | +------------------------------------+--------------------------+----------+ | HARQ-ACK, SR, CSI | HARQ-ACK, SR, CSI | | | | | | | (CSI not of two parts) | | | +------------------------------------+--------------------------+----------+ | CSI | CSI part 1 | | | | | | | (CSI of two parts) | | | +------------------------------------+--------------------------+----------+ | | CSI part 2 | | +------------------------------------+--------------------------+----------+ | HARQ-ACK, CSI | HARQ-ACK, CSI part 1 | | | | | | | (CSI of two parts) | | | +------------------------------------+--------------------------+----------+ | | CSI part 2 | | +------------------------------------+--------------------------+----------+ | HARQ-ACK, SR, CSI | HARQ-ACK, SR, CSI part 1 | | | | | | | (CSI of two parts) | | | +------------------------------------+--------------------------+----------+ | | CSI part 2 | | +------------------------------------+--------------------------+----------+
Rate matching is performed according to Clause 5.4.1 by setting and the rate
matching output sequence length to , where is the number of code blocks for
UCI determined according to Clause 6.3.1.2.1 and the value of is given by
Table 6.3.1.4.1-1:
\- is the number of bits for HARQ-ACK for transmission on the current PUCCH;
\- is the number of bits for SR for transmission on the current PUCCH;
\- is the number of bits for CSI part 1 for transmission on the current PUCCH;
\- is the number of bits for CSI part 2 for transmission on the current PUCCH;
\- if , ; otherwise, is the number of CRC bits determined according to Clause
6.3.1.2.1, where equals for \"CSI (CSI of two parts)\", equals for \"HARQ-ACK,
CSI (CSI of two parts)\", and equals for \"HARQ-ACK, SR, CSI (CSI of two
parts)\" respectively in Table 6.3.1.4.1-1;
\- is the configured maximum PUCCH coding rate;
\- is given by Table 6.3.1.4-1.
The output bit sequence after rate matching is denoted as where is the length
of rate matching output sequence in code block number .
##### 6.3.1.4.2 UCI encoded by channel coding of small block lengths
The input bit sequence to rate matching is .
The value of is determined according to Table 6.3.1.4.1-1 by setting .
Rate matching is performed according to Clause 5.4.3 by setting the rate
matching output sequence length .
The output bit sequence after rate matching is denoted as .
##### 6.3.1.4.3 UCI with different priority indexes encoded by Polar code
The following procedure in this clause 6.3.1.4.3 applies if _uci-
MuxWithDiffPrio_ is configured, and HARQ-ACK bits associated with priority
index 0, HARQ-ACK bits associated with priority index 1 and SR associated with
priority index 1 if any are transmitted on a PUCCH.
The input bit sequence to rate matching is
$d_{r0},d_{r1},d_{r2},d_{r3},\ldots,d_{r(N_{r} - 1)}$ where $r$ is the code
block number, and $N_{r}$ is the number of coded bits in code block
number$\text{\ r}$.
Table 6.3.1.4.3-1: Rate matching output sequence length
$\mathbf{E}_{\mathbf{\text{UCI}}}$ for UCIs with different priority indexes
UCIs for transmission on a PUCCH UCI for encoding Value of
$\mathbf{E}_{\mathbf{\text{UCI}}}$
* * *
HARQ-ACK of priority index 1, HARQ-ACK of priority index 0 HARQ-ACK of
priority index 1 $$E_{\text{UCI}} = \min\left( E_{\text{tot}},\left\lceil
\left( O^{ACK - HP} + L \right)/R_{\text{UCI}}^{max - HP}/Q_{m} \right\rceil
\bullet Q_{m} \right)$$ HARQ-ACK of priority index 0 $$E_{\text{UCI}} =
E_{\text{tot}} - \min\left( E_{\text{tot}},\left\lceil \left( O^{ACK - HP} + L
\right)/R_{\text{UCI}}^{max - HP}/Q_{m} \right\rceil \bullet Q_{m} \right)$$
HARQ-ACK of priority index 1, SR of priority index 1, HARQ-ACK of priority
index 0 HARQ-ACK of priority index 1, SR of priority index 1 $$E_{\text{UCI}}
= \min\left( E_{\text{tot}},\left\lceil \left( O^{ACK - HP} + O^{SR - HP} + L
\right)/R_{\text{UCI}}^{max - HP}/Q_{m} \right\rceil \bullet Q_{m} \right)$$
HARQ-ACK of priority index 0 $$E_{\text{UCI}} = E_{\text{tot}} - \min\left(
E_{\text{tot}},\left\lceil \left( O^{ACK - HP} + O^{SR - HP} + L
\right)/R_{\text{UCI}}^{max - HP}/Q_{m} \right\rceil \bullet Q_{m} \right)$$
Rate matching is performed according to Clause 5.4.1 by setting
$I_{\text{BIL}} = 1$ and the rate matching output sequence length to $E_{r} =
\left\lfloor \frac{E_{\text{UCI}}}{C_{\text{UCI}}} \right\rfloor$, where
$C_{\text{UCI}}$ is the number of code blocks for UCI determined according to
Clause 6.3.1.2.1 and the value of $E_{\text{UCI}}$ is given by Table
6.3.1.4.3-1:
\- $O^{ACK - HP}$ is the number of bits for HARQ-ACK associated with priority
index 1 for transmission on the current PUCCH;
\- $O^{SR - HP}$ is the number of bits for SR associated with priority index 1
for transmission on the current PUCCH;
\- if $A \geq 360$, $L$=11; otherwise, $L$ is the number of CRC bits
determined according to clause 6.3.1.2.1, where $A$ equals $O^{ACK - HP}$ for
the case of \"HARQ-ACK of priority index 1, HARQ-ACK of priority index 0\",
and equals $O^{ACK - HP} + O^{SR - HP}$ for the case of \"HARQ-ACK of priority
index 1, SR of priority index 1, HARQ-ACK of priority index 0\" respectively
in Table 6.3.1.4.3-1;
\- $R_{\text{UCI}}^{max - HP}$ is the configured maximum PUCCH coding rate of
priority index 1;
\- $E_{\text{tot}}$ is given by Table 6.3.1.4-1.
The output bit sequence after rate matching is denoted as
$f_{r0},f_{r1},f_{r2},\ldots,f_{r(E_{r} - 1)}$ where $E_{r}$ is the length of
rate matching output sequence in code block number$\text{\ r}$.
##### 6.3.1.4.4 UCI with different priority indexes encoded by channel coding
of small block lengths
The following procedure in this clause 6.3.1.4.4 applies if _uci-
MuxWithDiffPrio_ is configured, and HARQ-ACK bits associated with priority
index 0, HARQ-ACK bits associated with priority index 1 and SR associated with
priority index 1 if any are transmitted on a PUCCH.
The input bit sequence to rate matching is $d_{0},d_{1},d_{2},\ldots,d_{N -
1}$.
The value of $E_{\text{UCI}}$ is determined according to Table 6.3.1.4.3-1 by
setting $L$=0.
Rate matching is performed according to Clause 5.4.3 by setting the rate
matching output sequence length ${E = E}_{\text{UCI}}$.
The output bit sequence after rate matching is denoted as
$f_{0},f_{1},f_{2},\ldots,f_{E - 1}$.
#### 6.3.1.5 Code block concatenation
The input bit sequence for the code block concatenation block are the
sequences, for and where is the number of rate matched bits for the -th code
block.
Code block concatenation is performed according to Clause 5.5.
The bits after code block concatenation are denoted by, where with the values
of and given in Clauses 6.3.1.4.1 and 6.3.1.4.3. Let be the total number of
coded bits for transmission and . Set for .
#### 6.3.1.6 Multiplexing of coded UCI bits to PUCCH
If CSI of two parts or UCIs with different priority indexes are transmitted on
a PUCCH, the coded bits corresponding to UCI bit sequence is denoted by and
the coded bits corresponding to UCI bit sequence is denoted by .
For PUCCH format 2 when _uci-MuxWithDiffPrio_ is configured, the coded bit
sequence $g_{0},g_{1},g_{2},g_{3},\ldots,g_{G - 1}$ is generated for UCIs with
different priority indexes by setting $g_{i} = g_{i}^{(1)}$ for $i =
0,1,\ldots,G^{\left( 1 \right)} - 1$, and setting $g_{i} = g_{i - G^{\left( 1
\right)}}^{(2)}$ for $i = G^{\left( 1 \right)},G^{\left( 1 \right)} +
1,\ldots,{G^{\left( 1 \right)} + G}^{\left( 2 \right)} - 1$.
For PUCCH format 3/4, the coded bit sequence , where , is generated according
to the following.
Table 6.3.1.6-1: PUCCH DMRS and UCI symbols
PUCCH duration (symbols) PUCCH DMRS symbol indices Number of UCI symbol
indices sets 1^st^ UCI symbol indices set 2^nd^ UCI symbol indices set 3^rd^
UCI symbol indices set
* * *
4 {1} 2 {0,2} {3} - 4 {0,2} 1 {1,3} - - 5 {0, 3} 1 {1, 2, 4} - - 6 {1, 4} 1
{0, 2, 3, 5} - - 7 {1, 4} 2 {0, 2, 3, 5} {6} - 8 {1, 5} 2 {0, 2, 4, 6} {3, 7}
- 9 {1, 6} 2 {0, 2, 5, 7} {3, 4, 8} - 10 {2, 7} 2 {1, 3, 6, 8} {0, 4, 5, 9} -
10 {1, 3, 6, 8} 1 {0,2,4,5,7,9} - - 11 {2, 7} 3 {1,3,6,8} {0,4,5,9} {10} 11
{1,3,6,9} 1 {0,2,4,5,7,8,10} - - 12 {2, 8} 3 {1,3,7,9} {0,4,6,10} {5, 11} 12
{1,4,7,10} 1 {0,2,3,5,6,8,9,11} - - 13 {2, 9} 3 {1,3,8,10} {0,4,7,11} {5,6,12}
13 {1,4,7,11} 2 {0,2,3,5,6,8,10,12} {9} - 14 {3, 10} 3 {2,4,9,11} {1,5,8,12}
{0,6,7,13} 14 {1,5,8,12} 2 {0,2,4,6,7,9,11,13} {3, 10} -
Denote as UCI OFDM symbol index. Denote as the number of elements in UCI
symbol indices set for , where and are given by Table 6.3.1.6-1 according to
the PUCCH duration and the PUCCH DMRS configuration. Denote as the number of
OFDM symbols carrying UCI in the PUCCH. Denote as the modulation order of the
PUCCH.
For PUCCH formats 3/4, set $N_{\text{UCI}}^{\text{symbol}} = 12 \cdot
N_{\text{PRB}}^{\text{PUCCH,}\text{s}}/N_{\text{SF}}^{\text{PUCCH,}s}$ , where
$N_{\text{PRB}}^{\text{PUCCH,}\text{s}}$ is the number of PRBs that is
determined by the UE for the corresponding PUCCH format transmission according
to Clause 9.2 of [5, TS 38.213], and $N_{\text{SF}}^{\text{PUCCH,}s}$ is the
spreading factor for the corresponding PUCCH format [4, TS 38.211], where $s
\in \left{ 3,4 \right}$.
Find the smallest such that .
Set ;
Set ;
Set ;
Set ;
for to
if
for to
for to
;
;
end for
end for
elseif
if
;
else
;
end if
;
for to
for to
;
;
end for
end for
for to
for to
;
;
end for
end for
else
for to
for to
;
;
end for
end for
end if
end for
Set
for to
for to
for to
;
;
end for
end for
end for
### 6.3.2 Uplink control information on PUSCH
The following clauses 6.3.2.2, 6.3.2.3, and 6.3.2.5 apply regardless of
whether the higher layer parameter _uci-MuxWithDiffPrio_ is configured or not.
The following clauses 6.3.2.1, 6.3.2.4, and 6.3.2.6 apply by assuming _uci-
MuxWithDiffPrio_ is not configured, or _uci-MuxWithDiffPrio_ is configured and
the UCIs for transmission on a PUSCH are of the same priority index, unless
stated otherwise.
If the UE is configured with a PUCCH-SCell, _uci-MuxWithDiffPrio_ is replaced
by _uci-MuxWithDiffPrioSecondaryPUCCHgroup_ for the secondary PUCCH group in
this clause _._
#### 6.3.2.1 UCI bit sequence generation
##### 6.3.2.1.1 HARQ-ACK
If HARQ-ACK bits are transmitted on a PUSCH, the UCI bit sequence is
determined as follows:
\- If UCI is transmitted on PUSCH without UL-SCH and the UCI includes CSI part
1 without CSI part 2,
\- if there is no HARQ-ACK bit given by Clause 9.1 of [5, TS 38.213], set , ,
and ;
\- if there is only one HARQ-ACK bit given by Clause 9.1 of [5, TS 38.213],
set , , and ;
\- otherwise, set for and , where the HARQ-ACK bit sequence is given by Clause
9.1 of [5, TS 38.213].
##### 6.3.2.1.2 CSI
If _cqi-BitsPerSubband_ is configured, this Clause 6.3.2.1.2 applies by taking
Subband CQI as Subband differential CQI and replacing the corresponding number
of bits 2 by 4.
If _csi-ReportSubConfig_ is configured, for a corresponding CSI sub-report,
the bitwidth of a CSI field of the CSI sub-report is determined following the
procedure in this clause 6.3.2.1.2 by taking configurations in _CSI-
ReportSubConfig_ when applicable. If _csi-ReportSubConfig_ configures a list
of CSI-RS resource IDs, for the determination of the bitwdith of a CRI field,
the value of $K_{s}^{CSI - RS}$ is the number of CSI-RS resources configured
in the corresponding _csi-ReportSubConfig_.
The bitwidth for PMI of _codebookType=typeI-SinglePanel_ and
_codebookType=typeI-MultiPanel_ is specified in Clause 6.3.1.1.2.
The bitwidth for RI/LI/CQI/CRI of _codebookType=typeI-SinglePanel_ and
_codebookType=typeI-MultiPanel_ is specified in Clause 6.3.1.1.2.
The bitwidth for PMI of _codebookType=typeII_ is provided in Tables
6.3.2.1.2-1, where the values of , , , , , , and are given by Clause 5.2.2.2.3
in [6, TS 38.214].
Table 6.3.2.1.2-1: PMI of _codebookType=_ _typeII_
| Information fields for wideband PMI | Information fields for wideband PMI or per subband PMI |  |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---|---  
|  |  |  |  |  |  |  |  |  |   
Rank=1 SBAmp off |  |  |  |  | N/A | N/A |  | N/A | N/A | N/A  
Rank=2 SBAmp off |  |  |  |  |  |  |  |  | N/A | N/A  
Rank=1 SBAmp on |  |  |  |  | N/A | N/A |  | N/A |  | N/A  
Rank=2 SBAmp on |  |  |  |  |  |  |  |  |  |   
The bitwidth for PMI of _codebookType=typeII-r16_ is provided in Tables
6.3.2.1.2-1A, where the values of $(N_{1},\ N_{2})$, $(O_{1},\ O_{2})$, $L$,
$K^{\text{NZ}}$, $N_{3}$, and $\left{ M_{l} \right}_{l = 1,\ldots,\ \upsilon}$
are given by Clause 5.2.2.2.5 in [6, TS 38.214].
Table 6.3.2.1.2-1A: PMI of _codebookType=_ _typeII-r16_
| Information fields **X****1** |  |  |  |  |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---|---|---|---  
|  
**i****1****,****1**  
|  
**i****1****,****2**  
|  
**i****1****,****8****,****1**  
|  
**i****1****,****8****,****2**  
|  
**i****1****,****8****,****3**  
|  
**i****1****,****8****,****4**  
|  |  |  |  |  |   
Rank=1  
_N_ 3 ≤ 19  
|  
⌈log2(_O_ 1 _O_ 2)⌉  
|  
$$\left\lceil \log_{2}\begin{pmatrix} N_{1}N_{2} \\\ L \\\ \end{pmatrix}
\right\rceil$$  
|  
⌈log2 _K_ NZ⌉  
| N/A | N/A | N/A |  |  |  |  |  |   
Rank=2  
_N_ 3 ≤ 19  
|  
⌈log2(_O_ 1 _O_ 2)⌉  
|  
$$\left\lceil \log_{2}\begin{pmatrix} N_{1}N_{2} \\\ L \\\ \end{pmatrix}
\right\rceil$$  
|  
⌈log2(2 _L_)⌉  
|  
⌈log2(2 _L_)⌉  
| N/A | N/A |  |  |  |  |  |   
Rank=3  
_N_ 3 ≤ 19  
|  
⌈log2(_O_ 1 _O_ 2)⌉  
|  
$$\left\lceil \log_{2}\begin{pmatrix} N_{1}N_{2} \\\ L \\\ \end{pmatrix}
\right\rceil$$  
|  
⌈log2(2 _L_)⌉  
|  
⌈log2(2 _L_)⌉  
|  
⌈log2(2 _L_)⌉  
| N/A |  |  |  |  |  |   
Rank=4  
_N_ 3 ≤ 19  
|  
⌈log2(_O_ 1 _O_ 2)⌉  
|  
$$\left\lceil \log_{2}\begin{pmatrix} N_{1}N_{2} \\\ L \\\ \end{pmatrix}
\right\rceil$$  
|  
⌈log2(2 _L_)⌉  
|  
⌈log2(2 _L_)⌉  
|  
⌈log2(2 _L_)⌉  
|  
⌈log2(2 _L_)⌉  
|  |  |  |  |  |   
Rank=1  
_N_ 3 > 19  
|  
⌈log2(_O_ 1 _O_ 2)⌉  
|  
$$\left\lceil \log_{2}\begin{pmatrix} N_{1}N_{2} \\\ L \\\ \end{pmatrix}
\right\rceil$$  
|  
⌈log2 _K_ NZ⌉  
| N/A | N/A | N/A |  |  |  |  |  |   
Rank=2  
_N_ 3 > 19  
|  
⌈log2(_O_ 1 _O_ 2)⌉  
|  
$$\left\lceil \log_{2}\begin{pmatrix} N_{1}N_{2} \\\ L \\\ \end{pmatrix}
\right\rceil$$  
|  
⌈log2(2 _L_)⌉  
|  
⌈log2(2 _L_)⌉  
| N/A | N/A |  |  |  |  |  |   
Rank=3  
_N_ 3 > 19  
|  
⌈log2(_O_ 1 _O_ 2)⌉  
|  
$$\left\lceil \log_{2}\begin{pmatrix} N_{1}N_{2} \\\ L \\\ \end{pmatrix}
\right\rceil$$  
|  
⌈log2(2 _L_)⌉  
|  
⌈log2(2 _L_)⌉  
|  
⌈log2(2 _L_)⌉  
| N/A |  |  |  |  |  |   
Rank=4  
_N_ 3 > 19  
|  
⌈log2(_O_ 1 _O_ 2)⌉  
|  
$$\left\lceil \log_{2}\begin{pmatrix} N_{1}N_{2} \\\ L \\\ \end{pmatrix}
\right\rceil$$  
|  
⌈log2(2 _L_)⌉  
|  
⌈log2(2 _L_)⌉  
|  
⌈log2(2 _L_)⌉  
|  
⌈log2(2 _L_)⌉  
|  |  |  |  |  |   
| Information fields **X****2** |  |  |  |  |  |  |  |  |  |  |   
|  
**i****2****,****3****,****1**  
|  
**i****2****,****3****,****2**  
|  
**i****2****,****3****,****3**  
|  
**i****2****,****3****,****4**  
|  
**i****1****,****5**  
|  
**i****1****,****6****,****1**  
|  
**i****1****,****6****,****2**  
|  
**i****1****,****6****,****3**  
|  
**i****1****,****6****,****4**  
|  
**{****i****2****,****4****,****l****}****l****=****1****,** **…****,****υ**  
|  
**{****i****2****,****5****,****l****}****l****=****1****,** **…****,****υ**  
|  
**{****i****1****,****7****,****l****}****l****=****1****,** **…****,****υ**  
Rank=1  
_N_ 3 ≤ 19  
| 4 | N/A | N/A | N/A | N/A |   
$$\left\lceil \log_{2}\begin{pmatrix} N_{3} - 1 \\\ M_{1} - 1 \\\
\end{pmatrix} \right\rceil$$  
| N/A | N/A | N/A |   
3(_K_ NZ − 1)  
|  
4(_K_ NZ − 1)  
|  
2 _L_ _M_ 1  
Rank=2  
_N_ 3 ≤ 19  
| 4 | 4 | N/A | N/A | N/A |   
$$\left\lceil \log_{2}\begin{pmatrix} N_{3} - 1 \\\ M_{2} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
$$\left\lceil \log_{2}\begin{pmatrix} N_{3} - 1 \\\ M_{2} - 1 \\\
\end{pmatrix} \right\rceil$$  
| N/A | N/A |   
3(_K_ NZ − 2)  
|  
4(_K_ NZ − 2)  
|  
4 _L_ _M_ 2  
Rank=3  
_N_ 3 ≤ 19  
| 4 | 4 | 4 | N/A | N/A |   
$$\left\lceil \log_{2}\begin{pmatrix} N_{3} - 1 \\\ M_{3} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
$$\left\lceil \log_{2}\begin{pmatrix} N_{3} - 1 \\\ M_{3} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
$$\left\lceil \log_{2}\begin{pmatrix} N_{3} - 1 \\\ M_{3} - 1 \\\
\end{pmatrix} \right\rceil$$  
| N/A |   
3(_K_ NZ − 3)  
|  
4(_K_ NZ − 3)  
|  
6 _L_ _M_ 3  
Rank=4  
_N_ 3 ≤ 19  
| 4 | 4 | 4 | 4 | N/A |   
$$\left\lceil \log_{2}\begin{pmatrix} N_{3} - 1 \\\ M_{4} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
$$\left\lceil \log_{2}\begin{pmatrix} N_{3} - 1 \\\ M_{4} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
$$\left\lceil \log_{2}\begin{pmatrix} N_{3} - 1 \\\ M_{4} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
$$\left\lceil \log_{2}\begin{pmatrix} N_{3} - 1 \\\ M_{4} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
3(_K_ NZ − 4)  
|  
4(_K_ NZ − 4)  
|  
8 _L_ _M_ 4  
Rank=1  
_N_ 3 > 19  
| 4 | N/A | N/A | N/A |   
⌈log2(2 _M_ 1)⌉  
|  
$$\left\lceil \log_{2}\begin{pmatrix} 2M_{1} - 1 \\\ M_{1} - 1 \\\
\end{pmatrix} \right\rceil$$  
| N/A | N/A | N/A |   
3(_K_ NZ − 1)  
|  
4(_K_ NZ − 1)  
|  
2 _L_ _M_ 1  
Rank=2  
_N_ 3 > 19  
| 4 | 4 | N/A | N/A |   
⌈log2(2 _M_ 2)⌉  
|  
$$\left\lceil \log_{2}\begin{pmatrix} 2M_{2} - 1 \\\ M_{2} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
$$\left\lceil \log_{2}\begin{pmatrix} 2M_{2} - 1 \\\ M_{2} - 1 \\\
\end{pmatrix} \right\rceil$$  
| N/A | N/A |   
3(_K_ NZ − 2)  
|  
4(_K_ NZ − 2)  
|  
4 _L_ _M_ 2  
Rank=3  
_N_ 3 > 19  
| 4 | 4 | 4 | N/A |   
⌈log2(2 _M_ 3)⌉  
|  
$$\left\lceil \log_{2}\begin{pmatrix} 2M_{3} - 1 \\\ M_{3} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
$$\left\lceil \log_{2}\begin{pmatrix} 2M_{3} - 1 \\\ M_{3} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
$$\left\lceil \log_{2}\begin{pmatrix} 2M_{3} - 1 \\\ M_{3} - 1 \\\
\end{pmatrix} \right\rceil$$  
| N/A |   
3(_K_ NZ − 3)  
|  
4(_K_ NZ − 3)  
|  
6 _L_ _M_ 3  
Rank=4  
_N_ 3 > 19  
| 4 | 4 | 4 | 4 |   
⌈log2(2 _M_ 4)⌉  
|  
$$\left\lceil \log_{2}\begin{pmatrix} 2M_{4} - 1 \\\ M_{4} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
$$\left\lceil \log_{2}\begin{pmatrix} 2M_{4} - 1 \\\ M_{4} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
$$\left\lceil \log_{2}\begin{pmatrix} 2M_{4} - 1 \\\ M_{4} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
$$\left\lceil \log_{2}\begin{pmatrix} 2M_{4} - 1 \\\ M_{4} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
3(_K_ NZ − 4)  
|  
4(_K_ NZ − 4)  
|  
8 _L_ _M_ 4  
Note: the bitwidth for {_i_ 1, 7,  _l_}_l_ = 1, …,  _υ_ _,_ {_i_ 2, 4,  _l_}_l_ = 1, …,  _υ_ _and_ {_i_ 2, 5,  _l_}_l_ = 1, …,  _υ_ shown in Table 6.3.2.1.2-1A is the total bitwidth of {_i_ 1, 7,  _l_}, {_i_ 2, 4,  _l_} and {_i_ 2, 5,  _l_} up to Rank = _υ_ , respectively, and the corresponding per layer bitwidths are 2 _L_ _M_ _υ_ , 3(_K_ _l_ NZ−1), and 4(_K_ _l_ NZ−1), (i.e., 1, 3, and 4 bits for each respective indicator elements _k_ _l_ ,  _i_ ,  _f_(3), _k_ _l_ ,  _i_ ,  _f_(2), and _c_ _l_ ,  _i_ ,  _f_ , respectively), where _K_ _l_ NZ as defined in Clause 5.2.2.2.5 in TS 38.214 [6] is the number of nonzero coefficients for layer _l_ such that $K^{\text{NZ}} = \sum_{l = 1}^{\upsilon}K_{l}^{\text{NZ}}$. |  |  |  |  |  |  |  |  |  |  |  |   
The bitwidth for PMI of _codebookType=typeII-CJT_ is provided in Tables
6.3.2.1.2-1B, where the values of $(N_{1},\ N_{2})$, $(O_{1},\ O_{2})$,
$O_{3}$, $K^{\text{NZ}}$, $N_{3}$, $N_{0}$, $L_{n}$, $\sigma(n)$ and $\left{
M_{l} \right}_{l = 1,\ldots,\ \upsilon}$ are given by Clause 5.2.2.2.8 in [6,
TS 38.214].
Table 6.3.2.1.2-1B: PMI of _codebookType=_ _typeII-CJT_
+-------+-------+-------+-------+-------+-------+-------+-------+ | | I | | | | | | | | | nform | | | | | | | | | ation | | | | | | | | | f | | | | | | | | | ields | | | | | | | | | $\mat | | | | | | | | | hbf{X | | | | | | | | | }_{\m | | | | | | | | | athbf | | | | | | | | | {1}}$ | | | | | | | +=======+=======+=======+=======+=======+=======+=======+=======+ | | $$ | $$ | $$ | $$ | $$ | $$ | | | | \math | \math | \math | \math | \math | \math | | | | bf{i} | bf{i} | bf{i} | bf{i} | bf{i} | bf{i} | | | |_{\ma | _{\ma |_{\ma | _{\ma |_{\ma | _{\ma | | | | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | | | | 1}\ma | 1}\ma | 1}\ma | 1}\ma | 1}\ma | 1}\ma | | | | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | | | | ,}\ma | ,}\ma | ,}\ma | ,}\ma | ,}\ma | ,}\ma | | | | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | | | | 1}}$$ | 2}}$$ | 8}\ma | 8}\ma | 8}\ma | 8}\ma | | | | | | thbf{ | thbf{ | thbf{ | thbf{ | | | | | | ,}\ma | ,}\ma | ,}\ma | ,}\ma | | | | | | thbf{ | thbf{ | thbf{ | thbf{ | | | | | | 1}}$$ | 2}}$$ | 3}}$$ | 4}}$$ | | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | $$N_ | $ | $$\le | N/A | N/A | N/A | | | ank=1 | {0}\l | $\sum | ft\lc | | | | | | | eft\l | _{n = | eil \ | | | | | | $$ | ceil | 0}^{ | log_{ | | | | | | N_{3} | \log_ | N_{0} | 2}K^{ | | | | | | \leq | {2}(O | - 1} | \text | | | | | | 19$$ | _{1}O | \left | {NZ}} | | | | | | |_{2}) | \lcei | \rig | | | | | | | \rig | l \lo | ht\rc | | | | | | | ht\rc | g_{2} | eil$$ | | | | | | | eil$$ | \begi | | | | | | | | | n{pma | | | | | | | | | trix} | | | | | | | | | N_{ | | | | | | | | | 1}N_{ | | | | | | | | | 2} \ | | | | | | | | | L | | | | | | | | | _{\si | | | | | | | | | gma(n | | | | | | | | | )} \ | | | | | | | | | \en | | | | | | | | | d{pma | | | | | | | | | trix} | | | | | | | | | \rig | | | | | | | | | ht\rc | | | | | | | | | eil$$ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | $$N_ | $ | $$\l | $$\l | N/A | N/A | | | ank=2 | {0}\l | $\sum | eft\l | eft\l | | | | | | eft\l | _{n = | ceil | ceil | | | | | $$ | ceil | 0}^{ | \log_ | \log_ | | | | | N_{3} | \log_ | N_{0} | {2}(\ | {2}(\ | | | | | \leq | {2}(O | - 1} | sum_{ | sum_{ | | | | | 19$$ | _{1}O | \left | n = 0 | n = 0 | | | | | |_{2}) | \lcei | }^{N_ | }^{N_ | | | | | | \rig | l \lo | {0} - | {0} - | | | | | | ht\rc | g_{2} | 1}{2 | 1}{2 | | | | | | eil$$ | \begi | L}_{\ | L}_{\ | | | | | | | n{pma | sigma | sigma | | | | | | | trix} | (n)}) | (n)}) | | | | | | | N_{ | \rig | \rig | | | | | | | 1}N_{ | ht\rc | ht\rc | | | | | | | 2} \ | eil$$ | eil$$ | | | | | | | L | | | | | | | | | _{\si | | | | | | | | | gma(n | | | | | | | | | )} \ | | | | | | | | | \en | | | | | | | | | d{pma | | | | | | | | | trix} | | | | | | | | | \rig | | | | | | | | | ht\rc | | | | | | | | | eil$$ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | $$N_ | $ | $$\l | $$\l | $$\l | N/A | | | ank=3 | {0}\l | $\sum | eft\l | eft\l | eft\l | | | | | eft\l | _{n = | ceil | ceil | ceil | | | | $$ | ceil | 0}^{ | \log_ | \log_ | \log_ | | | | N_{3} | \log_ | N_{0} | {2}(\ | {2}(\ | {2}(\ | | | | \leq | {2}(O | - 1} | sum_{ | sum_{ | sum_{ | | | | 19$$ | _{1}O | \left | n = 0 | n = 0 | n = 0 | | | | |_{2}) | \lcei | }^{N_ | }^{N_ | }^{N_ | | | | | \rig | l \lo | {0} - | {0} - | {0} - | | | | | ht\rc | g_{2} | 1}{2 | 1}{2 | 1}{2 | | | | | eil$$ | \begi | L}_{\ | L}_{\ | L}_{\ | | | | | | n{pma | sigma | sigma | sigma | | | | | | trix} | (n)}) | (n)}) | (n)}) | | | | | | N_{ | \rig | \rig | \rig | | | | | | 1}N_{ | ht\rc | ht\rc | ht\rc | | | | | | 2} \ | eil$$ | eil$$ | eil$$ | | | | | | L | | | | | | | | | _{\si | | | | | | | | | gma(n | | | | | | | | | )} \ | | | | | | | | | \en | | | | | | | | | d{pma | | | | | | | | | trix} | | | | | | | | | \rig | | | | | | | | | ht\rc | | | | | | | | | eil$$ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | $$N_ | $ | $$\l | $$\l | $$\l | $$\l | | | ank=4 | {0}\l | $\sum | eft\l | eft\l | eft\l | eft\l | | | | eft\l | _{n = | ceil | ceil | ceil | ceil | | | $$ | ceil | 0}^{ | \log_ | \log_ | \log_ | \log_ | | | N_{3} | \log_ | N_{0} | {2}(\ | {2}(\ | {2}(\ | {2}(\ | | | \leq | {2}(O | - 1} | sum_{ | sum_{ | sum_{ | sum_{ | | | 19$$ | _{1}O | \left | n = 0 | n = 0 | n = 0 | n = 0 | | | |_{2}) | \lcei | }^{N_ | }^{N_ | }^{N_ | }^{N_ | | | | \rig | l \lo | {0} - | {0} - | {0} - | {0} - | | | | ht\rc | g_{2} | 1}{2 | 1}{2 | 1}{2 | 1}{2 | | | | eil$$ | \begi | L}_{\ | L}_{\ | L}_{\ | L}_{\ | | | | | n{pma | sigma | sigma | sigma | sigma | | | | | trix} | (n)}) | (n)}) | (n)}) | (n)}) | | | | | N_{ | \rig | \rig | \rig | \rig | | | | | 1}N_{ | ht\rc | ht\rc | ht\rc | ht\rc | | | | | 2} \ | eil$$ | eil$$ | eil$$ | eil$$ | | | | | L | | | | | | | | | _{\si | | | | | | | | | gma(n | | | | | | | | | )} \ | | | | | | | | | \en | | | | | | | | | d{pma | | | | | | | | | trix} | | | | | | | | | \rig | | | | | | | | | ht\rc | | | | | | | | | eil$$ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | $$N_ | $ | $$\le | N/A | N/A | N/A | | | ank=1 | {0}\l | $\sum | ft\lc | | | | | | | eft\l | _{n = | eil \ | | | | | | $$N_ | ceil | 0}^{ | log_{ | | | | | | {3} > | \log_ | N_{0} | 2}K^{ | | | | | | 19$$ | {2}(O | - 1} | \text | | | | | | | _{1}O | \left | {NZ}} | | | | | | |_{2}) | \lcei | \rig | | | | | | | \rig | l \lo | ht\rc | | | | | | | ht\rc | g_{2} | eil$$ | | | | | | | eil$$ | \begi | | | | | | | | | n{pma | | | | | | | | | trix} | | | | | | | | | N_{ | | | | | | | | | 1}N_{ | | | | | | | | | 2} \ | | | | | | | | | L | | | | | | | | | _{\si | | | | | | | | | gma(n | | | | | | | | | )} \ | | | | | | | | | \en | | | | | | | | | d{pma | | | | | | | | | trix} | | | | | | | | | \rig | | | | | | | | | ht\rc | | | | | | | | | eil$$ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | $$N_ | $ | $$\l | $$\l | N/A | N/A | | | ank=2 | {0}\l | $\sum | eft\l | eft\l | | | | | | eft\l | _{n = | ceil | ceil | | | | | $$N_ | ceil | 0}^{ | \log_ | \log_ | | | | | {3} > | \log_ | N_{0} | {2}(\ | {2}(\ | | | | | 19$$ | {2}(O | - 1} | sum_{ | sum_{ | | | | | | _{1}O | \left | n = 0 | n = 0 | | | | | |_{2}) | \lcei | }^{N_ | }^{N_ | | | | | | \rig | l \lo | {0} - | {0} - | | | | | | ht\rc | g_{2} | 1}{2 | 1}{2 | | | | | | eil$$ | \begi | L}_{\ | L}_{\ | | | | | | | n{pma | sigma | sigma | | | | | | | trix} | (n)}) | (n)}) | | | | | | | N_{ | \rig | \rig | | | | | | | 1}N_{ | ht\rc | ht\rc | | | | | | | 2} \ | eil$$ | eil$$ | | | | | | | L | | | | | | | | | _{\si | | | | | | | | | gma(n | | | | | | | | | )} \ | | | | | | | | | \en | | | | | | | | | d{pma | | | | | | | | | trix} | | | | | | | | | \rig | | | | | | | | | ht\rc | | | | | | | | | eil$$ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | $$N_ | $ | $$\l | $$\l | $$\l | N/A | | | ank=3 | {0}\l | $\sum | eft\l | eft\l | eft\l | | | | | eft\l | _{n = | ceil | ceil | ceil | | | | $$N_ | ceil | 0}^{ | \log_ | \log_ | \log_ | | | | {3} > | \log_ | N_{0} | {2}(\ | {2}(\ | {2}(\ | | | | 19$$ | {2}(O | - 1} | sum_{ | sum_{ | sum_{ | | | | | _{1}O | \left | n = 0 | n = 0 | n = 0 | | | | |_{2}) | \lcei | }^{N_ | }^{N_ | }^{N_ | | | | | \rig | l \lo | {0} - | {0} - | {0} - | | | | | ht\rc | g_{2} | 1}{2 | 1}{2 | 1}{2 | | | | | eil$$ | \begi | L}_{\ | L}_{\ | L}_{\ | | | | | | n{pma | sigma | sigma | sigma | | | | | | trix} | (n)}) | (n)}) | (n)}) | | | | | | N_{ | \rig | \rig | \rig | | | | | | 1}N_{ | ht\rc | ht\rc | ht\rc | | | | | | 2} \ | eil$$ | eil$$ | eil$$ | | | | | | L | | | | | | | | | _{\si | | | | | | | | | gma(n | | | | | | | | | )} \ | | | | | | | | | \en | | | | | | | | | d{pma | | | | | | | | | trix} | | | | | | | | | \rig | | | | | | | | | ht\rc | | | | | | | | | eil$$ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | $$N_ | $ | $$\l | $$\l | $$\l | $$\l | | | ank=4 | {0}\l | $\sum | eft\l | eft\l | eft\l | eft\l | | | | eft\l | _{n = | ceil | ceil | ceil | ceil | | | $$N_ | ceil | 0}^{ | \log_ | \log_ | \log_ | \log_ | | | {3} > | \log_ | N_{0} | {2}(\ | {2}(\ | {2}(\ | {2}(\ | | | 19$$ | {2}(O | - 1} | sum_{ | sum_{ | sum_{ | sum_{ | | | | _{1}O | \left | n = 0 | n = 0 | n = 0 | n = 0 | | | |_{2}) | \lcei | }^{N_ | }^{N_ | }^{N_ | }^{N_ | | | | \rig | l \lo | {0} - | {0} - | {0} - | {0} - | | | | ht\rc | g_{2} | 1}{2 | 1}{2 | 1}{2 | 1}{2 | | | | eil$$ | \begi | L}_{\ | L}_{\ | L}_{\ | L}_{\ | | | | | n{pma | sigma | sigma | sigma | sigma | | | | | trix} | (n)}) | (n)}) | (n)}) | (n)}) | | | | | N_{ | \rig | \rig | \rig | \rig | | | | | 1}N_{ | ht\rc | ht\rc | ht\rc | ht\rc | | | | | 2} \ | eil$$ | eil$$ | eil$$ | eil$$ | | | | | L | | | | | | | | | _{\si | | | | | | | | | gma(n | | | | | | | | | )} \ | | | | | | | | | \en | | | | | | | | | d{pma | | | | | | | | | trix} | | | | | | | | | \rig | | | | | | | | | ht\rc | | | | | | | | | eil$$ | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | I | | | | | | | | | nform | | | | | | | | | ation | | | | | | | | | f | | | | | | | | | ields | | | | | | | | | $\mat | | | | | | | | | hbf{X | | | | | | | | | }_{\m | | | | | | | | | athbf | | | | | | | | | {2}}$ | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | $$ | $$ | $$ | $$ | $$ | $$ | $$ | | | \math | \math | \math | \math | \math | \math | \math | | | bf{i} | bf{i} | bf{i} | bf{i} | bf{i} | bf{i} | bf{i} | | | _{\ma |_{\ma | _{\ma |_{\ma | _{\ma |_{\ma | _{\ma | | | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | | | 2}\ma | 2}\ma | 2}\ma | 2}\ma | 1}\ma | 1}\ma | 1}\ma | | | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | | | ,}\ma | ,}\ma | ,}\ma | ,}\ma | ,}\ma | ,}\ma | ,}\ma | | | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | | | 3}\ma | 3}\ma | 3}\ma | 3}\ma | 5}}$$ | 6}\ma | 6}\ma | | | thbf{ | thbf{ | thbf{ | thbf{ | | thbf{ | thbf{ | | | ,}\ma | ,}\ma | ,}\ma | ,}\ma | | ,}\ma | ,}\ma | | | thbf{ | thbf{ | thbf{ | thbf{ | | thbf{ | thbf{ | | | 1}}$$ | 2}}$$ | 3}}$$ | 4}}$$ | | 1}}$$ | 2}}$$ | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | 4 | N/A | N/A | N/A | N/A | $$ | N/A | | ank=1 | | | | | | \left | | | | | | | | | \lcei | | | $$ | | | | | | l \lo | | | N_{3} | | | | | | g_{2} | | | \leq | | | | | | \begi | | | 19$$ | | | | | | n{pma | | | | | | | | | trix} | | | | | | | | | N_ | | | | | | | | | {3} - | | | | | | | | | 1 \ | | | | | | | | | M_ | | | | | | | | | {1} - | | | | | | | | | 1 \ | | | | | | | | | \en | | | | | | | | | d{pma | | | | | | | | | trix} | | | | | | | | | \rig | | | | | | | | | ht\rc | | | | | | | | | eil$$ | | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | 4 | 4 | N/A | N/A | N/A | $$ | $$ | | ank=2 | | | | | | \left | \left | | | | | | | | \lcei | \lcei | | $$ | | | | | | l \lo | l \lo | | N_{3} | | | | | | g_{2} | g_{2} | | \leq | | | | | | \begi | \begi | | 19$$ | | | | | | n{pma | n{pma | | | | | | | | trix} | trix} | | | | | | | | N_ | N_ | | | | | | | | {3} - | {3} - | | | | | | | | 1 \ | 1 \ | | | | | | | | M_ | M_ | | | | | | | | {2} - | {2} - | | | | | | | | 1 \ | 1 \ | | | | | | | | \en | \en | | | | | | | | d{pma | d{pma | | | | | | | | trix} | trix} | | | | | | | | \rig | \rig | | | | | | | | ht\rc | ht\rc | | | | | | | | eil$$ | eil$$ | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | 4 | 4 | 4 | N/A | N/A | $$ | $$ | | ank=3 | | | | | | \left | \left | | | | | | | | \lcei | \lcei | | $$ | | | | | | l \lo | l \lo | | N_{3} | | | | | | g_{2} | g_{2} | | \leq | | | | | | \begi | \begi | | 19$$ | | | | | | n{pma | n{pma | | | | | | | | trix} | trix} | | | | | | | | N_ | N_ | | | | | | | | {3} - | {3} - | | | | | | | | 1 \ | 1 \ | | | | | | | | M_ | M_ | | | | | | | | {3} - | {3} - | | | | | | | | 1 \ | 1 \ | | | | | | | | \en | \en | | | | | | | | d{pma | d{pma | | | | | | | | trix} | trix} | | | | | | | | \rig | \rig | | | | | | | | ht\rc | ht\rc | | | | | | | | eil$$ | eil$$ | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | 4 | 4 | 4 | 4 | N/A | $$ | $$ | | ank=4 | | | | | | \left | \left | | | | | | | | \lcei | \lcei | | $$ | | | | | | l \lo | l \lo | | N_{3} | | | | | | g_{2} | g_{2} | | \leq | | | | | | \begi | \begi | | 19$$ | | | | | | n{pma | n{pma | | | | | | | | trix} | trix} | | | | | | | | N_ | N_ | | | | | | | | {3} - | {3} - | | | | | | | | 1 \ | 1 \ | | | | | | | | M_ | M_ | | | | | | | | {4} - | {4} - | | | | | | | | 1 \ | 1 \ | | | | | | | | \en | \en | | | | | | | | d{pma | d{pma | | | | | | | | trix} | trix} | | | | | | | | \rig | \rig | | | | | | | | ht\rc | ht\rc | | | | | | | | eil$$ | eil$$ | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | 4 | N/A | N/A | N/A | $$\le | $$ | N/A | | ank=1 | | | | | ft\lc | \left | | | | | | | | eil \ | \lcei | | | $$N_ | | | | | log_{ | l \lo | | | {3} > | | | | | 2}(2M | g_{2} | | | 19$$ | | | | | _{1}) | \begi | | | | | | | | \rig | n{pma | | | | | | | | ht\rc | trix} | | | | | | | | eil$$ | 2M_ | | | | | | | | | {1} - | | | | | | | | | 1 \ | | | | | | | | | M_ | | | | | | | | | {1} - | | | | | | | | | 1 \ | | | | | | | | | \en | | | | | | | | | d{pma | | | | | | | | | trix} | | | | | | | | | \rig | | | | | | | | | ht\rc | | | | | | | | | eil$$ | | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | 4 | 4 | N/A | N/A | $$\le | $$ | $$ | | ank=2 | | | | | ft\lc | \left | \left | | | | | | | eil \ | \lcei | \lcei | | $$N_ | | | | | log_{ | l \lo | l \lo | | {3} > | | | | | 2}(2M | g_{2} | g_{2} | | 19$$ | | | | | _{2}) | \begi | \begi | | | | | | | \rig | n{pma | n{pma | | | | | | | ht\rc | trix} | trix} | | | | | | | eil$$ | 2M_ | 2M_ | | | | | | | | {2} - | {2} - | | | | | | | | 1 \ | 1 \ | | | | | | | | M_ | M_ | | | | | | | | {2} - | {2} - | | | | | | | | 1 \ | 1 \ | | | | | | | | \en | \en | | | | | | | | d{pma | d{pma | | | | | | | | trix} | trix} | | | | | | | | \rig | \rig | | | | | | | | ht\rc | ht\rc | | | | | | | | eil$$ | eil$$ | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | 4 | 4 | 4 | N/A | $$\le | $$ | $$ | | ank=3 | | | | | ft\lc | \left | \left | | | | | | | eil \ | \lcei | \lcei | | $$N_ | | | | | log_{ | l \lo | l \lo | | {3} > | | | | | 2}(2M | g_{2} | g_{2} | | 19$$ | | | | | _{3}) | \begi | \begi | | | | | | | \rig | n{pma | n{pma | | | | | | | ht\rc | trix} | trix} | | | | | | | eil$$ | 2M_ | 2M_ | | | | | | | | {3} - | {3} - | | | | | | | | 1 \ | 1 \ | | | | | | | | M_ | M_ | | | | | | | | {3} - | {3} - | | | | | | | | 1 \ | 1 \ | | | | | | | | \en | \en | | | | | | | | d{pma | d{pma | | | | | | | | trix} | trix} | | | | | | | | \rig | \rig | | | | | | | | ht\rc | ht\rc | | | | | | | | eil$$ | eil$$ | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | 4 | 4 | 4 | 4 | $$\le | $$ | $$ | | ank=4 | | | | | ft\lc | \left | \left | | | | | | | eil \ | \lcei | \lcei | | $$N_ | | | | | log_{ | l \lo | l \lo | | {3} > | | | | | 2}(2M | g_{2} | g_{2} | | 19$$ | | | | | _{4}) | \begi | \begi | | | | | | | \rig | n{pma | n{pma | | | | | | | ht\rc | trix} | trix} | | | | | | | eil$$ | 2M_ | 2M_ | | | | | | | | {4} - | {4} - | | | | | | | | 1 \ | 1 \ | | | | | | | | M_ | M_ | | | | | | | | {4} - | {4} - | | | | | | | | 1 \ | 1 \ | | | | | | | | \en | \en | | | | | | | | d{pma | d{pma | | | | | | | | trix} | trix} | | | | | | | | \rig | \rig | | | | | | | | ht\rc | ht\rc | | | | | | | | eil$$ | eil$$ | +-------+-------+-------+-------+-------+-------+-------+-------+ | | I | | | | | | | | | nform | | | | | | | | | ation | | | | | | | | | f | | | | | | | | | ields | | | | | | | | | $\mat | | | | | | | | | hbf{X | | | | | | | | | }_{\m | | | | | | | | | athbf | | | | | | | | | {2}}$ | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | $$ | $$ | $$ | $${{\ | $${{\ | $${{\ | | | | \math | \math | \math | mathb | mathb | mathb | | | | bf{i} | bf{i} | bf{i} | f{{} | f{{} | f{{} | | | |_{\ma | _{\ma |_{\ma | \math | \math | \math | | | | thbf{ | thbf{ | thbf{ | bf{i} | bf{i} | bf{i} | | | | 1}\ma | 1}\ma | 1}\ma | }_{\m | }_{\m | }_{\m | | | | thbf{ | thbf{ | thbf{ | athbf | athbf | athbf | | | | ,}\ma | ,}\ma | ,}\ma | {2}\m | {2}\m | {1}\m | | | | thbf{ | thbf{ | thbf{ | athbf | athbf | athbf | | | | 6}\ma | 6}\ma | 9}}$$ | {,}\m | {,}\m | {,}\m | | | | thbf{ | thbf{ | | athbf | athbf | athbf | | | | ,}\ma | ,}\ma | | {4}\m | {5}\m | {7}\m | | | | thbf{ | thbf{ | | athbf | athbf | athbf | | | | 3}}$$ | 4}}$$ | | {,}\m | {,}\m | {,}\m | | | | | | | athbf | athbf | athbf | | | | | | | {l}}\ | {l}}\ | {l}}\ | | | | | | | mathb | mathb | mathb | | | | | | | f{}} | f{}} | f{}} | | | | | | | }_{\m | }_{\m | }_{\m | | | | | | | athbf | athbf | athbf | | | | | | | {l}\m | {l}\m | {l}\m | | | | | | | athbf | athbf | athbf | | | | | | | {=}\m | {=}\m | {=}\m | | | | | | | athbf | athbf | athbf | | | | | | | {1}\m | {1}\m | {1}\m | | | | | | | athbf | athbf | athbf | | | | | | | {,\ld | {,\ld | {,\ld | | | | | | | ots,} | ots,} | ots,} | | | | | | | \math | \math | \math | | | | | | | bf{\u | bf{\u | bf{\u | | | | | | | psilo | psilo | psilo | | | | | | | n}}$$ | n}}$$ | n}}$$ | | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | N/A | N/A | $ | $$3( | $$4( | $ | | | ank=1 | | | (N_{0 | K^{\t | K^{\t | $2 \b | | | | | | } - 1 | ext{N | ext{N | ullet | | | $$ | | | )\lef | Z}} - | Z}} - | \sum | | | N_{3} | | | t\lce | 1)$$ | 1)$$ | _{n = | | | \leq | | | il \l | | | 0}^{ | | | 19$$ | | | og_{2 | | | N_{0} | | | | | | }O_{3 | | | - 1} | | | | | | }N_{3 | | | L_{\s | | | | | | } \ri | | | igma( | | | | | | ght\r | | | n)}M_ | | | | | | ceil$ | | | {1}$$ | | | | | | if | | | | | | | | | _M | | | | | | | | | ode1_ | | | | | | | | | is | | | | | | | | | c | | | | | | | | | onfig | | | | | | | | | ured, | | | | | | | | | NA | | | | | | | | | othe | | | | | | | | | rwise | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | N/A | N/A | $ | $$3( | $$4( | $ | | | ank=2 | | | (N_{0 | K^{\t | K^{\t | $4 \b | | | | | | } - 1 | ext{N | ext{N | ullet | | | $$ | | | )\lef | Z}} - | Z}} - | \sum | | | N_{3} | | | t\lce | 2)$$ | 2)$$ | _{n = | | | \leq | | | il \l | | | 0}^{ | | | 19$$ | | | og_{2 | | | N_{0} | | | | | | }O_{3 | | | - 1} | | | | | | }N_{3 | | | L_{\s | | | | | | } \ri | | | igma( | | | | | | ght\r | | | n)}M_ | | | | | | ceil$ | | | {2}$$ | | | | | | if | | | | | | | | | _M | | | | | | | | | ode1_ | | | | | | | | | is | | | | | | | | | c | | | | | | | | | onfig | | | | | | | | | ured, | | | | | | | | | NA | | | | | | | | | othe | | | | | | | | | rwise | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | $$ | N/A | $ | $$3( | $$4( | $ | | | ank=3 | \left | | (N_{0 | K^{\t | K^{\t | $6 \b | | | | \lcei | | } - 1 | ext{N | ext{N | ullet | | | $$ | l \lo | | )\lef | Z}} - | Z}} - | \sum | | | N_{3} | g_{2} | | t\lce | 3)$$ | 3)$$ | _{n = | | | \leq | \begi | | il \l | | | 0}^{ | | | 19$$ | n{pma | | og_{2 | | | N_{0} | | | | trix} | | }O_{3 | | | - 1} | | | | N_ | | }N_{3 | | | L_{\s | | | | {3} - | | } \ri | | | igma( | | | | 1 \ | | ght\r | | | n)}M_ | | | | M_ | | ceil$ | | | {3}$$ | | | | {3} - | | if | | | | | | | 1 \ | | _M | | | | | | | \en | | ode1_ | | | | | | | d{pma | | is | | | | | | | trix} | | c | | | | | | | \rig | | onfig | | | | | | | ht\rc | | ured, | | | | | | | eil$$ | | NA | | | | | | | | | othe | | | | | | | | | rwise | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | $$ | $$ | $ | $$3( | $$4( | $ | | | ank=4 | \left | \left | (N_{0 | K^{\t | K^{\t | $8 \b | | | | \lcei | \lcei | } - 1 | ext{N | ext{N | ullet | | | $$ | l \lo | l \lo | )\lef | Z}} - | Z}} - | \sum | | | N_{3} | g_{2} | g_{2} | t\lce | 4)$$ | 4)$$ | _{n = | | | \leq | \begi | \begi | il \l | | | 0}^{ | | | 19$$ | n{pma | n{pma | og_{2 | | | N_{0} | | | | trix} | trix} | }O_{3 | | | - 1} | | | | N_ | N_ | }N_{3 | | | L_{\s | | | | {3} - | {3} - | } \ri | | | igma( | | | | 1 \ | 1 \ | ght\r | | | n)}M_ | | | | M_ | M_ | ceil$ | | | {4}$$ | | | | {4} - | {4} - | if | | | | | | | 1 \ | 1 \ | _M | | | | | | | \en | \en | ode1_ | | | | | | | d{pma | d{pma | is | | | | | | | trix} | trix} | c | | | | | | | \rig | \rig | onfig | | | | | | | ht\rc | ht\rc | ured, | | | | | | | eil$$ | eil$$ | NA | | | | | | | | | othe | | | | | | | | | rwise | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | N/A | N/A | $\le | $$3( | $$4( | $ | | | ank=1 | | | ft( N | K^{\t | K^{\t | $2 \b | | | | | | _{0} | ext{N | ext{N | ullet | | | $$N_ | | | - 1 \ | Z}} - | Z}} - | \sum | | | {3} > | | | right | 1)$$ | 1)$$ | _{n = | | | 19$$ | | | )\lef | | | 0}^{ | | | | | | t\lce | | | N_{0} | | | | | | il \l | | | - 1} | | | | | | og_{2 | | | L_{\s | | | | | | }O_{3 | | | igma( | | | | | | }N_{3 | | | n)}M_ | | | | | | } \ri | | | {1}$$ | | | | | | ght\r | | | | | | | | | ceil$ | | | | | | | | | if | | | | | | | | | _M | | | | | | | | | ode1_ | | | | | | | | | is | | | | | | | | | c | | | | | | | | | onfig | | | | | | | | | ured, | | | | | | | | | NA | | | | | | | | | othe | | | | | | | | | rwise | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | N/A | N/A | $ | $$3( | $$4( | $ | | | ank=2 | | | (N_{0 | K^{\t | K^{\t | $4 \b | | | | | | } - 1 | ext{N | ext{N | ullet | | | $$N_ | | | )\lef | Z}} - | Z}} - | \sum | | | {3} > | | | t\lce | 2)$$ | 2)$$ | _{n = | | | 19$$ | | | il \l | | | 0}^{ | | | | | | og_{2 | | | N_{0} | | | | | | }O_{3 | | | - 1} | | | | | | }N_{3 | | | L_{\s | | | | | | } \ri | | | igma( | | | | | | ght\r | | | n)}M_ | | | | | | ceil$ | | | {2}$$ | | | | | | if | | | | | | | | | _M | | | | | | | | | ode1_ | | | | | | | | | is | | | | | | | | | c | | | | | | | | | onfig | | | | | | | | | ured, | | | | | | | | | NA | | | | | | | | | othe | | | | | | | | | rwise | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | $$ | N/A | $ | $$3( | $$4( | $ | | | ank=3 | \left | | (N_{0 | K^{\t | K^{\t | $6 \b | | | | \lcei | | } - 1 | ext{N | ext{N | ullet | | | $$N_ | l \lo | | )\lef | Z}} - | Z}} - | \sum | | | {3} > | g_{2} | | t\lce | 3)$$ | 3)$$ | _{n = | | | 19$$ | \begi | | il \l | | | 0}^{ | | | | n{pma | | og_{2 | | | N_{0} | | | | trix} | | }O_{3 | | | - 1} | | | | 2M_ | | }N_{3 | | | L_{\s | | | | {3} - | | } \ri | | | igma( | | | | 1 \ | | ght\r | | | n)}M_ | | | | M_ | | ceil$ | | | {3}$$ | | | | {3} - | | if | | | | | | | 1 \ | | _M | | | | | | | \en | | ode1_ | | | | | | | d{pma | | is | | | | | | | trix} | | c | | | | | | | \rig | | onfig | | | | | | | ht\rc | | ured, | | | | | | | eil$$ | | NA | | | | | | | | | othe | | | | | | | | | rwise | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | $$ | $$ | $ | $$3( | $$4( | $ | | | ank=4 | \left | \left | (N_{0 | K^{\t | K^{\t | $8 \b | | | | \lcei | \lcei | } - 1 | ext{N | ext{N | ullet | | | $$N_ | l \lo | l \lo | )\lef | Z}} - | Z}} - | \sum | | | {3} > | g_{2} | g_{2} | t\lce | 4)$$ | 4)$$ | _{n = | | | 19$$ | \begi | \begi | il \l | | | 0}^{ | | | | n{pma | n{pma | og_{2 | | | N_{0} | | | | trix} | trix} | }O_{3 | | | - 1} | | | | 2M_ | 2M_ | }N_{3 | | | L_{\s | | | | {4} - | {4} - | } \ri | | | igma( | | | | 1 \ | 1 \ | ght\r | | | n)}M_ | | | | M_ | M_ | ceil$ | | | {4}$$ | | | | {4} - | {4} - | if | | | | | | | 1 \ | 1 \ | _M | | | | | | | \en | \en | ode1_ | | | | | | | d{pma | d{pma | is | | | | | | | trix} | trix} | c | | | | | | | \rig | \rig | onfig | | | | | | | ht\rc | ht\rc | ured, | | | | | | | eil$$ | eil$$ | NA | | | | | | | | | othe | | | | | | | | | rwise | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | NOTE: | | | | | | | | | the | | | | | | | | | bit | | | | | | | | | width | | | | | | | | | for | | | | | | | | | ${ | | | | | | | | | {{ i | | | | | | | | | }_{1, | | | | | | | | | 7,l}\ | | | | | | | | | }}_{l | | | | | | | | | = 1, | | | | | | | | | \ldot | | | | | | | | | s,\up | | | | | | | | | silon | | | | | | | | | }$_,_ | | | | | | | | | ${{\ | | | | | | | | | { i}_| | | | | | | | | {2,4, | | | | | | | | | l}}} | | | | | | | | |_{l = | | | | | | | | | 1,\l | | | | | | | | | dots, | | | | | | | | | \upsi | | | | | | | | | lon}$ | | | | | | | | | _and_ | | | | | | | | | ${{\ | | | | | | | | | { i}_| | | | | | | | | {2,5, | | | | | | | | | l}}} | | | | | | | | |_{l = | | | | | | | | | 1,\l | | | | | | | | | dots, | | | | | | | | | \upsi | | | | | | | | | lon}$ | | | | | | | | | shown | | | | | | | | | in | | | | | | | | | Table | | | | | | | | | 6. | | | | | | | | | 3.2.1 | | | | | | | | | .2-1B | | | | | | | | | is | | | | | | | | | the | | | | | | | | | total | | | | | | | | | bit | | | | | | | | | width | | | | | | | | | of | | | | | | | | | ${{ | | | | | | | | | i}_{ | | | | | | | | | 1,7,l | | | | | | | | | }}$, | | | | | | | | | ${\ | | | | | | | | | { i}_ | | | | | | | | | {2,4, | | | | | | | | | l}}$ | | | | | | | | | and | | | | | | | | | ${\ | | | | | | | | | { i}_| | | | | | | | | {2,5, | | | | | | | | | l}}$ | | | | | | | | | up to | | | | | | | | | Rank | | | | | | | | | = | | | | | | | | | $ | | | | | | | | | \upsi | | | | | | | | | lon$, | | | | | | | | | res | | | | | | | | | pecti | | | | | | | | | vely, | | | | | | | | | and | | | | | | | | | the | | | | | | | | | cor | | | | | | | | | respo | | | | | | | | | nding | | | | | | | | | per | | | | | | | | | layer | | | | | | | | | bitw | | | | | | | | | idths | | | | | | | | | are | | | | | | | | | $2\ | | | | | | | | | sum_{ | | | | | | | | | n = 0 | | | | | | | | | }^{N_ | | | | | | | | | {0} - | | | | | | | | | 1}L_ | | | | | | | | | {\sig | | | | | | | | | ma(n) | | | | | | | | | }M_{\ | | | | | | | | | upsil | | | | | | | | | on}$, | | | | | | | | | $3\le | | | | | | | | | ft( K | | | | | | | | | _{l}^ | | | | | | | | | {\tex | | | | | | | | | t{NZ} | | | | | | | | | } - 1 | | | | | | | | | \rig | | | | | | | | | ht)$, | | | | | | | | | and | | | | | | | | | 4$\le | | | | | | | | | ft( K | | | | | | | | |_{l}^ | | | | | | | | | {\tex | | | | | | | | | t{NZ} | | | | | | | | | } - 1 | | | | | | | | | \rig | | | | | | | | | ht)$, | | | | | | | | | ( | | | | | | | | | i.e., | | | | | | | | | 1, 3, | | | | | | | | | and 4 | | | | | | | | | bits | | | | | | | | | for | | | | | | | | | each | | | | | | | | | respe | | | | | | | | | ctive | | | | | | | | | indi | | | | | | | | | cator | | | | | | | | | ele | | | | | | | | | ments | | | | | | | | | $k_{l | | | | | | | | | ,i,f, | | | | | | | | | j}^{( | | | | | | | | | 3)}$, | | | | | | | | | $k_{l | | | | | | | | | ,i,f, | | | | | | | | | j}^{( | | | | | | | | | 2)}$, | | | | | | | | | and | | | | | | | | | $c_{ | | | | | | | | | l,i,f | | | | | | | | | ,j}$, | | | | | | | | | resp | | | | | | | | | ectiv | | | | | | | | | ely), | | | | | | | | | where | | | | | | | | | $K_{ | | | | | | | | | l}^{\ | | | | | | | | | text{ | | | | | | | | | NZ}}$ | | | | | | | | | as | | | | | | | | | de | | | | | | | | | fined | | | | | | | | | in | | | | | | | | | C | | | | | | | | | lause | | | | | | | | | 5.2. | | | | | | | | | 2.2.8 | | | | | | | | | in | | | | | | | | | [6, | | | | | | | | | TS | | | | | | | | | 38. | | | | | | | | | 214] | | | | | | | | | is | | | | | | | | | the | | | | | | | | | n | | | | | | | | | umber | | | | | | | | | of | | | | | | | | | no | | | | | | | | | nzero | | | | | | | | | co | | | | | | | | | effic | | | | | | | | | ients | | | | | | | | | for | | | | | | | | | layer | | | | | | | | | $l$ | | | | | | | | | such | | | | | | | | | that | | | | | | | | | $K^{ | | | | | | | | | \text | | | | | | | | | {NZ}} | | | | | | | | | = \s | | | | | | | | | um_{l | | | | | | | | | = 1} | | | | | | | | | ^{\up | | | | | | | | | silon | | | | | | | | | }K_{l | | | | | | | | | }^{\t | | | | | | | | | ext{N | | | | | | | | | Z}}$. | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+
The bitwidth for PMI of _codebookType=typeII-Doppler_ is provided in Tables
6.3.2.1.2-1C, where the values of $(N_{1},\ N_{2})$, $(O_{1},\ O_{2})$, $L$,
$K^{\text{NZ}}$, $N_{3}$, $N_{4}$, _Q_ and $\left{ M_{l} \right}_{l =
1,\ldots,\ \upsilon}$ are given by Clause 5.2.2.2.10 in [6, TS 38.214].
Table 6.3.2.1.2-1C: PMI of _codebookType=typeII-Doppler_
| Information fields **X****1** |  |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---  
|  
**i****1****,****1**  
|  
**i****1****,****2**  
|  
**i****1****,****8****,****1**  
|  
**i****1****,****8****,****2**  
|  
**i****1****,****8****,****3**  
|  
**i****1****,****8****,****4**  
|  |  |   
Rank=1  
_N_ 3 ≤ 19  
|  
⌈log2(_O_ 1 _O_ 2)⌉  
|  
$$\left\lceil \log_{2}\begin{pmatrix} N_{1}N_{2} \\\ L \\\ \end{pmatrix}
\right\rceil$$  
|  
⌈log2 _K_ NZ⌉  
| N/A | N/A | N/A |  |  |   
Rank=2  
_N_ 3 ≤ 19  
|  
⌈log2(_O_ 1 _O_ 2)⌉  
|  
$$\left\lceil \log_{2}\begin{pmatrix} N_{1}N_{2} \\\ L \\\ \end{pmatrix}
\right\rceil$$  
|  
⌈log2(2LQ)⌉  
|  
⌈log2(2LQ)⌉  
| N/A | N/A |  |  |   
Rank=3  
_N_ 3 ≤ 19  
|  
⌈log2(_O_ 1 _O_ 2)⌉  
|  
$$\left\lceil \log_{2}\begin{pmatrix} N_{1}N_{2} \\\ L \\\ \end{pmatrix}
\right\rceil$$  
|  
⌈log2(2LQ)⌉  
|  
⌈log2(2LQ)⌉  
|  
⌈log2(2LQ)⌉  
| N/A |  |  |   
Rank=4  
_N_ 3 ≤ 19  
|  
⌈log2(_O_ 1 _O_ 2)⌉  
|  
$$\left\lceil \log_{2}\begin{pmatrix} N_{1}N_{2} \\\ L \\\ \end{pmatrix}
\right\rceil$$  
|  
⌈log2(2LQ)⌉  
|  
⌈log2(2LQ)⌉  
|  
⌈log2(2LQ)⌉  
|  
⌈log2(2LQ)⌉  
|  |  |   
Rank=1  
_N_ 3 > 19  
|  
⌈log2(_O_ 1 _O_ 2)⌉  
|  
$$\left\lceil \log_{2}\begin{pmatrix} N_{1}N_{2} \\\ L \\\ \end{pmatrix}
\right\rceil$$  
|  
⌈log2 _K_ NZ⌉  
| N/A | N/A | N/A |  |  |   
Rank=2  
_N_ 3 > 19  
|  
⌈log2(_O_ 1 _O_ 2)⌉  
|  
$$\left\lceil \log_{2}\begin{pmatrix} N_{1}N_{2} \\\ L \\\ \end{pmatrix}
\right\rceil$$  
|  
⌈log2(2LQ)⌉  
|  
⌈log2(2LQ)⌉  
| N/A | N/A |  |  |   
Rank=3  
_N_ 3 > 19  
|  
⌈log2(_O_ 1 _O_ 2)⌉  
|  
$$\left\lceil \log_{2}\begin{pmatrix} N_{1}N_{2} \\\ L \\\ \end{pmatrix}
\right\rceil$$  
|  
⌈log2(2LQ)⌉  
|  
⌈log2(2LQ)⌉  
|  
⌈log2(2LQ)⌉  
| N/A |  |  |   
Rank=4  
_N_ 3 > 19  
|  
⌈log2(_O_ 1 _O_ 2)⌉  
|  
$$\left\lceil \log_{2}\begin{pmatrix} N_{1}N_{2} \\\ L \\\ \end{pmatrix}
\right\rceil$$  
|  
⌈log2(2LQ)⌉  
|  
⌈log2(2LQ)⌉  
|  
⌈log2(2LQ)⌉  
|  
⌈log2(2LQ)⌉  
|  |  |   
| Information fields **X****2** |  |  |  |  |  |  |  |   
|  
**i****2****,****3****,****1**  
|  
**i****2****,****3****,****2**  
|  
**i****2****,****3****,****3**  
|  
**i****2****,****3****,****4**  
|  
**i****1****,****5**  
|  
**i****1****,****6****,****1**  
|  
**i****1****,****6****,****2**  
|  
**i****1****,****6****,****3**  
|  
**i****1****,****6****,****4**  
Rank=1  
_N_ 3 ≤ 19  
| 4 | N/A | N/A | N/A | N/A |   
$$\left\lceil \log_{2}\begin{pmatrix} N_{3} - 1 \\\ M_{1} - 1 \\\
\end{pmatrix} \right\rceil$$  
| N/A | N/A | N/A  
Rank=2  
_N_ 3 ≤ 19  
| 4 | 4 | N/A | N/A | N/A |   
$$\left\lceil \log_{2}\begin{pmatrix} N_{3} - 1 \\\ M_{2} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
$$\left\lceil \log_{2}\begin{pmatrix} N_{3} - 1 \\\ M_{2} - 1 \\\
\end{pmatrix} \right\rceil$$  
| N/A | N/A  
Rank=3  
_N_ 3 ≤ 19  
| 4 | 4 | 4 | N/A | N/A |   
$$\left\lceil \log_{2}\begin{pmatrix} N_{3} - 1 \\\ M_{3} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
$$\left\lceil \log_{2}\begin{pmatrix} N_{3} - 1 \\\ M_{3} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
$$\left\lceil \log_{2}\begin{pmatrix} N_{3} - 1 \\\ M_{3} - 1 \\\
\end{pmatrix} \right\rceil$$  
| N/A  
Rank=4  
_N_ 3 ≤ 19  
| 4 | 4 | 4 | 4 | N/A |   
$$\left\lceil \log_{2}\begin{pmatrix} N_{3} - 1 \\\ M_{4} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
$$\left\lceil \log_{2}\begin{pmatrix} N_{3} - 1 \\\ M_{4} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
$$\left\lceil \log_{2}\begin{pmatrix} N_{3} - 1 \\\ M_{4} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
$$\left\lceil \log_{2}\begin{pmatrix} N_{3} - 1 \\\ M_{4} - 1 \\\
\end{pmatrix} \right\rceil$$  
Rank=1  
_N_ 3 > 19  
| 4 | N/A | N/A | N/A |   
⌈log2(2 _M_ 1)⌉  
|  
$$\left\lceil \log_{2}\begin{pmatrix} 2M_{1} - 1 \\\ M_{1} - 1 \\\
\end{pmatrix} \right\rceil$$  
| N/A | N/A | N/A  
Rank=2  
_N_ 3 > 19  
| 4 | 4 | N/A | N/A |   
⌈log2(2 _M_ 2)⌉  
|  
$$\left\lceil \log_{2}\begin{pmatrix} 2M_{2} - 1 \\\ M_{2} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
$$\left\lceil \log_{2}\begin{pmatrix} 2M_{2} - 1 \\\ M_{2} - 1 \\\
\end{pmatrix} \right\rceil$$  
| N/A | N/A  
Rank=3  
_N_ 3 > 19  
| 4 | 4 | 4 | N/A |   
⌈log2(2 _M_ 3)⌉  
|  
$$\left\lceil \log_{2}\begin{pmatrix} 2M_{3} - 1 \\\ M_{3} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
$$\left\lceil \log_{2}\begin{pmatrix} 2M_{3} - 1 \\\ M_{3} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
$$\left\lceil \log_{2}\begin{pmatrix} 2M_{3} - 1 \\\ M_{3} - 1 \\\
\end{pmatrix} \right\rceil$$  
| N/A  
Rank=4  
_N_ 3 > 19  
| 4 | 4 | 4 | 4 |   
⌈log2(2 _M_ 4)⌉  
|  
$$\left\lceil \log_{2}\begin{pmatrix} 2M_{4} - 1 \\\ M_{4} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
$$\left\lceil \log_{2}\begin{pmatrix} 2M_{4} - 1 \\\ M_{4} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
$$\left\lceil \log_{2}\begin{pmatrix} 2M_{4} - 1 \\\ M_{4} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
$$\left\lceil \log_{2}\begin{pmatrix} 2M_{4} - 1 \\\ M_{4} - 1 \\\
\end{pmatrix} \right\rceil$$  
| Information fields **X****2** |  |  |  |  |  |  |  |   
|  
**i****1****,****10****,****1**  
|  
**i****1****,****10****,****2**  
|  
**i****1****,****10****,****3**  
|  
**i****1****,****10****,****4**  
|  
**{****i****2****,****4****,****l****}****l****=****1****,** **…****,****υ**  
|  
**{****i****2****,****5****,****l****}****l****=****1****,** **…****,****υ**  
|  
**{****i****1****,****7****,****l****}****l****=****1****,** **…****,****υ**  
|  |   
Rank=1  
_N_ 3 ≤ 19  
| ⌈log2(_N_ 4−1)⌉ if _N_ 4 > 2 and Q=2, NA otherwise | NA | NA | NA |   
3(_K_ NZ − 1)  
|  
4(_K_ NZ − 1)  
|  
2 _L_ _M_ 1 _Q_  
|  |   
Rank=2  
_N_ 3 ≤ 19  
| ⌈log2(_N_ 4−1)⌉ if _N_ 4 > 2 and Q=2, NA otherwise | ⌈log2(_N_ 4−1)⌉ if _N_ 4 > 2 and Q=2, NA otherwise | NA | NA |   
3(_K_ NZ − 2)  
|  
4(_K_ NZ − 2)  
|  
4 _L_ _M_ 2 _Q_  
|  |   
Rank=3  
_N_ 3 ≤ 19  
| ⌈log2(_N_ 4−1)⌉ if _N_ 4 > 2 and Q=2, NA otherwise | ⌈log2(_N_ 4−1)⌉ if _N_ 4 > 2 and Q=2, NA otherwise | ⌈log2(_N_ 4−1)⌉ if _N_ 4 > 2 and Q=2, NA otherwise | NA |   
3(_K_ NZ − 3)  
|  
4(_K_ NZ − 3)  
|  
6 _L_ _M_ 3 _Q_  
|  |   
Rank=4  
_N_ 3 ≤ 19  
| ⌈log2(_N_ 4−1)⌉ if _N_ 4 > 2 and Q=2, NA otherwise | ⌈log2(_N_ 4−1)⌉ if _N_ 4 > 2 and Q=2, NA otherwise | ⌈log2(_N_ 4−1)⌉ if _N_ 4 > 2 and Q=2, NA otherwise | ⌈log2(_N_ 4−1)⌉ if _N_ 4 > 2 and Q=2, NA otherwise |   
3(_K_ NZ − 4)  
|  
4(_K_ NZ − 4)  
|  
8 _L_ _M_ 4 _Q_  
|  |   
Rank=1  
_N_ 3 > 19  
| ⌈log2(_N_ 4−1)⌉ if _N_ 4 > 2 and Q=2, NA otherwise | NA | NA | NA |   
3(_K_ NZ − 1)  
|  
4(_K_ NZ − 1)  
|  
2 _L_ _M_ 1 _Q_  
|  |   
Rank=2  
_N_ 3 > 19  
| ⌈log2(_N_ 4−1)⌉ if _N_ 4 > 2 and Q=2, NA otherwise | ⌈log2(_N_ 4−1)⌉ if _N_ 4 > 2 and Q=2, NA otherwise | NA | NA |   
3(_K_ NZ − 2)  
|  
4(_K_ NZ − 2)  
|  
4 _L_ _M_ 2 _Q_  
|  |   
Rank=3  
_N_ 3 > 19  
| ⌈log2(_N_ 4−1)⌉ if _N_ 4 > 2 and Q=2, NA otherwise | ⌈log2(_N_ 4−1)⌉ if _N_ 4 > 2 and Q=2, NA otherwise | ⌈log2(_N_ 4−1)⌉ if _N_ 4 > 2 and Q=2, NA otherwise | NA |   
3(_K_ NZ − 3)  
|  
4(_K_ NZ − 3)  
|  
6 _L_ _M_ 3 _Q_  
|  |   
Rank=4  
_N_ 3 > 19  
| ⌈log2(_N_ 4−1)⌉ if _N_ 4 > 2 and Q=2, NA otherwise | ⌈log2(_N_ 4−1)⌉ if _N_ 4 > 2 and Q=2, NA otherwise | ⌈log2(_N_ 4−1)⌉ if _N_ 4 > 2 and Q=2, NA otherwise | ⌈log2(_N_ 4−1)⌉ if _N_ 4 > 2 and Q=2, NA otherwise |   
3(_K_ NZ − 4)  
|  
4(_K_ NZ − 4)  
|  
8 _L_ _M_ 4 _Q_  
|  |   
NOTE: the bitwidth for {_i_ 1, 7,  _l_}_l_ = 1, …,  _υ_ _,_ {_i_ 2, 4,  _l_}_l_ = 1, …,  _υ_ _and_ {_i_ 2, 5,  _l_}_l_ = 1, …,  _υ_ shown in Table 6.3.2.1.2-1C is the total bitwidth of {_i_ 1, 7,  _l_}, {_i_ 2, 4,  _l_} and {_i_ 2, 5,  _l_} up to Rank = _υ_ , respectively, and the corresponding per layer bitwidths are 2 _L_ _M_ _υ_ _Q_ , 3(_K_ _l_ NZ−1), and 4(_K_ _l_ NZ−1), (i.e., 1, 3, and 4 bits for each respective indicator elements _k_ _l_ ,  _i_ ,  _f_ ,  _τ_(3), _k_ _l_ ,  _i_ ,  _f_ ,  _τ_(2), and _c_ _l_ ,  _i_ ,  _f_ ,  _τ_ , respectively), where _K_ _l_ NZ as defined in Clause 5.2.2.2.10 in [6, TS 38.214] is the number of nonzero coefficients for layer _l_ such that $K^{\text{NZ}} = \sum_{l = 1}^{\upsilon}K_{l}^{\text{NZ}}$. |  |  |  |  |  |  |  |  |   
The bitwidth for PMI of _codebookType= typeII-PortSelection_ is provided in
Tables 6.3.2.1.2-2, where the values of , , , , , , and are given by Clause
5.2.2.2.4 in [6, TS 38.214].
Table 6.3.2.1.2-2: PMI of _codebookType=_ _typeII-PortSelection_
| Information fields for wideband PMI | Information fields for wideband PMI or per subband PMI |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---  
|  |  |  |  |  |  |  |  |   
Rank=1 SBAmp off |  |  |  | N/A | N/A |  | N/A | N/A | N/A  
Rank=2 SBAmp off |  |  |  |  |  |  |  | N/A | N/A  
Rank=1 SBAmp on |  |  |  | N/A | N/A |  | N/A |  | N/A  
Rank=2 SBAmp on |  |  |  |  |  |  |  |  |   
The bitwidth for PMI of _codebookType=typeII-PortSelection-r16_ is provided in
Tables 6.3.2.1.2-2A, where the values of $P_{CSI - RS}$,$\ d$, $L$,
$K^{\text{NZ}}$, $N_{3}$, and $\left{ M_{l} \right}_{l = 1,\ldots,\ \upsilon}$
are given by Clause 5.2.2.2.6 in [6, TS 38.214].
Table 6.3.2.1.2-2A: PMI of _codebookType=_ _typeII-PortSelection-r16_
| Information fields **X****1** |  |  |  |  |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---|---|---|---  
|  
**i****1****,****1**  
|  
**i****1****,****8****,****1**  
|  
**i****1****,****8****,****2**  
|  
**i****1****,****8****,****3**  
|  
**i****1****,****8****,****4**  
|  |  |  |  |  |  |   
Rank=1  
_N_ 3 ≤ 19  
|  
$$\left\lceil \log_{2}\left\lceil \frac{P_{\text{CSI} - \text{RS}}}{2d}
\right\rceil \right\rceil$$  
|  
⌈log2 _K_ NZ⌉  
| N/A | N/A | N/A |  |  |  |  |  |  |   
Rank=2  
_N_ 3 ≤ 19  
|  
$$\left\lceil \log_{2}\left\lceil \frac{P_{\text{CSI} - \text{RS}}}{2d}
\right\rceil \right\rceil$$  
|  
⌈log2(2 _L_)⌉  
|  
⌈log2(2 _L_)⌉  
| N/A | N/A |  |  |  |  |  |  |   
Rank=3  
_N_ 3 ≤ 19  
|  
$$\left\lceil \log_{2}\left\lceil \frac{P_{\text{CSI} - \text{RS}}}{2d}
\right\rceil \right\rceil$$  
|  
⌈log2(2 _L_)⌉  
|  
⌈log2(2 _L_)⌉  
|  
⌈log2(2 _L_)⌉  
| N/A |  |  |  |  |  |  |   
Rank=4  
_N_ 3 ≤ 19  
|  
$$\left\lceil \log_{2}\left\lceil \frac{P_{\text{CSI} - \text{RS}}}{2d}
\right\rceil \right\rceil$$  
|  
⌈log2(2 _L_)⌉  
|  
⌈log2(2 _L_)⌉  
|  
⌈log2(2 _L_)⌉  
|  
⌈log2(2 _L_)⌉  
|  |  |  |  |  |  |   
Rank=1  
_N_ 3 > 19  
|  
$$\left\lceil \log_{2}\left\lceil \frac{P_{\text{CSI} - \text{RS}}}{2d}
\right\rceil \right\rceil$$  
|  
⌈log2 _K_ NZ⌉  
| N/A | N/A | N/A |  |  |  |  |  |  |   
Rank=2  
_N_ 3 > 19  
|  
$$\left\lceil \log_{2}\left\lceil \frac{P_{\text{CSI} - \text{RS}}}{2d}
\right\rceil \right\rceil$$  
|  
⌈log2(2 _L_)⌉  
|  
⌈log2(2 _L_)⌉  
| N/A | N/A |  |  |  |  |  |  |   
Rank=3  
_N_ 3 > 19  
|  
$$\left\lceil \log_{2}\left\lceil \frac{P_{\text{CSI} - \text{RS}}}{2d}
\right\rceil \right\rceil$$  
|  
⌈log2(2 _L_)⌉  
|  
⌈log2(2 _L_)⌉  
|  
⌈log2(2 _L_)⌉  
| N/A |  |  |  |  |  |  |   
Rank=4  
_N_ 3 > 19  
|  
$$\left\lceil \log_{2}\left\lceil \frac{P_{\text{CSI} - \text{RS}}}{2d}
\right\rceil \right\rceil$$  
|  
⌈log2(2 _L_)⌉  
|  
⌈log2(2 _L_)⌉  
|  
⌈log2(2 _L_)⌉  
|  
⌈log2(2 _L_)⌉  
|  |  |  |  |  |  |   
| Information fields **X****2** |  |  |  |  |  |  |  |  |  |  |   
|  
**i****2****,****3****,****1**  
|  
**i****2****,****3****,****2**  
|  
**i****2****,****3****,****3**  
|  
**i****2****,****3****,****4**  
|  
**i****1****,****5**  
|  
**i****1****,****6****,****1**  
|  
**i****1****,****6****,****2**  
|  
**i****1****,****6****,****3**  
|  
**i****1****,****6****,****4**  
|  
**{****i****2****,****4****,****l****}****l****=****1****,** **…****,****υ**  
|  
**{****i****2****,****5****,****l****}****l****=****1****,** **…****,****υ**  
|  
**{****i****1****,****7****,****l****}****l****=****1****,** **…****,****υ**  
Rank=1  
_N_ 3 ≤ 19  
| 4 | N/A | N/A | N/A | N/A |   
$$\left\lceil \log_{2}\begin{pmatrix} N_{3} - 1 \\\ M_{1} - 1 \\\
\end{pmatrix} \right\rceil$$  
| N/A | N/A | N/A |   
3(_K_ NZ − 1)  
|  
4(_K_ NZ − 1)  
|  
2 _L_ _M_ 1  
Rank=2  
_N_ 3 ≤ 19  
| 4 | 4 | N/A | N/A | N/A |   
$$\left\lceil \log_{2}\begin{pmatrix} N_{3} - 1 \\\ M_{2} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
$$\left\lceil \log_{2}\begin{pmatrix} N_{3} - 1 \\\ M_{2} - 1 \\\
\end{pmatrix} \right\rceil$$  
| N/A | N/A |   
3(_K_ NZ − 2)  
|  
4(_K_ NZ − 2)  
|  
4 _L_ _M_ 2  
Rank=3  
_N_ 3 ≤ 19  
| 4 | 4 | 4 | N/A | N/A |   
$$\left\lceil \log_{2}\begin{pmatrix} N_{3} - 1 \\\ M_{3} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
$$\left\lceil \log_{2}\begin{pmatrix} N_{3} - 1 \\\ M_{3} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
$$\left\lceil \log_{2}\begin{pmatrix} N_{3} - 1 \\\ M_{3} - 1 \\\
\end{pmatrix} \right\rceil$$  
| N/A |   
3(_K_ NZ − 3)  
|  
4(_K_ NZ − 3)  
|  
6 _L_ _M_ 3  
Rank=4  
_N_ 3 ≤ 19  
| 4 | 4 | 4 | 4 | N/A |   
$$\left\lceil \log_{2}\begin{pmatrix} N_{3} - 1 \\\ M_{4} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
$$\left\lceil \log_{2}\begin{pmatrix} N_{3} - 1 \\\ M_{4} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
$$\left\lceil \log_{2}\begin{pmatrix} N_{3} - 1 \\\ M_{4} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
$$\left\lceil \log_{2}\begin{pmatrix} N_{3} - 1 \\\ M_{4} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
3(_K_ NZ − 4)  
|  
4(_K_ NZ − 4)  
|  
8 _L_ _M_ 4  
Rank=1  
_N_ 3 > 19  
| 4 | N/A | N/A | N/A |   
⌈log2(2 _M_ 1)⌉  
|  
$$\left\lceil \log_{2}\begin{pmatrix} 2M_{1} - 1 \\\ M_{1} - 1 \\\
\end{pmatrix} \right\rceil$$  
| N/A | N/A | N/A |   
3(_K_ NZ − 1)  
|  
4(_K_ NZ − 1)  
|  
2 _L_ _M_ 1  
Rank=2  
_N_ 3 > 19  
| 4 | 4 | N/A | N/A |   
⌈log2(2 _M_ 2)⌉  
|  
$$\left\lceil \log_{2}\begin{pmatrix} 2M_{2} - 1 \\\ M_{2} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
$$\left\lceil \log_{2}\begin{pmatrix} 2M_{2} - 1 \\\ M_{2} - 1 \\\
\end{pmatrix} \right\rceil$$  
| N/A | N/A |   
3(_K_ NZ − 2)  
|  
4(_K_ NZ − 2)  
|  
4 _L_ _M_ 2  
Rank=3  
_N_ 3 > 19  
| 4 | 4 | 4 | N/A |   
⌈log2(2 _M_ 3)⌉  
|  
$$\left\lceil \log_{2}\begin{pmatrix} 2M_{3} - 1 \\\ M_{3} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
$$\left\lceil \log_{2}\begin{pmatrix} 2M_{3} - 1 \\\ M_{3} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
$$\left\lceil \log_{2}\begin{pmatrix} 2M_{3} - 1 \\\ M_{3} - 1 \\\
\end{pmatrix} \right\rceil$$  
| N/A |   
3(_K_ NZ − 3)  
|  
4(_K_ NZ − 3)  
|  
6 _L_ _M_ 3  
Rank=4  
_N_ 3 > 19  
| 4 | 4 | 4 | 4 |   
⌈log2(2 _M_ 4)⌉  
|  
$$\left\lceil \log_{2}\begin{pmatrix} 2M_{4} - 1 \\\ M_{4} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
$$\left\lceil \log_{2}\begin{pmatrix} 2M_{4} - 1 \\\ M_{4} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
$$\left\lceil \log_{2}\begin{pmatrix} 2M_{4} - 1 \\\ M_{4} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
$$\left\lceil \log_{2}\begin{pmatrix} 2M_{4} - 1 \\\ M_{4} - 1 \\\
\end{pmatrix} \right\rceil$$  
|  
3(_K_ NZ − 4)  
|  
4(_K_ NZ − 4)  
|  
8 _L_ _M_ 4  
NOTE: the bitwidth for {_i_ 1, 7,  _l_}_l_ = 1, …,  _υ_ _,_ {_i_ 2, 4,  _l_}_l_ = 1, …,  _υ_ _and_ {_i_ 2, 5,  _l_}_l_ = 1, …,  _υ_ shown in Table 6.3.2.1.2-2A is the total bitwidth of {_i_ 1, 7,  _l_}, {_i_ 2, 4,  _l_} and {_i_ 2, 5,  _l_} up to Rank = _υ_ , respectively, and the corresponding per layer bitwidths are 2 _L_ _M_ _υ_ , 3(_K_ _l_ NZ−1), and 4(_K_ _l_ NZ−1), (i.e., 1, 3, and 4 bits for each respective indicator elements _k_ _l_ ,  _i_ ,  _f_(3), _k_ _l_ ,  _i_ ,  _f_(2), and _c_ _l_ ,  _i_ ,  _f_ , respectively), where _K_ _l_ NZ as defined in Clause 5.2.2.2.5 in TS 38.214 [6] is the number of nonzero coefficients for layer _l_ such that $K^{\text{NZ}} = \sum_{l = 1}^{\upsilon}K_{l}^{\text{NZ}}$. |  |  |  |  |  |  |  |  |  |  |  |   
The bitwidth for PMI of _codebookType=typeII-PortSelection-r17_ is provided in
Tables 6.3.2.1.2-2B, where the values of $P_{CSI - RS}$,$\ K_{1}$,
$K^{\text{NZ}}$, $N_{3}$, $N$ and $M$ are given by Clause 5.2.2.2.7 in [6, TS
38.214].
Table 6.3.2.1.2-2B: PMI of _codebookType=_ _typeII-PortSelection-r17_
+-------+-------+-------+-------+-------+-------+-------+-------+ | | I | | | | | | | | | nform | | | | | | | | | ation | | | | | | | | | f | | | | | | | | | ields | | | | | | | | | $\mat | | | | | | | | | hbf{X | | | | | | | | | }_{\m | | | | | | | | | athbf | | | | | | | | | {1}}$ | | | | | | | +=======+=======+=======+=======+=======+=======+=======+=======+ | | $$ | $$ | $$ | $$ | $$ | $$ | | | | \math | \math | \math | \math | \math | \math | | | | bf{i} | bf{i} | bf{i} | bf{i} | bf{i} | bf{i} | | | |_{\ma | _{\ma |_{\ma | _{\ma |_{\ma | _{\ma | | | | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | | | | 1}\ma | 1}\ma | 1}\ma | 1}\ma | 1}\ma | 1}\ma | | | | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | | | | ,}\ma | ,}\ma | ,}\ma | ,}\ma | ,}\ma | ,}\ma | | | | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | | | | 2}}$$ | 6}}$$ | 8}\ma | 8}\ma | 8}\ma | 8}\ma | | | | | | thbf{ | thbf{ | thbf{ | thbf{ | | | | | | ,}\ma | ,}\ma | ,}\ma | ,}\ma | | | | | | thbf{ | thbf{ | thbf{ | thbf{ | | | | | | 1}}$$ | 2}}$$ | 3}}$$ | 4}}$$ | | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | $$ | $\ | $$ | N/A | N/A | N/A | | | ank=1 | \left | left\ | \left | | | | | | | \lcei | lceil | \lcei | | | | | | | l \lo | \log | l \lo | | | | | | | g_{2} | _{2}( | g_{2} | | | | | | | \begi | N - 1 | {(K}_| | | | | | | n{pma | ) \ri | {1}M) | | | | | | | trix} | ght\r | \rig | | | | | | | P | ceil$ | ht\rc | | | | | | |_{\te | if _N | eil$$ | | | | | | | xt{CS | > | | | | | | | | I} - | M=2_, | | | | | | | | \text | N/A | | | | | | | | {RS}} | othe | | | | | | | | /2 \ | rwise | | | | | | | | K_{1} | | | | | | | | | /2 \ | | | | | | | | | \en | | | | | | | | | d{pma | | | | | | | | | trix} | | | | | | | | | \rig | | | | | | | | | ht\rc | | | | | | | | | eil$$ | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | $$ | $\ | $$ | $$ | N/A | N/A | | | ank=2 | \left | left\ | \left | \left | | | | | | \lcei | lceil | \lcei | \lcei | | | | | | l \lo | \log | l \lo | l \lo | | | | | | g_{2} | _{2}( | g_{2} | g_{2} | | | | | | \begi | N - 1 | {(K}_| {(K}_ | | | | | | n{pma | ) \ri | {1}M) | {1}M) | | | | | | trix} | ght\r | \rig | \rig | | | | | | P | ceil$ | ht\rc | ht\rc | | | | | | _{\te | if _N | eil$$ | eil$$ | | | | | | xt{CS | > | | | | | | | | I} - | M=2_, | | | | | | | | \text | N/A | | | | | | | | {RS}} | othe | | | | | | | | /2 \ | rwise | | | | | | | | K_{1} | | | | | | | | | /2 \ | | | | | | | | | \en | | | | | | | | | d{pma | | | | | | | | | trix} | | | | | | | | | \rig | | | | | | | | | ht\rc | | | | | | | | | eil$$ | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | $$ | $\ | $$ | $$ | $$ | N/A | | | ank=3 | \left | left\ | \left | \left | \left | | | | | \lcei | lceil | \lcei | \lcei | \lcei | | | | | l \lo | \log | l \lo | l \lo | l \lo | | | | | g_{2} | _{2}( | g_{2} | g_{2} | g_{2} | | | | | \begi | N - 1 | {(K}_| {(K}_ | {(K}_| | | | | n{pma | ) \ri | {1}M) | {1}M) | {1}M) | | | | | trix} | ght\r | \rig | \rig | \rig | | | | | P | ceil$ | ht\rc | ht\rc | ht\rc | | | | |_{\te | if _N | eil$$ | eil$$ | eil$$ | | | | | xt{CS | > | | | | | | | | I} - | M=2_, | | | | | | | | \text | N/A | | | | | | | | {RS}} | othe | | | | | | | | /2 \ | rwise | | | | | | | | K_{1} | | | | | | | | | /2 \ | | | | | | | | | \en | | | | | | | | | d{pma | | | | | | | | | trix} | | | | | | | | | \rig | | | | | | | | | ht\rc | | | | | | | | | eil$$ | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | $$ | $\ | $$\le | $$\le | $$\le | $$ | | | ank=4 | \left | left\ | ft\lc | ft\lc | ft\lc | \left | | | | \lcei | lceil | eil \ | eil \ | eil \ | \lcei | | | | l \lo | \log | log_{ | log_{ | log_{ | l \lo | | | | g_{2} | _{2}( | 2}(K_ | 2}(K_ | 2}(K_ | g_{2} | | | | \begi | N - 1 | {1}M) | {1}M) | {1}M) | {(K}_| | | | n{pma | ) \ri | \rig | \rig | \rig | {1}M) | | | | trix} | ght\r | ht\rc | ht\rc | ht\rc | \rig | | | | P | ceil$ | eil$$ | eil$$ | eil$$ | ht\rc | | | |_{\te | if _N | | | | eil$$ | | | | xt{CS | > | | | | | | | | I} - | M=2_, | | | | | | | | \text | N/A | | | | | | | | {RS}} | othe | | | | | | | | /2 \ | rwise | | | | | | | | K_{1} | | | | | | | | | /2 \ | | | | | | | | | \en | | | | | | | | | d{pma | | | | | | | | | trix} | | | | | | | | | \rig | | | | | | | | | ht\rc | | | | | | | | | eil$$ | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | I | | | | | | | | | nform | | | | | | | | | ation | | | | | | | | | f | | | | | | | | | ields | | | | | | | | | $\mat | | | | | | | | | hbf{X | | | | | | | | | }_{\m | | | | | | | | | athbf | | | | | | | | | {2}}$ | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | $$ | $$ | $$ | $$ | $${ | $${ | $${ | | | \math | \math | \math | \math | {\mat | {\mat | {\mat | | | bf{i} | bf{i} | bf{i} | bf{i} | hbf{\ | hbf{\ | hbf{\ | | |_{\ma | _{\ma |_{\ma | _{\ma | {}\ma | {}\ma | {}\ma | | | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | | | 2}\ma | 2}\ma | 2}\ma | 2}\ma | i}}_{ | i}}_{ | i}}_{ | | | thbf{ | thbf{ | thbf{ | thbf{ | \math | \math | \math | | | ,}\ma | ,}\ma | ,}\ma | ,}\ma | bf{2} | bf{2} | bf{1} | | | thbf{ | thbf{ | thbf{ | thbf{ | \math | \math | \math | | | 3}\ma | 3}\ma | 3}\ma | 3}\ma | bf{,} | bf{,} | bf{,} | | | thbf{ | thbf{ | thbf{ | thbf{ | \math | \math | \math | | | ,}\ma | ,}\ma | ,}\ma | ,}\ma | bf{4} | bf{5} | bf{7} | | | thbf{ | thbf{ | thbf{ | thbf{ | \math | \math | \math | | | 1}}$$ | 2}}$$ | 3}}$$ | 4}}$$ | bf{,} | bf{,} | bf{,} | | | | | | | \math | \math | \math | | | | | | | bf{l} | bf{l} | bf{l} | | | | | | | }\mat | }\mat | }\mat | | | | | | | hbf{\ | hbf{\ | hbf{\ | | | | | | | }}}_{ | }}}_{ | }}}_{ | | | | | | | \math | \math | \math | | | | | | | bf{l} | bf{l} | bf{l} | | | | | | | \math | \math | \math | | | | | | | bf{=} | bf{=} | bf{=} | | | | | | | \math | \math | \math | | | | | | | bf{1} | bf{1} | bf{1} | | | | | | | \math | \math | \math | | | | | | | bf{,} | bf{,} | bf{,} | | | | | | | \math | \math | \math | | | | | | | bf{\l | bf{\l | bf{\l | | | | | | | dots} | dots} | dots} | | | | | | | \math | \math | \math | | | | | | | bf{,} | bf{,} | bf{,} | | | | | | | \math | \math | \math | | | | | | | bf{\u | bf{\u | bf{\u | | | | | | | psilo | psilo | psilo | | | | | | | n}}$$ | n}}$$ | n}}$$ | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | 4 | N/A | N/A | N/A | $$3( | $$4( | N/A | | ank=1 | | | | | K^{\t | K^{\t | if | | | | | | | ext{N | ext{N | $K^{\ | | | | | | | Z}} - | Z}} - | text{ | | | | | | | 1)$$ | 1)$$ | NZ}} | | | | | | | | | = K_{ | | | | | | | | | 1}M$; | | | | | | | | | | | | | | | | | | $K_ | | | | | | | | | {1}M$ | | | | | | | | | othe | | | | | | | | | rwise | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | 4 | 4 | N/A | N/A | $$3( | $$4( | N/A | | ank=2 | | | | | K^{\t | K^{\t | if | | | | | | | ext{N | ext{N | $K^ | | | | | | | Z}} - | Z}} - | {\tex | | | | | | | 2)$$ | 2)$$ | t{NZ} | | | | | | | | | } = { | | | | | | | | | 2K}_{ | | | | | | | | | 1}M$; | | | | | | | | | | | | | | | | | | $ | | | | | | | | | {2K}_ | | | | | | | | | {1}M$ | | | | | | | | | othe | | | | | | | | | rwise | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | 4 | 4 | 4 | N/A | $$3( | $$4( | $ | | ank=3 | | | | | K^{\t | K^{\t | $3K_{ | | | | | | | ext{N | ext{N | 1}M$$ | | | | | | | Z}} - | Z}} - | | | | | | | | 3)$$ | 3)$$ | | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | 4 | 4 | 4 | 4 | $$3( | $$4( | $ | | ank=4 | | | | | K^{\t | K^{\t | $4K_{ | | | | | | | ext{N | ext{N | 1}M$$ | | | | | | | Z}} - | Z}} - | | | | | | | | 4)$$ | 4)$$ | | +-------+-------+-------+-------+-------+-------+-------+-------+ | NOTE: | | | | | | | | | the | | | | | | | | | bit | | | | | | | | | width | | | | | | | | | for | | | | | | | | | ${ | | | | | | | | | {{ i | | | | | | | | | }_{1, | | | | | | | | | 7,l}\ | | | | | | | | | }}_{l | | | | | | | | | = 1, | | | | | | | | | \ldot | | | | | | | | | s,\up | | | | | | | | | silon | | | | | | | | | }$_,_ | | | | | | | | | ${{\ | | | | | | | | | { i}_| | | | | | | | | {2,4, | | | | | | | | | l}}} | | | | | | | | |_{l = | | | | | | | | | 1,\l | | | | | | | | | dots, | | | | | | | | | \upsi | | | | | | | | | lon}$ | | | | | | | | | _and_ | | | | | | | | | ${{\ | | | | | | | | | { i}_| | | | | | | | | {2,5, | | | | | | | | | l}}} | | | | | | | | |_{l = | | | | | | | | | 1,\l | | | | | | | | | dots, | | | | | | | | | \upsi | | | | | | | | | lon}$ | | | | | | | | | shown | | | | | | | | | in | | | | | | | | | Table | | | | | | | | | 6. | | | | | | | | | 3.2.1 | | | | | | | | | .2-2B | | | | | | | | | is | | | | | | | | | the | | | | | | | | | total | | | | | | | | | bit | | | | | | | | | width | | | | | | | | | of | | | | | | | | | ${{ | | | | | | | | | i}_{ | | | | | | | | | 1,7,l | | | | | | | | | }}$, | | | | | | | | | ${\ | | | | | | | | | { i}_ | | | | | | | | | {2,4, | | | | | | | | | l}}$ | | | | | | | | | and | | | | | | | | | ${\ | | | | | | | | | { i}_| | | | | | | | | {2,5, | | | | | | | | | l}}$ | | | | | | | | | up to | | | | | | | | | Rank | | | | | | | | | = | | | | | | | | | $ | | | | | | | | | \upsi | | | | | | | | | lon$, | | | | | | | | | res | | | | | | | | | pecti | | | | | | | | | vely, | | | | | | | | | and | | | | | | | | | the | | | | | | | | | cor | | | | | | | | | respo | | | | | | | | | nding | | | | | | | | | per | | | | | | | | | layer | | | | | | | | | bitw | | | | | | | | | idths | | | | | | | | | are | | | | | | | | | $K_{ | | | | | | | | | 1}M$, | | | | | | | | | $3\le | | | | | | | | | ft( K | | | | | | | | | _{l}^ | | | | | | | | | {\tex | | | | | | | | | t{NZ} | | | | | | | | | } - 1 | | | | | | | | | \rig | | | | | | | | | ht)$, | | | | | | | | | and | | | | | | | | | 4$\le | | | | | | | | | ft( K | | | | | | | | |_{l}^ | | | | | | | | | {\tex | | | | | | | | | t{NZ} | | | | | | | | | } - 1 | | | | | | | | | \rig | | | | | | | | | ht)$, | | | | | | | | | ( | | | | | | | | | i.e., | | | | | | | | | 1, 3, | | | | | | | | | and 4 | | | | | | | | | bits | | | | | | | | | for | | | | | | | | | each | | | | | | | | | respe | | | | | | | | | ctive | | | | | | | | | indi | | | | | | | | | cator | | | | | | | | | ele | | | | | | | | | ments | | | | | | | | | $k_ | | | | | | | | | {l,i, | | | | | | | | | f}^{( | | | | | | | | | 3)}$, | | | | | | | | | $k_ | | | | | | | | | {l,i, | | | | | | | | | f}^{( | | | | | | | | | 2)}$, | | | | | | | | | and | | | | | | | | | $c | | | | | | | | | _{l,i | | | | | | | | | ,f}$, | | | | | | | | | resp | | | | | | | | | ectiv | | | | | | | | | ely), | | | | | | | | | where | | | | | | | | | $K_{ | | | | | | | | | l}^{\ | | | | | | | | | text{ | | | | | | | | | NZ}}$ | | | | | | | | | as | | | | | | | | | de | | | | | | | | | fined | | | | | | | | | in | | | | | | | | | C | | | | | | | | | lause | | | | | | | | | 5.2. | | | | | | | | | 2.2.7 | | | | | | | | | in TS | | | | | | | | | 3 | | | | | | | | | 8.214 | | | | | | | | | [6] | | | | | | | | | is | | | | | | | | | the | | | | | | | | | n | | | | | | | | | umber | | | | | | | | | of | | | | | | | | | no | | | | | | | | | nzero | | | | | | | | | co | | | | | | | | | effic | | | | | | | | | ients | | | | | | | | | for | | | | | | | | | layer | | | | | | | | | $l$ | | | | | | | | | such | | | | | | | | | that | | | | | | | | | $K^{ | | | | | | | | | \text | | | | | | | | | {NZ}} | | | | | | | | | = \s | | | | | | | | | um_{l | | | | | | | | | = 1} | | | | | | | | | ^{\up | | | | | | | | | silon | | | | | | | | | }K_{l | | | | | | | | | }^{\t | | | | | | | | | ext{N | | | | | | | | | Z}}$. | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+
If _csi-ReportSubConfig_ is configured, for a corresponding CSI sub-report,
the mapping order of CSI fields of one CSI sub-report is determined following
the procedure in this clause 6.3.2.1.2, by replacing CSI report #n in the
following Tables X, Y, Z with CSI sub-report #n.
The bitwidth for PMI of _codebookType=typeII-CJT-PortSelection_ is provided in
Tables 6.3.2.1.2-2C, where the values of $P_{CSI - RS}$,$\ \left{ K_{1,n}
\right}$,$\ K^{\text{NZ}}$, $N_{3}$, $N$, $M$ and $\sigma\left( n \right)$ are
given by Clause 5.2.2.2.9 in [6, TS 38.214].
Table 6.3.2.1.2-2C: PMI of codebookType= typeII-CJT-PortSelection
+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | | I | | | | | | | | | | nform | | | | | | | | | | ation | | | | | | | | | | f | | | | | | | | | | ields | | | | | | | | | | $\mat | | | | | | | | | | hbf{X | | | | | | | | | | }_{\m | | | | | | | | | | athbf | | | | | | | | | | {1}}$ | | | | | | | | +=======+=======+=======+=======+=======+=======+=======+=======+=======+ | | $$ | $$ | $$ | $$ | $$ | $$ | | | | | \math | \math | \math | \math | \math | \math | | | | | bf{i} | bf{i} | bf{i} | bf{i} | bf{i} | bf{i} | | | | |_{\ma | _{\ma |_{\ma | _{\ma |_{\ma | _{\ma | | | | | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | | | | | 1}\ma | 1}\ma | 1}\ma | 1}\ma | 1}\ma | 1}\ma | | | | | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | | | | | ,}\ma | ,}\ma | ,}\ma | ,}\ma | ,}\ma | ,}\ma | | | | | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | | | | | 2}}$$ | 6}}$$ | 8}\ma | 8}\ma | 8}\ma | 8}\ma | | | | | | | thbf{ | thbf{ | thbf{ | thbf{ | | | | | | | ,}\ma | ,}\ma | ,}\ma | ,}\ma | | | | | | | thbf{ | thbf{ | thbf{ | thbf{ | | | | | | | 1}}$$ | 2}}$$ | 3}}$$ | 4}}$$ | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | R | $ | $\ | $$ | N/A | N/A | N/A | | | | ank=1 | $\sum | left\ | \left | | | | | | | |_{n = | lceil | \lcei | | | | | | | | 0}^{ | \log | l \lo | | | | | | | | N_{0} | _{2}( | g_{2} | | | | | | | | - 1} | N - 1 | \left | | | | | | | | \left | ) \ri | ( \su | | | | | | | | \lcei | ght\r | m_{n | | | | | | | | l \lo | ceil$ | = 0}^ | | | | | | | | g_{2} | if _N | {N_{0 | | | | | | | | \begi | > | } - 1 | | | | | | | | n{pma | M=2_, | }K_{1 | | | | | | | | trix} | N/A | ,\sig | | | | | | | | P | othe | ma(n) | | | | | | | | _{\te | rwise | }M \r | | | | | | | | xt{CS | | ight) | | | | | | | | I} - | | \rig | | | | | | | | \text | | ht\rc | | | | | | | | {RS}} | | eil$$ | | | | | | | | /2 \ | | | | | | | | | | K_{1, | | | | | | | | | | \sigm | | | | | | | | | | a(n)} | | | | | | | | | | /2 \ | | | | | | | | | | \en | | | | | | | | | | d{pma | | | | | | | | | | trix} | | | | | | | | | | \rig | | | | | | | | | | ht\rc | | | | | | | | | | eil$$ | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | R | $ | $\ | $$ | $$ | N/A | N/A | | | | ank=2 | $\sum | left\ | \left | \left | | | | | | | _{n = | lceil | \lcei | \lcei | | | | | | | 0}^{ | \log | l \lo | l \lo | | | | | | | N_{0} | _{2}( | g_{2} | g_{2} | | | | | | | - 1} | N - 1 | \left | \left | | | | | | | \left | ) \ri | ( \su | ( \su | | | | | | | \lcei | ght\r | m_{n | m_{n | | | | | | | l \lo | ceil$ | = 0}^ | = 0}^ | | | | | | | g_{2} | if _N | {N_{0 | {N_{0 | | | | | | | \begi | > | } - 1 | } - 1 | | | | | | | n{pma | M=2_, | }K_{1 | }K_{1 | | | | | | | trix} | N/A | ,\sig | ,\sig | | | | | | | P | othe | ma(n) | ma(n) | | | | | | | _{\te | rwise | }M \r | }M \r | | | | | | | xt{CS | | ight) | ight) | | | | | | | I} - | | \rig | \rig | | | | | | | \text | | ht\rc | ht\rc | | | | | | | {RS}} | | eil$$ | eil$$ | | | | | | | /2 \ | | | | | | | | | | K_{1, | | | | | | | | | | \sigm | | | | | | | | | | a(n)} | | | | | | | | | | /2 \ | | | | | | | | | | \en | | | | | | | | | | d{pma | | | | | | | | | | trix} | | | | | | | | | | \rig | | | | | | | | | | ht\rc | | | | | | | | | | eil$$ | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | R | $ | $\ | $$ | $$ | $$ | N/A | | | | ank=3 | $\sum | left\ | \left | \left | \left | | | | | | _{n = | lceil | \lcei | \lcei | \lcei | | | | | | 0}^{ | \log | l \lo | l \lo | l \lo | | | | | | N_{0} | _{2}( | g_{2} | g_{2} | g_{2} | | | | | | - 1} | N - 1 | \left | \left | \left | | | | | | \left | ) \ri | ( \su | ( \su | ( \su | | | | | | \lcei | ght\r | m_{n | m_{n | m_{n | | | | | | l \lo | ceil$ | = 0}^ | = 0}^ | = 0}^ | | | | | | g_{2} | if _N | {N_{0 | {N_{0 | {N_{0 | | | | | | \begi | > | } - 1 | } - 1 | } - 1 | | | | | | n{pma | M=2_, | }K_{1 | }K_{1 | }K_{1 | | | | | | trix} | N/A | ,\sig | ,\sig | ,\sig | | | | | | P | othe | ma(n) | ma(n) | ma(n) | | | | | | _{\te | rwise | }M \r | }M \r | }M \r | | | | | | xt{CS | | ight) | ight) | ight) | | | | | | I} - | | \rig | \rig | \rig | | | | | | \text | | ht\rc | ht\rc | ht\rc | | | | | | {RS}} | | eil$$ | eil$$ | eil$$ | | | | | | /2 \ | | | | | | | | | | K_{1, | | | | | | | | | | \sigm | | | | | | | | | | a(n)} | | | | | | | | | | /2 \ | | | | | | | | | | \en | | | | | | | | | | d{pma | | | | | | | | | | trix} | | | | | | | | | | \rig | | | | | | | | | | ht\rc | | | | | | | | | | eil$$ | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | R | $ | $\ | $$ | $$ | $$ | $$ | | | | ank=4 | $\sum | left\ | \left | \left | \left | \left | | | | | _{n = | lceil | \lcei | \lcei | \lcei | \lcei | | | | | 0}^{ | \log | l \lo | l \lo | l \lo | l \lo | | | | | N_{0} | _{2}( | g_{2} | g_{2} | g_{2} | g_{2} | | | | | - 1} | N - 1 | \left | \left | \left | \left | | | | | \left | ) \ri | ( \su | ( \su | ( \su | ( \su | | | | | \lcei | ght\r | m_{n | m_{n | m_{n | m_{n | | | | | l \lo | ceil$ | = 0}^ | = 0}^ | = 0}^ | = 0}^ | | | | | g_{2} | if _N | {N_{0 | {N_{0 | {N_{0 | {N_{0 | | | | | \begi | > | } - 1 | } - 1 | } - 1 | } - 1 | | | | | n{pma | M=2_, | }K_{1 | }K_{1 | }K_{1 | }K_{1 | | | | | trix} | N/A | ,\sig | ,\sig | ,\sig | ,\sig | | | | | P | othe | ma(n) | ma(n) | ma(n) | ma(n) | | | | | _{\te | rwise | }M \r | }M \r | }M \r | }M \r | | | | | xt{CS | | ight) | ight) | ight) | ight) | | | | | I} - | | \rig | \rig | \rig | \rig | | | | | \text | | ht\rc | ht\rc | ht\rc | ht\rc | | | | | {RS}} | | eil$$ | eil$$ | eil$$ | eil$$ | | | | | /2 \ | | | | | | | | | | K_{1, | | | | | | | | | | \sigm | | | | | | | | | | a(n)} | | | | | | | | | | /2 \ | | | | | | | | | | \en | | | | | | | | | | d{pma | | | | | | | | | | trix} | | | | | | | | | | \rig | | | | | | | | | | ht\rc | | | | | | | | | | eil$$ | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | | I | | | | | | | | | | nform | | | | | | | | | | ation | | | | | | | | | | f | | | | | | | | | | ields | | | | | | | | | | $\mat | | | | | | | | | | hbf{X | | | | | | | | | | }_{\m | | | | | | | | | | athbf | | | | | | | | | | {2}}$ | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | | $$ | $$ | $$ | $$ | $${ | $${ | $$ | $${ | | | \math | \math | \math | \math | {\mat | {\mat | \math | {\mat | | | bf{i} | bf{i} | bf{i} | bf{i} | hbf{\ | hbf{\ | bf{i} | hbf{\ | | |_{\ma | _{\ma |_{\ma | _{\ma | {}\ma | {}\ma |_{\ma | {}\ma | | | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | | | 2}\ma | 2}\ma | 2}\ma | 2}\ma | i}}_{ | i}}_{ | 1}\ma | i}}_{ | | | thbf{ | thbf{ | thbf{ | thbf{ | \math | \math | thbf{ | \math | | | ,}\ma | ,}\ma | ,}\ma | ,}\ma | bf{2} | bf{2} | ,}\ma | bf{1} | | | thbf{ | thbf{ | thbf{ | thbf{ | \math | \math | thbf{ | \math | | | 3}\ma | 3}\ma | 3}\ma | 3}\ma | bf{,} | bf{,} | 9}}$$ | bf{,} | | | thbf{ | thbf{ | thbf{ | thbf{ | \math | \math | | \math | | | ,}\ma | ,}\ma | ,}\ma | ,}\ma | bf{4} | bf{5} | | bf{7} | | | thbf{ | thbf{ | thbf{ | thbf{ | \math | \math | | \math | | | 1}}$$ | 2}}$$ | 3}}$$ | 4}}$$ | bf{,} | bf{,} | | bf{,} | | | | | | | \math | \math | | \math | | | | | | | bf{l} | bf{l} | | bf{l} | | | | | | | }\mat | }\mat | | }\mat | | | | | | | hbf{\ | hbf{\ | | hbf{\ | | | | | | | }}}_{ | }}}_{ | | }}}_{ | | | | | | | \math | \math | | \math | | | | | | | bf{l} | bf{l} | | bf{l} | | | | | | | \math | \math | | \math | | | | | | | bf{=} | bf{=} | | bf{=} | | | | | | | \math | \math | | \math | | | | | | | bf{1} | bf{1} | | bf{1} | | | | | | | \math | \math | | \math | | | | | | | bf{,} | bf{,} | | bf{,} | | | | | | | \math | \math | | \math | | | | | | | bf{\l | bf{\l | | bf{\l | | | | | | | dots} | dots} | | dots} | | | | | | | \math | \math | | \math | | | | | | | bf{,} | bf{,} | | bf{,} | | | | | | | \math | \math | | \math | | | | | | | bf{\u | bf{\u | | bf{\u | | | | | | | psilo | psilo | | psilo | | | | | | | n}}$$ | n}}$$ | | n}}$$ | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | R | 4 | N/A | N/A | N/A | $$3( | $$4( | $ | N/A | | ank=1 | | | | | K^{\t | K^{\t | (N_{0 | if | | | | | | | ext{N | ext{N | } - 1 | $K^{ | | | | | | | Z}} - | Z}} - | )\lef | \text | | | | | | | 1)$$ | 1)$$ | t\lce | {NZ}} | | | | | | | | | il \l | = \s | | | | | | | | | og_{2 | um_{n | | | | | | | | | }O_{3 | = 0} | | | | | | | | | }N_{3 | ^{N_{ | | | | | | | | | } \ri | 0} - | | | | | | | | | ght\r | 1}K_{ | | | | | | | | | ceil$ | 1,\si | | | | | | | | | if | gma(n | | | | | | | | | _M | )}M$; | | | | | | | | | ode1_ | | | | | | | | | | is | $\ | | | | | | | | | c | sum_{ | | | | | | | | | onfig | n = 0 | | | | | | | | | ured, | }^{N_ | | | | | | | | | NA | {0} - | | | | | | | | | othe | 1}K_ | | | | | | | | | rwise | {1,\s | | | | | | | | | | igma( | | | | | | | | | | n)}M$ | | | | | | | | | | othe | | | | | | | | | | rwise | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | R | 4 | 4 | N/A | N/A | $$3( | $$4( | $ | N/A | | ank=2 | | | | | K^{\t | K^{\t | (N_{0 | if | | | | | | | ext{N | ext{N | } - 1 | $K^{\ | | | | | | | Z}} - | Z}} - | )\lef | text{ | | | | | | | 2)$$ | 2)$$ | t\lce | NZ}} | | | | | | | | | il \l | = 2\s | | | | | | | | | og_{2 | um_{n | | | | | | | | | }O_{3 | = 0} | | | | | | | | | }N_{3 | ^{N_{ | | | | | | | | | } \ri | 0} - | | | | | | | | | ght\r | 1}K_{ | | | | | | | | | ceil$ | 1,\si | | | | | | | | | if | gma(n | | | | | | | | | _M | )}M$; | | | | | | | | | ode1_ | | | | | | | | | | is | $2\ | | | | | | | | | c | sum_{ | | | | | | | | | onfig | n = 0 | | | | | | | | | ured, | }^{N_ | | | | | | | | | NA | {0} - | | | | | | | | | othe | 1}K_ | | | | | | | | | rwise | {1,\s | | | | | | | | | | igma( | | | | | | | | | | n)}M$ | | | | | | | | | | othe | | | | | | | | | | rwise | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | R | 4 | 4 | 4 | N/A | $$3( | $$4( | $ | $$3 | | ank=3 | | | | | K^{\t | K^{\t | (N_{0 | \bull | | | | | | | ext{N | ext{N | } - 1 | et \s | | | | | | | Z}} - | Z}} - | )\lef | um_{n | | | | | | | 3)$$ | 3)$$ | t\lce | = 0} | | | | | | | | | il \l | ^{N_{ | | | | | | | | | og_{2 | 0} - | | | | | | | | | }O_{3 | 1}K_{ | | | | | | | | | }N_{3 | 1,\si | | | | | | | | | } \ri | gma(n | | | | | | | | | ght\r | )}M$$ | | | | | | | | | ceil$ | | | | | | | | | | if | | | | | | | | | | _M | | | | | | | | | | ode1_ | | | | | | | | | | is | | | | | | | | | | c | | | | | | | | | | onfig | | | | | | | | | | ured, | | | | | | | | | | NA | | | | | | | | | | othe | | | | | | | | | | rwise | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | R | 4 | 4 | 4 | 4 | $$3( | $$4( | $ | $$4 | | ank=4 | | | | | K^{\t | K^{\t | (N_{0 | \bull | | | | | | | ext{N | ext{N | } - 1 | et \s | | | | | | | Z}} - | Z}} - | )\lef | um_{n | | | | | | | 4)$$ | 4)$$ | t\lce | = 0} | | | | | | | | | il \l | ^{N_{ | | | | | | | | | og_{2 | 0} - | | | | | | | | | }O_{3 | 1}K_{ | | | | | | | | | }N_{3 | 1,\si | | | | | | | | | } \ri | gma(n | | | | | | | | | ght\r | )}M$$ | | | | | | | | | ceil$ | | | | | | | | | | if | | | | | | | | | | _M | | | | | | | | | | ode1_ | | | | | | | | | | is | | | | | | | | | | c | | | | | | | | | | onfig | | | | | | | | | | ured, | | | | | | | | | | NA | | | | | | | | | | othe | | | | | | | | | | rwise | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | NOTE: | | | | | | | | | | the | | | | | | | | | | bit | | | | | | | | | | width | | | | | | | | | | for | | | | | | | | | | ${{{ | | | | | | | | | | i}_{ | | | | | | | | | | 1,7,l | | | | | | | | | | }}}_ | | | | | | | | | | {l = | | | | | | | | | | 1,\ld | | | | | | | | | | ots,\ | | | | | | | | | | upsil | | | | | | | | | | on}$, | | | | | | | | | | ${{\ | | | | | | | | | | { i}_| | | | | | | | | | {2,4, | | | | | | | | | | l}}} | | | | | | | | | |_{l = | | | | | | | | | | 1,\l | | | | | | | | | | dots, | | | | | | | | | | \upsi | | | | | | | | | | lon}$ | | | | | | | | | | and | | | | | | | | | | ${{\ | | | | | | | | | | { i}_| | | | | | | | | | {2,5, | | | | | | | | | | l}}} | | | | | | | | | |_{l = | | | | | | | | | | 1,\l | | | | | | | | | | dots, | | | | | | | | | | \upsi | | | | | | | | | | lon}$ | | | | | | | | | | shown | | | | | | | | | | in | | | | | | | | | | Table | | | | | | | | | | 6. | | | | | | | | | | 3.2.1 | | | | | | | | | | .2-2C | | | | | | | | | | is | | | | | | | | | | the | | | | | | | | | | total | | | | | | | | | | bit | | | | | | | | | | width | | | | | | | | | | of | | | | | | | | | | ${{ | | | | | | | | | | i}_{ | | | | | | | | | | 1,7,l | | | | | | | | | | }}$, | | | | | | | | | | ${\ | | | | | | | | | | { i}_ | | | | | | | | | | {2,4, | | | | | | | | | | l}}$ | | | | | | | | | | and | | | | | | | | | | ${\ | | | | | | | | | | { i}_| | | | | | | | | | {2,5, | | | | | | | | | | l}}$ | | | | | | | | | | up to | | | | | | | | | | Rank | | | | | | | | | | = | | | | | | | | | | $ | | | | | | | | | | \upsi | | | | | | | | | | lon$, | | | | | | | | | | res | | | | | | | | | | pecti | | | | | | | | | | vely, | | | | | | | | | | and | | | | | | | | | | the | | | | | | | | | | cor | | | | | | | | | | respo | | | | | | | | | | nding | | | | | | | | | | per | | | | | | | | | | layer | | | | | | | | | | bitw | | | | | | | | | | idths | | | | | | | | | | are | | | | | | | | | | $\s | | | | | | | | | | um_{n | | | | | | | | | | = 0} | | | | | | | | | | ^{N_{ | | | | | | | | | | 0} - | | | | | | | | | | 1}K_{ | | | | | | | | | | 1,\si | | | | | | | | | | gma(n | | | | | | | | | | )}M$, | | | | | | | | | | $3\le | | | | | | | | | | ft( K | | | | | | | | | | _{l}^ | | | | | | | | | | {\tex | | | | | | | | | | t{NZ} | | | | | | | | | | } - 1 | | | | | | | | | | \rig | | | | | | | | | | ht)$, | | | | | | | | | | and | | | | | | | | | | 4$\le | | | | | | | | | | ft( K | | | | | | | | | |_{l}^ | | | | | | | | | | {\tex | | | | | | | | | | t{NZ} | | | | | | | | | | } - 1 | | | | | | | | | | \rig | | | | | | | | | | ht)$, | | | | | | | | | | ( | | | | | | | | | | i.e., | | | | | | | | | | 1, 3, | | | | | | | | | | and 4 | | | | | | | | | | bits | | | | | | | | | | for | | | | | | | | | | each | | | | | | | | | | respe | | | | | | | | | | ctive | | | | | | | | | | indi | | | | | | | | | | cator | | | | | | | | | | ele | | | | | | | | | | ments | | | | | | | | | | $k_{l | | | | | | | | | | ,i,f, | | | | | | | | | | j}^{( | | | | | | | | | | 3)}$, | | | | | | | | | | $k_{l | | | | | | | | | | ,i,f, | | | | | | | | | | j}^{( | | | | | | | | | | 2)}$, | | | | | | | | | | and | | | | | | | | | | $c_{ | | | | | | | | | | l,i,f | | | | | | | | | | ,j}$, | | | | | | | | | | resp | | | | | | | | | | ectiv | | | | | | | | | | ely), | | | | | | | | | | where | | | | | | | | | | $K_{ | | | | | | | | | | l}^{\ | | | | | | | | | | text{ | | | | | | | | | | NZ}}$ | | | | | | | | | | as | | | | | | | | | | de | | | | | | | | | | fined | | | | | | | | | | in | | | | | | | | | | C | | | | | | | | | | lause | | | | | | | | | | 5.2. | | | | | | | | | | 2.2.9 | | | | | | | | | | in | | | | | | | | | | [6, | | | | | | | | | | TS | | | | | | | | | | 38. | | | | | | | | | | 214] | | | | | | | | | | is | | | | | | | | | | the | | | | | | | | | | n | | | | | | | | | | umber | | | | | | | | | | of | | | | | | | | | | no | | | | | | | | | | nzero | | | | | | | | | | co | | | | | | | | | | effic | | | | | | | | | | ients | | | | | | | | | | for | | | | | | | | | | layer | | | | | | | | | | $l$ | | | | | | | | | | such | | | | | | | | | | that | | | | | | | | | | $K^{ | | | | | | | | | | \text | | | | | | | | | | {NZ}} | | | | | | | | | | = \s | | | | | | | | | | um_{l | | | | | | | | | | = 1} | | | | | | | | | | ^{\up | | | | | | | | | | silon | | | | | | | | | | }K_{l | | | | | | | | | | }^{\t | | | | | | | | | | ext{N | | | | | | | | | | Z}}$. | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+
The bitwidth for PMI of _codebookType=typeII-Doppler-PortSelection_ is
provided in Tables 6.3.2.1.2-2D, where the values of $P_{CSI - RS}$,$\ K_{1}$,
$K^{\text{NZ}}$, $N_{3}$, $N$ and $M$ are given by Clause 5.2.2.2.11 in [6, TS
38.214].
Table 6.3.2.1.2-2D: PMI of codebookType= typeII-Doppler-PortSelection
+-------+-------+-------+-------+-------+-------+-------+-------+ | | I | | | | | | | | | nform | | | | | | | | | ation | | | | | | | | | f | | | | | | | | | ields | | | | | | | | | $\mat | | | | | | | | | hbf{X | | | | | | | | | }_{\m | | | | | | | | | athbf | | | | | | | | | {1}}$ | | | | | | | +=======+=======+=======+=======+=======+=======+=======+=======+ | | $$ | $$ | $$ | $$ | $$ | $$ | | | | \math | \math | \math | \math | \math | \math | | | | bf{i} | bf{i} | bf{i} | bf{i} | bf{i} | bf{i} | | | |_{\ma | _{\ma |_{\ma | _{\ma |_{\ma | _{\ma | | | | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | | | | 1}\ma | 1}\ma | 1}\ma | 1}\ma | 1}\ma | 1}\ma | | | | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | | | | ,}\ma | ,}\ma | ,}\ma | ,}\ma | ,}\ma | ,}\ma | | | | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | | | | 2}}$$ | 6}}$$ | 8}\ma | 8}\ma | 8}\ma | 8}\ma | | | | | | thbf{ | thbf{ | thbf{ | thbf{ | | | | | | ,}\ma | ,}\ma | ,}\ma | ,}\ma | | | | | | thbf{ | thbf{ | thbf{ | thbf{ | | | | | | 1}}$$ | 2}}$$ | 3}}$$ | 4}}$$ | | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | $$ | $\ | $$ | N/A | N/A | N/A | | | ank=1 | \left | left\ | \left | | | | | | | \lcei | lceil | \lcei | | | | | | | l \lo | \log | l \lo | | | | | | | g_{2} | _{2}( | g_{2} | | | | | | | \begi | N - 1 | {(K}_| | | | | | | n{pma | ) \ri | {1}M) | | | | | | | trix} | ght\r | \rig | | | | | | | P | ceil$ | ht\rc | | | | | | |_{\te | if _N | eil$$ | | | | | | | xt{CS | > | | | | | | | | I} - | M=2_, | | | | | | | | \text | N/A | | | | | | | | {RS}} | othe | | | | | | | | /2 \ | rwise | | | | | | | | K_{1} | | | | | | | | | /2 \ | | | | | | | | | \en | | | | | | | | | d{pma | | | | | | | | | trix} | | | | | | | | | \rig | | | | | | | | | ht\rc | | | | | | | | | eil$$ | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | $$ | $\ | $$ | $$ | N/A | N/A | | | ank=2 | \left | left\ | \left | \left | | | | | | \lcei | lceil | \lcei | \lcei | | | | | | l \lo | \log | l \lo | l \lo | | | | | | g_{2} | _{2}( | g_{2} | g_{2} | | | | | | \begi | N - 1 | {(K}_| {(K}_ | | | | | | n{pma | ) \ri | {1}M) | {1}M) | | | | | | trix} | ght\r | \rig | \rig | | | | | | P | ceil$ | ht\rc | ht\rc | | | | | | _{\te | if _N | eil$$ | eil$$ | | | | | | xt{CS | > | | | | | | | | I} - | M=2_, | | | | | | | | \text | N/A | | | | | | | | {RS}} | othe | | | | | | | | /2 \ | rwise | | | | | | | | K_{1} | | | | | | | | | /2 \ | | | | | | | | | \en | | | | | | | | | d{pma | | | | | | | | | trix} | | | | | | | | | \rig | | | | | | | | | ht\rc | | | | | | | | | eil$$ | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | $$ | $\ | $$ | $$ | $$ | N/A | | | ank=3 | \left | left\ | \left | \left | \left | | | | | \lcei | lceil | \lcei | \lcei | \lcei | | | | | l \lo | \log | l \lo | l \lo | l \lo | | | | | g_{2} | _{2}( | g_{2} | g_{2} | g_{2} | | | | | \begi | N - 1 | {(K}_| {(K}_ | {(K}_| | | | | n{pma | ) \ri | {1}M) | {1}M) | {1}M) | | | | | trix} | ght\r | \rig | \rig | \rig | | | | | P | ceil$ | ht\rc | ht\rc | ht\rc | | | | |_{\te | if _N | eil$$ | eil$$ | eil$$ | | | | | xt{CS | > | | | | | | | | I} - | M=2_, | | | | | | | | \text | N/A | | | | | | | | {RS}} | othe | | | | | | | | /2 \ | rwise | | | | | | | | K_{1} | | | | | | | | | /2 \ | | | | | | | | | \en | | | | | | | | | d{pma | | | | | | | | | trix} | | | | | | | | | \rig | | | | | | | | | ht\rc | | | | | | | | | eil$$ | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | $$ | $\ | $$\le | $$\le | $$\le | $$ | | | ank=4 | \left | left\ | ft\lc | ft\lc | ft\lc | \left | | | | \lcei | lceil | eil \ | eil \ | eil \ | \lcei | | | | l \lo | \log | log_{ | log_{ | log_{ | l \lo | | | | g_{2} | _{2}( | 2}(K_ | 2}(K_ | 2}(K_ | g_{2} | | | | \begi | N - 1 | {1}M) | {1}M) | {1}M) | {(K}_| | | | n{pma | ) \ri | \rig | \rig | \rig | {1}M) | | | | trix} | ght\r | ht\rc | ht\rc | ht\rc | \rig | | | | P | ceil$ | eil$$ | eil$$ | eil$$ | ht\rc | | | |_{\te | if _N | | | | eil$$ | | | | xt{CS | > | | | | | | | | I} - | M=2_, | | | | | | | | \text | N/A | | | | | | | | {RS}} | othe | | | | | | | | /2 \ | rwise | | | | | | | | K_{1} | | | | | | | | | /2 \ | | | | | | | | | \en | | | | | | | | | d{pma | | | | | | | | | trix} | | | | | | | | | \rig | | | | | | | | | ht\rc | | | | | | | | | eil$$ | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | I | | | | | | | | | nform | | | | | | | | | ation | | | | | | | | | f | | | | | | | | | ields | | | | | | | | | $\mat | | | | | | | | | hbf{X | | | | | | | | | }_{\m | | | | | | | | | athbf | | | | | | | | | {2}}$ | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | $$ | $$ | $$ | $$ | $${ | $${ | $${ | | | \math | \math | \math | \math | {\mat | {\mat | {\mat | | | bf{i} | bf{i} | bf{i} | bf{i} | hbf{\ | hbf{\ | hbf{\ | | |_{\ma | _{\ma |_{\ma | _{\ma | {}\ma | {}\ma | {}\ma | | | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | thbf{ | | | 2}\ma | 2}\ma | 2}\ma | 2}\ma | i}}_{ | i}}_{ | i}}_{ | | | thbf{ | thbf{ | thbf{ | thbf{ | \math | \math | \math | | | ,}\ma | ,}\ma | ,}\ma | ,}\ma | bf{2} | bf{2} | bf{1} | | | thbf{ | thbf{ | thbf{ | thbf{ | \math | \math | \math | | | 3}\ma | 3}\ma | 3}\ma | 3}\ma | bf{,} | bf{,} | bf{,} | | | thbf{ | thbf{ | thbf{ | thbf{ | \math | \math | \math | | | ,}\ma | ,}\ma | ,}\ma | ,}\ma | bf{4} | bf{5} | bf{7} | | | thbf{ | thbf{ | thbf{ | thbf{ | \math | \math | \math | | | 1}}$$ | 2}}$$ | 3}}$$ | 4}}$$ | bf{,} | bf{,} | bf{,} | | | | | | | \math | \math | \math | | | | | | | bf{l} | bf{l} | bf{l} | | | | | | | }\mat | }\mat | }\mat | | | | | | | hbf{\ | hbf{\ | hbf{\ | | | | | | | }}}_{ | }}}_{ | }}}_{ | | | | | | | \math | \math | \math | | | | | | | bf{l} | bf{l} | bf{l} | | | | | | | \math | \math | \math | | | | | | | bf{=} | bf{=} | bf{=} | | | | | | | \math | \math | \math | | | | | | | bf{1} | bf{1} | bf{1} | | | | | | | \math | \math | \math | | | | | | | bf{,} | bf{,} | bf{,} | | | | | | | \math | \math | \math | | | | | | | bf{\l | bf{\l | bf{\l | | | | | | | dots} | dots} | dots} | | | | | | | \math | \math | \math | | | | | | | bf{,} | bf{,} | bf{,} | | | | | | | \math | \math | \math | | | | | | | bf{\u | bf{\u | bf{\u | | | | | | | psilo | psilo | psilo | | | | | | | n}}$$ | n}}$$ | n}}$$ | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | 4 | N/A | N/A | N/A | $$3( | $$4( | N/A | | ank=1 | | | | | K^{\t | K^{\t | if | | | | | | | ext{N | ext{N | $K^{\ | | | | | | | Z}} - | Z}} - | text{ | | | | | | | 1)$$ | 1)$$ | NZ}} | | | | | | | | | = K_{ | | | | | | | | | 1}M$; | | | | | | | | | | | | | | | | | | $K_ | | | | | | | | | {1}M$ | | | | | | | | | othe | | | | | | | | | rwise | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | 4 | 4 | N/A | N/A | $$3( | $$4( | N/A | | ank=2 | | | | | K^{\t | K^{\t | if | | | | | | | ext{N | ext{N | $K^ | | | | | | | Z}} - | Z}} - | {\tex | | | | | | | 2)$$ | 2)$$ | t{NZ} | | | | | | | | | } = { | | | | | | | | | 2K}_{ | | | | | | | | | 1}M$; | | | | | | | | | | | | | | | | | | $ | | | | | | | | | {2K}_ | | | | | | | | | {1}M$ | | | | | | | | | othe | | | | | | | | | rwise | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | 4 | 4 | 4 | N/A | $$3( | $$4( | $ | | ank=3 | | | | | K^{\t | K^{\t | $3K_{ | | | | | | | ext{N | ext{N | 1}M$$ | | | | | | | Z}} - | Z}} - | | | | | | | | 3)$$ | 3)$$ | | +-------+-------+-------+-------+-------+-------+-------+-------+ | R | 4 | 4 | 4 | 4 | $$3( | $$4( | $ | | ank=4 | | | | | K^{\t | K^{\t | $4K_{ | | | | | | | ext{N | ext{N | 1}M$$ | | | | | | | Z}} - | Z}} - | | | | | | | | 4)$$ | 4)$$ | | +-------+-------+-------+-------+-------+-------+-------+-------+ | NOTE: | | | | | | | | | the | | | | | | | | | bit | | | | | | | | | width | | | | | | | | | for | | | | | | | | | ${ | | | | | | | | | {{ i | | | | | | | | | }_{1, | | | | | | | | | 7,l}\ | | | | | | | | | }}_{l | | | | | | | | | = 1, | | | | | | | | | \ldot | | | | | | | | | s,\up | | | | | | | | | silon | | | | | | | | | }$_,_ | | | | | | | | | ${{\ | | | | | | | | | { i}_| | | | | | | | | {2,4, | | | | | | | | | l}}} | | | | | | | | |_{l = | | | | | | | | | 1,\l | | | | | | | | | dots, | | | | | | | | | \upsi | | | | | | | | | lon}$ | | | | | | | | | _and_ | | | | | | | | | ${{\ | | | | | | | | | { i}_| | | | | | | | | {2,5, | | | | | | | | | l}}} | | | | | | | | |_{l = | | | | | | | | | 1,\l | | | | | | | | | dots, | | | | | | | | | \upsi | | | | | | | | | lon}$ | | | | | | | | | shown | | | | | | | | | in | | | | | | | | | Table | | | | | | | | | 6. | | | | | | | | | 3.2.1 | | | | | | | | | .2-2D | | | | | | | | | is | | | | | | | | | the | | | | | | | | | total | | | | | | | | | bit | | | | | | | | | width | | | | | | | | | of | | | | | | | | | ${{ | | | | | | | | | i}_{ | | | | | | | | | 1,7,l | | | | | | | | | }}$, | | | | | | | | | ${\ | | | | | | | | | { i}_ | | | | | | | | | {2,4, | | | | | | | | | l}}$ | | | | | | | | | and | | | | | | | | | ${\ | | | | | | | | | { i}_| | | | | | | | | {2,5, | | | | | | | | | l}}$ | | | | | | | | | up to | | | | | | | | | Rank | | | | | | | | | = | | | | | | | | | $ | | | | | | | | | \upsi | | | | | | | | | lon$, | | | | | | | | | res | | | | | | | | | pecti | | | | | | | | | vely, | | | | | | | | | and | | | | | | | | | the | | | | | | | | | cor | | | | | | | | | respo | | | | | | | | | nding | | | | | | | | | per | | | | | | | | | layer | | | | | | | | | bitw | | | | | | | | | idths | | | | | | | | | are | | | | | | | | | $K_{ | | | | | | | | | 1}M$, | | | | | | | | | $3\le | | | | | | | | | ft( K | | | | | | | | | _{l}^ | | | | | | | | | {\tex | | | | | | | | | t{NZ} | | | | | | | | | } - 1 | | | | | | | | | \rig | | | | | | | | | ht)$, | | | | | | | | | and | | | | | | | | | 4$\le | | | | | | | | | ft( K | | | | | | | | |_{l}^ | | | | | | | | | {\tex | | | | | | | | | t{NZ} | | | | | | | | | } - 1 | | | | | | | | | \rig | | | | | | | | | ht)$, | | | | | | | | | ( | | | | | | | | | i.e., | | | | | | | | | 1, 3, | | | | | | | | | and 4 | | | | | | | | | bits | | | | | | | | | for | | | | | | | | | each | | | | | | | | | respe | | | | | | | | | ctive | | | | | | | | | indi | | | | | | | | | cator | | | | | | | | | ele | | | | | | | | | ments | | | | | | | | | $k_ | | | | | | | | | {l,i, | | | | | | | | | f}^{( | | | | | | | | | 3)}$, | | | | | | | | | $k_ | | | | | | | | | {l,i, | | | | | | | | | f}^{( | | | | | | | | | 2)}$, | | | | | | | | | and | | | | | | | | | $c | | | | | | | | | _{l,i | | | | | | | | | ,f}$, | | | | | | | | | resp | | | | | | | | | ectiv | | | | | | | | | ely), | | | | | | | | | where | | | | | | | | | $K_{ | | | | | | | | | l}^{\ | | | | | | | | | text{ | | | | | | | | | NZ}}$ | | | | | | | | | as | | | | | | | | | de | | | | | | | | | fined | | | | | | | | | in | | | | | | | | | C | | | | | | | | | lause | | | | | | | | | 5.2.2 | | | | | | | | | .2.11 | | | | | | | | | in | | | | | | | | | [6, | | | | | | | | | TS | | | | | | | | | 38. | | | | | | | | | 214] | | | | | | | | | is | | | | | | | | | the | | | | | | | | | n | | | | | | | | | umber | | | | | | | | | of | | | | | | | | | no | | | | | | | | | nzero | | | | | | | | | co | | | | | | | | | effic | | | | | | | | | ients | | | | | | | | | for | | | | | | | | | layer | | | | | | | | | $l$ | | | | | | | | | such | | | | | | | | | that | | | | | | | | | $K^{ | | | | | | | | | \text | | | | | | | | | {NZ}} | | | | | | | | | = \s | | | | | | | | | um_{l | | | | | | | | | = 1} | | | | | | | | | ^{\up | | | | | | | | | silon | | | | | | | | | }K_{l | | | | | | | | | }^{\t | | | | | | | | | ext{N | | | | | | | | | Z}}$. | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+
For CSI on PUSCH, two UCI bit sequences are generated, and . The CSI fields of
all CSI reports, in the order from upper part to lower part in Table
6.3.2.1.2-6, are mapped to the UCI bit sequence starting with . The CSI fields
of all CSI reports, in the order from upper part to lower part in Table
6.3.2.1.2-7, are mapped to the UCI bit sequence starting with .
The mapping order of CSI fields of one report for CRI/RSRP or SSBRI/RSRP or
CRI/RSRP/CapabilityIndex or SSBRI/RSRP/CapabilityIndex reporting is provided
in Table 6.3.1.1.2-8. The mapping order of CSI fields of one report for inter-
cell SSBRI/RSRP reporting is provided in Table 6.3.1.1.2-8. The mapping order
of CSI fields of one report for CRI/SINR or SSBRI/SINR or
CRI/SINR/CapabilityIndex or SSBRI/SINR/CapabilityIndex reporting is provided
in Table 6.3.1.1.2-8A. The mapping order of CSI fields of one report for
group-based CRI/RSRP or SSBRI/RSRP reporting is provided in Table
6.3.1.1.2-8B. The mapping order of CSI fields of one report for TDCP reporting
is provided in Table 6.3.2.1.2-3C. The mapping order of CSI fields of one
report for SSBRI/RSRP reporting for L1/L2‑triggered mobility is provided in
Table 6.3.1.1.2-8C. The procedure in clause 6.3.2 described for CSI part 1 is
also applicable for one report for CRI/RSRP, SSBRI/RSRP, CRI/SINR, SSBRI/SINR
reporting, or TDCP reporting.
Table 6.3.2.1.2-3: Mapping order of CSI fields of one CSI report, CSI part 1
+----------------------------------+----------------------------------+ | CSI report number | CSI fields | +==================================+==================================+ | CSI report #n | CRI as in Tables | | | 6.3.1.1.2-3/4/6, if reported | | CSI part 1 | | +----------------------------------+----------------------------------+ | | Rank Indicator as in Tables | | | 6.3.1.1.2-3/4/5 or | | | 6.3.2.1.2-8/8A/8B/9/9A, if | | | reported | +----------------------------------+----------------------------------+ | | Wideband CQI for the first TB as | | | in Tables 6.3.1.1.2-3/4/5 or | | | 6.3.2.1.2-8/8A/8B/9/9A, if | | | reported | +----------------------------------+----------------------------------+ | | Subband differential CQI for the | | | first TB with increasing order | | | of subband number as in Tables | | | 6.3.1.1.2-3/4/5 or | | | 6.3.2.1.2-8/8A/8B/9/9A, if | | | reported | +----------------------------------+----------------------------------+ | | Indicator of the number of | | | non-zero wideband amplitude | | | coefficients $M_{0}$ for layer 0 | | | as in Table 6.3.1.1.2-5, if | | | reported | +----------------------------------+----------------------------------+ | | Indicator of the number of | | | non-zero wideband amplitude | | | coefficients $M_{1}$ for layer 1 | | | as in Table 6.3.1.1.2-5 (if the | | | rank according to the reported | | | RI is equal to one, this field | | | is set to all zeros), if 2-layer | | | PMI reporting is allowed | | | according to the rank | | | restriction in Clauses 5.2.2.2.3 | | | and 5.2.2.2.4 [6, TS 38.214] | | | and if reported | +----------------------------------+----------------------------------+ | | Indicator of the $N_{0}$ | | | selected CSI-RS resources by a | | | bitmap with $N_{\text{TRP}}$ | | | bits, this field is present only | | | if $N_{\text{TRP}} > 1$ and | | | _restrictedCMR-Selection_ is | | | configured to _OFF_ | +----------------------------------+----------------------------------+ | | Indicator of selected $L_{n}$ | | | value combination or | | | $\alpha_{n}$ value combination | | | with bitwidth of | | | $\left\lceil | | | \log_{2}{(N_{L})} \right\rceil$, | | | this field is present only if | | | $N_{L} > 1$ | +----------------------------------+----------------------------------+ | | Indicator of the total number of | | | non-zero coefficients summed | | | across all layers | | | $K^{\text{NZ}}$ as in | | | Tables 6.3.2.1.2-8/8A/8B/9/9A, | | | if reported | +----------------------------------+----------------------------------+ | NOTE: Subbands for given CSI | | | report _n_ indicated by the | | | higher layer parameter | | | _csi-ReportingBand_ are numbered | | | continuously in the increasing | | | order with the lowest subband of | | | _csi-ReportingBand_ as subband | | | 0. | | +----------------------------------+----------------------------------+
Table 6.3.2.1.2-3A: Mapping order of CSI fields of one CSI report, CSI part 1,
_csi-ReportMode= Mode 1_
+----------------------------------+----------------------------------+ | CSI report number | CSI fields | +==================================+==================================+ | CSI report #n | CRI as in Table 6.3.1.1.2-3A, if | | | associated with one CSI-RS | | CSI part 1 | resource pair and if reported | +----------------------------------+----------------------------------+ | | Rank Combination Indicator as in | | | Table 6.3.1.1.2-3A, if reported | +----------------------------------+----------------------------------+ | | Wideband CQI for the first TB as | | | in Table 6.3.1.1.2-3A, if | | | reported | +----------------------------------+----------------------------------+ | | Subband differential CQI for the | | | first TB with increasing order | | | of subband number as in | | | Table 6.3.1.1.2-3A, if reported | +----------------------------------+----------------------------------+ | | CRI as in Tables 6.3.1.1.2-3B, | | | if associated with one CSI-RS | | | resource, | | | _numberOfSingleTRP-CSI-Mode1 = | | | 1_ and if reported; | | | | | | First CRI as in Table | | | 6.3.1.1.2-3B, if associated with | | | one CSI-RS resource, | | | _numberOfSingleTRP-CSI-Mode1 = | | | 2_ and if reported | +----------------------------------+----------------------------------+ | | Rank Indicator associated with | | | CRI as in Table 6.3.1.1.2-3B, if | | | _numberOfSingleTRP-CSI-Mode1 =_ | | | 1 and if reported; | | | | | | Rank Indicator associated with | | | the first CRI as in Table | | | 6.3.1.1.2-3B, if | | | _numberOfSingleTRP-CSI-Mode1 =_ | | | 2 and if reported | +----------------------------------+----------------------------------+ | | Wideband CQI associated with CRI | | | for the first TB as in Table | | | 6.3.1.1.2-3B, if | | | _numberOfSingleTRP-CSI-Mode1 =_ | | | 1 and if reported; | | | | | | Wideband CQI associated with the | | | first CRI for the first TB as in | | | Table 6.3.1.1.2-3B, if | | | _numberOfSingleTRP-CSI-Mode1 = | | | 2_ and if reported | +----------------------------------+----------------------------------+ | | Subband differential CQI | | | associated with CRI for the | | | first TB with increasing order | | | of subband number as in Table | | | 6.3.1.1.2-3B, if | | | _numberOfSingleTRP-CSI-Mode1 =_ | | | 1 if reported; | | | | | | Subband differential CQI | | | associated with the first CRI | | | for the first TB with increasing | | | order of subband number as in | | | Table 6.3.1.1.2-3B, if | | | _numberOfSingleTRP-CSI-Mode1 =_ | | | 2 and if reported | +----------------------------------+----------------------------------+ | | Second CRI as in Table | | | 6.3.1.1.2-3B, if associated with | | | one CSI-RS resource, | | | _numberOfSingleTRP-CSI-Mode1 =_ | | | 2 and if reported | +----------------------------------+----------------------------------+ | | Rank Indicator associated with | | | the second CRI as in Table | | | 6.3.1.1.2-3B, if | | | _numberOfSingleTRP-CSI-Mode1 =_ | | | 2 and if reported | +----------------------------------+----------------------------------+ | | Wideband CQI associated with the | | | second CRI for the first TB as | | | in Table 6.3.1.1.2-3B, if | | | _numberOfSingleTRP-CSI-Mode1 =_ | | | 2 and if reported | +----------------------------------+----------------------------------+ | | Subband differential CQI | | | associated with the second CRI | | | for the first TB with increasing | | | order of subband number as in | | | Table 6.3.1.1.2-3B, if | | | _numberOfSingleTRP-CSI-Mode1 =_ | | | 2 and if reported | +----------------------------------+----------------------------------+ | NOTE: Subbands for given CSI | | | report _n_ indicated by the | | | higher layer parameter | | | _csi-ReportingBand_ are numbered | | | continuously in the increasing | | | order with the lowest subband of | | | _csi-ReportingBand_ as subband | | | 0. | | +----------------------------------+----------------------------------+
Table 6.3.2.1.2-3B: Mapping order of CSI fields of one CSI report, CSI part 1,
_csi-ReportMode= Mode 2_
+----------------------------------+----------------------------------+ | CSI report number | CSI fields | +==================================+==================================+ | CSI report #n | CRI as in Table 6.3.1.1.2-3A, if | | | associated with one CSI-RS | | CSI part 1 | resource pair and if reported; | | | | | | CRI as in Table 6.3.1.1.2-3B, if | | | associated with one CSI-RS | | | resource and if reported | +----------------------------------+----------------------------------+ | | Rank Combination Indicator as in | | | Table 6.3.1.1.2-3A, if | | | associated with one CSI-RS | | | resource pair and if reported; | | | | | | Rank Indicator as in Table | | | 6.3.1.1.2-3B, if associated with | | | one CSI-RS resource and if | | | reported; | | | | | | Zero padding bits $O_{P}$, if | | | needed | +----------------------------------+----------------------------------+ | | Wideband CQI for the first TB as | | | in Table 6.3.1.1.2-3A, if | | | associated with one CSI-RS | | | resource pair and if reported; | | | | | | Wideband CQI for the first TB as | | | in Table 6.3.1.1.2-3B, if | | | associated with one CSI-RS | | | resource and if reported | +----------------------------------+----------------------------------+ | | Subband differential CQI for the | | | first TB with increasing order | | | of subband number as in | | | Table 6.3.1.1.2-3A, if | | | associated with one CSI-RS | | | resource pair and if reported; | | | | | | Subband differential CQI for the | | | first TB with increasing order | | | of subband number as in | | | Table 6.3.1.1.2-3B, if | | | associated with one CSI-RS | | | resource and if reported | +----------------------------------+----------------------------------+ | NOTE: Subbands for given CSI | | | report _n_ indicated by the | | | higher layer parameter | | | _csi-ReportingBand_ are numbered | | | continuously in the increasing | | | order with the lowest subband of | | | _csi-ReportingBand_ as subband | | | 0. | | +----------------------------------+----------------------------------+
Table 6.3.2.1.2-3C: Mapping order of CSI fields of one CSI report for
_reportQuantity_ =_tdcp_
**CSI report number** **CSI fields**
* * *
CSI report #n Amplitude value for the configured delay values as in Table
6.3.2.1.2-10, if reported Phase value for the configured delay values as in
Table 6.3.2.1.2-10, if reported
The number of zero padding bits $O_{P}$ in Table 6.3.1.1.2-9B is 0 for 1 CSI-
RS port and $O_{P} = N_{\max} - N_{\text{reported}}(R)$ for more than 1 CSI-RS
port, where:
\- $N_{\max} = \max_{r \in S_{\text{Rank}}}{N(r)}\ $. $S_{\text{Rank}}\ $is
the set of rank and rank combination values _r_ that are allowed to be
reported. $N\left( r \right)$ is obtained according to Tables 6.3.1.1.2-3A/3B
for rank combination indicator and rank indicator respectively.
\- $N_{\text{reported}}\ (R)\ $is obtained according to Tables 6.3.1.1.2-3A
for rank combination indicator and _R_ is the reported rank combination
\- $N_{\text{reported}}\ (R)$ is obtained according to Tables 6.3.1.1.2-3B for
rank indicator and _R_ is the reported rank
Table 6.3.2.1.2-4: Mapping order of CSI fields of one CSI report, CSI part 2
wideband
+---------------------+-----------------------------------------------+ | CSI report number | CSI fields | +=====================+===============================================+ | CSI report #n | Wideband CQI for the second TB as in Tables | | | 6.3.1.1.2-3/4/5, if present and reported | | CSI part 2 wideband | | +---------------------+-----------------------------------------------+ | | Layer Indicator as in Tables 6.3.1.1.2-3/4/5, | | | if reported | +---------------------+-----------------------------------------------+ | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1/2 or | | | 6.3.2.1.2-1/2, if reported | +---------------------+-----------------------------------------------+ | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1/2 or | | | 6.3.2.1.2-1/2, or codebook index for 2 | | | antenna ports according to Clause 5.2.2.2.1 | | | in [6, TS38.214], if _pmi-FormatIndicator=_ | | | _widebandPMI_ and if reported | +---------------------+-----------------------------------------------+
Table 6.3.2.1.2-4A: Mapping order of CSI fields of one CSI report, CSI part 2
wideband,\ _csi-ReportMode= Mode 1_
+---------------------+-----------------------------------------------+ | CSI report number | CSI fields | +=====================+===============================================+ | CSI report #n | Two Layer Indicators as in Table | | | 6.3.1.1.2-3A, where the first Layer Indicator | | CSI part 2 wideband | and the second Layer Indicator are associated | | | with the first resource and the second | | | resource within the resource pair | | | respectively and if reported; | +---------------------+-----------------------------------------------+ | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1 associated | | | with the first resource within the CSI-RS | | | resource pair, if reported | +---------------------+-----------------------------------------------+ | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1, or | | | codebook index for 2 antenna ports according | | | to Clause 5.2.2.2.1 in [6, TS38.214] | | | associated with the first CSI-RS resource | | | within the CSI-RS resource pair, if | | | _pmi-FormatIndicator=_ _widebandPMI_ and if | | | reported | +---------------------+-----------------------------------------------+ | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1 associated | | | with the second resource within the CSI-RS | | | resource pair, if reported | +---------------------+-----------------------------------------------+ | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1, or | | | codebook index for 2 antenna ports according | | | to Clause 5.2.2.2.1 in [6, TS38.214] | | | associated with the second CSI-RS resource | | | within the CSI-RS resource pair, if | | | _pmi-FormatIndicator=_ _widebandPMI_ and if | | | reported | +---------------------+-----------------------------------------------+ | | Wideband CQI for the second TB as in Tables | | | 6.3.1.1.2-3B, if associated with CRI in CSI | | | part 1, _numberOfSingleTRP-CSI-Mode1 =_ 1 and | | | if reported; | | | | | | Wideband CQI for the second TB as in Tables | | | 6.3.1.1.2-3B, if associated with the first | | | CRI in CSI part 1, | | | _numberOfSingleTRP-CSI-Mode1 =_ 2 and if | | | reported | +---------------------+-----------------------------------------------+ | | Layer Indicator as in Table 6.3.1.1.2-3B, if | | | associated with CRI in CSI part 1, | | | _numberOfSingleTRP-CSI-Mode1 =_ 1 and if | | | reported; | | | | | | Layer Indicator as in Table 6.3.1.1.2-3B, if | | | associated with the first CRI in CSI part 1, | | | _numberOfSingleTRP-CSI-Mode1 =_ 2 and if | | | reported | +---------------------+-----------------------------------------------+ | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1, if | | | associated with CRI in CSI part 1, | | | _numberOfSingleTRP-CSI-Mode1 =_ 1 and if | | | reported; | | | | | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1, if | | | associated with the first CRI in CSI part 1, | | | _numberOfSingleTRP-CSI-Mode1 =_ 2 and if | | | reported | +---------------------+-----------------------------------------------+ | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1, or | | | codebook index for 2 antenna ports according | | | to Clause 5.2.2.2.1 in [6, TS38.214], if | | | associated with CRI in CSI part 1, | | | _pmi-FormatIndicator=_ _widebandPMI_ , | | | _numberOfSingleTRP-CSI-Mode1 =_ 1 and if | | | reported; | | | | | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1, or | | | codebook index for 2 antenna ports according | | | to Clause 5.2.2.2.1 in [6, TS38.214], if | | | associated with the first CRI in CSI part 1, | | | _pmi-FormatIndicator=_ _widebandPMI,_ | | | _numberOfSingleTRP-CSI-Mode1 =_ 2 and if | | | reported | +---------------------+-----------------------------------------------+ | | Wideband CQI for the second TB as in Tables | | | 6.3.1.1.2-3B, if associated with the second | | | CRI in CSI part 1, | | | _numberOfSingleTRP-CSI-Mode1 =_ 2 and if | | | reported | +---------------------+-----------------------------------------------+ | | Layer Indicator as in Table 6.3.1.1.2-3B, if | | | associated with the second CRI in CSI part 1, | | | _numberOfSingleTRP-CSI-Mode1 =_ 2 and if | | | reported | +---------------------+-----------------------------------------------+ | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1, if | | | associated with the second CRI in CSI part 1, | | | _numberOfSingleTRP-CSI-Mode1 =_ 2 and if | | | reported | +---------------------+-----------------------------------------------+ | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1, or | | | codebook index for 2 antenna ports according | | | to Clause 5.2.2.2.1 in [6, TS38.214], if | | | associated with the second CRI in CSI part 1, | | | _pmi-FormatIndicator=_ _widebandPMI_ , | | | _numberOfSingleTRP-CSI-Mode1 =_ 2 and if | | | reported | +---------------------+-----------------------------------------------+
Table 6.3.2.1.2-4B: Mapping order of CSI fields of one CSI report, CSI part 2
wideband,\ _csi-ReportMode= Mode 2_
+---------------------+-----------------------------------------------+ | CSI report number | CSI fields | +=====================+===============================================+ | CSI report #n | Wideband CQI for the second TB as in Tables | | | 6.3.1.1.2-3B, if reported part 1 is | | CSI part 2 wideband | associated with one CSI-RS resource and if | | | reported | +---------------------+-----------------------------------------------+ | | Two Layer Indicators as in Table | | | 6.3.1.1.2-3A, if reported part 1 is | | | associated with one CSI-RS resource pair, | | | where the first Layer Indicator and the | | | second Layer Indicator are associated with | | | the first resource and the second resource | | | within the resource pair respectively and if | | | reported; | | | | | | Layer Indicator as in Table 6.3.1.1.2-3B, if | | | reported part 1 is associated with one CSI-RS | | | resource and if reported | +---------------------+-----------------------------------------------+ | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1 associated | | | with the first resource within the CSI-RS | | | resource pair, if reported part 1 is | | | associated with one CSI-RS resource pair and | | | if reported | +---------------------+-----------------------------------------------+ | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1, or | | | codebook index for 2 antenna ports according | | | to Clause 5.2.2.2.1 in [6, TS38.214] | | | associated with the first CSI-RS resource | | | within the CSI-RS resource pair, if | | | _pmi-FormatIndicator=_ _widebandPMI_ and | | | reported part 1 is associated with one CSI-RS | | | resource pair and if reported | +---------------------+-----------------------------------------------+ | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1 associated | | | with the second CSI-RS resource within the | | | CSI-RS resource pair, if reported part 1 is | | | associated with one CSI-RS resource pair and | | | if reported | +---------------------+-----------------------------------------------+ | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1, or | | | codebook index for 2 antenna ports according | | | to Clause 5.2.2.2.1 in [6, TS38.214] | | | associated with the second CSI-RS resource | | | within the CSI-RS resource pair, if | | | _pmi-FormatIndicator=_ _widebandPMI_ and | | | reported part 1 is associated with one CSI-RS | | | resource pair and if reported | +---------------------+-----------------------------------------------+ | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1, if | | | reported part 1 is associated with one CSI-RS | | | resource and if reported | +---------------------+-----------------------------------------------+ | | PMI wideband information fields , from left | | | to right as in Tables 6.3.1.1.2-1, or | | | codebook index for 2 antenna ports according | | | to Clause 5.2.2.2.1 in [6, TS38.214], if | | | _pmi-FormatIndicator=_ _widebandPMI_ and | | | reported part 1 is associated with one CSI-RS | | | resource and if reported | +---------------------+-----------------------------------------------+
Table 6.3.2.1.2-5: Mapping order of CSI fields of one CSI report, CSI part 2
subband
+----------------------------------+----------------------------------+ | CSI report #n | Subband differential CQI for the | | | second TB of all even subbands | | Part 2 subband | with increasing order of subband | | | number, as in Tables | | | 6.3.1.1.2-3/4/5, if | | | _cqi-FormatIndicator=subbandCQI_ | | | and if reported | +==================================+==================================+ | | PMI subband information fields | | | of all even subbands with | | | increasing order of subband | | | number, from left to right as in | | | Tables 6.3.1.1.2-1/2 or | | | 6.3.2.1.2-1/2, or codebook index | | | for 2 antenna ports according to | | | Clause 5.2.2.2.1 in [6, | | | TS38.214] of all even subbands | | | with increasing order of subband | | | number, if | | | _pmi-FormatIndicator=_ | | | _subbandPMI_ and if reported | +----------------------------------+----------------------------------+ | | Subband differential CQI for the | | | second TB of all odd subbands | | | with increasing order of subband | | | number, as in Tables | | | 6.3.1.1.2-3/4/5, if | | | _cqi-FormatIndicator=subbandCQI_ | | | and if reported | +----------------------------------+----------------------------------+ | | PMI subband information fields | | | of all odd subbands with | | | increasing order of subband | | | number, from left to right as in | | | Tables 6.3.1.1.2-1/2 or | | | 6.3.2.1.2-1/2, or codebook index | | | for 2 antenna ports according to | | | Clause 5.2.2.2.1 in [6, | | | TS38.214] of all odd subbands | | | with increasing order of subband | | | number, if | | | _pmi-FormatIndicator=_ | | | _subbandPMI_ and if reported | +----------------------------------+----------------------------------+ | NOTE: Subbands for given CSI | | | report _n_ indicated by the | | | higher layer parameter | | | _csi-ReportingBand_ are numbered | | | continuously in the increasing | | | order with the lowest subband of | | | _csi-ReportingBand_ as subband | | | 0. | | +----------------------------------+----------------------------------+
Table 6.3.2.1.2-5A: Mapping order of CSI fields of one CSI report, CSI part 2
of\ _codebookType=typeII-r16 or typeII-PortSelection-r16_
+---------------------+-----------------------------------------------+ | CSI report number | CSI fields | +=====================+===============================================+ | CSI report #n | PMI fields $X_{1}$, from left to right as in | | | Tables 6.3.2.1.2-1A/2A, if reported | | CSI part 2, group 0 | | +---------------------+-----------------------------------------------+ | CSI report #n | The following PMI fields $X_{2}$, from left | | | to right, as in Tables | | CSI part 2, group 1 | 6.3.2.1.2-1A/2A:$\ \left | | | { i_{2,3,l}:l = 1,\ldots,\upsilon \right}$, | | | $i_{1,5}$, | | | $\lef | | | t{ i_{1,6,l}:l = 1,\ldots,\upsilon \right}$ | | | and | | | $max(0,\left\lceil \frac{K^{\tex | | | t{NZ}}}{2} \right\rceil - \upsilon) \times 3$ | | | highest priority bits of | | | | | | $\left{ i_{2,4,l}:l = 1,\ldots,\ups | | | ilon \right},max(0,\left\lceil \frac{K^{\tex | | | t{NZ}}}{2} \right\rceil - \upsilon) \times 4$ | | | highest priority bits of | | | ${ i_{2,5,l}:l = 1,\ldots,\upsilon}$ | | | and$\ \nu*2LM_{\upsilon} | | | - \left\lfloor K^{\text{NZ}}/2 \right\rfloor$ | | | highest priority bits | | | of$\left | | | { i_{1,7,l}:l = 1,\ldots,\upsilon \right}$, | | | in decreasing order of priority based on the | | | corresponding function | | | $\text{Pri}\left( l,i,f \right)$ defined in | | | clause 5.2.3 of TS 38.214 [6], if reported | +---------------------+-----------------------------------------------+ | CSI report #n | The following PMI fields $X_{2}$, from left | | | to right, as in Tables | | CSI part 2, group 2 | 6.3.2.1.2-1A/2A$:\ \min\left | | | ( K^{\text{NZ}} - v,\ \left\lfloor \frac{K^{\ | | | text{NZ}}}{2} \right\rfloor \right) \times 3$ | | | lowest priority bits of | | | $\left{ i_{2, | | | 4,l}:l = 1,\ldots,\upsilon \right},\min\left | | | ( K^{\text{NZ}} - v,\ \left\lfloor \frac{K^{\ | | | text{NZ}}}{2} \right\rfloor \right) \times 4$ | | | lowest priority bits of | | | $\lef | | | t{ i_{2,5,l}:l = 1,\ldots,\upsilon \right}$ | | | and | | | $\left\lfloor K^{\text{NZ}}/2 \right\rfloor$ | | | lowest priority bits of | | | $\left | | | { i_{1,7,l}:l = 1,\ldots,\upsilon \right}$, | | | in decreasing order of priority based on the | | | corresponding function | | | $\text{Pri}\left( l,i,f \right)$ defined in | | | clause 5.2.3 of TS 38.214 [6], if reported | +---------------------+-----------------------------------------------+
Table 6.3.2.1.2-5B: Mapping order of CSI fields of one CSI report, CSI part 2
of\ _codebookType=typeII-PortSelection-r17 or typeII-Doppler-PortSelection_
+---------------------+-----------------------------------------------+ | CSI report number | CSI fields | +=====================+===============================================+ | CSI report #n | PMI fields $X_{1}$, from left to right as in | | | Table 6.3.2.1.2-2B, if reported | | CSI part 2, group 0 | | +---------------------+-----------------------------------------------+ | CSI report #n | The following PMI fields $X_{2}$, from left | | | to right, as in Table | | CSI part 2, group 1 | 6.3.2.1.2 | | | -2B:$\ \left{ i_{2,3,l}:l = 1,\ldots,\upsilo | | | n \right}\ (max(0,\left\lceil \frac{K^{\text | | | {NZ}}}{2} \right\rceil - \upsilon)) \times 3$ | | | highest priority bits of | | | | | | $\left{ i_{2,4,l}:l = 1,\ldots,\upsil | | | on \right},(max(0,\left\lceil \frac{K^{\text | | | {NZ}}}{2} \right\rceil - \upsilon)) \times 4$ | | | highest priority bits of | | | ${ i_{2,5,l}:l = 1,\ldots,\upsilon}$ | | | and$\ \nu*K_{1}M | | | - \left\lfloor K^{\text{NZ}}/2 \right\rfloor$ | | | highest priority bits | | | of$\left | | | { i_{1,7,l}:l = 1,\ldots,\upsilon \right}$, | | | in decreasing order of priority based on the | | | corresponding function | | | $\text{Pri}\left( l,i,f \right)$ defined in | | | clause 5.2.3 of TS 38.214 [6], if reported | +---------------------+-----------------------------------------------+ | CSI report #n | The following PMI fields $X_{2}$, from left | | | to right, as in Table | | CSI part 2, group 2 | 6.3.2.1.2-2B$:\ (\min\left( | | | K^{\text{NZ}} - v,\ \left\lfloor \frac{K^{\t | | | ext{NZ}}}{2} \right\rfloor \right)) \times 3$ | | | lowest priority bits of | | | $\left{ i_{2,4, | | | l}:l = 1,\ldots,\upsilon \right},(\min\left( | | | K^{\text{NZ}} - v,\ \left\lfloor \frac{K^{\t | | | ext{NZ}}}{2} \right\rfloor \right)) \times 4$ | | | lowest priority bits of | | | $\lef | | | t{ i_{2,5,l}:l = 1,\ldots,\upsilon \right}$ | | | and | | | $\left\lfloor K^{\text{NZ}}/2 \right\rfloor$ | | | lowest priority bits of | | | $\left | | | { i_{1,7,l}:l = 1,\ldots,\upsilon \right}$, | | | in decreasing order of priority based on the | | | corresponding function | | | $\text{Pri}\left( l,i,f \right)$ defined in | | | clause 5.2.3 of TS 38.214 [6], if reported | +---------------------+-----------------------------------------------+
Table 6.3.2.1.2-5C: Mapping order of CSI fields of one CSI report, CSI part 2
subband,\ _ReportMode= Mode 1_
+----------------+----------------------------------------------------+ | CSI report #n | PMI subband information fields of all even | | | subbands with increasing order of subband number, | | Part 2 subband | from left to right as in Tables 6.3.1.1.2-1, or | | | codebook index for 2 antenna ports associated with | | | the first resource within the CSI-RS resource | | | pair, according to Clause 5.2.2.2.1 in [6, | | | TS38.214] of all even subbands with increasing | | | order of subband number, if _pmi-FormatIndicator=_ | | | _subbandPMI_ and if reported | +================+====================================================+ | | PMI subband information fields of all even | | | subbands with increasing order of subband number, | | | from left to right as in Tables 6.3.1.1.2-1, or | | | codebook index for 2 antenna ports associated with | | | the second resource within the CSI-RS resource | | | pair, according to Clause 5.2.2.2.1 in [6, | | | TS38.214] of all even subbands with increasing | | | order of subband number, if _pmi-FormatIndicator=_ | | | _subbandPMI_ and if reported | +----------------+----------------------------------------------------+ | | Subband differential CQI for the second TB of all | | | even subbands with increasing order of subband | | | number associated with CRI in CSI part 1, as in | | | Tables 6.3.1.1.2-3B, if | | | _cqi-FormatIndicator=subbandCQI_ , | | | _numberOfSingleTRP-CSI-Mode1 =_ 1 and if reported; | | | | | | Subband differential CQI for the second TB of all | | | even subbands with increasing order of subband | | | number associated with the first CRI in CSI part | | | 1, as in Tables 6.3.1.1.2-3B, if | | | _cqi-FormatIndicator=subbandCQI_ , | | | _numberOfSingleTRP-CSI-Mode1 =_ 2 and if reported | +----------------+----------------------------------------------------+ | | PMI subband information fields of all even | | | subbands with increasing order of subband number, | | | from left to right as in Tables 6.3.1.1.2-1, or | | | codebook index for 2 antenna ports associated with | | | CRI in CSI part 1 according to Clause 5.2.2.2.1 in | | | [6, TS38.214] of all even subbands with | | | increasing order of subband number, if | | | _pmi-FormatIndicator=_ _subbandPMI_ , | | | _numberOfSingleTRP-CSI-Mode1 =_ 1 and if reported; | | | | | | PMI subband information fields of all even | | | subbands with increasing order of subband number, | | | from left to right as in Tables 6.3.1.1.2-1, or | | | codebook index for 2 antenna ports associated with | | | the first CRI in CSI part 1 according to Clause | | | 5.2.2.2.1 in [6, TS38.214] of all even subbands | | | with increasing order of subband number, if | | | _pmi-FormatIndicator=_ _subbandPMI_ , | | | _numberOfSingleTRP-CSI-Mode1 =_ 2 and if reported | +----------------+----------------------------------------------------+ | | Subband differential CQI for the second TB of all | | | even subbands with increasing order of subband | | | number associated with the second CRI in CSI part | | | 1, as in Tables 6.3.1.1.2-3B, if | | | _cqi-FormatIndicator=subbandCQI_ , | | | _numberOfSingleTRP-CSI-Mode1 =_ 2 and if reported | +----------------+----------------------------------------------------+ | | PMI subband information fields of all even | | | subbands with increasing order of subband number, | | | from left to right as in Tables 6.3.1.1.2-1, or | | | codebook index for 2 antenna ports associated with | | | the second CRI in CSI part 1 according to Clause | | | 5.2.2.2.1 in [6, TS38.214] of all even subbands | | | with increasing order of subband number, if | | | _pmi-FormatIndicator=_ _subbandPMI_ , | | | _numberOfSingleTRP-CSI-Mode1 =_ 2 and if reported | +----------------+----------------------------------------------------+ | | PMI subband information fields of all odd subbands | | | with increasing order of subband number, from left | | | to right as in Tables 6.3.1.1.2-1, or codebook | | | index for 2 antenna ports associated with the | | | first resource within the CSI-RS resource pair, | | | according to Clause 5.2.2.2.1 in [6, TS38.214] | | | of all odd subbands with increasing order of | | | subband number, if _pmi-FormatIndicator=_ | | | _subbandPMI_ and if reported | +----------------+----------------------------------------------------+ | | PMI subband information fields of all odd subbands | | | with increasing order of subband number, from left | | | to right as in Tables 6.3.1.1.2-1, or codebook | | | index for 2 antenna ports associated with the | | | second resource within the CSI-RS resource pair, | | | according to Clause 5.2.2.2.1 in [6, TS38.214] | | | of all odd subbands with increasing order of | | | subband number, if _pmi-FormatIndicator=_ | | | _subbandPMI_ and if reported | +----------------+----------------------------------------------------+ | | Subband differential CQI for the second TB of all | | | odd subbands with increasing order of subband | | | number associated with CRI in CSI part 1, as in | | | Tables 6.3.1.1.2-3B, if | | | _cqi-FormatIndicator=subbandCQI_ , | | | _numberOfSingleTRP-CSI-Mode1 =_ 1 and if reported; | | | | | | Subband differential CQI for the second TB of all | | | odd subbands with increasing order of subband | | | number associated with the first CRI in CSI part | | | 1, as in Tables 6.3.1.1.2-3B, if | | | _cqi-FormatIndicator=subbandCQI_ , | | | _numberOfSingleTRP-CSI-Mode1 =_ 2 and if reported | +----------------+----------------------------------------------------+ | | PMI subband information fields of all odd subbands | | | with increasing order of subband number, from left | | | to right as in Tables 6.3.1.1.2-1, or codebook | | | index for 2 antenna ports associated with CRI in | | | CSI part 1 according to Clause 5.2.2.2.1 in [6, | | | TS38.214] of all odd subbands with increasing | | | order of subband number, if _pmi-FormatIndicator=_ | | | _subbandPMI_ , _numberOfSingleTRP-CSI-Mode1 =_ 1 | | | and if reported; | | | | | | PMI subband information fields of all odd subbands | | | with increasing order of subband number, from left | | | to right as in Tables 6.3.1.1.2-1, or codebook | | | index for 2 antenna ports associated with the | | | first CRI in CSI part 1 according to Clause | | | 5.2.2.2.1 in [6, TS38.214] of all odd subbands | | | with increasing order of subband number, if | | | _pmi-FormatIndicator=_ _subbandPMI_ , | | | _numberOfSingleTRP-CSI-Mode1 =_ 2 and if reported | +----------------+----------------------------------------------------+ | | Subband differential CQI for the second TB of all | | | odd subbands with increasing order of subband | | | number associated with the second CRI in CSI part | | | 1, as in Tables 6.3.1.1.2-3B, if | | | _cqi-FormatIndicator=subbandCQI_ , | | | _numberOfSingleTRP-CSI-Mode1 =_ 2 and if reported | +----------------+----------------------------------------------------+ | | PMI subband information fields of all odd subbands | | | with increasing order of subband number, from left | | | to right as in Tables 6.3.1.1.2-1, or codebook | | | index for 2 antenna ports associated with the | | | second CRI in CSI part 1 according to Clause | | | 5.2.2.2.1 in [6, TS38.214] of all odd subbands | | | with increasing order of subband number, if | | | _pmi-FormatIndicator=_ _subbandPMI_ , | | | _numberOfSingleTRP-CSI-Mode1 =_ 2 and if reported | +----------------+----------------------------------------------------+
Table 6.3.2.1.2-5D: Mapping order of CSI fields of one CSI report, CSI part 2
subband,\ _ReportMode= Mode 2_
+----------------+----------------------------------------------------+ | CSI report #n | PMI subband information fields of all even | | | subbands with increasing order of subband number, | | Part 2 subband | from left to right as in Tables 6.3.1.1.2-1, or | | | codebook index for 2 antenna ports associated with | | | the first resource within the CSI-RS resource | | | pair, according to Clause 5.2.2.2.1 in [6, | | | TS38.214] of all even subbands with increasing | | | order of subband number, if _pmi-FormatIndicator=_ | | | _subbandPMI_ and reported part 1 is associated | | | with one CSI-RS resource pair and if reported | +================+====================================================+ | | PMI subband information fields of all even | | | subbands with increasing order of subband number, | | | from left to right as in Tables 6.3.1.1.2-1, or | | | codebook index for 2 antenna ports associated with | | | the second resource within the CSI-RS resource | | | pair, according to Clause 5.2.2.2.1 in [6, | | | TS38.214] of all even subbands with increasing | | | order of subband number, if _pmi-FormatIndicator=_ | | | _subbandPMI_ and reported part 1 is associated | | | with one CSI-RS resource pair and if reported | +----------------+----------------------------------------------------+ | | PMI subband information fields of all odd subbands | | | with increasing order of subband number, from left | | | to right as in Tables 6.3.1.1.2-1, or codebook | | | index for 2 antenna ports associated with the | | | first resource within the CSI-RS resource pair, | | | according to Clause 5.2.2.2.1 in [6, TS38.214] | | | of all odd subbands with increasing order of | | | subband number, if _pmi-FormatIndicator=_ | | | _subbandPMI_ and reported part 1 is associated | | | with one CSI-RS resource pair and if reported | +----------------+----------------------------------------------------+ | | PMI subband information fields of all odd subbands | | | with increasing order of subband number, from left | | | to right as in Tables 6.3.1.1.2-1, or codebook | | | index for 2 antenna ports associated with the | | | second resource within the CSI-RS resource pair, | | | according to Clause 5.2.2.2.1 in [6, TS38.214] | | | of all odd subbands with increasing order of | | | subband number, if _pmi-FormatIndicator=_ | | | _subbandPMI_ and reported part 1 is associated | | | with one CSI-RS resource pair and if reported | +----------------+----------------------------------------------------+ | | Subband differential CQI for the second TB of all | | | even subbands with increasing order of subband | | | number associated with one CSI-RS resource, as in | | | Tables 6.3.1.1.2-3B, if | | | _cqi-FormatIndicator=subbandCQI_ and reported part | | | 1 is associated with one CSI-RS resource and if | | | reported | +----------------+----------------------------------------------------+ | | PMI subband information fields of all even | | | subbands with increasing order of subband number, | | | from left to right as in Tables 6.3.1.1.2-1, or | | | codebook index for 2 antenna ports associated with | | | one CSI-RS resource according to Clause 5.2.2.2.1 | | | in [6, TS38.214] of all even subbands with | | | increasing order of subband number, if | | | _pmi-FormatIndicator=_ _subbandPMI_ and reported | | | part 1 is associated with one CSI-RS resource and | | | if reported | +----------------+----------------------------------------------------+ | | Subband differential CQI for the second TB of all | | | odd subbands with increasing order of subband | | | number associated with one CSI-RS resource, as in | | | Tables 6.3.1.1.2-3B, if | | | _cqi-FormatIndicator=subbandCQI_ and reported part | | | 1 is associated with one CSI-RS resource and if | | | reported | +----------------+----------------------------------------------------+ | | PMI subband information fields of all odd subbands | | | with increasing order of subband number, from left | | | to right as in Tables 6.3.1.1.2-1/2, or codebook | | | index for 2 antenna ports associated with one | | | CSI-RS resource according to Clause 5.2.2.2.1 in | | | [6, TS38.214] of all odd subbands with | | | increasing order of subband number, if | | | _pmi-FormatIndicator=_ _subbandPMI_ and reported | | | part 1 is associated with one CSI-RS resource and | | | if reported | +----------------+----------------------------------------------------+
Table 6.3.2.1.2-5E: Mapping order of CSI fields of one CSI report, CSI part 2
of\ _codebookType=typeII-CJT_
+-----------------------+---------------------------------------------+ | **CSI report number** | **CSI fields** | +=======================+=============================================+ | CSI report #n | PMI fields $X_{1}$, from left to right as | | | in Table 6.3.2.1.2-1B, if reported; | | CSI part 2, group 0 | | +-----------------------+---------------------------------------------+ | CSI report #n | The following PMI fields $X_{2}$, from left | | | to right, as in Table | | CSI part 2, group 1 | 6.3.2.1.2-1B:$\ \left{ | | | i_{2,3,l}:l = 1,\ldots,\upsilon \right}$, | | | $i_{1,5}$, | | | $\left{ | | | i_{1,6,l}:l = 1,\ldots,\upsilon \right}$, | | | $i_{1,9}$, and | | | $max(0,\left\lceil \frac{K^{\text{ | | | NZ}}}{2} \right\rceil - \upsilon) \times 3$ | | | highest priority bits of | | | $\left{ i_{2,4,l}:l = 1,\ldots,\upsilon | | | \right},max(0,\left\lceil \frac{K^{\text{ | | | NZ}}}{2} \right\rceil - \upsilon) \times 4$ | | | highest priority bits of | | | ${ i_{2,5,l}:l = 1,\ldots,\upsilon}$ | | | and$\text{\ ν}*2 \bullet \sum_{n = | | | 0}^{N_{0} - 1}L_{\sigma(n)}M_{\upsilon} - | | | \left\lfloor K^{\text{NZ}}/2 \right\rfloor$ | | | highest priority bits | | | of$\left{ | | | i_{1,7,l}:l = 1,\ldots,\upsilon \right}$, | | | in decreasing order of priority based on | | | the corresponding function | | | $\text{Pri}\left( l,n,\ i,f \right)$ | | | defined in clause 5.2.3 of TS 38.214 [6], | | | if present and if reported; | +-----------------------+---------------------------------------------+ | CSI report #n | The following PMI fields $X_{2}$, from left | | | to right, as in Table | | CSI part 2, group 2 | 6.3.2.1.2-1B$:\ \min\left( K^ | | | {\text{NZ}} - v,\ \left\lfloor \frac{K^{\te | | | xt{NZ}}}{2} \right\rfloor \right) \times 3$ | | | lowest priority bits of | | | $\left{ i_{2,4,l}:l | | | = 1,\ldots,\upsilon \right},\min\left( K^ | | | {\text{NZ}} - v,\ \left\lfloor \frac{K^{\te | | | xt{NZ}}}{2} \right\rfloor \right) \times 4$ | | | lowest priority bits of | | | $\left\ | | | { i_{2,5,l}:l = 1,\ldots,\upsilon \right}$ | | | and | | | $ | | | \left\lfloor K^{\text{NZ}}/2 \right\rfloor$ | | | lowest priority bits of | | | $\left{ | | | i_{1,7,l}:l = 1,\ldots,\upsilon \right}$, | | | in decreasing order of priority based on | | | the corresponding function | | | $\text{Pri}\left( l,n,\ i,f \right)$ | | | defined in clause 5.2.3 of TS 38.214 [6], | | | if reported; | +-----------------------+---------------------------------------------+
Table 6.3.2.1.2-5F: Mapping order of CSI fields of one CSI report, CSI part 2
of\ _codebookType= typeII-Doppler_
+-----------------------+---------------------------------------------+ | **CSI report number** | **CSI fields** | +=======================+=============================================+ | CSI report #n | PMI fields $X_{1}$, from left to right as | | | in Table 6.3.2.1.2-1C, if reported; | | CSI part 2, group 0 | | | | The second time-domain wideband CQI as in | | | Table 6.3.1.1.2-8B, if present and reported | +-----------------------+---------------------------------------------+ | CSI report #n | The following PMI fields $X_{2}$, from left | | | to right, as in Table | | CSI part 2, group 1 | 6.3.2.1.2-1C:$\ \left{ | | | i_{2,3,l}:l = 1,\ldots,\upsilon \right}$, | | | $i_{1,5}$, | | | $\left{ | | | i_{1,6,l}:l = 1,\ldots,\upsilon \right}$, | | | $\left{ | | | i_{1,10,l}:l = 1,\ldots,\upsilon \right}$, | | | and | | | $max(0,\left\lceil \frac{K^{\text{ | | | NZ}}}{2} \right\rceil - \upsilon) \times 3$ | | | highest priority bits of | | | | | | $\left{ i_{2,4,l}:l = 1,\ldots,\upsilon | | | \right},max(0,\left\lceil \frac{K^{\text{ | | | NZ}}}{2} \right\rceil - \upsilon) \times 4$ | | | highest priority bits of | | | ${ i_{2,5,l}:l = 1,\ldots,\upsilon}$ | | | and$\ \nu*2LM_{\upsilon}Q - | | | \left\lfloor K^{\text{NZ}}/2 \right\rfloor$ | | | highest priority bits | | | of$\left{ | | | i_{1,7,l}:l = 1,\ldots,\upsilon \right}$, | | | in decreasing order of priority based on | | | the corresponding function | | | $\text{Pri}\left( l,i,f,\ q \right)$ | | | defined in clause 5.2.3 of TS 38.214 [6], | | | if present and if reported; | | | | | | The second time-domain subband differential | | | CQI of all even subbands with increasing | | | order of subband number, as in Table | | | 6.3.1.1.2-8B, if present and if reported | +-----------------------+---------------------------------------------+ | CSI report #n | The following PMI fields $X_{2}$, from left | | | to right, as in Table | | CSI part 2, group 2 | 6.3.2.1.2-1C$:\ \min\left( K^ | | | {\text{NZ}} - v,\ \left\lfloor \frac{K^{\te | | | xt{NZ}}}{2} \right\rfloor \right) \times 3$ | | | lowest priority bits of | | | $\left{ i_{2,4,l}:l | | | = 1,\ldots,\upsilon \right},\min\left( K^ | | | {\text{NZ}} - v,\ \left\lfloor \frac{K^{\te | | | xt{NZ}}}{2} \right\rfloor \right) \times 4$ | | | lowest priority bits of | | | $\left\ | | | { i_{2,5,l}:l = 1,\ldots,\upsilon \right}$ | | | and | | | $ | | | \left\lfloor K^{\text{NZ}}/2 \right\rfloor$ | | | lowest priority bits of | | | $\left{ | | | i_{1,7,l}:l = 1,\ldots,\upsilon \right}$, | | | in decreasing order of priority based on | | | the corresponding function | | | $\text{Pri}\left( l,i,f,\ q \right)$ | | | defined in clause 5.2.3 of TS 38.214 [6], | | | if reported; | | | | | | The second time-domain subband differential | | | CQI of all odd subbands with increasing | | | order of subband number, as in Table | | | 6.3.1.1.2-8B, if present and if reported | +-----------------------+---------------------------------------------+
Table 6.3.2.1.2-5G: Mapping order of CSI fields of one CSI report, CSI part 2
of\ _codebookType=typeII-CJT-PortSelection_
+-----------------------+---------------------------------------------+ | **CSI report number** | **CSI fields** | +=======================+=============================================+ | CSI report #n | PMI fields $X_{1}$, from left to right as | | | in Table 6.3.2.1.2-2C, if reported | | CSI part 2, group 0 | | +-----------------------+---------------------------------------------+ | CSI report #n | The following PMI fields $X_{2}$, from left | | | to right, as in Table | | CSI part 2, group 1 | 6.3.2.1.2-2C:$\ | | | \left{ i_{2,3,l}:l = 1,\ldots,\upsilon \r | | | ight}\ (max(0,\left\lceil \frac{K^{\text{N | | | Z}}}{2} \right\rceil - \upsilon)) \times 3$ | | | highest priority bits of | | | | | | $\left{ i_{2,4,l}:l = 1,\ldots,\upsilon \ | | | right},(max(0,\left\lceil \frac{K^{\text{N | | | Z}}}{2} \right\rceil - \upsilon)) \times 4$ | | | highest priority bits of | | | ${ i_{2,5,l}:l = 1,\ldots,\upsilon}$, | | | $i_{1,9}$ | | | and$\ \nu*\sum_{n = 0}^{N - 1}K_{1,n}M - | | | \left\lfloor K^{\text{NZ}}/2 \right\rfloor$ | | | highest priority bits | | | of$\left{ | | | i_{1,7,l}:l = 1,\ldots,\upsilon \right}$, | | | in decreasing order of priority based on | | | the corresponding function | | | $\text{Pri}\left( l,n,\ i,f \right)$ | | | defined in clause 5.2.3 of TS 38.214 [6], | | | if present and if reported | +-----------------------+---------------------------------------------+ | CSI report #n | The following PMI fields $X_{2}$, from left | | | to right, as in Table | | CSI part 2, group 2 | 6.3.2.1.2-2C$:\ (\min\left( K^{ | | | \text{NZ}} - v,\ \left\lfloor \frac{K^{\tex | | | t{NZ}}}{2} \right\rfloor \right)) \times 3$ | | | lowest priority bits of | | | $\left{ i_{2,4,l}:l = | | | 1,\ldots,\upsilon \right},(\min\left( K^{ | | | \text{NZ}} - v,\ \left\lfloor \frac{K^{\tex | | | t{NZ}}}{2} \right\rfloor \right)) \times 4$ | | | lowest priority bits of | | | $\left\ | | | { i_{2,5,l}:l = 1,\ldots,\upsilon \right}$ | | | and | | | $ | | | \left\lfloor K^{\text{NZ}}/2 \right\rfloor$ | | | lowest priority bits of | | | $\left{ | | | i_{1,7,l}:l = 1,\ldots,\upsilon \right}$, | | | in decreasing order of priority based on | | | the corresponding function | | | $\text{Pri}\left( l,n,\ i,f \right)$ | | | defined in clause 5.2.3 of TS 38.214 [6], | | | if reported | +-----------------------+---------------------------------------------+
Table 6.3.2.1.2-6: Mapping order of CSI reports to UCI bit sequence ,\ with
two-part CSI report(s)
UCI bit sequence CSI report number
* * *
                                                                                                                                                                                                                                                                                                                                                                                                                        CSI part 1 of CSI report \#1 as in Table 6.3.2.1.2-3/3A/3B or Table 6.3.1.1.2-8/8A/8B/8C or Table 6.3.2.1.2-3C
                                                                                                                                                                                                                                                                                                                                                                                                                        CSI part 1 of CSI report \#2 as in Table 6.3.2.1.2-3/3A/3B or Table 6.3.1.1.2-8/8A/8B/8C or Table 6.3.2.1.2-3C
                                                                                                                                                                                                                                                                                                                                                                                                                        ...
                                                                                                                                                                                                                                                                                                                                                                                                                        CSI part 1 of CSI report \#n as in Table 6.3.2.1.2-3/3A/3B or Table 6.3.1.1.2-8/8A/8B/8C or Table 6.3.2.1.2-3C
NOTE: For a CSI report #i containing CSI sub-reports, where i=1,2,...,n, CSI
part 1 of all CSI sub-reports are mapped to the corresponding part of UCI bit
sequence of CSI report #i, from upper part to lower part in increasing order
of CSI sub-report number. CSI sub-report #1, CSI sub-report #2, ..., CSI sub-
report #n correspond to the CSI sub-reports in increasing order of CSI-
ReportSubConfigID.
where CSI report #1, CSI report #2, ..., CSI report #n in Table 6.3.2.1.2-6
correspond to the CSI reports in increasing order of CSI report priority
values according to Clause 5.2.5 of [6, TS38.214].
Table 6.3.2.1.2-7: Mapping order of CSI reports to UCI bit sequence ,\ with
two-part CSI report(s)
+----------------------------------+----------------------------------+ | UCI bit sequence | CSI report number | +==================================+==================================+ | | CSI report #1, CSI part 2 | | | wideband, as in Table | | | 6.3.2.1.2-4/4A/4B, | | | | | | or CSI part 2 with group 0, as | | | in Table | | | 6.3.2.1.2-5A/5B/5E/5F/5G,\ | | | if CSI part 2 exists for CSI | | | report #1 | +----------------------------------+----------------------------------+ | | CSI report #2, CSI part 2 | | | wideband, as in Table | | | 6.3.2.1.2-4/4A/4B, | | | | | | or CSI part 2 with group 0, as | | | in Table | | | 6.3.2.1.2-5A/5B/5E/5F/5G,\ | | | if CSI part 2 exists for CSI | | | report #2 | +----------------------------------+----------------------------------+ | | ... | +----------------------------------+----------------------------------+ | | CSI report #n, CSI part 2 | | | wideband, as in Table | | | 6.3.2.1.2-4/4A/4B, | | | | | | or CSI part 2 with group 0, as | | | in Table | | | 6.3.2.1.2-5A/5B/5E/5F/5G,\ | | | if CSI part 2 exists for CSI | | | report #n | +----------------------------------+----------------------------------+ | | CSI report #1, CSI part 2 | | | subband, as in Table | | | 6.3.2.1.2-5/5C/5D, | | | | | | or CSI part 2 with group 1 and | | | 2, as in Table | | | 6.3.2.1.2-5A/5B/5E/5F/5G,\ | | | if CSI part 2 exists for CSI | | | report #1 | +----------------------------------+----------------------------------+ | | CSI report #2, CSI part 2 | | | subband, as in Table | | | 6.3.2.1.2-5/5C/5D, | | | | | | or CSI part 2 with group 1 and | | | 2, as in Table | | | 6.3.2.1.2-5A/5B/5E/5F/5G, | | | | | | if CSI part 2 exists for CSI | | | report #2 | +----------------------------------+----------------------------------+ | | ... | +----------------------------------+----------------------------------+ | | CSI report #n, CSI part 2 | | | subband, as in Table | | | 6.3.2.1.2-5/5C/5D, | | | | | | or CSI part 2 with group 1 and | | | 2, as in Table | | | 6.3.2.1.2-5A/5B/5E/5F/5G, | | | | | | if CSI part 2 exists for CSI | | | report #n | +----------------------------------+----------------------------------+ | NOTE: For a CSI report #i | | | containing CSI sub-reports, | | | where i=1,2,...,n, | | | | | | > \- CSI part 2 wideband of all | | | > CSI sub-reports are mapped to | | | > the corresponding part of UCI | | | > bit sequence of CSI report | | | > #i, from upper part to lower | | | > part in increasing order of | | | > CSI sub-report number; | | | > | | | > \- CSI sub-report #1, CSI | | | > sub-report #2, ..., CSI | | | > sub-report #n correspond to | | | > the CSI sub-reports in | | | > increasing order of | | | > _CSI-ReportSubConfigID_. | | +----------------------------------+----------------------------------+
where CSI report #1, CSI report #2, ..., CSI report #n in Table 6.3.2.1.2-7
correspond to the CSI reports in increasing order of CSI report priority
values according to Clause 5.2.5 of [6, TS38.214].
The bitwidth for RI/CQI of _codebookType= typeII-r16_ or _codebookType=typeII-
PortSelection-r16_ is provided in Table 6.3.2.1.2-8.
Table 6.3.2.1.2-8: RI and CQI of _codebookType=typeII-r16 or typeII-
PortSelection-r16_
+----------------------------------+----------------------------------+ | Field | Bitwidth | +==================================+==================================+ | Rank Indicator | $$\min\ | | | left( 2,\left\lceil \log_{2}n_{\ | | | text{RI}} \right\rceil \right)$$ | +----------------------------------+----------------------------------+ | Wide-band CQI | 4 | +----------------------------------+----------------------------------+ | Subband differential CQI | 2 | +----------------------------------+----------------------------------+ | Indicator of the total number of | $\left\lceil | | non-zero coefficients summed | \log_{2}{(K_{0})} \right\rceil$ | | across all layers | if max allowed rank is 1; | | $K^{\text{NZ}}$ | | | | $\left\lceil \l | | | og_{2}{({2K}_{0})} \right\rceil$ | | | otherwise | +----------------------------------+----------------------------------+
where $n_{\text{RI}}$ is the number of allowed rank indicator values according
to Clauses 5.2.2.2.5 and 5.2.2.2.6 [6, TS 38.214],$\ K_{0} = \left\lceil
2L\left\lceil p_{1} \times \frac{N_{3}}{R} \right\rceil\beta \right\rceil$,
where $p_{1}$, $N_{3}$, $R$, and $\beta$ are given by Clause 5.2.2.2.5 and
5.2.2.2.6 in [6, TS 38.214]. The values of the rank indicator field are mapped
to allowed rank indicator values with increasing order, where \'0\' is mapped
to the smallest allowed rank indicator value. The values of the
$K^{\text{NZ}}$ indicator field are mapped to the allowed values of
$K^{\text{NZ}}$, according to Clauses 5.2.2.2.5 and 5.2.2.2.6 [6, TS 38.214],
with increasing order, where \'0\' is mapped to $K^{\text{NZ}} = 1$.
The bitwidth for RI/CQI of _codebookType_ = _typeII-CJT_ is provided in Table
6.3.2.1.2-8A.
Table 6.3.2.1.2-8A: RI and CQI of _codebookType= typeII-CJT_
+----------------------------------+----------------------------------+ | **Field** | **Bitwidth** | +==================================+==================================+ | Rank Indicator | $$\min\ | | | left( 2,\left\lceil \log_{2}n_{\ | | | text{RI}} \right\rceil \right)$$ | +----------------------------------+----------------------------------+ | Wide-band CQI | 4 | +----------------------------------+----------------------------------+ | Subband differential CQI | 2 | +----------------------------------+----------------------------------+ | Indicator of the total number of | $\left\lceil \lo | | non-zero coefficients summed | g_{2}\left\lceil 2\beta M_{1}L_{ | | across all layers, and all | \max} \right\rceil \right\rceil$ | | CSI-RS resources if configured, | if max allowed rank is 1; | | $K^{\text{NZ}}$ | | | | $\left\lceil {\log_{2}2}\lef | | | t\lceil 2\beta M_{1}L_{\max} \ri | | | ght\rceil \right\rceil$otherwise | +----------------------------------+----------------------------------+
Where $n_{\text{RI}}$ is the number of allowed rank indicator values according
to Clause 5.2.2.2.8 TS 38.214 [6],$\ L_{\max}$ is the maximum of $\sum_{n =
1}^{N_{\text{TRP}}}L_{n}$ _for all_ $N_{L}$ _configured_ $L_{n}$
_combinations_ , where$\ \left{ L_{n} \right}_{n = 1,\ldots,\
N_{\text{TRP}}}$, $M_{1}$, and $\beta$ are given by Clause 5.2.2.2.8 in TS
38.214 [6]. The values of the rank indicator field are mapped to allowed rank
indicator values with increasing order, where \'0\' is mapped to the smallest
allowed rank indicator value. The values of the $K^{\text{NZ}}$ indicator
field are mapped to the allowed values of $K^{\text{NZ}}$, according to Clause
5.2.2.2.8 TS 38.214 [6], with increasing order, where \'0\' is mapped to
$K^{\text{NZ}} = 1$.
The bitwidth for RI/CQI of _codebookType_ = _typeII-Doppler_ is provided in
Table 6.3.2.1.2-8B.
Table 6.3.2.1.2-8B: RI and CQI of _codebookType= typeII-Doppler_
+----------------------------------+----------------------------------+ | **Field** | **Bitwidth** | +==================================+==================================+ | Rank Indicator | $$\min\ | | | left( 2,\left\lceil \log_{2}n_{\ | | | text{RI}} \right\rceil \right)$$ | +----------------------------------+----------------------------------+ | Wide-band CQI | 4 | +----------------------------------+----------------------------------+ | Subband differential CQI | 2 | +----------------------------------+----------------------------------+ | The second time-domain wide-band | 4 | | CQI | | +----------------------------------+----------------------------------+ | The second time-domain subband | 2 | | differential CQI | | +----------------------------------+----------------------------------+ | Indicator of the total number of | $\left\lceil | | non-zero coefficients summed | \log_{2}{(K_{0})} \right\rceil$ | | across all layers | if max allowed rank is 1; | | $K^{\text{NZ}}$ | | | | $\left\lceil \l | | | og_{2}{({2K}_{0})} \right\rceil$ | | | otherwise | +----------------------------------+----------------------------------+
Where $n_{\text{RI}}$ is the number of allowed rank indicator values according
to Clause 5.2.2.2.10 TS 38.214 [6],$\ K_{0} = \left\lceil 2L\left\lceil p_{1}
\times \frac{N_{3}}{R} \right\rceil\text{βQ} \right\rceil$, where $p_{1}$,
$N_{3}$, $R$, $\beta$ and $Q$ are given by Clause 5.2.2.2.10 in TS 38.214 [6].
The values of the rank indicator field are mapped to allowed rank indicator
values with increasing order, where \'0\' is mapped to the smallest allowed
rank indicator value. The values of the $K^{\text{NZ}}$ indicator field are
mapped to the allowed values of $K^{\text{NZ}}$, according to Clause
5.2.2.2.10 TS 38.214 [6], with increasing order, where \'0\' is mapped to
$K^{\text{NZ}} = 1$.
The bitwidth for RI/CQI of codebookType=typeII-PortSelection-r17 or typeII-
Doppler-PortSelection is provided in Table 6.3.2.1.2-9.
Table 6.3.2.1.2-9: RI and CQI of _codebookType=typeII-PortSelection-r17 or\
typeII-Doppler-PortSelection-r18_
+----------------------------------+----------------------------------+ | Field | Bitwidth | +==================================+==================================+ | Rank Indicator | $$\min\ | | | left( 2,\left\lceil \log_{2}n_{\ | | | text{RI}} \right\rceil \right)$$ | +----------------------------------+----------------------------------+ | Wide-band CQI | 4 | +----------------------------------+----------------------------------+ | Subband differential CQI | 2 | +----------------------------------+----------------------------------+ | Indicator of the total number of | $\left\lceil | | non-zero coefficients summed | \log_{2}{(K_{0})} \right\rceil$ | | across all layers | if max allowed rank is 1; | | $K^{\text{NZ}}$ | | | | $\left\lceil \l | | | og_{2}{({2K}_{0})} \right\rceil$ | | | otherwise | +----------------------------------+----------------------------------+
where $n_{\text{RI}}$ is the number of allowed rank indicator values according
to Clauses 5.2.2.2.7 and Clauses 5.2.2.2.11 [6, TS 38.214],$\ K_{0} =
\left\lceil K_{1}\text{Mβ} \right\rceil$, where $K_{1}$, $M$, and $\beta$ are
given by Clause 5.2.2.2.7 and Clauses 5.2.2.2.11 in [6, TS 38.214]. The values
of the rank indicator field are mapped to allowed rank indicator values with
increasing order, where \'0\' is mapped to the smallest allowed rank indicator
value. The values of the $K^{\text{NZ}}$ indicator field are mapped to the
allowed values of $K^{\text{NZ}}$, according to Clauses 5.2.2.2.7 and Clauses
5.2.2.2.11 [6, TS 38.214], with increasing order, where \'0\' is mapped to
$K^{\text{NZ}} = 1$.
The bitwidth for RI/CQI of _codebookType_ =_typeII-CJT-PortSelection_ is
provided in Table 6.3.2.1.2-9A.
Table 6.3.2.1.2-9A: RI and CQI of codebookType= typeII-CJT-PortSelection
+----------------------------------+----------------------------------+ | **Field** | **Bitwidth** | +==================================+==================================+ | Rank Indicator | $$\min\ | | | left( 2,\left\lceil \log_{2}n_{\ | | | text{RI}} \right\rceil \right)$$ | +----------------------------------+----------------------------------+ | Wide-band CQI | 4 | +----------------------------------+----------------------------------+ | Subband differential CQI | 2 | +----------------------------------+----------------------------------+ | Indicator of the total number of | $\left\lceil \l | | non-zero coefficients summed | og_{2}\left\lceil \beta MK_{1,\m | | across all layers, and all | ax} \right\rceil \right\rceil\ $ | | CSI-RS resources if configured, | if max allowed rank is 1; | | $K^{\text{NZ}}$ | | | | $\left\lceil \log_ | | | {2}{2\left\lceil \beta MK_{1,\ma | | | x} \right\rceil} \right\rceil\ $ | | | otherwise | +----------------------------------+----------------------------------+
Where $n_{\text{RI}}$ is the number of allowed rank indicator values according
to Clause 5.2.2.2.9 TS 38.214 [6]$,\ K_{1,max}$ is the maximum of $\sum_{n =
1}^{N_{\text{TRP}}}K_{1,\ n}$ _for all_ $N_{L}$ _configured_ $\alpha_{n}$
_combinations_ , where $\left{ K_{1.n} \right}_{n = 1,\ldots,\
N_{\text{TRP}}}$, $M$, and $\beta$ are given by Clause 5.2.2.2.9 in TS 38.214
[6], and. The values of the rank indicator field are mapped to allowed rank
indicator values with increasing order, where \'0\' is mapped to the smallest
allowed rank indicator value. The values of the $K^{\text{NZ}}$ indicator
field are mapped to the allowed values of $K^{\text{NZ}}$, according to Clause
5.2.2.2.9 TS 38.214 [6], with increasing order, where \'0\' is mapped to
$K^{\text{NZ}} = 1$.
The bitwidth for _reportQuantity_ =_tdcp_ is provided in Table 6.3.2.1.2-10.
Table 6.3.2.1.2-10: Amplitude and phase values for _reportQuantity_ =_tdcp_
**Field** **Bitwidth**
* * *
Amplitude value 4 Phase value 4
##### 6.3.2.1.3 CG-UCI
For CG-UCI bits transmitted on a CG PUSCH when the higher layer parameter _cg-
RetransmissionTimer_ is configured, the CG-UCI bit sequence $a_{0},\ a_{1},\
a_{2},\ a_{3},\ \ldots,a_{A - 1}\ $ is determined as follows:
\- set $a_{i} = {\widetilde{o}}_{i}^{\text{CG} - \text{UCI}}$ for $i = 0,1,\
\ldots,\ O^{\text{CG} - \text{UCI}} - 1$ and $A = O^{\text{CG} - \text{UCI}}$,
where the CG-UCI bit sequence ${\widetilde{o}}_{0}^{\text{CG} - \text{UCI}},\
{\widetilde{o}}_{1}^{\text{CG} - \text{UCI}},\ \ldots,\
{\widetilde{o}}_{O^{\text{CG} - \text{UCI}} - 1}^{\text{CG} - \text{UCI}}$ is
given by Table 6.3.2.1.3-1, mapped in the order from upper part to lower part.
Table 6.3.2.1.3-1: Mapping order of CG-UCI fields
+----------------------------------+----------------------------------+ | **Field** | **Bitwidth** | +==================================+==================================+ | HARQ process number | _5 if nrofHARQ-Processes-v1700 | | | in ConfiguredGrantConfig is | | | configured;_ | | | | | | 4 otherwise. | +----------------------------------+----------------------------------+ | Redundancy version | 2 | +----------------------------------+----------------------------------+ | New data indicator | 1 | +----------------------------------+----------------------------------+ | Channel Occupancy Time (COT) | $\le | | sharing information | ft\lceil \log_{2}C \right\rceil$ | | | if both higher layer parameter | | | * | | | ul-toDL-COT-SharingED-Threshold _| | | and higher layer parameter | | |_ cg-COT-SharingList _are | | | configured, or if both higher | | | layer parameter | | | * | | | semiStaticChannelAccessConfigUE_ | | | and higher layer parameter | | | _cg-COT-SharingList_ are | | | configured, or if higher layer | | | parameter _cg-COT-SharingList_ | | | is configured in frequency range | | | 2-2, where _C_ is the number of | | | combinations configured in | | | _cg-COT-SharingList;_ | | | | | | 1 if higher layer parameter | | | * | | | ul-toDL-COT-SharingED-Threshold _| | | is not configured, and if higher | | | layer parameter | | | * | | | semiStaticChannelAccessConfigUE_ | | | is not configured, and if higher | | | layer parameter | | | _cg-COT-SharingOffset_ is | | | configured; | | | | | | 0 otherwise. | | | | | | If a UE indicates COT sharing | | | other than \"no sharing\" in a | | | CG PUSCH within the UE\'s | | | initiated COT, the UE should | | | provide consistent COT sharing | | | information in all the | | | subsequent CG PUSCHs, if any, | | | occurring within the same UE\'s | | | initiated COT such that the same | | | DL starting point and duration | | | are maintained. | +----------------------------------+----------------------------------+
##### 6.3.2.1.3A UTO-UCI
For UTO-UCI bits transmitted on a CG PUSCH when the higher layer parameter
_nrof_UTO_UCI_ is configured, the UTO-UCI bit sequence $a_{0},\ a_{1},\
a_{2},\ a_{3},\ \ldots,a_{A - 1}\ $ is determined as follows:
\- set $a_{i} = {\widetilde{o}}_{i}^{\text{UTO} - \text{UCI}}$ for $i = 0,1,\
\ldots,\ O^{\text{UTO} - \text{UCI}} - 1$ and $A = O^{\text{UTO} -
\text{UCI}}$, where $O^{\text{UTO} - \text{UCI}}$ is provided by
_nrof_UTO_UCI_ , and the UTO-UCI bit sequence ${\widetilde{o}}_{0}^{\text{UTO}
- \text{UCI}},\ {\widetilde{o}}_{1}^{\text{UTO} - \text{UCI}},\ \ldots,\
{\widetilde{o}}_{O^{\text{UTO} - \text{UCI}} - 1}^{\text{UTO} - \text{UCI}}$
is given by clause x.x of [5, TS 38.213].
##### 6.3.2.1.4 HARQ-ACK and CG-UCI/UTO-UCI
If the higher layer parameter _nrof_UTO_UCI_ is configured, the procedure in
this clause 6.3.2.1.4 applies by replacing CG-UCI with UTO-UCI in all the
notations and texts, and replacing \"When higher layer parameter _cg-UCI-
Multiplexing_ is configured\" with \"When UTO-UCI and HARQ-ACK are transmitted
on a PUSCH\".
When higher layer parameter _cg-UCI-Multiplexing_ is configured, the UCI bit
sequence $a_{0},\ a_{1},\ a_{2},\ a_{3},\ \ldots,a_{A - 1}\ $ is determined as
follows, where $A = {O^{CG - UCI} + O}^{\text{ACK}}$.
\- The CG-UCI bits are mapped to the UCI bit sequence$a_{0},\ a_{1},\ a_{2},\
a_{3},\ \ldots,a_{O^{CG - UCI} - 1}\ $, where $a_{i} =
{\widetilde{o}}_{i}^{\text{CG} - \text{UCI}\ }$for $i = 0,1,\ \ldots,\
O^{\text{CG} - \text{UCI}} - 1$. The CG-UCI bit sequence
${\widetilde{o}}_{0}^{CG - UCI},\ {\widetilde{o}}_{1}^{CG - UCI},\ \ldots,\
{\widetilde{o}}_{O^{\text{CG} - \text{UCI}} - 1}^{CG - UCI}$ is given by Table
6.3.2.1.3-1 mapped in the order from upper part to lower part, and $O^{CG -
UCI}$ is number of CG-UCI bits;
\- The HARQ-ACK bits are mapped to the UCI bit sequence $a_{O^{\text{CG} -
\text{UCI}}},\ a_{O^{\text{CG} - \text{UCI}} + 1},\ \ \ldots,a_{{O^{\text{CG}
- \text{UCI}} + O}^{\text{ACK}} - 1}$, where $a_{i + O^{\text{CG} -
\text{UCI}}} = {\widetilde{o}}_{i}^{\text{ACK}}$ for $i = 0,1,\ \ldots,\
O^{\text{ACK}} - 1$. The HARQ-ACK bit sequence
${\widetilde{o}}_{0}^{\text{ACK}},\ {\widetilde{o}}_{1}^{\text{ACK}},\
\ldots,\ {\widetilde{o}}_{O^{\text{ACK}} - 1}^{\text{ACK}}$ is given by Clause
9.1 of [5, TS38.213], and $O^{\text{ACK}}$ is number of HARQ-ACK bits.
##### 6.3.2.1.5 UCI with different priority indexes
If the higher layer parameter _nrof_UTO_UCI_ is configured, the procedure in
this clause 6.3.2.1.5 applies by replacing CG-UCI with UTO-UCI in all the
notations and texts, and replacing \"is given by Table 6.3.2.1.3-1 mapped in
the order from upper part to lower part\" with \"is given by clause x.x of [5,
TS 38.213]\".
If _uci-MuxWithDiffPrio_ is configured, and HARQ-ACK bits associated with
priority index 0, and CSI part 1 if any are transmitted on a PUSCH associated
with priority index 1, the following UCI bit sequences are generated,
$a_{0}^{(1)},\ a_{1}^{(1)},\ a_{2}^{(1)},\ a_{3}^{(1)},\ \ldots,a_{A^{(1)} -
1}^{\left( 1 \right)}$, and $a_{0}^{(2)},\ a_{1}^{(2)},\ a_{2}^{(2)},\
a_{3}^{(2)},\ \ldots,a_{A^{(2)} - 1}^{\left( 2 \right)}$ if any, according to
the following:
\- If CSI part 1 is also transmitted on the PUSCH,
\- Set $a_{i}^{(1)}$ for $i = 0,1,\ldots,A^{(1)} - 1$ as the bit sequence of
CSI part 1, where the CSI fields of all CSI reports, in the order from upper
part to lower part in Table 6.3.2.1.2-6, are mapped to the UCI bit sequence
$a_{0}^{(1)},\ a_{1}^{(1)},\ a_{2}^{(1)},\ a_{3}^{(1)},\ \ldots,a_{A^{(1)} -
1}^{\left( 1 \right)}$ starting with $a_{0}^{(1)}$.
\- Set $a_{i}^{(2)} = {\widetilde{o}}_{i}^{ACK - LP}$ for $i =
{0,1,\ldots,O}^{ACK - LP} - 1$ and $A^{(2)} = O^{ACK - LP}$, where the HARQ-
ACK bit sequence ${\widetilde{o}}_{0}^{ACK - LP},\ {\widetilde{o}}_{1}^{ACK -
LP},\ \ldots,\ {\widetilde{o}}_{O^{ACK - LP} - 1}^{ACK - LP}$ associated with
priority index 0 is given by Clause 9.1 of [5, TS 38.213].
\- Otherwise, set $a_{i}^{(1)} = {\widetilde{o}}_{i}^{ACK - LP}$ for $i =
{0,1,\ldots,O}^{ACK - LP} - 1$ and $A^{(1)} = O^{ACK - LP}$, where the HARQ-
ACK bit sequence ${\widetilde{o}}_{0}^{ACK - LP},\ {\widetilde{o}}_{1}^{ACK -
LP},\ \ldots,\ {\widetilde{o}}_{O^{ACK - LP} - 1}^{ACK - LP}$ associated with
priority index 0 is given by Clause 9.1 of [5, TS 38.213].
If _uci-MuxWithDiffPrio_ is configured, and HARQ-ACK bits associated with
priority index 1, and CSI if any are transmitted on a PUSCH associated with
priority index 0, the following UCI bit sequences are generated,$\ a_{0},\
a_{1},\ a_{2},\ a_{3},\ \ldots,a_{A - 1}$, $a_{0}^{(1)},\ a_{1}^{(1)},\
a_{2}^{(1)},\ a_{3}^{(1)},\ \ldots,a_{A^{(1)} - 1}^{\left( 1 \right)}$ if any,
and $a_{0}^{(2)},\ a_{1}^{(2)},\ a_{2}^{(2)},\ a_{3}^{(2)},\ \ldots,a_{A^{(2)}
- 1}^{\left( 2 \right)}$ if any, according to the following:
\- If HARQ-ACK bits associated with priority index 1 and CSI are transmitted
on the PUSCH without UL-SCH and the CSI includes CSI part 1 without CSI part
2, and there is only one HARQ-ACK bit associated with priority index 1 given
by Clause 9.1 of [5, TS 38.213], set $a_{0} = {\widetilde{o}}_{0}^{ACK - HP}$,
$a_{1} = 0$, and $A = 2$; otherwise, set $a_{i} = {\widetilde{o}}_{i}^{ACK -
HP}$ for $i = {0,1,\ldots,O}^{ACK - HP} - 1$ and $A = O^{ACK - HP}$, where the
HARQ-ACK bit sequence ${\widetilde{o}}_{0}^{ACK - HP},\
{\widetilde{o}}_{1}^{ACK - HP},\ \ldots,\ {\widetilde{o}}_{O^{ACK - HP} -
1}^{ACK - HP}$ associated with priority index 1 is given by Clause 9.1 of [5,
TS 38.213];
\- Set $a_{i}^{(1)}$ for $i = 0,1,\ldots,A^{(1)} - 1$ as the bit sequence of
CSI part 1, if CSI part 1 is also transmitted on the PUSCH, where the CSI
fields of all CSI reports, in the order from upper part to lower part in Table
6.3.2.1.2-6, are mapped to the UCI bit sequence $a_{0}^{(1)},\ a_{1}^{(1)},\
a_{2}^{(1)},\ a_{3}^{(1)},\ \ldots,a_{A^{(1)} - 1}^{\left( 1 \right)}$
starting with $a_{0}^{(1)}$;
\- Set $a_{i}^{(2)}$ for $i = 0,1,\ldots,A^{(2)} - 1$ as the bit sequence of
CSI part 2, if CSI part 2 is also transmitted on the PUSCH, where the CSI
fields of all CSI reports, in the order from upper part to lower part in Table
6.3.2.1.2-7, are mapped to the UCI bit sequence $a_{0}^{(2)},\ a_{1}^{(2)},\
a_{2}^{(2)},\ a_{3}^{(2)},\ \ldots,a_{A^{(1)} - 1}^{\left( 2 \right)}$
starting with $a_{0}^{(2)}$.
If _uci-MuxWithDiffPrio_ is configured, and HARQ-ACK bits associated with
priority index 0, HARQ-ACK bits associated with priority index 1 and/or CG-UCI
associated with priority index 1, and CSI part 1 if any are transmitted on a
PUSCH, the following UCI bit sequences are generated,$\ a_{0},\ a_{1},\
a_{2},\ a_{3},\ \ldots,a_{A - 1}$, $a_{0}^{(1)},\ a_{1}^{(1)},\ a_{2}^{(1)},\
a_{3}^{(1)},\ \ldots,a_{A^{(1)} - 1}^{\left( 1 \right)}$, and $a_{0}^{(2)},\
a_{1}^{(2)},\ a_{2}^{(2)},\ a_{3}^{(2)},\ \ldots,a_{A^{(2)} - 1}^{\left( 2
\right)}$ if any, according to the following:
\- Set $a_{i} = {\widetilde{o}}_{i}^{ACK - HP}$ for $i = {0,1,\ldots,O}^{ACK -
HP} - 1$ and $A = O^{ACK - HP}$ if HARQ-ACK bits associated with priority
index 1 are transmitted without CG-UCI associated with priority index 1, where
the HARQ-ACK bit sequence ${\widetilde{o}}_{0}^{ACK - HP},\
{\widetilde{o}}_{1}^{ACK - HP},\ \ldots,\ {\widetilde{o}}_{O^{ACK - HP} -
1}^{ACK - HP}$ associated with priority index 1 is given by Clause 9.1 of [5,
TS 38.213];
\- Set $a_{i} = {\widetilde{o}}_{i}^{\text{CG} - \text{UCI}}$ for $i =
0,1,\ldots,O^{\text{CG} - \text{UCI}} - 1$ and $A = O^{\text{CG} -
\text{UCI}}$ if CG-UCI associated with priority index 1 is transmitted without
HARQ-ACK bits associated with priority index 1, where the CG-UCI bit sequence
${\widetilde{o}}_{0}^{\text{CG} - \text{UCI}},\ {\widetilde{o}}_{1}^{\text{CG}
- \text{UCI}},\ \ldots,\ {\widetilde{o}}_{O^{\text{CG} - \text{UCI}} -
1}^{\text{CG} - \text{UCI}}$ associated with priority index 1 is given by
Table 6.3.2.1.3-1 mapped in the order from upper part to lower part;
\- Set $a_{0},\ a_{1},\ a_{2},\ a_{3},\ \ldots,a_{A - 1}$ as follows, if both
CG-UCI associated with priority index 1 and HARQ-ACK bits associated with
priority index 1 are transmitted, where $A = O^{CG - UCI} + O^{ACK - HP}$
\- The CG-UCI bits are mapped to the UCI bit sequence $a_{0},\ a_{1},\ a_{2},\
a_{3},\ \ldots,a_{O^{CG - UCI} - 1}$, where $a_{i} =
{\widetilde{o}}_{i}^{\text{CG} - \text{UCI}\ }$for $i = 0,1,\ \ldots,\
O^{\text{CG} - \text{UCI}} - 1$. The CG-UCI bit sequence
${\widetilde{o}}_{0}^{CG - UCI},\ {\widetilde{o}}_{1}^{CG - UCI},\ \ldots,\
{\widetilde{o}}_{O^{\text{CG} - \text{UCI}} - 1}^{CG - UCI}$ is given by Table
6.3.2.1.3-1 mapped in the order from upper part to lower part, and $O^{CG -
UCI}$ is number of CG-UCI bits
\- The HARQ-ACK bits are mapped to the UCI bit sequence $a_{O^{\text{CG} -
\text{UCI}}},\ a_{O^{\text{CG} - \text{UCI}} + 1},\ \ \ldots,a_{O^{\text{CG} -
\text{UCI}} + O^{ACK - HP} - 1}$, where $a_{i + O^{\text{CG} - \text{UCI}}} =
{\widetilde{o}}_{i}^{ACK - HP}$ for $i = 0,1,\ \ldots,\ O^{ACK - HP} - 1$. The
HARQ-ACK bit sequence ${\widetilde{o}}_{0}^{ACK - HP},\
{\widetilde{o}}_{1}^{ACK - HP},\ \ldots,\ {\widetilde{o}}_{O^{ACK - HP} -
1}^{ACK - HP}$ associated with priority index 1 is given by Clause 9.1 of [5,
TS 38.213].
\- If CSI part 1 is also transmitted on the PUSCH and the PUSCH is associated
with priority index 1,
\- Set $a_{i}^{(1)}$ for $i = 0,1,\ldots,A^{(1)} - 1$ as the bit sequence of
CSI part 1, where the CSI fields of all CSI reports, in the order from upper
part to lower part in Table 6.3.2.1.2-6, are mapped to the UCI bit sequence
$a_{0}^{(1)},\ a_{1}^{(1)},\ a_{2}^{(1)},\ a_{3}^{(1)},\ \ldots,a_{A^{(1)} -
1}^{\left( 1 \right)}$ starting with $a_{0}^{(1)}$.
\- Set $a_{i}^{(2)} = {\widetilde{o}}_{i}^{ACK - LP}$ for $i =
{0,1,\ldots,O}^{ACK - LP} - 1$ and $A^{(2)} = O^{ACK - LP}$, where the HARQ-
ACK bit sequence ${\widetilde{o}}_{0}^{ACK - LP},\ {\widetilde{o}}_{1}^{ACK -
LP},\ \ldots,\ {\widetilde{o}}_{O^{ACK - LP} - 1}^{ACK - LP}$ associated with
priority index 0 is given by Clause 9.1 of [5, TS 38.213].
\- Otherwise,
\- Set $a_{i}^{(1)} = {\widetilde{o}}_{i}^{ACK - LP}$ for $i =
{0,1,\ldots,O}^{ACK - LP} - 1$ and $A^{(1)} = O^{ACK - LP}$, where the HARQ-
ACK bit sequence ${\widetilde{o}}_{0}^{ACK - LP},\ {\widetilde{o}}_{1}^{ACK -
LP},\ \ldots,\ {\widetilde{o}}_{O^{ACK - LP} - 1}^{ACK - LP}$ associated with
priority index 0 is given by Clause 9.1 of [5, TS 38.213].
\- Set $a_{i}^{(2)} = {\widetilde{a}}_{i}^{(1)}$ for $i =
0,1,\ldots,{\widetilde{A}}^{\left( 1 \right)} - 1\ $and $A^{(2)} =
{\widetilde{A}}^{(1)}$, if CSI part 1 is also transmitted on the PUSCH and the
PUSCH is associated with priority index 0, where the CSI part 1 sequence
${\widetilde{a}}_{0}^{(1)},\ {\widetilde{a}}_{1}^{(1)},\
{\widetilde{a}}_{2}^{(1)},\ {\widetilde{a}}_{3}^{(1)},\
\ldots,{\widetilde{a}}_{{\widetilde{A}}^{(1)} - 1}^{(1)}$ is given by Table
6.3.2.1.2-6 by replacing $a_{0}^{(1)},\ a_{1}^{(1)},\ a_{2}^{(1)},\
a_{3}^{(1)},\ \ldots,a_{A^{(1)} - 1}^{\left( 1 \right)}$, and the CSI fields
of all CSI reports, in the order from upper part to lower part in Table
6.3.2.1.2-6, are mapped to the CSI part 1 sequence
${\widetilde{a}}_{0}^{(1)},\ {\widetilde{a}}_{1}^{(1)},\
{\widetilde{a}}_{2}^{(1)},\ {\widetilde{a}}_{3}^{(1)},\
\ldots,{\widetilde{a}}_{{\widetilde{A}}^{(1)} - 1}^{(1)}$ starting with
${\widetilde{a}}_{0}^{(1)}$.
If _uci-MuxWithDiffPrio_ is configured, and CG-UCI associated with priority
index 0 and HARQ-ACK bits associated with priority index 0 if any, HARQ-ACK
bits associated with priority index 1, and CSI part 1 if any are transmitted
on a PUSCH associated with priority index 0, the following UCI bit sequences
are generated,$\ a_{0},\ a_{1},\ a_{2},\ a_{3},\ \ldots,a_{A - 1}$,
$a_{0}^{(1)},\ a_{1}^{(1)},\ a_{2}^{(1)},\ a_{3}^{(1)},\ \ldots,a_{A^{(1)} -
1}^{\left( 1 \right)}$, and $a_{0}^{(2)},\ a_{1}^{(2)},\ a_{2}^{(2)},\
a_{3}^{(2)},\ \ldots,a_{A^{(2)} - 1}^{\left( 2 \right)}$ if any, according to
the following:
\- Set $a_{i} = {\widetilde{o}}_{i}^{ACK - HP}$ for $i = {0,1,\ldots,O}^{ACK -
HP} - 1$ and $A = O^{ACK - HP}$, where the HARQ-ACK bit sequence
${\widetilde{o}}_{0}^{ACK - HP},\ {\widetilde{o}}_{1}^{ACK - HP},\ \ldots,\
{\widetilde{o}}_{O^{ACK - HP} - 1}^{ACK - HP}$ associated with priority index
1 is given by Clause 9.1 of [5, TS 38.213];
\- Set $a_{i}^{(1)} = {\widetilde{o}}_{i}^{\text{CG} - \text{UCI}}$ for $i =
0,1,\ \ldots,\ O^{\text{CG} - \text{UCI}} - 1$ and $A^{(1)} = O^{\text{CG} -
\text{UCI}}$ if CG-UCI associated with priority index 0 is transmitted without
HARQ-ACK bits associated with priority index 0, where the CG-UCI bit sequence
${\widetilde{o}}_{0}^{\text{CG} - \text{UCI}},\ {\widetilde{o}}_{1}^{\text{CG}
- \text{UCI}},\ \ldots,\ {\widetilde{o}}_{O^{\text{CG} - \text{UCI}} -
1}^{\text{CG} - \text{UCI}}$ associated with priority index 0 is given by
Table 6.3.2.1.3-1 mapped in the order from upper part to lower part;
\- Set $a_{0}^{(1)},\ a_{1}^{(1)},\ a_{2}^{(1)},\ a_{3}^{(1)},\
\ldots,a_{A^{(1)} - 1}^{\left( 1 \right)}$ as follows if both CG-UCI
associated with priority index 0 and HARQ-ACK bits associated with priority
index 0 are transmitted, where $A^{(1)} = O^{CG - UCI} + O^{ACK - LP}$
\- The CG-UCI bits are mapped to the UCI bit sequence $a_{0}^{(1)},\
a_{1}^{(1)},\ a_{2}^{(1)},\ a_{3}^{(1)},\ \ldots,a_{O^{CG - UCI} - 1}^{\left(
1 \right)}$, where $a_{i}^{(1)} = {\widetilde{o}}_{i}^{\text{CG} - \text{UCI}\
}$for $i = 0,1,\ \ldots,\ O^{\text{CG} - \text{UCI}} - 1$. The CG-UCI bit
sequence ${\widetilde{o}}_{0}^{CG - UCI},\ {\widetilde{o}}_{1}^{CG - UCI},\
\ldots,\ {\widetilde{o}}_{O^{\text{CG} - \text{UCI}} - 1}^{CG - UCI}$ is given
by Table 6.3.2.1.3-1 mapped in the order from upper part to lower part, and
$O^{CG - UCI}$ is number of CG-UCI bits
\- The HARQ-ACK bits are mapped to the UCI bit sequence $a_{O^{\text{CG} -
\text{UCI}}}^{(1)},\ a_{O^{\text{CG} - \text{UCI}} + 1}^{(1)},\ \
\ldots,a_{O^{\text{CG} - \text{UCI}} + O^{ACK - LP} - 1}^{\left( 1 \right)}$,
where $a_{i + O^{\text{CG} - \text{UCI}}}^{(1)} = {\widetilde{o}}_{i}^{ACK -
LP}$ for $i = 0,1,\ \ldots,\ O^{ACK - LP} - 1$. The HARQ-ACK bit sequence
${\widetilde{o}}_{0}^{ACK - LP},\ {\widetilde{o}}_{1}^{ACK - LP},\ \ldots,\
{\widetilde{o}}_{O^{ACK - LP} - 1}^{ACK - LP}$ associated with priority index
0 is given by Clause 9.1 of [5, TS 38.213].
\- Set $a_{i}^{(2)} = {\widetilde{a}}_{i}^{(1)}$ for $i =
0,1,\ldots,{\widetilde{A}}^{\left( 1 \right)} - 1\ $and $A^{(2)} =
{\widetilde{A}}^{(1)}$, if CSI part 1 is also transmitted on the PUSCH and the
PUSCH is associated with priority index 0, where the CSI part 1 sequence
${\widetilde{a}}_{0}^{(1)},\ {\widetilde{a}}_{1}^{(1)},\
{\widetilde{a}}_{2}^{(1)},\ {\widetilde{a}}_{3}^{(1)},\
\ldots,{\widetilde{a}}_{{\widetilde{A}}^{(1)} - 1}^{(1)}$ is given by Table
6.3.2.1.2-6 by replacing $a_{0}^{(1)},\ a_{1}^{(1)},\ a_{2}^{(1)},\
a_{3}^{(1)},\ \ldots,a_{A^{(1)} - 1}^{\left( 1 \right)}$, and the CSI fields
of all CSI reports, in the order from upper part to lower part in Table
6.3.2.1.2-6, are mapped to the CSI part 1 sequence
${\widetilde{a}}_{0}^{(1)},\ {\widetilde{a}}_{1}^{(1)},\
{\widetilde{a}}_{2}^{(1)},\ {\widetilde{a}}_{3}^{(1)},\
\ldots,{\widetilde{a}}_{{\widetilde{A}}^{(1)} - 1}^{(1)}$ starting with
${\widetilde{a}}_{0}^{(1)}$.
#### 6.3.2.2 Code block segmentation and CRC attachment
Denote the bits of the payload by , where is the payload size. The procedure
in 6.3.2.2.1 applies for and the procedure in Clause 6.3.2.2.2 applies for .
##### 6.3.2.2.1 UCI encoded by Polar code
Code block segmentation and CRC attachment is performed according to Clause
6.3.1.2.1.
##### 6.3.2.2.2 UCI encoded by channel coding of small block lengths
The procedure in Clause 6.3.1.2.2 applies.
#### 6.3.2.3 Channel coding of UCI
##### 6.3.2.3.1 UCI encoded by Polar code
Channel coding is performed according to Clause 6.3.1.3.1, except that the
rate matching output sequence length is given in Clause 6.3.2.4.1.
##### 6.3.2.3.2 UCI encoded by channel coding of small block lengths
Information bits are delivered to the channel coding block. They are denoted
by , where is the number of bits.
The information bits are encoded according to Clause 5.3.3.
After encoding the bits are denoted by , where is the number of coded bits.
#### 6.3.2.4 Rate matching
In case where there are more than one UL-SCH transport blocks for the PUSCH
transmission, the UCI information is multiplexed only on the UL-SCH transport
block with highest _I~MCS~_ value for the initial PUSCH, where _I~MCS~_ is as
defined in Clause 6.1.4.1 in [6, TS 38.214]. In case the two transport blocks
have the same _I~MCS~_ value for the initial PUSCH, the UCI information is
multiplexed with data only on the first transport block. The PUSCH for UCI
multiplexing in this Clause refers to the UL-SCH transport block for UCI
multiplexing.
##### 6.3.2.4.1 UCI encoded by Polar code
##### 6.3.2.4.1.1 HARQ-ACK {#harq-ack-1 .H6}
For HARQ-ACK transmission on PUSCH not using repetition type B with UL-SCH and
if _numberOfSlotsTBoMS_ is not present in the resource allocation table, or if
_numberOfSlotsTBoMS_ is present in the resource allocation table and the value
of _numberOfSlotsTBoMS_ in the row indicated by the Time domain resource
assignment field in DCI is equal to 1, the number of coded modulation symbols
per layer for HARQ-ACK transmission, denoted as , is determined as follows:
where
\- is the number of HARQ-ACK bits;
\- if , ; otherwise is the number of CRC bits for HARQ-ACK determined
according to Clause 6.3.1.2.1;
\- ;
\- is the number of code blocks for UL-SCH of the PUSCH transmission;
\- if the DCI format scheduling the PUSCH transmission includes a CBGTI field
indicating that the UE shall not transmit the -th code block, =0; otherwise,
is the -th code block size for UL-SCH of the PUSCH transmission;
\- is the scheduled bandwidth of the PUSCH transmission, expressed as a number
of subcarriers;
\- is the number of subcarriers in OFDM symbol that carries PTRS, in the PUSCH
transmission;
\- is the number of resource elements that can be used for transmission of UCI
in OFDM symbol , for , in the PUSCH transmission and is the total number of
OFDM symbols of the PUSCH, including all OFDM symbols used for DMRS;
\- for any OFDM symbol that carries DMRS of the PUSCH, ;
\- for any OFDM symbol that does not carry DMRS of the PUSCH, ;
\- is configured by higher layer parameter _scaling_ ;
\- is the symbol index of the first OFDM symbol that does not carry DMRS of
the PUSCH, after the first DMRS symbol(s), in the PUSCH transmission.
For HARQ-ACK transmission on PUSCH not using repetition type B with UL-SCH,
and if _numberOfSlotsTBoMS_ is present in the resource allocation table and
the value of _numberOfSlotsTBoMS_ in the row indicated by the Time domain
resource assignment field in DCI is larger than 1, the number of coded
modulation symbols per layer for HARQ-ACK transmission, denoted as
$Q_{\text{ACK}}^{'}$, is determined as follows:
$Q_{\text{ACK}}^{'} = \min\left{ \left\lceil \frac{\left( O_{\text{ACK}} +
L_{\text{ACK}} \right) \bullet \beta_{\text{offset}}^{\text{PUSCH}} \bullet
\sum_{l = 0}^{N_{symb,all}^{\text{PUSCH}} -
1}{M_{\text{sc}}^{\text{UCI}}\left( l \right)}}{\frac{1}{N_{s}}\sum_{r =
0}^{C_{UL - SCH} - 1}K_{r}} \right\rceil,\left\lceil \alpha \bullet \sum_{l =
l_{0}}^{N_{symb,all}^{\text{PUSCH}} - 1}{M_{\text{sc}}^{\text{UCI}}\left( l
\right)} \right\rceil \right}$
where
\- $N_{s}$ is the value of _numberOfSlotsTBoMS_ in the row indicated by the
Time domain resource assignment field in DCI;
\- $M_{\text{sc}}^{PT - RS}\left( l \right)\ $is the number of subcarriers in
OFDM symbol $l$ that carries PTRS, in the PUSCH transmission of TB processing
over multiple slots in the slot with the HARQ-ACK transmission;
\- $M_{\text{sc}}^{\text{UCI}}\left( l \right)$ is the number of resource
elements that can be used for transmission of UCI in OFDM symbol $l$, for $l =
0,1,2,\ldots,N_{symb,all}^{\text{PUSCH}} - 1$, in the PUSCH transmission of TB
processing over multiple slots in the slot with the HARQ-ACK transmission and
$N_{symb,all}^{\text{PUSCH}}\ $is the total number of OFDM symbols of the
PUSCH in the slot, including all OFDM symbols used for DMRS;
\- $l_{0}\ $is the symbol index of the first OFDM symbol that does not carry
DMRS of the PUSCH, after the first DMRS symbol(s), in the PUSCH transmission
of TB processing over multiple slots in the slot with the HARQ-ACK
transmission;
\- and all the other notations in the formula are defined the same as for
PUSCH not using repetition type B and if _numberOfSlotsTBoMS_ is not present
in the resource allocation table.
For HARQ-ACK transmission on an actual repetition of a PUSCH with repetition
Type B with UL-SCH, the number of coded modulation symbols per layer for HARQ-
ACK transmission, denoted as $Q_{\text{ACK}}^{'}$, is determined as follows:
$Q_{\text{ACK}}^{'} = \min\left{ \left\lceil \frac{\left( O_{\text{ACK}} +
L_{\text{ACK}} \right) \bullet \beta_{\text{offset}}^{\text{PUSCH}} \bullet
\sum_{l = 0}^{N_{\text{symb,nominal}}^{\text{PUSCH}} -
1}{M_{\text{sc,nominal}}^{\text{UCI}}\left( l \right)}}{\sum_{r =
0}^{C_{\text{UL-SCH}} - 1}K_{r}} \right\rceil,\ \ \ \left\lceil \alpha \bullet
\sum_{l = 0}^{N_{\text{symb,nominal}}^{\text{PUSCH}} -
1}{M_{\text{sc,nominal}}^{\text{UCI}}\left( l \right)} \right\rceil,\ \
\sum_{l = 0}^{N_{\text{symb,actual}}^{\text{PUSCH}} -
1}{M_{\text{sc,actual}}^{\text{UCI}}\left( l \right)} \right}\ $
where
\- $M_{\text{sc,nominal}}^{\text{UCI}}\left( l \right)$ is the number of
resource elements that can be used for transmission of UCI in OFDM symbol $l$,
for $l = 0,\ 1,\ 2,\ \cdots,\ N_{\text{symb,nominal}}^{\text{PUSCH}} - 1$, in
the PUSCH transmission assuming a nominal repetition without segmentation, and
$N_{\text{symb,nominal}}^{\text{PUSCH}}$ is the total number of OFDM symbols
in a nominal repetition of the PUSCH, including all OFDM symbols used for
DMRS;
\- for any OFDM symbol that carries DMRS of the PUSCH assuming a nominal
repetition without segmentation, $M_{\text{sc,nominal}}^{\text{UCI}}\left( l
\right) = 0$;
\- for any OFDM symbol that does not carry DMRS of the PUSCH assuming a
nominal repetition without segmentation,
$M_{\text{sc,nominal}}^{\text{UCI}}\left( l \right) =
M_{\text{sc}}^{\text{PUSCH}} - M_{\text{sc,nominal}}^{\text{PT-RS}}\left( l
\right)$ where $M_{\text{sc,nominal}}^{\text{PT-RS}}\left( l \right)$ is the
number of subcarriers in OFDM symbol $l$ that carries PTRS, in the PUSCH
transmission assuming a nominal repetition without segmentation;
\- $M_{\text{sc,actual}}^{\text{UCI}}\left( l \right)$ is the number of
resource elements that can be used for transmission of UCI in OFDM symbol $l$
, for $l = 0,\ 1,\ 2,\ \cdots,\ N_{\text{symb,actual}}^{\text{PUSCH}} - 1$, in
the actual repetition of the PUSCH transmission, and
$N_{\text{symb,actual}}^{\text{PUSCH}}$ is the total number of OFDM symbols in
the actual repetition of the PUSCH transmission, including all OFDM symbols
used for DMRS;
\- for any OFDM symbol that carries DMRS of the actual repetition of the PUSCH
transmission, $M_{\text{sc,actual}}^{\text{UCI}}\left( l \right) = 0$;
\- for any OFDM symbol that does not carry DMRS of the actual repetition of
the PUSCH transmission, $M_{\text{sc,actual}}^{\text{UCI}}\left( l \right) =
M_{\text{sc}}^{\text{PUSCH}} - M_{\text{sc,actual}}^{\text{PT-RS}}\left( l
\right)$ where $M_{\text{sc,actual}}^{\text{PT-RS}}\left( l \right)$ is the
number of subcarriers in OFDM symbol $l$ that carries PTRS, in the actual
repetition of the PUSCH transmission;
\- and all the other notations in the formula are defined the same as for
PUSCH not using repetition type B and if _numberOfSlotsTBoMS_ is not present
in the resource allocation table.
For HARQ-ACK transmission on PUSCH without UL-SCH, the number of coded
modulation symbols per layer for HARQ-ACK transmission, denoted as , is
determined as follows:
where
\- is the number of HARQ-ACK bits;
\- if , ; otherwise is the number of CRC bits for HARQ-ACK defined according
to Clause 6.3.1.2.1;;
\- ;
\- is the scheduled bandwidth of the PUSCH transmission, expressed as a number
of subcarriers;
\- is the number of subcarriers in OFDM symbol that carries PTRS, in the PUSCH
transmission;
\- is the number of resource elements that can be used for transmission of UCI
in OFDM symbol , for , in the PUSCH transmission and is the total number of
OFDM symbols of the PUSCH, including all OFDM symbols used for DMRS;
\- for any OFDM symbol that carries DMRS of the PUSCH, ;
\- for any OFDM symbol that does not carry DMRS of the PUSCH, ;
\- is the symbol index of the first OFDM symbol that does not carry DMRS of
the PUSCH, after the first DMRS symbol(s), in the PUSCH transmission;
\- is the code rate of the PUSCH, determined according to Clause 6.1.4.1 of
[6, TS38.214];
\- is the modulation order of the PUSCH;
\- is configured by higher layer parameter _scaling_.
The input bit sequence to rate matching is where is the code block number, and
is the number of coded bits in code block number .
Rate matching is performed according to Clause 5.4.1 by setting and the rate
matching output sequence length to , where
\- is the number of code blocks for UCI determined according to Clause 5.2.1;
\- is the number of transmission layers of the PUSCH;
\- is the modulation order of the PUSCH;
\- .
The output bit sequence after rate matching is denoted as where is the length
of rate matching output sequence in code block number .
##### 6.3.2.4.1.2 CSI part 1 {#csi-part-1 .H6}
For CSI part 1 transmission on PUSCH not using repetition type B with UL-SCH
and if _numberOfSlotsTBoMS_ is not present in the resource allocation table,
or if _numberOfSlotsTBoMS_ is present in the resource allocation table and the
value of _numberOfSlotsTBoMS_ in the row indicated by the Time domain resource
assignment field in DCI is equal to 1, the number of coded modulation symbols
per layer for CSI part 1 transmission, denoted as , is determined as follows:
$Q_{CSI - 1}^{'} = min\left{ \left\lceil \frac{\left( O_{CSI - 1} + L_{CSI -
1} \right) \bullet \beta_{\text{offset}}^{\text{PUSCH}} \bullet \sum_{l =
0}^{N_{symb,all}^{\text{PUSCH}} - 1}{M_{\text{sc}}^{\text{UCI}}\left( l
\right)}}{\sum_{r = 0}^{C_{\text{UL} - \text{SCH}} - 1}K_{r}}
\right\rceil,\left\lceil \alpha \bullet \sum_{l =
0}^{N_{symb,all}^{\text{PUSCH}} - 1}{M_{\text{sc}}^{\text{UCI}}\left( l
\right)} \right\rceil - Q_{\text{ACK}/\text{CG} - \text{UCI}}^{'} \right}$
where
\- is the number of bits for CSI part 1;
\- if , ; otherwise is the number of CRC bits for CSI part 1 determined
according to Clause 6.3.1.2.1;
\- ;
\- is the number of code blocks for UL-SCH of the PUSCH transmission;
\- if the DCI format scheduling the PUSCH transmission includes a CBGTI field
indicating that the UE shall not transmit the -th code block, =0; otherwise,
is the -th code block size for UL-SCH of the PUSCH transmission;
\- is the scheduled bandwidth of the PUSCH transmission, expressed as a number
of subcarriers;
\- is the number of subcarriers in OFDM symbol that carries PTRS, in the PUSCH
transmission;
\- $Q_{ACK/CG - UCI}^{'} = Q_{\text{ACK}}^{'}$ if HARQ-ACK is present for
transmission on the same PUSCH with UL-SCH and without CG-UCI, where
$Q_{\text{ACK}}^{'}$ is the number of coded modulation symbols per layer for
HARQ-ACK transmitted on the PUSCH as defined in clause 6.3.2.4.1.1 if number
of HARQ-ACK information bits is more than 2, and if the number of HARQ-ACK
information bits is no more than 2 bits, where is the number of reserved
resource elements for potential HARQ-ACK transmission in OFDM symbol , for ,
in the PUSCH transmission, defined in Clause 6.2.7; or
\- $Q_{ACK/CG - UCI}^{'} = Q_{\text{ACK}}^{'}$ if both HARQ-ACK and CG-UCI are
present on the same PUSCH with UL-SCH, where $Q_{\text{ACK}}^{'}$ is the
number of coded modulation symbols per layer for HARQ-ACK and CG-UCI
transmitted on the PUSCH as defined in clause 6.3.2.4.1.5; or
\- $Q_{ACK/CG - UCI}^{'} = Q_{CG - UCI}^{'}$ if CG-UCI is present on the same
PUSCH with UL-SCH and without HARQ-ACK, where $Q_{CG - UCI}^{'}$ is the number
of coded modulation symbols per layer for CG-UCI transmitted on the PUSCH as
defined in clause 6.3.2.4.1.4;
\- is the number of resource elements that can be used for transmission of UCI
in OFDM symbol , for , in the PUSCH transmission and is the total number of
OFDM symbols of the PUSCH, including all OFDM symbols used for DMRS;
\- for any OFDM symbol that carries DMRS of the PUSCH, ;
\- for any OFDM symbol that does not carry DMRS of the PUSCH, ;
\- is configured by higher layer parameter _scaling_.
For CSI part 1 transmission on PUSCH not using repetition type B with UL-SCH,
and if _numberOfSlotsTBoMS_ is present in the resource allocation table and
the value of _numberOfSlotsTBoMS_ in the row indicated by the Time domain
resource assignment field in DCI is larger than 1, the number of coded
modulation symbols per layer for CSI part 1 transmission, denoted as $Q_{CSI -
part1}^{'}$, is determined as follows:
$$Q_{CSI - 1}^{'} = \min\left{ \left\lceil \frac{\left( O_{\text{CSI} - 1} +
L_{CSI - 1} \right) \bullet \beta_{\text{offset}}^{\text{PUSCH}} \bullet
\sum_{l = 0}^{N_{symb,all}^{\text{PU}\text{SCH}} -
1}{M_{\text{sc}}^{\text{UCI}}\left( l \right)}}{\frac{1}{N_{s}}\sum_{r =
0}^{C_{UL - SCH} - 1}K_{r}} \right\rceil,\left\lceil \alpha \bullet \sum_{l =
0}^{N_{symb,all}^{\text{PUSCH}} - 1}{M_{\text{sc}}^{\text{UCI}}\left( l
\right)} \right\rceil - Q_{ACK/CG - UCI}^{'} \right}$$
where
\- $N_{s}$ is the value of _numberOfSlotsTBoMS_ in the row indicated by the
Time domain resource assignment field in DCI;
\- $M_{\text{sc}}^{PT - RC}\left( l \right)$ is the number of subcarriers in
OFDM symbol $l$ that carries PTRS, in the PUSCH transmission of TB processing
over multiple slots in the slot with the CSI part 1 transmission;
\- $M_{\text{sc}}^{\text{UCI}}\left( l \right)\ $is the number of resource
elements that can be used for transmission of UCI in OFDM symbol $l$, for $l =
0,1,2,\ldots,N_{symb,all}^{\text{PUSCH}} - 1$, in the PUSCH transmission of TB
processing over multiple slots in the slot with the CSI part 1 transmission
and $N_{symb,all}^{\text{PUSCH}}\ $is the total number of OFDM symbols of the
PUSCH in the slot, including all OFDM symbols used for DMRS;
\- and all the other notations in the formula are defined the same as for
PUSCH not using repetition type B and if _numberOfSlotsTBoMS_ is not present
in the resource allocation table.
For CSI part 1 transmission on an actual repetition of a PUSCH with repetition
Type B with UL-SCH, the number of coded modulation symbols per layer for CSI
part 1 transmission, denoted as $Q_{\text{CSI-}\text{part}\text{1}}^{'}$, is
determined as follows:
$$Q_{\text{CSI-1}}^{'} = \min\left{ \left\lceil \frac{\left( O_{\text{CSI-1}}
+ L_{\text{CSI-1}} \right) \bullet \beta_{\text{offset}}^{\text{PUSCH}}
\bullet \sum_{l = 0}^{N_{\text{symb,nominal}}^{\text{PUSCH}} -
1}{M_{\text{sc,nominal}}^{\text{UCI}}\left( l \right)}}{\sum_{r =
0}^{C_{\text{UL-SCH}} - 1}K_{r}} \right\rceil,\ \ \ \left\lceil \alpha \bullet
\sum_{l = 0}^{N_{\text{symb,nominal}}^{\text{PUSCH}} -
1}{M_{\text{sc,nominal}}^{\text{UCI}}\left( l \right)} \right\rceil -
Q_{\text{ACK}/\text{CG} - \text{UCI}}^{'}\ ,\ \ \sum_{l =
0}^{N_{\text{symb,actual}}^{\text{PUSCH}} -
1}{M_{\text{sc,actual}}^{\text{UCI}}\left( l \right)} -
Q_{\text{ACK}/\text{CG} - \text{UCI}}^{'} \right}\ $$
where
\- $M_{\text{sc,nominal}}^{\text{UCI}}\left( l \right)$ is the number of
resource elements that can be used for transmission of UCI in OFDM symbol $l$,
for $l = 0,\ 1,\ 2,\ \cdots,\ N_{\text{symb,nominal}}^{\text{PUSCH}} - 1$, in
the PUSCH transmission assuming a nominal repetition without segmentation, and
$N_{\text{symb,nominal}}^{\text{PUSCH}}$ is the total number of OFDM symbols
in a nominal repetition of the PUSCH, including all OFDM symbols used for
DMRS;
\- for any OFDM symbol that carries DMRS of the PUSCH assuming a nominal
repetition without segmentation, $M_{\text{sc,nominal}}^{\text{UCI}}\left( l
\right) = 0$;
\- for any OFDM symbol that does not carry DMRS of the PUSCH assuming a
nominal repetition without segmentation,
$M_{\text{sc,nominal}}^{\text{UCI}}\left( l \right) =
M_{\text{sc}}^{\text{PUSCH}} - M_{\text{sc,nominal}}^{\text{PT-RS}}\left( l
\right)$ where $M_{\text{sc,nominal}}^{\text{PT-RS}}\left( l \right)$ is the
number of subcarriers in OFDM symbol $l$ that carries PTRS, in the PUSCH
transmission assuming a nominal repetition without segmentation;
\- $M_{\text{sc,actual}}^{\text{UCI}}\left( l \right)$ is the number of
resource elements that can be used for transmission of UCI in OFDM symbol $l$,
for $l = 0,\ 1,\ 2,\ \cdots,\ N_{\text{symb,actual}}^{\text{PUSCH}} - 1$, in
the actual repetition of the PUSCH transmission, and
$N_{\text{symb,actual}}^{\text{PUSCH}}$ is the total number of OFDM symbols in
the actual repetition of the PUSCH transmission, including all OFDM symbols
used for DMRS;
\- for any OFDM symbol that carries DMRS of the actual repetition of the PUSCH
transmission, $M_{\text{sc,actual}}^{\text{UCI}}\left( l \right) = 0$;
\- for any OFDM symbol that does not carry DMRS of the actual repetition of
the PUSCH transmission, $M_{\text{sc,actual}}^{\text{UCI}}\left( l \right) =
M_{\text{sc}}^{\text{PUSCH}} - M_{\text{sc,actual}}^{\text{PT-RS}}\left( l
\right)$ where $M_{\text{sc,actual}}^{\text{PT-RS}}\left( l \right)$ is the
number of subcarriers in OFDM symbol $l$ that carries PTRS, in the actual
repetition of the PUSCH transmission;
\- and all the other notations in the formula are defined the same as for
PUSCH not using repetition type B and if _numberOfSlotsTBoMS_ is not present
in the resource allocation table.
For CSI part 1 transmission on PUSCH without UL-SCH, the number of coded
modulation symbols per layer for CSI part 1 transmission, denoted as , is
determined as follows:
if there is CSI part 2 to be transmitted on the PUSCH,
else
end if
where
\- is the number of bits for CSI part 1;
\- if , ; otherwise is the number of CRC bits for CSI part 1 determined
according to Clause 6.3.1.2.1;
\- ;
\- is the scheduled bandwidth of the PUSCH transmission, expressed as a number
of subcarriers;
\- is the number of subcarriers in OFDM symbol that carries PTRS, in the PUSCH
transmission;
\- is the number of coded modulation symbols per layer for HARQ-ACK
transmitted on the PUSCH if number of HARQ-ACK information bits is more than
2, and if the number of HARQ-ACK information bits is no more than 2 bits,
where is the number of reserved resource elements for potential HARQ-ACK
transmission in OFDM symbol , for , in the PUSCH transmission, defined in
Clause 6.2.7;
\- is the number of resource elements that can be used for transmission of UCI
in OFDM symbol , for , in the PUSCH transmission and is the total number of
OFDM symbols of the PUSCH, including all OFDM symbols used for DMRS;
\- for any OFDM symbol that carries DMRS of the PUSCH, ;
\- for any OFDM symbol that does not carry DMRS of the PUSCH, ;
\- is the code rate of the PUSCH, determined according to Clause 6.1.4.1 of
[6, TS38.214];
\- is the modulation order of the PUSCH.
The input bit sequence to rate matching is where is the code block number, and
is the number of coded bits in code block number .
Rate matching is performed according to Clause 5.4.1 by setting and the rate
matching output sequence length to , where
\- is the number of code blocks for UCI determined according to Clause 5.2.1;
\- is the number of transmission layers of the PUSCH;
\- is the modulation order of the PUSCH;
\- .
The output bit sequence after rate matching is denoted as where is the length
of rate matching output sequence in code block number .
##### 6.3.2.4.1.3 CSI part 2 {#csi-part-2 .H6}
For CSI part 2 transmission on PUSCH not using repetition type B with UL-SCH
and if _numberOfSlotsTBoMS_ is not present in the resource allocation table,
or if _numberOfSlotsTBoMS_ is present in the resource allocation table and the
value of _numberOfSlotsTBoMS_ in the row indicated by the Time domain resource
assignment field in DCI is equal to 1, the number of coded modulation symbols
per layer for CSI part 2 transmission, denoted as , is determined as follows:
$Q_{CSI - 2}^{'} = min\left{ \left\lceil \frac{\left( O_{CSI - 2} + L_{CSI -
2} \right) \bullet \beta_{\text{offset}}^{\text{PUSCH}} \bullet \sum_{l =
0}^{N_{symb,all}^{\text{PUSCH}} - 1}{M_{\text{sc}}^{\text{UCI}}\left( l
\right)}}{\sum_{r = 0}^{C_{\text{UL} - \text{SCH}} - 1}K_{r}}
\right\rceil,\left\lceil \alpha \bullet \sum_{l =
0}^{N_{symb,all}^{\text{PUSCH}} - 1}{M_{\text{sc}}^{\text{UCI}}\left( l
\right)} \right\rceil - Q_{\text{ACK}/\text{CG} - \text{UCI}}^{'} - Q_{CSI -
1}^{'} \right}$
where
\- is the number of bits for CSI part 2;
\- if , ; otherwise is the number of CRC bits for CSI part 2 determined
according to Clause 6.3.1.2.1;
\- ;
\- is the number of code blocks for UL-SCH of the PUSCH transmission;
\- if the DCI format scheduling the PUSCH transmission includes a CBGTI field
indicating that the UE shall not transmit the -th code block, =0; otherwise,
is the -th code block size for UL-SCH of the PUSCH transmission;
\- is the scheduled bandwidth of the PUSCH transmission, expressed as a number
of subcarriers;
\- is the number of subcarriers in OFDM symbol that carries PTRS, in the PUSCH
transmission;
\- $Q_{ACK/CG - UCI}^{'} = Q_{\text{ACK}}^{'}$ if HARQ-ACK is present for
transmission on the same PUSCH with UL-SCH and without CG-UCI, where
$Q_{\text{ACK}}^{'}$ is the number of coded modulation symbols per layer for
HARQ-ACK transmitted on the PUSCH as defined in clause 6.3.2.4.1.1 if number
of HARQ-ACK information bits is more than 2, and if the number of HARQ-ACK
information bits is 1 or 2 bits; or
\- $Q_{ACK/CG - UCI}^{'} = Q_{\text{ACK}}^{'}$ if both HARQ-ACK and CG-UCI are
present on the same PUSCH with UL-SCH, where $Q_{\text{ACK}}^{'}$ is the
number of coded modulation symbols per layer for HARQ-ACK and CG-UCI
transmitted on the PUSCH as defined in clause 6.3.2.4.1.5; or
\- $Q_{ACK/CG - UCI}^{'} = Q_{CG - UCI}^{'}$ if CG-UCI is present on the same
PUSCH with UL-SCH and without HARQ-ACK, where $Q_{CG - UCI}^{'}$ is the number
of coded modulation symbols per layer for CG-UCI transmitted on the PUSCH as
defined in clause 6.3.2.4.1.4;
\- is the number of coded modulation symbols per layer for CSI part 1
transmitted on the PUSCH;
\- is the number of resource elements that can be used for transmission of UCI
in OFDM symbol , for , in the PUSCH transmission and is the total number of
OFDM symbols of the PUSCH, including all OFDM symbols used for DMRS;
\- for any OFDM symbol that carries DMRS of the PUSCH, ;
\- for any OFDM symbol that does not carry DMRS of the PUSCH, .
\- is configured by higher layer parameter _scaling_.
For CSI part 2 transmission on PUSCH not using repetition type B with UL-SCH,
and if _numberOfSlotsTBoMS_ is present in the resource allocation table and
the value of _numberOfSlotsTBoMS_ in the row indicated by the Time domain
resource assignment field in DCI is larger than 1, the number of coded
modulation symbols per layer for CSI part 2 transmission, denoted as $Q_{CSI -
part2}^{'}$, is determined as follows:
$$Q_{CSI - 2}^{'} = \min\left{ \left\lceil \frac{\left( O_{\text{CSI} - 2} +
L_{CSI - 2} \right) \bullet \beta_{\text{offset}}^{\text{PUSCH}} \bullet
\sum_{l = 0}^{N_{symb,all}^{\text{PUSCH}} -
1}{M_{\text{sc}}^{\text{UCI}}\left( l \right)}}{\frac{1}{N_{s}}\sum_{r =
0}^{C_{UL - SCH} - 1}K_{r}} \right\rceil,\left\lceil \alpha \bullet \sum_{l =
0}^{N_{symb,all}^{\text{PUSCH}} - 1}{M_{\text{sc}}^{\text{UCI}}\left( l
\right)} \right\rceil - Q_{ACK/CG - UCI}^{'} - Q_{CSI - 1}^{'} \right}$$
where
\- $N_{s}$ is the value of _numberOfSlotsTBoMS_ in the row indicated by the
Time domain resource assignment field in DCI;
\- $M_{\text{sc}}^{PT - RS}\left( l \right)\ $is the number of subcarriers in
OFDM symbol $l$ that carries PTRS, in the PUSCH transmission of TB processing
over multiple slots in the slot with the CSI part 2 transmission;
\- $M_{\text{sc}}^{\text{UCI}}\left( l \right)\ $is the number of resource
elements that can be used for transmission of UCI in OFDM symbol $l$, for $l =
0,1,2,\ldots,N_{symb,all}^{\text{PUSCH}} - 1$, in the PUSCH transmission of TB
processing over multiple slots in the slot with the CSI part 2 transmission
and $N_{symb,all}^{\text{PUSCH}}\ $is the total number of OFDM symbols of the
PUSCH in the slot, including all OFDM symbols used for DMRS;
\- and all the other notations in the formula are defined the same as for
PUSCH not using repetition type B and if _numberOfSlotsTBoMS_ is not present
in the resource allocation table.
For CSI part 2 transmission on an actual repetition of a PUSCH with repetition
Type B with UL-SCH, the number of coded modulation symbols per layer for CSI
part 2 transmission, denoted as $Q_{\text{CSI-}\text{part}\text{2}}^{'}$, is
determined as follows:
$$Q_{\text{CSI-2}}^{'} = \min\left{ \left\lceil \frac{\left( O_{\text{CSI-2}}
+ L_{\text{CSI-2}} \right) \bullet \beta_{\text{offset}}^{\text{PUSCH}}
\bullet \sum_{l = 0}^{N_{\text{symb,nominal}}^{\text{PUSCH}} -
1}{M_{\text{sc,nominal}}^{\text{UCI}}\left( l \right)}}{\sum_{r =
0}^{C_{\text{UL-SCH}} - 1}K_{r}} \right\rceil,\ \ \ \left\lceil \alpha \bullet
\sum_{l = 0}^{N_{\text{symb,nominal}}^{\text{PUSCH}} -
1}{M_{\text{sc,nominal}}^{\text{UCI}}\left( l \right)} \right\rceil -
Q_{\text{ACK}/\text{CG} - \text{UCI}}^{'} - Q_{\text{CSI-1}}^{'}\ ,\ \ \sum_{l
= 0}^{N_{\text{symb,actual}}^{\text{PUSCH}} -
1}{M_{\text{sc,actual}}^{\text{UCI}}\left( l \right)} -
Q_{\text{ACK}/\text{CG} - \text{UCI}}^{'} - Q_{\text{CSI-1}}^{'} \right}\ $$
where
\- $M_{\text{sc,nominal}}^{\text{UCI}}\left( l \right)$ is the number of
resource elements that can be used for transmission of UCI in OFDM symbol $l$,
for $l = 0,\ 1,\ 2,\ \cdots,\ N_{\text{symb,nominal}}^{\text{PUSCH}} - 1$, in
the PUSCH transmission assuming a nominal repetition without segmentation, and
$N_{\text{symb,nominal}}^{\text{PUSCH}}$ is the total number of OFDM symbols
in a nominal repetition of the PUSCH, including all OFDM symbols used for
DMRS;
\- for any OFDM symbol that carries DMRS of the PUSCH assuming a nominal
repetition without segmentation, $M_{\text{sc,nominal}}^{\text{UCI}}\left( l
\right) = 0$;
\- for any OFDM symbol that does not carry DMRS of the PUSCH assuming a
nominal repetition without segmentation,
$M_{\text{sc,nominal}}^{\text{UCI}}\left( l \right) =
M_{\text{sc}}^{\text{PUSCH}} - M_{\text{sc,nominal}}^{\text{PT-RS}}\left( l
\right)$ where $M_{\text{sc,nominal}}^{\text{PT-RS}}\left( l \right)$ is the
number of subcarriers in OFDM symbol $l$ that carries PTRS, in the PUSCH
transmission assuming a nominal repetition without segmentation;
\- $M_{\text{sc,actual}}^{\text{UCI}}\left( l \right)$ is the number of
resource elements that can be used for transmission of UCI in OFDM symbol $l$,
for $l = 0,\ 1,\ 2,\ \cdots,\ N_{\text{symb,actual}}^{\text{PUSCH}} - 1$, in
the actual repetition of the PUSCH transmission, and
$N_{\text{symb,actual}}^{\text{PUSCH}}$ is the total number of OFDM symbols in
the actual repetition of the PUSCH transmission, including all OFDM symbols
used for DMRS;
\- for any OFDM symbol that carries DMRS of the actual repetition of the PUSCH
transmission, $M_{\text{sc,actual}}^{\text{UCI}}\left( l \right) = 0$;
\- for any OFDM symbol that does not carry DMRS of the actual repetition of
the PUSCH transmission, $M_{\text{sc,actual}}^{\text{UCI}}\left( l \right) =
M_{\text{sc}}^{\text{PUSCH}} - M_{\text{sc,actual}}^{\text{PT-RS}}\left( l
\right)$ where $M_{\text{sc,actual}}^{\text{PT-RS}}\left( l \right)$ is the
number of subcarriers in OFDM symbol $l$ that carries PTRS, in the actual
repetition of the PUSCH transmission;
\- and all the other notations in the formula are defined the same as for
PUSCH not using repetition type B and if _numberOfSlotsTBoMS_ is not present
in the resource allocation table.
For CSI part 2 transmission on PUSCH without UL-SCH, the number of coded
modulation symbols per layer for CSI part 2 transmission, denoted as , is
determined as follows:
where
\- is the scheduled bandwidth of the PUSCH transmission, expressed as a number
of subcarriers;
\- is the number of subcarriers in OFDM symbol that carries PTRS, in the PUSCH
transmission;
\- is the number of coded modulation symbols per layer for HARQ-ACK
transmitted on the PUSCH if number of HARQ-ACK information bits is more than
2, and if the number of HARQ-ACK information bits is 1 or 2 bits;
\- is the number of coded modulation symbols per layer for CSI part 1
transmitted on the PUSCH;
\- is the number of resource elements that can be used for transmission of UCI
in OFDM symbol , for , in the PUSCH transmission and is the total number of
OFDM symbols of the PUSCH, including all OFDM symbols used for DMRS;
\- for any OFDM symbol that carries DMRS of the PUSCH, ;
\- for any OFDM symbol that does not carry DMRS of the PUSCH, .
The input bit sequence to rate matching is where is the code block number, and
is the number of coded bits in code block number .
Rate matching is performed according to Clause 5.4.1 by setting and the rate
matching output sequence length to , where
\- is the number of code blocks for UCI determined according to Clause 5.2.1;
\- is the number of transmission layers of the PUSCH;
\- is the modulation order of the PUSCH;
\- .
The output bit sequence after rate matching is denoted as where is the length
of rate matching output sequence in code block number .
##### 6.3.2.4.1.4 CG-UCI {#cg-uci-1 .H6}
For CG-UCI transmission on PUSCH with UL-SCH and if _numberOfSlotsTBoMS_ is
not present in the resource allocation table, or if _numberOfSlotsTBoMS_ is
present in the resource allocation table and the value of _numberOfSlotsTBoMS_
in the row indicated by the Time domain resource assignment field in DCI is
equal to 1, the number of coded modulation symbols per layer for CG-UCI
transmission, denoted as $Q_{CG - UCI}^{'}$, is determined as follows:
$Q_{CG - UCI}^{'} = \min\left{ \left\lceil \frac{\left( O_{CG - UCI} + L_{CG -
UCI} \right) \bullet \beta_{\text{offset}}^{\text{PUSCH}} \bullet \sum_{l =
0}^{N_{symb,all}^{\text{PUSCH}} - 1}{M_{\text{sc}}^{\text{UCI}}\left( l
\right)}}{\sum_{r = 0}^{C_{\text{UL} - \text{SCH}} - 1}K_{r}}
\right\rceil,\left\lceil \alpha \bullet \sum_{l =
l_{0}}^{N_{symb,all}^{\text{PUSCH}} - 1}{M_{\text{sc}}^{\text{UCI}}\left( l
\right)} \right\rceil \right}$
where
\- $O_{CG - UCI}$ is the number of CG-UCI bits;
\- $L_{CG - UCI}$ is the number of CRC bits for CG-UCI determined according to
Clause 6.3.1.2.1;
\- $\beta_{\text{offset}}^{\text{PUSCH}} = \beta_{\text{offset}}^{CG - UCI}$;
\- $C_{UL - SCH}$ is the number of code blocks for UL-SCH of the PUSCH
transmission;
\- $K_{r}$ is the _r_ -th code block size for UL-SCH of the PUSCH
transmission;
\- $M_{\text{sc}}^{\text{PUSCH}}$ is the scheduled bandwidth of the PUSCH
transmission, expressed as a number of subcarriers;
\- $M_{\text{sc}}^{PT - RS}\left( l \right)$ is the number of subcarriers in
OFDM symbol _l_ that carries PTRS, in the PUSCH transmission;
\- $M_{\text{sc}}^{\text{UCI}}\left( l \right)$ is the number of resource
elements that can be used for transmission of UCI in OFDM symbol _l_ , for
$l$=0,1,2,..., $N_{symb,all}^{\text{PUSCH}} - 1$, in the PUSCH transmission
and $N_{symb,all}^{\text{PUSCH}}$ is the total number of OFDM symbols of the
PUSCH, including all OFDM symbols used for DMRS;
\- for any OFDM symbol that carries DMRS of the PUSCH,
$M_{\text{sc}}^{\text{UCI}}\left( l \right) = 0$;
\- for any OFDM symbol that does not carry DMRS of the PUSCH,
$M_{\text{sc}}^{\text{UCI}}\left( l \right) = M_{\text{sc}}^{\text{PUSCH}} - \
M_{\text{sc}}^{PT - RS}\left( l \right)$;
\- $\alpha$ is configured by higher layer parameter _scaling_ ;
\- $l_{0}$ is the symbol index of the first OFDM symbol that does not carry
DMRS of the PUSCH, after the first DMRS symbol(s), in the PUSCH transmission.
For CG-UCI transmission on PUSCH with UL-SCH, and if _numberOfSlotsTBoMS_ is
present in the resource allocation table and the value of _numberOfSlotsTBoMS_
in the row indicated by the Time domain resource assignment field in DCI is
larger than 1, the number of coded modulation symbols per layer for CG-UCI
transmission, denoted as $Q_{CG - UCI}^{'}$, is determined as follows:
$$Q_{CG - UCI}^{'} = \min\left{ \left\lceil \frac{\left( O_{CG - UCI} +
L_{\text{CG} - \text{UCI}} \right){\bullet
\beta}_{\text{offset}}^{\text{PUSCH}} \bullet \sum_{l =
0}^{N_{symb,all}^{\text{PUSCH}} - 1}{M_{\text{sc}}^{\text{UCI}}\left( l
\right)}}{\frac{1}{N_{s}}\sum_{r = 0}^{C_{UL - SCH} - 1}K_{r}}
\right\rceil,\left\lceil \alpha \bullet \sum_{l =
l_{0}}^{N_{symb,all}^{\text{PUSCH}} - 1}{M_{\text{sc}}^{\text{UCI}}\left( l
\right)} \right\rceil \right}$$
where
\- $N_{s}$ is the value of _numberOfSlotsTBoMS_ in the row indicated by the
Time domain resource assignment field in DCI;
\- $M_{\text{sc}}^{PT - RS}\left( l \right)\ $is the number of subcarriers in
OFDM symbol$\text{\ l}$ that carries PTRS, in the PUSCH transmission of TB
processing over multiple slots in the slot with the CG-UCI transmission;
\- $M_{\text{sc}}^{\text{UCI}}\left( l \right)$is the number of resource
elements that can be used for transmission of UCI in OFDM symbol $l$, for $l =
0,1,2,\ldots,N_{symb,all}^{\text{PUSCH}} - 1$, in the PUSCH transmission of TB
processing over multiple slots in the slot with the CG-UCI transmission and
$N_{symb,all}^{\text{PUSCH}}$ is the total number of OFDM symbols of the PUSCH
in the slot, including all OFDM symbols used for DMRS;
\- $l_{0}\ $is the symbol index of the first OFDM symbol that does not carry
DMRS of the PUSCH, after the first DMRS symbol(s), in the PUSCH transmission
of TB processing over multiple slots in the slot with the CG-UCI transmission;
\- and all the other notations in the formula are defined the same as for
PUSCH with UL-SCH and if _numberOfSlotsTBoMS_ is not present in the resource
allocation table.
The input bit sequence to rate matching is $d_{r0},\ d_{r1},\ d_{r2},\
d_{r3},\ \ldots,\ d_{r\left( N_{r} - 1 \right)}$ where _r_ is the code block
number, and $N_{r}$ is the number of coded bits in code block number _r_.
Rate matching is performed according to Clause 5.4.1 by setting
$I_{\text{BIL}} = 1$ and the rate matching output sequence length to $E_{r} =
\left\lfloor \frac{E_{\text{UCI}}}{C_{\text{UCI}}} \right\rfloor$, where
\- $C_{\text{UCI}}$ is the number of code blocks for UCI determined according
to Clause 5.2.1;
\- $N_{L}$ is the number of transmission layers of the PUSCH;
\- $Q_{m}$ is the modulation order of the PUSCH;
\- $E_{\text{UCI}} = N_{L} \bullet Q_{CG - UCI}^{'} \bullet Q_{m}$.
The output bit sequence after rate matching is denoted as $f_{r0},\
f_{r1},f_{r2},\ \ldots,\ f_{r\left( E_{r} - 1 \right)}$ where $E_{r}$ is the
length of rate matching output sequence in code block number _r_.
##### 6.3.2.4.1.5 HARQ-ACK and CG-UCI {#harq-ack-and-cg-uci .H6}
For HARQ-ACK and CG-UCI transmission on PUSCH with UL-SCH and if
_numberOfSlotsTBoMS_ is not present in the resource allocation table, or if
_numberOfSlotsTBoMS_ is present in the resource allocation table and the value
of _numberOfSlotsTBoMS_ in the row indicated by the Time domain resource
assignment field in DCI is equal to 1, the number of coded modulation symbols
per layer for HARQ-ACK and CG-UCI transmission, denoted as
$Q_{\text{ACK}}^{'}$, is determined as follows:
$Q_{\text{ACK}}^{'} = min\left{ \left\lceil \frac{\left( O_{\text{ACK}} +
O_{\text{CG} - \text{UCI}} + L_{\text{ACK}} \right) \bullet
\beta_{\text{offset}}^{\text{PUSCH}} \bullet \sum_{l =
0}^{N_{symb,all}^{\text{PUSCH}} - 1}{M_{\text{sc}}^{\text{UCI}}\left( l
\right)}}{\sum_{r = 0}^{C_{\text{UL} - \text{SCH}} - 1}K_{r}}
\right\rceil,\left\lceil \alpha \bullet \sum_{l =
l_{0}}^{N_{symb,all}^{\text{PUSCH}} - 1}{M_{\text{sc}}^{\text{UCI}}\left( l
\right)} \right\rceil \right}$
where
\- $O_{\text{ACK}}$ is the number of HARQ-ACK bits;
\- $O_{CG - UCI}$ is the number of CG-UCI bits;
\- if ${O_{\text{ACK}} + O}_{CG - UCI} > 360$, $L_{\text{ACK}} = 11$;
otherwise $L_{\text{ACK}}$ is the number of CRC bits for HARQ-ACK and CG-UCI
determined according to Clause 6.3.1.2.1;
\- $\beta_{\text{offset}}^{\text{PUSCH}} = \beta_{\text{offset}}^{HARQ -
ACK}$;
\- $C_{UL - SCH}$ is the number of code blocks for UL-SCH of the PUSCH
transmission;
\- $K_{r}$ is the _r_ -th code block size for UL-SCH of the PUSCH
transmission;
\- $M_{\text{sc}}^{\text{PUSCH}}$ is the scheduled bandwidth of the PUSCH
transmission, expressed as a number of subcarriers;
\- $M_{\text{sc}}^{PT - RS}\left( l \right)$ is the number of subcarriers in
OFDM symbol _l_ that carries PTRS, in the PUSCH transmission;
\- $M_{\text{sc}}^{\text{UCI}}\left( l \right)$ is the number of resource
elements that can be used for transmission of UCI in OFDM symbol _l_ , for
$l$=0,1,2,..., $N_{symb,all}^{\text{PUSCH}} - 1$, in the PUSCH transmission
and $N_{symb,all}^{\text{PUSCH}}$ is the total number of OFDM symbols of the
PUSCH, including all OFDM symbols used for DMRS;
\- for any OFDM symbol that carries DMRS of the PUSCH,
$M_{\text{sc}}^{\text{UCI}}\left( l \right) = 0$;
\- for any OFDM symbol that does not carry DMRS of the PUSCH,
$M_{\text{sc}}^{\text{UCI}}\left( l \right) = M_{\text{sc}}^{\text{PUSCH}} - \
M_{\text{sc}}^{PT - RS}\left( l \right)$;
\- $\alpha$ is configured by higher layer parameter _scaling_ ;
\- $l_{0}$ is the symbol index of the first OFDM symbol that does not carry
DMRS of the PUSCH, after the first DMRS symbol(s), in the PUSCH transmission.
For HARQ-ACK and CG-UCI transmission on PUSCH with UL-SCH, and if
_numberOfSlotsTBoMS_ is present in the resource allocation table and the value
of _numberOfSlotsTBoMS_ in the row indicated by the Time domain resource
assignment field in DCI is larger than 1, the number of coded modulation
symbols per layer for HARQ-ACK and CG-UCI transmission, denoted as
$Q_{\text{ACK}}^{'}$, is determined as follows:
$$Q_{\text{ACK}}^{'} = \min\left{ \left\lceil \frac{\left( O_{\text{ACK}} +
O_{CG - UCI} + L_{\text{ACK}} \right){\bullet
\beta}_{\text{offset}}^{\text{PUSCH}} \bullet \sum_{l =
0}^{N_{symb,all}^{\text{PUSCH}} - 1}{M_{\text{sc}}^{\text{UCI}}\left( l
\right)}}{\frac{1}{N_{s}}\sum_{r = 0}^{C_{UL - SCH} - 1}K_{r}}
\right\rceil,\left\lceil \alpha \bullet \sum_{l =
l_{0}}^{N_{symb,all}^{\text{PUSCH}} - 1}{M_{\text{sc}}^{\text{UCI}}\left( l
\right)} \right\rceil \right}$$
where
\- $N_{s}$ is the value of _numberOfSlotsTBoMS_ in the row indicated by the
Time domain resource assignment field in DCI;
\- $M_{\text{sc}}^{PT - RS}\left( l \right)\ $is the number of subcarriers in
OFDM symbol $l$ that carries PTRS, in the PUSCH transmission of TB processing
over multiple slots in the slot with the HARQ-ACK and CG-UCI transmission;
\- $M_{\text{sc}}^{\text{UCI}}\left( l \right)\ $is the number of resource
elements that can be used for transmission of UCI in OFDM symbol $l$, for $l =
0,1,2,\ldots,N_{symb,all}^{\text{PUSCH}} - 1$, in the PUSCH transmission of TB
processing over multiple slots in the slot with the HARQ-ACK and CG-UCI
transmission and $N_{symb,all}^{\text{PUSCH}}$ is the total number of OFDM
symbols of the PUSCH in the slot, including all OFDM symbols used for DMRS;
\- $l_{0}\ $is the symbol index of the first OFDM symbol that does not carry
DMRS of the PUSCH, after the first DMRS symbol(s), in the PUSCH transmission
of TB processing over multiple slots in the slot with the HARQ-ACK and CG-UCI
transmission;
\- and all the other notations in the formula are defined the same as for
PUSCH with UL-SCH and if _numberOfSlotsTBoMS_ is not present in the resource
allocation table.
The input bit sequence to rate matching is $d_{r0},\ d_{r1},\ d_{r2},\
d_{r3},\ \ldots,\ d_{r\left( N_{r} - 1 \right)}$ where _r_ is the code block
number, and $N_{r}$ is the number of coded bits in code block number _r_.
Rate matching is performed according to Clause 5.4.1 by setting
$I_{\text{BIL}} = 1$ and the rate matching output sequence length to $E_{r} =
\left\lfloor \frac{E_{\text{UCI}}}{C_{\text{UCI}}} \right\rfloor$, where
\- $C_{\text{UCI}}$ is the number of code blocks for UCI determined according
to Clause 5.2.1;
\- $N_{L}$ is the number of transmission layers of the PUSCH;
\- $Q_{m}$ is the modulation order of the PUSCH;
\- $E_{\text{UCI}} = N_{L} \bullet Q_{\text{ACK}}^{'} \bullet Q_{m}$.
The output bit sequence after rate matching is denoted as $f_{r0},\
f_{r1},f_{r2},\ \ldots,\ f_{r\left( E_{r} - 1 \right)}$ where $E_{r}$ is the
length of rate matching output sequence in code block number _r_.
##### 6.3.2.4.1.6 UCI with different priority indexes {#uci-with-different-
priority-indexes-2 .H6}
In this clause, $\beta_{\text{offset}}^{HARQ - ACK - LP}\ $is equal to
$\beta_{\text{offset}}^{HARQ - ACK,0}$ defined in [5, TS38.213] in case of
PUSCH associated with priority index 1, and equal to
$\beta_{\text{offset}}^{HARQ - ACK}$ defined in [5, TS38.213] in case of PUSCH
associated with priority index 0. $\beta_{\text{offset}}^{HARQ - ACK - HP}\
$is equal to $\beta_{\text{offset}}^{HARQ - ACK,1}$ defined in [5, TS38.213]
in case of PUSCH associated with priority index 0, and equal to
$\beta_{\text{offset}}^{HARQ - ACK}$ defined in [5, TS38.213] in case of PUSCH
associated with priority index 1.
If _uci-MuxWithDiffPrio_ is configured, and HARQ-ACK bits associated with
priority index 0, and CSI part 1 if any are transmitted on a PUSCH associated
with priority index 1:
\- If CSI part 1 is also transmitted on the PUSCH,
\- Perform rate matching for CSI part 1 according to clause 6.3.2.4.1.2, by
assuming the number of HARQ-ACK information bits to be transmitted on PUSCH in
clause 6.3.2.4.1.2 is 0 bit.
\- Perform rate matching for HARQ-ACK with priority index 0 according to
clause 6.3.2.4.1.3, by taking HARQ-ACK with priority index 0 as CSI part 2 and
replacing $\beta_{\text{offset}}^{\text{PUSCH}}$ by
$\beta_{\text{offset}}^{HARQ - ACK - LP}$, and assuming the number of HARQ-ACK
information bits to be transmitted on PUSCH in clause 6.3.2.4.1.3 is 0 bit.
\- Otherwise, perform rate matching for HARQ-ACK with priority index 0
according to clause 6.3.2.4.1.2, by taking HARQ-ACK with priority index 0 as
CSI-part 1 and replacing $\beta_{\text{offset}}^{\text{PUSCH}}$ by
$\beta_{\text{offset}}^{HARQ - ACK - LP}$, and assuming the number of HARQ-ACK
information bits to be transmitted on PUSCH in clause 6.3.2.4.1.2 is 0 bit.
If _uci-MuxWithDiffPrio_ is configured, and HARQ-ACK bits associated with
priority index 1, and CSI if any are transmitted on a PUSCH associated with
priority index 0:
\- Perform rate matching for HARQ-ACK with priority index 1 according to
clause 6.3.2.4.1.1, by taking HARQ-ACK with priority index 1 as HARQ-ACK and
replacing $\beta_{\text{offset}}^{\text{PUSCH}}$ by
$\beta_{\text{offset}}^{HARQ - ACK - HP}$.
\- Perform rate matching for CSI part 1 according to clause 6.3.2.4.1.2, by
taking HARQ-ACK with priority index 1 as HARQ-ACK, if CSI part 1 is also
transmitted on the PUSCH.
\- Perform rate matching for CSI part 2 according to clause 6.3.2.4.1.3, by
taking HARQ-ACK with priority index 1 as HARQ-ACK, if CSI part 2 is also
transmitted on the PUSCH.
If _uci-MuxWithDiffPrio_ is configured, and HARQ-ACK bits associated with
priority index 0, HARQ-ACK bits associated with priority index 1 and/or CG-UCI
associated with priority index 1, and CSI part 1 if any are transmitted on a
PUSCH:
\- Perform rate matching for HARQ-ACK with priority index 1 according to
clause 6.3.2.4.1.1, by taking HARQ-ACK with priority index 1 as HARQ-ACK and
replacing $\beta_{\text{offset}}^{\text{PUSCH}}$ by
$\beta_{\text{offset}}^{HARQ - ACK - HP}$, if HARQ-ACK bits associated with
priority index 1 are transmitted without CG-UCI associated with priority index
1.
\- Perform rate matching for CG-UCI with priority index 1 according to clause
6.3.2.4.1.4, if CG-UCI associated with priority index 1 is transmitted without
HARQ-ACK bits associated with priority index 1.
\- Perform rate matching for CG-UCI with priority index 1 and HARQ-ACK with
priority index 1 according to clause 6.3.2.4.1.5, if both CG-UCI associated
with priority index 1 and HARQ-ACK bits associated with priority index 1 are
transmitted, by taking HARQ-ACK with priority index 1 as HARQ-ACK and
replacing $\beta_{\text{offset}}^{\text{PUSCH}}$ by
$\beta_{\text{offset}}^{HARQ - ACK - HP}$.
\- If CSI part 1 is also transmitted on the PUSCH and the PUSCH is associated
with priority index 1,
\- Perform rate matching for CSI part 1 according to clause 6.3.2.4.1.2, by
taking HARQ-ACK with priority index 1 if any as HARQ-ACK, and taking CG-UCI
associated with priority index 1 if any as CG-UCI.
\- Perform rate matching for HARQ-ACK with priority index 0 according to
clause 6.3.2.4.1.3, by taking HARQ-ACK with priority index 0 as CSI part 2 and
replacing $\beta_{\text{offset}}^{\text{PUSCH}}$ by
$\beta_{\text{offset}}^{HARQ - ACK - LP}$, and taking HARQ-ACK with priority
index 1 if any as HARQ-ACK, and taking CG-UCI associated with priority index 1
if any as CG-UCI.
\- Otherwise,
\- Perform rate matching for HARQ-ACK with priority index 0 according to
clause 6.3.2.4.1.2, by taking HARQ-ACK with priority index 0 as CSI-part 1 and
replacing $\beta_{\text{offset}}^{\text{PUSCH}}$ by
$\beta_{\text{offset}}^{HARQ - ACK - LP},$ and taking HARQ-ACK with priority
index 1 if any as HARQ-ACK, and taking CG-UCI associated with priority index 1
if any as CG-UCI.
\- Perform rate matching for CSI part 1 according to clause 6.3.2.4.1.3, by
taking CSI part 1 as CSI part 2 and replacing
$\beta_{\text{offset}}^{\text{PUSCH}}$ by $\beta_{\text{offset}}^{CSI -
part1}$, taking HARQ-ACK with priority index 0 as CSI-part 1 and taking HARQ-
ACK with priority index 1 as HARQ-ACK, if CSI part 1 is also transmitted on
the PUSCH and the PUSCH is associated with priority index 0.
If _uci-MuxWithDiffPrio_ is configured, and CG-UCI associated with priority
index 0 and HARQ-ACK bits associated with priority index 0 if any, HARQ-ACK
bits associated with priority index 1, and CSI part 1 if any are transmitted
on a PUSCH associated with priority index 0:
\- Perform rate matching for HARQ-ACK with priority index 1 according to
clause 6.3.2.4.1.1, by taking HARQ-ACK with priority index 1 as HARQ-ACK and
replacing $\beta_{\text{offset}}^{\text{PUSCH}}$ by
$\beta_{\text{offset}}^{HARQ - ACK - HP}$.
\- Perform rate matching for CG-UCI associated with priority index 0 according
to clause 6.3.2.4.1.2, if CG-UCI associated with priority index 0 is
transmitted without HARQ-ACK bits associated with priority index 0, by taking
CG-UCI associated with priority index 0 as CSI-part 1 and replacing
$\beta_{\text{offset}}^{\text{PUSCH}}$ by $\beta_{\text{offset}}^{CG - UCI},$
and taking HARQ-ACK with priority index 1 as HARQ-ACK.
\- Perform rate matching for CG-UCI associated with priority index 0 and HARQ-
ACK bits associated with priority index 0 according to clause 6.3.2.4.1.2, if
both CG-UCI associated with priority index 0 and HARQ-ACK bits associated with
priority index 0 are transmitted, by taking CG-UCI associated with priority
index 0 and HARQ-ACK bits associated with priority index 0 as CSI-part 1 and
replacing $\beta_{\text{offset}}^{\text{PUSCH}}$ by
$\beta_{\text{offset}}^{HARQ - ACK - LP},$ and taking HARQ-ACK with priority
index 1 as HARQ-ACK.
\- Perform rate matching for CSI part 1 according to clause 6.3.2.4.1.3, by
taking CSI part 1 as CSI part 2 and replacing
$\beta_{\text{offset}}^{\text{PUSCH}}$ by $\beta_{\text{offset}}^{CSI -
part1}$, taking CG-UCI associated with priority index 0 and HARQ-ACK bits
associated with priority index 0 if any as CSI-part 1 and taking HARQ-ACK with
priority index 1 as HARQ-ACK, if CSI part 1 is also transmitted on the PUSCH
and the PUSCH is associated with priority index 0.
##### 6.3.2.4.2 UCI encoded by channel coding of small block lengths
If the higher layer parameter _nrof_UTO_UCI_ is configured, the procedures in
this clause and the clauses it refers to apply by replacing CG-UCI with UTO-
UCI in all the notations and texts.
##### 6.3.2.4.2.1 HARQ-ACK {#harq-ack-2 .H6}
For HARQ-ACK transmission on PUSCH, the number of coded modulation symbols per
layer for HARQ-ACK transmission, denoted as , is determined according to
Clause 6.3.2.4.1.1, by setting the number of CRC bits .
The input bit sequence to rate matching is .
Rate matching is performed according to Clause 5.4.3, by setting the rate
matching output sequence length , where
\- is the number of transmission layers of the PUSCH;
\- is the modulation order of the PUSCH.
The output bit sequence after rate matching is denoted as .
##### 6.3.2.4.2.2 CSI part 1 {#csi-part-1-1 .H6}
For CSI part 1 transmission on PUSCH, the number of coded modulation symbols
per layer for CSI part 1 transmission, denoted as , is determined according to
Clause 6.3.2.4.1.2, by setting the number of CRC bits .
Rate matching is performed according to Clause 5.4.3, by setting the rate
matching output sequence length , where
\- is the number of transmission layers of the PUSCH;
\- is the modulation order of the PUSCH.
The output bit sequence after rate matching is denoted as .
##### 6.3.2.4.2.3 CSI part 2 {#csi-part-2-1 .H6}
For CSI part 2 transmission on PUSCH, the number of coded modulation symbols
per layer for CSI part 2 transmission, denoted as , is determined according to
Clause 6.3.2.4.1.3, by setting the number of CRC bits .
Rate matching is performed according to Clause 5.4.3, by setting the rate
matching output sequence length , where
\- is the number of transmission layers of the PUSCH;
\- is the modulation order of the PUSCH.
The output bit sequence after rate matching is denoted as .
##### 6.3.2.4.2.4 CG-UCI {#cg-uci-2 .H6}
For CG-UCI transmission on PUSCH, the number of coded modulation symbols per
layer for CG-UCI transmission, denoted as $Q_{CG - UCI}^{'}$, is determined
according to Clause 6.3.2.4.1.4, by setting the number of CRC bits $L_{CG -
UCI} = 0$.
The input bit sequence to rate matching is $d_{0},\ d_{1},\ d_{2},\ \ldots,\
d_{N - 1}$.
Rate matching is performed according to Clause 5.4.3, by setting the rate
matching output sequence length
$E = N_{L} \bullet Q_{CG - UCI}^{'} \bullet Q_{m}$, where
\- $N_{L}$ is the number of transmission layers of the PUSCH;
\- $Q_{m}$ is the modulation order of the PUSCH.
The output bit sequence after rate matching is denoted as $f_{0},\
f_{1},f_{2},\ \ldots,\ f_{E - 1}$.
##### 6.3.2.4.2.5 HARQ-ACK and CG-UCI {#harq-ack-and-cg-uci-1 .H6}
For HARQ-ACK and CG-UCI transmission on PUSCH, the number of coded modulation
symbols per layer for HARQ-ACK and CG-UCI transmission, denoted as
$Q_{\text{ACK}}^{'}$, is determined according to Clause 6.3.2.4.1.5, by
setting the number of CRC bits $L_{\text{ACK}} = 0$.
The input bit sequence to rate matching is $d_{0},\ d_{1},\ d_{2},\ \ldots,\
d_{N - 1}$.
Rate matching is performed according to Clause 5.4.3, by setting the rate
matching output sequence length $E = N_{L} \bullet Q_{\text{ACK}}^{'} \bullet
Q_{m}$, where
\- $N_{L}$ is the number of transmission layers of the PUSCH;
\- $Q_{m}$ is the modulation order of the PUSCH.
The output bit sequence after rate matching is denoted as $f_{0},\
f_{1},f_{2},\ \ldots,\ f_{E - 1}$.
##### 6.3.2.4.2.6 UCI with different priority indexes {#uci-with-different-
priority-indexes-3 .H6}
In this clause, $\beta_{\text{offset}}^{HARQ - ACK - LP}\ $is equal to
$\beta_{\text{offset}}^{HARQ - ACK,0}$ defined in [5, TS38.213] in case of
PUSCH associated with priority index 1, and equal to
$\beta_{\text{offset}}^{HARQ - ACK}$ defined in [5, TS38.213] in case of PUSCH
associated with priority index 0. $\beta_{\text{offset}}^{HARQ - ACK - HP}\
$is equal to $\beta_{\text{offset}}^{HARQ - ACK,1}$ defined in [5, TS38.213]
in case of PUSCH associated with priority index 0, and equal to
$\beta_{\text{offset}}^{HARQ - ACK}$ defined in [5, TS38.213] in case of PUSCH
associated with priority index 1.
If _uci-MuxWithDiffPrio_ is configured, and HARQ-ACK bits associated with
priority index 0, and CSI part 1 if any are transmitted on a PUSCH associated
with priority index 1:
\- If CSI part 1 is also transmitted on the PUSCH,
\- Perform rate matching for CSI part 1 according to clause 6.3.2.4.2.2, by
assuming the number of HARQ-ACK information bits to be transmitted on PUSCH in
clause 6.3.2.4.2.2 is 0 bit.
\- Perform rate matching for HARQ-ACK with priority index 0 according to
clause 6.3.2.4.2.3, by taking HARQ-ACK with priority index 0 as CSI part 2 and
replacing $\beta_{\text{offset}}^{\text{PUSCH}}$ by
$\beta_{\text{offset}}^{HARQ - ACK - LP}$, and assuming the number of HARQ-ACK
information bits to be transmitted on PUSCH in clause 6.3.2.4.2.3 is 0 bit.
\- Otherwise, perform rate matching for HARQ-ACK with priority index 0
according to clause 6.3.2.4.2.2, by taking HARQ-ACK with priority index 0 as
CSI-part 1 and replacing $\beta_{\text{offset}}^{\text{PUSCH}}$ by
$\beta_{\text{offset}}^{HARQ - ACK - LP}$, and assuming the number of HARQ-ACK
information bits to be transmitted on PUSCH in clause 6.3.2.4.2.2 is 0 bit.
If _uci-MuxWithDiffPrio_ is configured, and HARQ-ACK bits associated with
priority index 1, and CSI if any are transmitted on a PUSCH associated with
priority index 0:
\- Perform rate matching for HARQ-ACK with priority index 1 according to
clause 6.3.2.4.2.1, by taking HARQ-ACK with priority index 1 as HARQ-ACK and
replacing $\beta_{\text{offset}}^{\text{PUSCH}}$ by
$\beta_{\text{offset}}^{HARQ - ACK - HP}$.
\- Perform rate matching for CSI part 1 according to clause 6.3.2.4.2.2, by
taking HARQ-ACK with priority index 1 as HARQ-ACK, if CSI part 1 is also
transmitted on the PUSCH.
\- Perform rate matching for CSI part 2 according to clause 6.3.2.4.2.3, by
taking HARQ-ACK with priority index 1 as HARQ-ACK, if CSI part 2 is also
transmitted on the PUSCH.
If _uci-MuxWithDiffPrio_ is configured, and HARQ-ACK bits associated with
priority index 0, HARQ-ACK bits associated with priority index 1 and/or CG-UCI
associated with priority index 1, and CSI part 1 if any are transmitted on a
PUSCH:
\- Perform rate matching for HARQ-ACK with priority index 1 according to
clause 6.3.2.4.2.1, by taking HARQ-ACK with priority index 1 as HARQ-ACK and
replacing $\beta_{\text{offset}}^{\text{PUSCH}}$ by
$\beta_{\text{offset}}^{HARQ - ACK - HP}$, if HARQ-ACK bits associated with
priority index 1 are transmitted without CG-UCI associated with priority index
1.
\- Perform rate matching for CG-UCI with priority index 1 according to clause
6.3.2.4.2.4, if CG-UCI associated with priority index 1 is transmitted without
HARQ-ACK bits associated with priority index 1.
\- Perform rate matching for CG-UCI with priority index 1 and HARQ-ACK with
priority index 1 according to clause 6.3.2.4.2.5, if both CG-UCI associated
with priority index 1 and HARQ-ACK bits associated with priority index 1 are
transmitted, by taking HARQ-ACK with priority index 1 as HARQ-ACK and
replacing $\beta_{\text{offset}}^{\text{PUSCH}}$ by
$\beta_{\text{offset}}^{HARQ - ACK - HP}$.
\- If CSI part 1 is also transmitted on the PUSCH and the PUSCH is associated
with priority index 1,
> \- Perform rate matching for CSI part 1 according to clause 6.3.2.4.2.2, by
> taking HARQ-ACK with priority index 1 if any as HARQ-ACK, and taking CG-UCI
> associated with priority index 1 if any as CG-UCI.
>
> \- Perform rate matching for HARQ-ACK with priority index 0 according to
> clause 6.3.2.4.2.3, by taking HARQ-ACK with priority index 0 as CSI part 2
> and replacing $\beta_{\text{offset}}^{\text{PUSCH}}$ by
> $\beta_{\text{offset}}^{HARQ - ACK - LP}$, and taking HARQ-ACK with priority
> index 1 if any as HARQ-ACK, and taking CG-UCI associated with priority index
> 1 if any as CG-UCI.
\- Otherwise,
\- Perform rate matching for HARQ-ACK with priority index 0 according to
clause 6.3.2.4.2.2, by taking HARQ-ACK with priority index 0 as CSI-part 1 and
replacing $\beta_{\text{offset}}^{\text{PUSCH}}$ by
$\beta_{\text{offset}}^{HARQ - ACK - LP},$ and taking HARQ-ACK with priority
index 1 if any as HARQ-ACK, and taking CG-UCI associated with priority index 1
if any as CG-UCI.
\- Perform rate matching for CSI part 1 according to clause 6.3.2.4.2.3, by
taking CSI part 1 as CSI part 2 and replacing
$\beta_{\text{offset}}^{\text{PUSCH}}$ by $\beta_{\text{offset}}^{CSI -
part1}$, taking HARQ-ACK with priority index 0 as CSI-part 1 and taking HARQ-
ACK with priority index 1 as HARQ-ACK, if CSI part 1 is also transmitted on
the PUSCH and the PUSCH is associated with priority index 0.
If _uci-MuxWithDiffPrio_ is configured, and CG-UCI associated with priority
index 0 and HARQ-ACK bits associated with priority index 0 if any, HARQ-ACK
bits associated with priority index 1, and CSI part 1 if any are transmitted
on a PUSCH associated with priority index 0:
\- Perform rate matching for HARQ-ACK with priority index 1 according to
clause 6.3.2.4.2.1, by taking HARQ-ACK with priority index 1 as HARQ-ACK and
replacing $\beta_{\text{offset}}^{\text{PUSCH}}$ by
$\beta_{\text{offset}}^{HARQ - ACK - HP}$.
\- Perform rate matching for CG-UCI associated with priority index 0 according
to clause 6.3.2.4.2.2, if CG-UCI associated with priority index 0 is
transmitted without HARQ-ACK bits associated with priority index 0, by taking
CG-UCI associated with priority index 0 as CSI-part 1 and replacing
$\beta_{\text{offset}}^{\text{PUSCH}}$ by $\beta_{\text{offset}}^{CG - UCI},$
and taking HARQ-ACK with priority index 1 as HARQ-ACK.
\- Perform rate matching for CG-UCI associated with priority index 0 and HARQ-
ACK bits associated with priority index 0 according to clause 6.3.2.4.2.2, if
both CG-UCI associated with priority index 0 and HARQ-ACK bits associated with
priority index 0 are transmitted, by taking CG-UCI associated with priority
index 0 and HARQ-ACK bits associated with priority index 0 as CSI-part 1 and
replacing $\beta_{\text{offset}}^{\text{PUSCH}}$ by
$\beta_{\text{offset}}^{HARQ - ACK - LP},$ and taking HARQ-ACK with priority
index 1 as HARQ-ACK.
\- Perform rate matching for CSI part 1 according to clause 6.3.2.4.2.3, by
taking CSI part 1 as CSI part 2 and replacing
$\beta_{\text{offset}}^{\text{PUSCH}}$ by $\beta_{\text{offset}}^{CSI -
part1}$, taking CG-UCI associated with priority index 0 and HARQ-ACK bits
associated with priority index 0 if any as CSI-part 1 and taking HARQ-ACK with
priority index 1 as HARQ-ACK, if CSI part 1 is also transmitted on the PUSCH
and the PUSCH is associated with priority index 0.
#### 6.3.2.5 Code block concatenation
Code block concatenation is performed according to Clause 6.3.1.5, except that
the values of {width="0.2916666666666667in" height="0.20833333333333334in"}
and {width="0.2916666666666667in" height="0.20833333333333334in"} given in
Clause 6.3.2.4.1.
#### 6.3.2.6 Multiplexing of coded UCI bits to PUSCH
The coded UCI bits are multiplexed onto PUSCH according to the procedures in
Clause 6.2.7.
#### 6.3.2.7 Multiplexing of coded UCI bits with different priority indexes to
PUSCH
If the higher layer parameter _nrof_UTO_UCI_ is configured, the procedure in
this clause 6.3.2.7 applies by replacing CG-UCI with UTO-UCI in all the
notations and texts.
If _uci-MuxWithDiffPrio_ is configured, and HARQ-ACK bits associated with
priority index 0, and CSI part 1 if any are transmitted on a PUSCH associated
with priority index 1,
\- If CSI part 1 is also transmitted on the PUSCH, the coded UCI bits are
multiplexed onto PUSCH according to the procedures in Clause 6.2.7 by taking
HARQ-ACK with priority index 0 as CSI part 2, and assuming the number of HARQ-
ACK information in Clause 6.2.7 is 0 bit;
\- Otherwise, the coded UCI bits are multiplexed onto PUSCH according to the
procedures in Clause 6.2.7 by taking HARQ-ACK with priority index 0 as CSI-
part 1, and assuming the number of HARQ-ACK information in Clause 6.2.7 is 0
bit.
If _uci-MuxWithDiffPrio_ is configured, and HARQ-ACK bits associated with
priority index 1, and CSI if any are transmitted on a PUSCH associated with
priority index 0, the coded UCI bits are multiplexed onto PUSCH according to
the procedures in Clause 6.2.7 by taking HARQ-ACK with priority index 1 as
HARQ-ACK.
If _uci-MuxWithDiffPrio_ is configured, and HARQ-ACK bits associated with
priority index 0, HARQ-ACK bits associated with priority index 1 and/or CG-UCI
associated with priority index 1, and CSI part 1 if any are transmitted on a
PUSCH,
\- if CSI part 1 is also transmitted on the PUSCH and the PUSCH is associated
with priority index 1, the coded UCI bits are multiplexed onto PUSCH according
to the procedures in Clause 6.2.7 by taking HARQ-ACK with priority index 1 as
HARQ-ACK, and taking HARQ-ACK with priority index 0 as CSI part 2;
\- otherwise, the coded UCI bits are multiplexed onto PUSCH according to the
procedures in Clause 6.2.7 by taking HARQ-ACK with priority index 1 if any as
HARQ-ACK, taking CG-UCI associated with priority index 1 if any as CG-UCI,
taking HARQ-ACK with priority index 0 as CSI part 1, and taking CSI part 1 as
CSI part 2 if CSI part 1 is also transmitted on the PUSCH and the PUSCH is
associated with priority index 0.
If _uci-MuxWithDiffPrio_ is configured, and CG-UCI associated with priority
index 0 and HARQ-ACK bits associated with priority index 0 if any, HARQ-ACK
bits associated with priority index 1, and CSI part 1 if any are transmitted
on a PUSCH associated with priority index 0, the coded UCI bits are
multiplexed onto PUSCH according to the procedures in Clause 6.2.7 by taking
HARQ-ACK with priority index 1 as HARQ-ACK, taking CG-UCI associated with
priority index 0 and HARQ-ACK bits associated with priority index 0 if any as
CSI part 1, and taking CSI part 1 as CSI part 2 if CSI part 1 is also
transmitted on the PUSCH and the PUSCH is associated with priority index 0.
# 7 Downlink transport channels and control information
## 7.1 Broadcast channel
Data arrives to the coding unit in the form of a maximum of one transport
block every 80ms. The following coding steps can be identified:
\- Payload generation
\- Scrambling
\- Transport block CRC attachment
\- Channel coding
\- Rate matching
### 7.1.1 PBCH payload generation
Denote the bits in a transport block delivered to layer 1 by , where is the
payload size generated by higher layers. The lowest order information bit is
mapped to the most significant bit of the transport block as defined in Clause
6.1.1 of [8, TS 38.321].
Generate the following additional timing related PBCH payload bits , where:
\- are the 4^th^, 3^rd^, 2^nd^, and 1^st^ LSB of SFN, respectively;
\- is the half frame bit ;
\- if ${\overline{L}}_{\max} = 10$ as defined in Clause 4.1 of [5, TS38.213],
${\overline{a}}_{\overline{A} + 5}$ is the MSB of $k_{\text{SSB}}$ as defined
in Clause 7.4.3.1 of [4, TS 38.211].
${\overline{a}}_{\overline{A} + 6}$ is reserved.
${\overline{a}}_{\overline{A} + 7}$ is the MSB of candidate SS/PBCH block
index.
\- else if ${\overline{L}}_{\max} = 20$ as defined in Clause 4.1 of [5,
TS38.213],
${\overline{a}}_{\overline{A} + 5}$ is the MSB of $k_{\text{SSB}}$ as defined
in Clause 7.4.3.1 of [4, TS 38.211].
${\overline{a}}_{\overline{A} + 6}$, ${\overline{a}}_{\overline{A} + 7}$ are
the 5^th^ and 4^th^ bits of the candidate SS/PBCH block index, respectively.
\- else if ${\overline{L}}_{\max} = 64$ as defined in Clause 4.1 of [5,
TS38.213],
${\overline{a}}_{\overline{A} + 5}$, ${\overline{a}}_{\overline{A} + 6}$,
${\overline{a}}_{\overline{A} + 7}$ are the 6^th^, 5^th^, and 4^th^ bits of
the candidate SS/PBCH block index, respectively.
\- else
${\overline{a}}_{\overline{A} + 5}$ is the MSB of $k_{\text{SSB}}$ as defined
in Clause 7.4.3.1 of [4, TS 38.211].
${\overline{a}}_{\overline{A} + 6}$, ${\overline{a}}_{\overline{A} + 7}$ are
reserved.
\- end if
Let ; ; ; ; ;
for to
if is an SFN bit
;
;
elseif is the half radio frame bit
elseif
;
;
else
;
;
end if
end for
where ${\overline{L}}_{\max}$ is the number of candidate SS/PBCH blocks in a
half frame according to Clause 4.1 of [5, TS38.213], and the value of is given
by Table 7.1.1-1.
Table 7.1.1-1: Value of PBCH payload interleaver pattern
* * *
0 16 4 8 8 24 12 3 16 9 20 14 24 21 28 27 1 23 5 30 9 7 13 2 17 11 21 15 25 22
29 28 2 18 6 10 10 0 14 1 18 12 22 19 26 25 30 29 3 17 7 6 11 5 15 4 19 13 23
20 27 26 31 31
* * *
### 7.1.2 Scrambling
For PBCH transmission in a frame, the bit sequence is scrambled into a bit
sequence , where for and is generated according to the following:
;
;
while
if corresponds to any one of the bits belonging to the candidate SS/PBCH block
index, the half frame index, and 2^nd^ and 3^rd^ least significant bits of the
system frame number
;
else
;
;
end if
;
end while
The scrambling sequence is given by Clause 5.2.1of [4, TS38.211] and
initialized with at the start of each SFN satisfying ; for
${\overline{L}}_{\max} = 4$ or ${\overline{L}}_{\max} = 8$, $M = A - 4$ for
${\overline{L}}_{\max} = 10$, $M = A - 5$ for ${\overline{L}}_{\max} = 20$,
and for ${\overline{L}}_{\max} = 64$, where ${\overline{L}}_{\max}$ is the
number of candidate SS/PBCH blocks in a half frame according to Clause 4.1 of
[5, TS38.213]; and is determined according to Table 7.1.2-1 using the 3^rd^
and 2^nd^ LSB of the SFN in which the PBCH is transmitted.
Table 7.1.2-1: Value of for PBCH scrambling
_(3^rd^ LSB of SFN, 2^nd^ LSB of SFN)_ _Value of_
* * *
(0, 0) 0 (0, 1) 1 (1, 0) 2 (1, 1) 3
### 7.1.3 Transport block CRC attachment
Error detection is provided on BCH transport blocks through a Cyclic
Redundancy Check (CRC).
The entire transport block is used to calculate the CRC parity bits. The input
bit sequence is denoted by , and the parity bits by, where is the payload size
and is the number of parity bits.
The parity bits are computed and attached to the BCH transport block according
to Clause 5.1 by setting to 24 bits and using the generator polynomial ,
resulting in the sequence, where .
The bit sequence is the input bit sequence to the channel encoder, where for
and .
### 7.1.4 Channel coding
Information bits are delivered to the channel coding block. They are denoted
by , where is the number of bits, and they are encoded via Polar coding
according to Clause 5.3.1, by setting , , , and .
After encoding the bits are denoted by , where is the number of coded bits.
### 7.1.5 Rate matching
The input bit sequence to rate matching is .
The rate matching output sequence length .
Rate matching is performed according to Clause 5.4.1 by setting .
The output bit sequence after rate matching is denoted as .
## 7.2 Downlink shared channel and paging channel
### 7.2.1 Transport block CRC attachment
Error detection is provided on each transport block through a Cyclic
Redundancy Check (CRC).
The entire transport block is used to calculate the CRC parity bits. Denote
the bits in a transport block delivered to layer 1 by, and the parity bits by,
where is the payload size and is the number of parity bits. The lowest order
information bit is mapped to the most significant bit of the transport block
as defined in Clause 6.1.1 of [TS38.321].
The parity bits are computed and attached to the DL-SCH transport block
according to Clause 5.1, by setting to 24 bits and using the generator
polynomial if ; and by setting to 16 bits and using the generator polynomial
otherwise.
The bits after CRC attachment are denoted by , where .
### 7.2.2 LDPC base graph selection
For initial transmission of a transport block with coding rate indicated by
the MCS index according to Clause 5.1.3.1 in [6, TS 38.214] and subsequent re-
transmission of the same transport block, each code block of the transport
block is encoded with either LDPC base graph 1 or 2 according to the
following:
\- if , or if and , or if , LDPC base graph 2 is used;
\- otherwise, LDPC base graph 1 is used,
where is the payload size in Clause 7.2.1.
### 7.2.3 Code block segmentation and code block CRC attachment
The bits input to the code block segmentation are denoted by where is the
number of bits in the transport block (including CRC).
Code block segmentation and code block CRC attachment are performed according
to Clause 5.2.2.
The bits after code block segmentation are denoted by, where is the code block
number and is the number of bits for code block number according to Clause
5.2.2.
### 7.2.4 Channel coding
Code blocks are delivered to the channel coding block. The bits in a code
block are denoted by , where is the code block number, and is the number of
bits in code block number . The total number of code blocks is denoted by and
each code block is individually LDPC encoded according to Clause 5.3.2.
After encoding the bits are denoted by , where the values of is given in
Clause 5.3.2.
### 7.2.5 Rate matching
Coded bits for each code block, denoted as , are delivered to the rate match
block, where is the code block number, and is the number of encoded bits in
code block number . The total number of code blocks is denoted by and each
code block is individually rate matched according to Clause 5.4.2 by setting .
After rate matching, the bits are denoted by, where is the number of rate
matched bits for code block number .
### 7.2.6 Code block concatenation
The input bit sequence for the code block concatenation block are the
sequences , for and where is the number of rate matched bits for the -th code
block.
Code block concatenation is performed according to Clause 5.5.
The bits after code block concatenation are denoted by, where is the total
number of coded bits for transmission.
## 7.3 Downlink control information
A DCI transports downlink control information for one or more cells with one
RNTI.
The following coding steps can be identified:
\- Information element multiplexing
\- CRC attachment
\- Channel coding
\- Rate matching
### 7.3.1 DCI formats
The DCI formats defined in table 7.3.1-1 are supported.
Table 7.3.1-1: DCI formats
**DCI format** **Usage**
* * *
0_0 Scheduling of PUSCH in one cell 0_1 Scheduling of one or multiple PUSCH in
one cell, or indicating downlink feedback information for configured grant
PUSCH (CG-DFI) 0_2 Scheduling of PUSCH in one cell 0_3 Scheduling of one PUSCH
in one cell, or multiple PUSCHs in multiple cells with one PUSCH per cell 1_0
Scheduling of PDSCH in one cell 1_1 Scheduling of one or multiple PDSCH in one
cell, and/or triggering one shot HARQ-ACK codebook feedback 1_2 Scheduling of
PDSCH in one cell 1_3 Scheduling of one PDSCH in one cell, or multiple PDSCHs
in multiple cells with one PDSCH per cell 2_0 Notifying a group of UEs of the
slot format, available RB sets, COT duration and search space set group
switching 2_1 Notifying a group of UEs of the PRB(s) and OFDM symbol(s) where
UE may assume no transmission is intended for the UE 2_2 Transmission of TPC
commands for PUCCH and PUSCH 2_3 Transmission of a group of TPC commands for
SRS transmissions by one or more UEs 2_4 Notifying a group of UEs of the
PRB(s) and OFDM symbol(s) where UE cancels the corresponding UL transmission
from the UE 2_5 Notifying the availability of soft resources as defined in
Clause 9.3.1 of [10, TS 38.473] 2_6 Notifying the power saving information
outside DRX Active Time for one or more UEs 2_7 Notifying paging early
indication and TRS availability indication for one or more UEs 2_8 Notifying
the aperiodic beam indication and associated time resources 2_9 Activating or
de-activating the cell DTX/DRX configuration of one or multiple serving cells
for one or more UEs 3_0 Scheduling of NR sidelink in one cell 3_1 Scheduling
of LTE sidelink in one cell 3_2 Scheduling of NR SL PRS in one cell 4_0
Scheduling of PDSCH with CRC scrambled by MCCH-RNTI/G-RNTI for broadcast 4_1
Scheduling of PDSCH with CRC scrambled by G-RNTI/G-CS-RNTI for multicast 4_2
Scheduling of PDSCH with CRC scrambled by G-RNTI/G-CS-RNTI for multicast
The fields defined in the DCI formats below are mapped to the information bits
to as follows.
Each field is mapped in the order in which it appears in the description,
including the zero-padding bit(s), if any, with the first field mapped to the
lowest order information bit and each successive field mapped to higher order
information bits. The most significant bit of each field is mapped to the
lowest order information bit for that field, e.g. the most significant bit of
the first field is mapped to .
If the number of information bits in a DCI format is less than 12 bits, zeros
shall be appended to the DCI format until the payload size equals 12.
The size of each DCI format except for DCI format 0_3/1_3 is determined by the
configuration of the corresponding active bandwidth part of the scheduled cell
and shall be adjusted as described in clause 7.3.1.0 if necessary.
For a cell set configured by higher layer parameter _MC-DCI-
SetofCellsToAddModList_ , the size of DCI format 0_3/1_3 is determined as
follows and shall be adjusted as described in Clause 7.3.1.0 if necessary:
\- If _ScheduledCellCombo-ListDCI-0-3_ for the cell set is configured, the
size of DCI format 0_3 is determined by the configuration of the corresponding
active bandwidth part(s) of the scheduled cells in the entry which results in
the largest size among the entries in the higher layer parameter
_ScheduledCellCombo-ListDCI-0-3_ ; Otherwise, the size of DCI format 0_3 is
determined by the configuration of the corresponding active bandwidth part(s)
of the cells configured by higher layer parameter _ScheduledCell-ListDCI-0-3_
for the cell set.
\- If _ScheduledCellCombo-ListDCI-1-3_ for the cell set is configured, the
size of DCI format 1_3 is determined by the configuration of the corresponding
active bandwidth part(s) of the scheduled cells in the entry which results in
the largest size among the entries in the higher layer parameter
_ScheduledCellCombo-ListDCI-1-3_ ; Otherwise, the size of DCI format 1_3 is
determined by the configuration of the corresponding active bandwidth part(s)
of the cells configured by higher layer parameter _ScheduledCell-ListDCI-1-3_
for the cell set.
If a UE is configured with _pdsch-HARQ-ACK-CodebookList-r16, pdsch-HARQ-ACK-
Codebook is replaced by the relevant entry in pdsch-HARQ-ACK-CodebookList-r16_
in this clause.
If a UE is configured with _pdsch-HARQ-ACK-CodebookListMulticast-r17, pdsch-
HARQ-ACK-Codebook is replaced by the relevant entry in pdsch-HARQ-ACK-
CodebookListMulticast-r17_ in this clause.
For a cell detected in cell search procedure with synchronization raster
defined in Table 5.4.3.1-2 or Table 5.4.3.1-3 of [13, TS 38.101-1], the size
of CORESET 0 for the cell in this clause refers to the size of punctured
CORESET 0 as defined in clause 7.3.2.2 of [4, TS 38.211] if any.
#### 7.3.1.0 DCI size alignment
If necessary, padding or truncation shall be applied to the DCI formats
according to the following steps executed in the order below:
Step 0:
\- Determine DCI format 0_0 monitored in a common search space according to
clause 7.3.1.1.1 where is the size of the initial UL bandwidth part.
\- Determine DCI format 1_0 monitored in a common search space according to
clause 7.3.1.2.1 where is given by
\- the size of CORESET 0 if CORESET 0 is configured for the cell; and
\- the size of initial DL bandwidth part if CORESET 0 is not configured for
the cell.
\- If DCI format 0_0 is monitored in common search space and if the number of
information bits in the DCI format 0_0 prior to padding is less than the
payload size of the DCI format 1_0 monitored in common search space for
scheduling the same serving cell, a number of zero padding bits are generated
for the DCI format 0_0 until the payload size equals that of the DCI format
1_0.
\- If DCI format 0_0 is monitored in common search space and if the number of
information bits in the DCI format 0_0 prior to truncation is larger than the
payload size of the DCI format 1_0 monitored in common search space for
scheduling the same serving cell, the bitwidth of the frequency domain
resource assignment field in the DCI format 0_0 is reduced by truncating the
first few most significant bits such that the size of DCI format 0_0 equals
the size of the DCI format 1_0.
Step 1:
\- Determine DCI format 0_0 monitored in a UE-specific search space according
to clause 7.3.1.1.1 where is the size of the active UL bandwidth part.
\- Determine DCI format 1_0 monitored in a UE-specific search space according
to clause 7.3.1.2.1 where is the size of the active DL bandwidth part.
\- For a UE configured with _supplementaryUplink_ in _ServingCellConfig_ in a
cell, if PUSCH is configured to be transmitted on both the SUL and the non-SUL
of the cell and if the number of information bits in DCI format 0_0 in UE-
specific search space for the SUL is not equal to the number of information
bits in DCI format 0_0 in UE-specific search space for the non-SUL, a number
of zero padding bits are generated for the smaller DCI format 0_0 until the
payload size equals that of the larger DCI format 0_0.
\- If DCI format 0_0 is monitored in UE-specific search space and if the
number of information bits in the DCI format 0_0 prior to padding is less than
the payload size of the DCI format 1_0 monitored in UE-specific search space
for scheduling the same serving cell, a number of zero padding bits are
generated for the DCI format 0_0 until the payload size equals that of the DCI
format 1_0.
\- If DCI format 1_0 is monitored in UE-specific search space and if the
number of information bits in the DCI format 1_0 prior to padding is less than
the payload size of the DCI format 0_0 monitored in UE-specific search space
for scheduling the same serving cell, zeros shall be appended to the DCI
format 1_0 until the payload size equals that of the DCI format 0_0
Step 2:
\- Determine DCI format 0_1 monitored in a UE-specific search space according
to clause 7.3.1.1.2.
\- Determine DCI format 1_1 monitored in a UE-specific search space according
to clause 7.3.1.2.2.
\- For a UE configured with _supplementaryUplink_ in _ServingCellConfig_ in a
cell, if PUSCH is configured to be transmitted on both the SUL and the non-SUL
of the cell and if the number of information bits in format 0_1 for the SUL is
not equal to the number of information bits in format 0_1 for the non-SUL,
zeros shall be appended to smaller format 0_1 until the payload size equals
that of the larger format 0_1.
\- If the size of DCI format 0_1 monitored in a UE-specific search space
equals that of a DCI format 0_0/1_0 monitored in another UE-specific search
space, one bit of zero padding shall be appended to DCI format 0_1.
\- If the size of DCI format 1_1 monitored in a UE-specific search space
equals that of a DCI format 0_0/1_0 monitored in another UE-specific search
space, one bit of zero padding shall be appended to DCI format 1_1.
Step 2A:
\- Determine DCI format 0_2 monitored in a UE-specific search space according
to clause 7.3.1.1.3.
\- Determine DCI format 1_2 monitored in a UE-specific search space according
to clause 7.3.1.2.3.
\- For a UE configured with _supplementaryUplink_ in _ServingCellConfig_ in a
cell, if PUSCH is configured to be transmitted on both the SUL and the non-SUL
of the cell and if the number of information bits in format 0_2 for the SUL is
not equal to the number of information bits in format 0_2 for the non-SUL,
zeros shall be appended to smaller format 0_2 until the payload size equals
that of the larger format 0_2.
Step 2B:
\- If the cell is the serving cell for counting the size of one or both DCI
format 0_3 and DCI format 1_3 as defined in Clause 10.1 of [5, TS38.213],
\- Determine DCI format 0_3 monitored in a UE-specific search space according
to clause 7.3.1.1.4.
\- Determine DCI format 1_3 monitored in a UE-specific search space according
to clause 7.3.1.2.4.
Step 3:
\- If both of the following conditions are fulfilled the size alignment
procedure is complete
\- the total number of different DCI sizes configured to monitor is no more
than 4 for the cell
\- the total number of different DCI sizes with C-RNTI configured to monitor
is no more than 3 for the cell
Step 4:
\- Otherwise
Step 4A:
\- Remove the padding bit (if any) introduced in step 2 above.
\- Determine DCI format 1_0 monitored in a UE-specific search space according
to clause 7.3.1.2.1 where is given by
\- the size of CORESET 0 if CORESET 0 is configured for the cell; and
\- the size of initial DL bandwidth part if CORESET 0 is not configured for
the cell.
\- Determine DCI format 0_0 monitored in a UE-specific search space according
to clause 7.3.1.1.1 where is the size of the initial UL bandwidth part.
\- If the number of information bits in the DCI format 0_0 monitored in a UE-
specific search space prior to padding is less than the payload size of the
DCI format 1_0 monitored in UE-specific search space for scheduling the same
serving cell, a number of zero padding bits are generated for the DCI format
0_0 monitored in a UE-specific search space until the payload size equals that
of the DCI format 1_0 monitored in a UE-specific search space.
\- If the number of information bits in the DCI format 0_0 monitored in a UE-
specific search space prior to truncation is larger than the payload size of
the DCI format 1_0 monitored in UE-specific search space for scheduling the
same serving cell, the bitwidth of the frequency domain resource assignment
field in the DCI format 0_0 is reduced by truncating the first few most
significant bits such that the size of DCI format 0_0 monitored in a UE-
specific search space equals the size of the DCI format 1_0 monitored in a UE-
specific search space.
> Step 4B:
\- If the total number of different DCI sizes configured to monitor is more
than 4 for the cell after applying the above steps, or if the total number of
different DCI sizes with C-RNTI configured to monitor is more than 3 for the
cell after applying the above steps
\- If the number of information bits in the DCI format 0_2 prior to padding is
less than the payload size of the DCI format 1_2 for scheduling the same
serving cell, a number of zero padding bits are generated for the DCI format
0_2 until the payload size equals that of the DCI format 1_2.
\- If the number of information bits in the DCI format 1_2 prior to padding is
less than the payload size of the DCI format 0_2 for scheduling the same
serving cell, zeros shall be appended to the DCI format 1_2 until the payload
size equals that of the DCI format 0_2.
> Step 4C:
\- If the total number of different DCI sizes configured to monitor is more
than 4 for the cell after applying the above steps, or if the total number of
different DCI sizes with C-RNTI configured to monitor is more than 3 for the
cell after applying the above steps
\- If the number of information bits in the DCI format 0_1 prior to padding is
less than the payload size of the DCI format 1_1 for scheduling the same
serving cell, a number of zero padding bits are generated for the DCI format
0_1 until the payload size equals that of the DCI format 1_1.
\- If the number of information bits in the DCI format 1_1 prior to padding is
less than the payload size of the DCI format 0_1 for scheduling the same
serving cell, zeros shall be appended to the DCI format 1_1 until the payload
size equals that of the DCI format 0_1.
> Step 4D:
\- If the total number of different DCI sizes configured to monitor is more
than 4 for the cell after applying the above steps and the cell is the serving
cell for counting the size of one or both DCI format 0_3 and DCI format 1_3 as
defined in Clause 10.1 of [5, TS38.213], or if the total number of different
DCI sizes with C-RNTI configured to monitor is more than 3 for the cell after
applying the above steps and the cell is the serving cell for counting the
size of one or both DCI format 0_3 and DCI format 1_3 as defined in Clause
10.1 of [5, TS38.213]
\- If the number of information bits in the DCI format 0_3 prior to padding is
less than the payload size of the DCI format 1_3 for scheduling the same cell
set, a number of zero padding bits are generated for the DCI format 0_3 until
the payload size equals that of the DCI format 1_3.
\- If the number of information bits in the DCI format 1_3 prior to padding is
less than the payload size of the DCI format 0_3 for scheduling the same cell
set, zeros shall be appended to the DCI format 1_3 until the payload size
equals that of the DCI format 0_3.
The UE is not expected to handle a configuration that, after applying the
above steps, results in
\- the total number of different DCI sizes configured to monitor is more than
4 for the cell; or
\- the total number of different DCI sizes with C-RNTI configured to monitor
is more than 3 for the cell; or
\- the size of DCI format 0_0 in a UE-specific search space is equal to DCI
format 0_1 in another UE-specific search space; or
\- the size of DCI format 1_0 in a UE-specific search space is equal to DCI
format 1_1 in another UE-specific search space; or
\- the size of DCI format 0_0 in a UE-specific search space is equal to DCI
format 0_2 in another UE-specific search space when at least one pair of the
corresponding PDCCH candidates of DCI formats 0_0 and 0_2 are mapped to the
same resource; or
\- the size of DCI format 1_0 in a UE-specific search space is equal to DCI
format 1_2 in another UE-specific search space when at least one pair of the
corresponding PDCCH candidates of DCI formats 1_0 and 1_2 are mapped to the
same resource; or
\- the size of DCI format 0_1 in a UE-specific search space is equal to DCI
format 0_2 in the same or another UE-specific search space when at least one
pair of the corresponding PDCCH candidates of DCI formats 0_1 and 0_2 are
mapped to the same resource; or
\- the size of DCI format 1_1 in a UE-specific search space is equal to DCI
format 1_2 in the same or another UE-specific search space when at least one
pair of the corresponding PDCCH candidates of DCI formats 1_1 and 1_2 are
mapped to the same resource; or
\- the size of DCI format 0_0 in a UE-specific search space is equal to DCI
format 0_3 in another UE-specific search space when at least one pair of the
corresponding PDCCH candidates of DCI formats 0_0 and 0_3 are mapped to the
same resource; or
\- the size of DCI format 1_0 in a UE-specific search space is equal to DCI
format 1_3 in another UE-specific search space when at least one pair of the
corresponding PDCCH candidates of DCI formats 1_0 and 1_3 are mapped to the
same resource; or
\- the size of DCI format 0_1 in a UE-specific search space is equal to DCI
format 0_3 in another UE-specific search space when at least one pair of the
corresponding PDCCH candidates of DCI formats 0_1 and 0_3 are mapped to the
same resource; or
\- the size of DCI format 1_1 in a UE-specific search space is equal to DCI
format 1_3 in another UE-specific search space when at least one pair of the
corresponding PDCCH candidates of DCI formats 1_1 and 1_3 are mapped to the
same resource.
\- the size of DCI format 0_2 in a UE-specific search space is equal to DCI
format 0_3 in another UE-specific search space when at least one pair of the
corresponding PDCCH candidates of DCI formats 0_2 and 0_3 are mapped to the
same resource; or
\- the size of DCI format 1_2 in a UE-specific search space is equal to DCI
format 1_3 in another UE-specific search space when at least one pair of the
corresponding PDCCH candidates of DCI formats 1_2 and 1_3 are mapped to the
same resource..
##### 7.3.1.0.1 DCI size alignment for DCI formats for scheduling of sidelink
If DCI format 3_0 or DCI format 3_1 is monitored on a cell, DCI size alignment
for DCI format 3_0 and DCI format 3_1 is performed as described in this clause
after performing the DCI size alignment described in Clause 7.3.1.0. The
size(s) of the DCI formats configured to monitor for a cell in this clause
refers to that after performing the DCI size alignment described in Clause
7.3.1.0.
If DCI format 3_0 or DCI format 3_1 is monitored on a cell and the total
number of DCI sizes of the DCI formats configured to monitor for the cell and
DCI format 3_0 or DCI format 3_1 is more than 4, zeros shall be appended to
DCI format 3_0 if configured and DCI format 3_1 if configured, until the
payload size of DCI format 3_0 or DCI format 3_1 equals that of the smallest
DCI format configured to monitor for the cell that is larger than DCI format
3_0 or DCI format 3_1.
The UE is not expected to handle a configuration that results in:
\- the total number of different DCI sizes configured to monitor for the cell
and DCI format 3_0 or DCI format 3_1 is more than 4; and
\- the payload size of DCI format 3_0 or DCI format 3_1 is larger than the
payload size of all other DCI formats configured to monitor for the cell.
#### 7.3.1.1 DCI formats for scheduling of PUSCH
##### 7.3.1.1.1 Format 0_0
DCI format 0_0 is used for the scheduling of PUSCH in one cell.
The following information is transmitted by means of the DCI format 0_0 with
CRC scrambled by C-RNTI or CS-RNTI or MCS-C-RNTI:
\- Identifier for DCI formats - 1 bit
\- The value of this bit field is always set to 0, indicating an UL DCI format
\- Frequency domain resource assignment - number of bits determined by the
following:
\- bits if neither of the higher layer parameters _useInterlacePUCCH-PUSCH in
BWP-UplinkCommon and useInterlacePUCCH-PUSCH in BWP-UplinkDedicated_ is
configured, where is defined in clause 7.3.1.0
\- For PUSCH hopping with resource allocation type 1:
\- MSB bits are used to indicate the frequency offset according to Clause 6.3
of [6, TS 38.214], where if the higher layer parameter
_frequencyHoppingOffsetLists_ contains two offset values and if the higher
layer parameter _frequencyHoppingOffsetLists_ contains four offset values
\- bits provide the frequency domain resource allocation according to Clause
6.1.2.2.2 of [6, TS 38.214]
\- For non-PUSCH hopping with resource allocation type 1:
\- bits provide the frequency domain resource allocation according to Clause
6.1.2.2.2 of [6, TS 38.214]
\- If any of the higher layer parameters _useInterlacePUCCH-PUSCH in BWP-
UplinkCommon and useInterlacePUCCH-PUSCH in BWP-UplinkDedicated_ is configured
\- 5+Y bits provide the frequency domain resource allocation according to
Clause 6.1.2.2.3 of [6, TS 38.214] if the subcarrier spacing for the active UL
bandwidth part is 30 kHz.
\- 6+Y bits provide the frequency domain resource allocation according to
Clause 6.1.2.2.3 of [6, TS 38.214] if the subcarrier spacing for the active UL
bandwidth part is 15 kHz.
If the DCI format 0_0 is monitored in a UE-specific search space, the value of
Y is determined by $\left\lceil \text{log}_{2}\left( \frac{N_{\text{RB-
set,UL}}^{\text{BWP}}\left( N_{\text{RB-set,UL}}^{\text{BWP}} + 1 \right)}{2}
\right) \right\rceil$ where $N_{\text{RB-set,UL}}^{\text{BWP}}$ is the number
of RB sets contained in the active UL BWP as defined in clause 7 of [6,
TS38.214]. If the DCI 0_0 is monitored in a common search space Y = 0.
\- Time domain resource assignment - 4 bits as defined in Clause 6.1.2.1 of
[6, TS 38.214]
\- Frequency hopping flag - 1 bit according to Table 7.3.1.1.1-3, as defined
in Clause 6.3 of [6, TS 38.214]
\- Modulation and coding scheme - 5 bits as defined in Clause 6.1.4.1 of [6,
TS 38.214]
\- New data indicator - 1 bit
\- Redundancy version - 2 bits as defined in Table 7.3.1.1.1-2
\- HARQ process number - 4 bits
\- TPC command for scheduled PUSCH - 2 bits as defined in Clause 7.1.1 of [5,
TS 38.213]
\- ChannelAccess-CPext - 2 bits indicating combinations of channel access type
and CP extension as defined in Table 7.3.1.1.1-4, or Table 7.3.1.1.1-4A if
_channelAccessMode-r16_ = \"_semiStatic_ \" is provided, for operation in a
cell with shared spectrum channel access in frequency range 1; 2 bits
indicating channel access type as defined in Table 7.3.1.1.1-4B if
_ChannelAccessMode2-r17_ is provided for operation in a cell in frequency
range 2-2; 0 bit otherwise.
\- Padding bits, if required.
\- UL/SUL indicator - 1 bit for UEs configured with _supplementaryUplink_ in
_ServingCellConfig_ in the cell as defined in Table 7.3.1.1.1-1 and the number
of bits for DCI format 1_0 before padding is larger than the number of bits
for DCI format 0_0 before padding; 0 bit otherwise. The UL/SUL indicator, if
present, locates in the last bit position of DCI format 0_0, after the padding
bit(s).
\- If the UL/SUL indicator is present in DCI format 0_0 and the higher layer
parameter _pusch-Config_ is not configured on both UL and SUL the UE ignores
the UL/SUL indicator field in DCI format 0_0, and the corresponding PUSCH
scheduled by the DCI format 0_0 is for the UL or SUL for which high layer
parameter _pucch-Config_ is configured;
\- If the UL/SUL indicator is not present in DCI format 0_0 and _pucch-Config_
is configured, the corresponding PUSCH scheduled by the DCI format 0_0 is for
the UL or SUL for which high layer parameter _pucch-Config_ is configured.
\- If the UL/SUL indicator is not present in DCI format 0_0 and _pucch-Config_
is not configured, the corresponding PUSCH scheduled by the DCI format 0_0 is
for the uplink on which the latest PRACH is transmitted.
The following information is transmitted by means of the DCI format 0_0 with
CRC scrambled by TC-RNTI:
\- Identifier for DCI formats - 1 bit
\- The value of this bit field is always set to 0, indicating an UL DCI format
\- Frequency domain resource assignment - number of bits determined by the
following:
\- bits if the higher layer parameter _useInterlacePUCCH-PUSCH in BWP-
UplinkCommon_ is not configured, where
\- is the size of the initial UL bandwidth part.
\- For PUSCH hopping with resource allocation type 1:
\- MSB bits are used to indicate the frequency offset according to Table 8.3-1
in Clause 8.3 of [5, TS 38.213], where if and otherwise
\- bits provide the frequency domain resource allocation according to Clause
6.1.2.2.2 of [6, TS 38.214]
\- For non-PUSCH hopping with resource allocation type 1:
\- bits provide the frequency domain resource allocation according to Clause
6.1.2.2.2 of [6, TS 38.214]
\- If the higher layer parameter _useInterlacePUCCH-PUSCH in BWP-UplinkCommon_
is configured
\- 5 bits provide the frequency domain resource allocation according to Clause
6.1.2.2.3 of [6, TS 38.214] if the subcarrier spacing for the active UL
bandwidth part is 30 kHz
\- 6 bits provide the frequency domain resource allocation according to Clause
6.1.2.2.3 of [6, TS 38.214] if the subcarrier spacing for the active UL
bandwidth part is 15 kHz
\- Time domain resource assignment - 4 bits as defined in Clause 6.1.2.1 of
[6, TS 38.214]
\- Frequency hopping flag - 1 bit according to Table 7.3.1.1.1-3, as defined
in Clause 6.3 of [6, TS 38.214]
\- Modulation and coding scheme - 5 bits
\- If the UE requests repetition of PUSCH scheduled by RAR UL grant [8, TS
38.321], 5 bits as defined in Clause 6.1.2.1 and Clause 6.1.4.1 of [6, TS
38.214];
\- otherwise 5 bits as defined in Clause 6.1.4.1 of [6, TS 38.214].
\- New data indicator - 1 bit, reserved
\- Redundancy version - 2 bits as defined in Table 7.3.1.1.1-2
\- HARQ process number - 4 bits, reserved
\- TPC command for scheduled PUSCH - 2 bits as defined in Clause 7.1.1 of [5,
TS 38.213]
\- ChannelAccess-CPext - 2 bits indicating combinations of channel access type
and CP extension as defined in Table 7.3.1.1.1-4, or Table 7.3.1.1.1-4A if
_channelAccessMode-r16_ = \"_semiStatic_ \" is provided, for operation in a
cell with shared spectrum channel access in frequency range 1; 2 bits
indicating channel access type as defined in Table 7.3.1.1.1-4B if
_ChannelAccessMode2-r17_ is provided for operation in a cell in frequency
range 2-2; 0 bit otherwise
\- Padding bits, if required.
\- UL/SUL indicator - 1 bit if the cell has two ULs and the number of bits for
DCI format 1_0 before padding is larger than the number of bits for DCI format
0_0 before padding; 0 bit otherwise. The UL/SUL indicator, if present, locates
in the last bit position of DCI format 0_0, after the padding bit(s).
\- If 1 bit, reserved, and the corresponding PUSCH is always on the same UL
carrier as the previous transmission of the same TB
Table 7.3.1.1.1-1: UL/SUL indicator
Value of UL/SUL indicator Uplink
* * *
0 The non-supplementary uplink 1 The supplementary uplink
Table 7.3.1.1.1-2: Redundancy version
Value of the Redundancy version field Value of to be applied
* * *
00 0 01 1 10 2 11 3
Table 7.3.1.1.1-3: Frequency hopping indication
**Bit field mapped to index** **PUSCH frequency hopping**
* * *
0 Disabled 1 Enabled
Table 7.3.1.1.1-4: Channel access type & CP extension for DCI format 0_0 and\
DCI format 1_0 for frequency range 1
Bit field mapped to index Channel Access Type The CP extension T_\"ext\" index
defined in Clause 5.3.1 of [4, TS 38.211]
* * *
0 Type2C-ULChannelAccess defined in clause 4.2.1.2.3 in TS 37.213 [14] 2 1
Type2A-ULChannelAccess defined in clause 4.2.1.2.1 in TS 37.213 [14] 3 2
Type2A-ULChannelAccess defined in clause 4.2.1.2.1 in TS 37.213 [14] 1 3
Type1-ULChannelAccess defined in clause 4.2.1.1 in TS 37.213 [14] 0
Table 7.3.1.1.1-4A: Channel access type & CP extension if\
_channelAccessMode-r16_ = \"_semiStatic_ \" is provided
**Bit field mapped to index** **Channel Access Type** **The CP extension
T_\"ext\" index defined in Clause 5.3.1 of [4, TS 38.211]** **Initiator of the
channel occupancy associated with the UL transmission as described in Clause
4.3.1 in TS 37.213**
* * *
0 No sensing as defined in Clause 4.3 in TS 37.213 [14] 0 gNB 1 No sensing as
defined in Clause 4.3 in TS 37.213 [14] 2 gNB 2 Sensing within a 25us interval
as defined in Clause 4.3 in TS 37.213 [14] 0 gNB 3 Sensing as defined in
Clause 4.3.1.2 in TS 37.213 [14] 0 UE NOTE: Row index 3 is only applicable if
_semiStaticChannelAccessConfigUE_ is provided. Otherwise, the row is reserved.
Table 7.3.1.1.1-4B: Channel access type for DCI format 0_0 and\ DCI format 1_0
for frequency range 2-2
Bit field mapped to index Channel Access Type
* * *
0 Type 1 channel access defined in clause 4.4.1 of TS 37.213 [14] 1 Type 2
channel access defined in clause 4.4.2 of TS 37.213 [14] 2 Type 3 channel
access defined in clause 4.4.3 of TS 37.213 [14] 3 Reserved
##### 7.3.1.1.2 Format 0_1
DCI format 0_1 is used for the scheduling of one or multiple PUSCH in one
cell, or indicating CG downlink feedback information (CG-DFI) to a UE.
The following information is transmitted by means of the DCI format 0_1 with
CRC scrambled by C-RNTI or CS-RNTI or SP-CSI-RNTI or MCS-C-RNTI:
\- Identifier for DCI formats - 1 bit
\- The value of this bit field is always set to 0, indicating an UL DCI format
\- Carrier indicator - 0 or 3 bits, as defined in Clause 10.1 of [5,
TS38.213]. This field is reserved when this format is carried by PDCCH on the
primary cell and the UE is configured for scheduling on the primary cell from
an SCell, with the same number of bits as that in this format carried by PDCCH
on the SCell for scheduling on the primary cell.
\- DFI flag - 0 or 1 bit
\- 1 bit if the UE is configured to monitor DCI format 0_1 with CRC scrambled
by CS-RNTI and for operation in a cell with shared spectrum channel access
when the higher layer parameter _cg-RetransmissionTimer_ is configured. For a
DCI format 0_1 with CRC scrambled by CS-RNTI, the bit value of 0 indicates
activating or releasing type 2 CG transmission and the bit value of 1
indicates CG-DFI. For a DCI format 0_1 with CRC scrambled by C-RNTI/SP-CSI-
RNTI/MCS-C-RNTI and for operation in a cell with shared spectrum channel
access, the bit is reserved.
\- 0 bit otherwise;
If DCI format 0_1 is used for indicating CG-DFI, all the remaining fields are
set as follows:
\- HARQ-ACK bitmap - 16 bits if _nrofHARQ-Processes-v1700 in
ConfiguredGrantConfig is_ not configured or 32 bits if _nrofHARQ-
Processes-v1700 in ConfiguredGrantConfig is configured_ , where the order of
the bitmap to HARQ process index mapping is such that HARQ process indices are
mapped in ascending order from MSB to LSB of the bitmap. For each bit of the
bitmap, value 1 indicates ACK, and value 0 indicates NACK.
\- TPC command for scheduled PUSCH - 2 bits as defined in Clause 7.1.1 of [5,
TS38.213]
\- All the remaining bits in format 0_1 are set to zero.
Otherwise, all the remaining fields are set as follows:
\- UL/SUL indicator - 0 bit for UEs not configured with _supplementaryUplink_
in _ServingCellConfig_ in the cell or UEs configured with
_supplementaryUplink_ in _ServingCellConfig_ in the cell but only one carrier
in the cell is configured for PUSCH transmission; otherwise, 1 bit as defined
in Table 7.3.1.1.1-1.
\- Bandwidth part indicator - 0, 1 or 2 bits as determined by the number of UL
BWPs configured by higher layers, excluding the initial UL bandwidth part. The
bitwidth for this field is determined as bits, where
\- if , in which case the bandwidth part indicator is equivalent to the
ascending order of the higher layer parameter _BWP-Id_ ;
\- otherwise , in which case the bandwidth part indicator is defined in Table
7.3.1.1.2-1;
If a UE does not support active BWP change via DCI, the UE ignores this bit
field.
\- Frequency domain resource assignment - number of bits determined by the
following, where is the size of the active UL bandwidth part:
\- If higher layer parameter _useInterlacePUCCH-PUSCH in BWP-UplinkDedicated_
is not configured
\- bits if only resource allocation type 0 is configured, where is defined in
Clause 6.1.2.2.1 of [6, TS 38.214],
\- bits if only resource allocation type 1 is configured, or bits if
_resourceAllocation_ is configured as \'_dynamicSwitch\'_.
\- If _resourceAllocation_ is configured as \'_dynamicSwitch\'_ , the MSB bit
is used to indicate resource allocation type 0 or resource allocation type 1,
where the bit value of 0 indicates resource allocation type 0 and the bit
value of 1 indicates resource allocation type 1.
\- For resource allocation type 0, the LSBs provide the resource allocation as
defined in Clause 6.1.2.2.1 of [6, TS 38.214].
\- For resource allocation type 1, the LSBs provide the resource allocation as
follows:
\- For PUSCH hopping with resource allocation type 1:
\- MSB bits are used to indicate the frequency offset according to Clause 6.3
of [6, TS 38.214], where if the higher layer parameter
_frequencyHoppingOffsetLists_ contains two offset values and if the higher
layer parameter _frequencyHoppingOffsetLists_ contains four offset values
\- bits provide the frequency domain resource allocation according to Clause
6.1.2.2.2 of [6, TS 38.214]
\- For non-PUSCH hopping with resource allocation type 1:
\- bits provide the frequency domain resource allocation according to Clause
6.1.2.2.2 of [6, TS 38.214]
If \"Bandwidth part indicator\" field indicates a bandwidth part other than
the active bandwidth part and if _resourceAllocation_ is configured as
\'_dynamicSwitch\'_ for the indicated bandwidth part, the UE assumes resource
allocation type 0 for the indicated bandwidth part if the bitwidth of the
\"Frequency domain resource assignment\" field of the active bandwidth part is
smaller than the bitwidth of the \"Frequency domain resource assignment\"
field of the indicated bandwidth part.
\- If the higher layer parameter _useInterlacePUCCH-PUSCH in BWP-
UplinkDedicated_ is configured
\- 5 + Y bits provide the frequency domain resource allocation according to
Clause 6.1.2.2.3 of [6, TS 38.214] if the subcarrier spacing for the active UL
bandwidth part is 30 kHz. The 5 MSBs provide the interlace allocation and the
Y LSBs provide the RB set allocation.
\- 6 + Y bits provide the frequency domain resource allocation according to
Clause 6.1.2.2.3 of [6, TS 38.214] if the subcarrier spacing for the active UL
bandwidth part is 15 kHz. The 6 MSBs provide the interlace allocation and the
Y LSBs provide the RB set allocation.
The value of Y is determined by $\left\lceil \log_{2}\left( \frac{N_{RB -
set,UL}^{\text{BWP}}\left( N_{RB - set,UL}^{\text{BWP}} + 1 \right)}{2}
\right) \right\rceil\ $ where $N_{\text{RB-set,UL}}^{\text{BWP}}$ is the
number of RB sets contained in the active UL BWP as defined in clause 7 of [6,
TS38.214].
\- Time domain resource assignment - 0, 1, 2, 3, 4, 5, or 6 bits
\- If the higher layer parameter _pusch-TimeDomainAllocationListDCI-0-1_ is
not configured and if the higher layer parameter _pusch-
TimeDomainAllocationListForMultiPUSCH_ is not configured and if the higher
layer parameter _pusch-TimeDomainAllocationList_ is configured, 0, 1, 2, 3, or
4 bits as defined in Clause 6.1.2.1 of [6, TS38.214]. The bitwidth for this
field is determined as bits, where _I_ is the number of entries in the higher
layer parameter _pusch-TimeDomainAllocationList_ ;
\- If the higher layer parameter _pusch-TimeDomainAllocationListDCI-0-1_ is
configured or if the higher layer parameter _pusch-
TimeDomainAllocationListForMultiPUSCH is configured,_ 0, 1, 2, 3, 4, 5 or 6
bits as defined in Clause 6.1.2.1 of [6, TS38.214]. The bitwidth for this
field is determined as $\left\lceil \log_{2}{(I)} \right\rceil\ $bits, where
_I_ is the number of entries in the higher layer parameter _pusch-
TimeDomainAllocationListDCI-0-1_ or _pusch-
TimeDomainAllocationListForMultiPUSCH_ ;
\- otherwise the bitwidth for this field is determined as $\left\lceil
\log_{2}{(I)} \right\rceil\ $bits, where _I_ is the number of entries in the
default table _._
\- Frequency hopping flag - 0 or 1 bit:
\- 0 bit if only resource allocation type 0 is configured, or if the higher
layer parameter _frequencyHopping_ is not configured and the higher layer
parameter _pusch-RepTypeIndicatorDCI-0-1_ is not configured to _pusch-
RepTypeB_ , or if the higher layer parameter _frequencyHoppingDCI-0-1_ is not
configured and _pusch-RepTypeIndicatorDCI-0-1_ is configured to _pusch-
RepTypeB_ , or if only resource allocation type 2 is configured;
\- 1 bit according to Table 7.3.1.1.1-3 otherwise, only applicable to resource
allocation type 1, as defined in Clause 6.3 of [6, TS 38.214].
For transport block 1:
\- Modulation and coding scheme - 5 bits as defined in Clause 6.1.4.1 of [6,
TS 38.214]
\- New data indicator - 1 bit if the number of scheduled PUSCH indicated by
the Time domain resource assignment field is 1; otherwise 2, 3, 4, 5, 6, 7 or
8 bits determined based on the maximum number of schedulable PUSCH among all
entries in the higher layer parameter _pusch-
TimeDomainAllocationListForMultiPUSCH_ , where each bit corresponds to one
scheduled PUSCH as defined in clause 6.1.4 in [6, TS 38.214].
\- Redundancy version - - number of bits determined by the following:
\- 2 bits as defined in Table 7.3.1.1.1-2 if the number of scheduled PUSCH
indicated by the Time domain resource assignment field is 1;
\- otherwise 2, 3, 4, 5, 6, 7 or 8 bits determined by the maximum number of
schedulable PUSCHs among all entries in the higher layer parameter _pusch-
TimeDomainAllocationListForMultiPUSCH_ , where each bit corresponds to one
scheduled PUSCH as defined in clause 6.1.4 in [6, TS 38.214] and redundancy
version is determined according to Table 7.3.1.1.2-34.
For transport block 2 (only present if _maxRank_ > 4 or _maxMIMO-Layers_ > 4):
\- Modulation and coding scheme - 5 bits as defined in Clause 6.1.4.1 of [6,
TS 38.214]
\- New data indicator - 1 bit
\- Redundancy version - 2 bits as defined in Table 7.3.1.1.1-2
\- Transform precoder indicator - 0 or 1 bit
\- 1 bit if the higher layer parameter
_dynamicTransformPrecoderIndicationDCI-0-1_ is configured to \'enabled \' and
if the UE is configured to monitor DCI format 0_1 with CRC scrambled by C-RNTI
or MCS-C-RNTI, where the bit value of 0 indicates that transform precoder is
enabled and the bit value of 1 indicates that transform precoder is disabled.
\- 0 bit otherwise.
\- HARQ process number - 5 bits if higher layer parameter _harq-
ProcessNumberSizeDCI-0-1_ is configured; otherwise 4 bits
\- 1^st^ downlink assignment index - 1, 2 or 4 bits:
\- 1 bit for semi-static HARQ-ACK codebook for unicast and multicast if
_pdsch-HARQ-ACK-Codebook = semiStatic_ is configured for both unicast and
multicast and the higher layer parameter _fdmed-ReceptionMulticast is not
configured_ ; otherwise for semi-static HARQ-ACK codebook for unicast;
\- 2 bits for dynamic HARQ-ACK codebook for unicast, or for enhanced dynamic
HARQ-ACK codebook without _UL-TotalDAI-Included_ configured;
\- 4 bits for enhanced dynamic HARQ-ACK codebook and with _UL-TotalDAI-
Included = true_.
When two HARQ-ACK codebooks are configured by _pdsch-HARQ-ACK-CodebookList_
for the same serving cell and if higher layer parameter
_priorityIndicatorDCI-0-1_ is configured, if the bit width of the 1^st^
downlink assignment index in DCI format 0_1 for one HARQ-ACK codebook is not
equal to that of the 1^st^ downlink assignment index in DCI format 0_1 for the
other HARQ-ACK codebook, a number of most significant bits with value set to
\'0\' are inserted to smaller 1^st^ downlink assignment index until the bit
width of the 1^st^ downlink assignment index in DCI format 0_1 for the two
HARQ-ACK codebooks are the same.
\- 2^nd^ downlink assignment index - 0, 2 or 4 bits:
\- 2 bits for dynamic HARQ-ACK codebook with two HARQ-ACK sub-codebooks for
unicast, or for enhanced dynamic HARQ-ACK codebook with two HARQ-ACK sub-
codebooks and without _UL-TotalDAI-Included_ configured;
\- 4 bits for enhanced dynamic HARQ-ACK codebook with two HARQ-ACK sub-
codebooks and with _UL-TotalDAI-Included = true_ ;
\- 0 bit otherwise.
When two HARQ-ACK codebooks are configured by _pdsch-HARQ-ACK-CodebookList_
for the same serving cell and if higher layer parameter
_priorityIndicatorDCI-0-1_ is configured, if the bit width of the 2^nd^
downlink assignment index in DCI format 0_1 for one HARQ-ACK codebook is not
equal to that of the 2^nd^ downlink assignment index in DCI format 0_1 for the
other HARQ-ACK codebook, a number of most significant bits with value set to
\'0\' are inserted to smaller 2^nd^ downlink assignment index until the bit
width of the 2^nd^ downlink assignment index in DCI format 0_1 for the two
HARQ-ACK codebooks are the same.
\- 3^rd^ downlink assignment index - 0, 1 or 2 bits:
\- 1 bit for semi-static HARQ-ACK codebook for multicast if the higher layer
parameter _fdmed-ReceptionMulticast is configured_ ;
\- 2 bits for the dynamic HARQ-ACK codebook for multicast;
\- 0 bit otherwise.
> When two HARQ-ACK codebooks are configured by _pdsch-HARQ-ACK-
> CodebookListMulticast_ for the same serving cell and if higher layer
> parameter _priorityIndicatorDCI-0-1_ is configured, if the bit width of the
> 3^rd^ downlink assignment index in DCI format 0_1 for one HARQ-ACK codebook
> is not equal to that of the 3^rd^ downlink assignment index in DCI format
> 0_1 for the other HARQ-ACK codebook, a number of most significant bits with
> value set to \'0\' are inserted to smaller 3^rd^ downlink assignment index
> until the bit width of the 3^rd^ downlink assignment index in DCI format 0_1
> for the two HARQ-ACK codebooks are the same.
\- TPC command for scheduled PUSCH - 2 bits as defined in Clause 7.1.1 of [5,
TS38.213]
\- Second TPC command for scheduled PUSCH - 2 bits as defined in Clause 7.1.1
of [5, TS38.213] if higher layer parameter _SecondTPCFieldDCI-0-1_ is
configured; 0 bit otherwise.
\- SRS resource set indicator - 0 or 2 bits
\- 2 bits according to Table 7.3.1.1.2-36 if
\- _txConfig = nonCodeBook_ , and there are two SRS resource sets configured
by _srs-ResourceSetToAddModList_ and associated with the _usage_ of value
\'_nonCodeBook_ \', and is not configured with _coresetPoolIndex_ or the value
of _coresetPoolIndex_ is the same for all CORESETs if _coresetPoolIndex_ is
provided, or
> \- _txConfig_ =_codebook_ , and there are two SRS resource sets configured
> by _srs-ResourceSetToAddModList_ and associated with _usage_ of value
> \'_codebook_ \', and is not configured with _coresetPoolIndex_ or the value
> of _coresetPoolIndex_ is the same for all CORESETs if _coresetPoolIndex_ is
> provided;
\- 0 bit otherwise.
\- SRS resource indicator -number of bits determined by the following:
\- bits according to Tables
7.3.1.1.2-28/28A/29/29B/30/30B/31/31B/31C/31D/31E/31F if the higher layer
parameter _txConfig = nonCodebook_ , where
\- is the number of configured SRS resources in the SRS resource set indicated
by SRS resource set indicator field if present,
\- $N_{\text{SRS}}$ is the number of configured SRS resources in the SRS
resource set associated with the _coresetPoolIndex_ value for the CORESET used
for the PDCCH carrying the DCI format 0_1, if the UE is not provided
_coresetPoolIndex_ or is provided _coresetPoolIndex_ with value 0 for the
first CORESETs, and is provided _coresetPoolIndex_ with value 1 for the second
CORESETs, and is provided _enableSTx2PofmDCI_ ,
\- otherwise $N_{\text{SRS}}$ is the number of configured SRS resources in the
SRS resource set configured by higher layer parameter _srs-
ResourceSetToAddModList_ and associated with the higher layer parameter
_usage_ of value \'_nonCodeBook_ \',
and
\- if UE supports operation with _maxMIMO-Layers_ and the higher layer
parameter _maxMIMO-Layers of PUSCH-ServingCellConfig_ of the serving cell is
configured,
\- L~max~ is given by max{_maxMIMO-Layers_ , maxMIMO-LayersforSdm} if maxMIMO-
LayersforSdm is configured
\- L~max~ is given by max{_maxMIMO-Layers_ , maxMIMO-LayersforSfn} if maxMIMO-
LayersforSfn is configured
\- L~max~ is given by _maxMIMO-Layers o_ therwise- otherwise, _L~max~_ is
given by the maximum number of layers for PUSCH supported by the UE for the
serving cell for non-codebook based operation.
\- bits according to Tables 7.3.1.1.2-32, 7.3.1.1.2-32A and 7.3.1.1.2-32B if
the higher layer parameter _txConfig = codebook_ , where
\- is the number of configured SRS resources in the SRS resource set indicated
by SRS resource set indicator field if present,
\- $N_{\text{SRS}}$ is the number of configured SRS resources in the SRS
resource set associated with the _coresetPoolIndex_ value for the CORESET used
for the PDCCH carrying the DCI format 0_1, if the UE is not provided
_coresetPoolIndex_ or is provided _coresetPoolIndex_ with value 0 for the
first CORESETs, and is provided _coresetPoolIndex_ with value 1 for the second
CORESETs, and is provided _enableSTx2PofmDCI_ ,
\- otherwise $N_{\text{SRS}}$ is the number of configured SRS resources in the
SRS resource set configured by higher layer parameter _srs-
ResourceSetToAddModList_ and associated with the higher layer parameter
_usage_ of value \'_codeBook_ \'.
When the UE is not provided _coresetPoolIndex_ or is provided
_coresetPoolIndex_ with value 0 for the first CORESETs, and is provided
_coresetPoolIndex_ with value 1 for the second CORESETs, and is provided
_enableSTx2PofmDCI_ , and there are two SRS resource sets configured by _srs-
ResourceSetToAddModList_ and associated with _usage_ of value \'_codebook_ \'
or \'_nonCodeBook_ \', the first SRS resource set is associated with
_coresetPoolIndex_ value 0 and the second SRS resource set is associated with
_coresetPoolIndex_ value 1, where the first and the second SRS resource sets
are respectively the ones with lower and higher _srs-ResourceSetId_ of the two
SRS resources sets.
\- Second SRS resource indicator - number of bits determined by the following:
\- $\left\lceil \log_{2}{(\max_{k \in { 1,2,\ldots,min{
L_{\max},N_{\text{SRS}}}}}\left( \frac{N_{\text{SRS}}}{k} \right))}
\right\rceil$ bits according to Tables 7.3.1.1.2-28/29A/30A/31A with the same
number of layers indicated by SRS resource indicator field if the higher layer
parameter _txConfig = nonCodebook_ , the higher layer paramtere _maxMIMO-
LayersforSdm_ is not configured, and SRS resource set indicator field is
present, where $N_{\text{SRS}}$ is the number of configured SRS resources in
the second SRS resource set, and
\- if UE supports operation with _maxMIMO-Layers_ and the higher layer
parameter _maxMIMO-Layers of PUSCH-ServingCellConfig_ of the serving cell is
configured,
\- L~max~ is given by maxMIMO-LayersforSfn if maxMIMO-LayersforSfn is
configured
\- L~max~ is given by _maxMIMO-Layers o_ therwise
\- otherwise, _L~max~_ is given by the maximum number of layers for PUSCH
supported by the UE for the serving cell for non-codebook based operation.
\- bits according to Tables 7.3.1.1.2-28/29 if the higher layer parameter
_txConfig = nonCodebook_ , the higher layer paramtere _maxMIMO-LayersforSdm_
is configured and SRS resource set indicator field is present, where
$N_{\text{SRS}}$ is the number of configured SRS resources in the second SRS
resource set, and _L~max~_ is given by _maxMIMO-LayersforSdm._
\- $\left\lceil \log_{2}{(N_{\text{SRS}})} \right\rceil$ bits according to
Tables 7.3.1.1.2-32, 7.3.1.1.2-32A and 7.3.1.1.2-32B if the higher layer
parameter _txConfig = codebook_ and SRS resource set indicator field is
present, where $N_{\text{SRS}}$ is the number of configured SRS resources in
the second SRS resource set.
\- 0 bit otherwise.
\- Precoding information and number of layers - number of bits determined by
the following:
\- 0 bits if the higher layer parameter _txConfig = nonCodeBook_ ;
\- 0 bits for 1 antenna port and if the higher layer parameter _txConfig =
codebook_ ;
\- 4, 5, or 6 bits according to Table 7.3.1.1.2-2 for 4 antenna ports, if
_txConfig = codebook,_ _ul-FullPowerTransmission is not configured or
configured to fullpowerMode2 or configured to fullpower,_ transform precoder
is disabled, and according to the values of higher layer parameters _maxRank
if multipanelScheme is not configured or_ max{_maxRank_ , _maxRankSfn_} if
_multipanelScheme =_ _sfnScheme_ or max{_maxRank_ , _maxRankSdm_} if
_multipanelScheme =_ _sdmScheme, and codebookSubset;_
\- 4 or 5 bits according to Table 7.3.1.1.2-2A for 4 antenna ports, if
_txConfig = codebook,_ _ul-FullPowerTransmission = fullpowerMode1, maxRank=2
if multipanelScheme is not configured or_ max{_maxRank_ , _maxRankSfn_} _= 2_
if _multipanelScheme =_ _sfnScheme or_ max{_maxRank_ , _maxRankSdm_} _= 2_ if
_multipanelScheme =_ _sdmScheme,_ transform precoder is disabled _,_ and
according to the values of higher layer parameter _codebookSubset;_
\- 4 or 6 bits according to Table 7.3.1.1.2-2B for 4 antenna ports, if
_txConfig = codebook, ul-FullPowerTransmission = fullpowerMode1,_ _maxRank=3
or 4,_ transform precoder is disabled, and according to the values of higher
layer parameter _codebookSubset;_
\- 2, 4, or 5 bits according to Table 7.3.1.1.2-3 for 4 antenna ports, if
_txConfig = codebook,_ _ul-FullPowerTransmission is not configured or
configured to fullpowerMode2 or configured to fullpower,_ and according to
whether transform precoder is enabled or disabled, and _maxRank=1 if
multipanelScheme is not configured or_ max{_maxRank_ , _maxRankSfn_} _= 1_ if
_multipanelScheme =_ _sfnScheme_ or max{_maxRank_ , _maxRankSdm_} _= 1_ if
_multipanelScheme =_ _sdmScheme, and codebookSubset;_
\- 3 or 4 bits according to Table 7.3.1.1.2-3A for 4 antenna ports, if
_txConfig = codebook,_ _ul-FullPowerTransmission = fullpowerMode1, maxRank=1
if multipanelScheme is not configured or_ max{_maxRank_ , _maxRankSfn_} _= 1_
if _multipanelScheme =_ _sfnScheme or_ max{_maxRank_ , _maxRankSdm_} _= 1_ if
_multipanelScheme =_ _sdmScheme,_ and according to whether transform precoder
is enabled or disabled, and the values of higher layer parameter
_codebookSubset;_
_\- 2 or 4 bits according to Table7.3.1.1.2-4 for 2 antenna ports,_ if
_txConfig = codebook,_ _ul-FullPowerTransmission is not configured or
configured to fullpowerMode2 or configured to fullpower,_ transform precoder
is disabled, and according to the values of higher layer parameters _maxRank
if multipanelScheme is not configured or_ max{_maxRank_ , _maxRankSfn_} if
_multipanelScheme =_ _sfnScheme_ or max{_maxRank_ , _maxRankSdm_} if
_multipanelScheme =_ _sdmScheme_ , _and codebookSubset;_
\- 2 bits according to Table 7.3.1.1.2-4A for 2 antenna ports, if _txConfig =
codebook,_ _ul-FullPowerTransmission = fullpowerMode1,_ transform precoder is
disabled, _maxRank=2 if multipanelScheme is not configured or_ max{_maxRank_ ,
_maxRankSfn_} _= 2_ if _multipanelScheme =_ _sfnScheme or_ max{_maxRank_ ,
_maxRankSdm_} _= 2_ if _multipanelScheme =_ _sdmScheme, and
codebookSubset=nonCoherent;_
_\- 1 or 3 bits according to Table7.3.1.1.2-5 for 2 antenna ports,_ if
_txConfig = codebook,_ _ul-FullPowerTransmission is not configured or
configured to fullpowerMode2 or configured to fullpower,_ and according to
whether transform precoder is enabled or disabled, and _maxRank=1 if
multipanelScheme is not configured or_ max{_maxRank_ , _maxRankSfn_}_=1_ if
_multipanelScheme =_ _sfnScheme_ or max{_maxRank_ , _maxRankSdm_}_=1_ if
_multipanelScheme =_ _sdmScheme_ , _and codebookSubset_ ;
\- 2 bits according to Table 7.3.1.1.2-5A for 2 antenna ports, if txConfig =
codebook, ul-FullPowerTransmission = fullpowerMode1, maxRank=1 if
multipanelScheme is not configured or max{maxRank, maxRankSfn} = 1 if
multipanelScheme = sfnScheme or max{maxRank, maxRankSdm} = 1 if
multipanelScheme = sdmScheme, and according to whether transform precoder is
enabled or disabled, and the values of higher layer parameter codebookSubset;
\- 7 bits according to Table 7.3.1.1.2-5B for 8 antenna ports, if
CodebookType=Codebook1, transform precoder is disabled, maxRank = 8, and
according to ULcodebookFC-N1N2;
\- 7 bits according to Table 7.3.1.1.2-5C for 8 antenna ports, if
CodebookType=Codebook1, transform precoder is disabled, maxRank =7, and
according to ULcodebookFC-N1N2;
\- 7 bits according to Table 7.3.1.1.2-5D for 8 antenna ports, if
CodebookType=Codebook1, transform precoder is disabled, maxRank =4, 5 or 6,
and according to maxRank;
\- 4, 6 or 7 bits according to Table 7.3.1.1.2-5E for 8 antenna ports, if
CodebookType=Codebook1, transform precoder is enabled or maxRank =1, 2 or 3 if
transform precoder is disabled, and according to transform precoder and
maxRank;
\- 8 bits according to Table 7.3.1.1.2-5F for 8 antenna ports, if
CodebookType=Codebook4, transform precoder is disabled, maxRank=5, 6, 7 or 8,
and according to maxRank;
\- 6 or 7 or 8 bits according to Table 7.3.1.1.2-5G for 8 antenna ports, if
CodebookType=Codebook4, transform precoder is disabled, maxRank=2, 3 or 4, ul-
FullPowerTransmission is not configured or configured to fullpowerMode2 or
configured to fullpower, and according to maxRank;
\- 3 bits according to Table 7.3.1.1.2-5H for 8 antenna ports, if
CodebookType=Codebook4, transform precoder is enabled or maxRank=1 if
transform precoder is disabled, ul-FullPowerTransmission is not configured or
configured to fullpowerMode2 or configured to fullpower.
\- 10 bits according to Table 7.3.1.1.2-5I for 8 antenna ports, if
CodebookType=Codebook2, transform precoder is disabled, maxRank=5, 6, 7 or 8,
and according to maxRank;
\- 5, 9 or 10 bits according to Table 7.3.1.1.2-5J for 8 antenna ports, if
CodebookType=Codebook2, transform precoder is enabled or maxRank =1, 2, 3 or 4
if transform precoder is disabled, ul-FullPowerTransmission is not configured
or configured to fullpowerMode2 or configured to fullpower, and according to
transform precoder and maxRank;
\- 10 bits according to Table 7.3.1.1.2-5K for 8 antenna ports, if
CodebookType=Codebook3, transform precoder is disabled, maxRank=5, 6, 7 or 8,
and according to maxRank;
\- 4, 7, 9 or 10 bits according to Table 7.3.1.1.2-5L for 8 antenna ports, if
CodebookType=Codebook3, transform precoder is enabled or maxRank =1, 2, 3 or 4
if transform precoder is disabled, ul-FullPowerTransmission is not configured
or configured to fullpowerMode2 or configured to fullpower, and according to
transform precoder and maxRank;
\- 6 or 7 or 8 bits according to Table 7.3.1.1.2-5M for 8 antenna ports, if
CodebookType=Codebook4, transform precoder is disabled, maxRank=2 or 3, ul-
FullPowerTransmission is configured to fullpowerMode1, and according to
maxRank;
\- 4 bits according to Table 7.3.1.1.2-5N for 8 antenna ports, if
CodebookType=Codebook4, transform precoder is enabled or maxRank=1 if
transform precoder is disabled, ul-FullPowerTransmission is configured to
fullpowerMode1.
\- 6 bits according to Table 7.3.1.1.2-5O for 8 antenna ports, if
CodebookType=Codebook2, transform precoder is enabled or maxRank =1 if
transform precoder is disabled, ul-FullPowerTransmission is configured to
fullpowerMode1;
\- 5, 7 or 9 bits according to Table 7.3.1.1.2-5P for 8 antenna ports, if
CodebookType=Codebook3, transform precoder is enabled or maxRank =1, 2, or 3
if transform precoder is disabled, ul-FullPowerTransmission is configured to
fullpowerMode1, and according to transform precoder and maxRank;
For the higher layer parameter _txConfig=codebook_ , if _ul-
FullPowerTransmission_ is configured to _fullpowerMode2_ , maxRank is
configured to be larger than 2, and at least one SRS resource with 4 antenna
ports is configured in the SRS resource set indicated by SRS resource set
indicator field if present, otherwise in an SRS resource set with usage set to
\'codebook\', and an SRS resource with 2 antenna ports is indicated via SRI in
the same SRS resource set, then Table 7.3.1.1.2-4 is used.
For the higher layer parameter _txConfig = codebook_ , if different SRS
resources with different number of antenna ports are configured, the bitwidth
is determined according to the maximum number of ports in an SRS resource
among the configured SRS resources in all SRS resource set(s) with usage set
to \'codebook\'. If the number of ports for a configured SRS resource in the
set is less than the maximum number of ports in an SRS resource among the
configured SRS resources, a number of most significant bits with value set to
\'0\' are inserted to the field.
When the UE is not provided _coresetPoolIndex_ or is provided
_coresetPoolIndex_ with value 0 for the first CORESETs, and is provided
_coresetPoolIndex_ with value 1 for the second CORESETs, and is provided
_enableSTx2PofmDCI_ , and there are two SRS resource sets configured by _srs-
ResourceSetToAddModList_ and associated with _usage_ of value \'_codebook_ \'
or \'_nonCodeBook_ \', the Precoding information and number of layers field is
associated with the SRS resource set that is associated with the
_coresetPoolIndex_ value for the CORESET used for the PDCCH carrying the DCI
format 0_1.
For the higher layer parameter _txConfig = codebook_ , when the Transform
precoder indicator field is present, if the bit width of the Precoding
information and number of layers field for the case with transform precoder
enabled is not equal to that for the case with transform precoder disabled, a
number of most significant bits with value set to \'0\' are inserted to the
Precoding information and number of layers field for the case with smaller bit
width until the bit width of the Precoding information and number of layers
field for the two cases are the same.
> \- Second Precoding information - number of bits determined by the
> following:
\- 0 bits if SRS resource set indicator field is not present;
\- 0 bits if the higher layer parameter _txConfig = nonCodeBook_ ;
\- 0 bits for 1 antenna port and if the higher layer parameter _txConfig =
codebook_ ;
\- 3, 4, or 5 bits according to Table 7.3.1.1.2-2C with the same number of
layers indicated by Precoding information and number of layers field for 4
antenna ports, if SRS resource set indicator field is present, _txConfig =
codebook,_ _ul-FullPowerTransmission is not configured or configured to
fullpowerMode2 or configured to fullpower,_ transform precoder is disabled,
and according to the values of higher layer parameters _maxRank if
multipanelScheme is not configured or maxRankSfn_ if _multipanelScheme =_
_sfnScheme, and_ _codebookSubset;_
\- 3 or 4 bits according to Table 7.3.1.1.2-2D with the same number of layers
indicated by Precoding information and number of layers field for 4 antenna
ports, if SRS resource set indicator field is present, _txConfig = codebook,_
_ul-FullPowerTransmission = fullpowerMode1, maxRank=2 if multipanelScheme is
not configured or maxRankSfn=2_ if _multipanelScheme =_ _sfnScheme,_ transform
precoder is disabled _,_ and according to the values of higher layer parameter
_codebookSubset;_
\- 3 or 4 bits according to Table 7.3.1.1.2-2E with the same number of layers
indicated by Precoding information and number of layers field for 4 antenna
ports, if SRS resource set indicator field is present, _txConfig = codebook,
ul-FullPowerTransmission = fullpowerMode1,_ _maxRank=3 or 4,_ transform
precoder is disabled, and according to the values of higher layer parameter
_codebookSubset;_
\- 2, 4, or 5 bits according to Table 7.3.1.1.2-3 with the same number of
layers indicated by Precoding information and number of layers field for 4
antenna ports, if SRS resource set indicator field is present, _txConfig =
codebook,_ _ul-FullPowerTransmission is not configured or configured to
fullpowerMode2 or configured to fullpower,_ and according to whether transform
precoder is enabled or disabled, and the values of higher layer parameters
_maxRank if multipanelScheme is not configured or maxRankSfn_ if
_multipanelScheme =_ _sfnScheme, and codebookSubset;_
\- 3 or 4 bits according to Table 7.3.1.1.2-3A with the same number of layers
indicated by Precoding information and number of layers field for 4 antenna
ports, if SRS resource set indicator field is present, _txConfig = codebook,_
_ul-FullPowerTransmission = fullpowerMode1, maxRank=1 if multipanelScheme is
not configured or maxRankSfn=1_ if _multipanelScheme =_ _sfnScheme,_ and
according to whether transform precoder is enabled or disabled, and the values
of higher layer parameter _codebookSubset;_
_\- 1 or 3 bits_ according to _Table7.3.1.1.2-4B_ with the same number of
layers indicated by Precoding information and number of layers field _for 2
antenna ports,_ if SRS resource set indicator field is present, _txConfig =
codebook,_ _ul-FullPowerTransmission is not configured or configured to
fullpowerMode2 or configured to fullpower,_ transform precoder is disabled,
and according to the values of higher layer parameters _maxRank if
multipanelScheme is not configured or maxRankSfn_ if _multipanelScheme =_
_sfnScheme_ , _and codebookSubset;_
\- 2 bits according to Table 7.3.1.1.2-4C with the same number of layers
indicated by Precoding information and number of layers field for 2 antenna
ports, if SRS resource set indicator field is present, _txConfig = codebook,_
_ul-FullPowerTransmission = fullpowerMode1,_ transform precoder is disabled,
_maxRank=2 if multipanelScheme is not configured or maxRankSfn=2_ if
_multipanelScheme =_ _sfnScheme, and codebookSubset=nonCoherent;_
_\- 1 or 3 bits according to Table7.3.1.1.2-5_ with the same number of layers
indicated by Precoding information and number of layers field _for 2 antenna
ports,_ if SRS resource set indicator field is present, _txConfig = codebook,_
_ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or
configured to fullpower,_ and according to whether transform precoder is
enabled or disabled, and the values of higher layer parameters _maxRank if
multipanelScheme is not configured or maxRankSfn_ if _multipanelScheme =_
_sfnScheme_ , _and codebookSubset_ ;
\- 2 bits according to Table 7.3.1.1.2-5A with the same number of layers
indicated by Precoding information and number of layers field for 2 antenna
ports, if SRS resource set indicator field is present, _txConfig = codebook,_
_ul-FullPowerTransmission = fullpowerMode1, maxRank=1 if multipanelScheme is
not configured or maxRankSfn=1_ if _multipanelScheme =_ _sfnScheme,_ and
according to whether transform precoder is enabled or disabled, and the values
of higher layer parameter _codebookSubset;_
\- 4, 5, or 6 bits according to Table 7.3.1.1.2-2 for 4 antenna ports, if
_txConfig = codebook,_ _ul-FullPowerTransmission is not configured or
configured to fullpowerMode2 or configured to fullpower,_ transform precoder
is disabled, and according to the values of higher layer parameters
_maxRankSdm_ if _multipanelScheme =_ _sdmScheme, and codebookSubset;_
\- 4 or 5 bits according to Table 7.3.1.1.2-2A for 4 antenna ports, if
_txConfig = codebook,_ _ul-FullPowerTransmission = fullpowerMode1, maxRankSdm
= 2_ if _multipanelScheme =_ _sdmScheme,_ transform precoder is disabled _,_
and according to the values of higher layer parameter _codebookSubset;_
\- 2, 4, or 5 bits according to Table 7.3.1.1.2-3 for 4 antenna ports, if
_txConfig = codebook,_ _ul-FullPowerTransmission is not configured or
configured to fullpowerMode2 or configured to fullpower,_ and according to
whether transform precoder is enabled or disabled, and the values of higher
layer parameters _maxRankSdm_ if _multipanelScheme =_ _sdmScheme, and
codebookSubset;_
\- 3 or 4 bits according to Table 7.3.1.1.2-3A for 4 antenna ports, if
_txConfig = codebook,_ _ul-FullPowerTransmission = fullpowerMode1, maxRankSdm
= 1_ if _multipanelScheme =_ _sdmScheme,_ and according to whether transform
precoder is enabled or disabled, and the values of higher layer parameter
_codebookSubset;_
_\- 2 or 4 bits according to Table7.3.1.1.2-4 for 2 antenna ports,_ if
_txConfig = codebook,_ _ul-FullPowerTransmission is not configured or
configured to fullpowerMode2 or configured to fullpower,_ transform precoder
is disabled, and according to the values of higher layer parameters
_maxRankSdm_ if _multipanelScheme =_ _sdmScheme, and codebookSubset;_
\- 2 bits according to Table 7.3.1.1.2-4A for 2 antenna ports, if _txConfig =
codebook,_ _ul-FullPowerTransmission = fullpowerMode1,_ transform precoder is
disabled, _maxRankSdm = 2_ if _multipanelScheme =_ _sdmScheme, and
codebookSubset=nonCoherent;_
_\- 1 or 3 bits according to Table7.3.1.1.2-5 for 2 antenna ports,_ if
_txConfig = codebook,_ _ul-FullPowerTransmission is not configured or
configured to fullpowerMode2 or configured to fullpower,_ and according to
whether transform precoder is enabled or disabled, and _maxRankSdm= 1_ if
_multipanelScheme =_ _sdmScheme, and codebookSubset_ ;
\- 2 bits according to Table 7.3.1.1.2-5A for 2 antenna ports, if _txConfig =
codebook,_ _ul-FullPowerTransmission = fullpowerMode1, maxRankSdm = 1_ if
_multipanelScheme =_ _sdmScheme,_ and according to whether transform precoder
is enabled or disabled, and the values of higher layer parameter
_codebookSubset;_
For the higher layer parameter _txConfig=codebook_ , if _ul-
FullPowerTransmission_ is configured to _fullpowerMode2_ , maxRank is
configured to be larger than 2, and at least one SRS resource with 4 antenna
ports is configured in the SRS resource set indicated by SRS resource set
indicator field, and an SRS resource with 2 antenna ports is indicated via
Second SRS resource indicator field in the same SRS resource set, then Table
7.3.1.1.2-4B is used.
For the higher layer parameter _txConfig = codebook_ , if different SRS
resources with different number of antenna ports are configured, the bitwidth
is determined according to the maximum number of ports in an SRS resource
among the configured SRS resources in the second SRS resource set with usage
set to \'codebook\' as defined in Table 7.3.1.1.2-36. If the number of ports
for a configured SRS resource in the set is less than the maximum number of
ports in an SRS resource among the configured SRS resources, a number of most
significant bits with value set to \'0\' are inserted to the field.
For the higher layer parameter _txConfig = codebook_ , when the Transform
precoder indicator field is present, if the bit width of the Second Precoding
information field for the case with transform precoder enabled is not equal to
that for the case with transform precoder disabled, a number of most
significant bits with value set to \'0\' are inserted to the Second Precoding
information field for the case with smaller bit width until the bit width of
the Second Precoding information field for the two cases are the same.
\- Antenna ports - number of bits determined by the following
\- 2 bits as defined by Tables 7.3.1.1.2-6, if transform precoder is enabled,
_dmrs-Type_ =1, and _maxLength_ =1, except that _dmrs-
UplinkTransformPrecoding_ and _tp-pi2BPSK_ are both configured and π/2 BPSK
modulation is used;
\- 2 bits as defined by Tables 7.3.1.1.2-6A, if transform precoder is enabled
and _dmrs-UplinkTransformPrecoding_ and _tp-pi2BPSK_ are both configured, π/2
BPSK modulation is used, _dmrs-Type_ =1, and _maxLength_ =1, where n~SCID~ is
the scrambling identity for antenna ports defined in Clause 6.4.1.1.1.2, TS
38.211 [4];
\- 4 bits as defined by Tables 7.3.1.1.2-7, if transform precoder is enabled,
_dmrs-Type_ =1, and _maxLength_ =2, except that _dmrs-
UplinkTransformPrecoding_ and _tp-pi2BPSK_ are both configured and π/2 BPSK
modulation is used;
\- 4 bits as defined by Tables 7.3.1.1.2-7A, if transform precoder is enabled
and _dmrs-UplinkTransformPrecoding_ and _tp-pi2BPSK_ are both configured, π/2
BPSK modulation is used, _dmrs-Type_ =1, and _maxLength_ =2, where n~SCID~ is
the scrambling identity for antenna ports defined in Clause 6.4.1.1.1.2, TS
38.211 [4];
\- 3 bits as defined by Tables 7.3.1.1.2-8/9/10/10A/11 according to the value
of rank, if transform precoder is disabled, _dmrs-Type_ =1, _enhanced-dmrs-
Type_ is not configured, and _maxLength_ =1;
\- 4 bits as defined by Tables 7.3.1.1.2-12/13/14/14A/15/15A/15B/15C/15D
according to the value of rank, if transform precoder is disabled, _dmrs-Type_
=1, _enhanced-dmrs-Type_ is not configured, and _maxLength_ =2;
\- 4 bits as defined by Tables 7.3.1.1.2-16/17/18/18A/19/19A/19B according to
the value of rank, if transform precoder is disabled, _dmrs-Type_ =2,
_enhanced-dmrs-Type_ is not configured, and _maxLength_ =1;
\- 5 bits as defined by Tables 7.3.1.1.2-20/21/22/22A/23/23A/23B/23C/23D
according to the value of rank, if transform precoder is disabled, _dmrs-Type_
=2, _enhanced-dmrs-Type_ is not configured, and _maxLength_ =2.
\- 4 bits as defined by Tables 7.3.1.1.2-38/39/40/40A/41/42/43/44/45, if
transform precoder is disabled, _dmrs-Type_ =1, _enhanced-dmrs-Type_ is
configured, and _maxLength_ =1;
\- 5 bits as defined by Tables 7.3.1.1.2-46/47/48/48A/49/50/51/52/53, if
transform precoder is disabled, _dmrs-Type_ =1, _enhanced-dmrs-Type_ is
configured, and _maxLength_ =2;
\- 5 bits as defined by Tables 7.3.1.1.2-54/55/56/56A/57/58/59/60/61, if
transform precoder is disabled, _dmrs-Type_ =2, _enhanced-dmrs-Type_ is
configured, and _maxLength_ =1;
\- 6 bits as defined by Tables 7.3.1.1.2-62/63/64/64A/65/66/67/68/69, if
transform precoder is disabled, _dmrs-Type_ =2, _enhanced-dmrs-Type_ is
configured, and _maxLength_ =2.
> where the number of CDM groups without data of values 1, 2, and 3 in Tables
> 7.3.1.1.2-6 to 7.3.1.1.2-23 refers to CDM groups {0}, {0,1}, and {0, 1,2}
> respectively, and the value of rank is:
\- the sum of the value determined according to the SRS resource indicator
field and the value determined according to the second SRS resource indicator
field, if _txConfig = nonCodebook_ , _multipanelScheme =_ _sdmScheme_ and SRS
resource set indicator field equals \"10\"
\- the sum of the value determined according to the Precoding information and
number of layers field and the value determined according to the Second
Precoding information, if _txConfig = codebook_ , _multipanelScheme =_
_sdmScheme_ and SRS resource set indicator field equals \"10\"
\- determined according to the SRS resource indicator field if the higher
layer parameter _txConfig = nonCodebook_ and _multipanelScheme =_ _sdmScheme_
is not configured, or if the higher layer parameter _txConfig = nonCodebook_ ,
_multipanelScheme =_ _sdmScheme_ and SRS resource set indicator field equals
\"00\" or "01",
\- determined according to the Precoding information and number of layers
field if the higher layer parameter _txConfig = codebook_ and
_multipanelScheme =_ _sdmScheme_ is not configured, or if the higher layer
parameter _txConfig = codebook_ , _multipanelScheme =_ _sdmScheme_ and SRS
resource set indicator field equals \"00\" or \"01\".
If a UE is configured with both _dmrs-UplinkForPUSCH-MappingTypeA_ and _dmrs-
UplinkForPUSCH-MappingTypeB_ , the bitwidth of this field equals , where is
the \"Antenna ports\" bitwidth derived according to _dmrs-UplinkForPUSCH-
MappingTypeA_ and is the \"Antenna ports\" bitwidth derived according to
_dmrs-UplinkForPUSCH-MappingTypeB_. A number of zeros are padded in the MSB of
this field, if the mapping type of the PUSCH corresponds to the smaller value
of and .
When the Transform precoder indicator field is present, if the bit width of
the Antenna ports field for the case with transform precoder enabled is not
equal to that for the case with transform precoder disabled, a number of most
significant bits with value set to \'0\' are inserted to the Antenna ports
field for the case with smaller bit width until the bit width of the Antenna
ports field for the two cases are the same.
\- SRS request - 2 bits as defined by Table 7.3.1.1.2-24 for UEs not
configured with _supplementaryUplink_ in _ServingCellConfig_ in the cell; 3
bits for UEs configured with _supplementaryUplink_ in _ServingCellConfig_ in
the cell where the first bit is the non-SUL/SUL indicator as defined in Table
7.3.1.1.1-1 and the second and third bits are defined by Table 7.3.1.1.2-24.
This bit field may also indicate the associated CSI-RS according to Clause
6.1.1.2 of [6, TS 38.214].
\- SRS offset indicator - 0, 1 or 2 bits.
\- 0 bit if higher layer parameter _AvailableSlotOffset_ is not configured for
any aperiodic SRS resource set in the scheduled cell, or if higher layer
parameter _AvailableSlotOffset_ is configured for at least one aperiodic SRS
resource set in the scheduled cell and the maximum number of entries of
_availableSlotOffsetList_ configured for all aperiodic SRS resource set(s) is
1;
\- otherwise, $\left\lceil \log_{2}{(K)} \right\rceil$ bits are used to
indicate available slot offset according to Table 7.3.1.1.2-37 and Clause
6.2.1 of [6, TS 38.214], where K is the maximum number of entries of
_availableSlotOffsetList_ configured for all aperiodic SRS resource set(s) in
the scheduled cell;
\- CSI request - 0, 1, 2, 3, 4, 5, or 6 bits determined by higher layer
parameter _reportTriggerSize_.
\- CBG transmission information (CBGTI) - 0 bit if higher layer parameter
_codeBlockGroupTransmission_ for PUSCH is not configured or if the number of
scheduled PUSCH indicated by the Time domain resource assignment field is
larger than 1; otherwise, 2, 4, 6, or 8 bits as defined in Clause 6.1.5 of [6,
TS38.214], determined by higher layer parameter
_maxCodeBlockGroupsPerTransportBlock_ and _maxRank_ or _maxMIMO-Layers_ for
PUSCH.
\- PTRS-DMRS association - number of bits determined as follows
\- 0 bit if _PTRS-UplinkConfi_ g is not configured in either _dmrs-
UplinkForPUSCH-MappingTypeA_ or _dmrs-UplinkForPUSCH-MappingTypeB_ and
transform precoder is disabled, or if transform precoder is enabled, or if
_maxRank=1_ and _multipanelScheme_ is not configured, or if _maxRank=1_ and
_maxRankSfn=1_ , or if _maxRank=1 and maxRankSdm=1_ when two PTRS ports are
configured by _maxNrofPortsforSdm_ ;
\- 2 or 4 bits otherwise, where Table
7.3.1.1.2-25/7.3.1.1.2-25A/7.3.1.1.2-25B/7.3.1.1.2-26/7.3.1.1.2-26A are used
to indicate the association between PTRS port(s) and DMRS port(s), and the
DMRS ports are indicated by the Antenna ports field.
\- 2 bits when one PTRS port or two PTRS ports are configured by
_maxNrofPorts_ in _PTRS-UplinkConfig,_ SRS resource set indicator field is
absent or SRS resource set indicator field is present and equals \"00\" or
"01" and maxRank\4_
and _multipanelScheme_ is not configured, this field indicates the association
between PTRS port and DMRS port(s) corresponding to the selected codeword
according to Table 7.3.1.1.2-25B, where the selected codeword is the codeword
with higher MCS for the initial PUSCH if the MCS indices of the two codewords
are different for the initial PUSCH, or codeword 0 otherwise.
\- 4 bits when two PTRS ports are configured by _maxNrofPorts_ in _PTRS-
UplinkConfig,_ the SRS resource set indicator field is absent, _maxRank >4_
and _multipanelScheme_ is not configured, this field indicates the association
between PTRS port(s) and DMRS port(s) corresponding to SRS resource indicator
field and/or Precoding information and number of layers field according to
Table 7.3.1.1.2-26A.
If \"Bandwidth part indicator\" field indicates a bandwidth part other than
the active bandwidth part and the \"PTRS-DMRS association\" field is present
for the indicated bandwidth part but not present for the active bandwidth
part, the UE assumes the \"PTRS-DMRS association\" field is not present for
the indicated bandwidth part.
When the Transform precoder indicator field is present, if the bit width of
PTRS-DMRS association field for the case with transform precoder enabled is
not equal to that for the case with transform precoder disabled, a number of
most significant bits with value set to \'0\' are inserted to the PTRS-DMRS
association field for the case with smaller bit width until the bit width of
the PTRS-DMRS association field for the two cases are the same.
\- Second PTRS-DMRS association - 2 bits if PTRS-DMRS association field and
SRS resource set indicator field are present and _maxRank >2_ and
_multipanelScheme_ is not configured; 0 bit otherwise. Tables 7.3.1.1.2-25 and
7.3.1.1.2-26 are used to indicate the association between PTRS port(s) and
DMRS port(s) corresponding to Second SRS resource indicator field and/or
Second precoding information field when one PT-RS port and two PT-RS ports are
configured by _maxNrofPorts_ in _PTRS-UplinkConfig_ respectively, and the DMRS
ports are indicated by the Antenna ports field.
\- beta_offset indicator - 0 if the higher layer parameter _betaOffsets =
semiStatic_ ; otherwise 2 bits as defined by Table 9.3-3 in [5, TS 38.213].
When two HARQ-ACK codebooks are configured by _pdsch-HARQ-ACK-CodebookList_ or
by _pdsch-HARQ-ACK-CodebookListMulticast_ for the same serving cell and if
higher layer parameter _priorityIndicatorDCI-0-1_ is configured, if the bit
width of the beta_offset indicator in DCI format 0_1 for one HARQ-ACK codebook
is not equal to that of the beta_offset indicator in DCI format 0_1 for the
other HARQ-ACK codebook, a number of most significant bits with value set to
\'0\' are inserted to smaller beta_offset indicator until the bit width of the
beta_offset indicator in DCI format 0_1 for the two HARQ-ACK codebooks are the
same.
\- DMRS sequence initialization - 0 bit if transform precoder is enabled; 1
bit if transform precoder is disabled or if the Transform precoder indicator
field is present.
\- UL-SCH indicator - 0 or 1 bit as follows
\- 0 bit if the number of scheduled PUSCH indicated by the Time domain
resource assignment field is larger than 1;
\- 1 bit otherwise. A value of \"1\" indicates UL-SCH shall be transmitted on
the PUSCH and a value of \"0\" indicates UL-SCH shall not be transmitted on
the PUSCH. If a UE does not support triggering SRS only in DCI, except for DCI
format 0_1 with CRC scrambled by SP-CSI-RNTI, the UE is not expected to
receive a DCI format 0_1 with UL-SCH indicator of \"0\" and CSI request of all
zero(s). If a UE supports triggering SRS only in DCI, except for DCI format
0_1 with CRC scrambled by SP-CSI-RNTI, the UE is not expected to receive a DCI
format 0_1 with UL-SCH indicator of \"0\", CSI request of all zero(s) and SRS
request of all zero(s).
\- ChannelAccess-CPext-CAPC - 0, 1, 2, 3, 4, 5 or 6 bits. The bitwidth for
this field is determined as $\left\lceil \log_{2}{(I)} \right\rceil$ bits,
where _I_ is the number of entries in the higher layer parameter _ul-
AccessConfigListDCI-0-1_ or in Table 7.3.1.1.1-4A if _channelAccessMode-r16_ =
\"_semiStatic_ \" is provided, for operation in a cell with shared spectrum
channel access in frequency range 1, or for operation in frequency range 2-2
if _ChannelAccessMode2-r17_ is provided; otherwise 0 bit. One or more entries
from Table 7.3.1.1.2-35 or Table 7.3.1.1.2-35A are configured by the higher
layer parameter _ul-AccessConfigListDCI-0-1._
\- Open-loop power control parameter set indication - 0 or 1 or 2 bits.
\- 0 bit if the higher layer parameter _p0-PUSCH-SetList_ is not configured;
\- 1 or 2 bits otherwise,
\- 1 bit if SRS resource indicator is present in the DCI format 0_1;
\- 1 or 2 bits as determined by higher layer parameter _olpc-
ParameterSetDCI-0-1_ if SRS resource indicator is not present in the DCI
format 0_1.
\- Priority indicator - 0 bit if higher layer parameter
_priorityIndicatorDCI-0-1_ is not configured; otherwise 1 bit as defined in
Clause 9 in [5, TS 38.213].
\- Invalid symbol pattern indicator - 0 bit if higher layer parameter
_invalidSymbolPatternIndicatorDCI-0-1_ is not configured; otherwise 1 bit as
defined in Clause 6.1.2.1 in [6, TS 38.214].
\- Minimum applicable scheduling offset indicator - 0 or 1 bit
\- 0 bit if higher layer parameter _minimumSchedulingOffsetK2_ is not
configured;
\- 1 bit if higher layer parameter _minimumSchedulingOffsetK2_ is configured.
The 1 bit indication is used to determine the minimum applicable K2 for the
active UL BWP and the minimum applicable K0 value for the active DL BWP, if
configured respectively, according to Table 7.3.1.1.2-33. If the minimum
applicable K0 is indicated, the minimum applicable value of the aperiodic CSI-
RS triggering offset for an active DL BWP shall be the same as the minimum
applicable K0 value.
\- SCell dormancy indication - 0 bit if higher layer parameter
_dormancyGroupWithinActiveTime_ is not configured; otherwise 1, 2, 3, 4 or 5
bits bitmap determined according to the number of different
_DormancyGroupID(s)_ provided by higher layer parameter
_dormancyGroupWithinActiveTime,_ where each bit corresponds to one of the
SCell group(s) configured by higher layers parameter
_dormancyGroupWithinActiveTime,_ with MSB to LSB of the bitmap corresponding
to the first to last configured SCell group in ascending order of
_DormancyGroupID_. The field is only present when this format is carried by
PDCCH on the primary cell within DRX Active Time and the UE is configured with
at least two DL BWPs for an SCell.
\- Sidelink assignment index - 0, 1 or 2 bits:
\- 1 bit if the UE is configured with _pdsch-HARQ-ACK-Codebook_ = _semi-
static_ and, in addition, the UE is configured with a SL configured grant type
1 or to monitor DCI format 3_0 with CRC scrambled by SL-RNTI or SL-CS-RNTI;
\- 2 bits if the UE is configured with _pdsch-HARQ-ACK-Codebook_ = _dynamic_
and, in addition, the UE is configured with a SL configured grant type 1 or to
monitor DCI format 3_0 with CRC scrambled by SL-RNTI or SL-CS-RNTI;
\- 0 bit otherwise.
\- PDCCH monitoring adaptation indication - 0, 1 or 2 bits
\- 1 or 2 bits, if _searchSpaceGroupIdList-r17_ is not configured and if
_pdcch-SkippingDurationList_ is configured
\- 1 bit if the UE is configured with only one duration by _pdcch-
SkippingDurationList;_
\- 2 bits if the UE is configured with more than one duration by _pdcch-
SkippingDurationList_.
\- 1 or 2 bits, if _pdcch-SkippingDurationList_ is not configured and if
_searchSpaceGroupIdList-r17_ is configured
\- 1 bit if the UE is configured by _searchSpaceGroupIdList-r17_ with search
space set(s) with group index 0 and search space set(s) with group index 1,
and if the UE is not configured by _searchSpaceGroupIdList-r17_ with any
search space set with group index 2;
\- 2 bits if the UE is configured by _searchSpaceGroupIdList-r17_ with search
space set(s) with group index 0, search space set(s) with group index 1 and
search space set(s) with group index 2;
\- 2 bits, if _pdcch-SkippingDurationList_ is configured and if
_searchSpaceGroupIdList-r17_ is configured
\- 0 bit, otherwise
A UE does not expect that the bit width of a field in DCI format 0_1 with CRC
scrambled by CS-RNTI is larger than corresponding bit width of same field in
DCI format 0_1 with CRC scrambled by C-RNTI for the same serving cell. If the
bit width of a field in the DCI format 0_1 with CRC scrambled by CS-RNTI is
not equal to that of the corresponding field in the DCI format 0_1 with CRC
scrambled by C-RNTI for the same serving cell, a number of most significant
bits with value set to \'0\' are inserted to the field in DCI format 0_1 with
CRC scrambled by CS-RNTI until the bit width equals that of the corresponding
field in the DCI format 0_1 with CRC scrambled by C-RNTI for the same serving
cell.
If the number of information bits in DCI format 0_1 scheduling a single PUSCH
prior to padding is not equal to the number of information bits in DCI format
0_1 scheduling multiple PUSCHs for the same serving cell, zeros shall be
appended to the DCI format 0_1 with smaller size until the payload size is the
same for scheduling a single PUSCH and multiple PUSCHs.
For a UE configured with scheduling on the primary cell from an SCell, if
prior to padding the number of information bits in DCI format 0_1 carried by
PDCCH on the primary cell is not equal to the number of information bits in
DCI format 0_1 carried by PDCCH on the SCell for scheduling on the primary
cell, zeros shall be appended to the DCI format 0_1 with smaller size until
the payload size is the same.
\- If application of step 4C in clause 7.3.1.0 results in additional zero
padding for DCI format 0_1 for scheduling on the primary cell, corresponding
zeros shall be appended to both DCI format 0_1 monitored on the primary cell
and DCI format 0_1 monitored on the SCell for scheduling on the primary cell.
\- If the SCell is deactivated and _firstActiveDownlinkBWP-Id_ is not set to
dormant BWP, the UE determines the number of information bits in DCI format
0_1 carried by PDCCH on the primary cell based on a DL BWP provided by
_firstActiveDownlinkBWP-Id_ for the SCell. If the active DL BWP of the SCell
is a dormant DL BWP, or if the SCell is deactivated and
_firstActiveDownlinkBWP-Id_ is set to dormant BWP, the UE determines the
number of information bits in DCI format 0_1 carried by PDCCH on the primary
cell based on a DL BWP provided by _firstWithinActiveTimeBWP-Id_ for the SCell
if provided; otherwise, based on a DL BWP provided by
_firstOutsideActiveTimeBWP-Id_ for the SCell.
Table 7.3.1.1.2-1: Bandwidth part indicator
Value of BWP indicator field Bandwidth part
* * *
2 bits  
00 Configured BWP with BWP-Id = 1 01 Configured BWP with BWP-Id = 2 10
Configured BWP with BWP-Id = 3 11 Configured BWP with BWP-Id = 4
Table 7.3.1.1.2-2: Precoding information and number of layers or Second
Precoding information, for 4 antenna ports, if transform precoder is disabled,
_maxRank = 2 or 3 or 4 or max{maxRank, maxRankSfn} = 2 or 3 or 4 or
max{maxRank, maxRankSdm} = 2 or 3 or 4 or maxRankSdm= 2, and ul-
FullPowerTransmission is not configured or configured to fullpowerMode2 or
configured to fullpower_
Bit field mapped to index _codebookSubset_ = _fullyAndPartialAndNonCoherent_
Bit field mapped to index _codebookSubset_ = _partialAndNonCoherent_ Bit field
mapped to index _codebookSubset_ = _nonCoherent_
* * *
0 1 layer: TPMI=0 0 1 layer: TPMI=0 0 1 layer: TPMI=0 1 1 layer: TPMI=1 1 1
layer: TPMI=1 1 1 layer: TPMI=1 ... ... ... ... ... ... 3 1 layer: TPMI=3 3 1
layer: TPMI=3 3 1 layer: TPMI=3 4 2 layers: TPMI=0 4 2 layers: TPMI=0 4 2
layers: TPMI=0 ... ... ... ... ... ... 9 2 layers: TPMI=5 9 2 layers: TPMI=5 9
2 layers: TPMI=5 10 3 layers: TPMI=0 10 3 layers: TPMI=0 10 3 layers: TPMI=0
11 4 layers: TPMI=0 11 4 layers: TPMI=0 11 4 layers: TPMI=0 12 1 layer: TPMI=4
12 1 layer: TPMI=4 12-15 reserved ... ... ... ...  
19 1 layer: TPMI=11 19 1 layer: TPMI=11  
20 2 layers: TPMI=6 20 2 layers: TPMI=6  
... ... ... ...  
27 2 layers: TPMI=13 27 2 layers: TPMI=13  
28 3 layers: TPMI=1 28 3 layers: TPMI=1  
29 3 layers: TPMI=2 29 3 layers: TPMI=2  
30 4 layers: TPMI=1 30 4 layers: TPMI=1  
31 4 layers: TPMI=2 31 4 layers: TPMI=2  
32 1 layers: TPMI=12  
... ...  
47 1 layers: TPMI=27  
48 2 layers: TPMI=14  
... ...  
55 2 layers: TPMI=21  
56 3 layers: TPMI=3  
... ...  
59 3 layers: TPMI=6  
60 4 layers: TPMI=3  
61 4 layers: TPMI=4  
62-63 reserved
Table 7.3.1.1.2-2A: Precoding information and number of layers for 4 antenna
ports or Second Precoding information,, if transform precoder is disabled,
_maxRank = 2 or max{maxRank, maxRankSfn} = 2 or max{maxRank, maxRankSdm} = 2
or maxRankSdm= 2, and ul-FullPowerTransmission = fullpowerMode1_
Bit field mapped to index _codebookSubset_ = _partialAndNonCoherent_ Bit field
mapped to index _codebookSubset_ = _nonCoherent_
* * *
0 1 layer: TPMI=0 0 1 layer: TPMI=0 1 1 layer: TPMI=1 1 1 layer: TPMI=1 ...
... ... ... 3 1 layer: TPMI=3 3 1 layer: TPMI=3 4 2 layers: TPMI=0 4 2 layers:
TPMI=0 ... ... ... ... 9 2 layers: TPMI=5 9 2 layers: TPMI=5 10 1 layer:
TPMI=13 10 1 layer: TPMI=13 11 2 layer: TPMI=6 11 2 layer: TPMI=6 12 1 layer:
TPMI=4 12-15 Reserved ... ...  
20 1 layer: TPMI=12  
21 1 layer: TPMI=14  
22 1 layer: TPMI=15  
23 2 layers: TPMI=7  
... ...  
29 2 layers: TPMI=13  
30-31 Reserved
Table 7.3.1.1.2-2B: Precoding information and number of layers for 4 antenna
ports, if transform precoder is disabled, _maxRank = 3 or 4, and ul-
FullPowerTransmission = fullpowerMode1_
Bit field mapped to index _codebookSubset_ = _partialAndNonCoherent_ Bit field
mapped to index _codebookSubset_ = _nonCoherent_
* * *
0 1 layer: TPMI=0 0 1 layer: TPMI=0 1 1 layer: TPMI=1 1 1 layer: TPMI=1 ...
... ... ... 3 1 layer: TPMI=3 3 1 layer: TPMI=3 4 2 layers: TPMI=0 4 2 layers:
TPMI=0 ... ... ... ... 9 2 layers: TPMI=5 9 2 layers: TPMI=5 10 3 layers:
TPMI=0 10 3 layers: TPMI=0 11 4 layers: TPMI=0 11 4 layers: TPMI=0 12 1 layer:
TPMI=13 12 1 layer: TPMI=13 13 2 layer: TPMI=6 13 2 layer: TPMI=6 14 3 layer:
TPMI=1 14 3 layer: TPMI=1 15 1 layer: TPMI=4 15 Reserved ... ...  
23 1 layer: TPMI=12  
24 1 layer: TPMI=14  
25 1 layer: TPMI=15  
26 2 layers: TPMI=7  
... ...  
32 2 layers: TPMI=13  
33 3 layers: TPMI=2  
34 4 layers: TPMI=1  
35 4 layers: TPMI=2  
36-63 Reserved
Table 7.3.1.1.2-2C: Second precoding information, for 4 antenna ports, if
transform precoder is disabled, _maxRank = 2 or 3 or 4 or maxRankSfn = 2, and
ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or
configured to fullpower_
Bit field mapped to index _codebookSubset_ = _fullyAndPartialAndNonCoherent_
Bit field mapped to index _codebookSubset_ = _partialAndNonCoherent_ Bit field
mapped to index _codebookSubset_ = _nonCoherent_
* * *
0 1 layer: TPMI=0 0 1 layer: TPMI=0 0 1 layer: TPMI=0 ... ... ... ... ... ...
27 1 layer: TPMI=27 11 1 layer: TPMI=11 3 1 layer: TPMI=3 28-31 1 layer:
reserved 12-15 1 layer: reserved 4-7 1 layer: reserved 0 2 layers: TPMI=0 0 2
layers: TPMI=0 0 2 layers: TPMI=0 ... ... ... ... ... ... 21 2 layers: TPMI=21
13 2 layers: TPMI=13 5 2 layers: TPMI=5 22-31 2 layers: reserved 14-15 2
layers: reserved 6-7 2 layers: reserved 0 3 layers: TPMI=0 0 3 layers: TPMI=0
0 3 layers: TPMI=0 ... ... ... ... 1-7 3 layers: reserved 6 3 layers: TPMI=6 2
3 layers: TPMI=2 0 4 layers: TPMI=0 7-31 3 layers: reserved 3-15 3 layers:
reserved 1-7 4 layers: reserved 0 4 layers: TPMI=0 0 4 layers: TPMI=0  
... ... ... ...  
4 4 layers: TPMI=4 2 4 layers: TPMI=2  
5-31 4 layers: reserved 3-15 4 layers: reserved
Table 7.3.1.1.2-2D: Second precoding information for 4 antenna ports, if
transform precoder is disabled, _maxRank = 2 or maxRankSfn = 2, and ul-
FullPowerTransmission = fullpowerMode1_
Bit field mapped to index _codebookSubset_ = _partialAndNonCoherent_ Bit field
mapped to index _codebookSubset_ = _nonCoherent_
* * *
0 1 layer: TPMI=0 0 1 layer: TPMI=0 ... ... ... ... 14 1 layer: TPMI=14 3 1
layer: TPMI=3 15 1 layer: TPMI=15 4 1 layer: TPMI=13 0 2 layers: TPMI=0 5-7 1
layer: reserved ... ... 0 2 layers: TPMI=0 13 2 layers: TPMI=13 ... ... 14-15
2 layers: reserved 6 2 layers: TPMI=6 7 2 layers: reserved
Table 7.3.1.1.2-2E: Second precoding information for 4 antenna ports, if
transform precoder is disabled, _maxRank = 3 or 4, and ul-
FullPowerTransmission = fullpowerMode1_
Bit field mapped to index _codebookSubset_ = _partialAndNonCoherent_ Bit field
mapped to index _codebookSubset_ = _nonCoherent_
* * *
0 1 layer: TPMI=0 0 1 layer: TPMI=0 ... ... ... ... 14 1 layer: TPMI=14 3 1
layer: TPMI=3 15 1 layer: TPMI=15 4 1 layer: TPMI=13 0 2 layers: TPMI=0 5-7 1
layer: reserved ... ... 0 2 layers: TPMI=0 13 2 layers: TPMI=13 ... ... 14-15
2 layers: reserved 6 2 layers: TPMI=6 0 3 layers: TPMI=0 7 2 layers: reserved
... ... 0 3 layers: TPMI=0 2 3 layers: TPMI=2 1 3 layer: TPMI=1 3-15 3 layers:
reserved 2-7 3 layers: reserved 0 4 layers: TPMI=0 0 4 layers: TPMI=0 ... ...
1-7 4 layers: reserved 2 4 layers: TPMI=2  
3-15 4 layers: reserved
Table 7.3.1.1.2-3: Precoding information and number of layers or Second
Precoding information, for 4 antenna ports, if transform precoder is enabled
and _ul-FullPowerTransmission is either not configured or configured to
fullpowerMode2 or configured to fullpower_ , or if transform precoder is
disabled, _maxRank = 1 or max{maxRank, maxRankSfn} = 1 or max{maxRank,
maxRankSdm} = 1 or maxRankSdm= 1 or maxRankSfn= 1, and ul-
FullPowerTransmission is not configured or configured to fullpowerMode2 or
configured to fullpower_
Bit field mapped to index _codebookSubset_ = _fullyAndPartialAndNonCoherent_
Bit field mapped to index _codebookSubset_ = _partialAndNonCoherent_ Bit field
mapped to index _codebookSubset_ = _nonCoherent_
* * *
0 1 layer: TPMI=0 0 1 layer: TPMI=0 0 1 layer: TPMI=0 1 1 layer: TPMI=1 1 1
layer: TPMI=1 1 1 layer: TPMI=1 ... ... ... ... ... ... 3 1 layer: TPMI=3 3 1
layer: TPMI=3 3 1 layer: TPMI=3 4 1 layer: TPMI=4 4 1 layer: TPMI=4  
... ... ... ...  
11 1 layer: TPMI=11 11 1 layer: TPMI=11  
12 1 layers: TPMI=12 12-15 reserved  
... ...  
27 1 layers: TPMI=27  
28-31 reserved
Table 7.3.1.1.2-3A: Precoding information and number of layers or Second
Precoding information, for 4 antenna ports, if transform precoder is enabled
and _ul-FullPowerTransmission = fullpowerMode1_ , or if transform precoder is
disabled, _maxRank = 1 or max{maxRank, maxRankSfn} = 1 or max{maxRank,
maxRankSdm} = 1 or maxRankSdm= 1 or maxRankSfn= 1, and ul-
FullPowerTransmission = fullpowerMode1_
Bit field mapped to index _codebookSubset_ = _partialAndNonCoherent_ Bit field
mapped to index _codebookSubset_ = _nonCoherent_
* * *
0 1 layer: TPMI=0 0 1 layer: TPMI=0 1 1 layer: TPMI=1 1 1 layer: TPMI=1 ...
... ... ... 3 1 layer: TPMI=3 3 1 layer: TPMI=3 4 1 layer: TPMI=13 4 1 layer:
TPMI=13 5 1 layer: TPMI=4 5-7 Reserved ... ...  
13 1 layer: TPMI=12  
14 1 layer: TPMI=14  
15 1 layer: TPMI=15
Table 7.3.1.1.2-4: Precoding information and number of layers or Second
Precoding information, for 2 antenna ports, if transform precoder is disabled,
_maxRank = 2 or max{maxRank, maxRankSfn} = 2 or max{maxRank, maxRankSdm} = 2
or maxRankSdm= 2, and ul-FullPowerTransmission is not configured or configured
to fullpowerMode2 or configured to fullpower_
Bit field mapped to index _codebookSubset_ = _fullyAndPartialAndNonCoherent_
Bit field mapped to index _codebookSubset_ = _nonCoherent_
* * *
0 1 layer: TPMI=0 0 1 layer: TPMI=0 1 1 layer: TPMI=1 1 1 layer: TPMI=1 2 2
layers: TPMI=0 2 2 layers: TPMI=0 3 1 layer: TPMI=2 3 reserved 4 1 layer:
TPMI=3  
5 1 layer: TPMI=4  
6 1 layer: TPMI=5  
7 2 layers: TPMI=1  
8 2 layers: TPMI=2  
9-15 reserved
Table 7.3.1.1.2-4A: Precoding information and number of layers or Second
Precoding information, for 2 antenna ports, if transform precoder is disabled
_, maxRank = 2 or max{maxRank, maxRankSfn} = 2 or max{maxRank, maxRankSdm} = 2
or maxRankSdm= 2, and ul-FullPowerTransmission = fullpowerMode1_
Bit field mapped to index _codebookSubset_ = _nonCoherent_
* * *
0 1 layer: TPMI=0 1 1 layer: TPMI=1 2 2 layers: TPMI=0 3 1 layer: TPMI=2
Table 7.3.1.1.2-4B: Second precoding information, for 2 antenna ports, if
transform precoder is disabled, _maxRank = 2 or maxRankSfn = 2, and ul-
FullPowerTransmission is not configured or configured to fullpowerMode2 or
configured to fullpower_
Bit field mapped to index _codebookSubset_ = _fullyAndPartialAndNonCoherent_
Bit field mapped to index _codebookSubset_ = _nonCoherent_
* * *
0 1 layer: TPMI=0 0 1 layer: TPMI=0 1 1 layer: TPMI=1 1 1 layer: TPMI=1 ...
... 0 2 layers: TPMI=0 5 1 layer: TPMI=5 1 2 layers: reserved 6-7 1 layer:
reserved  
0 2 layers: TPMI=0  
... ...  
2 2 layers: TPMI=2  
3-7 2 layers: reserved
Table 7.3.1.1.2-4C: Second precoding information, for 2 antenna ports, if
transform precoder is disabled _, maxRank = 2 or maxRankSfn = 2, and ul-
FullPowerTransmission = fullpowerMode1_
Bit field mapped to index _codebookSubset_ = _nonCoherent_
* * *
0 1 layer: TPMI=0 ... ... 2 1 layer: TPMI=2 3 1 layer: reserved 0 2 layers:
TPMI=0 1-3 2 layers: reserved
Table 7.3.1.1.2-5: Precoding information and number of layers or Second
Precoding information, for 2 antenna ports, if transform precoder is enabled
and _ul-FullPowerTransmission is not configured or configured to
fullpowerMode2 or configured to fullpower_ , or if transform precoder is
disabled, _maxRank = 1 or max{maxRank, maxRankSfn} = 1 or max{maxRank,
maxRankSdm} = 1 or maxRankSdm= 1 or maxRankSfn= 1, and_ and _ul-
FullPowerTransmission is not configured or configured to fullpowerMode2 or
configured to fullpower_
Bit field mapped to index _codebookSubset_ = _fullyAndPartialAndNonCoherent_
Bit field mapped to index _codebookSubset_ = _nonCoherent_
* * *
0 1 layer: TPMI=0 0 1 layer: TPMI=0 1 1 layer: TPMI=1 1 1 layer: TPMI=1 2 1
layer: TPMI=2  
3 1 layer: TPMI=3  
4 1 layer: TPMI=4  
5 1 layer: TPMI=5  
6-7 reserved
Table 7.3.1.1.2-5A: Precoding information and number of layers or Second
Precoding information, for 2 antenna ports or Second Precoding information, if
transform precoder is enabled and _ul-FullPowerTransmission = fullpowerMode1_
, or if transform precoder is disabled _, maxRank = 1 or max{maxRank,
maxRankSfn} = 1 or max{maxRank, maxRankSdm} = 1 or maxRankSdm= 1 or
maxRankSfn= 1, and ul-FullPowerTransmission = fullpowerMode1_
Bit field mapped to index _codebookSubset_ = _nonCoherent_
* * *
0 1 layer: TPMI=0 1 1 layer: TPMI=1 2 1 layer: TPMI=2 3 Reserved
Table 7.3.1.1.2-5B: Precoding information and number of layers, for 8 antenna
ports, if transform precoder is disabled, _maxRank = 8, and CodebookType_
=_Codebook1_
Bit field mapped to index _ULcodebookFC-N1N2_ = (4, 1) Bit field mapped to
index _ULcodebookFC-N1N2 = (2, 2)_
* * *
0 1 layer: TPMI=0 0 1 layer: TPMI=0 1 1 layer: TPMI=1 1 1 layer: TPMI=1 ...
... ... ... 15 1 layer: TPMI=15 15 1 layer: TPMI=15 16 2 layers: TPMI=0 16 2
layer2: TPMI=0 17 2 layers: TPMI=1 17 2 layer2: TPMI=1 ... ... ... ... 47 2
layers: TPMI=31 47 2 layers: TPMI=31 48 3 layers: TPMI=0 48 3 layers: TPMI=0
49 3 layers: TPMI=1 49 3 layers: TPMI=1 ... ... ... ... 71 3 layers: TPMI=23
71 3 layers: TPMI=23 72 4 layers: TPMI=0 72 4 layers: TPMI=0 73 4 layers:
TPMI=1 73 4 layers: TPMI=1 ... ... ... ... 95 4 layers: TPMI=23 95 4 layers:
TPMI=23 96 5 layers: TPMI=0 96 5 layers: TPMI=0 97 5 layers: TPMI=1 97 5
layers: TPMI=1 ... ... ... ... 103 5 layers: TPMI=7 103 5 layers: TPMI=7 104 6
layers: TPMI=0 104 6 layers: TPMI=0 105 6 layers: TPMI=1 105 6 layers: TPMI=1
... ... ... ... 111 6 layers: TPMI=7 111 6 layers: TPMI=7 112 7 layers: TPMI=0
112 7 layers: TPMI=0 113 7 layers: TPMI=1 113 7 layers: TPMI=1 ... ... ... ...
115 7 layers: TPMI=3 119 7 layers: TPMI=7 116 8 layers: TPMI=0 120 8 layers:
TPMI=0 117 8 layers: TPMI=1 121 8 layers: TPMI=1 ... ... ... ... 119 8 layers:
TPMI=3 127 8 layers: TPMI=7 120-127 reserved
Table 7.3.1.1.2-5C: Precoding information and number of layers, for 8 antenna
ports, if transform precoder is disabled, _maxRank = 7, and
CodebookType=Codebook1_
Bit field mapped to index _ULcodebookFC-N1N2_ = (4, 1) Bit field mapped to
index _ULcodebookFC-N1N2= (2, 2)_
* * *
0 1 layer: TPMI=0 0 1 layer: TPMI=0 1 1 layer: TPMI=1 1 1 layer: TPMI=1 ...
... ... ... 15 1 layer: TPMI=15 15 1 layer: TPMI=15 16 2 layers: TPMI=0 16 2
layer2: TPMI=0 17 2 layers: TPMI=1 17 2 layer2: TPMI=1 ... ... ... ... 47 2
layers: TPMI=31 47 2 layers: TPMI=31 48 3 layers: TPMI=0 48 3 layers: TPMI=0
49 3 layers: TPMI=1 49 3 layers: TPMI=1 ... ... ... ... 71 3 layers: TPMI=23
71 3 layers: TPMI=23 72 4 layers: TPMI=0 72 4 layers: TPMI=0 73 4 layers:
TPMI=1 73 4 layers: TPMI=1 ... ... ... ... 95 4 layers: TPMI=23 95 4 layers:
TPMI=23 96 5 layers: TPMI=0 96 5 layers: TPMI=0 97 5 layers: TPMI=1 97 5
layers: TPMI=1 ... ... ... ... 103 5 layers: TPMI=7 103 5 layers: TPMI=7 104 6
layers: TPMI=0 104 6 layers: TPMI=0 105 6 layers: TPMI=1 105 6 layers: TPMI=1
... ... ... ... 111 6 layers: TPMI=7 111 6 layers: TPMI=7 112 7 layers: TPMI=0
112 7 layers: TPMI=0 113 7 layers: TPMI=1 113 7 layers: TPMI=1 ... ... ... ...
115 7 layers: TPMI=3 119 7 layers: TPMI=7 116-127 reserved 120-127 reserved
Table 7.3.1.1.2-5D: Precoding information and number of layers, for 8 antenna
ports,\ if transform precoder is disabled, _maxRank = 4, 5 or 6,
CodebookType=Codebook1,\ ULcodebookFC-N1N2 = (4,1) or (2,2)_
Bit field mapped to index _maxRank_ =4 Bit field mapped to index _maxRank_ =5
Bit field mapped to index _maxRank=6_
* * *
0 1 layer: TPMI=0 0 1 layer: TPMI=0 0 1 layer: TPMI=0 1 1 layer: TPMI=1 1 1
layer: TPMI=1 1 1 layer: TPMI=1 ... ... ... ... ... ... 15 1 layer: TPMI=15 15
1 layer: TPMI=15 15 1 layer: TPMI=15 16 2 layers: TPMI=0 16 2 layers: TPMI=0
16 2 layer2: TPMI=0 17 2 layers: TPMI=1 17 2 layers: TPMI=1 17 2 layer2:
TPMI=1 ... ... ... ... ... ... 47 2 layers: TPMI=31 47 2 layers: TPMI=31 47 2
layers: TPMI=31 48 3 layers: TPMI=0 48 3 layers: TPMI=0 48 3 layers: TPMI=0 49
3 layers: TPMI=1 49 3 layers: TPMI=1 49 3 layers: TPMI=1 ... ... ... ... ...
... 71 3 layers: TPMI=23 71 3 layers: TPMI=23 71 3 layers: TPMI=23 72 4
layers: TPMI=0 72 4 layers: TPMI=0 72 4 layers: TPMI=0 73 4 layers: TPMI=1 73
4 layers: TPMI=1 73 4 layers: TPMI=1 ... ... ... ... ... ... 95 4 layers:
TPMI=23 95 4 layers: TPMI=23 95 4 layers: TPMI=23 96-127 reserved 96 5 layers:
TPMI=0 96 5 layers: TPMI=0 97 5 layers: TPMI=1 97 5 layers: TPMI=1 ... ... ...
... 103 5 layers: TPMI=7 103 5 layers: TPMI=7 104-127 reserved 104 6 layers:
TPMI=0 105 6 layers: TPMI=1 ... ... 111 6 layers: TPMI=7 112-127 reserved
Table 7.3.1.1.2-5E: Precoding information and number of layers, for 8 antenna
ports, if transform precoder is enabled or _maxRank=1 or 2 or 3 if_ transform
precoder is disabled _, CodebookType=Codebook1, ULcodebookFC-N1N2 = (4,1) or
(2,2)_
Bit field mapped to index transform precoder is disabled, or _maxRank_ =1 if
transform precoder is enabled Bit field mapped to index transform precoder is
disabled, and _maxRank_ =2 Bit field mapped to index transform precoder is
disabled, and _maxRank=3_
* * *
0 1 layer: TPMI=0 0 1 layer: TPMI=0 0 1 layer: TPMI=0 1 1 layer: TPMI=1 1 1
layer: TPMI=1 1 1 layer: TPMI=1 ... ... ... ... ... ... 15 1 layer: TPMI=15 15
1 layer: TPMI=15 15 1 layer: TPMI=15 16 2 layer2: TPMI=0 16 2 layer2: TPMI=0
17 2 layer2: TPMI=1 17 2 layer2: TPMI=1 ... ... ... ... 47 2 layers: TPMI=31
47 2 layers: TPMI=31 48-63 reserved 48 3 layers: TPMI=0 49 3 layers: TPMI=1
... ... 71 3 layers: TPMI=23 72-127 reserved
Table 7.3.1.1.2-5F: Precoding information and number of layers, for 8 antenna
ports, if transform precoder is disabled, _maxRank = 5, 6, 7 or 8, and
CodebookType=Codebook4_
Bit field mapped to index _maxRank = 5_ Bit field mapped to index _maxRank =
6_ Bit field mapped to index _maxRank = 7_ Bit field mapped to index _maxRank
= 8_
* * *
0 1 layer: TPMI=0 0 1 layer: TPMI=0 0 1 layer: TPMI=0 0 1 layer: TPMI=0 ...
... ... ... ... ... ... ... 7 1 layer: TPMI=7 7 1 layer: TPMI=7 7 1 layer:
TPMI=7 7 1 layer: TPMI=7 8 2 layers: TPMI=8 8 2 layers: TPMI=8 8 2 layers:
TPMI=8 8 2 layers: TPMI=8 ... ... ... ... ... ... ... ... 35 2 layers: TPMI=35
35 2 layers: TPMI=35 35 2 layers: TPMI=35 35 2 layers: TPMI=35 36 3 layers:
TPMI=36 36 3 layers: TPMI=36 36 3 layers: TPMI=36 36 3 layers: TPMI=36 ... ...
... ... ... ... ... ... 91 3 layers: TPMI=91 91 3 layers: TPMI=91 91 3 layers:
TPMI=91 91 3 layers: TPMI=91 92 4 layers: TPMI=92 92 4 layers: TPMI=92 92 4
layers: TPMI=92 92 4 layers: TPMI=92 ... ... ... ... ... ... ... ... 161 4
layers: TPMI=161 161 4 layers: TPMI=161 161 4 layers: TPMI=161 161 4 layers:
TPMI=161 162 5 layers: TPMI=162 162 5 layers: TPMI=162 162 5 layers: TPMI=162
162 5 layers: TPMI=162 ... ... ... ... ... ... ... ... 217 5 layers: TPMI=217
217 5 layers: TPMI=217 217 5 layers: TPMI=217 217 5 layers: TPMI=217 218-255
reserved 218 6 layers: TPMI=218 218 6 layers: TPMI=218 218 6 layers: TPMI=218
... ... ... ... ... ... 245 6 layers: TPMI=245 245 6 layers: TPMI=245 245 6
layers: TPMI=245 246-255 reserved 246 7 layers: TPMI=246 246 7 layers:
TPMI=246 ... ... ... ... 253 7 layers: TPMI=253 253 7 layers: TPMI=253 254-255
reserved 254 8 layers: TPMI=254 255 reserved
Table 7.3.1.1.2-5G: Precoding information and number of layers, for 8 antenna
ports, if transform precoder is disabled, _maxRank = 2, 3 or 4,
CodebookType=Codebook4,_ and _ul-FullPowerTransmission_ is not configured or
configured to _fullpowerMode2_ or configured to _fullpower_
Bit field mapped to index _maxRank = 2_ Bit field mapped to index _maxRank =
3_ Bit field mapped to index _maxRank = 4_
* * *
0 1 layer: TPMI=0 0 1 layer: TPMI=0 0 1 layer: TPMI=0 ... ... ... ... ... ...
7 1 layer: TPMI=7 7 1 layer: TPMI=7 7 1 layer: TPMI=7 8 2 layers: TPMI=8 8 2
layers: TPMI=8 8 2 layers: TPMI=8 ... ... ... ... ... ... 35 2 layers: TPMI=35
35 2 layers: TPMI=35 35 2 layers: TPMI=35 36-63 reserved 36 3 layers: TPMI=36
36 3 layers: TPMI=36 ... ... ... ... 91 3 layers: TPMI=91 91 3 layers: TPMI=91
92-127 reserved 92 4 layers: TPMI=92 ... ... 161 4 layers: TPMI=161 162-255
reserved
Table 7.3.1.1.2-5H: Precoding information and number of layers, for 8 antenna
ports, if transform precoder is enabled or _maxRank_ =1 if transform is
disabled _, CodebookType=Codebook4,_ and _ul-FullPowerTransmission_ is not
configured or configured to _fullpowerMode2_ or configured to _fullpower_
Bit field mapped to index Precoding information and number of layers
* * *
0 1 layer: TPMI=0 ... ... 7 1 layer: TPMI=7
Table 7.3.1.1.2-5I: Precoding information and number of layers, for 8 antenna
ports, if transform precoder is disabled, _maxRank = 5, 6, 7 or 8, and
CodebookType=Codebook2_
Bit field mapped to index _maxRank = 5_ Bit field mapped to index _maxRank =
6_ Bit field mapped to index _maxRank = 7_ Bit field mapped to index _maxRank
= 8_
* * *
0 1 layer: TPMI=0 0 1 layer: TPMI=0 0 1 layer: TPMI=0 0 1 layer: TPMI=0 ...
... ... ... ... ... ... ... 31 1 layer: TPMI=31 31 1 layer: TPMI=31 31 1
layer: TPMI=31 31 1 layer: TPMI=31 32 2 layers: TPMI=0 32 2 layers: TPMI=0 32
2 layers: TPMI=0 32 2 layers: TPMI=0 ... ... ... ... ... ... ... ... 303 2
layers: TPMI=271 303 2 layers: TPMI=271 303 2 layers: TPMI=271 303 2 layers:
TPMI=271 304 3 layers: TPMI=0 304 3 layers: TPMI=0 304 3 layers: TPMI=0 304 3
layers: TPMI=0 ... ... ... ... ... ... ... ... 567 3 layers: TPMI=263 567 3
layers: TPMI=263 567 3 layers: TPMI=263 567 3 layers: TPMI=263 568 4 layers:
TPMI=0 568 4 layers: TPMI=0 568 4 layers: TPMI=0 568 4 layers: TPMI=0 ... ...
... ... ... ... ... ... 635 4 layers: TPMI=67 635 4 layers: TPMI=67 635 4
layers: TPMI=67 635 4 layers: TPMI=67 636 5 layers: TPMI=0 636 5 layers:
TPMI=0 636 5 layers: TPMI=0 636 5 layers: TPMI=0 ... ... ... ... ... ... ...
... 667 5 layers: TPMI=31 667 5 layers: TPMI=31 667 5 layers: TPMI=31 667 5
layers: TPMI=31 698-1023 reserved 668 6 layers: TPMI=0 668 6 layers: TPMI=0
668 6 layers: TPMI=0 ... ... ... ... ... ... 683 6 layers: TPMI=15 683 6
layers: TPMI=15 683 6 layers: TPMI=15 684-1023 reserved 684 7 layers: TPMI=0
684 7 layers: TPMI=0 ... ... ... ... 691 7 layers: TPMI=7 691 7 layers: TPMI=7
692-1023 reserved 692 8 layers: TPMI=0 ... ... 695 8 layers: TPMI=3 696-1023
reserved
Table 7.3.1.1.2-5J: Precoding information and number of layers, for 8 antenna
ports, if transform precoder is enabled, or _maxRank = 1, 2, 3 or 4 if
transform precoder is disabled, CodebookType=Codebook2,_ and _ul-
FullPowerTransmission_ is not configured or configured to _fullpowerMode2_ or
configured to _fullpower_
Bit field mapped to index Transform precoder is enabled, or _maxRank_ = 1 if
transform precoder is disabled Bit field mapped to index transform precoder is
disabled _and maxRank = 2_ Bit field mapped to index transform precoder is
disabled _and maxRank = 3_ Bit field mapped to index transform precoder is
disabled _and maxRank = 4_
* * *
0 1 layer: TPMI=0 0 1 layer: TPMI=0 0 1 layer: TPMI=0 0 1 layer: TPMI=0 ...
... ... ... ... ... ... ... 31 1 layer: TPMI=31 31 1 layer: TPMI=31 31 1
layer: TPMI=31 31 1 layer: TPMI=31 32 2 layers: TPMI=0 32 2 layers: TPMI=0 32
2 layers: TPMI=0 ... ... ... ... ... ... 303 2 layers: TPMI=271 303 2 layers:
TPMI=271 303 2 layers: TPMI=271 303-511 reserved 304 3 layers: TPMI=0 304 3
layers: TPMI=0 ... ... ... ... 567 3 layers: TPMI=263 567 3 layers: TPMI=263
568-1023 reserved 568 4 layers: TPMI=0 ... ... 635 4 layers: TPMI=67 636-1023
reserved
Table 7.3.1.1.2-5K: Precoding information and number of layers, for 8 antenna
ports, if transform precoder is disabled, _maxRank = 5, 6, 7 or 8, and
CodebookType=Codebook3_
Bit field mapped to index _maxRank = 5_ Bit field mapped to index _maxRank =
6_ Bit field mapped to index _maxRank = 7_ Bit field mapped to index _maxRank
= 8_
* * *
0 1 layer: TPMI=0 0 1 layer: TPMI=0 0 1 layer: TPMI=0 0 1 layer: TPMI=0 ...
... ... ... ... ... ... ... 15 1 layer: TPMI=15 15 1 layer: TPMI=15 15 1
layer: TPMI=15 15 1 layer: TPMI=15 16 2 layers: TPMI=0 16 2 layers: TPMI=0 16
2 layers: TPMI=0 16 2 layers: TPMI=0 ... ... ... ... ... ... ... ... 119 2
layers: TPMI=103 119 2 layers: TPMI=103 119 2 layers: TPMI=103 119 2 layers:
TPMI=103 120 3 layers: TPMI=0 120 3 layers: TPMI=0 120 3 layers: TPMI=0 120 3
layers: TPMI=0 ... ... ... ... ... ... ... ... 423 3 layers: TPMI=303 423 3
layers: TPMI=303 423 3 layers: TPMI=303 423 3 layers: TPMI=303 424 4 layers:
TPMI=0 424 4 layers: TPMI=0 424 4 layers: TPMI=0 424 4 layers: TPMI=0 ... ...
... ... ... ... ... ... 703 4 layers: TPMI=279 703 4 layers: TPMI=279 703 4
layers: TPMI=279 703 4 layers: TPMI=279 704 5 layers: TPMI=0 704 5 layers:
TPMI=0 704 5 layers: TPMI=0 704 5 layers: TPMI=0 ... ... ... ... ... ... ...
... 863 5 layers: TPMI=159 863 5 layers: TPMI=159 863 5 layers: TPMI=159 863 5
layers: TPMI=159 864-1023 reserved 864 6 layers: TPMI=0 864 6 layers: TPMI=0
864 6 layers: TPMI=0 ... ... ... ... ... ... 943 6 layers: TPMI=79 943 6
layers: TPMI=79 943 6 layers: TPMI=79 944-1023 reserved 944 7 layers: TPMI=0
944 7 layers: TPMI=0 ... ... ... ... 975 7 layers: TPMI=31 975 7 layers:
TPMI=31 976-1023 reserved 976 8 layers: TPMI=0 ... ... 991 8 layers: TPMI=15
992-1023 reserved
Table 7.3.1.1.2-5L: Precoding information and number of layers, for 8 antenna
ports, if transform precoder is enabled, or _maxRank = 1, 2, 3 or 4 if
transform precoder is disabled, CodebookType=Codebook3,_ and _ul-
FullPowerTransmission_ is not configured or configured to _fullpowerMode2_ or
configured to _fullpower_
Bit field mapped to index Transform precoder is enabled, or _maxRank_ = 1 if
transform precoder is disabled Bit field mapped to index transform precoder is
disabled _and maxRank = 2_ Bit field mapped to index transform precoder is
disabled _and maxRank = 3_ Bit field mapped to index transform precoder is
disabled _and maxRank = 4_
* * *
0 1 layer: TPMI=0 0 1 layer: TPMI=0 0 1 layer: TPMI=0 0 1 layer: TPMI=0 ...
... ... ... ... ... ... ... 15 1 layer: TPMI=15 15 1 layer: TPMI=15 15 1
layer: TPMI=15 15 1 layer: TPMI=15 16 2 layers: TPMI=0 16 2 layers: TPMI=0 16
2 layers: TPMI=0 ... ... ... ... ... ... 119 2 layers: TPMI=103 119 2 layers:
TPMI=103 119 2 layers: TPMI=103 119-127 reserved 120 3 layers: TPMI=0 120 3
layers: TPMI=0 ... ... ... ... 423 3 layers: TPMI=303 423 3 layers: TPMI=303
424-511 reserved 424 4 layers: TPMI=0 ... ... 703 4 layers: TPMI=279 704-1024
reserved
Table 7.3.1.1.2-5M: Precoding information and number of layers, for 8 antenna
ports, if transform precoder is disabled, _maxRank = 2, 3 or 4,
CodebookType=Codebook4,_ and _ul-FullPowerTransmission_ configured to
_fullpowerMode1_
Bit field mapped to index _maxRank = 2_ Bit field mapped to index _maxRank =
3_
* * *
0 1 layer: TPMI=0 0 1 layer: TPMI=0 ... ... ... ... 7 1 layer: TPMI=7 7 1
layer: TPMI=7 8 2 layers: TPMI=8 8 2 layers: TPMI=8 ... ... ... ... 35 2
layers: TPMI=35 35 2 layers: TPMI=35 36 1 layer: TPMI=0 in Table 6.3.1.5-9 of
[4, TS 38.211] 36 3 layers: TPMI=36 37 2 layers: TPMI=16 in Table 6.3.1.5-30
of [4, TS 38.211] ... ... 38-63 reserved 91 3 layers: TPMI=91 92 1 layer:
TPMI=0 in Table 6.3.1.5-9 of [4, TS 38.211] 93 2 layers: TPMI=16 in Table
6.3.1.5-30 of [4, TS 38.211] 94 3 layers: 95-127 reserved
Table 7.3.1.1.2-5N: Precoding information and number of layers, for 8 antenna
ports, if transform precoder is enabled or _maxRank_ =1 if transform is
disabled _, CodebookType=Codebook4,_ and _ul-FullPowerTransmission_ configured
to _fullpowerMode1_
Bit field mapped to index Precoding information and number of layers
* * *
0 1 layer: TPMI=0 ... ... 7 1 layer: TPMI=7 8 1 layer: TPMI=0 in Table
6.3.1.5-9 of [4, TS 38.211] 9-15 reserved
Table 7.3.1.1.2-5O: Precoding information and number of layers, for 8 antenna
ports, if transform precoder is enabled, or _maxRank = 1 if transform precoder
is disabled, CodebookType=Codebook2,_ and _ul-FullPowerTransmission_
configured to _fullpowerMode1_
Bit field mapped to index Precoding information and number of layers
* * *
0 1 layer: TPMI=0 ... ... 31 1 layer: TPMI=31 32 1 layer: TPMI=0 in Table
6.3.1.5-9 of [4, TS 38.211] 33-63 reserved
Table 7.3.1.1.2-5P: Precoding information and number of layers, for 8 antenna
ports, if transform precoder is enabled, or _maxRank = 1, 2, 3 or 4 if
transform precoder is disabled, CodebookType=Codebook3,_ and _ul-
FullPowerTransmission_ is configured to _fullpowerMode1_
Bit field mapped to index Transform precoder is enabled, or _maxRank_ = 1 if
transform precoder is disabled Bit field mapped to index transform precoder is
disabled _and maxRank = 2_ Bit field mapped to index transform precoder is
disabled _and maxRank = 3_
* * *
0 1 layer: TPMI=0 0 1 layer: TPMI=0 0 1 layer: TPMI=0 ... ... ... ... ... ...
15 1 layer: TPMI=15 15 1 layer: TPMI=15 15 1 layer: TPMI=15 16 1 layer: TPMI=0
in Table 6.3.1.5-9 of [4, TS 38.211] 16 2 layers: TPMI=0 16 2 layers: TPMI=0
17-31 reserved ... ... ... ... 119 2 layers: TPMI=103 119 2 layers: TPMI=103
120 1 layer: TPMI=0 in Table 6.3.1.5-9 of [4, TS 38.211] 120 3 layers: TPMI=0
121 2 layers: TPMI=16 in Table 6.3.1.5-30 of [4, TS 38.211] ... ... 122-127
reserved 423 3 layers: TPMI=303 424 1 layer: TPMI=0 in Table 6.3.1.5-9 of [4,
TS 38.211] 425 2 layers: TPMI=16 in Table 6.3.1.5-30 of [4, TS 38.211] 426 3
layers: 427-511 reserved
Table 7.3.1.1.2-6: Antenna port(s), transform precoder is enabled, _dmrs-Type_
=1, _maxLength_ =1,\ except that _dmrs-UplinkTransformPrecoding_ and _tp-
pi2BPSK_ are both configured **and\ π/2-BPSK modulation is used**
Value Number of DMRS CDM group(s) without data DMRS port(s)
* * *
0 2 0 1 2 1 2 2 2 3 2 3
Table 7.3.1.1.2-6A: Antenna port(s), transform precoder is enabled, _dmrs-
UplinkTransformPrecoding_ and _tp-pi2BPSK_ are both configured, **π/2-BPSK
modulation is used** , _dmrs-Type_ =1, _maxLength_ =1
Value Number of DMRS CDM group(s) without data DMRS port(s)
* * *
0 2 0, n~SCID~= 0 1 2 0, n~SCID~= 1 2 2 2, n~SCID~= 0 3 2 2, n~SCID~= 1
Table 7.3.1.1.2-7: Antenna port(s), transform precoder is enabled, _dmrs-Type_
=1, _maxLength_ =2,\ except that _dmrs-UplinkTransformPrecoding_ and _tp-
pi2BPSK_ are both configured **and\ π/2-BPSK modulation is used**
Value Number of DMRS CDM group(s) without data DMRS port(s) Number of front-
load symbols
* * *
0 2 0 1 1 2 1 1 2 2 2 1 3 2 3 1 4 2 0 2 5 2 1 2 6 2 2 2 7 2 3 2 8 2 4 2 9 2 5
2 10 2 6 2 11 2 7 2 12-15 Reserved Reserved Reserved
Table 7.3.1.1.2-7A: Antenna port(s), transform precoder is enabled, _dmrs-
UplinkTransformPrecoding_ and _tp-pi2BPSK_ are both configured, **π/2-BPSK
modulation is used** , _dmrs-Type=1, maxLength=2_
Value Number of DMRS CDM group(s) without data DMRS port(s) Number of front-
load symbols
* * *
0 2 0, n~SCID~= 0 1 1 2 0, n~SCID~= 1 1 2 2 2, n~SCID~= 0 1 3 2 2, n~SCID~= 1
1 4 2 0, n~SCID~= 0 2 5 2 0, n~SCID~= 1 2 6 2 2, n~SCID~= 0 2 7 2 2, n~SCID~=
1 2 8 2 4, n~SCID~= 0 2 9 2 4, n~SCID~= 1 2 10 2 6, n~SCID~= 0 2 11 2 6,
n~SCID~= 1 2 12-15 Reserved Reserved Reserved
Table 7.3.1.1.2-8: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =1,\ _enhanced-dmrs-Type_ is not configured, _maxLength_ =1, rank = 1
Value Number of DMRS CDM group(s) without data DMRS port(s)
* * *
0 1 0 1 1 1 2 2 0 3 2 1 4 2 2 5 2 3 6-7 Reserved Reserved
Table 7.3.1.1.2-9: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =1,\ _enhanced-dmrs-Type_ is not configured, _maxLength_ =1, rank = 2
Value Number of DMRS CDM group(s) without data DMRS port(s)
* * *
0 1 0,1 1 2 0,1 2 2 2,3 3 2 0,2 4-7 Reserved Reserved
Table 7.3.1.1.2-10: Antenna port(s), transform precoder is disabled,
_multipanelScheme_ is not\ configured to _sdmScheme_ , _dmrs-Type_ =1,
_enhanced-dmrs-Type_ is not configured,\ _maxLength_ =1, rank = 3
Value Number of DMRS CDM group(s) without data DMRS port(s)
* * *
0 2 0-2 1-7 Reserved Reserved
Table 7.3.1.1.2-10A: Antenna port(s), transform precoder is disabled,
_multipanelScheme = sdmScheme_ , _dmrs-Type_ =1, _enhanced-dmrs-Type_ is not
configured, _maxLength_ =1, rank = 3
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
* * *
0 2 0-2 1 2 0,2,3 2-7 Reserved Reserved
Table 7.3.1.1.2-11: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =1,\ _enhanced-dmrs-Type_ is not configured, _maxLength_ =1, rank = 4
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
* * *
0 2 0-3 1-7 Reserved Reserved
Table 7.3.1.1.2-12: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =1,\ _enhanced-dmrs-Type_ is not configured, _maxLength_ =2, rank = 1
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 1 0 1 1 1 1 1 2 2 0 1 3 2 1 1 4 2 2 1 5 2 3 1 6 2 0 2 7 2 1 2 8 2 2 2 9 2 3
2 10 2 4 2 11 2 5 2 12 2 6 2 13 2 7 2 14-15 Reserved Reserved Reserved
Table 7.3.1.1.2-13: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =1,\ _enhanced-dmrs-Type_ is not configured, _maxLength_ =2, rank = 2
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 1 0,1 1 1 2 0,1 1 2 2 2,3 1 3 2 0,2 1 4 2 0,1 2 5 2 2,3 2 6 2 4,5 2 7 2 6,7
2 8 2 0,4 2 9 2 2,6 2 10-15 Reserved Reserved Reserved
Table 7.3.1.1.2-14: Antenna port(s), transform precoder is disabled,
_multipanelScheme_ is not to _sdmScheme_ , _dmrs-Type_ =1, _enhanced-dmrs-
Type_ is not configured, _maxLength_ =2, rank = 3
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 2 0-2 1 1 2 0,1,4 2 2 2 2,3,6 2 3-15 Reserved Reserved Reserved
**Table 7.3.1.1.2-14A: Antenna port(s), transform precoder is
disabled,_multipanelScheme = sdmScheme _,_ dmrs-Type _=1,___ e**nhanced-dmrs-
Type_** **is not configured,_maxLength_ =2, rank = 3**
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 2 0-2 1 1 2 0,1,4 2 2 2 2,3,6 2 3 2 0,2,3 1 4-15 Reserved Reserved Reserved
Table 7.3.1.1.2-15: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =1,\ _enhanced-dmrs-Type_ is not configured, _maxLength_ =2, rank = 4
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 2 0-3 1 1 2 0,1,4,5 2 2 2 2,3,6,7 2 3 2 0,2,4,6 2 4-15 Reserved Reserved
Reserved
Table 7.3.1.1.2-15A: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =1,\ _enhanced-dmrs-Type_ is not configured, _maxLength_ =2, rank = 5
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 2 0-4 2 1-15 Reserved Reserved Reserved
Table 7.3.1.1.2-15B Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =1,\ _enhanced-dmrs-Type_ is not configured, _maxLength_ =2, rank = 6
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 2 0,1,2,3,4,6 2 1-15 Reserved Reserved Reserved
Table 7.3.1.1.2-15C: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =1,\ _enhanced-dmrs-Type_ is not configured, _maxLength_ =2, rank = 7
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 2 0,1,2,3,4,5,6 2 1-15 Reserved Reserved Reserved
Table 7.3.1.1.2-15D: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =1,\ _enhanced-dmrs-Type_ is not configured, _maxLength_ =2, rank = 8
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 2 0,1,2,3,4,5,6,7 2 1-15 Reserved Reserved Reserved
Table 7.3.1.1.2-16: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2,\ _enhanced-dmrs-Type_ is not configured, _maxLength_ =1, rank=1
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
* * *
0 1 0 1 1 1 2 2 0 3 2 1 4 2 2 5 2 3 6 3 0 7 3 1 8 3 2 9 3 3 10 3 4 11 3 5
12-15 Reserved Reserved
Table 7.3.1.1.2-17: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2,\ _enhanced-dmrs-Type_ is not configured, _maxLength_ =1, rank=2
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
* * *
0 1 0,1 1 2 0,1 2 2 2,3 3 3 0,1 4 3 2,3 5 3 4,5 6 2 0,2 7-15 Reserved Reserved
Table 7.3.1.1.2-18: Antenna port(s), transform precoder is disabled,
_multipanelScheme_ is not\ configured to _sdmScheme_ , _dmrs-Type_ =2,
_enhanced-dmrs-Type_ is not configured,\ _maxLength_ =1, rank =3
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
* * *
0 2 0-2 1 3 0-2 2 3 3-5 3-15 Reserved Reserved
Table 7.3.1.1.2-18A: Antenna port(s), transform precoder is disabled,
_multipanelScheme = sdmScheme_ , _dmrs-Type_ =2, _enhanced-dmrs-Type_ is not
configured, _maxLength_ =1, rank =3
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
* * *
0 2 0-2 1 3 0-2 2 3 3-5 3 2 0,2,3 4 3 0,2,3 3-15 Reserved Reserved
Table 7.3.1.1.2-19: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2,\ _enhanced-dmrs-Type_ is not configured, _maxLength_ =1, rank =4
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
* * *
0 2 0-3 1 3 0-3 2-15 Reserved Reserved
Table 7.3.1.1.2-19A: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2,\ _enhanced-dmrs-Type_ is not configured, _maxLength_ =1, rank = 5
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
* * *
0 3 0-4 1-15 Reserved Reserved
Table 7.3.1.1.2-19B: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2,\ _enhanced-dmrs-Type_ is not configured, _maxLength_ =1, rank = 6
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
* * *
0 3 0-5 1-15 Reserved Reserved
Table 7.3.1.1.2-20: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2,\ _enhanced-dmrs-Type_ is not configured, _maxLength_ =2, rank=1
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 1 0 1 1 1 1 1 2 2 0 1 3 2 1 1 4 2 2 1 5 2 3 1 6 3 0 1 7 3 1 1 8 3 2 1 9 3 3
1 10 3 4 1 11 3 5 1 12 3 0 2 13 3 1 2 14 3 2 2 15 3 3 2 16 3 4 2 17 3 5 2 18 3
6 2 19 3 7 2 20 3 8 2 21 3 9 2 22 3 10 2 23 3 11 2 24 1 0 2 25 1 1 2 26 1 6 2
27 1 7 2 28-31 Reserved Reserved Reserved
Table 7.3.1.1.2-21: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2,\ _enhanced-dmrs-Type_ is not configured, _maxLength_ =2, rank=2
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 1 0,1 1 1 2 0,1 1 2 2 2,3 1 3 3 0,1 1 4 3 2,3 1 5 3 4,5 1 6 2 0,2 1 7 3 0,1
2 8 3 2,3 2 9 3 4,5 2 10 3 6,7 2 11 3 8,9 2 12 3 10,11 2 13 1 0,1 2 14 1 6,7 2
15 2 0,1 2 16 2 2,3 2 17 2 6,7 2 18 2 8,9 2 19-31 Reserved Reserved Reserved
Table 7.3.1.1.2-22: Antenna port(s), transform precoder is disabled,
_multipanelScheme_ is not\ configured to _sdmScheme, dmrs-Type_ =2, _enhanced-
dmrs-Type_ is not configured,\ _maxLength_ =2, rank=3
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 2 0-2 1 1 3 0-2 1 2 3 3-5 1 3 3 0,1,6 2 4 3 2,3,8 2 5 3 4,5,10 2 6-31
Reserved Reserved Reserved
Table 7.3.1.1.2-22A: Antenna port(s), transform precoder is disabled,
_multipanelScheme = sdmScheme_ , _dmrs-Type_ =2, _enhanced-dmrs-Type_ is not
configured, _maxLength_ =2, rank=3
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 2 0-2 1 1 3 0-2 1 2 3 3-5 1 3 3 0,1,6 2 4 3 2,3,8 2 5 3 4,5,10 2 6 2 0,2,3 1
7 3 0,2,3 1 8-31 Reserved Reserved Reserved
Table 7.3.1.1.2-23: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2,\ _enhanced-dmrs-Type_ is not configured, _maxLength_ =2, rank=4
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 2 0-3 1 1 3 0-3 1 2 3 0,1,6,7 2 3 3 2,3,8,9 2 4 3 4,5,10,11 2 5-31 Reserved
Reserved Reserved
Table 7.3.1.1.2-23A: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2,\ _enhanced-dmrs-Type_ is not configured, _maxLength_ =2, rank = 5
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 3 0-4 1 1 2 0,1,2,3,6 2 12-31 Reserved Reserved Reserved
Table 7.3.1.1.2-23B Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2,\ _enhanced-dmrs-Type_ is not configured, _maxLength_ =2, rank = 6
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 3 0-5 1 1 2 0,1,2,3,6,8 2 2-31 Reserved Reserved Reserved
Table 7.3.1.1.2-23C: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2,\ _enhanced-dmrs-Type_ is not configured, _maxLength_ =2, rank = 7
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 2 0,1,2,3,6,7,8 2 1-31 Reserved Reserved Reserved
Table 7.3.1.1.2-23D: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2,\ _enhanced-dmrs-Type_ is not configured, _maxLength_ =2, rank = 8
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 2 0,1,2,3,6,7,8,9 2 1-31 Reserved Reserved Reserved
Table 7.3.1.1.2-24: SRS request
+----------------------+----------------------+----------------------+ | Value of SRS request | Triggered aperiodic | Triggered aperiodic | | field | SRS resource set(s) | SRS resource set(s) | | | for DCI format 0_1, | for DCI format 2_3 | | | 0_2, 1_1, 1_2, | configured with | | | and 2_3 configured | higher layer | | | with higher layer | parameter | | | parameter | * | | | * | srs-TPC-PDCCH-Group _| | | srs-TPC-PDCCH-Group_ | set to \'typeA\' | | | set to \'typeB\' | | +======================+======================+======================+ | 00 | No aperiodic SRS | No aperiodic SRS | | | resource set | resource set | | | triggered | triggered | +----------------------+----------------------+----------------------+ | 01 | SRS resource set(s) | SRS resource set(s) | | | configured by | configured with | | | _SRS-ResourceSet_ | higher layer | | | with higher layer | parameter _usage_ in | | | parameter | _SRS-ResourceSet_ | | | _aperiodic | set to | | | SRS-ResourceTrigger_ | \' | | | set to 1 or an entry | _antennaSwitching_ \' | | | in | and _resourceType_ | | | _aperiodicSRS- | in_ SRS-ResourceSet _| | | ResourceTriggerList_ | set to \'aperiodic\' | | | set to 1 | for a 1^st^ set of | | | | serving cells | | | SRS resource set(s) | configured by higher | | | configured by | layers | | | _SRS-PosResourceSet_ | | | | with an entry in | | | | _aperiodicSRS- | | | | ResourceTriggerList_ | | | | set to 1 when | | | | triggered by DCI | | | | formats 0_1, 0_2, | | | | 1_1, and 1_2 | | +----------------------+----------------------+----------------------+ | 10 | SRS resource set(s) | SRS resource set(s) | | | configured by | configured with | | | _SRS-ResourceSet_ | higher layer | | | with higher layer | parameter _usage_ in | | | parameter | _SRS-ResourceSet_ | | | _aperiodic | set to | | | SRS-ResourceTrigger_ | \' | | | set to 2 or an entry | _antennaSwitching_ \' | | | in | and _resourceType_ | | | _aperiodicSRS- | in_ SRS-ResourceSet _| | | ResourceTriggerList_ | set to \'aperiodic\' | | | set to 2 | for a 2^nd^ set of | | | | serving cells | | | SRS resource set(s) | configured by higher | | | configured by | layers | | | _SRS-PosResourceSet_ | | | | with an entry in | | | | _aperiodicSRS- | | | | ResourceTriggerList_ | | | | set to 2 when | | | | triggered by DCI | | | | formats 0_1, 0_2, | | | | 1_1, and 1_2 | | +----------------------+----------------------+----------------------+ | 11 | SRS resource set(s) | SRS resource set(s) | | | configured by | configured with | | | _SRS-ResourceSet_ | higher layer | | | with higher layer | parameter _usage_ in | | | parameter | _SRS-ResourceSet_ | | | _aperiodic | set to | | | SRS-ResourceTrigger_ | \' | | | set to 3 or an entry | _antennaSwitching_ \' | | | in | and _resourceType_ | | | _aperiodicSRS- | in_ SRS-ResourceSet _| | | ResourceTriggerList_ | set to \'aperiodic\' | | | set to 3 | for a 3^rd^ set of | | | | serving cells | | | SRS resource set(s) | configured by higher | | | configured by | layers | | | _SRS-PosResourceSet_ | | | | with an entry in | | | | _aperiodicSRS- | | | | ResourceTriggerList_ | | | | set to 3 when | | | | triggered by DCI | | | | formats 0_1, 0_2, | | | | 1_1, and 1_2 | | +----------------------+----------------------+----------------------+
Table 7.3.1.1.2-25: PTRS-DMRS association or Second PTRS-DMRS association for
UL PTRS port 0
**Value** **DMRS port**
* * *
0 1^st^ scheduled DMRS port 1 2^nd^ scheduled DMRS port 2 3^rd^ scheduled DMRS
port 3 4^th^ scheduled DMRS port
Table 7.3.1.1.2-25A: PTRS-DMRS association for UL PTRS port 0 or for the
actual UL PT-RS port if _multipanelScheme_ is not configured, or PTRS-DMRS
association for UL PTRS port 0 and 1 if multipanelScheme is configured to
_sdmScheme_ and _maxNrofPortsforSDM_ is set to 2
**Value of MSB** **DMRS port** **Value of LSB** **DMRS port**
* * *
0 1^st^ scheduled DMRS port corresponding to SRS resource indicator field
and/or Precoding information and number of layers field 0 1st scheduled DMRS
port corresponding to Second SRS resource indicator field and/or Second
Precoding information field 1 2^nd^ scheduled DMRS port corresponding to SRS
resource indicator field and/or Precoding information and number of layers
field 1 2nd scheduled DMRS port corresponding to Second SRS resource indicator
field and/or Second Precoding information field
Table 7.3.1.1.2-25B: PTRS-DMRS association for UL PTRS port 0, _maxRank >4_
**Value** **DMRS port**
* * *
0 1^st^ scheduled DMRS port corresponding to the selected Codeword 1 2^nd^
scheduled DMRS port corresponding to the selected Codeword 2 3^rd^ scheduled
DMRS port corresponding to the selected Codeword 3 4^th^ scheduled DMRS port
corresponding to the selected Codeword
Table 7.3.1.1.2-26: PTRS-DMRS association or Second PTRS-DMRS association for
UL PTRS ports 0 and 1
**Value of MSB** **DMRS port** **Value of LSB** **DMRS port**
* * *
0 1^st^ DMRS port which shares PTRS port 0 0 1^st^ DMRS port which shares PTRS
port 1 1 2^nd^ DMRS port which shares PTRS port 0 1 2^nd^ DMRS port which
shares PTRS port 1
Table 7.3.1.1.2-26A: PTRS-DMRS association for UL PTRS ports 0 and 1, _maxRank
>4_
**Value of 2 MSBs** **DMRS port** **Value of 2 LSBs** **DMRS port**
* * *
**0** **1^st^ DMRS port which shares PTRS port 0** **0** **1^st^ DMRS port
which shares PTRS port 1** **1** **2^nd^ DMRS port which shares PTRS port 0**
**1** **2^nd^ DMRS port which shares PTRS port 1** **2** **3^rd^ DMRS port
which shares PTRS port 0** **2** **3^rd^ DMRS port which shares PTRS port 1**
**3** **4^th^ DMRS port which shares PTRS port 0** **3** **4^th^ DMRS port
which shares PTRS port 1**
Table 7.3.1.1.2-27: void
Table 7.3.1.1.2-28: SRI indication or Second SRI indication, for non-codebook
based PUSCH transmission,
Bit field mapped to index SRI(s), Bit field mapped to index SRI(s), Bit field
mapped to index SRI(s),
* * *
0 0 0 0 0 0 1 1 1 1 1 1 2 2 2 2 3 reserved 3 3
Table 7.3.1.1.2-28A: SRI indication, for non-codebook based PUSCH
transmission, $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{ > 4}$,
$\mathbf{L}_{\mathbf{\max}}\mathbf{= 1}$
Bit field mapped to index SRI(s), $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{=
5}$ Bit field mapped to index SRI(s),
$\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 6}$ Bit field mapped to index
SRI(s), $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 7}$ Bit field mapped to
index SRI(s), $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 8}$
* * *
0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 3 3 3 3 3 3 3 3 4 4 4 4 4 4 4
4 5-7 reserved 5 5 5 5 5 5 6-7 reserved 6 6 6 6 7 reserved 7 7
Table 7.3.1.1.2-29: SRI indication or Second SRI indication, for\ non-codebook
based PUSCH transmission,
Bit field mapped to index SRI(s), Bit field mapped to index SRI(s), Bit field
mapped to index SRI(s),
* * *
0 0 0 0 0 0 1 1 1 1 1 1 2 0,1 2 2 2 2 3 reserved 3 0,1 3 3 4 0,2 4 0,1 5 1,2 5
0,2 6-7 reserved 6 0,3 7 1,2 8 1,3 9 2,3 10-15 reserved
Table 7.3.1.1.2-29A: Second SRI indication for non-codebook based PUSCH
transmission, $\mathbf{L}_{\mathbf{\max}}\mathbf{= 2}$
Bit field mapped to index SRI(s), Bit field mapped to index SRI(s), Bit field
mapped to index SRI(s),
* * *
0 0 0 0 0 0 1 1 1 1 1 1 0 0,1 2 2 2 2 1 2 layers: reserved 3 1 layer: reserved
3 3 0 0,1 4-7 1 layer: reserved 1 0,2 0 0,1 2 1,2 1 0,2 3 2 layers: reserved 2
0,3 3 1,2 4 1,3 5 2,3 6-7 2 layers: reserved
Table 7.3.1.1.2-29B: SRI indication, for non-codebook based PUSCH
transmission, $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{ > 4}$,
$\mathbf{L}_{\mathbf{\max}}\mathbf{= 2}$
Bit field mapped to index SRI(s), $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{=
5}$ Bit field mapped to index SRI(s),
$\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 6}$ Bit field mapped to index
SRI(s), $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 7}$ Bit field mapped to
index SRI(s), $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 8}$
* * *
0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 3 3 3 3 3 3 3 3 4 4 4 4 4 4 4
4 5 $$s_{0}^{0},s_{1}^{0}$$ 5 5 5 5 5 5 ... ... 6 $$s_{0}^{0},s_{1}^{0}$$ 6 6
6 6 14 $$s_{0}^{9},s_{1}^{9}$$ ... ... 7 $$s_{0}^{0},s_{1}^{0}$$ 7 7 15
reserved 20 $$s_{0}^{14},s_{1}^{14}$$ ... ... 8 $$s_{0}^{0},s_{1}^{0}$$ 21-31
reserved 27 $$s_{0}^{20},s_{1}^{20}$$ ... ... 28-31 reserved 35
$$s_{0}^{27},s_{1}^{27}$$ 36-63 reserved where SRIs $\left{
s_{0,}^{B}s_{1,\ldots,}^{B}s_{\upsilon - 1}^{B} \right},\ B \in \left{
0,1,\ldots,C\left( N_{SRS,}\upsilon \right) - 1 \right}$ are as given in Table
7.3.1.1.2-29B-1.
Table 7.3.1.1.2-29B-1: SRI(s) for 2 layers,
$\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{> 4}$
SRI(s) SRI(s) for 2 layers, $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 5}$
SRI(s) for 2 layers, $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 6}$ SRI(s) for
2 layers, $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 7}$ SRI(s) for 2 layers,
$\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 8}$
* * *
$$s_{0}^{0},s_{1}^{0}$$ 0,1 0,1 0,1 0,1 $$s_{0}^{1},s_{1}^{1}$$ 0,2 0,2 0,2
0,2 $$s_{0}^{2},s_{1}^{2}$$ 0,3 0,3 0,3 0,3 $$s_{0}^{3},s_{1}^{3}$$ 0,4 0,4
0,4 0,4 $$s_{0}^{4},s_{1}^{4}$$ 1,2 0,5 0,5 0,5 $$s_{0}^{5},s_{1}^{5}$$ 1,3
1,2 0,6 0,6 $$s_{0}^{6},s_{1}^{6}$$ 1,4 1,3 1,2 0,7 $$s_{0}^{7},s_{1}^{7}$$
2,3 1,4 1,3 1,2 $$s_{0}^{8},s_{1}^{8}$$ 2,4 1,5 1,4 1,3
$$s_{0}^{9},s_{1}^{9}$$ 3,4 2,3 1,5 1,4 $$s_{0}^{10},s_{1}^{10}$$ 2,4 1,6 1,5
$$s_{0}^{11},s_{1}^{11}$$ 2,5 2,3 1,6 $$s_{0}^{12},s_{1}^{12}$$ 3,4 2,4 1,7
$$s_{0}^{13},s_{1}^{13}$$ 3,5 2,5 2,3 $$s_{0}^{14},s_{1}^{14}$$ 4,5 2,6 2,4
$$s_{0}^{15},s_{1}^{15}$$ 3,4 2,5 $$s_{0}^{16},s_{1}^{16}$$ 3,5 2,6
$$s_{0}^{17},s_{1}^{17}$$ 3,6 2,7 $$s_{0}^{18},s_{1}^{18}$$ 4,5 3,4
$$s_{0}^{19},s_{1}^{19}$$ 4,6 3,5 $$s_{0}^{20},s_{1}^{20}$$ 5,6 3,6
$$s_{0}^{21},s_{1}^{21}$$ 3,7 $$s_{0}^{22},s_{1}^{22}$$ 4,5
$$s_{0}^{23},s_{1}^{23}$$ 4,6 $$s_{0}^{24},s_{1}^{24}$$ 4,7
$$s_{0}^{25},s_{1}^{25}$$ 5,6 $$s_{0}^{26},s_{1}^{26}$$ 5,7
$$s_{0}^{27},s_{1}^{27}$$ 6,7
Table 7.3.1.1.2-30: SRI indication for non-codebook based PUSCH transmission,
Bit field mapped to index SRI(s), Bit field mapped to index SRI(s), Bit field
mapped to index SRI(s),
* * *
0 0 0 0 0 0 1 1 1 1 1 1 2 0,1 2 2 2 2 3 reserved 3 0,1 3 3 4 0,2 4 0,1 5 1,2 5
0,2 6 0,1,2 6 0,3 7 reserved 7 1,2 8 1,3 9 2,3 10 0,1,2 11 0,1,3 12 0,2,3 13
1,2,3 14-15 reserved
Table 7.3.1.1.2-30A: Second SRI indication for non-codebook based PUSCH
transmission, _if multipanelScheme is not configured,_
$\mathbf{L}_{\mathbf{\max}}\mathbf{= 3}$
Bit field mapped to index SRI(s), Bit field mapped to index SRI(s), Bit field
mapped to index SRI(s),
* * *
0 0 0 0 0 0 1 1 1 1 1 1 0 0,1 2 2 2 2 1 2 layers: reserved 3 1 layer: reserved
3 3 0 0,1 4-7 1 layer: reserved 1 0,2 0 0,1 2 1,2 1 0,2 3 2 layers: reserved 2
0,3 0 0,1,2 3 1,2 1-3 3 layers: reserved 4 1,3 5 2,3 6-7 2 layers: reserved 0
0,1,2 1 0,1,3 2 0,2,3 3 1,2,3 4-7 3 layers: reserved
Table 7.3.1.1.2-30B: SRI indication, for non-codebook based PUSCH
transmission, $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{ > 4}$,
$\mathbf{L}_{\mathbf{\max}}\mathbf{= 3}$
Bit field mapped to index SRI(s), $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{=
5}$ Bit field mapped to index SRI(s),
$\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 6}$ Bit field mapped to index
SRI(s), $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 7}$ Bit field mapped to
index SRI(s), $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 8}$
* * *
0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 3 3 3 3 3 3 3 3 4 4 4 4 4 4 4
4 5 $$s_{0}^{0},s_{1}^{0}$$ 5 5 5 5 5 5 ... ... 6 $$s_{0}^{0},s_{1}^{0}$$ 6 6
6 6 14 $$s_{0}^{9},s_{1}^{9}$$ ... ... 7 $$s_{0}^{0},s_{1}^{0}$$ 7 7 15
$$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$ 20 $$s_{0}^{14},s_{1}^{14}$$ ... ... 8
$$s_{0}^{0},s_{1}^{0}$$ ... ... 21 $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$ 27
$$s_{0}^{20},s_{1}^{20}$$ ... ... 24 $$s_{0}^{9},s_{1}^{9},s_{2}^{9}$$ ... ...
28 $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$ 35 $$s_{0}^{27},s_{1}^{27}$$ 25-31
reserved 40 $$s_{0}^{19},s_{1}^{19},s_{2}^{19}$$ ... ... 36
$$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$ 41-63 reserved 62
$$s_{0}^{34},s_{1}^{34},s_{2}^{34}$$ ... ... 63-127 reserved 91
$$s_{0}^{55},s_{1}^{55},s_{2}^{55}$$ 92-127 reserved where SRIs $\left{
s_{0,}^{B}s_{1,\ldots,}^{B}s_{\upsilon - 1}^{B} \right},\ B \in \left{
0,1,\ldots,C\left( N_{SRS,}\upsilon \right) - 1 \right}$ are as given in Table
7.3.1.1.2-29B-1 and Table 7.3.1.1.2-30B-1.
Table 7.3.1.1.2-30B-1: SRI combinations for 3 layers,
$\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{> 4}$
                                         SRI(s) for 3 layers, $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 5}$   SRI(s) for 3 layers, $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 6}$   SRI(s) for 3 layers, $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 7}$   SRI(s) for 3 layers, $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 8}$
* * *
$$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$ 0,1,2 0,1,2 0,1,2 0,1,2
$$s_{0}^{1},s_{1}^{1},s_{2}^{1}$$ 0,1,3 0,1,3 0,1,3 0,1,3
$$s_{0}^{2},s_{1}^{2},s_{2}^{2}$$ 0,1,4 0,1,4 0,1,4 0,1,4
$$s_{0}^{3},s_{1}^{3},s_{2}^{3}$$ 0,2,3 0,1,5 0,1,5 0,1,5
$$s_{0}^{4},s_{1}^{4},s_{2}^{4}$$ 0,2,4 0,2,3 0,1,6 0,1,6
$$s_{0}^{5},s_{1}^{5},s_{2}^{5}$$ 0,3,4 0,2,4 0,2,3 0,1,7
$$s_{0}^{6},s_{1}^{6},s_{2}^{6}$$ 1,2,3 0,2,5 0,2,4 0,2,3
$$s_{0}^{7},s_{1}^{7},s_{2}^{7}$$ 1,2,4 0,3,4 0,2,5 0,2,4
$$s_{0}^{8},s_{1}^{8},s_{2}^{8}$$ 1,3,4 0,3,5 0,2,6 0,2,5
$$s_{0}^{9},s_{1}^{9},s_{2}^{9}$$ 2,3,4 0,4,5 0,3,4 0,2,6
$$s_{0}^{10},s_{1}^{10},s_{2}^{10}$$ 1,2,3 0,3,5 0,2,7
$$s_{0}^{11},s_{1}^{11},s_{2}^{11}$$ 1,2,4 0,3,6 0,3,4
$$s_{0}^{12},s_{1}^{12},s_{2}^{12}$$ 1,2,5 0,4,5 0,3,5
$$s_{0}^{13},s_{1}^{13},s_{2}^{13}$$ 1,3,4 0,4,6 0,3,6
$$s_{0}^{14},s_{1}^{14},s_{2}^{14}$$ 1,3,5 0,5,6 0,3,7
$$s_{0}^{15},s_{1}^{15},s_{2}^{15}$$ 1,4,5 1,2,3 0,4,5
$$s_{0}^{16},s_{1}^{16},s_{2}^{16}$$ 2,3,4 1,2,4 0,4,6
$$s_{0}^{17},s_{1}^{17},s_{2}^{17}$$ 2,3,5 1,2,5 0,4,7
$$s_{0}^{18},s_{1}^{18},s_{2}^{18}$$ 2,4,5 1,2,6 0,5,6
$$s_{0}^{19},s_{1}^{19},s_{2}^{19}$$ 3,4,5 1,3,4 0,5,7
$$s_{0}^{20},s_{1}^{20},s_{2}^{20}$$ 1,3,5 0,6,7
$$s_{0}^{21},s_{1}^{21},s_{2}^{21}$$ 1,3,6 1,2,3
$$s_{0}^{22},s_{1}^{22},s_{2}^{22}$$ 1,4,5 1,2,4
$$s_{0}^{23},s_{1}^{23},s_{2}^{23}$$ 1,4,6 1,2,5
$$s_{0}^{24},s_{1}^{24},s_{2}^{24}$$ 1,5,6 1,2,6
$$s_{0}^{25},s_{1}^{25},s_{2}^{25}$$ 2,3,4 1,2,7
$$s_{0}^{26},s_{1}^{26},s_{2}^{26}$$ 2,3,5 1,3,4
$$s_{0}^{27},s_{1}^{27},s_{2}^{27}$$ 2,3,6 1,3,5
$$s_{0}^{28},s_{1}^{28},s_{2}^{28}$$ 2,4,5 1,3,6
$$s_{0}^{29},s_{1}^{29},s_{2}^{29}$$ 2,4,6 1,3,7
$$s_{0}^{30},s_{1}^{30},s_{2}^{30}$$ 2,5,6 1,4,5
$$s_{0}^{31},s_{1}^{31},s_{2}^{31}$$ 3,4,5 1,4,6
$$s_{0}^{32},s_{1}^{32},s_{2}^{32}$$ 3,4,6 1,4,7
$$s_{0}^{33},s_{1}^{33},s_{2}^{33}$$ 3,5,6 1,5,6
$$s_{0}^{34},s_{1}^{34},s_{2}^{34}$$ 4,5,6 1,5,7
$$s_{0}^{35},s_{1}^{35},s_{2}^{35}$$ 1,6,7
$$s_{0}^{36},s_{1}^{36},s_{2}^{36}$$ 2,3,4
$$s_{0}^{37},s_{1}^{37},s_{2}^{37}$$ 2,3,5
$$s_{0}^{38},s_{1}^{38},s_{2}^{38}$$ 2,3,6
$$s_{0}^{39},s_{1}^{39},s_{2}^{39}$$ 2,3,7
$$s_{0}^{40},s_{1}^{40},s_{2}^{40}$$ 2,4,5
$$s_{0}^{41},s_{1}^{41},s_{2}^{41}$$ 2,4,6
$$s_{0}^{42},s_{1}^{42},s_{2}^{42}$$ 2,4,7
$$s_{0}^{43},s_{1}^{43},s_{2}^{43}$$ 2,5,6
$$s_{0}^{44},s_{1}^{44},s_{2}^{44}$$ 2,5,7
$$s_{0}^{45},s_{1}^{45},s_{2}^{45}$$ 2,6,7
$$s_{0}^{46},s_{1}^{46},s_{2}^{46}$$ 3,4,5
$$s_{0}^{47},s_{1}^{47},s_{2}^{47}$$ 3,4,6
$$s_{0}^{48},s_{1}^{48},s_{2}^{48}$$ 3,4,7
$$s_{0}^{49},s_{1}^{49},s_{2}^{49}$$ 3,5,6
$$s_{0}^{50},s_{1}^{50},s_{2}^{50}$$ 3,5,7
$$s_{0}^{51},s_{1}^{51},s_{2}^{51}$$ 3,6,7
$$s_{0}^{52},s_{1}^{52},s_{2}^{52}$$ 4,5,6
$$s_{0}^{53},s_{1}^{53},s_{2}^{53}$$ 4,5,7
$$s_{0}^{54},s_{1}^{54},s_{2}^{54}$$ 4,6,7
$$s_{0}^{55},s_{1}^{55},s_{2}^{55}$$ 5,6,7
Table 7.3.1.1.2-31: SRI indication for non-codebook based PUSCH transmission,
Bit field mapped to index SRI(s), Bit field mapped to index SRI(s), Bit field
mapped to index SRI(s),
* * *
0 0 0 0 0 0 1 1 1 1 1 1 2 0,1 2 2 2 2 3 reserved 3 0,1 3 3 4 0,2 4 0,1 5 1,2 5
0,2 6 0,1,2 6 0,3 7 reserved 7 1,2 8 1,3 9 2,3 10 0,1,2 11 0,1,3 12 0,2,3 13
1,2,3 14 0,1,2,3 15 reserved
Table 7.3.1.1.2-31A: Second SRI indication for non-codebook based PUSCH
transmission,\ _if multipanelScheme is not configured,_
$\mathbf{L}_{\mathbf{\max}}\mathbf{= 4}$
Bit field mapped to index SRI(s), Bit field mapped to index SRI(s), Bit field
mapped to index SRI(s),
* * *
0 0 0 0 0 0 1 1 1 1 1 1 0 0,1 2 2 2 2 1 2 layers: reserved 3 1 layer: reserved
3 3 0 0,1 4-7 1 layer: reserved 1 0,2 0 0,1 2 1,2 1 0,2 3 2 layers: reserved 2
0,3 0 0,1,2 3 1,2 1-3 3 layers: reserved 4 1,3 5 2,3 6-7 2 layers: reserved 0
0,1,2 1 0,1,3 2 0,2,3 3 1,2,3 4-7 3 layer: reserved 0 0,1,2,3 1-7 4 layers:
reserved
Table 7.3.1.1.2-31B: SRI indication, for non-codebook based PUSCH
transmission, $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{ > 4}$,
$\mathbf{L}_{\mathbf{\max}}\mathbf{= 4}$
Bit field mapped to index SRI(s), $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{=
5}$ Bit field mapped to index SRI(s),
$\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 6}$ Bit field mapped to index
SRI(s), $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 7}$ Bit field mapped to
index SRI(s), $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 8}$
* * *
0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 3 3 3 3 3 3 3 3 4 4 4 4 4 4 4
4 5 $$s_{0}^{0},s_{1}^{0}$$ 5 5 5 5 5 5 ... ... 6 $$s_{0}^{0},s_{1}^{0}$$ 6 6
6 6 14 $$s_{0}^{9},s_{1}^{9}$$ ... ... 7 $$s_{0}^{0},s_{1}^{0}$$ 7 7 15
$$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$ 20 $$s_{0}^{14},s_{1}^{14}$$ ... ... 8
$$s_{0}^{0},s_{1}^{0}$$ ... ... 21 $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$ 27
$$s_{0}^{20},s_{1}^{20}$$ ... ... 24 $$s_{0}^{9},s_{1}^{9},s_{2}^{9}$$ ... ...
28 $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$ 35 $$s_{0}^{27},s_{1}^{27}$$ 25
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$ 40
$$s_{0}^{19},s_{1}^{19},s_{2}^{19}$$ ... ... 36
$$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$ ... ... 41
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$ 62
$$s_{0}^{34},s_{1}^{34},s_{2}^{34}$$ ... ... 29
$$s_{0}^{4},s_{1}^{4},s_{2}^{4},s_{3}^{4}$$ ... ... 63
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$ 91
$$s_{0}^{55},s_{1}^{55},s_{2}^{55}$$ 30-31 reserved 55
$$s_{0}^{14},s_{1}^{14},s_{2}^{14},s_{3}^{14}$$ ... ... 92
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$ 56-63 reserved 97
$$s_{0}^{34},s_{1}^{34},s_{2}^{34},s_{3}^{34}$$ ... ... 98-127 reserved 161
$$s_{0}^{69},s_{1}^{69},s_{2}^{69},s_{3}^{69}$$ 162-255 reserved where SRIs
$\left{ s_{0,}^{B}s_{1,\ldots,}^{B}s_{\upsilon - 1}^{B} \right},\ B \in \left{
0,1,\ldots,C\left( N_{SRS,}\upsilon \right) - 1 \right}$ are as given in Table
7.3.1.1.2-29B-1, Table 7.3.1.1.2-30B-1 and Table 7.3.1.1.2-31B-1.
Table 7.3.1.1.2-31B-1: SRI combinations for 4 layers,
$\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{> 4}$
                                                    SRI(s) for 4 layers, $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 5}$   SRI(s) for 4 layers, $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 6}$   SRI(s) for 4 layers, $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 7}$   SRI(s) for 4 layers, $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 8}$
* * *
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$ 0,1,2,3 0,1,2,3 0,1,2,3 0,1,2,3
$$s_{0}^{1},s_{1}^{1},s_{2}^{1},s_{3}^{1}$$ 0,1,2,4 0,1,2,4 0,1,2,4 0,1,2,4
$$s_{0}^{2},s_{1}^{2},s_{2}^{2},s_{3}^{2}$$ 0,1,3,4 0,1,2,5 0,1,2,5 0,1,2,5
$$s_{0}^{3},s_{1}^{3},s_{2}^{3},s_{3}^{3}$$ 0,2,3,4 0,1,3,4 0,1,2,6 0,1,2,6
$$s_{0}^{4},s_{1}^{4},s_{2}^{4},s_{3}^{4}$$ 1,2,3,4 0,1,3,5 0,1,3,4 0,1,2,7
$$s_{0}^{5},s_{1}^{5},s_{2}^{5},s_{3}^{5}$$ 0,1,4,5 0,1,3,5 0,1,3,4
$$s_{0}^{6},s_{1}^{6},s_{2}^{6},s_{3}^{6}$$ 0,2,3,4 0,1,3,6 0,1,3,5
$$s_{0}^{7},s_{1}^{7},s_{2}^{7},s_{3}^{7}$$ 0,2,3,5 0,1,4,5 0,1,3,6
$$s_{0}^{8},s_{1}^{8},s_{2}^{8},s_{3}^{8}$$ 0,2,4,5 0,1,4,6 0,1,3,7
$$s_{0}^{9},s_{1}^{9},s_{2}^{9},s_{3}^{9}$$ 0,3,4,5 0,1,5,6 0,1,4,5
$$s_{0}^{10},s_{1}^{10},s_{2}^{10},s_{3}^{10}$$ 1,2,3,4 0,2,3,4 0,1,4,6
$$s_{0}^{11},s_{1}^{11},s_{2}^{11},s_{3}^{11}$$ 1,2,3,5 0,2,3,5 0,1,4,7
$$s_{0}^{12},s_{1}^{12},s_{2}^{12},s_{3}^{12}$$ 1,2,4,5 0,2,3,6 0,1,5,6
$$s_{0}^{13},s_{1}^{13},s_{2}^{13},s_{3}^{13}$$ 1,3,4,5 0,2,4,5 0,1,5,7
$$s_{0}^{14},s_{1}^{14},s_{2}^{14},s_{3}^{14}$$ 2,3,4,5 0,2,4,6 0,1,6,7
$$s_{0}^{15},s_{1}^{15},s_{2}^{15},s_{3}^{15}$$ 0,2,5,6 0,2,3,4
$$s_{0}^{16},s_{1}^{16},s_{2}^{16},s_{3}^{16}$$ 0,3,4,5 0,2,3,5
$$s_{0}^{17},s_{1}^{17},s_{2}^{17},s_{3}^{17}$$ 0,3,4,6 0,2,3,6
$$s_{0}^{18},s_{1}^{18},s_{2}^{18},s_{3}^{18}$$ 0,3,5,6 0,2,3,7
$$s_{0}^{19},s_{1}^{19},s_{2}^{19},s_{3}^{19}$$ 0,4,5,6 0,2,4,5
$$s_{0}^{20},s_{1}^{20},s_{2}^{20},s_{3}^{20}$$ 1,2,3,4 0,2,4,6
$$s_{0}^{21},s_{1}^{21},s_{2}^{21},s_{3}^{21}$$ 1,2,3,5 0,2,4,7
$$s_{0}^{22},s_{1}^{22},s_{2}^{22},s_{3}^{22}$$ 1,2,3,6 0,2,5,6
$$s_{0}^{23},s_{1}^{23},s_{2}^{23},s_{3}^{23}$$ 1,2,4,5 0,2,5,7
$$s_{0}^{24},s_{1}^{24},s_{2}^{24},s_{3}^{24}$$ 1,2,4,6 0,2,6,7
$$s_{0}^{25},s_{1}^{25},s_{2}^{25},s_{3}^{25}$$ 1,2,5,6 0,3,4,5
$$s_{0}^{26},s_{1}^{26},s_{2}^{26},s_{3}^{26}$$ 1,3,4,5 0,3,4,6
$$s_{0}^{27},s_{1}^{27},s_{2}^{27},s_{3}^{27}$$ 1,3,4,6 0,3,4,7
$$s_{0}^{28},s_{1}^{28},s_{2}^{28},s_{3}^{28}$$ 1,3,5,6 0,3,5,6
$$s_{0}^{29},s_{1}^{29},s_{2}^{29},s_{3}^{29}$$ 1,4,5,6 0,3,5,7
$$s_{0}^{30},s_{1}^{30},s_{2}^{30},s_{3}^{30}$$ 2,3,4,5 0,3,6,7
$$s_{0}^{31},s_{1}^{31},s_{2}^{31},s_{3}^{31}$$ 2,3,4,6 0,4,5,6
$$s_{0}^{32},s_{1}^{32},s_{2}^{32},s_{3}^{32}$$ 2,3,5,6 0,4,5,7
$$s_{0}^{33},s_{1}^{33},s_{2}^{33},s_{3}^{33}$$ 2,4,5,6 0,4,6,7
$$s_{0}^{34},s_{1}^{34},s_{2}^{34},s_{3}^{34}$$ 3,4,5,6 0,5,6,7
$$s_{0}^{35},s_{1}^{35},s_{2}^{35},s_{3}^{35}$$ 1,2,3,4
$$s_{0}^{36},s_{1}^{36},s_{2}^{36},s_{3}^{36}$$ 1,2,3,5
$$s_{0}^{37},s_{1}^{37},s_{2}^{37},s_{3}^{37}$$ 1,2,3,6
$$s_{0}^{38},s_{1}^{38},s_{2}^{38},s_{3}^{38}$$ 1,2,3,7
$$s_{0}^{39},s_{1}^{39},s_{2}^{39},s_{3}^{39}$$ 1,2,4,5
$$s_{0}^{40},s_{1}^{40},s_{2}^{40},s_{3}^{40}$$ 1,2,4,6
$$s_{0}^{41},s_{1}^{41},s_{2}^{41},s_{3}^{41}$$ 1,2,4,7
$$s_{0}^{42},s_{1}^{42},s_{2}^{42},s_{3}^{42}$$ 1,2,5,6
$$s_{0}^{43},s_{1}^{43},s_{2}^{43},s_{3}^{43}$$ 1,2,5,7
$$s_{0}^{44},s_{1}^{44},s_{2}^{44},s_{3}^{44}$$ 1,2,6,7
$$s_{0}^{45},s_{1}^{45},s_{2}^{45},s_{3}^{45}$$ 1,3,4,5
$$s_{0}^{46},s_{1}^{46},s_{2}^{46},s_{3}^{46}$$ 1,3,4,6
$$s_{0}^{47},s_{1}^{47},s_{2}^{47},s_{3}^{47}$$ 1,3,4,7
$$s_{0}^{48},s_{1}^{48},s_{2}^{48},s_{3}^{48}$$ 1,3,5,6
$$s_{0}^{49},s_{1}^{49},s_{2}^{49},s_{3}^{49}$$ 1,3,5,7
$$s_{0}^{50},s_{1}^{50},s_{2}^{50},s_{3}^{50}$$ 1,3,6,7
$$s_{0}^{51},s_{1}^{51},s_{2}^{51},s_{3}^{51}$$ 1,4,5,6
$$s_{0}^{52},s_{1}^{52},s_{2}^{52},s_{3}^{52}$$ 1,4,5,7
$$s_{0}^{53},s_{1}^{53},s_{2}^{53},s_{3}^{53}$$ 1,4,6,7
$$s_{0}^{54},s_{1}^{54},s_{2}^{54},s_{3}^{54}$$ 1,5,6,7
$$s_{0}^{55},s_{1}^{55},s_{2}^{55},s_{3}^{55}$$ 2,3,4,5
$$s_{0}^{56},s_{1}^{56},s_{2}^{56},s_{3}^{56}$$ 2,3,4,6
$$s_{0}^{57},s_{1}^{57},s_{2}^{57},s_{3}^{57}$$ 2,3,4,7
$$s_{0}^{58},s_{1}^{58},s_{2}^{58},s_{3}^{58}$$ 2,3,5,6
$$s_{0}^{59},s_{1}^{59},s_{2}^{59},s_{3}^{59}$$ 2,3,5,7
$$s_{0}^{60},s_{1}^{60},s_{2}^{60},s_{3}^{60}$$ 2,3,6,7
$$s_{0}^{61},s_{1}^{61},s_{2}^{61},s_{3}^{61}$$ 2,4,5,6
$$s_{0}^{62},s_{1}^{62},s_{2}^{62},s_{3}^{62}$$ 2,4,5,7
$$s_{0}^{63},s_{1}^{63},s_{2}^{63},s_{3}^{63}$$ 2,4,6,7
$$s_{0}^{64},s_{1}^{64},s_{2}^{64},s_{3}^{64}$$ 2,5,6,7
$$s_{0}^{65},s_{1}^{65},s_{2}^{65},s_{3}^{65}$$ 3,4,5,6
$$s_{0}^{66},s_{1}^{66},s_{2}^{66},s_{3}^{66}$$ 3,4,5,7
$$s_{0}^{67},s_{1}^{67},s_{2}^{67},s_{3}^{67}$$ 3,4,6,7
$$s_{0}^{68},s_{1}^{68},s_{2}^{68},s_{3}^{68}$$ 3,5,6,7
$$s_{0}^{69},s_{1}^{69},s_{2}^{69},s_{3}^{69}$$ 4,5,6,7
Table 7.3.1.1.2-31C: SRI indication, for non-codebook based PUSCH
transmission, $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{ > 4}$,
$\mathbf{L}_{\mathbf{\max}}\mathbf{= 5}$
Bit field mapped to index SRI(s), $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{=
5}$ Bit field mapped to index SRI(s),
$\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 6}$ Bit field mapped to index
SRI(s), $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 7}$ Bit field mapped to
index SRI(s), $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 8}$
* * *
0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 3 3 3 3 3 3 3 3 4 4 4 4 4 4 4
4 5 $$s_{0}^{0},s_{1}^{0}$$ 5 5 5 5 5 5 ... ... 6 $$s_{0}^{0},s_{1}^{0}$$ 6 6
6 6 14 $$s_{0}^{9},s_{1}^{9}$$ ... ... 7 $$s_{0}^{0},s_{1}^{0}$$ 7 7 15
$$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$ 20 $$s_{0}^{14},s_{1}^{14}$$ ... ... 8
$$s_{0}^{0},s_{1}^{0}$$ ... ... 21 $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$ 27
$$s_{0}^{20},s_{1}^{20}$$ ... ... 24 $$s_{0}^{9},s_{1}^{9},s_{2}^{9}$$ ... ...
28 $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$ 35 $$s_{0}^{27},s_{1}^{27}$$ 25
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$ 40
$$s_{0}^{19},s_{1}^{19},s_{2}^{19}$$ ... ... 36
$$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$ ... ... 41
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$ 62
$$s_{0}^{34},s_{1}^{34},s_{2}^{34}$$ ... ... 29
$$s_{0}^{4},s_{1}^{4},s_{2}^{4},s_{3}^{4}$$ ... ... 63
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$ 91
$$s_{0}^{55},s_{1}^{55},s_{2}^{55}$$ 30 0,1,2,3,4 55
$$s_{0}^{14},s_{1}^{14},s_{2}^{14},s_{3}^{14}$$ ... ... 92
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$ 31 reserved 56
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0}$$ 97
$$s_{0}^{34},s_{1}^{34},s_{2}^{34},s_{3}^{34}$$ ... ... ... ... 98
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0}$$ 161
$$s_{0}^{69},s_{1}^{69},s_{2}^{69},s_{3}^{69}$$ 61
$$s_{0}^{5},s_{1}^{5},s_{2}^{5},s_{3}^{5},s_{4}^{5}$$ ... ... 162
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0}$$ 62-63 reserved 118
$$s_{0}^{20},s_{1}^{20},s_{2}^{20},s_{3}^{20},s_{4}^{20}$$ ... ... 119-127
reserved 217 $$s_{0}^{55},s_{1}^{55},s_{2}^{55},s_{3}^{55},s_{4}^{55}$$
218-255 reserved where SRIs $\left{ s_{0,}^{B}s_{1,\ldots,}^{B}s_{\upsilon -
1}^{B} \right},\ B \in \left{ 0,1,\ldots,C\left( N_{SRS,}\upsilon \right) - 1
\right}$ are as given in Table 7.3.1.1.2-29B-1, Table 7.3.1.1.2-30B-1, Table
7.3.1.1.2-31B-1 and Table 7.3.1.1.2-31C-1.
Table 7.3.1.1.2-31C-1: SRI combinations for 5 layers,
$\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{> 4}$
                                                               SRI(s) for 5 layers, $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 6}$   SRI(s) for 5 layers, $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 7}$   SRI(s) for 5 layers, $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 8}$
* * *
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0}$$ 0,1,2,3,4 0,1,2,3,4
0,1,2,3,4 $$s_{0}^{1},s_{1}^{1},s_{2}^{1},s_{3}^{1},s_{4}^{1}$$ 0,1,2,3,5
0,1,2,3,5 0,1,2,3,5 $$s_{0}^{2},s_{1}^{2},s_{2}^{2},s_{3}^{2},s_{4}^{2}$$
0,1,2,4,5 0,1,2,3,6 0,1,2,3,6
$$s_{0}^{3},s_{1}^{3},s_{2}^{3},s_{3}^{3},s_{4}^{3}$$ 0,1,3,4,5 0,1,2,4,5
0,1,2,3,7 $$s_{0}^{4},s_{1}^{4},s_{2}^{4},s_{3}^{4},s_{4}^{4}$$ 0,2,3,4,5
0,1,2,4,6 0,1,2,4,5 $$s_{0}^{5},s_{1}^{5},s_{2}^{5},s_{3}^{5},s_{4}^{5}$$
1,2,3,4,5 0,1,2,5,6 0,1,2,4,6
$$s_{0}^{6},s_{1}^{6},s_{2}^{6},s_{3}^{6},s_{4}^{6}$$ 0,1,3,4,5 0,1,2,4,7
$$s_{0}^{7},s_{1}^{7},s_{2}^{7},s_{3}^{7},s_{4}^{7}$$ 0,1,3,4,6 0,1,2,5,6
$$s_{0}^{8},s_{1}^{8},s_{2}^{8},s_{3}^{8},s_{4}^{8}$$ 0,1,3,5,6 0,1,2,5,7
$$s_{0}^{9},s_{1}^{9},s_{2}^{9},s_{3}^{9},s_{4}^{9}$$ 0,1,4,5,6 0,1,2,6,7
$$s_{0}^{10},s_{1}^{10},s_{2}^{10},s_{3}^{10},s_{4}^{10}$$ 0,2,3,4,5 0,1,3,4,5
$$s_{0}^{11},s_{1}^{11},s_{2}^{11},s_{3}^{11},s_{4}^{11}$$ 0,2,3,4,6 0,1,3,4,6
$$s_{0}^{12},s_{1}^{12},s_{2}^{12},s_{3}^{12},s_{4}^{12}$$ 0,2,3,5,6 0,1,3,4,7
$$s_{0}^{13},s_{1}^{13},s_{2}^{13},s_{3}^{13},s_{4}^{13}$$ 0,2,4,5,6 0,1,3,5,6
$$s_{0}^{14},s_{1}^{14},s_{2}^{14},s_{3}^{14},s_{4}^{14}$$ 0,3,4,5,6 0,1,3,5,7
$$s_{0}^{15},s_{1}^{15},s_{2}^{15},s_{3}^{15},s_{4}^{15}$$ 1,2,3,4,5 0,1,3,6,7
$$s_{0}^{16},s_{1}^{16},s_{2}^{16},s_{3}^{16},s_{4}^{16}$$ 1,2,3,4,6 0,1,4,5,6
$$s_{0}^{17},s_{1}^{17},s_{2}^{17},s_{3}^{17},s_{4}^{17}$$ 1,2,3,5,6 0,1,4,5,7
$$s_{0}^{18},s_{1}^{18},s_{2}^{18},s_{3}^{18},s_{4}^{18}$$ 1,2,4,5,6 0,1,4,6,7
$$s_{0}^{19},s_{1}^{19},s_{2}^{19},s_{3}^{19},s_{4}^{19}$$ 1,3,4,5,6 0,1,5,6,7
$$s_{0}^{20},s_{1}^{20},s_{2}^{20},s_{3}^{20},s_{4}^{20}$$ 2,3,4,5,6 0,2,3,4,5
$$s_{0}^{21},s_{1}^{21},s_{2}^{21},s_{3}^{21},s_{4}^{21}$$ 0,2,3,4,6
$$s_{0}^{22},s_{1}^{22},s_{2}^{22},s_{3}^{22},s_{4}^{22}$$ 0,2,3,4,7
$$s_{0}^{23},s_{1}^{23},s_{2}^{23},s_{3}^{23},s_{4}^{23}$$ 0,2,3,5,6
$$s_{0}^{24},s_{1}^{24},s_{2}^{24},s_{3}^{24},s_{4}^{24}$$ 0,2,3,5,7
$$s_{0}^{25},s_{1}^{25},s_{2}^{25},s_{3}^{25},s_{4}^{25}$$ 0,2,3,6,7
$$s_{0}^{26},s_{1}^{26},s_{2}^{26},s_{3}^{26},s_{4}^{26}$$ 0,2,4,5,6
$$s_{0}^{27},s_{1}^{27},s_{2}^{27},s_{3}^{27},s_{4}^{27}$$ 0,2,4,5,7
$$s_{0}^{28},s_{1}^{28},s_{2}^{28},s_{3}^{28},s_{4}^{28}$$ 0,2,4,6,7
$$s_{0}^{29},s_{1}^{29},s_{2}^{29},s_{3}^{29},s_{4}^{29}$$ 0,2,5,6,7
$$s_{0}^{30},s_{1}^{30},s_{2}^{30},s_{3}^{30},s_{4}^{30}$$ 0,3,4,5,6
$$s_{0}^{31},s_{1}^{31},s_{2}^{31},s_{3}^{31},s_{4}^{31}$$ 0,3,4,5,7
$$s_{0}^{32},s_{1}^{32},s_{2}^{32},s_{3}^{32},s_{4}^{32}$$ 0,3,4,6,7
$$s_{0}^{33},s_{1}^{33},s_{2}^{33},s_{3}^{33},s_{4}^{33}$$ 0,3,5,6,7
$$s_{0}^{34},s_{1}^{34},s_{2}^{34},s_{3}^{34},s_{4}^{34}$$ 0,4,5,6,7
$$s_{0}^{35},s_{1}^{35},s_{2}^{35},s_{3}^{35},s_{4}^{35}$$ 1,2,3,4,5
$$s_{0}^{36},s_{1}^{36},s_{2}^{36},s_{3}^{36},s_{4}^{36}$$ 1,2,3,4,6
$$s_{0}^{37},s_{1}^{37},s_{2}^{37},s_{3}^{37},s_{4}^{37}$$ 1,2,3,4,7
$$s_{0}^{38},s_{1}^{38},s_{2}^{38},s_{3}^{38},s_{4}^{38}$$ 1,2,3,5,6
$$s_{0}^{39},s_{1}^{39},s_{2}^{39},s_{3}^{39},s_{4}^{39}$$ 1,2,3,5,7
$$s_{0}^{40},s_{1}^{40},s_{2}^{40},s_{3}^{40},s_{4}^{40}$$ 1,2,3,6,7
$$s_{0}^{41},s_{1}^{41},s_{2}^{41},s_{3}^{41},s_{4}^{41}$$ 1,2,4,5,6
$$s_{0}^{42},s_{1}^{42},s_{2}^{42},s_{3}^{42},s_{4}^{42}$$ 1,2,4,5,7
$$s_{0}^{43},s_{1}^{43},s_{2}^{43},s_{3}^{43},s_{4}^{43}$$ 1,2,4,6,7
$$s_{0}^{44},s_{1}^{44},s_{2}^{44},s_{3}^{44},s_{4}^{44}$$ 1,2,5,6,7
$$s_{0}^{45},s_{1}^{45},s_{2}^{45},s_{3}^{45},s_{4}^{45}$$ 1,3,4,5,6
$$s_{0}^{46},s_{1}^{46},s_{2}^{46},s_{3}^{46},s_{4}^{46}$$ 1,3,4,5,7
$$s_{0}^{47},s_{1}^{47},s_{2}^{47},s_{3}^{47},s_{4}^{47}$$ 1,3,4,6,7
$$s_{0}^{48},s_{1}^{48},s_{2}^{48},s_{3}^{48},s_{4}^{48}$$ 1,3,5,6,7
$$s_{0}^{49},s_{1}^{49},s_{2}^{49},s_{3}^{49},s_{4}^{49}$$ 1,4,5,6,7
$$s_{0}^{50},s_{1}^{50},s_{2}^{50},s_{3}^{50},s_{4}^{50}$$ 2,3,4,5,6
$$s_{0}^{51},s_{1}^{51},s_{2}^{51},s_{3}^{51},s_{4}^{51}$$ 2,3,4,5,7
$$s_{0}^{52},s_{1}^{52},s_{2}^{52},s_{3}^{52},s_{4}^{52}$$ 2,3,4,6,7
$$s_{0}^{53},s_{1}^{53},s_{2}^{53},s_{3}^{53},s_{4}^{53}$$ 2,3,5,6,7
$$s_{0}^{54},s_{1}^{54},s_{2}^{54},s_{3}^{54},s_{4}^{54}$$ 2,4,5,6,7
$$s_{0}^{55},s_{1}^{55},s_{2}^{55},s_{3}^{55},s_{4}^{55}$$ 3,4,5,6,7
Table 7.3.1.1.2-31D: SRI indication, for non-codebook based PUSCH
transmission, $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{ > 4}$,
$\mathbf{L}_{\mathbf{\max}}\mathbf{= 6}$
Bit field mapped to index SRI(s), $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{=
5}$ Bit field mapped to index SRI(s),
$\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 6}$ Bit field mapped to index
SRI(s), $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 7}$ Bit field mapped to
index SRI(s), $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 8}$
* * *
0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 3 3 3 3 3 3 3 3 4 4 4 4 4 4 4
4 5 $$s_{0}^{0},s_{1}^{0}$$ 5 5 5 5 5 5 ... ... 6 $$s_{0}^{0},s_{1}^{0}$$ 6 6
6 6 14 $$s_{0}^{9},s_{1}^{9}$$ ... ... 7 $$s_{0}^{0},s_{1}^{0}$$ 7 7 15
$$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$ 20 $$s_{0}^{14},s_{1}^{14}$$ ... ... 8
$$s_{0}^{0},s_{1}^{0}$$ ... ... 21 $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$ 27
$$s_{0}^{20},s_{1}^{20}$$ ... ... 24 $$s_{0}^{9},s_{1}^{9},s_{2}^{9}$$ ... ...
28 $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$ 35 $$s_{0}^{27},s_{1}^{27}$$ 25
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$ 40
$$s_{0}^{19},s_{1}^{19},s_{2}^{19}$$ ... ... 36
$$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$ ... ... 41
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$ 62
$$s_{0}^{34},s_{1}^{34},s_{2}^{34}$$ ... ... 29
$$s_{0}^{4},s_{1}^{4},s_{2}^{4},s_{3}^{4}$$ ... ... 63
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$ 91
$$s_{0}^{55},s_{1}^{55},s_{2}^{55}$$ 30 0,1,2,3,4 55
$$s_{0}^{14},s_{1}^{14},s_{2}^{14},s_{3}^{14}$$ ... ... 92
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$ 31 reserved 56
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0}$$ 97
$$s_{0}^{34},s_{1}^{34},s_{2}^{34},s_{3}^{34}$$ ... ... ... ... 98
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0}$$ 161
$$s_{0}^{69},s_{1}^{69},s_{2}^{69},s_{3}^{69}$$ 61
$$s_{0}^{5},s_{1}^{5},s_{2}^{5},s_{3}^{5},s_{4}^{5}$$ ... ... 162
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0}$$ 62 0,1,2,3,4,5 118
$$s_{0}^{20},s_{1}^{20},s_{2}^{20},s_{3}^{20},s_{4}^{20}$$ ... ... 63 reserved
119 $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0},s_{5}^{0}$$ 217
$$s_{0}^{55},s_{1}^{55},s_{2}^{55},s_{3}^{55},s_{4}^{55}$$ ... ... 218
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0},s_{5}^{0}$$ 125
$$s_{0}^{6},s_{1}^{6},s_{2}^{6},s_{3}^{6},s_{4}^{6},s_{5}^{6}$$ ... ...
126-127 reserved 245
$$s_{0}^{27},s_{1}^{27},s_{2}^{27},s_{3}^{27},s_{4}^{27},s_{5}^{27}$$ 246-255
reserved where SRIs $\left{ s_{0,}^{B}s_{1,\ldots,}^{B}s_{\upsilon - 1}^{B}
\right},\ B \in \left{ 0,1,\ldots,C\left( N_{SRS,}\upsilon \right) - 1
\right}$ are as given in Table 7.3.1.1.2-29B-1, Table 7.3.1.1.2-30B-1, Table
7.3.1.1.2-31B-1, Table 7.3.1.1.2-31C-1 and Table 7.3.1.1.2-31D-1.
Table 7.3.1.1.2-31D-1: SRI combinations for 6 layers,
$\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{> 6}$
                                                                          SRI(s) for 6 layers, $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 7}$   SRI(s) for 6 layers, $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 8}$
* * *
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0},s_{5}^{0}$$ 0,1,2,3,4,5
0,1,2,3,4,5 $$s_{0}^{1},s_{1}^{1},s_{2}^{1},s_{3}^{1},s_{4}^{1},s_{5}^{1}$$
0,1,2,3,4,6 0,1,2,3,4,6
$$s_{0}^{2},s_{1}^{2},s_{2}^{2},s_{3}^{2},s_{4}^{2},s_{5}^{2}$$ 0,1,2,3,5,6
0,1,2,3,4,7 $$s_{0}^{3},s_{1}^{3},s_{2}^{3},s_{3}^{3},s_{4}^{3},s_{5}^{3}$$
0,1,2,4,5,6 0,1,2,3,5,6
$$s_{0}^{4},s_{1}^{4},s_{2}^{4},s_{3}^{4},s_{4}^{4},s_{5}^{4}$$ 0,1,3,4,5,6
0,1,2,3,5,7 $$s_{0}^{5},s_{1}^{5},s_{2}^{5},s_{3}^{5},s_{4}^{5},s_{5}^{5}$$
0,2,3,4,5,6 0,1,2,3,6,7
$$s_{0}^{6},s_{1}^{6},s_{2}^{6},s_{3}^{6},s_{4}^{6},s_{5}^{6}$$ 1,2,3,4,5,6
0,1,2,4,5,6 $$s_{0}^{7},s_{1}^{7},s_{2}^{7},s_{3}^{7},s_{4}^{7},s_{5}^{7}$$
0,1,2,4,5,7 $$s_{0}^{8},s_{1}^{8},s_{2}^{8},s_{3}^{8},s_{4}^{8},s_{5}^{8}$$
0,1,2,4,6,7 $$s_{0}^{9},s_{1}^{9},s_{2}^{9},s_{3}^{9},s_{4}^{9},s_{5}^{9}$$
0,1,2,5,6,7
$$s_{0}^{10},s_{1}^{10},s_{2}^{10},s_{3}^{10},s_{4}^{10},s_{5}^{10}$$
0,1,3,4,5,6
$$s_{0}^{11},s_{1}^{11},s_{2}^{11},s_{3}^{11},s_{4}^{11},s_{5}^{11}$$
0,1,3,4,5,7
$$s_{0}^{12},s_{1}^{12},s_{2}^{12},s_{3}^{12},s_{4}^{12},s_{5}^{12}$$
0,1,3,4,6,7
$$s_{0}^{13},s_{1}^{13},s_{2}^{13},s_{3}^{13},s_{4}^{13},s_{5}^{13}$$
0,1,3,5,6,7
$$s_{0}^{14},s_{1}^{14},s_{2}^{14},s_{3}^{14},s_{4}^{14},s_{5}^{14}$$
0,1,4,5,6,7
$$s_{0}^{15},s_{1}^{15},s_{2}^{15},s_{3}^{15},s_{4}^{15},s_{5}^{15}$$
0,2,3,4,5,6
$$s_{0}^{16},s_{1}^{16},s_{2}^{16},s_{3}^{16},s_{4}^{16},s_{5}^{16}$$
0,2,3,4,5,7
$$s_{0}^{17},s_{1}^{17},s_{2}^{17},s_{3}^{17},s_{4}^{17},s_{5}^{17}$$
0,2,3,4,6,7
$$s_{0}^{18},s_{1}^{18},s_{2}^{18},s_{3}^{18},s_{4}^{18},s_{5}^{18}$$
0,2,3,5,6,7
$$s_{0}^{19},s_{1}^{19},s_{2}^{19},s_{3}^{19},s_{4}^{19},s_{5}^{19}$$
0,2,4,5,6,7
$$s_{0}^{20},s_{1}^{20},s_{2}^{20},s_{3}^{20},s_{4}^{20},s_{5}^{20}$$
0,3,4,5,6,7
$$s_{0}^{21},s_{1}^{21},s_{2}^{21},s_{3}^{21},s_{4}^{21},s_{5}^{21}$$
1,2,3,4,5,6
$$s_{0}^{22},s_{1}^{22},s_{2}^{22},s_{3}^{22},s_{4}^{22},s_{5}^{22}$$
1,2,3,4,5,7
$$s_{0}^{23},s_{1}^{23},s_{2}^{23},s_{3}^{23},s_{4}^{23},s_{5}^{23}$$
1,2,3,4,6,7
$$s_{0}^{24},s_{1}^{24},s_{2}^{24},s_{3}^{24},s_{4}^{24},s_{5}^{24}$$
1,2,3,5,6,7
$$s_{0}^{25},s_{1}^{25},s_{2}^{25},s_{3}^{25},s_{4}^{25},s_{5}^{25}$$
1,2,4,5,6,7
$$s_{0}^{26},s_{1}^{26},s_{2}^{26},s_{3}^{26},s_{4}^{26},s_{5}^{26}$$
1,3,4,5,6,7
$$s_{0}^{27},s_{1}^{27},s_{2}^{27},s_{3}^{27},s_{4}^{27},s_{5}^{27}$$
2,3,4,5,6,7
Table 7.3.1.1.2-31E: SRI indication, for non-codebook based PUSCH
transmission, $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{ > 4}$,
$\mathbf{L}_{\mathbf{\max}}\mathbf{= 7}$
Bit field mapped to index SRI(s), $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{=
5}$ Bit field mapped to index SRI(s),
$\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 6}$ Bit field mapped to index
SRI(s), $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 7}$ Bit field mapped to
index SRI(s), $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 8}$
* * *
0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 3 3 3 3 3 3 3 3 4 4 4 4 4 4 4
4 5 $$s_{0}^{0},s_{1}^{0}$$ 5 5 5 5 5 5 ... ... 6 $$s_{0}^{0},s_{1}^{0}$$ 6 6
6 6 14 $$s_{0}^{9},s_{1}^{9}$$ ... ... 7 $$s_{0}^{0},s_{1}^{0}$$ 7 7 15
$$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$ 20 $$s_{0}^{14},s_{1}^{14}$$ ... ... 8
$$s_{0}^{0},s_{1}^{0}$$ ... ... 21 $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$ 27
$$s_{0}^{20},s_{1}^{20}$$ ... ... 24 $$s_{0}^{9},s_{1}^{9},s_{2}^{9}$$ ... ...
28 $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$ 35 $$s_{0}^{27},s_{1}^{27}$$ 25
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$ 40
$$s_{0}^{19},s_{1}^{19},s_{2}^{19}$$ ... ... 36
$$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$ ... ... 41
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$ 62
$$s_{0}^{34},s_{1}^{34},s_{2}^{34}$$ ... ... 29
$$s_{0}^{4},s_{1}^{4},s_{2}^{4},s_{3}^{4}$$ ... ... 63
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$ 91
$$s_{0}^{55},s_{1}^{55},s_{2}^{55}$$ 30 0,1,2,3,4 55
$$s_{0}^{14},s_{1}^{14},s_{2}^{14},s_{3}^{14}$$ ... ... 92
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$ 31 reserved 56
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0}$$ 97
$$s_{0}^{34},s_{1}^{34},s_{2}^{34},s_{3}^{34}$$ ... ... ... ... 98
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0}$$ 161
$$s_{0}^{69},s_{1}^{69},s_{2}^{69},s_{3}^{69}$$ 61
$$s_{0}^{5},s_{1}^{5},s_{2}^{5},s_{3}^{5},s_{4}^{5}$$ ... ... 162
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0}$$ 62 0,1,2,3,4,5 118
$$s_{0}^{20},s_{1}^{20},s_{2}^{20},s_{3}^{20},s_{4}^{20}$$ ... ... 63 reserved
119 $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0},s_{5}^{0}$$ 217
$$s_{0}^{55},s_{1}^{55},s_{2}^{55},s_{3}^{55},s_{4}^{55}$$ ... ... 218
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0},s_{5}^{0}$$ 125
$$s_{0}^{6},s_{1}^{6},s_{2}^{6},s_{3}^{6},s_{4}^{6},s_{5}^{6}$$ ... ... 126
0,1,2,3,4,5,6 245
$$s_{0}^{27},s_{1}^{27},s_{2}^{27},s_{3}^{27},s_{4}^{27},s_{5}^{27}$$ 127
reserved 246 0,1,2,3,4,5,6 247 0,1,2,3,4,5,7 248 0,1,2,3,4,6,7 249
0,1,2,3,5,6,7 250 0,1,2,4,5,6,7 251 0,1,3,4,5,6,7 252 0,2,3,4,5,6,7 253
1,2,3,4,5,6,7 254-255 reserved where SRIs $\left{
s_{0,}^{B}s_{1,\ldots,}^{B}s_{\upsilon - 1}^{B} \right},\ B \in \left{
0,1,\ldots,C\left( N_{SRS,}\upsilon \right) - 1 \right}$ are as given in Table
7.3.1.1.2-29B-1, Table 7.3.1.1.2-30B-1, Table 7.3.1.1.2-31B-1, Table
7.3.1.1.2-31C-1 and Table 7.3.1.1.2-31D-1.
Table 7.3.1.1.2-31F: SRI indication, for non-codebook based PUSCH
transmission, $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{ > 4}$,
$\mathbf{L}_{\mathbf{\max}}\mathbf{= 8}$
Bit field mapped to index SRI(s), $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{=
5}$ Bit field mapped to index SRI(s),
$\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 6}$ Bit field mapped to index
SRI(s), $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 7}$ Bit field mapped to
index SRI(s), $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 8}$
* * *
0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 3 3 3 3 3 3 3 3 4 4 4 4 4 4 4
4 5 $$s_{0}^{0},s_{1}^{0}$$ 5 5 5 5 5 5 ... ... 6 $$s_{0}^{0},s_{1}^{0}$$ 6 6
6 6 14 $$s_{0}^{9},s_{1}^{9}$$ ... ... 7 $$s_{0}^{0},s_{1}^{0}$$ 7 7 15
$$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$ 20 $$s_{0}^{14},s_{1}^{14}$$ ... ... 8
$$s_{0}^{0},s_{1}^{0}$$ ... ... 21 $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$ 27
$$s_{0}^{20},s_{1}^{20}$$ ... ... 24 $$s_{0}^{9},s_{1}^{9},s_{2}^{9}$$ ... ...
28 $$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$ 35 $$s_{0}^{27},s_{1}^{27}$$ 25
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$ 40
$$s_{0}^{19},s_{1}^{19},s_{2}^{19}$$ ... ... 36
$$s_{0}^{0},s_{1}^{0},s_{2}^{0}$$ ... ... 41
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$ 62
$$s_{0}^{34},s_{1}^{34},s_{2}^{34}$$ ... ... 29
$$s_{0}^{4},s_{1}^{4},s_{2}^{4},s_{3}^{4}$$ ... ... 63
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$ 91
$$s_{0}^{55},s_{1}^{55},s_{2}^{55}$$ 30 0,1,2,3,4 55
$$s_{0}^{14},s_{1}^{14},s_{2}^{14},s_{3}^{14}$$ ... ... 92
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0}$$ 31 reserved 56
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0}$$ 97
$$s_{0}^{34},s_{1}^{34},s_{2}^{34},s_{3}^{34}$$ ... ... ... ... 98
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0}$$ 161
$$s_{0}^{69},s_{1}^{69},s_{2}^{69},s_{3}^{69}$$ 61
$$s_{0}^{5},s_{1}^{5},s_{2}^{5},s_{3}^{5},s_{4}^{5}$$ ... ... 162
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0}$$ 62 0,1,2,3,4,5 118
$$s_{0}^{20},s_{1}^{20},s_{2}^{20},s_{3}^{20},s_{4}^{20}$$ ... ... 63 reserved
119 $$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0},s_{5}^{0}$$ 217
$$s_{0}^{55},s_{1}^{55},s_{2}^{55},s_{3}^{55},s_{4}^{55}$$ ... ... 218
$$s_{0}^{0},s_{1}^{0},s_{2}^{0},s_{3}^{0},s_{4}^{0},s_{5}^{0}$$ 125
$$s_{0}^{6},s_{1}^{6},s_{2}^{6},s_{3}^{6},s_{4}^{6},s_{5}^{6}$$ ... ... 126
0,1,2,3,4,5,6 245
$$s_{0}^{27},s_{1}^{27},s_{2}^{27},s_{3}^{27},s_{4}^{27},s_{5}^{27}$$ 127
reserved 246 0,1,2,3,4,5,6 247 0,1,2,3,4,5,7 248 0,1,2,3,4,6,7 249
0,1,2,3,5,6,7 250 0,1,2,4,5,6,7 251 0,1,3,4,5,6,7 252 0,2,3,4,5,6,7 253
1,2,3,4,5,6,7 254 0,1,2,3,4,5,6,7 255 reserved where SRIs $\left{
s_{0,}^{B}s_{1,\ldots,}^{B}s_{\upsilon - 1}^{B} \right},\ B \in \left{
0,1,\ldots,C\left( N_{SRS,}\upsilon \right) - 1 \right}$ are as given in Table
7.3.1.1.2-29B-1, Table 7.3.1.1.2-30B-1, Table 7.3.1.1.2-31B-1, Table
7.3.1.1.2-31C-1 and Table 7.3.1.1.2-31D-1.
Table 7.3.1.1.2-32: SRI indication or Second SRI indication, for codebook
based PUSCH transmission, if _ul-FullPowerTransmission is not configured, or
ul-FullPowerTransmission = fullpowerMode1, or ul-FullPowerTransmission =
fullpowerMode2, or ul-FullPowerTransmission = fullpower and_
$\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 2}$
Bit field mapped to index SRI(s),
* * *
0 0 1 1
Table 7.3.1.1.2-32A: SRI indication or Second SRI indication, for codebook
based PUSCH transmission, if _ul-FullPowerTransmission = fullpowerMode2 and_
$\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 3}$
Bit field mapped to index SRI(s), $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{=
3}$
* * *
0 0 1 1 2 2 3 Reserved
Table 7.3.1.1.2-32B: SRI indication or Second SRI indication, for codebook
based PUSCH transmission, if _ul-FullPowerTransmission = fullpowerMode2 and_
$\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{= 4}$
Bit field mapped to index SRI(s), $\mathbf{N}_{\mathbf{\text{SRS}}}\mathbf{=
4}$
* * *
0 0 1 1 2 2 3 3
Table 7.3.1.1.2-33: Joint indication of minimum applicable scheduling offset
K0/K2
**Bit field mapped to index** **Minimum applicable K0 for the active DL BWP,
if _minimumSchedulingOffsetK0_ is configured for the DL BWP** **Minimum
applicable K2 for the active UL BWP, if _minimumSchedulingOffsetK2_ is
configured for the UL BWP**
* * *
0 The first value configured by _minimumSchedulingOffsetK0_ for the active DL
BWP The first value configured by _minimumSchedulingOffsetK2_ for the active
UL BWP 1 The second value configured by _minimumSchedulingOffsetK0_ for the
active DL BWP if the second value is configured; 0 otherwise The second value
configured by _minimumSchedulingOffsetK2_ for the active UL BWP if the second
value is configured; 0 otherwise
Table 7.3.1.1.2-34: Redundancy version
**Value of the Redundancy version field** **Value of to be applied**
* * *
0 0 1 2
Table 7.3.1.1.2-35: Allowed entries for DCI format 0_1 and DCI format 0_2,
configured by\ higher layer parameter _ul-AccessConfigListDCI-0-1 and ul-
AccessConfigListDCI-0-2, respectively,\_ in frequency range 1
**Entry index** **Channel Access Type** **The CP extension T_\"ext\" index
defined in Clause 5.3.1 of [4, 38.211]** **CAPC**
* * *
0 Type2C-ULChannelAccess defined in clause 4.2.1.2.3 in TS 37.213 [14] 0 1 1
Type2C-ULChannelAccess defined in clause 4.2.1.2.3 in TS 37.213 [14] 0 2 2
Type2C-ULChannelAccess defined in clause 4.2.1.2.3 in TS 37.213 [14] 0 3 3
Type2C-ULChannelAccess defined in clause 4.2.1.2.3 in TS 37.213 [14] 0 4 4
Type2C-ULChannelAccess defined in clause 4.2.1.2.3 in TS 37.213 [14] 2 1 5
Type2C-ULChannelAccess defined in clause 4.2.1.2.3 in TS 37.213 [14] 2 2 6
Type2C-ULChannelAccess defined in clause 4.2.1.2.3 in TS 37.213 [14] 2 3 7
Type2C-ULChannelAccess defined in clause 4.2.1.2.3 in TS 37.213 [14] 2 4 8
Type2B-ULChannelAccess defined in clause 4.2.1.2.2 in TS 37.213 [14] 0 1 9
Type2B-ULChannelAccess defined in clause 4.2.1.2.2 in TS 37.213 [14] 0 2 10
Type2B-ULChannelAccess defined in clause 4.2.1.2.2 in TS 37.213 [14] 0 3 11
Type2B-ULChannelAccess defined in clause 4.2.1.2.2 in TS 37.213 [14] 0 4 12
Type2B-ULChannelAccess defined in clause 4.2.1.2.2 in TS 37.213 [14] 2 1 13
Type2B-ULChannelAccess defined in clause 4.2.1.2.2 in TS 37.213 [14] 2 2 14
Type2B-ULChannelAccess defined in clause 4.2.1.2.2 in TS 37.213 [14] 2 3 15
Type2B-ULChannelAccess defined in clause 4.2.1.2.2 in TS 37.213 [14] 2 4 16
Type2A-ULChannelAccess defined in clause 4.2.1.2.1 in TS 37.213 [14] 0 1 17
Type2A-ULChannelAccess defined in clause 4.2.1.2.1 in TS 37.213 [14] 0 2 18
Type2A-ULChannelAccess defined in clause 4.2.1.2.1 in TS 37.213 [14] 0 3 19
Type2A-ULChannelAccess defined in clause 4.2.1.2.1 in TS 37.213 [14] 0 4 20
Type2A-ULChannelAccess defined in clause 4.2.1.2.1 in TS 37.213 [14] 1 1 21
Type2A-ULChannelAccess defined in clause 4.2.1.2.1 in TS 37.213 [14] 1 2 22
Type2A-ULChannelAccess defined in clause 4.2.1.2.1 in TS 37.213 [14] 1 3 23
Type2A-ULChannelAccess defined in clause 4.2.1.2.1 in TS 37.213 [14] 1 4 24
Type2A-ULChannelAccess defined in clause 4.2.1.2.1 in TS 37.213 [14] 3 1 25
Type2A-ULChannelAccess defined in clause 4.2.1.2.1 in TS 37.213 [14] 3 2 26
Type2A-ULChannelAccess defined in clause 4.2.1.2.1 in TS 37.213 [14] 3 3 27
Type2A-ULChannelAccess defined in clause 4.2.1.2.1 in TS 37.213 [14] 3 4 28
Type1-ULChannelAccess defined in clause 4.2.1.1 in TS 37.213 [14] 0 1 29
Type1-ULChannelAccess defined in clause 4.2.1.1 in TS 37.213 [14] 0 2 30
Type1-ULChannelAccess defined in clause 4.2.1.1 in TS 37.213 [14] 0 3 31
Type1-ULChannelAccess defined in clause 4.2.1.1 in TS 37.213 [14] 0 4 32
Type1-ULChannelAccess defined in clause 4.2.1.1 in TS 37.213 [14] 1 1 33
Type1-ULChannelAccess defined in clause 4.2.1.1 in TS 37.213 [14] 1 2 34
Type1-ULChannelAccess defined in clause 4.2.1.1 in TS 37.213 [14] 1 3 35
Type1-ULChannelAccess defined in clause 4.2.1.1 in TS 37.213 [14] 1 4 36
Type1-ULChannelAccess defined in clause 4.2.1.1 in TS 37.213 [14] 2 1 37
Type1-ULChannelAccess defined in clause 4.2.1.1 in TS 37.213 [14] 2 2 38
Type1-ULChannelAccess defined in clause 4.2.1.1 in TS 37.213 [14] 2 3 39
Type1-ULChannelAccess defined in clause 4.2.1.1 in TS 37.213 [14] 2 4 40
Type1-ULChannelAccess defined in clause 4.2.1.1 in TS 37.213 [14] 3 1 41
Type1-ULChannelAccess defined in clause 4.2.1.1 in TS 37.213 [14] 3 2 42
Type1-ULChannelAccess defined in clause 4.2.1.1 in TS 37.213 [14] 3 3 43
Type1-ULChannelAccess defined in clause 4.2.1.1 in TS 37.213 [14] 3 4
Table 7.3.1.1.2-35A: Allowed entries for DCI format 0_1 and DCI format 0_2,
configured by higher layer parameter _ul-AccessConfigListDCI-0-1 in frequency
range 2-2_
**Entry index** **Channel Access Type**
* * *
0 Type 1 channel access defined in clause 4.4.1 of TS 37.213 [14] 1 Type 2
channel access defined in clause 4.4.2 of TS 37.213 [14] 2 Type 3 channel
access defined in clause 4.4.3 of TS 37.213 [14]
Table 7.3.1.1.2-36: SRS resource set indication
+----------------------------------+----------------------------------+ | Bit field mapped to index | SRS resource set indication | +==================================+==================================+ | 0 | SRS resource indicator field and | | | Precoding information and number | | | of layers field are associated | | | with the first SRS resource set; | | | | | | Second SRS resource indicator | | | field and Second Precoding | | | information field are reserved; | | | | | | If there are two indicated | | | joint/UL TCI states, the first | | | indicated joint/UL TCI state is | | | applied to the corresponding | | | PUSCH transmission occasions. | +----------------------------------+----------------------------------+ | 1 | SRS resource indicator field and | | | Precoding information and number | | | of layers field are associated | | | with the second SRS resource | | | set; | | | | | | Second SRS resource indicator | | | field and Second Precoding | | | information field are reserved; | | | | | | If there are two indicated | | | joint/UL TCI states, the second | | | indicated joint/UL TCI state is | | | applied to the corresponding | | | PUSCH transmission occasions. | +----------------------------------+----------------------------------+ | 2 | SRS resource indicator field and | | | Precoding information and number | | | of layers field are associated | | | with the first SRS resource set; | | | | | | Second SRS resource indicator | | | field and Second Precoding | | | information field are associated | | | with the second SRS resource | | | set; | | | | | | If there are two indicated | | | joint/UL TCI states, the first | | | indicated joint/UL TCI state is | | | applied to the PUSCH | | | transmission occasions/antenna | | | ports associated with the first | | | SRS resource set, and the second | | | indicated joint/UL TCI state is | | | applied to the PUSCH | | | transmission occasions/antenna | | | ports associated with the second | | | SRS resource set. | +----------------------------------+----------------------------------+ | 3 | SRS resource indicator field and | | | Precoding information and number | | | of layers field are associated | | | with the first SRS resource set; | | | | | | Second SRS resource indicator | | | field and Second Precoding | | | information field are associated | | | with the second SRS resource | | | set; | | | | | | If there are two indicated | | | joint/UL TCI states, the first | | | indicated joint/UL TCI state is | | | applied to the PUSCH | | | transmission occasions | | | associated with the first SRS | | | resource set, and the second | | | indicated 3UL TCI state is | | | applied to the PUSCH | | | transmission occasions | | | associated with the second SRS | | | resource set. | | | | | | If _multipanelScheme_ is | | | configured, this row is | | | reserved.. | +----------------------------------+----------------------------------+ | NOTE 1: The first and the second | | | SRS resource sets are | | | respectively the ones with lower | | | and higher _srs-ResourceSetId_ | | | of the two SRS resources sets | | | configured by higher layer | | | parameter | | | _srs-ResourceSetToAddModList_ or | | | _srs- | | | ResourceSetToAddModListDCI-0-2_ , | | | and associated with the higher | | | layer parameter _usage_ of value | | | \'_nonCodeBook_ \' if | | | _txConfig_ =_nonCodebook_ or | | | \'_codebook_ \' if | | | _txConfig_ =_codebook_. When only | | | one SRS resource set is | | | configured by higher layer | | | parameter | | | _srs-ResourceSetToAddModList_ or | | | _srs- | | | ResourceSetToAddModListDCI-0-2_ , | | | and associated with the higher | | | layer parameter usage of value | | | \'_codebook_ \' or | | | \'_nonCodeBook_ \' respectively, | | | the first SRS resource set is | | | the SRS resource set. The | | | association of the first and | | | second SRS resource sets to | | | PUSCH repetitions for each bit | | | field index value is as defined | | | in Clause 6.1.2.1 of TS 38.214 | | | [6]. | | | | | | NOTE 2: For DCI format 0_2, the | | | first and second SRS resource | | | sets configured by higher layer | | | parameter | | | _srs | | | -ResourceSetToAddModListDCI-0-2_ | | | are composed of the first | | | $N_{\text{SRS},\ 0_ 2}$ SRS | | | resources _together with other | | | configurations in the first and | | | second SRS resource sets_ | | | configured by higher layer | | | parameter | | | _srs-ResourceSetToAddModList_ , | | | if any, and associated with the | | | higher layer parameter _usage_ | | | of value \'_codebook_ \' or | | | \'_nonCodeBook_ \', respectively, | | | except for the higher layer | | | parameters | | | _\'srs-ResourceSetId\' and | | | \'srs-ResourceIdList\'._ | | +----------------------------------+----------------------------------+
Table 7.3.1.1.2-37: SRS offset indicator
+----------+----------+----------+----------+----------+----------+ | Bit | A | Bit | A | Bit | A | | field | vailable | field | vailable | field | vailable | | mapped | slot | mapped | slot | mapped | slot | | to index | offset, | to index | offset, | to index | offset, | | | K=2 | | K=3 | | K=4 | +==========+==========+==========+==========+==========+==========+ | 0 | The | 0 | The | 0 | The | | | 1^st^ | | 1^st^ | | 1^st^ | | | entry in | | entry in | | entry in | | | _a | |_ a | | _a | | | vailable | | vailable | | vailable | | | SlotOffs | | SlotOffs | | SlotOffs | | | etList_ , | | etList _, | | etList_ , | | | if | | if | | if | | | co | | co | | co | | | nfigured | | nfigured | | nfigured | | | for the | | for the | | for the | | | a | | a | | a | | | periodic | | periodic | | periodic | | | SRS | | SRS | | SRS | | | resource | | resource | | resource | | | set; | | set; | | set; | | | | | | | | | | 0, | | 0, | | 0, | | | o | | o | | o | | | therwise | | therwise | | therwise | +----------+----------+----------+----------+----------+----------+ | 1 | The | 1 | The | 1 | The | | | 2^nd^ | | 2^nd^ | | 2^nd^ | | | entry in | | entry in | | entry in | | | _a | |_ a | | _a | | | vailable | | vailable | | vailable | | | SlotOffs | | SlotOffs | | SlotOffs | | | etList_ , | | etList _, | | etList_ , | | | if | | if | | if | | | co | | co | | co | | | nfigured | | nfigured | | nfigured | | | for the | | for the | | for the | | | a | | a | | a | | | periodic | | periodic | | periodic | | | SRS | | SRS | | SRS | | | resource | | resource | | resource | | | set; | | set; | | set; | | | | | | | | | | 0, | | 0, | | 0, | | | o | | o | | o | | | therwise | | therwise | | therwise | +----------+----------+----------+----------+----------+----------+ | | | 2 | The | 2 | The | | | | | 3^rd^ | | 3^rd^ | | | | | entry in | | entry in | | | | | _a | |_ a | | | | | vailable | | vailable | | | | | SlotOffs | | SlotOffs | | | | | etList _, | | etList_ , | | | | | if | | if | | | | | co | | co | | | | | nfigured | | nfigured | | | | | for the | | for the | | | | | a | | a | | | | | periodic | | periodic | | | | | SRS | | SRS | | | | | resource | | resource | | | | | set; | | set; | | | | | | | | | | | | 0, | | 0, | | | | | o | | o | | | | | therwise | | therwise | +----------+----------+----------+----------+----------+----------+ | | | 3 | Reserved | 3 | The | | | | | | | 4^th^ | | | | | | | entry in | | | | | | | _a | | | | | | | vailable | | | | | | | SlotOffs | | | | | | | etList_ , | | | | | | | if | | | | | | | co | | | | | | | nfigured | | | | | | | for the | | | | | | | a | | | | | | | periodic | | | | | | | SRS | | | | | | | resource | | | | | | | set; | | | | | | | | | | | | | | 0, | | | | | | | o | | | | | | | therwise | +----------+----------+----------+----------+----------+----------+
Table 7.3.1.1.2-38: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =1,\ _enhanced-dmrs-Type_ is configured, _maxLength_ =1, rank = 1
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
* * *
0 1 0 1 1 1 2 2 0 3 2 1 4 2 2 5 2 3 6 1 8 7 1 9 8 2 8 9 2 9 10 2 10 11 2 11
12-15 Reserved Reserved
Table 7.3.1.1.2-39: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =1,\ _enhanced-dmrs-Type_ is configured, _maxLength_ =1, rank = 2
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
* * *
0 1 0,1 1 2 0,1 2 2 2,3 3 2 0,2 4 1 8,9 5 2 8,9 6 2 10,11 7 2 9,11 8-15
Reserved Reserved
Table 7.3.1.1.2-40: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =1, _multipanelScheme_ is not configured to _sdmScheme_ , _enhanced-
dmrs-Type_ is configured, _maxLength_ =1, rank = 3
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
* * *
0 2 0-2 1 2 8-10 2 1 0,1,8 3 2 0,1,8 4 2 2,3,10 5-15 Reserved Reserved
Table 7.3.1.1.2-40A: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =1, _multipanelScheme_ is configured to _sdmScheme_ , _enhanced-dmrs-
Type_ is configured, _maxLength_ =1, rank = 3
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
* * *
0 2 0-2 1 2 8-10 2 1 0,1,8 3 2 0,1,8 4 2 2,3,10 5 2 0,2,3 6-15 Reserved
Reserved
Table 7.3.1.1.2-41: Antenna port(s), transform precoder is disabled, dmrs-
Type=1,\ enhanced-dmrs-Type is configured, maxLength=1, rank = 4
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
* * *
0 2 0-3 1 2 8-11 2 1 0,1,8,9 3 2 0,1,8,9 4 2 2,3,10,11 5-15 Reserved Reserved
Table 7.3.1.1.2-42: Antenna port(s), transform precoder is disabled, dmrs-
Type=1,\ enhanced-dmrs-Type is configured, maxLength=1, rank = 5
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
* * *
0 2 0,1,2,3,8 1-15 Reserved Reserved
Table 7.3.1.1.2-43: Antenna port(s), transform precoder is disabled, dmrs-
Type=1,\ enhanced-dmrs-Type is configured, maxLength=1, rank = 6
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
* * *
0 2 0,1,2,3,8,10 1-15 Reserved Reserved
Table 7.3.1.1.2-44: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =1,\ _enhanced-dmrs-Type_ is configured, _maxLength_ =1, rank = 7
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
* * *
0 2 0,1,2,3,8,9,10 1-15 Reserved Reserved
Table 7.3.1.1.2-45: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =1,\ _enhanced-dmrs-Type_ is configured, _maxLength_ =1, rank = 8
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
* * *
0 2 0,1,2,3,8,9,10,11 1-15 Reserved Reserved
Table 7.3.1.1.2-46: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =1,\ _enhanced-dmrs-Type_ is configured, _maxLength_ =2, rank = 1
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 1 0 1 1 1 1 1 2 2 0 1 3 2 1 1 4 2 2 1 5 2 3 1 6 2 0 2 7 2 1 2 8 2 2 2 9 2 3
2 10 2 4 2 11 2 5 2 12 2 6 2 13 2 7 2 14 1 8 1 15 1 9 1 16 2 8 1 17 2 9 1 18 2
10 1 19 2 11 1 20 2 8 2 21 2 9 2 22 2 10 2 23 2 11 2 24 2 12 2 25 2 13 2 26 2
14 2 27 2 15 2 28 1 0 2 29 1 1 2 30 1 8 2 31 1 9 2
Table 7.3.1.1.2-47: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =1,\ _enhanced-dmrs-Type_ is configured, _maxLength_ =2, rank = 2
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 1 0,1 1 1 2 0,1 1 2 2 2,3 1 3 2 0,2 1 4 2 0,1 2 5 2 2,3 2 6 2 4,5 2 7 2 6,7
2 8 2 0,4 2 9 2 2,6 2 10 1 8,9 1 11 2 8,9 1 12 2 10,11 1 13 2 8,9 2 14 2 10,11
2 15 2 12,13 2 16 2 14,15 2 17 2 9,11 1 18 1 0,1 2 19 1 8,9 2 20 1 4,5 2 21 1
12,13 2 22-31 Reserved Reserved Reserved
Table 7.3.1.1.2-48: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =1, _multipanelScheme_ is not configured to _sdmScheme_ , _enhanced-
dmrs-Type_ is configured, _maxLength_ =2, rank = 3
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 2 0-2 1 1 2 0,1,4 2 2 2 2,3,6 2 3 1 0,1,8 1 4 2 0,1,8 1 5 2 2,3,10 1 6 2
5,8,9 2 7 2 7,10,11 2 8 2 7,12,13 2 9-31 Reserved Reserved Reserved
Table 7.3.1.1.2-48A: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =1, _multipanelScheme_ is configured to _sdmScheme_ , _enhanced-dmrs-
Type_ is configured, _maxLength_ =2, rank = 3
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 2 0-2 1 1 2 0,1,4 2 2 2 2,3,6 2 3 1 0,1,8 1 4 2 0,1,8 1 5 2 2,3,10 1 6 2
5,8,9 2 7 2 7,10,11 2 8 2 7,12,13 2 9 2 0,2,3 1 10-31 Reserved Reserved
Reserved
Table 7.3.1.1.2-49: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =1,\ _enhanced-dmrs-Type_ is configured, _maxLength_ =2, rank = 4
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 2 0-3 1 1 2 0,1,4,5 2 2 2 2,3,6,7 2 3 2 0,2,4,6 2 4 2 8,9,12,13 2 5 2
10,11,14,15 2 6 1 0,1,8,9 1 7 2 0,1,8,9 1 8 2 2,3,10,11 1 9-31 Reserved
Reserved Reserved
Table 7.3.1.1.2-50: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =1,\ _enhanced-dmrs-Type_ is configured, _maxLength_ =2, rank = 5
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 2 0-4 2 1 2 0,1,2,3,8 1 2 1 0,1,4,5,8 2 3 2 0,1,4,5,8 2 4-31 Reserved
Reserved Reserved
Table 7.3.1.1.2-51: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =1,\ _enhanced-dmrs-Type_ is configured, _maxLength_ =2, rank = 6
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 2 0,1,2,3,4,6 2 1 2 0,1,2,3,8,10 1 2 1 0,1,4,5,8,12 2 3 2 0,1,4,5,8,12 2
4-31 Reserved Reserved Reserved
Table 7.3.1.1.2-52: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =1,\ _enhanced-dmrs-Type_ is configured, _maxLength_ =2, rank = 7
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 2 0,1,2,3,4,5,6 2 1 2 0,1,2,3,8,9,10 1 2 1 0,1,4,5,8,9,12 2 3 2
0,1,4,5,8,9,12 2 4-31 Reserved Reserved Reserved
Table 7.3.1.1.2-53: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =1,\ _enhanced-dmrs-Type_ is configured, _maxLength_ =2, rank = 8
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 2 0,1,2,3,4,5,6,7 2 1 2 0,1,2,3,8,9,10,11 1 2 1 0,1,4,5,8,9,12,13 2 3 2
0,1,4,5,8,9,12,13 2 4-31 Reserved Reserved Reserved
Table 7.3.1.1.2-54: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2,\ _enhanced-dmrs-Type_ is configured, _maxLength_ =1, rank = 1
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
* * *
0 1 0 1 1 1 2 2 0 3 2 1 4 2 2 5 2 3 6 3 0 7 3 1 8 3 2 9 3 3 10 3 4 11 3 5 12 1
12 13 1 13 14 2 12 15 2 13 16 2 14 17 2 15 18 3 12 19 3 13 20 3 14 21 3 15 22
3 16 23 3 17 24-31 Reserved Reserved
Table 7.3.1.1.2-55: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2,\ _enhanced-dmrs-Type_ is configured, _maxLength_ =1, rank = 2
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
* * *
0 1 0,1 1 2 0,1 2 2 2,3 3 3 0,1 4 3 2,3 5 3 4,5 6 2 0,2 7 1 12,13 8 2 12,13 9
2 14,15 10 3 12,13 11 3 14,15 12 3 16,17 13 3 13,15 14 2 13,15 15-31 Reserved
Reserved
Table 7.3.1.1.2-56: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2, _multipanelScheme_ is not configured to _sdmScheme_ , _enhanced-
dmrs-Type_ is configured, _maxLength_ =1, rank = 3
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
* * *
0 2 0-2 1 3 0-2 2 3 3-5 3 1 0,1,12 4 2 0,1,12 5 2 2,3,14 6 3 0,1,12 7 3 2,3,14
8 3 4,5,16 9 3 13,15,17 10-31 Reserved Reserved
Table 7.3.1.1.2-56A: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2, _multipanelScheme_ is configured to _sdmScheme_ , _enhanced-dmrs-
Type_ is configured, _maxLength_ =1, rank = 3
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
* * *
0 2 0-2 1 3 0-2 2 3 3-5 3 1 0,1,12 4 2 0,1,12 5 2 2,3,14 6 3 0,1,12 7 3 2,3,14
8 3 4,5,16 9 3 13,15,17 10 2 0,2,3 11-31 Reserved Reserved
Table 7.3.1.1.2-57: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2,\ _enhanced-dmrs-Type_ is configured, _maxLength_ =1, rank = 4
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
* * *
0 2 0-3 1 3 0-3 2 1 0,1,12,13 3 2 0,1,12,13 4 2 2,3,14,15 5 3 0,1,12,13 6 3
2,3,14,15 7 3 4,5,16,17 8-31 Reserved Reserved
Table 7.3.1.1.2-58: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2,\ _enhanced-dmrs-Type_ is configured, _maxLength_ =1, rank = 5
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
* * *
0 3 0-4 1 2 0,1,2,3,12 2 3 0,1,2,3,12 3-31 Reserved Reserved
Table 7.3.1.1.2-59: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2,\ _enhanced-dmrs-Type_ is configured, _maxLength_ =1, rank = 6
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
* * *
0 3 0-5 1 2 0,1,2,3,12,14 2 3 0,1,2,3,12,14 3-31 Reserved Reserved
Table 7.3.1.1.2-60: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2,\ _enhanced-dmrs-Type_ is configured, _maxLength_ =1, rank = 7
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
* * *
0 2 0-3,12-14 1 3 0-3,12-14 2-31 Reserved Reserved
Table 7.3.1.1.2-61: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2,\ _enhanced-dmrs-Type_ is configured, _maxLength_ =1, rank = 8
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
* * *
0 2 0-3,12-15 1 3 0-3,12-15 2-31 Reserved Reserved
Table 7.3.1.1.2-62: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2,\ _enhanced-dmrs-Type_ is configured, _maxLength_ =2, rank = 1
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 1 0 1 1 1 1 1 2 2 0 1 3 2 1 1 4 2 2 1 5 2 3 1 6 3 0 1 7 3 1 1 8 3 2 1 9 3 3
1 10 3 4 1 11 3 5 1 12 3 0 2 13 3 1 2 14 3 2 2 15 3 3 2 16 3 4 2 17 3 5 2 18 3
6 2 19 3 7 2 20 3 8 2 21 3 9 2 22 3 10 2 23 3 11 2 24 1 0 2 25 1 1 2 26 1 6 2
27 1 7 2 28 1 12 1 29 1 13 1 30 2 12 1 31 2 13 1 32 2 14 1 33 2 15 1 34 3 12 1
35 3 13 1 36 3 14 1 37 3 15 1 38 3 16 1 39 3 17 1 40 3 12 2 41 3 13 2 42 3 14
2 43 3 15 2 44 3 16 2 45 3 17 2 46 3 18 2 47 3 19 2 48 3 20 2 49 3 21 2 50 3
22 2 51 3 23 2 52 1 12 2 53 1 13 2 54 1 18 2 55 1 19 2 56-63 Reserved Reserved
Reserved
Table 7.3.1.1.2-63: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2,\ _enhanced-dmrs-Type_ is configured, _maxLength_ =2, rank = 2
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 1 0,1 1 1 2 0,1 1 2 2 2,3 1 3 3 0,1 1 4 3 2,3 1 5 3 4,5 1 6 2 0,2 1 7 3 0,1
2 8 3 2,3 2 9 3 4,5 2 10 3 6,7 2 11 3 8,9 2 12 3 10,11 2 13 1 0,1 2 14 1 6,7 2
15 2 0,1 2 16 2 2,3 2 17 2 6,7 2 18 2 8,9 2 19 1 12,13 1 20 2 12,13 1 21 2
14,15 1 22 3 12,13 1 23 3 14,15 1 24 3 16,17 1 25 3 12,13 2 26 3 14,15 2 27 3
16,17 2 28 3 18,19 2 29 3 20,21 2 30 3 22,23 2 31 1 12,13 2 32 1 18,19 2 33 2
12,13 2 34 2 14,15 2 35 2 18,19 2 36 2 20,21 2 37 3 13,15 1 38 2 13,15 1 39-63
Reserved Reserved Reserved
Table 7.3.1.1.2-64: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2, _multipanelScheme_ is not configured to _sdmScheme_ , _enhanced-
dmrs-Type_ is configured, _maxLength_ =2, rank = 3
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 2 0-2 1 1 3 0-2 1 2 3 3-5 1 3 3 0,1,6 2 4 3 2,3,8 2 5 3 4,5,10 2 6 1 0,1,12
1 7 2 0,1,12 1 8 2 2,3,14 1 9 3 0,1,12 1 10 3 2,3,14 1 11 3 4,5,16 1 12 3
7,12,13 2 13 3 9,14,15 2 14 3 11,16,17 2 15 3 9,18,19 2 16 3 18,19,20 2 17 3
21,22,23 2 18 3 13,15,17 1 19-63 Reserved Reserved Reserved
Table 7.3.1.1.2-64A: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2, _multipanelScheme_ is configured to _sdmScheme_ , _enhanced-dmrs-
Type_ is configured, _maxLength_ =2, rank = 3
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 2 0-2 1 1 3 0-2 1 2 3 3-5 1 3 3 0,1,6 2 4 3 2,3,8 2 5 3 4,5,10 2 6 1 0,1,12
1 7 2 0,1,12 1 8 2 2,3,14 1 9 3 0,1,12 1 10 3 2,3,14 1 11 3 4,5,16 1 12 3
7,12,13 2 13 3 9,14,15 2 14 3 11,16,17 2 15 3 9,18,19 2 16 3 18,19,20 2 17 3
21,22,23 2 18 3 13,15,17 1 19 2 0,2,3 1 20-63 Reserved Reserved Reserved
Table 7.3.1.1.2-65: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2,\ _enhanced-dmrs-Type_ is configured, _maxLength_ =2, rank = 4
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 2 0-3 1 1 3 0-3 1 2 3 0,1,6,7 2 3 3 2,3,8,9 2 4 3 4,5,10,11 2 5 3
12,13,18,19 2 6 3 14,15,20,21 2 7 3 16,17,22,23 2 8 1 0,1,12,13 1 9 2
0,1,12,13 1 10 2 2,3,14,15 1 11 3 0,1,12,13 1 12 3 2,3,14,15 1 13 3 4,5,16,17
1 14-63 Reserved Reserved Reserved
Table 7.3.1.1.2-66: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2,\ _enhanced-dmrs-Type_ is configured, _maxLength_ =2, rank = 5
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 3 0-4 1 1 2 0,1,2,3,6 2 2 2 0,1,2,3,12 1 3 3 0,1,2,3,12 1 4 1 0,1,6,7,12 2 5
2 0,1,6,7,12 2 6 3 0,1,6,7,12 2 7-63 Reserved Reserved Reserved
Table 7.3.1.1.2-67: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2,\ _enhanced-dmrs-Type_ is configured, _maxLength_ =2, rank = 6
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 3 0-5 1 1 2 0,1,2,3,6,8 2 2 2 0-3,12,14 1 3 3 0-3,12,14 1 4 1 0,1,6,7,12,18
2 5 2 0,1,6,7,12,18 2 6 3 0,1,6,7,12,18 2 7-63 Reserved Reserved Reserved
Table 7.3.1.1.2-68: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2,\ _enhanced-dmrs-Type_ is configured, _maxLength_ =2, rank = 7
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 2 0,1,2,3,6,7,8 2 1 2 0-3,12-14 1 2 3 0-3,12-14 1 3 1 0,1,6,7,12,13,18 2 4 2
0,1,6,7,12,13,18 2 5 3 0,1,6,7,12,13,18 2 6-63 Reserved Reserved Reserved
Table 7.3.1.1.2-69: Antenna port(s), transform precoder is disabled, _dmrs-
Type_ =2,\ _enhanced-dmrs-Type_ is configured, _maxLength_ =2, rank = 8
**Value** **Number of DMRS CDM group(s) without data** **DMRS port(s)**
**Number of front-load symbols**
* * *
0 2 0,1,2,3,6,7,8,9 2 1 2 0-3,12-15 1 2 3 0-3,12-15 1 3 1 0,1,6,7,12,13,18,19
2 4 2 0,1,6,7,12,13,18,19 2 5 3 0,1,6,7,12,13,18,19 2 6-63 Reserved Reserved
Reserved
##### 7.3.1.1.3 Format 0_2
DCI format 0_2 is used for the scheduling of PUSCH in one cell.
The following information is transmitted by means of the DCI format 0_2 with
CRC scrambled by C-RNTI or CS-RNTI or SP-CSI-RNTI or MCS-C-RNTI:
\- Identifier for DCI formats - 1 bit
\- The value of this bit field is always set to 0, indicating an UL DCI format
\- Carrier indicator - 0, 1, 2 or 3 bits determined by higher layer parameter
_carrierIndicatorSizeDCI-0-2_ , as defined in Clause 10.1 of [5, TS38.213].
This field is reserved when this format is carried by PDCCH on the primary
cell and the UE is configured for scheduling on the primary cell from an
SCell, with the same number of bits as that in this format carried by PDCCH on
the SCell for scheduling on the primary cell.
\- UL/SUL indicator - 0 bit for UEs not configured with _supplementaryUplink_
in _ServingCellConfig_ in the cell or UEs configured with
_supplementaryUplink_ in _ServingCellConfig_ in the cell but only one carrier
in the cell is configured for PUSCH transmission; otherwise, 1 bit as defined
in Table 7.3.1.1.1-1.
\- Bandwidth part indicator - 0, 1 or 2 bits as determined by the number of UL
BWPs $n_{BWP,\ RRC}$ configured by higher layers, excluding the initial UL
bandwidth part. The bitwidth for this field is determined as $\left\lceil
\log_{2}{(n_{\text{BWP}})} \right\rceil\ $bits, where
\- $n_{\text{BWP}} = n_{BWP,\ RRC} + 1\ $if $n_{BWP,\ RRC} \leq 3$, in which
case the bandwidth part indicator is equivalent to the ascending order of the
higher layer parameter _BWP-Id_ ;
\- otherwise $n_{\text{BWP}} = n_{BWP,\ RRC}$, in which case the bandwidth
part indicator is defined in Table 7.3.1.1.2-1;
If a UE does not support active BWP change via DCI, the UE ignores this bit
field.
\- Frequency domain resource assignment - number of bits determined by the
following:
\- $N_{\text{RBG}}$ bits if only resource allocation type 0 is configured,
where $N_{\text{RBG}}$ is defined in Clause 6.1.2.2.1 of [6, TS 38.214]
\- $\left\lceil \log_{2}\left( N_{RBG,\ K1}\left( N_{RBG,\ K1} + 1 \right)/2
\right) \right\rceil$ bits if only resource allocation type 1 is configured,
or $\max\left( \ \left\lceil \log_{2}\left( N_{RBG,\ K1}\left( N_{RBG,\ K1} +
1 \right)/2 \right) \right\rceil,\ N_{\text{RBG}} \right) + 1$ bits if
_resourceAllocationDCI-0-2-r16_ is configured as \'_dynamicSwitch\'_ , where
$N_{RBG,\ K1} = \left\lceil \left( N_{\text{RB}}^{UL,\ BWP} + \left( N_{UL,\
BWP}^{\text{start}}\text{mod}{K1} \right) \right)/K1 \right\rceil,$
$N_{\text{RB}}^{UL,\ BWP}$ is the size of the active UL bandwidth part,
$N_{UL,\ BWP}^{\text{start}}$ is defined as in clause 4.4.4.4 of [4, TS
38.211] and $K1$ is given by higher layer parameter
_resourceAllocationType1GranularityDCI-0-2._ If the higher layer parameter
_resourceAllocationType1GranularityDCI-0-2_ is not configured, $K1$ is equal
to 1.
\- If _resourceAllocationDCI-0-2-r16_ is configured as \'_dynamicSwitch\'_ ,
the MSB bit is used to indicate resource allocation type 0 or resource
allocation type 1, where the bit value of 0 indicates resource allocation type
0 and the bit value of 1 indicates resource allocation type 1.
\- For resource allocation type 0, the $N_{\text{RBG}}$ LSBs provide the
resource allocation as defined in Clause 6.1.2.2.1 of [6, TS 38.214].
\- For resource allocation type 1, the $\left\lceil \log_{2}\left( N_{RBG,\
K1}\left( N_{RBG,\ K1} + 1 \right)/2 \right) \right\rceil$ LSBs provide the
resource allocation as follows:
\- For PUSCH hopping with resource allocation type 1:
\- $N_{\text{UL}_\text{hop}}\ $MSB bits are used to indicate the frequency
offset according to Clause 6.3 of [6, TS 38.214], where $N_{UL_ hop} = 1$ if
the higher layer parameter _frequencyHoppingOffsetListsDCI-0-2_ contains two
offset values and $N_{UL_ hop} = 2\ $if the higher layer parameter
_frequencyHoppingOffsetListsDCI-0-2_ contains four offset values
\- $\left\lceil \log_{2}\left( N_{RBG,\ K1}\left( N_{RBG,\ K1} + 1 \right)/2
\right) \right\rceil - N_{UL_ hop}$ bits provide the frequency domain resource
allocation according to Clause 6.1.2.2.2 of [6, TS 38.214]
\- For non-PUSCH hopping with resource allocation type 1:
\- $\left\lceil \log_{2}\left( N_{\text{RBG},\ K1}\left( N_{\text{RBG},\ K1} +
1 \right)/2 \right) \right\rceil$ bits provide the frequency domain resource
allocation according to Clause 6.1.2.2.2 of [6, TS 38.214]
If \"Bandwidth part indicator\" field indicates a bandwidth part other than
the active bandwidth part and if _resourceAllocationDCI-0-2-r16_ is configured
as \'_dynamicSwitch\'_ for the indicated bandwidth part, the UE assumes
resource allocation type 0 for the indicated bandwidth part if the bitwidth of
the \"Frequency domain resource assignment\" field of the active bandwidth
part is smaller than the bitwidth of the \"Frequency domain resource
assignment\" field of the indicated bandwidth part.
\- Time domain resource assignment - 0, 1, 2, 3, 4, 5 or 6 bits as defined in
Clause 6.1.2.1 of [6, TS38.214]. The bitwidth for this field is determined as
$\left\lceil \log_{2}{(I)} \right\rceil$ bits, where _I_ is the number of
entries in the higher layer parameter _pusch-TimeDomainAllocationListDCI-0-2_
if the higher layer parameter is configured, or _I_ is the number of entries
in the higher layer parameter _PUSCH-TimeDomainResourceAllocationList_ if the
higher layer parameter _PUSCH-TimeDomainResourceAllocationList_ is configured
and the higher layer parameter _pusch-TimeDomainAllocationListDCI-0-2_ is not
configured; otherwise _I_ is the number of entries in the default table _._
\- Frequency hopping flag - 0 or 1 bit:
\- 0 bit if the higher layer parameter _frequencyHoppingDCI-0-2_ is not
configured;
\- 1 bit according to Table 7.3.1.1.1-3 otherwise, only applicable to resource
allocation type 1, as defined in Clause 6.3 of [6, TS 38.214].
\- Modulation and coding scheme -5 bits as defined in Clause 6.1.4.1 of [6, TS
38.214]
\- New data indicator - 1 bit
\- Redundancy version - 0, 1 or 2 bits determined by higher layer parameter
_numberOfBitsForRV-DCI-0-2_
\- If 0 bit is configured, _rv~id~_ to be applied is 0;
\- 1 bit according to Table 7.3.1.2.3-1;
\- 2 bits according to Table 7.3.1.1.1-2.
\- Transform precoder indicator - 0 or 1 bit
\- 1 bit if the higher layer parameter
_dynamicTransformPrecoderIndicationDCI-0-2_ is configured to \'enabled \' and
if the UE is configured to monitor DCI format 0_2 with CRC scrambled by C-RNTI
or MCS-C-RNTI, where the bit value of 0 indicates that transform precoder is
enabled and the bit value of 1 indicates that transform precoder is disabled.
\- 0 bit otherwise.
\- HARQ process number - number of bits determined by the following:
\- 5 bits determined by higher layer parameter _harq-
ProcessNumberSizeDCI-0-2-v1700_ if configured;
\- otherwise 0, 1, 2, 3 or 4 bits determined by higher layer parameter _harq-
ProcessNumberSizeDCI-0-2_
\- Downlink assignment index - 0, 1, 2 or 4 bits
\- 0 bit if the higher layer parameter _downlinkAssignmentIndexDCI-0-2_ is not
configured;
\- 1, 2, 3, 4, 5 or 6 bits otherwise,
\- 1^st^ downlink assignment index - 1 or 2 bits:
\- 1 bit for semi-static HARQ-ACK codebook for unicast and multicast if
_pdsch-HARQ-ACK-Codebook = semiStatic_ is configured for both unicast and
multicast and the higher layer parameter _fdmed-ReceptionMulticast is not
configured_ ; otherwise for semi-static HARQ-ACK codebook for unicast;
\- 2 bits for dynamic HARQ-ACK codebook for unicast.
\- 2^nd^ downlink assignment index - 0 or 2 bits
\- 2 bits for dynamic HARQ-ACK codebook with two HARQ-ACK sub-codebooks for
unicast;
\- 0 bit otherwise.
\- 3^rd^ downlink assignment index - 0, 1 or 2 bits
\- 1 bit for semi-static HARQ-ACK codebook for multicast if the higher layer
parameter _fdmed-ReceptionMulticast is configured_ ;
\- 2 bits for the dynamic HARQ-ACK codebook for multicast;
\- 0 bit otherwise.
When two HARQ-ACK codebooks are configured by _pdsch-HARQ-ACK-CodebookList_
for the same serving cell and if higher layer parameter
_priorityIndicatorDCI-0-2_ is configured, if the bit width of the 1^st^ or 2
^nd^ Downlink assignment index in DCI format 0_2 for one HARQ-ACK codebook is
not equal to that of the 1^st^ or 2 ^nd^ Downlink assignment index in DCI
format 0_2 for the other HARQ-ACK codebook, a number of most significant bits
with value set to \'0\' are inserted to smaller 1^st^ or 2 ^nd^ Downlink
assignment index until the bit width of the 1^st^ or 2 ^nd^ Downlink
assignment index in DCI format 0_2 for the two HARQ-ACK codebooks are the
same.
When two HARQ-ACK codebooks are configured by _pdsch-HARQ-ACK-
CodebookListMulticast_ for the same serving cell and if higher layer parameter
_priorityIndicatorDCI-0-2_ is configured, if the bit width of the 3^rd^
downlink assignment index in DCI format 0_2 for one HARQ-ACK codebook is not
equal to that of the 3^rd^ downlink assignment index in DCI format 0_2 for the
other HARQ-ACK codebook, a number of most significant bits with value set to
\'0\' are inserted to smaller 3^rd^ downlink assignment index until the bit
width of the 3^rd^ downlink assignment index in DCI format 0_2 for the two
HARQ-ACK codebooks are the same.
\- TPC command for scheduled PUSCH - 2 bits as defined in Clause 7.1.1 of [5,
TS38.213]
\- Second TPC command for scheduled PUSCH - 2 bits as defined in Clause 7.1.1
of [5, TS38.213] if higher layer parameter _SecondTPCFieldDCI-0-2_ is
configured; 0 bit otherwise.
\- SRS resource set indicator - 0 or 2 bits
\- 2 bits according to Table 7.3.1.1.2-36 if
\- _txConfig = nonCodeBook_ , and there are two SRS resource sets configured
by _srs-ResourceSetToAddModListDCI-0-2_ and associated with the _usage_ of
value \'_nonCodeBook_ \', and is not configured with _coresetPoolIndex_ or the
value of _coresetPoolIndex_ is the same for all CORESETs if _coresetPoolIndex_
is provided, or
\- _txConfig_ =_codebook_ , and there are two SRS resource sets configured by
_srs-ResourceSetToAddModListDCI-0-2_ and associated with _usage_ of value
\'_codebook_ \', and is not configured with _coresetPoolIndex_ or the value of
_coresetPoolIndex_ is the same for all CORESETs if _coresetPoolIndex_ is
provided;
\- 0 bit otherwise.
\- SRS resource indicator - number of bits determined by the following:$\
$_\'_
\- $\left\lceil \log_{2}\left( \sum_{k = 1}^{\min\left{ L_{\max},\ N_{SRS,0_
2} \right}}\begin{pmatrix} N_{SRS,0_ 2} \ k \ \end{pmatrix} \right)
\right\rceil$ bits according to Tables 7.3.1.1.2-28/28A/29/29B/30/30B/31/31B
if the higher layer parameter _txConfig = nonCodebook_ , where
\- $N_{\text{SRS},\ 0_ 2}$ is the number of configured SRS resources in the
SRS resource set indicated by SRS resource set indicator field if present,
\- $N_{\text{SRS}}$ is the number of configured SRS resources in the SRS
resource set associated with the _coresetPoolIndex_ value for the CORESET used
for the PDCCH carrying the DCI format 0_2, if the UE is not provided
_coresetPoolIndex_ or is provided _coresetPoolIndex_ with value 0 for the
first CORESETs, and is provided _coresetPoolIndex_ with value 1 for the second
CORESETs, and is provided _enableSTx2PofmDCI_ ,
\- otherwise $N_{\text{SRS},\ 0_ 2}$ is the number of configured SRS resources
in the SRS resource set configured by higher layer parameter _srs-
ResourceSetToAddModListDCI-0-2_ and associated with the higher layer parameter
_usage_ of value \'_nonCodeBook_ \', where the SRS resource set is composed of
_the first_ $N_{\text{SRS},\ 0_ 2}$ _SRS resources together with other
configurations in the SRS resource set, or in the SRS resource set with lower
srs-ResourceSetId of two SRS resources sets,_ configured by higher layer
parameter _srs-ResourceSetToAddModList_ , if any, and associated with the
higher layer parameter _usage_ of value \'_nonCodeBook_ \', except for the
higher layer parameters _\'srs-ResourceSetId\' and \'srs-ResourceIdList\',_
and
\- if UE supports operation with _maxMIMO-LayersDCI-0-2_ and the higher layer
parameter _maxMIMO-LayersDCI-0-2 of PUSCH-ServingCellConfig_ of the serving
cell is configured,
\- L~max~ is given by max{_maxMIMO-Layers_ DCI-0-2, maxMIMO-
LayersforSdmDCI-0-2} if maxMIMO-LayersforSdmDCI-0-2 is configured
\- L~max~ is given by max{_maxMIMO-Layers_ DCI-0-2, maxMIMO-
LayersforSfnDCI-0-2} if maxMIMO-LayersforSfnDCI-0-2 is configured
\- L~max~ is given by _maxMIMO-Layers_ DCI-0-2 _o_ therwise- otherwise,
_L~max~_ is given by the maximum number of layers for PUSCH supported by the
UE for the serving cell for non-codebook based operation.
\- $\left\lceil \log_{2}N_{\text{SRS},\ 0_ 2} \right\rceil\ $ bits according
to Tables 7.3.1.1.2-32 if the higher layer parameter _txConfig = codebook_ ,
where
\- $N_{\text{SRS},\ 0_ 2}$ is the number of configured SRS resources in the
SRS resource set indicated by SRS resource set indicator field if present,
\- $N_{\text{SRS}}$ is the number of configured SRS resources in the SRS
resource set associated with the _coresetPoolIndex_ value for the CORESET used
for the PDCCH carrying the DCI format 0_2, if the UE is not provided
_coresetPoolIndex_ or is provided _coresetPoolIndex_ with value 0 for the
first CORESETs, and is provided _coresetPoolIndex_ with value 1 for the second
CORESETs, and is provided _enableSTx2PofmDCI_ ,
\- otherwise $N_{\text{SRS},\ 0_ 2}$ is the number of configured SRS resources
in the SRS resource set configured by higher layer parameter _srs-
ResourceSetToAddModListDCI-0-2_ and associated with the higher layer parameter
_usage_ of value \'_codeBook_ \', where the SRS resource set is composed of
_the first_ $N_{\text{SRS},\ 0_ 2}$ _SRS resources together with other
configurations in the SRS resource set_ configured by higher layer parameter
_srs-ResourceSetToAddModList_ , if any, and associated with the higher layer
parameter _usage_ of value \'_codeBook_ \', except for the higher layer
parameters _\'srs-ResourceSetId\' and \'srs-ResourceIdList\'_.
When the UE is not provided _coresetPoolIndex_ or is provided
_coresetPoolIndex_ with value 0 for the first CORESETs, and is provided
_coresetPoolIndex_ with value 1 for the second CORESETs, and is provided
_enableSTx2PofmDCI_ , and there are two SRS resource sets configured by _srs-
ResourceSetToAddModListDCI-0-2_ and associated with _usage_ of value
\'_codebook_ \' or \'_nonCodeBook_ \', the first SRS resource set is
associated with _coresetPoolIndex_ value 0 and the second SRS resource set is
associated with _coresetPoolIndex_ value 1, where the first and the second SRS
resource sets are respectively the ones with lower and higher _srs-
ResourceSetId_ of the two SRS resources sets, and the first and second SRS
resource sets are composed of the first $N_{\text{SRS},\ 0_ 2}$ SRS resources
_together with other configurations in the first and second SRS resource sets_
configured by higher layer parameter _srs-ResourceSetToAddModList_ , if any,
and associated with the higher layer parameter _usage_ of value \'_codebook_
\' or \'_nonCodeBook_ \', respectively, except for the higher layer parameters
_\'srs-ResourceSetId\' and \'srs-ResourceIdList\'._
\- Second SRS resource indicator - number of bits determined by the following:
\- $\left\lceil \log_{2}{(\max_{k \in { 1,2,\ldots,min{ L_{\max},N_{SRS,0_
2}}}}\left( \frac{N_{SRS,0_ 2}}{k} \right))} \right\rceil\ $ bits according to
Tables 7.3.1.1.2-28/29A/30A/31A with the same number of layers indicated by
SRS resource indicator field if the higher layer parameter _txConfig =
nonCodebook_ , the higher layer parameter _maxMIMO-LayersforSdmDCI-0-2_ is not
configured, and SRS resource set indicator field is present, where
$N_{\text{SRS},\ 0_ 2}$ is the number of configured SRS resources in the
second SRS resource set _,_ and
\- if UE supports operation with _maxMIMO-LayersDCI-0-2_ and the higher layer
parameter _maxMIMO-LayersDCI-0-2 of PUSCH-ServingCellConfig_ of the serving
cell is configured,
\- L~max~ is given by maxMIMO-LayersforSfnDCI-0-2 if maxMIMO-
LayersforSfnDCI-0-2 is configured
\- L~max~ is given by _maxMIMO-Layers_ DCI-0-2 _o_ therwise
\- otherwise, _L~max~_ is given by the maximum number of layers for PUSCH
supported by the UE for the serving cell for non-codebook based operation.
\- $\left\lceil \log_{2}\left( \sum_{k = 1}^{\min\left{ L_{\max},\ N_{SRS,0_
2} \right}}\begin{pmatrix} N_{SRS,0_ 2} \ k \ \end{pmatrix} \right)
\right\rceil$ bits according to Tables 7.3.1.1.2-28/29 if the higher layer
parameter _txConfig = nonCodebook_ , the higher layer parameter _maxMIMO-
LayersforSdmDCI-0-2_ is configured and SRS resource set indicator field is
present, where $N_{\text{SRS},\ 0_ 2}$ is the number of configured SRS
resources in the second SRS resource set, where the second SRS resource set is
composed of _the first_ $N_{\text{SRS},\ 0_ 2}$ _SRS resources together with
other configurations in the SRS resource set, or in the SRS resource set with
higher srs-ResourceSetId of two SRS resources sets,_ configured by higher
layer parameter _srs-ResourceSetToAddModList_ , if any, and associated with
the higher layer parameter _usage_ of value \'_nonCodeBook_ \', except for the
higher layer parameters _\'srs-ResourceSetId\' and \'srs-ResourceIdList\',_
and _L~max~_ is given by _maxMIMO-LayersforSdmDCI-0-2._
\- $\left\lceil \log_{2}N_{\text{SRS},\ 0_ 2} \right\rceil\ $ bits according
to Tables 7.3.1.1.2-32 if the higher layer parameter _txConfig = codebook_ and
SRS resource set indicator field is present, where $N_{\text{SRS},\ 0_ 2}$ is
the number of configured SRS resources in the second SRS resource set.
\- 0 bit otherwise.
\- Precoding information and number of layers - number of bits determined by
the following:
\- 0 bits if the higher layer parameter _txConfig = nonCodeBook_ ;
\- 0 bits for 1 antenna port and if the higher layer parameter _txConfig =
codebook_ ;
\- 4, 5, or 6 bits according to Table 7.3.1.1.2-2 for 4 antenna ports, if
_txConfig = codebook,_ _ul-FullPowerTransmission is not configured or
configured to fullpowerMode2 or configured to fullpower,_ transform precoder
is disabled, and according to the values of higher layer parameters
_maxRankDCI-0-2 if multipanelScheme is not configured or_ max{_maxRankDCI-0-2_
, _maxRankSfnDCI-0-2_} if _multipanelScheme =_ _sfnScheme_ or
max{_maxRankDCI-0-2_ , _maxRankSdmDCI-0-2_} if _multipanelScheme =_
_sdmScheme, and codebookSubsetDCI-0-2;_
\- 4 or 5 bits according to Table 7.3.1.1.2-2A for 4 antenna ports, if
_txConfig = codebook,_ _ul-FullPowerTransmission =fullpowerMode1,_ the values
of higher layer parameters _maxRankDCI-0-2=2 if multipanelScheme is not
configured or_ max{_maxRankDCI-0-2_ , _maxRankSfnDCI-0-2_} _= 2_ if
_multipanelScheme =_ _sfnScheme or_ max{_maxRanDCI-0-2k_ ,
_maxRankSdmDCI-0-2_} _= 2_ if _multipanelScheme =_ _sdmScheme,_ transform
precoder is disabled _, and_ according to the value of higher layer parameter
_codebookSubsetDCI-0-2;_
\- 4 or 6 bits according to Table 7.3.1.1.2-2B for 4 antenna ports, if
_txConfig = codebook, ul-FullPowerTransmission =fullpowerMode1,_ the values of
higher layer parameters _maxRankDCI-0-2=3 or 4,_ transform precoder is
disabled, and according to the value of higher layer parameter
_codebookSubsetDCI-0-2_ ;
\- 2, 4, or 5 bits according to Table 7.3.1.1.2-3 for 4 antenna ports, if
_txConfig = codebook,_ _ul-FullPowerTransmission is not configured or
configured to fullpowerMode2 or configured to fullpower,_ and according to
whether transform precoder is enabled or disabled, and _maxRankDCI-0-2=1 if
multipanelScheme is not configured or_ max{_maxRankDCI-0-2_ ,
_maxRankSfnDCI-0-2_} _= 1_ if _multipanelScheme =_ _sfnScheme_ or
max{_maxRankDCI-0-2_ , _maxRankSdmDCI-0-2_} _= 1_ if _multipanelScheme =_
_sdmScheme, and codebookSubsetDCI-0-2;_
\- 3 or 4 bits according to Table 7.3.1.1.2-3A for 4 antenna ports, if
_txConfig = codebook,_ _ul-FullPowerTransmission =fullpowerMode1,
maxRankDCI-0-2=1 if multipanelScheme is not configured or_
max{_maxRankDCI-0-2_ , _maxRankSfnDCI-0-2_} _= 1_ if _multipanelScheme =_
_sfnScheme or_ max{_maxRankDCI-0-2_ , _maxRankSdmDCI-0-2_} _= 1_ if
_multipanelScheme =_ _sdmScheme,_ and according to whether transform precoder
is enabled or disabled, and the value of higher layer parameter
_codebookSubsetDCI-0-2_ ;
_\- 2 or 4 bits according to Table7.3.1.1.2-4 for 2 antenna ports,_ if
_txConfig = codebook,_ _ul-FullPowerTransmission is not configured or
configured to fullpowerMode2 or configured to fullpower,_ transform precoder
is disabled, and according to the values of higher layer parameters
_maxRankDCI-0-2 if multipanelScheme is not configured or_ max{_maxRankDCI-0-2_
, _maxRankSfnDCI-0-2_} if _multipanelScheme =_ _sfnScheme_ or
max{_maxRankDCI-0-2_ , _maxRankSdmDCI-0-2_} if _multipanelScheme =_
_sdmScheme_ , _and codebookSubsetDCI-0-2;_
_\- 2_ bits according to Table 7.3.1.1.2-4A for 2 antenna ports, if _txConfig
= codebook,_ _ul-FullPowerTransmission =fullpowerMode1,_ transform precoder is
disabled, the _maxRankDCI-0-2=2 if multipanelScheme is not configured or_
max{_maxRankDCI-0-2_ , _maxRankSfnDCI-0-2_} _= 2_ if _multipanelScheme =_
_sfnScheme or_ max{_maxRankDCI-0-2_ , _maxRankSdmDCI-0-2_} _= 2_ if
_multipanelScheme =_ _sdmScheme, and codebookSubsetDCI-0-2=nonCoherent;_
_\- 1 or 3 bits according to Table7.3.1.1.2-5 for 2 antenna ports,_ if
_txConfig = codebook,_ _ul-FullPowerTransmission is not configured or
configured to fullpowerMode2 or configured to fullpower,_ and according to
whether transform precoder is enabled or disabled, and _maxRankDCI-0-2=1 if
multipanelScheme is not configured or_ max{_maxRankDCI-0-2_ ,
_maxRankSfnDCI-0-2_}_=1_ if _multipanelScheme =_ _sfnScheme_ or
max{_maxRankDCI-0-2_ , _maxRankSdmDCI-0-2_}_=1_ if _multipanelScheme =_
_sdmScheme_ , _and codebookSubsetDCI-0-2_ ;
_-_ 2 bits according to Table 7.3.1.1.2-5A for 2 antenna ports, if txConfig =
codebook, _ul-FullPowerTransmission =fullpowerMode1,_ maxRankDCI-0-2 _=1 if
multipanelScheme is not configured or_ max{_maxRank_ DCI-0-2,
maxRankSfnDCI-0-2} _= 1_ if _multipanelScheme =_ sfnScheme _or_ max{_maxRank_
DCI-0-2, maxRankSdmDCI-0-2} _= 1_ if _multipanelScheme =_ sdmScheme _,_ and
according to whether transform precoder is enabled or disabled, and the value
of higher layer parameter codebookSubsetDCI-0-2.
_\- 7 bits according to Table 7.3.1.1.2-5D for 8 antenna ports by replacing
maxRank with maxRank_ DCI-0-2 _, if CodebookType=Codebook1, transform precoder
is disabled, maxRank_ DCI-0-2 _=4, and according to maxRank_ DCI-0-2;
_\- 4, 6 or 7 bits according to Table 7.3.1.1.2-5E for 8 antenna ports by
replacing maxRank with maxRank_ DCI-0-2 _, if CodebookType=Codebook1,
transform precoder is enabled or maxRank_ DCI-0-2 _=1, 2 or 3 if transform
precoder is disabled, and according to transform precoder and maxRank_ DCI-0-2
_;_
_\- 6 or 7 or 8 bits according to Table 7.3.1.1.2-5G for 8 antenna ports by
replacing maxRank with maxRank_ DCI-0-2 _, if CodebookType=Codebook4,
transform precoder is disabled, maxRank_ DCI-0-2 _=2, 3 or 4, ul-
FullPowerTransmission is not configured or configured to fullpowerMode2 or
configured to fullpower, and according to maxRank_ DCI-0-2;
_\- 3 bits according to Table 7.3.1.1.2-5H for 8 antenna ports, if
CodebookType=Codebook4, transform precoder is enabled or maxRank=1 if
transform precoder is disabled, ul-FullPowerTransmission is not configured or
configured to fullpowerMode2 or configured to fullpower._
_\- 5, 9 or 10 bits according to Table 7.3.1.1.2-5J for 8 antenna ports, if
CodebookType=Codebook2, transform precoder is enabled or_ maxRankDCI-0-2 _=1,
2, 3 or 4 if transform precoder is disabled, ul-FullPowerTransmission is not
configured or configured to fullpowerMode2 or configured to fullpower, and
according to transform precoder and_ maxRankDCI-0-2 _;_
_\- 4, 7, 9 or 10 bits according to Table 7.3.1.1.2-5L for 8 antenna ports, if
CodebookType=Codebook3, transform precoder is enabled or_ maxRankDCI-0-2 _=1,
2, 3 or 4 if transform precoder is disabled, ul-FullPowerTransmission is not
configured or configured to fullpowerMode2 or configured to fullpower, and
according to transform precoder and_ maxRankDCI-0-2 _;_
_\- 6 or 7 or 8 bits according to Table 7.3.1.1.2-5M for 8 antenna ports, if
CodebookType=Codebook4, transform precoder is disabled,_ maxRankDCI-0-2 _=2 or
3, ul-FullPowerTransmission is configured to fullpowerMode1, and according to_
maxRankDCI-0-2;
_\- 4 bits according to Table 7.3.1.1.2-5N for 8 antenna ports, if
CodebookType=Codebook4, transform precoder is enabled or_ maxRankDCI-0-2 _=1
if transform precoder is disabled, ul-FullPowerTransmission is configured to
fullpowerMode1._
_\- 6 bits according to Table 7.3.1.1.2-5O for 8 antenna ports, if
CodebookType=Codebook2, transform precoder is enabled or_ maxRankDCI-0-2 _=1
if transform precoder is disabled, ul-FullPowerTransmission is configured to
fullpowerMode1;_
_\- 5, 7 or 9 bits according to Table 7.3.1.1.2-5P for 8 antenna ports, if
CodebookType=Codebook3, transform precoder is enabled or_ maxRankDCI-0-2 _=1,
2, or 3 if transform precoder is disabled, ul-FullPowerTransmission is
configured to fullpowerMode1, and according to transform precoder and_
maxRankDCI-0-2 _;_ For the higher layer parameter _txConfig=codebook_ , if
_ul-FullPowerTransmission_ is configured to _fullpowerMode2_ , the values of
higher layer parameters _maxRankDCI-0-2_ is configured to be larger than 2,
and at least one SRS resource with 4 antenna ports is configured in the SRS
resource set indicated by SRS resource set indicator field if present,
otherwise in an SRS resource set with usage set to \'codebook\', and an SRS
resource with 2 antenna ports is indicated via SRI in the same SRS resource
set, then Table 7.3.1.1.2-4 is used.
For the higher layer parameter _txConfig = codebook_ , if different SRS
resources with different number of antenna ports are configured, the bitwidth
is determined according to the maximum number of ports in an SRS resource
among the configured SRS resources in all SRS resource set(s) with usage set
to \'codebook\'. If the number of ports for a configured SRS resource in the
set is less than the maximum number of ports in an SRS resource among the
configured SRS resources, a number of most significant bits with value set to
\'0\' are inserted to the field.
For the higher layer parameter _txConfig = codebook_ , when the Transform
precoder indicator field is present, if the bit width of the Precoding
information and number of layers field for the case with transform precoder
enabled is not equal to that for the case with transform precoder disabled, a
number of most significant bits with value set to \'0\' are inserted to the
Precoding information and number of layers field for the case with smaller bit
width until the bit width of the Precoding information and number of layers
field for the two cases are the same.
When the UE is not provided _coresetPoolIndex_ or is provided
_coresetPoolIndex_ with value 0 for the first CORESETs, and is provided
_coresetPoolIndex_ with value 1 for the second CORESETs, and is provided
_enableSTx2PofmDCI_ , and there are two SRS resource sets configured by _srs-
ResourceSetToAddModListDCI-0-2_ and associated with _usage_ of value
\'_codebook_ \' or \'_nonCodeBook_ \', the Precoding information and number of
layers field is associated with the SRS resource set that is associated with
the _coresetPoolIndex_ value for the CORESET used for the PDCCH carrying the
DCI format 0_2.
\- Second Precoding information - number of bits determined by the following:
\- 0 bits if SRS resource set indicator field is not present;
\- 0 bits if the higher layer parameter _txConfig = nonCodeBook_ ;
\- 0 bits for 1 antenna port and if the higher layer parameter _txConfig =
codebook_ ;
\- 3, 4, or 5 bits according to Table 7.3.1.1.2-2C with the same number of
layers indicated by Precoding information and number of layers field for 4
antenna ports, if SRS resource set indicator field is present, _txConfig =
codebook,_ _ul-FullPowerTransmission is not configured or configured to
fullpowerMode2 or configured to fullpower,_ transform precoder is disabled,
and according to the values of higher layer parameters _maxRankDCI-0-2 if
multipanelScheme is not configured or maxRankSfnDCI-0-2_ if _multipanelScheme
=_ _sfnScheme, and codebookSubsetDCI-0-2;_
\- 3 or 4 bits according to Table 7.3.1.1.2-2D with the same number of layers
indicated by Precoding information and number of layers field for 4 antenna
ports, if SRS resource set indicator field is present, _txConfig = codebook,_
_ul-FullPowerTransmission =fullpowerMode1,_ the values of higher layer
parameters _maxRankDCI-0-2=2 if multipanelScheme is not configured or
maxRankSfnDCI-0-2=2_ if _multipanelScheme =_ _sfnScheme,_ transform precoder
is disabled _, and_ according to the value of higher layer parameter
_codebookSubsetDCI-0-2;_
\- 3 or 4 bits according to Table 7.3.1.1.2-2E with the same number of layers
indicated by Precoding information and number of layers field for 4 antenna
ports, if SRS resource set indicator field is present, _txConfig = codebook,
ul-FullPowerTransmission =fullpowerMode1,_ _maxRankDCI-0-2=3 or 4,_ transform
precoder is disabled, and according to the value of higher layer parameter
_codebookSubsetDCI-0-2_ ;
\- 2, 4, or 5 bits according to Table 7.3.1.1.2-3 with the same number of
layers indicated by Precoding information and number of layers field for 4
antenna ports, if _txConfig = codebook,_ _ul-FullPowerTransmission is not
configured or configured to fullpowerMode2 or configured to fullpower,_ and
according to whether transform precoder is enabled or disabled, and the values
of higher layer parameters _maxRankDCI-0-2 if multipanelScheme is not
configured or maxRankSfnDCI-0-2_ if _multipanelScheme =_ _sfnScheme and
codebookSubsetDCI-0-2;_
\- 3 or 4 bits according to Table 7.3.1.1.2-3A with the same number of layers
indicated by Precoding information and number of layers field for 4 antenna
ports, if _txConfig = codebook,_ _ul-FullPowerTransmission =fullpowerMode1,
maxRankDCI-0-2=1 if multipanelScheme is not configured or maxRankSfnDCI-0-2=1_
if _multipanelScheme =_ _sfnScheme,_ and according to whether transform
precoder is enabled or disabled, and the value of higher layer parameter
_codebookSubsetDCI-0-2_ ;
_\- 1 or 3 bits_ according to _Table7.3.1.1.2-4B_ with the same number of
layers indicated by Precoding information and number of layers field _for 2
antenna ports,_ if SRS resource set indicator field is present, _txConfig =
codebook,_ _ul-FullPowerTransmission is not configured or configured to
fullpowerMode2 or configured to fullpower,_ transform precoder is disabled,
and according to the values of higher layer parameters _maxRankDCI-0-2 if
multipanelScheme is not configured or maxRankSfnDCI-0-2_ if _multipanelScheme
=_ _sfnScheme_ , _and codebookSubsetDCI-0-2;_
_-_ 2 bits according to Table 7.3.1.1.2-4C with the same number of layers
indicated by Precoding information and number of layers field for 2 antenna
ports, if SRS resource set indicator field is present, _txConfig = codebook,_
_ul-FullPowerTransmission =fullpowerMode1,_ transform precoder is disabled,
the _maxRankDCI-0-2=2 if multipanelScheme is not configured or
maxRankSfnDCI-0-2=2_ if _multipanelScheme =_ _sfnScheme, and
codebookSubsetDCI-0-2=nonCoherent;_
_\- 1 or 3 bits according to Table7.3.1.1.2-5_ with the same number of layers
indicated by Precoding information and number of layers field _for 2 antenna
ports,_ if SRS resource set indicator field is present, _txConfig = codebook,_
_ul-FullPowerTransmission is not configured or configured to fullpowerMode2 or
configured to fullpower,_ and according to whether transform precoder is
enabled or disabled, and the values of higher layer parameters _maxRankDCI-0-2
if multipanelScheme is not configured or maxRankSfnDCI-0-2_ if
_multipanelScheme =_ _sfnScheme_ , _and codebookSubsetDCI-0-2_ ;
_-_ 2 bits according to Table 7.3.1.1.2-5A with the same number of layers
indicated by Precoding information and number of layers field for 2 antenna
ports, if SRS resource set indicator field is present, _txConfig = codebook,_
_ul-FullPowerTransmission =fullpowerMode1, maxRankDCI-0-2=1 if
multipanelScheme is not configured or maxRankSfnDCI-0-2=1_ if
_multipanelScheme =_ _sfnScheme,_ and according to whether transform precoder
is enabled or disabled, and the value of higher layer parameter
_codebookSubsetDCI-0-2_.
For the higher layer parameter _txConfig=codebook_ , if _ul-
FullPowerTransmission_ is configured to _fullpowerMode2_ , the values of
higher layer parameters _maxRankDCI-0-2_ is configured to be larger than 2,
and at least one SRS resource with 4 antenna ports is configured in the SRS
resource set indicated by SRS resource set indicator field, and an SRS
resource with 2 antenna ports is indicated via Second SRS resource indicator
field in the same SRS resource set, then Table 7.3.1.1.2-4B is used.
For the higher layer parameter _txConfig = codebook_ , if different SRS
resources with different number of antenna ports are configured, the bitwidth
is determined according to the maximum number of ports in an SRS resource
among the configured SRS resources in the second SRS resource set with usage
set to \'codebook\' as defined in Table 7.3.1.1.2-36. If the number of ports
for a configured SRS resource in the set is less than the maximum number of
ports in an SRS resource among the configured SRS resources, a number of most
significant bits with value set to \'0\' are inserted to the field.
For the higher layer parameter _txConfig = codebook_ , when the Transform
precoder indicator field is present, if the bit width of the Second Precoding
information field for the case with transform precoder enabled is not equal to
that for the case with transform precoder disabled, a number of most
significant bits with value set to \'0\' are inserted to the Second Precoding
information field for the case with smaller bit width until the bit width of
the Second Precoding information field for the two cases are the same.
\- Antenna ports - number of bits determined by the following:
\- 0 bit if higher layer parameter _antennaPortsFieldPresenceDCI-0-2_ is not
configured;
\- 2, 3, 4, 5 or 6 bits otherwise,
\- 2 bits as defined by Tables 7.3.1.1.2-6, if transform precoder is enabled,
_dmrs-Type_ =1, and _maxLength_ =1[,]{.underline} except that _dmrs-
UplinkTransformPrecoding_ and _tp-pi2BPSK_ are both configured and π/2 BPSK
modulation is used;
\- 2 bits as defined by 7.3.1.1.2-6A, if transform precoder is enabled, and
_dmrs-UplinkTransformPrecoding_ and _tp-pi2BPSK_ are both configured, π/2 BPSK
modulation is used, _dmrs-Type_ =1, and _maxLength_ =1, where n~SCID~ is the
scrambling identity for antenna ports defined in Clause 6.4.1.1.1.2, in [4,
TS38.211][;]{.underline}
\- 4 bits as defined by Tables 7.3.1.1.2-7, if transform precoder is enabled,
_dmrs-Type_ =1, and _maxLength_ =2, except that _dmrs-
UplinkTransformPrecoding_ and _tp-pi2BPSK_ are both configured and π/2 BPSK
modulation is used;
\- 4 bits as defined by Tables 7.3.1.1.2-7A, if transform precoder is enabled,
and _dmrs-UplinkTransformPrecoding_ and _tp-pi2BPSK_ are both configured, π/2
BPSK modulation is used, _dmrs-Type_ =1, and _maxLength_ =2, where _n~SCID~_
is the scrambling identity for antenna ports defined in Clause 6.4.1.1.1.2, in
[4, TS38.211][;]{.underline}
\- 3 bits as defined by Tables 7.3.1.1.2-8/9/10/10A/11 according to the value
of rank, if transform precoder is disabled, _dmrs-Type_ =1, _enhanced-dmrs-
Type_ is not configured, and _maxLength_ =1;
\- 4 bits as defined by Tables 7.3.1.1.2-12/13/14/14A/15 according to the
value of rank, if transform precoder is disabled, _dmrs-Type_ =1, _enhanced-
dmrs-Type_ is not configured, and _maxLength_ =2;
\- 4 bits as defined by Tables 7.3.1.1.2-16/17/18/18A/19 according to the
value of rank, if transform precoder is disabled, _dmrs-Type_ =2, _enhanced-
dmrs-Type_ is not configured, and _maxLength_ =1;
\- 5 bits as defined by Tables 7.3.1.1.2-20/21/22/22A/23 according to the
value of rank, if transform precoder is disabled, _dmrs-Type_ =2, _enhanced-
dmrs-Type_ is not configured, and _maxLength_ =2.
\- 4 bits as defined by Tables 7.3.1.1.2-38/39/40/40A/41, if transform
precoder is disabled, _dmrs-Type_ =1, _enhanced-dmrs-Type_ is configured, and
_maxLength_ =1;
\- 5 bits as defined by Tables 7.3.1.1.2-46/47/48/48A/49, if transform
precoder is disabled, _dmrs-Type_ =1, _enhanced-dmrs-Type_ is configured, and
_maxLength_ =2;
\- 5 bits as defined by Tables 7.3.1.1.2-54/55/56/56A/57, if transform
precoder is disabled, _dmrs-Type_ =2, _enhanced-dmrs-Type_ is configured, and
_maxLength_ =1;
\- 6 bits as defined by Tables 7.3.1.1.2-62/63/64/64A/65, if transform
precoder is disabled, _dmrs-Type_ =2, _enhanced-dmrs-Type_ is configured, and
_maxLength_ =2.
> where the number of CDM groups without data of values 1, 2, and 3 in Tables
> 7.3.1.1.2-6 to 7.3.1.1.2-23 refers to CDM groups {0}, {0,1}, and {0, 1,2}
> respectively, and the value of rank is
\- the sum of the value determined according to the SRS resource indicator
field and the value determined according to the second SRS resource indicator
field, if _txConfig = nonCodebook_ and _multipanelScheme =_ _sdmScheme_ and
SRS resource set indicator field equals \"10\"
\- the sum of the value determined according to the Precoding information and
number of layers field and the value determined according to the Second
Precoding information, if _txConfig = codebook_ and _multipanelScheme =_
_sdmScheme_ and SRS resource set indicator field equals \"10\"
\- determined according to the SRS resource indicator field if the higher
layer parameter _txConfig = nonCodebook_ and _multipanelScheme =_ _sdmScheme_
is not configured, , or if the higher layer parameter _txConfig = nonCodebook_
, _multipanelScheme =_ _sdmScheme_ and SRS resource set indicator field equals
\"00\" or "01"
\- determined according to the Precoding information and number of layers
field if the higher layer parameter _txConfig = codebook_ and
_multipanelScheme =_ _sdmScheme_ is not configured, or if the higher layer
parameter _txConfig = codebook_ , _multipanelScheme =_ _sdmScheme_ and SRS
resource set indicator field equals \"00\" or \"01\".
If a UE is configured with both _dmrs-UplinkForPUSCH-MappingTypeA-DCI-0-2_ and
_dmrs-UplinkForPUSCH-MappingTypeB-DCI-0-2_ and is configured with
_antennaPortsFieldPresenceDCI-0-2_ , the bitwidth of this field equals
$\max\left{ x_{A},x_{B} \right}$, where $x_{A}$ is the \"Antenna ports\"
bitwidth derived according to _dmrs-UplinkForPUSCH-MappingTypeA-DCI-0-2_ and
$x_{B}$ is the \"Antenna ports\" bitwidth derived according to _dmrs-
UplinkForPUSCH-MappingTypeB-DCI-0-2_. A number of $\left| x_{A} - x_{B}
\right|\ $zeros are padded in the MSB of this field, if the mapping type of
the PUSCH corresponds to the smaller value of $x_{A}$ and $x_{B}$.
If a UE is not configured with higher layer parameter
_antennaPortsFieldPresenceDCI-0-2,_ antenna port(s) are defined assuming bit
field index value 0 in Tables 7.3.1.1.2-6 to 7.3.1.1.2-23.
When the Transform precoder indicator field is present, if the bit width of
the Antenna ports field for the case with transform precoder enabled is not
equal to that for the case with transform precoder disabled, a number of most
significant bits with value set to \'0\' are inserted to the Antenna ports
field for the case with smaller bit width until the bit width of the Antenna
ports field for the two cases are the same.
\- SRS request - 0, 1, 2 or 3 bits
\- 0 bit if the higher layer parameter _srs-RequestDCI-0-2_ is not configured;
\- 1 bit as defined by Table 7.3.1.1.3-1 if higher layer parameter _srs-
RequestDCI-0-2 = 1_ and for UEs not configured with _supplementaryUplink_ in
_ServingCellConfig_ in the cell;
\- 2 bits if higher layer parameter _srs-RequestDCI-0-2 = 1_ and for UEs
configured with _supplementaryUplink_ in _ServingCellConfig_ in the cell,
where the first bit is the non-SUL/SUL indicator as defined in Table
7.3.1.1.1-1 and the second bit is defined by Table 7.3.1.1.3-1;
\- 2 bits as defined by Table 7.3.1.1.2-24 if higher layer parameter _srs-
RequestDCI-0-2 = 2_ and for UEs not configured with _supplementaryUplink_ in
_ServingCellConfig_ in the cell;
\- 3 bits if higher layer parameter _srs-RequestDCI-0-2 = 2_ and for UEs
configured with _supplementaryUplink_ in _ServingCellConfig_ in the cell,
where the first bit is the non-SUL/SUL indicator as defined in Table
7.3.1.1.1-1 and the second and third bits are defined by Table 7.3.1.1.2-24;
\- SRS offset indicator - 0, 1 or 2 bits.
\- 0 bit if higher layer parameter _AvailableSlotOffset_ is not configured for
any aperiodic SRS resource set in the scheduled cell, or if higher layer
parameter _AvailableSlotOffset_ is configured for at least one aperiodic SRS
resource set in the scheduled cell and the maximum number of entries of
_availableSlotOffsetList_ configured for all aperiodic SRS resource set(s) is
1;
\- otherwise, $\left\lceil \log_{2}{(K)} \right\rceil$ bits are used to
indicate available slot offset according to Table 7.3.1.1.2-37 and Clause
6.2.1 of [6, TS 38.214], where K is the maximum number of entries of
_availableSlotOffsetList_ configured for all aperiodic SRS resource set(s) in
the scheduled cell;
\- CSI request - 0, 1, 2, 3, 4, 5, or 6 bits determined by higher layer
parameter _reportTriggerSizeDCI-0-2_.
\- PTRS-DMRS association - number of bits determined as follows
\- 0 bit if _PTRS-UplinkConfi_ g is not configured in either _dmrs-
UplinkForPUSCH-MappingTypeA_ or _dmrs-UplinkForPUSCH-MappingTypeB_ and
transform precoder is disabled, or if transform precoder is enabled, or if
_maxRankDCI-0-2=1_ and _multipanelScheme_ is not configured, or if
_maxRankDCI-0-2=1_ and _maxRankSfnDCI-0-2=1_ , or if _maxRankDCI-0-2=1 and
maxRankSdmDCI-0-2=1_ when two PTRS ports are configured by
_maxNrofPortsforSdm_ ;
\- 2 bits otherwise, where Table
7.3.1.1.2-25/7.3.1.1.2-25A/7.3.1.1.2-25B/7.3.1.1.2-26 are used to indicate the
association between PTRS port(s) and DMRS port(s), and the DMRS ports are
indicated by the Antenna ports field.
\- When one PTRS port or two PTRS ports are configured by _maxNrofPorts_ in
_PTRS-UplinkConfig,_ SRS resource set indicator field is absent or SRS
resource set indicator field is present and equals \"00\" or "01" and maxRank
_DCI-0-2_ \2_ and
_multipanelScheme_ is not configured; 0 bit otherwise. Table 7.3.1.1.2-25 and
7.3.1.1.2-26 are used to indicate the association between PTRS port(s) and
DMRS port(s) corresponding to Second SRS resource indicator field and/or
Second precoding information field when one PT-RS port and two PT-RS ports are
configured by _maxNrofPorts_ in _PTRS-UplinkConfig_ respectively, and the DMRS
ports are indicated by the Antenna ports field.
\- beta_offset indicator - 0 bit if the higher layer parameter
_betaOffsetsDCI-0-2 = semiStaticDCI-0-2_ ; otherwise 1 bit if 2 offset indexes
are configured by higher layer parameter _dynamicDCI-0-2_ as defined by Table
9.3-3A in [5, TS 38.213], and 2 bits if 4 offset indexes are configured by
higher layer parameter _dynamicDCI-0-2_ as defined by Table 9.3-3 in [5, TS
38.213].
When two HARQ-ACK codebooks are configured by _pdsch-HARQ-ACK-CodebookList_ or
by _pdsch-HARQ-ACK-CodebookListMulticast_ for the same serving cell and if
higher layer parameter _priorityIndicatorDCI-0-2_ is configured, if the bit
width of the beta_offset indicator in DCI format 0_2 for one HARQ-ACK codebook
is not equal to that of the beta_offset indicator in DCI format 0_2 for the
other HARQ-ACK codebook, a number of most significant bits with value set to
\'0\' are inserted to smaller beta_offset indicator until the bit width of the
beta_offset indicator in DCI format 0_2 for the two HARQ-ACK codebooks are the
same.
\- DMRS sequence initialization - 0 or 1 bit
\- 0 bit if the higher layer parameter _dmrs-SequenceInitializationDCI-0-2_ is
not configured or if transform precoder is enabled;
\- 1 bit if transform precoder is disabled and the higher layer parameter
_dmrs-SequenceInitializationDCI-0-2_ is configured, or if the Transform
precoder indicator field is present.
\- UL-SCH indicator - 1 bit. A value of \"1\" indicates UL-SCH shall be
transmitted on the PUSCH and a value of \"0\" indicates UL-SCH shall not be
transmitted on the PUSCH. If a UE does not support triggering SRS only in DCI,
except for DCI format 0_2 with CRC scrambled by SP-CSI-RNTI, the UE is not
expected to receive a DCI format 0_2 with UL-SCH indicator of \"0\" and CSI
request of all zero(s). If a UE supports triggering SRS only in DCI, except
for DCI format 0_2 with CRC scrambled by SP-CSI-RNTI, the UE is not expected
to recerive a DCI format 0_2 with UL-SCH indicator of \"0\", CSI request of
all zero(s) and SRS request of all zero(s).
\- ChannelAccess-CPext-CAPC - 0, 1, 2, 3, 4, 5 or 6 bits. The bitwidth for
this field is determined as $\left\lceil \log_{2}{(I)} \right\rceil$ bits,
where _I_ is the number of entries in the higher layer parameter _ul-
AccessConfigListDCI-0-2_ or in Table 7.3.1.1.1-4A if _channelAccessMode-r16_ =
\"_semiStatic_ \" is provided, for operation in a cell with shared spectrum
channel access in frequency range 1, or the number of entries in the high
layer parameter _ul-AccessConfigListDCI-0-1 for operation_ in frequency range
2-2 if _ChannelAccessMode2-r17_ is provided; otherwise 0 bit. One or more
entries from Table 7.3.1.1.2-35 are configured by the higher layer parameter
_ul-AccessConfigListDCI-0-2 in frequency range 1._ One or more entries from
Table 7.3.1.1.2-35A are configured by the higher layer parameter _ul-
AccessConfigListDCI-0-1 in frequency range 2-2._
\- Open-loop power control parameter set indication - 0 or 1 or 2 bits.
\- 0 bit if the higher layer parameter _p0-PUSCH-SetList_ is not configured;
\- 1 or 2 bits otherwise,
\- 1 bit if SRS resource indicator is present in the DCI format 0_2;
\- 1 or 2 bits as determined by higher layer parameter _olpc-
ParameterSetDCI-0-2_ if SRS resource indicator is not present in the DCI
format 0_2;
\- Priority indicator - 0 bit if higher layer parameter
_priorityIndicatorDCI-0-2_ is not configured; otherwise 1 bit as defined in
Clause 9 in [5, TS 38.213].
> \- Invalid symbol pattern indicator - 0 bit if higher layer parameter
> _invalidSymbolPatternIndicatorDCI-0-2_ is not configured; otherwise 1 bit as
> defined in Clause 6.1.2.1 in [6, TS 38.214].
\- PDCCH monitoring adaptation indication - 0, 1 or 2 bits
\- 1 or 2 bits, if _searchSpaceGroupIdList-r17_ is not configured and if
_pdcch-SkippingDurationList_ is configured
\- 1 bit if the UE is configured with only one duration by _pdcch-
SkippingDurationList;_
\- 2 bits if the UE is configured with more than one duration by _pdcch-
SkippingDurationList_.
\- 1 or 2 bits, if _pdcch-SkippingDurationList_ is not configured and if
_searchSpaceGroupIdList-r17_ is configured
\- 1 bit if the UE is configured by _searchSpaceGroupIdList-r17_ with search
space set(s) with group index 0 and search space set(s) with group index 1,
and if the UE is not configured by _searchSpaceGroupIdList-r17_ with any
search space set with group index 2;
\- 2 bits if the UE is configured by _searchSpaceGroupIdList-r17_ with search
space set(s) with group index 0, search space set(s) with group index 1 and
search space set(s) with group index 2;
\- 2 bits, if _pdcch-SkippingDurationList_ is configured and if
_searchSpaceGroupIdList-r17_ is configured
\- 0 bit, otherwise
A UE does not expect that the bit width of a field in DCI format 0_2 with CRC
scrambled by CS-RNTI is larger than corresponding bit width of same field in
DCI format 0_2 with CRC scrambled by C-RNTI for the same serving cell. If the
bit width of a field in the DCI format 0_2 with CRC scrambled by CS-RNTI is
not equal to that of the corresponding field in the DCI format 0_2 with CRC
scrambled by C-RNTI for the same serving cell, a number of most significant
bits with value set to \'0\' are inserted to the field in DCI format 0_2 with
CRC scrambled by CS-RNTI until the bit width equals that of the corresponding
field in the DCI format 0_2 with CRC scrambled by C-RNTI for the same serving
cell.
For a UE configured with scheduling on the primary cell from an SCell, if
prior to padding the number of information bits in DCI format 0_2 carried by
PDCCH on the primary cell is not equal to the number of information bits in
DCI format 0_2 carried by PDCCH on the SCell for scheduling on the primary
cell, zeros shall be appended to the DCI format 0_2 with smaller size until
the payload size is the same.
\- If application of step 4B in clause 7.3.1.0 results in additional zero
padding for DCI format 0_2 for scheduling on the primary cell, corresponding
zeros shall be appended to both DCI format 0_2 monitored on the primary cell
and DCI format 0_2 monitored on the SCell for scheduling on the primary cell.
\- If the SCell is deactivated and _firstActiveDownlinkBWP-Id_ is not set to
dormant BWP, the UE determines the number of information bits in DCI format
0_2 carried by PDCCH on the primary cell based on a DL BWP provided by
_firstActiveDownlinkBWP-Id_ for the SCell. If the active DL BWP of the SCell
is a dormant DL BWP, or if the SCell is deactivated and
_firstActiveDownlinkBWP-Id_ is set to dormant BWP, the UE determines the
number of information bits in DCI format 0_2 carried by PDCCH on the primary
cell based on a DL BWP provided by _firstWithinActiveTimeBWP-Id_ for the SCell
if provided; otherwise, based on a DL BWP provided by
_firstOutsideActiveTimeBWP-Id_ for the SCell.
Table 7.3.1.1.3-1: 1 bit SRS request in DCI format 0_2 and DCI format 1_2
Value of SRS request field Triggered aperiodic SRS resource set(s) for DCI
format 0_2 and 1_2
* * *
0 No aperiodic SRS resource set triggered 1 SRS resource set(s) configured
with higher layer parameter _aperiodicSRS-ResourceTrigger_ set to 1 or an
entry in _aperiodicSRS-ResourceTriggerList_ set to 1
##### 7.3.1.1.4 Format 0_3
DCI format 0_3 is used for the scheduling of one PUSCH in one cell, or
multiple PUSCHs in multiple cells with one PUSCH per cell.
The following information is transmitted by means of the DCI format 0_3 with
CRC scrambled by C-RNTI or MCS-C-RNTI:
\- Identifier for DCI formats - 1 bit
\- The value of this bit field is always set to 0, indicating an UL DCI format
\- Scheduled cell set indicator -$\ \left\lceil \log_{2}N_{\text{set}}
\right\rceil$ bits, where $N_{\text{set}}$ is the number of cell sets which
are configured by higher layer parameter _MC-DCI-SetofCellsToAddModList_ to be
respectively scheduled by DCI format 0_3/1_3 from the cell on which this
format is carried by PDCCH. If present, this field is used to indicate the
scheduled cell set according to Table 7.3.1.1.4-1; otherwise, the scheduled
cell set is the cell set configured to be scheduled by DCI format 0_3/1_3 from
the cell by higher layer parameter _MC-DCI-SetofCellsToAddModList_.
\- Scheduled cells indicator - number of bits determined by the following:
\- 0 bit if the higher layer parameter _ScheduledCellCombo-ListDCI-0-3_ for
the scheduled cell set is not configured;
\- otherwise $\left\lceil \log_{2}I_{\text{UL}} \right\rceil$ bits indicating
the scheduled cells in the scheduled cell set according to Table 7.3.1.1.4-2,
where $I_{\text{UL}}$ is the number of entries in the higher layer parameter
_ScheduledCellCombo-ListDCI-0-3._ If only one entry is configured in the
higher layer parameter _ScheduledCellCombo-ListDCI-0-3_ , the scheduled cells
are the cells configured by higher layer parameter _ScheduledCellCombo-
ListDCI-0-3_.
\- Bandwidth part indicator - 0, 1 or 2 bits determined as $\left\lceil
\log_{2}n_{BWP,\ max} \right\rceil$, where
\- $n_{BWP,\ max} = n_{BWP,RRC}^{\max} + 1$ if $n_{BWP,RRC}^{\max} \leq 3$,
$n_{BWP,RRC}^{\max}\ $is the maximum number of UL BWPs configured by higher
layers across all the cells configured by higher layer parameter
_ScheduledCell-ListDCI-0-3_ in the scheduled cell set, in which case the
bandwidth part indicator is equivalent to the ascending order of the higher
layer parameter _BWP-Id_ ;
\- otherwise $n_{BWP,\ max} = n_{BWP,RRC}^{\max}$, in which case the bandwidth
part indicator is defined in Table 7.3.1.1.2-1;
> The field is only applicable to a scheduled cell with the number of
> configured UL BWPs larger than 1, including the initial UL bandwidth part,
> and is applied to the applicable scheduled cells in the scheduled cell set
> independently. If a UE does not support active BWP change via DCI, the UE
> ignores this bit field.
\- Frequency domain resource assignment - number of bits determined by the
following, where $N_{\text{RB}}^{UL,\ BWP}$ is the size of the active UL
bandwidth part:
\- block number 1, block number 2,..., block number
$N_{\text{cell}}^{\text{UL}}$
> If _ScheduledCellCombo-ListDCI-0-3_ for the scheduled cell set is configured
> with more than one entry, $N_{\text{cell}}^{\text{UL}}$ is the number of
> scheduled cells indicated by Scheduled cells indicator field; if
> _ScheduledCellCombo-ListDCI-0-3_ for the scheduled cell set is configured
> with only one entry,$\ N_{\text{cell}}^{\text{UL}}$ is the number of cells
> configured by higher layer parameter _ScheduledCellCombo-ListDCI-0-3_ ;
> otherwise, $N_{\text{cell}}^{\text{UL}}$ is the number of cells configured
> by higher layer parameter _ScheduledCell-ListDCI-0-3_ in the scheduled cell
> set. Each block corresponds to the frequency domain resource assignment for
> a cell, and the blocks are placed according to an ascending order of a
> serving cell index, with block number 1 corresponding to the frequency
> domain resource assignment for the cell with the smallest serving cell
> index. Each block is defined by the following fields:
\- If higher layer parameter _useInterlacePUCCH-PUSCH in BWP-UplinkDedicated_
is not configured
\- $N_{\text{RBG}}$ bits if only resource allocation type 0 is configured,
where $N_{\text{RBG}}$ is defined in Clause 6.1.2.2.1 of [6, TS 38.214]
\- $\left\lceil \log_{2}\left( N_{RBG,\ K1}\left( N_{RBG,\ K1} + 1 \right)/2
\right) \right\rceil$ bits if only resource allocation type 1 is configured,
or $\max\left( \ \left\lceil \log_{2}\left( N_{RBG,\ K1}\left( N_{RBG,\ K1} +
1 \right)/2 \right) \right\rceil,\ N_{\text{RBG}} \right) + 1$ bits if
_resourceAllocationDCI-0-3_ is configured as \'_dynamicSwitch\'_ , where
$N_{RBG,\ K1} = \left\lceil \left( N_{\text{RB}}^{UL,\ BWP} + \left( N_{UL,\
BWP}^{\text{start}}\text{mod}{K1} \right) \right)/K1 \right\rceil,$
$N_{\text{RB}}^{UL,\ BWP}$ is the size of the active UL bandwidth part,
$N_{UL,\ BWP}^{\text{start}}$ is defined as in clause 4.4.4.4 of [4, TS
38.211] and $K1$ is given by higher layer parameter
_resourceAllocationType1GranularityDCI-0-3._ If the higher layer parameter
_resourceAllocationType1GranularityDCI-0-3_ is not configured, $K1$ is equal
to 1.
\- If _resourceAllocationDCI-0-3_ is configured as \'_dynamicSwitch\'_ , the
MSB bit is used to indicate resource allocation type 0 or resource allocation
type 1, where the bit value of 0 indicates resource allocation type 0 and the
bit value of 1 indicates resource allocation type 1.
\- For resource allocation type 0, the $N_{\text{RBG}}$ LSBs provide the
resource allocation as defined in Clause 6.1.2.2.1 of [6, TS 38.214].
\- For resource allocation type 1, the $\left\lceil \log_{2}\left( N_{RBG,\
K1}\left( N_{RBG,\ K1} + 1 \right)/2 \right) \right\rceil$ LSBs provide the
resource allocation as follows:
\- For PUSCH hopping with resource allocation type 1:
\- $N_{\text{UL}_\text{hop}}\ $MSB bits are used to indicate the frequency
offset according to Clause 6.3 of [6, TS 38.214], where $N_{UL_ hop} = 1$ if
the higher layer parameter _frequencyHoppingOffsetLists_ contains two offset
values and $N_{UL_ hop} = 2\ $if the higher layer parameter
_frequencyHoppingOffsetLists_ contains four offset values
\- $\left\lceil \log_{2}\left( N_{RBG,\ K1}\left( N_{RBG,\ K1} + 1 \right)/2
\right) \right\rceil - N_{UL_ hop}$ bits provide the frequency domain resource
allocation according to Clause 6.1.2.2.2 of [6, TS 38.214]
\- For non-PUSCH hopping with resource allocation type 1:
\- $\left\lceil \log_{2}\left( N_{\text{RBG},\ K1}\left( N_{\text{RBG},\ K1} +
1 \right)/2 \right) \right\rceil$ bits provide the frequency domain resource
allocation according to Clause 6.1.2.2.2 of [6, TS 38.214]
> If \"Bandwidth part indicator\" field indicates a bandwidth part other than
> the active bandwidth part and if _resourceAllocationDCI-0-3_ is configured
> as \'_dynamicSwitch\'_ for the indicated bandwidth part, the UE assumes
> resource allocation type 0 for the indicated bandwidth part if the bitwidth
> of the \"Frequency domain resource assignment\" field of the active
> bandwidth part is smaller than the bitwidth of the \"Frequency domain
> resource assignment\" field of the indicated bandwidth part.
\- If the higher layer parameter _useInterlacePUCCH-PUSCH in BWP-
UplinkDedicated_ is configured
\- 5 + Y bits provide the frequency domain resource allocation according to
Clause 6.1.2.2.3 of [6, TS 38.214] if the subcarrier spacing for the active UL
bandwidth part is 30 kHz. The 5 MSBs provide the interlace allocation and the
Y LSBs provide the RB set allocation.
\- 6 + Y bits provide the frequency domain resource allocation according to
Clause 6.1.2.2.3 of [6, TS 38.214] if the subcarrier spacing for the active UL
bandwidth part is 15 kHz. The 6 MSBs provide the interlace allocation and the
Y LSBs provide the RB set allocation.
> The value of Y is determined by $\left\lceil \log_{2}\left( \frac{N_{RB -
> set,UL}^{\text{BWP}}\left( N_{RB - set,UL}^{\text{BWP}} + 1 \right)}{2}
> \right) \right\rceil\ $ where $N_{\text{RB-set,UL}}^{\text{BWP}}$ is the
> number of RB sets contained in the active UL BWP as defined in clause 7 of
> [6, TS38.214].
>
> If the higher layer parameter _ScheduledCellCombo-ListDCI-0-3_ for the
> scheduled cell set is not configured, each block is also used to indicate
> whether the corresponding cell is scheduled or not as follows:
\- if all bits of a block are set to 0 for resource allocation type 0 or set
to 1 for resource allocation type 1 or set to 0 or 1 for dynamic switch
resource allocation type, the cell corresponding to the block is not
scheduled;
\- otherwise, the cell corresponding to the block is scheduled.
\- Time domain resource assignment -$\left\lceil \log_{2}{(I)} \right\rceil\
$bits, where _I_ is the number of entries in the higher layer parameter _TDRA-
FieldIndexListDCI-0-3_. This field is used to indicate an entry in the higher
layer parameter _TDRA-FieldIndexListDCI-0-3_ according to Table 7.3.1.1.4-3.
Each entry in the higher layer parameter _TDRA-FieldIndexListDCI-0-3_ contains
the 'Time domain resource assignment' index for each cell in the scheduled
cell set, where the 'Time domain resource assignment' indexes for all the
cells are placed according to an ascending order of a serving cell index.
\- Frequency hopping flag - 0 or 1 bit
\- 0 bit if the higher layer parameter _frequencyHopping_ is not configured
for any cell configured by higher layer parameter _ScheduledCell-ListDCI-0-3_
in the scheduled cell set;
\- 1 bit according to Table 7.3.1.1.1-3 otherwise, only applicable to resource
allocation type 1, as defined in Clause 6.3 of [6, TS 38.214].
> The field is only applicable to a scheduled cell configured with
> _frequencyHopping_ , and is applied to the applicable scheduled cells
> independently.
\- Modulation and coding scheme - number of bits determined by the following:
\- block number 1, block number 2,..., block number
$N_{\text{cell}}^{\text{UL}}$
> Each block corresponds to the modulation and coding scheme for a scheduled
> cell, and the blocks are placed according to an ascending order of a serving
> cell index, with block number 1 corresponding to the modulation and coding
> scheme for the cell with the smallest serving cell index. Each block is 5
> bits as defined in Clause 6.1.4.1 of [6, TS 38.214].
\- New data indicator - number of bits determined by the following:
\- block number 1, block number 2,..., block number
$N_{\text{cell}}^{\text{UL}}$
> Each block corresponds to the new data indicator for a scheduled cell, and
> the blocks are placed according to an ascending order of a serving cell
> index, with block number 1 corresponding to the new data indicator for the
> cell with the smallest serving cell index. Each block is 1 bit.
\- Redundancy version - number of bits determined by the following:
\- block number 1, block number 2,..., block number
$N_{\text{cell}}^{\text{UL}}$
> Each block corresponds to the redundancy version for a scheduled cell, and
> the blocks are placed according to an ascending order of a serving cell
> index, with block number 1 corresponding to the redundancy version for the
> cell with the smallest serving cell index. Each block is 0, 1 or 2 bits
> determined by higher layer parameter _numberOfBitsForRV-DCI-0-3_ configured
> for the cell correponding to the block,
\- If 0 bit is configured, _rv~id~_ to be applied is 0;
\- 1 bit according to Table 7.3.1.2.3-1;
\- 2 bits according to Table 7.3.1.1.1-2.
\- HARQ process number - number of bits determined by the following:
\- block number 1, block number 2,..., block number
$N_{\text{cell}}^{\text{UL}}$
> Each block corresponds to the HARQ process number for a scheduled cell, and
> the blocks are placed according to an ascending order of a serving cell
> index, with block number 1 corresponding to the HARQ process number for the
> cell with the smallest serving cell index. Each block is 0, 1, 2, 3, 4 or 5
> bits determined by higher layer parameter _harq-ProcessNumberSizeDCI-0-3_
> configured for the cell correponding to the block.
\- 1^st^ downlink assignment index - 1 or 2 bits
\- 1 bit for semi-static HARQ-ACK codebook;
\- 2 bits for dynamic HARQ-ACK codebook.
> When two HARQ-ACK codebooks are configured for the same serving cell and if
> higher layer parameter _priorityIndicatorDCI-0-3_ is configured, if the bit
> width of the 1^st^ downlink assignment index in DCI format 0_3 for one HARQ-
> ACK codebook is not equal to that of the 1^st^ downlink assignment index in
> DCI format 0_3 for the other HARQ-ACK codebook, a number of most significant
> bits with value set to \'0\' are inserted to smaller 1^st^ downlink
> assignment index until the bit width of the 1^st^ downlink assignment index
> in DCI format 0_3 for the two HARQ-ACK codebooks are the same.
\- 2^nd^ downlink assignment index - 0 or 2 bits:
\- 2 bits for dynamic HARQ-ACK codebook with two HARQ-ACK sub-codebooks;
\- 0 bit otherwise.
> When two HARQ-ACK codebooks are configured for the same serving cell and if
> higher layer parameter _priorityIndicatorDCI-0-3_ is configured, if the bit
> width of the 2^nd^ downlink assignment index in DCI format 0_3 for one HARQ-
> ACK codebook is not equal to that of the 2^nd^ downlink assignment index in
> DCI format 0_3 for the other HARQ-ACK codebook, a number of most significant
> bits with value set to \'0\' are inserted to smaller 2^nd^ downlink
> assignment index until the bit width of the 2^nd^ downlink assignment index
> in DCI format 0_3 for the two HARQ-ACK codebooks are the same.
\- TPC command for scheduled PUSCH - number of bits determined by the
following:
\- block number 1, block number 2,..., block number
$N_{\text{cell}}^{\text{UL}}$
> Each block corresponds to the TPC command for the scheduled PUSCH for a
> scheduled cell, and the blocks are placed according to an ascending order of
> a serving cell index, with block number 1 corresponding to the TPC command
> for the scheduled PUSCH for the cell with the smallest serving cell index.
> Each block is 2 bits as defined in Clause 7.1.1 of [5, TS38.213].
\- SRS resource indicator - number of bits determined by the following:
\- If _SRI-DCI0-3= type1a_ is configured by higher layer,
\- $\max_{r \in { 1,2,\ldots,N_{\text{cell}}^{UL,2}}}{M_{s}\left( r \right)}\
$bits applying to the scheduled cells with $M_{s}\left( r \right) > 0$
independently, where $N_{\text{cell}}^{UL,\ 2}$ is the number of cells
configured by higher layer parameter _ScheduledCell-ListDCI-0-3_ in the
scheduled cell set, $r$ is mapped to the cells according to an ascending order
of a serving cell index with $r = 1$ corresponding to the cell with the
smallest serving cell index, and $M_{s}\left( r \right)$ is defined below.
\- If _SRI-DCI0-3= type2_ is configured by higher layer,
\- block number 1, block number 2,..., block number
$N_{\text{cell}}^{\text{UL}}$
> Each block corresponds to the SRS resource indicator for a scheduled cell,
> and the blocks are placed according to an ascending order of a serving cell
> index, with block number 1 corresponding to the SRS resource indicator for
> the cell with the smallest serving cell index. Each block is defined below.
>
> $M_{s}\left( r \right)$ above for the case of _SRI-DCI0-3= type1a_ or each
> block above for the case of _SRI-DCI0-3= type2_ is defined by the following:
\- $\left\lceil \log_{2}\left( \sum_{k = 1}^{\min\left{ L_{\max},\
N_{\text{SRS}} \right}}\begin{pmatrix} N_{\text{SRS}} \ k \ \end{pmatrix}
\right) \right\rceil$ bits according to Tables 7.3.1.1.2-28/29/30/31 if the
higher layer parameter _txConfig = nonCodebook_ , where $N_{\text{SRS}}$ is
the number of configured SRS resources in the first SRS resource set
configured by higher layer parameter _srs-ResourceSetToAddModList_ , and
associated with the higher layer parameter _usage_ of value \'_nonCodeBook_ \'
and
\- if UE supports operation with _maxMIMO-Layers_ and the higher layer
parameter _maxMIMO-Layers of PUSCH-ServingCellConfig_ of the serving cell is
configured, _L~max~_ is given by that parameter
\- otherwise, _L~max~_ is given by the maximum number of layers for PUSCH
supported by the UE for the serving cell for non-codebook based operation.
\- $\left\lceil \log_{2}\left( N_{\text{SRS}} \right) \right\rceil$ bits
according to Tables 7.3.1.1.2-32, 7.3.1.1.2-32A and 7.3.1.1.2-32B if the
higher layer parameter _txConfig = codebook_ , where $N_{\text{SRS}}$ is the
number of configured SRS resources in the first SRS resource set configured by
higher layer parameter _srs-ResourceSetToAddModList_ , and associated with the
higher layer parameter _usage_ of value \'_codeBook_ \'.
\- Precoding information and number of layers - number of bits determined by
the following:
\- If _TPMI-DCI0-3= type1a_ is configured by higher layer,
\- $\ \max_{r \in { 1,2,\ldots,N_{\text{cell}}^{UL,2}}}{M_{p}\left( r
\right)}\ $bits applying to the scheduled cells with $M_{p}\left( r \right) >
0$ independently, where $r$ is mapped to the cells according to an ascending
order of a serving cell index with $r = 1$ corresponding to the cell with the
smallest serving cell index, and $M_{p}\left( r \right)$ is defined below.
\- If _TPMI-DCI0-3= type2_ is configured by higher layer,
\- block number 1, block number 2,..., block number
$N_{\text{cell}}^{\text{UL}}$
> Each block corresponds to the precoding information and number of layers for
> a scheduled cell, and the blocks are placed according to an ascending order
> of a serving cell index, with block number 1 corresponding to the precoding
> information and number of layers for the cell with the smallest serving cell
> index. Each block is defined below.
>
> $M_{p}\left( r \right)$ above for the case of _TPMI-DCI0-3= type1a_ or each
> block above for the case of _TPMI-DCI0-3= type2_ is defined by the
> following:
\- 0 bits if the higher layer parameter _txConfig = nonCodeBook_ ;
\- 0 bits for 1 antenna port and if the higher layer parameter _txConfig =
codebook_ ;
\- 4, 5, or 6 bits according to Table 7.3.1.1.2-2 for 4 antenna ports, if
_txConfig = codebook,_ _ul-FullPowerTransmission is not configured or
configured to fullpowerMode2 or configured to fullpower,_ transform precoder
is disabled, and according to the values of higher layer parameters _maxRank,
and codebookSubset;_
\- 4 or 5 bits according to Table 7.3.1.1.2-2A for 4 antenna ports, if
_txConfig = codebook,_ _ul-FullPowerTransmission =fullpowerMode1, maxRank=2,_
transform precoder is disabled _, and_ according to the value of higher layer
parameter _codebookSubset;_
\- 4 or 6 bits according to Table 7.3.1.1.2-2B for 4 antenna ports, if
_txConfig = codebook, ul-FullPowerTransmission =fullpowerMode1,_ _maxRank=3 or
4,_ transform precoder is disabled, and according to the value of higher layer
parameter _codebookSubset_ ;
\- 2, 4, or 5 bits according to Table 7.3.1.1.2-3 for 4 antenna ports, if
_txConfig = codebook,_ _ul-FullPowerTransmission is not configured or
configured to fullpowerMode2 or configured to fullpower,_ and according to
whether transform precoder is enabled or disabled, and the values of higher
layer parameters _maxRank and codebookSubset_ ;
\- 3 or 4 bits according to Table 7.3.1.1.2-3A for 4 antenna ports, if
_txConfig = codebook,_ _ul-FullPowerTransmission =fullpowerMode1, maxRank=1,_
and according to whether transform precoder is enabled or disabled, and the
value of higher layer parameter _codebookSubset_ ;
_\- 2 or 4 bits according to Table7.3.1.1.2-4 for 2 antenna ports,_ if
_txConfig = codebook,_ _ul-FullPowerTransmission is not configured or
configured to fullpowerMode2 or configured to fullpower,_ transform precoder
is disabled, and according to the values of higher layer parameters _maxRank
and codebookSubset;_
_\- 2_ bits according to Table 7.3.1.1.2-4A for 2 antenna ports, if _txConfig
= codebook,_ _ul-FullPowerTransmission =fullpowerMode1,_ transform precoder is
disabled, _maxRank=2, and codebookSubset=nonCoherent;_
_\- 1 or 3 bits according to Table7.3.1.1.2-5 for 2 antenna ports,_ if
_txConfig = codebook,_ _ul-FullPowerTransmission is not configured or
configured to fullpowerMode2 or configured to fullpower,_ and according to
whether transform precoder is enabled or disabled, and the values of higher
layer parameters _maxRank and codebookSubset_ ;
_-_ 2 bits according to Table 7.3.1.1.2-5A for 2 antenna ports, if _txConfig =
codebook,_ _ul-FullPowerTransmission =fullpowerMode1, maxRank=1,_ and
according to whether transform precoder is enabled or disabled, and the value
of higher layer parameter _codebookSubset_.
> For the higher layer parameter _txConfig=codebook_ , if _ul-
> FullPowerTransmission_ is configured to _fullpowerMode2_ , _maxRank_ is
> configured to be larger than 2, and at least one SRS resource with 4 antenna
> ports is configured in the SRS resource set indicated by SRS resource set
> indicator field if present, otherwise in an SRS resource set with usage set
> to \'codebook\', and an SRS resource with 2 antenna ports is indicated via
> SRI in the same SRS resource set, then Table 7.3.1.1.2-4 is used.
>
> For the higher layer parameter _txConfig = codebook_ , if different SRS
> resources with different number of antenna ports are configured, the
> bitwidth is determined according to the maximum number of ports in an SRS
> resource among the configured SRS resources in all SRS resource set(s) with
> usage set to \'codebook\'. If the number of ports for a configured SRS
> resource in the set is less than the maximum number of ports in an SRS
> resource among the configured SRS resources, a number of most significant
> bits with value set to \'0\' are inserted to the field.
\- Antenna ports - number of bits determined by the following:
\- If _AntennaPortsDCI0-3= type1a_ is configured by higher layer,
\- $\max_{r \in { 1,2,\ldots,N_{\text{cell}}^{UL,2}}}{M_{A}\left( r \right)}\
$bits applying to the scheduled cells independently, where $r$ is mapped to
the cells according to an ascending order of a serving cell index with $r = 1$
corresponding to the cell with the smallest serving cell index, and
$M_{A}\left( r \right)$ is defined below.
\- If _AntennaPortsDCI0-3= type2_ is configured by higher layer,
\- block number 1, block number 2,..., block number
$N_{\text{cell}}^{\text{UL}}$
> Each block corresponds to the Antenna ports information for a scheduled
> cell, and the blocks are placed according to an ascending order of a serving
> cell index, with block number 1 corresponding to the Antenna ports
> information for the cell with the smallest serving cell index. Each block is
> defined below.
>
> $M_{A}\left( r \right)$ above for the case of _AntennaPortsDCI0-3= type1a_
> or each block above for the case of _AntennaPortsDCI0-3= type2_ is defined
> by the following:
\- 2 bits as defined by Tables 7.3.1.1.2-6, if transform precoder is enabled,
_dmrs-Type_ =1, and _maxLength_ =1, except that _dmrs-
UplinkTransformPrecoding_ and _tp-pi2BPSK_ are both configured and π/2 BPSK
modulation is used;
\- 2 bits as defined by Tables 7.3.1.1.2-6A, if transform precoder is enabled
and _dmrs-UplinkTransformPrecoding_ and _tp-pi2BPSK_ are both configured, π/2
BPSK modulation is used, _dmrs-Type_ =1, and _maxLength_ =1, where n~SCID~ is
the scrambling identity for antenna ports defined in clause 6.4.1.1.1.2,
TS38.211];
\- 4 bits as defined by Tables 7.3.1.1.2-7, if transform precoder is enabled,
_dmrs-Type_ =1, and _maxLength_ =2, except that _dmrs-
UplinkTransformPrecoding_ and _tp-pi2BPSK_ are both configured and π/2 BPSK
modulation is used;
\- 4 bits as defined by Tables 7.3.1.1.2-7A, if transform precoder is enabled
and _dmrs-UplinkTransformPrecoding_ and _tp-pi2BPSK_ are both configured, π/2
BPSK modulation is used, _dmrs-Type_ =1, and _maxLength_ =2, where n~SCID~ is
the scrambling identity for antenna ports defined in clause 6.4.1.1.1.2,
TS38.211];
\- 3 bits as defined by Tables 7.3.1.1.2-8/9/10/11, if transform precoder is
disabled, _dmrs-Type_ =1, and _maxLength_ =1, and the value of rank is
determined according to the SRS resource indicator field if the higher layer
parameter _txConfig = nonCodebook_ and according to the Precoding information
and number of layers field if the higher layer parameter _txConfig = codebook_
;
\- 4 bits as defined by Tables 7.3.1.1.2-12/13/14/15, if transform precoder is
disabled, _dmrs-Type_ =1, and _maxLength_ =2, and the value of rank is
determined according to the SRS resource indicator field if the higher layer
parameter _txConfig = nonCodebook_ and according to the Precoding information
and number of layers field if the higher layer parameter _txConfig = codebook_
;
\- 4 bits as defined by Tables 7.3.1.1.2-16/17/18/19, if transform precoder is
disabled, _dmrs-Type_ =2, and _maxLength_ =1, and the value of rank is
determined according to the SRS resource indicator field if the higher layer
parameter _txConfig = nonCodebook_ and according to the Precoding information
and number of layers field if the higher layer parameter _txConfig = codebook_
;
\- 5 bits as defined by Tables 7.3.1.1.2-20/21/22/23, if transform precoder is
disabled, _dmrs-Type_ =2, and _maxLength_ =2, and the value of rank is
determined according to the SRS resource indicator field if the higher layer
parameter _txConfig = nonCodebook_ and according to the Precoding information
and number of layers field if the higher layer parameter _txConfig =
codebook_.
> where the number of CDM groups without data of values 1, 2, and 3 in Tables
> 7.3.1.1.2-6 to 7.3.1.1.2-23 refers to CDM groups {0}, {0,1}, and {0, 1,2}
> respectively.
>
> If a UE is configured with both _dmrs-UplinkForPUSCH-MappingTypeA_ and
> _dmrs-UplinkForPUSCH-MappingTypeB_ , the bitwidth of this field equals
> $\max\left{ x_{A},x_{B} \right}$, where $x_{A}$ is the \"Antenna ports\"
> bitwidth derived according to _dmrs-UplinkForPUSCH-MappingTypeA_ and $x_{B}$
> is the \"Antenna ports\" bitwidth derived according to _dmrs-UplinkForPUSCH-
> MappingTypeB_. A number of $\left| x_{A} - x_{B} \right|$ zeros are padded
> in the MSB of this field, if the mapping type of the PUSCH corresponds to
> the smaller value of $x_{A}$ and $x_{B}$.
\- SRS request -$\ \left\lceil \log_{2}{(I_{\text{SRS}})} \right\rceil\ $bits,
where $I_{\text{SRS}}$ is the number of entries in the higher layer parameter
_srs-RequestListDCI-0-3_. This field is used to indicate an entry in the
higher layer parameter _srs-RequestListDCI-0-3_ according to Table
7.3.1.1.4-4. Each entry in the higher layer parameter _srs-RequestListDCI-0-3_
contains the 'SRS request' index for each cell in the scheduled cell set,
where the 'SRS request' indexes for all the cells are placed according to an
ascending order of a serving cell index. Each 'SRS request' index is defined
by the following:
\- 2 bits as defined by Table 7.3.1.1.2-24 for UEs not configured with
_supplementaryUplink_ in _ServingCellConfig_ in the cell; 3 bits for UEs
configured with _supplementaryUplink_ in _ServingCellConfig_ in the cell where
the first bit is the non-SUL/SUL indicator as defined in Table 7.3.1.1.1-1 and
the second and third bits are defined by Table 7.3.1.1.2-24. This bit field
may also indicate the associated CSI-RS according to Clause 6.1.1.2 of [6, TS
38.214].
\- SRS offset indicator -$\ \left\lceil \log_{2}{(I_{\text{offset}})}
\right\rceil\ $bits, where$I_{\text{offset}}$ is the number of entries in the
higher layer parameter _srs-OffsetListDCI-0-3_. This field is used to indicate
an entry in the higher layer parameter _srs-OffsetListDCI-0-3_ according to
Table 7.3.1.1.4-5. Each entry in the higher layer parameter _srs-
OffsetListDCI-0-3_ contains the 'SRS offset indicator' index for each cell in
the scheduled cell set, where the 'SRS offset indicator' indexes for all the
cells are placed according to an ascending order of a serving cell index. Each
'SRS offset indicator' index is defined by the following:
\- 0 bit if higher layer parameter _AvailableSlotOffset_ is not configured for
any aperiodic SRS resource set in the scheduled cell, or if higher layer
parameter _AvailableSlotOffset_ is configured for at least one aperiodic SRS
resource set in the scheduled cell and the maximum number of entries of
_availableSlotOffsetList_ configured for all aperiodic SRS resource set(s) is
1;
\- otherwise, $\left\lceil \log_{2}{(K)} \right\rceil$ bits are used to
indicate available slot offset according to Table 7.3.1.1.2-37 and Clause
6.2.1 of [6, TS 38.214], where K is the maximum number of entries of
_availableSlotOffsetList_ configured for all aperiodic SRS resource set(s) in
the scheduled cell;
\- CSI request - 0, 1, 2, 3, 4, 5, or 6 bits determined by higher layer
parameter _reportTriggerSize_. This field is applied to the cell with the
smallest serving cell index among the scheduled cells indicated by Scheduled
cells indicator field or Frequency domain resource assignment field.
\- PTRS-DMRS association - number of bits determined by the following:
\- block number 1, block number 2,..., block number
$N_{\text{cell}}^{\text{UL}}$
> Each block corresponds to the PTRS-DMRS association information for a
> scheduled cell, and the blocks are placed according to an ascending order of
> a serving cell index, with block number 1 corresponding to the PTRS-DMRS
> association information for the cell with the smallest serving cell index.
> Each block is defined by the following:
\- 0 bit if _PTRS-UplinkConfi_ g is not configured in either _dmrs-
UplinkForPUSCH-MappingTypeA_ or _dmrs-UplinkForPUSCH-MappingTypeB_ and
transform precoder is disabled, or if transform precoder is enabled, or if
_maxRankDCI=1_ ;
\- 2 bits otherwise, where Table 7.3.1.1.2-25 and 7.3.1.1.2-26 are used to
indicate the association between PTRS port(s) and DMRS port(s) when one PT-RS
port and two PT-RS ports are configured by _maxNrofPorts_ in _PTRS-
UplinkConfig_ respectively, and the DMRS ports are indicated by the Antenna
ports field.
> If \"Bandwidth part indicator\" field indicates a bandwidth part other than
> the active bandwidth part and the \"PTRS-DMRS association\" field is present
> for the indicated bandwidth part but not present for the active bandwidth
> part, the UE assumes the \"PTRS-DMRS association\" field is not present for
> the indicated bandwidth part.
\- beta_offset indicator - 0 or 2 bits
\- 0 bit if _betaOffsets = semiStatic_ is configured for all the cells
configured by higher layer parameter _ScheduledCell-ListDCI-0-3_ in the
scheduled cell set;
\- otherwise 2 bits as defined by Table 9.3-3 in [5, TS 38.213].
> When two HARQ-ACK codebooks are configured for the same serving cell and if
> higher layer parameter _priorityIndicatorDCI-0-3_ is configured, if the bit
> width of the beta_offset indicator in DCI format 0_3 for one HARQ-ACK
> codebook is not equal to that of the beta_offset indicator in DCI format 0_3
> for the other HARQ-ACK codebook, a number of most significant bits with
> value set to \'0\' are inserted to smaller beta_offset indicator until the
> bit width of the beta_offset indicator in DCI format 0_3 for the two HARQ-
> ACK codebooks are the same.
>
> The field is only applicable to a scheduled cell configured with
> _betaOffsets = dynamic_ , and is applied to the applicable scheduled cells
> independently.
\- DMRS sequence initialization - 1 bit. This field is applied to all the
scheduled cells indicated by Scheduled cells indicator field or Frequency
domain resource assignment field independently.
\- UL-SCH indicator - 1 bit. A value of \"1\" indicates UL-SCH shall be
transmitted on the PUSCH and a value of \"0\" indicates UL-SCH shall not be
transmitted on the PUSCH. A UE is not expected to receive a DCI format 0_3
with UL-SCH indicator of \"0\" and CSI request of all zero(s). This field is
applied to the cell with the smallest serving cell index among the scheduled
cells indicated by Scheduled cells indicator field or Frequency domain
resource assignment field.
\- ChannelAccess-CPext-CAPC -$\ \max_{r \in {
1,2,\ldots,N_{\text{cell}}^{2}}}{M_{c}\left( r \right)}\ $bits applying to the
scheduled cells with $M_{c}\left( r \right) > 0$ independently, where
$N_{\text{cell}}^{2}$ is the number of cells configured by higher layer
parameter _ScheduledCell-ListDCI-0-3_ in the scheduled cell set, $r$ is mapped
to the cells according to an ascending order of a serving cell index with $r =
1$ corresponding to the cell with the smallest serving cell index, and
$M_{c}\left( r \right)$ is defined by the following:
\- 0, 1, 2, 3, 4, 5 or 6 bits. The bitwidth for this field is determined as
$\left\lceil \log_{2}{(I)} \right\rceil$ bits, where _I_ is the number of
entries in the higher layer parameter _ul-AccessConfigListDCI-0-1_ or in Table
7.3.1.1.1-4A if _channelAccessMode-r16_ = \"_semiStatic_ \" is provided, for
operation in a cell with shared spectrum channel access in frequency range 1,
or for operation in frequency range 2-2 if _ChannelAccessMode2-r17_ is
provided; otherwise 0 bit. One or more entries from Table 7.3.1.1.2-35 or
Table 7.3.1.1.2-35A are configured by the higher layer parameter _ul-
AccessConfigListDCI-0-1._
\- Open-loop power control parameter set indication - $\max_{r \in {
1,2,\ldots,N_{\text{cell}}^{UL,2}}}{M_{o}\left( r \right)}\ $bits applying to
the scheduled cells with $M_{o}\left( r \right) > 0$ independently, where $r$
is mapped to the cells according to an ascending order of a serving cell index
with $r = 1$ corresponding to the cell with the smallest serving cell index,
and $M_{o}\left( r \right)$ is defined by the following:
\- 0 bit if the higher layer parameter _p0-PUSCH-SetList_ is not configured;
\- 1 or 2 bits otherwise,
\- 1 bit if SRS resource indicator is present in the DCI format 0_3;
\- 1 or 2 bits as determined by higher layer parameter _olpc-
ParameterSetDCI-0-1_ if SRS resource indicator is not present in the DCI
format 0_3.
\- Priority indicator - 0 bit if higher layer parameter
_priorityIndicatorDCI-0-3_ is not configured; otherwise 1 bit as defined in
Clause 9 in [5, TS 38.213]. This field is applied to all the scheduled cells
indicated by Scheduled cells indicator field or Frequency domain resource
assignment field.
\- Minimum applicable scheduling offset indicator - 0 or 1 bit
\- 0 bit if higher layer parameter _minimumSchedulingOffsetK0DCI-0-3_ is not
configured;
\- x bits otherwise.
\- SCell dormancy indication - 0 bit if higher layer parameter
_dormancyDCI-0-3_ is not enabled; otherwise x bits.
\- PDCCH monitoring adaptation indication - 0, 1 or 2 bits
\- 0 bit if higher layer parameter _pdcchMonAdaptDCI-0-3_ is not enabled;
\- otherwise,
\- 1 or 2 bits, if _searchSpaceGroupIdList-r17_ is not configured and if
_pdcch-SkippingDurationList_ is configured
\- 1 bit if the UE is configured with only one duration by _pdcch-
SkippingDurationList;_
\- 2 bits if the UE is configured with more than one duration by _pdcch-
SkippingDurationList_.
\- 1 or 2 bits, if _pdcch-SkippingDurationList_ is not configured and if
_searchSpaceGroupIdList-r17_ is configured
\- 1 bit if the UE is configured by _searchSpaceGroupIdList-r17_ with search
space set(s) with group index 0 and search space set(s) with group index 1,
and if the UE is not configured by _searchSpaceGroupIdList-r17_ with any
search space set with group index 2;
\- 2 bits if the UE is configured by _searchSpaceGroupIdList-r17_ with search
space set(s) with group index 0, search space set(s) with group index 1 and
search space set(s) with group index 2;
\- 2 bits, if pdcch-SkippingDurationList is configured and if
searchSpaceGroupIdList-r17 is configured
If _ScheduledCellCombo-ListDCI-0-3_ for the cell set is configured, zeros
shall be appended to DCI format 0_3 if needed until the payload size equals
the size of DCI format 0_3 that is determined by the configuration of the
corresponding active bandwidth part(s) of the scheduled cells in the entry
which results in the largest size among the entries in the higher layer
parameter _ScheduledCellCombo-ListDCI-0-3_ ; otherwise, zeros shall be
appended to DCI format 0_3 if needed until the payload size equals the size of
DCI format 0_3 that is determined by the configuration of the corresponding
active bandwidth part(s) of all the cells within the scheduled cell set.
Table 7.3.1.1.4-1: Scheduled cell set indicator in DCI format 0_3
Bit field mapped to index Scheduled cell set
* * *
0 The cell set configured by the 1^st^ entry in _MC-DCI-
SetofCellsToAddModList_ 1 The cell set configured by the 2^nd^ entry in _MC-
DCI-SetofCellsToAddModList_ 2 The cell set configured by the 3^rd^ entry in
_MC-DCI-SetofCellsToAddModList_ , if any 3 The cell set configured by the
4^th^ entry in _MC-DCI-SetofCellsToAddModList_ , if any
Table 7.3.1.1.4-2: Scheduled cells indicator in DCI format 0_3
Bit field mapped to index Scheduled cells
* * *
0 The cells configured by the 1^st^ entry in _ScheduledCellCombo-ListDCI-0-3_
1 The cells configured by the 2^nd^ entry in _ScheduledCellCombo-ListDCI-0-3_
2 The cells configured by the 3^rd^ entry in _ScheduledCellCombo-ListDCI-0-3_
, if any 3 The cells configured by the 4^th^ entry in _ScheduledCellCombo-
ListDCI-0-3_ , if any 4 The cells configured by the 5^th^ entry in
_ScheduledCellCombo-ListDCI-0-3_ , if any 5 The cells configured by the 6^th^
entry in _ScheduledCellCombo-ListDCI-0-3_ , if any 6 The cells configured by
the 7^th^ entry in _ScheduledCellCombo-ListDCI-0-3_ , if any 7 The cells
configured by the 8^th^ entry in _ScheduledCellCombo-ListDCI-0-3_ , if any 8
The cells configured by the 9^th^ entry in _ScheduledCellCombo-ListDCI-0-3_ ,
if any 9 The cells configured by the 10^th^ entry in _ScheduledCellCombo-
ListDCI-0-3_ , if any 10 The cells configured by the 11^th^ entry in
_ScheduledCellCombo-ListDCI-0-3_ , if any 11 The cells configured by the
12^th^ entry in _ScheduledCellCombo-ListDCI-0-3_ , if any 12 The cells
configured by the 13^th^ entry in _ScheduledCellCombo-ListDCI-0-3_ , if any 13
The cells configured by the 14^th^ entry in _ScheduledCellCombo-ListDCI-0-3_ ,
if any 14 The cells configured by the 15^th^ entry in _ScheduledCellCombo-
ListDCI-0-3_ , if any 15 The cells configured by the 16^th^ entry in
_ScheduledCellCombo-ListDCI-0-3_ , if any
Table 7.3.1.1.4-3: Time domain resource assignment in DCI format 0_3
Bit field mapped to index Indicated time domain resource allocation
* * *
0 The 1^st^ entry in _TDRA-FieldIndexListDCI-0-3_ 1 The 2^nd^ entry in _TDRA-
FieldIndexListDCI-0-3_ 2 The 3^rd^ entry in _TDRA-FieldIndexListDCI-0-3_ , if
any ... ... $$i$$ The ${(i + 1)}^{\text{th}}$ entry in _TDRA-
FieldIndexListDCI-0-3_ , if any ... ...
Table 7.3.1.1.4-4: SRS request in DCI format 0_3
Bit field mapped to index Triggered aperiodic SRS resource set(s)
* * *
0 The 1^st^ entry in _srs-RequestListDCI-0-3_ 1 The 2^nd^ entry in _srs-
RequestListDCI-0-3_ 2 The 3^rd^ entry in _srs-RequestListDCI-0-3_ , if any ...
... 15 The 16^th^ entry in _srs-RequestListDCI-0-3_ , if any
Table 7.3.1.1.4-5: SRS offset indicator in DCI format 0_3
Bit field mapped to index Available slot offset
* * *
0 The 1^st^ entry in _srs-OffsetListDCI-0-3_ 1 The 2^nd^ entry in _srs-
OffsetListDCI-0-3_ 2 The 3^rd^ entry in _srs-OffsetListDCI-0-3_ , if any ...
... 7 The 8^th^ entry in _srs-OffsetListDCI-0-3_ , if any
#### 7.3.1.2 DCI formats for scheduling of PDSCH
##### 7.3.1.2.1 Format 1_0
DCI format 1_0 is used for the scheduling of PDSCH in one DL cell.
The following information is transmitted by means of the DCI format 1_0 with
CRC scrambled by C-RNTI or CS-RNTI or MCS-C-RNTI:
\- Identifier for DCI formats - 1 bits
\- The value of this bit field is always set to 1, indicating a DL DCI format
\- Frequency domain resource assignment - bits where is given by Clause
7.3.1.0
> If the CRC of the DCI format 1_0 is scrambled by C-RNTI and the \"Frequency
> domain resource assignment\" field are of all ones, the DCI format 1_0 is
> for random access procedure initiated by a PDCCH order, with all remaining
> fields set as follows:
\- Random Access Preamble index - 6 bits according to _ra-PreambleIndex_ in
Clause 5.1.2 of [8, TS38.321]
\- UL/SUL indicator - 1 bit. If the value of the \"Random Access Preamble
index\" is not all zeros and if the UE is configured with
_supplementaryUplink_ in _ServingCellConfig_ in the cell, this field indicates
which UL carrier in the cell to transmit the PRACH according to Table
7.3.1.1.1-1; otherwise, this field is reserved
\- SS/PBCH index - 6 bits. If the value of the \"Random Access Preamble
index\" is not all zeros, this field indicates the SS/PBCH that shall be used
to determine the RACH occasion for the PRACH transmission; otherwise, this
field is reserved.
\- PRACH Mask index - 4 bits. If the value of the \"Random Access Preamble
index\" is not all zeros, this field indicates the RACH occasion associated
with the SS/PBCH indicated by \"SS/PBCH index\" for the PRACH transmission,
according to Clause 5.1.1 of [8, TS38.321]; otherwise, this field is reserved
\- Cell indicator -$\ \left\lceil \log_{2}\left( C + 1 \right) \right\rceil$
bits indicating the cell for the corresponding PRACH transmission if the UE is
configured with higher layer parameter _EarlyUlSyncConfig_ , where _C_ is the
number of candidate cells configured with higher layer parameter
_EarlyUlSyncConfig_ ; 0 bit otherwise.
\- PRACH retransmission indicator - 0 or 1 bit
\- 1bit if the UE is configured with higher layer parameter
_EarlyUlSyncConfig_. This field indicates initial transmission or
retransmission of PRACH according to Table 7.3.1.2.1-3 if the cell indicated
by Cell indicator field is a candidate cell, and this field is reserved if the
cell indicated by Cell indicator field is a serving cell but not a candidate
cell.
\- 0 bit otherwise.
\- Reserved bits - a number of bits as determined by the following:
\- 12 bits for operation in a cell with shared spectrum channel access in
frequency range 1 or when the DCI format is monitored in common search space
for operation in a cell in frequency range 2-2, and if the UE is not
configured with higher layer parameter _EarlyUlSyncConfig_ ;
\- 11-$\left\lceil \log_{2}\left( C + 1 \right) \right\rceil$ bits for
operation in a cell with shared spectrum channel access in frequency range 1
or when the DCI format is monitored in common search space for operation in a
cell in frequency range 2-2, and if the UE is configured with higher layer
parameter _EarlyUlSyncConfig_ ;
\- 9-$\left\lceil \log_{2}\left( C + 1 \right) \right\rceil$ bits for
operation in a cell without shared spectrum channel access in frequency range
1 or for operation in a cell in frequency range 2-1 or when the DCI format is
monitored in UE-specific search space for operation in a cell in frequency
range 2-2, and if the UE is configured with higher layer parameter
_EarlyUlSyncConfig_ ;
\- 10 bits otherwise.
Otherwise, all remaining fields are set as follows:
\- Time domain resource assignment - 4 bits as defined in Clause 5.1.2.1 of
[6, TS 38.214]
\- VRB-to-PRB mapping - 1 bit according to Table 7.3.1.2.2-5
\- Modulation and coding scheme - 5 bits as defined in Clause 5.1.3 of [6, TS
38.214]
\- New data indicator - 1 bit
\- Redundancy version - 2 bits as defined in Table 7.3.1.1.1-2
\- HARQ process number - 4 bits
\- Downlink assignment index - 2 bits as defined in Clause 9.1.3 of [5, TS
38.213], as counter DAI
\- TPC command for scheduled PUCCH - 2 bits as defined in Clause 7.2.1 of [5,
TS 38.213]
\- PUCCH resource indicator - 3 bits as defined in Clause 9.2.3 of [5, TS
38.213]
\- PDSCH-to-HARQ_feedback timing indicator - 3 bits as defined in Clause 9.2.3
of [5, TS38.213]
\- ChannelAccess-CPext - 2 bits indicating combinations of channel access type
and CP extension as defined in Table 7.3.1.1.1-4, or Table 7.3.1.1.1-4A if
_channelAccessMode-r16_ = \"_semiStatic_ \" is provided, for operation in a
cell with shared spectrum channel access in frequency range 1; 2 bits
indicating channel access type as defined in Table 7.3.1.1.1-4B if
_ChannelAccessMode2-r17_ is provided for operation in a cell in frequency
range 2-2; 0 bits otherwise
\- Reserved bits - 2 bits when the DCI format is monitored in common search
space for operation in a cell in frequency range 2-2 and the number of bits
for the field of \'ChannelAccess-CPext\' is 0; 0 bits otherwise
The following information is transmitted by means of the DCI format 1_0 with
CRC scrambled by P-RNTI:
\- Short Messages Indicator - 2 bits according to Table 7.3.1.2.1-1.
\- Short Messages - 8 bits, according to Clause 6.5 of [9, TS38.331]. If only
the scheduling information for Paging, and TRS availability indication if
_trs-ResourceSetConfig_ is configured, are carried, this bit field is
reserved.
\- Frequency domain resource assignment - bits. If only the short message, and
TRS availability indication if _trs-ResourceSetConfig_ is configured, are
carried, this bit field is reserved.
\- is the size of CORESET 0
\- Time domain resource assignment - 4 bits as defined in Clause 5.1.2.1 of
[6, TS38.214]. If only the short message, and TRS availability indication if
_trs-ResourceSetConfig_ is configured, are carried, this bit field is
reserved.
\- VRB-to-PRB mapping - 1 bit according to Table 7.3.1.2.2-5. If only the
short message, and TRS availability indication if _trs-ResourceSetConfig_ is
configured, are carried, this bit field is reserved.
\- Modulation and coding scheme - 5 bits as defined in Clause 5.1.3 of [6,
TS38.214], using Table 5.1.3.1-1. If only the short message, and TRS
availability indication if _trs-ResourceSetConfig_ is configured, are carried,
this bit field is reserved.
\- TB scaling - 2 bits as defined in Clause 5.1.3.2 of [6, TS38.214]. If only
the short message, and TRS availability indication if _trs-ResourceSetConfig_
is configured, are carried, this bit field is reserved.
\- TRS availability indication - 1, 2, 3, 4, 5, or 6 bits, where the number of
bits is equal to one plus the highest value of all the _indBitID_(s) provided
by the _trs-ResourceSetConfig_ if configured; 0 bits otherwise.
\- Reserved bits - (8 - _M_) bits for operation in a cell with shared spectrum
channel access in frequency range 1 or for operation in a cell in frequency
range 2-2; (6 - _M_) bits for operation in a cell without shared spectrum
channel access, where the value of _M_ is the number of bits for the field of
\'TRS availability indication\' as defined above.
The following information is transmitted by means of the DCI format 1_0 with
CRC scrambled by SI-RNTI:
\- Frequency domain resource assignment - bits
\- is the size of CORESET 0
\- Time domain resource assignment - 4 bits as defined in Clause 5.1.2.1 of
[6, TS38.214]
\- VRB-to-PRB mapping - 1 bit according to Table 7.3.1.2.2-5
\- Modulation and coding scheme - 5 bits as defined in Clause 5.1.3 of [6,
TS38.214], using Table 5.1.3.1-1
\- Redundancy version - 2 bits as defined in Table 7.3.1.1.1-2
\- System information indicator - 1 bit as defined in Table 7.3.1.2.1-2
\- Reserved bits - 17 bits for operation in a cell with shared spectrum
channel access in frequency range 1 or for operation in a cell in frequency
range 2-2; otherwise 15 bits
The following information is transmitted by means of the DCI format 1_0 with
CRC scrambled by RA-RNTI or MsgB-RNTI:
\- Frequency domain resource assignment - bits
\- is the size of CORESET 0 if CORESET 0 is configured for the cell and is the
size of initial DL bandwidth part if CORESET 0 is not configured for the cell
\- Time domain resource assignment - 4 bits as defined in Clause 5.1.2.1 of
[6, TS38.214]
\- VRB-to-PRB mapping - 1 bit according to Table 7.3.1.2.2-5
\- Modulation and coding scheme - 5 bits as defined in Clause 5.1.3 of [6,
TS38.214], using Table 5.1.3.1-1
> \- TB scaling - 2 bits as defined in Clause 5.1.3.2 of [6, TS38.214]
\- LSBs of SFN - 2 bits for the DCI format 1_0 with CRC scrambled by MsgB-RNTI
as defined in Clause 8.2A of [5, TS 38.213] if _msgB-responseWindow_ is
configured to be larger than 10 ms; or 2 bits for the DCI format 1_0 with CRC
scrambled by RA-RNTI as defined in Clause 8.2 of [5, TS 38.213] for operation
in a cell with shared spectrum channel access if _ra-ResponseWindow or ra-
ResponseWindow-v1610_ is configured to be larger than 10 ms; 0 bit otherwise
\- Reserved bits - (16 - _A_) bits for operation in a cell without shared
spectrum access in frequency range 1 and frequency range 2-1, (18 \- _A_) for
operation in a cell with shared spectrum access in frequency range 1 or for
operation in a cell in frequency range 2-2, where the value of _A_ is the
number of bits for the field of \'LSBs of SFN\' as defined above
The following information is transmitted by means of the DCI format 1_0 with
CRC scrambled by TC-RNTI:
\- Identifier for DCI formats - 1 bit
\- The value of this bit field is always set to 1, indicating a DL DCI format
\- Frequency domain resource assignment - bits
\- is the size of CORESET 0
\- Time domain resource assignment - 4 bits as defined in Clause 5.1.2.1 of
[6, TS38.214]
\- VRB-to-PRB mapping - 1 bit according to Table 7.3.1.2.2-5
\- Modulation and coding scheme - 5 bits as defined in Clause 5.1.3 of [6,
TS38.214], using Table 5.1.3.1-1
\- New data indicator - 1 bit
\- Redundancy version - 2 bits as defined in Table 7.3.1.1.1-2
\- HARQ process number - 4 bits
\- Downlink assignment index - 2 bits
\- 2 bits indicating the number of repetitions for PUCCH as defined in clause
9.2.6 of [5, TS38.213], if the higher layer parameter
_numberOfPUCCHforMsg4HARQACK-RepetitionsList_ is configured with at least two
values;
\- otherwise, reserved.
\- TPC command for scheduled PUCCH - 2 bits as defined in Clause 7.2.1 of [5,
TS38.213]
\- PUCCH resource indicator - 3 bits as defined in Clause 9.2.3 of [5,
TS38.213]
\- PDSCH-to-HARQ_feedback timing indicator - 3 bits as defined in Clause 9.2.3
of [5, TS38.213]
\- ChannelAccess-CPext - 2 bits indicating combinations of channel access type
and CP extension as defined in Table 7.3.1.1.1-4, or Table 7.3.1.1.1-4A if
_channelAccessMode-r16_ = \"_semiStatic_ \" is provided, for operation in a
cell with shared spectrum channel access in frequency range 1; 2 bits
indicating channel access type as defined in Table 7.3.1.1.1-4B if
_ChannelAccessMode2-r17_ is provided for operation in a cell in frequency
range 2-2; otherwise 0 bit
\- Reserved bits - 2 bits when the DCI format is monitored in common search
space for operation in a cell in frequency range 2-2 and the number of bits
for the field of \'ChannelAccess-CPext\' is 0; 0 bits otherwise
Table 7.3.1.2.1-1: Short Message indicator
Bit field Short Message indicator
* * *
00 Reserved 01 Only scheduling information for Paging, and TRS availability
indication if _trs-ResourceSetConfig_ is configured, are present in the DCI 10
Only short message, and TRS availability indication if _trs-ResourceSetConfig_
is configured, are present in the DCI 11 Both scheduling information for
Paging, TRS availability indication if _trs-ResourceSetConfig_ is configured
and short message are present in the DCI
Table 7.3.1.2.1-2: System information indicator
Bit field System information indicator
* * *
0 SIB1 [9, TS38.331, Clause 5.2.1] 1 SI message [9, TS38.331, Clause 5.2.1]
Table 7.3.1.2.1-3: PRACH retransmission indicator
Bit field PRACH retransmission indicator
* * *
0 Initial transmission of PRACH 1 Retransmission of PRACH
##### 7.3.1.2.2 Format 1_1
DCI format 1_1 is used for the scheduling of one or multiple PDSCH in one
cell.
The following information is transmitted by means of the DCI format 1_1 with
CRC scrambled by C-RNTI or CS-RNTI or MCS-C-RNTI:
\- Identifier for DCI formats - 1 bits
\- The value of this bit field is always set to 1, indicating a DL DCI format
\- Carrier indicator - 0 or 3 bits as defined in Clause 10.1 of [5, TS
38.213]. This field is reserved when this format is carried by PDCCH on the
primary cell and the UE is configured for scheduling on the primary cell from
an SCell, with the same number of bits as that in this format carried by PDCCH
on the SCell for scheduling on the primary cell.
\- Bandwidth part indicator - 0, 1 or 2 bits as determined by the number of DL
BWPs configured by higher layers, excluding the initial DL bandwidth part. The
bitwidth for this field is determined as bits, where
\- if , in which case the bandwidth part indicator is equivalent to the
ascending order of the higher layer parameter _BWP-Id_ ;
\- otherwise , in which case the bandwidth part indicator is defined in Table
7.3.1.1.2-1;
If a UE does not support active BWP change via DCI, the UE ignores this bit
field.
\- Frequency domain resource assignment - number of bits determined by the
following, where is the size of the active DL bandwidth part:
\- bits if only resource allocation type 0 is configured, where is defined in
Clause 5.1.2.2.1 of [6, TS38.214],
\- bits if only resource allocation type 1 is configured, or
\- bits if _resourceAllocation_ is configured as \'_dynamicSwitch\'_.
\- If _resourceAllocation_ is configured as \'_dynamicSwitch\'_ , the MSB bit
is used to indicate resource allocation type 0 or resource allocation type 1,
where the bit value of 0 indicates resource allocation type 0 and the bit
value of 1 indicates resource allocation type 1.
\- For resource allocation type 0, the LSBs provide the resource allocation as
defined in Clause 5.1.2.2.1 of [6, TS 38.214].
\- For resource allocation type 1, the LSBs provide the resource allocation as
defined in Clause 5.1.2.2.2 of [6, TS 38.214]
> If \"Bandwidth part indicator\" field indicates a bandwidth part other than
> the active bandwidth part and if _resourceAllocation_ is configured as
> \'_dynamicSwitch\'_ for the indicated bandwidth part, the UE assumes
> resource allocation type 0 for the indicated bandwidth part if the bitwidth
> of the \"Frequency domain resource assignment\" field of the active
> bandwidth part is smaller than the bitwidth of the \"Frequency domain
> resource assignment\" field of the indicated bandwidth part.
\- Time domain resource assignment - 0, 1, 2, 3, 4, 5 or 6 bits
\- If the higher layer parameter _pdsch-TimeDomainAllocationListForMultiPDSCH_
is not configured and if the higher layer parameter _pdsch-
TimeDomainAllocationList_ is configured, 0, 1, 2, 3 or 4 bits as defined in
Clause 5.1.2.1 of [6, TS 38.214]. The bitwidth for this field is determined as
bits, where _I_ is the number of entries in the higher layer parameter _pdsch-
TimeDomainAllocationList_ if the higher layer parameter is configured;
\- if the higher layer parameter _pdsch-TimeDomainAllocationListForMultiPDSCH_
is configured, 0, 1, 2, 3, 4, 5 or 6 bits as defined in Clause 5.1.2.1 of [6,
TS38.214]. The bitwidth for this field is determined as $\left\lceil
\log_{2}{(I)} \right\rceil\ $bits, where _I_ is the number of entries in the
higher layer parameter _pdsch-TimeDomainAllocationListForMultiPDSCH_ ;
\- otherwise _I_ is the number of entries in the default table.
\- VRB-to-PRB mapping - 0 or 1 bit:
\- 0 bit if only resource allocation type 0 is configured or if interleaved
VRB-to-PRB mapping is not configured by high layers;
\- 1 bit according to Table 7.3.1.2.2-5 otherwise, only applicable to resource
allocation type 1, as defined in Clause 7.3.1.6 of [4, TS 38.211].
\- PRB bundling size indicator - 0 bit if the higher layer parameter _prb-
BundlingType_ is not configured or is set to \'staticBundling\', or 1 bit if
the higher layer parameter _prb-BundlingType_ is set to \'dynamicBundling\'
according to Clause 5.1.2.3 of [6, TS 38.214].
\- Rate matching indicator - 0, 1, or 2 bits according to higher layer
parameters _rateMatchPatternGroup1_ and _rateMatchPatternGroup2_ , where the
MSB is used to indicate _rateMatchPatternGroup1_ and the LSB is used to
indicate _rateMatchPatternGroup2_ when there are two groups.
\- ZP CSI-RS trigger - 0, 1, or 2 bits as defined in Clause 5.1.4.2 of [6, TS
38.214]. The bitwidth for this field is determined as bits, where is the
number of aperiodic ZP CSI-RS resource sets configured by higher layer.
For transport block 1:
\- Modulation and coding scheme - 5 bits as defined in Clause 5.1.3.1 of [6,
TS 38.214]
\- New data indicator - 1 bit if the number of scheduled PDSCH indicated by
the Time domain resource assignment field is 1; otherwise 2, 3, 4, 5, 6, 7 or
8 bits determined based on the maximum number of schedulable PDSCH among all
entries in the higher layer parameter _pdsch-
TimeDomainResourceAllocationListForMultiPDSCH_ , where each bit corresponds to
one scheduled PDSCH as defined in clause 5.1.3 in [6, TS 38.214].
\- Redundancy version - number of bits determined by the following:
\- 2 bits as defined in Table 7.3.1.1.1-2 if the number of scheduled PDSCH
indicated by the Time domain resource assignment field is 1;
\- otherwise 2, 3, 4, 5, 6, 7 or 8 bits determined by the maximum number of
schedulable PDSCHs among all entries in the higher layer parameter _pdsch-
TimeDomainResourceAllocationListForMultiPDSCH_ , where each bit corresponds to
one scheduled PDSCH as defined in clause 5.1.3 in [6, TS 38.214] and
redundancy version is determined according to Table 7.3.1.1.2-34.
For transport block 2 (only present if _maxNrofCodeWordsScheduledByDCI_ equals
2):
\- Modulation and coding scheme - 5 bits as defined in Clause 5.1.3.1 of [6,
TS 38.214]
\- New data indicator - 1 bit if the number of scheduled PDSCH indicated by
the Time domain resource assignment field is 1; otherwise 2, 3, 4, 5, 6, 7 or
8 bits determined based on the maximum number of schedulable PDSCH among all
entries in the higher layer parameter _pdsch-
TimeDomainResourceAllocationListForMultiPDSCH_ , where each bit corresponds to
one scheduled PDSCH as defined in clause 5.1.3 in [6, TS 38.214].
\- Redundancy version - number of bits determined by the following:
\- 2 bits as defined in Table 7.3.1.1.1-2 if the number of scheduled PDSCH
indicated by the Time domain resource assignment field is 1;
\- otherwise 2, 3, 4, 5, 6, 7 or 8 bits determined by the maximum number of
schedulable PDSCHs among all entries in the higher layer parameter _pdsch-
TimeDomainResourceAllocationListForMultiPDSCH_ , where each bit corresponds to
one scheduled PDSCH as defined in clause 5.1.3 in [6, TS 38.214] and
redundancy version is determined according to Table 7.3.1.1.2-34.
> If \"Bandwidth part indicator\" field indicates a bandwidth part other than
> the active bandwidth part and the value of _maxNrofCodeWordsScheduledByDCI_
> for the indicated bandwidth part equals 2 and the value of
> _maxNrofCodeWordsScheduledByDCI_ for the active bandwidth part equals 1, the
> UE assumes zeros are padded when interpreting the \"Modulation and coding
> scheme\", \"New data indicator\", and \"Redundancy version\" fields of
> transport block 2 according to Clause 12 of [5, TS38.213], and the UE
> ignores the \"Modulation and coding scheme\", \"New data indicator\", and
> \"Redundancy version\" fields of transport block 2 for the indicated
> bandwidth part.
\- HARQ process number - 5 bits if higher layer parameter _harq-
ProcessNumberSizeDCI-1-1_ is configured; otherwise 4 bits
\- Downlink assignment index - number of bits as defined in the following
\- 6 bits if more than one serving cell are configured in the DL and the
higher layer parameter _nfi-TotalDAI-Included_ is configured. The 4 MSB bits
are the counter DAI and the total DAI for the scheduled PDSCH group, and the 2
LSB bits are the total DAI for the non-scheduled PDSCH group.
\- 4 bits if only one serving cell is configured in the DL and the higher
layer parameter _nfi-TotalDAI-Included_ is configured _._ The 2 MSB bits are
the counter DAI for the scheduled PDSCH group, and the 2 LSB bits are the
total DAI for the non-scheduled PDSCH group;
\- 4 bits if more than one serving cell are configured in the DL, the higher
layer parameter _pdsch-HARQ-ACK-Codebook=dynamic_ or _pdsch-HARQ-ACK-
Codebook-r16= enhancedDynamic_ , and _nfi-TotalDAI-Included_ is not
configured, where the 2 MSB bits are the counter DAI and the 2 LSB bits are
the total DAI;
\- 4 bits if one serving cell is configured in the DL, and the higher layer
parameter _pdsch-HARQ-ACK-Codebook=dynamic_ , and the UE is not provided
_coresetPoolIndex_ or is provided _coresetPoolIndex_ with value 0 for one or
more first CORESETs and is provided _coresetPoolIndex_ with value 1 for one or
more second CORESETs, and is provided _ackNackFeedbackMode = joint_ , where
the 2 MSB bits are the counter DAI and the 2 LSB bits are the total DAI;
\- 2 bits if only one serving cell is configured in the DL, the higher layer
parameter _pdsch-HARQ-ACK-Codebook=dynamic_ or _pdsch-HARQ-ACK-
Codebook-r16=enhancedDynamic_ , and _nfi-TotalDAI-Included_ is not configured,
when the UE is not configured with _coresetPoolIndex_ or the value of
_coresetPoolIndex_ is the same for all CORESETs if _coresetPoolIndex_ is
provided or the UE is not configured with _ackNackFeedbackMode = joint_ ,
where the 2 bits are the counter DAI;
\- 0 bits otherwise.
If the UE is configured with a PUCCH-SCell, the number of serving cells is
determined within a PUCCH group.
If the UE is configured with a PUCCH-SCell, _pdsch-HARQ-ACK-Codebook_ is
replaced by _pdsch-HARQ-ACK-Codebook-secondaryPUCCHgroup-r16_ if present for
the secondary PUCCH group.
If higher layer parameter _priorityIndicatorDCI-1-1_ is configured, if the bit
width of the Downlink assignment index in DCI format 1_1 for one HARQ-ACK
codebook is not equal to that of the Downlink assignment index in DCI format
1_1 for the other HARQ-ACK codebook, a number of most significant bits with
value set to \'0\' are inserted to smaller Downlink assignment index until the
bit width of the Downlink assignment index in DCI format 1_1 for the two HARQ-
ACK codebooks are the same.
\- TPC command for scheduled PUCCH - 2 bits as defined in Clause 7.2.1 of [5,
TS 38.213]
\- Second TPC command for scheduled PUCCH - 2 bits as defined in Clause 7.2.1
of [5, TS 38.213] if higher layer parameter _SecondTPCFieldDCI-1-1_ is
configured; 0 bit otherwise.
\- PUCCH resource indicator - 3 bits as defined in Clause 9.2.3 of [5, TS
38.213]
\- PDSCH-to-HARQ_feedback timing indicator - 0, 1, 2, or 3 bits as defined in
Clause 9.2.3 of [5, TS 38.213]. The bitwidth for this field is determined as
bits, where _I_ is the number of entries in the higher layer parameter _dl-
DataToUL-ACK._
If higher layer parameter _priorityIndicatorDCI-1-1_ is configured, if the bit
width of the PDSCH-to-HARQ_feedback timing indicator in DCI format 1_1 for one
HARQ-ACK codebook is not equal to that of the PDSCH-to-HARQ_feedback timing
indicator in DCI format 1_1 for the other HARQ-ACK codebook on the same cell
for PUCCH transmission, a number of most significant bits with value set to
\'0\' are inserted to smaller PDSCH-to-HARQ_feedback timing indicator until
the bit width of the PDSCH-to-HARQ_feedback timing indicator in DCI format 1_1
for the two HARQ-ACK codebooks are the same.
If higher layer parameter _pucch-sSCellDyn_ is configured, if the bit width of
the PDSCH-to-HARQ_feedback timing indicator in DCI format 1_1 associated with
one cell for PUCCH transmission is not equal to that of the PDSCH-to-
HARQ_feedback timing indicator in DCI format 1_1 associated with the other
cell for PUCCH transmission, a number of most significant bits with value set
to \'0\' are inserted to smaller PDSCH-to-HARQ_feedback timing indicator until
the bit width of the PDSCH-to-HARQ_feedback timing indicator in DCI format 1_1
associated with the two cells are the same.
If the UE is configured with a PUCCH-SCell, _pucch-sSCellDyn_ is replaced by
_pucch-sSCellDynSecondaryPUCCHgroup_ for the secondary PUCCH group _._
\- One-shot HARQ-ACK request - 0 or 1 bit.
\- 1 bit if higher layer parameter _pdsch-HARQ-ACK-OneShotFeedback-r16_ or
_pdsch-HARQ-ACK-EnhType3ToAddModList_ is configured;
> \- 0 bit otherwise.
>
> If the UE is configured with a PUCCH-SCell, _pdsch-HARQ-ACK-
> EnhType3ToAddModList_ is replaced by _pdsch-HARQ-ACK-
> EnhType3SecondaryToAddModList_ for the secondary PUCCH group _._
\- Enhanced Type 3 codebook indicator - 0, 1, 2, or 3 bits.
\- 0 bit if _pdsch-HARQ-ACK-EnhType3DCI-Field_ is not configured;
\- $\left\lceil \log_{2}{(n_{\text{CB}})} \right\rceil$ bits otherwise, where
$n_{\text{CB}}$ is the number of entries in the higher layer parameter _pdsch-
HARQ-ACK-EnhType3ToAddModList._
If the UE is configured with a PUCCH-SCell, _pdsch-HARQ-ACK-EnhType3DCI-Field_
is replaced by _pdsch-HARQ-ACK-EnhType3DCI-FieldSecondaryPUCCHgroup_ for the
secondary PUCCH group, and _pdsch-HARQ-ACK-EnhType3ToAddModList_ is replaced
by _pdsch-HARQ-ACK-EnhType3SecondaryList_ for the secondary PUCCH group _._
\- PDSCH group index - 0 or 1 bit.
\- 1 bit if the higher layer parameter _pdsch-HARQ-ACK-Codebook-r16=_
_enhancedDynamic_ ;
\- 0 bit otherwise.
\- New feedback indicator - 0, 1 or 2 bits.
\- 1 bit if the higher layer parameter _pdsch-HARQ-ACK-Codebook-r16=_
_enhancedDynamic_ and the higher layer parameter _nfi-TotalDAI-Included_ is
not configured;
\- 2 bits if the higher layer parameter _pdsch-HARQ-ACK-Codebook-r16=_
_enhancedDynamic_ and the higher layer parameter _nfi-TotalDAI-Included=true_
; the MSB corresponds to the scheduled PDSCH group, and the LSB corresponds to
the non-scheduled PDSCH group, as defined in [TS38.213] clause 9.1.3.3
\- 0 bit otherwise.
\- Number of requested PDSCH group(s) - 0 or 1 bit.
\- 1 bit if the higher layer parameter _pdsch-HARQ-ACK-Codebook-r16=_
_enhancedDynamic_ ;
\- 0 bit otherwise.
\- HARQ-ACK retransmission indicator - 0 or 1 bit.
\- 1 bit if higher layer parameter _pdsch-HARQ-ACK-Retx_ is configured.
\- 0 bit otherwise.
If the UE is configured with a PUCCH-SCell, _pdsch-HARQ-ACK-Retx_ is replaced
by _pdsch-HARQ-ACK-RetxSecondaryPUCCHgroup_ for the secondary PUCCH group.
\- Antenna port(s) - 4, 5, 6, 7 or 8 bits as defined by Tables
7.3.1.2.2-1/2/3/4/7/8/9/10 and Tables 7.3.1.2.2-1A/2A/3A/4A/7A/8A/9A/10A,
where the number of CDM groups without data of values 1, 2, and 3 refers to
CDM groups {0}, {0,1}, and {0, 1,2} respectively. The antenna ports shall be
determined according to the ordering of DMRS port(s) given by Tables
7.3.1.2.2-1/2/3/4/7/8/9/10 or Tables 7.3.1.2.2-1A/2A/3A/4A/7A/8A/9A/10A. When
a UE receives an activation command that maps at least one codepoint of DCI
field \'_Transmission Configuration Indication_ \' to two TCI states, the UE
shall use Table 7.3.1.2.2-1A/2A/3A/4A/7A/8A/9A/10A; otherwise, it shall use
Tables 7.3.1.2.2-1/2/3/4/7/8/9/10. The UE can receive an entry with DMRS ports
equals to 1000, 1002, 1003 when two TCI states are indicated in a codepoint of
DCI field \'_Transmission Configuration Indication_ \'.
> If a UE is configured with both _dmrs-DownlinkForPDSCH-MappingTypeA_ and
> _dmrs-DownlinkForPDSCH-MappingTypeB_ , the bitwidth of this field equals ,
> where is the \"Antenna ports\" bitwidth derived according to _dmrs-
> DownlinkForPDSCH-MappingTypeA_ and is the \"Antenna ports\" bitwidth derived
> according to _dmrs-DownlinkForPDSCH-MappingTypeB_. A number of zeros are
> padded in the MSB of this field, if the mapping type of the PDSCH
> corresponds to the smaller value of and .
\- Transmission configuration indication - 0 bit if higher layer parameter
_tci-PresentInDCI_ is not enabled; otherwise 3 bits as defined in Clause 5.1.5
of [6, TS38.214].
If \"Bandwidth part indicator\" field indicates a bandwidth part other than
the active bandwidth part,
\- if the higher layer parameter _tci-PresentInDCI_ is not enabled for the
CORESET used for the PDCCH carrying the DCI format 1_1,
\- the UE assumes _tci-PresentInDCI_ is not enabled for all CORESETs in the
indicated bandwidth part;
\- otherwise,
\- the UE assumes _tci-PresentInDCI_ is enabled for all CORESETs in the
indicated bandwidth part.
\- TCI selection - 0 bit if higher layer parameter _tciSelection-PresentInDCI_
is not configured; otherwise 2 bits according to Table 7.3.1.2.2-11.
\- SRS request - 2 bits as defined by Table 7.3.1.1.2-24 for UEs not
configured with _supplementaryUplink_ in _ServingCellConfig_ in the cell; 3
bits for UEs configured with _supplementaryUplink_ in _ServingCellConfig_ in
the cell where the first bit is the non-SUL/SUL indicator as defined in Table
7.3.1.1.1-1 and the second and third bits are defined by Table 7.3.1.1.2-24.
This bit field may also indicate the associated CSI-RS according to Clause
6.1.1.2 of [6, TS 38.214].
\- SRS offset indicator - 0, 1 or 2 bits.
\- 0 bit if higher layer parameter _AvailableSlotOffset_ is not configured for
any aperiodic SRS resource set in the scheduled cell, or if higher layer
parameter _AvailableSlotOffset_ is configured for at least one aperiodic SRS
resource set in the scheduled cell and the maximum number of entries of
_availableSlotOffsetList_ configured for all aperiodic SRS resource set(s) is
1;
\- otherwise, $\left\lceil \log_{2}{(K)} \right\rceil$ bits are used to
indicate available slot offset according to Table 7.3.1.1.2-37 and Clause
6.2.1 of [6, TS 38.214], where K is the maximum number of entries of
_availableSlotOffsetList_ configured for all aperiodic SRS resource set(s) in
the scheduled cell;
\- CBG transmission information (CBGTI) - 0 bit if higher layer parameter
_PDSCH-CodeBlockGroupTransmission_ for PDSCH is not configured, otherwise, 2,
4, 6, or 8 bits as defined in Clause 5.1.7 of [6, TS38.214], determined by the
higher layer parameters _maxCodeBlockGroupsPerTransportBlock_ and
_maxNrofCodeWordsScheduledByDCI_ for the PDSCH.
If higher layer parameter _priorityIndicatorDCI-1-1_ is configured, if the bit
width of the CBG transmission information in DCI format 1_1 for one HARQ-ACK
codebook is not equal to that of the CBG transmission information in DCI
format 1_1 for the other HARQ-ACK codebook, a number of most significant bits
with value set to \'0\' are inserted to smaller CBG transmission information
until the bit width of the CBG transmission information in DCI format 1_1 for
the two HARQ-ACK codebooks are the same.
\- CBG flushing out information (CBGFI) - 1 bit if higher layer parameter
_codeBlockGroupFlushIndicator_ is configured as \"TRUE\", 0 bit otherwise.
If higher layer parameter _priorityIndicatorDCI-1-1_ is configured, if the bit
width of the CBG flushing out information in DCI format 1_1 for one HARQ-ACK
codebook is not equal to that of the CBG flushing out information in DCI
format 1_1 for the other HARQ-ACK codebook, a number of most significant bits
with value set to \'0\' are inserted to smaller CBG flushing out information
until the bit width of the CBG flushing out information in DCI format 1_1 for
the two HARQ-ACK codebooks are the same.
\- DMRS sequence initialization - 1 bit.
\- Priority indicator - 0 bit if higher layer parameter
_priorityIndicatorDCI-1-1_ is not configured; otherwise 1 bit as defined in
Clause 9 in [5, TS 38.213].
\- ChannelAccess-CPext - 0, 1, 2, 3 or 4 bits. The bitwidth for this field is
determined as $\left\lceil \log_{2}{(I)} \right\rceil$ bits, where _I_ is the
number of entries in the higher layer parameter _ul-AccessConfigListDCI-1-1_
or in Table 7.3.1.1.1-4A if _channelAccessMode-r16_ = \"_semiStatic_ \" is
provided, for operation in a cell with shared spectrum channel access in
frequency range 1, or for operation in frequency range 2-2 if
_ChannelAccessMode2-r17_ is provided; otherwise 0 bit. One or more entries
from Table 7.3.1.2.2-6 or Table 7.3.1.2.2-6A are configured by the higher
layer parameter _ul-AccessConfigListDCI-1-1._
\- Minimum applicable scheduling offset indicator - 0 or 1 bit
\- 0 bit if higher layer parameter _minimumSchedulingOffsetK0_ is not
configured;
\- 1 bit if higher layer parameter _minimumSchedulingOffsetK0_ is configured.
The 1 bit indication is used to determine the minimum applicable K0 for the
active DL BWP and the minimum applicable K2 value for the active UL BWP, if
configured respectively, according to Table 7.3.1.1.2-33. If the minimum
applicable K0 is indicated, the minimum applicable value of the aperiodic CSI-
RS triggering offset for an active DL BWP shall be the same as the minimum
applicable K0 value.
\- SCell dormancy indication - 0 bit if higher layer parameter
_dormancyGroupWithinActiveTime_ is not configured; otherwise 1, 2, 3, 4 or 5
bits bitmap determined according to the number of different
_DormancyGroupID(s)_ provided by higher layer parameter
_dormancyGroupWithinActiveTime,_ where each bit corresponds to one of the
SCell group(s) configured by higher layers parameter
_dormancyGroupWithinActiveTime,_ with MSB to LSB of the bitmap corresponding
to the first to last configured SCell group in ascending order of
_DormancyGroupID_. The field is only present when this format is carried by
PDCCH on the primary cell within DRX Active Time and the UE is configured with
at least two DL BWPs for an SCell.
If one-shot HARQ-ACK request is not present or set to \'0\', and all bits of
frequency domain resource assignment are set to 0 for resource allocation type
0 or set to 1 for resource allocation type 1 or set to 0 or 1 for dynamic
switch resource allocation type, this field is reserved and the following
fields among the fields above are used for SCell dormancy indication, where
each bit corresponds to one of the configured SCell(s), with MSB to LSB of the
following fields concatenated in the order below corresponding to the SCell
with lowest to highest SCell index
\- Modulation and coding scheme of transport block 1
\- New data indicator of transport block 1
\- Redundancy version of transport block 1
\- HARQ process number
\- Antenna port(s)
\- DMRS sequence initialization
\- PDCCH monitoring adaptation indication - 0, 1 or 2 bits
\- 1 or 2 bits, if _searchSpaceGroupIdList-r17_ is not configured and if
_pdcch-SkippingDurationList_ is configured
\- 1 bit if the UE is configured with only one duration by _pdcch-
SkippingDurationList;_
\- 2 bits if the UE is configured with more than one duration by _pdcch-
SkippingDurationList_.
\- 1 or 2 bits, if _pdcch-SkippingDurationList_ is not configured and if
_searchSpaceGroupIdList-r17_ is configured
\- 1 bit if the UE is configured by _searchSpaceGroupIdList-r17_ with search
space set(s) with group index 0 and search space set(s) with group index 1,
and if the UE is not configured by _searchSpaceGroupIdList-r17_ with any
search space set with group index 2;
\- 2 bits if the UE is configured by _searchSpaceGroupIdList-r17_ with search
space set(s) with group index 0, search space set(s) with group index 1 and
search space set(s) with group index 2;
\- 2 bits, if _pdcch-SkippingDurationList_ is configured and if
_searchSpaceGroupIdList-r17_ is configured
\- 0 bit, otherwise
\- PUCCH Cell indicator - 0 or 1 bit.
\- 1 bit if higher layer parameter _pucch-sSCellDyn_ is configured.
\- 0 bit otherwise.
> If the UE is configured with a PUCCH-SCell, _pucch-sSCellDyn_ is replaced by
> _pucch-sSCellDynSecondaryPUCCHgroup_ for the secondary PUCCH group _._
If DCI formats 1_1 are monitored in multiple search spaces associated with
multiple CORESETs in a BWP for scheduling the same serving cell, zeros shall
be appended until the payload size of the DCI formats 1_1 monitored in the
multiple search spaces equal to the maximum payload size of the DCI format 1_1
monitored in the multiple search spaces.
If the number of information bits in DCI format 1_1 scheduling a single PDSCH
prior to padding is not equal to the number of information bits in DCI format
1_1 scheduling multiple PDSCHs for the same serving cell, zeros shall be
appended to the DCI format 1_1 with smaller size until the payload size is the
same for scheduling a single PDSCH and multiple PDSCHs.
For a UE configured with scheduling on the primary cell from an SCell, if
prior to padding the number of information bits in DCI format 1_1 carried by
PDCCH on the primary cell is not equal to the number of information bits in
DCI format 1_1 carried by PDCCH on the SCell for scheduling on the primary
cell, zeros shall be appended to the DCI format 1_1 with smaller size until
the payload size is the same:
\- If application of step 4C in clause 7.3.1.0 results in additional zero
padding for DCI format 1_1 for scheduling on the primary cell, corresponding
zeros shall be appended to both DCI format 1_1 monitored on the primary cell
and DCI format 1_1 monitored on the SCell for scheduling on the primary cell.
\- If the SCell is deactivated and _firstActiveDownlinkBWP-Id_ is not set to
dormant BWP, the UE determines the number of information bits in DCI format
1_1 carried by PDCCH on the primary cell based on a DL BWP provided by
_firstActiveDownlinkBWP-Id_ for the SCell. If the active DL BWP of the SCell
is a dormant DL BWP, or if the SCell is deactivated and
_firstActiveDownlinkBWP-Id_ is set to dormant BWP, the UE determines the
number of information bits in DCI format 1_1 carried by PDCCH on the primary
cell based on a DL BWP provided by _firstWithinActiveTimeBWP-Id_ for the SCell
if provided; otherwise, based on a DL BWP provided by
_firstOutsideActiveTimeBWP-Id_ for the SCell.
Table 7.3.1.2.2-1: Antenna port(s) (1000 + DMRS port), _dmrs-Type_ =1,
_maxLength_ =1
+------------------------+------------------------+------------------+ | **One Codeword:** | | | | | | | | **Codeword 0 | | | | enabled,** | | | | | | | | **Codeword 1 | | | | disabled** | | | +========================+========================+==================+ | **Value** | **Number of DMRS CDM |** DMRS port(s)**| | | group(s) without | | | | data** | | +------------------------+------------------------+------------------+ | 0 | 1 | 0 | +------------------------+------------------------+------------------+ | 1 | 1 | 1 | +------------------------+------------------------+------------------+ | 2 | 1 | 0,1 | +------------------------+------------------------+------------------+ | 3 | 2 | 0 | +------------------------+------------------------+------------------+ | 4 | 2 | 1 | +------------------------+------------------------+------------------+ | 5 | 2 | 2 | +------------------------+------------------------+------------------+ | 6 | 2 | 3 | +------------------------+------------------------+------------------+ | 7 | 2 | 0,1 | +------------------------+------------------------+------------------+ | 8 | 2 | 2,3 | +------------------------+------------------------+------------------+ | 9 | 2 | 0-2 | +------------------------+------------------------+------------------+ | 10 | 2 | 0-3 | +------------------------+------------------------+------------------+ | 11 | 2 | 0,2 | +------------------------+------------------------+------------------+ | 12-15 | Reserved | Reserved | +------------------------+------------------------+------------------+
Table 7.3.1.2.2-1A: Antenna port(s) (1000 + DMRS port), _dmrs-Type_ =1,
_maxLength_ =1
+------------------------+------------------------+------------------+ | **One Codeword:** | | | | | | | | **Codeword 0 | | | | enabled,** | | | | | | | | **Codeword 1 | | | | disabled** | | | +========================+========================+==================+ | **Value** | **Number of DMRS CDM |** DMRS port(s)**| | | group(s) without | | | | data** | | +------------------------+------------------------+------------------+ | 0 | 1 | 0 | +------------------------+------------------------+------------------+ | 1 | 1 | 1 | +------------------------+------------------------+------------------+ | 2 | 1 | 0,1 | +------------------------+------------------------+------------------+ | 3 | 2 | 0 | +------------------------+------------------------+------------------+ | 4 | 2 | 1 | +------------------------+------------------------+------------------+ | 5 | 2 | 2 | +------------------------+------------------------+------------------+ | 6 | 2 | 3 | +------------------------+------------------------+------------------+ | 7 | 2 | 0,1 | +------------------------+------------------------+------------------+ | 8 | 2 | 2,3 | +------------------------+------------------------+------------------+ | 9 | 2 | 0-2 | +------------------------+------------------------+------------------+ | 10 | 2 | 0-3 | +------------------------+------------------------+------------------+ | 11 | 2 | 0,2 | +------------------------+------------------------+------------------+ | 12 | 2 | 0,2,3 | +------------------------+------------------------+------------------+ | 13-15 | Reserved | Reserved | +------------------------+------------------------+------------------+
Table 7.3.1.2.2-2: Antenna port(s) (1000 + DMRS port), _dmrs-Type_ =1,
_maxLength_ =2
+-------+-------+-------+-------+-------+-------+-------+-------+ | **One |** Two | | | | | | | | C | Co | | | | | | | | odewo | dewor | | | | | | | | rd:**| ds:** | | | | | | | | | | | | | | | | | **Cod |** Cod | | | | | | | | eword | eword | | | | | | | | 0 | 0 | | | | | | | | enabl | enabl | | | | | | | | ed,**| ed,** | | | | | | | | | | | | | | | | | **Cod |** Cod | | | | | | | | eword | eword | | | | | | | | 1 | 1 | | | | | | | | disab | enab | | | | | | | | led**| led** | | | | | | | +=======+=======+=======+=======+=======+=======+=======+=======+ | **Va |** N | * | **N |** Va | **N | * |** N | | lue**| umber | *DMRS | umber | lue** | umber | _DMRS | umber | | | of | port | of | | of | port | of | | | DMRS | (s)__| front | | DMRS | (s)__| front | | | CDM | | -load | | CDM | | -load | | | gro | | symb | | gro | | symb | | | up(s) | | ols_ _| | up(s) | | ols_ _| | | wi | | | | wi | | | | | thout | | | | thout | | | | | d | | | | d | | | | | ata_ _| | | | ata_ * | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 0 | 1 | 0 | 1 | 0 | 2 | 0-4 | 2 | +-------+-------+-------+-------+-------+-------+-------+-------+ | 1 | 1 | 1 | 1 | 1 | 2 | 0 | 2 | | | | | | | | ,1,2, | | | | | | | | | 3,4,6 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 2 | 1 | 0,1 | 1 | 2 | 2 | 0,1 | 2 | | | | | | | | ,2,3, | | | | | | | | | 4,5,6 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 3 | 2 | 0 | 1 | 3 | 2 | 0,1,2 | 2 | | | | | | | | ,3,4, | | | | | | | | | 5,6,7 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 4 | 2 | 1 | 1 | 4-31 | res | res | res | | | | | | | erved | erved | erved | +-------+-------+-------+-------+-------+-------+-------+-------+ | 5 | 2 | 2 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 6 | 2 | 3 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 7 | 2 | 0,1 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 8 | 2 | 2,3 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 9 | 2 | 0-2 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 10 | 2 | 0-3 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 11 | 2 | 0,2 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 12 | 2 | 0 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 13 | 2 | 1 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 14 | 2 | 2 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 15 | 2 | 3 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 16 | 2 | 4 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 17 | 2 | 5 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 18 | 2 | 6 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 19 | 2 | 7 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 20 | 2 | 0,1 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 21 | 2 | 2,3 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 22 | 2 | 4,5 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 23 | 2 | 6,7 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 24 | 2 | 0,4 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 25 | 2 | 2,6 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 26 | 2 | 0,1,4 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 27 | 2 | 2,3,6 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 28 | 2 | 0, | 2 | | | | | | | | 1,4,5 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 29 | 2 | 2, | 2 | | | | | | | | 3,6,7 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 30 | 2 | 0, | 2 | | | | | | | | 2,4,6 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 31 | Res | Res | Res | | | | | | | erved | erved | erved | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+
Table 7.3.1.2.2-2A: Antenna port(s) (1000 + DMRS port), _dmrs-Type_ =1,
_maxLength_ =2
+-------+-------+-------+-------+-------+-------+-------+-------+ | **One |** Two | | | | | | | | C | Co | | | | | | | | odewo | dewor | | | | | | | | rd:**| ds:** | | | | | | | | | | | | | | | | | **Cod |** Cod | | | | | | | | eword | eword | | | | | | | | 0 | 0 | | | | | | | | enabl | enabl | | | | | | | | ed,**| ed,** | | | | | | | | | | | | | | | | | **Cod |** Cod | | | | | | | | eword | eword | | | | | | | | 1 | 1 | | | | | | | | disab | enab | | | | | | | | led**| led** | | | | | | | +=======+=======+=======+=======+=======+=======+=======+=======+ | **Va |** N | * | **N |** Va | **N | * |** N | | lue**| umber | *DMRS | umber | lue** | umber | _DMRS | umber | | | of | port | of | | of | port | of | | | DMRS | (s)__| front | | DMRS | (s)__| front | | | CDM | | -load | | CDM | | -load | | | gro | | symb | | gro | | symb | | | up(s) | | ols_ _| | up(s) | | ols_ _| | | wi | | | | wi | | | | | thout | | | | thout | | | | | d | | | | d | | | | | ata_ _| | | | ata_ * | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 0 | 1 | 0 | 1 | 0 | 2 | 0-4 | 2 | +-------+-------+-------+-------+-------+-------+-------+-------+ | 1 | 1 | 1 | 1 | 1 | 2 | 0 | 2 | | | | | | | | ,1,2, | | | | | | | | | 3,4,6 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 2 | 1 | 0,1 | 1 | 2 | 2 | 0,1 | 2 | | | | | | | | ,2,3, | | | | | | | | | 4,5,6 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 3 | 2 | 0 | 1 | 3 | 2 | 0,1,2 | 2 | | | | | | | | ,3,4, | | | | | | | | | 5,6,7 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 4 | 2 | 1 | 1 | 4-31 | res | res | res | | | | | | | erved | erved | erved | +-------+-------+-------+-------+-------+-------+-------+-------+ | 5 | 2 | 2 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 6 | 2 | 3 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 7 | 2 | 0,1 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 8 | 2 | 2,3 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 9 | 2 | 0-2 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 10 | 2 | 0-3 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 11 | 2 | 0,2 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 12 | 2 | 0 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 13 | 2 | 1 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 14 | 2 | 2 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 15 | 2 | 3 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 16 | 2 | 4 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 17 | 2 | 5 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 18 | 2 | 6 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 19 | 2 | 7 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 20 | 2 | 0,1 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 21 | 2 | 2,3 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 22 | 2 | 4,5 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 23 | 2 | 6,7 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 24 | 2 | 0,4 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 25 | 2 | 2,6 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 26 | 2 | 0,1,4 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 27 | 2 | 2,3,6 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 28 | 2 | 0, | 2 | | | | | | | | 1,4,5 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 29 | 2 | 2, | 2 | | | | | | | | 3,6,7 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 30 | 2 | 0, | 2 | | | | | | | | 2,4,6 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 31 | 2 | 0,2,3 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+
Table 7.3.1.2.2-3: Antenna port(s) (1000 + DMRS port), _dmrs-Type_ =2,
_maxLength_ =1
+----------+----------+----------+----------+----------+----------+ | **One |** Two | | | | | | cod | code | | | | | | eword:**| words:** | | | | | | | | | | | | | ** | ** | | | | | | Codeword | Codeword | | | | | | 0 | 0 | | | | | | en | en | | | | | | abled,**| abled,** | | | | | | | | | | | | | ** | ** | | | | | | Codeword | Codeword | | | | | | 1 | 1 | | | | | | di | e | | | | | | sabled**| nabled** | | | | | +==========+==========+==========+==========+==========+==========+ | * | **Number |** DMRS | * | **Number |** DMRS | | _Value_ _| of DMRS | p |_ Value**| of DMRS | p | | | CDM | ort(s)** | | CDM | ort(s)**| | | group(s) | | | group(s) | | | | without | | | without | | | | data** | | | data** | | +----------+----------+----------+----------+----------+----------+ | 0 | 1 | 0 | 0 | 3 | 0-4 | +----------+----------+----------+----------+----------+----------+ | 1 | 1 | 1 | 1 | 3 | 0-5 | +----------+----------+----------+----------+----------+----------+ | 2 | 1 | 0,1 | 2-31 | reserved | reserved | +----------+----------+----------+----------+----------+----------+ | 3 | 2 | 0 | | | | +----------+----------+----------+----------+----------+----------+ | 4 | 2 | 1 | | | | +----------+----------+----------+----------+----------+----------+ | 5 | 2 | 2 | | | | +----------+----------+----------+----------+----------+----------+ | 6 | 2 | 3 | | | | +----------+----------+----------+----------+----------+----------+ | 7 | 2 | 0,1 | | | | +----------+----------+----------+----------+----------+----------+ | 8 | 2 | 2,3 | | | | +----------+----------+----------+----------+----------+----------+ | 9 | 2 | 0-2 | | | | +----------+----------+----------+----------+----------+----------+ | 10 | 2 | 0-3 | | | | +----------+----------+----------+----------+----------+----------+ | 11 | 3 | 0 | | | | +----------+----------+----------+----------+----------+----------+ | 12 | 3 | 1 | | | | +----------+----------+----------+----------+----------+----------+ | 13 | 3 | 2 | | | | +----------+----------+----------+----------+----------+----------+ | 14 | 3 | 3 | | | | +----------+----------+----------+----------+----------+----------+ | 15 | 3 | 4 | | | | +----------+----------+----------+----------+----------+----------+ | 16 | 3 | 5 | | | | +----------+----------+----------+----------+----------+----------+ | 17 | 3 | 0,1 | | | | +----------+----------+----------+----------+----------+----------+ | 18 | 3 | 2,3 | | | | +----------+----------+----------+----------+----------+----------+ | 19 | 3 | 4,5 | | | | +----------+----------+----------+----------+----------+----------+ | 20 | 3 | 0-2 | | | | +----------+----------+----------+----------+----------+----------+ | 21 | 3 | 3-5 | | | | +----------+----------+----------+----------+----------+----------+ | 22 | 3 | 0-3 | | | | +----------+----------+----------+----------+----------+----------+ | 23 | 2 | 0,2 | | | | +----------+----------+----------+----------+----------+----------+ | 24-31 | Reserved | Reserved | | | | +----------+----------+----------+----------+----------+----------+
Table 7.3.1.2.2-3A: Antenna port(s) (1000 + DMRS port), _dmrs-Type_ =2,
_maxLength_ =1
+----------+----------+----------+----------+----------+----------+ | **One |** Two | | | | | | cod | code | | | | | | eword:**| words:** | | | | | | | | | | | | | ** | ** | | | | | | Codeword | Codeword | | | | | | 0 | 0 | | | | | | en | en | | | | | | abled,**| abled,** | | | | | | | | | | | | | ** | ** | | | | | | Codeword | Codeword | | | | | | 1 | 1 | | | | | | di | e | | | | | | sabled**| nabled** | | | | | +==========+==========+==========+==========+==========+==========+ | * | **Number |** DMRS | * | **Number |** DMRS | | _Value_ _| of DMRS | p |_ Value**| of DMRS | p | | | CDM | ort(s)** | | CDM | ort(s)**| | | group(s) | | | group(s) | | | | without | | | without | | | | data** | | | data** | | +----------+----------+----------+----------+----------+----------+ | 0 | 1 | 0 | 0 | 3 | 0-4 | +----------+----------+----------+----------+----------+----------+ | 1 | 1 | 1 | 1 | 3 | 0-5 | +----------+----------+----------+----------+----------+----------+ | 2 | 1 | 0,1 | 2-31 | reserved | reserved | +----------+----------+----------+----------+----------+----------+ | 3 | 2 | 0 | | | | +----------+----------+----------+----------+----------+----------+ | 4 | 2 | 1 | | | | +----------+----------+----------+----------+----------+----------+ | 5 | 2 | 2 | | | | +----------+----------+----------+----------+----------+----------+ | 6 | 2 | 3 | | | | +----------+----------+----------+----------+----------+----------+ | 7 | 2 | 0,1 | | | | +----------+----------+----------+----------+----------+----------+ | 8 | 2 | 2,3 | | | | +----------+----------+----------+----------+----------+----------+ | 9 | 2 | 0-2 | | | | +----------+----------+----------+----------+----------+----------+ | 10 | 2 | 0-3 | | | | +----------+----------+----------+----------+----------+----------+ | 11 | 3 | 0 | | | | +----------+----------+----------+----------+----------+----------+ | 12 | 3 | 1 | | | | +----------+----------+----------+----------+----------+----------+ | 13 | 3 | 2 | | | | +----------+----------+----------+----------+----------+----------+ | 14 | 3 | 3 | | | | +----------+----------+----------+----------+----------+----------+ | 15 | 3 | 4 | | | | +----------+----------+----------+----------+----------+----------+ | 16 | 3 | 5 | | | | +----------+----------+----------+----------+----------+----------+ | 17 | 3 | 0,1 | | | | +----------+----------+----------+----------+----------+----------+ | 18 | 3 | 2,3 | | | | +----------+----------+----------+----------+----------+----------+ | 19 | 3 | 4,5 | | | | +----------+----------+----------+----------+----------+----------+ | 20 | 3 | 0-2 | | | | +----------+----------+----------+----------+----------+----------+ | 21 | 3 | 3-5 | | | | +----------+----------+----------+----------+----------+----------+ | 22 | 3 | 0-3 | | | | +----------+----------+----------+----------+----------+----------+ | 23 | 2 | 0,2 | | | | +----------+----------+----------+----------+----------+----------+ | 24 | 2 | 0,2,3 | | | | +----------+----------+----------+----------+----------+----------+ | 25-31 | Reserved | Reserved | | | | +----------+----------+----------+----------+----------+----------+
Table 7.3.1.2.2-4: Antenna port(s) (1000 + DMRS port), _dmrs-Type_ =2,
_maxLength_ =2
+-------+-------+-------+-------+-------+-------+-------+-------+ | **One |** Two | | | | | | | | c | Co | | | | | | | | odewo | dewor | | | | | | | | rd:**| ds:** | | | | | | | | | | | | | | | | | **Cod |** Cod | | | | | | | | eword | eword | | | | | | | | 0 | 0 | | | | | | | | enabl | enabl | | | | | | | | ed,**| ed,** | | | | | | | | | | | | | | | | | **Cod |** Cod | | | | | | | | eword | eword | | | | | | | | 1 | 1 | | | | | | | | disab | enab | | | | | | | | led**| led** | | | | | | | +=======+=======+=======+=======+=======+=======+=======+=======+ | **Va |** N | * | **N |** Va | **N | * |** N | | lue**| umber | *DMRS | umber | lue** | umber | _DMRS | umber | | | of | port | of | | of | port | of | | | DMRS | (s)__| front | | DMRS | (s)__| front | | | CDM | | -load | | CDM | | -load | | | gro | | symb | | gro | | symb | | | up(s) | | ols_ _| | up(s) | | ols_ _| | | wi | | | | wi | | | | | thout | | | | thout | | | | | d | | | | d | | | | | ata_ _| | | | ata_ * | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 0 | 1 | 0 | 1 | 0 | 3 | 0-4 | 1 | +-------+-------+-------+-------+-------+-------+-------+-------+ | 1 | 1 | 1 | 1 | 1 | 3 | 0-5 | 1 | +-------+-------+-------+-------+-------+-------+-------+-------+ | 2 | 1 | 0,1 | 1 | 2 | 2 | 0,1, | 2 | | | | | | | | 2,3,6 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 3 | 2 | 0 | 1 | 3 | 2 | 0 | 2 | | | | | | | | ,1,2, | | | | | | | | | 3,6,8 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 4 | 2 | 1 | 1 | 4 | 2 | 0,1 | 2 | | | | | | | | ,2,3, | | | | | | | | | 6,7,8 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 5 | 2 | 2 | 1 | 5 | 2 | 0,1,2 | 2 | | | | | | | | ,3,6, | | | | | | | | | 7,8,9 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 6 | 2 | 3 | 1 | 6-63 | Res | Res | Res | | | | | | | erved | erved | erved | +-------+-------+-------+-------+-------+-------+-------+-------+ | 7 | 2 | 0,1 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 8 | 2 | 2,3 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 9 | 2 | 0-2 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 10 | 2 | 0-3 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 11 | 3 | 0 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 12 | 3 | 1 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 13 | 3 | 2 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 14 | 3 | 3 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 15 | 3 | 4 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 16 | 3 | 5 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 17 | 3 | 0,1 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 18 | 3 | 2,3 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 19 | 3 | 4,5 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 20 | 3 | 0-2 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 21 | 3 | 3-5 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 22 | 3 | 0-3 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 23 | 2 | 0,2 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 24 | 3 | 0 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 25 | 3 | 1 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 26 | 3 | 2 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 27 | 3 | 3 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 28 | 3 | 4 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 29 | 3 | 5 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 30 | 3 | 6 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 31 | 3 | 7 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 32 | 3 | 8 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 33 | 3 | 9 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 34 | 3 | 10 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 35 | 3 | 11 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 36 | 3 | 0,1 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 37 | 3 | 2,3 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 38 | 3 | 4,5 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 39 | 3 | 6,7 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 40 | 3 | 8,9 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 41 | 3 | 10,11 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 42 | 3 | 0,1,6 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 43 | 3 | 2,3,8 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 44 | 3 | 4 | 2 | | | | | | | | ,5,10 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 45 | 3 | 0, | 2 | | | | | | | | 1,6,7 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 46 | 3 | 2, | 2 | | | | | | | | 3,8,9 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 47 | 3 | 4,5, | 2 | | | | | | | | 10,11 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 48 | 1 | 0 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 49 | 1 | 1 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 50 | 1 | 6 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 51 | 1 | 7 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 52 | 1 | 0,1 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 53 | 1 | 6,7 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 54 | 2 | 0,1 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 55 | 2 | 2,3 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 56 | 2 | 6,7 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 57 | 2 | 8,9 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 58-63 | Res | Res | Res | | | | | | | erved | erved | erved | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+
Table 7.3.1.2.2-4A: Antenna port(s) (1000 + DMRS port), _dmrs-Type_ =2,
_maxLength_ =2
+-------+-------+-------+-------+-------+-------+-------+-------+ | **One |** Two | | | | | | | | c | Co | | | | | | | | odewo | dewor | | | | | | | | rd:**| ds:** | | | | | | | | | | | | | | | | | **Cod |** Cod | | | | | | | | eword | eword | | | | | | | | 0 | 0 | | | | | | | | enabl | enabl | | | | | | | | ed,**| ed,** | | | | | | | | | | | | | | | | | **Cod |** Cod | | | | | | | | eword | eword | | | | | | | | 1 | 1 | | | | | | | | disab | enab | | | | | | | | led**| led** | | | | | | | +=======+=======+=======+=======+=======+=======+=======+=======+ | **Va |** N | * | **N |** Va | **N | * |** N | | lue**| umber | *DMRS | umber | lue** | umber | _DMRS | umber | | | of | port | of | | of | port | of | | | DMRS | (s)__| front | | DMRS | (s)__| front | | | CDM | | -load | | CDM | | -load | | | gro | | symb | | gro | | symb | | | up(s) | | ols_ _| | up(s) | | ols_ _| | | wi | | | | wi | | | | | thout | | | | thout | | | | | d | | | | d | | | | | ata_ _| | | | ata_ * | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 0 | 1 | 0 | 1 | 0 | 3 | 0-4 | 1 | +-------+-------+-------+-------+-------+-------+-------+-------+ | 1 | 1 | 1 | 1 | 1 | 3 | 0-5 | 1 | +-------+-------+-------+-------+-------+-------+-------+-------+ | 2 | 1 | 0,1 | 1 | 2 | 2 | 0,1, | 2 | | | | | | | | 2,3,6 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 3 | 2 | 0 | 1 | 3 | 2 | 0 | 2 | | | | | | | | ,1,2, | | | | | | | | | 3,6,8 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 4 | 2 | 1 | 1 | 4 | 2 | 0,1 | 2 | | | | | | | | ,2,3, | | | | | | | | | 6,7,8 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 5 | 2 | 2 | 1 | 5 | 2 | 0,1,2 | 2 | | | | | | | | ,3,6, | | | | | | | | | 7,8,9 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 6 | 2 | 3 | 1 | 6-63 | Res | Res | Res | | | | | | | erved | erved | erved | +-------+-------+-------+-------+-------+-------+-------+-------+ | 7 | 2 | 0,1 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 8 | 2 | 2,3 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 9 | 2 | 0-2 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 10 | 2 | 0-3 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 11 | 3 | 0 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 12 | 3 | 1 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 13 | 3 | 2 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 14 | 3 | 3 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 15 | 3 | 4 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 16 | 3 | 5 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 17 | 3 | 0,1 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 18 | 3 | 2,3 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 19 | 3 | 4,5 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 20 | 3 | 0-2 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 21 | 3 | 3-5 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 22 | 3 | 0-3 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 23 | 2 | 0,2 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 24 | 3 | 0 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 25 | 3 | 1 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 26 | 3 | 2 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 27 | 3 | 3 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 28 | 3 | 4 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 29 | 3 | 5 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 30 | 3 | 6 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 31 | 3 | 7 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 32 | 3 | 8 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 33 | 3 | 9 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 34 | 3 | 10 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 35 | 3 | 11 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 36 | 3 | 0,1 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 37 | 3 | 2,3 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 38 | 3 | 4,5 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 39 | 3 | 6,7 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 40 | 3 | 8,9 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 41 | 3 | 10,11 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 42 | 3 | 0,1,6 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 43 | 3 | 2,3,8 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 44 | 3 | 4 | 2 | | | | | | | | ,5,10 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 45 | 3 | 0, | 2 | | | | | | | | 1,6,7 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 46 | 3 | 2, | 2 | | | | | | | | 3,8,9 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 47 | 3 | 4,5, | 2 | | | | | | | | 10,11 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 48 | 1 | 0 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 49 | 1 | 1 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 50 | 1 | 6 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 51 | 1 | 7 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 52 | 1 | 0,1 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 53 | 1 | 6,7 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 54 | 2 | 0,1 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 55 | 2 | 2,3 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 56 | 2 | 6,7 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 57 | 2 | 8,9 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 58 | 2 | 0,2,3 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 59-63 | Res | Res | Res | | | | | | | erved | erved | erved | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+
Table 7.3.1.2.2-5: VRB-to-PRB mapping
**Bit field mapped to index** **VRB-to-PRB mapping**
* * *
0 Non-interleaved 1 Interleaved
Table 7.3.1.2.2-6: Allowed entries for DCI format 1_1 and DCI format 1_2,
configured by higher layer parameter _ul-AccessConfigListDCI-1-1 and ul-
AccessConfigListDCI-1-2, respectively, in frequency range 1_
**Entry index** **Channel Access Type** **The CP extension Text index defined
in Clause 5.3.1 of [4,TS 38.211]**
* * *
0 Type2C-ULChannelAccess defined in clause 4.2.1.2.3 in TS 37.213 [14] 0 1
Type2C-ULChannelAccess defined in clause 4.2.1.2.3 in TS 37.213 [14] 2 2
Type2B-ULChannelAccess defined in clause 4.2.1.2.2 in TS 37.213 [14] 0 3
Type2B-ULChannelAccess defined in clause 4.2.1.2.2 in TS 37.213 [14] 2 4
Type2A-ULChannelAccess defined in clause 4.2.1.2.1 in TS 37.213 [14] 0 5
Type2A-ULChannelAccess defined in clause 4.2.1.2.1 in TS 37.213 [14] 1 6
Type2A-ULChannelAccess defined in clause 4.2.1.2.1 in TS 37.213 [14] 3 7
Type1-ULChannelAccess defined in clause 4.2.1.1 in TS 37.213 [14] 0 8
Type1-ULChannelAccess defined in clause 4.2.1.1 in TS 37.213 [14] 1 9
Type1-ULChannelAccess defined in clause 4.2.1.1 in TS 37.213 [14] 2 10
Type1-ULChannelAccess defined in clause 4.2.1.1 in TS 37.213 [14] 3
Table 7.3.1.2.2-6A: Allowed entries for DCI format 1_1 and DCI format 1_2,
configured by higher layer parameter _ul-AccessConfigListDCI-1-1 in frequency
range 2-2_
**Entry index** **Channel Access Type**
* * *
0 Type 1 channel access defined in clause 4.4.1 of TS 37.213 [14] 1 Type 2
channel access defined in clause 4.4.2 of TS 37.213 [14] 2 Type 3 channel
access defined in clause 4.4.3 of TS 37.213 [14]
Table 7.3.1.2.2-7: Antenna port(s) (1000 + DMRS port), _dmrs-Type_ =1,\
_enhanced-dmrs-Type_ is configured, _maxLength_ =1
+----------+----------+----------+-------+----------+----------+ | One | Two | | | | | | C | Co | | | | | | odeword: | dewords: | | | | | | | | | | | | | Codeword | Codeword | | | | | | 0 | 0 | | | | | | enabled, | enabled, | | | | | | | | | | | | | Codeword | Codeword | | | | | | 1 | 1 | | | | | | disabled | enabled | | | | | +==========+==========+==========+=======+==========+==========+ | Value | Number | DMRS | Value | Number | DMRS | | | of DMRS | port(s) | | of DMRS | port(s) | | | CDM | | | CDM | | | | group(s) | | | group(s) | | | | without | | | without | | | | data | | | data | | +----------+----------+----------+-------+----------+----------+ | 0 | 1 | 0 | 0 | 2 | 0 | | | | | | | ,1,2,3,8 | +----------+----------+----------+-------+----------+----------+ | 1 | 1 | 1 | 1 | 2 | 0,1, | | | | | | | 2,3,8,10 | +----------+----------+----------+-------+----------+----------+ | 2 | 1 | 0,1 | 2 | 2 | 0,1,2, | | | | | | | 3,8,9,10 | +----------+----------+----------+-------+----------+----------+ | 3 | 2 | 0 | 3 | 2 | 0 | | | | | | | ,1,2,3,8 | | | | | | | ,9,10,11 | +----------+----------+----------+-------+----------+----------+ | 4 | 2 | 1 | | | | +----------+----------+----------+-------+----------+----------+ | 5 | 2 | 2 | | | | +----------+----------+----------+-------+----------+----------+ | 6 | 2 | 3 | | | | +----------+----------+----------+-------+----------+----------+ | 7 | 2 | 0,1 | | | | +----------+----------+----------+-------+----------+----------+ | 8 | 2 | 2,3 | | | | +----------+----------+----------+-------+----------+----------+ | 9 | 2 | 0-2 | | | | +----------+----------+----------+-------+----------+----------+ | 10 | 2 | 0-3 | | | | +----------+----------+----------+-------+----------+----------+ | 11 | 2 | 0,2 | | | | +----------+----------+----------+-------+----------+----------+ | 12 | 1 | 8 | | | | +----------+----------+----------+-------+----------+----------+ | 13 | 1 | 9 | | | | +----------+----------+----------+-------+----------+----------+ | 14 | 1 | 8,9 | | | | +----------+----------+----------+-------+----------+----------+ | 15 | 2 | 8 | | | | +----------+----------+----------+-------+----------+----------+ | 16 | 2 | 9 | | | | +----------+----------+----------+-------+----------+----------+ | 17 | 2 | 10 | | | | +----------+----------+----------+-------+----------+----------+ | 18 | 2 | 11 | | | | +----------+----------+----------+-------+----------+----------+ | 19 | 2 | 8,9 | | | | +----------+----------+----------+-------+----------+----------+ | 20 | 2 | 10,11 | | | | +----------+----------+----------+-------+----------+----------+ | 21 | 1 | 0,1,8 | | | | +----------+----------+----------+-------+----------+----------+ | 22 | 1 | 0,1,8,9 | | | | +----------+----------+----------+-------+----------+----------+ | 23 | 2 | 0,1,8 | | | | +----------+----------+----------+-------+----------+----------+ | 24 | 2 | 0,1,8,9 | | | | +----------+----------+----------+-------+----------+----------+ | 25 | 2 | 2,3,10 | | | | +----------+----------+----------+-------+----------+----------+ | 26 | 2 | 2 | | | | | | | ,3,10,11 | | | | +----------+----------+----------+-------+----------+----------+ | 27-31 | Reserved | Reserved | | | | +----------+----------+----------+-------+----------+----------+
Table 7.3.1.2.2-7A: Antenna port(s) (1000 + DMRS port), _dmrs-Type_ =1,\
_enhanced-dmrs-Type_ is configured, _maxLength_ =1
+----------+----------+----------+-------+----------+----------+ | One | Two | | | | | | C | Co | | | | | | odeword: | dewords: | | | | | | | | | | | | | Codeword | Codeword | | | | | | 0 | 0 | | | | | | enabled, | enabled, | | | | | | | | | | | | | Codeword | Codeword | | | | | | 1 | 1 | | | | | | disabled | enabled | | | | | +==========+==========+==========+=======+==========+==========+ | Value | Number | DMRS | Value | Number | DMRS | | | of DMRS | port(s) | | of DMRS | port(s) | | | CDM | | | CDM | | | | group(s) | | | group(s) | | | | without | | | without | | | | data | | | data | | +----------+----------+----------+-------+----------+----------+ | 0 | 1 | 0 | 0 | 2 | 0 | | | | | | | ,1,2,3,8 | +----------+----------+----------+-------+----------+----------+ | 1 | 1 | 1 | 1 | 2 | 0,1, | | | | | | | 2,3,8,10 | +----------+----------+----------+-------+----------+----------+ | 2 | 1 | 0,1 | 2 | 2 | 0,1,2, | | | | | | | 3,8,9,10 | +----------+----------+----------+-------+----------+----------+ | 3 | 2 | 0 | 3 | 2 | 0 | | | | | | | ,1,2,3,8 | | | | | | | ,9,10,11 | +----------+----------+----------+-------+----------+----------+ | 4 | 2 | 1 | | | | +----------+----------+----------+-------+----------+----------+ | 5 | 2 | 2 | | | | +----------+----------+----------+-------+----------+----------+ | 6 | 2 | 3 | | | | +----------+----------+----------+-------+----------+----------+ | 7 | 2 | 0,1 | | | | +----------+----------+----------+-------+----------+----------+ | 8 | 2 | 2,3 | | | | +----------+----------+----------+-------+----------+----------+ | 9 | 2 | 0-2 | | | | +----------+----------+----------+-------+----------+----------+ | 10 | 2 | 0-3 | | | | +----------+----------+----------+-------+----------+----------+ | 11 | 2 | 0,2 | | | | +----------+----------+----------+-------+----------+----------+ | 12 | 1 | 8 | | | | +----------+----------+----------+-------+----------+----------+ | 13 | 1 | 9 | | | | +----------+----------+----------+-------+----------+----------+ | 14 | 1 | 8,9 | | | | +----------+----------+----------+-------+----------+----------+ | 15 | 2 | 8 | | | | +----------+----------+----------+-------+----------+----------+ | 16 | 2 | 9 | | | | +----------+----------+----------+-------+----------+----------+ | 17 | 2 | 10 | | | | +----------+----------+----------+-------+----------+----------+ | 18 | 2 | 11 | | | | +----------+----------+----------+-------+----------+----------+ | 19 | 2 | 8,9 | | | | +----------+----------+----------+-------+----------+----------+ | 20 | 2 | 10,11 | | | | +----------+----------+----------+-------+----------+----------+ | 21 | 1 | 0,1,8 | | | | +----------+----------+----------+-------+----------+----------+ | 22 | 1 | 0,1,8,9 | | | | +----------+----------+----------+-------+----------+----------+ | 23 | 2 | 0,1,8 | | | | +----------+----------+----------+-------+----------+----------+ | 24 | 2 | 0,1,8,9 | | | | +----------+----------+----------+-------+----------+----------+ | 25 | 2 | 2,3,10 | | | | +----------+----------+----------+-------+----------+----------+ | 26 | 2 | 2 | | | | | | | ,3,10,11 | | | | +----------+----------+----------+-------+----------+----------+ | 27 | 2 | 0,2,3 | | | | +----------+----------+----------+-------+----------+----------+ | 28-31 | Reserved | Reserved | | | | +----------+----------+----------+-------+----------+----------+
Table 7.3.1.2.2-8: Antenna port(s) (1000 + DMRS port), _dmrs-Type_ =1,\
_enhanced-dmrs-Type_ is configured, _maxLength_ =2
+-------+-------+-------+-------+-------+-------+-------+-------+ | One | Two | | | | | | | | Code | Codew | | | | | | | | word: | ords: | | | | | | | | | | | | | | | | | Cod | Cod | | | | | | | | eword | eword | | | | | | | | 0 | 0 | | | | | | | | ena | ena | | | | | | | | bled, | bled, | | | | | | | | | | | | | | | | | Cod | Cod | | | | | | | | eword | eword | | | | | | | | 1 | 1 | | | | | | | | dis | en | | | | | | | | abled | abled | | | | | | | +=======+=======+=======+=======+=======+=======+=======+=======+ | Value | N | DMRS | N | Value | N | DMRS | N | | | umber | po | umber | | umber | po | umber | | | of | rt(s) | of | | of | rt(s) | of | | | DMRS | | front | | DMRS | | front | | | CDM | | -load | | CDM | | -load | | | gro | | sy | | gro | | sy | | | up(s) | | mbols | | up(s) | | mbols | | | wi | | | | wi | | | | | thout | | | | thout | | | | | data | | | | data | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 0 | 1 | 0 | 1 | 0 | 2 | 0-4 | 2 | +-------+-------+-------+-------+-------+-------+-------+-------+ | 1 | 1 | 1 | 1 | 1 | 2 | 0 | 2 | | | | | | | | ,1,2, | | | | | | | | | 3,4,6 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 2 | 1 | 0,1 | 1 | 2 | 2 | 0,1 | 2 | | | | | | | | ,2,3, | | | | | | | | | 4,5,6 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 3 | 2 | 0 | 1 | 3 | 2 | 0,1,2 | 2 | | | | | | | | ,3,4, | | | | | | | | | 5,6,7 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 4 | 2 | 1 | 1 | 4 | 2 | 0,1, | 1 | | | | | | | | 2,3,8 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 5 | 2 | 2 | 1 | 5 | 2 | 0, | 1 | | | | | | | | 1,2,3 | | | | | | | | | ,8,10 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 6 | 2 | 3 | 1 | 6 | 2 | 0,1, | 1 | | | | | | | | 2,3,8 | | | | | | | | | ,9,10 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 7 | 2 | 0,1 | 1 | 7 | 2 | 0, | 1 | | | | | | | | 1,2,3 | | | | | | | | | ,8,9, | | | | | | | | | 10,11 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 8 | 2 | 2,3 | 1 | 8 | 1 | 0,1, | 2 | | | | | | | | 4,5,8 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 9 | 2 | 0-2 | 1 | 9 | 1 | 0, | 2 | | | | | | | | 1,4,5 | | | | | | | | | ,8,12 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 10 | 2 | 0-3 | 1 | 10 | 1 | 0,1, | 2 | | | | | | | | 4,5,8 | | | | | | | | | ,9,12 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 11 | 2 | 0,2 | 1 | 11 | 1 | 0, | 2 | | | | | | | | 1,4,5 | | | | | | | | | ,8,9, | | | | | | | | | 12,13 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 12 | 2 | 0 | 2 | 12 | 2 | 0,1, | 2 | | | | | | | | 4,5,8 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 13 | 2 | 1 | 2 | 13 | 2 | 0, | 2 | | | | | | | | 1,4,5 | | | | | | | | | ,8,12 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 14 | 2 | 2 | 2 | 14 | 2 | 0,1, | 2 | | | | | | | | 4,5,8 | | | | | | | | | ,9,12 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 15 | 2 | 3 | 2 | 15 | 2 | 0, | 2 | | | | | | | | 1,4,5 | | | | | | | | | ,8,9, | | | | | | | | | 12,13 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 16 | 2 | 4 | 2 | 16 | Res | Res | Res | | | | | | \~127 | erved | erved | erved | +-------+-------+-------+-------+-------+-------+-------+-------+ | 17 | 2 | 5 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 18 | 2 | 6 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 19 | 2 | 7 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 20 | 2 | 0,1 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 21 | 2 | 2,3 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 22 | 2 | 4,5 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 23 | 2 | 6,7 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 24 | 2 | 0,4 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 25 | 2 | 2,6 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 26 | 2 | 0,1,4 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 27 | 2 | 2,3,6 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 28 | 2 | 0, | 2 | | | | | | | | 1,4,5 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 29 | 2 | 2, | 2 | | | | | | | | 3,6,7 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 30 | 2 | 0, | 2 | | | | | | | | 2,4,6 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 31 | 1 | 8 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 32 | 1 | 9 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 33 | 1 | 8,9 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 34 | 2 | 8 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 35 | 2 | 9 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 36 | 2 | 10 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 37 | 2 | 11 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 38 | 2 | 8,9 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 39 | 2 | 10,11 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 40 | 2 | 8 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 41 | 2 | 9 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 42 | 2 | 10 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 43 | 2 | 11 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 44 | 2 | 12 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 45 | 2 | 13 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 46 | 2 | 14 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 47 | 2 | 15 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 48 | 2 | 8,9 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 49 | 2 | 10,11 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 50 | 2 | 12,13 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 51 | 2 | 14,15 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 52 | 1 | 0,1,8 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 53 | 1 | 0, | 1 | | | | | | | | 1,8,9 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 54 | 2 | 0,1,8 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 55 | 2 | 0, | 1 | | | | | | | | 1,8,9 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 56 | 2 | 2 | 1 | | | | | | | | ,3,10 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 57 | 2 | 2,3, | 1 | | | | | | | | 10,11 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 58 | 2 | 0,1,8 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 59 | 2 | 0, | 2 | | | | | | | | 1,8,9 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 60 | 2 | 4 | 2 | | | | | | | | ,5,12 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 61 | 2 | 4,5, | 2 | | | | | | | | 12,13 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 62 | 2 | 2 | 2 | | | | | | | | ,3,10 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 63 | 2 | 2,3, | 2 | | | | | | | | 10,11 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 64 | 2 | 6 | 2 | | | | | | | | ,7,14 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 65 | 2 | 6,7, | 2 | | | | | | | | 14,15 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 6 | Res | Res | Res | | | | | | 6-127 | erved | erved | erved | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+
Table 7.3.1.2.2-8A: Antenna port(s) (1000 + DMRS port), _dmrs-Type_ =1,\
_enhanced-dmrs-Type_ is configured, _maxLength_ =2
+-------+-------+-------+-------+-------+-------+-------+-------+ | One | Two | | | | | | | | Code | Codew | | | | | | | | word: | ords: | | | | | | | | | | | | | | | | | Cod | Cod | | | | | | | | eword | eword | | | | | | | | 0 | 0 | | | | | | | | ena | ena | | | | | | | | bled, | bled, | | | | | | | | | | | | | | | | | Cod | Cod | | | | | | | | eword | eword | | | | | | | | 1 | 1 | | | | | | | | dis | en | | | | | | | | abled | abled | | | | | | | +=======+=======+=======+=======+=======+=======+=======+=======+ | Value | N | DMRS | N | Value | N | DMRS | N | | | umber | po | umber | | umber | po | umber | | | of | rt(s) | of | | of | rt(s) | of | | | DMRS | | front | | DMRS | | front | | | CDM | | -load | | CDM | | -load | | | gro | | sy | | gro | | sy | | | up(s) | | mbols | | up(s) | | mbols | | | wi | | | | wi | | | | | thout | | | | thout | | | | | data | | | | data | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 0 | 1 | 0 | 1 | 0 | 2 | 0-4 | 2 | +-------+-------+-------+-------+-------+-------+-------+-------+ | 1 | 1 | 1 | 1 | 1 | 2 | 0 | 2 | | | | | | | | ,1,2, | | | | | | | | | 3,4,6 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 2 | 1 | 0,1 | 1 | 2 | 2 | 0,1 | 2 | | | | | | | | ,2,3, | | | | | | | | | 4,5,6 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 3 | 2 | 0 | 1 | 3 | 2 | 0,1,2 | 2 | | | | | | | | ,3,4, | | | | | | | | | 5,6,7 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 4 | 2 | 1 | 1 | 4 | 2 | 0,1, | 1 | | | | | | | | 2,3,8 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 5 | 2 | 2 | 1 | 5 | 2 | 0, | 1 | | | | | | | | 1,2,3 | | | | | | | | | ,8,10 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 6 | 2 | 3 | 1 | 6 | 2 | 0,1, | 1 | | | | | | | | 2,3,8 | | | | | | | | | ,9,10 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 7 | 2 | 0,1 | 1 | 7 | 2 | 0, | 1 | | | | | | | | 1,2,3 | | | | | | | | | ,8,9, | | | | | | | | | 10,11 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 8 | 2 | 2,3 | 1 | 8 | 1 | 0,1, | 2 | | | | | | | | 4,5,8 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 9 | 2 | 0-2 | 1 | 9 | 1 | 0, | 2 | | | | | | | | 1,4,5 | | | | | | | | | ,8,12 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 10 | 2 | 0-3 | 1 | 10 | 1 | 0,1, | 2 | | | | | | | | 4,5,8 | | | | | | | | | ,9,12 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 11 | 2 | 0,2 | 1 | 11 | 1 | 0, | 2 | | | | | | | | 1,4,5 | | | | | | | | | ,8,9, | | | | | | | | | 12,13 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 12 | 2 | 0 | 2 | 12 | 2 | 0,1, | 2 | | | | | | | | 4,5,8 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 13 | 2 | 1 | 2 | 13 | 2 | 0, | 2 | | | | | | | | 1,4,5 | | | | | | | | | ,8,12 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 14 | 2 | 2 | 2 | 14 | 2 | 0,1, | 2 | | | | | | | | 4,5,8 | | | | | | | | | ,9,12 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 15 | 2 | 3 | 2 | 15 | 2 | 0, | 2 | | | | | | | | 1,4,5 | | | | | | | | | ,8,9, | | | | | | | | | 12,13 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 16 | 2 | 4 | 2 | 16 | Res | Res | Res | | | | | | \~127 | erved | erved | erved | +-------+-------+-------+-------+-------+-------+-------+-------+ | 17 | 2 | 5 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 18 | 2 | 6 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 19 | 2 | 7 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 20 | 2 | 0,1 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 21 | 2 | 2,3 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 22 | 2 | 4,5 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 23 | 2 | 6,7 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 24 | 2 | 0,4 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 25 | 2 | 2,6 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 26 | 2 | 0,1,4 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 27 | 2 | 2,3,6 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 28 | 2 | 0, | 2 | | | | | | | | 1,4,5 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 29 | 2 | 2, | 2 | | | | | | | | 3,6,7 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 30 | 2 | 0, | 2 | | | | | | | | 2,4,6 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 31 | 1 | 8 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 32 | 1 | 9 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 33 | 1 | 8,9 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 34 | 2 | 8 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 35 | 2 | 9 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 36 | 2 | 10 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 37 | 2 | 11 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 38 | 2 | 8,9 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 39 | 2 | 10,11 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 40 | 2 | 8 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 41 | 2 | 9 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 42 | 2 | 10 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 43 | 2 | 11 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 44 | 2 | 12 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 45 | 2 | 13 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 46 | 2 | 14 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 47 | 2 | 15 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 48 | 2 | 8,9 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 49 | 2 | 10,11 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 50 | 2 | 12,13 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 51 | 2 | 14,15 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 52 | 1 | 0,1,8 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 53 | 1 | 0, | 1 | | | | | | | | 1,8,9 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 54 | 2 | 0,1,8 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 55 | 2 | 0, | 1 | | | | | | | | 1,8,9 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 56 | 2 | 2 | 1 | | | | | | | | ,3,10 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 57 | 2 | 2,3, | 1 | | | | | | | | 10,11 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 58 | 2 | 0,1,8 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 59 | 2 | 0, | 2 | | | | | | | | 1,8,9 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 60 | 2 | 4 | 2 | | | | | | | | ,5,12 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 61 | 2 | 4,5, | 2 | | | | | | | | 12,13 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 62 | 2 | 2 | 2 | | | | | | | | ,3,10 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 63 | 2 | 2,3, | 2 | | | | | | | | 10,11 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 64 | 2 | 6 | 2 | | | | | | | | ,7,14 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 65 | 2 | 6,7, | 2 | | | | | | | | 14,15 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 66 | 2 | 0,2,3 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 6 | Res | Res | Res | | | | | | 7-127 | erved | erved | erved | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+
Table 7.3.1.2.2-9: Antenna port(s) (1000 + DMRS port), _dmrs-Type_ =2,\
_enhanced-dmrs-Type_ is configured, _maxLength_ =1
+----------+----------+----------+--------+----------+----------+ | One | Two | | | | | | c | co | | | | | | odeword: | dewords: | | | | | | | | | | | | | Codeword | Codeword | | | | | | 0 | 0 | | | | | | enabled, | enabled, | | | | | | | | | | | | | Codeword | Codeword | | | | | | 1 | 1 | | | | | | disabled | enabled | | | | | +==========+==========+==========+========+==========+==========+ | Value | Number | DMRS | Value | Number | DMRS | | | of DMRS | port(s) | | of DMRS | port(s) | | | CDM | | | CDM | | | | group(s) | | | group(s) | | | | without | | | without | | | | data | | | data | | +----------+----------+----------+--------+----------+----------+ | 0 | 1 | 0 | 0 | 3 | 0-4 | +----------+----------+----------+--------+----------+----------+ | 1 | 1 | 1 | 1 | 3 | 0-5 | +----------+----------+----------+--------+----------+----------+ | 2 | 1 | 0,1 | 2 | 2 | 0, | | | | | | | 1,2,3,12 | +----------+----------+----------+--------+----------+----------+ | 3 | 2 | 0 | 3 | 2 | 0,1,2 | | | | | | | ,3,12,14 | +----------+----------+----------+--------+----------+----------+ | 4 | 2 | 1 | 4 | 2 | 0 | | | | | | | -3,12-14 | +----------+----------+----------+--------+----------+----------+ | 5 | 2 | 2 | 5 | 2 | 0 | | | | | | | -3,12-15 | +----------+----------+----------+--------+----------+----------+ | 6 | 2 | 3 | 6 | 3 | 0, | | | | | | | 1,2,3,12 | +----------+----------+----------+--------+----------+----------+ | 7 | 2 | 0,1 | 7 | 3 | 0,1,2 | | | | | | | ,3,12,14 | +----------+----------+----------+--------+----------+----------+ | 8 | 2 | 2,3 | 8 | 3 | 0 | | | | | | | -3,12-14 | +----------+----------+----------+--------+----------+----------+ | 9 | 2 | 0-2 | 9 | 3 | 0 | | | | | | | -3,12-15 | +----------+----------+----------+--------+----------+----------+ | 10 | 2 | 0-3 | 10\~63 | Reserved | Reserved | +----------+----------+----------+--------+----------+----------+ | 11 | 3 | 0 | | | | +----------+----------+----------+--------+----------+----------+ | 12 | 3 | 1 | | | | +----------+----------+----------+--------+----------+----------+ | 13 | 3 | 2 | | | | +----------+----------+----------+--------+----------+----------+ | 14 | 3 | 3 | | | | +----------+----------+----------+--------+----------+----------+ | 15 | 3 | 4 | | | | +----------+----------+----------+--------+----------+----------+ | 16 | 3 | 5 | | | | +----------+----------+----------+--------+----------+----------+ | 17 | 3 | 0,1 | | | | +----------+----------+----------+--------+----------+----------+ | 18 | 3 | 2,3 | | | | +----------+----------+----------+--------+----------+----------+ | 19 | 3 | 4,5 | | | | +----------+----------+----------+--------+----------+----------+ | 20 | 3 | 0-2 | | | | +----------+----------+----------+--------+----------+----------+ | 21 | 3 | 3-5 | | | | +----------+----------+----------+--------+----------+----------+ | 22 | 3 | 0-3 | | | | +----------+----------+----------+--------+----------+----------+ | 23 | 2 | 0,2 | | | | +----------+----------+----------+--------+----------+----------+ | 24 | 1 | 12 | | | | +----------+----------+----------+--------+----------+----------+ | 25 | 1 | 13 | | | | +----------+----------+----------+--------+----------+----------+ | 26 | 1 | 12,13 | | | | +----------+----------+----------+--------+----------+----------+ | 27 | 2 | 12 | | | | +----------+----------+----------+--------+----------+----------+ | 28 | 2 | 13 | | | | +----------+----------+----------+--------+----------+----------+ | 29 | 2 | 14 | | | | +----------+----------+----------+--------+----------+----------+ | 30 | 2 | 15 | | | | +----------+----------+----------+--------+----------+----------+ | 31 | 2 | 12,13 | | | | +----------+----------+----------+--------+----------+----------+ | 32 | 2 | 14,15 | | | | +----------+----------+----------+--------+----------+----------+ | 33 | 3 | 12 | | | | +----------+----------+----------+--------+----------+----------+ | 34 | 3 | 13 | | | | +----------+----------+----------+--------+----------+----------+ | 35 | 3 | 14 | | | | +----------+----------+----------+--------+----------+----------+ | 36 | 3 | 15 | | | | +----------+----------+----------+--------+----------+----------+ | 37 | 3 | 16 | | | | +----------+----------+----------+--------+----------+----------+ | 38 | 3 | 17 | | | | +----------+----------+----------+--------+----------+----------+ | 39 | 3 | 12,13 | | | | +----------+----------+----------+--------+----------+----------+ | 40 | 3 | 14,15 | | | | +----------+----------+----------+--------+----------+----------+ | 41 | 3 | 16,17 | | | | +----------+----------+----------+--------+----------+----------+ | 42 | 1 | 0,1,12 | | | | +----------+----------+----------+--------+----------+----------+ | 43 | 1 | 0 | | | | | | | ,1,12,13 | | | | +----------+----------+----------+--------+----------+----------+ | 44 | 2 | 0,1,12 | | | | +----------+----------+----------+--------+----------+----------+ | 45 | 2 | 0 | | | | | | | ,1,12,13 | | | | +----------+----------+----------+--------+----------+----------+ | 46 | 2 | 2,3,14 | | | | +----------+----------+----------+--------+----------+----------+ | 47 | 2 | 2 | | | | | | | ,3,14,15 | | | | +----------+----------+----------+--------+----------+----------+ | 48 | 3 | 0,1,12 | | | | +----------+----------+----------+--------+----------+----------+ | 49 | 3 | 0 | | | | | | | ,1,12,13 | | | | +----------+----------+----------+--------+----------+----------+ | 50 | 3 | 2,3,14 | | | | +----------+----------+----------+--------+----------+----------+ | 51 | 3 | 2 | | | | | | | ,3,14,15 | | | | +----------+----------+----------+--------+----------+----------+ | 52 | 3 | 4,5,16 | | | | +----------+----------+----------+--------+----------+----------+ | 53 | 3 | 4 | | | | | | | ,5,16,17 | | | | +----------+----------+----------+--------+----------+----------+ | 54-63 | Reserved | Reserved | | | | +----------+----------+----------+--------+----------+----------+
Table 7.3.1.2.2-9A: Antenna port(s) (1000 + DMRS port), _dmrs-Type_ =2,\
_enhanced-dmrs-Type_ is configured, _maxLength_ =1
+----------+----------+----------+--------+----------+----------+ | One | Two | | | | | | c | co | | | | | | odeword: | dewords: | | | | | | | | | | | | | Codeword | Codeword | | | | | | 0 | 0 | | | | | | enabled, | enabled, | | | | | | | | | | | | | Codeword | Codeword | | | | | | 1 | 1 | | | | | | disabled | enabled | | | | | +==========+==========+==========+========+==========+==========+ | Value | Number | DMRS | Value | Number | DMRS | | | of DMRS | port(s) | | of DMRS | port(s) | | | CDM | | | CDM | | | | group(s) | | | group(s) | | | | without | | | without | | | | data | | | data | | +----------+----------+----------+--------+----------+----------+ | 0 | 1 | 0 | 0 | 3 | 0-4 | +----------+----------+----------+--------+----------+----------+ | 1 | 1 | 1 | 1 | 3 | 0-5 | +----------+----------+----------+--------+----------+----------+ | 2 | 1 | 0,1 | 2 | 2 | 0, | | | | | | | 1,2,3,12 | +----------+----------+----------+--------+----------+----------+ | 3 | 2 | 0 | 3 | 2 | 0,1,2 | | | | | | | ,3,12,14 | +----------+----------+----------+--------+----------+----------+ | 4 | 2 | 1 | 4 | 2 | 0 | | | | | | | -3,12-14 | +----------+----------+----------+--------+----------+----------+ | 5 | 2 | 2 | 5 | 2 | 0 | | | | | | | -3,12-15 | +----------+----------+----------+--------+----------+----------+ | 6 | 2 | 3 | 6 | 3 | 0, | | | | | | | 1,2,3,12 | +----------+----------+----------+--------+----------+----------+ | 7 | 2 | 0,1 | 7 | 3 | 0,1,2 | | | | | | | ,3,12,14 | +----------+----------+----------+--------+----------+----------+ | 8 | 2 | 2,3 | 8 | 3 | 0 | | | | | | | -3,12-14 | +----------+----------+----------+--------+----------+----------+ | 9 | 2 | 0-2 | 9 | 3 | 0 | | | | | | | -3,12-15 | +----------+----------+----------+--------+----------+----------+ | 10 | 2 | 0-3 | 10\~63 | Reserved | Reserved | +----------+----------+----------+--------+----------+----------+ | 11 | 3 | 0 | | | | +----------+----------+----------+--------+----------+----------+ | 12 | 3 | 1 | | | | +----------+----------+----------+--------+----------+----------+ | 13 | 3 | 2 | | | | +----------+----------+----------+--------+----------+----------+ | 14 | 3 | 3 | | | | +----------+----------+----------+--------+----------+----------+ | 15 | 3 | 4 | | | | +----------+----------+----------+--------+----------+----------+ | 16 | 3 | 5 | | | | +----------+----------+----------+--------+----------+----------+ | 17 | 3 | 0,1 | | | | +----------+----------+----------+--------+----------+----------+ | 18 | 3 | 2,3 | | | | +----------+----------+----------+--------+----------+----------+ | 19 | 3 | 4,5 | | | | +----------+----------+----------+--------+----------+----------+ | 20 | 3 | 0-2 | | | | +----------+----------+----------+--------+----------+----------+ | 21 | 3 | 3-5 | | | | +----------+----------+----------+--------+----------+----------+ | 22 | 3 | 0-3 | | | | +----------+----------+----------+--------+----------+----------+ | 23 | 2 | 0,2 | | | | +----------+----------+----------+--------+----------+----------+ | 24 | 1 | 12 | | | | +----------+----------+----------+--------+----------+----------+ | 25 | 1 | 13 | | | | +----------+----------+----------+--------+----------+----------+ | 26 | 1 | 12,13 | | | | +----------+----------+----------+--------+----------+----------+ | 27 | 2 | 12 | | | | +----------+----------+----------+--------+----------+----------+ | 28 | 2 | 13 | | | | +----------+----------+----------+--------+----------+----------+ | 29 | 2 | 14 | | | | +----------+----------+----------+--------+----------+----------+ | 30 | 2 | 15 | | | | +----------+----------+----------+--------+----------+----------+ | 31 | 2 | 12,13 | | | | +----------+----------+----------+--------+----------+----------+ | 32 | 2 | 14,15 | | | | +----------+----------+----------+--------+----------+----------+ | 33 | 3 | 12 | | | | +----------+----------+----------+--------+----------+----------+ | 34 | 3 | 13 | | | | +----------+----------+----------+--------+----------+----------+ | 35 | 3 | 14 | | | | +----------+----------+----------+--------+----------+----------+ | 36 | 3 | 15 | | | | +----------+----------+----------+--------+----------+----------+ | 37 | 3 | 16 | | | | +----------+----------+----------+--------+----------+----------+ | 38 | 3 | 17 | | | | +----------+----------+----------+--------+----------+----------+ | 39 | 3 | 12,13 | | | | +----------+----------+----------+--------+----------+----------+ | 40 | 3 | 14,15 | | | | +----------+----------+----------+--------+----------+----------+ | 41 | 3 | 16,17 | | | | +----------+----------+----------+--------+----------+----------+ | 42 | 1 | 0,1,12 | | | | +----------+----------+----------+--------+----------+----------+ | 43 | 1 | 0 | | | | | | | ,1,12,13 | | | | +----------+----------+----------+--------+----------+----------+ | 44 | 2 | 0,1,12 | | | | +----------+----------+----------+--------+----------+----------+ | 45 | 2 | 0 | | | | | | | ,1,12,13 | | | | +----------+----------+----------+--------+----------+----------+ | 46 | 2 | 2,3,14 | | | | +----------+----------+----------+--------+----------+----------+ | 47 | 2 | 2 | | | | | | | ,3,14,15 | | | | +----------+----------+----------+--------+----------+----------+ | 48 | 3 | 0,1,12 | | | | +----------+----------+----------+--------+----------+----------+ | 49 | 3 | 0 | | | | | | | ,1,12,13 | | | | +----------+----------+----------+--------+----------+----------+ | 50 | 3 | 2,3,14 | | | | +----------+----------+----------+--------+----------+----------+ | 51 | 3 | 2 | | | | | | | ,3,14,15 | | | | +----------+----------+----------+--------+----------+----------+ | 52 | 3 | 4,5,16 | | | | +----------+----------+----------+--------+----------+----------+ | 53 | 3 | 4 | | | | | | | ,5,16,17 | | | | +----------+----------+----------+--------+----------+----------+ | 54 | 2 | 0,2,3 | | | | +----------+----------+----------+--------+----------+----------+ | 55-63 | Reserved | Reserved | | | | +----------+----------+----------+--------+----------+----------+
Table 7.3.1.2.2-10: Antenna port(s) (1000 + DMRS port), _dmrs-Type_ =2,\
_enhanced-dmrs-Type_ is configured, _maxLength_ =2
+-------+-------+-------+-------+-------+-------+-------+-------+ | **One |** Two | | | | | | | | c | Co | | | | | | | | odewo | dewor | | | | | | | | rd:**| ds:** | | | | | | | | | | | | | | | | | **Cod |** Cod | | | | | | | | eword | eword | | | | | | | | 0 | 0 | | | | | | | | enabl | enabl | | | | | | | | ed,**| ed,** | | | | | | | | | | | | | | | | | **Cod |** Cod | | | | | | | | eword | eword | | | | | | | | 1 | 1 | | | | | | | | disab | enab | | | | | | | | led**| led** | | | | | | | +=======+=======+=======+=======+=======+=======+=======+=======+ | **Va |** N | * | **N |** Va | **N | * |** N | | lue**| umber | *DMRS | umber | lue** | umber | _DMRS | umber | | | of | port | of | | of | port | of | | | DMRS | (s)__| front | | DMRS | (s)__| front | | | CDM | | -load | | CDM | | -load | | | gro | | symb | | gro | | symb | | | up(s) | | ols_ _| | up(s) | | ols_ _| | | wi | | | | wi | | | | | thout | | | | thout | | | | | d | | | | d | | | | | ata_ _| | | | ata_ * | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 0 | 1 | 0 | 1 | 0 | 3 | 0-4 | 1 | +-------+-------+-------+-------+-------+-------+-------+-------+ | 1 | 1 | 1 | 1 | 1 | 3 | 0-5 | 1 | +-------+-------+-------+-------+-------+-------+-------+-------+ | 2 | 1 | 0,1 | 1 | 2 | 2 | 0,1, | 2 | | | | | | | | 2,3,6 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 3 | 2 | 0 | 1 | 3 | 2 | 0 | 2 | | | | | | | | ,1,2, | | | | | | | | | 3,6,8 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 4 | 2 | 1 | 1 | 4 | 2 | 0,1 | 2 | | | | | | | | ,2,3, | | | | | | | | | 6,7,8 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 5 | 2 | 2 | 1 | 5 | 2 | 0,1,2 | 2 | | | | | | | | ,3,6, | | | | | | | | | 7,8,9 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 6 | 2 | 3 | 1 | 6 | 2 | 0,1,2 | 1 | | | | | | | | ,3,12 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 7 | 2 | 0,1 | 1 | 7 | 2 | 0-3, | 1 | | | | | | | | 12,14 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 8 | 2 | 2,3 | 1 | 8 | 2 | 0-3, | 1 | | | | | | | | 12-14 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 9 | 2 | 0-2 | 1 | 9 | 2 | 0-3, | 1 | | | | | | | | 12-15 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 10 | 2 | 0-3 | 1 | 10 | 3 | 0,1,2 | 1 | | | | | | | | ,3,12 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 11 | 3 | 0 | 1 | 11 | 3 | 0-3, | 1 | | | | | | | | 12,14 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 12 | 3 | 1 | 1 | 12 | 3 | 0-3, | 1 | | | | | | | | 12-14 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 13 | 3 | 2 | 1 | 13 | 3 | 0-3, | 1 | | | | | | | | 12-15 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 14 | 3 | 3 | 1 | 14 | 1 | 0,1,6 | 2 | | | | | | | | ,7,12 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 15 | 3 | 4 | 1 | 15 | 1 | 0,1 | 2 | | | | | | | | ,6,7, | | | | | | | | | 12,18 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 16 | 3 | 5 | 1 | 16 | 1 | 0 | 2 | | | | | | | | ,1,6, | | | | | | | | | 7,12, | | | | | | | | | 13,18 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 17 | 3 | 0,1 | 1 | 17 | 1 | 0,1, | 2 | | | | | | | | 6,7,1 | | | | | | | | | 2,13, | | | | | | | | | 18,19 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 18 | 3 | 2,3 | 1 | 18 | 2 | 0,1,6 | 2 | | | | | | | | ,7,12 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 19 | 3 | 4,5 | 1 | 19 | 2 | 0,1 | 2 | | | | | | | | ,6,7, | | | | | | | | | 12,18 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 20 | 3 | 0-2 | 1 | 20 | 2 | 0 | 2 | | | | | | | | ,1,6, | | | | | | | | | 7,12, | | | | | | | | | 13,18 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 21 | 3 | 3-5 | 1 | 21 | 2 | 0,1, | 2 | | | | | | | | 6,7,1 | | | | | | | | | 2,13, | | | | | | | | | 18,19 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 22 | 3 | 0-3 | 1 | 22 | 3 | 0,1,6 | 2 | | | | | | | | ,7,12 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 23 | 2 | 0,2 | 1 | 23 | 3 | 0,1 | 2 | | | | | | | | ,6,7, | | | | | | | | | 12,18 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 24 | 3 | 0 | 2 | 24 | 3 | 0 | 2 | | | | | | | | ,1,6, | | | | | | | | | 7,12, | | | | | | | | | 13,18 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 25 | 3 | 1 | 2 | 25 | 3 | 0,1, | 2 | | | | | | | | 6,7,1 | | | | | | | | | 2,13, | | | | | | | | | 18,19 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 26 | 3 | 2 | 2 | 26 | Res | Res | Res | | | | | | \~255 | erved | erved | erved | +-------+-------+-------+-------+-------+-------+-------+-------+ | 27 | 3 | 3 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 28 | 3 | 4 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 29 | 3 | 5 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 30 | 3 | 6 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 31 | 3 | 7 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 32 | 3 | 8 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 33 | 3 | 9 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 34 | 3 | 10 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 35 | 3 | 11 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 36 | 3 | 0,1 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 37 | 3 | 2,3 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 38 | 3 | 4,5 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 39 | 3 | 6,7 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 40 | 3 | 8,9 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 41 | 3 | 10,11 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 42 | 3 | 0,1,6 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 43 | 3 | 2,3,8 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 44 | 3 | 4 | 2 | | | | | | | | ,5,10 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 45 | 3 | 0, | 2 | | | | | | | | 1,6,7 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 46 | 3 | 2, | 2 | | | | | | | | 3,8,9 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 47 | 3 | 4,5, | 2 | | | | | | | | 10,11 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 48 | 1 | 0 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 49 | 1 | 1 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 50 | 1 | 6 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 51 | 1 | 7 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 52 | 1 | 0,1 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 53 | 1 | 6,7 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 54 | 2 | 0,1 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 55 | 2 | 2,3 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 56 | 2 | 6,7 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 57 | 2 | 8,9 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 58 | 1 | 12 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 59 | 1 | 13 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 60 | 1 | 12,13 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 61 | 2 | 12 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 62 | 2 | 13 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 63 | 2 | 14 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 64 | 2 | 15 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 65 | 2 | 12,13 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 66 | 2 | 14,15 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 67 | 3 | 12 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 68 | 3 | 13 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 69 | 3 | 14 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 70 | 3 | 15 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 71 | 3 | 16 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 72 | 3 | 17 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 73 | 3 | 12,13 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 74 | 3 | 14,15 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 75 | 3 | 16,17 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 76 | 3 | 12 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 77 | 3 | 13 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 78 | 3 | 14 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 79 | 3 | 15 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 80 | 3 | 16 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 81 | 3 | 17 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 82 | 3 | 18 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 83 | 3 | 19 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 84 | 3 | 20 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 85 | 3 | 21 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 86 | 3 | 22 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 87 | 3 | 23 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 88 | 3 | 12,13 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 89 | 3 | 14,15 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 90 | 3 | 16,17 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 91 | 3 | 18,19 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 92 | 3 | 20,21 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 93 | 3 | 22,23 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 94 | 1 | 12 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 95 | 1 | 13 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 96 | 1 | 18 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 97 | 1 | 19 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 98 | 1 | 12,13 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 99 | 1 | 18,19 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 100 | 2 | 12,13 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 101 | 2 | 14,15 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 102 | 2 | 18,19 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 103 | 2 | 20,21 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 104 | 1 | 0 | 1 | | | | | | | | ,1,12 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 105 | 1 | 0,1, | 1 | | | | | | | | 12,13 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 106 | 2 | 0 | 1 | | | | | | | | ,1,12 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 107 | 2 | 0,1, | 1 | | | | | | | | 12,13 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 108 | 2 | 2 | 1 | | | | | | | | ,3,14 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 109 | 2 | 2,3, | 1 | | | | | | | | 14,15 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 110 | 3 | 0 | 1 | | | | | | | | ,1,12 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 111 | 3 | 0,1, | 1 | | | | | | | | 12,13 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 112 | 3 | 2 | 1 | | | | | | | | ,3,14 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 113 | 3 | 2,3, | 1 | | | | | | | | 14,15 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 114 | 3 | 4 | 1 | | | | | | | | ,5,16 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 115 | 3 | 4,5, | 1 | | | | | | | | 16,17 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 116 | 2 | 0 | 2 | | | | | | | | ,1,12 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 117 | 2 | 0,1, | 2 | | | | | | | | 12,13 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 118 | 2 | 6 | 2 | | | | | | | | ,7,18 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 119 | 2 | 6,7, | 2 | | | | | | | | 18,19 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 120 | 2 | 2 | 2 | | | | | | | | ,3,14 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 121 | 2 | 2,3, | 2 | | | | | | | | 14,15 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 122 | 2 | 8 | 2 | | | | | | | | ,9,20 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 123 | 2 | 8,9, | 2 | | | | | | | | 20,21 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 124 | 3 | 0 | 2 | | | | | | | | ,1,12 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 125 | 3 | 0,1, | 2 | | | | | | | | 12,13 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 126 | 3 | 6 | 2 | | | | | | | | ,7,18 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 127 | 3 | 6,7, | 2 | | | | | | | | 18,19 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 128 | 3 | 2 | 2 | | | | | | | | ,3,14 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 129 | 3 | 2,3, | 2 | | | | | | | | 14,15 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 130 | 3 | 8 | 2 | | | | | | | | ,9,20 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 131 | 3 | 8,9, | 2 | | | | | | | | 20,21 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 132 | 3 | 4 | 2 | | | | | | | | ,5,16 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 133 | 3 | 4,5, | 2 | | | | | | | | 16,17 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 134 | 3 | 10, | 2 | | | | | | | | 11,22 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 135 | 3 | 1 | 2 | | | | | | | | 0,11, | | | | | | | | | 22,23 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 13 | Res | Res | Res | | | | | | 6-255 | erved | erved | erved | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+
Table 7.3.1.2.2-10A: Antenna port(s) (1000 + DMRS port), _dmrs-Type_ =2,\
_enhanced-dmrs-Type_ is configured, _maxLength_ =2
+-------+-------+-------+-------+-------+-------+-------+-------+ | **One |** Two | | | | | | | | c | Co | | | | | | | | odewo | dewor | | | | | | | | rd:**| ds:** | | | | | | | | | | | | | | | | | **Cod |** Cod | | | | | | | | eword | eword | | | | | | | | 0 | 0 | | | | | | | | enabl | enabl | | | | | | | | ed,**| ed,** | | | | | | | | | | | | | | | | | **Cod |** Cod | | | | | | | | eword | eword | | | | | | | | 1 | 1 | | | | | | | | disab | enab | | | | | | | | led**| led** | | | | | | | +=======+=======+=======+=======+=======+=======+=======+=======+ | **Va |** N | * | **N |** Va | **N | * |** N | | lue**| umber | *DMRS | umber | lue** | umber | _DMRS | umber | | | of | port | of | | of | port | of | | | DMRS | (s)__| front | | DMRS | (s)__| front | | | CDM | | -load | | CDM | | -load | | | gro | | symb | | gro | | symb | | | up(s) | | ols_ _| | up(s) | | ols_ _| | | wi | | | | wi | | | | | thout | | | | thout | | | | | d | | | | d | | | | | ata_ _| | | | ata_ * | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 0 | 1 | 0 | 1 | 0 | 3 | 0-4 | 1 | +-------+-------+-------+-------+-------+-------+-------+-------+ | 1 | 1 | 1 | 1 | 1 | 3 | 0-5 | 1 | +-------+-------+-------+-------+-------+-------+-------+-------+ | 2 | 1 | 0,1 | 1 | 2 | 2 | 0,1, | 2 | | | | | | | | 2,3,6 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 3 | 2 | 0 | 1 | 3 | 2 | 0 | 2 | | | | | | | | ,1,2, | | | | | | | | | 3,6,8 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 4 | 2 | 1 | 1 | 4 | 2 | 0,1 | 2 | | | | | | | | ,2,3, | | | | | | | | | 6,7,8 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 5 | 2 | 2 | 1 | 5 | 2 | 0,1,2 | 2 | | | | | | | | ,3,6, | | | | | | | | | 7,8,9 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 6 | 2 | 3 | 1 | 6 | 2 | 0,1,2 | 1 | | | | | | | | ,3,12 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 7 | 2 | 0,1 | 1 | 7 | 2 | 0-3, | 1 | | | | | | | | 12,14 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 8 | 2 | 2,3 | 1 | 8 | 2 | 0-3, | 1 | | | | | | | | 12-14 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 9 | 2 | 0-2 | 1 | 9 | 2 | 0-3, | 1 | | | | | | | | 12-15 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 10 | 2 | 0-3 | 1 | 10 | 3 | 0,1,2 | 1 | | | | | | | | ,3,12 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 11 | 3 | 0 | 1 | 11 | 3 | 0-3, | 1 | | | | | | | | 12,14 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 12 | 3 | 1 | 1 | 12 | 3 | 0-3, | 1 | | | | | | | | 12-14 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 13 | 3 | 2 | 1 | 13 | 3 | 0-3, | 1 | | | | | | | | 12-15 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 14 | 3 | 3 | 1 | 14 | 1 | 0,1,6 | 2 | | | | | | | | ,7,12 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 15 | 3 | 4 | 1 | 15 | 1 | 0,1 | 2 | | | | | | | | ,6,7, | | | | | | | | | 12,18 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 16 | 3 | 5 | 1 | 16 | 1 | 0 | 2 | | | | | | | | ,1,6, | | | | | | | | | 7,12, | | | | | | | | | 13,18 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 17 | 3 | 0,1 | 1 | 17 | 1 | 0,1, | 2 | | | | | | | | 6,7,1 | | | | | | | | | 2,13, | | | | | | | | | 18,19 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 18 | 3 | 2,3 | 1 | 18 | 2 | 0,1,6 | 2 | | | | | | | | ,7,12 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 19 | 3 | 4,5 | 1 | 19 | 2 | 0,1 | 2 | | | | | | | | ,6,7, | | | | | | | | | 12,18 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 20 | 3 | 0-2 | 1 | 20 | 2 | 0 | 2 | | | | | | | | ,1,6, | | | | | | | | | 7,12, | | | | | | | | | 13,18 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 21 | 3 | 3-5 | 1 | 21 | 2 | 0,1, | 2 | | | | | | | | 6,7,1 | | | | | | | | | 2,13, | | | | | | | | | 18,19 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 22 | 3 | 0-3 | 1 | 22 | 3 | 0,1,6 | 2 | | | | | | | | ,7,12 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 23 | 2 | 0,2 | 1 | 23 | 3 | 0,1 | 2 | | | | | | | | ,6,7, | | | | | | | | | 12,18 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 24 | 3 | 0 | 2 | 24 | 3 | 0 | 2 | | | | | | | | ,1,6, | | | | | | | | | 7,12, | | | | | | | | | 13,18 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 25 | 3 | 1 | 2 | 25 | 3 | 0,1, | 2 | | | | | | | | 6,7,1 | | | | | | | | | 2,13, | | | | | | | | | 18,19 | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 26 | 3 | 2 | 2 | 26 | Res | Res | Res | | | | | | \~255 | erved | erved | erved | +-------+-------+-------+-------+-------+-------+-------+-------+ | 27 | 3 | 3 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 28 | 3 | 4 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 29 | 3 | 5 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 30 | 3 | 6 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 31 | 3 | 7 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 32 | 3 | 8 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 33 | 3 | 9 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 34 | 3 | 10 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 35 | 3 | 11 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 36 | 3 | 0,1 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 37 | 3 | 2,3 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 38 | 3 | 4,5 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 39 | 3 | 6,7 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 40 | 3 | 8,9 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 41 | 3 | 10,11 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 42 | 3 | 0,1,6 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 43 | 3 | 2,3,8 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 44 | 3 | 4 | 2 | | | | | | | | ,5,10 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 45 | 3 | 0, | 2 | | | | | | | | 1,6,7 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 46 | 3 | 2, | 2 | | | | | | | | 3,8,9 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 47 | 3 | 4,5, | 2 | | | | | | | | 10,11 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 48 | 1 | 0 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 49 | 1 | 1 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 50 | 1 | 6 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 51 | 1 | 7 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 52 | 1 | 0,1 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 53 | 1 | 6,7 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 54 | 2 | 0,1 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 55 | 2 | 2,3 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 56 | 2 | 6,7 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 57 | 2 | 8,9 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 58 | 1 | 12 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 59 | 1 | 13 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 60 | 1 | 12,13 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 61 | 2 | 12 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 62 | 2 | 13 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 63 | 2 | 14 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 64 | 2 | 15 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 65 | 2 | 12,13 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 66 | 2 | 14,15 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 67 | 3 | 12 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 68 | 3 | 13 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 69 | 3 | 14 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 70 | 3 | 15 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 71 | 3 | 16 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 72 | 3 | 17 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 73 | 3 | 12,13 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 74 | 3 | 14,15 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 75 | 3 | 16,17 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 76 | 3 | 12 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 77 | 3 | 13 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 78 | 3 | 14 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 79 | 3 | 15 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 80 | 3 | 16 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 81 | 3 | 17 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 82 | 3 | 18 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 83 | 3 | 19 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 84 | 3 | 20 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 85 | 3 | 21 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 86 | 3 | 22 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 87 | 3 | 23 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 88 | 3 | 12,13 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 89 | 3 | 14,15 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 90 | 3 | 16,17 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 91 | 3 | 18,19 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 92 | 3 | 20,21 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 93 | 3 | 22,23 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 94 | 1 | 12 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 95 | 1 | 13 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 96 | 1 | 18 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 97 | 1 | 19 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 98 | 1 | 12,13 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 99 | 1 | 18,19 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 100 | 2 | 12,13 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 101 | 2 | 14,15 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 102 | 2 | 18,19 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 103 | 2 | 20,21 | 2 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 104 | 1 | 0 | 1 | | | | | | | | ,1,12 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 105 | 1 | 0,1, | 1 | | | | | | | | 12,13 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 106 | 2 | 0 | 1 | | | | | | | | ,1,12 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 107 | 2 | 0,1, | 1 | | | | | | | | 12,13 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 108 | 2 | 2 | 1 | | | | | | | | ,3,14 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 109 | 2 | 2,3, | 1 | | | | | | | | 14,15 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 110 | 3 | 0 | 1 | | | | | | | | ,1,12 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 111 | 3 | 0,1, | 1 | | | | | | | | 12,13 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 112 | 3 | 2 | 1 | | | | | | | | ,3,14 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 113 | 3 | 2,3, | 1 | | | | | | | | 14,15 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 114 | 3 | 4 | 1 | | | | | | | | ,5,16 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 115 | 3 | 4,5, | 1 | | | | | | | | 16,17 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 116 | 2 | 0 | 2 | | | | | | | | ,1,12 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 117 | 2 | 0,1, | 2 | | | | | | | | 12,13 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 118 | 2 | 6 | 2 | | | | | | | | ,7,18 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 119 | 2 | 6,7, | 2 | | | | | | | | 18,19 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 120 | 2 | 2 | 2 | | | | | | | | ,3,14 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 121 | 2 | 2,3, | 2 | | | | | | | | 14,15 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 122 | 2 | 8 | 2 | | | | | | | | ,9,20 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 123 | 2 | 8,9, | 2 | | | | | | | | 20,21 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 124 | 3 | 0 | 2 | | | | | | | | ,1,12 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 125 | 3 | 0,1, | 2 | | | | | | | | 12,13 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 126 | 3 | 6 | 2 | | | | | | | | ,7,18 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 127 | 3 | 6,7, | 2 | | | | | | | | 18,19 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 128 | 3 | 2 | 2 | | | | | | | | ,3,14 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 129 | 3 | 2,3, | 2 | | | | | | | | 14,15 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 130 | 3 | 8 | 2 | | | | | | | | ,9,20 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 131 | 3 | 8,9, | 2 | | | | | | | | 20,21 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 132 | 3 | 4 | 2 | | | | | | | | ,5,16 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 133 | 3 | 4,5, | 2 | | | | | | | | 16,17 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 134 | 3 | 10, | 2 | | | | | | | | 11,22 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 135 | 3 | 1 | 2 | | | | | | | | 0,11, | | | | | | | | | 22,23 | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 136 | 2 | 0,2,3 | 1 | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | 13 | Res | Res | Res | | | | | | 7-255 | erved | erved | erved | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+
Table 7.3.1.2.2-11: TCI selection
**Bit field mapped to index** **TCI selection**
* * *
0 The first indicated joint/DL TCI state is applied to the scheduled PDSCH 1
The second indicated joint/DL TCI state is applied to the scheduled PDSCH 2
Both indicated joint/DL TCI states are applied to the scheduled PDSCH 3
Reserved
##### 7.3.1.2.3 Format 1_2
DCI format 1_2 is used for the scheduling of PDSCH in one cell.
The following information is transmitted by means of the DCI format 1_2 with
CRC scrambled by C-RNTI or CS-RNTI or MCS-C-RNTI:
\- Identifier for DCI formats - 1 bits
\- The value of this bit field is always set to 1, indicating a DL DCI format.
\- Carrier indicator - 0, 1, 2 or 3 bits determined by higher layer parameter
_carrierIndicatorSizeDCI-1-2_ , as defined in Clause 10.1 of [5, TS38.213].
This field is reserved when this format is carried by PDCCH on the primary
cell and the UE is configured for scheduling on the primary cell from an
SCell, with the same number of bits as that in this format carried by PDCCH on
the SCell for scheduling on the primary cell.
\- Bandwidth part indicator - 0, 1 or 2 bits as determined by the number of DL
BWPs $n_{BWP,\ RRC}$ configured by higher layers, excluding the initial DL
bandwidth part. The bitwidth for this field is determined as $\left\lceil
\log_{2}{(n_{\text{BWP}})} \right\rceil$ bits, where
\- $n_{\text{BWP}} = n_{BWP,\ RRC} + 1\ $if $n_{BWP,\ RRC} \leq 3$, in which
case the bandwidth part indicator is equivalent to the ascending order of the
higher layer parameter _BWP-Id_ ;
\- otherwise $n_{\text{BWP}} = n_{BWP,\ RRC}$, in which case the bandwidth
part indicator is defined in Table 7.3.1.1.2-1;
If a UE does not support active BWP change via DCI, the UE ignores this bit
field.
\- Frequency domain resource assignment - number of bits determined by the
following:
\- $N_{\text{RBG}}$ bits if only resource allocation type 0 is configured,
where $N_{\text{RBG}}$ is defined in Clause 5.1.2.2.1 of [6, TS 38.214];
\- $\left\lceil \log_{2}\left( N_{RBG,\ K2}\left( N_{RBG,\ K2} + 1 \right)/2
\right) \right\rceil$ bits if only resource allocation type 1 is configured,
or $\max\left( \ \left\lceil \log_{2}\left( N_{RBG,\ K2}\left( N_{RBG,\ K2} +
1 \right)/2 \right) \right\rceil,\ N_{\text{RBG}} \right) + 1$ bits if
_resourceAllocationDCI-1-2-r16_ is configured as \'_dynamicSwitch\'_ , where
$N_{RBG,\ K2} = \left\lceil \left( N_{\text{RB}}^{DL,\ BWP} + \left( N_{DL,\
BWP}^{\text{start}}\text{mod}{K2} \right) \right)/K2 \right\rceil$_,_
$N_{\text{RB}}^{DL,\ BWP}\ $is the size of the active DL bandwidth part,
$N_{DL,\ BWP}^{\text{start}}\ $is defined as in clause 4.4.4.4 of [4, TS
38.211] and $K2$ is determined by higher layer parameter
_resourceAllocationType1GranularityDCI-1-2_. If the higher layer parameter
_resourceAllocationType1GranularityDCI-1-2_ is not configured, $K2$ is equal
to 1.
\- If _resourceAllocationDCI-1-2-r16_ is configured as \'_dynamicSwitch\'_ ,
the MSB bit is used to indicate resource allocation type 0 or resource
allocation type 1, where the bit value of 0 indicates resource allocation type
0 and the bit value of 1 indicates resource allocation type 1.
\- For resource allocation type 0, the $N_{\text{RBG}}$ LSBs provide the
resource allocation as defined in Clause 5.1.2.2.1 of [6, TS 38.214].
\- For resource allocation type 1, the $\left\lceil \log_{2}\left( N_{RBG,\
K2}\left( N_{RBG,\ K2} + 1 \right)/2 \right) \right\rceil$ LSBs provide the
resource allocation as defined in Clause 5.1.2.2.2 of [6, TS 38.214]
> If \"Bandwidth part indicator\" field indicates a bandwidth part other than
> the active bandwidth part and if _resourceAllocationDCI-1-2-r16_ is
> configured as \'_dynamicSwitch\'_ for the indicated bandwidth part, the UE
> assumes resource allocation type 0 for the indicated bandwidth part if the
> bitwidth of the \"Frequency domain resource assignment\" field of the active
> bandwidth part is smaller than the bitwidth of the \"Frequency domain
> resource assignment\" field of the indicated bandwidth part.
\- Time domain resource assignment - 0, 1, 2, 3, or 4 bits as defined in
Clause 5.1.2.1 of [6, TS 38.214]. The bitwidth for this field is determined as
$\left\lceil \log_{2}{(I)} \right\rceil\ $bits, where _I_ is the number of
entries in the higher layer parameter _pdsch-TimeDomainAllocationListDCI-1-2_
if the higher layer parameter is configured, or _I_ is the number of entries
in the higher layer parameter _pdsch-TimeDomainAllocationList_ if the higher
layer parameter _pdsch-TimeDomainAllocationList_ is configured when the higher
layer parameter _pdsch-TimeDomainAllocationListDCI-1-2_ is not configured;
otherwise _I_ is the number of entries in the default table.
\- VRB-to-PRB mapping - 0 or 1 bit:
\- 0 bit if the higher layer parameter _vrb-ToPRB-InterleaverDCI-1-2_ is not
configured;
\- 1 bit according to Table 7.3.1.2.2-5 otherwise, only applicable to resource
allocation type 1, as defined in Clause 7.3.1.6 of [4, TS 38.211].
\- PRB bundling size indicator - 0 bit if the higher layer parameter _prb-
BundlingTypeDCI-1-2_ is not configured or is set to \'static\', or 1 bit if
the higher layer parameter _prb-BundlingTypeDCI-1-2_ is set to \'dynamic\'
according to Clause 5.1.2.3 of [6, TS 38.214].
\- Rate matching indicator - 0, 1, or 2 bits according to higher layer
parameters _rateMatchPatternGroup1DCI-1-2_ and _rateMatchPatternGroup2DCI-1-2_
, where the MSB is used to indicate _rateMatchPatternGroup1DCI-1-2_ and the
LSB is used to indicate _rateMatchPatternGroup2DCI-1-2_ when there are two
groups.
\- ZP CSI-RS trigger - 0, 1, or 2 bits as defined in Clause 5.1.4.2 of [6, TS
38.214]. The bitwidth for this field is determined as $\left\lceil
\log_{2}{(n_{\text{ZP}} + 1)} \right\rceil$ bits, where $n_{\text{ZP}}$ is the
number of aperiodic ZP CSI-RS resource sets configured by higher layer
parameter _aperiodicZP-CSI-RS-ResourceSetsToAddModListDCI-1-2_.
\- Modulation and coding scheme - 5 bits as defined in Clause 5.1.3.1 of [6,
TS 38.214]
\- New data indicator - 1 bit
\- Redundancy version - 0, 1 or 2 bits determined by higher layer parameter
_numberOfBitsForRV-DCI-1-2_
\- If 0 bit is configured, _rv~id~_ to be applied is 0;
\- 1 bit according to Table 7.3.1.2.3-1;
\- 2 bits according to Table 7.3.1.1.1-2.
\- HARQ process number - number of bits determined by the following:
\- 0, 1, 2, 3, 4 or 5 bits determined by higher layer parameter _harq-
ProcessNumberSizeDCI-1-2-v1700_ if configured;
\- otherwise 0, 1, 2, 3 or 4 bits determined by higher layer parameter _harq-
ProcessNumberSizeDCI-1-2_
\- Downlink assignment index - 0, 1, 2 or 4 bits
\- 0 bit if the higher layer parameter _downlinkAssignmentIndexDCI-1-2_ is not
configured;
\- 1, 2 or 4 bits determined by higher layer parameter
_downlinkAssignmentIndexDCI-1-2_ otherwise,
\- 4 bits if more than one serving cell are configured in the DL and the
higher layer parameter _pdsch-HARQ-ACK-Codebook=dynamic_ , where the 2 MSB
bits are the counter DAI and the 2 LSB bits are the total DAI
\- 4 bits if only one serving cell is configured in the DL and the higher
layer parameter _pdsch-HARQ-ACK-Codebook=dynamic_ , and the UE is not provided
_coresetPoolIndex_ or is provided _coresetPoolIndex_ with value 0 for one or
more first CORESETs and is provided _coresetPoolIndex_ with value 1 for one or
more second CORESETs, and is provided _ackNackFeedbackMode = joint_ , where
the 2 MSB bits are the counter DAI and the 2 LSB bits are the total DAI.
\- 1 or 2 bits if only one serving cell is configured in the DL and the higher
layer parameter _pdsch-HARQ-ACK-Codebook=dynamic_ , when the UE is not
configured with _coresetPoolIndex_ or the value of _coresetPoolIndex_ is the
same for all CORESETs if _coresetPoolIndex_ is provided or the UE is not
configured with _ackNackFeedbackMode = joint,_ where the 1 bit or 2 bits are
the counter DAI.
If the UE is configured with a PUCCH-SCell, the number of serving cells is
determined within a PUCCH group.
If the UE is configured with a PUCCH-SCell, _pdsch-HARQ-ACK-Codebook_ is
replaced by _pdsch-HARQ-ACK-Codebook-secondaryPUCCHgroup-r16_ if present for
the secondary PUCCH group.
If higher layer parameter _priorityIndicatorDCI-1-2_ is configured, if the bit
width of the Downlink assignment index in DCI format 1_2 for one HARQ-ACK
codebook is not equal to that of the Downlink assignment index in DCI format
1_2 for the other HARQ-ACK codebook, a number of most significant bits with
value set to \'0\' are inserted to smaller Downlink assignment index until the
bit width of the Downlink assignment index in DCI format 1_2 for the two HARQ-
ACK codebooks are the same.
\- TPC command for scheduled PUCCH - 2 bits as defined in Clause 7.2.1 of [5,
TS 38.213]
\- Second TPC command for scheduled PUCCH - 2 bits as defined in Clause 7.2.1
of [5, TS 38.213] if higher layer parameter _SecondTPCFieldDCI-1-2_ is
configured; 0 bit otherwise.
\- PUCCH resource indicator - 0 or 1 or 2 or 3 bits determined by higher layer
parameter _numberOfBitsForPUCCH-ResourceIndicatorDCI-1-2_
If higher layer parameter _pucch-sSCellPattern_ or _pucch-sSCellDynDCI-1-2_ is
configured, if the bit width of the PUCCH resource indicator in DCI format 1_2
associated with one cell for PUCCH transmission is not equal to that of the
PUCCH resource indicator in DCI format 1_2 associated with the other cell for
PUCCH transmission, a number of most significant bits with value set to \'0\'
are inserted to smaller PUCCH resource indicator until the bit width of the
PUCCH resource indicator in DCI format 1_2 associated with the two cells for
PUCCH transmissions are the same.
If the UE is configured with a PUCCH-SCell, _pucch-sSCellPattern_ is replaced
by _pucch-sSCellPatternSecondaryPUCCHgroup_ for the secondary PUCCH group.
\- PDSCH-to-HARQ_feedback timing indicator - 0, 1, 2, or 3 bits as defined in
Clause 9.2.3 of [5, TS 38.213]. The bitwidth for this field is determined as
$\left\lceil \log_{2}{(I)} \right\rceil$ bits, where _I_ is the number of
entries in the higher layer parameter _DL-DataToUL-ACK-DCI-1-2._
If higher layer parameter _priorityIndicatorDCI-1-2_ is configured, if the bit
width of the PDSCH-to-HARQ_feedback timing indicator in DCI format 1_2 for one
HARQ-ACK codebook is not equal to that of the PDSCH-to-HARQ_feedback timing
indicator in DCI format 1_2 for the other HARQ-ACK codebook on the same cell
for PUCCH transmission, a number of most significant bits with value set to
\'0\' are inserted to smaller PDSCH-to-HARQ_feedback timing indicator until
the bit width of the PDSCH-to-HARQ_feedback timing indicator in DCI format 1_2
for the two HARQ-ACK codebooks are the same.
If higher layer parameter _pucch-sSCellDynDCI-1-2_ is configured, if the bit
width of the PDSCH-to-HARQ_feedback timing indicator in DCI format 1_2
associated with one cell for PUCCH transmission is not equal to that of the
PDSCH-to-HARQ_feedback timing indicator in DCI format 1_2 associated with the
other cell for PUCCH transmission, a number of most significant bits with
value set to \'0\' are inserted to smaller PDSCH-to-HARQ_feedback timing
indicator until the bit width of the PDSCH-to-HARQ_feedback timing indicator
in DCI format 1_2 associated with the two cells are the same.
\- One-shot HARQ-ACK request -0 or 1 bit.
\- 1 bit if higher layer parameter _pdsch-HARQ-ACK-OneShotFeedbackDCI-1-2_ or
_pdsch-HARQ-ACK-EnhType3DCI-1-2_ is configured;
\- 0 bit otherwise.
\- Enhanced Type 3 codebook indicator - 0, 1, 2, or 3 bits.
\- 0 bit if _pdsch-HARQ-ACK-EnhType3DCI-Field-1-2_ is not configured;
\- $\left\lceil \log_{2}{(n_{\text{CB}})} \right\rceil$ bits otherwise, where
$n_{\text{CB}}$ is the number of entries in the higher layer parameter _pdsch-
HARQ-ACK-EnhType3ToAddModList._
If the UE is configured with a PUCCH-SCell, _pdsch-HARQ-ACK-
EnhType3ToAddModList_ is replaced by _pdsch-HARQ-ACK-
EnhType3SecondaryToAddModList_ for the secondary PUCCH group.
\- HARQ-ACK retransmission indicator - 0 or 1 bit.
\- 1 bit if higher layer parameter _pdsch-HARQ-ACK-retxDCI-1-2_ is configured.
\- 0 bit otherwise.
\- Antenna port(s) - 0, 4, 5, 6, 7 or 8 bits
\- 0 bit if higher layer parameter _antennaPortsFieldPresenceDCI-1-2_ is not
configured;
\- Otherwise 4, 5, 6, 7 or 8 bits as defined by Tables
7.3.1.2.2-1/2/3/4/7/8/9/10 and Tables 7.3.1.2.2-1A/2A/3A/4A/7A/8A/9A/10A,
where the number of CDM groups without data of values 1, 2, and 3 refers to
CDM groups {0}, {0,1}, and {0, 1,2} respectively. The antenna ports $\left{
p_{0},\ldots,p_{v - 1} \right}\ $shall be determined according to the ordering
of DMRS port(s) given by Tables 7.3.1.2.2-1/2/3/4/7/8/9/10 or Tables
7.3.1.2.2-1A/2A/3A/4A/7A/8A/9A/10A. When a UE receives an activation command
that maps at least one codepoint of DCI field \'_Transmission Configuration
Indication_ \' to two TCI states, the UE shall use Table
7.3.1.2.2-1A/2A/3A/4A/7A/8A/9A/10A; otherwise, it shall use Tables
7.3.1.2.2-1/2/3/4/7/8/9/10.
\- If a UE is configured with both _dmrs-DownlinkForPDSCH-MappingTypeA-
DCI-1-2_ and _dmrs-DownlinkForPDSCH-MappingTypeB-DCI-1-2_ and is configured
with higher layer parameter _antennaPortsFieldPresenceDCI-1-2_ , the bitwidth
of this field equals$\text{\ max}\left{ x_{A},x_{B} \right}$, where $x_{A}$ is
the \"Antenna ports\" bitwidth derived according to _dmrs-DownlinkForPDSCH-
MappingTypeA-DCI-1-2_ and $x_{B}$ is the \"Antenna ports\" bitwidth derived
according to _dmrs-DownlinkForPDSCH-MappingTypeB-DCI-1-2_. A number of $\left|
x_{A} - x_{B} \right|$ zeros are padded in the MSB of this field, if the
mapping type of the PDSCH corresponds to the smaller value of $x_{A}$ and
$x_{B}$.
If a UE is not configured with higher layer parameter
_antennaPortsFieldPresenceDCI-1-2_ , antenna port(s) are defined assuming bit
field index value 0 in Tables 7.3.1.2.2-1/2/3/4/7/8/9/10.
\- Transmission configuration indication - 0 bit if higher layer parameter
_tci-PresentDCI-1-2_ is not configured; otherwise 1 or 2 or 3 bits determined
by higher layer parameter _tci-PresentDCI-1-2_ as defined in Clause 5.1.5 of
[6, TS38.214].
If \"Bandwidth part indicator\" field indicates a bandwidth part other than
the active bandwidth part,
\- if the higher layer parameter _tci-PresentDCI-1-2_ is not configured for
the CORESET used for the PDCCH carrying the DCI format 1_2,
\- the UE assumes _tci-PresentDCI-1-2_ is not configured for all CORESETs in
the indicated bandwidth part;
\- otherwise,
\- the UE assumes _tci-PresentDCI-1-2_ is configured for all CORESETs in the
indicated bandwidth part with the same value configured for the CORESET used
for the PDCCH carrying the DCI format 1_2.
\- TCI selection - 0 bit if higher layer parameter _tciSelection-PresentInDCI_
is not configured; otherwise 2 bits according to Table 7.3.1.2.2-11.
\- SRS request - 0, 1, 2 or 3 bits
\- 0 bit if the higher layer parameter _srs-RequestDCI-1-2_ is not configured;
\- 1 bit as defined by Table 7.3.1.1.3-1 if the higher layer parameter _srs-
RequestDCI-1-2 = 1_ and for UEs not configured with _supplementaryUplink_ in
_ServingCellConfig_ in the cell;
\- 2 bits if the higher layer parameter _srs-RequestDCI-1-2 = 1_ and for UEs
configured with _supplementaryUplink_ in _ServingCellConfig_ in the cell,
where the first bit is the non-SUL/SUL indicator as defined in Table
7.3.1.1.1-1 and the second bit is defined by Table 7.3.1.1.3-1;
\- 2 bits as defined by Table 7.3.1.1.2-24 if the higher layer parameter _srs-
RequestDCI-1-2 = 2_ and for UEs not configured with _supplementaryUplink_ in
_ServingCellConfig_ in the cell;
\- 3 bits if the higher layer parameter _srs-RequestDCI-1-2 = 2_ and for UEs
configured with _supplementaryUplink_ in _ServingCellConfig_ in the cell,
where the first bit is the non-SUL/SUL indicator as defined in Table
7.3.1.1.1-1 and the second and third bits are defined by Table 7.3.1.1.2-24;
\- SRS offset indicator - 0, 1 or 2 bits.
\- 0 bit if higher layer parameter _AvailableSlotOffset_ is not configured for
any aperiodic SRS resource set in the scheduled cell, or if higher layer
parameter _AvailableSlotOffset_ is configured for at least one aperiodic SRS
resource set in the scheduled cell and the maximum number of entries of
_availableSlotOffsetList_ configured for all aperiodic SRS resource set(s) is
1;
\- otherwise, $\left\lceil \log_{2}{(K)} \right\rceil$ bits are used to
indicate available slot offset according to Table 7.3.1.1.2-37 and Clause
6.2.1 of [6, TS 38.214], where K is the maximum number of entries of
_availableSlotOffsetList_ configured for all aperiodic SRS resource set(s) in
the scheduled cell;
\- DMRS sequence initialization - 0 or 1 bit
\- 0 bit if the higher layer parameter _dmrs-SequenceInitializationDCI-1-2_ is
not configured;
\- 1 bit otherwise.
\- Priority indicator - 0 bit if higher layer parameter
_priorityIndicatorDCI-1-2_ is not configured; otherwise 1 bit as defined in
Clause 9 in [5, TS 38.213].
\- PDCCH monitoring adaptation indication - 0, 1 or 2 bits
\- 1 or 2 bits, if _searchSpaceGroupIdList-r17_ is not configured and if
_pdcch-SkippingDurationList_ is configured
\- 1 bit if the UE is configured with only one duration by _pdcch-
SkippingDurationList;_
\- 2 bits if the UE is configured with more than one duration by _pdcch-
SkippingDurationList_.
\- 1 or 2 bits, if _pdcch-SkippingDurationList_ is not configured and if
_searchSpaceGroupIdList-r17_ is configured
\- 1 bit if the UE is configured by _searchSpaceGroupIdList-r17_ with search
space set(s) with group index 0 and search space set(s) with group index 1,
and if the UE is not configured by _searchSpaceGroupIdList-r17_ with any
search space set with group index 2;
\- 2 bits if the UE is configured by _searchSpaceGroupIdList-r17_ with search
space set(s) with group index 0, search space set(s) with group index 1 and
search space set(s) with group index 2;
\- 2 bits, if _pdcch-SkippingDurationList_ is configured and if
_searchSpaceGroupIdList-r17_ is configured
\- 0 bit, otherwise
\- ChannelAccess-CPext - 0, 1, 2, 3 or 4 bits. The bitwidth for this field is
determined as $\left\lceil \log_{2}{(I)} \right\rceil$ bits, where _I_ is the
number of entries in the higher layer parameter _ul-AccessConfigListDCI-1-2_
or in Table 7.3.1.1.1-4A if _channelAccessMode-r16_ = \"_semiStatic_ \" is
provided, for operation in a cell with shared spectrum channel access in
frequency range 1, or the number of entries in the high layer parameter _ul-
AccessConfigListDCI-1-1 for operation_ in frequency range 2-2 if
_ChannelAccessMode2-r17_ is provided; otherwise 0 bit. One or more entries
from Table 7.3.1.2.2-6 are configured by the higher layer parameter _ul-
AccessConfigListDCI-1-2 in frequency range 1._ One or more entries from Table
7.3.1.1.2-6A are configured by the higher layer parameter _ul-
AccessConfigListDCI-1-1 in frequency range 2-2._
\- PUCCH Cell indicator - 0 or 1 bit.
\- 1 bit if higher layer parameter _pucch-sSCellDynDCI-1-2_ is configured.
\- 0 bit otherwise.
If DCI formats 1_2 are monitored in multiple search spaces associated with
multiple CORESETs in a BWP for scheduling the same serving cell, zeros shall
be appended until the payload size of the DCI formats 1_2 monitored in the
multiple search spaces equal to the maximum payload size of the DCI format 1_2
monitored in the multiple search spaces.
For a UE configured with scheduling on the primary cell from an SCell, if
prior to padding the number of information bits in DCI format 1_2 carried by
PDCCH on the primary cell is not equal to the number of information bits in
DCI format 1_2 carried by PDCCH on the SCell for scheduling on the primary
cell, zeros shall be appended to the DCI format 1_2 with smaller size until
the payload size is the same.
\- If application of step 4B in clause 7.3.1.0 results in additional zero
padding for DCI format 1_2 for scheduling on the primary cell, corresponding
zeros shall be appended to both DCI format 1_2 monitored on the primary cell
and DCI format 1_2 monitored on the SCell for scheduling on the primary cell.
\- If the SCell is deactivated and _firstActiveDownlinkBWP-Id_ is not set to
dormant BWP, the UE determines the number of information bits in DCI format
1_2 carried by PDCCH on the primary cell based on a DL BWP provided by
_firstActiveDownlinkBWP-Id_ for the SCell. If the active DL BWP of the SCell
is a dormant DL BWP, or if the SCell is deactivated and
_firstActiveDownlinkBWP-Id_ is set to dormant BWP, the UE determines the
number of information bits in DCI format 1_2 carried by PDCCH on the primary
cell based on a DL BWP provided by _firstWithinActiveTimeBWP-Id_ for the SCell
if provided; otherwise, based on a DL BWP provided by
_firstOutsideActiveTimeBWP-Id_ for the SCell.
Table 7.3.1.2.3-1: Redundancy version
Value of the Redundancy version field Value of to be applied
* * *
0 0 1 3
##### 7.3.1.2.4 Format 1_3
DCI format 1_3 is used for the scheduling of one PDSCH in one cell, or
multiple PDSCHs in multiple cells with one PDSCH per cell.
The following information is transmitted by means of the DCI format 1_3 with
CRC scrambled by C-RNTI or MCS-C-RNTI:
\- Identifier for DCI formats - 1 bits
\- The value of this bit field is always set to 1, indicating a DL DCI format
\- Scheduled cell set indicator - $\left\lceil \log_{2}N_{\text{set}}
\right\rceil\ $bits, where $N_{\text{set}}$ is the number of cell sets which
are configured by higher layer parameter _MC-DCI-SetofCellsToAddModList_ to be
respectively scheduled by DCI format 0_3/1_3 from the cell on which this
format is carried by PDCCH. If present, this field is used to indicate the
scheduled cell set according to Table 7.3.1.1.4-1; otherwise, the scheduled
cell set is the cell set configured to be scheduled by DCI format 0_3/1_3 from
the cell by higher layer parameter _MC-DCI-SetofCellsToAddModList_.
\- Scheduled cells indicator - number of bits determined by the following:
\- 0 bit if the higher layer parameter _ScheduledCellCombo-ListDCI-1-3_ for
the scheduled cell set is not configured;
\- otherwise $\left\lceil \log_{2}I_{\text{DL}} \right\rceil$ bits indicating
the scheduled cells in the scheduled cell set according to Table 7.3.1.2.4-1,
where $I_{\text{DL}}$ is the number of entries in the higher layer parameter
_ScheduledCellCombo-ListDCI-1-3._ If only one entry is configured in the
higher layer parameter _ScheduledCellCombo-ListDCI-1-3_ , the scheduled cells
are the cells configured by higher layer parameter _ScheduledCellCombo-
ListDCI-1-3_.
\- Bandwidth part indicator - 0, 1 or 2 bits determined as $\left\lceil
\log_{2}n_{BWP,\ max} \right\rceil$, where
\- $n_{BWP,\ max} = n_{BWP,RRC}^{\max} + 1$ if $n_{BWP,RRC}^{\max} \leq 3$,
$n_{BWP,RRC}^{\max}\ $is the maximum number of DL BWPs configured by higher
layers across all the cells configured by higher layer parameter
_ScheduledCell-ListDCI-1-3_ in the scheduled cell set, in which case the
bandwidth part indicator is equivalent to the ascending order of the higher
layer parameter _BWP-Id_ ;
\- otherwise $n_{BWP,\ max} = n_{BWP,RRC}^{\max}$, in which case the bandwidth
part indicator is defined in Table 7.3.1.1.2-1;
> The field is only applicable to a scheduled cell with the number of
> configured DL BWPs larger than 1, including the initial DL bandwidth part,
> and is applied to the applicable scheduled cells in the scheduled cell set
> independently. If a UE does not support active BWP change via DCI, the UE
> ignores this bit field.
\- Frequency domain resource assignment - number of bits determined by the
following:
\- block number 1, block number 2,..., block number
$N_{\text{cell}}^{\text{DL}}$
> If _ScheduledCellCombo-ListDCI-1-3_ for the scheduled cell set is configured
> with more than one entry, $N_{\text{cell}}^{\text{DL}}$ is the number of
> scheduled cells indicated by Scheduled cells indicator field; if
> _ScheduledCellCombo-ListDCI-1-3_ for the scheduled cell set is configured
> with only one entry,$\ N_{\text{cell}}^{\text{DL}}$ is the number of cells
> configured by higher layer parameter _ScheduledCellCombo-ListDCI-1-3_ ;
> otherwise, $N_{\text{cell}}^{\text{DL}}$ is the number of cells in the
> scheduled cell set configured by higher layer parameter _ScheduledCell-
> ListDCI-1-3_. Each block corresponds to the frequency domain resource
> assignment for a cell, and the blocks are placed according to an ascending
> order of a serving cell index, with block number 1 corresponding to the
> frequency domain resource assignment for the cell with the smallest serving
> cell index. Each block is defined by the following fields:
\- $N_{\text{RBG}}$ bits if only resource allocation type 0 is configured,
where $N_{\text{RBG}}$ is defined in Clause 5.1.2.2.1 of [6, TS 38.214]
\- $\left\lceil \log_{2}\left( N_{RBG,\ K2}\left( N_{RBG,\ K2} + 1 \right)/2
\right) \right\rceil$ bits if only resource allocation type 1 is configured,
or $\max\left( \ \left\lceil \log_{2}\left( N_{RBG,\ K2}\left( N_{RBG,\ K2} +
1 \right)/2 \right) \right\rceil,\ N_{\text{RBG}} \right) + 1$ bits if
_resourceAllocationDCI-1-3_ is configured as \'_dynamicSwitch\'_ , where
$N_{RBG,\ K2} = \left\lceil \left( N_{\text{RB}}^{DL,\ BWP} + \left( N_{DL,\
BWP}^{\text{start}}\text{mod}{K2} \right) \right)/K2 \right\rceil,$
$N_{\text{RB}}^{DL,\ BWP}$ is the size of the active DL bandwidth part,
$N_{DL,\ BWP}^{\text{start}}$ is defined as in clause 4.4.4.4 of [4, TS
38.211] and $K2$ is given by higher layer parameter
_resourceAllocationType1GranularityDCI-1-3._ If the higher layer parameter
_resourceAllocationType1GranularityDCI-1-3_ is not configured, $K2$ is equal
to 1.
\- If _resourceAllocationDCI-1-3_ is configured as \'_dynamicSwitch\'_ , the
MSB bit is used to indicate resource allocation type 0 or resource allocation
type 1, where the bit value of 0 indicates resource allocation type 0 and the
bit value of 1 indicates resource allocation type 1.
\- For resource allocation type 0, the $N_{\text{RBG}}$ LSBs provide the
resource allocation as defined in Clause 5.1.2.2.1 of [6, TS 38.214].
\- For resource allocation type 1, the $\left\lceil \log_{2}\left( N_{RBG,\
K2}\left( N_{RBG,\ K2} + 1 \right)/2 \right) \right\rceil$ LSBs provide the
resource allocation as defined in Clause 5.1.2.2.2 of [6, TS 38.214].
> If \"Bandwidth part indicator\" field indicates a bandwidth part other than
> the active bandwidth part and if _resourceAllocationDCI-1-3_ is configured
> as \'_dynamicSwitch\'_ for the indicated bandwidth part, the UE assumes
> resource allocation type 0 for the indicated bandwidth part if the bitwidth
> of the \"Frequency domain resource assignment\" field of the active
> bandwidth part is smaller than the bitwidth of the \"Frequency domain
> resource assignment\" field of the indicated bandwidth part.
>
> If the higher layer parameter _ScheduledCellCombo-ListDCI-1-3_ for the
> scheduled cell set is not configured, each block is also used to indicate
> whether the corresponding cell is scheduled or not as follows:
\- if all bits of a block are set to 0 for resource allocation type 0 or set
to 1 for resource allocation type 1 or set to 0 or 1 for dynamic switch
resource allocation type, the cell corresponding to the block is not
scheduled;
\- otherwise, the cell corresponding to the block is scheduled.
\- Time domain resource assignment -$\left\lceil \log_{2}{(I)} \right\rceil\
$bits, where _I_ is the number of entries in the higher layer parameter _TDRA-
FieldIndexListDCI-1-3_. This field is used to indicate an entry in the higher
layer parameter _TDRA-FieldIndexListDCI-1-3_ according to Table 7.3.1.2.4-2.
Each entry in the higher layer parameter _TDRA-FieldIndexListDCI-1-3_ contains
the 'Time domain resource assignment' index for each cell in the scheduled
cell set, where the 'Time domain resource assignment' indexes for all the
cells are placed according to an ascending order of a serving cell index.
\- VRB-to-PRB mapping - 0 or 1 bit
\- 0 bit if the higher layer parameter _vrb-ToPRB-Interleaver_ is not
configured for any cell configured by higher layer parameter _ScheduledCell-
ListDCI-1-3_ in the scheduled cell set;
\- 1 bit according to Table 7.3.1.2.2-5 otherwise, only applicable to resource
allocation type 1, as defined in Clause 7.3.1.6 of [4, TS 38.211].
> The field is only applicable to a scheduled cell configured with _vrb-ToPRB-
> Interleaver_ , and is applied to the applicable scheduled cells
> independently.
\- PRB bundling size indicator - 0 or 1 bit
\- 0 bit if the higher layer parameter _prb-BundlingType_ is not configured or
is set to \'staticBundling\' for any cell configured by higher layer parameter
_ScheduledCell-ListDCI-1-3_ in the scheduled cell set;
\- 1 bit according to Clause 5.1.2.3 of [6, TS 38.214] otherwise.
> The field is only applicable to a scheduled cell configured with _prb-
> BundlingType_ set to \'dynamicBundling\', and is applied to the applicable
> scheduled cells independently.
\- Rate matching indicator -$\ \left\lceil \log_{2}{(I_{\text{RM}})}
\right\rceil\ $bits, where $I_{\text{RM}}$ is the number of entries in the
higher layer parameter _rateMatchListDCI-1-3_. This field is used to indicate
an entry in the higher layer parameter _rateMatchListDCI-1-3_ according to
Table 7.3.1.2.4-3. Each entry in the higher layer parameter
_rateMatchListDCI-1-3_ contains the 'Rate matching indicator' index for each
cell configured with _rateMatchPatternGroup1_ or _rateMatchPatternGroup2_ on
at least one DL BWP in the scheduled cell set, where the 'Rate matching
indicator' indexes for all the cells are placed according to an ascending
order of a serving cell index. Each 'Rate matching indicator' index is defined
by the following:
\- 0, 1, or 2 bits according to higher layer parameters
_rateMatchPatternGroup1_ and _rateMatchPatternGroup2_ , where the MSB is used
to indicate _rateMatchPatternGroup1_ and the LSB is used to indicate
_rateMatchPatternGroup2_ when there are two groups.
\- ZP CSI-RS trigger -$\ \left\lceil \log_{2}{(I_{\text{CSIRS}})}
\right\rceil\ $bits, where $I_{\text{CSIRS}}$ is the number of entries in the
higher layer parameter _zp-CSI-RSListDCI-1-3_. This field is used to indicate
an entry in the higher layer parameter _zp-CSI-RSListDCI-1-3_ according to
Table 7.3.1.2.4-4. Each entry in the higher layer parameter _zp-CSI-
RSListDCI-1-3_ contains the 'ZP CSI-RS trigger' index for each cell configured
with _aperiodicZP-CSI-RS-ResourceSetsToAddModList_ on at least one DL BWP in
the scheduled cell set, where the 'ZP CSI-RS trigger' indexes for all the
cells are placed according to an ascending order of a serving cell index. Each
'ZP CSI-RS trigger' index is defined by the following:
\- 0, 1, or 2 bits as defined in Clause 5.1.4.2 of [6, TS 38.214]. The
bitwidth for this field is determined as $\left\lceil \log_{2}{(n_{\text{ZP}}
+ 1)} \right\rceil$ bits, where $n_{\text{ZP}}$ is the number of aperiodic ZP
CSI-RS resource sets configured by higher layer parameter _aperiodicZP-CSI-RS-
ResourceSetsToAddModList_.
> For transport block 1:
\- Modulation and coding scheme - number of bits determined by the following:
\- block number 1, block number 2,..., block number
$N_{\text{cell}}^{\text{DL}}$
> Each block corresponds to the modulation and coding scheme for a scheduled
> cell, and the blocks are placed according to an ascending order of a serving
> cell index, with block number 1 corresponding to the modulation and coding
> scheme for the cell with the smallest serving cell index. Each block is 5
> bits as defined in Clause 6.1.4.1 of [6, TS 38.214].
\- New data indicator - number of bits determined by the following:
\- block number 1, block number 2,..., block number
$N_{\text{cell}}^{\text{DL}}$
> Each block corresponds to the new data indicator for a scheduled cell, and
> the blocks are placed according to an ascending order of a serving cell
> index, with block number 1 corresponding to the new data indicator for the
> cell with the smallest serving cell index. Each block is 1 bit.
\- Redundancy version - number of bits determined by the following:
\- block number 1, block number 2,..., block number
$N_{\text{cell}}^{\text{DL}}$
> Each block corresponds to the redundancy version for a scheduled cell, and
> the blocks are placed according to an ascending order of a serving cell
> index, with block number 1 corresponding to the redundancy version for the
> cell with the smallest serving cell index. Each block is 0, 1 or 2 bits
> determined by higher layer parameter _numberOfBitsForRV-DCI-1-3_ configured
> for the cell correponding to the block,
\- If 0 bit is configured, _rv~id~_ to be applied is 0;
\- 1 bit according to Table 7.3.1.2.3-1;
\- 2 bits according to Table 7.3.1.1.1-2.
For transport block 2:
\- Modulation and coding scheme - number of bits determined by the following:
\- block number 1, block number 2,..., block number$\ N_{\text{cell}}^{DL,3}$
> If _ScheduledCellCombo-ListDCI-1-3_ for the scheduled cell set is
> configured, $N_{\text{cell}}^{DL,3}$ is the number of scheduled cells
> indicated by Scheduled cells indicator field and configured with
> _maxNrofCodeWordsScheduledByDCI = 2_ ; otherwise, $N_{\text{cell}}^{DL,3}\
> $is the number of cells configured by higher layer parameter _ScheduledCell-
> ListDCI-1-3_ in the scheduled cell set and configured with
> _maxNrofCodeWordsScheduledByDCI = 2_. Each block corresponds to the
> modulation and coding scheme for a scheduled cell, and the blocks are placed
> according to an ascending order of a serving cell index, with block number 1
> corresponding to the modulation and coding scheme for the cell with the
> smallest serving cell index. Each block is 5 bits as defined in Clause
> 6.1.4.1 of [6, TS 38.214].
\- New data indicator - number of bits determined by the following:
\- block number 1, block number 2,..., block number $N_{\text{cell}}^{DL,3}$
> Each block corresponds to the new data indicator for a scheduled cell, and
> the blocks are placed according to an ascending order of a serving cell
> index, with block number 1 corresponding to the new data indicator for the
> cell with the smallest serving cell index. Each block is 1 bit.
\- Redundancy version - number of bits determined by the following:
\- block number 1, block number 2,..., block number $N_{\text{cell}}^{DL,3}$
> Each block corresponds to the redundancy version for a scheduled cell, and
> the blocks are placed according to an ascending order of a serving cell
> index, with block number 1 corresponding to the redundancy version for the
> cell with the smallest serving cell index. Each block is 0, 1 or 2 bits
> determined by higher layer parameter _numberOfBitsForRV-DCI-1-3_ configured
> for the cell correponding to the block,
\- If 0 bit is configured, _rv~id~_ to be applied is 0;
\- 1 bit according to Table 7.3.1.2.3-1;
\- 2 bits according to Table 7.3.1.1.1-2.
> If \"Bandwidth part indicator\" field indicates a bandwidth part other than
> the active bandwidth part and the value of _maxNrofCodeWordsScheduledByDCI_
> for the indicated bandwidth part equals 2 and the value of
> _maxNrofCodeWordsScheduledByDCI_ for the active bandwidth part equals 1, the
> UE assumes zeros are padded when interpreting the \"Modulation and coding
> scheme\", \"New data indicator\", and \"Redundancy version\" fields of
> transport block 2 according to Clause 12 of [5, TS38.213], and the UE
> ignores the \"Modulation and coding scheme\", \"New data indicator\", and
> \"Redundancy version\" fields of transport block 2 for the indicated
> bandwidth part.
\- HARQ process number - number of bits determined by the following:
\- block number 1, block number 2,..., block number
$N_{\text{cell}}^{\text{DL}}$
> Each block corresponds to the HARQ process number for a scheduled cell, and
> the blocks are placed according to an ascending order of a serving cell
> index, with block number 1 corresponding to the HARQ process number for the
> cell with the smallest serving cell index. Each block is 0, 1, 2, 3, 4 or 5
> bits determined by higher layer parameter _harq-ProcessNumberSizeDCI-1-3_
> configured for the cell correponding to the block.
\- Downlink assignment index - number of bits as defined in the following
\- 4 bits if the higher layer parameter _pdsch-HARQ-ACK-Codebook=dynamic_ ,
where the 2 MSB bits are the counter DAI and the 2 LSB bits are the total DAI;
\- 0 bits otherwise.
> If the UE is configured with a PUCCH-SCell, _pdsch-HARQ-ACK-Codebook_ is
> replaced by _pdsch-HARQ-ACK-Codebook-secondaryPUCCHgroup-r16_ if present for
> the secondary PUCCH group.
>
> If higher layer parameter _priorityIndicatorDCI-1-3_ is configured, if the
> bit width of the Downlink assignment index in DCI format 1_3 for one HARQ-
> ACK codebook is not equal to that of the Downlink assignment index in DCI
> format 1_3 for the other HARQ-ACK codebook, a number of most significant
> bits with value set to \'0\' are inserted to smaller Downlink assignment
> index until the bit width of the Downlink assignment index in DCI format 1_3
> for the two HARQ-ACK codebooks are the same.
\- TPC command for scheduled PUCCH - 2 bits as defined in Clause 7.2.1 of [5,
TS 38.213]
\- PUCCH resource indicator - 3 bits as defined in Clause 9.2.3 of [5, TS
38.213]
\- PDSCH-to-HARQ_feedback timing indicator - 0, 1, 2, or 3 bits as defined in
Clause 9.2.3 of [5, TS 38.213]. The bitwidth for this field is determined as
$\left\lceil \log_{2}{(I)} \right\rceil$ bits, where _I_ is the number of
entries in the higher layer parameter _dL-DataToUL-ACK._
> If higher layer parameter _priorityIndicatorDCI-1-3_ is configured, if the
> bit width of the PDSCH-to-HARQ_feedback timing indicator in DCI format 1_3
> for one HARQ-ACK codebook is not equal to that of the PDSCH-to-HARQ_feedback
> timing indicator in DCI format 1_3 for the other HARQ-ACK codebook on the
> same cell for PUCCH transmission, a number of most significant bits with
> value set to \'0\' are inserted to smaller PDSCH-to-HARQ_feedback timing
> indicator until the bit width of the PDSCH-to-HARQ_feedback timing indicator
> in DCI format 1_3 for the two HARQ-ACK codebooks are the same.
>
> If higher layer parameter _pucch-sSCellDynDCI-1-3_ is configured, if the bit
> width of the PDSCH-to-HARQ_feedback timing indicator in DCI format 1_3
> associated with one cell for PUCCH transmission is not equal to that of the
> PDSCH-to-HARQ_feedback timing indicator in DCI format 1_3 associated with
> the other cell for PUCCH transmission, a number of most significant bits
> with value set to \'0\' are inserted to smaller PDSCH-to-HARQ_feedback
> timing indicator until the bit width of the PDSCH-to-HARQ_feedback timing
> indicator in DCI format 1_3 associated with the two cells are the same.
\- One-shot HARQ-ACK request - 0 or 1 bit.
\- 1 bit if higher layer parameter pdsch-HARQ-ACK-OneShotFeedbackDCI-1-3 or
pdsch-HARQ-ACK-enhType3DCI-1-3 is configured;
\- 0 bit otherwise.
\- Enhanced Type 3 codebook indicator - 0, 1, 2, or 3 bits.
\- 0 bit if pdsch-HARQ-ACK-enhType3DCIfieldDCI-1-3 is not configured;
\- $\left\lceil \log_{2}{(n_{\text{CB}})} \right\rceil$ bits otherwise, where
$n_{\text{CB}}$ is the number of entries in the higher layer parameter pdsch-
HARQ-ACK-EnhType3ToAddModList.
> If the UE is configured with a PUCCH-SCell, _pdsch-HARQ-ACK-
> EnhType3ToAddModList_ is replaced by _pdsch-HARQ-ACK-EnhType3SecondaryList_
> for the secondary PUCCH group _._
\- HARQ-ACK retransmission indicator - 0 or 1 bit.
\- 1 bit if higher layer parameter _pdsch-HARQ-ACK-retxDCI-1-3_ is configured.
\- 0 bit otherwise.
\- Antenna ports - number of bits determined by the following:
\- If _AntennaPortsDCI-1-3= type1a_ is configured by higher layer,
\- $\max_{r \in { 1,2,\ldots,N_{\text{cell}}^{DL,2}}}{M_{A}\left( r \right)}\
$bits applying to the scheduled cells independently, where
$N_{\text{cell}}^{DL,2}$ is the number of cells configured by higher layer
parameter _ScheduledCell-ListDCI-1-3_ in the scheduled cell set, $r$ is mapped
to the cells according to an ascending order of a serving cell index with $r =
1$ corresponding to the cell with the smallest serving cell index, and
$M_{A}\left( r \right)$ is defined below.
\- If _AntennaPortsDCI-1-3= type2_ is configured by higher layer,$\ $
\- block number 1, block number 2,..., block number
$N_{\text{cell}}^{\text{DL}}$
> Each block corresponds to the Antenna ports information for a scheduled
> cell, and the blocks are placed according to an ascending order of a serving
> cell index, with block number 1 corresponding to the Antenna ports
> information for the cell with the smallest serving cell index. Each block is
> defined below.
>
> $M_{A}\left( r \right)$ above for the case of _AntennaPortsDCI-1-3= type1A_
> or each block above for the case of _AntennaPortsDCI-1-3= type2_ is defined
> by the following:
\- 4, 5, or 6 bits as defined by Tables 7.3.1.2.2-1/2/3/4 and Tables
7.3.1.2.2-1A/2A/3A/4A, where the number of CDM groups without data of values
1, 2, and 3 refers to CDM groups {0}, {0,1}, and {0, 1,2} respectively. The
antenna ports $\left{ p_{0},\ldots,p_{v - 1} \right}$ shall be determined
according to the ordering of DMRS port(s) given by Tables 7.3.1.2.2-1/2/3/4 or
Tables 7.3.1.2.2-1A/2A/3A/4A.
> If a UE is configured with both _dmrs-DownlinkForPDSCH-MappingTypeA_ and
> _dmrs-DownlinkForPDSCH-MappingTypeB_ , the bitwidth of this field equals
> $\max\left{ x_{A},x_{B} \right}$, where $x_{A}$ is the \"Antenna ports\"
> bitwidth derived according to _dmrs-DownlinkForPDSCH-MappingTypeA_ and
> $x_{B}$ is the \"Antenna ports\" bitwidth derived according to _dmrs-
> DownlinkForPDSCH-MappingTypeB_. A number of $\left| x_{A} - x_{B} \right|$
> zeros are padded in the MSB of this field, if the mapping type of the PDSCH
> corresponds to the smaller value of $x_{A}$ and $x_{B}$.
\- Transmission configuration indication - number of bits determined by the
following:
\- 0 bit if higher layer parameter _tci-PresentInDCI_ is not enabled;
\- otherwise $\left\lceil \log_{2}{(I_{\text{TCI}})} \right\rceil\ $bits,
where $I_{\text{TCI}}$ is the number of entries in the higher layer parameter
_tci-ListDCI-1-3_. This field is used to indicate an entry in the higher layer
parameter _tci-ListDCI-1-3_ according to Table 7.3.1.2.4-5. Each entry in the
higher layer parameter _tci-ListDCI-1-3_ contains the 'Transmission
configuration indication' index for each cell in the scheduled cell set, where
the 'Transmission configuration indication' indexes for all the cells are
placed according to an ascending order of a serving cell index. Each
'Transmission configuration indication' index is 3 bits as defined in Clause
5.1.5 of [6, TS38.214].
> If \"Bandwidth part indicator\" field indicates a bandwidth part other than
> the active bandwidth part,
\- if the higher layer parameter _tci-PresentInDCI_ is not enabled for the
CORESET used for the PDCCH carrying the DCI format 1_3,
\- the UE assumes _tci-PresentInDCI_ is not enabled for all CORESETs in the
indicated bandwidth part;
\- otherwise,
\- the UE assumes _tci-PresentInDCI_ is enabled for all CORESETs in the
indicated bandwidth part.
\- SRS request -$\ \left\lceil \log_{2}{(I_{\text{SRS}})} \right\rceil\ $bits,
where $I_{\text{SRS}}$ is the number of entries in the higher layer parameter
_srs-RequestListDCI-1-3_. This field is used to indicate an entry in the
higher layer parameter _srs-RequestListDCI-1-3_ according to Table
7.3.1.2.4-6. Each entry in the higher layer parameter _srs-RequestListDCI-1-3_
contains the 'SRS request' index for each cell in the scheduled cell set,
where the 'SRS request' indexes for all the cells are placed according to an
ascending order of a serving cell index. Each 'SRS request' index is defined
by the following:
\- 2 bits as defined by Table 7.3.1.1.2-24 for UEs not configured with
_supplementaryUplink_ in _ServingCellConfig_ in the cell; 3 bits for UEs
configured with _supplementaryUplink_ in _ServingCellConfig_ in the cell where
the first bit is the non-SUL/SUL indicator as defined in Table 7.3.1.1.1-1 and
the second and third bits are defined by Table 7.3.1.1.2-24. This bit field
may also indicate the associated CSI-RS according to Clause 6.1.1.2 of [6, TS
38.214].
\- SRS offset indicator -$\ \left\lceil \log_{2}{(I_{\text{offset}})}
\right\rceil\ $bits, where$I_{\text{offset}}$ is the number of entries in the
higher layer parameter _srs-OffsetListDCI-1-3_. This field is used to indicate
an entry in the higher layer parameter _srs-OffsetListDCI-1-3_ according to
Table 7.3.1.2.4-7. Each entry in the higher layer parameter _srs-
OffsetListDCI-1-3_ contains the 'SRS offset indicator' index for each cell in
the scheduled cell set, where the 'SRS offset indicator' indexes for all the
cells are placed according to an ascending order of a serving cell index. Each
'SRS offset indicator' index is defined by the following:
\- 0 bit if higher layer parameter _AvailableSlotOffset_ is not configured for
any aperiodic SRS resource set in the scheduled cell, or if higher layer
parameter _AvailableSlotOffset_ is configured for at least one aperiodic SRS
resource set in the scheduled cell and the maximum number of entries of
_availableSlotOffsetList_ configured for all aperiodic SRS resource set(s) is
1;
\- otherwise, $\left\lceil \log_{2}{(K)} \right\rceil$ bits are used to
indicate available slot offset according to Table 7.3.1.1.2-37 and Clause
6.2.1 of [6, TS 38.214], where K is the maximum number of entries of
_availableSlotOffsetList_ configured for all aperiodic SRS resource set(s) in
the scheduled cell;
\- DMRS sequence initialization - 1 bit. This field is applied to all the
scheduled cells indicated by Scheduled cells indicator field or Frequency
domain resource assignment field independently.
\- Priority indicator - 0 bit if higher layer parameter
_priorityIndicatorDCI-1-3_ is not configured; otherwise 1 bit as defined in
Clause 9 in [5, TS 38.213].
\- ChannelAccess-CPext - 0, 1, 2, 3 or 4 bits. The bitwidth for this field is
determined as $\left\lceil \log_{2}{(I)} \right\rceil$ bits, where _I_ is the
number of entries in the higher layer parameter _ul-AccessConfigListDCI-1-1_
or in Table 7.3.1.1.1-4A if _channelAccessMode-r16_ = \"_semiStatic_ \" is
provided, for operation in a cell with shared spectrum channel access in
frequency range 1, or for operation in frequency range 2-2 if
_ChannelAccessMode2-r17_ is provided; otherwise 0 bit. One or more entries
from Table 7.3.1.2.2-6 or Table 7.3.1.2.2-6A are configured by the higher
layer parameter _ul-AccessConfigListDCI-1-1._
\- Minimum applicable scheduling offset indicator - 0 or 1 bit
\- 0 bit if higher layer parameter _minimumSchedulingOffsetK0DCI-1-3_ is not
configured;
\- x bits otherwise.
\- SCell dormancy indication - 0 bit if higher layer parameter _SCell-
dormancy-indication-Present_ is not enabled; otherwise x bits.
\- PDCCH monitoring adaptation indication - 0, 1 or 2 bits
\- 0 bit if higher layer parameter _pdcchMonAdaptDCI-1-3_ is not enabled;
\- otherwise,
\- 1 or 2 bits, if _searchSpaceGroupIdList-r17_ is not configured and if
_pdcch-SkippingDurationList_ is configured
\- 1 bit if the UE is configured with only one duration by _pdcch-
SkippingDurationList;_
\- 2 bits if the UE is configured with more than one duration by _pdcch-
SkippingDurationList_.
\- 1 or 2 bits, if _pdcch-SkippingDurationList_ is not configured and if
_searchSpaceGroupIdList-r17_ is configured
\- 1 bit if the UE is configured by _searchSpaceGroupIdList-r17_ with search
space set(s) with group index 0 and search space set(s) with group index 1,
and if the UE is not configured by _searchSpaceGroupIdList-r17_ with any
search space set with group index 2;
\- 2 bits if the UE is configured by _searchSpaceGroupIdList-r17_ with search
space set(s) with group index 0, search space set(s) with group index 1 and
search space set(s) with group index 2;
\- 2 bits, if pdcch-SkippingDurationList is configured and if
searchSpaceGroupIdList-r17 is configured
\- PUCCH Cell indicator - 0 or 1 bit.
\- 1 bit if higher layer parameter _pucch-sSCellDynDCI-1-3_ is configured.
\- 0 bit otherwise.
If _ScheduledCellCombo-ListDCI-1-3_ for the cell set is configured, zeros
shall be appended to DCI format 1_3 if needed until the payload size equals
the size of DCI format 1_3 that is determined by the configuration of the
corresponding active bandwidth part(s) of the scheduled cells in the entry
which results in the largest size among the entries in the higher layer
parameter _ScheduledCellCombo-ListDCI-1-3_ ; otherwise, zeros shall be
appended to DCI format 1_3 if needed until the payload size equals the size of
DCI format 1_3 that is determined by the configuration of the corresponding
active bandwidth part(s) of all the cells within the scheduled cell set.
Table 7.3.1.2.4-1: Scheduled cells indicator in DCI format 1_3
Bit field mapped to index Scheduled cells
* * *
0 The cells configured by the 1^st^ entry in _ScheduledCellCombo-ListDCI-1-3_
1 The cells configured by the 2^nd^ entry in _ScheduledCellCombo-ListDCI-1-3_
2 The cells configured by the 3^rd^ entry in _ScheduledCellCombo-ListDCI-1-3_
, if any 3 The cells configured by the 4^th^ entry in _ScheduledCellCombo-
ListDCI-1-3_ , if any 4 The cells configured by the 5^th^ entry in
_ScheduledCellCombo-ListDCI-1-3_ , if any 5 The cells configured by the 6^th^
entry in _ScheduledCellCombo-ListDCI-1-3_ , if any 6 The cells configured by
the 7^th^ entry in _ScheduledCellCombo-ListDCI-1-3_ , if any 7 The cells
configured by the 8^th^ entry in _ScheduledCellCombo-ListDCI-1-3_ , if any 8
The cells configured by the 9^th^ entry in _ScheduledCellCombo-ListDCI-1-3_ ,
if any 9 The cells configured by the 10^th^ entry in _ScheduledCellCombo-
ListDCI-1-3_ , if any 10 The cells configured by the 11^th^ entry in
_ScheduledCellCombo-ListDCI-1-3_ , if any 11 The cells configured by the
12^th^ entry in _ScheduledCellCombo-ListDCI-1-3_ if any 12 The cells
configured by the 13^th^ entry in _ScheduledCellCombo-ListDCI-1-3_ , if any 13
The cells configured by the 14^th^ entry in _ScheduledCellCombo-ListDCI-1-3_ ,
if any 14 The cells configured by the 15^th^ entry in _ScheduledCellCombo-
ListDCI-1-3_ , if any 15 The cells configured by the 16^th^ entry in
_ScheduledCellCombo-ListDCI-1-3_ , if any
Table 7.3.1.2.4-2: Time domain resource assignment in DCI format 1_3
Bit field mapped to index Indicated time domain resource allocation
* * *
0 The 1^st^ entry in _TDRA-FieldIndexListDCI-1-3_ 1 The 2^nd^ entry in _TDRA-
FieldIndexListDCI-1-3_ 2 The 3^rd^ entry in _TDRA-FieldIndexListDCI-1-3_ , if
any ... ... $$i$$ The ${(i + 1)}^{\text{th}}$ entry in _TDRA-
FieldIndexListDCI-1-3_ , if any ... ...
Table 7.3.1.2.4-3: Rate matching indicator
Bit field mapped to index Indicated rate matching pattern
* * *
0 The 1^st^ entry in _rateMatchListDCI-1-3_ 1 The 2^nd^ entry in
_rateMatchListDCI-1-3_ 2 The 3^rd^ entry in _rateMatchListDCI-1-3_ , if any
... ... 15 The 16^th^ entry in _rateMatchListDCI-1-3_ , if any
Table 7.3.1.2.4-4: ZP CSI-RS trigger
Bit field mapped to index Triggered aperiodic ZP CSI-RS
* * *
0 The 1^st^ entry in _zp-CSI-RSListDCI-1-3_ 1 The 2^nd^ entry in _zp-CSI-
RSListDCI-1-3_ 2 The 3^rd^ entry in _zp-CSI-RSListDCI-1-3_ , if any ... ... 7
The 8^th^ entry in _zp-CSI-RSListDCI-1-3_ , if any
Table 7.3.1.2.4-5: Transmission configuration indication
Bit field mapped to index Indicated transmission configuration indication
* * *
0 The 1^st^ entry in _tci-ListDCI-1-3_ 1 The 2^nd^ entry in _tci-ListDCI-1-3_
2 The 3^rd^ entry in _tci-ListDCI-1-3_ , if any ... ... 15 The 16^th^ entry in
_tci-ListDCI-1-3_ , if any
Table 7.3.1.1.4-6: SRS request in DCI format 1_3
Bit field mapped to index Triggered aperiodic SRS resource set(s)
* * *
0 The 1^st^ entry in _srs-RequestListDCI-1-3_ 1 The 2^nd^ entry in _srs-
RequestListDCI-1-3_ 2 The 3^rd^ entry in _srs-RequestListDCI-1-3_ , if any ...
... 15 The 16^th^ entry in _srs-RequestListDCI-1-3_ , if any
Table 7.3.1.1.4-7: SRS offset indicator in DCI format 1_3
Bit field mapped to index Available slot offset
* * *
0 The 1^st^ entry in _srs-OffsetListDCI-1-3_ 1 The 2^nd^ entry in _srs-
OffsetListDCI-1-3_ 2 The 3^rd^ entry in _srs-OffsetListDCI-1-3_ , if any ...
... 7 The 8^th^ entry in _srs-OffsetListDCI-1-3_ , if any
#### 7.3.1.3 DCI formats for other purposes
##### 7.3.1.3.1 Format 2_0
DCI format 2_0 is used for notifying the slot format, COT duration, available
RB set, and search space set group switching.
The following information is transmitted by means of the DCI format 2_0 with
CRC scrambled by SFI-RNTI:
\- If the higher layer parameter _slotFormatCombToAddModList_ is configured,
\- Slot format indicator 1, Slot format indicator 2, ..., Slot format
indicator _N_ ,
\- If the higher layer parameter _availableRB-SetsToAddModList_ is configured,
\- Available RB set Indicator 1, Available RB set Indicator 2, ..., Available
RB set Indicator _N1_ ,
\- If the higher layer parameter _co-DurationsPerCellToAddModList_ is
configured
\- COT duration indicator 1, COT duration indicator 2, ..., COT duration
indicator _N2._
\- If the higher layer parameter _switchTriggerToAddModList_ is configured
\- Search space set group switching flag 1, Search space set group switching
flag 2, ..., Search space set group switching flag _M._
The size of DCI format 2_0 is configurable by higher layers up to 128 bits,
according to Clause 11.1.1 of [5, TS 38.213].
##### 7.3.1.3.2 Format 2_1
DCI format 2_1 is used for notifying the PRB(s) and OFDM symbol(s) where UE
may assume no transmission is intended for the UE.
The following information is transmitted by means of the DCI format 2_1 with
CRC scrambled by INT-RNTI:
\- Pre-emption indication 1, Pre-emption indication 2, ..., Pre-emption
indication _N_.
The size of DCI format 2_1 is configurable by higher layers up to 126 bits,
according to Clause 11.2 of [5, TS 38.213]. Each pre-emption indication is 14
bits.
##### 7.3.1.3.3 Format 2_2
DCI format 2_2 is used for the transmission of TPC commands for PUCCH and
PUSCH.
The following information is transmitted by means of the DCI format 2_2 with
CRC scrambled by TPC-PUSCH-RNTI or TPC-PUCCH-RNTI:
\- block number 1, block number 2,..., block number _N_
The parameter _tpc-PUSCH_ or _tpc-PUCCH_ provided by higher layers determines
the index to the block number for an UL of a cell, with the following fields
defined for each block:
\- Closed loop indicator - 0 or 1 bit.
\- For DCI format 2_2 with TPC-PUSCH-RNTI, 0 bit if the UE is not configured
with high layer parameter _twoPUSCH-PC-AdjustmentStates_ , in which case UE
assumes each block in the DCI format 2_2 is of 2 bits; 1 bit otherwise, in
which case UE assumes each block in the DCI format 2_2 is of 3 bits;
\- For DCI format 2_2 with TPC-PUCCH-RNTI, 0 bit if the UE is not configured
with high layer parameter _twoPUCCH-PC-AdjustmentStates_ , in which case UE
assumes each block in the DCI format 2_2 is of 2 bits; 1 bit otherwise, in
which case UE assumes each block in the DCI format 2_2 is of 3 bits;
\- TPC command -2 bits
The number of information bits in format 2_2 shall be equal to or less than
the payload size of format 1_0 monitored in common search space in the same
serving cell. If the number of information bits in format 2_2 is less than the
payload size of format 1_0 monitored in common search space in the same
serving cell, zeros shall be appended to format 2_2 until the payload size
equals that of format 1_0 monitored in common search space in the same serving
cell.
##### 7.3.1.3.4 Format 2_3
DCI format 2_3 is used for the transmission of a group of TPC commands for SRS
transmissions by one or more UEs. Along with a TPC command, a SRS request may
also be transmitted.
The following information is transmitted by means of the DCI format 2_3 with
CRC scrambled by TPC-SRS-RNTI:
\- block number 1, block number 2, ..., block number
where the starting position of a block is determined by the parameter
_startingBitOfFormat2-3_ or _startingBitOfFormat2-3SUL-v1530_ provided by
higher layers for the UE configured with the block.
If the UE is configured with higher layer parameter _srs-TPC-PDCCH-Group_ =
_typeA_ for an UL without PUCCH and PUSCH or an UL on which the SRS power
control is not tied with PUSCH power control, one block is configured for the
UE by higher layers, with the following fields defined for the block:
\- SRS request - 0 or 2 bits. The presence of this field is according to the
definition in Clause 11.4 of [5, TS38.213]. If present, this field is
interpreted as defined by Table 7.3.1.1.2-24.
\- TPC command number 1, TPC command number 2, ..., TPC command number _N_ ,
where each TPC command applies to a respective UL carrier provided by higher
layer parameter _cc-IndexInOneCC-Set_
If the UE is configured with higher layer parameter _srs-TPC-PDCCH-Group_ =
_typeB_ for an UL without PUCCH and PUSCH or an UL on which the SRS power
control is not tied with PUSCH power control, one block or more blocks is
configured for the UE by higher layers where each block applies to an UL
carrier, with the following fields defined for each block:
\- SRS request - 0 or 2 bits. The presence of this field is according to the
definition in Clause 11.4 of [5, TS38.213]. If present, this field is
interpreted as defined by Table 7.3.1.1.2-24.
\- TPC command -2 bits
The number of information bits in format 2_3 shall be equal to or less than
the payload size of format 1_0 monitored in common search space in the same
serving cell. If the number of information bits in format 2_3 is less than the
payload size of format 1_0 monitored in common search space in the same
serving cell, zeros shall be appended to format 2_3 until the payload size
equals that of format 1_0 monitored in common search space in the same serving
cell.
##### 7.3.1.3.5 Format 2_4
DCI format 2_4 is used for notifying the PRB(s) and OFDM symbol(s) where UE
cancels the corresponding UL transmission from the UE according to Clause
11.2A of [5, TS 38.213].
The following information is transmitted by means of the DCI format 2_4 with
CRC scrambled by CI-RNTI:
\- Cancellation indication 1, Cancellation indication 2, ..., Cancellation
indication indication _N_.
The size of DCI format 2_4 is configurable by higher layers parameter _dci-
PayloadSizeForCI_ up to 126 bits, according to Clause 11.2A of [5, TS 38.213].
The number of bits for each cancellation indication is configurable by higher
layer parameter _ci-PayloadSize_. For a UE, there is at most one cancellation
indication for an UL carrier.
##### 7.3.1.3.6 Format 2_5
DCI format 2_5 is used for notifying the availability of soft resources as
defined in Clause 9.3.1 of [10, TS 38.473]
The following information is transmitted by means of the DCI format 2_5 with
CRC scrambled by AI-RNTI:
\- Availability indicator 1, Availability indicator 2, ..., Availability
indicator _N_.
The size of DCI format 2_5 is configurable by higher layers up to 128 bits,
according to Clause 14 of [5, TS 38.213].
##### 7.3.1.3.7 Format 2_6
DCI format 2_6 is used for notifying the power saving information **outside
DRX Active Time for one or more UEs**.
The following information is transmitted by means of the DCI format 2_6 with
CRC scrambled by PS-RNTI:
\- block number 1, block number 2,..., block number _N_
where the starting position of a block is determined by the parameter _ps-
PositionDCI-2-6_ provided by higher layers for the UE configured with the
block.
If the UE is configured with higher layer parameter _ps-RNTI_ and _dci-
Format2-6_ , one block is configured for the UE by higher layers, with the
following fields defined for the block:
\- Wake-up indication - 1 bit
\- SCell dormancy indication - 0 bit if higher layer parameter
_dormancyGroupOutsideActiveTime_ is not configured; otherwise 1, 2, 3, 4 or 5
bits bitmap determined according to the number of different
_DormancyGroupID(s)_ provided by higher layer parameter
_dormancyGroupOutsideActiveTime,_ where each bit corresponds to one of the
SCell group(s) configured by higher layers parameter
_dormancyGroupOutsideActiveTime,_ with MSB to LSB of the bitmap corresponding
to the first to last configured SCell group in ascending order of
_DormancyGroupID_.
The size of DCI format 2_6 is indicated by the higher layer parameter
_sizeDCI-2-6_ , according to Clause 10.3 of [5, TS 38.213].
##### 7.3.1.3.8 Format 2_7
DCI format 2_7 is used for notifying the paging early indication **and TRS
availability indication for one or more UEs**.
The following information is transmitted by means of the DCI format 2_7 with
CRC scrambled by PEI-RNTI:
\- Paging indication field -
$N_{\text{PO}}^{\text{PEI}}N_{\text{SG}}^{\text{PO}}$ bit(s), where
\- $N_{\text{PO}}^{\text{PEI}}$ is the number of paging occasions configured
by higher layer parameter _po-NumPerPEI_ as defined in Clause 10.4A in [5, TS
38.213];
\- $N_{\text{SG}}^{\text{PO}}$is the number of sub-groups of a paging occasion
configured by higher layer parameter _subgroupsNumPerPO_.
\- Each bit in the field indicates one UE subgroup of a paging occasion.
\- TRS availability indication - 1, 2, 3, 4, 5, or 6 bits, where the number of
bits is equal to one plus the highest value of all the _indBitID_(s) provided
by the _trs-ResourceSetConfig_ if configured; 0 bits otherwise.
The size of DCI format 2_7 is indicated by the higher layer parameter
_payloadSizeDCI-2-7_ , according to Clause 10.4A of [5, TS 38.213]. The number
of information bits in format 2_7 shall be equal to or less than the payload
size of format 2_7. If the number of information bits in format 2_7 is less
than the size of format 2_7, the remaining bits are reserved.
##### 7.3.1.3.9 Format 2_8
DCI format 2_8 is used for notifying the aperiodic beam indication and
associated time resources
The following information is transmitted by means of the DCI format 2_8 with
CRC scrambled by NCR-RNTI:
\- Beam index 1, Beam index 2, ..., Beam index N
_The bitwidth of each beam index field is determined by the higher layer
parameter ncr-AperiodicBeamFieldWidth._
\- Time resource indication 1, Time resource indication 2, ..., Time resource
indication N
_The bitwidth of each t_ ime resource indication _field is determined by max_
$\ \left{ \left\lceil \log_{2}\left( I \right) \right\rceil,1 \right}$_,
where_ $I$ _is the number of time domain resources configured by_ _ncr-
AperiodicFwdConfig_. _The bit field indexes of a time resource indication
field are mapped to the time domain resources configured by ncr-
AperiodicFwdConfig according to_ an ascending order of a resource identity
configured by _ncr-AperiodicFwdTimeResourceId_ , with the bit field index 0
mapped to the time resource with the smallest resource identity.
The N beam _indexes_ are sequentially associated with the N time resource
indications with one to one mapping. N is configured by _the higher layer
parameter numberOfFields_. The size of DCI format 2_8 is up to 128 bits.
##### 7.3.1.3.10 Format 2_9
DCI format 2_9 is used for activating or de-activating the cell DTX/DRX
configuration of one or multiple serving cells **for one or more UEs**.
The following information is transmitted by means of the DCI format 2_9 with
CRC scrambled by NES-RNTI:
\- block number 1, block number 2,..., block number _N_
where the starting position of a block is determined by the parameter
_positionInDCI-cellDTRX_ provided by higher layers for the UE.
If the UE is configured with higher layer parameter _XYZ_ , one or more blocks
are configured for the UE by higher layers, with the following field defined
for each block:
\- Cell DTX/DRX indication - 2 bits if _XYZ_ , with the MSB corresponding to
cell DTX configuration and the LSB corresponding to cell DRX configuration;
otherwise 1 bit.
The size of DCI format 2_9 is indicated by the higher layer parameter
_sizeDCI-2-9_.
#### 7.3.1.4 DCI formats for scheduling of sidelink
##### 7.3.1.4.1 Format 3_0
DCI format 3_0 is used for scheduling of NR PSCCH and NR PSSCH in one cell.
The following information is transmitted by means of the DCI format 3_0 with
CRC scrambled by SL-RNTI or SL-CS-RNTI:
\- Resource pool index -$\left\lceil \log_{2}I \right\rceil$ bits, where _I_
is the total number of resource pools for transmission configured by the
higher layer parameter _sl-TxPoolScheduling_ , if configured, and _sl-
DiscTxPoolScheduling_ , if configured.
\- Time gap - 3 bits determined by higher layer parameter _sl-DCI-ToSL-Trans,_
as defined in clause 8.1.2.1 of [6, TS 38.214]
\- HARQ process number - 4 bits.
\- New data indicator - 1 bit.
\- Lowest index of the subchannel allocation to the initial transmission
-$\left\lceil \text{log}_{\text{2}}\text{(}\text{N}_{\text{\
}\text{subChannel}}^{\text{\ }\text{SL}}\text{)} \right\rceil$ bits as defined
in Clause 8.1.2.2 of [6, TS 38.214]
\- SCI format 1-A fields according to clause 8.3.1.1:
\- Frequency resource assignment.
\- Time resource assignment.
\- PSFCH-to-HARQ feedback timing indicator -$\left\lceil \log_{2}N_{fb_
timing} \right\rceil$ bits, where $N_{fb_ timing}$ is the number of entries in
the higher layer parameter _sl-PSFCH-ToPUCCH,_ as defined in clause 16.5 of
[5, TS 38.213]
\- PUCCH resource indicator - 3 bits as defined in clause 16.5 of [5, TS
38.213].
\- Configuration **index** \- 0 bit if the UE is not configured to monitor DCI
format 3_0 with CRC scrambled by SL-CS-RNTI; otherwise 3 bits as defined in
clause 8.1.2 of [6, TS 38.214]. If the UE is configured to monitor DCI format
3_0 with CRC scrambled by SL-CS-RNTI, this field is reserved for DCI format
3_0 with CRC scrambled by SL-RNTI.
\- Counter sidelink assignment index - 2 bits
\- 2 bits as defined in clause 16.5.2 of [5, TS 38.213] if the UE is
configured with _pdsch-HARQ-ACK-Codebook = dynamic_
\- 2 bits as defined in clause 16.5.1 of [5, TS 38.213] if the UE is
configured with _pdsch-HARQ-ACK-Codebook = semi-static_
\- Padding bits, if required
If the total number of transmit resource pools provided in _sl-
TxPoolScheduling_ , if configured, and _sl-DiscTxPoolScheduling_ , if
configured, is larger than one, zeros shall be appended to the DCI format 3_0
until the payload size is equal to the size of a DCI format 3_0 given by a
configuration of the transmit resource pool resulting in the largest number of
information bits for DCI format 3_0.
If the UE is configured to monitor DCI format 3_1 and the number of
information bits in DCI format 3_0 is less than the payload of DCI format 3_1,
zeros shall be appended to DCI format 3_0 until the payload size equals that
of DCI format 3_1.
##### 7.3.1.4.2 Format 3_1
DCI format 3_1 is used for scheduling of LTE PSCCH and LTE PSSCH in one cell.
The following information is transmitted by means of the DCI format 3_1 with
CRC scrambled by SL Semi-Persistent Scheduling V-RNTI:
\- Timing offset - 3 bits determined by higher layer parameter _sl-
TimeOffsetEUTRA-List,_ as defined in clause 16.6 of [5, TS 38.213]
\- Carrier indicator -3 bits as defined in 5.3.3.1.9A of [11, TS 36.212].
\- Lowest index of the subchannel allocation to the initial transmission \-
{width="1.09375in" height="0.2708333333333333in"} bits as defined in
5.3.3.1.9A of [11, TS 36.212].
\- Frequency resource location of initial transmission and retransmission, as
defined in 5.3.3.1.9A of [11, TS 36.212]
\- Time gap between initial transmission and retransmission, as defined in
5.3.3.1.9A of [11, TS 36.212]
\- SL index - 2 bits as defined in 5.3.3.1.9A of [11, TS 36.212]
\- SL SPS configuration index - 3 bits as defined in clause 5.3.3.1.9A of [11,
TS 36.212].
\- Activation/release indication - 1 bit as defined in clause 5.3.3.1.9A of
[11, TS 36.212].
If the UE is configured to monitor DCI format 3_0 and the number of
information bits in DCI format 3_1 is less than the payload of DCI format 3_0,
zeros shall be appended to DCI format 3_1 until the payload size equals that
of DCI format 3_0.
##### 7.3.1.4.3 Format 3_2
DCI format 3_2 is used for scheduling of NR SL PRS in one cell.
The following information is transmitted by means of the DCI format 3_2 with
CRC scrambled by XX-RNTI or YY-CS-RNTI:
\- Resource pool index -$\left\lceil \log_{2}I \right\rceil$ bits, where _I_
is the total number of resource pools for transmission configured by the
higher layer parameter _sl-TxPoolScheduling_ , if configured.
\- Time gap - 3 bits determined by higher layer parameter _sl-DCI-ToSL-Trans,_
as defined in [6, TS 38.214]
\- First SL PRS indicator - $\left\lceil \log_{2}N_{SL - PRS} \right\rceil$
bits indicating the SL PRS resource ID for the first SL PRS transmission,
where the value $N_{SL - PRS}$ is the total number of SL PRS resources within
a slot in a dedicated resource pool for SL PRS transmission and provided by
the higher layer parameter _XYZ_.
\- SCI format 1-B fields according to clause 8.3.1.2:
\- Time resource assignment
\- Resource ID indication
\- Configuration **index** \- 0 bit if the UE is not configured to monitor DCI
format 3_2 with CRC scrambled by YY-CS-RNTI; otherwise 3 bits as defined in
clause _XYZ_ of [6, TS 38.214]. If the UE is configured to monitor DCI format
3_2 with CRC scrambled by YY-CS-RNTI, this field is reserved for DCI format
3_2 with CRC scrambled by XX-RNTI.
\- Padding bits, if required.
#### 7.3.1.5 DCI formats for scheduling of MBS
##### 7.3.1.5.1 Format 4_0
DCI format 4_0 is used for the scheduling of PDSCH for broadcast in DL cell.
The following information is transmitted by means of the DCI format 4_0 with
CRC scrambled by MCCH-RNTI or G-RNTI for broadcast configured by _MBS-
SessionInfo_ :
\- Frequency domain resource assignment - $\left\lceil
{\log_{2}{(N}_{\text{RB}}^{DL,CFR}(}\frac{N_{\text{RB}}^{DL,CFR} + 1)}{2)}
\right\rceil$ bits where $N_{\text{RB}}^{DL,CFR}$ equals to
\- the size of CORESET 0 if CORESET 0 is configured for the cell; and
\- the size of initial DL bandwidth part if CORESET 0 is not configured for
the cell.
\- Time domain resource assignment - 4 bits as defined in Clause 5.1.2.1 of
[6, TS38.214]
\- VRB-to-PRB mapping - 1 bit according to Table 7.3.1.2.2-5
\- Modulation and coding scheme - 5 bits as defined in Clause 5.1.3 of [6,
TS38.214]
\- Redundancy version - 2 bits as defined in Table 7.3.1.1.1-2
\- MCCH change notification - 2 bits as defined in Clause 5.9.1.3 of [9,
TS38.331] if the CRC of the DCI format 4_0 is scrambled by MCCH-RNTI.
Otherwise, this bit field is reserved.
\- Reserved bits - 14bits
##### 7.3.1.5.2 Format 4_1
DCI format 4_1 is used for the scheduling of PDSCH for multicast in DL cell.
The following information is transmitted by means of the DCI format 4_1 with
CRC scrambled by G-RNTI for multicast or G-CS-RNTI configured by _MBS-RNTI-
SpecificConfig_ :
\- Frequency domain resource assignment -$\ \left\lceil
{\log_{2}{(N}_{\text{RB}}^{DL,CFR}(}\frac{N_{\text{RB}}^{DL,CFR} + 1)}{2)}
\right\rceil$ bits where $N_{\text{RB}}^{DL,CFR}$ equals to
\- the size of CORESET 0 if CORESET 0 is configured for the cell; and
\- the size of initial DL bandwidth part if CORESET 0 is not configured for
the cell.
\- Time domain resource assignment - 4 bits as defined in Clause 5.1.2.1 of
[6, TS38.214]
\- VRB-to-PRB mapping - 1 bit according to Table 7.3.1.2.2-5
\- Modulation and coding scheme - 5 bits as defined in Clause 5.1.3 of [6,
TS38.214]
\- New data indicator - 1 bit
\- Redundancy version - 2 bits as defined in Table 7.3.1.1.1-2
\- HARQ process number - 4 bits
\- Downlink assignment index - 2 bits as defined in Clause 9.1.3 of [5, TS
38.213], as counter DAI
\- PUCCH resource indicator - 3 bits as defined in Clause 9.2.3 of [5,
TS38.213]
\- PDSCH-to-HARQ_feedback timing indicator - 3 bits as defined in Clause 9.2.3
of [5, TS38.213]
\- Reserved bits - 3 bits
##### 7.3.1.5.3 Format 4_2
DCI format 4_2 is used for the scheduling of PDSCH for multicast in DL cell.
The following information is transmitted by means of the DCI format 4_2 with
CRC scrambled by G-RNTI for multicast or G-CS-RNTI configured by _MBS-RNTI-
SpecificConfig_ :
\- Frequency domain resource assignment - number of bits determined by the
following, where $N_{\text{RB}}^{DL,CFR}$ is the size of the common frequency
resource as defined in Clause 18 of [5, TS38.213].
\- $N_{\text{RBG}}$ bits if only resource allocation type 0 is configured,
where $N_{\text{RBG}}$ is defined in Clause 5.1.2.2.1 of [6, TS38.214],
\- $\left\lceil
{\log_{2}{(N}_{\text{RB}}^{DL,CFR}(}\frac{N_{\text{RB}}^{DL,CFR} + 1)}{2)}
\right\rceil$ bits if only resource allocation type 1 is configured, or
\- $\max{\left( \left\lceil
{\log_{2}{(N}_{\text{RB}}^{DL,CFR}(}\frac{N_{\text{RB}}^{DL,CFR} + 1)}{2)}
\right\rceil,N_{\text{RBG}} \right) + 1}$ bits if _resourceAllocation_ in
_pdsch-ConfigMulticast_ is configured as \'_dynamicSwitch\'_.
\- If _resourceAllocation_ in _pdsch-ConfigMulticast_ is configured as
\'_dynamicSwitch\'_ , the MSB bit is used to indicate resource allocation type
0 or resource allocation type 1, where the bit value of 0 indicates resource
allocation type 0 and the bit value of 1 indicates resource allocation type 1.
\- For resource allocation type 0, the $N_{\text{RBG}}$ LSBs provide the
resource allocation as defined in Clause 5.1.2.2.1 of [6, TS 38.214].
\- For resource allocation type 1, the $\left\lceil
{\log_{2}{(N}_{\text{RB}}^{DL,CFR}(}\frac{N_{\text{RB}}^{DL,CFR} + 1)}{2})
\right\rceil$ LSBs provide the resource allocation as defined in Clause
5.1.2.2.2 of [6, TS 38.214]
\- Time domain resource assignment - 0, 1, 2, 3, or 4 bits as defined in
Clause 5.1.2.1 of [6, TS 38.214]. The bitwidth for this field is determined as
$\left\lceil \log_{2}{(I)} \right\rceil$ bits, where _I_ is the number of
entries in the higher layer parameter _pdsch-TimeDomainAllocationList_ if the
higher layer parameter is configured; otherwise _I_ is the number of entries
in the default table.
\- VRB-to-PRB mapping - 0 or 1 bit:
\- 0 bit if only resource allocation type 0 is configured or if _vrb-ToPRB-
Interleaver_ in _pdsch-ConfigMulticast_ is not configured;
\- 1 bit according to Table 7.3.1.2.2-5 otherwise, only applicable to resource
allocation type 1, as defined in Clause 7.3.1.6 of [4, TS 38.211].
\- PRB bundling size indicator - 0 bit if the higher layer parameter _prb-
BundlingType_ is not configured in _pdsch-ConfigMulticast_ or is set to
\'staticBundling\', or 1 bit if the higher layer parameter _prb-BundlingType_
in _pdsch-ConfigMulticast_ is set to \'dynamicBundling\' according to Clause
5.1.2.3 of [6, TS 38.214].
\- Rate matching indicator - 0, 1, or 2 bits according to higher layer
parameters _rateMatchPatternGroup1_ and _rateMatchPatternGroup2_ in _pdsch-
ConfigMulticast_ , where the MSB is used to indicate _rateMatchPatternGroup1_
and the LSB is used to indicate _rateMatchPatternGroup2_ when there are two
groups.
\- ZP CSI-RS trigger - 0, 1, or 2 bits as defined in Clause 5.1.4.2 of [6, TS
38.214]. The bitwidth for this field is determined as $\left\lceil
\log_{2}{(n_{\text{ZP}} + 1)} \right\rceil$ bits, where $n_{\text{ZP}}$ is the
number of aperiodic ZP CSI-RS resource sets configured in _pdsch-
ConfigMulticast_.
For transport block 1:
\- Modulation and coding scheme - 5 bits as defined in Clause 5.1.3.1 of [6,
TS 38.214]
\- New data indicator - 1 bit
\- Redundancy version - 2 bits as defined in Table 7.3.1.1.1-2
> For transport block 2 (only present if _maxNrofCodeWordsScheduledByDCI_
> configured in _pdsch-ConfigMulticast_ equals 2):
\- Modulation and coding scheme - 5 bits as defined in Clause 5.1.3.1 of [6,
TS 38.214]
\- New data indicator - 1 bit
\- Redundancy version - 2 bits as defined in Table 7.3.1.1.1-2
\- HARQ process number - 4 bits
\- Downlink assignment index - number of bits as defined in the following
\- 2 bits if the higher layer parameter _pdsch-HARQ-ACK-Codebook =dynamic_ is
configured for multicast, where the 2 bits are the counter DAI;
\- 0 bits otherwise.
If higher layer parameter _priorityIndicatorDCI-4-2_ is configured in _pdsch-
ConfigMulticast_ , if the bit width of the Downlink assignment index in DCI
format 4_2 for one HARQ-ACK codebook is not equal to that of the Downlink
assignment index in DCI format 4_2 for the other HARQ-ACK codebook, a number
of most significant bits with value set to \'0\' are inserted to smaller
Downlink assignment index until the bit width of the Downlink assignment index
in DCI format 4_2 for the two HARQ-ACK codebooks are the same.
\- PUCCH resource indicator - 3 bits as defined in Clause 9.2.3 of [5, TS
38.213]
\- PDSCH-to-HARQ_feedback timing indicator - 0, 1, 2, or 3 bits as defined in
Clause 9.2.3 of [5, TS 38.213]. The bitwidth for this field is determined as
$\left\lceil \log_{2}{(I)} \right\rceil$ bits, where _I_ is the number of
entries in the higher layer parameter _dl-DataToUL-ACK_ in _pucch-
ConfigMulticast1_ if configured or _pucch-ConfigMulticast2_ if configured;
otherwise, _I_ is the number of entries in the higher layer parameter _dl-
DataToUL-ACK_ in _PUCCH-Config._
If higher layer parameter _priorityIndicatorDCI-4-2_ is configured in _pdsch-
ConfigMulticast_ , if the bit width of the PDSCH-to-HARQ_feedback timing
indicator in DCI format 4_2 for one HARQ-ACK codebook is not equal to that of
the PDSCH-to-HARQ_feedback timing indicator in DCI format 4_2 for the other
HARQ-ACK codebook, a number of most significant bits with value set to \'0\'
are inserted to smaller PDSCH-to-HARQ_feedback timing indicator until the bit
width of the PDSCH-to-HARQ_feedback timing indicator in DCI format 4_2 for the
two HARQ-ACK codebooks are the same.
\- Antenna port(s) - 4, 5, or 6 bits as defined by Tables 7.3.1.2.2-1/2/3/4,
where the number of CDM groups without data of values 1, 2, and 3 refers to
CDM groups {0}, {0,1}, and {0, 1,2} respectively. The antenna ports ${
p_{0},\ldots,p_{v - 1}}$ shall be determined according to the ordering of DMRS
port(s) given by Tables 7.3.1.2.2-1/2/3/4.
> If a UE is configured with both _dmrs-DownlinkForPDSCH-MappingTypeA_ and
> _dmrs-DownlinkForPDSCH-MappingTypeB_ , the bitwidth of this field equals
> $max{ x_{A},x_{B}}$, where $x_{A}$ is the \"Antenna ports\" bitwidth derived
> according to _dmrs-DownlinkForPDSCH-MappingTypeA_ and $x_{B}$ is the
> \"Antenna ports\" bitwidth derived according to _dmrs-DownlinkForPDSCH-
> MappingTypeB_. A number of $\left| x_{A} - x_{B} \right|$ zeros are padded
> in the MSB of this field, if the mapping type of the PDSCH corresponds to
> the smaller value of $x_{A}$ and $x_{B}$.
\- Transmission configuration indication - 0 bit if higher layer parameter
_tci-PresentInDCI_ in _pdcch-ConfigMulticast_ is not enabled; otherwise 3 bits
as defined in Clause 5.1.5 of [6, TS38.214].
\- DMRS sequence initialization - 1 bit.
\- Priority indicator - 0 bit if higher layer parameter
_priorityIndicatorDCI-4-2_ is not configured in _pdsch-ConfigMulticast_ ;
otherwise 1 bit as defined in Clause 9 in [5, TS 38.213].
\- Enabling/disabling HARQ-ACK feedback indication -1 bit if higher layer
parameter _harq-FeedbackEnablerMulticast_ indicates _dci-enabler_ , where
value 1 indicates enabling HARQ-ACK feedback and value 0 indicates disabling
HARQ-ACK feedback; 0 bit, otherwise.
The size of DCI format 4_2 is configurable by higher layer parameter
_sizeDCI-4-2_ from 20 bits and up to 140 bits.
### 7.3.2 CRC attachment
Error detection is provided on DCI transmissions through a Cyclic Redundancy
Check (CRC).
The entire payload is used to calculate the CRC parity bits. Denote the bits
of the payload by, and the parity bits by, where is the payload size and is
the number of parity bits. Let be a bit sequence such that for and for . The
parity bits are computed with input bit sequence and attached according to
Clause 5.1 by setting to 24 bits and using the generator polynomial . The
output bit is
for
for ,
where .
After attachment, the CRC parity bits are scrambled with the corresponding
RNTI , where corresponds to the MSB of the RNTI, to form the sequence of bits
. The relation between _c~k~_ and _b~k~_ is:
for _k_ = 0, 1, 2, ...,
for _k_ = , ,,..., .
### 7.3.3 Channel coding
Information bits are delivered to the channel coding block. They are denoted
by , where is the number of bits, and they are encoded via Polar coding
according to Clause 5.3.1, by setting , , , and .
After encoding the bits are denoted by , where is the number of coded bits.
### 7.3.4 Rate matching
The input bit sequence to rate matching is .
Rate matching is performed according to Clause 5.4.1 by setting .
The output bit sequence after rate matching is denoted as .
# 8 Sidelink transport channels and control information
## 8.1 Sidelink broadcast channel
The processing for SL-BCH transport channel follows the BCH according to
clause 7.1, with the following changes:
\- In Clause 7.1, \'maximum of one transport block every 80ms\' is replaced
with \'maximum of one transport block\'.
\- Clause 7.1.1 for PBCH payload generation is not performed.
\- Clause 7.1.2 for scrambling is not performed.
\- In clause 7.1.5, the rate matching output sequence length E = 1386 when
higher layer parameter _cyclicPrefix_ is configured, otherwise, E = 1782.
### 8.1.1 Void
## 8.2 Sidelink shared channel
The processing for SL-SCH transport channel follows the UL-SCH according to
clause 6.2, with the following changes:
\- Rate matching of SL-SCH follows the rate matching according to clause 6.2.5
by setting $I_{\text{LBRM}} = 0$
\- Clause 6.2.7 is replaced by clause 8.2.1
### 8.2.1 Data and control multiplexing
Denote the coded bits for SL-SCH as$\text{\ g}_{0}^{SL - SCH},\ g_{1}^{SL -
SCH},\ g_{2}^{SL - SCH},\ g_{3}^{SL - SCH},\cdots,\ g_{G^{SL - SCH} - 1}^{SL -
SCH}$.
Denote the coded bits for the 2^nd^-stage SCI, as $g_{0}^{SCI2},\
g_{1}^{SCI2},\ g_{2}^{SCI2},\ g_{3}^{SCI2},\cdots,\ g_{G^{SCI2} - 1}^{SCI2}$.
Denote the multiplexed data and control coded bit sequence as
$g_{0},g_{1},\cdots,g_{G - 1}$, where _G_ is the total number of coded bits
for transmission.
Assuming that $N_{L}$ is the number of layers onto which the SL-SCH transport
block is mapped, the multiplexed data and control coded bit sequence
$g_{0},g_{1},\cdots,g_{G - 1}$ is obtained as follows:
Denote $Q_{m}^{SCI2}$ is modulation order of the 2^nd^-stage SCI.
if $N_{L} = 1$,
for $i = 0$ to $G^{\text{SCI}2} + G^{\text{SL} - \text{SCH}} - 1$
if $0 \leq i  for $\text{\ i} = 0$ to $G^{SL - SCH} - 1$
$g_{m_{\text{count}}^{\text{RE}}} = g_{i}^{\text{SL} - \text{SCH}}$
$m_{\text{count}}^{\text{RE}} = m_{\text{count}}^{\text{RE}} + 1$
> end for
end if
## 8.3 Sidelink control information on PSCCH
SCI carried on PSCCH is a 1^st^-stage SCI, which transports sidelink
scheduling information.
### 8.3.1 1^st^-stage SCI formats
The fields defined in each of the 1^st^-stage SCI formats below are mapped to
the information bits $a_{0}$ to $a_{A - 1}\ $as follows:
Each field is mapped in the order in which it appears in the description, with
the first field mapped to the lowest order information bit $a_{0}\ $and each
successive field mapped to higher order information bits. The most significant
bit of each field is mapped to the lowest order information bit for that
field, e.g. the most significant bit of the first field is mapped to $a_{0}$.
#### 8.3.1.1 SCI format 1-A
SCI format 1-A is used for the scheduling of PSSCH and 2^nd^-stage-SCI on
PSSCH
The following information is transmitted by means of the SCI format 1-A:
\- Priority - 3 bits as specified in clause 5.4.3.3 of [12, TS 23.287] and
clause 5.22.1.3.1 of [8, TS 38.321]. Value \'000\' of Priority field
corresponds to priority value \'1\', value \'001\' of Priority field
corresponds to priority value \'2\', and so on.
\- Frequency resource assignment - number of bits determined by the following:
\- If higher layer parameter _transmissionStructureForPSCCHandPSSCH in SL-BWP-
Config_ is not configured or configured to '_contigousRB_ '
\- $\left\lceil \text{log}_{\text{2}}\text{(}\frac{\text{N}_{\text{\
}\text{subChannel}}^{\text{\ }\text{SL}}\left( \text{N}_{\text{\
}\text{subChannel}}^{\text{\ }\text{SL}}\text{\ }\text{+}\text{\ }\text{1}
\right)}{\text{2}}\text{)} \right\rceil$ bits when the value of the higher
layer parameter _sl-MaxNumPerReserve_ is configured to 2; otherwise
$\left\lceil \text{log}_{\text{2}}\text{(}\frac{\text{N}_{\text{\
}\text{subChannel}}^{\text{\ }\text{SL}}\left( \text{N}_{\text{\
}\text{subChannel}}^{\text{\ }\text{SL}}\text{\ }\text{+}\text{\ }\text{1}
\right)\left( \text{2}\text{N}_{\text{\ }\text{subChannel}}^{\text{\
}\text{SL}}\text{\ }\text{+}\text{\ }\text{1} \right)}{\text{6}}\text{)}
\right\rceil$ bits when the value of the higher layer parameter _sl-
MaxNumPerReserve_ is configured to 3, as defined in clause 8.1.5 of [6, TS
38.214].
\- If the higher layer parameter transmissionStructureForPSCCHandPSSCH _in_
SL-BWP-Config is configured to 'interlaceRB'
\- X + Y bits provide the frequency domain resource allocation according to
Clause x.x of [6, TS 38.214], where the X MSBs provide the RB set allocation
and the Y LSBs provide the sub-channel allocation,
\- the value of X is determined by $\left\lceil
\text{log}_{\text{2}}\text{(}\frac{N_{\text{RBset}}\left(
N_{\text{RBset}}\text{\ }\text{+}\text{\ }\text{1}
\right)}{\text{2}}\text{)}\text{\ } \right\rceil$ when the value of the higher
layer parameter _sl-MaxNumPerReserve_ is configured to 2, or determined by
$\left\lceil \text{log}_{\text{2}}\text{(}\frac{N_{\text{RBset}}\left(
N_{\text{RBset}}\text{\ }\text{+}\text{\ }\text{1} \right)\left(
\text{2}N_{\text{RBset}}\text{\ }\text{+}\text{\ }\text{1}
\right)}{\text{6}}\text{)} \right\rceil$ when the value of the higher layer
parameter _sl-MaxNumPerReserve_ is configured to 3, where $N_{\text{RBset}}$
is _the number of RB sets in a resource pool_
\- the value of Y is determined by$\ \left\lceil
\text{log}_{\text{2}}\text{(}\frac{\text{N}_{\text{\
}\text{subChannel}}^{\text{\ RBset}}\left( \text{N}_{\text{\
}\text{subChannel}}^{\text{\ }\text{RBset}}\text{\ }\text{+}\text{\ }\text{1}
\right)}{\text{2}}\text{)}\text{\ } \right\rceil$ when the value of the higher
layer parameter _sl-MaxNumPerReserve_ is configured to 2, or determined by
$\left\lceil \text{log}_{\text{2}}\text{(}\frac{\text{N}_{\text{\
}\text{subChannel}}^{\text{\ RBset}}\left( \text{N}_{\text{\
}\text{subChannel}}^{\text{\ RBset}}\text{\ }\text{+}\text{\ }\text{1}
\right)\left( \text{2}\text{N}_{\text{\ }\text{subChannel}}^{\text{\
}\text{RBset}}\text{\ }\text{+}\text{\ }\text{1} \right)}{\text{6}}\text{)}
\right\rceil$ when the value of the higher layer parameter _sl-
MaxNumPerReserve_ is configured to 3, where $\text{N}_{\text{\
}\text{subChannel}}^{\text{\ }\text{RBset}}$ is _the number of sub-channels
for each RB set._
\- Time resource assignment - 5 bits when the value of the higher layer
parameter _sl-MaxNumPerReserve_ is configured to 2; otherwise 9 bits when the
value of the higher layer parameter _sl-MaxNumPerReserve_ is configured to 3,
as defined in clause 8.1.5 of [6, TS 38.214].
\- Resource reservation period -$\left\lceil \log_{2}N_{rsv_ period}
\right\rceil$ bits as defined in clause 16.4 of [5, TS 38.213], where $N_{rsv_
period}$ is the number of entries in the higher layer parameter _sl-
ResourceReservePeriodList_ , if higher layer parameter _sl-
MultiReserveResource_ is configured; 0 bit otherwise.
\- DMRS pattern -$\ \left\lceil \log_{2}N_{\text{pattern}} \right\rceil$ bits
as defined in clause 8.4.1.1.2 of [4, TS 38.211], where $N_{\text{pattern}}$
is the number of DMRS patterns configured by higher layer parameter _sl-PSSCH-
DMRS-TimePatternList_.
\- 2^nd^-stage SCI format - 2 bits as defined in Table 8.3.1.1-1.
\- Beta_offset indicator - 2 bits as provided by higher layer parameter _sl-
BetaOffsets2ndSCI_ and Table 8.3.1.1-2.
\- Number of DMRS port - 1 bit as defined in Table 8.3.1.1-3.
\- Modulation and coding scheme - 5 bits as defined in clause 8.1.3 of [6, TS
38.214].
\- Additional MCS table indicator - as defined in clause 8.1.3.1 of [6, TS
38.214]: 1 bit if one MCS table is configured by higher layer parameter _sl-
Additional-MCS-Table_ ; 2 bits if two MCS tables are configured by higher
layer parameter _sl-Additional-MCS-Table_ ; 0 bit otherwise.
\- PSFCH overhead indication - 1 bit as defined clause 8.1.3.2 of [6, TS
38.214] if higher layer parameter _sl-PSFCH-Period_ = 2 or 4; 0 bit otherwise.
\- Reserved - a number of bits as determined by the following:
\- $N_{\text{reserved}}\ $bits as configured by higher layer parameter _sl-
NumReservedBits,_ with value set to zero, if higher layer parameter _sl-
IndicationUE-B_ is not configured, or if higher layer parameter _sl-
IndicationUE-B_ is configured to \'disabled\';
\- $(N_{\text{reserved}} - 1)$ bits otherwise, with value set to zero.
\- Conflict information receiver flag - 0 or 1 bit
\- 1 bit if higher layer parameter _sl-IndicationUE-B_ is configured to
\'enabled\', where the bit value of 0 indicates that the UE cannot be a UE to
receive conflict information and the bit value of 1 indicates that the UE can
be a UE to receive conflict information as defined in Clause 16.3.0 of [5, TS
38.213];
\- 0 bit otherwise.
Table 8.3.1.1-1: 2^nd^-stage SCI formats
Value of 2nd-stage SCI format field 2nd-stage SCI format
* * *
00 SCI format 2-A 01 SCI format 2-B 10 SCI format 2-C 11 SCI format 2-D
Table 8.3.1.1-2: Mapping of Beta_offset indicator values to indexes in Table
9.3-2 of [5, TS38.213]
Value of Beta_offset indicator Beta_offset index in Table 9.3-2 of TS 38.213
[5]
* * *
00 1^st^ index provided by higher layer parameter _sl-BetaOffsets2ndSCI_ 01
2^nd^ index provided by higher layer parameter _sl-BetaOffsets2ndSCI_ 10 3^rd^
index provided by higher layer parameter _sl-BetaOffsets2ndSCI_ 11 4^th^ index
provided by higher layer parameter _sl-BetaOffsets2ndSCI_
Table 8.3.1.1-3: Number of DMRS port(s)
**Value of the Number of DMRS port field** **Antenna ports**
* * *
0 1000 1 1000 and 1001
#### 8.3.1.2 SCI format 1-B
SCI format 1-B is used for the scheduling of SL PRS for a dedicated resource
pool.
The following information is transmitted by means of the SCI format 1-B:
\- Priority - 3 bits as specified in clause x.x of [12, TS 23.586] and clause
x.x of [8, TS 38.321]. Value \'000\' of Priority field corresponds to priority
value \'1\', value \'001\' of Priority field corresponds to priority value
\'2\', and so on.
\- Source ID - 12 or 24 bits determined by higher layer parameter _XYZ_ , as
defined in clause x.x of [6, TS 38.214].
\- Destination ID - 24 bits as defined in clause x.x of [6, TS 38.214].
\- Cast type indicator - 2 bits as defined in Table 8.3.1.2-1 and in clause
x.x of [6, TS 38.214].
\- Resource reservation period - $\left\lceil \log_{2}N_{rsv_ period}
\right\rceil$ bits as defined in clause xx of [5, TS 38.213], where $N_{rsv_
period}$ is the number of entries in the higher layer parameter
_reservationPeriodAllowed-Dedicated-SL-PRS-RP_ , if higher layer parameter
_reservationPeriodAllowed-Dedicated-SL-PRS-RP_ is configured; 0 bit otherwise.
\- Time resource assignment - 5 bits when the value of the higher layer
parameter _sl-MaxNumPerReserveSL-PRS_ is configured to 2; otherwise 9 bits
when the value of the higher layer parameter _sl-MaxNumPerReserveSL-PRS_ is
configured to 3, as defined in clause x.x.x of [6, TS 38.214].
\- Resource ID indication -$\ \left\lceil \log_{2}N_{SL - PRS} \right\rceil\
$bits when the value of the higher layer parameter _sl-MaxNumPerReserveSL-PRS_
is configured to 2; otherwise x bits when the value of the higher layer
parameter _sl-MaxNumPerReserveSL-PRS_ is configured to 3. The value $N_{SL -
PRS}$ is the total number of SL PRS resources within a slot in a dedicated
resource pool for SL PRS transmission and provided by the higher layer
parameter _XYZ_.
\- SL PRS request - 1 bit as defined in clause x.x of [TS 38.214] when the
higher layer parameter _XYZ_ is provided; 0 bit otherwise.
\- Reserved - $N_{\text{reserved}}$ bits as configured by higher layer
parameter _XYZ_ , with value set to zero.
Table 8.3.1.2-1: Cast type indicator
Value of Cast type indicator Cast type
* * *
00 Broadcast 01 Groupcast 10 Unicast 11 Reserved
### 8.3.2 CRC attachment
CRC attachment is performed according to clause 7.3.2 except that scrambling
is not performed.
### 8.3.3 Channel coding
Channel coding is performed according to clause 7.3.3.
### 8.3.4 Rate Matching
Rate matching is performed according to clause 7.3.4.
## 8.4 Sidelink control information on PSSCH
SCI carried on PSSCH is a 2^nd^-stage SCI, which transports sidelink
scheduling information, and/or inter-UE coordination related information.
### 8.4.1 2^nd^-stage SCI formats
The fields defined in each of the 2^nd^-stage SCI formats below are mapped to
the information bits $a_{0}$ to $a_{A - 1}$ as follows:
Each field is mapped in the order in which it appears in the description, with
the first field mapped to the lowest order information bit $a_{0}\ $and each
successive field mapped to higher order information bits. The most significant
bit of each field is mapped to the lowest order information bit for that
field, e.g. the most significant bit of the first field is mapped to $a_{0}$.
#### 8.4.1.1 SCI format 2-A
SCI format 2-A is used for the decoding of PSSCH, with HARQ operation when
HARQ-ACK information includes ACK or NACK, when HARQ-ACK information includes
only NACK, or when there is no feedback of HARQ-ACK information.
The following information is transmitted by means of the SCI format 2-A:
\- HARQ process number - $4$ bits.
\- New data indicator - 1 bit.
\- Redundancy version - 2 bits as defined in Table 7.3.1.1.1-2.
\- Source ID - 8 bits as defined in clause 8.1 of [6, TS 38.214].
\- Destination ID - 16 bits as defined in clause 8.1 of [6, TS 38.214].
\- HARQ feedback enabled/disabled indicator - 1 bit as defined in clause 16.3
of [5, TS 38.213].
\- Cast type indicator - 2 bits as defined in Table 8.4.1.1-1 and in clause
8.1 of [6, TS 38.214].
\- CSI request - 1 bit as defined in clause 8.2.1 of [6, TS 38.214] and in
clause 8.1 of [6, TS 38.214].
Table 8.4.1.1-1: Cast type indicator
+----------------------------------+----------------------------------+ | **Value of Cast type indicator** | **Cast type** | +==================================+==================================+ | 00 | Broadcast | +----------------------------------+----------------------------------+ | 01 | Groupcast | | | | | | when HARQ-ACK information | | | includes ACK or NACK | +----------------------------------+----------------------------------+ | 10 | Unicast | +----------------------------------+----------------------------------+ | 11 | Groupcast | | | | | | when HARQ-ACK information | | | includes only NACK | +----------------------------------+----------------------------------+
#### 8.4.1.2 SCI format 2-B
SCI format 2-B is used for the decoding of PSSCH, with HARQ operation when
HARQ-ACK information includes only NACK, or when there is no feedback of HARQ-
ACK information.
The following information is transmitted by means of the SCI format 2-B:
\- HARQ process number - $4$ bits.
\- New data indicator - 1 bit.
\- Redundancy version - 2 bits as defined in Table 7.3.1.1.1-2.
\- Source ID - 8 bits as defined in clause 8.1 of [6, TS 38.214].
\- Destination ID - 16 bits as defined in clause 8.1 of [6, TS 38.214].
\- HARQ feedback enabled/disabled indicator - 1 bit as defined in clause 16.3
of [5, TS 38.213].
\- Zone ID - 12 bits as defined in clause 5.8.11 of [9, TS 38.331].
> \- Communication range requirement - 4 bits determined by higher layer
> parameter _sl-ZoneConfigMCR-Index_.
#### 8.4.1.3 SCI format 2-C
SCI format 2-C is used for the decoding of PSSCH, and providing inter-UE
coordination information or requesting inter-UE coordination information. SCI
format 2-C can be used only for unicast.
The following information is transmitted by means of the SCI format 2-C:
\- HARQ process number - 4 bits
\- New data indicator - 1 bit
\- Redundancy version - 2 bits as defined in Table 7.3.1.1.1-2
\- Source ID - 8 bits as defined in clause 8.1 of [6, TS 38.214]
\- Destination ID - 16 bits as defined in clause 8.1 of [6, TS 38.214]
\- HARQ feedback enabled/disabled indicator - 1 bit as defined in clause 16.3
of [5, TS 38.213]
\- CSI request - 1 bit as defined in clause 8.2.1 of [6, TS 38.214] and in
clause 8.1 of [6, TS 38.214]
\- Providing/Requesting indicator - 1 bit, where value 0 indicates SCI format
2-C is used for providing inter-UE coordination information and value 1
indicates SCI format 2-C is used for requesting inter-UE coordination
information
If the \'Providing/Requesting indicator\' field is set to 0, all the remaining
fields are set as follows:
\- _Resource combinations_ -$\ 2 \bullet \left( \left\lceil
\text{log}_{\text{2}}\text{(}\frac{\text{N}_{\text{\
}\text{subChannel}}^{\text{\ }\text{SL}}\left( \text{N}_{\text{\
}\text{subChannel}}^{\text{\ }\text{SL}}\text{\ }\text{+}\text{\ }\text{1}
\right)\left( \text{2}\text{N}_{\text{\ }\text{subChannel}}^{\text{\
}\text{SL}}\text{\ }\text{+}\text{\ }\text{1} \right)}{\text{6}}\text{)}
\right\rceil + 9 + Y \right)$ bits as defined in Clause 8.1.5A of [6, TS
38.214], where
\- $Y = \left\lceil \log_{2}N_{rsv_ period} \right\rceil$ and $N_{rsv_
period}$ is the number of entries in the higher layer parameter _sl-
ResourceReservePeriodList_ , if higher layer parameter _sl-
MultiReserveResource_ is configured;$\ Y = 0$ otherwise
\- $\text{N}_{\text{\ }\text{subChannel}}^{\text{\ }\text{SL}}$ i _s the
number of subchannels in a resource pool provided by the higher layer
parameter sl-NumSubchannel_
\- First _resource location_ \- 8 bits as defined in Clause 8.1.5A of [6, TS
38.214].
\- Reference slot location - ($10 + \left\lceil
\text{log}_{\text{2}}\text{(10∙}2^{\mu}\text{)} \right\rceil)$ bits as defined
in Clause 8.1.5A of [6, TS 38.214], where $\mu$ is defined in Table 4.2-1 of
Clause 4.2 of [4, TS 38.211].
\- Resource set type - 1 bit, where value 0 indicates preferred resource set
and value 1 indicates non-preferred resource set.
\- Lowest subChannel indices - $2 \bullet \left\lceil
\log_{2}\text{N}_{\text{\ }\text{subChannel}}^{\text{\ }\text{SL}}
\right\rceil$ bits as defined in Clause 8.1.5A of [6, TS 38.214].
If the \'Providing/Requesting indicator\' field is set to 1, all the remaining
fields are set as follows:
\- Priority - 3 bits as specified in clause 5.4.3.3 of [12, TS 23.287] and
clause 5.22.1.3.1 of [8, TS 38.321]. Value \'000\' of Priority field
corresponds to priority value \'1\', value \'001\' of Priority field
corresponds to priority value \'2\', and so on.
\- Number of subchannels -$\ \left\lceil \log_{2}\text{N}_{\text{\
}\text{subChannel}}^{\text{\ }\text{SL}} \right\rceil$ bits as defined in
Clause 8.1.4A of [6, TS 38.214].
\- Resource reservation period -$\ \left\lceil \log_{2}N_{rsv_ period}
\right\rceil$ bits as defined in Clause 8.1.4A of [6, TS 38.214], where
$N_{rsv_ period}$ is the number of entries in the higher layer parameter _sl-
ResourceReservePeriodList_ , if higher layer parameter _sl-
MultiReserveResource_ is configured; 0 bit otherwise.
\- _Resource selection window location_ \- $2 \bullet \left( 10 + \left\lceil
\text{log}_{\text{2}}\text{(10∙}2^{\mu}\text{)} \right\rceil \right)$ bits as
defined in Clause 8.1.4A of [6, TS 38.214], where $\mu$ is defined in Table
4.2-1 of Clause 4.2 of [4, TS 38.211].
\- Resource set type - 1 bit, where value 0 indicates a request for inter-UE
coordination information providing preferred resource set and value 1
indicates a request for inter-UE coordination information providing non-
preferred resource set, if higher layer parameter _sl-DetermineResourceType_
is configured to \'ueb\'; otherwise, 0 bit.
\- _Padding bits._
For operation in a same resource pool, zeros shall be appended to SCI format
2-C of which \'Providing/Requesting indicator\' field is set to 1 until the
payload size equals that of SCI format 2-C of which \'Providing/Requesting
indicator\' field is set to 0.
#### 8.4.1.4 SCI format 2-D
SCI format 2-D is used for the decoding of PSSCH and the scheduling of SL PRS
for a shared resource pool.
The following information is transmitted by means of the SCI format 2-D:
\- SL PRS resource ID -$\ \left\lceil \log_{2}N_{SL - PRS} \right\rceil\
$bits, where the value $N_{SL - PRS}$ is the total number of SL PRS resource
IDs within a slot in a shared resource pool for SL PRS transmission and
provided by the higher layer parameter _XYZ_.
\- SL PRS request - 1 bit as defined in clause x.x of [6, TS 38.214] when the
higher layer parameter _XYZ_ is provided; 0 bit otherwise.
\- Embedded SCI format - 2 bits. This field indicates the embedded SCI format
as defined in Table 8.4.1.4-1.
\- Embedded SCI format payload - number of bits determined according to Table
8.4.1.4-1. This field is set to the associated payload of the embedded SCI
format indicated by the 'Embedded SCI format' field as defined in Table
8.4.1.4-1.
Table 8.4.1.4-1: Embedded SCI format and payload
**Value of the Embedded SCI format field** **Embedded SCI format** **Embedded
SCI format payload**
* * *
00 SCI format 2-A Set to all fields included in SCI format 2-A 01 SCI format
2-B Set to all fields included in SCI format 2-B 10 Reserved Reserved 11
Reserved Reserved
### 8.4.2 CRC attachment
CRC attachment is performed according to clause 7.3.2 except that scrambling
is not performed.
### 8.4.3 Channel coding
Channel coding is performed according to clause 7.3.3.
### 8.4.4 Rate Matching
For 2^nd^-stage SCI transmission on PSSCH with SL-SCH, the number of coded
modulation symbols generated for 2^nd^-stage SCI transmission prior to
duplication for the 2nd layer if present, denoted as $Q_{SCI2}^{'}$, is
determined as follows:
$$Q_{\text{SCI}2}^{'} = \text{min}\left{ \left\lceil \frac{\left(
O_{\text{SCI}2} + L_{\text{SCI}2} \right) \bullet
\beta_{\text{offset}}^{\text{SCI}2}}{Q_{m}^{\text{SCI}2} \bullet R}
\right\rceil,\ \left\lceil \alpha\sum_{l =
0}^{N_{\text{symbol}}^{\text{PSSCH}} - 1}{M_{\text{sc}}^{\text{SCI}2}(l)}
\right\rceil \right} + \gamma$$
where
\- $O_{SCI2}$ is the number of the 2^nd^-stage SCI bits
\- $L_{SCI2}$ is the number of CRC bits for the 2^nd^-stage SCI, which is 24
bits.
\- $\beta_{\text{offset}}^{SCI2}$ is indicated in the corresponding
1^st^-stage SCI.
\- $M_{\text{sc}}^{\text{PSSCH}}(l)$ _is the scheduled bandwidth of PSSCH
transmission, expressed as a number of subcarriers._
> \- $M_{\text{sc}}^{\text{PSCCH}}(l)$ is the number of subcarriers in OFDM
> symbol $l$ that carry PSCCH and PSCCH DMRS associated with the PSSCH
> transmission.
\- $M_{\text{sc}}^{SCI2}(l)$ is the number of resource elements that can be
used for transmission of the 2^nd^-stage SCI in OFDM symbol $l$_, for_ $l =
0,1,2\cdots,N_{\text{symbol}}^{\text{PSSCH}} - 1$ _and for_
${N_{\text{symbol}}^{\text{PSSCH}} = N}_{\text{symb}}^{\text{sh}} -
N_{\text{symb}}^{\text{PSFCH}} - N_{\text{symb}}^{\text{SL\ }\text{PRS}}$_, in
PSSCH transmission, where_
$N_{\text{symb}}^{\text{sh}}$$N_{\text{symb}}^{\text{slot}}$ = _sl-
lengthSymbols_ \- 2, where _sl-lengthSymbols_ is the number of sidelink
symbols within the slot provided by higher layers as defined in [6, TS
38.214]. $N_{\text{symb}}^{\text{SL\ PRS}}$ is the number of symbols for SL
PRS provided by the higher layer parameter _XYZ_ if the 2^nd^-stage SCI is SCI
format 2-D, and $N_{\text{symb}}^{\text{SL\ PRS}}$ = 0 otherwise. If
_startingSymbolFirst_ and _startingSymbolSecond_ are provided for the SL-BWP,
$N_{\text{symb}}^{\text{sh}}$$N_{\text{symb}}^{\text{slot}}$ =
_numRefSymbolLength_ \- 2, where _numRefSymbolLength_ is provided by higher
layers. If higher layer parameter _sl-PSFCH-Period_ = 2 or 4,
$N_{\text{symb}}^{\text{PSFCH}}$ = 3 if \"PSFCH overhead indication\" field of
SCI format 1-A indicates \"1\", and $N_{\text{symb}}^{\text{PSFCH}}$ = 0
otherwise. If higher layer parameter _sl-PSFCH-Period_ = 0,
$N_{\text{symb}}^{\text{PSFCH}} = 0$. If higher layer parameter _sl-PSFCH-
Period_ is 1, $N_{\text{symb}}^{\text{PSFCH}} = 3$.
\- $M_{\text{sc}}^{\text{SCI}2}(l)$ = $M_{\text{sc}}^{\text{PSSCH}}(l)$ \-
$M_{\text{sc}}^{\text{PSCCH}}(l)$
\- $\gamma$ is the number of vacant resource elements in the resource block to
which the last coded symbol of the 2^nd^-stage SCI belongs.
\- $R$ _is the coding rate_ as indicated by \"Modulation and coding scheme\"
field in SCI format 1-A.
\- $\alpha$ is configured by higher layer parameter _sl-Scaling_.
The input bit sequence to rate matching is $d_{0},\ d_{1},d_{2},d_{3},\
\cdots,d_{N - 1}$, where $N$ is the number of coded bits.
Rate matching is performed according to Clause 5.4.1 by setting
$I_{\text{BIL}} = 1$.
The output bit sequence after rate matching is denoted as $g_{0}^{SCI2},\
g_{1}^{SCI2},\ g_{2}^{SCI2},\ g_{3}^{SCI2},\cdots,\ g_{G^{SCI2} - 1}^{SCI2}$,
where $G^{SCI2} = Q_{SCI2}^{'} \bullet \ Q_{m}^{SCI2}$ and $Q_{m}^{SCI2}$ is
modulation order of the 2^nd^-stage SCI. A UE is not expected to have$\
G^{SCI2} > 4096$.
### 8.4.5 Multiplexing of coded 2^nd^-stage SCI bits to PSSCH
The coded 2^nd^-stage SCI bits are multiplexed onto PSSCH according to the
procedures in Clause 8.2.1.
#