# Foreword
This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
In the present document, modal verbs have the following meanings:
**shall** indicates a mandatory requirement to do something
**shall not** indicates an interdiction (prohibition) to do something
The constructions \"shall\" and \"shall not\" are confined to the context of
normative provisions, and do not appear in Technical Reports.
The constructions \"must\" and \"must not\" are not used as substitutes for
\"shall\" and \"shall not\". Their use is avoided insofar as possible, and
they are not used in a normative context except in a direct citation from an
external, referenced, non-3GPP document, or so as to maintain continuity of
style when extending or modifying the provisions of such a referenced
document.
**should** indicates a recommendation to do something
**should not** indicates a recommendation not to do something
**may** indicates permission to do something
**need not** indicates permission not to do something
The construction \"may not\" is ambiguous and is not used in normative
elements. The unambiguous constructions \"might not\" or \"shall not\" are
used instead, depending upon the meaning intended.
**can** indicates that something is possible
**cannot** indicates that something is impossible
The constructions \"can\" and \"cannot\" are not substitutes for \"may\" and
\"need not\".
**will** indicates that something is certain or expected to happen as a result
of action taken by an agency the behaviour of which is outside the scope of
the present document
**will not** indicates that something is certain or expected not to happen as
a result of action taken by an agency the behaviour of which is outside the
scope of the present document
**might** indicates a likelihood that something will happen as a result of
action taken by some agency the behaviour of which is outside the scope of the
present document
**might not** indicates a likelihood that something will not happen as a
result of action taken by some agency the behaviour of which is outside the
scope of the present document
In addition:
**is** (or any other verb in the indicative mood) indicates a statement of
fact
**is not** (or any other negative verb in the indicative mood) indicates a
statement of fact
The constructions \"is\" and \"is not\" do not indicate requirements.
# 1 Scope
The present document specifies the protocol aspects for the configuration
management capability of SEAL to support vertical applications (e.g. V2X) over
the 3GPP system.
The present document is applicable to the User Equipment (UE) supporting the
configuration management client functionality as described in 3GPP TS 23.434
[2], to the application server supporting the configuration management server
functionality as described in 3GPP TS 23.434 [2] and to the application server
supporting the vertical application server (VAL server) functionality as
defined in specific vertical application service (VAL service) specification.
NOTE: The specification of the VAL server for a specific VAL service is out of
scope for present document.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.434: \"Service Enabler Architecture Layer for Verticals (SEAL);
Functional architecture and information flows\".
[3] IETF RFC 4825: \"The Extensible Markup Language (XML) Configuration Access
Protocol (XCAP)\".
[4] OMA OMA-TS-XDM_Core-V2_1-20120403-A: \"XML Document Management (XDM)
Specification\".
[5] 3GPP TS 24.547: \"Identity management - Service Enabler Architecture Layer
for Verticals (SEAL); Protocol specification\".
[6] IETF RFC 6750: \"The OAuth 2.0 Authorization Framework: Bearer Token
Usage\".
[7] IETF RFC 7159: \"The JavaScript Object Notation (JSON) Data Interchange
Format\".
[8] 3GPP TS 24.229: \"IP multimedia call control protocol based on Session
Initiation Protocol (SIP) and Session Description Protocol (SDP); Stage 3\".
[9] IETF RFC 5875: \"An Extensible Markup Language (XML) Configuration Access
Protocol (XCAP) Diff Event Package\".
[10] IETF RFC 6050: \"A Session Initiation Protocol (SIP) Extension for the
Identification of Services\".
[11] IETF RFC 6665: \"SIP-Specific Event Notification\".
[12] IETF RFC 7252: \"The Constrained Application Protocol (CoAP)\".
[13] IETF RFC 7959: \"Block-Wise Transfers in the Constrained Application
Protocol (CoAP)\".
[14] IETF RFC 7641: \"Observing Resources in the Constrained Application
Protocol (CoAP)\".
[15] IETF RFC 8323: \"CoAP (Constrained Application Protocol) over TCP, TLS,
and WebSockets\".
[16] void
[17] IETF RFC 8949: \"Concise Binary Object Representation (CBOR)\".
[18] IETF RFC 8610: \"Concise Data Definition Language (CDDL): A Notational
Convention to Express Concise Binary Object Representation (CBOR) and JSON
Data Structures\".
[19] Constrained RESTful Environments (CoRE) Parameters at IANA,
https://www.iana.org/assignments/core-parameters/core-parameters.xhtml
[20] IETF RFC 9290: \"Concise Problem Details for Constrained Application
Protocol (CoAP) APIs".
[21] IETF RFC 9177: \"Constrained Application Protocol (CoAP) Block-Wise
Transfer Options Supporting Robust Transmission\".
[22] IETF RFC 3986: \"Uniform Resource Identifier (URI): Generic Syntax\".
[23] 3GPP TS 29.501: \"Principles and Guidelines for Services Definition\".
[24] 3GPP TS 23.682: \"Architecture Enhancements to facilitate communications
with Packet Data Networks and Applications\".
[25] IETF RFC 3339: \"Date and Time on the Internet: Timestamps\".
[26] 3GPP TS 23.003: \"Numbering, addressing and identification\".
[27] Void
[28] 3GPP TS 24.008: \"Mobile Radio Interface Layer 3 specification; Core
Network Protocols; Stage 3\".
# 3 Definitions of terms and abbreviations
## 3.1 Terms
For the purposes of the present document, the terms given in 3GPP TR 21.905
[1] and the following apply. A term defined in the present document takes
precedence over the definition of the same term, if any, in 3GPP TR 21.905
[1].
**SEAL configuration management client** : An entity that provides the client
side functionalities corresponding to the SEAL configuration management
service.
**SEAL configuration management server** : An entity that provides the server
side functionalities corresponding to the SEAL configuration management
service.
For the purposes of the present document, the following terms and definitions
given in 3GPP TS 23.434 [2] apply:
**SEAL client**
**SEAL server**
**SEAL service**
**VAL server**
**VAL service**
**VAL user**
**Vertical**
**Vertical application**
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
MIME Multipurpose Internet Mail Extensions
SCM-C SEAL Configuration Management Client
SCM-S SEAL Configuration Management Server
SEAL Service Enabler Architecture Layer for verticals
# 4 General description
Configuration management is a SEAL service that provides the configuration
management related capabilities to one or more vertical applications. The
present document enables a SEAL configuration management client (SCM-C) and a
VAL server to manage configuration data in a SEAL configuration management
server (SCM-S).
# 5 Functional entities
## 5.1 SEAL configuration management client (SCM-C)
The SCM-C functional entity acts as the application client for configuration
related transactions.
To be compliant with the HTTP procedures in the present document the SCM-C:
\- shall support the role of XCAP client as specified in IETF RFC 4825 [3];
\- shall support the role of XDMC as specified in OMA OMA-TS-XDM_Core-V2_1
[4];
\- shall support the procedures in clause 6.2.2;
\- shall support the procedures in clause 6.2.3;
\- shall support the procedures in clause 6.2.4;and
\- shall support the procedures in clause 6.2.5.
To be compliant with the CoAP procedures in the present document the SCM-C:
\- shall support the role of CoAP client as specified in IETF RFC 7252 [12];
\- shall support the capability to observe resources as specified in IETF RFC
7641 [14];
\- shall support the block-wise transfer as specified in IETF RFC 7959 [13];
\- may support the robust block transfer as specified in IETF RFC 9177 [21];
\- should support CoAP over TCP and Websocket as specified in IETF RFC 8323
[15];
\- shall support CBOR encoding as specified in IETF RFC 8949 [17];
\- shall support the procedures in clause 6.2.2;
\- shall support the procedures in clause 6.2.3;
\- shall support the procedures in clause 6.2.4;and
\- shall support the procedures in clause 6.2.5
NOTE 1: The security mechanism to be supported for the CoAP procedures is
described in 3GPP TS 24.547 [5].
NOTE 2: Support for TCP for the CoAP procedures is required if the client
connects over the network which blocks or impedes the use of UDP, e.g. when
NATs are present in the communication path.
NOTE 3: The CoAP protocol supports mechanism for reliable message exchange
over UDP. Use of TCP can also be beneficial if reliable transport is required
for other reasons, e.g. better observability of resources. Usage of CoAP over
TCP is an implementation choice.
NOTE 4: Support for the robust block transfer mechanism for the CoAP
procedures is beneficial in environments where packet loss is highly
asymmetrical and where performance optimization of block transfers is
required.
## 5.2 SEAL configuration management server (SCM-S)
The SCM-S is a functional entity used to configure one or more vertical
applications with 3GPP system related vertical applications provisioning
information and configure data on the SEAL configuration management client.
To be compliant with the HTTP procedures in the present document the SCM-S:
\- shall support the role of XCAP server as specified in IETF RFC 4825 [3];
\- shall support the role of XDMS as specified in OMA OMA-TS-XDM_Core-V2_1
[4];
\- shall support the procedures in clause 6.2.2;
\- shall support the procedures in clause 6.2.3;
\- shall support the procedures in clause 6.2.4;
\- shall support the procedures in clause 6.2.5.
To be compliant with the CoAP procedures in the present document the SCM-C:
\- shall support the role of CoAP server as specified in IETF RFC 7252 [12];
\- shall support the capability to observer resources as specified in IETF RFC
7641 [14];
\- shall support the block-wise transfer as specified in IETF RFC 7959 [13];
\- shall support the robust block transfer as specified in IETF RFC 9177 [21];
\- shall support CoAP over TCP and Websocket as specified in IETF RFC 8323
[15];
\- shall support CBOR encoding as specified in IETF RFC 8949 [17];
\- shall support the procedures in clause 6.2.2;
\- shall support the procedures in clause 6.2.3;
\- shall support the procedures in clause 6.2.4;and
\- shall support the procedures in clause 6.2.5.
NOTE: The security mechanism to be supported for the CoAP procedures is
described in 3GPP TS 24.547 [5]
# 6 Configuration management procedures
## 6.1 General
## 6.2 On-network procedures
### 6.2.1 General
#### 6.2.1.1 Authenticated identity in HTTP request
Upon receiving an HTTP request, the SCM-S shall authenticate the identity of
the sender of the HTTP request as specified in 3GPP TS 24.547 [5], and if
authentication is successful, the SCM-S shall use the identity of the sender
of the HTTP request as an authenticated identity.
#### 6.2.1.2 Authenticated identity in CoAP request
Upon receiving an CoAP request, the SCM-S shall authenticate the identity of
the sender of the CoAP request as specified in 3GPP TS 24.547 [5], and if
authentication is successful, the SCM-S shall use the identity of the sender
of the CoAP request as an authenticated identity.
### 6.2.2 Common procedures
#### 6.2.2.1 Management of configuration update event subscription
##### 6.2.2.1.1 SIP based procedures
##### 6.2.2.1.1.1 General {#general-2 .H6}
The VAL service will use the same identity which has been authenticated by VAL
service with SIP core using SIP based REGISTER message. If VAL service do not
support SIP protocol, then HTTP based method needs to be used.
The SCM-C shall use mechanism provided by VAL service to add access-token in
SIP messages. The SCM-S shall identify the originating VAL user ID from the
access-token received from SCM-C using the mechanism defined in VAL service
specification.
##### 6.2.2.1.1.2 Create subscription {#create-subscription .H6}
In order to subscribe to notification of changes of one or more group
documents of VAL groups identified by VAL group IDs, a SCM-C shall send an
initial SIP SUBSCRIBE request to the network according to the UE originating
procedures specified in 3GPP TS 24.229 [8] and IETF RFC 5875 [9]. In the
initial SIP SUBSCRIBE request, the SCM-C:
a) shall set the Request-URI to the configured public service identity for
performing subscription proxy function of the SCM-S;
b) shall include the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.seal\"
(coded as specified in 3GPP TS 24.229 [8]), in a P-Preferred-Service header
field according to IETF RFC 6050 [10];
c) shall include the g.3gpp.icsi-ref media feature tag containing the value of
\"urn:urn-7:3gpp-service.ims.icsi.seal\" in the Contact header field;
d) shall include an application/resource-lists+xml MIME body. In the
application/resource-lists+xml MIME body, the SCM-C shall include one \
element for each configuration document to be subscribed to, such that the
\"uri\" attribute of the \ element contains a relative path reference
to XCAP URI identifying an XML document to be subscribed to;and
e) if the VAL server wants to fetch the current state only, shall set the
Expires header field according to IETF RFC 6665 [11], to zero. Otherwise,
shall set the Expires header field to the duration for which VAL user has
requested for subscription.
Upon reception of an initial SIP SUBSCRIBE request:
a) with the Event header field set to xcap-diff;
b) with the Request-URI set to own public service identity for performing
subscription proxy function of the SCM-S;
c) with an application/resource-lists+xml MIME body; and
d) with the ICSI value \"urn:urn-7:3gpp-service.ims.icsi.seal\" (coded as
specified in 3GPP TS 24 229 [8]), in a P-Asserted-Service header field
according to IETF RFC 6050 [10];
the SCM-S:
a) shall identify the originating VAL user ID and shall use the originating
VAL user ID as an authenticated identity when performing the authorization;
b) if the authenticated identity is not authorized to subscribe to
notification of changes of any resource in the application/resource-lists+xml
MIME body, shall reject the request with a SIP 403 (Forbidden) response and
shall not continue with rest of the steps;and
c) act as a notifier according to IETF RFC 5875 [9].
##### 6.2.2.1.1.3 Modify subscription {#modify-subscription .H6}
In order to modify or refresh subscription, the SCM-C shall send SIP re-
SUBSCRIBE request on the same dialog as the existing subscription, and with
the same \"Event\" header. The SCM-C shall follow the steps specified in
clause 6.2.2.1.1.2 to create SIP SUBSCRIBE request.
Upon reception of a SIP re-SUBSCRIBE request:
a) with the Event header field set to xcap-diff; and
b) with an application/resource-lists+xml MIME body;
the SCM-S:
a) act as a notifier according to IETF RFC 5875 [9].
##### 6.2.2.1.1.4 Delete subscription {#delete-subscription .H6}
In order to delete the subscription, the SCM-C shall send SIP re-SUBSCRIBE
request on the same dialog as the existing subscription, and with the same
\"Event\" header. The SCM-C shall follow the steps specified in clause
6.2.2.1.1.2 to create SIP SUBSCRIBE request with following clarification:
a) shall set the Expires header field to zero.
Upon reception of a SIP re-SUBSCRIBE request:
a) with the Event header field set to xcap-diff; and
b) with Expires header field set to zero;
the SCM-S:
a) act as a notifier according to IETF RFC 5875 [9].
##### 6.2.2.1.2 HTTP based procedures
##### 6.2.2.1.2.1 Creating subscription {#creating-subscription .H6}
Upon successful service authorization of the VAL service, the SCM-C shall
create a subscription for configuration events by sending an HTTP POST request
to the SCM-S. In the HTTP POST request, the SCM-C:
a) shall set the Request URI to the URI of the SCM-S appended with VAL service
identity and the value \"/configurationEventsSubscription\";
b) shall include the Host header with public user identity of SCM-S;
c) shall include an Authorization header field with the \"Bearer\"
authentication scheme set to an access token of the \"bearer\" token type as
specified in IETF RFC 6750 [6]; and
c) include the parameters specified in clause A.1.2 serialized into a
JavaScript Object Notation (JSON) structure as specified in IETF RFC 7159 [7].
Upon reception of an HTTP POST request from SCM-C where the Request-URI of the
HTTP POST request contains \"/configurationEventsSubscription\", the SCM-S:
a) shall determine the identity of the sender of the received HTTP POST
request as specified in clause 6.2.1.1, and:
1) if the identity of the sender of the received HTTP POST request is not
authorized user, shall respond with an HTTP 403 (Forbidden) response to the
HTTP POST request and skip rest of the steps;
b) shall generate unique subscription identity and store the subscription
details for the authorized user; and
c) shall send an HTTP 200 (OK) response including parameters specified in
clause A.1.3.
##### 6.2.2.1.2.2 Modify a subscription {#modify-a-subscription .H6}
Upon receiving a request from VAL user to modify existing subscription
identified with unique subscription identity, the SCM-C:
a) shall generate an HTTP PUT request. In the HTTP PUT request:
1) shall set the Request URI to the same Request URI used while creating
subscription in clause 6.2.2.1.2.1appended with subscription identity;
2) shall include the Host header with the public user identity of SCM-S;
3) shall include an Authorization header field with the \"Bearer\"
authentication scheme set to an access token of the \"bearer\" token type as
specified in IETF RFC 6750 [6]; and
4) include the parameters specified in clause A.1.2 serialized into a
JavaScript Object Notation (JSON) structure as specified in IETF RFC 7159
[7];and
b) shall send the HTTP PUT request to the SCM-S.
Upon reception of an HTTP PUT request from the SCM-C where the Request-URI of
the HTTP PUT request contains \"/configurationEventsSubscription\" appended
with subscription identity, the SCM-S:
a) shall determine the identity of the sender of the received HTTP PUT request
as specified in clause 6.2.1.1, and:
1) if the identity of the sender of the received HTTP PUT request is not
authorized user, shall respond with an HTTP 403 (Forbidden) response to the
HTTP PUT request and skip rest of the steps;
b) shall determine whether subscription for configuration events exists or not
based on received subscription identity in request URI,and:
1) if subscription does not exist, shall respond with an HTTP 406 (Not
Acceptable) response to the HTTP PUT request and skip rest of the steps;
c) shall update the subscription details based on received parameters from the
HTTP PUT request; and
d) shall send an HTTP 200 (OK) response including parameters specified in
clause A.1.3.
##### 6.2.2.1.2.3 Delete a subscription {#delete-a-subscription .H6}
Upon receiving a request from VAL user to delete existing subscription
identified with unique subscription identity, the SCM-C:
a) shall generate an HTTP DELETE request. In the HTTP DELETE request:
1) shall set the Request URI to the same Request URI used while creating
subscription in clause 6.2.2.1.2.1appended with subscription identity;
2) shall include the Host header with the public user identity of the SCM-S;
and
3) shall include an Authorization header field with the \"Bearer\"
authentication scheme set to an access token of the \"bearer\" token type as
specified in IETF RFC 6750 [6]; and
b) shall send the HTTP DELETE request to the SCM-S.
Upon reception of an HTTP DELETE request from the SCM-C where the Request-URI
of the HTTP DELETE request contains \"/configurationEventsSubscription\"
appended with subscription identity, the SCM-S:
a) shall determine the identity of the sender of the received HTTP DELETE
request as specified in clause 6.2.1.1, and:
1) if the identity of the sender of the received HTTP DELETE request is not
authorized user, shall respond with an HTTP 403 (Forbidden) response to the
HTTP DELETE request and skip rest of the steps;
b) shall determine whether subscription for configuration events exists or not
based on received subscription identity in request URI, and
1) if subscription does not exist, shall respond with an HTTP 406 (Not
Acceptable) response to the HTTP DELETE request and skip rest of the steps;
c) shall delete the subscription details based on received parameters from the
HTTP DELETE request; and
d) shall send an HTTP 200 (OK) response to the SCM-C.
##### 6.2.2.1.3 CoAP based procedures
##### 6.2.2.1.3.1 General {#general-3 .H6}
CoAP based procedures shall use the mechanisms to observe a resource as
specified in IETF RFC 7641 [14].
NOTE: CoAP \"observe\" mechanism uses the principle of eventual consistency
where an intermediate state change can be lost when UDP is used. If it is
critical for the client to receive every change in the resource state (and not
just the latest state), TCP can be used to avoid missing notifications.
##### 6.2.2.1.3.2 Create a subscription {#create-a-subscription .H6}
In order to subscribe to changes of a configuration document the SCM-C shall
send an extended CoAP GET request with the CoAP URI set to the URI of an
observable configuration document and with the Observe option set to 0
(Register) as specified in IETF RFC 7641 [14].
Upon reception of such an extended CoAP request from SCM-C where the CoAP URI
of the request points at an observable configuration document and with the
Observe option set to 0 (Register), the SCM-S:
a) shall perform the steps as for a normal CoAP GET request for a
configuration document as defined in clause 6.2.4.4 for VAL UE configuration
and in clause 6.2.4.4 for VAL user profile;
b) shall register the SCM-C as an observer as per IETF RFC 7641 [14]; and
c) shall send a CoAP 2.05 (Content) response including the current content of
the resource and the Observer option with the initial sequence number of the
notifications.
##### 6.2.2.1.3.3 Delete a subscription {#delete-a-subscription-1 .H6}
In order to unsubscribe from changes of a configuration document the SCM-C
shall send a CoAP GET request matching the CoAP GET request used to create the
subscription but with the Observe option set to 1 (Deregister) as specified in
IETF RFC 7641 [14].
Upon reception of a CoAP GET that matches an active subscription but with the
Observe option set to 1 (Deregister), the SCM-S:
a) shall perform the steps as for a normal CoAP GET request for a
configuration document as defined in clause 6.2.3.4 for VAL UE configuration
and in clause 6.2.4.4 for VAL user profile;
b) shall deregister the SCM-C as an observer as per IETF RFC 7641 [14]; and
c) shall send a CoAP 2.05 (Content) response including the current content of
the resource and shall not include the Observer option.
#### 6.2.2.2 Notifications
##### 6.2.2.2.1 SIP based procedures
##### 6.2.2.2.1.1 Client procedure {#client-procedure .H6}
Upon receiving a SIP NOTIFY request associated with a subscription created as
result of the sent initial SIP SUBSCRIBE request, the SCM-C:
a) shall handle the SIP NOTIFY request according to IETF RFC 5875 [9].
##### 6.2.2.2.1.2 Server procedure {#server-procedure .H6}
In order to send notification of group document update event, the SCM-S shall
send SIP NOTIFY to SCM-C according to IETF RFC 5875 [9].
##### 6.2.2.2.2 HTTP based procedures
##### 6.2.2.2.2.1 Receiving configuration update notification {#receiving-
configuration-update-notification .H6}
Upon receiving an HTTP POST request over a Callback-URI I which was given to
SCM-S at time of the configuration update event subscription message, the
SCM-C:
a) shall validate the subscription identity received in the \"Identity\"
parameter of the HTTP POST request. If the subscription identity is not valid,
the SCM-C:
1) shall send an HTTP 406 (Not Acceptable) response and skip rest of the
steps;
b) shall send an HTTP 200 (OK) message; and
c) shall notify the VAL user about the modification of configuration document
based on the \"Event\" parameter.
Based on VAL user\'s request, the SCM-C may also retrieve the configuration
document as specified in clause 6.2.3 or in clause 6.2.4.
##### 6.2.2.2.2.2 Sending group modify notification {#sending-group-modify-
notification .H6}
Upon successful modification of VAL user profile document or VAL UE
configuration document, the SCM-S sends a notification to SCM-C. The SCM-S:
a) shall check whether valid configuration update event subscription exists
for event SUBSCRIBE_USER_PROFILE_MODIFICATION (0x01) OR
SUBSCRIBE_UE_CONFIG_MODIFICATION (0x02) as defined in clause A.1.2 or not;
1) if valid subscription does not exist, shall skip rest of the steps;
b) shall generate an HTTP POST message to notify configuration update
notification. In HTTP POST message:
1) shall set the request URI to the Callback-URI received in the creating
subscription procedure;
2) shall set the Content-Type header to \"application/json\"; and
3) shall include an HTTP request entity-body with the parameters specified in
clause B.2 serialized into a JavaScript Object Notation (JSON) structure; and
c) shall sent an HTTP POST request towards SCM-C.
##### 6.2.2.2.3 CoAP based procedures
##### 6.2.2.2.3.1 Client procedure {#client-procedure-1 .H6}
Upon receiving a CoAP 2.05 (Content) response that matches the extended CoAP
GET request which initiated the subscription and which contains the Observe
option, the SCM-C:
a) shall handle the response according to IETF RFC 7641 [14]; and
b) shall notify the VAL user about the modification of the configuration
document.
##### 6.2.2.2.3.2 Server procedure {#server-procedure-1 .H6}
In order to send a notification when the configuration document is modified,
the SCM-S shall send a CoAP 2.05 (Content) response to SCM-C containing the
modified document and the Observe option according to IETF RFC 7641 [14]. The
Content-Format specified in a 2.xx notification shall be the same as the one
used in the initial response to the GET request received for the subscription.
### 6.2.3 VAL UE configuration data
#### 6.2.3.1 SCM client HTTP procedure
Upon receiving a request from the VAL user to retrieve a VAL UE configuration
data, the SCM-C shall send an HTTP GET request to the SCM-S according to
procedures specified in IETF RFC 4825 [3] \"_Fetch a Document_ \". In HTTP GET
request, the SCM-C:
a) shall set the Request-URI to a XCAP URI identifying the XML document to be
retrieved. In the Request-URI:
1) the \"XCAP Root\" is set to the URI of the SCM-S;
2) the \"auid\" is set to specific VAL service identity; and
3) the document selector is set to a document URI pointing to the VAL UE
configuration document;
b) shall include an Authorization header field with the \"Bearer\"
authentication scheme set to an access token of the \"bearer\" token type as
specified in IETF RFC 6750 [6]; and
c) may include the parameters specified in clause A.2.1 serialized into a
JavaScript Object Notation (JSON) structure as specified in IETF RFC 7159 [7]
#### 6.2.3.2 SCM server HTTP procedure
Upon reception of an HTTP GET request where the Request-URI of the HTTP GET
request identifies a UE configuration document as specified in the specific
vertical application, the SCM-S:
a) shall determine the identity of the sender of the received HTTP GET request
as specified in clause 6.2.1.1, and:
1) if the identity of the sender of the received HTTP GET request is not
authorized to fetch requested configuration document, shall respond with a
HTTP 403 (Forbidden) response to the HTTP GET request and skip rest of the
steps; and
b) shall support handling an HTTP GET request from a SCM-C according to
procedures specified in IETF RFC 4825 [3] \"_GET Handling_ \".
#### 6.2.3.3 SCM client CoAP procedure
Upon receiving a request from the VAL user to retrieve a VAL UE configuration
data, the SCM-C shall send a CoAP GET request to the SCM-S. In the CoAP GET
request, the SCM-C:
a) shall set the CoAP URI identifying the user profile document to be
retrieved according to the resource API definition in clause C.3.1:
1) the \"apiRoot\" is set to the SCM-S URI;
2) the \"valServiceId\" is set to specific VAL service;
3) if the SCM-C does not know the \"ueConfigDocId\" of the UE configuration
document at the SGM-S, the SCM-C shall make a GET request for the UE
Configurations resource as described in clause C.3.1.2.2.3.1 and shall set
applicable query parameters defined in table C.3.1.2.2.3.1-1; and
4) if the SCM-C knows the \"ueConfigDocId\" of the UE configuration document
at the SGM-S, the SCM-C shall make a GET request for the Individual UE
Configuration resource as described in clause C.3.1.2.3.3.1, and shall set
\"ueConfigDocId\" to point to the VAL UE configuration document; and
b) shall send the request protected with the relevant ACE profile (OSCORE
profile or DTLS profile) as described in 3GPP TS 24.547 [5].
#### 6.2.3.4 SCM server CoAP procedure
Upon reception of an CoAP GET request where the CoAP URI of the request
identifies the UE Configurations resource as described in clauseC.3.1.2.2.3.1,
the SCM-S:
a) shall determine the identity of the sender of the received CoAP GET request
as specified in clause 6.2.1.2, and:
1) if the sender is not authorized to fetch the requested UE configuration
document(s), shall respond with a CoAP 4.03 (Forbidden) response to the CoAP
GET request and skip rest of the steps;
b) shall support handling a CoAP GET request from a SCM-C according to
procedures specified in IETF RFC 7252 [12];
c) shall check if the resource exists for the given VAL service, and:
1) if the resource does not exist, shall return a 4.04 (Not found) response
and skip rest of the steps; and
d) shall return a 2.05 (Content) response including all the UE configuration
documents found for the given values of the query parameters defined in table
C.3.1.2.2.3.1-1.
Upon reception of an CoAP GET request where the CoAP URI of the request
identifies the Individual UE Configuration resource as described in clause
C.3.1.2.3.3.1, the SCM-S:
a) shall determine the identity of the sender of the received CoAP GET request
as specified in clause 6.2.1.2, and:
1) if the sender is not authorized to fetch the requested UE configuration
document, shall respond with a CoAP 4.03 (Forbidden) response to the CoAP GET
request and skip rest of the steps;
b) shall support handling a CoAP GET request from a SCM-C according to
procedures specified in IETF RFC 7252 [12]; and
c) shall check if the resource pointed at by the CoAP URI exists and:
1) if it exists, shall return the UE configuration document in a 2.05
(Content) response; or
2) otherwise, shall return a 4.04 (Not found) response.
### 6.2.4 VAL user profile data
#### 6.2.4.1 SCM client HTTP procedure
Upon receiving a request from the VAL user to retrieve a VAL user profile
data, the SCM-C shall send an HTTP GET request to the SCM-S according to
procedures specified in IETF RFC 4825 [3] \"_Fetch a Document_ \". In HTTP GET
request, the SCM-C:
a) shall set the Request-URI to a XCAP URI identifying the XML document to be
retrieved. In the Request-URI:
1) the \"XCAP Root\" is set to the URI of the SCM-S;
21) the \"auid\" is set to specific VAL service identity; and
3) the document selector is set to a document URI pointing to the VAL user
profile document; and
b) shall include an Authorization header field with the \"Bearer\"
authentication scheme set to an access token of the \"bearer\" token type as
specified in IETF RFC 6750 [6].
#### 6.2.4.2 SCM server HTTP procedure
Upon reception of an HTTP GET request where the Request-URI of the HTTP GET
request identifies a user profile document as specified in the specific
vertical application, the SCM-S follow the procedure as described in clause
6.2.3.2.
#### 6.2.4.3 SCM client CoAP procedure
Upon receiving a request from the VAL user to retrieve a VAL user profile
data, the SCM-C shall send a CoAP GET request to the SCM-S. In the CoAP GET
request, the SCM-C:
a) shall set the CoAP URI identifying the user profile document to be
retrieved according to the resource API definition in clause C.2.1:
1) the \"apiRoot\" is set to the SCM-S URI;
2) the \"valServiceId\" is set to specific VAL service;
3) if the SCM-C does not know the \"profileDocId\" of the user profile
document at the SGM-S, the SCM-Cshall use the User Profiles resource GET, as
described in clause C.2.1.2.2.3.1, and shall set the val-tgt-ue query
parameter to either the VAL user identity or VAL UE identity; and
4) if the SCM-C knows the \"profileDocId\" of the user profile document at the
SGM-S, the SCM-C shall use the Individual User Profile resource GET, as
described in clause C.2.1.2.3.3.1, and shall set \"profileDocId\" to point to
the VAL user profile document; and
b) shall send the request protected with the relevant ACE profile (OSCORE
profile or DTLS profile) as described in 3GPP TS 24.547 [5].
#### 6.2.4.4 SCM server CoAP procedure
Upon reception of an CoAP GET request where the CoAP URI of the request
identifies the User Profiles resource as described in clause C.2.1.2.2.3.1,
the SCM-S:
a) shall determine the identity of the sender of the received CoAP GET request
as specified in clause 6.2.1.2, and:
1) if the identity of the sender of the received CoAP GET request is not
authorized to fetch requested user profile document(s), shall respond with a
CoAP 4.03 (Forbidden) response to the CoAP GET request and skip rest of the
steps;
b) shall support handling a CoAP GET request from a SCM-C according to
procedures specified in IETF RFC 7252 [12]; and
c) shall check if the resource exists for the given VAL service, and:
1) if the resource does not exist, shall return a 4.04 (Not found) response
and skip rest of the steps; and
d) shall return a 2.05 (Content) response including all the user profile
documents found for the given VAL user or VAL UE given in the query parameter.
Upon reception of a CoAP GET request where the CoAP URI of the request
identifies the Individual User Profile resource as described in clause
C.2.1.2.3.3.1, the SCM-S:
a) shall determine the identity of the sender of the received CoAP GET request
as specified in clause 6.2.1.2, and:
1) if the identity of the sender of the received CoAP GET request is not
authorized to fetch requested user profile document, shall respond with a CoAP
4.03 (Forbidden) response to the CoAP GET request and skip rest of the steps;
b) shall support handling a CoAP GET request from a SCM-C according to
procedures specified in IETF RFC 7252 [12]; and
c) shall check if the resource pointed at by the CoAP URI exists and:
1) if it exists, shall return the user profile document in the 2.05 (Content)
response; or
2) otherwise, shall return a 4.04 (Not found) response.
### 6.2.5 Update VAL user profile data
#### 6.2.5.1 SCM client HTTP procedure
Upon receiving a request from the VAL user to update the VAL user profile
configuration document, the SCM-C shall create an XML document as specified in
coding of the specific vertical application and shall send the XML document to
the SCM-S according to procedures specified in IETF RFC 4825 [3] \"_Create or
Replace a Document_ \". In the HTTP POST request, the SCM-C:
a) shall set the Request URI to a XCAP URI identifying an XML document to be
updated. In the Request-URI:
1) the \"XCAP Root\" is set to the URI of the SCM-S;
2) the \"auid\" is set to specific VAL service identity; and
3) the document selector is set to the VAL user profile;
b) shall include an Authorization header field with the \"Bearer\"
authentication scheme set to an access token of the \"bearer\" token type as
specified in IETF RFC 6750 [6];
c) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-user-profile-info+xml\"; and
d) shall include an application/vnd.3gpp.seal-user-profile-info+xml MIME body
and in the \ root element:
1) may include \ element indicating name of the profile;
2) may include \ element indicating status of the profile;
3) may include \ element indicating that the current profile is the
selected profile for the requesting user;
4) shall include \ element indicating the unique profile
number; and
5) shall include \ element as specified in clause 7.
#### 6.2.5.2 SCM server HTTP procedure
Upon reception of an HTTP PUT request where the Request-URI of the HTTP PUT
request identifies an XML document as specified in the specific vertical
application, the SCM-S:
a) shall determine the identity of the sender of the received HTTP PUT request
as specified in clause 6.2.1.1, and:
1) if the identity of the sender of the received HTTP PUT request is not
authorized to update the configuration document, shall respond with a HTTP 403
(Forbidden) response to the HTTP PUT request and skip rest of the steps; and
b) shall support receiving an XML document as specified in application usage
of the specific vertical application according to procedures specified in IETF
RFC 4825 [3] \"_PUT Handling_ \".
#### 6.2.5.3 SCM client CoAP procedure
Upon receiving a request from the VAL user to update the VAL user profile
configuration document, the SCM-C shall send a CoAP PUT request to the SCM-S.
In the CoAP PUT request, the SCM-C:
a) shall set the CoAP URI identifying the user profile document to be updated
according to the resource definition in clause C.2.1.2.3.2:
1) the \"apiRoot\" is set to the SCM-S URI;
2) the \"valServiceId\" is set to specific VAL service; and
3) the \"profileDocId\" to point to the VAL user profile document;
b) shall include Content-Format option set to \"application/vnd.3gpp.seal-
user-profile-info+cbor\";
c) shall include \"ProfileDoc\" object with \"profileInformation\" which:
1) may contain \"profileName\" element indicating name of the profile;
2) shall contain \"status\" element indicating status of the profile;
3) may contain \"isDefault\" element indicating that the current profile is
the selected profile for the requesting user; and
4) shall contain \"profileConfig\" elements; and
d) shall send the request protected with the relevant ACE profile (OSCORE
profile or DTLS profile) as described in 3GPP TS 24.547 [5].
#### 6.2.5.4 SCM server CoAP procedure
Upon reception of an CoAP PUT request where the CoAP URI of the request
identifies Individual User Profile resource as described in
clauseC.2.1.2.3.3.2, the SCM-S:
a) shall determine the identity of the sender of the received CoAP PUT request
as specified in clause 6.2.1.2, and:
1) if the identity of the sender of the received CoAP PUT request is not
authorized to update requested user profile document(s), shall respond with a
CoAP 4.03 (Forbidden) response to the CoAP PUT request and skip rest of the
steps;
b) shall support handling an CoAP PUT request from a SCM-C according to
procedures specified in IETF RFC 7252 [12]; and
c) shall replace the user profile documents pointed at by the CoAP URI with
the \"ProfileDoc\" received in the request.
## 6.3 Off-network procedures
The off-network procedures are out of scope of the present document in this
release of the specification.
# 7 Coding
## 7.1 VAL user profile document
### 7.1.1 General
### 7.1.2 Application unique ID
The AUID shall be set to the VAL service ID as specified in specific VAL
service specification.
### 7.1.3 Data structure
The \ element shall be the root element of the VAL user-
profile configuration document.
The \ element:
a) may include a \ element;
b) shall include a \ element;
c) may include a \ element;
d) shall include a \ element;
e) shall include a \ element which:
1) may include a \ element;
2) may include a \ element; and
3) may include a \ element; and
f) may include any other attribute for the purposes of extensibility.
### 7.1.4 XML Schema
The seal user profile configuration document shall be composed according to
the following XML schema:
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
### 7.1.5 Semantics
The \ element is the root element of the XML document.
The \ element of \ element specifies the name
of the SEAL user profile configuration document.
The \ element of \ element is of type \"Boolean\"
and indicates whether this particular SEAL user profile is enabled or
disabled.
The \ element of \ element is of type
\"Boolean\" and indicates whether this particular SEAL user profile is default
profile for VAL user or not.
The \ element of \ element contains a
positive number which provides profile id. This element is used only when
multiple user-profile for a VAL user is supported.
The \ element of \ element contains
actual profile configuration. The VAL application which uses SEAL user-profile
may provide its own profile configuration specific to VAL application.
The VAL service may further extend the \ element of the \ element of the \ element to include VAL
service specific common user profile configuration.
The VAL service may further extend the \ element of the \ element of the \ element to include VAL
service specific user profile configuration for on-network features.
The VAL service may further extend the \ element of the \ element of the \ element to include VAL
service specific user profile configuration for off-network features.
### 7.1.6 MIME type
The MIME type for VAL user profile configuration shall be set to
\"vnd.3gpp.seal-user-profile-info+xml\".
### 7.1.7 IANA registration template
Your Name:
\
Your Email Address:
\
Media Type Name:
Application
Subtype name:
vnd.3gpp.seal-user-profile-info+xml
Required parameters:
None
Optional parameters:
\"charset\" the parameter has identical semantics to the charset parameter of
the \"application/xml\" media type as specified in section 9.1 of IETF RFC
7303.
Encoding considerations:
binary.
Security considerations:
Same as general security considerations for application/xml media type as
specified in section 9.1 of IETF RFC 7303. In addition, this media type
provides a format for exchanging information in SIP or in HTTP. So the
security considerations from IETF RFC 3261 apply while exchanging information
in SIP and the security considerations from IETF RFC 2616 apply while
exchanging information in HTTP.
The information transported in this media type does not include active or
executable content.
Mechanisms for privacy and integrity protection of protocol parameters exist.
Those mechanisms as well as authentication and further security mechanisms are
described in 3GPP TS 24.229.
This media type does not include provisions for directives that institute
actions on a recipient\'s files or other resources.
This media type does not include provisions for directives that institute
actions that, while not directly harmful to the recipient, may result in
disclosure of information that either facilitates a subsequent attack or else
violates a recipient\'s privacy in any way.
This media type does not employ compression.
Interoperability considerations:
Same as general interoperability considerations for application/xml media type
as specified in section 9.1 of IETF RFC 7303. Any unknown XML elements and any
unknown XML attributes are to be ignored by recipient of the MIME body.
Published specification:
3GPP TS 24.546 \"Configuration management - Service Enabler Architecture Layer
for Verticals (SEAL); Protocol specification\", available via
http://www.3gpp.org/specs/numbering.htm.
Applications Usage:
Applications supporting the SEAL configuration management procedures as
described in the published specification.
Fragment identifier considerations:
The handling in section 5 of IETF RFC 7303 applies.
Restrictions on usage:
None
Provisional registration? (standards tree only):
N/A
Additional information:
1\. Deprecated alias names for this type: none
2\. Magic number(s): none
3\. File extension(s): none
4\. Macintosh File Type Code(s): none
5\. Object Identifier(s) or OID(s): none
Intended usage:
Common
Person to contact for further information:
\- Name: \
\- Email: \
\- Author/Change controller:
i) Author: 3GPP CT1 Working Group/3GPP_TSG_CT_WG1\@LIST.ETSI.ORG
ii) Change controller: \/\
## 7.2 VAL UE configuration document
### 7.2.1 General
### 7.2.2 Application unique ID
The AUID shall be set to the VAL service ID as specified in specific VAL
service specification.
### 7.2.3 Data structure
The SEAL UE configuration document structure is specified in this clause.
The \ document:
1) shall include a \"domain\" attribute;
2) may include a \ element;
3) may include a \ element;
4) may include a \ element;
5) may include a \ element;
6) may include an \ element; and
7) may include any other attribute for the purposes of extensibility.
The \ element:
1) may contain a list of \ elements; and
2) may contain a list of \ elements.
The \ element:
1) shall contain a \ element;
2) may contain a list of \ elements; and
3) may contain \ element.
The \ element:
1) shall contain a \ element; and
2) shall contain a \ element.
### 7.2.4 XML schema
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
### 7.2.5 Semantics
The \"domain\" attribute of the \ element contains the
domain name of the VAL service.
The \ element of the \ element contains the user
displayable name of the SEAL UE configuration document.
The creator of the SEAL UE configuration document may include an \
element in the version of the SEAL UE configuration document that is uploaded
to the SCM-S. If an \ element is included then the SEAL UE
configuration document applies only to the VAL UE(s) identified by the \ element. If no \ element is included then the SEAL UE
configuration document applies to all the VAL UEs of the domain.
The \ element contains identify of the VAL service for which
the configuration document is applicable.
If one or more optional \ elements is included in the \ element then the SEAL UE configuration document applies to the VAL UE
with an instance ID equal to the instance ID contained in the \ element.
The \ element of the \ element contains the Type Allocation
Code of the VAL UE.
The optional \ element of the \ element contains the
individual serial number uniquely identifying VAL UE within the Type
Allocation Code contained in the \ element that the SEAL UE configuration
document applies to.
If an optional \ element is included within the \
element then the SEAL UE configuration document applies to all VAL UEs within
the Type Allocation Code contained in the \ element with the serial
number equal or greater than the serial number contained in the \
element and less than or equal to the serial number contained in the \ element.
If no \ element nor \ element is included within the \ element then the SEAL UE configuration document applies to all the VAL
UE(s) with the Type Allocation Code contained within the \ element of the
\ element.
If no \ element is included then the SEAL UE configuration document
applies to all VAL UEs of the VAL service identified in the \"domain\"
attribute.
The VAL service may further extend the \ element of the \ to include VAL service specific common UE configuration.
The VAL service may further extend the \ element of the \ to include VAL service specific UE configuration for on-network
features.
### 7.2.6 MIME type
The MIME type for VAL user profile configuration shall be set to
\"vnd.3gpp.seal-ue-config-info+xml\".
### 7.2.7 IANA registration template
Your Name:
\
Your Email Address:
\
Media Type Name:
Application
Subtype name:
vnd.3gpp.seal-ue-config-info+xml
Required parameters:
None
Optional parameters:
\"charset\" the parameter has identical semantics to the charset parameter of
the \"application/xml\" media type as specified in section 9.1 of IETF RFC
7303.
Encoding considerations:
binary.
Security considerations:
Same as general security considerations for application/xml media type as
specified in section 9.1 of IETF RFC 7303. In addition, this media type
provides a format for exchanging information in SIP or in HTTP. So the
security considerations from IETF RFC 3261 apply while exchanging information
in SIP and the security considerations from IETF RFC 2616 apply while
exchanging information in HTTP.
The information transported in this media type does not include active or
executable content.
Mechanisms for privacy and integrity protection of protocol parameters exist.
Those mechanisms as well as authentication and further security mechanisms are
described in 3GPP TS 24.229.
This media type does not include provisions for directives that institute
actions on a recipient\'s files or other resources.
This media type does not include provisions for directives that institute
actions that, while not directly harmful to the recipient, may result in
disclosure of information that either facilitates a subsequent attack or else
violates a recipient\'s privacy in any way.
This media type does not employ compression.
Interoperability considerations:
Same as general interoperability considerations for application/xml media type
as specified in section 9.1 of IETF RFC 7303. Any unknown XML elements and any
unknown XML attributes are to be ignored by recipient of the MIME body.
Published specification:
3GPP TS 24.546 \"Configuration management - Service Enabler Architecture Layer
for Verticals (SEAL); Protocol specification\", available via
http://www.3gpp.org/specs/numbering.htm.
Applications Usage:
Applications supporting the SEAL configuration management procedures as
described in the published specification.
Fragment identifier considerations:
The handling in section 5 of IETF RFC 7303 applies.
Restrictions on usage:
None
Provisional registration? (standards tree only):
N/A
Additional information:
1\. Deprecated alias names for this type: none
2\. Magic number(s): none
3\. File extension(s): none
4\. Macintosh File Type Code(s): none
5\. Object Identifier(s) or OID(s): none
Intended usage:
Common
Person to contact for further information:
\- Name: \
\- Email: \
\- Author/Change controller:
i) Author: 3GPP CT1 Working Group/3GPP_TSG_CT_WG1\@LIST.ETSI.ORG
ii) Change controller: \/\
###### ## Annex A (normative): Parameters for different operations
# A.1 Creating configuration update event subscription
## A.1.1 General
The information in this annex provides a normative description of the
parameters which will be sent by SCM-C while creating configuration update
event subscription and the parameters which will be sent by SCM-S as a
response to request for creating subscription.
## A.1.2 Client side parameters
The SCM-C shall convey the following parameters while sending request for
creating configuration update event subscription.
Table A.1.2-1: Client side parameters for creating configuration update event
subscription
Parameter Description
* * *
Callback-URI REQUIRED. Represents where to send HTTP notifications
Subscription Info REQUIRED. Represents a space-separated list of the
subscription type information as specified in table A.1.2-2.
Table A.1.2-2: Subscription information
+-------------+-------------------------------------------------------+ | Parameter | Description | +=============+=======================================================+ | Event | REQUIRED. Represents the type of notification which | | | client requires. This specification defines following | | | type of notifications: | | | | | | > \- 0x01: SUBSCRIBE_USER_PROFILE_MODIFICATION | | | > | | | > \- 0x02: SUBSCRIBE_UE_CONFIG_MODIFICATION | +-------------+-------------------------------------------------------+ | expiry time | REQUIRED. Represents the time in seconds up to which | | | the subscription is desired to be kept active and the | | | time after which the subscribed event shall stop | | | generating notifications. | +-------------+-------------------------------------------------------+
## A.1.3 Server side parameters
The SCM-S shall convey the following parameters while sending response to the
creating configuration update event subscription request.
Table A.1.3-1: Server side parameters for response to creating configuration
update event subscription
Parameter Description
* * *
Identity REQUIRED. A unique string representing subscription identity.
# A.2 Retrieve VAL UE configuration data
## A.2.1 Client side parameters
The SGM-C shall convey the following parameters, if available, while sending
request to retrieve a VAL UE configuration data.
Table A.1.2-1: Client side parameters to retrieve VAL UE configuration data
Parameter Description
* * *
VAL UE Information OPTIONAL. Represents additional UE related information
required to identify the configuration data (e.g. device type, device vendor,
etc).
###### ## Annex B (normative): Parameters for notifications
# B.1 General
The information in this annex provides a normative description of the
parameters which will be sent by SCM-S while sending different types of
notification
# B.2 Configuration update notification
The SCM-S shall convey the following parameters while sending configuration
notification to SCM-C.
Table B.2-1: Parameters for configuration update notification
Parameter Description
* * *
Identity REQUIRED. A unique string representing notification channel identity.
Event REQUIRED. Shall be set to one of the event as specified in table A.1.2-2
based on which configuration document is updated.
###### ## Annex C (normative): CoAP resource representation and encoding
# C.1 General
The information in this annex provides a normative description of CoAP
resource representation and encoding.
## C.1.1 Resource URI structure
All API URIs of SEAL-UU APIs shall be specified as follows:
{apiRoot}/\/\
\"apiRoot\" is configured by means outside the scope of the present document.
It includes one of the schemes (\"coaps\", \"coaps+tcp\", \"coaps+ws\"), host
and optional port, and an optional prefix string. \"apiName\" and
\"apiVersion\" shall be set dependent on the API, as defined in the
corresponding clauses below.
All resource URIs specified for SEAL-UU APIs shall be defined relative to the
above root API URI.
URIs which differ only in the scheme shall point to the same resource.
NOTE: The \"apiVersion\" will only be increased if the new API version
contains backward incompatible changes.
The root structure may be followed by \"apiSpecificSuffixes\" that are
dependent on the API and are defined separately for each API as resource URI
where they apply:
{apiRoot}/\/\/\
## C.1.2 Use of cache
It is recommended for the SEAL clients and servers to support and use the
caching mechanism specified in IETF RFC 7252 [12]. This implies support and
use of the Max-Age and ETag options.
## C.1.3 Error handling
Table C.1.3-1 lists response payload types that are applicable to all APIs and
as responses for all requests in the present specification unless otherwise
specified. The CoAP client shall mandatorily support the processing of the
status code for all the applicable methods, when received in a CoAP response
message.
Table C.1.3-1: Response payloads supported for responses to all requests.
+----------+----------+----------+----------+----------+----------+ | Response | Data | Car | Response | Remarks | Applied | | body | type | dinality | | | Methods | | | | | Codes | | | | | | | | | | | | | | (NOTE) | | | +----------+----------+----------+----------+----------+----------+ | | Proble | 1 | 4.00 Bad | I | GET, | | | mDetails | | Request | ncorrect | FETCH, | | | | | | pa | POST | | | | | | rameters | PUT, | | | | | | were | PATCH, | | | | | | passed | iPATCH, | | | | | | in the | DELETE | | | | | | request. | | +----------+----------+----------+----------+----------+----------+ | | Proble | 1 | 4.01 | The | GET, | | | mDetails | | Unau | client | FETCH, | | | | | thorized | is not | POST, | | | | | | aut | PUT, | | | | | | horized. | PATCH, | | | | | | | iPATCH, | | | | | | | DELETE | +----------+----------+----------+----------+----------+----------+ | | Proble | 1 | 4.02 Bad | The | GET, | | | mDetails | | Option | request | FETCH, | | | | | | could | POST, | | | | | | not be | PUT, | | | | | | un | PATCH, | | | | | | derstood | iPATCH, | | | | | | by the | DELETE | | | | | | server | | | | | | | due to | | | | | | | one or | | | | | | | more | | | | | | | unre | | | | | | | cognized | | | | | | | or | | | | | | | m | | | | | | | alformed | | | | | | | options. | | +----------+----------+----------+----------+----------+----------+ | | Proble | 1 | 4.03 | This | GET, | | | mDetails | | F | re | FETCH, | | | | | orbidden | presents | POST, | | | | | | the case | PUT, | | | | | | when the | PATCH, | | | | | | server | iPATCH, | | | | | | is able | DELETE | | | | | | to | | | | | | | un | | | | | | | derstand | | | | | | | the | | | | | | | request | | | | | | | but | | | | | | | unable | | | | | | | to | | | | | | | fulfil | | | | | | | the | | | | | | | request | | | | | | | due to | | | | | | | errors | | | | | | | (e.g. | | | | | | | the | | | | | | | r | | | | | | | equested | | | | | | | pa | | | | | | | rameters | | | | | | | are out | | | | | | | of | | | | | | | range). | | | | | | | | | | | | | | More | | | | | | | inf | | | | | | | ormation | | | | | | | may be | | | | | | | provided | | | | | | | in the | | | | | | | \ | | | | | | | "invalid | | | | | | | Params\" | | | | | | | a | | | | | | | ttribute | | | | | | | of the | | | | | | | \" | | | | | | | ProblemD | | | | | | | etails\" | | | | | | | st | | | | | | | ructure. | | +----------+----------+----------+----------+----------+----------+ | | Proble | 1 | 4.04 Not | The | GET, | | | mDetails | | Found | resource | POST, | | | | | | URI was | PUT, | | | | | | in | PATCH, | | | | | | correct. | iPATCH, | | | | | | | DELETE | +----------+----------+----------+----------+----------+----------+ | | Proble | 1 | 4.06 Not | The | GET, | | | mDetails | | Ac | content | FETCH, | | | | | ceptable | format | | | | | | | provided | | | | | | | in the | | | | | | | \" | | | | | | | Accept\" | | | | | | | option | | | | | | | is not | | | | | | | ac | | | | | | | ceptable | | | | | | | by the | | | | | | | server. | | +----------+----------+----------+----------+----------+----------+ | | Proble | 1 | 4.13 | If the | FETCH, | | | mDetails | | Request | received | POST, | | | | | Entity | CoAP | PUT, | | | | | Too | request | PATCH, | | | | | Large | contains | iPATCH, | | | | | | entity | | | | | | | larger | | | | | | | than the | | | | | | | server | | | | | | | is able | | | | | | | to | | | | | | | process, | | | | | | | the | | | | | | | server | | | | | | | shall | | | | | | | reject | | | | | | | the CoAP | | | | | | | request | | | | | | | with | | | | | | | this | | | | | | | status | | | | | | | code. | | | | | | | The | | | | | | | server | | | | | | | should | | | | | | | include | | | | | | | Size1 | | | | | | | option | | | | | | | in the | | | | | | | response | | | | | | | with the | | | | | | | maximum | | | | | | | size of | | | | | | | the | | | | | | | request | | | | | | | entity | | | | | | | it can | | | | | | | handle. | | +----------+----------+----------+----------+----------+----------+ | | Proble | 1 | 4.15 | The code | FETCH, | | | mDetails | | Uns | i | POST, | | | | | upported | ndicates | PUT, | | | | | Conten | that the | PATCH, | | | | | t-Format | resource | iPATCH | | | | | | is in a | | | | | | | format | | | | | | | which is | | | | | | | not | | | | | | | s | | | | | | | upported | | | | | | | by the | | | | | | | server | | | | | | | for the | | | | | | | method. | | +----------+----------+----------+----------+----------+----------+ | | Proble | 1 | 4.22 | The code | FETCH, | | | mDetails | | | i | PATCH, | | | | | Unpro | ndicates | iPATCH | | | | | cessable | the | | | | | | Entity | server | | | | | | | is | | | | | | | unable | | | | | | | to or is | | | | | | | i | | | | | | | ncapable | | | | | | | of | | | | | | | pr | | | | | | | ocessing | | | | | | | the | | | | | | | request. | | +----------+----------+----------+----------+----------+----------+ | | Proble | 1 | 4.29 Too | The code | GET, | | | mDetails | | Many | i | FETCH, | | | | | Requests | ndicates | POST, | | | | | | that due | PUT, | | | | | | to | PATCH, | | | | | | e | iPATCH, | | | | | | xcessive | DELETE | | | | | | traffic | | | | | | | which, | | | | | | | if | | | | | | | c | | | | | | | ontinued | | | | | | | over | | | | | | | time, | | | | | | | may lead | | | | | | | to (or | | | | | | | may | | | | | | | i | | | | | | | ncrease) | | | | | | | an | | | | | | | overload | | | | | | | si | | | | | | | tuation. | | | | | | | | | | | | | | **The | | | | | | | CoAP | | | | | | | option | | | | | | | \"M | | | | | | | ax-Age\" | | | | | | | may be | | | | | | | added in | | | | | | | the | | | | | | | response | | | | | | | to | | | | | | | indicate | | | | | | | how long | | | | | | | the | | | | | | | client | | | | | | | has to | | | | | | | wait | | | | | | | before | | | | | | | making a | | | | | | | new | | | | | | | re | | | | | | | quest.** | | +----------+----------+----------+----------+----------+----------+ | | Proble | 1 | 5.00 | The | GET, | | | mDetails | | Internal | server | FETCH, | | | | | Server | enc | POST, | | | | | Error | ountered | PUT, | | | | | | an | PATCH, | | | | | | un | iPATCH, | | | | | | expected | DELETE | | | | | | c | | | | | | | ondition | | | | | | | that | | | | | | | p | | | | | | | revented | | | | | | | it from | | | | | | | fu | | | | | | | lfilling | | | | | | | the | | | | | | | request. | | +----------+----------+----------+----------+----------+----------+ | | Proble | 1 | 5.03 | The | GET, | | | mDetails | | Service | server | FETCH, | | | | | Una | is | POST, | | | | | vailable | unable | PUT, | | | | | | to | PATCH, | | | | | | handle | iPATCH, | | | | | | the | DELETE | | | | | | request. | | +----------+----------+----------+----------+----------+----------+ | NOTE 1: | | | | | | | In | | | | | | | addition | | | | | | | to the | | | | | | | above | | | | | | | response | | | | | | | codes, | | | | | | | the CoAP | | | | | | | server | | | | | | | may also | | | | | | | send | | | | | | | other | | | | | | | valid | | | | | | | CoAP | | | | | | | response | | | | | | | codes, | | | | | | | if | | | | | | | app | | | | | | | licable. | | | | | | | The list | | | | | | | of all | | | | | | | valid | | | | | | | CoAP | | | | | | | response | | | | | | | codes | | | | | | | can be | | | | | | | found in | | | | | | | CoAP | | | | | | | Response | | | | | | | Code | | | | | | | Registry | | | | | | | at | | | | | | | IANA | | | | | | | [19]. | | | | | | | | | | | | | | NOTE 2: | | | | | | | CBOR | | | | | | | encoding | | | | | | | and | | | | | | | media | | | | | | | type | | | | | | | \"ap | | | | | | | plicatio | | | | | | | n/concis | | | | | | | e-proble | | | | | | | m-detail | | | | | | | s+cbor\" | | | | | | | Proble | | | | | | | mDetails | | | | | | | shall be | | | | | | | used for | | | | | | | Proble | | | | | | | mDetails | | | | | | | as | | | | | | | defined | | | | | | | in the | | | | | | | IETF | | | | | | | RFC 9290 | | | | | | | [20]. | | | | | | +----------+----------+----------+----------+----------+----------+ | | | | | | | +----------+----------+----------+----------+----------+----------+
Specific errors are contained in the related API definition for each API.
## C.1.4 Data types applicable to multiple resource representations
### C.1.4.1 General
This clause defines structured data types, simple data types, and enumerations
that are applicable to several APIs defined for CoAP resource representations
in the present specification and other SEAL specifications and can be
referenced from data structures defined in the subsequent clauses and from
CoAP resource representations in other SEAL specifications.
NOTE: As a convention, data type names in the present specification follows
UpperCamel and parameters follows lowerCamel as specified in clause 5.1.1 of
3GPP TS 29.501 [23].
### C.1.4.2 Referenced structured data types
Table C.1.4.2-1 lists structured data types referenced by multiple CoAP
resource representations and defined in this specification or in other
specifications.
Table C.1.4.2-1: Referenced Structured Data Types
Data type Reference Description
* * *
ValTargetUe Clause C.2.1.3.2.4 Information identifying a VAL user ID or VAL UE
ID. ScheduledCommunicationTime Clause C.1.4.4.1 Defines time schedule for
communication.
### C.1.4.3 Referenced simple data types and enumerations
The simple datatypes based on the CBOR types are defined in table C.1.4.3-1
and the simple data types defined in table C.1.4.3-2 apply to multiple SEAL-UU
APIs.
Table C.1.4.3-1: CBOR-based data types
* * *
Type name Description bytes Is a \"byte string\" as defined in IETF RFC 8949
[17]. boolean Is a type which has 2 values \"false\" and \"true\" with the
values as defined in IETF RFC 8949 [17]. integer As defined in IETF RFC 8949
[17]. number Is any number as defined in IETF RFC 8949 [17]. Precision format
(half-precision, single-precision, and double-precision) can be indicated.
string Is a \"text string\" as defined in IETF RFC 8949 [17].
* * *
Table C.1.4.3-2: Simple data types applicable to multiple CoAP resource
representations
* * *
Type name Description Altitude Number indicating value of altitude in the
range from minimum value -32767 to maximum value 32767. Angle Integer
indicating a value of the angle in the range from minimum value 0 to maximum
value 360. CellId String containing a unique identifier of a cell. Confidence
Integer indicating a value of confidence in the range from minimum value 0 to
maximum value 100. ExternalGroupId String containing a local identifier
followed by \"@\" and a domain identifier. Both the local identifier and the
domain identifier shall be encoded as strings that do not contain any \"@\"
characters. See clauses 4.6.2 and 4.6.3 of 3GPP TS 23.682 [24] for more
information. DateTime Is a string in the standard format described by the
\"date-time\" production in IETF RFC3339 [25]. DayOfWeek Integer between and
including 1 and 7 denoting a weekday. 1 shall indicate Monday, and the
subsequent weekdays shall be indicated with the next higher numbers. 7 shall
indicate Sunday. GeographicalAreaId String identifying a geographical area.
InnerRadius Integer indicating a value of the inner radius in the range from
minimum value 0 to maximum value 327675. MbmsSaId String containing a unique
identifier of a MBMS serving area. MbsfnAreaId String containing a unique
identifier of a MBSFN area. Orientation Integer indicating a value of
orientation angle in the range from minimum value 0 to maximum value 180.
PlmnId String containing a unique identifier of a PLMN. TaId String containing
a unique identifier of a tracking area. Tmgi Byte string containing an
identifier of Temporary Mobile Group Identity. The contents of Tmgi are coded
as octet 3 and above of Temporary Mobile Group Identity (TMGI) IE as defined
in 3GPP TS 24.008 [28] clause 10.5.6.13. TimeOfDay String with format partial-
time or full-time as defined in clause 5.6 of IETF RFC 3339 [25]. Examples,
20:15:00, 20:15:00-08:00 (for 8 hours behind UTC). Uinteger Unsigned integer,
i.e. only value 0 and values above 0 are permissible. Uncertainty Number
indicating value of uncertainty with minimum value 0. Uri String providing an
URI formatted according to IETF RFC 3986 [22].
* * *
Table C.1.4.3-3 lists simple data types and enumerations referenced by
multiple CoAP resource representations defined in this specification or in
other specifications.
Table C.1.4.3-3: Enumerations applicable to multiple CoAP resource
representations
* * *
Type name Reference Description ConfigType C.2.1.3.3.1 Represents the type of
configuration.
* * *
### C.1.4.4 Common structured data types
#### C.1.4.4.1 Type: ScheduledCommunicationTime
Table C.1.4.4.1-1: Definition of type ScheduledCommunicationTime
Attribute name Data type P Cardinality Description Applicability
* * *
daysOfWeek array(DayOfWeek) O 0..6 Identifies the day(s) of the week. If
absent, it indicates every day of the week.  
timeOfDayStart TimeOfDay O 0..1 Identifies the start time of the day.  
timeOfDayEnd TimeOfDay O 0..1 Identifies the end time of the day.
#### C.1.4.4.2 Type: ProblemDetails
Table C.1.4.4.2-1: Definition of the ProblemDetails data type
+--------------------+-----------+-------------+--------------------+ | Attribute name | Data type | Cardinality | Description | +====================+===========+=============+====================+ | title | string | 0..1 | A short, | | | | | human-readable | | | | | summary of the | | | | | problem type. It | | | | | should not change | | | | | from occurrence to | | | | | occurrence of the | | | | | problem. | +--------------------+-----------+-------------+--------------------+ | detail | string | 0..1 | A human-readable | | | | | explanation | | | | | specific to this | | | | | occurrence of the | | | | | problem. | +--------------------+-----------+-------------+--------------------+ | instance | Uri | 0..1 | A URI reference | | | | | that identifies | | | | | the specific | | | | | occurrence of the | | | | | problem. | +--------------------+-----------+-------------+--------------------+ | cause | string | 0..1 | A machine-readable | | | | | application error | | | | | cause specific to | | | | | this occurrence of | | | | | the problem | | | | | | | | | | This IE should be | | | | | present and | | | | | provide | | | | | a | | | | | pplication-related | | | | | error information, | | | | | if available. | +--------------------+-----------+-------------+--------------------+ | NOTE 1: See | | | | | IE | | | | | TF RFC 9290 [20] | | | | | for detailed | | | | | information and | | | | | guidance for each | | | | | attribute. | | | | | | | | | | NOTE 2: Additional | | | | | attributes may be | | | | | defined per API. | | | | +--------------------+-----------+-------------+--------------------+
#### C.1.4.4.3 Type: GeographicalCoordinates
Table C.1.4.4.3-1: Definition of type GeographicalCoordinates
Attribute name Data type P Cardinality Description
* * *
lon number M 1 Longitude expressed as a number with double precision in the
range from and including value -180 to and including value 180. lat number M 1
Latitude expressed as a number with double precision in the range from and
including value -90 to and including value 90.
#### C.1.4.4.4 Type: GeographicArea
Table C.1.4.4.4-1: Definition of type GeographicArea as a list of mutually
exclusive alternatives
Data type Cardinality Discriminator property name Discriminator mapping
Description
* * *
Point 1 shape POINT Geographical area consisting of a single point,
represented by its longitude and latitude. PointUncertaintyCircle 1 shape
POINT_UNCERTAINTY_CIRCLE Geographical area consisting of a point and an
uncertainty value. PointUncertaintyEllipse 1 shape POINT_UNCERTAINTY_ELLIPSE
Geographical area consisting of a point, plus an uncertainty ellipse and a
confidence value. Polygon 1 shape POLYGON Geographical area consisting of a
list of points (between 3 to 15 points). PointAltitude 1 shape POINT_ALTITUDE
Geographical area consisting of a point and an altitude value.
PointAltitudeUncertainty 1 shape POINT_ALTITUDE_UNCERTAINTY Geographical area
consisting of a point, an altitude value and an uncertainty value.
EllipsoidArc 1 shape ELLIPSOID_ARC Geographical are consisting of an ellipsoid
arc.
#### C.1.4.4.5 Type: Point
Table C.1.4.4.5-1: Definition of type Point
Attribute name Data type P Cardinality Description
* * *
shape SupportedGADShapes M 1 It shall take the value \"POINT\". point
GeographicalCoordinates M 1 Indicates a geographic point represented by its
longitude and latitude.
#### C.1.4.4.6 Type: PointUncertaintyCircle
Table C.1.4.4.6-1: Definition of type PointUncertaintyCircle
Attribute name Data type P Cardinality Description
* * *
shape SupportedGADShapes M 1 It shall take the value
\"POINT_UNCERTAINTY_CIRCLE\". point GeographicalCoordinates M 1 Indicates a
geographic point represented by its longitude and latitude. uncertainty
Uncertainty M 1 Indicates the uncertainty value.
#### C.1.4.4.7 Type: PointUncertaintyEllipse
Table C.1.4.4.7-1: Definition of type PointUncertaintyEllipse
Attribute name Data type P Cardinality Description
* * *
shape SupportedGADShapes M 1 It shall take the value
\"POINT_UNCERTAINTY_ELLIPSE\". point GeographicalCoordinates M 1 Indicates a
geographic point represented by its longitude and latitude. uncertaintyEllipse
UncertaintyEllipse M 1 Indicates an uncertainty ellipse. confidence Confidence
M 1 Indicates the value of confidence.
#### C.1.4.4.8 Type: Polygon
Table C.1.4.4.8-1: Definition of type Polygon
Attribute name Data type P Cardinality Description
* * *
shape SupportedGADShapes M 1 It shall take the value \"POLYGON\". pointList
array(GeographicalCoordinates) M 3..15 Array with up to15 items, where each
item is a \"point\".
#### C.1.4.4.9 Type: PointAltitude
Table C.1.4.4.9-1: Definition of type PointAltitude
Attribute name Data type P Cardinality Description
* * *
shape SupportedGADShapes M 1 It shall take the value \"POINT_ALTITUDE\". point
GeographicalCoordinates M 1 Indicates a geographic point represented by its
longitude and latitude. altitude Altitude M 1 Indicates the value of altitude.
#### C.1.4.4.10 Type: PointAltitudeUncertainty
Table C.1.4.4.10-1: Definition of type PointAltitudeUncertainty
Attribute name Data type P Cardinality Description
* * *
shape SupportedGADShapes M 1 It shall take the value
\"POINT_ALTITUDE_UNCERTAINTY\". point GeographicalCoordinates M 1 Indicates a
geographic point represented by its longitude and latitude. altitude Altitude
M 1 Indicates the value of altitude. uncertaintyEllipse UncertaintyEllipse M 1
Indicates the uncertainty ellipse uncertaintyAltitude Uncertainty M 1
Indicates the uncertainty of the altitude. confidence Confidence M 1 Indicates
the value of confidence.
#### C.1.4.4.11 Type: EllipsoidArc
Table C.1.4.4.11-1: Definition of type EllipsoidArc
Attribute name Data type P Cardinality Description
* * *
shape SupportedGADShapes M 1 It shall take the value \"ELLIPSOID_ARC\". point
GeographicalCoordinates M 1 Indicates a geographic point represented by its
longitude and latitude. innerRadius InnerRadius M 1 Indicates the value of
inner radius of the Ellipsoid Arc. uncertaintyRadius Uncertainty M 1 Indicates
the uncertainty radius of the Ellipsoid Arc. offsetAngle Angle M 1 Indicates
the offset angle of the Ellipsoid Arc. includedAngle Angle M 1 Indicates the
included angle of the Ellipsoid Arc. confidence Confidence M 1 Indicates the
value of confidence.
#### C.1.4.4.12 Type: UncertaintyEllipse
Table C.1.4.4.12-1: Definition of type UncertaintyEllipse
Attribute name Data type P Cardinality Description
* * *
semiMajor Uncertainty M 1 Indicates the semi-major axis of the uncertainty
ellipse. semiMinor Uncertainty M 1 Indicates the semi-minor axis of the
uncertainty ellipse. orientationMajor Orientation M 1 Indicates the
orientation angle of the major axis.
### C.1.4.5 Common enumerations
#### C.1.4.5.1 Enumeration: SupportedGADShapes
Table C.1.4.5.1-1: Enumeration SupportedGADShapes
Enumeration value Description
* * *
POINT Ellipsoid Point POINT_UNCERTAINTY_CIRCLE Ellipsoid point with
uncertainty circle POINT_UNCERTAINTY_ELLIPSE Ellipsoid point with uncertainty
ellipse POLYGON Polygon POINT_ALTITUDE Ellipsoid point with altitude
POINT_ALTITUDE_UNCERTAINTY Ellipsoid point with altitude and uncertainty
ellipsoid ELLIPSOID_ARC Ellipsoid Arc LOCAL_2D_POINT_UNCERTAINTY_ELLIPSE Local
2D point with uncertainty ellipse LOCAL_3D_POINT_UNCERTAINTY_ELLIPSOID Local
3D point with uncertainty ellipsoid
# C.2 Resource representation and APIs for VAL user profile
## C.2.1 SU_UserProfile API
### C.2.1.1 API URI
The CoAP URIs used in CoAP requests from SCM-C towards the SCM-S shall have
the Resource URI structure as defined in clause C.1.1 with the following
clarifications:
\- the \ shall be \"su-up\";
\- the \ shall be \"v1\"; and
\- the \ shall be set as described in clause C.2.1.2.
### C.2.1.2 Resources
#### C.2.1.2.1 Overview
Figure C.2.1.2.1-1: Resource URI structure of the SU_UserProfile API
Table C.2.1.2.1-1 provides an overview of the resources and applicable CoAP
methods.
Table C.2.1.2.1-1: Resources and methods overview
Resource name Resource URI CoAP method Description
* * *
User Profiles /val-services/{valServiceId}/user-profiles GET Retrieve VAL user
or VAL UE\'s user profiles for a given VAL service, according to query
criteria. POST Create user profile. Individual User Profile /val-
services/{valServiceId}/user-profiles/{profileDocId} GET Retrieve an
individual user profile. PUT Update an individual user profile. DELETE Delete
an individual user profile.
Editor\'s note: Whether any changes required in the API along with its data
model based on limitations of constrained devices is FFS.
#### C.2.1.2.2 Resource: User Profiles
##### C.2.1.2.2.1 Description
The User Profiles resource allows a SCM-C to retrieve all the user profiles of
a VAL user or a VAL UE for a specific VAL service that are available at a
given SCM-S, or allows to create a new user profile.
##### C.2.1.2.2.2 Resource Definition
Resource URI: **{apiRoot}/su-up/\ /val-
services/{valServiceId}/user-profiles**
This resource shall support the resource URI variables defined in the table
C.2.1.2.2.2-1.
Table C.2.1.2.2.2-1: Resource URI variables for this resource
Name Data Type Definition
* * *
apiRoot string See clause C.1.1 apiVersion string See clause C.2.1.1
valServiceId string Identifier of a VAL service.
##### C.2.1.2.2.3 Resource Standard Methods
##### C.2.1.2.2.3.1 GET {#c.2.1.2.2.3.1-get .H6}
This operation retrieves VAL **u** ser or VAL UE profile information
satisfying the filter criteria.
This method shall support the URI query parameters specified in table
C.2.1.2.2.3.1-1.
Table C.2.1.2.2.3.1-1: URI query parameters supported by the GET Request on
this resource
* * *
Name Data type P Cardinality Description val-tgt-ue ValTargetUe M 1 Identifies
a VAL target UE.
* * *
This method shall support the response data structures and response codes
specified in table C.2.1.2.2.3.1-2.
Table C.2.1.2.2.3.1-2: Data structures supported by the GET Response payload
on this resource
+---------------+---+-------------+--------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+--------------+---------------+ | arra | M | 0..N | 2.05 Content | List of VAL | | y(ProfileDoc) | | | | user / VAL UE | | | | | | profile | | | | | | documents. | | | | | | This response | | | | | | shall include | | | | | | user profile | | | | | | information | | | | | | matching the | | | | | | query | | | | | | parameters | | | | | | provided in | | | | | | the request. | +---------------+---+-------------+--------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | CoAP error | | | | | | status codes | | | | | | for the GET | | | | | | Request | | | | | | listed in | | | | | | table C.1.3-1 | | | | | | shall also | | | | | | apply. | | | | | +---------------+---+-------------+--------------+---------------+
##### C.2.1.2.2.3.2 POST {#c.2.1.2.2.3.2-post .H6}
This operation creates a VAL user or VAL UE profile information at the SCM-S
for a given VAL service.
This method shall support the request data structures specified in table
C.2.1.2.2.3.2-1, the response data structures and response codes specified in
table C.2.1.2.2.3.2-2, and the response options specified in table
C.2.1.2.2.3.2-3.
Table C.2.1.2.2.3.2-1: Data structures supported by the POST Request payload
on this resource
* * *
Data type P Cardinality Description ProfileDoc M 1 The user profile document
to be created for a VAL user or VAL UE.
* * *
Table C.2.1.2.2.3.2-2: Data structures supported by the POST Response payload
on this resource
+---------------+---+-------------+--------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+--------------+---------------+ | ProfileDoc | O | 0..1 | 2.01 Created | The user | | | | | | profile was | | | | | | created | | | | | | successfully. | | | | | | | | | | | | The | | | | | | \"p | | | | | | rofileDocId\" | | | | | | of the | | | | | | created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Lo | | | | | | cation-Path\" | | | | | | option. | +---------------+---+-------------+--------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | CoAP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table C.1.3-1 | | | | | | shall also | | | | | | apply. | | | | | +---------------+---+-------------+--------------+---------------+
Table C.2.1.2.2.3.2-3: Options supported by the 2.01 Response Code on this
resource
+---------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +---------------+-----------+---+-------------+-----------------+ | Location-Path | string | M | 1 | Contains the | | | | | | location path | | | | | | of the newly | | | | | | created | | | | | | resource | | | | | | relative to the | | | | | | request URI. | | | | | | | | | | | | It contains the | | | | | | profileDocId | | | | | | segment of the | | | | | | complete | | | | | | resource URI | | | | | | according to | | | | | | the structure: | | | | | | {apiRoot}/su | | | | | | -up/\/val-service | | | | | | s/{valServiceId | | | | | | }/user-profiles | | | | | | /{profileDocId} | +---------------+-----------+---+-------------+-----------------+
#### C.2.1.2.3 Resource: Individual User Profile
##### C.2.1.2.3.1 Description
The Individual User Profile resource represents an individual user profile
that is created at the SCM-S for a given VAL service. This resource is
observable.
##### C.2.1.2.3.2 Resource Definition
Resource URI: **{apiRoot}/su-up/\ /val-
services/{valServiceId}/user-profiles/{profileDocId}**
This resource shall support the resource URI variables defined in the table
C.2.1.2.3.2-1.
Table C.2.1.2.3.2-1: Resource URI variables for this resource
Name Data Type Definition
* * *
apiRoot string See clause C.1.1 apiVersion string See clause C.2.1.1
valServiceId string Identifier of a VAL service. profileDocId string
Represents an individual user profile resource.
##### C.2.1.2.3.3 Resource Standard Methods
##### C.2.1.2.3.3.1 GET {#c.2.1.2.3.3.1-get .H6}
This operation retrieves the user profile document.
This method shall support the request options specified in table
C.2.1.2.3.3.1-1, the response data structures and response codes specified in
table C.2.1.2.3.3.1-2, and the response options specified in table
C.2.1.2.3.3.1-3.
Table C.2.1.2.3.3.1-1: Options supported by the GET Request on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Observe | Uinteger | O | 0..1 | When set to 0 | | | | | | (Register) it | | | | | | extends the GET | | | | | | request to | | | | | | subscribe to | | | | | | the changes of | | | | | | this resource. | | | | | | | | | | | | When set to 1 | | | | | | (Deregister) it | | | | | | cancels the | | | | | | subscription. | +-----------------+-----------+---+-------------+-----------------+ | NOTE: Other | | | | | | request options | | | | | | also apply in | | | | | | accordance with | | | | | | normal CoAP | | | | | | procedures. | | | | | +-----------------+-----------+---+-------------+-----------------+
Table C.2.1.2.3.3.1-2: Data structures supported by the GET Response payload
on this resource
+---------------+---+-------------+--------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+--------------+---------------+ | ProfileDoc | M | 1 | 2.05 Content | The User | | | | | | profile | | | | | | information | | | | | | based on the | | | | | | request from | | | | | | the SCM-C. | +---------------+---+-------------+--------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | CoAP error | | | | | | status codes | | | | | | for the GET | | | | | | Request | | | | | | listed in | | | | | | table C.1.3-1 | | | | | | shall also | | | | | | apply. | | | | | +---------------+---+-------------+--------------+---------------+
Table C.2.1.2.3.3.1-3: Options supported by the 2.05 Response Code on this
resource
* * *
Name Data type P Cardinality Description Observe Uinteger O 0..1 Sequence
number of the notification. NOTE: Other response options also apply in
accordance with normal CoAP procedures.
* * *
##### C.2.1.2.3.3.2 PUT {#c.2.1.2.3.3.2-put .H6}
This operation updates the user profile document.
This method shall support the request data structures specified in table
C.2.1.2.3.3.2-1 and the response data structures and response codes specified
in table C.2.1.2.3.3.2-2.
Table C.2.1.2.3.3.2-1: Data structures supported by the PUT Request payload on
this resource
* * *
Data type P Cardinality Description ProfileDoc M 1 Updated details of the user
profile document.
* * *
Table C.2.1.2.3.3.2-2: Data structures supported by the PUT Response payload
on this resource
+---------------+---+-------------+--------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+--------------+---------------+ | ProfileDoc | O | 0..1 | 2.04 Changed | The user | | | | | | profile | | | | | | document | | | | | | updated | | | | | | successfully | | | | | | and the | | | | | | updated user | | | | | | profile | | | | | | document may | | | | | | be returned | | | | | | in the | | | | | | response. | +---------------+---+-------------+--------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | CoAP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table C.1.3-1 | | | | | | shall also | | | | | | apply. | | | | | +---------------+---+-------------+--------------+---------------+
##### C.2.1.2.3.3.3 DELETE {#c.2.1.2.3.3.3-delete .H6}
This operation deletes the user profile document.
This method shall support the response data structures and response codes
specified in table C.2.1.2.3.3.3-1.
Table C.2.1.2.3.3.3-1: Data structures supported by the DELETE Response
payload on this resource
+---------------+---+-------------+--------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+--------------+---------------+ | n/a | | | 2.02 Deleted | The | | | | | | individual | | | | | | User profile | | | | | | document | | | | | | matching the | | | | | | profileDocId | | | | | | is deleted. | +---------------+---+-------------+--------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | CoAP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table C.1.3-1 | | | | | | shall also | | | | | | apply. | | | | | +---------------+---+-------------+--------------+---------------+
### C.2.1.3 Data Model
#### C.2.1.3.1 General
Table C.2.1.3.1-1 specifies the data types defined specifically for the
SU_UserProfile API service.
Table C.2.1.3.1-1: SU_UserProfile API specific Data Types
Data type Section defined Description Applicability
* * *
ProfileDoc C.2.1.3.2.1 Profile information associated with VAL user ID or VAL
UE ID.  
ProfileInfo C.2.1.3.2.2 Profile information including profile configurations.  
ProfileConfig C.2.1.3.2.3 Profile configuration including configuration data.  
ConfigType C.2.1.3.3.1 Specifies type of features for which the configuration
data is applicable.  
ValTargetUe C.2.1.3.2.4 Information identifying a VAL user ID or VAL UE ID.
#### C.2.1.3.2 Structured data types
##### C.2.1.3.2.1 Type: ProfileDoc
Table C.2.1.3.2.1-1: Definition of type ProfileDoc
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | pro | string | O | 0..1 | Contains | | | fileDocId | | | | the | | | | | | | pro | | | | | | | fileDocId | | | | | | | of the | | | | | | | complete | | | | | | | resource | | | | | | | URI of | | | | | | | this user | | | | | | | profile | | | | | | | document | | | | | | | according | | | | | | | to the | | | | | | | s | | | | | | | tructure: | | | | | | | {apiRo | | | | | | | ot}/su-up | | | | | | | /\/va | | | | | | | l-service | | | | | | | s/{valSer | | | | | | | viceId}/u | | | | | | | ser-profi | | | | | | | les/{prof | | | | | | | ileDocId} | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | by the | | | | | | | SCM-S in | | | | | | | CoAP | | | | | | | r | | | | | | | esponses. | | +-----------+-----------+---+-----------+-----------+-----------+ | profileIn | Pr | M | 1 | Profile | | | formation | ofileInfo | | | in | | | | | | | formation | | | | | | | a | | | | | | | ssociated | | | | | | | with a | | | | | | | VAL user | | | | | | | or a VAL | | | | | | | UE as | | | | | | | specified | | | | | | | in | | | | | | | valTgtUe. | | +-----------+-----------+---+-----------+-----------+-----------+ | valTgtUe | Va | M | 1 | Unique | | | | lTargetUe | | | i | | | | | | | dentifier | | | | | | | of a VAL | | | | | | | user or a | | | | | | | VAL UE. | | +-----------+-----------+---+-----------+-----------+-----------+
##### C.2.1.3.2.2 Type: ProfileInfo
Table C2.1.4.2.2-1: Definition of type ProfileInfo
Attribute name Data type P Cardinality Description Applicability
* * *
profileName string O 0..1 Name of the user profile.  
status boolean M 1 Indicates whether the user profile is enabled or disabled.  
profileConfigs) Array(ProfileConfig) O 1..N List of profile configurations.  
isDefault boolean O 0..1 Indicates whether the user profile is the default
profile for VAL user or not.
##### C.2.1.3.2.3 Type: ProfileConfig
Table C.2.1.3.2.3-1: Definition of type ProfileConfig
Attribute name Data type P Cardinality Description Applicability
* * *
configType ConfigType M 1 Indicates the type of the profile configuration.  
configData string M 1 Actual user profile configuration data.
##### C.2.1.3.2.4 Type: ValTargetUe
Table C.2.1.3.2.4-1: Definition of type ValTargetUe
Attribute name Data type P Cardinality Description Applicability
* * *
valUserId string O 0..1 Unique identifier of a VAL user.  
valUeId string O 0..1 Unique identifier of a VAL UE.  
NOTE: Either \"valUserId\" or \"valUeId\" shall be present.
#### C.2.1.3.3 Simple data types and enumerations
##### C.2.1.3.3.1 Enumeration: ConfigType
Table C.2.1.3.3.1-1: Enumeration ConfigType
Enumeration value Description **Applicability**
* * *
COMMON Indicates VAL service specific configuration for common features.  
ON_NETWORK Indicates VAL service specific configuration for on-network
features.  
OFF_NETWORK Indicates VAL service specific configuration for off-network
features.
### C.2.1.4 Error Handling
General error responses are defined in clause C.1.3.
### C.2.1.5 CDDL Specification
#### C.2.1.5.1 Introduction
The data model described in clause C.2.1.3 shall be binary encoded in the CBOR
format as described in IETF RFC 8949 [17].
Clause C.2.1.5.2 uses the Concise Data Definition Language described in IETF
RFC 8610 [18] and provides corresponding representation of the SU_UserProfile
API data model.
#### C.2.1.5.2 CDDL document
;;; ProfileDoc
;;+ Represents user profile information associated with a VAL user ID or a VAL
UE ID.
ProfileDoc = {
? profileDocId: text
profileInformation: ProfileInfo
valTgtUe: ValTargetUe
}
;;; ValTargetUe
;;+ Represents information identifying a VAL user ID or a VAL UE ID.
ValTargetUe = {
(
valUserId: text ; Unique identifier of a VAL user.
//
valUeId: text ; Unique identifier of a VAL UE.
)
}
;;; ProfileInfo
;;+ User profile information.
ProfileInfo = {
? profileName: text ; Name of the profile
status: bool ; Indicates whether the user profile is enabled or disabled.
? profileConfigs: [+ ProfileConfig]
? isDefault: bool ; Indicates whether the user profile is the default profile
for VAL user or not.
}
;;; ProfileConfig
;;+ Profile configuration.
ProfileConfig = {
configType: ConfigType
configData: text ; Actual user profile configuration data.
}
;;; ConfigType
;;+ Indicates the type of the configuration.
ConfigType = \"COMMON\" / \"ON_NETWORK\" / \"OFF_NETWORK\" / text ; text value
provides forward-compatibility with future extensions to the enumeration but
is not used to encode content defined in the present version of this API.
### C.2.1.6 Media Type
The media type for a user profile document shall be
\"application/vnd.3gpp.seal-user-profile-info+cbor\".
Editor\'s Note: It is possible to specify other payload format for CoAP than
CBOR, and the details about other payload format is FFS.
### C.2.1.7 Media Type registration for application/vnd.3gpp.seal-user-
profile-info+cbor
Type name: application
Subtype name: vnd.3gpp.seal-user-profile-info+cbor
Required parameters: none
Optional parameters: none
Encoding considerations: Must be encoded as using IETF RFC 8949 [17]. See 3GPP
TS 24.546 clause C.2.1.3 for details.
Security considerations: See Section 10 of IETF RFC 8949 [17] and Section 11
of IETF RFC 7252 [12].
Interoperability considerations: Applications must ignore any key-value pairs
that they do not understand. This allows backwards-compatible extensions to
this specification.
Published specification: 3GPP TS 24.546 \"Configuration management - Service
Enabler Architecture Layer for Verticals (SEAL); Protocol specification\",
available via http://www.3gpp.org/specs/numbering.htm.
Applications that use this media type: Applications supporting the SEAL
configuration management procedures as described in the published
specification.
Fragment identifier considerations: Fragment identification is the same as
specified for \"application/cbor\" media type in IETF RFC 8949 [17]. Note that
currently that RFC does not define fragmentation identification syntax for
\"application/cbor\".
Additional information:
Deprecated alias names for this type: N/A
Magic number(s): N/A
File extension(s): none
Macintosh file type code(s): none
Person & email address to contact for further information: \, \
Intended usage: COMMON
Restrictions on usage: None
Author: 3GPP CT1 Working Group/3GPP_TSG_CT_WG1\@LIST.ETSI.ORG
Change controller: \/\
# C.3 Resource representation and APIs for UE configuration
## C.3.1 SU_UeConfig API
### C.3.1.1 API URI
The CoAP URIs used in CoAP requests from SCM-C towards the SCM-S shall have
the Resource URI structure as defined in clause C.1.1 with the following
clarifications:
\- the \ shall be \"su-uc\";
\- the \ shall be \"v1\"; and
\- the \ shall be set as described in clause C.3.1.2.
### C.3.1.2 Resources
#### C.3.1.2.1 Overview
Figure C.3.1.2.1-1: Resource URI structure of the SU_UeConfig API
Table C.3.1.2.1-1 provides an overview of the resources and applicable CoAP
methods.
Table C.3.1.2.1-1: Resources and methods overview
Resource name Resource URI CoAP method Description
* * *
UE Configurations /val-services/{valServiceId}/ue-configurations GET Retrieve
UE configurations for a given VAL service, according to query criteria. POST
Create UE configuration. Individual UE Configuration /val-
services/{valServiceId}/ue-configurations/{ueConfigDocId} GET Retrieve an
individual UE configuration. PUT Update an individual UE configuration. DELETE
Delete an individual UE configuration.
Editor\'s note: Whether any changes required in the API along with its data
model based on limitations of constrained devices is FFS.
#### C.3.1.2.2 Resource: UE Configurations
##### C.3.1.2.2.1 Description
The UE Configurations resource allows a SCM-C to retrieve all the UE
configurations of a VAL service domain (e.g. based on device type, device
vendor, device number, etc) for a specific VAL service that are available at a
given SCM-S.
##### C.3.1.2.2.2 Resource Definition
Resource URI: **{apiRoot}/su-uc/\ /val-services/{valServiceId}/ue-
configurations**
This resource shall support the resource URI variables defined in the table
C.3.1.2.2.2-1.
Table C.3.1.2.2.2-1: Resource URI variables for this resource
Name Data Type Definition
* * *
apiRoot string See clause C.1.1 apiVersion string See clause C3.1.1
valServiceId string Identifier of a VAL service.
##### C.3.1.2.2.3 Resource Standard Methods
##### C.3.1.2.2.3.1 GET {#c.3.1.2.2.3.1-get .H6}
This operation retrieves UE configurations satisfying the query criteria.
This method shall support the URI query parameters specified in table
C.3.1.2.2.3.1-1.
Table C.3.1.2.2.3.1-1: URI query parameters supported by the GET Request on
this resource
* * *
Name Data type P Cardinality Description ue-vendor string O 0..1 Identity of
the UE vendor. ue-type TypeAllocationCode O 0..1 Type of the UE. ue-snr
SerialNumber O 0..1 Serial number of the UE. ue-uri Uri O 0..1 URI of the UE.
* * *
This method shall support the response data structures and response codes
specified in table C.3.1.2.2.3.1-2.
Table C.3.1.2.2.3.1-2: Data structures supported by the GET Response payload
on this resource
+---------------+---+-------------+--------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+--------------+---------------+ | array | M | 0..N | 2.05 Content | List of UE | | (UeConfigDoc) | | | | configuration | | | | | | documents | | | | | | matching any | | | | | | of the query | | | | | | parameters | | | | | | provided in | | | | | | the request. | | | | | | If no query | | | | | | parameters | | | | | | are given, | | | | | | all the UE | | | | | | configuration | | | | | | documents are | | | | | | returned. | +---------------+---+-------------+--------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | CoAP error | | | | | | status codes | | | | | | for the GET | | | | | | Request | | | | | | listed in | | | | | | table C.1.3-1 | | | | | | shall also | | | | | | apply. | | | | | +---------------+---+-------------+--------------+---------------+
##### C.3.1.2.2.3.2 POST {#c.3.1.2.2.3.2-post .H6}
This operation creates a UE configuration at the SCM-S for a given VAL
service.
This method shall support the request data structures specified in table
C.3.1.2.2.3.2-1, the response data structures and response codes specified in
table C.3.1.2.2.3.2-2, and the response options specified in table
C.3.1.2.2.3.2-3.
Table C.3.1.2.2.3.2-1: Data structures supported by the POST Request payload
on this resource
* * *
Data type P Cardinality Description UeConfigDoc M 1 The UE configuration to be
created.
* * *
Table C.3.1.2.2.3.2-2: Data structures supported by the POST Response payload
on this resource
+---------------+---+-------------+--------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+--------------+---------------+ | UeConfigDoc | O | 0..1 | 2.01 Created | The UE | | | | | | configuration | | | | | | was created | | | | | | successfully. | | | | | | | | | | | | The | | | | | | \"ue | | | | | | ConfigDocId\" | | | | | | of the | | | | | | created | | | | | | resource | | | | | | shall be | | | | | | returned in | | | | | | the | | | | | | \"Lo | | | | | | cation-Path\" | | | | | | option. | +---------------+---+-------------+--------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | CoAP error | | | | | | status codes | | | | | | for the POST | | | | | | method listed | | | | | | in | | | | | | table C.1.3-1 | | | | | | shall also | | | | | | apply. | | | | | +---------------+---+-------------+--------------+---------------+
Table C.3.1.2.2.3.2-3: Options supported by the 2.01 Response Code on this
resource
+---------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +---------------+-----------+---+-------------+-----------------+ | Location-Path | string | M | 1 | Contains the | | | | | | location path | | | | | | of the newly | | | | | | created | | | | | | resource | | | | | | relative to the | | | | | | request URI. | | | | | | | | | | | | It contains the | | | | | | ueConfigDocId | | | | | | segment of the | | | | | | complete | | | | | | resource URI | | | | | | according to | | | | | | the structure: | | | | | | {a | | | | | | piRoot}/su-uc/\ | | | | | | /v | | | | | | al-services/{va | | | | | | lServiceId}/ue- | | | | | | configurations/ | | | | | | {ueConfigDocId} | +---------------+-----------+---+-------------+-----------------+
#### C.3.1.2.3 Resource: Individual UE Configuration
##### C.3.1.2.3.1 Description
The Individual UE Configuration resource represents an individual UE
configuration stored at the SCM-S for a given VAL service. This resource is
observable.
##### C.3.1.2.3.2 Resource Definition
Resource URI: **{apiRoot}/su-uc/\ /val-services/{valServiceId}/ue-
configurations/{ueConfigDocId}**
This resource shall support the resource URI variables defined in the table
C.3.1.2.3.2-1.
Table C.3.1.2.3.2-1: Resource URI variables for this resource
Name Data Type Definition
* * *
apiRoot string See clause C.1.1 apiVersion string See clause C.2.1.1
valServiceId string Identifier of a VAL service. ueConfigDocId string
Represents an individual UE configuration resource.
##### C.3.1.2.3.3 Resource Standard Methods
##### C.3.1.2.3.3.1 GET {#c.3.1.2.3.3.1-get .H6}
This operation retrieves the UE configuration document.
This method shall support the request options specified in table
C.3.1.2.3.3.1-1, the response data structures and response codes specified in
table C.3.1.2.3.3.1-2, and the response options specified in table
C.3.1.2.3.3.1-3.
Table C.3.1.2.3.3.1-1: Options supported by the GET Request on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Observe | Uinteger | O | 0..1 | When set to 0 | | | | | | (Register) it | | | | | | extends the GET | | | | | | request to | | | | | | subscribe to | | | | | | the changes of | | | | | | this resource. | | | | | | | | | | | | When set to 1 | | | | | | (Deregister) it | | | | | | cancels the | | | | | | subscription. | +-----------------+-----------+---+-------------+-----------------+ | NOTE: Other | | | | | | request options | | | | | | also apply in | | | | | | accordance with | | | | | | normal CoAP | | | | | | procedures. | | | | | +-----------------+-----------+---+-------------+-----------------+
Table C.3.1.2.3.3.1-2: Data structures supported by the GET Response payload
on this resource
+---------------+---+-------------+--------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+--------------+---------------+ | UeConfigDoc | M | 1 | 2.05 Content | The UE | | | | | | configuration | | | | | | based on the | | | | | | request from | | | | | | the SCM-C. | +---------------+---+-------------+--------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | CoAP error | | | | | | status codes | | | | | | for the GET | | | | | | Request | | | | | | listed in | | | | | | table C.1.3-1 | | | | | | shall also | | | | | | apply. | | | | | +---------------+---+-------------+--------------+---------------+
Table C.3.1.2.3.3.1-3: Options supported by the 2.05 Response Code on this
resource
* * *
Name Data type P Cardinality Description Observe Uinteger O 0..1 Sequence
number of the notification. NOTE: Other response options also apply in
accordance with normal CoAP procedures.
* * *
##### C.3.1.2.3.3.2 PUT {#c.3.1.2.3.3.2-put .H6}
This operation updates the UE configuration document.
This method shall support the request data structures specified in table
C.3.1.2.3.3.2-1 and the response data structures and response codes specified
in table C.3.1.2.3.3.2-2.
Table C.3.1.2.3.3.2-1: Data structures supported by the PUT Request payload on
this resource
* * *
Data type P Cardinality Description UeConfigDoc M 1 Updated details of the UE
configuration document.
* * *
Table C.3.1.2.3.3.2-2: Data structures supported by the PUT Response payload
on this resource
+---------------+---+-------------+--------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+--------------+---------------+ | UeConfigDoc | O | 1 | 2.04 Changed | The UE | | | | | | configuration | | | | | | document | | | | | | updated | | | | | | successfully | | | | | | and the | | | | | | updated UE | | | | | | configuration | | | | | | document may | | | | | | be returned | | | | | | in the | | | | | | response. | +---------------+---+-------------+--------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | CoAP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table C.1.3-1 | | | | | | shall also | | | | | | apply. | | | | | +---------------+---+-------------+--------------+---------------+
##### C.3.1.2.3.3.3 DELETE {#c.3.1.2.3.3.3-delete .H6}
This operation deletes the UE configuration document.
This method shall support the response data structures and response codes
specified in table C.3.1.2.3.3.3-1.
Table C.3.1.2.3.3.3-1: Data structures supported by the DELETE Response
payload on this resource
+---------------+---+-------------+--------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+--------------+---------------+ | n/a | | | 2.02 Deleted | The | | | | | | individual UE | | | | | | configuration | | | | | | document | | | | | | matching the | | | | | | ueConfigDocId | | | | | | is deleted. | +---------------+---+-------------+--------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | CoAP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table C.1.3-1 | | | | | | shall also | | | | | | apply. | | | | | +---------------+---+-------------+--------------+---------------+
### C.3.1.3 Data Model
#### C.3.1.3.1 General
Table C.3.1.3.1-1 specifies the data types defined specifically for the
SU_UeConfig resource representation.
Table C.3.1.3.1-1: SU_UeConfig API specific data types
Data type Section defined Description Applicability
* * *
UeConfigDoc C.3.1.3.2.1 UE configuration document.  
UeConfig C.3.1.3.2.2 UE configuration including configuration data.  
ValUeIds C.3.1.3.2.3 VAL UE identifiers.  
ImeiRange C.3.1.3.2.4 Range of IMEIs.  
SnrRange C.3.1.3.2.5 Range of UE serial numbers.  
SerialNumber C.3.1.3.3.1 Serial number of a UE.  
TypeAllocationCode C.3.1.3.3.1 Type allocation code.
Table C.3.1.3.1-2 specifies data types re-used by the SU_UeConfig API service:
Table C.3.1.3.1-2: Reused data types
Data type Reference Comments Applicability
* * *
ConfigType C.2.1.3.3.1 Configuration type.  
Uri C.1.4.3 Unified resource identifier.
#### C.3.1.3.2 Structured data types
##### C.3.1.3.2.1 Type: UeConfigDoc
Table C.3.1.3.2.1-1: Definition of type UeConfigDoc
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | ueCo | string | O | 0..1 | Contains | | | nfigDocId | | | | the | | | | | | | ueCo | | | | | | | nfigDocId | | | | | | | of the | | | | | | | complete | | | | | | | resource | | | | | | | URI of | | | | | | | this UE | | | | | | | conf | | | | | | | iguration | | | | | | | document | | | | | | | according | | | | | | | to the | | | | | | | s | | | | | | | tructure: | | | | | | | {a | | | | | | | piRoot}/s | | | | | | | u-uc/\/val-ser | | | | | | | vices/{va | | | | | | | lServiceI | | | | | | | d}/ue-con | | | | | | | figuratio | | | | | | | ns/{ueCon | | | | | | | figDocId} | | | | | | | | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | provided | | | | | | | by the | | | | | | | SCM-S in | | | | | | | CoAP | | | | | | | r | | | | | | | esponses. | | +-----------+-----------+---+-----------+-----------+-----------+ | c | string | O | | Di | | | onfigName | | | | splayable | | | | | | | name of | | | | | | | the UE | | | | | | | conf | | | | | | | iguration | | | | | | | document. | | +-----------+-----------+---+-----------+-----------+-----------+ | valServ | string | M | 1 | Domain | | | iceDomain | | | | name of | | | | | | | the VAL | | | | | | | service | | | | | | | for which | | | | | | | the | | | | | | | conf | | | | | | | iguration | | | | | | | document | | | | | | | is | | | | | | | ap | | | | | | | plicable. | | +-----------+-----------+---+-----------+-----------+-----------+ | val | string | O | 0..1 | VAL | | | ServiceId | | | | service | | | | | | | identity | | | | | | | for which | | | | | | | the | | | | | | | conf | | | | | | | iguration | | | | | | | document | | | | | | | is | | | | | | | ap | | | | | | | plicable. | | +-----------+-----------+---+-----------+-----------+-----------+ | valUeIds | ValUeIds | O | 0..1 | Defines a | | | | | | | set of | | | | | | | VAL UE | | | | | | | IDs for | | | | | | | which the | | | | | | | conf | | | | | | | iguration | | | | | | | document | | | | | | | is | | | | | | | ap | | | | | | | plicable. | | +-----------+-----------+---+-----------+-----------+-----------+ | ueConfigs | array( | O | 1..N | List of | | | | UeConfig) | | | UE | | | | | | | confi | | | | | | | gurations | | | | | | | of | | | | | | | different | | | | | | | conf | | | | | | | iguration | | | | | | | types, | | | | | | | i.e. | | | | | | | there | | | | | | | shall not | | | | | | | be 2 | | | | | | | conf | | | | | | | iguration | | | | | | | with the | | | | | | | same | | | | | | | value of | | | | | | | co | | | | | | | nfigType. | | +-----------+-----------+---+-----------+-----------+-----------+
##### C.3.1.3.2.2 Type: UeConfig
Table C.3.1.3.2.2-1: Definition of type UeConfig
Attribute name Data type P Cardinality Description Applicability
* * *
configType ConfigType (NOTE) M 1 Indicates the type of the UE configuration.  
configData string M 1 Actual UE configuration data.  
NOTE: Only the values COMMON and ON_NETWORK are applicable in the present
specification.
##### C.3.1.3.2.3 Type: ValUeIds
Table C.3.1.3.2.3-1: Definition of type ValUeIds
Attribute name Data type P Cardinality Description Applicability
* * *
uris array(Uri) O 1..N List of VAL UE identities, each identity defined by a
URI.  
imeiRanges array(ImeiRange) O 1..N List of IMEI ranges.
##### C.3.1.3.2.4 Type: ImeiRange
Table C.3.1.3.2.4-1: Definition of type ImeiRange
Attribute name Data type P Cardinality Description Applicability
* * *
tac TypeAllocationCode M 1 Type allocation code of the UEs.  
snrs array(SerialNumber) O 1..N List of UE serial numbers.  
snrRange SnrRange O 0..1 Range of UE serial numbers.
##### C.3.1.3.2.5 Type: SnrRange
Table C.3.1.3.2.5-1: Definition of type SnrRange
Attribute name Data type P Cardinality Description Applicability
* * *
low SerialNumber M 1 First UE serial number identifying the start of a UE
serial number range.  
high SerialNumber M 1 Last UE serial number identifying the end of a UE serial
number range.
#### C.3.1.3.3 Simple data types and enumerations
##### C.3.1.3.3.1 Simple data types
Table C.3.1.3.3.1-1: Simple data types
+--------------------+-----------------+-----------------------------+ | Type Name | Type Definition | Description | +--------------------+-----------------+-----------------------------+ | TypeAllocationCode | string | Type Allocation Code (TAC) | | | | of the UE, comprising the | | | | initial eight-digit portion | | | | of the 15-digit IMEI and | | | | 16-digit IMEISV codes. See | | | | clause 6.2 of | | | | 3GPP TS 23.003 [26]. | | | | | | | | Pattern: \'\^[0-9]{8}\$\' | +--------------------+-----------------+-----------------------------+ | SerialNumber | string | Serial number of the UE, | | | | comprising the six-digit | | | | portion of the 15-digit | | | | IMEI and 16-digit IMEISV | | | | codes. See clause 6.2 of | | | | 3GPP TS 23.003 [26]. | | | | Leading 0s may be excluded. | | | | | | | | Pattern: | | | | \'\^[0-9]{1,6}\$\' | +--------------------+-----------------+-----------------------------+
### C.3.1.4 Error Handling
General error responses are defined in clause C.1.3.
### C.3.1.5 CDDL Specification
#### C.3.1.5.1 Introduction
The data model described in clause C.3.1.3 shall be binary encoded in the CBOR
format as described in IETF RFC 8949 [17].
Clause C.3.1.5.2 uses the Concise Data Definition Language described in IETF
RFC 8610 [18] and provides corresponding representation of the SU_UeConfig API
data model.
#### C.3.1.5.2 CDDL document
;;; UeConfigDoc
;;+ Represents UE configuration information associated with a VAL service.
UeConfigDoc = {
? UeConfigDocId: text
? configName: text ; Name of the config
valServiceDomain: text
? valServiceId: text
? valUeIds: ValUeIds
? ueConfigs: [+ UeConfig]
}
;;; UeConfig
;;+ UE configuration.
UeConfig = {
configType: ConfigType
configData: text ; Actual UE configuration data.
}
;;; ConfigType
;;+ Indicates the type of the UE configuration.
ConfigType = \"COMMON\" / \"ON_NETWORK\" / text ; text value provides forward-
compatibility with future extensions to the enumeration but is not used to
encode content defined in the present version of this API.
;;; ValUeIds
;;+ VAL UE identities for which the UE configuration is applicable.
ValUeIds = {
? uris: [+ Uri]
? imeiRanges: [+ ImeiRange]
}
;;; ImeiRange
;;+ Defines a range of IMEIs.
ImeiRange = {
tac: TypeAllocationCode
? snrs: [+ SerialNumber]
? snrRange: SnrRange
}
;;; SnrRange
;;+ Defines a range of SerialNumbers.
SnrRange = {
low: SerialNumber
high: SerialNumber
}
;;; TypeAllocationCode
;;+ Type Allocation Code.
TypeAllocationCode = text .regexp \"[0-9]{8}\"
;;; SerialNumber
;;+ Serial Number.
SerialNumber = text .regexp \"[0-9]{1,6}\" ;
;;; Uri
;;+ URI
Uri = text ; formatted according to RFC 3986
### C.3.1.6 Media Type
The media type for a user profile document shall be
\"application/vnd.3gpp.seal-ue-config-info+cbor\".
Editor\'s Note: It is possible to specify other payload format for CoAP than
CBOR, and the details about other payload format is FFS.
### C.3.1.7 Media Type registration for application/vnd.3gpp.seal-ue-config-
info+cbor
Type name: application
Subtype name: vnd.3gpp.seal-ue-config-info+cbor
Required parameters: none
Optional parameters: none
Encoding considerations: Must be encoded as using IETF RFC 8949 [17]. See 3GPP
TS 24.546 clause C.3.1.3 for details.
Security considerations: See Section 10 of IETF RFC 8949 [17] and Section 11
of IETF RFC 7252 [12].
Interoperability considerations: Applications must ignore any key-value pairs
that they do not understand. This allows backwards-compatible extensions to
this specification.
Published specification: 3GPP TS 24.546 \"Configuration management - Service
Enabler Architecture Layer for Verticals (SEAL); Protocol specification\",
available via http://www.3gpp.org/specs/numbering.htm.
Applications that use this media type: Applications supporting the SEAL
configuration management procedures as described in the published
specification.
Fragment identifier considerations: Fragment identification is the same as
specified for \"application/cbor\" media type in IETF RFC 8949 [17]. Note that
currently that RFC does not define fragmentation identification syntax for
\"application/cbor\".
Additional information:
Deprecated alias names for this type: N/A
Magic number(s): N/A
File extension(s): none
Macintosh file type code(s): none
Person & email address to contact for further information: \, \
Intended usage: COMMON
Restrictions on usage: None
Author: 3GPP CT1 Working Group/3GPP_TSG_CT_WG1\@LIST.ETSI.ORG
Change controller: \/\
#