# Foreword
This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
In the present document, modal verbs have the following meanings:
**shall** indicates a mandatory requirement to do something
**shall not** indicates an interdiction (prohibition) to do something
The constructions \"shall\" and \"shall not\" are confined to the context of
normative provisions, and do not appear in Technical Reports.
The constructions \"must\" and \"must not\" are not used as substitutes for
\"shall\" and \"shall not\". Their use is avoided insofar as possible, and
they are not used in a normative context except in a direct citation from an
external, referenced, non-3GPP document, or so as to maintain continuity of
style when extending or modifying the provisions of such a referenced
document.
**should** indicates a recommendation to do something
**should not** indicates a recommendation not to do something
**may** indicates permission to do something
**need not** indicates permission not to do something
The construction \"may not\" is ambiguous and is not used in normative
elements. The unambiguous constructions \"might not\" or \"shall not\" are
used instead, depending upon the meaning intended.
**can** indicates that something is possible
**cannot** indicates that something is impossible
The constructions \"can\" and \"cannot\" are not substitutes for \"may\" and
\"need not\".
**will** indicates that something is certain or expected to happen as a result
of action taken by an agency the behaviour of which is outside the scope of
the present document
**will not** indicates that something is certain or expected not to happen as
a result of action taken by an agency the behaviour of which is outside the
scope of the present document
**might** indicates a likelihood that something will happen as a result of
action taken by some agency the behaviour of which is outside the scope of the
present document
**might not** indicates a likelihood that something will not happen as a
result of action taken by some agency the behaviour of which is outside the
scope of the present document
In addition:
**is** (or any other verb in the indicative mood) indicates a statement of
fact
**is not** (or any other negative verb in the indicative mood) indicates a
statement of fact
The constructions \"is\" and \"is not\" do not indicate requirements.
# 1 Scope
The present document specifies the protocol aspects for the network resource
management capability of SEAL to support vertical applications (e.g. V2X) over
the 3GPP system.
The present document is applicable to the user equipment (UE) supporting the
network resource management client functionality as described in 3GPP TS
23.434 [2], to the application server supporting the network resource
management server functionality as described in 3GPP TS 23.434 [2] and to the
application server supporting the vertical application server (VAL server)
functionality as defined in the specific vertical application service (VAL
service) specifications.
NOTE: The specification of the VAL server for a specific VAL service is out of
scope of present document.
# 2 References {#references-1}
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document in the same
Release as the present document.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.434: \"Service Enabler Architecture Layer for Verticals (SEAL);
Functional architecture and information flows\".
[3] 3GPP TS 23.003: \"Numbering, addressing and identification\".
[4] 3GPP TS 23.203: \"Policy and charging control architecture\".
[5] 3GPP TS 24.008: \"Mobile Radio Interface Layer 3 specification; Core
Network Protocols; Stage 3\".
[6] 3GPP TS 24.229: \"IP multimedia call control protocol based on Session
Initiation Protocol (SIP) and Session Description Protocol (SDP); Stage 3\".
[7] 3GPP TS 24.486: \"Vehicle-to-Everything (V2X) Application Enabler (VAE)
layer; Protocol aspects; Stage 3\".
[8] 3GPP TS 24.545: \"Location Management - Service Enabler Architecture Layer
for Verticals (SEAL); Protocol specification\".
[9] 3GPP TS 24.547: \"Identity management - Service Enabler Architecture Layer
for Verticals (SEAL); Protocol specification\".
[10] 3GPP TS 26.346: \"Multimedia Broadcast/Multicast Service (MBMS);
Protocols and codecs\".
[11] 3GPP TS 29.061: \"Interworking between the Public Land Mobile Network
(PLMN) supporting packet based services and Packet Data Networks (PDN)\".
**[12] 3GPP TS 29.214: \"Policy and Charging Control over Rx reference
point\".**
[13] 3GPP TS 29.468: \"Group Communication System Enablers for LTE (GCSE_LTE);
MB2 reference point; Stage 3\".
[14] 3GPP TS 29.514: \"5G System; Policy Authorization Service; Stage 3\".
[15] Void.
[16] IETF RFC 3095: \"RObust Header Compression (ROHC): Framework and four
profiles: RTP, UDP, ESP, and uncompressed\".
[17] IETF RFC 3428: \"Session Initiation Protocol (SIP) Extension for Instant
Messaging\".
[18] IETF RFC 3841: \"Caller Preferences for the Session Initiation Protocol
(SIP)\".
[19] IETF RFC 4825: \"The Extensible Markup Language (XML) Configuration
Access Protocol (XCAP)\".
[20] IETF RFC 5795: \"The Robust Header Compression (ROHC) Framework\".
[21] Void
[22] IETF RFC 7231: \"Hypertext Transfer Protocol (HTTP/1.1): Semantics and
Content\".
[23] IETF RFC 7252: \"The Constrained Application Protocol (CoAP)\".
[24] IETF RFC 7959: \"Block-Wise Transfers in the Constrained Application
Protocol (CoAP)\".
[25] IETF RFC 7641: \"Observing Resources in the Constrained Application
Protocol (CoAP)\".
[26] IETF RFC 8323: \"CoAP (Constrained Application Protocol) over TCP, TLS,
and WebSockets\".
[27] IETF RFC 8949: \"Concise Binary Object Representation (CBOR)\".
[28] Void
[29] IETF RFC 9177: \"Constrained Application Protocol (CoAP) Block- Wise
Transfer Options Supporting Robust Transmission\".
[30] IETF RFC 8610: \"Concise Data Definition Language (CDDL): A Notational
Convention to Express Concise Binary Object Representation (CBOR) and JSON
Data Structures\".
[31] 3GPP TS 24.546: \"Configuration management - Service Enabler Architecture
Layer for Verticals (SEAL); Protocol specification\".
[32] OMA OMA-TS-XDM_Core-V2_1-20120403-A: \"XML Document Management (XDM)
Specification\".
# 3 Definitions of terms and abbreviations
## 3.1 Terms
For the purposes of the present document, the terms given in 3GPP TR 21.905
[1] and the following apply. A term defined in the present document takes
precedence over the definition of the same term, if any, in 3GPP TR 21.905
[1].
**SEAL network resource management client** : An entity that provides the
client side functionalities corresponding to the SEAL network resource
management service.
**SEAL network resource management server** : An entity that provides the
server side functionalities corresponding to the SEAL network resource
management service.
For the purposes of the present document, the following terms and definitions
given in 3GPP TS 23.434 [2] apply:
**SEAL client**
**SEAL server**
**SEAL service**
**VAL server**
**VAL service**
**VAL user**
**Vertical**
**Vertical application**
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
BM-SC Broadcast-Multicast Service Centre
CoAP Constrained Application Protocol
SNRM-C SEAL Network Resource Management Client
SNRM-S SEAL Network Resource Management Server
PCF Policy Control Function
SEAL Service Enabler Architecture Layer for verticals
VAL Vertical Application Layer
# 4 General description
Network resource management is a SEAL service that provides the network
resource management related capabilities (e.g. unicast and multicast network
resources) to one or more vertical applications. The present document enables
a SEAL network resource management client (SNRM-C) and a VAL server that
communicate with a SEAL network resource management server (SNRM-S).
The SNRM-S obtains and controls multicast resources from the underlying 3GPP
network system via the BM-SC and controls unicast resources from the
underlying 3GPP network system via the PCRF/PCF.
# 5 Functional entities
## 5.1 SEAL network resource management client (SNRM-C)
The SNRM-C functional entity acts as the application client for network
resource management related transactions.
To be compliant with the HTTP procedures in the present document the SNRM-C:
a) shall support the role of XCAP client as specified in IETF RFC 4825 [19];
b) shall support the role of XDMC as specified in OMA OMA-TS-XDM_Core-V2_1
[32]; and
c) shall support the multicast resource management procedures in clause 6.2.3.
To be compliant with the CoAP procedures in the present document the SNRM-C:
a)- shall support the role of CoAP client as specified in IETF RFC 7252 [23];
b)- shall support the capability to observe resources as specified in IETF RFC
7641 [25];
c)- shall support the block-wise transfer as specified in IETF RFC 7959 [24];
d)- may support the robust block transfer as specified in IETF RFC 9177 [29];
e)- should support CoAP over TCP and Websocket as specified in IETF RFC 8323
[26];
f)- shall support CBOR encoding as specified in IETF RFC 8949 [27];
g)- shall support the procedures in clause 6.2.3; and
h)- shall support the procedure in clause 6.2.4.
NOTE 1: The security mechanism to be supported for the CoAP procedures is
described in 3GPP TS 24.547 [9].
NOTE 2: Support for TCP for the CoAP procedures is required if the client
connects over the network which blocks or impedes the use of UDP, e.g. when
NATs are present in the communication path.
NOTE 3: The CoAP protocol supports mechanism for reliable message exchange
over UDP. Use of TCP can also be beneficial if reliable transport is required
for other reasons, e.g. better observability of resources. Usage of CoAP over
TCP is an implementation choice.
NOTE 4: Support for the robust block transfer mechanism for the CoAP
procedures is beneficial in environments where packet loss is highly
asymmetrical and where performance optimization of block transfers is
required.
## 5.2 SEAL network resource management SEAL server (SNRM-S)
The SNRM-S is a functional entity used to provide resource management of 3GPP
system network resources (e.g. unicast, multicast) to one or more vertical
applications.
To be compliant with the HTTP procedures in the present document the SNRM-S
shall:
a) shall support the role of XCAP server as specified in IETF RFC 4825 [19];
b) shall support the role of XDMS as specified in OMA OMA-TS-XDM_Core-V2_1
[32];
c) shall support the unicast resource management procedures in clause 6.2.2;
and
d) shall support the multicast resource management procedures in clause 6.2.3.
To be compliant with the CoAP procedures in the present document the SNRM-C:
a)- shall support the role of CoAP server as specified in IETF RFC 7252 [23];
b)- shall support the capability to observe resources as specified in IETF RFC
7641 [25];
c)- shall support the block-wise transfer as specified in IETF RFC 7959 [24];
d)- shall support the robust block transfer as specified in IETF RFC 9177
[29];
e)- shall support CoAP over TCP and Websocket as specified in IETF RFC 8323
[26];
f)- shall support CBOR encoding as specified in IETF RFC 8949 [27];
g)- shall support the procedure in clause 6.2.3; and
h)- shall support the procedure in clause 6.2.4.
NOTE: The security mechanism to be supported for the CoAP procedures is
described in 3GPP TS 24.547 [9].
# 6 Network resource management procedures
## 6.1 General
## 6.2 On-network procedures
### 6.2.1 General
#### 6.2.1.1 Authenticated identity in HTTP request
Upon receiving an HTTP request, the SNRM-S shall authenticate the identity of
the sender of the HTTP request is authorized as specified in 3GPP TS 24.547
[9], and if authentication is successful, the SNRM-S shall use the identity of
the sender of the HTTP request as an authenticated identity.
#### 6.2.1.2 Authenticated identity in CoAP request
Upon receiving a CoAP request, the SNRM-S shall authenticate the identity of
the sender of the CoAP request as specified in 3GPP TS 24.547 [9], and if
authentication is successful, the SNRM-S shall use the identity of the sender
of the CoAP request as an authenticated identity.
### 6.2.2 Unicast resource management
#### 6.2.2.1 General
This clause describes the procedures used for unicast resource management. The
unicast resource management comprises procedures for:
a) activation and deactivation of bearers;
b) modification of the QoS characteristics of a bearer; and
c) modification of GBR due to application requirement.
The VAL client can request the VAL server to provide unicast resources (see
clause 6.2.2.2), to modify or to release unicast resources (see clause
6.2.2.3) or to perform network resource adaptation (see clause 6.2.2.4).
NOTE: A VAL service communication can consist of both unicast and multicast
bearers which can all need modification due to the same event.
VAL specific pre-requisites and resultant behaviour by functional entities in
performing the unicast resource management procedures are specified in the
respective VAL TS (e.g. for V2X application layer, see 3GPP TS 24.486 [7]).
Unicast resource management is supported with PCRF interactions with SIP core
and PCC interactions with the SNRM-S. The PCRF procedures are specified in
**3GPP TS 29.214** [12] and the PCF procedures are specified in 3GPP TS 29.514
[14].
#### 6.2.2.2 Request for unicast resource at VAL service communication
establishment procedure with SIP core
##### 6.2.2.2.1 VAL server procedure
If the VAL client requests VAL service communication with the VAL server, the
VAL server shall generate an HTTP POST request message according to procedures
specified in IETF RFC 7231 [22]. In the HTTP POST request message, the VAL
server:
a) shall include a Request-URI set to the URI corresponding to the identity of
the SNRM-S;
b) shall include an Accept header field set to \"application/vnd.3gpp.seal-
unicast-info+xml\";
c) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-unicast-info +xml\";
d) shall include an application/vnd.3gpp.seal-unicast-info+xml MIME body and
in the \ root element:
1) shall include a \ element which shall include:
i) a \ element set to the identity of the VAL server
performing the request;
ii) an \ element set to the identity of the VAL user or VAL UE which
requests the VAL service communication; and
iii) an optional \ element set to the requested unicast
resource information; and
e) shall send the HTTP POST request message towards the SNRM-S according to
IETF RFC 7231 [22].
NOTE: Before terminating connection due to no response from the SNRM-S, the
VAL server allows sufficient time for the SNRM-S to reserve resources and
respond. It is up to implementation to decide how long the VAL server waits
for receiving response.
##### 6.2.2.2.2 Server procedure
Upon receiving an HTTP POST request message containing:
a) an Accept header field set to \"application/vnd.3gpp.seal-unicast-
info+xml\";
b) a Content-Type header field set to \"application/vnd.3gpp.seal-unicast-info
+xml\"; and
c) an application/vnd.3gpp.seal-unicast-info+xml MIME body with a \
element in the \ root element;
the SNRM-S:
a) shall determine the identity of the sender of the received HTTP POST
request as specified in clause 6.2.1.1, and:
1) if the identity of the sender of the received HTTP POST request is not
authorized to request unicast resource, shall respond with a HTTP 403
(Forbidden) response to the HTTP POST request and shall skip rest of the
steps; and
2) shall support handling an HTTP POST request from a VAL server according to
procedures specified in IETF RFC 4825 [19] \"POST Handling\"; and
b) shall evaluate the need for network resources and use of resource sharing,
and then send a SIP MESSAGE request containing request for resources according
to procedures specified in 3GPP TS 29.214 [12] for EPS and/or 3GPP TS 29.514
[14] for 5GS.
Upon receiving a SIP 200 (OK) response to the SIP MESSAGE request, the SNRM-S:
a) shall generate an HTTP 200 (OK) response message according to IETF RFC 7231
[22]. In the HTTP 200 (OK) response message, the SNRM-S:
1) shall include a Request-URI set to the URI corresponding to the identity of
the VAL server;
2) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-unicast-info+xml\"; and
3) shall include an application/vnd.3gpp.seal-unicast-info+xml MIME body and
in the \ root element:
i. shall include a \ element set to \"success\" indicating
success of the resource request operation; and
b) shall send the HTTP 200 (OK) response message towards the VAL server
according to IETF RFC 7231 [22].
#### 6.2.2.3 Request for modification of unicast resources procedure with SIP
core
##### 6.2.2.3.1 VAL server procedure
To modify unicast bearers, the VAL server shall generate an HTTP POST request
according to procedures specified in IETF RFC 7231 [22]. In the HTTP POST
request message, the VAL server:
a) shall include a Request-URI set to the URI corresponding to the identity of
the SNRM-S;
b) shall include an Accept header field set to \"application/vnd.3gpp.seal-
unicast-info+xml\";
c) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-unicast-info +xml\";
d) shall include an application/vnd.3gpp.seal-unicast-info+xml MIME body and
in the \ root element:
1) shall include a \ element which shall include:
i) a \ element set to the identity of the VAL server
performing the request;
ii) an \ element set to the identity of the VAL user or VAL UE which
requests the VAL service communication; and
iii) an \ element set to the modified unicast resource
information; and
e) shall send the HTTP POST request message towards the VAL server according
to IETF RFC 7231 [22].
NOTE: Before terminating connection due to no response from the SNRM-S, the
VAL server allows sufficient time for the SNRM-S to reserve resources and
respond. It is up to implementation to decide how long the VAL server waits
for receiving response.
##### 6.2.2.3.2 Server procedure
Upon receiving an HTTP POST request message containing:
a) an Accept header field set to \"application/vnd.3gpp.seal-unicast-
info+xml\";
b) a Content-Type header field set to \"application/vnd.3gpp.seal-unicast-info
+xml\"; and
c) an application/vnd.3gpp.seal-unicast-info+xml MIME body with a
\ element in the \ root element;
the SNRM-S:
a) shall determine the identity of the sender of the received HTTP POST
request as specified in clause 6.2.1.1, and:
1) if the identity of the sender of the received HTTP POST request is not
authorized to modify unicast resource, shall respond with a HTTP 403
(Forbidden) response to the HTTP POST request and shall skip rest of the
steps; and
2) shall support handling an HTTP POST request from a VAL server according to
procedures specified in IETF RFC 4825 [19] \"POST Handling\";
b) if the media bearer modification is not required, shall generate an HTTP
200 (OK) response message according to IETF RFC 7231 [22]. In the HTTP 200
(OK) response message, the SNRM-S:
1) shall include a Request-URI set to the URI corresponding to the identity of
the VAL server;
2) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-unicast-info+xml\";
3) shall include an application/vnd.3gpp.seal-unicast-info+xml MIME body and
in the \ root element:
i) shall include a \ element set to \"failure\"
indicating failure of the resource modification request operation; and
4) shall send the HTTP 200 (OK) response message towards the VAL server
according to IETF RFC 7231 [22]; and
c) if the media bearer modification is required, shall send a SIP MESSAGE
request containing the modified parameters of the unicast bearer according to
procedures specified in 3GPP TS 29.214 [12] for EPS and/or 3GPP TS 29.514 [14]
for 5GS.
Upon receiving a SIP 200 (OK) response to the SIP MESSAGE request, the SNRM-S:
a) shall generate an HTTP 200 (OK) response message according to IETF RFC 7231
[22]. In the HTTP 200 (OK) response message, the SNRM-S:
1) shall include a Request-URI set to the URI corresponding to the identity of
the VAL server;
2) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-unicast-info+xml\"; and
3) shall include an application/vnd.3gpp.seal-unicast-info+xml MIME body and
in the \ root element:
i) shall include a \ element set to \"success\"
indicating success of the resource modification request operation; and
b) shall send the HTTP 200 (OK) response message towards the VAL server
according to IETF RFC 7231 [22].
#### 6.2.2.4 Network resource adaptation procedure with SIP core
##### 6.2.2.4.1 VAL server procedure
In order to request unicast resources or modify already allocated unicast
resources to VAL communications, the VAL server shall generate an HTTP POST
request according to procedures specified in IETF RFC 7231 [22]. In the HTTP
POST request message, the VAL server:
a) shall include a Request-URI set to the URI corresponding to the identity of
the SNRM-S;
b) shall include an Accept header field set to \"application/vnd.3gpp.seal-
unicast-info+xml\";
c) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-unicast-info +xml\";
d) shall include an application/vnd.3gpp.seal-unicast-info+xml MIME body and
in the \ root element:
1) shall include an \ element which shall include:
i) a \ element set to the identity of the VAL server
performing the request;
ii) an \ element which shall include one of the following elements:
A) a \ element with one or more \ child elements
set to the identities of the VAL UEs for whom the network resource adaptation
occurs; or
B) a \ element set to the identity of the VAL group for whom the
network resource adaptation occurs; and
iii) a \ element set to the VAL service QoS requirements as
applied for the corresponding VAL UEs or group of UEs; and
e) shall send the HTTP POST request message towards the VAL server according
to procedures specified in IETF RFC 7231 [22].
##### 6.2.2.4.2 Server procedure
Upon receiving an HTTP POST request message containing:
a) an Accept header field set to \"application/vnd.3gpp.seal-unicast-
info+xml\";
b) a Content-Type header field set to \"application/vnd.3gpp.seal-unicast-info
+xml\"; and
c) an application/vnd.3gpp.seal-unicast-info+xml MIME body with an
\ element in the \ root element;
the SNRM-S:
a) shall determine the identity of the sender of the received HTTP POST
request as specified in clause 6.2.1.1, and:
1) if the identity of the sender of the received HTTP POST request is not
authorized to adapt unicast resource, shall respond with a HTTP 403
(Forbidden) response to the HTTP POST request and shall skip rest of the
steps; and
2) shall support handling an HTTP POST request from a VAL server according to
procedures specified in IETF RFC 4825 [19] \"POST Handling\"; and
b) shall apply/enforce the resource adaptation per VAL UE, and then initiate
the PCC procedures for each VAL UE as described in 3GPP TS 29.214 [12] for EPS
and/or 3GPP TS 29.514 [14] for 5GS. After the PCC procedures, the SNRM-S shall
generate an HTTP 200 (OK) response message according to IETF RFC 7231 [22]. In
the HTTP 200 (OK) response message, the SNRM-S:
1) shall include a Request-URI set to the URI corresponding to the identity of
the VAL server;
2) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-unicast-info+xml\";
3) shall include an application/vnd.3gpp.seal-unicast-info+xml MIME body and
in the \ root element:
i) shall include an \ element set to \"success\" or
\"failure\" indicating success or failure of the network resource adaptation
with the underlying network; and
4) shall send the HTTP 200 (OK) response message towards the VAL server
according to procedures specified in IETF RFC 7231 [22].
### 6.2.3 Multicast resource management
#### 6.2.3.1 General
#### 6.2.3.2 Use of pre-established MBMS bearers procedure
##### 6.2.3.2.1 VAL server procedure
When a user originates a request for a VAL service group communication session
for one of these areas, in order to use the pre-established MBMS bearers, the
VAL server shall generate an HTTP POST request according to procedures
specified in IETF RFC 7231 [22]. In the HTTP POST request message, the VAL
server:
a) shall include a Request-URI set to the URI corresponding to the identity of
the SNRM-S;
b) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-mbms-usage-info+xml\";
c) shall include an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body
and in the \ root element:
1) shall include an \ element which shall include:
i) a \ element set to the identity of the VAL server
performing the request;
ii) a \ element set to the identity of the VAL group that the
MBMS bearer is requested for;
iii) a \ indicating whether the request is sent by
NRM server or by the VAL server;
iv) a \ element indicating the requested QoS for the bearer;
v) an optional \ element indicating the area where the MBMS
bearer is requested for; and
vi) an \ element set to the information of the endpoint of the
VAL server to which the user plane notifications have to be sent; and
d) shall send the HTTP POST request message towards the SNRM-S according to
IETF RFC 7231 [22].
##### 6.2.3.2.2 SNRM server HTTP procedure
Upon receiving an HTTP POST request message containing:
a) a Content-Type header field set to \"application/vnd.3gpp.seal-mbms-usage-
info+xml\"; and
b) an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body with a
\ element in the \ root element;
the SNRM-S:
a) shall determine the identity of the sender of the received HTTP POST
request as specified in clause 6.2.1.1, and:
1) if the identity of the sender of the received HTTP POST request is not
authorized to request mbms resource, shall respond with a HTTP 403 (Forbidden)
response to the HTTP POST request and shall skip rest of the steps; and
2) shall support handling an HTTP POST request from a VAL server according to
procedures specified in IETF RFC 4825 [19] \"POST Handling\"; and
b) shall determine to activate MBMS bearer, and then generate an HTTP POST
request message according to IETF RFC 7231 [22]. In the HTTP POST request
message, the SNRM-S:
1) shall set the Request-URI to the URI corresponding to the identity of the
SNRM-C;
2) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-mbms-usage-info+xml\";
3) shall include in a MIME body with Content-Type header field set to
\"application/vnd.3gpp.seal-info+xml\", the \ element set to
the VAL user ID of the user;
4) shall include an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body
with the \ element set to \"1\" and one or more \
elements associated with the pre-activated MBMS bearers in the \
root element. Each set of an \ element:
i) shall include a \ element set to a TMGI value;
NOTE 1: The same TMGI value can only appear in one \ element.
The TMGI value is also used to identify the \ when updating or
cancelling the \ element.
NOTE 2: The security key active for the general purpose MBMS subchannel on
which the mapping (i.e. the Map Group To Bearer message) of media or media
control to this MBMS bearer was indicated, is used for MBMS subchannels on
this MBMS bearer, unless a different key or an indication of not using
encryption is in place.
ii) may include an \ element set to a list of additional
alternative TMGI used in roaming scenarios;
iii) may include the QCI value in the \ element;
iv) shall include one or more MBMS service area IDs in \
elements in the \ element;
NOTE 3: Initial mappings of groups to MBMS subchannels on an MBMS bearer for
the purpose of carrying media or media control can occur only where the MBMS
service area for this bearer and the MBMS service area for the bearer carrying
the general purpose MBMS subchannel on which the Map Group To Bearer message
is sent intersect. However, once media or media control were successfully
mapped to this bearer, the reception by the SNRM-C can continue (until Unmap
Group To Bearer is received or until timeout) throughout the entire MBMS
service area of this bearer.
v) if multiple carriers are supported, shall include the frequency to be used
in the \ element;
NOTE 4: In the current release if the \ element is included, the
frequency in the \ element is the same as the frequency used for
unicast.
vi) shall include a \ element set to the SDP with media and
application control information applicable to groups that can use this bearer;
vii) may include a \ element set to \"monitoring\" or \"not-
monitoring\" used to control if the client is actively monitoring the MBMS
bearer quality or not;
viii) may include an \ element set to \"true\" or
\"false\" indicating if the NRM server requires an acknowledgement of the MBMS
bearer announcement;
ix) may include an \ element set to \"listening\" or \"not-
listening\" indicating if the listening status of the unicast bearer is
requested;
x) if the packet headers are compressed with ROHC specified in IETF RFC 5795
[20] in this MBMS bearer, shall include a \ element; and
5) shall send the HTTP POST request message towards the SNRM-C according to
IETF RFC 7231 [22].
Upon receiving an HTTP POST request message containing:
a) a Content-Type header field set to \"application/vnd.3gpp.seal-mbms-usage-
info+xml\"; and
b) an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body with an \ element;
the SNRM-S:
a) shall determine the identity of the sender of the received HTTP POST
request as specified in clause 6.2.1.1, and:
1) if the identity of the sender of the received HTTP POST request is not
authorized to report mbms listening status, shall respond with a HTTP 403
(Forbidden) response to the HTTP POST request and shall skip rest of the
steps; and
2) shall support handling an HTTP POST request from a SNRM-C according to
procedures specified in IETF RFC 4825 [19] \"POST Handling\";
b) shall generate an HTTP 200 (OK) response message to the VAL server
according to IETF RFC 7231 [22]. In the HTTP 200 (OK) response message, the
SNRM-S:
1) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-mbms-usage-info+xml\";
2) shall include an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body
with an \ element in the \ root element which:
i) shall include a \ element set to \"success\" or \"failure\"
indicating success or failure of the MBMS bearers request operation;
ii) may include a \ element set to a TMGI value;
iii) shall include a \ element set to the BM-SC user plane
IP address and port; and
iv) may include a \ element indicating MBMS bearer
related configuration information as defined in 3GPP TS 26.346 [10]; and
c) shall send the HTTP 200 (OK) response message towards the VAL server
according to IETF RFC 7231 [22].
##### 6.2.3.2.3 SNRM client HTTP procedure
Upon receiving an HTTP POST request message containing:
a) a Content-Type header field set to \"application/vnd.3gpp.seal-mbms-usage-
info+xml\"; and
b) an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body with one or more
\ element(s);
the SNRM-C:
a) shall store the content of the \ elements and generate an
HTTP POST request message according to IETF RFC 7231 [22]. In the HTTP POST
request message, the SNRM-C:
1) shall set the Request-URI to the URI corresponding to the identity of the
SNRM-S;
2) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-mbms-usage-info+xml\"; and
3) shall include an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body
with an \ subelement which:
i) shall include an \ element set to the identity of the VAL user or
VAL UE who wants to report the MBMS listening status;
ii) shall include one or more \ elements for which the listening status
applies;
iii) shall include an \ element set to \"listening\" if
the SNRM-C is listening to the MBMS bearer or \"not-listening\" if the SNRM-C
is not listening; and
iv) may include an \ element set to the
reception quality level per TMGI; and
b) shall send the HTTP POST request towards the SNRM-S according to IETF RFC
7231 [22].
##### 6.2.3.2.4 SNRM server CoAP procedure
Upon receiving an HTTP POST request message containing:
a) a Content-Type header field set to \"application/vnd.3gpp.seal-mbms-usage-
info+xml\"; and
b) an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body with a
\ element in the \ root element;
the SNRM-S:
a) shall determine the identity of the sender of the received HTTP POST
request as specified in clause 6.2.1.1, and:
1) if the identity of the sender of the received HTTP POST request is not
authorized to request mbms resource, shall respond with a HTTP 403 (Forbidden)
response to the HTTP POST request and shall skip rest of the steps; and
2) shall support handling an HTTP POST request from a VAL server according to
procedures specified in IETF RFC 4825 [19] \"POST Handling\"; and
b) shall determine to activate MBMS bearer, and then generate a CoAP PUT
request according to IETF RFC 7252 [23]. In the CoAP PUT request, the SNRM-S:
1) shall set the CoAP URI to the MBMS Resource Configuration resource URI
according to the resource definition in clause A.3.1.2.2.3:
a) the \"apiRoot\" is set to the SNRM-C URI;
b) the \"valServiceId\" is set to the identity of the VAL service; and
c) the \"tmgi\" is set to a TMGI value;
2) shall include Content-Format option set to "application/vnd.3gpp.seal-mbms-
config+cbor";
3) shall include \"MbmsResourceConfig\" object in the payload:
i) may include an \"alternativeTmgis\" attribute set to a list of additional
alternative TMGIs used in roaming scenarios;
ii) may include the QCI value in the \"qci\" attribute;
iii) shall include one or more MBMS service area IDs in the \"serviceAreas\"
attribute;
NOTE 1: Initial mappings of groups to MBMS subchannels on an MBMS bearer for
the purpose of carrying media or media control can occur only where the MBMS
service area for this bearer and the MBMS service area for the bearer carrying
the general purpose MBMS subchannel on which the Map Group To Bearer message
is sent intersect. However, once media or media control were successfully
mapped to this bearer, the reception by the SNRM-C can continue (until Unmap
Group To Bearer is received or until timeout) throughout the entire MBMS
service area of this bearer.
iv) if multiple carriers are supported, shall include the frequency to be used
in the \"frequency\" attribute;
NOTE 2: In the current release if the \"frequency\" attribute is included, the
frequency in the \"frequency\" attribute is the same as the frequency used for
unicast.
v) shall include the \"sdp\" attribute set to the SDP with media and
application control information applicable to groups that can use this bearer;
vi) shall include the \"monitorConfig\" object:
a) may include the \"receptionQuality\" attribute set to \"true\" or \"false\"
used to control if the client is actively monitoring the MBMS bearer quality
or not; and
b) may include the \"unicastResource\" set to \"true\" or \"false\" indicating
if the listening status of the unicast bearer is requested or not; and
vii) if the packet headers are compressed with ROHC specified in IETF RFC 5795
[20] in this MBMS bearer, shall include the \"rohcEnabled\" attribute set to
\"true\"; and
4) shall send the CoAP PUT request protected towards the SNRM-C with the
relevant ACE profile (OSCORE profile or DTLS profile) as described in 3GPP TS
24.547 [9].
Upon receiving a response to the CoAP PUT request, the SNRM-S:
a) shall generate an HTTP 200 (OK) response message to the VAL server
according to IETF RFC 7231 [22]. In the HTTP 200 (OK) response message, the
SNRM-S:
1) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-mbms-usage-info+xml\"; and
2) shall include an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body
with an \ element in the \ root element which:
i) shall include a \ element set to \"success\" or \"failure\"
indicating success or failure of the MBMS bearers request operation depending
on whether the CoAP response is a successful response or a failure response;
ii) may include a \ element set to a TMGI value;
iii) shall include a \ element set to the BM-SC user plane
IP address and port; and
iv) may include a \ element indicating MBMS bearer
related configuration information as defined in 3GPP TS 26.346 [10]; and
b) shall send the HTTP 200 (OK) response message towards the VAL server
according to IETF RFC 7231 [22].
##### 6.2.3.2.5 SNRM client CoAP procedure
Upon reception of a CoAP PUT request where the CoAP URI of the request
identifies MBMS Resource Configuration resource as described in clause
A.3.1.2.2.3.2, the SNRM-C:
a) shall determine the identity of the sender of the received CoAP PUT request
as specified in clause 6.2.1.2, and:
1) if the identity of the sender of the received CoAP PUT request is not
authorized to create or update requested MBMS resource configuration resource,
shall respond with a CoAP 4.03 (Forbidden) response to the CoAP PUT request
and skip rest of the steps;
b) shall support handling a CoAP PUT request from a SNRM-C according to
procedures specified in IETF RFC 7252 [23];
c) shall create or update the MBMS resource configuration resource pointed at
by the CoAP URI with the content of \"MbmsResourceConfig\" object received in
the request and return a CoAP 2.01 (Created) or a CoAP 2.04 (Changed)
response; and
d) if monitoring configuration is included in the \"monitorConfig\" attribute,
shall start the monitoring accordingly.
#### 6.2.3.3 MBMS bearer announcement over MBMS bearer procedure
##### 6.2.3.3.1 General
The availability of a MBMS bearer is announced to SNRM-Cs by means of an MBMS
bearer announcement message. One or more MBMS bearer announcement elements are
included in an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body.
An MBMS bearer announcement message can contain new MBMS bearer announcements,
updated MBMS bearer announcements or cancelled MBMS bearer announcements or a
mix of all of them at the same time in an application/vnd.3gpp.seal-mbms-
usage-info+xml MIME body. Each initial MBMS bearer announcement message
announces one MBMS bearer intended to carry a general purpose MBMS subchannel
used for application level multicast signalling in a specified MBMS service
area and additionally, the message could also announce zero or more extra MBMS
bearers intended to carry media and media control.
NOTE 1: A new MBMS bearer announcement does not implicitly remove previously
sent MBMS bearer announcements if the previously sent MBMS bearer announcement
is not included in an MBMS bearer announcement message.
NOTE 2: The SNRM-C will use the same identity which has been authenticated by
VAL service with SIP core using SIP based REGISTER message. If VAL service do
not support SIP protocol, then HTTP based method needs to be used.
NOTE 3: The VAL service can select appropriate procedure(s) based on service
specific requirements. If the VAL service supports HTTP, CoAP and SIP, HTTP is
prior.
When CoAP is used the availability of an MBMS bearer is announced to SNRM-C by
creating an MBMS Resource Config resource at the SNRM-C. A single announcement
is included in the \"application/vnd.3gpp.seal-mbms-config+cbor\" MIME body.
When and to whom the SNRM-S sends the MBMS bearer announcement is based on
local policy in the SNRM-S.
##### 6.2.3.3.2 SNRM server SIP and HTTP procedures
###### 6.2.3.3.2.1 MBMS bearer announcement procedure
###### 6.2.3.3.2.1.0 Generate MBMS bearer announcement message in XML
For each SNRM-C that the SNRM-S is sending an MBMS bearer announcement to, the
SNRM-S:
a) shall generate an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body
with the \ element set to \"1\" and one or more \
elements associated with the pre-activated MBMS bearers. Each set of an
\ element:
1) shall include a \ element set to a TMGI value;
NOTE 1: The same TMGI value can only appear in one \ element.
The TMGI value is also used to identify the \ when updating or
cancelling the \ element.
NOTE 2: The security key active for the general purpose MBMS subchannel on
which the mapping (i.e. the Map Group To Bearer message) of media or media
control to this MBMS bearer was indicated, is used for MBMS subchannels on
this MBMS bearer, unless a different key or an indication of not using
encryption is in place.
2) may include an \ element set to a list of additional
alternative TMGI used in roaming scenarios;
3) may include the QCI value in the \ element;
4) shall include one or more MBMS service area IDs in \
elements in the \ element;
NOTE 3: Initial mappings of groups to MBMS subchannels on an MBMS bearer for
the purpose of carrying media or media control can occur only where the MBMS
service area for this bearer and the MBMS service area for the bearer carrying
the general purpose MBMS subchannel on which the Map Group To Bearer message
is sent intersect. However, once media or media control were successfully
mapped to this bearer, the reception by the SNRM-C can continue (until Unmap
Group To Bearer is received or until timeout) throughout the entire MBMS
service area of this bearer.
5) if multiple carriers are supported, shall include the frequency to be used
in the \ element;
NOTE 4: In the current release if the \ element is included, the
frequency in the \ element is the same as the frequency used for
unicast.
6) shall include a \ element set to the SDP with media and
application control information applicable to groups that can use this bearer;
7) may include a \ element set to \"monitoring\" or \"not-
monitoring\" used to control if the client is actively monitoring the MBMS
bearer quality or not;
8) may include an \ element set to \"true\" or
\"false\" indicating if the NRM server requires an acknowledgement of the MBMS
bearer announcement;
9) may include an \ element used to indicate the listening
status of the unicast bearer which is requested; and
10) if the packet headers are compressed with ROHC specified in IETF RFC 5795
[20] in this MBMS bearer, shall include a \ element.
###### # 6.2.3.3.2.1.1 SIP based procedure
If the VAL service supports SIP, the SNRM-S shall generate an SIP MESSAGE
request in accordance with 3GPP TS 24.229 [6] and IETF RFC 3428 [17] with the
constructed application/vnd.3gpp.seal-mbms-usage-info+xml MIME body as
specified in clause 6.2.3.3.2.1. In the SIP MESSAGE request, the SNRM-S:
a) shall set the Request-URI to the URI received in the To header field in a
third-party SIP REGISTER request;
b) shall include an Accept-Contact header field with the g.3gpp.icsi-ref
media-feature tag with the value of \"urn:urn-7:3gpp-service.ims.icsi.seal\"
along with parameters \"require\" and \"explicit\" according to IETF RFC 3841
[18];
c) shall include a P-Asserted-Service header field with the value
\"urn:urn-7:3gpp-service.ims.icsi.seal\";
d) shall include the MBMS public service identity of the SNRM-S in the
P-Asserted-Identity header field;
e) shall include in a MIME body with Content-Type header field set to
\"application/vnd.3gpp.seal-info+xml\", the \ element set to
the VAL user ID of the user; and
f) shall send the SIP MESSAGE request towards the SNRM-C according to 3GPP TS
24.229 [6].
###### # 6.2.3.3.2.1.2 HTTP based procedure
If the VAL service does not support SIP, the SNRM-S shall generate an HTTP
POST request message in accordance with IETF RFC 7231 [22] with the
constructed application/vnd.3gpp.seal-mbms-usage-info+xml MIME body as
specified in clause 6.2.3.3.2.1. In the HTTP POST request message, the SNRM-S:
a) shall set the Request-URI to the URI corresponding to the identity of the
SNRM-C;
b) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-mbms-usage-info+xml\";
c) shall include in a MIME body with Content-Type header field set to
\"application/vnd.3gpp.seal-info+xml\", the \ element set to
the VAL user ID of the user; and
d) shall send the HTTP POST request towards the SNRM-C according to IETF RFC
7231 [22].
###### 6.2.3.3.2.2 MBMS bearer de-announcement procedure
When the SNRM-S wants to cancel an MBMS bearer announcement associated with an
\ element, the SNRM-S sends an MBMS bearer announcement as
specified in clause 6.2.3.3.2.1 where the SNRM-S in the \
element to be cancelled. The SNRM-S:
a) shall include the same TMGI value as in the \ element to be
cancelled in the \ element; and
b) shall not include an \ element.
##### 6.2.3.3.3 SNRM client SIP and HTTP procedures
Upon receiving a SIP MESSAGE request containing:
a) a P-Asserted-Service header field containing the \"urn:urn-7:3gpp-
service.ims.icsi.seal\"; and
b) an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body containing one
or more \ element(s);
or an HTTP POST request message containing:
a) a Content-Type header field set to \"application/vnd.3gpp.seal-mbms-usage-
info+xml\"; and
b) an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body containing one
or more \ element(s);
the SNRM-C for each \ element in the application/vnd.3gpp.seal-
mbms-usage-info+xml MIME body:
a) if the \ element is present:
1) if an \ element with the same value of the \ element is
already stored:
i) shall replace the old \ element with the \
element received in the application/vnd.3gpp.seal-mbms-usage-info+xml MIME
body;
2) if there is no \ element with the same value of the \
element stored:
i) shall store the received \ element;
3) shall store the MBMS public service identity of the SNRM-S received in the
P-Asserted-Identity header field and associate the MBMS public service
identity with the new \ element;
4) if there is an \ element set to \"true\",
shall send an acknowledgement of the MBMS bearer to the SNRM-S; and
5) shall check the condition for sending a listening status report;
b) if no \ element is present:
1) shall discard a previously stored \ element identified by the
value of the \; and
2) check the condition for sending a listening status report;
c) if the \ element is present:
1) if the \ is set to \"monitor\", shall start to monitor
the MBMS bearer quality; and
2) if the \ is set to \"not-monitor\", shall stop monitoring
the MBMS bearer quality; and
d) if the \ element is present, shall include the \ element in the MBMS listening status report message.
##### 6.2.3.3.4 SNRM Server CoAP procedures
###### 6.2.3.3.4.1 MBMS bearer announcement procedure
For each SNRM-C that the SNRM-S is sending an MBMS bearer announcement to, the
SNRM-S:
a) shall generate a CoAP PUT request according to IETF RFC 7252 [23]. In the
CoAP PUT request, the SNRM-S:
1) shall set the CoAP URI to the MBMS Resource Configuration resource URI
according to the resource definition in clause A.3.1.2.2.3:
a) the \"apiRoot\" is set to the SNRM-C URI;
b) the \"valServiceId\" is set to the identity of the VAL service; and
c) the \"tmgi\" is set to a TMGI value;
2) shall include Content-Format option set to "application/vnd.3gpp.seal-mbms-
config+cbor";
3) shall include \"MbmsResourceConfig\" object in the payload:
i) may include an \"alternativeTmgis\" attribute set to a list of additional
alternative TMGIs used in roaming scenarios;
ii) may include the QCI value in the \"qci\" attribute;
iii) shall include one or more MBMS service area IDs in the \"serviceAreas\"
attribute;
NOTE 1: Initial mappings of groups to MBMS subchannels on an MBMS bearer for
the purpose of carrying media or media control can occur only where the MBMS
service area for this bearer and the MBMS service area for the bearer carrying
the general purpose MBMS subchannel on which the Map Group To Bearer message
is sent intersect. However, once media or media control were successfully
mapped to this bearer, the reception by the SNRM-C can continue (until Unmap
Group To Bearer is received or until timeout) throughout the entire MBMS
service area of this bearer.
iv) if multiple carriers are supported, shall include the frequency to be used
in the \"frequency\" attribute;
NOTE 2: In the current release if the \"frequency\" attribute is included, the
frequency in the \"frequency\" attribute is the same as the frequency used for
unicast.
v) shall include the \"sdp\" attribute set to the SDP with media and
application control information applicable to groups that can use this bearer;
vi) shall include the \"monitorConfig\" object:
a) may include the \"receptionQuality\" attribute set to \"true\" or \"false\"
used to control if the client is actively monitoring the MBMS bearer quality
or not; and
b) may include the \"unicastResource\" set to \"true\" or \"false\" indicating
if the listening status of the unicast bearer is requested or not; and
vii) if the packet headers are compressed with ROHC specified in IETF RFC 5795
[20] in this MBMS bearer, shall include the \"rohcEnabled\" attribute set to
\"true\"; and
4) shall send the CoAP PUT request protected towards the SNRM-C with the
relevant ACE profile (OSCORE profile or DTLS profile) as described in 3GPP TS
24.547 [9].
###### 6.2.3.3.4.2 MBMS bearer de-announcement procedure
When the SNRM-S wants to cancel an MBMS bearer announcement, the SNRM-S shall
send a CoAP DELETE request to the SNRM-C to delete the MBMS Resource Config
resource in the SNRM-C. The SNRM-S:
a) shall generate a CoAP DELETE request according to IETF RFC 7252 [23]. In
the CoAP DELETE request, the SNRM-S:
1) shall set the CoAP URI to the MBMS Resource Configuration resource URI of
the resource to be deleted according to the resource definition in clause
A.3.1.2.2.3:
a) the \"apiRoot\" is set to the SNRM-C URI;
b) the \"valServiceId\" is set to the identity of the VAL service; and
c) the \"tmgi\" is set to a TMGI value; and
b) shall send the CoAP DELETE request protected with the relevant ACE profile
(OSCORE profile or DTLS profile) as described in 3GPP TS 24.547 [9].
##### 6.2.3.3.5 SNRM Client CoAP procedures
###### 6.2.3.3.5.1 MBMS bearer announcement procedure
Upon reception of a CoAP PUT request where the CoAP URI of the request
identifies an MBMS Resource Configuration resource as described in clause
A.3.1.2.2.3.2, the SNRM-C:
a) shall determine the identity of the sender of the received CoAP PUT request
as specified in clause 6.2.1.2, and:
1) if the identity of the sender of the received CoAP PUT request is not
authorized to update the requested VAL group document, shall respond with a
CoAP 4.03 (Forbidden) response to the CoAP PUT request and skip rest of the
steps;
b) shall support handling a CoAP PUT request from a SGM-C according to
procedures specified in IETF RFC 7252 [23];
c) shall create or update the MBMS resource configuration resource pointed at
by the CoAP URI with the content of \"MbmsResourceConfig\" object received in
the request and return a CoAP 2.01 (Created) or a CoAP 2.04 (Changed)
response;
d) if monitoring configuration is included in the \"monitorConfig\" attribute:
1) if the \"receptionQuality\" attribute is present and is set to \"true\",
shall start monitoring the MBMS bearer quality;
2) if the \"receptionQuality\" attribute is not present or is present and is
set to \"false\", shall stop monitoring the MBMS bearer quality;
3) if the \"unicastResource\" attribute is present and is set to \"true\",
shall start monitoring the associated unicast resource; and
4) if the \"unicastResource\" attribute is not present or is present and is
set to \"false\", shall stop monitoring the associated unicast resource; and
e) shall check the condition for sending a listening status report.
###### 6.2.3.3.5.2 MBMS bearer de-announcement procedure
Upon reception of a CoAP DELETE request where the CoAP URI of the request
identifies MBMS Resource Configuration resource as described in clause
A.3.1.2.2.3.3, the SNRM-C:
a) shall determine the identity of the sender of the received CoAP DELETE
request as specified in clause 6.2.1.2, and:
1) if the identity of the sender of the received CoAP DELETE request is not
authorized to delete the requested MBMS resource configuration resource, shall
respond with a CoAP 4.03 (Forbidden) response to the CoAP DELETE request and
skip rest of the steps;
b) shall support handling a CoAP DELETE request from a SNRM-S according to
procedures specified in IETF RFC 7252 [23];
c) shall delete the MBMS resource pointed at by the CoAP URI];
d) if monitoring configuration was included in the \"monitorConfig\"
attribute, shall stop the monitoring accordingly; and
e) shall check the condition for sending a listening status report.
#### 6.2.3.4 MBMS bearer quality detection procedure
NOTE 1: The SNRM-C will use the same identity which has been authenticated by
VAL service with SIP core using SIP based REGISTER message. If VAL service do
not support SIP protocol, then HTTP or CoAP based method needs to be used.
NOTE 2: The VAL service can select appropriate procedure(s) based on service
specific requirements. If the VAL service supports both HTTP, CoAP and SIP,
HTTP is prior.
##### 6.2.3.4.1 SNRM client SIP and HTTP procedures
###### 6.2.3.4.1.0 General
Upon determining the MBMS bearer quality, if the MBMS bearer quality reaches a
certain threshold, the SNRM-C shall report the MBMS listening status. The
SNRM-C:
NOTE 1: The SNRM-C may determine the MBMS bearer quality by using the BLER of
the received data. When no data is received, the quality estimation can
consider the reference signals and the modulation and coding scheme (MCS). The
UE may also use predictive methods to estimate the expected MBMS bearer
quality (e.g. speed and direction) to proactively inform the NRM server of an
expected loss of the MBMS bearer quality.
NOTE 2: The threshold used to indicate MBMS bearer quality depends on VAL
service type and the metrics used. The metrics used and the associated
thresholds are out of scope of this specification.
NOTE 3: The application/vnd.3gpp.seal-mbms-usage-info+xml can contain both the
listening status \"listening\" and \"not listening\" at the same time.
a) shall generate an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body
with an \ element in the \ root
element which;
1) shall include an \ element set to the identity of the VAL user or
VAL UE who wants to report the MBMS listening status;
2) shall include an \ element set to \"listening\" if
the SNRM-C is listening to the MBMS bearer or \"not-listening\" if the SNRM-C
is not listening;
3) shall include one or more \ elements for which the listening status
applies;
4) may include an \ element set to the reception
quality level per TMGI; and
5) if the \ element is present in the MBMS announcement
message, shall include an \ element set to
\"listening\" or \"not-listening\" indicating the unicast listening status.
###### 6.2.3.4.1.1 SIP based procedure
If the VAL service supports SIP, the SNRM-S shall generate a SIP MESSAGE
request according to 3GPP TS 24.229 [6] and IETF RFC 3428 [17] with the
constructed application/vnd.3gpp.seal-mbms-usage-info+xml MIME body as
specified in clause 6.2.3.4.1 and the application/vnd.3gpp.seal-info+xml MIME
body. In the SIP MESSAGE request, the SNRM-C:
a) shall include a Request-URI set to the MBMS public service identity of the
SNRM-S received in the P-Asserted-Identity header field of the announcement
message;
b) shall include an Accept-Contact header field with the g.3gpp.icsi-ref
media-feature tag with the value of \"urn:urn-7:3gpp-service.ims.icsi.seal\"
along with parameters \"require\" and \"explicit\" according to IETF RFC 3841
[18];
c) should include a public user identity in the P-Preferred-Identity header
field as specified in 3GPP TS 24.229 [6];
d) shall include a P-Preferred-Service header field with the value
\"urn:urn-7:3gpp-service.ims.icsi.seal\";
e) shall send the SIP MESSAGE request according to 3GPP TS 24.229 [6].
###### 6.2.3.4.1.2 HTTP based procedure
If the VAL service does not support SIP, the SNRM-S shall generate an HTTP
POST request message in accordance with IETF RFC 7231 [22] with the
constructed application/vnd.3gpp.seal-mbms-usage-info+xml MIME body as
specified in clause 6.2.3.4.1 and the application/vnd.3gpp.seal-info+xml MIME
body. In the HTTP POST request message, the SNRM-C:
a) shall set the Request-URI to the URI corresponding to the identity of the
SNRM-S;
b) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-mbms-usage-info+xml\"; and
c) shall send the HTTP POST request towards the SNRM-S according to IETF RFC
7231 [22].
##### 6.2.3.4.2 SNRM server SIP and HTTP procedure
###### 6.2.3.4.2.1 SIP based procedure
Upon receiving a SIP MESSAGE request containing:
a) an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body with an \ element and an \ element;
the SNRM-S:
a) shall verify that the public user identity in the P-Asserted-Identity
header field is bound to the VAL user ID in the \ element in
the application/vnd.3gpp.seal-info+xml MIME body;
b) may send an MBMS bearer announcement message as specified in clause 6.2.3.3
with additional proposal for measurements, e.g. information about neighbouring
MBMS bearers; and
c) may send user plane delivery mode to VAL server based on the MBMS listening
status to preserve the service continuity as described in clause 6.2.3.5.
###### 6.2.3.4.2.2 HTTP based procedure
Upon receiving an HTTP POST request message containing:
a) an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body with an \ element and an \ element;
the SNRM-S:
a) shall determine the identity of the sender of the received HTTP POST
request as specified in clause 6.2.3.4.1.2, and:
1) if the identity of the sender of the received HTTP POST request is not
authorized to detect MBMS bearer quality, shall respond with an HTTP 403
(Forbidden) response to the HTTP POST request and skip rest of the steps;
b) may send an MBMS bearer announcement message as specified in clause 6.2.3.3
with additional proposal for measurements, e.g. information about neighbouring
MBMS bearers; and
c) may send user plane delivery mode to VAL server based on the MBMS listening
status to preserve the service continuity as described in clause 6.2.3.5.
##### 6.2.3.4.3 SNRM client CoAP procedure
Upon determining the MBMS bearer quality, if the MBMS bearer quality reaches a
certain threshold, the SNRM-C shall report the MBMS listening status. The
SNRM-C:
NOTE 1: The SNRM-C may determine the MBMS bearer quality by using the BLER of
the received data. When no data is received, the quality estimation can
consider the reference signals and the modulation and coding scheme (MCS). The
UE may also use predictive methods to estimate the expected MBMS bearer
quality (e.g. speed and direction) to proactively inform the NRM server of an
expected loss of the MBMS bearer quality.
NOTE 2: The threshold used to indicate MBMS bearer quality depends on VAL
service type and the metrics used. The metrics used and the associated
thresholds are out of scope of this specification.
NOTE 3: As a precondition, the SNRM-S must be observing the MBMS Resource
State resource at the SNRM-C as described in clause 6.2.3.4.4.
1) shall include Content-Format option set to \"application/vnd.3gpp.seal-
mbms-state+cbor\"; and
1) shall include Content-Format option set to "application/vnd.3gpp.seal-mbms-
state+cbor"; and
2) shall include \"MbmsResourceState\" object in the payload:
i) shall include the \"tmgi\" attribute set to the TMGI of the MBMS resource;
ii) shall include the \"monitorConfig\" set to the current monitoring
configuration at the SNRM-C;
iii) may include the \"receptionQualityLevel\" set to the measured reception
quality level;
iv) if the \"unicastResource\" attribute of the \"monitorConfig\" object is
set to \"true\", shall include the \"unicastListeningState\" set to \"true\"
or \"false\" indicating the unicast listening status of \"listening\" or
\"not-listening\" respectively; and
v) if the \"suspension\" attribute of the \"monitorConfig\" object is set to
\"true\", shall include the \"suspensionState\" set to \"true\" or \"false\"
indicating the suspension status of \"suspending\" or \"not-suspending\"
respectively.
##### 6.2.3.4.4 SNRM server CoAP procedure
In order to obtain listening status reports from the SNRM-Cs, for each SNRM-C
which has been configured to monitor the MBMS Resource, the SNRM-S shall send
an extended CoAP GET request as specified in IETF RFC 7641 [25] with the CoAP
URI set to the URI of the observable MBMS Resource State resource described in
clause A.3.1.2.3.3.1 with the Observe option set to 0 (Register).
Upon receiving a CoAP 2.05 (Content) response that matches the extended CoAP
GET request and which contains the Observe option, the SNRM-S:
a) shall handle the response according to IETF RFC 7641 [25];
b) may send an MBMS bearer announcement message as specified in clause 6.2.3.3
with additional proposal for measurements, e.g. information about neighbouring
MBMS bearers; and
c) may send user plane delivery mode to VAL server based on the MBMS listening
status to preserve the service continuity as described in clause 6.2.3.5.
#### 6.2.3.5 Service continuity in MBMS scenarios
##### 6.2.3.5.1 SNRM client procedures
If the VAL UE is located in MBSFN 1 and can listen to TMGI 1, where no
additional MBMS bearers that the SNRM-C is interested in are active in the
current cell, the SNRM-C shall send an MBMS listening status report with
information related to TMGI 1 as specified in clause 6.2.3.4.1 towards the
SNRM-S.
If the VAL UE moves into a new cell in which both TMGI 1 and TMGI 2 are
active, the SNRM-C shall send a location information report as specified in
3GPP TS 24.545 [8] clause 6.2.2.2.2 towards the SNRM-S.
If the SNRM-C receives TMGI 1 and TMGI 2, the SNRM-C shall send an MBMS
listening status report with information related to TMGI 1 and TMGI 2 as
specified in clause 6.2.3.4.1 towards or in clause 6.2.3.4.3 the SNRM-S.
If the VAL UE moves into a new cell in MBSFN area 2, where only TMGI 2 is
active, the SNRM-C shall send an MBMS listening status report with information
related to TMGI 2 as specified in clause 6.2.3.4.1 or in clause 6.2.3.4.3
towards the SNRM-S.
##### 6.2.3.5.2 SNRM server HTTP procedure
Upon receiving an HTTP POST request message containing:
a) a Content-Type header field set to \"application/vnd.3gpp.seal-mbms-usage-
info+xml\"; and
b) an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body with an \ element;
the SNRM-S:
a) shall determine the identity of the sender of the received HTTP POST
request as specified in clause 6.2.1.1, and:
1) if the identity of the sender of the received HTTP POST request is not
authorized to report mbms listening status, shall respond with a HTTP 403
(Forbidden) response to the HTTP POST request and shall skip rest of the
steps; and
2) shall support handling an HTTP POST request from a SNRM-C according to
procedures specified in IETF RFC 4825 [19] \"POST Handling\";
b) shall generate an HTTP POST request message according to IETF RFC 7231
[22]. In the HTTP POST request message, the SNRM-S:
1) shall include a Request-URI set to the URI corresponding to the identity of
the VAL server;
2) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-mbms-usage-info+xml\";
3) shall include an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body
with a \ element in the \ root element
which shall include:
i) a \ element indicating whether to deliver the user data to
the UE(s) via unicast mode or multicast mode;
ii) an \ element indicating the MBMS media stream to be
used to deliver the media currently over unicast, or the MBMS media stream
currently being used.; and
iii) one or more \ element(s), each element
indicating the unicast media stream to be used to deliver the media currently
over multicast, or the unicast to be stopped and switched to multicast; and
c) shall send the HTTP POST request towards the VAL server according to IETF
RFC 7231 [22].
Upon receiving an HTTP POST request message containing:
a) a Content-Type header field set to \"application/vnd.3gpp.seal-location-
info+xml\";
b) an application/vnd.3gpp.seal-location-info+xml MIME body with a \
element in the \ root element;
the SNRM-S:
a) shall determine the identity of the sender of the received HTTP POST
request as specified in clause 6.2.1.1, and:
1) if the identity of the sender of the received HTTP POST request is not
authorized to report location information, shall respond with a HTTP 403
(Forbidden) response to the HTTP POST request and shall skip rest of the
steps; and
2) shall support handling an HTTP POST request from a SNRM-C according to
procedures specified in IETF RFC 4825 [19] \"POST Handling\"; and
b) shall send an MBMS bearer announcement message with information related to
TMGI 2 as specified in clause 6.2.3.3 towards the SNRM-C.
##### 6.2.3.5.3 SNRM server CoAP procedure
Upon receiving a CoAP 2.05 (Content) response with a listening status report
as described in clause 6.2.3.4.4, the SNRM-S:
a) shall generate an HTTP POST request message according to IETF RFC 7231
[22]. In the HTTP POST request message, the SNRM-S:
1) shall include a Request-URI set to the URI corresponding to the identity of
the VAL server;
2) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-mbms-usage-info+xml\"; and
3) shall include an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body
with a \ element in the \ root element
which shall include:
i) a \ element indicating whether to deliver the user data to
the UE(s) via unicast mode or multicast mode;
ii) an \ element indicating the MBMS media stream to be
used to deliver the media currently over unicast, or the MBMS media stream
currently being used.; and
iii) one or more \ element(s), each element
indicating the unicast media stream to be used to deliver the media currently
over multicast, or the unicast to be stopped and switched to multicast; and
b) shall send the HTTP POST request towards the VAL server according to IETF
RFC 7231 [22].
Upon reception of a CoAP PUT request message where the CoAP URI of the CoAP
PUT request identifies a location report as specified in in 3GPP TS 24.545 [8]
clause 6.2.2.5.2 , and containing:
a) a Content-Format option set to \"application/vnd.3gpp.seal-location-
info+cbor\"; and
b) a \"LocationReport\" object;
the SNRM-S:
a) shall determine the identity of the sender of the received CoAP PUT request
as specified in clause 6.2.1.2; and
1) if the identity of the sender of the received CoAP PUT request is not
authorized to report location information, shall respond with a CoAP 4.03
(Forbidden) response to the CoAP PUT request and shall skip rest of the steps;
and
2) shall support handling a CoAP PUT request according to IETF RFC 7252 [23];
and
b) shall send an MBMS bearer announcement message with information related to
TMGI 2 as specified in clause 6.2.3.3 towards the SNRM-C.
#### 6.2.3.6 MBMS suspension notification procedure
##### 6.2.3.6.1 SNRM client HTTP procedure
Upon receiving an HTTP POST request message containing:
a) a Content-Type header field set to \"application/vnd.3gpp.seal-mbms-usage-
info+xml\"; and
b) an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body with an \ element in the \ root element;
the SNRM-C shall send an HTTP 204 (No Content) response according to IETF RFC
7231 [22] towards the SNRM-S.
If the SNRM-C detects the MBMS suspension and has not received a \ element set to \"disable\", the SNRM-C shall generate an HTTP POST
request message according to IETF RFC 7231 [22]. In the HTTP POST request
message, the SNRM-C:
a) shall include a Request-URI set to the URI corresponding to the identity of
the SNRM-S;
b) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-mbms-usage-info+xml\";
c) shall include an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body
with an \ element in the \ root element
which:
1) shall include an \ element set to the identity of the VAL user or
VAL UE that reports MBMS suspension;
2) if at least one MBMS bearer is about to be suspended:
i) shall include an \ element set to \"suspending\";
ii) shall set the \ element to the total number of
the included \ elements and \ elements;
iii) shall include \ element(s) set to the TMGI value for each
of the MTCHs on the same MCH corresponding to the MBMS bearers about to be
suspended; and
iv) may include \ elements, if available, corresponding to the
TMGI values for other MTCHs on the same MCH as the MBMS bearers to be
suspended; and
3) if the MBMS bearer is no longer about to be suspended, shall include:
i) an \ element set to \"not-suspending\";
ii) a \ element set to the number of included
\ elements; and
iii) a \ element set to the corresponding TMGI value for each
of the MTCHs of the MBMS bearers that are no longer about to be suspended; and
d) shall send the HTTP POST request message towards the SNRM-S according to
IETF RFC 7231 [22].
##### 6.2.3.6.2 SNRM server HTTP procedure
If the SNRM-S decide on a subset of all VAL UEs in the MBMS broadcast area
that shall report on MBMS bearer suspension, the SNRM-S shall generate an HTTP
POST request message according to IETF RFC 7231 [22]. In the HTTP POST request
message, the SNRM-S:
a) shall include a Request-URI set to the URI corresponding to the identity of
the SNRM-C;
b) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-mbms-usage-info+xml\";
c) shall include an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body
with an \ element in the \
root element which:
1) if a unicast bearer is used for MBMS suspension reporting, shall include:
i) an \ element set to the identity of the VAL user or VAL UE that
shall report MBMS suspension; and
ii) a \ element indicating to enable or disable the
suspension reporting for the SNRM-C; and
2) if a multicast bearer is used for MBMS suspension reporting, shall include:
i) a \ element containing a uniquely
defined subset of NRM clients that shall report MBMS suspension; and
d) shall send the HTTP POST request message towards the SNRM-C according to
IETF RFC 7231 [22].
##### 6.2.3.6.3 SNRM client CoAP procedure
When the SNRM-C detects a change in the MBMS suspension state, the SNRM-C
shall notify the SNRM-S of the change. The SNRM-C:
NOTE 1: As a precondition, the SNRM-S must be observing the MBMS Resource
State resource at the SNRM-C as described in clause 6.2.3.6.4.
a) shall send a CoAP 2.05 (Content) response to the extended CoAP GET request
according to IETF RFC 7641 [25]:
1) shall include Content-Format option set to \"application/vnd.3gpp.seal-
mbms-state+cbor\"; and
2) shall include \"MbmsResourceState\" object in the payload:
i) shall include the \"tmgi\" attribute set to the TMGI of the MBMS resource;
ii) shall include the \"monitorConfig\" set to the current monitoring
configuration at the SNRM-C;
iii) may include the \"receptionQualityLevel\" set to the measured reception
quality level; and
iv) if the \"unicastResource\" attribute of the \"monitorConfig\" object is
set to \"true\", shall include the \"unicastListeningState\" set to \"true\"
or \"false\" indicating the unicast listening status of \"listening\" or
\"not-listening\" respectively; and
v) if the \"suspension\" attribute of the \"monitorConfig\" object is set to
\"true\", shall include the \"suspensionState\" set to \"true\" or \"false\"
indicating the suspension status of \"suspending\" or \"not-suspending\"
respectively.
##### 6.2.3.6.4 SNRM server CoAP procedure
If the SNRM-S decides on a subset of all VAL UEs in the MBMS broadcast area
that shall report on MBMS bearer suspension, the SNRM-S shall update the
monitoring configuration of the identified SNRM-Cs to enable MBMS bearer
suspension monitoring.
The SNRM-S:
a) shall ensure that it is already observing the MBMS Resource State resource
of the MBMS bearer for which a suspension report is required. To start
observing, the SNRM-S shall send an extended CoAP GET request as specified in
IETF RFC 7641 [25] with the CoAP URI set to the URI of the observable MBMS
Resource State resource described in clause A.3.1.2.3.3.1 with the Observe
option set to 0 (Register);
b) shall generate a CoAP PUT request according to IETF RFC 7252 [23]. In the
CoAP PUT request, the SNRM-S:
1) shall set the CoAP URI to the MBMS Resource Configuration resource URI
according to the resource definition in clause A.3.1.2.2.3:
i) the \"apiRoot\" is set to the SNRM-C URI;
ii) the \"valServiceId\" is set to the identity of the VAL service;
iii) the \"tmgi\" is set to a TMGI value;
2) shall include Content-Format option set to \"application/vnd.3gpp.seal-
mbms-config+cbor\"; and
3) shall include \"MbmsResourceConfig\" object in the payload set to a
modified MBMS resource configuration which shall include the \"monitorConfig\"
object:
i) may include the \"receptionQuality\" attribute set to the existing value;
ii) may include the \"unicastResource\" attribute set to the existing value;
and
iii) shall include the \"suspension\" attribute set to set to \"true\"; and
c) shall send the CoAP PUT request protected towards the SNRM-C with the
relevant ACE profile (OSCORE profile or DTLS profile) as described in 3GPP TS
24.547 [9].
#### 6.2.3.7 MBMS bearer event notification procedure
##### 6.2.3.7.1 SNRM server procedure
NOTE The details between the SNRM-S and EPS (BM-SC) are defined in 3GPP TS
29.468 [13].
Upon receiving an MBMS bearer event notification as described in the clause
6.4.5 of 3GPP TS 29.468 [13], the SNRM-S shall send a user plane delivery mode
as described in clause 6.2.2.4.2 towards the VAL server.
#### 6.2.3.8 Switching between MBMS bearer and unicast bearer procedure
##### 6.2.3.8.1 SNRM client HTTP and CoAP procedure
If the VAL UE detects changing MBMS bearer condition (good or bad MBMS
coverage) for the corresponding MBMS service, the SNRM-C shall send an MBMS
listening status report as specified in clause 6.2.3.4.1 or in clause
6.2.3.4.3 towards the SNRM-S.
##### 6.2.3.8.2 SNRM server HTTP and CoAP procedure
Upon receiving an MBMS listening status report from SNRM-C as specified in
clause 6.2.3.4.2 or in clause 6.2.3.4.4, the SNRM-S shall send a user plane
delivery mode as described in clause 6.2.2.4.2 towards the VAL server.
#### 6.2.3.9 Use of dynamic MBMS bearers procedure
##### 6.2.3.9.1 VAL server procedure
If the VAL server uses a unicast bearer for communication with the UE on the
DL at the start of the group communication session, in order to trigger to use
an MBMS bearer in EPS for the DL VAL service communication, the VAL server
shall send an MBMS bearer request message as described in clause 6.2.3.2.1
towards the SNRM-S.
##### 6.2.3.9.2 SNRM server HTTP and CoAP procedures
Upon receiving an HTTP POST request message containing:
a) a Content-Type header field set to \"application/vnd.3gpp.seal-mbms-usage-
info+xml\"; and
b) an application/vnd.3gpp.seal-mbms-usage-info+xml MIME body with a
\ element in the \ root element;
the SNRM-S:
a) shall determine the identity of the sender of the received HTTP POST
request as specified in clause 6.2.1.1, and:
1) if the identity of the sender of the received HTTP POST request is not
authorized to request mbms resource, shall respond with a HTTP 403 (Forbidden)
response to the HTTP POST request and shall skip rest of the steps; and
2) shall support handling an HTTP POST request from a VAL server according to
procedures specified in IETF RFC 4825 [19] \"POST Handling\"; and
b) shall determine to activate MBMS bearer, and then send an MBMS bearer
announcement message as described in clause 6.2.3.2.2 or in clause 6.2.3.2.3
towards the SNRM-C.
Upon receiving an MBMS bearer response from the SNRM-C as specified in clause
6.2.3.2.2 or in clause 6.2.3.2.3, the SNRM-S shall send an MBMS bearers
response message as described in clause 6.2.3.2.2 or in clause 6.2.3.2.3
towards the VAL server.
##### 6.2.3.9.3 SNRM client HTTP and CoAP procedures
Upon receiving an MBMS bearer announcement from the SNRM-S, the SNRM-C shall
act on the announcement as described in clause 6.2.3.2.3 or in clause
6.2.3.2.4.
### 6.2.4 Network assisted UE-to-UE communications resource management
#### 6.2.4.1 General
This clause describes the QoS management procedures by a server and clients,
while the clients are in communications with each other. The QoS management
consists of fulfilling the requirements for the QoS parameters i.e. latency,
throughput, reliability and jitter, while the clients communicating with each
other via the server. The network assisted QoS management procedures may be
performed by a VAL server and VAL clients for a VAL application. The network
assisted QoS management may be performed by the SNRM-S acting as application
server and to manage QoS in a communication between two or more SNRM-Cs acting
as application clients.
The network assisted UE-2-UE communications resource management contains of
the following steps:
a) network assisted QoS management initiation, where an SNRM-C initiates the
procedure by providing an SNRM-S a set of end-to-end QoS requirements for a
service area and a validity period and requesting a QoS management for
communications with one or more SNRM-Cs; and
b) network assisted QoS management provisioning, where the S-NRM-S receives a
QoS downgrade information from one or more SNRM-Cs engaged in a communication
and therefore notifies the SNRM-Cs with a QoS change. The SNRM-S may also get
the downgrade information from 5GCN and may act upon it by communicating to
5GCN to modify the QoS profile or update the PCC rules to apply new traffic
policy for the ongoing communications based on subscription information.
#### 6.2.4.2 Network assisted QoS management initiation
##### 6.2.4.2.1 SNRM client HTTP procedure
In order to initiate the network assisted QoS management for UE
communications, the SNRM-C shall send an HTTP POST request message according
to procedures specified in IETF RFC 7231 [22]. In the HTTP POST request
message, the SNRM-C:
a) shall set the Request-URI to the URI identifying the SNRM-S;
b) shall include an Accept header field set to \"application/vnd.3gpp.seal-
network-QoS-management-info+xml\";
c) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-network-QoS-management-info +xml\"; and
d) shall include an application/vnd.3gpp.seal-network-QoS-management-info+xml
MIME body with the \ root element including the
\ element which:
1) shall include a \ element set to the identity or IP address of
the SNRM-C acting as the VAL UE and performing the request;
2) shall include a \ element with one or more \ child
elements set to the identities of the VAL UEs which are nodes for the end-to-
end application within the VAL service, for which the end-to-end QoS
management applies;
3) may include a \ element set to the VAL service identity of
the VAL application;
4) may include \ element set to the QoS
requirements for latency, throughput, reliability and jitter for the VAL
application for the end-to-end session;
5) may include a \ element set to the geographical area or
topological area where an end-to-end QoS management request applies; and
6) may include a \ element set to the period of time during
which an end-to-end requirement is valid.
##### 6.2.4.2.2 SNRM server HTTP procedure
Upon receipt an HTTP POST request from the SNRM-C for the network assisted QoS
management for UE communications, the SNRM-S shall determine the identity of
the sender as specified in clause 6.2.1.1 to confirm whether the sender is
authorized or not. If:
a) the sender is not an authorized user, the SNRM-S shall respond with an HTTP
403 (Forbidden) response message and avoid the rest of steps; or
b) the sender is an authorized user, the SNRM-S:
1) shall initiate the network assisted QoS management for the communications
between the SNRM-C acting as the VAL UE and is identified by the value of the
\ element with SNRM-Cs of the VAL UEs with the identities listed as
values in the \ element for the VAL service, identified by the
value of the \ element by using the values for the \ element, \ element and \
element from the HTTP POST request message; and
2) shall send an HTTP 200 (OK) response message according to procedures
specified in IETF RFC 7231 [22], where the HTTP 200 (OK) response message:
i) shall set the Request-URI to the URI identifying the SNRM-S;
ii) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-network-QoS-management-info +xml\"; and
iii) shall include an application/vnd.3gpp.seal-network-QoS-management-
info+xml MIME body with the \ root element
including the \ element which:
A) shall include a \ element set to the outcome of the end-to-end QoS
management response which indicates either a success or a failure; and
B) may include a \ element set to QoS downgrade reported by
the SNRM-C or for QoS change requested by SNRM-S.
##### 6.2.4.2.3 SNRM client CoAP procedure
In order to initiate the network assisted QoS management for UE
communications, the SNRM-C shall create a QoS Session resource by sending a
CoAP POST request to the SNRM-S. In the CoAP POST request, the SNRM-C:
a) shall set the CoAP URI to the QoS Sessions resource URI to according to the
resource definition in clause A.2.1.2.2.2:
1) the \"apiRoot\" is set to the SNRM-S URI;
b) shall include Content-Format option set to \"application/vnd.3gpp.seal-qos-
session-info+cbor\";
c) shall include \"QosSession\" object:
1) shall set \"requiredQoS\" attribute to the required end-to-end QoS
requirement;
2) shall include a list of VAL UEs which are requested to participate in the
QoS session in the \"participants\" attribute, and for each participant, shall
add a \"SessionParticipant\" object in which:
i) shall set \"id\" attribute to the VAL UE ID; and
ii) if the participant object represents the requesting VAL UE, shall include
the \"state\" object and set its \"active\" attribute to \"true\"; and
3) may include \"valServiceId\" attribute set to the identity of the VAL
service enabled by the QoS session;
4) may include one or more geographical area identifiers in \"serviceArea\"
attribute; and
5) may include \"validPeriod\" attribute set to the time period when the QoS
session is valid; and
d) shall send the request protected with the relevant ACE profile (OSCORE
profile or DTLS profile) as described in 3GPP TS 24.547 [9].
Upon receiving a CoAP 2.01 (Created) response, the SNRM-C shall store the
newly created QoS Session and shall check if it contains a reporting
configuration to be applied.
##### 6.2.4.2.4 SNRM server CoAP procedure
Upon reception of a CoAP POST request where the CoAP URI of the request
identifies the QoS Sessions resource URI according to the resource definition
in clause A.2.1.2.2.2, the SNRM-S:
a) shall determine the identity of the sender of the received CoAP POST
request as specified in clause 6.2.1.2, and:
1) if the identity of the sender of the received CoAP POST request is not
authorized to create the QoS session, shall respond with a 4.03 (Forbidden)
response to the CoAP POST request and skip rest of the steps;
b) shall support handling a CoAP POST request from a SNRM-C according to
procedures specified in IETF RFC 7252 [23]; and
c) shall create a new Individual QoS Session resource and for each VAL UE in
the list of participants shall create a new Individual Session Participant
resource and shall return a CoAP 2.01 (Created) response with the
\"QosSession\" object including its resource URI in \"resUri\" attribute, and
optionally a reporting configuration in \"reportConf\" attribute.
#### 6.2.4.3 Network assisted QoS management provisioning
##### 6.2.4.3.1 SNRM client HTTP procedure
In order to provision the network assisted QoS management for UE
communications, the SNRM-C shall send an HTTP POST request message according
to procedures specified in IETF RFC 7231 [22]. In the HTTP POST request
message, the SNRM-C:
a) shall set the Request-URI to the URI identifying the SNRM-S;
b) shall include an Accept header field set to \"application/vnd.3gpp.seal-
network-QoS-management-info+xml\";
c) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-network-QoS-management-info +xml\";
d) shall include an application/vnd.3gpp.seal-network-QoS-management-info+xml
MIME body and with the \ root element including
the \ element which:
1) shall include a \ element set to the identity of the SNRM-C
acting as the VAL UE and performing the request; and
2) may include \ element set to the report indicating a
QoS downgrade of the end-to-end QoS parameters (latency, throughput,
reliability and jitter) which may be reported based on QoS configuration
parameter from the end-to-end QoS management response.
##### 6.2.4.3.2 SNRM server HTTP procedure
Upon receipt an HTTP POST request from the SNRM-C for provisioning the network
assisted QoS management for UE communications, the SNRM-S shall determine the
identity of the sender as specified in clause 6.2.1.1 to confirm whether the
sender is authorized or not. If:
a) the sender is not an authorized user, the SNRM-S shall respond with an HTTP
403 (Forbidden) response message and avoid the rest of steps; or
b) the sender is an authorized user, the SNRM-S:
1) shall provision the network assisted QoS management for SNRM-C acting as
the VAL UE and is identified by the value of the \ element by using
the value for \ element from the HTTP POST request
message; and
2) shall send an HTTP 200 (OK) response message according to procedures
specified in IETF RFC 7231 [22], where the HTTP 200 (OK) response message:
i) shall set the Request-URI to the URI identifying the SNRM-S;
ii) shall include a Content-Type header field set to
\"application/vnd.3gpp.seal-network-QoS-management-info +xml\"; and
iii) shall include an application/vnd.3gpp.seal-network-QoS-management-
info+xml MIME body with the \ root element
including the \ element which:
A) shall include a \ element set to the identity of the VAL
server; and
B) shall include a \ element set to change request
for the end-to-end QoS management, imposed by the VAL server on one or more
VAL UEs, engaged in a network-assisted communication.
##### 6.2.4.3.3 SNRM client CoAP procedure
In order to provision the network assisted QoS management for UE
communications, the SNRM-C shall send a CoAP PUT request to the SNRM-S to
update the reported QoS of the QoS session participant. In the CoAP PUT
request, the SNRM-C:
a) shall set the CoAP URI to the \"resUri\" of the QoS session participant
corresponding to the VAL UE, so that the CoAP URI of the request identifies
the Individual Session Participant resource to be updated according to the
resource definition in clause A.2.1.2.4.3.2:
1) the \"apiRoot\" is set to the SNRM-S URI;
2) the \"qosSessionId\" is set to point to the QoS session; and
3) the \"participantId\" is set to the VAL UE ID;
b) shall include Content-Format option set to \"application/vnd.3gpp.seal-qos-
session-participant-info+cbor\";
c) shall include \"SessionParticipant\" object which:
1) shall include \"state\" object with the \"active\" attribute set to
\"true\"; and
2) shall include \"reportedQoS\" attribute with the experienced or expected
QoS; and
d) shall send the request protected with the relevant ACE profile (OSCORE
profile or DTLS profile) as described in 3GPP TS 24.547 [9].
##### 6.2.4.3.4 SNRM server CoAP procedure
Upon reception of a CoAP PUT request where the CoAP URI of the request
identifies Individual QoS Session Participant resource as described in clause
A.2.1.2.4.3.2, the SNRM-S:
a) shall determine the identity of the sender of the received CoAP PUT request
as specified in clause 6.2.1.2, and:
1) if the identity of the sender of the received CoAP PUT request is not
authorized to update requested QoS session participant resource, shall respond
with a CoAP 4.03 (Forbidden) response to the CoAP PUT request and skip rest of
the steps;
b) shall support handling a CoAP PUT request from a SNRM-C according to
procedures specified in IETF RFC 7252 [23]; and
c) shall update the individual QoS session participant resource pointed at by
the CoAP URI with the content of \"SessionParticipant\" object received in the
request and return a CoAP 2.04 (Changed) response; and
d) if reported QoS is included in \"reportedQoS\" attribute, shall determine
any needed actions to fulfil the end-to-end QoS for the QoS session.
## 6.3 Off-network procedures
The off-network procedures are out of scope of the present document in this
release of the specification.
# 7 Coding
## 7.1 General
This clause specifies the coding to enable an SNRM-C and an SNRM-S to
communicate.
## 7.2 Application unique ID
The AUID shall be set to the VAL service ID as specified in specific VAL
service specification.
## 7.3 Structure
The network resource management document shall conform to the XML schema
described in clause 7.4.
### 7.3.1 VALInfo document
The \ element shall be the root element of the VALInfo
document.
The \ element shall include one of the followings:
a) a \ element may include a \ element; or
b) a \ element.
### 7.3.2 UnicastInfo document
The \ element shall be the root element of the UnicastInfo
document.
The \ element shall include one of the followings:
a) a \ element;
b) a \ element;
c) a \ element;
d) a \ element;
e) an \ element; or
f) an \ element.
The \ element shall include the followings:
a) a \ element;
b) an \ element; and
c) an optional \ element.
The \ element shall include the followings:
a) a \ element;
b) an \ element; and
c) a \ element.
The \ element shall include the followings:
a) a \ element;
b) an \ element which shall include one of the following elements:
1) a \ element which shall include:
i) one or more \ elements; and
2) a \ element; and
c) a \ element.
### 7.3.3 MBMSInfo document
The \ element shall be the root element of the MBMSInfo document.
The \ element shall include one of the followings:
a) one or more \ elements;
b) an \ element;
c) a \ element;
d) an \ element;
e) a \ element;
f) an \ element; or
g) an \ element.
The \ element shall include:
a) a \ element;
b) an optional \ element;
c) an optional \ element;
d) an \ element which shall include:
1) one or more \ elements;
e) a \ element;
f) an \ element;
g) an optional \ element;
h) an optional \ element;
i) an optional \ element; and
j) an optional \ element.
The \ element shall include:
a) an \ element;
b) a \ element;
c) an \ element;
d) an optional \ element; and
e) an optional \ element.
The \ element shall include:
a) a \ element;
b) a \ element;
c) a \ element;
d) a \ element;
e) an optional \ element; and
f) an \ element.
The \ element shall include:
a) a \ element;
b) an optional \ element;
c) a \ element; and
d) an optional \ element.
The \ element shall include:
a) a \ element;
b) an \ element; and
c) a \ element;
The \ element shall include either the
first two followings or the third following:
a) an \ element;
b) a \ element; or
c) a \ element which shall include:
1) one or more \ elements.
The \ element shall include:
a) an \ element;
b) an \ element;
c) one or more \ element; and
d) an optional \ element.
### 7.3.4 NetworkQoSManagementInfo document
The \ element shall be the root element of the
NetworkQoSManagementInfo document.
The \ element shall include one of the followings:
a) a \ element;
b) a \ element;
c) a \ element; and
d) a \ element;
The \ element:
a) shall include a \ element;
b) shall include a \ element;
1) shall include one or more \ elements;
c) may include \ element which:
d) may include \ element;
e) may include \ element; and
f) may include \ element.
The \ element:
a) shall include a \ element; and
b) may include a \ element.
The \ element:
a) shall include a \ element; and
b) may include a \ element;
The \ element:
a) shall include a \ element; and
b) shall include a \ element;
## 7.4 XML schema
### 7.4.1 General
This clause defines the XML schemas for application/vnd.3gpp.seal-info+xml,
application/vnd.3gpp.seal-unicast-info+xml and application/vnd.3gpp.seal-mbms-
usage-info+xml.
### 7.4.2 XML schema for application/vnd.3gpp.seal-info+xml
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
### 7.4.3 XML schema for application/vnd.3gpp.seal-unicast-info+xml
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
### 7.4.4 XML schema for application/vnd.3gpp.seal-mbms-usage-info+xml
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
### 7.4.5 XML schema for application/vnd.3gpp.seal-network-QoS-management-
info+xml
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
## 7.5 Data semantics
### 7.5.1 VALInfo document
The \ element is the root element of the XML document. The
\ element contains one of following sub-elements:
a) \, an element contains the identity of the VAL user. This
element contains an optional \ attribute that contains the
identity of the VAL client; or
b) \, an element contains the group identity of a set of VAL
users or VAL clients according to the VAL service.
The recipient of the XML ignores any unknown element and any unknown
attribute.
### 7.5.2 UnicastInfo document
The recipient of the XML ignores any unknown element and any unknown
attribute.
The \ element is the root element of the XML document. The
\ element contains a \ or \ element.
\ is an optional element used to include the unicast resource
management requested information. The \ element contains the
following sub-elements:
a) \, an element contains the identity of the VAL server
performing the request;
b) \, an element contains the identity of the VAL user or VAL UE;
and
c) \, an optional element contains the requested unicast
resource information.
\ contains a string set to either \"success\" or \"failure\"
used to indicate success or failure of the resource request operation \".
\ contains the following sub-elements:
a) \, an element contains the identity of the VAL server
performing the request;
b) \, an element contains the identity of the VAL user or VAL UE;
and
c) \, an element contains the modified unicast resource
information.
\ contains a string set to either \"success\" or
\"failure\" used to indicate success or failure of the resource modification
request operation.
\ contains the following sub-elements:
a) \, an element contains the identity of the VAL server
performing the request;
b) \, an element contains one of the following elements:
1) \, an element contains one or more \ elements.
Each \ element contains the identity of the VAL UE for whom the
network resource adaptation occurs; and
2) \, an element contains the identity of the VAL group for whom
the network resource adaptation occurs; and
c) \, an element contains VAL service QoS requirements as applied
for the corresponding VAL UEs or group of UEs.
\ contains a string set to either \"success\" or
\"failure\" used to indicate success or failure of the network resource
adaptation with the underlying network.
### 7.5.3 MBMSInfo document
The recipient of the XML ignores any unknown element and any unknown
attribute.
The \ element is the root element of the XML document. The \ element contains one or more \ subelements, the \ subelement, the \ subelement, the \ subelement, the \ subelement, the \ subelement and the \
subelement.
\ element contains the following sub-elements:
a) \, an element contains the TMGI. The \ element is coded as
described in 3GPP TS 24.008 [5] clause 10.5.6.13 excluding the Temporary
mobile group identity IEI and the Length of temporary mobile group identity
contents (octet 1 and octet 2 in 3GPP TS 24.008 [5] clause 10.5.6.13);
b) \, an optional element contains a list of additional
alternative TMGI used in roaming scenarios;
c) \, an optional element contains the QCI information used by the ProSe
UE-Network Relay to determine the ProSe Per-Packet Priority value to be
applied for the multicast packets relayed to Remote UE over PC5. QCI values
are defined in 3GPP TS 23.203 [4];
d) \, an element contains a list of MBMS service area IDs
for the applicable MBMS broadcast area as specified in 3GPP TS 23.003 [3] for
service area identifier (SAI), and with the encoding as specified in 3GPP TS
29.061 [11] for the MBMS-Service-Area AVP;
e) \, an optional element contains identification of frequency in
case of multi carrier support. The \ element is coded as specified
in 3GPP TS 29.468 [13];
f) \, an element contains SDP with media and application
control information applicable to groups that can use this bearer;
g) \, an optional element contains a string used to control
if the client is actively monitoring the MBMS bearer quality or not:
\- The value \"monitor\" indicates that the SNRM-C shall monitor the MBMS
bearer quality; and
\- The value \"not-monitor\" indicates that the SNRM-C shall not monitor the
MBMS bearer quality;
h) \, presence of the \ element indicates the NRM server requires an acknowledgement
of the MBMS bearer announcement;
i) \, presence of the \ element indicates the
listening status of the unicast bearer is requested; and
j) \, presence of the \ element indicates that
the flows delivered by the announced MBMS bearer are header compressed with
ROHC as specified in IETF RFC 5795 [20] and IETF RFC 3095 [16].
\ element contains the following sub-elements:
a) \, an element contains the identity of the VAL user or VAL UE who
wants to report the MBMS listening status;
b) \, an element contains the TMGI. The \ element is coded as
described in 3GPP TS 24.008 [5] clause 10.5.6.13 excluding the Temporary
mobile group identity IEI and the Length of temporary mobile group identity
contents (octet 1 and octet 2 in 3GPP TS 24.008 [5] clause 10.5.6.13);
c) \, an element contains a string \"listening\" or
\"not-listening\" used to indicate the MBMS listening status per TMGI;
d) \, an optional element contains an integer
used to indicate the reception quality level per TMGI; and
e) \, an optional element contains a string
\"listening\" or \"not-listening\" used to indicate the unicast listening
status.
\ is an element used to include the multicast resource management
requested information. The \ element contains the following sub-
elements:
a) \, an element contains the identity of the VAL server
performing the request;
b) \, an element contains the identity of the VAL group that the
MBMS bearer is requested for;
c) \, an element contains a string used to indicate
whether the request is sent by NRM server or by the VAL server:
\- The value \"NRM-S\" indicates the request is sent by NRM server;
\- The value \"VAL-server\" indicates the request is sent by the VAL server;
d) \, an element contains the requested QoS information for the bearer;
e) \, an optional element specifying the serving MBMS service
area id where the MBMS bearer is requested for; and
f) \, an element contains the information of the endpoint of
the VAL server to which the user plane notifications have to be sent.
\ element contains the following sub-elements:
a) \, an element contains a string either \"success\" or \"failure\"
indicating success or failure of the MBMS bearers request operation;
b) \, an optional element contains the TMGI. The \ element is
coded as described in 3GPP TS 24.008 [5] clause 10.5.6.13 excluding the
Temporary Mobile Group Identity IEI and Length of Temporary Mobile Group
Identity contents (octet 1 and octet 2 in 3GPP TS 24.008 [5] clause
10.5.6.13);
c) \, an element contains the BM-SC user plane IP address
and port; and
d) \, an optional element contains the MBMS bearer
related configuration information as defined in 3GPP TS 26.346 [10];
\ element contains the following sub-elements:
a) \, an element contains a string used to indicate whether to
deliver the user data to the UE(s) via unicast mode or multicast mode:
\- The value \"unicast\" indicates to deliver the user data to the UE(s) via
unicast mode;
\- The value \"multicast\" indicates to deliver the user data to the UE(s) via
multicast mode;
b) \, an element set to the MBMS media stream ID
indicating the MBMS media stream to be used to deliver the media currently
over unicast, or the MBMS media stream currently being used; and
c) one or more \ element(s), each element set to the
unicast media stream ID indicating the unicast media stream to be used to
deliver the media currently over multicast, or the unicast to be stopped and
switched to multicast.
\ contains the following sub-elements:
a) \, an element contains the identity of the VAL user or VAL UE
that reports MBMS suspension in case of a unicast bearer is used for MBMS
suspension reporting;
b) \, an element contains a string used to enable or
disable the suspension reporting for the SNRM-C in case of a unicast bearer is
used for MBMS suspension reporting:
\- The value \"enable\" indicates to enable the suspension reporting;
\- The value \"disable\" indicates to disable the suspension reporting; and
c) \, an element contains one or more
\ child elements set to the identities of the NRM clients that
shall report MBMS suspension in case of a multicast bearer is used for MBMS
suspension reporting;
\ element contains the following sub-elements:
a) \, an element contains a string used to indicate
the MBMS bearers intended suspension status:
\- The value \"suspending\" indicates that the RAN has decided to suspend the
referenced MBMS bearer(s) at the beginning of the next MCCH modification
period;
\- The value \"not-suspending\" indicates that the RAN has decided to revoke
its decision to suspend the referenced MBMS bearer(s) before the beginning of
the next MCCH modification period;
b) \, an element contains a hex binary number
denoting the total number of occurrences of the \ and \ elements reported as part of the MBMS bearer suspension status;
c) \, an element contains a TMGI that is being reported as
about to be suspended or as no longer about to be suspended; and
d) \, an element contains a TMGI that is not being reported as
about to be suspended or as no longer about to be suspended, but which shares
the same MCH with MBMS bearers reported in the \ elements;
a) shall include a \ element; and
b) may include a \ element;
The \ element:
a) shall include a \ element; and
b) shall include a \ element;
### 7.5.4 NetworkQoSManagementInfo document
The recipient of the XML ignores any unknown element and any unknown
attribute.
The \ element is the root element of the XML
document. The \ element contains a \ element, a \ element, a \ element or a \ element.
A \ element is used to request for
initiation of the network assisted QoS management. The \ element:
a) shall include a \ element which contains the identity of IP
address of the VAL UE performing the request;
b) shall include a \ element which contains one or more \ child elements, each contains the identity of the VAL UE;
c) may include a \ element which contains the VAL service
identity of the VAL application;
d) may include a \ element which contains the QoS
requirements for latency, throughput, reliability and jitter for the VAL
application for the end-to-end session;
e) may include a \ element which contains the geographical area
or topological area where an end-to-end QoS management request applies; and
f) may include a \ element which contains the period of time
during which an end-to-end requirement is valid.
A \ element is used to get the response
for initiation of the network assisted QoS management. The \ element:
a) shall include a \ element which contains the outcome of the end-to-
end QoS management response which indicates either a success or a failure; and
b) may include a \ element which contains QoS downgrade
reported by the SNRM-C or for QoS change requested by SNRM-S.
A \ element is used to request for
provisioning of the network assisted QoS management. The \ element:
a) shall include a \ element which contains the identity of the
SNRM-C acting as the VAL UE and performing the request; and
b) may include \ element which contains the report
indicating a QoS downgrade of the end-to-end QoS parameters (latency,
throughput, reliability and jitter) which may be reported based on QoS
configuration parameter from the end-to-end QoS management response.
A \ element is used to get the response for
provisioning of the network assisted QoS management. The \ element:
a) shall include a \ element which contains the identity of the
VAL server; and
b) shall include a \ element which contains change
request for the end-to-end QoS management, imposed by the VAL server on one or
more VAL UEs, engaged in a network-assisted communication.
## 7.6 MIME types
The MIME type for the VALInfo document shall be \"application/vnd.3gpp.seal-
info+xml MIME body\".
The MIME type for the UnicastInfo document shall be
\"application/vnd.3gpp.seal-unicast-info+xml MIME body\".
The MIME type for the MBMSInfo document shall be \"application/vnd.3gpp.seal-
mbms-usage-info+xml MIME body\".
The MIME type for the NetworkQoSManagementInfo document shall be
\"application/vnd.3gpp.seal-network-QoS-management-info+xml MIME body\".
## 7.7 IANA registration template
### 7.7.1 IANA registration template for VALInfo
Your Name:
\
Your Email Address:
\
Media Type Name:
Application
Subtype name:
application/vnd.3gpp.seal-info+xml
Required parameters:
None
Optional parameters:
\"charset\" the parameter has identical semantics to the charset parameter of
the \"application/xml\" media type as specified in section 9.1 of IETF RFC
7303.
Encoding considerations:
binary.
Security considerations:
Same as general security considerations for application/xml media type as
specified in section 9.1 of IETF RFC 7303. In addition, this media type
provides a format for exchanging information in SIP or in HTTP, so the
security considerations from IETF RFC 3261 apply while exchanging information
in SIP and the security considerations from IETF RFC 7231 apply while
exchanging information in HTTP.
The information transported in this media type does not include active or
executable content.
Mechanisms for privacy and integrity protection of protocol parameters exist.
Those mechanisms as well as authentication and further security mechanisms are
described in 3GPP TS 24.229.
This media type does not include provisions for directives that institute
actions on a recipient\'s files or other resources.
This media type does not include provisions for directives that institute
actions that, while not directly harmful to the recipient, may result in
disclosure of information that either facilitates a subsequent attack or else
violates a recipient\'s privacy in any way.
This media type does not employ compression.
Interoperability considerations:
Same as general interoperability considerations for application/xml media type
as specified in section 9.1 of IETF RFC 7303. Any unknown XML elements and any
unknown XML attributes are to be ignored by recipient of the MIME body.
Published specification:
3GPP TS 24.548 \"Network Resource Management - Service Enabler Architecture
Layer for Verticals (SEAL); Protocol specification\" version 16.0.0, available
via http://www.3gpp.org/specs/numbering.htm.
Applications which use this media type:
Applications supporting the SEAL network resource management as described in
the published specification.
Fragment identifier considerations:
The handling in section 5 of IETF RFC 7303 applies.
Restrictions on usage:
None
Provisional registration? (standards tree only):
N/A
Additional information:
1\. Deprecated alias names for this type: none
2\. Magic number(s): none
3\. File extension(s): none
4\. Macintosh File Type Code(s): none
5\. Object Identifier(s) or OID(s): none
Intended usage:
Common
Person to contact for further information:
\- Name: \
\- Email: \
\- Author/Change controller:
i) Author: 3GPP CT1 Working Group/3GPP_TSG_CT_WG1\@LIST.ETSI.ORG
ii) Change controller: \/\
### 7.7.2 IANA registration template for UnicastInfo
Your Name:
\
Your Email Address:
\
Media Type Name:
Application
Subtype name:
application/vnd.3gpp.seal-unicast-info+xml
Required parameters:
None
Optional parameters:
\"charset\" the parameter has identical semantics to the charset parameter of
the \"application/xml\" media type as specified in section 9.1 of IETF RFC
7303.
Encoding considerations:
binary.
Security considerations:
Same as general security considerations for application/xml media type as
specified in section 9.1 of IETF RFC 7303. In addition, this media type
provides a format for exchanging information in SIP or in HTTP, so the
security considerations from IETF RFC 3261 apply while exchanging information
in SIP and the security considerations from IETF RFC 7231 apply while
exchanging information in HTTP.
The information transported in this media type does not include active or
executable content.
Mechanisms for privacy and integrity protection of protocol parameters exist.
Those mechanisms as well as authentication and further security mechanisms are
described in 3GPP TS 24.229.
This media type does not include provisions for directives that institute
actions on a recipient\'s files or other resources.
This media type does not include provisions for directives that institute
actions that, while not directly harmful to the recipient, may result in
disclosure of information that either facilitates a subsequent attack or else
violates a recipient\'s privacy in any way.
This media type does not employ compression.
Interoperability considerations:
Same as general interoperability considerations for application/xml media type
as specified in section 9.1 of IETF RFC 7303. Any unknown XML elements and any
unknown XML attributes are to be ignored by recipient of the MIME body.
Published specification:
3GPP TS 24.548 \"Network Resource Management - Service Enabler Architecture
Layer for Verticals (SEAL); Protocol specification\" version 16.0.0, available
via http://www.3gpp.org/specs/numbering.htm.
Applications which use this media type:
Applications supporting the SEAL network resource management as described in
the published specification.
Fragment identifier considerations:
The handling in section 5 of IETF RFC 7303 applies.
Restrictions on usage:
None
Provisional registration? (standards tree only):
N/A
Additional information:
1\. Deprecated alias names for this type: none
2\. Magic number(s): none
3\. File extension(s): none
4\. Macintosh File Type Code(s): none
5\. Object Identifier(s) or OID(s): none
Intended usage:
Common
Person to contact for further information:
\- Name: \
\- Email: \
\- Author/Change controller:
i) Author: 3GPP CT1 Working Group/3GPP_TSG_CT_WG1\@LIST.ETSI.ORG
ii) Change controller: \/\
### 7.7.3 IANA registration template for MBMSInfo
Your Name:
\
Your Email Address:
\
Media Type Name:
Application
Subtype name:
application/vnd.3gpp.seal-mbms-usage-info+xml
Required parameters:
None
Optional parameters:
\"charset\" the parameter has identical semantics to the charset parameter of
the \"application/xml\" media type as specified in section 9.1 of IETF RFC
7303.
Encoding considerations:
binary.
Security considerations:
Same as general security considerations for application/xml media type as
specified in section 9.1 of IETF RFC 7303. In addition, this media type
provides a format for exchanging information in SIP or in HTTP, so the
security considerations from IETF RFC 3261 apply while exchanging information
in SIP and the security considerations from IETF RFC 7231 apply while
exchanging information in HTTP.
The information transported in this media type does not include active or
executable content.
Mechanisms for privacy and integrity protection of protocol parameters exist.
Those mechanisms as well as authentication and further security mechanisms are
described in 3GPP TS 24.229.
This media type does not include provisions for directives that institute
actions on a recipient\'s files or other resources.
This media type does not include provisions for directives that institute
actions that, while not directly harmful to the recipient, may result in
disclosure of information that either facilitates a subsequent attack or else
violates a recipient\'s privacy in any way.
This media type does not employ compression.
Interoperability considerations:
Same as general interoperability considerations for application/xml media type
as specified in section 9.1 of IETF RFC 7303. Any unknown XML elements and any
unknown XML attributes are to be ignored by recipient of the MIME body.
Published specification:
3GPP TS 24.548 \"Network Resource Management - Service Enabler Architecture
Layer for Verticals (SEAL); Protocol specification\" version 16.0.0, available
via http://www.3gpp.org/specs/numbering.htm.
Applications which use this media type:
Applications supporting the SEAL network resource management as described in
the published specification.
Fragment identifier considerations:
The handling in section 5 of IETF RFC 7303 applies.
Restrictions on usage:
None
Provisional registration? (standards tree only):
N/A
Additional information:
1\. Deprecated alias names for this type: none
2\. Magic number(s): none
3\. File extension(s): none
4\. Macintosh File Type Code(s): none
5\. Object Identifier(s) or OID(s): none
Intended usage:
Common
Person to contact for further information:
\- Name: \
\- Email: \
\- Author/Change controller:
i) Author: 3GPP CT1 Working Group/3GPP_TSG_CT_WG1\@LIST.ETSI.ORG
ii) Change controller: \/\
### 7.7.4 IANA registration template for NetworkQoSManagementInfo
Your Name:
\
Your Email Address:
\
Media Type Name:
Application
Subtype name:
application/vnd.3gpp.seal-network-QoS-management-info +xml
Required parameters:
None
Optional parameters:
\"charset\" the parameter has identical semantics to the charset parameter of
the \"application/xml\" media type as specified in section 9.1 of IETF RFC
7303.
Encoding considerations:
binary.
Security considerations:
Same as general security considerations for application/xml media type as
specified in section 9.1 of IETF RFC 7303. In addition, this media type
provides a format for exchanging information in SIP or in HTTP, so the
security considerations from IETF RFC 3261 apply while exchanging information
in SIP and the security considerations from IETF RFC 7231 apply while
exchanging information in HTTP.
The information transported in this media type does not include active or
executable content.
Mechanisms for privacy and integrity protection of protocol parameters exist.
Those mechanisms as well as authentication and further security mechanisms are
described in 3GPP TS 24.229.
This media type does not include provisions for directives that institute
actions on a recipient\'s files or other resources.
This media type does not include provisions for directives that institute
actions that, while not directly harmful to the recipient, may result in
disclosure of information that either facilitates a subsequent attack or else
violates a recipient\'s privacy in any way.
This media type does not employ compression.
Interoperability considerations:
Same as general interoperability considerations for application/xml media type
as specified in section 9.1 of IETF RFC 7303. Any unknown XML elements and any
unknown XML attributes are to be ignored by recipient of the MIME body.
Published specification:
3GPP TS 24.548 \"Network Resource Management - Service Enabler Architecture
Layer for Verticals (SEAL); Protocol specification\" version 16.3.0, available
via http://www.3gpp.org/specs/numbering.htm.
Applications which use this media type:
Applications supporting the SEAL network resource management as described in
the published specification.
Fragment identifier considerations:
The handling in section 5 of IETF RFC 7303 applies.
Restrictions on usage:
None
Provisional registration? (standards tree only):
N/A
Additional information:
1\. Deprecated alias names for this type: none
2\. Magic number(s): none
3\. File extension(s): none
4\. Macintosh File Type Code(s): none
5\. Object Identifier(s) or OID(s): none
Intended usage:
Common
Person to contact for further information:
\- Name: \
\- Email: \
\- Author/Change controller:
i) Author: 3GPP CT1 Working Group/3GPP_TSG_CT_WG1\@LIST.ETSI.ORG
ii) Change controller: \/\
###### ## Annex A (normative): CoAP resource representation and encoding
# A.1 General
The information in this annex provides a normative description of CoAP
resource representation and encoding.
The general rules for resource URI structure, cache usage, error handling, and
common data types are described in clause C.1 of 3GPP TS 24.546 [31].
# A.2 Resource representation and APIs for QoS session
## A.2.1 SU_QosSessionManagement API
### A.2.1.1 API URI
The CoAP URIs used in CoAP requests from SNRM-C towards the SNRM-S shall have
the Resource URI structure as defined in clause C.1.1 of 3GPP TS 24.546 [31]
with the following clarifications:
\- The \ shall be \"su-nqs\".
\- The \ shall be \"v1\".
\- The \ shall be set as described in clause A.2.1.2
### A.2.1.2 Resources
#### A.2.1.2.1 Overview
Figure A.2.1.2.1-1: Resource URI structure of the SU_QosSessionManagement API
Table A.2.1.2.1-1 provides an overview of the resources and applicable CoAP
methods.
Table A.2.1.2.1-1: Resources and methods overview
+-----------------+-----------------+-------------+-----------------+ | Resource name | Resource URI | CoAP method | Description | +=================+=================+=============+=================+ | QoS Sessions | /qos-sessions | POST | Create a new | | | | | QoS session. | +-----------------+-----------------+-------------+-----------------+ | | | GET | Retrieve QoS | | | | | sessions | | | | | according to | | | | | the query | | | | | parameters. If | | | | | there are no | | | | | query | | | | | parameters, do | | | | | not fetch any | | | | | QoS session. | +-----------------+-----------------+-------------+-----------------+ | Individual QoS | /qos-sessions | GET | Retrieve an | | Session | /{qosSessionId} | | individual QoS | | | | (NOTE) | session | | | | | information | | | | | according to | | | | | query parameter | | | | | on the resource | | | | | identified by | | | | | {qosSessionId}. | | | | | If there are no | | | | | query | | | | | parameter, | | | | | fetch the whole | | | | | QoS session | | | | | resource | | | | | identified by | | | | | {qosSessionId}. | +-----------------+-----------------+-------------+-----------------+ | | | PUT | Update an | | | | | individual QoS | | | | | session | | | | | identified by | | | | | {qosSessionId}. | +-----------------+-----------------+-------------+-----------------+ | | | DELETE | Delete a QoS | | | | | session | | | | | identified by | | | | | {qosSessionId}. | +-----------------+-----------------+-------------+-----------------+ | Individual QoS | /qos-session | GET | Retrieve QoS | | Session | s/{qosSessionId | | session | | Participant | }/participants/ | (NOTE) | participant | | | {participantId} | | information | | | | | according to | | | | | the query | | | | | parameters. | +-----------------+-----------------+-------------+-----------------+ | | | PUT | Create or | | | | | update QoS | | | | | session | | | | | participant | | | | | information. | +-----------------+-----------------+-------------+-----------------+ | | | DELETE | Delete QoS | | | | | session | | | | | participant | | | | | information. | +-----------------+-----------------+-------------+-----------------+ | NOTE: The GET | | | | | method can also | | | | | be used to | | | | | observe this | | | | | resource. | | | | +-----------------+-----------------+-------------+-----------------+
#### A.2.1.2.2 Resource: QoS Sessions
##### A.2.1.2.2.1 Description
The QoS Sessions resource represents all the QoS sessions that are created at
a given SNRM-S, or allows to create a new QoS session.
##### A.2.1.2.2.2 Resource Definition
Resource URI: **{apiRoot}/su-nqs/\ /qos-sessions**
This resource shall support the resource URI variables defined in the table
A.2.1.2.2.2-1.
Table A.2.1.2.2.2-1: Resource URI variables for this resource
Name Data Type Definition
* * *
apiRoot string See clause C.1.1 of 3GPP TS 24.546 [31]. apiVersion string See
clause A.2.1.1
##### A.2.1.2.2.3 Resource Standard Methods
###### A.2.1.2.2.3.1 POST
This operation creates a QoS session at the SNRM-S.
This method shall support the request data structures specified in table
A.2.1.2.2.3.1-1 and the response data structures and response codes specified
in table A.2.1.2.2.3.1-2, and the response options specified in table
A.2.1.2.2.3.1-3.
Table A.2.1.2.2.3.1-1: Data structures supported by the POST Request payload
on this resource
* * *
Data type P Cardinality Description QosSession M 1 Details of the QoS session
that needs to be created,
* * *
Table A.2.1.2.2.3.1-2: Data structures supported by the POST Response payload
on this resource
+---------------+---+-------------+--------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+--------------+---------------+ | QosSession | M | 1 | 2.01 Created | QoS session | | | | | | created | | | | | | successfully. | +---------------+---+-------------+--------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | CoAP error | | | | | | status codes | | | | | | for the GET | | | | | | Request | | | | | | listed in | | | | | | table C.1.3-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 24.546 [31] | | | | | | shall also | | | | | | apply.. | | | | | +---------------+---+-------------+--------------+---------------+
Table A.2.1.2.2.3.1-3: Options supported by the 2.01 Response Code on this
resource
+---------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +---------------+-----------+---+-------------+-----------------+ | Location-Path | string | M | 1 | Contains the | | | | | | location path | | | | | | of the newly | | | | | | created | | | | | | resource | | | | | | relative to the | | | | | | request URI. | | | | | | | | | | | | It contains the | | | | | | qosSessionId | | | | | | segment of the | | | | | | complete | | | | | | resource URI | | | | | | according to | | | | | | the structure: | | | | | | {apiRoot}/su-n | | | | | | qs/\/qos-sessions | | | | | | /{qosSessionId} | +---------------+-----------+---+-------------+-----------------+
###### A.2.1.2.2.3.2 GET
This operation retrieves QoS sessions satisfying filter criteria.
This method shall support the URI query parameters specified in table
A.2.1.2.2.3.2-1.
Table A.2.1.2.2.3.2-1: URI query parameters supported by the GET Request on
this resource
* * *
Name Data type P Cardinality Description qos-session-id string O 0..1
Identifies a QoS session. val-service-id string O 0..1 Identifies a VAL
service. participant-id ValTargetUe O 0..1 Identifies a VAL user or VAL UE to
match a QoS session participant.
* * *
This method shall support the request options specified in table
A.2.1.2.2.3.2-2, the response data structures and response codes specified in
table A.2.1.2.2.3.2-3, and the response options specified in table
A.2.1.2.2.3.2-4.
Table A.2.1.2.2.3.2-2: Options supported by the GET Request on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Observe | Uinteger | O | 0..1 | When set to 0 | | | | | | (Register) it | | | | | | extends the GET | | | | | | request to | | | | | | subscribe to | | | | | | the changes of | | | | | | this resource. | | | | | | | | | | | | When set to 1 | | | | | | (Deregister) it | | | | | | cancels the | | | | | | subscription. | +-----------------+-----------+---+-------------+-----------------+ | NOTE: Other | | | | | | request options | | | | | | also apply in | | | | | | accordance with | | | | | | normal CoAP | | | | | | procedures. | | | | | +-----------------+-----------+---+-------------+-----------------+
This method shall support the response data structures and response codes
specified in table A.2.1.2.2.3.2 -3.
Table A.2.1.2.2.3.2-3: Data structures supported by the GET Response payload
on this resource
+---------------+---+-------------+--------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+--------------+---------------+ | arra | M | 0..N | 2.05 Content | List of QoS | | y(QosSession) | | | | sessions. | | | | | | This response | | | | | | shall include | | | | | | QoS sessions | | | | | | matching all | | | | | | the query | | | | | | parameters | | | | | | provided in | | | | | | the request. | +---------------+---+-------------+--------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | CoAP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table C.1.3-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 24.546 [31] | | | | | | also apply. | | | | | +---------------+---+-------------+--------------+---------------+
Table A.2.1.2.2.3.2-4: Options supported by the 2.05 Response Code on this
resource
* * *
Name Data type P Cardinality Description Observe Uinteger O 0..1 Sequence
number of the notification. NOTE: Other response options also apply in
accordance with normal CoAP procedures.
* * *
#### A.2.1.2.3 Resource: Individual QoS Session
##### A.2.1.2.3.1 Description
The Individual QoS Session resource represents an individual QoS session that
is created at the SNRM-S.
##### A.2.1.2.3.2 Resource Definition
Resource URI: **{apiRoot}/su-nqs/\ /qos-sessions/{qosSessionId}**
This resource shall support the resource URI variables defined in the table
A.2.1.2.3.2-1.
Table A.2.1.2.3.2-1: Resource URI variables for this resource
Name Data Type Definition
* * *
apiRoot string See clause C.1.1 of 3GPP TS 24.546 [31]. apiVersion string See
clause A.2.1.1 qosSessionId string Represents an individual QoS session
resource.
##### A.2.1.2.3.3 Resource Standard Methods
###### A.2.1.2.3.3.1 GET
This operation retrieves QoS session information satisfying filter criteria.
This method shall support the URI query parameters specified in table
A.2.1.2.3.3.1-1.
Table A.2.1.2.3.3.1-1: URI query parameters supported by the GET method on
this resource
* * *
Name Data type P Cardinality Description session-participants boolean O 0..1
This is a content filtering flag. When set to \"true\", it indicates to the
SNRM-S to include the participants of the QoS session. Set to \"false\" or
omitted otherwise. session-configuration boolean O 0..1 This is a content
filtering flag. When set to \"true\", it indicates to the SNRM-S to include
the configuration information of the QoS session. Set to \"false\" or omitted
otherwise.
* * *
This method shall support the request options specified in table
A.2.1.2.3.3.1-2, the response data structures and response codes specified in
table A.2.1.2.3.3.1-3, and the response options specified in table
A.2.1.2.3.3.1-4.
Table A.2.1.2.3.3.1-2: Options supported by the GET Request on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Observe | Uinteger | O | 0..1 | When set to 0 | | | | | | (Register) it | | | | | | extends the GET | | | | | | request to | | | | | | subscribe to | | | | | | the changes of | | | | | | this resource. | | | | | | | | | | | | When set to 1 | | | | | | (Deregister) it | | | | | | cancels the | | | | | | subscription. | +-----------------+-----------+---+-------------+-----------------+ | NOTE: Other | | | | | | request options | | | | | | also apply in | | | | | | accordance with | | | | | | normal CoAP | | | | | | procedures. | | | | | +-----------------+-----------+---+-------------+-----------------+
Table A.2.1.2.3.3.1-3: Data structures supported by the GET Response payload
on this resource
+---------------+---+-------------+--------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+--------------+---------------+ | QosSession | M | 1 | 2.05 Content | The QoS | | | | | | session | | | | | | information | | | | | | based on the | | | | | | request from | | | | | | the VAL | | | | | | server. | | | | | | | | | | | | This response | | | | | | shall include | | | | | | QoS session | | | | | | participants | | | | | | list if | | | | | | session | | | | | | -participants | | | | | | flag is set | | | | | | to \"true\" | | | | | | in the | | | | | | request, QoS | | | | | | session | | | | | | configuration | | | | | | information | | | | | | if the | | | | | | session- | | | | | | configuration | | | | | | flag is set | | | | | | to \"true\" | | | | | | in the | | | | | | request, or | | | | | | the whole QoS | | | | | | session | | | | | | resource if | | | | | | all the flags | | | | | | are omitted | | | | | | in the | | | | | | request. | +---------------+---+-------------+--------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | CoAP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table C.1.3-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 24.546 [31] | | | | | | also apply. | | | | | +---------------+---+-------------+--------------+---------------+
Table A.2.1.2.3.3.1-4: Options supported by the 2.05 Response Code on this
resource
* * *
Name Data type P Cardinality Description Observe Uinteger O 0..1 Sequence
number of the notification. NOTE: Other response options also apply in
accordance with normal CoAP procedures.
* * *
###### A.2.1.2.3.3.2 PUT
This operation updates the QoS session.
This method shall support the request data structures specified in table
A.2.1.2.3.3.2-1 and the response data structures and response codes specified
in table A.2.1.2.3.3.2-2.
Table A.2.1.2.3.3.2-1: Data structures supported by the PUT Request payload on
this resource
* * *
Data type P Cardinality Description QosSession M 1 Updated details of the QoS
session.
* * *
Table A.2.1.2.3.3.2-2: Data structures supported by the PUT Response payload
on this resource
+---------------+---+-------------+--------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+--------------+---------------+ | QosSession | O | 0..1 | 2.04 Changed | The QoS | | | | | | session | | | | | | updated | | | | | | successfully, | | | | | | and the | | | | | | updated QoS | | | | | | session may | | | | | | be returned | | | | | | in the | | | | | | response. | +---------------+---+-------------+--------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | CoAP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table C.1.3-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 24.546 [31] | | | | | | shall also | | | | | | apply. | | | | | +---------------+---+-------------+--------------+---------------+
###### A.2.1.2.3.3.3 DELETE
This operation deletes the QoS session.
This method shall support the response data structures and response codes
specified in table A.2.1.2.3.3.3-1.
Table A.2.1.2.3.3.3-1: Data structures supported by the DELETE Response
payload on this resource
+---------------+---+-------------+--------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+--------------+---------------+ | n/a | | | 2.02 Deleted | The | | | | | | individual | | | | | | QoS session | | | | | | is deleted. | +---------------+---+-------------+--------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | CoAP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table C.1.3-1 | | | | | | 1 of | | | | | | 3GPP TS | | | | | | 24.546 [31] | | | | | | shall also | | | | | | apply. | | | | | +---------------+---+-------------+--------------+---------------+
#### A.2.1.2.4 Resource: Individual QoS Session Participant
##### A.2.1.2.4.1 Description
The Individual QoS Session Participant resource represents an individual QoS
session participant information that is maintained at the SNRM-S.
##### A.2.1.2.4.2 Resource Definition
Resource URI: **{apiRoot}/su-nqs/\ /qos-
sessions/{qosSessionId}/participants/{participantId}**
This resource shall support the resource URI variables defined in the table
A.2.1.2.4.2-1.
Table A.2.1.2.3.2-1: Resource URI variables for this resource
Name Data Type Definition
* * *
apiRoot string See clause C.1.1 of 3GPP TS 24.546 [31] apiVersion string See
clause A.2.1.1. qosSessionId string Represents an individual QoS session
resource. participantId ValTargetUe Identifies an individual QoS session
participant.
##### A.2.1.2.4.3 Resource Standard Methods
###### A.2.1.2.4.3.1 GET
This operation retrieves the individual QoS session participant\'s
information.
This method shall support the response data structures and response codes
specified in table A.2.1.2.4.3.1-1.
Table A.2.1.2.4.3.1-1: Data structures supported by the GET Response payload
on this resource
+---------------+---+-------------+--------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+--------------+---------------+ | Sessi | M | 1 | 2.05 Content | The QoS | | onParticipant | | | | session | | | | | | participant | | | | | | information. | +---------------+---+-------------+--------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | CoAP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in | | | | | | table C.1.3-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 24.546 [31] | | | | | | also apply. | | | | | +---------------+---+-------------+--------------+---------------+
###### A.2.1.2.4.3.2 PUT
This operation creates or updates the QoS session participant information.
This method shall support the request data structures specified in table
A.2.1.2.4.3.2-1 and the response data structures and response codes specified
in table A.2.1.2.4.3.2-2.
Table A.2.1.2.4.3.2-1: Data structures supported by the PUT Request payload on
this resource
* * *
Data type P Cardinality Description SessionParticipant M 1 New or updated
information of the QoS session participant.
* * *
Table A.2.1.2.4.3.2-2: Data structures supported by the PUT Response payload
on this resource
+---------------+---+-------------+--------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+--------------+---------------+ | Sessi | O | 0..1 | 2.01 Created | The QoS | | onParticipant | | | | session | | | | | | participant | | | | | | resource was | | | | | | created | | | | | | successfully, | | | | | | and the | | | | | | created | | | | | | resource may | | | | | | be returned | | | | | | in the | | | | | | response. | +---------------+---+-------------+--------------+---------------+ | Sessi | O | 0..1 | 2.04 Changed | The QoS | | onParticipant | | | | session | | | | | | participant | | | | | | resource was | | | | | | updated | | | | | | successfully, | | | | | | and the | | | | | | updated | | | | | | resource may | | | | | | be returned | | | | | | in the | | | | | | response. | +---------------+---+-------------+--------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | CoAP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table C.1.3-1 | | | | | | of | | | | | | 3GPP TS | | | | | | 24.546 [31] | | | | | | shall also | | | | | | apply. | | | | | +---------------+---+-------------+--------------+---------------+
###### A.2.1.2.4.3.3 DELETE
This operation deletes the QoS session participant information.
This method shall support the response data structures and response codes
specified in table A.2.1.2.4.3.3-1.
Table A.2.1.2.4.3.3-1: Data structures supported by the DELETE Response
payload on this resource
+---------------+---+-------------+--------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+--------------+---------------+ | n/a | | | 2.02 Deleted | The QoS | | | | | | session | | | | | | participant | | | | | | resource is | | | | | | deleted. | +---------------+---+-------------+--------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | CoAP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table C.1.3-1 | | | | | | 1 of | | | | | | 3GPP TS | | | | | | 24.546 [31] | | | | | | shall also | | | | | | apply. | | | | | +---------------+---+-------------+--------------+---------------+
### A.2.1.3 Data Model
#### A.2.1.3.1 General
This clause specifies the application data model supported by the API. Data
types listed in clause C.1.4 of 3GPP TS 24.546 [31] apply to this API.
Table A.2.1.3.1-1 specifies the data types defined specifically for the
SU_QosSessionManagement API service.
Table A.2.1.3.1-1: SU_QosSessionManagement API specific Data Types
Data type Section defined Description Applicability
* * *
QosSession A.2.1.3.2.2 QoS session details.  
SessionParticipant A.2.1.3.2.3 Represents membership and configuration details
of the QoS session participant.  
ParticipantState A.2.1.3.2.4 Represents the state of the member in the group.
E.g., an explicit member will register in the group by setting its
\"registered\" attribute to \"true\", or will set that attribute to \"false\"
when leaving the group.
Table A.2.1.3.1-2 specifies data types re-used by the SU_QosSessionManagement
API service.
Table A.2.1.3.1-2: Re-used Data Types
Data type Reference Comments Applicability
* * *
GeographicalAreaId 3GPP TS 24.546 [31] Identity of a geographical area.  
ScheduledCommunicationTime 3GPP TS 24.546 [31] Represents a scheduled
communication time.  
Uinteger 3GPP TS 24.546 [31] Unsigned integer.  
Uri 3GPP TS 24.546 [31] Unified resource identifier.  
ValTargetUe 3GPP TS 24.546 [31] Used to identify either a VAL User or a VAL
UE.
#### A.2.1.3.2 Structured data types
##### A.2.1.3.2.1 Introduction
##### A.2.1.3.2.2 Type: QosSession
Table A.2.1.3.2.2-1: Definition of type QosSession
Attribute name Data type P Cardinality Description Applicability
* * *
resUri Uri O 0..1 The URI for the individual QoS session resource. (NOTE)  
requiredQoS string M 1 End-to-end QoS requirements for the QoS session.  
participants array(SessionParticipant) M 1..N List of participants of the QoS
session.  
valServiceId string O 1..N Identity of the VAL services enabled by the QoS
session.  
serviceArea array(GeographicalAreaId) O 1..N List of geographical area ids
addressed by the QoS session.  
validPeriod ScheduledCommunicationTime O 0..1 Indicates time period when the
QoS session is valid.  
reportConf string O 0..1 Reporting configuration for the active participants
to report their QoS.  
NOTE: The \"resUri\" attribute is set by the SNRM-S and is not modifiable by
the SNRM-C.
##### A.2.1.3.2.3 Type: SessionParticipant
Table A.2.1.3.2.3-1: Definition of type SessionParticipant
Attribute name Data type P Cardinality Description Applicability
* * *
resUri Uri O 0..1 The URI of the individual QoS session participant resource.
(NOTE)  
id ValTargetUe M 1 This is a QoS session participant identity (VAL user ID or
VAL UE ID) as per 3GPP TS 23.434 [2].  
state ParticipantState O 0..1 Indicates the current state of the participant
of the QoS session, e.g. it may indicate that the participant is active. When
absent the state is unknown.  
reportedQoS string O 0..1 QoS information reported by the participant.  
NOTE: The \"resUri\" attribute is set by the SNRM-S and is not modifiable by
the SNRM-C.
##### A.2.1.3.2.4 Type: ParticipantState
Table A.2.1.3.2.3-1: Definition of type ParticipantState
Attribute name Data type P Cardinality Description Applicability
* * *
active boolean O 0..1 Indicates if the participant is active in the QoS
session, i.e. is actively reporting its QoS. When absent or \"false\" the
participant is not active.
### A.2.1.4 Error Handling
General error responses are defined in clause C.1.3 of 3GPP TS 24.546 [31].
### A.2.1.5 CDDL Specification
#### A.2.1.5.1 Introduction
The data model described in clause A.2.1.3 shall be binary encoded in the CBOR
format as described in IETF RFC 8949 [27].
Clause A.2.1.5.2 uses the Concise Data Definition Language described in IETF
RFC 8610 [30] and provides corresponding representation of the
SU_QosSessionManagement API data model.
#### A.2.1.5.2 CDDL document
;;; QosSession
;;+ Represents a QoS Session.
QosSession = {
? resUri: Uri
requiredQoS: text ; QoS requirements for the QoS Session.
participants: [+ SessionParticipant]; The list of participants.
? valServiceId: text ; VAL service enabled by the QoS Session.
? serviceArea: [+ GeographicalAreaId]; The list of geographical area ids
addressed by the QoS Session.
? validPeriod: ScheduledCommunicationTime
? reportConf: text ; Reporting configuration for the active participants of
the QoS Session.
}
;;; SessionParticipant
;;+ Represents information of the QoS Session participant.
SessionParticipant = {
? resUri: Uri
id: ValTargetUe ; Identifies the participant of the QoS Session. Once set,
this information cannot be updated.
? state: ParticipantState
? reportedQoS: text ; QoS information reported by the QoS Session participant.
}
;;; ParticipantState
;;+ Represents the state of the QoS Session participant.
ParticipantState = {
? active: bool
}
;;; GeographicalAreaId
;;+ Identifies a geographical area.
GeographicalAreaId = text
;;; ValTargetUe
;;+ Represents information identifying a VAL user ID or a VAL UE ID.
valUserId = {
valUserId: text ; Unique identifier of a VAL user.
}
valUeId = {
valUeId: text ; Unique identifier of a VAL UE.
}
ValTargetUe = valUserId / valUeId
;;; DayOfWeek
;;+ integer between and including 1 and 7 denoting a weekday. 1 shall indicate
Monday, and the subsequent weekdays shall be indicated with the next higher
numbers. 7 shall indicate Sunday.
DayOfWeek = 1..7
;;; TimeOfDay
;;+ String with format partial-time or full-time as defined in subclause 5.6
of IETF RFC 3339. Examples, 20:15:00, 20:15:00-08:00 (for 8 hours behind UTC).
TimeOfDay = text
;;; ScheduledCommunicationTime
;;+ Represents an offered scheduled communication time.
ScheduledCommunicationTime = {
? daysOfWeek: [1*6 DayOfWeek] ; Identifies the day(s) of the week. If absent,
it indicates every day of the week.
? timeOfDayStart: TimeOfDay
? timeOfDayEnd: TimeOfDay
}
;;; Uri
;;+ string providing an URI formatted according to IETF RFC 3986.
Uri = text
### A.2.1.6 Media Types
The media type for a QoS session shall be \"application/vnd.3gpp.seal-qos-
session-info+cbor\".
The media type for a QoS session participant information shall be
\"application/vnd.3gpp.seal-qos-session-participant-info+cbor\".
### A.2.1.7 Media Type registration for application/vnd.3gpp.seal-qos-session-
info+cbor
Type name: application
Subtype name: vnd.3gpp.seal-qos-session-info+cbor
Required parameters: none
Optional parameters: none
Encoding considerations: Must be encoded as using IETF RFC 8949 [27]. See
\"QosSession\" data type in 3GPP TS 24.548 clause A.2.1.3.2.2 for details.
Security considerations: See Section 10 of IETF RFC 8949 [27] and Section 11
of IETF RFC 7252 [23].
Interoperability considerations: Applications must ignore any key-value pairs
that they do not understand. This allows backwards-compatible extensions to
this specification.
Published specification: 3GPP TS 24.548 \"Network Resource Management -
Service Enabler Architecture Layer for Verticals (SEAL); Protocol
specification\", available via http://www.3gpp.org/specs/numbering.htm.
Applications that use this media type: Applications supporting the SEAL
network resource management procedures as described in the published
specification.
Fragment identifier considerations: Fragment identification is the same as
specified for \"application/cbor\" media type in IETF RFC 8949 [27]. Note that
currently that RFC does not define fragmentation identification syntax for
\"application/cbor\".
Additional information:
Deprecated alias names for this type: N/A
Magic number(s): N/A
File extension(s): none
Macintosh file type code(s): none
Person & email address to contact for further information: \, \
Intended usage: COMMON
Restrictions on usage: None
Author: 3GPP CT1 Working Group/3GPP_TSG_CT_WG1\@LIST.ETSI.ORG
Change controller: \/\
### A.2.1.8 Media Type registration for application/vnd.3gpp.seal-qos-session-
participant-info+cbor
Type name: application
Subtype name: vnd.3gpp.seal-qos-session-participant-info+cbor
Required parameters: none
Optional parameters: none
Encoding considerations: Must be encoded as using IETF RFC 8949 [27]. See
\"SessionParticipant\" data type in 3GPP TS 24.548 clause A.2.1.3.2.3 for
details.
Security considerations: See Section 10 of IETF RFC 8949 [27] and Section 11
of IETF RFC 7252 [23].
Interoperability considerations: Applications must ignore any key-value pairs
that they do not understand. This allows backwards-compatible extensions to
this specification.
Published specification: 3GPP TS 24.548 \"Network Resource Management -
Service Enabler Architecture Layer for Verticals (SEAL); Protocol
specification\", available via http://www.3gpp.org/specs/numbering.htm.
Applications that use this media type: Applications supporting the SEAL
network resource management procedures as described in the published
specification.
Fragment identifier considerations: Fragment identification is the same as
specified for \"application/cbor\" media type in IETF RFC 8949 [27]. Note that
currently that RFC does not define fragmentation identification syntax for
\"application/cbor\".
Additional information:
Deprecated alias names for this type: N/A
Magic number(s): N/A
File extension(s): none
Macintosh file type code(s): none
Person & email address to contact for further information: \, \
Intended usage: COMMON
Restrictions on usage: None
Author: 3GPP CT1 Working Group/3GPP_TSG_CT_WG1\@LIST.ETSI.ORG
Change controller: \/\
# A.3 Resource representation and APIs for MBMS resource configuration and
monitoring
## A.3.1 SU_MbmsResourceManagement API provided by SNRM-C
### A.3.1.1 API URI
The CoAP URIs used in CoAP requests from SNRM-S towards the SNRM-C shall have
the Resource URI structure as defined in Annex C.1.1 of 3GPP TS 24.546 [31]
with the following clarifications:
\- the \ shall be \"su-nmb-c\";
\- the \ shall be \"v1\"; and
\- the \ shall be set as described in clause A.3.1.2.
### A.3.1.2 Resources
#### A.3.1.2.1 Overview
Figure A.3.1.2.1-1: Resource URI structure of the SU_MbmsResourceManagement
API provided by SNRM-C
Table A.3.1.2.1-1 provides an overview of the resources and applicable CoAP
methods.
Table A.3.1.2.1-1: Resources and methods overview
+-----------------+-----------------+-------------+-----------------+ | Resource name | Resource URI | CoAP method | Description | +=================+=================+=============+=================+ | MBMS Resource | /val | GET | Retrieve MBMS | | Configuration | -services/{valS | | Resource | | | erviceId}/mbms- | | Configuration | | | resources/{tmgi | | of the SNRM-C | | | }/configuration | | for a given VAL | | | | | service and | | | | | TMGI. | +-----------------+-----------------+-------------+-----------------+ | | | PUT | Create or | | | | | update MBMS | | | | | Resource | | | | | Configuration | | | | | of the SNRM-C | | | | | for a given VAL | | | | | service and | | | | | TMGI. | +-----------------+-----------------+-------------+-----------------+ | | | DELETE | Delete MBMS | | | | | Resource | | | | | Configuration | | | | | of the SNRM-C | | | | | for a given VAL | | | | | service and | | | | | TMGI. | +-----------------+-----------------+-------------+-----------------+ | MBMS Resource | /val-servic | GET | Retrieve MBMS | | State | es/{valServiceI | | Resource State | | | d}/mbms-resourc | (NOTE) | information for | | | es/{tmgi}/state | | a given VAL | | | | | service and | | | | | TMGI. | +-----------------+-----------------+-------------+-----------------+ | NOTE: The GET | | | | | method can also | | | | | be used to | | | | | observe this | | | | | resource. | | | | +-----------------+-----------------+-------------+-----------------+
#### A.3.1.2.2 Resource: MBMS Resource Configuration
##### A.3.1.2.2.1 Description
The MBMS resource configuration resource allows a SNRM-S to manage the MBMS
resource configuration of a SNRM-C.
##### A.3.1.2.2.2 Resource Definition
Resource URI: **{apiRoot}/su-nmb-c/\ /val-
services/{valServiceId}/mbms-resources/{tmgi}/configuration**
This resource shall support the resource URI variables defined in the table
A.3.1.2.2.2-1.
Table A.3.1.2.2.2-1: Resource URI variables for this resource
Name Data Type Definition
* * *
apiRoot string See Annex C.1.1 of 3GPP TS 24.546 [31]. apiVersion string See
clause A.3.1.1. valServiceId string Identifier of a VAL service. tmgi bytes
Identifier of the MBMS resource (Temporary Mobile Group Identity).
##### A.3.1.2.2.3 Resource Standard Methods
##### A.3.1.2.2.3.1 GET {#a.3.1.2.2.3.1-get .H6}
This operation retrieves the MBMS Resource Configuration.
This method shall support the response data structures and response codes
specified in table A.3.1.2.2.3.1-1.
Table A.3.1.2.2.3.1-1: Data structures supported by the GET Response payload
on this resource
+---------------+---+-------------+--------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+--------------+---------------+ | MbmsR | M | 1 | 2.05 Content | The MBMS | | esourceConfig | | | | Resource | | | | | | Configuration | | | | | | information. | +---------------+---+-------------+--------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | CoAP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table C.1.3-1 | | | | | | of | | | | | | 3 | | | | | | GPP TS 24.546 | | | | | | [31] shall | | | | | | also apply. | | | | | +---------------+---+-------------+--------------+---------------+
##### A.3.1.2.2.3.2 PUT {#a.3.1.2.2.3.2-put .H6}
This operation creates and updates the MBMS Resource Configuration.
This method shall support the request data structures specified in table
A.3.1.2.2.3.2-1 and the response data structures and response codes specified
in table A.3.1.2.2.3.2-2.
Table A.3.1.2.2.3.2-1: Data structures supported by the PUT Request payload on
this resource
* * *
Data type P Cardinality Description MbmsResourceConfig M 1 Updated details of
the MBMS Resource Configuration.
* * *
Table A.3.1.2.2.3.2-2: Data structures supported by the PUT Response payload
on this resource
+---------------+---+-------------+--------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+--------------+---------------+ | MbmsR | M | 1 | 2.01 Created | MBMS Resource | | esourceConfig | | | | Configuration | | | | | | created | | | | | | successfully. | +---------------+---+-------------+--------------+---------------+ | MbmsR | O | 1 | 2.04 Changed | MBMS Resource | | esourceConfig | | | | Configuration | | | | | | updated | | | | | | successfully | | | | | | and the | | | | | | updated MBMS | | | | | | Resource | | | | | | Configuration | | | | | | may be | | | | | | returned in | | | | | | the response. | +---------------+---+-------------+--------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | CoAP error | | | | | | status codes | | | | | | for the PUT | | | | | | method listed | | | | | | in | | | | | | table C.1.3-1 | | | | | | of | | | | | | 3 | | | | | | GPP TS 24.546 | | | | | | [31] shall | | | | | | also apply. | | | | | +---------------+---+-------------+--------------+---------------+
##### A.3.1.2.2.3.3 DELETE {#a.3.1.2.2.3.3-delete .H6}
This operation deletes the MBMS Resource Configuration.
This method shall support the response data structures and response codes
specified in table A.3.1.2.2.3.3-1.
Table A.3.1.2.2.3.3-1: Data structures supported by the DELETE Response
payload on this resource
+---------------+---+-------------+--------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+--------------+---------------+ | n/a | | | 2.02 Deleted | MBMS Resource | | | | | | Configuration | | | | | | is deleted. | +---------------+---+-------------+--------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | CoAP error | | | | | | status codes | | | | | | for the | | | | | | DELETE method | | | | | | listed in | | | | | | table C.1.3-1 | | | | | | of | | | | | | 3 | | | | | | GPP TS 24.546 | | | | | | [31] shall | | | | | | also apply. | | | | | +---------------+---+-------------+--------------+---------------+
#### A.3.1.2.3 Resource: MBMS Resource State
##### A.3.1.2.3.1 Description
The MBMS Resource State resource allows the SNRM-S to retrieve and monitor the
state of the MBMS Resource as seen by the SNRM-C.
##### A.3.1.2.3.2 Resource Definition
Resource URI: **{apiRoot}/su-nmb-c/\ /val-
services/{valServiceId}/mbms-resources/{tmgi}/state**
This resource shall support the resource URI variables defined in the table
A.3.1.2.3.2-1.
Table A.3.1.2.3.2-1: Resource URI variables for this resource
Name Data Type Definition
* * *
apiRoot string See Annex C.1.1 of 3GPP TS 24.546 [31]. apiVersion string See
clause A.3.1.1. valServiceId string Identifier of a VAL service. tmgi bytes
Identifier of the MBMS resource (Temporary Mobile Group Identity).
##### A.3.1.2.3.3 Resource Standard Methods
##### A.3.1.2.3.3.1 GET {#a.3.1.2.3.3.1-get .H6}
This operation retrieves the MBMS resource state information as seen by the
SNRM-C.
This method shall support the request options specified in table
A.3.1.2.3.3-1, the response data structures and response codes specified in
table A.3.1.2.3.3-2, and the response options specified in table
A.3.1.2.3.3-3.
Table A.3.1.2.3.3-1: Options supported by the GET Request on this resource
+-----------------+-----------+---+-------------+-----------------+ | Name | Data type | P | Cardinality | Description | +-----------------+-----------+---+-------------+-----------------+ | Observe | Uinteger | O | 0..1 | When set to 0 | | | | | | (Register) it | | | | | | extends the GET | | | | | | request to | | | | | | subscribe to | | | | | | the changes of | | | | | | this resource. | | | | | | | | | | | | When set to 1 | | | | | | (Deregister) it | | | | | | cancels the | | | | | | subscription. | +-----------------+-----------+---+-------------+-----------------+ | NOTE: Other | | | | | | request options | | | | | | also apply in | | | | | | accordance with | | | | | | normal CoAP | | | | | | procedures. | | | | | +-----------------+-----------+---+-------------+-----------------+
Table A.3.1.2.3.3-2: Data structures supported by the GET Response payload on
this resource
+---------------+---+-------------+--------------+---------------+ | Data type | P | Cardinality | Response | Description | | | | | | | | | | | codes | | +---------------+---+-------------+--------------+---------------+ | Mbms | M | 1 | 2.05 Content | MBMS resource | | ResourceState | | | | state | | | | | | information | | | | | | at the | | | | | | SNRM-C. | +---------------+---+-------------+--------------+---------------+ | NOTE: The | | | | | | mandatory | | | | | | CoAP error | | | | | | status codes | | | | | | for the GET | | | | | | method listed | | | | | | in table | | | | | | C.1.3-1 of | | | | | | 3GPP TS | | | | | | 24.546 [31] | | | | | | also apply. | | | | | +---------------+---+-------------+--------------+---------------+
Table A.3.1.2.3.3-3: Options supported by the 2.05 Response Code on this
resource
* * *
Name Data type P Cardinality Description Observe Uinteger O 0..1 Sequence
number of the notification. NOTE: Other response options also apply in
accordance with normal CoAP procedures.
* * *
### A.3.1.3 Data Model
#### A.3.1.3.1 General
This clause specifies the application data model supported by the API. Data
types listed in clause C.1.4 of TS 24.546 [31] apply to this API.
Table A.3.1.3.1-1 specifies the data types defined specifically for the
SU_MbmsResourceManagement API service.
Table A.2.1.3.1-1: SU_MbmsResourceManagement API specific Data Types
Data type Section defined Description Applicability
* * *
MbmsResourceConfig A.3.1.3.2.1 Represents the MBMS Resource configuration of
the SNRM-C.  
MbmsResourceMonitoringConfig A.3.1.3.2.2 Represents the MBMS Resource
monitoring configuration of the SNRM-C, i.e. instructions for the SNRM-C what
to monitor in relation to the MBMS resource.  
MbmsResourceState A.3.1.3.2.3 Represents the current state of the MBMS
Resource as monitored by the SNRM-C.
Table A.3.1.3.1-2 specifies data types re-used by the
SU_MbmsResourceManagement API service.
Table A.3.1.3.1-2: Re-used Data Types
Data type Reference Comments Applicability
* * *
MbmsSaId 3GPP TS 24.546 [31] String containing a unique identifier of a MBMS
serving area.  
Tmgi 3GPP TS 24.546 [31] Byte string containing an identifier of Temporary
Mobile Group Identity used by the MBMS resource.  
Uinteger 3GPP TS 24.546 [31] Unsigned integer.
#### A.3.1.3.2 Structured data types
##### A.3.1.3.2.1 Type: MbmsResourceConfig
Table A.3.1.3.2.1-1: Definition of type MbmsResourceConfig
Attribute name Data type P Cardinality Description Applicability
* * *
tmgi Tmgi M 1 TMGI for identifying the MBMS Resource.  
alternativeTmgis Array(Tmgi) O 0..1 A list of additional alternative TMGI used
in roaming scenarios.  
qci Uinteger O 0..1 QCI information used by the ProSe UE-Network Relay to
determine the ProSe Per-Packet Priority value to be applied for the multicast
packets relayed to Remote UE over PC5. QCI values are defined in 3GPP TS
23.203 [4].  
frequency Uinteger O 0..1 Identification of frequency in case of multi carrier
support. It is coded as specified in 3GPP TS 29.468 [13].  
serviceAreas array(MbmsSaId) O 0..N List of MBMS service area identifiers.  
sdp string O 0..1 SDP with media and application control information
applicable to groups that can use this MBMS bearer.  
rohcEnabled boolean O 0..1 Indicates if the flows delivered by the MBMS bearer
are header compressed with ROHC as specified in IETF RFC 5795 [20] and IETF
RFC 3095 [16].  
monitorConfig MbmsResourceMonitoringConfig O 0..1 Monitoring configuration for
the SNRM-C.
##### A.3.1.3.2.2 Type: MbmsResourceMonitoringConfig
Table A.3.1.3.2.2-1: Definition of type MbmsResourceMonitoringConfig
Attribute name Data type P Cardinality Description Applicability
* * *
receptionQuality boolean O 0..1 Indicates if reception quality of the MBMS
bearer is to be monitored.  
unicastResource boolean O 0..1 Indicates if the unicast resource related to
the MBMS berare is to be monitored.  
suspension boolean O 0..1 Indicates if suspension state of the MBMS bearer is
to be monitored.
##### A.3.1.3.2.3 Type: MbmsResourceState
Table A.3.1.3.2.3-1: Definition of type MbmsResourceState
+-----------+-----------+---+-----------+-----------+-----------+ | Attribute | Data type | P | Ca | De | Appl | | name | | | rdinality | scription | icability | +===========+===========+===+===========+===========+===========+ | tmgi | Tmgi | M | 1 | T | | | | | | | emprorary | | | | | | | Mobile | | | | | | | Group | | | | | | | Identity | | | | | | | for | | | | | | | id | | | | | | | entifying | | | | | | | the MBMS | | | | | | | Resource. | | +-----------+-----------+---+-----------+-----------+-----------+ | moni | M | M | 1 | MBMS | | | torConfig | bmsResour | | | Resource | | | | ceMonitor | | | m | | | | ingConfig | | | onitoring | | | | | | | conf | | | | | | | iguration | | | | | | | of the | | | | | | | SNRM-C. | | +-----------+-----------+---+-----------+-----------+-----------+ | rec | integer | O | 0..1 | Reception | | | eptionQua | | | | quality | | | lityLevel | | | | level | | | | | | | measured | | | | | | | for the | | | | | | | MBMS | | | | | | | bearer. | | +-----------+-----------+---+-----------+-----------+-----------+ | suspen | boolean | O | 0..1 | Indicates | | | dingState | | | | if the | | | | | | | MBMS | | | | | | | bearer's | | | | | | | intended | | | | | | | s | | | | | | | uspension | | | | | | | state: | | | | | | | | | | | | | | - | | | | | | | \"true\" | | | | | | | indicates | | | | | | | that the | | | | | | | RAN has | | | | | | | decided | | | | | | | to | | | | | | | suspend | | | | | | | the | | | | | | | r | | | | | | | eferenced | | | | | | | MBMS | | | | | | | bearer(s) | | | | | | | at the | | | | | | | beginning | | | | | | | of the | | | | | | | next MCCH | | | | | | | mod | | | | | | | ification | | | | | | | period; | | | | | | | | | | | | | | - | | | | | | | \"false\" | | | | | | | indicates | | | | | | | that the | | | | | | | RAN has | | | | | | | decided | | | | | | | to revoke | | | | | | | its | | | | | | | decision | | | | | | | to | | | | | | | suspend | | | | | | | the | | | | | | | r | | | | | | | eferenced | | | | | | | MBMS | | | | | | | bearer(s) | | | | | | | before | | | | | | | the | | | | | | | beginning | | | | | | | of the | | | | | | | next MCCH | | | | | | | mod | | | | | | | ification | | | | | | | period; | | +-----------+-----------+---+-----------+-----------+-----------+ | uni | boolean | O | 0..1 | Indicate | | | castListe | | | | the | | | ningState | | | | unicast | | | | | | | listening | | | | | | | status: | | | | | | | | | | | | | | - | | | | | | | \"true\" | | | | | | | indicates | | | | | | | that the | | | | | | | VAL UE is | | | | | | | l | | | | | | | istening; | | | | | | | | | | | | | | - | | | | | | | \"false\" | | | | | | | indicates | | | | | | | that the | | | | | | | VAL UE is | | | | | | | not | | | | | | | l | | | | | | | istening; | | +-----------+-----------+---+-----------+-----------+-----------+
### A.3.1.4 Error Handling
General error responses are defined in clause C.1.3 of 3GPP TS 24.546 [31].
### A.3.1.5 CDDL Specification
#### A.3.1.5.1 Introduction
The data model described in clause A.3.1.3 shall be binary encoded in the CBOR
format as described in IETF RFC 8949 [27].
Clause A.3.1.5.2 uses the Concise Data Definition Language described in IETF
RFC 8610 [30] and provides corresponding representation of the
SU_MbmsResourceManagement API provided by SNRM-C data model.
#### A.3.1.5.2 CDDL document
;;; MbmsResourceConfig
;;+ Represents MBMS resource configuration.
MbmsResourceConfig = {
tmgi: Tmgi
? alternativeTmgis: [+ Tmgi]
? qci: Uinteger
? frequency: Uinteger
? serviceAreas: [+ MbmsSaId]
? sdp: text
? rohcEnabled: bool
? monitorConfig: MbmsResourceMonitoringConfig
}
;;; MbmsResourceMonitoringConfig
;;+ Represents MBMS resource monitoring configuration, i.e. instructions for
the VAL UE what to monitor in relation to the MBMS resource.
MbmsResourceMonitoringConfig = {
? receptionQuality: bool
? unicastResource: bool
? suspension: bool
}
;;; MbmsResourceState
;;+ Represents MBMS Resource state information as observed by the VAL UE.
MbmsResourceState = {
tmgi: Tmgi
monitoringConfig: MbmsResourceMonitoringConfig
? receptionQualityLevel: int
? suspendingState: bool
? unicastListeningState: bool
}
;;; MbmsSaId
;;+ Unique identifier of a MBMS serving area.
MbmsSaId = text
;;; Tmgi
;;+ Temporary Mobile Group Identity for use by MBMS.
Tmgi = bytes
;;; Uinteger
;;+ Unsigned Integer, i.e. only value 0 and integers above 0 are permissible.
Uinteger = int .ge 0
### A.3.1.6 Media Types
The media type for a MBMS Resource Configuration shall be
\"application/vnd.3gpp.seal-mbms-config+cbor\".
The media type for a MBMS Resource State shall be \"application/vnd.3gpp.seal-
mbms-state+cbor\".
### A.3.1.7 Media Type registration for application/vnd.3gpp.seal-mbms-
config+cbor
Type name: application
Subtype name: vnd.3gpp.seal-mbms-config+cbor
Required parameters: none
Optional parameters: none
Encoding considerations: Must be encoded as using IETF RFC 8949 [27]. See
\"MbmsResourceConfig\" data type in 3GPP TS 24.548 clause A.3.1.3.2.1 for
details.
Security considerations: See Section 10 of IETF RFC 8949 [27] and Section 11
of IETF RFC 7252 [23].
Interoperability considerations: Applications must ignore any key-value pairs
that they do not understand. This allows backwards-compatible extensions to
this specification.
Published specification: 3GPP TS 24.548 \"Network Resource Management -
Service Enabler Architecture Layer for Verticals (SEAL); Protocol
specification\", available via http://www.3gpp.org/specs/numbering.htm.
Applications that use this media type: Applications supporting the SEAL
network resource management procedures as described in the published
specification.
Fragment identifier considerations: Fragment identification is the same as
specified for \"application/cbor\" media type in IETF RFC 8949 [27]. Note that
currently that RFC does not define fragmentation identification syntax for
\"application/cbor\".
Additional information:
Deprecated alias names for this type: N/A
Magic number(s): N/A
File extension(s): none
Macintosh file type code(s): none
Person & email address to contact for further information: \, \
Intended usage: COMMON
Restrictions on usage: None
Author: 3GPP CT1 Working Group/3GPP_TSG_CT_WG1\@LIST.ETSI.ORG
Change controller: \/\
### A.3.1.8 Media Type registration for application/vnd.3gpp.seal-mbms-
state+cbor
Type name: application
Subtype name: vnd.3gpp.seal-mbms-state+cbor
Required parameters: none
Optional parameters: none
Encoding considerations: Must be encoded as using IETF RFC 8949 [27]. See
\"MbmsResourceState\" data type in 3GPP TS 24.548 clause A.3.1.3.2.3 for
details.
Security considerations: See Section 10 of IETF RFC 8949 [27] and Section 11
of IETF RFC 7252 [23].
Interoperability considerations: Applications must ignore any key-value pairs
that they do not understand. This allows backwards-compatible extensions to
this specification.
Published specification: 3GPP TS 24.548 \"Network Resource Management -
Service Enabler Architecture Layer for Verticals (SEAL); Protocol
specification\", available via http://www.3gpp.org/specs/numbering.htm.
Applications that use this media type: Applications supporting the SEAL
network resource management procedures as described in the published
specification.
Fragment identifier considerations: Fragment identification is the same as
specified for \"application/cbor\" media type in IETF RFC 8949 [27]. Note that
currently that RFC does not define fragmentation identification syntax for
\"application/cbor\".
Additional information:
Deprecated alias names for this type: N/A
Magic number(s): N/A
File extension(s): none
Macintosh file type code(s): none
Person & email address to contact for further information: \, \
Intended usage: COMMON
Restrictions on usage: None
Author: 3GPP CT1 Working Group/3GPP_TSG_CT_WG1\@LIST.ETSI.ORG
Change controller: \/\
#