# Foreword
This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
The present document implements Option 2 for decimal and thousands separator
characters: \"The decimal sign shall be a full-stop (period). The thousands
separator shall be a comma.\" (TR 21.801 v16.2.0 Clause 6.6.7).
# Introduction
The present document addresses a challenging class of vertical applications,
namely cyber-physical control applications, which require very high levels of
communication service availability, and some of them also require very low
end-to-end latencies.
Real-time Ethernet is one of the established wireline communication
technologies for cyber-physical control applications, and this specification
identifies requirements that 5G systems must meet to support real-time
Ethernet.
The present document provides new Stage 1 requirements based on the input from
relevant stakeholders of the respective vertical domains.
# 1 Scope
The present document provides Stage 1 normative service requirements for 5G
systems, in particular service requirements for cyber-physical control
applications in vertical domains and requirements for auxiliary applications.
In the context of the present document, cyber-physical systems are to be
understood as systems that include engineered, interacting networks of
physical and computational components; control applications are to be
understood as applications that control physical processes. Examples for
auxiliary applications are distributed sensing and asset monitoring.
Communication services supporting cyber-physical control applications need to
be ultra-reliable and, in some cases, the end-to-end latency must be very low.
Communication for cyber-physical control applications supports operation in
various vertical domains, for instance industrial automation, Smart Grid .
The aspects addressed in the present document include:
\- end-to-end service performance requirements and network performance
requirements related to these end-to-end service performance requirements;
\- support for Ethernet services specific to industrial/high performance use
cases. Related Ethernet functionalities include, for example, those in IEEE
802.1Qbv;
\- direct device connection and indirect network connection for cyber-physical
applications.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or non‑specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 22.261: \"Service requirements for the 5G system\".
[3] IEC 61784-3: \"Industrial communication networks -- profiles -- part 3:
functional fieldbuses -- general rules and profile definitions\".
> [4] BZKI, \"Aspects of dependability assessment in ZDKI\", June 2017.
[5] BZKI, \"Requirement Profiles in ZDKI\", 2017.
[6] IEC 61158: \"Industrial communication networks -- fieldbus
specification\", 2014.
[7] IEC 61907, \"Communication network dependability engineering\".
[8] Richard C. Dorf and Robert H. Bishop, \"Modern Control Systems\", Pearson,
Harlow, 13th Edition, 2017.
[9] Ernie Hayden, Michael Assante, and Tim Conway, \"An Abbreviated History of
Automation & Industrial Controls Systems and Cybersecurity\", SANS Institute,
[https://ics.sans.org/media/An-Abbreviated-History-of-Automation-and-ICS-
Cybersecurity.pdf]{.underline} {accessed: 2017-05-23}, 2014.
[10] IEC 61512 \"Batch control - Part 1: Models and terminology\".
[11] RESERVE project, Deliverable D1.3, ICT Requirements,\ http://www.re-
serve.eu/files/reserve/Content/Deliverables/D1.3.pdf, September 2017.
[12] RESERVE project, Deliverable D1.2, Energy System Requirements\
http://www.re-serve.eu/files/reserve/Content/Deliverables/D1.2.pdf, September
2017.
[13] G. Garner, \"Designing Last Mile Communications Infrastructures for
Intelligent Utility Networks (Smart Grids)\", IBM Australia Limited, 2010.
[14] B. Al-Omar, B., A. R. Al-Ali, R. Ahmed, and T. Landolsi, \"Role of
Information and Communication Technologies in the Smart Grid\", Journal of
Emerging Trends in Computing and Information Sciences, Vol. 3, pp. 707-716,
2015.
[15] H. Kagermann, W. Wahlster, and J. Helbig, \"Recommendations for
implementing the strategic initiative INDUSTRIE 4.0\", Final report of the
Industrie 4.0 working group, acatech -- National Academy of Science and
Engineering, Munich, April 2013.
[16] IEC 62443-3-2: \"Security for industrial automation and control systems -
Part 3-2: Security risk assessment and system design\", in progress.
[17] IEC 62657-2: \"Industrial communication networks - Wireless communication
networks - Part 2: Coexistence management\", 2017.
[18] IEC 62657-1: \"Industrial communication networks -- Wireless
communication networks -- Part 1: Wireless communication requirements and
spectrum considerations\".
[19] IEEE Std 802.1Q: \"IEEE Standard for Local and Metropolitan Area Networks
---Bridges and Bridged Networks\".
NOTE: IEEE Std 802.1Qbv-2015 \"IEEE Standard for Local and Metropolitan Area
Networks--Bridges and Bridges Networks - Amendment 25: Enhancements for
Scheduled Traffic\" has been included into IEEE Std 802.1Q-2018.
[20] IEEE, Use Cases IEC/IEEE 60802, 2018.
[21] (void)
[22] IEEE Std 802.1AS: \"IEEE Standard for Local and Metropolitan Area
Networks--Timing and Synchronization for Time-Sensitive Applications\".
[23] 3GPP TS 22.289: \"Mobile Communication System for Railways\".
[24] IEEE P802.1CS: \"IEEE Standard for Local and Metropolitan Area Networks--
Link-local Registration Protocol\".
[25] IEEE P802.1Qdd: \"IEEE Draft Standard for Local and Metropolitan Area
Networks--Bridges and Bridged Networks -- Amendment: Resource Allocation
Protocol (RAP) \".
[26] IEC/IEEE 60802: \"Time-Sensitive Networking Profile for Industrial
Automation\".
> [27] 3GPP TS 22.263: \"Service requirements for Video, Imaging and Audio for
> Professional Applications (VIAPA)\".
>
> [28] IEC TR 61850-90-1:2010, Communication Networks and Systems for Power
> Utility automation -- Part 90-1: Use of IEC61850 for the communication
> between substations.
>
> [29] 5G DNA White Paper: \"5GDN\@Smart Grid White Paper: Requirements,
> Technologies, and Practices\" https://www.5gdna.org/
>
> [30] IEC 61850-9-3-2016 -- IEC/IEEE International Standard - Communication
> Networks and Systems for Power Utility automation -- Part 9-3: Precision
> time protocol profile for power utility automation.
>
> [31] IEEE Std C37.238-2017 , IEEE Standard Profile for Use of IEEE Std 1588™
> Precision Time Protocol in Power System Applications.
>
> [32] IEC 61850-90-5:2012, Use of IEC 61850 to transmit Synchrophasors
> information according to IEEE C37.118.
>
> [33] IEEE Std C37.118.2-2011, IEEE Standard for Synchrophasor Data Transfer
> for Power Systems.
[34] IEEE Std 1588-2019: \"IEEE Standard for a Precision Clock Synchronization
Protocol for Networked Measurement and Control\".
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
**characteristic parameter:** numerical value that can be used for
characterising the dynamic behaviour of communication functionality from an
application point of view.
**clock synchronicity:** the maximum allowed time offset within a
synchronisation domain between the sync master and any sync device.
NOTE 1: Clock synchronicity (or synchronicity) is used as KPI of clock
synchronisation services.
NOTE 2: Clock synchronicity is also referred to as clock (or time)
synchronization precision.
**clock synchronisation service:** the service to align otherwise independent
user-specific UE clocks.
**communication service availability** : as defined in TS 22.261 [2].
**communication service reliability:** ability of the communication service to
perform as required for a given time interval, under given conditions.
NOTE 3: Given conditions would include aspects that affect reliability, such
as: mode of operation, stress levels, and environmental conditions.
NOTE 4: Reliability may be quantified using appropriate measures such as mean
time between failures, or the probability of no failure within a specified
period of time.
NOTE 5: This definition is based on IEC 61907 [7].
**direct device connection:** as defined in TS 22.261 [2].
**end-to-end latency:** as defined in TS 22.261 [2].
**error:** discrepancy between a computed, observed or measured value or
condition and the true, specified or theoretically correct value or condition.
NOTE 6: This definition was taken from IEC 61784-3 [3].
**factory automation:** automation application in industrial automation
branches typically with discrete characteristics of the application to be
automated with specific requirements for determinism, low latency,
reliability, redundancy, cyber security, and functional safety.
NOTE 7: Low latency typically means below 10 ms delivery time.
NOTE 8: This definition is taken from IEC 62657-1 [18].
**global clock** : a user-specific synchronization clock set to a reference
timescale such as the International Atomic Time.
**indirect network connection:** as defined in TS 22.261 [2].
**influence quantity:** quantity not essential for the performance of an item
but affecting its performance.
**process automation:** automation application in industrial automation
branches typically with continuous characteristics of the application to be
automated with specific requirements for determinism, reliability, redundancy,
cyber security, and functional safety.
NOTE 9: This definition is taken from IEC 62657-1 [18].
**service area:** as defined in TS 22.261 [2].
**survival time:** as defined in TS 22.261 [2].
**sync device: device that synchronizes itself to the master clock of the
synchronization domain.**
**sync master: device serving as the master clock of the synchronization
domain.**
**transfer interval:** time difference between two consecutive transfers of
application data from an application via the service interface to 3GPP system.
NOTE 10: This definition is based on subclause 3.1.85 in IEC 62657-2 [17].
**user experienced data rate:** as defined in TS 22.261 [2].
**vertical domain:** an industry or group of enterprises in which similar
products or services are developed, produced, and provided.
**working clock** : a user-specific synchronization clock for a localized set
of UEs collaborating on a specific task or work function.
## 3.2 Symbols
For the purposes of the present document, the following symbols apply:
\ \
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply. An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
> AV Audio-Visual
>
> AVPROD AV Production
CSIF Communication Service Interface
EPON Ethernet Passive Optical Network
FIFO First In, First Out
GOOSE Generic Object-Oriented Substation Event
HCL Higher Communication Layer
HMI Human Machine Interface
IMU Inertial Measurement Unit
LCL Lower Communication Layer
PMU Phasor Measurement Unit
# 4 Overview
## 4.1 Introduction
For the purpose of this document, a vertical domain is a particular industry
or group of enterprises in which similar products or services are developed,
produced, and provided. Automation refers to the control of processes,
devices, or systems in vertical domains by automatic means. The main control
functions of automated control systems include taking measurements, comparing
results, computing any detected or anticipated errors, and correcting the
process to avoid future errors. These functions are performed by sensors,
transmitters, controllers, and actuators.
In the context of this document, cyber-physical systems are referred to as
systems that include engineered, interacting networks of physical and
computational components. Cyber-physical control applications are to be
understood as applications that control physical processes. Cyber-physical
control applications in automation follow certain activity patterns, which are
open-loop control, closed-loop control, sequence control, and batch control
(see Clause 4.2).
Communication services supporting cyber-physical control applications need to
be ultra-reliable, dependable with a high communication service availability,
and often require low or (in some cases) very low end-to-end latency.
Communication in automation in vertical domains follows certain communication
patterns. The most well-known is periodic deterministic communication, others
are aperiodic deterministic communication and non-deterministic communication
(see Clause 4.3).
Communication for cyber-physical control applications supports operation in
various vertical domains, for instance industrial automation and energy
automation. This document addresses service requirements for cyber-physical
control applications and supporting communication services from the vertical
domains of factories of the future (smart manufacturing), electric power
distribution, and central power generation. Service requirements for cyber-
physical control applications and supporting communication services for rail-
bound mass transit are addressed in TS 22.289 [23].
## 4.2 Activity patterns in automation
**Open-loop control:** The salient aspect of open-loop control is the lack of
feedback from the output to the control; when providing commands to an
actuator, it is assumed that the output of the influenced process is
predetermined and within an acceptable range. This kind of control loop works
if the influences of the environment on process and actuator are negligible.
Also, this kind of control is applied in case unwanted output can be tolerated
[8].
**Closed-loop control:** Closed-loop control enables the manipulation of
processes even if the environment influences the process or the performance of
the actuator changes over time. This type of control is realised by sensing
the process output and by feeding these measurements back into a controller
[8].
**Sequence control:** Sequence control may either step through a fixed
sequence or employ logic that performs different actions based on various
system states and system input [8]. Sequence control can be seen as an
extension of both open-loop and closed-loop control, but instead of achieving
only one output instance, an entire sequence of output instances can be
produced [9].
**Batch control:** Batch processes lead to the production of finite quantities
of material (batches) by subjecting input materials to a defined order of
processing actions by use of one or more pieces of equipment [10].
## 4.3 Communication attributes
**Communication in automation can be characterised by two main attributes:
periodicity and determinism.**
Periodicity means that a transmission interval is repeated. For example, a
transmission occurs every 15 ms. Reasons for a periodical transmission can be
the periodic update of a position or the repeated monitoring of a
characteristic parameter. Most periodic intervals in communication for
automation are rather short. The transmission is started once and continuous
unless a stop command is provided.
An aperiodic transmission is, for example, a transmission which is triggered
instantaneously by an event, i.e., events are the trigger of the transmission.
Events are defined by the control system or by the user. Example events are:
\- Process events: events that come from the process when thresholds are
exceeded or fallen below, e.g., temperature, pressure, level, etc.
\- Diagnostic events: events that indicate malfunctions of an automation
device or module, e.g., power supply defective; short circuit; too high
temperature; etc.
\- Maintenance events: events based on information that indicates necessary
maintenance work to prevent the failure of an automation device.
Most events, and especially alarms, are confirmed. In this context, alarms are
messages that inform a controller or operator that an event has occurred,
e.g., an equipment malfunction, process deviation, or other abnormal condition
requiring a response. The receipt of the alarm is acknowledged usually within
a short time period by the application that received the alarm. If no
acknowledgment is received from the target application after a preset time,
the so-called monitoring time, the alarm is sent again after a preset time or
some failure response action is started.
Determinism refers to whether the delay between transmission of a message and
receipt of the message at the destination address is stable (within bounds).
Usually, communication is called deterministic if it is bounded by a given
threshold for the latency/transmission time. **In case of a periodic
transmission, the variation of the interval is bounded.**
## 4.4 Control systems and related communication patterns
**There are preferences in the mapping between the type of control and the
communication pattern. Open-loop control is characterised by one or many
messages sent to an actuator. These can be sent in a periodic or an aperiodic
pattern. However, the communication means used need to be deterministic since
typically an activity response from the receiver and/or the receiving
application is expected.**
**Closed-loop control produces both periodic and aperiodic communication
patterns. Closed-loop control is often used for the control of continuous
processes with tight time-control limits, e.g., the control of a printing
press. In this case, one typically relies on periodic communication patterns.
Note that in both the aperiodic and periodic case, the communication needs to
be deterministic.**
**Logging of device states, measurements, etc. for maintenance purposes and
such typically entails aperiodic communication patterns. In case the
transmitted logging information can be time-stamped by the respective
function, determinism is often not mandatory.**
In practice, vertical communication networks serve a large number of
applications exhibiting a wide range of communication requirements. In order
to facilitate efficient modelling of the communication network during
engineering and for reducing the complexity of network optimisation, traffic
classes or communication patterns have been identified [6]. There are three
typical traffic classes or communication patterns in industrial environments
[6], i.e.,
\- deterministic periodic communication: periodic communication with stringent
requirements on timeliness of the transmission.
\- deterministic aperiodic communication: communication without a preset
sending time. Typical activity patterns for which this kind of communication
is suitable are event-driven actions.
\- non-deterministic communication: subsumes all other types of traffic,
including periodic non-real time and aperiodic non-real time traffic.
Periodicity is irrelevant in case the communication is not time-critical.
Some communication services exhibit traffic patterns that cannot be assigned
to one of the above communication patterns exclusively (mixed traffic).
## 4.5 Implications for 5G systems
In order to be suitable for automation in vertical domains, 5G systems need to
be dependable and flexible to meet specific KPIs to serve specific
applications and use cases. They need to come with the system properties of
reliability, availability, maintainability, safety, and integrity. What
particular requirements each property needs to meet depends on the
particularities of the domain and the use case. Annex F discusses the
difference between reliability and communication service availability. The
requirements in this document provide various sets of performance criteria
that need to be met to satisfactorily support different use cases of cyber-
physical control applications used by various vertical markets.
# 5 Performance requirements
## 5.1 Overview
There are two fundamental perspectives concerning dependable communication in
5G systems: the end-to-end perspective of the communication services and the
network perspective (see Figure 5.1-1).
{width="6.691666666666666in" height="2.0in"}
Figure 5.1-1: Network perspective of 5G system
The Communication Service in Figure 5.1-1 may be implemented as a logical
communication link between a UE on one side and a network server on the other
side, or between a UE on one side and a UE on the other side.
In some cases, a local approach (e.g. network edge) is preferred for the
communication service on the network side in order to reduce the latency, to
increase communication service availability, or to keep sensitive data in a
non-public network on the factory site.
The tables in Clauses 5.2 through 5.5 below provide sets of requirements where
periodicity and determinism are critical to meeting cyber-physical control
application needs in various vertical scenarios. While many use cases have
similar KPI values, the important distinction is that in order to meet the
needs of different verticals and different uses, the 5G system will need to be
sufficiently flexible to allow deployment configurations that can meet the
different sets of KPIs specific to each use.
Communication service availability is considered an important service
performance requirement for cyber-physical applications, especially for
applications with deterministic traffic. The communication service
availability depends on the latency and reliability (in the context of network
layer packet transmissions, as defined in TS 22.261 [2]) of the logical
communication link, as well as the survival time of the cyber-physical
application (see Annex C.3 for further details on these relations).
The communication service reliability requirements also depend on the
operation characteristics of the corresponding cyber-physical applications.
Typically, the communication services critical for the automation application
also come with stringent communication service reliability requirements. Note
that the communication service reliability requirement has no direct
relationship with the communication service availability requirement.
The \"# of UEs\" in the tables in clauses 5.2 to 5.5 is intended to give an
indication of the UE density that would need to be served within a given
service area.
Clock synchronisation is needed in many \"vertical\" use cases. The
requirements and tables in Clause 5.6 provide specific criteria for managing
time sensitive communications in an industrial environment.
High accuracy positioning is becoming essential for Factories of the Future.
The reason for this is that tracking of mobile devices as well as mobile
assets is becoming increasingly important in improving processes and
increasing flexibility in industrial environments, Clause 5.7 provides
positioning requirements for horizontal and vertical accuracy, availability,
heading, latency and UE speed in an industrial use case scenario.
An example of the relationship between reliability (in the context of network
layer packet transmissions, as defined in TS 22.261 [2]), survival time and
communication service availability of a logical communication link is
illustrated in the following Table 5.1-1. This is done for a special case
where packet errors are uncorrelated, which in many cases is an unrealistic
assumption.
Table 5.1-1: Example of relationship between reliability (as defined in TS
22.261) and communication service availability when the survival time is equal
to the transfer interval.
* * *
Communication service availability Reliability\ ( as defined in TS 22.261)\ 1
- p
99.999 9 % 99.9 %
99.999 999 % 99.99 %
99.999 999 99 % 99.999 %
99.999 999 999 9 % 99.999 9 %
99.999 999 999 999 % 99.999 99 %
* * *
## 5.2 Periodic deterministic communication
Periodic deterministic communication is periodic with stringent requirements
on timeliness and availability of the communication service. A transmission
occurs every transfer interval. A description of periodic deterministic
communication can be found in Clauses 4.3 and 4.4. Additional information on
the underlying use cases of the sets of requirements in Table 5.2-1 can be
found in Annex A. Further information on characteristic parameters and
influence quantities used in Table 5.2-1 can be found in Annex C.
The 5G system shall be able to provide periodic deterministic communication
with the service performance requirements for individual logical communication
links that realise the communication services reported in Table 5.2‑1.
Process and asset monitoring using industrial wireless sensors is a special
case of periodic deterministic communication with more relaxed requirements on
timeliness and availability. These use cases put a slightly different set of
requirements on the 5G system due to the specific constraints of industrial
wireless sensors. These requirements for individual logical communication
links are listed in Table 5.2-2 and additional information on the underlying
use cases can be found in Annex A.
Smart-Grid use case information can be found in Annex A.
Table 5.2-1: Periodic deterministic communication service performance
requirements
Characteristic parameter | Influence quantity |  |  |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---|---  
Communica­tion service availability: target value (note 1) | Communication service reliability: mean time between failures | End-to-end latency: maximum (note 2) (note 12a) | Service bit rate: user experienced data rate (note 12a) | Message size [byte] (note 12a) | Transfer interval: target value (note 12a) | Survival time (note 12a) | UE  
speed (note 13) | # of UEs | Service area  
(note 3) | Remarks  
99.999 % to 99.999 99 % | ~ 10 years |  99.999 9 % | ~ 10 years |  99.999 9 % | ~ 1 year |  99.999 9 % | ~ 1 year | 99.999 999 % | > 10 years | 99.999 9 % | > 1 year | 99.999 % | >> 1 month  
( 5 ms  
> 2.5 ms  
> 1.7 ms  
(note 10)** | **0  
transfer interval  
2 x transfer interval  
(note 10)** | **≤ 6 km/h (linear movement)** | **2 to 8** | 10 m x 10 m x 5 m;  
50 m x 5 m x 5 m  
(note 11) | **Cooperative carrying – fragile work pieces; (ProSe communication) (A.2.2.5)**  
99.999 9 % to 99.999 999 % | ~ 10 years | ** 5 ms  
> 2.5 ms  
> 1.7 ms (note 10)** | **0  
transfer interval  
2 x transfer interval  
(note 10)** | **≤ 12 km/h (linear movement)** | **2 to 8** | 10 m x 10 m x 5 m;  
50 m x 5 m x 5 m  
(note 11) | **Cooperative carrying – elastic work pieces; (ProSe communication) (A.2.2.5)**  
> 99.9 % |  | DL:  16 Mbit/s (urban), 640 Mbit/s (rural) DL: > 100 kbit/s (note 15) | UL: 800 kbyte | UL: 10 ms |  |  | > 10/km2 (urban), > 100/km2 (rural) (note 16) |  | Distributed energy storage ‒ monitoring (A.4.6)  
> 99.9 % |  | DL:  128 kbit/s (urban), 10.4 Mbit/s (rural); DL: > 100 kbit/s (note 15) | UL: 1.3 Mbyte DL: > 100 kbyte | UL: 1000 ms |  |  | > 10/km2 (urban), > 100/km2 (rural) (note 16) |  | Distributed energy storage ‒ data collection (A.4.6)  
> 99.99 % |  | General information data collection:  99.99 % |  | 10 ms, 100 ms, 3 s (note 22) | > 2 Mbit/s (note 21) |  |  |  |  | 500 in the service area (note 23) | Communication distance is from 100 m to 500 m, outdoor, indoor / deep indoor | Smart distribution ‒transformer terminal (A.4.8)  
99.999 % |  | 5 ms, 10 ms, 15 ms (note 25) | 1.2 Mbit/s to 2.5 Mbit/s |  99.999 9 % | ~ 1 week | 10 ms | UL: > 10 Mbit/s | – | – | ≤ 50 km/h | ≤ 2,000 | ≤ 1 km2 | Mobile robots – video streaming (A.2.2.3)  
99.999 9 % to 99.999 999 % | ~ 1 month |  5 Mbit/s | – | – |  99.9 % | ~ 1 month |  99.9 % | – | DL:  100 kbit/s UL: > 5 Gbit/s  
(note 9) | – | – | stationary | > 100 |  | Distributed energy storage; energy storage station video (A.4.6)  
> 99.99 % | – |  99.999 % | – | 20 ms | – |  99.999 9 % |  |  | ≤ 50 | ≤ 2,000 | ≤ 1 | Mobile | | | 10 | km/h | | km^2^ | robots; | | | Mbit/s | (linear | | | r | | | | m | | | eal-time | | | | ovement) | | | video | | | | | | | stream | | | | | | | ( | | | | | | | A.2.2.3) | +----------+----------+----------+----------+----------+----------+ | NOTE 1: | | | | | | | Length x | | | | | | | width x | | | | | | | height | | | | | | | | | | | | | | NOTE 2: | | | | | | | It | | | | | | | applies | | | | | | | to both | | | | | | | linear | | | | | | | movement | | | | | | | and | | | | | | | rotation | | | | | | | unless | | | | | | | stated | | | | | | | ot | | | | | | | herwise. | | | | | | +----------+----------+----------+----------+----------+----------+
## 5.5 Mixed traffic
Mixed traffic cannot be assigned to one of the other communication patterns
exclusively. Additional information on the underlying use cases of the sets of
requirements in Table 5.5-1 can be found in Annex A. Further information on
characteristic parameters and influence quantities used in Table 5.5-1 can be
found in Annex C.
The 5G system shall be able to provide mixed traffic communication with the
service performance requirements for individual logical communication links
that realise the communication services reported in Table 5.5-1.
Table 5.5-1: Mixed traffic communication service performance requirements
Characteristic parameter (KPI) | Influence quantity | Remarks |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---  
Communication service availability | Communication service reliability: mean time between failures | Max Allowed End-to-end latency (note 1)  
(note 3) | Service bit rate: aggregate user-experienced data rate | Message Size [byte] | Survival time | UE speed | # of UEs | Service Area |   
99.999 999 9 % | ~ 10 years | 16 ms |  |  |  | stationary |  \ | n/a | \ 3 m | 90 % | | s | | rvice | | co | | | | | | | Level | | ntrol | | | | | | | 2 | | p | | | | | | | | | anels | | | | | | | | | with | | | | | | | | | s | | | | | | | | | afety | | | | | | | | | func | | | | | | | | | tions | | | | | | | | | ( | | | | | | | | | non-d | | | | | | | | | anger | | | | | | | | | z | | | | | | | | | ones) | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | Pr | \ \ | n/a | \ 3 m | 90 % | | s | km/h | rvice | | autom | | | | | | | Level | | ation | | | | | | | 3 | | -- | | | | | | | | | plant | | | | | | | | | asset | | | | | | | | | manag | | | | | | | | | ement | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | Flex | \ n/a | > | n/a | 1 s | \ \ | \ | \ 3 m | 99 % |  \ 9 | \ | \ 3 m | 9.9 % |  \ | n/a | 1 s | \ 3 m | 99 % | | | km/h | rvice | | mo | | | | | | | Level | | dular | | | | | | | 5 | | ass | | | | | | | | | embly | | | | | | | | | area | | | | | | | | | in | | | | | | | | | smart | | | | | | | | | fact | | | | | | | | | ories | | | | | | | | | (for | | | | | | | | | auton | | | | | | | | | omous | | | | | | | | | vehi | | | | | | | | | cles, | | | | | | | | | only | | | | | | | | | for | | | | | | | | | monit | | | | | | | | | oring | | | | | | | | | purp | | | | | | | | | oses) | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | In | \ \ 9 | n/a | 10 ms | \ 3 m | 9.9 % | | | km/h | rvice | | logi | (if | | | | | | Level | | stics | supp | | | | | | 6 | | for | orted | | | | | | | | man | by | | | | | | | | ufact | fu | | | | | | | | uring | rther | | | | | | | | (for | se | | | | | | | | dr | nsors | | | | | | | | iving | like | | | | | | | | tr | ca | | | | | | | | aject | mera, | | | | | | | | ories | GNSS, | | | | | | | | (if | IMU) | | | | | | | | supp | | | | | | | | | orted | | | | | | | | | by | | | | | | | | | fu | | | | | | | | | rther | | | | | | | | | se | | | | | | | | | nsors | | | | | | | | | like | | | | | | | | | ca | | | | | | | | | mera, | | | | | | | | | GNSS, | | | | | | | | | IMU) | | | | | | | | | of | | | | | | | | | i | | | | | | | | | ndoor | | | | | | | | | auton | | | | | | | | | omous | | | | | | | | | dr | | | | | | | | | iving | | | | | | | | | syst | | | | | | | | | ems)) | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | In | \ \ | n/a | \ 20 | 99 % | | s | km/h | rvice | | logi | | > cm | | | | | Level | | stics | | | | | | | 7 | | for | | | | | | | | | man | | | | | | | | | ufact | | | | | | | | | uring | | | | | | | | | (for | | | | | | | | | st | | | | | | | | | orage | | | | | | | | | of | | | | | | | | | g | | | | | | | | | oods) | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+
### 5.7.2 Energy efficiency requirements for high accuracy positioning
The 5G system shall support low power high accuracy positioning mechanisms
that allow a battery-constrained UE to sustain a long lifetime without
changing battery. Some corresponding use cases and example scenarios are
captured in Annex A.7.2.
## 5.8 Network operation requirements
For use by Industry 4.0, the 5G system needs to meet various operational
options that are not typical in a traditional mobile operator setting.
Additional system requirements that enable a 5G system to support those
options are included in this clause.
5G system shall provide support for reliable communications when a UE serves
as a TSN talker or listener so there is no single point of service failure.
# 6 Ethernet applications
## 6.1 Description
This section lists the requirements applicable to the 5G system for supporting
cyber-physical applications using Ethernet.
For requirements pertaining to common, fundamental Ethernet transport
requirements, and any requirements necessary to support the 5G LAN-type
service, see Clause 6.24 in TS 22.261 [2].
## 6.2 Requirements
For infrastructure dedicated to high performance Ethernet applications, the
3GPP system shall support clock synchronisation defined by IEEE 802.1AS across
5G-based Ethernet links with PDU-session type Ethernet.
For infrastructure dedicated to high performance Ethernet applications, the
3GPP system shall support clock synchronisation defined by IEEE 802.1AS across
5G-based Ethernet links and other ethernet transports such as wired and
optical (EPON.)
For infrastructure dedicated to high performance Ethernet applications, the
accuracy of clock synchronisation should be better than 1µs.
For infrastructure dedicated to high performance Ethernet applications, the
3GPP system shall support enhancements for time-sensitive networking as
defined by IEEE 802.1Q, e.g. time-aware scheduling with absolute cyclic time
boundaries defined by IEEE 802.1Qbv [19], for 5G-based Ethernet links with PDU
sessions type Ethernet.
For infrastructure dedicated to high performance Ethernet applications,
absolute cyclic time boundaries shall be configurable for flows in DL
direction and UL direction.
For infrastructure dedicated to high performance Ethernet applications, the
3GPP system shall support coexistence of hard-RT traffic following a time-
aware schedule and lower priority traffic. The lower priority traffic cannot
have a performance degrading impact on the hard-RT traffic.
The Ethernet transport service shall support routing based on information
extracted from the Ethernet header information created based on IEEE 802.1Qbv.
# 7 Direct device connection for cyber-physical control applications
## 7.1 Description
This section lists the requirements applicable to the 5G system for supporting
cyber-physical control applications using wireless direct device connection.
## 7.2 Requirements
### 7.2.1 General
The 5G system shall allow UEs to use direct device connection when the UEs are
not served by a RAN.
The 5G system shall be able to support direct device connection between UEs in
close proximity using spectrum different than the spectrum being used for the
5GC-based communication.
The 5G system shall be able to support direct device connection for 5G LAN-
type private communication.
The 5G system shall be able to support multicast communication between the UEs
within the group of UEs using direct device connection .
### 7.2.2 Network performance
The 5G system shall be able to support direct device connection between a
group of UEs for periodic deterministic communication (both unicast and
multicast) with respective service performance requirements in Table 5.2-1
related to cooperative carrying.
The 5G system shall be able to support mobility of the group of UEs using
direct device connections with respective service performance requirements in
Table 5.2-1 related to cooperative carrying.
The 5G system shall be able to support direct device connection with
respective service performance requirements in Table 5.2-1 related to
cooperative carrying between UEs up to 50 m distance.
### 7.2.3 Clock synchronization
#### 7.2.3.1 Description
This clause lists the service level requirements and performance requirements
applicable to the 5G system for supporting clock synchronization for direct
device connection, building on the description already provided in Clause
5.6.0.
#### 7.2.3.2 Clock synchronization requirements
The 5G system shall be able to support clock synchronization (working clock
domain) between the UEs within the group of UEs using direct device connection
ProSe communication.
The 5G system shall be able to support Precision Time Protocol-based (IEEE
802.1AS [22] or another applicable IEEE Std 1588 [28] profile) or 5G sync
domain-based clock synchronization among the group of UEs using direct device
connection.
The 5G system shall be able to support the sync master of the working clock
domain being connected to one of the UEs or being hosted at one of the UEs in
the group of UEs using direct device connection.
The 5G system shall be able to support up to four simultaneous synchronization
domains on a UE using direct device connection.
The 5G system using direct device connection shall support one or multiple
time domains (IEEE 802.1AS [22] or another applicable IEEE Std 1588 [28]
profile or 5G sync domain configuration).
The 5G system shall provide a suitable means to support the merging and
separation of working clock domains at the UEs within the group of UEs
connected by direct device connection, that is interoperable with the
corresponding mechanisms of IEEE 802.1AS [22], IEEE Std 1588 [28], or 5G sync
domain.
For direct device connection, the 5G system shall be able to support a 5GS
synchronicity budget for clock synchronization according to Table 7.2.3.2-1.
In this case, the sync master and sync device are located at or connected to
two UEs which are connected via direct device connection.
Table 7.2.3.2-1: Direct device connection clock synchronization service
performance requirements for 5G System
+----------------+----------------+----------------+----------------+ | Number of | 5GS | Service area | Scenario | | devices in one | synchronicity | | | | communication | budget | (note 2) | | | group for | requirement | | | | clock | | | | | s | (note 1) | | | | ynchronization | | | | +----------------+----------------+----------------+----------------+ | 2 to 16 | ≤ 900 ns | 10 m x 10 m x | **Cooperative | | | | 5 m;\ | carrying -- | | | | 50 m x 5 m x | fragile work | | | | 5 m | pieces; | | | | | (A.2.2.5)** | +----------------+----------------+----------------+----------------+ | **2 to 16** | ≤ 900 ns | 10 m x 10 m x | **Cooperative | | | | 5 m;\ | carrying -- | | | | 50 m x 5 m x | elastic work | | | | 5 m | pieces; | | | | | (A.2.2.5)** | +----------------+----------------+----------------+----------------+ | NOTE 1: 5G | | | | | synchronicity | | | | | budget is the | | | | | time error | | | | | between | | | | | ingress and | | | | | egress of the | | | | | 5G system on | | | | | the path of | | | | | clock | | | | | s | | | | | ynchronization | | | | | messages (as | | | | | described in | | | | | Clause 5.6.0). | | | | | For direct | | | | | device | | | | | connection, | | | | | the ingress is | | | | | one UE and the | | | | | egress the | | | | | other directly | | | | | connected UE. | | | | | | | | | | NOTE 2: | | | | | Service Area | | | | | for direct | | | | | device | | | | | connections | | | | | between UEs | | | | | (length x | | | | | width x | | | | | height). The | | | | | group of UEs | | | | | with direct | | | | | device | | | | | connections | | | | | might move | | | | | throughout the | | | | | whole factory | | | | | site (up to | | | | | several km²). | | | | +----------------+----------------+----------------+----------------+
### 7.2.4 Service Continuity
The 5G system shall be able to minimize service disruption for a group of UEs
using direct device connection with respective service performance
requirements in Table 5.2-1 related to cooperative carrying, when the group
moves between a non-public network and a PLMN (subject to operator policies
and agreement between the operators and service providers).
### 7.2.5 Direct device connection via UE to UE relay
The 5G system shall be able to support direct device connection via an UE to
UE relay with respective service performance requirements in Table 5.2-1
related to cooperative carrying between UEs out of transmission range of each
other.
# 8 Indirect network connection for cyber-physical control applications
## 8.1 Description
This section lists the requirements applicable to the 5G system for supporting
cyber-physical control applications using wireless indirect network
connection.
## 8.2 Requirements
### 8.2.1 General
The 5G system shall be able to support multicast communication between the UEs
within the group of UEs using indirect network connection.
### 8.2.2 Communication via indirect network connection
The 5G system shall be able to provide service to an out-of-coverage UE via
indirect network connection using one relay UE while meeting the performance
requirements specified for the process automation use cases in Table 5.2-1
(related to Annex A.2.3.1 and A.2.3.2).
### 8.2.3 Clock synchronization
#### 8.2.3.1 Description
This clause lists the service level requirements and performance requirements
applicable to the 5G system for supporting clock synchronization for indirect
network connection, building on the description already provided in Clause
5.6.0.
#### 8.2.3.2 Clock synchronization requirements
The 5G system shall be able to support clock synchronization (working clock
domain) for UEs using indirect network connection.
The 5G system shall be able to support Precision Time Protocol-based (IEEE
802.1AS [22] or another applicable IEEE Std 1588 [28] profile) or 5G sync
domain-based clock synchronization for UEs using indirect network connection.
The 5G system shall be able to support the sync master of the working clock
domain being connected to one of the UEs or being hosted at one of the UEs
using indirect network connection.
The 5G system shall be able to support up to four simultaneous synchronization
domains on a UE using indirect network connection.
The 5G system shall provide a suitable means to support the merging and
separation of working clock domains at the UEs connected by indirect network
connection, that is interoperable with the corresponding mechanisms of IEEE
802.1AS [22] or another applicable IEEE Std 1588 [28] profile or 5G sync
domain.
For indirect network connection between UEs using one UE-to-network relay, the
5G system shall be able to support a 5GS synchronicity budget for clock
synchronization according to Table 8.2.3.2-1.
Table 8.2.3.2-1: Indirect network connection clock synchronization service
performance requirements for 5G System
+-------------+-------------+-------------+-------------+-------------+ | Number of | UE density | 5GS | Service | Scenario | | devices in | [UE / m²] | sy | area | | | one | | nchronicity | | | | co | | budget | (note 2) | | | mmunication | | requirement | | | | group for | | | | | | clock | | (note 1) | | | | sync | | | | | | hronization | | | | | +-------------+-------------+-------------+-------------+-------------+ | 10 to 20 | - | \ 99.999 9 \~ 10 years \ 99.999 9 \~ 1
year \ 99.999 9
\~ 1 year \ 99.999 9
\~ 1 week 10 ms > 10 Mbit/s -- -- -- -- ≤ 50 km/h ≤ 2,000 ≤ 1 km^2^ NOTE: The
transfer interval is not so strictly periodic in these use cases. The transfer
interval deviates around its target value within bounds. The mean of the
transfer interval is close to the target value.
* * *
_Use case one_
Periodic communication for the support of precise cooperative robotic motion
control (transfer interval: 1 ms), machine control (transfer interval: 1 ms to
10 ms), co-operative driving (10 ms to 50 ms).
_Use case two_
Periodic communication for video-operated remote control.
_Use case three_
Periodic communication for standard mobile robot operation and traffic
management.
_Use case four_
Real-time streaming data transmission (video data) from a mobile robot to the
guidance control system.
**Additional information**
AGVs have the following needs.
\-- The direct-device control is time-critical since the communication
involves safety-relevant functions such as emergency stop and the avoidance of
obstacles.
\-- For the implementation of swarm intelligence, position and availability
information are needed. A possible route change due to a blocked route affects
the routes of all other AGVs that will follow. The communication is less time-
critical than for safety-relevant functions.
\-- Camera-based navigation requires high data rates. Examples for camera-
based navigation are the positioning of boxes/containers, detection of persons
and obstacles, as well as creation and administration of a map for flexible
navigation. Note that sensor-based navigation requires lower data rates than
camera-based navigation.
Mobile robots have additional needs.
\-- The mobile robot provides an additional service during transport (for
instance quality inspection, scanning of surroundings, asset identification,
carrying of work pieces). In order to reduce the uplink data rate, pre-
compression of data is possible directly on the device. The communication is
not or at least less time-critical than the motion control of the mobile
robot.
\-- The mobile robot needs to interact with the periphery (for instance
intelligent storage racks, stationary robots, and moving machines). This
communication is time-critical. Interaction with the periphery can be relevant
at the start point, end point, and also at several intermediate stations (for
instance the collection of parts from intelligent storage racks). The exact
position and orientation can be determined by a centering station and the AGV
sensors. Additional scanning by the robot with a video camera may be
necessary.
### A.2.2.4 Wired to wireless link replacement
In a traditional factory, the production environment is fixed. Machines that
are cooperating are connected via cable, typically using an industrial
ethernet technology like PROFINET. In order to increase flexibility in the
production setup, the wired links are replaced with wireless links.
{width="6.383333333333334in" height="2.558333333333333in"}
Figure A.2.2.4-1: Example of four cooperating machines with wireless
connections (based on [26])
We assume two or more machines (typically 4 or 5) to be cooperating with each
other during production. In order to replace the cables, each machine is
equipped with one UE, connected to the controller (shown in Figure A.2.2.4-1).
The cooperating machine's communication can be divided into two types.
Periodic traffic and a-periodic traffic. Both types are scheduled, therefore
the a-periodic traffic is also adhering to the transfer interval. The traffic
requirements are from the point of view of the UE and give the maximum
aggregate traffic of all links. Meaning, the traffic per link may change
according to the number of cooperating machines but the total traffic at the
UE cannot exceed the given values.
Table A.2.2.4-1: Service performance requirements for wired to wireless link
replacement
**Use case #** | **Characteristic parameter** | **Influence quantity** |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---  
| **Communication service availability: target value [%]** | **Communication service reliability: mean time between failures** | **End-to-end latency: maximum** | **Data rate [Mbit/s]** | **Transfer interval** | **Survival time** | **UE speed** | **# of UEs** | **Service area (note 1)**  
1 (periodic traffic) | 99.999 9 to 99.999 999 | ~ 10 years |  5 ms > 2.5 ms > 1.7 ms | 0 transfer interval 2 x transfer interval | ≤ 6 km/h | 2 to 8 | 10 m x 10 m x 5 m;  
50 m x 5 m x 5 m  
2 | 99.999 9 to 99.999 999 | ~ 10 years | ** 5** ms **> 2.5** ms **> 1.7** ms | **0** **transfer interval** **2 x transfer interval** | **≤ 12** km/h | **2 to 8** | 10 m x 10 m x 5 m;  
50 m x 5 m x 5 m  
NOTE 1: The first value is the application requirement, the other values are the requirement with multiple transmission of the same information (two or three times respectively). NOTE 2: Service Area for direct communication between UEs (length x width x height). The group of UEs with direct communication might move throughout the whole factory site (up to several km²) |  |  |  |  |  |  |  |  |  |   
_Use case one_
Periodic deterministic communication for cooperative carrying of fragile work
pieces (UE to UE / ProSe communication).
_Use case two_
Periodic deterministic communication for cooperative carrying of elastic work
pieces (UE to UE / ProSe communication).
## A.2.3 Process automation
### A.2.3.1 Closed-loop control
In the closed-loop control use case for process automation, several sensors
are installed in a plant and each sensor performs continuous measurements. The
measurement data are transported to a controller, which takes decision to set
actuators. The latency and determinism in this use case are crucial. This use
case has very stringent requirements in terms of latency and service
availability. The required service area is usually bigger than for motion
control use cases. Interaction with the public network (e.g., service
continuity, roaming) is not required.
Table A.2.3.1-1: Service performance requirements for closed-loop control in
process automation
* * *
Use case # Characteristic parameter Influence quantity  
Communication service availability: target value [%] Communication service
reliability: mean time between failures End-to-end latency: maximum Message
size [byte] Transfer interval: lower bound Transfer interval: target value
Transfer interval: upper bound Survival time UE speed # of UEs Service area
(note) 1 99.999 9 to 99.999 999 ≥ 1 year \ 5 Mbit/s | – | –  99.9 \~ 1 month \ 99.999 % | - | 20 ms (note 2) | - |  99.999 % | 15 ms | 2.5 Mbit/s |  99.999 % | 15 ms | 1.2 Mbit/s |  99.999 % | 10 ms | 2.5 Mbit/s |  99.999 % | 10 ms | 1.2 Mbit/s |  99.999 % | 5 ms | 2.5 Mbit/s |  99.999 % | 5 ms | 1.2 Mbit/s |  99.9 % |  | DL:  16 Mbit/s (urban); 640 Mbit/s (rural) DL: > 100 kbit/s (note 1) | UL: 800 kbyte | UL: 10 ms | – | stationary | > 10/km2 (urban); > 100/km2 (rural) (note 2) | several km2  
2 | > 99.9 % |  | DL:  128 kbit/s (urban); 10.4 Mbit/s (rural); DL: > 100 kbit/s (note 1) | UL: 1.3 Mbyte DL: > 100 kbyte | UL: 1000 ms | – | stationary | > 10/km2 (urban); > 100/km2 (rural) (note 2) | several km2  
3 | > 99.9 % |  | DL:  100 kbit/s UL: > 5 Gbit/s  
(note 3) |  |  |  | stationary | > 100/km2 | several km2  
NOTE 1: Service bit rate for one energy storage station. NOTE 2: Activity storage nodes/km2. This value is used for deducing the data volume in an area that features multiple energy storage stations. The data volume can be calculated with the following formula (current service bit rate per storage station) x (activity storage nodes/km2) + (video service bit rate per storage station) x (activity storage nodes/km2). NOTE 3: The downlink user experienced data rate is calculated as follows: 12.5 Mbytes/s x 50(containers) x 8 = 5 Gbit/s |  |  |  |  |  |  |  |  |  |   
_Use case#1:_ Distributed energy storage ‒ periodic communication for
monitoring
_Use case#2:_ Distributed energy storage ‒ periodic communication for data
collection
_Use case#3:_ Distributed energy storage ‒ aperiodic video communication
## A.4.7 Advanced metering
Instead of recording and sending metering data from a wired electricity meter
unit, electricity metering collecting can be executed by a UE-integrated smart
meter unit. Smart meter units can send real-time metering data to a server in
the utility through mobile networks. In this way, the power enterprise―based
on the analysis of the user's power consumption behavior―gives the user power
consumption suggestions, which fosters the user's power consumption and energy
saving habits.
The electric smart meters monitor relevant user energy status and deliver the
status data to a measurement data management system (MDMS). The MDMS sends
control commands according to its policy and the status of the data collected
from the smart meters. The MDMS commands include tripping, closing permission,
alarm, alarm release, power protection, and power protection release.
Accurate-fee control is one of the basic services of advanced metering. When
the electric power user doesn't pay her electric fee on time, the MDMS can cut
off the power supply. And when there is a need for temporary power supply for
this user, the MDMS can recover the power supply. This operation requires
real-time interaction between the electric smart meter and the MDMS. Due to
massive number of electricity meters, it is estimated that in the near future,
the amount of this kind of interaction will increase 5 to 10 times. The
associated KPIs are provided in Table A.4.7-1.
Table A.4.7-1: Communication KPI for advanced metering
Use case# | Characteristic parameter | Influence quantity |  |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---|---  
| Communica­tion service availability: target value | Communication service reliability: mean time between failures | End-to-end latency: maximum | Service bit rate: user experienced data rate | Message size [byte] | Transfer interval: target value | Survival time | UE  
speed | # of UEs | Service area  
1 | > 99.99 |  | Accuracy fee control: 99.99% | – | 10 ms, 100 ms, 3 s (note 2) | > 2 Mbit/s (note 1) | – | – | – | – | 500 in the service area (note 3) | Communication distance is from 100 m to 500 m, (outdoor, indoor, and deep indoor)  
NOTE 1: It is the smart metering application data rate between the Smart Distribution Transformer Terminal and energy end equipment. Once there are multiple smart grid applications, it is required more data rate. NOTE 2: It depends on different applications supported by the Smart Distribution Transformer Terminal. The less the latency is, the more applications can be supported. NOTE 3: The distribution area can be calculated as 3.14 x range2 and in general is between 0.031 km2 and 0.79 km2. |  |  |  |  |  |  |  |  |  |   
_Use case#1:_ smart distribution transformer terminal
## A.4.9 Distributed energy resources and micro-grids
Distributed energy resources (DER) become increasingly important. The
potentially large number of DERs will have an impact on security, stability,
and operation efficiency of the energy grid.
The integration of DERs into the energy grid poses many challenges for the
involved communication system. To incorporate more renewable and alternative
energy sources, the communication infrastructure must have the ability to
easily handle an increasing amount of data traffic or service requests and
must provide a real-time monitoring and control operation for these
distributed energy resources. A reliable communication between the DERs is
crucial.
When it comes to communications architecture, IEC 61850 is a widely used
standard for automation and equipment of power utilities and DER, specifically
for defining protocols for IEDs (Intelligent electronic devices) at electrical
substations The IEC 61850 standard specifies the timing constraints for
messages typically used in substations. GOOSE (Generic Object Oriented
Substation Events) and SV (Sampled Values) messages are assumed as time
critical messages. They have the tightest deadlines (maximum allowed transfer
time) among all IEC 61850 messages, corresponding to 3 ms. While GOOSE is
typically used for transfering information related to monitoring and control
functions (circuit breaker status etc.), SV is used for transfering
measurement samples of current and voltage signals. The SV protocol works on a
periodic information transmission model, sending messages at a fixed rate. For
protection purposes, the default rate is 4000 or 4800 messages per second for
50 and 60 Hz power systems, respectively. On the other hand, the GOOSE
protocol operates in a sporadic information transmission model, where a
continuous flow of data is maintained to increase communication reliability.
The typical sizes of GOOSE and SV messages are160 and 140 bytes, respectively.
GOOSE messages are transmitted in two different modes: (1) safe operation: 1
message per second (service bit rate = 1.28 kbit/s); (2) emergency operation:
32 messages per second (service bit rate = 41.0 kbit/s). SV messages are
transmitted at much higher rate, namely 4800 messages per second (service bit
rate = 5.4 Mbit/s). The associated KPIs are provided in Table A.4.9-1.
**Table A.4.9-1: Key Performance for Distributed energy resources (DER): using
SV (Sampled Values) message**
+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | Use | Char | Infl | | | | | | | | c | acter | uence | | | | | | | | ase# | istic | qua | | | | | | | | | para | ntity | | | | | | | | | meter | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | | Comm | Com | End-t | Se | Me | Tra | Sur | UE\ | | | unica | munic | o-end | rvice | ssage | nsfer | vival | speed | | | ­tion | ation | lat | bit | size | inte | time | | | | se | se | ency: | rate: | [b | rval: | | | | | rvice | rvice | ma | user | yte] | t | | | | | ava | re | ximum | e | | arget | | | | | ilabi | liabi | | xperi | | value | | | | | lity: | lity: | | enced | | | | | | | t | mean | | data | | | | | | | arget | time | | rate | | | | | | | value | be | | | | | | | | | | tween | | | | | | | | | | fai | | | | | | | | | | lures | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 1 | 99,9 | -- | \ | -- | \ | | | | | | | | | | NOTE: | | | | | | | | | | > UE | | | | | | | | | | > to | | | | | | | | | | > UE | | | | | | | | | | > com | | | | | | | | | | munic | | | | | | | | | | ation | | | | | | | | | | > is | | | | | | | | | | > ass | | | | | | | | | | umed. | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+
_Use case#1:_ Distributed energy resources and micro-grids: using SV(sample
value) message with 50Hz
_Use case#2:_ Distributed energy resources and micro-grids: using SV(sample
value) message with 60Hz
_Use case#3:_ Distributed energy resources and micro-grids: using GOOSE
message
## A.4.10 Ensuring uninterrupted communication service availability during
emergencies
During emergencies, public mobile land networks (PLMNs) may restrict network
access, which may lead to a prohibitevly low communication service
availability for machine-type communication (MTC) for Smart Grid applications.
An example is communication for microgrids. Microgrids are separate parts of a
power grid that can be controlled and operated individually in a so-called
island mode, or together with other parts of the power grid. The idea is to
prioritise Smart Grid-related communication in order to ensure reliable and
available communication for selected devices during emergency conditions.
Existing features of a mobile network can be used to differentiate MTC of
devices in a microgrid from other kind of MTC traffic or human-to-human
communication. These features can help these microgrid devices to have
communication service during emergencies. The communication among the
microgrid devices enables co-ordination of DERs, which help the DERs can
autarkically implement recovery of an islanded microgrid.
The associated KPI is provided in Table A.4.10-1.
**Table A.4.10-1: Key Performance for uninterrupted MTC service availability**
+-------+-------+-------+-------+-------+-------+-------+-------+-------+ | Char | Infl | | | | | | | | | acter | uence | | | | | | | | | istic | qua | | | | | | | | | para | ntity | | | | | | | | | meter | | | | | | | | | | (KPI) | | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | Com | Com | Max | Se | Me | Sur | UE | # of | Se | | munic | munic | Al | rvice | ssage | vival | speed | UEs | rvice | | ation | ation | lowed | bit | size | time | | | Area | | se | se | End-t | rate: | [b | | | | | | rvice | rvice | o-end | u | yte] | | | | | | ava | re | la | ser-e | | | | | | | ilabi | liabi | tency | xperi | | | | | | | lity: | lity: | (not | enced | | | | | | | t | mean | e 1;\ | data | | | | | | | arget | time | (note | rate | | | | | | | value | be | 2) | (note | | | | | | | | tween | | 2) | | | | | | | | fai | | | | | | | | | | lures | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+-------+ | 99.99 | -- | 100 | \ 99.999 999 | > 10 years |  99.999 9 | > 1 year |  99.999 | >> 1 month ( 6 months 3 \ stipulated maximum).
If the survival time (see Table C.2.3-1) is larger than zero, consecutive
impairments and/or delays are ignored until the respective time has expired.
_End-to-end latency_
This parameter indicates the time allotted to the communication system for
transmitting a message and the permitted timeliness.
_Communication service reliability_
Mean time between failures is one of the typical indicators for communication
service reliability. This parameter states the mean value of how long the
communication service is available before it becomes unavailable. For
instance, a mean time between failures of one month indicates that a
communication service runs error-free for one month on average before an
error/errors make the communication service unavailable. Usually, an
exponential distribution is assumed. This means, there will be several
failures where the time between two subsequent errors is below the mean value
(1 month in the example).
Communication service availability and communication service reliability (mean
time between failures) give an indication on the time between failures and the
length of the failures.
_Service bit rate_
_a) deterministic communication_
The target value indicates committed data rate in bit/s sought from the
communication service. This is the minimum data rate the communication system
guarantees to provide at any time, i.e. in this case target value = user
experienced data rate.
_b) non-deterministic communication_
The target value indicates the target data rate in bit/s. This is the
information rate the communication system aims at providing on average during
a given (moving) time window (unit: s). The user experienced data rate the
lower data rate threshold for any of the time windows.
_Update time_
Applicable only to periodic communication, the update time indicates the time
interval between any two consecutive messages delivered from the egress (of
the communication system) to the application.
**Traffic classes**
In practice, vertical communication networks serve applications exhibiting a
wide range of communication requirements. In order to facilitate efficient
modelling of the communication network during engineering, and for reducing
the complexity of network optimisation, disjoint QoS sets have been
identified. These sets are referred to as traffic classes [6]. Typically, only
three traffic classes are needed in industrial environments [6], i.e.
\- deterministic periodic communication;
\- deterministic aperiodic communication; and
\- non-deterministic communication.
Deterministic periodic communication stands for periodic communication with
stringent requirements on timeliness of the transmission.
Deterministic aperiodic communication stands for communication without a pre-
set sending time. Typical activity patterns for which this kind of
communication is suitable are event-driven actions.
Non-deterministic communication subsumes all other types of traffic. Periodic
non-real time and aperiodic non-real time traffic are subsumed by the non-
deterministic traffic class, since periodicity is irrelevant in case the
communication is not time-critical.
**Usage of the parameters in Table C.2.2-1**
Control service request and response; monitoring service response and
indication.
## C.2.3 Influence quantities
Table C.2.3-1: Candidate application influencing parameters for the dependable
communication service interface
* * *
Parameter name Typical metric (unit) Traffic class (note) **Usage of this
parameter**  
Deterministic periodic communication Deterministic aperiodic communication
Non-deterministic communication  
Burst Maximum user data length (byte) and line rate of the communication
service interface (bit/s) -- X X Service request and response; monitoring
service response and indication Message size Maximum or current value (byte) X
(X) (X) Service request and response; non-deterministic data transmission;
deterministic aperiodic data transmission Service time interval Start (time)
and end (time) X X X Service request and response Survival time Maximum (s) X
X -- Service request and response Transfer interval Target value and
timeliness (s) X -- -- Service request and response NOTE: X: applies; (X):
usually does not apply; --: does not apply.
* * *
**Parameter description**
_Burst_
The transmission of, for instance, program code and configuration data may be
handed to the 3GPP system as data burst. In this case, the ingress data rate
exceeds the capacity of the network, which implies that some of the data has
to be stored within the ingress node of the communication system before it can
be transmitted to the egress interface(s). However, the application consuming
the communication service requires that the data of such a burst needs to be
transmitted completely. This is in contrast to periodic data transmission,
where new messages overwrite old ones.
Typical metrices for bursts: maximum user data length and line rate of the
communication service interface.
_Message size_
The user data length indicates the (maximum) size of the user data packet
delivered from the application to the ingress of the communication system and
from the egress of the communication system to the application. For periodic
communication this parameter can be used for calculating the requested user-
experienced data rate. If this parameter is not provided, the default is the
maximum value supported by the PDU type (e.g. Ethernet PDU: maximum frame
length is 1,522 octets, IP PDU: maximum packet length is 65,535 octets).
_Service time interval_
Describes the start and end time of a communication service. Note that there
are other ways to describe the service time interval numerically, for instance
as the tuple [start time, service duration].
_Survival time_
The maximum survival time indicates the time period the communication service
may not meet the application\'s requirement before the communication service
is deemed to be in an unavailable state.
NOTE 1: The survival time indicates to the communication service the time
available to recover from failure. This parameter is thus tightly related to
maintainability [7].
_Transfer interval_
Applicable only to periodic communication, the transfer interval indicates the
time elapsed between any two consecutive messages delivered by the automation
application to the ingress of the communication system.
# C.3 Up time and up state vs. down state and down time
The assessment of periodic deterministic communication services is based on
the assessment of successful message transmission over a logical communication
link. Message transmission is either:
_\- successful, if it is correctly and timely received, or_
_\- unsuccessful, if it is incorrectly received, lost or untimely._
Up time and down time can be derived from received messages. As far as timely
received messages are correct, the logical communication link status is _up_.
If a message loss or an incorrectly or untimely received message is detected
the logical communication link status is _down_. To denote up and down states
the terms "up time interval" and "down time interval", or alternatively
"_available"_ and "_unavailable"_ may be used. An example of the relation
between logical communication link status, communication service status and
application status is presented in Figure C.3-1.
Figure C.3-1: Relation between logical communication link, communication
service and application statuses (example with lost messages)
The flow of events in Figure C.3-1 is as follows:
a) The logical communication link is up and running (blue line is UP). A
source device starts sending periodic messages to a target device (orange
arrows), on which an automation function (application) is running. The
communication service is, from the point of view of the target application, in
an up state (violet line is UP) and so is the application (green line is UP).
b) The logical communication link status changes to down state if it no longer
can support end-to-end transmission of the source device\'s messages to the
target device in agreement with the negotiated communication requirements.
Once the application on the target device senses the absence (or unsuccessful
reception) of expected messages (\"Deadline for expected message\" in Figure
C.3-1), it will wait a pre-set period before it considers the communication
service to be unavailable ; this is the so-called survival time. The survival
time can be expressed as
\- a period or,
\- especially with cyclic traffic, as maximum number of consecutive
incorrectly received or lost messages.
c) If the survival time has been exceeded, both the communication service and
the application transition into a down state (violet and green lines change to
DOWN in Figure C.3-1). The application will usually take corresponding actions
for handling such situations of unavailable communication services. For
instance, it will commence an emergency shutdown. Note that this does not
imply that the target application is \"shut off\"; rather it transitions into
a pre-defined state, e.g. a safe state. In the safe state, the target
application might still listen to incoming packets or may try to send messages
to the source application.
d) Once the logical communication link status is in the up state again (blue
line in Figure C.3-1 changes to UP), the communication service state as
perceived by the target application will change to the up state. The
communication service is thus again perceived as available (violet line
changes to UP in Figure C.3-1). The state of the application, however, depends
on the counter measures taken by the application. The application might stay
in down state if it is in a safe state due to an emergency shutdown. Or, the
application may do a recovery and change to up state again. The time needed
for the application to return to the up state after the communication service
is restored is shown as "Application recovery time" in Figure C.3-1.
The availability of the communication service is calculated using the
accumulated down time. For instance, in case the communication service is
expected to run for a time _T_ , the unavailability _U_ of the communication
service can be calculated as
{width="0.6805555555555556in" height="0.3541666666666667in"}
Where Δ _t~i~_ is the length of the _i_ -th downtime interval of the
communication service within the time period _T._ The communication service
availability _A_ can then be calculated as
_A =_ 1--_U._
# C.4 Timeliness as an attribute for timing accuracy
## C.4.1 Overview
There are several time parameters in dependability assessment. A required
value is specified for every time parameter. This value can be a maximum,
mean, modal, minimum etc. Typically, there is a deviation from the desired
value to the actual value. Jitter is often used to characterise this
variation. Since jitter generally is used for characterising the behaviour of
a measured parameter, for instance the scatter of measured end-to-end
latencies (\"the world as it is\"), it can be quite confusing to use it for
formulating service performance requirements (\"the world as we want it to
be\"). What is needed is a concept and related parameters that allow for
formulating and talking about the end-to-end latency requirements in Clause 5
and Annex A.
The most important attribute is timeliness. Timeliness can be formulated a
permitted interval for the actual value of the time parameter. Accuracy,
earliness and lateness describe the allowed deviation from a target value.
Accuracy is the magnitude of deviation. It can be negative (early) or positive
(tardy).
## C.4.2 Network latency requirement formulated by use of timeliness
In 5G networks, the end-to-end latency KPI is a critical KPI in order to
ensure that the network can deliver the packet within a time limit specified
by an application: not too early and not too late.
In cyber-physical automation, the arrival time of a specific packet should be
strictly inside a prescribed time window. In other words, a strict time
boundary applies: [minimum end-to-end latency, maximum end-to-end latency].
Otherwise, the transmission is erroneous. Although most use cases that require
timely delivery only specify the maximum end-to-end latency, the minimum
latency is also sometimes prescribed. In the latter case, a communication
error occurs if the packet is delivered earlier than the minimum end-to-end
latency. An example for a related application is putting labels at a specific
location on moving objects, and the arrival of a message is interpreted as a
trigger for this action. In other words, the application does not keep its own
time, but interprets the message arrival as clock signal. Maximum and minimum
end-to-end latency alone do not disclose which value is preferred, i.e. target
value. The next three subclauses introduce concepts help with relating maximum
end-to-end latency, minimum end-to-end latency, and target vale to each other.
## C.4.3 Timeliness
Timeliness is described by a time interval (see Figure C.4.3-1). The interval
is restricted by a lower bound (_t_ ~LB~) and an upper bound (_t_ ~UB~). This
interval contains all values _t_ ~A~ that are within an accepted \"distance\"
to the target value _t_ ~R~.
{width="5.29375in" height="2.7805555555555554in"}
Figure C.4.3-1: Timeliness function
A message reception is considered in time, if it is received within the
timeliness interval. If it is received outside the timeliness interval, the
message reception is considered invalid. This is related to the communication
error \"unacceptable deviation from target end-to-end latency\" (see Subclause
B.6). In other words, maximum end-to-end latency = _t_ ~UB~ and minimum end-
to-end latency = _t_ ~LB~.
Timeliness is related to deviation (see Subclause C.4.4), the lower bound _t_
~LB~ is related to earliness (see Subclause C.4.5), and the upper bound _t_
~UB~ is related to lateness (see Subclause C.4.6).
## C.4.4 Deviation
The term deviation describes the discrepancy between an actual value (_t_ ~A~)
and a target value (_t_ ~R~).
Deviation(_t_ ~A~) = _t_ ~A~ -- _t_ ~R~.
Figure C.4.4-1 shows two examples. The target value is 10 time units (_t_ ~R~
= 10) in both cases. In the first case (blue) the actual value measures 12
time units (_t_ ~A~ = 12). The difference of both amounts to +2 time units,
which means that the deviation is 2 time units [Accurracy(_t_ ~A~) = 2]. The
second case (purple) shows the actual value as 9 time units (_t_ ~A~ = 9). The
difference of both amounts to -1 time unit, which means that the deviation is
--1 time units [Accuracy(_t_ ~A~) = --1].
Figure C.4.4-1: Examples for accuracy values
Figure C.4.4-2 shows the deviation with respect to the target time (t). The
following applies:
Deviation(_t_) \ 0 for _t_ > _t_ ~R~; that is, the arrival is late (see also
C.4.6)
{width="3.573611111111111in" height="2.520138888888889in"}
Figure C.4.4-2: Accuracy function
## C.4.5 Earliness
Earliness describes how early the actual value is: earliness is greater than 0
if the actual value is less than the target value (see Figure C.4.5-1). The
following applies:
Eearliness(_t_ ~A~) = _t_ ~R~ -- _t_ ~A~ = --Deviation(_t_ ~A~) for _t_ ~A~ \ _t_ ~R~.
In an example, the target value is 10 time units (_t_ ~R~ = 10), and the
actual value measures 14 time units (_t_ ~A~ = 14). The difference of both is
4 time units with respect to being late. That means that the lateness is 4
time units [L(_t_ ~A~) = 4].
{width="2.5131944444444443in" height="1.675in"}
Figure C.4.6-1: Lateness function
## C.4.7 Conclusion
Using the concepts of earliness and lateness (see Subclauses C.4.5 and C.4.6,
respectively), the maximum and minimum end-to-end latency can be rewritten as
follows.
_Maximum end-to-end latency = target end-to-end latency + maximum lateness;_
_Minimum end-to-end latency = target end-to-end latency -- maximum earliness._
# C.5 Communication service terminology w.r.t. 5G network and vertical
applications
This section clarifies the wording and terminology with respect to
communication interfaces that are relevant for vertical applications. Because
the 3GPP network does not cover the complete ISO-OSI communication stack, it
is important to distinguish between
\- the vertical applications' point of view, and
\- the 3GPP network's point of view.
In this section, the relation between those two is clarified.
Figure C.5-1 shows a simplified version of the communication stack. The PHY
layer, the MAC layer and some parts of the IP layer are part of the 3GPP
network. The layers that are part of the 3GPP network are referred to as lower
communication layers (LCL). The communication stack also includes an
application. The OSI layers related to providing data to the application are
referred to as the higher communication layers (HCL). The interface between
LCL and HCL is referred to as communication service interface (CSIF).
For the assessment of the overall system performance, it is important to
differentiate between the 3GPP network's performance (i.e., including only the
LCL and measured at the CSIF) and the overall system performance including the
application layer (i.e., including both, the LCL and the HCL). In Figure
C.5-1, the orange arrow depicts the vertical application's point of view. The
blue arrows indicate two options to measure the 3GPP network's performance,
i.e., including and excluding the IP layer.
{width="6.747916666666667in" height="2.857638888888889in"}
Figure C.5-1: Network performance measurements at different communication
system interfaces (CSIF)
Figure C.5-2 illustrates how messages are transmitted from a source
application device (e.g., a programmable logic controller) to a target
application device (e.g. an industrial robot). The source application function
(AF) is executed in the source operating system (OS) and hands over a message
to the application layer interface of the source communication device. In the
higher communication layers (HCL), which are not part of the 3GPP system, the
data is processed. From the HCL the data is transferred to the lower
communication layers (LCL), which are part of the 3GPP system. After
transmission through the physical communication channel and the LCL of the
target communication device, the data is passed to the HCL and lastly to the
target application device. Characteristic parameters with respect to time are
defined in Figure C.5-2.
From 3GPP system point of view:
\- Transfer interval of 5G system: Time between the arrival of two pieces of
data at the source CSIF.
\- End-to-end latency: Time measured from the point when a piece of data
received at the CSIF in the source communication device until the same piece
of data is passed to the CSIF in the target communication device.
From vertical application point of view:
\- Transfer interval of vertical application: Time between the transmission of
two successive pieces of data from the source application.
\- Transmission time: Time measured from the point when a piece of data is
handed from the application layer interface of the source application device,
until the same piece of data is received at the application layer interface of
the target application device.
\- Update time: Time between the reception of two consecutive pieces of data
at the application layer interface to the target application device.
If not stated otherwise, the terms \"end-to-end latency\" and \"transfer
interval\" refer to the 3GPP system / 5G network parameters in this document.
{width="6.743055555555555in" height="4.20625in"}
Figure C.5-2: Relation between application device and communication device
(downlink example).
###### ## Annex D (informative): 5G in industrial automation: different and
multiple time domains for synchronization
# D.1 Description
The required synchronization precision is usually given as the maximum
absolute value of the time difference between sync master and any device in
the synchronisation domain (time domain or clock domain). A common example is
a synchronisation precision of ≤ 1 µs. This is equivalent to ± the precision
value, so ±1 µs between sync master and any device in the synchronisation
domain, resulting in two times this value as maximum absolute time difference
between any two devices in the synchronisation domain (2 µs in the example).
An industrial automation network generally consists of two distinct time
domains.
First is the _global time domain_. This is the time used for overall
synchronization in the system (e.g. the factory). It is used to align
operations and events chronologically. Industrial automation uses the term
_universal time domain_ [20] for the global time domain described in this
document. Global time is known as a synonym for universal time in industrial
automation. Global time is called wall clock in certain areas and standards.
The synchronization precision is typically ≤ 1µs [20]. In some areas, a
precision of ≤ 100 µs might be sufficient for the global time domain if a
working clock with precision of ≤ 1 µs is available. The assigned timescale is
usually the International Atomic Time (TAI, _temps atomique international_),
based on the precision time protocol (PTP) epoch (starting from 1 January 1970
00:00:00 TAI) [22]. While there is usually only one global time, multiple
global time domains are possible.
Clock synchronization in the global time domain usually applies to all UEs
within the industrial facility in industrial automation. That is, a global
time domain covers usually the industrial facility.
Second is the _working clock domain_. Working clock domains are constrained in
size. They often consist of a single machine or a set of neighbouring machines
that physically collaborate. The restricted size allows very precise time
synchronization (≤1µs) with efficient network components. Synchronisation to a
working clock is used to align e.g. production lines, production cells, or
machines/functional units. In these cases, the application synchronizes
locally within the working clock domains (Figure D.1-1), allowing precise
synchronization with more efficient components. A global time domain usually
contains multiple working clock domains. The starting point (epoch) is the
start of the working clock domain.
{width="3.9819444444444443in" height="3.077777777777778in"}
Figure D.1-1: Global time domain and working clock domains
The assigned timescale of a working clock domain is arbitrary (timescale ARB
[22]). Therefore, different working clock domains may have different
timescales and different synchronisation accuracy and precision. Robots,
motion control applications, numeric control, and any kind of clocked /
isochronous application rely on the timescale of the working clock domain to
make sure that actions are precisely interwoven as needed.
Clock synchronization in the working clock domain is constraint in size. A
specific working clock domain will contain only a subset of the UEs within the
industrial facility. Often, the UEs of the working clock domain are connected
to the same gNB. However, it is also possible that a working clock domain
contains multiple neighbouring gNBs. This depends on the actual use case and
its vertical application.
Devices may be part of multiple time domains leading to overlapping working
clock domains.
The required precision (usually ≤ 1 µs) is between the sync master and any
sync devices of the clock domain, both, global time domain and working clock
domain.
Clock domains might be called sync domains in certain areas and standards.
# D.2 Merging of working clock domains
One key issue of the integration of TSN and 5G wireless networks that has to
be handled is mobility. The integration of 5G wireless communication into the
industrial communication infrastructure allows for mobility in the
manufacturing process. This mobility enhances flexibility in the manufacturing
process, e.g. through adding certain manufacturing capabilities on-demand by
having a machine move to the respective production line. This means that
machines that are synchronized to different working clock domains may need to
interact with each other.
The following scenario illustrates this. After the mobile machine has arrived
at the intended location and is stationary again, the two interacting working
clock domains have to be synchronized with each other. Otherwise interaction
might not be possible without interfering with ongoing operations. An example
is an autonomous mobile handling robot adding parts to an assembly line.
Without synchronization between both, correct placement of the parts would be
impossible.
However, it is not feasible to schedule these interactions beforehand.
Therefore, the interaction between different working clock domains requires a
concept for handling the communication. TSN provides already mechanisms for
this. The 5G systems and the UEs need to provide an interface in order to
exchange information of the clock domain.
{width="6.745833333333334in" height="2.7736111111111112in"}
Figure D.2-1: Working clock domain interactions \"Merge\" and \"Separate\"
When members of different working clock domains interact, there are two
possible options (Figure D.2-1). Which option is used depends on the
application and its requirements.
\- Merge: The working clock domains merge into one. This option can be used in
applications where synchronization is critical, e.g. high precision robots
interacting with each other.
\- Separate: The members of the different working clock domains interact while
keeping their own separate time synchronizations. This option can be used in
applications where synchronization is non-critical, e.g. an AGV collecting
finished products from a production line.
# D.3 Time synchronization with 5G networks
For the time synchronization with 5G networks, we consider two possible
options.
The 5G system uses the IEEE 802.1AS sync domains [22]: In this case, the 5G
system provides a media dependent interface to the IEEE 802.1AS sync domain,
which the application can use to synchronize to the sync domain. In the IEEE
802.1AS standard [22], a similar concept is detailed in the MDSyncSend and
MDSyncReceive structures.
The 5G system provides the working clock domains and global time domain: In
this case, the 5G system has to provide an interface which the application can
use to derive their working clock domain or global time domain. A device can
belong to multiple working clock domains. An application can use each of these
as the reference clock for synchronization (reference clock model).
NOTE: The required precision (usually ≤ 1 µs) is between the sync master and
any sync device of the clock domain.
###### ## Annex E (informative): Audio and Video Production
## E.1 Description
AV production includes television and radio studios, outside and remotely
controlled broadcasts, live newsgathering, sports events, music festivals,
among others. All of these applications require a high degree of reliability,
since they are related to the capturing and transmission of data at the
beginning of a production chain. This differs drastically when compared to
other multimedia services because the communication errors will be propagated
to the entire audience that is consuming that content both live and recorded
for later distribution. Furthermore, the transmitted data is often post-
processed with nonlinear filters which could actually amplify defects that
would be otherwise not noticed by humans. Therefore, these applications call
for uncompressed or only slightly compressed data, and very low probability of
errors. These devices will also be used alongside existing technologies which
have a high level of performance and so any new technologies will need to
match or improve upon the existing workflows to drive adoption of the
technology.
The performance aspects that are covered by/in TS 22.263 [27] (Service
requirements for Video, Imaging and Audio for professional applications) also
target the latency that these services experience.
In recent years, production facilities have moved from bespoke unidirectional
highly specialised networks to IP based systems and software-based workflows.
This migration is expected to continue, and wireless IP connectivity is key to
a number of these workflows.
Typical set ups require multiple devices such as cameras, microphones and
control surfaces that require extremely close synchronisation to maintain
consistency of pictures and audio. Such clock synchronization requirements are
captured in clause 5.6. Often devices need to communicate directly to each
other for instance a camera to a monitor or a microphone to a PA system.
Video and audio applications also require extremely high quality of service
metrics as the loss of a single packet can cause picture or sound breakup in
the downstream processing or distribution. Often this is a legal, regulatory
or contractual agreement to maintain a high quality, stable and clear video or
audio signal.
## E.2 Multiple source wireless studio
This use case will deploy a multiple camera studio of approximately 1,000 m^2^
(\~5 cameras) where wired and wireless functionalities currently provided by
traditional infrastructure technologies are likely to be deployed using a
standalone non-public network. A combination of IP enabled wired and wireless
cameras working at both HD and UHD resolutions will be deployed in a studio.
Associated equipment such as video monitors, prompting systems, camera control
will be provided over the 5G network. Camera timing and synchronisation will
be provided over the 5G system. As well as video, audio will be sourced from
both wired and wireless microphones incl. control/monitoring and combined with
the video to produce high quality synchronised AV content. 5G will also be
deployed to control lighting and camera robotics. Talkback intercom systems
will be deployed using low latency multicast links.
Today's digital AV network transport is typically handled separately for
wireless and wired transfers (see figure E.1.2-1). Wireless AV transmissions
are implemented with application specific solutions that allow deterministic
data transport of a single isolated audio or video link. Wired AV
transmissions are Ethernet / IP based. Quality of service in AV IP networks is
mainly achieved with IP DiffServ / DSCP based prioritization of packets in
network switches. This method is sufficient for most AV use cases since jitter
resulting from packet collisions is small, for example in the order of 10 µs
per concurring data stream in Gbit Ethernet.
{width="5.626388888888889in" height="3.1381944444444443in"}
Figure E.2-1: Typical AVPROD setup
The microphones and cameras can be co-located in a broadcast centre in which
case they would communicate through a LAN or NPN. For remote production
operations the mixing and production console may be separated by some distance
(existing examples are cross continental. In this instance they may
communicate via a PLMN or combination of PLMN and WAN networks.
Some approaches may also deploy main (leader) equipment at the broadcast
centre with secondary (follower) equipment at the location site to reduce
latency.
Other aspects of this workflow may also include robotic control where both the
physical position (height, direction and tilt) and the technical control
(focus, zoom, iris, colour) of a device of a camera, microphone or light may
be controlled remotely. In this instance round trip latency of \< 20ms is
required in order for an operator to see a move reflected at his control
position as it is made.
It is important to note that these are a combination of automated robotics
(pre-programmed moves) and manually controlled robotics (following an
unpredictable event such a sport).
## E.3 Timing use in AV production applications
Timing of multiple devices such as microphones and camera is also critical.
Timing signals are used in 2 separate ways.
\- To maintain synchronisation between devices so that electronic shutters on
cameras operate at the same time and frequency and that when cutting between
any two cameras pointed at the same source no discernible jumps can be seen.
This requires accuracy within the frame boundary of a given video signal. A
single frame of video at 120 Hz would require a clock accurate to within 8 ms.
\- To timestamp an IP packet carrying a video or audio sample. Existing
standards and workflows for AVPROD rely on IEEE 1588 PTP timing with a SMPTE
media profile applied. This requires a clock accurate to within 1 µs
{width="6.691666666666666in" height="3.7430555555555554in"}
Figure E.3-1 Typical IP based timing set up for AVPROD
###### ## Annex F (informative): Relation of reliability and communication
service availability
Availability and reliability are used both in 3GPP and vertical industries,
but with different meanings. Communication service availability addresses the
availability of a communication service. This definition follows the vertical
standard IEC 61907 [7]. On the other hand, reliability is a 3GPP term and
addresses the availability of a communication network. The relation of both
terms is depicted in figure F-1 for a mobile network.
{width="6.6875in" height="1.84375in"}
**Figure F-1: Illustration of the concepts reliability and communication
service availability.**
As depicted, reliability covers the communication-related aspects between two
nodes (here: end nodes), while communication service availability addresses
the communication-related aspects between two communication service
interfaces. This might seem to be a small difference, but this difference can
lead to situations, where reliability and communication service availability
have different values.
**Example: traffic gets \"stuck\"**
The related scenario is depicted in figure F-2.
{width="6.692361111111111in" height="2.792361111111111in"}
**Figure F-2: Example in which reliability and communication service
availability have different values. Packets are reliably transmitted from the
communication service interface A to end node B, but they are not exposed at
the communication service interface B.**
This scenario addresses unicast communication from application A to B. The
packets are handed over at the communication service interface A from the
application to the communication network, and the packets are then transmitted
to the end node B. In this example, the packets received by end node B are not
exposed at the communication service interface B. So, even if all packets that
are handed over to end node A are successfully delivered to end node B within
the time constraint required by the targeted service (reliability = 100 %),
the communication service availability is 0% since no packets arrive at the
\"end\", namely the communication service interface B.
**Example: packets dropped at the communication service interface**
**The related scenario is depicted in figure F-3.**
{width="6.697916666666667in" height="2.6770833333333335in"}
**Figure F-3: Example in which reliability and communication service
availability have different values. Only half of the packets handed over to
the end node A are actually transmitted to end node B and then handed over to
application B at the communication service interface B.**
This scenario describes unicast communication of evenly interspersed packets
from application A to B. The packets are handed over at the communication
service interface A from the application to the communication network, and the
packets are then transmitted to the end node B. However, only every second
packet is actually successfully handed over to end node A and then transmitted
to end node B. Thus, only half of the packets arrive at application B. Note
though that the reliability of the mobile network is 100%, since all packets
transmitted by end node A are delivered to end node B within the time
constraint required by the targeted service. However, depending on the agreed
QoS, the communication service availability can be of the same value as the
reliability or much lower. For instance, if the agreed survival time is equal
to or larger than the end-to-end latency, reliability and communication
service availability are equal. However, if the survival time is smaller, the
reliability is two times the communication service availability.
Note that the shortest time interval over which the communication service
availability should be calculated is the sum of maximum allowed end-to-end
latency and survival time.
#