# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# Introduction
The present document is part 3 of a multi-part conformance test specification
for the 3GPP evolved User Equipment (UE). The specification contains a TTCN-3
design frame work and the detailed test specifications in TTCN-3 for evolved
UE at the UE-E-UTRAN radio interface.
\- 3GPP TS 36.523-1 [1]: \"User Equipment (UE) conformance specification; Part
1: Protocol conformance specification\".
\- 3GPP TS 36.523-2 [2]: \"User Equipment (UE) conformance specification; Part
2: Implementation Conformance Statement (ICS) proforma specification\".
\- **3GPP TS 36.523-3: \"Test Suites\" (the present document).**
# 1 Scope
The present document specifies the protocol and signalling conformance testing
in TTCN-3 for the 3GPP UE at the UE‑E-UTRAN radio interface.
The following TTCN test specification and design considerations can be found
in the present document:
\- the test system architecture;
\- the overall test suite structure;
\- the test models and ASP definitions;
\- the test methods and usage of communication ports definitions;
\- the test configurations;
\- the design principles and assumptions;
\- TTCN styles and conventions;
\- the partial PIXIT proforma;
\- the test suites.
The Abstract Test Suites designed in the document are based on the test cases
specified in prose (3GPP TS 36.523‑1 [1]). The applicability of the individual
test cases is specified in the test ICS proforma specification (3GPP TS
36.523‑2 [1]).
The present document is valid for UE implemented according to 3GPP Rel-9
upwards.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
  * References are either specific (identified by date of publication, > edition number, version number, etc.) or non‑specific.
  * For a specific reference, subsequent revisions do not apply.
  * For a non-specific reference, the latest version applies. In the > case of a reference to a 3GPP document (including a GSM document), > a non-specific reference implicitly refers to the latest version > of that document _in the same Release as the present document_.
[1] 3GPP TS 36.523-1: \"User Equipment (UE) conformance specification; Part 1:
Protocol conformance specification\".
[2] 3GPP TS 36.523-2: \"User Equipment (UE) conformance specification; Part 2:
Implementation Conformance Statement (ICS) proforma specification\".
[3] 3GPP TS 36.508: \"Common test environments for User Equipment (UE)
conformance testing\".
[4] 3GPP TS 36.509: \"Terminal logical test interface; Special conformance
testing functions\".
[5] 3GPP TS 34.123-1: \"User Equipment (UE) conformance specification; Part 1:
Protocol conformance specification\".
[6] 3GPP TS 34.123-2: \"User Equipment (UE) conformance specification; Part 2:
Implementation Conformance Statement (ICS) proforma specification\".
[7] 3GPP TS 34.123-3: \"User Equipment (UE) conformance specification; Part 3:
Abstract Test Suite (ATS)\".
[8] 3GPP TS 34.108: \"Common test environments for User Equipment (UE)
conformance testing\".
[9] 3GPP TS 34.109: \"Terminal logical test interface; Special conformance
testing functions\".
[10] 3GPP TS 51.010-1: \"Mobile Station (MS) conformance specification; Part
1: Conformance Specification\".
[11] 3GPP TS 51.010-2: \"Mobile Station (MS) conformance specification; Part
2: Protocol Implementation Conformance Statement (PICS) proforma
specification\".
> [12] 3GPP TS 51.010-5: \"Mobile Station (MS) conformance specification; Part
> 5: **Inter-RAT (** GERAN to UTRAN) **Abstract Test Suite (ATS)\".**
[13] ETSI ES 201 873-1: \"Methods for Testing and Specification (MTS); The
Tree and Tabular Combined Notation version 3; Part 1: TTCN-3 Core Language\".
[14] 3GPP TS 36.304: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
\"UE Procedures in Idle Mode\".
[15] 3GPP TS 36.306 \"Evolved Universal Terrestrial Radio Access (E-UTRA);
\"UE Radio Access Capabilities\".
[16] 3GPP TS 36.321: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
\"Medium Access Control (MAC) protocol specification\".
[17] 3GPP TS 36.322:\"Evolved Universal Terrestrial Radio Access (E-UTRA);
\"Radio Link Control (RLC) protocol specification\".
[18] 3GPP TS 36.323: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
\"Packet Data Convergence Protocol (PDCP) Specification\".
[19] 3GPP TS 36.331: \"Evolved Universal Terrestrial Radio Access (E-UTRA)
Radio Resource Control (RRC); Protocol Specification\".
[20] 3GPP TS 24.008: \"Mobile Radio Interface Layer 3 specification; Core
Network Protocols; Stage 3\".
[21] 3GPP TS 24.301: \"Non-Access-Stratum (NAS) Protocol for Evolved Packet
System (EPS); Stage 3\".
[22] 3GPP TS 24.303: \"Mobility Management based on DSMIPv6; User Equipment
(UE) to network protocols; Stage 3\".
[23] 3GPP TS 24.304: \"Mobility management based on Mobile IPv4; User
Equipment (UE) - foreign agent interface; Stage 3\".
[24] 3GPP TS 33.401: \"3GPP System Architecture Evolution (SAE); Security
architecture\".
[25] 3GPP TS 33.402: \"3GPP System Architecture Evolution (SAE); Security
aspects of non-3GPP accesses\".
[26] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[27] ETSI ES 201 873-4: \"Methods for Testing and Specification (MTS); The
Testing and Test Control Notation version 3; Part 4: TTCN-3 Operational
Semantics\".
[28] ETSI ES 201 873-5: \"Methods for Testing and Specification (MTS); The
Testing and Test Control Notation version 3; Part 5: TTCN-3 Runtime Interface
(TRI)\".
[29] ETSI ES 201 873-6: \"Methods for Testing and Specification (MTS); The
Testing and Test Control Notation version 3; Part 6: TTCN-3 Control Interface
(TCI)\".
[30] 3GPP TS 36.213: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
Physical layer procedures\".
[31] 3GPP TS 27.005: \"Use of Data Terminal Equipment - Data Circuit
terminating Equipment (DTE‑DCE) interface for Short Message Service (SMS) and
Cell Broadcast Service (CBS)\".
[32] 3GPP TS 27.007: \"AT command set for 3G User Equipment (UE)\".
[33] 3GPP TS 27.060: \"Packet domain; Mobile Station (MS) supporting Packet
Switched services\".
[34] 3GPP TS 36.101: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
User Equipment (UE) radio transmission and reception\".
[35] 3GPP TS 36.211: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
Physical channels and modulation\".
[36] 3GPP TS 25.331: \"RRC Protocol Specification\".
[37] 3GPP TS 36.133: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
Requirements for support of radio resource management\".
[38] 3GPP2 TSG-C C.S0024_C: \"cdma2000 High Rate Packet Data Air Interface
Specification\".
[39] 3GPP2 TSG-C C.S0057_D: \"Band Class Specification for cdma2000 Spread
Spectrum Systems\".
[40] 3GPP TS 34.229-1: \"Internet Protocol (IP) multimedia call control
protocol based on Session Initiation Protocol (SIP) and Session Description
Protocol (SDP); User Equipment (UE) conformance specification; Part 1:
Protocol conformance specification\".
[41] 3GPP TS 33.203: \"3G security; Access security for IP-based services\".
[42] 3GPP TS 24.229: \"IP Multimedia Call Control Protocol based on Session
Initiation Protocol (SIP) and Session Description Protocol (SDP); Stage 3\".
[43] IETF RFC 3320: \"Signaling Compression (SigComp)\".
[44] IETF RFC 3485: \"**The Session Initiation Protocol (SIP) and Session
Description Protocol (SDP) Static Dictionary for Signaling Compression
(SigComp)** \".
[45] IETF RFC 3486: \"**Compressing the Session Initiation Protocol (SIP)**
\".
[46] IETF RFC 4896: \"**Signaling Compression (SigComp) Corrections and
Clarifications** \".
[47] IETF RFC 5049: \"**Applying Signaling Compression (SigComp) to the
Session Initiation Protocol (SIP)** \".
[48] 3GPP TS 23.003: \"Numbering, addressing and identification\".
[49] 3GPP TS 23.060: \"General Packet Radio Service (GPRS) Service
description; Stage 2\".
[50] 3GPP TS 29.061: \"Interworking between the Public Land Mobile Network
(PLMN) supporting packet based services and Packet Data Networks (PDN)\".
[51] 3GPP TS 34.229-3: \"Internet Protocol (IP) multimedia call control
protocol based on Session Initiation Protocol (SIP) and Session Description
Protocol (SDP); User Equipment (UE) conformance specification; Part 3:
Abstract Test Suite \".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
TR 21.905 [26] apply.
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[26] apply.
# 4 E-UTRAN/SAE system architecture and test models
## 4.1 Test system architecture
### 4.1.1 General system architecture
The general system architecture is shown in figure 4.1.1-1.
Figure 4.1.1-1: Architecture of system simulator
The scope of the present document is the TTCN-3 implementation of conformance
tests. Specifications and definitions of the present document affect the codec
and the system adaptor (SA). Test control and logging are out of scope as well
as the interface between the TTCN-3 generated code and the system adaptor
which can be either standardised TRI or proprietary.
The main assumptions regarding the system architecture are:
\- TTCN-3 code runs on the host system only:
\- No TTCN-3 components are downloaded to system simulator HW.
\- Layer 2 tests (MAC, RLC) are controlled by appropriate configuration
primitives in TTCN-3 but neither layer 2 nor parts of it are implemented in
TTCN-3; the system simulator performs low layer procedure autonomously but all
system simulator implementations shall result in the same test pattern at the
air interface.
\- Proprietary interfaces e.g. instead of the TRI are not considered in the
test model.
\- The timing considerations of the conformance tests shall be supported by
appropriate timing information (e.g. system frame number) provided from/to the
system simulator rather than by timing measurements in TTCN‑3.
### 4.1.2 Component architecture
For E-UTRAN conformance tests each access technology (RAT) is hosted by a
separate TTCN-3 parallel component (PTC):
\- E-UTRAN.
\- UTRAN.
\- GERAN.
\- Other technologies like 3GPP2 UTRAN.
The PTCs are controlled by the TTCN-3 master test component (MTC) which:
\- is independent from the RAT;
\- may host the upper tester for MMI and AT commands;
\- creates, synchronises and terminates the PTCs;
\- starts and terminates test cases.
Figure 4.1.2-1 shows this component architecture for a E-UTRAN and UTRAN
scenario.
Figure 4.1.2-1:E-UTRAN-UTRAN component model
According to this model there are different interfaces to be considered:
##### MTC - PTC: {#mtc---ptc .H6}
\- common synchronisation of PTCs;
\- upper tester primitives.
MTC - System Interface:
\- upper tester primitives.
##### PTC - PTC: {#ptc---ptc .H6}
\- primitives containing information for IRAT handover.
##### PTC - System Interface: {#ptc---system-interface .H6}
\- primitives containing peer-to-peer message;
\- configuration primitives.
## 4.2 E-UTRAN test models
### 4.2.1 Layer 2 test models
When test loop mode is used for the Layer 2 tests the DRB ports at the SS side
is referred to the raw DRB ones. At the SS side, DRBs are initially configured
with default modes and parameters. For the purpose of L2-testing the DRBs may
be reconfigured later on as indicated in the subsequent test models (see
below).
#### 4.2.1.1 MAC test model
Figure 4.2.1.1-1: Test model for MAC testing
The UE is configured in Test Loop Mode, to loop back the user domain data
above PDCP layer. On UE side Ciphering is enabled (since Mandatory) but with
dummy ciphering algorithm, which is equivalent to not using ciphering. ROHC is
not configured on UE Side.
On the SS Side, Layer 1 is configured in the normal way. MAC is configured in
a special mode, where it does not add any MAC headers in DL and /or not remove
any MAC headers in UL directions respectively at DRB port. In this case, the
TTCN shall provide the final PDU, including padding. Except for this, the MAC
layer shall perform all of its other functions.
On DRBs the RLC is configured in transparent mode. Hence with this
configuration PDU\'s out of SS RLC are same as the SDU\'s in it. There is no
PDCP configured on SS Side. The ports are directly above RLC.
There are two different test modes in which MAC header addition/removal can be
configured:
DL/UL header-transparent mode: no header addition in DL and no header removal
in UL.
DL only header-transparent mode: no header addition in DL; UL MAC is
configured in normal mode to remove MAC header and dispatch the MAC SDUs
according to the logical channel Ids.
If SS MAC is configured in DL/UL header-transparent mode, the PDU\'s exchanged
at the DRB port between TTCN and SS, shall be the final MAC PDU\'s consisting
of MAC, RLC and PDCP headers. TTCN code shall take care in DL of building MAC
header, RLC headers and PDCP headers and in UL handle MAC, RLC and PDCP
headers. TTCN code shall take care of maintaining sequence numbers and state
variables for RLC and PDCP layers. During testing of multiple DRBs at the UE
side, it shall still be possible to configure only one DRB on SS side with
configuration in the figure 4.2.1.1-1. Other DRBs will not be configured, to
facilitate routing UL TBSs. Multiplexing/de-multiplexing of PDUs meant/from
different DRBs shall be performed in TTCN. Since the MAC layer does not
evaluate the MAC headers in UL it cannot distinguish between SRB and DRB data
in UL. Therefore there shall be no SRB traffic while MAC is configured in this
test mode.
If SS MAC is configured in DL only header-transparent mode, the UL PDUs
exchanged at the DRB port between TTCN and SS, shall be final RLC PDUs
consisting of RLC and PDCP headers. SS shall route these PDUs based on logical
channel IDs. In DL, TTCN sends fully encoded MAC PDUs at the DRB port
(consisting of MAC, RLC and PDCP headers). In this case TTCN needs to take
care of maintaining sequence numbers and state variables for RLC and PDCP
layers. Furthermore in UL and DL the SS MAC layer shall be capable of dealing
with SRB data (i.e. it shall handle DL RLC PDUs coming from SRBs RLC layer or
dispatch UL RLC PDUs to SRBs) as in normal mode.
NOTE: TTCN shall ensure that no DL MAC SDUs in normal mode and DL MAC PDUs in
test mode are mixed for the same TTI.
The UL Scheduling Grant and DL Scheduling assignments are configured from TTCN
over system control port. SS reports PUCCH scheduling information reception
over system indication port, if configured. In a similar way the reception of
RACH preambles is reported by SS over the same port.
#### 4.2.1.2 RLC test model
Figure 4.2.1.2.3-1: Test model for RLC AM/UM testing
This model is suitable for testing both UM/AM mode of operation of DRBs on UE
side.
The UE is configured in Test Loop Mode, to loop back the user domain data
above PDCP layer. On UE side Ciphering is enabled (since mandatory) but with
dummy ciphering algorithm, which is equivalent to not using ciphering. ROHC is
not configured on UE Side.
On the SS Side, L1 and MAC are configured in the normal way. The RLC is
configured in transparent mode. Hence with this configuration PDUs out of SS
RLC are same as the SDUs in it. There is no PDCP configured on SS Side. The
ports are directly above RLC.
The PDUs exchanged between TTCN and SS, shall be the final RLC PDUs consisting
of RLC and PDCP headers. TTCN code shall take care in DL of building RLC
headers and PDCP headers and in UL handle RLC and PDCP headers. TTCN code
shall take care of maintaining sequence numbers and state variables for RLC
and PDCP layers. If RLC on UE side is in AM mode, TTCN shall take care of
generating polls in DL and responding with RLC control PDUs on reception of UL
Poll.
The UL Scheduling Grant and DL Scheduling assignments are configured from TTCN
over system control port.
#### 4.2.1.3 PDCP test model
##### 4.2.1.3.1 PDCP ROHC test model
Figure 4.2.1.3.1-1: Test model for PDCP ROHC testing
The UE is configured in Test Loop Mode, to loop back the user domain data
above PDCP layer. On UE side Ciphering is enabled and ROHC is configured.
On the SS Side L1, MAC and RLC are configured in normal way. They shall
perform all of their functions. The ports are above PDCP.
The PDCP is configured in special mode, with no header manipulation. Ciphering
is configured in both directions. ROHC is configured in DL direction only. UL
ROHC feedback can be injected by control ASP. It shall be possible to
configure \'no header manipulation\' mode independently in UL and DL
directions. When configured in special mode, SS shall not add PDCP header (DL)
and remove PDCP Header (UL). PDCP state variables shall be maintained by SS
PDCP layer. It shall be possible for SS PDCP to update state variables based
on the PDU\'s in both directions, even though headers are not added/removed.
Also, it shall be possible to read or set the PDCP internal state variables,
by control primitives.
The UL Scheduling Grant and DL Scheduling assignments are configured from TTCN
over system control port. SS reports PUCCH scheduling information reception
over system indication port, if configured.
##### 4.2.1.3.2 PDCP test model (Non ROHC)
Figure 4.2.1.3.2-1: Test model for PDCP (Non ROHC) testing
The UE is configured in Test Loop Mode, to loop back the user domain data
above PDCP layer. On UE side Ciphering is enabled and ROHC is not configured.
On the SS Side L1, MAC and RLC are configured in normal way. They shall
perform all of their functions. The ports are above PDCP.
The PDCP is configured in a special mode, named transparent mode. In this
mode, SS shall not add PDCP header (DL) and remove PDCP Header (UL). The TTCN
maintains sequence numbers and state variables for the PDCP layer. The TTCN
makes use of the AS ciphering functionality in both directions, employing the
dummy ciphering algorithm. Ciphering/deciphering are performed using TTCN
external functions. ROHC is not configured.
The UL Scheduling Grant and DL Scheduling assignments are configured from TTCN
over system control port. SS reports PUCCH scheduling information reception
over system indication port, if configured.
### 4.2.2 RRC test model
Figure 4.2.2-1: Test model for RRC testing
The UE is configured in normal mode. On UE side Ciphering/Integrity (PDCP and
NAS) is enabled and ROHC is not configured.
On the SS Side L1, MAC, RLC and PDCP are configured in normal way. They shall
perform all of their functions. For SRB0 the DL and UL port is above RLC. For
SRB1 and SRB2 the port is above/below the RRC and NAS emulator, which may be
implemented as a parallel test component. For DRB, the port is above PDCP.
PDCP Ciphering/Integrity is enabled. NAS integrity/Ciphering is enabled.
The RRC/NAS emulator for SRB1 and SRB2 shall provide the Ciphering and
integrity functionality for the NAS messages. In UL direction, SS shall report
RRC messages, still containing (where appropriate) the secure and encoded NAS
message, to the RRC port. In DL, RRC and NAS messages with same timing
information shall be embedded in one PDU after integrity and ciphering for NAS
messages.
The UL Scheduling Grant and DL Scheduling assignments are configured from TTCN
over system control port. SS reports PUCCH scheduling information reception
over system indication port, if configured.
### 4.2.3 DRB test model
Figure 4.2.3-1: Test model for DRB testing
The UE is configured in Test Loop Mode, to loop back the user domain data
above PDCP layer. Ciphering is optionally configured on UE side. In TTCN the
DRB data is considered as raw data and there is no IP handling while the UE is
in loopback mode.
On the SS Side L1, MAC, RLC and PDCP are configured in normal way. They shall
perform all of their functions. The ports are above PDCP. When test loop mode
is used for the DRB, the ports at the SS side refer to the raw DRB ones.
Ciphering is enabled and ROHC is not configured on SS Side.
SS shall send in DL all PDU\'s received from different RB\'s but with same
timing control information in one MAC PDU and in one TTI.
The UL Scheduling Grant and DL Scheduling assignments are configured from TTCN
over system control port. SS reports PUCCH scheduling information reception
over system indication port, if configured.
### 4.2.4 IP Test Model
Depending on different test scenarios user plane data can be distinguished in:
\- Raw user data upon EUTRA PDCP (Raw mode);
\- IP user data (IP mode).
The raw user data are applied for L2 or DRB tests, no IP protocols are
involved. The UL user data is directly routed to the EUTRA_PTC.
The IP user data are applied when IP packets data are handled in TTCN. A DRB
can have one or more Transport and Internet protocols configured.
Whether a DRB is in IP or in raw mode depends on the configuration of the
routing table in the DBR-Mux. This is controlled by the IP_CTRL port and
independent from the configuration of the IP connections (IP_SOCKET).
#### 4.2.4.1 IP user data
To allow the usage of common protocol implementations at the system adaptor
the related interfaces in TTCN-3 are based on the Sockets API.
There can be one or several sockets (server or client) for each DRB: TCP, UDP
and ICMP.
Each socket can be clearly identified by the IP address, port number and the
protocol (tcp\|udp\icmp). It implies that a TCP socket can be either server or
client.
It is assumed that:
\- Different DRBs are not using the same sockets.
\- The UE behaviour of a single IP-based protocol on a specific socket like
DHCP can be included in conformance tests.
\- Other protocols like ESP are not considered but can easily be introduced
later, if necessary, by using the same socket approach.
The routing of IP packets from the IP stack to the DRBs in DL and from the
DRBs either to the DRB port (E_DRB in case of EUTRA) or to the IP stack in UL
is done by the DRB-Mux. This behaviour is controlled by the DRB-Mux\'s routing
table.
The general architecture of the IP test model is shown in figure 4.2.4.1-1
(with a DHCP server as example for IP handling).
NOTE: In figure 4.2.4.1-1 DHCP is one example for a protocol above the IP
stack; other protocols like DNS can also be implemented but this a pure TTCN
implementation issue and independent from the system interface.
Figure 4.2.4.1-1: Example of IP test model with a DHCP server
#### 4.2.4.2 Configuration of Sockets
The following configurations are controlled by the IP_PTC (IP_SOCKET_REQ). The
socket configuration and the sending/receiving of data are done with the same
ASP on the system port IP_SOCK.
##### 4.2.4.2.1 Socket Establishment
##### TCP server {#tcp-server .H6}
TCP socket configured as server: the socket \'listens\' to a \'connect\' from
the UE. The socket can be configured by using the following system calls of
the Berkeley Sockets API:
\- socket (AF_INET \| AF_INET6, SOCK_STREAM, 0);
\- setsockopt;
\- bind (local IP address Port);
\- listen.
NOTE: Currently the only socket option being defined is SO_BROADCAST
When the UE connects to the server the connection is accepted with the
\'accept\' system call.
##### TCP client {#tcp-client .H6}
A TCP connection is established to an existing TCP server at the UE side. This
can be done with the following system calls:
\- socket (AF_INET\|AF_INET6, SOCK_STREAM, 0);
\- setsockopt;
\- connect (remote Server Addr of the UE = IP-Addr + Port).
##### UDP socket {#udp-socket .H6}
A UDP socket can be established with the system calls
\- socket (AF_INET\|AF_INET6, SOCK_DGRAM, 0);
\- setsockopt;
\- bind (local IP address, Port);
\- connect.
NOTE 1: \'setsockopt\' can be used to set the option SO_BROADCAST to allow
broadcast messages (e.g. for DHCP).
NOTE 2: Usage of \'connect\' depends on implementation of the system adaptor.
##### 4.2.4.2.2 Socket Release
A socket is released:
\- in case of TCP when the remote entity closes the connection;
\- when it is closed explicitly by the IP_PTC (system call \'close\').
NOTE: In general the sockets are independent from the configuration of the
DRBs. Especially in case of UDP or ICMP the sockets can exist even without any
DRB being configured.
#### 4.2.4.3 Handling of IP data
Sending and receiving of IP data is done by the same ASPs as the socket
establishment on IP_SOCK. In TTCN the IP data are handled by a separate TTCN
component: IP_PTC. This PTC can deal with the data according to the respective
protocol, e.g. DHCP. In general, this is out of scope for the (signalling
conformance) test case in terms of pass/fail assignment.
The IP_PTC will receive data from sockets being configured for the
corresponding IP protocols. Any unrecognised IP packets are discarded by the
IP stack in the system adaptor.
When the IP data is relevant for the test purpose, e.g. the test purpose is to
test DHCP, the IP data are routed to the EUTRA_PTC. This allows generic
protocol implementations for the common case, i.e. IP_PTC and DHCP server are
independent from test case specific implementations.
The interface between EUTRA_PTC and IP_PTC is a pure TTCN implementation issue
and independent of the system interface. Furthermore it is irrelevant for the
system interface whether e.g. the DHCP server is part of the IP_PTC or
implemented as a separate PTC.
\- For TCP, the primitives to send and receive data correspond to the \'send\'
and \'recv\' system calls.
\- For UDP and ICMP, the primitives correspond to the \'sendto\' and
\'recvfrom\' system calls.
\- For both UDP and TCP the system adaptor may send (\"in-band\") error
indications in case of system errors. That results in an assignment of inconc
by the IP_PTC.
#### 4.2.4.4 Routing of IP Data
The routing of IP data is done in the DRB-Mux which gets a routing table
configured. This table associates the address and protocol information of IP
packets (protocol, local IP address, local port, remote IP address, remote
port) with the radio bearer (RAT, cell, DRB id).
In UL a DRB is considered being in raw mode when there is no entry found in
the routing table. It is considered being in IP mode when there is any entry
regardless of the protocol and address information being stored (i.e. SS does
not need to evaluate the IP header what would cause problems in case of
loopback data).
In DL the IP packets of the IP stack are routed to the DRBs acc. to the
routing information in the routing table (see annex D for details.
NOTE: Only the IP PTC can re-configure the Routing Table; if that needs to be
triggered by a RAT specific PTC, this is done by appropriate coordination
messages but the RAT specific PTCs don\'t have a direct access to the routing
tables.
#### 4.2.4.5 Multiple PDNs
In case multiple PDNs broadcast, or multicast datagrams sent by the UE, need
to assigned to the respective PDN:
IPv4
When the UE does not get a valid IPv4 address assigned via NAS signalling it
will request the IP address via DHCP. In this case there are DHCP broadcast
messages in UL.
In the case of multiple PDNs, it cannot be distinguished by evaluating the IP
address to which PDN the message belongs but additional information is
necessary:
The network side needs to know which interface (i.e. network) the broadcast
comes from; in case of LTE this is associated with the default bearer of the
particular PDN.
NOTE: In principle the \'chaddr\' field or the \'client identifier\' option of
the DHCP messages may be used to distinguish different interfaces (e.g. for
ethernet this would be the MAC address) but it is not specified how these
fields are to be used by the UE (or how to configure them at the UE); RFCs
(e.g. RFC 2131) only require the client identifier to be unique in a given
subnet.
IPv6
The UE gets an interface identifier assigned via NAS signalling (TS 24.301
[21] clause 6.2.2) which is used as link-local address during stateless
address autoconfiguration (TS 23.060 [43] clause 9.2.1.1 and TS 29.061 [44]
clause 11.2):
The UE may send a ROUTER SOLICITATION message (multicast) to which the network
responds with a ROUTER ADVERTISEMENT.
Since the ROUTER SOLICITATION message contains the interface identifier as
assigned via NAS signalling, even in the case of multiple PDNs it can
distinguished which PDN is concerned, as long as the interface identifiers are
different for different PDNs (for UE side as well as for network side).
NOTE: According to TS 23.060 [43] clause 9.2.1.1 and RFC 3314 a real network
(PDN-GW) itself shall send an (unsolicited) ROUTER ADVERTISEMENT after it has
assigned the interface identifier.
Conclusions and Requirements:
In the case of broadcast or multicast messages TTCN needs additional
information about the PDN being addressed.
When a socket connection is configured to allow broadcasts and there is a
broadcast or multicast message in UL the SS shall provide information about on
which bearer the datagram has been sent (RAT, cell, DRB id).
NOTE: From the socket programming point of view multiple PDNs for the SS are
like a multi-homed host: Servers for different interfaces are bound to
different interfaces (e.g. using the 'bind' system call with a specific IP
address instead of IPADDR_ANY) or a server may retrieve the interface id for a
received datagram from the IP stack with an appropriate system call.
Even though the details are implementation dependent, the SS shall be capable
of:
determining RAT, cell, DRB id for any broadcast or multicast datagram in UL
avoiding any duplication of messages in UL even when multiple servers are
listening to broadcast/multicast messages (what is a possible SS
implementation)
#### 4.2.4.6 Restrictions regarding IP Addresses
IP addresses are configured via PIXIT parameters as defined in clause 9.1.
In order to simplify implementations, the following rules shall be applied:
IPv4 address within one PDN shall be different for UE and network,
IPv6 interface identifier for the UE and the PDN-GW within one PDN shall be
different,
Multiple PDNs shall have different IPv4 address,
Multiple PDNs shall have different IPv6 prefix,
Multiple PDNs shall have different IPv6 interface identifier for the PDN-GW,
Multiple PDNs shall have different IPv6 interface identifier for the UE.
### 4.2.5 IP model extension for IMS
The IMS test model is based on the IP Test Model with extensions to support
IPsec. Support of Signalling Compression (SigComp) may be added in the future
if needed.
IMS in general may use TCP, UDP or alternated TCP/UDP as transport layer for
signalling messages.
At TTCN-3 system interface level there are no IMS specific ports or ASPs, i.e.
IMS specific issues are purely handled in TTCN and therefore out of scope for
this document.
NOTE: Even though the main intention to introduce the IMS test model is to
support the initial IMS registration procedure, the IMS test model is
independent of any specific IMS procedures.
{width="6.690972222222222in" height="5.021527777777778in"}
Figure 4.2.5-1: Example for IP model supporting IMS
NOTE 1: At the system interface IPsec is the only difference compared to the
IP model of clause 4.2.4
NOTE 2: It is a working assumption to have a separate PTC for IMS as shown in
figure 4.2.5-1
NOTE 3: Ports between the IP_PTC and the IMS_PTC are for illustration only
#### 4.2.5.1 IPsec
IPsec involves security policy database (SPD) and security association
database (SAD) (Ref. RFC4301). The entries in the databases are configured
with security parameters by ASPs at the IPsec_CTRL port.
NOTE: IPsec is not directly associated to a given socket but IPsec is applied
to IP packets matching a configured security association. ⇒ configuration of
IPsec in general is independent of the existence of sockets but typically the
IPsec configuration is done just before establishment of a corresponding
socket.
The SS shall cleanup all IPsec database entries which has been setup by TTCN
during a test case at the end of the test case independent of how the test
case terminates (normal termination, run-time error etc.)
##### 4.2.5.1.1 Security Association
NOTE: Within this clause SA is used as abbreviation of 'Security Association'
(i.e. not as abbreviation for 'System Adaptor' as usual)
During the IMS signalling handling two pairs of SAs consisting of four
unidirectional SAs will be used, one pair of SAs (SA2 and SA4) is between the
server port of UE and the client port of the SS, another pair of SAs (SA1 and
SA3) is between the client port of UE and the server port of the SS, see
figure 4.2.5.2.3.1-1.
{width="1.83125in" height="1.570138888888889in"}
Figure 4.2.5.2.3.1-1 Two pairs of SAs
SA1 used for data flow from port_uc to port_ps is an inbound SA for protected
server port of P-CSCF, its Security Parameter Index spi_ps is selected by
P-CSCF (IMS Registration/Authentication function in IP_PTC) and presented in
401 Unauthorised; SA2 used for data flow from port_pc to port_us is an inbound
SA for protected server port of UE, its Security Parameter Index spi_us is
selected by UE and presented in initial REGISTER message; SA3 used for data
flow from port_ps to port_uc is an inbound SA for protected client port of UE,
its Security Parameter Index spi_uc is selected by UE and presented in initial
REGISTER message; SA4 used for data flow from port_us to port_pc via an
inbound SA for client port of P-CSCF, its Security Parameter Index spi_pc is
selected by P-CSCF (IMS Registration/Authentication function in IP_PTC) and
presented in 401 Unauthorised message. The pair of SA1 and SA3 is for
bidirectional traffic between port_uc and port_ps. The pair of SA2 and SA4 is
for bidirectional traffic between port_pc and port_us. Those four spi_xx and
other security parameters are negotiated during security association set up
procedure and shall be passed to IPsec protocol layer in the SS. See \"SAD and
SPD\" and clause 7.2 of TS 33.203 [41].
These four unidirectional SA and relevant ports are shared by TCP and UDP. TCP
transport will use all four SAs, UDP transport uses only two SAs, because
there is no traffic from port_ps to port_uc, nor from port_us to port_pc.
Figure 4.2.5.2.3.1-2 shows the usage of ports and SAs under UDP and TCP
transport in a generic registration procedure (see clause C.2 of TS 34.229-1
[40]).
{width="5.382638888888889in" height="2.647222222222222in"}
Figure 4.2.5.2.3.1-2: Usage of ports and SAs in UDP and TCP transport
##### 4.2.5.1.2 SAD and SPD
SAD and SPD are used by IPsec to store various security parameters (per
Security Association). During IMS AKA, the UE and the IMS
Registration/Authentication function in IP_PTC negotiates the negotiable
parameters for security association setup, this negotiation is carried out at
the SIP level in TTCN-3, and the resulting security association parameters are
maintained in TTCN-3. The involved parameters are:
spi_uc; spi_us; spi_pc; spi_ps
encryption algorithm
integrity algorithm
The IMS AKA will generate key IK~IM~, the security parameters IK~ESP~ and
CK~ESP~ are derived from IK~IM~ and CK~IM~ in TTCN-3 (Ref. Annex I of TS
33.203[41]). ASPs are used to pass these parameters (per security association
and with its selectors) from TTCN-3 to SAD and SPD of IPsec layer in the SS.
The same IK~ESP~ and CK~ESP~ will be used for the four unidirectional SAs. All
of the four unidirectional SAs will use the same negotiated encryption
algorithm and integrity algorithm.
In addition to those negotiable security parameters, other security parameters
are fixed in IMS environment (see clause 7.1 of TS 33.203 [41]):
Life type: second
SA duration: 2^32^-1
Mode: transport
IPsec protocol: ESP, ESP integrity applied
Key length: 192 bits for DES-EDES_CBC, 128 bits for AES-CBC and HMAC-MD5-96;
160 bits for HMAC-SHA-1-96
These parameters are hard coded with IPsec implementation in the SS, not
passed from TTCN-3.
An SA have to be bound to selectors (specific parameters) of the data flows
between UE and P-CSCF (IMS Registration/Authentication function in IP_PTC),
the selectors are:
source IP address
destination IP address
source port
destination port
transport protocols that share the SA
IP addresses bound to the two pairs of SAs are:
For inbound SAs at the P-CSCF (the SS side):
\- The source and destination IP addresses associated with the SA are
identical to those in the header of the IP packet in which the initial SIP
REGISTER message was received by the P-CSCF.
For outbound SAs at the P-CSCF (the SS side):
\- The source IP address bound to the outbound SA equals the destination IP
address bound to the inbound SA; the destination IP address bound to the
outbound SA equals the source IP address bound to the inbound SA.
Ports bound to the two pairs of SAs are depictured in figure 4.2.5.2.3.1-1,
port_ps and port_pc shall be different from the default SIP ports 5060 and
5061. The number of the ports port_ps and port_pc are communicated to the UE
during the security association setup procedure.
The transport protocol selector shall allow UDP and TCP.
The selectors are passed to the SS IPsec layer together with the security
parameters related to an SA bound to the selectors.
##### 4.2.5.2 Signalling Compression (SigComp)
Signalling compression is mandatory (see clause 8 of TS 24.229 [42]) and
Signalling compression (RFC 3320 [43], RFC 3485 [44], RFC 3486 [45], RFC 4896
[46], RFC 5049 [47]) protocol is used for SIP compression. SigComp entity in
the model is used to carry out the compression/decompression functions. In
receiving direction of the SS the SigComp entity will detect whether the
incoming SIP message is compressed, and decompress the message if it is
compressed. In the SS transmitting direction, the TTCN, via ASP, controls when
the compression of outgoing SIP message is started. Stateless compression is
not used in the SIP environment. For state full operation of SigComp the ASP
passing compartment ID to SigComp is applied. The SS shall clean all states
related to a connection in SigComp when an ASP for closing the connection is
received. The SS shall also clean all states in the SigComp when abortion of a
test case is detected or after the system reboots. If decompression failure
occurs while decompressing a message, the message shall be discarded. The
SigComp entity in the SS shall automatically find if a secure port or un-
secure port is being used for transmission or reception of messages. If an un-
secure port is used for transmission, it shall not include state creation
instructions. If the state creation command is received in a compressed
message on an un-secured port, a decompression failure shall be generated.
##### 4.2.5.3 SIP TTCN-3 Codec
SIP is a text-based protocol, the messages exchanged between the UE and the SS
are character strings. In TTCN-3 the messages are structured to take the
advantages of TTCN-3 functionalities, and to make the debugging and
maintenance easier.
Even though there is no encoding/decoding of SIP messages at the TTCN-3 system
interface, the IMS_PTC uses the SIP codec by means of the TTCN-3 build-in
functions encvalue and decvalue.
The SIP codec is specified in TS 34.229-3 [45] clause 7.
### 4.2.6 Support of DSMIPv6
For testing of DSMIPv6 IP packets being relevant for the test cases may be
routed by the IP_PTC to the PTCs with specific test case implementation. There
are not specific requirements for the system interface.
The functions of HA and ePDG are FFS.
## 4.3 SAE Test Model
### 4.3.1 NAS Test Model
Figure 4.3.1-1: NAS Test Model
The NAS emulator is a parallel test component which handles NAS security, with
the help of external functions to perform the integrity and (de)ciphering.
The interface between the emulator and the TTCN (co-ordination messages)
handle data as TTCN-3 values. The interface between the emulator and the SS
handles the RRC messages as TTCN-3 values, containing (where applicable)
secure, encoded NAS messages.
The NAS emulator is not part of the test case in terms of verdict assignment
(i.e. it does not check the correctness of any protocol message).
Nevertheless, in case of fatal errors such as encode/decode errors, the NAS
emulator sets the verdict to inconclusive and terminates immediately - which
causes the test case to terminate. i.e. the NAS emulator does not resolve
error situations.
## 4.4 Inter RAT Test Model
### 4.4.1 E-UTRAN-UTRAN Inter RAT Test Model
Figure 4.4.1-1: Test model for Inter RAT E-UTRAN-UTRAN testing
The model consists of dual protocol stack one for E-UTRAN and one for UTRAN.
The TTCN implementation for E‑UTRAN and UTRAN functionalities will be in
separate Parallel Test Components. The SS E-UTRAN part is same as the model
defined in clause 4.2.2 for RRC testing.
The SS UTRAN part consist of L1, MAC, RLC and PDCP (IF PS user RB established
only), are configured in normal mode. They shall perform all of their
functions normally. Ciphering is enabled and shall be performed in RLC (AM/UM)
and MAC (TM RLC). Integrity is enabled, and SS shall provide RRC emulator for
integrity protection calculation and checking and \'Direct transfer\'
adaptation. Ports are above RLC (CS RAB and SRB0), PDCP (PS RAB) and RRC
Emulator (SRB1 to SRB4).
The UE is configured in normal mode. Ciphering/Integrity (PDCP and NAS) are
enabled and ROHC is not configured in E-UTRAN. Ciphering is enabled in UTRAN.
### 4.4.2 E-UTRAN-GERAN Inter RAT Test Model
Figure 4.4.2-1: Test model for Inter RAT E-UTRAN-GERAN testing
The model consists of dual protocol stack one for E-UTRAN and one for GERAN.
The TTCN implementation for E‑UTRAN and GERAN functionalities will be in
separate Parallel Test Components. The SS E-UTRAN part is the same as the
model defined in clause 4.2.2 for RRC testing.
The SS GERAN model for GPRS consists of L1, MAC/ RLC and LLC, configured in
normal mode. SNDCP may also be configured. They shall perform all of their
functions normally. Ciphering is enabled and shall be performed in LLC. Ports
are above RLC (GRR messages), LLC (NAS and Data) and SNDCP (User Data).
The SS GERAN model for GSM consists of L1, L2 (MAC/ RLC), configured in normal
mode. They shall perform all of their functions normally. Ciphering is enabled
and shall be performed in L1. Ports are above L2.
The UE is configured in normal mode. Ciphering/Integrity (PDCP and NAS) is
enabled and ROHC is not configured in E-UTRAN. Ciphering is enabled in GERAN.
### 4.4.3 E-UTRAN-CDMA2000 Inter RAT Test Model
#### 4.4.3.1 E-UTRAN-CDMA2000 HRPD Inter RAT Test Model
Figure 4.4.3-1: Test model for InterRAT E-UTRAN-CDMA2000 HRPD testing
The model consists of a dual protocol stack, one for E-UTRAN and one for HRPD.
The TTCN implementation for E‑UTRAN and HRPD functionalities will be in
separate Parallel Test Components. The SS E-UTRAN part is same as the model
defined in clause 4.2.2 for RRC testing.
The HRPD part emulation in SS is considered as a black box. The
commands/Indications port is be used for commanding the SS to bring the UE
into the desired state and monitoring the progress. The Pre-Reg port is used
for routing encapsulated pre-registration messages (messages encapsulated in
_ULInformationTransfer_ and _DLInformationTransfer)_ in the EUTRAN cell to the
HRPD. For handover related HRPD messages (i.e. messages encapsulated in
_HandoverFromEUTRAPreparationRequest/ ULHandoverPreparationTransfer/
MobilityFromEUTRACommand),_ the statically pre-encoded messages are read from
PIXITs _._
The SS HRPD part consists of Physical, MAC, Security, Connection, Session,
Stream, Application and Layers for PPP and IP configured in normal mode. They
shall perform all of their functions normally. Encryption may be enabled and
performed in security layer.
The CDMA2000 HRPD emulation in the SS supports the following layers and
protocols:
\- Physical layer (Subtype 2).
\- MAC layer:
\- Enhanced (Subtype 0, Subtype 1) Control Channel MAC Protocol (ECH).
\- Enhanced (Subtype 1) Forward Traffic Channel MAC Protocol (E-F-TCH).
\- Enhanced (Subtype 1) Access Channel MAC Protocol (E-ACH).
\- Subtype 3 Reverse Traffic Channel MAC Protocol (R-TCH).
\- Security Layer:
\- Default Security Protocol (Security).
\- Connection Layer:
\- Default Air Link Management Protocol (ALMP).
\- Default Connected State Protocol (CSP).
\- Default Packet Consolidation Protocol (PCP).
\- Inter-RAT Signalling Adaptation Protocol (IR-SAP) (required only for
optimized handover).
\- Inter-RAT Initialization State Protocol (IR-Init SP) (required only for
optimized handover).
\- Inter-RAT Idle State Protocol (IR-Idle SP) (required only for optimized
handover).
\- Inter-RAT Route Update Protocol (IR-RUP) (required only for optimized
handover).
\- Inter-RAT Overhead Messages Protocol (IR-OMP) (required only for optimized
handover).
\- Session Layer:
\- Default Session Management Protocol (SMP).
\- Default Address Management Protocol (AMP).
\- Default Session Configuration Protocol (SCP).
\- Stream Layer:
\- Default Stream Protocol (DSP).
\- Application Layer:
\- Default Signalling Application:
\- Signalling Network Protocol (SNP).
\- Signalling Link Protocol (SLP).
\- Enhanced Multi-Flow Packet Application:
\- Route Selection Protocol (RSP).
\- Radio Link Protocol (RLP).
\- Location Update Protocol (LUP).
\- Flow Control Protocol (FCP).
\- Above HRPD:
\- PPP: Vendor Specific Network Control Protocol (PPP:VSNCP).
\- PPP: Vendor Specific Network Protocol (PPP:VSNP).
\- PPP: Link Control Protocol (PPP:LCP).
\- PPP: Extensible Authentication protocol-Authentication and key agreement
(PPP:EAP-AKA).
\- IPv4.
\- IPv6.
The UE is configured in normal mode. Ciphering/Integrity (PDCP and NAS) are
enabled and ROHC is not configured in E-UTRAN. Encryption is enabled in HRPD.
#### 4.4.3.2 E-UTRAN-CDMA2000 1xRTT Inter RAT test model
Figure 4.4.3.2-1: Test model for InterRAT E-UTRAN-CDMA2000 1xRTT testing
The 1xRTT test model consists of a dual protocol stack, one for E-UTRAN and
one for 1xRTT. The TTCN implementation for E‑UTRAN and 1xRTT functionalities
are in separate Parallel Test Components. The SS E-UTRAN part is same as the
model defined in clause 4.2.2 for RRC testing.
The 1xRTT part emulation in SS is considered as a black box. The
commands/Indications port is used for commanding the SS to bring the UE into
the desired state and monitoring the progress. The Pre-Reg port is used for
routing encapsulated pre-registration messages (messages encapsulated in
_ULInformationTransfer_ and _DLInformationTransfer)_ in the EUTRAN cell to the
1xRTT. For handover related 1xRTT messages (i.e. messages encapsulated in
_HandoverFromEUTRAPreparationRequest/ ULHandoverPreparationTransfer/
MobilityFromEUTRACommand)_ , the statically pre-encoded messages are read from
the PIXITs.
The SS 1xRTT part consists of Physical, MAC, LAC, Session, Stream, Application
and Layers for PPP and IP configured in normal mode. They shall perform all of
their functions normally. Encryption may be enabled and performed in security
layer.
The CDMA2000 1xRTT emulation in the SS supports the following layers and
protocols:
\- Physical layer.
\- MAC layer:
\- Signalling Radio Burst protocol.
\- Radio Link Protocol for Data services.
\- Forward and Reverse Packet Data Channel functions.
\- Multiplexing and QoS Delivery.
\- Link Access Control:
\- Authentication and Message Integrity sublayer [optional].
\- ARQ sublayer.
\- Addressing.
\- Utility.
\- Segmentation and Reassembly.
\- Layer 3:
\- Super visioning and Configuration Management.
\- Signalling Protocol.
The UE is configured in normal mode or loop back mode. Ciphering/Integrity
(PDCP and NAS) are enabled and ROHC is not configured in E-UTRAN. Encryption
may be enabled in 1xRTT.
### 4.4.4 E-UTRAN FDD-TDD Inter RAT Test Model
Figure 4.4.4-1: Test model for Inter RAT E-UTRANFDD-TDD testing
The model consists of dual protocol stack one for E-UTRANFDD and one for
E-UTRANTDD. The TTCN implementation for E-UTRANFDD and TDD functionalities
will be in the same Parallel Test Component. The SS E‑UTRAN (both FDD and TDD)
part is the same as the model defined in clause 4.2.2 for RRC testing. SS
E‑UTRANFDD and TDD shall be configured as separate cells.
The UE is configured in normal mode. Ciphering/Integrity (PDCP and NAS) are
enabled and ROHC is not configured for both FDD and TDD.
### 4.4.5 E-UTRAN-UTRAN-GERAN Inter RAT Test Model
Figure 4.4.5-1: Test model for Inter RAT E-UTRANFDD-TDD testing
The model consists of integrated protocol stack supporting E-UTRAN, UTRAN and
GERAN. The TTCN implementation for E-UTRAN, UTRAN and GERAN functionalities
will be in separate Parallel Test Components. The SS E-UTRAN part is the same
as the model defined in clause 4.2.2 for RRC testing. The SS UTRAN part is the
same as the model defined in clause 4.4.1. The SS GERAN part is same as the
model defined in clause 4.4.2.
The UE is configured in normal mode. Ciphering/Integrity (PDCP and NAS) are
enabled and ROHC is not configured in E-UTRAN. Ciphering/Integrity are enabled
in UTRAN. Ciphering is enabled in GERAN.
# 5 Upper Tester Interface
This clause describes the handling of AT commands and MMI Commands at the
system interface. The internal handling of those commands in TTCN is out of
scope.
In the TTCN, the Upper Tester is located at the MTC; therefore there is one
interface to the system adaptor common for all RATs.
There is one primitive defined carrying either an MMI or an AT command to be
sent to the system adaptor and one common confirmation primitive to be sent by
the system adaptor.
+-----------------------+------------------------+------------------+ | TTCN-3 ASP Definition | | | +-----------------------+------------------------+------------------+ | **Type Name** | **UT_SYSTEM_REQ** | | +-----------------------+------------------------+------------------+ | **TTCN-3 Type** | Record | | +-----------------------+------------------------+------------------+ | **Cmd** | **TTCN-3 Type** | union | +-----------------------+------------------------+------------------+ | AT | charstring carrying | | | | the AT command as | | | | defined in TS 27.007 | | | | [32], TS 27.005 | | | | [31] and TS 27.060 | | | | [33] | | +-----------------------+------------------------+------------------+ | MMI | - Cmd (charstring) | | | | | | | | - List of | | | | parameters: | | | | | | | | - Name | | | | (charstring) | | | | | | | | - Value | | | | (charstring) | | +-----------------------+------------------------+------------------+ | **CnfRequired** | **TTCN-3 Type** | Ut_CnfReq_Type | +-----------------------+------------------------+------------------+ | | **CNF_REQUIRED:** | | | | system adaptor shall | | | | reply with | | | | confirmation received | | | | from the UE | | | | | | | | **NO_CNF_REQUIRED:** | | | | SS shall swallow any | | | | confirmation generated | | | | by the UE | | | | | | | | **L | | | | OCAL_CNF_REQUIRED** : | | | | SS shall immediately | | | | send confirmation when | | | | the command is | | | | submitted to the UE | | | | i.e. in case of MMI | | | | when the operator has | | | | confirmed the command, | | | | but SS shall not wait | | | | for the UE responding. | | | | | | | | NOTE: In the TTCN, a | | | | confirmation shall | | | | only be requested in | | | | cases when there is no | | | | signalling from the UE | | | | being triggered by the | | | | MMI/AT command | | +-----------------------+------------------------+------------------+
+-----------------------+---------------------------+------------+ | TTCN-3 ASP Definition | | | +-----------------------+---------------------------+------------+ | **Type Name** | **UT_COMMON_CNF** | | +-----------------------+---------------------------+------------+ | **TTCN-3 Type** | Record | | +-----------------------+---------------------------+------------+ | **Result** | **TTCN-3 Type** | boolean | +-----------------------+---------------------------+------------+ | | **true:** success | | | | | | | | **false:** failure | | +-----------------------+---------------------------+------------+ | **ResultString** | **TTCN-3 Type** | charstring | +-----------------------+---------------------------+------------+ | | response by the UE for | | | | commands which request | | | | the UE to return a | | | | result, optional | | +-----------------------+---------------------------+------------+
All mandatory and optional AT commands are sent as AT command strings as
defined above. If an optional AT command is not implemented in the UE, the
system adaptor needs to parse the AT command and map it to an appropriate MMI
command (which is out of scope for this document).
The following MMI commands are defined.
Table 5.1: MMI commands
* * *
Command Parameters  
Name Value \"SWITCH_ON\" (none)  
\"SWITCH_OFF\" (none)  
\"POWER_ON\" (none)  
\"POWER_OFF\" (none)  
\"INSERT USIM\" \"USIM\" \ \"REMOVE_USIM\" (none)  
\"CHECK_PLMN\" \"PLMN\" \ \"CHECK_ETWS_INDICATION\" "WARNING1"
\ "WARNING2" \ "CHECK_ETWS_ALERT" (none)  
"CHECK_SMS_LENGTH_CONTENTS \"Length\" \ \"Msg\" \ \"DISABLE EPS
CAPABILITY\" (none)  
DETACH_NON_EPS (none)  
CLEAR_STORED_ASSISTANCE_DATA (none)  
CHECK_DTCH_THROUGHCONNECTED (none)  
GERAN_UPLINK_DATA (none)  
\"SELECT_CSG\" \"PLMN\" \ \"CSG\" \
* * *
The following AT commands are applied in TTCN.
Table 5.2: AT Commands
* * *
Command Reference ATD TS 27.007 [32] ATA TS 27.007 [32] ATH TS 27.007 [32]
AT+CGEQOS TS 27.007 [32] AT+CGTFT TS 27.007 [32] AT+CGDSCONT TS 27.007 [32]
AT+CGACT TS 27.007 [32] AT+CGCMOD TS 27.007 [32] AT+CGDCONT TS 27.007 [32]
AT+CMGD TS 27.005 [31] AT+CSMS TS 27.005 [31] AT+CPMS TS 27.005 [31] AT+CMGF
TS 27.005 [31] AT+CSCS TS 27.007 [32] AT+CSCA TS 27.005 [31] AT+CMGW TS 27.005
[31] AT+CMSS TS 27.005 [31] AT+CSMP TS 27.005 [31] AT+CGEQREQ TS 27.007 [32]
AT+CCLK TS 27.007 [32] AT+COPS TS 27.007 [32] AT+CGATT TS 27.007 [32] AT+CVMOD
TS 27.007 [32] AT+CEMODE TS 27.007 [32]
* * *
AT commands are referred to TS 27.005 [31], TS 27.007 [32] and TS 27.060 [33].
# 6 ASP specifications
## 6.1 General Requirements and Assumptions
The following common requirements affect ASP definitions:
\- The definition of ASPs shall have no impact on the common system
architecture or on the performance.
\- The codec implementation is out of scope of the present document.
\- For peer-to-peer PDUs contained in an ASP encoding rules need to be
considered acc. to the respective protocol:
\- ASN.1 BER and PER.
\- Tabular notation for NAS PDUs or layer 2 data PDUs.
There are no encoding rules being defined for top level ASP definitions and
information exchanged between the test executable and the System Adaptor (SA)
only. Instead encoding depends on implementation of the codec and the SA.
There are no encoding rules being defined for ASPs between TTCN-3 components.
This is implementation dependent.
Info elements defined in the protocol specifications (e.g. RRC) shall be re-
used in configuration ASPs as far as possible.
For optional fields within the configuration ASPs, the following rules will be
applied:
\- For ASN.1 fields - these will follow the same rules as defined in the RRC
specification [19].
\- For TTCN-3 fields - when the current configuration of an optional field is
to be \'kept as it is\' then the field will be set to omit.
\- For TTCN-3 fields - when the current configuration of an optional field is
to be released/deleted then a separate option is provided in a union.
### 6.1.1 IP ASP requirements
### 6.1.2 Enhancement of IP ASP for handling IMS signalling
The IMS test model handling registration signalling introduces IPsec and
SigComp layers into the IP test model in Figure 4.2.5.2-1. The ASP on system
port IP_SOCK needs to be enhanced to provide additional configuration/control
functions for IPsec and SigComp. The enhanced IP ASP should contain:
1\. Function to clean all IPsec and SigComp configurations and to put the
IPsec and SigComp in the initial state.
2\. Function to return SigComp layer a Compartment Id instructing SigComp
layer to save the state of a received message which was compressed.
3\. Function to start or stop signalling compression in sending direction (the
SS to the UE) of SigComp.
4\. Function to set security parameters (per security association) in IPsec
layer.
5\. A flag indicating whether SigComp layer shall be included in the data path
when establishing a connection.
6\. A flag indicating whether the received message was compressed by SigComp.
7\. A parameter to point to a compartment used by SigComp to send a message.
## 6.2 E-UTRAN ASP Definitions
{width="6.679861111111111in" height="5.070138888888889in"}
Figure 6.2-1: E-UTRAN ASP Test Model
### 6.2.1 Configuration Primitives
Annex D contains the ASP definitions for configurations.
### 6.2.2 Signalling Primitives
Annex D contains the ASP definitions for configurations.
### 6.2.3 Co-ordination Messages between NAS Emulation PTC and EUTRA PTC
+------------------------+---------------------------+------------+ | TTCN-3 ASP Definition | | | +------------------------+---------------------------+------------+ | **Type Name** | **SRB_COMMON_REQ** | | +------------------------+---------------------------+------------+ | TTCN-3 Type | Record | | +------------------------+---------------------------+------------+ | **Common Part** | **TTCN-3 Type** | record | +------------------------+---------------------------+------------+ | CellId | cell id | | +------------------------+---------------------------+------------+ | RoutingInfo | SRB0, SRB1, SRB2 | | +------------------------+---------------------------+------------+ | TimingInfo | system frame number and | | | | sub-frame number or | | | | \"Now\" | | +------------------------+---------------------------+------------+ | ControlInfo | CnfFlag: (normally | | | | false)\ | | | | FollowOnFlag: | | | | | | | | **true:** Indicates that | | | | the message(s) to be sent | | | | on the same TTI will | | | | follow | | | | | | | | NOTE 1: If the same | | | | TimingInfo is not used in | | | | the messages to be sent | | | | on the same TTI, the SS | | | | shall produce an error. | | | | | | | | **false:** Indicates that | | | | no more message(s) will | | | | follow. | | +------------------------+---------------------------+------------+ | **Signalling Part** | **TTCN-3 Type** | **record** | +------------------------+---------------------------+------------+ | **Rrc** | **TTCN-3 Type** | **union** | +------------------------+---------------------------+------------+ | | **omit:** \ | | | | NAS message shall be | | | | present; NAS message | | | | shall be sent in | | | | DLInformationTransfer | | | | | | | | **present, NAS message | | | | present:** \ | | | | (piggybacked) NAS PDU | | | | shall be security | | | | protected (if necessary) | | | | and inserted in RRC | | | | PDU\'s | | | | NAS_DedicatedInformation | | | | | | | | **present, NAS message | | | | omit:** \ | | | | (RRC message does not | | | | contain NAS information) | | +------------------------+---------------------------+------------+ | Ccch | DL_CCCH_Message as | | | | define in TS 36.331 | | | | [19], clause 6.2.1 | | +------------------------+---------------------------+------------+ | Dcch | DL_DCCH_Message as | | | | define in TS 36.331 | | | | [19], clause 6.2.1 | | +------------------------+---------------------------+------------+ | **Nas** | **TTCN-3 Type** | **record** | +------------------------+---------------------------+------------+ | | **omit:** \ | | | | RRC message shall be | | | | present; RRC message does | | | | not contain (piggybacked) | | | | NAS PDU | | | | | | | | **present, RRC message | | | | omit:** \ | | | | NAS message shall be sent | | | | embedded in | | | | DLInformationTransfer | | | | | | | | **present, RRC message | | | | present:\ | | | |** NAS message is | | | | piggybacked in RRC | | | | message | | | | | | | | NOTE 2: In case of RRC | | | | message being sent on | | | | CCCH or does not have IE | | | | NAS_DedicatedInformation | | | | NAS message shall be | | | | omitted. | | +------------------------+---------------------------+------------+ | SecurityProtectionInfo | security status (if | | | | protected with integrity | | | | and/or ciphering, if at | | | | all) | | +------------------------+---------------------------+------------+ | NAS message | union of all NAS messages | | | | define for DL except | | | | SECURITY PROTECTED NAS | | | | MESSAGE | | +------------------------+---------------------------+------------+
+------------------------+---------------------------+------------+ | TTCN-3 ASP Definition | | | +------------------------+---------------------------+------------+ | **Type Name** | **SRB_COMMON_IND** | | +------------------------+---------------------------+------------+ | TTCN-3 Type | Record | | +------------------------+---------------------------+------------+ | **Common Part** | **TTCN-3 Type** | record | +------------------------+---------------------------+------------+ | CellId | cell id | | +------------------------+---------------------------+------------+ | RoutingInfo | SRB0, SRB1, SRB2 | | +------------------------+---------------------------+------------+ | TimingInfo | system frame number; | | | | sub-frame number when PDU | | | | has been received | | +------------------------+---------------------------+------------+ | **Signalling Part** | **TTCN-3 Type** | **record** | +------------------------+---------------------------+------------+ | **Rrc** | **TTCN-3 Type** | **union** | +------------------------+---------------------------+------------+ | | **omit:** \ | | | | NAS message shall be | | | | present; NAS message is | | | | received in | | | | ULInformationTransfer | | | | | | | | **present, NAS message | | | | present:** \ | | | | NAS_DedicatedInformation | | | | contains unstructured and | | | | security protected NAS | | | | PDU and the NAS message | | | | contains the deciphered | | | | message in structured | | | | format | | | | | | | | **present, NAS message | | | | omit:** \ | | | | (RRC message does not | | | | contain NAS information) | | +------------------------+---------------------------+------------+ | Ccch | UL_CCCH_Message as | | | | define in TS 36.331 | | | | [19], clause 6.2.1 | | +------------------------+---------------------------+------------+ | Dcch | UL_DCCH_Message as | | | | define in TS 36.331 | | | | [19], clause 6.2.1 | | +------------------------+---------------------------+------------+ | **Nas** | **TTCN-3 Type** | **record** | +------------------------+---------------------------+------------+ | | **omit** \ | | | | RRC message shall be | | | | present; RRC message does | | | | not contain (piggybacked) | | | | NAS PDU | | | | | | | | **present, RRC message | | | | omit** \ | | | | NAS message has been | | | | received in | | | | ULInformationTransfer | | | | | | | | **present, RRC message | | | | present\ | | | |** NAS message is | | | | piggybacked in RRC | | | | message | | +------------------------+---------------------------+------------+ | SecurityProtectionInfo | security status (if | | | | protected with integrity | | | | and/or ciphering, if at | | | | all), | | | | | | | | nas count | | +------------------------+---------------------------+------------+ | NAS message | union of all NAS messages | | | | define for UL except | | | | SECURITY PROTECTED NAS | | | | MESSAGE | | +------------------------+---------------------------+------------+
+-----------------------------+-----------------------------+--------+ | TTCN-3 ASP Definition | | | +-----------------------------+-----------------------------+--------+ | **Type Name** | **NAS_CTRL_REQ** | | +-----------------------------+-----------------------------+--------+ | TTCN-3 Type | Record | | +-----------------------------+-----------------------------+--------+ | **Common Part** | **TTCN-3 Type** | record | +-----------------------------+-----------------------------+--------+ | CellId | cell id | | +-----------------------------+-----------------------------+--------+ | RoutingInfo | (not used for | | | | configuration) | | +-----------------------------+-----------------------------+--------+ | TimingInfo | current system frame | | | | number; sub-frame number | | | | | | | | (always provided by the SS) | | +-----------------------------+-----------------------------+--------+ | Result | Success or error\ | | | | (in case of error an SS | | | | specific error code shall | | | | be provided; this will not | | | | be evaluated by TTCN but | | | | may be useful for | | | | validation) | | +-----------------------------+-----------------------------+--------+ | **Primitive specific Part** | **TTCN-3 Type** | union | +-----------------------------+-----------------------------+--------+ | Security | Start/Restart | | | | | | | | > Integrity | | | | > | | | | > Ciphering | | | | > | | | | > NasCountReset | | | | | | | | Release | | +-----------------------------+-----------------------------+--------+ | NAS Count | get | | | | | | | | set | | +-----------------------------+-----------------------------+--------+
+-----------------------------+-----------------------------+--------+ | TTCN-3 ASP Definition | | | +-----------------------------+-----------------------------+--------+ | **Type Name** | **NAS_CTRL_CNF** | | +-----------------------------+-----------------------------+--------+ | **TTCN-3 Type** | Record | | +-----------------------------+-----------------------------+--------+ | **Common Part** | **TTCN-3 Type** | record | +-----------------------------+-----------------------------+--------+ | CellId | cell id | | +-----------------------------+-----------------------------+--------+ | RoutingInfo | (not used for | | | | configuration) | | +-----------------------------+-----------------------------+--------+ | TimingInfo | current system frame | | | | number; sub-frame number | | | | | | | | (always provided by the SS) | | +-----------------------------+-----------------------------+--------+ | Result | Success or error\ | | | | (in case of error an SS | | | | specific error code shall | | | | be provided; this will not | | | | be evaluated by TTCN but | | | | may be useful for | | | | validation) | | +-----------------------------+-----------------------------+--------+ | **Primitive specific Part** | **TTCN-3 Type** | union | +-----------------------------+-----------------------------+--------+ | Security | (contains no further | | | | information) | | +-----------------------------+-----------------------------+--------+ | NAS Count | get | | | | | | | | set | | +-----------------------------+-----------------------------+--------+
## 6.3 UTRAN ASP Definitions
### 6.3.1 ASPs for Control Primitive Transmission
* * *
TTCN-3 ASP Definition  
Type Name **U_CPHY_CONFIG_REQ** TTCN-3 Type union Port UTRAN_CPHY
CPHY_RL_Setup_FDD_REQ TS 34.123-3, clause 7.3.2.2.11 CPHY_RL_Setup_TDD_REQ TS
34.123-3, clause 7.3.2.3.1 CPHY_RL_Modify_FDD_REQ TS 34.123-3, clause
7.3.2.2.9 CPHY_RL_Modify_TDD_REQ TS 34.123-3, clause 7.3.2.3.1
CPHY_RL_Release_REQ TS 34.123-3, clause 7.3.2.2.10 CPHY_TrCH_Config_FDD_REQ TS
34.123-3, clause 7.3.2.2.13 CPHY_TrCH_Config_TDD_REQ TS 34.123-3, clause
7.3.2.2.13 CPHY_TrCH_Release_REQ TS 34.123-3, clause 7.3.2.2.14
CPHY_Cell_Config_FDD_REQ TS 34.123-3, clause 7.3.2.2.2
CPHY_Cell_Config_TDD_REQ TS 34.123-3, clause 7.3.2.3.1 CPHY_Cell_Release_REQ
TS 34.123-3, clause 7.3.2.2.3, see note CPHY_Ini_REQ TS 34.123-3, clause
7.3.2.2.4 CPHY_Cell_TxPower_Modify_REQ TS 34.123-3, clause 7.3.2.2.5
CPHY_Frame_Number_REQ TS 34.123-3, clause 7.3.2.2.6 NOTE: The Cell Release ASP
can only ever be called at the end of the UTRAN side of the test case. Nothing
else will occur on this cell within the test case after this ASP has been
called.
* * *
* * *
TTCN-3 ASP Definition  
Type Name **U_CPHY_CONFIG_CNF** TTCN-3 Type union Port UTRAN_CPHY
CPHY_RL_Setup_CNF TS 34.123-3, clause 7.3.2.2.11 CPHY_RL_Modify_CNF TS
34.123-3, clause 7.3.2.2.9 CPHY_RL_Release_CNF TS 34.123-3, clause 7.3.2.2.10
CPHY_TrCH_Config_CNF TS 34.123-3, clause 7.3.2.2.13 CPHY_TrCH_Release_CNF TS
34.123-3, clause 7.3.2.2.14 CPHY_Cell_Config_CNF TS 34.123-3, clause 7.3.2.2.2
CPHY_Cell_Release_CNF TS 34.123-3, clause 7.3.2.2.3 CPHY_Ini_CNF TS 34.123-3,
clause 7.3.2.2.4 CPHY_Cell_TxPower_Modify_CNF TS 34.123-3, clause 7.3.2.2.5
CPHY_Frame_Number_CNF TS 34.123-3, clause 7.3.2.2.6 CPHY_Sync_IND TS 34.123-3,
clause 7.3.2.2.12 CPHY_Out_of_Sync_IND TS 34.123-3, clause 7.3.2.2.7
* * *
* * *
TTCN-3 ASP Definition  
Type Name **U_CMAC_CONFIG_REQ** TTCN-3 Type union Port UTRAN_CMAC
CMAC_Config_FDD_REQ TS 34.123-3, clause 7.3.2.2.17 CMAC_Config_TDD_REQ TS
34.123-3, clause 7.3.2.2.17 CMAC_SYSINFO_Config_REQ TS 34.123-3, clause
7.3.2.2.22 CMAC_SecurityMode_Config_REQ TS 34.123-3, clause 7.3.2.2.20
CMAC_Ciphering_Activate_REQ TS 34.123-3, clause 7.3.2.2.16
CMAC_PAGING_Config_FDD_REQ TS 34.123-3, clause 7.3.2.2.18
CMAC_PAGING_Config_TDD_REQ TS 34.123-3, clause 7.3.2.2.18
CMAC_MACes_Config_REQ TS 34.123-3, clause 7.3.2.2.17d CMAC_MACe_Config_FDD_REQ
TS 34.123-3, clause 7.3.2.2.17b CMAC_MACe_Config_TDD_REQ TS 34.123-3, clause
7.3.2.2.17b CMAC_MACe_NodeB_CellMapping_REQ TS 34.123-3, clause 7.3.2.2.17c
CMAC_MAChs_MACehs_TFRCconfigure_FDD_REQ TS 34.123-3, clause 7.3.2.2.17a
CMAC_MAChs_MACehs_TFRCconfigure_TDD_REQ TS 34.123-3, clause 7.3.2.3.1
* * *
* * *
TTCN-3 ASP Definition  
Type Name **U_CMAC_CONFIG_CNF** TTCN-3 Type union Port UTRAN_CMAC
CMAC_Config_CNF TS 34.123-3, clause 7.3.2.2.17 CMAC_SYSINFO_Config_CNF TS
34.123-3, clause 7.3.2.2.22 CMAC_SecurityMode_Config_CNF TS 34.123-3, clause
7.3.2.2.20 CMAC_Ciphering_Activate_CNF TS 34.123-3, clause 7.3.2.2.16
CMAC_PAGING_Config_CNF TS 34.123-3, clause 7.3.2.2.18 CMAC_MACes_Config_CNF TS
34.123-3, clause 7.3.2.2.17d CMAC_MACe_Config_CNF TS 34.123-3, clause
7.3.2.2.17b CMAC_MACe_NodeB_CellMapping_CNF TS 34.123-3, clause 7.3.2.2.17c
CMAC_MAChs_MACehs_TFRCconfigure_CNF TS 34.123-3, clause 7.3.2.2.17a
* * *
* * *
TTCN-3 ASP Definition  
Type Name **U_CRLC_CONFIG_REQ** TTCN-3 Type union Port UTRAN_CRLC
CRLC_Config_REQ TS 34.123-3, clause 7.3.2.2.24 CRLC_Sequence_Number_REQ TS
34.123-3, clause 7.3.2.2.29 CRLC_SecurityMode_Config_REQ TS 34.123-3, clause
7.3.2.2.28 CRLC_Ciphering_Activate_REQ TS 34.123-3, clause 7.3.2.2.23
CRLC_Integrity_Activate_REQ TS 34.123-3, clause 7.3.2.2.25
CRLC_SetRRC_MessageSN_REQ TS 34.123-3, clause 7.3.2.2.28a
CRLC_RRC_MessageSN_REQ TS 34.123-3, clause 7.3.2.2.27a CRLC_Resume_REQ TS
34.123-3, clause 7.3.2.2.27 CRLC_Suspend_REQ TS 34.123-3, clause 7.3.2.2.31
CRLC_ProhibitRLC_Ack_REQ TS 34.123-3, clause 7.3.2.2.26a
* * *
* * *
TTCN-3 ASP Definition  
Type Name **U_CRLC_CONFIG_CNF** TTCN-3 Type union Port UTRAN_CRLC
CRLC_Config_CNF TS 34.123-3, clause 7.3.2.2.24 CRLC_Sequence_Number_CNF TS
34.123-3, clause 7.3.2.2.29 CRLC_SecurityMode_Config_CNF TS 34.123-3, clause
7.3.2.2.28 CRLC_Ciphering_Activate_CNF TS 34.123-3, clause 7.3.2.2.23
CRLC_integrity_Activate_CNF TS 34.123-3, clause 7.3.2.2.25
CRLC_Integrity_Failure_IND TS 34.123-3, clause 7.3.2.2.26
CRLC_SetRRC_MessageSN_CNF TS 34.123-3, clause 7.3.2.2.28a
CRLC_RRC_MessageSN_CNF TS 34.123-3, clause 7.3.2.2.27a CRLC_Resume_CNF TS
34.123-3, clause 7.3.2.2.27 CRLC_Suspend_CNF TS 34.123-3, clause 7.3.2.2.31
CRLC_ProhibitRLC_Ack_CNF TS 34.123-3, clause 7.3.2.2.26a
* * *
### 6.3.2 ASPs for Data Transmission and Reception
* * *
TTCN-3 ASP Definition  
Type Name **U_RLC_AM_REQ** TTCN-3 Type union Port UTRAN_AM RLC_AM_DATA_REQ TS
34.123-3, clause 7.3.2.2.34 RLC_AM_TestDataReq TS 34.123-3, clause 7.3.3.1
* * *
* * *
TTCN-3 ASP Definition  
Type Name **U_RLC_AM_IND** TTCN-3 Type union Port UTRAN_AM RLC_AM_DATA_CNF TS
34.123-3, clause 7.3.2.2.34 RLC_AM_DATA_IND TS 34.123-3, clause 7.3.2.2.34
RLC_AM_TestDataInd TS 34.123-3, clause 7.3.3.1
* * *
* * *
**TTCN-3 ASP Definition** **Port** **Defined in** **UTRAN_RLC_AM_REQ**
UTRAN_AM TS 34.123-3, clause 7.3.2.2.34 **UTRAN_RLC_AM_IND** UTRAN_AM TS
34.123-3, clause 7.3.2.2.34 **UTRAN_RLC_TR_REQ** UTRAN_TM TS 34.123-3, clause
7.3.2.2.33 **UTRAN_RLC_TR_IND** UTRAN_TM TS 34.123-3, clause 7.3.2.2.33
**UTRAN_RLC_UM_REQ** UTRAN_UM TS 34.123-3, clause 7.3.2.2.35
**UTRAN_RLC_UM_IND** UTRAN_UM TS 34.123-3, clause 7.3.2.2.35 RRC_DataReq
UTRAN_Dc TS 34.123-3, clause 7.1.2 RRC_DataReqInd UTRAN_Dc TS 34.123-3, clause
7.1.2
* * *
The Invalid_DL_DCCH_Message type is replaced with:
* * *
Type Name **Invalid_DL_DCCH_Message** TTCN-3 Type NULL
* * *
## 6.4 GERAN ASP Definitions
### 6.4.1 ASPs for Control Primitive Transmission
* * *
TTCN-3 ASP Definition  
Type Name **G__CPHY_CONFIG_REQ** TTCN-3 Type Union Port GERAN_CL1
G_CL1_CreateCell_REQ TS 34.123-3, clause 7.3.4.3.2.1 G_CL1_DeleteCell_REQ TS
34.123-3, clause 7.3.4.3.2.1 G_CL1_CreateBasicPhyCh_REQ TS 34.123-3, clause
7.3.4.3.2.1 G_CL1_CreateMultiSlotConfig_REQ TS 34.123-3, clause 7.3.4.3.2.1
G_CL1_DeleteChannel_REQ TS 34.123-3, clause 7.3.4.3.2.1
G_CL1_ChangePowerLevel_REQ TS 34.123-3, clause 7.3.4.3.2.1
G_CL1_CipheringControl_REQ TS 34.123-3, clause 7.3.4.3.2.1
G_CL1_CipherModeModify_REQ TS 34.123-3, clause 7.3.4.3.2.1
G_CL1_ChModeModify_REQ TS 34.123-3, clause 7.3.4.3.2.1 G_CL1_ComingFN_REQ TS
34.123-3, clause 7.3.4.3.2.1 G_CL2_HoldPhyInfo_REQ TS 34.123-3, clause
7.3.4.3.2.2 G_CL1_L1Header_REQ TS 34.123-3, clause 7.3.4.3.2.1
G_CL2_MeasRptControl_REQ TS 34.123-3, clause 7.3.4.3.2.2 G_CL2_NoUAforSABM_REQ
TS 34.123-3, clause 7.3.4.3.2.2 G_CL2_ResumeUAforSABM_REQ TS 34.123-3, clause
7.3.4.3.2.2 G_CL2_Release_REQ TS 34.123-3, clause 7.3.4.3.2.2
G_CL1_SetNewKey_REQ TS 34.123-3, clause 7.3.4.3.2.1
* * *
* * *
TTCN-3 ASP Definition  
Type Name **G_CPHY_CONFIG_CNF** TTCN-3 Type Union Port GERAN_CL1 ComingFN RFN
L1Header L1Header None This choice used when neither of the other choices are
selected
* * *
* * *
TTCN-3 ASP Definition  
Type Name **G_CRLC_CONFIG_REQ** TTCN-3 Type Union Port GERAN_CRLC
G_CRLC_CreateRLC_MAC_REQ TS 34.123-3, clause 7.3.4.3.2.3
G_CRLC_DeleteRLC_MAC_REQ TS 34.123-3, clause 7.3.4.3.2.3
G_CRLC_DL_TBF_Config_REQ TS 34.123-3, clause 7.3.4.3.2.3
G_CRLC_UL_TBF_Config_REQ TS 34.123-3, clause 7.3.4.3.2.3
* * *
* * *
TTCN-3 ASP Definition  
Type Name **G_CRLC_CONFIG CNF** TTCN-3 Type empty record Port GERAN_CRLC
* * *
* * *
TTCN-3 ASP Definition  
Type Name G_CLLC_CONFIG_REQ TTCN-3 Type Union Port GERAN_CLLC
G_CLLC_Assign_REQ TS 34.123-3, clause 7.3.4.3.2.4 G_CLLC_Reassign_REQ TS
34.123-3, clause 7.3.4.3.2.4 G_CLLC_CreateLLE_REQ TS 34.123-3, clause
7.3.4.3.2.4 G_CLLC_DeleteLLE_REQ TS 34.123-3, clause 7.3.4.3.2.4
* * *
* * *
TTCN-3 ASP Definition  
Type Name **G_CLLC_CONFIG_CNF** TTCN-3 Type empty record Port GERAN_CLLC
* * *
### 6.4.2 ASPs for Data Transmission and Reception
* * *
TTCN-3 ASP Definition  
Type Name **G__L2_DATAMESSAGE_REQ** TTCN-3 Type Union Port GERAN_L2
G_L2_UNITDATA_REQ TS 34.123-3, clause 7.3.4.3.1.1 G_L2_Release_REQ TS
34.123-3, clause 7.3.4.3.1.1 G_L2_SYSINFO_REQ TS 34.123-3, clause 7.3.4.3.1.1
G_L2_Paging_REQ TS 34.123-3, clause 7.3.4.3.1.1 G_L2_PagingGPRS_REQ TS
34.123-3, clause 7.3.4.3.1.1 G_L2_DATA_REQ TS 34.123-3, clause 7.3.4.3.1.1
G_L2_GTTP_REQ TS 34.123-3, clause 7.3.4.3.1.1
* * *
The SysInfoType is replaced with:
* * *
Type Name SysInfoMsg TTCN-3 Type Union SYSTEMINFORMATIONTYPE1
SYSTEMINFORMATIONTYPE2 SYSTEMINFORMATIONTYPE3 SYSTEMINFORMATIONTYPE4
SYSTEMINFORMATIONTYPE5 SYSTEMINFORMATIONTYPE6 SYSTEMINFORMATIONTYPE13
SYSTEMINFORMATIONTYPE15 SYSTEMINFORMATIONTYPE2bis SYSTEMINFORMATIONTYPE2ter
SYSTEMINFORMATIONTYPE2quater SYSTEMINFORMATIONTYPE5bis
* * *
* * *
TTCN-3 ASP Definition  
Type Name **G__L2_DATAMESSAGE_IND** TTCN-3 Type Union Port GERAN_L2
G_L2_UNITDATA_IND TS 34.123-3, clause 7.3.4.3.1.1 G_L2_Release_CNF TS
34.123-3, clause 7.3.4.3.1.1 G_L2_Release_IND TS 34.123-3, clause 7.3.4.3.1.1
G_L2_Estab_IND TS 34.123-3, clause 7.3.4.3.1.1 G_L2_GTTP_IND TS 34.123-3,
clause 7.3.4.3.1.1 G_L2_DATA_IND TS 34.123-3, clause 7.3.4.3.1.1
G_L2_ACCESS_IND TS 34.123-3, clause 7.3.4.3.1.1
* * *
* * *
TTCN-3 ASP Definition  
Type Name **G__RLC_DATAMESSAGE_REQ** TTCN-3 Type Union Port GERAN_RLC
G__RLC_ControlMsg_REQ TS 34.123-3, clause 7.3.4.3.1.2
* * *
* * *
TTCN-3 ASP Definition  
Type Name **G__RLC_DATAMESSAGE_IND** TTCN-3 Type Union Port GERAN_RLC
G__RLC_ControlMsg_IND TS 34.123-3, clause 7.3.4.3.1.2
* * *
* * *
TTCN-3 ASP Definition  
Type Name **G__LLC_DATAMESSAGE_REQ** TTCN-3 Type Union Port GERAN_LLC
G_LLC_UNITDATA_REQ TS 34.123-3, clause 7.3.4.3.1.3 G_LLC_XID_RES TS 34.123-3,
clause 7.3.4.3.1.3
* * *
* * *
ASP Name G_LLC_NULL_IND  
PCO Type G_DSAP  
Comments The ASP is used to receive the LLC NULL frame, sent by the UE for
Cell Update.  
Parameter Name Parameter Type Comments lLMEId LLMEId  
tLLI TLLI  
sAPI SAPI  
Detailed Comments
* * *
* * *
TTCN-3 ASP Definition  
Type Name **G__LLC_DATAMESSAGE_IND** TTCN-3 Type Union Port GERAN_LLC