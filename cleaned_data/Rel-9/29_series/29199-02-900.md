# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
3GPP acknowledges the contribution of the Parlay X Web Services specifications
from The Parlay Group. The Parlay Group is pleased to see 3GPP acknowledge and
publish the present document, and the Parlay Group looks forward to working
with the 3GPP community to improve future versions of the present document.
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# Introduction
The present document is part 2 of a multi-part deliverable covering the 3^rd^
Generation Partnership Project; Technical Specification Group Core Network and
Terminals; Open Service Access (OSA); Parlay X Web Services, as identified
below:
Part 1: \"Common\"
**Part 2: \"Third party call\"**
Part 3: \"Call Notification\"
Part 4: \"Short Messaging\"
Part 5: \"Multimedia Messaging\"
Part 6: \"Payment\"
Part 7: \"Account management\"
Part 8: \"Terminal Status\"
Part 9: \"Terminal location\"
Part 10: \"Call handling\"
Part 11: \"Audio call\"
Part 12: \"Multimedia conference\"
Part 13: \"Address list management\"
Part 14: \"Presence\"
Part 15: \"Message Broadcast\"
Part 16: \"Geocoding\"
Part 17: \"Application driven Quality of Service (QoS)\"
Part 18: \"Device Capabilities and Configuration\"
Part 19: \"Multimedia streaming control\"
Part 20: \"Multimedia multicast session management\"
Part 21: \"Content Management\"
Part 22: \"Policy\"
# 1 Scope
The present document is Part 2 of the Stage 3 Parlay X Web Services
specification for Open Service Access (OSA).
The OSA specifications define an architecture that enables application
developers to make use of network functionality through an open standardized
interface, i.e. the OSA APIs. The concepts and the functional architecture for
the OSA are contained in 3GPP TS 23.127 [3]. The requirements for OSA are
contained in 3GPP TS 22.127 [2].
The present document specifies the Third Party Call Web Service aspects of the
interface. All aspects of the Third Party Call Web Service are defined here,
these being:
  * Name spaces.
  * Sequence diagrams.
  * Data definitions.
  * Interface specification plus detailed method descriptions.
  * Fault definitions.
  * Service Policies.
  * WSDL Description of the interfaces.
The present document has been defined jointly between 3GPP TSG CT WG5, ETSI
TISPAN and The Parlay Group.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
  * References are either specific (identified by date of publication, > edition number, version number, etc.) or nonâ€‘specific.
  * For a specific reference, subsequent revisions do not apply.
  * For a non-specific reference, the latest version applies. In the > case of a reference to a 3GPP document (including a GSM document), > a non-specific reference implicitly refers to the latest version > of that document _in the same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 22.127: \"Service Requirement for the Open Services Access (OSA);
Stage 1\".
[3] 3GPP TS 23.127: \"Virtual Home Environment (VHE) / Open Service Access
(OSA); Stage 2\".
[4] 3GPP TS 22.101: \"Service aspects; Service principles\".
[5] W3C Recommendation (2 May 2001): \"XML Schema Part 2: Datatypes\".
http://www.w3.org/TR/2001/REC-xmlschema-2-20010502/.
[6] 3GPP TS 29.199-1: \"Open Service Access (OSA); Parlay X Web Services; Part
1: Common\".
[7] 3GPP TS 29.199-12: \"Open Service Access (OSA); Parlay X Web Services;
Part 12: Multimedia conference".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TS 29.199-1 [6] apply.
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TS
29.199-1 [6] apply.
# 4 Detailed service description
Currently, in order to perform a third party call in telecommunication
networks we have to write applications using specific protocols to access Call
Control functions provided by network elements (specifically operations to
initiate a call from applications). This approach requires a high degree of
network expertise. We can also use the OSA gateway approach, invoking standard
interfaces to gain access to call control capabilities, but these interfaces
are usually perceived to be quite complex by application IT developers.
Developers must have advanced telecommunication skills to use Call Control OSA
interfaces.
In this subclause we describe a Parlay X Web Service, Third Party Call, for
creating and managing a call initiated by an application (third party call).
The overall scope of this Web Service is to provide functions to application
developers to create a call in a simple way. Using the Third Party Call Web
Service, application developers can invoke call handling functions without
detailed telecommunication knowledge.
The underlying model of the service is based on the following entities:
  * **Call Session:** a call (uniquely identified) to which participants > can be added/removed.
  * **Call Participant:** each of the call parties (uniquely identified) > involved in the call session.
  * **Media:** the call can utilize multiple media types to support the > participants\' communication. In particular both audio and video > streams are available, including the specific stream direction > (i.e. incoming, outgoing, bidirectional).
NOTE 1: Call participants in a Call Session are anticipated to be uniquely
identifiable using their URI address.
An application setting up a call session must initially invoke the
**makeCallSession**. The result of such invocation is the creation of a
\"context\" that represents a call session with usually two participants, or
at a minimum one participant connected, a unique identifier is assigned to the
just-created call session. Subsequently the application may wish to add,
remove, park or transfer call participants. In order to do so the operations
**addCallParticipant, transferCallParticipant, deleteCallParticipant** can be
used. Furthermore the call session or call participant status including the
media details can be read. In order to do so the operations
**getCallParticipantInformation,** and **getCallSessionInformation** can be
used. It is also possible to retrieve the media details on its own using the
**getMediaForParticipant** or **getMediaForCall** operations of the Audio Call
web service.
The application can also force the call session and all its participants to be
terminated with the operation **endCallSession**.
NOTE 2: A call session allows the application to avail of other web service
features that can add value to the created call session. For example the Audio
Call web service can provide multimedia message delivery to call participants
in the call session (playXXXMessage operation) and furthermore control of the
media types for the call participants thus enabling conversational multimedia
communication including voice, video, chat, and data. Media can be
added/removed for each participant.
Figure 4.1 shows a scenario using the Third Party Call Web Service to handle
third party call functions. The application invokes a Web Service to retrieve
stock quotes and a Parlay X Interface to initiate a third party call between a
broker and his client.
In the scenario, whenever a particular stock quote reaches a threshold value
(1) and (2), the client application invokes a third party call between one or
more brokers and their corresponding customers to decide actions to be taken.
After invocation (3) by the application, the Third Party Call Web Service
invokes a Parlay API operation (4) using the Parlay/OSA SCS-CC (Call control)
interface. This SCS handles the invocation and sends a message (5) to an MSC
to set-up a call between user A and user B.
In an alternative scenario, the Parlay API interaction involving steps (4) and
(5) could be replaced with a direct interaction between the Third Party Call
Web Service and the Mobile network
{width="4.472222222222222in" height="3.390972222222222in"}
Figure 4.1: Third party call scenario
# 5 Namespaces
The ThirdPartyCall interface uses the namespace:
http://www.csapi.org/wsdl/parlayx/third_party_call/v4_0
The \'xsd\' namespace is used in the present document to refer to the XML
Schema data types defined in XML Schema [5]. The use of the name \'xsd\' is
not semantically significant.
# 6 Sequence diagrams
## 6.1 \'Click to Dial\' call setup
A common convergence application is Click to Dial, where a self service portal
provides a web page that can initiate a call between two phones. This sequence
shows a basic call setup, and ending the call through the portal.
## 6.2 Third party call with announcement between broker and customer
This sequence shows the third party call with announcement between broker and
customer in addition to basic flow of figure 4.1. It could be realized through
invoking TPC and AC web services with same session identifier. If the broker
gets the announcement of information related to this call, he can get more
information before talking to his customer.
# 7 XML Schema data type definition
Void.
# 8 Web Service interface definition
## 8.1 Interface: ThirdPartyCall
This interface provides the ability to setup a call session, add and delete a
call participant, transfer a call participant from one call session into
another call session, determine the status of an individual call participant
or a complete call session, and finally to end a call session.
### 8.1.1 Operation: MakeCallSession
The invocation of **MakeCallSession** requests to set-up a call session
between two addresses, a first **CallParticipant** ("A-Party") and a second
**CallParticipant** ("B-Party"), provided that the invoking application is
allowed to connect them. Optionally, the caller's ("A-Party's") name is
provided. Optionally a call session with only a single **CallParticipant**
("A-party") can be set-up, for example to play media to the call participant
using mediaCall capabilities (e.g. playMedia).Optionally the application can
also indicate the charging information (**Charging**). Optionally, the media
type(s) to be used for the participants in the call session can be requested
(**MediaInfo**). A service policy details if multimedia application control is
supported. If the parameter **MediaInfo** is omitted, the media type(s) shall
be negotiated by the underlying network. A CallSessionIdentifier is returned
on invocation of the MakeCallSession. This CallSessionIdentifier may be used
to retrieve the call session status for all the call participants including
their media type information with the operation **getCallSessionInformation.**
With the operation **getCallParticipantInformation** this information may be
retrieved for a single call participant.
During call set-up, the first **CallParticipant** ("A-Party") might wait for
the second **CallParticipant** ("B-Party") to answer the call hearing ringback
tone. **MakeCallSession** creates a call session with one or two call
participants and generates a new **CallSessionIdentifier** which is identified
by the string returned in the **MakeCallSessionResponse** operation. The
invocation returns as soon as the request is received by the system, i.e. the
actual call session is established asynchronously.
In order to receive the information on call status the application has to
explicitly invoke the **GetCallSessionInformation** operation for the
CallSessionIdentifier returned.
#### 8.1.1.1 Input message: MakeCallSessionRequest
* * *
Part name Part type Optional Description CallParticipants xsd:anyURI[1..2] No
It contains the address of the first participant, and if supplied the second
participant, involved in the call session. CallingParticipantName xsd:string
Yes It contains the name of the caller, e.g. the name on whose behalf the call
session is being established. Charging common:ChargingInformation Yes Charge
to apply to the call session MediaInfo common: MediaInfo [0..unbounded] Yes It
identifies one or more media type(s) for the call, i.e. the media type(s) to
be applied to the participants in the call session. For each media type the
media direction: incoming, outgoing, or bidirectional shall be indicated. An
empty array shall have the same meaning as if the parameter is omitted. If the
parameter **MediaInfo** is omitted, the media type(s) shall be negotiated by
the underlying network. ChangeMediaNotAllowed xsd: boolean No If true, no call
participant (user) in the call will be permitted to change media type during
the call. If false the end user may change media type after the call is
established as no network protection mechanism is set up to prevent
participant (end user) initiated change of media type.
* * *
#### 8.1.1.2 Output message : MakeCallSessionResponse
* * *
Part name Part type Optional Description CallSessionIdentifier xsd:string No
It identifies the specific call session created
* * *
#### 8.1.1.3 Referenced faults
ServiceException from 3GPP TS 29.199-1 [6]:
  * SVC0001 - Service error.
  * SVC0002 - Invalid input value.
PolicyException from 3GPP TS 29.199-1 [6]:
  * POL0001 - Policy error.
  * POL0008 - Charging not supported.
  * POL0011 -- Media type not supported
  * POL0012 -- Too many description entries specified
  * POL0013 -- Addresses duplication.
### 8.1.1a Operation: AddCallParticipant
The invocation of **AddCallParticipant** requests to add a call participant to
an existing call session.\ The **AddCallParticipant** operation takes two
mandatory parameters, the first being the call session identifier to which the
participants should be added, and the second being the participant to add
(contains the URI of the participant). Optionally, the media type(s) that
shall be added for the specific call participant may be requested using
**MediaInfo**.\ If the parameter **MediaInfo** is omitted, the media type(s)
shall be negotiated by the underlying network. The call session or call
participant status, including information on media types, can be retrieved
using the operations **getCallParticipantInformation,** and
**getCallSessionInformation.**
All occurrences of invalid call session or participant address shall result in
an invalid input value exception.
#### 8.1.1a.1 Input Message : AddCallParticipantRequest
* * *
Part name Part type Optional Description CallSessionIdentifier xsd:string No
It identifies the existing call session. This must be a non-null value as it
identifies a pre-existing call session in the network CallParticipant
xsd:anyURI No It contains the address of the user to add to the existing call
session identified by the CallSessionIdentifier MediaInfo common: MediaInfo
[0..unbounded] Yes It identifies one or more media type(s) for the participant
to be added in the call session. For each media type the media direction:
incoming, outgoing, or bidirectional shall be indicated. An empty array shall
have the same meaning as if the parameter is omitted.If the parameter
**MediaInfo** is omitted, the media type(s) shall be negotiated by the
underlying network.
* * *
#### 8.1.1a.2 Output message : AddCallParticipantResponse
* * *
Part name Part type Optional Description None
* * *
#### 8.1.1a.3 Referenced faults
ServiceException from 3GPP TS 29.199-1 [6]:
  * SVC0001 - Service error.
  * SVC0002 - Invalid input value.
  * SVC0261 - Call Session already terminated.
PolicyException from 3GPP TS 29.199-1 [6]:
  * POL0001 - Policy error.
  * POL0011 -- Media type not supported
  * POL0240 -- Too many participants. - from 3GPP TS 29.199-12 [7]
### 8.1.1b Operation: TransferCallParticipant
The invocation of **TransferCallParticipant** enables a call transfer,
effectively transferring a call participant from one call session into another
call session.
The **TransferCallParticipant** method takes three parameters, the first being
the call session identifier (destination call session) where the participants
should be moved to and the second being the source call session where the
participant to transfer is currently located. The third parameter is to
identify the call participant to transfer (contains the URL of the
participant). Upon completion of the **TransferCallParticipant** operation,
the call participant is implicitly deleted from the source call session.
In transferring the call participant to the new destination call session, the
participant information is not affected. When, as a result of transferring a
call participant, the source call session is left without any call
participant, the source call session is terminated.
All occurrences of invalid call session or participant address shall result in
an invalid input value exception
#### 8.1.1b.1 Input Message : TransferCallParticipantRequest
* * *
Part name Part type Optional Description DestinationCallSessionIdentifier
xsd:string No It identifies the existing target call session to which the call
participant to transfer shall be moved. SourceCallSessionIdentifier xsd:string
No It identifies the existing source call session, which contains the call
participant to transfer. CallParticipant xsd:anyURI No This is the address of
the participant to be transferred from the source call session, which is
identified by the SourceCallSessionIdentifier.
* * *
#### 8.1.1b.2 Output message : TransferCallParticipantResponse
* * *
Part name Part type Optional Description None
* * *
#### 8.1.1b.3 Referenced faults
ServiceException from 3GPP TS 29.199-1 [6]:
  * SVC0001 - Service error.
  * SVC0002 - Invalid input value.
  * SVC0261 - Call Session already terminated.
PolicyException from 3GPP TS 29.199-1 [6]:
  * POL0001 - Policy error.
  * POL0240 -- Too many participants. - from 3GPP TS 29.199-12 [7]
### 8.1.2 Operation: GetCallParticipantInformation
The invocation of **GetCallParticipantInformation** retrieves the current call
participant status, **CallParticipantInformation** , of the call participant
identified by **CallParticipant,** within the call session identified by the
**CallSessionIdentifier**. This method can be invoked multiple times by the
application even if the call has already ended. However, after the call has
ended, status information will be available only for a limited period of time
that is specified in the service policy \'StatusRetentionTime\'.
The **getCallParticipantInformation** method takes two parameters into the
method, the first being the call session identifier where the participants
information should be retrieved and the second being the call participant
identifier (contains the URL of the participant).
All occurrences of invalid call session or call participant address shall
result in an invalid input value exception
#### 8.1.2.1 Input message: GetCallParticipantInformationRequest
* * *
Part name Part type Optional Description CallSessionIdentifier xsd: string No
It identifies the specific call session CallParticipant xsd:anyURI No It
identifies a specific call participant address within the call session
* * *
#### 8.1.2.2 Output message : GetCallParticipantInformationResponse
* * *
Part name Part type Optional Description result common:
CallParticipantInformation No It identifies the status of the requested call
participant
* * *
#### 8.1.2.3 Referenced faults
ServiceException from 3GPP TS 29.199-1 [6]:
  * SVC0001 - Service error.
  * SVC0002 - Invalid input value.
  * SVC0261 - Call Session already terminated.
PolicyException from 3GPP TS 29.199-1 [6]:
  * POL0001 - Policy error.
### 8.1.3 Void
### 8.1.4 Void
### 8.1.5 Operation: GetCallSessionInformation
The invocation of **GetCallSessionInformation** retrieves the **CallSession**
information regarding the call session identified by **CallSessionIdentifier**
parameter. The information provided in the **CallSession** includes the call
participant information. This method can be invoked multiple times by the
application even if the session has already ended. However, after the session
has ended, status information will be available only for a limited period of
time that is specified in the service policy \'StatusRetentionTime\'.
All occurrences of invalid call session shall result in an invalid input value
exception
#### 8.1.5.1 Input message: GetCallSessionInformationRequest
* * *
Part name Part type Optional Description CallSessionIdentifier xsd: string No
It identifies a specific call session
* * *
#### 8.1.5.2 Output message : GetCallSessionInformationResponse
* * *
Part name Part type Optional Description result common: CallSession No It
identifies the status of the session
* * *
#### 8.1.5.3 Referenced faults
ServiceException from 3GPP TS 29.199-1 [6]:
  * SVC0001 - Service error.
  * SVC0002 - Invalid input value.
  * SVC0261 - Call Session already terminated.
PolicyException from 3GPP TS 29.199-1 [6]:
  * POL0001 - Policy error.
### 8.1.6 Operation: DeleteCallParticipant
The invocation of **DeleteCallParticipant** removes the call participant
identified by **CallParticipant** from the call session identified by
**CallSessionIdentifier,** and implicitly terminates that participants
involvement in the call session.
The **deleteCallParticipant** method takes two parameters, the first being the
call session identifier where the participant to delete is located. The second
parameter identifies the call participant to be deleted (contains the URL of
the participant).
All occurrences of invalid call session or participant address shall result in
an invalid input value exception
#### 8.1.6.1 Input message: DeleteCallParticipantRequest
* * *
Part name Part type Optional Description CallSessionIdentifier xsd: string No
It identifies a specific call session. CallParticipant xsd: anyURI No It
identifies a specific call participant within the identified call session.
* * *
#### 8.1.6.2 Output message: DeleteCallParticipantResponse
* * *
Part name Part type Optional Description None
* * *
#### 8.1.6.3 Referenced faults
ServiceException from 3GPP TS 29.199-1 [6]:
  * SVC0001 - Service error.
  * SVC0002 - Invalid input value.
  * SVC0261 - Call Session already terminated.
PolicyException from 3GPP TS 29.199-1 [6]:
  * POL0001 - Policy error.
### 8.1.7 Operation: EndCallSession
The invocation of **EndCallSession** terminates the call session identified by
**CallSessionIdentifier**.
The call to all participants is ended.
All occurrences of invalid call session shall result in an invalid input value
exception
#### 8.1.7.1 Input message: EndCallSessionRequest
* * *
Part name Part type Optional Description CallSessionIdentifier xsd: string No
It identifies a specific call session
* * *
#### 8.1.7.2 Output message: EndCallSessionResponse
* * *
Part name Part type Optional Description None
* * *
#### 8.1.7.3 Referenced faults
ServiceException from 3GPP TS 29.199-1 [6]:
  * SVC0001 - Service error.
  * SVC0002 - Invalid input value.
  * SVC0261 - Call session already terminated.
PolicyException from 3GPP TS 29.199-1 [6]:
  * POL0001 - Policy error.
# 9 Fault definitions
The following faults are defined for this service.
## 9.1 ServiceException
### 9.1.1 SVC0260: Void
### 9.1.2 SVC0261: Call Session already terminated
* * *
Part name Description Message Id SVC0261 Text Call session has already been
terminated Variables None
* * *
# 10 Service policies
These service policies are defined for the Third Party Call service.
* * *
Name Type Description ChargingAllowed xsd:boolean Indicates whether charging
is allowed for makeCallSession operation StatusRetentionTime common:TimeMetric
Length of time to retain status after the termination of the call
ChangeMediaNotAllowed xsd:boolean Indicates whether an end user can change the
media types used in a call. MaximumParticipants xsd:int Maximum number of
participants which a session can serve. MultimediaSupported xsd:boolean
Indicates whether multimedia is supported and whether an application can
change the media types used in a call. MaximumDescriptions xsd:int Maximum
number of Descriptions that can be charged simultaneously.
CallParticipantAddressesDuplicationNotAllowed xsd:boolean Indicates whether
duplication addresses is allowed for operations.
* * *
**For service policy - "CallParticipantAddressesDuplicationNotAllowed", if
aliases or group addresses are used:**
  1. Parlay X Gateway with Identity Management Framework support can verify that indeed there is a duplicate.
  2. If network capability supports aliases or group addresses and the Parlay X Gateway without Identity Management Framework supporting, then the policy exception of addresses duplication may not have effect fully.
  3. If network capability does not support aliases or group addresses and the Parlay X Gateway without Identity Management Framework supporting, the Parlay-X Gateway should reject the aliases and group addresses.
###### ## Annex A (normative): WSDL for Third Party Call
The document/literal WSDL representation of this interface specification is
compliant to 3GPP TS 29.199-1 [6] and is contained in text files:
  * parlayx_third_party_call_interface_4_0.wsdl
  * parlayx_third_party_call_service_4_0.wsdl
which accompany the present document.
The WSDL files have been verified using the following files:
  * 2_wsdl2Java_axis-1_4.bat
  * 2_wsdl2Java_axis2-1_4_1.bat
which accompany the present document.
###### ## Annex B (informative): Description of Parlay X Web Services Part 2:
Third party call for 3GPP2 cdma2000 networks
This annex is intended to define the OSA Parlay X Web Services Stage 3
interface definitions and it provides the complete OSA specifications. It is
an extension of OSA Parlay X Web Services specifications capabilities to
enable operation in cdma2000 systems environment. They are in alignment with
3GPP2 Stage 1 requirements and Stage 2 architecture defined in:
[1] 3GPP2 X.S0011-D: "cdma2000 Wireless IP Network Standard \", Version 1.1
[2] 3GPP2 S.R0037-0: \"IP Network Architecture Model for cdma2000 Spread
Spectrum Systems\", Version 3.0
[3] 3GPP2 X.S0013-A: \"All-IP Core Network Multimedia Domain\"
These requirements are expressed as additions to and/or exclusions from the
3GPP Release 8 specification.\ The information given here is to be used by
developers in 3GPP2 cdma2000 network architecture to interpret the 3GPP OSA
specifications.
# B.1 General Exceptions
The terms 3GPP and UMTS are not applicable for the cdma2000 family of
standards. Nevertheless these terms are used (3GPP TR 21.905) mostly in the
broader sense of \"3G Wireless System\". If not stated otherwise there are no
additions or exclusions required.
CAMEL mappings are not applicable for cdma2000 systems.
# B.2 Specific Exceptions
## B.2.1 Clause 1: Scope
There are no additions or exclusions.
## B.2.2 Clause 2: References
There are no additions or exclusions.
## B.2.3 Clause 3: Definitions and abbreviations
There are no additions or exclusions.
## B.2.4 Clause 4: Detailed service description
There are no additions or exclusions.
## B.2.5 Clause 5: Namespaces
There are no additions or exclusions.
## B.2.6 Clause 6: Sequence diagrams
There are no additions or exclusions.
## B.2.7 Clause 7: XML Schema data type definition
There are no additions or exclusions.
## B.2.8 Clause 8: Web Service interface definition
There are no additions or exclusions.
## B.2.9 Clause 9: Fault definitions
There are no additions or exclusions.
## B.2.10 Clause 10: Service policies
There are no additions or exclusions.
## B.2.11 Annex A (normative): WSDL for Third Party Call
There are no additions or exclusions.
#