# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document specifies the stage 3 of the control plane of the GPRS
Tunnelling Protocol, Version 2 for Evolved Packet System interfaces (GTPv2-C).
In this document, unless otherwise specified the S5 interface refers always to
\"GTP-based S5\" and S8 interface refers always to \"GTP-based S8\" interface.
GTPv2-C shall be used across the following EPC signalling interfaces: S3, S4,
S5, S8, S10, S11 and S16.
GTPv2-C shall be used across the Sm and Sn interfaces for MBMS in EPS.
GTPv2-C based protocols shall also be used across Sv (3GPP TS 29.280 [15]) and
S101 (3GPP TS 29.276 [14]) interfaces.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
  * References are either specific (identified by date of publication, > edition number, version number, etc.) or non‑specific.
  * For a specific reference, subsequent revisions do not apply.
  * For a non-specific reference, the latest version applies. In the > case of a reference to a 3GPP document (including a GSM document), > a non-specific reference implicitly refers to the latest version > of that document _in the same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.003: \"Numbering, addressing and identification\".
[3] 3GPP TS 23.401: \"General Packet Radio Service (GPRS) enhancements for
Evolved Universal Terrestrial Radio Access Network (E-UTRAN) access\".
[4] 3GPP TS 29.060: \"General Packet Radio Service (GPRS); GPRS Tunnelling
Protocol (GTP) across the Gn and Gp interface\".
[5] 3GPP TS 24.008: \"Mobile radio interface Layer 3 specification; Core
network protocols; Stage 3\".
[6] IETF RFC 791 (STD 0005): \"Internet Protocol\", J. Postel.
[7] IETF RFC 768 (STD 0006): \"User Datagram Protocol\", J. Postel.
[8] 3GPP TS 32.251: \"Telecommunication Management; Charging Management;
Packet Switched (PS) domain charging.
[9] 3GPP TS 32.298: \"Telecommunication Management; Charging Management;
Charging Data Record (CDR) parameter classification.
[10] 3GPP TS 36.413: \"Evolved Universal Terrestrial Radio Access Network
(E-UTRAN); S1 Application Protocol (S1AP)\".
[11] 3GPP TS 33.102: \"3G security; Security architecture\".
[12] 3GPP TS 33.401: \"3GPP System Architecture Evolution (SAE); Security
architecture\".
[13] 3GPP TS 29.281: \"GPRS Tunnelling Protocol User Plane (GTPv1-U)\".
[14] 3GPP TS 29.276: \"Optimized Handover Procedures and Protocols between
E-UTRAN Access and cdma2000 HRPD Access -- Stage 3\".
[15] 3GPP TS 29.280: \"3GPP EPS Sv interface (MME to MSC) for SRVCC\".
[16] IETF RFC 2460: \"Internet Protocol, Version 6 (IPv6) Specification\".
[17] 3GPP TS 23.007: \"Restoration procedures\".
[18] 3GPP TS 32.422: \"Telecommunication management; Subscriber and equipment
trace; Trace control and configuration management \".
[19] 3GPP TS 36.300: \"Evolved Universal Terrestrial Radio Access (E-UTRA) and
Evolved Universal Terrestrial Radio Access Network (E-UTRAN); Overall
description; Stage 2\".
[20] 3GPP TS 36.414: \"Evolved Universal Terrestrial Radio Access Network
(E-UTRAN); S1 data transport\".
[21] 3GPP TS 23.272: \"Circuit switched fallback in Evolved Packet System;
Stage 2\".
[22] 3GPP TS 29.118: \"Mobility Management Entity (MME) - Visitor Location
Register (VLR) SGs interface specification\".
[23] 3GPP TS 24.301: \"Non-Access-Stratum (NAS) protocol for Evolved Packet\".
[24] void
[25] ITU-T Recommendation E.164: \"The international public telecommunication
numbering plan\".
[26] 3GPP TS 29.275: \"Proxy Mobile IPv6 (PMIPv6) based Mobility and
Tunnelling protocols; Stage 3\".
[27] 3GPP TS 44.018: \"Mobile radio interface layer 3 specification; Radio
Resource Control Protocol\".
[28] 3GPP TS 48.008: \"Mobile-services Switching Centre - Base Station System
(MSC-BSS) interface; Layer 3 specification\".
[29] 3GPP TS 29.212: \"Policy and charging control over Gx reference point\".
[30] 3GPP TS 24.007: \"Mobile radio interface signalling layer 3; General
aspects\".
[31] IETF RFC 1035:\"Domain Names - Implementation and Specification\".
[32] 3GPP TS 29.303: \"Domain Name System Procedures; Stage 3\".
[33] 3GPP TS 25.413: \"UTRAN Iu Interface RANAP Signalling\".
[34] 3GPP TS 48.018: \"General Packet Radio Service (GPRS); Base Station
System (BSS) - Serving GPRS Support Node (SGSN); BSS GPRS Protocol (BSSGP)\".
[35] 3GPP TS 23.060: \"General Packet Radio Service (GPRS); Service
description; Stage 2\".
[36] 3GPP TS 32.295: \"Charging management; Charging Data Record (CDR)
transfer\".
[37] 3GPP TS 23.246: \"Multimedia Broadcast Multicast Service (MBMS);
Architecture and functional description\".
[38] 3GPP TS 29.061: \"Interworking beween the Public Land Mobile Network
(PLMN) supporting Packet Based Services and Packet Data Networks (PDN) \".
[39] IETF RFC 3588: \"Diameter Base Protocol \".
[40] IETF RFC 4607: \"Source-Specific Multicast for IP\".
[41] 3GPP TS 29.002: \"Mobile Application Part (MAP) specification\".
[42] 3GPP TS 29.010: \"Information element mapping between Mobile Station -
Base Station System and BSS ‑ Mobile-services Switching Centre (MS - BSS -
MSC) Signalling procedures and the Mobile Application Part (MAP)\".
[43] 3GPP TS 23.216: \"Single Radio Voice Call Continuity (SRVCC); Stage 2\".
[44] 3GPP TS 32.423: \" Telecommunication management; Subscriber and equipment
trace: Trace data definition and management\".
[45] 3GPP TS 23.292: \"IP Multimedia Subsystem (IMS) centralized services\".
[46] Void
[47] Void
[48] Void
[49] Void
[50] Void
[51] Void
[52] Void
[53] Void
[54] Void
[55] Void
[56] Void
[57] Void
[58] Void
[59] Void
[60] Void
[61] 3GPP TS 23.380: \"IMS Restoration Procedures\".
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
TR 21.905 [1] and the following apply. A term defined in the present document
takes precedence over the definition of the same term, if any, in TR 21.905
[1].
**GTP-PDU:** GTP Protocol Data Unit is either a GTP-C Message or a GTP-U
Message. GTP-U Message may be either a signalling message across the user
plane tunnel, or a G-PDU (see clause 6).
  * **Signalling Message** : any GTP-PDU (GTP-C or GTP-U) except the G-PDU.
  * **G-PDU:** GTP user plane message, which carries the original packet (payload). G-PDU consists of GTP-U header and a T-PDU.
  * **T-PDU:** original packet, for example an IP datagram, from an UE or a network node in an external packet data network. A T-PDU is the payload that is tunnelled in the GTP-U tunnel.
  * **GTP-C Message:** GTP control plane message type of a GTP-PDU. GTP-C message consists of GTP-C header, which is followed by zero or more information elements.
  * **GTP-U Message:** GTP user plane message. The user plane messages are used to carry user data packets, and also signalling messages e.g. for path management and error indication. Therefore, GTP-U message consists of GTP-U header, which is followed by either a T-PDU, or zero or more information elements.
**GTP Tunnel:** A GTP tunnel is a communication tunnel between two GTP nodes
(see subclause 4.1 \"GTP Tunnel\").
**Tunnel Endpoint:** A tunnel endpoint is identified with a TEID, an IP
address and a UDP port number (see subclause 4.1 \"GTP Tunnel\").
**Tunnel Endpoint Identifier (TEID):** unambiguously identifies a tunnel
endpoint in scope of a path (see subclause 4.1 \"GTP Tunnel\").
## 3.2 Symbols
For the purposes of the present document, the following symbols apply:
S1-U Interface between SGW and eNodeB
X2 Interface between eNodeBs
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1] and the following apply. An abbreviation defined in the present document
takes precedence over the definition of the same abbreviation, if any, in TR
21.905 [1].
AMBR Aggregate Maximum Bit Rate
APN Access Point Name
APN-NI Access Point Name Network Identifier
APN-OI Access Point Name Operator Identifier
C-MSISDN Correlation MSISDN
EBI EPS Bearer ID
eNodeB Evolved Node B
EPC Evolved Packet Core
EPS Evolved Packet System
F-TEID Fully Qualified Tunnel Endpoint Identifier
G-PDU GTP-U non-signalling PDU
GPRS General Packet Radio Service
GTP GPRS Tunnelling Protocol
GTP-PDU GTP-C PDU or GTP-U PDU
GTPv2-C GTP version 2, control plane
GTPv2-U GTP version 2, user plane
IMSI International Mobile Subscriber Identity
IP Internet Protocol
LBI Linked Bearer identity
L1 Layer 1
L2 Layer 2
MBMS Multimedia Broadcast/Multicast Service
MEI Mobile Equipment Identity
MSISDN Mobile Subscriber ISDN Number
PAA PDN Address Allocation
PCO Protocol Configuration Options
PDU Protocol Data Unit
PDN Packet Data Network or Public Data Network
PGW PDN Gateway
PTI Procedure Transaction Id
QoS Quality of Service
RAT Radio Access Type
RIM RAN Information Management
SGW Serving Gateway
STN-SR Session Transfer Number for SRVCC
TEID Tunnel Endpoint Identifier
TEID-C Tunnel Endpoint Identifier, control plane
TEID-U Tunnel Endpoint Identifier, user plane
TFT Traffic Flow Template
TLIV Type Length Instance Value
UDP User Datagram Protocol
ULI User Location Information
# 4 General
## 4.1 GTP Tunnel
GTP tunnels are used between two nodes communicating over a GTP based
interface, to separate traffic into different communication flows.
A GTP tunnel is identified in each node with a TEID, an IP address and a UDP
port number. The receiving end side of a GTP tunnel locally assigns the TEID
value the transmitting side has to use. The TEID values are exchanged between
tunnel endpoints using GTP-C or S1-MME messages.
The criteria defining when the same or different GTP tunnels shall be used
between the two nodes differs between the control and the user plane, and also
between interfaces.
For the control plane, for each end-point of a GTP-C tunnel:
\- The TEID-C shall be unique per PDN-Connection on GTP based S5 and S8
interfaces. The same tunnel shall be shared for the control messages related
to all bearers associated to the PDN-Connection. A TEID-C on the S5/S8
interface shall be released after all its associated EPS bearers are deleted.
\- There shall be only one pair of TEID-Cs per UE on each of the S3, S10 and
the S16 interfaces. The same tunnel shall be shared for the control messages
related to the same UE operation. A TEID-C on the S3/S10/S16 interface shall
be released after its associated UE context is removed or the UE is detached.
\- There shall be only one pair of TEID-C per UE over the S11 and the S4
interfaces. The same tunnel shall be shared for the control messages related
to the same UE operation. A TEID-C on the S11/S4 interface shall be released
after all its associated EPS bearers are deleted.
\- There shall be only one pair of TEID-C per MBMS Bearer Service (i.e. per
TMGI and, if provided, MBMS Flow Identifier) over the Sm and Sn interfaces
respectively. The same tunnel shall be shared for the control messages related
to the same MBMS Bearer Service. A TEID-C on the Sm/Sn interface shall be
released after the MBMS Bearer Session is stopped.
For GTP-U, a TEID-U is used according to 3GPP TS 29.281 [13].
NOTE: GTP-U is based on GTP version 1 (GTPv1).
## 4.2 Protocol stack
### 4.2.0 General
The protocol stack for GTPv2 shall be as depicted in Figure 4.2.0-1.
{width="6.275in" height="3.2729166666666667in"}
Figure 4.2.0-1: GTPv2 stack
The GTPv2 headers are specified in the respective clauses of this
specification.
The source and destination IP addresses and UDP ports used for each GTP-C
message depend on the role that the message plays in a message exchange. A
message can be an Initial message, or a Triggered message, or a Triggered
Reply message to Triggered message. An Initial message is sent to a peer GTP
entity with a sequence number chosen by the sending entity (see subclause
7.6). A Triggered message is sent in response to an Initial message. Triggered
Reply message may be sent in response to a Triggered message. See subclause
7.6 for the sequence number usage.
Typically, a Request message is an Initial message, but a Request message may
be a Triggered messages in certain procedures where they are triggered by an
Initial Command message. See subclause 4.2.5 for classification of the Initial
messages and their possible Triggered messages, as well as cases where there
are Triggered Reply messages to the Triggered messages.
Piggybacking is an optional feature. If the feature is supported, then the
piggybacking of the initial messages on triggered response messages for EUTRAN
Initial Attach and UE-requested PDN Connectivity procedures shall be
implemented as per Annex F of 3GPP TS 23.401 [3].When piggybacking is used, a
common IP header and a common UDP header shall be used for the triggered
response message and the piggybacked initial message as depicted in Figure
4.2.0-2. Immediately following the triggered response message is the
piggybacked initial message, following which no additional information shall
be present. The subclause 5.5 specifies the usage of piggybacking-specific
fields in the GTP-C header.
* * *
IP header UDP header Triggered response message (P=1) Piggybacked initial
message (P=0)
* * *
Figure 4.2.0-2: Packet Format for the Piggybacking of messages
### 4.2.1 UDP header and port numbers
#### 4.2.1.0 General
A User Datagram Protocol (UDP) compliant with IETF RFC 768 [7] shall be used.
#### 4.2.1.1 Initial Messages
The UDP Destination Port number for GTPv2 Initial messages shall be 2123\. It
is the registered port number for GTP-C.
The UDP Source Port for a GTPv2 Initial message is a locally allocated port
number at the sending GTP entity.
If GTPv2 and GTP\' v2 modules are using the same IP address for sending
messages, the implementation shall ensure that while some source port number
is used by GTPv2 messages, the same source port number shall not be used by
GTP\' v2 messages. Otherwise, the IP interface may have difficulty to
delivering a response message to the right protocol entity.
#### 4.2.1.2 Triggered Messages
The UDP Destination Port value of a GTPv2 Triggered message and for a
Triggered Reply message shall be the value of the UDP Source Port of the
corresponding message to which this GTPv2 entity is replying, except in the
case of the SGSN pool scenario.
The UDP Source Port of a GTPv2 Triggered message and for a Triggered Reply
message shall be the value from the UDP Destination Port of the corresponding
message to which this GTPv2 entity is replying, except in the case of the SGSN
pool scenario.
In the SGSN pool scenario, if the Identification Request or the Context
Request messages have been forwarded by another SGSN in the pool, the UDP
Destination Port for the Identification Response or the Context Response
message shall be determined in the following way. The value from the
information element \"UDP Source Port Number\", which was sent in the
corresponding forwarded request, shall be copied into the UDP Destination Port
field. The UDP Source Port for the Identification Response or the Context
Response message may be a locally allocated port number at the sending GTP
entity.
#### 4.2.1.3 Piggybacked Messages
A piggybacked initial message is carried as a concatenation after a triggered
response message and they share a common UDP header (see Figure 4.2.0-2).
The UDP Destination port for the IP packet containing both the triggered
response message and the piggybacked initial message shall be the same as the
port number used for the triggered response message.\ \ The UDP Source port
for the IP packet containing both the triggered response message and the
piggybacked initial message shall be the same as the port number used for the
triggered response message.
### 4.2.2 IP header and IP addresses
#### 4.2.2.1 Initial Messages
The IP Destination Address of a GTPv2 Initial message shall be an IP address
of the destination GTPv2 entity.
The IP Source Address of a GTPv2 Initial message shall be an IP address of the
source GTPv2 entity from which the Initial message is originating.
#### 4.2.2.2 Triggered Messages
The IP Destination Address of a GTPv2 Triggered message and for a Triggered
Reply message shall be copied from the IP Source Address of the message to
which this GTPv2 entity is replying, except in the case of the SGSN pool
scenario.
The IP Source Address of a GTPv2 Triggered message and for a Triggered Reply
message shall be copied from the IP destination address of the message to
which this GTPv2 entity is replying, except in the case of SGSN pool scenario.
In the SGSN pool scenario, if the Identification Request or the Context
Request messages have been forwarded by another SGSN in the pool, the IP
Source address for the Identification Response or the Context Response
messages shall be locally allocated by the sending GTP entity. The IP
Destination Address for the Identification Response or Context Response
messages shall be determined in the following way. The value from the
information element \"Address for Control Plane\", which was sent in the
corresponding Identification Request message; or the value from the
information element \"S3/S16/S10 Address and TEID for Control Plane\", which
was sent in the corresponding Context Request message, shall be copied into
the IP Destination Address field.
#### 4.2.2.3 Piggybacked Messages
A piggybacked initial message is carried as a concatenation after a triggered
response message and they share a common IP header (see Figure 4.2.0-2).
The IP Source Address for the IP packet containing both the triggered response
message and the piggybacked initial message shall be the same as the IP
Address used for the triggered response message.
The IP Destination Address for the IP packet containing both the triggered
response message and the piggybacked initial message shall be the same as the
IP Address used for the triggered response message.
### 4.2.3 Layer 2
Typically Ethernet should be used as a Layer 2 protocol, but operators may use
any other technology.
### 4.2.4 Layer 1
Operators may use any appropriate Layer 1 technology.
### 4.2.5 Messages with GTPv2 defined replies: Classification of Initial and
Triggered Messages
NOTE1: Other clauses of this specification and Stage 2 documents define in
detail when a reply message is expected in an end-to-end procedure. Reply
messages are triggered messages.
The expected reply to a Request message is a Triggered message and the reply
has the same message name as the Request but with \"Response\" replacing
\"Request\". If a Request message is a reply to a Command message, then the
Request message is a Triggered message; otherwise the Request message is an
Initial message. Responses do not have replies except when a \"Context
Acknowledge\" is required as a reply to \"Context Response\" message as
specified in relevant Stage 2 procedures. Context Acknowledge is always
triggered message and does not have a reply.
NOTE2: The \"Context Acknowledge\" message is sent only if the \"Context
Response\" message is received with the acceptance cause.
A message whose name ends in \"Command\" is always an initial message. If a
\"Command\" message fails, the name of the reply message is constructed by
replacing \"Command\" with \"Failure Indication\". Apart from \"Downlink Data
Notification Failure Indication\" message, a \"Failure Indication\" is a
Triggered message. The \"Failure Indication\" message does not have a reply.
If a \"Command\" message is successful, its reply will be a Request as
specified in relevant Stage 2 procedures.
A message whose name ends in \"Notification\" is always an Initial message,
The expected Triggered message in reply has the same message name but with
\"Acknowledge\" replacing \"Notification\", except for the case of the message
\"Downlink Data Notification\" which has the reply \"Downlink Data
Notification Acknowledge\". An \"Acknowledge\" message does not have a reply.
CS Paging Indication, Stop Paging Indication, RAN Information Relay,
Configuration Transfer Tunnel, Trace Session Activation, Trace Session
Deactivation, and Downlink Data Notification Failure Indication messages are
Initial messages that do not have a reply.
A Version Not Supported Indication message is a Triggered message.
## 4.3 Transmission Order and Bit Definitions
The messages in this document shall be transmitted in network octet order
starting with octet 1 with the Most Significant Bit sent first.
The most significant bit of an octet in a GTP message is bit 8. If a value in
a GTP message spans several octets and nothing else is stated, the most
significant bit is bit 8 of the octet with the lowest number.
# 5 GTP Header for Control Plane
## 5.1 General format
Control Plane GTP uses a variable length header. Control Plane GTP header
length shall be a multiple of 4 octets. Figure 5.1-1 illustrates the format of
the GTPv2-C Header.
* * *
                   Bits
Octets 8 7 6 5 4 3 2 1 1 Version P T Spare Spare Spare  
2 Message Type  
3 Message Length (1^st^ Octet)  
4 Message Length (2^nd^ Octet)  
m to k(m+3) If T flag is set to 1, then TEID shall be placed into octets 5-8.
Otherwise, TEID field is not present at all.  
n to (n+2) Sequence Number  
(n+3) Spare
* * *
Figure 5.1-1: General format of GTPv2 Header for Control Plane
Where:
\- if T = 0, TEID field is not present, k = 0, m = 0 and n = 5;
\- if T = 1, TEID field is present, k = 1, m = 5 and n = 9.
The usage of GTPv2-C header across the EPC specific interfaces is defined in
the subclause 5.5 \"Usage of the GTPv2-C Header\". Octet 1 bits shall be coded
as follows:
\- Bits 6-8 represent the Version field.
\- Bit 5 represents the Piggybacking flag (P).
\- Bit 4 represents the TEID flag (T).
\- Bits 3-1 are spare, the sender shall set them to \"0\" and the receiving
entity shall ignore them.
## 5.2 Control Plane GTP Extension Header
The legacy Extension Header mechanism is not used for the GTP version 2
control plane (GTPv2-C). Future extensions will be implemented by adding
Information Elements in the message body if new parameters are needed.
## 5.3 GTP-C header for Echo and Version Not Supported messages
The GTPv2-C message header for the Echo Request, Echo Response and Version Not
Supported Indication messages shall not contain the TEID field, but shall
contain the Sequence Number fields, followed by one spare octet as depicted in
figure 5.3-1. The spare bits shall be set to zero by the sender and ignored by
the receiver.
* * *
              Bits
Octets 8 7 6 5 4 3 2 1 1 Version P T=0 Spare Spare Spare  
2 Message Type  
3 Message Length (1^st^ Octet)  
4 Message Length (2^nd^ Octet)  
5 Sequence Number (1^st^ Octet)  
6 Sequence Number (2^nd^ Octet)  
7 Sequence Number (3^rd^ Octet)  
8 Spare
* * *
Figure 5.3-1: The format of Echo and Version Not Supported messages Header
## 5.4 EPC specific GTP-C header
Apart from the Echo Request, Echo Response and Version Not Supported
Indication messages, the GTP-C message header shall contain the TEID and
Sequence Number fields followed by one spare octet. A typical GTP-C header is
depicted in figure 5.4-1. The spare bits shall be set to zero by the sender
and ignored by the receiver.
* * *
              Bits
Octets 8 7 6 5 4 3 2 1 1 Version P T=1 Spare Spare Spare  
2 Message Type  
3 Message Length (1^st^ Octet)  
4 Message Length (2^nd^ Octet)  
5 Tunnel Endpoint Identifier (1^st^ Octet)  
6 Tunnel Endpoint Identifier (2^nd^ Octet)  
7 Tunnel Endpoint Identifier (3^rd^ Octet)  
8 Tunnel Endpoint Identifier (4^th^ Octet)  
9 Sequence Number (1^st^ Octet)  
10 Sequence Number (2^nd^ Octet)  
11 Sequence Number (3^rd^ Octet)  
12 Spare
* * *
Figure 5.4-1: The format of EPC specific GTPv2 Control Plane message Header
## 5.5 Usage of the GTPv2-C Header
The format of the GTPv2-C header is specified in subclause 5.1 \"General
format\". The usage of the GTP-C header across e.g. S101 (3GPP TS 29.276 [14])
and Sv (3GPP TS 29.280 [15]) interfaces are defined in their respective
specifications.
The usage of the GTPv2-C header for EPC specific interfaces shall be as
defined below.
The first octet of the header shall be used is the following way:
  * Bits 8 to 6, which represent the GTP-C version, shall be set to decimal 2 (\"010\").
  * Bit 5 represents a \"P\" flag. If the \"P\" flag is set to \"0\", no piggybacked message shall be present. If the \"P\" flag is set to \"1\", then another GTPv2-C message with its own header and body shall be present at the end of the current message.
> When present, a piggybacked message shall have its \"P\" flag set to \"0\"
> in its own header. If Create Session Response message (as part of EUTRAN
> initial attach or UE-requested PDN connectivity procedure) has the \"P\"
> flag set to \"1\", then a Create Bearer Request message shall be present as
> the piggybacked message. As a response to the Create Bearer Request message,
> if the Create Bearer Response has the \"P\" flag set to \"1\", then a Modify
> Bearer Request (as part of EUTRAN initial attach or UE-requested PDN
> connectivity procedure) shall be present as the piggybacked message. A
> Create Bearer Response with \"P\" flag set to \"1\" shall not be sent unless
> a Create Session Response with \"P\" flag set to \"1\" has been received for
> the same procedure. Apart from Create Session Response and Create Bearer
> Response messages, all the EPC specific messages shall have the \"P\" flag
> set to \"0\".
\- Bit 4 represents a \"T\" flag, which indicates if TEID field is present in
the GTP-C header or not. If the \"T\" flag is set to 0, then the TEID field
shall not be present in the GTP-C header. If the \"T\" flag is set to 1, then
the TEID field shall immediately follow the Length field, in octets 5 to 8.
Apart from the Echo Request, Echo Response and Version Not Supported
Indication messages, in all EPC specific messages the value of the \"T\" flag
shall be set to \"1\".
\- Bit 3 is a spare bit. The sending entity shall set it to \"0\" and the
receiving entity shall ignore it.
\- Bit 2 is a spare bit. The sending entity shall set it to \"0\" and the
receiving entity shall ignore it.
\- Bit 1 is a spare bit. The sending entity shall set it to \"0\" and the
receiving entity shall ignore it.
The usage of the fields in octets 2 - n of the header shall be as specified
below.
\- Octet 2 represents the Message type field, which shall be set to the unique
value for each type of control plane message. Message type values are
specified in Table 6.1-1 \"Message types for GTPv2\".
\- Octets 3 to 4 represent the Length field. This field shall indicate the
length of the message in octets excluding the mandatory part of the GTP-C
header (the first 4 octets). The TEID (if present) and the Sequence Number
shall be included in the length count. The format of the Length field is
specified in subclause 8.2 \"Information Element Format\".
\- A piggybacked initial message and the preceeding triggered response message
present in the common IP/UDP packet shall have their own length and sequence
number in their respective GTP-C headers. The overall length of the IP/UDP
packet shall indicate the total length of the two GTP-C messages.
\- For EPC specific interfaces, T=1, and therefore octets 5 to 8 represent the
Tunnel Endpoint Identifier (TEID) field. This field shall unambiguously
identify a tunnel endpoint in the receiving GTP-C entity. The Tunnel Endpoint
Identifier is set by the sending entity to the value provided by the
corresponding receiving entity. When a peer\'s TEID is not available, as in
the following cases, the TEID field shall be present in a GTPv2-C header, but
its value shall be set to \"0\":
\- Create Session Request message on S5/S8
\- Create Session Request message on S4/S11, if for a given UE, the SGSN/MME
has not yet obtained the Control TEID of the SGW.
\- Create Indirect Data Forwarding Tunnel Request message on S4/S11, if the
SGW selected by the MME/S4-SGSN for indirect data forwarding is different from
the SGW used as anchor.
\- Identification Request/Response messages.
\- Forward Relocation Request message.
\- Context Request message.
\- Relocation Cancel Request message except for the case where the old
SGSN/MME has already been assigned the Tunnel Endpoint Identifier Control
Plane of the new SGSN/MME.
\- Delete PDN Connection Set Request/Response messages.
\- Configuration Transfer Tunnel message.
\- RAN Information Relay message.
\- If a node receives a message for which it has no context, it shall respond
with \"Context not found\" Cause in the corresponding response message to the
sender. The TEID used in the GTPv2-C header in the response message shall be
set to zero.
\- MBMS Session Start Request message.
\- Suspend Notification and Suspend Acknowledge messages: over S16 interface;
over S3 interface when ISR is not active.
NOTE: The Change Notification Request/Response messages are also sent on the
TEID zero. These messages are not listed in the procedures above because the
peer's node TEID is available.
\- Octets 9 to 11 represent GTP Sequence Number field.
## 5.6 Format of the GTPv2-C Message
The GTP-C header may be followed by subsequent information elements dependent
on the type of control plane message.
* * *
                Bits                                                              
     Octets     8                                     7   6   5   4   3   2   1   
     1 to m     GTP-C header                                                      
     m+1 to n   Zero or more Information Element(s)
* * *
Figure 5.6-1: GTP-C Header followed by subsequent Information Elements
# 6 GTP-C Message Types and Message Formats
A GTP-C message is sent across a GTP control plane tunnel. In a message, the
GTP-C header is followed by zero or more information elements. The GTP-C
messages are used for the control plane path management, for the control plane
tunnel management and for mobility management.
A T-PDU is an original packet, for example an IP datagram, from an UE, or from
a network node in an external packet data network.
## 6.1 Message Format and Type values
GTP defines a set of messages between two associated EPC network elements. The
messages to be used shall be as defined in Table 6.1-1.
Table 6.1-1: Message types for GTPv2
+-----------------+-----------------+-----------------+-------+-------+ | Message Type | Message | Reference | GTP-C | GTP-U | | value (Decimal) | | | | | +-----------------+-----------------+-----------------+-------+-------+ | 0 | Reserved | | | | +-----------------+-----------------+-----------------+-------+-------+ | 1 | Echo Request | | X | X | +-----------------+-----------------+-----------------+-------+-------+ | 2 | Echo Response | | X | X | +-----------------+-----------------+-----------------+-------+-------+ | 3 | Version Not | | X | | | | Supported | | | | | | Indication | | | | +-----------------+-----------------+-----------------+-------+-------+ | 4 to 24 | Reserved for | TS 29.276 | | | | | S101 interface | [14] | | | +-----------------+-----------------+-----------------+-------+-------+ | 25 to 31 | Reserved for Sv | TS 29.280 | | | | | interface | [15] | | | +-----------------+-----------------+-----------------+-------+-------+ | | **SGSN/MME to | | | | | | PGW (S4/S11, | | | | | | S5/S8)** | | | | +-----------------+-----------------+-----------------+-------+-------+ | 32 | Create Session | | X | | | | Request | | | | +-----------------+-----------------+-----------------+-------+-------+ | 33 | Create Session | | X | | | | Response | | | | +-----------------+-----------------+-----------------+-------+-------+ | 34 | Modify Bearer | | X | | | | Request | | | | +-----------------+-----------------+-----------------+-------+-------+ | 35 | Modify Bearer | | X | | | | Response | | | | +-----------------+-----------------+-----------------+-------+-------+ | 36 | Delete Session | | X | | | | Request | | | | +-----------------+-----------------+-----------------+-------+-------+ | 37 | Delete Session | | X | | | | Response | | | | +-----------------+-----------------+-----------------+-------+-------+ | 38 | Change | | X | | | | Notification | | | | | | Request | | | | +-----------------+-----------------+-----------------+-------+-------+ | 39 | Change | | X | | | | Notification | | | | | | Response | | | | +-----------------+-----------------+-----------------+-------+-------+ | 40 to 63 | For future use | | | | +-----------------+-----------------+-----------------+-------+-------+ | 164 | Resume | | X | | | | Notification | | | | +-----------------+-----------------+-----------------+-------+-------+ | 165 | Resume | | X | | | | Acknowledge | | | | +-----------------+-----------------+-----------------+-------+-------+ | | **Messages | | | | | | without | | | | | | explicit | | | | | | response** | | | | +-----------------+-----------------+-----------------+-------+-------+ | 64 | Modify Bearer | | X | | | | Command | | | | | | | | | | | | (MME/SGSN to | | | | | | PGW -- S11/S4, | | | | | | S5/S8) | | | | +-----------------+-----------------+-----------------+-------+-------+ | 65 | Modify Bearer | | X | | | | Failure | | | | | | Indication | | | | | | | | | | | | (PGW to | | | | | | MME/SGSN -- | | | | | | S5/S8, S11/S4) | | | | +-----------------+-----------------+-----------------+-------+-------+ | 66 | Delete Bearer | | X | | | | Command | | | | | | | | | | | | (MME/SGSN to | | | | | | PGW -- S11/S4, | | | | | | S5/S8) | | | | +-----------------+-----------------+-----------------+-------+-------+ | 67 | Delete Bearer | | X | | | | Failure | | | | | | Indication | | | | | | | | | | | | (PGW to | | | | | | MME/SGSN -- | | | | | | S5/S8, S11/S4)) | | | | +-----------------+-----------------+-----------------+-------+-------+ | 68 | Bearer Resource | | X | | | | Command | | | | | | | | | | | | (MME/SGSN to | | | | | | PGW -- S11/S4, | | | | | | S5/S8) | | | | +-----------------+-----------------+-----------------+-------+-------+ | 69 | Bearer Resource | | X | | | | Failure | | | | | | Indication | | | | | | | | | | | | (PGW to | | | | | | MME/SGSN -- | | | | | | S5/S8, S11/S4) | | | | +-----------------+-----------------+-----------------+-------+-------+ | 70 | Downlink Data | | X | | | | Notification | | | | | | Failure | | | | | | Indication | | | | | | | | | | | | (**SGSN/** MME | | | | | | to SGW -- | | | | | | S4/S11) | | | | +-----------------+-----------------+-----------------+-------+-------+ | 71 | Trace Session | | X | | | | Activation | | | | +-----------------+-----------------+-----------------+-------+-------+ | 72 | Trace Session | | X | | | | Deactivation | | | | +-----------------+-----------------+-----------------+-------+-------+ | 73 | Stop Paging | | X | | | | Indication | | | | +-----------------+-----------------+-----------------+-------+-------+ | 74 to 94 | For future use | | | | +-----------------+-----------------+-----------------+-------+-------+ | | **PGW to | | | | | | SGSN/MME | | | | | | (S5/S8, | | | | | | S4/S11)** | | | | +-----------------+-----------------+-----------------+-------+-------+ | 95 | Create Bearer | | X | | | | Request | | | | +-----------------+-----------------+-----------------+-------+-------+ | 96 | Create Bearer | | X | | | | Response | | | | +-----------------+-----------------+-----------------+-------+-------+ | 97 | Update Bearer | | X | | | | Request | | | | +-----------------+-----------------+-----------------+-------+-------+ | 98 | Update Bearer | | X | | | | Response | | | | +-----------------+-----------------+-----------------+-------+-------+ | 99 | Delete Bearer | | X | | | | Request | | | | +-----------------+-----------------+-----------------+-------+-------+ | 100 | Delete Bearer | | X | | | | Response | | | | +-----------------+-----------------+-----------------+-------+-------+ | | **PGW to MME, | | | | | | MME to PGW, SGW | | | | | | to PGW, SGW to | | | | | | MME (S5/S8, | | | | | | S11)** | | | | +-----------------+-----------------+-----------------+-------+-------+ | 101 | Delete PDN | | X | | | | Connection Set | | | | | | Request | | | | +-----------------+-----------------+-----------------+-------+-------+ | 102 | Delete PDN | | X | | | | Connection Set | | | | | | Response | | | | +-----------------+-----------------+-----------------+-------+-------+ | 103 to 127 | For future use | | | | +-----------------+-----------------+-----------------+-------+-------+ | | **MME to MME, | | | | | | SGSN to MME, | | | | | | MME to SGSN, | | | | | | SGSN to SGSN | | | | | | (S3/S10/S16)** | | | | +-----------------+-----------------+-----------------+-------+-------+ | 128 | Identification | | X | | | | Request | | | | +-----------------+-----------------+-----------------+-------+-------+ | 129 | Identification | | X | | | | Response | | | | +-----------------+-----------------+-----------------+-------+-------+ | 130 | Context Request | | X | | +-----------------+-----------------+-----------------+-------+-------+ | 131 | Context | | X | | | | Response | | | | +-----------------+-----------------+-----------------+-------+-------+ | 132 | Context | | X | | | | Acknowledge | | | | +-----------------+-----------------+-----------------+-------+-------+ | 133 | Forward | | X | | | | Relocation | | | | | | Request | | | | +-----------------+-----------------+-----------------+-------+-------+ | 134 | Forward | | X | | | | Relocation | | | | | | Response | | | | +-----------------+-----------------+-----------------+-------+-------+ | 135 | Forward | | X | | | | Relocation | | | | | | Complete | | | | | | Notification | | | | +-----------------+-----------------+-----------------+-------+-------+ | 136 | Forward | | X | | | | Relocation | | | | | | Complete | | | | | | Acknowledge | | | | +-----------------+-----------------+-----------------+-------+-------+ | 137 | Forward Access | | X | | | | Context | | | | | | Notification | | | | +-----------------+-----------------+-----------------+-------+-------+ | 138 | Forward Access | | X | | | | Context | | | | | | Acknowledge | | | | +-----------------+-----------------+-----------------+-------+-------+ | 139 | Relocation | | X | | | | Cancel Request | | | | +-----------------+-----------------+-----------------+-------+-------+ | 140 | Relocation | | X | | | | Cancel Response | | | | +-----------------+-----------------+-----------------+-------+-------+ | 141 | Configuration | | X | | | | Transfer Tunnel | | | | +-----------------+-----------------+-----------------+-------+-------+ | 142 to 148 | For future use | | | | +-----------------+-----------------+-----------------+-------+-------+ | 152 | RAN Information | | X | | | | Relay | | | | +-----------------+-----------------+-----------------+-------+-------+ | | **SGSN to MME, | | | | | | MME to SGSN | | | | | | (S3)** | | | | +-----------------+-----------------+-----------------+-------+-------+ | 149 | Detach | | X | | | | Notification | | | | +-----------------+-----------------+-----------------+-------+-------+ | 150 | Detach | | X | | | | Acknowledge | | | | +-----------------+-----------------+-----------------+-------+-------+ | 151 | CS Paging | | X | | | | Indication | | | | +-----------------+-----------------+-----------------+-------+-------+ | 153 | Alert MME | | X | | | | Notification | | | | +-----------------+-----------------+-----------------+-------+-------+ | 154 | Alert MME | | X | | | | Acknowledge | | | | +-----------------+-----------------+-----------------+-------+-------+ | 155 | UE Activity | | X | | | | Notification | | | | +-----------------+-----------------+-----------------+-------+-------+ | 156 | UE Activity | | X | | | | Acknowledge | | | | +-----------------+-----------------+-----------------+-------+-------+ | 157 to 159 | For future use | | | | +-----------------+-----------------+-----------------+-------+-------+ | | **SGSN/MME to | | | | | | SGW, SGSN to | | | | | | MME | | | | | | (S4/S11/S3)** | | | | | | | | | | | | **SGSN to SGSN | | | | | | (S16), SGW to | | | | | | PGW (S5/S8)** | | | | +-----------------+-----------------+-----------------+-------+-------+ | 162 | Suspend | | X | | | | Notification | | | | +-----------------+-----------------+-----------------+-------+-------+ | 163 | Suspend | | X | | | | Acknowledge | | | | +-----------------+-----------------+-----------------+-------+-------+ | | **SGSN/MME to | | | | | | SGW (S4/S11)** | | | | +-----------------+-----------------+-----------------+-------+-------+ | 160 | Create | | X | | | | Forwarding | | | | | | Tunnel Request | | | | +-----------------+-----------------+-----------------+-------+-------+ | 161 | Create | | X | | | | Forwarding | | | | | | Tunnel Response | | | | +-----------------+-----------------+-----------------+-------+-------+ | 166 | Create Indirect | | X | | | | Data Forwarding | | | | | | Tunnel Request | | | | +-----------------+-----------------+-----------------+-------+-------+ | 167 | Create Indirect | | X | | | | Data Forwarding | | | | | | Tunnel Response | | | | +-----------------+-----------------+-----------------+-------+-------+ | 168 | Delete Indirect | | X | | | | Data Forwarding | | | | | | Tunnel Request | | | | +-----------------+-----------------+-----------------+-------+-------+ | 169 | Delete Indirect | | X | | | | Data Forwarding | | | | | | Tunnel Response | | | | +-----------------+-----------------+-----------------+-------+-------+ | 170 | Release Access | | X | | | | Bearers Request | | | | +-----------------+-----------------+-----------------+-------+-------+ | 171 | Release Access | | X | | | | Bearers | | | | | | Response | | | | +-----------------+-----------------+-----------------+-------+-------+ | 172 to 175 | For future use | | | | +-----------------+-----------------+-----------------+-------+-------+ | | **SGW to | | | | | | SGSN/MME | | | | | | (S4/S11)** | | | | +-----------------+-----------------+-----------------+-------+-------+ | 176 | Downlink Data | | X | | | | Notification | | | | +-----------------+-----------------+-----------------+-------+-------+ | 177 | Downlink Data | | X | | | | Notification | | | | | | Acknowledge | | | | +-----------------+-----------------+-----------------+-------+-------+ | | **SGW to SGSN | | | | | | (S4)** | | | | +-----------------+-----------------+-----------------+-------+-------+ | 178 | Reserved. | | | | | | Allocated in | | | | | | earlier version | | | | | | of the | | | | | | specification. | | | | +-----------------+-----------------+-----------------+-------+-------+ | 179 to 199 | For future use | | | | +-----------------+-----------------+-----------------+-------+-------+ | | **SGW to PGW, | | | | | | PGW to SGW | | | | | | (S5/S8)** | | | | +-----------------+-----------------+-----------------+-------+-------+ | 200 | Update PDN | | X | | | | Connection Set | | | | | | Request | | | | +-----------------+-----------------+-----------------+-------+-------+ | 201 | Update PDN | | X | | | | Connection Set | | | | | | Response | | | | +-----------------+-----------------+-----------------+-------+-------+ | 202 to 230 | For future use | | | | +-----------------+-----------------+-----------------+-------+-------+ | | **MBMS GW to | | | | | | MME/SGSN | | | | | | (Sm/Sn)** | | | | +-----------------+-----------------+-----------------+-------+-------+ | 231 | MBMS Session | | X | | | | Start Request | | | | +-----------------+-----------------+-----------------+-------+-------+ | 232 | MBMS Session | | X | | | | Start Response | | | | +-----------------+-----------------+-----------------+-------+-------+ | 233 | MBMS Session | | X | | | | Update Request | | | | +-----------------+-----------------+-----------------+-------+-------+ | 234 | MBMS Session | | X | | | | Update Response | | | | +-----------------+-----------------+-----------------+-------+-------+ | 235 | MBMS Session | | X | | | | Stop Request | | | | +-----------------+-----------------+-----------------+-------+-------+ | 236 | MBMS Session | | X | | | | Stop Response | | | | +-----------------+-----------------+-----------------+-------+-------+ | 237 to 239 | For future use | | | | +-----------------+-----------------+-----------------+-------+-------+ | | **Other** | | | | +-----------------+-----------------+-----------------+-------+-------+ | 240 to 255 | For future use | | | | +-----------------+-----------------+-----------------+-------+-------+
### 6.1.1 Presence requirements of Information Elements
There are four different presence requirements (Mandatory, Conditional,
Optional, or Conditional-Optional) for an IE within a given GTP-PDU:
\- Mandatory means that the IE shall be included by the sending side, and that
the receiver diagnoses a \"Mandatory IE missing\" error, when detecting that
the IE is not present. A response including a \"Mandatory IE missing\" cause,
shall include the type of the missing IE.
\- Conditional means:
\- that the IE shall be included by sending entity if the conditions specified
in the relevant protocol specification are met;
\- the receiver shall check the conditions as specified in the corresponding
message type description, based on the parameter combination in the message
and/or on the state of the receiving node, to infer if a conditional IE shall
be expected. Only if a receiver has sufficient information the following
applies. A conditional IE, which is absolutely necessary for the receiving
entity to complete the procedure, is missing, then the receiver shall abort
the procedure.
\- Conditional-Optional means:
\- that the IE shall be included by the up-to-date sending entity, if the
conditions specified in the relevant protocol specification are met. An
entity, which is at an earlier version of the protocol and therefore is not
up-to-date, obviously cannot send such new IE.
\- the receiver need not check the presence of the IE in the message. If the
receiver checks the presence of the Conditional-Optional IE, then the IE\'s
absence shall not trigger any of the error handling procedures. The handling
of an absence or erroneous such IEs shall be treated as Optional IEs as
specified in subclause 7.7 \"Error Handling\".
\- Optional means:
\- that the IE shall be included as a service option. Therefore, the IE may be
included or not in a message. The handling of an absent optional IE, or an
erroneous optional IE is specified in subclause 7.7 \"Error Handling\".
For conditional IEs, the clause describing the GTP-PDU explicitly defines the
conditions under which the inclusion of each IE becomes mandatory or optional
for that particular GTP-PDU. These conditions shall be defined so that the
presence of a conditional IE only becomes mandatory if it is critical for the
receiving entity. The definition might reference other protocol specifications
for final terms used as part of the condition.
For grouped IEs, the presence requirement of the embedded IE shall follow the
rules:
\- The grouped IE is Mandatory within a given message: the presence
requirements of individual embedded IEs are as stated within the Mandatory
grouped IE for the given message.
\- The grouped IE is Conditional within a given message: if the embedded IE in
the grouped IE is Mandatory or Conditional, this embedded IE is viewed as
Conditional IE by the receiver. If the embedded IE in the grouped IE is
Conditional-Optional, this embedded IE is viewed as Optional IE by the
receiver. If the embedded IE in the grouped IE is Optional, this embedded IE
is viewed as Optional IE by the receiver.
\- The grouped IE is Conditional-Optional within a given message: if the
embedded IE in the grouped IE is Mandatory or Conditional, this embedded IE is
viewed as Conditional-Optional IE by the receiver. If the embedded IE in the
grouped IE is Conditional-Optional, this embedded IE is viewed as Optional IE
by the receiver. If the embedded IE in the grouped IE is Optional, this
embedded IE is viewed as Optional IE by the receiver.
\- The grouped IE is Optional within a given message: all embedded IEs in the
grouped IE are viewed as Optional IEs by the receiver.
In all of the above cases, appropriate error handling as described in
subclause 7.7 shall be applied for protocol errors of the embedded IEs.
Only the Cause information element shall be included in the response if the
Cause contains a value that indicates that the request is not accepted.
Optionally, the Protocol Configuration Options, Recovery and Local
Distinguished Name (LDN) information elements may be included. For the
rejection response of a Forward Relocation Request, the Forward Relocation
Response message may also include an F-Cause IE as specified in clause 7.3.2.
Failure Indication type messages do not have \"Accept\" types of cause values,
therefore the proceeding rules do not apply. For Failure Indication type of
messages, some of the Mandatory information elements may not be included if
they are not available.
### 6.1.2 Grouped Information Elements
Information elements can contain other IEs. This type of IE is called
\"Grouped IEs\".
Grouped IEs have a length value in the TLIV encoding, which includes the added
length of all the embedded IEs. Overall coding of a grouped information
element with 4 octets long IE header is defined in subclause 8.2 \"Information
Element Format\". Each information element within a grouped IE also shall also
contain 4 octets long IE header.
Grouped IEs are not marked by any flag or limited to a specific range of IE
type values. The clause describing an IE in this specification shall
explicitly state if it is grouped.
NOTE 1: Each entry into each Grouped IE creates a new scope level. Exit from
the grouped IE closes the scope level. The GTPv2 message level is the top most
scope. This is analogous to the local scope of a subroutine/function.
If more than one grouped information elements of the same type, but for a
different purpose are sent with a message, these IEs shall have different
Instance values.
If more than one grouped information elements of the same type and for the
same purpose are sent with a message, these IEs shall have exactly the same
Instance value to represent a list.
NOTE 2: For instance, all \"Bearer Contexts Modified\" IEs of the type
\"Bearer Context\" in a \"Modify Bearer Response\" message shall have the
Instance value of 0, while all \"Bearer Contexts Marked for Removal\" IEs of
the type \"Bearer Context\" in the same message shall have the Instance value
of 1.
### 6.1.3 Information Element instance
Every GTPv2 message and grouped IE within a message in this specification has
a column documenting the instance value of each IE.
When a GTPv2 message is encoded for use the instance value of each included IE
is encoded in the Instance field of the IE for the message scope. See clause 7
and subclause 8.2 for details of that encoding.
An Information Element in an encoded GTPv2 message or encoded grouped IE is
identified by the pair of IE Type and Instance values and described by a
specific row in the corresponding tables in subclauses of 7 in the present
document.
If several Information Elements with the same Type and Instance values are
included in an encoded GTPv2 message, they represent a list for the
corresponding IE name and row identified in the message grammar in subclauses
of clause 7.
If several Information Elements with the same Type and Instance values are
included in an encoded grouped IE, they represent a list for the corresponding
IE name and row identified in the grouped IE grammar in subclauses of clause
7.
In tables in this document the instance value for \"Private Extension\" is
marked as VS (Vendor Specific). While an instance value must be encoded by the
sender the value can be Vendor and even Private Extension specific.
The same IE name might be used in different messages (on the top level or
within grouped IEs) in this specification. The instance value and name of an
IE is only meaningful within the scope of the message definition . The
combination of Type value and Instance value uniquely identifies a specific
row in a message description table.
## 6.2 Message Granularity
The GTPv2-C messages shall be sent per UE on the S3, S10 and S16 interfaces.
The GTPv2-C messages shall be sent per PDN-Connection on the S4, S11, S5 and
S8 interfaces apart from the following exclusion.
The following GTPv2-C messages are sent per UE on the S4 and S11 interfaces:
\- Downlink Data Notification / Acknowledge / Failure Indication.
\- Stop Paging Indication.
\- Delete Indirect Data Forwarding Tunnel Request/Response.
\- Delete Session Request during TAU/RAU/Handover/SRNS Relocation Cancel Using
S4/Inter RAT handover Cancel procedure with SGW change/S1 based handover
cancel procedure with SGW change.
\- Release Access Bearers Request/Response.
\- Create Indirect Data Forwarding Tunnel Request/Response.
\- Trace Session Activation.
\- Trace Session Deactivation.
\- Create Forwarding Tunnel Request/Response.
## 7 GTP-C messages
## 7.1 Path Management Messages
### 7.1.0 General
Three path management messages are specified for GTP-C: Echo Request, Echo
Response and Version Not Supported Indication.
The usage of Echo Request / Response procedure is specified in 3GPP TS 23.007
[17].
### 7.1.1 Echo Request
Table 7.1.1-1 specifies the information elements included in the Echo Request
message.
The Recovery information element contains the local Restart Counter, which is
specified in 3GPP TS 23.007 [17])
The optional Private Extension contains vendor or operator specific
information.
Table 7.1.1-1: Information Elements in Echo Request
* * *
Information elements P Condition / Comment IE Type Ins. Recovery M Recovery 0
Private Extension O Private Extension VS
* * *
### 7.1.2 Echo Response
Table 7.1.2-1 specifies the information elements included in the Echo Response
message.
The Recovery information element contains the local Restart Counter, which is
specified in 3GPP TS 23.007 [17])
The optional Private Extension contains vendor or operator specific
information.
Possible Cause values are:
  * \"System failure\"
  * \"Mandatory IE incorrect\"
  * \"Mandatory IE missing\"
  * \"Invalid Message format\"
Table 7.1.2-1: Information Elements in Echo Response
* * *
Information elements P Condition / Comment IE Type Ins. Recovery M Recovery 0
Cause O IE may be included if recovery IE in the Echo Request or the message
itself is malformed. Cause 0 Private Extension O Private Extension VS
* * *
NOTE: If the Cause value is not a successful value this does not indicate the
node sending the Echo Response is unable to accept GTPv2 messages.
### 7.1.3 Version Not Supported Indication
This message contains only the GTPv2 header and indicates the latest GTP
version that the sending entity supports.
## 7.2 Tunnel Management Messages
A node shall include the Recovery information element if it is in contact with
the peer for the first time or the node has restarted recently and the new
Restart Counter value has not yet been indicated to the peer. The peer
receiving the Recovery information element shall handle it as when an Echo
Response message is received but shall consider the rest of the message in
accordance with the message semantics and parameters.
### 7.2.1 Create Session Request
The direction of this message shall be from MME/S4-SGSN to SGW and from SGW to
PGW (see Table 6.1-1).
The Create Session Request message shall be sent on the S11 interface by the
MME to the SGW, and on the S5/S8 interface by the SGW to the PGW as part of
the procedures:
\- E-UTRAN Initial Attach
\- UE requested PDN connectivity
The message shall also be sent on S4 interface by the SGSN to the SGW, and on
the S5/S8 interface by the SGW to the PGW as part of the procedures:
\- PDP Context Activation
The message shall also be sent on the S11 interface by the MME to the SGW as
part of the procedures:
\- Tracking Area Update procedure with Serving GW change
\- S1/X2-based handover with SGW change
\- UTRAN Iu mode to E-UTRAN Inter RAT handover with SGW change
\- GERAN A/Gb mode to E-UTRAN Inter RAT handover with SGW change
\- 3G Gn/Gp SGSN to MME combined hard handover and SRNS relocation procedure
\- Gn/Gp SGSN to MME Tracking Area Update procedure
and on the S4 interface by the SGSN to the SGW as part of the procedures:
\- Routing Area Update with MME interaction and with SGW change
\- Gn/Gp SGSN to S4 SGSN Routing Area Update
\- Inter SGSN Routeing Area Update Procedure and Combined Inter SGSN RA / LA
Update using S4 with SGW change
\- Iu mode RA Update Procedure using S4 with SGW change
\- E-UTRAN to UTRAN Iu mode Inter RAT handover with SGW change
\- E-UTRAN to GERAN A/Gb mode Inter RAT handover with SGW change
\- Serving RNS relocation using S4 with SGW change
\- Combined hard handover and SRNS relocation using S4 with SGW change
\- Combined Cell / URA update and SRNS relocation using S4 with SGW change
\- Enhanced serving RNS relocation with SGW relocation
If the new Create Session Request message is received with TEID 0 in the
header for an existing active PDN connection context, this Create Session
Request message shall be treated as a request for a new session. The existing
PDN connection context should be deleted locally, before a new session is
created.
Table 7.2.1-1: Information Elements in a Create Session Request
+------------------+----+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+----+------------------+------------------+------+ | IMSI | C | The IMSI shall | IMSI | 0 | | | | be included in | | | | | | the message | | | | | | except for the | | | | | | case: | | | | | | | | | | | | - If the UE is | | | | | | emergency | | | | | | attached and the | | | | | | UE is UICCless. | | | | | | | | | | | | The IMSI shall | | | | | | be included in | | | | | | the message but | | | | | | not used as an | | | | | | identifier | | | | | | | | | | | | > \- if UE is | | | | | | > emergency | | | | | | > attached but | | | | | | > IMSI is not | | | | | | > authenticated. | | | +------------------+----+------------------+------------------+------+ | MSISDN | C | For an E-UTRAN | MSISDN | 0 | | | | Initial Attach | | | | | | the IE shall be | | | | | | included when | | | | | | used on the S11 | | | | | | interface, if | | | | | | provided in the | | | | | | subscription | | | | | | data from the | | | | | | HSS. | | | | | | | | | | | | For a PDP | | | | | | Context | | | | | | Activation | | | | | | procedure the IE | | | | | | shall be | | | | | | included when | | | | | | used on the S4 | | | | | | interface, if | | | | | | provided in the | | | | | | subscription | | | | | | data from the | | | | | | HSS. | | | | | | | | | | | | The IE shall be | | | | | | included for the | | | | | | case of a UE | | | | | | Requested PDN | | | | | | Connectivity, it | | | | | | shall be | | | | | | included if the | | | | | | MME has it | | | | | | stored for that | | | | | | UE. | | | | | | | | | | | | It shall be | | | | | | included when | | | | | | used on the | | | | | | S5/S8 interfaces | | | | | | if provided by | | | | | | the MME/SGSN. | | | +------------------+----+------------------+------------------+------+ | ME Identity | C | The MME shall | MEI | 0 | | (MEI) | | include the ME | | | | | | Identity (MEI) | | | | | | IE: | | | | | | | | | | | | - If the UE is | | | | | | emergency | | | | | | attached and the | | | | | | UE is UICCless | | | | | | | | | | | | - If the UE is | | | | | | emergency | | | | | | attached and the | | | | | | IMSI is not | | | | | | authenticated | | | | | | | | | | | | For all other | | | | | | cases the MME | | | | | | shall include | | | | | | the ME Identity | | | | | | (MEI) IE if it | | | | | | is available. | | | +------------------+----+------------------+------------------+------+ | User Location | C | This IE shall be | ULI | 0 | | Information | | included for | | | | (ULI) | | E-UTRAN Initial | | | | | | Attach and | | | | | | UE-requested PDN | | | | | | Connectivity | | | | | | procedures. It | | | | | | shall include | | | | | | ECGI&TAI. The | | | | | | MME/SGSN shall | | | | | | also include it | | | | | | for | | | | | | TAU/RAU/X2-H | | | | | | andover/Enhanced | | | | | | SRNS Relocation | | | | | | procedure if the | | | | | | PGW has | | | | | | requested | | | | | | location | | | | | | information | | | | | | change reporting | | | | | | and MME/SGSN | | | | | | support location | | | | | | information | | | | | | change | | | | | | reporting. The | | | | | | SGW shall | | | | | | include this IE | | | | | | on S5/S8 if it | | | | | | receives the ULI | | | | | | from MME/SGSN. | | | +------------------+----+------------------+------------------+------+ | | CO | This IE shall | | | | | | also be included | | | | | | on the S4 and | | | | | | S5/S8 interfaces | | | | | | for PDP Context | | | | | | Activation | | | | | | procedure. It | | | | | | shall include | | | | | | either the CGI | | | | | | or SAI or RAI, | | | | | | or CGI/SAI | | | | | | together with | | | | | | RAI. | | | +------------------+----+------------------+------------------+------+ | Serving Network | C | This IE shall be | Serving Network | 0 | | | | included on | | | | | | S4/S11 and S5/S8 | | | | | | interfaces for | | | | | | an E-UTRAN | | | | | | initial attach, | | | | | | a PDP Context | | | | | | Activation and | | | | | | for a UE | | | | | | requested PDN | | | | | | connectivity. | | | +------------------+----+------------------+------------------+------+ | | CO | This IE shall be | | | | | | included on | | | | | | S4/S11 for | | | | | | RAU/TAU/Handover | | | | | | with SGW | | | | | | relocation | | | | | | procedures. | | | +------------------+----+------------------+------------------+------+ | RAT Type | M | | RAT Type | 0 | +------------------+----+------------------+------------------+------+ | Indication Flags | C | This IE shall be | Indication | 0 | | | | included if any | | | | | | one of the | | | | | | applicable flags | | | | | | is set to 1. | | | | | | | | | | | | Applicable flags | | | | | | are: | | | | | | | | | | | | - S5/S8 | | | | | | Protocol | | | | | | Type: This | | | | | | flag shall | | | | | | be used on | | | | | | the S11/S4 | | | | | | interfaces | | | | | | and set | | | | | | according to | | | | | | the protocol | | | | | | chosen to be | | | | | | used on the | | | | | | S5/S8 | | | | | | interfaces. | | | | | | | | | | | | - Dual Address | | | | | | Bearer Flag: | | | | | | This flag | | | | | | shall be | | | | | | used on | | | | | | S11/S4 and | | | | | | S5/S8 and | | | | | | shall be set | | | | | | to 1 when | | | | | | the PDN | | | | | | Type, | | | | | | determined | | | | | | based on UE | | | | | | request and | | | | | | subscription | | | | | | record, is | | | | | | set to | | | | | | IPv4v6 and | | | | | | all SGSNs | | | | | | which the UE | | | | | | may be | | | | | | handed over | | | | | | to support | | | | | | dual | | | | | | addressing. | | | | | | This shall | | | | | | be | | | | | | determined | | | | | | based on | | | | | | node | | | | | | p | | | | | | re-configuration | | | | | | by the | | | | | | operator. | | | | | | | | | | | | - Handover | | | | | | Indication: | | | | | | If the UE | | | | | | comes from | | | | | | non-3GPP | | | | | | access, this | | | | | | flag shall | | | | | | be set in an | | | | | | E-UTRAN | | | | | | Initial | | | | | | Attach or in | | | | | | a UE | | | | | | Requested | | | | | | PDN | | | | | | | | | | | | Connectivity. | | | | | | | | | | | | - Operation | | | | | | Indication: | | | | | | This flag | | | | | | shall be set | | | | | | for a | | | | | | TAU/RAU | | | | | | procedure | | | | | | with SGW | | | | | | relocation, | | | | | | Enhanced | | | | | | SRNS | | | | | | Relocation | | | | | | with SGW | | | | | | relocation | | | | | | and X2-based | | | | | | handovers | | | | | | with SGW | | | | | | relocation. | | | | | | | | | | | | - Direct | | | | | | Tunnel Flag: | | | | | | This flag | | | | | | shall be | | | | | | used on the | | | | | | S4 interface | | | | | | and set to 1 | | | | | | if Direct | | | | | | Tunnel is | | | | | | used. | | | | | | | | | | | | - Piggybacking | | | | | | Supported: | | | | | | This flag | | | | | | shall be set | | | | | | to 1 only if | | | | | | the MME/ SGW | | | | | | supports the | | | | | | piggybacking | | | | | | feature as | | | | | | described in | | | | | | Annex F of | | | | | | 3GPP TS | | | | | | 23.401 | | | | | | [3]. This | | | | | | flag shall | | | | | | be set to 1 | | | | | | on S5/S8 | | | | | | only when | | | | | | both the MME | | | | | | and the SGW | | | | | | support | | | | | | | | | | | | piggybacking. | | | | | | | | | | | | - Change | | | | | | Reporting | | | | | | support | | | | | | Indication: | | | | | | shall be | | | | | | used on | | | | | | S4/S11, | | | | | | S5/S8 and | | | | | | set if the | | | | | | SGSN/MME | | | | | | supports | | | | | | location | | | | | | Info Change | | | | | | Reporting. | | | | | | See NOTE2. | | | | | | | | | | | | - CSG Change | | | | | | Reporting | | | | | | Support | | | | | | Indication: | | | | | | shall be | | | | | | used on | | | | | | S4/S11, | | | | | | S5/S8 and | | | | | | set if the | | | | | | SGSN/MME | | | | | | supports CSG | | | | | | Information | | | | | | Change | | | | | | Reporting. | | | | | | See NOTE2. | | | | | | | | | | | | - | | | | | | Unauthenticated | | | | | | IMSI: This | | | | | | flag shall | | | | | | be set to 1 | | | | | | if the IMSI | | | | | | present in | | | | | | the message | | | | | | is not | | | | | | | | | | | | authenticated | | | | | | and is for | | | | | | an emergency | | | | | | attached UE. | | | +------------------+----+------------------+------------------+------+ | Sender F-TEID | M | | F-TEID | 0 | | for Control | | | | | | Plane | | | | | +------------------+----+------------------+------------------+------+ | PGW S5/S8 | C | This IE shall be | F-TEID | 1 | | Address for | | sent on the S11 | | | | Control Plane or | | / S4 interfaces. | | | | PMIP | | The TEID or GRE | | | | | | Key is set to | | | | | | \"0\" in the | | | | | | E-UTRAN initial | | | | | | attach, the PDP | | | | | | Context | | | | | | Activation and | | | | | | the UE requested | | | | | | PDN connectivity | | | | | | procedures. | | | +------------------+----+------------------+------------------+------+ | Access Point | M | | APN | 0 | | Name (APN) | | | | | +------------------+----+------------------+------------------+------+ | Selection Mode | C | This IE shall be | Selection Mode | 0 | | | | included for an | | | | | | E-UTRAN initial | | | | | | attach, a PDP | | | | | | Context | | | | | | Activation and a | | | | | | UE requested PDN | | | | | | connectivity. | | | | | | | | | | | | It shall | | | | | | indicate whether | | | | | | a subscribed APN | | | | | | or a non | | | | | | subscribed APN | | | | | | chosen by the | | | | | | MME/SGSN was | | | | | | selected. | | | +------------------+----+------------------+------------------+------+ | | CO | When available, | | | | | | this IE shall be | | | | | | sent by the | | | | | | MME/SGSN on | | | | | | S11/S4 interface | | | | | | during | | | | | | TAU/RAU/HO with | | | | | | SGW relocation. | | | +------------------+----+------------------+------------------+------+ | PDN Type | C | This IE shall be | PDN Type | 0 | | | | included for an | | | | | | E-UTRAN initial | | | | | | attach, a PDP | | | | | | Context | | | | | | Activation and a | | | | | | UE requested PDN | | | | | | connectivity. | | | | | | | | | | | | This IE shall be | | | | | | set to IPv4, | | | | | | IPv6 or IPv4v6. | | | | | | This is based on | | | | | | the UE request | | | | | | and the | | | | | | subscription | | | | | | record retrieved | | | | | | from the HSS | | | | | | (for MME see | | | | | | 3GPP TS 23.401 | | | | | | [3], clause | | | | | | 5.3.1.1, and for | | | | | | SGSN see 3GPP TS | | | | | | 23.060 [35], | | | | | | clause 9.2.1). | | | | | | See NOTE1. | | | +------------------+----+------------------+------------------+------+ | **PDN Address | C | This IE shall be | PAA | 0 | | Allocation | | included for an | | | | (PAA)** | | E-UTRAN initial | | | | | | attach, a PDP | | | | | | Context | | | | | | Activation and a | | | | | | UE requested PDN | | | | | | connectivity. | | | | | | For PMIP-based | | | | | | S5/S8, this IE | | | | | | shall also be | | | | | | included for | | | | | | TAU/RAU/Handover | | | | | | cases involving | | | | | | SGW relocation. | | | | | | | | | | | | The PDN type | | | | | | field in the PAA | | | | | | shall be set to | | | | | | IPv4, or IPv6 or | | | | | | IPv4v6 by MME, | | | | | | based on the UE | | | | | | request and the | | | | | | subscription | | | | | | record retrieved | | | | | | from the HSS. | | | | | | | | | | | | For static IP | | | | | | address | | | | | | assignment (for | | | | | | MME see 3GPP TS | | | | | | 23.401 [3], | | | | | | clause 5.3.1.1, | | | | | | and for SGSN see | | | | | | 3GPP TS 23.060 | | | | | | [35], clause | | | | | | 9.2.1), the | | | | | | MME/SGSN shall | | | | | | set the IPv4 | | | | | | address and/or | | | | | | IPv6 prefix | | | | | | length and IPv6 | | | | | | prefix and | | | | | | Interface | | | | | | Identifier based | | | | | | on the | | | | | | subscribed | | | | | | values received | | | | | | from HSS, if | | | | | | available. The | | | | | | value of PDN | | | | | | Type field shall | | | | | | be consistent | | | | | | with the value | | | | | | of the PDN Type | | | | | | IE, if present | | | | | | in this message. | | | | | | | | | | | | If static IP | | | | | | address | | | | | | assignment is | | | | | | not used, the | | | | | | IPv4 address | | | | | | shall be set to | | | | | | 0.0.0.0, and/or | | | | | | the IPv6 Prefix | | | | | | Length and IPv6 | | | | | | prefix and | | | | | | Interface | | | | | | Identifier shall | | | | | | all be set to | | | | | | zero. | | | +------------------+----+------------------+------------------+------+ | | CO | This IE shall be | | | | | | sent by the | | | | | | MME/SGSN on | | | | | | S11/S4 interface | | | | | | during | | | | | | TAU/RAU/HO with | | | | | | SGW relocation. | | | +------------------+----+------------------+------------------+------+ | **Maximum APN | C | This IE shall be | APN Restriction | 0 | | Restriction** | | included in the | | | | | | E-UTRAN initial | | | | | | attach, PDP | | | | | | Context | | | | | | Activation and | | | | | | UE Requested PDN | | | | | | connectivity | | | | | | procedures. | | | | | | | | | | | | This IE denotes | | | | | | the most | | | | | | stringent | | | | | | restriction as | | | | | | required by any | | | | | | already active | | | | | | bearer context. | | | | | | If there are no | | | | | | already active | | | | | | bearer contexts, | | | | | | this value is | | | | | | set to the least | | | | | | restrictive | | | | | | type. | | | +------------------+----+------------------+------------------+------+ | Aggregate | C | This IE | AMBR | 0 | | Maximum Bit Rate | | represents the | | | | (APN-AMBR) | | APN-AMBR. It | | | | | | shall be | | | | | | included for an | | | | | | E-UTRAN initial | | | | | | attach, UE | | | | | | requested PDN | | | | | | connectivity, | | | | | | the PDP Context | | | | | | Activation | | | | | | procedure using | | | | | | S4 and the PS | | | | | | mobility from | | | | | | the Gn/Gp SGSN | | | | | | to the S4 | | | | | | SGSN/MME | | | | | | procedures. | | | +------------------+----+------------------+------------------+------+ | Linked EPS | C | This IE shall be | EBI | 0 | | Bearer ID | | included on | | | | | | S4/S11 in | | | | | | RAU/TAU/HO | | | | | | except in the | | | | | | Gn/Gp SGSN to | | | | | | MME/S4-SGSN | | | | | | RAU/TAU/HO | | | | | | procedures with | | | | | | SGW change to | | | | | | identify the | | | | | | default bearer | | | | | | of the PDN | | | | | | Connection | | | +------------------+----+------------------+------------------+------+ | Protocol | C | This IE is not | PCO | 0 | | Configuration | | applicable to | | | | Options (PCO) | | T | | | | | | AU/RAU/Handover. | | | | | | If MME receives | | | | | | PCO from UE | | | | | | (during the | | | | | | attach | | | | | | procedures), the | | | | | | MME shall | | | | | | forward the PCO | | | | | | IE to SGW. The | | | | | | SGW shall also | | | | | | forward it to | | | | | | PGW. | | | +------------------+----+------------------+------------------+------+ | Bearer Contexts | M | Several IEs with | Bearer Context | 0 | | to be created | | the same type | | | | | | and instance | | | | | | value shall be | | | | | | included as | | | | | | necessary to | | | | | | represent a list | | | | | | of Bearers. | | | | | | | | | | | | One bearer shall | | | | | | be included for | | | | | | an \"eUTRAN | | | | | | Initial | | | | | | Attach\", a | | | | | | \"PDP Context | | | | | | Activation\" or | | | | | | a \"UE requested | | | | | | PDN | | | | | | Connectivity\". | | | | | | | | | | | | One or more | | | | | | bearers shall be | | | | | | included for a | | | | | | Handover/TAU/RAU | | | | | | with an SGW | | | | | | change. | | | +------------------+----+------------------+------------------+------+ | Bearer Contexts | C | This IE shall be | Bearer Context | 1 | | to be removed | | included on the | | | | | | S4/S11 | | | | | | interfaces for | | | | | | the | | | | | | TAU/RAU/Handover | | | | | | cases where any | | | | | | of the bearers | | | | | | existing before | | | | | | the | | | | | | TAU/RAU/Handover | | | | | | procedure will | | | | | | be deactivated | | | | | | as consequence | | | | | | of the | | | | | | TAU/RAU/Handover | | | | | | procedure. | | | | | | | | | | | | For each of | | | | | | those bearers, | | | | | | an IE with the | | | | | | same type and | | | | | | instance value | | | | | | shall be | | | | | | included. | | | +------------------+----+------------------+------------------+------+ | Trace | C | This IE shall be | Trace | 0 | | Information | | included if an | Information | | | | | SGW and/or a PGW | | | | | | is activated. | | | | | | See 3GPP TS | | | | | | 32.422 [18]. | | | +------------------+----+------------------+------------------+------+ | Recovery | C | This IE shall be | Recovery | 0 | | | | included if | | | | | | contacting the | | | | | | peer node for | | | | | | the first time. | | | +------------------+----+------------------+------------------+------+ | MME-FQ-CSID | C | This IE shall be | FQ-CSID | 0 | | | | included by the | | | | | | MME on the S11 | | | | | | interface and | | | | | | shall be | | | | | | forwarded by an | | | | | | SGW on the S5/S8 | | | | | | interfaces | | | | | | according to the | | | | | | requirements in | | | | | | 3GPP TS 23.007 | | | | | | [17]. | | | +------------------+----+------------------+------------------+------+ | SGW-FQ-CSID | C | This IE shall | FQ-CSID | 1 | | | | included by the | | | | | | SGW on the S5/S8 | | | | | | interfaces | | | | | | according to the | | | | | | requirements in | | | | | | 3GPP TS 23.007 | | | | | | [17]. | | | +------------------+----+------------------+------------------+------+ | UE Time Zone | CO | This IE shall be | UE Time Zone | 0 | | | | included by the | | | | | | MME over S11 | | | | | | during Initial | | | | | | Attach, UE | | | | | | Requested PDN | | | | | | Connectivity | | | | | | procedure. | | | | | | | | | | | | This IE shall be | | | | | | included by the | | | | | | SGSN over S4 | | | | | | during PDP | | | | | | Context | | | | | | Activation | | | | | | procedure. | | | | | | | | | | | | This IE shall be | | | | | | included by the | | | | | | MME/SGSN over | | | | | | S11/S4 | | | | | | TAU/RAU/Handover | | | | | | with SGW | | | | | | relocation. | | | +------------------+----+------------------+------------------+------+ | | C | If SGW receives | | | | | | this IE, SGW | | | | | | shall forward it | | | | | | to PGW across | | | | | | S5/S8 interface. | | | +------------------+----+------------------+------------------+------+ | User CSG | CO | This IE shall be | UCI | 0 | | Information | | included for | | | | (UCI) | | E-UTRAN Initial | | | | | | Attach, | | | | | | UE-requested PDN | | | | | | Connectivity and | | | | | | PDP Context | | | | | | Activation using | | | | | | S4 procedures if | | | | | | the UE is | | | | | | accessed via CSG | | | | | | cell or hybrid | | | | | | cell. The | | | | | | MME/SGSN shall | | | | | | also include it | | | | | | for Handover | | | | | | procedures if | | | | | | the PGW has | | | | | | requested CSG | | | | | | info reporting | | | | | | and MME/SGSN | | | | | | support CSG info | | | | | | reporting. | | | | | | | | | | | | In TAU/RAU | | | | | | procedure with | | | | | | the SGW change, | | | | | | the MME/SGSN | | | | | | shall also | | | | | | include this IE | | | | | | if the PGW has | | | | | | requested CSG | | | | | | info reporting | | | | | | and MME support | | | | | | CSG info | | | | | | reporting and UE | | | | | | requested to | | | | | | active E-RAB for | | | | | | all the active | | | | | | EPS bearers in | | | | | | TAU procedure or | | | | | | to keep the Iu | | | | | | connection after | | | | | | the completion | | | | | | of the RAU | | | | | | procedure. | | | | | | | | | | | | The SGW shall | | | | | | include this IE | | | | | | on S5/S8 if it | | | | | | receives the | | | | | | User CSG | | | | | | information from | | | | | | MME/SGSN. | | | +------------------+----+------------------+------------------+------+ | Charging | C | This IE shall be | Charging | 0 | | Characteristics | | included | Characteristics | | | | | according to | | | | | | 3GPP TS 32.251 | | | | | | [8] | | | +------------------+----+------------------+------------------+------+ | MME/S4-SGSN LDN | O | This IE is | Local | 0 | | | | optionally sent | Distinguished | | | | | by the MME to | Name (LDN) | | | | | the SGW on the | | | | | | S11 interface | | | | | | and by the | | | | | | S4-SGSN to the | | | | | | SGW on the S4 | | | | | | interface (see | | | | | | 3GPP TS 32.423 | | | | | | [44]), when | | | | | | communicating | | | | | | the LDN to the | | | | | | peer node for | | | | | | the first time. | | | +------------------+----+------------------+------------------+------+ | SGW LDN | O | This IE is | Local | 1 | | | | optionally sent | Distinguished | | | | | by the SGW to | Name (LDN) | | | | | the PGW on the | | | | | | S5/S8 interfaces | | | | | | (see 3GPP TS | | | | | | 32.423 [44]), | | | | | | when | | | | | | communicating | | | | | | the LDN to the | | | | | | peer node for | | | | | | the first time. | | | +------------------+----+------------------+------------------+------+ | Private | O | | Private | VS | | Extension | | | Extension | | +------------------+----+------------------+------------------+------+ | NOTE1: The | | | | | | conditional PDN | | | | | | Type IE is | | | | | | redundant (as | | | | | | the PAA IE | | | | | | contains exactly | | | | | | the same field). | | | | | | The receiver may | | | | | | ignore it. | | | | | | | | | | | | NOTE2: 3GPP TS | | | | | | 23.401 [3] | | | | | | (e.g. subclause | | | | | | 5.3.2.1) and | | | | | | 3GPP TS 23.060 | | | | | | [35] (e.g. | | | | | | subclause | | | | | | 9.2.2.1) defines | | | | | | the MME/SGSN | | | | | | shall send the | | | | | | MS Info Change | | | | | | Reporting | | | | | | Support | | | | | | Indication to | | | | | | the PGW. In such | | | | | | case MME/SGSN | | | | | | shall use the | | | | | | Change Reporting | | | | | | Support | | | | | | Indication | | | | | | and/or CSG | | | | | | Change Reporting | | | | | | Support | | | | | | Indication | | | | | | (whichever is | | | | | | applicable), | | | | | | even if stage 2 | | | | | | refers to MS | | | | | | Info Change | | | | | | Reporting | | | | | | Support | | | | | | Indication. | | | | | +------------------+----+------------------+------------------+------+
Table 7.2.1-2: Bearer Context to be created within Create Session Request
* * *
Octet 1 Bearer Context IE Type = 93 (decimal)  
Octets 2 and 3 Length = n  
Octet 4 Spare and Instance fields  
Information elements P Condition / Comment IE Type Ins. EPS Bearer ID M EBI 0
TFT O Bearer TFT 0 S1-U eNodeB F-TEID C This IE shall be included on the S11
interface for X2-based handover with SGW relocation. F-TEID 0 S4-U SGSN F-TEID
C This IE shall be included on the S4 interface if the S4-U interface is used.
F-TEID 1 S5/S8-U SGW F-TEID C This IE shall be included on the S5/S8 interface
for an \"eUTRAN Initial Attach\", a \"PDP Context Activation\" or a \"UE
Requested PDN Connectivity\". F-TEID 2 S5/S8-U PGW F-TEID C This IE shall be
included on the S4 and S11 interfaces for the TAU/RAU/Handover cases when the
GTP-based S5/S8 is used. F-TEID 3 S12 RNC F-TEID CO This IE shall be included
on the S4 interface if the S12 interface is used in the Enhanced serving RNS
relocation with SGW relocation procedure. F-TEID 4 Bearer Level QoS M Bearer
QoS 0
* * *
Table 7.2.1-3: Bearer Context to be removed within Create Session Request
* * *
Octet 1 Bearer Context IE Type = 93 (decimal)  
Octets 2 and 3 Length = n  
Octet 4 Spare and Instance fields  
Information elements P Condition / Comment IE Type Ins. EPS Bearer ID M EBI 0
S4-U SGSN F-TEID C This IE shall be sent on the S4 interface if the S4-U
interface is used. See NOTE 1. F-TEID 0 NOTE 1: The conditional S4-U SGSN
F-TEID IE is redundant.
* * *
### 7.2.2 Create Session Response
The Create Session Response message shall be sent on the S11 interface by the
SGW to the MME, and on the S5/S8 interface by the PGW to the SGW as part of
the procedures:
\- E-UTRAN Initial Attach
\- UE requested PDN connectivity
The message shall also be sent on S4 interface by the SGW to the SGSN, and on
the S5/S8 interface by the PGW to the SGW as part of the procedures:
\- PDP Context Activation
The message shall also be sent on the S11 interface by the SGW to the MME as
part of the procedures:
\- Tracking Area Update procedure with SGW change
\- S1/X2-based handover with SGW change
\- UTRAN Iu mode to E-UTRAN Inter RAT handover with SGW change
\- GERAN A/Gb mode to E-UTRAN Inter RAT handover with SGW change
\- 3G Gn/Gp SGSN to MME combined hard handover and SRNS relocation procedure
\- Gn/Gp SGSN to MME Tracking Area Update procedure
and on the S4 interface by the SGW to the SGSN as part of the procedures:
\- Routing Area Update with MME interaction and with SGW change
\- Gn/Gp SGSN to S4 SGSN Routing Area Update
\- Inter SGSN Routeing Area Update Procedure and Combined Inter SGSN RA / LA
Update using S4 with SGW change
\- Iu mode RA Update Procedure using S4 with SGW change
\- E-UTRAN to UTRAN Iu mode Inter RAT handover with SGW change
\- E-UTRAN to GERAN A/Gb mode Inter RAT handover with SGW change
\- Serving RNS relocation using S4 with SGW change
\- Combined hard handover and SRNS relocation using S4 with SGW change
\- Combined Cell / URA update and SRNS relocation using S4 with SGW change
\- Enhanced serving RNS relocation with SGW relocation
If handling of default bearer fails, then cause at the message level shall be
a failure cause.
Possible Cause values are:
\- \"Request accepted\".
\- \"Request accepted partially\".
\- \"New PDN type due to network preference\".
\- \"New PDN type due to single address bearer only\".
\- \"Request rejected\".
\- \"Missing or unknown APN\".
\- \"GRE key not found\".
\- \"Preferred PDN type not supported\".
\- \"All dynamic addresses are occupied\".
\- \"UE context without TFT already activated\".
\- \"No memory available\".
\- \"Remote peer not responding\".
\- \"Mandatory IE incorrect\".
\- \"Mandatory IE missing\".
\- \"Conditional IE missing\".
\- \"System failure\".
\- \"Semantic error in the TFT operation\".
\- \"Syntactic error in the TFT operation\".
\- \"Semantic errors in packet filter(s)\".
\- \"Syntactic errors in packet filter(s)\".
\- \"Invalid message format\".
\- \"No resources available\".
\- \"User authentication failed\".
\- \"APN access denied -- no subscription\".
\- \"APN Restriction type incompatibility with currently active PDN
Connection\".
\- \"Version not supported by next peer\".
\- \"Invalid length\".
\- \"Denied in RAT\".
> \- \"Protocol type not supported\".
\- \"Multiple PDN connections for a given APN not allowed\".
Table 7.2.2-1: Information Elements in a Create Session Response
+------------------+----+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+----+------------------+------------------+------+ | Cause | M | See NOTE2. | Cause | 0 | +------------------+----+------------------+------------------+------+ | Change Reporting | C | This IE shall be | Change Reporting | 0 | | Action | | included with | Action | | | | | the appropriate | | | | | | Action field if | | | | | | the location | | | | | | Change Reporting | | | | | | mechanism is to | | | | | | be started or | | | | | | stopped for this | | | | | | subscriber in | | | | | | the SGSN/MME. | | | +------------------+----+------------------+------------------+------+ | CSG Information | CO | This IE shall be | CSG Information | 0 | | Reporting Action | | included with | Reporting Action | | | | | the appropriate | | | | | | Action field if | | | | | | the CSG Info | | | | | | reporting | | | | | | mechanism is to | | | | | | be started or | | | | | | stopped for this | | | | | | subscriber in | | | | | | the SGSN/MME. | | | +------------------+----+------------------+------------------+------+ | Sender F-TEID | C | This IE shall be | F-TEID | 0 | | for Control | | sent on the | | | | Plane | | S11/S4 | | | | | | interfaces. For | | | | | | the S5/S8 | | | | | | interfaces it is | | | | | | not needed | | | | | | because its | | | | | | content would be | | | | | | identical to the | | | | | | IE PGW S5/S8 | | | | | | F-TEID for PMIP | | | | | | based interface | | | | | | or for GTP based | | | | | | Control Plane | | | | | | interface. | | | +------------------+----+------------------+------------------+------+ | PGW S5/S8 F-TEID | C | PGW shall | F-TEID | 1 | | for PMIP based | | include this IE | | | | interface or for | | on S5/S8 during | | | | GTP based | | the Initial | | | | Control Plane | | Attach, UE | | | | interface | | requested PDN | | | | | | connectivity and | | | | | | PDP Context | | | | | | Activation | | | | | | procedures. | | | | | | | | | | | | If SGW receives | | | | | | this IE it shall | | | | | | forward the IE | | | | | | to MME/S4-SGSN | | | | | | on S11/S4 | | | | | | interaface. | | | | | | | | | | | | This IE shall | | | | | | include the TEID | | | | | | in the GTP based | | | | | | S5/S8 case and | | | | | | the GRE key in | | | | | | the PMIP based | | | | | | S5/S8 case. | | | | | | | | | | | | In PMIP based | | | | | | S5/S8 case, same | | | | | | IP address is | | | | | | used for both | | | | | | control plane | | | | | | and the user | | | | | | plane | | | | | | communication. | | | +------------------+----+------------------+------------------+------+ | **PDN Address | C | This IE shall be | PAA | 0 | | Allocation | | included for the | | | | (PAA)** | | E-UTRAN initial | | | | | | attach, the PDP | | | | | | Context | | | | | | Activation and | | | | | | the UE requested | | | | | | PDN | | | | | | connectivity. | | | | | | | | | | | | The PDN type | | | | | | field in the PAA | | | | | | shall be set to | | | | | | IPv4, or IPv6 or | | | | | | IPv4v6 by the | | | | | | PGW. | | | | | | | | | | | | If the DHCPv4 is | | | | | | used for IPv4 | | | | | | address | | | | | | allocation, the | | | | | | IPv4 address | | | | | | field shall be | | | | | | set to 0.0.0.0. | | | +------------------+----+------------------+------------------+------+ | **APN | C | This IE shall be | APN Restriction | 0 | | Restriction** | | included in the | | | | | | E-UTRAN initial | | | | | | attach, PDP | | | | | | Context | | | | | | Activation and | | | | | | UE Requested PDN | | | | | | connectivity | | | | | | procedures. | | | | | | | | | | | | This IE shall | | | | | | also be included | | | | | | on S4/S11 during | | | | | | the Gn/Gp SGSN | | | | | | to S4 SGSN/MME | | | | | | RAU/TAU | | | | | | procedures. | | | | | | | | | | | | This IE denotes | | | | | | the restriction | | | | | | on the | | | | | | combination of | | | | | | types of APN for | | | | | | the APN | | | | | | associated with | | | | | | this EPS bearer | | | | | | Context. | | | +------------------+----+------------------+------------------+------+ | Aggregate | C | This IE | AMBR | 0 | | Maximum Bit Rate | | represents the | | | | (APN-AMBR) | | APN-AMBR. It | | | | | | shall be | | | | | | included if the | | | | | | received | | | | | | APN-AMBR has | | | | | | been modified by | | | | | | the PCRF. | | | +------------------+----+------------------+------------------+------+ | Linked EPS | C | This IE shall be | EBI | 0 | | Bearer ID | | sent on S4, S11 | | | | | | interfaces | | | | | | during Gn/Gp | | | | | | SGSN to | | | | | | S4-SGSN/MME | | | | | | RAU/TAU | | | | | | procedure to | | | | | | identify the | | | | | | default bearer | | | | | | the PGW selects | | | | | | for the PDN | | | | | | Connection. | | | +------------------+----+------------------+------------------+------+ | Protocol | C | This IE is not | PCO | 0 | | Configuration | | applicable for | | | | Options (PCO) | | T | | | | | | AU/RAU/Handover. | | | | | | If PGW decides | | | | | | to return PCO to | | | | | | the UE, PGW | | | | | | shall send PCO | | | | | | to SGW. If SGW | | | | | | receives the PCO | | | | | | IE, SGW shall | | | | | | forward it to | | | | | | MME/SGSN. | | | +------------------+----+------------------+------------------+------+ | Bearer Contexts | M | EPS bearers | Bearer Context | 0 | | created | | corresponding to | | | | | | Bearer Contexts | | | | | | sent in request | | | | | | message. Several | | | | | | IEs with the | | | | | | same type and | | | | | | instance value | | | | | | may be included | | | | | | as necessary to | | | | | | represent a list | | | | | | of Bearers. | | | | | | | | | | | | One bearer shall | | | | | | be included for | | | | | | \"eUTRAN Initial | | | | | | Attach\", \"PDP | | | | | | Context | | | | | | Activation\" or | | | | | | \"UE Requested | | | | | | PDN Connectivity | | | | | | \". | | | | | | | | | | | | One or more | | | | | | created bearers | | | | | | shall be | | | | | | included for a | | | | | | Handover/TAU/RAU | | | | | | with an SGW | | | | | | change. See | | | | | | NOTE2. | | | +------------------+----+------------------+------------------+------+ | Bearer Contexts | C | EPS bearers | Bearer Context | 1 | | marked for | | corresponding to | | | | removal | | Bearer Contexts | | | | | | to be removed | | | | | | that were sent | | | | | | in the Create | | | | | | Session Request | | | | | | message. | | | | | | | | | | | | For each of | | | | | | those bearers an | | | | | | IE with the same | | | | | | type and | | | | | | instance value | | | | | | shall be | | | | | | included. | | | +------------------+----+------------------+------------------+------+ | Recovery | C | This IE shall be | Recovery | 0 | | | | included if | | | | | | contacting the | | | | | | peer for the | | | | | | first time | | | +------------------+----+------------------+------------------+------+ | Charging Gateway | C | When Charging | FQDN | 0 | | Name | | Gateway Function | | | | | | (CGF) Address is | | | | | | configured, the | | | | | | PGW shall | | | | | | include this IE | | | | | | on the S5 | | | | | | interface. | | | | | | | | | | | | See NOTE1. | | | +------------------+----+------------------+------------------+------+ | Charging Gateway | C | When Charging | IP Address | 0 | | Address | | Gateway Function | | | | | | (CGF) Address is | | | | | | configured, the | | | | | | PGW shall | | | | | | include this IE | | | | | | on the S5 | | | | | | interface. See | | | | | | NOTE1. | | | +------------------+----+------------------+------------------+------+ | PGW-FQ-CSID | C | This IE shall be | FQ-CSID | 0 | | | | included by the | | | | | | PGW on the S5/S8 | | | | | | interfacesand | | | | | | shall be | | | | | | forwarded by the | | | | | | SGW on the S11 | | | | | | interface | | | | | | according to the | | | | | | requirements in | | | | | | 3GPP TS 23.007 | | | | | | [17]. | | | +------------------+----+------------------+------------------+------+ | SGW-FQ-CSID | C | This IE shall be | FQ-CSID | 1 | | | | included by the | | | | | | SGW on the S11 | | | | | | interface | | | | | | according to the | | | | | | requirements in | | | | | | 3GPP TS 23.007 | | | | | | [17]. | | | +------------------+----+------------------+------------------+------+ | SGW LDN | O | This IE is | Local | 0 | | | | optionally sent | Distinguished | | | | | by the SGW to | Name (LDN) | | | | | the MME/SGSN on | | | | | | the S11/S4 | | | | | | interfaces (see | | | | | | 3GPP TS 32.423 | | | | | | [44]), when | | | | | | communicating | | | | | | the LDN to the | | | | | | peer node for | | | | | | the first time. | | | +------------------+----+------------------+------------------+------+ | PGW LDN | O | This IE is | Local | 1 | | | | optionally | Distinguished | | | | | included by the | Name (LDN) | | | | | PGW on the S5/S8 | | | | | | interfaces (see | | | | | | 3GPP TS 32.423 | | | | | | [44]), when | | | | | | communicating | | | | | | the LDN to the | | | | | | peer node for | | | | | | the first time. | | | +------------------+----+------------------+------------------+------+ | Private | O | | Private | VS | | Extension | | | Extension | | +------------------+----+------------------+------------------+------+ | NOTE1: Both | | | | | | Charging Gateway | | | | | | Name and | | | | | | Charging Gateway | | | | | | Address shall | | | | | | not be included | | | | | | at the same | | | | | | time. When both | | | | | | are available, | | | | | | the operator | | | | | | configures a | | | | | | preferred value. | | | | | | | | | | | | NOTE2: If the | | | | | | SGW cannot | | | | | | accept any of | | | | | | the \"Bearer | | | | | | Context | | | | | | Created\" IEs | | | | | | within Create | | | | | | Session Request | | | | | | message, the SGW | | | | | | shall send the | | | | | | Create Session | | | | | | Response with | | | | | | appropriate | | | | | | reject Cause | | | | | | value. | | | | | +------------------+----+------------------+------------------+------+
Table 7.2.2-2: Bearer Context Created within Create Session Response
+------------------+---+------------------+--------------+------+ | Octets 1 | | Bearer Context | | | | | | IE Type = 93 | | | | | | (decimal) | | | +------------------+---+------------------+--------------+------+ | Octets 2 and 3 | | Length = n | | | +------------------+---+------------------+--------------+------+ | Octets 4 | | Spare and | | | | | | Instance fields | | | +------------------+---+------------------+--------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+---+------------------+--------------+------+ | EPS Bearer ID | M | | EBI | 0 | +------------------+---+------------------+--------------+------+ | Cause | M | This IE shall | Cause | 0 | | | | indicate if the | | | | | | bearer handling | | | | | | was successful, | | | | | | and if not, it | | | | | | gives | | | | | | information on | | | | | | the reason. | | | | | | (NOTE1, NOTE2) | | | +------------------+---+------------------+--------------+------+ | S1-U SGW F-TEID | C | This IE shall be | F-TEID | 0 | | | | included on the | | | | | | S11 interface if | | | | | | the S1-U | | | | | | interface is | | | | | | used. | | | +------------------+---+------------------+--------------+------+ | S4-U SGW F-TEID | C | This IE shall be | F-TEID | 1 | | | | included on the | | | | | | S4 interface if | | | | | | the S4-U | | | | | | interface is | | | | | | used. | | | +------------------+---+------------------+--------------+------+ | S5/S8-U PGW | C | For GTP-based | F-TEID | 2 | | F-TEID | | S5/S8, this User | | | | | | Plane IE shall | | | | | | be included on | | | | | | S11 interface | | | | | | and also on | | | | | | S5/S8 interfaces | | | | | | during the | | | | | | \"eUTRAN Initial | | | | | | Attach\", a | | | | | | \"PDP Context | | | | | | Activation\" or | | | | | | a \"UE Requested | | | | | | PDN | | | | | | Connectivity\". | | | +------------------+---+------------------+--------------+------+ | S12 SGW F-TEID | C | This IE shall be | F-TEID | 3 | | | | included on the | | | | | | S4 interface if | | | | | | the S12 | | | | | | interface is | | | | | | used. | | | +------------------+---+------------------+--------------+------+ | Bearer Level QoS | C | This IE shall be | Bearer QoS | 0 | | | | included if the | | | | | | received QoS | | | | | | parameters have | | | | | | been modified. | | | +------------------+---+------------------+--------------+------+ | Charging Id | C | This IE shall be | Charging Id | 0 | | | | included on the | | | | | | S5/S8 interface | | | | | | for an E-UTRAN | | | | | | initial attach, | | | | | | a PDP Context | | | | | | Activation and a | | | | | | UE requested PDN | | | | | | connectivity. | | | +------------------+---+------------------+--------------+------+ | | O | If the S5/S8 | | | | | | interface is | | | | | | GTP, this IE may | | | | | | be included on | | | | | | the S4 | | | | | | interface, in | | | | | | order to support | | | | | | CAMEL charging | | | | | | at the SGSN, for | | | | | | a PDP Context | | | | | | Activation, | | | | | | inter S4-SGSN | | | | | | RAU with SGW | | | | | | change and Gn/Gp | | | | | | to S4-SGSN RAU. | | | +------------------+---+------------------+--------------+------+ | Bearer Flags | O | Applicable flags | Bearer Flags | 0 | | | | are: | | | | | | | | | | | | - PPC | | | | | | (Prohibit | | | | | | Payload | | | | | | Compression) | | | +------------------+---+------------------+--------------+------+ | NOTE1: According | | | | | | to 3GPP TS | | | | | | 23.401 [3] | | | | | | e.g. subclause | | | | | | 5.5.1.2.2 | | | | | | \"S1-based | | | | | | handover, | | | | | | normal\" and | | | | | | 3GPP TS 23.060 | | | | | | [35], during | | | | | | the handover | | | | | | procedure with | | | | | | an SGW change, | | | | | | except in the | | | | | | case of | | | | | | X2-handover, the | | | | | | target | | | | | | MME/S4-SGSN | | | | | | initiates the | | | | | | Create Session | | | | | | Request/Response | | | | | | and Modify | | | | | | Bearer | | | | | | Request/Response | | | | | | procedures one | | | | | | after the other. | | | | | | After receiving | | | | | | the \"Bearer | | | | | | Context | | | | | | Created\" IEs | | | | | | within Create | | | | | | Session Request | | | | | | message, the SGW | | | | | | may not accept | | | | | | some of these | | | | | | bearers. The SGW | | | | | | however shall | | | | | | return all | | | | | | bearers with the | | | | | | \"Bearer Context | | | | | | Created\" IEs | | | | | | within Create | | | | | | Session Response | | | | | | message (this | | | | | | table), but with | | | | | | different Cause | | | | | | values. Bearers | | | | | | that were not | | | | | | accepted by the | | | | | | SGW shall have | | | | | | an appropriate | | | | | | rejection value | | | | | | in the Cause IE. | | | | | | The target | | | | | | MME/S4-SGSN | | | | | | shall send these | | | | | | non-accepted | | | | | | bearers to the | | | | | | target SGW | | | | | | within the | | | | | | \"Bearer Context | | | | | | to be removed\" | | | | | | IE in a | | | | | | subsequent | | | | | | Modify Bearer | | | | | | Request message. | | | | | | Therefore, the | | | | | | SGW shall | | | | | | allocate the DL | | | | | | S5/S8 SGW | | | | | | F-TEIDs also for | | | | | | the non-accepted | | | | | | bearers. | | | | | | MME/S4-SGSN | | | | | | should remove | | | | | | all of the | | | | | | non-accepted | | | | | | bearers by | | | | | | separate | | | | | | procedures (e.g. | | | | | | an MME/S4-SGSN | | | | | | initiated | | | | | | Dedicated Bearer | | | | | | Deactivation | | | | | | procedure). | | | | | | | | | | | | NOTE2: According | | | | | | to 3GPP TS | | | | | | 23.401 [3] | | | | | | subclause | | | | | | 5.5.1.1.3, | | | | | | \"X2-based | | | | | | handover with | | | | | | Serving GW | | | | | | relocation\", | | | | | | during the | | | | | | X2-handover | | | | | | procedure with | | | | | | an SGW change, | | | | | | the target | | | | | | MME/S4-SGSN | | | | | | shall initiate | | | | | | only the Create | | | | | | Session | | | | | | Request/Response | | | | | | procedure. The | | | | | | SGW shall return | | | | | | all bearers | | | | | | (including those | | | | | | not accepted by | | | | | | the SGW) with a | | | | | | \"Bearer Context | | | | | | Created\" IE | | | | | | within Create | | | | | | Session Response | | | | | | message (this | | | | | | table), but with | | | | | | different Cause | | | | | | values. Bearers | | | | | | that were not | | | | | | accepted by the | | | | | | SGW shall have | | | | | | an appropriate | | | | | | rejection value | | | | | | in the Cause IE, | | | | | | The MME/S4-SGSN | | | | | | should remove | | | | | | these | | | | | | non-accepted | | | | | | bearers by | | | | | | separate | | | | | | procedures as | | | | | | well. | | | | | +------------------+---+------------------+--------------+------+
Table 7.2.2-3: Bearer Context marked for removal within a Create Session
Response
* * *
Octet 1 Bearer Context IE Type = 93 (decimal)  
Octets 2 and 3 Length = n  
Octet 4 Spare and Instance fields  
Information elements P Condition / Comment IE Type Ins. EPS Bearer ID M EBI 0
Cause M This IE shall indicate if the bearer handling was successful, and if
not, gives the information on the reason. Cause 0
* * *
### 7.2.3 Create Bearer Request
The direction of this message shall be from PGW to SGW and from SGW to
MME/S4-SGSN (see Table 6.1-1).
The Create Bearer Request message shall be sent on the S5/S8 interface by the
PGW to the SGW and on the S11 interface by the SGW to the MME as part of the
Dedicated Bearer Activation procedure.
The message shall also be sent on the S5/S8 interface by the PGW to the SGW
and on the S4 interface by the SGW to the SGSN as part of the Secondary PDP
Context Activation procedure or the Network Requested Secondary PDP Context
Activation procedure.
Table 7.2.3-1: Information Elements in a Create Bearer Request
+------------------+----+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+----+------------------+------------------+------+ | Procedure | C | This IE shall be | PTI | 0 | | Transaction Id | | sent when the | | | | (PTI) | | procedure was | | | | | | initiated by a | | | | | | UE Requested | | | | | | Bearer Resource | | | | | | Modification | | | | | | Procedure or | | | | | | Secondary PDP | | | | | | Context | | | | | | Activation | | | | | | Procedure. | | | | | | | | | | | | The PTI shall be | | | | | | the same as the | | | | | | one used in the | | | | | | corresponding | | | | | | Bearer Resource | | | | | | Command. | | | +------------------+----+------------------+------------------+------+ | Linked Bearer | M | This IE shall be | EBI | 0 | | Identity (LBI) | | included to | | | | | | indicate the | | | | | | default bearer | | | | | | associated with | | | | | | the PDN | | | | | | connection. | | | +------------------+----+------------------+------------------+------+ | Protocol | O | | PCO | 0 | | Configuration | | | | | | Options (PCO) | | | | | +------------------+----+------------------+------------------+------+ | Bearer Contexts | M | Several IEs with | Bearer Context | 0 | | | | this type and | | | | | | instance values | | | | | | shall be | | | | | | included as | | | | | | necessary to | | | | | | represent a list | | | | | | of Bearers. | | | +------------------+----+------------------+------------------+------+ | PGW-FQ-CSID | C | This IE shall be | FQ-CSID | 0 | | | | included by the | | | | | | PGW on the S5/S8 | | | | | | interfacesand | | | | | | shall be | | | | | | forwarded by the | | | | | | SGW on the S11 | | | | | | interface | | | | | | according to the | | | | | | requirements in | | | | | | 3GPP TS 23.007 | | | | | | [17]. | | | +------------------+----+------------------+------------------+------+ | SGW-FQ-CSID | C | This IE shall be | FQ-CSID | 1 | | | | included by the | | | | | | SGW on the S11 | | | | | | interface | | | | | | according to the | | | | | | requirements in | | | | | | 3GPP TS 23.007 | | | | | | [17]. | | | +------------------+----+------------------+------------------+------+ | Change Reporting | C | This IE shall be | Change Reporting | 0 | | Action | | included with | Action | | | | | the appropriate | | | | | | Action field If | | | | | | the location | | | | | | Change Reporting | | | | | | mechanism is to | | | | | | be started or | | | | | | stopped for this | | | | | | subscriber in | | | | | | the SGSN/MME. | | | +------------------+----+------------------+------------------+------+ | CSG Information | CO | This IE shall be | CSG Information | 0 | | Reporting Action | | included with | Reporting Action | | | | | the appropriate | | | | | | Action field if | | | | | | the CSG Info | | | | | | reporting | | | | | | mechanism is to | | | | | | be started or | | | | | | stopped for this | | | | | | subscriber in | | | | | | the SGSN/MME. | | | +------------------+----+------------------+------------------+------+ | Private | O | | Private | VS | | Extension | | | Extension | | +------------------+----+------------------+------------------+------+
NOTE: In the case that the procedure was initiated by a UE Requested Bearer
Resource Modification Procedure or Secondary PDP Context Activation Procedure,
then there will be only one instance of the Bearer Contexts IE in the Create
Bearer Request.
Table 7.2.3-2: Bearer Context within Create Bearer Request
+------------------+---+------------------+--------------+------+ | Octets 1 | | Bearer Context | | | | | | IE Type = 93 | | | | | | (decimal) | | | +------------------+---+------------------+--------------+------+ | Octets 2 and 3 | | Length = n | | | +------------------+---+------------------+--------------+------+ | Octets 4 | | Spare and | | | | | | Instance fields | | | +------------------+---+------------------+--------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+---+------------------+--------------+------+ | EPS Bearer ID | M | This IE shall be | EBI | 0 | | | | set to 0. | | | +------------------+---+------------------+--------------+------+ | TFT | M | This IE can | Bearer TFT | 0 | | | | contain both | | | | | | uplink and | | | | | | downlink packet | | | | | | filters to be | | | | | | sent to the UE. | | | | | | Downlink packet | | | | | | filters are also | | | | | | used by SGW for | | | | | | PMIP based S5/8 | | | | | | interfaces. | | | | | | | | | | | | The SGW shall | | | | | | forward the IE | | | | | | unmodified on | | | | | | the S4/S11 | | | | | | interface. | | | +------------------+---+------------------+--------------+------+ | S1-U SGW F-TEID | C | This IE shall be | F-TEID | 0 | | | | sent on the S11 | | | | | | interface if the | | | | | | S1-U interface | | | | | | is used. | | | +------------------+---+------------------+--------------+------+ | S5/8-U PGW | C | This IE shall be | F-TEID | 1 | | F-TEID | | sent on the S4, | | | | | | S5/S8 and S11 | | | | | | interfaces for | | | | | | GTP-based S5/S8 | | | | | | interface. The | | | | | | MME/SGSN shall | | | | | | ignore the IE on | | | | | | S11/S4 for | | | | | | PMIP-based S5/S8 | | | | | | interface. | | | +------------------+---+------------------+--------------+------+ | S12 SGW F-TEID | C | This IE shall be | F-TEID | 2 | | | | sent on the S4 | | | | | | interface if the | | | | | | S12 interface is | | | | | | used. | | | +------------------+---+------------------+--------------+------+ | S4-U SGW F-TEID | C | This IE shall be | F-TEID | 3 | | | | sent on the S4 | | | | | | interface if the | | | | | | S4-U interface | | | | | | is used. | | | +------------------+---+------------------+--------------+------+ | Bearer Level QoS | M | | Bearer QoS | 0 | +------------------+---+------------------+--------------+------+ | Charging Id | C | This IE shall be | Charging Id | 0 | | | | sent on the | | | | | | S5/S8 interface. | | | +------------------+---+------------------+--------------+------+ | | O | If the S5/S8 | | | | | | interface is | | | | | | GTP, this IE may | | | | | | be sent on the | | | | | | S4 interface, in | | | | | | order to support | | | | | | CAMEL charging | | | | | | at the SGSN. | | | +------------------+---+------------------+--------------+------+ | Bearer Flags | O | Applicable flags | Bearer Flags | 0 | | | | are: | | | | | | | | | | | | - PPC | | | | | | (Prohibit | | | | | | Payload | | | | | | Compression) | | | +------------------+---+------------------+--------------+------+ | Protocol | O | This bearer | PCO | 0 | | Configuration | | level IE takes | | | | Options (PCO) | | precedence over | | | | | | the PCO IE in | | | | | | the message body | | | | | | if they both | | | | | | exist. | | | +------------------+---+------------------+--------------+------+
### 7.2.4 Create Bearer Response
The Create Bearer Response message shall be sent on the S5/S8 interface by the
SGW to the PGW, and on the S11 interface by the MME to the SGW as part of the
Dedicated Bearer Activation procedure.
The message shall also be sent on the S5/S8 interface by the SGW to the PGW
and on the S4 interface by the SGSN to the SGW as part of Secondary PDP
Context Activation procedure or the Network Requested Secondary PDP Context
Activation procedure.
Possible Cause values are:
\- \"Request accepted\".
\- \"Request accepted partially\".
\- \"Request rejected\".
\- \"Context not found\".
\- \"Mandatory IE incorrect\".
\- \"Mandatory IE missing\".
\- \"Conditional IE missing\".
\- \"System failure\".
\- \"No memory available\".
\- \"Semantic error in the TFT operation\".
\- \"Syntactic error in the TFT operation\".
\- \"Semantic errors in packet filter(s)\".
\- \"Syntactic errors in packet filter(s)\".
\- \"Invalid message format\".
\- \"No resources available\".
\- \"Service not supported\".
  * \"Unable to page UE\".
  * \"UE not responding\".
  * \"Unable to page UE due to Suspension\".
  * \"UE refuses\".
\- \"Invalid length\".
\- \"Denied in RAT\".
\- \"UE context without TFT already activated\".
Table 7.2.4-1: Information Elements in a Create Bearer Response
* * *
Information elements P Condition / Comment IE Type Ins. Cause M Cause 0 Bearer
Contexts M Several IEs with this type and instance value shall be included as
necessary to represent a list of Bearers. Bearer Context 0 Recovery C This IE
shall be included if contacting the peer for the first time Recovery 0 MME-FQ-
CSID C This IE shall be included by the MME on the S11 interfaceand shall be
forwarded by the SGW on the S5/S8 interfaces according to the requirements in
3GPP TS 23.007 [17]. FQ-CSID 0 SGW-FQ-CSID C This IE shall be included by the
MME on the S11 interfaceand shall be forwarded by the SGW on the S5/S8
interfaces according to the requirements in 3GPP TS 23.007 [17]. FQ-CSID 1
Protocol Configuration Options (PCO) C If the UE includes the PCO IE, then the
MME/SGSN shall copy the content of this IE transparently from the PCO IE
included by the UE. If the SGW receives PCO from MME/SGSN, SGW shall forward
it to the PGW. PCO 0 UE Time Zone O This IE is optionally included by the MME
on the S11 interface or by the SGSN on the S4 interface. UE Time Zone 0 CO The
SGW shall forward this IE on the S5/S8 interface if the SGW supports this IE
and it receives it from the MME/SGSN.  
User Location Information (ULI) O This IE is optionally included by the MME on
the S11 interface or by the SGSN on the S4 interface. ULI 0 CO The SGW shall
forward this IE on the S5/S8 interface if the SGW supports this IE and it
receives it from the MME/SGSN.  
Private Extension O Private Extension VS
* * *
Table 7.2.4-2: Bearer Context within Create Bearer Response
* * *
Octet 1 Bearer Context IE Type = 93 (decimal)  
Octets 2 and 3 Length = n  
Octet 4 Spare and Instance fields  
Information elements P Condition / Comment IE Type Ins. EPS Bearer ID M EBI 0
Cause M This IE shall indicate if the bearer handling was successful, and if
not, it gives information on the reason. Cause 0 S1-U eNodeB F-TEID C This IE
shall be sent on the S11 interface if the S1-U interface is used. F-TEID 0
S1-U SGW F-TEID C This IE shall be sent on the S11 interface. It shall be used
to correlate the bearers with those in the Create Bearer Request. F-TEID 1
S5/8-U SGW F-TEID C This IE shall be sent on the S5/S8 interfaces. F-TEID 2
S5/8-U PGW F-TEID C This IE shall be sent on the S5/S8 interfaces. It shall be
used to correlate the bearers with those in the Create Bearer Request. F-TEID
3 S12 RNC F-TEID C This IE shall be sent on the S4 interface if the S12
interface is used. See NOTE 1. F-TEID 4 S12 SGW F-TEID C This IE shall be sent
on the S4 interface. It shall be used to correlate the bearers with those in
the Create Bearer Request. See NOTE 1. F-TEID 5 S4-U SGSN F-TEID C This IE
shall be sent on the S4 interface if the S4-U interface is used. See NOTE 1.
F-TEID 6 S4-U SGW F-TEID C This IE shall be sent on the S4 interface. It shall
be used to correlate the bearers with those in the Create Bearer Request. See
NOTE 1. F-TEID 7 Protocol Configuration Options (PCO) CO If the UE includes
the PCO IE in the corresponding Activate dedicated EPS bearer context accept
message, then the MME/SGSN shall copy the content of this IE transparently
from the PCO IE included by the UE. If the SGW receives PCO from MME/SGSN, SGW
shall forward it to the PGW. This bearer level IE takes precedence over the
PCO IE in the message body if they both exist. PCO 0 NOTE 1: When sending a
Create Bearer Request message to an S4-SGSN for a UE in idle mode, the SGW can
not know whether the S4-SGSN will establish a direct user plane tunnel between
the RNC and the SGW. The SGW may include either the S4-U SGW F-TEID IE or the
S12 SGW F-TEID IE in the Create Bearer Request message. The S4-SGSN will
decide whether to establish a direct user plane tunnel or not and will provide
accordingly either a S12 RNC F-TEID or a S4-U SGSN F-TEID in the Create Bearer
Response message, where the interface type of the provided F-TEID may differ
from the interface type of the SGW F-TEID used for bearer correlation, e.g. if
the SGW includes the S4-U SGW F-TEID in the Create Bearer Request message, and
if the SGSN decides to use Direct Tunnelling, the S4-SGSN shall provide the
S12 RNC F-TEID in the Create Bearer Response message, together with S4-U SGW
F-TEID. The SGW should not treat this as an error.
* * *
### 7.2.5 Bearer Resource Command
A Bearer Resource Command message shall be sent from a MME to a SGW and
forwarded to PGW as a part of the **UE requested bearer resource allocation
procedure or UE requested bearer resource modification** procedure (which is
used also for a dedicated bearer deactivation).
The message shall also be sent on the S4 interface by a SGSN to a SGW and on
the S5/S8 interface by a SGW to a PGW as part of the MS initiated PDP Context
modification procedure, or secondary PDP context activation procedure.
Table 7.2.5-1 specifies the presence of the IEs in the message.
Table 7.2.5-1: Information Elements in a Bearer Resource Command
+------------------+----+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+----+------------------+------------------+------+ | Linked EPS | M | | EBI | 0 | | Bearer ID (LBI) | | | | | +------------------+----+------------------+------------------+------+ | Procedure | M | | PTI | 0 | | Transaction Id | | | | | | (PTI) | | | | | +------------------+----+------------------+------------------+------+ | Flow Quality of | C | This IE shall be | Flow QoS | 0 | | Service (Flow | | included on the | | | | QoS) | | S4/S11 interface | | | | | | if the | | | | | | \"Requested New | | | | | | QoS\"/\"Required | | | | | | QoS\" is | | | | | | included in the | | | | | | corresponding | | | | | | NAS message (see | | | | | | section 9.5.10 | | | | | | and section | | | | | | 9.5.15a in 3GPP | | | | | | TS 24.008 [5]) | | | | | | or the | | | | | | \"Required | | | | | | traffic flow | | | | | | QoS\" is | | | | | | included in the | | | | | | corresponding | | | | | | NAS message (see | | | | | | section 8.3.8 | | | | | | and section | | | | | | 8.3.10 in 3GPP | | | | | | TS 24.301 | | | | | | [23]). | | | | | | | | | | | | If SGW receives | | | | | | this IE, SGW | | | | | | shall forward it | | | | | | to PGW across | | | | | | S5/S8 interface. | | | +------------------+----+------------------+------------------+------+ | Traffic | M | The TAD consists | TAD | 0 | | Aggregate | | of the | | | | Description | | description of | | | | (TAD) | | the packet | | | | | | filter(s) for a | | | | | | traffic flow | | | | | | aggregate. | | | | | | | | | | | | MME shall | | | | | | include this IE | | | | | | over S11 | | | | | | interface. | | | +------------------+----+------------------+------------------+------+ | | CO | If S4-SGSN | | | | | | receives this IE | | | | | | from the UE, it | | | | | | shall include it | | | | | | over S4 | | | | | | interface. | | | +------------------+----+------------------+------------------+------+ | | CO | If SGW receives | | | | | | this IE, the SGW | | | | | | shall forward it | | | | | | to PGW over | | | | | | S5/S8 interface. | | | +------------------+----+------------------+------------------+------+ | RAT Type | C | This IE shall be | RAT Type | 0 | | | | included for MS | | | | | | initiated PDP | | | | | | Context | | | | | | modification | | | | | | procedure and | | | | | | Secondary PDP | | | | | | context | | | | | | activation | | | | | | procedure. | | | +------------------+----+------------------+------------------+------+ | Serving Network | O | This IE may be | Serving Network | 0 | | | | included in the | | | | | | MS initiated PDP | | | | | | Context | | | | | | modification | | | | | | procedure. | | | +------------------+----+------------------+------------------+------+ | User Location | O | This IE may be | ULI | 0 | | Information | | included in the | | | | (ULI) | | MS initiated PDP | | | | | | Context | | | | | | modification | | | | | | procedure. | | | +------------------+----+------------------+------------------+------+ | EPS Bearer ID | C | This IE | EBI | 1 | | | | indicates the | | | | | | EPS Bearer that | | | | | | needs to be | | | | | | modified. It | | | | | | shall be | | | | | | included for MS | | | | | | initiated PDP | | | | | | Context | | | | | | modification | | | | | | procedure. For | | | | | | EUTRAN this IE | | | | | | shall be present | | | | | | if it is | | | | | | triggered by the | | | | | | NAS Bearer | | | | | | Resource | | | | | | Modification | | | | | | Request message | | | | | | and its value | | | | | | shall be set to | | | | | | the value of the | | | | | | \"EPS bearer | | | | | | identity for | | | | | | packet filter\" | | | | | | IE received in | | | | | | that NAS | | | | | | message. | | | +------------------+----+------------------+------------------+------+ | Indication Flags | O | This IE shall be | Indication | 0 | | | | included if any | | | | | | one of the | | | | | | applicable flags | | | | | | is set to 1. | | | | | | | | | | | | Applicable | | | | | | flags: | | | | | | | | | | | | - Change | | | | | | Reporting | | | | | | Support | | | | | | Indication: | | | | | | this flag | | | | | | may be | | | | | | included in | | | | | | the MS | | | | | | initiated | | | | | | PDP Context | | | | | | modification | | | | | | procedure. | | | | | | | | | | | | - Direct | | | | | | Tunnel Flag: | | | | | | this flag | | | | | | may be | | | | | | included in | | | | | | the MS | | | | | | initiated | | | | | | PDP Context | | | | | | Modification | | | | | | procedure. | | | +------------------+----+------------------+------------------+------+ | S4-U SGSN F-TEID | C | This IE shall be | F-TEID | 0 | | | | included on the | | | | | | S4 interface | | | | | | when direct | | | | | | tunnel is not | | | | | | established in | | | | | | the MS initiated | | | | | | PDP Context | | | | | | modification | | | | | | procedure | | | +------------------+----+------------------+------------------+------+ | S12 RNC F-TEID | C | This IE shall be | F-TEID | 1 | | | | included on the | | | | | | S4 interface | | | | | | when direct | | | | | | tunnel flag is | | | | | | set to 1 in the | | | | | | MS initiated PDP | | | | | | Context | | | | | | modification | | | | | | procedure. | | | +------------------+----+------------------+------------------+------+ | Protocol | O | | PCO | 0 | | Configuration | | | | | | Options (PCO) | | | | | +------------------+----+------------------+------------------+------+ | Private | O | | Private | VS | | Extension | | | Extension | | +------------------+----+------------------+------------------+------+
NOTE: Depending on the protocol type on the S5/S8 interface, the SGW or the
PGW will determine if the UE is requesting an Allocation/Modification
operation of bearer resources for a traffic flow aggregate based on the TFT
operation code and the packet filter ID value in the Traffic Aggregate (TAD)
IE and/or the presence of the EPS Bearer ID IE.
### 7.2.6 Bearer Resource Failure Indication
A Bearer Resource Failure Indication shall be sent by the PGW to an SGW and
forwarded to the MME to indicate failure of the **UE requested bearer resource
allocation procedure or UE requested bearer resource modification** procedure.
The message shall also be sent by a PGW to an SGW and forwarded to an SGSN as
part of the failure of an MS initiated PDP Context modification procedure or
secondary PDP context activation procedure.
Table 7.2.6-1 specifies the presence of the IEs in the message.
Possible Cause values are:
  * \"No resources available\".
  * \"No memory available\".
  * \"User authentication failed\".
  * \"System failure\".
  * \"Semantic error in the TAD operation\".
  * \"Syntactic error in the TAD operation\".
  * \"Semantic errors in packet filter(s)\".
  * \"Syntactic errors in packet filter(s)\".
  * \"Mandatory IE incorrect\".
  * \"Mandatory IE missing\".
  * \"Conditional IE missing\".
  * \"Invalid message format\".
```{=html}
``` \- \"Collision with network initiated request\".
  * \"Invalid length\".
  * \"Service denied\".
Table 7.2.6-1: Information Elements in a Bearer Resource Failure Indication
* * *
Information elements P Condition / Comment IE Type Ins. Cause M Cause 0 Linked
EPS Bearer ID M EBI 0 Procedure Transaction ID (PTI) M PTI 0 Recovery O
Recovery 0 Private Extension O Private Extension VS
* * *
### 7.2.7 Modify Bearer Request
The direction of this message shall be from MME/S4-SGSN to SGW and/or from SGW
to PGW (see Table 6.1-1).
The Modify Bearer Request message shall only be sent on the S11 interface by
the MME to the SGW and on the S5/S8 interfaces by the SGW to the PGW as part
of the procedures:
\- E-UTRAN Tracking Area Update without SGW Change
\- UE triggered Service Request
\- S1-based Handover
\- UTRAN Iu mode to E-UTRAN Inter RAT handover
\- GERAN A/Gb mode to E-UTRAN Inter RAT handover
\- E-UTRAN Initial Attach
\- UE requested PDN connectivity
\- 3G SGSN to MME combined hard handover and SRNS relocation procedure
\- X2-based handover without SGW relocation
It shall also only be sent on the S4 interface by the SGSN to the SGW and on
the S5/S8 interfaces by the SGW to the PGW as part of the procedures:
\- Routeing Area Update with MME interaction and without SGW change
\- E-UTRAN to UTRAN Iu mode Inter RAT handover
\- E-UTRAN to GERAN A/Gb mode Inter RAT handover
\- Inter SGSN Routeing Area Update Procedure and Combined Inter SGSN RA / LA
Update to S4 SGSNs without SGW change
\- Iu mode RA Update Procedure without SGW change
\- Serving RNS Relocation Procedure
\- Combined Hard Handover and SRNS Relocation Procedure
\- Combined Cell / URA Update and SRNS Relocation Procedure
\- Enhanced Serving RNS Relocation without SGW relocation
\- UE Initiated Service Request Procedure
\- Iu mode to A/Gb mode Intra SGSN Change
\- A/Gb mode to Iu mode Intra SGSN Change
\- Iu mode to A/Gb mode Inter-SGSN Change
\- A/Gb mode to Iu mode Inter-SGSN Change
\- Paging Response with no established user plane on S4
\- PDP Context Activation Procedure
only on the S4 interface by the SGSN to the SGW as part of the procedures:
\- RAB Assignment Procedure
\- SRVCC from E-UTRAN to UTRAN or GERAN with DTM HO support procedures and
SRVCC from UTRAN (HSPA) to UTRAN or GERAN with DTM HO support.
and only on the S5/S8 interfaces by the SGW to the PGW as part of the
procedures:
\- Tracking Area Update procedure with SGW change
\- Gn/Gp SGSN to S4 SGSN Routing Area Update
\- X2 based handover with SGW relocation
\- Gn/Gp SGSN to MME Tracking Area Update
\- Enhanced Serving RNS Relocation with SGW relocation
\- Routeing Area Update with MME interaction and with SGW change
\- Inter SGSN Routeing Area Update Procedure and Combined Inter SGSN RA / LA
Update using S4 with SGW change
\- Iu mode RA Update Procedure using S4 with SGW change
This message can be used as an implicit resume of the suspended bearers in the
SGW and in the PGW (see 3GPP TS 23.216 [43] sections 6.2.2.1 and 6.3.2.1, 3GPP
TS 23.272 [21] sections 6.3, 6.5 and 7.4). A Modify Bearer Request used as an
implicit resume may contain zero or more IE(s), depending on the conditions of
presence of the IEs specified in table 7.2.7-1. The PGW should not consider a
Modify Bearer Request with zero IE as an error.
**Table 7.2.7-1** : Information Elements in a Modify Bearer Request
+------------------+----+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+----+------------------+------------------+------+ | ME Identity | C | This IE shall be | MEI | 0 | | (MEI) | | sent on the | | | | | | S5/S8 interfaces | | | | | | for the Gn/Gp | | | | | | SGSN to MME TAU. | | | +------------------+----+------------------+------------------+------+ | User Location | C | The MME/SGSN | ULI | 0 | | Information | | shall include | | | | (ULI) | | this IE for | | | | | | TAU/RAU/Handover | | | | | | procedures if | | | | | | the PGW has | | | | | | requested | | | | | | location | | | | | | information | | | | | | change reporting | | | | | | and MME/SGSN | | | | | | support location | | | | | | information | | | | | | change | | | | | | reporting. See | | | | | | NOTE 5. | | | | | | | | | | | | An MME/SGSN | | | | | | which supports | | | | | | location | | | | | | information | | | | | | change shall | | | | | | include this IE | | | | | | for UE-initiated | | | | | | Service Request | | | | | | procedure if the | | | | | | PGW has | | | | | | requested | | | | | | location | | | | | | information | | | | | | change reporting | | | | | | and the UE's | | | | | | location info | | | | | | has changed. | | | | | | | | | | | | The SGW shall | | | | | | include this IE | | | | | | on S5/S8 if it | | | | | | receives the ULI | | | | | | from MME/SGSN. | | | +------------------+----+------------------+------------------+------+ | | CO | This IE shall | | | | | | also be included | | | | | | on the S4/S11 | | | | | | interface for a | | | | | | TAU/RAU/Handover | | | | | | with MME/SGSN | | | | | | change without | | | | | | SGW change | | | | | | procedure, if | | | | | | the level of | | | | | | support (User | | | | | | Location Change | | | | | | Reporting and/or | | | | | | CSG Information | | | | | | Change | | | | | | Reporting) | | | | | | changes the MME | | | | | | shall include | | | | | | the ECGI and / | | | | | | or TAI in the | | | | | | ULI, the SGSN | | | | | | shall include | | | | | | either the CGI | | | | | | or SAI or RAI, | | | | | | or CGI/SAI | | | | | | together with | | | | | | RAI in the ULI. | | | | | | | | | | | | The SGW shall | | | | | | include this IE | | | | | | on S5/S8 if it | | | | | | receives the ULI | | | | | | from MME/SGSN. | | | +------------------+----+------------------+------------------+------+ | Serving Network | C | This IE shall be | Serving Network | 0 | | | | sent on S5/S8 | | | | | | for a TAU with | | | | | | an associated | | | | | | MME change and | | | | | | the SGW change. | | | +------------------+----+------------------+------------------+------+ | | CO | This IE shall be | | | | | | included on | | | | | | S5/S8 for a | | | | | | RAU/Handover | | | | | | with an | | | | | | associated | | | | | | SGSN/MME change | | | | | | and SGW change | | | +------------------+----+------------------+------------------+------+ | RAT Type | C | This IE shall be | RAT Type | 0 | | | | sent on the S11 | | | | | | interface for a | | | | | | TAU with an SGSN | | | | | | interaction, UE | | | | | | triggered | | | | | | Service Request | | | | | | or an I-RAT | | | | | | Handover. | | | | | | | | | | | | This IE shall be | | | | | | sent on the S4 | | | | | | interface for a | | | | | | RAU with MME | | | | | | interaction, a | | | | | | RAU with an SGSN | | | | | | change, a UE | | | | | | Initiated | | | | | | Service Request | | | | | | or an I-RAT | | | | | | Handover. | | | | | | | | | | | | This IE shall be | | | | | | sent on the | | | | | | S5/S8 interface | | | | | | if the RAT type | | | | | | changes. | | | +------------------+----+------------------+------------------+------+ | | CO | If SGW receives | | | | | | this IE from | | | | | | MME/SGSN during | | | | | | a | | | | | | TAU/RAU/Handover | | | | | | with SGW change | | | | | | procedure, the | | | | | | SGW shall | | | | | | forward it | | | | | | across S5/S8 | | | | | | interface to | | | | | | PGW. | | | +------------------+----+------------------+------------------+------+ | | CO | The IE shall be | | | | | | sent on the | | | | | | S11/S4 interface | | | | | | for an inter MME | | | | | | TAU or Inter | | | | | | SGSN RAU when UE | | | | | | was ISR | | | | | | activated which | | | | | | is indicated by | | | | | | the ISRAU flag. | | | | | | | | | | | | If ISR is | | | | | | active, this IE | | | | | | shall also be | | | | | | included on the | | | | | | S11 interface in | | | | | | the S1-U GTP-U | | | | | | tunnel setup | | | | | | procedure during | | | | | | an intra-MME | | | | | | intra-SGW TAU | | | | | | procedure. | | | +------------------+----+------------------+------------------+------+ | Indication Flags | C | This IE shall be | Indication | 0 | | | | included if any | | | | | | one of the | | | | | | applicable flags | | | | | | is set to 1. | | | | | | | | | | | | Applicable flags | | | | | | are: | | | | | | | | | | | | - ISRAI: This | | | | | | flag shall | | | | | | be used on | | | | | | S4/S11 | | | | | | interface | | | | | | and set to 1 | | | | | | if the ISR | | | | | | is | | | | | | established | | | | | | between the | | | | | | MME and the | | | | | | S4 SGSN. | | | | | | | | | | | | - Handover | | | | | | Indication: | | | | | | This flag | | | | | | shall be set | | | | | | for an | | | | | | E-UTRAN | | | | | | Initial | | | | | | Attach or | | | | | | for a UE | | | | | | Requested | | | | | | PDN | | | | | | | | | | | | Connectivity, | | | | | | if the UE | | | | | | comes from a | | | | | | non-3GPP | | | | | | access. | | | | | | | | | | | | - Direct | | | | | | Tunnel Flag: | | | | | | This flag | | | | | | shall be | | | | | | used on the | | | | | | S4 interface | | | | | | and set to 1 | | | | | | if Direct | | | | | | Tunnel is | | | | | | used. | | | | | | | | | | | | - Change | | | | | | Reporting | | | | | | support | | | | | | Indication: | | | | | | shall be | | | | | | used on | | | | | | S4/S11, | | | | | | S5/S8 and | | | | | | set if the | | | | | | SGSN/MME | | | | | | supports | | | | | | location | | | | | | Info Change | | | | | | Reporting. | | | | | | This flag | | | | | | should be | | | | | | ignored by | | | | | | SGW if no | | | | | | message is | | | | | | sent on | | | | | | S5/S8. See | | | | | | NOTE 4. | | | | | | | | | | | | - CSG Change | | | | | | Reporting | | | | | | Support | | | | | | Indication: | | | | | | shall be | | | | | | used on | | | | | | S4/S11, | | | | | | S5/S8 and | | | | | | set if the | | | | | | SGSN/MME | | | | | | supports CSG | | | | | | Information | | | | | | Change | | | | | | Reporting. | | | | | | This flag | | | | | | shall be | | | | | | ignored by | | | | | | SGW if no | | | | | | message is | | | | | | sent on | | | | | | S5/S8. See | | | | | | NOTE 4. | | | | | | | | | | | | - Change | | | | | | F-TEID | | | | | | support | | | | | | Indication: | | | | | | This flag | | | | | | shall be | | | | | | used on | | | | | | S4/S11 for | | | | | | an IDLE | | | | | | state UE | | | | | | initiated | | | | | | TAU/RAU | | | | | | procedure | | | | | | and set to 1 | | | | | | to allow the | | | | | | SGW changing | | | | | | the GTP-U | | | | | | F-TEID. | | | +------------------+----+------------------+------------------+------+ | Sender F-TEID | C | This IE shall be | F-TEID | 0 | | for Control | | sent on the S11 | | | | Plane | | and S4 | | | | | | interfaces for a | | | | | | TAU/RAU/ | | | | | | Handover with | | | | | | MME/SGSN change | | | | | | and without any | | | | | | SGW change. | | | | | | | | | | | | This IE shall be | | | | | | sent on the S5 | | | | | | and S8 | | | | | | interfaces for a | | | | | | TAU/RAU/Handover | | | | | | with a SGW | | | | | | change. | | | +------------------+----+------------------+------------------+------+ | Aggregate | C | The APN-AMBR | AMBR | 0 | | Maximum Bit Rate | | shall be sent | | | | (APN-AMBR) | | for the PS | | | | | | mobility from | | | | | | the Gn/Gp SGSN | | | | | | to the S4 | | | | | | SGSN/MME | | | | | | procedures.. | | | +------------------+----+------------------+------------------+------+ | Delay Downlink | C | This IE shall be | Delay Value | 0 | | Packet | | sent on the S11 | | | | Notification | | interface for a | | | | Request | | UE triggered | | | | | | Service Request. | | | +------------------+----+------------------+------------------+------+ | Bearer Contexts | C | This IE shall | Bearer Context | 0 | | to be modified | | not be sent on | | | | | | the S5/S8 | | | | | | interface for a | | | | | | UE triggered | | | | | | Service Request. | | | | | | | | | | | | When Handover | | | | | | Indication flag | | | | | | is set to 1 | | | | | | (i.e., for | | | | | | EUTRAN Initial | | | | | | Attach or UE | | | | | | Requested PDN | | | | | | Connectivity | | | | | | when the UE | | | | | | comes from | | | | | | non-3GPP | | | | | | access), the PGW | | | | | | shall ignore | | | | | | this IE. See | | | | | | NOTE 1. | | | | | | | | | | | | Several IEs with | | | | | | the same type | | | | | | and instance | | | | | | value may be | | | | | | included as | | | | | | necessary to | | | | | | represent a list | | | | | | of Bearers to be | | | | | | modified. | | | | | | | | | | | | During a | | | | | | TAU/RAU/Handover | | | | | | procedure with | | | | | | an SGW change, | | | | | | the SGW includes | | | | | | all bearers it | | | | | | received from | | | | | | the MME/SGSN | | | | | | (Bearer Contexts | | | | | | to be created, | | | | | | or Bearer | | | | | | Contexts to be | | | | | | modified and | | | | | | also Bearer | | | | | | Contexts to be | | | | | | removed) into | | | | | | the list of | | | | | | \'Bearer | | | | | | Contexts to be | | | | | | modified\' IEs, | | | | | | which are then | | | | | | sent on the | | | | | | S5/S8 interface | | | | | | to the PGW (see | | | | | | NOTE 2). | | | +------------------+----+------------------+------------------+------+ | Bearer Contexts | C | This IE shall be | Bearer Context | 1 | | to be removed | | included on the | | | | | | S4 and S11 | | | | | | interfaces for | | | | | | the | | | | | | TAU/RAU/Handover | | | | | | and Service | | | | | | Request | | | | | | procedures where | | | | | | any of the | | | | | | bearers existing | | | | | | before the | | | | | | TAU/RAU/Handover | | | | | | procedure and | | | | | | Service Request | | | | | | procedures will | | | | | | be deactivated | | | | | | as consequence | | | | | | of the | | | | | | TAU/RAU/Handover | | | | | | procedure and | | | | | | Service Request | | | | | | procedures. | | | | | | (NOTE 3) | | | | | | | | | | | | For each of | | | | | | those bearers, | | | | | | an IE with the | | | | | | same type and | | | | | | instance value, | | | | | | shall be | | | | | | included. | | | +------------------+----+------------------+------------------+------+ | Recovery | C | This IE shall be | Recovery | 0 | | | | included if | | | | | | contacting the | | | | | | peer for the | | | | | | first time | | | +------------------+----+------------------+------------------+------+ | UE Time Zone | CO | This IE shall be | UE Time Zone | 0 | | | | included by the | | | | | | MME/SGSN on the | | | | | | S11/S4 | | | | | | interfaces if | | | | | | the UE Time Zone | | | | | | has changed in | | | | | | the case of | | | | | | TAU/RAU/Handover | | | | | | or UE initiated | | | | | | Service Request | | | | | | procedure. See | | | | | | NOTE 5. | | | +------------------+----+------------------+------------------+------+ | | C | If SGW receives | | | | | | this IE, SGW | | | | | | shall forward it | | | | | | to PGW across | | | | | | S5/S8 interface. | | | +------------------+----+------------------+------------------+------+ | MME-FQ-CSID | C | This IE shall be | FQ-CSID | 0 | | | | included by MME | | | | | | on S11 and shall | | | | | | be forwarded by | | | | | | SGW on S5/S8 | | | | | | according to the | | | | | | requirements in | | | | | | 3GPP TS 23.007 | | | | | | [17]. | | | +------------------+----+------------------+------------------+------+ | SGW-FQ-CSID | C | This IE shall be | FQ-CSID | 1 | | | | included by SGW | | | | | | on S5/S8 | | | | | | according to the | | | | | | requirements in | | | | | | 3GPP TS 23.007 | | | | | | [17]. | | | +------------------+----+------------------+------------------+------+ | User CSG | CO | The MME/SGSN | UCI | 0 | | Information | | shall include | | | | (UCI) | | this IE for | | | | | | Handover | | | | | | procedures and | | | | | | UE-initiated | | | | | | Service Request | | | | | | procedure if the | | | | | | PGW has | | | | | | requested CSG | | | | | | Info reporting | | | | | | and the MME/SGSN | | | | | | support the CSG | | | | | | information | | | | | | reporting and | | | | | | the User CSG | | | | | | information has | | | | | | changed. | | | | | | | | | | | | In TAU/RAU | | | | | | procedure | | | | | | without SGW | | | | | | change, this IE | | | | | | shall also be | | | | | | sent if the PGW | | | | | | has requested | | | | | | CSG info | | | | | | reporting and | | | | | | MME support CSG | | | | | | info reporting | | | | | | and the User CSG | | | | | | information has | | | | | | changed when UE | | | | | | requested to | | | | | | active E-RAB for | | | | | | all the active | | | | | | EPS bearers in | | | | | | TAU procedure or | | | | | | to keep the Iu | | | | | | connection after | | | | | | the completion | | | | | | of the RAU | | | | | | procedure. See | | | | | | NOTE 5. | | | | | | | | | | | | The SGW shall | | | | | | include this IE | | | | | | on S5/S8 if it | | | | | | receives the | | | | | | User CSG | | | | | | Information from | | | | | | MME/SGSN. | | | +------------------+----+------------------+------------------+------+ | MME/S4-SGSN LDN | O | This IE is | Local | 0 | | | | optionally sent | Distinguished | | | | | by the MME to | Name (LDN) | | | | | the SGW on the | | | | | | S11 interface | | | | | | and by the SGSN | | | | | | to the SGW on | | | | | | the S4 interface | | | | | | (see 3GPP TS | | | | | | 32.423 [44]), | | | | | | when | | | | | | communicating | | | | | | the LDN to the | | | | | | peer node for | | | | | | the first time. | | | +------------------+----+------------------+------------------+------+ | SGW LDN | O | This IE is | Local | 1 | | | | optionally sent | Distinguished | | | | | by the SGW to | Name (LDN) | | | | | the PGW on the | | | | | | S5/S8 interfaces | | | | | | (see 3GPP TS | | | | | | 32.423 [44]), | | | | | | for inter-SGW | | | | | | mobity, when | | | | | | communicating | | | | | | the LDN to the | | | | | | peer node for | | | | | | the first time. | | | +------------------+----+------------------+------------------+------+ | Private | O | | Private | VS | | Extension | | | Extension | | +------------------+----+------------------+------------------+------+ | NOTE1: This | | | | | | requirement is | | | | | | introduced for | | | | | | backwards | | | | | | compatibility | | | | | | reasons. If | | | | | | Bearer Contexts | | | | | | to be modified | | | | | | IE(s) is | | | | | | received in the | | | | | | Modify Bearer | | | | | | Request message, | | | | | | the PGW shall | | | | | | include | | | | | | corresponding | | | | | | Bearer Contexts | | | | | | modified IE(s) | | | | | | in the Modify | | | | | | Bearer Response | | | | | | message. | | | | | | | | | | | | NOTE2: According | | | | | | to the | | | | | | description in | | | | | | 3GPP TS 23.401 | | | | | | [3] e.g. | | | | | | subclause | | | | | | 5.3.3.1 | | | | | | \"Tracking Area | | | | | | Update procedure | | | | | | with Serving GW | | | | | | change\" and | | | | | | 3GPP TS 23.060 | | | | | | [35], during a | | | | | | TAU/RAU/Handover | | | | | | procedure with | | | | | | an SGW change, | | | | | | if the SGW | | | | | | receives | | | | | | \'Bearer Context | | | | | | to be removed\' | | | | | | IEs, the SGW | | | | | | shall allocate | | | | | | the S5/8-U SGW | | | | | | F-TEID for those | | | | | | bearers and | | | | | | include also | | | | | | these bearers in | | | | | | the \'Bearer | | | | | | contexts to be | | | | | | modified\' IE, | | | | | | which is then | | | | | | sent within this | | | | | | message on the | | | | | | S5/S8 interface | | | | | | to the PGW. | | | | | | | | | | | | NOTE3: The | | | | | | \'Bearer | | | | | | Contexts to be | | | | | | removed\' IE | | | | | | signals to the | | | | | | SGW that these | | | | | | bearers will be | | | | | | removed by the | | | | | | MME/SGSN later | | | | | | on by separate | | | | | | procedures (e.g. | | | | | | MME/S4-SGSN | | | | | | initiated | | | | | | Dedicated Bearer | | | | | | Deactivation | | | | | | procedure). | | | | | | Therefore, the | | | | | | SGW will not | | | | | | delete these | | | | | | bearers during | | | | | | the ongoing | | | | | | TAU/RAU/Handover | | | | | | procedure | | | | | | (without an SGW | | | | | | change), a | | | | | | Handover | | | | | | procedure (with | | | | | | an SGW change | | | | | | except for an | | | | | | X2-Handover) and | | | | | | a Service | | | | | | Request | | | | | | procedure. | | | | | | | | | | | | NOTE 4: 3GPP TS | | | | | | 23.401 [3] | | | | | | (e.g. subclause | | | | | | 5.3.2.1) and | | | | | | 3GPP TS 23.060 | | | | | | [35] (e.g. | | | | | | subclause | | | | | | 9.2.2.1) defines | | | | | | the MME/SGSN | | | | | | shall send the | | | | | | MS Info Change | | | | | | Reporting | | | | | | Support | | | | | | Indication to | | | | | | the PGW. In such | | | | | | case MME/SGSN | | | | | | shall use the | | | | | | Change Reporting | | | | | | Support | | | | | | Indication | | | | | | and/or CSG | | | | | | Change Reporting | | | | | | Support | | | | | | Indication | | | | | | (whichever is | | | | | | applicable), | | | | | | even if stage 2 | | | | | | refers to MS | | | | | | Info Change | | | | | | Reporting | | | | | | Support | | | | | | Indication. | | | | | | | | | | | | NOTE 5: In | | | | | | TAU/RAU | | | | | | procedure, if | | | | | | the UE requested | | | | | | to active E-RAB | | | | | | for all the | | | | | | active EPS | | | | | | bearers in TAU | | | | | | procedure or to | | | | | | keep the Iu | | | | | | connection after | | | | | | the completion | | | | | | of the RAU | | | | | | procedure, the | | | | | | User Location | | | | | | Info/User CSG | | | | | | Information/UE | | | | | | Time Zone shall | | | | | | not be sent in | | | | | | S1-U GTP-U | | | | | | tunnel setup | | | | | | procedure during | | | | | | the TAU | | | | | | procedure (see | | | | | | 3GPP TS 24.301 | | | | | | [23]) or in | | | | | | the Service | | | | | | Request | | | | | | procedure after | | | | | | the completion | | | | | | of the RAU | | | | | | procedure. | | | | | +------------------+----+------------------+------------------+------+
Table 7.2.7-2: Bearer Context to be modified within Modify Bearer Request
+-----------------------+---+-----------------------+---------+------+ | Octets 1 | | Bearer Context IE | | | | | | Type = 93 (decimal) | | | +-----------------------+---+-----------------------+---------+------+ | Octets 2 and 3 | | Length = n | | | +-----------------------+---+-----------------------+---------+------+ | Octets 4 | | Spare and Instance | | | | | | fields | | | +-----------------------+---+-----------------------+---------+------+ | Information elements | P | Condition / Comment | IE Type | Ins. | +-----------------------+---+-----------------------+---------+------+ | EPS Bearer ID | M | | EBI | 0 | +-----------------------+---+-----------------------+---------+------+ | S1 eNodeB F-TEID | C | This IE shall be sent | F-TEID | 0 | | | | on the S11 interface | | | | | | if the S1-U is being | | | | | | used: | | | | | | | | | | | | - for an eUTRAN | | | | | | initial attach | | | | | | | | | | | | - a UE triggered | | | | | | Service Request | | | | | | | | | | | | - in all S1-U GTP-U | | | | | | tunnel setup | | | | | | procedure during | | | | | | a TAU procedure | | | | | | (see 3GPP TS | | | | | | 24.301 [23]) | | | | | | /handover cases. | | | | | | | | | | | | If an MME is aware | | | | | | that the eNodeB | | | | | | supports both IP | | | | | | address types, the | | | | | | MME shall send both | | | | | | IP addresses within | | | | | | an F-TEID IE. If only | | | | | | one IP address is | | | | | | included, then the | | | | | | SGW shall assume that | | | | | | the eNodeB does not | | | | | | support the other IP | | | | | | address type. | | | +-----------------------+---+-----------------------+---------+------+ | S5/8-U SGW F-TEID | C | This IE shall be sent | F-TEID | 1 | | | | on the S5/S8 | | | | | | interfaces for a | | | | | | Handover or a TAU/RAU | | | | | | with a SGW change. | | | +-----------------------+---+-----------------------+---------+------+ | S12 RNC F-TEID | C | If available, this IE | F-TEID | 2 | | | | shall be included if | | | | | | the message is sent | | | | | | on the S4 interface | | | | | | if S12 interface is | | | | | | being used. If an | | | | | | S4-SGSN is aware that | | | | | | the RNC supports both | | | | | | IP address types, the | | | | | | S4-SGSN shall send | | | | | | both IP addresses | | | | | | within an F-TEID IE. | | | | | | If only one IP | | | | | | address is included, | | | | | | then the SGW shall | | | | | | assume that the RNC | | | | | | does not support the | | | | | | other IP address | | | | | | type. | | | +-----------------------+---+-----------------------+---------+------+ | S4-U SGSN F-TEID | C | If available, this IE | F-TEID | 3 | | | | shall be included if | | | | | | the message is sent | | | | | | on the S4 interface, | | | | | | if S4-U is being | | | | | | used. If an S4-SGSN | | | | | | supports both IP | | | | | | address types, the | | | | | | S4-SGSN shall send | | | | | | both IP addresses | | | | | | within an F-TEID IE. | | | | | | If only one IP | | | | | | address is included, | | | | | | then the SGW shall | | | | | | assume that the | | | | | | S4-SGSN does not | | | | | | support the other IP | | | | | | address type. | | | +-----------------------+---+-----------------------+---------+------+ | NOTE 1: If only EPS | | | | | | Bearer ID IE is | | | | | | included in the | | | | | | Bearer Context to be | | | | | | modified IE during | | | | | | the TAU/RAU without | | | | | | SGW change procedure, | | | | | | the SGW shall remove | | | | | | the stored | | | | | | SGSN/RNC/eNodeB | | | | | | userplane F-TEID | | | | | | locally. | | | | | +-----------------------+---+-----------------------+---------+------+
Table 7.2.7-3: Bearer Context to be removed within Modify Bearer Request
* * *
Octets 1 Bearer Context IE Type = 93 (decimal)  
Octets 2 and 3 Length = n  
Octets 4 Spare and Instance fields  
Information elements P Condition / Comment IE Type Ins. EPS Bearer ID M EBI 0
* * *
.
### 7.2.8 Modify Bearer Response
The Modify Bearer Response message shall be sent on the S11 interface by the
SGW to the MME and on the S5/S8 interfaces by the PGW to the SGW as part of
the procedures:
\- E-UTRAN Tracking Area Update without SGW Change
\- UE triggered Service Request
\- S1-based Handover
\- UTRAN Iu mode to E-UTRAN Inter RAT handover
\- GERAN A/Gb mode to E-UTRAN Inter RAT handover
\- E-UTRAN Initial Attach
\- UE requested PDN connectivity
\- 3G SGSN to MME combined hard handover and SRNS relocation procedure
\- X2-based handover without SGW relocation
It shall also be sent on the S4 interface by the SGW to the SGSN and on the
S5/S8 interfaces by the PGW to the SGW as part of the procedures:
\- Routeing Area Update with MME interaction and without SGW change
\- E-UTRAN to UTRAN Iu mode Inter RAT handover
\- E-UTRAN to GERAN A/Gb mode Inter RAT handover
\- Inter SGSN Routeing Area Update Procedure and Combined Inter SGSN RA / LA
Update to S4 SGSNs without SGW change
\- Iu mode RA Update Procedure without SGW change
\- Serving RNS Relocation Procedure
\- Combined Hard Handover and SRNS Relocation Procedure
\- Combined Cell / URA Update and SRNS Relocation Procedure
\- Enhanced Serving RNS Relocation without SGW relocation
\- UE Initiated Service Request Procedure
\- Iu mode to A/Gb mode Intra SGSN Change
\- A/Gb mode to Iu mode Intra SGSN Change
\- Iu mode to A/Gb mode Inter-SGSN Change
\- A/Gb mode to Iu mode Inter-SGSN Change
\- Paging Response with no established user plane on S4
\- PDP Context Activation Procedure
on the S4 interface by the SGSN to the SGW as part of:
\- RAB Assignment Procedure
and on the S5/S8 interfaces by the PGW to the SGW as part of:
\- Tracking Area Update procedure with SGW change
\- Gn/Gp SGSN to S4 SGSN Routing Area Update
\- X2 based handover with SGW relocation
\- Gn/Gp SGSN to MME Tracking Area Update
\- Enhanced Serving RNS Relocation with SGW relocation
\- Routeing Area Update with MME interaction and with SGW change
\- Inter SGSN Routeing Area Update Procedure and Combined Inter SGSN RA / LA
Update using S4 with SGW change
\- Iu mode RA Update Procedure using S4 with SGW change
If handling of default bearer fails, then Cause at the message level shall be
a failure cause.
Possible Cause values are:
\- \"Request accepted\".
\- \"Request accepted partially\".
\- \"Request rejected\".
\- \"Context not found\".
\- \"Mandatory IE incorrect\".
\- \"Mandatory IE missing\".
\- \"Conditional IE missing\".
\- \"System failure\".
\- \"No memory available\"
\- \"Invalid message format\".
\- \"Service not supported\".
Table 7.2.8-1: Information Elements in a Modify Bearer Response
+------------------+----+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+----+------------------+------------------+------+ | Cause | M | | Cause | 0 | +------------------+----+------------------+------------------+------+ | MSISDN | C | This IE shall be | MSISDN | 0 | | | | included on | | | | | | S5/S8 interfaces | | | | | | by the PGW if it | | | | | | is stored in its | | | | | | UE context and | | | | | | if this message | | | | | | is triggered due | | | | | | to TAU/RAU/HO | | | | | | with SGW | | | | | | relocation. | | | +------------------+----+------------------+------------------+------+ | Linked EPS | C | This IE shall be | EBI | 0 | | Bearer ID | | sent on S5/S8 | | | | | | when the UE | | | | | | moves from a | | | | | | Gn/Gp SGSN to | | | | | | the S4 SGSN or | | | | | | MME to identify | | | | | | the default | | | | | | bearer the PGW | | | | | | selects for the | | | | | | PDN Connection. | | | | | | | | | | | | This IE shall | | | | | | also be sent by | | | | | | SGW on S11, S4 | | | | | | during Gn/Gp | | | | | | SGSN to | | | | | | S4-SGSN/MME HO | | | | | | procedures to | | | | | | identify the | | | | | | default bearer | | | | | | the PGW selects | | | | | | for the PDN | | | | | | Connection. | | | +------------------+----+------------------+------------------+------+ | Aggregate | C | This IE shall be | AMBR | 0 | | Maximum Bit Rate | | included in the | | | | (APN-AMBR) | | PS mobility from | | | | | | Gn/Gp SGSN to | | | | | | the S4 SGSN/MME | | | | | | procedures if | | | | | | the received | | | | | | APN-AMBR has | | | | | | been modified by | | | | | | the PCRF. | | | +------------------+----+------------------+------------------+------+ | **APN | C | This IE denotes | APN Restriction | 0 | | Restriction** | | the restriction | | | | | | on the | | | | | | combination of | | | | | | types of APN for | | | | | | the APN | | | | | | associated with | | | | | | this EPS bearer | | | | | | Context. This IE | | | | | | shall be | | | | | | included over | | | | | | S5/S8 | | | | | | interfaces, and | | | | | | shall be | | | | | | forwarded over | | | | | | S11/S4 | | | | | | interfaces | | | | | | during Gn/Gp | | | | | | SGSN to | | | | | | MME/S4-SGSN | | | | | | handover | | | | | | procedures. | | | | | | | | | | | | This IE shall | | | | | | also be included | | | | | | on S5/S8 | | | | | | interfaces | | | | | | during the Gn/Gp | | | | | | SGSN to S4 | | | | | | SGSN/MME RAU/TAU | | | | | | procedures. | | | | | | | | | | | | The target MME | | | | | | or SGSN | | | | | | determines the | | | | | | Maximum APN | | | | | | Restriction | | | | | | using the APN | | | | | | Restriction. | | | +------------------+----+------------------+------------------+------+ | Protocol | C | If SGW receives | PCO | 0 | | Configuration | | this IE from PGW | | | | Options (PCO) | | on GTP or PMIP | | | | | | based S5/S8, the | | | | | | SGW shall | | | | | | forward PCO to | | | | | | MME/S4-SGSN | | | | | | during Inter RAT | | | | | | handover from | | | | | | the UTRAN or | | | | | | from the GERAN | | | | | | to the E-UTRAN. | | | | | | See NOTE 2. | | | +------------------+----+------------------+------------------+------+ | Bearer Contexts | C | EPS bearers | Bearer Context | 0 | | modified | | corresponding to | | | | | | Bearer Contexts | | | | | | to be modified | | | | | | that were sent | | | | | | in Modify Bearer | | | | | | Request message. | | | | | | Several IEs with | | | | | | the same type | | | | | | and instance | | | | | | value may be | | | | | | included as | | | | | | necessary to | | | | | | represent a list | | | | | | of the Bearers | | | | | | which are | | | | | | modified. | | | +------------------+----+------------------+------------------+------+ | Bearer Contexts | C | EPS bearers | Bearer Context | 1 | | marked for | | corresponding to | | | | removal | | Bearer Contexts | | | | | | to be removed | | | | | | sent in the | | | | | | Modify Bearer | | | | | | Request message. | | | | | | Shall be | | | | | | included if | | | | | | request message | | | | | | contained Bearer | | | | | | Contexts to be | | | | | | removed. | | | | | | | | | | | | For each of | | | | | | those bearers an | | | | | | IE with the same | | | | | | type and | | | | | | instance value | | | | | | shall be | | | | | | included. | | | +------------------+----+------------------+------------------+------+ | Change Reporting | C | This IE shall be | Change Reporting | 0 | | Action | | included with | Action | | | | | the appropriate | | | | | | Action field If | | | | | | the location | | | | | | Change Reporting | | | | | | mechanism is to | | | | | | be started or | | | | | | stopped for this | | | | | | subscriber in | | | | | | the SGSN/MME. | | | +------------------+----+------------------+------------------+------+ | CSG Information | CO | This IE shall be | CSG Information | 0 | | Reporting Action | | included with | Reporting Action | | | | | the appropriate | | | | | | Action field if | | | | | | the location CSG | | | | | | Info change | | | | | | reporting | | | | | | mechanism is to | | | | | | be started or | | | | | | stopped for this | | | | | | subscriber in | | | | | | the SGSN/MME. | | | +------------------+----+------------------+------------------+------+ | Charging Gateway | C | When Charging | FQDN | 0 | | Name | | Gateway Function | | | | | | (CGF) Address is | | | | | | configured, the | | | | | | PGW shall | | | | | | include this IE | | | | | | on the S5 | | | | | | interface during | | | | | | SGW relocation | | | | | | and when the UE | | | | | | moves from Gn/Gp | | | | | | SGSN to | | | | | | S4-SGSN/MME. See | | | | | | NOTE 1. | | | +------------------+----+------------------+------------------+------+ | Charging Gateway | C | When Charging | IP Address | 0 | | Address | | Gateway Function | | | | | | (CGF) Address is | | | | | | configured, the | | | | | | PGW shall | | | | | | include this IE | | | | | | on the S5 | | | | | | interface during | | | | | | SGW relocation | | | | | | and when the UE | | | | | | moves from Gn/Gp | | | | | | SGSN to | | | | | | S4-SGSN/MME. See | | | | | | NOTE 1. | | | +------------------+----+------------------+------------------+------+ | PGW-FQ-CSID | C | This IE shall be | FQ-CSID | 0 | | | | included by PGW | | | | | | on S5/S8and | | | | | | shall be | | | | | | forwarded by SGW | | | | | | on S11 according | | | | | | to the | | | | | | requirements in | | | | | | 3GPP TS 23.007 | | | | | | [17]. | | | +------------------+----+------------------+------------------+------+ | SGW-FQ-CSID | C | This IE shall be | FQ-CSID | 1 | | | | included by SGW | | | | | | on S11 according | | | | | | to the | | | | | | requirements in | | | | | | 3GPP TS 23.007 | | | | | | [17]. | | | +------------------+----+------------------+------------------+------+ | Recovery | C | This IE shall be | Recovery | 0 | | | | included if | | | | | | contacting the | | | | | | peer for the | | | | | | first time. | | | +------------------+----+------------------+------------------+------+ | SGW LDN | O | This IE is | Local | 0 | | | | optionally sent | Distinguished | | | | | by the SGW to | Name (LDN) | | | | | the MME/SGSN on | | | | | | the S11/S4 | | | | | | interfaces (see | | | | | | 3GPP TS 32.423 | | | | | | [44]), when | | | | | | communicating | | | | | | the LDN to the | | | | | | peer node for | | | | | | the first time. | | | +------------------+----+------------------+------------------+------+ | PGW LDN | O | This IE is | Local | 1 | | | | optionally sent | Distinguished | | | | | by the PGW to | Name (LDN)Name | | | | | the SGW on the | | | | | | S5/S8 interfaces | | | | | | (see 3GPP TS | | | | | | 32.423 [44]), | | | | | | when | | | | | | communicating | | | | | | the LDN to the | | | | | | peer node for | | | | | | the first time. | | | +------------------+----+------------------+------------------+------+ | Private | O | | Private | VS | | Extension | | | Extension | | +------------------+----+------------------+------------------+------+ | NOTE 1: Both | | | | | | Charging Gateway | | | | | | Name and | | | | | | Charging Gateway | | | | | | Address shall | | | | | | not be included | | | | | | at the same | | | | | | time. When both | | | | | | are available, | | | | | | the operator | | | | | | configures a | | | | | | preferred value. | | | | | | | | | | | | NOTE 2: If MME | | | | | | receives the IE, | | | | | | but no NAS | | | | | | message is sent, | | | | | | MME discards the | | | | | | IE. | | | | | +------------------+----+------------------+------------------+------+
Table 7.2.8-2: Bearer Context modified within Modify Bearer Response
+------------------+----+------------------+--------------+------+ | Octets 1 | | Bearer Context | | | | | | IE Type = 93 | | | | | | (decimal) | | | +------------------+----+------------------+--------------+------+ | Octets 2 and 3 | | Length = n | | | +------------------+----+------------------+--------------+------+ | Octets 4 | | Spare and | | | | | | Instance fields | | | +------------------+----+------------------+--------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+----+------------------+--------------+------+ | EPS Bearer ID | M | | EBI | 0 | +------------------+----+------------------+--------------+------+ | Cause | M | This IE shall | Cause | 0 | | | | indicate if the | | | | | | bearer handling | | | | | | was successful, | | | | | | and if not, | | | | | | gives | | | | | | information on | | | | | | the reason. | | | +------------------+----+------------------+--------------+------+ | S1 SGW F-TEID | C | This IE shall be | F-TEID | 0 | | | | used on the S11 | | | | | | interface, if | | | | | | the S1 interface | | | | | | is used. See | | | | | | NOTE 1 | | | +------------------+----+------------------+--------------+------+ | S12 SGW F-TEID | C | This IE shall be | F-TEID | 1 | | | | included on the | | | | | | S4 interface if | | | | | | the S12 | | | | | | interface is | | | | | | being used. See | | | | | | NOTE 1 | | | +------------------+----+------------------+--------------+------+ | S4-U SGW F-TEID | C | This IE shall be | F-TEID | 2 | | | | present if used | | | | | | on the S4 | | | | | | interface if the | | | | | | S4-U interface | | | | | | is being used. | | | | | | See NOTE 1 | | | +------------------+----+------------------+--------------+------+ | Charging ID | C | This IE shall be | Charging ID | 0 | | | | present on the | | | | | | S5/S8 interface | | | | | | if this message | | | | | | is triggered due | | | | | | to one of the | | | | | | following | | | | | | procedures: | | | | | | | | | | | | - TAU/RAU/HO | | | | | | with SGW | | | | | | relocation | | | | | | | | | | | | - TAU/RAU/HO | | | | | | from Gn/Gp | | | | | | SGSN to | | | | | | MME/S4-SGSN | | | +------------------+----+------------------+--------------+------+ | | O | If S5/S8 | | | | | | interface is | | | | | | GTP, this IE may | | | | | | be sent on the | | | | | | S4 interface, in | | | | | | order to support | | | | | | CAMEL charging | | | | | | at the SGSN, for | | | | | | the following | | | | | | procedures: | | | | | | | | | | | | - inter-SGSN | | | | | | R | | | | | | AU/Handover/SRNS | | | | | | Relocation | | | | | | without SGW | | | | | | change. | | | | | | | | | | | | - inter-SGSN | | | | | | | | | | | | Handover/SRNS | | | | | | Relocation | | | | | | with SGW | | | | | | change. | | | +------------------+----+------------------+--------------+------+ | Bearer Flags | CO | Applicable flags | Bearer Flags | 0 | | | | are: | | | | | | | | | | | | - PPC | | | | | | (Prohibit | | | | | | Payload | | | | | | | | | | | | Compression): | | | | | | This flag | | | | | | shall be | | | | | | sent on the | | | | | | S5/S8 and | | | | | | the S4 | | | | | | interfaces | | | | | | at S4-SGSN | | | | | | relocation. | | | +------------------+----+------------------+--------------+------+ | NOTE 1: The SGW | | | | | | shall not change | | | | | | its F-TEID for a | | | | | | given interface | | | | | | during the | | | | | | Handover, | | | | | | Service Request, | | | | | | E-UTRAN Initial | | | | | | Attach, UE | | | | | | Requested PDN | | | | | | connectivity and | | | | | | PDP Context | | | | | | Activation | | | | | | procedures. The | | | | | | SGW F-TEID shall | | | | | | be same for | | | | | | S1-U, S4-U and | | | | | | S12.\ | | | | | | During Handover | | | | | | and Service | | | | | | Request the | | | | | | target | | | | | | eNodeB/RNC/SGSN | | | | | | may use a | | | | | | different IP | | | | | | type than the | | | | | | one used by the | | | | | | source | | | | | | eNodeB/RNC/SGSN. | | | | | | In order to | | | | | | support such a | | | | | | scenario, the | | | | | | SGW F-TEID | | | | | | should contain | | | | | | both an IPv4 | | | | | | address and an | | | | | | IPv6 address | | | | | | (see also | | | | | | subclause 8.22 | | | | | | \"F-TEID\"). | | | | | +------------------+----+------------------+--------------+------+
Table 7.2.8-3: Bearer Context marked for removal within Modify Bearer Response
* * *
Octet 1 Bearer Context IE Type = 93 (decimal)  
Octets 2 and 3 Length = n  
Octet 4 Spare and Instance fields  
Information elements P Condition / Comment IE Type Ins. EPS Bearer ID M EBI 0
Cause M This IE shall indicate if the bearer handling was successful, and if
not, gives information on the reason. Cause 0
* * *
### 7.2.9 Delete Session Request and Delete Bearer Request
#### 7.2.9.1 Delete Session Request
The direction of this message shall be from MME/S4-SGSN to SGW and from SGW to
PGW (see Table 6.1-1).
A Delete Session Request message shall be sent on the S11 interface by the MME
to the SGW and on the S5/S8 interface by the SGW to the PGW as part of the
procedures:
\- EUTRAN Initial Attach
\- UE, HSS or MME Initiated Detach
\- UE or MME Requested PDN Disconnection
It shall also be sent on the S4 interface by the SGSN to the SGW, and on the
S5/S8 interface by the SGW to the PGW as part of
\- MS, HLR or SGSN initiated detach procedure
\- Combined GPRS/IMSI Attach
\- MS and SGSN Initiated PDN connection Deactivation Procedure using S4
On the S11 interface by the MME to the SGW as part of the procedures:
\- Tracking Area Update with SGW Change
\- S1 Based Handover with SGW Change
\- X2 Based Handover with SGW Relocation
\- E-UTRAN to UTRAN Iu mode Inter RAT handover with SGW change
\- E-UTRAN to GERAN A/Gb mode Inter RAT handover with SGW change
\- Inter RAT handover cancel with SGW change
\- MME to 3G Gn/Gp SGSN combined hard handover and SRNS relocation procedure
\- MME to SGSN Routing Area Update
\- E-UTRAN to Gn/Gp SGSN Inter RAT handover
\- S1 Based handover cancel with SGW change
\- Optimised Active Handover: E-UTRAN Access to CDMA2000 HRPD Access
And on the S4 interface by the SGSN to the SGW as part of
\- Enhanced Serving RNS Relocation with SGW relocation using S4
\- Routing Area Update with SGW change
\- SGSN to MME Tracking Area Update with SGW change
\- SRNS Relocation Cancel Procedure Using S4
\- Inter RAT with SGW change handover cancel
\- Serving RNS relocation with SGW change
\- UTRAN Iu mode to E-UTRAN Inter RAT handover with SGW change
\- GERAN A/Gb mode to E-UTRAN Inter RAT handover with SGW change
\- S4 SGSN to Gn/Gp SGSN Routeing Area Update
\- S4 SGSN to Gn/Gp SGSN Serving RNS Relocation Procedures
\- S4 SGSN to Gn/Gp SGSN PS handover Procedures
If there are any procedure collisions, the Delete Session Request shall have
precedence over any other Tunnel Management message.
During the handover procedure the Delete Session Request message shall not
release the indirect data forwarding tunnels.
Possible Cause values are:
\- \"ISR deactivation \".
Table 7.2.9.1-1 specifies the presence of the IEs in the message.
Table 7.2.9.1-1: Information Elements in a Delete Session Request
+------------------+----+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+----+------------------+------------------+------+ | Cause | C | If ISR is being | Cause | 0 | | | | de-activated, | | | | | | the Cause IE | | | | | | shall be | | | | | | included and its | | | | | | value shall | | | | | | indicate that | | | | | | the SGW shall | | | | | | delete the | | | | | | bearer resources | | | | | | by sending | | | | | | Delete Bearer | | | | | | Request to the | | | | | | MME/SGSN on | | | | | | which ISR was | | | | | | activated with | | | | | | Cause value | | | | | | \"ISR | | | | | | deactivation\". | | | | | | See NOTE 3. | | | +------------------+----+------------------+------------------+------+ | Linked EPS | C | This IE shall be | EBI | 0 | | Bearer ID (LBI) | | included to | | | | | | indicate the | | | | | | default bearer | | | | | | associated with | | | | | | the PDN being | | | | | | disconnected | | | | | | unless in the | | | | | | handover/TAU/RAU | | | | | | with SGW | | | | | | relocation | | | | | | procedures. | | | +------------------+----+------------------+------------------+------+ | User Location | C | The MME/SGSN | ULI | 0 | | Information | | shall include | | | | (ULI) | | this IE for the | | | | | | Detach procedure | | | | | | if the PGW has | | | | | | requested | | | | | | location | | | | | | information | | | | | | change reporting | | | | | | and MME/SGSN | | | | | | support location | | | | | | information | | | | | | change | | | | | | reporting. The | | | | | | SGW shall | | | | | | include this IE | | | | | | on S5/S8 if it | | | | | | receives the ULI | | | | | | from MME/SGSN. | | | +------------------+----+------------------+------------------+------+ | | CO | The MME shall | | | | | | include this IE | | | | | | for the UE or | | | | | | MME Requested | | | | | | PDN | | | | | | Disconnection | | | | | | procedure if the | | | | | | PGW has | | | | | | requested | | | | | | location | | | | | | information | | | | | | change reporting | | | | | | and the MME | | | | | | support location | | | | | | information | | | | | | change | | | | | | reporting. | | | | | | | | | | | | The SGW shall | | | | | | include this IE | | | | | | on S5/S8 if it | | | | | | receives the ULI | | | | | | from the MME. | | | +------------------+----+------------------+------------------+------+ | Indication Flags | C | This IE shall be | Indication | 0 | | | | included if any | | | | | | one of the | | | | | | applicable flags | | | | | | is set to 1. | | | | | | | | | | | | Applicable | | | | | | flags: | | | | | | | | | | | | - Operation | | | | | | Indication: | | | | | | This flag | | | | | | shall be set | | | | | | over S4/S11 | | | | | | interface if | | | | | | the SGW | | | | | | needs to | | | | | | forward the | | | | | | Delete | | | | | | Session | | | | | | Request | | | | | | message to | | | | | | the PGW. | | | | | | This flag | | | | | | shall not be | | | | | | set if the | | | | | | ISR | | | | | | associated | | | | | | GTP entity | | | | | | sends this | | | | | | message to | | | | | | the SGW in | | | | | | the Detach | | | | | | procedure. | | | | | | This flag | | | | | | shall also | | | | | | not be set | | | | | | to 1 in the | | | | | | SRNS | | | | | | Relocation | | | | | | Cancel Using | | | | | | S4 | | | | | | (6.9.2.2.4a | | | | | | in 3GPP TS | | | | | | 23.060 | | | | | | [4]), | | | | | | Inter RAT | | | | | | handover | | | | | | Cancel | | | | | | procedure | | | | | | with SGW | | | | | | change TAU | | | | | | with Serving | | | | | | GW change, | | | | | | Gn/Gb based | | | | | | RAU (see | | | | | | 5.5.2.5, | | | | | | 5.3.3.1, | | | | | | D.3.5 in | | | | | | 3GPP TS | | | | | | 23.401 | | | | | | [3], | | | | | | | | | | | | respectively), | | | | | | S1 Based | | | | | | handover | | | | | | Cancel | | | | | | procedure | | | | | | with SGW | | | | | | change. | | | | | | | | | | | | - Scope | | | | | | Indication: | | | | | | if request | | | | | | corresponds | | | | | | to | | | | | | TAU/R | | | | | | AU/Handover/SRNS | | | | | | Relocation | | | | | | Cancel Using | | | | | | S4, Inter | | | | | | RAT handover | | | | | | Cancel | | | | | | procedure | | | | | | with SGW | | | | | | change, S1 | | | | | | Based | | | | | | handover | | | | | | Cancel | | | | | | procedure | | | | | | with SGW | | | | | | change, then | | | | | | this bit is | | | | | | set. | | | | | | | | | | | | See NOTE 1. | | | +------------------+----+------------------+------------------+------+ | Protocol | C | If the UE | PCO | 0 | | Configuration | | includes the PCO | | | | Options (PCO) | | IE, then the | | | | | | MME/SGSN shall | | | | | | copy the content | | | | | | of this IE | | | | | | transparently | | | | | | from the PCO IE | | | | | | included by the | | | | | | UE. | | | | | | | | | | | | If SGW receives | | | | | | the PCO IE, SGW | | | | | | shall forward it | | | | | | to PGW. | | | +------------------+----+------------------+------------------+------+ | Originating Node | C | This IE shall be | Node Type | 0 | | | | included if the | | | | | | ISR associated | | | | | | GTP entities | | | | | | send this | | | | | | message to SGW | | | | | | in Detach | | | | | | procedure to | | | | | | denote the type | | | | | | of the node | | | | | | originating the | | | | | | message. If this | | | | | | IE is included | | | | | | in the Delete | | | | | | Session Request | | | | | | message, the SGW | | | | | | in ISR activated | | | | | | state | | | | | | deactivates ISR | | | | | | after receiving | | | | | | the first Delete | | | | | | Session Request | | | | | | message from the | | | | | | MME/SGSN, | | | | | | releases the | | | | | | Originating Node | | | | | | related EPS | | | | | | Bearer contexts | | | | | | information in | | | | | | the PDN | | | | | | Connection | | | | | | identified by | | | | | | the LBI. | | | | | | | | | | | | The SGW shall | | | | | | forward the | | | | | | Delete Session | | | | | | Request message | | | | | | to the PGW after | | | | | | receiving both | | | | | | of the messages | | | | | | sent from the | | | | | | MME and the SGSN | | | | | | for the same PDN | | | | | | Connection. | | | +------------------+----+------------------+------------------+------+ | | CO | This IE shall be | | | | | | included if the | | | | | | ISR associated | | | | | | GTP entity sends | | | | | | this message to | | | | | | SGW in | | | | | | TAU/RAU/HO with | | | | | | SGW change | | | | | | procedure to | | | | | | denote the type | | | | | | of the node | | | | | | originating the | | | | | | message. | | | +------------------+----+------------------+------------------+------+ | Sender F-TEID | O | This IE may be | F-TEID | 0 | | for Control | | included on the | | | | Plane | | S4/S11 | | | | | | interfaces. | | | | | | | | | | | | If the Sender | | | | | | F-TEID for | | | | | | Control Plane is | | | | | | received by the | | | | | | SGW, the SGW | | | | | | shall only | | | | | | accept the | | | | | | Delete Session | | | | | | Request message | | | | | | when the Sender | | | | | | F-TEID for | | | | | | Control Plane in | | | | | | this message is | | | | | | the same as the | | | | | | Sender F-TEID | | | | | | for Control | | | | | | Plane that was | | | | | | last received in | | | | | | either the | | | | | | Create Session | | | | | | Request message | | | | | | or the Modify | | | | | | Bearer Request | | | | | | message on the | | | | | | given interface. | | | | | | | | | | | | If the ISR is | | | | | | activated, two | | | | | | F-TEIDs exist: | | | | | | one for the MME | | | | | | and the other | | | | | | for the SGSN. | | | | | | See NOTE 2. | | | +------------------+----+------------------+------------------+------+ | UE Time Zone | CO | This IE shall be | UE Time Zone | 0 | | | | included by the | | | | | | MME on the S11 | | | | | | interface or by | | | | | | the SGSN on the | | | | | | S4 interface, | | | | | | for Detach and | | | | | | PDN | | | | | | Disconnection | | | | | | procedures, if | | | | | | the UE Time Zone | | | | | | has changed. | | | +------------------+----+------------------+------------------+------+ | | CO | The SGW shall | | | | | | forward this IE | | | | | | on the S5/S8 | | | | | | interface if the | | | | | | SGW supports | | | | | | this IE and it | | | | | | receives it from | | | | | | the MME/SGSN, | | | | | | and if the | | | | | | Operation | | | | | | Indication bit | | | | | | received from | | | | | | the MME/SGSN is | | | | | | set to 1. | | | +------------------+----+------------------+------------------+------+ | Private | O | None | Private | VS | | Extension | | | Extension | | +------------------+----+------------------+------------------+------+ | NOTE 1: For the | | | | | | Indication | | | | | | Flags, the | | | | | | combination | | | | | | (Operation | | | | | | Indication, | | | | | | Scope | | | | | | Indication) = | | | | | | 1,1 shall be | | | | | | considered an | | | | | | error if | | | | | | received. | | | | | | | | | | | | NOTE 2: | | | | | | Following an | | | | | | inter RAT | | | | | | TAU/RAU failure, | | | | | | the target | | | | | | MME/SGSN may | | | | | | mistakenly | | | | | | initiate the | | | | | | implicit detach | | | | | | procedure while | | | | | | the UE is | | | | | | managed by the | | | | | | other MME/SGSN. | | | | | | In this case, | | | | | | the SGW will | | | | | | reject the | | | | | | Delete Session | | | | | | Request message | | | | | | with the cause | | | | | | \"Invalid | | | | | | peer\". | | | | | | | | | | | | NOTE 3: 3GPP TS | | | | | | 23.401 [3] | | | | | | (e.g. subclause | | | | | | 5.3.3.1, or | | | | | | annex D.3.5) | | | | | | defines if the | | | | | | SGW shall | | | | | | forward the | | | | | | Delete Session | | | | | | Request to the | | | | | | PGW, or not. In | | | | | | such cases, the | | | | | | OI flag shall be | | | | | | used even if the | | | | | | stage 2 refers | | | | | | to use of a | | | | | | Cause IE. | | | | | +------------------+----+------------------+------------------+------+
#### 7.2.9.2 Delete Bearer Request
The direction of this message shall be from PGW to SGW and from SGW to
MME/S4-SGSN (see Table 6.1-1).
A Delete Bearer Request message shall be sent as part of the following
procedures:
\- PGW or MME initiated bearer deactivation procedures,
\- UE requested Bearer Resource Modification,
\- MS and SGSN Initiated Bearer Deactivation procedure using S4 or
\- PGW initiated bearer deactivation procedure using S4.
In the above cases, this Request is sent by the PGW to the SGW and shall be
forwarded to the MME or S4-SGSN.
The message shall also be sent on the S4/S11 interface by the SGW to the
SGSN/MME to delete the bearer resources on the other ISR associated CN node if
the ISRAI flag is not set in the Modify Bearer Request message.
The message shall also be sent on the S4/S11 interface by the SGW to the
SGSN/MME to delete the bearer resources on the other ISR associated CN node in
the TAU/RAU/Handover procedures if the ISR related Cause IE is included in the
Delete Session Request message.
Possible Cause values are:
\- \"RAT changed from 3GPP to Non-3GPP\",
\- \"ISR deactivation\".
Table 7.2.9.2-1 specifies the presence of IEs in this message.
Table 7.2.9.2-1: Information Elements in a Delete Bearer Request
+------------------+---+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+---+------------------+------------------+------+ | Linked EPS | C | If the request | EBI | 0 | | Bearer ID (LBI) | | corresponds to | | | | | | the bearer | | | | | | deactivation | | | | | | procedure in | | | | | | case all bearers | | | | | | belonging to a | | | | | | PDN connection | | | | | | shall be | | | | | | released, then | | | | | | this IE shall be | | | | | | included to | | | | | | indicate the | | | | | | default bearer | | | | | | associated with | | | | | | the PDN being | | | | | | disconnected. | | | | | | | | | | | | This IE shall be | | | | | | included only | | | | | | when the EPS | | | | | | Bearer ID is not | | | | | | present in the | | | | | | message. | | | +------------------+---+------------------+------------------+------+ | EPS Bearer IDs | C | This IE shall be | EBI | 1 | | | | used for bearers | | | | | | different from | | | | | | the default one, | | | | | | i.e., for | | | | | | dedicated | | | | | | bearers. In this | | | | | | case at least | | | | | | one dedicated | | | | | | bearer shall be | | | | | | included. | | | | | | | | | | | | Several IEs with | | | | | | this type and | | | | | | instance values | | | | | | shall be | | | | | | included as | | | | | | necessary to | | | | | | represent a list | | | | | | of Bearers. | | | +------------------+---+------------------+------------------+------+ | Failed Bearer | O | This IE may be | Bearer Context | 0 | | Contexts | | included if the | | | | | | request | | | | | | corresponds to | | | | | | MME initiated | | | | | | bearer | | | | | | deactivation | | | | | | procedure. This | | | | | | IE shall contain | | | | | | the list of | | | | | | failed bearers | | | | | | if partial | | | | | | Bearer Contexts | | | | | | included in the | | | | | | Delete Bearer | | | | | | Command message | | | | | | could not be | | | | | | deleted. | | | +------------------+---+------------------+------------------+------+ | Procedure | C | If the request | PTI | 0 | | Transaction Id | | corresponds to | | | | (PTI) | | UE requested | | | | | | bearer resource | | | | | | modification | | | | | | procedure for an | | | | | | E-UTRAN, this IE | | | | | | shall be | | | | | | included. | | | +------------------+---+------------------+------------------+------+ | Protocol | C | PGW shall | PCO | 0 | | Configuration | | include Protocol | | | | Options (PCO) | | Configuration | | | | | | Options (PCO) | | | | | | IE, if | | | | | | available. | | | | | | | | | | | | If SGW receives | | | | | | this IE, SGW | | | | | | shall forward it | | | | | | to SGSN/MME on | | | | | | the S4/S11 | | | | | | interface. | | | +------------------+---+------------------+------------------+------+ | PGW-FQ-CSID | C | This IE shall be | FQ-CSID | 0 | | | | included by the | | | | | | PGW on the S5/S8 | | | | | | interface and | | | | | | shall be | | | | | | forwarded by the | | | | | | SGW on the S11 | | | | | | interface | | | | | | according to the | | | | | | requirements in | | | | | | 3GPP TS 23.007 | | | | | | [17]. | | | +------------------+---+------------------+------------------+------+ | SGW-FQ-CSID | C | This IE shall be | FQ-CSID | 1 | | | | included by the | | | | | | SGW on the S11 | | | | | | interface | | | | | | according to the | | | | | | requirements in | | | | | | 3GPP TS 23.007 | | | | | | [17]. | | | +------------------+---+------------------+------------------+------+ | Cause | C | This IE shall be | Cause | 0 | | | | sent on S5/S8 | | | | | | and S11/S4 | | | | | | interfaces if | | | | | | the message is | | | | | | caused by | | | | | | handover with or | | | | | | without | | | | | | optimization | | | | | | from 3GPP to | | | | | | non-3GPP (see | | | | | | subclause 9.3.2 | | | | | | in 3GPP TS | | | | | | 23.402 [45] | | | | | | and subclause | | | | | | 5.4.4.1 in 3GPP | | | | | | TS 23.401 [3], | | | | | | respectively). | | | | | | In this case the | | | | | | Cause value | | | | | | shall be set to | | | | | | \"RAT changed | | | | | | from 3GPP to | | | | | | Non-3GPP\". | | | | | | | | | | | | This IE shall | | | | | | also be sent on | | | | | | S11/S4 | | | | | | interfaces when | | | | | | the SGW requests | | | | | | to delete all | | | | | | bearer contexts | | | | | | in an MME or | | | | | | S4-SGSN due to | | | | | | ISR | | | | | | deactivation, | | | | | | and its Cause | | | | | | value shall then | | | | | | be set to \"ISR | | | | | | deactivation\". | | | +------------------+---+------------------+------------------+------+ | Private | O | | Private | VS | | Extension | | | Extension | | +------------------+---+------------------+------------------+------+
NOTE: In the case that the procedure was initiated by a UE Requested Bearer
Resource Modification Procedure for an E-UTRAN, then there will be only one
instance of the EPS Bearer IDs IE in the Delete Bearer Request.
Table 7.2.9.2-2: Bearer Context within Delete Bearer Request
* * *
Octet 1 Bearer Context IE Type = 93 (decimal)  
Octets 2 and 3 Length = n  
Octet 4 Spare and Instance fields  
Information elements P Condition / Comment IE Type Ins. EPS Bearer ID M EBI 0
Cause M This IE shall indicate the reason of the unsuccessful handling of the
bearer. Cause 0 Protocol Configuration Options (PCO) CO PGW shall include
Protocol Configuration Options (PCO) IE, if available. This bearer level IE
takes precedence over the PCO IE in the message body if they both exist. PCO 0
* * *
### 7.2.10 Delete Session Response and Delete Bearer Response
#### 7.2.10.1 Delete Session Response
A Delete Session Response message shall be sent on the S11 interface by the
SGW to the MME and on the S5/S8 interface by the PGW to the SGW as part of the
following procedures:
\- EUTRAN Initial Attach
\- UE, HSS or MME Initiated Detach
\- UE or MME Requested PDN Disconnection
It shall also be sent on the S4 interface by the SGW to the SGSN and on the
S5/S8 interface by the PGW to the SGW as part of the procedures:
\- MS, HLR or SGSN initiated detach procedure
\- Combined GPRS/IMSI Attach
\- MS and SGSN Initiated Default Bearer Deactivation Procedure using S4
On the S11 interface by the SGW to the MME as part of the procedures:
\- Tracking Area Update with SGW Change
\- S1 Based Handover with SGW Change
\- X2 Based Handover with SGW Relocation
\- E-UTRAN to UTRAN Iu mode Inter RAT handover with SGW change
\- E-UTRAN to GERAN A/Gb mode Inter RAT handover with SGW change
\- Inter RAT handover cancel with SGW change
\- MME to 3G Gn/Gp SGSN combined hard handover and SRNS relocation procedure
\- MME to SGSN Routing Area Update
\- E-UTRAN to Gn/Gp SGSN Inter RAT handover
\- S1 Based handover cancel with SGW change
\- Optimised Active Handover: E-UTRAN Access to CDMA2000 HRPD Access
And on the S4 interface by the SGW to the SGSN as part of the procedures:
\- Enhanced Serving RNS Relocation with SGW relocation using S4
\- Routing Area Update with SGW change
\- SGSN to MME Tracking Area Update with SGW change
\- Serving RNS relocation with SGW change
\- UTRAN Iu mode to E-UTRAN Inter RAT handover with SGW change
\- GERAN A/Gb mode to E-UTRAN Inter RAT handover with SGW change
\- S4 SGSN to Gn/Gp SGSN Routeing Area Update
\- S4 SGSN to Gn/Gp SGSN Serving RNS Relocation Procedures
\- S4 SGSN to Gn/Gp SGSN PS handover Procedures
The sending entity shall include Cause IE in the Delete Session Response
message. The IE indicates if the peer has deleted the bearer, or not.
Possible Cause values are:
  * \"Request accepted\".
  * \"Context not found\".
  * \"Mandatory IE incorrect\".
  * \"Conditional IE missing\".
  * \"Invalid message format\".
  * \" Invalid peer\".
Table 7.2.10.1-1 specifies the presence of the IEs in the message.
Table 7.2.10.1-1: Information Elements in a Delete Session Response
+------------------+---+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+---+------------------+------------------+------+ | Cause | M | | Cause | 0 | +------------------+---+------------------+------------------+------+ | Recovery | C | This IE shall be | Recovery | 0 | | | | included If | | | | | | contacting the | | | | | | peer for the | | | | | | first time | | | +------------------+---+------------------+------------------+------+ | Protocol | C | PGW shall | PCO | 0 | | Configuration | | include Protocol | | | | Options (PCO) | | Configuration | | | | | | Options (PCO) | | | | | | IE, if | | | | | | available. | | | | | | | | | | | | If SGW receives | | | | | | this IE, SGW | | | | | | shall forward it | | | | | | to SGSN/MME on | | | | | | the S4/S11 | | | | | | interface. | | | +------------------+---+------------------+------------------+------+ | Private | O | | Private | VS | | Extension | | | Extension | | +------------------+---+------------------+------------------+------+
#### 7.2.10.2 Delete Bearer Response
The Delete Bearer Response shall be sent as a response of Delete Bearer
Request.
Possible Cause values are:
  * \"Request accepted\".
  * \"Request accepted partially\".
  * \"Request rejected\".
  * \"Context not found\".
  * \"Mandatory IE incorrect\".
  * \"Conditional IE missing\".
  * \"System failure\".
  * \"Invalid message format\".
Table 7.2.10.2-1: Information Elements in Delete Bearer Response
+------------------+----+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+----+------------------+------------------+------+ | Cause | M | | Cause | 0 | +------------------+----+------------------+------------------+------+ | Linked EPS | C | If the response | EBI | 0 | | Bearer ID (LBI) | | corresponds to | | | | | | the bearer | | | | | | deactivation | | | | | | procedure in | | | | | | case all the | | | | | | bearers | | | | | | associated with | | | | | | the default | | | | | | bearer of a PDN | | | | | | connection shall | | | | | | be released, | | | | | | this IE shall be | | | | | | included to | | | | | | indicate the | | | | | | default bearer | | | | | | associated with | | | | | | the PDN being | | | | | | disconnected. | | | +------------------+----+------------------+------------------+------+ | Bearer Contexts | C | It shall be used | Bearer Context | 0 | | | | for bearers | | | | | | different from | | | | | | default one. In | | | | | | this case at | | | | | | least one bearer | | | | | | shall be | | | | | | included. | | | | | | | | | | | | Several IEs with | | | | | | this type and | | | | | | instance values | | | | | | shall be | | | | | | included as | | | | | | necessary to | | | | | | represent a list | | | | | | of Bearers. | | | | | | | | | | | | Used for | | | | | | dedicated | | | | | | bearers. When | | | | | | used, at least | | | | | | one dedicated | | | | | | bearer shall be | | | | | | present. | | | +------------------+----+------------------+------------------+------+ | Recovery | C | This IE shall be | Recovery | 0 | | | | included if | | | | | | contacting the | | | | | | peer for the | | | | | | first time | | | +------------------+----+------------------+------------------+------+ | MME-FQ-CSID | C | This IE shall be | FQ-CSID | 0 | | | | included by MME | | | | | | the on S11 | | | | | | interface and | | | | | | shall be | | | | | | forwarded by the | | | | | | SGW on S5/S8 | | | | | | interface | | | | | | according to the | | | | | | requirements in | | | | | | 3GPP TS 23.007 | | | | | | [17]. | | | +------------------+----+------------------+------------------+------+ | SGW-FQ-CSID | C | This IE shall be | FQ-CSID | 1 | | | | included by the | | | | | | SGW on the S5/S8 | | | | | | interface | | | | | | according to the | | | | | | requirements in | | | | | | 3GPP TS 23.007 | | | | | | [17]. | | | +------------------+----+------------------+------------------+------+ | Protocol | CO | An MME/SGSN | PCO | 0 | | Configuration | | shall include | | | | Options (PCO) | | **the** PCO IE | | | | | | if such | | | | | | information was | | | | | | received from | | | | | | the UE. | | | | | | | | | | | | If the SGW | | | | | | receives this | | | | | | IE, the SGW | | | | | | shall forward it | | | | | | to PGW on the | | | | | | S5/S8 interface. | | | +------------------+----+------------------+------------------+------+ | UE Time Zone | O | This IE is | UE Time Zone | 0 | | | | optionally | | | | | | included by the | | | | | | MME on the S11 | | | | | | interface or by | | | | | | the SGSN on the | | | | | | S4 interface. | | | +------------------+----+------------------+------------------+------+ | | CO | The SGW shall | | | | | | forward this IE | | | | | | on the S5/S8 | | | | | | interface if the | | | | | | SGW supports | | | | | | this IE and it | | | | | | receives it from | | | | | | the MME/SGSN. | | | +------------------+----+------------------+------------------+------+ | User Location | O | This IE is | ULI | 0 | | Information | | optionally | | | | (ULI) | | included by the | | | | | | MME on the S11 | | | | | | interface or by | | | | | | the SGSN on the | | | | | | S4 interface. | | | +------------------+----+------------------+------------------+------+ | | CO | The SGW shall | | | | | | forward this IE | | | | | | on the S5/S8 | | | | | | interface if the | | | | | | SGW supports | | | | | | this IE and it | | | | | | receives it from | | | | | | the MME/SGSN. | | | +------------------+----+------------------+------------------+------+ | Private | O | | Private | VS | | Extension | | | Extension | | +------------------+----+------------------+------------------+------+
Table 7.2.10.2-2: Bearer Context within Delete Bearer Response
* * *
Octet 1 Bearer Context IE Type = 93 (decimal)  
Octets 2 and 3 Length = n  
Octet 4 Spare and Instance fields  
Information elements P Condition / Comment IE Type Ins. EPS Bearer ID M EBI 0
Cause M This IE shall indicate if the bearer handling was successful, and if
not, gives information on the reason. Cause 0 Protocol Configuration Options
(PCO) CO An MME/SGSN shall include the PCO IE if such information was received
from the UE. This bearer level IE takes precedence over the PCO IE in the
message body if they both exist. PCO 0
* * *
### 7.2.11 Downlink Data Notification messages
#### 7.2.11.1 Downlink Data Notification
A Downlink Data Notification message shall be sent:
\- on the S11 interface by the SGW to the MME as a part of the network
triggered service request procedure;
\- on the S4 interface by the SGW to the S4-SGSN as part of Paging with no
established user plane on S4, SGW triggered paging with S4;
\- on the S4 interface by the SGW to the S4-SGSN to re-establish all previous
released bearer(s) for a UE, upon receipt of downlink data for a UE in
connected mode but without corresponding downlink bearer available;
NOTE: This may occur e.g. if the S4-SGSN releases some but not all the bearers
of the UE as specified in subclause 12.7.2.2 of 3GPP TS 23.060 [35].
\- on S11/S4 interface by SGW to MME/S4-SGSN if the SGW has received an Error
Indication (see 3GPP TS 29.281 [13]) from eNodeB/RNC across S1-U/S12
interface. Respective SGW and MME/S4-SGSN functionality is specified in 3GPP
TS 23.007 [17].
A Downlink Data Notification message may be sent:
\- on the S4 interface by the SGW to the S4-SGSN if the SGW has received an
Error Indication from S4-SGSN across S4-U interface.
Table 7.2.11.1-1 specifies the presence of the IEs in the message.
Table 7.2.11.1-1: Information Elements in a Downlink Data Notification
* * *
Information elements P Condition / Comment IE Type Ins. Cause CO If SGW
receives an Error Indication from eNodeB/RNC/S4-SGSN, the SGW shall send the
Cause IE with value \"Error Indication received from RNC/eNodeB/S4-SGSN\" to
MME/S4-SGSN as specified in 3GPP TS 23.007 [17]. Cause 0 Private Extension O
Private Extension VS
* * *
#### 7.2.11.2 Downlink Data Notification Acknowledge
A Downlink Data Notification Acknowledge shall be sent from a MME/SGSN to a
SGW in response to Downlink Data Notification with an indication of success,
or failure when MME/SGSN has reachability or abnormal conditions.
Possible Cause values are:
  * \"Request accepted\".
  * \"Unable to page UE\".
  * \"Invalid message format\".
  * \"Context not found\".
  * \"Unable to page UE due to Suspension\".
Table 7.2.11.2-1 specifies the presence of the IEs in the message.
Table 7.2.11.2-1: Information Elements in a Downlink Data Notification
Acknowledge
* * *
Information elements P Condition / Comment IE Type Ins. Cause M Cause 0 Data
Notification Delay C The MME/SGSN shall include an adaptive delay indication
to the SGW to delay the number of Data Notification indications, if the rate
of Downlink Data Notification event occurrence in the MME/SGSN becomes
significant (as configured by the operator) and the MME/SGSN\'s load exceeds
an operator configured value. Delay Value 0 Recovery C This IE shall be
included if contacting the peer for the first time Recovery 0 Private
Extension O Private Extension VS
* * *
#### 7.2.11.3 Downlink Data Notification Failure Indication
A Downlink Data Notification Failure indication shall be sent from an MME/SGSN
to a SGW indicating that the UE did not respond to paging. It shall also be
sent in the case that the UE responded to the page with a Service Request but
that the MME has rejected the request by sending a Service Reject to the UE.
It may happen, for example, because the requested service is not supported or
there is a bearer context mismatch.
This message should not be used after an MME/SGSN successfully receives the
Service Request message from the UE in the Network Triggered Service Request
procedure as defined in the 3GPP TS 23.401 [3].
NOTE: Either the Modify Bearer Request message or the Delete Bearer Command
message is used by the MME/SGSN to indicate a possible failure case after an
MME/SGSN successfully receives the Service Request message from the UE.
Possible Cause values are:
  * \"UE not responding\".
  * \"Service denied\".
Table 7.2.11.3-1 specifies the presence of the IEs in the message.
Table 7.2.11.3-1: Information Elements in a Downlink Data Notification Failure
Indication
* * *
Information elements P Condition / Comment IE Type Ins. Cause M Cause 0
Private Extension O Private Extension VS
* * *
### 7.2.12 Delete Indirect Data Forwarding Tunnel Request
The Delete Indirect Data Forwarding Tunnel Request message is sent on the
S4/S11 interface by the SGSN/MME to the SGW to delete the Indirect Forwarding
Tunnels in the Source SGW/Target SGW as part of the following procedures:
\- S1-based handover
\- UTRAN Iu mode to E-UTRAN Inter RAT handover
\- GERAN A/Gb mode to E-UTRAN Inter RAT handover
\- E-UTRAN to UTRAN Iu mode Inter RAT handover
\- E-UTRAN to GERAN A/Gb mode Inter RAT handover
\- MME to 3G SGSN combined hard handover and SRNS relocation procedure
\- 3G SGSN to MME combined hard handover and SRNS relocation procedure
\- Inter RAT handover Cancel
\- S1-based handover Cancel
\- Optimised Active Handover: E-UTRAN Access to CDMA2000 HRPD Access
Table 7.2.12-1: Information Element in Delete Indirect Data Forwarding Tunnel
Request
* * *
Information elements P Condition / Comment IE Type Ins. Private Extension O
Vendor or operator specific information Private Extension VS
* * *
### 7.2.13 Delete Indirect Data Forwarding Tunnel Response
The Delete Indirect Data Forwarding Tunnel Response message is sent on the
S4/S11 interface by the SGW to the SGSN/MME as part of the following
procedures:
\- S1-based handover
\- UTRAN Iu mode to E-UTRAN Inter RAT handover
\- GERAN A/Gb mode to E-UTRAN Inter RAT handover
\- E-UTRAN to UTRAN Iu mode Inter RAT handover
\- E-UTRAN to GERAN A/Gb mode Inter RAT handover
\- MME to 3G SGSN combined hard handover and SRNS relocation procedure
\- 3G SGSN to MME combined hard handover and SRNS relocation procedure
\- Inter RAT handover Cancel
\- S1-based handover Cancel
\- Optimised Active Handover: E-UTRAN Access to CDMA2000 HRPD Access
Possible Cause values are:
\- \"Request accepted\".
\- \"Request accepted partially\"
\- \"Request rejected\"
\- \"No memory available\"
\- \"System failure\".
\- \"Invalid message format\".
\- \"Context not found\".
Table 7.2.13-1: Information Element in Delete Indirect Data Forwarding Tunnel
Response
* * *
Information elements P Condition / Comment IE Type Ins. Cause M This IE shall
indicate if the deletion of indirect tunnel is successful, and if not, gives
information on the reason. Cause 0 Recovery C This IE shall be included if
contacting the peer for the first time. Recovery 0 Private Extension O Private
Extension VS
* * *
### 7.2.14 Modify Bearer Command and Failure Indication
#### 7.2.14.1 Modify Bearer Command
The Modify Bearer Command shall be sent on the S11 interface by the MME to the
SGW and on the S5/S8 interface by the SGW to the PGW as part of the HSS
Initiated Subscribed QoS Modification procedure or SQCI flag is set to 1 in
the Context Response message.
It shall also be sent on the S4 interface by the SGSN to the SGW and on the
S5/S8 interface by the SGW to the PGW as part of the HSS Initiated subscribed
QoS modification procedure or SQCI flag is set to 1 in the Context Response
message.
Table 7.2.14.1-1: Information Elements in a Modify Bearer Command
* * *
Information elements P Condition / Comment IE Type Ins. APN-Aggregate Maximum
Bit Rate (APN-AMBR) M This IE shall contain the APN-AMBR value received by the
MME/SGSN from the HSS. AMBR 0 Bearer Context M Only one IE with this type and
instance value shall be included and this shall represent the Default Bearer.
Bearer Context 0 Private Extension O Private Extension VS
* * *
Table 7.2.14.1-2: Bearer Context within Modify Bearer Command
* * *
Octet 1 Bearer Context IE Type = 93 (decimal)  
Octets 2 and 3 Length = n  
Octet 4 Spare and Instance fields  
Information elements P Condition / Comment IE Type Ins. EPS Bearer ID M This
IE shall contain the default bearer ID. EBI 0 Bearer Level QoS C Mandatory if
other parameters than the APN-AMBR have been changed Bearer QoS 0 CO This IE
shall also be included when QCI and ARP have not been changed and if the SQCI
flag is set to 1 in the Context Response message.
* * *
#### 7.2.14.2 Modify Bearer Failure Indication
The Modify Bearer Failure Indication shall be sent on the S5/S8 interface by
the PGW to the SGW and on the S11 interface by the SGW to the MME as part of
failure of **HSS Initiated Subscribed QoS Modification** procedure.
It shall also be sent on the S5/S8 interface by the PGW to the SGW and on the
S4 interface by the SGW to the SGSN as part of failure of HSS Initiated
subscribed QoS modification.
Cause IE indicates that an EPS bearer has not been updated in the PGW.
Possible Cause values are:
  * \"Context not found\"
  * \"No resources available\".
  * \"No memory available\".
  * \"System failure\".
  * \"Mandatory IE incorrect\".
  * \"Mandatory IE missing\".
  * \"Conditional IE missing\".
  * \"Invalid message format\".
  * \"Invalid length\".
  * \"Service denied\".
Table 7.2.14.2-1: Information Elements in a Modify Bearer Failure Indication
* * *
Information elements P Condition / Comment IE Type Ins. Cause M Cause 0
Recovery C This IE shall be included if contacting the peer for the first time
Recovery 0 Private Extension O Private Extension VS
* * *
### 7.2.15 Update Bearer Request
The direction of this message shall be from PGW to SGW and/or from SGW to
MME/S4-SGSN (see Table 6.1-1).
For GTP based S5/S8, the Update Bearer Request shall be sent by the PGW to the
SGW and forwarded to the MME as part of the following procedures:
\- PGW Initiated Bearer Modification with Bearer QoS Update
\- HSS Initiated Subscribed QoS Modification
\- PGW Initiated Bearer Modification without Bearer QoS Update
\- UE Request Bearer Resource Modification procedure
The message shall also be sent on the S5/S8 interface by the PGW to the SGW
and on the S4 interface by the SGW to the SGSN as part of the following
procedures:
\- PGW Initiated EPS Bearer Modification
\- Execution part of MS-Initiated EPS Bearer Modification
\- SGSN-Initiated EPS Bearer Modification Procedure using S4
For PMIP based S5/S8, the Update Bearer Request shall be sent on the S11
interface by the SGW to the MME and on the S4 interface by the SGW to the
SGSN.
Table 7.2.15-1 specifies the presence requirements and the conditions of the
IEs in the message.
Table 7.2.15-1: Information Elements in an Update Bearer Request
+------------------+----+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+----+------------------+------------------+------+ | Bearer Contexts | M | This IE shall | Bearer Context | 0 | | | | contain contexts | | | | | | related to | | | | | | bearers that | | | | | | need QoS/TFT | | | | | | modification. | | | | | | Several IEs with | | | | | | this type and | | | | | | instance values | | | | | | shall be | | | | | | included as | | | | | | necessary to | | | | | | represent a list | | | | | | of Bearers. | | | | | | | | | | | | If there is no | | | | | | QoS/TFT | | | | | | modification, | | | | | | only one IE with | | | | | | this type and | | | | | | instance value | | | | | | shall be | | | | | | included. | | | +------------------+----+------------------+------------------+------+ | Procedure | C | If the request | PTI | 0 | | Transaction Id | | corresponds to | | | | (PTI) | | UE requested | | | | | | bearer resource | | | | | | modification | | | | | | procedure for an | | | | | | E-UTRAN or MS | | | | | | initiated EPS | | | | | | bearer | | | | | | modification | | | | | | procedure, this | | | | | | IE shall be | | | | | | included. | | | | | | | | | | | | PTI shall be the | | | | | | same as the one | | | | | | used in the | | | | | | corresponding | | | | | | Bearer Resource | | | | | | Command | | | +------------------+----+------------------+------------------+------+ | Protocol | C | PGW shall | PCO | 0 | | Configuration | | include Protocol | | | | Options (PCO) | | Configuration | | | | | | Options (PCO) | | | | | | **IE** , if | | | | | | available. The | | | | | | PCO IE shall | | | | | | carry a P-CSCF | | | | | | address list | | | | | | only when the UE | | | | | | is required to | | | | | | perform an IMS | | | | | | registration, | | | | | | e.g during the | | | | | | P-CSCF | | | | | | restoration | | | | | | procedure as | | | | | | defined in | | | | | | sub-clause 5.1 | | | | | | of 3GPP TS | | | | | | 23.380 [61]. | | | | | | | | | | | | If SGW receives | | | | | | this IE, SGW | | | | | | shall forward it | | | | | | to SGSN/MME on | | | | | | the S4/S11 | | | | | | interface. | | | +------------------+----+------------------+------------------+------+ | Aggregate | M | APN-AMBR | AMBR | 0 | | Maximum Bit Rate | | | | | | (APN-AMBR) | | | | | +------------------+----+------------------+------------------+------+ | Change Reporting | C | This IE shall be | Change Reporting | 0 | | Action | | included with | Action | | | | | the appropriate | | | | | | Action field If | | | | | | the location | | | | | | Change Reporting | | | | | | mechanism is to | | | | | | be started or | | | | | | stopped for this | | | | | | subscriber in | | | | | | the SGSN/MME. | | | +------------------+----+------------------+------------------+------+ | CSG Information | CO | This IE shall be | CSG Information | 0 | | Reporting Action | | included with | Reporting Action | | | | | the appropriate | | | | | | Action field if | | | | | | the CSG Info | | | | | | reporting | | | | | | mechanism is to | | | | | | be started or | | | | | | stopped for this | | | | | | subscriber in | | | | | | the SGSN/MME. | | | +------------------+----+------------------+------------------+------+ | PGW-FQ-CSID | C | This IE shall be | FQ-CSID | 0 | | | | by PGW on S5/S8 | | | | | | and shall be | | | | | | forwarded by SGW | | | | | | on S11 according | | | | | | to the | | | | | | requirements in | | | | | | 3GPP TS 23.007 | | | | | | [17]. | | | +------------------+----+------------------+------------------+------+ | SGW-FQ-CSID | C | This IE shall be | FQ-CSID | 1 | | | | included by SGW | | | | | | on S11 according | | | | | | to the | | | | | | requirements in | | | | | | 3GPP TS 23.007 | | | | | | [17]. | | | +------------------+----+------------------+------------------+------+ | Private | O | | Private | VS | | Extension | | | Extension | | +------------------+----+------------------+------------------+------+
NOTE: In the case that the procedure was initiated by a UE Requested Bearer
Resource Modification Procedure for an E-UTRAN or MS initiated EPS bearer
modification procedure, then there will be only one instance of the Bearer
Contexts IE in the Update Bearer Request.
Table 7.2.15-2: Bearer Context within Update Bearer Request
+------------------+----+------------------+--------------+------+ | Octet 1 | | Bearer Context | | | | | | IE Type = 93 | | | | | | (decimal) | | | +------------------+----+------------------+--------------+------+ | Octets 2 and 3 | | Length = n | | | +------------------+----+------------------+--------------+------+ | Octet 4 | | Spare and | | | | | | Instance fields | | | +------------------+----+------------------+--------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+----+------------------+--------------+------+ | EPS Bearer ID | M | | EBI | 0 | +------------------+----+------------------+--------------+------+ | TFT | C | This IE shall be | Bearer TFT | 0 | | | | included if | | | | | | message relates | | | | | | to Bearer | | | | | | Modification and | | | | | | TFT change. | | | | | | | | | | | | The SGW shall | | | | | | forward the IE | | | | | | unmodified on | | | | | | the S4/S11 | | | | | | interface. | | | +------------------+----+------------------+--------------+------+ | Bearer Level QoS | C | This IE shall be | Bearer QoS | 0 | | | | included if QoS | | | | | | modification is | | | | | | requested | | | +------------------+----+------------------+--------------+------+ | Bearer Flags | O | Applicable | Bearer Flags | 0 | | | | flags: | | | | | | | | | | | | PPC (Prohibit | | | | | | Payload | | | | | | Compression) | | | +------------------+----+------------------+--------------+------+ | Protocol | CO | PGW shall | PCO | 0 | | Configuration | | include Protocol | | | | Options (PCO) | | Configuration | | | | | | Options (PCO) | | | | | | IE, if | | | | | | available. The | | | | | | PCO IE shall | | | | | | carry a P-CSCF | | | | | | address list | | | | | | only when the UE | | | | | | is required to | | | | | | perform an IMS | | | | | | registration, | | | | | | e.g during the | | | | | | P-CSCF | | | | | | restoration | | | | | | procedure as | | | | | | defined in | | | | | | sub-clause 5.1 | | | | | | of 3GPP TS | | | | | | 23.380 [61]. | | | | | | This bearer | | | | | | level IE takes | | | | | | precedence over | | | | | | the PCO IE in | | | | | | the message body | | | | | | if they both | | | | | | exist. | | | +------------------+----+------------------+--------------+------+
### 7.2.16 Update Bearer Response
An Update Bearer Response shall be sent from a MME/SGSN to a SGW and forwarded
to the PGW as a response to an Update Bearer Request message.
Table 7.2.16-1 specifies the presence requirements and the conditions of the
IEs in the message.
Cause IE indicates if an EPS bearer has been modified in the MME/SGSN or not.
The EPS Bearer has not been modified in the MME if the Cause IE value differs
from \"Request accepted\" or \"Request accepted partially\". Possible Cause
values are:
  * \"Request accepted\".
  * \"Request accepted partially\"
  * \"Request rejected\"
  * \"Context not found\"
  * \"Mandatory IE incorrect\".
  * \"Mandatory IE missing\".
  * \"Conditional IE missing\".
  * \"System failure\".
  * \"Semantic error in the TFT operation\".
  * \"Syntactic error in the TFT operation\".
  * \"Semantic errors in packet filter(s)\".
  * \"Syntactic errors in packet filter(s)\".
  * \"Invalid message format\".
> \- \"Invalid length\".
>
> \- \"Denied in RAT\".
>
> \- \"UE refuses\".
>
> \- \"UE context without TFT already activated\".
  * \"No resources available\".
  * \"Unable to page UE\".
  * \"UE not responding\".
  * \"Unable to page UE due to Suspension\".
Table 7.2.16-1: Information Elements in an Update Bearer Response
+------------------+----+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+----+------------------+------------------+------+ | Cause | M | | Cause | 0 | +------------------+----+------------------+------------------+------+ | Bearer Contexts | M | This IE shall | Bearer Context | 0 | | | | contain contexts | | | | | | related to | | | | | | bearers for | | | | | | which QoS/TFT | | | | | | modification was | | | | | | requested. | | | | | | Several IEs with | | | | | | this type and | | | | | | instance values | | | | | | shall be | | | | | | included as | | | | | | necessary to | | | | | | represent a list | | | | | | of Bearers | | | +------------------+----+------------------+------------------+------+ | Protocol | CO | An MME/SGSN | PCO | 0 | | Configuration | | shall include | | | | Options (PCO) | | **the** PCO IE | | | | | | if such | | | | | | information was | | | | | | received from | | | | | | the UE. | | | | | | | | | | | | If the SGW | | | | | | receives this | | | | | | IE, the SGW | | | | | | shall forward it | | | | | | to PGW on the | | | | | | S5/S8 interface. | | | +------------------+----+------------------+------------------+------+ | Recovery | C | This IE shall be | Recovery | 0 | | | | included if | | | | | | contacting the | | | | | | peer for the | | | | | | first time | | | +------------------+----+------------------+------------------+------+ | MME-FQ-CSID | C | This IE shall be | FQ-CSID | 0 | | | | included by MME | | | | | | on S11and shall | | | | | | be forwarded by | | | | | | SGW on S5/S8 | | | | | | according to the | | | | | | requirements in | | | | | | 3GPP TS 23.007 | | | | | | [17]. | | | +------------------+----+------------------+------------------+------+ | SGW-FQ-CSID | C | This IE shall be | FQ-CSID | 1 | | | | included by SGW | | | | | | on S11 according | | | | | | to the | | | | | | requirements in | | | | | | 3GPP TS 23.007 | | | | | | [17]. | | | +------------------+----+------------------+------------------+------+ | Indication Flags | O | This IE shall be | Indication | 0 | | | | included if any | | | | | | one of the | | | | | | applicable flags | | | | | | is set to 1. | | | | | | | | | | | | Applicable | | | | | | flags: | | | | | | | | | | | | Direct Tunnel | | | | | | Flag: this flag | | | | | | may be included | | | | | | if the Direct | | | | | | Tunnel is used. | | | +------------------+----+------------------+------------------+------+ | UE Time Zone | O | This IE is | UE Time Zone | 0 | | | | optionally | | | | | | included by the | | | | | | MME on the S11 | | | | | | interface or by | | | | | | the SGSN on the | | | | | | S4 interface. | | | +------------------+----+------------------+------------------+------+ | | CO | The SGW shall | | | | | | forward this IE | | | | | | on the S5/S8 | | | | | | interface if the | | | | | | SGW supports | | | | | | this IE and it | | | | | | receives it from | | | | | | the MME/SGSN. | | | +------------------+----+------------------+------------------+------+ | User Location | O | This IE is | ULI | 0 | | Information | | optionally | | | | (ULI) | | included by the | | | | | | MME on the S11 | | | | | | interface or by | | | | | | the SGSN on the | | | | | | S4 interface. | | | +------------------+----+------------------+------------------+------+ | | CO | The SGW shall | | | | | | forward this IE | | | | | | on the S5/S8 | | | | | | interface if the | | | | | | SGW supports | | | | | | this IE and it | | | | | | receives it from | | | | | | the MME/SGSN. | | | +------------------+----+------------------+------------------+------+ | Private | O | | Private | VS | | Extension | | | Extension | | +------------------+----+------------------+------------------+------+
Table 7.2.16-2: Bearer Context within Update Bearer Response
* * *
Octet 1 Bearer Context IE Type = 93 (decimal)  
Octets 2 and 3 Length = n  
Octet 4 Spare and Instance fields  
Information elements P Condition / Comment IE Type Ins. EPS Bearer ID M EBI 0
Cause M This IE Indicates if the bearer handling was successful, and if not,
gives information on the reason. Cause 0 S4-U SGSN F-TEID C This IE shall be
included on the S4 interface when direct tunnel is not established. F-TEID 0
S12 RNC F-TEID C This IE shall be included on the S4 interface when direct
tunnel flag is set to 1. F-TEID 1 Protocol Configuration Options (PCO) CO An
MME/SGSN shall include the PCO IE if such information was received from the
UE. This bearer level IE takes precedence over the PCO IE in the message body
if they both exist. PCO 0
* * *
### 7.2.17 Delete Bearer Command and Failure Indication
#### 7.2.17.1 Delete Bearer Command
A Delete Bearer Command message shall be sent on the S11 interface by the MME
to the SGW and on the S5/S8 interface by the SGW to the PGW as a part of the
eNodeB requested **bearer release or** MME-Initiated Dedicated Bearer
Deactivation procedure.
The message shall also be sent on the S4 interface by the SGSN to the SGW and
on the S5/S8 interface by the SGW to the PGW as part of the MS and SGSN
Initiated Bearer Deactivation procedure using S4.
Table 7.2.17.1-1: Information Elements in Delete Bearer Command
* * *
Information elements P Condition / Comment IE Type Ins. Bearer Contexts M This
IE shall be used to indicate dedicated bearers. When used, at least one
dedicated bearer shall be present. Several IEs with this type and instance
values shall be included as necessary to represent a list of Bearers Bearer
Context 0 Private Extension O Private Extension VS
* * *
Table 7.2.17.1-2: Bearer Context within Delete Bearer Command
+------------------+----+------------------+--------------+------+ | Octet 1 | | Bearer Context | | | | | | IE Type = 93 | | | | | | (decimal) | | | +------------------+----+------------------+--------------+------+ | Octets 2 and 3 | | Length = n | | | +------------------+----+------------------+--------------+------+ | Octet 4 | | Spare and | | | | | | Instance fields | | | +------------------+----+------------------+--------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+----+------------------+--------------+------+ | EPS Bearer ID | M | | EBI | 0 | +------------------+----+------------------+--------------+------+ | Bearer Flags | CO | Applicable flags | Bearer Flags | 0 | | | | are: | | | | | | | | | | | | - VB (Voice | | | | | | Bearer) | | | | | | indicator | | | | | | shall be set | | | | | | to indicate | | | | | | a voice | | | | | | bearer for | | | | | | PS-to-CS | | | | | | SRVCC | | | | | | handover. | | | +------------------+----+------------------+--------------+------+
#### 7.2.17.2 Delete Bearer Failure Indication
A Delete Bearer Failure Indication shall be sent on the S5/S8 interface by the
PGW to the SGW and on the S11 interface by the SGW to the MME as part of
failure of eNodeB requested bearer release or **MME Initiated Dedicated Bearer
Deactivation** procedure.
The message shall also be sent on the S5/S8 interface by the PGW to the SGW
and on the S4 interface by the SGW to the SGSN as part of failure of MS and
SGSN Initiated Bearer Deactivation procedure using S4.
This message shall be sent back if all the bearers included in the Delete
Bearer Command message could not be deleted.
Cause IE indicates that an EPS bearer has not been deleted in the PGW.
Possible Cause values are:
  * \"Context not found\"
  * \"Mandatory IE incorrect\".
  * \"Mandatory IE missing\".
  * \"System failure\".
  * \"Invalid message format\".
Table 7.2.17.2-1: Information Elements in a Delete Bearer Failure Indication
* * *
Information elements P Condition / Comment IE Type Ins. Cause M Cause 0 Bearer
Context M This IE shall contain the list of failed bearers. Bearer Context 0
Recovery C This IE shall be included If contacting the peer for the first
time. Recovery 0 Private Extension O Private Extension VS
* * *
Table 7.2.17.2-2: Bearer Context within Delete Bearer Failure Indication
* * *
Octet 1 Bearer Context IE Type = 93 (decimal)  
Octets 2 and 3 Length = n  
Octet 4 Spare and Instance fields  
Information elements P Condition / Comment IE Type Ins. EPS Bearer ID M EBI 0
Cause M This IE shall indicate the reason of the unsuccessful handling of the
bearer. Cause 0
* * *
### 7.2.18 Create Indirect Data Forwarding Tunnel Request
The Create Indirect Data Forwarding Tunnel Request message shall be sent on
the S11/S4 interface by the MME/SGSN to the SGW as part of the Handover
procedures.
Table 7.2.18-1 specifies the presence requirements and the conditions of the
IEs in the message.
Table 7.2.18-1: Information Elements in a Create Indirect Data Forwarding
Tunnel Request
+------------------+----+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+----+------------------+------------------+------+ | IMSI | C | This IE shall be | IMSI | 0 | | | | included by the | | | | | | MME/SGSN if the | | | | | | SGW that the | | | | | | MME/SGSN selects | | | | | | for indirect | | | | | | data forwarding | | | | | | is different | | | | | | from the SGW | | | | | | already in use | | | | | | for the UE as | | | | | | the anchor point | | | | | | except for the | | | | | | case: | | | | | | | | | | | | - If the UE is | | | | | | emergency | | | | | | attached and the | | | | | | UE is UICCless | | | | | | | | | | | | When the IMSI is | | | | | | included in the | | | | | | message, it is | | | | | | not used as an | | | | | | identifier | | | | | | | | | | | | - if UE is | | | | | | emergency | | | | | | attached but | | | | | | IMSI is not | | | | | | authenticated. | | | | | | | | | | | | See NOTE1. | | | +------------------+----+------------------+------------------+------+ | ME Identity | C | This IE shall be | MEI | 0 | | (MEI) | | included by the | | | | | | MME/SGSN if the | | | | | | SGW that the | | | | | | MME/SGSN selects | | | | | | for indirect | | | | | | data forwarding | | | | | | is different | | | | | | from the SGW | | | | | | already in use | | | | | | for the UE as | | | | | | the anchor point | | | | | | and if one of | | | | | | the following | | | | | | condition | | | | | | satisfies: | | | | | | | | | | | | - If the UE is | | | | | | emergency | | | | | | attached and the | | | | | | UE is UICCless | | | | | | | | | | | | - If the UE is | | | | | | emergency | | | | | | attached and the | | | | | | IMSI is not | | | | | | authenticated | | | +------------------+----+------------------+------------------+------+ | Indication Flags | CO | This IE shall be | Indication | 0 | | | | included if any | | | | | | one of the | | | | | | applicable flags | | | | | | is set to 1. | | | | | | | | | | | | Applicable flags | | | | | | are: | | | | | | | | | | | | - | | | | | | Unauthenticated | | | | | | IMSI: This | | | | | | flag shall | | | | | | be set to 1 | | | | | | if the IMSI | | | | | | present in | | | | | | the message | | | | | | is not | | | | | | | | | | | | authenticated | | | | | | and is for | | | | | | an emergency | | | | | | attached UE. | | | +------------------+----+------------------+------------------+------+ | Sender F-TEID | C | This IE shall be | F-TEID | 0 | | for Control | | included by the | | | | Plane | | MME/SGSN if the | | | | | | SGW that the | | | | | | MME/SGSN selects | | | | | | for indirect | | | | | | data forwarding | | | | | | is different | | | | | | from the SGW | | | | | | already in use | | | | | | for the UE as | | | | | | the anchor | | | | | | point. | | | | | | | | | | | | See NOTE1. | | | +------------------+----+------------------+------------------+------+ | Bearer Contexts | M | Several IEs with | Bearer Context | 0 | | | | this type and | | | | | | instance value | | | | | | may be included | | | | | | as necessary to | | | | | | represent a list | | | | | | of Bearers | | | +------------------+----+------------------+------------------+------+ | Recovery | CO | This IE shall be | Recovery | 0 | | | | included if | | | | | | contacting the | | | | | | peer for the | | | | | | first time. | | | +------------------+----+------------------+------------------+------+ | Private | O | | Private | VS | | Extension | | | Extension | | +------------------+----+------------------+------------------+------+ | NOTE 1: The SGW | | | | | | which is hosting | | | | | | the UE\'s | | | | | | bearer(s) is | | | | | | considered as | | | | | | the (local) | | | | | | anchor point. | | | | | | Unlike the PGW, | | | | | | the SGW may | | | | | | change due to | | | | | | mobility between | | | | | | eNodeBs, or | | | | | | E-UTRAN and | | | | | | GERAN/UTRAN | | | | | | supported with | | | | | | S4 based | | | | | | architecture. In | | | | | | these cases the | | | | | | new SGW where | | | | | | the UE\'s | | | | | | bearer(s) are | | | | | | moved, becomes | | | | | | the new local | | | | | | anchor point. A | | | | | | source MME/SGSN | | | | | | may select an | | | | | | SGW for indirect | | | | | | data forwarding | | | | | | which is | | | | | | different than | | | | | | the source | | | | | | (anchor) SGW. | | | | | | Similarly, a | | | | | | target MME/SGSN | | | | | | may select an | | | | | | SGW for indirect | | | | | | data forwarding | | | | | | which is | | | | | | different than | | | | | | the target | | | | | | (anchor) SGW. | | | | | +------------------+----+------------------+------------------+------+
Table 7.2.18-2: Bearer Context within Create Indirect Data Forwarding Tunnel
Request
+-----------------------+----+-----------------------+---------+------+ | Octet 1 | | Bearer Context IE | | | | | | Type = 93 (decimal) | | | +-----------------------+----+-----------------------+---------+------+ | Octets 2 and 3 | | Length = n | | | +-----------------------+----+-----------------------+---------+------+ | Octet 4 | | Spare and Instance | | | | | | fields | | | +-----------------------+----+-----------------------+---------+------+ | Information elements | P | Condition / Comment | IE Type | Ins. | +-----------------------+----+-----------------------+---------+------+ | EPS Bearer ID | M | | EBI | 0 | +-----------------------+----+-----------------------+---------+------+ | eNodeB F-TEID for DL | C | Target eNodeB F-TEID. | F-TEID | 0 | | data forwarding | | | | | | | | This IE shall be | | | | | | present in the | | | | | | message sent from the | | | | | | target MME to the | | | | | | target SGW, or shall | | | | | | be included in the | | | | | | message sent from the | | | | | | source SGSN/MME to | | | | | | the source SGW if the | | | | | | eNodeB F-TEID for DL | | | | | | data forwarding is | | | | | | included in the | | | | | | Forward Relocation | | | | | | Response message. | | | +-----------------------+----+-----------------------+---------+------+ | SGW F-TEID for DL | C | Target SGW F-TEID | F-TEID | 1 | | data forwarding | | | | | | | | This IE shall be | | | | | | present in the | | | | | | message sent from the | | | | | | source MME/SGSN to | | | | | | the source SGW if SGW | | | | | | F-TEID for DL data | | | | | | forwarding is | | | | | | included in the | | | | | | Forward Relocation | | | | | | Response message. | | | | | | This F-TEID is | | | | | | assigned by the SGW | | | | | | that the target | | | | | | MME/SGSN selects for | | | | | | indirect data | | | | | | forwarding. | | | +-----------------------+----+-----------------------+---------+------+ | SGSN F-TEID for DL | C | Target SGSN F-TEID | F-TEID | 2 | | data forwarding | | | | | | | | This IE shall be | | | | | | present in the | | | | | | message sent from the | | | | | | target SGSN to the | | | | | | target SGW in E-UTRAN | | | | | | to GERAN/UTRAN inter | | | | | | RAT handover with SGW | | | | | | relocation procedure, | | | | | | or shall be included | | | | | | in the message sent | | | | | | from the source MME | | | | | | to the source SGW if | | | | | | the SGSN F-TEID for | | | | | | DL data forwarding is | | | | | | included in the | | | | | | Forwarding Relocation | | | | | | Response message. | | | +-----------------------+----+-----------------------+---------+------+ | | CO | This IE shall also be | | | | | | present in the | | | | | | message sent from the | | | | | | source MME to the | | | | | | source SGW if the | | | | | | SGSN Address for User | | | | | | Traffic and the | | | | | | Tunnel Endpoint | | | | | | Identifier Data II | | | | | | are included in the | | | | | | GTPv1 Forward | | | | | | Relocation Response | | | | | | message as specified | | | | | | in D.3.7 of 3GPP TS | | | | | | 23.401 [3]. | | | +-----------------------+----+-----------------------+---------+------+ | RNC F-TEID for DL | C | Target RNC F-TEID | F-TEID | 3 | | data forwarding | | | | | | | | This IE shall be | | | | | | present in the | | | | | | message sent from the | | | | | | target SGSN to the | | | | | | target SGW in E-UTRAN | | | | | | to UTRAN inter RAT | | | | | | handover with SGW | | | | | | relocation procedure, | | | | | | or shall be included | | | | | | in the message sent | | | | | | from the source MME | | | | | | to the source SGW if | | | | | | the RNC F-TEID for DL | | | | | | data forwarding is | | | | | | included in the | | | | | | Forwarding Relocation | | | | | | Response message. | | | +-----------------------+----+-----------------------+---------+------+ | | CO | This IE shall also be | | | | | | present in the | | | | | | message sent from the | | | | | | source MME to the | | | | | | source SGW if the RNC | | | | | | IP address and TEID | | | | | | are included in the | | | | | | RAB Setup Information | | | | | | and/or the Additional | | | | | | RAB Setup Information | | | | | | in the GTPv1 | | | | | | Forwarding Relocation | | | | | | Response message as | | | | | | specified in D.3.3 of | | | | | | 3GPP TS 23.401 [3]. | | | +-----------------------+----+-----------------------+---------+------+ | eNodeB F-TEID for UL | O | Target eNodeB F-TEID. | F-TEID | 4 | | data forwarding | | | | | | | | If available this IE | | | | | | may be present in the | | | | | | message, which is | | | | | | sent during the | | | | | | intra-EUTRAN HO from | | | | | | the target MME to the | | | | | | target SGW, or may be | | | | | | included in the | | | | | | message sent from the | | | | | | source MME to the | | | | | | source SGW if the | | | | | | eNodeB F-TEID for | | | | | | data UL forwarding is | | | | | | included in the | | | | | | Forward Relocation | | | | | | Response message. | | | +-----------------------+----+-----------------------+---------+------+ | SGW F-TEID for UL | O | Target SGW F-TEID | F-TEID | 5 | | data forwarding | | | | | | | | If available this IE | | | | | | may be present in the | | | | | | message, which is | | | | | | sent during the | | | | | | intra-EUTRAN HO from | | | | | | the source MME to the | | | | | | source SGW if SGW | | | | | | F-TEID for UL data | | | | | | forwarding is | | | | | | included in the | | | | | | Forward Relocation | | | | | | Response message. | | | | | | This F-TEID is | | | | | | assigned by the SGW | | | | | | that the target MME | | | | | | selects for indirect | | | | | | data forwarding. | | | +-----------------------+----+-----------------------+---------+------+
### 7.2.19 Create Indirect Data Forwarding Tunnel Response
A Create Indirect Data Forwarding Tunnel Response message shall be sent by the
SGW to the MME/SGSN as a response to a Create Indirect Data Forwarding Tunnel
Request message.
Table 7.2.19-1 specifies the presence requirements and the conditions of the
IEs in the message.
The Cause value indicates if the Indirect Data Forwarding Tunnels has been
created in the SGW or not. No Indirect Data Forwarding Tunnels have been
created in the SGW if the Cause differs from \"Request accepted\" or \"Request
accepted partially\". Possible Cause values are:
  * \"Request accepted\".
  * \"Request accepted partially\".
  * \"Data forwarding not supported\".
  * \"No resources available\".
  * \"System failure\".
  * \"Mandatory IE incorrect\".
  * \"Mandatory IE missing\".
  * \"Conditional IE missing\".
  * \"Invalid message format\".
  * \"Context not found\".
Table 7.2.19-1: Information Elements in a Create Indirect Data Forwarding
Tunnel Response
+------------------+----+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+----+------------------+------------------+------+ | Cause | M | | Cause | 0 | +------------------+----+------------------+------------------+------+ | Sender F-TEID | C | This IE shall be | F-TEID | 0 | | for Control | | included by an | | | | Plane | | SGW if the SGW | | | | | | receives a | | | | | | Sender F-TEID | | | | | | for Control | | | | | | Plane IE from an | | | | | | MME/SGSN in a | | | | | | Create Indirect | | | | | | Data Forwarding | | | | | | Tunnel Request | | | | | | message. | | | | | | | | | | | | See also NOTE 1 | | | | | | in Table | | | | | | 7.2.18-1. | | | +------------------+----+------------------+------------------+------+ | Bearer Contexts | M | Several IEs with | Bearer Context | 0 | | | | this type and | | | | | | instance value | | | | | | may be included | | | | | | as necessary to | | | | | | represent a list | | | | | | of Bearers | | | +------------------+----+------------------+------------------+------+ | Recovery | CO | This IE shall be | Recovery | 0 | | | | included if | | | | | | contacting the | | | | | | peer for the | | | | | | first time | | | +------------------+----+------------------+------------------+------+ | Private | O | | Private | VS | | Extension | | | Extension | | +------------------+----+------------------+------------------+------+
Table 7.2.19-2: Bearer Context within Create Indirect Data Forwarding Tunnel
Response
+-----------------------+---+-----------------------+---------+------+ | Octet 1 | | Bearer Context IE | | | | | | Type = 93 (decimal) | | | +-----------------------+---+-----------------------+---------+------+ | Octets 2 and 3 | | Length = n | | | +-----------------------+---+-----------------------+---------+------+ | Octet 4 | | Spare and Instance | | | | | | fields | | | +-----------------------+---+-----------------------+---------+------+ | Information elements | P | Condition / Comment | IE Type | Ins. | +-----------------------+---+-----------------------+---------+------+ | EPS Bearer ID | M | | EBI | 0 | +-----------------------+---+-----------------------+---------+------+ | Cause | M | This IE shall | Cause | 0 | | | | indicate if the | | | | | | tunnel setup was | | | | | | successful, and if | | | | | | not, gives | | | | | | information on the | | | | | | reason. | | | +-----------------------+---+-----------------------+---------+------+ | S1-U SGW F-TEID for | C | This IE shall be | F-TEID | 0 | | DL data forwarding | | included in the | | | | | | response sent from | | | | | | the source SGW to the | | | | | | source MME. | | | +-----------------------+---+-----------------------+---------+------+ | S12 SGW F-TEID for DL | C | S12 usage only. | F-TEID | 1 | | data forwarding | | | | | | | | This IE shall be | | | | | | included in the | | | | | | response sent from | | | | | | the source SGW to the | | | | | | source SGSN. | | | +-----------------------+---+-----------------------+---------+------+ | S4-U SGW F-TEID for | C | S4-U usage only. | F-TEID | 2 | | DL data forwarding | | | | | | | | This IE shall be | | | | | | included in the | | | | | | response sent from | | | | | | the source SGW to the | | | | | | source SGSN. | | | +-----------------------+---+-----------------------+---------+------+ | SGW F-TEID for DL | C | This IE shall be | F-TEID | 3 | | data forwarding | | included in the | | | | | | response message sent | | | | | | from the target SGW | | | | | | to the target | | | | | | MME/SGSN. | | | +-----------------------+---+-----------------------+---------+------+ | S1-U SGW F-TEID for | O | If available this IE | F-TEID | 4 | | UL data forwarding | | may be included in | | | | | | the response sent | | | | | | during the | | | | | | intra-EUTRAN HO from | | | | | | the source SGW to the | | | | | | source MME. | | | +-----------------------+---+-----------------------+---------+------+ | SGW F-TEID for UL | O | If available this IE | F-TEID | 5 | | data forwarding | | may be included in | | | | | | the response message | | | | | | sent during the | | | | | | intra-EUTRAN HO from | | | | | | the target SGW to the | | | | | | target MME. | | | +-----------------------+---+-----------------------+---------+------+ | NOTE 1: For DL data | | | | | | forwarding if the SGW | | | | | | does not have enough | | | | | | information to decide | | | | | | which of the F-TEID | | | | | | instance from S1-U, | | | | | | S12, S4-U and SGW to | | | | | | include in the | | | | | | message, it may | | | | | | include all of them. | | | | | | | | | | | | NOTE 2: For UL data | | | | | | forwarding if the SGW | | | | | | does not have enough | | | | | | information to decide | | | | | | which of the F-TEID | | | | | | instance from S1-U | | | | | | and SGW to include in | | | | | | the message, it may | | | | | | include both of them. | | | | | +-----------------------+---+-----------------------+---------+------+
### 7.2.20 (void)
### 7.2.21 Release Access Bearers Request
The Release Access Bearers Request message shall sent on the S11 interface by
the MME to the SGW as part of the S1 release procedure.
The message shall also be sent on the S4 interface by the SGSN to the SGW as
part of the procedures:
\- RAB release using S4
\- Iu Release using S4
\- READY to STANDBY transition within the network
Table 7.2.21-1: Information Element in Release Access Bearers Request
+------------------+----+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+----+------------------+------------------+------+ | List of RABs | C | Shall be present | EBI | 0 | | | | on S4 interface | | | | | | when this | | | | | | message is used | | | | | | to release a | | | | | | subset of all | | | | | | active RABs | | | | | | according to the | | | | | | RAB release | | | | | | procedure. | | | | | | | | | | | | Several IEs with | | | | | | this type and | | | | | | instance values | | | | | | shall be | | | | | | included as | | | | | | necessary to | | | | | | represent a list | | | | | | of RABs to be | | | | | | released. | | | +------------------+----+------------------+------------------+------+ | Originating Node | CO | This IE shall be | Node Type | 0 | | | | sent on S11 | | | | | | interface, if | | | | | | ISR is active in | | | | | | the MME. | | | | | | | | | | | | This IE shall be | | | | | | sent on S4 | | | | | | interface, if | | | | | | ISR is active in | | | | | | the SGSN. | | | | | | | | | | | | See NOTE 1. | | | +------------------+----+------------------+------------------+------+ | Private | O | Vendor or | Private | VS | | Extension | | operator | Extension | | | | | specific | | | | | | information | | | +------------------+----+------------------+------------------+------+ | NOTE 1: If SGW | | | | | | has the S1-U | | | | | | F-TEIDs for the | | | | | | UE, but the | | | | | | Originating Node | | | | | | IE contains | | | | | | value \"SGSN\", | | | | | | then the SGW | | | | | | shall not | | | | | | release the user | | | | | | plane and shall | | | | | | send a positive | | | | | | response to the | | | | | | SGSN.\ | | | | | | \ | | | | | | If SGW has the | | | | | | S12 RNC TEIDs or | | | | | | S4-U SGSN TEIDs | | | | | | for the UE, but | | | | | | the Originating | | | | | | Node IE contains | | | | | | value \"MME\", | | | | | | then the SGW | | | | | | shall not | | | | | | release the user | | | | | | plane and shall | | | | | | send a positive | | | | | | response to the | | | | | | MME. | | | | | +------------------+----+------------------+------------------+------+
### 7.2.22 Release Access Bearers Response
The Release Access Bearers Response message is sent on the S11 interface by
the SGW to the MME as part of the S1 release procedure.
The message shall also be sent on the S4 interface by the SGW to the SGSN as
part of the procedures:
\- RAB release using S4
\- Iu Release using S4
\- READY to STANDBY transition within the network
Possible Cause values are:
\- \"Request accepted\".
\- \"Request accepted partially\".
\- \"Request rejected\".
\- \"Context not found\".
\- \"System failure\".
\- \"Invalid message format\".
\- \"Mandatory IE incorrect\".
\- \"Conditional IE missing\".
Table 7.2.22-1: Information Element in Release Access Bearers Response
* * *
Information elements P Condition / Comment IE Type Ins. Cause M None Cause 0
Recovery O This IE shall be included if contacting the peer for the first time
Recovery 0 Private Extension O Vendor or operator specific information Private
Extension VS
* * *
### 7.2.23 Stop Paging Indication
A Stop Paging Indication message shall be sent on the S11/S4 interface by the
SGW to the MME/SGSN as a part of the network triggered service request
procedure.
Table 7.2.23-1 specifies the presence of the IEs in the message.
Table 7.2.23-1: Information Elements in a Stop Paging Indication
* * *
Information elements P Condition / Comment IE Type Ins. Private Extension O
Private Extension VS
* * *
## 7.3 Mobility Management Messages
### 7.3.1 Forward Relocation Request
A Forward Relocation Request message shall be sent from the source MME to the
target MME over S10 interface as part of S1-based handover relocation
procedure from the source MME to the target SGSN, or from the source SGSN to
the target MME over S3 interface as part of Inter RAT handover and combined
hard handover and SRNS relocation procedures, or from source SGSN to the
target SGSN over S16 interface as part of SRNS Relocation and PS handover
procedures.
A Forward Relocation Request message shall also be sent from the source MME to
the target SGSN over S3 interface as part of SRVCC from E-UTRAN to UTRAN or
GERAN with DTM HO support procedures and from source SGSN to the target SGSN
over S16 interface as part of SRVCC from UTRAN (HSPA) to UTRAN or GERAN with
DTM HO support.
Forward Relocation procedure across S10 interface (when K~ASME~ is taken into
use) shall be performed according to the Rules on Concurrent Running of
Security Procedures, which are specified in 3GPP TS 33.401 [12].
Table 7.3.1-1 specifies the presence requirements and conditions of the IEs in
the message.
Table 7.3.1-1: Information Elements in a Forward Relocation Request
+------------------+----+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+----+------------------+------------------+------+ | IMSI | C | The IMSI shall | IMSI | 0 | | | | be included in | | | | | | the message | | | | | | except for the | | | | | | case: | | | | | | | | | | | | - If the UE is | | | | | | emergency | | | | | | attached and | | | | | | the UE is | | | | | | UICCless. | | | | | | | | | | | | The IMSI shall | | | | | | be included in | | | | | | the message but | | | | | | not used as an | | | | | | identifier | | | | | | | | | | | | - if UE is | | | | | | emergency | | | | | | attached but | | | | | | IMSI is not | | | | | | | | | | | | authenticated. | | | +------------------+----+------------------+------------------+------+ | Sender\'s F-TEID | M | This IE | F-TEID | 0 | | for Control | | specifies the | | | | Plane | | address and the | | | | | | TEID for control | | | | | | plane message | | | | | | which is chosen | | | | | | by the source | | | | | | MME/SGSN. | | | | | | | | | | | | This information | | | | | | shall be used by | | | | | | the target | | | | | | MME/SGSN to the | | | | | | source MME/SGSN | | | | | | when sending | | | | | | subsequent | | | | | | contol plane | | | | | | Initial messages | | | | | | related to the | | | | | | GTP tunnel for | | | | | | this UE. | | | +------------------+----+------------------+------------------+------+ | MME/SGSN UE EPS | M | Several IEs with | PDN Connection | 0 | | PDN Connections | | this type and | | | | | | instance values | | | | | | shall be | | | | | | included as | | | | | | necessary to | | | | | | represent a list | | | | | | of PDN | | | | | | Connections | | | +------------------+----+------------------+------------------+------+ | SGW S11/S4 IP | M | | F-TEID | 1 | | Address and TEID | | | | | | for Control | | | | | | Plane | | | | | +------------------+----+------------------+------------------+------+ | SGW node name | C | This IE shall be | FQDN | 0 | | | | included if the | | | | | | source MME or | | | | | | SGSN has the | | | | | | source SGW FQDN. | | | +------------------+----+------------------+------------------+------+ | MME/SGSN UE MM | M | | MM Context | 0 | | Context | | | | | +------------------+----+------------------+------------------+------+ | Indication Flags | C | This IE shall be | Indication | 0 | | | | included if any | | | | | | of the flags are | | | | | | set to 1. | | | | | | | | | | | | - Direct | | | | | | Forwarding | | | | | | Indication: | | | | | | This flag | | | | | | shall be set | | | | | | to 1 if | | | | | | direct | | | | | | forwarding | | | | | | is supported | | | | | | in the S1 | | | | | | based | | | | | | handover | | | | | | procedure. | | | | | | This flag | | | | | | shall not be | | | | | | set to 1 if | | | | | | the message | | | | | | is used for | | | | | | other | | | | | | handover | | | | | | procedures. | | | | | | | | | | | | - Idle mode | | | | | | Signalling | | | | | | Reduction | | | | | | Supported | | | | | | Indication | | | | | | flag: This | | | | | | flag shall | | | | | | be set to 1 | | | | | | if the | | | | | | source | | | | | | MME/SGSN and | | | | | | associated | | | | | | SGW are | | | | | | capable to | | | | | | establish | | | | | | ISR for the | | | | | | UE. | | | | | | | | | | | | - | | | | | | Unauthenticated | | | | | | IMSI: This | | | | | | flag shall | | | | | | be set to 1 | | | | | | if the IMSI | | | | | | present in | | | | | | the message | | | | | | is not | | | | | | | | | | | | authenticated | | | | | | and is for | | | | | | an emergency | | | | | | attached UE. | | | | | | | | | | | | - Change | | | | | | Reporting | | | | | | support | | | | | | indication | | | | | | flag: This | | | | | | flag shall | | | | | | be set to 1 | | | | | | if the | | | | | | Source | | | | | | S4-SGSN/MME | | | | | | supports | | | | | | Location | | | | | | Change | | | | | | Reporting | | | | | | mechanism. | | | | | | See NOTE1. | | | | | | | | | | | | - CSG Change | | | | | | Reporting | | | | | | Support | | | | | | Indication | | | | | | flag: This | | | | | | flag shall | | | | | | be set to 1 | | | | | | if the | | | | | | Source | | | | | | S4-SGSN/MME | | | | | | supports CSG | | | | | | Information | | | | | | Change | | | | | | Reporting | | | | | | mechanism. | | | | | | See NOTE1. | | | +------------------+----+------------------+------------------+------+ | E-UTRAN | C | This IE shall be | F-Container | 0 | | Transparent | | included if the | | | | Container | | message is used | | | | | | for UTRAN/GERAN | | | | | | to E-UTRAN inter | | | | | | RAT handover | | | | | | procedure, intra | | | | | | RAT handover | | | | | | procedure and 3G | | | | | | SGSN to MME | | | | | | combined hard | | | | | | handover and | | | | | | SRNS relocation | | | | | | procedure. | | | +------------------+----+------------------+------------------+------+ | UTRAN | C | This IE shall be | F-Container | 1 | | Transparent | | included if the | | | | Container | | message is used | | | | | | for PS handover | | | | | | to UTRAN Iu mode | | | | | | procedures, SRNS | | | | | | relocation | | | | | | procedure and | | | | | | E-TURAN to UTRAN | | | | | | inter RAT | | | | | | handover | | | | | | procedure. | | | +------------------+----+------------------+------------------+------+ | Target | C | This IE shall be | Target | 0 | | Identification | | included if the | Identification | | | | | message is used | | | | | | for SRNS | | | | | | relocation | | | | | | procedure and | | | | | | handover to | | | | | | UTRAN/E-UTRAN | | | | | | procedures. | | | +------------------+----+------------------+------------------+------+ | | CO | This IE shall be | | | | | | included on the | | | | | | S3 interface if | | | | | | the message is | | | | | | used for PS | | | | | | handover from | | | | | | E-UTRAN to GERAN | | | | | | A/Gb mode. | | | +------------------+----+------------------+------------------+------+ | HRPD access node | C | This IE shall be | IP-Address | 0 | | S101 IP address | | included only if | | | | | | the HRPD pre | | | | | | registration was | | | | | | performed at the | | | | | | source MME | | | +------------------+----+------------------+------------------+------+ | 1xIWS S102 IP | C | This IE shall be | IP-Address | 1 | | address | | included only if | | | | | | the 1xRTT CS | | | | | | fallback pre | | | | | | registration was | | | | | | performed at the | | | | | | source MME | | | +------------------+----+------------------+------------------+------+ | RAN Cause | C | This IE is the | F-Cause | 0 | | | | information from | | | | | | the source | | | | | | eNodeB, the | | | | | | source MME shall | | | | | | include this IE | | | | | | in the message. | | | | | | Refer to the | | | | | | 3GPP TS 29.010 | | | | | | [42] for the | | | | | | mapping of cause | | | | | | values between | | | | | | S1AP, RANAP and | | | | | | BSSGP. | | | +------------------+----+------------------+------------------+------+ | RANAP Cause | C | This IE is the | F-Cause | 1 | | | | information from | | | | | | the source RNC, | | | | | | the source SGSN | | | | | | shall include | | | | | | this IE in the | | | | | | message. Refer | | | | | | to the 3GPP TS | | | | | | 29.010 [42] | | | | | | for the mapping | | | | | | of cause values | | | | | | between S1AP, | | | | | | RANAP and BSSGP. | | | +------------------+----+------------------+------------------+------+ | BSS Container | C | This IE shall be | F-Container | 2 | | | | included to | | | | | | contain the | | | | | | \"Source BSS to | | | | | | Target BSS | | | | | | Transparent | | | | | | Container\", if | | | | | | the message is | | | | | | used for PS | | | | | | handover to | | | | | | GERAN A/Gb mode | | | | | | and E-UTRAN to | | | | | | GERAN A/Gb mode | | | | | | inter RAT | | | | | | handover | | | | | | procedure. | | | +------------------+----+------------------+------------------+------+ | Source | C | This IE shall be | Source | 0 | | Identification | | included on the | Identification | | | | | S16 interface if | | | | | | the message is | | | | | | used for PS | | | | | | handover from | | | | | | GERAN/UTRAN to | | | | | | GERAN A/Gb mode. | | | +------------------+----+------------------+------------------+------+ | BSSGP Cause | C | This IE is the | F-Cause | 2 | | | | information from | | | | | | source BSS, the | | | | | | source SGSN | | | | | | shall include | | | | | | this IE in the | | | | | | message. Refer | | | | | | to the 3GPP TS | | | | | | 29.010 [42] | | | | | | for the mapping | | | | | | of cause values | | | | | | between S1AP, | | | | | | RANAP and BSSGP. | | | +------------------+----+------------------+------------------+------+ | Selected PLMN ID | C | The old MME/SGSN | Selected PLMN ID | 0 | | | | shall include | | | | | | this IE if the | | | | | | selected PLMN | | | | | | identity is | | | | | | available. The | | | | | | Selected PLMN ID | | | | | | IE indicates the | | | | | | core network | | | | | | operator | | | | | | selected for the | | | | | | UE in a shared | | | | | | network. | | | +------------------+----+------------------+------------------+------+ | Recovery | C | If contacting | Recovery | 0 | | | | the peer for the | | | | | | first time | | | +------------------+----+------------------+------------------+------+ | Trace | C | This IE shall be | Trace | 0 | | Information | | included when | Information | | | | | session trace is | | | | | | active for this | | | | | | IMSI/IMEI. | | | +------------------+----+------------------+------------------+------+ | Subscribed RFSP | CO | This IE shall be | RFSP Index | 0 | | Index | | included during | | | | | | inter-MME/SGSN | | | | | | mobility | | | | | | procedures, if | | | | | | the source | | | | | | MME/SGSN | | | | | | receives it from | | | | | | an HSS. | | | +------------------+----+------------------+------------------+------+ | RFSP Index in | CO | This IE shall be | RFSP Index | 1 | | Use | | included only | | | | | | during | | | | | | inter-MME/SGSN | | | | | | mobility | | | | | | procedures, if | | | | | | the source | | | | | | MME/SGSN | | | | | | supports the | | | | | | feature. | | | +------------------+----+------------------+------------------+------+ | CSG ID | CO | This IE shall be | CSG ID | 0 | | | | included on the | | | | | | S3/S10/S16 | | | | | | interfaces if | | | | | | the source | | | | | | MME/SGSN | | | | | | receives it from | | | | | | the source | | | | | | eNodeB/RNC | | | +------------------+----+------------------+------------------+------+ | CSG Membership | CO | This IE shall be | CMI | 0 | | Indication | | included on the | | | | | | S3/S10/S16 | | | | | | interfaces by | | | | | | the source | | | | | | MME/SGSN if the | | | | | | CSG access mode | | | | | | is received from | | | | | | the source | | | | | | eNodeB/RNC and | | | | | | indicates the | | | | | | target cell is a | | | | | | hybrid cell, or | | | | | | if the UE has | | | | | | emergency | | | | | | bearer(s) and | | | | | | the target cell | | | | | | is a CSG cell. | | | +------------------+----+------------------+------------------+------+ | UE Time Zone | CO | When available, | UE Time Zone | 0 | | | | this IE shall be | | | | | | included by the | | | | | | source | | | | | | MME/S4-SGSN. | | | +------------------+----+------------------+------------------+------+ | MME/S4-SGSN LDN | O | This IE is | Local | 0 | | | | optionally sent | Distinguished | | | | | by the | Name (LDN) | | | | | MME/S4-SGSN to | | | | | | the peer | | | | | | MME/S4-SGSN on | | | | | | the S3/S10/S16 | | | | | | interfaces (see | | | | | | 3GPP TS 32.423 | | | | | | [44]), when | | | | | | communicating | | | | | | the LDN to the | | | | | | peer node for | | | | | | the first time. | | | +------------------+----+------------------+------------------+------+ | Additional MM | CO | This IE shall be | Additional MM | 0 | | context for | | sent by the | context for | | | SRVCC | | source | SRVCC | | | | | MME/S4-SGSN to | | | | | | the target | | | | | | MME/S4-SGSN on | | | | | | the S3/S10/S16 | | | | | | interfaces if MS | | | | | | Classmark2, MS | | | | | | Classmark3 and | | | | | | the Supported | | | | | | Codec are | | | | | | available in the | | | | | | source | | | | | | MME/S4-SGSN. | | | +------------------+----+------------------+------------------+------+ | Additional flags | CO | This IE shall be | Additional flags | 0 | | for SRVCC | | sent by the | for SRVCC | | | | | source | | | | | | MME/S4-SGSN to | | | | | | the target | | | | | | MME/S4-SGSN on | | | | | | the S3/S10/S16 | | | | | | interfaces if | | | | | | ICS Indicator is | | | | | | available in the | | | | | | source | | | | | | MME/S4-SGSN. | | | +------------------+----+------------------+------------------+------+ | STN-SR | CO | This IE shall be | STN-SR | 0 | | | | sent by the | | | | | | source | | | | | | MME/S4-SGSN to | | | | | | the target | | | | | | MME/S4-SGSN on | | | | | | the S3/S10/S16 | | | | | | interfaces if | | | | | | STN-SR is | | | | | | available in the | | | | | | source | | | | | | MME/S4-SGSN. | | | +------------------+----+------------------+------------------+------+ | C-MSISDN | CO | This IE shall be | MSISDN | 0 | | | | sent by the | | | | | | source | | | | | | MME/S4-SGSN to | | | | | | the target | | | | | | MME/S4-SGSN on | | | | | | the S3/S10/S16 | | | | | | interfaces if | | | | | | C-MSISDN is | | | | | | available in the | | | | | | source | | | | | | MME/S4-SGSN. The | | | | | | C-MSISDN is | | | | | | defined in 3GPP | | | | | | TS 23.003 [2]. | | | +------------------+----+------------------+------------------+------+ | Private | O | | Private | VS | | Extension | | | Extension | | +------------------+----+------------------+------------------+------+ | NOTE 1: 3GPP TS | | | | | | 23.401 [3] | | | | | | (e.g. subclause | | | | | | 5.3.2.1) and | | | | | | 3GPP TS 23.060 | | | | | | [35] (e.g. | | | | | | subclause | | | | | | 9.2.2.1) defines | | | | | | the MME/SGSN | | | | | | shall send the | | | | | | MS Info Change | | | | | | Reporting | | | | | | Support | | | | | | Indication to | | | | | | the PGW. In such | | | | | | case MME/SGSN | | | | | | shall use the | | | | | | Change Reporting | | | | | | Support | | | | | | Indication | | | | | | and/or CSG | | | | | | Change Reporting | | | | | | Support | | | | | | Indication | | | | | | (whichever is | | | | | | applicable), | | | | | | even if stage 2 | | | | | | refers to MS | | | | | | Info Change | | | | | | Reporting | | | | | | Support | | | | | | Indication. | | | | | +------------------+----+------------------+------------------+------+
The PDN Connection grouped IE shall be coded as depicted in Table 7.3.1-2.
Table 7.3.1-2: MME/SGSN UE EPS PDN Connections within Forward Relocation
Request
+------------------+----+------------------+------------------+------+ | Octet 1 | | PDN Connection | | | | | | IE Type = 109 | | | | | | (decimal) | | | +------------------+----+------------------+------------------+------+ | Octets 2 and 3 | | Length = n | | | +------------------+----+------------------+------------------+------+ | Octet 4 | | Spare and | | | | | | Instance fields | | | +------------------+----+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+----+------------------+------------------+------+ | APN | M | | APN | 0 | +------------------+----+------------------+------------------+------+ | **APN | C | This IE denotes | APN Restriction | 0 | | Restriction** | | the restriction | | | | | | on the | | | | | | combination of | | | | | | types of APN for | | | | | | the APN | | | | | | associated with | | | | | | this EPS bearer | | | | | | Context. The | | | | | | target MME or | | | | | | SGSN determines | | | | | | the Maximum APN | | | | | | Restriction | | | | | | using the APN | | | | | | Restriction. | | | | | | | | | | | | If available, | | | | | | the source | | | | | | MME/S4SGSN shall | | | | | | include this IE. | | | +------------------+----+------------------+------------------+------+ | **Selection | CO | When available, | Selection Mode | 0 | | Mode** | | this IE shall be | | | | | | included by the | | | | | | source | | | | | | MME/S4-SGSN | | | +------------------+----+------------------+------------------+------+ | IPv4 Address | C | This IE shall | IP Address | 0 | | | | not be included | | | | | | if no IPv4 | | | | | | Address is | | | | | | assigned. See | | | | | | NOTE 1. | | | +------------------+----+------------------+------------------+------+ | IPv6 Address | C | This IE shall | IP Address | 1 | | | | not be included | | | | | | if no IPv6 | | | | | | Address is | | | | | | assigned. | | | +------------------+----+------------------+------------------+------+ | Linked EPS | M | This IE | EBI | 0 | | Bearer ID | | identifies the | | | | | | default bearer | | | | | | of the PDN | | | | | | Connection. | | | +------------------+----+------------------+------------------+------+ | PGW S5/S8 IP | M | This IE shall | F-TEID | 0 | | Address for | | include the TEID | | | | Control Plane or | | in the GTP based | | | | PMIP | | S5/S8 case and | | | | | | the GRE key in | | | | | | the PMIP based | | | | | | S5/S8 case. | | | +------------------+----+------------------+------------------+------+ | PGW node name | C | This IE shall be | FQDN | 0 | | | | included if the | | | | | | source MME or | | | | | | SGSN has the PGW | | | | | | FQDN. | | | +------------------+----+------------------+------------------+------+ | Bearer Contexts | C | Several IEs with | Bearer Context | 0 | | | | this type and | | | | | | instance values | | | | | | may be included | | | | | | as necessary to | | | | | | represent a list | | | | | | of Bearers. | | | +------------------+----+------------------+------------------+------+ | Aggregate | M | | AMBR | 0 | | Maximum Bit Rate | | | | | | (APN-AMBR) | | | | | +------------------+----+------------------+------------------+------+ | Charging | C | This IE shall be | Charging | 0 | | characteristics | | present if | characteristics | | | | | charging | | | | | | characteristics | | | | | | was supplied by | | | | | | the HSS to the | | | | | | MME/SGSN as a | | | | | | part of | | | | | | subscription | | | | | | information. | | | +------------------+----+------------------+------------------+------+ | Change Reporting | C | This IE shall be | Change Reporting | 0 | | Action | | included | Action | | | | | whenever | | | | | | available at the | | | | | | source MME/SGSN. | | | +------------------+----+------------------+------------------+------+ | CSG Information | CO | This IE shall be | CSG Information | 0 | | Reporting Action | | included | Reporting Action | | | | | whenever | | | | | | available at the | | | | | | source MME/SGSN. | | | +------------------+----+------------------+------------------+------+ | NOTE 1: For | | | | | | deferred IPv4 | | | | | | address | | | | | | allocation, if | | | | | | the MME/S4-SGSN | | | | | | receives the PDN | | | | | | address | | | | | | \"0.0.0.0\" from | | | | | | PGW during | | | | | | \"eUTRAN Initial | | | | | | Attach\", \"PDP | | | | | | Context | | | | | | Activation\", | | | | | | \"UE requested | | | | | | PDN | | | | | | Connectivity\", | | | | | | then the | | | | | | MME/S4-SGSN | | | | | | shall include | | | | | | this IPv4 | | | | | | address | | | | | | \"0.0.0.0\". | | | | | +------------------+----+------------------+------------------+------+
The Bearer Context grouped IE shall be coded as depicted in Table 7.3.1-3.
Table 7.3.1-3: Bearer Context within MME/SGSN UE EPS PDN Connections within
Forward Relocation Request
+------------------+----+------------------+------------------+------+ | Octet 1 | | Bearer Context | | | | | | IE Type = 93 | | | | | | (decimal) | | | +------------------+----+------------------+------------------+------+ | Octets 2 and 3 | | Length = n | | | +------------------+----+------------------+------------------+------+ | Octet 4 | | Spare and | | | | | | Instance fields | | | +------------------+----+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+----+------------------+------------------+------+ | EPS Bearer ID | M | | EBI | 0 | +------------------+----+------------------+------------------+------+ | TFT | C | This IE shall be | Bearer TFT | 0 | | | | present if a TFT | | | | | | is defined for | | | | | | this bearer. | | | +------------------+----+------------------+------------------+------+ | SGW S1/S4/S12 IP | M | | F-TEID | 0 | | Address and TEID | | | | | | for user plane | | | | | +------------------+----+------------------+------------------+------+ | PGW S5/S8 IP | C | This IE shall be | F-TEID | 1 | | Address and TEID | | present for GTP | | | | for user plane | | based S5/S8 | | | +------------------+----+------------------+------------------+------+ | Bearer Level QoS | M | | Bearer Level QoS | 0 | +------------------+----+------------------+------------------+------+ | BSS Container | CO | The MME/S4 SGSN | F-Container | 0 | | | | shall include | | | | | | the Packet Flow | | | | | | ID, Radio | | | | | | Priority, SAPI, | | | | | | PS Handover XID | | | | | | parameters in | | | | | | the | | | | | | TAU/RAU/Handover | | | | | | procedure, if | | | | | | available. | | | +------------------+----+------------------+------------------+------+ | Transaction | C | This IE shall be | TI | 0 | | Identifier | | sent over | | | | | | S3/S10/S16 if | | | | | | the UE supports | | | | | | A/Gb and/or Iu | | | | | | mode. | | | +------------------+----+------------------+------------------+------+ | Bearer Flags | CO | Applicable | Bearer Flags | 0 | | | | flags: | | | | | | | | | | | | > \- ASI | | | | | | > (Activity | | | | | | > Status | | | | | | > Indicator): | | | | | | > the source | | | | | | > S4-SGSN should | | | | | | > set this | | | | | | > indicator to 1 | | | | | | > on the S16 | | | | | | > interface if | | | | | | > the bearer | | | | | | > context is | | | | | | > preserved in | | | | | | > the CN without | | | | | | > an associated | | | | | | > RAB. | | | +------------------+----+------------------+------------------+------+
### 7.3.2 Forward Relocation Response
A Forward Relocation Response message shall be sent as a response to Forward
Relocation Request during S1-based handover procedure, Inter RAT handover
procedures, SRNS Relocation procedure and PS handover procedures.
Table 7.3.2-1 specifies the presence requirements and conditions of the IEs in
the message.
Cause IE indicates if the relocation has been accepted, or not. The relocation
has not been accepted by the target MME/SGSN if the Cause IE value differs
from \"Request accepted\". Possible Cause values are:
  * \"Request accepted\".
\- \"System failure\".
\- \"Mandatory IE incorrect\".
\- \"Mandatory IE missing\".
\- \"Conditional IE missing\".
\- \"No resources available\".
\- \"Invalid message format\".
\- \"Relocation failure\".
Table 7.3.2-1: Information Elements in a Forward Relocation Response
+------------------+---+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+---+------------------+------------------+------+ | Cause | M | | Cause | 0 | +------------------+---+------------------+------------------+------+ | Sender\'s F-TEID | C | If the Cause IE | F-TEID | 0 | | for Control | | contains the | | | | Plane | | value \"Request | | | | | | accepted\", the | | | | | | target MME/SGSN | | | | | | shall include | | | | | | this IE in | | | | | | Forward | | | | | | Relocation | | | | | | Response | | | | | | message. | | | | | | | | | | | | This information | | | | | | shall be used by | | | | | | the source | | | | | | MME/SGSN to the | | | | | | target MME/SGSN | | | | | | when sending | | | | | | Forward | | | | | | Relocation | | | | | | Complete | | | | | | Acknowledge | | | | | | message and | | | | | | Forward Access | | | | | | Context | | | | | | Notification | | | | | | message. | | | +------------------+---+------------------+------------------+------+ | Indication Flags | C | This IE shall be | Indication | 0 | | | | included if any | | | | | | of the flags are | | | | | | set to 1. | | | | | | | | | | | | SGW Change | | | | | | Indication: | | | | | | | | | | | | - This flag | | | | | | shall be set | | | | | | to 1 if the | | | | | | target | | | | | | MME/SGSN has | | | | | | selected a | | | | | | new SGW. | | | +------------------+---+------------------+------------------+------+ | List of Set-up | C | The list of | Bearer Context | 0 | | Bearers | | set-up Bearers | | | | | | IE contains the | | | | | | EPS bearer | | | | | | Identifiers of | | | | | | the Bearers that | | | | | | were | | | | | | successfully | | | | | | allocated in the | | | | | | target system | | | | | | during a | | | | | | handover | | | | | | procedure. This | | | | | | IE shall be | | | | | | included if the | | | | | | source and | | | | | | target access | | | | | | type is EUTRAN | | | | | | and the Cause IE | | | | | | contains the | | | | | | value \"Request | | | | | | accepted\". | | | | | | | | | | | | See NOTE 1. | | | | | | | | | | | | Several IEs with | | | | | | this type and | | | | | | instance values | | | | | | shall be | | | | | | included as | | | | | | necessary to | | | | | | represent a list | | | | | | of Bearers. | | | +------------------+---+------------------+------------------+------+ | List of Set-up | C | The list of | Bearer Context | 1 | | RABs | | set-up RABs IE | | | | | | contains the RAB | | | | | | Identifiers of | | | | | | the RABs that | | | | | | were | | | | | | successfully | | | | | | allocated in the | | | | | | target system. | | | | | | This IE shall be | | | | | | included if the | | | | | | Cause IE | | | | | | contains the | | | | | | value \"Request | | | | | | accepted\" and | | | | | | | | | | | | - If the | | | | | | source | | | | | | access type | | | | | | is UTRAN and | | | | | | the target | | | | | | access type | | | | | | is | | | | | | | | | | | | E-UTRAN/UTRAN | | | | | | | | | | | | - If the | | | | | | source | | | | | | access type | | | | | | is E-UTRAN | | | | | | and the | | | | | | target | | | | | | access type | | | | | | is UTRAN | | | | | | | | | | | | See NOTE 1. | | | | | | | | | | | | Several IEs with | | | | | | this type and | | | | | | instance values | | | | | | shall be | | | | | | included as | | | | | | necessary to | | | | | | represent a list | | | | | | of Bearers. | | | +------------------+---+------------------+------------------+------+ | List of Set-up | O | The list of | Bearer Context | 2 | | PFCs | | set-up PFCs IE | | | | | | contains the | | | | | | Packet Flow | | | | | | Identifies of | | | | | | the PFCs that | | | | | | were | | | | | | successfully | | | | | | allocated in the | | | | | | target system | | | | | | during a PS | | | | | | handover to/from | | | | | | GERAN or inter | | | | | | RAT handover | | | | | | to/from GERAN. | | | | | | If the Cause IE | | | | | | contains the | | | | | | value \"Request | | | | | | accepted\", this | | | | | | IE may be | | | | | | included. | | | | | | | | | | | | See NOTE 1. | | | | | | | | | | | | Several IEs with | | | | | | this type and | | | | | | instance values | | | | | | shall be | | | | | | included as | | | | | | necessary to | | | | | | represent a list | | | | | | of Bearers. | | | +------------------+---+------------------+------------------+------+ | eNodeB Cause | C | This IE is | F-Cause | 0 | | | | included if | | | | | | cause value is | | | | | | contained in | | | | | | S1-AP message. | | | | | | Refer to the | | | | | | 3GPP TS 29.010 | | | | | | [42] for the | | | | | | mapping of cause | | | | | | values between | | | | | | S1AP, RANAP and | | | | | | BSSGP. | | | +------------------+---+------------------+------------------+------+ | RANAP Cause | C | This IE is | F-Cause | 1 | | | | included if | | | | | | cause value is | | | | | | contained in | | | | | | RANAP message. | | | | | | Refer to the | | | | | | 3GPP TS 29.010 | | | | | | [42] for the | | | | | | mapping of cause | | | | | | values between | | | | | | S1AP, RANAP and | | | | | | BSSGP. | | | +------------------+---+------------------+------------------+------+ | E-UTRAN | C | This IE is | F-Container | 0 | | Transparent | | conditionally | | | | Container | | included only | | | | | | during a | | | | | | handover to | | | | | | E-UTRAN and | | | | | | contains the | | | | | | radio-related | | | | | | and core network | | | | | | information. If | | | | | | the Cause IE | | | | | | contains the | | | | | | value \"Request | | | | | | accepted\", this | | | | | | IE shall be | | | | | | included. | | | +------------------+---+------------------+------------------+------+ | UTRAN | C | This IE is | F-Container | 1 | | Transparent | | conditionally | | | | Container | | included only | | | | | | during a | | | | | | handover to | | | | | | UTRAN and | | | | | | contains the | | | | | | radio-related | | | | | | and core network | | | | | | information. If | | | | | | the Cause IE | | | | | | contains the | | | | | | value \"Request | | | | | | accepted\", this | | | | | | IE shall be | | | | | | included. | | | +------------------+---+------------------+------------------+------+ | BSS Container | C | This shall be | F-Container | 2 | | | | included to | | | | | | contain the | | | | | | \"Target BSS to | | | | | | Source BSS | | | | | | Transparent | | | | | | Container\" | | | | | | during a | | | | | | handover to | | | | | | GERAN if the | | | | | | Cause IE | | | | | | contains the | | | | | | value \"Request | | | | | | accepted\". | | | +------------------+---+------------------+------------------+------+ | BSSGP Cause | C | For handover to | F-Cause | 2 | | | | GERAN, if a | | | | | | cause value is | | | | | | received from | | | | | | the Target BSC, | | | | | | the BSSGP Cause | | | | | | IE shall be | | | | | | included and | | | | | | shall be sent to | | | | | | the cause value | | | | | | received from | | | | | | the target BSC. | | | | | | Refer to the | | | | | | 3GPP TS 29.010 | | | | | | [42] for the | | | | | | mapping of cause | | | | | | values between | | | | | | S1AP, RANAP and | | | | | | BSSGP. | | | +------------------+---+------------------+------------------+------+ | MME/S4-SGSN LDN | O | This IE is | Local | 0 | | | | optionally sent | Distinguished | | | | | by the | Name (LDN) | | | | | MME/S4-SGSN to | | | | | | the peer | | | | | | MME/S4-SGSN on | | | | | | the S3/S10/S16 | | | | | | interfaces (see | | | | | | 3GPP TS 32.423 | | | | | | [44]), when | | | | | | communicating | | | | | | the LDN to the | | | | | | peer node for | | | | | | the first time. | | | +------------------+---+------------------+------------------+------+ | Private | O | | Private | VS | | Extension | | | Extension | | +------------------+---+------------------+------------------+------+ | NOTE 1: In the | | | | | | Forward | | | | | | Relocation | | | | | | Request message, | | | | | | the inclusion of | | | | | | \"RAN Cause\" | | | | | | indicates that | | | | | | the source | | | | | | access type is | | | | | | E-UTRAN. In the | | | | | | Forward | | | | | | Relocation | | | | | | Request message, | | | | | | the inclusion of | | | | | | \"RANAP Cause\" | | | | | | indicates that | | | | | | the source | | | | | | access type is | | | | | | UTRAN. In the | | | | | | Forward | | | | | | Relocation | | | | | | Request message, | | | | | | the inclusion of | | | | | | \"BSSGP Cause\" | | | | | | indicates that | | | | | | the source | | | | | | access type is | | | | | | GERAN. | | | | | +------------------+---+------------------+------------------+------+
Bearer Context IE in this message is specified in Table 7.3.2-2, the source
system shall use this IE for data forwarding in handover.
Table 7.3.2-2: Bearer Context
+------------------+---+------------------+----------------+------+ | Octet 1 | | Bearer Context | | | | | | IE Type = 93 | | | | | | (decimal) | | | +------------------+---+------------------+----------------+------+ | Octets 2 and 3 | | Length = n | | | +------------------+---+------------------+----------------+------+ | Octet 4 | | Spare and | | | | | | Instance fields | | | +------------------+---+------------------+----------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+---+------------------+----------------+------+ | EPS Bearer ID | C | This IE shall be | EBI | 0 | | | | included if the | | | | | | message is used | | | | | | for S1-Based | | | | | | handover | | | | | | procedure. | | | | | | | | | | | | This IE shall be | | | | | | included if the | | | | | | message is used | | | | | | for SRNS | | | | | | relocation | | | | | | procedure and | | | | | | Inter RAT | | | | | | handover to/from | | | | | | Iu mode | | | | | | procedures. | | | +------------------+---+------------------+----------------+------+ | Packet Flow ID | C | This IE shall be | Packet Flow ID | 0 | | | | included if the | | | | | | message is used | | | | | | for PS handover | | | | | | and Inter RAT | | | | | | handover to/from | | | | | | A/Gb mode | | | | | | procedures. | | | +------------------+---+------------------+----------------+------+ | eNodeB F-TEID | C | This IE shall be | F-TEID | 0 | | for DL data | | included for the | | | | forwarding | | message sent | | | | | | from the target | | | | | | MME, if the DL | | | | | | Transport Layer | | | | | | Address and DL | | | | | | GTP TEID are | | | | | | included in the | | | | | | \"SAE Bearers | | | | | | Admitted List\" | | | | | | of the S1AP: | | | | | | HANDOVER REQUEST | | | | | | ACKNOWLEDGE and | | | | | | direct | | | | | | forwarding or | | | | | | indirect | | | | | | forwarding | | | | | | without SGW | | | | | | change is | | | | | | applied. | | | +------------------+---+------------------+----------------+------+ | eNodeB F-TEID | O | This IE may be | F-TEID | 1 | | for UL data | | included for the | | | | forwarding | | message sent | | | | | | from the target | | | | | | MME during the | | | | | | intra-EUTRAN HO, | | | | | | if the UL | | | | | | Transport Layer | | | | | | Address and UL | | | | | | GTP TEID are | | | | | | included in the | | | | | | \"SAE Bearers | | | | | | Admitted List\" | | | | | | of the S1AP: | | | | | | HANDOVER REQUEST | | | | | | ACKNOWLEDGE and | | | | | | direct | | | | | | forwarding or | | | | | | indirect | | | | | | forwarding | | | | | | without SGW | | | | | | change is | | | | | | applied. | | | +------------------+---+------------------+----------------+------+ | SGW F-TEID for | C | This SGW F-TEID | F-TEID | 2 | | DL data | | shall be | | | | forwarding | | included for | | | | | | indirect data | | | | | | forwarding. | | | +------------------+---+------------------+----------------+------+ | RNC F-TEID for | C | This RNC F-TEID | F-TEID | 3 | | DL data | | shall be | | | | forwarding | | included in the | | | | | | message sent | | | | | | from SGSN, if | | | | | | the target | | | | | | system decides | | | | | | using RNC F-TEID | | | | | | for data | | | | | | forwarding. | | | +------------------+---+------------------+----------------+------+ | SGSN F-TEID for | C | This SGSN F-TEID | F-TEID | 4 | | DL data | | shall be | | | | forwarding | | included in the | | | | | | message sent | | | | | | from SGSN, if | | | | | | the target | | | | | | system decides | | | | | | using SGSN | | | | | | F-TEID for data | | | | | | forwarding. | | | +------------------+---+------------------+----------------+------+ | SGW F-TEID for | O | If available | F-TEID | 5 | | UL data | | this SGW F-TEID | | | | forwarding | | may be included | | | | | | for indirect | | | | | | data forwarding | | | | | | during the | | | | | | intra-EUTRAN HO. | | | +------------------+---+------------------+----------------+------+
### 7.3.3 Forward Relocation Complete Notification
A Forward Relocation Complete Notification message shall be sent to the source
MME/SGSN to indicate the handover has been successfully finished.
Table 7.3.3-1 specifies the presence requirements and conditions of the IEs in
the message.
Table 7.3.3-1: Information Elements in a Forward Relocation Complete
Notification
+------------------+---+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+---+------------------+------------------+------+ | Indication Flags | C | This IE shall be | Indication | 0 | | | | included if any | | | | | | of the flags are | | | | | | set to 1. | | | | | | | | | | | | Idle mode | | | | | | Signalling | | | | | | Reduction | | | | | | Activation | | | | | | Indication: This | | | | | | flag shall be | | | | | | set to 1 if the | | | | | | message is used | | | | | | for inter RAT | | | | | | handover and the | | | | | | UE has ISR | | | | | | capability. This | | | | | | flag is set to | | | | | | indicate to the | | | | | | source MME/SGSN | | | | | | whether it shall | | | | | | maintain the | | | | | | UE\'s context | | | | | | and whether it | | | | | | shall activate | | | | | | ISR. | | | +------------------+---+------------------+------------------+------+ | Private | O | | Private | VS | | Extension | | | Extension | | +------------------+---+------------------+------------------+------+
### 7.3.4 Forward Relocation Complete Acknowledge
A Forward Relocation Complete Acknowledge message shall be sent as a response
to Forward Relocation Complete Notification during inter eNodeB handover with
MME relocation procedure, SRNS Relocation with SGSN change procedures using S4
or Inter RAT Handover with MME/S4 SGSN interaction procedures.
Table 7.3.4-1 specifies the presence requirements and conditions of the IEs in
the message.
Possible Cause values are:
\- \"Request accepted\".
\- \"Request rejected\"
\- \"System failure\".
\- \"Invalid message format\".
\- \"Mandatory IE incorrect\".
\- \"Conditional IE missing\".
Table 7.3.4-1: Information Elements in a Forward Relocation Complete
Acknowledge
* * *
Information elements P Condition / Comment IE Type Ins. Cause M Cause 0
Recovery O Recovery 0 Private Extension O Private Extension VS
* * *
### 7.3.5 Context Request
The new MME/SGSN shall send the Context Request message to the old MME/SGSN on
S3/S16/S10 interface as a part of TAU/RAU procedure to get the MM and EPS
bearer Contexts for the UE.
If the sending/new node is a MME, it shall include in the Context Request
message:
\- the GUTI IE and Complete TAU Request Message IE if the GUTI received from
UE indicates the old node is a MME.
\- the RAI IE and the P-TMSI IE, which are derived from the GUTI received from
UE, and the P-TMSI Signature that was received intact from the UE, if the GUTI
indicates the old node is an SGSN.
If the sending/new node is an SGSN, it shall include RAI IE, P-TMSI IE and
P-TMSI Signature IE in the Context Request message. If the receiving/old node
is an MME, it shall construct GUTI according to the RAI IE, P-TMSI IE and
P-TMSI Signature IE (see the mapping relationship between RAI, P-TMSI, P-TMSI
signature and GUTI defined in 3GPP TS23.003[2]), and find UE context via this
GUTI.
The new MME differentiates the type of the old node from the most significant
bit of the MME group id in GUTI. The value 0 indicates that the old node is an
SGSN, the GUTI shall be mapped to RAI and P-TMSI by the new MME; and the value
1 indicates the old node is a MME, the new MME include GUTI IE and Complete
TAU Request Message IE in the Context Request message. The Mapping between
temporary and area identities is defined in 3GPP TS 23.003 [2].
NOTE: In networks where this definition is not applied (e.g. in networks
already configured with LAC with the most significant bit set to 1 before LTE
deployment), specific network implementations still satisfying 3GPP standard
interfaces can be used to distinguish the node type. See subclause 2.8.2.2.2
of 3GPP TS 23.003 [2].
The Target PLMN ID IE shall be used in old SGSN/MME in order to decide whether
un-used authentication vectors to be distributed to new SGSN/MME or not.
Distribution and use of authentication vectors between different serving
network domains are specified in 3GPP TS 33.401 [12].
Table 7.3.5-1 specifies the presence requirements and conditions of the IEs in
the message.
Table 7.3.5-1: Information Elements in a Context Request
+------------------+----+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+----+------------------+------------------+------+ | IMSI | C | IMSI shall be | IMSI | 0 | | | | included if the | | | | | | UE has been | | | | | | successfully | | | | | | authenticated. | | | +------------------+----+------------------+------------------+------+ | GUTI | C | The New MME | GUTI | 0 | | | | shall include | | | | | | this IE over S10 | | | | | | interface. | | | +------------------+----+------------------+------------------+------+ | Routeing Area | C | This IE shall be | ULI for RAI | 0 | | Identity(RAI) | | included over | | | | | | S3/S16 | | | | | | interface, if | | | | | | the GUTI | | | | | | indicates the | | | | | | old node is an | | | | | | SGSN, the new | | | | | | MME maps this IE | | | | | | from GUTI. | | | +------------------+----+------------------+------------------+------+ | Packet | C | This IE shall be | P-TMSI | 0 | | TMSI(P-TMSI) | | included over | | | | | | S3/S16 | | | | | | interface. For | | | | | | the S3 | | | | | | interface, if | | | | | | sent by the MME, | | | | | | this IE is | | | | | | derived by the | | | | | | MME from the | | | | | | GUTI received | | | | | | from the UE. | | | +------------------+----+------------------+------------------+------+ | P-TMSI Signature | C | This IE shall be | P-TMSI Signature | 0 | | | | included over | | | | | | S3/S16 interface | | | | | | if it is | | | | | | received from | | | | | | the. | | | +------------------+----+------------------+------------------+------+ | Complete TAU | C | The new MME | Complete Request | 0 | | request message | | shall include | Message | | | | | this IE, and the | | | | | | old MME may use | | | | | | this IE for | | | | | | integrity check. | | | +------------------+----+------------------+------------------+------+ | S3/S16/S10 | C | This IE | F-TEID | 0 | | Address and TEID | | specifies the | | | | for Control | | address and the | | | | Plane | | TEID for control | | | | | | plane message | | | | | | which is chosen | | | | | | by the new | | | | | | MME/SGSN. | | | | | | | | | | | | In case of SGSN | | | | | | pool, the IPv4 | | | | | | or the IPv6 | | | | | | address field | | | | | | shall be set to | | | | | | the same value | | | | | | of the Source IP | | | | | | address of the | | | | | | IP packet | | | | | | carrying this | | | | | | message, and the | | | | | | relaying SGSN | | | | | | shall not change | | | | | | the content of | | | | | | this IE when | | | | | | sending it to | | | | | | the old SGSN. | | | | | | See NOTE 1. | | | +------------------+----+------------------+------------------+------+ | UDP Source Port | C | If an SGSN | Port Number | 0 | | Number | | within the same | | | | | | SGSN pool as the | | | | | | old SGSN | | | | | | receives this | | | | | | message, the | | | | | | SGSN shall | | | | | | include the UDP | | | | | | Source Port | | | | | | number of the | | | | | | received message | | | | | | in this | | | | | | parameter if | | | | | | this IE is not | | | | | | present and | | | | | | relay the | | | | | | message to the | | | | | | old SGSN. The | | | | | | old SGSN shall | | | | | | use this UDP | | | | | | port as the UDP | | | | | | destination port | | | | | | of the Context | | | | | | Response | | | | | | message. | | | +------------------+----+------------------+------------------+------+ | RAT Type | C | The RAT Type | RAT Type | 0 | | | | indicates the | | | | | | Radio Access | | | | | | Technology which | | | | | | is used in the | | | | | | new system. | | | +------------------+----+------------------+------------------+------+ | Indication | O | This IE shall be | Indication | 0 | | | | included if any | | | | | | one of the | | | | | | applicable flags | | | | | | is set to 1. | | | | | | | | | | | | Applicable Flags | | | | | | are: | | | | | | | | | | | | > \- The MS | | | | | | > Validated | | | | | | > indicates that | | | | | | > the new system | | | | | | > has | | | | | | > successfully | | | | | | > authenticated | | | | | | > the UE, or the | | | | | | > new system has | | | | | | > validated the | | | | | | > integrity | | | | | | > protection of | | | | | | > the TAU | | | | | | > request | | | | | | > message. | | | +------------------+----+------------------+------------------+------+ | Hop Counter | O | If an SGSN | Hop Counter | 0 | | | | within the same | | | | | | SGSN pool with | | | | | | the old SGSN | | | | | | receives this | | | | | | message, the | | | | | | SGSN shall | | | | | | decrement the | | | | | | Hop Counter if | | | | | | this IE is | | | | | | present in the | | | | | | received | | | | | | message; | | | | | | otherwise, the | | | | | | SGSN may include | | | | | | a Hop Counter | | | | | | with a value of | | | | | | max-1, and may | | | | | | relay the | | | | | | message to the | | | | | | old SGSN. | | | +------------------+----+------------------+------------------+------+ | Target PLMN ID | CO | If available, | Serving Network | 0 | | | | this IE shall be | | | | | | included in | | | | | | order to allow | | | | | | old MME/SGSN to | | | | | | make a judgment | | | | | | whether un-used | | | | | | authentication | | | | | | vectors to be | | | | | | distributed or | | | | | | not. | | | +------------------+----+------------------+------------------+------+ | MME/S4-SGSN LDN | O | This IE is | Local | 0 | | | | optionally sent | Distinguished | | | | | by the | Name (LDN) | | | | | MME/S4-SGSN to | | | | | | the peer | | | | | | MME/S4-SGSN on | | | | | | the S3/S10/S16 | | | | | | interfaces (see | | | | | | 3GPP TS 32.423 | | | | | | [44]), when | | | | | | communicating | | | | | | the LDN to the | | | | | | peer node for | | | | | | the first time. | | | +------------------+----+------------------+------------------+------+ | Private | O | | Private | VS | | Extension | | | Extension | | +------------------+----+------------------+------------------+------+ | NOTE1: The | | | | | | relaying SGSN | | | | | | shall forward | | | | | | the Context | | | | | | Request message | | | | | | to the interface | | | | | | of the old SGSN, | | | | | | where the | | | | | | interface type | | | | | | is matching what | | | | | | is indicated in | | | | | | the IE | | | | | | S3/S16/S10 | | | | | | Address and TEID | | | | | | for Control | | | | | | Plane. | | | | | +------------------+----+------------------+------------------+------+
### 7.3.6 Context Response
A Context Response message shall be sent as a response to a previous Context
Request message during TAU/RAU procedure.
Possible Cause values are:
\- \"Request Accepted\"
\- \"IMSI not known\"
\- \"System failure\"
\- \"Mandatory IE incorrect\"
\- \"Conditional IE missing\".
\- \"Invalid message format\"
\- \"P-TMSI Signature mismatch\"
\- \"User authentication failed\"
Table 7.3.6-1 specifies the presence requirements and conditions of the IEs in
the message.
Table 7.3.6-1: Information Elements in a Context Response
+------------------+----+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+----+------------------+------------------+------+ | Cause | M | | Cause | 0 | +------------------+----+------------------+------------------+------+ | IMSI | C | The IMSI shall | IMSI | 0 | | | | be included in | | | | | | the message | | | | | | except for the | | | | | | case: | | | | | | | | | | | | - If the UE is | | | | | | emergency | | | | | | attached and | | | | | | the UE is | | | | | | UICCless. | | | | | | | | | | | | The IMSI shall | | | | | | be included in | | | | | | the message but | | | | | | not used as an | | | | | | identifier | | | | | | | | | | | | - if UE is | | | | | | emergency | | | | | | attached but | | | | | | IMSI is not | | | | | | | | | | | | authenticated. | | | +------------------+----+------------------+------------------+------+ | MME/SGSN UE MM | C | This IE shall be | MM Context | 0 | | Context | | included if the | | | | | | Cause IE has the | | | | | | value \" Request | | | | | | Accepted \". | | | +------------------+----+------------------+------------------+------+ | MME/SGSN UE EPS | C | This IE shall be | PDN Connection | 0 | | PDN Connections | | included if | | | | | | there is at | | | | | | least a PDN | | | | | | connection for | | | | | | this UE on the | | | | | | sending | | | | | | MME/SGSN. | | | | | | | | | | | | Several IEs with | | | | | | this type and | | | | | | instance values | | | | | | shall be | | | | | | included as | | | | | | necessary to | | | | | | represent a list | | | | | | of PDN | | | | | | Connections. | | | +------------------+----+------------------+------------------+------+ | Sender F-TEID | C | This IE | F-TEID | 0 | | for Control | | specifies the | | | | Plane | | address and the | | | | | | TEID for control | | | | | | plane message | | | | | | which is chosen | | | | | | by the old | | | | | | MME/SGSN. | | | +------------------+----+------------------+------------------+------+ | SGW S11/S4 IP | C | This IE shall be | F-TEID | 1 | | Address and TEID | | included if a | | | | for Control | | SGW is being | | | | Plane | | used by the old | | | | | | MME/SGSN. | | | +------------------+----+------------------+------------------+------+ | SGW node name | C | This IE shall be | FQDN | 0 | | | | included if the | | | | | | source MME or | | | | | | SGSN has the | | | | | | source SGW FQDN. | | | | | | This IE | | | | | | identifies the | | | | | | SGW that was | | | | | | used by the old | | | | | | MME/SGSN. | | | +------------------+----+------------------+------------------+------+ | Indication Flags | C | This IE shall be | Indication | 0 | | | | included if any | | | | | | of the flags are | | | | | | set to 1. | | | | | | | | | | | | Idle mode | | | | | | Signalling | | | | | | Reduction | | | | | | Supported | | | | | | Indication: | | | | | | | | | | | | - This flag | | | | | | shall be set | | | | | | to 1 if the | | | | | | Cause IE | | | | | | value | | | | | | indicates | | | | | | \"Request | | | | | | accepted\" | | | | | | and the old | | | | | | system | | | | | | (including | | | | | | old MME/SGSN | | | | | | and the | | | | | | associated | | | | | | SGW) has the | | | | | | ISR | | | | | | capability. | | | | | | | | | | | | Unauthenticated | | | | | | IMSI: | | | | | | | | | | | | - This flag | | | | | | shall be set | | | | | | to 1 if the | | | | | | IMSI present | | | | | | in the | | | | | | message is | | | | | | not | | | | | | | | | | | | authenticated | | | | | | and is for | | | | | | an emergency | | | | | | attached UE. | | | | | | | | | | | | Change Reporting | | | | | | support | | | | | | indication flag: | | | | | | | | | | | | - This flag | | | | | | shall be set | | | | | | to 1 if the | | | | | | Source | | | | | | S4-SGSN/MME | | | | | | supports | | | | | | Location | | | | | | Change | | | | | | Reporting | | | | | | mechanism. | | | | | | See NOTE1. | | | | | | | | | | | | CSG Change | | | | | | Reporting | | | | | | support | | | | | | indication flag: | | | | | | | | | | | | - This flag | | | | | | shall be set | | | | | | to 1 if the | | | | | | Source | | | | | | S4-SGSN/MME | | | | | | supports CSG | | | | | | Information | | | | | | Change | | | | | | Reporting | | | | | | mechanism. | | | | | | See NOTE1. | | | | | | | | | | | | ISRAU: | | | | | | | | | | | | - This flag | | | | | | shall be set | | | | | | to 1 on | | | | | | S10/S16 | | | | | | interface if | | | | | | the ISR is | | | | | | activated | | | | | | for the UE | | | | | | before the | | | | | | UE moving to | | | | | | the new | | | | | | SGSN/MME. | | | +------------------+----+------------------+------------------+------+ | Trace | C | This IE shall be | Trace | 0 | | Information | | included when | Information | | | | | session trace is | | | | | | active for this | | | | | | IMSI/IMEI. | | | +------------------+----+------------------+------------------+------+ | HRPD access node | C | This IE shall be | IP-Address | 0 | | S101 IP address | | included only if | | | | | | the HRPD pre | | | | | | registration was | | | | | | performed at the | | | | | | old MME | | | +------------------+----+------------------+------------------+------+ | 1xIWS S102 IP | C | This IE shall be | IP-Address | 1 | | address | | included only if | | | | | | the 1xRTT CS | | | | | | fallback pre | | | | | | registration was | | | | | | performed at the | | | | | | old MME | | | +------------------+----+------------------+------------------+------+ | Subscribed RFSP | CO | This IE shall be | RFSP Index | 0 | | Index | | included only | | | | | | during | | | | | | inter-MME/SGSN | | | | | | mobility | | | | | | procedures, if | | | | | | the source | | | | | | MME/SGSN | | | | | | receives it from | | | | | | an HSS. | | | +------------------+----+------------------+------------------+------+ | RFSP Index in | CO | This IE shall be | RFSP Index | 1 | | Use | | included only | | | | | | during | | | | | | inter-MME/SGSN | | | | | | mobility | | | | | | procedures, if | | | | | | the source | | | | | | MME/SGSN | | | | | | supports the | | | | | | feature. | | | +------------------+----+------------------+------------------+------+ | UE Time Zone | CO | When available, | UE Time Zone | 0 | | | | this IE shall be | | | | | | included by the | | | | | | source | | | | | | MME/S4-SGSN. | | | +------------------+----+------------------+------------------+------+ | MME/S4-SGSN LDN | O | This IE is | Local | 0 | | | | optionally sent | Distinguished | | | | | by the | Name (LDN) | | | | | MME/S4-SGSN to | | | | | | the peer | | | | | | MME/S4-SGSN on | | | | | | the S3/S10/S16 | | | | | | interfaces (see | | | | | | 3GPP TS 32.423 | | | | | | [44]), when | | | | | | communicating | | | | | | the LDN to the | | | | | | peer node for | | | | | | the first time. | | | +------------------+----+------------------+------------------+------+ | Private | O | | Private | VS | | Extension | | | Extension | | +------------------+----+------------------+------------------+------+ | NOTE1: 3GPP TS | | | | | | 23.401 [3] | | | | | | (e.g. subclause | | | | | | 5.3.2.1) and | | | | | | 3GPP TS 23.060 | | | | | | [35] (e.g. | | | | | | subclause | | | | | | 9.2.2.1) defines | | | | | | the MME/SGSN | | | | | | shall send the | | | | | | MS Info Change | | | | | | Reporting | | | | | | Support | | | | | | Indication to | | | | | | the PGW. In such | | | | | | case MME/SGSN | | | | | | shall use the | | | | | | Change Reporting | | | | | | Support | | | | | | Indication | | | | | | and/or CSG | | | | | | Change Reporting | | | | | | Support | | | | | | Indication | | | | | | (whichever is | | | | | | applicable), | | | | | | even if stage 2 | | | | | | refers to MS | | | | | | Info Change | | | | | | Reporting | | | | | | Support | | | | | | Indication. | | | | | +------------------+----+------------------+------------------+------+
Table 7.3.6-2: MME/SGSN UE EPS PDN Connections within Context Response
+------------------+----+------------------+------------------+------+ | Octet 1 | | PDN Connection | | | | | | IE Type = 109 | | | | | | (decimal) | | | +------------------+----+------------------+------------------+------+ | Octets 2 and 3 | | Length = n | | | +------------------+----+------------------+------------------+------+ | Octet 4 | | Spare and | | | | | | Instance fields | | | +------------------+----+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+----+------------------+------------------+------+ | APN | M | | APN | 0 | +------------------+----+------------------+------------------+------+ | **APN | C | This IE denotes | APN Restriction | 0 | | Restriction** | | the restriction | | | | | | on the | | | | | | combination of | | | | | | types of APN for | | | | | | the APN | | | | | | associated with | | | | | | this EPS bearer | | | | | | Context. The | | | | | | target MME or | | | | | | SGSN determines | | | | | | the Maximum APN | | | | | | Restriction | | | | | | using the APN | | | | | | Restriction. | | | | | | | | | | | | If available, | | | | | | the source | | | | | | MME/S4 SGSN | | | | | | shall include | | | | | | this IE. | | | +------------------+----+------------------+------------------+------+ | **Selection | CO | When available, | Selection Mode | 0 | | Mode** | | this IE shall be | | | | | | included by the | | | | | | source | | | | | | MME/S4-SGSN | | | +------------------+----+------------------+------------------+------+ | IPv4 Address | C | This IE shall | IP Address | 0 | | | | not be included | | | | | | if no IPv4 | | | | | | Address is | | | | | | assigned. See | | | | | | NOTE 1. | | | +------------------+----+------------------+------------------+------+ | IPv6 Address | C | This IE shall | IP Address | 1 | | | | not be included | | | | | | if no IPv6 | | | | | | Address is | | | | | | assigned. | | | +------------------+----+------------------+------------------+------+ | Linked EPS | M | This IE | EBI | 0 | | Bearer ID | | identifies the | | | | | | default bearer | | | | | | of the PDN | | | | | | Connection. | | | +------------------+----+------------------+------------------+------+ | PGW S5/S8 IP | M | This IE shall | F-TEID | 0 | | Address for | | include the TEID | | | | Control Plane or | | in the GTP based | | | | PMIP | | S5/S8 case and | | | | | | the GRE key in | | | | | | the PMIP based | | | | | | S5/S8 case. | | | +------------------+----+------------------+------------------+------+ | PGW node name | C | This IE shall be | FQDN | 0 | | | | included if the | | | | | | source MME or | | | | | | SGSN has the PGW | | | | | | FQDN. | | | +------------------+----+------------------+------------------+------+ | Bearer Contexts | M | Several IEs with | Bearer Context | 0 | | | | this type and | | | | | | instance values | | | | | | may be included | | | | | | as necessary to | | | | | | represent a list | | | | | | of Bearers. | | | +------------------+----+------------------+------------------+------+ | Aggregate | M | | AMBR | 0 | | Maximum Bit Rate | | | | | | (APN-AMBR) | | | | | +------------------+----+------------------+------------------+------+ | Charging | C | This IE shall be | Charging | 0 | | characteristics | | present if | characteristics | | | | | charging | | | | | | characteristics | | | | | | was supplied by | | | | | | the HSS to the | | | | | | MME/SGSN as a | | | | | | part of | | | | | | subscription | | | | | | information. | | | +------------------+----+------------------+------------------+------+ | Change Reporting | C | This IE shall be | Change Reporting | 0 | | Action | | included | Action | | | | | whenever | | | | | | available at the | | | | | | source MME/SGSN. | | | +------------------+----+------------------+------------------+------+ | CSG Information | CO | This IE shall be | CSG Information | 0 | | Reporting Action | | included | Reporting Action | | | | | whenever | | | | | | available at the | | | | | | source MME/SGSN. | | | +------------------+----+------------------+------------------+------+ | Indication flags | CO | This IE shall be | Indication | 0 | | | | included if any | | | | | | one of the | | | | | | applicable flags | | | | | | is set to 1. | | | | | | | | | | | | Applicable | | | | | | flags: | | | | | | | | | | | | - Subscribed | | | | | | QoS Change | | | | | | Indication: | | | | | | This flag | | | | | | shall be set | | | | | | to 1 if the | | | | | | subscribed | | | | | | QoS profile | | | | | | of the | | | | | | related PDN | | | | | | connection | | | | | | has changed | | | | | | in the old | | | | | | MME/SGSN | | | | | | when the UE | | | | | | is in | | | | | | ECM-IDLE | | | | | | state and | | | | | | ISR is | | | | | | activated. | | | +------------------+----+------------------+------------------+------+ | NOTE 1: For | | | | | | deferred IPv4 | | | | | | address | | | | | | allocation, if | | | | | | the MME/S4-SGSN | | | | | | receives the PDN | | | | | | address | | | | | | \"0.0.0.0\" from | | | | | | PGW during | | | | | | \"eUTRAN Initial | | | | | | Attach\", \"PDP | | | | | | Context | | | | | | Activation\", | | | | | | \"UE requested | | | | | | PDN | | | | | | Connectivity\", | | | | | | then the | | | | | | MME/S4-SGSN | | | | | | shall include | | | | | | this IPv4 | | | | | | address | | | | | | \"0.0.0.0\". | | | | | +------------------+----+------------------+------------------+------+
The Bearer Context shall be coded as depicted in Table 7.3.6-3.
Table 7.3.6-3: Bearer Context within MME/SGSN UE EPS PDN Connections within
Context Response
* * *
Octet 1 Bearer Context IE Type = 93  
Octets 2 and 3 Length = n  
Octet 4 Sparae and Instance fields  
Information elements P Condition / Comment IE Type Ins. EPS Bearer ID M EBI 0
TFT C This IE shall be present if a TFT is defined for this bearer. Bearer TFT
0 SGW S1/S4/S12 IP Address and TEID for user plane M F-TEID 0 PGW S5/S8 IP
Address and TEID for user plane C This IE shall only be included for GTP based
S5/S8. F-TEID 1 Bearer Level QoS M Bearer Level QoS 0 BSS Container CO The
MME/S4 SGSN shall include the Packet Flow ID, Radio Priority, SAPI, PS
Handover XID parameters in the TAU/RAU/Handover procedure, if available.
F-Container 0 Transaction Identifier C This IE shall be sent over S3/S10/S16
if the UE supports A/Gb and/or Iu mode. TI 0
* * *
### 7.3.7 Context Acknowledge
A Context Acknowledge message shall be sent as a response to a previous
Context Response message, only if the previous Context Response message is
received with the acceptance cause.
Possible cause values are:
\- \"Request accepted\".
\- \"System failure\".
\- \"Mandatory IE incorrect\".
\- \"Mandatory IE missing\".
\- \"Conditional IE missing\".
\- \"No resources available\".
\- \"Invalid message format\".
\- \"User authentication failed\".
Table 7.3.7-1 specifies the presence requirements and conditions of the IEs in
the message.
Table 7.3.7-1: Information Elements in a Context Acknowledge
+------------------+---+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+---+------------------+------------------+------+ | Cause | M | None | Cause | 0 | +------------------+---+------------------+------------------+------+ | Indication flags | C | This IE shall be | Indication | 0 | | | | included if any | | | | | | one of the | | | | | | applicable flags | | | | | | is set to 1. | | | | | | | | | | | | Applicable Flags | | | | | | are: | | | | | | | | | | | | SGWCI: | | | | | | | | | | | | - SGW change | | | | | | indication | | | | | | indicates a | | | | | | new SGW has | | | | | | been | | | | | | selected. | | | | | | The old | | | | | | MME/old SGSN | | | | | | marks in its | | | | | | context that | | | | | | the | | | | | | information | | | | | | in the GWs | | | | | | and the HSS | | | | | | are invalid. | | | | | | | | | | | | ISRAI: | | | | | | | | | | | | - This flag | | | | | | indicates to | | | | | | the old | | | | | | system that | | | | | | it shall | | | | | | maintain the | | | | | | UE\'s | | | | | | contexts. | | | | | | This flag | | | | | | shall be set | | | | | | to 1 if the | | | | | | Cause IE | | | | | | value | | | | | | indicates | | | | | | \"Request | | | | | | accepted\" | | | | | | and ISR is | | | | | | activated as | | | | | | specified in | | | | | | 3GPP TS | | | | | | 23.401 | | | | | | [3]. | | | | | | | | | | | | See NOTE1. | | | +------------------+---+------------------+------------------+------+ | Private | O | None | Private | VS | | Extension | | | Extension | | +------------------+---+------------------+------------------+------+ | NOTE1: For the | | | | | | Indication | | | | | | Flags, the | | | | | | combination | | | | | | (SGWCI, ISRAI) = | | | | | | 1,1 shall be | | | | | | considered an | | | | | | error if | | | | | | received. | | | | | +------------------+---+------------------+------------------+------+
### 7.3.8 Identification Request
If the UE identifies itself with temporary identity and it has changed
SGSN/MME since detach in Attach procedure, the new MME/SGSN shall send an
Identification Request message to the old SGSN/MME over S3, S16 or S10
interface to request IMSI.
Table 7.3.8-1 specifies the presence requirements and conditions of the IEs in
the message.
If the sending node is a MME, it shall include in the Identification Request
message:
\- the GUTI IE and Complete Attach Request Message IE if the GUTI received
from UE indicates the old node is a MME.
\- the RAI P-TMSI, which was derived from the GUTI received from UE, and the
P-TMSI Signature that was received intact from the UE, if the GUTI indicates
the old node is an SGSN.
If the sending/new node is an SGSN, it shall include RAI IE, P-TMSI IE and
P-TMSI Signature IE in the Identification Request message. If the receiving
node is an MME, it shall construct GUTI according to the RAI IE, P-TMSI IE and
P-TMSI Signature IE (see the mapping relationship between RAI, P-TMSI, P-TMSI
signature and GUTI defined in 3GPP TS23.003[2]), and find UE context via this
GUTI.
The new MME differentiates the type of the old node from the most significant
bit of the MME group id in GUTI. The value 0 indicates that the old node is an
SGSN, the GUTI shall be mapped to RAI and P-TMSI by the new MME; and the value
1 indicates the old node is a MME, the new MME include GUTI IE and Complete
Attach Request Message IE in the Identification Request message. The Mapping
between temporary and area identities is defined in 3GPP TS 23.003 [2].
NOTE: In networks where this definition is not applied (e.g. in networks
already configured with LAC with the most significant bit set to 1 before LTE
deployment), specific network implementations still satisfying 3GPP standard
interfaces can be used to distinguish the node type. See subclause 2.8.2.2.2
of 3GPP TS 23.003 [2].
The GUTI IE shall not coexist with any of the RAI IE, P-TMSI IE and P-TMSI
Signature IE in an Identification Request message. If this occurs, the
receiving node shall return a corresponding cause value in the response
message.
The Target PLMN ID IE shall be used in old SGSN/MME in order to decide whether
un-used authentication vectors to be distributed to new SGSN/MME or not.
Distribution and use of authentication vectors between different serving
network domains are specified in 3GPP TS 33.401 [12].
Table 7.3.8-1: Information Elements in an Identification Request
* * *
Information elements P Condition / Comment IE Type Ins. GUTI C The new MME
shall include this IE over S10 interface. GUTI 0 Routeing Area Identity(RAI) C
This IE shall be included over S3/S16 interface, if the GUTI received from the
UE indicates the old node is an SGSN, the new MME maps this IE from GUTI. ULI
for RAI 0 Packet TMSI(P-TMSI) C This IE shall be included over S3/S16
interface. For the S3 interface, if sent by the MME, this IE is derived by the
MME from the GUTI received from the UE. P-TMSI 0 P-TMSI Signature C This IE
shall be included over S3/S16 interface, if it is received from the UE. P-TMSI
Signature 0 Complete Attach Request Message C The new MME shall include this
IE over S10 interface, and the old MME may use this IE for integrity check.
Complete Request Message 0 Address for Control Plane O If an SGSN within the
same SGSN pool with the old SGSN receives this message, the SGSN shall include
the old IP address of the received message in this optional parameter if this
IE is not present and relay the message to the old SGSN. IP Address 0 UDP
Source Port Number C If an SGSN within the same SGSN pool as the old SGSN
receives this message, the SGSN shall include the UDP Source Port number of
the received message in this parameter if this IE is not present and relay the
message to the old SGSN. The old SGSN shall use this UDP port as the UDP
destination port of the Identification Response message. Port Number 0 Hop
Counter O If an SGSN within the same SGSN pool with the old SGSN receives this
message, the SGSN shall decrement the Hop Counter if this IE is present in the
received message; otherwise, the SGSN may include a Hop Counter with a value
of max-1, and may relay the message to the old SGSN. Hop Counter 0 Target PLMN
ID CO If available, this IE shall be included in order to allow old MME/SGSN
to make a judgment whether un-used authentication vectors to be distributed or
not. Serving Network 0 Private Extension O None Private Extension VS
* * *
### 7.3.9 Identification Response
The old SGSN/MME shall send an Identification Response message to the new
MME/SGSN as a response to a previous Identification Request message over
S3/S10/S16 interface.
Table 7.3.9-1 specifies the presence requirements and conditions of the IEs in
the message.
For Intra Domain Connection of RAN Nodes to Multiple CN Nodes, if an old SGSN
within an SGSN pool receives an Identification Request message that contains
the optional parameter Address for Control Plane, the old SGSN shall use this
address as destination IP address of the Identification Response message.
Possible Cause values are:
  * \"Request accepted\"
  * \"System failure\"
  * \"Mandatory IE incorrect\"
  * \"Conditional IE missing\".
  * \"Invalid Message format\"
  * \"P-TMSI Signature mismatch\"
  * \"User authentication failed\"
Only the Cause information element shall be included in the response if the
Cause contains another value than \"Request accepted\".
Table 7.3.9-1: Information Elements in an Identification Response
* * *
Information elements P Condition / Comment IE Type Ins. Cause M Cause 0 IMSI C
This IE shall be included if the Cause contains the value \"Request
accepted\". IMSI 0 MME/SGSN UE MM Context C This IE shall be included if
Attach Request is integrity protected MM Context 0 Trace Information CO This
IE shall be included when session trace is active for this IMSI/IMEI. Trace
Information 0 Private Extension O Private Extension VS
* * *
### 7.3.10 Forward Access Context Notification
A Forward Access Context Notification message shall be sent from the Old SGSN
to the New SGSN over the S16 interface to forward the RNC contexts to the
target system, or sent from the Old MME to the New MME over the S10 interface
to forward the RNC/eNodeB contexts to the target system.
When the old SGSN receives the RANAP message Forward SRNS Context, the old
SGSN shall send a Forward Access Context Notification message to the new SGSN.
The new SGSN shall forward the message to the target RNC using the
corresponding RANAP message.
When the old SGSN receives a BSSGP message PS handover Required and the
acknowledged peer-to-peer LLC operation is used for the Bearer Context or when
\"delivery order\" is set in the Bearer Context QoS profile, the old SGSN
shall send a Forward Access Context Notification message with the PDU Number
IE to the new SGSN. The new SGSN shall forward the message to the target RNC/
target BSS using the corresponding RANAP message only for PS handover to Iu
mode.
When the old SGSN receives a BSSGP message PS handover Required from source
BSS/RNC for PS handover to A/Gb mode, the value part of RAB Context IE shall
be empty according to its defined minimum length.
Table 7.3.10-1 specifics the presence requirements and conditions of the IEs
in the message.
Table 7.3.10-1: Information Elements in a Forward Access Context Notification
+------------------+---+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+---+------------------+------------------+------+ | RAB Contexts | C | This IE shall be | RAB Context | 0 | | | | included for S16 | | | | | | only. Several | | | | | | IEs with this | | | | | | type and | | | | | | instance values | | | | | | shall be | | | | | | included as | | | | | | necessary to | | | | | | represent a list | | | | | | of Bearers. | | | | | | | | | | | | For each RAB | | | | | | context in the | | | | | | received RANAP | | | | | | message, the old | | | | | | SGSN shall | | | | | | include this IE | | | | | | in the message. | | | +------------------+---+------------------+------------------+------+ | Source RNC PDCP | C | If available, | Source RNC PDCP | 0 | | context Info | | the old SGSN | context Info | | | | | shall include an | | | | | | Source RNC PDCP | | | | | | context info in | | | | | | the message. | | | +------------------+---+------------------+------------------+------+ | PDU Numbers | C | This IE only | PDU Numbers | 0 | | | | applies to S16. | | | | | | The old SGSN | | | | | | shall include | | | | | | this IE in the | | | | | | message if the | | | | | | acknowledged | | | | | | peer-to-peer LLC | | | | | | operation is | | | | | | used for the | | | | | | Bearer Context | | | | | | or when | | | | | | \"delivery | | | | | | order\" is set | | | | | | in the Bearer | | | | | | Context QoS | | | | | | profile in A/Gb | | | | | | mode to Iu/A/Gb | | | | | | mode PS | | | | | | handover. | | | +------------------+---+------------------+------------------+------+ | E-UTRAN | C | This IE shall be | F-Container | 0 | | Transparent | | included over | | | | Container | | S10 to contain | | | | | | the eNodeB | | | | | | Status Transfer | | | | | | Transparent | | | | | | Container IE | | | | | | specified in | | | | | | S1-AP. | | | +------------------+---+------------------+------------------+------+ | Private | O | | Private | VS | | Extension | | | Extension | | +------------------+---+------------------+------------------+------+
### 7.3.11 Forward Access Context Acknowledge
A Forward Access Context Acknowledge message shall be sent to the old MME/SGSN
as a response to Forward Access Context Notification.
Possible Cause values are:
\- \"Request Accepted\".
\- \"Mandatory IE incorrect\".
\- \"Conditional IE missing\".
\- \"Invalid message format\".
Table 7.3.11-1 specifics the presence requirements and conditions of the IEs
in the message.
Table 7.3.11-1: Information Elements in a Forward Access Context Acknowledge
* * *
Information elements P Condition / Comment IE Type Ins. Cause M Cause 0
Private Extension O Private Extension VS
* * *
### 7.3.12 Detach Notification
A Detach Notification message shall be sent from an MME to the associated
SGSN, or from an SGSN to the associated MME as a part of Detach procedure if
the ISR is activated between the MME and SGSN for the UE.
Possible Cause values are:
  * \"Local Detach\".
  * \"Complete Detach\".
A Detach Notification message shall also be sent from an SGSN to the
associated MME as a part of Detach procedure if the ISR is activated between
the MME and SGSN for the UE.
Possible Cause values are:
  * \"IMSI Detach only\".
\"Local Detach\" indicates that this detach is local to the MME/SGSN and so
the associated SGSN/MME registration where the ISR is activated shall not be
detached. The MME/SGSN that receives this message including this Cause value
of \"Local Detach\" only deactivates the ISR. This Cause value shall be
included in the procedures:
  * MME/SGSN-initiated Detach Procedure in case of implicit detach.
\"Complete Detach\" indicates both the MME registration and the SGSN
registration that the ISR is activated for, shall be detached. This \"Complete
Detach\" Cause value shall be included in the procedures:
  * UE-initiated Detach Procedure.
  * MME/SGSN-initiated Detach Procedure in case of explicit detach.
For the purpose of SGs handling, the SGSN shall include Detach Type in the
Detach Notification message for \"Complete Detach\" when the UE is combined
IMSI/EPS attached and the ISR is activated.
Possible Detach Type values are:
  * \"PS Detach\".
  * \"Combined PS/CS Detach\".
\"PS Detach\" indicates that the MME shall perform explicit IMSI detach from
EPS service as specified in section 5.4, 3GPP TS 29.118 [22]. \"Combined PS/CS
detach\" indicates that the MME shall perform explicit IMSI detach from non-
EPS service as specified in section 5.5, 3GPP TS 29.118 [22].
\"IMSI Detach only\" indicates that combined IMSI/EPS attached UE initiates
IMSI only GPRS detach from non-GPRS service as specified in section 4.7.4.1,
3GPP TS 24.008 [5], and both the SGSN/MME registration shall be remained. The
MME shall perform explicit IMSI detach from non-EPS service for the SGs
handling purpose, which is specified in section 5.5, 3GPP TS 29.118 [22]. This
\"IMSI Detach only\" Cause value shall be included in the procedures:
  * UE-initiated Detach Procedure for GERAN/UTRAN for \"IMSI Detach only\".
Table 7.3.12-1 specifics the presence of the IEs in the message.
Table 7.3.12-1: Information Elements in a Detach Notification
* * *
Information elements P Condition / Comment IE Type Ins. Cause M Cause 0 Detach
Type CO This IE shall be included by SGSN when the Cause indicates \"Complete
Detach\" for the combined IMSI/EPS attached UE. Detach Type 0 Private
Extension O Private Extension VS
* * *
### 7.3.13 Detach Acknowledge
A Detach Acknowledge message shall be sent as a response to a Detach
Notification message during Detach procedure.
Possible Cause values are:
  * \"Request accepted\".
  * \"System failure\".
  * \"Mandatory IE incorrect\".
  * \"Mandatory IE missing\".
  * \"Invalid Message format\"
Table 7.3.13-1 specifics the presence of the IEs in the message.
Table 7.3.13-1: Information Elements in a Detach Acknowledge
* * *
Information elements P Condition / Comment IE Type Ins. Cause M Cause 0
Recovery O Recovery 0 Private Extension O Private Extension VS
* * *
### 7.3.14 Change Notification Request
3GPP TS 23.401 [3] and 3GPP TS 23.060 [4] specify that if PGW has requested
ECGI/TAI/CGI/SAI/RAI Change Reporting and if MME/S4-SGSN supports the feature,
then MME/S4-SGSN shall send the Change Notification Request message on the
S11/S4 interface to the SGW. If SGW supports the feature, the SGW forwards the
message on the GTP based S5/S8 interface to the PGW as part of location
dependent charging related procedures.
The TEID value used in this message shall be zero.
Table 7.3.14-1: Information Element in Change Notification
+------------------+----+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+----+------------------+------------------+------+ | IMSI | C | The MME/SGSN | IMSI | 0 | | | | shall include | | | | | | IMSI in the | | | | | | message except | | | | | | for the case: | | | | | | | | | | | | - If the UE is | | | | | | emergency | | | | | | attached and the | | | | | | UE is UICCless. | | | | | | | | | | | | The IMSI shall | | | | | | be included in | | | | | | the message but | | | | | | not used as an | | | | | | identifier | | | | | | | | | | | | - if UE is | | | | | | emergency | | | | | | attached but | | | | | | IMSI is not | | | | | | authenticated. | | | | | | | | | | | | If the SGW | | | | | | receives this | | | | | | IE, it shall | | | | | | forward it to | | | | | | the PGW on | | | | | | S5/S8. | | | +------------------+----+------------------+------------------+------+ | ME Identity | C | The MME/SGSN | MEI | 0 | | (MEI) | | shall include | | | | | | the ME Identity | | | | | | (MEI) IE: | | | | | | | | | | | | - If the UE is | | | | | | emergency | | | | | | attached and the | | | | | | UE is UICCless | | | | | | | | | | | | - If the UE is | | | | | | emergency | | | | | | attached and the | | | | | | IMSI is not | | | | | | authenticated | | | | | | | | | | | | If the SGW | | | | | | receives this | | | | | | IE, it shall | | | | | | forward it to | | | | | | the PGW on | | | | | | S5/S8. | | | +------------------+----+------------------+------------------+------+ | Indication Flags | CO | This IE shall be | Indication | 0 | | | | included if any | | | | | | one of the | | | | | | applicable flags | | | | | | is set to 1. | | | | | | | | | | | | Applicable flags | | | | | | are: | | | | | | | | | | | | - | | | | | | Unauthenticated | | | | | | IMSI: This | | | | | | flag shall | | | | | | be set to 1 | | | | | | if the IMSI | | | | | | present in | | | | | | the message | | | | | | is not | | | | | | | | | | | | authenticated | | | | | | and is for | | | | | | an emergency | | | | | | attached UE. | | | +------------------+----+------------------+------------------+------+ | RAT Type | M | | RAT Type | 0 | +------------------+----+------------------+------------------+------+ | User Location | C | The SGSN shall | ULI | 0 | | Information | | include the User | | | | (ULI) | | Location | | | | | | Information IE | | | | | | if the MS is | | | | | | located in a RAT | | | | | | Type of GERAN, | | | | | | UTRAN or GAN and | | | | | | shall include | | | | | | the CGI, SAI | | | | | | and/or RAI. | | | +------------------+----+------------------+------------------+------+ | | CO | The MME shall | | | | | | include the User | | | | | | Location | | | | | | Information IE | | | | | | if the UE is | | | | | | located in a RAT | | | | | | Type of E-UTRAN | | | | | | and shall | | | | | | include the ECGI | | | | | | and/or TAI. | | | +------------------+----+------------------+------------------+------+ | | CO | If the SGW | | | | | | receives this IE | | | | | | it shall forward | | | | | | it to the PGW, | | | | | | if it supports | | | | | | this feature. | | | +------------------+----+------------------+------------------+------+ | User CSG | CO | The SGSN/MME | UCI | 0 | | Information | | shall include | | | | (UCI) | | the User CSG | | | | | | Information IE | | | | | | if the MS is | | | | | | located in the | | | | | | CSG cell or the | | | | | | hybrid cell and | | | | | | the P-GW decides | | | | | | to receive the | | | | | | CSG Information. | | | | | | | | | | | | If the SGW | | | | | | receives this IE | | | | | | it shall forward | | | | | | it to the PGW, | | | | | | if it supports | | | | | | this feature. | | | +------------------+----+------------------+------------------+------+ | PGW S5/S8 GTP-C | C | This IE shall be | IP Address | 0 | | IP Address | | sent on S4. | | | +------------------+----+------------------+------------------+------+ | | CO | This IE shall be | | | | | | sent on S11. | | | +------------------+----+------------------+------------------+------+ | LBI | CO | This IE, | EBI | 0 | | | | identifying the | | | | | | PDN connection, | | | | | | shall be sent by | | | | | | the MME/SGSN on | | | | | | S11/S4. | | | | | | | | | | | | If the SGW | | | | | | receives this | | | | | | IE, it shall | | | | | | forward it to | | | | | | the PGW on | | | | | | S5/S8. | | | +------------------+----+------------------+------------------+------+ | Private | O | Vendor or | Private | VS | | Extension | | operator | Extension | | | | | specific | | | | | | information | | | +------------------+----+------------------+------------------+------+
### 7.3.15 Change Notification Response
The Change Notification Response message may be sent on the S11/S4 interface
by the SGW to the MME/SGSN and is sent on the S5/S8 interface by the PGW to
the SGW as part of location dependent charging related procedures to
acknowledge the receipt of a Change Notification Request.
If SGW does not support the feature (see subclause 7.3.14 \"Change
Notification Request\"), SGW may silently discard Change Notification Request
message from MME/SGSN. If the MME/ SGSN does not receive Change Notification
Response, the MME/SGSN may either send Change Notification Request to the same
SGW next time UE location changes, or not (marking SGW as not supporting the
feature).
The Cause value indicates whether or not the Change Notification Request was
received correctly. Possible Cause values are:
  * \"Request accepted\".
  * \"Request accepted partially\".
  * \"Request rejected\".
  * \"Invalid message format\".
  * \"IMSI not known\".
  * \"Mandatory IE incorrect\".
  * \"Mandatory IE missing\".
  * \"Conditional IE missing\".
  * \"System failure\".
The TEID value used in this message shall be zero.
If the IMSI is unknown for the receiving GTP-C entity, then the message shall
be silently discarded and no further processing of the IEs shall continue.
If the MME/SGSN receives Change Notification Response containing a Cause value
of \"IMSI not known\" and CS bit set to 1, this indicates that the associated
PDN connection does not exist within the PGW. The Change Reporting mechanism
shall be stopped in the receiving SGSN/MME for all Bearers of the associated
PDN connection. The SGSN/MME shall then initiate PDN disconnection for all of
these PDN Connection .
If the PDN Connection associated of the Change Notification Request message
received by the SGW does not exist within the SGW, the SGW shall return Change
Notification Response with the CS bit set to 0 to the MME/SGSN. The Change
Reporting mechanism shall be stopped in the receiving SGSN/MME for all Bearers
of the associated PDN connection, and the MME/SGSN shall then locally delete
the PDN connection and release all associated resources.
If the location Change Reporting mechanism is to be stopped or modified for
this subscriber in the SGSN/MME, then the PGW shall include the Change
Reporting Action IE in the message and shall set the value of the Action field
appropriately.
Table 7.3.15-1: Information Element in Change Notification Response
* * *
Information elements P Condition / Comment IE Type Ins. IMSI C The IMSI shall
be included in the message if it is received in the Change Notification
Request message. IMSI 0 ME Identity (MEI) C The ME Identity (MEI) shall be
included in the message if it is received in the Change Notification Request
message. MEI 0 Cause M Cause 0 Change Reporting Action C This IE shall be
included with the appropriate Action field If the location Change Reporting
mechanism is to be started or stopped for this subscriber in the SGSN/MME.
Change Reporting Action 0 CSG Information Reporting Action CO This IE shall be
included with the appropriate Action field if the location CSG Info reporting
mechanism is to be started or stopped for this subscriber in the SGSN/MME. CSG
Information Reporting Action 0 Private Extension O Private Extension VS
* * *
### 7.3.16 Relocation Cancel Request
A Relocation Cancel Request message shall be sent from the source MME/SGSN to
the target MME/SGSN on S3/S10/S16 interface as part of the Inter RAT handover
Cancel procedure/S1 Based handover Cancel procedure and on the S16 interface
as part of the SRNS Relocation Cancel Procedure.Table 7.3.16-1 specifics the
presence of the IEs in the message.
Table 7.3.16-1: Information Elements in Relocation Cancel Request
+------------------+----+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+----+------------------+------------------+------+ | IMSI | C | The IMSI shall | IMSI | 0 | | | | be included in | | | | | | the message | | | | | | except for the | | | | | | case: | | | | | | | | | | | | - If the UE is | | | | | | emergency | | | | | | attached and the | | | | | | UE is UICCless. | | | | | | | | | | | | The IMSI shall | | | | | | be included in | | | | | | the message but | | | | | | not used as an | | | | | | identifier | | | | | | | | | | | | - if UE is | | | | | | emergency | | | | | | attached but | | | | | | IMSI is not | | | | | | | | | | | | authenticated. | | | +------------------+----+------------------+------------------+------+ | ME Identity | C | The MME/SGSN | MEI | 0 | | (MEI) | | shall include | | | | | | the ME Identity | | | | | | (MEI) IE: | | | | | | | | | | | | - If the UE is | | | | | | emergency | | | | | | attached and the | | | | | | UE is UICCless | | | | | | | | | | | | - If the UE is | | | | | | emergency | | | | | | attached and the | | | | | | IMSI is not | | | | | | authenticated | | | +------------------+----+------------------+------------------+------+ | Indication Flags | CO | This IE shall be | Indication | 0 | | | | included if any | | | | | | one of the | | | | | | applicable flags | | | | | | is set to 1. | | | | | | | | | | | | Applicable flags | | | | | | are: | | | | | | | | | | | | - | | | | | | Unauthenticated | | | | | | IMSI: This | | | | | | flag shall | | | | | | be set to 1 | | | | | | if the IMSI | | | | | | present in | | | | | | the message | | | | | | is not | | | | | | | | | | | | authenticated | | | | | | and is for | | | | | | an emergency | | | | | | attached UE. | | | +------------------+----+------------------+------------------+------+ | RANAP Cause | C | This IE shall be | F-Cause | 0 | | | | present in the | | | | | | case of SRNS | | | | | | relocation | | | | | | cancel | | | | | | procedure. It | | | | | | shall contain | | | | | | the cause value | | | | | | received from | | | | | | the source RNC | | | | | | in the | | | | | | Relocation | | | | | | Cancel message | | | | | | received over | | | | | | the Iu | | | | | | interface. | | | +------------------+----+------------------+------------------+------+ | Private | O | | Private | VS | | Extension | | | Extension | | +------------------+----+------------------+------------------+------+
### 7.3.17 Relocation Cancel Response
A Relocation Cancel Response message shall be sent as a response to a previous
Relocation Cancel Request message during the Inter RAT handover Cancel
procedure/S1 Based handover Cancel procedure/SRNS Relocation Cancel Procedure.
Possible Cause values are:
\- \"Request Accepted\".
\- \"IMSI not known\".
\- \"System failure\".
\- \"Mandatory IE incorrect\".
\- \"Mandatory IE missing\".
\- \"Conditional IE missing\".
\- \"Invalid message format\".
Table 7.3.17-1 specifics the presence of the IEs in the message.
Table 7.3.17-1: Information Elements in Relocation Cancel Response
* * *
Information elements P Condition / Comment IE Type Ins. Cause M Cause 0
Private Extension O Private Extension VS
* * *
### 7.3.18 Configuration Transfer Tunnel
A Configuration Transfer Tunnel message shall be used to tunnel eNodeB
Configuration Transfer messages from a source MME to a target MME over the S10
interface. The purpose of the eNodeB Direct Configuration Transfer is to
transfer information from an eNodeB to another eNodeB in unacknowledged mode
(see 3GPP TS 36.413 [10]).
Table 7.3.18-1 specifies the presence requirements and conditions of the IEs
in the message.
Table 7.3.18-1: Information Elements in a Configuration Transfer Tunnel
Message
* * *
Information elements P Condition / Comment IE Type Ins. E-UTRAN Transparent
Container M This IE shall contain the SON transfer IE. F-Container 0 Target
eNodeB ID M This IE shall contain the ID of the target eNodeB Target
Identification 0
* * *
### 7.3.19 RAN Information Relay
The RAN Information Relay message shall be sent on S3 interface between SGSN
and MME to transfer the RAN information received by an SGSN from BSS or RNS
(or GERAN Iu mode) or by an MME from eNodeB. The procedures are specified in
3GPP TS 23.401 [3].
This message shall also be sent on S16 interface to transfer the RAN
information between GERAN or GERAN Iu mode or UTRAN.
For handling of protocol errors the RAN Information Relay message is treated
as a Response message.
Table 7.3.19-1 specifies the presence requirements and conditions of the IEs
in the message.
Table 7.3.19-1: Information Elements in a RAN Information Relay
+------------------+---+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+---+------------------+------------------+------+ | BSS Container | M | All information | F-Container | 0 | | | | elements from | | | | | | the RIM | | | | | | messages, | | | | | | starting from | | | | | | and including | | | | | | the BSSGP \"PDU | | | | | | type\", shall be | | | | | | contained within | | | | | | the BSS | | | | | | Container and | | | | | | forwarded to the | | | | | | destination | | | | | | MME/SGSN in the | | | | | | RAN Information | | | | | | Relay message. | | | +------------------+---+------------------+------------------+------+ | RIM Routing | C | This IE shall be | Target | 0 | | Address | | included if the | Identification | | | | | RIM Routing | | | | | | Address | | | | | | information is | | | | | | included in the | | | | | | message sent | | | | | | from the source | | | | | | RAN node. | | | | | | | | | | | | This IE | | | | | | identifies the | | | | | | destination RAN | | | | | | node where the | | | | | | RAN Information | | | | | | needs to be | | | | | | relayed to. It | | | | | | contains: | | | | | | | | | | | | - the | | | | | | destination | | | | | | RNC Identity | | | | | | when the | | | | | | target is | | | | | | GERAN Iu | | | | | | mode or | | | | | | UTRAN; or | | | | | | | | | | | | - the | | | | | | destination | | | | | | Cell | | | | | | Identity | | | | | | when the | | | | | | target is | | | | | | GERAN; or | | | | | | | | | | | | - the Target | | | | | | eNodeB ID | | | | | | when the | | | | | | target is | | | | | | E-UTRAN. | | | +------------------+---+------------------+------------------+------+ | Private | O | None | Private | VS | | Extension | | | Extension | | +------------------+---+------------------+------------------+------+
## 7.4 CS Fallback and SRVCC related messages
### 7.4.1 Suspend Notification
The Suspend Notification message shall be sent on the S11 interface by the MME
to the SGW and on the S5/S8 interface by the SGW to the PGW as part of the
1xRTT CS fallback procedures in 3GPP TS 23.272 [21].
The Suspend Notification message shall be sent on the S3 interface by the SGSN
to the MME, on the S11 interface by the MME to the SGW, and on the S5/S8
interface by the SGW to the PGW as part of the SRVCC procedures in 3GPP TS
23.216 [43] or the CS fallback from E-UTRAN access to UTRAN/GERAN CS domain
access related procedures in 3GPP TS 23.272 [21].
The Suspend Notification message shall be sent on the S16 interface as per the
inter-SGSN suspend procedures in 3GPP TS 23.060 [35].
The Suspend Notification message shall be sent on the S16, the S4 and the
S5/S8 interfaces as part of the SRVCC from UTRAN (HSPA) to GERAN without DTM
support procedure in 3GPP TS 23.216 [43].
The Suspend Notification message shall be sent on the S4 and the S5/S8
interfaces as part of the CS fallback from E-UTRAN to GERAN CS domain related
procedures in 3GPP TS 23.272 [21].
After receiving a Suspend Notification message, the SGW/PGW marks all the non-
GBR bearers as suspended status. The PGW should discard packets it receives
for the suspended UE.
Table 7.4.1-1 specifies the presence requirements and conditions of the IEs in
the message.
Table 7.4.1-1: Information Element in Suspend Notification
+------------------+----+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+----+------------------+------------------+------+ | IMSI | C | This IE shall be | IMSI | 0 | | | | included only on | | | | | | the S11 | | | | | | interface. | | | +------------------+----+------------------+------------------+------+ | Routeing Area | C | This IE shall be | ULI for RAI | 0 | | Identity(RAI) | | included only on | | | | | | the S3 | | | | | | interface. | | | | | | | | | | | | See NOTE 1. | | | +------------------+----+------------------+------------------+------+ | | CO | This IE shall be | | | | | | included on the | | | | | | S16 interface. | | | +------------------+----+------------------+------------------+------+ | Linked Bearer | CO | This IE shall be | EBI | 0 | | Identity (LBI) | | included on the | | | | | | S11/S4 interface | | | | | | to indicate the | | | | | | default bearer | | | | | | associated with | | | | | | the PDN | | | | | | connection. | | | +------------------+----+------------------+------------------+------+ | Packet | C | This IE shall be | P-TMSI | 0 | | TMSI(P-TMSI) | | included only on | | | | | | the S3 | | | | | | interface. | | | | | | | | | | | | See NOTE 1. | | | +------------------+----+------------------+------------------+------+ | | CO | This IE shall be | | | | | | included on the | | | | | | S16 interface. | | | +------------------+----+------------------+------------------+------+ | Private | O | | Private | VS | | Extension | | | Extension | | +------------------+----+------------------+------------------+------+ | NOTE 1: The MME | | | | | | can not suspend | | | | | | the bearers | | | | | | after receving | | | | | | the Suspend | | | | | | Notification | | | | | | message from the | | | | | | SGSN, the GUTI | | | | | | can not be | | | | | | derived from the | | | | | | P-TMSI and RAI | | | | | | pair as the | | | | | | P-TMSI Signature | | | | | | is not included | | | | | | in the message. | | | | | | The MME shall | | | | | | still reply the | | | | | | Suspend | | | | | | Acknowledge to | | | | | | the SGSN. | | | | | | Suspend | | | | | | procedure on | | | | | | MME, SGW and PGW | | | | | | are triggered by | | | | | | the S1 UE | | | | | | Context Release | | | | | | message sent | | | | | | from the eNodeB | | | | | | to the MME. | | | | | | Refer to section | | | | | | 6.3 and section | | | | | | 7.4 in 3GPP TS | | | | | | 23.272 [21] | | | | | | for detail. | | | | | +------------------+----+------------------+------------------+------+
### 7.4.2 Suspend Acknowledge
The Suspend Acknowledge message shall be sent on the S11 interface by the SGW
to the MME and on the S5/S8 interface by the PGW to the SGW as part of the
1xRTT CS fallback procedures in 3GPP TS 23.272 [21].
The Suspend Acknowledge message shall be sent on the S3 interface by the MME
to the SGSN, on the S11 interface by the SGW to the MME and on the S5/S8
interface by the PGW to SGW as part of the SRVCC procedures in 3GPP TS 23.216
[43] or the CS fallback from E-UTRAN access to UTRAN/GERAN CS domain access
related procedures in 3GPP TS 23.272 [21].
The Suspend Acknowledge message shall be sent on the S16 interface as per the
inter-SGSN suspend procedures in 3GPP TS 23.060 [35].
The Suspend Acknowledge message shall be sent on the S16, the S4 and the S5/S8
interfaces as part of the SRVCC from UTRAN (HSPA) to GERAN without DTM support
procedure in 3GPP TS 23.216 [43].
The Suspend Acknowledge message shall be sent on the S4 and the S5/S8
interfaces as part of the CS fallback from E-UTRAN to GERAN CS domain related
procedures in 3GPP TS 23.272 [21].
Possible Cause values are:
\- \"Request Accepted\".
\- \"Mandatory IE incorrect\".
\- \"Mandatory IE missing\".
\- \"Optional IE incorrect\".
\- \"Invalid message format\".
\- \"Conditional IE missing\".
For backward compatibility, if the IMSI IE is missing in the Suspend
Notification message that is received on the S11 interface, the cause value
\"Mandatory IE missing\" shall be used.
Table 7.4.2-1 specifies the presence requirements and conditions of the IEs in
the message.
Table 7.4.2-1: Information Element in Suspend Acknowledge
* * *
Information elements P Condition / Comment IE Type Ins. Cause M Cause 0
Private Extension O Private Extension VS
* * *
### 7.4.3 Resume Notification
The Resume Notification message should be sent on the S11 interface by the MME
to the SGW and forwarded on the S5/S8 interface by the SGW to the PGW as part
of the resume procedure returning back to E-UTRAN in the case of CS fallback
or SRVCC.
The Resume Notification message should also be sent on the S4 interface by the
SGSN to the SGW and forwarded on the S5/S8 interface by the SGW to the PGW as
part of the resume procedure returning from SRVCC to HSPA if there is no
Modify Bearer Request message sent to the SGW and PGW as specified in 3GPP TS
23.216 [43].
The SGW may also send a Resume Notification message to the PGW on the S5/S8
interface upon receipt from the MME/S4-SGSN of a (non-empty) Modify Bearer
Request used as an implicit resume of the suspended bearers in the SGW and in
the PGW (see 3GPP TS 23.216 [43] sections 6.2.2.1 and 6.3.2.1, 3GPP TS 23.272
[21] sections 6.3, 6.5 and 7.4) if the conditions of presence of the IEs in
the Modify Bearer Request specified in table 7.2.7-1 do not require any IE to
be sent over S5/S8 to the PGW.
NOTE: This is an alternative to sending over S5/S8 a Modify Bearer Request
used as an implicit resume with zero IE(s), see subclause 7.2.7.
After receiving a Resume Notification message or a Modify Bearer Request used
as an implicit resume of the suspended bearers, the SGW/PGW clears suspended
status for all the non-GBR bearers. The PGW shall forward packets it receives
for the UE.
Table 7.4.3-1 specifies the presence requirements and conditions of the IEs in
the message.
Table 7.4.3-1: Information Element in Resume Notification
* * *
Information elements P Condition / Comment IE Type Ins. IMSI M IMSI 0 Linked
Bearer Identity (LBI) CO This IE shall be included on the S11/S4 interface to
indicate the default bearer associated with the PDN connection. EBI 0 Private
Extension O Private Extension VS
* * *
### 7.4.4 Resume Acknowledge
The Resume Acknowledge message should be sent on the S11 interface by the SGW
to the MME and on the S5/S8 by the PGW to the SGW as part of the resume
procedure returning back to E-UTRAN in the case of CS fallback or SRVCC.
The Resume Acknowledge message should also be sent on the S4 interface by the
SGW to the SGSN and on the S5/S8 interface by the PGW to the SGW as part of
the resume procedure returning from SRVCC to HSPA if there is no Modify Bearer
Request message sent to the SGW and PGW as specified in 3GPP TS 23.216 [43].
The PGW shall also send a Resume Acknowledge message to the SGW on the S5/S8
interface as a response to a Resume Notification message sent by the SGW upon
receipt from the MME/S4-SGSN of a (non-empty) Modify Bearer Request used as an
implicit resume of the suspended bearers in the SGW and in the PGW (see 3GPP
TS 23.216 [43] sections 6.2.2.1 and 6.3.2.1, 3GPP TS 23.272 [21] sections 6.3,
6.5 and 7.4) if the conditions of presence of the IEs in the Modify Bearer
Request specified in table 7.2.7-1 do not require any IE to be sent to the
PGW.
Possible Cause values are:
\- \"Request Accepted\".
\- \"Mandatory IE incorrect\".
\- \"Mandatory IE missing\".
\- \"Optional IE incorrect\".
\- \"Invalid message format\".
Table 7.4.4-1 specifies the presence requirements and conditions of the IEs in
the message.
Table 7.4.4-1: Information Element in Resume Acknowledge
* * *
Information elements P Condition / Comment IE Type Ins. Cause M Cause 0
Private Extension O Private Extension VS
* * *
### 7.4.5 CS Paging Indication
The CS Paging Indication shall be sent on the S3 interface by the MME to the
associated SGSN when ISR is activated as part of mobile terminated CS
services. The MME gets the related information from SGsAP-PAGING-REQUEST
message as specified in 3GPP TS29.118 [21].Table 7.4.5-1 specifies the
presence requirements and the conditions of the IEs in the message.
Table 7.4.5-1: Information Element in CS Paging Indication
* * *
Information elements P Condition / Comment IE Type Ins. IMSI M IMSI 0 VLR Name
M FQDN 0 TMSI O TMSI 0 Location area identifier O ULI 0 Global CN-Id O Global
CN-Id 0 Channel needed O Channel needed 0 eMLPP Priority O eMLPP Priority 0
Service Indicator CO This IE shall be sent if the service type for the paging
is available. Service Indicator 0 Private Extension O Private Extension VS
* * *
### 7.4.6 Alert MME Notification
An Alert MME Notification message shall be sent on the S3 interface by the MME
to the associated SGSN as part of an SGs Non-EPS alert procedure (see 3GPP TS
29.118 [22]) when ISR is activated, except under the conditions specified in
3GPP TS 23.272 [21], to request to receive a notification when any activity
from the UE is detected.
Table 7.4.6-1 specifies the presence requirements and the conditions of the
IEs in the message.
Table 7.4.6-1: Information Element in Alert MME Notification
* * *
Information elements P Condition / Comment IE Type Ins. Private Extension O
Private Extension VS
* * *
### 7.4.7 Alert MME Acknowledge
An Alert MME Acknowledge message shall be sent as a response to an Alert MME
Notification message.
Possible Cause values are:
  * \"Request accepted\";
  * \"Invalid Message format\".
NOTE: An SGSN implemented according to an earlier version of the specification
will silently discard the Alert MME Notification message. An MME which does
not receive an Alert MME Acknowledge message may not send further Alert MME
Notification message to this SGSN.
Table 7.4.7-1 specifies the presence requirements and the conditions of the
IEs in the message.
Table 7.4.7-1: Information Elements in Alert MME Acknowledge
* * *
Information elements P Condition / Comment IE Type Ins. Cause M Cause 0
Private Extension O Private Extension VS
* * *
### 7.4.8 UE Activity Notification
A UE Activity Notification message shall be sent on the S3 interface by the
SGSN to the associated MME as part of an SGs Non-EPS alert procedure (see 3GPP
TS 29.118 [22]) when ISR is activated, except under the conditions specified
in 3GPP TS 23.272 [21], to indicate that activity from a UE has been detected.
Table 7.4.8-1 specifies the presence requirements and the conditions of the
IEs in the message.
Table 7.4.8-1: Information Element in UE Activity Notification
* * *
Information elements P Condition / Comment IE Type Ins. Private Extension O
Private Extension VS
* * *
### 7.4.9 UE Activity Acknowledge
A UE Activity Acknowledge message shall be sent as a response to a UE Activity
Notification message.
Possible Cause values are:
  * \"Request accepted\";
  * \"Invalid Message format\".
Table 7.4.9-1 specifics the presence requirements and the conditions of the
IEs in the message.
Table 7.4.z-1: Information Elements in UE Activity Acknowledge
* * *
Information elements P Condition / Comment IE Type Ins. Cause M Cause 0
Private Extension O Private Extension VS
* * *
## 7.5 Non-3GPP access related messages
### 7.5.1 Create Forwarding Tunnel Request
A Create Forwarding Tunnel Request message shall be sent by a MME to a Serving
GW as a part of the MME configures resources for indirect data forwarding
during active handover procedure from E-UTRAN to CDMA 2000 HRPD access.
Table 7.5.1-1 specifies the presence requirements and the conditions of the
IEs in the message.
Table 7.5.1-1: Information Elements in a Create Forwarding Tunnel Request
+------------------+---+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+---+------------------+------------------+------+ | S103 PDN Data | M | The MME shall | S103PDF | 0 | | Forwarding Info | | include the | | | | | | forwarding | | | | | | Infomation for | | | | | | all PDN | | | | | | connections of | | | | | | the UE | | | | | | requesting data | | | | | | forwarding | | | | | | towards the HSGW | | | | | | in the message | | | | | | as S103 PDN Data | | | | | | Forwarding Info | | | | | | information | | | | | | elements. For | | | | | | each of those | | | | | | PDN Connections, | | | | | | an IE with the | | | | | | same type and | | | | | | instance value | | | | | | shall be | | | | | | included. | | | | | | | | | | | | The Serving GW | | | | | | shall forward | | | | | | downlink data to | | | | | | the HSGW via the | | | | | | GRE tunnel | | | | | | identified by | | | | | | the HSGW Address | | | | | | and HSGW GRE Key | | | | | | included in this | | | | | | information | | | | | | element when it | | | | | | receives | | | | | | downlink data | | | | | | forwarded from | | | | | | the eNodeB | | | | | | belonging to the | | | | | | corresponding | | | | | | EPS bearers of | | | | | | the PDN | | | | | | connection. | | | +------------------+---+------------------+------------------+------+ | Private | O | | Private | VS | | Extension | | | Extension | | +------------------+---+------------------+------------------+------+
### 7.5.2 Create Forwarding Tunnel Response
A Create Forwarding Tunnel Response message shall be sent by a Serving GW to a
MME as a response to a Create Forwarding Tunnel Request message.
Table 7.5.2-1 specifies the presence requirements and the conditions of the
IEs in the message.
The Cause value indicates if Data Forwarding Resources has been created in the
Serving GW or not. Data Forwarding Resources have not been created in the
Serving GW if the Cause differs from \"Request accepted\". Possible Cause
values are:
  * \"Request Accepted\".
  * \"No resources available\".
  * \"System failure\".
  * \"Mandatory IE incorrect\".
  * \"Mandatory IE missing\".
  * \"Invalid message format\".
Only the Cause IE shall be included in the response if the Cause IE contains
another value than \"Request accepted\".
Table 7.5.2-1: Information Elements in a Create Forwarding Tunnel Response
+------------------+---+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+---+------------------+------------------+------+ | Cause | M | | Cause | 0 | +------------------+---+------------------+------------------+------+ | S1-U Data | C | S1-U Data | S1UDF | 0 | | Forwarding Info | | Forwarding Info | | | | | | shall be | | | | | | included in the | | | | | | message if the | | | | | | Cause contains | | | | | | the value | | | | | | \"Request | | | | | | accepted\". For | | | | | | each EPS bearer | | | | | | requesting data | | | | | | forwarding which | | | | | | is included in | | | | | | the S103 PDN | | | | | | Data Forwarding | | | | | | Info fields of | | | | | | corresponding | | | | | | Create | | | | | | Forwarding | | | | | | Tunnel Request | | | | | | message, the | | | | | | Serving GW shall | | | | | | assign a Serving | | | | | | GW S1-U Address | | | | | | and Serving GW | | | | | | S1-U TEID pair | | | | | | and included it | | | | | | in the response | | | | | | message as S1-U | | | | | | Data Forwarding | | | | | | Info information | | | | | | element. For | | | | | | each of those | | | | | | EPS bearers, an | | | | | | IE with the same | | | | | | type and | | | | | | instance value | | | | | | shall be | | | | | | included. | | | | | | | | | | | | The eNodeB shall | | | | | | forward downlink | | | | | | data of the EPS | | | | | | bearer to the | | | | | | Serving GW via | | | | | | the GTP-U tunnel | | | | | | identified by | | | | | | the Serving GW | | | | | | S1-U Address and | | | | | | Serving GW S1-U | | | | | | TEID. | | | +------------------+---+------------------+------------------+------+ | Private | O | | Private | VS | | Extension | | | Extension | | +------------------+---+------------------+------------------+------+
## 7.6 Reliable Delivery of Signalling Messages
Retransmission requirements in the current subclause do not apply to the
Initial messages that do not have Triggered messages.
Reliable delivery in GTPv2 messages is accomplished by retransmission of these
messages. A message shall be retransmitted if and only if a reply is expected
for that message and the reply has not yet been received. There may be limits
placed on the total number of retransmissions to avoid network overload.
Initial messages and their Triggered messages, as well as Triggered messages
and their Triggered Reply messages are matched based on the Sequence Number
and the IP address and port rules in subclause 4.2 \"Protocol stack\".
Therefore, an Initial message and its Triggered message, as well as a
Triggered message and its Triggered Reply message shall have the same sequence
Number. A retransmitted GTPv2 message (an Initial or a Triggered) has the
exact same GTPv2 message content, including the GTP header, UDP ports, source
and destination IP addresses as the originally transmitted GTPv2 message.
For each triplet of local IP address, local UDP port and remote peer\'s IP
address a GTP entity maintains a sending queue with signalling messages to be
sent to that peer. The message at the front of the queue shall be sent with a
Sequence Number, and if the message has an expected reply, it shall be held in
a list until a reply is received or until the GTP entity has ceased
retransmission of that message. The Sequence Number shall be unique for each
outstanding Initial message sourced from the same IP/UDP endpoint. A node
running GTP may have several outstanding messages waiting for replies. Not
counting retransmissions, a single GTP message with an expected reply shall be
answered with a single GTP reply, regardless whether it is per UE, per APN, or
per bearer
A piggybacked initial message (such as a Create Bearer Request message or
Modify Bearer Request message) shall contain a Sequence Number that is
assigned by sending GTP entity and the message shall be held in a list until a
response is received. The response message to a piggybacked initial message
may arrive without piggybacking (e.g., Create Bearer Response at PGW).
The Sequence Number in the GTP header of the triggered response message shall
be copied from the respective request message.
If a request message (e.g., Create Session Request) triggers piggybacking
(i.e., Create Bearer Request piggybacked on Create Session Response), re-
transmission of the request message shall also trigger piggybacking. A
Sequence Number used for a Command message and its Triggered messages, as well
as respective Triggered Reply message shall be the same as in the Command
message and shall have the most significant bit set to 1. This setting of the
most significant bit of the Sequence Number is done to avoid potential clashes
between the Sequence Number selected for a Command message, and the Sequence
Number selected by a GTPv2 peer for a Request message, which was not triggered
by a Command message.
A Sequence Number used for a Request message, which was not triggered by a
Command message shall have the most significant bit set to 0.
A timer, denoted T3-RESPONSE, shall be started when a signalling message (for
which a reply is expected) is sent. A signalling message or the triggered
message has probably been lost if a reply has not been received before the
T3-RESPONSE timer expires.
Once the T3-RESPONSE timer expires, the message corresponding to the
T3-RESPONSE timer is then retransmitted if the total number of retry attempts
is less than N3‑REQUESTS times. The expiry of the timer for piggybacked
request messages shall result in re-transmission of the original IP/UDP packet
containing both the triggered response message and the piggybacked initial
message. T3-RESPONSE timer and N3‑REQUESTS counter setting is implementation
dependent. That is, the timers and counters may be configurable per procedure.
Multileg communications (e.g. Create Session Requests and Responses) however
require longer timer values and possibly a higher number of retransmission
attempts compared to single leg communication.
All received GTPv2 messages with an expected reply shall be replied to and all
reply messages associated with a certain message shall always include the same
information. Duplicated reply messages shall be discarded by the receiver
unless the reply needs a reply. A received reply message without a matching
outstanding message that is waiting for a reply should be discarded.
If a GTPv2 node is not successful with the transfer of a non-Echo signalling
message, e.g. a Create Bearer Request message, it shall inform the upper layer
of the unsuccessful transfer so that the controlling upper entity may take the
necessary measures.
## 7.7 Error Handling
### 7.7.0 Handling Piggybacked Messages
For piggybacked initial messages, the following general rule shall apply: the
triggered response message carrying the piggybacked message shall be processed
first, according to the following sections. Subsequently, the piggybacked
initial message shall be processed independently. If the processing of
dedicated bearer activation message results in an error, this shall not affect
the default bearer establishment. If the default bearer establishment fails,
the dedicated bearer activation related message shall be discarded.
### 7.7.1 Protocol Errors
A protocol error is defined as a message or an Information Element received
from a peer entity with unknown type, or if it is unexpected, or if it has an
erroneous content.
The term silently discarded is used in the following subclauses to mean that
the receiving GTP entity\'s implementation shall discard such a message
without further processing, or that the receiving GTP entity discards such an
IE and continues processing the message. The conditions for the receiving GTP
entity to silently discard an IE are specified in the subsequent subclauses.
The handling of unknown, unexpected or erroneous GTP messages and IEs shall
provide for the forward compatibility of GTP. Therefore, the sending GTP
entity shall be able to safely include in a message a new conditional-optional
or an optional IE. Such an IE may also have a new type value. Any legacy
receiving GTP entity shall, however, silently discard such an IE and continue
processing the message.
If a protocol error is detected by the receiving GTP entity, it should log the
event including the erroneous message and may include the error in a
statistical counter.
An information element with \"Mandatory\" in the \"Presence requirement\"
column of a message definition shall always be present in that message.
An information element with \"Conditional\" in the \"Presence requirement\"
column of a message definition shall be sent when the conditions detailed in
the \"Presence requirement\" are met.
The Version Not Supported Indication message shall be considered as a
Triggered message as specified in subclause 4.2.5 \"Messages with GTPv2
defined replies: Classification of Initial and Triggered Messages\".
The receiving GTP entity shall apply the error handling specified in the
subsequent subclauses in decreasing priority.
If the received erroneous message is a reply to an outstanding GTP message,
the GTP transaction layer shall stop retransmissions and notify the GTP
application layer of the error even if the reply is silently discarded.
### 7.7.2 Different GTP Versions
If a GTP entity receives a message of an unsupported GTP version, it shall
return a Version Not Supported Indication message and discard the received
message.
### 7.7.3 GTP Message of Invalid Length
If a GTP entity receives a message, which is too short to contain the
respective GTPv2 header, the GTP-PDU shall be silently discarded.
Apart from a piggybacked GTP message, if a GTP entity receives a Request
message within an IP/UDP packet of a length that is inconsistent with the
value specified in the Length field of the GTP header, then the receiving GTP
entity should log the error and shall send the Response message with Cause IE
value set to \"Invalid Length\".
Apart from a piggybacked GTP message, if a GTP entity receives a Response
message within an IP/UDP packet of a length that is inconsistent with the
value specified in the Length field of the GTP header, then the receiving GTP
entity should log the error and shall silently discard the message.
If a GTP entity receives two GTP messages (triggered response message and a
piggybacked initial message) within an IP/UDP packet of a length that is
inconsistent with the total length of the two concatenated messages as
indicated by Length fields of the GTP headers, then the receiving GTP entity
should log the error and return an appropriate Response message with Cause IE
value set to \"Invalid overall length of the triggered response message and a
piggybacked initial message\". That is:
\- for a Create Session Response message together with a piggybacked Create
Bearer Request message, a Create Bearer Response message should be returned
with the above Cause value.
\- for a Create Bearer Response message together with a piggybacked Modify
Bearer Request message, a Modify Bearer Response message should be returned
with the above Cause value.
### 7.7.4 Unknown GTP Message
If a GTP entity receives a message with an unknown Message Type value, it
shall silently discard the message.
### 7.7.5 Unexpected GTP Message
If a GTP entity receives an unexpected initial message (see subclause 4.2
\"Protocol stack\"), it shall be silently discard the message and shall log an
error.
If a GTP entity receives an unexpected triggered message (see subclause 4.2
\"Protocol stack\"), it shall discard the message and may log an error.
### 7.7.6 Missing Information Elements
A GTP entity shall check if all mandatory IEs are present in the received
Request message. If one or more mandatory information elements are missing,
the GTP entity should log the error and shall send a Response message with
Cause IE value set to \"Mandatory IE missing\" together with the type and
instance of the missing mandatory IE.
If a GTP entity receives a Response message with Cause IE value set to
\"Mandatory IE missing\", it shall notify its upper layer.
A GTP entity shall check if all mandatory IEs are present in the received
Response message. If one or more mandatory information elements are missing,
the GTP entity shall notify the upper layer and should log the error.
A GTP entity shall check if conditional information elements are present in
the received message, if possible (i.e. if the receiving entity has sufficient
information available to check if the respective conditions were met).
When possible, a GTP entity shall check if all conditional IEs are present in
the received Request message. If one or more conditional information elements
are missing, GTP entity should log the error and shall send a Response message
with Cause IE value set to \"Conditional IE missing\" together with the type
and instance of the missing conditional IE.
When possible, a GTP entity shall check if all conditional IEs are present in
the received Response message. If one or more conditional information elements
are missing, GTP entity shall notify the upper layer and should log the error.
If the Indication IE is applicable for the message as a conditional IE and if
it is not present, the GTP entity shall not reject the message unless there
are other reasons to reject the message.
If the Indication IE is applicable for the message as conditional IE and if it
is present with the value of all the applicable flags set to \"0\", the GTP
entity shall not reject the message unless there are other reasons to reject
the message.
Absence of an optional information element shall not trigger any of the error
handling processes.
### 7.7.7 Invalid Length Information Element
An information element has invalid length when the actual length of the IE is
different from the value of the Length field in the IE header. Here, the
actual length of the IE means the length of the content field of the received
IE.
If a GTP message contains more than one information elements and one or more
of them have invalid length, the receiving GTP entity can detect which of the
IEs have invalid length only in the following cases:
\- If the Length value in the IE header is greater than the overall length of
the message;
\- If the invalid length IE is the last one in the message.
If a receiving GTP entity detects information element with invalid length in a
Request message, it shall send an appropriate error response with Cause IE
value set to \"Invalid length\" together with the type and instance of the
offending IE.
Other Length field handling cases are specified below:
\- If the received value of the Length field and the actual length of the
fixed length IE are consistent, but the length is greater than that expected
by the fixed number of octets, then the extra octets shall be discarded.
\- If the received value of the Length field and the actual length of the
fixed length IE are consistent, but the length is less than that expected by
the fixed number of octets, this shall be considered an error, IE shall be
discarded and if the IE was received as a Mandatory IE or a verifiable
Conditional IE in a Request message, an appropriate error response with Cause
IE value set to \"Invalid length\" together with the type and instance of the
offending IE shall be returned to the sender.
\- If the received value of the Length field and the actual length of the
extendable length IE are consistent, but the length is greater than that
expected by the fixed number of octets preceding the extended field(s), then
the extra unknown octets shall be discarded.
\- If the received value of the Length field and the actual length of the
extendable length IE are consistent, but the length is less than the number of
fixed octets defined for that IE, preceding the extended field(s), this shall
be considered an error, IE shall be discarded and if the IE was received as a
Mandatory IE or a verifiable Conditional IE in a Request message, an
appropriate error response with Cause IE value set to \"Invalid length\"
together with the type and instance of the offending IE shall be returned to
the sender. Please refer to Table 8.1-1 for determining the number of fixed
octets of an IE.
### 7.7.8 Semantically incorrect Information Element
The receiver of a GTP signalling message Request including a mandatory or a
verifiable conditional information element with a semantically invalid Value
shall discard the request, should log the error, and shall send a response
with Cause set to \"Mandatory IE incorrect\" together with a type and instance
of the offending IE.
The receiver of a GTP signalling message Response including a mandatory or a
verifiable conditional information element with a semantically invalid Value
shall notify the upper layer that a message with this sequence number has been
received and should log the error.
If a GTP entity receives an information element with a value which is shown as
reserved, it shall treat that information element as invalid and should log
the error. If the invalid IE is received in a Request, and it is a mandatory
IE or a verifiable conditional IE, the GTP entity shall send a response with
Cause set to \"Mandatory IE incorrect \" together with a type and instance of
the offending IE.
The principle is: the use of reserved values invokes error handling; the use
of spare values can be silently discarded and so in the case of IEs with spare
values used, processing shall be continued ignoring the spare values.
The receiver of a GTP signalling message including an optional information
element with a Value that is not in the range defined for this information
element value shall discard this IE, but shall treat the rest of the message
as if this IE was absent and continue processing. The receiver shall not check
the content of an information element field that is defined as \'spare\".
All semantically incorrect optional information elements in a GTP signalling
message shall be treated as not present in the message.
### 7.7.9 Unknown or unexpected Information Element
The receiver of a GTP message including an unexpected information element with
known Type value, but with the instance value that is not defined for this
message shall discard the IE and log an error. The receiver shall process the
message.
An information element with a Type value which is defined in section 8.1 of
the present specification but whose Instance Value is not expected in the
received GTP signalling message according to the grammar defined in section 7
of the present specification shall be silently discarded (skipped) and the
rest of the message processed as if this information element was not present.
NOTE: An Information Element in an encoded GTPv2 message or grouped IE is
identified by the pair of IE Type and Instance value.
### 7.7.10 Repeated Information Elements
An Information Element is repeated if there is more than one IE with the same
IE Type and Instance in the scope of the GTP message (scope of the grouped
IE). Such an IE is a member in a list.
If an information element is repeated in a GTP signalling message in which
repetition of the information element is not specified, only the contents of
the information element appearing first shall be handled and all subsequent
repetitions of the information element shall be ignored. When repetition of
information elements is specified, only the contents of specified repeated
information elements shall be handled and all subsequent repetitions of the
information element shall be ignored.
### 7.7.11 TFT Error Handling
TFT related error handling for EUTRAN is specified in 3GPP TS 24.301 [23] and
for UTRAN/GERAN in 3GPP TS 24.008 [5].
## 7.8 Path Failure
Restoration and Recovery procedures are specified generally in 3GPP TS 23.007
[17] and a path failure may initiate recovery procedures.
Path failure is detected only by using Echo Request / Response messages in the
following way. A peer\'s IP address specific counter shall be reset each time
an Echo Response message is received from that peer\'s IP address and
incremented when the T3-RESPONSE timer expires for an Echo Request message
sent to that peer\'s IP address. The path shall be considered to be down if
the counter exceeds N3-REQUESTS. In this case, the GTP entity may notify the
Operation and Maintenance network element. GTP shall also notify the upper
layer of the path failure, so that PDN connections or PDP contexts associated
with this peer\'s IP address may be deleted.
## 7.9 Restoration and Recovery
Restoration and Recovery procedures are specified in 3GPP TS 23.007 [17].
### 7.9.1 Delete PDN Connection Set Request
This message may be sent on S5, S8, or S11 interfaces as specified in 3GPP TS
23.007 [17].
Table 7.9.1-1: Information Elements in a Delete PDN Connection Set Request
* * *
Information elements P Condition / Comment IE Type Ins. MME-FQ-CSID C This IE
shall be included when a MME reports a partial fault according to the
requirements in 3GPP TS 23.007 [17]. More than one FQ-CSID may appear. FQ-CSID
0 SGW-FQ-CSID C This IE shall be included when a SGW reports a partial fault
according to the requirements in 3GPP TS 23.007 [17]. More than one FQ-CSID
may appear. FQ-CSID 1 PGW-FQ-CSID C Shall be included when a PGW reports a
partial fault. More than one FQ-CSID may appear FQ-CSID 2 Private Extension O
None Private Extension VS
* * *
TEID of 0 shall be used for the Delete PDN Connection Set Request.
Only one type of FQ-CSID shall be included in each Delete PDN Connection Set
Request, A mix of different types, such as SGW-FQ-CSID and PGW-FQ-CSID shall
not be used. A combined node, such as a collocated PGW/SGW, shall send
separate Delete PDN Connection Set Request for the PGW role and one for the
SGW role if a partial fault impacts more than one role.
### 7.9.2 Delete PDN Connection Set Response
This message is sent as a response to the Delete PDN Connection Set Request.
Table 7.9.2: Information Elements in a Delete PDN Connection Set Response
* * *
Information elements P Condition / Comment IE Type Ins. Cause M Cause 0
Private Extension O None Private Extension VS
* * *
TEID of 0 shall be used for the Delete PDN Connection Set Response.
The following Cause values are defined:
\- \"Request Accepted\"
\- \"Request rejected\"
\- \"System failure\".
\- \"Mandatory IE incorrect\".
\- \"Conditional IE missing\".
\- \"Invalid message format\".
\"Request Accepted\" indicates the receiving node was capable of storing a
CSID value for each PDN connection for the type of node (MME,SGW or PGW) in
the Delete PDN Connection Set Request and has marked, or will mark
immediately, the PDN connections for deletion as per 3GPP TS 23.007 [17].
\"Request Accepted\" shall be returned even if there are no PDN connections
that match.
\"Request rejected\" shall be used when the receiver of the Delete PDN
Connection Set Request is not capable of storing at least one CSID value per
PDN connection for the type of node (MME, SGW or PGW) received in the Delete
PDN Connection Set Request.
The SGW shall respond to the Delete PDN Connection Set Request independently,
i.e. without waiting for replies.
### 7.9.3 Update PDN Connection Set Request
The SGW shall send this message to the PGW on S5/S8 according to the
requirements in TS 23.007 [17].
Table 7.9.x-1: Information Elements in a Update PDN Connection Set Request
* * *
Information elements P Condition / Comment IE Type Ins. MME-FQ-CSID C This IE
shall be included for MME relocation without SGW relocation per 3GPP TS 23.007
[17]. FQ-CSID 0 SGW-FQ-CSID C This IE shall be included for MME relocation
without SGW relocation per 3GPP TS 23.007 [17]. FQ-CSID 1 Private Extension O
None Private Extension VS
* * *
### 7.9.4 Update PDN Connection Set Response
This message is sent by the PGW to the SGW on S5/S8 in response to the Update
PDN Connection Set Request message.
Table 7.9.y: Information Elements in a Update PDN Connection Set Response
* * *
Information elements P Condition / Comment IE Type Ins. Cause M Cause 0 PGW-
FQ-CSID C This IE shall be included for MME relocation without SGW relocation
per 3GPP TS 23.007 [17]. FQ-CSID 0 Private Extension O None Private Extension
VS
* * *
The following Cause values are defined:
\- \"Request accepted\"
\- \"Request rejected\"
\- \"System failure\".
\- \"Mandatory IE missing\".
\- \"Invalid message format\".
## 7.10 Fallback to GTPv1 mechanism
An EPC entity shall assume that each GTP processing node that it is about to
communicate with is GTPv2 capable. Before the first GTP tunnel is setup for a
given UE/node, the EPC node shall always send a version 2 (GTPv2) message to a
peer node. As an exception, during an inter-SGSN handover, even if the target
SGSN is GTPv2 capable, the source SGSN shall send a GTPv1 message \"Forward
Relocation Request\" to the target SGSN if the PDP Context(s) for this UE were
established to GGSN(s).
A GTPv2 entity shall fallback to GTPv1 only if either a \"Version Not
Supported\" message in GTPv1 format as specified in 3GPP TS 29.060 [4] is
received from the peer node (this indicates that the peer GTP entity does not
support GTPv2), or if a GTPv2 message is received with Cause value \"Fallback
to GTPv1\".
If a GTPv1 \"Version Not Supported\" message in received, a GTPv2 entity may
fallback to GTPv1. 3GPP TS 23.401 [3] (see annex D) and 3GPP TS 23.060 [35]
specify GTP version usage during the mobility between a UTRAN/GERAN and an
E-UTRAN.
A GTPv2 entity may receive a GTPv2 message with a Cause value \"Fallback to
GTPv1\" in the following cases:
\- an S4 SGSN receives the Cause code \"Fallback to GTPv1\" in a GTPv2 Context
Response message over S16 interface. When an UE has activated a PDP context
via S4 SGSN to GGSN and inter-SGSN RAU is underway, the old S4 SGSN shall
include the Cause value \"Fallback to GTPv1\" in a GTPv2 Context Response
message over S16 interface. In this case, the new S4 SGSN shall abort the
ongoing GTPv2 procedure and send a GTPv1 \"SGSN Context Request\" message to
the old S4 SGSN. The fallback to GTPv1 is performed only for this UE in the
current procedure.
\- an MME receives the Cause code \"Fallback to GTPv1\" in a GTPv2 Context
Response message over the S3 interface. When an UE has active PDP context(s)
via an S4 SGSN and a TAU is underway, the old S4 SGSN may include the Cause
value \"Fallback to GTPv1\" in a GTPv2 Context Response message over the S3
interface. In this case, the MME shall abort the ongoing GTPv2 procedure and
should send a GTPv1 \"SGSN Context Request\" message to the old S4 SGSN. The
fallback to GTPv1 is performed only for this UE.
Fallback to GTPv1 shall not occur on already established GTP tunnels without
change of the peer nodes of the communication bearer.
If a GTPv2 entity does not support GTPv1 and receives a GTPv1 message, it
shall silently discard the message.
## 7.11 Fallback to GTPv0
Fallback from GTPv2 to GTPv0 shall not be supported. Therefore, GTPv2 entity
should not listen to the well-known GTPv0 port 3386. If GTPv2 entity listens
to the GTPv0 port, the entity shall silently discard any received GTPv0
message.
## 7.12 Trace Management Messages
### 7.12.1 Trace Session Activation
The Trace Session Activation message shall be sent on S11/S4 by the MME/SGSN
to the SGW, and on S5/S8 by the SGW to the PGW when session trace is activated
for a particular IMSI or IMEI for a UE that is attached and active or attached
and idle.
Table 7.12.1-1 specifies the presence of the IEs in the message.
Table 7.12.1-1: Information Elements in a Trace Session Activation
+------------------+---+------------------+------------------+------+ | Information | P | Condition / | IE Type | Ins. | | elements | | Comment | | | +------------------+---+------------------+------------------+------+ | IMSI | C | The MME/SGSN | IMSI | 0 | | | | shall include | | | | | | IMSI in the | | | | | | message except | | | | | | for the case: | | | | | | | | | | | | - If the UE is | | | | | | emergency | | | | | | attached and the | | | | | | UE is UICCless. | | | | | | | | | | | | The IMSI shall | | | | | | be included in | | | | | | the message but | | | | | | not used as an | | | | | | identifier | | | | | | | | | | | | - if UE is | | | | | | emergency | | | | | | attached but | | | | | | IMSI is not | | | | | | authenticated. | | | | | | | | | | | | If the SGW | | | | | | receives this | | | | | | IE, it shall | | | | | | forward it to | | | | | | the PGW on | | | | | | S5/S8. | | | +------------------+---+------------------+------------------+------+ | Trace | M | | Trace | 0 | | Information | | | Information | | +------------------+---+------------------+------------------+------+ | ME Identity | C | The MME/SGSN | MEI | 0 | | (MEI) | | shall include | | | | | | the ME Identity | | | | | | (MEI) IE: | | | | | | | | | | | | - If the UE is | | | | | | emergency | | | | | | attached and the | | | | | | UE is UICCless | | | | | | | | | | | | - If the UE is | | | | | | emergency | | | | | | attached and the | | | | | | IMSI is not | | | | | | authenticated | | | | | | | | | | | | In other cases, | | | | | | the MME shall | | | | | | include the ME | | | | | | Identity (MEI) | | | | | | IE, if | | | | | | available. | | | | | | | | | | | | If the SGW | | | | | | receives this | | | | | | IE, it shall | | | | | | forward it to | | | | | | the PGW on | | | | | | S5/S8. | | | +------------------+---+------------------+------------------+------+
### 7.12.2 Trace Session Deactivation
The Trace Session Deactivation message shall be sent on S11/S4 by the MME/SGSN
to the SGW, and on S5/S8 by the SGW to the PGW when session trace is
deactivated for a particular IMSI or IMEI for a UE that is attached and active
or attached and idle.
Table 7.12.2-1 specifies the presence of the IEs in the message.
Table 7.12.2-1: Information Elements in a Trace Session Deactivation
* * *
Information elements P Condition / Comment IE Type Ins. Trace Reference M
Trace Reference 0
* * *
## 7.13 MBMS Messages
### 7.13.1 MBMS Session Start Request
The MBMS Session Start Request message shall be sent on the Sm/Sn interface by
the MBMS GW to the MME/SGSN as specified in 3GPP TS 23.246 [37].
Table 7.13.1-1 specifies the presence of the IEs in the message.
Table 7.13.1-1: Information Elements in a MBMS Session Start Request
* * *
Information elements P Condition / Comment IE Type Ins. Sender F-TEID for
Control Plane M F-TEID 0 Temporary Mobile Group Identity (TMGI) M TMGI 0 MBMS
Session Duration M MBMS Session Duration 0 MBMS Service Area M MBMS Service
Area 0 MBMS Session Identifier C This IE shall be forwarded to MME/SGSN if it
is provided by the BM-SC. MBMS Session Identifier 0 MBMS Flow Identifier C
This IE shall be forwarded to MME/SGSN if it is provided by the BM-SC. MBMS
Flow Identifier 0 QoS profile M See NOTE 1. Bearer QoS 0 MBMS IP Multicast
Distribution M MBMS IP Multicast Distribution 0 Recovery C This IE shall be
included if contacting the peer for the first time. Recovery 0 MBMS Time to
Data Transfer CO This IE shall be forwarded to MME/SGSN if it is received from
the BM-SC. MBMS Time to Data Transfer 0 Private Extension O Private Extension
VS NOTE 1: The MME shall ignore the ARP in this IE as specified in Section
6.3.2 of 3GPP TS 23.246 [37]. The uplink GBR and uplink MBR shall be ignored
by MME/SGSN as specified in Section 20.5 of 3GPP TS 29.061 [38].
* * *
### 7.13.2 MBMS Session Start Response
The MBMS Session Start Response message shall be sent as a response to the
MBMS Session Start Request message on the Sm/Sn interface by the MME/SGSN to
the MBMS GW.
Table 7.13.2-1 specifies the presence of the IEs in the message.
Possible Cause values are:
  * \"Request Accepted\".
  * \"No resources available\".
  * \"No memory available\".
  * \"System failure\".
  * \"Mandatory IE incorrect\".
  * \"Mandatory IE missing\".
  * \"Conditional IE missing\".
  * \"Invalid message format\".
Table 7.13.2-1: Information Elements in a MBMS Session Start Response
* * *
Information elements P Condition / Comment IE Type Ins. Cause M Cause 0 Sender
F-TEID for Control Plane M F-TEID 0 MBMS Distribution Acknowledge C This IE
shall be included on the Sn interface. MBMS Distribution Acknowledge 0 Sn-U
SGSN F-TEID C This IE shall be included on the Sn interface if some RNCs have
not accepted IP multicast distribution. F-TEID 1 Recovery C This IE shall be
included if contacting the peer for the first time. Recovery 0 Private
Extension O Private Extension VS
* * *
### 7.13.3 MBMS Session Update Request
The MBMS Session Update Request message shall be sent on the Sm/Sn interface
by the MBMS GW to the MME/SGSN as specified in 3GPP TS 23.246 [37].
Table 7.13.3-1 specifies the presence of the IEs in the message.
Table 7.13.3-1: Information Elements in a MBMS Session Update Request
* * *
Information elements P Condition / Comment IE Type Ins. MBMS Service Area C
This IE shall be forwarded to MME/SGSN if it is provided by the BM-SC. MBMS
Service Area 0 Temporary Mobile Group Identity (TMGI) M TMGI 0 Sender F-TEID
for Control Plane O F-TEID 0 MBMS Session Duration M MBMS Session Duration 0
QoS profile M See NOTE 1. Bearer QoS 0 MBMS Session Identifier C This IE shall
be forwarded to MME/SGSN if it is provided by the BM-SC. MBMS Session
Identifier 0 MBMS Flow Identifier C This IE shall be forwarded to MME/SGSN if
it is provided by the BM-SC. MBMS Flow Identifier 0 MBMS Time to Data Transfer
CO This IE shall be forwarded to MME/SGSN if it is provided by the BM-SC. MBMS
Time to Data Transfer 0 Private Extension O Private Extension VS NOTE 1: The
MME shall ignore the ARP in this IE as specified in Section 6.3.2 of 3GPP TS
23.246 [37]. The uplink GBR and uplink MBR shall be ignored by MME/SGSN as
specified in Section 20.5 of 3GPP TS 29.061 [38].
* * *
### 7.13.4 MBMS Session Update Response
The MBMS Session Update Response message shall be sent as a response to the
MBMS Session Update Request message on the Sm/Sn interface by the MME/SGSN to
the MBMS GW.
Table 7.13.4-1 specifies the presence of the IEs in the message.
Possible Cause values are:
  * \"Request Accepted\".
  * \"System failure\".
  * \"Mandatory IE incorrect\".
  * \"Conditional IE missing\".
  * \"Invalid message format\".
Table 7.13.4-1: Information Elements in a MBMS Session Update Response
* * *
Information elements P Condition / Comment IE Type Ins. Cause M Cause 0 MBMS
Distribution Acknowledge C This IE shall be included on the Sn interface if
service area is changed. MBMS Distribution Acknowledge 0 Sn-U SGSN F-TEID C
This IE shall be included on the Sn interface if any of the newly added RNCs
have not accepted IP multicast distribution. F-TEID 0 Recovery C This IE shall
be included if contacting the peer for the first time. Recovery 0 Private
Extension O Private Extension VS
* * *
### 7.13.5 MBMS Session Stop Request
The MBMS Session Stop Request message shall be sent on the Sm/Sn interface by
the MBMS GW to the MME/SGSN as specified in 3GPP TS 23.246 [37].
Table 7.13.5-1 specifies the presence of the IEs in the message.
Table 7.13.5-1: Information Elements in a MBMS Session Stop Request
* * *
Information elements P Condition / Comment IE Type Ins. MBMS Flow Identifier C
This IE shall be forwarded to MME/SGSN if it is provided by the BM-SC. MBMS
Flow Identifier 0 Private Extension O Private Extension VS
* * *
### 7.13.6 MBMS Session Stop Response
The MBMS Session Stop Response message shall be sent as a response to the MBMS
Session Stop Request message on the Sm/Sn interface by the MME/SGSN to the
MBMS GW.
Table 7.13.6-1 specifies the presence of the IEs in the message.
Possible Cause values are:
  * \"Request Accepted\".
  * \"System failure\".
  * \"Mandatory IE incorrect\".
  * \"Conditional IE missing\".
  * \"Invalid message format\".
Table 7.13.6-1: Information Elements in a MBMS Session Stop Response
* * *
Information elements P Condition / Comment IE Type Ins. Cause M Cause 0
Private Extension O Private Extension VS
* * *
# 8 GTP-C Information Elements
## 8.1 Information Element Types
A GTP control plane (signalling) message may contain several information
elements. In order to have forward compatible type definitions for the GTPv2
information elements, all of them shall be TLIV (Type, Length, Instance,
Value) coded. GTPv2 information element type values are specified in the Table
8.1-1. The last column of this table indicates whether the information element
is:
\- Fixed Length: the IE has a fixed set of fields, and a fixed number of
octets.
\- Variable Length: the IE has a fixed set of fields, and has a variable
number of octets.\ For example, the last octets may be numbered similar to \"5
to (n+4)\". In this example, if the value of the length field, n, is 0, then
the last field is not present.
\- Extendable: the IE has a variable number of fields, and has a variable
number of octets.\ The last fields are typically specified with the statement:
\"These octet(s) is/are present only if explicitly specified\". The legacy
receiving entity shall ignore the unknown octets.
In order to improve the efficiency of troubleshooting, it is recommended that
the information elements should be arranged in the signalling messages as well
as in the grouped IEs, according to the order the information elements are
listed in the message definition table or grouped IE definition table in
section 7. However the receiving entity shall be prepared to handle the
messages with information elements in any order.
Within information elements, certain fields may be described as spare. These
bits shall be transmitted with the value set to 0. To allow for future
features, the receiver shall not evaluate these bits. GTPv2-C information
elements that have similar semantics in GTPv1-C shall be converted into
GTPv1-C format, as specified in TS 29.060 [4], before sending them to a pre-R8
GSN.
Table 8.1-1: Information Element types for GTPv2
+----------------+----------------+----------------+----------------+ | IE Type value | Information | Comment / | Number of | | | elements | Reference | Fixed Octets | | (Decimal) | | | | +----------------+----------------+----------------+----------------+ | 0 | Reserved | | | +----------------+----------------+----------------+----------------+ | 1 | International | Variable | Not Applicable | | | Mobile | Length / 8.3 | | | | Subscriber | | | | | Identity | | | | | (IMSI) | | | +----------------+----------------+----------------+----------------+ | 2 | Cause | Variable | Not Applicable | | | | Length / 8.4 | | +----------------+----------------+----------------+----------------+ | 3 | Recovery | Variable | Not Applicable | | | (Restart | Length / 8.5 | | | | Counter) | | | +----------------+----------------+----------------+----------------+ | 4 to 50 | Reserved for | See 3GPP TS | See 3GPP TS | | | S101 interface | 29.276 [14] | 29.276 [14] | +----------------+----------------+----------------+----------------+ | 51 | STN-SR | See 3GPP TS | See 3GPP TS | | | | 29.280 [15] | 29.280 [15] | +----------------+----------------+----------------+----------------+ | 52 to 70 | Reserved for | See 3GPP TS | See 3GPP TS | | | Sv interface | 29.280 [15] | 29.280 [15] | +----------------+----------------+----------------+----------------+ | 71 | Access Point | Variable | Not Applicable | | | Name (APN) | Length / 8.6 | | +----------------+----------------+----------------+----------------+ | 72 | Aggregate | Fixed Length / | 8 | | | Maximum Bit | 8.7 | | | | Rate (AMBR) | | | +----------------+----------------+----------------+----------------+ | 73 | EPS Bearer ID | Extendable / | 1 | | | (EBI) | 8.8 | | +----------------+----------------+----------------+----------------+ | 74 | IP Address | Variable | Not Applicable | | | | Length / 8.9 | | +----------------+----------------+----------------+----------------+ | 75 | Mobile | Variable | Not Applicable | | | Equipment | Length / 8.10 | | | | Identity (MEI) | | | +----------------+----------------+----------------+----------------+ | 76 | MSISDN | Variable | Not Applicable | | | | Length / 8.11 | | +----------------+----------------+----------------+----------------+ | 77 | Indication | Extendable / | 2 | | | | 8.12 | | +----------------+----------------+----------------+----------------+ | 78 | Protocol | Variable | Not Applicable | | | Configuration | Length / 8.13 | | | | Options (PCO) | | | +----------------+----------------+----------------+----------------+ | 79 | PDN Address | Variable | Not Applicable | | | Allocation | Length / 8.14 | | | | (PAA) | | | +----------------+----------------+----------------+----------------+ | 80 | Bearer Level | Extendable / | 22 | | | Quality of | 8.15 | | | | Service | | | | | (Bearer QoS) | | | +----------------+----------------+----------------+----------------+ | 81 | Flow Quality | Extendable / | 21 | | | of Service | 8.16 | | | | (Flow QoS) | | | +----------------+----------------+----------------+----------------+ | 82 | RAT Type | Extendable / | 1 | | | | 8.17 | | +----------------+----------------+----------------+----------------+ | 83 | Serving | Extendable / | 3 | | | Network | 8.18 | | +----------------+----------------+----------------+----------------+ | 84 | EPS Bearer | Variable | Not Applicable | | | Level Traffic | Length / 8.19 | | | | Flow Template | | | | | (Bearer TFT) | | | +----------------+----------------+----------------+----------------+ | 85 | Traffic | Variable | Not Applicable | | | Aggregation | Length / 8.20 | | | | Description | | | | | (TAD) | | | +----------------+----------------+----------------+----------------+ | 86 | User Location | Extendable / | \"f+4-4\" (See | | | Information | 8.21 | Figure 8.21-1) | | | (ULI) | | | +----------------+----------------+----------------+----------------+ | 87 | Fully | Extendable / | 9/21/25 | | | Qualified | 8.22 | | | | Tunnel | | | | | Endpoint | | | | | Identifier | | | | | (F-TEID) | | | +----------------+----------------+----------------+----------------+ | 88 | TMSI | Variable | Not Applicable | | | | Length / 8.23 | | +----------------+----------------+----------------+----------------+ | 89 | Global CN-Id | Variable | Not Applicable | | | | Length / 8.24 | | +----------------+----------------+----------------+----------------+ | 90 | S103 PDN Data | Variable | Not Applicable | | | Forwarding | Length / 8.25 | | | | Info (S103PDF) | | | +----------------+----------------+----------------+----------------+ | 91 | S1-U Data | Variable | Not Applicable | | | Forwarding | Length/ 8.26 | | | | Info (S1UDF) | | | +----------------+----------------+----------------+----------------+ | 92 | Delay Value | Extendable / | 1 | | | | 8.27 | | +----------------+----------------+----------------+----------------+ | 93 | Bearer Context | Extendable / | Not Applicable | | | | 8.28 | | +----------------+----------------+----------------+----------------+ | 94 | Charging ID | Extendable / | 4 | | | | 8.29 | | +----------------+----------------+----------------+----------------+ | 95 | Charging | Extendable / | 2 | | | C | 8.30 | | | | haracteristics | | | +----------------+----------------+----------------+----------------+ | 96 | Trace | Variable | Not Applicable | | | Information | Length/ 8.31 | | +----------------+----------------+----------------+----------------+ | 97 | Bearer Flags | Extendable / | 1 | | | | 8.32 | | +----------------+----------------+----------------+----------------+ | 98 | Reserved | | | +----------------+----------------+----------------+----------------+ | 99 | PDN Type | Extendable / | 1 | | | | 8.34 | | +----------------+----------------+----------------+----------------+ | 100 | Procedure | Extendable / | 1 | | | Transaction ID | 8.35 | | +----------------+----------------+----------------+----------------+ | 101 | DRX Parameter | Variable | Not Applicable | | | | Length/ 8.36 | | +----------------+----------------+----------------+----------------+ | 102 | UE Network | Variable | Not Applicable | | | Capability | Length / 8.37 | | +----------------+----------------+----------------+----------------+ | 103 | MM Context | Extendable / | \"r+1-4\" (See | | | (GSM Key and | 8.38 | Figure 8.38-1) | | | Triplets) | | | +----------------+----------------+----------------+----------------+ | 104 | MM Context | Extendable / | \"r+1-4\" (See | | | (UMTS Key, | 8.38 | Figure 8.38-2) | | | Used Cipher | | | | | and | | | | | Quintuplets) | | | +----------------+----------------+----------------+----------------+ | 105 | MM Context | Extendable / | \"r+1-4\" (See | | | (GSM Key, Used | 8.38 | Figure 8.38-3) | | | Cipher and | | | | | Quintuplets) | | | +----------------+----------------+----------------+----------------+ | 106 | MM Context | Extendable / | \"r+1-4\" (See | | | (UMTS Key and | 8.38 | Figure 8.38-4) | | | Quintuplets) | | | +----------------+----------------+----------------+----------------+ | 107 | MM Context | Extendable / | \"s+64-4\" | | | (EPS Security | 8.38 | (See Figure | | | Context, | | 8.38-5) | | | Quadruplets | | | | | and | | | | | Quintuplets) | | | +----------------+----------------+----------------+----------------+ | 108 | MM Context | Extendable / | \"r+1-4\" (See | | | (UMTS Key, | 8.38 | Figure 8.38-6) | | | Quadruplets | | | | | and | | | | | Quintuplets) | | | +----------------+----------------+----------------+----------------+ | 109 | PDN Connection | Extendable / | Not Applicable | | | | 8.39 | | +----------------+----------------+----------------+----------------+ | 110 | PDU Numbers | Extendable / | 9 | | | | 8.40 | | +----------------+----------------+----------------+----------------+ | 111 | P-TMSI | Variable | Not Applicable | | | | Length / 8.41 | | +----------------+----------------+----------------+----------------+ | 112 | P-TMSI | Variable | Not Applicable | | | Signature | Length / 8.42 | | +----------------+----------------+----------------+----------------+ | 113 | Hop Counter | Extendable / | 1 | | | | 8.43 | | +----------------+----------------+----------------+----------------+ | 114 | UE Time Zone | Extendable / | 2 | | | | 8.44 | | +----------------+----------------+----------------+----------------+ | 115 | Trace | Fixed Length / | 6 | | | Reference | 8.45 | | +----------------+----------------+----------------+----------------+ | 116 | Complete | Variable | Not Applicable | | | Request | Length / 8.46 | | | | Message | | | +----------------+----------------+----------------+----------------+ | 117 | GUTI | Variable | Not Applicable | | | | Length / 8.47 | | +----------------+----------------+----------------+----------------+ | 118 | F-Container | Variable | Not Applicable | | | | Length / 8.48 | | +----------------+----------------+----------------+----------------+ | 119 | F-Cause | Variable | Not Applicable | | | | Length / 8.49 | | +----------------+----------------+----------------+----------------+ | 120 | Selected PLMN | Variable | Not Applicable | | | ID | Length / 8.50 | | +----------------+----------------+----------------+----------------+ | 121 | Target | Variable | Not Applicable | | | Identification | Length / 8.51 | | +----------------+----------------+----------------+----------------+ | 122 | Reserved | | | +----------------+----------------+----------------+----------------+ | 123 | Packet Flow ID | Variable | Not Applicable | | | | Length / 85.3 | | +----------------+----------------+----------------+----------------+ | 124 | RAB Context | Fixed Length / | 9 | | | | 8.54 | | +----------------+----------------+----------------+----------------+ | 125 | Source RNC | Variable | Not Applicable | | | PDCP Context | Length / 8.55 | | | | Info | | | +----------------+----------------+----------------+----------------+ | 126 | UDP Source | Extendable / | 2 | | | Port Number | 8.56 | | +----------------+----------------+----------------+----------------+ | 127 | APN | Extendable / | 1 | | | Restriction | 8.57 | | +----------------+----------------+----------------+----------------+ | 128 | Selection Mode | Extendable / | 1 | | | | 8.58 | | +----------------+----------------+----------------+----------------+ | 129 | Source | Variable | Not Applicable | | | Identification | Length / 8.59 | | +----------------+----------------+----------------+----------------+ | 130 | Reserved | | | +----------------+----------------+----------------+----------------+ | 131 | Change | Variable | Not Applicable | | | Reporting | Length / 8.61 | | | | Action | | | +----------------+----------------+----------------+----------------+ | 132 | Fully | Extendable/ | \"q+1-4\" (See | | | Qualified PDN | 8.62 | Figure 8.62-1) | | | Connection Set | | | | | Identifier | | | | | (FQ-CSID) | | | +----------------+----------------+----------------+----------------+ | 133 | Channel needed | Variable | Not Applicable | | | | Length / 8.63 | | +----------------+----------------+----------------+----------------+ | 134 | eMLPP Priority | Variable | Not Applicable | | | | Length / 8.64 | | +----------------+----------------+----------------+----------------+ | 135 | Node Type | Extendable / | 1 | | | | 8.65 | | +----------------+----------------+----------------+----------------+ | 136 | Fully | Variable | Not Applicable | | | Qualified | Length / 8.66 | | | | Domain Name | | | | | (FQDN) | | | +----------------+----------------+----------------+----------------+ | 137 | Transaction | Variable | Not Applicable | | | Identifier | Length / 8.68 | | | | (TI) | | | +----------------+----------------+----------------+----------------+ | 138 | MBMS Session | Extendable / | 3 | | | Duration | 8.69 | | +----------------+----------------+----------------+----------------+ | 139 | MBMS Service | Variable | Not Applicable | | | Area | Length / 8.70 | | +----------------+----------------+----------------+----------------+ | 140 | MBMS Session | Extendable / | 1 | | | Identifier | 8.71 | | +----------------+----------------+----------------+----------------+ | 141 | MBMS Flow | Extendable / | 2 | | | Identifier | 8.72 | | +----------------+----------------+----------------+----------------+ | 142 | MBMS IP | Extendable / | \"m+1-4\" (See | | | Multicast | 8.73 | Figure 8.73-1) | | | Distribution | | | +----------------+----------------+----------------+----------------+ | 143 | MBMS | Extendable / | 1 | | | Distribution | 8.74 | | | | Acknowledge | | | +----------------+----------------+----------------+----------------+ | 144 | RFSP Index | Fixed Length / | 2 | | | | 8.77 | | +----------------+----------------+----------------+----------------+ | 145 | User CSG | Extendable / | 8 | | | Information | 8.75 | | | | (UCI) | | | +----------------+----------------+----------------+----------------+ | 146 | CSG | Extendable / | 1 | | | Information | 8.76 | | | | Reporting | | | | | Action | | | +----------------+----------------+----------------+----------------+ | 147 | CSG ID | Extendable / | 4 | | | | 8.78 | | +----------------+----------------+----------------+----------------+ | 148 | CSG Membership | Extendable / | 1 | | | Indication | 8.79 | | | | (CMI) | | | +----------------+----------------+----------------+----------------+ | 149 | Service | Fixed Length / | 1 | | | indicator | 8.80 | | +----------------+----------------+----------------+----------------+ | 150 | Detach Type | Fixed Length / | 1 | | | | 8.81 | | +----------------+----------------+----------------+----------------+ | 151 | Local | Variable | Not Applicable | | | Distiguished | Length / 8.82 | | | | Name (LDN) | | | +----------------+----------------+----------------+----------------+ | 152 | Reserved | | | +----------------+----------------+----------------+----------------+ | 153 | MBMS Time to | Extendable / | 1 | | | Data Transfer | 8.84 | | +----------------+----------------+----------------+----------------+ | 154 | Reserved | | | +----------------+----------------+----------------+----------------+ | 155 | Reserved | | | +----------------+----------------+----------------+----------------+ | 156 | Reserved | | | +----------------+----------------+----------------+----------------+ | 157 | Reserved | | | +----------------+----------------+----------------+----------------+ | 158 | Temporary | Extendable / | 6 | | | Mobile Group | 8.89 | | | | Identity | | | | | (TMGI) | | | +----------------+----------------+----------------+----------------+ | 159 | Additional MM | Extendable / | \"e-4\" (See | | | context for | 8.90 | Figure 8.90-1) | | | SRVCC | | | +----------------+----------------+----------------+----------------+ | 160 | Additional | Extendable / | 1 | | | flags for | 8.91 | | | | SRVCC | | | +----------------+----------------+----------------+----------------+ | 161 | Reserved | | | +----------------+----------------+----------------+----------------+ | 162 | Reserved | | | +----------------+----------------+----------------+----------------+ | 163 to 254 | Spare. For | | | | | future use. | | | +----------------+----------------+----------------+----------------+ | 255 | Private | Variable | Not Applicable | | | Extension | Length / 8.67 | | +----------------+----------------+----------------+----------------+ | NOTE1: The | | | | | size of the | | | | | TLI (Type, | | | | | Length and | | | | | Instance) | | | | | fields, i.e | | | | | \"4\" octets, | | | | | has been | | | | | subtracted | | | | | from the | | | | | number of the | | | | | fixed octets | | | | | of the \"Fixed | | | | | Length\" and | | | | | \"Extendable\" | | | | | IEs. Hence for | | | | | some of the | | | | | \"Extendable\" | | | | | IEs, for which | | | | | the length is | | | | | defined in | | | | | terms of | | | | | variable | | | | | number of | | | | | octets, \"4\" | | | | | is explicitly | | | | | subtracted | | | | | while defining | | | | | the fixed | | | | | number of | | | | | octets. E.g. | | | | | Length of User | | | | | Location | | | | | Information is | | | | | defined as | | | | | \"f+4\" and | | | | | fixed number | | | | | of octets for | | | | | the same is | | | | | defined as | | | | | \"f+4-4\". | | | | +----------------+----------------+----------------+----------------+
## 8.2 Information Element Format
Figure 8.2-1 depicts the format of an information element.
* * *
                  Bits                                                                             
     Octets       8                                             7          6   5   4   3   2   1   
     1            Type = xxx (decimal)                                                             
     2 to3        Length = n                                                                       
     4            Spare                                         Instance                           
     5 to (n+4)   IE specific data or content of a grouped IE
* * *
Figure 8.2-1: Information Element Format
An IE has the following mandatory fields:
\- Type field: This field indicates the type of Information Element. The valid
values of the IE type are defined in clause 8.1.
\- Length: This field contains the length of the information element excluding
the first four octets, which are common for all information elements (Type,
Length and the contents of octet 4) and is denoted \"n\" in Figure 8.2-1. For
all the length fields, bit 8 of the lowest numbered octet is the most
significant bit and bit 1 of the highest numbered octet is the least
significant bit.
\- Instance: This field shall be used to differentiate amongst different
parameters in one specific message which use the same information element type
(see also subclause 6.1.3 \"Information Element Instance\").
An IE is said to be TLIV (Type, Length, Instance, Value) encoded.
## 8.3 International Mobile Subscriber Identity (IMSI)
International Mobile Subscriber Identity (IMSI) is transferred via GTP
tunnels. The sending entity copies the value part of the IMSI into the Value
field of the IMSI IE. IMSI is defined in 3GPP TS 23.003 [2].
* * *
              Bits                                                            
     Octets   8                    7                  6   5   4   3   2   1   
     1        Type = 1 (decimal)                                              
     2 to 3   Length = n                                                      
     4        Spare                Instance                                   
     5        Number digit 2       Number digit 1                             
     6        Number digit 4       Number digit 3                             
     ...      ...                  ...                                        
     n+4      Number digit m       Number digit m-1
* * *
Figure 8.3-1: IMSI
Octets 5 to (n+4) represent the IMSI value in international number format as
described in ITU-T Rec E.164 [25], encoded as TBCD digits, i.e. digits from 0
through 9 are encoded \"0000\" to \"1001\". When there is an odd number of
digits, bits 8 to 5 of the last octet are encoded with the filler \"1111\".
The maximum number of digits is 15.
## 8.4 Cause
Cause IE is coded as depicted in Figure 8.4-1.
. |  | Bits |  |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---|---  
| Octets | 8 | 7 | 6 | 5 | 4 | 3 | 2 | 1 |   
| 1 | Type = 2 (decimal) |  |  |  |  |  |  |  |   
| 2 to 3 | Length = n |  |  |  |  |  |  |  |   
| 4 | Spare | Instance |  |  |  |  |  |  |   
| 5 | Cause value |  |  |  |  |  |  |  |   
| 6 | Spare | PCE | BCE | CS |  |  |  |  |   
| a(n+1) | Type of the offending IE |  |  |  |  |  |  |  |   
| a(n+2) to - a(n+3) | Length of the offending IE = 0 |  |  |  |  |  |  |  |   
| a(n+4) |  | Spare | Instance  
---|---  
|  |  |  |  |  |  |   
1) Figure 8.4-1: Cause
Cause is a variable length IE, which may have either of the following two
lengths values:
\- If n = 2, a = 0 and the Cause IE shall be 6 octets long. Therefore, octets
\"a(n+1) to a(n+4)\" will not be present.
\- If n = 6, a = 1 and the Cause IE will be 10 octets long.
For PMIP based S5/S8, the SGW/MAG shall do the mapping between GTPv2 Cause IE
and respective PMIPv6 IE as specified in 3GPP TS 29.275 [26].
The following bits within Octet 6 indicate:
\- Bits 8 to 4: Spare, for future use and set to zero
\- Bit 1 -- CS (Cause Source): If this bit is set to 1, it indicates that the
corresponding error cause is originated by the remote node (i.e., the MME/SGSN
to a PGW, or the PGW to an MME/SGSN). This bit is set to 0 to denote that the
corresponding error cause is originated by the node sending the message.
> The CS should be set to 1 by the SGW when the SGW relay a response message
> with cause value from the MME/SGSN to the PGW or from the PGW to the
> MME/SGSN. For PMIP based S5/S8, the SGW shall set the CS bit to 1 when the
> SGW/MAG relay a response message with the cause value from the PGW/LMA to
> the MME/SGSN.
\- Bit 2 -- BCE (Bearer Context IE Error): If this bit is set to 1, it
indicates that the corresponding rejection cause is due to the error in the
Bearer Context IE. This bit shall be discarded if the cause value is one of
Acceptance cause value as given in table 8.4-1.
\- Bit 3 -- PCE (PDN Connection IE Error): If this bit is set to 1, it
indicates that the corresponding rejection cause is due to the error in the
PDN Connection IE. This bit shall be discarded if the cause value is one of
Acceptance cause value as given in table 8.4-1.
The Cause value shall be included in a response message. In a response
message, the Cause value indicates the acceptance or the rejection of the
corresponding request message. The Cause value indicates the explicit reason
for the rejection.
If the rejection is due to a mandatory IE or a verifiable conditional IE is
faulty or missing, the offending IE shall be included within an additional
field \"a(n+1) to a(n+4)\". Only Type and Instance fields of the offending IE
that caused the rejection have a meaning. The length in the Octet 8-9 and
spare bits in the Octet 10 shall be set to \"0\". In this case, the value of
\"n\" shall be \"6\". Otherwise, the value of \"n\" is equal to \"2\".
The Cause may also be included in the request message. In a request message,
the Cause value indicates the reason for the request.
\"Request accepted\" is returned when the GTPv2 entity has accepted a control
plane request.
\"Invalid Reply from remote peer\" is used by the SGW for the messages
spanning through two interfaces. This cause value is returned by the SGW to
the MME/SGSN or PGW in a reply message where the corresponding reply message
on S5/S8 or S11/S4 from the PGW or MME/SGSN is not decoded as valid.
\"Temporarily rejected due to handover procedure in progress\" is used by the
MME for the bearer related procedure initiated by the PGW. When the X2 based
handover with/without SGW change or S1 based handover with/without SGW and/or
MME change is in progress, the MME may receive Create / Update / Delete Bearer
request message for the bearer creation, modification or deletion initiated by
the PGW. If the handover procedure results in the SGW and/or MME change, then
the bearer related procedure can not be handled temporarily by the MME till
the handover procedure is completed. In that case the MME shall reject the
bearer related procedure with this rejection cause.
The usage of \"Fallback to GTPv1\" is specified in subclause 7.10 \"Fallback
to GTPv1 mechanism\".
The listed cause values for rejection response message descriptions in clause
7 are not meant to be exhaustive lists. Therefore a GTPv2 node shall use the
most appropriate matching rejection response cause value that is listed in
Table 8.4-1.
\"Multiple PDN connections for a given APN not allowed\" is used by SGW for
reply message to the MME/S4-SGSN when PMIP-based S5/S8 is used. If either SGW
or PGW does not support the multiple PDN connections to the same APN function,
the SGW shall reject the PDN connectivity request procedure with this
rejection cause when receiving Create Session Request for additional PDN
connectivity to the given APN from the same UE. This cause value shall be
mapped to the corresponding NAS cause value with the same name (see 3GPP TS
24.301 [23]).
Table 8.4-1: Cause values
+--------------------------+-------------+--------------------------+ | Message Type | Cause value | Meaning | | | | | | | (decimal) | | +--------------------------+-------------+--------------------------+ | | 0 | Reserved. Shall not be | | | | sent and if received the | | | | Cause shall be treated | | | | as an invalid IE | +--------------------------+-------------+--------------------------+ | Request / Initial | 1 | Reserved | | message | | | +--------------------------+-------------+--------------------------+ | | 2 | Local Detach | +--------------------------+-------------+--------------------------+ | | 3 | Complete Detach | +--------------------------+-------------+--------------------------+ | | 4 | RAT changed from 3GPP to | | | | Non-3GPP | +--------------------------+-------------+--------------------------+ | | 5 | ISR deactivation | +--------------------------+-------------+--------------------------+ | | 6 | Error Indication | | | | received from | | | | RNC/eNodeB/S4-SGSN | +--------------------------+-------------+--------------------------+ | | 7 | IMSI Detach Only | +--------------------------+-------------+--------------------------+ | | 8 to 15 | Spare. This value range | | | | shall be used by Cause | | | | values in an | | | | initial/request message. | | | | See NOTE 5. | +--------------------------+-------------+--------------------------+ | Acceptance in a Response | 16 | Request accepted | | / triggered message | | | +--------------------------+-------------+--------------------------+ | | 17 | Request accepted | | | | partially | +--------------------------+-------------+--------------------------+ | | 18 | New PDN type due to | | | | network preference | +--------------------------+-------------+--------------------------+ | | 19 | New PDN type due to | | | | single address bearer | | | | only | +--------------------------+-------------+--------------------------+ | | 20 to 63 | Spare. This value range | | | | shall be used by Cause | | | | values in an acceptance | | | | response/triggered | | | | message | +--------------------------+-------------+--------------------------+ | Rejection in a Response/ | 64 | Context Not Found | | triggered message. See | | | | NOTE 1. | | | +--------------------------+-------------+--------------------------+ | | 65 | Invalid Message Format | +--------------------------+-------------+--------------------------+ | | 66 | Version not supported by | | | | next peer | +--------------------------+-------------+--------------------------+ | | 67 | Invalid length | +--------------------------+-------------+--------------------------+ | | 68 | Service not supported | +--------------------------+-------------+--------------------------+ | | 69 | Mandatory IE incorrect | +--------------------------+-------------+--------------------------+ | | 70 | Mandatory IE missing | +--------------------------+-------------+--------------------------+ | | 71 | Shall not be used. See | | | | NOTE 2 and NOTE 3. | +--------------------------+-------------+--------------------------+ | | 72 | System failure | +--------------------------+-------------+--------------------------+ | | 73 | No resources available | +--------------------------+-------------+--------------------------+ | | 74 | Semantic error in the | | | | TFT operation | +--------------------------+-------------+--------------------------+ | | 75 | Syntactic error in the | | | | TFT operation | +--------------------------+-------------+--------------------------+ | | 76 | Semantic errors in | | | | packet filter(s) | +--------------------------+-------------+--------------------------+ | | 77 | Syntactic errors in | | | | packet filter(s) | +--------------------------+-------------+--------------------------+ | | 78 | Missing or unknown APN | +--------------------------+-------------+--------------------------+ | | 79 | Shall not be used. See | | | | NOTE 2 and NOTE 3. | +--------------------------+-------------+--------------------------+ | | 80 | GRE key not found | +--------------------------+-------------+--------------------------+ | | 81 | Relocation failure | +--------------------------+-------------+--------------------------+ | | 82 | Denied in RAT | +--------------------------+-------------+--------------------------+ | | 83 | Preferred PDN type not | | | | supported | +--------------------------+-------------+--------------------------+ | | 84 | All dynamic addresses | | | | are occupied | +--------------------------+-------------+--------------------------+ | | 85 | UE context without TFT | | | | already activated | +--------------------------+-------------+--------------------------+ | | 86 | Protocol type not | | | | supported | +--------------------------+-------------+--------------------------+ | | 87 | UE not responding | +--------------------------+-------------+--------------------------+ | | 88 | UE refuses | +--------------------------+-------------+--------------------------+ | | 89 | Service denied | +--------------------------+-------------+--------------------------+ | | 90 | Unable to page UE | +--------------------------+-------------+--------------------------+ | | 91 | No memory available | +--------------------------+-------------+--------------------------+ | | 92 | User authentication | | | | failed | +--------------------------+-------------+--------------------------+ | | 93 | APN access denied -- no | | | | subscription | +--------------------------+-------------+--------------------------+ | | 94 | Request rejected (reason | | | | not specified) | +--------------------------+-------------+--------------------------+ | | 95 | P-TMSI Signature | | | | mismatch | +--------------------------+-------------+--------------------------+ | | 96 | IMSI not known | +--------------------------+-------------+--------------------------+ | | 97 | Semantic error in the | | | | TAD operation | +--------------------------+-------------+--------------------------+ | | 98 | Syntactic error in the | | | | TAD operation | +--------------------------+-------------+--------------------------+ | | 99 | Reserved Message Value | | | | Received | +--------------------------+-------------+--------------------------+ | | 100 | Remote peer not | | | | responding | +--------------------------+-------------+--------------------------+ | | 101 | Collision with network | | | | initiated request | +--------------------------+-------------+--------------------------+ | | 102 | Unable to page UE due to | | | | Suspension | +--------------------------+-------------+--------------------------+ | | 103 | Conditional IE missing | +--------------------------+-------------+--------------------------+ | | 104 | APN Restriction type | | | | Incompatible with | | | | currently active PDN | | | | connection | +--------------------------+-------------+--------------------------+ | | 105 | Invalid overall length | | | | of the triggered | | | | response message and a | | | | piggybacked initial | | | | message | +--------------------------+-------------+--------------------------+ | | 106 | Data forwarding not | | | | supported | +--------------------------+-------------+--------------------------+ | | 107 | Invalid reply from | | | | remote peer | +--------------------------+-------------+--------------------------+ | | 108 | Fallback to GTPv1 | +--------------------------+-------------+--------------------------+ | | 109 | Invalid peer | +--------------------------+-------------+--------------------------+ | | 110 | Temporarily rejected due | | | | to handover procedure in | | | | progress | +--------------------------+-------------+--------------------------+ | | 111 | NOTE 4. | +--------------------------+-------------+--------------------------+ | | 112 | Request rejected for a | | | | PMIPv6 reason (see 3GPP | | | | TS 29.275 [26]). | +--------------------------+-------------+--------------------------+ | | 113 | NOTE 4. | +--------------------------+-------------+--------------------------+ | | 114 | NOTE 4. | +--------------------------+-------------+--------------------------+ | | 115 | NOTE 4. | +--------------------------+-------------+--------------------------+ | | 116 | Multiple PDN connections | | | | for a given APN not | | | | allowed. | +--------------------------+-------------+--------------------------+ | | 117 to 239 | Spare. For future use in | | | | a triggered/response | | | | message See NOTE 4. | +--------------------------+-------------+--------------------------+ | Request / Initial | 240 to 255 | Spare. For future use in | | message | | an initial/request | | | | message. See NOTE 5. | +--------------------------+-------------+--------------------------+ | NOTE 1: The listed cause | | | | values for rejection in | | | | a response/triggered | | | | message can be also used | | | | for request messages if | | | | the request message is | | | | triggered by a command | | | | message. | | | | | | | | NOTE 2: Subclause 7.7.8 | | | | \"Semantically incorrect | | | | Information Element\" | | | | specifies quite strict | | | | handling of the reserved | | | | values and therefore | | | | this table shall not | | | | contain any reserved | | | | values. | | | | | | | | NOTE 3: This value was | | | | used in earlier versions | | | | of the spec. If | | | | received, it shall be | | | | interpreted as | | | | unspecified rejection | | | | cause. | | | | Unspecified/unrecognized | | | | rejection cause shall be | | | | treated in the same ways | | | | as the cause value 94 | | | | \"Request rejected | | | | (reason not | | | | specified)\". | | | | | | | | NOTE 4: This value is or | | | | may be used in the newer | | | | versions of the spec. If | | | | the receiver cannot | | | | comprehend the value, it | | | | shall be interpreted as | | | | unspecified rejection | | | | cause. | | | | Unspecified/unrecognized | | | | rejection cause shall be | | | | treated in the same ways | | | | as the cause value 94 | | | | \"Request rejected | | | | (reason not | | | | specified)\". | | | | | | | | NOTE 5: This value is or | | | | may be used in the newer | | | | versions of the spec. If | | | | the receiver cannot | | | | comprehend the value, it | | | | shall be interpreted as | | | | an unspecified | | | | request/initial message | | | | cause. | | | | Unspecified/unrecognized | | | | cause handling in a | | | | request/initial message | | | | shall be implementation | | | | dependent (e.g. may be | | | | ignored). | | | +--------------------------+-------------+--------------------------+
## 8.5 Recovery (Restart Counter)
Recovery IE is coded as depicted in Figure 8.5-1.
In the first release of GTPv2 spec n = 1. That is, the overall length of the
IE is 5 octets. In future releases of the spec additional octets may be
specified.
* * *
. Bits  
Octets 8 7 6 5 4 3 2 1  
1 Type = 3 (decimal)  
2 to 3 Length = n  
4 Spare Instance  
5 to (n+4) Recovery (Restart Counter)
* * *
Figure 8.5-1: Recovery (Restart Counter)
## 8.6 Access Point Name (APN)
Access Point Name (APN) is transferred via GTP tunnels. The sending entity
copies the value part of the APN into the Value field of the APN IE.
* * *
                  Bits                                                         
     Octets       8                         7          6   5   4   3   2   1   
     1            Type = 71 (decimal)                                          
     2 to 3       Length = n                                                   
     4            Spare                     Instance                           
     5 to (n+4)   Access Point Name (APN)
* * *
Figure 8.6-1: Access Point Name (APN)
The encoding the APN field follows 3GPP TS 23.003 [2] subclause 9.1. The
content of the APN field shall be the full APN with both the APN Network
Identifier and APN Operator Identifier being present as specified in 3GPP TS
23.003 [2] subclauses 9.1.1 and 9.1.2, 3GPP TS 23.060 [35] Annex A and 3GPP TS
23.401 [3] subclauses 4.3.8.1.
NOTE: The APN field is not encoded as a dotted string as commonly used in
documentation.
## 8.7 Aggregate Maximum Bit Rate (AMBR)
Aggregate Maximum Bit Rate (AMBR) is transferred via GTP tunnels. The sending
entity copies the value part of the AMBR into the Value field of the AMBR
(APN-AMBR) IE.
AMBR is defined in clause 9.9.4.2 of 3GPP TS 24.301 [23], but shall be
formatted as shown in Figure 8.7-1 as Unsigned32 binary integer values in kbps
(1000 bits per second).
* * *
               Bits                                                       
     Octets    8                       7          6   5   4   3   2   1   
     1         Type = 72 (decimal)                                        
     2 to 3    Length = 8                                                 
     4         Spare                   Instance                           
     5 to 8    APN-AMBR for uplink                                        
     9 to 12   APN-AMBR for downlink
* * *
Figure 8.7-1: Aggregate Maximum Bit Rate (AMBR)
## 8.8 EPS Bearer ID (EBI)
EPS Bearer ID (EBI) is coded as depicted in Figure 8.8-1.
The overall length of the IE is 5 octets. In future releases of the spec
additional octets may be specified and new semantic for the spare bits may be
defined.
* * *
                  Bits                                                                                                       
     Octets       8                                                            7                     6   5   4   3   2   1   
     1            Type = 73 (decimal)                                                                                        
     2 to 3       Length = n                                                                                                 
     4            Spare                                                        Instance                                      
     5            Spare (all bits set to 0)                                    EPS Bearer ID (EBI)                           
     6 to (n+4)   These octet(s) is/are present only if explicitly specified
* * *
Figure 8.8-1: EPS Bearer ID (EBI)
The coding of EBI field and its value range is specified in 3GPP TS 24.007
[30], subclause 11.2.3.1.5, bits 5 to 8.
## 8.9 IP Address
IP Address is coded as depicted in Figure 8.9-1. The Length field may have
only two values (4 or 16) that determine if the Value field contains IPv4 or
IPv6 address.
* * *
                  Bits                                                      
     Octets       8                      7          6   5   4   3   2   1   
     1            Type = 74 (decimal)                                       
     2 to 3       Length = n                                                
     4            Spare                  Instance                           
     5 to (n+4)   IPv4 or IPv6 Address
* * *
Figure 8.9-1: IP address
## 8.10 Mobile Equipment Identity (MEI)
Mobile Equipment Identity (MEI) is coded as depicted in Figure 8.10-1.. MEI is
defined in clause 6.2 of 3GPP TS 23.003 [2].
* * *
                  Bits                                                                
     Octets       8                                7          6   5   4   3   2   1   
     1            Type = 75 (decimal)                                                 
     2 to 3       Length = n                                                          
     4            Spare                            Instance                           
     5 to (n+4)   Mobile Equipment (ME) Identity
* * *
Figure 8.10-1: Mobile Equipment (ME) Identity (MEI)
The ME Identity field contains either the IMEI or the IMEISV as defined in
clause 6.2 of 3GPP TS 23.003 [2]. It is encoded as specified in clause 7.7.53
of 3GPP TS 29.060 [4], beginning with octet 4 of Figure 7.7.53.1.
The IMEI(SV) digits are encoded using BCD coding where IMEI is 15 BCD digits
and IMEISV is 16 BCD digits. For IMEI, bits 5 to 8 of the last octet shall be
filled with an end mark coded as \'1111\'.
## 8.11 MSISDN
MSISDN is transferred via GTP tunnels. The sending entity copies the value
part of the MSISDN into the Value field of the MSISDN IE. MSISDN is defined in
3GPP TS 23.003 [2].
* * *
              Bits                                                             
     Octets   8                     7                  6   5   4   3   2   1   
     1        Type = 76 (decimal)                                              
     2 to 3   Length = n                                                       
     4        Spare                 Instance                                   
     5        Number digit 2        Number digit 1                             
     6        Number digit 4        Number digit 3                             
     ...      ...                   ...                                        
     n+4      Number digit m        Number digit m-1
* * *
Figure 8.11-1: MSISDN
Octets 5 to (n+4) represent the MSISDN value is in international number format
as described in ITU-T Rec E.164 [25] and 3GPP TS 29.002 [41]. MSISDN value
contains only the actual MSISDN number (does not contain the \"nature of
address indicator\" octet, which indicates \"international number\" as in 3GPP
TS 29.002 [41]) and is encoded as TBCD digits, i.e. digits from 0 through 9
are encoded \"0000\" to \"1001\". When there is an odd number of digits, bits
8 to 5 of the last octet are encoded with the filler \"1111\".
## 8.12 Indication
Indication is coded as depicted in Figure 8.12-1.
* * *
                  Bits                                                                                                                    
     Octets       8                                                            7          6       5       4       3       2       1       
     1            Type = 77 (decimal)                                                                                                     
     2 to 3       Length = n                                                                                                              
     4            Spare                                                        Instance                                                   
     5            DAF                                                          DTF        HI      DFI     OI      ISRSI   ISRAI   SGWCI   
     6            SQCI                                                         UIMSI      CFSI    CRSI    P       PT      SI      MSV     
     7            Spare                                                        Spare      Spare   Spare   Spare   Spare   ISRAU   CCRSI   
     8 to (n+4)   These octet(s) is/are present only if explicitly specified
* * *
Figure 8.12-1: Indication
For each message the applicable flags of the Indication IE shall be clearly
specified in the individual message sub clause. The remaining flags of the
Indication IE not so indicated shall be discarded by the receiver.
The receiver shall consider the value of the applicable flags as \"0\", if the
Indication IE is applicable for the message but not included in the message by
the sender.
The following bits within Octet 5 shall indicate:
\- Bit 8 -- DAF (Dual Address Bearer Flag): This bit shall be set when the PDN
Type, determined based on UE request and subscription record, is set to IPv4v6
and all SGSNs which the UE may be handed over to are Release 8 or above
supporting dual addressing, which is determined based on node pre-
configuration by the operator..
\- Bit 7 -- DTF (Direct Tunnel Flag): This bit shall be set when the UE is in
UTRAN/GERAN network and Direct Tunnel is selected
\- Bit 6 -- HI (Handover Indication): If this bit is set to 1, it shall
indicate that a UE handover from a non-3GPP access to a 3GPP access system.
This bit is applicable during the E-UTRAN Initial Attach procedure or during
the UE requested PDN connectivity procedure.
\- Bit 5 -- DFI (Direct Forwarding Indication): If this bit is set to 1, it
shall indicate that the direct forwarding between the source eNodeB and the
target eNodeB during the S1 based handover procedure is applied.
\- Bit 4 -- OI (Operation Indication):
\- If this bit is set to 1, it shall denote that the receiving SGW of a
\"Create Session Request\" shall send a Modify Bearer Request immediately to
the PGW. This allows the SGW to differentiate if the \"Create Session
Request\" received on S4/S11 interface belongs to a TAU/RAU with an SGW
relocation (OI = 1), or X2-based handover with SGW relocation (OI = 1) or
S1-based handover with SGW relocation (OI = 0).
\- It shall be set to 1 on S4/S11 interface if the SGW needs to forward the
Delete Session Request message to PGW.
\- Bit 3 -- ISRSI (Idle mode Signalling Reduction Supported Indication): If
this is set to 1, it shall indicate that the old/source SGSN/MME and the
associated SGW are capable to activate ISR.
\- Bit 2 -- ISRAI (Idle mode Signalling Reduction Activation Indication): If
this bit is set to 1, it shall indicate that the ISR is established between
the MME and the S4 SGSN during a TAU/RAU without an SGW change procedure or
during an Inter RAT handover without an SGW change procedure. The SGW shall
retain the resources for the other CN node that has its bearer resources on
the SGW reserved. The old/source SGSN/MME shall maintain the UE\'s contexts
and activate ISR.
\- Bit 1 -- SGWCI (SGW Change Indication): If this bit is set to 1, it shall
indicate that the target MME/SGSN has selected a new SGW during a TAU/RAU or
handover with an SGW change procedure.
The following bits within Octet 6 shall indicate:
\- Bit 8 -- SQCI (Subscribed QoS Change Indication): If this bit is set to 1,
it indicates that the subscribed QoS profile of the related PDN connection has
changed in the old MME/SGSN when the UE is in ECM-IDLE state and ISR is
activated. The new MME/SGSN shall trigger the Subscribed QoS Modification
procedure. See 3GPP TS 23.401 [3], clause 5.3.9.2.
\- Bit 7 -- UIMSI (Unauthenticated IMSI): If this bit is set to 1, it
indicates that the IMSI present in the message is not authenticated and is for
emergency attached UE.
\- Bit 6 -- CFSI (Change F-TEID support indication): if this bit is set to 1,
it indicates that the SGW can change the assigned GTP-U F-TEID in the current
procedure. The MME/SGSN shall include this flag in the Modify Bearer Request
message sent to the SGW in the Idle state UE initiated TAU/RAU procedure. The
SGW shall include the new F-TEID in the Modify Bearer Response message if the
CFSI flag is received in the corresponding Request message and the SGW needs
to modify the GTP-U F-TEID.
\- Bit 5 -- CRSI (Change Reporting support indication): if this bit is set to
1, it indicates that the MME/S4 SGSN supporting Location Change Reporting
mechanism.
\- Bit 4 -- PS (Piggybacking Supported). This bit denotes whether the MME/SGW
support piggybacking feature as described in Annex F of 3GPP TS 23.401 [3]. If
set to 1, it indicates that the node is capable of processing two different
GTP-C messages appearing back to back in a single UDP payload.
\- Bit 3 -- PT (Protocol Type) If this bit set to 1, it shall indicate that
the protocol type for the S5/S8 interface is PMIP; this bit is set to 0 to
indicate that the protocol type for the S5/S8 interface is GTP.
\- Bit 2 -- SI (Scope Indication): If this bit is set to 1, it indicates that
all bearer resources of the UE shall be released by the SGW. This flag is set
in messages during TAU/RAU/Handover/SRNS Relocation Cancel Using S4/Inter RAT
handover Cancel procedure with SGW change/S1 Based handover Cancel procedure
with SGW change.
\- Bit 1 -- MSV (MS Validated): If this bit is set to 1, it shall indicate
that the new MME/SGSN has successfully authenticated the UE.
The following bits within Octet 7shall indicate:
\- Bit 8 to 3 -- Spare, for future use and set to zero.
\- Bit 1 -- CCRSI (CSG Change Reporting support indication): if this bit is
set to 1, it indicates that the MME/S4 SGSN support CSG Information Change
Reporting mechanism.
\- Bit 2 - ISRAU (ISR is activated for the UE): if this bit is set to 1, it
indicates that ISR is activated for the UE before the UE moving to the new
SGSN/MME.
## 8.13 Protocol Configuration Options (PCO)
Protocol Configuration Options (PCO) is transferred via GTP tunnels. The
sending entity copies the value part of the PCO into the Value field of the
PCO IE. The detailed coding of the PCO field from octets 5 to (n+4) shall be
specified as per clause 10.5.6.3 of 3GPP TS 24.008 [5], starting with octet 3.
* * *
                  Bits                                                                      
     Octets       8                                      7          6   5   4   3   2   1   
     1            Type = 78 (decimal)                                                       
     2 to 3       Length = n                                                                
     4            Spare                                  Instance                           
     5 to (n+4)   Protocol Configuration Options (PCO)
* * *
Figure 8.13-1: Protocol Configuration Options (PCO)
## 8.14 PDN Address Allocation (PAA)
The PDN Address Allocation is coded as depicted in Figure 8.14-1.
NOTE: In Rel 8, Prefix length has a fixed value of /64.
* * *
                  Bits                                                        
     Octets       8                        7          6   5   4   3   2   1   
     1            Type = 79 (decimal)                                         
     2 to 3       Length = n                                                  
     4            Spare                    Instance                           
     5            Spare                    PDN Type                           
     6 to (n+4)   PDN Address and Prefix
* * *
Figure 8.14-1: PDN Address Allocation (PAA)
Table 8.14-1: PDN Address Allocation
* * *
PDN type value (octet 5)  
Bits  
3 2 1  
0 0 1 IPv4 0 1 0 IPv6 0 1 1 IPv4v6
Bits 8-4 of octet 5 are spare and shall be coded as zero.
PDN Address and Prefix (octet 6 to n+4)
If PDN type value indicates IPv4, an IPv4 address is present in the PDN
Address and Prefix from octet 6 to octet 9. Bit 8 of octet 6 represents the
most significant bit of the IPv4 address and bit 1 of octet 9 the least
significant bit.
If PDN type value indicates IPv6, octet 6 contains the IPv6 Prefix Length.
Octets 7 through 22 contain an IPv6 Prefix and Interface Identifier. Bit 8 of
octet 7 represents the most significant bit of the IPv6 Prefix and Interface
Identifier and bit 1 of octet 22 the least significant bit.
If PDN type value indicates IPv4v6, octet 6 contains the IPv6 Prefix Length.
Octets 7 through 22 contain an IPv6 Prefix and Interface Identifier. Bit 8 of
octet 7 represents the most significant bit of the IPv6 Prefix and Interface
Identifier and bit 1 of octet 22 the least significant bit. Octets 23 through
26 contain an IPv4 address. Bit 8 of octet 23 represents the most significant
bit of the IPv4 address and bit 1 of octet 26 the least significant bit.
* * *
## 8.15 Bearer Quality of Service (Bearer QoS)
Bearer Quality of Service (Bearer QoS) is transferred via GTP tunnels. The
sending entity copies the value part of the Bearer l QoS into the Value field
of the Bearer QoS IE.
* * *
                   Bits                                                                                                   
     Octets        8                                                            7          6    5       4     3   2   1   
     1             Type = 80 (decimal)                                                                                    
     2-3           Length = n                                                                                             
     4             Spare                                                        Instance                                  
     5             Spare                                                        PCI        PL   Spare   PVI               
     6             Label (QCI)                                                                                            
     7 to 11       Maximum bit rate for uplink                                                                            
     12 to 16      Maximum bit rate for downlink                                                                          
     17 to 21      Guaranteed bit rate for uplink                                                                         
     22 to 26      Guaranteed bit rate for downlink                                                                       
     27 to (n+4)   These octet(s) is/are present only if explicitly specified
* * *
Figure 8.15-1: Bearer Level Quality of Service (Bearer QoS)
Octet 5 represents the Allocation/Retention Priority (ARP) parameter. The
meaning and value range of the parameters within the ARP are defined in 3GPP
TS 29.212 [29]. The bits within the ARP octet are:
\- Bit 1 -- PVI (Pre-emption Vulnerability): See 3GPP TS 29.212[29], clause
5.3.47 Pre-emption-Vulnerability AVP.
\- Bit 2 -- spare
\- Bits 3 to 6 -- PL (Priority Level): See 3GPP TS 29.212[29], clause 5.3.45
ARP-Value AVP. PL encodes each priority level defined for the ARP-Value AVP as
the binary value of the priority level.
\- Bit 7 -- PCI (Pre-emption Capability): See 3GPP TS 29.212[29], clause
5.3.46 Pre-emption-Capability AVP.
\- Bit 8 -- spare.
QCI, Maximum bit rate for uplink, Maximum bit rate for downlink, Guaranteed
bit rate for uplink and Guaranteed bit rate for downlink are specified in 3GPP
TS 36.413 [10].
The UL/DL MBR and GBR fields are encoded as kilobits per second (1 kbps = 1000
bps) in binary value. For non-GBR bearers, both the UL/DL MBR and GBR should
be set to zero.
NOTE: The encoding in 3GPP TS 24.301 [23] and 3GPP TS 36.413 [10] is different
from the encoding here.
## 8.16 Flow Quality of Service (Flow QoS)
Flow Quality of Service (Flow QoS) is transferred via GTP tunnels. The sending
entity copies the value part of the Flow QoS into the Value field of the Flow
QoS IE.
* * *
                   Bits                                                                                            
     Octets        8                                                            7          6   5   4   3   2   1   
     1             Type = 81 (decimal)                                                                             
     2 to 3        Length = n                                                                                      
     4             Spare                                                        Instance                           
     5             Label (QCI)                                                                                     
     6 to 10       Maximum bit rate for uplink                                                                     
     11 to 15      Maximum bit rate for downlink                                                                   
     16 to 20      Guaranteed bit rate for uplink                                                                  
     21 to 25      Guaranteed bit rate for downlink                                                                
     26 to (n+4)   These octet(s) is/are present only if explicitly specified
* * *
Figure 8.16-1: Flow Quality of Service (Flow QoS)
QCI, Maximum bit rate for uplink, Maximum bit rate for downlink, Guaranteed
bit rate for uplink and Guaranteed bit rate for downlink are specified in 3GPP
TS 36.413 [10].
The UL/DL MBR and GBR fields are encoded as kilobits per second (1 kbps = 1000
bps) in binary value. For non-GBR bearers, both the UL/DL MBR and GBR should
be set to zero.
NOTE: The encoding in 3GPP TS 24.301 [23] and 3GPP TS 36.413 [10] is different
from the encoding here.
## 8.17 RAT Type
RAT Type is coded as depicted in Figure 8.17-1.
* * *
                  Bits                                                                                            
     Octets       8                                                            7          6   5   4   3   2   1   
     1            Type = 82 (decimal)                                                                             
     2 to 3       Length = 1                                                                                      
     4            Spare                                                        Instance                           
     5            RAT Type                                                                                        
     6 to (n+4)   These octet(s) is/are present only if explicitly specified
* * *
Figure 8.17-1: RAT Type
Table 8.17-1: RAT Type values
* * *
RAT Types Values (Decimal) \ 0 UTRAN 1 GERAN 2 WLAN 3 GAN 4 HSPA
Evolution 5 EUTRAN 6 \ 7-255
* * *
## 8.18 Serving Network
Serving Network is coded as depicted in Figure 8.18-1.
* * *
                  Bits                                                                                               
     Octets       8                                                            7             6   5   4   3   2   1   
     1            Type = 83 (decimal)                                                                                
     2 to 3       Length = n                                                                                         
     4            Spare                                                        Instance                              
     5            MCC digit 2                                                  MCC digit 1                           
     6            MNC digit 3                                                  MCC digit 3                           
     7            MNC digit 2                                                  MNC digit 1                           
     8 to (n+4)   These octet(s) is/are present only if explicitly specified
* * *
Figure 8.18-1: Serving Network
If an Administration decides to include only two digits in the MNC, then bits
5 to 8 of octet 6 are coded as \"1111\".
This IE contains the serving network provided by the MME or S4-SGSN.
## 8.19 EPS Bearer Level Traffic Flow Template (Bearer TFT)
EPS Bearer Level Traffic Flow Template (Bearer TFT) is transferred via GTP
tunnels. The sending entity copies the value part of the EPS Bearer Level TFT
into the Value field of the EPS Bearer Level TFT IE. The detailed coding of
the EPS Bearer Level TFT IE is specified in 3GPP TS 24.008 [5], clause
10.5.6.12, beginning with octet 3.
* * *
                  Bits                                                                              
     Octets       8                                              7          6   5   4   3   2   1   
     1            Type = 84 (decimal)                                                               
     2 to 3       Length = n                                                                        
     4            Spare                                          Instance                           
     5 to (n+4)   EPS Bearer Level Traffic Flow Template (TFT)
* * *
Figure 8.19-1: EPS Bearer Level Traffic Flow Template (Bearer TFT)
## 8.20 Traffic Aggregate Description (TAD)
The Traffic Aggregate Description IE is coded as depicted in Figure 8.20-1.
The detailed coding of Traffic Aggregate Description is specified in 3GPP TS
24.008 [5] , clause 10.5.6.12, beginning with octet 3..
* * *
                  Bits                                                               
     Octets       8                               7          6   5   4   3   2   1   
     1            Type = 85 (Decimal)                                                
     2 to 3       Length = n                                                         
     4            Spare                           Instance                           
     5 to (n+4)   Traffic Aggregate Description
* * *
**Figure 8.20-1 Traffic Aggregate Description**
## 8.21 User Location Information (ULI)
User Location Information (ULI) is an extendable IE that is coded as depicted
in Figure 8.21-1. The CGI, SAI, RAI, TAI, ECGI and LAI identity types are
defined in 3GPP TS 23.003 [2].
* * *
                  Bits                                                                                                       
     Octets       8                                                            7          6      5     4     3     2     1   
     1            Type = 86 (decimal)                                                                                        
     2 to 3       Length = n                                                                                                 
     4            Spare                                                        Instance                                      
     5            Spare                                                        LAI        ECGI   TAI   RAI   SAI   CGI       
     a to a+6     CGI                                                                                                        
     b to b+6     SAI                                                                                                        
     c to c+6     RAI                                                                                                        
     d to d+4     TAI                                                                                                        
     e to e+6     ECGI                                                                                                       
     f to f+4     LAI                                                                                                        
     g to (n+4)   These octet(s) is/are present only if explicitly specified
* * *
**Figure 8.21-1: User Location Info** rmation
The ULI IE shall contain only one identity of the same type (e.g. more than
one CGI cannot be included), but ULI IE may contain more than one identity of
a different type (e.g. ECGI and TAI). The flags LAI, ECGI, TAI, RAI, SAI and
CGI in octet 5 indicate if the corresponding type shall be present in a
respective field or not. If one of these flags is set to \"0\", the
corresponding field shall not be present at all. If more than one identity of
different type is present, then they shall be sorted in the following order:
CGI, SAI, RAI, TAI, ECGI, LAI.
The following subclauses specify the coding of the fields representing
different identities.
For each identity, if an Administration decides to include only two digits in
the MNC, then \"MNC digit 3\" field of corresponding location shall be coded
as \"1111\".
### 8.21.1 CGI field
The coding of CGI (Cell Global Identifier) is depicted in Figure 8.21.1-1.
Only zero or one CGI field shall be present in ULI IE.
* * *
                  Bits                                                             
     Octets       8                          7             6   5   4   3   2   1   
     a            MCC digit 2                MCC digit 1                           
     a+1          MNC digit 3                MCC digit 3                           
     a+2          MNC digit 2                MNC digit 1                           
     a+3 to a+4   Location Area Code (LAC)                                         
     a+5 to a+6   Cell Identity (CI)
* * *
Figure 8.21.1-1: CGI field
The Location Area Code (LAC) consists of 2 octets. Bit 8 of Octet a+3 is the
most significant bit and bit 1 of Octet a+4 the least significant bit. The
coding of the location area code is the responsibility of each administration.
Coding using full hexadecimal representation shall be used.
The Cell Identity (CI) consists of 2 octets. Bit 8 of Octet a+5 is the most
significant bit and bit 1 of Octet a+6 the least significant bit. The coding
of the cell identity is the responsibility of each administration. Coding
using full hexadecimal representation shall be used.
### 8.21.2 SAI field
The coding of SAI (Service Area Identifier) is depicted in Figure 8.21.2-1.
Only zero or one SAI field shall be present in ULI IE.
* * *
                  Bits                                                             
     Octets       8                          7             6   5   4   3   2   1   
     b            MCC digit 2                MCC digit 1                           
     b+1          MNC digit 3                MCC digit 3                           
     b+2          MNC digit 2                MNC digit 1                           
     b+3 to b+4   Location Area Code (LAC)                                         
     b+5 to b+6   Service Area Code (SAC)
* * *
Figure 8.21.2-1: SAI field
The Location Area Code (LAC) consists of 2 octets. Bit 8 of Octet b+3 is the
most significant bit and bit 1 of Octet b+4 the least significant bit. The
coding of the location area code is the responsibility of each administration.
Coding using full hexadecimal representation shall be used.
The Service Area Code (SAC) consists of 2 octets. Bit 8 of Octet b+5 is the
most significant bit and bit 1 of Octet b+6 the least significant bit. The SAC
is defined by the operator. See 3GPP TS 23.003 [2] section 12.5 for more
information.
### 8.21.3 RAI field
The coding of RAI (Routing Area Identity) is depicted in Figure 8.21.3-1. Only
zero or one RAI field shall be present in ULI IE.
* * *
                  Bits                                                             
     Octets       8                          7             6   5   4   3   2   1   
     c            MCC digit 2                MCC digit 1                           
     c+1          MNC digit 3                MCC digit 3                           
     c+2          MNC digit 2                MNC digit 1                           
     c+3 to c+4   Location Area Code (LAC)                                         
     c+5 to c+6   Routing Area Code (RAC)
* * *
Figure 8.21.3-1: RAI field
The Location Area Code (LAC) consists of 2 octets. Bit 8 of Octet c+3 is the
most significant bit and bit 1 of Octet c+4 the least significant bit. The
coding of the location area code is the responsibility of each administration.
Coding using full hexadecimal representation shall be used.
The Routing Area Code (RAC) consists of 2 octets. Only Octet c+5 contains the
RAC. Octet c+6 is coded as all 1\'s (11111111). The RAC is defined by the
operator.
### 8.21.4 TAI field
The coding of TAI (Tracking Area Identity) is depicted in Figure 8.21.4-1.
Only zero or one TAI field shall be present in ULI IE.
* * *
                  Bits                                                             
     Octets       8                          7             6   5   4   3   2   1   
     d            MCC digit 2                MCC digit 1                           
     d+1          MNC digit 3                MCC digit 3                           
     d+2          MNC digit 2                MNC digit 1                           
     d+3 to d+4   Tracking Area Code (TAC)
* * *
Figure 8.21.4-1: TAI
The Tracking Area Code (TAC) consists of 2 octets. Bit 8 of Octet d+3 is the
most significant bit and bit 1 of Octet d+4 the least significant bit. The
coding of the tracking area code is the responsibility of each administration.
Coding using full hexadecimal representation shall be used.
### 8.21.5 ECGI field
The coding of ECGI (E-UTRAN Cell Global Identifier) is depicted in Figure
8.21.5-1. Only zero or one ECGI field shall be present in ULI IE.
* * *
                  Bits                                                                  
     Octets       8                               7             6   5   4   3   2   1   
     e            MCC digit 2                     MCC digit 1                           
     e+1          MNC digit 3                     MCC digit 3                           
     e+2          MNC digit 2                     MNC digit 1                           
     e+3          Spare                           ECI                                   
     e+4 to e+6   ECI (E-UTRAN Cell Identifier)
* * *
Figure 8.21.5-1: ECGI field
The E-UTRAN Cell Identifier (ECI) consists of 28 bits. The ECI field shall
start with Bit 4 of octet e+3, which is the most significant bit. Bit 1 of
Octet e+6 is the least significant bit. The coding of the E-UTRAN cell
identifier is the responsibility of each administration. Coding using full
hexadecimal representation shall be used.
### 8.21.6 LAI field
The coding of LAI (Location Area Identifier) is depicted in Figure 8.21.6-1.
* * *
                  Bits                                                             
     Octets       8                          7             6   5   4   3   2   1   
     f            MCC digit 2                MCC digit 1                           
     f+1          MNC digit 3                MCC digit 3                           
     f+2          MNC digit 2                MNC digit 1                           
     f+3 to f+4   Location Area Code (LAC)
* * *
Figure 8.21.6-1: LAI field
The Location Area Code (LAC) consists of 2 octets. Bit 8 of Octet f+3 is the
most significant bit and bit 1 of Octet f+4 the least significant bit. The
coding of the location area code is the responsibility of each administration.
Coding using full hexadecimal representation shall be used.
## 8.22 Fully Qualified TEID (F-TEID)
Fully Qualified Tunnel Endpoint Identifier (F-TEID) is coded as depicted in
Figure 8.22-1.
* * *
                   Bits                                                                                                             
     Octets        8                                                            7          6       5                4   3   2   1   
     1             Type = 87 (decimal)                                                                                              
     2to 3         Length = n                                                                                                       
     4             Spare                                                        Instance                                            
     5             V4                                                           V6         Spare   Interface type                   
     6 to 9        TEID / GRE Key                                                                                                   
     m to (m+3)    IPv4 address                                                                                                     
     p to (p+15)   IPv6 address                                                                                                     
     k to (n+4)    These octet(s) is/are present only if explicitly specified
* * *
Figure 8.22-1: Fully Qualified Tunnel Endpoint Identifier (F-TEID)
The following flags are coded within Octet 5:
\- Bit 8 -- V4: If this bit is set to \"1\", then IPv4 address field exists in
the F-TEID, otherwise the IPv4 address field is not present at all.
\- Bit 7 -- V6: If this bit is set to \"1\", then IPv6 address field exists in
the F-TEID, otherwise the IPv6 address field is not present at all.
At least one of V4 and V6 shall be set to \"1\", and both may be set to \"1\".
\- Bit 6 -- Spare, shall be set to zero by the sender and ignored by the
receiver.
\- Bit 5 to Bit 1 -- Interface Type: This 5 bit wide integer can take the
following values representing interface type and endpoint:
0: S1-U eNodeB GTP-U interface
1: S1-U SGW GTP-U interface
2: S12 RNC GTP-U interface
3: S12 SGW GTP-U interface
4: S5/S8 SGW GTP-U interface
5: S5/S8 PGW GTP-U interface
6: S5/S8 SGW GTP-C interface
7: S5/S8 PGW GTP-C interface
8: S5/S8 SGW PMIPv6 interface (the 32 bit GRE key is encoded in 32 bit TEID
field and since alternate CoA is not used the control plane and user plane
addresses are the same for PMIPv6)
9: S5/S8 PGW PMIPv6 interface (the 32 bit GRE key is encoded in 32 bit TEID
field and the control plane and user plane addresses are the same for PMIPv6)
10: S11 MME GTP-C interface
11: S11/S4 SGW GTP-C interface
12: S10 MME GTP-C interface
13: S3 MME GTP-C interface
14: S3 SGSN GTP-C interface
15: S4 SGSN GTP-U interface
16: S4 SGW GTP-U interface
17: S4 SGSN GTP-C interface
18: S16 SGSN GTP-C interface
19: eNodeB GTP-U interface for DL data forwarding
20: eNodeB GTP-U interface for UL data forwarding
21: RNC GTP-U interface for data forwarding
22: SGSN GTP-U interface for data forwarding
23: SGW GTP-U interface for DL data forwarding
24: Sm MBMS GW GTP-C interface
25: Sn MBMS GW GTP-C interface
26: Sm MME GTP-C interface
27: Sn SGSN GTP-C interface
28: SGW GTP-U interface for UL data forwarding
29: Sn SGSN GTP-U interface
Other values of \"Interface Type\" are spare and reserved for future use.
Octet 6 to 9 (TEID/GRE field) represent either a TEID or a GRE key. If both
IPv4 and IPv6 addresses are present in F-TEID IE, then the TEID value shall be
shared by both addresses.
Octets \"m to (m+3)\" and/or \"p to (p+15)\" (IPv4 address / IPv6 address
fields), if present, contain respective address values.
## 8.23 TMSI
The TMSI, unambiguously associated with a given UE and Location area, is given
by:
|  | Bits |  |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---|---  
| Octets | 8 | 7 | 6 | 5 | 4 | 3 | 2 | 1 |   
| 1 | Type = 88 (decimal) |  |  |  |  |  |  |  |   
| 2 to 3 | Length = n |  |  |  |  |  |  |  |   
| 4 | Spare | Instance |  |  |  |  |  |  |   
| 5 to (n+4) | TMSI The TMSI is defined in 3GPP TS 23.003 [2]. |  |  |  |  |  |  |  |   
Figure 8.23-1: TMSI
## 8.24 Global CN-Id
The Global CN-Id is coded as depicted in Figure 8.24-1.
|  | Bits |  |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---|---  
| Octets | 8 | 7 | 6 | 5 | 4 | 3 | 2 | 1 |   
| 1 | Type = 89 (decimal) |  |  |  |  |  |  |  |   
| 2 to 3 | Length = n |  |  |  |  |  |  |  |   
| 4 | Spare | Instance |  |  |  |  |  |  |   
| 5 | MCC digit 2 | MCC digit 1 |  |  |  |  |  |  |   
| 6 | MNC digit 3 | MCC digit 3 |  |  |  |  |  |  |   
| 7 | MNC digit 2 | MNC digit 1 |  |  |  |  |  |  |   
| 8 to (n+4) | CN-Id The CN-Id is defined in 3GPP TS 23.003 [2]. |  |  |  |  |  |  |  |   
Figure 8.24-1: Global CN-Id
If an Administration decides to include only two digits in the MNC, then bits
5 to 8 of octet 6 are coded as \"1111\".
## 8.25 S103 PDN Data Forwarding Info (S103PDF)
The HSGW Address and GRE Key identify a GRE Tunnel towards a HSGW over S103
interface for a specific PDN connection of the UE. The EPS Bearer IDs specify
the EPS Bearers which require data forwarding that belonging to this PDN
connection. The number of EPS bearer Ids included is specified by the value of
EPS Bearer ID Number.
The spare bits indicate unused bits, which shall be set to 0 by the sending
side and which shall not be evaluated by the receiving side.
* * *
                          Bits                                                                             
     Octets               8                                        7               6   5   4   3   2   1   
     1                    Type = 90 (decimal)                                                              
     2 to 3               Length = n                                                                       
     4                    Spare                                    Instance                                
     5                    HSGW Address for forwarding Length = m                                           
     6 to (m+5)           HSGW Address for forwarding \[4..16\]                                            
     (m+6)- to (m+9)      GRE Key                                                                          
     (m+10)               EPS Bearer ID Number = k                                                         
     (m+11) to (m+10+k)   Spare                                    EPS Bearer ID
* * *
Figure 8.25-1: S103 PDN Data Forwarding Info
## 8.26 S1-U Data Forwarding (S1UDF)
The Serving GW Address and Serving GW S1-U TEID consist the S1-U Tunnel
information allocated by the Serving GW for an EPS Bearer identified by the
EPS Bearer ID which requires data forwarding during active handover from
E-UTRAN Access to cdma2000 HRPD Access.
The spare bits indicate unused bits, which shall be set to 0 by the sending
side and which shall not be evaluated by the receiving side.
* * *
                       Bits                                                                    
     Octets            8                               7               6   5   4   3   2   1   
     1                 Type = 91 (decimal)                                                     
     2 to 3            Length = n                                                              
     4                 Spare                           Instance                                
     5                 Spare                           EPS Bearer ID                           
     6                 Serving GW Address Length = m                                           
     7 to (m+6)        Serving GW Address \[4..16\]                                            
     (m+7) to (m+10)   Serving GW S1-U TEID
* * *
Figure 8.26-1: S1-U Data Forwarding Info
## 8.27 Delay Value
Delay Value is coded as depicted in Figure 8.27-1.
* * *
                  Bits                                                                                            
     Octets       8                                                            7          6   5   4   3   2   1   
     1            Type = 92 (decimal)                                                                             
     2 to 3       Length = n                                                                                      
     4            Spare                                                        Instance                           
     5            Delay Value in integer multiples of 50 millisecs, or zero                                       
     6 to (n+4)   These octet(s) is/are present only if explicitly specified
* * *
Figure 8.27-1: Delay Value
Delay Value is set to zero in order to clear a previously set delay condition.
## 8.28 Bearer Context
Bearer Context is a grouped IE containing a number of other IEs. Which of
those IEs are mandatory, optional or conditional and the conditions that apply
are GTP message specific, and described in the corresponding subclause under
clause 7.
Bearer Context may be repeated within a message with exactly the same Type and
Instance values to represent a list of Bearer Contexts.
Bearer Context is coded as depicted in Table 8.28-1.
Table 8.28-1: Bearer Context Grouped Type
* * *
Octet 1 Bearer Context IE Type = 93 (decimal)  
Octets 2 and 3 Length = n  
Octet 4 Spare and Instance fields  
Information elements P Condition / Comment IE Type Ins.
NOTE: This table uses a 5-column format in order to match the format used in
subclauses of clause 7, where the usage of this IE is further detailed for
each specific GTP message including it.
* * *
## 8.29 Charging ID
The Charging ID is coded as depicted in Figure 8.29-1. It is defined in 3GPP
TS 32.251[8].
* * *
               Bits                                                                                            
     Octets    8                                                            7          6   5   4   3   2   1   
     1         Type = 94 (decimal)                                                                             
     2 to 3    Length = 4                                                                                      
     4         Spare                                                        Instance                           
     5-8       Charging ID value                                                                               
     9-(n+4)   These octet(s) is/are present only if explicitly specified
* * *
Figure 8.29-1: Charging ID
## 8.30 Charging Characteristics
The charging characteristics information element is defined in 3GPP TS 32.251
[8] and is a way of informing both the SGW and PGW of the rules for producing
charging information based on operator configured triggers. For the encoding
of this information element see 3GPP TS 32.298 [9].
* * *
                  Bits                                                                                            
     Octets       8                                                            7          6   5   4   3   2   1   
     1            Type = 95 (decimal)                                                                             
     2 to 3       Length = n                                                                                      
     4            Spare                                                        Instance                           
     5 to 6       Charging Characteristics value                                                                  
     7 to (n+4)   These octet(s) is/are present only if explicitly specified
* * *
Figure 8.30-1: Charging Characteristics
## 8.31 Trace Information
Trace Information is coded as depicted in Figure 8.31-1. See 3GPP TS 32.422
[18] for details on trace related information.
* * *
                   Bits                                                                          
     Octets        8                                       7             6   5   4   3   2   1   
     1             Type = 96(decimal)                                                            
     2 to 3        Length = n                                                                    
     4             Spare                                   Instance                              
     5             MCC digit 2                             MCC digit 1                           
     6             MNC digit 3                             MCC digit 3                           
     7             MNC digit 2                             MNC digit 1                           
     8 to10        Trace ID                                                                      
     11 to 19      Triggering Events                                                             
     20 to 21      List of NE Types                                                              
     22            Session Trace Depth                                                           
     23 to 34      List of Interfaces                                                            
     35 to (n+4)   IP Address of Trace Collection Entity
* * *
Figure 8.31-1: Trace Information
Octets 5 to 10 represent the Trace Reference parameter as defined in 3GPP TS
32.422 [18], clause 5.6.
Triggering Events, List of NE Types, Session Trace Depth and List of
Interfaces are specified in 3GPP TS 32.422 [18]
See 3GPP TS 24.008 [5], clause 10.5.1.4, Mobile Identity, for the coding of
MCC and MNC, whose values are obtained from the serving PLMN that the EM/NM is
managing. If MNC is 2 digits long, bits 5 to 8 of octet 6 are coded as
\"1111\".
## 8.32 Bearer Flags
Bearer Flags is coded as depicted in Figure 8.32-1.
* * *
               Bits                                                                                                      
     Octets    8                                                            7          6          5    4     3   2   1   
     1         Type = 97 (decimal)                                                                                       
     2 to 3    Length = n                                                                                                
     4         Spare                                                        Instance                                     
     5         Spare                                                        ASI        Reserved   VB   PPC               
     6-(n+4)   These octet(s) is/are present only if explicitly specified
* * *
Figure 8.32-1: Bearer Flags
The following bits within Octet 5 indicate:
\- Bit 1 -- PPC (Prohibit Payload Compression): This flag is used to determine
whether an SGSN should attempt to compress the payload of user data when the
users asks for it to be compressed (PPC = 0), or not (PPC = 1).
\- Bit 2 -- VB (Voice Bearer): This flag is used to indicate a voice bearer
when doing PS-to-CS SRVCC handover.
\- Bit 3 -- Reserved.
\- Bit 4 -- ASI (Activity Status Indicator): When set to 1, this flag
indicates that the bearer context is preserved in the CN without corresponding
Radio Access Bearer established. The target S4-SGSN should keep the bearer
context associated with this indicator preserved. When the target S4-SGSN
sends Relocation Request message towards the target RNC, the target S4-SGSN
may not request to setup the RABs for those bearer contexts associated with
this indicator.
## 8.33 (void)
## 8.34 PDN Type
The PDN Type is coded as depicted in Figure 8.34-1.
* * *
                 Bits                                                                                            
     Octets      8                                                            7          6   5   4   3   2   1   
     1           Type = 99 (decimal)                                                                             
     2 to 3      Length = n                                                                                      
     4           Spare                                                        Instance                           
     5           Spare                                                        PDN Type                           
     6 to n+4)   These octet(s) is/are present only if explicitly specified
* * *
Figure 8.34-1: PDN Type
Table 8.34-1: PDN Type
* * *
PDN type value (octet 5)  
Bits  
3 2 1  
0 0 1 IPv4 0 1 0 IPv6 0 1 1 IPv4v6
Bits 8-4 of octet 5 are spare and shall be coded as zero.
* * *
## 8.35 Procedure Transaction ID (PTI)
Procedure Transaction Id is coded as depicted in Figure 8.35-1. It is defined
in 3GPP TS 24.301 [23], clause 9.4 and is coded as specified in 3GPP TS 24.007
[30], clause 11.2.3.1a Procedure transaction identity.
* * *
                  Bits                                                                                            
     Octets       8                                                            7          6   5   4   3   2   1   
     1            Type = 100 (decimal)                                                                            
     2 to 3       Length = n                                                                                      
     4            Spare                                                        Instance                           
     5            Procedure Transaction ID                                                                        
     6 to (n+4)   These octet(s) is/are present only if explicitly specified
* * *
Figure 8.35-1: Procedure Transaction ID
## 8.36 DRX Parameter
DRX Parameter indicates whether the UE use DRX mode or not, this parameter is
coded as depicted in Figure 839-1.
* * *
                  Bits                                                      
     Octets       8                      7          6   5   4   3   2   1   
     1            Type = 101 (decimal)                                      
     2 to 3       Length = n                                                
     4            Spare                  Instance                           
     5 to (n+4)   DRX Parameter
* * *
Figure 8.36-1: DRX Parameter
## 8.37 UE Network Capability
UE Network Capability is coded as depicted in Figure 8.37-1. Actual coding of
the UE Network Capability field is defined in 3GPP TS 24.301 [23].
* * *
                  Bits                                                       
     Octets       8                       7          6   5   4   3   2   1   
     1            Type = 102 (decimal)                                       
     2 to 3       Length = n                                                 
     4            Spare                   Instance                           
     5 to (n+4)   UE Network Capability
* * *
Figure 8.37-1: UE Network Capability
## 8.38 MM Context
The MM Context information element contains the Mobility Management, UE
security parameters that are necessary to transfer over S3/S16/S10 interface.
All Spare bits are set to zeros by the sender and ignored by the receiver.
Spare bits in MM Context IE shall be set to 1\'s before sending MM Context IE
to pre-R8 SGSN.
Security Mode indicates the type of security keys (GSM/UMTS/EPS) and
Authentication Vectors (quadruplets /quintuplets/triplets) that are passed to
the new MME/SGSN.
The DRX parameter coding is specified in clause 10.5.5.6 of 3GPP TS 24.008
[5]. If DRXI (DRX Indicator), bit 4 of octet 5, is set to \"1\", then the DRX
parameter field is present, otherwise its octets are not present.
Uplink/downlink Subscribed UE AMBR (Aggregate Maximum Bit Rate) is coded as
Unsigned32 integer values in kbps (1000 bps) for all non-GBR bearers according
to the subscription of the user. If SAMBRI (Subscribed UE AMBR Indicator), bit
1 of octet 6, is set to \"1\", then the Uplink/downlink Subscribed UE AMBR
parameter field is present, otherwise these parameters are not present. If no
Subscribed UE AMBR is received from the HSS, the SAMBRI shall be set to \"0\".
Uplink/downlink Used UE AMBR (Aggregate Maximum Bit Rate) is coded as
Unsigned32 integer values in kbps (1000 bps) for all non-GBR bearers currently
being used by the UE. If UAMBRI (Used UE AMBR Indicator), bit 2 of octet 6, is
set to \"1\", then the Uplink/downlink Used UE AMBR parameter field is
present, otherwise these parameters are not present.
The encoding of Mobile Equipment Identity (MEI) field shall be same as
specified in clause 8.10 of this specification. If Length of Mobile Equipment
Identity is zero, then the Mobile Equipment Identity parameter shall not be
present. If the UE is emergency attached and the UE is UICCless or the IMSI is
unauthenticated, Mobile Equipment Identity (MEI) shall be used as the UE
identity.
The UE Network Capability coding is specified in clause 9.9.3.34 of 3GPP TS
24.301 [23]. If Length of UE Network Capability is zero, then the UE Network
Capability parameter shall not be present.
The MS Network Capability coding is specified in clause 10.5.5.12 of 3GPP TS
24.008 [5]. If Length of MS Network Caapability is zero, then the MS Network
Capability parameter shall not be present.
The Voice Domain Preference and UE\'s Usage Setting coding is specified in
clause 10.5.5.28 of 3GPP TS 24.008 [5]. If Length of Voice Domain Preference
and UE\'s Usage Setting is zero, then the Voice Domain Preference and UE\'s
Usage Setting parameter shall not be present.
Used Cipher indicates the GSM ciphering algorithm that is in use.
Used NAS Cipher indicates the EPS ciphering algorithm that is in use.
The Access restriction data is composed of UNA(UTRAN Not Allowed), GENA(GERAN
Not Allowed), GANA(GAN Not Allowed), INA(I-HSPA-Evolution Not Allowed),
ENA(E-UTRAN Not Allowed) and HNNA(HO-To-Non-3GPP-Access Not Allowed).
If the SGSN supports the Higher bitrates than 16 Mbps flag, the Higher
bitrates than 16 Mbps flag shall be included in the MM Context if:
\- the source S4-SGSN has received \"Higher bitrates than 16 Mbps flag\" in
the RANAP Initial UE Message or in RANAP Relocation Complete as defined in TS
25.413 [33] from the RNC, or
\- the source S4-SGSN has stored the \"Higher bitrates than 16 Mbps flag\"
(received from an SGSN via the Identification Response, Context Response or
Forward Relocation Request during earlier procedures).
The S4-SGSN shall set the \"Higher bitrates than 16 Mbps flag\" to \"1\" if
\"Higher bitrates than 16 Mbps flag\" is \"allowed\" and to \"0\" if it is
\"not allowed\". The Length of Higher bitrates than 16 Mbps flag shall be set
to zero if the S4-SGSN has not received the \"Higher bitrates than 16 Mbps
flag\".
As depicted in Figure 8.38-1, the GSM Key, Used Cipher and Authentication
Triplets that are unused in the old SGSN shall be transmitted to the new SGSN
for the GSM subscribers.
The Authentication Triplet coding is specified in Figure 8.38-7.
* * *
                      Bits                                                                                                                 
     Octets           8                                                            7             6        5        4      3      2     1   
     1                Type = 103 (decimal)                                                                                                 
     2 to 3           Length = n                                                                                                           
     4                Spare                                                        Instance                                                
     5                Security Mode                                                Spare         DRXI     CKSN                             
     6                Number of Triplet                                            Spare         UAMBRI   SAMBRI                           
     7                Spare                                                        Used Cipher                                             
     8 to 15          Kc                                                                                                                   
     16 to h          Authentication Triplet \[0..4\]                                                                                      
     (h+1) to (h+2)   DRX parameter                                                                                                        
     j to (j+3)       Uplink Subscribed UE AMBR                                                                                            
     (j+4) to (j+7)   Downlink Subscribed UE AMBR                                                                                          
     i to (i+3)       Uplink Used UE AMBR                                                                                                  
     (i+4) to (i+7)   Downlink Used UE AMBR                                                                                                
     q                Length of UE Network Capability                                                                                      
     (q+1) to k       UE Network Capability                                                                                                
     k+1              Length of MS Network Capability                                                                                      
     (k+2) to m       MS Network Capability                                                                                                
     m+1              Length of Mobile Equipment Identity (MEI)                                                                            
     (m+2) to r       Mobile Equipment Identity (MEI)                                                                                      
     r+1              Spare                                                        HNNA          ENA      INA      GANA   GENA   UNA       
     r+2              Length of Voice Domain Preference and UE\'s Usage Setting                                                            
     (r+3) to s       Voice Domain Preference and UE\'s Usage Setting                                                                      
     (s+1) to (n+4)   These octet(s) is/are present only if explicitly specified
* * *
Figure 8.38-1: GSM Key and Triplets
As depicted in Figure 8.38-2, the UMTS Key, Used Cipher and Authentication
Quintuplets that are unused in the old SGSN shall be transmitted to the new
SGSN when the UMTS subscriber is attached to a GSM BSS in the old system, in
case the user has a ME capable of UMTS AKA.
The Authentication Quintuplet coding is specified in Figure 8.38-8.
* * *
                       Bits                                                                                                                   
     Octets            8                                                            7             6        5          4      3      2     1   
     1                 Type = 104 (decimal)                                                                                                   
     2 to 3            Length = n                                                                                                             
     4                 Spare                                                        Instance                                                  
     5                 Security Mode                                                Spare         DRXI     CKSN/KSI                           
     6                 Number of Quintuplets                                        Spare         UAMBRI   SAMBRI                             
     7                 Spare                                                        Used Cipher                                               
     8 to 23           CK                                                                                                                     
     24 to 39          IK                                                                                                                     
     40 to h           Authentication Quintuplet \[0..4\]                                                                                     
     (h+1) to (h+2)    DRX parameter                                                                                                          
     j to (j+3)        Uplink Subscribed UE AMBR                                                                                              
     (j+4) to (j+7)    Downlink Subscribed UE AMBR                                                                                            
     i to (i+3)        Uplink Used UE AMBR                                                                                                    
     (j+12) to (i+4)   Downlink Used UE AMBR                                                                                                  
     q                 Length of UE Network Capability                                                                                        
     (q+1) to k        UE Network Capability                                                                                                  
     k+1               Length of MS Network Capability                                                                                        
     (k+2) to m        MS Network Capability                                                                                                  
     m+1               Length of Mobile Equipment Identity (MEI)                                                                              
     (m+2) to r        Mobile Equipment Identity (MEI)                                                                                        
     r+1               Spare                                                        HNNA          ENA      INA        GANA   GENA   UNA       
     r+2               Length of Voice Domain Preference and UE\'s Usage Setting                                                              
     (r+3) to s        Voice Domain Preference and UE\'s Usage Setting                                                                        
     s+1               Length of Higher bitrates than 16 Mbps flag                                                                            
     s+2               Higher bitrates than 16 Mbps flag                                                                                      
     (s+3) to (n+4)    These octet(s) is/are present only if explicitly specified
* * *
Figure 8.38-2: UMTS Key, Used Cipher and Quintuplets
As depicted in Figure 8.38-3, the GSM Key, Used Cipher and Authentication
Quintuplets that are unused in the old SGSN shall be transmitted to the new
SGSN when the UMTS subscriber is attached to a GSM BSS in the old system, in
case the user has a ME no capable of UMTS AKA.
The Authentication Quintuplet coding is specified in Figure 8.38-8.
* * *
                      Bits                                                                                                                   
     Octets           8                                                            7             6        5          4      3      2     1   
     1                Type = 105 (decimal)                                                                                                   
     2 to 3           Length = n                                                                                                             
     4                Spare                                                        Instance                                                  
     5                Security Mode                                                Spare         DRXI     CKSN/KSI                           
     6                Number of Quintuplets                                        Spare         UAMBRI   SAMBRI                             
     7                Spare                                                        Used Cipher                                               
     8 to 15          Kc                                                                                                                     
     16 to h          Authentication Quintuplets \[0..4\]                                                                                    
     (h+1) to (h+2)   DRX parameter                                                                                                          
     j to (j+3)       Uplink Subscribed UE AMBR                                                                                              
     (j+4) to (j+7)   Downlink Subscribed UE AMBR                                                                                            
     i to (i+3)       Uplink Used UE AMBR                                                                                                    
     (i+4) to (i+7)   Downlink Used UE AMBR                                                                                                  
     q                Length of UE Network Capability                                                                                        
     (q+1) to k       UE Network Capability                                                                                                  
     k+1              Length of MS Network Capability                                                                                        
     (k+2) to m       MS Network Capability                                                                                                  
     m+1              Length of Mobile Equipment Identity (MEI)                                                                              
     (m+2) to r       Mobile Equipment Identity (MEI)                                                                                        
     r+1              Spare                                                        HNNA          ENA      INA        GANA   GENA   UNA       
     r+2              Length of Voice Domain Preference and UE\'s Usage Setting                                                              
     (r+3) to s       Voice Domain Preference and UE\'s Usage Setting                                                                        
     s+1              Length of Higher bitrates than 16 Mbps flag                                                                            
     s+2              Higher bitrates than 16 Mbps flag                                                                                      
     (s+3) to (n+4)   These octet(s) is/are present only if explicitly specified
* * *
Figure 8.38-3: GSM Key, Used Cipher and Quintuplets
As depicted in Figure 8.38-4, the UMTS Key, KSI and unused Authentication
Quintuplets in the old SGSN may be transmitted to the new SGSN/MME when the
UMTS subscriber is attached to UTRAN/GERAN in the old system, but it is not
allowed to send quintuplets to an MME in a different serving network domain
(see 3GPP TS 33.401 [12] clause 6.1.6). The MME may forward the UMTS Key, KSI
and unused Authentication Quintuplets which were previously stored back to the
same SGSN, for further details, refer to 3GPP TS 33.401 [12].
The Authentication Quintuplet coding is specified in Figure 8.38-8.
* * *
                      Bits                                                                                                              
     Octets           8                                                            7          6        5        4      3      2     1   
     1                Type = 106 (decimal)                                                                                              
     2 to 3           Length = n                                                                                                        
     4                Spare                                                        Instance                                             
     5                Security Mode                                                Spare      DRXI     KSI                              
     6                Number of Quintuplets                                        Spare      UAMBRI   SAMBRI                           
     7                Spare                                                                                                             
     8 to 23          CK                                                                                                                
     24 to 39         IK                                                                                                                
     40 to h          Authentication Quintuplet \[0..4\]                                                                                
     (h+1) to (h+2)   DRX parameter                                                                                                     
     j to (j+3)       Uplink Subscribed UE AMBR                                                                                         
     (j+4) to (j+7)   Downlink Subscribed UE AMBR                                                                                       
     i to (i+3)       Uplink Used UE AMBR                                                                                               
     (i+4) to (i+7)   Downlink Used UE AMBR                                                                                             
     q                Length of UE Network Capability                                                                                   
     (q+1) to k       UE Network Capability                                                                                             
     k+1              Length of MS Network Capability                                                                                   
     (k+2) to m       MS Network Capability                                                                                             
     m+1              Length of Mobile Equipment Identity (MEI)                                                                         
     (m+2) to r       Mobile Equipment Identity (MEI)                                                                                   
     r+1              Spare                                                        HNNA       ENA      INA      GANA   GENA   UNA       
     r+2              Length of Voice Domain Preference and UE\'s Usage Setting                                                         
     (r+3) to s       Voice Domain Preference and UE\'s Usage Setting                                                                   
     s+1              Length of Higher bitrates than 16 Mbps flag                                                                       
     s+2              Higher bitrates than 16 Mbps flag                                                                                 
     (s+3) to (n+4)   These octet(s) is/are present only if explicitly specified
* * *
Figure 8.38-4: UMTS Key and Quintuplets
As depicted in Figure 8.38-5, the current EPS Security Context, a non-current
EPS Security Context (if available), and unused Authentication Quadruplets in
the old MME may be transmitted to the new MME. If the new MME is not in the
same serving network domain then only the current EPS Security Context may be
transmitted. Authentication Quintuplets shall not be transmitted to the new
MME even if the old MME has the Authentication Quintuplets for this UE. The
value in Number of Quintuplets field shall be set to \'0\'. The reasons for
not sending Quintuplets are specified in3GPP TS 33.401 [12] clause 6.1.6.
The Authentication Quintuplet and Authentication Quadruplet codings are
specified in Figure 8.38-8 and Figure 8.38-9 respectively.
The value of the NAS Downlink Count shall be set to the value that shall be
used to send the next NAS message.
The value of the NAS Uplink Count shall be set to the largest NAS Uplink Count
that was in a successfully integrity verified NAS message.
In Figure 8.38-5, the fields for the Old EPS Security Context (i.e. octets
from s to s+64) may be present only in S10 Forward Relocation Request message
according to the Rules on Concurrent Running of Security Procedures, which are
specified in 3GPP TS 33.401 [12]. The octets for Old EPS Security Context
shall be present if the OSCI (Old Security Context Indicator), bit 1 of octet
6) is set to \"1\"; otherwise they shall not be present.
If NHI_old (Next Hop Indicator for old EPS Security Context), bit 1 of octet
s, is set to \"1\", then the parameters old NH (Next Hop) and old NCC (Next
Hop Chaining Count) shall be present; otherwise the octets for old NH
parameter shall not be present and the value of old NCC parameter shall be
ignored by the receiver.
* * *
                        Bits                                                                                                                                                         
     Octets             8                                                            7                                         6                 5           4      3      2     1   
     1                  Type = 107 (decimal)                                                                                                                                         
     2 to 3             Length = n                                                                                                                                                   
     4                  Spare                                                        Instance                                                                                        
     5                  Security Mode                                                NHI                                       DRXI              KSI~ASME~                           
     6                  Number of Quintuplets                                        Number of Quadruplet                      UAMBRI            OSCI                                
     7                  SAMBRI                                                       Used NAS integrity protection algorithm   Used NAS Cipher                                       
     8 to 10            NAS Downlink Count                                                                                                                                           
     11 to 13           NAS Uplink Count                                                                                                                                             
     14 to 45           K~ASME~                                                                                                                                                      
     46 to g            Authentication Quadruplet \[0..4\]                                                                                                                           
     (g+1) to h         Authentication Quintuplet \[0..4\]                                                                                                                           
     (h+1) to (h+2)     DRX parameter                                                                                                                                                
     p to (p+31)        NH                                                                                                                                                           
     p+32               Spare                                                        NCC                                                                                             
     j to (j+3)         Uplink Subscribed UE AMBR                                                                                                                                    
     (j+4) to (j+7)     Downlink Subscribed UE AMBR                                                                                                                                  
     i to (i+3)         Uplink Used UE AMBR                                                                                                                                          
     (i+4) to (i+7)     Downlink Used UE AMBR                                                                                                                                        
     q                  Length of UE Network Capability                                                                                                                              
     (q+1) to k         UE Network Capability                                                                                                                                        
     k+1                Length of MS Network Capability                                                                                                                              
     (k+2) to m         MS Network Capability                                                                                                                                        
     m+1                Length of Mobile Equipment Identity (MEI)                                                                                                                    
     (m+2) to r         Mobile Equipment Identity (MEI)                                                                                                                              
     r+1                Spare                                                        HNNA                                      ENA               INA         GANA   GENA   UNA       
     s                  NHI\_old                                                     Spare                                     old KSI~ASME~     old NCC                             
     (s+1) to (s+32)    old K~ASME~                                                                                                                                                  
     (s+33) to (s+64)   old NH                                                                                                                                                       
     s+65               Length of Voice Domain Preference and UE\'s Usage Setting                                                                                                    
     (s+66) to t        Voice Domain Preference and UE\'s Usage Setting                                                                                                              
     t to (n+4)         These octet(s) is/are present only if explicitly specified
* * *
Figure 8.38-5: EPS Security Context and Quadruplets
If NHI (Next Hop Indicator), bit 5 of octet 5, is set to \"1\", then the
optional parameters NH (Next Hop) and NCC (Next Hop Chaining Count) are both
present, otherwise their octets are not present.
As depicted in Figure 8.38-6, the old MME will derive CK\' and IK\' from
K~ASME~ and transmit the CK\' and IK\' to the new SGSN. Authentication
Quintuplets, if available, shall be transmitted to the SGSN if, and only if
the MME received them from this SGSN earlier, according to 3GPP TS 33.401 [12]
clause 6.1.5.
The value in Number of Quadruplets field shall be set to \'0\', if
Authentication Quadruplets are not present. A key K~ASME~ shall never be
transmitted to an SGSN according to 3GPP TS 33.401 [12] clause 6.4.
The Authentication Quintuplet and Authentication Quadruplet codings are
specified in Figure 8.38-8 and Figure 8.38-9 respectively.
The old SGSN/MME may deliver both Authentication Quadruplets and
Authentication Quintuplets it holds to the peer combo node to optimize the
procedure.
* * *
                      Bits                                                                                                                             
     Octets           8                                                            7                      6        5           4      3      2     1   
     1                Type = 108 (decimal)                                                                                                             
     2 to 3           Length = n                                                                                                                       
     4                Spare                                                        Instance                                                            
     5                Security Mode                                                Spare                  DRXI     KSI~ASME~                           
     6                Number of Quintuplets                                        Number of Quadruplet   UAMBRI   SAMBRI                              
     7                Spare                                                                                                                            
     8 to 23          CK                                                                                                                               
     24 to 39         IK                                                                                                                               
     40 to g          Authentication Quadruplet \[0..4\]                                                                                               
     (g+1) to h       Authentication Quintuplet \[0..4\]                                                                                               
     (h+1) to (h+2)   DRX parameter                                                                                                                    
     j to (j+3)       Uplink Subscribed UE AMBR                                                                                                        
     (j+4) to (j+7)   Downlink Subscribed UE AMBR                                                                                                      
     i to (i+3)       Uplink Used UE AMBR                                                                                                              
     (i+4) to (i+7)   Downlink Used UE AMBR                                                                                                            
     q                Length of UE Network Capability                                                                                                  
     (q+1) to k       UE Network Capability                                                                                                            
     k+1              Length of MS Network Capability                                                                                                  
     (k+2) to m       MS Network Capability                                                                                                            
     m+1              Length of Mobile Equipment Identity (MEI)                                                                                        
     (m+2) to r       Mobile Equipment Identity (MEI)                                                                                                  
     r+1              Spare                                                        HNNA                   ENA      INA         GANA   GENA   UNA       
     r+2              Length of Voice Domain Preference and UE\'s Usage Setting                                                                        
     (r+3) to s       Voice Domain Preference and UE\'s Usage Setting                                                                                  
     (s+1) to (n+4)   These octet(s) is/are present only if explicitly specified
* * *
Figure 8.38-6: UMTS Key, Quadruplets and Quintuplets
* * *
                Bits                               
     Octets     8      7   6   5   4   3   2   1   
     1 to 16    RAND                               
     17 to 20   SRES                               
     21 to 28   Kc
* * *
Figure 8.38-7: Authentication Triplet
* * *
                        Bits                                      
     Octets             8             7   6   5   4   3   2   1   
     1 to 16            RAND                                      
     17                 XRES Length                               
     18 to m            XRES                                      
     (m+1) to (m+16)    CK                                        
     (m+17) to (m+32)   IK                                        
     m+33               AUTN Length                               
     (m+34) to n        AUTN
* * *
Figure 8.38-8: Authentication Quintuplet
* * *
                       Bits                                      
     Octets            8             7   6   5   4   3   2   1   
     1 to 16           RAND                                      
     17                XRES Length                               
     18 to k           XRES                                      
     k+1               AUTN Length                               
     (k+2) to m        AUTN                                      
     (m+1) to (m+32)   K~ASME~
* * *
Figure 8.38-9: Authentication Quadruplet
Table 8.38-1: Security Mode Values
* * *
Security Type Value (Decimal) GSM Key and Triplets 0 UMTS Key, Used Cipher and
Quintuplets 1 GSM Key, Used Cipher and Quintuplets 2 UMTS Key and Quintuplets
3 EPS Security Context and Quadruplets 4 UMTS Key, Quadruplets and Quintuplets
5
* * *
Table 8.38-2: Used NAS Cipher Values
* * *
Cipher Algorithm Value (Decimal) No ciphering 0 128-EEA1 1 128-EEA2 2 EEA3 3
EEA4 4 EEA5 5 EEA6 6 EEA7 7
* * *
Table 8.38-3: Used Cipher Values
* * *
Cipher Algorithm Value (Decimal) No ciphering 0 GEA/1 1 GEA/2 2 GEA/3 3 GEA/4
4 GEA/5 5 GEA/6 6 GEA/7 7
* * *
Table 8.38-4: Used NAS integrity protection algorithm Values
* * *
Integrity protection Algorithm Value (Decimal) No integrity protection 0
128-EIA1 1 128-EIA2 2 EIA3 3 EIA4 4 EIA5 5 EIA6 6 EIA7 7
* * *
## 8.39 PDN Connection
The PDN connection is a grouped IE containing a number of other IEs and shall
be coded as depicted in Table 8.39-1.
The PDN Connection IE may be repeated within a message when more than one PDN
Connection is required to be sent. If so, the repeated IEs shall have exactly
the same Instance values to represent a list of grouped IEs.
Table 8.39-1: PDN Connection Grouped Type
* * *
Octet 1 PDN Connection IE Type = 109 (decimal)  
Octets 2 and 3 Length = n  
Octet 4 Spare and Instance fields  
Information elements P Condition / Comment IE Type Ins.
NOTE: This table uses a 5-column format in order to match the format used in
subclauses of clause 7, where the usage of this IE is further detailed for
each specific GTP message including it.
* * *
## 8.40 PDU Numbers
The PDU Numbers information element contains the sequence number status
corresponding to a Bearer context in the old SGSN. This information element
shall be sent only when acknowledged peer-to-peer LLC operation is used for
the Bearer context or when the \"delivery order\" QoS attribute is set in the
Bearer context QoS profile.
NSAPI identifies the Bearer context for which the PDU Number IE is intended.
DL GTP-U Sequence Number is the number for the next downlink GTP-U T-PDU to be
sent to the UE when \"delivery order\" is set.
UL GTP-U Sequence Number is the number for the next uplink GTP-U T-PDU to be
tunnelled to the S-GW when \"delivery order\" is set.
The Send N-PDU Number is used only when acknowledged peer-to-peer LLC
operation is used for the Bearer context. Send N-PDU Number is the N-PDU
number to be assigned by SNDCP to the next down link N-PDU received from the
S-GW.
The Receive N-PDU Number is used only when acknowledged peer-to-peer LLC
operation is used for the Bearer context. The Receive N-PDU Number is the
N-PDU number expected by SNDCP from the next up link N-PDU to be received from
the UE.
The PDU Number IE will be repeated for each Bearer Context for which this IE
is required.
PDU Numbers IE is coded as depicted in Figure 8.40-1.
  1. 
|  | Bits |  |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---|---  
  2. 
| Octets | 8 | 7 | 6 | 5 | 4 | 3 | 2 | 1 |   
  3. 
| 1 | Type = 110 (decimal) | 
  4. 
|  |  |  |  |  |  |   
  5. 
| 2 to 3 | Length = n | 
  6. 
|  |  |  |  |  |  |   
  7. 
| 4 | Spare | Instance | 
  8. 
|  |  |  |  |  |   
  9. 
| 5 | Spare(0 0 0 0) | NSAPI | 
  10. 
|  |  |  |  |  |   
  11. 
| 6-7 | DL GTP-U Sequence Number | 
  12. 
|  |  |  |  |  |  |   
  13. 
| 8-9 | UL GTP-U Sequence Number | 
  14. 
|  |  |  |  |  |  |   
  15. 
| 10-11 | Send N-PDU Number | 
  16. 
|  |  |  |  |  |  |   
  17. 
| 12-13 | Receive N-PDU Number | 
  18. 
|  |  |  |  |  |  |   
  19. 
| 14 to (n+4) | These octet(s) is/are present only if explicitly specified | 
  20. 
|  |  |  |  |  |  |   
Figure 8.40-1: PDU Numbers
## 8.41 Packet TMSI (P-TMSI)
The P-TMSI, unambiguously associated with a given UE and routeing area, is
given by:
|  | Bits |  |  |  |  |  |  |  |   
---|---|---|---|---|---|---|---|---|---|---  
| Octets | 8 | 7 | 6 | 5 | 4 | 3 | 2 | 1 |   
| 1 | Type = 111 (decimal) |  |  |  |  |  |  |  |   
| 2 to 3 | Length = n |  |  |  |  |  |  |  |   
| 4 | Spare | Instance |  |  |  |  |  |  |   
| 5 to (n+4) | Packet TMSI (P-TMSI) The P-TMSI is defined in 3GPP TS 23.003 [2]. |  |  |  |  |  |  |  |   
Figure 8.41-1: Packet TMSI (P-TMSI)
## 8.42 P-TMSI Signature
The content and the coding of the P-TMSI Signature information element are
defined in 3GPP TS 24.008 [5].
* * *
                  Bits                                                      
     Octets       8                      7          6   5   4   3   2   1   
     1            Type = 112 (decimal)                                      
     2 to 3       Length = n                                                
     4            Spare                  Instance                           
     5 to (n+4)   P-TMSI Signature
* * *
Figure 8.42-1: P-TMSI Signature
## 8.43 Hop Counter
Where Intra Domain Connection of RAN Nodes to Multiple CN Node is applied, the
Hop Counter may be used to prevent endless loops when relaying Identification
Request messages and Context Request messages. The maximum value is operator
specific and shall not be lower than 1.
* * *
                  Bits                                                                                            
     Octets       8                                                            7          6   5   4   3   2   1   
     1            Type = 113 (decimal)                                                                            
     2 to 3       Length = n                                                                                      
     4            Spare                                                        Instance                           
     5            Hop Counter                                                                                     
     6 to (n+4)   These octet(s) is/are present only if explicitly specified
* * *
Figure 8.43-1: Hop Counter
## 8.44 UE Time Zone
UE Time Zone is used to indicate the offset between universal time and local
time in steps of 15 minutes of where the UE currently resides. The \"Time
Zone\" field uses the same format as the \"Time Zone\" IE in 3GPP TS 24.008
[5].
UE Time Zone is coded as this is depicted in Figure 8.44-1. The value of the
Time Zone field represents the time zone adjusted for daylight saving time.
The value of the Daylight Saving Time field specifies the adjustment that has
been made.
The spare bits indicate unused bits, which shall be set to 0 by the sending
side and which shall not be evaluated by the receiving side.
* * *
                  Bits                                                                                                            
     Octets       8                                                            7                          6   5   4   3   2   1   
     1            Type = 114 (decimal)                                                                                            
     2 to 3       Length = n                                                                                                      
     4            Spare                                                        Instance                                           
     5            Time Zone                                                                                                       
     6            **Spare**                                                    **Daylight Saving Time**                           
     7 to (n+4)   These octet(s) is/are present only if explicitly specified
* * *
Figure 8.44-1: UE Time Zone
Table 8.44-2 Possible values for the \"Daylight Saving Time\" field and their
meanings.
* * *
Daylight Saving Time Value (binary)  
Bit 2 Bit 1 No adjustment for Daylight Saving Time 0 0 +1 hour adjustment for
Daylight Saving Time 0 1 +2 hours adjustment for Daylight Saving Time 1 0
Spare 1 1
* * *
## 8.45 Trace Reference
Trace Reference shall be coded as depicted in Figure 8.45-1. See 3GPP TS
32.422 [18], clause 5.6, for the definition of Trace Reference.
See 3GPP TS 24.008 [5], clause 10.5.1.4, Mobile Identity, for the coding of
MCC and MNC, whose values are obtained from the serving PLMN that the EM/NM is
managing. If MNC is 2 digits long, bits 5 to 8 of octet 6 are coded as
\"1111\".
* * *
              Bits                                                         
     Octets   8                      7             6   5   4   3   2   1   
     1        Type = 115 (decimal)                                         
     2 to 3   Length = 6                                                   
     4        Spare                  Instance                              
     5        MCC digit 2            MCC digit 1                           
     6        MNC digit 3            MCC digit 3                           
     7        MNC digit 2            MNC digit 1                           
     8 to10   Trace ID
* * *
Figure 8.45-1: Trace Reference
## 8.46 Complete Request Message
The Complete Request Message is coded as depicted in Figure 8.46-1.
* * *
                   Bits                                                               
     Octets        8                               7          6   5   4   3   2   1   
     1             Type = 116 (decimal)                                               
     2 to 3        Length = n                                                         
     4             Spare                           Instance                           
     5             Complete Request Message Type                                      
     6- to (n+4)   Complete Request Message
* * *
Figure 8.46-1: Complete Request Message
Complete Request Message type values are specified in Table 8.46-1.
Table 8.46-1: Complete Request Message type values and their meanings
+---------------------------------+--------------------+ | > Location Types | > Values (Decimal) | +---------------------------------+--------------------+ | Complete Attach Request Message | > 0 | +---------------------------------+--------------------+ | Complete TAU Request Message | > 1 | +---------------------------------+--------------------+ | \ | 2-255 | +---------------------------------+--------------------+
## 8.47 GUTI
The GUTI is coded as depicted in Figure 8.47-1.
* * *
                   Bits                                                         
     Octets        8                      7             6   5   4   3   2   1   
     1             Type = 117 (decimal)                                         
     2 to 3        Length = n                                                   
     4             Spare                  Instance                              
     5             MCC digit 2            MCC digit 1                           
     6             MNC digit 3            MCC digit 3                           
     7             MNC digit 2            MNC digit 1                           
     8 to 9        MME Group ID                                                 
     10            MME Code                                                     
     11 to (n+4)   M-TMSI
* * *
Figure 8.47-1: GUTI
If an Administration decides to include only two digits in the MNC, then bits
5 to 8 of octet 6 are coded as \"1111\".
## 8.48 Fully Qualified Container (F-Container)
Fully Qualified Container (F-TEID) is coded as depicted in Figure 8.48-1.
All Spare bits are set to zeros by the sender and ignored by the receiver. If
the F-Container field is constructed from the received container in the
message on the Iu-PS or S1-AP interface, the F-Container field shall be
encoded as the content part (excluding IE-ID, criticality, pad and length
part) of corresponding parameter.
* * *
                  Bits                                                            
     Octets       8                      7                6   5   4   3   2   1   
     1            Type = 118 (decimal)                                            
     2 to 3       Length = n                                                      
     4            Spare                  Instance                                 
     5            Spare                  Container Type                           
     6 to (n+4)   F-Container field
* * *
Figure 8.48-1: Full Qualified Container (F-Container)
The Container Type is coded as below:
\- If this field is set to 1, then the F-Container field presents the UTRAN
transparent container, which contains ASN.1/PER encoded binary value of a
transparent container parameter (e.g. \"Target RNC to Source RNC Transparent
Container\") as specified in 3GPP TS 25.413 [33].
\- If this field is set to 2, then the F-Container field presents the BSS
container, which contains the value part of the \"Source BSS to Target BSS
Transparent Container\" IE or the value part of the \"Target BSS to Source BSS
Transparent Container\" IE defined in 3GPP TS 48.018 [34], i.e. octets 3 to n,
excluding octet 1 (Element ID) and octet 2, 2a (Length).
\- If this field is set to 3, then the F-Container field presents the E-UTRAN
transparent container, which contains ASN.1/PER encoded binary value of a
transparent container parameter (e.g. \"Target eNB to Source eNB Transparent
Container\" as specified in 3GPP TS 36.413 [10].
The BSS Container IE in the Bearer Context IE in Forward Relocation Request
and Context Response messages is coded as depicted in Figure 8.48-2.
* * *
              Bits                                                                    
     Octets   8                       7       6                5    4     3   2   1   
     6        Spare                   PHX     SAPI             RP   PFI               
     a        Packet Flow ID                                                          
     b        SAPI                    Spare   Radio Priority                          
     c        XiD parameters length                                                   
     d to n   XiD parameters
* * *
**Figure 8.48-2: BSS Container**
The flags PFI, RP, SAPI and PHX in octet 6 indicate the corresponding type of
parameter (Packet FlowID, Radio Priority, SAPI and PS handover XID parameters)
shall be present in a respective field or not. If one of these flags is set to
\"0\", the corresponding field shall not be present at all. The Spare bit
shall be set to zero by the sender and ignored by the receiver.
If PFI flag is set, Packet Flow ID shall be present in Octet a.
If RP flag is set, Radio Priority shall be present in Octet b.
If SAPI flag is set, SAPI shall be present in Octet b.
If PHX flag is set:
  * XiD parameters length is present in Octet c.
  * XiD parameters are present in Octet d to n.
## 8.49 Fully Qualified Cause (F-Cause)
Fully Qualified Cause (F- Cause) is coded as depicted in Figure 8.49-1.
* * *
                  Bits                                                        
     Octets       8                      7            6   5   4   3   2   1   
     1            Type = 119 (decimal)                                        
     2 to 3       Length = n                                                  
     4            Spare                  Instance                             
     5            Spare                  Cause Type                           
     6 to (n+4)   F-Cause field
* * *
Figure 8.49-1: Full Qualified Cause (F-Cause)
The value of Instance field of the F-Cause IE in a GTPv2 message shall
indicate whether the F-Cause field contains RANAP Cause, BSSGP Cause or RAN
Cause. If the F-Cause field contains RAN Cause, the Cause Type field shall
contain the RAN cause subcategory as specified in 3GPP TS 36.413 [10] and it
shall be encoded as in Table 8.49-1. If the F-Cause field contains BSSGP Cause
or RANAP Cause, the Cause Type field shall be ignored by the receiver.
All spare bits shall be set to zeros by the sender and ignored by the
receiver.
F-Cause field is coded as follows:
\- For RANAP Cause, the F-Cause field contains the cause as defined in clause
9.2.1.4 in 3GPP TS 25.413 [33]. The value of F-Cause field (which has a range
of 1..512) is transferred over the Iu interface and encoded into two octet as
binary integer.
\- For BSSGP Cause, the F-Cause field contains the cause as defined in clause
11.3.8 in 3GPP TS 48.018 [34]. The value of F-Cause field (which has a range
of 0..255) is transferred over the Gb interface and encoded into one octet as
binary integer.
\- For RAN Cause, the F-Cause field contains the cause as defined in clause
9.2.1.3 in 3GPP TS 36.413 [10]. The value of F-Cause field (and the associated
RAN cause subcategory) is transferred over the S1-AP interface and encoded
into one octet as binary integer.
Table 8.49-1: Cause Type values and their meanings
+---------------------+--------------------+ | > Cause Type | > Values (Decimal) | +---------------------+--------------------+ | Radio Network Layer | 0 | +---------------------+--------------------+ | Transport Layer | 1 | +---------------------+--------------------+ | NAS | 2 | +---------------------+--------------------+ | Protocol | 3 | +---------------------+--------------------+ | Miscellaneous | 4 | +---------------------+--------------------+ | \ | 5 to15 | +---------------------+--------------------+
## 8.50 Selected PLMN ID
The Selected PLMN ID IE contains the core network operator selected for tne UE
in a shared network. Octets 5-7 shall be encoded as the content part of the
\"Selected PLMN Identity\" parameter in 3GPP TS 36.413 [10].
* * *
                  Bits                                                      
     Octets       8                      7          6   5   4   3   2   1   
     1            Type = 120 (decimal)                                      
     2 to 3       Length = n                                                
     4            Spare                  Instance                           
     5 to (n+4)   Selected PLMN ID
* * *
Figure 8.50-1: Selected PLMN ID
## 8.51 Target Identification
The Target Identification information element is coded as depicted in Figure
8.51-1.
* * *
                  Bits                                                      
     Octets       8                      7          6   5   4   3   2   1   
     1            Type = 121 (decimal)                                      
     2 to 3       Length = n                                                
     4            Spare                  Instance                           
     5            Target Type                                               
     6 to (n+4)   Target ID
* * *
Figure 8.51-1: Target Identification
Target Type values are specified in Table 8.51-1.
The Target Type is RNC ID for SRNS relocation procedure, handover to UTRAN and
RAN Information Relay towards UTRAN or GERAN operating in GERAN Iu mode. In
this case the \"Target ID\" field shall be encoded as specified in Figure
8.51-1a below. The ASN.1/PER encoding of the \"Target RNC-ID\" part of the
\"Target ID\" parameter is specified in 3GPP TS 25.413 [33]. The preamble of
the \"Target RNC-ID\" (numerical value of e.g. 0x20) shall not be included
into octets 6 to (n+4). Also, the optional \"iE-Extensions\" parameter shall
not be included into the GTP IE.
* * *
                  Bits                                                               
     Octets       8                            7             6   5   4   3   2   1   
     6            MCC digit 2                  MCC digit 1                           
     7            MNC digit 3                  MCC digit 3                           
     8            MNC digit 2                  MNC digit 1                           
     9 to 10      LAC                                                                
     11           RAC (see NOTE)                                                     
     12 to 13     RNC-ID                                                             
     a to (a+1)   Extended RNC-ID (optional)
* * *
Figure 8.51-1a: Target ID for Type RNC ID
If only two digits are included in the MNC, then bits 5 to 8 of octet 7 (MNC
digit 3) shall be coded as \"1111\".
The location area code (LAC) consists of 2 octets. Bit 8 of octet 9 is the
most significant bit and bit 1 of octet 10 is the least significant bit. The
coding of the location area code is the responsibility of each administration.
Coding using full hexadecimal representation shall be used.
The RNC-ID consists of 2 octets and contains 12 bits long value (see 3GPP TS
25.413 [7]). Bit 4 of octet 12 is the most significant bit and bit 1 of octet
13 is the least significant bit (bits 8 to 5 of octet 12 are set to 0). The
coding of the RNC-ID is the responsibility of each administration. Coding
using full hexadecimal representation shall be used.
If the optional Extended RNC-ID is not included, then the length variable
\'n\' = 8 and the overall length of the IE is 13 octets. Otherwise, \'n\' = 10
and the overall length of the IE is 15 octets.
NOTE: In the \"TargetRNC-ID\" ASN.1 type definition in 3GPP TS 25.413 [7] the
\"RAC\" parameter is marked as optional. RAC is however always available at an
SGSN/MME when it sends the RAC in e.g. a GTPv2 Forward Relocation Request
message.
If the optional Extended RNC-ID is included, then the receiver shall ignore
the RNC-ID (see 3GPP TS 25.413 [7]).
The Target Type is Macro eNodeB ID for handover to E-UTRAN Macro eNodeB and
RAN Information Relay towards E-UTRAN. In this case the coding of the Target
ID field shall be coded as depicted in Figure 8.51-2.
* * *
                Bits                                                                 
     Octets     8                          7                 6   5   4   3   2   1   
     6          MCC digit 2                MCC digit 1                               
     7          MNC digit 3                MCC digit 3                               
     8          MNC digit 2                MNC digit 1                               
     9          Spare                      Macro eNodeB ID                           
     10 to 11   Macro eNodeB ID                                                      
     12 to 13   Tracking Area Code (TAC)
* * *
Figure 8.51-2: Target ID for Type Macro eNodeB
The Macro eNodeB ID consists of 20 bits. Bit 4 of Octet 9 is the most
significant bit and bit 1 of Octet 11 is the least significant bit. The coding
of the Macro eNodeB ID is the responsibility of each administration. Coding
using full hexadecimal representation shall be used.
The Target Type is Home eNodeB ID for handover to E-UTRAN Home eNodeB. In this
case the coding of the Target ID field shall be coded as depicted in Figure
8.51-3.
* * *
                Bits                                                                
     Octets     8                          7                6   5   4   3   2   1   
     6          MCC digit 2                MCC digit 1                              
     7          MNC digit 3                MCC digit 3                              
     8          MNC digit 2                MNC digit 1                              
     9          Spare                      Home eNodeB ID                           
     10 to 12   Home eNodeB ID                                                      
     13 to 14   Tracking Area Code (TAC)
* * *
Figure 8.51-3: Target ID for Type Home eNodeB
The Home eNodeB ID consists of 28 bits. See 3GPP TS 36.413 [10]. Bit 4 of
Octet 9 is the most significant bit and bit 1 of Octet 12 is the least
significant bit. The coding of the Home eNodeB ID is the responsibility of
each administration. Coding using full hexadecimal representation shall be
used.
The Target Type is Cell Identifier for E-UTRAN handover to GERAN and RAN
Information Relay towards GERAN. In this case the coding of the Target ID
field shall be same as the Octets 3 to 10 of the Cell Identifier IEI in 3GPP
TS 48.018 [34].
Table 8.51-1: Target Type values and their meanings
+-----------------+--------------------+ | > Target Types | > Values (Decimal) | +-----------------+--------------------+ | RNC ID | 0 | +-----------------+--------------------+ | Macro eNodeB ID | 1 | +-----------------+--------------------+ | Cell Identifier | 2 | +-----------------+--------------------+ | Home eNodeB ID | 3 | +-----------------+--------------------+ | \ | 4 to 255 | +-----------------+--------------------+
## 8.52 (void)
## 8.53 Packet Flow ID
The Packet Flow Id information element contains the packet flow identifier
assigned to an EPS Bearer context as identified by EPS Bearer ID.
The spare bits 8 to 5 in octet 5 indicate unused bits, which shall be set to 0
by the sending side and which shall not be evaluated by the receiving side.
* * *
                  Bits                                                      
     Octets       8                      7          6   5   4   3   2   1   
     1            Type = 123 (decimal)                                      
     2 to 3       Length = n                                                
     4            Spare                  Instance                           
     5            Spare                  EBI                                
     6 to (n+4)   Packet Flow ID
* * *
Figure 8.53-1: Packet Flow ID
## 8.54 RAB Context
The RAB Context shall be coded as is depicted in Figure 8.54-1.
* * *
                Bits                                                          
     Octets     8                          7          6   5   4   3   2   1   
     1          Type = 124 (decimal)                                          
     2 to 3     Length = 9                                                    
     4          Spare                      Instance                           
     5          Spare                      NSAPI                              
     6 to 7     DL GTP-U Sequence Number                                      
     8 to 9     UL GTP-U Sequence Number                                      
     10 to 11   DL PDCP Sequence Number                                       
     12 to 13   UL PDCP Sequence Number
* * *
Figure 8.54-1: RAB Context
The RAB Context IE may be repeated within a message with exactly the same Type
and Instance to represent a list.
The RAB context information element contains sequence number status for one
RAB in RNC, which corresponds to one PDP context. The RAB contexts are
transferred between the RNCs via the SGSNs at inter SGSN hard handover.
NSAPI identifies the PDP context and the associated RAB for which the RAB
context IE is intended.
DL GTP-U Sequence Number is the number for the next downlink GTP-U T-PDU to be
sent to the UE.
UL GTP-U Sequence Number is the number for the next uplink GTP-U T-PDU to be
tunnelled to the SGW.
DL PDCP Sequence Number is the number for the next downlink PDCP-PDU to be
sent to the UE.
UL PDCP Sequence Number is the number for the next uplink PDCP-PDU to be
received from the UE.
## 8.55 Source RNC PDCP context info
The purpose of the Source RNC PDCP context info IE is to transfer RNC PDCP
context information from a source RNC to a target RNC during an SRNS
relocation.
* * *
                  Bits                                                      
     Octets       8                      7          6   5   4   3   2   1   
     1            Type = 125 (decimal)                                      
     2 to 3       Length = n                                                
     4            Spare                  Instance                           
     5 to (n+4)   RRC Container
* * *
Figure 8.55-1: Source RNC PDCP context info
## 8.56 UDP Source Port Number
UDP Source Port Number is coded as depicted in Figure 8.56-1.
* * *
                  Bits                                                                                            
     Octets       8                                                            7          6   5   4   3   2   1   
     1            Type = 126 (decimal)                                                                            
     2 to 3       Length = n                                                                                      
     4            Spare                                                        Instance                           
     5 to 6       UDP Source Port Number                                                                          
     7 to (n+4)   These octet(s) is/are present only if explicitly specified
* * *
Figure 8.56-1: UDP Source Port Number
## 8.57 APN Restriction
The APN Restriction information element contains an unsigned integer value
indicating the level of restriction imposed on EPS Bearer Contexts created to
the associated APN.
The APN Restriction IE is coded as depicted in Figure 8.57-1:
* * *
                  Bits                                                                                            
     Octets       8                                                            7          6   5   4   3   2   1   
     1            Type = 127 (decimal)                                                                            
     2 to 3       Length = n                                                                                      
     4            Spare                                                        Instance                           
     5            Restriction Type value                                                                          
     6 to (n+4)   These octet(s) is/are present only if explicitly specified
* * *
Figure 8.57-1: APN Restriction Type Information Element
An APN Restriction value may be configured for each APN in the PGW. It is used
to determine, on a per UE basis, whether it is allowed to establish EPS
bearers to other APNs.
Table 8.57-1: Valid Combinations of APN Restriction
* * *
Maximum APN Restriction Value Type of APN Application Example APN Restriction
Value allowed to be established 0 No Existing Contexts or Restriction All  
1 Public-1 MMS 1, 2, 3 2 Public-2 Internet 1, 2 3 Private-1 Corporate (e.g.
who use MMS) 1 4 Private-2 Corporate (e.g. who do not use MMS) None
* * *
## 8.58 Selection Mode
The Selection mode information element indicates the origin of the APN in the
message.
* * *
                  Bits                                                                                               
     Octets       8                                                            7             6   5   4   3   2   1   
     1            Type = 128 (decimal)                                                                               
     2 to 3       Length = n                                                                                         
     4            Spare                                                        Instance                              
     5            Spare                                                        Selec. Mode                           
     6 to (n+4)   These octet(s) is/are present only if explicitly specified
* * *
Figure 8.58-1: Selection Mode Information Element
Table 8.58-1: Selection Mode Values
* * *
Selection mode value Value (Decimal) MS or network provided APN, subscribed
verified 0 MS provided APN, subscription not verified 1 Network provided APN,
subscription not verified 2 For future use. Shall not be sent. If received,
shall be interpreted as the value \"2\". 3
* * *
## 8.59 Source Identification
The Source Identification information element is coded as depicted in Figure
8.59-1.
* * *
                   Bits                                                      
     Octets        8                      7          6   5   4   3   2   1   
     1             Type = 129 (decimal)                                      
     2 to 3        Length = n                                                
     4             Spare                  Instance                           
     5 to 12       Target Cell ID                                            
     13            Source Type                                               
     14 to (n+4)   Source ID
* * *
Figure 8.59-1: Source Identification
The Target Cell ID shall be same as the Octets 3 to 10 of the Cell Identifier
IEI in 3GPP TS 48.018 [34].
Source Type values are specified in Table 8.59-1.
The Source Type is Cell ID for PS handover from GERAN A/Gb mode. In this case
the coding of the Source ID field shall be same as the Octets 3 to 10 of the
Cell Identifier IEI in 3GPP TS 48.018 [34].
The Source Type is RNC ID for PS handover from GERAN Iu mode or for inter-RAT
handover from UTRAN. In this case the Source ID field shall be encoded as the
Source RNC-ID part of the \"Source ID\" parameter in 3GPP TS 25.413 [33].
Therefore, ASN.1/PER encoded binary value of the \"Source RNC ID\" shall be
copied into octets 14 to (n+4).
Table 8.59-1: Source Type values and their meanings
+------------------------------------------------+--------------------+ | > Source Types | > Values (Decimal) | +------------------------------------------------+--------------------+ | Cell ID | 0 | +------------------------------------------------+--------------------+ | RNC ID | 1 | +------------------------------------------------+--------------------+ | reserved (NOTE) | 2 | +------------------------------------------------+--------------------+ | \ | 3-255 | +------------------------------------------------+--------------------+ | NOTE: This value was allocated in an earlier | | | version of the protocol and shall not be used. | | +------------------------------------------------+--------------------+
## 8.60 (void)
## 8.61 Change Reporting Action
Change Reporting Action IE is coded as depicted in Figure 8.61-1.
* * *
                  Bits                                                      
     Octets       8                      7          6   5   4   3   2   1   
     1            Type = 131 (decimal)                                      
     2 to 3       Length = n                                                
     4            Spare                  Instance                           
     5 to (n+4)   Action
* * *
Figure 8.61-1: Change Reporting Action
Table 8.61-1: Action values
* * *
Action Value (Decimal) Stop Reporting 0 Start Reporting CGI/SAI 1 Start
Reporting RAI 2 Start Reporting TAI 3 Start Reporting ECGI 4 Start Reporting
CGI/SAI and RAI 5 Start Reporting TAI and ECGI 6 \ 7-255
* * *
Stop Reporting stops all reporting action types.
## 8.62 Fully qualified PDN Connection Set Identifier (FQ-CSID)
A fully qualified PDN Connection Set Identifier (FQ-CSID) identifies a set of
PDN connections belonging to an arbitrary number of UEs on a MME, SGW or PGW.
The FQ-CSID is used on S5, S8 and S11 interfaces.
The size of CSID is two octets. The FQ-CSID is coded as follows:
* * *
                      Bits                                                                                                      
     Octets           8                                                            7                    6   5   4   3   2   1   
     1                Type = 132 (decimal)                                                                                      
     2 to -3          Length = n                                                                                                
     4                Spare                                                        Instance                                     
     5                Node-ID Type                                                 Number of CSIDs= m                           
     6 to p           Node-ID                                                                                                   
     (p+1) to (p+2)   First PDN Connection Set Identifier (CSID)                                                                
     (p+3) to (p+4)   Second PDN Connection Set Identifier (CSID)                                                               
     \...             \...                                                                                                      
     q to q+1         m-th PDN Connection Set Identifier (CSID)                                                                 
     (q+2) to (n+4)   These octet(s) is/are present only if explicitly specified
* * *
Figure 8.62-1: FQ-CSID
Where Node-ID Type values are:
0 indicates that Node-ID is a global unicast IPv4 address and p = 9.
1 indicates that Node-ID is a global unicast IPv6 address and p = 21.
2 indicates that Node-ID is a 4 octets long field with a 32 bit value stored
in network order, and p= 9. The coding of the field is specified below:
\- Most significant 20 bits are the binary encoded value of (MCC * 1000 \+
MNC).
\- Least significant 12 bits is a 12 bit integer assigned by an operator to an
MME, SGW or PGW. Other values of Node-ID Type are reserved.
Values of Number of CSID other than 1 are only employed in the Delete PDN
Connection Set Request and Response.
The node that creates the FQ-CSID, (i.e. MME for MME FQ-CSID, SGW for SGW FQ-
CSID, and PGW for PGW FQ‑CSID), is responsible for making sure the Node-ID is
globally unique and the CSID value is unique within that node.
When a FQ-CSID is stored by a receiving node, it is stored on a PDN basis even
for messages impacting only one bearer (i.e. Create Bearer Request). See 3GPP
TS 23.007 [17] for further details on the CSID and what specific requirements
are placed on the PGW, SGW and MME.
## 8.63 Channel needed
The Channel needed shall be coded as depicted in Figure 8.63-1. Channel needed
is coded as the IEI part and the value part of the Channel Needed IE defined
in 3GPP TS 44.018[28]
* * *
                  Bits                                                      
     Octets       8                      7          6   5   4   3   2   1   
     1            Type = 133 (decimal)                                      
     2 to 3       Length = n                                                
     4            Spare                  Instance                           
     5 to (n+4)   Channel Needed
* * *
Figure 8.63-1: Channel needed
## 8.64 eMLPP Priority
The eMLPP-Priority shall be coded as depicted in Figure 8.64-1. The eMLPP
Priority is coded as the value part of the eMLPP-Priority IE defined in 3GPP
TS 48.008 [29] (not including 3GPP TS 48.008 IEI and 3GPP TS 48.008 [29]
length indicator).
* * *
                  Bits                                                      
     Octets       8                      7          6   5   4   3   2   1   
     1            Type = 134 (decimal)                                      
     2 to 3       Length = n                                                
     4            Spare                  Instance                           
     5 to (n+4)   eMLPP-Priority
* * *
Figure 8.64-1: eMLPP Priority
## 8.65 Node Type
Node Type is coded as this is depicted in Figure 8.65-1.
* * *
               Bits                                                                                            
     Octets    8                                                            7          6   5   4   3   2   1   
     1         Type = 135 (decimal)                                                                            
     2-3       Length = 1 (decimal)                                                                            
     4         Spare                                                        Instance                           
     5         Node Type                                                                                       
     6-(n+4)   These octet(s) is/are present only if explicitly specified
* * *
Figure 8.65-1: Node Type
Node type values are specified in Table 8.65-1.
Table 8. 65-1: Node Type values
* * *
Node Types Values (Decimal) MME 0 SGSN 1 \ 2-255
* * *
## 8.66 Fully Qualified Domain Name (FQDN)
Fully Qualified Domain Name (FQDN) is coded as depicted in Figure 8.66-1.
* * *
                  Bits                                                      
     Octets       8                      7          6   5   4   3   2   1   
     1            Type = 136 (decimal)                                      
     2 to 3       Length = n                                                
     4            Spare                  Instance                           
     5 to (n+4)   FQDN
* * *
Figure 8.66-1: Fully Qualified Domain Name (FQDN)
The FQDN field encoding shall be identical to the encoding of a FQDN within a
DNS message of section 3.1 of IETF RFC 1035 [31] but excluding the trailing
zero byte.
NOTE 1: The FQDN field in the IE is not encoded as a dotted string as commonly
used in DNS master zone files.
A \"PGW node name\" IE in S3/S10/S16 GTP messages shall be a PGW host name as
per subclause 4.3.2 of 3GPP TS 29.303 [32] when the PGW FQDN IE is populated
from 3GPP TS 29.303 [32] procedures. Specifically, the first DNS label is
either \"topon\" or \"topoff\", and the canonical node name of the PGW starts
at the third label. The same rules apply to \"SGW node name\" IE on
S3/S10/S16.
NOTE 2: The constraint of subclause 4.3.2 of 3GPP TS 29.303 format is on
populating the IE by 3GPP nodes for 3GPP nodes, the receiver shall not reject
an IE that is otherwise correctly formatted since the IE might be populated
for a non-3GPP node.
## 8.67 Private Extension
Private Extension is coded as depicted in Figure 8.Figure 8.67-1.
Enterprise ID can be found at IANA web site
(http://www.iana.org/assignments/enterprise-numbers).
* * *
                  Bits                                                      
     Octets       8                      7          6   5   4   3   2   1   
     1            Type = 255 (decimal)                                      
     2 to 3       Length = n                                                
     4            Spare                  Instance                           
     5 to 6       Enterprise ID                                             
     7 to (n+4)   Proprietary value
* * *
Figure 8.67-1. Private Extension
## 8.68 Transaction Identifier (TI)
Transaction Identifier is coded as depicted in Figure 8.68-1. It is defined in
3GPP TS 24.301 [23], clause 9.9.4.17 and is coded as specified in 3GPP TS
24.007 [30], clause 11.2.3.1.3 Transaction identifier.
* * *
                  Bits                                                        
     Octets       8                        7          6   5   4   3   2   1   
     1            Type = 137 (decimal)                                        
     2 to 3       Length = n                                                  
     4            Spare                    Instance                           
     5 to (n+4)   Transaction Identifier
* * *
Figure 8.68-1: Transaction Identifier
## 8.69 MBMS Session Duration
The MBMS Session Duration is defined in 3GPP TS 23.246 [37]. The MBMS Session
Duration information element indicates the estimated session duration of the
MBMS service data transmission if available. The payload shall be encoded as
per the MBMS‑Session‑Duration AVP defined in 3GPP TS 29.061 [38], excluding
the AVP Header fields (as defined in IETF RFC 3588 [39], section 4.1).
* * *
                  Bits                                                                                            
     Octets       8                                                            7          6   5   4   3   2   1   
     1            Type = 138 (decimal)                                                                            
     2 to 3       Length = n                                                                                      
     4            Spare                                                        Instance                           
     5 to 7       MBMS Session Duration                                                                           
     8 to (n+4)   These octet(s) is/are present only if explicitly specified
* * *
Figure 8.69-1: MBMS Session Duration
## 8.70 MBMS Service Area
The MBMS Service Area is defined in 3GPP TS 23.246 [37]. The MBMS Service Area
information element indicates the area over which the Multimedia Broadcast
Multicast Service is to be distributed. The payload shall be encoded as per
the MBMS‑Service‑Area AVP defined in 3GPP TS 29.061 [38], excluding the AVP
Header fields (as defined in IETF RFC 3588 [39], section 4.1).
* * *
                  Bits                                                      
     Octets       8                      7          6   5   4   3   2   1   
     1            Type = 139 (decimal)                                      
     2 to 3       Length = n                                                
     4            Spare                  Instance                           
     5 to (n+4)   MBMS Service Area
* * *
Figure 8.70-1: MBMS Service Area
## 8.71 MBMS Session Identifier
The MBMS Session Identifier information element contains a Session Identifier
allocated by the BM-SC. The MBMS Session Identifier value part consists of 1
octet. The content and the coding are defined in 3GPP TS 29.061 [38].
* * *
                  Bits                                                                                            
     Octets       8                                                            7          6   5   4   3   2   1   
     1            Type = 140 (decimal)                                                                            
     2 to 3       Length = n                                                                                      
     4            Spare                                                        Instance                           
     5            MBMS Session Identifier                                                                         
     6 to (n+4)   These octet(s) is/are present only if explicitly specified
* * *
Figure 8.71-1: MBMS Session Identifier
## 8.72 MBMS Flow Identifier
The MBMS Flow Identifier is defined in 3GPP TS 23.246 [37]. In broadcast mode,
the MBMS Flow Identifier information element is included in MBMS Session
Management messages to differentiate the different sub-sessions of an MBMS
user service (identified by the TMGI) providing location-dependent content.
The payload shall be encoded as per the MBMS‑Flow-Identifier AVP defined in
3GPP TS 29.061 [38], excluding the AVP Header fields (as defined in IETF RFC
3588 [39], section 4.1).
* * *
                  Bits                                                                                            
     Octets       8                                                            7          6   5   4   3   2   1   
     1            Type = 141 (decimal)                                                                            
     2 to 3       Length = n                                                                                      
     4            Spare                                                        Instance                           
     5 to 6       MBMS Flow Identifer                                                                             
     7 to (n+4)   These octet(s) is/are present only if explicitly specified
* * *
Figure 8.72-1: MBMS Flow Identifier
## 8.73 MBMS IP Multicast Distribution
The MBMS IP Multicast Distribution IE is sent by the MBMS GW to the MME/SGSN
in the MBMS Session Start Request. Source Specific Multicasting is used
according to IETF RFC 4607 [40].
The IP Multicast Distribution Address and the IP Multicast Source Address
fields contain the IPv4 or IPv6 address as defined in 3GPP TS 23.003 [2]. The
Address Type and Address Length fields from 3GPP TS 23.003 [2] shall be
included in each field.
MBMS HC Indicator represents an indication if header compression should be
used for MBMS user plane data. The values are defined in 3GPP TS 25.413 [33].
* * *
                      Bits                                                                                            
     Octets           8                                                            7          6   5   4   3   2   1   
     1                Type = 142 (decimal)                                                                            
     2 to 3           Length=n                                                                                        
     4                Spare                                                        Instance                           
     5 to 8           Common Tunnel Endpoint Identifier Data                                                          
     9 to k           IP Multicast Distribution Address (IPv4 or IPv6)                                                
     (k+1) to (m+3)   IP Multicast Source Address (IPv4 or IPv6)                                                      
     m+4              MBMS HC Indicator                                                                               
     (m+5) to (n+4)   These octet(s) is/are present only if explicitly specified
* * *
Figure 8.73-1: MBMS IP Multicast Distribution
## 8.74 MBMS Distribution Acknowledge
The MBMS Distribution Acknowledge IE is sent by the SGSN to the MBMS GW in the
MBMS Session Start Response and MBMS Session Update Response. It is used by
the MBMS GW to decide if an IP Multicast Distribution user plane shall be
established, or a normal point-to-point user plane, or both.
* * *
                Bits                                                                                             
     Octets     8                                                            7           6   5   4   3   2   1   
     1          Type = 143 (decimal)                                                                             
     2 to 3     Length = n                                                                                       
     4          Spare                                                        Instance                            
     5          Spare                                                        Distr Ind                           
     6 to n+4   These octet(s) is/are present only if explicitly specified
* * *
Figure 8.74-1: MBMS Distribution Acknowledge
Table 8.74-1: Distribution Indication values
* * *
Distribution Indication Value (Decimal) No RNCs have accepted IP multicast
distribution 0 All RNCs have accepted IP multicast distribution 1 Some RNCs
have accepted IP multicast distribution 2 Spare. For future use. 3
* * *
## 8.75 User CSG Information (UCI)
User CSG Information (UCI) is coded as depicted in Figure 8.75-1. The CSG ID
is defined in 3GPP TS 23.003 [2].
* * *
                   Bits                                                                                                    
     Octets        8                                                            7             6      5     4   3   2   1   
     1             Type = 145                                                                                              
     2 to 3        Length = n                                                                                              
     4             Spare                                                        Instance                                   
     5             MCC digit 2                                                  MCC digit 1                                
     6             MNC digit 3                                                  MCC digit 3                                
     7             MNC digit 2                                                  MNC digit 1                                
     8             spare                                                        CSG ID                                     
     9 to11        CSG ID                                                                                                  
     12            Access mode                                                  spare         LCSG   CMI                   
     13 to (n+4)   These octet(s) is/are present only if explicitly specified
* * *
**Figure 8.75-1: User CSG Info** rmation
For two digits in the MNC, bits 5 to 8 of octet 6 are coded as \"1111\".
The CSG ID consists of 4 octets. Bit 3 of Octet 8 is the most significant bit
and bit 1 of Octet 11 is the least significant bit. The coding of the CSG ID
is the responsibility of the operator that allocates the CSG ID by
administrative means. Coding using full hexadecimal representation shall be
used.
Access mode values are specified in Table 8.75-1.
Table 8.75-1: Access mode values and their meanings
* * *
Access Mode Values (Decimal) Closed Mode 0 Hybrid Mode 1 Reserved 2-3
* * *
Leave CSG flag (LCSG) shall be set to \"1\" if UE leaves CSG cell/Hybrid cell,
and in this case, the receiving node shall ignore the rest information in the
IE.
CSG Membership Indication (CMI) values are specified in Table 8.75-2. CMI
shall be included in the User CSG Information if the Access mode is Hybrid
Mode. For the other values of Access Mode, the CMI shall be set to 0 by the
sender and ignored by the receiver.
Table 8.75-2: CSG Membership indication (CMI)
* * *
CMI Values (Decimal) Non CSG membership 0 CSG membership 1
* * *
## 8.76 CSG Information Reporting Action
CSG Information Reporting Action is coded as depicted in Figure 8.76-1.
* * *
                  Bits                                                                                                      
     Octets       8                                                            7          6        5        4   3   2   1   
     1            Type = 146                                                                                                
     2 to 3       Length = n                                                                                                
     4            Spare                                                        Instance                                     
     5            Spare                                                        UCIUHC     UCISHC   UCICSG                   
     6 to (n+4)   These octet(s) is/are present only if explicitly specified
* * *
**Figure 8.76-1: CSG Reporting Action**
The following bits within Octet 5 shall indicate:
  * Bit 1 -- UCICSG: When set to \"1\", shall indicate to start reporting User CSG Info when the UE enters/leaves/access through the CSG Cell.
  * Bit 2 -- UCISHC: When set to \"1\", shall indicate to start reporting User CSG Info when the UE enters/leaves/access through Subscribed Hybrid Cell.
  * Bit 3 -- UCIUHC: When set to \"1\", shall indicate to start Reporting User CSG Info when the UE enters/leaves/access through Unsubscribed Hybrid Cell.
All the bits 1 to 3 shall be set to 0 to stop reporting User CSG Info.
## 8.77 RFSP Index
Index to RAT/Frequency Selection Priority (RFSP Index) is coded as depicted in
Figure 8.77-1. It is defined in 3GPP TS 36.413 [10] as Subscriber Profile ID
for RAT/Frequency priority (SPIRFP). The SPIRFP is an integer between 1 and
256, which requires two octets.
* * *
              Bits                                                      
     Octets   8                      7          6   5   4   3   2   1   
     1        Type = 144 (decimal)                                      
     2 to 3   Length = 2                                                
     4        Spare                  Instance                           
     5 to 6   RFSP Index
* * *
Figure 8.77-1. RFSP Index
## 8.78 CSG ID
CSG ID is coded as depicted in Figure 8.78-1. The CSG ID is defined in 3GPP TS
23.003 [2].
* * *
                  Bits                                                                                            
     Octets       8                                                            7          6   5   4   3   2   1   
     1            Type = 147                                                                                      
     2 to 3       Length = n                                                                                      
     4            Spare                                                        Instance                           
     5            Spare                                                        CSG ID                             
     6 to 8       CSG ID                                                                                          
     9 to (n+4)   These octet(s) is/are present only if explicitly specified
* * *
**Figure 8.78-1:** CSG ID
The CSG ID consists of 4 octets. Bit 3 of Octet 4 is the most significant bit
and bit 1 of Octet 7 is the least significant bit. The coding of the CSG ID is
the responsibility of the operator that allocates the CSG ID by administrative
means. Coding using full hexadecimal representation shall be used.
## 8.79 CSG Membership Indication (CMI)
CSG Membership Indication is coded as depicted in Figure 8.79-1.
* * *
                  Bits                                                                                              
     Octets       8                                                            7          6     5   4   3   2   1   
     1            Type = 148                                                                                        
     2 to 3       Length = n                                                                                        
     4            Spare                                                        Instance                             
     5                                                                         Spare      CMI                       
     6 to (n+4)   These octet(s) is/are present only if explicitly specified
* * *
**Figure 8.79-1:** CSG Membership Indication
CSG Membership Indication (CMI) values are specified in Table 8.79-2.
Table 8.79-2: CSG Membership indication (CMI)
* * *
CMI Values (Decimal) CSG membership 0 Non CSG membership 1
* * *
## 8.80 Service indicator
Service indicator is coded as depicted in Figure 8.80-1.
* * *
              Bits                                                      
     Octets   8                      7          6   5   4   3   2   1   
     1        Type = 149 (decimal)                                      
     2 to 3   Length = 1                                                
     4        Spare                  Instance                           
     5        Service indicator
* * *
Figure 8.80-1. Service indicator
Service indicator values are specified in Table 8.80-1.
Table 8.80-1: Service indicator values
* * *
Service indicator Values (Decimal) \ 0 CS call indicator 1 SMS
indicator 2 \ 3-255
* * *
## 8.81 Detach Type
Detach Type is coded as depicted in Figure 8.81-1.
* * *
              Bits                                                      
     Octets   8                      7          6   5   4   3   2   1   
     1        Type = 150 (decimal)                                      
     2 to 3   Length = 1                                                
     4        Spare                  Instance                           
     5        Detach Type
* * *
Figure 8.81-1: Detach Type
Table 8.81-1: Detach Type values
* * *
Detach Types Values (Decimal) \ 0 PS Detach 1 Combined PS/CS Detach
2 \ 3-255
* * *
## 8.82 Local Distinguished Name (LDN)
Represents the Local Distinguished Name (LDN) of the network element (see 3GPP
TS 32.423 [44]).
* * *
                  Bits                                                      
     Octets       8                      7          6   5   4   3   2   1   
     1            Type = 151 (decimal)                                      
     2 to 3       Length = n                                                
     4            Spare                  Instance                           
     5 to (n+4)   LDN
* * *
Figure 8.82-1: Local Distinguished Name (LDN)
The LDN field consists of 1 up to a maximum of 400 ASCII characters, i.e.,
from 1 up to a maximum of 400 octets.
## 8.83 (void)
## 8.84 MBMS Time to Data Transfer
The MBMS Time to Data Transfer indicates the minimum time occurring between
the transmission of the MBMS SESSION START REQUEST message and the actual
start of the data transfer. It is coded as shown in figure 8.84-1. Octet 5 is
coded as the value part of the Time to MBMS Data Transfer IE defined in 3GPP
TS 48.018 [34] (not including the IEI and length indicator octets specified in
3GPP TS 48.018 [34]).
* * *
                  Bits                                                                                            
     Octets       8                                                            7          6   5   4   3   2   1   
     1            Type = 153 (decimal)                                                                            
     2 to 3       Length = n                                                                                      
     4            Spare                                                        Instance                           
     5            MBMS Time to Data Transfer value part                                                           
     6 to (n+4)   These octet(s) is/are present only if explicitly specified
* * *
Figure 8.84-1: MBMS Time to Data Transfer
## 8.85 (void)
## 8.86 (void)
## 8.87 (void)
## 8.88 (void)
## 8.89 Temporary Mobile Group Identity (TMGI)
The TMGI contains the Temporary Mobile Group Identity allocated to the MBMS
Bearer Service. The BM-SC always includes the MCC and MNC when allocating the
TMGI, see 3GPP TS 29.061 [38].
It is coded as specified in Figure 8.89-1.
* * *
                Bits                                                                                            
     Octets     8                                                            7          6   5   4   3   2   1   
     1          Type = 158 (decimal)                                                                            
     2 to 3     Length = n                                                                                      
     4          Spare                                                        Instance                           
     5-10       TMGI                                                                                            
     11-(n+4)   These octet(s) is/are present only if explicitly specified
* * *
Figure 8.89-1: TMGI
Octets 5 to 10 shall be encoded as octets 3 to octet 8 in the figure 10.5.154
of 3GPP TS 24.008 [5].
## 8.90 Additional MM context for SRVCC
The additional MM Context for SRVCC information element contains mobile
station classmarks, supported codec list that are necessary for the
MME/S4-SGSN to perform SRVCC as defined in 3GPP TS 23.216 [43]. The coding of
Mobile Station Classmarks and Supported Codec List fields include the IE value
part as it is specified in 3GPP TS 24.008 [5].
* * *
                      Bits                                                                                            
     Octets           8                                                            7          6   5   4   3   2   1   
     1                Type = 159 (decimal)                                                                            
     2 to 3           Length = n                                                                                      
     4                Spare                                                        Instance                           
     5                Length of the Mobile Station Classmark 2                                                        
     6 to a           Mobile Station Classmark 2                                                                      
     b                Length of the Mobile Station Classmark 3                                                        
     (b+1) to c       Mobile Station Classmark 3                                                                      
     d                Length of the Supported Codec List                                                              
     (d+1) to e       Supported Codec List                                                                            
     (e+1) to (n+4)   These octet(s) is/are present only if explicitly specified
* * *
Figure 8.90-1: Additional MM context for SRVCC
## 8.91 Additional flags for SRVCC
Additional flags for SRVCC is coded as depicted in Figure 8.91-1.
* * *
               Bits                                                                                            
     Octets    8                                                            7          6   5   4   3   2   1   
     1         Type = 160 (decimal)                                                                            
     2 to 3    Length = n                                                                                      
     4         Spare                                                        Instance                           
     5         Spare                                                        ICS                                
     6-(n+4)   These octet(s) is/are present only if explicitly specified
* * *
Figure 8.91-1: Additional flags for SRVCC
The following bits within Octet 5 indicate:
\- Bit 1 -- ICS (IMS Centralized Service): This flag indicates that UE
supports ICS specific service as specified in 3GPP TS 23.292 [45].
## 8.92 (void)
## 8.93 (void)
# 9 Security
GTPv2-C communications shall be protected according to security mechanisms
defined in 3GPP TS 33.401 [12].
# 10 IP - The Networking Technology used by GTP
## 10.1 IP Version
GTPv2 entities shall support both versions of the Internet Protocol, version 4
(IPv4) as defined by IETF RFC 791 [6], and version 6 (IPv6) as defined by IETF
RFC 2460 [16].
## 10.2 IP Fragmentation
It is specified here how the fragmentation mechanism shall work with GTP-C.
Fragmentation should be avoided if possible. Examples of fragmentation
drawbacks are:
\- Fragmentation is inefficient, since the complete IP header is duplicated in
each fragment.
\- If one fragment is lost, the complete packet has to be discarded. The
reason is that no selective retransmission of fragments is possible.
Path MTU discovery should be used, especially if GTPv2-C message is
encapsulated with IPv6 header. The application should find out the path MTU,
and thereby utilise more efficient fragmentation mechanisms.
###### ## Annex A (Informative): Backward Compatibility Guidelines for
Information Elements
In order to preserve backward compatibility, the following rules should apply
when adding or modifying information elements for existing messages.
\- No new mandatory (M) information elements should be added.
\- No new conditional (C) information elements should be added.
\- Any new IEs should be either:
optional (O), having no conditions on their presence, or
conditional-optional (CO), having conditions that should apply only to the
sender and not to the receiver.
Such conditions should be worded generally as follows: \"This IE shall be sent
over the xxx interface \. The receiving entity need not check the
IE\'s presence.\"
\- If any new conditions are added to a previously specified conditional (C)
information element, these new conditions should apply only to the sender and
not to the receiver.\ \ Such additional conditions should be worded generally
as follows: \"This IE shall be sent over the xxx interface \. For
this optional condition, the receiving entity need not check the IE\'s
presence.\"\ \ Existing conditions for such conditional (C) IEs should be
treated as before, and the presence of the IEs should remain conditional (C).
###### ##
* * *
Date TSG # TSG Doc CR Rev Subject/Comment Old New 2008-12 CT#42 CP-080717
V2.0.0 approved in CT#42 2.0.0 8.0.0 2009-03 CT#43 CP-090050 0001 2 Delete
Indirect Data Forwarding Tunnel Request/Response 8.0.0 8.1.0 2009-03 CT#43
CP-090050 0003 1 Relocation Cancel Req/Res 8.0.0 8.1.0 2009-03 CT#43 CP-090050
0004 2 Path Failure 8.0.0 8.1.0 2009-03 CT#43 CP-090050 0005 4 Sections 1
through 6 Editorial Clean-up 8.0.0 8.1.0 2009-03 CT#43 CP-090050 0006 2 Delete
Session and Delete Bearer messages 8.0.0 8.1.0 2009-03 CT#43 CP-090050 0008 2
Update User Plane messages 8.0.0 8.1.0 2009-03 CT#43 CP-090050 0017 2 Cleanup
in path management and bearer command messages 8.0.0 8.1.0 2009-03 CT#43
CP-090050 0018 1 Create Session/Bearer Messages 8.0.0 8.1.0 2009-03 CT#43
CP-090050 0019 2 Modify Bearer messages 8.0.0 8.1.0 2009-03 CT#43 CP-090050
0020 2 IEs in CSFB related messages 8.0.0 8.1.0 2009-03 CT#43 CP-090050 0021 1
Command Messages 8.0.0 8.1.0 2009-03 CT#43 CP-090050 0022 3 Data Forwarding
Info 8.0.0 8.1.0 2009-03 CT#43 CP-090050 0023 3 Delete Bearer messages 8.0.0
8.1.0 2009-03 CT#43 CP-090050 0024 2 Delete Session messages 8.0.0 8.1.0
2009-03 CT#43 CP-090050 0025 1 Downlink Data Notification 8.0.0 8.1.0 2009-03
CT#43 CP-090050 0026 2 Update Bearer messages 8.0.0 8.1.0 2009-03 CT#43
CP-090050 0027 2 Secondary PDP Activation 8.0.0 8.1.0 2009-03 CT#43 CP-090050
0028 2 Stop Paging 8.0.0 8.1.0 2009-03 CT#43 CP-090050 0030 1 EPS Bearer
Contexts Prioritization 8.0.0 8.1.0 2009-03 CT#43 CP-090050 0032 2 Linked EPS
Bearer ID 8.0.0 8.1.0 2009-03 CT#43 CP-090050 0034 1 AMBR IE encoding 8.0.0
8.1.0 2009-03 CT#43 CP-090050 0035 - Authentication Failure Cause Code 8.0.0
8.1.0 2009-03 CT#43 CP-090050 0040 1 Forward SRNS Context Notification 8.0.0
8.1.0 2009-03 CT#43 CP-090050 0041 1 F-TEID IE clarification 8.0.0 8.1.0
2009-03 CT#43 CP-090214 0043 4 SGW Selection during TAU and corrections to
Grouped IEs 8.0.0 8.1.0 2009-03 CT#43 CP-090050 0043 1 Identification Response
algorithm information 8.0.0 8.1.0 2009-03 CT#43 CP-090050 0044 2 IE Type
ordering 8.0.0 8.1.0 2009-03 CT#43 CP-090050 0045 2 Indication IE corrections
8.0.0 8.1.0 2009-03 CT#43 CP-090050 0048 1 MM Context enhancements 8.0.0 8.1.0
2009-03 CT#43 CP-090050 0050 1 Removal of Bearer ID List IE 8.0.0 8.1.0
2009-03 CT#43 CP-090050 0051 1 Remove unused IP Address IEs 8.0.0 8.1.0
2009-03 CT#43 CP-090050 0052 1 Selection Mode bits 8.0.0 8.1.0 2009-03 CT#43
CP-090050 0053 1 Corrections to Trace Information IE 8.0.0 8.1.0 2009-03 CT#43
CP-090050 0054 2 Trace Information IE to be included in S11 and S5/S8 messages
8.0.0 8.1.0 2009-03 CT#43 CP-090050 0055 3 Trace Session
Activation/Deactivation when UE is attached 8.0.0 8.1.0 2009-03 CT#43
CP-090050 0059 1 New UE Time Zone IE Type 8.0.0 8.1.0 2009-03 CT#43 CP-090050
0060 1 Release Access Bearers Request/Response 8.0.0 8.1.0 2009-03 CT#43
CP-090256 0061 3 Piggybacking of Dedicated Bearer Messages 8.0.0 8.1.0 2009-03
CT#43 CP-090050 0063 4 Finalizing GTPv2 Error Handling clause 8.0.0 8.1.0
2009-03 CT#43 CP-090050 0064 1 GTPv2 clause 9 and 10 cleanup 8.0.0 8.1.0
2009-03 CT#43 CP-090050 0066 4 RAN Information Relay message 8.0.0 8.1.0
2009-03 CT#43 CP-090050 0067 2 Bearer QoS encoding 8.0.0 8.1.0 2009-03 CT#43
CP-090050 0068 1 Modify Bearer Response 8.0.0 8.1.0 2009-03 CT#43 CP-090050
0075 3 Location Change Reporting 8.0.0 8.1.0 2009-03 CT#43 CP-090050 0077 2
Cleanup on Cause Values 8.0.0 8.1.0 2009-03 CT#43 CP-090050 0080 1 Non-3GPP
Requests in GTPv2 8.0.0 8.1.0 2009-03 CT#43 CP-090050 0082 3 Support of IP
address retrieval for ANRF 8.0.0 8.1.0 2009-03 CT#43 CP-090050 0083 1 Support
for error response for conflicting resource request 8.0.0 8.1.0 2009-03 CT#43
CP-090050 0085 1 Clarification of Target ID vs Cell ID 8.0.0 8.1.0 2009-03
CT#43 CP-090050 0089 2 TEID Value of the GTP header 8.0.0 8.1.0 2009-03 CT#43
CP-090050 0093 3 Header for the Format of the GTPv2-C message 8.0.0 8.1.0
2009-03 CT#43 CP-090050 0094 3 Finalization of Partial fault handling in GTPv2
8.0.0 8.1.0 2009-03 CT#43 CP-090050 0095 1 MSISDN encoding 8.0.0 8.1.0 2009-03
CT#43 CP-090050 0096 1 IMSI encoding 8.0.0 8.1.0 2009-03 CT#43 CP-090050 0097
1 PMIP error code reservation 8.0.0 8.1.0 2009-03 CT#43 CP-090050 0098 -
Removal of Comprehension Required from messages 7.3.1 to 7.3.13 8.0.0 8.1.0
2009-03 CT#43 CP-090050 0099 - Cause value for PGW not responding 8.0.0 8.1.0
2009-03 CT#43 CP-090050 0100 - Traffic Aggregate Description IE encoding 8.0.0
8.1.0 2009-03 CT#43 CP-090050 0101 3 Protocol Stack 8.0.0 8.1.0 2009-03 CT#43
CP-090050 0102 1 Reliable delivery for EPC 8.0.0 8.1.0 2009-03 CT#43 CP-090050
0104 - Removal of reservation for message types of GTP-U 8.0.0 8.1.0 2009-03
CT#43 CP-090239 0105 1 Essential correction to grouped IE type coding 8.0.0
8.1.0 2009-03 - - - - Some of the table formats corrected 8.1.0 8.1.1 2009-06
CT#44 CP-090288 0107 - Suspend and Resume are also used for 1xRTT CS Fallback
8.1.1 8.2.0 2009-06 CT#44 CP-090288 0108 1 Support for new cause code of
\"Unable to page UE due to CSFB\" in Downlink Data Notification
Acknowledgement. 8.1.1 8.2.0 2009-06 CT#44 CP-090288 0109 1 Corrections on
GTPv2 for 1x IWS IP address 8.1.1 8.2.0 2009-06 CT#44 CP-090288 0110 1
Clarification of Operation Indication (OI) 8.1.1 8.2.0 2009-06 CT#44 CP-090288
0111 1 Usage of User Location Information (ULI) IE 8.1.1 8.2.0 2009-06 CT#44
CP-090288 0112 1 PGW S5/S8 IP Address in Context Response message 8.1.1 8.2.0
2009-06 CT#44 CP-090288 0114 1 Delete Indirect Data Forwarding Tunnel Response
8.1.1 8.2.0 2009-06 CT#44 CP-090288 0115 2 Error_Handling. Withdrawn 8.1.1
8.2.0 2009-06 CT#44 CP-090288 0117 1 PCO Extensions added to messages 8.1.1
8.2.0 2009-06 CT#44 CP-090288 0118 1 Clarifications to message directions
8.1.1 8.2.0 2009-06 CT#44 CP-090288 0119 - Removal of specification drafting
hints 8.1.1 8.2.0 2009-06 CT#44 CP-090288 0120 1 ISR related alignments 8.1.1
8.2.0 2009-06 CT#44 CP-090288 0122 1 Clarifications to grouped IE usage 8.1.1
8.2.0 2009-06 CT#44 CP-090288 0125 2 Clarification to Recovery IE type 8.1.1
8.2.0 2009-06 CT#44 CP-090288 0127 1 Missing conditions 8.1.1 8.2.0 2009-06
CT#44 CP-090288 0128 1 Clarification of ARP encoding 8.1.1 8.2.0 2009-06 CT#44
CP-090288 0129 - Units for APN-AMBR 8.1.1 8.2.0 2009-06 CT#44 CP-090288 0131 2
Clarification of Mobile Equipment Identity IE encoding 8.1.1 8.2.0 2009-06
CT#44 CP-090288 0134 - EPS Bearer Level TFT encoding 8.1.1 8.2.0 2009-06 CT#44
CP-090288 0136 2 UE-initiated procedures with one bearer only 8.1.1 8.2.0
2009-06 CT#44 CP-090288 0137 2 Combine UL and DL TFT IEs 8.1.1 8.2.0 2009-06
CT#44 CP-090288 0142 1 PGW S5/S8 IP Address and TEID for user plane 8.1.1
8.2.0 2009-06 CT#44 CP-090288 0143 1 Transaction Identifier information
element 8.1.1 8.2.0 2009-06 CT#44 CP-090288 0147 1 Delete Bearer Request 8.1.1
8.2.0 2009-06 CT#44 CP-090288 0149 2 Modify Bearer Request for TAU without MME
or SGW change 8.1.1 8.2.0 2009-06 CT#44 CP-090288 0150 2 Use of APN, PAA in
Create Session Request, and S5/S8-U PGW F-TEID in Create Session Response
8.1.1 8.2.0 2009-06 CT#44 CP-090288 0151 1 Message table corrections 8.1.1
8.2.0 2009-06 CT#44 CP-090288 0153 - Presence requirement for IEs in response
8.1.1 8.2.0 2009-06 CT#44 CP-090288 0154 2 Offending IE in the Cause IE 8.1.1
8.2.0 2009-06 CT#44 CP-090288 0156 1 Minor corrections 8.1.1 8.2.0 2009-06
CT#44 CP-090288 0157 1 FQ-CSID corrections 8.1.1 8.2.0 2009-06 CT#44 CP-090288
0158 - APN and FQDN encoding clarifications 8.1.1 8.2.0 2009-06 CT#44
CP-090288 0159 - Removal of Trace Information IE from Update Bearer Request
8.1.1 8.2.0 2009-06 CT#44 CP-090288 0160 1 Corrections in PDN Connection group
IE 8.1.1 8.2.0 2009-06 CT#44 CP-090288 0161 1 Missing IEs in \"Update Bearer
Response\" 8.1.1 8.2.0 2009-06 CT#44 CP-090288 0164 2 PDN Type 8.1.1 8.2.0
2009-06 CT#44 CP-090288 0168 1 IE corrections in Modify Bearer signalling
8.1.1 8.2.0 2009-06 CT#44 CP-090288 0169 2 Create Session Request
Clarification 8.1.1 8.2.0 2009-06 CT#44 CP-090288 0175 - TEID in Detach
Notification/ACK 8.1.1 8.2.0 2009-06 CT#44 CP-090288 0176 - Condition of
bearer context in Modify Bearer messages 8.1.1 8.2.0 2009-06 CT#44 CP-090288
0177 1 Delete Session Request granularity 8.1.1 8.2.0 2009-06 CT#44 CP-090288
0178 - Deletion of IMSI in the Update Bearer Request 8.1.1 8.2.0 2009-06 CT#44
CP-090288 0180 1 Delete Session Request/Response and Delete Bearer Request
8.1.1 8.2.0 2009-06 CT#44 CP-090288 0181 1 Detach Notification 8.1.1 8.2.0
2009-06 CT#44 CP-090288 0183 - SGSN Info for Data Forwarding 8.1.1 8.2.0
2009-06 CT#44 CP-090288 0184 1 Delete Session Request 8.1.1 8.2.0 2009-06
CT#44 CP-090288 0185 1 APN AMBR clarification 8.1.1 8.2.0 2009-06 CT#44
CP-090288 0186 1 Delete Bearer Request when ISR activated 8.1.1 8.2.0 2009-06
CT#44 CP-090288 0187 1 Clarify the usage of the MS validated IE 8.1.1 8.2.0
2009-06 CT#44 CP-090288 0189 1 UDP Source port and IP Source Address 8.1.1
8.2.0 2009-06 CT#44 CP-090288 0190 - Recovery IE 8.1.1 8.2.0 2009-06 CT#44
CP-090288 0192 1 APN Information 8.1.1 8.2.0 2009-06 CT#44 CP-090500 0193 3
Cause value 8.1.1 8.2.0 2009-06 CT#44 CP-090288 0195 1 Cleanup indication
8.1.1 8.2.0 2009-06 CT#44 CP-090288 0196 1 Cleanup the usage of some messages
8.1.1 8.2.0 2009-06 CT#44 CP-090288 0198 1 Linked EPS Bearer ID 8.1.1 8.2.0
2009-06 CT#44 CP-090288 0199 1 PCO parameter 8.1.1 8.2.0 2009-06 CT#44
CP-090288 0200 1 PDP Context Activation 8.1.1 8.2.0 2009-06 CT#44 CP-090288
0201 1 User Location Info 8.1.1 8.2.0 2009-06 CT#44 CP-090288 0202 2 F-Cause
IE correction 8.1.1 8.2.0 2009-06 CT#44 CP-090288 0206 1 Message granularity
8.1.1 8.2.0 2009-06 CT#44 CP-090321 0209 - Bearer Context in the Modify Bearer
Command 8.1.1 8.2.0 2009-06 CT#44 CP-090493 0210 1 Sequence Number Extension
8.1.1 8.2.0 2009-06 CT#44 CP-090355 0212 - Bearer Resource Command
clarification 8.1.1 8.2.0 2009-06 CT#44 CP-090485 0213 1 Piggybacked message
clarifications 8.1.1 8.2.0 2009-06 CT#44 CP-090472 0214 1 Corrections on
handling Charging ID IE and Charging Characteristics IE 8.1.1 8.2.0 2009-09
CT#45 CP-090533 0215 - Usage of GTPv2-C Header 8.2.0 8.3.0 2009-09 CT#45
CP-090533 0216 1 Create Session Request and Response 8.2.0 8.3.0 2009-09 CT#45
CP-090533 0217 1 Cleanup Editors Note 8.2.0 8.3.0 2009-09 CT#45 CP-090533 0218
1 Message format and Type values 8.2.0 8.3.0 2009-09 CT#45 CP-090533 0220 -
S16 Influence 8.2.0 8.3.0 2009-09 CT#45 CP-090533 0222 1 MM Context 8.2.0
8.3.0 2009-09 CT#45 CP-090533 0223 - F-Container 8.2.0 8.3.0 2009-09 CT#45
CP-090533 0225 - Change Reporting Action 8.2.0 8.3.0 2009-09 CT#45 CP-090533
0226 1 Procedure names 8.2.0 8.3.0 2009-09 CT#45 CP-090533 0228 3 Changes to
Create-Session-Request and Create-Session-Response messages 8.2.0 8.3.0
2009-09 CT#45 CP-090533 0229 1 Changes to Modify-Bearer-Response 8.2.0 8.3.0
2009-09 CT#45 CP-090533 0232 2 Piggybacking Clarifications 8.2.0 8.3.0 2009-09
CT#45 CP-090533 0236 1 Delete Bearer Request Cause value for ISR deactivation
8.2.0 8.3.0 2009-09 CT#45 CP-090533 0237 2 Modify Bearer Request Bearer Level
QoS 8.2.0 8.3.0 2009-09 CT#45 CP-090533 0239 1 Possible reject response Cause
values in GTPv2 message descriptions 8.2.0 8.3.0 2009-09 CT#45 CP-090533 0241
1 SGW F-TEID for S1-U, S12 and S4 for User Plane 8.2.0 8.3.0 2009-09 CT#45
CP-090533 0243 2 Clarification on the usage of Version Not Supported
Indication 8.2.0 8.3.0 2009-09 CT#45 CP-090533 0244 1 Clarifications on
Sender-F-TEID for CP and S3/S10/S16 CP IP Addr and TEID IEs 8.2.0 8.3.0
2009-09 CT#45 CP-090533 0245 1 Cause Value in Echo Response 8.2.0 8.3.0
2009-09 CT#45 CP-090533 0246 - Corrections in ULI IE and PDN Connection IE
definitions 8.2.0 8.3.0 2009-09 CT#45 CP-090533 0247 3 GTPv2 Initial and
Triggered Message definition and Sequence Number handling 8.2.0 8.3.0 2009-09
CT#45 CP-090533 0249 1 Missing Cause values in some message descriptions 8.2.0
8.3.0 2009-09 CT#45 CP-090533 0250 4 Add TAC to Target Identification IE 8.2.0
8.3.0 2009-09 CT#45 CP-090533 0256 1 IMSI and Sender F-TEID in Create Indirect
Data Forwarding Tunnel Messages 8.2.0 8.3.0 2009-09 CT#45 CP-090534 0258 1
Indication in Forward Relocation messages 8.2.0 8.3.0 2009-09 CT#45 CP-090534
0259 1 Paging cause 8.2.0 8.3.0 2009-09 CT#45 CP-090534 0260 - Correlate the
bearers in the Create Bearer Response 8.2.0 8.3.0 2009-09 CT#45 CP-090534 0261
3 Cleanup cause values 8.2.0 8.3.0 2009-09 CT#45 CP-090534 0262 2 Delete
Bearer Failure Indication 8.2.0 8.3.0 2009-09 CT#45 CP-090534 0263 1 Cleanup
Modify Bearer Request 8.2.0 8.3.0 2009-09 CT#45 CP-090534 0264 2 IEs in
Response 8.2.0 8.3.0 2009-09 CT#45 CP-090534 0266 - CS Paging Indication 8.2.0
8.3.0 2009-09 CT#45 CP-090534 0267 2 Serving Network 8.2.0 8.3.0 2009-09 CT#45
CP-090534 0268 3 Service Handover support 8.2.0 8.3.0 2009-09 CT#45 CP-090534
0269 3 Fix incorrect interface name, incorrect reference and other misreading
texts 8.2.0 8.3.0 2009-09 CT#45 CP-090534 0270 1 Clarification on cause value
for Downlink Data Notification Failure Indication 8.2.0 8.3.0 2009-09 CT#45
CP-090534 0271 2 Clarification on the Authentication Vector handling 8.2.0
8.3.0 2009-09 CT#45 CP-090534 0276 1 Clarification on Authentication Vector
encoding 8.2.0 8.3.0 2009-09 CT#45 CP-090535 0278 5 Clarification on Error
indication for EPC and DT 8.2.0 8.3.0 2009-09 CT#45 CP-090534 0279 3 Aligning
MBR units to kbps 8.2.0 8.3.0 2009-09 CT#45 CP-090534 0281 1 Clarification to
the PGW\'s UP address in Create Session Response 8.2.0 8.3.0 2009-09 CT#45
CP-090534 0282 4 Modify Bearer procedure for X2 and S1 based handovers 8.2.0
8.3.0 2009-09 CT#45 CP-090534 0290 1 Add necessary cause value to the Update
Bearer Response 8.2.0 8.3.0 2009-09 CT#45 CP-090534 0292 - Update on
Concurrent Running of Security Procedures 8.2.0 8.3.0 2009-09 CT#45 CP-090534
0295 2 APN Restriction IE 8.2.0 8.3.0 2009-09 CT#45 CP-090534 0296 1 Change
Reporting IE 8.2.0 8.3.0 2009-09 CT#45 CP-090534 0297 1 ULI Clarification
8.2.0 8.3.0 2009-09 CT#45 CP-090534 0301 - Charging ID 8.2.0 8.3.0 2009-09
CT#45 CP-090534 0302 1 Delete Indirect Data Forwarding Tunnel Request/Response
8.2.0 8.3.0 2009-09 CT#45 CP-090535 0303 1 SGW F-TEID 8.2.0 8.3.0 2009-09
CT#45 CP-090535 0304 1 BCM 8.2.0 8.3.0 2009-09 CT#45 CP-090535 0307 3 Charging
Gateway Address 8.2.0 8.3.0 2009-09 CT#45 CP-090535 0308 1 LBI Clarifications
for Gn/Gp Handovers 8.2.0 8.3.0 2009-09 CT#45 CP-090535 0309 1 Trace
management messages and IE related clarifications 8.2.0 8.3.0 2009-09 CT#45
CP-090535 0310 1 Indirect Data Forwarding Tunnel clarifications 8.2.0 8.3.0
2009-09 CT#45 CP-090535 0311 2 Concurrent Running of Security Procedures 8.2.0
8.3.0 2009-09 CT#45 CP-090535 0315 1 Cause value corrections 8.2.0 8.3.0
2009-09 CT#45 CP-090535 0316 1 Identification Response 8.2.0 8.3.0 2009-09
CT#45 CP-090535 0317 1 NSAPI and EBI in Forward Relocation Response 8.2.0
8.3.0 2009-09 CT#45 CP-090535 0318 1 Cause in the CSFB related messages 8.2.0
8.3.0 2009-09 CT#45 CP-090535 0320 1 Update Bearer Complete 8.2.0 8.3.0
2009-09 CT#45 CP-090535 0321 1 PCO IE 8.2.0 8.3.0 2009-09 CT#45 CP-090535 0322
- Cleanup Trace Management messages 8.2.0 8.3.0 2009-09 CT#45 CP-090535 0323 -
Cleanup section 5.3 and 8.12 8.2.0 8.3.0 2009-09 CT#45 CP-090535 0324 1 APN
AMBR in the Create Bearer Request 8.2.0 8.3.0 2009-09 CT#45 CP-090535 0325 1
UDP Source Port Number 8.2.0 8.3.0 2009-09 CT#45 CP-090535 0326 - Presence
Requirments for grouped IE 8.2.0 8.3.0 2009-09 CT#45 CP-090535 0330 1 Making
PCO conditional for the Attach procedure 8.2.0 8.3.0 2009-09 CT#45 CP-090535
0332 - Echo usage alignment with stage 2 8.2.0 8.3.0 2009-09 CT#45 CP-090535
0334 - Trace Depth per session 8.2.0 8.3.0 2009-09 CT#45 CP-090535 0335 4
Backward compatibility requirements for presence 8.2.0 8.3.0 2009-09 CT#45
CP-090535 0338 1 ECGI encoding correction 8.2.0 8.3.0 2009-09 CT#45 CP-090535
0339 1 Consistant PDN type setting 8.2.0 8.3.0 2009-09 CT#45 CP-090535 0340 1
GTP Cause value usage 8.2.0 8.3.0 2009-09 CT#45 CP-090729 0341 1 Partial
failure handling alignment with stage 2 8.2.0 8.3.0 2009-09 CT#45 CP-090729
0342 2 Partial failure handling for MME relocation w/o SGW relocation 8.2.0
8.3.0 2009-09 CT#45 CP-090535 0346 1 Security Specification for GTPV2-C 8.2.0
8.3.0 2009-09 CT#45 CP-090535 0349 1 Avoiding Source Port Overlap between
GTPv2-C and GTPv2-C\' 8.2.0 8.3.0 2009-09 CT#45 CP-090535 0350 - Delete Bearer
Command PCO removal 8.2.0 8.3.0 2009-09 CT#45 CP-090559 0253 2 Scope of GTP-C
protocol 8.2.0 9.0.0 2009-09 CT#45 CP-090559 0254 4 MBMS session management
messages 8.2.0 9.0.0 2009-09 CT#45 CP-090562 0285 1 IMEI based GTP Changes
8.2.0 9.0.0 2009-09 CT#45 CP-090745 0286 4 Unauthenticated IMSI for emergency
in GTP 8.2.0 9.0.0 2009-09 CT#45 CP-090562 0343 1 IMEI based Id in GTP
messages 8.2.0 9.0.0 2009-09 CT#45 CP-090562 0344 1 Unauthenticated IMSI in
GTP messages 8.2.0 9.0.0 2009-10 CT#46 Editorial correction. Wrong style was
used in Paragraph character 7.1.3. 9.0.0 9.0.1 2009-12 CT#46 CP-090769 0356 1
Selection Mode IE 9.0.1 9.1.0 2009-12 CT#46 CP-090798 0357 2 PTP bearer
fallback 9.0.1 9.1.0 2009-12 CT#46 CP-090770 0359 - Bearer QoS in Modify
Bearer Request 9.0.1 9.1.0 2009-12 CT#46 CP-090769 0361 1 Release Access
Bearer Request 9.0.1 9.1.0 2009-12 CT#46 CP-090770 0363 - Bearer context in
Create Session messages 9.0.1 9.1.0 2009-12 CT#46 CP-090770 0365 - ISRAI flag
in the Forward Relocation Complete Notification 9.0.1 9.1.0 2009-12 CT#46
CP-090770 0369 - Mapping between RAI, P-TMSI, P-TMSI signature and GUTI 9.0.1
9.1.0 2009-12 CT#46 CP-090770 0371 1 APN IE encoding 9.0.1 9.1.0 2009-12 CT#46
CP-090770 0373 1 Correction on the condition for resource release of other CN
node 9.0.1 9.1.0 2009-12 CT#46 CP-090970 0375 2 APN Restriction 9.0.1 9.1.0
2009-12 CT#46 CP-090770 0377 1 Cause value \"Invalid reply from remote peer\"
9.0.1 9.1.0 2009-12 CT#46 CP-090770 0380 1 Indication Flags in Delete Session
Request 9.0.1 9.1.0 2009-12 CT#46 CP-090770 0382 1 Suspend 9.0.1 9.1.0 2009-12
CT#46 CP-090770 0386 Removal of forwarding Charging Gateway Address/Name to
S4-SGSN 9.0.1 9.1.0 2009-12 CT#46 CP-090770 0388 2 Charging ID in S4-SGSN
9.0.1 9.1.0 2009-12 CT#46 CP-090770 0390 - Correction of Message Direction for
Create Session Response 9.0.1 9.1.0 2009-12 CT#46 CP-090770 0392 1 PPC
(Prohibit Payload Compression) alignment with Stage-2 9.0.1 9.1.0 2009-12
CT#46 CP-090770 0393 3 UE TimeZone and ULI included in Bearer Response
messages 9.0.1 9.1.0 2009-12 CT#46 CP-090804 0395 4 Support for CSG based
charging 9.0.1 9.1.0 2009-12 CT#46 CP-090770 0397 3 User Location Information
9.0.1 9.1.0 2009-12 CT#46 CP-090769 0399 2 PDN type 9.0.1 9.1.0 2009-12 CT#46
CP-090770 0403 - Removal of ULI from Release Access Bearer Req 9.0.1 9.1.0
2009-12 CT#46 CP-090770 0405 - Removal of NSAPI IE 9.0.1 9.1.0 2009-12 CT#46
CP-090770 0407 2 Indication IE clarification 9.0.1 9.1.0 2009-12 CT#46
CP-090770 0409 3 Addition of uplink, downlink F-TEIDs in Create Indirect Data
Forwarding Tunnel Request and Response messages 9.0.1 9.1.0 2009-12 CT#46
CP-090770 0411 2 Clarifications on use of the Sender-F-TEID for CP in HO
procedure 9.0.1 9.1.0 2009-12 CT#46 CP-090770 0417 - Clarifications to MSISDN
coding 9.0.1 9.1.0 2009-12 CT#46 CP-090769 0419 2 Enhanced handling of RFSP
index at the SGSN/MME 9.0.1 9.1.0 2009-12 CT#46 CP-090769 0423 2 TFT related
error handling 9.0.1 9.1.0 2009-12 CT#46 CP-090769 0425 4 Essential correction
to the Indirect Data Forwarding procedure 9.0.1 9.1.0 2009-12 CT#46 CP-090769
0434 - Correcting misaligned IE presence type statements 9.0.1 9.1.0 2009-12
CT#46 CP-090769 0438 1 Correcting PCO conditions in Modify Bearer Response
9.0.1 9.1.0 2009-12 CT#46 CP-090769 0442 2 Delete Indirect Data Forwarding
Tunnel messages 9.0.1 9.1.0 2009-12 CT#46 CP-090777 0448 1 SRVCC - voice
bearer handling in PS HO / DTM scenarios 9.0.1 9.1.0 2009-12 CT#46 CP-090975
0450 2 NAS Count value 9.0.1 9.1.0 2009-12 CT#46 CP-090769 0452 1 Charging
Characteristics value for active PDN connections 9.0.1 9.1.0 2009-12 CT#46
CP-090786 0453 1 eNodeB Cause and RANAP Cause corrections 9.0.1 9.1.0 2009-12
CT#46 CP-090769 0455 - Change the NSAPI to EBI in the PFI IE 9.0.1 9.1.0
2009-12 CT#46 CP-090769 0457 - Enhanced SRNS Relocation Procedure 9.0.1 9.1.0
2009-12 CT#46 CP-090769 0459 - Forward Access Context Acknowledge 9.0.1 9.1.0
2009-12 CT#46 CP-090769 0461 - Correct the message Modify Bearer Request 9.0.1
9.1.0 2009-12 CT#46 CP-090769 0471 1 Cleanup Suspend Notification message
9.0.1 9.1.0 2009-12 CT#46 CP-090769 0475 1 Forward Relocation Request:
Selected PLMN ID 9.0.1 9.1.0 2009-12 CT#46 CP-090770 0484 1 Change Reporting
Action 9.0.1 9.1.0 2010-03 CT#47 CP-100021 0493 1 Essential clarification to
MME executed TAU procedure 9.1.0 9.2.0 2010-03 CT#47 CP-100022 0495 5
Essential correction to the MM context IE type 9.1.0 9.2.0 2010-03 CT#47
CP-100021 0497 1 Resolving ambiguity for Target Identification IE coding 9.1.0
9.2.0 2010-03 CT#47 CP-100021 0504 PCO 9.1.0 9.2.0 2010-03 CT#47 CP-100021
0506 1 RFSP Index 9.1.0 9.2.0 2010-03 CT#47 CP-100049 0508 1 Include CSG ID
and CSG Membership Indication in S3 and S10 9.1.0 9.2.0 2010-03 CT#47
CP-100035 0510 2 Location change reporting in EPS 9.1.0 9.2.0 2010-03 CT#47
CP-100019 0512 The encoding of APN IE 9.1.0 9.2.0 2010-03 CT#47 CP-100021 0514
1 Indirect Data Forwarding 9.1.0 9.2.0 2010-03 CT#47 CP-100021 0516 2 HSS/PGW
initiated Bearer QoS Modification procedure 9.1.0 9.2.0 2010-03 CT#47
CP-100022 0518 1 APN IE description correction 9.1.0 9.2.0 2010-03 CT#47
CP-100022 0520 2 P-TMSI Signature 9.1.0 9.2.0 2010-03 CT#47 CP-100035 0521 1
Corrections to the RAN Information Management procedures 9.1.0 9.2.0 2010-03
CT#47 CP-100021 0523 Source Identification for E-UTRAN to GERAN handover 9.1.0
9.2.0 2010-03 CT#47 CP-100049 0524 1 Handovers to HeNB cells 9.1.0 9.2.0
2010-03 CT#47 CP-100022 0530 1 Granularity 9.1.0 9.2.0 2010-03 CT#47 CP-100021
0533 2 Change Reporting Support Indicator 9.1.0 9.2.0 2010 CT#47 CP-100021
0535 MM Context IE type correction 9.1.0 9.2.0 2010-03 CT#47 CP-100027 0537 2
Removal of TEIDs for PS voice bearer UP in Bearer Context for SRVCC 9.1.0
9.2.0 2010-03 CT#47 CP-100021 0539 Correction on the presence condition of
Charging ID IE on S4 9.1.0 9.2.0 2010-03 CT#47 CP-100035 0541 3 Suspend 9.1.0
9.2.0 2010-03 CT#47 CP-100022 0548 1 Modify Octets Sequence Number of RAB
Context IE 9.1.0 9.2.0 2010-03 CT#47 CP-100022 0550 1 Revive the cause value
\"User Authentication Failed\" in the Create Session Response 9.1.0 9.2.0
2010-03 CT#47 CP-100035 0554 1 Fix PCO handling by defining it per bearer
9.1.0 9.2.0 2010 CT#47 CP-100022 0556 2 Fix PDN Connection Grouped Type 9.1.0
9.2.0 2010-03 CT#47 CP-100022 0558 2 Correction on the down link notification
failure procedure 9.1.0 9.2.0 2010-03 CT#47 CP-100022 0565 2 Correction of the
presence condtion of IEs 9.1.0 9.2.0 2010-03 CT#47 CP-100021 0567 1 Figure
number, Information element and message usage 9.1.0 9.2.0 2010-03 CT#47
CP-100022 0569 2 2G related parameters in the Forward Relocation Request and
Context Response 9.1.0 9.2.0 2010-03 CT#47 CP-100022 0577 2 Essential
correction to the Create Bearer Request message 9.1.0 9.2.0 2010-03 CT#47
CP-100022 0581 1 Essential correction to FTEID IE 9.1.0 9.2.0 2010-03 CT#47
CP-100022 0583 2 Essential correction to Modify Bearer Request for non-3GPP to
3GPP handover 9.1.0 9.2.0 2010-03 CT#47 CP-100021 0585 Removal of unncessary
cause \"Unexpected repeated IE\" 9.1.0 9.2.0 2010-03 CT#47 CP-100022 0587 1
Removal of indirect uplink data forwarding from Inter RAT handovers 9.1.0
9.2.0 2010-03 CT#47 CP-100021 0591 1 Trace alignment with TS 32.422 9.1.0
9.2.0 2010-06 CT#48 CP-100266 0599 1 Essential corrections to M-TMSI mapping
9.2.0 9.3.0 2010-06 CT#48 CP-100266 0603 3 Change Notification 9.2.0 9.3.0
2010-06 CT#48 CP-100266 0605 1 Fix missing conditional description for IEs in
the context response message 9.2.0 9.3.0 2010-06 CT#48 CP-100266 0614 1 Change
Reporting Support Indication 9.2.0 9.3.0 2010-06 CT#48 CP-100266 0618 1
Handover/Relocation cancel procedure 9.2.0 9.3.0 2010-06 CT#48 CP-100266 0624
1 ULI in the Modify Bearer Request message 9.2.0 9.3.0 2010-06 CT#48 CP-100266
0626 1 MM context IE encoding 9.2.0 9.3.0 2010-06 CT#48 CP-100266 0635 2 MBR
in handover from non-3GPP to 3GPP 9.2.0 9.3.0 2010-06 CT#48 CP-100266 0637 1
Suspend over S16 9.2.0 9.3.0 2010-06 CT#48 CP-100266 0642 1 Adding Service
indicator to CS Paging Indication 9.2.0 9.3.0 2010-06 CT#48 CP-100266 0647 3
Fallback to GTPv1 9.2.0 9.3.0 2010-06 CT#48 CP-100266 0650 2 Essential
correction to ULI IE condition in Modify Bearer Request message 9.2.0 9.3.0
2010-06 CT#48 CP-100266 0657 1 TEID in Change Notification 9.2.0 9.3.0 2010-06
CT#48 CP-100266 0659 1 Charging ID 9.2.0 9.3.0 2010-06 CT#48 CP-100266 0664
Alert MME Notification / UE Activity Notification procedure on S3 interface
9.2.0 9.3.0 2010-06 CT#48 CP-100281 0540 4 Leave CSG Cell indication 9.2.0
9.3.0 2010-06 CT#48 CP-100281 0609 1 Use of Rejection Cause values 9.2.0 9.3.0
2010-06 CT#48 CP-100281 0616 2 Flow QoS in the Bearer Resource Command message
9.2.0 9.3.0 2010-06 CT#48 CP-100281 0633 1 Correction to the reference in
Create indirect DF Tunnel Request 9.2.0 9.3.0 2010-06 CT#48 CP-100281 0638 1
Removal of FFS 9.2.0 9.3.0 2010-06 CT#48 CP-100281 0673 1 Message type table
9.2.0 9.3.0 2010-06 CT#48 CP-100281 0639 3 Implicit resume 9.2.0 9.3.0 2010-06
CT#48 CP-100281 0670 1 Cause IE type 9.2.0 9.3.0 2010-06 CT#48 CP-100281 0667
2 Clarifications to redundant IEs 9.2.0 9.3.0 2010-06 CT#48 CP-100281 0669 1
EBI value range and coding 9.2.0 9.3.0 2010-06 CT#48 CP-100281 0651 1 Cause IE
enhacements to distinguish errors in the message level IE versus errors in the
grouped IE within the message 9.2.0 9.3.0 2010-06 CT#48 CP-100281 0672 1
Bearer Resource Command usage 9.2.0 9.3.0 2010-06 CT#48 CP-100287 0654 Sn-U
SGSN F-TEID 9.2.0 9.3.0 2010-06 CT#48 CP-100287 0640 2 Allocation and
Retention Priority for MBMS E-RAB 9.2.0 9.3.0 2010-06 CT#48 CP-100266 0678 1
Handling of Create Session Request message on TEID 0 for existing PDN
connection 9.2.0 9.3.0 2010-06 CT#48 CP-100298 0680 Essential correction for
the Initial Attach procedure 9.2.0 9.3.0 2010-06 CT#48 CP-100276 0612
Transferring of UE\'s usage setting and voice capability between CN nodes
9.2.0 9.3.0 2010-06 CT#48 CP-100408 0544 6 Clarifying the bearers to be
deactivated on the S5/S8 interface 9.2.0 9.3.0 2010-09 CT#49 CP-100452 0607 5
Fix Sudden disconnection after the inter RAT MM attempt 9.3.0 9.4.0 2010-09
CT#49 CP-100445 0630 4 IP Address IE clarification 9.3.0 9.4.0 2010-09 CT#49
CP-100451 0681 2 Serving Network semantics 9.3.0 9.4.0 2010-09 CT#49 CP-100444
0685 Originating Node 9.3.0 9.4.0 2010-09 CT#49 CP-100444 0687 1 Condition of
ISRAI Flag 9.3.0 9.4.0 2010-09 CT#49 CP-100444 0689 1 PDN Connection for
Subscription Data Change 9.3.0 9.4.0 2010-09 CT#49 CP-100580 0690 4
Clarification for Create Session Response 9.3.0 9.4.0 2010-09 CT#49 CP-100452
0693 2 An exception to use GTPv2 9.3.0 9.4.0 2010-09 CT#49 CP-100452 0694 IEs
to be included in rejection response messages 9.3.0 9.4.0 2010-09 CT#49
CP-100452 0695 2 Ambiguity for encoding MBR/GBR 9.3.0 9.4.0 2010-09 CT#49
CP-100452 0696 Wrong reference to DRX parameter 9.3.0 9.4.0 2010-09 CT#49
CP-100452 0697 Selection Mode 9.3.0 9.4.0 2010-09 CT#49 CP-100452 0701 2 Stop
CSG Information Reporting 9.3.0 9.4.0 2010-09 CT#49 CP-100452 0702 Create
Session Request/Response and Modify Bearer Request/Response for RAU procedure
9.3.0 9.4.0 2010-09 CT#49 CP-100452 0703 Suspend message on S3 interface 9.3.0
9.4.0 2010-09 CT#49 CP-100445 0705 1 Cause value in Detach Notification 9.3.0
9.4.0 2010-09 CT#49 CP-100445 0707 1 S1 based handover cancel 9.3.0 9.4.0
2010-09 CT#49 CP-100445 0709 1 Used NAS integrity protection algorithm values
9.3.0 9.4.0 2010-09 CT#49 CP-100452 0711 2 TAU with Active Flag 9.3.0 9.4.0
2010-09 CT#49 CP-100452 0716 1 Trace Report File LDNs 9.3.0 9.4.0 2010-09
CT#49 CP-100445 0718 1 Change Notification Response 9.3.0 9.4.0 2010-09 CT#49
CP-100451 0723 1 Presence rules and error handling for embedded IEs 9.3.0
9.4.0 2010-09 CT#49 CP-100451 0724 1 Dual Address Bearer Flag 9.3.0 9.4.0
2010-09 CT#49 CP-100451 0726 1 Rejecting the dedicated bearer related
procedure from MME to SGW and PGW 9.3.0 9.4.0 2010-09 CT#49 CP-100636 0727 2
Correction to condition of sending Context Acknowledge message 9.3.0 9.4.0
2010-09 CT#49 CP-100451 0729 2 Clarification to the OI flag usage in Delete
Session Request 9.3.0 9.4.0 2010-09 CT#49 CP-100451 0732 1 Correcting non-
existent Cause value 9.3.0 9.4.0 2010-09 CT#49 CP-100444 0736 1 Resume
messages 9.3.0 9.4.0 2010-09 CT#49 CP-100444 0738 1 LAI field 9.3.0 9.4.0
2010-09 CT#49 CP-100444 0740 1 P-TMSI Signature 9.3.0 9.4.0 2010-09 CT#49
CP-100453 0744 2 Change Reporting Support Indication 9.3.0 9.4.0 2010-09 CT#49
CP-100451 0745 1 Error handling 9.3.0 9.4.0 2010-09 CT#49 CP-100451 0746 1
Flow QoS IE 9.3.0 9.4.0 2010-09 CT#49 CP-100444 0748 1 PDN Connection for
Subscription Data Change 9.3.0 9.4.0 2010-09 CT#49 CP-100444 0750 1 E-UTRAN to
HRPD handover 9.3.0 9.4.0 2010-09 CT#49 CP-100451 0751 - Correcting type value
of the MBMS Session Start Response message 9.3.0 9.4.0 2010-09 CT#49 CP-100451
0754 - GTP protocol errors 9.3.0 9.4.0 2010-09 CT#49 CP-100451 0755 1
Essential Clarification in Forward Relocation Response message 9.3.0 9.4.0
2010-12 CT#50 CP-100675 0772 1 Suspend and Resume procedures 9.4.0 9.5.0
2010-12 CT#50 CP-100675 0774 1 Range for BSSGP Cause 9.4.0 9.5.0 2010-12 CT#50
CP-100675 0776 1 RAT Type in the Modify Bearer Request message 9.4.0 9.5.0
2010-12 CT#50 CP-100675 0780 - ISR for SGW 9.4.0 9.5.0 2010-12 CT#50 CP-100675
0782 1 ISR in the Detach procedure 9.4.0 9.5.0 2010-12 CT#50 CP-100675 0788 1
Missing Cause Code mapping for IRAT Handover between GERAN and EUTRAN 9.4.0
9.5.0 2010-12 CT#50 CP-100675 0793 - Voice bearer flag 9.4.0 9.5.0 2010-12
CT#50 CP-100675 0800 2 MBMS corrections 9.4.0 9.5.0 2010-12 CT#50 CP-100675
0820 1 CSG Reporting 9.4.0 9.5.0 2010-12 CT#50 CP-100675 0824 - Target
Identification 9.4.0 9.5.0 2010-12 CT#50 CP-100675 0829 2 Reporting UE Time
Zone changes 9.4.0 9.5.0 2010-12 CT#50 CP-100675 0837 1 Essential correction
for UE Timezone reporting 9.4.0 9.5.0 2010-12 CT#50 CP-100675 0845 2 ISR
activated flag 9.4.0 9.5.0 2010-12 CT#50 CP-100672 0850 1 Determination of
type of source node during TAU/RAU 9.4.0 9.5.0 2010-12 CT#50 CP-100674 0764 1
Essential correction to Create Indirect Data Forwarding Tunnel Response 9.4.0
9.5.0 2010-12 CT#50 CP-100669 0815 2 Essential alignment with PMIP spec 9.4.0
9.5.0 2010-12 CT#50 CP-100667 0827 - UE Time Zone adjustments 9.4.0 9.5.0
2011-03 CT#51 CP-110049 0917 2 Protocol Configuration Options (PCO) in Delete
Bearer Response 9.5.0 9.6.0 2011-03 CT#51 CP-110049 0902 1 UE Time Zone
condition in Modify Bearer Request 9.5.0 9.6.0 2011-03 CT#51 CP-110049 0900 1
UE Time Zone condition in Delete Session Request 9.5.0 9.6.0 2011-03 CT#51
CP-110049 0888 3 Subscribed UE-AMBR in mobility procedure 9.5.0 9.6.0 2011-03
CT#51 CP-110049 0883 5 Essential correction to the fallback to GTPv1 feature
9.5.0 9.6.0 2011-03 CT#51 CP-110049 0880 1 RAT Type in the Modify bearer
request message 9.5.0 9.6.0 2011-03 CT#51 CP-110049 0878 - Missed procedures
for the Delete Session Request and Response messages 9.5.0 9.6.0 2011-03 CT#51
CP-110049 0865 1 Correction to passing of LDN 9.5.0 9.6.0 2011-03 CT#51
CP-110049 0861 - S103 resource release 9.5.0 9.6.0 2011-03 CT#51 CP-110049
0885 1 Essential correction to the to GTPv2 cause table 9.5.0 9.6.0 2011-03
CT#51 CP-110042 0891 - Correcting IE Type for Bearer QoS IE from Variable to
Extendable 9.5.0 9.6.0 2011-03 CT#51 CP-110042 0913 1 Essential correction to
the encoding of Target RNC-ID 9.5.0 9.6.0 2011-03 CT#51 CP-110042 0898 1
Temporary Mobile Group Identity 9.5.0 9.6.0 2011-05 Editorial correction in
section 7.10 because of misimplentation of CT#51 agreed CR C4-110989 9.6.0
9.6.1 2011-06 CT#52 CP-110355 0926 2 Mapping of ASN.1/PER parameters to GTPv2
IEs 9.6.1 9.7.0 2011-06 CT#52 CP-110355 0939 2 Downlink Data Notification for
S4 9.6.1 9.7.0 2011-06 CT#52 CP-110355 0963 1 IE Type Extendable Corrections
9.6.1 9.7.0 2011-06 CT#52 CP-110366 0929 2 Fix SRVCC related data transfer
between MMEs/SGSNs 9.6.1 9.7.0 2011-06 CT#52 CP-110366 0931 1 UE Time Zone IE
in Delete Session Request message 9.6.1 9.7.0 2011-06 CT#52 CP-110366 0942 1
Higher bitrates than 16 Mbps flag 9.6.1 9.7.0 2011-06 CT#52 CP-110366 0952 1
Temporary Rejection Cause 9.6.1 9.7.0 2011-06 CT#52 CP-110366 0957 1 Cause IE
in DDN message 9.6.1 9.7.0 2011-08 Editorial correction in section 7.10
because of misimplentation of CT#51 agreed CR C4-110989 9.7.0 9.7.1 2011-09
CT#53 CP-110557 0968 Additional MM context for SRVCC 9.7.1 9.8.0 2011-09 CT#53
CP-110557 0976 1 Condition for sending Cause IE with DBReq during a HO from
3GPP to non-3GPP 9.7.1 9.8.0 2011-09 CT#53 CP-110557 0985 1 Essential
Clarification for SGSN pool 9.7.1 9.8.0 2011-09 CT#53 CP-110557 0993 1
Essential correction to handling of EPDN session for UICCless UE 9.7.1 9.8.0
2011-09 CT#53 CP-110557 0995 1 Correction to ULI and UCI IE inclusion
condition in Change Notification Req 9.7.1 9.8.0 2011-09 CT#53 CP-110557 0999
1 Correction to header TEID of Suspend Notification over S3/S16 9.7.1 9.8.0
2011-09 CT#53 CP-110557 1014 1 Extended IE handling when received fields are
less than expected fields 9.7.1 9.8.0 2011-09 CT#53 CP-110557 1015 1 Cause
Code for DDN 9.7.1 9.8.0 2011-12 CT#54 CP-110784 1052 2 Defining the fixed
number of octets for extendable IEs 9.8.0 9.9.0 2011-12 CT#54 CP-110782 1056 2
Essential correction to the TAD IE inclusion in Bearer Resource Command over
S4 9.8.0 9.9.0 2011-12 CT#54 CP-110784 1020 2 Essential clarification on
F-TEID in Create Bearer Response 9.8.0 9.9.0 2011-12 CT#54 CP-110784 1028 3
Modify Bearer Request as implicit resume 9.8.0 9.9.0 2011-12 CT#54 CP-110784
1078 2 User CSG Information in TAU/RAU procedures 9.8.0 9.9.0 2011-12 CT#54
CP-110784 1081 2 Missing Originating Node IE when ISR is active 9.8.0 9.9.0
2011-12 CT#54 CP-110784 1101 2 Missing Cause Value for MUPSAP 9.8.0 9.9.0
2011-12 CT#54 CP-110784 1110 - Correction to the Sender F-TEID IE description
of the Forward Relocation Request 9.8.0 9.9.0 2011-12 CT#54 CP-110784 1111 1
Downlink bearers release during mobility procedure 9.8.0 9.9.0 2012-03 CT#55
CP-120017 1115 - Handover to CSG cell with emergency bearer 9.9.0 9.10.0
2012-03 CT#55 CP-120017 1118 - Pre-Rel-7 QoS description correction 9.9.0
9.10.0 2012-03 CT#55 CP-120017 1124 2 Reserved Bearer Context at SRNS
Relocation 9.9.0 9.10.0 2012-03 CT#55 CP-120017 1144 2 Higher bitrates than 16
Mbps flag 9.9.0 9.10.0 2012-03 CT#55 CP-120017 1178 1 ULI reporting for S4
9.9.0 9.10.0 2012-12 CT#58 CP-120710 1255 1 Removal of TFT IE from Create
Session Response message 9.10.0 9.11.0 2014-09 CT#65 CP-140736 1506 2 Encoding
of BSS Container in E-UTRAN to GERAN PS handover 9.11.0 9.12.0