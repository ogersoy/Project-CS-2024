# Foreword
This Technical Specification (TS) has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document specifies the mapping of the AMR wideband generic frame
format (3GPP TS 26.201) to the Iu Interface (3GPP TS 25.415), the Uu Interface
and the Nb Interface (3GPP TS 29.415) of a BICC-based circuit switched core
network. It further specifies the mapping of PCM 64 kBit/s (ITU-T G.711) coded
speech to the Nb Interface of a BICC-based circuit switched core network.
The mapping of the AMR wideband generic frame format to RTP for the
A-Interface and the Nb Interface for a SIP-I -based circuit switched core
network is described in TS 26.102.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
  * References are either specific (identified by date of publication, > edition number, version number, etc.) or non‑specific.
  * For a specific reference, subsequent revisions do not apply.
  * For a non-specific reference, the latest version applies.
[1] 3GPP TS 25.415: \"Iu Interface CN-UTRAN User plane Protocols\".
[2] 3GPP TS 26.201: \"AMR Wideband Speech Codec, Frame structure\".
[3] 3GPP TS 23.107: \"QoS Concept and Architecture\".
[5] 3GPP TS 28.062: \" In-band Tandem Free Operation (TFO) of Speech Codecs,
Stage 3\".
[6] 3GPP TS 23.153: \"Out of band transcoder control, Stage 2\".
[6] 3GPP TS 29.415: \"Core Network Nb Interface User Plane Protocols\".
[7] ITU-T I.366.2: \"AAL type 2 service specific convergence sublayer for
trunking\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document the following terms and definitions
apply:
**AMR Wideband Generic Frame Interface** : this interface transports the AMR-
WB IF1 generic frame as defined in 3GPP TS 26.201.
## 3.2 Abbreviations
For the purposes of the present document, the following abbreviations apply:
AAL2 ATM Adaptation Layer 2
ACS Active Codec Set
AMR Adaptive Multi-Rate
AS Access Stratum
ATM Asynchronous Transfer Mode
BFH Bad Frame Handling
CMR/CMC Codec Mode Request or Codec Mode Command
CMI Codec Mode Indication
CN Core Network
CDMA Code Division Multiple Access
DRC Downlink Rate Command
FDD Frequency Duplex Division
FQC Frame Quality Classification (Iu Interface)
FQI Frame Quality Indication (AMR-WBIF1)
GSM Global System for Mobile communications
ITU-T International Telecommunication Union -- Telecommunication
standardisation sector (former CCITT)
MAC Media Access Control
MGW Media GateWay
PCM Pulse Code Modulation, synonym for 64 kBit/s coded speech (see ITU-T
G.711)
PLMN Public Land Mobile Network
QoS Quality of Service
RAN Radio Access Network
RAB Radio Access Bearer
RF Radio Frequency
RFC RAB sub-flow Combination
RFCI RFC Indicator
RFCS RFC Set
RX Receive
SCR Source Controlled Rate
SDU Source Data Unit
SID Silence Insertion Descriptor
SMpSDU Support Mode for Predefined SDU sizes
SPD SPeech Decoder
SPE SPeech Encoder
TC Transcoder
TDD Time Duplex Division
TDMA Time Division Multiple Access
TFO Tandem Free Operation
TrFO Transcoder Free Operation
TX Transmit
UE User Equipment (terminal)
URC Uplink Rate Command
# 4 General
The mapping of the AMR-WB Speech Codec parameters to the Iu interface
specifies the frame structure of the speech data exchanged between the RNC and
the TC in case of normal operation and Tandem Free Operation, respectively
between RNC 1 and RNC 2 in case of Transcoder Free Operation. This mapping is
independent from the radio interface in the sense that it has the same
structure for both FDD and TDD modes of the UTRAN.
The mapping between the Speech Codec and the Radio Access Network within the
UE is not an open interface and need not to be detailed.
The mapping on the Nb Interface is identical to the one on the Iu Interface in
case of Transcoder Free Operation, with the MGW relaying the SDUs unaltered
between Iu and Nb Interfaces.\ In case of transcoding within the MGW the PCM
coded speech is mapped onto the Nb Interface in packets of 40 octets.
# 5 RAB aspects
During the RAB Assignment procedure initiated by the CN to establish the RAB
for UMTS_AMR-WB, the RAB parameters are defined. The UMTS_AMR-WB RAB is
established with one or more RAB co-ordinated sub-flows with predefined sizes
and QoS parameters. In this way, each Transport Format Combination between
sub-flows corresponds to one UMTS_AMR-WB frame type. On the Iu interface,
these RAB parameters define the corresponding parameters regarding the
transport of UMTS_AMR-WB frames.
Some of the QoS parameters in the RAB assignment procedure are determined from
the Bearer Capability Information Element used at call set up. These QoS
parameters as defined in [3], can be set as follows:
Table 5-1: Example of mapping of BC IE into QoS parameters for UMTS_AMR-WB
+-----------+-----------+-----------+-----------+-----------+---+ | RAB | RAB | Comments | | | | | service | service | | | | | | attribute | attribute | | | | | | | value | | | | | +-----------+-----------+-----------+-----------+-----------+---+ | Traffic | Conve | | | | | | Class | rsational | | | | | +-----------+-----------+-----------+-----------+-----------+---+ | RAB | S | Symmetric | | | | | Asymmetry | ymmetric, | RABs are | | | | | Indicator | bidi | used for | | | | | | rectional | uplink | | | | | | | and | | | | | | | downlink | | | | +-----------+-----------+-----------+-----------+-----------+---+ | Maximum | 12,65 | This | | | | | bit rate | kbit/s in | value | | | | | | confi | depends | | | | | | gurations | on the | | | | | | 0 and 1\ | highest | | | | | | 15,85 | mode rate | | | | | | kbit/s in | in the | | | | | | confi | RFCS | | | | | | gurations | (note 2) | | | | | | 2 and 3\ | | | | | | | 23,85 | | | | | | | kbit/s in | | | | | | | confi | | | | | | | gurations | | | | | | | 4 and 5 | | | | | +-----------+-----------+-----------+-----------+-----------+---+ | G | 6,60 | One of | | | | | uaranteed | kbit/s | the | | | | | bit rate | | values is | | | | | | | chosen, | | | | | | | depending | | | | | | | on the | | | | | | | lowest | | | | | | | rate | | | | | | | con | | | | | | | trollable | | | | | | | SDU | | | | | | | format | | | | | | | (note 2) | | | | +-----------+-----------+-----------+-----------+-----------+---+ | Delivery | Yes | (note 1) | | | | | Order | | | | | | +-----------+-----------+-----------+-----------+-----------+---+ | Maximum | 253 in | Maximum | | | | | SDU size | confi | size of | | | | | | gurations | payload | | | | | | 0 and 1 | field in | | | | | | | Iu UP, | | | | | | 317 in | according | | | | | | confi | to the | | | | | | gurations | highest | | | | | | 2 and 3 | mode rate | | | | | | | in the | | | | | | 477 in | RFCS | | | | | | confi | (note 2) | | | | | | gurations | | | | | | | 4 and 5 | | | | | +-----------+-----------+-----------+-----------+-----------+---+ | Traffic | Not | Parameter | | | | | Handling | a | not | | | | | Priority | pplicable | a | | | | | | | pplicable | | | | | | | for the | | | | | | | conve | | | | | | | rsational | | | | | | | traffic | | | | | | | class. | | | | | | | (note 1) | | | | +-----------+-----------+-----------+-----------+-----------+---+ | Source | Speech | (note 1) | | | | | s | | | | | | | tatistics | | | | | | | d | | | | | | | escriptor | | | | | | +-----------+-----------+-----------+-----------+-----------+---+ | SDU | RAB | RAB | The | | | | P | subflow 1 | subflow 2 | number of | | | | arameters | (Class A | (Class B | SDU, | | | | | bits) | bits) | their | | | | | | | number of | | | | | | | RAB | | | | | | | subflow | | | | | | | is | | | | | | | subject | | | | | | | to | | | | | | | operator | | | | | | | tuning | | | | | | | (note 3) | | | +-----------+-----------+-----------+-----------+-----------+---+ | | SDU error | 7 * | - | (note 3) | | | | ratio | 10^-3^ | | | | +-----------+-----------+-----------+-----------+-----------+---+ | | Residual | 10^-6^ | 10^-3^ | (note 3 | | | | bit error | | | -- | | | | ratio | | | a | | | | | | | pplicable | | | | | | | for every | | | | | | | subflow) | | +-----------+-----------+-----------+-----------+-----------+---+ | | Delivery | yes | - | Class A | | | | of | | | bits are | | | | erroneous | | | delivered | | | | SDUs | | | with | | | | | | | error | | | | | | | ind | | | | | | | ication;\ | | | | | | | Class B | | | | | | | bits are | | | | | | | delivered | | | | | | | without | | | | | | | any error | | | | | | | in | | | | | | | dication. | | +-----------+-----------+-----------+-----------+-----------+---+ | | SDU | | | (note 4) | | | | format | | | | | | | in | | | | | | | formation | | | | | | | 1-5 | | | | | +-----------+-----------+-----------+-----------+-----------+---+ | | | sub-flow | (note 5) | (note 5) | | | | | SDU size | | | | | | | 1-5 | | | | +-----------+-----------+-----------+-----------+-----------+---+ | | | | | | | +-----------+-----------+-----------+-----------+-----------+---+ | | | | | | | +-----------+-----------+-----------+-----------+-----------+---+ | NOTE 1: | | | | | | | These | | | | | | | p | | | | | | | arameters | | | | | | | apply to | | | | | | | all UMTS | | | | | | | speech | | | | | | | codec | | | | | | | types. | | | | | | | | | | | | | | NOTE 2: | | | | | | | The | | | | | | | g | | | | | | | uaranteed | | | | | | | bit rate | | | | | | | depends | | | | | | | on the | | | | | | | pe | | | | | | | riodicity | | | | | | | and the | | | | | | | lowest | | | | | | | rate | | | | | | | con | | | | | | | trollable | | | | | | | SDU size. | | | | | | | All | | | | | | | UMT | | | | | | | S_AMR-WB | | | | | | | confi | | | | | | | gurations | | | | | | | as | | | | | | | defined | | | | | | | in TS | | | | | | | 26.103 | | | | | | | contain | | | | | | | the 6,60 | | | | | | | kbps | | | | | | | codec | | | | | | | mode as | | | | | | | lowest | | | | | | | and | | | | | | | therefore | | | | | | | "g | | | | | | | uaranteed | | | | | | | bit | | | | | | | rate". | | | | | | | The | | | | | | | "maximum | | | | | | | bit rate" | | | | | | | and the | | | | | | | "maximum | | | | | | | SDU size" | | | | | | | depend on | | | | | | | the | | | | | | | selected | | | | | | | UMT | | | | | | | S_AMR-WB | | | | | | | confi | | | | | | | guration. | | | | | | | | | | | | | | NOTE 3: | | | | | | | These | | | | | | | p | | | | | | | arameters | | | | | | | are | | | | | | | subject | | | | | | | to | | | | | | | operator | | | | | | | tuning. | | | | | | | | | | | | | | NOTE 4: | | | | | | | SDU | | | | | | | format | | | | | | | in | | | | | | | formation | | | | | | | has to be | | | | | | | specified | | | | | | | for each | | | | | | | A | | | | | | | MR-WBcore | | | | | | | frame | | | | | | | type | | | | | | | (i.e. | | | | | | | with | | | | | | | speech | | | | | | | bits and | | | | | | | comfort | | | | | | | noise | | | | | | | bits) | | | | | | | included | | | | | | | in the | | | | | | | RFCS as | | | | | | | defined | | | | | | | in [2]. | | | | | | | | | | | | | | NOTE 5: | | | | | | | The | | | | | | | subflow | | | | | | | SDU size | | | | | | | corr | | | | | | | esponding | | | | | | | to an | | | | | | | A | | | | | | | MR-WBcore | | | | | | | frame | | | | | | | type | | | | | | | indicates | | | | | | | the | | | | | | | number of | | | | | | | bits in | | | | | | | the class | | | | | | | A, class | | | | | | | B fields. | | | | | | +-----------+-----------+-----------+-----------+-----------+---+
The conversational traffic class shall be used for the speech service, which
is identified by the ITC parameter of the bearer capability information
element in the SETUP message. This shall apply for all UMTS speech codec
types.\ The parameters traffic class, transfer delay, traffic handling
priority and source statistics descriptor shall be the same for all speech
codec types applicable for UMTS.
# 6 Iu Interface User Plane (RAN)
The data structures exchanged on the Iu interface are symmetrical, i.e. the
structure of the uplink data frames is identical to that of the downlink data
frames. This facilitates Tandem Free Operation and Transcoder Free Operation.
## 6.1 Frame structure on the Iu UP transport protocol
### 6.1.1 Initialisation
At the initialisation of the SMpSDU mode of operation, several parameters are
set by the CN. The initialisation procedure is described in 3GPP TS 25.415
[1].
\- RFCS:
In the case of UMTS_AMR-WB, the RFCS corresponds to the Active Codec Set (ACS)
plus SCR authorised in the communication. _Annex A of [1] gives an
illustration of the usage of RFCI for UMTS_AMR-WB speech RAB. RFCS used in
downlink may differ from that in uplink._
\- Delivery of erroneous SDUs:
This parameter shall be set to YES. Erroneous speech frames may be used to
assist the error concealment procedures.
The PDU type 0 shall be used for the transport of AMR-WB data.
### 6.1.2 Time Alignment Procedure
The TC should adjust the timing of the speech data transmission in downlink
direction according to the time alignment frame sent by the RNC.
Time alignment procedure shall be dismissed in case of TFO and TrFO.
## 6.2 Mapping of the bits
The mapping of the bits between the generic AMR-WB frames and the PDU is the
same for both uplink and downlink frames.
The following table gives the correspondence of the bit fields between the
generic AMR-WB frames at the TC interface and the PDU exchanged with the Iu
transport layer.
Table 6-1: Mapping of generic AMR-WB frames onto Iu PDUs
+---------------------------+---------------------------+-----------+ | PDU field | Corresponding field | Comment | | | within the\ | | | | generic AMR-WB frame | | +---------------------------+---------------------------+-----------+ | **PDU Type** | N/A | Type 0 | +---------------------------+---------------------------+-----------+ | **Frame Number** | N/A | | +---------------------------+---------------------------+-----------+ | **FQC** | Frame Quality Indicator | | +---------------------------+---------------------------+-----------+ | **RFCI** | Frame Type | | +---------------------------+---------------------------+-----------+ | **Payload CRC** | N/A | | +---------------------------+---------------------------+-----------+ | **Header CRC** | N/A | | +---------------------------+---------------------------+-----------+ | | | | +---------------------------+---------------------------+-----------+ | **Payload Fields (N | Class A or SID payload | | | sub-flows)** | | | | | Class B | | +---------------------------+---------------------------+-----------+ | **SDU #1** | Most important speech | Mandatory | | | bits come first | | +---------------------------+---------------------------+-----------+ | **SDU #2** | Next bits follow | Optional | +---------------------------+---------------------------+-----------+ | | | | +---------------------------+---------------------------+-----------+ | **...** | ... | Optional | +---------------------------+---------------------------+-----------+ | **SDU #N** | Least important speech | Optional | | | bits | | +---------------------------+---------------------------+-----------+
The number of RAB sub-flows, their corresponding sizes, and their attributes
such as \"Delivery of erroneous SDUs\" shall be defined at the RAB
establishment and signalled in the RANAP RAB establishment request, as
proposed in clause 5. The number of RAB sub-flows are corresponding to the
desired bit protection classes. The total number of bits in all sub-flows for
one RFC shall correspond to the total number given in 3GPP TS 26.201, generic
AMR-WB frame, format IF1, for the corresponding Codec Mode respectively Frame
Type.
Guidance for setting the number of bits in each RAB sub-flow according to
their relative subjective importance is given in 3GPP TS 26.201.
Table 6-2 gives three examples of sub-flow mapping, one for each allowed
configuration.\ The RFCI definition is given in order of increasing SDU sizes.
In all examples, the sub-flow mapping follows the class division guidance of
TS 26.201, with some slight modification: in order to support Blind Transport
Format Detection the number of bits in class A is sometimes increased slightly
by taking the next bits from class B into class A.
\- Example 1 describes Codec Type UMTS_AMR-WB, with the three lowest codec
modes foreseen in the Active Codec Set (ACS) and provision for Source
Controlled Rate operation (SCR).
  * Example 2 describes Codec Type UMTS_AMR-WB as in example 1, with codec mode 15.85 in addition.
  * Example 3 describes Codec Type UMTS_AMR-WB as in example 1, with codec mode 23.85 in addition.
Table 6‑2: Examples for UMTS_AMR-WB with SCR and two sub-flows, according to
subjective class division indication of 3GPP TS 26.201
+-------------+-------------+-------------+-------------+-------------+ | U | RAB | Total | Source rate | | | MTS_AMR-WB | sub-flows | number\ | | | | | | of bits per | | | | | | RAB | | | | | | sub-flow | | | | | | combination | | | | | | | | | | | | (Mandatory) | | | +-------------+-------------+-------------+-------------+-------------+ | RFCI | RAB sub- | RAB sub- | | | | | | | | | | | flow 1 | flow 2 | | | | | | | | | | | (Optional) | (Optional) | | | +-------------+-------------+-------------+-------------+-------------+ | | | | | | +-------------+-------------+-------------+-------------+-------------+ | Example 1 | | | | | +-------------+-------------+-------------+-------------+-------------+ | 1 | **40** | **0** | 40 | AMR-WB SID | +-------------+-------------+-------------+-------------+-------------+ | 2 | **54** | **78** | 132 | AMR-WB 6.6 | | | | | | kbps | +-------------+-------------+-------------+-------------+-------------+ | 3 | **64** | **113** | 177 | AMR-WB 8.85 | | | | | | kbps | +-------------+-------------+-------------+-------------+-------------+ | 4 | 72 | 181 | 253 | AMR-WB | | | | | | 12.65 kbps | +-------------+-------------+-------------+-------------+-------------+ | | | | | | +-------------+-------------+-------------+-------------+-------------+ | Example 2 | | | | | +-------------+-------------+-------------+-------------+-------------+ | 1 | 40 | 0 | 40 | AMR-WB SID | +-------------+-------------+-------------+-------------+-------------+ | 2 | 54 | 78 | 132 | AMR-WB 6.6 | | | | | | kbps | +-------------+-------------+-------------+-------------+-------------+ | 3 | 64 | 113 | 177 | AMR-WB 8.85 | | | | | | kbps | +-------------+-------------+-------------+-------------+-------------+ | 4 | 72 | 181 | 253 | AMR-WB | | | | | | 12.65 kbps | +-------------+-------------+-------------+-------------+-------------+ | 5 | 73 | 244 | 317 | AMR-WB | | | | | | 15.85 kbps | +-------------+-------------+-------------+-------------+-------------+ | | | | | | +-------------+-------------+-------------+-------------+-------------+ | Example 3 | | | | | +-------------+-------------+-------------+-------------+-------------+ | 1 | 40 | 0 | 40 | AMR-WB SID | +-------------+-------------+-------------+-------------+-------------+ | 2 | 54 | 78 | 132 | AMR-WB 6.6 | | | | | | kbps | +-------------+-------------+-------------+-------------+-------------+ | 3 | 64 | 113 | 177 | AMR-WB 8.85 | | | | | | kbps | +-------------+-------------+-------------+-------------+-------------+ | 4 | 72 | 181 | 253 | AMR-WB | | | | | | 12.65 kbps | +-------------+-------------+-------------+-------------+-------------+ | 5 | 74 | 403 | 477 | AMR-WB | | | | | | 23.85 kbps | +-------------+-------------+-------------+-------------+-------------+
## 6.3 Frame handlers
Iu PDU Frame handling functions are described in 3GPP TS 25.415. This sections
describes the mandatory frame handling functions at the AMR-WB Generic frame
interface.
### 6.3.1 Handling of frames from TC to Iu interface (downlink)
The frames from the TC in generic AMR-WB frame format IF1 are mapped onto the
Iu PDU as follows.
#### 6.3.1.1 Frame Quality Indicator
The Frame Quality Indicator (FQI) from the TC, respectively from the distant
TFO partner, is directly mapped to the Frame Quality Classification (FQC) of
the Iu frame according to Table 6-3.
Table 6‑3: FQI AMR-WBto FQC Iu PDU mapping
* * *
FQI AMR FQI value\ FQC PDU FQC value\ (1 bit) (2 bit)
GOOD 1 GOOD 00
BAD 0 BAD 01
* * *
#### 6.3.1.2 Frame Type
The received Frame Type Index l is mapped onto the RFCI j thanks to the
assigned RFCS table: the correspondence between Codec Mode, Frame Type Index l
and RFCI j is defined at RAB assignment.
#### 6.3.1.3 Codec Mode Indication
The Codec Mode Indication is not used.
#### 6.3.1.4 Codec Mode Request
Codec Mode Request (CMR) in downlink direction is forwarded to the rate
control procedure when it changes, or when it is commanded so by the TC in
case of TFO, see 3G TS 28.062.
#### 6.3.1.5 Optional internal 8 bits CRC
The internal AMR-WB codec CRC is not used on the Iu interface.
#### 6.3.1.6 Mapping of Speech or Comfort Noise parameter bits
Let us define the N payload fields of the N sub-flows for RFCI j as follow :
U~i~(k) shall be the bits in sub-flow i, for k =1 to Mi
M~i~ shall be the size of sub-flow i, for i = 1 to N
d(k) shall be the bits of the speech or comfort noise parameters of the
corresponding Frame Type 1 in decreasing subjective importance, as defined in
the generic AMR-WB frame format IF1, see TS 26.201.
Then the following mapping in pseudo code applies:
U~1~(k) = d(k-1) with k = 1, ... M~1~
U~2~(k) = d(k-1 + M~1~) with k = 1, ... M~2~
U~3~(k) = d(k-1 + M~2~) with k = 1, ... M~3~
...
U~N~(k) = d(k-1 + M~N-1~) with k = 1 ... M~N~
### 6.3.2 Handling of frames from Iu interface to TC (uplink)
The uplink Iu frames are mapped onto generic AMR-WB frames, format IF1, as
follows.
#### 6.3.2.1 Frame Quality Indicator
At reception of Iu PDU the Iu frame handler function set the Frame Quality
Classification according to the received FQC, Header-CRC check, and Payload-
CRC check (see 25.415). AMR-WB Frame Type and Frame Quality Indicator are
determined according to the following table:
Table 6‑4: FQC Iu PDU type 0 to AMR-WB FQI and AMR-WB Frame Type mapping
* * *
FQC FQC value\ Resulting\ FQI value\ Resulting\ **(2 bits)** FQI **(1 bit)**
Frame Type
GOOD 00 GOOD 1 from RFCI
BAD 01 BAD 0 NO_DATA
BAD Radio 10 BAD 0 from RFCI
Reserved 11 BAD 0 Reserved
* * *
#### 6.3.2.2 Frame Type
The received RFCI j is mapped onto the Frame Type Index l thanks to the RFCS
table.
#### 6.3.2.3 Codec Mode Indication
The Codec Mode Indication is not used.
#### 6.3.2.4 Codec Mode Request
The received Downlink Rate Control (DRC) command is mapped onto the Codec Mode
Request (CMR) towards the AMR-WB Codec. In case a new DRC is received it is
mapped into the corresponding CMR of the generic AMR-WB frame format. It is
remembered by the TC until the next DRC is received. In each new frame that is
sent to the AMR-WB Codec, the stored CMR is resent, in order to control the
Codec Mode for the downlink direction.
#### 6.3.2.5 Optional internal 8 bits CRC
The internal AMR-WB Codec CRC is not used on the Iu interface.
#### 6.3.2.6 Speech and Comfort noise parameter bits
The speech and Comfort noise parameter bits are mapped from the sub-flows to
the payload of the generic AMR-WB frames with the reverse function of
subclause 6.3.1.6.
# 7 Uu Interface User Plane (UE)
The interface between the UE AMR-WB speech codec (see 3GPP TS 26.201) and the
Radio Access Network is an internal UE interface and is not detailed. The
mapping is corresponding to the mapping described in clause 6 for the Iu
interface.
# 8 Nb Interface User Plane (CN)
The data structures exchanged on the Nb interface are symmetrical, i.e. the
structures of the sent and received data frames are identical.
## 8.1 Frame structure on the Nb UP transport protocol
Delivery of erroneous SDUs for AMR-WB data and PCM coded speech on the Nb
interface shall be set to: \"YES\".
Erroneous speech frames may be used to assist the error concealment
procedures. Therefore, according to [1] and [6], PDU Type 0 (with payload CRC)
shall be used for the transport of AMR-WB coded speech on the Nb interface.\
PDU Type 0 (with payload CRC) shall be used for the transport of PCM coded
speech on the Nb interface, too.
### 8.1.1 Initialisation
The initialisation procedure is used for support mode. At the initialisation
several parameters are set by the CN. The initialisation procedure for the Nb
Interface is described in [6].
### 8.1.2 Time Alignment Procedure
The handling of Time Alignment on the Nb Interface is described in [6].
The Time alignment procedure shall be dismissed in case of TFO and TrFO.
## 8.2 Mapping of the bits
### 8.2.1 Mapping for AMR-WB frames
The mapping of the bits between the generic AMR-WB frames and the PDU for the
Nb Interface is identical to the mapping on the Iu Interface. In case of TrFO
the MGW relays the AMR-WB frames from the Iu Interface unaltered to the Nb
Interface and vice versa, as described in [6].
### 8.2.2 Mapping for PCM Coded Speech
In case of transcoding within the MGW from PCM coded speech to AMR-WB frames
and vice versa the mapping for the PCM coded speech on the Nb Interface shall
be as defined in Table 8-1.
Table 8-1: Mapping of PCM Coded Speech onto Nb PDU, Type 0
* * *
**PDU field** Comment
PDU Type Type 0 (with Payload CRC)
Frame Number as defined in [6]
FQC set to \"good\"
RFCI initialise by MGW, see [6],\ one value required
Header CRC as defined in [6]
Payload CRC as defined in [6]
Payload Field 40 octets of PCM coded speech,\ in accordance with [7].
* * *
## 8.3 Frame handlers
Nb PDU Frame handling functions are described in [6].
#