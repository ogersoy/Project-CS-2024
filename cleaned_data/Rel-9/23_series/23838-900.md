# Foreword
This Technical Report has been produced by the 3rd Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
This technical report intends to develop enhancements for Rel-8 IMS Service
Continuity and solutions for mobility of media flows and control of a session
between different devices under the same subscription (i.e. Inter-UE Transfer)
to a state where they can be transferred to normative specifications, focusing
on the following aspects:
For Inter-UE transfer:
\- Inter-UE Transfer scenarios for transferring/retrieval/addition/deletion of
media flows in a Collaborative Session;
\- Inter-UE Transfer scenarios for establishment or continuation of a
Collaborative Session while transferring control;
\- Transferring media flows to the target UE whilst keeping the Collaborative
Session control in the source UE.
For IMS Service Continuity Enhancement:
\- Management of operator policy and user preferences;
\- Interaction and coexistence with underlying mobility mechanisms and
corresponding policies;
\- Further capabilities for the support of mid-call services during session
transfer, in addition to those defined in TS 23.292 [6], TS 23.237 [5] and TS
23.216 [6];
\- Session Continuity for speech and video over CS.
IMS Service Continuity will be restricted to service continuity using IMS
procedures, i.e. mobility mechanisms on the IP-CAN level are not within the
scope of this document This document does not overlap with the underlying EPC
and SRVCC features, even though there could be cross-references between the
corresponding Technical Specifications.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
  * References are either specific (identified by date of publication, > edition number, version number, etc.) or nonâ€‘specific.
  * For a specific reference, subsequent revisions do not apply.
  * For a non-specific reference, the latest version applies. In the > case of a reference to a 3GPP document (including a GSM document), > a non-specific reference implicitly refers to the latest version > of that document _in the same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 22.101: \"Service aspects; Service principles\".
[3] 3GPP TS 23.216: \" Single Radio Voice Call Continuity (SRVCC); Stage 2\".
[4] 3GPP TS 23.228: \"IP Multimedia Subsystem (IMS); Stage 2\".
[5] 3GPP TS 23.237: \" IP Multimedia Subsystem (IMS) Service Continuity; Stage
2\".
[6] 3GPP TS 23.292: \"IP Multimedia Subsystem (IMS) centralized services;
Stage 2\".
[7] 3GPP TS 23.401: \"GPRS enhancements for E-UTRAN access\".
[8] 3GPP TS 23.402: \"Architecture enhancements for non-3GPP accesses\".
[9] 3GPP TS 24.173: \"IMS Multimedia telephony service and supplementary
services\".
[10] 3GPP TS 23.892: \"IP Multimedia Subsystem (IMS) centralized services\".
[11] 3GPP TS 24.008: \"Mobile radio interface Layer 3 specification; Core
network protocols; Stage 3\".
[12] 3GPP TS 23.002: \"Network architecture\".
[13] IETF RFC 3261: \"SIP: Session Initiation Protocol\".
[14] IETF RFC 3680: \"A Session Initiation Protocol (SIP) Event Package for
Registrations\".
[15] IETF RFC 3840: \"Indicating User Agent Capabilities in the Session
Initiation Protocol (SIP)\".
[16] IETF RFC 3841: \"Caller Preferences for the Session Initiation Protocol
(SIP)\".
[17] IETF RFC 3856: \"A Presence Event Package for the Session Initiation
Protocol (SIP)\".
[18] IETF draft, draft-ietf-sipping-gruu-reg-event-09: \"Registration Event
Package Extension for Session Initiation Protocol (SIP) Globally Routable User
Agent URIs (GRUU)\", July 2007.
Editor\'s Note: The above document cannot be formally referenced until it is
published as an RFC.
[19] 3GPP TR 23.883: \"Study on Enhancements to ICS\".
[20] 3GPP TS 22.228: \"Service requirements for the Internet Protocol (IP)
multimedia core network subsystem; Stage 1\".
[21] IETF RFC 5196: \"Session Initiation Protocol (SIP) User Agent Capability
Extension to Presence Information Data Format (PIDF)\"
[22] 3GPP TS 24.141: \"Presence service using the IP Multimedia (IM) Core
Network (CN) subsystem; Stage 3\".
[23] 3GPP TS 22.173: \"IP Multimedia Core Network Subsystem (IMS) Multimedia
Telephony Service and supplementary services; Stage 1\".
[24] 3GPP TS 24.610: \"Communication HOLD (HOLD) using IP Multimedia (IM) Core
Network (CN) subsystem; Protocol specification\".
[25] 3GPP TS 24.605: \"Conference (CONF) using IP Multimedia (IM) Core Network
(CN) subsystem; Protocol specification\".
[26] 3GPP TS 24.629: \"Explicit Communication Transfer (ECT) using IP
Multimedia (IM) Core Network (CN) subsystem; Protocol specification\".
[27] 3GPP TS 24.647: \"Advice Of Charge (AOC) using IP Multimedia (IM)Core
Network (CN) subsystem; Protocol Specification\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions in TR
21.905 [1] and the following apply.
**Inter UE Transfer:** A mechanism to support the capability to transfer some
or all of the media flows and/or service control across a set of UEs.
**Collaborative Session:** A logical set of one or more IMS sessions (on two
or more UEs sharing the same IMS subscription) anchored in the SCC AS that are
presented on the Remote Leg as a single IMS session.
NOTE: Procedures for a Collaborative Session with more than one Controller UE
are not specified in this release.
**Collaborative Session Control Signalling Path:** A signalling path used to
perform control of a Collaborative Session.
**Controller UE:** The UE that controls a Collaborative Session, and may also
provide media flows for a Collaborative Session.
**Controllee UE:** A UE that provides media flows for a Collaborative Session,
and is subordinate to the Controller UE for session control.
**Media Control Signalling Path:** A signalling path used by the Controllee UE
to manage its IMS session established to provide media flow(s) for a
Collaborative Session.
**STI set:** A set of STIs that uniquely identify a Collaborative Session.
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1] and the following abbreviations apply:
IUT Inter UE Transfer
TI Transaction Identifier, as defined in TS 24.008 [11]
# 4 Inter-UE Transfer
## 4.1 Architectural Requirements and Assumptions
### 4.1.1 Architectural requirements
The solution shall fulfil the following architectural requirements:
\- IUT shall apply only for sessions that are already established.
\- It shall be possible for the UE to apply Inter UE Transfer when a remote
end adds media to an existing session.
\- IUT shall be able to coexist with access transfer as specified in TS 23.237
[5] and TS 23.292[6].
\- Access transfers of multimedia sessions as specified in TS 23.237 [5] can
operate independent of IUT.
\- If the Collaborative Session control or the Controller UE is lost for an
active Collaborative Session, the SCC AS releases all the multimedia sessions
participating in that Collaborative Session.
\- It shall be possible to support all the IUT service requirements as
specified in TS 22.228 [20].
\- It shall be possible for the UE to determine all other UEs under the same
subscription that are currently available for IUT procedures.
\- For IUT, it shall be possible for the UE to determine the media and service
capabilities of each available UE.
\- The Controllee UE procedures shall not have any impacts to the UE.
Therefore any IMS UE shall be able to act a Controllee UE within a
Collaborative Session.
\- The SCC AS shall prevent the Controllee UE to perform actions that are not
allowed for its role (e.g. to add media to an existing session).
\- UEs using CS access connected to the IMS via CS/IMS inter-working nodes
shall be served with limited Controllee UE functionality based on the
constraints of the CS/IMS inter-working nodes.
\- The network shall be able to reject IUT between UEs that are not under same
subscription.
\- The SCC AS shall maintain the end-to-end session service state of a UE
engaged in IUT.
\- The IUT may be executed in any order, and any number of times, for a given
session.
\- The Controller UE shall maintain the Collaborative Session control for the
session until the session is released or until the Collaborative Session
control is transferred to another UE.
\- The media flow(s) on the transferred target UE shall be established using
IMS session setup procedures as specified in TS 23.228 [4].
\- The Controller UE may transfer one or more media flow(s) to one or more
target UEs (including itself).
\- It shall be possible for the Controller UE to initiate an IUT procedure
based on IUT policies provided by the network.
\- It shall be possible for the SCC AS to update the IUT policies in the
Controller UE to trigger the initiation of an IMS session transfer procedure.
\- The selection of the media components, to be transferred, may be based on:
\- Target UE(s) capabilities.
\- User preferences and/or operator policies.
\- The remote end of a session shall be made aware when the local end changes
due to an IUT procedure without establishing a Collaborative Session.
Otherwise the remote end shall not be aware of local IUT procedures.
\- The Controller UE shall have up-to-date information about a Collaborative
Session, which describes all media components currently existing in this
session and the UEs associated with these media components.
### 4.1.2 Level of Inter-UE Transfer Support
#### 4.1.2.1 UE Supporting Inter-UE Transfer
An UE supporting Inter-UE Transfer procedures described in this TR can
initiate Inter-UE Transfer procedures and be the target for them. One or more
of the following functionalities shall be supported by the UE:
\- Discover the Inter-UE Transfer target as described in clause 4.6;
\- Initiate media transfer of ongoing media or media modifications;
\- Participate in the establishment of a Collaborative Session as a Controller
or Controllee UE;
\- Initiate Collaborative Session control transfer;
\- Control the media in Controllee UE;
\- Act as target in media transfer;
\- Act as target in Collaborative Session control transfer;
\- Act as Controllee UE for Controller UE;
\- Add/remove media to/from target device;
\- Act as a target for media adding/removing.
#### 4.1.2.2 UE not supporting Inter-UE Transfer
##### 4.1.2.2.1 General
The supported features are limited to those that only require standard IMS
functionality from the UE or from the interworking node acting as a SIP UA on
behalf of the UE. No changes are required from the UE or from the interworking
node. The UEs belonging to this category cannot act as a Controller UE with
all the capabilities described in clause 4.3.
##### 4.1.2.2.2 IMS UE
An IMS UE that is not enhanced to support Inter-UE Transfer procedures,
belongs to this category (e.g. Rel-8 SC UE). The following functionalities can
be supported with the limitations described below:
\- Act as a Controllee UE within a Collaborative Session, but the
functionality is limited by the constraints of the UE (e.g. if a procedure
requires an optional IMS feature by the UE, which the UE doesn\'t support, the
procedure isn\'t supported), If the media is not related to an existing
session of the UE, the UE handles the transfer request as a new incoming
session. If the media is related to an existing session, the UE handles the
request as the remote end adds the media.
For the above functionalities, it is required that the UE is IMS registered.
##### 4.1.2.2.3 CS UE connected to IMS via MSC Server enhanced for ICS
It is assumed that an IMS UE is CS attached and IMS registered via MSC Server
enhanced for ICS (e.g. Rel-8 MSC Server enhanced for ICS). The following
functionalities can be supported with the limitations described below:
\- Act as a Controllee UE within a Collaborative Session with limited
functionality according the constraints of the UE and the MSC Server (e.g. if
video is not supported in the CS domain, the transfer of video media is not
supported). If media is not related to an existing session of the UE, the UE
handles the transfer request as a new incoming session. If media is related to
an existing session, the UE handles the request as the remote end adds media.
The UE is assumed to be IMS registered via I2 interface.
##### 4.1.2.2.4 CS UE connected to IMS via MSC Server not enhanced for ICS
An UE using CS access and connected to IMS via MSC Server not enhanced for ICS
(e.g. Rel-7 VCC UE connected to IMS via MGCF). The following functionalities
can be supported with the limitations described below:
\- Act as a Controllee UE within a Collaborative Session, but the
functionality is limited by the constraints of the UE and the MGCF (e.g. if
video is not supported in the CS domain. The transfer of video media is not
supported). If media is not related to an existing session of the UE, the UE
handles the transfer request as a new incoming session. If media is related to
an existing session, the UE handles the request as the remote end adds the
media.
As the UE is not IMS registered, it cannot be discovered using the dynamic
target discovery procedures described in clause 4.6.3. An UE initiating Inter-
UE Transfer procedures towards this category of UE needs to have the E.164
number of the device in order to address the transfer request.
## 4.2 Scenarios
The following scenarios describe the different IUT capabilities:
1\. IUT Collaborative Session establishment with keep control.
2\. IUT Collaborative Session establishment with transfer control.
3\. IUT transfer Collaborative Session control.
4\. Add new media flows in an ongoing multimedia session of different UEs.
5\. Remove media flows bound to different UEs of an ongoing Collaborative
Session.
NOTE 1: The UEs referred to above are under the control of the same
subscription.
By means of the above capabilities the user is provided with IUT services. The
details of the above scenarios of IUT capabilities are described in the
following sub-clauses.
NOTE 2: Scenarios where session needs to be transferred between UEs with
different subscriptions are outside the scope of this release.
### 4.2.1 IUT Keep Collaborative Session control
This scenario enables the IMS IUT user to establish a Collaborative Session
and to transfer one or more media flows of an ongoing multimedia session
between different UEs that he owns whilst keeping Collaborative Session
control.
In the example shown in Figure 4.2.1-1, a user has a multimedia session on his
device UEâ€‘1 with voice and video media flows. Subsequently, the user transfers
the voice media flow from device UEâ€‘1 to device UEâ€‘2 and the video media flow
from device UEâ€‘1 to device UEâ€‘3. After the transfer is completed, the
Collaborative Session control remains with the device UEâ€‘1 and no media
remains on the device UEâ€‘1. UEâ€‘1, UEâ€‘2 and UEâ€‘3 are then involved in a
Collaborative Session, for which UEâ€‘1 is the Controller UE whereas UEâ€‘2 and
UEâ€‘3 are Controllee UEs.
Figure 4.2.1-1: An example of media flow transfer whilst keeping Collaborative
Session control:\ The voice media flow is transferred to UEâ€‘2 and the video
media flow is transferred to UEâ€‘3. The Collaborative Session control remains
with UEâ€‘1
NOTE: The Inter UE Transfer should also consider that different access
networks can have different access capabilities, e.g., data rates, and
different UEs can have different capabilities, e.g. display resolutions,
Codecs, video encoding and decoding capabilities. In this scenario as part of
the session continuity procedure, the UE may need to re-negotiate the
different capabilities, in addition to changing the terminal and access
network.
Within a Collaborative Session, the Controller UE can initiate inter-UE
transfer of media flows bound to the Controllee UEs.
Continuing on the previous example, the user from his device UEâ€‘1 transfers
the voice and video media flows of the Collaborative Session back to UEâ€‘1.
This is shown in Figure 4.2.1-2.
Figure 4.2.1-2: An example of media flow transfer whilst keeping Collaborative
Session control:\ The voice media flow on UEâ€‘2 and the video media flow on
UEâ€‘3 are transferred back by Controller UE, UEâ€‘1
### 4.2.2 IUT Transfer Collaborative Session control
This scenario enables the IMS IUT user to establish a Collaborative Session
and to transfer Collaborative Session control and zero or more media flows of
an ongoing multimedia session between different UEs that he owns.
In the example shown in Figure 4.2.2-1, a user has a multimedia session on her
device UEâ€‘1 with voice and video media flows. Subsequently, the user selects
to transfer the voice media flow and the Collaborative Session control from
device UEâ€‘1 to device UEâ€‘2. After the completion of this transfer, UEâ€‘1 and
UEâ€‘2 are involved in a Collaborative Session, for which UEâ€‘2 is made the
Controller UE and UEâ€‘1 becomes a Controllee UE.
Figure 4.2.2-1: An example of media flow and Collaborative Session control
transfer:\ The voice media flow as well as the Collaborative Session control
are transferred to UEâ€‘2
### 4.2.3 Add new media flows in an ongoing multimedia session of different
UEs
In this scenario the IUT user adds new media flows to an ongoing multimedia
session targeted to additional UEs.
In the example shown in Figure 4.2.3-1, a user has initially an ongoing
multimedia session on his UEâ€‘1 with only a voice component (Media 1).
Subsequently, the user establishes a Collaborative Session and adds a video
component (Media 2) to the session which is targeted to his device UEâ€‘2, while
keeping the audio media and Collaborative Session control on his UEâ€‘1.
NOTE: This case refers specifically to the scenario where the user adds new
media flow(s) to a different device, e.g. from device UEâ€‘1 he adds a media
flow to device UEâ€‘2, as shown in figure 4.2.3-1. Addition of media flow(s) to
the same device is considered a trivial case, readily supported by session re-
negotiation between two peers.
Figure 4.2.3-1: An example of media flow addition:\ UEâ€‘1 adds a video media
flow to UEâ€‘2
There is another scenario for adding new media flows to different UEs, which
is when a new added media flow(s) request is coming to UEâ€‘1, the UEâ€‘1
transfers the added media flow(s) to UEâ€‘2.
### 4.2.4 Remove media flows bound to different UEs of an ongoing
Collaborative Session
In this scenario the user removes existing media flows from an ongoing
Collaborative Session on different UEs.
In the example shown in Figure 4.2.4â€‘1, a user has initially an ongoing
Collaborative Session with a voice media flow on her UEâ€‘1 and a video media
flow on her UEâ€‘2. UEâ€‘1 is the Controller UE. Subsequently, the user from
device UEâ€‘1 removes the video media flow that is active on device UEâ€‘2.
NOTE: Removal of media flow(s) on the same UE is considered a trivial
scenario, readily supported by session re-negotiation between two peers.
Figure 4.2.4-1: An example of media flow removal - UEâ€‘1 removes the video
media flow active on UEâ€‘2
## 4.3 Controller UE and Controllee UE operations for an existing
Collaborative Session
### 4.3.1 Overview
Table 4.3.1-1 provides an overview of Controller UE and Controllee UE
operations.
Table 4.3.1-1 Controller UE and Controllee UE operations
+----------+----------+----------+----------+----------+----------+ | Op | Co | Co | Co | Co | | | erations | ntroller | ntroller | ntrollee | ntrollee | | | | UE | UE | UE | UE | | | | | Comment | | Comment | | +----------+----------+----------+----------+----------+----------+ | | Add | Yes | Standard | No | | | | media | | SC | | | | | flow by | | pro | | | | | creating | | cedures. | | | | | a new | | | | | | | Access | | | | | | | Leg on | | | | | | | the same | | | | | | | UE | | | | | +----------+----------+----------+----------+----------+----------+ | | Add | Yes | New | No | The | | | media | | ca | | Co | | | flow by | | pability | | ntrollee | | | creating | | of Inter | | UE can | | | a new | | UE. | | accep | | | Access | | | | t/reject | | | Leg on a | | | | media | | | d | | | | flow | | | ifferent | | | | addition | | | UE | | | | using | | | | | | | Standard | | | | | | | IMS | | | | | | | pro | | | | | | | cedures. | +----------+----------+----------+----------+----------+----------+ | | Add | Yes | Standard | No | | | | media | | IMS | | | | | flow to | | pro | | | | | an | | cedures. | | | | | existing | | | | | | | Access | | | | | | | Leg on | | | | | | | the same | | | | | | | UE | | | | | +----------+----------+----------+----------+----------+----------+ | Add | Add | Yes | New | No | The | | | media | | ca | | Co | | Media | flow to | | pability | | ntrollee | | flow | an | | of Inter | | UE can | | (local | existing | | UE. | | accep | | end | Access | | | | t/reject | | in | Leg on a | | | | media | | itiating | d | | | | flow | | case) | ifferent | | | | addition | | | UE | | | | using | | | | | | | Standard | | | | | | | IMS | | | | | | | pro | | | | | | | cedures. | +----------+----------+----------+----------+----------+----------+ | | Remove | Yes | Standard | Yes | If all | | | media | | IMS | | the | | | flow | | pro | | media | | | from an | | cedures. | | flows | | | Access | | | | are | | | Leg on | | | | removed | | | the same | | | | from the | | | UE. | | | | Access | | | | | | | Leg, the | | | | | | | Access | | | | | | | Leg is | | | | | | | r | | | | | | | eleased. | | | | | | | | | | | | | | The | | | | | | | Co | | | | | | | ntroller | | | | | | | UE will | | | | | | | be | | | | | | | informed | | | | | | | of this | | | | | | | drop. | +----------+----------+----------+----------+----------+----------+ | Remove | Remove | Yes | New | No | | | | media | | ca | | | | Media | flow | | pability | | | | flow | from an | | of Inter | | | | | Access | | UE. | | | | (local | Leg on a | | | | | | end | d | | | | | | in | ifferent | | | | | | itiating | UE | | | | | | case) | | | | | | +----------+----------+----------+----------+----------+----------+ | | MMTEL | Yes | Standard | No | | | | Colla | | IMS | | | | | borative | | pro | | | | | Session | | cedures. | | | | | control | | | | | | | with | | | | | | | media on | | | | | | | same UE | | | | | | | (TS | | | | | | | 22.173) | | | | | +----------+----------+----------+----------+----------+----------+ | Invoke | MMTEL | Yes | New | No | E | | | Service | | ca | | ditors\' | | Supp | Control | | pability | | note: It | | | with | | of Inter | | is FFS | | Services | media on | | UE. | | whether | | | d | | | | MMTel | | | ifferent | | | | service | | | UE | | | | control | | | (TS | | | | can be | | | 22.173) | | | | applied | | | | | | | with | | | | | | | media on | | | | | | | d | | | | | | | ifferent | | | | | | | UE. | +----------+----------+----------+----------+----------+----------+ | | Colla | Yes | New | No | | | | borative | | ca | | | | | Session | | pability | | | | | Release | | of Inter | | | | | | | UE. | | | +----------+----------+----------+----------+----------+----------+ | | | | | | | +----------+----------+----------+----------+----------+----------+ | | | | | | | +----------+----------+----------+----------+----------+----------+ | Ren | Update | Yes | Standard | Yes | The | | egotiate | of media | | IMS | | Co | | Media | charact | | pro | | ntroller | | charact | eristics | | cedures. | | UE will | | eristics | on the | | | | be | | | same UE | | | | informed | | | | | | | with the | | | | | | | new | | | | | | | media | | | | | | | charact | | | | | | | eristics | | | | | | | rene | | | | | | | gotiated | | | | | | | by the | | | | | | | Co | | | | | | | ntrollee | | | | | | | UE. | | | | | | | | | | | | | | E | | | | | | | ditor\'s | | | | | | | Note: | | | | | | | Does the | | | | | | | Co | | | | | | | ntroller | | | | | | | UE need | | | | | | | to know | | | | | | | the new | | | | | | | media | | | | | | | charact | | | | | | | eristics | | | | | | | is FFS. | +----------+----------+----------+----------+----------+----------+ | (local | Update | Yes | New | No | The | | end | of media | | ca | | Co | | in | charact | | pability | | ntrollee | | itiating | eristics | | of Inter | | UE can | | side) | on a | | UE. | | accep | | | d | | | | t/reject | | | ifferent | | | | media | | | UE. | | | | flow | | | | | | | renego | | | | | | | tiation. | +----------+----------+----------+----------+----------+----------+ | Transfer | Transfer | Yes | | No | Only | | Media | (in/out) | | | | Co | | fl | of the | | | | ntroller | | ow/Colla | media | | | | UE can | | borative | flow | | | | initiate | | | | | | | the | | | | | | | t | | | | | | | ransfer. | +----------+----------+----------+----------+----------+----------+ | Session | Transfer | Yes | | No | Only | | Control | (in/out) | | | | Co | | | of | | | | ntroller | | | Colla | | | | UE can | | | borative | | | | initiate | | | Session | | | | the | | | control | | | | t | | | | | | | ransfer. | +----------+----------+----------+----------+----------+----------+
### 4.3.2 Controller UE Operations (Collaborative Session control)
\- The Controller UE can initiate the addition of a media flow to a
Collaborative Session, on any of the Controllee UEs already involved in the
collaborative session.
\- The Controller UE can initiate the modification of a media flow that is
part of a Collaborative Session it controls.
\- The Controller UE can initiate the release of a media flow that is part of
a Collaborative Session it controls.
\- The Controller UE shall keep track about the state of the media flows which
are part of a Collaborative Session it controls. That means it shall remain
aware about the media flows that are established, as well as about the media
used for those.
\- The Controller UE is the one to accept or refuse requests for media
additions initiated by the remote party for a Collaborative Session it
controls. In case it accepts a remote party initiated media addition, the
controller decides on which terminal the media shall be added.
\- The Controller UE for a Collaborative Session can initiate Inter-UE
transfer of one or more of the media flows of the Collaborative Session.
\- The Controller UE can initiate the release of a Collaborative Session.
\- The Controller UE can add into a Collaborative Session it controls a UE not
yet involved in this Collaborative Session.
### 4.3.3 Controllee UE Operations (media control)
\- The Controllee UE can initiate the modification of a media flow which
terminates on it.
\- The Controllee UE can initiate the release of a media flow which terminates
on it.
\- The Controllee UE is the one to accept or refuse media modifications
initiated by the remote party for a media flow it terminates.
\- The Controllee UE is able to accept or refuse:
\- media modifications initiated by the remote party or by the Controller UE,
for media flow(s) it terminates;
\- media additions initiated by the Controller UE or by a remote party (in the
latter case, this assumes that the Controller UE has accepted the addition and
selected the Controllee UE);
\- media transfers initiated by the Controller UE, for which the Controllee UE
is the target.
## 4.4 General Principles and Description
IUT for service continuity allows a multi media session to be split on the
local end across two or more UEs that are part of a Collaborative Session. The
UEs are under the control of the same IMS subscription and may be connected to
IMS CN from a diverse set of access networks. Figure 4.4-1 provides an example
illustration of these principles.
Figure 4.4-1: Inter UE transfer and Collaborative Session control
The Controller UE provides the Collaborative Session control for a
Collaborative Session using IMS signalling on the Collaborative Session
control Signalling Path. Collaborative Session control entails the Controller
UE operations described in section 4.3.2.:
Editor\'s Note: The possibility for the Controller UE to initiate mid-call
services for any media flows involved in the Collaborative Session is FFS.
NOTE: If the Controller UE terminates media flow(s), besides Collaborative
Session control, it also provides media control for the media flow(s) that it
terminates.
The Controllee UE controls the media flow(s) that it terminates using IMS
signalling on the Media Control Signalling Path via the media control
signalling path. Media control entails Controllee UE operations described in
section 4.3.3.:
## 4.5 Architecture Reference Model
### 4.5.1 Architecture Alternative 1
#### 4.5.1.1 Overview
This architecture alternative builds on the Service Consistency and Service
Continuity functions of SCC AS specified in 3GPP Rel-08 to enable set up and
session transfers of multi-media sessions across multiple UEs such that the
Collaborative Session control is provided by one UE and the media is
established using the UE providing the Collaborative Session control and/or
other UEs.
#### 4.5.1.2 Signalling and Bearer Architecture
Figure 4.5.1.2-1: Signalling and Bearer architecture
NOTE: The media in Controller UE is optional.
A Media Control Signalling Path is established on a Controllee UE, and a media
flow is transferred from Controller UE to Controllee UE, by using
Collaborative Session control of the Controller UE (e.g. in the SDP).
The SCC AS combines the Collaborative Session control signalling with the
media description communicated over the Media Control Signalling Path. The SCC
AS also employs 3pcc for enabling Inter UE Transfers and maintains end-to-end
session service state across Inter UE transfers forming a B2BUA:
\- Access Leg: The Access Leg is either Collaborative Session control or Media
Control Signalling Path of Collaborative Session.
\- Remote Leg: The Remote Leg is presented by the SCC AS to the CSCF as a
standard IMS session.
The TAS and other Application Servers are executed on the Remote Leg as part
of standard service execution logic at the CSCF.
#### 4.5.1.5 Information flows
##### 4.5.1.5.1 Collaborative Session establishment
4.5.1.5.1.1 Establish Collaborative Session and transfer Collaborative Session
control
In this example, UEâ€‘1 has a multimedia session with a Remote UE, which is
anchored at the SCC AS. The multimedia session contains two media components
and UEâ€‘1 wants to transfer the service control and one of the media to another
UEâ€‘2. It is assumed that UEâ€‘1 and UEâ€‘2 belong to the same subscriber (i.e.
they share the same subscription).
Figure 4.5.1.5.1.1-1: Establish Collaborative Session and transfer
Collaborative Session control
1\. UEâ€‘1 decides to transfer the service control and media-A to UEâ€‘2. It sends
a request to the SCC AS, indicating that the current service control and
Media-A will be transferred to UEâ€‘2.
NOTE: Authorization in this step by the SCC AS should be required in order to
make sure e.g. that both UEs share the same subscription.
2\. The SCC AS identifies the request, and sends a transfer request to UEâ€‘2,
indicating that the session control and Media-A will be transferred to UEâ€‘2.
3\. The Collaborative Session control between UEâ€‘2 and the SCC AS is
established. UEâ€‘2 becomes the controller UE for the established Collaborative
Session.
4\. Media-A between UEâ€‘2 and remote party is established. The remote leg is
updated accordingly.
5\. After the successful establishment of the Collaborative Session control
and Media-A on UEâ€‘2, the SCC AS sends a transfer response back to UEâ€‘1.
6\. The Previous Media-A on UEâ€‘1 and the Collaborative Session control is
released. UEâ€‘1 becomes a controllee UE.
7\. Controller UE subscribes to the SCC AS for changes of media flows that are
part of the Collaborative Session.
##### 4.5.1.5.2 during established Collaborative Session
###### 4.5.1.5.2.1 Controller Initiated Procedures
###### # 4.5.1.5.2.1.1 Controller Initiated Transfer Media: Controller to
Controllee
UEâ€‘1 and UEâ€‘2 are under the same user subscription. Following is an example
information flow for UEâ€‘1 performing media transfer to UEâ€‘2; after the
transfer, the UEâ€‘1 maintains the role of the Controller UE, and UEâ€‘2 maintains
the role of the Controllee UE.
Figure 4.5.1.5.2.1.1-1: Controller Initiated Transfer Media - Controller to
Controllee
1\. UEâ€‘1 sends IUT media transfer request to the S-CSCF to transfer the
Media-A from UEâ€‘1 to UEâ€‘2. The IUT media transfer request shall include the
enough information for the network to:
\- identify the transferred media flow is Media-A;
\- identify the source of the transferred media flow is UEâ€‘1;
\- identify the target of the transferred media flow is UEâ€‘2;
\- keep the service control of the transferred media flow in the Controller
UE.
2\. The SCC AS initiates the media session setup procedure with UEâ€‘2 for the
Media-A, executes the remove Media-A procedure from UEâ€‘1, and updates Remote
Leg with Remote Party.
Editor\'s Note: Whether details for this step are required is FFS.
Editor\'s Note: In case the Controllee UEâ€‘2 was involved prior to the media
transfer, and therefore there exists an access leg between the SCC AS and
Controllee UEâ€‘2, it is FFS how the SCC AS decides if a new access leg needs to
be established or if an existing one can be reused.
3\. The SCC AS sends media transfer response to UEâ€‘1.
When the above transfer is completed the SCC AS retains the service state
(e.g. media flows status) of UEâ€‘1 and UEâ€‘2, and the UEâ€‘1 retains the control
of the Collaborative Session.
NOTE 1: UEâ€‘1 can transfer other media flows from UEâ€‘1 by repeating the above
step 1-3.
NOTE 2: If, besides the Media-A, there are other media flows in the session
between UEâ€‘1 and Remote Party, the other media flows shall not be impacted by
the above session transfer operation.
###### # 4.5.1.5.2.1.2 Controller Initiated Transfer Media: Controllee to
Controllee
UEâ€‘1, UEâ€‘2 and UE 3 are under the same user subscription. There is a session
with Media-A between UEâ€‘2 and Remote Party. The following figure presents an
example information flow of UEâ€‘1 performing IUT media transfer from UEâ€‘2 to UE
3.
Figure 4.5.1.5.2.1.2-1: Controller Initiated Transfer Media - Controllee to
Controllee
1\. UEâ€‘1 sends IUT media transfer request to the SCC AS to transfer the
Media-A from UEâ€‘2 to UE 3. The IUT media transfer request shall include the
enough information for the network to:
\- identify the transferred media flow is Media-A;
\- identify the source of the transferred media flow is UEâ€‘2;
\- identify the target of the transferred media flow is UE 3;
\- keep the service control of the transferred media flow in the UEâ€‘1.
2\. The SCC AS initiates the media session setup procedure with UE 3 for the
Media-A, executes the remove Media-A procedure from UEâ€‘2, and updates Remote
Leg with Remote Party.
3\. The SCC AS sends media transfer response to UEâ€‘1.
When the session transfer is completed UEâ€‘1 keeps the Collaborative Session
control.
NOTE 1: UEâ€‘1 can transfer other media flows from UEâ€‘2 by repeating the above
step 1-3.
NOTE 2: If, besides the Media-A, there are other media flows in the session
between UEâ€‘2 and Remote Party, the other media flows shall not be impacted by
the above session transfer operation
###### # 4.5.1.5.2.1.3 Controller Initiated Transfer Media: Controllee to
Controller
Figure 4.5.1.5.2.1.3-1 depicts an example call flow for the case when a
Controller UE transfers a media flow from a Controllee UE to itself.
Figure 4.5.1.5.2.1.3 -1: Controller Initiated Transfer Media - Controllee to
Controller
A collaborative session exists, involving Controller UEâ€‘1 and Controllee UEâ€‘2.
Controllee UEâ€‘2 has an established media flow with remote party. To transfer
media from Controllee UEâ€‘2 to Controller UEâ€‘1 the following procedures are
applied:
1\. Controller UEâ€‘1 initiates a media transfer request, indicating the media
flow to be transferred from Controllee UEâ€‘2 to Controller UEâ€‘1. The IUT media
transfer request shall include the enough information for the network to:
\- identify the transferred media flow is Media-A;
\- identify the source of the transferred media flow is Controllee UEâ€‘2;
\- identify the target of the transferred media flow is Controller UEâ€‘1.
2\. SCC AS initiates the transfer by setting up the requested media flow
towards Controller UEâ€‘1, removing the media flow from Controllee UEâ€‘1, and
updating the remote leg. The media flow will after this be established between
Controller UEâ€‘1 and remote party.
NOTE 1: If no more media remains on the access leg between SCC AS and
Controllee UEâ€‘2, this access leg is released and Controllee UEâ€‘2 will no
longer be part of the Collaborative Session.
3\. The IUT media transfer is completed.
###### # 4.5.1.5.2.1.4 Controller Initiated Add New Media: On Controllee
Figure 4.5.1.5.2.1.4 depicts an example call flow for the case when the
Controller UE adds a media flow to the Controlee UE. Such add media procedure
could result in a new access leg for the Controlee UE, or it could be an
additional media flow for an already existing session for the Controlee UE. In
addition, the media could be a replicate of the media session the controlling
UE is currently involved in or it could be a new media for both Controlee UE
and Controller UE.
Figure 4.5.1.5.2.1.4: Controller Initiated Add New Media - On Controllee
Adding media to the Controlee from the controlling UE would follow the
following steps:
1\. Controller UEâ€‘1 decides to add a new media flow to Controllee UEâ€‘2, and
performs a IUT add media request for the particular media requested. The IUT
media transfer request shall include the enough information for the network
to:
\- identify the added media flow is Media-A;
\- identify the source of the added media flow is Controllee UEâ€‘2;
2\. The new media flow is setup for Controllee UEâ€‘2, and the remote leg is
updated as well with the newly added media flow. The new media flow will after
this be established between Controllee UEâ€‘2 and remote party.
3\. The IUT addition of media is completed.
4.5.1.5.2.2 Remote Party Initiated Procedures
4.5.1.5.2.2.1 Remote Party Initiated Add New Media: On Controllee
The following is an example of an information flow where UE 3 wants to modify
an existing session with UEâ€‘1 to add Media-B. However, UE1 wants to redirect
Media-B to UEâ€‘2 while retaining the Collaborative Service control of the
Media-B in UEâ€‘1. The procedures are similar if UE 3 creates a new session
towards UEâ€‘1 offering Media-B, instead of modifying an existing session.
NOTE 1: UEâ€‘1 and UEâ€‘2 belong in the same user subscription. UEâ€‘1 is the
Controller UE and UEâ€‘2 is a Controllee UE.
Figure 4.5.1.5.2.2.1-1: Remote Party Initiated Add New Media - On Controllee
1\. UE 3 sends an add media message to add Media- B to an existing session
between UEâ€‘1 and UE 3 as per TS 23.228 [4].
NOTE 2: The media (Media B) can be also offered in a new session towards UEâ€‘1
as per TS 23.228 [4].
2\. SCC AS forwards the add media message to UEâ€‘1 according to the procedures
defined in TS 23.228 [4].
3\. Controller UEâ€‘1 sends an IUT-Redirect-Media message to SCC AS. The IUT-
Redirect-Media message needs to include at least the following information:
\- identify that Media-B needs to be redirected to UEâ€‘2;
\- identify that control for Media- B remains in Controller UEâ€‘1.
4\. SCC AS sends an Add Media-B to UEâ€‘2;
5\. The session setup is complete.
After the above add media operation, there is Media-B between UE 3 and UEâ€‘2.
There is a Collaborative Session established between UEâ€‘1 and UEâ€‘2. The
Media-B is controlled by UEâ€‘1.
## 4.6 UE Awareness
### 4.6.1 General
When initiating an Inter-UE transfer(s), an IMS UE may use the following
information:
\- other UEs belonging to the same subscription
\- the availability (e.g., online, offline etc) of the UEs
\- the capabilities (e.g., support of audio/video formats etc) of the UEs
### 4.6.2 Alternative 1 -- Based on user configuration
The UE should maintain a list of authorized UEs, and their capabilities, that
could be presented to the end-user. The list of UEs, eligible for Inter-UE
Transfer, could either be provisioned statically or entered manually by the
end-user.
NOTE: Such a provisional list of authorized UE\'s does not by itself determine
whether or not the UE is currently available.
### 4.6.3 Alternative 2 -- Based on dynamic discovery
#### 4.6.3.1 Dynamic discovery based on IMS registration
The principle of this alternative is that the user and/or the UE is provided
with the correct information in a dynamic manner about which devices under the
same subscription are available and suitable for Inter-UE Transfer in that
particular moment, and also what are the media capabilities of these devices.
The UE could obtain the contacts, GRUUs and human readable names of the
currently registered devices under the same subscription using mechanisms such
as RFC 3680 [14] and draft-ietf-sipping-gruu-reg-event [18]. In addition, the
mechanism described in IETF RFC 3840 [15] allows advertising also the media
capabilities of the said contacts.
When new UEs become available (e.g. a device is switched on or simply
registers with IMS) or becomes unavailable (e.g. a device in switched off or
deregisters with IMS), UEs under the same subscription, that have registered
for this information, get notifications and can update the information
provided to the user with regards to the other UEs that could potentially be
used as targets for Inter-UE Transfer.
The following sections 4.6.3.2 and 4.6.3.3 describe additional mechanisms that
can be utilized in implementation specific manner, if they are available.
Section 4.6.3.4 presents an example information flow on dynamic discovery.
#### 4.6.3.2 Capability query
An alternative to identify the capabilities of the UEs, once the GRUUs are
known, is to perform SIP capability query towards the registered contacts
(i.e. GRUUs) as described in RFC 3261 [13]. The media capabilities of the
other devices can be provided as described in RFC 3840 [15] and RFC 3841 [16].
#### 4.6.3.3 Dynamic discovery based on presence
Yet another mechanism for dynamic discovery and learning about the capability
of other UEs is based on presence service described in TS 24.141 [22]. The UE
may subscribe to the presence event package described in RFC 3856 [17] and get
notified about the availability and media capabilities of the other contacts
as specified in RFC 5196 [21]. For UE to utilize presence for IUT target
discovery, it is required that the presence service is available to the UE.
#### 4.6.3.4 Example information flow
An example of how the aforementioned mechanisms might be used is shown in
Figure 4.6.3-1:
Figure 4.6.3-1 Inter-UE Transfer target discovery based on dynamic mechanisms
1\. UEâ€‘2 is IMS registered following the procedures defined in TS 23.228 [4].
2\. UEâ€‘1 performs IMS registration following the procedures defined in TS
23.228 [4].
3 \~ 4. UEâ€‘1 is interested to discover the status and capabilities of other
devices under the same subscription. It subscribes to an event package for
registration information and the capabilities information.
5 \~ 6. The IMS CN subsystem notifies UEâ€‘1 of other devices (e.g. UEâ€‘2) status
and, if available, capabilities information.
7\. UE 3 performs IMS registration.
8 \~ 9. The IMS CN subsystem notifies UEâ€‘1 of UE 3\'s availability and, if
available, capabilities information.
Optionally, if no sufficient UE capabilities information is included in step
9, then the following steps can be performed:
10 \~ 13. Among all the available devices, UEâ€‘1 is interested in performing
Inter-UE transfer to UE 3. UEâ€‘1 sends query to UE 3 to request device
capability information as described in IETF RFC 3261.
### 4.6.4 Evaluation of the alternatives
Alternative 1 described in clause 4.6.2 proposes that the target for Inter-UE
Transfer is configured to the UE. The configuration mechanism is
implementation specific need not require standardization work. In this
alternative, it is not possible for the UE to know, which of the terminals are
currently available, i.e. switched on and registered. Therefore the user may
try to execute the Inter-UE Transfer procedure and get an error back, if the
target is not available. These procedures do not require standardization work.
Alternative 2 described in clause 4.6.3 proposes that the target for Inter-UE
Transfer is discovered dynamically based on IMS registration of the available
devices. By nature, in this alternative the discovered devices are known to be
available for Inter-UE Transfer. The procedures to dynamically discover the
IUT target based on IMS registration described in section 4.6.3.1, need to be
standardized, but it is based on existing mechanisms. However, the procedures
to complete the discovery by performing a capability query as described in
section 4.6.3.2 and the procedures to use presence to discover IUT target can
be seen as implementation options that can be used if available, but they do
not require standardization work as the mechanisms are already standardized.
It is possible to combine the two alternatives, such that the list of possible
target UEs is configured in the UE, but the dynamic procedure is used to
discover if the target UE is available or not. This combining is
implementation specific and does not require standardization work.
## 4.7 Information of Collaborative Session
### 4.7.1 General
The Controller UE provides to the user up-to-date information about a
Collaborative Session in order to enable the user perform appropriate IUT
operations. For this purpose, the Controller UE maintains the following
information about a Collaborative Session:
\- All media flows currently existing in this Collaborative Session.
\- UEs associated with the media flows.
### 4.7.2 Notification of the information of the Collaborative Session
The following is an example of an information flow where UE-1 (Controller UE)
requests from the SCC AS to receive information about a Collaborative Session.
When the information of the Collaborative Session is changed, e.g. when UE-2
(Controllee UE) removes its own media flow, then UE-1 is notified and receives
updated information about the Collaborative Session from the SCC AS.
Figure 4.7.2-1 Notification of the information of Collaborative Session
1\. UE-1 becomes a Controller UE in the Collaborative Session.
2 \~ 3. UE-1 subscribes to the SCC AS to be notified when the information of
the Collaborative Session changes.
4 \~ 5. The SCC AS provides UE-1 with the current information of the
Collaborative Session.
6\. UE-2 performs a media removal for its own media in the Collaborative
Session.
7 \~ 8. The SCC AS notifies UE-1 with the updated information of the
Collaborative Session.
## 4.8 Execution of supplementary services
### 4.8.1 General
Even though the media components for the Collaborative Session are split onto
multiple Access Legs of different UEs, the remote end is presented with one
session including all the media components. This section describes the SCC AS
and IUT UE procedures for handling supplementary services as described in TS
22.173 [23].
Editor\'s Note: The interactions listed in this clause when a CS media is
involved requires further study.
### 4.8.2 Originating Identification Presentation (OIP)
The OIP service is not impacted by IUT.
### 4.8.3 Originating Identification Restriction (OIR)
The OIR service is not impacted by IUT.
### 4.8.4 Terminating Identification Presentation (TIP)
The TIP service is not impacted by IUT.
### 4.8.5 Terminating Identification Restriction (TIR)
The TIR service is not impacted by IUT.
### 4.8.6 Communication Diversion (CDIV)
The CDIV service is not impacted by IUT.
### 4.8.7 Communication Hold (HOLD)
If the Controller UE wants to invoke the HOLD service on one or more media
component(s), the Controller UE shall invoke the HOLD procedures, as defined
in TS 24.610 [24]. The SCC AS shall act on the HOLD requests by updating all
the Controllee UEs whose media status are changed and shall update the remote
Access Leg using the procedures defined in TS 24.610 [24].
### 4.8.8 Communication Barring (CB)
The CB service is not impacted by IUT.
### 4.8.9 Message Waiting Indication (MWI)
The MWI service is not impacted by IUT.
### 4.8.10 Conference (CONF)
Only the Controller UE can invoke the CONF service for the Collaborative
Session and it shall follow the procedures as defined in TS 24.605 [25] for
any CONF service related operations.
When the remote end sends a request for the CONF service to replace an
existing session, the SCC AS shall deliver the request for CONF service to the
Controller UE, which then sets up new session and releases the existing
session by following the normal Collaborative Session control procedures.
Editor\'s Note: It is FFS whether or not the media control sessions on the
Controllee UEs can be reused by the session established between the Controller
UE and the conferencing AS.
### 4.8.11 Explicit Communication Transfer (ECT)
Only the Controller UE can invoke the ECT service on behalf of the
Collaborative Session and it shall follow the procedures as specified in TS
24.629 [26]. Upon receiving notification that ECT has been performed
successfully, the Controller UE shall terminate the previous active session
with the transferee UE by terminating all related media control sessions on
the Controllee UEs.
Upon receiving an ECT transfer request from the remote end to transfer the
Collaborative Session, the SCC AS shall deliver the request to the Controller
UE.
Upon receiving an ECT transfer request to transfer the Collaborative Session,
the Controller UE shall establish a new session toward the transfer target and
terminate the previous active session with the remote end by terminating all
related media control sessions on the Controllee UEs.
Editor\'s Note: It is FFS whether or not the media control sessions on the
Controllee UEs can be reused by the session established between the Controller
UE and the transfer target.
### 4.8.12 Advice of Charge (AOC)
When the AOC service specified in TS 24.647 [27] is active, the SCC AS shall
deliver charging information during the communication to the Controller UE.
### 4.8.13 Closed User Groups (CUG)
The CUG service is not impacted by IUT.
### 4.8.14 Three-Party (3PTY)
The 3PTY service in TS 24.605 [25] is considered as a special case of CONF
service and the interaction with IUT is the same as that specified in clause
4.8.10 for CONF service.
### 4.8.15 Flexible Alerting (FA)
The FA service is not impacted by IUT.
### 4.8.16 Communication Waiting (CW)
Editor\'s Note: The interaction with this service is FFS.
### 4.8.17 Completion of Communications to Busy Subscriber (CCBS)/Completion
of Communications by No Reply (CCNR)
Editor\'s Note: The interaction with this service is FFS.
### 4.8.18 Customized Alerting Tones (CAT)
The CAT service is not impacted.
# 5 Other IMS Service Continuity enhancements
## 5.1 General
## 5.2 Operator policy and user preferences
The mechanisms to convey the user preferences are entailed in TR 23.883 [19].
## 5.3 Interaction and coexistence with underlying mobility mechanisms and
corresponding policies
### 5.3.1 Architectural requirements
The solution shall fulfil the following architectural requirements:
\- It shall be possible to update the S-CSCF and SCC AS with the access
network information when UE changes IP-CAN without changing contact address,
e.g. using the mobility mechanism specified in TS 23.401 [7] and TS 23.402
[8]. This information is thus available for T-ADS.
\- The T-ADS shall be robust to handle cases where the access network
capability of the UE is not up-to-date.
\- The solution shall work with ISR, when ISR is deployed and used.
\- It is preferred that the solution shall be possible with and without PCC.
\- It shall be possible to perform session transfer between two registered
contacts regardless of whether they are registered via the same access network
or via different access networks.
Editor\'s Note: How to trigger session transfer between contacts registered
via the same access network is FFS.
Editor\'s Note: The interaction between IMS Service Continuity and ANDSF
policies is FFS.
## 5.4 Support of mid-call services during session transfer
### 5.4.1 Architectural Requirements
\- The solution shall provide PS-CS Access Transfer of multiple multi-media
sessions for configurations in which ICS UE capabilities (i.e., Gm and I1) are
not supported.
\- The solution can coexist with ICS UE capabilities in configurations where
both are supported by the UE and/or by the network.
\- The solution shall be based on PS-CS Access Transfer procedures specified
in TS 23.237 [5].
### 5.4.2 Alternative 1: MSC Server enhancement to support mid-call services
during session transfer
#### 5.4.2.1 PS-CS Assumptions
The following assumptions apply for PS-CS service continuity in addition to
those in TS 23.237 [5]:
\- If the session transfer request is sent by or via the MSC Server and the
MSC Server has indicated its capability in the registration or indicates its
capability in the session transfer request sent to the SCC AS, the SCC AS
provides session state information on active and inactive sessions with speech
media on the transferring-in leg for enablement of PS-CS service continuity of
IMS multimedia-sessions.
\- If either the UE (during registration) or operator policy on the SCC AS
indicate that network capabilities shall not be used to support mid-call
services during session transfer, the SCC AS will not provide session state
information on active and inactive sessions with speech media on the
transferring-in leg. Operator policy on the UE shall include information on
whether use of ICS capabilities is restricted for session transfer.
#### 5.4.2.2 Access Transfer (PS -- CS) concepts
When using a UE that does not have, or that is unable to use, ICS capabilities
as specified in TS 23.292 [6], Access Transfer of one active and zero or more
inactive speech-only sessions shall be provided when transferring voice media
bearer between CS and PS access.
SCC AS maintains for all active and held sessions a subscriber session state
information containing A party, B party, and further session information (e.g.
active, inactive, conference call initiator) as required.
The SCC AS provides session state information on one or two sessions with
speech media to the MSC Server enhanced for ICS as specified in TS 23.292 [6]
or the MSC Server enhanced for SRVCC as specified in TS 23.216 [3] on the
transferring-in leg when transfer from PS to CS access happens if the session
transfer request has been sent by or via an MSC Server and if the MSC server
has indicated its capability. The SCC AS does not provide session state
information if either the UE or operator policy on the SCC AS indicates that
network capabilities shall not be used to support mid-call services during
session transfer. When receiving information about an additional session, the
MSC Server initiates session transfer towards SCC AS for the additional
session. In case of PS to CS single-radio, both the UE and the MSC Server use
the same (pre-defined) Transaction Identifier for the active and the inactive
session, e.g. TI1 for the active session and TI2 for the inactive session. In
case of PS to CS dual-radio, both the UE and the MSC Server use the same (pre-
defined) Transaction Identifier for the inactive session. In case the UE is
using a conference service when camping on PS, the UE will allocate the TIs
and send them to the SCC AS for all participants of the conference service.
Editor\'s Note: It is FFS how the UE and network indicate capabilities and
policies.
NOTE: The transferring-in leg is established either by the UE or by the MSC
Server enhanced for SRVCC.
#### 5.4.2.3 Procedures and Flows
##### 5.4.2.3.1 PS -- CS Access Transfer: PS to CS -- Dual Radio
Figure 5.4.2.3.1-1 PS - CS Access Transfer: PS to CS - Dual Radio, provides an
information flow for Access Transfer of an IMS session in PS to CS direction.
The flow requires that the user is active in an IMS originating or terminating
session using PS media at the time of initiation of Access Transfer to CS and
that the use of network capabilities to support mid-call services during
session transfer is possible. It further requires that the MSC Server supports
I2 reference point.
Figure 5.4.2.3.1-1: PS -- CS Access Transfer: PS to CS -- Dual Radio
1\. If the user is not attached to the CS domain at the time when the UE
determines a need for Access Transfer to CS, the UE performs a CS Attach as
specified in TS 23.292 [6], clause 7.2.1. It subsequently originates a session
that uses CS media using the STN to establish an Access Leg via the CS access
and requests Access Transfer of the IMS session to CS access using the
procedures described in TS 23.292 [6], clause 7.3.2 Originating Sessions that
use CS media.
2\. Standard procedures as specified in TS 23.292 [6], clause 7.3.2
Originating Sessions that use CS media are used by the MSC Server which
results in routeing of the INVITE with the STN to the I/S CSCF. The MSC Server
includes the Instance ID into the session transfer request, which can be used
for session (and terminal) correlation as specified in TS 23.237 [5].
NOTE 1: The MSC Server enhanced for ICS includes the Instance ID during
registration; the Instance ID can be used for session (and terminal)
correlation as specified in TS 23.237 [5].
NOTE 2: The MSC Server has indicated its capability to support mid-call
services during session transfer in the registration.
3\. Standard procedures are used at I/S-CSCF for routeing of the INVITE to the
SCC AS.
4\. The SCC AS completes the establishment of the Access Leg via the CS
access. The SCC AS is able to identify the correct anchored session using the
Instance ID for session identification as specified in TS 23.237 [5]. The SCC
AS performs the Access Transfer by updating the Remote Leg with the connection
information of the newly established Access Leg using the Remote Leg Update
procedure as specified in TS 23.237 [5], clause 6.3.1.5. The SCC AS completes
the session setup towards UE according to procedures defined in TS 23.228 [4].
5\. The SCC AS provides session state information on the inactive session with
speech media including needed STI on the transferring-in leg. In case there
are more than two sessions with speech media (active or hold), the SCC AS
selects the second-most recently active session in case there were more than
one active speech session, and puts it on hold, or otherwise selects the held
session that has been most recently made inactive. All other sessions are
released. The selected session is sent in session state information to the MSC
Server.
NOTE 3: The session state information can be provided as part of the SCC AS
response to the INVITE.
6\. The S-CSCF forwards the session state information to the MSC Server.
7\. In case the MSC Server enhanced for ICS receives the session state
information on more than one active or inactive speech sessions, it initiates
session transfer towards SCC AS for the additional session.
8\. The Source Access Leg (which is the Access Leg previously established over
PS access) is released as specified in TS 23.237 [5], clause 6.3.1.6.
NOTE 4: Steps 4 and 8 consist of a sequence of messages, some of which may
occur in parallel.
##### 5.4.2.3.2 PS -- CS Access Transfer: PS to CS -- Single Radio
Figure 5.4.2.3.2-1 PS-CS: PS to CS -- Single Radio, provides an information
flow for Access Transfer of media of an IMS session in PS to CS direction for
Access Transfers within 3GPP access networks as specified in TS 23.216 [3].
The flow requires that the user is active in an IMS originating or terminating
session and that the use of network capabilities to support mid-call services
during session transfer is possible; procedures and capabilities specified in
TS 23.216 [3], clause 6.2.1 are used for the switching of access networks at
the transport layer. It further requires that the MSC Server supports I2
reference point with needed enhancements.
NOTE 1: See TS 23.216 [3] for initiation of handover of only one voice PS
bearer at EPC.
NOTE 2: The UE capable of procedures as specified in TS 23.216 [3] does not
need to support session and access transfer procedures as specified in TS
23.237 [5], clauses 6.3.2.1.1 and 6.3.2.3 to support PS to CS Access Transfer.
Figure 5.4.2.3.2-1: PS-CS: PS to CS -- Single Radio
The user may be registered in the IMS by the MSC Server in case both UE and
network support CS Fallback.
1\. Procedures specified in TS 23.216 [3], clause 6.2.2.1 result in an INVITE
to be sent with an STN-SR indicating use of Single Radio VCC procedures for
Access Transfer to CS access. If the user is not IMS registered by the MSC
Server, the MSC Server enhanced for SRVCC includes the C-MSISDN as calling
party number. If the user is registered in the IMS by the MSC Server, then the
MSC Server includes the Instance ID into the session transfer request. The MSC
Server indicates its capability to support mid-call services during session
transfer.
2\. Standard procedures are used at S-CSCF for routeing of the INVITE to the
SCC AS.
3\. The SCC AS uses the STN-SR to determine that Access Transfer using Single
Radio VCC is requested. The SCC AS may retrieve the C MSISDN from the HSS. The
SCC AS is able to identify the correct anchored session as specified in TS
23.237 [5]. The SCC AS proceeds with the Access Transfer of the recently added
active session with bi-directional speech for the UE by updating the Remote
Leg with the media description and other information using the Remote Leg
Update procedure as specified in TS 23.237 [5], clause 6.3.1.5.
4\. The SCC AS provides session state information on all active and inactive
sessions with speech media including needed STIs on the transferring-in leg.
In case there are more than two sessions with speech media (active or hold),
the SCC AS selects the second-most recently active session in case there were
more than one active speech session, and puts it on hold, or otherwise selects
the held session that has been most recently made inactive. All other sessions
are released. The selected session is sent in session state information to the
MSC Server.
NOTE 3: The session state information can be provided as part of the SCC AS
response to the INVITE.
5\. The S-CSCF forwards the session state information to the MSC Server.
6\. In case the MSC Server enhanced for SRVCC receives the session state
information on more than one active or inactive speech sessions, it initiates
session transfer towards SCC AS for the additional session.
NOTE 4: The SCC AS is using the C-MSISDN or Instance ID to correlate the
session transfer request, and additionally the received session state
information to select the correct session.
7a. If the Gm reference point is retained upon PS handover procedure then:
7a-1. The UE sends a Re-INVITE via the PS access to update the remaining non-
voice media associated with the recently added active session.
7a-2. Standard procedures are used at S-CSCF for routeing of the INVITE to the
SCC AS.
7a-3. The SCC AS processes the Re-INVITE and updates the Remote Leg if needed.
7b. If the Gm reference point is not retained upon PS handover procedure, or
if there was no other non-voice media in the IMS session than the voice which
was transferred to the target access, then the Source Access Leg is released
as specified in TS 23.237 [5], clause 6.3.1.6.
NOTE 5: Some or all of the steps between steps 3 and 4b may consist of a
sequence of messages, some of which may occur in parallel.
NOTE 6: The MSC Server enhanced for SRVCC can have also capabilities as
specified in TS 23.292 [6]. In this case and if not having performed IMS
registration before step 1, it shall not perform IMS registration until all
IMS sessions via CS access that are anchored in the SCC AS have been
terminated.
##### 5.4.2.3.3 PS -- CS Access Transfer: PS to CS -- Single Radio, incoming
call in alerting phase
Figure 5.4.2.3.3-1 PS-CS: PS to CS -- Single Radio, incoming call in alerting
phase, provides an information flow for Access Transfer of media of an IMS
session in PS to CS direction for Access Transfers within 3GPP access networks
as specified in TS 23.216 [3].
The flow requires that the user is active in an terminating IMS session and
that the SIP session is in alerting state; procedures and capabilities
specified in TS 23.216 [3], clause 6.2.1 are used for the switching of access
networks at the transport layer. It further requires that the MSC Server
supports I2 reference point.
Figure 5.4.2.3.3-1: PS-CS: PS to CS -- Single Radio, incoming call in alerting
phase
1-4. Standard procedures are used to initiate a SIP session towards the UE.
The UE is alerting the user for the incoming voice session.
5\. Procedures specified in TS 23.216 [3], clause 6.2.2.1 result in an INVITE
to be sent with an STN-SR indicating use of Single Radio VCC procedures for
Access Transfer to CS access. If the user is not IMS registered by the MSC
Server, the MSC Server enhanced for SRVCC includes the C-MSISDN as calling
party number. If the user is registered in the IMS by the MSC Server, then the
MSC Server includes the Instance ID into the session transfer request. The MSC
Server indicates its capability to support mid-call services during session
transfer.
6\. Standard procedures are used at S-CSCF for routeing of the INVITE to the
SCC AS.
7\. The SCC AS uses the STN-SR to determine that Access Transfer using Single
Radio VCC is requested. The SCC AS may retrieve the C-MSISDN from the HSS. The
SCC AS is able to identify the correct anchored session as specified in TS
23.237 [5]. The SCC AS proceeds with the Access Transfer of the recently added
active session with bi-directional speech for the UE by updating the Remote
Leg with the media description and other information using the Remote Leg
Update procedure as specified in TS 23.237 [5], clause 6.3.1.5.
NOTE 1: The SCC AS may not be able to update the remote leg at this point
depending on the state of SDP negotiation
NOTE 2: It is assumed the initial SDP negotiation has been completed prior to
triggering the SRVCC, thus the SCC AS can update the remote leg.
8\. The SCC AS provides session state information on the incoming speech call
in alerting state.
NOTE 3: The session state information can be provided as part of the SCC AS
response to the INVITE.
9\. The S-CSCF forwards the session state information to the MSC Server.
10\. The MSC moves to the corresponding CS call state, N7 - Call Received in
TS 24.008 [11].
10b. In parallel to step 10, the UE has received the HO command as described
in TS 23.216 [3]. The UE determines the local call state in the SIP session,
and creates the corresponding CS call state, U7 -- Call Received in TS 24.008
[11]. The UE continues to alert the user for incoming call.
11\. The user answers to the call.
11a. UE moves to U10 -- Active state.
12\. The UE uses the standard procedure to send the CS connect message to MSC
as described in TS 24.008 [11].
NOTE 4: Solution for possible race conditions (e.g. MSC server receives the CS
connect before the SCC AS responds) will be defined in Stage 3.
12b. The MSC moves to the N10 -- Active state.
13\. The MSC notifies the SCC AS the user has answered the call.
14\. Standard procedures are used at S-CSCF for routeing of the notification
to the SCC AS.
15\. The SCC AS creates the corresponding SIP request to the remote end,
updates the remote leg.
##### 5.4.2.3.4 PS -- CS Access Transfer: PS to CS -- Single Radio, outgoing
call in alerting phase
Figure 5.4.2.3.4-1 PS-CS: PS to CS -- Single Radio, outgoing call in alerting
phase, provides an information flow for Access Transfer of media of an IMS
session in PS to CS direction for Access Transfers within 3GPP access networks
as specified in TS 23.216 [3].
The flow requires that the user is active in an outgoing IMS session and that
the SIP session is in alerting state; procedures and capabilities specified in
TS 23.216 [3], clause 6.2.1 are used for the switching of access networks at
the transport layer. It further requires that the MSC Server supports I2
reference point.
Figure 5.4.2.3.4-1: PS-CS: PS to CS -- Single Radio, outgoing call in alerting
phase
1-4. Standard procedures are used to initiate a SIP session from the UE
towards the remote end. The remote end is alerting the user for the incoming
voice session.
5\. Procedures specified in TS 23.216 [3], clause 6.2.2.1 result in an INVITE
to be sent with an STN-SR indicating use of Single Radio VCC procedures for
Access Transfer to CS access. If the user is not IMS registered by the MSC
Server, the MSC Server enhanced for SRVCC includes the C-MSISDN as calling
party number. If the user is registered in the IMS by the MSC Server, then the
MSC Server includes the Instance ID into the session transfer request. The MSC
Server indicates its capability to support mid-call services during session
transfer.
6\. Standard procedures are used at S-CSCF for routeing of the INVITE to the
SCC AS.
7\. The SCC AS uses the STN-SR to determine that Access Transfer using Single
Radio VCC is requested. The SCC AS may retrieve the C-MSISDN from the HSS. The
SCC AS is able to identify the correct anchored session as specified in TS
23.237 [5]. The SCC AS proceeds with the Access Transfer of the recently added
active session with bi-directional speech for the UE by updating the Remote
Leg with the media description and other information using the Remote Leg
Update procedure as specified in TS 23.237 [5], clause 6.3.1.5.
NOTE 1: The SCC AS may not be able to update the remote leg at this point
depending on the state of SDP negotiation.
8\. The SCC AS provides session state information on the outgoing speech call
in alerting state.
NOTE 2: The session state information can be provided as part of the SCC AS
response to the INVITE.
9\. The S-CSCF forwards the session state information to the MSC Server.
10\. The MSC moves to the corresponding CS call state, N4 - Call Delivered in
TS 24.008 [11].
10b. In parallel to step 10, the UE has received the HO command as described
in TS 23.216 [3]. The UE determines the local call state in the SIP session,
and creates the corresponding CS call state, U4 -- Call Delivered in TS 24.008
[11]. The UE continues play ring back tone to the end user.
11\. The remote end answers to the call.
12\. The SCC AS notifies the MSC the remote end has answered the call.
13\. Standard procedures are used at S-CSCF for routeing of the notification
to the MSC.
Editor\'s note: The possible race condition of steps 5 and 13 is FFS. Remote
end might answer the call before the handover is completed.
14\. The MSC uses the standard procedure to send the CS connect message to UE
as described in TS 24.008 [11].
15\. The MSC moves to the N10 -- Active state.
16\. The UE moves to the U10 --Active state.
##### 5.4.2.3.5 Information Flow for Dual Radio CS to PS transfer
Procedures specified in clause 5.4.3.2 apply.
#### 5.4.2.4 Co-existence of ICS UE and MSC Server assisted mid-call support
The mid-call support is only triggered if UE, MSC server, and SCC AS all have
indicated support of the mid-call feature. A Rel-9 UE may implement both ICS
UE capability and the MSC Server assisted mid-call support for situations when
the ICS UE capabilities cannot be used or be maintained after the transfer.
For such scenario, the SCC AS must be able to determine, when the ICS UE
capabilities are used and when not.
ICS UE with MSC Server assisted mid-call support may indicate support for both
capabilities and follows the UE procedures defined for both capabilities. In
such a case, the SCC AS will know that the UE is both ICS capable and supports
MSC Server assisted mid-call capability.
When a session transfer occurs, the SCC AS needs to determine which
capabilities are used to transfer the additional active or inactive sessions.
Following logic is applied:
\- If the session transfer request is made using Gm or I1 procedures, the SCC
AS detects that ICS UE capabilities are used and executes the transfer
according to current procedures defined in TS 23.237 [5] and TS 23.292 [6].
\- If the session transfer request is made via MSC Server, and support for
both ICS UE and MSC Server assisted mid-call capability is indicated, the
SCCAS needs to wait whether the UE uses the ICS UE capabilities to transfer
the additional active or inactive sessions and fall back to MSC server
assisted mid-call if it does not.
NOTE 1: The transfer procedure of held session will be delayed due to the need
to wait to detect the need for fall back to MSC server assisted mid-call
capability in case ICS UE capability is not used.
NOTE 2: This means that MSC Server assisted mid-call will not be used for
scenarios such as PS - PS in conjunction with PS - CS Access Transfer with ICS
UE capabilities.
### 5.4.3 Alternative 2: Use of 24.008 CC TI to support mid-call services
during session transfer
#### 5.4.3.1 Overview
For networks not supporting the Gm or the I1 reference points of ICS, Service
Continuity for multi-session scenarios is provided with a coordinated use of
24.008 CC TI between the SCC AS, the MSC Server and the UE.
An STI is allocated and communicated between the UE and the SCC AS at IMS
session setup; additionally, a TS 24.008 [11] CC TI is allocated and
communicated between the UE and the SCC AS at IMS session; the UE uses the STI
for PS-PS Session Transfer and TI for PS to CS Session Transfer. The STI is
allocated as specified in TS 23.237 [5] and TS 24.008 [11] CC TI is allocated
as specified in TS 24.008 [11].
When the session set up in the PS access, the UE or the SCC AS allocate a TI
and communicate to each other.
\- For an originated call, the TI is allocated by the UE and is communicated
to SCC AS.
\- For a terminated call the TI is allocated by the SCC AS just like MSC
behaviour as specified in TS 24.008 [11] and is communicate to UE.
One TI is allocated for each session and shared between with UE and SCC AS.
The UE and SCC AS use the TI to identify the session to be transferred.
This alternative is limited in that only one active and one held session can
be transferred to CS access due to limitations of TS 24.008 [11] CC. If two or
more sessions are present when PS to CS Session Transfer is initiated, the
recently added active session is transferred first, followed by the transfer
of the held session.
Editor\'s Note: When there are more than one held sessions in PS, which held
session to transfer is FFS.
The SCC AS may provide session state information on active and inactive
sessions with speech media on the transferring-in leg for enablement of PS-CS
service continuity of IMS multimedia-sessions if necessary.
Editor\'s Note: Details of IMS Registration by the MSC Server for SR-VCC
procedure are FFS.
#### 5.4.3.2 Information Flow for Dual Radio CS to PS transfer
The following figure provides an example flow for dual radio CS to PS Session
Transfer with Held and Active sessions.
Figure 5.4.3.2-1: CS to PS Access Transfer (dual radio)
1\. When the UE determines a need for Access Transfer, the UE initiates
registration with IMS (if not already registered in IMS) as specified in TS
23.228 [4]. It subsequently initiates an IMS originated session toward the SCC
AS using a static STI to establish an Access Leg via PS access and requests
Access Transfer of the active session to PS access.
2\. Standard procedures are used at S CSCF for routeing of the INVITE to the
SCC AS.
NOTE 1: The UE has indicated its capability to support mid-call services
during session transfer in the registration.
3\. The SCC AS performs the Access Transfer by updating the Remote Leg with
connection information of the newly established Access Leg (see the Remote Leg
Update procedure, described in TS 23.237 [5] clause 6.3.1.5). The SCC AS
completes the establishment of the Access Leg according to procedures defined
in TS 23.228 [4].
4\. The SCC AS provides session state information on the additional held
session with speech media including dynamic STI needed for the held session on
the transferring-in leg when it determines that there is a held session with
speech media in the CS access network.
NOTE 2: The session state information can be provided as part of the SCC AS
response to the INVITE.
5\. The S-CSCF forwards the session state information to the UE.
6\. If the UE receives the session state information of the held session, it
initiates session transfer request towards SCC AS using the dynamic STI for
the held session.
7\. The Source Access Leg, which is the Access Leg previously established over
CS access, is released as specified in TS 23.237 [5], clause 6.3.1.6.
NOTE 3: Steps3 and 7 consist of a sequence of messages, some of which may
occur in parallel.
The following figure provides an alternative example flow for dual radio CS to
PS Session Transfer with Held and Active sessions. This flow applies to the
scenario where the UE is not using ICS capabilities.
Figure 5.4.3.2-2: CS to PS Access Transfer (dual radio)
1\. When the UE determines a need for Access Transfer, the UE initiates
registration with IMS (if not already registered in IMS) as specified in TS
23.228 [4]. It subsequently initiates an IMS originated session toward the SCC
AS using a static STI #1 to establish an Access Leg via PS access and requests
Access Transfer of the active session to PS access. The static STI #1 is used
to indicate that the transfer is for the active session and it can be formed
by combining a static STI and the predefined TI for the active session.
2\. Standard procedures are used at S CSCF for routeing of the INVITE to the
SCC AS.
NOTE 1: The UE has indicated its capability to support mid-call services
during session transfer in the registration.
3\. The SCC AS performs the Access Transfer by updating the Remote Leg with
connection information of the newly established Access Leg (see the Remote Leg
Update procedure, described in TS 23.237 [5] clause 6.3.1.5). The SCC AS
completes the establishment of the Access Leg according to procedures defined
in TS 23.228 [4].
4\. The UE initiates an IMS originated session toward the SCC AS using a
static STI #2 to establish an Access Leg via PS access and requests Access
Transfer of the held session to PS access. The static STI #2 is used to
indicate that the transfer is for the held session and it can be formed by
combining a static STI and the predefined TI for the held session.
5\. Standard procedures are used at S CSCF for routeing of the INVITE to the
SCC AS.
NOTE 2: The UE has indicated its capability to support mid-call services
during session transfer in the registration.
6\. The SCC AS performs the Access Transfer by updating the Remote Leg with
connection information of the newly established Access Leg (see the Remote Leg
Update procedure, described in TS 23.237 [5] clause 6.3.1.5). The SCC AS
completes the establishment of the Access Leg according to procedures defined
in TS 23.228 [4]. When performing the Access Transfer for the held session, in
case there are more than two sessions with speech media (active or hold), the
SCC AS selects the second-most recently active session in case there were more
than one active speech session, and puts it on hold, or otherwise selects the
held session that has been most recently made inactive.
7\. The Source Access Leg, which is the Access Leg previously established over
CS access, is released as specified in TS 23.237 [5], clause 6.3.1.6.
NOTE 3: Steps 3, 6 and 7 consist of a sequence of messages, some of which may
occur in parallel.
#### 5.4.3.3 Information Flow for Dual Radio PS to CS transfer
The following figure provides and example flow for dual radio PS to CS Session
Transfer with Held and Active sessions.
Figure 5.4.3.3: 24.008 CC TI alternative - PS to CS Access Transfer (dual
radio)
1\. UE A has two sessions, one is active, one is on hold when attached to PS
access. UE decides to transfer to CS; it sends transfer request to MSC server
including a STN to request a Session Transfer, and the TS 24.008 [11] CC TI of
the A-C session to be used for identification of A-C session for subsequent
service control.
2\. MSC Server sends transfer request to SCC AS including STN and TS 24.008
[11] CC T1.
3\. SCC AS receives the transfer request and proceeds with execution of the
session identified by the TS 24.008 [11] CC TI.
4-5. SCC AS transfers the session to CS.
6\. UE A sends transfer request to MSC server including STN to request a
Session Transfer and the TS 24.008 [11] CC TI of the A-B session to be used
for identification of A-B session for subsequent service control.
NOTE 1: The MSC Server identifies this as a Session Transfer for non ICS UE
and applies non ICS UE specific behaviour, e.g. to suppress requirements to
Hold the first session before setting up a subsequent session; and to setup
only recently added session in active state and all other sessions in Held
state.
NOTE 2: Sending this setup without putting the A-C session into hold requires
change to the UE stack.
7\. MSC Server sends transfer request to SCC AS including STN and TS 24.008
[11] CC TI.
8\. SCC AS receives the transfer request and proceeds with execution of the
session identified by the TS 24.008 [11] CC TI.
9-10. SCC completes the PS-CS Session Transfer procedure.
#### 5.4.3.4 Information Flow for Single Radio PS to CS transfer
The following figure provides and example flow for Single Radio PS to CS
Session Transfer with Held and Active sessions.
Figure 5.4.3.4: 24.008 CC TI alternative - PS to CS Access Transfer (single
radio)
1\. UE A has two sessions, one is active, one is on hold when attached to PS
access. Upon initiation of SR-VCC procedure, MME sends the transfer request to
MSC Server.
2-3. MSC server sends transfer request to SCC AS including STN-SR to request a
SR-VCC Session Transfer.
4-5. SCC AS proceeds with execution of the recently added active session.
6\. Upon completion of CS radio bearer allocation using TS 23.216 [6]
procedures, UE tunes to CS and sends a Setup message to MSC server to
establish the context for TS 24.008 [11] service control including the STN-SR
and the TS 24.008 [11] CC TI of the A-C session to be used for identification
of A-C session for subsequent service control.
Editor\'s Note: Whether this step is required is FFS.
NOTE 1: A STN-SR is used to indicate use of SR-VCC procedures, e.g. CS bearer
does not need to be established upon receipt of Setup message.
7\. UE A sends transfer request to MSC server including STN-SR to request a
SR-VCC Session Transfer and the TS 24.008 [11] CC TI of the A-B session to be
used for identification of A-B session for subsequent service control.
NOTE 2: The MSC Server identifies this as a Session Transfer for non ICS UE
and applies non ICS UE specific behaviour, e.g. to suppress requirements to
Hold the first session before setting up a subsequent session.
8\. MSC Server sends transfer request to SCC AS including STN-SR and the TS
24.008 [11] CC TI.
9\. SCC AS receives the transfer request and proceeds with execution of the
session identified by the TS 24.008 [11] CC TI.
10-11. SCC completes the PS-CS Session Transfer procedure.
### 5.4.4 Alternative 3: Use of STI to support mid-call services during
session transfer
#### 5.4.4.1 Overview
For networks not supporting the Gm or the I1 reference points of ICS, Service
Continuity for multi-session scenarios is provided with a coordinated use of
STI between the SCC AS, the MSC Server and the UE.
An STI is allocated and communicated between the UE and the SCC AS at IMS
session setup; the UE uses the STI for PS-PS Session Transfer and PS to CS
Session Transfer. The STI is allocated as specified in TS 23.237 [6].
This alternative does not have the limitation of the TS 24.008 [11] CC TI
alternative, in that more than one held sessions can be transferred to CS
access.
Editor\'s Note: Capability exchange between UE and MSC Server is FFS.
#### 5.4.4.2 Information Flow for Dual Radio CS to PS transfer
The information flow for Access Transfer of an IMS session in CS to PS
direction is the same as the information flow for PS--CS Access Transfer: CS
to PS access, as specified in TS 23.237 [5] clause 6.3.2.1.2 with a
precondition that the dynamic STI is communicated between MSC Server and UE in
the 24.008 signalling used to establish the IMS session with CS media.
#### 5.4.4.3 Information Flow for Dual Radio PS to CS transfer
Figure 5.4.4.3-1 provides and example flow for dual radio PS to CS Session
Transfer with Held and Active sessions.
Figure 5.4.4.3-1: STI alternative - PS to CS Access Transfer (dual radio)
NOTE 1: Potential impact of the particular TS 24.008 [11] message(s) used on
the CS state machine of UE and the one the network may require is for study at
stage 3.
1\. UE A has two sessions, one is active, one is on hold when attached to PS
access. UE decides to transfer to CS; it sends transfer request to MSC server
including an STI to request A-C Session Transfer, and the service state. UE-A
also includes the Static-STI (as defined in 23.237[5]) in the request for the
purposes of routing.
2\. MSC Server sends transfer request to SCC AS targeting the Static-STI and
includes the STI for the A-C session.
3\. SCC AS receives the transfer request and proceeds with execution of
session identified by the STI.
4-5. SCC AS transfers the session to CS.
6\. UE A sends transfer request to MSC server including an STI to request A-B
Session Transfer and the service state. UE-A also includes the Static-STI (as
defined in 23.237[5]) in the request for the purposes of routing.
NOTE 2: The MSC Server identifies this as a Session Transfer for non ICS UE
and applies non ICS UE specific behaviour, e.g. to suppress requirements to
Hold the first session before setting up a subsequent session.
7\. MSC Server sends transfer request to SCC AS targeting the Static-STI and
includes the STI for the A-B session.
8\. SCC AS receives the transfer request and proceeds with execution of the
session identified by the STI.
9-10. SCC completes the PS-CS Session Transfer procedure.
#### 5.4.4.4 Information Flow for Single Radio PS to CS transfer
Figure 5.4.4.4-1 provides and example flow for Single Radio PS to CS Session
Transfer with Held and Active sessions.
Figure 5.4.4.4-1: STI alternative - PS to CS Access Transfer (single radio)
1\. UE A has two sessions, one is active, one is on hold when attached to PS
access. Upon initiation of SR-VCC procedure, MME sends the transfer request to
MSC Server.
2-3. MSC server sends transfer request to SCC AS including STN-SR to request a
SR-VCC Session Transfer.
4-5. SCC AS proceeds with execution of the recently added active session.
6\. Upon completion of CS radio bearer allocation using 23.216 procedures, UE
tunes to CS and sends a 24.008 CC message to MSC server to establish the
context for 24.008 service control including STI for A-C session and service
state.
7\. UE A sends transfer request to MSC server including STI for A-B session
and service state. UE-A also includes the Static-STI (as defined in 23.237[5])
in the request for the purposes of routing.
NOTE 1: The MSC Server identifies this as a Session Transfer for non ICS UE
and applies non ICS UE specific behaviour, e.g. to suppress requirements to
Hold the first session before setting up a subsequent session.
NOTE 2: Steps 6 and 7 may be combined.
8\. MSC Server sends transfer request to SCC AS targeting the Static-STI and
includes the STI for the A-B session.
9\. SCC AS receives the transfer request and proceeds with execution of the
session identified by the STI.
10-11. SCC completes the PS-CS Session Transfer procedure.
### 5.4.5 Evaluation of the alternatives
#### 5.4.5.1 UE capability
All the above presented alternatives for support for mid-call services during
session transfer have impact to the UE. The actual impact depends on the
alternative, but in general this means that in order to use this
functionality, the UE needs to be upgraded with this new capability.
The additional functionality provided to the user compared to Rel-7 VCC, is
the ability to perform domain transfer from PS access to CS access for one
active and one or more inactive sessions. In Rel-8 this same functionality was
achieved with ICS UE capability whenever the Gm is available. In Rel-9 the ICS
UE capability includes the I1 interface, which means that this capability is
always available for the UE, if supported by the UE and by the network.
Therefore the UE capability to support mid-call services during session
transfer can be seen as an alternative to ICS UE capability. It can also co-
exist with the ICS UE capabilities.
## 5.5 Session Continuity for speech and video over CS
## 5.6 Architecture
# 6 Conclusion
## 6.1 Conclusion on Inter-UE Transfer
### 6.1.1 Conclusion on UE awareness
It is concluded that from the Alternative 2 described in clause 4.6.3, the
dynamic discovery of an IUT target based on IMS registration described in
clause 4.6.3.1 will be specified in normative specifications in Rel-9.
Additionally, alternative 1 described in clause 4.6.2 can be supported for
discovery of an IUT target as an implementation option without normative
specifications but must be used with other capabilities to determine target
current availability. The capability query described in clause 4.6.3.2 and
dynamic discovery of IUT target based on presence described in clause 4.6.3.3
are existing mechanisms that can be used within an implementation option but
do not require any standardization.
### 6.1.2 Collaborative Session
The following conclusions on Collaborative Session shall apply for this
release:
\- The Collaborative Session control cannot be transferred between UEs.
\- There is one Controller UE within a Collaborative Session.
\- The Controllee UE is not aware of its role within the Collaborative session
and is not aware of a Controller UE. In that respect any UE can undertake the
role of Controllee UE.
\- The Collaborative Session is transparent to the remote end, to which it
appears that the session is with the Controller UE.
### 6.1.3 UEs not supporting IUT
UEs not supporting IUT can act as Controllee UEs within a Collaborative
Session. Those UEs are provided with limited IUT functionality based on the
constraints of the UE and the network (e.g. MSC Server or MGCF) as described
in clause 4.1.2.2.
## 6.2 Conclusion on support of mid-call services during session transfer
Different solutions for support of mid-call services during session transfer
have been studied in clause 5.4. It is concluded to progress with Alternative
1 \"MSC Server enhancement to support mid-call services during session
transfer\" is the preferred of the three alternatives.
###### ### Annex A: List of IUT procedures
1\. Procedures for Collaborative Session establishment:
1.1 Establish Collaborative Session and keep Collaborative Session control
1.1.1 Transfer media\ Comments: 1A
1.1.2 Establish with new media\ Comments: 3A
1.2 Establish Collaborative Session and transfer Collaborative Session control
1.2.1 Transfer media\ Comments: 2B
1.2.2 Establish with new media\ Comments: ??
1.2.3 Transfer Collaborative Session control only (no media on new
Controller)\ Comments: 2A
2\. Procedures during established Collaborative Session
2.1 Controller Initiated Procedures
2.1.1 Controller Initiated Transfer Media
2.1.1.1 Controller to Controllee\ Comments: 1B
2.1.1.2 Controllee to Controller\ Comments: 1B
2.1.1.3 Controllee to Controllee\ Comments: ??
2.1.2 Controller Initiated Add New Media
2.1.2.1 On Controller\ Comments: 5A
2.1.2.2 On Controllee\ Comments: 5A
2.1.3 Controller Initiated Release Media
2.1.3.1 On Controller\ Comments: 4A -- Last media may end session
2.1.3.2 On Controllee\ Comments: 4A -- Last media may end session
2.1.4 Controller Initiated Modify Media
2.1.4.1 On Controller\ Comments: 5A
2.1.4.2 On Controllee\ Comments: 5A
2.1.5 Controller Initiated Transfer Collaborative Session control\ Comments:
2A -- May result in end of session at source
2.1.6 Controller Initiated MM-Tel Services
2.1.6.1 On Controller\ Comments: ??
2.1.6.2 On Controllee\ Comments: ??
2.1.7 Controller Initiated End Collaborative Session\ Comments: 6A
2.2Remote Party Initiated Procedures
2.2.1 Remote Party Initiated Add New Media
2.2.1.1 Media On Controller\ Comments: ??
2.2.1.2 Media On Controllee\ Comments: 3B
2.2.2 Remote Party Initiated Release Media
2.2.2.1 Media On Controller\ Comments: 4B
2.2.2.2 Media On Controllee\ Comments: 4B
2.2.3 Remote Party Initiated Modify Media
2.2.3.1 Media On Controller\ Comments: 5C
2.2.3.2 Media On Controllee\ Comments: 5C
2.2.4 Remote Party Initiated MM-Tel Services
2.2.4.1 On Controller\ Comments: ??
2.2.4.2 On Controllee\ Comments: ??
2.2.5 Remote Party Initiated End Collaborative Session\ Comments: 6C
2.3 SCC-AS Initiated Procedures
2.3.1 SCC-AS Initiated Release Media
2.3.1.1 On Controller\ Comments: 4D
2.3.1.2 On Controllee\ Comments: 4D
2.3.2 SCC-AS Initiated End Collaborative Session\ Comments: 6B
2.4 Controllee Initiated Procedures
2.4.1 Controllee Initiated Transfer Media
2.4.1.1 Controller to Controllee\ Comments: ??
2.4.1.2 Controllee to Controller\ Comments: ??
2.4.2 Controllee Initiated Add New Media
2.4.2.1 On Controller\ Comments: ??
2.4.2.2 On Controllee\ Comments: ??
2.4.3 Controllee Initiated Release Media (on Controllee only)\ Comments: 4C -
Last media may end session
2.4.4 Controllee Initiated Modify Media (on Controllee only)\ Comments: 5B
2.4.5 Controllee Initiated Transfer Collaborative Session control\ Comments:
?? -- May result in end of session at source
2.4.6 Controllee Initiated MM-Tel Services (on Controllee only)\ Comments: ??
2.4.7 Controllee Initiated End Collaborative Session (on Controllee only)\
Comments: ??
#