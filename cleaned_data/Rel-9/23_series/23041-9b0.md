# Foreword
This Technical Specification (TS) has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document describes the Cell Broadcast short message service (CBS)
for GSM and UMTS.
For GSM it defines the primitives over the Cell Broadcast Centre - Base
Station System (CBC-BSS) interface and the message formats over the Base
Station System - Mobile Station (BSS-MS) interface for Teleservice 23 as
specified in 3GPP TS 22.003 [2].
For UMTS it defines the interface requirements for the Cell Broadcast Center
-- UMTS Radio Network System (RNS) interface and the radio interface
requirements for UMTS Radio Acces Networks to support CBS as specified in 3GPP
TS 22.003 [2].
The present document also describes the Public Warning System (PWS) for GSM,
UMTS and E-UTRAN, see 3GPP TS 22.268 [28].
## 1.1 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
  * References are either specific (identified by date of publication, edition number, version number, etc.) or non‑specific.
  * For a specific reference, subsequent revisions do not apply.
  * For a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document _in the same Release as the present document_.
[1] Void
[2] 3GPP TS 22.003: \"Circuit Teleservices supported by a Public Land Mobile
Network (PLMN)\".
[3] 3GPP TS 23.038: \"Alphabets and language‑specific information\".
[4] 3GPP TS 23.040: \"Technical realization of the Short Message Service
(SMS)\".
[5] 3GPP TR 03.47 Version 7.0.0: \"Digital cellular telecommunication system
(Phase 2+); Example protocol stacks for interconnecting Service Centre(s) (SC)
and Mobile-services Switching Centre(s) (MSC)\".
[6] 3GPP TR 03.49 Version 7.0.0: \"Digital cellular telecommunication system
(Phase 2+); Example protocol stacks for interconnecting Cell Broadcast Centre
(CBC) and Base Station Controler (BSC)\".
[7] 3GPP TS 44.012: \"Short Message Service Cell Broadcast (SMSCB) support on
the mobile radio interface\".
[8] 3GPP TS 45.002: \" Multiplexing and multiple access on the radio path\".
[9] 3GPP TS 27.005: \"Use of Data Terminal Equipment - Data Circuit
terminating Equipment (DTE - DCE) interface for Short Message Service (SMS)
and Cell Broadcast Service (CBS)\".
[10] 3GPP TS 48.052: \"Base Station Controller ‑ Base Transceiver Station (BSC
- BTS) interface; Interface principles\".
[11] 3GPP TS 48.058: \"Base Station Controller ‑ Base Transceiver Station (BSC
- BTS) interface; Layer 3 specification\".
[12] ITU-T Recommendation X.210: \"Information technology - Open systems
interconnection - Basic Reference Model: Conventions for the definition of OSI
services\".
[13] 3GPP TS 48.008: \"Mobile-services Switching Centre - Base Station System
(MSC-BSS) interface; Layer 3 specification\".
[14] 3GPP TS 23.042: \"Compression algorithm for text messaging services\".
[15] 3GPP TS 23.048: \"Security Mechanisms for the SIM application toolkit;
Stage 2\".
[16] 3GPP TS 25.331: \"Radio Resource Control (RRC); Protocol specification\".
[17] 3GPP TS 25.401: \"UTRAN Overall Description\".
[18] 3GPP TS 31.102: \"Characteristics of the USIM Application\".
[19] 3GPP TS 25.324: \"Broadcast/Multicast Control BMC\".
[20] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[21] 3GPP TR 25.925: \"Radio Interface for Broadcast/Multicast Services\".
[22] 3GPP TS 22.042: \"Network Identity and Time Zone (NITZ) service
description; Stage 1\"
[23] 3GPP TS 24.008: \"Mobile radio interface Layer 3 specification; Core
network protocols; Stage 3\".
[24] Void.
[25] GSMA AD.26: \"Coding of Cell Broadcast Functions\".
[26] 3GPP TS 44.018: \"Mobile radio interface layer 3 specification; Radio
Resource Control Protocol\".
[27] 3GPP TS 44.060: \"General Packet Radio Service (GPRS); Mobile Station
(MS) - Base Station System (BSS) interface; Radio Link Control / Medium Access
Control (RLC/MAC) protocol\".
[28] 3GPP TS 22.268: \"Public Warning System (PWS) Requirements\".
[29] 3GPP TS 25.419: \"UTRAN Iu-BC Interface: Service Area Broadcast Protocol
(SABP)\".
[30] 3GPP TS 48.049: \"Base Station Controller - Cell Broadcast Centre (BSC-
CBC) Interface Specification; Cell Broadcast Service Protocol (CBSP)\".
[31] Void.
[32] Void.
[33] IETF RFC 4960: \"Stream Control Transmission Protocol\".
[34] 3GPP TS 36.413: \" Evolved Universal Terrestrial Radio Access Network
(E-UTRAN); S1 Application Protocol (S1AP)\".
[35] 3GPP TS 29.168: \"Cell Broadcast Centre interfaces with the Evolved
Packet Core; Stage 3\".
[36] 3GPP TS 36.331: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
Radio Resource Control (RRC); Protocol specification\".
## 1.2 Abbreviations
For the purposes of the present dcoument, the abbreviations used are listed in
3GPP TR 21.905 [20].
# 2 General description
The CBS service is analogous to the Teletex service offered on television, in
that like Teletex, it permits a number of unacknowledged general CBS messages
to be broadcast to all receivers within a particular region. CBS messages are
broadcast to defined geographical areas known as cell broadcast areas. These
areas may comprise of one or more cells, or may comprise the entire PLMN.
Individual CBS messages will be assigned their own geographical coverage areas
by mutual agreement between the information provider and the PLMN operator.
CBS messages may originate from a number of Cell Broadcast Entities (CBEs),
which are connected to the Cell Broadcast Centre. CBS messages are then sent
from the CBC to the cells, in accordance with the CBS\'s coverage
requirements.
A CBS page comprises of 82 octets, which, using the default character set,
equates to 93 characters. Other Data Coding Schemes may also be used, as
described in 3GPP TS 23.038 [3]. Up to 15 of these pages may be concatenated
to form a CBS messagee. Each page of such CBS message will have the same
message identifier (indicating the source of the message), and the same serial
number. Using this information, the MS/UE is able to identify and ignore
re‑broadcasts of already received messages.
CBS messages are broadcast cyclically by the cell at a frequency and for a
duration agreed with the information provider. The frequency at which CBS
messages are repeatedly transmitted will be dependent on the information that
they contain; for example, it is likely that dynamic information such as road
traffic information, will require more frequent transmission than weather
information. The repetition period will also be affected by the desire for CBS
messages to be received by high speed mobiles which rapidly traverse
cells.Reception of CBS messages for a MS/UE is not a requirement if it is
connected in the CS domain. It should be possible for a UE to receive messages
if it is connected in the PS domain and no data is currently transmitted.
* * *
CS-Domain CS-Connected CS-Idle CS-Idle PS-Domain - PS-Idle PS-Connected
Reception of CBS Message Not possible Possible Depends on RRC mode
* * *
NOTE: In case the UE is in CS-Idle and PS-Connected Mode it depends on the
Radio Resource Control State whether reception of CBS messages is possible.
The relevant states are described in 3GPP TS 25.331 [16].
GSM only [CBS messages may be broadcast on two different cell broadcast
channels, which are characterized by different QoS. A MS is always able to
read the basic channel (see 3GPP TS 45.002 [8]). The reading of the extended
channel may collide with other tasks of the MS. Therefore the probability of
receiving a CBS message on the extended channel is smaller than on the basic
channel. The reading of the extended channel for MSs is optional. The
scheduling on the channels will be done independently].
To permit mobiles to selectively display only those CBS messages required by
the MS/UE user, CBS messages are assigned a message class which categorises
the type of information that they contain and the language (Data Coding
Scheme) in which the CBS message has been compiled. Through the use of
appropriate MMI, the user is then able to ignore message types that he does
not wish to receive, e.g. advertising information or messages in an unfamiliar
language.
A network may be able to remotely activate mobile terminals in order to enable
them to receive CBS messages, according to regulatory requirements (see 3GPP
TS 25.331 [16]).
PWS provides a service that allows the network to distribute warning messages
on behalf of public authority. PWS enables the distribution of ETWS and CMAS
warning messages in GSM, UMTS and E-UTRAN.
Some of the PWS warning message distribution mechanisms are access technology
specific, but for GSM and UMTS there is also a common part using CBS
procedures and related message structures, and for E-UTRAN CBS related message
structures are used.
# 3 Network Architecture
The chosen network architectures differ for GSM, UMTS and EPS. In subclause
3.1 the GSM network architecture is descripted, in subclause 3.2 the UMTS
network architecture and in subclause 3.3 the EPS network architecture.
## 3.1 GSM Network Architecture
The basic network structure of CBS is depicted by figure 1.
Figure 1
\- message transfer on link 1 is outside the scope of GSM Specifications;
\- message transfer on link 2 is described in subclause 9.1;
\- message transfer on link 3 is described in 3GPP TS 48.058 [11];
\- message transfer on link 4 is described in 3GPP TS 44.012 [7] and the
timing of messages transferred on link 4 is described in 3GPP TS 45.002 [8].
## 3.2 UMTS Network Architecture
The basic network structure of CBS is depicted by figure 2.
Figure 2
The basic network structure replaces the GSM BSS with the UTRAN containing the
RNC and the Node B. The cell broadcast center (CBC) is part of the core
network and connected to a routing node e.g. a 3G SGSN via the Bc reference
point. Thus the CBC can reach every RNC via the user plane of the Iu
interface. On the logical interface between the CBC and the RNC protocol is
described in 3GPP TS 25.419 [29]. The other UTRAN related interfaces are
described in the according UTRAN specifications based on the RAN 2 3GPP TR
25.925 [21]. Based on this architecture and the current requirements for cell
broadcast the core network elements like MSC, VLR, HLR etc are not involved
for the service delivery.
The CBE and the interface between CBE and CBC are out of scope of 3GPP
specifications.
## 3.3 EPS Network Architecture
The basic network structure of PWS architecture in E-UTRAN is depicted by
figure 3.3-1.
Figure 3.3-1: PWS architecture
The cell broadcast centre (CBC) is part of the core network and connected to
the MME via the SBc reference point. The interface between the CBC and the MME
is described in 3GPP TS 29.168 [35] and the interface between the MME and the
eNodeB is described in 3GPP TS 36.413 [34].
The CBE and the interface between CBE and CBC are out of scope of 3GPP
specifications.
# 4 CBE Functionality
The functionality of the CBE is outside of the scope of GSM and UMTS
Specifications; however it is assumed that the CBE is responsible for all
aspects of formatting CBS, including the splitting of a CBS message into a
number of pages.
# 5 CBC Functionality
In GSM and UMTS the CBC is regarded to be integrated as a node into the core
network.
The CBC may be connected to several BSCs/RNCs. The CBC may be connected to
several CBEs. The CBC shall be responsible for the management of CBS messages
including:
\- allocation of serial numbers;
\- modifying or deleting CBS messages held by the BSC/RNC;
\- initiating broadcast by sending fixed length CBS messages to a BSC/RNC for
each language provided by the cell, and where necessary padding the pages to a
length of 82 octets (see 3GPP TS 23.038 [3]);
\- determining the set of cells to which a CBS message should be broadcast,
and indicating within the Serial Number the geographical scope of each CBS
message;
\- determining the time at which a CBS message should commence being
broadcast;
\- determining the time at which a CBS message should cease being broadcast
and subsequently instructing each BSC/RNC to cease broadcast of the CBS
message;
\- determining the period at which broadcast of the CBS message should be
repeated;
\- determining the cell broadcast channel, on which the CBS message should be
broadcast.
\- when CBS transmits emergency messages, allocation of \"emergency
indication\" to differentiate it from normal CBS messages, including the
\"Cell ID/Service Area ID list\" , \"warning type\", \"warning message\". If
\"warning type\" is of \'test\', only UEs which are specially designed for
testing purposes may display warning message.
To work efficiently on the interfaces, the BSC/RNC - which is normally
controlling more than one cell of a broadcast area - should be used as a
concentrator as far as CBS message handling is concerned. Hence, the CBC
should work on lists of cells when issuing CB related requests towards the
BSC/RNC.
# 6 BSC/RNC Functionality
The BSC/RNC shall interface to only one CBC. A BSC may interface to several
BTSs as indicated by 3GPP TS 48.052 [10]. A RNC may interface to several Node
Bs.
The BSC/RNC shall be responsible for:
* * *
BSC RNC interpretation of commands from the CBC;  
storage of CBS messages;  
scheduling of CBS messages on the CBCH; Scheduling of CBS messages on the CBS
related radio resources providing an indication to the CBC when the desired
repetition period cannot be achieved;  
Providing to the CBC acknowledgement of successful execution of commands
received from the CBC;  
Reporting to the CBC failure when a command received from the CBC is not
understood or cannot be executed;  
routing CBS messages to the appropriate BTSs; Routing CBS messages
Transferring CBS information to each appropriate BTS via a sequence of 4 SMS
BROADCAST REQUEST messages or 1 SMS BROADCAST COMMAND message (see 3GPP TS
08.58 [11]), indicating the channel which shall be used. The Node B has no
functionality regarding CBS. This implies that CBS messages do not have to be
transmitted explicitely to the Node Bs for further processing. optionally
generating Schedule Messages, indicating the intended schedule of
transmissions (see 3GPP TS 44.012 [7]); Generating Schedule Messages,
indicating the intended schedule of transmissions (see 3GPP TS 25.324 [19]).
The conversion of GSM related CB DRX Information is a function of the RNC
(3GPP TS 25.401 [17]). optionally receiving CBCH Load Indication messages and
reacting by broadcasting a burst of scheduled CBS messages or by suspending
the broadcast for a period indicated by BTS (see 3GPP TS 48.058 [11]); not
applicable Broadcasting the ETWS Primary Notification message upon receipt of
the WRITE-REPLACE message including the Paging-ETWS-Indicator. The ETWS
Primary Notification message is broadcasted according to the Warning Period
parameter. Sending ETWS messages to mobile terminals upon receiving CBS
transmission request from CBC including the Paging-ETWS-Indicator. Emergency
indication can be included in the paging messages, based on the warning type
information conveyed from CBC.
* * *
To work efficiently on the interfaces, the BSC/RNC should forward CB related
messages to the CBC using cell lists as far as applicable.
# 7 BTS Functionality
Only GSM [The BTS is responsible for conveying CBS information received via
SMS BROADCAST REQUEST or SMS BROADCAST COMMAND messages over the radio path to
the MS.
\- optionally generating CBCH Load Indication messages, indicating an
underflow or overflow situation on the CBCH (see 3GPP TS 48.058 [11]).
# 8 MS/UE Functionality
Only GSM [The MS is responsible for recombination of the blocks received via
the radio path to reconstitute the CBS message.]
The precise method of display of CBS messages is outside the scope of GSM
Specifications, however it is assumed that an MS/UE will:
+----------------------------------+----------------------------------+ | MS | UE | +----------------------------------+----------------------------------+ | discard sequences transferred | Discard corrupt CBS messages | | via the radio path (see | received on the radio interface | | 3GPP TS 44.012 [7]) which do | | | not consist of consecutive | | | blocks; | | +----------------------------------+----------------------------------+ | have the ability to discard CBS | | | information which is not in a | | | suitable data coding scheme; | | +----------------------------------+----------------------------------+ | Have the ability to discard a | | | CBS message which has a message | | | identifier indicating that it is | | | of subject matter which is not | | | of interest to the MS; | | +----------------------------------+----------------------------------+ | Have the ability to ignore | | | repeat primary warning | | | notifications and repeat | | | broadcasts of CBS messages | | | already received (message has | | | not changed since it was last | | | broadcast e.g. sequence number | | | has not changed within the | | | message\'s indicated | | | geographical area), and also if | | | the MS/UE changes its radio | | | access (e.g. from UTRAN to | | | GERAN) and receives the same | | | information; | | | | | | With regard to duplication | | | detection, primary warning | | | notifications and CBS messages | | | are treated separately, even if | | | the duplication detection is | | | based on the same parameters | | | (e.g. the combination of message | | | identifier and sequence number) | | +----------------------------------+----------------------------------+ | have the ability to transfer a | | | CBS message to an external | | | device, when supported ; | | +----------------------------------+----------------------------------+ | optionally enter CBS DRX mode | Enter CBS DRX mode based upon | | based upon received Schedule | received Schedule Messages (see | | Messages (see 3GPP TS 44.012 | 3GPP TS 25.324 [19]) | | [7]); | | +----------------------------------+----------------------------------+ | optionally skip reception of the | not applicable | | remaining block(s) of a CBS | | | message which do(es) not contain | | | cell broadcast information (see | | | 3GPP TS 44.012 [7]); | | +----------------------------------+----------------------------------+ | Optionally read the extended | Not applicable for UMTS. | | channel | | +----------------------------------+----------------------------------+ | enable the user to | | | activate/deactivate CBS through | | | MMI | | +----------------------------------+----------------------------------+ | Enable the user to maintain a | | | \"search list\" and receive CBS | | | messages with a Message | | | Identifier in the list while | | | discarding CBS messages with a | | | Message Identifier not in the | | | list | | +----------------------------------+----------------------------------+ | allow the user to enter the | | | Message Identifier via MMI only | | | for the 1 000 lowest codes | | +----------------------------------+----------------------------------+ | be capable of receiving CBS | | | messages consisting of up to 15 | | | pages | | +----------------------------------+----------------------------------+ | When emergency indication is | | | included in the received paging | | | and/or CBS message, behave as | | | specified in | | | 3GPP TS 22.268 [28]; | | | | | | If the emergency indication | | | includes the value for "test", | | | mobile terminals which are not | | | used for testing purpose | | | silently discard the paging | | | message and do not receive the | | | corresponding CBS message. | | +----------------------------------+----------------------------------+
# 9 Protocols and Protocol Architecture
## 9.1 Requirements on Core Network and Radio Access Network
### 9.1.1 GSM Radio Access Network
Commands interpreted by the BSC will result in a sequence of 4 SMS BROADCAST
REQUEST messages or 1 SMS BROADCAST COMMAND message being sent to a BTS, which
in turn result in a sequence of 4 blocks each 22 octets long being transferred
via the BTS-MS interface (see 3GPP TS 44.012 [7]).
With the SMS BROADCAST REQUEST mode of operation, the 88 octet fixed length
CBS page which is specified in subclause 9.3 is split into four 22 octet
blocks which are carried in SMS BROADCAST REQUEST messages as follows:
octets 1‑22 are transferred in the 1^st^ SMS BROADCAST REQUEST
with a sequence number (see 3GPP TS 44.012 [7]) indicating first block;
octets 23‑44 are transferred in the 2^nd^ SMS BROADCAST REQUEST
with a sequence number (see 3GPP TS 44.012 [7]) indicating second block;
octets 45‑66 are transferred in the 3^rd^ SMS BROADCAST REQUEST
with a sequence number (see 3GPP TS 44.012 [7]) indicating third block;
octets 67‑88 are transferred in the 4^th^ SMS BROADCAST REQUEST
with a sequence number (see 3GPP TS 44.012 [7]) indicating fourth block.
Figure 3 illustrates the protocol architecture and the scope of the various
GSM Specifications for the SMS BROADCAST REQUEST mode of operation.
Figure 3
With the SMS BROADCAST COMMAND mode of operation, the BSC sends to the BTS in
one single message the 88 octet fixed length CBS page. The BTS then splits the
page into four 22 octet blocks, adds the sequence number (see 3GPP TS 44.012
[7]) and transmits the four resulting blocks on the air.
Figure 4 illustrates the protocol architecture and the scope of the various
GSM Specifications for the SMS BROADCAST COMMAND mode of operation.
Figure 4
### 9.1.2 UMTS Radio Access Network
Commands interpreted by the RNC will result in one SMS BROADCAST COMMAND sent
to the UE. The CBS messages are completely transparent to the Node B, i.e. no
manipulation of the data like e.g. fragmentation is done at the Node B.
Figure 4a
### 9.1.3 Warning Message Delivery
#### 9.1.3.1 General
In GSM and UMTS, the cell broadcast service can be used to transfer CBS
messages related to public warning. This requires reception of CBS messages to
be permanently activated in the mobile terminal.
Warning message delivery is similar to cell broadcast service. It permits a
number of unacknowledged warning messages to be broadcast to MS/UEs within a
particular area. Reception of warning messages is enabled as defined later on
in this specification.
In GSM, an ETWS capable MS uses the procedure as outlined in subclause
9.1.3.2. See 3GPP TS 44.018 [26] and 3GPP TS 44.060 [27] for details on the
radio interface.
In UMTS, an ETWS capable UE uses the procedure as outlined in subclause
9.1.3.3. See 3GPP TS 25.331 [16] for details on the radio interface.
In E-UTRAN, an ETWS capable UE or a CMAS capable UE uses the procedures as
outlined in subclause 9.1.3.4. See 3GPP TS 36.331 [36] for details on the
radio interface.
#### 9.1.3.2 Warning Message Delivery Procedure in GSM
When a warning message is sent in GERAN, the following message flow applies.
The warning message request from the CBE will trigger a broadcast of an ETWS
emergency message (containing the ETWS Primary Notification) and/or a CBS
message (constituting a Secondary Notification) on the radio interface. The
ETWS emergency message is conveyed by the paging message which can invoke
mobile terminals to start receiving CBS messages without MMI. Mobile stations
invoked to start receiving CBS messages this way may stop receiving CBS
messages (without MMI) after a predefined period of time.
Figure 9.1.3.2-1: Warning message delivery procedure in GERAN
1\. Network registration and security procedures are performed.
NOTE 1: This step is performed each time an MS is attached to a NW (e.g. after
each power-on).
2\. CBE (e.g. Information Source such as PSAP or Regulator) sends emergency
information (\"warning type\", \"warning message\", \"impacted area\", and
\"time period\") to the CBC. The CBC shall authenticate this request. The
\"warning type\" takes one of the following values: earthquake, tsunami,
earthquake and tsunami, test, or other.
3\. Using the \"impacted area information\", the CBC identifies which BSCs
need to be contacted and constructs the \"Cell list\" for the cells in which
the information is to be broadcast.
The CBC shall send a WRITE-REPLACE message to all the identified BSCs. If the
emergency information received from the CBE contains warning information to be
sent both in an ETWS emergency message and in a CBS message, then the CBC need
to send this information in separate WRITE-REPLACE messages to the identified
BSCs accordingly:
\- When containing an ETWS emergency message the WRITE-REPLACE message
includes the \"Paging ETWS Indicator\" to differentiate it from a normal CBS
message, as well as (among other parameters) the \"Cell list\", \"warning
type\" (which constitutes a part of the ETWS Primary Notification message, see
subclause 9.4.1.3), and the \"warning period\" parameter.
\- When containing a CBS message the WRITE-REPLACE message includes the
\"Channel Indicator\" to differentiate it from an ETWS emergency message, as
well as (among other parameters) the \"Cell list\", \"Repetition Period\",
\"No of Broadcasts Requested\" and the \"CBS Message Information\"
parameter(s).
The CBC shall not include \"digital signature\" or \"timestamp\" information.
NOTE 2: Due to requirements in earlier versions of this document, it is
possible for \"digital signature\" and \"timestamp\" information (included in
the \"Warning Security Information\" parameter) to be transmitted within the
WRITE-REPLACE message.
4\. The BSCs use the \"Cell list\" information to identify in which cells the
warning message needs to be broadcasted.
a) When the WRITE-REPLACE message contains an ETWS emergency message, the
BSC/BTS:
1) shall include the ETWS emergency message within the paging message and
start sending the paging messages in all paging groups for the time duration
requested by the CBC in the \"warning period\" parameter. The paging message
contains the \"ETWS indicator\", based on the \"Paging ETWS Indicator\"
received in the WRITE-REPLACE message, and the ETWS Primary Notification
message as defined in subclause 9.4.1.3. When the \"warning type\" in the ETWS
Primary Notification message is set to \'other\', all of the warning
information is included in the broadcasted CBS message.
2) may send the ETWS Primary Notification message in other messages
(Application Information, see 3GPP TS 44.018 [26], and Packet Application
Information, see 3GPP TS 44.060 [27]) in order to reach mobiles in connected
mode.
b) When the WRITE-REPLACE message contains a CBS message the BSC/BTS shall
start to broadcast the CBS message on the Cell Broadcast channel according to
the \"Repetition Period\" and \"No of Broadcasts Requested\" requested by the
CBC.
5\. Upon reception of the paging message containing the ETWS Primary
Notification message, the ETWS capable MS alerts the user immediately as
indicated by the \"warning type\" value, and starts reading the Cell Broadcast
channel in order to acquire a possible broadcasted CBS message containing the
Secondary Notification message.
Upon reception of the CBS message containing the Secondary Notification
message, the ETWS capable MS immediately indicates the contents of the
Secondary Notification message to the user.
NOTE 3: If the MS receives the same ETWS Primary Notification message more
than once it silently discards the last received Primary Notification message.
NOTE 4: When the \"warning type\" is set to \'test\', the MS silently discards
the ETWS Primary Notification message. The MS does not start reading the Cell
Broadcast channel in this case. However, the MS specially designed for testing
purposes can perform user alerting and proceed to the reception of the
broadcasted CBS message as described above.
NOTE 5: If the MS did not succeed in authentication of the core network of the
cell it is camped on, the MS does not try to acquire the broadcasted CBS
message described above.
The MS shall consider a message duplicated if the combination of \"message
identifier\" and \"serial number\" matches that of the previous message
received from the same PLMN. The MS shall ignore messages detected as
duplicated. Duplicate message detection shall be performed independently for
ETWS Primary Notifications and warning messages broadcasted as CBS messages
(Secondary Notifications).
The MS shall ignore the values of \"digital signature\" and \"timestamp\" if
received in the \"Warning Security Information\" parameter.
NOTE 6: Due to requirements in earlier versions of this document, it is
possible for \"digital signature\" and \"timestamp\" information (included in
the \"Warning Security Information\" parameter) to be transmitted within the
WRITE-REPLACE message.
6\. The BSC sends a WRITE-REPLACE COMPLETE message to the CBC in response to
the WRITE-REPLACE message.
7\. CBC sends acknowledgement message to CBE.
#### 9.1.3.3 Warning Message Delivery Procedure in UMTS
When a warning message is sent in UTRAN, the following message flow applies.
In this case, the paging message with a new emergency indication can invoke
mobile terminals to start receiving CBS messages without MMI. Mobile stations
invoked to start receiving CBS messages this way may stop receiving CBS
messages (without MMI) after a period of time, which should not be less than
30 minutes in case DRX-Level-2 is used, and 2 minutes in case DRX-Level-1 is
used.
Figure 9.1.3.3-1: Warning message delivery procedure in UTRAN
1\. Network registration and security (e.g. mutual authentication) procedures
are performed. The UE stores a flag that indicates whether or not it has
authenticated the network.
NOTE 1: This step is performed each time a UE is attached to a network (e.g.
after each power-on).
2\. CBE (e.g. Information Source such as PSAP or Regulator) sends emergency
information (\"warning type\", \"warning message\", \"impacted area\", and
\"time period\") to the CBC. The CBC shall authenticate this request. The
\"warning type\" takes one of the following values: earthquake, tsunami,
earthquake and tsunami, test, or other.
3\. Using the \"impacted area information\", the CBC identifies which RNCs
need to be contacted and constructs the \"Service Area ID list\" for the cells
in which the information is to be broadcast.
The CBC shall send a WRITE-REPLACE message to all the identified RNCs. The
message shall include an \"emergency indication\" to differentiate it from
normal Cell Broadcast information, as well as the \"Service Area ID list\",
\"warning type\", \"warning message\".
The CBC shall not include \"digital signature\" or \"timestamp\" information.
NOTE 2: Due to requirements in earlier versions of this document, it is
possible for \"digital signature\" and \"timestamp\" information to be
transmitted within \"warning message\".
4\. The RNCs use the \"Service Area ID list\" information to identify which
NodeBs they need to reach, and then, they relay information to them using the
appropriate Iub interface message.
5\. The NodeB receives the Iub message containing the emergency indication. As
parallel actions, the RNC/NodeB:
a) shall start to broadcast the \"warning message\". This is broadcast by
using a Cell Broadcast channel and modified System Information messages. This
broadcast information is repeated continuously by the NodeB for the \"time
period\" requested by the CBE.
b) shall use paging messages in every paging group to alert idle mode mobiles
to receive the broadcast warning message. Typically these paging messages are
repeated in all paging groups for several DRX periods. The paging message
contains the \"ETWS indication\" based on the \"warning type\" information.
When the \"warning type\" is set to \'other\', all of the warning information
is included in the broadcast \"warning message\".
c) may send the \"ETWS indication\" in other messages (System Information
Change Indication or ETWS Primary Notification With Security) in order to
reach mobiles in connected mode. Inclusion of \"ETWS indication\" is the same
as that of the paging message mentioned above.
6\. The UE alerts the user immediately, using \"warning type\" value upon the
reception of the \"ETWS indication\", if the UE has been configured to receive
ETWS warnings and the UE has authenticated the core network of the NodeB it is
camped on.
NOTE 3: If the UE received the \"ETWS Indication\" more than once it will
silently discard the optional primary notification.
NOTE 4: When the \"warning type\" is \'test\', the UE silently discards the
\"ETWS indication\" and does not perform the reception of the broadcast
message described below. However, the UE specially designed for testing
purposes can perform user alerting described above and proceed to the
reception of the broadcast message described below
NOTE 5: If the UE has not authenticated the core network of the NodeB it is
camped on, the UE does not perform the reception of the broadcast message
described below.
Upon the reception of the \"ETWS Indication\", the UE activates the reception
of the broadcast messages containing the \"warning message\" as the secondary
notification. The UE indicates the contents of the \"warning message\" to the
user.
The UE shall consider a message duplicated if the combination of \"message
identifier\" and \"serial number\" matches that of the previous message
received from the same PLMN. The UE shall ignore messages detected as
duplicated. Duplicate message detection shall be performed independently for
primary and secondary notifications.
The UE shall ignore the values of \"digital signature\" and \"timestamp\" if
received.
NOTE 6: The \"digital signature\" and \"timestamp\" can be received due to
requirements in earlier versions of this document.
7\. The RNC node sends a BMC REPORT-SUCCESS to the CBC in response to Write-
Replace.
8\. CBC sends acknowledgement message to CBE.
#### 9.1.3.4 Warning Message Delivery Procedure in E-UTRAN
##### 9.1.3.4.1 General
The maximum size of the warning message for E-UTRAN is different from that for
UTRAN/GERAN.
When S1-flex is used, the eNodeB may receive duplicated warning messages.
Duplicated messages can be detected by checking the message identifier and
serial number fields and they shall not be transmitted on the radio interface.
##### 9.1.3.4.2 Warning Message Delivery Procedure
The warning message to be broadcast is delivered via MMEs to multiple eNodeBs.
The eNodeB(s) are responsible for scheduling the broadcast of the new message
and the repetitions in each cell.
The overall warning message delivery procedure is presented in figure
9.1.3.4.2-1:
Figure 9.1.3.4.2-1: Warning message delivery procedure in E-UTRAN
0\. Network registration and security (e.g. mutual authentication) procedures
are performed. The UE stores a flag that indicates whether or not it has
authenticated the network.
NOTE 1: This step is performed each time a UE is attached to a network (e.g.
after each power on).
1\. CBE (e.g. Information Source such as PSAP or Regulator) sends emergency
information (e.g. \"warning type\", \"warning message\", \"impacted area\",
\"time period\") to the CBC. The CBC shall authenticate this request.
2\. Using the \"impacted area\" information, the CBC identifies which MMEs
need to be contacted and determines the information to be place into the
Warning Area Information Element. The CBC sends a Write-Replace Warning
Request message containing the warning message to be broadcast and the
delivery attributes (Message identifier, Serial Number, Tracking Area ID list,
Warning Area, OMC ID, CWM Indicator) to MMEs.
The warning messages use the coding scheme for CBS data specified in 3GPP TS
23.038 [3].
The Tracking Area ID list is only used by the MME. The MME uses it for
selecting which eNodeBs to forward the Write-Replace Warning Request message
to.
The Warning Area shall be a list of Cell IDs and/or a list of TAIs and/or one
or more Emergency Area IDs. The Warning Area is only used by the eNodeB. The
eNodeB is configured with the TAI(s) and Cell ID(s) it serves and the
Emergency Area ID(s) that it belongs to. The eNodeB checks for any match of
the contents of the Warning Area with these IDs to identify the cells where to
distribute the warning message. The Warning Area is an optional information
element. If the Warning Area is absent, it shall be interpreted as \"all cells
on the eNodeB\". The number of cell IDs will be limited by the message size on
SBc and S1-MME. An Emergency Area ID is unique within the PLMN.
The message may include an OMC ID. If present, it indicates the OMC to which
the Trace record generated in step 8 is destined. Co-location of that OMC with
the CBC is an operator option.
CBC shall set the Concurrent Warning Message (CWM) indicator in all Write-
Replace Warning Request messages, if the PLMN supports concurrent warning
message broadcasts.
The CBC shall not include \"digital signature\" or \"timestamp\" information.
NOTE 2: Due to requirements in earlier versions of the specification, it is
possible that \"digital signature\" and \"timestamp\" information are
transmitted within the \"warning message\".
3\. The MME sends a Write-Replace Warning Confirm message that indicates to
the CBC that the MME has started to distribute the warning message to eNodeBs.
If this message is not received by the CBC within an appropriate time period,
the CBC can attempt to deliver the warning message via another MME in the same
pool area.
4\. Upon reception of the Write-Replace Confirm messages from the MMEs, the
CBC may confirm to the CBE that it has started to distribute the warning
message.
5\. The MME forwards Write-Replace Warning Message Request to eNodeBs. The MME
shall use the Tracking Area ID list to determine the eNodeBs in the delivery
area. If the Tracking Area ID list is empty the message is forwarded to all
eNodeBs that are connected to the MME.
6\. When S1-flex is used the eNodeB may receive same message from multiple
MMEs. The eNodeB detects duplicate messages by checking the message identifier
and serial number fields within the warning message. If any redundant messages
are detected only the first one received will be broadcasted by the cells. The
eNodeB shall use the Warning Area information to determine the cell(s) in
which the message is to be broadcast. The eNodeBs return a Distribute Warning
Message Response to the MME, even if it was a duplicate.
If there is a warning broadcast message already ongoing and the CWM Indicator
is included in the Write-Replace Warning Message Request, the eNodeB does not
stop existing broadcast message but start broadcasting the new message
concurrently. Otherwise the eNodeB shall immediately replace the existing
broadcast message with the newer one.
NOTE 3: If concurrent warning messages are not supported, this requires the
CBE/CBC to take care that \'lower\' priority warnings are not sent while a
higher priority warning is still being sent.
The eNodeB broadcasts the message frequently according to the attributes set
by the CBC that originated the warning message distribution.
7\. If the UE has been configured to receive warning messages and the UE has
authenticated the core network of the eNodeB it is camped on, then the UE
proceeds as follows:
The UE can use \"warning type\" values, \'earthquake\', \'tsunami\' or
\'earthquake and tsunami\', immediately to alert the user. When \"warning
type\" is \'test\', the UE silently discards the primary notification, but the
UE specially designed for testing purposes may proceed with the following
procedures.
The UE activates reception of the broadcast messages containing the \"warning
message\".
The UE indicates the contents of the \"warning message\" to the user
UE shall consider a message duplicated if the combination of \"message
identifier\" and \"serial number\" matches with those of the previous message
that was received from the same PLMN. The UE shall ignore the message detected
as a duplicated.
For ETWS, the UE shall perform duplicate message detection independently for
primary and secondary notifications.
8\. From the Write-Replace Warning Response messages returned by eNodeBs the
MME determines the success or failure of the delivery and creates a trace
record. Any OMC ID received in step 2 is written to the trace record to permit
the O&M system to deliver them to the desired destination.
##### 9.1.3.4.3 Warning Message Cancel Procedure
The cancel warning message delivery procedure takes place when CBE requests to
stop the on-going broadcast of warning messages.
> Figure 9.1.3.4.3-1: Warning message cancel procedure in E-UTRAN
1\. CBE initiates procedure by sending Stop Emergency Broadcast Request (e.g.
\"Message Identifier and Serial Number\"), to the CBC. The CBC shall
authenticate this request.
2\. The CBC identifies which MMEs need to be contacted and determines the
information to be place into the Warning Area Information Element. The CBC
sends a Stop Warning Request message (Message Identifier, Serial Number,
Tracking Area ID list, Warning Area, OMC ID) to MMEs.
The message may include an OMC ID. If present, it indicates the OMC to which
the Trace record generated in step 7 is destined. Co-location of that OMC with
the CBC is an operator option.
3\. The MME sends a Stop Warning Confirm message that indicates to the CBC
that the MME has started to distribute the Kill Request message to eNodeBs.
If this message is not received by the CBC within an appropriate time period,
the CBC can attempt to send Stop Warning Request via another MME in the same
pool area.
4\. Upon reception of the Stop Warning Confirm messages from the MMEs, the CBC
may confirm to the CBE that it has initiated the warning message cancel
procedure.
5\. The MME forwards the request from the CBC by Kill Request to eNodeBs. The
MME shall use the Tracking Area ID list to determine the eNodeBs that may have
warning message broadcast ongoing. In case the Tracking Area ID list is empty
the Kill Request is forwarded to all eNodeBs that are connected to the MME.
6\. The eNodeB shall stop broadcasting the warning message identified by the
Message Identifier and Serial Number in the areas identified by Warning Area
IDs. If the Warning Area is absent, it shall be interpreted as \"all cells on
the eNodeB\").
When S1-Flex is used the eNodeB may receive same Kill Request from multiple
MMEs, if any redundant Kill Requests are detected only the response to the
first MME shall contain statistics related to the cancelled broadcast.
7\. From the Stop Kill messages returned by eNodeBs the MME creates a trace
record (e.g. number of times a particular message has been broadcasted in a
given warning area) related to the cancelled message. Any OMC ID received in
step 2 is written to the trace record to permit the O&M system to deliver them
to the desired destination.
### 9.1.4 UMTS Protocol Overview
Figure 5
### 9.1.5 E-UTRAN Protocol Overview
**Legend:**
\- SBc Application Protocol (SBc-AP): Application Layer Protocol between CBC
and MME. This protocol supports transfer of warning messages.
\- S1 Application Protocol (S1-AP): Application Layer Protocol between the
eNodeB and the MME.
\- SCTP for the control plane (SCTP): This protocol guarantees delivery of
signalling messages between MME and eNodeB (S1). SCTP is defined in IETF RFC
4960 [33].
Figure 9.1.5-1: CBC - eNodeB
## 9.2 Requirements on the CBC-interfaces CBC-BSC and CBC‑RNC
The requirements are described by primitives. The term primitive is used to
indicate \"an abstract, implementation independent interaction between a
service user and a service provider\" (see ITU-T Recommendation X.210). For
the CBC-BSC/RNC interface, the service provider would be the protocol
interconnecting CBC and BSC/RNC. A Primitive may therefore be viewed as an
abstract, implementation independent request/indication or response/confirm
interaction between the service user (CBC or BSC/RNC) and the service provider
(protocol). A set of primitives for use between the CBC and BSC/RNC is
specified appropriate to the functionality assigned to the CBC and BSC/RNC in
clauses 5 and 6. In order to allow future extensions to the primitives, where
possible a primitive shall not be rejected because a parameter is not
recognised; the recipient shall ignore the parameter in question and process
the remainder of the primitive\'s parameters as usual.
The following table gives an overview over the existing primitives:
* * *
Name Originator Type Reference WRITE-REPLACE CBC Request/Indication 9.2.2 KILL
CBC Request/Indication 9.2.3 REPORT BSC/RNC Response/Confirm 9.2.4 STATUS-
LOAD-QUERY CBC Request/Indication 9.2.5 STATUS-LOAD-QUERY BSC/RNC
Response/Confirm 9.2.6 STATUS-MESSAGE-QUERY CBC Request/Indication 9.2.7
STATUS-MESSAGE-QUERY BSC/RNC Response/Confirm 9.2.8 REJECT BSC/RNC
Response/Confirm 9.2.9 RESTART-INDICATION BSC/RNC Request/Indication 9.2.10
RESET CBC Request/Indication 9.2.11 FAILURE-INDICATION BSC/RNC
Request/Indication 9.2.12 SET-DRX CBC Request/Indication 9.2.13 SET-DRX-REPORT
BSC Response/Confirm 9.2.14 CAPACITY-INDICATION RNC Request/Indication 9.2.15
* * *
In GSM the CBC is integrated into the Core Network. The protocol between the
CBC and BSC is defined in 3GPP TS 48.049 [30].
In UMTS the CBC is integrated into the Core Network. The protocol between the
CBC and RNC is defined in 3GPP TS 25.419 [29].
NOTE: In the following definitions, M indicates \"mandatory parameter\", O
indicates \"optional parameter\" and C indicates \"conditional parameter\".
### 9.2.1 Identification of a CBS message
In GSM within a CBC-BSC interface, a CBS message is uniquely identified by the
quartet (Message Identifier, Serial Number, Cell Identifier, Channel
Indicator).
In UMTS within the CBC-RNC interface, a CBS message is uniquely identified by
the triplet (Message Identifier, Serial Number, Cell Identifier).
This means that even when two CBS messages have the same semantic containts
(for example the same weather forecast) but in different languages or coding
schemes, they are considered as different and must therefore be identified by
a different quartet.
The Serial Number (Old-Serial-Number or New-Serial-Number) is managed
cyclically and therefore this does not prevent the re-use of the same quartet
for a different CBS message when the serial number have been incremented a
sufficient number of times. How to manage the ambiguity is described
subsequently.
This unique identification of a CBS message across the CBC-BSC interface is
used in all the primitives defined hereafter. This means that the
quartet/triplet will be implicitly or explicitly present in every interface
primitive which applies to a given CBS message.
This unique quartet/triplet will be referred in the rest of the document as
the \"message reference\".
### 9.2.2 WRITE-REPLACE Request/Indication
* * *
PARAMETER REFERENCE PRESENCE (UMTS/GSM) Message-Identifier 9.3.1 M/M Old-
Serial-Number 9.3.2 O/O New-Serial-Number 9.3.3 M/M Cell-List 9.3.5.1 M/M GSM
only [Channel Indicator 9.3.6 O] (note 1) Category 9.3.7 O/C (note 2)
Repetition-Period 9.3.8 M/C (note 2) No-of-Broadcasts-Requested 9.3.9 M/C
(note 2) Number-of-Pages 9.3.4 M/C (note 2) Data Coding Scheme 9.3.18 M/C
(note 2) CBS-Message-Information-Page 1 9.3.19 M/C (note 2) CBS-Message-
Information-Length 1 9.3.20 M/C (note 2) CBS-Message-Information-Page 2 9.3.19
O/O CBS-Message-Information-Length 2 9.3.20 O/O : : CBS-Message-Information-
Page n 9.3.19 O/O CBS-Message-Information-Length n 9.3.20 O/O Paging-ETWS-
Indicator 9.3.23 O/O (note 1) Warning-Type 9.3.24 O/C (note 3) Warning-
Security-Information 9.3.25 O/C (note 3) GSM only [Warning Period 9.3.26 C]
(note 3) NOTE 1: Only one of these two optional parameters may be
simultaneously present in the primitive. The _Channel Indicator_ parameter is
included if the primitive contains a CBS message. The _Paging-ETWS-Indicator_
parameter is included if the primitive contains an ETWS emergency message.  
NOTE 2: In GSM this parameter is included if the _Channel Indicator_ parameter
is present in the primitive.  
NOTE 3: In GSM this parameter is included if the _Paging-ETWS-Indicator_
parameter is present in the primitive.
* * *
This primitive is sent by the CBC to the BSC/RNC. As this primitive can be
used either to broadcast a new CBS message or replace a CBS message already
broadcast, the CBC will use the presence and content of the Old‑Serial‑Number
and New-Serial-Number fields in this primitive to instruct the BSC/RNC as
follows:
\- Old-Serial-Number not present/New-Serial-Number present.
\- This is a write request which will be interpreted by the BSC/RNC as an
instruction to broadcast a new CBS message in all the cells of the Cell list.
\- GSM only [The CBS message will be broadcasted on the channel derived by the
Channel Indicator (see the clause on parameters that describes the implicit
value of the Channel Indicator when not present in the CBS message)].
> The following table identifies the BSC/RNC\'s behaviour:
+----------------------------------+----------------------------------+ | Success/Failure of write request | BSC/RNC behaviour | +----------------------------------+----------------------------------+ | Success | The BSC/RNC completes the | | | following parameters to be | | | returned in the Report PDU: | | | | | | - a \'0\' value is entered in | | | the number of broadcasts | | | completed list for the cell | | | | | | - no entry is made in the | | | failure list for the cell | +----------------------------------+----------------------------------+ | Failure | The BSC/RNC completes the | | | following parameters to be | | | returned in the Report PDU: | | | | | | - no entry is made in the | | | number of broadcasts | | | completed list for the cell | | | | | | - an entry is made in the | | | failure list for the new CBS | | | message identifying the | | | failure cause for the cell | +----------------------------------+----------------------------------+
\- The BSC/RNC will build as many message references as the number of cells in
the list. These message references will be used in particular in the
subsequent primitives.
\- When a message reference is already known by the BSC/RNC for certain cells
in the list (even if the Update field of the Serial-Number is different), the
primitive will be rejected for those cells with the cause \"message reference
already used\". The list of cells where the message reference is not valid
will be provided in the failure list of the REPORT primitive. For these cells
no entry will be made in the number of broadcasts completed parameter.
\- Old-Serial-Number present/New-Serial-Number present.
\- This is a replace request which will be interpreted by the BSC/RNC as a
kill request for the CBS message with the old serial number, followed by a
write request for the CBS message with the new serial number. The handling of
the new serial number in the write part of this request, is as described above
in the write request where no Old-Serial-Number is supplied. These two kill
and write requests are executed sequentially. If the kill request is
unsuccessful, the BSC/RNC does not proceed to execute the write request. The
kill request will stop broadcast of, and cause all information currently
associated with the combination of message identifier, old serial number, GSM
only [Channel Indicator] and the list of cells in the Cell list to be deleted
from the cells in the BSC/RNC (i.e. for all cells provided in the Cell-List
parameter). If the kill request is successful, the subsequent write request
information conveyed in the primitive replaces the killed CBS message. The
following table identifies the BSC/RNC\'s behaviour:
+---------------------------------+-----------------------------------+ | Success/Failure of kill request | BSC/RNC behaviour | +---------------------------------+-----------------------------------+ | Success | The BSC/RNC proceeds to execute | | | the write request: | | | | | | - Write successful: the BSC/RNC | | | completes the following | | | parameters to be returned in | | | the Report PDU: | | | | | | - An entry is made in the | | | > number of broadcasts | | | > completed list for the | | | > cell. | | | | | | - No entry is made in the | | | > failure list for the cell. | | | | | | - Write unsuccessful: the | | | BSC/RNC completes the | | | following parameters to be | | | returned in the Report PDU: | | | | | | - An entry is made in the | | | > number of broadcasts | | | > completed list for the | | | > cell. | | | | | | - An entry is made in the | | | > failure list for the new | | | > CBS message identifying the | | | > failure cause for the cell. | +---------------------------------+-----------------------------------+ | Failure | The BSC/RNC does not proceed to | | | execute the write request, and | | | completes the following | | | parameters to be returned in the | | | Report PDU: | | | | | | - no entry is made in the | | | number of completed | | | broadcasts list. | | | | | | - an entry is made for the old | | | CBS message in the failure | | | list identifying the failure | | | cause for the cell. | +---------------------------------+-----------------------------------+
All cells which should perform the broadcasting are mentioned in the Cell-List
parameter.
The broadcast of the referenced CBS message in the cells which are not
mentioned in the Cell-List remains unaffected.
If no category is present, the default category is interpreted by the BSC/RNC,
see the parameter clause.
This primitive is responded by a REPORT or REJECT primitive.
NOTE: GSM only [In the case of multipage CBS messages, the individual pages
are considered as independent by the BSC scheduling algorithm].
### 9.2.3 KILL Request/Indication
* * *
PARAMETER REFERENCE PRESENCE Message-Identifier 9.3.1 M Old-Serial-Number
9.3.2 M Cell-List 9.3.5.1 M GSM only [Channel Indicator 9.3.6 O]
* * *
This primitive is sent by the CBC to the BSC/RNC. The CBC will use this
primitive to kill the message indicated by the combination of message
identifier, serial number, GSM only [Channel Indicator] and the cells
indicated in the Cell-List of this KILL request, i.e. the primitive will halt
broadcast of the message in the indicated cells and remove any knowledge of
the message from the BSC/RNC for these cells. The broadcast of the referenced
message in the cells which are not mentioned in the Cell-List remains
unaffected. This primitive is responded with a REPORT or REJECT primitive.
### 9.2.4 REPORT Response/Confirm
* * *
PARAMETER REFERENCE PRESENCE Message-Identifier 9.3.1 M Serial-Number
9.3.2/9.3.3 M GSM only [Channel Indicator 9.3.6 O] No-of-Broadcasts-Completed-
List 9.3.10 O Failure-List 9.3.14 O
* * *
This primitive will be sent by the BSC/RNC to the CBC in response to WRITE-
REPLACE and KILL primitives. The Serial-Number field will contain the old
serial number if this primitive is sent in response to a KILL primitive, and
the new serial number if the primitive is sent in response to a WRITE-REPLACE
primitive.
The No-of-Broadcasts-Completed-List if present, may contain for each cell the
number of broadcasts of the (replaced or killed) CB message with the old
message reference sent to this particular cell for broadcast. The serial
number information element in the case of a WRITE-REPLACE does not refer to
the message for which the number of broadcasts completed information is
supplied. The Failure-List if present, may contain those cells which were
present in the related WRITE-REPLACE or KILL primitive and failed the
requested operation.
### 9.2.5 STATUS-LOAD-QUERY Request/Indication
* * *
PARAMETER REFERENCE PRESENCE Cell-List 9.3.5.1 M GSM only [Channel Indicator
9.3.6 O]
* * *
This primitive is sent by the CBC to the BSC/RNC in order to obtain the
current loading of the CBCH/UTRAN Radio Resource of particular cells
referenced in the Cell-List parameter. This primitive is responded by a
STATUS‑LOAD‑QUERY Response/Confirm or a REJECT primitive.
### 9.2.6 STATUS-LOAD-QUERY Response/Confirm
* * *
PARAMETER REFERENCE PRESENCE Radio-Resource-Loading-List 9.3.15 O Failure-List
9.3.14 O GSM only [Channel Indicator 9.3.6 O]
* * *
This primitive will be sent by the BSC/RNC in response to the STATUS-LOAD-
QUERY Request/Indication primitive.
The Radio-Resource-Loading-List, if present, may contain each cell which
successfully performed the requested operation and for each of these cells the
CBCH loading/ UTRAN Radio Resource loadingof this particular cell.
NOTE: For cells with DRX the load caused by the schedule messages will be
included in the load calculation.
The Radio-ResourceLoading-List will not be present if all cells indicated in
the related STATUS-LOAD-QUERY Request/Indication failed the requested
operation.
The Failure-List, if present, may contain all cells for which the requested
operation failed (e.g. because the cells CBCH is not available in a BTS). The
STATUS-LOAD-QUERY Response/Confirm will not contain the Failure-List parameter
if none of the cells in the Cell-List of the related STATUS-LOAD-QUERY Request
failed the requested operation.
### 9.2.7 STATUS-MESSAGE-QUERY Request/Indication
* * *
PARAMETER REFERENCE PRESENCE Message-Identifier 9.3.1 M Old-Serial-Number
9.3.2 M Cell-List 9.3.5.1 M GSM only [Channel Indicator 9.3.6 O]
* * *
This primitive is sent by the CBC to the BSC/RNC in order to obtain the
current status of a CB-message for the cells referenced in the Cell-List
parameter. This primitive is responded by the STATUS-MESSAGE-QUERY
Response/Confirm or by a REJECT Response/Confirm.
### 9.2.8 STATUS-MESSAGE-QUERY Response/Confirm
* * *
PARAMETER REFERENCE PRESENCE Message-Identifier 9.3.1 M Old-Serial-Number
9.3.2 M No-of-Broadcasts-Completed-List 9.3.10 O Failure-List 9.3.14 O GSM
only [Channel Indicator 9.3.6 O]
* * *
This primitive will be sent by the BSC/RNC to the CBC in response to a STATUS-
MESSAGE-QUERY Request/Indication primitive.
The No-of-Broadcasts-Completed-List, if present, may contain each cell which
successfully performed the requested operation and for each of these cells the
number of times this CB message has been sent to this particular cell for
broadcast (parameter Number-of-Broadcasts-Completed; this parameter is not
included for the cell if the old message reference is not known to the
BSC/RNC, and an entry is made in the failure list). The No-of-Broadcasts-
Completed-List will not be present if all cells indicated in the related
STATUS-MESSAGE-QUERY Request failed the requested operation.
The Failure-List may contain all cells for which the requested operation
failed (e.g. because the broadcast of the requested message was never
requested before or because the cells CBCH is not available). The
STATUS‑MESSAGE‑QUERY Response/Confirm will not contain the Failure-List
parameter if none of the cells in the Cell-List of the related STATUS-MESSAGE-
QUERY Request failed the requested operation.
### 9.2.9 REJECT Response/Confirm
* * *
PARAMETER REFERENCE PRESENCE Cause 9.3.16 M Diagnostic 9.3.17 O Message-
Identifier 9.3.1 O Serial Number 9.3.2 O
* * *
This primitive is sent by the BSC/RNC to the CBC in response to any primitive
which is not understood (e.g. invalid parameter or parameter value).
### 9.2.10 RESTART-INDICATION Request/Indication
* * *
PARAMETER REFERENCE PRESENCE Cell-List 9.3.5.2 M Recovery Indication 9.3.20 O
GSM only [Broadcast Message Type 9.3.27 O]
* * *
The RESTART-INDICATION Request is used by the BSC/RNC to indicate to the CBC a
CB related restart situation in one or more of its cells (e.g. when an
existing or a new cell becomes operational during normal BSC/RNC operation or
when the BSC/RNC initialises).
Any referenced cell are again in CB-operational state (have resumed CB
operation). The parameter Recovery Indication, if present, indicates whether
CB related data are lost for the cells referenced in the Cell-List and have to
be re-loaded. If the Recovery Indication parameter is absent, the CBC shall
interpret it as the Recovery Indication with the value data lost.
The CBC upon receiving a RESTART INDICATION indication, marks the cell as
operational again. It will usually generate WRITE-REPLACE requests for this
cell, according to the actual CB message loading at the moment of the restart.
Note that a RESTART INDICATION indication may be triggered from the CBC by a
RESET Request. This allows to recover from situations, where a PDU
occasionally may be lost.
### 9.2.11 RESET Request/Indication
* * *
PARAMETER REFERENCE PRESENCE Cell-List 9.3.5.1 M
* * *
The RESET Request is used by the CBC to force one or more cells of one BSC/RNC
into CB-idle state.
The RESET Request may also be used by the CBC to ask for the CB operational
state of cells earlier indicated to have failed (polling CB operational
state).
If a BSC/RNCreceives a RESET Indication, the indicated cells enter idle state
(same state as after \"power on\"). All CB related information concerning
earlier CB messages in a referenced cell is lost.
The BSC/RNC acknowledges the RESET Indication for each cell by an RESTART- or,
if not adequate, by a FAILURE‑INDICATION request.
Of course, several responses may be combined using a cell list in the RESTART
or FAILURE INDICATION.
### 9.2.12 FAILURE-INDICATION Request/Indication
* * *
PARAMETER REFERENCE PRESENCE Cell-List 9.3.5.2 M GSM only [Broadcast Message
Type 9.3.27 O]
* * *
The FAILURE-INDICATION Request is used by the BSC/RNC to indicate to the CBC a
CB related problem situation in one or more of its cells.
Any referenced cell enters CB-not-operational state. The status of the CBS
messages is undefined until the Restart‑Indication is sent. It remains in not-
operational state until a RESTART-INDICATION request (see subclause 9.1.10)
indicates normal CB operation (again).
The CBC upon receiving a FAILURE indication, marks this cell as failed. It
will generally not generate further WRITE‑REPLACE requests for this cell, up
to the point, when the CBC is informed by a RESTART indication, that the cell
has resumed CB operation.
The BSC/RNC refuses further WRITE-REPLACE requests from the CBC with the cause
\"cell‑broadcast‑not‑operational\" when any referenced cell is in the CB-not-
operational state.
NOTE: A Failure-Indication may be triggered by a RESET Request. This allows to
recover from situations, where a PDU occasionally may be lost.
### 9.2.13 SET-DRX Request/Indication
* * *
PARAMETER REFERENCE PRESENCE Cell-List 9.3.5.1 M Schedule-Period 9.3.12 O
Reserved-Slots 9.3.13 O GSM only [Channel Indicator 9.3.6 O]
* * *
This primitive is applicable in GSM only. In UMTS DRX is a mandatory feature
in the RNC and no activation/ deactivation function on CBS related radio
resources controlled by the CBC is necessary.
The SET-DRX Request is used by the CBC to set DRX specific parameters i.e. the
schedule period and the number of slots reserved for high priority CBS
messages, see 3GPP TS 44.012 [7]. At least one of the Schedule-Period or
Reserved-Slots parameters must be present in the primitive. If this primitive
is not supported, the BSC may use default values.
If a BSC receives a SET-DRX Indication, the new DRX parameters will be taken
into account starting from the next schedule period in each cell, see 3GPP TS
44.012 [7].
If a BSC receives a SET-DRX Indication, the new DRX parameters will be applied
for all cells that do not handle any broadcast message (null loading).
### 9.2.14 SET-DRX- REPORT Response/Confirm
* * *
PARAMETER REFERENCE PRESENCE Cell-List 9.3.5.2 O Failure-List 9.3.14 O GSM
only [Channel Indicator 9.3.6 O]
* * *
This primitive will be sent by the BSC to the CBC in response to a SET-DRX
Request/Indication primitive.
The Failure-List will contain those cells which were present in the Request
message and which failed the requested operation.
If the new schedule period parameters are not acceptable on a cell due to the
load of the cell, the cause \"bss‑capacity‑exceeded\" is used in the Failure-
list.
### 9.2.15 CAPACITY-INDICATION Request/Indication
* * *
PARAMETER REFERENCE PRESENCE Cell-List 9.3.5.2 O Available-Capacity 9.9.22 O
* * *
This primitive is applicable in UMTS only.
This primitive is used by the RNC to indicate a change in the available
broadcast capacity per cell to the CBC.
## 9.3 Parameters
### 9.3.1 Message-Identifier
This parameter identifies source/type of a CBS message and is passed
transparently from the CBC to the MS/UE. Its format is defined in subclause
9.4.2.2.
### 9.3.2 Old-Serial-Number
This parameter equates to the parameter - Serial Number sent between the
BSC/RNC and the MS/UE. Its format is defined in subclause 9.4.2.1.
This parameter enables a particular existing CBS message, from the source/type
indicated by the message identifier, to be identified.
### 9.3.3 New-Serial-Number
This parameter equates to the parameter - Serial Number sent between the
BSC/RNC and the MS/UE. Its format is defined in subclause 9.4.2.1.
This parameter enables CBS message change to be indicated since it is altered
every time the CBS message is changed. The serial number identifies a
particular CBS message, which may be several pages in length, from the source
indicated by the message identifier.
### 9.3.4 Number-of-Pages
This parameter enables the number of pages in the CBS message to be indicated.
### 9.3.5 Cell-List
The cell-list identifies a sequence of one or more cells to which the
primitives apply.
The following applies for GSM only:
The cells in the list are described in 3GPP TS 48.008 [13] and can be
identified by the CBC or BSC in LAC and CI format or CI format only.
In addition (see 3GPP TS 48.008 [13]) it is possible for the CBC to refer to
all cells in a LAC or in a complete BSC. If supplied, the Cell-List parameter
must refer to at least one cell.
The following applies for UMTS only:
\- For CBS the cells are refered to as Service Areas. As described in 3GPP TS
25.401 [17] a Service Area Identifier (SAI) is used to uniquely identify an
area consisting of one or more cells belonging to the same Location Area. Such
an area is called a Service Area and can be used for indicating the location
of a UE to the CN.
\- The Service Area Code (SAC) together with the PLMN-Id and the LAC will
constitute the Service Area Identifier.
\- SAI = PLMN-Id + LAC + SAC.
\- The SAC is defined by the operator, and set in the RNC via O&M.
NOTE: For CBS, a Service Area shall consist of only one Cell. The mapping of
SAI onto cell is controlled by the RNC and managed by an O&M function.Given
the above differences between cell identification in the two directions, a
cell list sent from the CBC to the BSC/RNC has a different structure compared
to a cell list sent from the BSC/RNC to the CBC. The different cell lists are
described in subclauses 9.3.5.1 and 9.3.5.2.
#### 9.3.5.1 Cell-List sent from CBC to BSC/RNC
The CBC to BSC/RNC Cell-List contains a length parameter identifying the
number of cell-identifications present in the list, a Cell-Id-Discriminator,
which is common for all cell-identifications in the list, and a sequence of
cell‑identifications.
Description of list elements:
* * *
PARAMETER PRESENCE Length M Cell-Id-Discriminator M Cell-Identification M
* * *
The Cell-Id-Discriminator has one of the following formats:
* * *
Format Description LAC and CI in GSM; 3GPP TS 48.008 [13] CI only; 3GPP TS
48.008 [13] all cells in the BSC/RNC belonging to a certain Location Area;
Example in 3GPP TR 03.49 [6] all cells in the BSC/RNC; Example in 3GPP TR
03.49 [6] SAI in UMTS 3GPP TS 25.401 [17]
* * *
The Cell-identification is repeated for each cell included in the list. The
Cell-List must refer to at least one cell.
#### 9.3.5.2 Cell-List sent from BSC/RNC to CBC
The BSC/RNC to CBC Cell-List contains a sequence of cell-identifiers as
defined in subclause 9.3.11. The Cell-List must contain at least one cell-
identifier as defined in subclause 9.3.11.
### 9.3.6 Channel Indicator
The following applies for GSM only:
This parameter indicates the CB channel, which shall be used for broadcasting
the data:
\- basic channel;
\- extended channel (supporting such a channel by the network or MSs is
optional);
### 9.3.7 Category
This indicates the category of the CBS message:
\- High Priority: to be broadcast at the earliest opportunity.
\- Background: to be broadcast when no CBS messages of category \"High
Priority\" or \"Normal\" are broadcast. The repetition period defines the
minimum broadcast requirement.
\- Normal: to be broadcast according to the associated repetition period.
If the category is omitted, the default category implied is \"Normal\"
message.
### 9.3.8 Repetition-Period
This indicates the period of time after which broadcast of the CBS message
should be repeated. The minimum period with which a CBS message consisting of
one page may be broadcast over the air interface is a period of 1.883 s.
The value of \"Repetition-Period\" shall be in the range 1 to 1 024 where each
unit will represent the value of one minimum period.
In the event of a conflict where the BSS/RNS has more than one CBS message to
send at the same time, the BSC/RNC shall decide the order of such CBS messages
as an implementation matter.
NOTE: The time period 1.883 s approximately reflects one 8 x 51 multiframe
sequence of the GSM radio interface. It is also used as minimum repetition
rate in UMTS. The higher capacity of the RNS enables the CBC to send more than
one CBS message consisting of one page with the minimum repetition rate to a
Node B.
### 9.3.9 No-of-Broadcasts-Requested
This specifies the number of times the CBS message is to be broadcast.
The parameter may take any value up to 65535 (this maximum allows the CBS
message to be broadcast approximately every 1.883 s for more than 24 h). If
the parameter is set to 0 then the CBS message will be broadcast indefinitely
(i.e. until the BSC receives an appropriate Kill-Message Request/Indication
primitive).
### 9.3.10 No-of-Broadcasts-Completed-List
This parameter is a list indicating the number of times that the CBS message
(i.e. all pages of the CBS message) has been sent to each cell in the Cell-
List for broadcast over the air interface.
The cells in the list are described as per subclause 9.3.11.
Description of list elements:
* * *
PARAMETER PRESENCE Cell Identifier M No-of-Broadcasts-completed M No-of-
Broadcasts-Compl-Info O
* * *
The information above is repeated for the number of cells in the list.
To each cell in the list the information element No-of-Broadcasts-completed is
associated. This information element is related to the particular referenced
cell in the list and contains the number of times a CBS message (i.e. all
pages of a CBS message) has been sent to this cell for broadcast. The No-of-
Broadcasts-completed information element represents the number of full
broadcasts made of a CBS message, and that the CBS message is being (or had
been) broadcast.
The optional No-of-Broadcasts-Compl-Info information element may be supplied
to indicate to the CBC one of the following cases:
\- overflow;
the count of the number of full broadcasts made of a CBS message has
overflowed, and that the CBS message is being (or had been) broadcast. The
actual number of broadcasts completed is greater than the value indicated in
the No-of-Broadcasts-completed information element;
\- unknown;
indicates that there is no information regarding the number of broadcasts
completed in the BSC/RNC for the CBS message with the old serial number. The
value indicated in the No-of-Broadcasts-completed information element is
undefined in this case.
The No-of-Broadcasts-Completed-List must contain at least one cell.
### 9.3.11 Cell-Identifier
The cell-identifier consists of a cell-id-discriminator and cell-
identification pair.
Description of list elements:
* * *
PARAMETER PRESENCE Cell-Id-Discriminator M Cell-Identification M
* * *
The Cell-Id-Discriminator has one of the following formats:
* * *
Format Description LAC and CI in GSM 3GPP TS 48.008 [13] CI only 3GPP TS
48.008 [13] SAI in UMTS 3GPP TS 25.401 [17]
* * *
The BSC can use the \'LAC and CI\' format for a cell identifier in any
response to the CBC. The BSC may also use the \'CI only\' format for a cell
identifier when responding to a CBC primitive that had contained a cell with
\'CI only\' format for a cell identifier. The RNC uses the SAI format for a
cell identifier in any response to the CBC.
### 9.3.12 Schedule-Period
The following applies for GSM only:Indicates the DRX schedule period length,
see 3GPP TS 44.012 [7].
The following values should be coded:
\- no DRX;
\- length of the schedule period.
If a schedule period length greater than 40 is used, the schedule message
cannot be built entirely if more than 40 CBS messages have to be described in
the period. Therefore, schedule period length shall be reduced to 40.
### 9.3.13 Reserved-Slots
The following applies for GSM only:Indicates the number of slots marked as
\"free slots reading advised\" in the schedule message and considered as
reserved in a DRX schedule period for incoming high priority CBS messages, not
scheduled in the current schedule period, see 3GPP TS 44.012 [7].
The spacing of the reserved slots is implementation dependent.
Reserved slots shall receive a 40 value at maximum, taking into account the
constraint for schedule period length.
### 9.3.14 Failure-List
This identifies the list of cells for which the BSC/RNC could not complete the
request. The failure cause for each cell is indicated.
The cells in the list are described as per subclause 9.3.11.
Description of list elements:
* * *
PARAMETER PRESENCE Cell Identifier M Cause M Diagnostic O
* * *
The information above is repeated for the number of cells that failed.
To each cell in the list the information elements Cause and, as an
implementation option, Diagnostic are associated. These are related to the
particular referenced cell in the list.
The Failure-List must contain at least one cell.
### 9.3.15 Radio-Resource-Loading-List
A list of the predicted short term load of each cell in the list expressed as
a percentage. The calculation of this percentage is an implementation matter.
The load should reflect the number of used slots, and schedule messages and
reserved slots must be taken into account. The cells in the list are described
as per subclause 9.3.11.
Description of list elements:
* * *
PARAMETER PRESENCE Cell Identifier M Radio-Resource-Loading M
* * *
The information above is repeated for the number of cells in the list.
To each cell in the list the information element Radio-Resource-Loading is
associated. This information element is related to the particular referenced
cell in the list and contains the cells load.
Note that for cells with DRX the load caused by the schedule messages will be
included in the Radio-Resource load.
The Radio-Resource-Loading-List must contain at least one cell.
### 9.3.16 Cause
Indicates reason why the BSC/RNC was not able to interpret or execute the
received primitive. The causes are given in table 1.
Table 1
* * *
Cause Reason Parameter-not-recognized Sent when the recipient (CBC or BSC/RNC)
was unable to act upon the primitive received due to an unrecognized
parameter. A primitive should not be rejected only because a parameter is not
recognized as this would prevent extensions to the service parameter-value-
invalid Sent when a failure occurred due to the value of a parameter being
invalid, e.g. out of range, or in Write-Replace, the parameter \"no of pages\"
does not equal the number of pages received valid-CBS-message-not- identified
Sent when the BSC/RNC does not recognize the CBS message reference cell-
identity-not-valid Sent when the BSC/RNC does not recognize a cell Identity
unrecognized-primitive Sent when the BSC/RNC did not recognize the primitive
at all missing-mandatory-element Sent when a mandatory element is missing from
the primitive bss-capacity-exceeded Sent when a write-replace fails because
the BSC/RNC cannot meet the requested repetition period or when the set-drx
parameters cannot be applied because of the cell loading GSM only [cell-
memory-exceeded Sent when the local cell memory has been exceeded] bss-memory-
exceeded Sent when the BSS/RNS is unable to store a CBS message as the BSS/RNS
memory has been exceeded cell-broadcast-not-supported Sent when the CBCH/CBS
related Radio Resource is not configured for a cell cell-broadcast-not-
operational Sent when the CBCH/CBS related radio resource is not available
because of error conditions or due to maintenance activities incompatible-DRX-
parameter Sent when the DRX parameter(s) cannot be applied. GSM only
[Extended-channel-not-supported Sent when a write-replace fails because the
extended channel is not configured for a cell] message-reference already-used
Sent when the recipient (BSC/RNC) was unable to act upon the write_replace
received due to a previous write_replace received with the same
message_reference. unspecified-error Sent when none of the above cause values
apply
* * *
### 9.3.17 Diagnostic
Provides additional information associated with Cause parameter and may
contain parameter which could not be interpreted/executed.
### 9.3.18 Data Coding Scheme
This parameter identifies the alphabet or coding employed for the message
characters and message handling at the MS/UE and is passed transparently from
the CBC to the MS/UE. This parameter is defined in 3GPP TS 23.038 [3].
### 9.3.19 CBS-Message-Information-Page n
This parameter is of a fixed length of 82 octets and carries up to and
including 82 octets of user information. Where the user information is less
than 82 octets, the remaining octets must be filled with padding (see 3GPP TS
23.038 [3]).
The content of a CBS-Message-Information-Page is passed transparently from the
CBC to the MS/UE.
In GSM the CBS-Message-Information-Page n becomes the \'Content of Message\'
parameter at the MS.
In UMTS the CBS-Message-Information-Pages together with the associated CBS-
Message-Information-Length parameter is broadcasted as a single unit over the
radio inteface.
In the case where the user information is GSM 7 bit default alphabet encoded,
the appropriate padding characters and bit-fill are added to the end of the
user information to complete the CBC-Message-Information-Page (see 3GPP TS
23.038 [3]).
In the case where the user information is 8 bit encoded, the appropriate
padding octets are added to the end of the user information to complete the
CBC-Message-Information-Page (see 3GPP TS 23.038 [3]).
#### 9.3.19.1 Identification of a directory number within a CBS-Message-
Information-Page
For information relating to this feature see 3GPP TS 23.040 [4].
### 9.3.20 CBS-Message-Information-Length n
This parameter gives the number of octets of the CBS-Message-Information-Page
n containing user information. The remaining octets of the CBS-Message-
Information-Page n contain only padding information and are not included in
this parameter.
In the case where the user information is encoded using the GSM 7 bit default
alphabet and the last character terminates at an octet boundary, this
parameter indicates the number of octets of user information. In the case
where the last character does not terminate at an octet boundary, this
parameter indicates the number of octets up to the octet boundary immediately
following the last GSM 7 bit default alphabet character of user information.
In UMTS the CBS-Message-Information-Pages together with the associated CBS-
Message-Information-Length parameter is broadcasted as a single unit over the
radio inteface.
### 9.3.21 Recovery-Indication
Indicates whether the CBS related data was lost or is still available.
The following values should be coded:
\- Data-available;
\- Data-lost.
### 9.3.22 Available-Capacity
This parameter is applicable for UMTS only. It indicates the capacity on the
radio interface of a cell which is currrently available for CBS.
### 9.3.23 Paging-ETWS-Indicator
This parameter indicates that emergency information shall be sent over the
paging message.
In UMTS the parameter remotely activates the UE to receive CBS messages.
In GSM the parameter indicates that an ETWS emergency message is included in
the WRITE-REPLACE primitive.
### 9.3.24 Warning-Type
This parameter is set when ETWS is used. It has three fields in order to
contain warning type value, emergency user alert and popup indications.
The warning type value field indicates the following 5 warning types as its
values; earthquake, tsunami, earthquake and tsunami, test, and other. Also,
other warning types can be defined in the future if it is required.
The values for this parameter are expressed in 7-bit string. The following
table shows the values and their corresponding warning types.
* * *
Warning typeValue Warning type 0000000 Earthquake 0000001 Tsunami 0000010
Earthquake and Tsunami 0000011 Test 0000100 Other 0000101-1111111 Reserved for
future use
* * *
The fields for emergency user alert and popup indications are type binary.
They are used to command mobile terminals to activate emergency user alert and
message popup in order to alert the users upon the reception of ETWS primary
notification (e.g. paging message). The codings for the fields are shown
below:
* * *
Field Emergency User Alert Popup  
Value 0 1 0 1 Instruction to Terminal No instruction as to emergency alert.
Activate emergency user alert. No instruction as to popup. Activate popup on
the display.
* * *
NOTE: Emergency user alert includes alerting tone and other user alerting
means such as vibration, according to the UE\'s capability. The types of alert
(e.g. the kind of tone, vibration, etc) are implementation dependent and may
be subject to regulatory requirements.
The encoding of the Warning-Type parameter is as shown below. The warning type
value shall be mutually exclusive and binary encoded.
* * *
Octet 1 Octet 2  
7 6 5 4 3 2 1 0 7 6 5 4 3 2 1 0 Warning Type Value Emergency User Popup
Padding  
Alert
* * *
The values of this parameter are sent to the mobile terminals (e.g. over the
paging message which remotely activates the UE to receive CBS messages).
### 9.3.25 Warning-Security-Information
This parameter is only set when ETWS primary notification is sent with
security. This parameter is 50 bytes in length and contains 7 byte timestamp
and 43 byte digital signature.
+-------------------+-----------+---+---+---+---+---+---+---+ | 8 | 7 | 6 | 5 | 4 | 3 | 2 | 1 | | +-------------------+-----------+---+---+---+---+---+---+---+ | Year | octet 1 | | | | | | | | +-------------------+-----------+---+---+---+---+---+---+---+ | Month | octet 2 | | | | | | | | +-------------------+-----------+---+---+---+---+---+---+---+ | Day | octet 3 | | | | | | | | +-------------------+-----------+---+---+---+---+---+---+---+ | Hour | octet 4 | | | | | | | | +-------------------+-----------+---+---+---+---+---+---+---+ | Minute | octet 5 | | | | | | | | +-------------------+-----------+---+---+---+---+---+---+---+ | Second | octet 6 | | | | | | | | +-------------------+-----------+---+---+---+---+---+---+---+ | Time zone | octet 7 | | | | | | | | +-------------------+-----------+---+---+---+---+---+---+---+ | Digital Signature | octet 8 - | | | | | | | | | | | | | | | | | | | | octet 50 | | | | | | | | +-------------------+-----------+---+---+---+---+---+---+---+
Year (octet 1, bits 1-8): This field uses the same format as the Year field
used in the TP-Service-Centre-Time-Stamp, which is defined in 3GPP TS 23.040
[4].
Month (octet 2, bits 1-8): This field uses the same format as the Month field
used in the TP-Service-Centre-Time-Stamp, which is defined in 3GPP TS 23.040
[4].
Day (octet 3, bits 1-8): This field uses the same format as the Day field used
in the TP-Service-Centre-Time-Stamp, which is defined in 3GPP TS 23.040 [4].
Hour (octet 4, bits 1-8): This field uses the same format as the Hour field
used in the TP-Service-Centre-Time-Stamp, which is defined in 3GPP TS 23.040
[4].
Minute (octet 5, bits 1-8): This field uses the same format as the Minute
field used in the TP-Service-Centre-Time-Stamp, which is defined in 3GPP TS
23.040 [4].
Second (octet 6, bits 1-8): This field uses the same format as the Second
field used in the TP-Service-Centre-Time-Stamp, which is defined in 3GPP TS
23.040 [4].
Time Zone (octet 7, bits 1-8): This field uses the same format as the Time
Zone field used in the TP-Service-Centre-Time-Stamp, which is defined in 3GPP
TS 23.040 [4].
Digital Signature (octet 8 - 50, bits 1-8): This field contains the 43 byte
digital signature.
### 9.3.26 Warning Period
This parameter indicates the length of the period during which the ETWS
emergency message is to be broadcasted in the BSC. This parameter is
applicable for GSM only.
### 9.3.27 Broadcast Message Type
This parameter is applicable for GSM only.
It indicates if the primitive including this parameter is referring to:
\- CBS message broadcasting; or
\- ETWS emergency message broadcasting.
## 9.4 Message Format on the Radio Network -- MS/UE Interface
### 9.4.1 GSM
The CBS messages which are transmitted by the BTS for the MS include the CBS
Message (information for the user) and Schedule Message (schedule of CBS
messages).
The use and the formatting of the CBS messages, which contain information for
the MS user, is described in this clause.
The Schedule Message is broadcast to support CBS DRX mode for Mobile Stations.
The Schedule Message is helpful in minimizing battery usage for Cell Broadcast
in the Mobile Station, because it allows the MS to ignore transmissions of CBS
messages the customer is not interested in. The use and formatting of the
Schedule Message is described in 3GPP TS 44.012 [7].
The handling of the GSM only applicable ETWS Primary Notification messages
differ from what is stated in this clause and is instead described in
subclause 9.4.1.3.
#### 9.4.1.1 General Description
Each page of a CBS Message sent to the MS by the BTS is a fixed block of 88
octets as coded in 3GPP TS 24.012 [7]. This is sent on the channel allocated
as CBCH by 3GPP TS 45.002 [8]. The 88 octets of the CBS Message are formatted
as described in subclause 9.3.2.
#### 9.4.1.2 Message Parameter
* * *
Octet Number(s) Field 1‑2 Serial Number 3‑4 Message Identifier 5 Data Coding
Scheme 6 Page Parameter 7‑88 Content of Message
* * *
The octets in the above table are transmitted in order, starting with octet 1.
The bits within these octets are numbered 0 to 7; bit 0 is the low order bit
and is transmitted first.
##### 9.4.1.2.1 Serial Number
This parameter is a 16-bit integer which identifies a particular CBS message
(which may be one to fifteen pages in length) from the source and type
indicated by the Message Identifier and is altered every time the CBS message
with a given Message Identifier is changed.
The two octets of the Serial Number field are divided into a 2-bit
Geographical Scope (GS) indicator, a 10‑bit Message Code and a 4-bit Update
Number as shown below:
* * *
Octet 1 Octet 2  
7 6 5 4 3 2 1 0 7 6 5 4 3 2 1 0 GS Message Code Update Number
* * *
The most significant bit of the update number is octet 2 bit 3. The most
significant bit of the Message Code is octet 1 bit 5 and the least significant
bit of the Message Code is octet 2 bit 4. The most significant bit of the
Geographical Scope is octet 1 bit 7.
  * Message Code:
The Message Code differentiates between CBS messages from the same source and
type (i.e. with the same Message Identifier). Message Codes are for allocation
by PLMN operators.
The Message Code identifies different message themes. For example, let the
value for the Message Identifier be \"Automotive Association\" (= source),
\"Traffic Reports\" (= type). Then \"Crash on A1 J5\" could be one value for
the message code, \"Cow on A32 J4\" could be another, and \"Slow vehicle on M3
J3\" yet another.
In the case of transmitting CBS messages for ETWS, i.e. the Message Identifier
has a value for ETWS (see subclause 9.4.1.2.2), a part of Message Code can be
used to command mobile terminals to activate emergency user alert and message
popup in order to alert the users. Message Code format for this purpose is as
follows:
* * *
5 4 3 2 1 0 7 6 5 4 Emergency User Alert Popup
* * *
NOTE 1: The exact behaviour of the UE is specified in 3GPP TS 22.268 [28].
Whether the UE setting is overridden is subject to regulatory requirements.
NOTE 2: Emergency user alert includes alerting tone and other user alerting
means such as vibration, according to the UE's capability. The types of alert
(e.g. the kind of tone, vibration, etc) are implementation dependent and may
be subject to regulatory requirements.
NOTE 3: The popup indication shall take precedence over the setting of the DCS
Message class (see 3GPP TS 23.038 [3]), and the Geographical Scope with regard
to Display Mode \'immediate\'.
The codings of the Emergency User Alert and Popup fields are shown below:
* * *
Field Code Instruction to Terminal Emergency User Alert 0 No instruction as to
emergency user alert. 1 Activate emergency user alert. Popup 0 No instruction
as to popup. 1 Activate popup on the display.
* * *
  * Geographical Scope:
The Geographical Scope (GS) indicates the geographical area over which the
Message Code is unique, and the display mode. The CBS message is not
necessarily broadcast by all cells within the geographical area. When two CBS
messages are received with identical Serial Numbers/Message Identifiers in two
different cells, the Geographical Scope may be used to determine if the CBS
messages are indeed identical.
In particular, the Geographical Scope tells the mobile if the CBS message is:
\- only cell wide (which means that if a message is displayed it is desirable
that the message is removed from the screen when the UE selects the next cell
and if any CBS message is received in the next cell it is to be regarded as
\"new\"), or
\- PLMN wide (which means that the Message Code and/or Update Number must
change in the next cell for the CBS message to be \"new\"), or
\- Location Area wide (in GSM) (which means that a CBS message with the same
Message Code and Update Number may or may not be \"new\" in the next cell
according to whether the next cell is in the same Location Area as the current
cell), or
\- Service Area Wide (in UMTS) (which means that a CBS message with the same
Message Code and Update Number may or may not be \"new\" in the next cell
according to whether the next cell is in the same Service Area as the current
cell)
NOTE 4: According to 3GPP TS 23.003 [2] a Service Area consists of one cell
only.
The display mode indicates whether the CBS message is supposed to be on the
display all the time (\"immediate\") or only when the user wants to see it
(\"normal\"). In either case, the CBS message will be displayed only if its
Message Identifier is contained within the \"search list\" of the mobile (see
subclause 9.3.2). These display modes are indicative of intended use, without
indicating a mandatory requirement or constraining the detailed implementation
by mobile manufacturers. The user may be able to select activation of these
different modes.
The coding of the Geographical Scope field is shown below:
* * *
GS Code Display Mode Geographical Scope
00 Immediate Cell wide
01 Normal PLMN wide
10 Normal Location Area wide in GSM,\ Service Area wide in UMTS
11 Normal Cell wide
* * *
Immediate = default direct display.\ Normal = default display under user
interaction.
Code 00 is intended for use by the network operators for base station IDs but
this code can also be used for other applications. Use of GS=00 takes
precedence over the setting of the DCS Message class (see 3GPP TS 23.038 [3])
  * Update Number:
The Update Number indicates a change of the message content of the same CBS
message, i.e. the CBS message with the same Message Identifier, Geographical
Scope, and Message Code.
In other words, the Update Number will differentiate between older and newer
versions of the same CBS message, within the indicated geographical area. A
new CBS message may have Update Number 0000; however this number will
increment by 1 for each update. Any Update Number eight or less higher (modulo
16) than the last received Update Number will be considered more recent, and
shall be treated as a new CBS message, provided the mobile has not been
switched off.
##### 9.4.1.2.2 Message Identifier
This parameter identifies the source and type of the CBS message. For example,
\"Automotive Association\" (= source), \"Traffic Reports\" (= type) could
correspond to one value. A number of CBS messages may originate from the same
source and/or be of the same type. These will be distinguished by the Serial
Number. The Message Identifier is coded in binary.
The ME shall attempt to receive the CBS messages whose Message Identifiers are
in the \"search list\". This \"search list\" shall contain the Message
Identifiers stored in the EF~CBMI~, EF~CBMID~ and EF~CBMIR~ files on the SIM
(see 3GPP TS 11.11) and any Message Identifiers stored in the ME in a \"list
of CBS messages to be received\". If the ME has restricted capabilities with
respect to the number of Message Identifiers it can search for, the Message
Identifiers stored in the SIM shall take priority over any stored in the ME.
The use/application of the Message Identifier is shown in the following table,
with octet 3 of the Message Identifier in hex shown first, followed by octet
4. Thus \"1234\" (hex) represents octet 3 = 0001 0010 and octet 4 = 0011 0100.
Networks shall only use Message Identifiers from the range 4352 -- 6399 (1100
hex -- 18FF hex) for Public Warning System as defined in 3GPP TS 22.268 [28].
If a message Identifier from this range is in the \"search list\", the ME
shall attempt to receive this CBS message.
+-------------------+------------------+-----------------------------+ | **Decimal** | **Hex** | **Meaning** | +-------------------+------------------+-----------------------------+ | **0 -- 999** | **0000 -- 03E7** | To be allocated by GSMA(see | | | | GSMA AD.26 [25]). If a | | | | Message Identifier from | | | | this range is in the | | | | \"search list\", the ME | | | | shall attempt to receive | | | | such CBS message. | | | | | | | | This version of this | | | | document does not prohibit | | | | networks from using Message | | | | Identifiers in the range | | | | 0000 - 03E7 (hex) for Cell | | | | Broadcast Data Download to | | | | the SIM. | +-------------------+------------------+-----------------------------+ | **1000** | **03E8** | LCS CBS Message Identifier | | | | for E-OTD Assistance Data | | | | message. | +-------------------+------------------+-----------------------------+ | **1001** | **03E9** | LCS CBS Message Identifier | | | | for DGPS Correction Data | | | | message. | +-------------------+------------------+-----------------------------+ | **1002** | **03EA** | LCS CBS Message Identifier | | | | for GPS Ephemeris and Clock | | | | Correction Data message. | +-------------------+------------------+-----------------------------+ | **1003** | **03EB** | LCS CBS Message Identifier | | | | for GPS Almanac and Other | | | | Data message. | +-------------------+------------------+-----------------------------+ | **1004 - 4095** | **03EC -- 0FFF** | Intended for | | | | standardization in future | | | | versions of this document. | | | | These values shall not be | | | | transmitted by networks | | | | that are compliant to this | | | | version of this document. | | | | If a Message Identifier | | | | from this range is in the | | | | \"search list\", the ME | | | | shall attempt to receive | | | | this CBS message. | +-------------------+------------------+-----------------------------+ | **4096 - 4223** | **1000 -- 107F** | Networks shall only use | | | | Message Identifiers from | | | | this range for Cell | | | | Broadcast Data Download in | | | | \"clear\" (i.e. unsecured) | | | | to the SIM (see 3GPP | | | | TS 11.14). If a message | | | | Identifier from this range | | | | is in the \"search list\", | | | | the ME shall attempt to | | | | receive this CBS message. | | | | | | | | Not settable by MMI | +-------------------+------------------+-----------------------------+ | **4224 - 4351** | **1080 -- 10FF** | Networks shall only use | | | | Message Identifiers from | | | | this range for Cell | | | | Broadcast Data Download | | | | secured according to | | | | 3GPP TS 23.048 [15] to | | | | the SIM (see | | | | 3GPP TS 11.14). If a | | | | message Identifier from | | | | this range is in the | | | | \"search list\", the ME | | | | shall attempt to receive | | | | this CBS message. | | | | | | | | Not settable by MMI | +-------------------+------------------+-----------------------------+ | **4352** | **1100** | ETWS CBS Message Identifier | | | | for earthquake warning | | | | message. | +-------------------+------------------+-----------------------------+ | **4353** | **1101** | ETWS CBS Message Identifier | | | | for tsunami warning | | | | message. | +-------------------+------------------+-----------------------------+ | **4354** | **1102** | ETWS CBS Message Identifier | | | | for earthquake and tsunami | | | | combined warning message. | +-------------------+------------------+-----------------------------+ | **4355** | **1103** | ETWS CBS Message Identifier | | | | for test message. | | | | | | | | The UE silently discards | | | | this message. A UE | | | | specially designed for | | | | testing purposes may | | | | display its contents. | +-------------------+------------------+-----------------------------+ | **4356** | **1104** | ETWS CBS Message Identifier | | | | for messages related to | | | | other emergency types. | +-------------------+------------------+-----------------------------+ | **4357 - 4359** | **1105 - 1107** | ETWS CBS Message Identifier | | | | for future extension. | +-------------------+------------------+-----------------------------+ | **4360 - 4369** | **1108 - 1111** | Intended for | | | | standardization in future | | | | versions of this document. | | | | These values shall not be | | | | transmitted by networks | | | | that are compliant to this | | | | version this document. If a | | | | Message Identifier from | | | | this range is in the | | | | \"search list\", the ME | | | | shall attempt to receive | | | | this CBS message. | +-------------------+------------------+-----------------------------+ | **4370** | **1112** | CMAS CBS Message Identifier | | | | for CMAS Presidential Level | | | | Alerts. | | | | | | | | Not settable by MMI. | +-------------------+------------------+-----------------------------+ | **4371** | **1113** | CMAS CBS Message Identifier | | | | for CMAS Extreme Alerts | | | | with Severity of Extreme, | | | | Urgency of Immediate, and | | | | Certainty of Observed. | | | | | | | | Settable by MMI as per CMAS | | | | subscriber opt-out | | | | requirements, see | | | | 3GPP TS 22.268 [28]. | +-------------------+------------------+-----------------------------+ | **4372** | **1114** | CMAS CBS Message Identifier | | | | for CMAS Extreme Alerts | | | | with Severity of Extreme, | | | | Urgency of Immediate, and | | | | Certainty of Likely. | | | | | | | | Settable by MMI as per CMAS | | | | subscriber opt-out | | | | requirements, see | | | | 3GPP TS 22.268 [28]. | +-------------------+------------------+-----------------------------+ | **4373** | **1115** | CMAS CBS Message Identifier | | | | for CMAS Severe Alerts with | | | | Severity of Extreme, | | | | Urgency of Expected, and | | | | Certainty of Observed. | | | | | | | | Settable by MMI as per CMAS | | | | subscriber opt-out | | | | requirements, see | | | | 3GPP TS 22.268 [28]. | +-------------------+------------------+-----------------------------+ | **4374** | **1116** | CMAS CBS Message Identifier | | | | for CMAS Severe Alerts with | | | | Severity of Extreme, | | | | Urgency of Expected, and | | | | Certainty of Likely. | | | | | | | | Settable by MMI as per CMAS | | | | subscriber opt-out | | | | requirements, see | | | | 3GPP TS 22.268 [28]. | +-------------------+------------------+-----------------------------+ | **4375** | **1117** | CMAS CBS Message Identifier | | | | for CMAS Severe Alerts with | | | | Severity of Severe, Urgency | | | | of Immediate, and Certainty | | | | of Observed. | | | | | | | | Settable by MMI as per CMAS | | | | subscriber opt-out | | | | requirements, see | | | | 3GPP TS 22.268 [28]. | +-------------------+------------------+-----------------------------+ | **4376** | **1118** | CMAS CBS Message Identifier | | | | for CMAS Severe Alerts with | | | | Severity of Severe, Urgency | | | | of Immediate, and Certainty | | | | of Likely. | | | | | | | | Settable by MMI as per CMAS | | | | subscriber opt-out | | | | requirements, see | | | | 3GPP TS 22.268 [28]. | +-------------------+------------------+-----------------------------+ | **4377** | **1119** | CMAS CBS Message Identifier | | | | for CMAS Severe Alerts with | | | | Severity of Severe, Urgency | | | | of Expected, and Certainty | | | | of Observed. | | | | | | | | Settable by MMI as per CMAS | | | | subscriber opt-out | | | | requirements, see | | | | 3GPP TS 22.268 [28]. | +-------------------+------------------+-----------------------------+ | **4378** | **111A** | CMAS CBS Message Identifier | | | | for CMAS Severe Alerts with | | | | Severity of Severe, Urgency | | | | of Expected, and Certainty | | | | of Likely. | | | | | | | | Settable by MMI as per CMAS | | | | subscriber opt-out | | | | requirements, see | | | | 3GPP TS 22.268 [28]. | +-------------------+------------------+-----------------------------+ | **4379** | **111B** | CMAS CBS Message Identifier | | | | for Child Abduction | | | | Emergency (or Amber Alert). | | | | | | | | Settable by MMI as per CMAS | | | | subscriber opt-out | | | | requirements, see | | | | 3GPP TS 22.268 [28]. | +-------------------+------------------+-----------------------------+ | **4380** | **111C** | CMAS CBS Message Identifier | | | | for the Required Monthly | | | | Test. | | | | | | | | According to CMAS | | | | requirements (see | | | | 3GPP TS 22.268 [28]), if | | | | this Message Identifier is | | | | in the \"search list\", the | | | | ME shall attempt to receive | | | | this CBS message. | +-------------------+------------------+-----------------------------+ | **4381** | **111D** | CMAS CBS Message Identifier | | | | for CMAS Exercise. | | | | | | | | According to CMAS | | | | requirements (see | | | | 3GPP TS 22.268 [28]), if | | | | this Message Identifier is | | | | in the \"search list\", the | | | | ME shall attempt to receive | | | | this CBS message. | +-------------------+------------------+-----------------------------+ | **4382** | **111E** | CMAS CBS Message Identifier | | | | for operator defined use. | | | | | | | | According to CMAS | | | | requirements (see | | | | 3GPP TS 22.268 [28]), if | | | | this Message Identifier is | | | | in the \"search list\", the | | | | ME shall attempt to receive | | | | this CBS message. | +-------------------+------------------+-----------------------------+ | **4383-4399** | **111F-112F** | CMAS CBS Message Identifier | | | | for future extension. | +-------------------+------------------+-----------------------------+ | **4400 - 6399** | **1130 -- 18FF** | CBS Message Identifier for | | | | future PWS use. | | | | | | | | These values shall not be | | | | transmitted by networks | | | | that are compliant to this | | | | version of this document. | | | | If a Message Identifier | | | | from this range is in the | | | | \"search list\", the ME | | | | shall attempt to receive | | | | this CBS message. | +-------------------+------------------+-----------------------------+ | **6400 -- 40959** | **1900 -- 9FFF** | Intended for | | | | standardization in future | | | | versions of this document . | | | | These values shall not be | | | | transmitted by networks | | | | that are compliant to this | | | | version of this document. | | | | If a Message Identifier | | | | from this range is in the | | | | \"search list\", the ME | | | | shall attempt to receive | | | | this CBS message. | +-------------------+------------------+-----------------------------+ | **40960 - 45055** | **A000 - AFFF** | PLMN operator specific | | | | range. The type of | | | | information provided by | | | | PLMN operators using these | | | | Message Identifiers is not | | | | guaranteed to be the same | | | | across different PLMNs. If | | | | a Message Identifier from | | | | this range is in the | | | | \"search list\", the ME | | | | shall attempt to receive | | | | this CBS message. | +-------------------+------------------+-----------------------------+ | **45056 - 61439** | **B000 - EFFF** | Intended as PLMN operator | | | | specific range in future | | | | versions of this document. | | | | These values shall not be | | | | transmitted by networks | | | | that are compliant to this | | | | version of this document. | | | | If a Message Identifier | | | | from this range is in the | | | | \"search list\", then the | | | | ME shall attempt to receive | | | | this CBS message. | +-------------------+------------------+-----------------------------+ | **61440 65534** | **F000 - FFFE** | Intended as PLMN operator | | | | specific range in future | | | | versions of this document. | | | | These values shall not be | | | | transmitted by networks | | | | that are compliant to this | | | | version of this document. | | | | If a Message Identifier | | | | from this range is in the | | | | \"search list\", then the | | | | ME shall attempt to receive | | | | this CBS message. | | | | | | | | Not settable by MMI. | +-------------------+------------------+-----------------------------+ | **65535** | **FFFF** | Reserved, and should not be | | | | used for new services, as | | | | this value is used on the | | | | SIM to indicate that no | | | | Message Identifier is | | | | stored in those two octets | | | | of the SIM. If this Message | | | | Identifier is in the | | | | \"search list\", the ME | | | | shall attempt to receive | | | | this CBS message. | | | | | | | | Not settable by MMI. | +-------------------+------------------+-----------------------------+
Generally, the MMI for entering any Message in the ME is left to the
manufacturers\' discretion. However, the codes allowed to be set by MMI in the
table above shall be capable of being specified via their decimal
representation i.e.:
Octet 3 Octet 4.
0000 0000 0000 0000 (decimal \'000\').
0000 0000 0000 0001 (decimal \'001\').
0000 0000 0000 0010 (decimal \'002\').
0000 0000 0000 0011 (decimal \'003\').
: : :
0000 0011 1110 1100 (decimal '4095').
0001 0001 0000 0000 (decimal '4352').
: : :
: : :
1110 1111 1111 1111 (decimal '61439').
##### 9.4.1.2.3 Data Coding Scheme
This parameter indicates the intended handling of the CBS message at the MS,
the alphabet/coding, and the language (when applicable). This is defined in
3GPP TS 23.038 [3].
When the SIM indicates one or more language preferences, the ME shall, by
default, use the language(s) stored in the SIM (in the EF~PL~ file) to set any
language filter mechanisms provided by the ME.
Optionally, the user can select the language(s) required by using an MMI, to
determine whether a particular CBS message should be read and displayed.
##### 9.4.1.2.4 Page Parameter
This parameter is coded as two 4-bit fields. The first field (bits 0‑3)
indicates the binary value of the total number of pages in the CBS message and
the second field (bits 4‑7) indicates binary the page number within that
sequence. The coding starts at 0001, with 0000 reserved. If a mobile receives
the code 0000 in either the first field or the second field then it shall
treat the CBS message exactly the same as a CBS message with page parameter
0001 0001 (i.e. a single page message).
##### 9.4.1.2.5 Content of Message
This parameter is a copy of the \'CBS-Message-Information-Page\' as sent from
the CBC to the BSC.
#### 9.4.1.3 ETWS Primary Notification message
##### 9.4.1.3.1 General Description
The ETWS Primary Notification message is transmitted to a MS in idle mode and
dedicated mode as described in 3GPP TS 44.018 [26], and to a MS in packet
transfer mode as described in 3GPP TS 44.060 [27]. The ETWS Primary
Notification message is structured as in the table in subclause 9.4.1.3.2.
This message is only applicable in GSM.
##### 9.4.1.3.2 Message Parameter
* * *
Octet Number(s) Field 1‑2 Serial Number 3‑4 Message Identifier 5-6 Warning
Type 7-56 Warning Security Information
* * *
The octets in the above table are transmitted in order, starting with octet 1.
The bits within these octets are numbered 0 to 7; bit 0 is the low order bit
and is transmitted first.
##### 9.4.1.3.3 Serial Number
This parameter identifies a particular ETWS Primary Notification message from
the source and type indicated by the Message Identifier and is altered every
time the ETWS Primary Notification message with a given Message Identifier is
changed. The coding of this parameter is same as that defined in subclause
9.4.1.2.1.
##### 9.4.1.3.4 Message Identifier
This parameter identifies the source and type of the ETWS Primary Notification
message. The coding of this parameter is same as that defined in subclause
9.4.1.2.2.
##### 9.4.1.3.5 Warning Type
This parameter identifies the warning type of the ETWS Primary Notification
message. It is identical with the Warning Type described in subclause 9.3.24
with respect to its structure and possible value range.
##### 9.4.1.3.6 Warning Security Information
This parameter identifies the warning security information of the ETWS Primary
Notification message. The coding of this parameter is same as that defined in
subclause 9.3.25. The UE shall ignore this parameter.
NOTE: The Warning Security Information parameter is included due to
requirements in earlier versions of this document.
### 9.4.2 UMTS
The CBS messages which are transmitted by the RNS to the UE include two types
of messages: CBS Message (user information) and Schedule Message (schedule of
CBS messages).
The format of the CBS Message containing user information is described in this
clause and in 3GPP TS 25.324 [19].
The format of the Schedule Message is described in 3GPP TS 25.324 [19].
#### 9.4.2.1 General Description
The CBS message is transmitted as one unit over the radio interface. On layer
two of the UMTS radio interface the logical channel CTCH is used.
#### 9.4.2.2 Message Parameter
* * *
Octet Number(s) Parameter 1 Message Type 2 -- 3 Message ID 4 -- 5 Serial
Number 6 Data Coding Scheme 7 -- N CB Data
* * *
The octets in the above table are transmitted in order, starting with octet 1.
The bits within these octets are numbered 0 to 7; bit 0 is the low order bit
and is transmitted first.
For ETWS, the transmission order of the parameter is only applicable to the
secondary notification.
For value N in the above table see 3GPP TS 25.324 [19].
##### 9.4.2.2.1 Message Type
This parameter indicates the type of a message, either a CBS message or a
Schedule Message. The Coding of the Message Type is described in 3GPP TS
25.324 [19].
##### 9.4.2.2.2 Message ID
This parameter identifies the source and type of the CBS Message (see also
3GPP TS 25.324 [19]). It is identical with the Message Identifier described in
subclause 9.4.1.2.2 with respect to its structure and possible value range.
Within a multi technology network of one operator, e.g. GSM combined with
UMTS, the values identifying a given topic shall be identical for both the
Message ID and the Message Identifier described in subclause 9.4.1.2.2.
The UE shall attempt to receive the CBS messages whose Message ID\'s are in
the \"search list\". This \"search list\" shall contain the Message IDs stored
in the EF~CBMI~, EF~CBMID~ and EF~CBMIR~ files on the USIM (see 3GPP TS 31.102
[18]) and any Message Identifiers stored in the UE in a \"list of CBS messages
to be received\". If the UE has restricted capabilities with respect to the
number of Message ID\'s it can search for, the IDs stored in the USIM shall
take priority over any stored in the UE.
##### 9.4.2.2.3 Serial Number
This parameter identifies a particular CBS Message from the source and type
indicated by the Message ID (see also 3GPP TS 25.324 [19]). It is identical
with the Serial Number described in subclause 9.4.1.2.1 with respect to its
structure and possible value range.
##### 9.4.2.2.4 Data Coding Scheme
This parameter identifies the the alphabet/coding and the language applied to
a CBS Message as defined in 3GPP TS 23.038 [3].
When the USIM indicates one or more language preferences, the UE shall, by
default, use the language(s) stored in the USIM (in the EF~PL~ file) to set
any language filter mechanisms provided by the UE.
Optionally, the user can select the language(s) required by using an MMI, to
determine whether a particular CBS message should be read and displayed.
##### 9.4.2.2.5 CB Data
This parameter consists of the following WRITE-REPLACE primitive parameters as
received from the CBC (see subclause 9.2.2):
  * Number-of-Pages;
  * CBS‑Message‑Information‑Page;
  * CBS-Message-Information-Length.
* * *
**Octet Number(s)** **Parameter** 1 Number-of-Pages 2 -- 83
CBS‑Message‑Information‑Page 1 84 CBS-Message-Information-Length 1 ... ...
CBS‑Message‑Information‑Page n CBS-Message-Information-Length n NOTE: n equal
to or less than 15
* * *
The octets in the above table are transmitted in order, starting with octet 1.
The bits within these octets are numbered 0 to 7; bit 0 is the low order bit
and is transmitted first.
## 9.5 CBS Compression
Cell Broadcast messages may be compressed in accordance with the compression
algorithm described in 3GPP TS 23.042 [14].
The Data Coding Scheme parameter (see subclause 9.4.1.2.3) indicates whether
or not a CBS Message is compressed.
Compression and decompression may take place between a CBE and an MS or
between a CBC and an MS.
The compression applies only to user information sent between the CBC and the
MS i.e. excludes any padding octets.
Padding in the case of CBS compression is defined as an integral number of
octets where each padding octet has a value FF hexadecimal. The insertion of
padding for different scenarios is described in the paragraphs below.
The compression footer (see 3GPP TS 23.042 [14]) delimits the compressed user
information bit stream at an octet boundary. The remainder of the \'CBS-
Message-Information-Page\' sent between the CBC and the BSC contains padding
octets. The parameter \'CBS-Message-Information-Length\' identifies the sum of
the compressed octets, the compression header, and the compression footer (see
3GPP TS 23.042 [14]), but not any padding.
Compression may apply to a single \'CBS-Message-Information-Page\' or across
multiple \'CBS‑Message‑Information‑Page\'s.
In the case where Compression applies only to a single \'CBS-Message-
Information-Page\', the compression header shall be the first octet in that
\'CBS-Message-Information-Page\' and the compression footer shall immediately
follow the compressed data stream. Any remaining octets after the compression
footer shall contain padding up to and including the 82nd octet position.
However, if the 82nd octet position contains the compression footer then there
is no padding.
In the case where compression applies across multiple \'CBS-Message-
Information-Page\'s, the compression header shall be present only in the first
octet position of the first \'CBS-Message-Information-Page\'. The compression
footer shall immediately follow the compressed data stream which will
terminate within the last \'CBS-Message-Infirmation-Page\'. Any remaining
octets after the compression footer in the last \'CBS-Message-Information-
Page\' shall contain padding up to and including the 82^nd^ octet position in
the last \'CBS-Message-Information-Page\'. However, if the 82^nd^ octet
position of the last \'CBS-Message-Information-Page\' contains the compression
footer then there is no padding.
If it is required to convey different blocks of information which are to be
treated by the MS as though they were physically independent pages rather than
concatenated information then page break characters (see 3GPP TS 23.038 [3])
may be inserted in the character stream prior to compression. The boundaries
created by the page breaks will not normally align with the boundaries set by
the page number parameters and so the page number parameters cannot be used to
identify physically separate blocks of meaningful information.
The decoding at the MS may be achieved by first locating the compression
footer octet by working back from the 82^nd^ octet in the last \'CBS-Message-
Information-Page\'. If padding is present, the MS must skip backwards over the
padding until a non padding octet is found. By definition this octet must be
the compression footer. The compression footer has a pre-defined bit
combination which can never replicate a padding octet. If padding is not
present in the 82^nd^ octet position of the last \'CBS-Message-Information-
Page\', by definition the 82^nd^ octet must be the compression footer.
The compression footer defined in 3GPP TS 23.042 [14] indicates whether there
are any compressed data bits contained within the compression footer octet
and, if not, how many compressed data bits are contained within the octet
immediately preceding the compression footer. In order to prevent possible
replication of the padding octet value in the compression footer octet value,
the compression mechanism must ensure that when bits 0, 1, 2 in the
compression footer are all ones all other bits in the compression footer octet
are set to 0.
# 10 CBS Index
An index structure is defined in this clause. Index can be used by the
operator to inform the end user about the type of CBS services available.
Index has the structure of a tree. It can thus have sub parts which are called
subindexes. A subindex can be embedded in the same index message as its parent
(\"embedded subindex\") or it can physically be in a separate index message
(\"child subindex\"). Every index message has a unique message identifier.
They are always of the same type. Message Code 1010101010b shall be used to
indicate this type. The root of the index structure shall be the index message
with message identifier 0. Other index messages are linked to the root index
with links. Definition of their message identifiers is left to the operator.
A format (\"enhanced format\") for the index messages is described in this
clause. If this enhanced format is used in the index message the ms can
present the index messages in its preferred format.
Available CBS services are introduced in the index. This means that their
message identifier and name are stated. Enhanced format includes a mechanism
for separating a normal service introduction from embedded subindex
introduction and child subindex introduction. The introduction of an embedded
subindex specifies the \"subindex-id\" used for identifying services that
belong to this subindex. Embedded subindexes can have subindexes embedded in
them etc. If these \"second level embedded subindexes\" are introduced their
subindex-id shall begin with the subindex-id of their parent. Same principle
applies for subindexes in third, fourth etc. level. An example of an index
structure is given in figure 6.
Enhanced format includes a mechanism which allows the terminals to identify
that the format of the index message is enhanced. The index-id -field and the
above mentioned Message Code (1010101010b) constitute this mechanism:
message-format = index-id index-element-intro+.
index-id = \"EI\" version crlf.
version = number+.
number = \"1\" \| \"2\" \| \"3\" \| \"4\" \| \"5\" \| \"6\" \| \"7\" \| \"8\"
\| \"9\" \| \"0\".
index-element-intro = subindex-intro \| service-intro.
subindex-intro = subindex-id \" \" subindex-name crlf.
subindex-id = subindex-character+.
subindex-character = \"a\" \| \"b\" \| ... \| \"z\" \| \"A\" \| \"B\" \| ...
\| \"Z\".
subindex-name = name-character+.
name-character = \ and \ >.
crlf = \ \.
service-intro = subindex-id message-id delimiter service-name crlf.
message-id = number+.
delimiter = \".\" \| \" \".
service-name = name-character+.
Current version used is 1.
The use of \".\" as delimiter means that this service is a child subindex of
the index structure.
Delimiter \" \" is used in all other cases.
Subindex-id shall not be used if the service introduced is in the first level
of the index. Subindex-id:s are used in alphabetical order within an index
message. They can be re-used in a child subindex.
+-----------------------------+---+-----------------------------+---+ | 0 Index: | | | | | | | | | | (MsgId=0, Message Code = | | | | | 1010101010b) | | | | +-----------------------------+---+-----------------------------+---+ | EI1 | | | | | | | | | | 20 Hospitals | | | | | | | | | | 34 Taxis | | | | | | | | | | a News | | | | | | | | | | a201 Int News | | | | | | | | | | a202 Nat News | | | | | | | | | | a203 Local News | | | | | | | | | | b Sports | | | | | | | | | | b301 Football News | | | | | | | | | | b302 Hockey Results | | | | | | | | | | b303 Basketball | | | | | | | | | | c Finance | | | | | | | | | | c401 Finance News | | | | | | | | | | ca Quotes NYSE | | | | | | | | | | ca412 NYSE industrial | | | | +-----------------------------+---+-----------------------------+---+ | ca413 NYSE electronics | | 420 Quotes Tokyo: | | | | | | | | ca414 NYSE blue | | (MsgId = 420, Message Code | | | | | = 1010101010b) | | | c420.Quotes Tokyo | | | | +-----------------------------+---+-----------------------------+---+ | d Weather | | EI1 | | | | | | | | d501 Local Weather | | 421 Tokyo Industrial | | | | | | | | d502 National Weather | | 422 Tokyo Finance | | | | | | | | d503 Weather in Europe | | 423 Tokyo Blue | | | | | | | | d504 Weather in the World | | | | +-----------------------------+---+-----------------------------+---+ | 900.Buy and Sell | | | | +-----------------------------+---+-----------------------------+---+ | | | 900 Buy and Sell: | | | | | | | | | | (MsgId = 900, Message Code | | | | | = 1010101010b) | | +-----------------------------+---+-----------------------------+---+ | | | EI1 | | | | | | | | | | 901 Cars | | | | | | | | | | 902 Bikes | | | | | | | | | | 903 Boats | | | | | | | | | | a Home Electronics | | | | | | | | | | a911 Computers | | | | | | | | | | a912 Televisions | | | | | | | | | | a913 Radios | | | | | | | | | | 920 Baby Clothes | | | | | | | | | | 930 Magazines | | | | | | | | | | 940 Books | | +-----------------------------+---+-----------------------------+---+
Figure 6
###### ## Annex A (informative): Void
#