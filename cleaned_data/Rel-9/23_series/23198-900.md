# Foreword
This Technical Specification (TS) has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# Introduction
The Open Service Access (OSA) defines an architecture that enables service
application developers to make use of network functionality through open
standardized interface, i.e. the OSA APIs and Parlay X Web Services. The
network functionality is describes as Service Capability Features (SCFs) or
Services. The OSA Framework is a general component in support of Services
(Service Capabilities) and Applications. The concepts and the functional
architecture for the OSA are contained in the present document. The
requirements for OSA are contained in 3GPP TS 22.127 [3].
NOTE: The terms \"Service\" and \"Service Capability Feature\" are used as
alternatives for the same concept in the present document. In the OSA
Application Programming Interface (API) itself, the SCFs as identified in the
3GPP requirements and architecture are reflected as \"service\", in terms like
service instance lifecycle manager, service Discovery.
The present document is part of a TS-family as identified below:
22.127: \"Service Requirement for the Open Services Access (OSA); Stage 1\".
**23.198: \"Open Service Access (OSA); Stage 2\".**
Stage 3 Technical Specifications (TSs):
29.198-01: \"OSA API; Part 1: Overview\".
29.198-02: \"OSA API; Part 2: Common data\".
29.198-03: \"OSA API; Part 3: Framework\".
29.198-04-1: \"OSA API; Part 4: Call control; Subpart 1: Common call control
data definitions\".
29.198-04-2: \"OSA API; Part 4: Call control; Subpart 2: Generic call control
data SCF\".
29.198-04-3: \"OSA API; Part 4: Call control; Subpart 3: Multi-party call
control data SCF\".
29.198-04-4: \"OSA API; Part 4: Call control; Subpart 4: Multimedia call
control SCF\".
29.198-04-5: \"OSA API; Part 4: Call control; Subpart 5: **Conference call
control SCF** \".
29.198-05: \"OSA API; Part 5: Generic user interaction\".
29.198-06: \"OSA API; Part 6: Mobility\".
29.198-07: \"OSA API; Part 7: Terminal capabilities\".
29.198-08: \"OSA API; Part 8: Data session control\".
29.198-09: does not exist
29.198-10: \"OSA API; Part 10: Connectivity manager SCF\".
29.198-11: \"OSA API; Part 11: Account management\".
29.198-12: \"OSA API; Part 12: Charging\".
29.198-13: \"OSA API; Part 13: Policy management SCF\".
29.198-14: \"OSA API; Part 14: Presence and Availability Management (PAM)\".
29.198-15: \"OSA API; Part 15: Multi-media Messaging (MM) SCF\".
29.198-16: \"OSA API; Part 16: Service Broker Service Capability Feature
(SCF)\".
29.199-01: \"OSA; Parlay X web services; Part 1: Common\".
29.199-02: \"OSA; Parlay X web services; Part 2: Third party call\".
29.199-03: \"OSA; Parlay X web services; Part 3: Call notification\".
29.199-04: \"OSA; Parlay X web services; Part 4: Short messaging\".
29.199-05: \"OSA; Parlay X web services; Part 5: Multimedia messaging\".
29.199-06: \"OSA; Parlay X web services; Part 6: Payment\".
29.199-07: \"OSA; Parlay X web services; Part 7: Account management\".
29.199-08: \"OSA; Parlay X web services; Part 8: Terminal status\".
29.199-09: \"OSA; Parlay X web services; Part 9: Terminal location\".
29.199-10: \"OSA; Parlay X web services; Part 10: Call handling\".
29.199-11: \"OSA; Parlay X web services; Part 11: Audio call\".
29.199-12: \"OSA; Parlay X web services; Part 12: Multimedia conference\".
29.199-13: \"OSA; Parlay X web services; Part 13: Address list management\".
29.199-14: \"OSA; Parlay X web services; Part 14: Presence\".
29.199-15: \"OSA; Parlay X web services; Part 15: Message Broadcast\".
29.199-16: \"OSA; Parlay X web services; Part 16: Geocoding\".
29.199-17: \"OSA; Parlay X web services; Part 17: Application driven Quality
of Service (QoS)\".
29.199-18: \"OSA; Parlay X web services; Part 18: Device management\".
29.199-19: \"OSA; Parlay X web services; Part 19: **Multimedia streaming
control** \".
29.199-20: \"OSA; Parlay X web services; Part 20: Multimedia multicast session
management\".
29.199-21: \"OSA; Parlay X web services; Part 21: Content management\".
29.199-22: \"OSA; Parlay X web services; Part 22: Policy\".
Technical Reports (TRs):
29.998-01: \"OSA API Mapping for OSA; Part 1: General issues on API mapping\".
29.998-04-1: \"OSA API Mapping for OSA; Part 4: Call Control Service Mapping;
Subpart 1: API to CAP Mapping\".
29.998-04-2: \"OSA API Mapping for OSA; Part 4: Call Control Service Mapping;
Subpart 2: INAP\".
29.998-04-3: \"OSA API Mapping for OSA; Part 4: Call Control Service Mapping;
Subpart 3: MEGACO mapping\".
29.998-04-4: \"OSA API Mapping for OSA; Part 4: Call Control Service Mapping;
Subpart 4: Multiparty Call Control ISC\".
29.998-05-1: \"OSA API Mapping for OSA; Part 5: User Interaction Service
Mapping; Subpart 1: API to CAP Mapping\".
29.998-05-2: \"OSA API Mapping for OSA; Part 5: User Interaction Service
Mapping; Subpart 2: INAP mapping\".
29.998-05-3: \"OSA API Mapping for OSA; Part 5: User Interaction Service
Mapping; Subpart 3: MEGACO mapping\".
29.998-05-4: \"OSA API Mapping for OSA; Part 5: User Interaction Service
Mapping; Subpart 4: API to SMS Mapping\".
29.998-06-1: \"OSA API Mapping for OSA; Part 6: User Location - User Status
Service Mapping; Subpart 1: Mapping to MAP\".
29.998-06-2: \"OSA API Mapping for OSA; Part 6: User Location - User Status
Service Mapping; Subpart 1: Mapping to SIP\".
29.998-08: \"OSA API Mapping for OSA; Part 8: Data Session Control Service
Mapping to CAP\".
# 1 Scope
The present document specifies the stage 2 of the Open Service Access (OSA).
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
  * References are either specific (identified by date of publication, > edition number, version number, etc.) or non‑specific.
  * For a specific reference, subsequent revisions do not apply.
  * For a non-specific reference, the latest version applies. In the > case of a reference to a 3GPP document (including a GSM document), > a non-specific reference implicitly refers to the latest version > of that document _in the same Release as the present document_.
[1] 3GPP TS 22.101: \"Service aspects; Service principles\".
[2] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[3] 3GPP TS 22.127: \"Service Requirement for the Open Services Access (OSA);
Stage 1\".
[4] 3GPP TS 23.218: \"IP Multimedia (IM) session handling; IM call model;
Stage 2\".
[5] 3GPP TS 22.141: \"Presence service; Stage 1\".
[6] 3GPP TS 23.228: \"IP Multimedia Subsystem (IMS); Stage 2\".
[7] 3GPP TS 23.141: \"Presence service; Architecture and functional
description; Stage 2\".
[8] 3GPP TS 23.140: \"Multimedia Messaging Service (MMS); Functional
description; Stage 2\".
[9] 3GPP TS 23.271: \"Location Services (LCS); Functional description; Stage
2\".
[10] ITU-T Recommendation Q.763: \"Signalling System No. 7 - ISDN User Part
formats and codes\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TS 22.101 [1], 3GPP TR 21.905 [2] and the following apply:
**applications:** software components providing services to end-users by
utilizing Service Capability Features
**Home Environment (HE):** operator responsible for overall provision of
services to users
**Home Environment Value Added Service Provider:** home service provider to
users other than the operator
**interface:** listing and semantics of the methods and attributes provided by
an object that belongs to a Service Capability Feature
**OSA API:** standardized API used by applications to access Service
Capability Features
**OSA Internal API:** standardized API between framework and service
capability servers
**Service Capabilities:** See 3GPP TS 22.127 [3].
**Service Capability Feature (SCF):** See 3GPP TS 22.127 [3].
**Service Capability Server (SCS):** Functional Entity providing OSA
interfaces towards an application
**Value Added Service Provider:** service provider to users other than the
operator
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TS
22.101 [1], 3GPP TR 21.905 [2] and the following apply:
API Application Programming Interface
HE Home Environment
HE-VASP Home Environment - Value Added Service Provider
HSS Home Subscriber Server
IMS IP Multimedia core network Subsystem
ISC IMS Service Control
MRF Media Resource Function
MRFC Media Resource Function Controller
MRFP Media Resource Function Protocol
OSA Open Service Access
SCF Service Capability Feature
SCS Service Capability Server
S-CSCF Serving - Call Session Control Function
SMS-C Short Message Service - Center
SOAP Simple Object Access Protocol
VASP Value Added Service Provider
# 4 OSA support of VASP
The OSA APIs may be used by the Home Environment, by Value Added Service
Providers (VASPs) and Home Environment Value Added Service Providers (HE-
VASPs).
OSA is optimized to support HE-VASPs as the user subscription information is
owned and managed by the Home Environment, i.e. the Home Environment knows
which users are subscribed to the service implemented by the OSA application,
and if the service is activated or not.
Specific methods are specified in OSA Service Capability Features, permitting:
  * An OSA application to request user related event notifications > pertaining to any subscribed user for which the service > implemented by the application is activated.
  * The OSA SCS to report user related event notifications in which it > explicitly identifies the user to which the event applies.
  * An OSA application to request a function to be applied to all > current subscribed users for which the service implemented by the > application is activated.
The OSA SCS can report user related events to the OSA application, without the
application having explicitly subscribed to the event (events to be reported
have been agreed between the Home Environment and the HE-VASP by other means,
e.g. in their service level agreement).
This functionality is supported by all relevant Service Capability Features,
like call and session control SCFs, user status, and user location.
# 5 Open Service Access
In order to be able to implement future applications/end user services that
are not yet known today, a highly flexible Framework for Services is required.
The Open Service Access (OSA) enables applications implementing the services
to make use of network functionality. Network functionality offered to
applications is defined in terms of a set of Service Capability Features
(SCFs). These SCFs provide functionality of network capabilities, which is
accessible to applications through the standardized OSA interface for service
development.
The aim of OSA is to provide a standardized, extensible and scalable interface
that allows for inclusion of new functionality in the network in future
releases with a minimum impact on the applications using the OSA interface.
Network functionality offered to applications is defined as a set of Service
Capability Features (SCFs) in the OSA API, which are supported by different
Service Capability Servers (SCS). These SCFs provide access to the network
capabilities on which the application developers can rely when designing new
applications (or enhancements/variants of already existing ones). The
different features of the different SCSs can be combined as appropriate.\ The
exact addressing (parameters, type and error values) of these features is
described in stage 3 descriptions.\ These descriptions (defined using UML and
in three realizations: OMG Interface Description LanguageTM, Java J2SETM and
Java J2EETM are open and accessible to application developers, who can design
services in any programming language, while the underlying core network
functions use their specific protocols. The present document also contains a
set of Web Services called Parlay X Web Services, specified in WSDL.
The standardized OSA APIs are secure, independent of vendor specific solutions
and independent of programming languages, operating systems etc used in the
service capabilities. The OSA APIs are independent of the location within the
home environment where service capabilities are implemented, and independent
of supported service capabilities in the network. Furthermore, an architecture
with open interfaces allows for application developers to rapidly design new
and innovative applications.
## 5.1 Overview of the Open Service Access
The Open Service Access consists of three parts:
  * **Applications:** e.g. VPN, conferencing, location based > applications. These applications are implemented in one or more > Application Servers.
  * **Framework:** providing applications with basic mechanisms that > enable them to make use of the service capabilities in the > network. Examples of framework functions are Authentication, and > Registration and Discovery. Service Capability Features made > available to applications are Registered in the Framework. Before > an application can use the network functionality made available > through Service Capability Features, authentication between the > application and framework is needed. After authentication, the > discovery function enables the application to find out which > Service Capability Features are provided by the Service Capability > Servers. The Service Capability Features are accessed by the > methods defined in the OSA interfaces.
  * **Service Capability Servers:** providing the applications with > Service Capability Features, which are abstractions from > underlying network functionality. Examples of Service Capability > Features offered by the Service Capability Servers are Call > Control and User Location. Similar Service Capability Features may > possibly be provided by more than one Service Capability Server. > For example, Call Control functionality might be provided by SCSs > on top of CAMEL and MExE.
Figure 5.1.1: Overview of Open Service Access
The present document, together with the associated stage 3 specification,
defines the OSA APIs. OSA does not mandate any specific platform or
programming language.
The Service Capability Servers that provide the OSA interfaces are functional
entities that can be distributed across one or more physical nodes. For
example, the User Location interfaces and Call Control interfaces might be
implemented on a single physical entity or distributed across different
physical entities. Furthermore, a service capability server can be implemented
on the same physical node as a network functional entity or in a separate
physical node. For example, Call Control interfaces might be implemented on
the same physical entity as the CAMEL protocol stack (i.e. in the CSE) or on a
different physical entity.
Several options exist:
**Option 1**
The OSA interfaces are implemented in one or more physical entity, but
separate from the physical network entities. Figure 5.1.2 shows the case where
the OSA interfaces are implemented in one physical entity, called \"gateway\"
in the figure. Figure 5.1.3 shows the case where the SCSs are distributed
across several \"gateways\".
Figure 5.1.2: SCSs and network functional entities implemented in separate
physical entities
Figure 5.1.3: SCSs and network functional entities implemented in separate
physical entities,\ SCSs distributed across several \"gateways\"
**Option 2**
The OSA interfaces are implemented in the same physical entities as the
traditional network entities (e.g. HSS, CSE), see Figure 5.1.4.
Figure 5.1.4: SCSs and network functional entities implemented in same
physical entities
**Option 3**
Option 3 is the combination of option 1 and option 2, i.e. a hybrid solution.
Figure 5.1.5: Hybrid implementation (combination of options 1 and 2)
It shall be noted that in all cases there is only one Framework. This
framework may reside within one of the physical entities containing an SCS or
in a separate physical entity.
From the application point of view, it shall make no difference which
implementation option is chosen, i.e. in all cases the same network
functionality is perceived by the application. The applications shall always
be provided with the same set of interfaces and a common access to framework
and Service Capability Feature interfaces. It is the framework that will
provide the applications with an overview of available Service Capability
Features and how to make use of them.
The implementation of applications that make use of the OSA interfaces is not
constrained or limited to a particular programming language; middleware choice
or physical architecture by the OSA interfaces themselves. Applications may be
realized as functional entities that can be distributed across one or more
physical entities, e.g. platforms, processes etc. For example, a logical
application providing call routing capability may be realized as a number of
discrete physical applications in order to support differentiated application
behaviour; application scalability or application resilience. However, the
logical relationship established between applications, framework and SCFs,
must always be maintained such that the integrity, security and use of the OSA
interfaces remains consistent.
A range of options exist that allows applications to be realized as a number
of physical entities in a manner that maintains the integrity of the OSA
architecture:
**Option 1**
The application is produced as a single physical entity.
Figure 5.1.6: Application function implemented as a single physical entity
**Option 2**
The functionality of the application is realized using multiple physical
entities. Figure 5.1.7 and figure 5.1.8 represent alternative solutions where
the same application obtains a reference to the same SCF interface. In figure
5.1.7, each physical application uses a unique set of interfaces supplied by
the Framework for each application access session, whereas in figure 5.1.8 the
Framework shares the same interfaces. In either case the Framework resolves
the application sessions to a single FW-Svc session, and a single service
manager is provided to the functional application.
Figure 5.1.7: Application function implemented in several physical entities\
(unique Framework Interface References for each application entity)
Figure 5.1.8: Application function implemented in several physical entities\
(sharing common Framework Interface References)
The application examples above depict an OSA Gateway with both Framework and
SCF functions supported on a single physical entity. Further Gateway
architectures in which the Framework and SCFs are supported in multiple
discrete physical entities are also possible.
## 5.2 Basic mechanisms in the Open Service Access
This subclause explains which basic mechanisms are executed in OSA prior to
offering and activating applications.
Some of the mechanisms are applied only once (e.g. establishment of service
agreement), others are applied each time a user subscription is made to an
application (e.g. enabling the call attempt event for a new user).
Basic mechanisms between Application and Framework:
  * **Authentication:** Once an off-line service agreement exists, the > application can access the authentication function. The > authentication model of OSA is a peer-to-peer model. The > application must authenticate the framework and vice versa. The > application must be authenticated before it is allowed to use any > other OSA function.
  * **Authorization:** Authorization is distinguished from > authentication in that authorization is the action of determining > what a previously authenticated application is allowed to do. > Authentication must precede authorization. Once authenticated, an > application is authorized to access certain Service Capability > Features.
  * **Discovery of framework functions and Service Capability > Features:** After successful authentication, applications can > obtain available framework functions and use the discovery > function to obtain information on authorized Service Capability > Features. The Discovery function can be used at any time after > successful authentication.
  * **Establishment of service agreement:** Before any application can > interact with a Service Capability Feature, a service agreement > must be established. A service agreement may consist of an > off-line (e.g. by physically exchanging documents) and an on-line > part. The application has to sign the on-line part of the service > agreement before it is allowed to access any Service Capability > Feature.
  * **Access to Service Capability Features:** The framework must > provide access control functions to authorize the access to > Service Capability Features or service data for any API method > from an application, with the specified security level, context, > domain, etc.
Basic mechanism between Framework and Service Capability Server:
  * **Registering of Service Capability Features**. SCFs offered by a > Service Capability Server can be registered at the Framework. In > this way the Framework can inform the Applications upon request > about available Service Capability Features (Discovery). For > example, this mechanism is applied when installing or upgrading a > Service Capability Server.
Basic mechanisms between Application Server and Service Capability Server:
  * **Request of event notifications**. This mechanism is applied when a > user has subscribed to an application and that application needs > to be invoked upon receipt of events from the network related to > the user. For example, when a user subscribes to an incoming call > screening application, the application needs to be invoked when > the user receives a call. It will therefore request to be notified > when a call setup is performed, with the user number as Called > Party Number.
## 5.3 Service Brokering
The service broker function enables the brokering of multiple services in a
managed and controlled fashion.
Figure 5.3.1: Service Broker function implemented as separate physical entity
The diagram depicts the interfaces between the various entities requiring
brokering of services within the OSA environment. In this diagram the service
broker is identified as an independent physical entity to that which supports
the SCF. This is not mandated, but is depicted to indicate that such an
architecture is possible.
The OSA Service Broker API includes the ability to specify provisioning and
configuration data required to control the service brokering.
The messaging interfaces between Service Broker and OSA SCSs or other service
delivery nodes/elements is based upon the network interfaces supported by each
system. Note that the above architecture does not preclude the OSA SCS
communicating directly with network entities where service interaction is not
required.
# 6 Framework
## 6.1 Trust and Security Management Functions
The Trust and Security Management functions provide:
  * the first point of contact for an application to access a network > via the OSA APIs;
  * the authentication methods for the application and network to > perform a mutual authentication;
  * the application with the ability to select a Service Capability > Feature to make use of;
  * the application with a portal to access other framework functions.
The process by which the application accesses the network via the OSA APIs has
been separated into 3 stages, each supported by a different framework
function:
1) Initial Contact with the framework;
2) Authentication to the framework;
3) Access to framework functions and Service Capability Features.
### 6.1.1 Initial Contact
The application gains a reference to the OSA Initial Contact function for the
network that they wish to access. This may be gained through a URL, a Naming
or Trading Service or an equivalent service, a _stringified_ object reference,
etc. At this stage, the application has no guarantee that this is a reference
to the network, so it this reference to initiate an authentication process.
Initial Contact supports a particular method to allow the authentication
process to take place (using the Authentication SCF defined in subclause
6.1.2). This method must be the first invoked by the application. Invocations
of other methods will fail until authentication has been successfully
completed.
Once the application has authenticated with the network, it can gain access to
other framework functions and Service Capability Features. This is done by
invoking a method, by which the application requests a certain type of access
Service Capability Feature. The OSA Access function is defined in subclause
6.1.3.
### 6.1.2 Authentication
Once the application has made initial contact with the network, and any time
during their interactions, authentication of the application and network may
be required.
The OSA APIs supports multiple authentication techniques. The procedure used
to select an appropriate technique for a given situation is described below.
The authentication mechanisms may be supported by cryptographic processes to
provide confidentiality, and by digital signatures to ensure integrity. The
inclusion of cryptographic processes and digital signatures in the
authentication procedure depends on the type of authentication technique
selected. In some cases strong authentication may need to be enforced by the
network to prevent misuse of resources. In addition it may be necessary to
define the minimum encryption key length that can be used to ensure a high
degree of confidentiality.
The application must authenticate with the framework before it is able to use
any of the other interfaces supported by the framework. Invocations on other
interfaces will fail until authentication has been successfully completed.
### 6.1.3 OSA Access
This function supports stage 1 requirements related to authorization and
service registration.
During an authenticated session accessing the Framework, the application will
be able to select and access an instance of a framework function or Service
Capability Feature.
In order to use OSA SCFs, the application must first be authorized to do so by
establishing a service agreement with the network. The application uses the
discovery SCF to retrieve the ID of the SCF they wish to use. They may then
check that they are authorized to use the SCF. The network is informed that
the application wishes to use the SCF. Finally, a service agreement is signed
digitally between the two parties.
Establishing a service agreement is a business level transaction, which
requires the HE-VASP that owns the application to agree terms for the use of
an SCF with the Home Environment. Service agreements can be reached using
either off-line or on-line mechanisms. Off-line agreements will be reached
outside of the scope of OSA interactions, and so are not described here.
However, applications can make use of service agreements that are made off-
line. Some Home Environments may only offer off-line mechanisms to reach
service agreements.
After a service agreement has been established between the application and the
Home Environment domains, the application will be able to make use of this
agreement to access the SCF.
## 6.2 Discovery
Before an OSA SCF can be discovered, the application must know what \"types\"
of SCFs are supported by the Framework and what \"properties\" are applicable
to each SCF type. Once the HE-VASP finds out the desired set of SCFs supported
by the network, it subscribes (a sub-set of) these SCFs using the Subscription
framework function. The HE-VASP (or the applications in its domain) can find
out the set of SCFs available to it (i.e. the SCFs that it can use).
## 6.3 Integrity Management functions
Integrity Management interfaces allow the framework to perform load
management, heartbeat management, fault management and OAM functions as
specified below.
### 6.3.1 Load Manager
The Load Manager function permits to manage the load on both the application
and network sides.
The framework should allow the load to be distributed across multiple machines
and across multiple component processes, according to a load balancing policy.
The separation of the load balancing mechanism and load balancing policy
ensures the flexibility of the load balancing functionality. The load
balancing policy identifies what load balancing rules the framework should
follow for the specific application. It might specify what action the
framework should take as the congestion level changes. For example, some real-
time critical applications will want to make sure continuous service is
maintained, below a given congestion level, at all costs, whereas other
applications will be satisfied with disconnecting and trying again later if
the congestion level rises. Clearly, the load balancing policy is related to
the QoS level to which the application is subscribed.
### 6.3.2 Fault Manager
The Fault Manager function is used by the application to inform the framework
of events which affect the integrity of the framework and SCFs, and to request
information about the integrity of the system.
### 6.3.3 Heartbeat Management
The Heartbeat Management function allows the initialization of a heartbeat
supervision of the client application. In case of SCF supervision, it is the
framework\'s responsibility to check the health status of the respective SCF.
Since the OSA APIs are inherently synchronous, the heartbeats themselves are
synchronous for efficiency reasons.
### 6.3.4 OAM
The OAM function is used to query the system date and time. The application
and the framework can synchronize the date and time to a certain extent.
Accurate time synchronization is outside the scope of the OSA APIs.
## 6.4 Registration of SCFs with the Framework
The Framework needs to know the Service Capability Features provided by the
SCSs, in order to make them available to applications. For this purpose
Service Capability Features have to be registered with the Framework, and they
need to be registered in such a way that applications can discover them.
### 6.4.1 Service Registration
The Service Registration interface provides the methods used for the
registration of SCFs with the Framework.
### 6.4.2 Service Factory
The Service Factory interface allows the Framework to get access to a manager
interface of a SCF. It is used, in order to return an SCF manager interface
reference to the application. Each SCF has a manager interface that is the
initial point of contact for the SCF.
# 7 Service Capability Features (SCFs)
SCFs are provided to the applications by Service Capability Servers to enable
access to network resources.
## 7.1 Call Control
The Call Control SCF supports stage 1 requirements related to CS call control,
IMS session control and call/session charging.
The Call Control SCF supports the following functionality:
1) management function for call/session-related issues, e.g. enable or disable
call/session-related event notifications.
2) call/session control, e.g. route, disconnect.
## 7.1.1 Mapping of OSA APIs in CS domain
In the CS domain the OSA Call Control SCF may be mapped to CAP and MAP
protocols.
## 7.1.2 Mapping of OSA APIs in IMS
OSA SCS is one of the three types of \"application servers\" communicating
with S-CSCF in the IMS (3GPP TS 23.228 [6]). OSA Application Server is
connected by OSA API to OSA Service Capability Server (SCS) that is connected
through ISC interface to S-CSCF and through Sh interface to HSS. ISC interface
is based on the use of SIP protocol; see 3GPP TS 23.218 [4]. The details and
functionality of the Sh interface are **For Further Study** in 3GPP TS 23.228
[6].
OSA functions for IMS session control are supported by the following entities:
  * The Serving-CSCF (S-CSCF), which performs session control services > for an originating or terminating party.
  * The Media Resource Function (MRF), which performs conference control > and media control functions for multiparty multimedia sessions.
Figure 7.1.2.1: Mapping of OSA IMS session control on the IMS
The stage 3 specification of OSA for IMS session control shall take into
account this distribution of responsibilities between the S-CSCF and the MRF,
by specifying specific OSA SCF(s) or interface(s) for the S-CSCF, and specific
OSA SCF(s) or interface(s) for the MRF. This is to permit clear mapping of OSA
on the corresponding entities\' functionality, as well as allowing
multivendorship.
IMS session control SCF(s) or interface(s) applicable to the S-CSCF shall be
mapped onto the IMS Service Control (ISC).
The MRF is either controlled by the OSA SCS by (1) using SIP 3rd party call
control via the S-CSCF or (2) using a direct interface to the MRF.
3GPP TS 22.127 [3] classifies IMS session control functions as follows:
  * session control requirements;
  * media control requirements;
  * information requirements.
IMS session control SCF(s) or interface(s) applicable to the S-CSCF shall
support session control and information requirements applicable to the
originating or terminating party of 2-party session.
These OSA SCF(s) or interface(s) and their implementation shall take into
account that the S-CSCF:
  * Is an entity that is dynamically associated to the user when she > registers to the IMS.
  * May behave as a SIP registrar, proxy server, and user agent.
  * May receive the request from a session party to initiate an ad-hoc > conference (to be associated to an MRF).
  * May generate CDRs.
IMS session control SCF(s) or interface(s) applicable to the MRF shall support
all session control, media control, and information requirements.
These OSA SCF(s) or interface(s) and their implementations shall take into
account that the MRF:
  * May support both ad-hoc and pre-arranged conferences.
  * Controls media stream resources associated to the conference.
  * Behaves as a SIP user agent with regard to each party of the > conference.
  * Supports conference booking and floor control.
  * Is divided into Media Resource Function Controller (MRFC) and Media > Resource Function Protocol (MRFP), which interface via an H.248 > fully compliant interface.
## 7.2 Data Session Control
The Data Session Control SCF supports stage 1 requirements related to PS call
control.
The Data Session Control SCF supports the following functionality:
1) management functions for data session related issues, e.g. enable or
disable data session-related event notifications.
2) session control, e.g. route, disconnect.
## 7.3 Mobility
The Mobility SCF addresses stage 1 requirements for user location and user
status based on network-related information.
The Mobility SCF provides terminal location information and general terminal
status monitoring. The following information is reported when requested
provided that the network is able to support the corresponding capability:
  * user whom the report concerns;
  * VLR number;
  * Cell Global Identification or Location Area Identification;
  * location number (network specific, refer to ITU-T Recommendation > Q.763 [10]);
  * geographical location (e.g. in terms of universal latitude and > longitude co-ordinates);
  * accuracy (value depending on local regulatory requirements and level > of support in serving/home networks; note that the accuracy of the > serving network might differ from that in the home environment);
  * age of location information (last known date/time made available in > GMT);
  * status of the user\'s terminal.
Connection of an external LCS client by means of OSA API to GMLC is shown in
3GPP TS 23.271 [9], figure 6.1.
An application uses the Mobility SCF to perform the following:
  * user location requests;
  * requests for starting (or stopping) the generation by the network of > periodic user location reports;
  * requests for starting (or stopping) the generation by the network of > user location reports based on location changes;
  * report of location information;
  * notification of location update.
The application can also for each user start/stop receipt of notifications and
modify the required accuracy by selecting another option from the network
provided options.
## 7.4 Terminal Capabilities
The Terminal Capabilities SCF provides applications information about the
terminal capabilities of the user. It shall be possible for an application to
request Terminal Capabilities as defined by MExE (MExE User Profile) in 3GPP
TS 22.101 [1]. The Terminal Capabilities are provided by a MExE compliant
terminal to the MExE Service Environment either on request or by the terminal
itself.
Terminal Capabilities are available only after a capability negotiation has
previously taken place between the user\'s MExE terminal and the MExE Service
environment as specified in 3GPP TS 22.101 [1].
NOTE: For 3GPP Release 5 only WAP and MExE devices can supply Terminal
Capabilities.
## 7.5 User Interaction
The User Interaction SCFs support stage 1 requirements for information
transfer.
There are two User Interaction SCFs:
  * Generic User Interaction: used by applications to interact with end > users.
  * Call User Interaction: used by applications to interact with end > users participating to a call.
## 7.6 Charging
The Charging SCF addresses stage 1 requirements for charging related to
service usage (and not call/session control).
This SCF permits an application to access subscriber accounts maintained by
the network and charge subscribers for service usage.
Provided, that these functions are supported by the underlying network an
application providing a service to the subscriber can use the Charging SCF to:
  * Check, if - for the service to be provided by the application - the > charge is covered by the subscribers account or credit limit.
  * Reserve - for the service to be provided by the application - a > charge in the subscriber\'s account, which can be deduced from the > account after service delivery.
  * Deduct an amount from the subscriber\'s account.
  * Release a reservation acquired earlier.
  * Add non-monetary units to a subscriber\'s account.
  * Deduct non-monetary units from a subscriber\'s account.
Reverse a completed charge transaction, e.g. after repudiation.
## 7.7 Account Management
The Account Management SCF addresses stage 1 requirements related to the
features to monitor subscriber\'s account:
  * retrieval of transaction history for a certain subscriber\'s > account;
  * query of the balance of the account of one or several subscriber\'s;
  * request of notifications on certain criteria for one or several > subscribers.
## 7.8 Presence
The Presence SCF addresses stage 1 requirements on presence related capability
functions.
OSA shall allow an application access to presence capabilities within the
network. Presence related information may be requested or supplied by an OSA
application and may include, but not be limited to presence information
pertaining to the presence service or user availability. Presence information,
i.e. a set of attributes characterizing current properties of a presentity, is
described in 3GPP TS 22.141 [5].
An OSA application shall be able:
  * To register as a watcher, to request a presentity\'s presence > information and to be notified of changes in the presence > information.
  * To register as a presentity, to publish presence information, to > retrieve watcher information and to manage related parameters > (e.g. access rules). Presence management may include the setting > of user preferences, the update of access rules, etc.
### 7.8.1 Mapping of OSA Presence APIs
The Presence OSA APIs can be mapped to reference points Peu and Pw of the
Presence Server.
Figure 7.8.1.1: Mapping of OSA Presence APIs
Reference points Peu (i.e. between a Presence User Agent and the Presence
Server) and Pw (i.e. between Watcher Applications and the Presence Server) are
described in 3GPP TS 23.141 [7].
## 7.9 Multi Media Messaging (MMM)
The Multi Media Messaging SCF addresses the stage 1 requirement for multimedia
messaging.
The Multi Media Messaging SCF allows applications to:
  * send and receive messages both within and outside the context of a > session (for session-based and single-shot messaging > respectively);
  * put messages in the mailbox for storage or for sending by the > messaging system (with a copy in the mailbox);
  * cancel a message previously sent or query the status of a message > previously sent;
  * manipulate folders and messages in the mailbox (e.g. copy, move, > delete);
  * list messages in the mailbox and retrieve complete messages, message > headers, message body or parts of the message body.
### 7.9.1 Mapping of OSA MM APIs
The Messaging SCF can interface to various messaging network elements or
contain those network elements. Examples of network elements are SMS-C, MMS-C,
WAP Push Proxy or an e-mail server. OSA Multi Media Messaging SCF does not
mandate what network protocols to use to interface to those network elements.
However, a typical example of the interface used to interface to MMS-C is MM7
(3GPP TS 23.140 [8]).
## 7.10 Policy Management
The Policy Management SCF addresses the stage 1 requirement for policy
management.
This SCF provides policy management and evaluation mechanisms. A standardized
policy language and policy evaluator can greatly ease the implementation of
SCFs by allowing operators to set operator specific policies in SCFs and to
change them dynamically in a uniform way.
The SCF contains APIs to create, delete, update, and view policies, and also
supports interactions between policies and entities using the Policy
Management SCF. The entity using the Policy Management SCF can specify its
interest in particular policy related events. The following capabilities are
provided through the Policy Management interfaces:
  * Publishing of policy events.
  * Subscription to policy events.
  * Generation of events.
  * Obtaining statistics associated with the use of policies.
  * Evaluating policies.
Provisioning of all policy related data.
# 8 Parlay X Web Services: OSA at a higher level of abstraction
## 8.1 General
The general architecture of a solution including Web Services and/or OSA links
in deployment allows a number of deployment configurations. These
configurations are derivatives of a basic architecture model, enabling a
variety of deployment options.
A typical Parlay X Web Services deployment model is shown in figure 8.1.1.
This model shows the publication of Parlay X Web Services through a registry,
making those Web Services available for discovery, and for applications to use
Web Services access methods to interact with the Gateway, where the Web
Service interfaces are implemented.
Figure 8.1.1: Parlay X Web Services deployment model
Interfaces to the Web Services Registry are drawn in figure 8.1.1 for
consistency with Web Service architectures, but they are not in the scope of
the Parlay X Web Services.
This architecture may be combined with existing OSA deployment configurations,
providing the overall architecture as illustrated in figure 8.1.2.
Figure 8.1.2: The overall Parlay X Web Services architecture
### 8.1.1 Deployment Scenario A: Web Services to OSA
This scenario addresses solutions that combine Web Services interfaces facing
the exterior of the network with OSA interfaces facing the interior of the
network.
Figure 8.1.1.1: Deployment Scenario A: Web Services to OSA
**Environment Description**
The Application will utilize Web Services to discover and interact with the
network, and will not have visibility to the OSA implementation behind the
Parlay X Web Services Gateway. The Parlay X Web Services Gateway attaches to
the OSA Gateway through an OSA interface. The information published to the Web
Services Registry provides the Application with the connection information
required to connect with the Parlay X Web Services Gateway.
### 8.1.2 Deployment Scenario B: Web Services to Network Element
This scenario addresses solutions that combine Web Services interfaces facing
the exterior of the network with network element specific interfaces facing
the interior of the network.
Figure 8.1.2.1: Deployment Scenario B: Web Services to Network Element
**Environment Description**
The Application will utilize Web Services to discover and interact with the
network, and will not have visibility to the implementation behind the Parlay
X Web Services Gateway. The Parlay X Web Services Gateway attaches to the
Network Element through an interface defined by the Network Element. These
interfaces (i.e. Element defined interface) are not in the scope of the
present document. The information published to the Web Services Registry
provides the Application with the connection information required to connect
with the Parlay X Web Services Gateway.
The next clauses describe the Web Services supported by this 3GPP release.
## 8.2 Third Party Call
This Web Service supports the functionality to create and manage a call
initiated by an application (third party call). Using the Third Party Call Web
Service, applications can invoke call handling functions without detailed
telecommunication knowledge. The functionality provided is:
  * Make a call which sets up a call between two addresses.
  * Get call information gives information about how the call progressed > in the network.
  * End call will cease the call.
  * Cancel Call Request allows the network to prevent call setup before > completion.
The third party application can suggest a charge against the receiving
subscriber\'s account.
## 8.3 Network-Initiated Third Party Call
These functions are for notification or even handling of calls initiated by a
subscriber in the network. A (third party) application can determine how the
call should be treated. The overall scope of this Web service is to provide
simple call control related functions to application developers. Using the
Network-Initiated Third Party Call Web Service, application developers can
apply simple logic to network-initiated calls without specific
telecommunications knowledge. The Web Services allow the application to handle
the following conditions occurring in the set-up of a call:
  * Destination busy.
  * Address is not Reachable.
  * Destination is not answering.
  * A specific number has been called by subscriber.
The third party application can suggest a charge against the subscriber\'s
account on which behalf these services were rendered.
## 8.4 SMS
The overall scope of this Web Service is to provide to applications the means
to handle SMS in a simple way. For receiving a message from the network, the
application uses notification mechanisms. Network-initiated messages are sent
to autonomous application-side web services. The provisioning of the
notification-related criteria may also be done offline. Services are specified
to enable an application to:
  * Send or schedule any SMS.
  * Send or schedule a logo embodied in an SMS.
  * Send or schedule a ring tone embodied in an SMS.
  * Cancel a scheduled SMS (Note: cancel only for scheduled SMS because > bulk messages will often be scheduled and often well in advance. > The business value in being able to cancel is thus greater than > for send SMS.)
  * Retrieve the delivery status of an SMS or scheduled SMS.
  * Request to be notified of received SMSs.
  * Request to be notified of delivery receipt of a sent SMS.
  * Retrieve SMS messages sent to an address.
For reasons of efficiency, SMSs, whether their payload is text, a logo or ring
tone, can be sent to groups of recipients. In order for such groups to be
reusable; a group with recipients is uniquely identified and addition/deletion
of group members is allowed.
The third party application can suggest a charge against the receiving
subscriber\'s account.
## 8.5 Multimedia Message
This is additional to the SMS web services and handles more general messaging
case. Multimedia Message services provide generic messaging features
(including SMS) to send and receive messages. For receiving a message from the
network the application uses notification mechanisms. Network-initiated
messages are sent to autonomous application‑side Web Services. The following
functions are supported:
  * Send or schedule a message to an address.
  * Cancel a scheduled message (Note: cancel only for scheduled message > because bulk messages will often be scheduled and often well in > advance. The business value in being able to cancel is thus > greater than for send message.)
  * Retrieve the delivery status of a message or scheduled message.
  * Retrieve by polling for received messages.
  * Retrieve message parts by URI references.
  * Retrieve whole messages as SOAP attachments.
  * Request to be notified of delivery receipt of a sent message.
  * Notification to the application that a message has been received for > a specific address.
For reasons of efficiency, MMSs can be sent to groups of recipients. In order
for such groups to be reusable; a group with recipients is uniquely identified
and addition/deletion of group members is allowed.
The third party application can suggest a charge against the receiving
subscriber\'s account.
## 8.6 Payment
The Payment Web Services support payment reservation, pre-paid payments, and
post-paid payments. They support charging of both volume and currency amounts,
a conversion function, and a settlement function in case of a financially
resolved dispute. The functions supported enable the application to:
  * Charge/refund an account by a currency amount.
  * Charge/refund an account by volume (e.g. minutes).
  * Calculate a currency amount from a volume for a specific account.
  * Reserve a currency amount on an account.
  * Charge a prior reservation to the account.
  * Release a reservation by returning to an account the amount > remaining in a reservation.
  * Reserve a volume amount of an account.
## 8.7 Account Management
The Parlay X Account Management supports account querying, direct recharging
and recharging through vouchers. The application can manage various aspects of
an account using the functionality to:
  * Return the currency balance on an account.
  * Request what date the credit on an account is due to expire.
  * Update the currency/account balance on an account.
  * Return the transaction history on an account.
## 8.8 Terminal Status
The Parlay X Terminal Status Web Service is used for getting terminal status
information. The functionality supported is simple:
  * Requests a subscriber\'s terminal\'s status subject to the > subscriber\'s policies.
  * Request to be notified of terminal status change.
For reasons of efficiency, Terminal status can be retrieved from groups of
subscribers. In order for such groups to be reusable; a group with recipients
is uniquely identified and addition/deletion of group members is allowed.
## 8.9 Terminal Location
The Parlay X Terminal Location Web Service is used for getting location
information, it does not require specific telecommunication skills, but some
knowledge of location co-ordinates is required. One service is specified to:
  * Request the location of one subscriber\'s terminal subject to > subscriber\'s privacy policies.
  * Request to be notified of terminal location change.
For reasons of efficiency, Terminal location can be retrieved from groups of
subscribers. In order for such groups to be reusable; a group with recipients
is uniquely identified and addition/deletion of group members is allowed.
## 8.10 Audio Call
The Parlay X Audio Call Web Service supports the creation of a call with
associated audio content that is used when the call is completed. The third
party application can suggest a charge against the receiving subscriber\'s
account. The function supported is:
  * Play audio, setting up a call and using provided audio content to > communicate with the callee.
  * Retrieval of status.
  * Application ability to end the call.
## 8.11 Call Handling
The Parlay X Call Handling Web Service enables call handling rules to be
provisioned, allowing third party applications to specify how to handle calls
for addresses without requiring the application to handle network
interactions, simplifying access to this capability for application
developers. The function supported is:
  * Provision rules for accepting, blocking, forwarding and answering > calls for an address.
  * Query rules associated with an address.
  * Remove rule processing for an address or group of addresses.
For reasons of efficiency, call handling rules can be provisioned for groups
of addresses. In order for such groups to be reusable; a group with recipients
is uniquely identified and addition/deletion of group members is allowed.
## 8.12 Multimedia Conferencing
The Multimedia Conferencing is a simple Web Service that allows the creation
of a multimedia conference and the dynamic management of the participants and
the media involved. The interface can be used by an application for creating a
multimedia conference call and for dynamically managing the participants and
the media involved in the call:
  * Create a conference without participants.
  * Query the conference status/ participants.
  * Add/delete a participant.
  * Add/delete media per participant.
  * Query participant status.
  * End the conference.
## 8.13 Address List Management
The Parlay X Address List Management provides two interfaces.
One interface allows for management of a group. This contains support for
creation and deletion of groups, querying what groups are available in a
specified domain and management of group information access rights.
The other interface allows for management of the members within a group. This
contains support for creation and deletion of group members, querying who are
the members of a group and creation and deletion of group attributes.
The Parlay X Address List Management service does not create group member
addresses, but assumes that these already exist.
## 8.14 Presence
The Parlay X Presence Web Service allows for presence information to be
obtained about one or more users and to register presence for the same. The
service supports three interfaces: a watcher interface for requesting and
subscribing presence data, a watcher notification interface in order to
receive presence events, and a presentity interface for supplying presence
data and managing subscriptions:
  * Requests used by the watcher to obtain presence data. After > subscripting to presence data, the watcher can select between a > polling mode and a notification mode for receiving the presence > data.
  * Requests offered by the application to receive presence > notifications.
  * Requests used to provision presence data and manage access to the > data by its watchers.
Support for groups of addresses is essential, e.g. when managing access to
presence data. In order for such groups to be reusable; a group with
recipients is uniquely identified and addition/deletion of group members is
allowed.
## 8.15 Message Broadcast
The Parlay X Message Broadcast Web Service allows for a text-based message to
be broadcasted to a designated area. Services are specified to enable an
application to:
  * Broadcast a message to a designated area with frequency and interval
  * Retrieve the delivery status of previous broadcast request.
  * Cancel the previous broadcast request.
  * Be notified when the delivery has been done or is impossible.
## 8.16 Geocoding
The Parlay X Geocoding Web Service allows for a third party (e.g. application)
to get a location address of terminal and group of terminals, the distance
from a terminal to a specific location address.
Services are specified to enable an application to:
  * Request the location address of a terminal number;
  * Request the location addresses of a group of terminals;
  * Request the distance of terminal from a specific address.
## 8.17 Application Driven QoS
Application Driven QoS (ADQ) is a service which enables applications to
dynamically change the quality of service (e.g. bandwidth) available on end
user network connections. Changes in QoS may be applied on either a temporary
basis (i.e. for a defined period of time), or as the default QoS to be applied
for a user each time they connect to the network.
Applications will govern the quality of service available to the end user by
requesting that pre-defined QoS Feature profiles are applied on the end user's
connection. It is the responsibility of the Service Provider to define these
QoS Features and share them beforehand with application providers, along with
a clear indication as to which of these can be used as temporary QoS Features
and which can be used to set the default QoS on an end user connection.
The web service is specified to allow an application to:
  * Change the default quality of service available on the end user's > connection,
  * Change the quality of service available on the end user's connection > on a temporary basis,
  * Register with the service to receive notifications about network > events that affect the quality of service on an end user's > connection,
  * Retrieve QoS transaction history and current quality of service > status on an end user connection.
## 8.18 Device Management
The Parlay X Device Management Web Service allows for a third party (e.g.
application) to get device capabilities and push setup to devices. The
functions supported are:
  * Device Capabilities
  * Device Change Notification
  * Device Configuration
## 8.19 Multimedia Streaming Control
The Parlay X Multimedia Streaming Control Web Service allows for a third party
(e.g. application) to get information on streaming requests and subsequently
control the media stream to the end user by starting, pausing and stopping it.
The API supports for simple charging information to be given together with the
streaming control.
## 8.20 Multimedia Multicast Session Management
The Parlay X Multimedia Multicast Control Web Service allows for a third party
(e.g. application) to control a multicast session, its members and multimedia
stream, and obtain channel presence information. The functions supported are:
  * create and delete multicast sessions and retrieve multicast session > information
  * invite users to join or leave a multicast session
  * request to be notified when users join or leave multicast sessions
## 8.21 Content Management
The Parlay X Content Management Web Service allows for a third party (e.g.
application) to upload content into the network and manage content in the
network.
Services are specified to enable an application to:
  * Submit content into the network.
  * Read and query the content description information that is published > or delivered in the network.
  * Modify and delete the content that is published or delivered in the > network.
  * Be notified when new content is uploaded, based on content > description keywords.
  * Be notified when own content is uploaded or deleted.
#