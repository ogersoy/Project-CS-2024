# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document specifies the UTRAN architecture for 3G Home NodeB (HNB).
It covers specification of the functions for UEs not supporting Closed
Subscriber Groups (CSG) and UEs supporting CSGs. It also covers HNB specific
requirements for O&M.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
  * References are either specific (identified by date of publication, > edition number, version number, etc.) or nonâ€‘specific.
  * For a specific reference, subsequent revisions do not apply.
  * For a non-specific reference, the latest version applies. In the > case of a reference to a 3GPP document (including a GSM document), > a non-specific reference implicitly refers to the latest version > of that document _in the same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 25.468: \"UTRAN Iuh Interface RUA signalling\".
[3] 3GPP TS 25.469: \" UTRAN Iuh Interface HNBAP signalling \".
[4] 3GPP TS 25.401: \"UTRAN overall description\".
[5] 3GPP TS 25.410: \"UTRAN Iu Interface: general aspects and principles\".
[6] IETF RFC 4960 (September 2007): \"Stream Control Transmission Protocol\".
[7] Broadband Forum TR-069 Amendment 2, _CPE WAN Management Protocol_ ,
Broadband Forum Technical Report, 2007.
[8] 3GPP TS 25.444: \"Iuh data transport and transport signalling\".
[9] 3GPP TS 25.413: \"UTRAN Iu Interface RANAP Signalling\".
[10] 3GPP TS 23.060: \"General Packet Radio Service (GPRS); Service
Description; Stage 2\".
[11] 3GPP TS 22.220: \"Service requirements for Home NodeBs and Home
eNodeBs\".
[12] 3GPP TS 25.419: \"UTRAN Iu Interface: Service Area Broadcast Protocol
SABP\".
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
TR 21.905 [1] and the following apply. A term defined in the present document
takes precedence over the definition of the same term, if any, in TR 21.905
[1].
**HNB, Home NodeB, 3G Home NodeB:** as defined in TS 22.220 [11]. These terms,
their derivations and abbreviations are used synonymously throughout this
document.
**CSG HNB** : A HNB that is a CSG Cell broadcasting a CSG Indicator and a
specific CSG identity.
**Non CSG HNB** : A HNB that does not broadcast either a CSG Indicator or a
CSG Identity.
**Hybrid HNB** : A HNB that is a hybrid Cell not broadcasting a CSG Indicator
but broadcasting a CSG identity.
**Membership Verification:** The process that checks whether a UE is a member
or non-member of a hybrid cell
**Access Control:** The process that checks whether a UE is allowed to access
and to be granted services in a closed cell
**CSG ID Validation:** The process that checks whether the CSG ID sent via
relocation messages is the same as the one supported by the target RAN
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1] and the following apply. An abbreviation defined in the present document
takes precedence over the definition of the same abbreviation, if any, in TR
21.905 [1].
CSG Closed Subscriber Group
DSL Digital Subcriber Line
DSL-GW DSL GateWayGNSS Global Navigation Satellite System
GPS Global Positioning System
HMS Home NodeB Management System
HNB 3G Home NodeB
HNB-GW 3G HNB Gateway
HW Hard Ware
IP Internet Protocol
LAC Local Area Code
RAC Routing Area Code
RGW Residential GateWay
SAC Service Area Code
SeGW Security GateWay
SW SoftWare
# 4 Overall architecture
## 4.1 General
The overall UMTS architecture and UTRAN architectures are described in 25.401
[4] and 25.410 [5]. For clarity and ease of understanding, at appropriate
places references to TR-069 [7] and associated methods are described briefly
although they are beyond the scope of this specification.
The reference model shown in Figure 4.1-1 below contains the network elements
that make up the HNB access network. There is one-to-many relationship between
HNB-GW and HNB(s).
Figure 4.1-1. Iuh reference model.
The HNB GW serves the purpose of a RNC presenting itself to the CN as a
concentrator of HNB connections. The Iu interface between the CN and the HNB-
GW serves the same purpose as the interface between the CN and a RNC. One HNB
serves only one cell.
NOTE: The Security gateway is a logically separated entity and may be
implemented either as a separate physical element or integrated into, for
example, a HNB-GW.
The HNB access network includes the functional entities as shown in Figure
4.1-1 and detailed below.
### 4.1.1 HNB Management System (HMS)
\- Based on TR-069 family of standards [7]
\- Facilitates HNB-GW discovery
\- Provisions configuration data to the HNB
\- Performs Location verification of HNB and assigns appropriate serving
elements (HMS, Security Gateway and HNB-GW).
### 4.1.2 Security Gateway (SeGW)
\- Terminates Secure tunnelling for TR-069 [7] as well as Iuh
\- Authentication of HNB
\- Provides the HNB with access to the HMS and HNB-GW
### 4.1.3 HNB Gateway (HNB-GW)
\- Terminates Iuh from HNB. Appears as an RNC to the existing Core network
using existing Iu interface.
\- Supports HNB registration and UE registration over Iuh.
### 4.1.4 HNB
\- Customer Premise Equipment that offers the Uu Interface to the UE
\- Provides RAN connectivity using the Iuh interface
\- Supports RNC like functions, the details of which are captured in table
4.2-1 below
\- Supports HNB registration and UE registration over Iuh.
## 4.2 Functional split
The UTRAN functions in the HNB are supported by RANAP, whereas the HNB
specific functions are supported by the Home NodeB Application Protocol
(HNBAP) between the HNB and the HNB GW. The HNB GW provides a concentration
function for the control plane and may provide a concentration function for
the user plane.
This sub-clause defines the functional split between the core network and the
UMTS radio access network. The functional split is shown in table 4.2-1 and
4.2-2
Table 4.2-1. Functional split for UTRAN function in the HNB access.
+------------------------------------------+-----+-------------+----+ | Function | HNB | HNB GW | CN | +------------------------------------------+-----+-------------+----+ | RAB management functions: | | | | +------------------------------------------+-----+-------------+----+ | RAB establishment, modification and | X | X ^Note1^ | X | | release | | | | +------------------------------------------+-----+-------------+----+ | RAB characteristics mapping I~u~ | X | X | | | transmission bearers | | | | +------------------------------------------+-----+-------------+----+ | RAB characteristics mapping U~u~ bearers | X | | | +------------------------------------------+-----+-------------+----+ | RAB queuing, pre-emption and priority | X | | X | +------------------------------------------+-----+-------------+----+ | Radio Resource Management functions: | | | | +------------------------------------------+-----+-------------+----+ | Radio Resource admission control | X | | | +------------------------------------------+-----+-------------+----+ | Broadcast Information | X | X ^Note\ 2^ | X | +------------------------------------------+-----+-------------+----+ | Iu link Management functions: | | | | +------------------------------------------+-----+-------------+----+ | Iu signalling link management | X | X | X | +------------------------------------------+-----+-------------+----+ | ATM VC management | | X | X | +------------------------------------------+-----+-------------+----+ | AAL2 establish and release | | X | X | +------------------------------------------+-----+-------------+----+ | AAL5 management | | X | X | +------------------------------------------+-----+-------------+----+ | GTP-U Tunnels management | X | X | X | +------------------------------------------+-----+-------------+----+ | TCP Management | | X | X | +------------------------------------------+-----+-------------+----+ | Buffer Management | X | X | | +------------------------------------------+-----+-------------+----+ | Iu U-plane (RNL) Management: | | | | +------------------------------------------+-----+-------------+----+ | Iu U-plane frame protocol management | | | X | +------------------------------------------+-----+-------------+----+ | Iu U-plane frame protocol initialization | X | | | +------------------------------------------+-----+-------------+----+ | Mobility management functions: | | | | +------------------------------------------+-----+-------------+----+ | Location information reporting | X | | X | +------------------------------------------+-----+-------------+----+ | Handover and Relocation | | | | +------------------------------------------+-----+-------------+----+ | Inter RNC hard HO, Iur not used or not | X | X | X | | available | | | | +------------------------------------------+-----+-------------+----+ | Serving RNS Relocation (intra/inter MSC) | X | X | X | +------------------------------------------+-----+-------------+----+ | Inter system hard HO (UMTS-GSM) | X | X | X | +------------------------------------------+-----+-------------+----+ | Inter system Change (UMTS-GSM) | X | | X | +------------------------------------------+-----+-------------+----+ | Paging Triggering | X | | X | +------------------------------------------+-----+-------------+----+ | Paging Optimization | | X | | +------------------------------------------+-----+-------------+----+ | GERAN System Information Retrieval | X | | X | +------------------------------------------+-----+-------------+----+ | Security Functions: | | | | +------------------------------------------+-----+-------------+----+ | Data confidentiality | | | | +------------------------------------------+-----+-------------+----+ | Radio interface ciphering | X | | | +------------------------------------------+-----+-------------+----+ | Ciphering key management | | | X | +------------------------------------------+-----+-------------+----+ | User identity confidentiality | X | | X | +------------------------------------------+-----+-------------+----+ | Data integrity | | | | +------------------------------------------+-----+-------------+----+ | Integrity checking | X | | | +------------------------------------------+-----+-------------+----+ | Integrity key management | | | X | +------------------------------------------+-----+-------------+----+ | Service and Network Access functions: | | | | +------------------------------------------+-----+-------------+----+ | CN Signalling data | X | | X | +------------------------------------------+-----+-------------+----+ | Data Volume Reporting | X | | | +------------------------------------------+-----+-------------+----+ | UE Tracing | X | | X | +------------------------------------------+-----+-------------+----+ | Location reporting | X | | X | +------------------------------------------+-----+-------------+----+ | Iu Co-ordination functions: | | | | +------------------------------------------+-----+-------------+----+ | Paging co-ordination | X | | X | +------------------------------------------+-----+-------------+----+ | NAS Node Selection Function | | X | | +------------------------------------------+-----+-------------+----+ | MOCN Rerouting Function | | X | X | +------------------------------------------+-----+-------------+----+ | Note 1: This function could be needed | | | | | for TNL address translation in the HNB | | | | | GW when there is no user plane direct | | | | | transport connection between HNB and CN | | | | | | | | | | Note 2: HNB GW is able to perform the | | | | | filtering of SABP messages i.e. | | | | | determines from the SAI list to which | | | | | HNB the SABP message needs to be sent | | | | | and then distributes the SABP messages | | | | | to the appropriate HNBs. This is an | | | | | optional function in HNB GW. | | | | +------------------------------------------+-----+-------------+----+ | | | | | +------------------------------------------+-----+-------------+----+
Table 4.2-2. Functional split for HNB function in the HNB access.
+------------------------------------------+----------+--------+----+ | Function | HNB | HNB GW | CN | +------------------------------------------+----------+--------+----+ | HNB Registration ^Note\ 1^ | | | | +------------------------------------------+----------+--------+----+ | HNB Registration Function | X | X | | +------------------------------------------+----------+--------+----+ | HNB-GW Discovery Function | X | | | +------------------------------------------+----------+--------+----+ | HNB de-registration Function | X | X | | +------------------------------------------+----------+--------+----+ | | | | | +------------------------------------------+----------+--------+----+ | UE Registration for HNB ^Note\ 1^ | | | | +------------------------------------------+----------+--------+----+ | UE Registration Function for HNB | X | X | | +------------------------------------------+----------+--------+----+ | UE de-registration Function for HNB | X | X | | +------------------------------------------+----------+--------+----+ | | | | | +------------------------------------------+----------+--------+----+ | Iuh user-plane Management functions | | | | +------------------------------------------+----------+--------+----+ | Iuh User plane transport bearer handling | X | X | | +------------------------------------------+----------+--------+----+ | Functions for multiplexing CS user plane | X | X | | | on the Uplink | | | | +------------------------------------------+----------+--------+----+ | | | | | +------------------------------------------+----------+--------+----+ | **Enhanced Interference Management** | | | | +------------------------------------------+----------+--------+----+ | Mitigation of Interference from HNB to | X | | | | Macro | | | | +------------------------------------------+----------+--------+----+ | | | | | +------------------------------------------+----------+--------+----+ | **UE Access Control / Membership | | | | | Verification** | | | | +------------------------------------------+----------+--------+----+ | IDLE mode | X^Note2^ | X | X | +------------------------------------------+----------+--------+----+ | Connected mode (inbound relocation to | | X | X | | HNB cells) | | | | +------------------------------------------+----------+--------+----+ | CSG ID validation | X | X | | +------------------------------------------+----------+--------+----+ | CSG Subscription Expiry | X | X | X | +------------------------------------------+----------+--------+----+ | Note 1: Protocol support for this group | | | | | of functions is provided by the HNB | | | | | Application Protocol. | | | | | | | | | | Note 2: Access control or membership | | | | | verification at the HNB are optional. | | | | +------------------------------------------+----------+--------+----+
# 5 UTRAN functions for HNB access
## 5.1 UE Registration
### 5.1.1 General
**The UE Registration Function for HNB provides means for the HNB to convey UE
identification data to the HNB-GW in order to perform access control or
membership verification for the UE in the HNB GW. The UE Registration also
informs the HNB-GW of the specific HNB where the UE is located.**
The following sections illustrate the case when the HNB registers a specific
UE with the HNB-GW. The registration is triggered when the UE attempts to
access the HNB via an initial NAS message (e.g.., Location Updating Request)
and there is no context in the HNB allocated for that UE.
### 5.1.2 UE Registration: case of non CSG UEs or non CSG HNBs
Figure 5.1.2-1. UE Registration for non CSG UEs or non CSG HNBs.
1\. Upon camping on the HNB, the UE initiates an initial NAS procedure (e.g.
LU Procedure) by establishing an RRC connection with the HNB. UE identity, UE
capabilities and Establishment Cause, are reported to the HNB as part of the
RRC Connection establishment procedure.
2\. The UE then transmits a RRC Initial Direct Transfer message carrying the
initial NAS message (e.g. Location Updating Request message) with some form of
UE identity.
3\. The HNB checks the UE capabilities provided in step 1, and if these
indicate that CSG is not supported, or the HNB itself does not support CSG,
and if the identity of the UE (provided during RRC Connection Establishment)
is unknown at the HNB being accessed, i.e. no Context id exists for the UE,
the HNB initiates UE registration towards the HNB-GW (step 5-7). Before
starting the UE Registration procedure, the HNB triggers the Identification
procedure (step 3) asking the UE for its IMSI, unless that identity has been
provided during the RRC Connection Establishment or optionally if it is an
emergency call. If the HNB has a context id for the UE, the UE registration
procedure is not performed nor is the Identification procedure.
4\. The HNB may optionally perform access control or membership verification
based on the provided IMSI and the provided Allowed IMSI list. If the UE
requests emergency services it shall always be admitted to the cell.
5\. The HNB attempts to register the UE on the HNB-GW by transmitting the UE
REGISTER REQUEST. The message contains at a minimum:
**\- UE Identity** : a unique identity for the UE provided in step 1 or 3.
\- **UE Capabilities** : derived from that provided in step 1.
  * **Registration Cause** : the indication about a UE registration for an emergency call.
NOTE: The UE Identity provided in the HNBAP UE REGISTER REQUEST message is
unauthenticated.
6\. The HNB-GW checks the UE capabilities and the Registration Cause. If the
UE capabilities indicate that CSG is not supported or if the HNB does not
support CSG, the HNB-GW shall perform access control or membership
verification for the particular UE attempting to utilize the specific HNB. If
the UE requests emergency services it shall always be admitted to the cell.
7\. If the HNB-GW accepts the UE registration attempt it shall allocate a
context-id for the UE and respond with an HNBAP UE REGISTER ACCEPT message,
including the context-id, to the HNB. For non-CSG UEs, the HNB-GW may also
include the CSG Membership Status in the HNBAP UE REGISTER ACCEPT message. If
the HNB-GW chooses not to accept the incoming UE registration request then the
HNB-GW shall respond with an HNBAP UE REGISTER REJECT message.
8\. The HNB then sends an RUA CONNECT message containing the RANAP Initial UE
message.
9\. The reception of the RUA CONNECT message at the HNB-GW triggers the setup
of an SCCP connection by the HNB-GW towards the CN. The HNB-GW then forwards
the RANAP Initial UE Message to the CN.
10\. The CN responds with an SCCP Connection Confirm message.
10a. The HNB-GW shall additionally utilize a CN assisted method if available
(e.g. using IMSI provided in the COMMON ID message), to alleviate the security
risks associated with spoofing of IMSI and can subsequently trigger a UE
deregistration upon detection of such an event.
11\. The UE continues with the NAS procedure (e.g. Location Updating
procedure) towards the CN, via the HNB and the HNB-GW.
### 5.1.3 UE Registration: case of CSG UEs and CSG or Hybrid HNBs
This call flow assumes that the Core Network is able to perform access control
on the basis of Closed Subscriber Groups.
Figure 5.1.3-1. UE Registration for CSG UEs and CSG or Hybrid HNBs.
1\. Upon camping on the HNB, the UE initiates an initial NAS procedure (e.g.
LU Procedure) by establishing an RRC connection with the HNB. UE identity and
UE capabilities are reported to the HNB as part of the RRC Connection
establishment procedure.
2\. The UE then transmits a RRC Initial Direct Transfer message carrying the
initial NAS message (e.g. Location Updating Request message) with some form of
identity (e.g. IMSI or TMSI, ..).
3\. The HNB checks the UE capabilities provided in step 1, and if these
indicate that CSG is supported and if the identity of the UE (provided during
RRC Connection Establishment) is unknown at the HNB being accessed, i.e. no
Context id exist for the UE, the HNB initiates UE registration towards the
HNB-GW (steps 4-6). If the HNB has a context id for the UE, UE registration
procedure is not performed. No Identification procedure is triggered,
independent of the identity reported by the UE during the RRC Connection
Establishment.
4\. The HNB attempts to register the UE on the HNB-GW by transmitting the UE
REGISTER REQUEST. The message contains:
**\- UE Identity** : a unique identifier for the UE and provided in step 1.
\- **UE capabilities:** derived from that provided in step 1.
  * **Registration Cause** : the indication about a UE registration for an emergency call.
NOTE: The UE IMSI/TMSI provided in the UE REGISTER message is unauthenticated.
5\. The HNB-GW checks UE capabilities and if these indicate that CSG is
supported and if the HNB supports CSG, the HNB-GW may accept the UE
registration and allocate a context-id for the UE.
6\. The HNB-GW responds with a UE REGISTER ACCEPT message back to the HNB
including a context-id allocated to the UE
7\. The HNB then sends a RUA CONNECT message containing the RANAP Initial UE
message. The RANAP Initial UE message may contain the Cell Access Mode.
8\. The reception of the RUA CONNECT message at the HNB-GW triggers the setup
of an SCCP connection by the HNB-GW towards the CN. The HNB-GW then forwards
the Initial UE Message including the CSG id of the HNB.
9\. The CN responds with an SCCP Connection Confirm message.
10\. The CN may optionally perform Mobility Management procedures, e.g.
Authentication procedure.
11\. The CN performs access control (in case of CSG cells) or membership
verification (in case of Hybrid cells) of the UE.
12\. After being granted access the UE then continues with the NAS procedure
(e.g. Location Updating procedure) towards the CN, via the HNB and the HNB-GW.
During such procedures the CN may send to the HNB the UE membership status for
the accessed cell in the COMMON ID message.
### 5.1.4 HNB-GW triggered UE Registration
The following section describes the mechanism, which is used to manage UE
registration and associated context IDs for the scenarios based on HNB-GW
triggered setup of UE-associated Signaling Connection.
In this mechanism, the RUA Connect message is used for transporting the first
RANAP message resulting in network triggered setup of UE-associated Signaling
Connection (e.g. RANAP Relocation Request).
{width="4.209722222222222in" height="2.3847222222222224in"}
Figure 5.4.1-1. HNB-GW Triggered UE Registration
The above call flow assumes that the HNB-GW receives a trigger for inbound
relocation for a UE (e.g. RANAP Relocation Request message from the CN) as
shown in step 0.
1\. The HNB-GW receives a RANAP message and determines the target HNB
2\. The HNB-GW sends the RANAP message encapsulated in the RUA Connect message
to the target HNB. The RUA Connect Message may contain the _CSG Membership
Status_ IE
3\. The HNB-GW and the target HNB perform an implicit registration (HNB-GW
establishes a UE specific Context Identifier to be used between the HNB and
the HNB-GW, i.e. either re-use the existing Context Identifier if already
present for the UE or otherwise allocate a new one) for the incoming UE
session. The HNB also allocates the appropriate resource for handling the
request in the RANAP message.
4\. The RANAP reply message from the HNB to the HNB-GW is encapsulated in the
RUA _Direct Transfer_ message.
### 5.1.5 UE Registration: case of Open Access HNBs
Figure 5.1.3-1. UE Registration to open access HNBs.
1\. Upon camping on the HNB, the UE initiates an initial NAS procedure (e.g.
LU Procedure) by establishing an RRC connection with the HNB. UE identity and
UE capabilities are reported to the HNB as part of the RRC Connection
establishment procedure.
2\. The UE then transmits a RRC Initial Direct Transfer message carrying the
initial NAS message (e.g. Location Updating Request message) with some form of
identity (e.g. IMSI or TMSI).
3\. If the identity of the UE (provided during RRC Connection Establishment)
is unknown at the HNB being accessed, i.e. no Context id exist for the UE, the
HNB initiates UE registration towards the HNB-GW (steps 4-6). If the HNB has a
context id for the UE, UE registration procedure is not performed. No
Identification procedure is triggered, independent of the identity reported by
the UE during the RRC Connection Establishment.
4\. The HNB attempts to register the UE on the HNB-GW by transmitting the UE
REGISTER REQUEST. The message contains:
**\- UE Identity** : a unique identifier for the UE and provided in step 1.
\- **UE capabilities:** derived from that provided in step 1.
  * **Registration Cause** : the indication about a UE registration for an emergency call.
NOTE: The UE IMSI/TMSI provided in the UE REGISTER message is unauthenticated.
5\. The HNB-GW may accept the UE registration and allocate a context-id for
the UE.
6\. The HNB-GW responds with a UE REGISTER ACCEPT message back to the HNB
including a context-id allocated to the UE
7\. The HNB then sends a RUA CONNECT message containing the RANAP Initial UE
message.
8\. The reception of the RUA CONNECT message at the HNB-GW triggers the setup
of an SCCP connection by the HNB-GW towards the CN. The HNB-GW then forwards
the Initial UE Message to the Core Network.
9\. The CN responds with an SCCP Connection Confirm message.
10\. The CN may optionally perform Mobility Management procedures, e.g.
Authentication procedure.
11\. After being granted access the UE then continues with the NAS procedure
(e.g. Location Updating procedure) towards the CN, via the HNB and the HNB-GW.
## 5.2 HNB Registration
### 5.2.1 General
The following section illustrates the case when the HNB registers with the
HNB-GW. The HNB registration procedure serves the following purposes:
\- It informs the HNB-GW that a HNB is now available at a particular IP
address.
### 5.2.2 HNB Registration procedure
Figure 5.2.2-1. HNB Registration procedure.
1\. HNB initialization is performed to obtain HNB configuration from the HNB
Management System (HMS). Similarly, HNB-GW discovery is performed to obtain
the initial serving HNB-GW information.
**2\. The HNB establishes a secure tunnel to the SeGW of the serving HNB-GW.**
**NOTE:** This step may be omitted if the secure tunnel happens to be the same
tunnel that is already established to contact the HMS.
3\. The HNB sets up an SCTP transport session to a well-defined port on the
serving HNB-GW.
4\. The HNB then attempts to register with the serving HNB-GW using an HNB
REGISTER REQUEST message. The message contains:
a. **HNB Location Information** : The HNB provides location information via
use of one or more of the following mechanisms:
i. detected macro-cell coverage information (e.g. GERAN or UTRAN cell
information)
ii. geographical co-ordinates (e.g. via use of GPS, etc)
iii. Internet connectivity information (e.g. IP address), provided, the
resulting location information is at least as accurate as location
determination based on macro-cell coverage information, whether or not there
is macro cell-coverage available at the location of the HNB (e.g. as
determined by point i above).
b. **HNB Identity** : the HNB has a globally unique and permanent identity.
c. **HNB Operating Parameters** : Such as the selected LAC, RAC, SAC, PLMN Id,
Cell Id, etc.
d. **HNB operating mode** (optional): HNB CSG-id or access mode (open, closed
or hybrid).
5a. The HNB-GW may use the information from the HNB REGISTER REQUEST message
to check whether the HNB registration can be accepted (e.g. to check whether a
particular HNB is allowed to operate in a given location, etc). If the HNB-GW
accepts the registration attempt it shall respond with a HNB REGISTER ACCEPT
message. If the HNB-GW has capability to de-multiplex, the HNB-GW may include
a mux port in the HNB REGISTER ACCEPT message.
5b. Alternatively, the HNB-GW may reject the registration request (e.g. due to
network congestion, blacklisted HNB, unauthorized HNB location, etc). In this
case, the HNB-GW shall respond with an HNB REGISTER REJECT indicating the
reject cause.
NOTE: The HNB shall start broadcasting only after successful registration with
the HNB-GW.
## 5.3 HNB-GW Discovery Function
### 5.3.1 General
The HNB-GW Discovery Function provides the means to determine the address of
the Serving HNB-GW for a particular HNB. The HNB will use the Serving HNB GW
address to register with the Serving HNB-GW.
## 5.4 HNB de-registration Function
### 5.4.1 General
The HNB de-registration Function provides the means to terminate the HNB
operation. The HNB de-registration can be initiated by either the HNB or the
HNB-GW.
## 5.5 Iuh Disconnect
### 5.5.1 General
The following section illustrates the scenario where an UE-associated
signaling connection is released across the Iuh. In this scenario the HNB is
responsible for initiating the release of the UE-associated signaling
connection via the RUA disconnect message. The HNB-GW is then responsible for
co-ordinating the release of the UE-associated signaling connection with the
corresponding Iu connection, which will be triggered by the CN.
### 5.5.2 Iuh Disconnect procedure
Figure 5.5.2-1: Iuh Disconnect Procedure
1\. Establish connection between UE and network. Procedure in Section 5.1.
2\. CN sends a RANAP Release Iu connection command message to the HNB-GW
3\. HNB-GW forwards this message to the relevant HNB
4\. HNB triggers the release of the RRC connection to the UE. In this case a
single Iu connection had been established for the UE
5\. HNB sends a Disconnect message to the HNB-GW to indicate that this is the
end of this particular UE-associated signaling connection and includes the
RANAP Release Iu Connection Complete message.
6\. HNB-GW forwards the RANAP message onto the CN.
7\. CN triggers the release of the associated SCCP connection
8\. HNB-GW confirms that the SCCP connection is released
9\. Optionally the HNB can de-register the UE context from the HNB-GW.
## 5.6 Paging Optimization Function
### 5.6.1 General
The paging optimization function provides the means to decrease the impact of
a paging load over Iuh (for example, via the use of knowledge about the UE
Registration or its CSG Id List in the PAGING message).
## 5.7 HNB to HNB Mobility
### 5.7.1 General
The following sub-sections describe the mechanism for handling the intra HNB-
GW intra CSG mobility signaling.
### 5.7.2 Connected mode mobility from one HNB to another HNB (Intra HNB-GW,
Intra CSG)
## 5.8 CS user plane multiplexing
If the HNB-GW had signalled on the HNB REGISTER ACCEPT a mux port and if the
HNB has capability to support CS user plane multiplexing, the HNB may send the
multiplexed packets to the mux port at the HNB-GW.
The HNB, for the same UE, shall not send multiplexed packets over multiple
ports. i.e, once the HNB chooses to multiplex CS user plane packets for a
given UE on the uplink, it shall send those multiplexed packets only to the
assigned mux port on the HNB-GW. For those UEs whose CS user plane packets are
not being multiplexed, the HNB shall send packets only to the port number
assigned via RAB assignment request.
When the HNB-GW receives multiplexed packet, it shall de-multiplex before
sending them to the CN.
## 5.9 Inbound Mobility to HNB
### 5.9.1 General
The following sub-sections describe the mechanism for handling the inbound
mobility to HNB. This mechanism is also applicable to the handover between
HNBs under the same HNB-GW.
### 5.9.2 Connected Mode Inbound Mobility for CSG UEs to CSG HNBs or to Hybrid
Cells
The following figure and accompanying steps describe the inbound mobility
procedure for Rel-9 CSG UEs, when the Source RAN supplies to the Core Network
a CSG id associated with the target HNB. The following is assumed:
  * UE is Rel-9 CSG capable and SIB-reading capable.
  * UE is able to provide in the RRC measurement report the cell identity and the CSG-Id (if requested) of the target HNB.
  * The Source RAN is able to determine the Cell Access Mode of the target HNB.
NOTE: It is assumed that the network knows whether the target cell is a hybrid
cell, e.g. by PSC range for hybrid cells.
  * Core network is Release-9 CSG capable and is able to perform access control or membership verification for relocated CSG UE.
  * The HNB-GW is able to route the incoming relocation to the appropriate target HNB using the target cell identity provided in RANAP RELOCATION REQUEST (i.e. Target Cell Id is unique for a HNB in a given HNB-GW)
Figure 5.9.2-1: Connected Mode inbound mobility for CSG UEs to CSG HNB or
Hybrid Cell
1\. The UE is triggered to send an RRC Measurement Report by the rules set by
the UTRAN. The Measurement Report includes the Cell Identity, CSG id (if
requested) of the target HNB.
2\. The Source RAN node makes a decision to relocate the UE session.
3\. The source RAN triggers relocation of the UE session by sending the RANAP
RELOCATION REQUIRED message to the Core Network. The target RNC-Id, CSG id,
Target Cell Id and -- for relocation to a hybrid cell -- Cell Access Mode
information along with relocation information are included by the source RAN
in the RANAP RELOCATION REQUIRED message.
4\. If the target cell is a CSG HNB, the Core Network performs access control
on the basis of the CSG ID associated with the target cell, as reported to the
Core Network (TS 25.413 [9]). Otherwise (if the target is a Hybrid Cell), the
Core Network performs membership verification and fills the _CSG Membership
Status_ IE in step 5 to reflect the UE's membership to the target cell. If the
Core Network determines that this relocation is for an emergency call then it
will allow inbound mobility to CSG cells even if the access control fails.
5\. The HNB-GW receives a RANAP RELOCATION REQUEST message from the Core
Network, including the CSG id, Target Cell Id and -- for relocation to a
hybrid cell -- CSG Membership Status.
6\. The steps for HNB-GW Triggered UE Registration are executed between the
HNB-GW and the HNB. The HNB-GW/HNB validates the CSG id received in the RANAP
RELOCATION REQUEST message. If the HNB determines that this relocation is for
an emergency call then it will accept only emergency call RABs and fail the
others.
7\. The remainder of the relocation procedure continues normally as documented
in TS 25.413 [9], TS 23.060 [10]
Note: Steps 2 to 7, as appropriate, are repeated for the second CN domain when
present with the following exceptions. The relocation of the 2^nd^ domain
shall not trigger an additional registration. The 2^nd^ RANAP Relocation
Request shall be carried as RUA Direct Transfer. There is only one Context Id
assigned to the UE regardless of the number of domains relocated from the
source RAN.
### 5.9.3 Connected Mode Inbound Mobility for non-CSG UEs to CSG HNBs or to
Hybrid Cells
The following figure and accomanying steps describe the inbound mobility
procedure for non-CSG UEs, when the Source RAN is able to identify the target
HNB. The following is assumed:
  * UE is non-CSG capable not able to read SIBs for CSG inbound mobility purposes.
  * The HNB-GW is able to perform access control or membership verification for the UE.
  * The HNB-GW is able to route the incoming relocation to the appropriate target HNB.
Figure 5.9.3-1: Connected Mode inbound mobility for non-CSG UEs to CSG HNB or
Hybrid Cell
1\. The UE is triggered to send an RRC Measurement Report by the rules set by
the UTRAN.
2\. The Source RAN node makes a decision to relocate the UE session.
3\. The source RAN triggers relocation of the UE session by sending the RANAP
RELOCATION REQUIRED message to the Core Network. The target RNC-Id and Target
Cell Id are included by the source RAN in the RANAP RELOCATION REQUIRED
message. The source RAN shall not include target CSG ID and the Cell Access
Mode in the RELOCATION REQUIRED message.
4\. The Core Network shall not perform any access control or membership
verification for the UE and it shall not include target CSG ID and CSG
Membership Status in the RELOCATION REQUEST message.
5\. The HNB-GW receives a RANAP RELOCATION REQUEST message not including the
target CSG ID and the CSG Membership Status. The HNB GW shall perform access
control (in case of CSG cells) or membership verification (in case of Hybrid
cells) for the UE. If the relocation is towards a hybrid cell the HNB GW may
include the CSG Membership Status in the RUA Connect message. If the HNB-GW
determines that this relocation is for an emergency call then it will allow
inbound mobility to CSG cells even if the access control fails.
6\. The steps for HNB-GW Triggered UE Registration are executed between the
HNB-GW and the HNB. If the HNB determines that this relocation is for an
emergency call then it will accept only emergency call RABs and ensure that
the others are not continued in the target cell.
7\. The remainder of the relocation procedure continues normally as documented
in TS 25.413 [9], TS 23.060 [10]
Note: Steps 2 to 7, as appropriate, are repeated for the second CN domain when
present with the following exceptions. The relocation of the 2^nd^ domain
shall not trigger an additional registration. The 2^nd^ RANAP Relocation
Request shall be carried as RUA Direct Transfer. There is only one Context Id
assigned to the UE regardless of the number of domains relocated from the
source RAN.
### 5.9.4 Connected Mode Inbound Mobility to open access HNBs
The following figure and accompanying steps describe the inbound mobility
procedure when the Source RAN is able to identify the target HNB. The
following is assumed:
  * The HNB-GW is able to route the incoming relocation to the appropriate target HNB.
Figure 5.9.4-1: Connected Mode inbound mobility to open access HNBs
1\. The UE is triggered to send an RRC Measurement Report by the rules set by
the UTRAN.
2\. The Source RAN node makes a decision to relocate the UE session.
3\. The source RAN triggers relocation of the UE session by sending the RANAP
RELOCATION REQUIRED message to the Core Network. The target RNC-Id and Target
Cell Id are included by the source RAN in the RANAP RELOCATION REQUIRED
message. The source RAN shall not include target CSG ID and the Cell Access
Mode in the RELOCATION REQUIRED message.
4\. The Core Network shall not perform any access control or membership
verification for the UE and it shall not include target CSG ID and CSG
Membership Status in the RELOCATION REQUEST message.
5\. The HNB-GW receives a RANAP RELOCATION REQUEST message not including the
target CSG ID and the CSG Membership Status.
6\. The steps for HNB-GW Triggered UE Registration are executed between the
HNB-GW and the HNB.
7\. The remainder of the relocation procedure continues normally as documented
in TS 25.413 [9], TS 23.060 [10]
Note: Steps 2 to 7, as appropriate, are repeated for the second CN domain when
present with the following exceptions. The relocation of the 2^nd^ domain
shall not trigger an additional registration. The 2^nd^ RANAP Relocation
Request shall be carried as RUA Direct Transfer. There is only one Context Id
assigned to the UE regardless of the number of domains relocated from the
source RAN.
## 5.10 CSG Subscription Expiry
Case of CSG UEs:
If the CN has signalled CSG membership update to the HNB:
\- If the UE is served by a CSG cell, and is no longer a member of the CSG
cell, the HNB may initiate a handover to another cell. If the UE is not handed
over, or handover is not initiated, the HNB should request the release of Iu
connection (s) with an appropriate cause. The CN initiates Iu release after a
configurable time, if the UE is not handed over or released by the CSG cell TS
23.060 [10].
\- If the UE is served by a Hybrid cell, the HNB may use the new membership
information to perform differentiated treatment for member and non-member UEs.
Case of non-CSG UEs:
If the HNB GW has signalled CSG membership update to the HNB:
\- If the UE is served by a CSG cell, and is no longer a member of the CSG
cell, the HNB may initiate a handover to another cell. If the UE is not handed
over, or handover is not initiated, the HNB should request the release of Iu
connection (s) with an appropriate cause. The HNB-GW shall initiate UE De-
Registration after a configurable time, if the UE is not handed over or
released by the serving HNB.
\- If the UE is served by a Hybrid cell, the HNB may use the new membership
information to perform differentiated treatment for member and non-member UEs.
# 6 Requirements for O&M
## 6.1 O&M for HNB
### 6.1.1 Provisioning Procedure for HNB
Figure 6.1.1-1. Provisioning procedure for HNB.
1\. A secure tunnel is established from the HNB to the Security gateway.
2\. Location verification shall be performed by the HMS based on information
sent by the HNB (e.g. macro neighbour cell scans, global navigational
satellite system type of information etc.). HMS determines the serving
elements and provides the HNB GW, HMS and Security Gateway to the HNB. The HMS
also provisions configuration parameters to the HNB only after successful
location verification in the HMS.
NOTE: Steps 3 & 4 are shown only for completeness. Security Gateway and HMS
are shown to highlight the general architecture.
NOTE: In the event information required for verifying location are not
available (for example, no macro neighbour cells, no GNSS, no DSL line ID etc.
available), HNB GW discovery may be based on specific operator and/or
regulatory policies.
### 6.1.2 Location Verification
#### 6.1.2.1 General
During location verification, the HNB reports its location information to the
HMS. The HMS in turn examines the provided information and verifies the HNB's
location. There are 3 possible types of information for this purpose:
1\. Macrocell Information
2\. GNSS location information
3\. Broadband connection information, provided that the resulting location
information is at least as accurate as location determination based on macro-
cell coverage information, whether or not there is macro-cell coverage
available at the location of the HNB (e.g. as determined by point 1. above).
NOTE: Not all of this information is mandatory. In fact, the type of reported
information is based on factors such as the physical environment in which the
HNB is installed and/or possible variations in the HNB's HW and SW
implementation.
#### 6.1.2.2 Macro-cell Information
##### 6.1.2.2.1 General
The HNB is expected to have a radio environment measurement capability. This
includes capturing the following type of information from the surrounding
environment.
a) UTRAN cell information
\- RF level information
\- Broadcast information
b) GSM cell information
\- RF level information
\- Broadcast information
##### 6.1.2.2.2 UTRAN Cell Information
The information in the following table is reported by the HNB to the HMS for
each UTRAN cell detected.
Table 6.1.2.2.2.-1. UTRAN Cell Information.
* * *
Information Description / Note Presence 3GPP Reference  
RF information UARFCNDL UARFCN (DL) M 25.104, sec.5.4 32.642 sec. 6.3.11
CPICHRSCP RSCP of CPICH M  
PSC Primary Scrambling Code M 32.642 sec. 6.3.11 Broadcast information PLMN
Type Â« GSM-MAP Â» or Â« ANSI-41 Â» M 25.331, sec.10.3.1.12 MCC Mobile Country
Code M 24.008 32.642 sec. 6.3.10 MNC Mobile Network Code M 24.008 32.642 sec.
6.3.10 LAC Location Area Code M 24.008, sec.10.5.1.3 32.642 sec. 6.3.10 RAC
Routing Area Code M 24.008, sec.10.5.1.12.3 25.413, sec.9.2.3.7 32.642 sec.
6.3.10 CellID Cell ID M 25.331, sec.10.3.2.2 CSG Cell Info \ O Applicable to Rel.8 compliant cell only.
* * *
##### 6.1.2.2.3 GSM Cell Information
The information in the following table is reported by the HNB to the HMS for
each GSM cell detected.
Table 6.1.2.2.3. GSM Cell Information.
* * *
Information Description / Note Presence 3GPP Reference  
RF information ARFCN Channel number M 32.652 sec. 6.3.5 BCCHRSSI RSSI of the
BCCH carrier. M 32.652 sec. 6.3.5 BSIC Base Station ID Code M 32.652 sec.
6.3.5 Broadcast Information MCC Mobile Country Code M 32.652 sec. 6.3.5 MNC
Mobile Network Code M 32.652 sec. 6.3.5 LAC Location Area Code M 32.652 sec.
6.3.5 RAC Routing Area Code M 32.652 sec. 6.3.5 CellID Cell ID M 32.652 sec.
6.3.5
* * *
#### 6.1.2.3 GNSS Location Information
This information consists of, at minimum, latitude and longitude detected by
the GNSS receiver (e.g. GPS receiver), if the HNB implementation includes this
functionality.
#### 6.1.2.4 Broadband Connection Information
This information consists of the information associated with the broadband
connection (e.g. DSL) the HNB is connected with: 1) public IP address assigned
to the RGW (e.g. DSL-GW/router), and 2) line identifier to which the RGW is
connected with (e.g. DSL line ID) as seen on the broadband service provider.
These are applicable only when this information is available to the HNB, and
only when the resulting location information is at least as accurate as
location determination based on macro-cell coverage information, whether or
not there is macro-cell coverage available at the location of the HNB (e.g. as
determined by clause 6.1.2.2 above).
### 6.1.3 HNB-GW Discovery
During the HNB-GW Discovery procedure, the HMS provides the HNB with 3
identities as shown in the following table. The information may be either IP
address or FQDN to be resolved by DNS.
Table 6.1.3. HNB-GW Discovery Information.
* * *
Parameter Description / Note Presence 3GPP Reference Serving HMS ID One or
more IDs may be provided M  
Serving SeGW ID One or more IDs may be provided M  
Serving HNB-GW ID One or more IDs may be provided M
* * *
### 6.1.4 HNB Provisioning
#### 6.1.4.1 General
During the HNB Provisioning procedure, the HMS transfers the HNB configuration
information to the HNB. This includes 3 types of parameters:
1\. CN level parameters
2\. RAN level parameters
3\. RF level parameters
NOTE: The HNB may have auto-configuration capabilities, such that the HMS
sends a list/range of values to the HNB, which selects (and returns to HMS) a
single value, also based on the information collected measuring the radio
environment. The HMS may also provide control parameters of the auto-
configuration process.
#### 6.1.4.2 CN Level Parameters
Table 6.1.4.2. CN Level Parameters.
+-----------------+-----------------+------------+-----------------+ | Parameter | Description / | Presence | 3GPP Reference | | | Note | | | +-----------------+-----------------+------------+-----------------+ | PLMN Type | "GSM-MAP" or | M | 25.331, | | | "ANSI-41" | | sec.10.3.1.12 | +-----------------+-----------------+------------+-----------------+ | MCC | Mobile Country | M | 24.008\ | | | Code | | 32.642 sec. | | | | | 6.3.8 | +-----------------+-----------------+------------+-----------------+ | MNC | Mobile Network | M | 24.008\ | | | Code | | 32.642 sec. | | | | | 6.3.8 | +-----------------+-----------------+------------+-----------------+ | LAC | Location Area | M (Note 1) | 24.008, | | | Code (one or | | sec.10.5.1.3\ | | | more LACs may | | 32.642 sec. | | | be provided) | | 6.3.9 | +-----------------+-----------------+------------+-----------------+ | SAC | Service Area | M | 25.413, | | | Code | | sec.9.2.3.9\ | | | | | 32.642 sec. | | | | | 6.3.9 | +-----------------+-----------------+------------+-----------------+ | T3212 | Periodic LAU | M | 24.008, | | | timer (CS | | sec.10.5.1.12.2 | | | domain) | | | +-----------------+-----------------+------------+-----------------+ | ATT | Attach-detach | M | 24.008, | | | allowed (CS | | sec.10.5.1.12.2 | | | domain) | | | +-----------------+-----------------+------------+-----------------+ | RAC | Routing area | M (Note 1) | 24.008, | | | code (PS | | s | | | domain) (one or | | ec.10.5.1.12.3\ | | | more RACs may | | 25.413, | | | be provided) | | sec.9.2.3.7\ | | | | | 32.642 sec. | | | | | 6.3.9 | +-----------------+-----------------+------------+-----------------+ | NMO | Network Mode of | M | 24.008, | | | Operation (Gs | | sec.10.5.1.12.3 | | | i/f) | | | +-----------------+-----------------+------------+-----------------+ | Equivalent PLMN | List of one or | O (Note 2) | 24.008, | | ID | more equivalent | | sec.10.5.1.13 | | | PLMN ID (MCC + | | | | | MNC) | | | +-----------------+-----------------+------------+-----------------+ | Allowed IMSI | For access | O (Note 3) | 24.008, | | list | control or | | sec.10.5.1.4 | | | membership | | | | | verification | | | | | purposes. | | | +-----------------+-----------------+------------+-----------------+ | CSG Cell Info | CSG Capability | M | Applicable to | | | Indication, | | Rel.8 compliant | | | | | cell only. | | | CSG Id, in case | | | | | the Cell is CSG | | | | | capable | | | | | | | | | | \ | | | +-----------------+-----------------+------------+-----------------+ | HNB Location | Location | O | 25.413, | | Information | information | | sec.9.2.3.11 | | | (Geographical | | | | | coordinates, | | | | | Uncertainty | | | | | code) | | | +-----------------+-----------------+------------+-----------------+ | SAI for | Service Area | M | 25.419, sec. | | broadcast | for broadcast | | 9.2.11 | +-----------------+-----------------+------------+-----------------+ | NOTE 1: May be | | | | | a list/range of | | | | | values in case | | | | | the HNB has | | | | | aut | | | | | o-configuration | | | | | capabilities. | | | | | | | | | | NOTE 2: This | | | | | information is | | | | | ope | | | | | rator-dependent | | | | | based on its | | | | | circumstance. | | | | | | | | | | NOTE 3: ACL is | | | | | an optional | | | | | function at | | | | | HNB. This | | | | | information is | | | | | provided if | | | | | this function | | | | | is enabled in | | | | | the HNB. | | | | +-----------------+-----------------+------------+-----------------+
#### 6.1.4.3 RAN Level Parameters
Table 6.1.4.3-1. RAN Level Parameters.
+-------------+-------------+-------------+-------------+-------------+ | Parameter | Description | Presence | 3GPP | | | | | | Reference | | +-------------+-------------+-------------+-------------+-------------+ | RNCID for | RNC ID used | M | 32.642 sec. | | | HNB | by HNB | | 6.3.8 | | +-------------+-------------+-------------+-------------+-------------+ | Cell ID | 28-bit | M | 25.331, | | | | "Cell ID" | | s | | | | in SIB3 | | ec.10.3.2.2 | | +-------------+-------------+-------------+-------------+-------------+ | HSPA | HSflag | Whether | O | 32.642-820\ | | related | | HSDPA/HSUPA | | 32.642 sec. | | | | is used or | | 6.3.9 | | | | not | | | +-------------+-------------+-------------+-------------+-------------+ | HCS related | UseOfHCS | | M | 25.331, | | | | | | sec | | | HCSPrio | | | .10.3.7.47, | | | | | | 10.3.7.12 | | | QHCS | | | | | | | | | 32.642 sec. | | | | | | 6.3.9 | +-------------+-------------+-------------+-------------+-------------+ | Cell | Quality | CPICH Ec/N0 | O (Note*1) | 25.331, | | selection / | measure | or RSCP | | se | | reselection | | | | c.10.3.2.3, | | related | QqualMin | if Ec/N0 is | | 10.3.2.4 | | | | used | | | | | Qqua | | | 32.642 sec. | | | lMin-offset | if RSCP is | | 6.3.9 | | | | used | | | | | QrxlevMin | | | 25.304 | | | | | | | | | Qrxle | | | | | | vMin-offset | | | | | | | | | | | | S | | | | | | intrasearch | | | | | | | | | | | | S | | | | | | intersearch | | | | | | | | | | | | SsearchRAT | | | | | | | | | | | | SsearchHCS | | | | | | | | | | | | Tr | | | | | | eselections | | | | | | | | | | | | UET | | | | | | xPwrMaxRACH | | | | | | | | | | | | QHyst1 | | | | +-------------+-------------+-------------+-------------+-------------+ | Intra Freq | Filter | Filter | O (Note*1) | 25.331 | | Measurement | coefficient | coefficient | | sec | | Related | | | | .10.3.7.38, | | | Measurement | CPICH | | 10.3.7.39 | | | quantity | Ec/No, | | | | | for freq | CPICH RSCP, | | | | | quality | or pathloss | | | | | estimate | | | | | | | "x" in 1x | | | | | Hysteresis | includes | | | | | for event | applicable | | | | | 1x | events from | | | | | | 1A to 1J | | | | | Threshold | | | | | | for event | | | | | | 1x | | | | | | | | | | | | Ti | | | | | | metoTrigger | | | | | | for event | | | | | | 1x | | | | | | | | | | | | Weighting | | | | | | factor for | | | | | | event 1x | | | | | | | | | | | | Reporting | | | | | | Range | | | | | | | | | | | | Triggering | | | | | | Condition | | | | +-------------+-------------+-------------+-------------+-------------+ | Inter-Freq | Filter | Filter | O (Note*1) | 25.331 | | Measurement | coefficient | coefficient | | sec | | Related | | | | .10.3.7.18, | | | Measurement | CPICH | | 10.3.7.19 | | | quantity | Ec/No, | | | | | for freq | CPICH RSCP | | | | | quality | | | | | | estimate | "x" in 2x | | | | | | includes | | | | | Hysteresis | applicable | | | | | for event | events from | | | | | 2x | 2A to 2F | | | | | | | | | | | Threshold | | | | | | for event | | | | | | 2x | | | | | | | | | | | | Ti | | | | | | metoTrigger | | | | | | for event | | | | | | 2x | | | | | | | | | | | | Weighting | | | | | | factor for | | | | | | event 2x | | | | +-------------+-------------+-------------+-------------+-------------+ | Inter-RAT | Filter | Filter | O (Note*1) | 25.331 | | Measurement | coefficient | coefficient | | sec | | Related | | | | .10.3.7.29, | | | BSIC | "required" | | 10.3.7.30 | | | v | / "not | | | | | erification | required" | | | | | required | | | | | | | "x" in 3x | | | | | Hysteresis | includes | | | | | for event | applicable | | | | | 3x | events from | | | | | | 3A to 3D | | | | | Threshold | | | | | | for event | | | | | | 3x | | | | | | | | | | | | Ti | | | | | | metoTrigger | | | | | | for event | | | | | | 3x | | | | | | | | | | | | Weighting | | | | | | factor for | | | | | | event 3x | | | | +-------------+-------------+-------------+-------------+-------------+ | RRC related | N30x, N31x | RRC | O (Note*1) | 25.331, | | | | constants | | sec | | | T30x, T31x, | | | .10.3.3.43, | | | T320 | RRC timers | | 10.3.3.44 | +-------------+-------------+-------------+-------------+-------------+ | Neighbour | RNCID | Defined for | O (Note*2) | 32.642 sec. | | list (UTRA | | each | | 6.3.10 | | Intra-Freq | C-Id | intra-freq | | | | cell info | | cells | | 25.401 sec. | | list) | LAC | | | 6.1 | | | | C-Id is | | | | | RAC | either 12 | | 25.413 sec. | | | | or 16 bits | | 9.2.1.28 | | | PSC | depending | | | | | | on RNCID | | | | | | length. | | | +-------------+-------------+-------------+-------------+-------------+ | Neighbour | RNCID | Defined for | O (Note*2) | 32.642 sec. | | list (UTRA | | each | | 6.3.10 | | Inter-Freq | C-Id | inter-freq | | | | cell info | | cells | | 25.401 sec. | | list) | LAC | | | 6.1 | | | | C-Id is | | | | | RAC | either 12 | | 25.413 sec. | | | | or 16 bits | | 9.2.1.28 | | | UARFCN (DL) | depending | | | | | | on RNCID | | | | | PSC | length | | | +-------------+-------------+-------------+-------------+-------------+ | Neighbour | CelID | Defined for | O (Note*2) | 32.652 sec. | | list (GERAN | | each | | 6.3.5 | | cell info | BSIC | inter-RAT | | | | list) | | cells | | | | | Ba | (assume GSM | | | | | ndIndicator | cell only). | | | | | | | | | | | BCCHARFCN | | | | +-------------+-------------+-------------+-------------+-------------+ | Note (*1): | | | | | | Marked as | | | | | | optional | | | | | | based on | | | | | | the | | | | | | operator | | | | | | preference | | | | | | on the | | | | | | extent of | | | | | | p | | | | | | rovisioning | | | | | | that the | | | | | | HMS | | | | | | performs to | | | | | | the HNB vs. | | | | | | the level | | | | | | of autonomy | | | | | | that HNB | | | | | | has for | | | | | | auto-con | | | | | | figuration. | | | | | | In case | | | | | | this IE is | | | | | | absent, | | | | | | default | | | | | | value is | | | | | | assumed | | | | | | (additional | | | | | | implication | | | | | | is that HNB | | | | | | has a set | | | | | | of default | | | | | | parameter | | | | | | values). | | | | | | | | | | | | Note (*2): | | | | | | Marked as | | | | | | optional | | | | | | due to | | | | | | several | | | | | | im | | | | | | plications: | | | | | | 1) there | | | | | | may be no | | | | | | suitable | | | | | | neighbour | | | | | | cell | | | | | | available | | | | | | based on | | | | | | the RF | | | | | | scanning | | | | | | procedure | | | | | | described | | | | | | earlier, 2) | | | | | | based on | | | | | | operator | | | | | | deployment | | | | | | policy | | | | | | (e.g. | | | | | | dedicated | | | | | | RF channel | | | | | | for HNB | | | | | | layer vs. | | | | | | macro | | | | | | layer), and | | | | | | 3) operator | | | | | | preference | | | | | | on the | | | | | | extent of | | | | | | p | | | | | | rovisioning | | | | | | that the | | | | | | HMS | | | | | | performs to | | | | | | the HNB vs. | | | | | | the level | | | | | | of autonomy | | | | | | that HNB | | | | | | has for | | | | | | auto-con | | | | | | figuration. | | | | | | Regarding | | | | | | 3) above, | | | | | | this may | | | | | | include | | | | | | c | | | | | | apabilities | | | | | | such as the | | | | | | HMS to add | | | | | | or remove | | | | | | neighbour | | | | | | cells | | | | | | initially | | | | | | detected by | | | | | | the HNB | | | | | | during the | | | | | | radio | | | | | | environment | | | | | | scanning | | | | | | process, | | | | | | and the HNB | | | | | | to extend | | | | | | the | | | | | | received | | | | | | Neighbour | | | | | | list based | | | | | | on | | | | | | auto-co | | | | | | nfiguration | | | | | | ca | | | | | | pabilities. | | | | | +-------------+-------------+-------------+-------------+-------------+
#### 6.1.4.4 RF Level Parameters
Table 6.1.4.4. RF Level Parameters.
+------------------+------------------+----------+------------------+ | Parameter | Description / | Presence | 3GPP Reference | | | Note | | | +------------------+------------------+----------+------------------+ | UARFCN (DL) | Frequency | O\ | 25.101, sec.5.4, | | | channel number | (note 1) | | | | (one or more | | 25.104, sec.5.4, | | | UARFCNs may be | | | | | provided) | | 32.642, | | | | | sec.6.3.11 | +------------------+------------------+----------+------------------+ | PSC | Primary | O\ | 32.642, | | | scrambling code | (note 1) | sec.6.3.11 | | | (one or more | | | | | PSCs may be | | | | | provided) | | | +------------------+------------------+----------+------------------+ | MaxHNBTxPower | Maximum allowed | O\ | 25.104, sec.6.2, | | | Tx power of the | (note 1) | | | | HNB. | | 32.642, | | | | | sec.6.3.9 | +------------------+------------------+----------+------------------+ | MaxULTxPower | The parameter | O\ | 25.101, sec.6.2, | | | defines the | (note 1) | | | | maximum | | 32.642, | | | transmission | | sec.6.3.9 | | | power level a UE | | | | | can use on | | | | | PRACH. | | | +------------------+------------------+----------+------------------+ | P-CPICHPower | Transmission | O\ | 32.642, | | | power of Primary | (note 1) | sec.6.3.11 | | | CPICH (DL | | | | | config). This | | | | | may be either a | | | | | specific value | | | | | or a range (min | | | | | / max) of | | | | | values. | | | +------------------+------------------+----------+------------------+ | P-SCHPower | Primary SCH | O\ | 32.642, | | | power offset (DL | (note 1) | sec.6.3.11 | | | config) | | | +------------------+------------------+----------+------------------+ | S-SCHPower | Secondary SCH | O\ | 32.642, | | | power offset (DL | (note 1) | sec.6.3.11 | | | config) | | | +------------------+------------------+----------+------------------+ | BCHPower | BCH power offset | O\ | 32.642, | | | (DL config) | (note 1) | sec.6.3.11 | +------------------+------------------+----------+------------------+ | AICHPower | AICH power | O\ | 25.331, | | | offset (DL | (note 1) | sec.10.3.6.3, | | | config, BCCH | | | | | info) | | 32.642, | | | | | sec.6.3.11 | +------------------+------------------+----------+------------------+ | PICHPower | PICH power | O\ | 25.331, | | | offset (DL | (note 1) | sec.10.3.6.50, | | | config, BCCH | | | | | info) | | 32.642, | | | | | sec.6.3.9 | +------------------+------------------+----------+------------------+ | PCHPower | PCH power offset | O\ | 32.642, | | | (DL config, BCCH | (note 1) | sec.6.3.9 | | | info) | | | +------------------+------------------+----------+------------------+ | FACHPower | FACH power | O\ | 32.642, | | | offset (DL | (note 1) | sec.6.3.9 | | | config, BCCH | | | | | info) | | | +------------------+------------------+----------+------------------+ | NOTE 1: Marked | | | | | as optional | | | | | based on the | | | | | operator | | | | | preference on | | | | | the extent of | | | | | provisioning | | | | | that the HMS | | | | | performs to the | | | | | HNB vs. the | | | | | level of | | | | | autonomy that | | | | | HNB has for | | | | | aut | | | | | o-configuration. | | | | | In case this IE | | | | | is absent, it is | | | | | assumed that the | | | | | HNB will derive | | | | | the suitable | | | | | value based on | | | | | its | | | | | au | | | | | to-configuration | | | | | capability. In | | | | | case this IE is | | | | | a list/range of | | | | | values, the HNB | | | | | will choose a | | | | | single value | | | | | based on its | | | | | au | | | | | to-configuration | | | | | capability. | | | | | UARFCN UL may be | | | | | automatically | | | | | determined by | | | | | the HNB upon | | | | | UARFCN DL | | | | | (basing on | | | | | standard duplex | | | | | configuration | | | | | and | | | | | country-specific | | | | | spectrum | | | | | allocation). | | | | +------------------+------------------+----------+------------------+
## 6.2 O&M for HNB GW
No requirements have been identified.
# 7 Iuh interface protocol structure
## 7.1 General
Figure 7.2-1 shows the Control Plane and the User Plane protocol structures
over the Iuh interface. For the control plane, the HNBAP protocol provides the
signalling service between the HNB and the HNB-GW required to fulfil the
functions described in TS 25.469 [3].
RUA provides the signalling service between the HNB and the HNB-GW that is
required to fulfil the functions described in TS 25.468 [2].
The payload protocol identifier (PPI) field in SCTP (IETF RFC 4960 [6]) is set
to the value 19 assigned by IANA for use with the RUA protocol. In addition,
the value 20 is assigned for the PPI for HNBAP. The value 31 is assigned for
the PPI for SABP.The multiplexing protocol as specified in TS 25.444 [8]
provides the means to multiplex CS user plane on the uplink.
The destination port number field in SCTP (IETF RFC 4960 [6]) is set to the
value 29169 assigned by IANA for setup of the common SCTP association in
HNBAP, RUA and SABP.
## 7.2 Iuh
Figure 7.2-1 shows the protocol structure for Iuh, following the structure
described in TS 25.410 [5].
Figure 7.2-1. I~uh~--Interface Protocol Stack.
8 Enhanced Interference Management
8.1 General
There is a type of interference which may be considered: 1) Interference from
HNB to Macro.
Scenarios are listed in Table 8.1.
Table 8.1. Interference scenarios.
+----------+------------+----------+------------------------------------------------+ | Scenario | Aggressor | Victim | Type of interference | +----------+------------+----------+------------------------------------------------+ | 1 | HNBUE (UL) | Macro NB | Interference from HNB to Macro | | | | | | | | | | *applicable to co-channel deployment scenario | +----------+------------+----------+------------------------------------------------+ | 2 | HNB (DL) | Macro UE | | +----------+------------+----------+------------------------------------------------+
8.2 Mitigation of interference from HNB to Macro
8.2.1 Interference from HNB UE(UL) to Macro NB
The scenario involves:-
1\. Adaptively limiting the HNB UE's maximum UL Tx Power in connected mode
possibly using HNB UE measurement and calculating the path loss between HNB UE
and Macro NB.
8.2.2 Interference from HNB(DL) to Macro UE
The scenario involves:-
1\. Redirecting unauthorized UE to another carrier possibly based on uplink
access attempts by unauthorised UE.
2\. Adjusting HNB's DL CPICH Tx Power adaptively either temporarily or over
long term possibly based on uplink access attempts by unauthorised UE.
#