# Foreword
This Technical Report has been produced by the 3^rd^ Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document contains the study on Telepresence using IP Multimedia
(IM) Core Network (CN) subsystem based on the Session Initiation Protocol
(SIP), Session Description Protocol (SDP) and other protocols of controlling
multiple streams for Telepresence based on service requirements.
The study aims, within the defined CT1 work areas, at:
\- analysing IMS session procedures and signalling between the UE and core
network for Telepresence creation, establishment with media negotiation and
configuration, session modification and termination, with the incorporation of
new protocol (i.e. CLUE as under developing in IETF);
\- investigating impacts for presentation in Telepresence and floor control in
IMS;
\- analysing similar impacts to allow legacy devices interworked with
Telepresence using IMS; and
\- studying potential enhancements and extensions to facilitate these
procedures.
This study will identify specification areas, if any, that lie within the
scope of other 3GPP working groups, and seek input from those 3GPP working
groups to define that related specification work.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 24.147: \"Conferencing using the IP Multimedia (IM) Core Network
(CN) subsystem; Stage 3\".
[3] 3GPP TS 24.229: \"Internet Protocol (IP) multimedia call control protocol
based on Session Initiation Protocol (SIP) and Session Description Protocol
(SDP); Stage 3\".
[4] 3GPP TS 23.228: \"Technical Specification Group Services and System
Aspects; IP Multimedia Subsystem (IMS); Stage 2\".
[5] IETF RFC 3261 (June 2002): \"SIP: Session Initiation Protocol\".
[6] IETF RFC 4566 (July 2006): \"SDP: Session Description Protocol\".
[7] IETF RFC 4582 (November 2006): \"The Binary Floor Control Protocol
(BFCP)\".
[8] IETF RFC 4583 (November 2006): \"Session Description Protocol (SDP) Format
for Binary Floor Control Protocol (BFCP) Streams\".
[9] draft-ietf-clue-framework-14 (February 2014): \"Framework for Telepresence
Multi-Stream\".
Editor\'s note: The above document cannot be formally referenced until it is
published as an RFC.
[10] 3GPP TS 29.162: \"Interworking between the IM CN subsystem and IP
networks\".
[11] 3GPP TS 29.163: \"Interworking between the IP Multimedia (IM) Core
Network (CN) subsystem and Circuit Switched (CS) networks\".
[12] 3GPP TS 29.165: \"Inter-IMS Network to Network Interface (NNI)\".
[13] 3GPP TS 29.414: \"Core network Nb data transport and transport
signalling\".
[14] IETF RFC 5761 (April 2010): \"Multiplexing RTP Data and Control Packets
on a Single Port\".
[15] IETF RFC 3264 (June 2002): \"An Offer/Answer Model with Session
Description Protocol (SDP)\".
[16] draft-ietf-clue-signaling-00 (April 2014): \"CLUE Signaling\".
Editor\'s note: The above document cannot be formally referenced until it is
published as an RFC.
[17] draft-ietf-clue-datachannel-00 (March 2014): \"CLUE Protocol Data
Channel\".
Editor\'s note: The above document cannot be formally referenced until it is
published as an RFC.
[18] draft-ietf-mmusic-sctp-sdp-06 (February 2014): \"Stream Control
Transmission Protocol (SCTP) --Based Media Transport in the Session
Description Protocol (SDP)\".
Editor\'s note: The above document cannot be formally referenced until it is
published as an RFC.
[19] 3GPP TS 24.103: \" Telepresence using the IP Multimedia (IM) Core Network
(CN) Subsystem (IMS); Stage 3\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
3GPP TR 21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any, in
3GPP TR 21.905 [1].
_**Telepresence:** A conference with interactive audio-visual communications
experience between remote locations, where the users enjoy a strong sense of
realism and presence between all participants by optimizing a variety of
attributes such as audio and video quality, eye contact, body language,
spatial audio, coordinated environments and natural image size._
_**CLUE channel:** A reliable, bidirectional, transport mechanism used to
convey CLUE messages. A CLUE channel consists of one SCTP stream in each
direction over a DTLS/SCTP session._
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in 3GPP TR
21.905 [1] and the following apply.\ An abbreviation defined in the present
document takes precedence over the definition of the same abbreviation, if
any, in 3GPP TR 21.905 [1].
BFCP Binary Floor Control Protocol
CLUE ControLling mUltiple streams for tElepresence
DCEP Data Channel Establishment Protocol
DTLS Datagram Transport Layer Security
IMS IP Multimedia CN subsystem
SCTP Stream Control Transmission Protocol
SDP Session Description Protocol
SIP Session Initiation Protocol
TCP Transmission Control Protocol
TP TelePresence
UDP User Datagram Protocol
# 4 Overview of telepresence using IMS
## 4.1 General
As an architectural framework for provision of IP multimedia services, IMS is
capable of delivering various service functionalities and easing to integrate
with new kinds of application, such as telepresence. Compared to traditional
video conference, telepresence is a conferencing system with multiple cameras,
microphones and screens that has the characteristics of gaze direction, eye
contact, spatial audio and scaling images to true size, which in all to
achieve the immersive \"being there\" experience for participants.
IMS is using the IETF defined session control mechanism with the inherited
capability to negotiate multiple multimedia streams in one single session,
which could be applied as a basis for supporting telepresence in IMS that
always has the necessity of producing and rendering various media streams with
high qualities among the involved parties, even in the point to point case.
Based on the existing procedures as specified for IMS conferencing in 3GPP TS
24.147 [2], this technical report introduces updates and enhancements for IMS
by incorporating the new tools as defined by IETF CLUE WG (see more from:
https://datatracker.ietf.org/wg/clue/charter/) that achieves media
advertisement and configuration to facilitate controlling multiple spatially
related media streams in an IMS conference supporting telepresence. The main
foreseeable challenges are capability negotiation for new tools, interactions
of the adopted protocols, and interoperability and interconnection with the
traditional IMS conferencing users.
This technical report provides the procedures to satisfy the above
requirements by evaluating the impacts and additions to support telepresence
using IMS.
## 4.2 Telepresence enhanced IMS characteristics
### 4.2.1 General
In order to provide a \"being there\" experience for conversational audio and
video session between remote locations, where the users enjoy a strong sense
of realism and presence a variety of information needs to be co-ordinated
between local and remote participants such as:
\- audio and video spatial information;
\- information to enable eye contact, gaze awareness, body language and
natural image size; and
\- information to coordinate the environments;
This section discusses the information that may be provided by one to another
to achieve a telepresence experience.
### 4.2.2 Spatial information
A spatial relationship is representative of the arrangement in space of two or
more objects in the same room, in contrast to retain in time or other
relationships. It involves mainly both video and audio sources in telepresence
conferencing system.
If so, a spatial description of source video images sent in video streams
helps to enable a reproduction of the original scene at the receiver side, and
a spatial description of source audio sent in audio streams helps also to
enable a reproduction at the receiver side in a spatially correct manner.
Furthermore, the spatial description of source video images includes the order
of images in the actual captured scene and may be in two or three dimensions.
The spatial description of source audio includes the spatial position of audio
in the captured scene. It may be transmitted as single or multi-channel audio.
Maybe there is a spatial matching between audio and video streams coming from
the same endpoints.
When advertising video and audio media captures in an IM session supporting
telepresence, a TP UE as well as a conference focus sends spatial information,
e.g. physical dimensions of the capture area, associated with each video and
audio captures it can produce. This allows the receiving party to coordinate
the capture scenarios and perform a proper rendering. Consider a TP UE of a
typical triple-screen/camera system, of which each camera can provide one
video capture for each 1/3 section of the room. Each capture has spatial
information to indicate the scope of view. There is a further capture showing
a zoomed out view of the whole room with spatial information indicating a
global view.
The descriptions as above apply to each scene in a point to point or a
multipoint meeting and refer to the spatial ordering within a scene, not to
the ordering of images and the spatial position of audio between scenes.
### 4.2.3 Media information
Information regarding media traditionally describes its encoding. This
information is enhanced in an IM session supporting telepresence by
information regarding the source components of the media capture, i.e. the
origin of captures may be the original media captures (e.g. from a camera) or
a composed media captures indicating a mix of audio streams, a composition
video streams or switched media captures indicating the dynamic or most
appropriate subset of a \"whole\".
This enhanced description of captures helps a sender to describe which sources
are included and helps a receiver to choose which sources to receive from a
list of sources. Taking the above example, the TP UE can further provide a
single capture representing the active speaker based on voice activity
detection, and a single capture representing the active speaker with the other
two captures composed as a picture in picture. The media characteristics
described here can be used to distinguish the media captures from each other.
Further enhanced media information may indicate simultaneity constraints. For
example, a room camera have two options which are zoomed-in view and zoomed-
out view, but there is no way for it to do both simultaneously.
### 4.2.4 Meeting description
Meeting description includes view information, language information,
participant information and type, which help receivers to choose and render
different captures.
View information indicates a physical region captured, which is further
defined to \"room\", \"table\", \"individual\", \"lectern\", \"audience\" and
others. Language information is mainly used in case of multi-lingual and/or
accessible conferences. Participant information provides specific information
about people participating within a multi-media conference, which may include
information such as \"identification information\", \"communication
information\" and \"organizational information\". Participant type indicates
the type of people participating within a multi-media conference with respect
to the meeting agenda, which may include types such as \"Chairman\", \"Vice-
Chairman\", \"Minute Taker\", \"Presenter\", \"Translator\", \"Timekeeper\"
and others.
In addition, there may be some descriptive information which indicates a
relative priority between different captures, or indicates a capture provides
embedded textual information, or indicates the capture contains additional
complementary information related to another capture, and so on.
### 4.2.5 Presentation
Presentation indicates that a capture originates from a presentation device,
that is one that provides supplementary information to a conference through
slides, video, data and so on. Furthermore, presentations can have unfixed
sources, can be varied in placement and can be seen by all participants in the
conference.
### 4.2.6 Conference control
Conference control is used to for the chairman of a conference or the
participants granted appropriate permissions to manage and control
participation in a conference, such as forbidding other users joining a
conference when the number of participants reaches the certain number, or
muting a conference participant/endpoint when the conference site has too much
noise.
### 4.2.7 Information usage
The information detailed above may be used to obtain a better experience
during an IM session where interoperability is needed between endpoints of
different capabilities, such as between endpoints that have a different number
of devices which are similar or different, or different picture aspect ratios,
or send and receive different numbers of media streams, and so on. In fact,
the minimum requirement is guaranteed to voice conference if there are some
mismatches between devices.
The usage of each of the information elements is not mandatory. They are used
by TP UEs and conference focuses depending on the application scenarios. The
TP UE described in the above example can provide at least 6 video captures,
the message for negotiation therefore needs to contain enough parameters to
describe the characteristics of each in order to allow the receiving party to
clearly differentiate the captures and provide a proper rendering, e.g.
spatial view, media composition, roles and etc.
Accordingly, protocols adopted for IM session supporting telepresence which
exchanges above information from participating sites enables interoperability
by handling multiple streams in standardized way.
# 5 Alternative procedures for telepresence using IMS
## 5.1 Brief introduction of protocols used in IM session supporting
telepresence
### 5.1.1 Session Initiation Protocol (SIP)
SIP, as defined in IETF RFC 3261 [5] and adopted by 3GPP TS 24.229 [3] and
3GPP TS 24.147 [2], is used as the basic session control protocol to create an
IMS session supporting telepresence.
To support an IM session supporting telepresence, a +sip.telepresence Contact
header field parameter is added, as defined in subclause 3 of draft-ietf-clue-
signaling [16].
### 5.1.2 Session Description Protocol (SDP)
SDP, as defined in IETF RFC 4566 [6] and adopted by 3GPP TS 24.229 [3] and
3GPP TS 24.147 [2], is used to establish multimedia streams in an IM session
supporting telepresence.
In an IMS session supporting telepresence, each party in the session usually
sends and receives multiple multimedia streams, the number of streams may not
be symmetric due to their different capabilities for media production and
rendering. This is different from the typical communication model for SDP
offer/answer and its usage in normal IM sessions, which is more often a
bidirectional agreement on media parameter values. The usage and potential
enhancements for SDP should be addressed.
### 5.1.3 ControLling mUltiple streams for tElepresence (CLUE)
CLUE, under development in IETF, is used to advertise and configure audio and
video components comprising the media flows in an IM session supporting
telepresence. The introduction for such a new protocol can be found in section
1 of draft-ietf-clue-framework [9].
A data channel for CLUE message is negotiated via the first INVITE message
when creating an IM session supporting telepresence. With the establishment of
that channel, the participants have consented to use the CLUE protocol
mechanisms to determine the capabilities of the each of the endpoints with
respect to multiple streams support. The following exchange of CLUE messages
of each participant\'s CLUE ADVERTISEMENT and CLUE CONFIGURE is to achieve a
common view of media components sent and received in the IM session supporting
telepresence. A corresponding SDP offer/answer may be needed to establish the
media streams based on the user\'s choice in CLUE messages.
### 5.1.4 Binary Floor Control Protocol (BFCP)
BFCP, as defined in IETF RFC 4582 [7] and IETF RFC 4583 [8] and adopted by
3GPP TS 24.147 [2], is used to offer floor control of shared resources in an
IM session supporting telepresence.
There is no special enhancement to BFCP in order to support an IM session
supporting telepresence.
## 5.2 General procedures for IM session supporting telepresence
An IM session includes point to point call and multipoint conference
scenarios. The endpoints participating in an IM session supporting
telepresence shall support the procedures specified in 3GPP TS 24.229 [3] and
3GPP TS 24.147 [2].
Based on the comparison with a normal IM session as defined in 3GPP TS 24.229
[3] and 3GPP TS 24.147 [2], the following clauses focus on the general
procedures to deal with multiple spatially related media streams to support
telepresence and to interwork with IM session as below:
1) Initiation of telepresence using IMS, which includes an initial
offer/answer exchange establishes a basic media session and a CLUE channel,
CLUE exchanges to CLUE ADVERTISEMENT and CLUE CONFIGURE media components used
in the session, then followed by an SDP offer/answer in ReINVITE request to
complete the session establishment (see more for the general idea in draft-
ietf-clue-framework [9]);
2) Release or leaving of an IM session supporting telepresence, which needs
remove the corresponding CLUE channel;
3) Update of an ongoing IM session supporting telepresence, triggered by CLUE
exchanges modifying existing CLUE information. For example: a new participant
at an endpoint may require the establishment of a specific media stream;
4) Presentation during an IM session supporting telepresence, which may also
be initiated by the exchange of CLUE messages and possibly need an updated SDP
offer/answer and activation of BFCP for floor control; and
5) Interworking with normal IM session, this is to let the normal IMS users be
able to join telepresence using IMS.
## 5.3 Initiation procedures for IM session supporting telepresence
### 5.3.1 Introduction
Compared with a normal IM session, this subclause describes the necessary
enhancements regarding initiation procedures for an IM session supporting
telepresence.
### 5.3.2 Origination procedures
To initiate an IM session supporting telepresence, the TP UE shall:
1) generate an SDP offer in the SIP request, containing basic media streams
and an establishment request for a DTLS/SCTP association used to realize a
CLUE data channel. The initial SDP offer message negotiates the port and
transport information for setting up the DTLS/SCTP association, via a separate
SDP \"m=\" line together with an SDP sctpmap attribute that indicating the use
of a data channel, and a further session-level \"group\" attribute may be
carried to indicate its belonging of a TP group, which also contains all the
CLUE-controlled media. The procedures for establishment of the DTLS/SCTP
association via SDP can be found in draft-ietf-mmusic-sctp-sdp [18].
> The TP UE shall include a +sip.telepresence Contact header field parameter
> in SIP INVITE and SIP UPDATE requests and responses.
NOTE 1: According to the draft-ietf-clue-datachannel [17], the data channel
mechanism together with the Data Channel Establishment Protocol (DCEP) defined
by IETF is adopted to establish a CLUE data channel.
2) set up the DTLS/SCTP association used for a CLUE data channel between the
remote party, after receiving the SDP answer with information for CLUE channel
establishment (e.g. via an SDP \"m=\" line together with the SDP sctpmap
attribute to describe a DTLS/SCTP association indicating the use of a data
channel ).
NOTE 2: If the TP UE receives the SIP response without a +sip.telepresence
Contact header field parameter, which means the remote party does not support
CLUE protocol, or if the TP UE receives the SDP answer without the support
information for DTLS/SCTP establishment (e.g. by setting the port number to
zero in the \"m=\" line describing a DTLS/SCTP association used to realize the
CLUE data channel), which means the remote party does not support the
DTLS/SCTP association to establish a CLUE data channel, then the session shall
fall back to a normal IM session.
NOTE 3: In the point to point cases, the TP UE can initiate CLUE negotiation
via the first SDP offer/answer when establishing an IM session or via the
update SDP offer/answer during an ongoing IM session depending on local
configuration.
3) When the DTLS/SCTP association used to realize a CLUE data channel is
established, the TP UE shall open the CLUE data channel via a DCEP message
based on a SCTP stream. After receiving the response DCEP message, the CLUE
data channel is successfully opened. The procedures for using such a protocol
can be found in subclause 4 of draft-ietf-clue-datachannel [17]. As defined in
draft-ietf-clue-datachannel [17] and draft-ietf-clue-signaling [16], only a
single CLUE data channel is established within the same IM session supporting
telepresence.
Once the CLUE channel is connected, the TP UE shall:
1) send a media CLUE ADVERTISEMENT message (via CLUE) with multiple media
captures related to the video and audio contents it can provide for the
session. For example, a triple-screen/camera TP UE usually can produce at
least three real time video streams and one audio stream for the meeting room.
The message also carries information elements to describe characteristics of
these media captures, including spatial view of the video captures. These
allow the remote party to select the source(s) it wants to consume. After
receiving the CLUE CONFIGURE message with the selected media captures based on
the above information elements, the negotiation for the sending direction of
the TP UE is completed.
> The TP UE shall also be prepared to receive a media CLUE ADVERTISEMENT
> message (via CLUE) sent from a remote party. On the reception of the CLUE
> ADVERTISEMENT the TP UE selects the media captures it wants to receive based
> on the information elements associated with the media capture. The selected
> media captures are sent in a CLUE CONFIGURE message to the remote party.
2) trigger an updated SDP offer/answer exchange to set up media streams for
transmission of the media captures as negotiated above. The TP UE needs to add
a corresponding m= line for each encoding defined in CLUE messages. Each m=
line requires an associated \"label\" attribute used to identify the each
encoding in CLUE messages. And it is also required to mark the m= line(s) as
sendonly with an \"a=sendonly\" attribute or as inactive with an
\"a=inactive\" attribute used to represent the sender's encode ability and
policies. The TP UE adds a \"group\" session-level attribute used to signal
that the m= line(s) are under the control of the CLUE data channel. Once the
SDP offer is sent, the following SDP negotiation procedures shall follow
normal rules as defined in IETF RFC 3264 [15].
NOTE 4: The TP UE can send one or more CLUE ADVERTISEMENT messages to a remote
party during an IM session supporting telepresence. In response to the CLUE
ADVERTISEMENT messages the TP UE can send one or more CLUE CONFIGURE messages.
And then it can trigger another updated SDP offer/answer based on the most
recently received CLUE CONFIGURE messages. The cases all depend on its local
policy and different triggers causing sessions updates as described in
subclause 5.5.1.
In the conference case, when the TP UE acting as a conference participant
joins in the conference, the conference focus shall follow the above steps
related to establishing a CLUE channel with the TP UE to set up an IM session
supporting telepresence among the conference participants based on the
procedures as described in subclause 5.3.1 of 3GPP TS 24.147 [2].
Only the TP enabled conference focus can trigger the CLUE channel request via
SDP message. Once CLUE channels between TP UEs and the TP enabled conference
focus are connected, TP UEs shall handle CLUE messages in the same manner as
in point to point session, and the TP enabled conference focus shall:
1) be prepared to receive CLUE ADVERTISEMENT messages from TP UEs. According
to the original CLUE ADVERTISEMENT messages and its local policy, the TP
enabled conference focus may send its own CLUE CONFIGURE message directly
responding to the received CLUE ADVERTISEMENT messages. It also may send its
own CLUE ADVERTISEMENT messages to the TP UEs in the conference. This allows
them to select the source(s) they want to consume.
> In response to its own CLUE ADVERTISEMENT the TP enabled conference focus
> shall be prepared to receive CLUE CONFIGURE messages from TP UEs. The TP
> enabled conference focus may respond with a CLUE CONFIGURE message based on
> the CLUE CONFIGURE messages that it has received from other TP UEs.
2) trigger an updated SDP offer/answer exchange to set up media streams for
transmission of the media captures between individual TP UE and the TP enable
conference focus based on the received CLUE CONFIGURE messages. The enable
conference focus follows the same usage of SDP in CLUE sessions as described
in the point to point case.
If a participant that does not support telepresence requests to join in an
existing IM session supporting telepresence, the participant can successfully
join however the session between the participant and the conference focus is a
normal IM session.
Conversely, when the TP enabled conference focus invites some specific users
to join in the conference, the TP UE shall follow the above steps to establish
an IM session supporting telepresence based on the procedures as described in
subclause 5.3.2.5 of 3GPP TS 24.147 [2].
NOTE 5: In the conference cases, both the TP UE acting as a conference
participant joining in the conference and the TP enabled conference focus
inviting some specific users to join in the conference follow this approach
regarding CLUE negotiation described as above in the point to point cases.
### 5.3.3 Termination procedures
When receiving a SIP request to initiate an IM session supporting
telepresence, the TP UE shall:
1) send an SDP answer with information for CLUE channel establishment (e.g.
via an SDP \"m=\" line together with the SDP sctpmap attribute to describe a
DTLS/SCTP association indicating the use of a data channel), if telepresence
is supported for the session, i.e. by including a +sip.telepresence Contact
header field parameter in the SIP response.
NOTE 1: If the receiving UE does not support DTLS/SCTP for the request, it
shall reject the request for DTLS/SCTP establishment (e.g. by setting the port
number to zero in the \"m=\" line for the CLUE data channel) . The session
shall then proceed as a normal IM session.
According to draft-ietf-clue-datachannel [17], the offerer is responsible for
sending the DCEP DATA_CHANNEL_OPEN message. Therefore, when receiving a DCEP
message, the TP UE shall send a DCEP DATA_CHANNEL_ACK message as specified in
draft-ietf-clue-datachannel [17].
Once the CLUE channel is connected, the TP UE shall:
1) select the media captures it wants to consume from the received CLUE
ADVERTISEMENT message. The selection is based on the media characteristics
sent from the originating party. The TP UE sends the selected media capture
via a CLUE CONFIGURE message to the originating party.
> In the opposite direction, the TP UE shall also construct a CLUE
> ADVERTISEMENT message with multiple media captures for the video and audio
> content it can provide for the session. It then receives a CLUE CONFIGURE
> message with the selected media captures from the remote party to complete
> the negotiation.
2) perform the updated SDP offer/answer exchange to set up media streams for
transmission of the media captures as negotiated above.
NOTE 3: During an ongoing IM session supporting telepresence, the TP UE always
construct CLUE CONFIGURE message according to the latest received CLUE
ADVERTISEMENT message. Conversely, the TP UE can also receive one or more CLUE
CONFIGURE messages. The negotiation of media captures shall always be
performed based on the latest CLUE ADVERTISEMENT message, and then it can
trigger an updated SDP offer/answer to reflect the changes on media streams.
In the conference case, when the TP UE acting as a conference participant
responds to a request to join in the conference, the conference focus shall
follow the above steps to complete an IM session supporting telepresence among
the conference participants based on the procedures as described in subclause
5.3.2.3 of 3GPP TS 24.147 [2]. Furthermore, it shall also follow the steps as
described in subclause 5.3.2 for the TP enabled conference focus to complete
exchanges of CLUE messages with TP UEs when the CLUE channels between them are
connected.
### 5.3.4 Media composition
During an IM session supporting telepresence with multiple media streams, a TP
UE may choose to receive individual media sources like a specific video
captured by a camera from the far end, or to have composed media
representation either by:
1) receiving multiple individual media captures and composing them into a
single screen, which itself depends on the TP UE\'s local policy and therefore
out of scope for the current document; or
2) selecting a composed media capture provided by the originating TP UE or
conference focus, which is achieved by using of Multiple Content Capture (MCC)
via CLUE exchange.
EXAMPLE: A TP UE of a typical triple-screen/camera system can produce a
composed capture representing the active speaker with the other two captures
shown picture in picture, containing attributes to indicate the maximum number
of individual captures and their relative positions in a composed image.
### 5.3.5 Switching among multiple contents
To provide switching among multiple contents during an IM session supporting
telepresence, a conference focus needs to include the multiple-content capture
that is composed of multiple individual captures in the media source
negotiation procedure, i.e. via CLUE exchanges as described above. It is the
conference focus as provider determines what the source of the captures is in
switching, and therefore the conference focus shall configure with each of the
sources that contributing to the mutiple-content capture, and send the
suitable media contents to the user according to the switching policy.
To initiate switching among multiple contents, the conference foucs shall:
1) set up the IM session among each participants of the telepresence
conference based on the procedures defined in subclauses 5.3.2 and 5.3.3;
2) send a CLUE ADVERTISEMENT message containing its available individual media
captures and multiple-content capture for switching option(s) that constructed
based on the individual ones, as well as the information elements of their
charateristics, then proceed the media capture exchanges with the TP UEs for
the ongoing session;
3) if switching is selected by a end TP UE via a CLUE CONFIGURE message, the
conference focus shall establish media streams with each of the contributing
sources and send the switched media contents accordingly via the media stream
connected between the end TP UE.
When a TP UE itself provides switching options among multiple content during
an IM session supporting telepresence, e.g. a single capture to show the
active speaker in a room, the TP UE inserts the switching capture into its
CLUE exchanges messages and complete the session initiation procedure as
specified in subclauses 5.3.2 and 5.3.3.
### 5.3.6 UE with different capabilities
IM session supporting telepresence allows TP UEs with different capabilities
and characteristics joining together in a single conference established by IMS
network. These aspects of a TP UE turn into different attributes and their
distinct values when initiating an IM session, such as the number of media
streams, encoding, format and definition of videos.
EXAMPLE: A triple-screen/camera TP UE usually can produce and render at least
three real time video stream and one audio stream for the room; however a
mobile phone UE may only produce and render one video stream and one audio
stream at the same time.
A TP UE shall negotiate its capabilities for producing and rendering media
captures via the CLUE exchanges during session initiation, and establish the
media streams to match the characteristics. Since a TP UE may have different
parameters for each direction, for example depending on its screen resolution
and camera pixels, the media negotiation is performed separately for each
direction. Therefore it is possible for a TP UE to choose asymmetric media
streams, e.g. numbers or codecs, for the sending and receiving directions in a
session.
Particularly, if an audio only device does not support telepresence, it can
only establish a normal IM session as described above; if it supports
telepresence, it can establish a CLUE channel to select the audio sources and
corresponding attributes it want to represent in an IM session supporting
telepresence. However, it is still possible for a user using an audio only
device that does not support telepresence to enjoy the multimedia experience
on sending and receiving specific audio streams by using mono or stereo.
## 5.4 End of IM session supporting telepresence
This clause describes the end of an IM session supporting telepresence, which
was established between the involved parties via an intermediate IM CN
network.
To release an existing IM session supporting telepresence, the TP UE shall:
1) generate a BYE request for the session in accordance to the procedures
described in 3GPP TS 24.229 [3]; and
2) remove the CLUE channel between the TP UE and the remote party.
To cancel an IM session supporting telepresence currently being established,
the TP UE shall send a CANCEL request instead to end the session and remove
the CLUE channel if it is established.
In the conference case, both of the TP UE acting as a conference participant
and the conference focus can use the above procedures to end up an IM session
supporting telepresence between them. The conference focus may trigger the
procedures upon receiving a REFER request to remove a conference participant
from the ongoing IM conference supporting telepresence.
When the conference focus supporting telepresence is aware that a conference
participant has left an IM conference supporting telepresence, the conference
focus shall terminate the session between the leaving participant according to
the above procedure, and then:
1) initiate update procedures to those participants who has configured media
information from the leaving participant; and
2) send the CLUE ADVERTISEMENT message to notify the latest available media
captures to the remaining participants.
## 5.5 Update of IM session supporting telepresence
### 5.5.1 Introduction
An ongoing IM session supporting telepresence can be updated due to a number
of potential reasons, for example changes of network bandwidth adaption, and
addition or deletion of media captures if a camera in the room is turning on
or off. Update of SDP offer/answer and exchanges of CLUE in IMS may be
triggered due to the following cases:
\- capture change only: changes only need media capture updates but not affect
the attributes of the associating media streams, e.g. dynamic spatial changes
on a specific video capture;
\- stream change only: changes only affect media stream attributes but no
update to the media captures, e.g. transport address variation of media
streams during an ongoing session; or
\- both changes: changes affecting both media capture and media stream, e.g.
video capture encoding change, or deletion of a media capture that transmitted
via a specific media stream.
### 5.5.2 Originating an update procedure
When the TP UE determines to initiate an update to the ongoing IM session
supporting telepresence due to media capture changes, the TP UE shall:
1) trigger an update exchange of CLUE messages to negotiate with the other
party about the media capture status change of the ongoing call, complete the
media capture configuration if needed;
2) if the CLUE messages have changes that result in needs to modify the media
stream(s), i.e. for both changes case, the TP UE sends a new updated SDP
offer/answer to apply the necessary media stream modifications, based on the
exchange of CLUE messages. Other changes in CLUE information not having
impacts on the media stream(s), i.e. for capture change only case, do not
require an updated SDP offer/answer.
For stream change only case, the TP UE only needs to handle with the updated
SDP offer/answer procedures.
In an ongoing IM conference supporting telepresence, there are more
possibilities than point to point case that will trigger an update of the
session, for example a user joins or leaves the conference in result the
available media captures have to be modified. Both of the TP UE acting as a
conference participant and the conference focus can use the above procedures
to update an IM session supporting telepresence between them.
### 5.5.3 Terminating an update procedure
When the TP UE or the conference focus in case of conference receives an
update message to the ongoing IM session supporting telepresence, it shall:
1) finalize the CLUE exchange by determining whether to make a new
configuration on reception of the available media captures update;
2) for both changes case proceed with a new update of SDP offer/answer to
apply the necessary media stream modifications, based on the exchange of CLUE
messages;
In case of conference, the conference focus shall further:
3) determine whether session update is needed between the conference focus and
other participants in the same conference supporting telepresence, if so, the
conference focus shall initiate the update procedures accordingly.
The update of an ongoing IM session supporting telepresence may result in a
session fallback to a normal IM session without CLUE usage. There are two
different fallback scenarios as specified below (which can also apply to the
origination procedures):
1) explicit fallback: an explicit message is sent by a TP UE or a TP enabled
conference focus during an ongoing IM session supporting telepresence, which
indicates the session to fall back to a normal session by setting the port
number to zero in the m= line describing a DTLS/SCTP association used to
realize the CLUE data channel in a new SDP offer. For example, if one or more
media captures are removed via CLUE message exchange causing the remaining
stream to be audio only, the ongoing session may fall back to a normal IM
session with the only audio media and the CLUE channel removed; and
2) implicit fallback: there may be a network event leading to CLUE message
transmission failure (i.e. CLUE message timeout) during an ongoing IM session
supporting telepresence, which indicates that the CLUE channel has failed. In
this case the session may fall back to a normal IM session. For example, if
the CLUE channel is removed implicitly, due to local configuration of the TP
UE or underlying SCTP/IP connection accident, there are four possible ways to
handle the ongoing IM session:
a) re-establish the CLUE data channel via a new SDP offer if the DTLS/SCTP
association is disconnected;
b) reset the SCTP streams associated with the CLUE data channel and then re-
open a CLUE data channel via a new DCEP message if the DTLS/SCTP association
is connected;
c) fallback the session to a normal IM session; or
d) terminate the session.
## 5.6 Presentation during an IM session supporting telepresence
During an IM session supporting telepresence, a user may want to create
presentations with other participants for a set of shared resources, such as
slide sharing or playing a specific stored video piece, for which the
procedure is described in this subclause.
As an option, floor control is achieved by using BFCP to offer control of
shared presentation resources for an IM session supporting telepresence.
Depends on the different scenarios in the session, functional entities
including TP UE and MRFP shall support the roles for floor control (e.g. floor
participant, floor chair, floor control server) and their general operations
as specified in 3GPP TS 24.147 [2].
When a TP UE needs to start presentations during an ongoing IM session
supporting telepresence, the TP UE shall:
1) construct media capture(s) for presentation in a CLUE message, and proceed
the exchange for its advertisement and configuration between the other party,
i.e. remoting TP UE for point to point session and conference focus for
multipoint session, the CLUE messages of which can be combined with the
initiation or update procedures;
2) once the media capture for presentation is configured, the TP UE creates an
update of SDP offer/answer to establish media stream for the presentation
flow, and an application channel for BFCP if floor control is supported,
according to the procedures specified in IETF RFC 4583 [8]; and
3) determine the role of floor control and get the floor via the BFCP
connection before starting media transmission of the presentation.
A TP UE or a conference focus, that receiving a presentation request in an IM
session supporting telepresence, shall perform the procedures accordingly,
i.e. configure the media capture for presentation via CLUE, update the SDP
offer/answer message and do floor control via BFCP.
The presentation procedures as described above may be also applied when a TP
UE initiating a point to point IM session, which follows the relevant
definitions such as BFCP as defined in IETF RFC 4582 [7].
It is possible to have multiple presentation streams in a single IM session,
where a TP UE or an MRFP may choose to exchange more than one media captures
for presentation and act as different roles of floor control in the BFCP
connection.
The mapping of the media components, including capture in CLUE, floor in BFCP
and media stream in SDP, is achieved by correlating the identifiers used in
these protocols.
NOTE: The usage of CLUE, BFCP and SIP/SDP in the above presentation procedure
should be loosely coupled, as not all of them are mandatory for
implementation, e.g. BFCP is only used for floor control which itself is an
optional choice.
## 5.7 Interworking with IM session supporting telepresence
### 5.7.1 General
When interworking with an IM session supporting telepresence, the experience
should at minimum be the same as a basic IM session for conversational audio
and video conferencing between different endpoints or different networks. This
section introduces the following scenarios of interoperability and
interworking for IM session supporting telepresence between:
\- TP UE and non-TP UE;
\- TP UEs with asymmetric capabilities; and
\- UEs from different networks such as IMS network, Circuit Switched (CS)
network and other IP networks.
### 5.7.2 Interoperability between TP UE and non-TP UE
When an IM session supporting telepresence is initiated in a point to point
case, if either of the involved parties does not support telepresence then no
CLUE channel can be created via an SDP offer/answer. The session is then
established as a normal IM session that does not support telepresence.
In the conference case, a non-TP UE can only establish a normal IM session
between it and the conference focus, even in an IM conference supporting
telepresence. A conference focus not supporting telepresence can only
establish a normal conference with different kinds of UEs. Even when the
conference focus acting as a conference participant joins an ongoing IM
conference supporting telepresence, the session is established in the normal
way as the conference focus is not able to establish a CLUE channel for
telepresence.
When the conference focus supports telepresence, it can establish an IM
conference supporting telepresence among different participants. In this case,
the conference focus can still establish a normal IM session with those kinds
of non-TP UEs, however no telepresence experience may be achieved between
them. If the conference focus wants to join an ongoing conference, it can
further establish a CLUE channel with the peer conference focus to create an
IM session that supporting telepresence.
When TP UEs and non-TP UEs are in the conference supporting telepresence, the
TP enabled conference focus shall respectively negotiate media captures with
TP UEs via CLUE channel and negotiate media streams with TP UEs via SDP as
described in subclause 5.3.2. The TP enabled conference focus shall also
negotiate media streams with non-TP UEs via SDP in the same manner as in the
normal conference.
Furthermore, the TP enabled conference focus shall use the SDP negotiation
information from non-TP UEs and its local policy to construct CLUE
ADVERTISEMENT messages containing capture information regarding non-TP UEs. By
sending this information to TP UEs it allows them select one or more media
captures originally from non-TP UEs.
NOTE: The characteristics for telepresence using IMS cannot be completely
derived from SDP negotiation information, e.g. the optional spatial
relationship in the CLUE ADVERTISEMENT message is not obtained from SDP with
non-TP UEs.
On the reception of the CLUE CONFIGURE messages, the TP enabled conference
focus may send media streams corresponding with the CLUE CONFIGURE messages
between TP UEs and the TP enabled conference focus after an updated SDP
offer/answer.
Conversely, the TP enabled conference focus shall construct the CLUE CONFIGURE
messages from any of the received CLUE ADVERTISEMENT messages from TP UEs, the
SDP negotiation with non-TP UEs and its local policy. Then the TP enabled
conference focus sends the CLUE CONFIGURE messages to TP UEs in order to allow
non-TP UEs obtain one or more media streams originally from TP UEs. For
example, the TP enabled conference focus configures the audio media captures
from TP UEs and then it obtains the audio streams from TP UEs. Accordingly,
the TP enabled conference focus may render the audio streams or mix them with
other audio streams, and then send them to non-TP UEs.
### 5.7.3 Interoperability between TP UEs with asymmetric capabilities
Interoperability can happen between TP UEs with asymmetric capabilities where
each UE has different number of screens and cameras that would result in
different attributes for available media captures it can produce and render,
see procedures as described in subclause 5.3.
### 5.7.4 Interworking between different networks
A TP UE may initiate an IM session supporting telepresence with other TP UEs
residing in different networks, and can also be invited to join an IM
conference supporting telepresence established in other networks. The
interworking scenarios therefore depend on the different network types,
including:
\- Inter-IMS networks as described in 3GPP TS 29.165 [12];
\- IMS network and CS network as described in 3GPP TS 29.163 [11];
\- IMS network and other IP networks as described in 3GPP TS 29.162 [10]; and
\- IMS network and Enterprise IP Private Branch Exchange (IP-PBX).
To interconnect an IM session supporting telepresence, the network to network
interface of the above networks shall pass the SIP/SDP messages containing
CLUE channel establishment request. Otherwise, a normal session will be
established instead.
## 5.8 Open issues and alternative options
### 5.8.1 RTP stream creation before completion of CLUE negotiation
#### 5.8.1.0 General
To maintain backward compatibility when initiating an IM session supporting
telepresence, a set of RTP streams, for example one for audio and one for
video, are created in the first SDP Offer/Answer messages. This initial SDP
offer/answer also contains a request to setup a CLUE channel. If the CLUE
channel is not supported, the session will fall back to a normal IM session,
and there\'s no difference for the usage of the RTP streams. However, if the
CLUE channel is established, the parties involved in the session will
advertise and configure the media characteristics they want to exchange, and
then use the created RTP streams or update them to adapt these
characteristics.
The role of the RTP sessions established at this stage is unclear. It is
intended that what is offered be acceptable to the traditional IMS devices,
both for audio and video. What is unclear is whether these sessions will play
any role once CLUE is negotiated? At that point both CLUE messages and SDP O/A
can be used to transport encoding information and the relationship between
captures, encodings and RTP streams.
#### 5.8.1.1 Alternative 1: No media exchanged until completion of CLUE
negotiation
CLUE negotiation is to achieve an agreement for the media contents (also
called as Media Captures in CLUE) that will be exchanged between the involved
parties; so if CLUE is used in the session, the first alternative way is to
hold the basic RTP streams until the completion of CLUE negotiation. Once the
CLUE negotiation is completed, SDP may or may not be updated to adapt the
transport of CLUE encodings.
Pros:
1\. Keep compatibility with traditional IMS mechanisms, and avoid potential
bad user experience if there video or audio changes.
Cons:
1\. RTP resources is reserved and not used until completion of CLUE
negotiation.
#### 5.8.1.2 Alternative 2: Transfer simple media contents
The SDP O/A is negotiated with the basic RTP streams, which are configured
based on a simple one-screen/one-speaker view of the room. The RTP streams are
flowing on after they are established, even though the CLUE negotiation is
still in processing. Once the CLUE negotiation is completed, SDP may or may
not be updated to adapt the transport of CLUE encodings.
It is good if those simple audio/video sessions could become encodings that
are used for clue capture-encodings, so that no redundant RTP sessions are
established and torn down.
Pros:
1\. No RTP resources are wasted.
Cons:
1\. It is probably possible that those simple audio/video sessions do not obey
the result of CLUE negotiation, then SDP is updated and the RTP streams may be
modified or torn down.
2\. In that case, those simple audio/video streams need not be what the users
want to receive, although transported.
#### 5.8.1.3 Alternative 3: Other usages like announcement
The basic RTP sessions can have other usages, for example for some sort of
announcement. Once the CLUE negotiation is completed, SDP may or may not be
updated to adapt the transport of CLUE encodings.
Pros:
1\. No RTP resources are wasted.
Cons:
1\. The basic RTP sessions created in the first SDP O/A are not configured for
the usage encodings.
#### 5.8.1.4 Conclusion
According to the discussion as above, it needs to do different media
transmission according to the session state when CLUE initial negotiation
happens.
An IM session supporting telepresence is initiated via an initial offer/answer
exchange containing a basic media session and a request for a CLUE data
channel. Once the CLUE data channel is successfully established, the TP UE or
the TP enabled conference focus shall initiate an exchange of CLUE messages
and updated SDP O/As in order to complete CLUE negotiation. Before the
completion of CLUE negotiation it may be required to choose not to send the
basic media stream(s), according to subclause 3.2 of draft-ietf-clue-signaling
[16]. However, they must still be prepared to receive the media stream(s).
If an IM session supporting telepresence is upgraded from an ongoing normal IM
session and the CLUE negotiation has not yet completed, it may be required to
provide non-CLUE-controlled media stream(s) from the previous normal IM
session according to the subclause 4.3 of draft-ietf-clue-signaling [16].
Furthermore, the non-CLUE-controlled media stream(s) may or may not later
become CLUE-controlled media stream(s) via the subsequent CLUE and SDP
negotiation.
In any case, there is no exchange of media in the CLUE-controlled media
stream(s) before the completion of CLUE negotiation.
### 5.8.2 Telepresence CLUE handling in a MRF
#### 5.8.2.0 General
> Editor\'s note: CT4, with the ownership of Mp interface, should be involved
> when making a decision on this issue.
CLUE, as a new mechanism defined by IETF, is designated to advertise and
configure the multiple media contents and their spatial relationships (and
other characteristics) among different capturing and rendering entities in a
telepresence session. Due to the potentially large number of media flows, CLUE
is used to facilitate the session negotiation in IMS.
The CLUE messages are exchanged in a specific data channel initiated via SDP
between two endpoints, for example UE and UE in the point to point case, UE
and MCU in the multipoint case. When it is supported in IMS, the question is
whether MRFC or MRFP is the point generating CLUE messages?
#### 5.8.2.1 Alternative 1: MRFC generates CLUE message
With the nature of CLUE, which is more of an application type protocol, one
way is to make the MRFC to generate the CLUE ADVERTISEMENT and CLUE CONFIGURE
messages.
The MRFC inserts its own address in the SDP O/A to setup a CLUE channel with
the UE during the session establishment procedure, and exchanges CLUE messages
in it.
> Editor\'s note: There may still be a need for the MRFC to provide some
> information to the MRFP to facilitate operation of CLUE. E.g. any RTP level
> information related to the CLUE application. The need for this information
> is still being discussed in the IETF.
Pros:
1\. It is straightforward for MRFC to deal with both CLUE and SDP O/A messages
together.
Cons:
1\. Resource issue for data channel connected between UE and MRFC, an extra
port would be needed in the MRFC.
#### 5.8.2.2 Alternative 2: MRFP generates CLUE message
Using the traditional SDP O/A procedure, the MRFC requests the MRFP to
allocate bearer address for a CLUE channel in the session. In this case, it is
MRFP exchanging CLUE messages with UE directly via the channel.
Enhancements on Mp interface for MRFC and MRFP interaction are needed, to
handle CLUE messages and complete the SIP/SDP negotiation based on them.
Pros:
1\. Bearer level data channel is followed.
Cons:
1\. Enhancements on Mp interface are needed.
### 5.8.3 Sequence of SDP and CLUE during updating
#### 5.8.3.1 Introduction
To establish an IM session supporting telepresence, a CLUE channel needs to be
created between two parties in this session, for example TP UE and TP UE in
the point to point case, TP UE and MRF in the multipoint conference case. The
CLUE channel may be created when establishing an IM session, or during an
existing IM session.
However, once the CLUE channel has been successfully established, update
procedures may trigger both SDP offer/answer and CLUE exchanges during the IM
session supporting telepresence. As described in subclause 5.5, an updated SDP
offer/answer and exchanges of CLUE messages are simultaneously required only
for the \"both changes\" case.
For example, when adding a camera the parties involved in the session need to
make a decision whether to first have CLUE ADVERTISEMENT and CLUE CONFIGURE
messages with the media characteristics to be exchanged, or initiate a
ReINVITE request to renegotiate media flow information via SDP ahead of CLUE.
Accordingly, the sending sequence between SDP and CLUE messages is unclear
when there are changes of telepresence settings which cause to need to update
them during an IM session supporting telepresence.
#### 5.8.3.2 Options
SDP and CLUE proceed independently via different routings and entities in IMS
network, i.e. CLUE is exchanged directly between the involved parties via the
specific data channel, and SDP offer/answer is negotiated among the IMS
control plane entities and its containing media streams are connected by the
controlled media plane entities. When the changes happen, two basic options to
trigger the message exchange:
1) To first initiate an exchange of CLUE messages: after one of the parties
involved in this session sends a new CLUE ADVERTISEMENT message, SDP may be
updated to adapt the transport of CLUE encodings. If the new CLUE
ADVERTISEMENT message references an Encoding that isn\'t defined in the
current SDP, SDP needs to be updated to adapt the transport of CLUE encodings.
In some cases, for example shutdown of a specific camera in a TP UE, closure
of the corresponding media stream via SDP is needed, or errors may happen
since there\'s no data transmission in the bearer connection if waiting for
the completion of CLUE exchanges. The controlling of IMS media plane should
consider such scenarios when choosing the way to handle the updates.
2) To send a ReINVITE request to first update media information: after one of
the parties involved in this session sends a ReINVITE message because of the
changes of media contents (e.g. to add or delete an Encoding), CLUE needs to
be updated to describe the media information of SDP encoding. The other party
may accept the request, but won\'t know what purpose the new Encoding serves
or whether it will be useful. And then the prior party will send a subsequent
CLUE ADVERTISEMENT message that references the new Encoding in the recent SDP.
When the other party receives the CLUE ADVERTISEMENT message and is aware that
the new Encoding will finally be clear what it is for. At that point a CLUE
CONFIGURE messages can be sent to use that new Encoding, and then media can
flow.
Or, the other party may refuse the request because there is no current need
for the new Encoding. And then the prior party will send a subsequent CLUE
ADVERTISEMENT message that references the new Encoding in the recent SDP. When
the other party receives the CLUE ADVERTISEMENT message and is aware that the
new Encoding will be desired to use. At that point a CLUE CONFIGURE messages
can be sent to use it. However, media can\'t flow yet because the SDP m-line
was refused. Then a new offer can be sent to enable that encoding. Once the
answer accepts it, media can flow. So this case there needs to be two SDP
update procedures.
More rounds of SDP offer/answer may be needed in this option, and the other
impacts on IMS media processing may also be introduced due to the different
modes like media aware or media agnostic on the media plane entities.
#### 5.8.3.3 Conclusion
In fact, according to the description as above an updated SDP offer/answer and
exchanges of CLUE message are simultaneously required in \"both changes\"
cases, which one is first sent completely depends on a TP UE's local policy in
point to point cases, or a TP UE's and a TP enabled conference focus's local
policies in multi-point cases.
However, a TP UE and a TP-enabled conference focus should wait until they have
the corresponding information they lack before sending messages to make
changes related to that information. For example, a TP UE that receives a new
SDP offer with some \"a=sendonly\" CLUE-controlled m= lines has not received
the corresponding CLUE ADVERTISEMENT message providing the capture information
for those CLUE-controlled media streams, it should not include corresponding
\"a=recvonly\" CLUE-controlled \"m=\" lines (e.g. disable the \"m=\" lines
with port zero) in its answer. It may make another SDP offer when and if a new
CLUE ADVERTISEMENT message arrives with captures relevant to the CLUE-
controlled \"m=\" lines.
Whatever CLUE or SDP is first sent, the CLUE-controlled media streams must not
be sent unless they have been negotiated in both CLUE and SDP according to
subclauses 5.2 and 5.3 of draft-ietf-clue-signaling [16].
### 5.8.4 Media streams treatment after CLUE\'s removal
#### 5.8.4.1 Options
A CLUE channel for an IM session supporting telepresence may be removed due to
some potential reasons, for example the SCTP association is disconnected due
to some bearer/IP connection error, and then this CLUE session may downgrade
to a non-CLUE session however the media streams from capture devices still
exist.
However, some of the media streams may be CLUE-controlled media streams and
the others may be non-CLUE-controlled in the session (i.e. some SDP \"m=\"
lines are under the control of a CLUE data channel and the others are not
under the control of a CLUE data channel) as described in the subclause 4.3 of
the draft-ietf-clue-signaling [16]. The non-CLUE-controlled \"m=\" lines in
SDP shall follow procedures for media negotiation and transmission. Therefore,
non-CLUE-controlled media streams still continue no matter whether the CLUE
data channel is active or not.
Then the question is whether the CLUE-controlled media streams that are
previously configured via CLUE messages should continue or be stopped after a
CLUE channel has been removed. There are two options to meet the above issue.
1) To keep the media streams according to the last successful configuration
via CLUE messages, and make the IM session CLUE-less.
> Even if the actual attributes of these media streams change such as the
> spatial information during this session after a CLUE data channel has been
> removed, they may be only presented according to the last successful
> configuration in each direction until a new CLUE data channel is re-
> established. In this case, what the local parties are shown with regards to
> the remote parties may be inconsistent with the real situation in remote
> parties.
2) To re-negotiate the IM session via an updated SDP offer/answer, in order to
have a normal IM session without of telepresence support.
#### 5.8.4.2 Conclusion
When a CLUE data channel is removed, the appropriate way about keeping the
CLUE-controlled media streams continue is to re-establish a CLUE data channel
via an updated SDP offer/answer as described in subclause 5.3.2. If not, the
CLUE data channel is explicitly removed via an updated SDP offer/answer and
then the session shall fall back a normal session finally.
In case the DTLS/SCTP association is connected while the CLUE data channel is
not active, the CLUE messages exchange is failed. It is recommended to re-open
a CLUE data channel to keep the CLUE-controlled media streams continue, or to
explicitly remove the CLUE data channel via an updated SDP offer.
### 5.8.5 SCTP connection status when CLUE is removed
#### 5.8.5.1 Options
A CLUE data channel using SCTP is requested via an SDP offer/answer when an IM
session is being established or during an existing IM session. However, a CLUE
data channel may be removed due to a few of reasons, for example a user is
participating through a CLUE enabled mobile or PC using video but then request
to transition back to audio mode (they don\'t require or have telepresence
capabilities) because they want to start moving around or they don\'t want to
be part of the video feed anymore. The session will then become to a non-CLUE
session.
Only a single CLUE data channel is used to signal all CLUE messages between
peers in an ongoing IM session supporting telepresence. Furthermore, there may
only be one CLUE data channel per DTLS/SCTP association however there may be
other channels using the same DTLS/SCTP association.
Then the issue comes on whether the SCTP association is kept open if a CLUE
data channel is removed, which impacts the SDP construction to facilitate the
media processing in IMS. A list of options is described here to meet the above
issue.
NOTE: The options below only relate to the case where an endpoint requests the
removal of the CLUE data channel. The behaviour related to when a CLUE data
channel is removed due to error is for further study.
1) To synchronize the removal the corresponding SCTP association with a CLUE
data channel via an updated SDP offer/answer only when no other data channels
for application level data transmission are established within the same SCTP
association.
2) To close the SCTP streams associated with a CLUE data channel via a SCTP
reset message when there are other data channels except the CLUE data channel
over the same SCTP association.
3) To keep the corresponding SCTP association open. Then if a CLUE data
channel is re- opened via the DCEP messages during the IM session, the
corresponding SCTP association does not need to be re-established again.
#### 5.8.5.2 Conclusion
Consequently, the SCTP association may be released via an updated SDP
offer/answer only when it is devoted to a single CLUE data channel. If the
SCTP association is involved with more than one data channels are connected
but the CLUE data channel is not active, the device needs to re-open the CLUE
data channel via a DCEP open message or close the CLUE data channel via a SCTP
reset message. However, it must be ensured that the other data channels except
the CLUE data channel are not affected when re-opening the CLUE data channel
or reseting the SCTP streams associated with the CLUE data channel.
### 5.8.6 RTP multiplexing for multiple streams
#### 5.8.6.1 Options
Different levels of RTP multiplexing may be in scope, including:
1) RTP and RTCP multiplexing: multiplexing RTP data packets and RTP Control
Protocol (RTCP) packets on a single UDP port as specified in IETF RFC 5761
[14], may be chosen for IM session supporting telepresence to ease Network
Address Translation (NAT) traversal and simplify firewall administration.
2) Bearer transport with multiplexing: transporting several RTP payload PDUs
of different user plane connections within one packet as an optional transport
format for the Nb interface, as specified in 3GPP TS 29.414 [13] and not
further described in the document; and
3) RTP streams multiplexing: transporting multiple RTP streams over a single
UDP flow, and is not adopted in the IETF CLUE protocol at this stage according
to draft-ietf-clue-signaling [16].
#### 5.8.6.2 Conclusion
Multiplexing multiple RTP streams in an IM session supporting telepresence is
not addressed in the release 12 of TR 24.803. The further adoption of
multiplexing for telepresence should be based on the evolution of IETF CLUE
work.
# 6 Conclusion
The requirements and procedures for telepresence using IMS, as provided in
this study report, will be used as a basis for the normative work that is
defined in 3GPP TS 24.103 [19].
###### ### Annex A: Example signalling flows
# A.1 Scope of signalling flows
This annex gives examples of signalling flows for an IM session supporting
telepresence based on the Session Initiation Protocol (SIP), SIP Events, the
Session Description Protocol (SDP) and the tools defined by IETF CLUE working
group.
These signalling flows provide detailed signalling flows, which expand on the
overview information flows provided in 3GPP TS 23.228 [4] and 3GPP TS 24.147
[2].
# A.2 Flows demonstrating the establishment of an IM conference supporting
telepresence
## A.2.1 Introduction
Clause A.2 covers the signalling flows that show how an IM conference
supporting telepresence is established in different scenarios.
## A.2.2 User creating an IMS conference supporting telepresence
Figure A.2.2.1: User creating an IMS conference supporting telepresence
Figure A.2.2.1 shows a user creating an IMS conference supporting telepresence
by incorporating CLUE tools with the basic IMS SIP/SDP mechanism.
The details of the flows are as follows:
1 - 6. **SIP INVITE request (UE to intermediate IMS, AS, till MRFC)**
Based on the IMS conference procedures as specified in subclause A.3.2.1 of
3GPP TS 24.147 [2], a TP UE initiates the SIP INVITE request message with a
+sip.telepresence Contact header field parameter which indicates the UE
supports CLUE, the message further comprises a basic media session and a
request for a CLUE data channel (via an SDP \"m=\" line indicating a DTLS/SCTP
association, together with an SDP \"sctpmap\" attribute indicating the use of
a data channel and a session-level \"group\" attribute indicating that the
DTLS/SCTP association belongs to a TP group), to construct an IM conference
supporting telepresence.
The SIP INVITE request is forwarded till to MRFC.
Editor\'s note: If this flow is moved to the normative TS, detailed message
needs to be added.
> 7\. **Allocate Conference URI**
The MRFC determines whether telepresence is supported in this IMS conference.
If so, it allocates a conference URI for the request, based on local
information and information gained from the conference-factory URI, as well as
information gained from other elements of the SIP signalling.
8\. **H.248 interaction to create connection**
The MRFC initiates a H.248 interaction to create bearer resources for UE#1 in
MRFP and to determine media capabilities of the MRFP.
9 - 12. **SIP 183 (Session Progress) response (MRFC to UE)**
The MRFC determines the set of codecs that it is capable of supporting for
this conference. It determines the intersection with those appearing in the
SDP in the SIP INVITE request.
The MRFC determines the TP UE\'s support of telepresence by receiving the
+sip.telepresence Contact header field parameter of the SIP INVITE request,
and it also includes the same tag in the response message. The media stream
capabilities of the destination as well as the connection information for a
CLUE data channel are returned in a SIP 183 (Session Progress) provisional
response and finally forwarded to UE#1.
13\. **Resource reservation**
The originating UE sets up the bearer in accordance with the media description
received SDP.
14\. **CLUE channel establishment**
With the negotiated connection information in SDP, the UE#1 and the MRFP/MRFC
establishes the CLUE channel between them.
Editor\'s note: The CLUE channel is offered during the initial SIP INVITE, and
remain connected for the duration of the CLUE/SIP session. The details of
bearer resource allocation and policy control for CLUE channel in IMS is for
further study.
15 - 35. **Set up of basic media session**
> The basic media session is processed as per procedures defined in subclause
> A.3.2.1 of 3GPP TS 24.147 [2].
36\. **CLUE messages exchange**
Once the CLUE channel is connected, the UE#1 and the MRFP/MRFC exchanges their
media characteristics and capabilities by sending CLUE ADVERTISEMENT and CLUE
CONFIGURE messages to facilitate the negotiation of media captures in both
directions. The CLUE ADVERTISEMENT contains the available media captures and
information elements such as spatial views, media compositions and encodings
to facilitate capture selection and rendering. See information regarding the
usage of these CLUE messages in draft-ietf-clue-framework [9].
NOTE: When having multiple users in the same meeting, the MRFP/MRFC may also
exchange CLUE ADVERTISEMENT or CLUE CONFIGURE messages with other TP UEs based
on reception of the CLUE ADVERTISEMENT or CLUE CONFIGURE messages from UE#1.
37\. **Telepresence state update**
With the media information negotiated over CLUE, the UE#1 constructs a new SDP
offer/answer setting up the media transmission for telepresence based on the
basic media session.
38 - 46. **SIP re-INVITE request (between UE and MRFC)**
The UE#1 initiates the SIP re-INVITE request to establish the IMS conference
supporting telepresence containing multiple media streams with spatial
relationship that negotiated via CLUE.
## A.2.3 User getting invited to an IM conference supporting telepresence
Subclause A.2.3 covers the signalling flows that a TP UE getting invited to an
IM conference supporting telepresence, which may be triggered for example
after the conference focus receives a REFER request to invite a user join the
conference.
Figure A.2.3-1: A user getting invited to an IM conference supporting
telepresence
Figure A.2.3-1 shows a user is invited to an IM conference supporting
telepresence by incorporating CLUE tools with the basic IMS SIP/SDP mechanism.
The details of the flows are as follows:
1 - 4. **SIP INVITE request (MRFC/AS to intermediate IMS, till UE)**
Based on the IM conference procedures as specified in subclause A.4.3.1.3 of
3GPP TS 24.147 [2], the MRFC/AS initiates the SIP INVITE request message with
a +sip.telepresence Contact header field parameter which indicates the MRFC/AS
supports CLUE protocol, the message further contains a basic media session and
a request for a CLUE data channel (e.g. via an SDP \"m=\" line indicating a
DTLS/SCTP association, together with an SDP \"sctpmap\" attribute indicating
the use of a data channel and a session-level \"group\" attribute indicating
that the DTLS/SCTP association belongs to a TP group), to construct an IM
conference supporting telepresence.
The SIP INVITE request is forwarded to UE#2.
Editor\'s note: If this flow is moved to the normative TS, detailed message
needs to be added.
5\. **Confirm the support of CLUE**
UE#2 makes a decision whether the conference supports telepresence depending
on the UE#2's CLUE capability.
6 -- 7. **SIP 183 (Session Progress) response (UE to MRFC)**
UE#2 determines the set of codecs that it is capable of supporting for this
conference. It determines the intersection with those appearing in the SDP in
the SIP INVITE request.
The UE#2 determines the MRFC/AS\'s support of telepresence by receiving the
+sip.telepresence Contact header field parameter of the SIP INVITE request,
and it also includes the same parameter in the response message. The media
stream capabilities of the destination as well as the connection information
for the CLUE data channel are returned in a SIP 183(Session Progress)
provisional response and finally forwarded to MRFC/AS.
8\. **CLUE channel establishment**
With the negotiated connection information in SDP, the UE#2 and the MRFC/MRFP
establishes the CLUE channel between them.
> Editor's note: The CLUE channel is offered during the initial SIP INVITE,
> and remain connected for the duration of the CLUE/SIP session. The details
> of bearer resource allocation and policy control for the CLUE channel in IMS
> is for further study.
9 -- 21. **Set up of basic media session**
> The basic media session is processed as per procedures defined in subclause
> A.4.3.1.3 of 3GPP TS 24.147 [2].
22\. **CLUE messages exchange**
Once the CLUE channel is connected, the UE#2 and the MRFC/MRFP exchange their
media characteristics and capabilities by sending CLUE ADVERTISEMENT and CLUE
CONFIGURE messages to facilitate the negotiation of media captures in both
directions. The CLUE ADVERTISEMENT contains the available media captures and
information elements such as spatial views, media compositions and encodings
to facilitate capture selection and rendering. See information regarding the
usage of these CLUE messages in draft-ietf-clue-framework [9].
NOTE: When having multiple users in the same meeting, the MRFP/MRFC may also
exchange CLUE ADVERTISEMENT or CLUE CONFIGURE messages with other TP Ues based
on reception of the CLUE ADVERTISEMENT or CLUE CONFIGURE messages from UE#2.
23\. **Telepresence state update**
With the media information negotiated over CLUE, the UE#2 constructs a new SDP
offer/answer setting up the media transmission for telepresence based on the
negotiated captures and encodings via CLUE.
24 -- 29. **SIP re-INVITE request (between UE and MRFC)**
The UE#2 initiates the SIP re-INVITE request to establish the IM conference
supporting telepresence containing multiple media streams with attributes or
characteristics that were negotiated via CLUE.
## A.2.4 Updating during an IM conference supporting telepresence
Figure A.2.4.1: Updating during an IM conference supporting telepresence
Figure A.2.4.1 shows an update of an ongoing IM session supporting
telepresence after multiple media streams between UE#1and MRFP have been
established.
The details of the flows are as follows:
1\. **CLUE messages exchange**
The ongoing IM conference supporting telepresence is updated by both changes
defined in subclause 5.5.1, the UE#1 and the MRFP exchanges their media
characteristics and capabilities by sending CLUE ADVERTISEMENT and CLUE
CONFIGURE messages to facilitate the negotiation of media captures in both
directions. If it is updated by captures change only defined in subclause
5.5.1, the following steps 2-11 are not triggered.
NOTE 1: The sequence of SDP and CLUE in the case of both changes depends on
local policy described in subclause 5.8.3. Herein the CLUE messages are first
sent in this example signalling flow.
> Editor's note: If this flow is moved to the normative TS work, detailed
> message needs to be added.
2\. **Telepresence state update**
With the media information negotiated over CLUE channel, the UE#1 constructs
an updated SDP offer/answer setting up the media transmission for telepresence
based on the basic media session.
3 -- 11. **SIP re-INVITE request (between UE and MRFC)**
The UE#1 initiates the SIP re-INVITE request to re-establish the IMS
conference supporting telepresence containing multiple media streams with
spatial relationship that negotiated via CLUE channel.
NOTE 2: An updated SDP offer/answer shall be exchanged in the case of streams
change only as defined in subclause 5.5.1. In this case, the above steps 1-2
are not triggered.
# A.3 Flows demonstrating an IM point to point call supporting telepresence
## A.3.1 Introduction
Clause A.3 covers the flows that show how to establish an IM point to point
call supporting telepresence, between two TP Ues via the intermediate IM
network.
## A.3.2 Call flow of the originating side
Figure A.3.2-1: UE originated IM point to point call supporting telepresence
Figure A.3.2-1 shows the TP UE initiating an IM point to point call supporting
telepresence with a remote TP UE, by incorporating CLUE tools with the basic
IMS SIP/SDP mechanism. The CLUE messages are exchanged to configure the
available media captures between the two Ues, which facilitate the
establishment and transportation of the media streams.
The details of the flows are as follows:
1 -- 7. **SIP INVITE request (UE#1 to intermediate IMS)**
Based on the IM point to point call procedures as specified in 3GPP TS 24.229
[3], the UE#1 initiates the SIP INVITE request message with a
+sip.telepresence Contact header field parameter which indicates the UE
supports CLUE, the message further contains a basic media session and a
request for a CLUE data channel (e.g. via an SDP \"m=\" line indicating a
DTLS/SCTP association, together with an SDP \"sctpmap\" attribute indicating
the use of a data channel and a session-level \"group\" attribute indicating
that the DTLS/SCTP association belongs to a TP group).
The SIP INVITE request is forwarded till to the remote UE.
8 -- 10. **SIP 183 (Session Progress) response (the remote UE to UE#1)**
The S-CSCF forwards the 183 (Session Progress) response to UE#1.
11\. **CLUE channel establishment**
With the negotiated connection information in SDP, UE#1 and the remote UE
establish the CLUE channel between them.
Editor's note: The CLUE channel is offered during the initial SIP INVITE, and
remains connected for the duration of the CLUE/SIP session. The details of
bearer resource allocation and policy control for the CLUE channel in IMS is
for further study.
12 -- 32. **Set up of basic media session**
> The basic media session is processed as per procedures defined in 3GPP TS
> 24.229 [3].
33\. **CLUE messages exchange**
Once the CLUE channel is connected, UE#1 and the remote UE exchange their
media characteristics and capabilities by sending CLUE ADVERTISEMENT and CLUE
CONFIGURE messages to facilitate the negotiation of media captures in both
directions. The CLUE ADVERTISEMENT contains the available media captures and
information elements such as spatial views, media compositions and encodings
to facilitate capture selection and rendering. See information regarding the
usage of these CLUE messages in draft-ietf-clue-framework [9].
34\. **Telepresence update**
With the media capture information negotiated over CLUE, the UE#1 constructs a
new SDP offer/answer setting up the media transmission in the session.
35 -- 43. **SIP re-INVITE request (between UE#1 and the remote UE)**
The UE#1 initiates the SIP re-INVITE request to establish the IM point to
point call supporting telepresence containing multiple media streams for the
configured media captures.
## A.3.3 Call flow of the terminating side
Figure A.3.3-1: UE terminated IM point to point call supporting telepresence
Figure A.3.3-1 shows the TP UE receiving an IM point to point call supporting
telepresence from an originating TP UE, by incorporating CLUE tools with the
basic IMS SIP/SDP mechanism. The CLUE messages are exchanged to configure the
available media captures between the two Ues, which facilitate the
establishment and transportation of the media streams.
The details of the flows are as follows:
1 -- 7. **SIP INVITE request (Intermediate IMS to UE#2)**
Based on the IM point to point call procedures as specified in 3GPP TS 24.229
[3], the TP UE receives the SIP INVITE request message with a
+sip.telepresence Contact header field parameter which indicates the
originating UE supports CLUE, the message further contains a basic media
session and a request for a CLUE data channel (via an SDP \"m=\" line
indicating a DTLS/SCTP association, together with an SDP \"sctpmap\" attribute
indicating the use of a data channel and a session-level \"group\" attribute
indicating that the DTLS/SCTP association belongs to a TP group).
8 . **Confirm the support of CLUE**
UE#2 determines whether telepresence is supported in this session, if so it
completes the support information for CLUE channel in the SDP answer.
9 -- 11. **SIP 183 (Session Progress) response (UE#2 to the originating UE)**
UE#2 determines the set of codecs that it is capable of supporting for this
point to point call. It determines the intersection with those appearing in
the SDP in the SIP INVITE request.
The UE#2 determines the originating UE\'s support of telepresence by receiving
the +sip.telepresence Contact header field parameter of the SIP INVITE
request, and it also includes the same parameter in the response message. The
media stream capabilities of the destination as well as the connection
information for a CLUE data channel are returned in a SIP 183 (Session
Progress) provisional response and finally forwarded to the originating UE.
12\. **CLUE channel establishment**
With the negotiated connection information in SDP, UE#2 and the originating UE
establish the CLUE channel between them.
Editor's note: The CLUE channel is offered during the initial SIP INVITE, and
remain connected for the duration of the CLUE/SIP session. The details of
bearer resource allocation and policy control for the CLUE channel in IMS is
for further study.
13 -- 33. **Set up of basic media session**
> The basic media session is processed as per procedures defined in 3GPP TS
> 24.229 [3].
34\. **CLUE messages exchange**
Once the CLUE channel is connected, the two Ues exchange their media
characteristics and capabilities by sending CLUE ADVERTISEMENT and CLUE
CONFIGURE messages to facilitate the negotiation of media captures in both
directions The CLUE ADVERTISEMENT contains the available media captures and
information elements such as spatial views, media compositions and encodings
to facilitate capture selection and rendering. See information regarding the
usage of these CLUE messages in draft-ietf-clue-framework [9].
35-43. **SIP re-INVITE request (between the originating UE and UE#2)**
With the media capture information negotiated over CLUE, the two Ues trigger a
new SDP offer/answer setting up the media transmission in the session, to
establish the IM point to point call supporting telepresence containing
multiple media streams for the configured media captures.
## A.3.4 Updating during an IM point to point session supporting telepresence
Figure A.3.4-1: UE originated updating during IM point to point session
supporting telepresence
Figure A.3.4-1 shows the TP UE updating an IM point to point call supporting
telepresence with a remote TP UE after multiple media streams of this session
between UE#1 and UE#2 has been established, by an exchange of CLUE messages
and an update SDP offer/answer described in subclause 5.5.
The details of the flows are as follows:
1\. **CLUE messages exchange**
The ongoing IM point to point supporting telepresence is updated by both
changes defined in subclause 5.5.1, the UE#1 and the UE#2 exchanges their
media characteristics and capabilities by sending CLUE ADVERTISEMENT and CLUE
CONFIGURE messages to facilitate the negotiation of media captures in both
directions. If it is updated by captures change only defined in subclause
5.5.1, the following steps 2-11 are not triggered.
NOTE 1: The sequence of SDP and CLUE in the case of both changes depends on
local policy described in subclause 5.8.3. Herein the CLUE messages are first
sent in this example signalling flow.
> Editor's note: If this flow is moved to the normative TS work, detailed
> message needs to be added.
2\. **Telepresence state update**
With the media capture information negotiated over CLUE channel, the UE#1
constructs an updated SDP offer/answer setting up the media transmission in
the session.
3 -- 11. **SIP re-INVITE request (between UE#1 and the remote UE)**
The UE#1 initiates the SIP re-INVITE request to establish the IM point to
point call supporting telepresence containing multiple media streams for the
configured media captures.
NOTE 2: An updated SDP offer/answer shall be exchanged in the case of streams
change only as defined in subclause 5.5.1. In this case, the above steps 1-2
are not triggered.
#