# Foreword
This Technical Report has been produced by the 3^rd^ Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
Y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# Introduction
WLAN/3GPP Radio Interworking Study Item (SI) has been approved by the RAN#58
plenary in Barcelona.
The present document captures the output of the study.
# 1 Scope
The present document constitutes the output of the Study on \"WLAN/3GPP Radio
Interworking\" [2].
The present document captures agreements related to requirements, scenarios
and key issues that shall be addressed by the study, candidate solutions as
well as conclusions and recommendations for further work.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or non‑specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] RP-122038: Study Item Description on \"WLAN/3GPP Radio Interworking\".
[3] 3GPP TS 23.402: \"Architecture enhancements for non-3GPP accesses\".
[4] 3GPP TS 24.312: \"Access Network Discovery and Selection Function (ANDSF)
Management Object (MO)\".
[5] IEEE Std 802.11-2012: \"Part 11: Wireless LAN Medium Access Control (MAC)
and Physical Layer (PHY) Specifications\".
[6] Wi-Fi Alliance Hotspot 2.0 (Release 1) Technical Specification.
[7] 3GPP TS 36.331: \"Evolved Universal Terrestrial Radio Access (E-UTRA);
Radio Resource Control (RRC); Protocol specification\".
[8] 3GPP TS 25.331: \"Radio Resource Control (RRC); Protocol specification\".
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
TR 21.905 [1] and the following apply.\ A term defined in the present document
takes precedence over the definition of the same term, if any, in TR 21.905
[1].
**\ :** \.
## 3.2 Symbols
(void)
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1] and the following apply.\ An abbreviation defined in the present document
takes precedence over the definition of the same abbreviation, if any, in TR
21.905 [1].
ANDSF Access Network Discovery and Selection Function (see [3] and TS [4])
ANQP Access Network Query Protocol (see [5])
HS 2.0 Hotspot 2.0 (Release 1) (see [6])
IEEE Institute of Electrical and Electronics Engineers
IFOM IP Flow Mobility
MAPCON Multi Access PDN Connectivity
OAM Operations, Administration, Maintenance
WLAN Wireless Local Area Network
WFA Wi-Fi Alliance
# 4 General
WLAN interworking and integration is currently supported by 3GPP
specifications at the CN level, including both seamless and non-seamless
mobility to WLAN.
3GPP have agreed to study potential RAN level enhancements for WLAN/3GPP
Interworking in Rel-12. According to the Study Item Description (SID) in
RP-122038 [2] the following issues should be taken into account during the
study:
1\. Operator deployed WLAN networks are often under-utilized;
2\. User experience is suboptimal when UE connects to an overloaded WLAN
network;
3\. Unnecessary WLAN scanning may drain UE battery resources.
The study is divided in two phases.
**Phase 1:**
\- Identify the requirements for RAN level interworking, and clarify the
scenarios to be considered in the study while taking into account existing
standardized mechanisms.
**Phase 2:**
\- Identify solutions addressing the requirements identified in the first
phase which cannot be solved using existing standardized mechanisms,
including:
\- Solutions that enable enhanced operator control for WLAN interworking, and
enable WLAN to be included in the operator's cellular Radio Resource
Management (RRM).
\- Enhancements to access network mobility and selection which take into
account information such as radio link quality per UE, backhaul quality, load,
etc. for both cellular and WLAN accesses.
\- Evaluate the benefits and impacts of identified mechanisms over existing
functionality, including core network based WLAN interworking mechanisms (e.g.
ANDSF).
The present document captures the results of both phases.
# 5 Deployment scenarios, key issues and requirements
This clause captures deployment scenarios, key issues that the study should
address as well as requirements and assumptions.
## 5.1 Assumptions
1\. There is no need to distinguish between indoor and outdoor deployment
scenarios.
2\. Solutions developed as a result of this study should not rely on
standardized interface between 3GPP and WLAN RAN nodes.
3\. A UE in coverage of a 3GPP RAT when accessing WLAN will still be
registered to the 3GPP network and will be either in IDLE mode or in CONNECTED
mode.
4\. Residential WLAN AP deployment should not be considered as part of this
study.
5\. User preference always take precedence over RAN based or ANDSF based
rules.
6\. If RAN2 decides to develop WLAN measurement solutions, RAN2 should take
into account the lack of control over WLAN radio sensitivity calibration and
WLAN measurement performance requirements.
7\. If WLAN radio signal/quality thresholds and/or measurements are
introduced, the granularity should match the accuracy to be expected (e.g.
just a few levels that are likely to be distinguished correctly by typical
WLAN implementations).
## 5.2 Requirements
The candidate solutions to be considered in this study should meet the
following requirements:
1\. Solutions should provide improved bi-directional load balancing between
WLAN and 3GPP radio access networks in order to provide improved system
capacity.
2\. Solutions should improve performance (WLAN interworking should not result
in decreased but preferable in better user experience).
3\. Solutions should improve the utilization of WLAN when it is available and
not congested.
4\. Solutions should reduce or maintain battery consumption (e.g. due to WLAN
scanning/discovery).
5\. Solutions should be compatible with all existing CN WLAN related
functionality, e.g. seamless and non-seamless offload, trusted and non-trusted
access, MAPCON and IFOM.
6\. Solutions should be backward compatible with existing 3GPP and WLAN
specifications, i.e. work with legacy Ues even though legacy Ues may not
benefit from the improvements provided by these solutions.
7\. Solutions should rely on existing WLAN functionality and should avoid
changes to IEEE and WFA specifications.
8\. Per target WLAN system distinction (e.g. based on SSID) should be
possible.
9\. Per-UE control for traffic steering should be possible.
10\. Solutions should ensure that access selection decisions should not lead
to ping-ponging between\ UTRAN/E-UTRAN and WLAN.
## 5.3 Scenarios
The scenario considered in this study focuses on WLAN nodes deployed and
controlled by operators and their partners. There can be several WLAN Access
Points (APs) within the coverage of a single UTRAN/E-UTRAN cell.\ The eNB/RNC
may know the location or other WLAN AP parameters (e.g. BSSID, channel,
etc...), however scenarios where such information is not available should be
supported as well.
There is no RAN-level information exchange between H€NBs/eNBs/RNCs and APs via
standardized interface.\ At a later stage it can be 7etric7d whether/which
benefits could be achieved if a non-standardized interface between WLAN APs
and 3GPP RAN is available.
NOTE: Some information exchange may be possible via OAM.
## 5.4 Use cases
The following use cases should be considered in this study:
A. UE is within UTRAN/E-UTRAN coverage, is using 3GPP and goes into WLAN AP
coverage
B. UE is within UTRAN/E-UTRAN and WLAN coverage, is using WLAN and goes out of
WLAN AP coverage
C. UE is within the coverage area of both, UE using WLAN, all or a subset of
the UE's traffic should be routed via UTRAN/E-UTRAN instead
D. UE is within the coverage area of both, UE using UTRAN/E-UTRAN, all or a
subset of the UE's traffic should be routed via WLAN instead
E. UE using both accesses and should be connected to only one (WLAN or
UTRAN/E-UTRAN) or some traffic should be moved to the other access
# 6 Solutions
## 6.1 Access network selection and traffic steering
The following solution candidates for the WLAN -- UTRAN/E-UTRAN (UTRAN/E-UTRAN
is referred to as "RAN" in the remainder of the present document) access
network selection have been identified.
### 6.1.1 Solution 1
In this solution RAN provides RAN assistance information to the UE through
broadcast signalling (and optionally dedicated signalling). The UE uses the
RAN assistance information UE measurements and information provided by WLAN
and policies that are obtained via the ANDSF or via existing OMA-DM mechanisms
or pre-configured at the UE to steer traffic to WLAN or to RAN.
This solution is applicable to Ues in RRC IDLE and RRC CONNECTED states for
E-UTRAN, UE IDLE mode for UTRAN and CELL_DCH, CELL_FACH, CELL_PCH and URA_PCH
states for UTRAN.
#### 6.1.1.1 Description
Figure 6.1.1.1-1 illustrates solution 1 candidate call flow:
Figure 6.1.1.1-1: Solution 1: Traffic steering
**RAN assistance information**
> Table 6.1.1.1-1 shows candidate assistance parameters which may be provided
> by RAN:
Table 6.1.1.1-1: Candidate assistance parameters provided by RAN
* * *
Parameter Description
**Load Information** Direct/indirect indication of UMTS/LTE load, e.g. in
percentage,\ in load levels (low, medium, high) or offload preference
indicator
**Resource Allocation** Maximum resource allocation the UE may receive on
UMTS/LTE
**WLAN Thresholds** WLAN RSSI threshold, WLAN BSS load threshold and WLAN WAN
metric threshold
**RAN Thresholds** RSRP/ RSCP thresholds
* * *
[]{.underline}
**Policy Information**
The policies provided to the UE are enhanced by having the RAN assistance
information:
The policy may include multiple candidate information simultaneously. An
example of such policy may be as follows:
  * **3GPP  WLAN:** If RAN RSRP is less than threshold _s_ and RAN direct load is greater than threshold _x_ , and if WLAN RSSI is greater than threshold _r_ and WLAN BSS load is less than threshold _y_ , move flow to WLAN
  * **WLAN  3GPP:** If RAN RSRP is greater than threshold _s'_ and RAN direct load is less than threshold _x'_ , and if WLAN RSSI is less than threshold _r'_ and WLAN BSS load is greater than threshold _y'_ , move flow to UMTS/LTE.
This can be realized e.g. with a new policy structure (similar to ISRP). The
value of the thresholds (e.g. RAN RSRP/RSCP thresholds) may be provided by RAN
and used in the ANDSF policy. Otherwise threshold values may also be provided
by the ANDSF itself.
Policies specific to the UE can be configured or pre-provisioned based on the
UE subscription. Optionally per UE control for traffic steering can be
achieved using dedicated signalling during connected mode, e.g. the RAN may
send different values of the above parameters to different Ues in connected
mode. Policies specific to a target WLAN system (e.g. SSID, realm) can be
configured or pre-provisioned.
Policies and network assisted information can also be used to route some flow
to WLAN and some to 3GPP.
There are possible mechanisms to avoid simultaneous massive access network
selection/traffic steering and ping-pong events, e.g., hysteresis,
randomization, different threshold values for 3GPP-to-WLAN than WLAN-to-3GPP
network selection, or thresholds on per user subscription level which may be
applied to UE based decision.
**Illustrative implementation**
The following diagram is an illustrative implementation of solution 1 flow.
For illustration purpose, it is assumed that ANDSF policies are enhanced e.g.
with the following RAN parameters:
  1. RSRP/RSCP thresholds
  2. Cellular load thresholds
Figure 6.1.1.1-2: Solution 1: Traffic steering
#### 6.1.1.2 Example of solution 1 (informative)
{width="5.145833333333333in" height="2.9895833333333335in"}
Figure 6.1.1.2-1 Example of Solution 1
Figure 6.1.1.2-1 shows an exemplary illustration of how solution 1 works.
\- UE receives ANDSF policies from the ANDSF server (ANDSF client is
implemented in this case), or has pre-provisioned ANDSF policies.
\- The ANDSF policies include RAN/WLAN parameters to be added to WLANSP node
(for WLAN AP selection) and/or ISRP node (for traffic routing) in TS 24.312
[4] of Rel-12 by receiving inputs from this RAN2 SI/WI. Details are FFS. Some
RAN/WLAN parameters are listed below for illustration:
\- RSRP/RSRQ threshold: in unit of dBm/dB
\- Offload Preference threshold: would be the form of, for instance,
\- One bit (e.g. true/false)
\- Two bits (e.g. 0, 1, 2, 3 to indicate the level of offload preference
threshold)
\- Offload percentage value (similar to _ac-BarringFactor_ to prevent massive
toggling)
\- Figure 6.1.1.2-2 shows an example of enhanced ANDSF MO based on the above
descriptions. In this example, the above example parameter(s) are added as
e.g. the _RANConditions_ node under the _RoutingRule_ node of each ISRP node,
that is, the _ForFlowBased_ node (for IFOM case i.e. IP flow-level steering),
_ForServiceBased_ node (for MAPCON case i.e. APN-level steering; what we
described here) and _ForNonSeamlessOffload_ node (for NSWO case).
\- When the _AccessTechnology_ leaf is set to '1' (i.e. 3GPP), the
_AccessNetworkPriority_ leaf is valid only if the 3GPP RAN meets all
conditions under the _RANConditions_ node if present. Otherwise, the UE
ignores the instance of the _RoutingRule_ node.
\- For example, an operator can provide multiple _RoutingRule_ for the 3GPP
network with and without _RANConditions_ , and assign different
_AccessNetworkPriority_ value.
\- The leaf (e.g. RSRP, RSRQ and OffloadPreference) under _RANConditions_ , if
present, includes a default threshold. The default threshold may be replaced
with the corresponding thresholds from the RAN if provided by the RAN.
Conditions to replace the default thresholds are FFS.
\- As described in the TS 24.312 [4], the UE shall consider the access network
with the lowest AccessNetworkPriority value as the access network having the
highest priority for the indicated flows (i.e. the _APN_ in Figure 6.1.1.2-2).
{width="6.0in" height="4.177083333333333in"}
Figure 6.1.1.2-2 Example of enhanced ANDSF MO (for MAPCON): the RANConditions
node added for the RAN2 SI/WI
\- UE receives/measures RAN and/or WLAN parameters from each network.
\- New _SystemInformationBlock_ message or dedicated RRC message may be used
to carry RAN-related parameters.
\- Scanning procedure (e.g. receiving the Beacon frame) or the ANQP procedure
may be utilized to obtain WLAN-related parameters.
\- The UE determines the traffic steering to the specific access network.
\- The UE takes all available parameters (e.g. ANDSF policies, RAN/WLAN
parameters, user preferences, etc) into account and determines the traffic
steering to the selected access network for specific flows (APN/IP flow as
indicated in the ANDSF policies). The UE may replace the thresholds/values of
the ANDSF MO with the thresholds/values from RAN/WLAN if available.
### 6.1.2 Solution 2
In this solution the offloading rules are specified in RAN specifications. The
RAN provides (through dedicated and/or broadcast signalling) thresholds which
are used in the rules.
This solution is applicable to Ues in RRC IDLE and RRC CONNECTED states for
E-UTRAN, UE IDLE mode for UTRAN and CELL_FACH, CELL_PCH, URA_PCH and CELL_DCH
states for UTRAN).
#### 6.1.2.1 Description
This solution consists of the following steps, which is described in Figure
6.1.2.1-1..
Figure 6.1.2.1-1: Solution 2: Traffic steering
For the above signalling procedure, each step is elaborated below.
**[Step 1:]{.underline}**
> The RAN provides parameters through dedicated signalling and/or broadcast
> signalling.
**[Step 2:]{.underline}**
> The UE follows RAN rules, defined in 3GPP RAN specifications, to perform bi-
> directional offloading between WLAN and 3GPP. User preference should take
> precedence.
Rule example:
+----------------------------------------------------------------------+ | if (measured_metricA \ | | threshold2) { | | | | steerTrafficToWLAN(); | | | | } else if (measured_metricA > threshold3) \|\| (measured_metricB | | \ For measurement control, the following examples are types of information can
> be configured for the UE to measure the operator WLAN:
>
> 1\. Measurement events to trigger reporting as defined in Table 6.1.3.1-1
>
> 2\. Target identification as defined in Table 6.1.3.1-2
>
> 3\. Measurements to report as defined in Table 6.1.3.1-3
>
> Based on the measurement events defined in TS 36.331 [7] and TS 25.331 [8],
> Table 6.1.3.1-1 shows the candidate measurement events for WLAN:
Table 6.1.3.1-1: Candidate measurement events for reporting WLAN
* * *
Event Description **W1** WLAN becomes better than a threshold (to trigger
traffic steering to WLAN) **W2** WLAN becomes worse than a threshold (to
trigger traffic steering from WLAN) **W3** 3GPP Cell's radio quality becomes
worse than threshold1 and WLAN's radio quality becomes better than threshold2
(to trigger traffic steering to WLAN) **W4** WLAN's radio quality becomes
worse than threshold1 and 3GPP Cell's radio quality becomes better than
threshold2 (to trigger traffic steering from WLAN)
* * *
NOTE 4: The thresholds are based on the values of the measurements to report
defined in Table 6.1.3.1-3.
The target identification is used to indicate to the UE which WLAN to consider
for the measurement control procedures including the target WLAN ID and the
operating channels to search for. Table 6.1.3.1-2 shows the candidate target
identifiers for WLAN.
NOTE 5: For steering traffic from WLAN, i.e., W2/W4, it may be sufficient that
just the serving WLAN below a threshold is reported, i.e. the WLAN target
identifiers are not needed.
Table 6.1.3.1-2: Candidate target identifiers for WLAN
+----------------------+----------------------+----------------------+ | Identifier | Description | Availability in WLAN | +----------------------+----------------------+----------------------+ | **BSSID** | **Basic Service Set | Beacon or | | | Identifier:** For | | | | infrastructure BSS, | Probe Response | | | the BSSID is the MAC | | | | address of the | | | | wireless access | | | | point | | +----------------------+----------------------+----------------------+ | **SSID** | **Service Set | Beacon or | | | Identifier:** The | | | | SSID can be used in | Probe Response | | | multiple, possibly | | | | overlapping, BSSs | | +----------------------+----------------------+----------------------+ | **HESSID** | **Homogeneous | Beacon or | | | Extended Service Set | | | | Identifier:** A MAC | Probe Response | | | address whose value | | | | shall be configured | (802.11) | | | by the Hotspot | | | | Operator with the | | | | same value as the | | | | BSSID of one of the | | | | APs in the network. | | | | All APs in the | | | | wireless network | | | | shall be configured | | | | with the same HESSID | | | | value. | | +----------------------+----------------------+----------------------+ | **Domain Name List** | **Domain Name List** | ANQP (HS 2.0) | | | element provides a | | | | list of one or more | | | | domain names of the | | | | entity operating the | | | | WLAN access network. | | +----------------------+----------------------+----------------------+ | **Operating class,** | Indication of the | N/A | | | target WLAN | | | **channel number** | frequency. | | | | | | | | See Annex E of | | | | 802.11 [5] for | | | | definitions of the | | | | different operating | | | | classes | | +----------------------+----------------------+----------------------+ | NOTE: If above | | | | information is not | | | | available in | | | | eNB/RNC, it is | | | | possible for RAN to | | | | configure general | | | | WLAN measurements | | | +----------------------+----------------------+----------------------+
**[Step 2: Measurement report]{.underline}**
> Table 6.1.3.1-3 shows the candidate measurements to report for WLAN.
Table 6.1.3.1-3: Candidate measurement to report for WLAN
+-----------------+------------------------+------------------------+ | Identifier | Description | Availability | | | | | | | | in WLAN | +-----------------+------------------------+------------------------+ | **RCPI** | **Received Channel | Measurement | | | Power Indicator:** | | | | Measure of the | | | | received RF power in | | | | the selected channel | | | | for a received frame | | | | in the range of -110 | | | | to 0 dBm | | +-----------------+------------------------+------------------------+ | **RSNI** | **Received Signal to | Measurement | | | Noise Indicator:** An | | | | indication of the | | | | signal to noise plus | | | | interference ratio of | | | | a received IEEE 802.11 | | | | frame. | | | | | | | | Defined by the ratio | | | | of the received signal | | | | power (RCPI-ANPI) to | | | | the noise plus | | | | interference power | | | | (ANPI) in steps of 0.5 | | | | dB in the range from | | | | --10 dB to + 117 dB | | +-----------------+------------------------+------------------------+ | **BSS Load** | Contains information | Beacon or | | | on the current STA | | | | population and traffic | Probe Response | | | levels in the BSS. | (802.11k) | +-----------------+------------------------+------------------------+ | **WAN metrics** | Includes estimates of | ANQP (HS 2.0) | | | DL and UL speeds and | | | | loading as well as | | | | link status and | | | | whether the WLAN AP is | | | | at capacity. | | +-----------------+------------------------+------------------------+
**[Step 3: Traffic steering]{.underline}**
> In order for RAN to control traffic routing (if agreed to be supported) if
> ANDSF is not used, the RAN would need to know which APNs/bearers may be
> (not) offloaded. The RAN also needs means to inform the Ues accordingly so
> that e.g. the UE can issue the corresponding binding update with the CN over
> S2c. This would impact signalling between CN and eNB as well as the UE
> behaviour between AS and NAS level.
>
> Table 6.1.3.1-4 shows candidate examples for identifying the traffic to
> steer to or from WLAN.
Table 6.1.3.1-4: Candidate identifiers of the traffic to steer to or from WLAN
* * *
Identifier Description DRB/RB-ID Identity of a radio bearer QCI QoS Class
Identifier
* * *
# 7 Conclusions
RAN2 have studied 3 solutions but did not conclude which solution would be
feasible or preferable.
#