# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document describes the protocol to be used on the IMS Application
Level Gateway (ALG) -- IMS Access Gateway (IMS-AGW) interface. The basis for
this protocol is the H.248 protocol as specified in ITU-T. The IMS
architecture is described in 3GPP TS 23.228 [2]. The underlying reference
model and stage 2 information is described in Annex G of 3GPP TS 23.228 [2]
and in 3GPP TS 23.334 [23].
This specification describes the application of H.248 on the Iq interface (see
Figure 1). Required extensions use the H.248 standard extension mechanism. In
addition certain aspects of the base protocol H.248 are not needed for this
interface and thus excluded by this profile.
{width="4.981944444444444in" height="1.6513888888888888in"}
Figure 1: Reference model for IMS access
The reference model for the IMS-ALG and the IMS-AGW supporting the ATCF/ATGW
function is shown in Figure 1a below.
> Figure 1a: Reference model for IMS-ALG/IMS-AGW with ATCF/ATGW function
See 3GPP TS 23.237 [38] clause 5.2 for a comprehensive description of the
reference model.
The reference model for the P-CSCF enhanced for WebRTC (eP-CSCF) and the IMS-
AGW enhanced for WebRTC (eIMS-AGW) to support WebRTC client access to IMS is
shown in Figure 1b as below, see 3GPP TS 23.228 [2] Annex U for a
comprehensive description of the reference model.
Figure 1b: Reference Architecture for eP-CSCF/eIMS-AGW supporting WebRTC
access to IMS
NOTE: The presence of dashed elements in the figure depends on the
configuration.
PCC functional elements are present only for EPC access with QoS.
The corresponding PCC elements for fixed access are also optionally supported
but not shown.
The NAT in figure 1b is meant for non-cellular access to IMS.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
  * References are either specific (identified by date of publication, > edition number, version number, etc.) or non‑specific.
  * For a specific reference, subsequent revisions do not apply.
  * For a non-specific reference, the latest version applies. In the > case of a reference to a 3GPP document (including a GSM document), > a non-specific reference implicitly refers to the latest version > of that document _in the same Release as the present document_.
[1] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[2] 3GPP TS 23.228: \"IP Multimedia Subsystem (IMS); Stage 2\".
[3] ETSI TS 183 018 V3.5.1 (2009-07): \"Telecommunications and Internet
converged Services and Protocols for Advanced Networking (TISPAN); Resource
and Admission Control: H.248 Profile Version 3 for controlling Border Gateway
Functions (BGF) in the Resource and Admission Control Subsystem (RACS);
Protocol specification\".
[4] ITU-T Recommendation H.248.37 (06/2008): \"Gateway control protocol: IP
NAPT traversal package\".
[5] ITU-T Recommendation H.248.57 (10/2014): \"Gateway control protocol: RTP
Control Protocol Package\".
[6] ITU-T Recommendation H.248.43 (06/2008): \"Gateway control protocol: Gate
Management and Gate Control packages\".
[7] ITU-T Recommendation H.248.53 (03/2009): \"Gateway control protocol:
Traffic management packages\".
[8] ITU-T Recommendation H.248.41 Amendment 1 (06/2008): \"Gateway control
protocol: IP domain connection package: IP Realm Availability Package\".
[9] ITU-T Recommendation H.248.36 (09/2005): \"Gateway control protocol:
Hanging Termination Detection package\".
[10] ITU-T Recommendation H.248.1 (05/2002): \"Gateway Control Protocol:
Version 2\" including the Corrigendum1 for Version 2 (03/04).
[11] ITU-T Recommendation H.248.14 (03/2009): \"Gateway control protocol:
Inactivity timer package\".
[12] ITU-T Recommendation H.248.52 (06/2008): \"Gateway control protocol: QoS
support packages\".
[13] ITU-T Recommendation H.248.11 (11/2002): \"Gateway control protocol:
Media gateway overload control package\".\ Inclusive Corrigendum 1 (06/2008)
to H.248.11 \" Gateway control protocol: Media gateway overload control
package: Clarifying MG-overload event relationship to ADD commands\".
[14] ITU-T Recommendation H.248.10 (07/2001): \"Media gateway resource
congestion handling package\".
[15] IETF RFC 5234 (2008): \"Augmented BNF for Syntax Specifications: ABNF\".
[16] IETF RFC 4960 (2007): \"Stream control transmission protocol\".
[17] IETF RFC 4566 (2006): \"SDP: Session Description Protocol\".
[18] IETF RFC 4975 (2007): \"The Message Session Relay Protocol (MSRP)\".
[19] IETF RFC 3551 (2003): \"RTP Profile for Audio and Video Conferences with
Minimal Control\".
[20] IETF RFC 4145 (2005): \"TCP-Based Media Transport in the Session
Description Protocol (SDP)\".
[21] IETF RFC 3605 (2003): \"Real Time Control Protocol (RTCP) attribute in
Session Description Protocol (SDP)\".
[22] ITU-T Recommendation X.690 (11/2008): \"ASN.1 encoding rules:
Specification of Basic Encoding Rules (BER), Canonical Encoding Rules (CER)
and Distinguished Encoding Rules (DER)\".
[23] 3GPP TS 23.334: \"IMS Application Level Gateway (IMS-ALG) -- IMS Access
Gateway (IMS-AGW) interface: Procedures Descriptions\".
[24] ITU-T Recommendation H.248.40 (01/2007): \"Gateway control protocol:
Application Data Inactivity Detection package\".
[25] IETF RFC 4585 (2006): \"Extended RTP Profile for Real-time Transport
Control Protocol (RTCP) - Based Feedback (RTP/AVPF)\".
[26] 3GPP TS 26.114: \"IP Multimedia Subsystem (IMS); Multimedia telephony;
Media handling and interaction\".
[27] 3GPP TS 33.210: \"Technical Specification Group Services and System
Aspects;3G Security; Network Domain Security; IP Network Layer Security\".
[28] IETF RFC 3556 (2003): \"Session Description Protocol (SDP) Bandwidth
Modifiers for RTP Control Protocol (RTCP) Bandwidth\".
[29] IETF RFC 4568 (2006): \"Session Description Protocol (SDP) Security
Descriptions for Media Streams\".
[30] IETF RFC 3711 (2004): \"The Secure Real-time Transport Protocol (SRTP)\".
[31] IETF RFC 5124 (2008): \"Extended Secure RTP Profile for Real-time
Transport Control Protocol (RTCP)-Based Feedback (RTP/SAVPF)\".
[32] IETF RFC 2216 (1997): \"Network Element Service Specification Template\".
[33] Supplement 7 to ITU-T H-series Recommendations H.Sup7 (05/2008):\"
Gateway control protocol: Establishment procedures for the H.248 MGC-MG
control association\".
[34] 3GPP TS 33.328: \"IMS Media Plane Security\".
[35] Void
[36] Void
[37] Void
[38] 3GPP TS 23.237: \"IP Multimedia subsystem (IMS) Service Continuity; Stage
2\".
[39] 3GPP TS 22.153: \"Multimedia Priority Service\".
[40] ITU-T Recommendation H.248.82 (03/2013): \"Gateway control protocol:
Explicit Congestion Notification Support\".
[41] IETF RFC 5285 (2008): \"A General Mechanism for RTP Header Extensions\".
[42] IETF RFC 6236: \"Negotiation of Generic Image Attributes in the Session
Description Protocol (SDP)\".
[43] ITU-T Recommendation H.248.50 (07/2016): \"**Gateway control protocol:
NAT traversal toolkit packages\"**.
[44] IETF RFC 5245: \"**Interactive Connectivity Establishment (ICE): A
Protocol for Network Address Translator (NAT) Traversal for Offer/Answer
Protocols\".**
[45] 3GPP TS 24.229: \"IP Multimedia Call Control Protocol based on SIP and
SDP\".
[46] ITU-T Recommendation H.248.84 (07/2012): \"Gateway control protocol: NAT
traversal for peer-to-peer services\".
[47] ITU-T Recommendation H.248.89 (10/2014): \"Gateway control protocol: TCP
support packages\".
[48] ITU-T Recommendation H.248.90 (10/2014): \"Gateway control protocol:
**ITU-T** H.248 packages for control of transport security using **transport
layer security (** TLS)\".
[49] ITU-T Recommendation H.248.92 (10/2014): \"Gateway control protocol:
Stream endpoint interlinkage package\".
[50] ITU-T Recommendation H.248.93 (10/2014): \"Gateway control protocol:
ITU-T H.248 **support** for control of transport security using **the datagram
transport layer security (** DTLS**) protocol** \".
[51] IETF RFC 793: \"Transmission Control Protocol -- DARPA Internet Program
-- Protocol Specification\".
[52] IETF RFC 4582: \"The Binary Floor Control Protocol (BFCP)\".
[53] IETF RFC 5246: \"The Transport Layer Security (TLS) Protocol Version
1.2\".
[54] IETF draft-schwarz-mmusic-sdp-for-gw-05: \"SDP codepoints for gateway
control\".
Editor\'s Note: The above document cannot be formally referenced until it is
published as an RFC.
[55] IETF RFC 8122: \"Connection-Oriented Media Transport over the Transport
Layer Security (TLS) Protocol in the Session Description Protocol (SDP)\".
[56] ITU-T Recommendation H.248.78 (11/2015): \"Gateway control protocol:
Bearer-level message backhauling and application level gateway\".
[57] IETF RFC 6714: \"Connection Establishment for Media Anchoring (CEMA) for
the Message Session Relay Protocol (MSRP)\".
[58] IETF RFC 7675: \"Session Traversal Utilities for NAT (STUN) Usage for
Consent Freshness\".
[59] IETF RFC 5761: \"Multiplexing RTP Data and Control Packets on a Single
Port\".
[60] IETF RFC 5763: \"Framework for Establishing a Secure Real-time Transport
Protocol (SRTP) Security Context Using Datagram Transport Layer Security
(DTLS)\".
[61] IETF RFC 5764: \"Datagram Transport Layer Security (DTLS) Extension to
Establish Keys for the Secure Real-time Transport Protocol (SRTP)\".
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the following terms and definitions
apply.
**Address:** term used for \"network address\" (IP address)
**End-to-access edge security:** media protection extending between an IMS UE
and the first IMS core network node in the media path without being terminated
by any intermediary node.
**Port:** term used for \"transport port\" (L4 port).
**Transcoding:** transcoding in general is the translation from one type of
encoded media format to another different media format, e.g. G.711 A-law to
μ-law or vice versa, G.729 to AMR with 4.75 rate.
NOTE 1: The definition of \"transcoding\" is according clause 3.10/ITU-T
Recommendation V.152 [23].
NOTE 2: Transcoding belongs to the category of \"media aware\" IP-to-IP
interworking.
**Transport Address:** term used for the combination of a _Network Address_
and a _Transport Port._
For the purposes of the present document, the following terms and definitions
as defined in 3GPP TS 23.334 [23] apply:
**ICE lite**
**Full ICE**.
## 3.2 Symbols
For the purposes of the present document, the following symbols apply:
Iq Interface between the IMS Application Level Gateway (ALG) (IMS-ALG) and the
IMS Access Gateway (IMS-AGW)
## 3.3 Abbreviations
For the purposes of the present document, the abbreviations defined in 3GPP TR
21.905 [1] apply, with the following additions. An abbreviation defined in the
present document takes precedence over the definition of the same
abbreviation, if any, in 3GPP TR 21.905 [1].
ABNF Augmented Backus-Naur Form
ATCF Access Transfer Control Function
ATGW Access Transfer Gateway
B-ALG Bearer Level Application-Level Gateway
BFCP Binary Floor Control Protocol
CVO Coordination of Video Orientation
DSCP Differentiated Service Code Point
e2ae End-to-Access-Edge (security model)
ECN Explicit Congestion Notification
eIMS-AGW IMS Access Gateway enhanced for WebRTC
eP-CSCF P-CSCF enhanced for WebRTC
ICE Interactive Connectivity Establishment
IMS-AGW IMS Access Gateway
IMS-ALG IMS Application Level Gateway
IP Internet Protocol
LD Local Descriptor (H.248 protocol element)
MG Media Gateway
MGC Media Gateway Controller
MPS Multimedia Priority Service
MSRP Message Session Relay Protocol
NA Not Applicable
NAPT Network Address and Port Translation
NAPT-PT NAPT and Protocol Translation
NAT Network Address Translation
RD Remote Descriptor (H.248 protocol element)
RTCP RTP Control Protocol
SCTP Stream Control Transport Protocol
SRVCC Single Radio Voice Call Continuity
STUN Session Traversal Utilities for NAT
TCP Transmission Control Protocol
TLS Transport Layer Security (protocol)
ToS Type-of-Service
TISPAN Telecommunications and Internet converged Services and Protocols for
Advanced Networking
WebRTC Web Real Time Communication
WIC WebRTC IMS Client
> WWSF WebRTC Web Server Function
# 4 Applicability
The support of the Iq interface capability set shall be identified by the
H.248 Iq profile and support of this profile shall be indicated in H.248
ServiceChange procedure (during the (re-)registration phase(s)).
## 4.1 Architecture
See Annex G and Annex U of 3GPP TS 23.228 [2].
# 5 Profile Description
## 5.1 Profile Identification
Table 5.1.1: Profile Identification
* * *
Profile name: threegIq Version: 3
* * *
## 5.2 Summary
This Profile describes the minimum mandatory settings and procedures required
to fulfil the requirements of the Iq interface (see 3GPP TS 23.334 [23]):
\- allocation and translation of IP addresses and port numbers (NA(P)T and
NA(P)T-PT);
\- opening and closing gates (i.e. packets filtering depending on \"IP address
/ port\");
\- remote NA(P)T traversal;
\- policing of incoming traffic;
\- QoS packet marking for outgoing traffic;
\- IP realm/domain indication;
\- Hanging termination detection;
\- RTCP handling;
and when ATCF/ATGW is supported:
\- handover of bearer connections between PS and CS access networks;
\- IP version interworking;
\- audio transcoding.
In addition, optional settings and procedures are described which fulfil
optional features and where supported, the minimum mandatory settings within
the optional procedures and packages are identified that must be supported in
order to support that feature.
\"Optional\" or \"O\" means that it is optional for either the sender or the
receiver to implement an element. If the receiving entity receives an optional
element that it has not implemented it should send an Error Code (e.g. 445
\"Unsupported or Unknown Property\", 501\"Not Implemented\", etc.).
\"Mandatory\" or \"M\" means that it is mandatory for the receiver to
implement an element. Whether it is mandatory for the sender to implement
depends on specific functions; detail of whether elements of the core protocol
are mandatory to be sent are defined in the stage 2 procedures, stage 3
procedures and/or the descriptions of individual packages.
The setting or modification of elements described in the profile under the
heading \"Used in Command\" has the meaning that the property can be
set/modified with that command. The property may be present in other commands
(in order to preserve its value in accordance with ITU-T Recommendation
H.248.1 [10]) when those commands are used for other procedures that affect
the same descriptor.
## 5.3 Gateway Control Protocol Version
Version 2 (ITU-T Recommendation H.248.1 [10]) shall be used as minimum
protocol version.
## 5.4 Connection model
Table 5.4.1: Connection Model
+------------------------------------------------+--------------------+ | **Maximum number of contexts:** | Provisioned | +------------------------------------------------+--------------------+ | **Maximum number of terminations per | 3 | | context:** | | +------------------------------------------------+--------------------+ | **Allowed terminations type combinations:** | (IP,IP) ; | | | | | | (IP,IP,IP) (NOTE) | +------------------------------------------------+--------------------+ | NOTE: This is only a temporary context | | | configuration, occurring during bearer access | | | transfer phase (between PS to CS access | | | networks or vice versa) or during the | | | reservation of two sets of transport | | | addresses/resources towards the access network | | | to support the functionalities related to the | | | Alternate Connectivity functionality (see | | | 3GPP TS 23.334 [23]). | | +------------------------------------------------+--------------------+
## 5.5 Context attributes
Table 5.5.1: Context Attributes
+-----------------------------+-------------------+------------------+ | Context Attribute | Supported | Values Supported | +-----------------------------+-------------------+------------------+ | **Topology** | Yes (NOTE 1) | See clause 5.7.9 | +-----------------------------+-------------------+------------------+ | **Priority Indicator** | Optional (NOTE 2) | 0-15 (NOTE 3) | +-----------------------------+-------------------+------------------+ | **Emergency Indicator** | Yes | YES/NO | +-----------------------------+-------------------+------------------+ | **IEPS Indicator** | No | NA | +-----------------------------+-------------------+------------------+ | **ContextAttribute | No | NA | | Descriptor** | | | +-----------------------------+-------------------+------------------+ | **ContextIdList Parameter** | No | NA | +-----------------------------+-------------------+------------------+ | **AND/OR Context | No | NA | | Attribute** | | | +-----------------------------+-------------------+------------------+ | NOTE 1: Stream ID in | | | | Topology Descriptor shall | | | | not be supported (because | | | | only used for SRVCC service | | | | support, which is a | | | | monomedia type of call | | | | (\"voice call\"). | | | | | | | | NOTE 2: This Context | | | | Attribute parameter is | | | | allowed in ETSI TISPAN Ia | | | | Profile version 3. It is | | | | also used for MPS as | | | | specified in 3GPP TS 22.153 | | | | [39]. | | | | | | | | NOTE 3: Priority values 11 | | | | -- 15 of the Priority | | | | Indicator are reserved for | | | | MPS. | | | +-----------------------------+-------------------+------------------+
## 5.6 Terminations
### 5.6.1 Termination names
#### 5.6.1.1 IP Termination
##### 5.6.1.1.1 ABNF Coding Overview and prose specification
The Termination ID structure shall follow the guidelines of H.248 and shall be
based on four fields:
\- \"ip/\/\/\\".
The individual fields are described and defined in table 5.6.1.1.1.1.
Table 5.6.1.1.1.1: IP Termination Fields
+-------------+-------------+-------------+-------------+-------------+ | Name | Description | Values | CHOOSE | ALL | | | | | Wildcard | Wildcard | +-------------+-------------+-------------+-------------+-------------+ | Ip | \"ip\" is a | \"ip\" | No | No | | | fixed | | | | | | prefix | | | | | | identifying | | | | | | the | | | | | | termination | | | | +-------------+-------------+-------------+-------------+-------------+ | Group | Group of | Integer | Yes (NOTE | Yes | | | Interface | (0-65535) | 5) | | | | and Id | | | | +-------------+-------------+-------------+-------------+-------------+ | Interface | Logical or | String of | Yes (NOTE | Yes | | | physical | max 51 | 4) | | | | interface | a | | | | | to a | lphanumeric | | | | | network | characters | | | | | to/from | | | | | | which the | | | | | | termination | | | | | | will be | | | | | | sendin | | | | | | g/receiving | | | | | | media. | | | | | | | | | | | | (NOTE 1, | | | | | | NOTE 2) | | | | +-------------+-------------+-------------+-------------+-------------+ | Id | Termination | Non-zero 32 | Yes (NOTE | Yes | | | specific | bit integer | 4) | | | | identifier | | | | | | | | | | | | (NOTE 3) | | | | +-------------+-------------+-------------+-------------+-------------+ | NOTE 1: A | | | | | | specific | | | | | | \ | | | | | | may be used | | | | | | together | | | | | | with | | | | | | different | | | | | | groups. | | | | | | | | | | | | NOTE 2: The | | | | | | generic | | | | | | field | | | | | | \ | | | | | | may relate | | | | | | s | | | | | | pecifically | | | | | | to an \"IP | | | | | | i | | | | | | nterface\", | | | | | | \"protocol | | | | | | layer 2 | | | | | | interface\" | | | | | | or others. | | | | | | | | | | | | NOTE 3: The | | | | | | combination | | | | | | of | | | | | | Interface | | | | | | and Id is | | | | | | unique. | | | | | | | | | | | | NOTE 4: The | | | | | | MGC shall | | | | | | always use | | | | | | CHOOSE in | | | | | | an ADD | | | | | | request | | | | | | command. If | | | | | | not, the MG | | | | | | shall reply | | | | | | with an | | | | | | error | | | | | | descriptor | | | | | | using error | | | | | | code #501 | | | | | | \"Not | | | | | | Imp | | | | | | lemented\". | | | | | | | | | | | | NOTE 5: The | | | | | | CHOOSE | | | | | | wildcard on | | | | | | \'Group\' | | | | | | is _not_ | | | | | | allowed in | | | | | | ETSI TISPAN | | | | | | \"Ia | | | | | | Profiles\". | | | | | +-------------+-------------+-------------+-------------+-------------+
NOTE: The IMS-ALG has the ability to choose the address space in which the
IMS-AGW will allocate an IP address for the termination by using the
_ipdc/realm_ property defined in the ITU-T Recommendation H.248.41 IP domain
connection package.
H.248 wildcarding may be applied on IP Termination Identifiers. Wildcarding is
limited according the two columns on the right hand side.
The corresponding ABNF grammar is given below.
ABNF (IETF RFC 5234 [15]) is used for the syntax specification. The ABNF for
TerminationID and relation to pathNAME is defined in annex B.2/ ITU-T
Recommendation H.248.1 [10].
> pathNAME = EphToken SLASH EPHsystem
>
> EphToken = \"ip\" ; prefix
>
> EPHsystem = WildcardALL
>
> / WildcardALL SLASH Interface
>
> / Group SLASH WildcardALL
>
> / (Group / WildcardCHOOSE) SLASH (Interface / WildcardCHOOSE) SLASH
> (Identifier
>
> / WildcardALL / WildcardCHOOSE)
>
> Group = %d0-65535 ; data type: INT16
>
> Interface = 1*51ALPHANUM
>
> Identifier = %d1-4294967295 ; data type: INT32
>
> ALPHANUM = ALPHA / DIGIT
>
> WildcardCHOOSE = \"\$\"
>
> WildcardALL = \"*\"
##### 5.6.1.1.2 ASN.1 Coding Overview and prose specification
The following general structure of termination ID shall be used:
4 octets shall be used for the termination ID. The following defines the
general structure for the termination ID:
Table 5.6.1.1.2.1: ASN.1 coding
* * *
Termination type X
* * *
Termination type:
Length 3 bits
Values:
000 Reserved
001 IP (Ephemeral) termination
010 Reserved (in 3GPP Mc and Mn profile used for TDM termination)
011 - 110 Reserved
111 Reserved for ROOT termination Id (ROOT Termination ID = 0xFFFFFFFF)
X:
> Length 29 bits.
>
> For IP termination, its usage is un-specified.
### 5.6.2 Multiplexed terminations
Table 5.6.2.1: Multiplexed terminations
* * *
**Multiplex terminations supported?** No
* * *
_If yes, then:_
Table 5.6.2.2: Multiplex Types
* * *
**Multiplex types supported** NA **Maximum number of terminations connected to
multiplex** NA
* * *
## 5.7 Descriptors
### 5.7.1 TerminationState Descriptor
Table 5.7.1.1: ServiceState property
+----------------------------------+----------------------------------+ | **ServiceState property used:** | Yes (InService/OutofService) | | | NOTE 1, NOTE 2 | +----------------------------------+----------------------------------+ | NOTE 1: This is restricted to | | | the ROOT termination (for MGW | | | audit). | | | | | | NOTE 2: Ephemeral H.248 | | | Terminations have a ServiceState | | | property according to ITU-T | | | Recommendation H.248.1 [10], | | | but explicit usage of the | | | TerminationState Descriptor | | | ServiceState property is not | | | required by this Profile. | | | ServiceState changes can still | | | occur, however, and can be | | | indicated in ServiceChange | | | Commands (i.e. this means that | | | the value of the ServiceState | | | property may be implicitly | | | changed by ServiceChange | | | procedures). | | +----------------------------------+----------------------------------+
Table 5.7.1.2: EventBufferControl property
* * *
**EventBufferControl property used:** No
* * *
### 5.7.2 Stream Descriptor
#### 5.7.2.0 General
Table 5.7.2.1: Stream descriptors
* * *
**Maximum number of streams per termination type** IP Unspecified (NOTE) NOTE
: At least one stream for each media component (e.g. video+audio = 2 streams).
If only one stream is applicable, then the IMS-ALG may omit the Stream
Descriptor and the IMS-AGW shall assume that StreamID = 1.
* * *
Table 5.7.2.2: Stream configuration
* * *
**Stream configuration:** ALL configurations are allowed
* * *
#### 5.7.2.1 LocalControl Descriptor
Table 5.7.2.1.1: Local Control Descriptor
+----------------+----------------+----------------+----------------+ | | **Termination |** Stream | | | | Type**| Type** | | +----------------+----------------+----------------+----------------+ | **ReserveGroup | No | NA | NA | | used:** | | | | +----------------+----------------+----------------+----------------+ | **ReserveValue | Yes | IP | Audio, Video | | used:** | | | (NOTE 1, | | | | | NOTE 2) | +----------------+----------------+----------------+----------------+ | NOTE 1: The | | | | | value of the | | | | | H.248 Stream | | | | | Type is given | | | | | here by the | | | | | SDP \"m=\" | | | | | line element | | | | | media type (in | | | | | contrast to | | | | | the SDP \"m=\" | | | | | line element | | | | | transport | | | | | protocol in | | | | | Table | | | | | 5.7.2.1.2). | | | | | Usage of | | | | | ReserveValue | | | | | implies thus | | | | | media type | | | | | aware Local | | | | | and Remote | | | | | Descriptors. | | | | | | | | | | NOTE 2: Not | | | | | used (at this | | | | | profile | | | | | version (see | | | | | clause 5.1 for | | | | | the version | | | | | number)) for | | | | | TCP transport | | | | | (IETF RFC 793 | | | | | [51]) and | | | | | media types:\ | | | | | a) \"Message\" | | | | | (for MSRP | | | | | (IETF RFC 4975 | | | | | [18]) and\ | | | | | b) | | | | | \ | | | | | "Application\" | | | | | (for BFCP | | | | | (IETF RFC 4582 | | | | | [52])\ | | | | | because the | | | | | application | | | | | control will | | | | | not use them | | | | | in context | | | | | ReserveValue. | | | | +----------------+----------------+----------------+----------------+
Table 5.7.2.1.2: Allowed Stream Modes
+----------------------+----------------------+----------------------+ | **Termination Type** | **Stream Type** | **Allowed StreamMode | | | | Values** | +----------------------+----------------------+----------------------+ | IP | RTP/AVP | SendOnly, RecvOnly, | | | | SendRecv, Inactive | +----------------------+----------------------+----------------------+ | | RTP/SAVP | SendOnly, RecvOnly, | | | | SendRecv, Inactive | +----------------------+----------------------+----------------------+ | | RTP/AVPF | SendOnly, RecvOnly, | | | | SendRecv, Inactive | +----------------------+----------------------+----------------------+ | | RTP/SAVPF | SendOnly, RecvOnly, | | | | SendRecv, Inactive | +----------------------+----------------------+----------------------+ | | TCP **(NOTE 1)** | SendRecv, Inactive | +----------------------+----------------------+----------------------+ | | TCP/MSRP | SendRecv, Inactive | | | **(NOTE 1)** | | +----------------------+----------------------+----------------------+ | | TCP/TLS **(NOTE 1)** | SendOnly, RecvOnly, | | | | SendRecv, Inactive | +----------------------+----------------------+----------------------+ | | TCP/TLS/MSRP | SendOnly, RecvOnly, | | | (**NOTE 1,** NOTE 2) | SendRecv, Inactive | +----------------------+----------------------+----------------------+ | | UDPTL | SendRecv, Inactive | +----------------------+----------------------+----------------------+ | | UDP | SendOnly, RecvOnly, | | | | SendRecv, Inactive | +----------------------+----------------------+----------------------+ | | UDP/DTLS | SendOnly, RecvOnly, | | | | SendRecv, Inactive | +----------------------+----------------------+----------------------+ | | UDP/TLS/RTP/SAVP | SendOnly, RecvOnly, | | | | SendRecv, Inactive | +----------------------+----------------------+----------------------+ | | UDP/TLS/RTP/SAVPF | SendOnly, RecvOnly, | | | | SendRecv, Inactive | +----------------------+----------------------+----------------------+ | NOTE 1: The H.248 | | | | StreamMode does not | | | | affect protocol | | | | control information | | | | at the bearer | | | | interface. See | | | | clause 7.1.7.1.1 in | | | | ITU-T Recommendation | | | | H.248.1 [10] and:\ | | | | a) TCP: ITU-T | | | | Recommendation | | | | H.248.89 [47], | | | | clause 8.6.4.1, | | | | Table \"_Impact of | | | | StreamMode on TCP | | | | bearer traffic at | | | | external MG | | | | interface_ \"\ | | | | b) TLS: ITU-T | | | | Recommendation | | | | H.248.90 [48], | | | | clause 8.6.4.1, | | | | Table \"_Impact of | | | | StreamMode on TLS | | | | bearer traffic at | | | | external MG | | | | interface_ \". | | | | | | | | NOTE 2: Conditional | | | | support, dependent | | | | on support of | | | | application-aware | | | | interworking. | | | +----------------------+----------------------+----------------------+
### 5.7.3 Events descriptor
**Table 5.7.3.1: Events Descriptor**
+----------------+----------------+----------------+----------------+ | **Events | Yes | | | | settable on | | | | | termination | | | | | types and | | | | | stream | | | | | types:** | | | | +----------------+----------------+----------------+----------------+ | _If yes_ | **EventID** | **Termination |** Stream | | | | Type**| Type** | +----------------+----------------+----------------+----------------+ | | Cause | ALL except | ANY | | | (g/cause, | ROOT | | | | 0x0001/0x0001) | | | | | - See clause | | | | | 5.14.3.1 | | | +----------------+----------------+----------------+----------------+ | | Inactivity | only ROOT | Not applicable | | | Timeout | | | | | (it/ito,\ | | | | | 0x0045/0x0001) | | | | | -- See clause | | | | | 5.14.3.6 | | | +----------------+----------------+----------------+----------------+ | | MG_Overload | only ROOT | Not applicable | | | | | | | | (ocp | | | | | /mg_overload, | | | | | 0x0051/0x0001) | | | | | -- See clause | | | | | 5.14.3.8 | | | +----------------+----------------+----------------+----------------+ | | Termination | ALL except | ANY | | | Heartbeat | ROOT | | | | (hangterm/thb, | | | | | 0x0098/0x0001) | | | | | - See clause | | | | | 5.14.3.9 | | | +----------------+----------------+----------------+----------------+ | | MGCon | only ROOT | Not Applicable | | | (chp/mgcon, | | | | | 0x0029/0x0001) | | | | | -- See clause | | | | | 5.14.3.10 | | | +----------------+----------------+----------------+----------------+ | | Available | only ROOT | Not Applicable | | | Realms Changed | | | | | (ipra/arc, | | | | | 0x00e0/0x0001) | | | | | -- See clause | | | | | 5.14.3.11 | | | +----------------+----------------+----------------+----------------+ | | IP Flow Stop | ALL except | Any | | | Detection | ROOT | | | | (adid/ipstop, | | | | | 0x009c/0x0001) | | | | | -- See clause | | | | | 5.14.3.14 | | | +----------------+----------------+----------------+----------------+ | | ECN Failure | IP | RTP based | | | (ecnrous/fail, | | | | | 0x010b/0x0001) | | | | | see clause | | | | | 5.14.3.15 | | | +----------------+----------------+----------------+----------------+ | | ICE New Peer | IP | Any, only | | | Reflexive | | applicable for | | | Candidate | | full ICE | | | (ostuncc/nprc, | | | | | 0x00c3/0x0002) | | | | | -- see clause | | | | | 5.14.3.17 | | | +----------------+----------------+----------------+----------------+ | | ICE | IP | Any, only | | | Connectivity | | applicable for | | | Check Result | | full ICE | | | (ostuncc/ccr, | | | | | 0x00c3/0x0001) | | | | | -- see clause | | | | | 5.14.3.17 | | | +----------------+----------------+----------------+----------------+ | | TCP connection | IP | TCP based | | | state change | | | | | (\"BNC | | | | | change\")\ | | | | | (tcp | | | | | bcc/BNCChange, | | | | | 0x0115/0x0001) | | | | | see clause | | | | | 5.14.3.18 | | | +----------------+----------------+----------------+----------------+ | | TLS session | IP | TLS or DTLS | | | state change | | based | | | (\"BNC | | | | | change\")\ | | | | | (tls | | | | | bsc/BNCChange, | | | | | 0x0117/0x0001) | | | | | see clause | | | | | 5.14.3.19 | | | +----------------+----------------+----------------+----------------+ | | STUN Consent | IP | TLS or DTLS | | | Request | | based, only | | | Failure | | applicable for | | | (stncon | | full ICE | | | fres/constate, | | | | | | | | | | 0x0120/0x0002) | | | | | see clause | | | | | 5.14.3.22 | | | +----------------+----------------+----------------+----------------+
Table 5.7.3.2: Event Buffer Control
* * *
**EventBuffer Control used:** No
* * *
Table 5.7.3.3: Keep active
* * *
**KeepActive used on events:** No
* * *
Table 5.7.3.4: Embedded events and signals
* * *
**Embedded events in an Events Descriptor:** No **Embedded signals in an
Events Descriptor:** No
* * *
Table 5.7.3.5: Regulated Embedded events
* * *
**Regulated Embedded events are triggered on:** None
* * *
Table 5.7.3.6: ResetEventsDescriptor
* * *
**ResetEventsDescriptor used with events:** None
* * *
Table 5.7.3.7: Notification Behaviour
* * *
**NotifyImmediate:** ALL Events **NotifyRegulated:** None **NeverNotify:**
None
* * *
### 5.7.4 EventBuffer descriptor
Table 5.7.4.1: Event Buffer Descriptor
* * *
**EventBuffer Descriptor used:** No  
_If yes_ **EventIDs** -
* * *
### 5.7.5 Signals descriptor
**Table 5.7.5.1: Signals Descriptor**
+----------------+----------------+----------------+----------------+ | **The setting | No | | | | of signals is | | | | | dependant on | NOTE -- \"No\" | | | | termination or | means that all | | | | streams | signals can be | | | | types:** | played on any | | | | | termination or | | | | | stream. If | | | | | \"Yes\", any | | | | | signal not | | | | | listed below | | | | | may be played | | | | | on any | | | | | termination or | | | | | stream, except | | | | | Signals on | | | | | ROOT | | | | | termination | | | | | shall not be | | | | | supported. | | | +----------------+----------------+----------------+----------------+ | _If yes_ | **SignalID** | **Termination |** Stream Type | | | | Type**| / ID** | +----------------+----------------+----------------+----------------+ | | Latching | ALL except | Any | | | (ipnapt/latch, | ROOT | | | | 0x0099/0x0001) | | | +----------------+----------------+----------------+----------------+ | | Send | IP | Any, only | | | Additional | | applicable for | | | Connectivity | | full ICE | | | Check | | | | | (ostuncc/sacc, | | | | | 0x00c3/0x0002) | | | +----------------+----------------+----------------+----------------+ | | Send | IP | Any, only | | | Connectivity | | applicable for | | | Check | | full ICE | | | (ostuncc/scc, | | | | | 0x00c3/0x0001) | | | +----------------+----------------+----------------+----------------+ | | Establish BNC\ | IP | TCP based | | | ( | | | | | tcpbcc/EstBNC, | | | | | 0x0115/0x0001) | | | | | see clause | | | | | 5.14.3.18 | | | +----------------+----------------+----------------+----------------+ | | Release BNC\ | IP | TCP based | | | ( | | | | | tcpbcc/RelBNC, | | | | | 0x0115/0x0002) | | | | | see clause | | | | | 5.14.3.18 | | | +----------------+----------------+----------------+----------------+ | | Establish BNC\ | IP | TLS or DTLS | | | ( | | based | | | tlsbsc/EstBNC, | | | | | 0x0117/0x0001) | | | | | see clause | | | | | 5.14.3.19 | | | +----------------+----------------+----------------+----------------+ | | Release BNC\ | IP | TLS or DTLS | | | ( | | based | | | tlsbsc/RelBNC, | | | | | 0x0117/0x0002) | | | | | see clause | | | | | 5.14.3.19 | | | +----------------+----------------+----------------+----------------+ | | Consent Test | IP | TLS or DTLS | | | (stnc | | based | | | onfres/contst, | | | | | 0x0120/0x0001) | | | | | see clause | | | | | 5.14.3.22 | | | +----------------+----------------+----------------+----------------+
Table 5.7.5.2: Signal Lists
* * *
**Signals Lists supported:** No  
_If yes_ **Termination Type Supporting Lists:** \- **Stream Type Supporting
lists:** \- **Maximum number of signals to a signal list:** \- **Intersignal
delay parameter supported:** -
* * *
Table 5.7.5.3: Overriding Signal type and duration
* * *
**Signal type and duration supported:** No  
_If yes_ **SignalID** **Type or duration override** \- -
* * *
Table 5.7.5.4: Signal Direction
* * *
**Signal Direction supported:** No
* * *
Table 5.7.5.5: Notify completion
* * *
**NotifyCompletion supported:** No  
_If yes_ **SignalID** **Type of completion supported** \- -
* * *
Table 5.7.5.6: RequestID Parameter
* * *
**RequestID Parameter supported:** No
* * *
Table 5.7.5.7: Signals played simultaneously
* * *
**Signals played simultaneously:** No  
_If yes_ **SignalIDs that can be played simultaneously:**
* * *
Table 5.7.5.8: Keep active
* * *
**KeepActive used on signals:** No
* * *
### 5.7.6 DigitMap descriptor
Table 5.7.6.1: DigitMap Descriptor
* * *
**DigitMaps supported:** No  
_If yes_ **DigitMap Name** **Structure** **Timers** \- - -
* * *
### 5.7.7 Statistics descriptor
Table 5.7.7.1: Statistics Descriptor support
* * *
**Statistics supported on:** -
* * *
Table 5.7.7.2: Statistics Report on Subtract
* * *
**Statistics reported on Subtract:** No  
_If yes_ **StatisticIDs reported:** -
* * *
### 5.7.8 ObservedEvents descriptor
Table 5.7.8.1: ObservedEvents Descriptor
* * *
**Event detection time supported:** No
* * *
### 5.7.9 Topology descriptor
Table 5.7.9.1: Topology Descriptor
+-------------------------------------------------+-------------------+ | **Allowed triples:** | (T1, T2, isolate) | | | | | | (T1, T2, bothway) | +-------------------------------------------------+-------------------+ | NOTE: The Topology Descriptor shall be | | | supported by the MGW and MGC for handover only, | | | when PS-to-CS access transfer is supported. | | +-------------------------------------------------+-------------------+
### 5.7.10 Error descriptor
Table 5.7.10.1: Error Codes Sent by IMS-ALG
+----------------------------------+----------------------------------+ | **Supported H.248.8 Error | > #400 \"Syntax error in | | Codes:** | > message\" | | | > | | | > #401 \"Protocol Error\" | | | > | | | > #402 \"Unauthorized\" | | | > | | | > #403 \"Syntax Error in | | | > TransactionRequest\" | | | > | | | > #406 \"Version Not | | | > Supported\" | | | > | | | > #410 \"Incorrect identifier\" | | | > | | | > #411 \"The transaction refers | | | > to an unknown ContextID\" | | | > | | | > #413 \"Number of transactions | | | > in message exceeds maximum\" | | | > | | | > #421 \"Unknown action or | | | > illegal combination of | | | > actions\" | | | > | | | > #422 \"Syntax Error in | | | > Action\" | | | > | | | > #430 \"Unknown | | | > TerminationID\" | | | > | | | > #431 \"No TerminationID | | | > matched a wildcard\" | | | > | | | > #442 \"Syntax Error in | | | > Command\" | | | > | | | > #443 \"Unsupported or Unknown | | | > Command\" | | | > | | | > #444 \"Unsupported or Unknown | | | > Descriptor\" | | | > | | | > #445 \"Unsupported or Unknown | | | > property\" | | | > | | | > #446 \"Unsupported or Unknown | | | > Parameter\" | | | > | | | > #447 \"Descriptor not legal | | | > in this command\" | | | > | | | > #448 \"Descriptor appears | | | > twice in a command\" | | | > | | | > #449 \"Unsupported parameter | | | > or property value\" | | | > | | | > #450 \"No such property in | | | > this package | | | > | | | > #451 \"No such event in this | | | > package\" | | | > | | | > #454 \"No such parameter | | | > value in this package\" | | | > | | | > #455 \"Property illegal in | | | > this Descriptor\" | | | > | | | > #456 \"Property appears twice | | | > in this Descriptor\" | | | > | | | > #457 \"Missing parameter in | | | > signal or event\" | | | > | | | > #458 \"Unexpected | | | > Event/RequestID\" | | | > | | | > #501 \"Not Implemented\" | | | > | | | > #502 \"Not ready\" | | | > | | | > #505 \"Transaction Request | | | > Received before a | | | > | | | > ServiceChange Reply has been | | | > received\" | | | > | | | > #506 \"Number of | | | > TransactionPendings Exceeded\" | | | | | | #533 \"Response exceeds maximum | | | transport PDU size\" | +----------------------------------+----------------------------------+ | **Supported Error Codes defined | All error codes defined in | | in packages:** | supported packages are | | | supported. | +----------------------------------+----------------------------------+ | NOTE: The error codes listed | | | need not be supplied by the | | | IMS-ALG to differentiate each | | | and every error described by | | | them. The IMS-AGW shall be able | | | to receive the error codes | | | listed. | | +----------------------------------+----------------------------------+
Table 5.7.10.2: Error Codes Sent by IMS-AGW:
+----------------------------------+----------------------------------+ | **Supported H.248.8 Error | #400 \"Syntax error in | | Codes:** | message\" | | | | | | #401 \"Protocol Error\" | | | | | | #402 \"Unauthorized\" | | | | | | #403 \"Syntax Error in | | | TransactionRequest\" | | | | | | #406 \"Version Not Supported\" | | | | | | #410 \"Incorrect identifier\" | | | | | | #411 \"The transaction refers | | | to an unknown ContextID\" | | | | | | > #412 \"No ContextIDs | | | > available\" | | | > | | | > #413 \"Number of transactions | | | > in message exceeds maximum\" | | | > | | | > #421 \"Unknown action or | | | > illegal combination of | | | > actions\" | | | > | | | > #422 \"Syntax Error in | | | > Action\" | | | > | | | > #430 \"Unknown | | | > TerminationID\" | | | > | | | > #431 \"No TerminationID | | | > matched a wildcard\" | | | > | | | > #432 \"Out of TerminationIDs | | | > or No TerminationID | | | > available\" | | | > | | | > #433 \"TerminationID is | | | > already in a Context\" | | | > | | | > #434 \"Max number of | | | > Terminations in a Context | | | > exceeded\" | | | > | | | > #435 \"Termination ID is not | | | > in specified Context\" | | | > | | | > #440 \"Unsupported or unknown | | | > Package\" | | | > | | | > #441 \"Missing Remote or | | | > Local Descriptor\" | | | > | | | > #442 \"Syntax Error in | | | > Command\" | | | > | | | > #443 \"Unsupported or Unknown | | | > Command\" | | | > | | | > #444 \"Unsupported or Unknown | | | > Descriptor\" | | | > | | | > #445 \"Unsupported or Unknown | | | > property\" | | | > | | | > #446 \"Unsupported or Unknown | | | > Parameter\" | | | > | | | > #447 \"Descriptor not legal | | | > in this command\" | | | > | | | > #448 \"Descriptor appears | | | > twice in a command\" | | | > | | | > #449 \"Unsupported parameter | | | > or property value\" | | | > | | | > #450 \"No such property in | | | > this package | | | > | | | > #451 \"No such event in this | | | > package\" | | | > | | | > #452 \"No such signal in this | | | > package\" | | | > | | | > #454 \"No such parameter | | | > value in this package\" | | | > | | | > #455 \"Property illegal in | | | > this Descriptor\" | | | > | | | > #456 \"Property appears twice | | | > in this Descriptor\" | | | > | | | > #457 \"Missing parameter in | | | > signal or event\" | | | > | | | > #471 \"Implied Add for | | | > Multiplex failure\" | | | > | | | > #488 \"Incorrect stream | | | > endpoint interlinkage\" | | | > | | | > #500 \"Internal software | | | > Failure in MG or MGC\" | | | > | | | > #501 \"Not Implemented\" | | | > | | | > #502 \"Not ready\" | | | > | | | > #505 \"Transaction Request | | | > Received before a | | | > | | | > ServiceChange Reply has been | | | > received\" | | | > | | | > #506 \"Number of | | | > TransactionPendings Exceeded\" | | | > | | | > #510 \"Insufficient | | | > resources\" | | | > | | | > #511 \"Temporarily Busy\" | | | > | | | > #512 \"Media Gateway | | | > unequipped to detect requested | | | > Event\" | | | > | | | > #513 \"Media Gateway | | | > unequipped to generate | | | > | | | > requested Signals\" | | | > | | | > #515 \"Unsupported Media | | | > Type\" | | | > | | | > #517 \"Unsupported or invalid | | | > mode\" | | | > | | | > #522 \"Functionality | | | > Requested in Topology Triple | | | > Not Supported\" | | | > | | | > #526 \"Insufficient | | | > bandwidth\" | | | > | | | > #529 \"Internal hardware | | | > failure in MG\" | | | > | | | > #530 \"Temporary Network | | | > failure | | | > | | | > #531 \"Permanent Network | | | > failure\" | | | > | | | > #532 \"Audited Property, | | | > Statistic, Event or Signal | | | > does | | | > | | | > not exist\" | | | > | | | > #533 \"Response exceeds | | | > maximum transport PDU size\" | | | > | | | > #534 \"Illegal write of read | | | > only property\" | | | > | | | > #542 \"Command is not allowed | | | > on this termination\" | +----------------------------------+----------------------------------+ | **Supported Error Codes defined | All error codes defined in | | in packages:** | supported packages need to be | | | supported. | +----------------------------------+----------------------------------+ | NOTE: The error codes listed | | | need not be supplied by the | | | IMS-AGW to differentiate each | | | and every error described by | | | them. The IMS-ALG shall be able | | | to receive the error codes | | | listed. | | +----------------------------------+----------------------------------+
## 5.8 Command API
### 5.8.1 Add
Table 5.8.1.1: Descriptors used by Command Add Request
* * *
**Descriptors used by Add request:** Media (Stream(LocalControl, Local,
Remote)), Event, Signals
* * *
Table 5.8.1.2: Descriptors used by Command Add Reply
+----------------------------------+----------------------------------+ | **Descriptors used by Add | Media (Stream (Local)), Error | | reply:** | | | | When command request excludes an | | | Audit Descriptor, the MGW | | | response shall only include | | | descriptors which contained | | | underspecified or overspecified | | | properties in the command | | | request. Furthermore, only those | | | properties that were | | | underspecified or overspecified | | | in the request shall be sent in | | | the reply. Exceptions to this | | | rule are: | | | | | | - The Error Descriptor | | | | | | - SDP properties returned in | | | \"Reserve AGW Connection | | | Point\" and \"Reserve and | | | Configure AGW Connection | | | Point\" procedures, as | | | specified in 15.17.2.2 and | | | 15.17.2.4. | +----------------------------------+----------------------------------+
### 5.8.2 Modify
Table 5.8.2.1: Descriptors used by Command Modify Request
* * *
**Descriptors used by Modify request:** Media (TerminationState, Stream
(LocalControl, Local, Remote)), Signals, Event
* * *
Table 5.8.2.2: Descriptors used by Command Modify Reply
+----------------------------------+----------------------------------+ | **Descriptors used by Modify | Media (Stream(Local)), Error | | reply:** | | | | When command request excludes an | | | Audit Descriptor, the MGW | | | response shall only include | | | descriptors which contained | | | underspecified or overspecified | | | properties in the command | | | request. Furthermore, only those | | | properties that were | | | underspecified or overspecified | | | in the request shall be sent in | | | the reply. Exceptions to this | | | rule are: | | | | | | - The Error Descriptor | | | | | | - SDP properties returned in | | | \" Configure AGW Connection | | | Point \" procedure as | | | specified in 15.17.2.3. | +----------------------------------+----------------------------------+
### 5.8.3 Subtract
Table 5.8.3.1: **Descriptor used by** Command Subtract Request
* * *
**Descriptors used by Subtract request:** None, Audit() NOTE NOTE: This
requests that no statistics are to be returned
* * *
Table 5.8.3.2: **Descriptor used by** Command Subtract Reply
* * *
**Descriptors used by Subtract reply:** None, Error
* * *
### 5.8.4 Move
Table 5.8.4.1: Command Move
* * *
**Move command used:** No
* * *
_If used:_
Table 5.8.4.2: Descriptor used by Move command
* * *
**Descriptors used by Move request:** \- **Descriptors used by Move reply:** -
* * *
### 5.8.5 AuditValue
Table 5.8.5.1: Auditvalue
+----------------------+----------------------+----------------------+ | Audited Properties: | Property Name and | Descriptor | | | Identity | | +----------------------+----------------------+----------------------+ | | TerminationState: | TerminationState | | | | Descriptor | | | - Root (MGW Audit) | | +----------------------+----------------------+----------------------+ | | For Packages: | _Packages | | | | Descriptor_ | | | Root | | +----------------------+----------------------+----------------------+ | | None (MGW Audit) : | _Audit (empty) | | | | Descriptor_ | | | - Root | | +----------------------+----------------------+----------------------+ | | IP Realm | TerminationState | | | Availability : | Descriptor | | | | | | | - ipra/* (ROOT) | | +----------------------+----------------------+----------------------+ | | Base root | TerminationState | | | properties: | Descriptor | | | | | | | - root/* (ROOT) | | +----------------------+----------------------+----------------------+ | **Audited | None | | | Statistics:** | | | +----------------------+----------------------+----------------------+ | **Audited Signals:** | None | | +----------------------+----------------------+----------------------+ | **Audited Events:** | None | | +----------------------+----------------------+----------------------+ | **Packages Audit | Yes | | | possible:** | | | +----------------------+----------------------+----------------------+
### 5.8.6 AuditCapabilities
Table 5.8.6.1: Auditcapability
* * *
Audited Properties: Property Name and Identity Descriptor None - **Audited
Statistics:** None  
**Audited Signals:** None  
**Audited Events:** None
* * *
Table 5.8.6.2: Scoped Auditing
* * *
**Audited Properties / ContextAttributes used for a scoped audit :** None
* * *
### 5.8.7 Notify
_Table 5.8.7.1: Descriptors Used by Notify Request_
* * *
**Descriptors used by Notify Request** ObservedEvents
* * *
_Table 5.8.7.2: Descriptors Used by Notify Reply_
* * *
**Descriptors used by Notify Reply:** None, Error
* * *
### 5.8.8 ServiceChange
Table 5.8.8.1: ServiceChangeMethods and ServiceChangeReasons sent by IMS-ALG:
+----------------------------------+----------------------------------+ | > **Service Change Methods | > **ServiceChange Reasons | | > Supported:**| > supported:** | +----------------------------------+----------------------------------+ | > Handoff (NOTE 2, NOTE 3) | > **\"903 MGC Directed | | | > Change\"** (Optional, NOTE 4) | +----------------------------------+----------------------------------+ | > **Restart (NOTE 2)** | > \"901 Cold Boot\" (Optional) | | | > | | | > \"902 Warm Boot\" (Optional) | +----------------------------------+----------------------------------+ | > **Forced (NOTE 2)** | > **\"905 Termination Taken Out | | | > Of Service\" (Optional)** | +----------------------------------+----------------------------------+ | > **Graceful (NOTE 2)** | > **\"905 Termination Taken Out | | | > Of Service\" (Optional)** | +----------------------------------+----------------------------------+ | NOTE 1: When a Service Change | | | command on the Root termination | | | with a method other than | | | Graceful is sent, the command | | | shall always be sent as the only | | | command in a message. The | | | sending node shall always wait | | | for the reply to a Service | | | Change command on the Root | | | termination with a method other | | | than Graceful before sending | | | further command requests. A | | | Service Change command on the | | | Root termination with method | | | Graceful may be combined with | | | other commands in a single | | | message. | | | | | | NOTE 2: ROOT Only. | | | | | | NOTE 3: Not involving more than | | | 1 IMS-ALG. This does not | | | preclude the use of the MGCId in | | | a ServiceChange (Handoff) | | | scenario, nor does it change the | | | expected IMS-AGW behaviour upon | | | receipt of such a message, as | | | the IMS-AGW has actually no | | | means to differentiate whether | | | the ServiceChangeMgcId parameter | | | that may be received in a | | | ServiceChange (handoff) message | | | relates to a logical IMS-ALG | | | inside the same IMS-ALG server | | | or is part of another IMS-ALG. | | | | | | NOTE 4: Support of this | | | procedure is mandatory in the | | | IMS-AGW. | | +----------------------------------+----------------------------------+
Table 5.8.8.2: ServiceChangeMethods and ServiceChangeReasons sent by IMS-AGW:
+----------------------------------+----------------------------------+ | > **Service Change Methods | > **ServiceChange Reasons | | > Supported:**| > supported:** | +----------------------------------+----------------------------------+ | Forced | \"904 Termination Malfunction\", | | | ALL except ROOT (Optional, NOTE | | | 4) | | | | | | **\"905 Termination Taken Out Of | | | Service\"** , ALL | | | (**Mandatory)** | | | | | | **\"906 Loss Of Lower Layer | | | Connectivity\"** , ALL except | | | ROOT **(** Optional, NOTE 4**)** | | | | | | **\"907 Transmission Failure\"** | | | , ALL except ROOT **(** Optional, | | | NOTE 4**)** | | | | | | **\"908 MG Impending Failure\" | | | ROOT only (Mandatory)** | | | | | | **\"910 Media Capability | | | Failure\"** , ALL except ROOT | | | **(** Optional, NOTE 4**)** | | | | | | **\"915 State Loss\" ROOT only | | | (Optional, NOTE 4)** | +----------------------------------+----------------------------------+ | Graceful (NOTE 2) | **\"905 Termination Taken Out Of | | | Service\"** , (Optional, NOTE 4) | | | | | | **\"908 MG Impending Failure\" | | | (Optional, NOTE 4)** | +----------------------------------+----------------------------------+ | **Disconnected (NOTE 2)** | **\"900 Service Restored\" | | | (Mandatory)** | | | | | | \"916 Packages Change\" | | | (Optional) | | | | | | \"917 Capability Change\" | | | (Optional) | +----------------------------------+----------------------------------+ | **Restart (NOTE 2)** | \"900 Service Restored\" | | | (Mandatory)\ | | | \"901 Cold Boot\" (Mandatory)\ | | | \"902 Warm Boot\" (Mandatory) | | | | | | \"916 Packages Change\" | | | (Optional) | | | | | | \"917 Capability Change | | | \"(Optional) | +----------------------------------+----------------------------------+ | **Handoff (NOTE 2, NOTE 3)** | **\"903 MGC Directed Change\" | | | (Mandatory)** | +----------------------------------+----------------------------------+ | NOTE 1: When a Service Change | | | command on the Root termination | | | with a method other than | | | Graceful is sent, the command | | | shall always be sent as the only | | | command in a message. The | | | sending node shall always wait | | | for the reply to a Service | | | Change command on the Root | | | termination with a method other | | | than Graceful before sending | | | further command requests. A | | | Service Change command on the | | | Root termination with method | | | Graceful may be combined with | | | other commands in a single | | | message. | | | | | | NOTE 2: ROOT Only. | | | | | | NOTE 3: In response to a IMS-ALG | | | Ordered Re-Register (clause | | | 5.17.3.7). | | | | | | NOTE 4: Support of this | | | procedure is mandatory in the | | | IMS-ALG. | | +----------------------------------+----------------------------------+
Table 5.8.8.3: Service Change Address
* * *
**ServiceChangeAddress used:** No
* * *
Table 5.8.8.4: Service Change Delay
* * *
**ServiceChangeDelay used:** No  
_If yes_ **Valid time period:**
* * *
Table 5.8.8.5: Service Change Incomplete Flag
* * *
**ServiceChange Incomplete Flag used:** No
* * *
Table 5.8.8.6: Service Change Version
* * *
**Version used in ServiceChangeVersion:** 2 or 3 NOTE: Version 2 shall be
supported as the minimum protocol version. See clause 5.3.
* * *
Table 5.8.8.7: ServiceChangeProfile
* * *
**ServiceChangeProfile mandatory:** Yes NOTE: The ServiceChangeProfile is
mandatory in the AGW Register and AGW Re-Register procedures.
* * *
Table 5.8.8.8: Profile negotiation
* * *
**Profile negotiation as per H.248.18:** No
* * *
Table 5.8.8.9: ServiceChangeMGCId
* * *
**ServiceChangeMGCId used:** Yes
* * *
### 5.8.9 Manipulating and auditing context attributes
Table 5.8.9.1: Manipulating and auditing context attributes
* * *
**Context Attributes Manipulated:** Emergency Indicator, Priority Indicator,
Topology **Context Attributes Audited:** None
* * *
## 5.9 Generic command syntax and encoding
Table 5.9.1: Encodings
+----------------------------------+----------------------------------+ | **Supported Encodings:** | Text (NOTE 1, NOTE 2) and Binary | +----------------------------------+----------------------------------+ | NOTE 1: The receiver shall be | | | capable of receiving both Short | | | Token Notation and Long Token | | | Notation on an H.248 control | | | association. | | | | | | NOTE 2: The transmitter may | | | select between long and short | | | token forms per H.248 control | | | association. | | | | | | NOTE 3: ETSI TISPAN \"Ia | | | Profile\" [3] uses only text | | | encoding. | | +----------------------------------+----------------------------------+
## 5.10 Transactions
Table 5.10.1: Transactions per Message
* * *
**Maximum number of TransactionRequests / TransactionReplies /
TransResponseAcks / Segment Replies per message:** 10 (NOTE) NOTE: ETSI TISPAN
\"Ia Profile\" [3] maximum is \"1\", this is foreseen to be the typical case.
* * *
Table 5.10.2: Commands per Transaction Requests
* * *
**Maximum number of commands per TransactionRequest:** Unspecified (NOTE)
NOTE: ETSI TISPAN \"Ia Profile\" [3] maximum is \"2\", this is foreseen to be
the typical case.
* * *
Table 5.10.3: Commands per Transaction Reply
* * *
**Maximum number of commands per TransactionReply:** Unspecified (NOTE) NOTE:
ETSI TISPAN \"Ia Profile\" [3] maximum is \"2\", this is foreseen to be the
typical case.
* * *
Table 5.10.4: Optional Commands
* * *
**Commands able to be marked \"Optional\":** \
* * *
Table 5.10.5: Commands marked for Wildcarded Responses
* * *
**Wildcarded responses may be requested for:** Subtract
* * *
Table 5.10.6: Procedures for Wildcarded Responses
* * *
**Procedures that make use of wildcarded responses:** Release AGW Termination
* * *
Table 5.10.7: Transaction Timers
* * *
**Transaction Timer:** **Value** **normalMGExecutionTime** Provisioned
**normalMGCExecutionTime** Provisioned **MGOriginatedPendingLimit**
Provisioned **MGCOriginatedPendingLimit** Provisioned
**MGProvisionalResponseTimerValue** Provisioned
**MGCProvisionalResponseTimerValue** Provisioned
* * *
## 5.11 Messages
It is recommended that IMS-AGW and IMS-ALG names are in the form of fully
qualified domain name. For example the domain name of the IMS-ALG may be of
the form: \"ALG1.whatever.net.\" and the name of the IMS-AGW may be of the
form: \"mg1.whatever.net.\".
The fully qualified domain name will be used by the IMS-AGW and IMS-ALG as
part of the \"Message Identifier\" in the H.248 messages which identifies the
originator of the message.
The IMS-ALG domain name is provisioned in the IMS-AGW or retrieved from the
DNS using SRV records.
The use of a domain name provides the following benefits:
  * IMS-AGWs and IMS-ALGs are identified by their domain name, not their network addresses. Several addresses can be associated with a domain name. If a command cannot be forwarded to one of the network addresses, implementations shall retry the transmission using another address.
NOTE: There are then e.g. multiple numerical address entries per single MGC
entity in the \"MG database of MGC entries\"; see Table 5 in ITU-T H.Sup7
[29].
  * IMS-AGWs and IMS-ALGs may move to another platform. The association between a logical name (domain name) and the actual platform are kept in the Domain Name Service (DNS). IMS-AGW and IMS-ALG shall keep track of the record\'s time-to-live read from the DNS. They shall query the DNS to refresh the information if the time-to-live has expired.
The domain name may be used by IMS-ALG/IMS-AGW for authentication purposes.
## 5.12 Transport
Specifies what H.248 subseries transports are supported by the profile.
Table 5.12.1: Transport
+----------------------------------+----------------------------------+ | **Supported transports:** | 1. IPv4-based network control | | | plane: | | | | | | - SCTP/IPv4 (Recommended) | | | | | | - **UDP/IPv4** (Optional) | | | | | | 2. IPv6-based network control | | | plane: | | | | | | - SCTP/IPv6 (Recommended) | | | | | | - UDP/IPv6 (Optional) | +----------------------------------+----------------------------------+ | NOTE 1: When using SCTP as | | | defined in IETF RFC 4960 [16] | | | the IMS-AGW shall always be the | | | node to perform the | | | \"Initiation\". | | +----------------------------------+----------------------------------+
Table 5.12.2: Segmentation
+-----------------------------+-----------------------------+ | **Segmentation supported:** | SCTP: Inherent in Transport | | | | | | UDP: No | +-----------------------------+-----------------------------+
Table 5.12.3: Control Association
+----------------------------------+----------------------------------+ | **Control Association Monitoring | Monitoring mechanism is | | supported:** | dependent on used H.248 | | | transport (see above | | | table 5.12/1): | | | | | | **SCTP** :\ | | | inherent capability of SCTP. | | | | | | **UDP:** \ | | | H.248.14 (MG-driven | | | monitoring).\ | | | Empty AuditValue on ROOT | | | (MGC-driven monitoring). | +----------------------------------+----------------------------------+
## 5.13 Security
Table 5.13.1: Security
* * *
**Supported Security:** None NOTE: IPsec shall not be used by the IMS-ALG or
IMS-AGW for the Iq interface. Normally the Iq interface lies within a single
operator\'s secure domain. If this is not the case then a Za interface
(Security Gateway deploying IPSec) may be required, however this is a separate
logical function/entity and thus is not applicable to the Iq profile, the IMS-
ALG or the IMS-AGW. For further details see 3GPP TS 33.210 [27].
* * *
## 5.14 Packages
### 5.14.1 Mandatory Packages
Table 5.14.1.1: Mandatory Packages
* * *
Mandatory Packages:  
Package Name PackageID Version IP NAPT traversal (ITU-T Recommendation
H.248.37 [4]) ipnapt, (0x0099) 1 Generic (ITU-T Recommendation H.248.1 [10],
annex E.1) g, (0x0001) 1 Base root (ITU-T Recommendation H.248.1 [10], annex
E.2) root, (0x0051) 2 Gate management (ITU-T Recommendation H.248.43 [6],
Appendix I gm, (0x008c) 2 Traffic management (ITU-T Recommendation H.248.53
[7]) tman, (0x008d) 1 IP Domain Connection (ITU-T Recommendation H.248.41 [8])
ipdc, (0x009d) 1 Hanging Termination Detection (ITU-T Recommendation H.248.36
[9]) hangterm, (0x0098) 1 Diffserv (ITU-T Recommendation H.248.52 [12]) ds,
(0x008b) 2 RTP Control Protocol (ITU-T Recommendation H.248.57 [5]) rtcph,
(0x00b5) 1
* * *
### 5.14.2 Optional Packages
Table 5.14.2.1: Optional Packages
+------------------+------------------+---------+------------------+ | Optional | | | | | Packages: | | | | +------------------+------------------+---------+------------------+ | Package Name | PackageID | Version | Support | | | | | dependent on: | +------------------+------------------+---------+------------------+ | Inactivity Timer | it, (0x0045) | 1 | MGC polling by | | (ITU-T | | | MG. | | Recommendation | | | | | H.248.14 [11]) | | | Only applicable | | | | | for UDP | | | | | transport. | +------------------+------------------+---------+------------------+ | Media Gateway | ocp, (0x0051) | 1 | Support of | | Overload Control | | | message | | (ITU-T | | | throttling, | | Recommendation | | | based on rate | | H.248.11 [13]) | | | limitation, from | | | | | MGC towards MG. | +------------------+------------------+---------+------------------+ | Media Gateway | chp, (0x0029) | 1 | Support of | | Resource | | | message | | Congestion | | | throttling, | | Handling Package | | | based on | | (see ITU-T | | | percentage | | Recommendation | | | limitation, from | | H.248.10 [14] | | | MGC towards MG. | | ) | | | | +------------------+------------------+---------+------------------+ | IP realm | ipra (0x00e0) | 1 | Support of | | availability | | | mechanisms | | (ITU-T | | | allowing the MGC | | Recommendation | | | to discover the | | H.248.41 | | | IP realms that | | Amendment 1) | | | are available at | | [8] | | | the MG at a | | | | | certain time and | | | | | allowing the MG | | | | | to inform the | | | | | MGC about any | | | | | changes in the | | | | | availability of | | | | | realms. | +------------------+------------------+---------+------------------+ | **Application | adid (0x009c) | 1 |** MGC requires | | Data Inactivity | | | to be explicitly | | Detection | | | informed of a | | (**ITU-T | | | cessation of an | | Recommendation | | | application data | |** H.248.40 | | | flow.**| | [** 24**])** | | | | +------------------+------------------+---------+------------------+ | **Explicit | ecnrous (0x010b) |** 1**|** Support of | | Congestion | | | Transparent | | Notification**| | | forwarding of | | for RTP-over-UDP | | | ECN packets** | | Support **(see** | | | | | ITU-T | | | | | Recommendation | | | | | H.248.82 | | | | | [40]**)** | | | | +------------------+------------------+---------+------------------+ | **MG Act-as STUN | mgastuns |** 1**|** Support of | | Server (ITU-T | (0x00c2) | | incoming STUN | | Recommendation | | | connectivity | | H. | | | checks.**| | 248.50 [43])** | | | | | | | | **Applicable for | | | | | ICE lite and | | | | | full ICE** | +------------------+------------------+---------+------------------+ | **Originate STUN | ostuncc (0x00c3) |** 1**|** Support of | | Continuity | | | originating STUN | | Check****(see**| | | connectivity | | ITU-T | | | checks\ | | Recommendation | | | Only applicable | | H.248.50 | | | for full ICE** | | ** **[43]**)**| | | | +------------------+------------------+---------+------------------+ |** TCP basic | tcpbcc, (0x0115) | **1** | **Support of | | connection | | | state-aware TCP | | control (ITU-T | | | handling (TCP | | Recommendation | | | proxy mode) | | H.248.89 | | | (NOTE).** | | [47])**| | | | +------------------+------------------+---------+------------------+ |** TLS basic | tlsbsc, (0x0117) | **1** | **Support of\ | | session control | | | a) TCP-based | | (ITU-T | | | media using TLS | | Recommendation | | | or\ | | H.248.90 | | | b) UDP-based | | [48])** | | | media using | | | | | DTLS.**| +------------------+------------------+---------+------------------+ |** Stream | seplink, | **1** | **Support of** | | endpoint | (0x011b) | | state-aware TCP | | interlinkage | | | handling (TCP | | (ITU-T | | | proxy mode) and | | Recommendation | | | of Forward | | H.248.92 | | | Incoming TCP | | [49])**| | | Connection | | | | | Establishment | | | | | Requests | | | | | Indicator. | +------------------+------------------+---------+------------------+ |** MG located | mgbalg (0x011d) | **1** | **Support of a | | Bearer Level ALG | | | bearer level | | [ITU-T | | | application | | Recommendation | | | gateway (B-ALG) | | H.248.78 | | | function for | | [56])** | | | a | | | | | pplication-aware | | | | | MSRP | | | | | interworking.**| +------------------+------------------+---------+------------------+ | STUN Consent | st |** 1** | Support of STUN | | Freshness (ITU-T | nconfres(0x0120) | | usage for | | Recommendation | | | consent | | H.248.50 [43]) | | | freshness | | | | | procedures. | | | | | | | | | | Applicable for | | | | | full ICE. | +------------------+------------------+---------+------------------+ | NOTE: Stateless | | | | | TCP handling | | | | | (i.e. TCP relay | | | | | and TCP merge | | | | | mode) are solely | | | | | based on SDP | | | | | indication | | | | | (thus, | | | | | package-less) | | | | | according to | | | | | ITU-T | | | | | Recommendation | | | | | H.248.84 [46], | | | | | clause 13. | | | | +------------------+------------------+---------+------------------+
### 5.14.3 Package usage information
#### 5.14.3.1 Generic (g)
Table 5.14.3.1.1: Generic package
+-------------+-------------+-------------+-------------+-------------+ | Properties | Mandato | Used in | Supported | Provisioned | | | ry/Optional | command | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | None | - | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | Signals | Mandato | Used in | Duration | | | | ry/Optional | command | Provisioned | | | | | | Value | | +-------------+-------------+-------------+-------------+-------------+ | None | **-** | **-** | **-** | | +-------------+-------------+-------------+-------------+-------------+ | | Signal | Mandato | Supported | Duration | | | Parameters | ry/Optional | Values | Provisioned | | | | | | Value | +-------------+-------------+-------------+-------------+-------------+ | | - | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | Events | Mandato | Used in | | | | | ry/Optional | command | | | +-------------+-------------+-------------+-------------+-------------+ | Cause | M | ADD, MOD, | | | | (g/cause, | | NOTIFY | | | | 0x0 | | | | | | 001/0x0001) | | | | | +-------------+-------------+-------------+-------------+-------------+ | | Event | Mandato | Supported | Provisioned | | | Parameters | ry/Optional | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | | None | | | | +-------------+-------------+-------------+-------------+-------------+ | | Ob | Mandato | Supported | Provisioned | | | servedEvent | ry/Optional | Values | Value | | | Parameters | | | | +-------------+-------------+-------------+-------------+-------------+ | | General | M | \"NR\" | Not | | | cause | | (0x0001) | Applicable | | | (Ge | | Normal | | | | neralcause, | | Release\ | | | | 0x0001) | | \"UR\" | | | | | | (0x0002) | | | | | | Unavailable | | | | | | Resources | | | | | | | | | | | | \"FT\" | | | | | | (0x0003) | | | | | | Failure, | | | | | | Temporary\ | | | | | | \"FP\" | | | | | | (0x0004) | | | | | | Failure, | | | | | | Permanent\ | | | | | | \"IW\" | | | | | | (0x0005) | | | | | | I | | | | | | nterworking | | | | | | Error\ | | | | | | \"UN\" | | | | | | (0x0006) | | | | | | Unsupported | | +-------------+-------------+-------------+-------------+-------------+ | | Failure | O | Octet | Not | | | cause | | String | Applicable | | | (Fa | | | | | | ilurecause, | | | | | | 0x0002) | | | | +-------------+-------------+-------------+-------------+-------------+ | Events | Mandato | Used in | | | | | ry/Optional | command | | | +-------------+-------------+-------------+-------------+-------------+ | Signal | Not Used | - | | | | Completion. | | | | | | (g/sc, | | | | | | 0x0 | | | | | | 001/0x0002) | | | | | +-------------+-------------+-------------+-------------+-------------+ | | Event | Mandato | Supported | Provisioned | | | Parameters | ry/Optional | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | | - | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | | Ob | Mandato | Supported | Provisioned | | | servedEvent | ry/Optional | Values | Value | | | Parameters | | | | +-------------+-------------+-------------+-------------+-------------+ | | - | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | Statistics | Mandato | Used in | Supported | | | | ry/Optional | command | Values | | +-------------+-------------+-------------+-------------+-------------+ | None | - | - | - | | +-------------+-------------+-------------+-------------+-------------+ | Error Codes | Mandato | | | | | | ry/Optional | | | | +-------------+-------------+-------------+-------------+-------------+ | None | - | | | | +-------------+-------------+-------------+-------------+-------------+
#### 5.14.3.2 Base root (root)
> Table 5.14.3.2.1: Base root package
+-------------+-------------+-------------+-------------+-------------+ | Properties | Mandato | Used in | Supported | Provisioned | | | ry/Optional | command | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | MaxN | O | AUDITVALUE | ALL | YES | | rOfContexts | | | | | | (roo | | | | | | t/maxNumber | | | | | | OfContexts, | | | | | | 0x0 | | | | | | 002/0x0001) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Max | O | AUDITVALUE | ALL | YES | | Termination | | | | | | sPerContext | | | | | | (root/max | | | | | | Termination | | | | | | PerContext, | | | | | | 0x0 | | | | | | 002/0x0002) | | | | | +-------------+-------------+-------------+-------------+-------------+ | normalMGEx | O | AUDITVALUE | ALL | YES | | ecutionTime | | | | | | (root/ | | | | | | normalMGExe | | | | | | cutionTime, | | | | | | 0x0 | | | | | | 002/0x0003) | | | | | +-------------+-------------+-------------+-------------+-------------+ | normalMGCEx | O | AUDITVALUE | ALL | YES | | ecutionTime | | | | | | (root/n | | | | | | ormalMGCExe | | | | | | cutionTime, | | | | | | 0x0 | | | | | | 002/0x0004) | | | | | +-------------+-------------+-------------+-------------+-------------+ | MGProvisi | O | AUDITVALUE | ALL | YES | | onalRespons | | | | | | eTimerValue | | | | | | (root | | | | | | /MGProvisio | | | | | | nalResponse | | | | | | TimerValue, | | | | | | 0x0 | | | | | | 002/0x0005) | | | | | +-------------+-------------+-------------+-------------+-------------+ | MGCProvisi | O | AUDITVALUE | ALL | YES | | onalRespons | | | | | | eTimerValue | | | | | | (root/ | | | | | | MGCProvisio | | | | | | nalResponse | | | | | | TimerValue, | | | | | | 0x0 | | | | | | 002/0x0006) | | | | | +-------------+-------------+-------------+-------------+-------------+ | MGC | O | AUDITVALUE | ALL | YES | | OriginatedP | | | | | | endingLimit | | | | | | (root/MGCO | | | | | | riginatedPe | | | | | | ndingLimit, | | | | | | 0x0 | | | | | | 002/0x0007) | | | | | +-------------+-------------+-------------+-------------+-------------+ | MG | O | AUDITVALUE | ALL | YES | | OriginatedP | | | | | | endingLimit | | | | | | (root/MGO | | | | | | riginatedPe | | | | | | ndingLimit, | | | | | | 0x0 | | | | | | 002/0x0008) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Signals | Mandato | Used in | Duration | | | | ry/Optional | command | Provisioned | | | | | | Value | | +-------------+-------------+-------------+-------------+-------------+ | None | - | - | - | | +-------------+-------------+-------------+-------------+-------------+ | | Signal | Mandato | Supported | Duration | | | Parameters | ry/Optional | Values | Provisioned | | | | | | Value | +-------------+-------------+-------------+-------------+-------------+ | | - | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | Events | Mandato | Used in | | | | | ry/Optional | command | | | +-------------+-------------+-------------+-------------+-------------+ | None | - | - | | | +-------------+-------------+-------------+-------------+-------------+ | | Event | Mandato | Supported | Provisioned | | | | ry/Optional | Values | Value | | | Parameters | | | | +-------------+-------------+-------------+-------------+-------------+ | | - | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | | Ob | Mandato | Supported | Provisioned | | | servedEvent | ry/Optional | | Value | | | | | Values | | | | Parameters | | | | +-------------+-------------+-------------+-------------+-------------+ | | - | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | Statistics | Mandato | Used in | Supported | | | | ry/Optional | command | Values | | +-------------+-------------+-------------+-------------+-------------+ | None | - | - | - | | +-------------+-------------+-------------+-------------+-------------+ | Error Codes | Mandato | | | | | | ry/Optional | | | | +-------------+-------------+-------------+-------------+-------------+ | None | - | | | | +-------------+-------------+-------------+-------------+-------------+
#### 5.14.3.3 Differentiated Services (ds)
> Table 5.14.3.3.1: Differentiated Services package
+-------------+-------------+-------------+-------------+-------------+ | Properties | Mandato | Used in | Supported | Provisioned | | | ry/Optional | command | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | Dif | M | ADD, MODIFY | ALL | Yes | | ferentiated | | | | | | Services | | | | | | Code Point\ | | | | | | ( | | | | | | ds/dscp,0x0 | | | | | | 08b/0x0001) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Tagging | O | ADD, MODIFY | ALL | Yes | | Behaviour\ | | | | | | (ds/tb, | | | | | | 0x0 | | | | | | 08b/0x0002) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Signals | Mandato | Used in | Duration | | | | ry/Optional | command | Provisioned | | | | | | Value | | +-------------+-------------+-------------+-------------+-------------+ | None | **-** | **-** | **-** | | +-------------+-------------+-------------+-------------+-------------+ | | Signal | Mandato | Supported | Duration | | | Parameters | ry/Optional | Values | Provisioned | | | | | | Value | +-------------+-------------+-------------+-------------+-------------+ | | **-** | **-** | - | **-** | +-------------+-------------+-------------+-------------+-------------+ | Events | Mandato | Used in | | | | | ry/Optional | command | | | +-------------+-------------+-------------+-------------+-------------+ | None | **-** | **-** | | | +-------------+-------------+-------------+-------------+-------------+ | | Event | Mandato | Supported | Provisioned | | | Parameters | ry/Optional | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | | **-** | **-** | - | **-** | +-------------+-------------+-------------+-------------+-------------+ | | Ob | Mandato | Supported | Provisioned | | | servedEvent | ry/Optional | Values | Value | | | | | | | | | Parameters | | | | +-------------+-------------+-------------+-------------+-------------+ | | - | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | Statistics | Mandato | Used in | Supported | | | | ry/Optional | command | Values | | +-------------+-------------+-------------+-------------+-------------+ | None | - | - | - | | +-------------+-------------+-------------+-------------+-------------+ | Error Codes | Mandato | | | | | | ry/Optional | | | | +-------------+-------------+-------------+-------------+-------------+ | None | - | | | | +-------------+-------------+-------------+-------------+-------------+
#### 5.14.3.4 Gate Management (gm)
> Table 5.14.3.4.1: Gate Management Package
+-------------+-------------+-------------+-------------+-------------+ | Properties | Mandato | Used in | Supported | Provisioned | | | ry/Optional | command | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | Remote | M | ADD, MODIFY | ALL | Not | | Source | | | | Applicable | | Address | | | | | | Filtering | | | | | | (gm/saf,0x0 | | | | | | 08c/0x0001) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Remote | O | ADD, MODIFY | ALL | Not | | Source | | | | Applicable | | Address | | | | | | Mask | | | | | | (gm/sam,0x0 | | | | | | 08c/0x0002) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Remote | M | ADD, MODIFY | ALL | Not | | Source Port | | | | Applicable | | Filtering | | | | | | (gm/spf,0x0 | | | | | | 08c/0x0003) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Remote | O | ADD, MODIFY | ALL | Not | | Source Port | | | | Applicable | | (gm/spr,0x0 | | | | | | 08c/0x0004) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Explicit | Not | NONE | - | Not | | Source | Supported | | | Applicable | | Address | | | | | | Setting | | | | | | ( | | | | | | gm/esas,0x0 | | | | | | 08c/0x0005) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Local | Not | NONE | - | Not | | Source | Supported | | | Applicable | | Address | | | | | | (gm/lsa,0x0 | | | | | | 08c/0x0006) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Explicit | Not | NONE | - | Not | | Source Port | Supported | | | Applicable | | Setting | | | | | | ( | | | | | | gm/esps,0x0 | | | | | | 08c/0x0007) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Local | Not | NONE | - | Not | | Source Port | Supported | | | Applicable | | (gm/lsp,0x0 | | | | | | 08c/0x0008) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Remote | O | ADD, MODIFY | ALL | Not | | Source Port | | | | Applicable | | Range | | | | | | ( | | | | | | gm/sprr,0x0 | | | | | | 08c/0x000A) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Signals | Mandato | Used in | Duration | | | | ry/Optional | command | Provisioned | | | | | | Value | | +-------------+-------------+-------------+-------------+-------------+ | None | **-** | **-** | **-** | | +-------------+-------------+-------------+-------------+-------------+ | | Signal | Mandatory/ | Supported | Duration | | | Parameters | | | Provisioned | | | | Optional | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | | **-** | **-** | - | **-** | +-------------+-------------+-------------+-------------+-------------+ | Events | Mandato | Used in | | | | | ry/Optional | command | | | +-------------+-------------+-------------+-------------+-------------+ | None | **-** | **-** | | | +-------------+-------------+-------------+-------------+-------------+ | | Event | Mandatory/ | Supported | Provisioned | | | Parameters | | | Value | | | | Optional | Values | | +-------------+-------------+-------------+-------------+-------------+ | | **-** | **-** | - | **-** | +-------------+-------------+-------------+-------------+-------------+ | | Ob | Mandatory/ | Supported | Provisioned | | | servedEvent | | | Value | | | | Optional | Values | | | | Parameters | | | | +-------------+-------------+-------------+-------------+-------------+ | | - | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | Statistics | Mandato | Used in | Supported | | | | ry/Optional | command | Values | | +-------------+-------------+-------------+-------------+-------------+ | Discarded | NOT USED | - | - | | | Packets | | | | | +-------------+-------------+-------------+-------------+-------------+ | Error Codes | Mandato | | | | | | ry/Optional | | | | +-------------+-------------+-------------+-------------+-------------+ | None | - | | | | +-------------+-------------+-------------+-------------+-------------+
#### 5.14.3.5 Traffic management (tman)
> Table 5.14.3.5.1: Traffic Management Package
+-------------+-------------+-------------+-------------+-------------+ | Properties | Mandato | Used in | Supported | Provisioned | | | ry/Optional | command | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | Policing | M | ADD, MODIFY | ALL | Not | | (tman/pol, | | | | Applicable | | 0x0 | | | | | | 08d/0x0005) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Peak Data | O | ADD, MODIFY | ALL | Not | | Rate | | | | Applicable | | | | | | | | (tman/pdr, | | | | | | 0x0 | | | | | | 08d/0x0001) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Delay | O | ADD, MODIFY | ALL | ALL | | Variation | | | | | | Tolerance | | | | | | | | | | | | (tman/dvt, | | | | | | 0x0 | | | | | | 08d/0x0004) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Sustainable | M | ADD, MODIFY | ALL | Not | | Data Rate | | | | Applicable | | | | | | | | (tman/sdr, | | | | | | 0x0 | | | | | | 08d/0x0002) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Maximum | M | ADD, MODIFY | ALL | Not | | burst size | | | | Applicable | | | | | | | | (tman/mbs, | | | | | | 0x0 | | | | | | 08d/0x0003) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Signals | Mandato | Used in | Duration | | | | ry/Optional | command | Provisioned | | | | | | Value | | +-------------+-------------+-------------+-------------+-------------+ | None | **-** | **-** | **-** | | +-------------+-------------+-------------+-------------+-------------+ | | Signal | Mandato | Supported | Duration | | | Parameters | ry/Optional | Values | Provisioned | | | | | | Value | +-------------+-------------+-------------+-------------+-------------+ | | **-** | **-** | - | **-** | +-------------+-------------+-------------+-------------+-------------+ | Events | Mandato | Used in | | | | | ry/Optional | command | | | +-------------+-------------+-------------+-------------+-------------+ | None | **-** | **-** | | | +-------------+-------------+-------------+-------------+-------------+ | | Event | Mandato | Supported | Provisioned | | | Parameters | ry/Optional | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | | **-** | **-** | - | **-** | +-------------+-------------+-------------+-------------+-------------+ | | Ob | Mandato | Supported | Provisioned | | | servedEvent | ry/Optional | Values | Value | | | | | | | | | Parameters | | | | +-------------+-------------+-------------+-------------+-------------+ | | - | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | Statistics | Mandato | Used in | Supported | | | | ry/Optional | command | Values | | +-------------+-------------+-------------+-------------+-------------+ | None | - | - | - | | +-------------+-------------+-------------+-------------+-------------+ | Error Codes | Mandato | | | | | | ry/Optional | | | | +-------------+-------------+-------------+-------------+-------------+ | None | - | | | | +-------------+-------------+-------------+-------------+-------------+ | NOTE: The | | | | | | data rate | | | | | | shall be | | | | | | calculated | | | | | | using the | | | | | | packet size | | | | | | from IP | | | | | | layer | | | | | | upwards. | | | | | | The Token | | | | | | Bucket | | | | | | method as | | | | | | described | | | | | | by ITU-T | | | | | | Rec | | | | | | ommendation | | | | | | H.248.53 | | | | | | [7] | | | | | | clause | | | | | | 9.4.3 (as | | | | | | per IETF | | | | | | RFC 2216 | | | | | | [32]) | | | | | | shall be | | | | | | followed | | | | | | where SDR = | | | | | | \"r\" and | | | | | | MBS = \"b\" | | | | | | (i.e. the | | | | | | additional | | | | | | \"M\" value | | | | | | does not | | | | | | apply). | | | | | +-------------+-------------+-------------+-------------+-------------+
#### 5.14.3.6 Inactivity Timer (it)
> Table 5.14.3.6.1: Inactivity Timer Package
+-------------+-------------+-------------+-------------+-------------+ | Properties | Mandato | Used in | Supported | Provisioned | | | ry/Optional | command | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | None | - | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | Signals | Mandato | Used in | Duration | | | | ry/Optional | command | Provisioned | | | | | | Value | | +-------------+-------------+-------------+-------------+-------------+ | None | - | - | - | | +-------------+-------------+-------------+-------------+-------------+ | | Signal | Mandato | Supported | Duration | | | Parameters | ry/Optional | Values | Provisioned | | | | | | Value | +-------------+-------------+-------------+-------------+-------------+ | | - | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | Events | Mandato | Used in | | | | | ry/Optional | command | | | +-------------+-------------+-------------+-------------+-------------+ | Inactivity | M | MODIFY, | | | | Timeout | | NOTIFY | | | | (it/ito,\ | | | | | | 0x0 | | | | | | 045/0x0001) | | | | | +-------------+-------------+-------------+-------------+-------------+ | | Event | Mandato | Supported | Provisioned | | | Parameters | ry/Optional | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | | Maximum | O | ALL | Yes | | | Inactivity | | | | | | Time (mit, | | | | | | 0x0001) | | | | +-------------+-------------+-------------+-------------+-------------+ | | Ob | Mandato | Supported | Provisioned | | | servedEvent | ry/Optional | Values | Value | | | | | | | | | Parameters | | | | +-------------+-------------+-------------+-------------+-------------+ | | None­­ | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | Statistics | Mandato | Used in | Supported | | | | ry/Optional | command | Values | | +-------------+-------------+-------------+-------------+-------------+ | None | - | - | - | | +-------------+-------------+-------------+-------------+-------------+ | Error Codes | Mandato | | | | | | ry/Optional | | | | +-------------+-------------+-------------+-------------+-------------+ | None | - | | | | +-------------+-------------+-------------+-------------+-------------+
#### 5.14.3.7 IP Domain Connection (ipdc)
Table 5.14.3.7.1: IP domain connection package
+-------------+-------------+-------------+-------------+-------------+ | Properties | Mandato | Used in | Supported | Provisioned | | | ry/Optional | command | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | IP Realm | M | ADD,\ | ALL\ | Yes | | Identifier | | MODIFY | (NOTE 1) | | | ( | | (NOTE 2) | | | | ipdc/realm, | | | | | | 0x0 | | | | | | 09d/0x0001) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Signals | Mandato | Used in | Duration | | | | ry/Optional | command | Provisioned | | | | | | Value | | +-------------+-------------+-------------+-------------+-------------+ | None | - | - | - | | +-------------+-------------+-------------+-------------+-------------+ | | Signal | Mandato | Supported | Duration | | | Parameters | ry/Optional | Values | Provisioned | | | | | | Value | +-------------+-------------+-------------+-------------+-------------+ | | - | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | Events | Mandato | Used in | | | | | ry/Optional | command | | | +-------------+-------------+-------------+-------------+-------------+ | None | - | - | | | +-------------+-------------+-------------+-------------+-------------+ | | Event | Mandato | Supported | Provisioned | | | Parameters | ry/Optional | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | | - | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | | Ob | Mandato | Supported | Provisioned | | | servedEvent | ry/Optional | Values | Value | | | Parameters | | | | +-------------+-------------+-------------+-------------+-------------+ | | - | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | Statistics | Mandato | Used in | Supported | | | | ry/Optional | command | Values | | +-------------+-------------+-------------+-------------+-------------+ | None | - | - | - | | +-------------+-------------+-------------+-------------+-------------+ | Error Codes | Mandato | | | | | | ry/Optional | | | | +-------------+-------------+-------------+-------------+-------------+ | No | - | | | | +-------------+-------------+-------------+-------------+-------------+ | NOTE 1: If | | | | | | the MGC | | | | | | uses an IP | | | | | | Realm | | | | | | Identifier | | | | | | (_i | | | | | | pdc/realm_) | | | | | | property | | | | | | exceeding | | | | | | the maximum | | | | | | length | | | | | | limitation | | | | | | defined in | | | | | | ITU-T | | | | | | Rec | | | | | | ommendation | | | | | | H.248.41 | | | | | | [8], the | | | | | | MG shall | | | | | | reply with | | | | | | an error | | | | | | descriptor | | | | | | using error | | | | | | code #410: | | | | | | \"Incorrect | | | | | | id | | | | | | entifier\". | | | | | | | | | | | | NOTE 2: The | | | | | | MODIFY | | | | | | command is | | | | | | listed due | | | | | | to the fact | | | | | | that | | | | | | subsequent | | | | | | Streams may | | | | | | be | | | | | | \"added\" | | | | | | by MODIFY | | | | | | requests in | | | | | | case of | | | | | | multi- | | | | | | Stream-per- | | | | | | Termination | | | | | | structures. | | | | | | The | | | | | | subsequent | | | | | | Streams | | | | | | shall then | | | | | | carry the | | | | | | same IP | | | | | | Realm | | | | | | Identifier | | | | | | (_i | | | | | | pdc/realm_) | | | | | | property | | | | | | value as | | | | | | the very | | | | | | first | | | | | | Stream. | | | | | +-------------+-------------+-------------+-------------+-------------+
#### 5.14.3.8 Media Gateway Overload Control Package (ocp)
Table 5.14.3.8.1: Media Gateway Overload Control Package
+-------------+-------------+-------------+-------------+-------------+ | Properties | Mandato | Used in | Supported | Provisioned | | | ry/Optional | command | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | None | - | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | Signals | Mandato | Used in | Duration | | | | ry/Optional | command | Provisioned | | | | | | Value | | +-------------+-------------+-------------+-------------+-------------+ | None | - | - | - | | +-------------+-------------+-------------+-------------+-------------+ | | Signal | Mandato | Supported | Duration | | | Parameters | ry/Optional | Values | Provisioned | | | | | | Value | +-------------+-------------+-------------+-------------+-------------+ | | - | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | Events | Mandato | Used in | | | | | ry/Optional | command | | | +-------------+-------------+-------------+-------------+-------------+ | M | M | MODIFY, | | | | G_Overload | | NOTIFY | | | | | | (NOTE 1) | | | | (ocp/mg | | | | | | _overload, | | | | | | 0x0 | | | | | | 051/0x0001) | | | | | | | | | | | | (NOTE 1) | | | | | +-------------+-------------+-------------+-------------+-------------+ | | Event | Mandato | Supported | Provisioned | | | Parameters | ry/Optional | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | | None | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | | Obs | Mandato | Supported | Provisioned | | | ervedEvent\ | ry/Optional | Values | Value | | | Parameters | | | | +-------------+-------------+-------------+-------------+-------------+ | | None | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | Statistics | Mandato | Used in | Supported | | | | ry/Optional | command | Values | | +-------------+-------------+-------------+-------------+-------------+ | None | - | - | - | | +-------------+-------------+-------------+-------------+-------------+ | Error Codes | Mandato | | | | | | ry/Optional | | | | +-------------+-------------+-------------+-------------+-------------+ | None | - | | | | +-------------+-------------+-------------+-------------+-------------+ | NOTE 1: | | | | | | When the MG | | | | | | is | | | | | | overloaded, | | | | | | overload | | | | | | Events may | | | | | | be sent | | | | | | **either** | | | | | | only | | | | | | following | | | | | | the **first | | | | | | AD | | | | | | D.request** | | | | | | which | | | | | | creates a | | | | | | new | | | | | | Context, | | | | | | **or** | | | | | | following | | | | | | **all | | | | | | AD | | | | | | D.request** | | | | | | commands | | | | | | (see ITU-T | | | | | | Rec | | | | | | ommendation | | | | | | H.248.11 | | | | | | [13] | | | | | | Corri | | | | | | gendum 1).\ | | | | | | These two | | | | | | options | | | | | | result in | | | | | | different | | | | | | nor | | | | | | malisations | | | | | | of the | | | | | | overload | | | | | | event rate | | | | | | as an | | | | | | indicator | | | | | | of the | | | | | | level of MG | | | | | | overload. | | | | | +-------------+-------------+-------------+-------------+-------------+
#### 5.14.3.9 Hanging Termination Detection (hangterm)
> Table 5.14.3.9.1: Hanging Termination Detection Package
+-------------+-------------+-------------+-------------+-------------+ | Properties | Mandato | Used in | Supported | Provisioned | | | ry/Optional | command | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | None | - | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | Signals | Mandato | Used in | Duration | | | | ry/Optional | command | Provisioned | | | | | | Value | | +-------------+-------------+-------------+-------------+-------------+ | None | - | - | - | | +-------------+-------------+-------------+-------------+-------------+ | | Signal | Mandato | Supported | Duration | | | Parameters | ry/Optional | Values | Provisioned | | | | | | Value | +-------------+-------------+-------------+-------------+-------------+ | | - | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | Events | Mandato | Used in | | | | | ry/Optional | command | | | +-------------+-------------+-------------+-------------+-------------+ | Termination | M | ADD, | | | | Heartbeat | | MODIFY, | | | | (ha | | NOTIFY | | | | ngterm/thb, | | | | | | 0x0 | | | | | | 098/0x0001) | | | | | +-------------+-------------+-------------+-------------+-------------+ | | Event | Mandato | Supported | Provisioned | | | Parameters | ry/Optional | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | | Timer X | M | ALL (NOTE1) | YES | | | | | | | | | (tim | | | | | | erx,0x0001) | | | | +-------------+-------------+-------------+-------------+-------------+ | | Ob | Mandato | Supported | Provisioned | | | servedEvent | ry/Optional | Values | Value | | | | | | | | | Parameters | | | | +-------------+-------------+-------------+-------------+-------------+ | | - | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | Statistics | Mandato | Used in | Supported | | | | ry/Optional | command | Values | | +-------------+-------------+-------------+-------------+-------------+ | None | - | **-** | **-** | | +-------------+-------------+-------------+-------------+-------------+ | Error Codes | Mandato | | | | | | ry/Optional | | | | +-------------+-------------+-------------+-------------+-------------+ | None | - | | | | +-------------+-------------+-------------+-------------+-------------+ | NOTE1: The | | | | | | heartbeat | | | | | | timer shall | | | | | | be | | | | | | configured | | | | | | to a value | | | | | | much | | | | | | greater | | | | | | than the | | | | | | mean call | | | | | | holding | | | | | | time. | | | | | +-------------+-------------+-------------+-------------+-------------+
#### 5.14.3.10 Media Gateway Resource Congestion handling Package (chp)
Table 5.14.3.10.1: Media Gateway Resource Congestion handling Package
+-------------+-------------+-------------+-------------+-------------+ | Properties | Mandato | Used in | Supported | Provisioned | | | ry/Optional | command | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | None | - | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | Signals | Mandato | Used in | Duration | | | | ry/Optional | command | Provisioned | | | | | | Value | | +-------------+-------------+-------------+-------------+-------------+ | None | - | - | - | | +-------------+-------------+-------------+-------------+-------------+ | | Signal | Mandato | Supported | Duration | | | Parameters | ry/Optional | Values | Provisioned | | | | | | Value | +-------------+-------------+-------------+-------------+-------------+ | | - | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | Events | Mandato | Used in | | | | | ry/Optional | command | | | +-------------+-------------+-------------+-------------+-------------+ | MGCon | M | MODIFY, | | | | (chp/mgcon, | | NOTIFY | | | | 0x0 | | | | | | 029/0x0001) | | | | | +-------------+-------------+-------------+-------------+-------------+ | | Event | Mandato | Supported | Provisioned | | | Parameters | ry/Optional | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | | **None** | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | | Ob | Mandato | Supported | Provisioned | | | servedEvent | ry/Optional | Values | Value | | | | | | | | | Parameters | | | | +-------------+-------------+-------------+-------------+-------------+ | | Reduction | M | 0-100 | Not | | | (**reductio | | | Applicable | | | n,0x0001)** | | | | +-------------+-------------+-------------+-------------+-------------+ | Statistics | Mandato | Used in | Supported | | | | ry/Optional | command | Values | | +-------------+-------------+-------------+-------------+-------------+ | None | - | **-** | **-** | | +-------------+-------------+-------------+-------------+-------------+ | Error Codes | Mandato | | | | | | ry/Optional | | | | +-------------+-------------+-------------+-------------+-------------+ | None | - | | | | +-------------+-------------+-------------+-------------+-------------+
#### 5.14.3.11 IP Realm Availability (ipra)
Table 5.14.3.11.1: IP Realm Availability Package
+-------------+-------------+-------------+-------------+-------------+ | Properties | Mandato | Used in | Supported | Provisioned | | | ry/Optional | command | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | Available | M | AUDITVALUE | ALL | Not | | Realms, | | | | Applicable | | (ipra/ar, | | | | | | 0x0 | | | | | | 0e0/0x0001) | | | | | +-------------+-------------+-------------+-------------+-------------+ | **Signals** | **Mandatory |** Used in | **Duration | | | | /Optional** | command**| Provisioned | | | | | | Value** | | +-------------+-------------+-------------+-------------+-------------+ | None | - | - | - | | +-------------+-------------+-------------+-------------+-------------+ | | Signal | Mandato | Supported | Duration | | | Parameters | ry/Optional | Values | Provisioned | | | | | | Value | +-------------+-------------+-------------+-------------+-------------+ | | - | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | Events | Mandato | Used in | | | | | ry/Optional | command | | | +-------------+-------------+-------------+-------------+-------------+ | Available | M | MODIFY, | | | | Realms | | NOTIFY | | | | Changed, | | | | | | (ipra/arc, | | | | | | 0x | | | | | | 00e0/0x001) | | | | | +-------------+-------------+-------------+-------------+-------------+ | | Event | Mandato | Supported | Provisioned | | | Parameters | ry/Optional | | Value | | | | | Values: | | +-------------+-------------+-------------+-------------+-------------+ | | **-** | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | | Ob | Mandato | Supported | Provisioned | | | servedEvent | ry/Optional | Values | Value | | | | | | | | | Parameters | | | | +-------------+-------------+-------------+-------------+-------------+ | | **Newly | M | ALL | Not | | | Available | | | applicable | | | Realms | | | | | | (nar, | | | | | | 0x0001)** | | | | +-------------+-------------+-------------+-------------+-------------+ | | **Newly | M | ALL | Not | | | Unavailable | | | applicable | | | Realms | | | | | | (nur, | | | | | | 0x0002)** | | | | +-------------+-------------+-------------+-------------+-------------+ | Statistics | Mandato | Used in | Supported | | | | ry/Optional | command | Values | | +-------------+-------------+-------------+-------------+-------------+ | None | - | - | - | | +-------------+-------------+-------------+-------------+-------------+ | Error Codes | Mandato | | | | | | ry/Optional | | | | +-------------+-------------+-------------+-------------+-------------+ | None | - | | | | +-------------+-------------+-------------+-------------+-------------+
#### 5.14.3.12 IP NAPT Traversal (ipnapt)
Table 5.14.3.12.1: IP NAPT Traversal Package
+-------------+-------------+-------------+-------------+-------------+ | Properties | Mandato | Used in | Supported | Provisioned | | | ry/Optional | command | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | None | - | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | Signals | Mandato | Used in | Duration | | | | ry/Optional | command | Provisioned | | | | | | Value | | +-------------+-------------+-------------+-------------+-------------+ | Latching | M | ADD, MODIFY | Not | | | (ip | | | Applicable | | | napt/latch) | | | | | | | | | | | | 0x0 | | | | | | 099/0x0001) | | | | | +-------------+-------------+-------------+-------------+-------------+ | | Signal | Mandato | Supported | Duration | | | Parameters | ry/Optional | Values | Provisioned | | | | | | Value | +-------------+-------------+-------------+-------------+-------------+ | | NAPT | M | ALL | Not | | | Traversal | | | Applicable | | | Processing | | | | | | (napt, | | | | | | 0x0001) | | | | +-------------+-------------+-------------+-------------+-------------+ | Events | Mandato | Used in | | | | | ry/Optional | command | | | +-------------+-------------+-------------+-------------+-------------+ | None | - | - | | | +-------------+-------------+-------------+-------------+-------------+ | | Event | Mandato | Supported | Provisioned | | | Parameters | ry/Optional | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | | - | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | | Ob | Mandato | Supported | Provisioned | | | servedEvent | ry/Optional | Values | Value | | | | | | | | | Parameters | | | | +-------------+-------------+-------------+-------------+-------------+ | | - | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | Statistics | Mandato | Used in | Supported | | | | ry/Optional | command | Values | | +-------------+-------------+-------------+-------------+-------------+ | None | - | - | - | | +-------------+-------------+-------------+-------------+-------------+ | Error Codes | Mandato | | | | | | ry/Optional | | | | +-------------+-------------+-------------+-------------+-------------+ | None | - | | | | +-------------+-------------+-------------+-------------+-------------+
#### 5.14.3.13 RTCP Handling Package (rtcph)
Table 5.14.3.13.1: RTCP Handling Package
+-------------+-------------+-------------+-------------+-------------+ | Properties | Mandato | Used in | Supported | Provisioned | | | ry/Optional | command | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | RTCP | M | ADD, MODIFY | ALL | OFF | | Allocation | | | | | | Specific | | | | | | Behaviour | | | | | | (rt | | | | | | cph/rsb,0x0 | | | | | | 0b5/0x0009) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Signals | Mandato | Used in | Duration | | | | ry/Optional | command | Provisioned | | | | | | Value | | +-------------+-------------+-------------+-------------+-------------+ | None | **-** | **-** | **-** | | +-------------+-------------+-------------+-------------+-------------+ | | Signal | Mandatory/ | Supported | Duration | | | Parameters | | | Provisioned | | | | Optional | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | | **-** | **-** | - | **-** | +-------------+-------------+-------------+-------------+-------------+ | Events | Mandato | Used in | | | | | ry/Optional | command | | | +-------------+-------------+-------------+-------------+-------------+ | None | **-** | **-** | | | +-------------+-------------+-------------+-------------+-------------+ | | Event | Mandatory/ | Supported | Provisioned | | | Parameters | | | Value | | | | Optional | Values | | +-------------+-------------+-------------+-------------+-------------+ | | **-** | **-** | - | **-** | +-------------+-------------+-------------+-------------+-------------+ | | Ob | Mandatory/ | Supported | Provisioned | | | servedEvent | | | Value | | | | Optional | Values | | | | Parameters | | | | +-------------+-------------+-------------+-------------+-------------+ | | - | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | Statistics | Mandato | Used in | Supported | | | | ry/Optional | command | Values | | +-------------+-------------+-------------+-------------+-------------+ | None | - | - | - | | +-------------+-------------+-------------+-------------+-------------+ | Error Codes | Mandato | | | | | | ry/Optional | | | | +-------------+-------------+-------------+-------------+-------------+ | None | - | | | | +-------------+-------------+-------------+-------------+-------------+
#### 5.14.3.14 Application Data Inactivity Detection (adid)
> Table 5.14.3.14.1: Application Data Inactivity Detection package
+-------------+-------------+-------------+-------------+-------------+ | Properties | Mandato | Used in | Supported | Provisioned | | | ry/Optional | command | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | None | - | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | Signals | Mandato | Used in | Duration | | | | ry/Optional | command | Provisioned | | | | | | Value | | +-------------+-------------+-------------+-------------+-------------+ | None | **-** | **-** | **-** | | +-------------+-------------+-------------+-------------+-------------+ | | Signal | Mandato | Supported | Duration | | | Parameters | ry/Optional | Values | Provisioned | | | | | | Value | +-------------+-------------+-------------+-------------+-------------+ | | **-** | **-** | - | **-** | +-------------+-------------+-------------+-------------+-------------+ | Events | Mandato | Used in | | | | | ry/Optional | command | | | +-------------+-------------+-------------+-------------+-------------+ | IP Flow | M | ADD, | | | | Stop | | MODIFY, | | | | Detection | | NOTIFY | | | | (a | | | | | | did/ipstop, | | | | | | 0x0 | | | | | | 09c/0x0001) | | | | | +-------------+-------------+-------------+-------------+-------------+ | | Event | Mandato | Supported | Provisioned | | | Parameters | ry/Optional | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | | Detection | M | ALL | Yes | | | time (dt, | | | | | | 0x0001) | | | | +-------------+-------------+-------------+-------------+-------------+ | | Direction | M | ALL | Yes | | | (dir, | | | | | | 0x002) | | | | +-------------+-------------+-------------+-------------+-------------+ | | Ob | Mandato | Supported | Provisioned | | | servedEvent | ry/Optional | Values | Value | | | | | | | | | Parameters | | | | +-------------+-------------+-------------+-------------+-------------+ | | None | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | Statistics | Mandato | Used in | Supported | | | | ry/Optional | command | Values | | +-------------+-------------+-------------+-------------+-------------+ | None | - | - | - | | +-------------+-------------+-------------+-------------+-------------+ | Error Codes | Mandato | | | | | | ry/Optional | | | | +-------------+-------------+-------------+-------------+-------------+ | None | | | | | +-------------+-------------+-------------+-------------+-------------+
#### 5.14.3.15 Explicit Congestion Notification for RTP-over-UDP Support
(ecnrous)
Table 5.14.3.15.1: Explicit Congestion Notification for RTP-over-UDP Support
package
+-------------+-------------+-------------+-------------+-------------+ | Properties | Mandato | Used in | Supported | Provisioned | | | ry/Optional | command | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | ECN Enabled | M | ADD, MODIFY | True, False | - | | (ecn | | | | | | rous/ecnen, | | | | | | 0x0 | | | | | | 10b/0x0001) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Congestion | Not | - | - | \"RDC | | Response | Signalled | | | C\"(0x0002) | | Method | | | | | | (e | | | | (NOTE 1, | | cnrous/crm, | | | | | | 0x0 | | | | NOTE 2) | | 10b/0x0002) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Initiation | M | ADD, MODIFY | \" | \ | | Method | | | inactive\", | "inactive\" | | (ecnrous/ | | | \"leap\" | | | initmethod, | | | | | | 0x0 | | | | | | 10b/0x0003) | | | | | +-------------+-------------+-------------+-------------+-------------+ | ECN Mode | Not | - | - | \"setonly\" | | (ec | Signalled | | | (0x0001) in | | nrous/mode, | | | | the Remote | | 0x0 | | | | Descriptor | | 10b/0x0004) | | | | and | | | | | | \ | | | | | | "readonly\" | | | | | | (0x0002) in | | | | | | the Local | | | | | | Descriptor | +-------------+-------------+-------------+-------------+-------------+ | ECT Marking | Not | - | - | \"0\" | | (ecnro | Signalled | | | (0x0002) | | us/ectmark, | | | | | | 0x0 | | | | (NOTE 2) | | 10b/0x0005) | | | | | +-------------+-------------+-------------+-------------+-------------+ | ECN | Not | - | - | \"nomark\" | | Congestion | Signalled | | | (0x0003) | | Marking | | | | | | (ecnrous/c | | | | | | ongestmark, | | | | | | 0x0 | | | | | | 10b/0x0006) | | | | | +-------------+-------------+-------------+-------------+-------------+ | ECN SDP | Not | - | - | \"P\" | | Usage | Signalled | | | (0x0001) | | (ecnr | | | | | | ous/ecnsdp, | | | | | | 0x0 | | | | | | 10b/0x0007) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Signals | Mandato | Used in | Duration | | | | ry/Optional | command | Provisioned | | | | | | Value | | +-------------+-------------+-------------+-------------+-------------+ | None | **-** | **-** | **-** | | +-------------+-------------+-------------+-------------+-------------+ | | Signal | Mandatory/ | Supported | Duration | | | Parameters | | | Provisioned | | | | Optional | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | | **-** | **-** | - | **-** | +-------------+-------------+-------------+-------------+-------------+ | Events | Mandato | Used in | | | | | ry/Optional | command | | | +-------------+-------------+-------------+-------------+-------------+ | ECN Failure | **O (NOTE |** ADD, | | | | (ec | 2)**| MODIFY, | | | | nrous/fail, | | NOTIFY** | | | | 0x0 | | | | | | 10b/0x0001) | | | | | +-------------+-------------+-------------+-------------+-------------+ | | Event | Mandatory/ | Supported | Provisioned | | | Parameters | | | Value | | | | Optional | Values | | +-------------+-------------+-------------+-------------+-------------+ | | **-** | **-** | - | **-** | +-------------+-------------+-------------+-------------+-------------+ | | - | **-** | - | **-** | +-------------+-------------+-------------+-------------+-------------+ | | Ob | Mandatory/ | Supported | Provisioned | | | servedEvent | | | Value | | | | Optional | Values | | | | Parameters | | | | +-------------+-------------+-------------+-------------+-------------+ | | Failure | Mandatory | INIT, USE | | | | Type | | | | | | (t | | | | | | ype,0x0001) | | | | +-------------+-------------+-------------+-------------+-------------+ | | Media | Not | | | | | Sender SSRC | Supported | | | | | (ssrc, | | | | | | 0x0002) | | | | +-------------+-------------+-------------+-------------+-------------+ | Statistics | Mandato | Used in | Supported | | | | ry/Optional | command | Values | | +-------------+-------------+-------------+-------------+-------------+ | Source | Not | - | - | | | (ec | Supported | | | | | nrous/ssrc, | | | | | | 0x0 | | | | | | 10b/0x0001) | | | | | +-------------+-------------+-------------+-------------+-------------+ | CE Counter | Not | - | - | | | (ecnro | Supported | | | | | us/cecount, | | | | | | 0x0 | | | | | | 10b/0x0002) | | | | | +-------------+-------------+-------------+-------------+-------------+ | ECT0 | Not | - | - | | | Counter | Supported | | | | | (ecnro | | | | | | us/ectzero, | | | | | | 0x0 | | | | | | 10b/0x0003) | | | | | +-------------+-------------+-------------+-------------+-------------+ | ECT1 | Not | - | - | | | Counter | Supported | | | | | (ecnr | | | | | | ous/ectone, | | | | | | 0x0 | | | | | | 10b/0x0004) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Not-ECT | Not | - | - | | | Counter | Supported | | | | | (ecnr | | | | | | ous/notect, | | | | | | 0x0 | | | | | | 10b/0x0005) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Lost | Not | - | - | | | Packets | Supported | | | | | Counter | | | | | | (e | | | | | | cnrous/lost | | | | | | 0x0 | | | | | | 10b/0x0006) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Extended | Not | - | - | | | Highest | Supported | | | | | Sequence | | | | | | number | | | | | | (ec | | | | | | nrous/ehsn, | | | | | | 0x0 | | | | | | 10b/0x0007) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Duplication | Not | - | - | | | Counter | Supported | | | | | (e | | | | | | cnrous/dup, | | | | | | 0x0 | | | | | | 10b/0x0008) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Error Codes | Mandato | | | | | | ry/Optional | | | | +-------------+-------------+-------------+-------------+-------------+ | None | - | | | | +-------------+-------------+-------------+-------------+-------------+ | NOTE 1: | | | | | | Application | | | | | | Specific | | | | | | Rate | | | | | | Adaptation | | | | | | shall be | | | | | | applied in | | | | | | accordance | | | | | | with 3GPP | | | | | | TS 26.114 | | | | | | [26]. For | | | | | | speech this | | | | | | requires | | | | | | support of | | | | | | CMR and | | | | | | TMMBR for | | | | | | video. | | | | | | | | | | | | NOTE 2: Not | | | | | | used for | | | | | | ECN | | | | | | t | | | | | | ransparent. | | | | | | Mandatory | | | | | | for ECN | | | | | | endpoint. | | | | | +-------------+-------------+-------------+-------------+-------------+
#### 5.14.3.16 **MG Act-as STUN Server (** mgastuns)
Table 5.14.3.16.1: **MG Act-as STUN Server**
+-------------+-------------+-------------+-------------+-------------+ | Properties | Mandato | Used in | Supported | Provisioned | | | ry/Optional | command | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | Act-as STUN | M | ADD, MODIFY | ALL | - | | Server | | | | | | (mgast | | | | | | uns/astuns, | | | | | | 0x0 | | | | | | 0c2/0x0001) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Signals | Mandato | Used in | Duration | | | | ry/Optional | command | Provisioned | | | | | | Value | | +-------------+-------------+-------------+-------------+-------------+ | None | **-** | **-** | **-** | | +-------------+-------------+-------------+-------------+-------------+ | | Signal | Mandatory/ | Supported | Duration | | | Parameters | | | Provisioned | | | | Optional | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | | **-** | **-** | - | **-** | +-------------+-------------+-------------+-------------+-------------+ | Events | Mandato | Used in | | | | | ry/Optional | command | | | +-------------+-------------+-------------+-------------+-------------+ | None | **-** | **-** | | | +-------------+-------------+-------------+-------------+-------------+ | | Event | Mandatory/ | Supported | Provisioned | | | Parameters | | | Value | | | | Optional | Values | | +-------------+-------------+-------------+-------------+-------------+ | | **-** | **-** | - | **-** | +-------------+-------------+-------------+-------------+-------------+ | | - | **-** | - | **-** | +-------------+-------------+-------------+-------------+-------------+ | | Ob | Mandatory/ | Supported | Provisioned | | | servedEvent | | | Value | | | | Optional | Values | | | | Parameters | | | | +-------------+-------------+-------------+-------------+-------------+ | | - | - | | | +-------------+-------------+-------------+-------------+-------------+ | Statistics | Mandato | Used in | Supported | | | | ry/Optional | command | Values | | +-------------+-------------+-------------+-------------+-------------+ | None | - | - | - | | +-------------+-------------+-------------+-------------+-------------+ | Error Codes | Mandato | | | | | | ry/Optional | | | | +-------------+-------------+-------------+-------------+-------------+ | None | - | | | | +-------------+-------------+-------------+-------------+-------------+ | | | | | | +-------------+-------------+-------------+-------------+-------------+
#### 5.14.3.17 Originate STUN Continuity Check (ostuncc)
Table 5.14.3.17.1: Originate STUN Continuity Check Package
+-------------+-------------+-------------+-------------+-------------+ | Properties | Mandato | Used in | Supported | Provisioned | | | ry/Optional | command | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | Host | O | ADD, MODIFY | ALL | Yes | | Candidate | | | | | | Realm | | | | | | (o | | | | | | stuncc/hcr, | | | | | | 0x0 | | | | | | 0c3/0x0001) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Signals | Mandato | Used in | Duration | | | | ry/Optional | command | Provisioned | | | | | | Value | | +-------------+-------------+-------------+-------------+-------------+ | Send | M | ADD, MODIFY | Not | | | C | | | Applicable | | | onnectivity | | | | | | Check | | | | | | (o | | | | | | stuncc/scc, | | | | | | 0x0 | | | | | | 0c3/0x0001) | | | | | +-------------+-------------+-------------+-------------+-------------+ | | Signal | Mandato | Supported | Duration | | | Parameters | ry/Optional | Values | Provisioned | | | | | | Value | +-------------+-------------+-------------+-------------+-------------+ | | Control | O | \"con | Not | | | (cntrl, | | trolling\", | Applicable | | | 0x0001) | | \"c | | | | | | ontrolled\" | | +-------------+-------------+-------------+-------------+-------------+ | Send | Mandato | Used in | Duration | | | Additional | ry/Optional | command | Provisioned | | | C | | | Value | | | onnectivity | | | | | | Check | | | | | | (os | | | | | | tuncc/sacc, | | | | | | 0x0 | | | | | | 0c3/0x0002) | | | | | +-------------+-------------+-------------+-------------+-------------+ | | M | MODIFY | Not | | | | | | Applicable | | +-------------+-------------+-------------+-------------+-------------+ | | Signal | Mandato | Supported | Duration | | | Parameters | ry/Optional | Values | Provisioned | | | | | | Value | +-------------+-------------+-------------+-------------+-------------+ | | Control | O | \"con | Not | | | (cntrl, | | trolling\", | Applicable | | | 0x0001) | | \"c | | | | | | ontrolled\" | | +-------------+-------------+-------------+-------------+-------------+ | Events | Mandato | Used in | | | | | ry/Optional | command | | | +-------------+-------------+-------------+-------------+-------------+ | C | M | ADD, | | | | onnectivity | | MODIFY, | | | | Check | | NOTIFY | | | | Result | | | | | | (o | | | | | | stuncc/ccr, | | | | | | 0x0 | | | | | | 0c3/0x0001) | | | | | +-------------+-------------+-------------+-------------+-------------+ | | Event | Mandato | Supported | Provisioned | | | Parameters | ry/Optional | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | | - | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | | Ob | Mandato | Supported | Provisioned | | | servedEvent | ry/Optional | Values | Value | | | | | | | | | Parameters | | | | +-------------+-------------+-------------+-------------+-------------+ | | **Candidat | M | ALL | Not | | | e/Transport | | | applicable | | | Pair (ctp, | | | | | | 0x0001)** | | | | +-------------+-------------+-------------+-------------+-------------+ | New Peer | Mandato | Used in | | | | Reflexive | ry/Optional | command | | | | Candidate | | | | | | (os | | | | | | tuncc/nprc, | | | | | | 0x0 | | | | | | 0c3/0x0002) | | | | | +-------------+-------------+-------------+-------------+-------------+ | | M | ADD, | | | | | | MODIFY, | | | | | | NOTIFY | | | +-------------+-------------+-------------+-------------+-------------+ | | Event | Mandato | Supported | Provisioned | | | Parameters | ry/Optional | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | | - | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | | Ob | Mandato | Supported | Provisioned | | | servedEvent | ry/Optional | Values | Value | | | | | | | | | Parameters | | | | +-------------+-------------+-------------+-------------+-------------+ | | **Candidate | M | ALL | Not | | | (can, | | | applicable | | | 0x0001)** | | | | +-------------+-------------+-------------+-------------+-------------+ | Statistics | Mandato | Used in | Supported | | | | ry/Optional | command | Values | | +-------------+-------------+-------------+-------------+-------------+ | None | - | - | - | | +-------------+-------------+-------------+-------------+-------------+ | Error Codes | Mandato | | | | | | ry/Optional | | | | +-------------+-------------+-------------+-------------+-------------+ | None | - | | | | +-------------+-------------+-------------+-------------+-------------+
#### 5.14.3.18 TCP basic connection control (tcpbcc)
Table 5.14.3.18.1: TCP basic connection control package
+-------------+-------------+-------------+-------------+-------------+ | Properties | Mandato | Used in | Supported | Provisioned | | | ry/Optional | command | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | Incoming | O (NOTE 1) | ADD, MODIFY | ALL | \" | | bearer | | | | Unblocked\" | | connection | | | | | | es | | | | | | tablishment | | | | | | blocking | | | | | | (t | | | | | | cpbcc/bceb, | | | | | | 0x0 | | | | | | 115/0x0001) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Oneway | not | **-** | **-** | \"False\" | | Release | supported | | | | | Indicator | | | | | | ( | | | | | | tcpbcc/ori, | | | | | | 0x0 | | | | | | 115/0x0002) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Signals | Mandato | Used in | Duration | | | | ry/Optional | command | Provisioned | | | | | | Value | | +-------------+-------------+-------------+-------------+-------------+ | Establish | **M** | ADD, | **-** | | | BNC | | **MODIFY** | | | | (tcp | | | | | | bcc/EstBNC, | | | | | | 0x0 | | | | | | 115/0x0001) | | | | | +-------------+-------------+-------------+-------------+-------------+ | | Signal | Mandatory/ | Supported | Duration | | | Parameters | | | Provisioned | | | | Optional | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | | **-** | **-** | - | **-** | +-------------+-------------+-------------+-------------+-------------+ | Release BNC | **O** | ADD, | **-** | | | (tcp | (NOTE 2) | **MODIFY** \- | | | | bcc/RelBNC, | | | | | | 0x0 | | | | | | 115/0x0002) | | | | | +-------------+-------------+-------------+-------------+-------------+ | | Signal | Mandatory/ | Supported | Duration | | | Parameters | | | Provisioned | | | | Optional | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | | **-** | **-** | - | **-** | +-------------+-------------+-------------+-------------+-------------+ | Events | Mandato | Used in | | | | | ry/Optional | command | | | +-------------+-------------+-------------+-------------+-------------+ | TCP | **O** | **ADD, | | | | connection | (NOTE 3) | MODIFY, | | | | state | | NOTIFY-** | | | | change | | | | | | (tcpbcc | | | | | | /BNCChange, | | | | | | 0x0 | | | | | | 115/0x0001) | | | | | +-------------+-------------+-------------+-------------+-------------+ | | Event | Mandatory/ | Supported | Provisioned | | | Parameters | | | Value | | | | Optional | Values | | +-------------+-------------+-------------+-------------+-------------+ | | **Type** of | **M** | Est | **-** | | | state | | [0x01] | | | | change | | Bearer | | | | (Type, | | E | | | | 0x0001) | | stablished, | | | | | | | | | | | | Rel | | | | | | [0x05] | | | | | | Bearer | | | | | | Released | | +-------------+-------------+-------------+-------------+-------------+ | | Ob | Mandatory/ | Supported | Provisioned | | | servedEvent | | | Value | | | | Optional | Values | | | | Parameters | | | | +-------------+-------------+-------------+-------------+-------------+ | | **Type** of | **M** | Est | **-** | | | state | | [0x01] | | | | change | | Bearer | | | | (Type, | | E | | | | 0x0001) | | stablished, | | | | | | | | | | | | Rel | | | | | | [0x05] | | | | | | Bearer | | | | | | Released | | +-------------+-------------+-------------+-------------+-------------+ | Statistics | Mandato | Used in | Supported | | | | ry/Optional | command | Values | | +-------------+-------------+-------------+-------------+-------------+ | None | - | - | - | | +-------------+-------------+-------------+-------------+-------------+ | Error Codes | Mandato | | | | | | ry/Optional | | | | +-------------+-------------+-------------+-------------+-------------+ | None | - | | | | +-------------+-------------+-------------+-------------+-------------+ | NOTE 1: | | | | | | Shall be | | | | | | supported | | | | | | if delayed | | | | | | TCP bearer | | | | | | connection | | | | | | es | | | | | | tablishment | | | | | | is | | | | | | required. | | | | | | | | | | | | NOTE 2: | | | | | | When the | | | | | | IMS-ALG | | | | | | wants to | | | | | | explicitly | | | | | | trigger the | | | | | | TCP bearer | | | | | | connection | | | | | | release | | | | | | procedure | | | | | | (instead of | | | | | | the | | | | | | implicit | | | | | | trigger | | | | | | related to | | | | | | the removal | | | | | | of the | | | | | | H.248 | | | | | | stream (via | | | | | | a | | | | | | MOD | | | | | | ify.request | | | | | | or | | | | | | SUBtr | | | | | | act.request | | | | | | command)). | | | | | | | | | | | | NOTE 3: | | | | | | When the | | | | | | IMS-ALG | | | | | | wants to | | | | | | monitor the | | | | | | execution | | | | | | of TCP | | | | | | bearer | | | | | | control | | | | | | procedures. | | | | | +-------------+-------------+-------------+-------------+-------------+
#### 5.14.3.19 TLS basic session control (tlsbsc)
Table 5.14.3.19.1: TLS basic session control package
+-------------+-------------+-------------+-------------+-------------+ | Properties | Mandato | Used in | Supported | Provisioned | | | ry/Optional | command | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | Incoming | O (NOTE 1) | ADD, MODIFY | ALL | \" | | security | | | | Unblocked\" | | session | | | | | | es | | | | | | tablishment | | | | | | blocking | | | | | | (t | | | | | | lsbsc/bceb, | | | | | | 0x0 | | | | | | 117/0x0001) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Signals | Mandato | Used in | Duration | | | | ry/Optional | command | Provisioned | | | | | | Value | | +-------------+-------------+-------------+-------------+-------------+ | Establish | **M** | ADD, | **-** | | | BNC | | **MODIFY** | | | | (tls | | | | | | bsc/EstBNC, | | | | | | 0x0 | | | | | | 117/0x0001) | | | | | +-------------+-------------+-------------+-------------+-------------+ | | Signal | Mandatory/ | Supported | Duration | | | Parameters | | | Provisioned | | | | Optional | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | | **-** | **-** | - | **-** | +-------------+-------------+-------------+-------------+-------------+ | Release BNC | **O** | ADD, | **-** | | | (tls | (NOTE 2) | **MODIFY** \- | | | | bsc/RelBNC, | | | | | | 0x0 | | | | | | 117/0x0002) | | | | | +-------------+-------------+-------------+-------------+-------------+ | | Signal | Mandatory/ | Supported | Duration | | | Parameters | | | Provisioned | | | | Optional | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | | **-** | **-** | - | **-** | +-------------+-------------+-------------+-------------+-------------+ | Events | Mandato | Used in | | | | | ry/Optional | command | | | +-------------+-------------+-------------+-------------+-------------+ | TLS session | **O** | **ADD, | | | | state | (NOTE 3) | MODIFY, | | | | change | | NOTIFY-** | | | | (tlsbsc | | | | | | /BNCChange, | | | | | | 0x0 | | | | | | 117/0x0001) | | | | | +-------------+-------------+-------------+-------------+-------------+ | | Event | Mandatory/ | Supported | Provisioned | | | Parameters | | | Value | | | | Optional | Values | | +-------------+-------------+-------------+-------------+-------------+ | | **Type** of | **M** | Est | **-** | | | state | | [0x01] | | | | change | | Bearer | | | | (Type, | | E | | | | 0x0001) | | stablished, | | | | | | | | | | | | Rel | | | | | | [0x05] | | | | | | Bearer | | | | | | Released | | +-------------+-------------+-------------+-------------+-------------+ | | Ob | Mandatory/ | Supported | Provisioned | | | servedEvent | | | Value | | | | Optional | Values | | | | Parameters | | | | +-------------+-------------+-------------+-------------+-------------+ | | **Type** of | **M** | Est | **-** | | | state | | [0x01] | | | | change | | Bearer | | | | (Type, | | E | | | | 0x0001) | | stablished, | | | | | | | | | | | | Rel | | | | | | [0x05] | | | | | | Bearer | | | | | | Released | | +-------------+-------------+-------------+-------------+-------------+ | Statistics | Mandato | Used in | Supported | | | | ry/Optional | command | Values | | +-------------+-------------+-------------+-------------+-------------+ | None | - | - | - | | +-------------+-------------+-------------+-------------+-------------+ | Error Codes | Mandato | | | | | | ry/Optional | | | | +-------------+-------------+-------------+-------------+-------------+ | None | - | | | | +-------------+-------------+-------------+-------------+-------------+ | NOTE 1: | | | | | | When the | | | | | | IMS-ALG | | | | | | wants to | | | | | | block | | | | | | incoming | | | | | | TLS bearer | | | | | | session | | | | | | es | | | | | | tablishment | | | | | | requests. | | | | | | | | | | | | NOTE 2: | | | | | | When the | | | | | | IMS-ALG | | | | | | wants to | | | | | | explicitly | | | | | | trigger the | | | | | | TLS bearer | | | | | | session | | | | | | release | | | | | | procedure | | | | | | (instead of | | | | | | the | | | | | | implicit | | | | | | trigger | | | | | | related to | | | | | | the removal | | | | | | of the | | | | | | H.248 | | | | | | stream (via | | | | | | a | | | | | | MOD | | | | | | ify.request | | | | | | or | | | | | | SUBtr | | | | | | act.request | | | | | | command)). | | | | | | | | | | | | NOTE 3: | | | | | | When the | | | | | | IMS-ALG | | | | | | wants to | | | | | | monitor the | | | | | | execution | | | | | | of TLS | | | | | | bearer | | | | | | control | | | | | | procedures. | | | | | +-------------+-------------+-------------+-------------+-------------+
#### 5.14.3.20 Stream endpoint interlinkage (seplink)
Table 5.14.3.20.1: Stream endpoint interlinkage package
+-------------+-------------+-------------+-------------+-------------+ | Properties | Mandato | Used in | Supported | Provisioned | | | ry/Optional | command | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | I | M | ADD, MODIFY | only TCP | empty list | | nterlinkage | | | endpoints | | | topology | | | | | | (seplin | | | | | | k/linktopo, | | | | | | 0x0 | | | | | | 11b/0x0001) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Signals | Mandato | Used in | Duration | | | | ry/Optional | command | Provisioned | | | | | | Value | | +-------------+-------------+-------------+-------------+-------------+ | None | **-** | - | **-** | | +-------------+-------------+-------------+-------------+-------------+ | | Signal | Mandatory/ | Supported | Duration | | | Parameters | | | Provisioned | | | | Optional | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | | **-** | **-** | - | **-** | +-------------+-------------+-------------+-------------+-------------+ | Events | Mandato | Used in | | | | | ry/Optional | command | | | +-------------+-------------+-------------+-------------+-------------+ | None | **-** | **-** | | | +-------------+-------------+-------------+-------------+-------------+ | | Event | Mandatory/ | Supported | Provisioned | | | Parameters | | | Value | | | | Optional | Values | | +-------------+-------------+-------------+-------------+-------------+ | | **-** | **-** | - | **-** | +-------------+-------------+-------------+-------------+-------------+ | | Ob | Mandatory/ | Supported | Provisioned | | | servedEvent | | | Value | | | | Optional | Values | | | | Parameters | | | | +-------------+-------------+-------------+-------------+-------------+ | | **-** | **-** | - | **-** | +-------------+-------------+-------------+-------------+-------------+ | Statistics | Mandato | Used in | Supported | | | | ry/Optional | command | Values | | +-------------+-------------+-------------+-------------+-------------+ | None | Not | - | - | | | | Supported | | | | +-------------+-------------+-------------+-------------+-------------+ | Error Codes | Mandato | | | | | | ry/Optional | | | | +-------------+-------------+-------------+-------------+-------------+ | #488 | M | | | | +-------------+-------------+-------------+-------------+-------------+
#### 5.14.3.21 MG located Bearer Level ALG (mgbalg)
Table 5.14.3.21.1: MG located Bearer Level ALG package
+-------------+-------------+-------------+-------------+-------------+ | Properties | Mandato | Used in | Supported | Provisioned | | | ry/Optional | command | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | Protocol | M | ADD, MODIFY | ALL | \"OFF\" | | type bearer | | | | | | level ALG | | | | | | (mgb | | | | | | alg/ptbalg, | | | | | | 0x0 | | | | | | 11d/0x0001) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Upper layer | O (NOTE) | ADD, MODIFY | 0 | \"0\" | | protocol | | | | | | filter | | | | | | (m | | | | | | gbalg/ulpf, | | | | | | 0x0 | | | | | | 11d/0x0002) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Source of | O (NOTE) | ADD, MODIFY | ALL | \"SD\" | | replaced | | | | | | source | | | | | | address | | | | | | information | | | | | | part | | | | | | (mgb | | | | | | alg/sosaip, | | | | | | 0x0 | | | | | | 11d/0x0003) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Source of | O (NOTE) | ADD, MODIFY | ALL | \"SD\" | | replaced | | | | | | destination | | | | | | address | | | | | | information | | | | | | part | | | | | | (mgb | | | | | | alg/sodaip, | | | | | | 0x0 | | | | | | 11d/0x0004) | | | | | +-------------+-------------+-------------+-------------+-------------+ | Signals | Mandato | Used in | Duration | | | | ry/Optional | command | Provisioned | | | | | | Value | | +-------------+-------------+-------------+-------------+-------------+ | None | **-** | - | **-** | | +-------------+-------------+-------------+-------------+-------------+ | | Signal | Mandatory/ | Supported | Duration | | | Parameters | | | Provisioned | | | | Optional | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | | **-** | **-** | - | **-** | +-------------+-------------+-------------+-------------+-------------+ | Events | Mandato | Used in | | | | | ry/Optional | command | | | +-------------+-------------+-------------+-------------+-------------+ | None | **-** | **-** | | | +-------------+-------------+-------------+-------------+-------------+ | | Event | Mandatory/ | Supported | Provisioned | | | Parameters | | | Value | | | | Optional | Values | | +-------------+-------------+-------------+-------------+-------------+ | | **-** | **-** | - | **-** | +-------------+-------------+-------------+-------------+-------------+ | | Ob | Mandatory/ | Supported | Provisioned | | | servedEvent | | | Value | | | | Optional | Values | | | | Parameters | | | | +-------------+-------------+-------------+-------------+-------------+ | | **-** | **-** | - | **-** | +-------------+-------------+-------------+-------------+-------------+ | Statistics | Mandato | Used in | Supported | | | | ry/Optional | command | Values | | +-------------+-------------+-------------+-------------+-------------+ | None | - | - | - | | +-------------+-------------+-------------+-------------+-------------+ | Error Codes | Mandato | | | | | | ry/Optional | | | | +-------------+-------------+-------------+-------------+-------------+ | None | - | | | | +-------------+-------------+-------------+-------------+-------------+ | NOTE: When | | | | | | B-ALG | | | | | | service | | | | | | co | | | | | | nfiguration | | | | | | is | | | | | | provisioned | | | | | | in IMS-AGW. | | | | | +-------------+-------------+-------------+-------------+-------------+
#### 5.14.3.22 STUN Consent Freshness (stnconfres)
Table 5.14.3.22.1: STUN Consent Freshness package
+-------------+-------------+-------------+-------------+-------------+ | Properties | Mandato | Used in | Supported | Provisioned | | | ry/Optional | command | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | None | - | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | Signals | Mandato | Used in | Duration | | | | ry/Optional | command | Provisioned | | | | | | Value | | +-------------+-------------+-------------+-------------+-------------+ | Consent | **M** | ADD, | **-** | | | Test | | **MODIFY** | | | | (stnconf | | | | | | res/contst, | | | | | | 0x0 | | | | | | 120/0x0001) | | | | | +-------------+-------------+-------------+-------------+-------------+ | | Signal | Mandatory/ | Supported | Duration | | | Parameters | | | Provisioned | | | | Optional | Values | Value | +-------------+-------------+-------------+-------------+-------------+ | | tstint | O | Integer | 0.8N and | | | (0x0001) | | | 1.2N | | | | | | | | | | | | Default | | | | | | N=5000 | | | | | | (NOTE) | +-------------+-------------+-------------+-------------+-------------+ | Events | Mandato | Used in | | | | | ry/Optional | command | | | +-------------+-------------+-------------+-------------+-------------+ | Consent | Not | - | | | | State | supported | | | | | (stnconfre | | | | | | s/constate, | | | | | | 0x0 | | | | | | 120/0x0001) | | | | | +-------------+-------------+-------------+-------------+-------------+ | | Event | Mandato | Supported | Provisioned | | | | ry/Optional | Values | Value | | | Parameters | | | | +-------------+-------------+-------------+-------------+-------------+ | | Request | Not | - | - | | | States | supported | | | | | (reqstate, | | | | | | 0x0001) | | | | +-------------+-------------+-------------+-------------+-------------+ | | Ob | Mandato | Supported | Provisioned | | | servedEvent | ry/Optional | | Value | | | | | Values | | | | Parameters | | | | +-------------+-------------+-------------+-------------+-------------+ | | States | Not | - | - | | | (state, | supported | | | | | 0x0001) | | | | +-------------+-------------+-------------+-------------+-------------+ | STUN | **Mandatory |** Used in | | | | Consent | /Optional**| command** | | | | Request | | | | | | Failure | | | | | | (stnconfr | | | | | | es/confail, | | | | | | 0x0 | | | | | | 120/0x0002) | | | | | +-------------+-------------+-------------+-------------+-------------+ | | M | ADD, MOD, | | | | | | NOTIFY | | | +-------------+-------------+-------------+-------------+-------------+ | | Event | Mandato | Supported | Provisioned | | | | ry/Optional | Values | Value | | | Parameters | | | | +-------------+-------------+-------------+-------------+-------------+ | | - | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | | Ob | Mandato | Supported | Provisioned | | | servedEvent | ry/Optional | | Value | | | | | Values | | | | Parameters | | | | +-------------+-------------+-------------+-------------+-------------+ | | - | - | - | - | +-------------+-------------+-------------+-------------+-------------+ | Statistics | Mandato | Used in | Supported | | | | ry/Optional | command | Values | | +-------------+-------------+-------------+-------------+-------------+ | None | - | - | - | | +-------------+-------------+-------------+-------------+-------------+ | Error Codes | Mandato | | | | | | ry/Optional | | | | +-------------+-------------+-------------+-------------+-------------+ | None | - | | | | +-------------+-------------+-------------+-------------+-------------+ | NOTE: The | | | | | | parameter | | | | | | \"N\" | | | | | | refers to | | | | | | the basic | | | | | | period of | | | | | | the consent | | | | | | check | | | | | | interval | | | | | | defined in | | | | | | IETF RFC 7 | | | | | | 675 [58]. | | | | | +-------------+-------------+-------------+-------------+-------------+
## 5.15 Mandatory support of SDP and Annex C information elements
Table 5.15.1: Mandatory **Annex C and SDP information elements**
+------------------------+-----------------+------------------------+ | Information Element | Annex C Support | SDP Support | +------------------------+-----------------+------------------------+ | v-line | \"SDP_V \" | The value must always | | | | be equal to zero: v=0 | +------------------------+-----------------+------------------------+ | c-line | \"SDP_C \" | \ | | | | \ and | | | | \ | | | | are required. | | | | | | | | The network type shall | | | | be set to \"IN\". | | | | | | | | The address type may | | | | be IPv4 or IPv6. | | | | | | | | The MGC may apply | | | | parameter | | | | underspecification to | | | | the \ subfield. | +------------------------+-----------------+------------------------+ | m-line | \"SDP_M \" | There are four fields | | | | (or SDP values) | | | | \, \, | | | | \ and \ | | | | in the \"m=\" line | | | | (see IETF RFC 4566 | | | | [17];NOTE 1). | | | | | | | | The \"m=\" line may be | | | | omitted from SDP. | | | | | | | | \, \, | | | | \ and | | | | \ are | | | | required if the \"m=\" | | | | line is included. | | | | | | | | Media type \ : | | | | | | | | The \ field | | | | shall be set to | | | | \"audio\", \"video\", | | | | \"message\", | | | | \"application\" or | | | | \"-\". When \"-\" is | | | | used for the _media_ | | | | value then no media | | | | resources are required | | | | to be reserved at this | | | | stage (NOTE 1). If the | | | | MG does not support | | | | the requested media | | | | value it shall reject | | | | the command with error | | | | code 515. | | | | | | | | Transport port | | | | \ | | | | | | | | The _port_ value may | | | | be underspecified with | | | | CHOOSE wildcard. | | | | | | | | Transport protocol | | | | \ | | | | | | | | As in table 5.15.2. | | | | | | | | Media format \ | | | | | | | | Various values may be | | | | used for media-format, | | | | dependent on the | | | | related \. | | | | | | | | \"-\" may be used for | | | | the _format list_ | | | | value if no media | | | | reservation is | | | | required at this | | | | stage. | | | | | | | | If the MG does not | | | | support the requested | | | | media format value the | | | | MG shall reject the | | | | command with error | | | | code 449. | +------------------------+-----------------+------------------------+ | b-line | \"SDP_B \" | Shall not be used | | | | without a \"m=\" line. | | | | | | | | The _modifier_ values | | | | shall be \"AS\", | | | | \"RS\" and \"RR\". | | | | | | | | The AS _modifier_ | | | | implies that the | | | | _bandwidth-value_ | | | | represents the | | | | \"\"maximum | | | | bandwidth\" (see | | | | clause 5.8/ IETF | | | | RFC 4566 [17]). The | | | | _bandwidth-value_ | | | | relates therefore to | | | | the _peak bitrate_ | | | | (NOTE 2). | | | | | | | | The _bandwidth-value_ | | | | value defines the IP | | | | layer bandwidth for | | | | the specific H.248 | | | | Stream. | | | | | | | | For RTP flows, where | | | | RTCP resources are | | | | reserved together with | | | | the RTP resources | | | | using the \"RTP | | | | Specific Behaviour\" | | | | property of the Gate | | | | Management package | | | | (gm) property, the | | | | IMS-ALG may also | | | | supply additional RTCP | | | | bandwidth modifiers | | | | (i.e. RR and RS, see | | | | IETF RFC 3556 [28]). | | | | The AS _bandwidth_ | | | | value will include the | | | | bandwidth used by RTP. | | | | In the absence of the | | | | RTCP bandwidth | | | | modifiers the IMS-AGW | | | | shall allow an | | | | additional 5% of the | | | | AS bandwidth value for | | | | the bandwidth for | | | | RTCP, in accordance | | | | with IETF RFC 3556 | | | | [28]. | +------------------------+-----------------+------------------------+ | o-line | \"SDP_O\" | The origin line | | | | consists of six | | | | fields: | | | | | | | | (\, | | | | \, | | | | \, | | | | \, | | | | \ and | | | | \). | | | | | | | | The MGC is not | | | | required to supply | | | | this line but shall | | | | accept it (see | | | | clause 7.1.8/ITU-T | | | | Recommendation H.248.1 | | | | [10]). | | | | | | | | The MG shall return | | | | the value received | | | | from the MGC or if | | | | there is no o-line | | | | sent by the MGC, the | | | | MG shall populate this | | | | line as follows: | | | | | | | | - \ | | | | should contain an | | | | hyphen | | | | | | | | - \ and | | | | \ should | | | | contain one or mode | | | | digits as described in | | | | IETF RFC 4566 [17] | | | | | | | | - \ | | | | shall be set to IN | | | | | | | | - \ | | | | shall be set to IP4 or | | | | IP6 The Address Type | | | | shall be set to | | | | \"IP4\" or \"IP6\" | | | | depending on the | | | | addressing scheme used | | | | by the network to | | | | which the MG is | | | | connected. | | | | | | | | - \ should | | | | contain the fully | | | | qualified domain name | | | | or IP address of the | | | | gateway. | +------------------------+-----------------+------------------------+ | s-line | \"SDP_S\" | The session name | | | | \"s=\" line contains a | | | | single field | | | | | | | | s= \. | | | | | | | | The MGC is not | | | | required to supply | | | | this line but shall | | | | accept it | | | | ( | | | | see clause 7.1.8/ITU-T | | | | Recommendation H.248.1 | | | | [10]). | | | | | | | | The MG shall return | | | | the value received | | | | from the MGC or if | | | | there is no s-line | | | | sent by the MGC, the | | | | MG shall populate this | | | | line as follows: | | | | | | | | - \"s=-\" | +------------------------+-----------------+------------------------+ | t-line | \"SDP_T\" | The time \"t=\" line | | | | consists of two fields | | | | | | | | _t=_ \ | | | | and \. | | | | | | | | The MGC is not | | | | required to supply | | | | this line but shall | | | | accept it | | | | ( | | | | see clause 7.1.8/ITU-T | | | | Recommendation H.248.1 | | | | [10]). | | | | | | | | The MG shall return | | | | the value received | | | | from the MGC or if | | | | there is no t-line | | | | sent by the MGC, the | | | | MG shall populate this | | | | line as follows: | | | | | | | | \"t=0 0\" | +------------------------+-----------------+------------------------+ | NOTE 1: IETF RFC 4566 | | | | [17] enables \"-\" | | | | as a valid character. | | | | | | | | NOTE 2: The unit for | | | | the _bandwidth-value_ | | | | (peak bitrate) is | | | | \"kbit/s\". The \"b=\" | | | | line is not providing | | | | any information about | | | | the traffic | | | | characteristic, i.e. | | | | whether the traffic | | | | flow has a Constant | | | | BitRate (CBR) or | | | | Variable BitRate | | | | (VBR). The | | | | _bandwidth-value_ is | | | | thus independent of | | | | the traffic | | | | characteristic and | | | | relates to the peak | | | | bitrate for CBR and | | | | VBR traffic. | | | +------------------------+-----------------+------------------------+
Table 5.15.2: Transport Protocol
+----------------------------------+----------------------------------+ | **Transport Protocol \  | If the MG does not support the | | in m-line:** | requested transport protocol, it | | | shall reject the command with | | | error code 449. | +----------------------------------+----------------------------------+ | RTP/AVP | RTP profile according IETF | | | RFC 3551 [19]. Allow only L4 | | | protocol = UDP (see NOTE 1). | +----------------------------------+----------------------------------+ | RTP/AVPF | Extended RTP profile for | | | RTCP-based Feedback (RTP/AVPF) | | | according to IETF RFC 4585 | | | [25]. See 3GPP TS 26.114 | | | [26]. Allow only L4 protocol = | | | UDP (see NOTE 1). | +----------------------------------+----------------------------------+ | RTP/SAVP | SRTP profile according IETF | | | RFC 3711 [30] (NOTE 3). Allow | | | only L4 protocol = UDP (see NOTE | | | 1). | +----------------------------------+----------------------------------+ | RTP/SAVPF | Extended SRTP profile for | | | RTCP-based Feedback (RTP/SAVPF) | | | according to IETF RFC 5124 | | | [31] (NOTE 3). Allow only L4 | | | protocol = UDP (see NOTE 1). | +----------------------------------+----------------------------------+ | TCP | Allow only L4 protocol = TCP | | | (NOTE 2) | +----------------------------------+----------------------------------+ | TCP/MSRP | Message service using IETF | | | RFC 4975 [18] (NOTE 6). | +----------------------------------+----------------------------------+ | TCP/TLS | Application agnostic indication | | | with L4 protocol = TCP (NOTE 4). | +----------------------------------+----------------------------------+ | TCP/TLS/MSRP | Application-specific indication | | | with L4 protocol = TCP and | | | TLS-based transport security | | | (SDP codepoint see IETF RFC 4975 | | | [18]) (NOTE 6). | +----------------------------------+----------------------------------+ | udptl | Allow only L4 protocol = UDP | +----------------------------------+----------------------------------+ | udp | Allow only L4 protocol = UDP | | | (NOTE 1). | +----------------------------------+----------------------------------+ | UDP/DTLS | Application agnostic indication | | | with L4 protocol = UDP and | | | DTLS-based transport security | | | (NOTE 5). | +----------------------------------+----------------------------------+ | UDP/TLS/RTP/SAVP | Indication for WebRTC | | | end-to-access edge transport | | | security using DTLS-SRTP, where | | | DTLS is used to establish keys | | | for SRTP according to | | | IETF RFC 5763 [60] and | | | IETF RFC 5764 [61]. | +----------------------------------+----------------------------------+ | UDP/TLS/RTP/SAVPF | Indication for WebRTC | | | end-to-access edge transport | | | security using DTLS-SRTP, where | | | DTLS is used to establish keys | | | for extended SRTP according to | | | IETF RFC 5763 [60] and | | | IETF RFC 5764 [61]. | +----------------------------------+----------------------------------+ | NOTE 1: Parameter \"udp\" is | | | introduced by IETF RFC 4566 | | | [17]. | | | | | | NOTE 2: Upper case TCP is | | | defined by IETF RFC 4145 [20] | | | and registered by IANA. | | | | | | NOTE 3: The IMS AGW does not | | | need to reserve resources for | | | end-to-access edge media (e2ae) | | | security en-/decryption at this | | | stage if RTP profile identifiers | | | \"RTP/SAVP\" or \"RTP/SAVPF\" | | | are signalled without the | | | \"a=crypto\" property for that | | | stream. For e2e media security | | | either \"RTP/SAVP\" is signalled | | | at all terminations in a | | | context, or \"RTP/SAVPF\" is | | | signalled at all terminations in | | | a context and no media attribute | | | will be signalled; the IMS AGW | | | shall then not terminate the | | | SRTP / SRTCP protocol, but shall | | | pass the encrypted media and | | | control flows (as indicated with | | | the rtcph/rsb property) | | | transparently. | | | | | | NOTE 4: Parameter \"TCP/TLS\" is | | | defined by IETF RFC 4572 [55] | | | for the TLS protocol according | | | to IETF RFC 5246 [53]. | | | | | | NOTE 5: Parameter \"UDP/DTLS\" | | | is introduced by | | | IETF draft- | | | schwarz-mmusic-sdp-for-gw [54] | | | (based on ITU-T | | | Recommendation H.248.93 [50]). | | | | | | NOTE 6: Conditional support, | | | dependent on application-aware | | | interworking. | | +----------------------------------+----------------------------------+
## 5.16 Optional support of SDP and Annex C information elements
_Specifies what SDP attributes and Annex C information elements may be
supported._
**Table 5.16.1: Optional Annex C and SDP information elements**
+------------------------+-----------------+------------------------+ | Information Element | Annex C Support | SDP Support | +------------------------+-----------------+------------------------+ | a-line | \"SDP_A \" | 1) Application \"RTCP | | | | transport address | | | | control\": | | | | | | | | The attribute | | | | \"a=rtcp\" line may | | | | either contain | | | | (a=rtcp: \) or | | | | (a=rtcp: \ | | | | \ | | | | \ | | | | \) when the | | | | \"a=\" line is used | | | | for RTCP transport | | | | port and optionally | | | | network address | | | | transmission (see IETF | | | | RFC 3605 [21]). . | | | | | | | | The MGC shall supply | | | | the \"a=rtcp\" line in | | | | the RD when | | | | non-default RTCP | | | | network address or | | | | transport port values | | | | are used by the peer | | | | media entity. | | | | | | | | \"RTCP transport | | | | address control\" | | | | should be supported by | | | | MG (NOTE 2). | | | | | | | | 2) Media related | | | | parameters in general: | | | | | | | | The \"a=\" line | | | | provides the | | | | complementary | | | | information for the | | | | \"m=\" line with | | | | regards to a specified | | | | media type/format | | | | (e.g. an optional SDP | | | | „a=ptime\" line for a | | | | particular media | | | | format). | | | | | | | | For a dynamic RTP | | | | payload type, for each | | | | media information on | | | | the codec type shall | | | | be provided in a | | | | separate SDP | | | | \"a=rtpmap\"line and | | | | possibly additional | | | | SDP | | | | \"a=fmtp\"-line(s). | | | | | | | | 3) Application \" | | | | Media interworking | | | | (transcoding)\": | | | | | | | | See \"a=\" line | | | | specification in (2). | | | | Media interworking is | | | | limited to audio | | | | transcoding only | | | | (NOTE 1). | | | | | | | | 4) IMS media plane | | | | security related | | | | parameters: | | | | | | | | 4.1) SRTP-specific | | | | security parameters: | | | | | | | | The attribute | | | | \"a=crypto\" (see IETF | | | | RFC 4568 [29]) shall | | | | be provided for an | | | | m-line in the local | | | | and remote descriptor | | | | of an access network | | | | termination if the | | | | IMS-ALG wants that the | | | | corresponding media is | | | | encrypted, decrypted | | | | and/or integrity | | | | protected by the | | | | IMS-AGW (IMS | | | | end-to-access-edge | | | | media plane security). | | | | For each m-line, only | | | | a single \"a=crypto\" | | | | attribute shall be | | | | provisioned (i.e. only | | | | information related to | | | | a single crypto suite | | | | is provisioned to the | | | | IMS-AGW). The | | | | \"a=crypto\" attribute | | | | may contain several | | | | master keys. An | | | | IMS-AGW supporting | | | | end-to-access-edge | | | | media plane security | | | | shall support | | | | parameters within the | | | | \"a=crypto\" attribute | | | | in accordance with the | | | | profile in Annex of | | | | 3GPP TS 33.328 [34]. | | | | | | | | 4.2) (D)TLS-specific | | | | security parameters: | | | | | | | | The attribute | | | | \"a=fingerprint\" (see | | | | IETF RFC 4572 [55]) | | | | shall be provided in | | | | accordance with | | | | ITU-T Recommen | | | | dation H.248.90 [48] | | | | for an \"m=\"-line in | | | | the local and remote | | | | descriptor of an | | | | access network | | | | termination if the | | | | IMS-ALG wants that the | | | | corresponding media is | | | | encrypted, decrypted | | | | and/or integrity | | | | protected by the | | | | IMS-AGW (IMS | | | | end-to-access-edge | | | | media plane security). | | | | | | | | 5) Coordination of | | | | Video Orientation | | | | | | | | The attribute | | | | \"a=extmap\" (see | | | | IETF RFC 5285 [41]) | | | | may be provided for an | | | | m-line in the local | | | | and remote descriptor | | | | if the IMS-AGW | | | | supports the extended | | | | RTP header with | | | | Coordination of Video | | | | Orientation | | | | information, see also | | | | 3GPP TS 26.114 [26]. | | | | | | | | 6) Generic Image | | | | Attribute | | | | | | | | The attribute | | | | \"a=imageattr\" (see | | | | IETF RFC 6236 [42]) | | | | may be provided for an | | | | m-line in the local | | | | and remote descriptor | | | | if the IMS-AGW | | | | supports the generic | | | | image attributes, see | | | | also | | | | 3GPP TS 26.114 [26]. | | | | The local descriptor | | | | indicates the image | | | | sizes which the | | | | IMS-AGW supports in | | | | the receiving | | | | direction for the | | | | selected payload type | | | | and corresponds to the | | | | \"recv\" keyword (see | | | | IETF RFC 6236 [42]) | | | | in the \"a=imageattr\" | | | | that the IMS-ALG will | | | | send within the SDP | | | | body on the Mw/Mx | | | | interface. The remote | | | | descriptor indicates | | | | the image sizes which | | | | the IMS-AGW supports | | | | in the sending | | | | direction for the | | | | selected payload type | | | | and corresponds to the | | | | \"send\" keyword (see | | | | IETF RFC 6236 [42]) | | | | in the \"a=imageattr\" | | | | that the IMS-ALG will | | | | send within the SDP | | | | body on the Mw/Mx | | | | interface. | | | | | | | | 7) ICE support | | | | | | | | The attributes | | | | \"a=candidate\", | | | | \"a=ice-pwd\", and | | | | \"a=ice-ufrag\" (see | | | | IETF RFC 5245 [44]) | | | | may be provided for an | | | | SDP m-line in the | | | | local and remote | | | | descriptor if the | | | | IMS-AGW supports ICE, | | | | see also | | | | 3GPP TS 24.229 [45]. | | | | In the local | | | | descriptor, the | | | | IMS-ALG shall provide | | | | \"a=ice-pwd\", and | | | | \"a=ice-ufrag\" with | | | | wildcard sign \"\$\" | | | | to request the | | | | allocation of a | | | | password and user name | | | | fragment, and the | | | | \"a=candidate\" of | | | | type \"host\" with the | | | | transport, port and | | | | priority parameters | | | | with wildcard sign | | | | \"\$\" to request the | | | | allocation of a host | | | | candidate. The IMS-AGW | | | | shall then reply with | | | | completed | | | | \"a=ice-pwd\", and | | | | \"a=ice-ufrag\" and | | | | \"a=candidate\" | | | | attributes in the | | | | local descriptor, and | | | | shall include | | | | \"a=ice-lite\" if it | | | | only supports ICE | | | | lite. In the remote | | | | descriptor, the | | | | IMS-ALG may provide | | | | the \"a=candidate\", | | | | \"a=ice-pwd\", and | | | | \"a=ice-ufrag\". | | | | | | | | 8) state-agnostic and | | | | state-aware TCP | | | | handling: | | | | | | | | The attribute | | | | \"a=setup\" (see | | | | IETF RFC 4145 [20]) | | | | shall be provided for | | | | TCP-based media, in | | | | accordance with ITU-T | | | | Recommend | | | | ation H.248.84 [46], | | | | when triggering an | | | | end-to-end TCP | | | | simultaneous open | | | | (leading to a TCP | | | | merge mode in the | | | | IMS-AGW) or other TCP | | | | modes of operation. | | | | | | | | 9) Application-aware | | | | interworking for MSRP | | | | traffic: | | | | | | | | The attribute | | | | \"a=path\" (see IETF | | | | RFC 4975 [11]) shall | | | | be provided, when | | | | enabling a **bearer | | | | level application | | | | gateway (B-ALG) | | | | function** for MSRP | | | | traffic, **according | | | | to ITU-T | | | | Recommendation | | | | H.248.78 [56].** | | | | | | | | **10) Handling of RTCP | | | | APP messages when | | | | transcoding between | | | | EVS and non EVS | | | | codecs:** | | | | | | | | **The attribute | | | | \"a=** 3g | | | | pp_mtsi_app_adapt\" | | | | (see | | | | 3GPP TS 26.114 [26]) | | | | containing the allowed | | | | RTCP APP message types | | | | shall be provided when | | | | the IMS-AGW is allowed | | | | to send RTCP APP | | | | messages. | +------------------------+-----------------+------------------------+ | NOTE 1: Media | | | | Interworking is | | | | optional. | | | | | | | | NOTE 2: Table 1 in | | | | ITU-T Recomme | | | | ndation H.248.57 [5] | | | | provides the | | | | correspondent RTCP | | | | port allocation rules. | | | +------------------------+-----------------+------------------------+
Editor\'s Note: The support for video transcoding is required for vSRVCC but
should be changed from Rel-11, separate CRs would be required for this change.
## 5.17 Procedures
### 5.17.1 Formats and Codes
Table 5.17.1.1 shows the parameters which are required for the procedures
defined in the following clauses.
The coding rules applied in ITU-T Recommendation H.248.1 [10] for the
applicable coding technique shall be followed for the UMTS capability set.
The binary encoding rules which are applicable to the defined Abstract
Syntaxes are the Basic Encoding Rules for Abstract Syntax Notation One,
defined in ITU-T Recommendation X.690 [22]. Specifically in accordance with
ITU-T Recommendation X.690 [22] clause 7.3, alternative encodings based on the
definite and indefinite form of length are permitted by the basic encoding
rules as a sender\'s option. Receivers shall support both alternatives.
Unsupported values of parameters or properties may be reported by the IMS-AGW
and shall be supported by the IMS-ALG as such by using H.248.1 error code #449
\" Unsupported or Unknown Parameter or Property Value \". The unsupported or
unknown value is included in the error text in the error descriptor.
Table 5.17.1.1: Information Elements Used in Procedures
+----------------------+----------------------+----------------------+ | Signalling Object | H.248 Descriptor | Coding | +----------------------+----------------------+----------------------+ | Allowed RTCP APP | Remote Descriptor | **The | | message types | | \"a=** 3gpp | | | | _mtsi_app_adapt\" | | | | SDP **attribute** | | | | defined in | | | | 3G | | | | PP TS 26.114 [26]. | +----------------------+----------------------+----------------------+ | Alternate MGC Id | ServiceChange | The MGCIdToTry | | | | parameter in ITU-T | | | | Recommendation | | | | H.248.1 [10]. | +----------------------+----------------------+----------------------+ | Available Realms | Termination State | According to | | | | _Available Realms_ | | | | property in ITU-T | | | | Recommendation | | | | H.248.41 [8]. | +----------------------+----------------------+----------------------+ | Application-aware | LocalControl | This is the _ptbalg_ | | MSRP interworking | | property from ITU-T | | request | | Recommendation | | | | H.248.78 [56] | | | | concerning the | | | | configuration of a | | | | B-ALG service (for | | | | MSRP traffic). | +----------------------+----------------------+----------------------+ | BNC Release | Events, | As for the | | | ObservedEvents | E | | | | vents/ObservedEvents | | | | Descriptor in clause | | | | E.1.2.1/ ITU-T | | | | Recommendation | | | | H.248.1 [10] | | | | \"Cause\" | +----------------------+----------------------+----------------------+ | Cause | ObservedEvents | As for the | | | | ObservedEvent | | | | Parameter in clause | | | | E.1.2.1/ ITU-T | | | | Recommendation | | | | H.248.1 [10] | | | | \"General cause\" | +----------------------+----------------------+----------------------+ | Changed Realms | Observed Events | According to | | | | Observed Events | | | | Parameters for | | | | _Available Realms | | | | Changed_ event in | | | | ITU-T Recommendation | | | | H.248.41 [8]. | +----------------------+----------------------+----------------------+ | Codec List | Local Descriptor or | \ in a | | | Remote Descriptor | single SDP m-line.\ | | | | For a static RTP | | | | payload type, the | | | | codec type should be | | | | implied by the RTP | | | | payload type, if not | | | | then each codec type | | | | shall be provided in | | | | a separate SDP | | | | \"a=rtpmap\"-line | | | | and possibly | | | | additional SDP | | | | \"a=fmtp\"-line(s).\ | | | | For a dynamic RTP | | | | payload type, for | | | | each codec | | | | information on the | | | | codec type shall be | | | | provided in a | | | | separate SDP | | | | \"a=rtpmap\"-line | | | | and possibly | | | | additional SDP | | | | \"a=fmtp\"-line(s). | +----------------------+----------------------+----------------------+ | Connectivity Mode | LocalControl | ITU-T Recommendation | | | | H.248.1 [10] Mode | | | | property. | | | | | | | | Binary Encoding: | | | | Encoding as per | | | | ITU-T Recommendation | | | | H.248.1 Annex A | | | | [10] | | | | \"streamMode\" | | | | | | | | Textual Encoding: | | | | Encoding as per | | | | ITU-T Recommendation | | | | H.248.1 Annex B | | | | [10] | | | | \"streamMode\". | +----------------------+----------------------+----------------------+ | Context ID | NA | Binary Encoding: As | | | | per ITU-T | | | | Recommendation | | | | H.248.1 [10] Annex | | | | A. | | | | | | | | Textual Encoding: As | | | | per ITU-T | | | | Recommendation | | | | H.248.1 [10] Annex | | | | B. | +----------------------+----------------------+----------------------+ | Cryptographic SDES | Local Descriptor or | \"crypto\" attribute | | Attribute | Remote Descriptor | in SDP a-line as | | | | defined in IETF RFC | | | | 4568 [29], see | | | | 5.16 | +----------------------+----------------------+----------------------+ | Delay Variation | LocalControl | This is the tman/dvt | | Tolerance | | property from ITU-T | | | | Recommendation | | | | H.248.53 [7]. | +----------------------+----------------------+----------------------+ | Diffserv Code Point | LocalControl | Defined according to | | | | the _Differentiated | | | | Services Code Point_ | | | | property in ITU-T | | | | Recommendation | | | | H.248.52 [12]. | +----------------------+----------------------+----------------------+ | Diffserv Tagging | LocalControl | Defined according to | | Behaviour | | the _Tagging | | | | Behaviour_ property | | | | in ITU-T | | | | Recommendation | | | | H.248.52 [12]. | +----------------------+----------------------+----------------------+ | Discard Incoming TCP | LocalControl | Defined according to | | Connection | | the _Incoming bearer | | Establishment | | connection | | Requests Indicator | | establishment | | | | blocking_ property | | | | (_tcpbcc/bceb_) in | | | | ITU-T Recommendation | | | | H.248.89 [47]. | +----------------------+----------------------+----------------------+ | ECN Enabled | Local Descriptor or | Defined according to | | | Remote Descriptor | the \"ECN Enabled\" | | | | property in ITU-T | | | | Recommendation | | | | H.248.82 [40]. | +----------------------+----------------------+----------------------+ | ECN Failure | Events, | Defined according to | | | | the \"ECN Failure\" | | | Observed Events | Event in ITU-T | | | | Recommendation | | | | H.248.82 [40]. | +----------------------+----------------------+----------------------+ | ECN Failure Type | ObservedEvents | As for the | | | Descriptor | Obse | | | | rvedEventsDescriptor | | | | Parameter \"Failure | | | | Type\" in ITU-T | | | | Recommendation | | | | H.248.82 [40]. | +----------------------+----------------------+----------------------+ | ECN Initiation | Local Descriptor or | Defined according to | | Method | Remote Descriptor | \"Initiation | | | | Method\" property in | | | | ITU-T Recommendation | | | | H.248.82 [40]. | +----------------------+----------------------+----------------------+ | Emergency Call | NA | ITU-T Recommendation | | Indication | | H.248.1 [10] 6.1.1 | | | | Emergency Call | | | | Indicator Binary | | | | Encoding: Encoding | | | | as per ITU-T | | | | Recommendation | | | | H.248.1 [10] | | | | Annex A | | | | \"Emergency\" | | | | context attribute | | | | | | | | Textual Encoding: | | | | Encoding as per | | | | ITU-T Recommendation | | | | H.248.1 [10] Annex | | | | B \" | | | | EmergencyToken\" | | | | context attribute | +----------------------+----------------------+----------------------+ | Establish (D)TLS | Signals | Defined according to | | session | | the _Establish BNC_ | | | | signal | | | | (_tlsbsc/EstBNC_) in | | | | ITU-T Recommendation | | | | H.248.90 [48]. | +----------------------+----------------------+----------------------+ | Extended Header For | Local Descriptor or | \"extmap\" attribute | | CVO | Remote Descriptor | in SDP a-line as | | | | defined in IETF RFC | | | | 5285 [41], see | | | | 5.16 | +----------------------+----------------------+----------------------+ | Forward Incoming TCP | LocalControl | Defined according to | | Connection | | the _Interlinkage | | Establishment | | topology_ property | | Requests Indicator | | (_seplink/linktopo_) | | | | in ITU-T | | | | Recommendation | | | | H.248.93 [50]. | +----------------------+----------------------+----------------------+ | Generic Image | Local Descriptor or | \"imageattr\" | | Attribute | Remote Descriptor | attribute in SDP | | | | a-line as defined in | | | | I | | | | ETF RFC 6236 [46], | | | | see table 5.16.1. | +----------------------+----------------------+----------------------+ | ICE host candidate | Local Descriptor | The \"a=candidate\" | | request | | SDP attribute | | | | defined in | | | | IETF RFC 5245 [44] | | | | of type \"host\" | | | | with the transport, | | | | port and priority | | | | parameters with | | | | wildcard sign \"\$\" | | | | to request the | | | | allocation of a host | | | | candidate | +----------------------+----------------------+----------------------+ | ICE host candidate | Local Descriptor | The \"a=candidate\" | | | | SDP attribute | | | | defined in | | | | IETF RFC 5245 [44] | +----------------------+----------------------+----------------------+ | ICE lite indication | Local Descriptor | The \"a=ice-lite\" | | | | SDP attribute | | | | defined in | | | | I | | | | ETF RFC 5245 [44]. | +----------------------+----------------------+----------------------+ | ICE password request | Local Descriptor | The \"a=ice-pwd\" | | | | SDP attribute | | | | defined in | | | | IETF RFC 5245 [44] | | | | with wildcard sign | | | | \"\$\". | +----------------------+----------------------+----------------------+ | ICE password | Local Descriptor | The \"a=ice-pwd\" | | | | SDP attribute | | | | defined in | | | | I | | | | ETF RFC 5245 [44]. | +----------------------+----------------------+----------------------+ | ICE received | Remote Descriptor | The \"a=candidate\" | | candidate | | SDP attribute | | | | defined in | | | | IETF RFC 5245 [44] | +----------------------+----------------------+----------------------+ | ICE received | Remote Descriptor | The \"a=ice-pwd\" | | password | | SDP attribute | | | | defined in | | | | I | | | | ETF RFC 5245 [44]. | +----------------------+----------------------+----------------------+ | ICE received Ufrag | Remote Descriptor | The \"a=ice-ufrag\" | | | | SDP attribute | | | | defined in | | | | I | | | | ETF RFC 5245 [44]. | +----------------------+----------------------+----------------------+ | ICE Ufrag request | Local Descriptor | The \"a=ice-ufrag\" | | | | SDP attribute | | | | defined in | | | | IETF RFC 5245 [44] | | | | with wildcard sign | | | | \"\$\". | +----------------------+----------------------+----------------------+ | ICE Ufrag | Local Descriptor | The \"a=ice-ufrag\" | | | | SDP attribute | | | | defined in | | | | I | | | | ETF RFC 5245 [44]. | +----------------------+----------------------+----------------------+ | ICE Connectivity | Events, | Defined according to | | Check Result | | _Connectivity Check | | | Observed Events | Result_ event in | | | | ITU-T Recommendation | | | | H.248.50 [43]. | +----------------------+----------------------+----------------------+ | ICE Send | Signals | Defined as the | | Connectivity Check | | ostuncc/scc signal | | | | in ITU-T | | | | Recommendation | | | | H.248.50 [43]. | +----------------------+----------------------+----------------------+ | ICE New Peer | Events, | Defined according to | | Reflexive Candidate | | _New Peer Reflexive | | | Observed Events | Candidate_ event in | | | | ITU-T Recommendation | | | | H.248.50 [43], | | | | only applicable for | | | | full ICE. | +----------------------+----------------------+----------------------+ | ICE Send Additional | Signals | Defined as the | | Connectivity Check | | ostuncc/sacc signal | | | | in ITU-T | | | | Recommendation | | | | H.248.50 [43], | | | | only applicable for | | | | full ICE. | +----------------------+----------------------+----------------------+ | Consent freshness | Signals | Defined according to | | test request | | stnconfres/contest | | | | signal in ITU-T | | | | Recommendation | | | | H.248.50 [43]. | +----------------------+----------------------+----------------------+ | STUN consent | Events, | Defined according to | | freshness test | | stnconfres/confail | | failure | Observed Events | event in ITU-T | | | | Recommendation | | | | H.248.50 [43]. | +----------------------+----------------------+----------------------+ | Inactivity Timer | Events, | Defined according to | | | | _Inactivity Timeout_ | | | Observed Events | event in ITU-T | | | | Recommendation | | | | H.248.14 [11]. | +----------------------+----------------------+----------------------+ | IP Address | Local Descriptor or | \ in SDP | | | | \"c-line\" | +----------------------+----------------------+----------------------+ | IP Realm | LocalControl | According to _IP | | | | Realm Identifier_ | | | | property in ITU-T | | | | Recommendation | | | | H.248.41 [8]. | +----------------------+----------------------+----------------------+ | IP Version | Local Descriptor or | \ in | | | Remote Descriptor | SDP \"c-line\", see | | | | 5.15 | +----------------------+----------------------+----------------------+ | Latching | Signals | This is the | | | | ipnapt/latch signal | | | | in ITU-T | | | | Recommendation | | | | H.248.37 [4]. | +----------------------+----------------------+----------------------+ | Local certificate | Local Descriptor | \"fingerprint\" | | fingerprint | | attribute in SDP | | | | \"a=\"-line as | | | | defined in | | | | IETF RFC 4572 [55] | | | | see table 5.16.1. | +----------------------+----------------------+----------------------+ | Local certificate | Local Descriptor | \"fingerprint\" | | fingerprint Request | | attribute in SDP | | | | \"a=\"-line as | | | | defined in | | | | IETF RFC 4572 [55] | | | | with wildcard choose | | | | \"\$\". | +----------------------+----------------------+----------------------+ | Maximum Burst Size | LocalControl | This is the tman/mbs | | | | property from ITU-T | | | | Recommendation | | | | H.248.53 [7] | +----------------------+----------------------+----------------------+ | Media Inactivity | Events, | Defined according to | | Detection | | _ipstop_ event in | | | Observed Events | ITU-T Recommendation | | | | H.248.40 [24]. | +----------------------+----------------------+----------------------+ | Media Inactivity | Events | As for the Event | | Detection Time | | Parameter in ITU-T | | | | Recommendation | | | | H.248.40 [24] | | | | \"Detection Time\" | +----------------------+----------------------+----------------------+ | Media Inactivity | Events | As for the Event | | Detection Direction | | Parameter in ITU-T | | | | Recommendation | | | | H.248.40 [24] | | | | \"Direction\" | +----------------------+----------------------+----------------------+ | Media Type | Local Descriptor or | \ in SDP | | | Remote Descriptor | m-line | | | | | | | | \"audio\" or | | | | \"video\" or \"-\" | +----------------------+----------------------+----------------------+ | MSRP Path | Remote Descriptor | The \"a=path\" SDP | | | | attribute defined in | | | | I | | | | ETF RFC 4975 [18]. | +----------------------+----------------------+----------------------+ | Notify (D)TLS | ObservedEvents | As for the | | session | | ObservedEvent | | establishment | | Parameter in clause | | Failure Event | | E.1.2.1/ ITU-T | | | | Recommendation | | | | H.248.1 [10] | | | | \"General cause\" | +----------------------+----------------------+----------------------+ | Notify TCP | ObservedEvents | As for the | | Connection | | ObservedEvent | | Establishment | | Parameter in clause | | Failure Event | | E.1.2.1/ ITU-T | | | | Recommendation | | | | H.248.1 [10] | | | | \"General cause\" | +----------------------+----------------------+----------------------+ | Overload | Events, | This is the | | Notification | | chp/mgcon event from | | | ObservedEvents | ITU-T Recommendation | | | | H.248.10 [14] or | | | | the ocp/mg_overload | | | | event from ITU-T | | | | Recommendation | | | | H.248.11 [13]. | +----------------------+----------------------+----------------------+ | Peak Data Rate | LocalControl | This is the tman/pdr | | | | property from ITU-T | | | | Recommendation | | | | H.248.53 [7]. | +----------------------+----------------------+----------------------+ | Policing Required | LocalControl | This is the tman/pol | | | | property from ITU-T | | | | Recommendation | | | | H.248.53 [7]. | +----------------------+----------------------+----------------------+ | Port | Local Descriptor or | \ in SDP | | | Remote Descriptor | m-line. | +----------------------+----------------------+----------------------+ | Priority Information | NA | Priority Indicator | | | | (clause 6.1.1 of | | | | ITU-T Recommendation | | | | H.248.1 [10])\ | | | | Binary Encoding: | | | | Encoding as per | | | | ITU-T Recommendation | | | | H.248.1 [10] | | | | Annex A \"priority\" | | | | context attribute\ | | | | Textual Encoding: | | | | Encoding as per | | | | ITU-T Recommendation | | | | H.248.1 [10] | | | | Annex B \"priority\" | | | | context attribute | +----------------------+----------------------+----------------------+ | Realm Availability | Events, | According to | | Change | | _Available Realms | | | Observed Events | Changed_ event in | | | | ITU-T Recommendation | | | | H.248.41 [8]. | +----------------------+----------------------+----------------------+ | Reduction | ObservedEvent | As for the | | | Descriptor | Obse | | | | rverdEventDescriptor | | | | in clause 4.2.1/ | | | | ITU-T Recommendation | | | | H.248.10 [14] | | | | \"MGCongestion\". | +----------------------+----------------------+----------------------+ | Release (D)TLS | Signals | Defined according to | | session | | the _Release BNC_ | | | | signal | | | | (_tlsbsc/RelBNC_) in | | | | ITU-T Recommendation | | | | H.248.90 [48]. | +----------------------+----------------------+----------------------+ | Remote certificate | Remote Descriptor | \"fingerprint\" | | fingerprint | | attribute in SDP | | | | \"a=\"-line as | | | | defined in | | | | I | | | | ETF RFC 4572 [55], | | | | see table 5.16.1. | +----------------------+----------------------+----------------------+ | Remote Source | LocalControl | Defined according to | | Address Filtering | | _Remote Source | | | | Address Filtering_ | | | | property in ITU-T | | | | Recommendation | | | | H.248.43 [6]. | +----------------------+----------------------+----------------------+ | Remote Source | LocalControl | Defined according to | | Address Mask | | _Remote Source | | | | Address Mask_ | | | | property in ITU-T | | | | Recommendation | | | | H.248.43 [6]. | +----------------------+----------------------+----------------------+ | Remote Source Port | LocalControl | Defined according to | | Filtering | | _Remote Source Port | | | | Filtering_ property | | | | in ITU-T | | | | Recommendation | | | | H.248.43 [6]. | +----------------------+----------------------+----------------------+ | Remote Source Port | LocalControl | Defined according to | | | | _Remote Source Port_ | | | | property in ITU-T | | | | Recommendation | | | | H.248.43 [6]. | +----------------------+----------------------+----------------------+ | Remote Source Port | LocalControl | Defined according to | | Range | | _Remote Source Port | | | | Range_ property in | | | | ITU-T Recommendation | | | | H.248.43 [6]. | +----------------------+----------------------+----------------------+ | Reserve_Value | LocalControl | ITU-T Recommendation | | | | H.248.1 [10] | | | | Reserve property. | | | | | | | | Binary Encoding: | | | | Encoding as per | | | | ITU-T Recommendation | | | | H.248.1 [10] | | | | Annex A | | | | \"reserveValue \" | | | | | | | | Textual Encoding: | | | | Encoding as per | | | | ITU-T Recommendation | | | | H.248.1 [10] Annex | | | | B | | | | \" | | | | reservedValueMode\". | +----------------------+----------------------+----------------------+ | ROOT Properties | Termination State | The properties in | | | | clause E.2.1/ ITU-T | | | | Recommendation | | | | H.248.1 [10] | +----------------------+----------------------+----------------------+ | RTCP allocation | Local Control | Defined according to | | (NOTE) | | _RTCP Allocation | | | | Specific Behaviour_ | | | | | | | | property in ITU-T | | | | Recommendation | | | | H.248.57 [5]. | +----------------------+----------------------+----------------------+ | explicit RTCP | Remote Descriptor | The SDP attribute | | transport address | | \"a=rtcp:\" | | | | according to IETF | | | | RFC 3605 [21]. | +----------------------+----------------------+----------------------+ | RtcpbwRR | Local Descriptor or | \ in SDP | | | Remote Descriptor | \"b:RR\"-line. see | | | | 5.15 | +----------------------+----------------------+----------------------+ | RtcpbwRS | Local Descriptor or | \ in SDP | | | Remote Descriptor | \"b:RS\"-line. see | | | | 5.15 | +----------------------+----------------------+----------------------+ | Rtpbw | Local Descriptor or | \ in SDP | | | Remote Descriptor | \"b:AS\"-line. see | | | | 5.15 | +----------------------+----------------------+----------------------+ | RTPpayload | Local Descriptor or | \ in SDP | | | Remote Descriptor | m-line. This may be | | | | set to CHOOSE (\$) | | | | in a LD sent from | | | | the IMS-ALG toward | | | | the IMS-AGW. | +----------------------+----------------------+----------------------+ | Send TCP Connection | Signals | Defined according to | | Establishment | | the _Establish BNC_ | | Requests Indicator | | signal | | | | (_tcpbcc/EstBNC_) in | | | | ITU-T Recommendation | | | | H.248.89 [47]. | +----------------------+----------------------+----------------------+ | Stream Number | Stream | Encoding as per | | | | ITU-T Recommendation | | | | H.248.1 [10] Annex | | | | B \"Stream\"/\"ST\". | | | | | | | | For a single stream, | | | | this may be omitted | | | | by the IMS-ALG. | +----------------------+----------------------+----------------------+ | STUN server request | LocalControl | Encoding as per | | | | ITU-T Recommendation | | | | H.248.50 [43] | | | | **\"MG Act-as STUN | | | | Server\" | | | | (** mgastuns) package | | | | \"Act-as STUN | | | | Server\" (astuns, | | | | 0x0001) property. | +----------------------+----------------------+----------------------+ | Sustainable Data | LocalControl | This is the tman/sdr | | Rate | | property from ITU-T | | | | Recommendation | | | | H.248.53 [7]. | +----------------------+----------------------+----------------------+ | TCP State-aware | Local Descriptor or | The \"a=setup\" SDP | | Handling Indicator | Remote Descriptor | attribute as per | | and Setup Direction | | clause 13.5.1 of | | | | ITU-T Recommendation | | | | H.248.84 [46]. | +----------------------+----------------------+----------------------+ | Termination | Events | As per _Termination | | heartbeat | | Heartbeat_ defined | | | ObservedEvents | in ITU-T | | | | Recommendation | | | | H.248.36 [9] | | | | Clause 5.2.1. | +----------------------+----------------------+----------------------+ | Termination ID | NA | Binary Encoding: As | | | | per ITU-T | | | | Recommendation | | | | H.248.1 [10] Annex | | | | A. | | | | | | | | Textual Encoding: As | | | | per ITU-T | | | | Recommendation | | | | H.248.1 [10] Annex | | | | B. | +----------------------+----------------------+----------------------+ | Transaction ID | NA | Binary Encoding: As | | | | per ITU-T | | | | Recommendation | | | | H.248.1 [10] Annex | | | | A. | | | | | | | | Textual Encoding: As | | | | per ITU-T | | | | Recommendation | | | | H.248.1 [10] Annex | | | | B. | +----------------------+----------------------+----------------------+ | Transport | Local Descriptor or | \ in SDP | | | Remote Descriptor | m-line, see 5.15 | +----------------------+----------------------+----------------------+ | NOTE: Signalling | | | | element \"RTCP | | | | allocation\" | | | | corresponds to the | | | | stage 2 information | | | | element \"RTCP | | | | handling\". | | | +----------------------+----------------------+----------------------+
### 5.17.2 Call Related Procedures
#### 5.17.2.1 General
This clause describes the various call related procedures performed by the
IMS-AGW, which are listed in table 5.17.2.1.1
Table 5.17.2.1.1: IMS-AGW Call Related Procedures
+---------------------------+-----------+---------------------------+ | Transaction defined in | Supported | Comment | | 3GPP TS 23.334 [23] | | | +---------------------------+-----------+---------------------------+ | Reserve AGW Connection | Mandatory | See 5.17.2.2 | | Point | | | +---------------------------+-----------+---------------------------+ | Configure AGW Connection | Mandatory | See 5.17.2.3 | | Point | | | +---------------------------+-----------+---------------------------+ | Reserve and Configure AGW | Mandatory | See 5.17.2.4 | | Connection Point | | | +---------------------------+-----------+---------------------------+ | Release AGW Termination | Mandatory | See 5.17.2.5 | +---------------------------+-----------+---------------------------+ | Termination Heartbeat | Mandatory | See 5.17.2.6 | | Indication | | | +---------------------------+-----------+---------------------------+ | IP Bearer Released | Mandatory | See 5.17.2.7 | +---------------------------+-----------+---------------------------+ | Media Inactivity | Optional | See 5.17.2.8 | | Notification | | | +---------------------------+-----------+---------------------------+ | Change Through Connection | Mandatory | See 5.17.2.9 | +---------------------------+-----------+---------------------------+ | Change Flow Direction | Optional | See 5.17.2.10. | +---------------------------+-----------+---------------------------+ | ECN Failure Indication | Optional | See 5.17.2.11 | | | | | | | | Only applicable if ECN | | | | endpoint capability is | | | | supported | +---------------------------+-----------+---------------------------+ | ICE Connectivity Check | Optional | See 5.17.2.12 | | Result Notification | | | | | | Only applicable if full | | | | ICE is supported | +---------------------------+-----------+---------------------------+ | ICE New Peer Reflexive | Optional | See 5.17.2.13 | | Candidate Notification | | | | | | Only applicable if full | | | | ICE is supported | +---------------------------+-----------+---------------------------+ | Notify TCP connection | Optional | See 5.17.2.14 | | establishment Failure | | | | Indication | | Only applicable if | | | | state-aware TCP handling | | | | (proxy mode) is supported | +---------------------------+-----------+---------------------------+ | Notify (D)TLS session | Optional | See 5.17.2.15 | | establishment Failure | | | | Indication | | Only applicable | | | | | | | | if IMS media security for | | | | TCP and/or UDP is | | | | supported | +---------------------------+-----------+---------------------------+
#### 5.17.2.2 Reserve AGW Connection Point
The IMS-ALG sends an ADD request command as in Table 5.17.2.2.1.
Table 5.17.2.2.1: Reserve AGW Connection Point Request
+----------------------+----------------------+----------------------+ | Address Information | Control information | Bearer information | +----------------------+----------------------+----------------------+ | Local Descriptor { | Transaction ID = x | Local Descriptor { | | | | | | Port = \$ | If Context | If media is | | | Requested: | \"audio\" or | | IP Address = \$ | | \"video\": | | | Context ID= \$ | | | IP Version = IPv4 or | | Codec List = Codec | | IPv6 | If Emergency Call: | List | | | | | | } | Emergency Call | RTP Payloads = RTP | | | Indication | Payload | | | | | | | If MPS call/session: | Rtpbw | | | | | | | Priority Indicator = | If RTCP bandwidth | | | x | | | | | RtcpbwRS | | | If Context Provided: | | | | | RtcpbwRR | | | Context ID = c1 | | | | | If IMS media plane | | | Termination ID = \$ | security required: | | | | | | | If Stream Number | Cryptographic SDES | | | specified:- | Attribute | | | | | | | Stream Number | If media is | | | | \"video\": | | | If Resources for | | | | multiple Codecs | If CVO required: | | | required: | | | | | Extended Header For | | | Reserve_Value | CVO | | | | | | | If IP Interface | (NOTE3) | | | Type: | | | | | If imageattr | | | IP interface = \"IP | negotiation: | | | interface type\" | | | | | Generic Image | | | If indication on | Attribute | | | Bearer Released | | | | requested: | (NOTE 4) | | | | | | | N | If ICE is applied: | | | otificationRequested | | | | (Event ID = x, \"BNC | ICE host candidate | | | Release\") | request | | | | | | | If diffserv | ICE password request | | | required:- | | | | | ICE Ufrag request | | | Diffserv Code Point | | | | | If STUN consent | | | If tagging behaviour | freshness test | | | | required: | | | Diffserv Tagging | | | | Behaviour | STUN consent | | | | freshness request | | | If Remote Source | | | | Address Filtering | Notific | | | required:- | ationRequested(Event | | | | ID= x, \"STUN | | | Remote Source | consent freshness | | | Address Filtering | test failure\") | | | | | | | If Remote Source | If media is | | | Address range | \"message\" or | | | required: | \"application\" or | | | | \"-\": | | | Remote Source | | | | Address Mask | If IMS media plane | | | | security required: | | | If Remote Source | | | | Port Filtering | Local certificate | | | required:- | fingerprint Request | | | | | | | Remote Source Port | If TCP state-aware | | | Filtering | handling required: | | | | | | | If individual port: | TCP State-aware | | | | Handling Indicator | | | Remote Source Port | and Setup Direction | | | | | | | If range of ports | } | | | | | | | Remote Source Port | | | | Range | | | | | | | | N | | | | otificationRequested | | | | (Event ID = x, | | | | | | | | \"termination | | | | heartbeat\") | | | | | | | | If IP Realm | | | | specified:- | | | | | | | | IP Realm | | | | | | | | If Latching | | | | Required:- | | | | | | | | Latching | | | | | | | | If Sustainable Data | | | | Rate Policing | | | | Required:- | | | | | | | | Policing Required | | | | | | | | Sustainable Data | | | | Rate | | | | | | | | Maximum Burst Size | | | | | | | | If Peak Data Rate | | | | Policing Required: | | | | | | | | Policing Required | | | | | | | | Peak Data Rate | | | | | | | | If Delay Variation | | | | Required | | | | | | | | Delay Variation | | | | Tolerance | | | | | | | | If Media Inactivity | | | | Detection Required: | | | | | | | | N | | | | otificationRequested | | | | (Event ID = x, | | | | \"Media Inactivity | | | | Detection( Media | | | | Inactivity Detection | | | | Time, Media | | | | Inactivity Detection | | | | Direction) \") (NOTE | | | | 1) | | | | | | | | If RTCP handling | | | | required: | | | | | | | | RTCP allocation | | | | | | | | If ECN transparent | | | | support required: | | | | | | | | ECN Enable = | | | | \"True\" | | | | | | | | Initiation Method = | | | | \"inactive\" | | | | | | | | If ECN Endpoint | | | | support required | | | | | | | | ECN Enable = | | | | \"True\" | | | | | | | | Initiation Method = | | | | \"ECN Initiation | | | | | | | | Method\" (NOTE 2) | | | | | | | | If notification of | | | | ECN Failure | | | | | | | | Report: | | | | | | | | N | | | | otificationRequested | | | | (Event ID | | | | | | | | = x,\"ECN Failure\") | | | | | | | | If ICE is applied: | | | | | | | | STUN server request | | | | | | | | If Discard Incoming | | | | TCP connection | | | | establishment | | | | request required: | | | | | | | | Discard Incoming TCP | | | | Connection | | | | Establishment | | | | Requests Indicator | | | | | | | | If Forward Incoming | | | | TCP connection | | | | establishment | | | | request required: | | | | | | | | Forward Incoming TCP | | | | Connection | | | | Establishment | | | | Requests Indicator | | | | | | | | If indication on TCP | | | | connection | | | | establishment | | | | failure requested: | | | | | | | | N | | | | otificationRequested | | | | (Event ID = x, \"TCP | | | | connection | | | | establishment | | | | failure\") | | | | | | | | If (D)TLS session | | | | establishment | | | | required: | | | | | | | | Establish (D)TLS | | | | session | | | | | | | | If indication on | | | | (D)TLS session | | | | establishment | | | | failure requested: | | | | | | | | N | | | | otificationRequested | | | | (Event ID = x, | | | | \"(D)TLS session | | | | establishment | | | | failure\") | | | | | | | | If media is | | | | \"message\": | | | | | | | | If B-ALG for MSRP | | | | required: | | | | | | | | Application-aware | | | | MSRP\ | | | | interworking request | | +----------------------+----------------------+----------------------+ | NOTE 1: The event | | | | parameters \"Media | | | | Inactivity Detection | | | | Time\" and \"Media | | | | Inactivity Detection | | | | Direction\" are | | | | optional. | | | | | | | | NOTE 2: This shall | | | | be set to a value | | | | other than | | | | \"inactive\". See | | | | Table 5.14.3.15.1. | | | | | | | | NOTE 3: If the | | | | IMS-AGW supports the | | | | extended RTP header | | | | with Coordination of | | | | Video Orientation | | | | information it shall | | | | pass any received | | | | extended RTP header | | | | with CVO bits on to | | | | outgoing RTP | | | | streams. If the | | | | IMS-AGW is | | | | transcoding between | | | | video payloads and | | | | it supports the | | | | extended RTP header | | | | with Coordination of | | | | Video Orientation | | | | information it shall | | | | convey received RTP | | | | header bytes on the | | | | outgoing RTP stream | | | | after transcoding | | | | associated packets | | | | as specified in 3GPP | | | | TS 26.114 [26], | | | | clause 7.4.5. | | | | | | | | NOTE 4: The support | | | | of the generic image | | | | attributes is | | | | optional for the | | | | IMS-AGW. The list of | | | | image sizes per | | | | payload type | | | | supported by the | | | | IMS-AGW is | | | | preconfigured in the | | | | IMS-ALG. If none of | | | | the image sizes | | | | received within an | | | | SDP body on Mx/Mw | | | | interface is | | | | supported by the | | | | IMS-AGW then the | | | | IMS-ALG will not | | | | send the generic | | | | image attribute | | | | parameter to the | | | | IMS-AGW. | | | +----------------------+----------------------+----------------------+
On reserving the termination, the IMS-AGW responds as in Table 5.17.2.2.2.
Table 5.17.2.2.2: Reserve AGW Connection Point Acknowledge
+---------------------+---------------------+------------------------+ | Address Information | Control information | Bearer information | +---------------------+---------------------+------------------------+ | Local Descriptor { | Transaction ID = x | Local Descriptor { | | | | | | Port | Context ID = C1 | If media is \"audio\" | | | | or \"video\": | | IP Address | Termination ID = T1 | | | | | Codec List | | IP Version | Stream Number | | | | | RTP Payloads | | } | | | | | | Rtpbw | | | | | | | | If RTCP bandwidth | | | | | | | | RtcpbwRS | | | | | | | | RtcpbwRR | | | | | | | | If IMS media plane | | | | security was provided | | | | in the request: | | | | | | | | Cryptographic SDES | | | | Attribute | | | | | | | | If media is \"video\": | | | | | | | | If CVO extension | | | | header provided in the | | | | request: | | | | | | | | Extended Header For | | | | CVO | | | | | | | | If image attribute | | | | negotiation: | | | | | | | | Generic Image | | | | Attribute | | | | | | | | If ICE is applied: | | | | | | | | ICE host candidate | | | | | | | | ICE password | | | | | | | | ICE Ufrag | | | | | | | | If ICE lite | | | | implementation | | | | | | | | ICE lite indication | | | | | | | | If media is | | | | \"message\" or | | | | \"application\" or | | | | \"-\": | | | | | | | | If Local certificate | | | | fingerprint was | | | | requested: | | | | | | | | Local certificate | | | | fingerprint | | | | | | | | } | +---------------------+---------------------+------------------------+
#### 5.17.2.3 Configure AGW Connection Point
This procedure is used to configure the AGW connection point during session
establishment or to reconfigure it during session establishment or after the
session is established
The IMS-ALG sends a MODIFY request command as in Table 5.17.2.3.1.
Table 5.17.2.3.1: Configure AGW Connection Point Request
+----------------------+----------------------+----------------------+ | Address Information | Control information | Bearer information | +----------------------+----------------------+----------------------+ | If local resources | Transaction ID = x | If local resources | | are modified: | | are modified: | | | Context ID = C1 | | | Local Descriptor { | | Local Descriptor { | | | Termination ID = T1 | | | Port | | If media is | | | If MPS priority is | \"audio\" or | | IP Address | modified: | \"video\": | | | | | | IP Version | Priority Indicator = | Codec List | | | x (NOTE 4) | | | } | | RTP Payloads | | | If Stream Number | | | If remote resources | specified: | Rtpbw | | are modified: | | | | | Stream Number | If RTCP bandwidth | | Remote Descriptor { | | | | | If Resources for | RtcpbwRS | | Port | multiple Codecs | | | | required: | RtcpbwRR | | IP Address | | | | | Reserve_Value | If IMS media plane | | IP Version | | security required: | | | If diffserv | | | } | required:- | Cryptographic SDES | | | | Attribute | | | Diffserv Code Point | | | | | If media is | | | If tagging behaviour | \"video\": | | | | | | | Diffserv Tagging | If CVO required: | | | Behaviour | | | | | Extended Header For | | | If Remote Source | CVO\ | | | Address Filtering | (NOTE 5) | | | required:- | | | | | If imageattr | | | Remote Source | negotiation: | | | Address Filtering | | | | | Generic Image | | | If Remote Source | Attribute | | | Address range | | | | required: | (NOTE 6) | | | | | | | Remote Source | If TCP state-aware | | | Address Mask | handling required: | | | | | | | If Remote Source | TCP State-aware | | | Port Filtering | Handling Indicator | | | required:- | and Setup Direction | | | | | | | Remote Source Port | } | | | Filtering | | | | | If remote resources | | | If individual port: | are modified: | | | | | | | Remote Source Port | Remote Descriptor { | | | | | | | If range of ports | If media is | | | | \"audio\" or | | | Remote Source Port | \"video\": | | | Range | | | | | Codec List | | | N | | | | otificationRequested | RTP Payloads | | | (Event ID = x, | | | | | Rtpbw | | | \"termination | | | | heartbeat\") | If RTCP bandwidth | | | | | | | If IP Realm | RtcpbwRS | | | specified:- | | | | | RtcpbwRR | | | IP Realm (NOTE 1) | | | | | If RTCP handling | | | If Latching | required: | | | Required:- | | | | | explicit RTCP | | | Latching | transport address | | | | (NOTE 8) | | | If Sustainable Data | | | | Rate Policing | If IMS media plane | | | Required:- | security required: | | | | | | | Policing Required | Cryptographic SDES | | | | Attribute | | | Sustainable Data | | | | Rate | If RTCP APP messages | | | | allowed | | | Maximum Burst Size | | | | | Allowed RTCP APP | | | If Peak Data Rate | message | | | Policing Required: | | | | | types | | | Policing Required | | | | | If media is | | | Peak Data Rate | \"message\" or | | | | \"application\" or | | | If Delay Variation | \"-\": | | | Required | | | | | If IMS media plane | | | Delay Variation | security required: | | | Tolerance | | | | | Remote certificate | | | If Media Inactivity | fingerprint | | | Detection Required: | | | | | If media is | | | N | \"video\": | | | otificationRequested | | | | (Event ID = x, | If CVO required: | | | \"Media Inactivity | | | | Detection( Media | Extended Header For | | | Inactivity Detection | CVO | | | Time, Media | | | | Inactivity Detection | (NOTE 5) | | | Direction)\") (NOTE | | | | 2) | If imageattr | | | | negotiation: | | | If RTCP handling | | | | required: | Generic Image | | | | Attribute | | | RTCP allocation | | | | | (NOTE 6) | | | If ECN transparent | | | | support required: | If media is | | | | \"message\": | | | ECN Enable = | | | | \"True\" | If B-ALG for MSRP | | | | required: | | | Initiation Method = | | | | \"inactive\" | MSRP Path | | | | | | | If ECN Endpoint | If ICE is applied: | | | support required | | | | | ICE received | | | ECN Enable = | candidate | | | \"True\" | | | | | ICE received | | | Initiation Method = | password | | | \"ECN Initiation | | | | | ICE received Ufrag | | | Method\" (NOTE 3) | | | | | (NOTE 7) | | | If notification of | | | | ECN Failure | If STUN consent | | | | freshness test | | | Report: | required: | | | | | | | N | STUN consent | | | otificationRequested | freshness request | | | (Event ID | | | | | Notific | | | = x,\"ECN Failure\") | ationRequested(Event | | | | ID= x, \"STUN | | | If full ICE is | consent freshness | | | applied: | test failure\") | | | | | | | Send Connectivity | If TCP state-aware | | | Check\ | handling required: | | | (\"Control\") | | | | | TCP State-aware | | | If notification of | Handling Indicator | | | ICE Connectivity | and Setup Direction | | | Check Result Report: | | | | | } | | | N | | | | otificationRequested | | | | (Event ID= xx, | | | | | | | | \"Connectivity Check | | | | Result\") | | | | | | | | If notification of | | | | New Peer Reflexive | | | | Candidate: | | | | | | | | N | | | | otificationRequested | | | | (Event ID | | | | | | | | = xy,\"New Peer | | | | Reflexive | | | | Candidate\") | | | | | | | | Send Additional | | | | Connectivity Check | | | | (\"Control\") | | | | | | | | If Discard Incoming | | | | TCP connection | | | | establishment | | | | request required: | | | | | | | | Discard Incoming TCP | | | | Connection | | | | Establishment | | | | Requests Indicator | | | | | | | | If Forward Incoming | | | | TCP connection | | | | establishment | | | | request required: | | | | | | | | Forward Incoming TCP | | | | Connection | | | | Establishment | | | | Requests Indicator | | | | | | | | If TCP connection | | | | establishment | | | | required: | | | | | | | | Send TCP Connection | | | | Establishment | | | | Request Indicator | | | | | | | | If indication on TCP | | | | connection | | | | establishment | | | | failure requested: | | | | | | | | N | | | | otificationRequested | | | | (Event ID = x, \"TCP | | | | connection | | | | establishment | | | | failure\") | | | | | | | | If (D)TLS session | | | | establishment | | | | required: | | | | | | | | Establish (D)TLS | | | | session | | | | | | | | If indication on | | | | (D)TLS session | | | | establishment | | | | failure requested: | | | | | | | | N | | | | otificationRequested | | | | (Event ID = x, | | | | \"(D)TLS session | | | | establishment | | | | failure\") | | | | | | | | If (D)TLS session | | | | release required: | | | | | | | | Release (D)TLS | | | | session | | | | | | | | If media is | | | | \"message\": | | | | | | | | If B-ALG for MSRP | | | | required: | | | | | | | | Application-aware | | | | MSRP\ | | | | interworking request | | +----------------------+----------------------+----------------------+ | NOTE 1: This can | | | | only be set to the | | | | same realm as at the | | | | reservation stage. | | | | If a different realm | | | | is specified, the | | | | IMS-AGW shall return | | | | error 501 \"Not | | | | Implemented\". | | | | | | | | NOTE 2: The event | | | | parameters \"Media | | | | Inactivity Detection | | | | Time\" and \"Media | | | | Inactivity Detection | | | | Direction\" are | | | | optional. | | | | | | | | NOTE 3: This shall | | | | be set to a value | | | | other than | | | | \"inactive\". See | | | | Table 5.14.3.15.1. | | | | | | | | NOTE 4: The support | | | | of the modification | | | | of the Priority | | | | Indicator value is | | | | optional for the | | | | IMS-AGW and depends | | | | on implementation | | | | solution for | | | | Priority | | | | call/session | | | | authorisation (see | | | | 3GPP TS 23.334 | | | | [23]). | | | | | | | | NOTE 5: If the | | | | IMS-AGW supports the | | | | extended RTP header | | | | with Coordination of | | | | Video Orientation | | | | information it shall | | | | pass any received | | | | extended RTP header | | | | with CVO bits on to | | | | outgoing RTP | | | | streams. If the | | | | IMS-AGW is | | | | transcoding between | | | | video payloads and | | | | it supports the | | | | extended RTP header | | | | with Coordination of | | | | Video Orientation | | | | information it shall | | | | convey received RTP | | | | header bytes on the | | | | outgoing RTP stream | | | | after transcoding | | | | associated packets | | | | as specified in 3GPP | | | | TS 26.114 [26], | | | | clause 7.4.5. | | | | | | | | NOTE 6: The support | | | | of the generic image | | | | attributes is | | | | optional for the | | | | IMS-AGW. The list of | | | | image sizes per | | | | payload type | | | | supported by the | | | | IMS-AGW is | | | | preconfigured in the | | | | IMS-ALG. If none of | | | | the image sizes | | | | received within an | | | | SDP body on Mx/Mw | | | | interface is | | | | supported by the | | | | IMS-AGW then the | | | | IMS-ALG will not | | | | send the generic | | | | image attribute | | | | parameter to the | | | | IMS-AGW. | | | | | | | | NOTE 7: The support | | | | of ICE received | | | | candidate, ICE | | | | received password, | | | | ICE received Ufrag | | | | are optional for ICE | | | | lite, as specified | | | | in | | | | 3G | | | | PP TS 23.334 [23]. | | | | | | | | NOTE 8: The basic | | | | RTCP port allocation | | | | rules are defined by | | | | table 1 in | | | | ITU-T Recommenda | | | | tion H.248.57 [5], | | | | which summarizes all | | | | rules, with and | | | | without the | | | | \"explicit RTCP | | | | transport address\" | | | | element. | | | +----------------------+----------------------+----------------------+
The IMS-AGW responds as in Table 5.17.2.3.2.
Table 5.17.2.3.2: Configure AGW Connection Point Request Acknowledge
+----------------------+----------------------+----------------------+ | Address Information | Control information | Bearer information | +----------------------+----------------------+----------------------+ | If local resources | Transaction ID = x | If local resources | | were provided in | | were provided in | | request: | Context ID = C1 | request: | | | | | | Local Descriptor { | Termination ID = T1 | Local Descriptor { | | | | | | Port | If Stream Number | If media is | | | Specified: | \"audio\" or | | IP Address | | \"video\": | | | Stream Number | | | IP Version | | Codec List | | | | | | } | | RTP Payloads | | | | | | If remote resources | | Rtpbw | | are provided in | | | | request: | | If RTCP bandwidth | | | | | | Remote Descriptor { | | RtcpbwRS | | | | | | Port | | RtcpbwRR | | | | | | IP Address | | If IMS media plane | | | | security was | | IP Version | | provided in request: | | | | | | } NOTE | | Cryptographic SDES | | | | Attribute | | | | | | | | If media is | | | | \"video\": | | | | | | | | If CVO extension | | | | header provided in | | | | the request: | | | | | | | | Extended Header For | | | | CVO | | | | | | | | If image attribute | | | | negotiation: | | | | | | | | Generic Image | | | | Attribute | | | | | | | | } | | | | | | | | If remote resources | | | | are provided in | | | | request: | | | | | | | | Remote Descriptor { | | | | | | | | If media is | | | | \"audio\" or | | | | \"video\": | | | | | | | | Codec List | | | | | | | | RTP Payloads | | | | | | | | Rtpbw | | | | | | | | If RTCP bandwidth | | | | | | | | RtcpbwRS | | | | | | | | RtcpbwRR | | | | | | | | If IMS media plane | | | | security was | | | | provided in the | | | | request: | | | | | | | | Cryptographic SDES | | | | Attribute | | | | | | | | If media is | | | | \"video\": | | | | | | | | If CVO extension | | | | header provided in | | | | the request: | | | | | | | | Extended Header For | | | | CVO | | | | | | | | If image attribute | | | | negotiation: | | | | | | | | Generic Image | | | | Attribute | | | | | | | | } NOTE | +----------------------+----------------------+----------------------+ | NOTE: Sending of the | | | | Remote Descriptor is | | | | optional. | | | +----------------------+----------------------+----------------------+
#### 5.17.2.4 Reserve and Configure AGW Connection Point
The IMS-ALG sends an ADD request command as in Table 5.17.2.4.1.
Table 5.17.2.4.1: Reserve and Configure AGW Connection Point Request
+----------------------+----------------------+----------------------+ | Address Information | Control information | Bearer information | +----------------------+----------------------+----------------------+ | Local Descriptor { | Transaction ID = x | Local Descriptor { | | | | | | Port = \$ | If Context | If media is | | | Requested: | \"audio\" or | | IP Address = \$ | | \"video\": | | | Context ID = \$ | | | IP Version = IPv4 or | | Codec List | | IPv6 | If Emergency Call: | | | | | RTP Payloads | | } | Emergency Call | | | | Indication | Rtpbw | | Remote Descriptor { | | | | | If MPS call/session: | If RTCP bandwidth | | Port | | | | | Priority Indicator = | RtcpbwRS | | IP Address | x | | | | | RtcpbwRR | | IP Version | If Context Provided: | | | | | If IMS media plane | | } | Context ID = c1 | security required: | | | | | | | Termination ID = \$ | Cryptographic SDES | | | | Attribute | | | If Stream Number | | | | Specified: | If media is | | | | \"video\": | | | Stream Number | | | | | If CVO required: | | | If Resources for | | | | multiple Codecs | Extended Header For | | | shall be reserved: | CVO\ | | | | (NOTE 3) | | | Reserve_Value | | | | | If imageattr | | | If IP Interface | negotiation: | | | Type: | | | | | Generic Image | | | IP interface = \"IP | Attribute | | | interface type\" | | | | | (NOTE 4) | | | If indication on | | | | Bearer Released | If ICE is applied: | | | requested: | | | | | ICE host candidate | | | N | request | | | otificationRequested | | | | (Event ID = x, \"BNC | ICE password request | | | Release\") | | | | | ICE Ufrag request | | | If diffserv | | | | required:- | If media is | | | | \"message\" or | | | Diffserv Code Point | \"application\" or | | | | \"-\": | | | If tagging behaviour | | | | | If IMS media plane | | | Diffserv Tagging | security required: | | | Behaviour | | | | | Local certificate | | | If Remote Source | fingerprint Request | | | Address Filtering | | | | required:- | If TCP state-aware | | | | handling required: | | | Remote Source | | | | Address Filtering | TCP State-aware | | | | Handling Indicator | | | If Remote Source | and Setup Direction | | | Address range | | | | required: | } | | | | | | | Remote Source | Remote Descriptor { | | | Address Mask | | | | | If media is | | | If Remote Source | \"audio\" or | | | Port Filtering | \"video\": | | | required:- | | | | | Codec List | | | Remote Source Port | | | | Filtering | RTP Payloads | | | | | | | If individual port: | Rtpbw | | | | | | | Remote Source Port | If RTCP bandwidth | | | | | | | If range of ports | RtcpbwRS | | | | | | | Remote Source Port | RtcpbwRR | | | Range | | | | | If RTCP handling | | | N | required: | | | otificationRequested | | | | (Event ID = x, | explicit RTCP | | | | transport address | | | \"termination | (NOTE 6) | | | heartbeat\") | | | | | If IMS media plane | | | If IP Realm | security required: | | | specified:- | | | | | Cryptographic SDES | | | IP Realm | Attribute | | | | | | | If Latching | If RTCP APP messages | | | Required:- | allowed | | | | | | | Latching | Allowed RTCP APP | | | | message | | | If Sustainable Data | | | | Rate Policing | types | | | Required:- | | | | | If media is | | | Policing Required | \"video\": | | | | | | | Sustainable Data | If CVO required: | | | Rate | | | | | Extended Header For | | | Maximum Burst Size | CVO\ | | | | (NOTE 3) | | | If Peak Data Rate | | | | Policing Required: | If imageattr | | | | negotiation: | | | Policing Required | | | | | Generic Image | | | Peak Data Rate | Attribute | | | | | | | If Delay Variation | (NOTE 4) | | | Required | | | | | If media is | | | Delay Variation | \"message\": | | | Tolerance | | | | | If B-ALG for MSRP | | | If Media Inactivity | required: | | | Detection Required: | | | | | MSRP Path | | | N | | | | otificationRequested | If ICE is applied: | | | (Event ID = x, | | | | \"Media Inactivity | ICE received | | | Detection( Media | candidate | | | Inactivity Detection | | | | Time, Media | ICE received | | | Inactivity Detection | password | | | Direction)\") (NOTE | | | | 1) | ICE received Ufrag | | | | | | | If RTCP handling | (NOTE 5) | | | required: | | | | | If STUN consent | | | RTCP allocation | freshness test | | | | required: | | | If ECN transparent | | | | support required: | STUN consent | | | | freshness request | | | ECN Enable = | | | | \"True\" | Notific | | | | ationRequested(Event | | | Initiation Method = | ID= x, \"STUN | | | \"inactive\" | consent freshness | | | | test failure\") | | | If ECN Endpoint | | | | support required | If media is | | | | \"message\" or | | | ECN Enable = | \"application\" or | | | \"True\" | \"-\": | | | | | | | Initiation Method = | If IMS media plane | | | \"ECN Initiation | security required: | | | | | | | Method\" (NOTE 2) | Remote certificate | | | | fingerprint | | | If notification of | | | | ECN Failure | If TCP state-aware | | | | handling required: | | | Report: | | | | | TCP State-aware | | | N | Handling Indicator | | | otificationRequested | and Setup Direction | | | (Event ID | | | | | } | | | = x,\"ECN Failure\") | | | | | | | | If ICE is applied: | | | | | | | | STUN server request | | | | | | | | If full ICE is | | | | applied | | | | | | | | Send Connectivity | | | | Check\ | | | | (\"Control\") | | | | | | | | If notification of | | | | ICE Connectivity\ | | | | Check Result Report: | | | | | | | | N | | | | otificationRequested | | | | (Event ID = xx, | | | | \"Connectivity Check | | | | Result\") | | | | | | | | If notification of | | | | New Peer Reflexive | | | | Candidate: | | | | | | | | N | | | | otificationRequested | | | | (Event ID = xy,\"New | | | | Peer Reflexive | | | | Candidate\") | | | | | | | | If Discard Incoming | | | | TCP connection | | | | establishment | | | | request required: | | | | | | | | Discard Incoming TCP | | | | Connection | | | | Establishment | | | | Requests Indicator | | | | | | | | If Forward Incoming | | | | TCP connection | | | | establishment | | | | request required: | | | | | | | | Forward Incoming TCP | | | | Connection | | | | Establishment | | | | Requests Indicator | | | | | | | | If indication on TCP | | | | connection | | | | establishment | | | | failure requested: | | | | | | | | N | | | | otificationRequested | | | | (Event ID = x, \"TCP | | | | connection | | | | establishment | | | | failure\") | | | | | | | | If (D)TLS session | | | | establishment | | | | required: | | | | | | | | Establish (D)TLS | | | | session | | | | | | | | If indication on | | | | (D)TLS session | | | | establishment | | | | failure requested: | | | | | | | | N | | | | otificationRequested | | | | (Event ID = x, | | | | \"(D)TLS session | | | | establishment | | | | failure\") | | | | | | | | If media is | | | | \"message\": | | | | | | | | If B-ALG for MSRP | | | | required: | | | | | | | | Application-aware | | | | MSRP\ | | | | interworking request | | +----------------------+----------------------+----------------------+ | NOTE 1: The event | | | | parameters \"Media | | | | Inactivity Detection | | | | Time\" and \"Media | | | | Inactivity Detection | | | | Direction\" are | | | | optional. | | | | | | | | NOTE 2: This shall | | | | be set to a value | | | | other than | | | | \"inactive\". See | | | | Table 5.14.3.15.1. | | | | | | | | NOTE 3: If the | | | | IMS-AGW supports the | | | | extended RTP header | | | | with Coordination of | | | | Video Orientation | | | | information it shall | | | | pass any received | | | | extended RTP header | | | | with CVO bits on to | | | | outgoing RTP | | | | streams. If the | | | | IMS-AGW is | | | | transcoding between | | | | video payloads and | | | | it supports the | | | | extended RTP header | | | | with Coordination of | | | | Video Orientation | | | | information it shall | | | | convey received RTP | | | | header bytes on the | | | | outgoing RTP stream | | | | after transcoding | | | | associated packets | | | | as specified in 3GPP | | | | TS 26.114 [26], | | | | clause 7.4.5. | | | | | | | | NOTE 4: The support | | | | of the generic image | | | | attributes is | | | | optional for the | | | | IMS-AGW. The list of | | | | image sizes per | | | | payload type | | | | supported by the | | | | IMS-AGW is | | | | preconfigured in the | | | | IMS-ALG. If none of | | | | the image sizes | | | | received within an | | | | SDP body on Mx/Mw | | | | interface is | | | | supported by the | | | | IMS-AGW then the | | | | IMS-ALG will not | | | | send the generic | | | | image attribute | | | | parameter to the | | | | IMS-AGW. | | | | | | | | NOTE 5: The support | | | | of ICE received | | | | candidate, ICE | | | | received password, | | | | ICE received Ufrag | | | | are optional for ICE | | | | lite, as specified | | | | in | | | | 3G | | | | PP TS 23.334 [23]. | | | | | | | | NOTE 6: The basic | | | | RTCP port allocation | | | | rules are defined by | | | | table 1 in | | | | ITU-T Recommenda | | | | tion H.248.57 [5], | | | | which summarizes all | | | | rules, with and | | | | without the | | | | \"explicit RTCP | | | | transport address\" | | | | element. | | | +----------------------+----------------------+----------------------+
The IMS-AGW responds as in Table 5.17.2.4.2.
Table 5.17.2.4.2: Reserve and Configure AGW Connection Point Request
Acknowledge
+----------------------+---------------------+----------------------+ | Address Information | Control information | Bearer information | +----------------------+---------------------+----------------------+ | Local Descriptor { | Transaction ID = x | Local Descriptor { | | | | | | Port | Context ID = C1 | If media is | | | | \"audio\" or | | IP Address | Termination ID = T1 | \"video\": | | | | | | IP Version | Stream Number | Codec List | | | | | | } | | RTP Payloads | | | | | | Remote Descriptor { | | Rtpbw | | | | | | > Port | | If RTCP bandwidth | | | | | | IP Address | | RtcpbwRS | | | | | | IP Version | | RtcpbwRR | | | | | | > } NOTE | | If IMS media plane | | | | security was | | | | provided in the | | | | request: | | | | | | | | Cryptographic SDES | | | | Attribute | | | | | | | | If media is | | | | \"video\": | | | | | | | | If CVO extension | | | | header provided in | | | | the request: | | | | | | | | Extended Header For | | | | CVO | | | | | | | | If image attribute | | | | negotiation: | | | | | | | | Generic Image | | | | Attribute | | | | | | | | If ICE is applied: | | | | | | | | ICE host candidate | | | | | | | | ICE password | | | | | | | | ICE Ufrag | | | | | | | | If ICE lite | | | | implementation | | | | | | | | ICE lite indication | | | | | | | | If media is | | | | \"message\" or | | | | \"application\" or | | | | \"-\": | | | | | | | | If Local certificate | | | | fingerprint was | | | | requested: | | | | | | | | Local certificate | | | | fingerprint | | | | | | | | } | | | | | | | | Remote Descriptor { | | | | | | | | If media is | | | | \"audio\" or | | | | \"video\": | | | | | | | | Codec List | | | | | | | | RTP Payloads | | | | | | | | Rtpbw | | | | | | | | If RTCP bandwidth | | | | | | | | RtcpbwRS | | | | | | | | RtcpbwRR | | | | | | | | If IMS media plane | | | | security was | | | | provided in the | | | | request: | | | | | | | | Cryptographic SDES | | | | Attribute | | | | | | | | If media is | | | | \"video\": | | | | | | | | If CVO extension | | | | header provided in | | | | the request: | | | | | | | | Extended Header For | | | | CVO | | | | | | | | If image attribute | | | | negotiation: | | | | | | | | Generic Image | | | | Attribute | | | | | | | | } NOTE | +----------------------+---------------------+----------------------+ | NOTE: Sending of the | | | | Remote Descriptor is | | | | optional. | | | +----------------------+---------------------+----------------------+
#### 5.17.2.5 Release AGW Termination
The IMS-ALG sends a SUBTRACT command as in Table 5.17.2.5.1.
Table 5.17.2.5.1: Release AGW Termination Request
+---------------------+-------------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-------------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID= C1/ALL | | | | | | | | Termination ID = T1/ALL | | +---------------------+-------------------------+--------------------+
On releasing the termination, the IMS-AGW responds as in Table 5.17.2.5.2
Table 5.17.2.5.2: Release AGW Termination Request Acknowledge
+---------------------+-------------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-------------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID = C1/ALL | | | | | | | | Termination ID = T1/ALL | | +---------------------+-------------------------+--------------------+
#### 5.17.2.6 Termination Heartbeat Indication
When the procedure \"Termination heartbeat indication\" is required the
following procedure is initiated: the IMS-AGW sends a NOT.req command with the
following information.
5.17.2.6.1 NOT.req (Termination heartbeat)
+---------------------+-------------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-------------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID = C1 | | | | | | | | Termination ID = T1 | | | | | | | | Event_ID (Event ID = | | | | x, \"termination | | | | heartbeat\") | | +---------------------+-------------------------+--------------------+
When the processing of command is complete, the IMS-ALG initiates the
following procedure.
5.17.2.6.2 NOT.resp (Termination heartbeat)
+---------------------+---------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+---------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID = C1 | | | | | | | | Termination ID = T1 | | +---------------------+---------------------+--------------------+
The IMS-ALG shall correct any detected mismatch, by subtracting hanging
terminations or clearing hanging contexts.
#### 5.17.2.7 IP Bearer Released
When the procedure \"IP Bearer Released\" is required the following procedure
is initiated: the IMS-AGW sends a NOT.req command with the following
information.
5.17.2.7.1 NOT.req (IP Bearer Released)
+---------------------+--------------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+--------------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID = C1 | | | | | | | | Termination ID = T1 | | | | | | | | Event_ID (Event ID = x, | | | | | | | | \"BNC Release (Cause)\") | | +---------------------+--------------------------+--------------------+
When the processing of command is complete, the IMS-ALG initiates the
following procedure.
5.17.2.7.2 NOT.resp (IP Bearer Released)
+---------------------+---------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+---------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID = C1 | | | | | | | | Termination ID = T1 | | +---------------------+---------------------+--------------------+
#### 5.17.2.8 Media Inactivity Notification
When the procedure \"Media Inactivity Notification\" is required the following
procedure is initiated: the IMS-AGW sends a NOT.req command with the following
information.
5.17.2.8.1 NOT.req (Media Inactivity)
+---------------------+-------------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-------------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID = C1 | | | | | | | | Termination ID = T1 | | | | | | | | Event_ID (Event ID = | | | | x, \"Media Inactivity | | | | Detection\") | | +---------------------+-------------------------+--------------------+
When the processing of command is complete, the IMS-ALG initiates the
following procedure.
5.17.2.8.2 NOT.resp (Media Inactivity)
+---------------------+---------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+---------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID = C1 | | | | | | | | Termination ID = T1 | | +---------------------+---------------------+--------------------+
#### 5.17.2.9 Change Through Connection
The IMS-ALG sends an ADD or a MODIFY request command as in Table 5.17.2.9.1.
5.17.2.9.1 Change Through Connection Request
+---------------------+-------------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-------------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | If Context Requested: | | | | | | | | Context ID = \$ | | | | | | | | If Context Provided: | | | | | | | | Context ID = c1 | | | | | | | | If Termination | | | | Requested: | | | | | | | | Termination ID = \$ | | | | | | | | If Termination | | | | Provided: | | | | | | | | Termination ID = T1 | | | | | | | | Through-Connection = | | | | Connectivity Mode | | +---------------------+-------------------------+--------------------+
The IMS-AGW responds as in Table 5.17.2.9.2.
5.17.2.9.2 Change Through Connection Request Acknowledge
+---------------------+---------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+---------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID = C1 | | | | | | | | Termination ID = T1 | | +---------------------+---------------------+--------------------+
#### 5.17.2.10 Change Flow Direction
The IMS-ALG sends an ADD or a MODIFY request command as in Table 5.17.2.10.1.
5.17.2.10.1 Change Flow Direction
+---------------------+----------------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+----------------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | If Context Requested: | | | | | | | | Context ID = \$ | | | | | | | | If Context Provided: | | | | | | | | Context ID = c1 | | | | | | | | If Termination Requested: | | | | | | | | Termination ID = \$ | | | | | | | | If Termination Provided: | | | | | | | | Termination ID = T1 | | | | | | | | Connection Configuration = | | | | | | | | (TerminationID= x1, | | | | | | | | TerminationID=x2, | | | | | | | | [type = x]),... | | +---------------------+----------------------------+--------------------+
The IMS-AGW responds as in Table 5.17.2.10.2.
5.17.2.10.2 Change Flow Direction Acknowledge
+---------------------+---------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+---------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID = C1 | | | | | | | | Termination ID = T1 | | +---------------------+---------------------+--------------------+
#### 5.17.2.11 ECN Failure Indication
The IMS-AGW sends a NOTIFY request command as in Table 5.17.2.11.1.
Table 5.17.2.11.1: ECN Failure Indication
+---------------------+-------------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-------------------------+--------------------+ | | Transaction ID = x | | | | | | | | Context ID= C1 | | | | | | | | Termination ID = T1 | | | | | | | | Event_ID (Event ID = | | | | x, | | | | | | | | \" ECN Failure (ECN | | | | Failure Type)\") | | +---------------------+-------------------------+--------------------+
The IMS-ALG responds as in Table 5.17.2.11.2
Table 5.17.2.11.2: ECN Failure Indication Ack
+---------------------+---------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+---------------------+--------------------+ | | Transaction ID = x | | | | | | | | Context ID = C1 | | | | | | | | Termination ID = T1 | | +---------------------+---------------------+--------------------+
#### 5.17.2.12 ICE Connectivity Check Result Notification
The IMS-AGW sends a NOTIFY request command as defined in Table 5.17.2.12.1.
Table 5.17.2.12.1: ICE Connectivity Check Result Notification
+---------------------+-------------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-------------------------+--------------------+ | | Transaction ID = x | | | | | | | | Context ID= C1 | | | | | | | | Termination ID = T1 | | | | | | | | Event_ID (Event ID = | | | | x, | | | | | | | | \"Connectivity Check | | | | Result | | | | (Candidate/Transport | | | | Pair)\") | | +---------------------+-------------------------+--------------------+
The IMS-ALG responds as defined in Table 5.17.2.12.2
Table 5.17.2.12.2: ICE Connectivity Check Result Notification Ack
+---------------------+---------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+---------------------+--------------------+ | | Transaction ID = x | | | | | | | | Context ID = C1 | | | | | | | | Termination ID = T1 | | +---------------------+---------------------+--------------------+
#### 5.17.2.13 ICE New Peer Reflexive Candidate Notification
The IMS-AGW sends a NOTIFY request command as defined in Table 5.17.2.13.1.
Table 5.17.2.13.1: ICE New Peer Reflexive Candidate Notification
+---------------------+-------------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-------------------------+--------------------+ | | Transaction ID = x | | | | | | | | Context ID= C1 | | | | | | | | Termination ID = T1 | | | | | | | | Event_ID (Event ID = | | | | x, | | | | | | | | \"New Peer Reflexive | | | | Candidate | | | | (Candidate)\") | | +---------------------+-------------------------+--------------------+
The IMS-ALG responds as defined in Table 5.17.2.13.2
Table 5.17.2.13.2: ICE New Peer Reflexive Candidate Ack
+---------------------+---------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+---------------------+--------------------+ | | Transaction ID = x | | | | | | | | Context ID = C1 | | | | | | | | Termination ID = T1 | | +---------------------+---------------------+--------------------+
#### 5.17.2.14 Notify TCP connection establishment Failure Indication
When the procedure \"Notify TCP connection establishment Failure Indication\"
is required the following procedure is initiated: the IMS-AGW sends a NOT.req
command with the following information.
5.17.2.14.1 NOT.req (TCP connection establishment Failure)
+---------------------+-------------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-------------------------+--------------------+ | | Transaction ID = x | | | | | | | | Context ID = C1 | | | | | | | | Termination ID = T1 | | | | | | | | Event_ID (Event ID = | | | | y, | | | | | | | | \"TCP connection | | | | establishment Error | | | | Indication\") | | +---------------------+-------------------------+--------------------+
When the processing of command is complete, the IMS-ALG initiates the
following procedure.
5.17.2.14.2 NOT.resp (TCP connection establishment Failure)
+---------------------+---------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+---------------------+--------------------+ | | Transaction ID = x | | | | | | | | Context ID = C1 | | | | | | | | Termination ID = T1 | | +---------------------+---------------------+--------------------+
#### 5.17.2.15 Notify (D)TLS session establishment Failure Indication
When the procedure \"Notify (D)TLS session establishment Failure Indication\"
is required the following procedure is initiated: the IMS-AGW sends a NOT.req
command with the following information.
5.17.2.15.1 NOT.req ((D)TLS session establishment Failure)
+---------------------+-------------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-------------------------+--------------------+ | | Transaction ID = x | | | | | | | | Context ID = C1 | | | | | | | | Termination ID = T1 | | | | | | | | Event_ID (Event ID = | | | | y, | | | | | | | | \"(D)TLS session | | | | establishment Error | | | | Indication\") | | +---------------------+-------------------------+--------------------+
When the processing of command is complete, the IMS-ALG initiates the
following procedure.
5.17.2.15.2 NOT.resp ((D)TLS session establishment Failure)
+---------------------+---------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+---------------------+--------------------+ | | Transaction ID = x | | | | | | | | Context ID = C1 | | | | | | | | Termination ID = T1 | | +---------------------+---------------------+--------------------+
#### 5.17.2.16 STUN Consent Freshness Test Failure Notification
The eIMS-AGW sends a NOTIFY request command as defined in Table 5.17.2.16.1.
Table 5.17.2.16.1: STUN Consent Freshness Test Failure Notification
+---------------------+-------------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-------------------------+--------------------+ | | Transaction ID = x | | | | | | | | Context ID= C1 | | | | | | | | Termination ID = T1 | | | | | | | | Event_ID (Event ID = | | | | x, | | | | | | | | \"STUN Consent | | | | Freshness Test Failure | | | | (STUN Consent Freshness | | | | Test Failure Type)\") | | +---------------------+-------------------------+--------------------+
The eP-CSCF responds as defined in Table 5.17.2.16.2
Table 5.17.2.16.2: STUN Consent Freshness Test Failure Notification Ack
+---------------------+---------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+---------------------+--------------------+ | | Transaction ID = x | | | | | | | | Context ID = C1 | | | | | | | | Termination ID = T1 | | +---------------------+---------------------+--------------------+
### 5.17.3 Non-Call Related Procedures
#### 5.17.3.1 General
This clause describes the various non-call related procedures which are listed
in Table 5.17.3.1.1
Table 5.17.3.1.1: IMS-AGW Non-Call Related Procedures
+-----------------------+-------------------+-----------------------+ | Transaction in 3GPP | Support | Comment | | TS 23.334 [23] | | | +-----------------------+-------------------+-----------------------+ | IMS-AGW Out of | Mandatory | 5.17.3.2 | | service | | | +-----------------------+-------------------+-----------------------+ | IMS-AGW Communication | Mandatory | 5.17.3.3 | | Up | | | +-----------------------+-------------------+-----------------------+ | IMS-AGW Restoration | Mandatory | 5.17.3.4 | +-----------------------+-------------------+-----------------------+ | IMS-AGW Register | Mandatory | 5.17.3.5 | +-----------------------+-------------------+-----------------------+ | IMS-AGW Re-register | Optional (NOTE 3) | 5.17.3.6 | +-----------------------+-------------------+-----------------------+ | IMS-ALG Ordered | Optional (NOTE 3) | 5.17.3.7 | | Re-register | | | +-----------------------+-------------------+-----------------------+ | IMS-ALG Restoration | Optional | 5.17.3.8 | +-----------------------+-------------------+-----------------------+ | IMS-ALG Out of | Optional | 5.17.3.9 | | Service | | | +-----------------------+-------------------+-----------------------+ | Audit Value | Optional (NOTE 3) | 5.17.3.10 | +-----------------------+-------------------+-----------------------+ | Command Rejected | Mandatory | The \"Command | | | | Rejected\" procedure | | | | may be used in | | | | response both to | | | | call-related and | | | | non-call-related | | | | ITU-T Recommendation | | | | H.248 Commands -- | | | | 5.17.3.11 | +-----------------------+-------------------+-----------------------+ | Capability Update | Optional | 5.17.3.12 | +-----------------------+-------------------+-----------------------+ | IMS-AGW Resource | Optional | 5.17.3.13 | | Congestion Handling | | | | -- Activate | | | +-----------------------+-------------------+-----------------------+ | IMS-AGW Resource | Optional | 5.17.3.14 | | Congestion Handling | | | | -- Indication | | | +-----------------------+-------------------+-----------------------+ | Inactivity timeout | Optional | 5.17.3.15 | | activation | | | | | (NOTE 4) | | +-----------------------+-------------------+-----------------------+ | Inactivity timeout | Optional | 5.17.3.16 | | indication | | | | | (NOTE 4) | | +-----------------------+-------------------+-----------------------+ | Realm Availability | Optional | 5.17.3.17 | | Change activation | | | +-----------------------+-------------------+-----------------------+ | Realm Availability | Optional | 5.17.3.18 | | Change indication | | | +-----------------------+-------------------+-----------------------+ | Termination Out of | Optional (NOTE 1) | 5.17.3.19 (NOTE 2) | | Service | | | +-----------------------+-------------------+-----------------------+ | NOTE 1: Support of | | | | this procedure is | | | | mandatory in the | | | | IMS-ALG. | | | | | | | | NOTE 2: The | | | | \"Termination | | | | Out-of-Service | | | | procedure\" is also | | | | used as a | | | | call-related H.248 | | | | command | | | | | | | | NOTE 3: Support of | | | | this procedure is | | | | mandatory in the | | | | IMS-AGW. | | | | | | | | NOTE 4: Support of | | | | this procedure is | | | | mandatory in the | | | | IMS-AGW if UDP | | | | transport is | | | | supported. | | | +-----------------------+-------------------+-----------------------+
#### 5.17.3.2 IMS-AGW Out Of Service
The IMS-AGW sends a SERVICE CHANGE request command as in Table 5.17.3.2.1.
Table 5.17.3.2.1: IMS-AGW Out Of Service Request
+---------------------+-------------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-------------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID= - | | | | | | | | Termination ID = ROOT | | | | | | | | SC Method = FORCED or | | | | GRACEFUL | | | | | | | | SC Reason = 905 | | | | Termination Taken OOS | | | | or 908, MG Impending | | | | Failure, or 915 State | | | | Loss | | +---------------------+-------------------------+--------------------+
The IMS-ALG responds as in Table 5.17.3.2.2.
Table 5.17.3.2.2: IMS-AGW Out Of Service Request Ack
+---------------------+-----------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-----------------------+--------------------+ | | Transaction ID = x | | | | | | | | Context ID = - | | | | | | | | Termination ID = ROOT | | +---------------------+-----------------------+--------------------+
#### 5.17.3.3 IMS-AGW Communication Up
The IMS-AGW sends a SERVICE CHANGE request command as in Table 5.17.3.3.1 to
the IMS-ALG address to which the control link association was previously
established.
Table 5.17.3.3.1: IMS-AGW Communication Up
+---------------------+------------------------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+------------------------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID= - | | | | | | | | Termination ID = ROOT | | | | | | | | SC Method = DISCONNECTED | | | | | | | | SC Reason = 900 , Service Restored | | +---------------------+------------------------------------+--------------------+
The IMS-ALG may respond as in table 5.17.3.3.2. If a response is received, the
control link association is re-established and the inactivity timer would be
restarted.
Table 5.17.3.3.2: IMS-AGW Communication Up Ack
+---------------------+-------------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-------------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID = - | | | | | | | | Termination ID = ROOT | | | | | | | | If required to register | | | | to a new IMS-ALG: | | | | | | | | Alternate MGC Id | | +---------------------+-------------------------+--------------------+
#### 5.17.3.4 IMS-AGW Restoration
When the IMS-AGW has recovered, the IMS-AGW sends a SERVICE CHANGE as in Table
5.17.3.4.1,
Table 5.17.3.4.1: IMS-AGW Restoration
+---------------------+-----------------------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-----------------------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID= - | | | | | | | | Termination ID = ROOT | | | | | | | | SC Method = RESTART | | | | | | | | SC Reason = 900, Service Restored | | +---------------------+-----------------------------------+--------------------+
The IMS-ALG responds as in Table 5.17.3.4.2.
Table 5.17.3.4.2: IMS-AGW Restoration Ack
+---------------------+-------------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-------------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID = - | | | | | | | | Termination ID = ROOT | | | | | | | | If required to register | | | | to a new IMS-ALG: | | | | | | | | Alternate MGC Id | | +---------------------+-------------------------+--------------------+
#### 5.17.3.5 IMS-AGW Register
The IMS-AGW sends a SERVICE CHANGE request command as in Table 5.17.3.5.1.
Table 5.17.3.5.1: IMS-AGW Register
+---------------------+-------------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-------------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID= - | | | | | | | | Termination ID = ROOT | | | | | | | | SC Method = RESTART | | | | | | | | SC Reason =901, Cold | | | | Boot or 902, Warm Boot | | | | | | | | H248 Profile Identity | | | | | | | | H248 Protocol Version | | +---------------------+-------------------------+--------------------+
The IMS-ALG responds as in Table 5.17.3.5.2.
_Table 5.17.3.5.2: IMS-AGW Register Ack_
+-----------------------+-----------------------+--------------------+ | Address Information | Control information | Bearer information | +-----------------------+-----------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID = - | | | | | | | | Termination ID = ROOT | | | | | | | | If applicable (NOTE): | | | | | | | | H248 Protocol Version | | | | | | | | If applicable:- | | | | | | | | H248 Profile Identity | | | | | | | | If required to | | | | register to a new | | | | IMS-ALG: | | | | | | | | Alternate MGC Id | | +-----------------------+-----------------------+--------------------+ | NOTE: The IMS-ALG | | | | shall include the | | | | H.248 Protocol | | | | Version if the | | | | protocol version it | | | | supports or offers is | | | | lower than that | | | | proposed by the | | | | IMS-AGW. The IMS-ALG | | | | may include the H.248 | | | | Protocol Version if | | | | the protocol version | | | | it supports or offers | | | | is the protocol | | | | version proposed by | | | | the IMS-AGW. | | | +-----------------------+-----------------------+--------------------+
#### 5.17.3.6 IMS-AGW Re-Register
The IMS-AGW sends a SERVICE CHANGE request command as in Table 5.17.3.6.1.
Table 5.17.3.6.1: IMS-AGW Re-Registration
+---------------------+-------------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-------------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID= - | | | | | | | | Termination ID = ROOT | | | | | | | | SC Method = Handoff | | | | | | | | SC Reason = 903, MGC | | | | Directed Change | | | | | | | | H248 Profile Identity | | | | | | | | H248 Protocol Version | | +---------------------+-------------------------+--------------------+
The IMS-ALG responds as in Table 5.17.3.6.2.
_Table 5.17.3.6.2: IMS-AGW Re-Registration Ack_
+-----------------------+-----------------------+--------------------+ | Address Information | Control information | Bearer information | +-----------------------+-----------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID = - | | | | | | | | Termination ID = ROOT | | | | | | | | If applicable (NOTE): | | | | | | | | H248 Protocol Version | | | | | | | | If applicable:- | | | | | | | | H248 Profile Identity | | | | | | | | If required to | | | | register to a new | | | | IMS-ALG: | | | | | | | | Alternate MGC Id | | +-----------------------+-----------------------+--------------------+ | NOTE: The IMS-ALG | | | | shall include the | | | | H.248 Protocol | | | | Version if the | | | | protocol version it | | | | supports or offers is | | | | lower than that | | | | proposed by the | | | | IMS-AGW. The IMS-ALG | | | | may include the H.248 | | | | Protocol Version if | | | | the protocol version | | | | it supports or offers | | | | is the protocol | | | | version proposed by | | | | the IMS-AGW. | | | +-----------------------+-----------------------+--------------------+
#### 5.17.3.7 IMS-ALG Ordered Re-register
The IMS-ALG sends a SERVICE CHANGE request command as in Table 5.17.3.7.1.
Table 5.17.3.7.1: IMS-ALG Ordered Re-Register
+---------------------+-------------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-------------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID= - | | | | | | | | Termination ID = ROOT | | | | | | | | SC Method = HANDOFF | | | | | | | | SC Reason = 903, MGC | | | | Directed Change | | | | | | | | Alternate MGC Id | | +---------------------+-------------------------+--------------------+
.
The IMS-AGW responds as in Table 5.17.3.7.2.
_Table 5.17.3.7.2: IMS-ALG Ordered Re-Register Ack_
+---------------------+-----------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-----------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID = - | | | | | | | | Termination ID = ROOT | | +---------------------+-----------------------+--------------------+
The IMS-AGW then performs an IMS-AGW Re-Register procedure according to Clause
5.17.3.6.
#### 5.17.3.8 IMS-ALG Restoration
When the IMS-ALG has recovered, the IMS-ALG sends a SERVICE CHANGE as in Table
5.17.3.8.1,
Table 5.17.3.8.1: IMS-ALG Restoration
+---------------------+-------------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-------------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID= - | | | | | | | | Termination ID = ROOT | | | | | | | | SC Method = RESTART | | | | | | | | SC Reason = 901, Cold | | | | Boot OR 902, Warm Boot | | +---------------------+-------------------------+--------------------+
The IMS-AGW responds as in Table 5.17.3.8.2.
Table 5.17.3.8.2: IMS-ALG Restoration Ack
+---------------------+-----------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-----------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID = - | | | | | | | | Termination ID = ROOT | | +---------------------+-----------------------+--------------------+
#### 5.17.3.9 IMS-ALG Out of Service
The IMS-ALG sends a SERVICE CHANGE request command as in Table 5.17.3.9.1.
Table 5.17.3.9.1: IMS-ALG Out Of Service
+---------------------+-------------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-------------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID= - | | | | | | | | Termination ID = ROOT | | | | | | | | SC Method = FORCED or | | | | GRACEFUL | | | | | | | | SC Reason = 905, | | | | Termination Taken OOS | | +---------------------+-------------------------+--------------------+
The IMS-AGW responds as in Table 5.17.3.9.2.
**Table 5.17.3.9.2: IMS-ALG Out Of Service** Ack
+---------------------+-----------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-----------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID = - | | | | | | | | Termination ID = ROOT | | +---------------------+-----------------------+--------------------+
#### 5.17.3.10 Audit Value
The IMS-ALG sends an AUDIT VALUE request command as in Table 5.17.3.10.1.
Table 5.17.3.10.1: Audit Value
+-----------------------+-----------------------+--------------------+ | Address Information | Control information | Bearer information | +-----------------------+-----------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID= -/ALL/C1 | | | | | | | | Termination ID = | | | | ROOT/A | | | | LL/T1/PartialWildcard | | | | (NOTE 4, NOTE 5) | | | | | | | | Audit Packages (NOTE | | | | 1) | | | | | | | | Audit Descriptor = | | | | IndAuditParameter:= | | | | In | | | | dAudMediaDescriptor:= | | | | IndAudTermina | | | | tionStateDescriptor:= | | | | serviceState | | | | | | | | Audit Descriptor = | | | | Empty (NOTE 2) | | | | | | | | Audit Descriptor = | | | | IndAuditParameter:= | | | | In | | | | dAudMediaDescriptor:= | | | | IndAudTermina | | | | tionStateDescriptor:= | | | | Available Realms | | | | (NOTE 3) | | | | | | | | Audit Descriptor = | | | | IndAuditParameter:= | | | | In | | | | dAudMediaDescriptor:= | | | | IndAudTermina | | | | tionStateDescriptor:= | | | | ROOT properties (NOTE | | | | 6) | | +-----------------------+-----------------------+--------------------+ | NOTE 1: Packages is | | | | for Null/Root | | | | Combination. | | | | | | | | NOTE 2: Used for | | | | control association | | | | monitoring. | | | | | | | | NOTE 3: Used for | | | | auditing available IP | | | | realms | | | | | | | | NOTE 4: The partial | | | | wildcard termination | | | | is used for the | | | | context audit (see | | | | table 5.17.3.10.3) | | | | and specifies the | | | | \"group\" part of the | | | | termination identity | | | | (e.g. \"ip/5/*\"). | | | | | | | | NOTE 5: Partial | | | | wildcard shall only | | | | be used when text | | | | encoding is used on | | | | the H.248 interface. | | | | | | | | NOTE 6: Used for | | | | auditing ROOT | | | | properties. | | | +-----------------------+-----------------------+--------------------+
The IMS-AGW responds as in Table 5.17.3.10.2.
_Table 5.17.3.10.2: Audit Value Ack_
+---------------------+--------------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+--------------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID = -/C1 | | | | | | | | Termination ID = ROOT/T1 | | | | | | | | Packages List | | | | | | | | serviceState | | | | | | | | Available Realms | | | | | | | | ROOT Properties | | +---------------------+--------------------------+--------------------+
Upon reception of the command in the IMS-AGW:
  * The Service State returns the current Service State
  * When Packages are requested, the Package Names and Versions are returned
  * When realm availability is audited, the list of available realms is returned.
  * When root properties are audited, the values of root properties are returned.
The following table illustrates the allowed combinations that can be obtained
with the AuditValue Command:
Table 5.17.3.10.3: Combinations of AuditValue Command
* * *
ContextID TerminationID Information Obtained Specific Wildcard Audit of
matching Terminations in a Context Specific Specific Audit of a single
Termination in a Context Null Root Audit of Media Gateway state and/or control
association or available realms, or supported packages or ROOT properties. All
Specific (Non-null) ContextID in which the Termination currently exists All
Partial Wildcard (Non-null) ContextIDs in which the Terminations currently
exist NOTE: Partial wildcard shall only be used when text encoding is used on
the H.248 interface.
* * *
#### 5.17.3.11 Command Rejected
When the procedure \"Command Reject\" is required the following procedure is
initiated:
The IMS-AGW / IMS-ALG sends .a response to any command.req with the following
information.
Table 5.17.3.11.1: ANYcommand.resp (command reject ) IMS-AGW / IMS-ALG to IMS-
ALG/ IMS-AGW
+---------------------+-------------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-------------------------+--------------------+ | []{.underline} | Transaction ID = z | | | | | | | | Context ID = c1 or no | | | | context | | | | | | | | Termination ID = T1 or | | | | no termination ID | | | | | | | | Reason=Error | | +---------------------+-------------------------+--------------------+
#### 5.17.3.12 AGW Capability Change
The IMS-AGW sends a SERVICE CHANGE request command as in Table 5.17.3.12.1.
Table 5.17.3.12.1: AGW Capability Update
+---------------------+-------------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-------------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID= - | | | | | | | | Termination ID = ROOT | | | | | | | | SC Method = RESTART or | | | | DISCONNECTED | | | | | | | | SC Reason = 916, | | | | Packages Change or 917, | | | | Capability Change | | +---------------------+-------------------------+--------------------+
The IMS-ALG responds as in table 5.17.3.12.2.
_Table 5.17.3.12.2 AGW Capability Update Ack_
+---------------------+-----------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-----------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID = - | | | | | | | | Termination ID = ROOT | | +---------------------+-----------------------+--------------------+
#### 5.17.3.13 IMS-AGW Resource Congestion Handling -- Activate
The IMS-ALG sends a MODIFY request command as in Table 5.17.3.13.1
Table 5.17.3.13.1: IMS-AGW Resource Congestion Handling -- Activate
+---------------------+-------------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-------------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID= - | | | | | | | | Termination ID = ROOT | | | | | | | | NotificationRequested | | | | (Event ID = x, | | | | | | | | \"Overload | | | | Notification\") | | +---------------------+-------------------------+--------------------+
The IMS-AGW responds as in Table 5.17.3.13.2.
Table 5.17.3.13.2: IMS-AGW Resource Congestion Handling -- Activate Ack
+---------------------+-----------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-----------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID = - | | | | | | | | Termination ID = ROOT | | +---------------------+-----------------------+--------------------+
#### 5.17.3.14 IMS-AGW Resource Congestion Handling -- Indication
The IMS-AGW sends a NOTIFY request command as in Table 5.17.3.14.1
Table 5.17.3.14.1: IMS-AGW Resource Congestion Handling -- Indication
+---------------------+-------------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-------------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID= - | | | | | | | | Termination ID = ROOT | | | | | | | | If H.248.11 used: | | | | | | | | Event_ID (Event ID = | | | | x, \"Overload | | | | Notification\") | | | | | | | | If H.248.10 used: | | | | | | | | Event_ID (Event ID = | | | | x, \" Overload | | | | Notification | | | | (Reduction)\") | | +---------------------+-------------------------+--------------------+
The IMS-ALG responds as in Table 5.17.3.14.2
Table 5.17.3.14.2: IMS-AGW Resource Congestion Handling -- Indication Ack
+---------------------+-----------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-----------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID = - | | | | | | | | Termination ID = ROOT | | +---------------------+-----------------------+--------------------+
#### 5.17.3.15 Inactivity Timeout -- Activation
The IMS-ALG sends a MODIFY request command as in Table 5.17.3.15.1
Table 5.17.3.15.1: Inactivity Timeout -- Activation
+---------------------+-------------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-------------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID= NULL | | | | | | | | Termination ID = ROOT | | | | | | | | NotificationRequested | | | | (Event ID = x, | | | | | | | | \"Inactivity Timeout\") | | +---------------------+-------------------------+--------------------+
The IMS-AGW responds as in Table 5.17.3.15.2.
Table 5.17.3.15.2: Inactivity Timeout -- Activation Ack
+---------------------+-----------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-----------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID = NULL | | | | | | | | Termination ID = ROOT | | +---------------------+-----------------------+--------------------+
#### 5.17.3.16 Inactivity Timeout -- Indication
The IMS-AGW sends a NOTIFY request command as in Table 5.17.3.16.1.
Table 5.17.3.16.1: Inactivity Timeout -- Indication
+---------------------+-------------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-------------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID= NULL | | | | | | | | Termination ID = ROOT | | | | | | | | Event_ID (Event ID = | | | | x, \"Inactivity | | | | Timeout\") | | +---------------------+-------------------------+--------------------+
The IMS-ALG responds as in Table 5.17.3.16.2
Table 5.17.3.16.2: Inactivity Timeout -- Indication Ack
+---------------------+-----------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-----------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID = NULL | | | | | | | | Termination ID = ROOT | | +---------------------+-----------------------+--------------------+
#### 5.17.3.17 Realm Availability Change -- Activation
The IMS-ALG sends a MODIFY request command as in Table 5.17.3.17.1.
Table 5.17.3.17.1: Realm Availability Change -- Activation
+---------------------+-------------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-------------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID= - | | | | | | | | Termination ID = ROOT | | | | | | | | NotificationRequested | | | | (Event ID = x, | | | | | | | | \"Realm Availability | | | | Change\") | | +---------------------+-------------------------+--------------------+
The IMS-AGW responds as in Table 5.17.3.17.2.
Table 5.17.3.17.2: Realm Availability Change -- Activation Ack
+---------------------+-----------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-----------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID = - | | | | | | | | Termination ID = ROOT | | +---------------------+-----------------------+--------------------+
#### 5.17.3.18 Realm Availability Change -- Indication
The IMS-AGW sends a NOTIFY request command as in Table 5.17.3.18.1.
Table 5.17.3.18.1: Realm Availability Change -- Indication
+-----------------------+-----------------------+--------------------+ | Address Information | Control information | Bearer information | +-----------------------+-----------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID= - | | | | | | | | Termination ID = ROOT | | | | | | | | Event_ID (Event ID = | | | | x, | | | | | | | | \"Realm Availability | | | | Change (Changed | | | | Realms)\") | | +-----------------------+-----------------------+--------------------+ | NOTE: The | | | | ObservedEvent | | | | Parameters returned | | | | within the Changed | | | | Realms are defined as | | | | mandatory since it | | | | shall contain at | | | | minimum 1 parameter | | | | but may contain both | | | | Newly Available | | | | Realms and Newly | | | | Unavailable Realms. | | | +-----------------------+-----------------------+--------------------+
The IMS-ALG responds as in Table 5.17.3.18.2
Table 5.17.3.18.2: Realm Availability Change -- Indication Ack
+---------------------+-----------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+-----------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID = - | | | | | | | | Termination ID = ROOT | | +---------------------+-----------------------+--------------------+
#### 5.17.3.19 Termination Out Of Service
This procedure only applies when text encoding is used on the H.248 interface.
The IMS-AGW sends a SERVICE CHANGE request command as in Table 5.17.3.19.1.
> Table 5.17.3.19.1: Termination Out Of Service Request
+-----------------------+-----------------------+--------------------+ | Address Information | Control information | Bearer information | +-----------------------+-----------------------+--------------------+ | []{.underline} | Transaction ID = x | | | | | | | | Context ID= C1/ALL | | | | | | | | Termination ID = T1 | | | | or Wildcarded | | | | Termination (NOTE) | | | | | | | | SC Method = FORCED | | | | | | | | SC Reason = 904 | | | | (\"Termination | | | | Malfunction\") or 905 | | | | (\"Termination Taken | | | | OOS\") or 906 (\"Loss | | | | of Lower Layer | | | | Connectivity\"), or | | | | 907 (\"Transmission | | | | Failure\") or 910 | | | | (\"Media Capability | | | | Failure\") | | +-----------------------+-----------------------+--------------------+ | NOTE: This is set to | | | | a specific | | | | termination identity | | | | or a partially | | | | wildcarded identity | | | | (i.e. specifying the | | | | \"interface\" part of | | | | the termination ID | | | | and wildcarding the | | | | \"group\" and \"Id\" | | | | parts) or a wholly | | | | wildcarded identity | | | | (i.e. ip/*). | | | +-----------------------+-----------------------+--------------------+
The IMS-ALG responds as in Table 5.17.3.19.2.
> Table 5.17.3.19.2: Termination Out Of Service Request Ack
+---------------------+------------------------------+--------------------+ | Address Information | Control information | Bearer information | +---------------------+------------------------------+--------------------+ | | Transaction ID = x | | | | | | | | Context ID = C1/ALL | | | | | | | | Termination ID = As received | | +---------------------+------------------------------+--------------------+
#