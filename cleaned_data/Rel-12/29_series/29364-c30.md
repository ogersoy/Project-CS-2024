# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# Introduction
Application Servers can store their service data on the HSS through the Sh
interface as transparent data, meaning that the HSS may not be aware of the
structure and the semantics of this data, only the Application Server has this
knowledge. Standardizing the data formats would facilitate interoperation
among Application Servers supplied by the same, or different, vendors. These
Application Server vendors may be primary and secondary suppliers of the same
service provider within a service provider's IMS network. This is especially
true for the Multimedia Telephony supplementary services that can achieve a
wide deployment and are here addressed by this specification.
IMS CAMEL subscription data may be transferred to the IM-SSF AS using Sh
interface.
# 1 Scope
This specification standardizes
\- the structure and the coding of the service data that are transported over
the Sh interface between an Application Server supporting Multimedia Telephony
supplementary services as defined in 3GPPP TS 22.173 [1] and the HSS. Two
optional formats are specified. One is based on a binary coding of the service
data and supports the subset of MMTEL services corresponding to PSTN/ISDN and
CS supplementary services. The other uses an XML format and supports the full
set of MMTEL Services.
\- the structure and the coding of a set of generic IMS user group data over
the Sh interface.
\- the structure and the coding of the service data (ODB Information for IMS
Oriented Services) that are transported over the Sh interface between an
Application Server supporting services that are subject to IMS-ODB as defined
in 3GPP TS 22.041[25] and the HSS.
\- the structure and the coding of the IMS CAMEL subscription data transported
using Sh interface.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
  * References are either specific (identified by date of publication, > edition number, version number, etc.) or non‑specific.
  * For a specific reference, subsequent revisions do not apply.
  * For a non-specific reference, the latest version applies. In the > case of a reference to a 3GPP document (including a GSM document), > a non-specific reference implicitly refers to the latest version > of that document _in the same Release as the present document_.
[1] 3GPP TS 22.173: \"IP Multimedia Core Network Subsystem (IMS) Multimedia
Telephony Service and supplementary services; Stage 1\".
[2] 3GPP TS 24.604: \"Communication Diversion (CDIV); Protocol specification
using IP Multimedia (IM) Core Network (CN) subsystem; Protocol specification
\".
[3] 3GPP TS 24.605: \"Conference (CONF) using IP Multimedia (IM) Core Network
(CN) subsystem; Protocol specification\".
[4] 3GPP TS 24.606: \"Message Waiting Indication (MWI) using IP Multimedia
(IM) Core Network (CN) subsystem; Protocol specification\".
[5] 3GPP TS 24.607: \"Originating Identification Presentation (OIP) and
Originating Identification Restriction (OIR) using IP Multimedia (IM) Core
Network (CN) subsystem; Protocol specification\".
[6] 3GPP TS 24.608: \"Terminating Identification Presentation (TIP) and
Terminating Identification Restriction (TIR) using IP Multimedia (IM) Core
Network (CN) subsystem; Protocol specification\".
[7] 3GPP TS 24.610: \"Communication HOLD (HOLD) using IP Multimedia (IM) Core
Network (CN) subsystem; Protocol specification\".
[8] 3GPP TS 24.611: \"Anonymous Communication Rejection (ACR) and
Communication Barring (CB) using IP Multimedia (IM) Core Network (CN)
subsystem; Protocol specification\".
[9] 3GPP TS 24.615: \"Communication Waiting (CW) using IP Multimedia (IM) Core
Network (CN) subsystem; Protocol specification\".
[10] 3GPP TS 24.616: \"Malicious Communication Identification (MCID) using IP
Multimedia (IM) Core Network (CN) subsystem; Protocol specification\".
[11] 3GPP TS 24.629: \"Explicit Communication Transfer (ECT) using IP
Multimedia (IM) Core Network (CN) subsystem; Protocol specification\".
[12] 3GPP TS 24.642: \"Completion of Communications to Busy Subscriber (CCBS),
Completion of Communications by No Reply (CCNR) using IP Multimedia (IM) Core
Network (CN) subsystem; Protocol specification\".
[13] 3GPP TS 24.647: \"Advice Of Charge (AOC) using IP Multimedia (IM) Core
Network (CN) subsystem; Protocol specification\".
[14] 3GPP TS 24.654: \"Closed User Group (CUG) using IP Multimedia (IM) Core
Network (CN) subsystem; Protocol specification\".
[15] 3GPP TS 24.239: \"Flexible Alerting (FA) using IP Multimedia (IM) Core
Network (CN) subsystem; Protocol specification\".
[16] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[17] 3GPP TS 29.328: \"IP Multimedia (IM) Subsystem Sh interface; Signalling
flows and message contents\".
[18] 3GPP TS 24.238: \" Session Initiation Protocol (SIP) based user
configuration; Stage 3\".
[19] IETF RFC 2045: \"Multipurpose Internet Mail Extension (MIME) Part One:
Format of Internet Message Bodies\".
[20] 3GPP TS 22.182: \"Customized Alerting Tones (CAT) Requirements; Stage
1\".
[21] 3GPP TS 24.182: \" IP Multimedia Subsystem (IMS) Customized Alerting
Tones (CAT); Protocol specification\".
[22] 3GPP TS 32.280: \"Telecommunication management; Charging management;
Advice of Charge (AoC) service\".
[23] ISO 4217: \"Codes for the representation of currencies and funds \".
[24] 3GPP TS 23.003: \"Numbering, addressing and identification\".
[25] 3GPP TS 22.041: \"Operator Determined Barring (ODB)\".
[26] 3GPP TS 23.278: \"Customised Applications for Mobile network Enhanced
Logic (CAMEL); IP Multimedia System (IMS) interworking; Stage 2\".
[27] 3GPP TS 29.002: \"Mobile Application Part (MAP) specification\".
# 3 Definitions, symbols and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
TR 21.905 [16] apply.
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[1] and the following apply. An abbreviation defined in the present document
takes precedence over the definition of the same abbreviation, if any, in TR
21.905 [16].
3PTY Three-Party Communication
ACR Anonymous Communication Rejection
AOC-C Advice Of Charge - Charging
AOC-D Advice Of Charge - During the communication
AOC-E Advice Of Charge - at the End of the communication
AOC-I Advice Of Charge - for Information
AOC-S Advice Of Charge - at communication Set-up time
AS Application Server
CAT Customized Alerting Tones
CB Communication session Barring
CCBS Completion of Communication sessions to Busy Subscriber
CCNR Completion of Communication sessions on No Reply
CD Communication Deflection
CDIV Communication DIVersion
CFB Communication Forwarding Busy
CFNL Communication Forwarding on Not Logged-in
CFNR Communication Forwarding No Reply
CFNRc Communication Forwarding on Subscriber Not Reachable
CFU Communication Forwarding Unconditional
CONF CONFerence
CUG Closed User Group
CW Communication Waiting
ECT Explicit Communication Transfer
FA Flexible Alerting
GRUU Globally Routable User agent URI
HOLD Communication HOLD
ICB Incoming Communications Barring
MCID Malicious Communication IDentification
MMTEL MultiMedia Telephony
MWI Message Waiting Indication
OCB Outgoing Communications Barring
OIP Originating Identification Presentation
OIR Originating Identification Restriction
TIP Terminating Identification Presentation
TIR Terminating Identification Restriction
# 4 General
MMTEL/IMS CAMEL Services are supported by Application Servers that may store
the Service Data attached to each user in the HSS via the Sh Interface. This
data is referred to as transparent data and is understood syntactically but
not semantically by the HSS.
Different ASs providing MMTEL/IMS CAMEL services for a given user may be
required. Therefore several ASs should access, utilise and update the Service
Data for the user stored in the HSS. The ASs should interoperate and share the
Service Data attached to this user.
To aid the interoperability between ASs, this specification defines:
  * the structure and the coding of the Service Data transferred over the Sh interface between the HSS and the ASs for MMTEL/IMS CAMEL services,
  * the use of the Sh procedures to ensure the sharing and synchronization of these Service Data between ASs,
  * additional transfer mechanism such as base64 encoding.
Two optional formats are defined for the structure and the coding of the MMTEL
Service Data:
  * A XML format supporting the Service Data for the complete MMTEL Services.
  * A binary format supporting the Service Data for the subset of MMTEL Services corresponding to the PSTN/ISDN and CS supplementary services.
An XML format is defined for the structure and the coding of the IMS CAMEL
Subscription Data.
# 5 Architecture
Figure 5-1 presents the functional architecture for AS interoperability.
Figure 5-1: Functional architecture for AS interoperability
{width="6.499305555555556in" height="2.301388888888889in"}
The MMTEL communications of a given user equipment are routed to an AS
according to the content of the filter criteria.
If AS interoperability is supported, the Service Data attached to a user shall
be stored in the HSS and the AS shall access and update, when required, the
Service Data via the Sh interface.
The user may configure some of its Service Data via the Ut interface, via SIP
based user configuration as described in 3GPP TS 24.238 [18], or via other
means.
Some Service Data is configured by the service provider e.g. from its OSS,
either directly into the HSS or via an AS that will store these Service Data
in the HSS.
The AS associated to a given user for MMTEL services may vary over time.
The same format of the Service Data stored in the HSS shall be supported for
interoperability between ASs utilising the Service Data.
# 6 Specification with the binary option
## 6.1 MMTEL service sontent with the binary option
### 6.1.1 List of IMS Multimedia Telephony supplementary services
This list of MMTEL services refers to the list identified in 3GPP TS 22.173
[1] and mentions the associated 3GPP Technical Specifications:
Originating Identification Presentation (OIP) 3GPP TS 24.607 [5]
Originating Identification Restriction (OIR) 3GPP TS 24.607 [5]
Terminating Identification Presentation (TIP) 3GPP TS 24.608 [6]
Terminating Identification Restriction (TIR) 3GPP TS 24.608 [6]
Malicious Communication IDentification (MCID) 3GPP TS 24.616 [10]
Anonymous Communication Rejection (ACR) 3GPP TS 24.611 [8]
Communication DIVersion (CDIV) 3GPP TS 24.604 [2]
Communication Waiting (CW) 3GPP TS 24.615 [9]
Communication HOLD (HOLD) 3GPP TS 24.610 [7]
Communication Barring (CB) 3GPP TS 24.611 [8]
Completion of Communications to Busy Subscriber (CCBS) 3GPP TS 24.642 [12]
Completion of Communications on No Reply (CCNR) 3GPP TS 24.642 [12]
Message Waiting Indication (MWI) 3GPP TS 24.606 [4]
CONFerence (CONF) 3GPP TS 24.605 [3]
Advice Of Charge (AOC) 3GPP TS 24.647 [13]
Explicit Communication Transfer (ECT) 3GPP TS 24.629 [11]
Reverse charging
Closed User Group (CUG) 3GPP TS 24.654 [14]
Three-Party (3PTY) 3GPP TS 24.605 [5]
Flexible Alerting (FA) 3GPP TS 24.239 [15]
Customized Alerting Tones (CAT) 3GPP TS 24.182 [21]
This list is taken as the reference to address the services and their content
that the binary option shall support.
### 6.1.2 Subset of MMTEL services matching PSTN/ISDN and CS supplementary
services
The binary option shall support the subset of MMTEL services matching
PSTN/ISDN and CS supplementary services.
The following subclauses indicate:
  * for each MMTEL Service how it matches the corresponding PSTN/ISDN and CS supplementary service,
  * the relevant information elements of the service as defined in 3GPP TS 22.173 [1] and 3GPP TS 24.6xxx series and that shall be coded in the Service Data.
#### 6.1.2.1 Originating Identification Presentation (OIP)
OIP is described in 3GPP TS 24.607 [5] and matches the corresponding PSTN/ISDN
and CS supplementary service.
  * Information elements
    * Service Authorized
    * Service Activated
    * Override Capability.
#### 6.1.2.2 Originating Identification Restriction (OIR)
OIR is described in 3GPP TS 24.607 [5] and matches the corresponding PSTN/ISDN
and CS supplementary service.
  * Information elements
    * Service Authorized
    * Service Activated
    * Mode: permanent mode; temporary mode
    * Temporary mode default: presentation restricted; presentation not restricted
    * Restriction: restrict the asserted identity; restrict all private information appearing in headers.
#### 6.1.2.3 Terminating Identification Presentation (TIP)
TIP is described in 3GPP TS 24.608 [6] and matches the corresponding PSTN/ISDN
and CS supplementary service.
  * Information elements
    * Service Authorized
    * Service Activated
    * Override Capability.
#### 6.1.2.4 Terminating Identification Restriction (TIR)
TIR is described in 3GPP TS 24.608 [6] and matches the corresponding PSTN/ISDN
and CS supplementary service.
  * Information elements
    * Service Authorized
    * Service Activated
    * Mode: permanent mode; temporary mode
    * Temporary mode default: presentation restricted; presentation not restricted.
#### 6.1.2.5 Malicious Communication IDentification (MCID)
MCID is described in 3GPP TS 24.616 [10] and matches the corresponding
PSTN/ISDN and CS supplementary service.
  * Information elements
    * Service Authorized
    * Service Activated
    * Mode: permanent mode; temporary mode.
#### 6.1.2.6 Anonymous Communication Rejection (ACR)
ACR is described in 3GPP TS 24.611 [8] and matches the corresponding PSTN/ISDN
and CS supplementary service.
ACR is identified as a supplementary service in 3GPP TS 22.173 [1]. Its stage
3 specification is a special case of the incoming Communication Barring (ICB)
service (c.f. subclause 4.2.1 of 3GPP TS 24.611 [8]).
  * Information elements
    * Service Authorized
    * Service Activated
#### 6.1.2.7 Communication DIVersion (CDIV)
CDIV is described in 3GPP TS 24.604 [2]
Subclause 8.2.7.1 in 3GPP TS 22.173 [1] defines the following Communication
DIVersion services:
  * Communication Forwarding Unconditional (CFU)
  * Communication Forwarding Busy (CFB)
  * Communication Forwarding No Reply (CFNR)
  * Communication Forwarding on Not Logged in (CFNL)
  * Communication Deflection (CD)
  * Communication Forwarding on Subscriber Not Reachable (CFNRc)
The service content matching PSTN/ISDN and CS supplementary services and
supported by the binary option is hereafter described for each of the CDIV
services.
##### 6.1.2.7.1 Subscription options for CDIV services
3GPP TS 24.604 [2] Table 4.3.1.1 describes the following subscription options:
Table 6.1.2.7.1-1: Subscription options for CDIV services
+-------------------------+-------------------------+---------------+ | Subscription options | Value | Applicability | +-------------------------+-------------------------+---------------+ | _Served user_ receives | No (default)\ | CFU\ | | indication that a | _ | CFB\ | | communication has been | ___________\ | CFNR | | forwarded (indication | ____________ | | | of communication | | CFNRc | | diversion to the | Yes | | | diverting user). | | | +-------------------------+-------------------------+---------------+ |_Originating_ user | No\ | CFU\ | | receives notification | _ | CFB\ | | that his communication | ___________\ | CFNR | | has been diverted | ____________ | | | (forwarded or | | CFNRc\ | | deflected). | Yes (default) | CFNL\ | | | | CD | +-------------------------+-------------------------+---------------+ | Served user allows the | No\ | CFU\ | | presentation of | _ | CFB\ | | diverted to URI to | ___________\ | CFNR | | _originating_ user in | ____________ | | | diversion notification. | | CFNRc\ | | | Not reveal as GRUU\ | CFNL\ | | | _ | CD | | | ___________\ | | | |_ ___________ | | | | | | | | Yes (default) | | +-------------------------+-------------------------+---------------+ | Served user receives | No (default)\ | CFU\ | | reminder indication on | _ | CFB\ | | outgoing communication | ___________\ | CFNR | | that CDIV is currently | ____________ | | | activated. | | CFNRc\ | | | Yes | CFNL | +-------------------------+-------------------------+---------------+ | Served user allows the | No\ | CFU\ | | presentation of his/her | _ | CFB\ | | URI to _diverted‑to_ | ___________\ | CFNR | | user. | ____________ | | | | | CFNRc\ | | | Not reveal as GRUU\ | CFNL\ | | | _ | CD | | | ___________\ | | | | ____________ | | | | | | | | Yes (default) | | +-------------------------+-------------------------+---------------+ | Served user allows the | No\ | CFU\ | | presentation of his/her | _ | CFB\ | | URI to _originating_ | ___________\ | CFNR | | user in diversion | ____________ | | | notification. | | CFNRc\ | | | Not reveal as GRUU\ | CFNL\ | | | _ | CD | | | ___________\ | | | | ____________ | | | | | | | | Yes (default) | | +-------------------------+-------------------------+---------------+
PSTN/ISDN and CS Call forwarding services have similar subscription options.
##### 6.1.2.7.2 Communication Forwarding Unconditional (CFU)
CFU fulfils the corresponding PSTN/ISDN and CS supplementary service, taking
into account that the communication diversion rule conditions described in
3GPP TS 24.604 [2] subclause 4.9.1.3 shall not be used.
  * Information elements
    * Service Authorized
    * Service Activated
    * Diverted-to destination
    * Subscription options for CFU.
##### 6.1.2.7.3 Communication Forwarding Busy (CFB)
To fulfil the corresponding PSTN/ISDN and CS supplementary service, only the
busy condition among the communication diversion rule conditions described in
3GPP TS 24.604 [2] subclause 4.9.1.3 is used.
  * Information elements
    * Service Authorized
    * Service Activated
    * Diverted-to destination: A SIP URI or a TEL URI
    * Subscription options for CFB.
##### 6.1.2.7.4 Communication Forwarding No Reply (CFNR)
To fulfil the corresponding PSTN/ISDN and CS supplementary service, only the
no-answer condition among the communication diversion rule conditions
described in 3GPP TS 24.604 [2] subclause 4.9.1.3 is used.
  * Information elements
    * Service Authorized
    * Service Activated
    * Diverted-to destination: A SIP URI or a TEL URI
    * Subscription options for CFNR.
    * Communication forwarding on no reply timer : Timer duration is a network provider option.
##### 6.1.2.7.5 Communication Forwarding on Not Logged in (CFNL)
To fulfil the corresponding CS supplementary service, only the not-registered
condition among the communication diversion rule conditions described in 3GPP
TS 24.604 [2] subclause 4.9.1.3 is used.
  * Information elements
    * Service Authorized
    * Service Activated
    * Diverted-to destination: A SIP URI or a TEL URI
    * Subscription options for CFNL.
##### 6.1.2.7.6 Communication Deflection (CD)
CD matches the corresponding PSTN/ISDN supplementary service.
  * Information elements
    * Service Authorized
    * Service Activated
    * Subscription options for CD.
##### 6.1.2.7.7 Communication Forwarding on Subscriber Not Reachable (CFNRc)
To fulfil the corresponding CS supplementary service, only the not-reachable
condition among the communication diversion rule conditions described in 3GPP
TS 24.604 [2] subclause 4.9.1.3 is used.
  * Information elements
    * Service Authorized
    * Service Activated
    * Diverted-to destination: A SIP URI or a TEL URI.
    * Subscription options for CFNRc.
##### 6.1.2.7.8 Void
##### 6.1.2.7.9 Network provider options for CDIV services
The network provider options for CDIV services supported with the binary
option are those described in 3GPP TS 24.604 [2] Table 4.3.1.2.
#### 6.1.2.8 Communication Waiting (CW)
CW is described in 3GPP TS 24.615 [9] and matches the corresponding PSTN/ISDN
and CS supplementary service.
  * Information elements
    * Service Authorized
    * Service Activated
    * Subscription _option: Served user_ subscribes to "calling user receives notification that his call is waiting\".
#### 6.1.2.9 Communication HOLD (HOLD)
HOLD is described in 3GPP TS 24.610 [7] and matches the corresponding
PSTN/ISDN and CS supplementary service.
  * Information elements
    * Service Authorized
    * Service Activated.
#### 6.1.2.10 Communication Barring (CB)
CB is described in 3GPP TS 24.611 [8] and comprises 2 services: Incoming
Communication Barring (ICB) and Outgoing Communication Barring (OCB).
CB partially matches the corresponding PSTN/ISDN and CS Call Barring
supplementary service. As no one of the communication diversion rule
conditions described in 3GPP TS 24.611 [8] subclause 4.9.1.4 applies to the
corresponding PSTN/ISDN and CS Call Barring service, ICB applies to all
incoming communications and OCB applies to all outgoing communications.
  * Information elements for ICB
    * Service Authorized
    * Service Activated.
  * Information elements for OCB
    * Service Authorized
    * Service Activated.
#### 6.1.2.11 Completion of Communications to Busy Subscriber (CCBS)
CCBS is described in 3GPP TS 24.642 [12] and matches the corresponding
PSTN/ISDN and CS supplementary service.
  * Information elements
    * Service Authorized
    * Service Activated.
#### 6.1.2.12 Completion of Communications on No Reply (CCNR)
CCNR is described in 3GPP TS 24.642 [12] and matches the corresponding
PSTN/ISDN and CS supplementary service.
  * Information elements
    * Service Authorized
    * Service Activated.
#### 6.1.2.13 Message Waiting Indication (MWI)
MWI is described in 3GPP TS 24.606 [4] and matches the corresponding PSTN/ISDN
and CS supplementary service.
  * Information elements
    * Service Authorized
    * Service Activated.
#### 6.1.2.14 CONFerence (CONF)
CONF is described in 3GPP TS 24.605 [3] and matches the corresponding
PSTN/ISDN and CS supplementary service.
  * Information elements
    * Service Authorized
    * Service Activated.
#### 6.1.2.15 Advice Of Charge (AOC)
AOC is described in 3GPP TS 32.280 [22] and in 3GPP TS 24.647 [13] .
Itcomprises 3 services AOC-S, AOC-D, AOC-E.
AOC matches the corresponding PSTN/ISDN and CS service.
  * Information elements
    * Service Authorized (for each service AOC-S, AOC-D, AOC-E)
    * Service Activated (for each service AOC-S, AOC-D, AOC-E).
> \- AOC service type: as described in 3GPP TS 32.280 [22]
  * AOC service obligatory type: as described in 3GPP TS 32.280 [22]
  * Preferred AOC currency: as described in 3GPP TS 32.280 [22]
  * AOC format: as described in 3GPP TS 32.280 [22]
#### 6.1.2.16 Explicit Communication Transfer (ECT)
ECT is described in 3GPP TS 24.629 [11] and matches the corresponding
PSTN/ISDN and CS supplementary service.
  * Information elements
    * Service Authorized
    * Service Activated.
#### 6.1.2.17 Reverse Charging
Reverse charging for the binary option is not supported in this release.
#### 6.1.2.18 Closed User Group (CUG)
CUG is described in 3GPP TS 24.654 [14].
CUG for the binary option is not supported in this release.
#### 6.1.2.19 Three-Party (3PTY)
3PTY is described in 3GPP TS 24.605 [3] as a particular case of CONF service
and matches the corresponding PSTN/ISDN and CS supplementary service.
#### 6.1.2.20 Flexible Alerting (FA)
FA is described in 3GPP TS 24.239 [15].
  * Information elements for the FA Pilot of a FA group
\- Service Authorized
\- Service Activated.
\- Single user, Multiple users: as described in 3GPP TS 24.239 [15]
\- Pilot/Member status: states if the FA Pilot identity is also a FA Member
identity
\- Membership: Demand or Permanent as described in 3GPP TS 24.239 [15]
\- List of FA Members identities
  * Information elements for the FA member
\- Service Authorized
\- List of FA groups to which the FA member belongs to
\- FA Member status: Active / Inactive on a per FA group basis
\- Default FA groups for the FA member
#### 6.1.2.21 Customized Alerting Tones (CAT)
CAT is described in 3GPP TS 24.182 [21] and matches the corresponding CS
supplementary service.
  * Information elements
\- Service Authorized
\- Service Activated.
## 6.2 Datasets and Service Indications
### 6.2.1 Introduction
The subclause 6.2 specifies the binary description of the service data of the
subset of MMTEL service to be stored on the HSS and corresponding to the
PSTN/ISDN and CS supplementary services. Care has been taken to define rules
for extendibility, backward compatibility and compactness, since future data
structures can evolve from this definition.
The Service Data contained in the Repository Data of one Service Indication
may be a complete service suite definition, or can be viewed as a portion of a
service definition. The remaining portion of a service definition may be
comprised of elements specific to a subsequent part of the standardised
service or a later addition of elements due to new functionalities of a
service in a new release, or proprietary extensions.
To ensure these possibilities, Service Data for the binary option are grouped
in a certain number of binary datasets hereafter presented.
### 6.2.2 Datasets
The structure of datasets described in subclause 6.3.2 allows to define
different types of datasets. In this release, the following datasets are
defined:
  * the MMTELPSTN-ISDN-CS dataset containing parameters associated to the subset of MMTEL services matching the PSTN/ISDN and CS supplementary services.
  * the AOC dataset containing parameters for the AOC service,
  * the FA pilot dataset containing parameters of the FA pilot in the FA service,
  * the FA member dataset containing parameters of the FA member in the FA service.
Additional services (e.g. new MMTEL services or proprietary MMTEL services)
may be defined using new datasets.
### 6.2.3 Service Indications
Dedicated Service Indications shall be used within the binary option for the
subset of MMTEL services corresponding to the PSTN/ISDN and CS supplementary
services.
The Service indication with the value \"MMTEL-PSTN-ISDN-CS-BINARY\" shall have
a Service Data field containing:
  * the MMTEL-PSTN-ISDN-CS dataset.
  * the AOC dataset when the AOC service is configured for the user.
The Service indication with the value \"MMTEL-EXTENSION-BINARY-1\" shall be
used when the FA service is configured for a user and shall have a Service
Data field containing the FA dataset.
New Service Indications can be introduced in the future and associated to new
types of datasets.
Proprietary extensions shall use not standardized Service Indications. There
is no constraint for the data structure of the proprietary Service Data.
Nevertheless, the concept of dataset can be used with a proprietary content.
## 6.3 Binary coding general
### 6.3.1 Introduction
The subclause6.3 gives the general specifications to describe the MMTEL
Service data in a binary coding.
### 6.3.2 Dataset layout
The datasets are defined with a compact structure. The compact structure shall
consist:
  * of a tag-length-value format: this includes a defined 'dataset identifier' and 'length',
  * followed by a fixed format structure, wherein defined bits, bytes, 4byte tuples represent known or reserved information elements of a MMTEL service,
  * finally, to accommodate length variation of some data (e.g. SIP-URI), it accommodates a variable length section.
A dataset shall be 4-byte aligned.
Within a dataset structure, different common data forms are defined. These
include some fairly standard terms and rules, derived from common practice for
32-bit processors:
> Byte == octet
>
> Long == 4 bytes (signed and unsigned)
>
> Short == 2 bytes (signed, unsigned)
Data alignment is such that the size of the data set shall be a 4-byte
multiple and be achieved with a padding feature at the end of the dataset.
Bit fields take up only the number of bits they say they do. Alignment of bit
fields is not across a 4-byte boundary.
### 6.3.3 Order
Network byte ordering means most significant byte first.
Bit field order: Most significant bit first.
### 6.3.4 Character representation
Character representation uses UTF-8 representation.
String representations should be displayable.
### 6.3.5 Byte representation
Byte structures can be variable in length. They use the tag-length value
approach, wherein the length defines the end of a variable length byte
definition.
Variable byte structures interpreted as strings should not contain the null
character.
If no variable length data were defined, then a dataset would have fixed
length.
When there are variable length data, the dataset length will not remain
constant from subscriber to subscriber, as each may have different variable
length parameters.
### 6.3.6 Variable size data
Some data must remain flexibly defined regarding their length. Main example is
strings, such as URIs, digit-strings, IMPUs.
The fixed format part of the dataset contains the information that is used
when identifying variable length data described in the dataset. This
information comprises:
  * variable_data_offset (unsigned short ): byte offset from the dataset start
  * variable_data_length (unsigned short ): number of bytes.
The variable_data_offset is the offset (in bytes) from the beginning of
dataset to the beginning of a variable data. The variable_data_length
determines the end of the variable data. A variable_data_offset of 0 indicates
a non-provided sequence.
A specific dataset does not have a specific size, although it will at least
have a minimum size (the size if no variable data are defined at all).
The offset plus the length information shall verify:
> i. offset >= fixed size of the fixed part of the dataset (unless offset ==
> 0), and
>
> ii. offset+length \
> iii. there is no overlap between variable data.
### 6.3.7 Variable length data constraints
The following complements the usage of the pointer references (offset and
length):
a) The order of variable data values in the variable section of the dataset
shall match the order of the offset + length elements in the fixed section of
the dataset. Offsets to data shall have increasing values in the order the
offsets are encountered in the fixed portion of the dataset.
b) When the size of a variable length data field increases, the entire
variable length section of the dataset must be realigned.
c) When there is no variable data associated to an offset data, the length
shall be 0, and the offset shall have a value equal to the value of the next
offset encountered in the fixed portion of the dataset.
d) If the same data value appears more than once in a given dataset, it shall
not be implemented as two pointers to the same value.
e) Holes should not occur between variable data values.
If they do, then the AS is not responsible for maintaining the information in
these holes and alternate ASs may remove them in subsequent write actions.
f) Space after the last variable data value is not significant, and may not be
retained.
An example of a dataset with variable length data is given for information in
Annex A.
## 6.4 Binary coding of datasets
### 6.4.1 Dataset Header
Each dataset shall start with a Dataset Header.
  * DATASET_HEADER
Table 6.4.1-1: Dataset Header
+---+-----------------------------------------------------------------+ | | 3\|3\|2\|2\|2\|2\|2\|2\|2\|2\|2 | | | \|2\|1\|1\|1\|1\|1\|1\|1\|1\|1\|1\|0\|0\|0\|0\|0\|0\|0\|0\|0\|0 | | | | | | 1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1 | | | \|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0 | +---+-----------------------------------------------------------------+ | | dataset_identifier \| dataset_length | | | | | | \| | +---+-----------------------------------------------------------------+
  * dataset_identifier
It differentiates the data sets contained in the Service Data of the same
Service Indication. It identifies the data structure of the dataset.
  * dataset_length
Length in bytes of the dataset including the DATASET_HEADER.
### 6.4.2 MMTEL-PSTN-ISDN-CS Dataset
#### 6.4.2.1 MMTEL-PSTN-ISDN-CS Dataset content
Table 6.4.2.1-1: MMTEL-PSTN-ISDN-CS Dataset fields
+--------------+------------------------------------------------------+ | 4-byte tuple | 3\|3\|2\|2\|2\|2\|2\|2\|2\|2\|2\|2\|1\|1\| | | | 1\|1\|1\|1\|1\|1\|1\|1\|0\|0\|0\|0\|0\|0\|0\|0\|0\|0 | | | | | | 1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0\|9\|8\| | | | 7\|6\|5\|4\|3\|2\|1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0 | +--------------+------------------------------------------------------+ | 0 | DATASET_HEADER | +--------------+------------------------------------------------------+ | 4 | | +--------------+------------------------------------------------------+ | 8 | service_authorisation | +--------------+------------------------------------------------------+ | 12 | | +--------------+------------------------------------------------------+ | 16 | service_activation | +--------------+------------------------------------------------------+ | 20 | | +--------------+------------------------------------------------------+ | 24 | RESERVED | +--------------+------------------------------------------------------+ | 28 | identity_services_param | +--------------+------------------------------------------------------+ | 32 | | +--------------+------------------------------------------------------+ | 36 | CFU_param | +--------------+------------------------------------------------------+ | 40 | | +--------------+------------------------------------------------------+ | 44 | CFB_param | +--------------+------------------------------------------------------+ | 48 | | +--------------+------------------------------------------------------+ | 52 | CFNR_param | +--------------+------------------------------------------------------+ | 56 | | +--------------+------------------------------------------------------+ | 60 | CFNRc_param | +--------------+------------------------------------------------------+ | 64 | | +--------------+------------------------------------------------------+ | 68 | CFNL_param | +--------------+------------------------------------------------------+ | 72 | | +--------------+------------------------------------------------------+ | 76 | CD_param | +--------------+------------------------------------------------------+ | 80 | | +--------------+------------------------------------------------------+ | 84 | CDIV_network_provider_options | +--------------+------------------------------------------------------+ | 88 | CW_param | +--------------+------------------------------------------------------+ | 92 | | +--------------+------------------------------------------------------+ | 96 | ICB_param | +--------------+------------------------------------------------------+ | 100 | | +--------------+------------------------------------------------------+ | 104 | 0CB_param | +--------------+------------------------------------------------------+ | 108 | | +--------------+------------------------------------------------------+ | 112 | RESERVED | +--------------+------------------------------------------------------+ | 116 | | +--------------+------------------------------------------------------+ | 120 | RESERVED | +--------------+------------------------------------------------------+ | 124 | | +--------------+------------------------------------------------------+ | | Data with variable length | +--------------+------------------------------------------------------+ | n | | +--------------+------------------------------------------------------+
NOTE: ACR, HOLD, CCBS, CCNR, MWI, CONF, AOC, ECT, CAT have no parameter field.
#### 6.4.2.2 Dataset Header
  * dataset_identifier
The value of dataset_identifier of the MMTEL-PSTN-ISDN-CS Dataset is 1.
#### 6.4.2.3 service_authorisation
Bit field that can support up to 64 services. A bit is associated to a MMTEL
Service and indicates if:
  * it is authorized: bit value 1,
  * or not: bit value 0.
> Bit-0 Reserved
>
> Bit-1 OIP
>
> Bit-2 OIR
>
> Bit-3 TIP
>
> Bit-4 TIR
>
> Bit-5 MCID
>
> Bit-6 ACR
>
> Bit-7 CFU
>
> Bit-8 CFB
>
> Bit-9 CFNR
>
> Bit-10 CFNRc
>
> Bit-11 CFNL
>
> Bit-12 CD
>
> Bit-13 Reserved
>
> Bit-14 CW
>
> Bit-15 HOLD
>
> Bit-16 Incoming CB
>
> Bit-17 Outgoing CB
>
> Bit-18 CCBS
>
> Bit-19 CCNR
>
> Bit-20 MWI
>
> Bit-21 CONF
>
> Bit-22 AOC-S
>
> Bit-23 AOC-D
>
> Bit-24 AOC-E
>
> Bit-25 Reserved
>
> Bit-26 Reserved
>
> Bit-27 ECT
>
> Bit-28 CAT
>
> Bit-29 FA
#### 6.4.2.4 service_activation
Bit field that can support up to 64 services. A bit is associated to a MMTEL
Service and indicates if the MMTEL service is activated. Indexation is the
same as for service_authorization.
#### 6.4.2.5 identity_services_param
Table 6.4.2.5-1: identity_services_param fields
+--------------+------------------------------------------------------+ | 4-byte tuple | > 3\|3\|2\|2\|2\|2\|2\|2\|2\|2\|2\|2\|1\|1\| | | | 1\|1\|1\|1\|1\|1\|1\|1\|0\|0\|0\|0\|0\|0\|0\|0\|0\|0 | | | > | | | > 1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0\|9\|8\| | | | 7\|6\|5\|4\|3\|2\|1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0 | +--------------+------------------------------------------------------+ | 28 | > (a)\|(b)\|(c)\|(d)\|(e)\|(f)\|(g)\|(h)\|(i)\| | | | > RESERVED | | | > | | | > \| \| \| \| \| \| \| \| \| | +--------------+------------------------------------------------------+
Table 6.4.2.5-2: identity_services_param values
+-------+----------------+----------------+--------------+--------+ | Field | Identity | Value | Binary value | | | | services | | | | | | Parameters | | | | +-------+----------------+----------------+--------------+--------+ | _(a)_ | OIR mode | Permanent | Bit 31 | Bit 30 | | | | mode\ | | | | | | Temporary mode | 0 | 0 | | | | | | | | | | | 0 | 1 | +-------+----------------+----------------+--------------+--------+ | _(b)_ | OIR Temporary | Presentation | Bit 29 | Bit 28 | | | Mode Default | restricted\ | | | | | | Presentation | 0 | 0 | | | | not restricted | | | | | | | 0 | 1 | +-------+----------------+----------------+--------------+--------+ | _(c)_ | OIR | Restrict the | Bit 27 | Bit 26 | | | restriction | asserted | | | | | | identity\ | 0 | 0 | | | | Restrict all | | | | | | private | 0 | 1 | | | | information | | | | | | appearing in | | | | | | headers | | | +-------+----------------+----------------+--------------+--------+ | _(d)_ | OIP Override | No\ | Bit 25 | Bit 24 | | | capability | Yes | | | | | | | 0 | 0 | | | | | | | | | | | 0 | 1 | +-------+----------------+----------------+--------------+--------+ | _(e)_ | TIR Mode | Permanent | Bit 23 | Bit 22 | | | | mode\ | | | | | | Temporary mode | 0 | 0 | | | | | | | | | | | 0 | 1 | +-------+----------------+----------------+--------------+--------+ | _(f)_ | TIR Temp Mode | Presentation | Bit 21 | Bit 20 | | | Default | restricted\ | | | | | | Presentation | 0 | 0 | | | | not restricted | | | | | | | 0 | 1 | +-------+----------------+----------------+--------------+--------+ | _(g)_ | TIP Override | No\ | Bit 19 | Bit 18 | | | capability | Yes | | | | | | | 0 | 0 | | | | | | | | | | | 0 | 1 | +-------+----------------+----------------+--------------+--------+ | _(h)_ | Reserved | | | | +-------+----------------+----------------+--------------+--------+ | _(i)_ | MCID Mode | Permanent\ | Bit 15 | Bit 14 | | | | Temporary | | | | | | | 0 | 0 | | | | | | | | | | | 0 | 1 | +-------+----------------+----------------+--------------+--------+
#### 6.4.2.6 CFU_param
Table 6.4.2.6-1: CFU_param fields
+--------------+------------------------------------------------------+ | 4-byte tuple | 3\|3\|2\|2\|2\|2\|2\|2\|2\|2\|2\|2\|1\|1\| | | | 1\|1\|1\|1\|1\|1\|1\|1\|0\|0\|0\|0\|0\|0\|0\|0\|0\|0 | | | | | | 1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0\|9\|8\| | | | 7\|6\|5\|4\|3\|2\|1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0 | +--------------+------------------------------------------------------+ | 32 | RESERVED \|CFU_subscription_options | | | | | | \|(a)\|(b)\|(c)\|(d)\|(e)\|(f)\|(g)\|(h) | +--------------+------------------------------------------------------+ | 36 | CFU_divertedto_destination_ | | | \|CFU_divertedto_destination_ | | | | | | Offset \|Length | +--------------+------------------------------------------------------+
  * CFU_divertedto_destination_offset is the pointer to CFU diverted-to destination in the variable part of the MMTEL-PSTN-ISDN-CS Dataset.
  * CFU_subscription_options: described in subclause 6.4.2.12.
#### 6.4.2.7 CFB_param
Table 6.4.2.7-1: CFB_param fields
+--------------+------------------------------------------------------+ | 4-byte tuple | > 3\|3\|2\|2\|2\|2\|2\|2\|2\|2\|2\|2\|1\|1\| | | | 1\|1\|1\|1\|1\|1\|1\|1\|0\|0\|0\|0\|0\|0\|0\|0\|0\|0 | | | > | | | > 1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0\|9\|8\| | | | 7\|6\|5\|4\|3\|2\|1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0 | +--------------+------------------------------------------------------+ | 40 | > RESERVED \|CFB_subscription_options | | | > | | | > \|(a)\|(b)\|(c)\|(d)\|(e)\|(f)\|(g)\|(h) | +--------------+------------------------------------------------------+ | 44 | > CFB_divertedto_destination_ | | | > \|CFB_divertedto_destination_ | | | > | | | > Offset \|Length | +--------------+------------------------------------------------------+
  * CFB_divertedto_destination_offset is the pointer to CFB diverted-to destination in the variable part of the MMTEL-PSTN-ISDN-CS Dataset.
  * CFB_subscription_options: described in subclause 6.4.2.12.
#### 6.4.2.8 CFNR_param
Table 6.4.2.8-1: CFNR_param fields
+--------------+------------------------------------------------------+ | 4-byte tuple | 3\|3\|2\|2\|2\|2\|2\|2\|2\|2\|2\|2\|1\|1\| | | | 1\|1\|1\|1\|1\|1\|1\|1\|0\|0\|0\|0\|0\|0\|0\|0\|0\|0 | | | | | | 1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0\|9\|8\| | | | 7\|6\|5\|4\|3\|2\|1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0 | +--------------+------------------------------------------------------+ | 48 | no_reply_timer \|CFNR_subscription_options | | | | | | \|(a)\|(b)\|(c)\|(d)\|(e)\|(f)\|(g)\|(h) | +--------------+------------------------------------------------------+ | 52 | CFNR_divertedto_destination_ | | | \|CFNR_divertedto_destination_ | | | | | | Offset \|Length | +--------------+------------------------------------------------------+
  * CFNR_divertedto_destination_offset is the pointer to CFNR diverted-to destination in the variable part of the MMTEL-PSTN-ISDN-CS Dataset.
  * CFNR_subscription_options: described in subclause 6.4.2.12.
  * no_reply_timer is an integer with values between 0 and 180 seconds for communication forwarding on no reply timer.
#### 6.4.2.9 CFNRc_param
Table 6.4.2.9-1: CFNRc_param fields
+--------------+------------------------------------------------------+ | 4-byte tuple | 3\|3\|2\|2\|2\|2\|2\|2\|2\|2\|2\|2\|1\|1\| | | | 1\|1\|1\|1\|1\|1\|1\|1\|0\|0\|0\|0\|0\|0\|0\|0\|0\|0 | | | | | | 1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0\|9\|8\| | | | 7\|6\|5\|4\|3\|2\|1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0 | +--------------+------------------------------------------------------+ | 56 | RESERVED \|CFNRc_subscription_options | | | | | | \|(a)\|(b)\|(c)\|(d)\|(e)\|(f)\|(g)\|(h) | +--------------+------------------------------------------------------+ | 60 | CFNRc_divertedto_destination_ | | | \|CFNRc_divertedto_destination_ | | | | | | Offset \|Length | +--------------+------------------------------------------------------+
  * CFNRc_divertedto_destination_offset is the pointer to CFNRc diverted-to destination in the variable part of the MMTEL-PSTN-ISDN-CS Dataset.
  * CFNRc_subscription_options: described in subclause 6.4.2.12.
#### 6.4.2.10 CFNL_param
Table 6.4.2.10-1: CFNL_param fields
+--------------+------------------------------------------------------+ | 4-byte tuple | 3\|3\|2\|2\|2\|2\|2\|2\|2\|2\|2\|2\|1\|1\| | | | 1\|1\|1\|1\|1\|1\|1\|1\|0\|0\|0\|0\|0\|0\|0\|0\|0\|0 | | | | | | 1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0\|9\|8\| | | | 7\|6\|5\|4\|3\|2\|1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0 | +--------------+------------------------------------------------------+ | 64 | RESERVED \|CFNL_subscription_options | | | | | | \|(a)\|(b)\|(c)\|(d)\|(e)\|(f)\|(g)\|(h) | +--------------+------------------------------------------------------+ | 68 | CFNL_divertedto_destination_ | | | \|CFNL_divertedto_destination_ | | | | | | Offset \|Length | +--------------+------------------------------------------------------+
  * CFNL_divertedto_destination_offset is the pointer to CFNL diverted-to destination in the variable part of the MMTEL-PSTN-ISDN-CS Dataset.
  * CFNL_subscription_options: described in subclause 6.4.2.12.
#### 6.4.2.11 CD_param
Table 6.4.2.11-1: CD_param fields
+--------------+------------------------------------------------------+ | 4-byte tuple | 3\|3\|2\|2\|2\|2\|2\|2\|2\|2\|2\|2\|1\|1\| | | | 1\|1\|1\|1\|1\|1\|1\|1\|0\|0\|0\|0\|0\|0\|0\|0\|0\|0 | | | | | | 1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0\|9\|8\| | | | 7\|6\|5\|4\|3\|2\|1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0 | +--------------+------------------------------------------------------+ | 72 | RESERVED \|CD_subscription_options | | | | | | \|(a)\|(b)\|(c)\|(d)\|(e)\|(f)\|(g)\|(h) | +--------------+------------------------------------------------------+ | 76 | RESERVED \| RESERVED | | | | | | \| | +--------------+------------------------------------------------------+
  * CD_subscription_options: described in subclause 6.4.2.12.
#### 6.4.2.12 Subscription options of CDIV Services
CFU_subscription_options, CFB_subscription_options, CFNR_subscription_options,
CFNRc_subscription_options, CFNL_subscription_options, CD_subscription_options
use the same format with bit fields according to the following tables:
Table 6.4.2.12-1: CDIV Subscription options bit field
+------------------------------------------------+ | 1\|1\|1\|1\|1\|1\|0\|0\|0\|0\|0\|0\|0\|0\|0\|0 | | | | 5\|4\|3\|2\|1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0 | +------------------------------------------------+ | \| \| \| \| \| \| \| | | | | (a)\|(b)\|(c)\|(d)\|(e)\|(f)\|(g)\|(h) | +------------------------------------------------+
Table 6.4.2.12-2: CDIV Subscription options binary values
+-------+-----------+-----------+-----------+-----------+--------+ | Field | Sub | Value | Binary | Appl | | | | scription | | value | icability | | | | options | | | | | +-------+-----------+-----------+-----------+-----------+--------+ | _(a)_ | _Served | No\ | Bit 15 | Bit 14 | CFU\ | | | user_ | Yes | | | CFB\ | | | receives | | 0 | 0 | CFNR | | | i | | | | | | | ndication | | 0 | 1 | CFNRc | | | that a | | | | | | | comm | | | | | | | unication | | | | | | | has been | | | | | | | forwarded | | | | | +-------+-----------+-----------+-----------+-----------+--------+ | _(b)_ | _Ori | No\ | Bit 13 | Bit 12 | CFU\ | | | ginating_ | Yes | | | CFB\ | | | user | | 0 | 0 | CFNR | | | receives | | | | | | | not | | 0 | 1 | CFNRc\ | | | ification | | | | CFNL\ | | | that his | | | | CD | | | comm | | | | | | | unication | | | | | | | has been | | | | | | | diverted | | | | | | | ( | | | | | | | forwarded | | | | | | | or | | | | | | | de | | | | | | | flected). | | | | | +-------+-----------+-----------+-----------+-----------+--------+ | _(c)_ | Served | No\ | Bit 11 | Bit 10 | CFU\ | | | user | Not | | | CFB\ | | | allows | reveal as | 0 | 0 | CFNR | | | the | GRUU\ | | | | | | pre | Yes | 1 | 0 | CFNRc\ | | | sentation | | | | CFNL\ | | | of | | 0 | 1 | CD | | | diverted | | | | | | | to URI to | | | | | | | _ori | | | | | | | ginating_ | | | | | | | user in | | | | | | | diversion | | | | | | | noti | | | | | | | fication. | | | | | +-------+-----------+-----------+-----------+-----------+--------+ | _(d)_ | Served | No\ | Bit 9 | Bit 8 | CFU\ | | | user | Yes | | | CFB\ | | | receives | | 0 | 0 | CFNR | | | reminder | | | | | | | i | | 0 | 1 | CFNRc\ | | | ndication | | | | CFNL | | | on | | | | | | | outgoing | | | | | | | comm | | | | | | | unication | | | | | | | that CDIV | | | | | | | is | | | | | | | currently | | | | | | | a | | | | | | | ctivated. | | | | | +-------+-----------+-----------+-----------+-----------+--------+ | _(e)_ | Served | No\ | Bit 7 | Bit 6 | CFU\ | | | user | Not | | | CFB\ | | | allows | reveal as | 0 | 0 | CFNR | | | the | GRUU\ | | | | | | pre | Yes | 1 | 0 | CFNRc\ | | | sentation | | | | CFNL\ | | | of | | 0 | 1 | CD | | | his/her | | | | | | | URI to | | | | | | | _div | | | | | | | erted‑to_ | | | | | | | user. | | | | | +-------+-----------+-----------+-----------+-----------+--------+ | _(f)_ | Served | No\ | Bit 5 | Bit 4 | CFU\ | | | user | Not | | | CFB\ | | | allows | reveal as | 0 | 0 | CFNR | | | the | GRUU\ | | | | | | pre | Yes | 1 | 0 | CFNRc\ | | | sentation | | | | CFNL\ | | | of | | 0 | 1 | CD | | | his/her | | | | | | | URI to | | | | | | | _ori | | | | | | | ginating_ | | | | | | | user in | | | | | | | diversion | | | | | | | noti | | | | | | | fication. | | | | | +-------+-----------+-----------+-----------+-----------+--------+ | _(g)_ | Reserved | | | | | +-------+-----------+-----------+-----------+-----------+--------+ | _(h)_ | Reserved | | | | | +-------+-----------+-----------+-----------+-----------+--------+
#### 6.4.2.12A CDIV_network_provider_options
Table 6.4.2.12A-1: CDIV_network_provider_options fields
+--------------+------------------------------------------------------+ | 4-byte tuple | 3\|3\|2\|2\|2\|2\|2\|2\|2\|2\|2\|2\|1\|1\| | | | 1\|1\|1\|1\|1\|1\|1\|1\|0\|0\|0\|0\|0\|0\|0\|0\|0\|0 | | | | | | 1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0\|9\|8\| | | | 7\|6\|5\|4\|3\|2\|1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0 | +--------------+------------------------------------------------------+ | 80 | \| \| \|number_of diversions | | | | | | (a)\|(b)\| \| | +--------------+------------------------------------------------------+ | 84 | CDIV_indication_timer \| RESERVED | | | | | | \| | +--------------+------------------------------------------------------+
  * Fields (a) and (b)
Table 6.4.2.12A-2: CDIV_network_provider_options values
+-------+-----------+-----------+-----------+-----------+-------+ | Field | Network | Value | Binary | Appl | | | | provider | | value | icability | | | | option | | | | | +-------+-----------+-----------+-----------+-----------+-------+ | _(a)_ | Served | Retain | Bit 31 | Bit 30 | CFNR\ | | | user | comm | | | CD | | | comm | unication | 0 | 1 | | | | unication | to the | | | | | | retention | served | 0 | 0 | | | | on | user | | | | | | i | until | | | | | | nvocation | alerting | | | | | | of | begins at | | | | | | diversion | the | | | | | | | di | | | | | | | verted-to | | | | | | | user\ | | | | | | | Clear | | | | | | | comm | | | | | | | unication | | | | | | | to the | | | | | | | served | | | | | | | user on | | | | | | | i | | | | | | | nvocation | | | | | | | of call | | | | | | | diversion | | | | +-------+-----------+-----------+-----------+-----------+-------+ | _(b)_ | Served | Continue | Bit 29 | Bit 28 | CFNR | | | user | to alert | | | | | | comm | the | 0 | 1 | CD | | | unication | diverting | | | | | | retention | user\ | 0 | 0 | | | | when | No action | | | | | | diverting | at the | | | | | | is | diverting | | | | | | rejected | user | | | | | | at\ | | | | | | | di | | | | | | | verted-to | | | | | | | user. | | | | | +-------+-----------+-----------+-----------+-----------+-------+
  * number_of diversions is an integer giving the total number of all diversions for each communication
  * CDIV_indication_timer is an integer with values between 0 and 60 seconds.
#### 6.4.2.13 CW_param
Table 6.4.2.13-1: CW_param fields
+--------------+------------------------------------------------------+ | 4-byte tuple | 3\|3\|2\|2\|2\|2\|2\|2\|2\|2\|2\|2\|1\|1\| | | | 1\|1\|1\|1\|1\|1\|1\|1\|0\|0\|0\|0\|0\|0\|0\|0\|0\|0 | | | | | | 1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0\|9\|8\| | | | 7\|6\|5\|4\|3\|2\|1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0 | +--------------+------------------------------------------------------+ | 88 | (a)\| RESERVED \| RESERVED | | | | | | \| \| | +--------------+------------------------------------------------------+
Table 6.4.2.13-2: CW_param values
+-------+---------------------+-------+--------------+--------+ | Field | CW Parameters | Value | Binary value | | +-------+---------------------+-------+--------------+--------+ | _(a)_ | calling user | No\ | Bit 31 | Bit 30 | | | receives | Yes | | | | | notification that | | 0 | 0 | | | his call is waiting | | | | | | | | 0 | 1 | +-------+---------------------+-------+--------------+--------+
#### 6.4.2.14 ICB_param
Table 6.4.2.14-1: ICB_param fields
+--------------+------------------------------------------------------+ | 4-byte tuple | 3\|3\|2\|2\|2\|2\|2\|2\|2\|2\|2\|2\|1\|1\| | | | 1\|1\|1\|1\|1\|1\|1\|1\|0\|0\|0\|0\|0\|0\|0\|0\|0\|0 | | | | | | 1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0\|9\|8\| | | | 7\|6\|5\|4\|3\|2\|1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0 | +--------------+------------------------------------------------------+ | 92 | RESERVED \| RESERVED | | | | | | \| | +--------------+------------------------------------------------------+ | 96 | RESERVED \| RESERVED | | | | | | \| | +--------------+------------------------------------------------------+
In this release, as indicated in subclause 6.1.2.10, there is no parameter
that applies to the ICB service; ICB_param fields are Reserved.
#### 6.4.2.15 OCB_param
Table 6.4.2.15-1: OCB_param fields
+--------------+------------------------------------------------------+ | 4-byte tuple | 3\|3\|2\|2\|2\|2\|2\|2\|2\|2\|2\|2\|1\|1\| | | | 1\|1\|1\|1\|1\|1\|1\|1\|0\|0\|0\|0\|0\|0\|0\|0\|0\|0 | | | | | | 1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0\|9\|8\| | | | 7\|6\|5\|4\|3\|2\|1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0 | +--------------+------------------------------------------------------+ | 100 | RESERVED \| RESERVED | | | | | | \| | +--------------+------------------------------------------------------+ | 102 | RESERVED \| RESERVED | | | | | | \| | +--------------+------------------------------------------------------+
In this release, as indicated in subclause 6.1.2.10, there is no parameter
that applies to the OCB service; 0CB_param fields are Reserved.
#### 6.4.2.16 Void
### 6.4.3 AOC Dataset
#### 6.4.3.1 AOC Dataset content
Table 6.4.3.1-1: AOC Dataset fields
+--------------+------------------------------------------------------+ | 4-byte tuple | 3\|3\|2\|2\|2\|2\|2\|2\|2\|2\|2\|2\|1\|1\| | | | 1\|1\|1\|1\|1\|1\|1\|1\|0\|0\|0\|0\|0\|0\|0\|0\|0\|0 | | | | | | 1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0\|9\|8\| | | | 7\|6\|5\|4\|3\|2\|1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0 | +--------------+------------------------------------------------------+ | 0 | DATASET_HEADER | +--------------+------------------------------------------------------+ | 4 | AOC_service_ \|AOC_service_obl\| RESERVED | | | \|AOC_format | | | | | | type \|igatory_type \| \| | +--------------+------------------------------------------------------+ | 8 | Preferred_AOC_currency | +--------------+------------------------------------------------------+
#### 6.4.3.2 Dataset Header
  * dataset_identifier
The value of dataset_identifier of the AOC Dataset is 2.
#### 6.4.3.3 AOC_service_type
Table 6.4.3.3-1: AOC_service_type fields
+--------------+------------------------------------------------------+ | 4-byte tuple | 3\|3\|2\|2\|2\|2\|2\|2\|2\|2\|2\|2\|1\|1\| | | | 1\|1\|1\|1\|1\|1\|1\|1\|0\|0\|0\|0\|0\|0\|0\|0\|0\|0 | | | | | | 1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0\|9\|8\| | | | 7\|6\|5\|4\|3\|2\|1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0 | +--------------+------------------------------------------------------+ | 4 | (a)\|(b)\|(c)\|(d)\| | | | | | | \| \| \| \| | +--------------+------------------------------------------------------+
Table 6.4.a.3-2: AOC_service_type values
+-------+---------------------------+-------+--------------+--------+ | Field | AOC service type | Value | Binary value | | +-------+---------------------------+-------+--------------+--------+ | _(a)_ | AOC service type (AOC-S) | No\ | Bit 31 | Bit 30 | | | | Yes | | | | | | | 0 | 0 | | | | | | | | | | | 0 | 1 | +-------+---------------------------+-------+--------------+--------+ | _(b)_ | AOC service type (AOC-D) | No | Bit 29 | Bit 28 | | | | | | | | | | Yes | 0 | 0 | | | | | | | | | | | 0 | 1 | +-------+---------------------------+-------+--------------+--------+ | _(c)_ | AOC service type (AOC-E ) | No | Bit 27 | Bit 26 | | | | | | | | | | Yes | 0 | 0 | | | | | | | | | | | 0 | 1 | +-------+---------------------------+-------+--------------+--------+ | _(d)_ | RESERVED | | Bit 25 | Bit 24 | +-------+---------------------------+-------+--------------+--------+
#### 6.4.3.4 AOC_service_obligatory_type
Table 6.4.3.4-1: AOC_service_obligatory_type fields
+--------------+------------------------------------------------------+ | 4-byte tuple | 3\|3\|2\|2\|2\|2\|2\|2\|2\|2\|2\|2\|1\|1\| | | | 1\|1\|1\|1\|1\|1\|1\|1\|0\|0\|0\|0\|0\|0\|0\|0\|0\|0 | | | | | | 1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0\|9\|8\| | | | 7\|6\|5\|4\|3\|2\|1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0 | +--------------+------------------------------------------------------+ | 4 | \|(a)\|(b)\|(c)\|(d)\| | | | | | | \| \| \| \| \| | +--------------+------------------------------------------------------+
Table 6.4.3.4-2: AOC_service_obligatory_type values
+-------+---------------------------------------+-------+--------------+--------+ | Field | AOC service obligatory type | Value | Binary value | | +-------+---------------------------------------+-------+--------------+--------+ | _(a)_ | AOC service obligatory type for AOC-S | None | Bit 23 | Bit 22 | | | | | | | | | | AOC-I | 0 | 0 | | | | | | | | | | AOC-C | 0 | 1 | | | | | | | | | | | 1 | 0 | +-------+---------------------------------------+-------+--------------+--------+ | _(b)_ | AOC service obligatory type for AOC-D | None | Bit 21 | Bit 20 | | | | | | | | | | AOC-I | 0 | 0 | | | | | | | | | | AOC-C | 0 | 1 | | | | | | | | | | | 1 | 0 | +-------+---------------------------------------+-------+--------------+--------+ | _(c)_ | AOC service obligatory type for AOC-E | None | Bit 19 | Bit 18 | | | | | | | | | | AOC-I | 0 | 0 | | | | | | | | | | AOC-C | 0 | 1 | | | | | | | | | | | 1 | 0 | +-------+---------------------------------------+-------+--------------+--------+ | _(d)_ | RESERVED | | Bit 17 | Bit 16 | +-------+---------------------------------------+-------+--------------+--------+
#### 6.4.3.5 Preferred_AOC_currency
Preferred_AOC_currency is of type Unsigned32 and contains the currency numeric
code as defined in ISO 4217 [23].
#### 6.4.3.6 AOC_format
Table 6.4.3.6-1: AOC_format fields
+--------------+------------------------------------------------------+ | 4-byte tuple | 3\|3\|2\|2\|2\|2\|2\|2\|2\|2\|2\|2\|1\|1\| | | | 1\|1\|1\|1\|1\|1\|1\|1\|0\|0\|0\|0\|0\|0\|0\|0\|0\|0 | | | | | | 1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0\|9\|8\| | | | 7\|6\|5\|4\|3\|2\|1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0 | +--------------+------------------------------------------------------+ | 4 | \|(a)\|(b)\|(c)\|(d) | | | | | | \| \| \| \| | +--------------+------------------------------------------------------+
Table 6.4.3.6-2: AOC_format values
+-------+----------------------+--------------+--------------+--------+ | Field | AOC_format | Value | Binary value | | +-------+----------------------+--------------+--------------+--------+ | _(a)_ | AOC format for AOC-S | None | Bit 23 | Bit 22 | | | | | | | | | | Monetary | 0 | 0 | | | | | | | | | | Non Monetary | 0 | 1 | | | | | | | | | | CAI | 1 | 0 | | | | | | | | | | | 1 | 1 | +-------+----------------------+--------------+--------------+--------+ | _(b)_ | AOC format for AOC-D | None | Bit 21 | Bit 20 | | | | | | | | | | Monetary | 0 | 0 | | | | | | | | | | Non Monetary | 0 | 1 | | | | | | | | | | CAI | 1 | 0 | | | | | | | | | | | 1 | 1 | +-------+----------------------+--------------+--------------+--------+ | _(c)_ | AOC format for AOC-E | None | Bit 19 | Bit 18 | | | | | | | | | | Monetary | 0 | 0 | | | | | | | | | | Non Monetary | 0 | 1 | | | | | | | | | | CAI | 1 | 0 | | | | | | | | | | | 1 | 1 | +-------+----------------------+--------------+--------------+--------+ | _(d)_ | RESERVED | | Bit 17 | Bit 16 | +-------+----------------------+--------------+--------------+--------+
### 6.4.4 FA Pilot Dataset
#### 6.4.4.1 FA Pilot Dataset contentTable
6.4.4.1-1: FA Pilot Dataset fields
+--------------+------------------------------------------------------+ | 4-byte tuple | 3\|3\|2\|2\|2\|2\|2\|2\|2\|2\|2\|2\|1\|1\| | | | 1\|1\|1\|1\|1\|1\|1\|1\|0\|0\|0\|0\|0\|0\|0\|0\|0\|0 | | | | | | 1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0\|9\|8\| | | | 7\|6\|5\|4\|3\|2\|1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0 | +--------------+------------------------------------------------------+ | 0 | DATASET_HEADER | +--------------+------------------------------------------------------+ | 4 | FA_pilot_param | +--------------+------------------------------------------------------+ | 8 | FA_members_list_pointer \| FA_members_number | | | | | | \| | +--------------+------------------------------------------------------+ | 12 | FA members list | +--------------+------------------------------------------------------+ | | | +--------------+------------------------------------------------------+ | | | +--------------+------------------------------------------------------+ | | FA member IMPU | +--------------+------------------------------------------------------+ | | | +--------------+------------------------------------------------------+ | | | +--------------+------------------------------------------------------+ | | FA member IMPU | +--------------+------------------------------------------------------+ | | | +--------------+------------------------------------------------------+ | | | +--------------+------------------------------------------------------+
#### 6.4.4.2 Dataset Header
  * dataset_identifier
The value of dataset_identifier of the FA Pilot Dataset is 3.
#### 6.4.4.3 FA_pilot_param
Table 6.4.4.3-1: FA_pilot_param fields
+--------------+------------------------------------------------------+ | 4-byte tuple | 3\|3\|2\|2\|2\|2\|2\|2\|2\|2\|2\|2\|1\|1\| | | | 1\|1\|1\|1\|1\|1\|1\|1\|0\|0\|0\|0\|0\|0\|0\|0\|0\|0 | | | | | | 1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0\|9\|8\| | | | 7\|6\|5\|4\|3\|2\|1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0 | +--------------+------------------------------------------------------+ | | Reserved \| Reserved | | | | | | \| | +--------------+------------------------------------------------------+
Table 6.4.4.3-2: FA_pilot_param values
+-------+----------------------+-----------------------------+--------------+---+ | Field | FA Pilot Parameters | Value | Binary value | | +-------+----------------------+-----------------------------+--------------+---+ | _(a)_ | Pilot/Member status | FA Pilot is not FA Member\ | Bit 31 | | | | | FA Pilot is FA Member | | | | | | | 0 | | | | | | | | | | | | 1 | | +-------+----------------------+-----------------------------+--------------+---+ | _(b)_ | Single/multiple user | Single User\ | Bit 30 | | | | | Multiple Users | | | | | | | 0 | | | | | | | | | | | | 1 | | +-------+----------------------+-----------------------------+--------------+---+ | _(c)_ | Membership | FA Membership is Permanent\ | Bit 29 | | | | | FA Membership is on Demand | | | | | | | 0 | | | | | | | | | | | | 1 | | +-------+----------------------+-----------------------------+--------------+---+
#### 6.4.4.4 FA_members_list_pointer
The FA_members_list_pointer is an offset, as defined in clause 6.3.6, pointing
to the beginning of FA_members_list.
#### 6.4.4.5 FA_members_number
FA_members_number indicates the number of FA members and is an integer.
#### 6.4.4.6 FA_members_list
Table 6.4.4.6-1: FA_members_list fields
+--------------+------------------------------------------------------+ | 4-byte tuple | 3\|3\|2\|2\|2\|2\|2\|2\|2\|2\|2\|2\|1\|1\| | | | 1\|1\|1\|1\|1\|1\|1\|1\|0\|0\|0\|0\|0\|0\|0\|0\|0\|0 | | | | | | 1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0\|9\|8\| | | | 7\|6\|5\|4\|3\|2\|1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0 | +--------------+------------------------------------------------------+ | | FA_member_offset \| FA_member_length | | | | | | \| | +--------------+------------------------------------------------------+ | | Reserved | +--------------+------------------------------------------------------+ | | FA_member_offset \| FA_member_length | | | | | | \| | +--------------+------------------------------------------------------+ | | Reserved | +--------------+------------------------------------------------------+
FA_members_list comprises identical field sets of which the number is the
number of FA members.
Each field set comprises:
  * FA_member_offset: as defined in clause 6.3.6, it points to the beginning of the FA member IMPU field
  * FA_member_length: it gives the length of the FA_member_IMPU field
  * A Reserved field
#### 6.4.4.7 FA_member_IMPU
FA_member_IMPU gives the IMPU of a FA member and is a string of variable
length.
### 6.4.5 FA Member Dataset
#### 6.4.5.1 FA Member Dataset content
Table 6.4.5.1-1: FA Member Dataset fields
+--------------+------------------------------------------------------+ | 4-byte tuple | 3\|3\|2\|2\|2\|2\|2\|2\|2\|2\|2\|2\|1\|1\| | | | 1\|1\|1\|1\|1\|1\|1\|1\|0\|0\|0\|0\|0\|0\|0\|0\|0\|0 | | | | | | 1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0\|9\|8\| | | | 7\|6\|5\|4\|3\|2\|1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0 | +--------------+------------------------------------------------------+ | 0 | DATASET_HEADER | +--------------+------------------------------------------------------+ | 4 | FA_member_param | +--------------+------------------------------------------------------+ | 8 | FA_groups_list_pointer \| FA_groups_number | | | | | | \| | +--------------+------------------------------------------------------+ | 12 | FA groups list | +--------------+------------------------------------------------------+ | | | +--------------+------------------------------------------------------+ | | | +--------------+------------------------------------------------------+ | | FA pilot IMPU | +--------------+------------------------------------------------------+ | | | +--------------+------------------------------------------------------+ | | | +--------------+------------------------------------------------------+ | | FA pilot IMPU | +--------------+------------------------------------------------------+ | | | +--------------+------------------------------------------------------+ | | | +--------------+------------------------------------------------------+
#### 6.4.5.2 Dataset Header
  * dataset_identifier
The value of dataset_identifier of the FA Member Dataset is 4.
#### 6.4.5.3 FA_member_param
Table 6.4.5.3-1: FA_member_param fields
+--------------+------------------------------------------------------+ | 4-byte tuple | 3\|3\|2\|2\|2\|2\|2\|2\|2\|2\|2\|2\|1\|1\| | | | 1\|1\|1\|1\|1\|1\|1\|1\|0\|0\|0\|0\|0\|0\|0\|0\|0\|0 | | | | | | 1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0\|9\|8\| | | | 7\|6\|5\|4\|3\|2\|1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0 | +--------------+------------------------------------------------------+ | | Reserved \| Reserved | | | | | | \| | +--------------+------------------------------------------------------+
#### 6.4.5.4 FA_groups_list_pointer
The FA_groups_list_pointer is an offset, as defined in clause 6.3.6, pointing
to the beginning of FA_groups_list.
#### 6.4.5.5 FA_groups_number
FA_groups_number indicates the number of FA groups which the FA member belongs
to and is an integer.
#### 6.4.5.6 FA_groups_list
Table 6.4.5.6-1: FA_groups_list fields
+--------------+------------------------------------------------------+ | 4-byte tuple | 3\|3\|2\|2\|2\|2\|2\|2\|2\|2\|2\|2\|1\|1\| | | | 1\|1\|1\|1\|1\|1\|1\|1\|0\|0\|0\|0\|0\|0\|0\|0\|0\|0 | | | | | | 1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0\|9\|8\| | | | 7\|6\|5\|4\|3\|2\|1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0 | +--------------+------------------------------------------------------+ | | FA_group_offset \| FA_group_length | | | | | | \| | +--------------+------------------------------------------------------+ | | FA_group_param \| Reserved | | | | | | \| | +--------------+------------------------------------------------------+ | | FA_group_offset \| FA_group_length | | | | | | \| | +--------------+------------------------------------------------------+ | | FA_group_param \| Reserved | | | | | | \| | +--------------+------------------------------------------------------+
FA_groups_list comprises identical field sets of which the number is the
number of FA groups.
Each field set comprises:
  * FA_group_offset: as defined in clause 6.3.6, it points to the beginning of the FA_Pilot_IMPU field
  * FA_member_length: it gives the length of the FA_pilot_IMPU field
  * FA_group_param
  * A Reserved field
#### 6.4.5.7 FA_group_param
Table 6.4.5.7-1: FA_group_param fields
+--------------+------------------------------------------------------+ | 4-byte tuple | 3\|3\|2\|2\|2\|2\|2\|2\|2\|2\|2\|2\|1\|1\| | | | 1\|1\|1\|1\|1\|1\|1\|1\|0\|0\|0\|0\|0\|0\|0\|0\|0\|0 | | | | | | 1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0\|9\|8\| | | | 7\|6\|5\|4\|3\|2\|1\|0\|9\|8\|7\|6\|5\|4\|3\|2\|1\|0 | +--------------+------------------------------------------------------+ | | a\|b\| Reserved \| Reserved | | | | | | \| \| \| | +--------------+------------------------------------------------------+
Table 6.4.5.7-2: FA_group_param values
+-------+------------------+------------------+--------------+---+ | Field | FA Group | Value | Binary value | | | | Parameters | | | | +-------+------------------+------------------+--------------+---+ | _(a)_ | FA Member status | FA Member is | Bit 31 | | | | in the FA group | inactive in the | | | | | | FA group\ | 0 | | | | | FA Member is | | | | | | active in the FA | 1 | | | | | group | | | +-------+------------------+------------------+--------------+---+ | _(b)_ | Default FA group | The FA group is | Bit 30 | | | | | not a default FA | | | | | | group for the FA | 0 | | | | | member | | | | | | | 1 | | | | | The FA group is | | | | | | a default FA | | | | | | group for the FA | | | | | | member | | | +-------+------------------+------------------+--------------+---+
#### 6.4.5.8 FA_pilot_IMPU
FA_pilot_IMPU gives the IMPU of the FA pilot of the FA group and is a string
of variable length.
## 6.5 Compatibility mechanism
### 6.5.1 General
The subclause 6.5 describes the mechanism to aid compatibility of the binary
format when introducing extensions to the binary option content given in
subclause 6.1.2 for new features in the services supported or for new
services.
An AS supporting the new feature/service may generate transparent data where
reserved fields of a dataset are allocated or new datasets are defined. This
transparent data may be accessed by another AS that does not support the
extensions which may cause interoperability issues.
### 6.5.2 Reserved fields
Reserved fields are defined in the datasets. An AS shall not modify the
content of such reserved fields when updating a dataset in the HSS.
### 6.5.3 Addition of new datasets
As new datasets defined according to subclause 6.2.2 may be introduced in the
same transparent data containing the MMTEL-PSTN-CS dataset and so associated
to the same service indication, an AS that does not support these new datasets
shall not modify the content of these datasets when rewriting the transparent
data in the HSS.
# 7 MMTEL service data definition based on XML
## 7.1 General principles
The general structure of the MMTEL service data document is shown in Figure
7.1-1
{width="1.2479166666666666in" height="1.8965277777777778in"}
Figure 7.1-1: General structure of MMTEL service document
The MMTEL document consists of the services. Each service consists of a user
defined part and an operator defined part. The user defined data is found in
each of the MMTEL supplementary service specifications. The operator defined
part consists of authorization of the service, and of the subscription options
for each of the services.
## 7.2 MMTEL services specification
### 7.2.0 Service Indications
A dedicated Service Indication shall be used within the XML option for MMTel
services. The value of the Service Indication shall be \"MMTEL-Services\".
Proprietary extensions shall use not standardized Service Indications. There
is no constraint for the data structure of the proprietary Service Data.
### 7.2.1 MMTEL services schema
The following shows the MMTEL Services schema:
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
The file \"operator-common-data.xsd\" contains all the common types of the
operator data. This schema is defined as
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
### 7.2.2 OIP service
The OIP service is specified together with OIR service in subclause 7.2.3.
### 7.2.3 OIR service
#### 7.2.3.1 User defined data
The schema defined in subclause 4.10.2 of 3GPP TS 24.607 [5] shall be used.
#### 7.2.3.2 Operator defined data
##### 7.2.3.2.1 Data semantics
The OIP and OIR services are authorized by the operator by setting the
\"authorized\" attributes of \ and
\, respectively, to
\"true\".
##### 7.2.3.2.2 XML Schema
\
\
\
\
Operator part of the Originating Identity Presentation (OIP) and Originating
Identity Restriction (OIR) services
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
### 7.2.4 TIP service
The TIP service is specified together with TIR service, see subclause 7.2.5.
### 7.2.5 TIR service
#### 7.2.5.1 User defined data
The schema defined in subclause 4.9.2 of 3GPP TS 24.608 [6] shall be used.
#### 7.2.5.2 Operator defined data
##### 7.2.5.2.1 Data semantics
The TIP and TIR services are authorized by the operator by setting the
\"authorized\" attributes of \ and
\, respectively, to
\"true\".
##### 7.2.5.2.2 XML Schema
\
\
\
\
Operator part of the Terminating Identity Presentation (TIP) and Terminating
Identity Restriction (TIR) services
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
### 7.2.6 MCID service
#### 7.2.6.1 User defined data
No user data associated with MCID service is defined in 3GPP TS 24.616 [10].
#### 7.2.6.2 Operator defined data
##### 7.2.6.2.1 Data semantics
The MCID service is authorized and activated by the operator by setting the
\"authorized\" attribute of \
to \"true\".
##### 7.2.6.2.2 XML schema
\
\
\
\
Operator part of the Malicious Communication Identification (MCID) service
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
### 7.2.7 ACR service
ACR is a subset of the ICB service, specified in subclause 7.2.11.
### 7.2.8 CDIV service
#### 7.2.8.1 User defined data
The schema defined in subclause 4.9.2 of 3GPP TS 24.604 [2] shall be used.
#### 7.2.8.2 Operator defined data
##### 7.2.8.2.1 Data semantics
The CDIV service is authorized by the operator by setting the \"authorized\"
attribute of \ to \"true\".
##### 7.2.8.2.2 XML Schema
\
\
\
\
Operator part of the Communication Diversion (CDIV) services
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
### 7.2.9 CW service
#### 7.2.9.1 User defined data
The XML schema as defined in 3GPP TS 24.615 [9] subclause 4.8.3 shall be used.
#### 7.2.9.2 Operator defined data
##### 7.2.9.2.1 Data semantics
The CW service is authorized by the operator by setting the \"authorized\"
attribute of \ to \"true\".
##### 7.2.9.2.2 XML Schema
\
\
\
\
Operator part of the Communication Waiting (CW) service
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
### 7.2.10 HOLD service
#### 7.2.10.1 User defined data
No user data is defined in 3GPP TS 24.610 [7]
#### 7.2.10.2 Operator defined data
##### 7.2.10.2.1 Data semantics
The HOLD service is authorized and activated by the operator by setting the
\"authorized\" attribute of \ to \"true\".
##### 7.2.10.2.2 XML Schema
\
\
\
\
Operator part of the Hold service
\
\
\
\
\
\
### 7.2.11 CB service
#### 7.2.11.1 User defined data
The XML schema as defined in 3GPP TS 24.611 [8] subclause 4.9.2 shall be used.
#### 7.2.11.2 Operator defined data
##### 7.2.11.2.1 Data semantics
The ICB and OCB services are authorized by the operator by setting the
\"authorized\" attribute of \ and
\ to \"true\".
##### 7.2.11.2.2 XML Schema
\
\
\
\
Operator part of the Communication Barring (CB) service
\
\
\
\
\
\
### 7.2.12 CCBS/CCNR service
#### 7.2.12.1 User defined data
No user defined data specified in 3GPP TS 24.642 [12].
#### 7.2.12.2 Operator defined data
##### 7.2.12.2.1 Data semantics
The CCBS and CCNR service is authorized and activated by the operator by
setting the \"authorized\" attribute of \ and \, respectively, to \"true\".
##### 7.2.12.2.1 XML Schema
\
\
\
\
Operator part of the Completion of Communication (CC) service
\
\
\
\
\
\
### 7.2.13 MWI service
#### 7.2.13.1 User defined data
No user data is defined in 3GPP TS 24.606 [4].
#### 7.2.13.2 Operator defined data
##### 7.2.13.2.1 Data semantics
The MWI service is authorized and activated by the operator by setting the
\"authorized\" attribute of \ to
\"true\".
##### 7.2.13.2.2 XML Schema
\
\
\
\
Operator part of the Message Waiting Indication (MWI) service
\
\
\
\
\
\
### 7.2.14 CONF service
#### 7.2.14.1 User defined data
No user data is defined in 3GPP TS 24.605 [3]
#### 7.2.14.2 Operator defined data
##### 7.2.14.2.1 Data semantics
The Conference service is authorized and activated by the operator by setting
the \"authorized\" attribute of \ to \"true\".
##### 7.2.14.2.2 XML Schema
\
\
\
\
Operator part of the Conference (CONF) service
\
\
\
\
\
### 7.2.15 AOC service
#### 7.2.15.1 User defined data
No user data is defined in 3GPP TS 24.647 [13]
#### 7.2.15.2 Operator defined data
##### 7.2.15.2.1 Data semantics
AOC service is described in 3GPP TS 32.280 [22] and in 3GPP TS 24.647 [13]. It
consists of 3 services types AOC-S, AOC-D, AOC-E paired with an AOC Service
obligatory type.
Information elements
\- Service Authorized (for each service type AOC-S, AOC-D, AOC-E)
\- AOC service type as described in 3GPP TS 32.280 [22]
\- AOC service obligatory type as described in 3GPP TS 32.280 [22]
\- Preferred AOC currency as described in 3GPP TS 32.280 [22]
\- AOC format as described in 3GPP TS 32.280 [22]
The AOC services are authorized and activated by the operator by setting the
\"authorized\" attribute of \, \, \ to \"true\".
##### 7.2.15.2.2 XML Schema
\
\
\
\
Operator part of the Advice of Charge (AOC) service
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
### 7.2.16 ECT service
#### 7.2.16.1 User defined data
No user data is defined in 3GPP TS 24.629 [11].
#### 7.2.16.2 Operator defined data
##### 7.2.16.2.1 Data semantics
The ECT service is authorized and activated by the operator by setting the
\"authorized\" attribute of \ to
\"true\".
##### 7.2.16.2.2 XML Schema
\
\
\
\
Operator part of the Explicit Communication Transfer (ECT) service
\
\
\
\
\
### 7.2.17 Reverse charging service
NOTE: The reverse charging service is not defined
### 7.2.18 CUG service
#### 7.2.18.1 User defined data
CUG is not supported for the XML option.
#### 7.2.18.2 Operator defined data
CUG is not supported for the XML option.
### 7.2.19 3PTY service
3PTY service is a subset of the CONF service specified in subclause 7.2.14.
### 7.2.20 FA service
#### 7.2.20.1 User defined data
The XML schema as defined in 3GPP TS 24.239 [15] subclause 4.8.3 shall be
used.
#### 7.2.20.1 Operator defined data
##### 7.2.20.1.1 Data semantics
The FA service is authorized and activated by the operator by setting the
\"authorized\" attribute of \ to true.
##### 7.2.20.1.2 XML schema
\
\
\
\
\
\
Operator part of the Flexible Alerting (FA) service
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
Operator schema per Flexible Alerting (FA) group
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
### 7.2.21 Void
### 7.2.22 CAT service
#### 7.2.22.1 User defined data
No user data is defined in 3GPP TS 24.182 [21].
#### 7.2.22.2 Operator defined data
##### 7.2.22.2.1 Data semantics
The CAT service is authorized and activated by the operator by setting the
\"authorized\" attribute of \ to \"true\".
##### 7.2.22.2.2 XML Schema
\
\
\
\
Operator part of the Customized Alerting Tone (CAT) service
\
\
\
\
\
# 8 Mechanisms for transfer of Service Data between Application Server and the
HSS for AS interoperability
## 8.1 Sh procedures to transfer Service Data
Standardized procedures of the Sh interface described in 3GPP TS 29.328 [18]
are used between the AS and the HSS to access and update the Service Data
attached to a user.
To aid a proper interoperability between AS, a certain number of additional
recommendations are hereafter described:
  * After an AS has created or modified Service Data, it shall update the Service Data in the HSS with the Sh- Update procedure.
  * After an AS has downloaded Service Data from the HSS for a given user, it should subscribe to the notification of Service Data with the Sh-Subs-Notif
  * If the AS has subscribed to the notification of Service Data, the AS shall support the Sh-Notif procedure to be informed of the changes in the Service Data.
  * HSS and AS shall use Sequence Number information to ensure data synchronization
## 8.2 Base64 data encoding
As the Service Data for the binary option are in binary format, it shall be
transcoded in a character mode to be transferred over the Sh interface.
The standard used for this transcoding is the base64 encoding mechanism as
described in IETF RFC 2045 [19].
In reference to 3GPP TS 29.328 [18], Annex D, Tables D.1 and D.2, MMTEL
Service Data used for AS interoperability is defined according to Table 8.2-1
regarding the XML schema for the Sh user profile interface.
Table 8.2-1: Data type for Service Data in the XML schema for the Sh user
profile interface
* * *
Data type Tag Base type Comments tServiceData ServiceData String Base64
encoded according to RFC 2045 [19]
* * *
# 9 IMS user group
## 9.1 General
An IMS user group comprises a list of IMS users which are members of the group
and for which a certain service is offered specific to the group. Some generic
data with the same meaning may appear for any IMS user group, especially the
ones related to the relations between the IMS user group and its members, e.g.
the list of the users that are members of the group. This specification only
addresses the case when this generic data is stored in the HSS and transferred
to the HSS though Sh as transparent data.
This specification standardizes the coding of a set of generic IMS user group
data over the Sh interface within the repository data and the associated
service indications.
The generic IMS user group data is defined in clause 9.3
Data describing service or feature content supported by an IMS user group is
not considered as generic data associated to this IMS user group or to a
member of this IMS user group. Such data is outside the scope of this
specification.
## 9.2 Group identification and service indications
An IMS user group may be identified by
a Public Service Identity of which the form is described in 3GPP TS 23.003
[24] or
a Public User Identity when the group is identified by one of its user (e.g.
the group controller).
The group identifier is handled as part of an IMS subscription but is used
solely for Sh transparent data handling. The only intention of the IMS user
group identifier is to identify a data container into HSS. IMS subscription
management or traffic procedures of an IMS user group identifier do not apply
to the group as such or any of its members. E.g. if IMPU1 is used to identify
an IMS user group that consists of two users, identified by IMPU1 and IMPU2,
if IMPU1 is registered, it does not have any effect in the group as such, i.e.
IMPU2 registration status is not modified. The only intention of the usage of
IMPU1 as the group identifier is to identify IMPU1 as the subscriber in HSS
where the group transparent information (see 9.3.1) is stored.
The generic IMS user group data associated to an IMS user group shall be
contained in the Service Data of the Repository data with the Service
Indication having the value \"IMS-GROUP\".
The generic IMS group member data associated to an IMS user, identified by its
public user identity, that is member of one or more IMS user groups shall be
contained in the Service data of the Repository Data of this user with a
Service Indication having the value \"IMS-GROUP-MEMBER\".
When a user belongs to different IMS groups, the Service Data comprises
different subsets of IMS group member data, each associated to an IMS user
group.
## 9.3 Information elements
### 9.3.1 Information elements associated to a IMS user group
The generic IMS user group data associated to an IMS user group comprises:
\- the list of members of the IMS user group that comprises the public user
identity of each member
Specific IMS user group data in particular parameters depending of the service
content and attached to the group or to a member of the group is not
standardised in this specification. It is implementation dependent to describe
this data in repository data with specific AS dependent service indications.
### 9.3.2 Information elements associated to a IMS group member
The generic IMS user group member data of a user that is member of one or more
IMS user groups associated comprises:
\- the identities of the IMS groups to which the user belongs to
Specific group member data in particular parameters depending of the service
content of the group for this member is not standardised in this
specification. It is implementation dependent to describe this data in
repository data with specific AS dependent service indications.
## 9.4 XML schemas
### 9.4.1 XML schema of the IMS group data
The hereafter XML schema describes the structure and content of the IMS group
data. It will allow future extensions for adding new generic IMS group data.
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
### 9.4.2 XML schema of the IMS group member data
The hereafter XML schema describes the structure and content of the IMS group
data. It will allow future extensions for adding new generic IMS group data.
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
# 10 ODB Information for IMS Oriented Services
## 10.1 Service Indication
A dedicated Service Indication value shall be used for repository data
containing ODB Information for IMS Oriented Services formatted according to
the XML schema specified in clause 10.2. The value of the Service Indication
shall be \"IMS-ODB-Information\".
Proprietary extensions shall use not standardized Service Indications. There
is no constraint for the data structure of the proprietary Service Data.
### 10.2 IMS-ODB-Information schema
The following shows the IMS-ODB-Information schema:
\
\
\
\
\
\
\
\
\BARRING OF OUTGOING COMMUNICATION\
\outgoing communication barred\
\
\
\
\
\
\
\BARRING OF OUTGOING INTERNATIONAL
COMMUNICATIONS\
\outgoing international communications
barred\
\
\
\
\
\
\
\BARRING OF OUTGOING INTERNATIONAL COMMUNICATIONS
EXHPLMNC\
\outgoing international communications barred
except those directed to the home plmn country\
\
\
\
\
\
\
\BARRING OF OUTGOING COMMUNICATIONS WHEN
ROAMING\
\outgoing communications barred when roaming
outside the hplmn country\
\
\
\
\
\
\
\
\
\
\
\
\BARRING OF INCOMING COMMUNICATION\
\incoming communication barred\
\
\
\
\
\
\
\BARRING OF INCOMING COMMUNICATIONS WHEN
ROAMING\
\incoming communications barred when roaming
outside the hplmn country\
\
\
\
\
\
\
\
\
\
\
\
\BARRING OF ROAMING OUTSIDE THE HOME PLMN\
\roaming outside hplmn barred\
\
\
\
\
\
\
\BARRING OF ROAMING OUTSIDE THE HPLMN COUNTRY\
\roaming outside hplmn country
barred\
\
\
\
\
\
\
\
\
\
\
\
\BARRING OF REGISTRATION OF ANY COMMUNICATION DIVERTED-
TO ADDRESS\
\registration of any communication diverted-to
address barred\
\
\
\
\
\
\
\BARRING OF REGISTRATION OF ANY INTERNATIONAL
COMMUNICATION DIVERTED-TO ADDRESS\
\registration of any international communication
diverted-to address barred\
\
\
\
\
\
\
\BARRING OF REGISTRATION OF ANY INTERNATIONAL
COMMUNICATION DIVERTED-TO ADDRESS EXHPLMNC\
\registration of any international communication
diverted-to address except addresses within the hplmn country
barred\
\
\
\
\
\
\
\
\
\
\
\
\BARRING OF INVOCATION OF COMMUNICATION
TRANSFER\
\invocation of communication transfer
barred\
\
\
\
\
\
\
\BARRING OF INVOCATION OF COMMUNICATION TRANSFER WHERE
AT LEAST ONE LEG IS CHARGED\
\invocation of communication transfer where at
least one of the two communications is a communication charged to the served
subscriber barred\
\
\
\
\
\
\
\BARRING OF INVOCATION OF COMMUNICATION TRANSFER WHERE
AT LEAST ONE LEG IS CHARGED AT INTERNATIONAL RATES\
\invocation of communication transfer where at
least one of the two communications is a communication charged to the served
subscriber at international rates barred\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
# 11 IMS CAMEL Services
## 11.1 General
IMS CAMEL related subscription data, including O-IM-CSI, D-IM-CSI and VT-IM-
CSI, are provisioned in the HSS and downloaded to the IM-SSF AS to support
Customized Applications for Mobile network Enhanced Logic (CAMEL) feature for
the IP Multimedia Core Network (IM CN) Subsystem, as defined in the 3GPP TS
23.278 [26].
This specification standardizes the coding of the IMS CAMEL subscription data
based on XML when transported via Sh interface within the repository data and
the associated service indications.
## 11.2 Service Indications
A dedicated Service Indication shall be used for IMS CAMEL services. The value
of the Service Indication shall be \"IMS-CAMEL-Services\".
Proprietary extensions shall use not standardized Service Indications. There
is no constraint for the data structure of the proprietary Service Data.
## 11.3 XML schemas
### 11.3.1 XML schema of IMS CAMEL Services
The following XML schema describes the IMS CAMEL Subscription data.
NOTE: The XML schema follows the encoding for IM CSI subscription data as
defined in 3GPP TS 29.002 [27].
\
\
\
\ IM CSI Information \
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
### 11.3.2 XML schema of Common Data for IMS CAMEL Services
The file \"im-ssf-comm.xsd\" contains all the common types of IMS CAMEL
Subscription data. This schema is defined as
\
\
\
\ Common Data of Intelligent Network
Subscriber Information \
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
### 11.3.3 XML schema for O-IM-CSI
The file \"o-IM-CSI.xsd\" contains the XML schema for O-IM-CSI. This schema is
defined as
\
\
\
\ Intelligent Network Subscriber Information
of o-IM-CSI \
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
### 11.3.4 XML schema for O-IM-BcsmCamelTDP-CriteriaList
The file \"o-IM-bcsm-camel-TDP-criteria-list.xsd\" contains the XML schema for
O-IM-BcsmCamelTDP-CriteriaList. This schema is defined as
\
\
\
\ Intelligent Network Subscriber Information
of o-IM-bcsm-camel-TDP-criteria-list \
\
\
\
\
\
\
\
\
\
\
\
\ \
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
### 11.3.5 XML schema for D-IM-CSI
The file \"d-IM-CSI.xsd\" contains the XML schema for D-IM-CSI. This schema is
defined as
\
\
\
\ Intelligent Network Subscriber Information
of d-IM-CSII \
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
### 11.3.6 XML schema for VT-IM-CSI
The file \"vt-IM-CSI.xsd\" contains the XML schema for VT-IM-CSI. This schema
is defined as
\
\
\
\ Intelligent Network Subscriber Information
of vt-IM-CSI \
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
### 11.3.7 XML schema for VT-IM-BCSM-CAMEL-TDP-CriteriaList
The file \"vt-bcsm-camel-TDP-criteria-list.xsd\" contains the XML schema for
VT-IM-BCSM-CAMEL-TDP-CriteriaList. This schema is defined as
\
\
\
\ Intelligent Network Subscriber Information
of vt-bcsm-camel-TDP-criteria-list \
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
###### ## Annex A (informative): Dataset example with variable length data
This example illustrates the use of offset and length elements to point
variable data in a dataset.
Four variables are defined, each with the following values:
> Var1 = 012345678
>
> Var2 empty
>
> Var3 = ABCD
>
> Var4= 124345678
The coding of the dataset is as follows:
Figure Annex A-1: Dataset example
+---+--------------+---------------------------+---------+-----+-----+------------+ | | > Byte order | | | | | | +---+--------------+---------------------------+---------+-----+-----+------------+ | | > 0 | > Dataset header | | | | | +---+--------------+---------------------------+---------+-----+-----+------------+ | | | > Other fixed format data | | | | | +---+--------------+---------------------------+---------+-----+-----+------------+ | | | > Var1 | | | | | +---+--------------+---------------------------+---------+-----+-----+------------+ | | | > Offset=60 | > Len=9 | | | | +---+--------------+---------------------------+---------+-----+-----+------------+ | | | > Var2 | | | | | +---+--------------+---------------------------+---------+-----+-----+------------+ | | | > Offset=69 | > Len=0 | | | | +---+--------------+---------------------------+---------+-----+-----+------------+ | | | > Other fixed format data | | | | | +---+--------------+---------------------------+---------+-----+-----+------------+ | | | > Var3 | | | | | +---+--------------+---------------------------+---------+-----+-----+------------+ | | | > Offset=69 | > Len=4 | | | | +---+--------------+---------------------------+---------+-----+-----+------------+ | | | > Var4 | | | | | +---+--------------+---------------------------+---------+-----+-----+------------+ | | | > Offset =73 | > Len=8 | | | | +---+--------------+---------------------------+---------+-----+-----+------------+ | | | > Other fixed format data | | | | | +---+--------------+---------------------------+---------+-----+-----+------------+ | | > 60 | > 0 | > 1 | > 2 | > 3 | | +---+--------------+---------------------------+---------+-----+-----+------------+ | | > 64 | > 4 | > 5 | > 6 | > 7 | | +---+--------------+---------------------------+---------+-----+-----+------------+ | | > 68 | > 8 | > A | > B | > C | > Variable | +---+--------------+---------------------------+---------+-----+-----+------------+ | | > 72 | > D | > 1 | > 2 | > 3 | > length | +---+--------------+---------------------------+---------+-----+-----+------------+ | | > 76 | > 4 | > 5 | > 6 | > 7 | > data | +---+--------------+---------------------------+---------+-----+-----+------------+ | | > 80 | > 8 | | | | | +---+--------------+---------------------------+---------+-----+-----+------------+
#