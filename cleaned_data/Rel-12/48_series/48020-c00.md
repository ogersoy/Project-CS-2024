# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it is re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# 1 Scope
The present document defines rate adaptation functions to be used in PLMN Base
Station Systems (BSS) transcoders and IWF
\- for adapting radio interface data rates to the 64 kbit/s used at the
A-interface in A/Gb mode and
\- for adapting radio interface data rates to the Iu interface in GERAN Iu
mode in accordance with 3GPP TS 43.010.
The number of Base Station System - Mobile-services Switching Centre (BSS -
MSC) traffic channels supporting data rate adaptation may be limited. In this
case some channels may not support data rate adaptation. Those that do, shall
conform to this specification.
NOTE: This specification should be considered together with 3GPP TS 44.021 to
give a complete description of PLMN rate adaptation.
# 2 References, abbreviations and definitions
## 2.1 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
  * References are either specific (identified by date of publication, > edition number, version number, etc.) or non‑specific.
  * For a specific reference, subsequent revisions do not apply.
  * For a non-specific reference, the latest version applies. In the > case of a reference to a 3GPP document (including a GSM document), > a non-specific reference implicitly refers to the latest version > of that document in the same Release as the present document.
[1] 3GPP TR 21.905: \" Vocabulary for 3GPP specifications \".
[2] 3GPP TS 22.034: "High Speed Circuit Switched Data (HSCSD) - Stage1\"
[3] 3GPP TS 43.010: \"GSM Public Land Mobile Network (PLMN) connection
types\".
[4] 3GPP TS 23.034: "High Speed Circuit Switched Data (HSCSD) - Stage2\".
[5] 3GPP TS 44.021: \"Rate adaption on the Mobile Station ‑ Base Station
System (MS ‑ BSS) interface\".
[6] 3GPP TS 24.022: \"Radio Link Protocol (RLP) for Circuit Switched Bearer
and Teleservices\".
[7] 3GPP TS 45.003: \"Channel coding\".
[8] 3GPP TS 27.001: \"General on Terminal Adaptation Functions (TAF) for
Mobile Stations (MS)\".
[9] 3GPP TS 48.008: \"Mobile Switching Centre ‑ Base Station System (MSC ‑
BSS) interface; Layer 3 specification\".
[10] 3GPP TS 29.007: \"General requirements on interworking between the Public
Land Mobile Network (PLMN) and the Integrated Services Digital Network (ISDN)
or Public Switched Telephone Network (PSTN)\".
[11] ITU-T Recommendation V.110: \"Support of data terminal equipment's (DTEs)
with V-Series interfaces by an integrated services digital network\".
[12] ITU-T Recommendation I.460:-Multiplexing, rate adaption and support of
existing interfaces.
[13] 3GPP TS 48.060: \"In-band control of remote transcoders and rate adaptors
for full rate traffic channels"
[14] 3GPP TS 25.415: \"UTRAN Iu Interface user plane protocols\".
## 2.2 Abbreviations
For the purposes of the present document, the following abbreviations apply:
FPS Frame Pattern Substitution
FSI Frame Start Identifier
ZSP Zero Sequence Position
## 2.3 Definitions
For the purposes of the present document, the following terms and definitions
apply.
**Substream** : Stream of data with explicit or implicit numbering between
splitter and combine functions.
**Channel** : A physical full rate channel on the radio interface (TCH/F)
independent of the contents.
**A interface circuit** : The 8 bits that constitute one 64 kbps circuit on
the A interface.
**A interface subcircuit:** One specific bit position or one specific pair of
bit positions within the A interface circuit.
**EDGE channel:** A general term referring to channels based on 8PSK
modulation; i.e. TCH/F28.8, TCH/F32.0, and TCH/F43.2.
# 3 General approach
3GPP TS 43.010 (clause 6) defines the PLMN connection types necessary to
support the data and telematic services in a PLMN operating in A/Gb mode or
GERAN Iu mode.
Within the BSS , transcoder and IWF, there are several data rate adaptation
functions which are combined as shown in 3GPP TS 43.010 as part of a
connection type.
These functions are RA0, RA1, RA1/RA1\' , RA1'' , RA1'/RA1", RA1'/RAA", RA1',
RAA\", RA1\'/RAA\', RAA\' , RAE and RA2. The RA2 function is equivalent to
that described in ITU-T Recommendation V.110. In addition,
splitting/combining, padding and inband numbering functions as defined in 3GPP
TS 44.021 and multiplexing as defined herein are used in cases where more than
one channel is allowed.
The RA1/RA1\', RA1'/RA1", RA1'/RAA" and RA1\'/RAA\' are relay functions used
as indicated in 3GPP TS 43.010.
The BSS uses the information contained in the ASSIGNMENT REQUEST message on
the A-interface (see 3GPP TS 48.008) to set the \"E bits\" and to map the \"D
bits\" as shown below, as well as to choose the correct channel coding.
# 4 The RA0 Function
The RA0 function is specified in 3GPP TS 44.021.
# 5 The RA1 Function
This function shall be used to adapt between the synchronous user rates, or
the output of the RA0 function or Split/Combine function and the intermediate
rate of 8, 16, 32 or 64 kbit/s.
For multislot operations RA1 applies per substream. RA1 applies only if
TCH/F4.8 or TCH/F9.6 is used for user rates up to 38,4 kbit/s. The RA1
function is only applicable for A/Gb mode.
+-------------------------+---------------------+ | > Synchronous user rate | > Intermediate rate | +-------------------------+---------------------+ | ≤ 2,4 kbit/s | 8 kbit/s | +-------------------------+---------------------+ | 4,8 kbit/s | 8 kbit/s | +-------------------------+---------------------+ | 9,6 kbit/s | 16 kbit/s | +-------------------------+---------------------+ | 14,4 kbit/s | 32 kbit/s | +-------------------------+---------------------+ | 19,2 kbit/s | 32 kbit/s | +-------------------------+---------------------+ | 28,8 kbit/s | 64 kbit/s | +-------------------------+---------------------+ | 38,4 kbit/s | 64 kbit/s | +-------------------------+---------------------+
An ITU-T V.110 80 bits frame is constructed using the user data bits received
(from the RA0 in the asynchronous case).
Adaptation of 600 bit/s to 8Kbit/s is performed by 8 times consecutive
duplication of each user data bit. (Figure 11)
Adaptation of 1200 bit/s to 8 Kbit/s is performed by 4 times consecutive
duplication of each user data bit. (Figure 10)
Adaptation of 2400 bit/s to 8kbit/s is performed by 2 times consecutive
duplication of each user data bit. (Figure 9)
Adaptation of 4800 bit/s to 8 Kbit/s is performed by transmitting the bit
stream with no duplication. (Figure 7)
Adaptation of 9600 bit/s to 16 Kbit/s is performed by transmitting the bit
stream with no duplication (the emitting period is halved with respect to the
4800 bit/s case). (Figure 7)
Adaptation of 14400 bit/s to 32 Kbit/s is performed as for 3600 bit/s to 8
kbit/s (the emitting period is divided by four with respect to the 3600 bit/s
case).( Adaptation of 3600 bit/s to 8 kbit/s is performed by transmitting the
bit stream with no duplication.) (Figure 8)
Adaptation of 19200 bit/s to 32 Kbit/s is performed as for 4800 bit/s to 8
kbit/s (the emitting period is divided by four with respect to the 4800 bit/s
case). (Figure 7)
Adaptation of 28800 bit/s to 64 Kbit/s is performed as for 3600 bit/s to 8
kbit/s (the emitting period is divided by eight with respect to the 3600 bit/s
case). (Figure 8)
Adaptation of 38400 bit/s to 64 Kbit/s is performed as for 4800 bit/s 8 kbit/s
(the emitting period is divided by eight with respect to the 4800 bit/s case).
(Figure 7)
The ITU-T V.110 80 bit frames shown in Figures 7 and 8 are used. The meaning
of the bits is specified in 3GPP TS 44.021.
# 5a The RA1' Function
The RA1' function is used to adapt between the synchronous data rates and the
radio interface rates, i.e. it maps the data provided in the Iu UP SDUs into
modified V.110 60 bit frame structure. It is specified in 3GPP TS 44.021.
In the BSS, the RA1' function is only applicable in GERAN Iu mode if TCH/F9.6
channel coding is used.
# 6 The RA1'' Function
The RA1\'\' function shall be used for converting between synchronous user
rates of 48 and 56 kbit/s and the \'intermediate\' rate of 64 kbit/s in A/Gb
mode.
Note, RA1\'\' is a 3GPP-specific term which is used for the one-step
adaptation of 48 and 56 kbit/s rates into 64 kbit/s as specified in ITU-T
V.110. For the purposes of 3GPP specifications the term \'intermediate rate\'
is used for the resulting 64 kbit/s rate although this is not done in ITU-T
V.110.
## 6.1 Rate adaptation of 48 kbit/s user rates with DTE/DCE status to 64
kbit/s
An ITU-T V.110 32 bits frame is constructed using the user data bits received.
The ITU-T V.110 32 bit frame shown in Figure 12 is used. The D bits are used
for conveying the user data and the S and X bits are used for conveying
channel control information according 3GPP TS 27.001.The order of transmission
of the 32 bit frame is from left to right and top to bottom.
## 6.2 Rate adaptation of 56 kbit/s user rate to 64 kbit/s
An ITU-T V.110 64 bits frame is constructed using the user data bits received.
The ITU-T V.110 64 bit frame shown in figure 13 is used. The D bits are used
for conveying the user data.
The order of transmission of the 64 bit frame is from left to right and top to
bottom.
# 7 Split/Combine and Padding Functions
The Split/Combine-function in the IWF shall be used in cases when up to and
including 4 substreams are used in A/Gb mode.
The Split/Combine-function in the BSS shall be used only when more than four
substreams are used in A/Gb mode.
The Split/Combine-function is always used in the BSS if the BSS uses more than
1 substream in GERAN Iu mode.
## 7.1 Data Frame distribution into the channels by the Split/Combine function
Described in 3GPP TS 44.021.
## 7.2 Substream numbering
Described in 3GPP TS 44.021.
## 7.3 Initial Substream Synchronisation for Transparent Services
Described in 3GPP TS 44.021.
## 7.4 Frame Synchronisation and Action on loss of Synchronisation
When in the IWF, the Split/Combine function is responsible for controlling the
initial frame synchronisation procedure and re-synchronisation procedure as
described in 3GPP TS 29.007.
## 7.5 Network Independent Clocking
NIC is specified in 3GPP TS 44.021.
## 7.6 Padding
Padding is specified in 3GPP TS 44.021.
# 8 The EDGE Multiplexing Function
In EDGE configurations where the number of radio interface channels and number
of channels or substreams used between BTS and MSC do not match, a
multiplexing function described below shall be used at BTS to perform data
multiplexing/demultiplexing between the radio interface and network channel
configurations. A similar function shall be used also at MS as described in
44.021.
The EDGE multiplexing function is located between the radio interface and
RA1'/RAA' function.
## 8.1 Transparent services
TCH/F28.8;
Uplink direction
Refer to the description of corresponding downlink procedures in 3GPP TS
44.021. Two TCH/F14.4 substreams are forwarded towards the MSC as in a
2×TCH/F14.4 multislot connection.
Downlink direction
The multiplexing function combines the data received through the two TCH/F14.4
substreams into the 29.0 kbit/s radio interface channel. Refer to the
description of corresponding uplink procedures in 3GPP TS 44.021.
TCH/F32.0
Uplink direction
The multiplexing function maps the data received from the radio interface into
one 64 kbit/s channel so that data carried by timeslot a (0≤a≤6) precedes data
carried by timeslot a+n (1≤a+n≤7)  the timeslots belonging to one TDMA-frame.
Downlink direction
The multiplexing function distributes the data received from the 64 kbit/s
channel into two 32.0 kbit/s radio interface channels so that 640-bit data
blocks are allocated to timeslots a (0≤a≤6) and a+n (1≤a+n≤7). In the
datastream, data carried by timeslot a precedes data carried by timeslot a+n
of the same TDMA-frame.
## 8.2 Non-Transparent services
TCH/F28.8;
Uplink direction
The multiplexing function demultiplexes the data received through the 29.0
kbit/s radio interface channel into two TCH/F14.4 substreams. Two 290-bit
blocks carrying the two halves of one RLP frame belong to the same substream.
Refer to the corresponding downlink procedures in 3GPP TS 44.021.
Downlink direction
The multiplexing function multiplexes the 290-bit blocks received through two
TCH/F14.4 substreams into the 29.0 kbit/s radio interface channel. Refer to
the corresponding uplink procedures in 3GPP TS 44.021.
TCH/F43.2;
Uplink direction
The multiplexing function demultiplexes the data received through the 43.5
kbit/s radio interface channel into three TCH/F14.4 substreams. Two 290-bit
blocks carrying the two halves of one RLP frame belong to the same substream.
Refer to the corresponding downlink procedures in 3GPP TS 44.021.
Downlink direction
The multiplexing function multiplexes the 290-bit blocks received through
three TCH/F14.4 substreams into the 43.5 kbit/s radio interface channel. Refer
to the corresponding uplink procedures in 3GPP TS 44.021.
# 9 The Functions RA1/RA1\' and RA1'/RA1"
These functions only apply for A/Gb mode.
For AIURs less than or equal to 38,4 kbit/s, the RA1/RA1' function in the BSS
shall be applied on each of the n substreams and there are no significant
differences between the single slot case and the multislot case. For AIURs
less than or equal to 38,4 kbit/s RA1/RA1' is as specified in 3GPP TS 44.021
for the single slot case.
For AIURs of 48 kbit/s, 56 kbit/s and 64 kbit/s, RA1'/RA1'' shall be applied
as specified in 3GPP TS 44.021.
The table 1 gives a relation between the AIUR, channel coding and number of
substreams. As an example from table 1: The wanted AIUR is 28,8 kbit/s, the
number of substreams needed to support this rate is 3. Each individual
substream shall be rate adapted as in the single slot case.
Table 1: Relationship between AIUR, channel coding and number of channels
* * *
                Multislot intermediaterate 8 kbps   Multislot intermediate rate of 16 kbps
AIUR Transparent Non-transparent Transparent Non-transparent ≤2,4 kbit/s 1 N/A
N/A N/A 4,8 kbit/s 1 1 N/A N/A 9,6 kbit/s 2 2 1 1 14,4 kbit/s 3 3 2 N/A 19,2
kbit/s 4 4 2 2 28,8 kbit/s N/A N/A 3 3 38,4 kbit/s N/A N/A 4 4 48 kbit/s N/A
N/A 5 N/A 56 kbit/s N/A N/A 5 N/A 64 kbit/s N/A N/A 6 N/A
* * *
## 9.1 Radio Interface rate of 12 kbit/s
Described in 3GPP TS 44.021.
## 9.2 Radio Interface rate of 6 kbit/s
Described in 3GPP TS 44.021.
## 9.3 Radio Interface rate of 3.6 kbit/s
Described in 3GPP TS 44.021.
## 9.4 Synchronisation
Refer to 3GPP TS 44.021.
## 9.5 Idle frames
Refer to 3GPP TS 44.021
# 10 The Functions RA1\'/RAA\' and RA1'/RAA"
The RA1\'/RAA\' shall be applied only when TCH/F14.4, TCH/F28.8, or TCH/F43.2
channel coding is used. The RA1/RAA\' converts 290-bit blocks from the channel
coder or EDGE multiplexing function into E-TRAU frames and vice versa. The
format of E-TRAU frame is specified in 3GPP TS 48.060.
The RA1\'/RAA\' function in the BSS shall be applied on each of the n
substreams and there are no significant differences between the single slot
case and the multislot case.
For the AIURs of 64 kbit/s, RA1'/RAA'' shall be applied as specified in 3GPP
TS 44.021. This function converts 290-bit blocks from the channel coder
directly into the synchronous 64 kbit/s data stream, an E-TRAU frame is not
created in this case.
The table 2 gives a relation between the AIUR, channel coding and number of
substreams. As an example from table 2 : The wanted AIUR is 28,8 kbit/s, the
number of substreams needed to support this rate is 2. Each individual
substream shall be rate adapted as in the single slot case.
Table 2 Relationship between AIUR, channel coding and number of channels.
* * *
AIUR Transparent Non-transparent 14,4 kbit/s 1 1 28,8 kbit/s 2 2 38,4 kbit/s 3
N/A 43,2 kbit/s N/A 3 48 kbit/s 4 N/A 56 kbit/s 4 N/A 57,6 kbit/s N/A 4 64
kbit/s 5 N/A
* * *
## 10.1 Radio Interface rate of 14,5 kbit/s
See 3GPP TS 48.060.
## 10.2 Synchronisation
See 3GPP TS 48.060.
## 10.3 Idle frames
See 3GPP TS 48.060.
# 11 THE RAA\' FUNCTION
The RAA\' function shall be applied only when TCH/F14.4, TCH/F28.8, or
TCH/F43.2 channels are used.
The RAA\' converts E-TRAU frame into A-TRAU frame and vice versa.
The format of the E-TRAU frame is specified in 3GPP TS 48.060.
## 11.1 Coding of A-TRAU frame
The format of the A-TRAU frame is given in Figure 5.
An A-TRAU frame carries eight 36 bit-data frames.
**C Bits**
Table 3
* * *
C1 C2 C3 C4 Date Rate 0 1 1 1 14,4 kbit/s 0 1 1 0 14.4 kbit/s idle (IWF to BSS
only)
* * *
Table 4
* * *
C5 BSS to IWF\ IWF to BSS\ Frame Type\ UFE (Uplink Frame Error) note 1
1 idle framing error
0 data no framing error
* * *
NOTE 1: Bit C5 corresponds to bit C6 of the E-TRAU frame as defined in 3GPP TS
48.060.
**M Bits**
[Transparent data]{.underline}
M1 and M2 are as defined in 3GPP TS 44.021.
[Non transparent data]{.underline}
See subclause 15.2 of the present document.
**Z bits**
Bits Zi are used for Framing Pattern Substitution.
See subclause 11.2.
## 11.2 Framing Pattern Substitution in A-TRAU frame
The Framing Pattern Substitution is used in each of the eight 36 bit data
fields of the A-TRAU frame (see Figure 5) to avoid transmitting a sequence of
eight zeroes (called Z sequence in the following).
The purposes of FPS is to avoid erroneous synchronisation to the A-TRAU due to
sixteen zeroes occurring accidentally in the data bits and to avoid erroneous
synchronisation to V.110. The synchronisation pattern of two consecutive V.110
frames cannot be found within a stream of A TRAU frames.
### 11.2.1 FPS encoding
A Zero Sequence Position (ZSP) field is used to account for the occurrence of
eight zeroes in the 36 bit data field.
NOTE: A sequence of eight zeroes is considered as a block (e.g. a stream of
eleven consecutive zeroes produces only one ZSP and not four ZSPs).
The ZSP field is defined as follows:
Table 5
* * *
1 2 3 4 5 6 7 8 1 C A0 A1 A2 A3 A4 1
* * *
The meaning of the different bits of the ZSP field is :
C : Continuation bit. \'0\' means that there is another ZSP in the data field.
\'1\' means that there is no other ZSP.
A0-A4 :address of the next Z sequence (eight zeroes) to be inserted. The
address '00001' corresponds to the bit D1, the value '11101' to the bit D29,
(A0 is the msb, A4 is the lsb).
NOTE: a Z sequence substitution cannot occur at bit D30..D36 (as it is 8 bit
long)
1 : locking bit prevent the false occurrence of a Z sequence.
The Framing Pattern Substitution is applied in each of the eight 36 bit data
field (see Figure 5).
Bit Zi indicates whether FPS is used in the ith 36 bit data field (i=1 to 8).
The coding of the Zi bit is the following:
Table 6
* * *
Zi (i=1..8) meaning 1 no substitution 0 at least one substitution
* * *
If Zi bit indicates no substitution, the output data bits of FPS are equal to
the input data bits.
If Zi indicates at least one substitution, the bits D1-D8 contain the first
ZSP.
The following description indicates the general operating procedures for FPS.
It is not meant to indicate a required implementation of the encoding
procedure.
{width="5.995138888888889in" height="5.8590277777777775in"}
Figure 1
**Step 1:**
The input 36 bit sub frame is considered as a bit stream in which the bits are
numbered from 1 to 36.
This bit stream contains 0, 1 or several Z sequences, (Zseq~1~ to Zseq~3~ on
the figure)
The Z sequence is a sequence of 8 consecutive zeroes : \'0000 0000\'
**Step 2:**
Starting from this bit stream, two lists are built up :
**2-a** : the \'a\' list which contains the address of the first bit of each Z
sequences.
**2-d** : the \'d\' list which contains all the data blocks which do not have
the Z sequence.
**Step 3:**
The \'a\' list is transformed so as to build the ZSP list. Each ZSP element is
used to indicate:
at which address is the next Z sequence of the message
if yet another ZSP element is found at this address (link element)
**Step 4:**
The output 37 bit sub frame is built from:
the Zi field which indicates whether the original message has been transformed
or not with this technique. In the example given in Figure 1, Zi shall be set
to \'0\' to indicate that at least one FPS has occurred.
the ZSP and D elements interleaved.
As the ZSP elements have exactly the same length as the Z sequence, the sub
frame length is only increased by one (the Zi bit), whatever the number of
frame pattern substitutions may be.
For special cases, refer to annex A.
## 11.3 A-TRAU Synchronisation Pattern
The frame synchronisation is obtained by means of the first two octets in each
frame, with all bits coded binary \"0\" and the first bit in octet no 2 coded
binary \"1\". The following 17 bit alignment pattern is used to achieve frame
synchronisation:
* * *
00000000 00000000 1XXXXXXX XXXXXXXX XXXXXXXX XXXXXXXX XXXXXXXX XXXXXXXX
XXXXXXXX XXXXXXXX XXXXXXXX XXXXXXXX XXXXXXXX XXXXXXXX XXXXXXXX XXXXXXXX
XXXXXXXX XXXXXXXX XXXXXXXX XXXXXXXX XXXXXXXX XXXXXXXX XXXXXXXX XXXXXXXX
XXXXXXXX XXXXXXXX XXXXXXXX XXXXXXXX XXXXXXXX XXXXXXXX XXXXXXXX XXXXXXXX
XXXXXXXX XXXXXXXX XXXXXXXX XXXXXXXX XXXXXXXX XXXXXXXX XXXXXXXX XXXXXXXX
* * *
# 12 THE RAA\'\' FUNCTION
On the IWF side of the A interface, the RAA\" function shall convert between
the A-TRAU format and a synchronous stream. FPS shall be performed by this
function as well, see subclause 11.2. In transparent operation, the RAA\"
function shall handle the M1 and M2 bits as specified for the RA1\' function
in 3GPP TS 44.021.
In non-transparent operation, the RAA\" function shall map between the A-TRAU
format and 290 bit blocks consisting of M1, M2 and 288 bits making up half of
an RLP frame, see subclause 15.2 of the present document.
# 12a The RAE Function
On the BSS side of the Iu interface, the RAE function shall convert in GERAN
Iu mode between the E-TRAU format (3GPP TS 48.060) and a synchronous stream,
i.e. the data in the payload of the Iu UP SDUs. It is the subsequent execution
of the rate adaptation functions RAA' and RAA".
It is used in the case of TCH/F14.4 and user rates less than 56 kbit/s.
The RAE function maps the data from the payload of the Iu UP SDUs directly
into E-TRAU frames. It is not necessary to create the A-TRAU format that is
the exchange format between RAA' and RAA".
It shall perform the FPS (Frame Pattern Substitution) as specified in
subclause 11.2.
In transparent operations, The RAE function shall handle the M1 and M2 bits as
specified for the RA1' function in 3GPP TS 44.021.
In non-transparent operations, the payload of the Iu UP SDU has a size of 576
bit and contains one RLP frame. This shall be mapped to two E-TRAU frames each
of them consisting of
\- 288 data bits making up half of an RLP frame,
\- the bits M1 and M2 that shall be used as specified in subclause 15.2 and
\- the control bits that shall be used as specified in 3GPP TS 48.060.
# 13 The RA2 Function
The RA2 function shall be applied only for single slot operations in A/Gb
mode. For multislot operations the A-interface Multiplexing Function applies
(see clause 14).
This procedure is based on the RA2 function as specified in ITU-T V.110. It
shall be used to rate adapt to/from the intermediate rates of 8, 16 or 32
kbit/s from/to the 64 kbit/s rate used at the A-interface.
Table 6a
* * *
Intermediate rate Rate at the A-interface 8 kbit/s 64 kbit/s 16 kbit/s 64
kbit/s 32 kbit/s 64 kbit/s 64 kbit/s 64 kbit/s
* * *
For the intermediate and user data rate of 64 kbit/s, the RA2 transmits the
bit stream over the A-interface as it is.
It considers the 64 kbit/s stream over the A interface to consist of octets,
bits 1 through 8, with bit 1 being transmitted first.
The procedure requires that:
i) The 8 kbit/s stream occupies bit position 1;
ii) The 16 kbit/s bitstream occupies bit positions (1,2);
iii) The 32 kbit/s bitstream occupies bit positions (1,2,3,4) ;
iv) The order of transmission of the bits of the subrate stream is identical
before and after rate adaptation.
v) All unused bits in the 64 kbit/s stream are set to binary \"1\".
# 14 The A-interface Multiplexing Function
The multiplexing function shall be applied only for AIUR up to and including
57.6 kbit/s for multislot operations in A/Gb mode.
The multiplexing function is based on the ITU-T I.460. The multiplexing
function is used to combine n (n=2 to 4) substreams of multislot intermediate
rate of 8 kbit/s or n substreams of multislot intermediate rate of 16 kbit/s
on one 64 kbit/s stream by using subcircuits in each octet to each substream
such that:
i) An 8 kbit/s substream is allowed to occupy subcircuits with positions 1,3,5
or 7 of each octet of the 64 kbit/s stream; a 16 kbit/s stream occupies bit
positions (1,2) or (3,4) or (5,6) or (7,8).
ii) The order of the bits at each substream is identical before and after
multiplexing.
iii) All unused bit positions shall be set to binary "1\".
iv) For transparent multislot configurations the lowest allowed subcircuits
are always used.
v) For non-transparent multislot configurations, the lowest allowed
subcircuits shall be used at call set up and after change of channel
configuration except at downgrading. At downgrading any of the used
subcircuits may be released in uplink direction. Always, the released
subcircuit(s) in downlink direction shall be the same as the released
subcircuit(s) in uplink direction. At a possible subsequent upgrading, the
lowest available bit positions shall be used for the added substreams.
NOTE: The rules given here are almost identical to those of I.460, Section
'Fixed format multiplexing', except for the rule i) is stricter in that 8
kbit/s substreams cannot occupy any positions, iv) and v) are added.
# 15 Support of non-transparent bearer services in A/Gb mode
## 15.1 TCH/F9.6 and TCH/F4.8 kbit/s channel codings
In the case of non-transparent services the RA1/RA1\' function shall perform
the same mapping as that described for transparent services, using 12 and 6
kbit/s radio interface data rates, with the following modification.
The E2 and E3 bits in the modified ITU-T V.110 80 bit frames shown in Figure 3
(derived from the standard ITU-T V.110 frame shown in Figure 2) are used to
indicate each consecutive sequence of ITU-T V.110 80 bit frames corresponding
to the four modified ITU-T V.110 60 bit frames (Figure 4) received/transmitted
in one radio interface frame. This allows 240 bit Radio Link Protocol frames
to/from the MSC to be aligned with the 4x60 bit frames encoded by the radio
subsystem channel coder as a single unit (see 3GPP TS 45.003). The 8 bits
consisting of the E2 and E3 bits in one of the above sequences is referred to
as the Frame Start Identifier. The FSI value is 00 01 10 11. This value is
assigned to the E2 and E3 bits as shown in Table7.
Table 7
* * *
                                            E2   E3
First Modified ITU-T V.110 80 bit frame 0 0 Second 0 1 Third 1 0 Fourth 1 1
* * *
As each RLP frame is transported between the BSS and MSC in four modified
ITU-T V.110 80 bit frames, it is necessary following a transmission break and
at start up, to determine which modified ITU-T V.110 80 bit frame of the
stream is the first for a particular RLP frame. This is needed so that correct
alignment with the radio subsystem can be achieved.
Modified V.110 80 bit frames can slip in time during re-routing, and whilst
sync exists within the modified ITU-T V.110 80 bit frame to determine the
modified ITU-T V.110 80 bit frame boundaries, the FSI is required to determine
which quarter of an RLP frame each modified ITU-T V.110 80 bit frame contains.
Table 8: Relationship between FNUR, AIUR, substream rate, number of substreams
and intermediate rate
* * *
FNUR AIUR Number of Channels x Substream Rate Channel Coding Multislot
Intermediate Rate ≤2,4 kbit/s 2,4 kbit/s 2-8 times duplication of each bit to
reach 2,4 kbit/s TCH/F4.8 8 kbit/s 4,8 kbit/s 4,8 kbit/s 4,8 kbit/s TCH/F4.8 8
kbit/s 4,8 kbit/s 9,6 kbit/s 9,6 kbit/s TCH/F9.6 16 kbit/s 9,6 kbit/s 9,6
kbit/s 2x4,8 kbit/s 2XTCH/F4.8 8 kbit/s 9,6 kbit/s 9,6 kbit/s 9,6 kbit/s
TCH/F9.6 16 kbit/s 14,4 kbit/s 14,4 kbit/s 3X4,8 kbit/s 3XTCH/F4.8 8 kbit/s
14,4 kbit/s 19,2 kbit/s 2X9,6 kbit/s 2XTCH/F9.6 16 kbit/s 19,2 kbit/s 19,2
kbit/s 4X4,8 kbit/s 4XTCH/F4.8 8 kbit/s 19,2 kbit/s 19,2 kbit/s 2X9,6 kbit/s
2XTCH/F9.6 16 kbit/s 28,8 kbit/s 28,8 kbit/s 3X9,6 kbit/s 3XTCH/F9.6 16 kbit/s
38,4 38,4 kbit/s 4X9,6 kbit/s 4XTCH/F9.6 16 kbit/s NOTE: The table gives the
relation between the FNUR, AIUR, Substream Rate, Channel Coding and
Intermediate Rate. As an example: the wanted FNUR is 14,4 kbit/s and the
selected channel coding is TCH/F9.6. The data stream is split into two
substreams of 9,6 kbit/s yielding an AIUR of 19,2 kbit/s.
* * *
### 15.1.1 Alignment
An alignment window spanning four modified ITU-T V.110 80 bit frames shall be
used to search for the pattern of 8 bits described above in order to identify
alignment with an RLP frame.
In the event of failure to detect the 8 bit pattern, the alignment window is
shifted one complete modified V.110 80 bit frame, discarding the contents of
the most historical frame and then checking the new 8 bit pattern.
### 15.1.2 Support of Discontinuous Transmission (DTX)
The E1 bit in the modified ITU-T V.110 80 bit frame shown in Figure 3 shall be
used in the direction MSC-BSS to indicate that DTX may be invoked (see 3GPP TS
24.022). The E1 bit in all of the four consecutive frames relating to the RLP
frame to which DTX may be applied shall be set to 1. If DTX is not to be
applied, the E1 bit shall be set to 0.
In the direction BSS-MSC the E1 bit shall always be set to 0.
### 15.1.3 Order of Transmission
The first bit of each quarter of an RLP frame to be transmitted shall
correspond to bit D1 of a modified V.110 frame (figures 3 and 4). The
remaining 59 bits of each quarter of an RLP frame shall correspond to the D
and D\' bits , D2 - D\'12, in order left to right and top to bottom as shown
in figures 3 and 4.
The first quarter of an RLP frame to be transmitted shall contain the E2 and
E3 bit code 00 as shown in Table 1. The second quarter contains the code 01,
etc.
## 15.2 TCH/F14.4, TCH/F28.8, and TCH/F43.2 channel codings
In case of non-transparent service, a 576 bit RLP frame shall be mapped over
two consecutive A-TRAU frames.
Because of that mapping, it is required, following a transmission break and at
start up, to determine which A-TRAU frame of the stream is the first for a
particular RLP frame. This is needed so that correct alignment with the radio
subsystem can be achieved.
The two consecutive M1 bits are referred to as the Frame Start Identifier. The
FSI value is 01. This value is assigned to the M1 bits as shown in Table 9.
Table 9
* * *
                        M1 bit
First A-TRAU frame 0 Second A-TRAU frame 1
* * *
A-TRAU frames can slip in time during re-routing, and whilst A-TRAU frame
synchronisation exists, the FSI is required to determine which half of an RLP
frame each A-TRAU frame contains.
Table 10: Relationship between AIUR, substream rate, number of substreams and
intermediate rate
+-------------+-------------+-------------+-------------+-------------+ | | AIUR | Number of | Channel | Multislot | | | | substreams | Coding | i | | | | x\ | | ntermediate | | | | AIUR per | | Rate | | | | substream | | | +-------------+-------------+-------------+-------------+-------------+ | | 14,4 kbit/s | 14,4 kbit/s | TCH/F14.4 | 16 kbit/s | +-------------+-------------+-------------+-------------+-------------+ | | 28,8 kbit/s | 2X14,4 | 2XTCH/F14.4 | 16 kbit/s | | | | kbit/s | | | | | | | 1XTCH/F28,8 | | +-------------+-------------+-------------+-------------+-------------+ | | 43,2 kbit/s | 3X14,4 | 3XTCH/F14.4 | 16 kbit/s | | | | kbit/s | | | | | | | 1XTCH/F43,2 | | +-------------+-------------+-------------+-------------+-------------+ | | 57,6 kbit/s | 4X14,4 | 4XTCH/F14.4 | 16 kbit/s | | | | kbit/s | | | +-------------+-------------+-------------+-------------+-------------+ | | 57,6 kbit/s | 4X14,4 | 4XTCH/F14.4 | 16 kbit/s | | | | kbit/s | | | | | | | 2XTCH/F28,8 | | +-------------+-------------+-------------+-------------+-------------+ | NOTE: The | | | | | | table gives | | | | | | the | | | | | | relation | | | | | | between | | | | | | AIUR, | | | | | | Substream | | | | | | Rate, | | | | | | Channel | | | | | | Coding and | | | | | | I | | | | | | ntermediate | | | | | | Rate. As an | | | | | | example: | | | | | | the AIUR is | | | | | | 28,8 kbit/s | | | | | | and the | | | | | | selected | | | | | | channel | | | | | | coding is | | | | | | 14,5 | | | | | | kbit/s. The | | | | | | data stream | | | | | | is split | | | | | | into two | | | | | | substreams | | | | | | of 14,5 | | | | | | kbit/s | | | | | | yielding an | | | | | | AIUR of | | | | | | 28,8 kbit/s | | | | | | | | | | | | > The same | | | | | | > number of | | | | | | > | | | | | | substreams | | | | | | > is used | | | | | | > in each | | | | | | > | | | | | | direction, | | | | | | > even if | | | | | | > the AIURs | | | | | | > in each | | | | | | > direction | | | | | | > differ. | | | | | | > | | | | | | Superfluous | | | | | | > | | | | | | substreams | | | | | | > are | | | | | | > filled | | | | | | > with idle | | | | | | > frames. | | | | | | > These are | | | | | | > inserted | | | | | | > at the | | | | | | > BTS or | | | | | | > IWF and | | | | | | > are | | | | | | > discarded | | | | | | > at the | | | | | | > IWF or | | | | | | > BTS | | | | | | > re | | | | | | spectively. | | | | | | > At the | | | | | | > IWF, the | | | | | | > down link | | | | | | > AIUR is | | | | | | > | | | | | | determined | | | | | | > by the | | | | | | > out of | | | | | | > band | | | | | | > | | | | | | signalling | | | | | | > | | | | | | (Assignment | | | | | | > Complete, | | | | | | > Handover | | | | | | > | | | | | | Performed), | | | | | | > whereas | | | | | | > the up | | | | | | > link AIUR | | | | | | > is | | | | | | > | | | | | | determined | | | | | | > inband by | | | | | | > examining | | | | | | > the | | | | | | > possible | | | | | | > substream | | | | | | > positions | | | | | | > on the A | | | | | | > | | | | | | interface. | | | | | +-------------+-------------+-------------+-------------+-------------+
### 15.2.1 Alignment
An alignment window spanning two 290 bit blocks in case of TCH/F14.4 channel
shall be used to search for the pattern of 2 bits \'01\' described in
subclause 15.2, in order to identify alignment with an RLP frame.
In the event of failure to detect the 2 bits pattern the alignment window is
shifted one 290 bit block, discarding the contents of the most historical
frame and then checking the new 2 bits pattern.
### 15.2.2 Support of Discontinuous Transmission (DTX)
The M2 bit in the A-TRAU frame shown in Figure 5 shall be used in the
direction MSC to BSS to indicate that DTX may be invoked (see 3GPP TS 24.022).
The M2 bit in all of the two consecutive A-TRAU frames relating to the RLP
frame to which DTX may be applied shall be set to 1. If DTX is not to be
applied, the M2 bit shall be set to 0.
In the direction BSS to MSC the M2 bit shall always be set to 0.
# 15a Support of non-transparent bearer services in Iu mode
In Iu mode the RLP frames are transmitted via the Iu interface by means of the
Iu UP protocol in support mode, see 3GPP TS 25.415. Each SDU is transported in
one Iu UP PDU type 1.
Each SDU has a size of 576 bits and carries one RLP frame with frame size of
576 bits if TCH/F14.4, TCH/F28.8 or TCH/F43.2 channel coding is used in GERAN.
Each SDU has a size of 480 bits and carries two RLP frames with frame size of
240 bits if TCH/F9.6 channel coding is used in GERAN.
If TCH/F14.4, TCH/28.8 or TCH/F43.2 is used, the range of AIUR values is 14,4
kbit/s, 28,8 kbit/s, 43,2 kbit/s, 57,6 kbit/s, limited by the maximum bit
rate, and varies with the transmission period on the Um interface, which is 40
ms, 20 ms, 13⅓ ms or 10 ms. If TCH/F9.6 is used, the range of AIUR values is
12, 24, 36, 48 kbit/s, limited by the maximum bit rate, and varies with the
transmission on the Um interface, which is 40 ms, 20 ms, 13⅓ ms or 10 ms. A
change in the transmission period is signalled to the IWF through the Iu UP
protocol. The Iu UP primitive Iu-UP‑DATA-REQUEST is invoked each time an RLP
frame is ready to be sent from the IWF towards the UE.
DTX indication is not used.
# 16 Support of transparent bearer services in A/Gb mode
## 16.1 TCH/F9.6 and TCH/F4.8 channel codings
### 16.1.1 User rate adaptation on the A interface, AIUR less than or equal to
38,4 kbit/s
The ITU-T V.110 80 bit frame shall be used for transparent data on the A
interface. These frames are transmitted on up to four substreams multiplexed
into one stream sent over the A interface. The split/combine function is
applied on the substreams as specified in clause 5 of the present document.
The relation between the AIUR and the number of channels is specified in
table11.
The 64 kbit/s consists of octets, bits 1 through 8, with bit 1 transmitted
first.
For a 9 600 bit/s radio interface user rate the V.110 frame is carried with a
16 kbits/s stream which occupies bit positions (1,2).
For radio interface user rates of either 4 800 bit/s, 2 400 bit/s, 1 200 bit/s
or 300 bit/s the V.110 frame is carried with a 8 kbits/s stream which occupies
bit position (1). For user rates \ 48.020] 8.4.0 4.0.0 12-2001 TSG#14 NP-010604
001 1 Terminology clarifications requested by TSG GERAN 4.0.0 5.0.0 09-2002
TSG#17 NP-020405 002 Correction of Rate Adaptation Functions and removal of S
Reference Point in MS 5.0.0 5.1.0 12-2002 TSG#18 NP-020617 003 4 CS Data
Services (including HSCSD and EDGE) for GERAN Iu mode 5.1.0 5.2.0 12-2004
CN#26 Upgraded to v6.0.0 5.2.0 6.0.0 06-2007 CT#36 Upgraded to v7.0.0 6.0.0
7.0.0 12-2008 CT#42 Upgraded to v8.0.0 7.0.0 8.0.0 12-2009 CT#46 Automatic
upgrade from previous Release 8.0.0 9.0.0 03-2011 CT#51 Automatic upgrade from
previous Release version 9.0.0 9.0.0 10.0.0