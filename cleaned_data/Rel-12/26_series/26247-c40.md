# Foreword
This Technical Specification has been produced by the 3^rd^ Generation
Partnership Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
The 3GPP transparent end-to-end packet-switched streaming service (PSS)
specification consists of seven 3GPP TSs: 3GPP TS 22.233 [1], 3GPP TS 26.233
[2], 3GPP TS 26.234 [3], 3GPP TS 26.244 [4], 3GPP TS 26.245 [5], 3GPP TS
26.246 [6], and the present document.
The TS 22.233 contains the service requirements for the PSS. The TS 26.233
provides an overview of the PSS. The TS 26.234 provides the details of the
protocols and codecs used by the PSS. The TS 26.244 defines the 3GPP file
format (3GP) used by the PSS and MMS services. The TS 26.245 defines the Timed
text format used by the PSS and MMS services. The TS 26.246 defines the 3GPP
SMIL language profile. The present document defines Progressive Download and
Dynamic Adaptive Streaming over HTTP.
The TS 26.244, TS 26.245 and TS 26.246 start with Release 6. Earlier releases
of the 3GPP file format, the Timed text format and the 3GPP SMIL language
profile can be found in TS 26.234.
The TS 26.247 starts with Release 10. Earlier releases of Progressive Download
and Dynamic Adaptive Streaming over HTTP can be found in TS 26.234.
# Introduction
Progressive Download and Dynamic Adaptive Streaming over HTTP (3GP-DASH)
collects a set of technologies how progressive download and adaptive streaming
of continuous media may be carried out exclusively over HTTP.
# 1 Scope
The present document specifies Progressive Download and Dynamic Adaptive
Streaming over HTTP (3GP-DASH). This specification is part of Packet-switched
Streaming Service (PSS). HTTP-based progressive download and dynamic adaptive
streaming are separated from TS 26.234 to differentiate from RTP-based
streaming that is maintained in TS 26.234. HTTP-based progressive download and
dynamic adaptive streaming may be deployed independently from RTP-based PSS,
for example by using standard HTTP/1.1 servers for hosting data formatted as
defined in the present document.
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
\- References are either specific (identified by date of publication, edition
number, version number, etc.) or nonâ€‘specific.
\- For a specific reference, subsequent revisions do not apply.
\- For a non-specific reference, the latest version applies. In the case of a
reference to a 3GPP document (including a GSM document), a non-specific
reference implicitly refers to the latest version of that document _in the
same Release as the present document_.
[1] 3GPP TS 22.233: \"Transparent End-to-End Packet-switched Streaming
Service; Stage 1\".
[2] 3GPP TS 26.233: \"Transparent end-to-end Packet-switched Streaming service
(PSS); General description\".
[3] 3GPP TS 26.234: \"Transparent end-to-end packet switched streaming service
(PSS); Protocols and codecs\".
[4] 3GPP TS 26.244: \"Transparent end-to-end packet switched streaming service
(PSS); 3GPP file format (3GP)\".
[5] 3GPP TS 26.245: \"Transparent end-to-end packet switched streaming service
(PSS); Timed text format\".
[6] 3GPP TS 26.246: \"Transparent end-to-end packet switched streaming service
(PSS); 3GPP SMIL Language Profile\".
[7] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[8] IETF STD 0007: \"Transmission Control Protocol\", Postel J., September
1981.
[9] IETF RFC 2616: \"Hypertext Transfer Protocol -- HTTP/1.1\", Fielding R. et
al., June 1999.
[10] Open Mobile Alliance, Service and Content Protection for Mobile Broadcast
Services, Approved Version 1.0, February 2009.
[11] ISO/IEC 14496-12:2012 \| 15444-12:2012 \"Information technology - Coding
of audio-visual objects - Part 12: ISO base media file format\" \|
\"Information technology - JPEG 2000 image coding system - Part 12: ISO base
media file format\".
[12] IETF RFC 2818: \"HTTP Over TLS\", E. Rescorla, May 2000.
[13] IETF RFC 5646: \"Tags for Identifying Languages\", A. Phillips, M. Davis,
September 2009.
[14] (void)
[15] Open Mobile Alliance: \"DRM Content Format V 2.0\".
[16] Open Mobile Alliance: \"DRM Content Format V 2.1\".
[17] IETF RFC 3986: \"Uniform Resource Identifiers (URI): Generic Syntax\",
Berners-Lee T., Fielding R. and Masinter L., January 2005.
[18] IETF RFC 1952: \"**GZIP file format specification\" version 4.3,** P.
Deutsch, May 1996.
[19] IETF RFC 1738: \"Uniform Resource Locators (URL)\", December 1994.
[20] W3C XLINK: \"XML Linking Language (XLink)\" Version 1.1, W3C
Recommendation 06, May 2010.
[21] IETF RFC 3406: \"Uniform Resource Names (URN) Namespace Definition
Mechanisms\", October 2002.
[22] OMA-ERELD-DM-V1_2-20070209-A: \"Enabler Release Definition for OMA
Device\ +Management, Approved Version 1.2\"
[23] 3GPP TS 33.310: \"Network Domain Security (NDS); Authentication Framework
(AF)\".
[24] IETF RFC 2045: \"Multipurpose Internet Mail Extensions (MIME) Part One:
Format of Internet Message Bodies\".
[25] IETF RFC 2231: \" MIME Parameter Value and Encoded Word Extensions:
Character Sets, Languages, and Continuations\".
[26] IETF RFC 6381: \" The \'Codecs\' and \'Profiles\' Parameters for
\"Bucket\" Media Types,\" August 2011.
[27] Void.
[28] IEEE 1003.1-2008, IEEE Standard for Information Technology - Portable
Operating System Interface (POSIX), Base Specifications, Issue 7
[29] IETF RFC 4337, \"MIME Type Registration for MPEG-4,\" March 2006
[30] IETF RFC 3023, \"XML Media Types,\" January 2001.
[31] 3GPP TS 23.203: \"Policy and charging control architecture\".
[32] 3GPP TS 29.213: \"Policy and Charging Control signalling flows and
Quality of Service (QoS) parameter mapping\".
[33] 3GPP TS 29.214: \"Policy and Charging Control over Rx reference point\".
[34] ISO/IEC 23009-1:2012/Cor 1:2013 \" Information technology -- Dynamic
adaptive streaming over HTTP (DASH) -- Part 1: Media presentation description
and segment formats\".
[35] ITU-T Recommendation H.264 (04/2013): \"Advanced video coding for generic
audiovisual services\".
[36] 3GPP TR 26.946: \"Multimedia Broadcast/Multicast Service (MBMS); User
service guidelines\".
[37] IETF RFC 3629: \"UTF-8, a transformation format of ISO 10646,\" November
2003.
[38] IETF RFC 4288: \"Media Type Specifications and Registration Procedures,\"
December 2005.
[39] IETF RFC 4648: \"The Base16, Base32, and Base64 Data Encodings,\" October
2006.
[40] IETF RFC 5234: \"Augmented BNF for Syntax Specifications: ABNF\", Crocker
D. and Overell P., January 2008.
[41] 3GPP TR 26.905: \"Mobile stereoscopic 3D video\".
[42] 3GPP TS 26.346: \" Multimedia Broadcast/Multicast Service
(MBMS);Protocols and codecs\"
[43] ISO/IEC 23009-1:2014/Amd. 1:2014 \" Information technology -- Dynamic
adaptive streaming over HTTP (DASH) -- Part 1: Media presentation description
and segment formats\".
# 3 Definitions, abbreviations and conventions
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
TR 21.905 [7] and the following apply. A term defined in the present document
takes precedence over the definition of the same term, if any, in TR 21.905
[7].
**access unit** : unit of a media stream with an assigned Media Presentation
time.
**accessibility:** the degree to which a media content or certain media
content components are available to as many people as possible.
**Adaptation Set** : a set of interchangeable encoded versions of one or
several media content components.
**availableSegment:** Segment which is accessible at its assigned HTTP-URL,
possibly restricted by a byte range, i.e. the request with an HTTP GET results
in a reply of the Segment and a 2xx OK status code.
**continuous media:** media with an inherent notion of time. In the present
document speech, audio, video, timed text and timed graphics.
**DASH metric:** a metric identified by key and defined in this part of the
specification.
**earliest presentation time** : the smallest presentation time of any access
unit of a Media Segment or Subsegment for a media stream.
**frame-packed stereoscopic 3D video** : a video consisting of two views in
which both views were packed into a single stream before compression.
**group** : collection of Representations that are expected to not being
presented jointly.
**HTTP-URL:** a URI with a fixed scheme of "http" or https.
**Initialization Segment** : Segment containing metadata that is necessary to
present the media streams encapsulated in Media Segments.
**media content:** one media content period or a contiguous sequence of media
content periods.
**media content component:** one continuous component of the media content
with an assigned media component type that can be encoded individually into a
media stream.
**media content component type:** a single type of media content such as
audio, video, or text.
**media content period:** set of media content components that have a common
timeline as well as relationships on how they may be presented.
**Media Presentation:** collection of data that establishes a bounded or
unbounded presentation of media content.
**Media Presentation Description (MPD):** formalized description for a Media
Presentation for the purpose of providing a streaming service.
**Media Presentation timeline** : concatenation of the timeline of all Periods
which itself is common to all Representations in the Period.
**Media Segment** : Segment that complies with media format in use and enables
playback when combined with zero or more preceding Segments, and an
Initialization Segment (if any).
**media stream** : encoded version of a media content component.
**Media Subsegment** : Subsegment that only contains media data but no Segment
Index.
**MPD start time** : approximate presentation start time of a Media Segment
signalled in MPD.
**MPD duration** : approximate presentation duration of a Media Segment
signalled in MPD.
**multiview stereoscopic 3D video** : a video consisting of two views packed
into a single stream during compression.
**Period** : interval of the Media Presentation, where a contiguous sequence
of all Periods constitutes the Media Presentation.
**presentation time** : a time associated to an access unit that maps it to
the Media Presentation timeline.
**remote element:** one or more elements that are not fullly contained in the
MPD document but is referenced in the MPD with an HTTP-URL
**Representation** : collection and encapsulation of one or more media streams
in a delivery format and associated with descriptive metadata.
**Segment:** smallest addressable unit in an MPD with a defined format.
**Segment availability end time:** the time instant in wall-clock time at
which a Segment ceases to be an available Segment.
**Segment availability start time:** the time instant in wall-clock time at
which a Segment becomes an available Segment.
**Segment Index** : a compact index of the time range to byte range mapping
within a Media Segment separately from the MPD.
**stereoscopic 3D video:** a video bitstream consisting of two views.
**Stream Access Point (SAP):** position in a Representation enabling playback
of a media stream to be started using only the information contained in
Representation data starting from that position onwards (preceded by
initializing data in the Initialization Segment, if any).
**Sub-Representation** : part of a Representation described in the MPD that is
present in the entire Period.
**Subsegment:** smallest unit within Media Segments that is indexed by a
Segment Index.
**valid Segment URL:** an HTTP-URL that is promised to reference a Segment
during its Segment availability period.
**wall-clock time: time as stated by** UTC (Universal Co-ordinated Time).
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[7] and the following apply.\ An abbreviation defined in the present document
takes precedence over the definition of the same abbreviation, if any, in TR
21.905 [7].
3GP 3GPP file format
3GP-DASH 3GPP Dynamic Adaptive Streaming over HTTP
AHS Adaptive HTTP Streaming
AVC Advanced Video Coding
DM Device Management
DRM Digital Rights Management
HSD HTTP Streaming and Download
HTML Hypertext Markup Language
HTTP Hypertext Transfer Protocol
HTTPS Hypertext Transfer Protocol Secure
IDR Instantaneous Decoding Refresh
MPD Media Presentation Description
MPEG-2 TS Moving Picture Experts Group Transport Stream
MIME Multipurpose Internet Mail Extensions
OMA Open Mobile Alliance
PDCF Packetized DRM Content Format
PSS Packet-switched Streaming Service
QoE Quality-of-Experience
RFC Request For Comments
RTP Real-time Transport Protocol
SAP Stream Access Point
SMIL Synchronised Multimedia Integration Language
TLS Transport Layer Security
URI Uniform Resource Identifier
URL Uniform Resource Locator
URN Uniform Resource Name
UTC Universal Time Coordinated
UTF-8 Unicode Transformation Format (the 8-bit form)
UUID Universally Unique Identifier
W3C WWW Consortium
XML eXtensible Markup Language
XSLT eXtensible Stylesheet Language Transformation
## 3.3 Conventions
The following naming conventions apply in this specification:
\- Elements in an XML-document are identified by an upper-case first letter
and in bold face as **Element**.\ To express that an element **Element1** is
contained in another element **Element2** , we may write
**Element2.Element1**. If an element is constructed of two or more combined
words, camel-casing is typically used, e.g. **ImportantElement**. Elements are
present exactly once, or the minimum and maximum occurence is defined by
\ ... \.
\- Attributes in an XML-document are identified by a lower-case first letter
as well as they are preceded by a '@'-sign, e.g. \@attribute. To point to a
specific attribute \@attribute contained in an element **Element** , we may
write **Element** \@attribute. If an attribute is constructed of two or more
combined words,\ camel-casing is typically used after the first word, e.g.
\@veryImportantAttribute. Attributes are assigned a status in the XML as
mandatory (M), optional (O), optional with default value (OD) and
conditionally mandatory (CM).
\- Namespace qualification of elements and attributes is used as per XML
standards, in the form of **namespace:Element** or \@namespace:attribute The
fully qualified namespace will be provided in the schema fragment associated
with the declaration. This specification extends the namespace of DASH, by
documenting the element name in the semantic table with an extension namespace
prefix.
\- Variables defined in the context of the present document are specifically
highlighted with _italics,_ e.g. _InternalVariable_.
\- Structures that are defined as part of the hierarchical data model are
identified by an upper-case first letter, e.g. Media Presentation, Period,
Group, Adaptation Set, Representation, Segment, etc.
# 4 Overview
The present document specifies Progressive Download and Dynamic Adaptive
Streaming over HTTP (3GP-DASH) for continuous media. The features are
separated from the umbrella specification TS 26.234 [3] to differentiate from
RTP-based streaming that is specified and maintained in TS 26.234. Services
relying exclusively on these features may be deployed independently from RTP-
based PSS servers, for example by using standard HTTP/1.1 servers for hosting
the services.
The specification covers the following aspects:
\- System Description: describes the relationship to the PSS architecture and
refines the architecture, interfaces and protocols that are defined in this
specification.
\- Progressive Download over HTTP.
\- 3GPP Dynamic Adaptive Streaming over HTTP (3G-DASH) provides an overview of
the architecture, the\ formats and the models that build the basis for 3GP-
DASH. Also, 3GP-DASH Profiles provides an identifier and refers to a set of
specific restrictions in this or other specifications.
\- DASH - Media Presentation describes the data model of a Media Presentation.
It also provides an overview on elements and attributes that may be used to
describe components and properties of a media presentation in a\ Media
Presentation Description (MPD).
\- DASH - Usage of the 3GP file format defines how segments can be formed
based on the 3GP file format.
\- Quality-of-Experience for Progressive Download and 3GP-DASH.
\- Normative annexes for MPD schema (Annex B), Descriptor Scheme Definitions
(Annex C), OMA DM QoE Management Object (Annex F), File format extensions for
3GPP DASH support (Annex G) and MIME Type Registration for MPD (Annex H).
\- Informative annexes for Client Behaviour (Annex A), MPD Examples (Annex D),
and Mapping MPD structure and semantics to SMIL (Annex E).
# 5 System Description
## 5.1 Overview
Progressive Download and Dynamic Adaptive Streaming over HTTP (3GP-DASH)
enables to provide services to deliver continuous media content over Hypertext
Transfer Protocol (HTTP) in a sense that all resources that compose the
service are accessible through HTTP-URLs and the HTTP/1.1 protocol as
specified in RFC 2616 [9] may be used to deliver the metadata and media data
composing the service. This enables that standard HTTP servers and standard
HTTP caches can be used for hosting and distributing continuous media content.
Figure 1 shows the architecture for services using progressive download and
Figure 2 shows the architecture for services using 3GP-DASH.
The present document deals with the specification of interfaces between the
Client and the Server. Specifically, it defines the formats that may be
delivered exclusively over the HTTP interface to enable progressive download
and streaming\ services.
{width="6.16875in" height="1.2875in"}
Figure 1: Architecture for Progressive Download over HTTP
Services using the features described in this specification may be deployed
within PSS as specified in TS 26.233 [2] and TS 26.234 [3]. In this case the
Progressive Download/3GP-DASH Server may be a sub-function of the PSS server
and the Progressive Download/3GP-DASH client may be a sub-function of the PSS
client.
{width="6.048611111111111in" height="1.261111111111111in"}
Figure 2: Architecture for 3GP-DASH
Services using the features defined in this specification may also be deployed
independent of the PSS servers and\ clients. In this case the Progressive
Download/3GP-DASH client shall support the formats and codecs according to
this specification.
Access to services based on the features defined in the present document is
introduced in clause 5.2.
The protocol support for services using the features defined in this
specification is provided in clause 5.3.
Clients supporting progressive download-based services shall support the
features and formats as specified in clause 6 of this specification.
Clients supporting 3GP-DASH shall support the features and formats as
specified in clause 7 of this specification.
Clients supporting QoE Metrics and Reporting shall support the features as
specified in clause 10 of this specification.
## 5.2 Service Access
Service access refers to the method by which a Client initially accesses the
service. Service access for services based in the specification can be
achieved e.g. by a Media Presentation Description or a URL to the media file.
The service access URL can be made available to a client in many different
ways. Clients supporting services based on the features in this specification
shall be able to access services that are provided through an HTTP-URL.
However, it is out of the scope of this specification to mandate any specific
mechanism. A preferred way may be to embed URLs for service establishment
within HTML pages.
## 5.3 Protocols
Progressive Download and 3GP-DASH clients shall comply with a _client_ as
specified in RFC 2616 [9]. The resource hosting the 3GP files and DASH
Segments shall comply with a _server_ as specified in RFC 2616 [9].
Progressive Download and 3GP-DASH clients should use the HTTP GET method or
the HTTP partial GET method, as specified in RFC 2616 [9], clause 9.3, to
access media offered at HTTP-URLs.
Figure 3 shows a protocol stack for services in the context of this
specification. 3GP Files in progressive download as well as Segments based on
the 3GPP File Format shall be accessible through HTTP.
{width="3.220833333333333in" height="2.3472222222222223in"}
Figure 3: Overview of the protocols stack
Transport security in Progressive Download and Dynamic Adaptive Streaming over
HTTP (3GP-DASH) is achieved using the HTTPS (Hypertext Transfer Protocol
Secure) specified in RFC 2818 [12] and TLS as specified in TLS profile of
Annex E in TS 33.310 [23]. In case secure delivery is desired, HTTPS should be
used to authenticate the server and to ensure secure transport of the content
from server to client.
NOTE 1: The use of HTTPS for delivering Media Segments may inhibit caching at
proxies and add overhead at the server and the client.
NOTE 2: In the case of MBMS download delivery of 3GP-DASH content, one way of
supporting the delivery of a subset of the nominally requested content by the
DASH client which indicates explicit willingness to accept such incomplete
content, and based on a specific UE implementation architecture, is described
in clause 7.2.A in TR 26.946 [36].
# 6 Progressive Download over HTTP
## 6.1 General
As an alternative to conventional streaming, a client may download, typically
through HTTP, a media file that encapsulates continuous media and may play the
media from the local storage. A PSS client shall support progressive download
and playout of 3GP files [4] as specified in the remainder of this clause.
The media file encapsulating the continuous media is accessed directly by
issuing one or more HTTP GET or partial GET requests to the referenced media
file. An example of a valid URL is http://example.com/morning_news.3gp.
## 6.2 Progressive Download
Progressive download uses normal HTTP download using HTTP GET or partial GET
requests. The differences between regular download and Progressive Download
are that 1) the content may be authored as progressively downloadable, and 2)
the terminal recognises that the content is suitable for progressive download.
A client downloading continuous media may decide to start playout of the
encapsulated media data before the download of the media file is completed.
## 6.3 3GPP File Format Profiles
The following profiles of the 3GPP file format in TS 26.244 [4] shall be
supported by clients supporting Progressive Download over HTTP:
\- Basic profile, and
\- Progressive-download profile.
# 7 3GPP Dynamic Adaptive Streaming over HTTP
## 7.1 System Description
The 3GPP Dynamic Adaptive Streaming over HTTP (3GP-DASH) specified in this
specification provides streaming services over HTTP. For this it specifies XML
and binary formats that enable delivering content from standard HTTP servers
to an HTTP-Streaming client and enables caching content by standard HTTP
caches.
The specification for 3GP-DASH primarily defines two formats:
1) The Media Presentation Description (MPD) describes a _Media Presentation_ ,
i.e. a bounded or unbounded presentation of media content. In particular, it
defines formats to announce resource identifiers for _Segments_ and to provide
the context for these identified resources within a Media Presentation. For
3GP-DASH, the resource identifiers are exclusively HTTP-URLs possibly combined
with a byte range.
2) The Segment formats specify the formats of the entity body of the HTTP
response to an HTTP GET request or an HTTP partial GET request with the
indicated byte range through HTTP/1.1 as defined in RFC 2616 [9] to a resource
identified in the MPD. Segments typically contain efficiently coded media data
and metadata according to or aligned with common media formats..
The MPD provides sufficient information for a client to provide a streaming
service to the user by accessing the Segments through the protocol specified
in the scheme of the defined resources, in the context of this specification
exclusively HTTP/1.1. Such a client is referred to as a 3GP-DASH client in the
remainder of the present document. However, this specification does not
provide a normative definition for such a client. An informative client model
to illustrate the formats defined in this specification is provided in section
7.2. An informative example client behaviour description is provided in Annex
A of this specification.
Figure 7-1 shows an architecture in which the formats defined in this
specification are typically used. Boxes with solid lines indicate devices that
are mentioned in this specification as they host or process the formats
defined in this specification whereas dashed boxes are conceptual or
transparent. This specification deals with the definition of formats that are
accessible on the interface to the 3GP-DASH client, indicated by the solid
lines. Any other formats or interfaces are not in scope of this specification.
In the considered deployment scenario, it is assumed that the 3GP-DASH client
has access to an MPD. The MPD provides sufficient information for the 3GP-DASH
client to provide a streaming service to the user by requesting Segments from
an HTTP server and demultiplexing, decoding and rendering the included media
streams.
{width="6.688888888888889in" height="2.9090277777777778in"}
Figure 7-1: System Architecture for 3GP-DASH
The normative aspects of 3GP-DASH formats are defined by
\- the profiles defined in clause 7.3.
\- the DASH Media Presentation as defined in clause 8.
\- the usage of the 3GPP file format for DASH as defined in clause 9.
The clauses mentioned above may refer to normative aspects in clause 10 on
Quality-of-Experience as well as to normative Annexes B, C, E, G, and H.
## 7.2 3GP-DASH Client Model
The design of the formats defined in this specification is based on the
informative client model as shown in Figure 7-2. The figure illustrates the
logical components of a conceptual 3GP-DASH client model. In this figure the
3GP-DASH Access Engine receives the Media Presentation Description (MPD),
constructs and issues requests and receives Segments or parts of Segments. In
the context of this standard, the output of the DASH Access Engine consists of
media in container formats according to the ISO/IEC 14496-12 ISO Base Media
File Format [11] and specifically the 3GP file format [4]. In addition, timing
information is provided that maps the internal timing of the media to the time
line of the Media Presentation.
{width="5.721527777777778in" height="1.7180555555555554in"}
Figure 7-2: 3GP-DASH client Model
## 7.3 3GP-DASH Profiles
### 7.3.1 General
Profiles of 3GP-DASH are defined so as to enable interoperability and the
signaling of the use of features etc. A profile refers to a set of specific
restrictions. Those restrictions might be on features of the MPD as defined in
clause 8 of this specification, Segment formats as for example defined in
clause 9 of this specification, usage of the network, codec(s) used, content
protection formats, or on quantitative measures such as bit-rates, segment
lengths, screen size, and so on. Profiles defined in this specification define
restrictions on features of this specification, but may additionally impose
restrictions on other aspects of media delivery.
NOTE A profile can also be understood as permission for 3GP-DASH clients that
only implement the features required by the profile to process the Media
Presentation. However, as 3GP-DASH client operation is not specified
normatively, it is also unspecified how a 3GP-DASH client conforms to a
particular profile. Hence, profiles merely specify restrictions on MPD and
Segments rather than DASH client behaviour.
A profile has an identifier, which is a URI. The profiles with which a Media
Presentation complies are indicated in the **MPD** \@profiles attribute. This
element is a comma-separated list of profile identifiers. Profile identifiers
defined in this specification are URNs conforming to RFC 3406 [21]. URLs may
also be used. When a URL is used, it should also contain a month-date in the
form mmyyyy; the assignment of the URL must have been authorized by the owner
of the domain name in that URL on or very close to that date, to avoid
problems when domain names change ownership.
An MPD is conforming when it satisfies the following:
  1. The MPD is valid in terms the schema defined in Annex B.
  2. The MPD conforms to the normative requirements defined in this specification.
  3. The MPD conforms to each of the profiles indicated in the **MPD** \@profiles attribute as specified below.
When _ProfA_ is included in the **MPD** \@profiles attribute, the MPD is
modified into a profile-specific MPD for profile conformance checking using
the following ordered steps:
  1. The **MPD** \@profiles attribute of the profile-specific MPD contains only _ProfA_.
  2. An **AdaptationSet** element for which \@profiles does not or is not inferred to include _ProfA_ is removed from the profile-specific MPD.
  3. A **Representation** element for which \@profiles does not or is not inferred to include _ProfA_ is removed from the profile-specific MPD.
  4. All elements or attributes that are either (i) in this specification and explicitly excluded by _ProfA,_ or (ii) in an extension namespace and not explicitly included by _ProfA_ , are removed from the profile-specific MPD.
  5. All elements and attributes that "may be ignored" according to the specification of _ProfA_ are removed from the profile-specific MPD,
An MPD is conforming to profile _ProfA_ when it satisfies the following:
  1. _ProfA_ is included in the **MPD** \@profiles attribute.
  2. The profile-specific MPD for _ProfA_ is valid in terms the schema defined in Annex B.
  3. The profile-specific MPD for _ProfA_ conforms to the normative semantics defined in this specification.
  4. The profile-specific MPD for _ProfA_ conforms to the restrictions specified for _ProfA_.
A Media Presentation is conforming to profile _profA_ when it satisfies the
following:
  1. The MPD of the Media Presentation is conforming to profile _ProfA_ as specified above.
  2. There is at least one Representation in each Period in the profile-specific MPD for _ProfA_.
  3. The Segments of the Representations of the profile-specific MPD for _ProfA_ conform to the restrictions specified for _ProfA_.
NOTE In other words, each MPD contains at least one Representation in each
Period, which fulfils the requirements of a profile listed in **MPD**
\@profiles. There may be stricter rules on the occurrence of Representations
in the specified profiles. For example, it can be required that there is at
least one Representation for each media type that contains or is inferred to
have the profile identifier of a specific profile.
### 7.3.2 3GPP Adaptive HTTP Streaming (Release-9 AHS)
Release-9 Adaptive HTTP Streaming as defined in TS 26.234 [3] Release-9,
clause 12 is not a profile of this specification. Rel-9 AHS uses a different
namespace \"urn:3GPP:ns:PSS:AdaptiveHTTPStreamingMPD:2009\" and a different
MIME type signalling \"application/3gpp-ahs+xml\" for the MPD. However, a
Media Presentation may be defined such that segments complying with the
segment formats in TS 26.234 [3] Release-9, clause 12, also comply with
segment formats for this specification.
### 7.3.3 3GP-DASH Release-10 Profile
#### 7.3.3.1 Introduction
The 3GP-DASH Release-10 profile is identified by the URN
"urn:3GPP:PSS:profile:DASH10".
This profile includes all features defined in the Release-10 version of this
specification in clauses 7.3.6 (media codecs), 7.3.7 (content protection), 8
(Media Presentation Description), 9 (File Format) and 10 (QoE).The \@mimeType
attribute of each Representation shall be provided according to RFC4337.
Additional parameters may be added according to RFC6381 [26].
### 7.3.4 3GP-DASH Release 11 multiview stereoscopic 3D video profile
The 3GP-DASH Release 11 multiview stereoscopic 3D video profile is identified
by the URN "urn:3GPP:PSS:profile:DASH11:MS3D".
The \@mimeType attribute of each Representation shall be provided according to
RFC4337. Additional parameters may be added according to RFC6381 [26].
This profile includes all features defined in clauses 7.3.7, 8, 9 and 10.
Clients that support 3GP-DASH Release 11 multiview stereoscopic 3D video
profile shall support multiview stereoscopic 3D video as specified in clause
7.4 of TS 26.234 [3]. For any other particular continuous media type, the
corresponding media decoders are specified in TS 26.234 [3], clause 7.2 for
speech, 7.3 for audio, 7.4 for video, 7.9 for timed text and 7.11 for timed
graphics. Additionally, the following contraints apply for multiview
stereoscopic 3D video bitstreams, if present in a media presentation:
The DASH multiple views scheme as defined in 5.8.5.6 of ISO/IEC 23009-1 [34]
shall be used in the MPD.
One of the following shall be true:
  * The base view of the stereoscopic multiview bitstream shall be a complementary representation and the non-base view of the bitstream shall be a dependent representation. The \@dependencyId attribute as specified in 5.3.5.2 of ISO/IEC 23009-1 [34] shall be used to indicate the complementary and dependent representations.
  * The base view and the non-base view of the stereoscopic multiview bitstream shall reside in the same representation. The SubRepresentation element shall be used for the representation, and the base view and the non-base view shall form separate sub-representations. The \@level and \@dependencyLevel attributes within the SubRepresentation element shall be used. The Level Assignment box shall be used. For each leaf segment index, that is, each Segment Index box that indexes only subsegments but not other Segment index boxes, there shall be exactly one Subsegment Index box.
### 7.3.5 3GP-DASH Release 11 frame-packed stereoscopic 3D video profile
The 3GP-DASH Release 11 frame-packed stereoscopic 3D video profile is
identified by the URN "urn:3GPP:PSS:profile:DASH11:FPS3D".
The \@mimeType attribute of each Representation shall be provided according to
RFC4337. Additional parameters may be added according to RFC6381 [26].
This profile includes all features defined in clauses 7.3.7, 8, 9 and 10.
Clients that support 3GP-DASH Release 11 frame-packed stereoscopic 3D video
profile shall support frame-packed stereoscopic 3D video as specified in
clause 7.4 of TS 26.234 [3]. For any other particular continuous media type,
the corresponding media decoders are specified in TS 26.234 [3], clause 7.2
for speech, 7.3 for audio, 7.4 for video, 7.9 for timed text and 7.11 for
timed graphics. Additionally, the following contraints apply for frame-packed
stereoscopic 3D video bitstreams, if present in a media presentation:
The FramePacking element as defined in clause 8.4.3.2 shall be used in the
MPD.
### 7.3.6 Media Codecs
For 3GP-DASH clients supporting a particular continuous media type, media
decoders are specified in TS 26.234 [3], clause 7.2 for speech, 7.3 for audio,
7.4 for video, 7.9 for timed text and 7.11 for timed graphics.
NOTE: If 3GP-DASH formatted content is delivered outside the scope of this
specification, additional constraints may apply on which media codecs can be
used. For example, TS26.346 [42] defines further restrictions when delivered
over MBMS.
### 7.3.7 Content Protection
3GP-DASH clients content protection may support OMA DRM 2.0 [15] or OMA DRM
2.1 [16]. Other content protection schemes may be supported. The
ContentProtection element in the MPD should be used to convey content
protection information.
When using OMA DRM V2.0 or OMA DRM V2.1 scheme for content protection, the
non-streamable Packetized DRM Content Format (PDCF) shall be used. An OMA-DRM
encrypted Representation shall include the brand "opf2". OMA-DRM [15] [16]
defines the procedures for acquiring the Rights Object from the Rights Issuer
to decrypt PDCF protected content. The scheme is identified by a
**ContentProtection** \@schemeIdUri set to \"urn:mpeg:dash:mp4protection\" and
the **ContentProtection** \@value shall include the version number; it starts
with \"odkm\", which is the scheme_type contained in the Scheme Type Box of
the PDCF file, followed by a \":\" and the scheme_version from the Scheme Type
Box of the PDCF file, encoded as up to 8 hexadecimal digits, where the leading
'0's may be omitted. For example, for OMA DRM2.0 the value could be
\"odkm:200\".
# 8 DASH - Media Presentation
## 8.1 Introduction
A Media Presentation is a structured collection of data that is accessible to
a 3GP-DASH client to provide a streaming service to the user.
3GP-DASH is intended to support a media-streaming model for delivery of media
content in which control of the delivery lies exclusively with the client.
Clients may request data using the HTTP protocol from standard web servers
that have no 3GP-DASH-specific capabilities. Consequently, this standard
focuses not on client or server procedures but on the data formats used to
provide a DASH Media Presentation.
The collection of encoded and deliverable versions of media content and the
appropriate description of these form a Media Presentation. Media content is
composed of a single or multiple contiguous media content **periods** in time.
Each media content period is composed of one or multiple **media content
components,** for example audio components in various languages and a video
component. Each media content component has an assigned **media content
component type** , for example audio or video.
Each media content component may have several encoded versions, referred to as
**media streams**. Each media stream inherits the properties of the media
content, the media content period, the media content component from which it
was encoded and in addition it gets assigned the properties of the encoding
process such as sub-sampling, codec parameters, encoding bitrate, etc. This
describing metadata is relevant for static and dynamic selection of media
content components and media streams.
{width="6.763194444444444in" height="5.622222222222222in"}
Figure 8.1: 3GP-DASH High-Level Data Model
DASH is based on a hierarchical data model aligned with the presentation in
Figure 8.1. A DASH Media Presentation is described by a **Media Presentation
Description** **(see clause 8.4.1)** document. This describes the sequence of
**Periods** **(see clause 8.4.2)** in time that make up the Media
Presentation. A Period typically represents a media content period during
which a consistent set of encoded versions of the media content is available
i.e. the set of available bitrates, languages, captions, subtitles etc. does
not change during a Period.
Within a Period, material is arranged into **Adaptation Sets (see clause
8.4.3.3)**. An Adaptation Set represents a set of interchangeable encoded
versions of one or several media content components. For example there may be
one Adaptation Set for the main video component and a separate one for the
main audio component. If there is other material available, for example
captions or audio descriptions, then these may each have a separate Adaptation
Set. Material may also be provided in multiplexed form, in which case
interchangeable versions of the _multiplex_ may be described as a single
Adaptation Set, for example an Adaptation Set containing both the main audio
and main video for a Period. Each of the multiplexed components may be
described individually by a media content component description.
An Adaptation Set contains a set of **Representations (see clause 8.4.3.4)**.
A Representation describes a _deliverable encoded version_ of one or several
media content components. A Representation includes one or more media streams
(one for each media content component in the multiplex). Any single
Representation within an Adaptation Set is sufficient to render the contained
media content components. Typically, clients may switch from Representation to
Representation within an Adaptation Set in order to adapt to network
conditions or other factors. Clients may also ignore Representations that rely
on codecs or other rendering technologies they do not support or that are
otherwise unsuitable.
Within a Representation, the content may be divided in time into **Segments
(see clause 8.4.4 and clause 9)**. A URL is provided for each Segment meaning
that a Segment is the largest unit of data that can be retrieved with a single
HTTP request.
NOTE: This is not strictly true, since the MPD may also include a byte range
with the URL, meaning that the Segment is contained in the byte range of some
larger resource. An intelligent client could in principle construct a single
request for multiple Segments, but this would not be the typical case.
DASH defines different timelines. One of the key features in DASH is that
encoded versions of different media content components share a common
timeline. The presentation time of access unit within the media content is
mapped to the global common presentation timeline for synchronization of
different media components and to enable seamless switching of different coded
versions of the same media components. This timeline is referred as Media
Presentation timeline. The Media Segments themselves contain accurate Media
Presentation timing information enabling synchronization of components and
seamless switching.
A second timeline is used to signal to clients the availability time of
Segments at the specified HTTP-URLs. These times are referred to as **Segment
availability times** and are provided in wall-clock time. Clients typically
compare the wall-clock time to Segment availability times before accessing the
Segments at the specified HTTP-URLs. For On-Demand services with a static MPD,
the availability times of all Segments are identical. For live services when
the MPD is updated, the availability times of Segments depend on the position
of the Segment in the Media Presentation timeline.
Segments are assigned a duration, which is the duration of the media contained
in the Segment when presented at normal speed. Typically all Segments in a
Representation have the same or roughly similar duration. However Segment
duration may differ from Representation to Representation. A DASH presentation
can be constructed with relative short Segments (for example a few seconds),
or longer Segments including a single Segment for the whole Representation.
Short Segments are usually required in the case of live content, where there
are restrictions on end-to-end latency. The duration of a Segment is typically
a lower bound on the end-to-end latency. DASH does not support the possibility
for Segments to be extended over time: a Segment is a complete and discrete
unit that must be made available in its entirety.
Segments may be further subdivided into **Subsegments** each of which contains
a whole number of complete access units. In formats defined in this
specification, a Subsegment contains a whole number of complete movie
fragments. A Segment may be divided into Subsegments described by a compact
**Segment index** , which provides the presentation time range in the
Representation and corresponding byte range in the Segment occupied by each
Subsegment. Clients may download this index in advance and then issue requests
for individual Subsegments.
Clients may switch from Representation to Representation within an Adaptation
Set at any time in the media content. However, switching at arbitrary
positions may be complicated because of coding dependencies within
Representations and other factors. It is also desirable to avoid download of
\'overlapping\' data i.e. media for the same time period from multiple
Representations. Usually, switching is simplest at a Stream Access Point in
the new stream. In order to formalize requirements related to switching DASH
defines a codec-independent concept of Stream Access Points and identifies
various types of Stream Access Points.
Segmentation and Subsegmentation may be performed in ways that make switching
simpler. For example, in the very simplest cases each Segment or Subsegment
begins with a Stream Access Point and the boundaries of Segments or
Subsegments are aligned across the Representations of an Adaptation Set. In
this case, switching Representation involves playing to the end of a
(Sub)Segment of one Representation and then playing from the beginning of the
next (Sub)Segment of the new Representation. The Media Presentation
Description and Segment Index provide various indications, which describe
properties of the Representations that may make switching simpler.
For On-Demand services, the Media Presentation Description is a static
document describing the various aspects of the Media Presentation. All
Segments of the Media Presentation are available on the server once any
Segment is available. For live services, however, Segments become available
with time as the content is produced. The Media Presentation Description may
be updated regularly to reflect changes in the presentation over time, for
example Segment URLs for new Segments may be added to the MPD and those for
old, no longer available Segments may be removed. However, if Segment URLs are
described using a template, this updating may not be necessary except for some
redundancy/failover cases.
In summary a Media Presentation is described in a Media Presentation
Description (MPD) including any possible updates of the MPD. The MPD is
defined in clause 8.2 and the update mechanisms in 8.5. Assembly of a
fragmented MPD is defined in 8.3. The data model that constitutes a Media
Presentation is defined in 8.4 and some additional elements in the MPD that
describe the content are provided in 8.6.
## 8.2 Media Presentation Description
### 8.2.1 General
The Media Presentation Description (MPD) is a document that contains metadata
required by a 3GP-DASH client to construct appropriate HTTP-URLs to access
Segments and to provide the streaming service to the user.
NOTE: actual playback of the media streams included in the Representations is
not controlled by the MPD information. Playback is controlled by the media
engine operating on the media streams contained in the Representations in the
usual way.
The format of URLs in the MPD and the process to generate HTTP GET and partial
GET requests from URLs provided in the MPD is defined in 8.7.
The MPD is an XML-document that is formatted according to the XML schema
provided in clause 8.2.2.
The MIME type of the MPD shall be "application/dash+xml" as defined in Annex
H.1.
The encoding of the MPD shall be UTF-8 as defined in IETF RFC 3629 [37]. All
data provided in extension namespaces shall be UTF-8 as defined in IETF RFC
3629 [37]. If binary data needs to be added, it shall be included in Base64 as
described in IETF RFC 4648 [39] within a UTF-8 encoded element with a proper
name space or identifier, such that an XML parser knows how to process or
ignore it.
MPDs may be updated as specified in clause 8.5. Updates may also be done using
MPD delta files as defined in clause 8.5.2. The MIME type of an MPD delta file
shall be "application/dashdelta" as defined in Annex H.2.
The delivery of the MPD is not in scope of this specification. If the MPD is
delivered over HTTP, then the MPD may be transfer encoded for transport, as
described in [18] using the generic GZip algorithm RFC 1952 [18]. 3GP-DASH
clients shall support GZip content decoding of the MPD when delivered over
HTTP (GZIP RFC 1952 [18], clause 9).
### 8.2.2 Schema and 3GPP Extension
The overview of the XML schema of the MPD is provided in below. Specific
types, elements and attributes are introduced in the remainder of this clause.
The complete MPD schema is provided in Annex B of this specification. In case
of any inconsistencies the schema in Annex B takes precedence over the XML-
syntax snippets provided in this clause. For the normative schema refer to the
schema in Annex B.
The main schema is provided in Table 8-1 with the namespace
\"urn:mpeg:dash:schema:mpd:2011\". The 3GPP extension namespace is provided in
Table 8-2 with namespace \"urn:3GPP:ns:DASH:MPD-ext:2011\". An extension
schema for 3GPP in the context of the specification is referred to as
\"3gpp-2011.xsd\". Elements and attributes in the extension namespace are
preceded with \"x3gpp:\" throughout this document.
The MPD shall be authored such that, after unrecognized XML attributes or
elements are removed, the result is a valid XML document formatted according
to the XML schema provided in Annex B and that complies with this
specification. Namespaces may be used to extend functionalities. Therefore,
all extended elements and attributes added to a **Representation** in
particular shall be such that they can be safely ignored by 3GP-DASH clients.
NOTE 1: Based on this if DASH clients remove all XML attributes and elements
from the MPD in the DASH namespace (urn:mpeg:dash:schema:mpd:2011) and in
other namespaces that are not in the XML schema documented in Annex B, the MPD
results in a valid XML document which complies with this specification. The
DASH client can use such a resulting MPD for presentation of a conforming
Media Presentation.
Example for valid MPDs are provided in Annex D.
Table 8-1: Overview of XML schema of the MPD
+----------------------------------------------------------------------+ | \\ | | \\ | | \\ | | \Media Presentation Description\\ | | \\ | | \ | | \ | | | | \\ | | \ | | \\ | | \ | | | | ... | | | | \ | +----------------------------------------------------------------------+
Table 8-2: Overview of XML schema for 3GPP MPD extensions
+----------------------------------------------------------------------+ | \\ | | \ | | | | \\ | | \Extensions to Media Presentation Description for | | 3GPP\\ | | \ | | | | ... | | | | \ | +----------------------------------------------------------------------+
### 8.2.3 (void)
### 8.2.4 (void)
## 8.3 MPD Assembly
### 8.3.1 Introduction
This clause defines a mechanism for referencing a remote DASH element from
within a local MPD. A subset of W3C XLINK [20] simple links is defined
consisting of:
\- restricted syntax and semantics in clause 8.3.2, and
\- the processing model in clause 8.3.3.
### 8.3.2 Syntax and semantics
Table 8-3 provides the XLINK attributes that are used in this specification
and shall be supported accordingly.
Table 8-3: XLINK attributes used in this specification
+-----------------+---------------------------------------------------+ | Attribute | Comments and Usage | +-----------------+---------------------------------------------------+ | \@xlink:type | Identifies the type of W3C XLINK being used. | | | | | | In the context of specification, all references | | | shall be W3C XLINK simple links. As the attribute | | | \@xlink:type is optional with fixed setting | | | \@xlink:type=\"simple\". | +-----------------+---------------------------------------------------+ | \@xlink:href | Identifies the remote DASH Element by URI as | | | defines in IETF RFC 3986 [17]. | | | | | | In the context of this specification, URI shall | | | exclusively be HTTP-URLs. | +-----------------+---------------------------------------------------+ | \@xlink:show | Defines the desired behaviour of a remote DASH | | | element once dereferenced from within a MPD as | | | defined in W3C XLINK. | | | | | | In the context of this specification the | | | attribute \@xlink:show is optional with fixed | | | setting \@xlink:show=\"embed\". | | | | | | NOTE: In W3C XLINK, the behaviour of conforming | | | XLink applications when embedding XML-based | | | ending resources, such as a remote DASH element, | | | is not defined. Thus, the actual behaviour for | | | this standard is defined in clause 8.3.3. | +-----------------+---------------------------------------------------+ | \@xlink:actuate | Defines the desired timing of dereferencing a | | | remote DASH-Element from within a MPD as defined | | | in W3C XLINK. The following attribute values are | | | allowed in this standard: | | | | | | 1) onLoad: an application should dereference the | | | remote DASH element immediately on loading the | | | MPD. | | | | | | 2) onRequest (default): formally, an application | | | should dereference the remote DASH-element only | | | on a post-loading event triggered for the purpose | | | of dereferencing. In the context of this | | | specification, the application dereferences the | | | link only for those resources it needs (or | | | anticipates it probably will need). Examples | | | include de-referencing a link in a **Period** | | | element when the play-time is expected to enter | | | that period, de-referencing a representation | | | group link when it appears to contain | | | representations that will be needed, and so on. | +-----------------+---------------------------------------------------+
The restricted schema for XLINK in the context of the standard is referred to
as \"xlink.xsd\" in any schema in this standard and defined in Table 8-4.
Table 8-4: XML Schema for XLINK attributes used in this specification
* * *
\\ \\ \ \\ \ \\ \ \\
\\ \\ \ \\ \ \\ \
\\ \\
\\ \\
\\ \\ \
* * *
### 8.3.3 Processing
The following rules apply to the processing of URI references within
\@xlink:href:
1) URI references to remote elements that cannot be resolved shall be treated
as invalid references and invalidate the MPD.
2) Only a single element type shall be included in a remote element. However,
multiple elements of the same type may be included in a remote element unless
explicitly restricted. If multiple root elements are obtained from the remote
element, the elements shall be returned in the appropriate order and the first
element shall replace the element within the MPD, using the rules defined
above. All other elements shall be inserted immediately after this element in
the order in which they are declared.
3) URI references to remote elements that are inappropriate targets for the
given reference shall be treated as invalid references (see list below for the
appropriate targets) references and invalidate the MPD.
4) URI references that directly or indirectly reference themselves are treated
as invalid circular references references and invalidate the MPD.
5) If a URI reference is relative then reference resolution as defined in
8.7.4 shall apply.
The remote elements referenced from within an MPD (referred to as appropriate
targets) shall be embedded into the MPD by applying the following rules:
1) Attributes and elements obtained from the remote element shall be added to
the element of the MPD that contains \@xlink:href and shall be merged with the
ones already present in the MPD. If the same attributes are present in both
MPD and remote element, the attribute values should be the same. If they are
not identical, then the value of the attribute of the MPD takes precedence
over the value of the attribute in the remote DASH element.
2) The remote DASH element referenced by the \@xlink:href shall conform to the
type definition of the element in the MPD that contains \@xlink:href.
3) All XLINK attributes shall be removed after dereferencing is completed.
4) Only a single element type shall be included in a remote DASH element.
However, multiple elements of the same type may be included in a remote
element unless explicitly restricted.
5) All resources in the remote element referenced by \@xlink:href shall have
an availability end time as specified by **MPD** \@availabilityEndTime.
## 8.4 Hierarchical Data Model
### 8.4.1 General
A Media Presentation is described in the **MPD** element that is contained in
an MPD document formatted as defined in clause 8.2.
A Media Presentation consists of:
\- A sequence of one or more Periods described in 8.4.2.
\- Each Period contains one or more Adaptation Sets that itself contains one
or more Representations as described in clause 8.4.3. Clause 8.4.3 also
defines media content components and Sub-Representations.
\- Each Representation consists of one or more Segments. Segment Information
is introduced in clause 8.4.4. Segments contain media data and/or metadata to
access, decode and present the included media content.
The summary of the semantics of the attributes and elements within an **MPD**
element are provided in Table 8-5. The XML-syntax of the **MPD** element is
provided in Table 8-6.
Table 8-5: Semantics of MPD element
+----------------+----------------+----------------+----------------+ | Element or | Use | Description | | | Attribute Name | | | | +----------------+----------------+----------------+----------------+ | **MPD** | | The root | | | | | element that | | | | | carries the | | | | | Media | | | | | Presentation | | | | | Description | | | | | for a Media | | | | | Presentation. | | +----------------+----------------+----------------+----------------+ | | \@id | O | specifies an | | | | | identifier for | | | | | the Media | | | | | Presentation. | | | | | It is | | | | | recommended to | | | | | use an | | | | | identifier | | | | | that is unique | | | | | within the | | | | | scope in which | | | | | the Media | | | | | Presentation | | | | | is published. | | | | | | | | | | If not | | | | | specified, no | | | | | MPD-internal | | | | | identifier is | | | | | provided. | | | | | However, for | | | | | example the | | | | | URL to the MPD | | | | | may be used as | | | | | an identifier | | | | | for the Media | | | | | Presentation. | +----------------+----------------+----------------+----------------+ | | \@profiles | M | specifies a | | | | | list of Media | | | | | Presentation | | | | | profiles as | | | | | described in | | | | | section 7.3. | | | | | | | | | | The contents | | | | | of this | | | | | attribute | | | | | shall conform | | | | | to either the | | | | | pro-simple or | | | | | pro-fancy | | | | | productions of | | | | | RFC6381, | | | | | Section 4.5, | | | | | without the | | | | | enclosing | | | | | DQUOTE | | | | | characters, | | | | | i.e. including | | | | | only the | | | | | unencodedv or | | | | | encodedv | | | | | elements | | | | | respectively. | | | | | As profile | | | | | identifier the | | | | | URI defined | | | | | for the | | | | | conforming | | | | | Media | | | | | Presentation | | | | | profiles as | | | | | described in | | | | | 7.3 shall be | | | | | used. | +----------------+----------------+----------------+----------------+ | | \@type | OD | specifies | | | | | whether the | | | | default: | Media | | | | static | Presentation | | | | | Description | | | | | may be updated | | | | | (\@typ | | | | | e=\"dynamic\") | | | | | or not | | | | | (\@typ | | | | | e=\"static\"). | | | | | | | | | | NOTE Static | | | | | MPDs are | | | | | typically used | | | | | for On-Demand | | | | | services, | | | | | whereas | | | | | dynamic MPDs | | | | | are used for | | | | | live services. | +----------------+----------------+----------------+----------------+ | | \@availab | CM | For | | | ilityStartTime | | \@ | | | | Must be | type="dynamic" | | | | present for | this attribute | | | | type="dynamic" | shall be | | | | | present. In | | | | | this case it | | | | | specifies the | | | | | anchor for the | | | | | computation of | | | | | the segment | | | | | availability | | | | | start time for | | | | | any Segment in | | | | | the Media | | | | | Presentation. | | | | | | | | | | For | | | | | \ | | | | | @type="static" | | | | | , if present, | | | | | it specifies | | | | | the Segment | | | | | availability | | | | | start time for | | | | | all Segments | | | | | referred to in | | | | | this MPD. If | | | | | not present, | | | | | all Segments | | | | | described in | | | | | the MPD shall | | | | | be become | | | | | available at | | | | | the time the | | | | | MPD becomes | | | | | available. | +----------------+----------------+----------------+----------------+ | | \@avail | O | specifies the | | | abilityEndTime | | latest Segment | | | | | availability | | | | | end time for | | | | | any Segment in | | | | | the Media | | | | | Presentation. | | | | | When not | | | | | present, the | | | | | value is | | | | | unknown. | +----------------+----------------+----------------+----------------+ | | \@mediaPresen | CM | specifies the | | | tationDuration | | duration of | | | | Must be | the entire | | | | present for | Media | | | | \@t | Presentation. | | | | ype=\'static\' | | | | | | If the | | | | | attribute is | | | | | not present, | | | | | the duration | | | | | of the Media | | | | | Presentation | | | | | is unknown. In | | | | | this case the | | | | | attribute | | | | | **MPD** \@minim | | | | | umUpdatePeriod | | | | | shall be | | | | | present. | | | | | | | | | | This attribute | | | | | shall be | | | | | present when | | | | | the attribute | | | | | **MPD** \@minim | | | | | umUpdatePeriod | | | | | is not | | | | | present. | +----------------+----------------+----------------+----------------+ | | \@minim | O | If this | | | umUpdatePeriod | | attribute is | | | | | present, it | | | | | specifies the | | | | | smallest | | | | | period between | | | | | potential | | | | | changes to the | | | | | MPD. This can | | | | | be useful to | | | | | control the | | | | | frequency at | | | | | which a client | | | | | checks for | | | | | updates. | | | | | | | | | | If this | | | | | attribute is | | | | | not present it | | | | | indicates that | | | | | the MPD does | | | | | not change. | | | | | | | | | | If | | | | | **MPD** \@type | | | | | is 'static', | | | | | \@minim | | | | | umUpdatePeriod | | | | | shall not be | | | | | present. | | | | | | | | | | Details on the | | | | | use of the | | | | | value of this | | | | | attribute are | | | | | specified in | | | | | 8.5. | +----------------+----------------+----------------+----------------+ | | \ | M | specifies a | | | @minBufferTime | | common | | | | | duration used | | | | | in the | | | | | definition of | | | | | the | | | | | Representation | | | | | data rate (see | | | | | \@bandwidth | | | | | attribute in | | | | | 8.4.3.4). | +----------------+----------------+----------------+----------------+ | | \@timeSh | O | specifies the | | | iftBufferDepth | | duration of | | | | | the smallest | | | | | time shifting | | | | | buffer for any | | | | | Representation | | | | | in the MPD | | | | | that is | | | | | guaranteed to | | | | | be available | | | | | for a Media | | | | | Presentation | | | | | with type | | | | | \'dynamic\'. | | | | | When not | | | | | present, the | | | | | value is | | | | | infinite. This | | | | | value of the | | | | | attribute is | | | | | undefined if | | | | | the \@type | | | | | attribute is | | | | | equal to | | | | | 'static'. | +----------------+----------------+----------------+----------------+ | | \@suggestedPre | O | when \@type is | | | sentationDelay | | \'dynamic\', | | | | | it specifies a | | | | | fixed delay | | | | | offset in time | | | | | from the | | | | | presentation | | | | | time of each | | | | | access unit | | | | | that is | | | | | suggested to | | | | | be used for | | | | | presentation | | | | | of each access | | | | | unit. For more | | | | | details refer | | | | | to 9.4.1.2. | | | | | When not | | | | | specified, | | | | | then no value | | | | | is provided | | | | | and the client | | | | | is expected to | | | | | choose a | | | | | suitable | | | | | value. | | | | | | | | | | when \@type is | | | | | \'static\' the | | | | | value of the | | | | | attribute is | | | | | undefined and | | | | | may be | | | | | ignored. | +----------------+----------------+----------------+----------------+ | | \@maxS | O | specifies the | | | egmentDuration | | maximum | | | | | duration of | | | | | any Segment in | | | | | any | | | | | Representation | | | | | in the Media | | | | | Presentation, | | | | | i.e. | | | | | documented in | | | | | this MPD and | | | | | any future | | | | | update of the | | | | | MPD. If not | | | | | present, then | | | | | the maximum | | | | | Segment | | | | | duration shall | | | | | be the maximum | | | | | duration of | | | | | any Segment | | | | | documented in | | | | | this MPD. | +----------------+----------------+----------------+----------------+ | | \@maxSubs | O | specifies the | | | egmentDuration | | maximum | | | | | duration of | | | | | any Media | | | | | Subsegment in | | | | | any | | | | | Representation | | | | | in the Media | | | | | Presentation. | | | | | If not | | | | | present, the | | | | | same value as | | | | | for the | | | | | maximum | | | | | Segment | | | | | duration is | | | | | implied. | +----------------+----------------+----------------+----------------+ | | **Progra | 0 ... N | specifies | | | mInformation** | | descriptive | | | | | information | | | | | about the | | | | | program. For | | | | | more details | | | | | refer to the | | | | | description in | | | | | clause 8.6.2. | +----------------+----------------+----------------+----------------+ | | **UTCTiming** | 0 ... N | specifies | | | | | information on | | | | | ways to obtain | | | | | a | | | | | s | | | | | ynchronization | | | | | to wall-clock | | | | | time as used | | | | | in this Media | | | | | Presentation. | | | | | The order of | | | | | the elements | | | | | expresses a | | | | | preference of | | | | | choice by the | | | | | Media | | | | | Presentation | | | | | author. For | | | | | more details | | | | | refer to | | | | | clause | | | | | 8.6.3.11. | +----------------+----------------+----------------+----------------+ | | **BaseURL** | 0 ... N | specifies a | | | | | Base URL that | | | | | can be used | | | | | for reference | | | | | resolution and | | | | | alternative | | | | | URL selection. | | | | | For more | | | | | details refer | | | | | to the | | | | | description in | | | | | clause 8.7. | +----------------+----------------+----------------+----------------+ | | **x3gpp: | 0 ... 1 | If present, | | | DeltaSupport** | | this element | | | | | specifies that | | | | | MPD delta | | | | | files are | | | | | supported by | | | | | the server. | | | | | For more | | | | | details refer | | | | | to the | | | | | description in | | | | | clause 8.5.2. | +----------------+----------------+----------------+----------------+ | | **Location** | 0 ... N | specifies an | | | | | absolute URL | | | | | where the MPD | | | | | is available. | +----------------+----------------+----------------+----------------+ | | **Period** | 1 ... N | specifies a | | | | | Period. For | | | | | more details | | | | | refer to the | | | | | description in | | | | | clause 8.4.2. | +----------------+----------------+----------------+----------------+ | | **Metrics** | 0 ... N | specifies | | | | | information | | | | | about the | | | | | requested QoE | | | | | metrics. For | | | | | more details | | | | | refer to | | | | | clause 10.3. | | | | | | | | | | At most one | | | | | **Metrics** | | | | | element shall | | | | | be present in | | | | | the MPD. | | | | | | | | | | NOTE: The | | | | | schema allows | | | | | more than one | | | | | **Metrics** | | | | | element for | | | | | potential | | | | | future | | | | | extensions. | +----------------+----------------+----------------+----------------+ | Legend: | | | | | | | | | | > For | | | | | > attributes: | | | | | > M=Mandatory, | | | | | > O=Optional, | | | | | > OD=Optional | | | | | > with Default | | | | | > Value, | | | | | > CM | | | | | =Conditionally | | | | | > Mandatory. | | | | | > | | | | | > For | | | | | > elements: | | | | | > \ | | | | | .. | | | | | .\ | | | | | > | | | | | (N=unbounded) | | | | | | | | | | Elements are | | | | | bold; | | | | | attributes are | | | | | non-bold and | | | | | preceded with | | | | | an @ | | | | +----------------+----------------+----------------+----------------+
Table 8-6: Syntax of MPD element
\\ \\ \\
\
\
\\ \\ \\ \
\\ \
\\ \\ \\ \\ \\ \\ \\ \\ \\ \
\\
\\
\\
\
\\ \\ \\
\\ \\
\\ \
### 8.4.2 Period
#### 8.4.2.1 General
A Media Presentation consists of one or more Periods. A Period is defined by
**Period** element in the **MPD** element.
Three types of Periods are defined:
  * Regular Period,
  * Early Available Period,
  * Early Terminated Period.
The type of the Periodas well as the _PeriodStart_ time of a regular Period or
early terminated Period is determined as follows:
  * If the attribute \@start is present in the **Period** , then the Period is a regular Period or an early terminated Period and the _PeriodStart_ is equal to the value of this attribute.
  * If the \@start attribute is absent, but the previous **Period** element contains a \@duration attribute then this new Period is also a regular Period or an early terminated Period. The start time of the new Period _PeriodStart_ is the sum of the start time of the previous Period _PeriodStart_ and the value of the attribute \@duration of the previous Period.
  * If (i) \@start attribute is absent, and (ii) the **Period** element is the first in the MPD, and (iii) the **MPD** \@type is \'static\', then the _PeriodStart_ time shall be set to zero.
  * If (i) \@start attribute is absent, and (ii) the previous **Period** element does not contains a \@duration attribute or the **Period** element is the first in the MPD, and (iii) the **MPD** \@type is \'dynamic\', then this Period is an Early Available Period (see below for details).
  * If (i) \@duration attribute is present, and (ii) the next Period element contains a \@start attribute or the \@minimumUpdatePeriod is present, then this Period is an Early Terminated Period (see below for details).
For any regular Period and early terminated Period the following holds:
_PeriodStart_ reflects the actual time that should elapse after playing the
media of all prior Periods in this Media Presentation relative to the
_PeriodStart_ time of the first Period in the Media Presentation. The Period
extends until the _PeriodStart_ of the next Period, or until the end of the
Media Presentation in the case of the last Period. For regular Periods, the
difference between the _PeriodStart_ time of a Period and either the
_PeriodStart_ time of the following Period, if this is not the last Period, or
the value of the **MPD** \@mediaPresentationDuration if this is the last one,
is the presentation duration in Media Presentation time of the media content
represented by the Representations in this Period. . For Early Terminated
Periods, the value of the **Period** \@duration is the presentation duration
in Media Presentation time of the media content represented by the
Representations in this Period.
Early Available Periods may be used to advertise initialization of other non-
media data before the media data itself is available. **Period** elements
documenting early available Periods shall not occur before any **Period**
element documenting a regular Period. For Early Available Periods, any
resources that are announced in such a **Period** element shall be available.
Such a **Period** element shall not contain URLs to Media Segments. The data
contained in such a **Period** element does not represent a Period in the
Media Presentation. Only when the _PeriodStart_ time becomes known through an
update of the MPD, such a **Period** element represents a regular Period.
However, an update of the MPD may even remove a **Period** element
representing an Early Available Period in later updates of the MPD as long as
no _PeriodStart_ time is associated with the Period.
The attributes and elements contained in the **Period** element are provided
in Table 8-7 along with their semantics. The XML syntax or the **Period**
element is provided in Table 8-8.
Table 8-7: Semantics of Period Element
+-------------+------------+-------------+-------------+-------------+ | Element or | Use | Description | | | | Attribute | | | | | | Name | | | | | +-------------+------------+-------------+-------------+-------------+ | | **Period** | | specifies | | | | | | the | | | | | | information | | | | | | for a | | | | | | single | | | | | | Period. | | +-------------+------------+-------------+-------------+-------------+ | | | \ | O | specifies a | | | | @xlink:href | | reference | | | | | | to a remote | | | | | | element | | | | | | that | | | | | | contains | | | | | | one or | | | | | | multiple | | | | | | elements of | | | | | | type | | | | | | **Period** | +-------------+------------+-------------+-------------+-------------+ | | | \@xl | O | specifies | | | | ink:actuate | | the | | | | | default:\ | processing | | | | | onRequest | in | | | | | | structions, | | | | | | which can | | | | | | be either | | | | | | \"onLoad\" | | | | | | or | | | | | | \"o | | | | | | nRequest\". | | | | | | | | | | | | This | | | | | | attribute | | | | | | must not be | | | | | | present if | | | | | | the | | | | | | \ | | | | | | @xlink:href | | | | | | attribute | | | | | | is not | | | | | | present | +-------------+------------+-------------+-------------+-------------+ | | | \@id | CM | specifies a | | | | | | unique | | | | | if | identifier | | | | | \"_| for this | | | | |_ MPD**\@typ | Period | | | | | e=dynamic\" | within the | | | | | | Media | | | | | | Pr | | | | | | esentation. | | | | | | The | | | | | | identifier | | | | | | shall be | | | | | | unique | | | | | | within the | | | | | | scope of | | | | | | the Media | | | | | | Pr | | | | | | esentation. | | | | | | | | | | | | If the | | | | | | ** | | | | | | MPD** \@type | | | | | | is equal to | | | | | | \ | | | | | | "dynamic\", | | | | | | then this | | | | | | attribute | | | | | | shall be | | | | | | present and | | | | | | the \@id of | | | | | | the Period | | | | | | shall not | | | | | | change in | | | | | | case an MPD | | | | | | is updated. | | | | | | | | | | | | If not | | | | | | present, no | | | | | | identifier | | | | | | for the | | | | | | Period is | | | | | | provided. | +-------------+------------+-------------+-------------+-------------+ | | | \@start | O | if present, | | | | | | specifies | | | | | | the | | | | | | _P | | | | | | eriodStart_ | | | | | | time of the | | | | | | Period. | | | | | | | | | | | | The | | | | | | _P | | | | | | eriodStart_ | | | | | | time is | | | | | | used as an | | | | | | anchor to | | | | | | determine | | | | | | the MPD | | | | | | start time | | | | | | of each | | | | | | Media | | | | | | Segment as | | | | | | well as to | | | | | | determine | | | | | | the | | | | | | p | | | | | | resentation | | | | | | time of | | | | | | each access | | | | | | unit in the | | | | | | Media | | | | | | P | | | | | | resentation | | | | | | timeline. | | | | | | | | | | | | If not | | | | | | present, | | | | | | refer to | | | | | | the details | | | | | | above in | | | | | | this | | | | | | clause. | +-------------+------------+-------------+-------------+-------------+ | | | \@duration | O | if present, | | | | | | specifies | | | | | | the | | | | | | duration of | | | | | | the Period | | | | | | to | | | | | | determine | | | | | | the | | | | | | _P | | | | | | eriodStart_ | | | | | | time of the | | | | | | next | | | | | | Period. | | | | | | | | | | | | If not | | | | | | present, | | | | | | refer to | | | | | | the details | | | | | | above in | | | | | | this | | | | | | clause. | +-------------+------------+-------------+-------------+-------------+ | | | \@bitstre | OD | When set to | | | | amSwitching | | 'true', | | | | | Default:\ | this is | | | | | false | equivalent | | | | | | as if the | | | | | | **Ad | | | | | | aptationSet | | | | | |** \@bitstre | | | | | | amSwitching | | | | | | for each | | | | | | Adaptation | | | | | | Set | | | | | | contained | | | | | | in this | | | | | | Period is | | | | | | set to | | | | | | \'true\'. | | | | | | In this | | | | | | case, the | | | | | | **Ad | | | | | | aptationSet | | | | | |** \@bitstre | | | | | | amSwitching | | | | | | attribute | | | | | | shall not | | | | | | be set to | | | | | | \'false\' | | | | | | for any | | | | | | Adaptation | | | | | | Set in this | | | | | | Period. | +-------------+------------+-------------+-------------+-------------+ | | | **BaseURL** | 0...N | specifies a | | | | | | base URL | | | | | | that can be | | | | | | used for | | | | | | reference | | | | | | resolution | | | | | | and | | | | | | alternative | | | | | | URL | | | | | | selection. | | | | | | For more | | | | | | details | | | | | | refer to | | | | | | the | | | | | | description | | | | | | in clause | | | | | | 8.7. | +-------------+------------+-------------+-------------+-------------+ | | | **Se | 0...1 | specifies | | | | gmentBase** | | default | | | | | | Segment | | | | | | Base | | | | | | i | | | | | | nformation. | | | | | | | | | | | | Information | | | | | | in this | | | | | | element is | | | | | | overridden | | | | | | by | | | | | | information | | | | | | in | | | | | | **Adapt | | | | | | ationSet.Se | | | | | | gmentBase** | | | | | | and | | | | | | **Represe | | | | | | ntation.Seg | | | | | | mentBase** , | | | | | | if present. | | | | | | | | | | | | For more | | | | | | details see | | | | | | clause | | | | | | 8.4.4. | +-------------+------------+-------------+-------------+-------------+ | | | **Se | 0...1 | specifies | | | | gmentList** | | default | | | | | | Segment | | | | | | List | | | | | | i | | | | | | nformation. | | | | | | | | | | | | Information | | | | | | in this | | | | | | element may | | | | | | be | | | | | | overridden | | | | | | by | | | | | | information | | | | | | in | | | | | | **Adapt | | | | | | ationSet.Se | | | | | | gmentList** | | | | | | and | | | | | | **Represe | | | | | | ntation.Seg | | | | | | mentList** , | | | | | | if present. | | | | | | | | | | | | For more | | | | | | details see | | | | | | clause | | | | | | 8.4.4. | +-------------+------------+-------------+-------------+-------------+ | | | **Segmen | 0...1 | specifies | | | | tTemplate** | | default | | | | | | Segment | | | | | | Template | | | | | | i | | | | | | nformation. | | | | | | | | | | | | Information | | | | | | in this | | | | | | element may | | | | | | be | | | | | | overridden | | | | | | by | | | | | | information | | | | | | in | | | | | | **Adaptatio | | | | | | nSet.Segmen | | | | | | tTemplate** | | | | | | and | | | | | | ** | | | | | | Representat | | | | | | ion.Segment | | | | | | Template**, | | | | | | if present. | | | | | | | | | | | | For more | | | | | | details see | | | | | | clause | | | | | | 8.4.4. | +-------------+------------+-------------+-------------+-------------+ | | |** Adap | 0...N | specifies | | | | tationSet** | | an | | | | | | Adaptation | | | | | | Set. | | | | | | | | | | | | At least | | | | | | one | | | | | | Adaptation | | | | | | Set shall | | | | | | be present | | | | | | in each | | | | | | Period | | | | | | unless the | | | | | | value of | | | | | | the | | | | | | \@duration | | | | | | attribute | | | | | | of the | | | | | | Period is | | | | | | set to | | | | | | zero. Note | | | | | | that the | | | | | | actual | | | | | | element may | | | | | | be present | | | | | | only in a | | | | | | remote | | | | | | element if | | | | | | xlink is in | | | | | | use. | | | | | | | | | | | | For more | | | | | | details see | | | | | | clause | | | | | | 8.4.3.3. | +-------------+------------+-------------+-------------+-------------+ | Legend: | | | | | | | | | | | | > For | | | | | | > | | | | | | attributes: | | | | | | > M | | | | | | =Mandatory, | | | | | | > | | | | | | O=Optional, | | | | | | > | | | | | | OD=Optional | | | | | | > with | | | | | | > Default | | | | | | > Value, | | | | | | > CM=Co | | | | | | nditionally | | | | | | > | | | | | | Mandatory. | | | | | | > | | | | | | > For | | | | | | > elements: | | | | | | > \...\ | | | | | | > (N | | | | | | =unbounded) | | | | | | > | | | | | | > Note that | | | | | | > the | | | | | | > | | | | | | conditions | | | | | | > only | | | | | | > holds | | | | | | > without | | | | | | > using | | | | | | > | | | | | | xlink:href. | | | | | | > If | | | | | | > linking | | | | | | > is used, | | | | | | > then all | | | | | | > | | | | | | attributes | | | | | | > are | | | | | | > \ | | | | | | "optional\" | | | | | | > and | | | | | | > \ | | | | | | | | | | | | Elements | | | | | | are bold; | | | | | | attributes | | | | | | are | | | | | | non-bold | | | | | | and | | | | | | preceded | | | | | | with an @. | | | | | +-------------+------------+-------------+-------------+-------------+
Table 8-8: Syntax of Period Element
* * *
\\ \\
\\ \\ \\ \\ \\
\\ \\
\\ \\ \\ \\ \\
\\ \\
\\
\
* * *
#### 8.4.2.2 Content Offering with Multiple Periods
Content with multiple Periods may be created for different reasons, for
example:
\- to enable splicing of content, for example for ad insertion,
\- to provide a synchronization point to avoid drift in segment numbering,
\- to remove or add certain Representations in an Adaptation Set,
\- to remove or add certain Adaptation Sets,
\- to add or remove content offering on certain CDNs,
\- to enable signalling of shorter segments, if produced by the encoder
Periods provide opportunities for resync, for ad insertion, for adding and
removing Representations, but if they are not used or only used for minor
changes, then continuous playout of the client is expected.
In certain circumstances the Media Presentation author offers content in the
next Period that is a continuation of the content in the previous Period,
possibly in the immediately following Period or in a later Period. The latter
case applies for example after an advertisement Period had been inserted. The
content provider may provide period-continuous Adaptation Sets as follows:
  * The Adaptation Set identifier are the same across two Periods.
  * The sum of the value of the \@presentationTimeOffset and the presentation duration of all Representations in one Adaptation Set are identical to the value of the \@presentationTimeOffset of the associated Adaptation Set in the next Period.
  * If Representations in both Adaptation Sets have the same value for \@id, then they sshould have functionally equivalent Initialization Segments, i.e. the Initialization Segment may be used to continue the play-out the Representation.
From a client perspective, at Period boundary typically no continuity in terms
of content offering is ensured. The content may be offered with different
codecs, language attributes, different protection and so on. The client should
play the content continuously across Periods, but there may be implications in
terms of implementation to provide fully continuous and seamless playout. It
may be the case that at Period boundaries, the presentation engine needs to be
reinitialised, for example due to changes in formats, codecs or other
properties. This may result in a re-initialisation delay. Such a re-
initialisation delay should be minimized.
If the client presents media components of a certain Adaptation Set in one
Period, and if the following Period has an identical Adaptation Set
identifier, then the client is suggested to continue playing the content in
the associated Adaptation Set.
### 8.4.3 Adaptation Sets and Representations
#### 8.4.3.1 Overview
Periods are further subdivided as follows:
  * Each Period contains one or more groups. Groups consist of Adaptation Sets as described in clause 8.4.3.3.
  * In case an Adaptation Set contains multiple media content components, then each media content component is described individually as defined in clause 8.4.3.6.
  * Each Adaptation Set contains one or more Representations as described in clause 8.4.3.4.
  * A Representation may contain one or more Sub-Representations as described in clause 8.4.3.5.
  * Adaptation Sets, Representations and Sub-Representations share common attributes and elements that are described in clause 8.4.3.2.
#### 8.4.3.2 Common Attributes and Elements
The elements **AdaptationSet, Representation** and **SubRepresentation** have
assigned common attributes and elements.
The attributes and elements listed in Table 6 may be present in all three
elements. The semantics of these attributes are provided in Table 8-9. The
XML-syntax is provided in Table 8-10.
The \'Use\' column in Table 8-9 shall be interpreted that an attribute marked
with \'M\' shall be available for a Representation, i.e. it shall either be
present in the **Representation** element, or if not, it shall be in the
containing\ **AdaptationSet** element. An attribute marked with \'O\' may be
absent in both.
Table 8-9: Common Adaptation Set, Representation and Sub-Representation and
Attributes\ and Elements
+--------------------------+---------+--------------------------+---+ | Element or Attribute | Use | Description | | | Name | | | | +--------------------------+---------+--------------------------+---+ | **_Common attributes and | | | | | elements_** | | | | +--------------------------+---------+--------------------------+---+ | \@profiles | O | specifies the profiles | | | | | which the associated | | | | | Representation(s) | | | | | conform to the list of | | | | | Media Presentation | | | | | profiles as described in | | | | | 7.3. The value shall be | | | | | a subset of the | | | | | respective value in any | | | | | higher level of the | | | | | document hierarchy | | | | | (Representation, | | | | | Adaptation Set, MPD). | | | | | | | | | | If not present, the | | | | | value is inferred to be | | | | | the same as in the next | | | | | higher level of the | | | | | document hierarchy. For | | | | | example, if the value is | | | | | not present for a | | | | | Representation, then | | | | | \@profiles at the | | | | | Adaptation Set level is | | | | | valid for the | | | | | Representation. | | | | | | | | | | The same syntax as | | | | | defined in 8.4.1 shall | | | | | be used. | | +--------------------------+---------+--------------------------+---+ | \@width | O | Specifies the horizontal | | | | | visual presentation size | | | | | of the video media type | | | | | in pixel. | | | | | | | | | | If not present on any | | | | | level, the value is | | | | | unknown. | | +--------------------------+---------+--------------------------+---+ | \@height | O | Specifies the vertical | | | | | visual presentation size | | | | | of the video media type | | | | | in pixel. | | | | | | | | | | If not present on any | | | | | level, the value is | | | | | unknown. | | +--------------------------+---------+--------------------------+---+ | \@frameRate | O | specifies the output | | | | | frame rate of the video | | | | | media type in the | | | | | Representation. If the | | | | | frame rate is varying, | | | | | the value is the average | | | | | frame over the entire | | | | | duration of the | | | | | Representation. | | | | | | | | | | The value is coded as a | | | | | string, either | | | | | containing two integers | | | | | separated by a \"/\", | | | | | (\"F/D\"), or a single | | | | | integer \"F\". The frame | | | | | rate is the division | | | | | F/D, or F, respectively, | | | | | per second (i.e. the | | | | | default value of D is | | | | | "1"). | | | | | | | | | | If not present on any | | | | | level, the value is | | | | | unknown. | | +--------------------------+---------+--------------------------+---+ | \@audioSamplingRate | O | Either a single decimal | | | | | integer value specifying | | | | | the sampling rate or a | | | | | whitespace separated | | | | | pair of decimal integer | | | | | values specifying the | | | | | minimum and maximum | | | | | sampling rate of the | | | | | audio media component | | | | | type. The values are in | | | | | samples per second. | | | | | | | | | | If not present on any | | | | | level, the value is | | | | | unknown. | | +--------------------------+---------+--------------------------+---+ | \@mimeType | M | specifies the MIME type | | | | | of the concatenation of | | | | | the Initialization | | | | | Segment, if present, and | | | | | all consecutive Media | | | | | Segments in the | | | | | Representation. | | +--------------------------+---------+--------------------------+---+ | \@codecs | M | specifies the codecs | | | | | parameter specifying the | | | | | media types. The codec | | | | | parameters shall also | | | | | include the profile and | | | | | level information where | | | | | applicable. | | | | | | | | | | The contents of this | | | | | attribute shall conform | | | | | to either the simp-list | | | | | or fancy-list | | | | | productions of RFC6381 | | | | | [26] clause 3.2, | | | | | without the enclosing | | | | | DQUOTE characters. The | | | | | codec identifier for the | | | | | media format, mapped | | | | | into the name space for | | | | | codecs as specified in | | | | | clause 3.3 of RFC6381 | | | | | [26] or clause A.2.2 | | | | | of [4] shall be used. | | +--------------------------+---------+--------------------------+---+ | \@maximumSAPPeriod | O | when present, specifies | | | | | the maximum SAP interval | | | | | in seconds of all | | | | | contained media streams, | | | | | where the SAP interval | | | | | is the maximum time | | | | | interval between the | | | | | T~SAP~ of any two | | | | | successive SAPs of types | | | | | 1 to 3 inclusive of one | | | | | media stream in the | | | | | associated | | | | | Representations. | | | | | | | | | | If not present on any | | | | | level, the value is | | | | | unknown. | | +--------------------------+---------+--------------------------+---+ | \@startWithSAP | O | when present and greater | | | | | than 0, specifies that | | | | | in the associated | | | | | Representations, each | | | | | Media Segment starts | | | | | with a SAP of type less | | | | | than or equal to the | | | | | value of this attribute | | | | | value in each media | | | | | stream. | | | | | | | | | | A Media Segment starts | | | | | with a SAP in a media | | | | | stream if the stream | | | | | contains a SAP in that | | | | | Media Segment, I~SAU~ is | | | | | the index of the first | | | | | access unit that follows | | | | | I~SAP~ and I~SAP~ is | | | | | contained in the Media | | | | | Segment. | | | | | | | | | | If not present on any | | | | | level, the value is | | | | | unknown. | | +--------------------------+---------+--------------------------+---+ | \@maxPlayoutRate | O | Specifies the maximum | | | | | playout rate as a | | | | | multiple of the regular | | | | | playout rate, which is | | | | | supported with the same | | | | | decoder profile and | | | | | level requirements as | | | | | the normal playout rate. | | | | | | | | | | If not present on any | | | | | level, the value is 1. | | +--------------------------+---------+--------------------------+---+ | \@codingDependency | O | When present and 'true', | | | | | for all contained media | | | | | streams, specifies that | | | | | there is at least one | | | | | access unit that depends | | | | | on one or more other | | | | | access units for | | | | | decoding. When present | | | | | and 'false', for any | | | | | media type, there is no | | | | | access unit that depends | | | | | on any other access unit | | | | | for decoding (e.g. for | | | | | video all the pictures | | | | | are intra coded). When | | | | | not present, there may | | | | | or may not be coding | | | | | dependency between | | | | | access units. | | +--------------------------+---------+--------------------------+---+ | FramePacking | 0 ... N | specifies frame-packing | | | | | arrangement information | | | | | of the video media | | | | | component type. | | | | | | | | | | When no FramePacking | | | | | element is provided for | | | | | a video component, | | | | | frame-packing shall not | | | | | be used for the video | | | | | media component. | | | | | | | | | | For details see 8.6.3.1 | | | | | and 8.6.3.8. | | +--------------------------+---------+--------------------------+---+ | **Aud | 0 ... N | specifies the audio | | | ioChannelConfiguration** | | channel configuration of | | | | | the audio media | | | | | component type. | | | | | | | | | | For detaiis see clause | | | | | 8.6.3.1 and 8.6.3.7. | | +--------------------------+---------+--------------------------+---+ | **ContentProtection** | 0 ... N | specifies information | | | | | about the use of content | | | | | protection for the | | | | | associated | | | | | Representations. | | | | | | | | | | For details, refer to | | | | | clause 8.6.3.1 and | | | | | 8.6.3.2. | | +--------------------------+---------+--------------------------+---+ | **EssentialProperty** | 0 ... N | specifies information | | | | | about the containing | | | | | element that is | | | | | considered essential by | | | | | the Media Presentation | | | | | author for processing | | | | | the containing element. | | | | | | | | | | For details see clause | | | | | 8.6.3.9. | | +--------------------------+---------+--------------------------+---+ | **SupplementalProperty** | 0 ... N | specifies supplemental | | | | | information about the | | | | | containing element that | | | | | may be used by the DASH | | | | | client optimizing the | | | | | processing. | | | | | | | | | | For details see clause | | | | | 8.6.3.10. | | +--------------------------+---------+--------------------------+---+ | Legend: | | | | | | | | | | > For attributes: | | | | | > M=Mandatory, | | | | | > O=Optional. | | | | | > | | | | | > For elements: | | | | | > \..\ | | | | | > (N=unbounded) | | | | | | | | | | Elements are bold; | | | | | attributes are non-bold | | | | | and preceded with an @. | | | | +--------------------------+---------+--------------------------+---+
Table 8-10: XML-Syntax of Common Group and Representation and Attributes and
Elements
+----------------------------------------------------------------------+ | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | | | \\ | | \\ | | \\ | | \ | | | | \\ | | \\ | | \ | | | | \ | | | | \\ | | \\ | | \\ | | \\ | | \ | | | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | +----------------------------------------------------------------------+
#### 8.4.3.3 Adaptation Set
An Adaptation Set is described by an **AdaptationSet** element.
**AdaptationSet** elements are contained in a **Period** element. An
Adaptation Set contains alternate Representations, i.e. only one
Representation within an Adaptation Set is expected to be presented at a time.
All Representations contained in one Adaptation Set represent the same media
content components and therefore contain media streams that are considered to
be perceptually equivalent.
Representations are arranged into Adaptation Sets according to their to the
media content component properties of the media content components present in
the Representations, namely
  * the language as described by the \@lang attribute,
  * the media component type described by the \@contentType attribute,
  * the role property as described by the **Role** elements,
  * the accessibility property as described by the **Accessibility** elements,
  * the viewpoint property as described by the **ViewPoint** elements,
  * the rating property as described by the **Rating** elements.
Representations shall appear in the same Adaptation Set if and only if they
have identical values for all of these media content component properties for
each media content component.
The values for the elements **Role** , **Accessibility** , **ViewPoint** and
**Rating** are typically not provided within this specification. However, a
number of simple schemes are defined in Annex C.
If there exist multiple media content components then the properties of each
media content component shall be described by a separate **ContentComponent**
element as defined in 8.4.3.6. The **ContentComponent** element shares common
elements and attributes with the **AdaptationSet** element. Default values or
values applicable to all media content components may be provided directly in
the **AdaptationSet** element. Attributes present in the **AdaptationSet**
shall not be repeated in the **ContentComponent** element.
The **AdaptationSet** element may contain default values for elements and
attributes associated to the contained Representations. Any of the common
attributes defined in clause 8.4.3.2 shall only be present either in the
**AdaptationSet** element or in the **Representation** element, but not in
both.
The **AdaptationSet** element also supports the description of ranges for the
\@bandwidth, \@width, \@height and \@frameRate attributes associated to the
contained Representations, which provide a summary of all values for all the
Representations within this Adaptation Set. The Representations associated
with an **AdaptationSet** element shall not contain values outside the ranges
documented for that Adaptation Set.
Adaptation Sets may be further arranged into groups using the \@group
attribute. The semantics of this grouping is that the media content within one
Period is represented by:
1) either one Representation from group 0, if present,
2) or the combination of at most one Representation from each non-zero group.
If the **AdaptationSet** \@group attribute is not present then all
Representations in this Adaptation Set are assigned to a non-zero group
specific to this Adaptation Set.
The semantics of the attributes and elements within an **AdaptationSet**
element are provided in Table 8-11. The XML-syntax of the **AdaptationSet**
element is provided in Table 8-12.
Table 8-11: Semantics of AdaptationSet element
+-----------+-----+-----------+-----------+-----------+-----------+ | Element | Use | De | | | | | or | | scription | | | | | Attribute | | | | | | | Name | | | | | | +-----------+-----+-----------+-----------+-----------+-----------+ | | | **Adapta | | A | | | | | tionSet** | | daptation | | | | | | | Set | | | | | | | de | | | | | | | scription | | +-----------+-----+-----------+-----------+-----------+-----------+ | | | | \@x | O | specifies | | | | | link:href | | reference | | | | | | | to a | | | | | | | remote | | | | | | | element | | | | | | | that | | | | | | | shall | | | | | | | contain | | | | | | | exactly | | | | | | | one | | | | | | | element | | | | | | | of type | | | | | | | **Adapta | | | | | | | tionSet** | +-----------+-----+-----------+-----------+-----------+-----------+ | | | | \@xlin | OD | specifies | | | | | k:actuate | | the | | | | | | default:\ | p | | | | | | "o | rocessing | | | | | | nRequest" | inst | | | | | | | ructions, | | | | | | | which can | | | | | | | be either | | | | | | | \ | | | | | | | "onLoad\" | | | | | | | or | | | | | | | \"onR | | | | | | | equest\". | +-----------+-----+-----------+-----------+-----------+-----------+ | | | | \@id | O | specifies | | | | | | | unique | | | | | | | i | | | | | | | dentifier | | | | | | | for this | | | | | | | A | | | | | | | daptation | | | | | | | Set | | | | | | | within | | | | | | | the | | | | | | | Period. | | | | | | | The | | | | | | | attribute | | | | | | | shall be | | | | | | | unique in | | | | | | | the scope | | | | | | | of the | | | | | | | c | | | | | | | ontaining | | | | | | | Period. | | | | | | | | | | | | | | The | | | | | | | attribute | | | | | | | shall not | | | | | | | be | | | | | | | present | | | | | | | in a | | | | | | | remote | | | | | | | element. | | | | | | | | | | | | | | If not | | | | | | | present, | | | | | | | no | | | | | | | i | | | | | | | dentifier | | | | | | | for the | | | | | | | A | | | | | | | daptation | | | | | | | Set is | | | | | | | s | | | | | | | pecified. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | | \@group | O | specifies | | | | | | | an | | | | | | | i | | | | | | | dentifier | | | | | | | for the | | | | | | | group | | | | | | | that is | | | | | | | unique in | | | | | | | the scope | | | | | | | of the | | | | | | | c | | | | | | | ontaining | | | | | | | Period. | | | | | | | | | | | | | | For | | | | | | | details | | | | | | | refer to | | | | | | | the | | | | | | | de | | | | | | | scription | | | | | | | above in | | | | | | | this | | | | | | | clause. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | | *** | - | specifies | | | | | CommonAtt | | the | | | | | ributesEl | | common | | | | | ements** _| | a | | | | | | | ttributes | | | | | | | and | | | | | | | elements | | | | | | | (a | | | | | | | ttributes | | | | | | | and | | | | | | | elements | | | | | | | from base | | | | | | | type | | | | | | | ** | | | | | | |_ Represen | | | | | | | tationBas | | | | | | | eType** _) | | | | | | | For | | | | | | | details | | | | | | | see | | | | | | | clause | | | | | | | 8.4.3.2. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | | \@lang | O | Declares | | | | | | | the | | | | | | | language | | | | | | | code(s) | | | | | | | for this | | | | | | | A | | | | | | | daptation | | | | | | | Set. The | | | | | | | syntax | | | | | | | and | | | | | | | semantics | | | | | | | according | | | | | | | to IETF | | | | | | | RFC 5646 | | | | | | | [13] | | | | | | | shall be | | | | | | | used. | | | | | | | | | | | | | | If not | | | | | | | present, | | | | | | | the | | | | | | | language | | | | | | | code may | | | | | | | be | | | | | | | defined | | | | | | | for each | | | | | | | media | | | | | | | component | | | | | | | or it may | | | | | | | be | | | | | | | unknown. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | | \@co | O | specifies | | | | | ntentType | | the media | | | | | | | content | | | | | | | component | | | | | | | type for | | | | | | | this | | | | | | | A | | | | | | | daptation | | | | | | | Set. A | | | | | | | value of | | | | | | | the | | | | | | | top-level | | | | | | | Con | | | | | | | tent-type | | | | | | | \'type\' | | | | | | | value as | | | | | | | defined | | | | | | | in RFC | | | | | | | 4288 | | | | | | | [38], | | | | | | | section 4 | | | | | | | shall be | | | | | | | taken. | | | | | | | | | | | | | | If not | | | | | | | present, | | | | | | | the media | | | | | | | content | | | | | | | component | | | | | | | type may | | | | | | | be | | | | | | | defined | | | | | | | for each | | | | | | | media | | | | | | | component | | | | | | | or it may | | | | | | | be | | | | | | | unknown. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | | \@min | O | specifies | | | | | Bandwidth | | minimum | | | | | | | bandwidth | | | | | | | value in | | | | | | | all | | | | | | | Repres | | | | | | | entations | | | | | | | in this | | | | | | | A | | | | | | | daptation | | | | | | | Set. This | | | | | | | value has | | | | | | | the same | | | | | | | units as | | | | | | | the | | | | | | | \@ | | | | | | | bandwidth | | | | | | | a | | | | | | | ttribute. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | | \@max | O | specifies | | | | | Bandwidth | | maximum | | | | | | | bandwidth | | | | | | | value in | | | | | | | all | | | | | | | Repres | | | | | | | entations | | | | | | | in this | | | | | | | A | | | | | | | daptation | | | | | | | Set. This | | | | | | | value has | | | | | | | the same | | | | | | | units as | | | | | | | the | | | | | | | \@ | | | | | | | bandwidth | | | | | | | a | | | | | | | ttribute. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | | \ | O | specifies | | | | | @minWidth | | minimum | | | | | | | width | | | | | | | value in | | | | | | | all | | | | | | | Repres | | | | | | | entations | | | | | | | in this | | | | | | | A | | | | | | | daptation | | | | | | | Set. This | | | | | | | value has | | | | | | | the same | | | | | | | units as | | | | | | | the | | | | | | | \@width | | | | | | | a | | | | | | | ttribute. | | | | | | | | | | | | | | If not | | | | | | | present, | | | | | | | the value | | | | | | | is | | | | | | | unknown. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | | \ | O | specifies | | | | | @maxWidth | | maximum | | | | | | | width | | | | | | | value in | | | | | | | all | | | | | | | Repres | | | | | | | entations | | | | | | | in this | | | | | | | A | | | | | | | daptation | | | | | | | Set. | | | | | | | | | | | | | | This | | | | | | | value has | | | | | | | the same | | | | | | | units as | | | | | | | the | | | | | | | \@width | | | | | | | a | | | | | | | ttribute. | | | | | | | | | | | | | | If not | | | | | | | present, | | | | | | | the value | | | | | | | is | | | | | | | unknown. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | | \@ | O | specifies | | | | | minHeight | | minimum | | | | | | | height | | | | | | | value in | | | | | | | all | | | | | | | Repres | | | | | | | entations | | | | | | | in this | | | | | | | A | | | | | | | daptation | | | | | | | Set. | | | | | | | | | | | | | | This | | | | | | | value has | | | | | | | the same | | | | | | | units as | | | | | | | the | | | | | | | \@height | | | | | | | a | | | | | | | ttribute. | | | | | | | | | | | | | | If not | | | | | | | present, | | | | | | | the value | | | | | | | is | | | | | | | unknown. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | | \@ | O | specifies | | | | | maxHeight | | maximum | | | | | | | height | | | | | | | value in | | | | | | | all | | | | | | | Repres | | | | | | | entations | | | | | | | in this | | | | | | | A | | | | | | | daptation | | | | | | | Set. | | | | | | | | | | | | | | This | | | | | | | value has | | | | | | | the same | | | | | | | units as | | | | | | | the | | | | | | | \@height | | | | | | | a | | | | | | | ttribute. | | | | | | | | | | | | | | If not | | | | | | | present, | | | | | | | the value | | | | | | | is | | | | | | | unknown. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | | \@min | O | specifies | | | | | FrameRate | | minimum | | | | | | | frame | | | | | | | rate | | | | | | | value in | | | | | | | all | | | | | | | Repres | | | | | | | entations | | | | | | | in this | | | | | | | A | | | | | | | daptation | | | | | | | Set. | | | | | | | | | | | | | | This | | | | | | | value is | | | | | | | encoded | | | | | | | in the | | | | | | | same | | | | | | | format as | | | | | | | the | | | | | | | \@ | | | | | | | frameRate | | | | | | | a | | | | | | | ttribute. | | | | | | | | | | | | | | If not | | | | | | | present, | | | | | | | the value | | | | | | | is | | | | | | | unknown. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | | \@max | O | specifies | | | | | FrameRate | | maximum | | | | | | | frame | | | | | | | rate | | | | | | | value in | | | | | | | all | | | | | | | Repres | | | | | | | entations | | | | | | | in this | | | | | | | A | | | | | | | daptation | | | | | | | Set. | | | | | | | | | | | | | | This | | | | | | | value is | | | | | | | encoded | | | | | | | in the | | | | | | | same | | | | | | | format as | | | | | | | the | | | | | | | \@ | | | | | | | frameRate | | | | | | | a | | | | | | | ttribute. | | | | | | | | | | | | | | If not | | | | | | | present, | | | | | | | the value | | | | | | | is | | | | | | | unknown. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | | \@segment | O | when not | | | | | Alignment | | set to | | | | | | | 'false', | | | | | | | this | | | | | | | specifies | | | | | | | that for | | | | | | | any two | | | | | | | Represe | | | | | | | ntations, | | | | | | | X and Y, | | | | | | | within | | | | | | | the same | | | | | | | A | | | | | | | daptation | | | | | | | Set, the | | | | | | |_ m-_th | | | | | | | Segment | | | | | | | of X and | | | | | | | the | | | | | | |_ n-_th | | | | | | | Segment | | | | | | | of Y are | | | | | | | non-ov | | | | | | | erlapping | | | | | | | (as | | | | | | | defined | | | | | | | in | | | | | | | section | | | | | | | 9.2.5.2) | | | | | | | whenever | | | | | | |_ m _is | | | | | | | not equal | | | | | | | to_ n _. | | | | | | | | | | | | | | For | | | | | | | A | | | | | | | daptation | | | | | | | Sets | | | | | | | c | | | | | | | ontaining | | | | | | | Repres | | | | | | | entations | | | | | | | with | | | | | | | multiple | | | | | | | media | | | | | | | content | | | | | | | co | | | | | | | mponents, | | | | | | | this | | | | | | | attribute | | | | | | | value | | | | | | | shall be | | | | | | | either | | | | | | | \'true\' | | | | | | | or | | | | | | | \ | | | | | | | 'false\'. | | | | | | | | | | | | | | For | | | | | | | A | | | | | | | daptation | | | | | | | Sets | | | | | | | c | | | | | | | ontaining | | | | | | | Repres | | | | | | | entations | | | | | | | with a | | | | | | | single | | | | | | | media | | | | | | | content | | | | | | | c | | | | | | | omponent, | | | | | | | when two | | | | | | |__Adapta | | | | | | | tionSet_ _| | | | | | | elements | | | | | | | within a | | | | | | | Period | | | | | | | share the | | | | | | | same | | | | | | | integer | | | | | | | value for | | | | | | | this | | | | | | | a | | | | | | | ttribute, | | | | | | | then for | | | | | | | any two | | | | | | | Represe | | | | | | | ntations, | | | | | | | X and Y, | | | | | | | within | | | | | | | the union | | | | | | | of the | | | | | | | two | | | | | | | A | | | | | | | daptation | | | | | | | Sets, the | | | | | | |_ m-_th | | | | | | | Segment | | | | | | | of X and | | | | | | | the | | | | | | |_ n-_th | | | | | | | Segment | | | | | | | of Y are | | | | | | | non-ov | | | | | | | erlapping | | | | | | | (as | | | | | | | defined | | | | | | | in | | | | | | | 9.2.5.2) | | | | | | | whenever | | | | | | |_ m _is | | | | | | | not equal | | | | | | | to_ n _. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | | \@ | O | When this | | | | | bitStream | | flag is | | | | | Switching | | set to | | | | | | | 'true', | | | | | | | the | | | | | | | following | | | | | | | applies: | | | | | | | | | | | | | | - All | | | | | | | | | | | | | | Repres | | | | | | | entations | | | | | | | in | | | | | | | the | | | | | | | A | | | | | | | daptation | | | | | | | Set | | | | | | | shall | | | | | | | have | | | | | | | the | | | | | | | same | | | | | | | | | | | | | | number | | | | | | |_ M _| | | | | | | of | | | | | | | Media | | | | | | | | | | | | | | Segments; | | | | | | | | | | | | | | ` | | | | | | | ``{=html} | | | | | | | | | | | | | | ``` | | | | | | | - Let | | | | | | | | | | | | | | _R~1~, | | | | | | | R~2~, | | | | | | | ..., | | | | | | | R _~N~ | | | | | | | be | | | | | | | all | | | | | | | the | | | | | | | | | | | | | | Repres | | | | | | | entations | | | | | | | | | | | | | | within | | | | | | | the | | | | | | | A | | | | | | | daptation | | | | | | | Set. | | | | | | | | | | | | | | - Let | | | | | | | | | | | | | | - | | | | | | |_ S~i,j~_, | | | | | | | | | | | | | | for | | | | | | | | | | | | | |_ j _ > | | | | | | | | | | | | | | 0, | | | | | | | | | | | | | | be | | | | | | | | | | | | | | the | | | | | | | | | | | | | | _j^th^_| | | | | | | | | | | | | | Media | | | | | | | | | | | | | | Segment | | | | | | | | | | | | | | in | | | | | | | | | | | | | | the | | | | | | | | | | | | | |_ i^th^_| | | | | | | | | | | | | | Repre | | | | | | | sentation | | | | | | | | | | | | | | (i.e., | | | | | | | | | | | | | |_ R~i~_), | | | | | | | | | | | | | | and | | | | | | | | | | | | | | - | | | | | | |_ S~i,0~_| | | | | | | | | | | | | | be | | | | | | | | | | | | | | the | | | | | | | | | | | | | | Initi | | | | | | | alization | | | | | | | | | | | | | | Segment | | | | | | | | | | | | | | in | | | | | | | | | | | | | | the | | | | | | | | | | | | | |_ i^th^_| | | | | | | | | | | | | | Repre | | | | | | | sentation | | | | | | | | | | | | | | - The | | | | | | | | | | | | | | sequence | | | | | | | of | | | | | | | | | | | | | | > _S~ | | | | | | | i(1),0~_, | | | | | | | > _S~ | | | | | | | i(1),1~_, | | | | | | | > _S | | | | | | | ~i(2),2~, | | | | | | | > ..., | | | | | | | > S~ | | | | | | | i(k),k~_, | | | | | | | > ..., | | | | | | | > _S~i( | | | | | | | M),M~_~,~ | | | | | | | | | | | | | | wherein | | | | | | | any | | | | | | |_ i(k)_| | | | | | | for all | | | | | | |_ k _| | | | | | | values in | | | | | | | the range | | | | | | | of 1 to | | | | | | |_ M _, | | | | | | | resp | | | | | | | ectively, | | | | | | | is an | | | | | | | integer | | | | | | | value in | | | | | | | the range | | | | | | | of 1 to | | | | | | |_ N _, | | | | | | | results | | | | | | | in a | | | | | | | \"c | | | | | | | onforming | | | | | | | Segment | | | | | | | s | | | | | | | equence\" | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | section | | | | | | | 9.2.5.3 | | | | | | | with the | | | | | | | media | | | | | | | format as | | | | | | | specified | | | | | | | in the | | | | | | | \ | | | | | | | @mimeType | | | | | | | a | | | | | | | ttribute. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | | \@s | OD | If the | | | | | ubsegment | |__\@sub | | | | | Alignment | default:\ | segmentAl | | | | | | false | ignment_ _| | | | | | | for an | | | | | | | A | | | | | | | daptation | | | | | | | Set is | | | | | | | set to | | | | | | | other | | | | | | | than | | | | | | | 'false', | | | | | | | all | | | | | | | following | | | | | | | c | | | | | | | onditions | | | | | | | shall be | | | | | | | s | | | | | | | atisfied: | | | | | | | | | | | | | | - Each | | | | | | | Media | | | | | | | | | | | | | | Segment | | | | | | | shall | | | | | | | be | | | | | | | | | | | | | | indexed | | | | | | | (i.e. | | | | | | | it | | | | | | | | | | | | | | contains | | | | | | | a | | | | | | | | | | | | | | Segment | | | | | | | | | | | | | | index) | | | | | | | | | | | | | | - For | | | | | | | any | | | | | | | two | | | | | | | | | | | | | | Represe | | | | | | | ntations, | | | | | | | X and | | | | | | | Y, | | | | | | | | | | | | | | within | | | | | | | the | | | | | | | same | | | | | | | A | | | | | | | daptation | | | | | | | Set, | | | | | | | the | | | | | | | | | | | | | |_ m _-th | | | | | | | S | | | | | | | ubsegment | | | | | | | of X | | | | | | | and | | | | | | | the | | | | | | | | | | | | | |_ n-_th | | | | | | | S | | | | | | | ubsegment | | | | | | | of Y | | | | | | | are | | | | | | | | | | | | | | non-ov | | | | | | | erlapping | | | | | | | (as | | | | | | | | | | | | | | defined | | | | | | | in | | | | | | | | | | | | | | section | | | | | | | | | | | | | | 9.2.5.2) | | | | | | | | | | | | | | whenever | | | | | | |_ m _| | | | | | | is | | | | | | | not | | | | | | | equal | | | | | | | to | | | | | | |_ n _. | | | | | | | | | | | | | | For | | | | | | | A | | | | | | | daptation | | | | | | | Sets | | | | | | | c | | | | | | | ontaining | | | | | | | Repres | | | | | | | entations | | | | | | | with a | | | | | | | single | | | | | | | media | | | | | | | content | | | | | | | c | | | | | | | omponent, | | | | | | | when two | | | | | | |__Adapta | | | | | | | tionSet_ _| | | | | | | elements | | | | | | | within a | | | | | | | Period | | | | | | | share the | | | | | | | same | | | | | | | integer | | | | | | | value for | | | | | | | this | | | | | | | a | | | | | | | ttribute, | | | | | | | then for | | | | | | | any two | | | | | | | Represe | | | | | | | ntations, | | | | | | | X and Y, | | | | | | | within | | | | | | | the union | | | | | | | of the | | | | | | | two | | | | | | | A | | | | | | | daptation | | | | | | | Sets, the | | | | | | |_ m-_th | | | | | | | S | | | | | | | ubsegment | | | | | | | of X and | | | | | | | the | | | | | | |_ n-_th | | | | | | | S | | | | | | | ubsegment | | | | | | | of Y are | | | | | | | non-ov | | | | | | | erlapping | | | | | | | (as | | | | | | | defined | | | | | | | in | | | | | | | section | | | | | | | 9.2.5.2) | | | | | | | whenever | | | | | | |_ m _is | | | | | | | not equal | | | | | | | to_ n _. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | | \@subse | OD | when | | | | | gmentStar | | greater | | | | | tsWithSAP | default:\ | than 0, | | | | | | 0 | specifies | | | | | | | that each | | | | | | | S | | | | | | | ubsegment | | | | | | | with | | | | | | | SAP_type | | | | | | | greater | | | | | | | than 0 | | | | | | | starts | | | | | | | with a | | | | | | | SAP of | | | | | | | type less | | | | | | | than or | | | | | | | equal to | | | | | | | the value | | | | | | | of | | | | | | | \@subseg | | | | | | | mentStart | | | | | | | sWithSAP. | | | | | | | A | | | | | | | S | | | | | | | ubsegment | | | | | | | starts | | | | | | | with SAP | | | | | | | when the | | | | | | | S | | | | | | | ubsegment | | | | | | | contains | | | | | | | a SAP, | | | | | | | and for | | | | | | | the first | | | | | | | SAP, | | | | | | | I~SAU~ is | | | | | | | the index | | | | | | | of the | | | | | | | first | | | | | | | access | | | | | | | unit that | | | | | | | follows | | | | | | | I~SAP~, | | | | | | | and | | | | | | | I~SAP~ is | | | | | | | contained | | | | | | | in the | | | | | | | Su | | | | | | | bsegment. | | | | | | | | | | | | | | The | | | | | | | semantics | | | | | | | of | | | | | | | \@subse | | | | | | | gmentStar | | | | | | | tsWithSAP | | | | | | | equal to | | | | | | | 0 are | | | | | | | uns | | | | | | | pecified. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | |__Access | 0 ... N | specifies | | | | | ibility_ _| | in | | | | | | | formation | | | | | | | about | | | | | | | acce | | | | | | | ssibility | | | | | | | scheme | | | | | | | | | | | | | | For more | | | | | | | details | | | | | | | refer to | | | | | | | section | | | | | | | 8.6.3.1 | | | | | | | and | | | | | | | 8.6.3.6. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | |__Role_ _| 0 ... N | specifies | | | | | | | in | | | | | | | formation | | | | | | | on role | | | | | | | a | | | | | | | nnotation | | | | | | | scheme | | | | | | | | | | | | | | For more | | | | | | | details | | | | | | | refer to | | | | | | | section | | | | | | | 8.6.3.1 | | | | | | | and | | | | | | | 8.6.3.3. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | | * | 0 ... N | specifies | | | | |_ Rating**| | in | | | | | | | formation | | | | | | | on rating | | | | | | | scheme. | | | | | | | | | | | | | | For more | | | | | | | details | | | | | | | refer to | | | | | | | section | | | | | | | 8.6.3.1 | | | | | | | and | | | | | | | 8.6.3.4. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | |** Vi | 0 ... N | specifies | | | | | ewpoint**| | in | | | | | | | formation | | | | | | | on | | | | | | | viewpoint | | | | | | | a | | | | | | | nnotation | | | | | | | scheme. | | | | | | | | | | | | | | For more | | | | | | | details | | | | | | | refer to | | | | | | | section | | | | | | | 8.6.3.1 | | | | | | | and | | | | | | | 8.6.3.5. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | | ** | 0...N | specifies | | | | | ContentCo | | the | | | | | mponent** | | p | | | | | | | roperties | | | | | | | of one | | | | | | | media | | | | | | | content | | | | | | | component | | | | | | | contained | | | | | | | in this | | | | | | | A | | | | | | | daptation | | | | | | | Set. | | | | | | | | | | | | | | For more | | | | | | | details | | | | | | | refer to | | | | | | | section | | | | | | | 8.4.3.6. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | | ** | 0...N | specifies | | | | | BaseURL**| | a base | | | | | | | URL that | | | | | | | can be | | | | | | | used for | | | | | | | reference | | | | | | | r | | | | | | | esolution | | | | | | | and | | | | | | | al | | | | | | | ternative | | | | | | | URL | | | | | | | s | | | | | | | election. | | | | | | | For more | | | | | | | details | | | | | | | refer to | | | | | | | the | | | | | | | de | | | | | | | scription | | | | | | | in | | | | | | | section | | | | | | | 8.7. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | |** Segm | 0...1 | specifies | | | | | entBase**| | default | | | | | | | Segment | | | | | | | Base | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | In | | | | | | | formation | | | | | | | in this | | | | | | | element | | | | | | | is | | | | | | | o | | | | | | | verridden | | | | | | | by | | | | | | | in | | | | | | | formation | | | | | | | in the | | | | | | |** Re | | | | | | | presentat | | | | | | | ion.Segme | | | | | | | ntBase**, | | | | | | | if | | | | | | | present. | | | | | | | | | | | | | | For more | | | | | | | details | | | | | | | see | | | | | | | section | | | | | | | 8.4.4. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | |** Segm | 0...1 | specifies | | | | | entList**| | default | | | | | | | Segment | | | | | | | List | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | In | | | | | | | formation | | | | | | | in this | | | | | | | element | | | | | | | is | | | | | | | o | | | | | | | verridden | | | | | | | by | | | | | | | in | | | | | | | formation | | | | | | | in the | | | | | | |** Re | | | | | | | presentat | | | | | | | ion.Segme | | | | | | | ntList**, | | | | | | | if | | | | | | | present. | | | | | | | | | | | | | | For more | | | | | | | details | | | | | | | see | | | | | | | section | | | | | | | 8.4.4. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | | * | 0...1 | specifies | | | | | *SegmentT | | default | | | | | emplate** | | Segment | | | | | | | Template | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | In | | | | | | | formation | | | | | | | in this | | | | | | | element | | | | | | | is | | | | | | | o | | | | | | | verridden | | | | | | | by | | | | | | | in | | | | | | | formation | | | | | | | in the | | | | | | | **Repres | | | | | | | entation. | | | | | | | SegmentTe | | | | | | | mplate** , | | | | | | | if | | | | | | | present. | | | | | | | | | | | | | | For more | | | | | | | details | | | | | | | see | | | | | | | section | | | | | | | 8.4.4. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | | **Represe | 0 ... N | specifies | | | | | ntation** | | a | | | | | | | Repres | | | | | | | entation. | | | | | | | | | | | | | | At least | | | | | | | one | | | | | | | Repre | | | | | | | sentation | | | | | | | element | | | | | | | shall be | | | | | | | present | | | | | | | in each | | | | | | | A | | | | | | | daptation | | | | | | | Set. The | | | | | | | actual | | | | | | | element | | | | | | | may | | | | | | | however | | | | | | | be part | | | | | | | of a | | | | | | | remote | | | | | | | element. | | | | | | | | | | | | | | See | | | | | | | subclause | | | | | | | 8.4.3.4. | +-----------+-----+-----------+-----------+-----------+-----------+ | Legend: | | | | | | | | | | | | | | > For | | | | | | | > at | | | | | | | tributes: | | | | | | | > M=M | | | | | | | andatory, | | | | | | | > O= | | | | | | | Optional, | | | | | | | > OD | | | | | | | =Optional | | | | | | | > with | | | | | | | > Default | | | | | | | > Value, | | | | | | | > CM=Cond | | | | | | | itionally | | | | | | | > M | | | | | | | andatory, | | | | | | | > | | | | | | | F=Fixed. | | | | | | | > | | | | | | | > For | | | | | | | > | | | | | | | elements: | | | | | | | > \...\ | | | | | | | > (N=u | | | | | | | nbounded) | | | | | | | > | | | | | | | > Note | | | | | | | > that | | | | | | | > the | | | | | | | > c | | | | | | | onditions | | | | | | | > only | | | | | | | > holds | | | | | | | > without | | | | | | | > using | | | | | | | > xl | | | | | | | ink:href. | | | | | | | > If | | | | | | | > linking | | | | | | | > is | | | | | | | > used, | | | | | | | > then | | | | | | | > all | | | | | | | > a | | | | | | | ttributes | | | | | | | > are | | | | | | | > \"o | | | | | | | ptional\" | | | | | | | > and | | | | | | | > \ | | | | | | | | | | | | | | Elements | | | | | | | are bold; | | | | | | | a | | | | | | | ttributes | | | | | | | are | | | | | | | non-bold | | | | | | | and | | | | | | | preceded | | | | | | | with an | | | | | | | @, List | | | | | | | of | | | | | | | elements | | | | | | | and | | | | | | | a | | | | | | | ttributes | | | | | | | is in | | | | | | | _italics | | | | | | | bold_ | | | | | | +-----------+-----+-----------+-----------+-----------+-----------+
Table 8-12: XML-Syntax of AdaptationSet element
+----------------------------------------------------------------------+ | \\ | | \\ | | \\ | | \\ | | \ | | | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | | | \ | | | | \ | | | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | | | \\ | | \\ | | \\ | | \ | +----------------------------------------------------------------------+
#### 8.4.3.4 Representation
Representations are described by the **Representation** element.
**Representation** elements are contained in an **AdaptationSet** element.
A Representation is one of the alternative choices of the complete set or
subset of media content components comprising the media content during the
defined Period.
A Representation starts at the start of the Period _PeriodStart_ and continues
to the end of the Period, i.e. the start of the next Period or the end of the
Media Presentation.
Each Representation includes one or more media streams, where each media
stream is an encoded version of one media content component.
A Representation consists of one or more Segments.
Each Representation either shall contain an Initialization Segment or each
Media Segment in the Representation shall be self-initializing, i.e. the Media
Segment itself conforms to the media type as specified in the \@mimeType
attribute for this Representation.
The concatenation of the Initialization Segment, if present, and all
consecutive Media Segments in one Representation shall represent a conforming
Segment sequence as defined in section 9.2.5.3 conforming to the media type as
specified in the \@mimeType attribute for this Representation.
If a Representation is offered in a Media Presentation with **MPD**
\@type=\'dynamic\', it is recommended that means to compensate drift be
included. For more details refer to Annex A.8.
The semantics of the attributes and elements within a Representation are
provided in Table 8-13. The XML-syntax of the **Representation** element is
provided in Table 8-14.
Table 8-13: Semantics of Representation element
+-----------+-----+-----------+-----------+-----------+-----------+ | Element | Use | De | | | | | or | | scription | | | | | Attribute | | | | | | | Name | | | | | | +-----------+-----+-----------+-----------+-----------+-----------+ | | | **Represe | | This | | | | | ntation** | | element | | | | | | | contains | | | | | | | a | | | | | | | de | | | | | | | scription | | | | | | | of a | | | | | | | Repres | | | | | | | entation. | | +-----------+-----+-----------+-----------+-----------+-----------+ | | | | \@id | M | specifies | | | | | | | an | | | | | | | dentifier | | | | | | | for this | | | | | | | Repres | | | | | | | entation. | | | | | | | The | | | | | | | i | | | | | | | dentifier | | | | | | | shall be | | | | | | | unique | | | | | | | within a | | | | | | | Period | | | | | | | unless | | | | | | | the | | | | | | | Repre | | | | | | | sentation | | | | | | | is | | | | | | | fun | | | | | | | ctionally | | | | | | | id | | | | | | | entically | | | | | | | to | | | | | | | another | | | | | | | Repre | | | | | | | sentation | | | | | | | in the | | | | | | | same | | | | | | | Period. | | | | | | | | | | | | | | The | | | | | | | i | | | | | | | dentifier | | | | | | | shall not | | | | | | | contain | | | | | | | w | | | | | | | hitespace | | | | | | | ch | | | | | | | aracters. | | | | | | | | | | | | | | If used | | | | | | | in the | | | | | | | templ | | | | | | | ate-based | | | | | | | URL | | | | | | | con | | | | | | | struction | | | | | | | as | | | | | | | defined | | | | | | | in | | | | | | | section | | | | | | | 8.4.4.4, | | | | | | | the | | | | | | | string | | | | | | | shall | | | | | | | only | | | | | | | contain | | | | | | | c | | | | | | | haracters | | | | | | | that are | | | | | | | permitted | | | | | | | within an | | | | | | | HTTP-URL | | | | | | | according | | | | | | | to RFC | | | | | | | 3986 | | | | | | | [17]. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | | \@ | M | Consider | | | | | bandwidth | | a | | | | | | | hyp | | | | | | | othetical | | | | | | | constant | | | | | | | bitrate | | | | | | | channel | | | | | | | of | | | | | | | bandwidth | | | | | | | with the | | | | | | | value of | | | | | | | this | | | | | | | attribute | | | | | | | in bits | | | | | | | per | | | | | | | second | | | | | | | (bps). | | | | | | | Then, if | | | | | | | the | | | | | | | Repre | | | | | | | sentation | | | | | | | is | | | | | | | con | | | | | | | tinuously | | | | | | | delivered | | | | | | | at this | | | | | | | bitrate, | | | | | | | starting | | | | | | | at any | | | | | | | SAP that | | | | | | | is | | | | | | | indicated | | | | | | | either by | | | | | | | \@sta | | | | | | | rtWithSAP | | | | | | | or by any | | | | | | | Segment | | | | | | | Index | | | | | | | box, a | | | | | | | client | | | | | | | can be | | | | | | | assured | | | | | | | of having | | | | | | | enough | | | | | | | data for | | | | | | | c | | | | | | | ontinuous | | | | | | | playout | | | | | | | providing | | | | | | | playout | | | | | | | begins | | | | | | | after | | | | | | | \@minB | | | | | | | ufferTime | | | | | | | * | | | | | | | \@ | | | | | | | bandwidth | | | | | | | bits have | | | | | | | been | | | | | | | received | | | | | | | (i.e. at | | | | | | | time | | | | | | | \@minB | | | | | | | ufferTime | | | | | | | after the | | | | | | | first bit | | | | | | | is | | | | | | | r | | | | | | | eceived). | +-----------+-----+-----------+-----------+-----------+-----------+ | | | | \@quali | O | specifies | | | | | tyRanking | | a quality | | | | | | | ranking | | | | | | | of the | | | | | | | Repre | | | | | | | sentation | | | | | | | relative | | | | | | | to other | | | | | | | Repres | | | | | | | entations | | | | | | | in the | | | | | | | A | | | | | | | daptation | | | | | | | Set. | | | | | | | Lower | | | | | | | values | | | | | | | represent | | | | | | | higher | | | | | | | quality | | | | | | | content. | | | | | | | If not | | | | | | | present | | | | | | | then the | | | | | | | ranking | | | | | | | is | | | | | | | u | | | | | | | ndefined. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | | \@medi | O | The | | | | | aStreamSt | | attribute | | | | | ructureId | | may be | | | | | | | present | | | | | | | for | | | | | | | Repres | | | | | | | entations | | | | | | | c | | | | | | | ontaining | | | | | | | video and | | | | | | | its | | | | | | | semantics | | | | | | | are | | | | | | | un | | | | | | | specified | | | | | | | for any | | | | | | | other | | | | | | | type of | | | | | | | Represe | | | | | | | ntations. | | | | | | | | | | | | | | If | | | | | | | present, | | | | | | | the | | | | | | | attribute | | | | | | | \@medi | | | | | | | aStreamSt | | | | | | | ructureId | | | | | | | specifies | | | | | | | a | | | | | | | wh | | | | | | | itespace- | | | | | | | separated | | | | | | | list of | | | | | | | media | | | | | | | stream | | | | | | | structure | | | | | | | i | | | | | | | dentifier | | | | | | | values. | | | | | | | If media | | | | | | | streams | | | | | | | share the | | | | | | | same | | | | | | | media | | | | | | | stream | | | | | | | structure | | | | | | | i | | | | | | | dentifier | | | | | | | value, | | | | | | | the media | | | | | | | streams | | | | | | | shall | | | | | | | have the | | | | | | | following | | | | | | | charact | | | | | | | eristics: | | | | | | | | | | | | | | - The | | | | | | | media | | | | | | | | | | | | | | streams | | | | | | | have | | | | | | | the | | | | | | | same | | | | | | | | | | | | | | number | | | | | | | of | | | | | | | | | | | | | | Stream | | | | | | | | | | | | | | Access | | | | | | | | | | | | | | Points | | | | | | | of | | | | | | | type | | | | | | | 1 | | | | | | | to 3. | | | | | | | | | | | | | | - The | | | | | | | | | | | | | | values | | | | | | | of | | | | | | | | | | | | | | T~SAP~, | | | | | | | | | | | | | | T~DEC~, | | | | | | | | | | | | | | T~EPT~, | | | | | | | and | | | | | | | | | | | | | | T~PTF~ | | | | | | | of | | | | | | | the | | | | | | | | | | | | | | _i_ -th | | | | | | | SAP | | | | | | | of | | | | | | | type | | | | | | | 1 to | | | | | | | 3 in | | | | | | | one | | | | | | | media | | | | | | | | | | | | | | stream | | | | | | | are | | | | | | | | | | | | | | identical | | | | | | | to | | | | | | | the | | | | | | | | | | | | | | values | | | | | | | of | | | | | | | | | | | | | | T~SAP~, | | | | | | | | | | | | | | T~DEC~, | | | | | | | | | | | | | | T~EPT~, | | | | | | | and | | | | | | | | | | | | | | T~PTF~, | | | | | | | resp | | | | | | | ectively, | | | | | | | of | | | | | | | the | | | | | | | | | | | | | | _i_ -th | | | | | | | SAP | | | | | | | of | | | | | | | type | | | | | | | 1 to | | | | | | | 3 in | | | | | | | the | | | | | | | other | | | | | | | media | | | | | | | | | | | | | | streams | | | | | | | for | | | | | | | any | | | | | | | value | | | | | | | of | | | | | | | _i_ | | | | | | | from | | | | | | | 1 to | | | | | | | the | | | | | | | | | | | | | | number | | | | | | | of | | | | | | | SAPs | | | | | | | of | | | | | | | type | | | | | | | 1 to | | | | | | | 3 in | | | | | | | any | | | | | | | of | | | | | | | the | | | | | | | media | | | | | | | | | | | | | | streams. | | | | | | | | | | | | | | - A | | | | | | | media | | | | | | | | | | | | | | stream | | | | | | | | | | | | | | formed | | | | | | | by | | | | | | | conc | | | | | | | atenating | | | | | | | the | | | | | | | media | | | | | | | | | | | | | | stream | | | | | | | of a | | | | | | | first | | | | | | | Repre | | | | | | | sentation | | | | | | | until | | | | | | | | | | | | | | I~SAU~ | | | | | | | (e | | | | | | | xclusive) | | | | | | | of | | | | | | | the | | | | | | | | | | | | | | _i_ -th | | | | | | | SAP | | | | | | | of | | | | | | | type | | | | | | | 1 to | | | | | | | 3 and | | | | | | | the | | | | | | | media | | | | | | | | | | | | | | stream | | | | | | | of a | | | | | | | | | | | | | | second | | | | | | | Repre | | | | | | | sentation | | | | | | | | | | | | | | (having | | | | | | | the | | | | | | | same | | | | | | | media | | | | | | | | | | | | | | stream | | | | | | | | | | | | | | structure | | | | | | | i | | | | | | | dentifier | | | | | | | value | | | | | | | as | | | | | | | for | | | | | | | the | | | | | | | first | | | | | | | | | | | | | | Repres | | | | | | | entation) | | | | | | | | | | | | | | starting | | | | | | | from | | | | | | | the | | | | | | | | | | | | | | I~SAU~ | | | | | | | (i | | | | | | | nclusive) | | | | | | | of | | | | | | | the | | | | | | | | | | | | | | _i_ -th | | | | | | | SAP | | | | | | | of | | | | | | | type | | | | | | | 1 to | | | | | | | 3 | | | | | | | | | | | | | | conforms | | | | | | | to | | | | | | | the | | | | | | | spec | | | | | | | ification | | | | | | | in | | | | | | | which | | | | | | | the | | | | | | | media | | | | | | | | | | | | | | stream | | | | | | | | | | | | | | format | | | | | | | is | | | | | | | | | | | | | | specified | | | | | | | for | | | | | | | any | | | | | | | value | | | | | | | of | | | | | | | _i_ | | | | | | | from | | | | | | | 1 to | | | | | | | the | | | | | | | | | | | | | | number | | | | | | | of | | | | | | | SAPs | | | | | | | of | | | | | | | type | | | | | | | 1 to | | | | | | | 3 in | | | | | | | | | | | | | | either | | | | | | | media | | | | | | | | | | | | | | stream. | | | | | | | Fur | | | | | | | thermore, | | | | | | | the | | | | | | | | | | | | | | decoded | | | | | | | | | | | | | | pictures | | | | | | | have | | | | | | | an | | | | | | | a | | | | | | | cceptable | | | | | | | | | | | | | | quality | | | | | | | r | | | | | | | egardless | | | | | | | of | | | | | | | type | | | | | | | of | | | | | | | the | | | | | | | | | | | | | | Stream | | | | | | | | | | | | | | Access | | | | | | | Point | | | | | | | | | | | | | | access | | | | | | | unit | | | | | | | used. | | | | | | | | | | | | | | All media | | | | | | | stream | | | | | | | structure | | | | | | | i | | | | | | | dentifier | | | | | | | values | | | | | | | for one | | | | | | | A | | | | | | | daptation | | | | | | | Set shall | | | | | | | differ | | | | | | | from | | | | | | | those of | | | | | | | another | | | | | | | A | | | | | | | daptation | | | | | | | Set. | | | | | | | | | | | | | | If not | | | | | | | present, | | | | | | | then for | | | | | | | this | | | | | | | Repre | | | | | | | sentation | | | | | | | no | | | | | | | sim | | | | | | | ilarities | | | | | | | to other | | | | | | | Repres | | | | | | | entations | | | | | | | are | | | | | | | known. | | | | | | | | | | | | | | > Note: | | | | | | | > I | | | | | | | ndicating | | | | | | | > | | | | | | | multiple | | | | | | | > media | | | | | | | > stream | | | | | | | > | | | | | | | structure | | | | | | | > i | | | | | | | dentifier | | | | | | | > values | | | | | | | > for a | | | | | | | > Repre | | | | | | | sentation | | | | | | | > can be | | | | | | | > useful | | | | | | | > in | | | | | | | > cases | | | | | | | > where | | | | | | | > | | | | | | | switching | | | | | | | > between | | | | | | | > Repres | | | | | | | entations | | | | | | | > A and B | | | | | | | > as well | | | | | | | > as | | | | | | | > between | | | | | | | > Repres | | | | | | | entations | | | | | | | > B and C | | | | | | | > is | | | | | | | > allowed | | | | | | | > at | | | | | | | > non-IDR | | | | | | | > intra | | | | | | | > | | | | | | | pictures, | | | | | | | > but | | | | | | | > | | | | | | | switching | | | | | | | > between | | | | | | | > Repres | | | | | | | entations | | | | | | | > A and C | | | | | | | > would | | | | | | | > cause | | | | | | | > too | | | | | | | > severe | | | | | | | > a | | | | | | | > de | | | | | | | gradation | | | | | | | > in the | | | | | | | > quality | | | | | | | > of the | | | | | | | > leading | | | | | | | > | | | | | | | pictures | | | | | | | > and is | | | | | | | > hence | | | | | | | > not | | | | | | | > | | | | | | | allowed. | | | | | | | > To | | | | | | | > | | | | | | | indicate | | | | | | | > these | | | | | | | > pe | | | | | | | rmissions | | | | | | | > and | | | | | | | > rest | | | | | | | rictions, | | | | | | | > Repre | | | | | | | sentation | | | | | | | > A would | | | | | | | > contain | | | | | | | > \@medi | | | | | | | aStreamSt | | | | | | | ructureId | | | | | | | > equal | | | | | | | > to "1", | | | | | | | > Repre | | | | | | | sentation | | | | | | | > B would | | | | | | | > contain | | | | | | | > \@medi | | | | | | | aStreamSt | | | | | | | ructureId | | | | | | | > equal | | | | | | | > to "1 | | | | | | | > 2", and | | | | | | | > Repre | | | | | | | sentation | | | | | | | > C would | | | | | | | > contain | | | | | | | > \@medi | | | | | | | aStreamSt | | | | | | | ructureId | | | | | | | > equal | | | | | | | > to "2" | +-----------+-----+-----------+-----------+-----------+-----------+ | | | | *** | - | Common | | | | | CommonAtt | | A | | | | | ributesEl | | ttributes | | | | | ements** _| | and | | | | | | | Elements | | | | | | | (a | | | | | | | ttributes | | | | | | | and | | | | | | | elements | | | | | | | from base | | | | | | | type | | | | | | | *** | | | | | | | Represent | | | | | | | ationBase | | | | | | | Type_**), | | | | | | | for more | | | | | | | details | | | | | | | see | | | | | | | clause | | | | | | | 8.4.3.2. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | | ** | 0...N | specifies | | | | | BaseURL**| | a Base | | | | | | | URL that | | | | | | | can be | | | | | | | used for | | | | | | | reference | | | | | | | r | | | | | | | esolution | | | | | | | and | | | | | | | al | | | | | | | ternative | | | | | | | URL | | | | | | | s | | | | | | | election. | | | | | | | For more | | | | | | | details | | | | | | | refer to | | | | | | | the | | | | | | | de | | | | | | | scription | | | | | | | in | | | | | | | section | | | | | | | 8.7. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | |** S | 0 ... N | specifies | | | | | ubReprese | | in | | | | | ntation**| | formation | | | | | | | about a | | | | | | | sub-repre | | | | | | | sentation | | | | | | | that is | | | | | | | embedded | | | | | | | in the | | | | | | | c | | | | | | | ontaining | | | | | | | Repres | | | | | | | entation. | | | | | | | For more | | | | | | | details | | | | | | | see | | | | | | | clause | | | | | | | 8.4.3.5. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | |** Segm | 0...1 | specifies | | | | | entBase**| | default | | | | | | | Segment | | | | | | | Base | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | For more | | | | | | | details | | | | | | | see | | | | | | | 8.4.4. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | |** Segm | 0 ... 1 | specifies | | | | | entList**| | the | | | | | | | Segment | | | | | | | List | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | For more | | | | | | | details | | | | | | | see | | | | | | | 8.4.4. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | | * | 0 ... 1 | specifies | | | | | *SegmentT | | the | | | | | emplate** | | Segment | | | | | | | Template | | | | | | | inf | | | | | | | ormation. | | | | | | | | | | | | | | For more | | | | | | | details | | | | | | | see | | | | | | | 8.4.4. | +-----------+-----+-----------+-----------+-----------+-----------+ | Legend: | | | | | | | | | | | | | | > For | | | | | | | > at | | | | | | | tributes: | | | | | | | > M=M | | | | | | | andatory, | | | | | | | > O= | | | | | | | Optional, | | | | | | | > OD | | | | | | | =Optional | | | | | | | > with | | | | | | | > Default | | | | | | | > Value, | | | | | | | > CM=Cond | | | | | | | itionally | | | | | | | > M | | | | | | | andatory. | | | | | | | > | | | | | | | > For | | | | | | | > | | | | | | | elements: | | | | | | | > \...\ | | | | | | | > (N=u | | | | | | | nbounded) | | | | | | | | | | | | | | Elements | | | | | | | are bold; | | | | | | | a | | | | | | | ttributes | | | | | | | are | | | | | | | non-bold | | | | | | | and | | | | | | | preceded | | | | | | | with an | | | | | | | @, List | | | | | | | of | | | | | | | elements | | | | | | | and | | | | | | | a | | | | | | | ttributes | | | | | | | is in | | | | | | | _italics | | | | | | | bold_ | | | | | | | referring | | | | | | | to those | | | | | | | taken | | | | | | | from the | | | | | | | base type | | | | | | | that has | | | | | | | been | | | | | | | extended | | | | | | | by this | | | | | | | type. | | | | | | +-----------+-----+-----------+-----------+-----------+-----------+
Table 8-14: XML-Syntax of Representation element
+----------------------------------------------------------------------+ | \\ | | \\ | | \\ | | \\ | | \ | | | | \\ | | \ | | | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | | | \\ | | \\ | | \\ | | \ | | | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | | | \\ | | \\ | | \\ | | \ | +----------------------------------------------------------------------+
#### 8.4.3.5 Sub-Representation
Sub-Representations are embedded in regular Representations and are described
by the **SubRepresentation** element. **SubRepresentation** elements are
contained in a **Representation** element.
The **SubRepresentation** element describes properties of one or several media
content components that are embedded in the Representation. It may for example
describe the exact properties of an embedded audio component (language, codec,
etc.), an embedded sub-title (language) or it may describe some embedded lower
quality video layer (e.g. some lower frame rate, etc.).
Sub-Representations and Representation share some common attributes and
elements.
In case the \@level attribute is present in the **SubRepresentation** element,
  * Sub-Representations provide the ability for accessing a lower quality version of the Representation in which they are contained. In this case, Sub-Representations for example allow extracting the audio track in a multiplexed Representation or may allow for efficient fast-forward or rewind operations if provided with lower frame rate.
  * the Initialization Segment and/or the Media Segments shall provide sufficient information such that the data can be easily accessed through HTTP partial GET requests. The details on providing such information shall be defined by the media format in use. For media formats defined in this specification, the Subsegment Index as defined in section 9.2.3.3 shall be used.
If the \@level attribute is absent, then the **SubRepresentation** element is
solely used as a more detailed descriptor for media streams that are embedded
in the Representation.
The semantics of the attributes and elements within a Sub-Representation are
provided in Table 8-15. The XML-syntax of the Sub-Representation element is
provided in Table 8-16.
Table 8-15: Semantics of SubRepresentation element
+-----------+-----+-----------+-----------+-----------+-----------+ | Element | Use | De | | | | | or | | scription | | | | | Attribute | | | | | | | Name | | | | | | +-----------+-----+-----------+-----------+-----------+-----------+ | | | **S | | This | | | | | ubReprese | | element | | | | | ntation** | | specifies | | | | | | | a | | | | | | | S | | | | | | | ub-Repres | | | | | | | entation. | | +-----------+-----+-----------+-----------+-----------+-----------+ | | | | \@level | O | Specifies | | | | | | | the | | | | | | | sub-repre | | | | | | | sentation | | | | | | | level. If | | | | | | | \@level | | | | | | | attribute | | | | | | | is | | | | | | | present a | | | | | | | S | | | | | | | ubsegment | | | | | | | Index as | | | | | | | defined | | | | | | | in | | | | | | | section | | | | | | | 9.2.3.3 | | | | | | | shall be | | | | | | | available | | | | | | | for each | | | | | | | Media | | | | | | | Segment | | | | | | | in the | | | | | | | c | | | | | | | ontaining | | | | | | | Repres | | | | | | | entation. | | | | | | | | | | | | | | If not | | | | | | | present, | | | | | | | then the | | | | | | | **S | | | | | | | ubReprese | | | | | | | ntation** | | | | | | | element | | | | | | | is solely | | | | | | | used to | | | | | | | provide a | | | | | | | more | | | | | | | detailed | | | | | | | de | | | | | | | scription | | | | | | | for media | | | | | | | streams | | | | | | | that are | | | | | | | embedded | | | | | | | in the | | | | | | | Repres | | | | | | | entation. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | | \@depend | O | specifies | | | | | encyLevel | | the set | | | | | | | of | | | | | | | S | | | | | | | ub-Repres | | | | | | | entations | | | | | | | within | | | | | | | this | | | | | | | Repre | | | | | | | sentation | | | | | | | that this | | | | | | | Sub-Repre | | | | | | | sentation | | | | | | | depends | | | | | | | on in the | | | | | | | decoding | | | | | | | and/or | | | | | | | pre | | | | | | | sentation | | | | | | | process | | | | | | | as a | | | | | | | wh | | | | | | | itespace- | | | | | | | separated | | | | | | | list of | | | | | | | \@level | | | | | | | values. | | | | | | | | | | | | | | If not | | | | | | | present, | | | | | | | the | | | | | | | Sub-Repre | | | | | | | sentation | | | | | | | can be | | | | | | | decoded | | | | | | | and | | | | | | | presented | | | | | | | inde | | | | | | | pendently | | | | | | | of any | | | | | | | other | | | | | | | S | | | | | | | ub-Repres | | | | | | | entation. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | | \@ | CM | Identical | | | | | bandwidth | | to the | | | | | | Must be | \@ | | | | | | present | bandwidth | | | | | | if | d | | | | | | \@level | efinition | | | | | | is | in | | | | | | present | Repres | | | | | | | entation, | | | | | | | but | | | | | | | applied | | | | | | | to this | | | | | | | S | | | | | | | ub-Repres | | | | | | | entation. | | | | | | | This | | | | | | | attribute | | | | | | | shall be | | | | | | | present | | | | | | | in case | | | | | | | the | | | | | | | \@level | | | | | | | attribute | | | | | | | is | | | | | | | present. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | | \@content | O | if | | | | | Component | | present, | | | | | | | specifies | | | | | | | the set | | | | | | | of all | | | | | | | media | | | | | | | content | | | | | | | c | | | | | | | omponents | | | | | | | that are | | | | | | | contained | | | | | | | in this | | | | | | | Sub-Repre | | | | | | | sentation | | | | | | | as a | | | | | | | wh | | | | | | | itespace- | | | | | | | separated | | | | | | | list of | | | | | | | values of | | | | | | | **Cont | | | | | | | entCompon | | | | | | | ent** \@id | | | | | | | values. | | | | | | | | | | | | | | if not | | | | | | | present, | | | | | | | the | | | | | | | Sub-Repre | | | | | | | sentation | | | | | | | is not | | | | | | | assigned | | | | | | | to a | | | | | | | media | | | | | | | content | | | | | | | c | | | | | | | omponent. | +-----------+-----+-----------+-----------+-----------+-----------+ | | | | *** | - | Common | | | | | CommonAtt | | A | | | | | ributesEl | | daptation | | | | | ements** _| | Set, | | | | | | | Repre | | | | | | | sentation | | | | | | | and | | | | | | | Sub-Repre | | | | | | | sentation | | | | | | | a | | | | | | | ttributes | | | | | | | and | | | | | | | elements | | | | | | | (a | | | | | | | ttributes | | | | | | | and | | | | | | | elements | | | | | | | from base | | | | | | | type | | | | | | | *** | | | | | | | Represent | | | | | | | ationBase | | | | | | | Type_**), | | | | | | | for | | | | | | | details | | | | | | | see | | | | | | | clause | | | | | | | 8.3.4.2. | +-----------+-----+-----------+-----------+-----------+-----------+ | Legend: | | | | | | | | | | | | | | > For | | | | | | | > at | | | | | | | tributes: | | | | | | | > M=M | | | | | | | andatory, | | | | | | | > O= | | | | | | | Optional, | | | | | | | > OD | | | | | | | =Optional | | | | | | | > with | | | | | | | > Default | | | | | | | > Value, | | | | | | | > CM=Cond | | | | | | | itionally | | | | | | | > M | | | | | | | andatory. | | | | | | | > | | | | | | | > For | | | | | | | > | | | | | | | elements: | | | | | | | > \...\ | | | | | | | > (N=u | | | | | | | nbounded) | | | | | | | | | | | | | | * | | | | | | | _Elements | | | | | | | are_ _| | | | | | | bold_ _;__| | | | | | | a | | | | | | | ttributes | | | | | | | are | | | | | | | non-bold | | | | | | | and | | | | | | | preceded | | | | | | | with an | | | | | | | @, List | | | | | | | of | | | | | | | elements | | | | | | | and | | | | | | | a | | | | | | | ttributes | | | | | | | is in | | | | | | | * | | | | | | |__italics | | | | | | | bold_ ** | | | | | | | referring | | | | | | | to those | | | | | | | taken | | | | | | | from the | | | | | | | base type | | | | | | | that has | | | | | | | been | | | | | | | extended | | | | | | | by this | | | | | | | type. | | | | | | +-----------+-----+-----------+-----------+-----------+-----------+
Table 8-16: XML-Syntax of SubRepresentation element
+----------------------------------------------------------------------+ | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | | | \\ | | \\ | | \\ | | \ | | | | \\ | | \\ | | \\ | | \ | +----------------------------------------------------------------------+
#### 8.4.3.6 Content Component
Each Adaptation Set contains one or more media content components. The
properties of each media content component are described by a
**ContentComponent** element or may be described directly on the
**AdaptationSet** element if only one media content component is present in
the Adaptation Set. **ContentComponent** elements are contained in an
**AdaptationSet** element.
The semantics of the attributes and elements within a **ContentComponent**
element are provided in Table 8-17. The XML syntax of the **ContentComponent**
element is provided in Table 8-18.
Table 8-17 --- Semantics of ContentComponent element
+----------+---------+----------+----------+----------+----------+ | * | **Use** | **Descr | | | | | *Element | | iption** | | | | | or | | | | | | | A | | | | | | | ttribute | | | | | | | Name**| | | | | | +----------+---------+----------+----------+----------+----------+ | | |** Co | | des | | | | | ntentCom | | cription | | | | | ponent**| | of a | | | | | | | content | | | | | | | c | | | | | | | omponent | | +----------+---------+----------+----------+----------+----------+ | | | | \@id | O | s | | | | | | | pecifies | | | | | | | an | | | | | | | id | | | | | | | entifier | | | | | | | for this | | | | | | | media | | | | | | | co | | | | | | | mponent. | | | | | | | The | | | | | | | a | | | | | | | ttribute | | | | | | | shall be | | | | | | | unique | | | | | | | in the | | | | | | | scope of | | | | | | | the | | | | | | | co | | | | | | | ntaining | | | | | | | Ad | | | | | | | aptation | | | | | | | Set. | +----------+---------+----------+----------+----------+----------+ | | | | \@lang | O | same | | | | | | | s | | | | | | | emantics | | | | | | | as in | | | | | | | Table | | | | | | | 8-11 for | | | | | | | \@lang | | | | | | | a | | | | | | | ttribute | +----------+---------+----------+----------+----------+----------+ | | | | \@con | O | same | | | | | tentType | | s | | | | | | | emantics | | | | | | | as in | | | | | | | Table | | | | | | | 8-11 for | | | | | | | \@con | | | | | | | tentType | | | | | | | a | | | | | | | ttribute | +----------+---------+----------+----------+----------+----------+ | | | | * | 0 ... N | same | | | | | *Accessi | | s | | | | | bility** | | emantics | | | | | | | as in | | | | | | | Table | | | | | | | 8-11 for | | | | | | | * | | | | | | | _Accessi | | | | | | | bility_ _| | | | | | | element | +----------+---------+----------+----------+----------+----------+ | | | |__Role_ _| 0 ... N | same | | | | | | | s | | | | | | | emantics | | | | | | | as in | | | | | | | Table | | | | | | | 8-11 for | | | | | | |__Role_ _| | | | | | | element | +----------+---------+----------+----------+----------+----------+ | | | | ** | 0 ... N | same | | | | | Rating_ _| | s | | | | | | | emantics | | | | | | | as in | | | | | | | Table | | | | | | | 8-11 for | | | | | | | ** | | | | | | | Rating_ _| | | | | | | element | +----------+---------+----------+----------+----------+----------+ | | | |__Vie | 0 ... N | same | | | | | wpoint_ _| | s | | | | | | | emantics | | | | | | | as in | | | | | | | Table | | | | | | | 8-11 for | | | | | | |__Vie | | | | | | | wPoint_ _| | | | | | | element | +----------+---------+----------+----------+----------+----------+ | Legend: | | | | | | | | | | | | | | > For | | | | | | | > att | | | | | | | ributes: | | | | | | | > M=Ma | | | | | | | ndatory, | | | | | | | > O=O | | | | | | | ptional, | | | | | | | > OD= | | | | | | | Optional | | | | | | | > with | | | | | | | > | | | | | | | Default | | | | | | | > Value, | | | | | | | > | | | | | | | CM=Condi | | | | | | | tionally | | | | | | | > Ma | | | | | | | ndatory, | | | | | | | > | | | | | | | F=Fixed. | | | | | | | > | | | | | | | > For | | | | | | | > e | | | | | | | lements: | | | | | | | > \\ | | | | | | | ...\ | | | | | | | > (N=un | | | | | | | bounded) | | | | | | | | | | | | | | Elements | | | | | | | are | | | | | | | bold; | | | | | | | at | | | | | | | tributes | | | | | | | are | | | | | | | non-bold | | | | | | | and | | | | | | | preceded | | | | | | | with an | | | | | | | @, List | | | | | | | of | | | | | | | elements | | | | | | | and | | | | | | | at | | | | | | | tributes | | | | | | | is in | | | | | | | _italics | | | | | | | bold* | | | | | | | r | | | | | | | eferring | | | | | | | to those | | | | | | | taken | | | | | | | from the | | | | | | | base | | | | | | | type | | | | | | | that has | | | | | | | been | | | | | | | extended | | | | | | | by this | | | | | | | type. | | | | | | +----------+---------+----------+----------+----------+----------+
Table 8-18 --- XML-Syntax of ContentComponent element
+----------------------------------------------------------------------+ | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | | | \\ | | \\ | | \\ | | \\ | | \ | | | | \\ | | \ | +----------------------------------------------------------------------+
### 8.4.4 Segments and Segment Information
#### 8.4.4.1 General
A Segment is the smallest addressable unit described by an MPD and has a
defined format. Segment formats are defined in section 9. This clause defines
the MPD information for Segments.
Specifically, a Segment shall referenced by an HTTP-URL included in the MPD,
where an HTTP-URL is defined as an \ according to RFC 3986 [17],
Clause 4.3, with a fixed scheme of "http:" or \"https: \", possibly restricted
by a byte range if a range attribute is provided together with the URL. The
byte range shall be expressed as a byte-range-spec as defined in RFC 2616 [9],
Clause 14.35.1. It is restricted to a single expression identifying a
contiguous range of bytes.
Each Segment referenced through an HTTP-URL in the MPD is associated with a
Segment availability interval, i.e. a time window in wall-clock time at which
the Segments can be accessed via the HTTP-URL. The Segment availability
interval window is described by a Segment availability start time and a
Segment availability end time.
Representations are assigned _Segment Information_ through the presence of the
elements **BaseURL** , **SegmentBase** , **SegmentTemplate** and/or
**SegmentList**. The _Segment Information_ provides information on the
location, availability and properties of all Segments contained in one
Representation. Specifically, information on the presence and location of
Initialization, Media, Index and Bitstream Switching Segments is provided.
The elements **SegmentBase** , **SegmentTemplate** and **SegmentList** may be
present in the **Representation** element itself. In addition, to express
default values, they may be present in the **Period** and **AdaptationSet**
element. At each level at most one of the three, **SegmentBase** ,
**SegmentTemplate** and **SegmentList** shall be present. Further, if
**SegmentTemplate** or **SegmentList** are present on one level of the
hierarchy, then the other one shall not be present on any lower hierarchy
level.
**SegmentBase** , **SegmentTemplate** and **SegmentList** shall inherit
attributes and elements from the same element on a higher level. If the same
attribute or element is present on both levels, the one on the lower level
shall take precedence over the one on the higher level.
Several mechanisms are available to specify the _Segment Information_.
Specifically, each Representation shall have assigned exactly one of the
following choices to determine the _Segment Information_ , either by direct
presence in the **Representation** element or by inheritance from the higher
levels:
  * one **SegmentList** element - for syntax and semantics refer to section 8.4.4.2.3.
  * one **SegmentTemplate** element - for syntax and semantics refer to section 8.4.4.2.4.
  * one or more **BaseURL** elements, at most one **SegmentBase** element, and no **SegmentTemplate** or **SegmentList** element. The **SegmentBase** element is defined in section 8.4.4.2.2.
All three elements **SegmentBase** , **SegmentTemplate** and **SegmentList**
share common elements based on the **SegmentBase** element. Furthermore,
**SegmentTemplate** and **SegmentList** share common attributes and elements.
The common information is defined in section 8.4.4.2.2.
The derivation and details of Initialization and Media Segment information
based on the above information is provided in section 8.4.4.3.
#### 8.4.4.2 Segment Information Description
##### 8.4.4.2.1 Segment base information
The **SegmentBase** element contains information that is sufficient if only a
single Media Segment is provided per Representation and the Media Segment URL
is included in the **BaseURL** element.
In case multiple Media Segments are present, either a **SegmentList** or a
**SegmentTemplate** is used that share the multiple Segment base information
as provided in Table 8-20.
If the Representation contains more than one Media Segment, then the attribute
\@duration shall be present. Segments described by the Segment base
information are referenced by an HTTP-URL conforming to the type URLType as
defined in Table 8-21.
The semantics of the attributes and elements for the **SegmentBase** element
and the Segment base information are provided in Table 8-19 and the multiple
Segment base information in Table 8-20. The XML syntax of the Segment Base
Information is provided in Table 8-22.
Table 8-19 --- Semantics of SegmentBase element and _Segment Base Information_
type
+---------+---------+---------+---------+---------+---------+---------+ | ** | **Use** | * | | | | | | Element | | _Descri | | | | | | or | | ption_ _| | | | | | At | | | | | | | | tribute | | | | | | | | Name_ _| | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | | * | | sp | | | | | |_ Segmen | | ecifies | | | | | | tBase**| | Segment | | | | | | | | base | | | | | | *** | | e | | | | | | Segment | | lement. | | | | | | Base | | This | | | | | | Informa | | element | | | | | | tion** _| | also | | | | | | | | sp | | | | | | | | ecifies | | | | | | | | the | | | | | | | | type | | | | | | | | for the | | | | | | | | Segment | | | | | | | | base | | | | | | | | info | | | | | | | | rmation | | | | | | | | that is | | | | | | | | the | | | | | | | | base | | | | | | | | type | | | | | | | | for | | | | | | | | other | | | | | | | | el | | | | | | | | ements. | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | \@ti | O | sp | | | | | | mescale | | ecifies | | | | | | | | the | | | | | | | | ti | | | | | | | | mescale | | | | | | | | in | | | | | | | | units | | | | | | | | per | | | | | | | | second | | | | | | | | to be | | | | | | | | used | | | | | | | | for the | | | | | | | | der | | | | | | | | ivation | | | | | | | | of | | | | | | | | di | | | | | | | | fferent | | | | | | | | re | | | | | | | | al-time | | | | | | | | d | | | | | | | | uration | | | | | | | | values | | | | | | | | in the | | | | | | | | Segment | | | | | | | | Infor | | | | | | | | mation. | | | | | | | | | | | | | | | | If not | | | | | | | | present | | | | | | | | on any | | | | | | | | level, | | | | | | | | it | | | | | | | | shall | | | | | | | | be set | | | | | | | | to 1. | | | | | | | | | | | | | | | | > NOTE | | | | | | | | > This | | | | | | | | > may | | | | | | | | > be | | | | | | | | > any | | | | | | | | > fr | | | | | | | | equency | | | | | | | | > but | | | | | | | | > ty | | | | | | | | pically | | | | | | | | > is | | | | | | | | > the | | | | | | | | > media | | | | | | | | > clock | | | | | | | | > fr | | | | | | | | equency | | | | | | | | > of | | | | | | | | > one | | | | | | | | > of | | | | | | | | > the | | | | | | | | > media | | | | | | | | > | | | | | | | | streams | | | | | | | | > (or a | | | | | | | | > p | | | | | | | | ositive | | | | | | | | > | | | | | | | | integer | | | | | | | | > m | | | | | | | | ultiple | | | | | | | | > th | | | | | | | | ereof). | +---------+---------+---------+---------+---------+---------+---------+ | | | | | \@p | O | sp | | | | | | resenta | | ecifies | | | | | | tionTim | | the | | | | | | eOffset | | prese | | | | | | | | ntation | | | | | | | | time | | | | | | | | offset | | | | | | | | of the | | | | | | | | Represe | | | | | | | | ntation | | | | | | | | r | | | | | | | | elative | | | | | | | | to the | | | | | | | | start | | | | | | | | of the | | | | | | | | Period. | | | | | | | | | | | | | | | | The | | | | | | | | value | | | | | | | | of the | | | | | | | | prese | | | | | | | | ntation | | | | | | | | time | | | | | | | | offset | | | | | | | | in | | | | | | | | seconds | | | | | | | | is the | | | | | | | | d | | | | | | | | ivision | | | | | | | | of the | | | | | | | | value | | | | | | | | of this | | | | | | | | at | | | | | | | | tribute | | | | | | | | and the | | | | | | | | value | | | | | | | | of the | | | | | | | | \@ti | | | | | | | | mescale | | | | | | | | att | | | | | | | | ribute. | | | | | | | | | | | | | | | | If not | | | | | | | | present | | | | | | | | on any | | | | | | | | level, | | | | | | | | the | | | | | | | | value | | | | | | | | of the | | | | | | | | prese | | | | | | | | ntation | | | | | | | | time | | | | | | | | offset | | | | | | | | is 0. | +---------+---------+---------+---------+---------+---------+---------+ | | | | | \ | O | sp | | | | | | @timeSh | | ecifies | | | | | | iftBuff | | the | | | | | | erDepth | | d | | | | | | | | uration | | | | | | | | of the | | | | | | | | time | | | | | | | | s | | | | | | | | hifting | | | | | | | | buffer | | | | | | | | for | | | | | | | | this | | | | | | | | Represe | | | | | | | | ntation | | | | | | | | that is | | | | | | | | gua | | | | | | | | ranteed | | | | | | | | to be | | | | | | | | av | | | | | | | | ailable | | | | | | | | for a | | | | | | | | Media | | | | | | | | Prese | | | | | | | | ntation | | | | | | | | with | | | | | | | | type | | | | | | | | \'dyn | | | | | | | | amic\'. | | | | | | | | When | | | | | | | | not | | | | | | | | p | | | | | | | | resent, | | | | | | | | the | | | | | | | | value | | | | | | | | of the | | | | | | | | \ | | | | | | | | @timeSh | | | | | | | | iftBuff | | | | | | | | erDepth | | | | | | | | on MPD | | | | | | | | level | | | | | | | | a | | | | | | | | pplies. | | | | | | | | If | | | | | | | | p | | | | | | | | resent, | | | | | | | | this | | | | | | | | value | | | | | | | | shall | | | | | | | | be not | | | | | | | | smaller | | | | | | | | than | | | | | | | | the | | | | | | | | value | | | | | | | | on MPD | | | | | | | | level. | | | | | | | | This | | | | | | | | value | | | | | | | | of the | | | | | | | | at | | | | | | | | tribute | | | | | | | | is | | | | | | | | un | | | | | | | | defined | | | | | | | | if the | | | | | | | | type | | | | | | | | at | | | | | | | | tribute | | | | | | | | is | | | | | | | | equal | | | | | | | | to | | | | | | | | 's | | | | | | | | tatic'. | | | | | | | | | | | | | | | | NOTE: | | | | | | | | When | | | | | | | | op | | | | | | | | erating | | | | | | | | in a | | | | | | | | tim | | | | | | | | e-shift | | | | | | | | buffer | | | | | | | | on a | | | | | | | | Represe | | | | | | | | ntation | | | | | | | | with | | | | | | | | value | | | | | | | | larger | | | | | | | | than | | | | | | | | the | | | | | | | | tim | | | | | | | | e-shift | | | | | | | | buffer | | | | | | | | si | | | | | | | | gnalled | | | | | | | | on MPD | | | | | | | | level, | | | | | | | | not all | | | | | | | | R | | | | | | | | epresen | | | | | | | | tations | | | | | | | | may be | | | | | | | | av | | | | | | | | ailable | | | | | | | | for | | | | | | | | swi | | | | | | | | tching. | +---------+---------+---------+---------+---------+---------+---------+ | | | | | \@ind | O | sp | | | | | | exRange | | ecifies | | | | | | | | the | | | | | | | | byte | | | | | | | | range | | | | | | | | that | | | | | | | | c | | | | | | | | ontains | | | | | | | | the | | | | | | | | Segment | | | | | | | | Index | | | | | | | | in all | | | | | | | | Media | | | | | | | | S | | | | | | | | egments | | | | | | | | of the | | | | | | | | R | | | | | | | | epresen | | | | | | | | tation. | | | | | | | | | | | | | | | | The | | | | | | | | byte | | | | | | | | range | | | | | | | | shall | | | | | | | | be | | | | | | | | ex | | | | | | | | pressed | | | | | | | | and | | | | | | | | fo | | | | | | | | rmatted | | | | | | | | as a | | | | | | | | b | | | | | | | | yte-ran | | | | | | | | ge-spec | | | | | | | | as | | | | | | | | defined | | | | | | | | in RFC | | | | | | | | 2616 | | | | | | | | [9], | | | | | | | | Clause | | | | | | | | 1 | | | | | | | | 4.35.1. | | | | | | | | It is | | | | | | | | res | | | | | | | | tricted | | | | | | | | to a | | | | | | | | single | | | | | | | | exp | | | | | | | | ression | | | | | | | | iden | | | | | | | | tifying | | | | | | | | a | | | | | | | | con | | | | | | | | tiguous | | | | | | | | range | | | | | | | | of | | | | | | | | bytes. | | | | | | | | | | | | | | | | If not | | | | | | | | present | | | | | | | | the | | | | | | | | value | | | | | | | | is | | | | | | | | u | | | | | | | | nknown. | +---------+---------+---------+---------+---------+---------+---------+ | | | | | \@i | OD | when | | | | | | ndexRan | | set to | | | | | | geExact | de | \ | | | | | | | fault:\ | 'true\' | | | | | | | \" | sp | | | | | | | false\" | ecifies | | | | | | | | that | | | | | | | | for all | | | | | | | | S | | | | | | | | egments | | | | | | | | in the | | | | | | | | R | | | | | | | | epresen | | | | | | | | tation, | | | | | | | | the | | | | | | | | data | | | | | | | | outside | | | | | | | | the | | | | | | | | prefix | | | | | | | | defined | | | | | | | | by | | | | | | | | \@ind | | | | | | | | exRange | | | | | | | | c | | | | | | | | ontains | | | | | | | | the | | | | | | | | data | | | | | | | | needed | | | | | | | | to | | | | | | | | access | | | | | | | | all | | | | | | | | access | | | | | | | | units | | | | | | | | of all | | | | | | | | media | | | | | | | | streams | | | | | | | | syntac | | | | | | | | tically | | | | | | | | and | | | | | | | | semant | | | | | | | | ically. | | | | | | | | | | | | | | | | This | | | | | | | | at | | | | | | | | tribute | | | | | | | | shall | | | | | | | | not be | | | | | | | | present | | | | | | | | if | | | | | | | | \@ind | | | | | | | | exRange | | | | | | | | is | | | | | | | | absent. | +---------+---------+---------+---------+---------+---------+---------+ | | | | | __In | 0 ... | sp | | | | | | itializ | 1 | ecifies | | | | | | ation_ _| | the URL | | | | | | | | in | | | | | | | | cluding | | | | | | | | a | | | | | | | | p | | | | | | | | ossible | | | | | | | | byte | | | | | | | | range | | | | | | | | for the | | | | | | | | Initial | | | | | | | | ization | | | | | | | | S | | | | | | | | egment. | | | | | | | | | | | | | | | | For the | | | | | | | | type | | | | | | | | def | | | | | | | | inition | | | | | | | | refer | | | | | | | | to | | | | | | | | Table | | | | | | | | 8-21. | +---------+---------+---------+---------+---------+---------+---------+ | Legend: | | | | | | | | | | | | | | | | > For | | | | | | | | > attr | | | | | | | | ibutes: | | | | | | | | > M=Man | | | | | | | | datory, | | | | | | | | > O=Op | | | | | | | | tional, | | | | | | | | > OD=O | | | | | | | | ptional | | | | | | | | > with | | | | | | | | > | | | | | | | | Default | | | | | | | | > | | | | | | | | Value, | | | | | | | | > CM | | | | | | | | =Condit | | | | | | | | ionally | | | | | | | | > Man | | | | | | | | datory. | | | | | | | | > | | | | | | | | > For | | | | | | | | > el | | | | | | | | ements: | | | | | | | | > \.. | | | | | | | | .\ | | | | | | | | > | | | | | | | | (N=unb | | | | | | | | ounded) | | | | | | | | | | | | | | | | E | | | | | | | | lements | | | | | | | | are | | | | | | | | bold; | | | | | | | | att | | | | | | | | ributes | | | | | | | | are | | | | | | | | n | | | | | | | | on-bold | | | | | | | | and | | | | | | | | p | | | | | | | | receded | | | | | | | | with an | | | | | | | | @. List | | | | | | | | of | | | | | | | | e | | | | | | | | lements | | | | | | | | and | | | | | | | | att | | | | | | | | ributes | | | | | | | | is in | | | | | | | | * | | | | | | | | italics | | | | | | | | bold_ | | | | | | | | re | | | | | | | | ferring | | | | | | | | to | | | | | | | | those | | | | | | | | taken | | | | | | | | from | | | | | | | | the | | | | | | | | base | | | | | | | | type | | | | | | | | that | | | | | | | | has | | | | | | | | been | | | | | | | | e | | | | | | | | xtended | | | | | | | | by this | | | | | | | | type. | | | | | | | +---------+---------+---------+---------+---------+---------+---------+
Table 8-20 --- Semantics of MultipleSegmentBaseInformation type
+---------+---------+---------+---------+---------+---------+---------+ | ** | **Use** | * | | | | | | Element | | _Descri | | | | | | or | | ption_ _| | | | | | At | | | | | | | | tribute | | | | | | | | Name_ _| | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | |__Mult | | sp | | | | | | ipleSeg | | ecifies | | | | | | mentBas | | m | | | | | | eInform | | ultiple | | | | | | ation_ _| | Segment | | | | | | | | base | | | | | | | | infor | | | | | | | | mation. | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | \@d | O | If | | | | | | uration | | p | | | | | | | | resent, | | | | | | | | sp | | | | | | | | ecifies | | | | | | | | the | | | | | | | | c | | | | | | | | onstant | | | | | | | | appr | | | | | | | | oximate | | | | | | | | Segment | | | | | | | | du | | | | | | | | ration. | | | | | | | | | | | | | | | | All | | | | | | | | S | | | | | | | | egments | | | | | | | | within | | | | | | | | this | | | | | | | | Represe | | | | | | | | ntation | | | | | | | | element | | | | | | | | have | | | | | | | | the | | | | | | | | same | | | | | | | | d | | | | | | | | uration | | | | | | | | unless | | | | | | | | it is | | | | | | | | the | | | | | | | | last | | | | | | | | Segment | | | | | | | | within | | | | | | | | the | | | | | | | | Period, | | | | | | | | which | | | | | | | | could | | | | | | | | be | | | | | | | | signif | | | | | | | | icantly | | | | | | | | s | | | | | | | | horter. | | | | | | | | | | | | | | | | The | | | | | | | | value | | | | | | | | of the | | | | | | | | d | | | | | | | | uration | | | | | | | | in | | | | | | | | seconds | | | | | | | | is the | | | | | | | | d | | | | | | | | ivision | | | | | | | | of the | | | | | | | | value | | | | | | | | of this | | | | | | | | at | | | | | | | | tribute | | | | | | | | and the | | | | | | | | value | | | | | | | | of the | | | | | | | | \@ti | | | | | | | | mescale | | | | | | | | at | | | | | | | | tribute | | | | | | | | ass | | | | | | | | ociated | | | | | | | | to the | | | | | | | | con | | | | | | | | taining | | | | | | | | R | | | | | | | | epresen | | | | | | | | tation. | | | | | | | | | | | | | | | | For | | | | | | | | more | | | | | | | | details | | | | | | | | refer | | | | | | | | to | | | | | | | | clause | | | | | | | | 8.4 | | | | | | | | .4.4.3. | +---------+---------+---------+---------+---------+---------+---------+ | | | | | \@star | O | sp | | | | | | tNumber | | ecifies | | | | | | | | the | | | | | | | | start | | | | | | | | number. | | | | | | | | The | | | | | | | | interpr | | | | | | | | etation | | | | | | | | of the | | | | | | | | \@star | | | | | | | | tNumber | | | | | | | | depends | | | | | | | | on the | | | | | | | | segment | | | | | | | | add | | | | | | | | ressing | | | | | | | | method. | | | | | | | | | | | | | | | | For | | | | | | | | more | | | | | | | | details | | | | | | | | refer | | | | | | | | to | | | | | | | | clause | | | | | | | | 8.4 | | | | | | | | .4.4.3. | +---------+---------+---------+---------+---------+---------+---------+ | | | | | *** | | sp | | | | | | Segment | | ecifies | | | | | | Base | | Segment | | | | | | Informa | | base | | | | | | tion_ *_| | infor | | | | | | | | mation. | +---------+---------+---------+---------+---------+---------+---------+ | Legend: | | | | | | | | | | | | | | | | > For | | | | | | | | > attr | | | | | | | | ibutes: | | | | | | | | > M=Man | | | | | | | | datory, | | | | | | | | > O=Op | | | | | | | | tional, | | | | | | | | > OD=O | | | | | | | | ptional | | | | | | | | > with | | | | | | | | > | | | | | | | | Default | | | | | | | | > | | | | | | | | Value, | | | | | | | | > CM | | | | | | | | =Condit | | | | | | | | ionally | | | | | | | | > Man | | | | | | | | datory. | | | | | | | | > | | | | | | | | > For | | | | | | | | > el | | | | | | | | ements: | | | | | | | | > \.. | | | | | | | | .\ | | | | | | | | > | | | | | | | | (N=unb | | | | | | | | ounded) | | | | | | | | | | | | | | | | E | | | | | | | | lements | | | | | | | | are | | | | | | | | bold; | | | | | | | | att | | | | | | | | ributes | | | | | | | | are | | | | | | | | n | | | | | | | | on-bold | | | | | | | | and | | | | | | | | p | | | | | | | | receded | | | | | | | | with an | | | | | | | | @. List | | | | | | | | of | | | | | | | | e | | | | | | | | lements | | | | | | | | and | | | | | | | | att | | | | | | | | ributes | | | | | | | | is in | | | | | | | | * | | | | | | | | italics | | | | | | | | bold_ | | | | | | | | re | | | | | | | | ferring | | | | | | | | to | | | | | | | | those | | | | | | | | taken | | | | | | | | from | | | | | | | | the | | | | | | | | base | | | | | | | | type | | | | | | | | that | | | | | | | | has | | | | | | | | been | | | | | | | | e | | | | | | | | xtended | | | | | | | | by this | | | | | | | | type. | | | | | | | +---------+---------+---------+---------+---------+---------+---------+
Table 8-21 --- Semantics of elements of type URLType
+-------------+-------------+-------------+-------------+-------------+ | **Element |** Use**|** De | | | | or | | scription**| | | | Attribute | | | | | | Name** | | | | | +-------------+-------------+-------------+-------------+-------------+ | | Element of | | defines an | | | | type | | HTTP-URL | | | | **URLType** | | | | +-------------+-------------+-------------+-------------+-------------+ | | | \@sourceURL | O | specifies | | | | | | the source | | | | | | URL part | | | | | | and shall | | | | | | be | | | | | | formatted | | | | | | either as | | | | | | an | | | | | | \ | | | | | | according | | | | | | to RFC | | | | | | 3986, | | | | | | Clause 4.3, | | | | | | with a | | | | | | fixed | | | | | | scheme of | | | | | | "http" or | | | | | | \"https\" | | | | | | or as a | | | | | | \\\ | | | | | | according | | | | | | to RFC | | | | | | 3986, | | | | | | Clause 4.2. | | | | | | | | | | | | If not | | | | | | present, | | | | | | then any | | | | | | **BaseURL** | | | | | | element is | | | | | | mapped to | | | | | | the | | | | | | \@sourceURL | | | | | | attribute | | | | | | and the | | | | | | range | | | | | | attribute | | | | | | shall be | | | | | | present. | +-------------+-------------+-------------+-------------+-------------+ | | | \@range | O | specifies | | | | | | the byte | | | | | | range | | | | | | restricting | | | | | | the above | | | | | | HTTP-URL. | | | | | | | | | | | | The byte | | | | | | range shall | | | | | | be | | | | | | expressed | | | | | | and | | | | | | formatted | | | | | | as a | | | | | | byte | | | | | | -range-spec | | | | | | as defined | | | | | | in RFC | | | | | | 2616, | | | | | | Clause | | | | | | 14.35.1. It | | | | | | is | | | | | | restricted | | | | | | to a single | | | | | | expression | | | | | | identifying | | | | | | a | | | | | | contiguous | | | | | | range of | | | | | | bytes. | | | | | | | | | | | | If not | | | | | | present, | | | | | | the element | | | | | | refers to | | | | | | the entire | | | | | | resource | | | | | | referenced | | | | | | in the | | | | | | \@sourceURL | | | | | | attribute. | +-------------+-------------+-------------+-------------+-------------+ | Legend: | | | | | | | | | | | | > For | | | | | | > | | | | | | attributes: | | | | | | > M | | | | | | =Mandatory, | | | | | | > | | | | | | O=Optional, | | | | | | > | | | | | | OD=Optional | | | | | | > with | | | | | | > Default | | | | | | > Value, | | | | | | > CM=Co | | | | | | nditionally | | | | | | > | | | | | | Mandatory. | | | | | | > | | | | | | > For | | | | | | > elements: | | | | | | > \...\ | | | | | | > (N | | | | | | =unbounded) | | | | | | | | | | | | Elements | | | | | | are bold; | | | | | | attributes | | | | | | are | | | | | | non-bold | | | | | | and | | | | | | preceded | | | | | | with an @. | | | | | | List of | | | | | | elements | | | | | | and | | | | | | attributes | | | | | | is in | | | | | | _italics | | | | | | bold_ | | | | | | referring | | | | | | to those | | | | | | taken from | | | | | | the base | | | | | | type that | | | | | | has been | | | | | | extended by | | | | | | this type. | | | | | +-------------+-------------+-------------+-------------+-------------+
Table 8-22 --- XML-Syntax of Segment Base Information
+----------------------------------------------------------------------+ | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | | | \\ | | \ | | | | \\ | | \ | | | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \ | | | | \\ | | \\ | | \\ | | \\ | | \ | | | | \\ | | \ | +----------------------------------------------------------------------+
##### 8.4.4.2.2 Segment list
The Segment list is defined by a **SegmentList** element. A **SegmentList**
element itself contains a list of **SegmentURL** elements for a consecutive
list of Segment URLs. Each Segment URL may contain the Media Segment URL and
possibly a byte range. The **SegmentURL** element may also contain an Index
Segment.
The semantics of the attributes and elements for the Segment list are provided
in Table 8-23. The XML syntax of the Segment list is provided in Table 8-24.
Table 8-23 --- Semantics of SegmentList element
+-------+-------+-------+-------+-------+-------+-------+-------+ | **El | ** |** Des | | | | | | | ement | Use**| cript | | | | | | | or | | ion** | | | | | | | Attr | | | | | | | | | ibute | | | | | | | | | N | | | | | | | | | ame**| | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | |** Seg | | spec | | | | | | | mentL | | ifies | | | | | | | ist**| | Se | | | | | | | | | gment | | | | | | | | | in | | | | | | | | | forma | | | | | | | | | tion. | | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | \@ | O | spec | | | | | | | xlink | | ifies | | | | | | | :href | | a | | | | | | | | | refe | | | | | | | | | rence | | | | | | | | | to a | | | | | | | | | r | | | | | | | | | emote | | | | | | | | | el | | | | | | | | | ement | | | | | | | | | that | | | | | | | | | con | | | | | | | | | tains | | | | | | | | | one | | | | | | | | | or | | | | | | | | | mul | | | | | | | | | tiple | | | | | | | | | ele | | | | | | | | | ments | | | | | | | | | of | | | | | | | | | type | | | | | | | | | * | | | | | | | | |_Segm | | | | | | | | | entLi | | | | | | | | | st**. | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | \@xli | OD | spec | | | | | | | nk:ac | | ifies | | | | | | | tuate | defa | the | | | | | | | | ult:\ | proce | | | | | | | | \"o | ssing | | | | | | | | nRequ | set, | | | | | | | | est\" | can | | | | | | | | | be | | | | | | | | | e | | | | | | | | | ither | | | | | | | | | \"onL | | | | | | | | | oad\" | | | | | | | | | or | | | | | | | | | \"o | | | | | | | | | nRequ | | | | | | | | | est\" | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | * | | Mul | | | | | | |** Mul | | tiple | | | | | | | tiple | | Se | | | | | | | Segme | | gment | | | | | | | ntBas | | base | | | | | | | eInfo | | i | | | | | | | rmati | | nform | | | | | | | on_** | | ation | | | | | | | | | as | | | | | | | | | de | | | | | | | | | fined | | | | | | | | | in | | | | | | | | | Table | | | | | | | | | 8-20. | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | **Se | 0 ... | spec | | | | | | | gment | N | ifies | | | | | | | URL** | | a | | | | | | | | | Media | | | | | | | | | Se | | | | | | | | | gment | | | | | | | | | URL | | | | | | | | | and a | | | | | | | | | pos | | | | | | | | | sibly | | | | | | | | | pr | | | | | | | | | esent | | | | | | | | | Index | | | | | | | | | Se | | | | | | | | | gment | | | | | | | | | URL | | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | \@ | O | in | | | | | | | media | | c | | | | | | | | | ombin | | | | | | | | | ation | | | | | | | | | with | | | | | | | | | the | | | | | | | | | \@ | | | | | | | | | media | | | | | | | | | Range | | | | | | | | | attr | | | | | | | | | ibute | | | | | | | | | spec | | | | | | | | | ifies | | | | | | | | | the | | | | | | | | | HTT | | | | | | | | | P-URL | | | | | | | | | for | | | | | | | | | the | | | | | | | | | Media | | | | | | | | | Seg | | | | | | | | | ment. | | | | | | | | | | | | | | | | | | It | | | | | | | | | shall | | | | | | | | | be | | | | | | | | | form | | | | | | | | | atted | | | | | | | | | as an | | | | | | | | | \ | | | | | | | | |  | | | | | | | | | acco | | | | | | | | | rding | | | | | | | | | to | | | | | | | | | RFC | | | | | | | | | 3986, | | | | | | | | | C | | | | | | | | | lause | | | | | | | | | 4.3, | | | | | | | | | with | | | | | | | | | a | | | | | | | | | fixed | | | | | | | | | s | | | | | | | | | cheme | | | | | | | | | of | | | | | | | | | " | | | | | | | | | http" | | | | | | | | | or | | | | | | | | | \"ht | | | | | | | | | tps\" | | | | | | | | | or as | | | | | | | | | a | | | | | | | | | \ | | | | | | | | | \ | | | | | | | | | acco | | | | | | | | | rding | | | | | | | | | to | | | | | | | | | RFC | | | | | | | | | 3986, | | | | | | | | | C | | | | | | | | | lause | | | | | | | | | 4.2. | | | | | | | | | | | | | | | | | | If | | | | | | | | | not | | | | | | | | | pre | | | | | | | | | sent, | | | | | | | | | then | | | | | | | | | any | | | | | | | | | * | | | | | | | | | *Base | | | | | | | | | URL** | | | | | | | | | el | | | | | | | | | ement | | | | | | | | | is | | | | | | | | | m | | | | | | | | | apped | | | | | | | | | to | | | | | | | | | the | | | | | | | | | \@ | | | | | | | | | media | | | | | | | | | attr | | | | | | | | | ibute | | | | | | | | | and | | | | | | | | | the | | | | | | | | | range | | | | | | | | | attr | | | | | | | | | ibute | | | | | | | | | shall | | | | | | | | | be | | | | | | | | | pre | | | | | | | | | sent. | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | \@ | O | spec | | | | | | | media | | ifies | | | | | | | Range | | the | | | | | | | | | byte | | | | | | | | | range | | | | | | | | | w | | | | | | | | | ithin | | | | | | | | | the | | | | | | | | | res | | | | | | | | | ource | | | | | | | | | ident | | | | | | | | | ified | | | | | | | | | by | | | | | | | | | the | | | | | | | | | \@ | | | | | | | | | media | | | | | | | | | cor | | | | | | | | | respo | | | | | | | | | nding | | | | | | | | | to | | | | | | | | | the | | | | | | | | | Media | | | | | | | | | Seg | | | | | | | | | ment. | | | | | | | | | | | | | | | | | | The | | | | | | | | | byte | | | | | | | | | range | | | | | | | | | shall | | | | | | | | | be | | | | | | | | | expr | | | | | | | | | essed | | | | | | | | | and | | | | | | | | | form | | | | | | | | | atted | | | | | | | | | as a | | | | | | | | | byte- | | | | | | | | | range | | | | | | | | | -spec | | | | | | | | | as | | | | | | | | | de | | | | | | | | | fined | | | | | | | | | in | | | | | | | | | RFC | | | | | | | | | 2616, | | | | | | | | | C | | | | | | | | | lause | | | | | | | | | 14. | | | | | | | | | 35.1. | | | | | | | | | It is | | | | | | | | | restr | | | | | | | | | icted | | | | | | | | | to a | | | | | | | | | s | | | | | | | | | ingle | | | | | | | | | expre | | | | | | | | | ssion | | | | | | | | | i | | | | | | | | | denti | | | | | | | | | fying | | | | | | | | | a | | | | | | | | | conti | | | | | | | | | guous | | | | | | | | | range | | | | | | | | | of | | | | | | | | | b | | | | | | | | | ytes. | | | | | | | | | | | | | | | | | | If | | | | | | | | | not | | | | | | | | | pre | | | | | | | | | sent, | | | | | | | | | the | | | | | | | | | Media | | | | | | | | | Se | | | | | | | | | gment | | | | | | | | | is | | | | | | | | | the | | | | | | | | | e | | | | | | | | | ntire | | | | | | | | | res | | | | | | | | | ource | | | | | | | | | refer | | | | | | | | | enced | | | | | | | | | by | | | | | | | | | the | | | | | | | | | \@ | | | | | | | | | media | | | | | | | | | attri | | | | | | | | | bute. | +-------+-------+-------+-------+-------+-------+-------+-------+ | | | | | | \@ | O | spec | | | | | | | index | | ifies | | | | | | | Range | | the | | | | | | | | | byte | | | | | | | | | range | | | | | | | | | of | | | | | | | | | the | | | | | | | | | Se | | | | | | | | | gment | | | | | | | | | Index | | | | | | | | | in | | | | | | | | | Media | | | | | | | | | Seg | | | | | | | | | ment. | | | | | | | | | | | | | | | | | | The | | | | | | | | | byte | | | | | | | | | range | | | | | | | | | shall | | | | | | | | | be | | | | | | | | | expr | | | | | | | | | essed | | | | | | | | | and | | | | | | | | | form | | | | | | | | | atted | | | | | | | | | as a | | | | | | | | | byte- | | | | | | | | | range | | | | | | | | | -spec | | | | | | | | | as | | | | | | | | | de | | | | | | | | | fined | | | | | | | | | in | | | | | | | | | RFC | | | | | | | | | 2616, | | | | | | | | | C | | | | | | | | | lause | | | | | | | | | 14. | | | | | | | | | 35.1. | | | | | | | | | It is | | | | | | | | | restr | | | | | | | | | icted | | | | | | | | | to a | | | | | | | | | s | | | | | | | | | ingle | | | | | | | | | expre | | | | | | | | | ssion | | | | | | | | | i | | | | | | | | | denti | | | | | | | | | fying | | | | | | | | | a | | | | | | | | | conti | | | | | | | | | guous | | | | | | | | | range | | | | | | | | | of | | | | | | | | | b | | | | | | | | | ytes. | | | | | | | | | | | | | | | | | | If | | | | | | | | | not | | | | | | | | | pre | | | | | | | | | sent, | | | | | | | | | then | | | | | | | | | no | | | | | | | | | Index | | | | | | | | | Se | | | | | | | | | gment | | | | | | | | | i | | | | | | | | | nform | | | | | | | | | ation | | | | | | | | | is | | | | | | | | | pro | | | | | | | | | vided | | | | | | | | | for | | | | | | | | | this | | | | | | | | | Media | | | | | | | | | Seg | | | | | | | | | ment. | +-------+-------+-------+-------+-------+-------+-------+-------+ | Le | | | | | | | | | gend: | | | | | | | | | | | | | | | | | | > For | | | | | | | | | > a | | | | | | | | | ttrib | | | | | | | | | utes: | | | | | | | | | > M= | | | | | | | | | Manda | | | | | | | | | tory, | | | | | | | | | > O | | | | | | | | | =Opti | | | | | | | | | onal, | | | | | | | | | > O | | | | | | | | | D=Opt | | | | | | | | | ional | | | | | | | | | > | | | | | | | | | with | | | | | | | | | > De | | | | | | | | | fault | | | | | | | | | > V | | | | | | | | | alue, | | | | | | | | | > C | | | | | | | | | M=Con | | | | | | | | | ditio | | | | | | | | | nally | | | | | | | | | > | | | | | | | | | Manda | | | | | | | | | tory. | | | | | | | | | > | | | | | | | | | > For | | | | | | | | | > | | | | | | | | | elem | | | | | | | | | ents: | | | | | | | | | > | | | | | | | | | \\\. | | | | | | | | | ..\\\ | | | | | | | | | > (N= | | | | | | | | | unbou | | | | | | | | | nded) | | | | | | | | | > | | | | | | | | | > | | | | | | | | | Note | | | | | | | | | > | | | | | | | | | that | | | | | | | | | > the | | | | | | | | | > | | | | | | | | | condi | | | | | | | | | tions | | | | | | | | | > | | | | | | | | | only | | | | | | | | | > | | | | | | | | | holds | | | | | | | | | > wi | | | | | | | | | thout | | | | | | | | | > | | | | | | | | | using | | | | | | | | | > \@x | | | | | | | | | link: | | | | | | | | | href. | | | | | | | | | > If | | | | | | | | | > li | | | | | | | | | nking | | | | | | | | | > is | | | | | | | | | > | | | | | | | | | used, | | | | | | | | | > | | | | | | | | | then | | | | | | | | | > all | | | | | | | | | > | | | | | | | | | attri | | | | | | | | | butes | | | | | | | | | > are | | | | | | | | | > \" | | | | | | | | | optio | | | | | | | | | nal\" | | | | | | | | | > and | | | | | | | | | > | | | | | | | | | \ | | | | | | | | | | | | | | | | | | Ele | | | | | | | | | ments | | | | | | | | | are | | | | | | | | | bold; | | | | | | | | | attri | | | | | | | | | butes | | | | | | | | | are | | | | | | | | | non | | | | | | | | | -bold | | | | | | | | | and | | | | | | | | | pre | | | | | | | | | ceded | | | | | | | | | with | | | | | | | | | an @. | | | | | | | | | List | | | | | | | | | of | | | | | | | | | ele | | | | | | | | | ments | | | | | | | | | and | | | | | | | | | attri | | | | | | | | | butes | | | | | | | | | is in | | | | | | | | | _it | | | | | | | | | alics | | | | | | | | | bold_ | | | | | | | | | refe | | | | | | | | | rring | | | | | | | | | to | | | | | | | | | those | | | | | | | | | taken | | | | | | | | | from | | | | | | | | | the | | | | | | | | | base | | | | | | | | | type | | | | | | | | | that | | | | | | | | | has | | | | | | | | | been | | | | | | | | | ext | | | | | | | | | ended | | | | | | | | | by | | | | | | | | | this | | | | | | | | | type. | | | | | | | | +-------+-------+-------+-------+-------+-------+-------+-------+
Table 8-24 --- XML-Syntax of SegmentList element
+----------------------------------------------------------------------+ | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \ | | | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | | | \\ | | \ | +----------------------------------------------------------------------+
##### 8.4.4.2.3 Segment template
The Segment template is defined by the **SegmentTemplate** element. In this
case, specific identifiers that are substituted by dynamic values assigned to
Segments, to create a list of Segments. The substitution rules are provided in
section 8.4.4.4.
The semantics of the attributes and elements for the Segment list are provided
in Table 8-25. The XML syntax of the Segment Information is provided in Table
8-26.
Table 8-25 --- Semantics of SegmentTemplate element
+---------+---------+---------+---------+---------+---------+---------+ | ** | **Use** | * | | | | | | Element | | _Descri | | | | | | or | | ption_ _| | | | | | At | | | | | | | | tribute | | | | | | | | Name_ _| | | | | | | +---------+---------+---------+---------+---------+---------+---------+ | | | |__Seg | | sp | | | | | | mentTem | | ecifies | | | | | | plate_ _| | Segment | | | | | | | | t | | | | | | | | emplate | | | | | | | | infor | | | | | | | | mation. | | +---------+---------+---------+---------+---------+---------+---------+ | | | | | * | | P | | | | | |__Multi | | rovides | | | | | | pleSegm | | the | | | | | | entBase | | M | | | | | | Informa | | ultiple | | | | | | tion_ *_| | Segment | | | | | | | | base | | | | | | | | info | | | | | | | | rmation | | | | | | | | as | | | | | | | | defined | | | | | | | | in | | | | | | | | Table | | | | | | | | 8-20. | +---------+---------+---------+---------+---------+---------+---------+ | | | | | \@media | O | sp | | | | | | | | ecifies | | | | | | | | the | | | | | | | | t | | | | | | | | emplate | | | | | | | | to | | | | | | | | create | | | | | | | | the | | | | | | | | Media | | | | | | | | Segment | | | | | | | | List. | | | | | | | | | | | | | | | | For | | | | | | | | more | | | | | | | | details | | | | | | | | refer | | | | | | | | to | | | | | | | | clause | | | | | | | | 8.4 | | | | | | | | .4.3.3. | +---------+---------+---------+---------+---------+---------+---------+ | | | | | \@ | O | sp | | | | | | initial | | ecifies | | | | | | ization | | the | | | | | | | | t | | | | | | | | emplate | | | | | | | | to | | | | | | | | create | | | | | | | | the | | | | | | | | Initial | | | | | | | | ization | | | | | | | | S | | | | | | | | egment. | | | | | | | | The | | | | | | | | \$N | | | | | | | | umber\$ | | | | | | | | ide | | | | | | | | ntifier | | | | | | | | shall | | | | | | | | not be | | | | | | | | in | | | | | | | | cluded. | | | | | | | | | | | | | | | | For | | | | | | | | more | | | | | | | | details | | | | | | | | refer | | | | | | | | to | | | | | | | | clause | | | | | | | | 8.4 | | | | | | | | .4.3.2. | +---------+---------+---------+---------+---------+---------+---------+ | Legend: | | | | | | | | | | | | | | | | > For | | | | | | | | > attr | | | | | | | | ibutes: | | | | | | | | > M=Man | | | | | | | | datory, | | | | | | | | > O=Op | | | | | | | | tional, | | | | | | | | > OD=O | | | | | | | | ptional | | | | | | | | > with | | | | | | | | > | | | | | | | | Default | | | | | | | | > | | | | | | | | Value, | | | | | | | | > CM | | | | | | | | =Condit | | | | | | | | ionally | | | | | | | | > Man | | | | | | | | datory. | | | | | | | | > | | | | | | | | > For | | | | | | | | > el | | | | | | | | ements: | | | | | | | | > \.. | | | | | | | | .\ | | | | | | | | > | | | | | | | | (N=unb | | | | | | | | ounded) | | | | | | | | | | | | | | | | E | | | | | | | | lements | | | | | | | | are | | | | | | | | bold; | | | | | | | | att | | | | | | | | ributes | | | | | | | | are | | | | | | | | n | | | | | | | | on-bold | | | | | | | | and | | | | | | | | p | | | | | | | | receded | | | | | | | | with an | | | | | | | | @. List | | | | | | | | of | | | | | | | | e | | | | | | | | lements | | | | | | | | and | | | | | | | | att | | | | | | | | ributes | | | | | | | | is in | | | | | | | | * | | | | | | | | italics | | | | | | | | bold_ | | | | | | | | re | | | | | | | | ferring | | | | | | | | to | | | | | | | | those | | | | | | | | taken | | | | | | | | from | | | | | | | | the | | | | | | | | base | | | | | | | | type | | | | | | | | that | | | | | | | | has | | | | | | | | been | | | | | | | | e | | | | | | | | xtended | | | | | | | | by this | | | | | | | | type. | | | | | | | +---------+---------+---------+---------+---------+---------+---------+
Table 8-26 --- XML-Syntax of SegmentTemplate element
+---------------------------------------------------------------+ | \\ | | \\ | | \\ | | \\ | | \ | | | | \\ | | \\ | | \\ | | \ | +---------------------------------------------------------------+
#### 8.4.4.3 Segment Information
##### 8.4.4.3.1 Overview
The _Segment Information_ provides the following information:
\- the presence or absence of Initialization Segment information
\- the HTTP-URL and possibly a byte range for each accessible Segment in each
Representation,
\- all valid Segment URLs declared by the containing MPD
\- for services with **MPD** \@type=\'dynamic\', the Segment availability
start time and Segment availability end time of each Segment,,
\- the approximate Media Presentation start time of a Media Segment in the
Media Presentation timeline within the Period,
The derivation of Initialization and Media Segment Information is provided in
subclause 8.4.4.3.2 and 8.4.4.3.3, respectively. Reference resolution as
defined in section 8.7.2 and base URL selection as defined in section 8.7.3
using **BaseURL** elements as defined in section 8.7.1 shall be applied to any
URLs.
##### 8.4.4.3.2 Initialization Segment Information
Each Representation has assigned at most one Initialization Segment.
The presence of an Initialization Segment is indicated by the presence of
**SegmentBase.Initialization** , **SegmentList.Initialization** , the
**SegmentTemplate.Initialization** element or the **SegmentTemplate**
\@initialization attribute that may contain URL and byte range information or
URL construction rules for the Initialization Segment.
If neither **Initialization** element nor **SegmentTemplate** \@initialization
are present for a Representation then each Media Segment within the
Representation shall be self-initializing.
For services with **MPD** \@type=\'dynamic\' , the Segment availability start
time of the Initialization Segment is the sum of the value of the **MPD**
\@availabilityStartTime and _PeriodStart_ time and the Segment availability
end time of the Initialization Segment is the largest Segment availability end
time of any Media Segment in this Representation. For Segment availability for
media Segments refer to clause 8.4.4.3.3.
The data structures retrieved from the Initialization URL are defined in
section 9.2.2.
##### 8.4.4.3.3 Media Segment Information
Each Representation has assigned a list of consecutive Media Segments. Each
entry in the list of a media Segment has assigned the following parameters:
  * a valid Media Segment URL and possibly a byte range.
  * the number of the Media Segment in the Representation.
  * the MPD start time of the Media Segment in the Representation providing an approximate presentation start time of the Segment
  * MPD duration of the Media Segment providing an approximate presentation duration of the Segment
These parameters are specified by the **SegmentTemplate** or **SegmentList**
elements. To obtain at least one entry in the list of Media Segments, one of
the following shall apply:
  * if a **SegmentTemplate** element is present the Template-based Segment URL construction in section 8.4.4.4 shall be applied with the number of the Media Segment in the Media Segment list. The URL of the media segment at position _k_ is determined by replacing the \$_Number_ \$ identifier by (_k_ -1) plus the value of the **SegmentTemplate** \@startNumber attribute, if present, or is 1.
  * if a **SegmentList** element is present it contains a list of **SegmentURL** elements for a consecutive list of Media Segment URLs. The first number in the list within this Period is determined by the value of the **SegmentList** \@startNumber attribute, if present, or is 1 in case this attribute is not present.
  * none of the above: In this case only a single Media Segment shall be present with the URL provided by a **BaseURL** element and the **SegmentBase** element may be present.
The MPD start time is relative to the start of the Representation provided by
the MPD. The MPD start time and the MPD duration are approximate and do not
reflect the exact Media Presentation time. For more details on the relation of
MPD start times and Media Presentation time refer to section 9.4.1.2.
For the derivation of the MPD start time and duration of each Media Segment,
the _Index_ of the Media Segment and the following information are used
  * If the \@duration attribute is not present, then the Representation shall contain exactly one Media Segment. The MPD start time is 0 and the MPD duration is obtained in the same way as for the last Media Segment in the Representation (see below for more details).
  * If \@duration attribute is present, then the MPD start time of the Media Segment is determined as (_Number_ \--_Number_ ~Start~) times the value of the duration of the attribute \@duration with _Number_ ~Start~ the value of the \@startNumber attribute. The MPD duration of the Media Segment is the value of the attribute \@duration except for the duration of the last Media Segment (see below for more details).
  * To determine the duration of the only or the last Media Segment of any Representation in a Period, the MPD shall include sufficient information to determine the duration of the containing Period. For example, the **MPD** \@mediaPresentationDuration, or add **Period** \@duration, or next **Period** \@start may be present.
For services with **MPD** \@type=\'dynamic\', the Segment availability start
time of a Media Segment is the sum of the value of the **MPD**
\@availabilityStartTime, the _PeriodStart_ time of the containing Period as
defined in section 8.4.2, the MPD start time and the MPD duration of the Media
Segment in the Representation. The Segment availability end time of a Media
Segment is the sum of the Segment availability start time, the MPD duration of
the Media Segment and the value of the attribute \@timeShiftBufferDepth for
this Representation.
NOTE: By adding the MPD duration of the segment to the segment availability
start time of the segment, the segment availability start time of the first
segment of each Period depends on the segment duration. This enables to
provide segments in Representations with shorter MPD duration earlier, for
example to reduce latency for certain Representations.The MPD shall include
URL information for all Segments with an availability start time less than
both the end of the presentation and the sum of the latest time at which this
version of the MPD is available on the server and the **MPD**
\@minimumUpdatePeriod.
The data structures retrieved from the URL referring to a Media Segment are
defined in section 9.2.3.
#### 8.4.4.4 Template-based Segment URL Construction
The **SegmentTemplate** \@media attribute and the **SegmentTemplate** \@index
each contain a string that may contain one or more of the identifiers as
listed in Table 8-27.
In each URL, the identifiers from Table 8-27 shall be replaced by the
substitution parameter defined in Table 17. Identifier matching is case-
sensitive. If the URL contains unescaped \$ symbols which do not enclose a
valid identifier then the result of URL formation is undefined. In this case
it is expected that the DASH Client ignores the entire containing
**Representation** element and the processing of the MPD continues as if this
**Representation** element was not present. The format of the identifier is
also specified in Table 8-27.
Each identfier may be suffixed, within the enclosing '\$' characters, with an
additional format tag aligned with the printf format tag as defined in IEEE
1003.1-2008 [s] following this prototype:
> %0[width]d
The width parameter is an unsigned integer that provides the minimum number of
characters to be printed. If the value to be printed is shorter than this
number, the result shall be padded with zeros. The value is not truncated even
if the result is larger.
The Media Presentation shall be authored such that the application of the
substitution process results in valid Segment URLs.
Strings outside identifiers shall only contain characters that permit to form
a valid HTTP-URL according to\ RFC 3986 [17].
Table 8-27: Identifiers for Segment Templates
+----------------------+----------------------+----------------------+ | \$\\$ | Substitution | Format | | | parameter | | +----------------------+----------------------+----------------------+ | _\$\$_ | Is an escape | not applicable | | | sequence, i.e. | | | | \"\$\$\" is replaced | | | | with a single \"\$\" | | +----------------------+----------------------+----------------------+ | _\ | This identifier is | The format tag shall | | $RepresentationID\$_ | substituted by the | not be present. | | | attribute | | | | ** | | | | Representation __\@id | | | | of the containing | | | | Representation. | | +----------------------+----------------------+----------------------+ |_ \$Number\$_ | This identifier is | The format tag may | | | substituted by the | be present. | | | _Number_ of the | | | | corresponding | If no format tag is | | | Segment. | present, a default | | | | format tag with | | | | width=1 shall be | | | | used. | +----------------------+----------------------+----------------------+
## 8.5 MPD Update
### 8.5.1 General
If the **MPD** \@type is set to \'dynamic\', the MPD may be updated during the
Media Presentation. Updates typically extend the accessible Segment list for
each Representation, introduce a new Period, update Segment locations or
terminate the Media Presentation.
In this case the MPD shall be made accessible at all locations specified in
any present **MPD.Location** element or, if none is present, at the same
location as the initial MPD. If the client fetches the MPD using HTTP, the
client should use conditional GET methods as specified in RFC 2616 [9], clause
9.3 to reduce unnecessary network usage in the downlink.
When the MPD is updated
  * the value of **MPD** \@id, if present, shall be the same in the original and the updated MPD;
  * the values of any **Period** \@id attributes shall be the same in the original and the updated MPD, unless the containing **Period** element has been removed.
  * the values of any **AdaptationSet** \@id attributes shall be the same in the original and the updated MPD unless the containing **Period** element has been removed.
  * any Representation with the same \@id and within the same Period as a Representation appearing in the previous MPD shall provide functionally equivalent attributes and elements, and shall provide functionally identical Segments with the same indices in the corresponding Representation in the new MPD.
  * the value of **MPD** \@availabilityStartTime shall be the same in the original and the updated MPD.
If the attribute **MPD** \@minimumUpdatePeriod is not present, no update to
the MPD is expected, the attribute **MPD** \@mediaPresentationDuration shall
be present and the MPD shall remain valid until the Media Presentation end
time.
If the attribute **MPD** \@minimumUpdatePeriod is present, updates to the MPD
are expected and restricted in a sense that at the location where the MPD is
available at a certain time, the MPD is also valid for the duration of the
value of the **MPD** \@minimumUpdatePeriod attribute. Specifically the
following shall hold: .
If the _i-_ th version of the MPD is the last version of MPD till the end of
the Media Presentation, let _Texp(i)_ be the Media Presentation end time.
Otherwise, let _Texp(i)_ be the sum of the value of **MPD**
\@minimumUpdatePeriod and the wall-clock time at which the _i-_ th version of
the MPD is updated (and replaced with the (_i_ +1)-th version). The _i-_ th
MPD shall remain valid until _Texp_(_i_) in the following sense:
  * all Segments with availability start time less than _Texp_(_i_) shall be available at their availability start times at the location advertised in the _i_ -th MPD.
  * all Representations have a Segment with an availability start time, _Tavail_ , which is less than _Texp_(_i_) and with duration not less than (_Texp_(_i_) - _Tavail_). The actual duration of this Segment is not known by the client until this Segment or the next update of MPD is fetched and this duration may be less than the normal Segment duration if it is the last Segment of the Representation in this Period.
NOTE:
1) the actual duration of this Segment is not known at the client until this
Segment or the updated MPD is fetched and this Segment duration may be less
than the previous Segment duration if it is the last Segment in the Period.
2) The clients may not know _Texp_(_i_), but they can each calculate a lower
bound on _Texp_(_i_) by adding **MPD** \@minimumUpdatePeriod to the wall-clock
time at which they request the MPD.
3) The second condition above ensures that sufficient media is contained in
each Representation to present up to media presentation time _Texp_(_i_) for a
client that begins playing each Segment at the earliest possible time (its
availability start time).
4) The result of the MPD validity requirement is that all items a client
expects to be able to retrieve (both Segments and MPD elements) are guaranteed
to be available for retrieval during the periods that the client can expect
them to be accessible.
5) An MPD may contain no Period element or only an early available Period may
be provided. In this case, updates to the MPD are expected in order to provide
the start time of the first Period, which coincides with the start of the
actual Media Presentation.
### 8.5.2 Media Presentation Description Delta
If the **x3gpp:DeltaSupport** element is present in the **MPD** element, the
content provider indicates that MPD delta files, as defined in this clause,
are supported on the server. The URI of the MPD delta is provided in
**x3gpp:DeltaSupport** \@sourceURL. The **x3gpp:DeltaSupport**
\@availabilityDuration element, if present, indicates that the MPD delta file
referenced by the URI is available for at least the value of the
\@availabilityDuration attribute (after this time, the server may redirect the
client to the full MPD). If **x3gpp:DeltaSupport** \@availabilityDuration is
not present, then no information is conveyed about the availability of the MPD
delta. If a client request for an MPD delta file results in an error, the
client should request a full MPD.
The semantics of the attributes within the **x3gpp:DeltaSupport** element are
provided in Table 8-28. The XML-syntax of **x3gpp:DeltaSupport** element is
provided in Table 8-29.
Table 8-28: Semantics of x3gpp:DeltaSupport element
+-------------+-------------+-------------+-------------+-------------+ | Element or | Use | Description | | | | Attribute | | | | | | Name | | | | | +-------------+-------------+-------------+-------------+-------------+ | | **x3gpp:Del | | If present, | | | | taSupport** | | this | | | | | | element | | | | | | indicates | | | | | | that MPD | | | | | | delta files | | | | | | are | | | | | | supported | | | | | | by the | | | | | | server. | | +-------------+-------------+-------------+-------------+-------------+ | | | \@sourceURL | M | The source | | | | | | string | | | | | | providing | | | | | | the URL of | | | | | | the MPD | | | | | | delta. The | | | | | | URL may be | | | | | | relative to | | | | | | any | | | | | | **BaseURL** | | | | | | on MPD | | | | | | level and | | | | | | reference | | | | | | resolution | | | | | | according | | | | | | to clause | | | | | | 8.2.3 shall | | | | | | be applied. | +-------------+-------------+-------------+-------------+-------------+ | | | \@availabil | O | When | | | | ityDuration | | provided, | | | | | | indicates | | | | | | the | | | | | | duration | | | | | | that the | | | | | | server | | | | | | guarantees | | | | | | the | | | | | | a | | | | | | vailability | | | | | | of the MPD | | | | | | delta file | | | | | | referenced | | | | | | in | | | | | | \@sourceURL | | | | | | after the | | | | | | MPD has | | | | | | been | | | | | | updated. | | | | | | After that | | | | | | the client | | | | | | may be | | | | | | redirected | | | | | | to the full | | | | | | MPD. | +-------------+-------------+-------------+-------------+-------------+ | Legend: | | | | | | | | | | | | > For | | | | | | > | | | | | | attributes: | | | | | | > M | | | | | | =Mandatory, | | | | | | > | | | | | | O=Optional, | | | | | | > | | | | | | OD=Optional | | | | | | > with | | | | | | > Default | | | | | | > Value, | | | | | | > CM=Co | | | | | | nditionally | | | | | | > | | | | | | Mandatory. | | | | | | > | | | | | | > For | | | | | | > elements: | | | | | | > \...\ | | | | | | > (N | | | | | | =unbounded) | | | | | | | | | | | | Elements | | | | | | are bold; | | | | | | attributes | | | | | | are | | | | | | non-bold | | | | | | and | | | | | | preceded | | | | | | with an @. | | | | | +-------------+-------------+-------------+-------------+-------------+
Table 8-29: XML-Syntax of x3gpp:DeltaSupport element
* * *
\\ \\ \\ \\
\\ \\ \\ \\ \
* * *
An MPD delta is a text file that shall include the delta between the MPD that
references it and the latest provided MPD. Note that the value of \@sourceURL
in successive MPDs is necessarily different because it is impossible for the
delta between two different MPDs and the most recent MPD to be the same.
The output format consists of one or more structures, each corresponding to a
change. The changes are in decreasing line number order. The structure format
looks like:
change-command\ to-file-line\ to-file-line...\ .
There are three types of change commands change-command. Each consists of a
line number or comma-separated range of lines in the first file and a single
character indicating the kind of change to make. All line numbers are the
original line numbers in the file. The types of change commands and the
instructions are provided in Table 8-30.
Table 8-30: Change commands and the instructions for delta MPD files
* * *
Change command Instruction Example _l_ a Add text from the second file after
line _l_ in the first file. '8a' means to add the following lines after line 8
of file 1 _r_ c Replace the lines in range _r_ in the first file with the
following lines. Like a combined add and delete, but more compact. '5,7c'
means change lines 5--7 of file 1 to read as the text file 2. _r_ d Delete the
lines in range _r_ from the first file. '5,7d' means delete lines 5--7 of file
1. NOTE: This is the format supported by the GNU diff utilities, see
http://www.gnu.org/software/diffutils/manual/#Detailed-ed
* * *
Regardless of the presence of a **x3gpp:DeltaSupport** element, the full MPD
shall always be available to clients for regular MPD updates as defined in
clause 8.5.1. MPD Delta related procedures are optional at the client.
## 8.6 Additional Media Presentation Information
### 8.6.1 Introduction
The MPD, Periods, Adaptation Sets, Representations and Sub-Representations may
have assigned descriptors for describing the content or other elements in the
MPD. This clause specifies this descriptive information.
### 8.6.2 Program Information
Descriptive information on the program may be provided for each period within
the **ProgramInformation** element.
When multiple **ProgramInformation** elements are present, the \@lang
attribute shall be present and each element shall describe the Media
Presentation sufficiently in the language defined by the value of the \@lang
attribute.
For each language, the program information may specify title, source of the
program, copyright information and a URL to more information.
The semantics of the attributes within the **ProgramInformation** element are
provided in Table 8-31. The XML-syntax of **ProgramInformation** element is
provided in Table 8-32.
Table 8-31: Semantics of ProgramInformation element
+-------------+-------------+-------------+-------------+-------------+ | Element or | Use | Description | | | | Attribute | | | | | | Name | | | | | +-------------+-------------+-------------+-------------+-------------+ | | **ProgramIn | | specifies | | | | formation** | | descriptive | | | | | | information | | | | | | about the | | | | | | program | | +-------------+-------------+-------------+-------------+-------------+ | | | \@lang | O | Declares | | | | | | the | | | | | | language | | | | | | code(s) for | | | | | | this | | | | | | Program | | | | | | I | | | | | | nformation. | | | | | | The syntax | | | | | | and | | | | | | semantics | | | | | | according | | | | | | to IETF RFC | | | | | | 5646 [13] | | | | | | shall be | | | | | | applied. | | | | | | | | | | | | If not | | | | | | present the | | | | | | value is | | | | | | unknown. | +-------------+-------------+-------------+-------------+-------------+ | | | \@moreInf | O | If | | | | ormationURL | | specified, | | | | | | this | | | | | | attribute | | | | | | contains an | | | | | | absolute | | | | | | URL which | | | | | | provides | | | | | | more | | | | | | information | | | | | | about the | | | | | | Media | | | | | | P | | | | | | resentation | | | | | | in this | | | | | | Period. | | | | | | | | | | | | If not | | | | | | present the | | | | | | value is | | | | | | unknown. | +-------------+-------------+-------------+-------------+-------------+ | | | **Title** | 0...1 | specifies a | | | | | | title for | | | | | | the Media | | | | | | P | | | | | | resentation | +-------------+-------------+-------------+-------------+-------------+ | | | **Source** | 0...1 | specifies | | | | | | information | | | | | | about the | | | | | | original | | | | | | source (for | | | | | | example | | | | | | content | | | | | | provider) | | | | | | of the | | | | | | Media | | | | | | Pr | | | | | | esentation. | +-------------+-------------+-------------+-------------+-------------+ | | | ** | 0...1 | specifies a | | | | Copyright** | | copyright | | | | | | statement | | | | | | for the | | | | | | Media | | | | | | Pr | | | | | | esentation. | +-------------+-------------+-------------+-------------+-------------+ | Legend: | | | | | | | | | | | | > For | | | | | | > | | | | | | attributes: | | | | | | > M | | | | | | =Mandatory, | | | | | | > | | | | | | O=Optional, | | | | | | > | | | | | | OD=Optional | | | | | | > with | | | | | | > Default | | | | | | > Value, | | | | | | > CM=Co | | | | | | nditionally | | | | | | > | | | | | | Mandatory. | | | | | | > | | | | | | > For | | | | | | > elements: | | | | | | > \...\ | | | | | | > (N | | | | | | =unbounded) | | | | | | | | | | | | Elements | | | | | | are bold; | | | | | | attributes | | | | | | are | | | | | | non-bold | | | | | | and | | | | | | preceded | | | | | | with an @. | | | | | +-------------+-------------+-------------+-------------+-------------+
Table 8-32: XML-Syntax of ProgramInformation element
+----------------------------------------------------------------------+ | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | | | \\ | | \\ | | \\ | | \ | +----------------------------------------------------------------------+
### 8.6.3 Descriptors
#### 8.6.3.1 General
The MPD may contain descriptors that are all in the same format as defined in
this clause. The elements of type DescriptorType provide a flexible mechanism
for DASH content authors to annotate and extend the **MPD** , **Period** ,
**AdaptationSet** and **Representation** elements.
The descriptor elements are all structured in the same way, namely they
contain a \@schemeIdUri attribute to identify the scheme and an optional
attribute \@value and an optional attribute \@id. The \@schemeIdUri provides a
URI to identify the scheme. The semantics of this element is specific to the
scheme employed. The scheme may be a URN or a URL.
The MPD does not provide any specific information on how to use these
elements. It is up to the application that employs DASH formats to instantiate
the description elements with appropriate scheme information. Some specific
schemes are defined in Annex C.
DASH applications that use one of these elements must first define a Scheme
Identifier in the form of a URI and must then define the value space for the
element when that Scheme Identifier is used. The Scheme Identifier appears in
the \@schemeIdUri attribute.
In the case that a simple set of enumerated values are required, a text string
may be defined for each value and this string must be included in the \@value
attribute. If structured data is required then any extension element or
attribute may be defined, but in a separate namespace.
The \@id value may be used to refer to a unique descriptor or to a group of
descriptors. In the latter case, descriptors with identical values for the
attribute \@id shall be synonymous, i.e. the processing of one of the
descriptors with an identical value for \@id is sufficient.
Two elements of type **DescriptorType** are _equivalent_ , if the element
name, the \@schemeIdUri and the \@value are equivalent. If the \@schemeIdUri
is a URN, then equivalence refers to lexical equivalence as defined in clause
5 of RFC 2141. If the \@schemeIdUri is a URI, then equivalence refers to
equality on a character-for-character basis as defined in clause 6.2.1 of RFC
3986 [17]. For the \@value XML-string matching shall be used for determining
equivalence. If the \@value attribute is not present, equivalence is
determined by the equivalence for \@schemeIdUri only. The \@id attribute may
be ignored for equivalence determination.
The semantics of the attributes within a Generic Descriptor element are
provided in Table 8-33. The XML-syntax of a Generic Descriptor element is
provided in Table 8-34. The specific descriptors follow these syntax and
semantics.
Table 8-33: Semantics of generic Descriptor element
+---------+-----+---------+---------+---------+---------+---------+ | Element | Use | Desc | | | | | | or | | ription | | | | | | At | | | | | | | | tribute | | | | | | | | Name | | | | | | | +---------+-----+---------+---------+---------+---------+---------+ | | | | Element | | This | | | | | | of type | | element | | | | | | Descrip | | p | | | | | | torType | | rovides | | | | | | | | info | | | | | | | | rmation | | | | | | | | about | | | | | | | | the use | | | | | | | | of | | | | | | | | descr | | | | | | | | iption. | | +---------+-----+---------+---------+---------+---------+---------+ | | | | | \@sche | M | P | | | | | | meIdUri | | rovides | | | | | | | | a URI | | | | | | | | to | | | | | | | | i | | | | | | | | dentify | | | | | | | | the | | | | | | | | scheme. | | | | | | | | The | | | | | | | | def | | | | | | | | inition | | | | | | | | of this | | | | | | | | element | | | | | | | | is | | | | | | | | s | | | | | | | | pecific | | | | | | | | to the | | | | | | | | scheme | | | | | | | | e | | | | | | | | mployed | | | | | | | | for | | | | | | | | content | | | | | | | | descr | | | | | | | | iption. | | | | | | | | The URI | | | | | | | | may be | | | | | | | | a URN | | | | | | | | or a | | | | | | | | URL. | | | | | | | | The | | | | | | | | \@sche | | | | | | | | meIdUri | | | | | | | | may be | | | | | | | | a URN | | | | | | | | or URL. | | | | | | | | When a | | | | | | | | URL is | | | | | | | | used, | | | | | | | | it | | | | | | | | should | | | | | | | | also | | | | | | | | contain | | | | | | | | a | | | | | | | | mon | | | | | | | | th-date | | | | | | | | in the | | | | | | | | form | | | | | | | | mmyyyy; | | | | | | | | the | | | | | | | | ass | | | | | | | | ignment | | | | | | | | of the | | | | | | | | URL | | | | | | | | must | | | | | | | | have | | | | | | | | been | | | | | | | | aut | | | | | | | | horized | | | | | | | | by the | | | | | | | | owner | | | | | | | | of the | | | | | | | | domain | | | | | | | | name in | | | | | | | | that | | | | | | | | URL on | | | | | | | | or very | | | | | | | | close | | | | | | | | to that | | | | | | | | date, | | | | | | | | to | | | | | | | | avoid | | | | | | | | p | | | | | | | | roblems | | | | | | | | when | | | | | | | | domain | | | | | | | | names | | | | | | | | change | | | | | | | | ow | | | | | | | | nership | +---------+-----+---------+---------+---------+---------+---------+ | | | | | \@value | O | This | | | | | | | | at | | | | | | | | tribute | | | | | | | | p | | | | | | | | rovides | | | | | | | | the | | | | | | | | value | | | | | | | | for the | | | | | | | | des | | | | | | | | criptor | | | | | | | | e | | | | | | | | lement. | | | | | | | | The | | | | | | | | value | | | | | | | | space | | | | | | | | and | | | | | | | | se | | | | | | | | mantics | | | | | | | | must be | | | | | | | | defined | | | | | | | | by the | | | | | | | | owners | | | | | | | | of the | | | | | | | | scheme | | | | | | | | ide | | | | | | | | ntified | | | | | | | | in the | | | | | | | | \@sche | | | | | | | | meIdUri | | | | | | | | att | | | | | | | | ribute. | +---------+-----+---------+---------+---------+---------+---------+ | | | | | \@id | O | sp | | | | | | | | ecifies | | | | | | | | an | | | | | | | | ide | | | | | | | | ntifier | | | | | | | | for the | | | | | | | | desc | | | | | | | | riptor. | | | | | | | | Desc | | | | | | | | riptors | | | | | | | | with | | | | | | | | id | | | | | | | | entical | | | | | | | | values | | | | | | | | for | | | | | | | | this | | | | | | | | at | | | | | | | | tribute | | | | | | | | shall | | | | | | | | be | | | | | | | | syno | | | | | | | | nymous, | | | | | | | | i.e. | | | | | | | | the | | | | | | | | pro | | | | | | | | cessing | | | | | | | | of one | | | | | | | | of the | | | | | | | | desc | | | | | | | | riptors | | | | | | | | with an | | | | | | | | id | | | | | | | | entical | | | | | | | | value | | | | | | | | is | | | | | | | | suff | | | | | | | | icient. | +---------+-----+---------+---------+---------+---------+---------+ | Legend: | | | | | | | | | | | | | | | | > For | | | | | | | | > attr | | | | | | | | ibutes: | | | | | | | | > M=Man | | | | | | | | datory, | | | | | | | | > O=Op | | | | | | | | tional, | | | | | | | | > OD=O | | | | | | | | ptional | | | | | | | | > with | | | | | | | | > | | | | | | | | Default | | | | | | | | > | | | | | | | | Value, | | | | | | | | > CM | | | | | | | | =Condit | | | | | | | | ionally | | | | | | | | > Man | | | | | | | | datory. | | | | | | | | > | | | | | | | | > For | | | | | | | | > el | | | | | | | | ements: | | | | | | | | > \.. | | | | | | | | .\ | | | | | | | | > | | | | | | | | (N=unb | | | | | | | | ounded) | | | | | | | | | | | | | | | | E | | | | | | | | lements | | | | | | | | are | | | | | | | | bold; | | | | | | | | att | | | | | | | | ributes | | | | | | | | are | | | | | | | | n | | | | | | | | on-bold | | | | | | | | and | | | | | | | | p | | | | | | | | receded | | | | | | | | with an | | | | | | | | @. | | | | | | | +---------+-----+---------+---------+---------+---------+---------+
Table 8-34: XML-Syntax of generic Descriptor element
* * *
\\ \\ \\ \\
\\ \\ \\
\\ \\ \
* * *
#### 8.6.3.2 Content Protection
For the element **ContentProtection** the \@schemeIdUri attribute is used to
identify the content protection schemes employed. This attribute should
provide sufficient information, possibly in conjunction with the \@value
and/or extension attributes and elements, such as the DRM system(s),
encryption algorithm(s), and key distribution scheme(s) employed, to enable a
client to determine whether it can possibly play the protected content. The
**ContentProtection** element can be extended in a separate namespace to
provide information specific to the content protection scheme (e.g. particular
key management systems or encryption methods). Scheme-specific information can
also be provided in the Initialization Segment(s) using the appropriate file
format primitives instead of, or in addition to, the **ContentProtection**
element. The client may have to receive and analyze the protected content
(typically only the Initialization Segment, if present), before it can
determine whether it has already acquired a license and/or key for accessing
the protected content, or to determine from where it can acquire a missing
license and/or key, in case this information is not available from the
**ContentProtection** element.
When the **ContentProtection** element is not present the content shall
neither be encrypted nor content protected.
When multiple **ContentProtection** elements are present, each element shall
describe a content protection scheme that is sufficient to access and present
the Representation.
#### 8.6.3.3 Role
For the element **Role** the \@schemeIdUri attribute is used to identify the
role scheme employed to identify the role of the media component. Roles define
and describe characteristics and/or structural functions of media components.
One Adaptation Set or one media content component may have assigned multiple
roles even within the same scheme.
This specification defines a role scheme in Annex C.2.
#### 8.6.3.4 Rating
For the element **Rating** the \@schemeIdUri attribute is used to identify the
rating scheme employed.
Ratings specifies that content is suitable for presentation to audiences for
which that rating is known to be appropriate, or for unrestricted audiences.
NOTE: An audience with a rating restriction is intended to not be presented
content that has associated ratings, unless at least one scheme is recognized
as indicating that the content is appropriate to that audience.
#### 8.6.3.5 Viewpoint
For the element **Viewpoint** the \@schemeIdUri attribute is used to identify
the viewpoint scheme employed.
**Adaptation Sets** containing non-equivalent **Viewpoint** **contain
different media content components. The Viewpoint elements may equally be
applied to media content types that are not video.** .
Adaptation Sets with equivalent **Viewpoint** element values are intended to
be presented together. This handling should be applied equally for recognised
and unrecognised \@schemeIdUri values.
#### 8.6.3.6 Accessibility
For the element **Accessibility** the \@schemeIdUri attribute is used to
identify the accessibility scheme employed. Accessibility is a general term
used to describe the degree to which the DASH Media Presentation is available
to as many people as possible.
> NOTE **Accessibility** elements fulfil a very similar purpose with respect
> to media content components as for **Role** elements, but are specifically
> intended for accessibility.
One Adaptation Set or one media content component may have assigned multiple
accessibility purposes even within the same scheme.
This specification does not define a specific accessibility scheme, but the
simple role scheme in may be used to express a minimum amount of accessibility
information.
#### 8.6.3.7 Audio channel configuration
**For the element AudioChannelConfiguration the \@schemeIdUri attribute is
used to identify the audio channel configuration scheme employed.**
Multiple **AudioChannelConfiguration** elements may be present indicating that
the Representation supports multiple audio channel configurations. For
example, it may describe a Representation that includes MPEG Surround audio
supporting stereo and multichannel.
NOTE if the scheme or the value for this descriptor is not recognized the DASH
client is expected to ignore the descriptor.
#### 8.6.3.8 Frame packing
**For the element FramePacking the \@schemeIdUri attribute is used to identify
the frame packing configuration scheme employed.**
Multiple **FramePacking** elements may be present. If so, each element shall
contain sufficient information to select or reject the described
Representations or Sub-Representations.
This specification defines a frame packing scheme in Annex C.3.
> NOTE: If the scheme or the value for all **FramePacking** elements is not
> recognized, the 3GP-DASH client is expected to ignore the described
> Representations or Sub-Representations.
#### 8.6.3.9 Essential Property Descriptor
**For the element EssentialProperty the Media Presentation author expresses
that the successful processing of the descriptor is essential to properly use
the information in the parent element that contains this descriptor unless
the** element shares the same \@id with another **EssentialProperty** element.
If **EssentialProperty** elements share the same \@id, then processing one of
the **EssentialProperty** elements with the same value for \@id is sufficient.
At least one **EssentialProperty** element of each distinct \@id value is
expected to be processed.
NOTE if the scheme or the value for this descriptor is not recognized the DASH
client is expected to ignore the parent element that contains the descriptor.
Multiple **EssentialProperty** elements with the same value for \@id and with
different values for \@id may be present.
#### 8.6.3.10 Supplemental Property Descriptor
**For the element SupplementalProperty the Media Presentation author expresses
that the descriptor contains supplemental information that may be used by the
DASH client for optimized processing.**
NOTE if the scheme or the value for this descriptor is not recognized the DASH
client is expected to ignore the descriptor.
Multiple **SupplementalProperty** elements may be present.
#### 8.6.3.11 UTC Timing Descriptor
Using the **UTCTiming** element, the Media Presentation author provides
additional information for the client to optionally obtain wall-clock time to
be used in Media Presentation. If multiple schemes are specified by the Media
Presentation author, their order indicates their relative preference, first
having the highest, and the last having the least priority. However, the
client may choose any method, potentially having to deal with reduced
accuracy.
For a set of UTC Timing descriptors, refer to ISO/IEC 23009-1:2014, Amd.1[43].
## 8.7 Base URL Processing
### 8.7.1 General
The **BaseURL** element may be used to specify one or more common locations
for Segments and other resources. Reference resolution as defined in 8.7.2
shall be applied to each URL in the MPD. Handling of multiple alternative base
URLs is addressed in 8.7.3.
The semantics of the attributes and elements for the Base URL are provided in
Table 8-35. The XML syntax of the Base URL is provided in Table 8-36.
Table 8-35 --- Semantics of BaseURL element
+-------------+-------------+-------------+-------------+-------------+ | Element or | Use | Description | | | | Attribute | | | | | | Name | | | | | +-------------+-------------+-------------+-------------+-------------+ | | **BaseURL** | | A URL that | | | | | | can be used | | | | | | as Base | | | | | | URL. The | | | | | | content of | | | | | | this | | | | | | element is | | | | | | a URI | | | | | | string as | | | | | | described | | | | | | in 8.7.2. | | +-------------+-------------+-------------+-------------+-------------+ | | | \@serv | O | This | | | | iceLocation | | attribute | | | | | | specifies a | | | | | | r | | | | | | elationship | | | | | | between | | | | | | BaseURLs | | | | | | such that | | | | | | **BaseURL** | | | | | | elements | | | | | | with the | | | | | | same | | | | | | \@serv | | | | | | iceLocation | | | | | | value are | | | | | | likely to | | | | | | have their | | | | | | URLs | | | | | | resolve to | | | | | | services at | | | | | | a common | | | | | | network | | | | | | location, | | | | | | for example | | | | | | a common | | | | | | Content | | | | | | Delivery | | | | | | Network. | | | | | | | | | | | | If not | | | | | | present, no | | | | | | r | | | | | | elationship | | | | | | to any | | | | | | other Base | | | | | | URL is | | | | | | known. | +-------------+-------------+-------------+-------------+-------------+ | Legend: | | | | | | | | | | | | > For | | | | | | > | | | | | | attributes: | | | | | | > M | | | | | | =Mandatory, | | | | | | > | | | | | | O=Optional, | | | | | | > | | | | | | OD=Optional | | | | | | > with | | | | | | > Default | | | | | | > Value, | | | | | | > CM=Co | | | | | | nditionally | | | | | | > | | | | | | Mandatory. | | | | | | > | | | | | | > For | | | | | | > elements: | | | | | | > \...\ | | | | | | > (N | | | | | | =unbounded) | | | | | | | | | | | | Elements | | | | | | are bold; | | | | | | attributes | | | | | | are | | | | | | non-bold | | | | | | and | | | | | | preceded | | | | | | with an @. | | | | | +-------------+-------------+-------------+-------------+-------------+
Table 8-36 --- XML-Syntax of BaseURL element
+-----------------------------------------------------------------------+ | \\ | | \\ | | \\ | | \\ | | \ | | | | \\ | | \\ | | \\ | | \ | +-----------------------------------------------------------------------+
### 8.7.2 Reference resolution
URLs at each level of the MPD are resolved according to RFC3986 with respect
to the **BaseURL** element specified at that level of the document or the
level above in the case of resolving base URLs themselves (the document "base
URI" as defined in RFC 3986 [17], Section 5.1 is considered to be the level
above the MPD level). If only relative URLs are specified and the document
base URI cannot be established according to RFC3986 [17] then the MPD should
not be interpreted. URL resolution applies to all URLs found in MPD documents.
In addition to the document level (the level above the MPD level), base URL
information may be present on the following levels:
  * On MPD level in **MPD.BaseURL** element. For details refer to section 8.4.1.
  * On Period level in **Period.BaseURL** element. For details refer to section 8.4.2.
  * On Adaptation Set level in **AdaptationSet.BaseURL** element. For details refer to section 8.4.3.3.
  * On Representation level in **Representation.BaseURL**. For details refer to section 8.4.3.4.
### 8.7.3 Alternative base URLs
If alternative base URLs are provided through the **BaseURL** element at any
level, identical Segments shall be accessible at multiple locations. In the
absence of other criteria, the DASH Client may use the first **BaseURL**
element as "base URI\". The DASH Client may use base URLs provided in the
**BaseURL** element as "base URI" and may implement any suitable algorithm to
determine which URLs it uses for requests.
# 9 DASH - Usage of 3GPP File Format
## 9.1 Introduction
3GPP Dynamic Adaptive Streaming over HTTP uses many elements of fragmented 3GP
files to define the Segment formats. This provides Segments according to the
requirements defined in clause 8.4.4.1 and enables reuse of existing content,
easy encoding and recording, etc. This clause introduces how to use the 3GPP
file format as specified in\ TS 26.244 [4] for DASH Segment formats.
## 9.2 Segment Types and Formats
### 9.2.1 Introduction
3GP-DASH defines a Segment format that is used in the delivery of media data
over HTTP. A Segment shall contain one or more boxes in accordance with the
boxed structure of the ISO-base media file format [11].
For 3GP-DASH the following applies:
\- In all cases for which a Representation contains more than one Media
Segment, the following applies:
\- The Initialization Segment as defined in clause 9.2.2 shall be present. The
Initialization Segment shall be available for the 3GP-DASH client before any
Media Segment is processed within the Representation.
\- Media Segments shall not be self-initializing. The Media Segment format is
defined in clause 9.2.3.
\- In case a Representation contains only a single Media Segment, then either
one of the following two options is used:
1) An Initialization Segment as defined in clause 9.2.2 and one Media Segment
as defined in clause 9.2.3.
2) One Self-Initializing Media Segment as defined in clause 9.2.4.
### 9.2.2 Initialization Segment
The Initialization Segment is conformant with the 3GPP file format, adaptive
streaming profile and shall carry "3gh9" as compatibility brand.
The Initialization Segment consists of the "ftyp" box, the "moov" box, and
optionally the "pdin" box. The "moov" box shall not contain any samples (i.e.
the entry_count in the "stts", "stsc", and "stco" boxes shall be set to 0) and
is then very small in size. This reduces the start-up time significantly as
the Initialization Segment needs to be downloaded before any Media Segment can
be processed.
The "mvex" box shall be contained in the "moov" box to indicate that the
client has to expect movie fragments. The "mvex" box also sets default values
for the tracks and samples of the following movie fragments.
The Initialization Segment provides the client with the metadata that
describes the media content. The client uses the information in the "moov" box
to identify the available media components and their characteristics.
The Initialization Segment shall not contain any "moof" or "mdat" boxes.
### 9.2.3 Media Segment
#### 9.2.3.1 General
A Media Segment contains and encapsulates media streams that are either
described within this Media Segment or described by the Initialization Segment
of this Representation or both.
In addition, a Media Segment
  1. shall contain a number of complete access units.
  2. should contain at least one Stream Access Point (SAP) for each contained media stream.
  3. should provide information on how to access the Media Presentation within this Segment, e.g. exact presentation time and an index. There is no requirement that a Media Segment starts with a SAP, but it is possible to signal in the MPD that all media streams in a Segments within a Representation start with a SAP.
  4. if it is the first Media Segment in the Representation, it shall contain only media streams that start with a SAP of type 1 or 2.
  5. shall contain sufficient information to time-accurately present each contained media component in the Representation without accessing any previous Media Segment in this Representation provided that the Media Segment contains a SAP for each media stream. The time-accuracy enables a client to seamlessly switch Representations and jointly present multiple Representations.
  6. may be divided into Subsegments by a Segment Index as defined in 9.2.3.2.
  7. shall specify all Media Presentation times relative to the start of the Period and compensated with the value of the \@presentationTimeOffset. The presentation time in Media Segments shall be accurate to ensure accurate alignment of all Representations in one Period. For more details refer to 9.4.1.1.
#### 9.2.3.2 Subsegments and Segment Index
Media Segments may contain multiple **Subsegments. Each Subsegment shall
contain a number of complete access units.** There may also be media-format-
specific restrictions on Subsegment boundaries. If a Segment is divided into
multiple Subsegments this division is described by a compact **Segment index**
, which provides the presentation time range in the Representation and
corresponding byte range in the Segment occupied by each Subsegment for one or
more media streams. Clients may download this index in advance and then issue
requests for individual Subsegments.
In addition, the Segment Index provides timing and stream access information.
This includes the earliest presentation time of access units in each
Subsegment of an indexed media stream and the presentation time of the first
SAP, if present.
**If a Segment Index is present for at least one media stream, then for any
media stream for which no Segment Index is present, referred to as non-indexed
stream, the following applies:**
  * every access unit of the non-indexed streams shall be a SAP of type 1.
  * for each Subsegment, every non-indexed stream must contain exactly one access unit within the Subsegment with presentation time less than or equal to the earliest presentation time of the Subsegment
When multiple media streams are indexed in a single index file, the
corresponding Segment Index for different media streams should index the same
number of Subsegments.
If no Segment Index is provided for a Media Segment, then the Media Segment
constitutes one Subsegment.
A Subsegment may itself be further subdivided using further Segment Index
boxes. If a Subsegment only contains media data but no Segment Index, it is
referred to as Media Subsegment.
1) The Segment Index may contain additional Subsegment indexing information
for accessing different levels of Subsegments in a Media Subsegment. For more
details refer to clause 9.2.3.3.
**A generic mechanism for indexing of Media Segments is provided by the
Segment Index ('sidx') box in TS26.244 [4]. In this case,**
  * the earliest presentation time of a Subsegment is documented in the earliest_presentation_time field.
  * the byte range is document by the first_offset field and the reference_size field. If two Segment Index boxes document the same byte range, then the value of their first_offset field and their reference_size field shall be identical.
#### 9.2.3.3 Subsegment Index
Media Subsegments may be indexed further to enable accessing different levels
of Subsegments in a Media Subsegment. This Subsegment Index may also be
provided in separate Index Segments together with the Segment Index.
A generic syntax and semantic for Subsegment indexing is provided by the
Subsegment Index ('ssix') in Annex G.3.
#### 9.2.3.4 3GP-DASH Media Segment Format
A Media Segment conforming to the Media Segment Format for 3GP DASH shall
carry '3gmA' as a compatible brand and is defined as follows:
\- Each Media Segment may contain an 'styp' box.
\- If the Media Segment is the last media Segment in the Representation, the
\'styp\' box may carry 'lmsg' as a compatible brand.
\- Each Media Segment shall contain one or more whole self-contained movie
fragments. A whole, self-contained movie fragment is a movie fragment ('moof')
box and a media data ('mdat') box that contains all the media samples that do
not use external data references referenced by the track runs in the movie
fragment box.
\- Each 'moof' box shall contain at least one track fragment.
\- The 'moof' boxes shall use movie-fragment relative addressing and the flag
'default-base-is-moof' shall also be set. Absolute byte-offsets shall not be
used. In a movie fragment, the durations by which each track extends should be
as close to equal as practical. In particular, as movie fragments are
accumulated, the track durations should remain close to each other and there
should be no \'drift\'.
\- Each 'traf' box shall contain a 'tfdt' box.
\- The track fragment adjustment box 'tfad' as defined in 3GPP TS26.244 [4]
may also be present to maintain compatibility with earlier releases of this
specification; care should be taken that the alignment established by the
'tfdt' and the time-shifting implied by the 'tfad' not be both applied, which
would result in a double correction.
\- Each Media Segment may contain one or more 'sidx' boxes. If present, the
first 'sidx' box shall be placed before any 'moof' box and the subsegment
documented by the first Segment Index ('sidx') box shall be the entire
Segment, i.e. the entire Segment shall be document by the first Segment Index
('sidx') box.
\- A media Segment may contain a Subsegment Index box ('ssix'). If present it
shall follow immediately after the 'sidx' box that documents the same
subsegment. This immediately preceding 'sidx' shall only index subsegments.
\- Further rules on media Segments in combination with certain MPD attributes
are provided in clause 9.4.
### 9.2.4 Self-Initializing Media Segment
A Self-Initializing Media Segment conforms to the concatenation of an
Initialization Segment as defined in 9.2.2 and a Media Segment as defined in
9.2.3.
### 9.2.5 Media Stream and Segment Properties
#### 9.2.5.1 Media Stream Access Points
To be able to access a Representation, each of the media streams that are
contained in the Representation requires Media Stream Access Points (SAPs).
Annex G.6 defines different types of SAPs that provide a relationship between
the position where a stream can be accessed, a SAP, relative to the start of a
Segment or Subsegment, its presentation time and the presentation times and
position of other access unit in the stream.
A SAP is a position in a Representation that enables playback of a media
stream to be started using only the information contained in Representation
data starting from that position onwards (preceded by initializing data in the
Initialization Segment, if any).
For each SAP the properties, I~SAP~, T~SAP~, I~SAU~, T~DEC~, T~EPT~, and
T~PTF~ are identified and defined in Annex G.6.2.
In particular, T~SAP~ is defined to be earliest presentation time of any
access unit of the media stream such that all access units of the media stream
with presentation time greater than or equal to T~SAP~ can be correctly
decoded using data in the Representation starting at byte position I~SAP~ and
no data before I~SAP~.
#### 9.2.5.2 Non-overlapping Segments and Subsegments
Segments and Subsegments represent units for which the client has an exact map
on how to access and download the unit using HTTP GET or HTTP partial GET
methods.
Segments (respectively Subsegments) are typically generated by segmenting
encoded media streams into appropriate units. If the generation of Segments
(respectively Subsegments) adheres to certain rules, then the sequential
decoding and presentation of Media Segments (respectively Subsegments) results
in a correct presentation of all contained media streams. To define such rules
the notion of "non-overlapping" Segments (respectively Subsegments) is defined
as follows.
Let
  * _T~E~(S,i)_ be the earliest presentation time of any access unit in stream _i_ of a Segment or Subsegment _S_ ,
  * _T~L~(S,i)_ be the latest presentation time of any access unit in stream _i_ of a Segment or Subsegment _S_.
Then two Segments (respectively Subsegments), _A_ and _B_ , which may or may
not be of different Representations, are _non-overlapping_ if _T~L~(A,i)_ \ For | | | | | | | > att | | | | | | | ributes: | | | | | | | > M=Ma | | | | | | | ndatory, | | | | | | | > O=O | | | | | | | ptional, | | | | | | | > OD= | | | | | | | Optional | | | | | | | > with | | | | | | | > | | | | | | | Default | | | | | | | > Value, | | | | | | | > | | | | | | | CM=Condi | | | | | | | tionally | | | | | | | > Ma | | | | | | | ndatory. | | | | | | | > | | | | | | | > For | | | | | | | > e | | | | | | | lements: | | | | | | | > \\ | | | | | | | ...\ | | | | | | | > (N=un | | | | | | | bounded) | | | | | | | | | | | | | | Elements | | | | | | | are | | | | | | | bold; | | | | | | | at | | | | | | | tributes | | | | | | | are | | | | | | | non-bold | | | | | | | and | | | | | | | preceded | | | | | | | with an | | | | | | | @. | | | | | | +----------+----------+----------+----------+----------+----------+
Table 33: XML-Syntax of Metrics element
* * *
\\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \ \\ \\ \\
\\ \\ \\ \\ \
* * *
## 10.5 Quality Reporting Scheme for DASH
This section specifies a 3GP-DASH quality reporting scheme.
The quality reporting scheme is signaled using in the **Reporting** element in
the **Metrics** element. The URN to be used for the **Reporting**
\@schemeIdUri shall be \"urn:3GPP:ns:PSS:DASH:QM10\".
The reporting scheme shall use the quality reporting protocol defined in
section 10.6.
The semantics and XML syntax of the scheme information for the 3GP-DASH
quality reporting scheme are specified in Table 34 and Table 35, respectively.
Table 34: Semantics of Quality Reporting Scheme Information
+-----------------+-----------------+-------------+-----------------+ | Element or | Use | Description | | | Attribute Name | | | | +-----------------+-----------------+-------------+-----------------+ | | \@apn | O | This attribute | | | | | gives the | | | | | access point | | | | | that should be | | | | | used for | | | | | sending the QoE | | | | | reports. | +-----------------+-----------------+-------------+-----------------+ | | \@format | O | This field | | | | | gives the | | | | | requested | | | | | format for the | | | | | reports. | | | | | Possible | | | | | formats are: | | | | | "uncompressed" | | | | | and "gzip". | +-----------------+-----------------+-------------+-----------------+ | | \@s | O | Percentage of | | | amplepercentage | | the clients | | | | | that should | | | | | report QoE. The | | | | | client uses a | | | | | random number | | | | | generator with | | | | | the given | | | | | percentage to | | | | | find out if the | | | | | client should | | | | | report or not. | +-----------------+-----------------+-------------+-----------------+ | | \@ | M | The reporting | | | reportingserver | | server URL to | | | | | which the | | | | | reports will be | | | | | sent. | +-----------------+-----------------+-------------+-----------------+ | | \@re | O | Indicates the | | | portinginterval | | time(s) reports | | | | | should be sent. | | | | | If not present, | | | | | then the client | | | | | should send a | | | | | report after | | | | | the streaming | | | | | session has | | | | | ended. If | | | | | present, | | | | | \@repo | | | | | rtingInterval=n | | | | | indicates that | | | | | the client | | | | | should send a | | | | | report every | | | | | n-th second | | | | | provided that | | | | | new metrics | | | | | information has | | | | | become | | | | | available since | | | | | the previous | | | | | report. | +-----------------+-----------------+-------------+-----------------+ | Legend: | | | | | | | | | | > For | | | | | > attributes: | | | | | > M=Mandatory, | | | | | > O=Optional, | | | | | > OD=Optional | | | | | > with Default | | | | | > Value, | | | | | > C | | | | | M=Conditionally | | | | | > Mandatory. | | | | | > | | | | | > For elements: | | | | | > | | | | | \. | | | | | ..\ | | | | | > (N=unbounded) | | | | | | | | | | Elements are | | | | | bold; | | | | | attributes are | | | | | non-bold and | | | | | preceded with | | | | | an @ | | | | +-----------------+-----------------+-------------+-----------------+
Table 35: Syntax of Quality Reporting Scheme Information
* * *
\\ \\ \ \\
\3GPP DASH Quality Reporting\\ \\ This Schema defines the quality reporting scheme information
for 3GPP DASH.\ \\ \\ \ \\ \
\\ \\ \\ \\
\\
\\ \\ \ \\ \\ \\ \\
\\ \\ \ \
* * *
## 10.6 Quality Reporting Protocol
### 10.6.1 General
The quality reporting protocol consists of:
\- The XML-based report format defined in section 10.6.2
\- The reporting protocol defined in section 10.6.3
The MIME type of an XML-formatted QoE report shall be "application/3gpdash-
qoe-report+xml" as defined in Annex J.
### 10.6.2 Report Format
The QoE report is formatted as an XML document that complies with the
following XML schema:
+----------------------------------------------------------------------+ | \\ | | \\ | | \ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \ | | | | \\ | | \\ | | \ | | | | \ | +----------------------------------------------------------------------+
### 10.6.3 Reporting Protocols
If a specific metrics server has been configured, the client shall send QoE
reports using the HTTP (RFC 2616) [9] POST request carrying XML formatted
metadata in its body.
An example QoE reporting based on HTTP POST request signalling is shown below:
+----------------------------------------------------------------------+ | **POST http://www.exampleserver.com HTTP/1.1** | | | | **Host: 192.68.1.1** | | | | **User-Agent: Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; | | Trident/4.0)** | | | | **Content-Type: text/xml; charset=utf-8** | | | | **Content-Length: 4408** | +----------------------------------------------------------------------+ | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | | | \ | | | | \\ | | \ | | | | \ | | | | \\ | | \ | | | | \ | | | | \\ | | \ | | | | \ | | | | \\ | | \\ | | \\ | | \10000\\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | +----------------------------------------------------------------------+ | | +----------------------------------------------------------------------+
###### ## Annex A (informative): Example DASH Client Behaviour
# A.1 Introduction
The information on client behaviour is purely informative and does not imply
any normative procedures on DASH client implementations.
# A.2 Overview
A 3GP-DASH client is guided by the information provided in the MPD. This
example assumes that the **MPD** \@type is \'dynamic\'. The behaviour in case
**MPD** \@type being \'static\' is basically a subset of the description here.
The description in this Annex assumes that the client has access to the MPD at
time _FetchTime_ , at its initial location if no **MPD.Location** element is
present, or at a location specified in any present **MPD.Location** element.
_FetchTime_ is defined at the client as the time at which the server processes
the request for the MPD, but should take into account delay due to MPD
delivery and processing. The fetch is considered successful either if the
client obtains an updated MPD or the client verifies that the MPD has not been
updated since the previous fetching.
The following example client behaviour is expected to provide a continuous
streaming service to the user:
1) The client parses the MPD, selects a set of Adaptation Sets suitable for
its environment based on information provided in each of the **AdaptationSet**
elements. The selection of Adaptation Sets may also take into account
information provided by the **AdaptationSet** \@group attribute.
2) Within each Adaptation Set the client selects one specific Representation,
typically based on the value of the \@bandwidth attribute, but also taking
into account client decoding and rendering capabilities. Then it creates a
list of accessible Segments for each Representation for the actual client-
local time _NOW_ measured in wall-clock time taking into account the
procedures introduced in clause A.3.
3) The client accesses the content by requesting Segments or byte ranges of
Segments. The client requests the Media Segments of the selected
Representations by using the generated Segment list.
4) The client buffers media of for at least value of \@minBufferTime attribute
duration before starting the presentation. Then, once identified a Stream
Access Point (SAP) for each of the media streams in the different
Representations, it starts rendering (in wall-clock-time) of this SAP not
before **MPD** \@availabilityStartTime _\+ PeriodStart +T_ ~SAP~ and not after
**MPD** \@availabilityStartTime _\+ PeriodStart +T_ ~SAP~ +
\@timeShiftBufferDepth provided the observed throughput remains at or above
the sum of the \@bandwidth attributes of the selected Representations (if not,
longer buffering may be needed). For services with **MPD** \@type=\'dynamic\',
rendering the SAP at the sum of _PeriodStart +T_ ~SAP~ and the value of
**MPD** \@suggestedPresentationDelay is recommended, especially of
synchronized play-out with other devices adhering to the same rule is desired.
5) Once the presentation has started, the client continues consuming the media
content by continuously requesting Media Segments or parts of Media Segments .
The client may switch Representations taking into account updated MPD
information and/or updated information from its environment, e.g. change of
observed throughout. With any request for a Media Segment containing a Stream
Access Point, the client may switch to a different Representation. Seamless
switching can be achieved as the different Representations are time-aligned.
Advantageous switching points are announced in the MPD and/or in the Segment
Index, if provided.
6) With the wall-clock time _NOW_ advancing, the client consumes the available
Segments. As _NOW_ advances the client possibly expands the list of available
Segments for each Representation according to the procedures specified in
clause A.3. If the following conditions are both true, an updated MPD should
be fetched:
a) if the attribute **MPD** \@minimumUpdatePeriod is present and
b) the current playback time gets within a threshold (typically described by
at least the sum of the value of the \@minBufferTime attribute and the value
of the \@duration attribute on Representation level) of the media described in
the MPD for any consuming or to be consumed Representation.
> 7) If the clauses in 6) are true, the client should fetch a new MPD and
> update fetch time _FetchTime_. Once received the client now takes into
> account the possibly updated MPD and the new _FetchTime_ in the generation
> of the accessible Segment Lists.
In the following a brief overview on Segment list generation, seeking, support
for trick modes and switching Representations are provided.
# A.3 Segment List Generation
## A.3.1 General
Assume that the 3GP-DASH client has access to an MPD. This clause describes
how a client may generate a Segment list for one Representation as shown in
Table A.1 from an MPD obtained at _FetchTime_ at a specific client-local time
_NOW_. In this description, the term _NOW_ is used to refer to "the current
value of the clock at the reference client when performing the construction of
an MPD Instance from an MPD". A client that is not synchronised with a DASH
server, which is in turn is expected to be synchronised to UTC, may experience
issues in accessing Segments as the Segment availability times provided by the
server and the local time _NOW_ may not be synchronized. Therefore, 3GP-DASH\
clients are expected to synchronize their clocks to a globally accurate time
standard.
Table A.1: Segment List
* * *
Parameter Name Cardinality Description Segments 1 Provides the Segment URL
list. InitializationSegment 0, 1 Describes the Initialization Segment. If not
present each Media Segment is self-initializing. URL 1 The URL where to access
the Initialization Segment (the client would restrict the URL with a byte
range if one is provided in the MPD). MediaSegment 1 ... N Describes the
accessible Media Segments. startTime 1 The MPD start time of the Media Segment
in the Period relative to the start time of Period. duration 1 The MPD
duration for the Segment URL 1 The URL where to access the Media Segment
possibly combined with a byte range.
* * *
According to 8.4.4 there exist three different ways to describe and generate a
Segment List. This description focusses on the first two where either a
**SegmentList** element or a **SegmentTemplate** element is present. The case
with a single Media Segment using **BaseURL** element and **SegmentBase**
element is considered straightforward.
Segments are available at its assigned URL if at wall-clock time _NOW_ the
Segment availability start time is smaller than or equal to _NOW_ and the
Segment availability end time is larger than or equal to _NOW_.
Furthermore, assume that for a Representation in a Period, the Segment list is
indexed with _i_ =1, ..., _N_.
Assume that for an MPD with fetch time _FetchTime_
  * the Period start time is provided as _PeriodStart_ according to clause 8.4.2 for any Period in the MPD.
  * the Period end time referred as _PeriodEnd_ is determined as follows: For any Period in the MPD except for the last one, the _PeriodEnd_ is obtained as the value of the _PeriodStart_ of the next Period. For the last Period in the MPD:
    * if the **MPD** \@minimumUpdatePeriod attribute is not present, then _PeriodEnd_ is defined as the end time of the Media Presentation, i.e. **MPD** \@availabilityStartTime + **MPD** \@mediaPresentationDuration.
    * if the **MPD** \@minimumUpdatePeriod attribute is present, then _PeriodEnd_ is defined as the smaller value of _FetchTime +_ **MPD** \@minimumUpdatePeriod and **MPD** \@availabilityStartTime + **MPD** \@mediaPresentationDuration.
The following applies for the MPD times:
  * the regular duration _d_ is obtained as _d_ = \@duration/\@timescale,
  * the MPD start time MediaSegment[_i_].startTime is obtained as (_i-1_)*_d_ ,
  * the MPD duration MediaSegment[_i_].duration is obtained as _d_ unless this Segment is the last Segment in this Period, then the MediaSegment[_i_].duration is obtained as _PeriodEnd_ \- MediaSegment.StartTime[_i_]).
If the \@duration is not provided, then
  * _N_ =1,
  * MediaSegment.startTime[_1_] = 0,
  * MediaSegment.duration[_1_] = _PeriodEnd_ \- _PeriodStart_ ,
If the Representation contains or inherits a **SegmentList** element,
providing a set of explicit URL(s) for Media Segments, then all _N_ Segment
URLs are provided.
## A.3.2 Template-based Generation of Media Segment List
If the Representation contains or inherits a **SegmentTemplate** element, then
the URL of the Media Segment _i_ , MediaSegment.URL[_i_], is obtained by
replacing the \$_Number_ \$ identifier by _i +_ \@startNumber in the
**SegmentTemplate** \@media string.
## A.3.3 Playlist-based Generation of Media Segment List
If the Representation contains or inherits a **SegmentList** element,
providing a set of explicit URL(s) for Media Segments, then all _N_ Segment
URLs are provided.
## A.3.4 Media Segment List Restrictions
The Media Segment List is restricted to a list of accessible Media Segments,
which may be a subset of the Media Segments of the complete Media
Presentation. The construction is governed by the current value of the clock
at the client _NOW_ which is greater than or equal to the _FetchTime_ of the
MPD.
Segments may only be accessed during their Segment availability times.
Generally, Segments are only available for any time _NOW_ between
\@availabilityStartTime and \@availabilityEndTime. For times _NOW_ outside
this window, no Segments are available.
In addition, for services with **MPD** \@type=\'dynamic\', the Segment
availability start time _T_ ~avail~[_i_] for a Segment _i_ in a specific
Period is determined as **MPD** \@availabilityStartTime + _PeriodStart_ \+
MediaSegment[_i_].startTime + MediaSegment[_i_].duration and the Segment
availability end time is determined as **MPD** \@availabilityStartTime +
_PeriodStart_ \+ MediaSegment[_i_].startTime + \@timeshiftBufferDepth +
2*MediaSegment[_i_].duration.
In case of MPD updates, assume the variable _CheckTime_ associated to an the
MPD with _FetchTime_ is defined as the sum of the fetch time of this operating
MPD and the value of the attribute **MPD** \@minimumUpdatePeriod , i.e.
_CheckTime = FetchTime +_ **MPD** \@minimumUpdatePeriod _._ The _CheckTime_ is
defined on the MPD-documented media time axis; when the client's playback time
reaches _CheckTime -_ **MPD** \@minBufferTime it should fetch a new MPD.
Therefore, based on an MPD that was fetched at fetch time _FetchTime_ and has
associated a check time _CheckTime_ , the largest index _i_ ~max~ that is
accessible at time _NOW_ for the last Period in the MPD is _i_ ~max~ = max~i~
{ _T_ ~avail~[_i_] \\ | | \\ | | \ | | \\ | | \\ | | \ | | \\ | | \Media Presentation Description\\ | | \\ | | This Schema defines the Media Presentation Description.\ | | \\ | | \\ | | \ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \ | | | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \ | | | | \\ | | \\ | | \\ | | \ | | | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \ | +----------------------------------------------------------------------+
# B.3 3GPP Extension Schema
Table B-2: XML schema of the 3GPP Extensions for MPD
* * *
\\ \\ \\ \Extensions to Media Presentation
Description for 3GPP\\ \\ \ \\ \ \\ \\ \\ \\ \\ \\ \\ \\ \\ \ \
\
* * *
###### ## Annex C (normative): Descriptor Scheme Definitions
# C.1 Introduction
This annex defines descriptors that are defined in this specification. In
particular the following descriptors are defined
\- Role descriptor scheme in clause C.2.
\- Frame packing descriptor scheme in clause C.3.
\- 3D Video disparity range descriptor scheme in clause C.4.
\- 3D Video display information descriptor scheme in clause C.5.
# C.2 Role Descriptor Scheme
The URN \"urn:mpeg:dash:role:2011\" is defined to identify the role scheme
defined in Table C.1. Note that **Role** \@value shall be assigned to
Adaptation Sets that contain a media component type to which this role is
associated.
Table C.1 --- Role\@value attrÃ­bute for scheme with a value
\"urn:mpeg:dash:role:2011\"
+----------------------------------+----------------------------------+ | **Role@** value | **Description** | +----------------------------------+----------------------------------+ | caption | captions (see note 3 below) | +----------------------------------+----------------------------------+ | subtitle | subtitles (see note 3 below) | +----------------------------------+----------------------------------+ | main | main media component(s) which | | | is/are intended for presentation | | | if no other information is | | | provided | +----------------------------------+----------------------------------+ | alternate | media content component(s) that | | | is/are an alternative to (a) | | | main media content component(s) | | | of the same media component type | | | (see note 2 below) | +----------------------------------+----------------------------------+ | supplementary | media content component that is | | | supplementary to a media content | | | component of a different media | | | component type (see Note 1 | | | below) | +----------------------------------+----------------------------------+ | commentary | media content component with | | | commentary (e.g. director's | | | commentary) (typically audio) | +----------------------------------+----------------------------------+ | dub | media content component which is | | | presented in a different | | | language from the original (e.g. | | | dubbed audio, translated | | | captions) | +----------------------------------+----------------------------------+ | > NOTES | | | > | | | > 1) A normal audio/video | | | > program labels both the | | | > primary audio and video as | | | > \"main\". However, when the | | | > two media component types are | | | > not equally important, for | | | > example (a) video providing a | | | > pleasant visual experience to | | | > accompany a music track that | | | > is the primary content or (b) | | | > ambient audio accompanying a | | | > video showing a live scene | | | > such as a sports event, that | | | > is the primary content, the | | | > accompanying media may be | | | > assigned a \"supplementary\" | | | > role. | | | > | | | > 2) alternate media content | | | > components should carry other | | | > descriptors to indicate in | | | > what way it differs from the | | | > main media content components | | | > (e.g. a Viewpoint descriptor | | | > or a Role descriptor), | | | > especially when multiple | | | > alternate media content | | | > components including multiple | | | > supplementary media content | | | > components are available. | | | > | | | > 3) open ("burned in") | | | > captions or subtitles would be | | | > marked as media type component | | | > \"video\" only, but having a | | | > descriptor saying "caption" or | | | > "subtitle"; | | +----------------------------------+----------------------------------+
# C.3 Frame Packing Descriptor Scheme
The frame packing description scheme is signalled in **FramePacking**
elements. For Representations or Sub-Representations that contain a video
component that conforms to ISO/IEC 14496-10 [35], the URN for **FramePacking**
\@schemeIdUri shall be
urn:mpeg:dash:14496:10:frame_packing_arrangement_type:2011, that is defined to
indicate the frame-packing arrangement as defined by Table D-8 of ISO/IEC
14496-10 [35] ('Definition of frame_packing_arrangement_type') to be contained
in **FramePacking** elements. The \@value shall be the 'Value' column as
specified in Table D-8 of [35] and shall be interpreted according to the
'Interpretation' column in the same table. A 3GP-DASH client supporting
stereoscopic 3D video should recognize and support frame packing arrangement
types given by values 3 and 4 for the \@value attribute, corresponding to
Side-by-Side and Top-and-Bottom frame packing formats, respectively.
# C.4 3D Video Disparity Range Descriptor Scheme
The 3D Video Disparity Range description scheme may only be signalled in
**SupplementalProperty** element with SupplementalProperty\@schemeIdUri set to
urn:3GPP:dash:3dVideoDisparityRange:2013. When present the 3D Video Disparity
Range description scheme shall be on the Adaptation Set level. The
SupplementalProperty\@value of 3D Video Disparity Range description scheme
shall be present and is defined below using ABNF [40]:
\@value=\"disparityRange\"
disparityRange = disparityMinValue disparityMaxValue
disparityMinValue = [%x2D]1*3DIGIT
disparityMaxValue = [%x2D]1*3DIGIT
disparityMinValue and disparityMaxValue are expressed as the minimum and the
maximum disparity, in units of pixels, divided by the width of the 3D video
content, in units of pixels, multiplied by one hundred. disparityMinValue and
disparityMaxValue shall be the same for all Representations included in an
Adaptation Set containing this descriptor scheme.
NOTE 1: The disparity is the difference between the horizontal positions of a
pixel representing the same point in space in the right and left views of a
stereoscopic 3D video frame. Positive disparity values move the object away
from the viewer whilst negative values move it towards the viewer. A value of
zero places the object in the plane of the display screen.
NOTE 2: The DASH client can calculate the perceived depth of the stereoscopic
3D content based on the provided disparity range and the prevailing contextual
information, such as a screen size used to display the content, and the
calculated or predefined distance of a viewer from the display. Based on the
calculated depth range perceived by a user, the DASH client can determine
applicability of the stereoscopic 3D video content provided for a given
Adaptation Set. [41]
# C.5 3D Video Display Information Scheme
The 3D Video Display Information description scheme may only be signalled in
**SupplementalProperty** element with SupplementalProperty\@schemeIdUri
urn:3GPP:dash:3dVideoDisplayInformation:2013. When present the 3D Video
Display Information description scheme shall be present on the Adaptation Set
level. The SupplementalProperty\@value of 3D Video Display Information
description scheme shall be present and is defined below using ABNF [40]:
\@value=\"displayInformation\"
displayInformation = displayWidth [viewingDistance]
displayWidth = 1*5DIGIT
viewingDistance = 1*5DIGIT
displayWidth and viewingDistance provide actual values for which the
stereoscopic 3D video content is optimized and are expressed in millimeters.
The displayWidth defines the width of the part of the screen actually used for
displaying the 3D video content.
NOTE: The DASH client can choose the Adaptation Set which contains the 3D
Video Display Information Scheme with displayWidth closest to the actual
display size used by the DASH client to display the content.
###### ## Annex D (informative): MPD Examples
# D.1 On-Demand Service
Table D.1 provides an example MPD for an On-Demand service.
Table D.1: Example MPD for an On-Demand Service
* * *
\\ \\ \\ \Example\\
\\ \http://www.example.com\\ \\ \\ \\ \\ \\ \\"rep1\"\\ \\ \\
\\ \\
\\ \\ \\
\\ \\"rep2\"\\ \\
\\ \\ \\ \\ \\ \\ \\
\\ \\ \\
\\
\\ \\ \\ \\
\\ \\ \
* * *
# D.2 Live Service
Table D.2 provides an example MPD for a live service.
Table D.2: Example MPD for a Live Service
+----------------------------------------------------------------------+ | \\ | | \\ | | \\ | | \Example 3: 3GPP SA4 Meeting in Vancouver as Live | | Broadcast\\ | | \3GPP\\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \\ | | \ | +----------------------------------------------------------------------+
# D.3 MPD Assembly
Table D.3 provides an example MPD with reference to external Period element as
provided in Table D.4. An equivalent MPD to the one in Table D.3 after
dereferencing with the **Period** element in Table D.4 is shown in Table D.2.
Table D.3: Example MPD with reference to external Period element
* * *
\\ \\ \\ \Example 3: 3GPP SA4
Meeting in Vancouver as Live Broadcast\\ \3GPP\\
\\ \\ \\ \\
\\ \\
\\ \\ \\ \\ \\
\\ \\ \\ \\
\ \\ \\ \\ \\ \\ \\ \\ \\
\\ \\
\\ \\
\\ \\ \\ \\ \\ \\
\
* * *
Table D.4: External Period
* * *
\\ \\ \\ \\ \\
\\ \\ \\ \\ \
* * *
# D.4 MPD Deltas
In the following MPD example, the content is 30 minutes in duration. There are
3 Periods, each of 10 minutes duration. Each Period has 3 Representations and
each Representation is contained within one 3gp file. Each Representation has
audio encoded with Low Complexity-AAC. One Representation of each Period
(p1rep1.3gp, p2rep1.3gp, and p3rep1.3gp) has video resolution 320x240 encoded
with H.264 baseline profile level 1.1. Another Representation of each Period
(p1rep2.3gp, p2rep2.3gp, and p3rep2.3gp) has resolution 320x240 encoded with
H.264 baseline profile level 1.3. Finally, a third representation in each
period (p1rep3.3gp, p2rep3.3gp, and p3rep3.3gp) has resolution 480x240 encoded
with H.264 baseline profile level 2.1. One Representation of each Period has
bandwidth of 239 kbps, a second representation has bandwidth of 478 kbps, and
a third representation has bandwidth of 892 kbps.
Since each represention is contained in one file, the Initialization Segments
and the Media Segments for a representation are accessed with byte ranges.
Each **SegmentURL** element in the MPD contains a **mediaRange** attribute and
the corresponding byte range for the Initialization Segment or Media Segment.
For the example each Segment of all representations is 10 seconds in duration.
Line numbers of the MPD in the example are shown for clarity, although these
would not be present in the MPD.
EXAMPLE 1 (add)
The change of adding the SegmentURL element for the next Segment to the
Representation of the third Period of the MPD in the example with 239K
bandwidth can be described as follows.
492a
\
.
The SegmentURL element is added on a new line after line number 492.
EXAMPLE 2 (replace)
Replacing the line containing the **DeltaSupport** element to correspond to
the MPD after the next update can be described as follows.
625c
\
.
EXAMPLE 3(delete)
If lines 8 through 10 of the original MPD are deleted and not present in the
updated MPD, the delta to express this is:
8,10d
.
Below is what the MPD looks like after approximately 29 minutes and 40
seconds. In this case, the MPD is updated approximately every 10 seconds.
+----------------------------------------------------------------------+ | 1\ | | | | 2\ | | | | 14 | | | | 15 \ | | | | 16 \Example\ | | | | 17 \Example\ | | | | 18 \Example\ | | | | 19 \ | | | | 20 \http://www.example.com\ | | | | 21 \ | | | | 22 \ | | | | 23 \\ | | 24 \ | | | | 25 \ | | | | 26 \\"p1rep1.3gp\"\ | | | | 27 \ | | | | 28 \ | | | | 29 \ | | | | 30 \ | | | | . | | | | . | | | | . | | | | 88 \ | | | | 89 \ | | | | 90 \ | | | | 91 \ | | | | 92 \\"p1rep2.3gp\"\ | | | | 93 \ | | | | 94 \ | | | | 95 \ | | | | 96 \ | | | | . | | | | . | | | | . | | | | 154 \ | | | | 155 \ | | | | 156 \ | | | | 157 \ | | | | 158 \\"p1rep3.3gp\"\ | | | | 159 \ | | | | 160 \ | | | | 161 \ | | | | 162 \ | | | | . | | | | . | | | | . | | | | 220 \ | | | | 221 \ | | | | 222 \ | | | | 223 \ | | | | 224\ | | | | 225\ | | | | 226 \ | | | | 227 \\ | | 228 \ | | | | 229 \ | | | | 230 \\"p2rep0.3gp\"\ | | | | 231 \ | | | | 232 \ | | | | 233 \ | | | | 234 \ | | | | . | | | | . | | | | . | | | | 292 \ | | | | 293 \ | | | | 294 \ | | | | 295 \ | | | | 296 \\"p2rep1.3gp\"\ | | | | 297 \ | | | | 298 \ | | | | 299 \ | | | | 300 \ | | | | . | | | | . | | | | . | | | | 358 \ | | | | 359 \ | | | | 360 \ | | | | 361 \ | | | | 362 \\"p2rep2.3gp\"\ | | | | 363 \ | | | | 364 \ | | | | 365 \ | | | | 366 \ | | | | . | | | | . | | | | . | | | | 424 \ | | | | 425 \ | | | | 426 \ | | | | 427 \ | | | | 428\ | | | | 429\ | | | | 430 \ | | | | 431 \\ | | 432 \ | | | | 433 \ | | | | 432 \\"p3rep0.3gp\"\ | | | | 433 \ | | | | 434 \ | | | | 435 \ | | | | 436 \ | | | | . | | | | . | | | | . | | | | 492 \ | | | | 493 \ | | | | 494 \ | | | | 495 \ | | | | 496 \\"p3rep1.3gp\"\ | | | | 497 \ | | | | 498 \ | | | | 499 \ | | | | 500 \ | | | | . | | | | . | | | | . | | | | 556 \ | | | | 557 \ | | | | 558 \ | | | | 559 \ | | | | 560 \\"p3rep2.3gp\"\ | | | | 561 \ | | | | 562 \ | | | | 563 \ | | | | 564 \ | | | | . | | | | . | | | | . | | | | 620 \ | | | | 621 \ | | | | 622 \ | | | | 623 \ | | | | 624 \ | | | | 625 \ | | | | 626\ | +----------------------------------------------------------------------+
Since the value of \@sourceURL in the above MPD is "delta1.mpdd", delta1.mpdd
is an empty file at the time of publication of the above MPD.
The following file is delta1.mpdd after the next MPD update. Notice that
clients have access to the new value of \@sourceURL referenced by the latest
MPD via the delta.
+----------------------------------------------------------------------+ | 625c | | | | \ | | | | . | | | | 620a | | | | \ | | | | . | | | | 556a | | | | \ | | | | . | | | | 492a | | | | \ | | | | . | +----------------------------------------------------------------------+
At the next MPD update, "delta1.mpdd" would contain the cumulative update for
2 MPD updates.
+----------------------------------------------------------------------+ | 625c | | | | \ | | | | . | | | | 620a | | | | \ | | | | \ | | | | . | | | | 556a | | | | \ | | | | \ | | | | . | | | | 492a | | | | \ | | | | \ | | | | . | +----------------------------------------------------------------------+
###### ## Annex E (normative): Void
###### ## Annex F (normative): OMA DM QoE Management Object
As an alternative to configuring the QoE reporting for each session via MPD,
OMA-DM can be used to specify the QoE configuration. If such an OMA-DM QoE
configuration has been specified, it shall be evaluated by the client for all
subsequent sessions.
For the OMA-DM QoE configuration the parameters are specified according to the
following Managed Object (MO), and represents the same information as
specified in section 10.4 and 10.5. Version numbering is included for possible
extension of the MO.
The Management Object Identifier shall be: urn:oma:mo:ext-3gpp-pss-dash-
qoe:1.0.
Protocol compatibility: The MO is compatible with OMA Device Management
protocol specifications, version 1.2 and upwards, and is defined using the OMA
DM Device Description Framework as described in the Enabler Release Definition
OMA-ERELD _DM-V1_2 [22].
The nodes and leaf objects as provided in Figure F.1 shall be contained under
the 3GPP_PSS_DASH_QOE node if a client supports the feature described in this
clause.
{width="2.9159722222222224in" height="5.757638888888889in"}
Figure F.1: Nodes and leaf objects
**Node: /\ **
This interior node specifies the unique object id of a QoE metrics management
object. The purpose of this interior node is to group together the parameters
of a single object.
\- Occurrence: ZeroOrOne
\- Format: node
\- Minimum Access Types: Get
The following interior nodes shall be contained if the client supports the QoE
Management Object.
**/\ /Enabled**
This leaf indicates if QoE reporting is requested by the provider.
\- Occurrence: One
\- Format: bool
\- Minimum Access Types: Get
**/\ /Servers**
This leaf contains a space-separated list of servers to which the QoE reports
are transmitted. It is URI addresses, e.g. http://qoeserver.operator.com. In
case of multiple servers, the client randomly selects one of the servers from
the list, with uniform distribution.
\- Occurrence: One
\- Format: chr
\- Minimum Access Types: Get
\- Values: URI of the servers to receive the QoE report.
**/\ /APN**
This leaf contains the Access Point Name that should be used for establishing
the PDP context on which the QoE metric reports will be transmitted. This may
be used to ensure that no costs are charged for QoE metrics reporting. If this
leaf is not defined then any QoE reporting is done over the default access
point.
\- Occurrence: ZeroOrOne
\- Format: chr
\- Minimum Access Types: Get
\- Values: The Access Point Name
**/\ /Format**
This leaf specifies the format of the report.If this leaf is not defined the
QoE reports shall be sent uncompressed.
\- Occurrence: ZeroOrOne
\- Format: chr
\- Minimum Access Types: Get
\- Values: "uncompressed", "gzip"
**/\ /Interval**
This leaf specifies how often QoE reports shall be sent. If this leaf is not
defined only one QoE report shall be sent after the complete session.
\- Occurrence: ZeroOrOne
\- Format: int
\- Minimum Access Types: Get
\- Values: seconds
**/\ /SamplePercentage**
This leaf specifies the percentage of sessions for which QoE metrics shall be
reported. The client evaluates a random number at start of each session to
determine if reporting shall be done for the specific session. If this leaf is
not defined QoE reports are sent for every session.
\- Occurrence: ZeroOrOne
\- Format: float
\- Minimum Access Types: Get
\- Values: 0.0-100.0.
**/\ /StartTime**
This leaf specifies when collection of QoE metrics shall start. It is
specified in seconds and is relative to the start of the session. If this leaf
is not defined, the QoE collection shall be done from the start of the
session.
\- Occurrence: ZeroOrOne
\- Format: int
\- Minimum Access Types: Get
\- Values: seconds
**/\ /Duration**
This leaf specifies for how long QoE collection shall be done. It is specified
in seconds and is relative to the start time of QoE collection. If this leaf
is not defined QoE collection shall be done until the end of the session.
\- Occurrence: ZeroOrOne
\- Format: int
\- Minimum Access Types: Get
\- Values: seconds.
**/\ /Metrics**
This leaf specifies a list of white-space separated metrics which shall be
reported, and follows the same syntax as specified for the \"\@metrics\"
attribute in Table 32. If this leaf is not defined no QoE reporting shall be
done.
\- Occurrence: ZeroOrOne
\- Format: chr
\- Minimum Access Types: Get
\- Values: Metrics as specified in section 10.4.
**/\ /Ext**
The Ext node is an interior node where the vendor specific information can be
placed (vendor includes application vendor, device vendor etc.). Usually the
vendor extension is identified by vendor specific name under the ext node. The
tree structure under the vendor identified is not defined and can therefore
include one or more un-standardized sub-trees.
\- Occurrence: ZeroOrOne
\- Format: node
\- Minimum Access Types: Get
###### ## Annex G (normative): File format extensions for 3GPP DASH support
# G.1 Introduction
This clause documents extensions to the ISO base media file format [11] for
the support of 3GPP DASH. It is expected that these boxes will be integrated
in an updated version of ISO/IEC 14496-12 [11].
# G.2 Level Assignment Box
## G.2.1 Definition
Box Type: `leva'\ Container: Movie Extends Box (`mvex')\ Mandatory: No\
Quantity: Zero or one
Levels specify subsets of the file. Samples mapped to level n may depend on
any samples of levels m, where m \ n.
Levels cannot be specified for the initial movie. When the Level Assignment
box is present, it applies to all movie fragments subsequent to the initial
movie.
For the context of the Level Assignment box, a fraction is defined to consist
of one or more Movie Fragment boxes and the associated Media Data boxes,
possibly including only an initial part of the last Media Data Box. Within a
fraction, data for each level shall appear contiguously. Data for levels
within a fraction shall appear in increasing order of level value. All data in
a fraction shall be assigned to levels.
NOTE: In the context of 3G DASH, each subsegment indexed within a Subsegment
Index box is a fraction.
The Level Assignment box provides a mapping from features, such as temporal
sub-sequences, to levels. A feature can be specified through a track or a
sample grouping of a track.
The following assignment_types are defined; assignment_type values greater
than 4 are reserved, while the semantics for the other values are specified as
follows.
\- 0: sample groups are used to specify levels, i.e. i.e. samples mapped to
different sample group description indexes of a particular sample grouping lie
in different levels within the identified track; other tracks are not affected
and must have all their data in precisely one level;
\- 1: as for assignment_type 0 except assignment is by a parameterized sample
group;
\- 2, 3: level assignment is by track (see the Subsegment Index Box for the
difference in processing of these levels)
The sequence of assignment_types is restricted to be a set of zero or more of
type 2 or 3, followed by zero or more of exactly one type.
## G.2.2 Syntax
aligned(8) class LevelAssignmentBox extends FullBox('leva', 0, 0) { unsigned
int(8) level_count;\ **for (j=1; j \  A Media Presentation Description (MPD) Delta contains text changes to an
> MPD. An MPD Delta is used together with a first MPD to construct a second
> MPD. As such, any security considerations for an MPD (media type
> application/dash+xml) may also be applicable to an MPD Delta. A MIME type
> handler would not launch a service with only an MPD Delta.
>
> Further to this, as an MPD Delta performs editing operations on an MPD there
> are risks that deliberately malformed editing operations could cause
> security issues.
Interoperability considerations:
Published specification: 3GPP TS 26.247
Applications which use this media type:
> various including but not limited to On-Demand Streaming over the Internet,
> Live Streaming over the Internet, Internet Video, Internet Radio
Additional information:
> 1\. Magic number(s) : none
>
> 2\. File extension(s) : mpdd
>
> 3\. Macintosh file type code : none
>
> 4\. Object Identifiers: none
Person to contact for further information:
> 1\. Name : David Furbeck
>
> 2\. Email : dfurbeck\@blackberry.com
Intended usage : Common
Author/Change controller : 3GPP TSG SA WG4
###### ## Annex I (informative): Signalling of DASH AVP values for QoS
handling in the PCC
The PCC architecture is defined in TS 23.203 [31] and provides the Rx
reference point, which enables the application layer to authorize a specific
usage. In this architecture the DASH HTTP streaming server or any other
function in the HTTP streaming path (e.g. an HTTP proxy) can act as
Application Function and interact with the PCRF via the Rx reference point for
QoS control. It is assumed here that the AF has knowledge of the application
type and of the MPD.
The relevant AVPs are the ones enabling the PCRF to establish bearers with
correct characteristics for DASH users. The AVPs are defined in TS 29.214
[33]. The further PCRF mapping from AVP to IP QoS parameter mapping is defined
in TS 29.213 [32]
Table I.1: Example mapping of MPD parameters to Rx AVPs for 3GP-DASH (PSS)
+----------------------+----------------------+----------------------+ | AVP | Value | Comment | +----------------------+----------------------+----------------------+ | AF-Ap | "DASH" | Allows to signal the | | plication-Identifier | | DASH based | | | | application hence | | | | giving the | | | | opportunity to | | | | enforce application | | | | specific policies | +----------------------+----------------------+----------------------+ | Max-Re | B1 | B1 = sum of all | | quested-Bandwidth-DL | | * | | | | _MPD_ _\@maxBandwidth | | (NOTE 1) | | (see clause 8.4.3.3) | | | | of all media | | | | components | | | | [simultaneously (not | | | | mutually | | | | exc | | | | lusive)]{.underline} | | | | selectable by the | | | | DASH client plus | | | | HTTP/TCP/IP overhead | | | | and TCP messages for | | | | flow control. | | | | | | | | If this attribute is | | | | not present then | | | | | | | | B1 = sum of | | | |__MPD_ _\@bandwidth | | | | attributes of all | | | | media components of | | | | the available media | | | | presentation | | | | corresponding to | | | | representations or | | | | subrepresentations | | | | with highest | | | | bandwidth | | | | [simulta | | | | neously]{.underline} | | | | selectable [(not | | | | mutually | | | | exc | | | | lusive)]{.underline} | | | | by the DASH client | | | | plus HTTP/TCP/IP | | | | overhead and TCP | | | | messages for flow | | | | control. | | | | | | | | Note: the mapping | | | | rules to derive the | | | | TCP message flow | | | | control bandwidth | | | | are FFS. | +----------------------+----------------------+----------------------+ | Max-Re | FFS | For Further Study. | | quested-Bandwidth-UL | | If included, should | | | | be greater than or | | (NOTE 1) | | equal to | | | | Min-Re | | | | quested-Bandwidth-UL | +----------------------+----------------------+----------------------+ | Min-Re | B2 | B2 = sum of all | | quested-Bandwidth-DL | | * | | | |_ MPD**\@minBandwidth | | (NOTE 1) | | (see clause 8.4.3.3) | | | | of all media | | | | components | | | | simultaneously [(not | | | | mutually | | | | exc | | | | lusive)]{.underline} | | | | selectable by the | | | | DASH client plus | | | | HTTP/TCP/IP overhead | | | | and TCP messages for | | | | flow control. | | | | | | | | If this attribute is | | | | not present then | | | | | | | | B2 = sum of | | | |** MPD**\@bandwidth | | | | attributes of all | | | | media components of | | | | the available media | | | | presentation | | | | corresponding to | | | | representations or | | | | subrepresentations | | | | with lowest | | | | bandwidth | | | | simultaneously [(not | | | | mutually | | | | exc | | | | lusive)]{.underline} | | | | selectable by the | | | | DASH client plus | | | | HTTP/TCP/IP overhead | | | | and TCP messages for | | | | flow control. | | | | | | | | Note: the mapping | | | | rules to derive the | | | | TCP message flow | | | | control bandwidth | | | | are FFS. | +----------------------+----------------------+----------------------+ | Min-Re | FFS | For Further Study. | | quested-Bandwidth-UL | | Enough bitrate to | | | | cover TCP and HTTP | | (NOTE 1) | | GET requests. | +----------------------+----------------------+----------------------+ | Flow-Description AVP | IP addresses and | | | | ports | | | (NOTE 1) | | | +----------------------+----------------------+----------------------+
NOTE 1: AVPs provided within the Media-Component-Description AVP, except Flow-
Description AVP that is included within the Media-Sub-Component AVP. Omitted
AVPs are not relevant for this functionality.
###### ## Annex J (normative): MIME Type Registration for QoE Reports
# J.1 Introduction
This Annex provides the formal MIME-type registration for
\"application/3gpdash-qoe-report+xml\" that identifies XML documents following
the schema \"urn:3gpp:metadata:2011:HSD:receptionreport\" defined in clause
10.6.2. It is referenced from the registry at http://www.iana.org/.
## J.2 MIME Type and Subtype
The MIME Type and Subtype are defined as follows:
Media Type name: application
Subtype name: Standards Tree - 3gpdash-qoe-report+xml
Required parameters:
None
Optional parameters:
charset: If a charset parameter is provided its value must be
\"utf-8\".Encoding considerations: 8bit
The utf-8 charset is always used for this type.
Security considerations:
The general XML security issues are addressed in clause 10 of RFC 3023 [83].
> The QoE report XML document instances contain information about what
> content, services and files a particular UE has received. The information
> also has privacy relevance as it reveals what a specific receiver, which
> usually can be connected to a specific user, has received.
This media type only contains quality of experience data; there is no defined
executable content.
XML from other vocabularies is allowed in this media type. Such material will
have its own security considerations.
> If operating in an insecure environment and required by the content/service
> provider, elements and attributes of the report may be encrypted to protect
> their confidentiality.
>
> If operating in an insecure environment and required by the content/service
> provider, digital signing and verification procedures may be used to protect
> data origin authenticity and integrity of the report.
>
> Thus to prevent manipulation of that information it would need to be
> integrity protected.
Interoperability considerations:
None
Published specification:
3GPP TS 26.247
Applications which use this media type:
3GPP DASH based applications
3GPP progressive download applications
Additional information:
None
Person & email address to contact for further information:
Ozgur Oyman (ozgur.oyman\@intel.com)\ 3GPP TSG SA WG4
Intended usage: COMMON
Restrictions on usage:
None
Author:
3GPP TSG SA WG4
Change controller:
3GPP TSG SA WG4
#