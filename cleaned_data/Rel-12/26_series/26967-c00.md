# Foreword
The present document has been produced by the 3^rd^ Generation Partnership
Project (3GPP).
The contents of the present document are subject to continuing work within the
TSG and may change following formal TSG approval. Should the TSG modify the
contents of the present document, it will be re-released by the TSG with an
identifying change of release date and an increase in version number as
follows:
Version x.y.z
where:
x the first digit:
1 presented to TSG for information;
2 presented to TSG for approval;
3 or greater indicates TSG approved document under change control.
y the second digit is incremented for all changes of substance, i.e. technical
enhancements, corrections, updates, etc.
z the third digit is incremented when editorial only changes have been
incorporated in the document.
# Introduction
eCall is a European-wide solution for automatically or manually initiated
emergency voice calls. eCall will supplement E112 and 112 (TS12) emergency
call with related data from the vehicle, e.g. highly accurate location
information. The expected benefit is that emergency services will be made
aware of accidents much more rapidly, will get precise information on
location, vehicle type etc. and therefore will be able to reach accident
victims faster, with the potential to save many lives annually.
According to reports from the European Commission, it is envisioned that eCall
will be offered on all new vehicles in the EU by 2010.
It is expected that the eCall data will be sent either during the E112 call
set-up or immediately following the establishment of the voice call or at any
point later during the voice call. The integrity of the eCall data sent from
the vehicle to the Public Safety Access Point has to be ensured.
eCall is a European regional requirement. It shall not have an impact on the
global circulation of terminals.
# 1 Scope
The European Union eCall requirements, recommendations and guidelines were
developed by eSafety Forum, with important additional work produced by ETSI
MSG, GSME, 3GPP, and CEN.
Previous work in 3GPP TR 22.967 [2] 'Transfer of Emergency Call Data',
examined the issues associated with the transmission of emergency call data
from a vehicle to a PSAP. This analysis identified that the preferred option
be based on an in-band modem solution.
**The objective of this work was to examine and describe the in band modem
solution (in band modem and any necessary interface to the ME) for eCall.
Because eCall is a European regional requirement, it shall not have an impact
on the global circulation of terminals. In the interest of not duplicating
work, the set of in-band solutions that were considered are those preferred by
GSME unless significant improvements are available. The work assessed the
suitability of existing 3GPP in-band solutions, e.g. CTM, to satisfy the
requirements for eCall.**
**The present document assesses the suitability of CTM for eCall.**
# 2 References
The following documents contain provisions which, through reference in this
text, constitute provisions of the present document.
  * References are either specific (identified by date of publication, edition number, version number, etc.) or non‑specific.
  * For a specific reference, subsequent revisions do not apply.
  * For a non-specific reference, the latest version applies. In the case of a reference to a 3GPP document (including a GSM document), a non-specific reference implicitly refers to the latest version of that document in the same Release as the present document.
[1] 3GPP TS 22.101: \"Service aspects; Service principles**\"**.
[2] 3GPP TR 22.967: \"Transferring of emergency call data\".
[3] 3GPP TS 26.226: \"Cellular text telephone modem; General description\".
[4] 3GPP TS 26.230: \"Cellular text telephone modem; Transmitter bit exact
C-code\".
[5] 3GPP TS 26.231: \"Cellular text telephone modem; Minimum performance
requirements\".
[6] 3GPP TR 26.975: \"Performance characterization of the Adaptive Multi-Rate
(AMR) speech codec\".
[7] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".
[8] 3GPP TS 26.114: \"IP Multimedia Subsystem (IMS); Multimedia telephony;
Media handling and interaction\".
[9] 3GPP **TR 26.935:** \"Packet Switched (PS) conversational multimedia
applications; Performance characterization of default codecs\".
# 3 Definitions and abbreviations
## 3.1 Definitions
For the purposes of the present document, the terms and definitions given in
TR 21.905 [7] and the following apply. A term defined in the present document
takes precedence over the definition of the same term, if any, in TR 21.905
[7].
**eSafety:** European Commission sponsored forum to improve safety aspects of
European citizens
## 3.2 Abbreviations
For the purposes of the present document, the abbreviations given in TR 21.905
[7] and the following apply. An abbreviation defined in the present document
takes precedence over the definition of the same abbreviation, if any, in TR
21.905 [7].
ACEA European Automobile Manufacturers Association
AMR Adaptive Multi Rate
CEN Comite Europeen de Normalisation (European Committee for Standardisation)
CTM Cellular Text telephony Modem
EC European Commission
eCall Emergency Call defined under the eSafety initiative
ETSI European Telecommunications Standards Institute
EU European Union
FR Full Rate
GSM Global System for Mobile communications
GSME GSM Europe
IVS In Vehicle System
MSD Minimum Set of incident Data
MSG (ETSI TC) Mobile Standards Group
PSAP Public Service Answering Point
SIM Subscriber Identity Module
USIM Universal Subscriber Identity Module
# 4 Outline of the present document
The present document analyses the suitability of the existing \"Cellular Text
telephony MODEM\" (CTM) for the transmission of eCall data via the voice
channel from the \"In-Vehicle System\" (IVS) to the \"Public Safety Answering
Point\" (PSAP).
**Chapter 5** reprints the service requirements for the eCall transmission, as
specified in TS 22.101, for convenience.
**Chapter 6** assesses point by point these requirements against the
performance of the eCall transmission via CTM as outlined in the Annexes A, B,
C.
**Chapter 7** provides the Conclusions.
**The following annexes are also included:**
**Annex A** gives a brief description of CTM with respect to its application
for eCall.
**Annex B** outlines one possible protocol that utilizes CTM for the secured
transmission of the eCall data through the voice channel.
**Annex C** reports the analysis for eCall via CTM, under the condition that
the outlined protocol is used.
**Annex D** discusses the architecture for eCall in the vehicle in order to
identify the interface to the UE and to analyze potential open issues.
**Annex E** gives examples of network architectures today and in future and
discusses VoIP and the future All-IP scenarios. Also the co-existence of eCall
and Global Text Telephony is described here.
**Annex F** discusses potential Optimizations for CTM and for the proposed
eCall Protocol.
# 5 eCall MSD data transmission requirements
Based on input from external sources, like EC, eSafety and ETSI-MSG, 3GPP has
developed a set of requirements for the in-band modem solution for eCall, see
TS 22.101 [1].
Begin of Extract from TS 22.101 (V8.6.0) [1]:
##### TS 22.101, Clause 10.7 \"Transfer of data during emergency calls\"
{#ts-22.101-clause-10.7-transfer-of-data-during-emergency-calls .H6}
Emergency calls may be supplemented with emergency related data [1]. Typically
this data enables the accurate geographic location of a manually or
automatically activated emergency calling device e.g. an in vehicle system
(IVS), to be provided to the Public Safety Answering Point (PSAP).
\- The data may be sent prior to, in parallel with, or at the start of the
voice component of an emergency call.
\- Should the PSAP request additional data then this may be possible during
the established emergency call.
\- The realisation of the transfer of data during an emergency call shall
minimise changes to the originating and transit networks.
\- Both the voice and data components of the emergency call shall be routed to
the same PSAP or designated emergency call centre.
\- The transmission of the data shall be acknowledged and if necessary data
shall be retransmitted.
\- A UE configured only to transfer data during emergency calls (e.g. eCall
only UE) shall not generate signalling to the network besides what is needed
to place an emergency call.
Additional national and regional requirements are as specified in annex A
##### TS 22.101, Annex A.27 \"Requirements for the transfer of eCall Minimum
Set of Data (MSD)\" {#ts-22.101-annex-a.27-requirements-for-the-transfer-of-
ecall-minimum-set-of-data-msd .H6}
With the exception of the following specific requirements, considered
necessary for the satisfactory operation of the eCall service, all existing
TS12 emergency call requirements shall apply.
An eCall shall consist of a TS12 emergency call supplemented by a minimum set
of emergency related data (MSD). The contents of the MSD e.g. vehicle
identity, location information and other parameters, are defined by CEN/TC 278
WI 24977.
\- An eCall may be initiated automatically, for example due to a vehicle
collision, or manually by the vehicle occupants.
\- The Minimum Set of Data (MSD) sent by the In vehicle System (IVS) to the
network shall not exceed 140 bytes.
\- The MSD should typically be made available to the PSAP within 4 seconds
measured from the time when end to end connection with the PSAP is
established.
\- Should the MSD component not be included in an eCall, or is corrupted or
lost for any reason, then this shall not affect the associated TS12 emergency
call speech functionality.
\- A call progress indication shall be provided to the user whilst the MSD
transmission is in progress.
End of Extract from TS 22.101 [1].
# 6 Analysis of eCall via CTM against the service requirements
The following paragraph analyses point by point the performance of eCall via
CTM with respect to the requirements given in [1]:
  1. **The data may be sent prior to, in parallel with, or at the start of the voice component of an emergency call\ \ Analysis:** Fulfilled.\ Due to the nature of the in-band MODEM the outlined protocol allows to send the eCall data [after]{.underline} the establishment of the voice channel. The data may be transferred soon after the call has been established or at any time during the voice call.\ It is, however, not possible to transfer the eCall data prior or in parallel to the call setup procedure. The eCall data transmission blocks the voice path as long as the transmission takes, but at any time only in one direction. The opposite voice channel is unaffected during the transmission of data.
  2. **Should the PSAP request additional data then this may be possible during the established emergency call\ \ Analysis:** Fulfilled.\ The outlined protocol allows to transmit eCall data in whole or parts at any time during the voice call, to the same PSAP or a second or further one.
  3. **The realisation of the transfer of data during an emergency call shall minimise changes to the originating and transit networks\ \ Analysis:** Fulfilled.\ The outlined eCall transmission is purely based on a robust in-band MODEM technique that does not require any changes in existing networks. The in-band Modem is located in the IVS (uplink transmitter and downlink receiver) and PSAP (downlink transmitter and uplink receiver). No in-band Modem or parts of it needs to be implemented in networks. No limitations or additional requirements to existing networks are identified, neither for radio network planning, nor the number of transcoding stages in the voice path, nor the presence of echo cancellers nor are analogue lines excluded.
NOTE 1: For Text Telephony in USA it is required to insert CTM/TTY converters
in the mobile network due to backward compatibility issues with legacy
emergency centres. No such equipment is necessary for eCall, because both, IVS
and PSAP will be on the same standard level.
NOTE 2: For the case that coexistence of Global Text Telephony and eCall would
be required (which is not the case right now) it is proposed in Annex F to
modify CTM slightly for eCall so that eCall messages are not affected by
potential CTM/TTY converters.
  1. **Both the voice and data components of the emergency call shall be routed to the same PSAP or designated emergency call centre\ \ Analysis:** Fulfilled.\ Due to the nature of the in-band transmission this requirement is always fulfilled.
  2. **The transmission of the data shall be acknowledged and if necessary data shall be retransmitted\ \ Analysis:** Partially Fulfilled.\ CTM does not include a transport layer acknowledgement message. However, due to being a bidirectional modem, it enables the transfer of a higher layer acknowledgement and retransmission protocol.
  3. **A UE configured only to transfer data during emergency calls (eCall-only UE) shall not generate signalling to the network besides what is needed to place an emergency call\ \ Analysis:** Fulfilled.\ The outlined protocol does not require any network signalling except the setup of the voice call.
  4. **With the exception of the following specific requirements, considered necessary for the satisfactory operation of the eCall service, all existing TS12 emergency call requirements shall apply\ \ Analysis:** Fulfilled.\ eCall via CTM does not require anything else than a successfully setup of the voice channel.\ If implemented as \"Pull-Protocol\", as proposed in Annex B, then existing emergency centres, not upgraded to receive eCall data, would not be affected, i.e. exiting emergency services would not be impacted.
  5. **An eCall shall consist of a TS12 emergency call supplemented by a minimum set of emergency related data (MSD)\ \ Analysis:** Fulfilled.
  6. **An eCall may be initiated automatically, for example due to a vehicle collision, or manually by the vehicle occupants\ \ Analysis:** Fulfilled.
  7. **The Minimum Set of Data (MSD) sent by the In vehicle System (IVS) to the network shall not exceed 140 bytes\ \ Analysis:** Fulfilled.\ It is up to CEN/TC 278 WI 24977 to specify the eCall data. The definition of the MSD, whether is optional or mandatory, is out scope of 3GPP. Therefore, for the avoidance of doubt and to perform this study it has been assumed in 3GPP that the whole 140 Bytes of the MSD should typically be made available to the PSAP.
  8. **The MSD should typically be made available to the PSAP within 4 seconds measured from the time when end to end connection with the PSAP is established\ \ Analysis:** This requirement can not be fulfilled.**\** Using the unmodified CTM as standardized, the whole MSD of 140 bytes cannot be transmitted within 4 seconds. The minimal transmission time for the full MSD is about 29s with this design.\ The transmission time for the requested eCall data depends on the amount of data in the MSD.
  9. **Should the MSD component not be included in an eCall, or is corrupted or lost for any reason, then this shall not affect the associated TS12 emergency call speech functionality\ \ Analysis:** Fulfilled.\ This requirement is outside the scope of this TR. It does not impact the assessment of CTM.
  10. **A call progress indication shall be provided to the user whilst the MSD transmission is in progress\ \ Analysis:** Fulfilled.**\** This requirement is outside the scope of the present document. It does not impact the assessment of CTM.\ For example, CTM allows the PSAP to talk to the victims of the accident during the transmission of the eCall data due to the half-duplex transfer of data in one direction and speech in the other direction.
In addition to the analysis against the service requirements, also the long
term applicability and suitability of eCall via CTM over VoIP channels is
covered in the present document.
The use of IP transport in the Radio Access Network, the Mobile Core Network
and the wireline (transit) networks is seen feasible and will - as far as it
can be judged today - not degrade the eCall performance, nor will eCall via
CTM bring restrictions to the network design and operation.
The use of VoIP on the radio link may, however, have much stronger influence
due to the expected high jitter and due to the therefore necessary
sophisticated jitter buffer management and the potentially resulting delay
variation. The performance of eCall via CTM (or any other inband modem) via
VoIP radio channels remains speculation.
It is expected that a better solution than inband modem transmission could be
found and applied at the point in time when VoIP over radio has reached
European-wide coverage and an IVS can rely on this new VoIP radio channel
alone. Until then the existing circuit switched radio channels can likely be
used as fallback.
Further details can be found in annex E.
# 7 Conclusion on the analysis of eCall MSD data transmission requirements
The above analysis indicates that unmodified CTM as standardized can not
fulfil all the eCall requirements.
Unmodified CTM as standardized, when used as described in the present
document, i.e. applying the proposed robust Pull-Protocol on application
layer, transmits the MSD of 140 bytes in 29 seconds compared to the
requirement of 4 seconds.
Unmodified CTM as standardized also does not include a transport layer
acknowledgement.
This is, however, not necessarily a disadvantage. A flexible, half-duplex
application layer protocol may simply be added, as shown in the present
document.
###### ### Annex A: Brief description of the existing CTM
The existing 3GPP standard for CTM as specified in 3GPP TS 26.226 [3], TS
26.230 [4] and TS 26.231 [5], developed to fulfil the lawful requirements for
text telephony in emergency calls as set up by the United States of America,
allows the robust transmission of textual characters via de facto any voice
channel. Details can be found in the Technical Specifications and the
Reference C-Code.
Important in the context of eCall is that two software modules are specified,
namely\ ctm_transmitter.c and ctm_receiver.c that can be used as they are to
convert textual characters into a sequence of MODEM tones and backwards. These
conversions into MODEM tone sequences and back contain sophisticated
techniques to make the transmission robust against voice codec distortion,
radio channel errors, handover gaps and other impairments.
Most important features of this conversion are:
\- Long Preamble (56 bit) to achieve a high robustness against false trigger
by voice signals
\- Forward Error Correction by a ¼ convolutional code for strong error
correction
\- Interleaving over about 1 second to achieve robustness against frame losses
\- Periodically inserted blank outs to overcome DTX schemes
\- Embedded re-synchronization scheme to combat handover gaps
\- Single sinewave MODEM tones of 5ms length each for robust transmission even
via high compression Codecs, such as AMR 4,75.
\- MODEM frequencies of 400, 600, 800 and 1000Hz to succeed also in extremely
bandlimited voice channels.
As a result of these measures the text transmission via CTM is extremely
robust and only few errors occur even under marginal radio conditions. Details
can be found in 3GPP TS 26.231 [5].
The strong error protection and the long interleaving time have, however, also
their price. The transmission capacity is limited to about 10 characters per
second. The transmission time for longer character strings of length _k_ can
be approximated by T(_k_) = 800 ms + (100 x _k_) ms.
Due to the lawful requirements in USA de facto all 3GPP terminals include the
CTM in their chip set.
###### ### Annex B: Description of eCall via CTM
In order to characterize the achievable performance of the eCall transmission
it is necessary to make some assumptions on the protocol. It should be noted
that these assumptions may provide a reasonable basis for the performance
characterization, but they may not be part of the 3GPP specifications. The
responsibility for the protocol is within CEN.
# B.1 Detailed specification of one possible protocol
The following description assumes that the eCall data are structured in
indexed blocks of a priori known version (v), index (i) and size and an
automatically generated IVS Content list marks all blocks available within a
specific IVS.\ If this is not the case - the decision is within the
responsibility of CEN - then the protocol here may divide the full,
unstructured MSD of 140 bytes in equal sized smaller blocks, e.g. of 28 byte
length each. The block size of 28 bytes is a compromise between transmission
speed and radio robustness. Bigger blocks reduce the overhead, thus reduce the
transmission time, but increase the error probability under severe radio
conditions.
In the following\ the term \"PSAP\" refers to the protocol Handler inside the
PSAP and\ the term \"IVS\" refers to the protocol Handler inside the IVS.
The protocol is a simple PSAP-\"pull\"-protocol.\ The pull-approach is
selected, because it has no impact on existing emergency services. It has
further the advantage that the PSAP can decide, when it is appropriate to get
the eCall data, e.g. after a first verbal screening how serious the emergency
call is. The most important reason lays in the fact that the IVS can per se
not exactly know, when the voice-path is through-connected to a suitable
receiver. A pure IVS-push-protocol would have to try until it gets an
acknowledgement or a timeout occurs. In many cases the voice path would be
blocked unnecessarily long and at the beginning of the emergency call and that
is judged as unsuitable, especially because the PSAP could not influence this
behaviour of the IVS.
The PSAP is the active partner, it can send one PSAP-Request(vp, i) for one
eCall block(i) at a time.\ The sender identifies itself as \"PSAP\" and it
discloses its highest version vp.
The IVS is the passive partner; it is only reacting on PSAP-Requests, not on
its own initiative.\ The IVS sends the requested eCall block(vc, i) exactly
one time per PSAP-Request(vp, i), as often as requested.\ The sender
identifies itself as \"IVS\" and it discloses the highest **_common_** version
vc between PSAP and IVS.
The IVS Content List (per definition with index 0) may be send on PSAP-Request
(vp, 0).In case the PSAP requests a block that is not available in the
specific IVS, then this IVS sends the IVS Content List automatically.
If the IVS-Data (vc, i) are received with detectable CRC errors, then the PSAP
repeats the PSAP-Request(vp, i).
If the IVS-Data (vc, i) are received without detectable CRC errors, then they
are made available to the PSAP human operator.
The PSAP human operator may start, stop or resume the transmission any time.
The PSAP-system may (depending on implementation) request the very first, most
essential block (1) immediately after through-connect, before the human
operator was even notified. In that way the PSAP-pull-protocol acts like a
\"virtual\" push-protocol. The decision would, however, lay at PSAP side and
not IVS side. This has major advantages compared to a pure IVS-push-protocol.
The proposed pull-protocol is realized as half-duplex protocol, meaning that
either a PSAP-Request is under transmission, or an IVS-Data, but never both at
a time. In that way the voice communication is never fully blocked. Especially
the PSAP human operator may talk to the victims in the car during the upload
of the eCall data.
To allow future modifications, improvements and extensions of the eCall data
structure, both the PSAP-Request(vp, i) and the IVS-Data(vc, i) contain
version control in each header. This is especially important for decentralized
PSAPs to avoid the need for inter-PSAP communication.
# B.2 Detailed specification of the eCall transmission
The proposal here is based on the assumption that the existing CTM
implementations in terminals are used without any modification. Especially the
functions ctm_transmitter and ctm_receiver are used as they are. Some actions
are needed to circumvent some peculiarities of the CTM specification.
CTM is designed for the robust transmission of textual characters, but not for
arbitrary binary data:
1\. The characters 0x05 and 0x16 are reserved for CTM-internal purposes and
have a special meaning within CTM (\, \).
3\. CTM performs an UTF-8 re-coding of all input characters prior to
transmission.\ As a consequence, characters in the range of [0xA0, 0xFF] are
transmitted as 2 bytes.
In order to avoid these CTM intrinsic effects, the eCall data are first re-
coded by the eCall sender by using the following scheme: (7 bytes x 8 bit) are
coded as (8 bytes x 7 bit) that can be transmitted by CTM without problems.
Then a constant offset of 0x20 is added to every intermediate byte in order to
assure that only values in the range of [0x20, 0x9F] are finally obtained. In
this way no CTM-reserved characters and no values in the range of [0xA0, 0xFF]
occur in the recoded data. This 7-to-8 recoding leads to a marginal and
constant increase in transmission time by factor 1,143.
For the same reason no eCall-Header byte, eCall-Index byte or eCall-CRC byte
may take a value outside the range of [0x20, 0x9F]. The eCall receiver reverts
all this re-coding to gain the original eCall data back.
Annex F gives some proposals for a slight optimization of CTM for eCall
(called then CTM*). CTM* would overcome these restrictions and allow full 8
bit codes per byte. The achievable performance values in brackets {} below
refer to that CTM*.
Two different types of eCall packets are specified.
The first packet type is the **PSAP-Request (vp,_i _)_ *.\ It is sent by the
PSAP to the IVS in order to initiate the transmission of eCall data block
_**i***.\ The following figure illustrates its structure:
  * Byte #1 contains the PSAP-Request-header\ Values between **0x20 to 0x5F** (64 values) {128 values} are reserved.\ The PSAP-Request Header identifies the packet as PSAP-originated\ and indicates in addition the eCall Versions the PSAP is able to operate on.
  * Byte #2 contains the index **_i_** of the requested eCall-data block.\ Up to 128 {256} different data block indices can be coded as 0x20+ [0 ...127] {[0 ... 255]}.
  * Byte #3 and byte #4 contain a 12 bit {16-bit} CRC
The second packet type is the **IVS-Data (vc,_i_).\ **It is sent by the IVS to
the PSAP as a response to the PSAP-Request.\ The following figure illustrates
its structure:
  * Byte #1 contains the IVS-Data Header\ Values between **0x60 to 0x9F** (64 values) {128 values} are reserved.\ The IVS-Data Header identifies the packet as IVS-originated\ and indicates in addition the common eCall Versions the IVS is able to operate on,
  * Byte #2 contains the index **_i_** of the transmitted eCall data block.\ Up to 128 {256} different data block indices can be coded as 0x20+[0 ...127]{[0 ... 255]}
  * Bytes #2+1 to #2+k contain the k bytes of the 7-to-8 recoded eCall data block (i).\ {Bytes #2+1 to #2+k contain the k bytes of the original eCall data block (i)}.
  * Bytes #2+k+1 to #2+k+4 contain the 28-bit {32-bit} CRC in 4 parts of 7 {8} bit each.
Undetected errors in a PSAP-Request are less severe for the overall protocol,
because the PSAP will in any case detect, if the correct IVS-data packet is
transmitted or nothing is transmitted and may request it again. So the strong
CRC of the IVS-Data packet protects in addition indirectly also the weaker
protected PSAP-Request. Therefore a 12-bit {16‑bit} CRC is sufficient for the
PSAP-Request.
###### ### Annex C: Performance characterization of eCall via CTM
The performance of the eCall via CTM as described above in Annex B can be
summarized as show below.\ The performance values are based on the assumption
that CTM is not modified at all.\ A second set of performance values are
included in brackets {}, taking into account that minimal modification of CTM,
as described in Annex F, would improve the performance.\ The assumed pull-
protocol uses the CTM transmission scheme as is, it adds the necessary data
integrity and flexibility. The main characteristics of the proposed protocol
are listed below:
  * **a consequent PSAP-Pull-Protocol;** \ The PSAP has at any point in time full control when to retrieve data. The IVS does never send on its own initiative, but only on request from the PSAP. This request may be generated automatically (e.g. immediately after through-connect) or by manual trigger, this is PSAP-implementation dependent.
  * **half-duplex data+voice communication,\ besides the normal full-duplex voice-only communication** ;\ The emergency call starts as usual in full voice communication, until the PSAP decides to pull the emergency data from the IVS. This data transmission blocks the voice path as long as the transmission takes, but at any time only one direction. The opposite voice channel is unaffected.
  * **up to 64** {128} **different Versions of eCall Specifications;** \ This number is proposed for practical reasons, but in principle no upper bound exists
  * **up to 127** {255} **blocks of eCall data with 1 up to 28** {32} **byte length each;** \ The maximum number of blocks is proposed for practical reasons, but in principle no upper bound exists.\ The maximum size for an individual block is limited in order to guarantee a minimum performance under extreme bad radio conditions and in order to limit the time the voice channel is interrupted. In principle this is, however, no hard limitation. If larger blocks would be desirable, then the protocol should break these automatically into smaller blocks to achieve the required robustness.
  * **arbitrary and selective transmission of any of these blocks in any order;\** This is a feature of the proposed protocol.\ It is not necessarily bound to the underlying eCall transport layer.\ It allows the PSAP to prioritize data and it allows the IVS to selectively offer data.\ It is not necessary to transmit unwanted data just to get to the point where wanted data are specified.
  * **multiple PSAPs during the emergency call;** \ It is possible at any point in the emergency call to forward the call to another PSAP and this may pull the data from the IVS completely independently of the PSAP(s) before, without any need for inter-PSAP communication
  * **extreme high reliability (\~1-10\^-8 \~ 99,999998 %) of successfully transmitted data;** \ The individual eCall data blocks are protected against transmission errors by a strong cyclic redundancy code that allows to detect potential transmission errors de facto always.
  * **high robustness (99,5% likelihood for successful transmission at the first time);\** The underlying CTM ws designed for extreme high robustness. This is exploited here.\ Even under severely degraded radio channels the eCall data are transmitted successfully.
  * **coexistence of eCall and Global Text Telephony** \ CTM as common basis for Global Text Telephony and eCall allows high implementation synergy.\ Note that eCall via CTM does not need any converter or other new device in the voice path.
The transmission time for an eCall IVS-data block of k bytes is approximately:
T(_k_) = 1 400 ms + (100 x _k_) ms\ The transmission time for one PSAP-Request
is about 1,5 s.\ The transmission time for one eCall block of maximal length
(28 {32} bytes) is about 4,6 s.\ The full-duplex voice communication is not
longer than 4,6 seconds interrupted at a time.
For bad radio channel conditions, outside of the typical range of operation,
longer transmission times may occur, although the underlying CTM is very
robust. It is expected that the eCall transmission will be successful with
high integrity of the transmitted data, as long as voice communication is
possible. If the FR_AMR Codec is used on the radio channel, then it is more
likely that the call establishment fails, or the voice call can not be
maintained long enough than that eCall transmission will fail.
Note: For a given specific emergency call the routing path and potential
forwarding(s) of the emergency call are not known. Therefore no precise method
could be identified to determine the exact point in time, when the end to end
voice connection is established between IVS and the final PSAP. The outlined
protocol therefore uses the PSAP-triggered pull protocol to retrieve the eCall
data from the IVS. The transmission times stated above consider the time where
the voice path is blocked.
The voice channel conditions considered for these performed simulations
included:
\- GSM_FR Codec (13 kbps);
\- FR_AMR Codec (12,2 kbps; 10,2 kbps; 7,95 kbps; 7,40 kbps; 6,70 kbps; 5,90
kbps; 5,15 kbps; 4,75 kbps);
\- UMTS_AMR Codec (12,2 kbps).
The GSM full rate radio channel was simulated in \"ideal frequency hopping\"
(ifh), in a \"typical urban\" environment (tu) with 3 km/h speed (3 km) and
with Channel to Interference (C/I) conditions of 1 dB, 4 dB, 7 dB, 10 dB, 13
dB, 16 dB. Due to the ideal frequency hopping the mobile speed is irrelevant.
The UMTS channel was simulated with UMTS_AMR(12,2) with 1 % and 3 % frame
error rates.\ These channel conditions reflect what was used in 1999 and 2000
to characterize the speech quality of AMR Codec family, see 3GPP TR 26.975
[6]. The same error patterns have been reused in order to ease the correlation
between achievable eCall performance and the associated speech quality.
The results are provided exemplary for the 7 dB, 4 dB and 1 dB C/I case in
figure C-1, C-2 and C-3 for one eCall block of 28 byte length. Note that the
lower part of the figure is just a zoom into the 99 % area.
Due to the proposed Pull-protocol the backward compatibility of eCall-equipped
In-Vehicle Systems with legacy PSAPs would be exactly as today, i.e. a legacy
PSAP does not know about eCall and therefore does never try to pull data. The
IVS remains inactive and the emergency call is a pure voice call, so as
today.\ Emergency call setup and early handling by voice communication is
exactly as today.
The compatibility of legacy terminals with eCall-equipped PSAPs is only
slightly impacted, when the PSAP tries to pull non-existent eCall data
unsuccessfully.
Again: The mobile network does not need any modification. No specific routing
requirements arise from eCall via CTM, see also annex E.
{width="6.46875in" height="4.135416666666667in"}
{width="6.479166666666667in" height="4.145833333333333in"}
**Figure C-1:** Success Probability in a GSM Full Rate traffic channel at C/I
of **7dB** in ideal frequency hopping for one eCall block of 28 **{32}** bytes
**NOTE:** The GSM_FR Codec was simulated at 0 km/h speed (not 3 km/h as in
case of the FR_AMR Codec), but with ideal frequency hopping that does not
matter.
{width="6.46875in" height="4.135416666666667in"}
{width="6.46875in" height="4.135416666666667in"}
**Figure C-2** : Success Probability in a GSM Full Rate traffic channel at C/I
of 4dB in ideal frequency hopping for one eCall block of 28 {32} bytes
NOTE: The GSM_FR Codec was simulated at 0 km/h speed (not 3 km/h as in case of
the FR_AMR Codec), but with ideal frequency hopping that does not matter.
{width="6.479166666666667in" height="4.135416666666667in"}
{width="6.46875in" height="4.135416666666667in"}
**Figure C-3:** Success Probability in a GSM Full Rate traffic channel at C/I
of **1dB** in ideal frequency hopping for one eCall block of 28 {32} bytes
**NOTE:** At a C/I of 1 dB the GSM control channel may terminate the call
automatically.
###### ### Annex D: Possible architecture and interface to the UE
Figure D-1 shows one possible eCall architecture inside the vehicle in a
schematic form, split into the UE (right side) and the \"In Vehicle part\"
(left side).
**Figure D-1:** One possible eCall Architecture inside the vehicle
The interface between the In Vehicle part and the UE is the voice path
interface. This interface is specified and available and does not need
modification. The in-band modem in this case is CTM.
###### ### Annex E: Network architectures and interfaces for eCall
# E.1 Circuit switched network architecture and anterfaces for eCall
Figure E-1 shows one example of a network architecture for eCall, including
GSM radio access, mobile core and wireline (transit) network. It is here in
this example assumed that the emergency call was first received by PSAP1 and
then handed over to PSAP2.
**Figure E-1:** One possible Circuit Switched Network Architecture for eCall
The most critical link in terms of quality degradation is the radio link (R)
between User Equipment (UE) and Base Transceiver Station (BTS). Due to
potential transcoders (see coloured dots in figure E-1) inside the Media
Gateways (MGW) and due to potential transmission impairments inside the mobile
core and the wireline (transit) network the quality of the voice and Modem
signal may be further degraded. CTM is to a high degree robust against these
(comparably minor) degradations.
Life networks in year 2007 most likely deploy the mandatory speech compression
inside the UE (e.g. GSM_FR: 13 kbps or (GSM_)FR_AMR: 4,75 kbps ... 12,2 kbps)
and transcode to PCM (ITU-T G.711, 64 kbps) within the Transcoder Unit (TRAU).
Often the speech (and Modem) signal is then transported in PCM without further
degradation on the A, N, POI, W1, W2 and PA1, PA2 interfaces to PSAP1 or
PSAP2. For eCall via CTM it is, however, not necessary to use PCM. Other,
higher compressed representations of speech would be allowed. The networks do
not need precautions, but can handle eCall like any speech call.
Modern, layered mobile networks use transcoding free operation between UE and
MGW2 and the transcoding to PCM is then performed in MGW2 at the point of
Interconnect (Poi). Ideally also the wireline network and the PSAP could run
transcoding free operation; then the best possible quality with least
bandwidth requirements could be achieved.
In well planned and managed mobile and wireline networks the transport layer
could be IP (VoIP) without noticeable degradation in terms of delay jitter
and/or speech packet loss.\ eCall via CTM would well work in this environment.
So the proposed eCall via CTM would not need any additional equipment except
in the dark green marked blocks IVS and PSAP. The network would not need any
changes or specific precautions.
Please note that no interconnection between PSAP1 and PSAP2 is necessary. Also
no central organisation of eCall data is necessary. The whole eCall system can
be realized by distributed, simple, independent PSAPs. The proposed Pull-
Protocol allows each PSAP to get the relevant data independently of the call
history.
# E.2 Architecture and interfaces for Global Text Telephony
This background chapter is necessary for a better understanding for eCall on a
global scale.
The situation for Global Text Telephony between mobile equipment and
**legacy** emergency centres in USA is very different to eCall via CTM in
Europe. These legacy emergency centres use the Baudot Modem for Text Telephony
(TTY). This has several disadvantages, for example it limits the character
set. The most critical disadvantage is that CTM must be converted to TTY and
vice versa. Figure E-2 shows the necessary CTM/TTY converter between radio
network and mobile core network. A further big complication of this legacy TTY
Modem is arising from the fact that TTY is not robust against speech
compression (the major reason why CTM was developed). Therefore emergency
calls in USA must be routed within the mobile core network and the wireline
(transit) network on PCM links (big red in Figure E-2). The network must take
this into account. End-to-end transcoding free operation is not possible, at
least not until the emergency centres perform an upgrade to CTM and the
CTM/TTY converters are eliminated (as the original intention was).
If VoIP is used somewhere in mobile or wireline networks, then PCM must be
used and also no jitter is allowed, since TTY is very sensitive to delay
jitter.
**Figure E-2:** Network Architecture for Global Text Telephony with legacy TTY
# E.3 Coexistence of Global Text Telephony and eCall via CTM
If eCall via CTM should be introduced into a network that operates Global Text
Telephony via CTM/TTY converters, then - it was argued - this converter would
block the eCall messages. It would try to convert them into TTY sequences and
this would most likely be not fully transparent due to the limited character
set in TTY. A further complication would arise by the fact that Text Messages
would need to be differentiated from eCall Messages.
The method proposed in Annex F follows another route. For eCall via CTM the
56-bit preamble in CTM would be exchanged and an orthogonal 56-bit eCall-
preamble would be used. There exist nearly infinitely many orthogonal
preambles, the easiest to use is a bit-by-bit inverted preamble. The
modification of the existing CTM-SW would be quite simple, but efficient, to
solve the coexistence problem. Let's call this modified version of CTM now
\"CTM*\" (read: CTM-Star).
Then only GTT messages would be detected and converted by the CTM/TTY
converters, while eCall messages would pass transparently and would be
detected by the PSAP only. Figure E-3 shows this in a schematic way.
**Figure E-3:** Coexistence of Global Text Telephony via CTM and eCall via
CTM*
The next and final step is simple to see:\ once the emergency centres are
upgraded for eCall, i.e. once they can send and receive CTM* Modem signals, it
is trivial to send and receive Global Text Telephony also in CTM. The
implementation for Global Text Telephony in the emergency centre \"comes for
free\" by the high synergies between CTM and CTM*.
For a transient time, until all emergency centres are upgraded the mobile
network needs to keep the CTM/TTY converter in the path and the emergency
centres must be able to send and receive also TTY.
After that the CTM/TTY converters can be removed by the mobile operators, thus
saving costs. Not only the CTM/TTY converters can be removed, but also all
restrictions regarding routing and voice compression. Emergency calls with
Global Text Telephony and eCall could be handled like any other voice call.\
This can be regarded as a substantial advantage for mobile and wireline
operators.
The mobile users would in addition experience a better text telephony
performance: less errors, less delay and larger character set.
# E.4 Compatibility of eCall via CTM to IP transport
It was argued that eCall equipped vehicles may last 15 or more years and the
eCall equipment should work unmodified during the whole lifetime of the
vehicle, even when the mobile networks are modified and finally an All-IP
transport is realized.
## E.4.1 Compatibility of eCall via CTM to IP transport on the fixed side
In the chapter above it was argued that the transition to an All-IP transport
in the fixed parts of mobile and wireline networks (excluding the radio
interface!) will most likely not cause malfunctions of eCall via CTM as long
as the delay jitter and packet loss is well under control. Since not only CTM
uses inband Modem technique, but also (for example, not exhaustive) DTMF, TTY,
fax and data calls, it is very reasonable - and rather simple - to keep the
fixed parts of VoIP networks that way. IP-based transport of voice channels is
already today reality in modern layered mobile networks.
## E.4.2 Compatibility of eCall via CTM to IP transport on the Radio Interface
A totally other scenario arises, when also the radio interface is modified to
All-IP, like specified in 3GPP REL-7 for IMS, see TS 26.114 [8]. Then the
harsh radio environment will make it - most likely - impossible to keep the
large IP jitter invisible to the application layer. Adaptive Jitter Buffer
Management was already investigated in TR 26.935 [9]. Any existing Modem
signals, like CTM, TTY and other may fail, if the path delay between sender
and receiver changes that wide during an ongoing data burst and when these
adaptive jitter buffer managements are deployed that \"time-warp\" the voice
path during an ongoing data burst (or talk spurt).
CTM was designed to prevent the Voice Activity Detector (VAD) to trigger and
\"find\" noise parts or pauses in it. So a CTM data burst is always seen as
one single talk spurt and no Discontinuous Transmit (DTX) action is performed.
As long as a jitter buffer would not modify the time line of an active talk
spurt, CTM data bursts would survive very well. However, no exact
specification for sophisticated jitter buffer management is existing today and
so all performance estimations for eCall via CTM for IMS-like voice channels
must remain speculations.
But the important point is: the **now, today**[,]{.underline} existing vehicle
equipment will - of course - then not be able to use this new All-IP radio
interface. Of course it must be exchanged to take the new interface into
account. Why shall that not be possible? It is possible.
It is in general not reasonable to require today, that existing equipment will
be able to use a future (today maybe unknown) standard.
For an All-IP based radio interface and network infrastructure it is, however,
much better to define a parallel data channel for eCall data transport, beside
the voice channel for human communication. IMS has already in REL-7 defined
such a parallel data channel for Global Text Telephony [8]. It is therefore
recommendable to consider a standardized parallel data channel also for eCall
transport, e.g. in 3GPP Rel-8 of IMS.
Then eCall data transport would be much faster and maybe even more reliable.\
The eCall data transfer would not longer block the voice channel and although
eCall via CTM allows always a half-duplex voice communication this is then
even better.
Still the same eCall data structure could be reused, just the transport is
organized in a different way.\ Also the decentralized PSAP structure could be
kept, which has substantial advantages compared to a centralized, meshed PSAP-
organisation.
From a today\'s perspective it is not unlikely that All-IP is realized in pure
wireline networks faster than in wireless systems. That means IMS-based
connectivity to PSAPs may exist earlier that a fully European-wide rolled-out
IMS air interface. Until then no emergency system in any car can rely on IMS
connectivity alone, but must have GSM-based (UMTS-based) voice connectivity as
backup. Or with other words: at the point in time when IMS is fully available
for all IVSs everywhere in Europe, then an end-to-end IMS connectivity for
eCall transfer between IVS and PSAP is likely. Otherwise the fall back is
always eCall via CTM on traditional CS voice channels.
There is no need to consider eCall via CTM via an IMS-voice channel.
###### ### Annex F: Potential for pptimizations of eCall via CTM
# F.1 Potential for optimizations of CTM
As said in earlier chapters CTM was standardized for real time text
communication, but it was not optimized for offline data transport. It has
been shown that \"CTM as is\" can be used for eCall, if the limited transport
capacity is acceptable. But with some minor modifications a so called
\"CTM*\"(read: CTM-Star) could do a better job for eCall.
These modifications to CTM* should include:
1\. Make CTM* receiver and transmitter fully transparent for 8-bit codes.
Then:\ eCall messages are by 14 % faster transmitted (32 bytes instead of 28
bytes);\ the recommended maximal block length would be 32 byte (instead of
28);\ the block indices can range from 0 to 255 (instead of 0 to 127);\ the
Version control can range between 0 and 127 (instead of 0 and 63);\ the CRC
for PSAP-Requests can be improved to a 16-bit CRC (instead of 12 bit);\ the
CRC for IVS-Data can be improved to 32-bit (instead of 28 bit).\ These
improvements are nice to have, they are not essential.
2\. Introduce a separate eCall-preamble in CTM* to differentiate Global Text
Telephony from eCall.\ This is essential or at least very desirable for the
coexistence between eCall and GTT.\ For CTM* the 56-bit preamble in CTM would
be exchanged and an orthogonal 56-bit eCall-preamble would be used. There
exist nearly infinitely many orthogonal preambles, the easiest to use is a
bit-by-bit inverted preamble.\ The modification of the existing CTM-SW is
quite simple, but efficient to solve the coexistence problem. This is
reasonable, but not a requirement today.
The SW-changes to upgrade to CTM* are small and the SW-synergies between CTM
and CTM* are high.
# F.2 Potential for optimizations of the eCall protocol
The proposed simple and straight forward eCall Pull-Protocol (which is not
part of the standardized CTM and not in the scope of 3GPP ) could be designed
to be more sophisticated.
For example the block length for one IVS-Data block could be made channel
adaptive. For good to decent radio channels the whole 140 bytes could then be
transmitted in one single block and the transmission time would then be only
T(140) = 1 400 ms + 140 × 100 ms = 15 400 ms or less than 16 seconds (instead
of 29).
In case of detected errors the block length may then successively be reduced,
down to the proposed length of 28...32 bytes or even below to improve the
robustness further.
#